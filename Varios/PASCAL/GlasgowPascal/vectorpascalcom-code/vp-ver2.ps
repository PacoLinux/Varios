%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: vp-ver2.dvi
%%CreationDate: Wed Jan 09 12:11:37 2002
%%Pages: 25
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Times-Roman Times-Bold Courier Times-Italic
%%+ Times-BoldItalic
%%DocumentPaperSizes: a4
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips vp-ver2
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2002.01.09:1206
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "1 July 1998",
%   filename = "8r.enc",
%   email = "tex-fonts@@tug.org",
%   docstring = "Encoding for TrueType or Type 1 fonts
%                to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both 
% ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (vp-ver2.dvi)
@start
%DVIPSBitmapFont: Fa cmbx10 10 1
/Fa 1 108 df<13FFB5FCA412077EAF92380FFFE0A4923803FC0016F0ED0FE0ED1F804B
C7FC157E5DEC03F8EC07E04A5A141FEC7FE04A7E8181A2ECCFFEEC0FFF496C7F806E7F6E
7F82157F6F7E6F7E82150F82B5D8F83F13F8A42D3A7EB932>107
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fb cmsy7 7 2
/Fb 2 51 df<B712FEA327037A8F34>0 D<49B5FC130F133F01FFC7FCEA01F8EA03E0EA
078048C8FC121E121C123C123812781270A212F05AA2B7FCA300E0C8FCA27E1270A21278
1238123C121C121E7E6C7EEA03E0EA01F86CB4FC013FB5FC130F130120277AA12D>50
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fc cmsy8 8 2
/Fc 2 5 df<B812C0A32A037A9137>0 D[<EC0F804A7E4A7EA56E5A6E5A91C9FCAAB812
F8A3CBFCAAEC0F804A7E4A7EA56E5A6E5A>45 41 124 164 54 4
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fd cmr8 8 6
/Fd 6 57 df<13031307130E131C1338137013F0EA01E013C01203EA0780A2EA0F00A212
1EA35AA45AA512F8A25AAB7EA21278A57EA47EA37EA2EA0780A2EA03C0120113E0EA00F0
13701338131C130E1307130310437AB11B>40 D<12C07E12707E7E7E120FEA0780120313
C0EA01E0A2EA00F0A21378A3133CA4131EA5131FA2130FAB131FA2131EA5133CA41378A3
13F0A2EA01E0A2EA03C013801207EA0F00120E5A5A5A5A5A10437CB11B>I<EC0380B3A4
B812FCA3C7D80380C7FCB3A42E2F7CA737>43 D<130C133C137CEA03FC12FFEAFC7C1200
B3B113FE387FFFFEA2172C7AAB23>49 D<EB7F803801FFF0380780FC380E003F48EB1F80
48EB0FC05A0060EB07E012F000FC14F07E1403A3007C1307C7FCA215E0140F15C0141F15
80EC3F00147E147C5C495A495A495A495A011EC7FC5B5B4913305B485A4848136048C7FC
000E14E0001FB5FC5A4814C0B6FCA21C2C7DAB23>I<EB1FC0EBFFF03803E07C3807801E
48487E001EEB0780A248EB03C0A4123E1407003F1480381FC00F01E01300EBF81E6C6C5A
3807FFF86C13E0C6FCEB3FF8EBFFFC3803C7FFD807831380D81F0013C0001E133F48EB1F
E0007C13070078EB03F012F84813011400A46C14E000781301007C14C0003C13036CEB07
80390F800F003807E03C3801FFF038003FC01C2D7DAB23>56 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fe cmmi8 8 2
/Fe 2 113 df<EE01C01607161FEE7F00ED01FCED07F0ED1FC0037FC7FCEC01FCEC07F0
EC0FC0023FC8FC14FCEB03F8EB0FE0EB3F8001FEC9FCEA03F8EA0FE0EA3F8000FECAFC12
F812FEEA3F80EA0FE0EA03F8EA00FEEB3F80EB0FE0EB03F8EB00FC143FEC0FC0EC07F0EC
01FCEC007FED1FC0ED07F0ED01FCED007FEE1FC0160716012A2B7AA537>60
D<90387C01F89038FE07FE3901CF8E0F3A03879C0780D907B813C0000713F000069038E0
03E0EB0FC0000E1380120CA2D8081F130712001400A249130F16C0133EA2017EEB1F80A2
017C14005D01FC133E5D15FC6D485A3901FF03E09038FB87C0D9F1FFC7FCEBF0FC000390
C8FCA25BA21207A25BA2120FA2EAFFFCA2232B829D24>112 D E
%EndDVIPSBitmapFont
/Ff 138[37 22 26 29 2[33 37 1[18 5[22 29 37 29 1[33 97[{
TeXBase1Encoding ReEncodeFont}12 66.4176 /Times-Bold
rf /Fg 134[37 4[23 5[46 4[23 3[37 42 100[{TeXBase1Encoding ReEncodeFont}
6 83.022 /Times-BoldItalic rf
%DVIPSBitmapFont: Fh cmex10 10 3
/Fh 3 89 df<BB12FC86A3D87FC0C9001F7FF0007F6C6C17076C6C050113806C6CEF007F
1A1F6C6CF00FC06C6C18076C6C1803F201E06C6D17006D6C1860013F19706E18306D7E6D
6C18181B006D7E6D7E6D7EA26D7F6E7E6E7EA26E7E6E7E6E7EA26E7E6E7E80826F7E6F7E
A26F7E6F7E6F5A5EA24B5A5E4BCBFC153E157E5D5D4A5A4A5A14075D4A5A4ACCFC143E14
7E147C5C4948181801031930495A4A18704948186049CC12E0491801017EF003C0017C18
0749180F4848F01F800003197F49EF01FF4848050713004848173F48CA000FB5FC48BA5A
A25ABB5AA24D537B7F58>80 D<BB12E0A4000F90C9381FFE00000318F86C606C60B3B3B3
AF486D4B7E486D4B7E000F01F0913801FFFEB6021FEBFFE0A443537B7F4E>I<BF12E08A
A38A6C90CCFC0900806C6D19076C6D07007F6C6D1A1F1D076C6DF201FF6C6D747E6C6DF3
3F801E0F6C6D1B076D6CF303C06D6D1A01F600E06D7F6D6D1B706D1D30816D6D1B186D6D
1B007F816E7E6E7FA26E7F6E7F6E7FA26E7F6E7F6E7FA26F7E6F7F6F7FA26F7F6F7F8183
6F7F6F7F167F83707F707F8284707F707FA2707F82715A60173F715A604D5A4DCDFC17FE
A24C5A4C5A4C5A4C5A4C5A5F163F4CCEFC16FE4B5A4B5A4B5AA24B5A4B5A4B5A4BCFFC15
FEA24A5A4A5A4A481B184A481B304A5A4B1B70023F1C604ACF12E002FE1B014948F303C0
49481B074948F30F801E1F49481B7F4948F3FF0049481A0349CE120F01FEF37FFEF403FF
48481A7F4848077FB55A48BEFC48655AA248655ABFFC666D747B7F78>88
D E
%EndDVIPSBitmapFont
/Fi 130[33 1[33 37 42 42 60 42 46 28 32 37 46 46 42 46
69 23 46 28 23 46 42 28 37 46 37 46 42 3[28 23 28 2[60
83 1[60 1[46 60 1[51 65 1[78 55 3[65 65 51 55 60 1[55
60 77 1[47 47 47 28 28 42 42 42 42 42 42 42 42 42 42
23 21 28 21 47 42 28 28 28 39[{TeXBase1Encoding ReEncodeFont}72
83.022 /Times-Bold rf /Fj 200[25 25 25 25 25 25 25 49[{
TeXBase1Encoding ReEncodeFont}7 49.8132 /Times-Roman
rf /Fk 200[29 29 29 29 29 29 29 49[{TeXBase1Encoding ReEncodeFont}7
58.1154 /Times-Roman rf
%DVIPSBitmapFont: Fl cmr7 7 5
/Fl 5 52 df<140EB3A2B812E0A3C7000EC8FCB3A22B2B7DA333>43
D<EB3F803801FFF03803E0F83807803C48487E001E7F003E1480A2003C1307007C14C0A4
00FC14E0AE007C14C0A36CEB0F80A36CEB1F006C131E6C6C5A3803E0F86CB45A38003F80
1B277EA521>48 D<13381378EA01F8121F12FE12E01200B3AB487EB512F8A215267BA521
>I<13FF000313E0380E03F0381800F848137C48137E00787F12FC6CEB1F80A4127CC7FC
15005C143E147E147C5C495A495A5C495A010EC7FC5B5B903870018013E0EA0180390300
030012065A001FB5FC5A485BB5FCA219267DA521>I<13FF000313E0380F01F8381C007C
0030137E003C133E007E133FA4123CC7123E147E147C5C495AEB07E03801FF8091C7FC38
0001E06D7E147C80143F801580A21238127C12FEA21500485B0078133E00705B6C5B381F
01F03807FFC0C690C7FC19277DA521>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fm cmmi7 7 8
/Fm 8 122 df<1238127C12FE12FFA2127F123B1203A31206A3120C1218123812701220
08127A8614>59 D<013FB512F816FF903A01FC001FC04AEB07E0EE03F001031401A24A14
F8A2130717F04A130317E0010F1407EE0FC04AEB1F80EE7E00011F495A91B512F0A29138
8001FC013FEB007E8291C7EA1F80160F4915C0A2137EA213FEEE1F805BEE3F000001153E
16FE49EB01F84B5A0003EC1FC0B7C7FC15F82D287DA732>66 D<15F8141FA2EC01F0A214
03A215E0A21407A215C0A2140FEB1F8F90387FCF80EBF0EF3803C03FEA0780390F001F00
A2001E5B123E003C133E127C147E5A147CA214FC5AECF830A3903801F060A2EA7803010E
13C0393C1CF980381FF07F3907C01E001D297CA723>100 D<130E131F5BA2133E131C90
C7FCA7EA03E0487EEA0C78EA187C1230A212605B12C0A2EA01F0A3485AA2485AA2EBC180
EA0F81A2381F0300A213066C5A131CEA07F06C5A11287DA617>105
D<1407EC0F80141FA21500140E91C7FCA7EB03E0EB07F8EB0C3C1318EB303E136013C0A2
48485AA2C7FCA25CA4495AA4495AA4495AA4495AA21238D87C1FC7FC12FC133E485AEA70
F8EA7FE0EA1F80193380A61B>I<3907801FC0390FE07FF03918F0E0F83930F1807CEBFB
00D860FE133C5B5B00C1147C5B1201A248485BA34A5AEA07C01660EC03E0A23A0F8007C0
C0A2EDC180913803C300D81F0013C7EC01FE000EEB00F8231B7D9929>110
D<90387C03C03901FF0FF03907079C30390E03B078000CEBF0F8001813E1123015F03960
07C0E015001200A2495AA449C7FC15301238007C1460EAFC3E15C0EAF87E39F06F038039
70C70700383F83FE381F01F81D1B7D9926>120 D<EA03E0486C1370D80C7813F8EA187C
0030EB01F0A2126013F800C0EB03E0A2EA01F0A2EC07C0EA03E0A33907C00F80A4EC1F00
A25C00035B3801E0FE3800FFBEEB3F3E13005C121E003F5B5C387E01E0383C03C0383007
80D81C1FC7FCEA0FFCEA07F01D267D9922>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fn cmr10 10 18
/Fn 18 112 df<011FB512FEA39026001FFEC8FCEC07F8A8EC3FFE0103B512E0D91FF713
FC90397F07F87F01FCEC1F80D803F8EC0FE0D807F06E7ED80FE06E7E001F82D83FC06E7E
A2007F8201808000FF1780A7007F170001C05C003F5EA2D81FE04A5A000F5ED807F04A5A
D803F84A5AD800FCEC1F80017F027FC7FC90391FF7FFFC0103B512E09026003FFEC8FCEC
07F8A8EC1FFE011FB512FEA331397BB83C>8 D<146014E0EB01C0EB0380EB0700130E13
1E5B5BA25B485AA2485AA212075B120F90C7FCA25A121EA2123EA35AA65AB2127CA67EA3
121EA2121F7EA27F12077F1203A26C7EA26C7E1378A27F7F130E7FEB0380EB01C0EB00E0
1460135278BD20>40 D<12C07E12707E7E7E120F6C7E6C7EA26C7E6C7EA21378A2137C13
3C133E131EA2131F7FA21480A3EB07C0A6EB03E0B2EB07C0A6EB0F80A31400A25B131EA2
133E133C137C1378A25BA2485A485AA2485A48C7FC120E5A5A5A5A5A13527CBD20>I<15
301578B3A6007FB812F8B912FCA26C17F8C80078C8FCB3A6153036367BAF41>43
D<EB03F8EB1FFF90387E0FC09038F803E03901E000F0484813780007147C48487FA248C7
7EA2481580A3007EEC0FC0A600FE15E0B3007E15C0A4007F141F6C1580A36C15006D5B00
0F143EA26C6C5B6C6C5B6C6C485A6C6C485A90387E0FC0D91FFFC7FCEB03F8233A7DB72A
>48 D<EB01C013031307131F13FFB5FCA2131F1200B3B3A8497E007FB512F0A31C3879B7
2A>I<EB0FF0EB7FFE48B57E3903E03FE0390F000FF0000E6D7E486D7E486D7E12300070
6D7E126012FCB4EC7F807FA56CC7FC121CC8FCEDFF00A34A5A5D14035D4A5A5D140F4A5A
4A5A92C7FC147C5C495A495A495A495A91C8FC011EEB01805B5B49130348481400485A48
5A000EC75A000FB6FC5A5A485CB6FCA321387CB72A>I<EB07F8EB3FFF4913C03901F80F
F03903C007F848486C7E380E0001000F80381FE0006D7FA56C5A6C5AC85A1401A25D4A5A
A24A5A5DEC0F80027EC7FCEB1FFCECFF809038000FE06E7EEC01FC816E7EED7F80A216C0
A2153F16E0A2121EEA7F80487EA416C049137F007F1580007EC7FC0070ECFF006C495A12
1E390F8003F83907F00FF00001B512C06C6C90C7FCEB0FF8233A7DB72A>I<1538A21578
15F8A2140114031407A2140F141F141B14331473146314C313011483EB03031307130613
0C131C131813301370136013C01201EA038013005A120E120C5A123812305A12E0B712F8
A3C73803F800AB4A7E0103B512F8A325397EB82A>I<0006140CD80780133C9038F003F8
90B5FC5D5D158092C7FC14FC38067FE090C9FCABEB07F8EB3FFE9038780F803907E007E0
90388003F0496C7E12066E7EC87EA28181A21680A4123E127F487EA490C71300485C12E0
00605C12700030495A00385C6C1303001E495A6C6C485A3907E03F800001B5C7FC38007F
FCEB1FE0213A7CB72A>I<EC3FC0903801FFF0010713FC90380FE03E90383F800790387E
001F49EB3F804848137F485AA2485A000FEC3F0049131E001F91C7FCA2485AA3127F90C9
FCEB01FC903807FF8039FF1E07E090383801F0496C7E01607F01E0137E497FA249148016
C0151FA290C713E0A57EA56C7E16C0A2121FED3F807F000F15006C6C5B15FE6C6C5B6C6C
485A3900FE07F090383FFFC06D90C7FCEB03FC233A7DB72A>I<121C127FEAFF80A5EA7F
00121CC7FCB2121C127FEAFF80A5EA7F00121C092479A317>58 D<007FB812F8B912FCA2
6C17F8CCFCAE007FB812F8B912FCA26C17F836167B9F41>61 D<EAFFF8A4EAF000B3B3B3
B3A3EAFFF8A40D5378BD17>91 D<EAFFF8A4EA0078B3B3B3B3A3EAFFF8A40D537FBD17>
93 D<ED03F090390FF00FF890393FFC3C3C9039F81F707C3901F00FE03903E007C03A07
C003E010000FECF000A248486C7EA86C6C485AA200075C6C6C485A6D485A6D48C7FC3807
3FFC38060FF0000EC9FCA4120FA213C06CB512C015F86C14FE6CECFF804815C03A0F8000
7FE048C7EA0FF0003E140348140116F8481400A56C1401007C15F06CEC03E0003F1407D8
0F80EB0F80D807E0EB3F003901FC01FC39007FFFF0010790C7FC26387EA52A>103
D<EA03F012FFA3120F1203B3B3AD487EB512C0A3123A7EB917>108
D<EB03FE90380FFF8090383E03E09038F800F84848137C48487F48487F4848EB0F80001F
15C090C712074815E0A2007EEC03F0A400FE15F8A9007E15F0A2007F14076C15E0A26C6C
EB0FC0000F15806D131F6C6CEB3F006C6C137EC66C13F890387E03F090381FFFC0D903FE
C7FC25277EA52A>111 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fo cmmi10 10 38
/Fo 38 123 df<137013FC1201A25BA212035BA312075BA3120F5BA2121F5BA3123F90C7
FCA2481318127E143800FE133048137014604813E0EB01C0EB0380EB0700130EEA783CEA
3FF0EA0FC015267BA41D>19 D<EB0380D907E01307010FEC0F80161F5CA2011F143FA24A
1400A2013F5CA291C7127EA24914FEA2017E5CA201FE1301A2495CA200011403A249ECF0
18A2000314071738EEE030150F00071670031F1360153F6D017713E0486C9038E3E1C090
3AFF03C1F380903ACFFF00FF00D9C3FC133ED81FC0C9FCA25BA2123FA290CAFCA25AA212
7EA212FEA25AA212702D377EA432>22 D<1503A35DA21506A2150EA2150CA2151CA21518
A21538A21530A21570A2EC07FE91383FFFC0903901FCE3F0903907E0E0F890391F80C03E
D93E007FEB7C01D801F8EC0F80D803F0018013C0D807E014071403D80FC015E0D81F8013
00A248485AA2007E1306A2020E130F12FE48010C14C0A2021CEB1F80A20218EB3F00A202
38137E007C5D1430007E4A5A003E90387003F06CEC07C09138600F80D80F80013FC7FC39
03E0E0FC3901F8E7F039007FFF80D90FFCC8FCEB01C0A25CA21303A291C9FCA25BA21306
A2130EA2130CA22B4B7CB931>30 D<0140151E01E0153F00015E484816805B120790C912
3F000E161F170F5A1707481700A2003014C014010070010314061260A2170E00E0494813
0C5A171C92C7FC5FA26C495C4A14F04A7E6C017F495A4A6C485A3AF801F7E00F3BFE0FF3
F83F80267FFFE3B5FC02C191C7FC6C01815B02005BD80FFCEB7FF0D803F0EB0FC031267F
A434>33 D<121C127FEAFF80A5EA7F00121C0909798817>58 D<121C127FEAFF80A213C0
A3127F121C1200A412011380A2120313005A1206120E5A5A5A12600A19798817>I<EF03
80EF0FC0173FEFFF80933803FE00EE0FF8EE3FE0EEFF80DB03FEC7FCED0FF8ED3FE0EDFF
80DA03FEC8FCEC0FF8EC3FE0ECFF80D903FEC9FCEB0FF8EB3FE0EBFF80D803FECAFCEA0F
F8EA3FE0EA7F8000FECBFCA2EA7F80EA3FE0EA0FF8EA03FEC66C7EEB3FE0EB0FF8EB03FE
903800FF80EC3FE0EC0FF8EC03FE913800FF80ED3FE0ED0FF8ED03FE923800FF80EE3FE0
EE0FF8EE03FE933800FF80EF3FC0170FEF0380323279AD41>I<150C151E153EA2153C15
7CA2157815F8A215F01401A215E01403A215C01407A21580140FA215005CA2141E143EA2
143C147CA2147814F8A25C1301A25C1303A2495AA25C130FA291C7FC5BA2131E133EA213
3C137CA2137813F8A25B1201A25B1203A25B1207A25B120FA290C8FC5AA2121E123EA212
3C127CA2127812F8A25A12601F537BBD2A>I<126012FCB4FCEA7FC0EA1FF0EA07FCEA01
FF38007FC0EB1FF0EB07FCEB01FF9038007FC0EC1FF0EC07FCEC01FF9138007FC0ED1FF0
ED07FCED01FF9238007FC0EE1FF0EE07FCEE01FF9338007F80EF1FC0A2EF7F80933801FF
00EE07FCEE1FF0EE7FC04B48C7FCED07FCED1FF0ED7FC04A48C8FCEC07FCEC1FF0EC7FC0
4948C9FCEB07FCEB1FF0EB7FC04848CAFCEA07FCEA3FF0EA7FC048CBFC12FC1270323279
AD41>I<1760177017F01601A21603A21607160FA24C7EA216331673166316C3A2ED0183
A2ED0303150683150C160115181530A21560A215C014011580DA03007FA202061300140E
140C5C021FB5FC5CA20260C7FC5C83495A8349C8FC1306A25BA25B13385B01F01680487E
000716FFB56C013F13FF5EA2383C7DBB3E>65 D<0103B77E4916F018FC903B0007F80003
FE4BEB00FFF07F80020FED3FC0181F4B15E0A2141FA25DA2143F19C04B143F1980027F15
7F190092C812FE4D5A4A4A5AEF0FF04AEC1FC005FFC7FC49B612FC5F02FCC7B4FCEF3FC0
0103ED0FE0717E5C717E1307844A1401A2130F17035CA2131F4D5A5C4D5A133F4D5A4A4A
5A4D5A017F4BC7FC4C5A91C7EA07FC49EC3FF0B812C094C8FC16F83B397DB83F>I<9339
FF8001C0030F13E0037F9038F80380913A01FF807E07913A07F8000F0FDA1FE0EB079FDA
3F80903803BF0002FFC76CB4FCD901FC80495A4948157E495A495A4948153E017F163C49
C9FC5B1201484816385B1207485A1830121F4993C7FCA2485AA3127F5BA312FF90CCFCA4
1703A25F1706A26C160E170C171C5F6C7E5F001F5E6D4A5A6C6C4A5A16076C6C020EC8FC
6C6C143C6C6C5C6CB4495A90393FE00FC0010FB5C9FC010313FC9038007FC03A3D7CBA3B
>I<0103B7FC4916E018F8903B0007F80007FE4BEB00FFF03F80020FED1FC0180F4B15E0
F007F0021F1503A24B15F81801143F19FC5DA2147FA292C8FCA25C18035CA2130119F84A
1507A2130319F04A150FA2010717E0181F4A16C0A2010FEE3F80A24AED7F00187E011F16
FE4D5A4A5D4D5A013F4B5A4D5A4A4A5A057FC7FC017F15FEEE03FC91C7EA0FF049EC7FC0
B8C8FC16FC16C03E397DB845>I<0103B812F05BA290260007F8C7123F4B1407F003E002
0F150118005DA2141FA25D19C0143FA24B1330A2027F1470190092C7126017E05C16014A
495A160F49B6FCA25F9138FC000F01031407A24A6DC8FCA201075C18034A130660010F16
0693C7FC4A150E180C011F161C18184A1538A2013F5E18F04A4A5AA2017F15074D5A91C8
123F49913803FF80B9FCA295C7FC3C397DB83D>I<0103B5D8F803B512F8495DA2902600
07F8C73807F8004B5DA2020F150F615DA2021F151F615DA2023F153F615DA2027F157F96
C7FC92C8FCA24A5D605CA249B7FC60A202FCC7120101031503605CA201071507605CA201
0F150F605CA2011F151F605CA2013F153F605CA2017F157F95C8FC91C8FC496C4A7EB690
B6FCA345397DB845>72 D<0107B512FCA216F890390007F8005DA2140FA25DA2141FA25D
A2143FA25DA2147FA292C7FCA25CA25CA21301A25CA21303A25CA21307A25CA2130FA25C
A2131FA25CA2133FA25CA2137FA291C8FC497EB6FCA326397DB824>I<0103B500F89038
07FFFC5BA290260007F8C813804BEDFC0019F0020F4B5AF003804B4AC7FC180E021F1538
604B5CEF0380023F4AC8FC170E4B133C1770027F5C4C5ADB0007C9FC160E4A5B167E4A13
FE4B7E01015B92380E7F80ECFC1CED383F010301E07FECFDC04A486C7EECFF00D907FC6D
7E5C4A130783130F707E5C1601011F81A24A6D7EA2013F6F7EA24A143F84137F717E91C8
123F496C81B60107B512C0A26146397DB847>75 D<0103B6FC5B5E90260007FCC8FC5D5D
140FA25DA2141FA25DA2143FA25DA2147FA292C9FCA25CA25CA21301A25CA21303A25CA2
130718404A15C0A2010F150118804A1403A2011F16005F4A1406170E013F151E171C4A14
3C177C017F5D160391C7120F49EC7FF0B8FCA25F32397DB839>I<0103B7FC4916E018F8
903B0007F80007FC4BEB00FE187F020FED3F80F01FC05DA2021F16E0A25DA2143FF03FC0
5DA2027FED7F80A292C8130018FE4A4A5A604AEC07F04D5A0101ED3FC04CB4C7FC91B612
FC17E0D903FCCAFCA25CA21307A25CA2130FA25CA2131FA25CA2133FA25CA2137FA291CB
FC497EB6FCA33B397DB835>80 D<92391FE00380DBFFFC130002036D5A91390FE01F8F91
393F0007DF027EEB01FE02F81300495A4948147E177C4948143C495AA2011F153891C8FC
A3491530A28094C7FC80806D7E14FEECFFE06D13FE6DEBFFC06D14F06D806D80021F7F02
037FEC003F03037F1500167F163F161FA3120C160FA2001C151F94C7FCA3003C153EA25E
003E5D127E007F4A5A6D495A6DEB0FC0D8F9F0495AD8F0FE01FEC8FC39E03FFFF8010F13
E0D8C00190C9FC313D7CBA33>83 D<0003B812FEA25A903AF8003FC00101C0913880007E
4848163C90C7007F141C121E001C92C7FCA2485CA200305C007017180060130112E0485C
A21403C716005DA21407A25DA2140FA25DA2141FA25DA2143FA25DA2147FA292C9FCA25C
A25CA21301A25CA21303A25CEB0FFC003FB6FC5AA237397EB831>I<49B500F890387FFF
F095B5FC1AE0D90003018090380FFC004BC713E00201ED07804EC7FC6E6C140E606F5C70
5B606F6C485A4D5A031F91C8FCEEE0065F6F6C5A5F03075B705A16F96FB45A94C9FC6F5A
A36F7EA34B7FED037F9238063FC0150E4B6C7E1538ED700F03E07F15C04A486C7EEC0300
020613034A805C4A6D7E14704A1300494880495A49C86C7E130E011E153F017E4B7ED803
FF4B7E007F01E0011FEBFFC0B5FC6144397EB845>88 D<147E903803FF8090390FC1C380
90391F00EFC0017E137F49133F485A4848EB1F8012075B000F143F48481400A2485A5D00
7F147E90C7FCA215FE485C5AA214015D48150CA21403EDF01C16181407007C1538007E01
0F1330003E131F027B13706C01E113E03A0F83C0F9C03A03FF007F80D800FCEB1F002626
7DA42C>97 D<133FEA1FFFA3C67E137EA313FE5BA312015BA312035BA31207EBE0FCEBE3
FF9038E707C0390FFE03E09038F801F001F013F8EBE000485A15FC5BA2123F90C7FCA214
015A127EA2140312FE4814F8A2140715F05AEC0FE0A215C0EC1F80143F00781400007C13
7E5C383C01F86C485A380F07C06CB4C7FCEA01FC1E3B7CB924>I<EC3FC0903801FFF090
3807E03C90380F800E90383F0007017E131F49137F484813FF485A485A120F4913FE001F
143848481300A2127F90C8FCA35A5AA45AA315031507007E1406150E003E143C003F1470
6C14E0390F8007C03907C03F003801FFF838003FC020267DA424>I<163FED1FFFA3ED00
7F167EA216FEA216FCA21501A216F8A21503A216F0A21507A2027E13E0903803FF879038
0FC1CF90381F00EF017EEB7FC049133F485A4848131F000715805B000F143F485A160048
5A5D127F90C7127EA215FE5A485CA21401A248ECF80CA21403161CEDF0181407007C1538
007E010F1330003E131F027B13706C01E113E03A0F83C0F9C03A03FF007F80D800FCEB1F
00283B7DB92B>I<EC3FC0903801FFF0903807E07890381F801C90387E001E49130E485A
485A1207485A49131E001F141C153C484813F8EC03E0007FEB3FC09038FFFE0014E090C8
FC5A5AA7007E140315071506003E140E153C6C14706C6C13E0EC07C03903E03F003801FF
F838003FC020267DA427>I<EC07E0EC1FF891387C1C38903901F80EFC903803F0079038
07E003EB0FC090381F8001D93F0013F85B017E130313FE16F0485A150712034914E0A215
0F12074914C0A2151FA2491480A2153FA2160000035C6D5B00015B4A5A3900F8077E9038
7C1EFEEB1FF8903807E0FC90C7FC1401A25DA21403001E5C123F387F80075D00FF495A49
485A4849C7FC007C137E383C01F8381FFFE0000390C8FC26367FA428>103
D<14E0EB03F8A21307A314F0EB01C090C7FCAB13F8EA03FEEA070F000E1380121C121812
381230EA701F1260133F00E0130012C05BEA007EA213FE5B1201A25B12035BA200071318
13E01438000F133013C01470EB806014E014C01381EB838038078700EA03FEEA00F81539
7EB71D>105 D<150FED3F80A2157FA31600151C92C7FCABEC0F80EC3FE0ECF0F0903801
C0F849487E14005B130E130C131CEB1801133801305BA2EB0003A25DA21407A25DA2140F
A25DA2141FA25DA2143FA292C7FCA25CA2147EA214FEA25CA21301001E5B123F387F83F0
A238FF87E0495A00FE5BD87C1FC8FCEA707EEA3FF8EA0FC0214981B722>I<EB03F0EA01
FFA3EA00075CA3130F5CA3131F5CA3133F91C8FCA35B017EEB07C0ED1FF0ED783801FEEB
E0F89039FC01C1FCEC0383EC07070001130ED9F81C13F891383803F091387001E0000349
C7FCEBF1C0EBF38001F7C8FCEA07FEA2EBFFE0EBE7F8380FE0FEEBC07F6E7E141F001F80
D9800F1330A21670003F011F136001001380A216E04815C0007E1481020F1380158300FE
903807870048EB03FE0038EB00F8263B7CB92B>I<D803E0137F3A07F801FFE03A0E3C07
81F03A1C3E1E00F826383F387F00305B4A137C00705B00605BA200E090C712FC485A137E
A20000140101FE5C5BA2150300015D5B15075E120349010F133016C0031F13700007ED80
605B17E0EE00C0000F15014915801603EE0700001FEC0F0E49EB07FC0007C7EA01F02C26
7EA432>110 D<3903E001F83907F807FE390E3C1E07391C3E381F3A183F703F800038EB
E07F0030EBC0FF00705B00601500EC007E153CD8E07F90C7FCEAC07EA2120013FE5BA312
015BA312035BA312075BA3120F5BA3121F5B0007C9FC21267EA425>114
D<EB01C0497E1307A4130F5CA3131F5CA3133F91C7FC007FB51280A2B6FCD8007EC7FCA3
13FE5BA312015BA312035BA312075BA3120FEBC006A2140E001F130CEB801C141814385C
146014E0380F81C038078780D803FEC7FCEA00F819357EB31E>116
D<01F8EB03C0D803FEEB07E0D8070F130F000E018013F0121C12180038140700301403D8
701F130112601500D8E03F14E000C090C7FC5BEA007E16C013FE5B1501000115805B1503
16001203495B1506150E150C151C151815385D00015C6D485A6C6C485AD97E0FC7FCEB1F
FEEB07F024267EA428>118 D<903907E001F090391FF807FC9039783E0E0F9039E01F1C
1FD801C09038383F803A03800FF07F0100EBE0FF5A000E4A1300000C157E021F133C001C
4AC7FC1218A2C7123FA292C8FCA25CA2147EA214FEA24A130CA20101141C001E1518003F
5BD87F81143801835C00FF1560010714E03AFE0E7C01C0D87C1C495A2778383E0FC7FC39
1FF00FFC3907C003F029267EA42F>120 D<13F8D803FE1470D8070F14F8000EEB800112
1C121800381403003015F0EA701F1260013F130700E0010013E012C05BD8007E130F16C0
13FE5B151F000115805BA2153F000315005BA25D157EA315FE5D1401000113033800F807
90387C1FF8EB3FF9EB0FE1EB00035DA2000E1307D83F805B007F495AA24A5A92C7FCEB00
3E007C5B00705B6C485A381E07C06CB4C8FCEA01FC25367EA429>I<D901E01360D90FF8
13E0496C13C090383FFE0190397FFF038090B5EA07009038F81FFF3901E003FE9038C000
1C495B5DC85A4A5A4A5A4AC7FC140E5C5C14F0495AEB038049C8FC130E5B4913035B495B
484813064848130E48C75AD80FFC137C391FFF81F8381E0FFFD838075B486C5B00605CD8
E00190C7FC38C0007C23267DA427>I E
%EndDVIPSBitmapFont
/Fp 134[37 37 2[42 23 32 32 1[42 42 42 60 23 2[23 2[23
37 42 37 42 42 47[42 42 2[28 1[56 43[{TeXBase1Encoding ReEncodeFont}22
83.022 /Times-Italic rf /Fq 134[50 50 72 1[55 33 39 44
1[55 50 55 83 28 55 1[28 55 50 33 44 55 44 1[50 10[72
1[66 55 72 1[61 78 1[94 66 2[39 1[78 1[66 72 72 1[72
9[50 50 50 50 50 50 50 2[25 43[55 2[{TeXBase1Encoding ReEncodeFont}44
99.6264 /Times-Bold rf /Fr 134[33 33 48 33 33 18 26 22
33 33 33 33 52 18 33 1[18 33 33 22 29 33 29 33 29 9[63
48 1[41 37 2[37 48 48 59 41 1[26 22 1[48 1[41 48 44 1[48
11[33 2[33 33 33 1[17 22 17 6[55 37[{TeXBase1Encoding ReEncodeFont}48
66.4176 /Times-Roman rf
%DVIPSBitmapFont: Fs cmsy10 10 12
/Fs 12 111 df<007FB81280B912C0A26C17803204799641>0 D<0060150600F8150F6C
151F007E153F6C157E6C6C14FC6C6CEB01F86C6CEB03F06C6CEB07E06C6CEB0FC06C6CEB
1F80017EEB3F006D137E6D6C5A90380FC1F8903807E3F0903803F7E06DB45A6D5B6EC7FC
A24A7E497F903803F7E0903807E3F090380FC1F890381F80FC90383F007E017E7F49EB1F
804848EB0FC04848EB07E04848EB03F04848EB01F84848EB00FC48C8127E007E153F4815
1F48150F00601506282874A841>2 D<EB0380497EA7397803803C00FC147E00FE14FE39
7F8383FC393FC387F8390FE38FE03903FBBF803900FFFE00EB3FF8EB0FE0A2EB3FF8EBFF
FE3903FBBF80390FE38FE0393FC387F8397F8383FC39FE0380FE00FC147E0078143C3900
07C000A76D5A1F247BA62A>I<EC03FF023F13F09138FC00FCD903C0130F010FC7EA03C0
013CEC00F0017015384981484881486C151FD80770ED3B80D806381571D80E1CEDE1C048
6C913801C0E0D818079138038060263803809038070070263001C0010E13306D6C5B0070
017049133800606D4913186E5B00E06D4848131C486D4848130CDA0387C7FCEC01CEEC00
FC1578A215FCEC01CEEC038791380703806C90260E01C0131C0060496C6C13184A137000
70496D13380030496D133049487F263803806D1370D81807C738038060D81C0E913801C0
E06C48913800E1C0D80638ED7180D80770153B6C48ED1F006C48150E6C6C5D01705D013C
15F0010FEC03C0D903C0010FC7FCD900FC13FC91383FFFF0020390C8FC36367BAF41>10
D<EC03FF023F13F09138FC00FCD903C0130F010FC7EA03C0013CEC00F001701538498148
488148488148C9EA038000061601000E17C048EE00E0001817600038177000301730A200
70173800601718A200E00278141C48D901FE140C4A7EA24A7FA46E90C7FCA26E5A6CD900
78141C006091C81218A20070173800301730A20038177000181760001C17E06CEE01C000
061780000716036C6CED07006C6C150E6C6C5D01705D013C15F0010FEC03C0D903C0010F
C7FCD900FC13FC91383FFFF0020390C8FC36367BAF41>12 D<EB1FF0EBFFFE487F000714
C04814E04814F04814F8A24814FCA3B612FEA96C14FCA36C14F8A26C14F06C14E06C14C0
000114006C5BEB1FF01F1F7BA42A>15 D<EF0180EF07C0171FEF7F80933801FF00EE07FC
EE1FF0EE7FC04B48C7FCED07FCED1FF0ED7FC04A48C8FCEC07FCEC1FF0EC7FC04948C9FC
EB07FCEB1FF0EB7FC04848CAFCEA07FCEA3FF0EA7FC048CBFC5AEA7F80EA3FE0EA0FF8EA
03FEC66C7EEB3FE0EB0FF8EB03FE903800FF80EC3FE0EC0FF8EC03FE913800FF80ED3FE0
ED0FF8ED03FE923800FF80EE3FE0EE0FF8EE03FE933800FF80EF3FC0170FEF038094C7FC
AE007FB81280B912C0A26C1780324479B441>20 D<181EA4181F84A285180785727EA272
7E727E85197E85F11F80F10FC0F107F0007FBA12FCBCFCA26C19FCCCEA07F0F10FC0F11F
80F13F00197E61614E5A4E5AA24E5A61180F96C7FCA260181EA4482C7BAA53>33
D<1430A31478A314FCA2497EA2497E497FA2497F90381F7BE090383E79F09038FC78FCD8
01F8137ED807F0EB3F80D83FE0EB1FF0D8FF80EB07FCD8FE00130100F8EC007C00C0150C
C71400B3B3AD1430264A7EB92A>I<0060161800F0163C6C167CA200781678007C16F8A2
003C16F0003E1501A26CED03E0A26C16C06D1407A2000716806D140FA26C6CEC1F00A26C
B612FEA36C5D01F8C7127CA2017C5CA2013C5C013E1301A2011E5C011F1303A26D6C485A
A201075CECC00FA2010391C7FC6E5AA2903801F03EA20100133CECF87CA2EC7878EC7CF8
A2EC3FF0A26E5AA36E5AA36E5A6EC8FC2E3C80B92F>56 D<126012F0B3B3B3B3A9126004
5377BD17>106 D<126012F07EA21278127CA2123C123EA2121E121FA27E7FA212077FA2
12037FA212017FA212007FA21378137CA2133C133EA2131E131FA27F80A2130780A26D7E
A2130180A2130080A21478147CA2143C143EA2141E141FA2801580A2140715C0A2140315
E0A2140115F0A2140015F8A21578157CA2153C153EA2151E150C1F537BBD2A>110
D E
%EndDVIPSBitmapFont
/Ft 119[50 10[50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 1[50 50 50 50 50 50 50 50 50 50 1[50 50
50 50 50 2[50 50 50 50 50 50 50 50 50 50 50 50 50 1[50
50 50 1[50 50 50 50 50 50 50 1[50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 1[50 38[{
TeXBase1Encoding ReEncodeFont}81 83.022 /Courier rf /Fu
130[40 1[40 37 42 42 60 42 42 23 32 28 42 42 42 42 65
23 42 23 23 42 42 28 37 42 37 42 37 3[28 23 28 51 60
60 78 60 60 51 46 55 60 46 60 60 74 51 60 32 28 60 60
46 51 60 55 55 60 1[37 47 47 47 23 23 42 42 42 42 42
42 42 42 42 42 23 21 28 21 47 42 28 28 28 65 69 3[28
29[46 46 2[{TeXBase1Encoding ReEncodeFont}87 83.022 /Times-Roman
rf /Fv 134[60 60 2[66 40 47 53 1[66 60 66 100 33 2[33
66 60 40 53 66 53 1[60 10[86 1[80 66 86 1[73 93 5[47
3[80 86 86 1[86 8[60 60 60 60 60 60 60 60 49[{
TeXBase1Encoding ReEncodeFont}38 119.552 /Times-Bold
rf /Fw 133[33 37 37 54 37 37 21 29 25 1[37 37 37 58 21
37 1[21 37 37 25 33 37 33 37 33 9[71 54 1[46 42 2[42
1[54 66 46 54 1[25 1[54 2[54 50 50 54 8[37 37 37 1[37
1[37 37 37 1[19 25 19 41[42 2[{TeXBase1Encoding ReEncodeFont}50
74.7198 /Times-Roman rf /Fx 134[37 37 54 2[25 29 33 1[42
37 42 62 21 2[21 42 37 25 33 42 33 42 37 3[25 1[25 25[54
3[43 1[25 25 37 1[37 37 1[37 37 2[37 1[19 1[19 44[{
TeXBase1Encoding ReEncodeFont}34 74.7198 /Times-Bold
rf /Fy 134[50 1[72 50 50 28 39 33 1[50 50 50 78 28 50
1[28 50 50 33 44 50 44 1[44 9[94 1[72 4[55 2[89 2[39
33 72 72 55 2[66 9[50 6[50 1[50 3[25 44[{TeXBase1Encoding ReEncodeFont}
35 99.6264 /Times-Roman rf /Fz 134[72 3[72 40 56 48 2[72
72 1[40 4[72 1[64 1[64 1[64 10[104 5[80 35[36 44[{
TeXBase1Encoding ReEncodeFont}15 143.462 /Times-Roman
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%BeginPaperSize: a4
a4
%%EndPaperSize

%%EndSetup
%%Page: 1 1
1 0 bop 897 739 a Fz(V)-16 b(ector)34 b(P)n(ascal,)g(an)i(array)e
(language)454 980 y Fy(P)o(aul)24 b(Cockshott,)g(Uni)n(v)o(ersity)f(of)
i(Glasgo)n(w)-6 b(,)23 b(Imaging)h(F)o(araday)h(P)o(artnership)1008
1096 y(Gre)o(g)g(Michaelson,)e(Heriot)i(W)-8 b(att)24
b(Uni)n(v)o(ersity)1513 1290 y(January)h(9,)g(2002)1691
1578 y Fx(Abstract)650 1704 y Fw(V)-8 b(ector)20 b(P)o(ascal)g(is)g(a)g
(language)i(designed)g(to)e(support)h(ele)o(gant)g(and)g(ef)n
(\002cient)f(e)o(xpression)h(of)538 1795 y(algorithms)j(using)h(the)f
(SIMD)f(model)i(of)f(computation.)39 b(It)24 b(imports)g(into)g(P)o
(ascal)g(abstraction)538 1887 y(mechanisms)d(deri)n(v)o(ed)h(from)f
(functional)g(languages)i(ha)o(ving)e(their)g(origins)g(in)f(APL.)g(In)
g(partic-)538 1978 y(ular)j(it)h(e)o(xtends)h(all)e(operators)i(to)f(w)
o(ork)g(on)h(v)o(ectors)f(of)g(data.)39 b(The)24 b(type)g(system)g(is)g
(e)o(xtended)538 2069 y(to)i(handle)h(pix)o(els)f(and)h(dimensional)g
(analysis.)45 b(Code)27 b(generation)g(is)f(via)g(the)h(ILCG)e(system)
538 2161 y(that)19 b(allo)n(ws)h(retar)o(geting)g(to)g(multiple)g(dif)n
(ferent)g(SIMD)g(instruction)g(sets)g(based)h(on)f(formal)g(de-)538
2252 y(scrition)e(of)h(the)g(instruction)h(set)e(semantics.)330
2530 y Fv(1)119 b(Intr)n(oduction)330 2716 y Fu(The)29
b(introduction)e(of)i(SIMD)h(instruction)e(sets[13)o(][1)o(][25)n(][14)
n(])i(to)g(Personal)f(Computers)f(poten-)330 2816 y(tially)e(pro)o
(vides)e(substantial)h(performance)e(increases,)j(b)n(ut)g(the)f
(ability)h(of)f(most)h(programmers)c(to)330 2915 y(harness)e(this)g
(performance)d(is)k(held)f(back)f(by)h(tw)o(o)g(f)o(actors.)25
b(The)20 b(\002rst)g(is)h(the)f(limited)g(a)n(v)n(ailability)g(of)330
3015 y(compilers)h(that)h(mak)o(e)g(ef)n(fecti)n(v)o(e)f(use)h(of)g
(these)g(instruction)f(sets)i(in)f(a)h(machine)e(independent)e(man-)330
3114 y(ner)-5 b(.)24 b(This)18 b(remains)f(the)g(case)h(despite)f(the)h
(research)e(ef)n(forts)h(to)g(de)n(v)o(elop)f(compilers)g(for)h
(multi-media)330 3214 y(instruction)h(sets[7][23)n(][21)o(][28)n(].)25
b(The)19 b(second)g(is)h(the)g(f)o(act)g(that)f(most)h(popular)e
(programming)e(lan-)330 3314 y(guages)25 b(were)h(designed)e(on)i(the)g
(w)o(ord)f(at)i(a)f(time)g(model)f(of)h(the)g(classic)g(v)n(on)g
(Neuman)e(computer)330 3413 y(rather)19 b(than)h(the)g(SIMD)h(model.)
455 3513 y(V)-9 b(ector)21 b(P)o(ascal)i(aims)g(to)g(pro)o(vide)d(an)i
(ef)n(\002cient)g(and)g(ele)o(gant)f(notation)h(for)f(programmers)f
(using)330 3613 y(Multi-Media)k(enhanced)g(CPUs.)41 b(In)25
b(doing)g(so)g(it)h(borro)n(ws)e(concepts)h(for)f(e)o(xpressing)g(data)
h(paral-)330 3712 y(lelism)20 b(that)f(ha)n(v)o(e)f(a)h(long)f(history)
-5 b(,)18 b(dating)g(back)h(to)g(Iv)o(erson')-5 b(s)17
b(w)o(ork)i(on)f(APL)h(in)h(the)e(early)h('60s[16)n(].)330
3812 y(W)-7 b(e)25 b(are)f(using)f(the)h(w)o(ord)f(ele)o(gant)g(in)h
(the)g(technical)f(sense)h(introduced)d(by)j(Chaiten[6)n(].)36
b(By)25 b(an)e(el-)330 3911 y(e)o(gant)h(algorithm)g(we)i(mean)e(one)h
(which)g(is)h(e)o(xpressed)e(as)j(concisely)d(as)i(possible.)40
b(Ele)o(gance)24 b(is)i(a)330 4011 y(goal)g(that)h(one)g(approaches)e
(asymtotically)-5 b(,)26 b(approaching)e(b)n(ut)j(ne)n(v)o(er)f
(attaining.)44 b(APL)27 b(and)f(J[19)o(])330 4111 y(allo)n(w)d(the)f
(construction)f(of)h(v)o(ery)f(ele)o(gant)h(programs,)f(b)n(ut)h(at)h
(a)g(cost.)33 b(An)22 b(ine)n(vitable)g(consequence)330
4210 y(of)f(ele)o(gance)e(is)j(the)g(loss)f(of)g(redundanc)o(y)-5
b(.)24 b(APL)e(programs)d(are)i(as)h(concise,)f(or)g(e)n(v)o(en)f(more)
g(concise)330 4310 y(than)27 b(con)m(v)o(entional)e(mathematical)h
(notation[17)m(])i(and)f(use)g(a)h(special)g(characterset.)46
b(This)28 b(mak)o(es)330 4410 y(them)18 b(hard)f(for)g(the)h
(uninitiated)f(to)h(understand.)k(J)d(attempts)f(to)h(remedy)d(this)j
(by)e(restricting)h(itself)g(to)330 4509 y(the)g(ASCII)g(characterset,)
g(b)n(ut)g(still)h(looks)f(dauntingly)d(unf)o(amiliar)i(to)h
(programmers)d(brought)h(up)i(on)330 4609 y(more)j(con)m(v)o(entional)d
(languages.)27 b(The)21 b(aim)h(of)f(V)-9 b(ector)21
b(P)o(ascal)h(is)g(to)g(pro)o(vide)d(the)i(conceptual)f(gains)330
4708 y(of)g(Iv)o(erson')-5 b(s)19 b(notation)g(within)h(a)g(frame)n(w)o
(ork)e(f)o(amiliar)i(to)g(imperati)n(v)o(e)f(programmers.)455
4808 y(P)o(ascal[20)n(]w)o(as)h(chosen)e(as)i(a)g(base)f(language)f(o)o
(v)o(er)g(the)h(alternati)n(v)o(es)f(of)h(C)i(and)d(Ja)n(v)n(a.)25
b(C)c(w)o(as)f(re-)330 4908 y(jected)e(because)g(notations)g(lik)o(e)g
Ft(x+y)h Fu(for)f Ft(x)g Fu(and)g Ft(y)h Fu(declared)e(as)j(arithmetic)
d(operations)g(are)i(already)330 5007 y(o)o(v)o(erloaded)e(for)j
(address)f(operations)g(in)h(a)h(w)o(ay)f(which)g(precludes)f(their)h
(use)g(in)h(map)e(operations.)330 5286 y Fv(2)119 b(Array)30
b(mechanisms)f(f)m(or)h(data)g(parallelism)330 5471 y
Fu(V)-9 b(ector)17 b(P)o(ascal)h(e)o(xtends)f(the)h(array)f(type)g
(mechanism)f(of)i(P)o(ascal)g(to)g(pro)o(vide)e(better)h(support)g(for)
g(data)330 5571 y(parallel)23 b(programming)d(in)k(general,)f(and)h
(SIMD)f(image)g(processing)g(in)h(particular)-5 b(.)34
b(Data)24 b(parallel)330 5670 y(programming)17 b(can)j(be)g(b)n(uilt)g
(up)g(from)f(certain)h(underlying)d(abstractions[9)n(]:)1809
5919 y(1)p eop
%%Page: 2 2
2 1 bop 455 390 a Fs(\017)41 b Fu(operations)18 b(on)i(whole)g(arrays)
455 552 y Fs(\017)41 b Fu(array)19 b(slicing)455 713
y Fs(\017)41 b Fu(conditional)18 b(operations)455 874
y Fs(\017)41 b Fu(reduction)18 b(operations)455 1036
y Fs(\017)41 b Fu(data)20 b(reor)o(ganisation)330 1193
y(W)-7 b(e)27 b(will)f(\002rst)g(consider)e(these)i(in)f(general)g
(before)f(mo)o(ving)f(on)i(to)h(look)f(at)h(their)f(support)f(in)h
(other)330 1292 y(languages,)c(in)i(particular)f(J,)h(F)o(ortran)e
(90[9)n(])i(and)h(N)t Fr(E)t(S)t(L)r Fu([3)o(])e(then)g(\002nally)h
(looking)e(at)i(ho)n(w)f(the)o(y)g(are)330 1392 y(supported)c(in)j(V)-9
b(ector)19 b(P)o(ascal.)330 1628 y Fq(2.1)99 b(Operations)25
b(on)g(whole)g(arrays)330 1783 y Fu(The)k(basic)g Fp(conceptual)e
Fu(mechanism)g(is)j(the)f Fp(map)p Fu(,)i(which)d(tak)o(es)i(an)f
(operator)e(and)h(and)h(a)g(source)330 1883 y(array)23
b(\()i(or)f(pair)g(of)g(arrays)g(\))g(and)g(produces)e(a)j(result)f
(array)g(by)g(mapping)e(the)j(source\(s\))e(under)g(the)330
1982 y(operator)-5 b(.)33 b(Let)24 b(us)f(denote)g(the)g(type)g(of)g
(an)g(arry)g(of)g Fo(T)12 b Fu(as)23 b Fo(T)12 b Fn([])p
Fu(.)34 b(Then)22 b(if)i(we)g(ha)n(v)o(e)f(a)g(binary)f(operator)330
2082 y Fo(!)k Fn(:)e(\()p Fo(T)30 b Fs(\012)18 b Fo(T)12
b Fn(\))23 b Fs(!)g Fo(T)12 b Fu(,)20 b(we)h(automatically)e(ha)n(v)o
(e)h(an)g(operator)f Fo(!)26 b Fn(:)d(\()p Fo(T)12 b
Fn([])18 b Fs(\012)g Fo(T)12 b Fn([]\))23 b Fs(!)h Fo(T)12
b Fn([])20 b Fu(.)26 b(Thus)20 b(if)h Fo(x;)14 b(y)330
2182 y Fu(are)20 b(arrays)g(of)g(inte)o(gers)f Fo(k)26
b Fn(=)c Fo(x)d Fn(+)f Fo(y)24 b Fu(is)d(the)f(array)f(of)h(inte)o
(gers)g(where)f Fo(k)2446 2194 y Fm(i)2497 2182 y Fn(=)k
Fo(x)2632 2194 y Fm(i)2678 2182 y Fn(+)18 b Fo(y)2802
2194 y Fm(i)2830 2182 y Fu(:)p 455 2211 424 4 v 453 2310
4 100 v 504 2281 a(3)p 594 2310 V 99 w(5)p 735 2310 V
100 w(9)p 876 2310 V 455 2314 424 4 v 70 w(=)p 966 2211
V 964 2310 4 100 v 70 w(2)p 1106 2310 V 99 w(3)p 1247
2310 V 99 w(5)p 1388 2310 V 966 2314 424 4 v 70 w(+)p
1478 2211 V 1476 2310 4 100 v 71 w(1)p 1618 2310 V 99
w(2)p 1759 2310 V 99 w(4)p 1900 2310 V 1478 2314 424
4 v 455 2381 a(Similarly)e(if)i(we)g(ha)n(v)o(e)e(a)i(unary)e(operator)
f Fo(\026)p Fu(:\()j(T)p Fs(!)p Fu(T\))e(then)h(we)h(automatically)e
(ha)n(v)o(e)g(an)h(operator)330 2481 y Fo(\026)p Fu(:\(T[])p
Fs(!)p Fu(T[]\).)23 b(Thus)d Fo(z)26 b Fn(=)p Fu(sqr)p
Fn(\()p Fo(x)p Fn(\))21 b Fu(is)g(the)f(array)f(where)h
Fo(z)2003 2493 y Fm(i)2053 2481 y Fn(=)j Fo(x)2188 2450
y Fl(2)2188 2502 y Fm(i)2226 2481 y Fu(:)p 455 2510 465
4 v 453 2609 4 100 v 504 2579 a(4)p 594 2609 V 99 w(9)p
735 2609 V 100 w(25)p 918 2609 V 455 2613 465 4 v 940
2580 a(=)e(sqr\()p 1158 2510 424 4 v 1156 2609 4 100
v 1207 2579 a(2)p 1297 2609 V 100 w(3)p 1438 2609 V 99
w(5)p 1579 2609 V 1158 2613 424 4 v 1581 2580 a(\))455
2680 y(The)j(map)h(replaces)f(the)h Fp(serialisation)g
Fu(or)f Fp(for)h(loop)g Fu(abstraction)e(of)i(classical)h(imperati)n(v)
o(e)d(lan-)330 2779 y(guages.)56 b(The)30 b(map)g(concept)g(is)h
(simple,)i(and)d(maps)h(o)o(v)o(er)e(lists)j(are)f(widely)f(used)h(in)f
(functional)330 2879 y(programming.)24 b(F)o(or)c(array)g(based)h
(languages)e(there)i(are)g(complications)e(to)i(do)g(with)g(the)g
(semantics)330 2979 y(of)e(operations)f(between)h(arrays)f(of)h(dif)n
(ferent)f(lengths)h(and)g(dif)n(ferent)e(dimensions,)i(b)n(ut)g(Iv)o
(erson[16)l(])330 3078 y(pro)o(vided)24 b(a)k(consistent)e(treatment)g
(of)h(these.)45 b(Recent)26 b(languages)g(b)n(uilt)h(round)e(this)i
(model)f(are)h(J,)330 3178 y(an)19 b(interpreti)n(v)o(e)f(language[18)l
(][4)o(][19)n(],)h(High)g(Performance)e(F)o(ortran[9)n(],)i(F[24)o(])h
(a)f(modern)f(F)o(ortran)330 3278 y(subset,)23 b(N)t
Fr(E)t(S)t(L)h Fu(an)d(applicati)n(v)o(e)f(data)h(parallel)g(language.)
26 b(In)21 b(principle)f(though)f(an)o(y)i(language)e(with)330
3377 y(array)29 b(types)g(can)g(be)g(e)o(xtended)f(in)i(a)f(similar)h
(w)o(ay)-5 b(.)52 b(The)29 b(map)g(approach)f(to)h(data)h(parallelism)f
(is)330 3477 y(machine)19 b(independent.)k(Depending)c(on)h(the)g(tar)o
(get)g(machine,)f(a)i(compiler)e(can)h(output)g(sequential,)330
3577 y(SIMD,)g(or)g(MIMD)g(code)f(to)i(handle)e(it.)455
3676 y(Recent)j(implementations)f(of)h(F)o(ortran,)g(such)g(as)i(F)o
(ortran)d(90,)i(F)-7 b(,)23 b(and)f(High)h(Performance)d(F)o(or)n(-)330
3776 y(tran)h(pro)o(vide)f(direct)h(support)f(for)h(whole)g(array)f
(operations.)28 b(Gi)n(v)o(en)20 b(that)i Ft(A,B)g Fu(are)f(arrays)g
(with)h(the)330 3875 y(same)e(rank)g(and)f(same)i(e)o(xtents,)e(the)h
(statements:)330 4032 y Ft(REAL,DIMENSION\(64\)::A,B)330
4132 y(A=3.0)330 4231 y(B=B+SQRT\(A\)*0.5;)330 4388 y
Fu(w)o(ould)26 b(be)h(le)o(gal,)h(and)f(w)o(ould)f(operate)g(in)i(a)f
(pointwise)g(f)o(ashion)f(on)h(the)g(whole)f(arrays.)45
b(Intrinsic)330 4488 y(functions)29 b(such)i(as)g(SQR)-5
b(T)32 b(are)e(de\002ned)g(to)h(operate)e(either)i(on)f(scalars)h(or)g
(arrays,)h(b)n(ut)f(intrinsic)330 4588 y(functions)c(are)i(part)f(of)g
(the)h(language)e(rather)h(than)g(part)g(of)g(a)h(subroutine)e(library)
-5 b(.)49 b(User)29 b(de\002ned)330 4687 y(functions)19
b(o)o(v)o(er)g(scalara)h(do)g(not)f(automatically)g(e)o(xtend)g(to)h
(array)g(ar)o(guments.)455 4787 y(J)487 4757 y Fk(1)551
4787 y Fu(similarly)29 b(allo)n(ws)h(direct)g(implementation)e(of)h
(array)g(operations,)i(though)d(here)i(the)f(array)330
4886 y(dimensions)19 b(are)h(deduced)f(at)h(run)g(time:)380
5043 y Ft(a=.)49 b(1)h(2)f(3)h(5)479 5143 y(a)330 5242
y(1)g(2)f(3)h(5)479 5342 y(b=.)g(1)f(2)h(4)g(8)479 5442
y(a+b)330 5541 y(2)g(4)f(7)h(13)p 330 5592 1200 4 v 420
5647 a Fj(1)450 5670 y Fr(W)-5 b(e)16 b(will)i(gi)n(v)o(e)g(e)o
(xamples)h(from)d(J)h(rather)h(than)g(APL)e(here)i(for)f(ease)h(of)f
(representation)k(in)c(ASCII.)1809 5919 y Fu(2)p eop
%%Page: 3 3
3 2 bop 330 314 681 4 v 330 330 V 328 430 4 100 v 345
430 V 396 400 a Fu(1)p 486 430 V 100 w(1)p 627 430 V
99 w(1)140 b(1)p 993 430 V 1010 430 V 328 530 V 345 530
V 396 500 a(1)p 486 530 V 100 w(2)p 627 530 V 99 w(4)g(8)p
993 530 V 1010 530 V 328 629 V 345 629 V 396 599 a(1)p
486 629 V 100 w(2)p 627 629 V 99 w(4)120 b(16)p 993 629
V 1010 629 V 328 729 V 345 729 V 396 699 a(1)p 486 729
V 100 w(2)p 627 729 V 99 w(8)99 b(512)p 993 729 V 1010
729 V 330 732 681 4 v 330 749 V 1052 311 V 1052 327 V
1050 427 4 100 v 1067 427 V 1119 397 a(1)g(1)g(1)141
b(1)p 1715 427 V 1732 427 V 1052 430 681 4 v 1050 530
4 100 v 1067 530 V 1119 500 a(1)99 b(2)g(4)141 b(8)p
1715 530 V 1732 530 V 1052 533 681 4 v 1050 633 4 100
v 1067 633 V 1119 603 a(1)99 b(2)g(4)120 b(16)p 1715
633 V 1732 633 V 1050 732 V 1067 732 V 1119 702 a(1)99
b(2)g(8)g(512)p 1715 732 V 1732 732 V 1052 736 681 4
v 1052 752 V 1775 314 V 1775 330 V 1773 430 4 100 v 1790
430 V 1841 400 a(1)g(1)g(1)141 b(1)p 2437 430 V 2454
430 V 1932 433 283 4 v 1773 530 4 100 v 1790 530 V 1841
500 a(1)p 1931 530 V 139 w(2)20 b(4)p 2213 530 V 180
w(8)p 2437 530 V 2454 530 V 1773 629 V 1790 629 V 1841
599 a(1)p 1931 629 V 139 w(2)g(4)p 2213 629 V 159 w(16)p
2437 629 V 2454 629 V 1932 633 283 4 v 1773 729 4 100
v 1790 729 V 1841 699 a(1)99 b(2)g(8)g(512)p 2437 729
V 2454 729 V 1775 732 681 4 v 1775 749 V 1001 900 a(Figure)20
b(1:)25 b(Dif)n(ferent)19 b(w)o(ays)i(of)e(slicing)i(the)f(same)g
(array)330 1163 y(The)f(pair)g Ft(=.)25 b Fu(is)c(the)e(assignment)g
(operator)e(in)j(J.)g(Unlik)o(e)f(F)o(ortran,)f(J)i(automatically)e(o)o
(v)o(erloads)g(user)330 1263 y(de\002ned)f(funtions)g(o)o(v)o(er)g
(arrays.)23 b(In)18 b(what)g(follo)n(ws)1830 1252 y Ft(\210)1830
1263 y(&2)g Fu(is)h(an)f(e)o(xpression)f(binding)f(the)j(dyadic)e(po)n
(wer)330 1362 y(function)h(to)j(the)f(contant)f(2,)h
Ft(sqr)g Fu(a)h(user)f(de\002ned)f(monadic)g(operator)-5
b(.)380 1525 y Ft(sqr=.^&2)479 1624 y(b=.1)50 b(2)f(4)h(8)479
1724 y(b+\(sqr)f(a\)*0.5)330 1824 y(1.5)g(4)h(8.5)f(20.5)457
1986 y Fu(N)t Fr(E)t(S)t(L)22 b Fu(pro)o(vides)c(similar)j(generality;)
d(the)j(\002rst)g(J)g(e)o(xample)d(abo)o(v)o(e)h(could)g(be)h(e)o
(xpressed)f(as:)629 2149 y Ft({a+b:)49 b(a)g(in)h([1,2,3,5];)e(b)h(in)h
([1,2,4,8]};)330 2248 y(=>)f([2,)h(4,)f(7,)h(13])f(:)g([int])330
2411 y Fu(and)20 b(the)g(second)f(e)o(xample)g(as:)629
2573 y Ft({b+)49 b(sqr\(a\)*0.5:)f(a)i(in)f([1,2,3,5];)f(b)i(in)f
([1,2,4,8]};)330 2673 y(=>)g([1.5,)g(4,)h(8.5,)f(20.5])g(:)g([float])
330 2835 y Fu(Again)20 b(user)g(de\002ned)g(functions)g(can)g(be)h
(applied)f(element)g(wise,)h(to)g(arrays)f(\()h(or)g(sequences)f(as)h
(the)o(y)330 2935 y(are)30 b(called)g(in)h(the)f(language\).)53
b(The)30 b(e)o(xpressions)f(in)h({)h(})f(brack)o(ets)g(termed)f(the)i
(Apply-to-Each)330 3034 y(construct,)19 b(are)h(descended)f(from)g(the)
h(ZF)h(notations)e(used)h(in)g(SETL[27)n(])g(and)g(MIRAND)m(A[30)n(].)
330 3271 y Fq(2.2)124 b(Array)25 b(slicing)330 3427 y
Fu(It)30 b(is)g(adv)n(antageous)d(to)i(be)g(able)g(to)h(specify)f
(sections)g(of)g(arrays)g(as)h(v)n(alues)f(in)g(e)o(xpression.)51
b(The)330 3526 y(sections)19 b(may)f(be)h(ro)n(ws)g(or)g(columns)e(in)i
(a)h(matrix,)e(a)h(rectangular)e(sub-range)g(of)i(the)f(elements)h(of)g
(an)330 3626 y(array)-5 b(,)16 b(as)h(sho)n(wn)e(in)i(\002gure)e(1.)24
b(In)16 b(image)g(processing)f(such)h(rectangular)e(sub)i(re)o(gions)f
(of)h(pix)o(el)g(arrays)330 3726 y(are)k(called)g(re)o(gions)f(of)h
(interest.)25 b(It)20 b(may)g(also)h(be)f(desirable)f(to)i(pro)o(vide)d
(matrix)h(diagonals[31)m(].)455 3825 y(The)h(notion)f(of)h(array)f
(slicing)h(w)o(as)h(introduced)d(to)j(imperati)n(v)o(e)d(languages)h
(by)j(A)t Fr(L)t(G)t(O)t(L)j Fu(6)t(8)r([29)n(].)330
3925 y(In)20 b(A)t Fr(L)t(G)t(O)t(L)i Fu(6)t(8)f(if)d(x)g(has)h(been)f
(declared)f(as)i([1:10]INT)d(x,)i(then)g(x[2:6])f(w)o(ould)g(be)h(a)h
(slice)g(that)g(could)330 4025 y(be)h(used)g(assignment)f(or)h(as)h(an)
f(actual)g(parameter)-5 b(.)455 4124 y(F)o(ortran)23
b(90)h(e)o(xtends)f(this)i(notion)f(to)g(allo)n(w)h(what)f(it)i(calls)f
(triplet)f(subscripts,)h(gi)n(ving)f(the)g(start)330
4224 y(position)19 b(end)h(position)f(and)h(step)g(at)h(which)f
(elements)g(are)g(to)g(be)g(tak)o(en)g(from)f(arrays.)330
4386 y Ft(REAL,DIMENSION\(10,10\)::A,B)330 4486 y
(A\(2:9,1:8:2\)=B\(3:10,2:9:2\))330 4648 y Fu(w)o(ould)g(be)i(equi)n(v)
n(alent)d(to)i(the)h(loop)e(nest:)430 4910 y Ft(DO)49
b(1,J=1,8,2)479 5010 y(DO)h(2,)f(J=2,9)579 5109 y
(A\(I,J\)=b\(I+1,J+1\))330 5209 y(2)99 b(CONTINUE)330
5309 y(1)50 b(CONTINUE)330 5471 y Fu(J)28 b(allo)n(ws)f(a)g(similar)h
(operation)d(to)i(select)g(subsequences.)44 b(In)27 b(what)g(follo)n
(ws)f Ft(i.)46 b Fo(n)27 b Fu(is)h(a)f(function)330 5571
y(which)k(produces)e(a)j(list)h(of)e(the)g(\002rst)h
Fo(n)g Fu(starting)f(with)h(0,)i(and)c Ft({)i Fu(is)h(the)e(sequence)f
(subscription)330 5670 y(operator)-5 b(.)1809 5919 y(3)p
eop
%%Page: 4 4
4 3 bop 479 390 a Ft(a=.)50 b(2*i.10)479 490 y(a)330
589 y(0)g(2)f(4)h(6)g(8)f(10)h(12)f(14)g(16)h(18)479
689 y(3{a)330 789 y(6)330 955 y Fu(Selection)22 b(of)g(a)g(subsequence)
f(is)i(performed)c(by)j(forming)e(a)j(sequence)e(of)h(indices.)31
b(Thus)22 b(to)g(select)330 1054 y(the)29 b(3)f(consecuti)n(v)o(e)f
(elements)i(starting)f(with)h(the)f(second,)i(we)f(\002rst)g(form)f
(the)g(sequence)g Ft(2)50 b(3)f(4)330 1154 y Fu(using)20
b(the)g(e)o(xpression)e Ft(2+i.3)i Fu(and)g(use)g(this)h(to)f
(subscript)g(the)g(array)f Ft(a)p Fu(:)479 1320 y Ft(\(2+i.3\){a)330
1420 y(4)50 b(6)f(8)330 1757 y Fq(2.3)124 b(Conditional)25
b(operations)330 1913 y Fu(F)o(or)f(data)h(parallel)f(programming)e
(one)i(frequently)e(w)o(ants)k(to)e(mak)o(e)h(an)f(operation)f(w)o(ork)
h(on)h(some)330 2012 y(subset)h(of)g(the)f(data)h(based)g(on)f(some)h
(logical)f(mask.)42 b(This)26 b(can)g(be)g(thought)e(of)h(pro)o(viding)
f(a)i(\002ner)330 2112 y(grain)21 b(of)g(selection)g(than)g
(subslicing,)g(allo)n(wing)g(arbitrary)e(combinations)h(of)h(array)g
(elements)g(to)h(be)330 2211 y(acted)h(on.)35 b(F)o(or)24
b(e)o(xample)e(one)h(might)g(w)o(ant)h(to)f(replace)g(all)h(elements)g
(of)f(an)h(array)f(A)h(less)g(than)g(the)330 2311 y(corresponding)17
b(element)i(in)i(array)e(B)i(with)f(the)h(corresponding)16
b(element)k(of)g(B.)p 455 2341 845 4 v 453 2440 4 100
v 504 2410 a(1)99 b(2)h(4)f(8)p 1017 2440 V 159 w(A)p
1297 2440 V 453 2540 V 504 2510 a(2)g(3)h(4)f(5)p 1017
2540 V 161 w(B)p 1297 2540 V 453 2640 V 504 2610 a(1)g(1)h(0)f(0)p
1017 2640 V 99 w(A)p Fo(<)p Fu(B)p 1297 2640 V 455 2643
845 4 v 453 2743 4 100 v 504 2713 a(2)g(3)h(4)f(8)p 1017
2743 V 1297 2743 V 455 2746 845 4 v 455 2810 a(F)o(ortran)26
b(90)h(pro)o(vides)f(a)i(mechanism)f(to)h(selecti)n(v)o(ely)f(update)f
(a)i(section)g(of)f(an)h(array)f(under)f(a)330 2910 y(logical)20
b(mask,)g(the)g Ft(WHERE)g Fu(statement.)330 3076 y Ft(REAL,)49
b(DIMENSION\(64\)::A)330 3176 y(REAL,)g(DIMENSION\(64\)::B)330
3275 y(WHERE)g(\(A>B\))430 3375 y(A=A)330 3475 y(ELSE)g(WHERE)430
3574 y(A=)g(B)330 3674 y(END)g(WHERE)330 3840 y Fu(The)25
b Ft(WHERE)g Fu(statement)g(is)i(analogous)c(to)28 b(A)t
Fr(L)t(G)t(O)t(L)h Fu(6)t(8)f(and)c Ft(C)i Fu(conditional)e(e)o
(xpressions,)h(b)n(ut)g(e)o(x-)330 3940 y(tended)19 b(to)i(operate)e
(on)h(arrays.)25 b(It)20 b(can)g(be)h(performed)c(in)k(parallel)f(on)f
(all)i(elements)f(of)g(an)h(array)e(and)330 4039 y(lends)h(itself)h(to)
f(e)n(v)n(aluation)f(under)f(a)j(mask)f(on)g(SIMD)g(architectures.)457
4139 y(N)t Fr(E)t(S)t(L)h Fu(pro)o(vides)d(a)i(generalised)f(form)f(of)
i(Apply-to-Each)c(in)k(which)f(a)h(sie)n(v)o(e)g(can)f(be)h(applied)e
(to)330 4238 y(the)i(ar)o(guments)e(as)j(in:)529 4404
y Ft({)50 b(a+b)f(:)h(a)f(in[)h(1,2,3];)e(b)i(in)f([4,3,2])g(|a<b})330
4504 y(=>)99 b([5,5])49 b(:)h([int])330 4670 y Fu(Notice)20
b(that)f(in)j(N)t Fr(E)t(S)t(L)g Fu(as)f(in)e(J)i(v)n(alues)e(are)h
(allocated)f(dynamically)f(from)h(a)h(heap)f(so)h(that)g(the)f(length)
330 4770 y(of)f(the)g(sequence)f(returned)f(from)h(a)i(sie)n(v)o(ed)e
(Apply-to-Each)e(can)j(be)g(less)h(than)f(that)g(of)g(the)g(ar)o
(gument)330 4869 y(sequences)25 b(in)g(its)i(e)o(xpression)d(part.)41
b(In)25 b(F)o(ortran)f(90,)j(the)e Ft(WHERE)h Fu(statement)f(applies)g
(to)h(an)f(array)330 4969 y(whose)20 b(size)h(is)g(kno)n(wn)e(on)g
(entry)h(to)g(the)g(statement.)330 5207 y Fq(2.4)124
b(Reduction)26 b(operations)330 5362 y Fu(In)e(a)g(reduction)e
(operation,)h(a)h(dyadic)f(operator)f(injected)h(between)g(the)h
(elements)g(of)f(a)i(v)o(ector)m(,)e(the)330 5462 y(ro)n(ws)g(or)g
(columns)f(of)h(a)g(matrix)g(etc,)h(produces)d(a)j(result)f(of)g(lo)n
(wer)f(rank.)33 b(Examples)22 b(w)o(ould)h(be)g(the)330
5562 y(forming)e(the)i(sum)g(of)g(a)g(table)g(or)g(\002nding)e(the)i
(maximum)f(or)g(minimum)g(of)g(a)i(table.)33 b(So)23
b(one)g(could)330 5661 y(use)d(+)h(to)f(reduce)p 856
5591 565 4 v 854 5690 4 100 v 906 5660 a(1)p 996 5690
V 99 w(2)p 1137 5690 V 99 w(4)p 1278 5690 V 100 w(8)p
1419 5690 V 856 5694 565 4 v 1442 5661 a(to)g(1+2+4+8=15)1809
5919 y(4)p eop
%%Page: 5 5
5 4 bop 330 362 507 4 v 328 462 4 100 v 380 432 a Fu(1)p
469 462 V 120 w(2)p 652 462 V 140 w(4)p 835 462 V 330
465 507 4 v 328 565 4 100 v 380 535 a(8)p 469 565 V 99
w(16)p 652 565 V 99 w(32)p 835 565 V 330 568 507 4 v
857 484 a(transposes)20 b(to)p 1309 311 324 4 v 1307
410 4 100 v 1359 380 a(1)p 1449 410 V 120 w(8)p 1631
410 V 1309 413 324 4 v 1307 513 4 100 v 1359 483 a(2)p
1449 513 V 99 w(16)p 1631 513 V 1309 516 324 4 v 1307
616 4 100 v 1359 586 a(4)p 1449 616 V 99 w(32)p 1631
616 V 1309 619 324 4 v 1169 767 a(Figure)f(2:)26 b(Reor)o(ganising)17
b(by)j(transposition)p 330 1045 565 4 v 328 1145 4 100
v 380 1115 a(1)p 469 1145 V 99 w(2)p 611 1145 V 99 w(4)p
752 1145 V 99 w(8)p 893 1145 V 330 1148 565 4 v 915 1116
a(con)m(v)n(olv)o(e\()p 1262 1045 694 4 v 1260 1145 4
100 v 1312 1115 a(0.25)p 1505 1145 V 98 w(0.5)p 1708
1145 V 98 w(0.25)p 1953 1145 V 1262 1148 694 4 v 1955
1116 a(\)=)p 2050 882 835 4 v 2048 982 4 100 v 2121 952
a(0.5)p 2294 982 V 171 w(1)p 2538 982 V 182 w(2)p 2742
982 V 130 w(2)p 2883 982 V 2050 985 835 4 v 2048 1085
4 100 v 2121 1055 a(0.5)p 2294 1085 V 171 w(1)p 2538
1085 V 182 w(2)p 2742 1085 V 130 w(4)p 2883 1085 V 2050
1088 835 4 v 2048 1188 4 100 v 2100 1158 a(0.25)p 2294
1188 V 98 w(0.25)p 2538 1188 V 98 w(0.5)p 2742 1188 V
98 w(1)p 2883 1188 V 2050 1191 835 4 v 2050 1208 V 2048
1307 4 100 v 2100 1278 a(1.25)p 2294 1307 V 98 w(2.25)p
2538 1307 V 98 w(4.5)p 2742 1307 V 98 w(7)p 2883 1307
V 2050 1311 835 4 v 1272 1458 a(Figure)f(3:)26 b(Con)m(v)n(olution)18
b(by)h(shifting)455 1714 y(The)e(\002rst)h(systematic)g(treatment)f(of)
g(reduction)f(operations)g(in)i(programming)c(languages)i(is)j(due)330
1814 y(to)27 b(Iv)o(erson[16)l(].)46 b(He)27 b(introduced)e(the)i
(notion)e(of)i(a)g(reduction)e(functional)h(which)g(tak)o(es)h(a)h
(dyadic)330 1914 y(operator)i(and,)k(by)e(currying,)g(generates)f(a)h
(tailored)g(reduction)e(function.)58 b(In)32 b(APL)g(as)h(in)f(J)h(the)
330 2013 y(reduction)22 b(functional)f(is)j(denoted)e(by)h
Ft(/)p Fu(.)35 b(Thus)23 b Ft(+/)h Fu(is)g(the)g(function)d(which)i
(forms)g(the)g(sum)h(of)f(an)330 2113 y(array)-5 b(.)479
2268 y Ft(a)330 2367 y(1)50 b(2)f(3)h(5)479 2467 y(+/a)330
2567 y(11)330 2722 y Fu(The)18 b(interpretation)f(of)i(reduction)e(for)
h(comutati)n(v)o(e)f(operators)g(is)j(simple,)f(for)f(non)g(comutati)n
(v)o(e)f(ones)330 2821 y(it)k(is)g(slightly)f(less)h(ob)o(vious.)i
(Consider:)479 2976 y Ft(-/a)330 3076 y(_3)330 3231 y
Fu(The)d Ft(_3)g Fu(here,)f(is)i(the)f(J)g(notation)f(for)g(-3,)h(deri)
n(v)o(ed)e(from)h(the)h(e)o(xpansion)e Fn(\(1)f Fs(\000)g
Fn(\(2)g Fs(\000)g Fn(\(3)g Fs(\000)g Fn(4\()p Fs(\000)p
Fn(0\)\)\)\))p Fu(,)330 3330 y(just)h(as)f(11)g(w)o(as)h(deri)n(v)o(ed)
d(from)h(the)h(e)o(xpansion)e Fn(\(1)7 b(+)g(\(2)g(+)g(\(3)g(+)g(\(4)g
(+)g(0)o(\)\)\)\))p Fu(.)20 b(In)c(J)i(as)g(in)f(APL)g(reduction)330
3430 y(applies)j(uniformly)e(to)i(all)h(binary)e(operators.)455
3530 y(F)o(ortran)k(90,)j(despite)f(its)h(debt)f(to)g(APL,)h(is)g(less)
g(general,)f(pro)o(viding)e(a)i(limited)g(set)h(of)f(b)n(uilt)g(in)330
3629 y(reduction)h(operators)g(on)h(comutati)n(v)o(e)e(operators:)38
b Ft(SUM,)49 b(PRODUCT,)g(MAXVAL,)f(MINVAL.)332 3729
y Fu(N)t Fr(E)t(S)t(L)23 b Fu(lik)o(e)n(wise)f(pro)o(vides)d(a)i
(limited)g(set)h(of)f(reduction)e(functions)h Ft(sum,)49
b(minval,)f(maxval,)330 3828 y(any,)h(all)p Fu(.)31 b(The)22
b(last)h(tw)o(o)f(are)g(boolean)f(reductions,)f Ft(any)j
Fu(returns)e(true)h(if)g(at)h(least)g(one)e(element)330
3928 y(of)f(a)h(sequence)e(is)i(true,)e Ft(all)70 b Fu(if)21
b(the)o(y)e(are)h(all)h(true.)330 4163 y Fq(2.5)124 b(Data)25
b(r)n(eor)o(ganisation)330 4319 y Fu(In)19 b(both)f(linear)h(algebra)f
(and)g(image)h(processing)f(applications,)g(it)i(is)g(often)e
(desireable)g(to)h(be)g(able)g(to)330 4418 y(perform)f(b)n(ulk)i(reor)o
(ganisation)d(of)j(data)g(arrays.)455 4518 y(One)h(may)g(w)o(ant)h(to)g
(transpose)e(a)i(v)o(ector)f(or)g(matrix,)g(or)h(to)f(shift)h(the)g
(elements)f(of)g(a)i(v)o(ector)-5 b(.)28 b(F)o(or)330
4618 y(e)o(xample,)21 b(one)h(can)g(e)o(xpress)f(the)h(con)m(v)n
(olution)e(of)i(a)g(v)o(ector)f(with)i(a)f(three)g(element)g(k)o(ernel)
f(in)i(terms)330 4717 y(of)i(multiplications,)f(shifts)h(and)g(adds.)38
b(Let)25 b Fo(a)32 b Fn(=)p 1810 4647 565 4 v 1808 4746
4 100 v 49 w Fu(1)p 1949 4746 V 99 w(2)p 2090 4746 V
99 w(4)p 2231 4746 V 99 w(8)p 2372 4746 V 1810 4750 565
4 v 75 w(be)25 b(a)g(v)o(ector)f(to)h(be)f(con)m(v)n(olv)o(ed)330
4832 y(with)18 b(the)g(k)o(ernel)f Fo(k)26 b Fn(=)p 975
4761 694 4 v 973 4861 4 100 v 1024 4831 a Fu(0.25)p 1218
4861 V 98 w(0.5)p 1421 4861 V 99 w(0.25)p 1666 4861 V
975 4864 694 4 v 1668 4832 a(.)e(This)19 b(can)e(be)h(e)o(xpressed)f
(by)g(de\002ning)g(tw)o(o)h(temporary)330 4932 y(v)o(ectors)779
5031 y Fo(b;)c(c)22 b Fn(=)h(0)p Fo(:)p Fn(25)p Fo(a;)14
b Fn(0)p Fo(:)p Fn(5)p Fo(a)20 b Fn(=)p 1487 4961 731
4 v 1485 5060 4 100 v 1537 5030 a Fu(0.25)p 1730 5060
V 98 w(0.5)p 1934 5060 V 98 w(1)p 2075 5060 V 99 w(2)p
2216 5060 V 1487 5064 731 4 v 2218 5031 a Fo(;)p 2255
4961 627 4 v 2253 5060 4 100 v 2304 5030 a Fu(0.5)p 2456
5060 V 99 w(1)p 2597 5060 V 99 w(2)p 2738 5060 V 99 w(4)p
2880 5060 V 2255 5064 627 4 v 330 5172 a(and)h(then)f(de\002ning)g(the)
h(result)g(to)h(the)f(sum)g(under)f(shifts)h(of)g Fo(b;)14
b(c)21 b Fu(as)h(sho)n(wn)f(in)g(\002gure)f(3)h(This)h(e)o(xam-)330
5272 y(ple)i(replicates)f(the)h(trailing)f(v)n(alue)g(when)g(shifting.)
35 b(In)23 b(other)g(circumstances,)h(when)f(dealing)f(with)330
5372 y(cellular)j(automata)e(for)i(e)o(xample,)f(it)i(is)g(con)m(v)o
(enient)c(to)j(be)g(able)g(to)g(de\002ne)g(circular)f(shifts)h(on)g
(data)330 5471 y(arrays.)455 5571 y(F)o(ortran)j(90)g(pro)o(vides)g(a)i
(rich)f(set)h(of)f(functions)e(to)j(reshape,)g(transpose)f(and)f
(circularly)g(shift)330 5670 y(arrays.)c(F)o(or)c(instance)g(gi)n(v)o
(en)f(a)h(9)h(element)e(v)o(ector)g(v)i(we)f(can)g(reshape)f(it)i(as)g
(a)g(3)f(by)g(3)g(matrix)1809 5919 y(5)p eop
%%Page: 6 6
6 5 bop 330 490 a Ft(V=)49 b(\(/)h(1,2,3,4,5,6,7,8,9)d(/\))330
589 y(M=RESHAPE\(V,\(/3,3/\)\))330 754 y Fu(gi)n(v)o(es)20
b(us)g(the)g(array)330 918 y Ft(1)99 b(2)h(3)330 1018
y(4)f(5)h(6)330 1118 y(7)f(8)h(9)330 1282 y Fu(W)-7 b(e)21
b(can)f(then)g(c)o(yclically)f(shift)i(this)f(along)g(a)g(dimension)330
1447 y Ft(M2=CSHIFT\(M,SHIFT=2,DIM=2\))330 1611 y Fu(to)g(gi)n(v)o(e)
330 1875 y Ft(3)99 b(1)h(2)330 1975 y(6)f(4)h(5)330 2075
y(9)f(7)h(8)332 2239 y Fu(N)t Fr(E)t(S)t(L)21 b Fu(pro)o(vides)c(on)i
(sequences,)f(similar)h(operations)f(to)h(those)g(pro)o(vided)d(on)j
(arrays)f(by)g(F)o(ortran)g(90,)330 2339 y(so)j(that)f(if)330
2503 y Ft(v)647 b(=[)50 b(1,2,3,4,5,6,7,8,9])330 2603
y(s)647 b(=[3,3,3])330 2703 y(partition\(v,s\)=[[1,2,3][4,5,6],7,8,)o
(9]])330 2802 y(rotate\(v,3\))147 b(=[7,8,9,1,2,3,4,5,6])330
3082 y Fv(3)119 b(Data)30 b(parallelism)g(in)h(V)-12
b(ector)30 b(P)o(ascal)330 3284 y Fq(3.1)99 b(Assignment)25
b(maps)330 3440 y Fu(Standard)f(P)o(ascal)i(allo)n(ws)f(assignement)g
(of)g(whole)g(arrays.)40 b(V)-9 b(ector)24 b(P)o(ascal)i(e)o(xtends)e
(this)i(to)g(allo)n(w)330 3540 y(consistent)20 b(use)g(of)g(mix)o(ed)f
(rank)h(e)o(xpressions)e(on)i(the)g(right)g(hand)f(side)i(of)f(an)g
(assignment.)k(Gi)n(v)o(en)455 3639 y Fi(r0:r)o(eal;)18
b(r1:array[0..7])e(of)k(r)o(eal;)f(r2:array[0..7,0..7])14
b(of)20 b(r)o(eal)455 3739 y Fu(then)f(we)i(can)f(write)434
3903 y(1.)41 b(r)p Fi(1:=)19 b(r2[3];)g({)h(supported)h(in)g(standard)f
(P)o(ascal)g(})434 4069 y Fu(2.)41 b Fi(r1:=)20 b(1/2;)f({)i(assign)f
(0.5)g(to)g(each)g(element)g(of)g(r1)g(})434 4234 y Fu(3.)41
b Fi(r2:=)20 b(r1*3;)e({)j(assign)g(1.5)e(to)h(e)o(v)o(ery)f(element)i
(of)f(r2})434 4399 y Fu(4.)41 b Fi(r1:=)20 b(\\+)h(r2;)f({)g(r1gets)f
(the)i(totals)e(along)h(the)g(r)o(o)o(ws)g(of)g(r2})434
4564 y Fu(5.)41 b Fi(r1:=)20 b(r1+r2[1];{)e(r1)i(gets)g(the)g(corr)o
(esponding)g(elements)g(of)g(r)o(o)o(w)g(1)g(of)g(r2)g(added)h(to)f
(it})330 4729 y Fu(The)i(assignment)g(of)g(arrays)g(is)h(a)g
(generalisation)d(of)j(what)f(standard)f(P)o(ascal)i(allo)n(ws.)32
b(Consider)22 b(the)330 4829 y(\002rst)f(e)o(xamples)e(abo)o(v)o(e,)f
(the)o(y)i(are)g(equi)n(v)n(alent)e(to:)434 5009 y(1.)41
b Fi(f)n(or)19 b(i:=0)i(to)e(7)i(do)f(r1[i]:=r2[3,i];)434
5175 y Fu(2.)41 b Fi(f)n(or)19 b(i:=0)i(to)e(7)i(do)f(r1[i]:=1/2;)434
5340 y Fu(3.)41 b Fi(f)n(or)19 b(i:=0)i(to)e(7)i(do)f(f)n(or)g(j:=0)g
(to)g(7)g(do)g(r2[i,j]:=r1[j]*3;)434 5505 y Fu(4.)41
b Fi(f)n(or)19 b(i:=0)i(to)e(7)i(do)f(begin)h(t:=0;)e(f)n(or)h(j:=7)g
(do)o(wnto)g(0)g(do)g(t:=r2[i,j]+t;)e(r1[i]:=t;)h(end;)434
5670 y Fu(5.)41 b Fi(f)n(or)19 b(i:=0)i(to)e(7)i(do)f
(r1[i]:=r1[i]+r2[1,i];)1809 5919 y Fu(6)p eop
%%Page: 7 7
7 6 bop 330 390 a Fu(In)20 b(other)g(w)o(ords)g(the)h(compiler)e(has)i
(to)g(generate)e(an)h(implicit)h(loop)f(o)o(v)o(er)f(the)h(elements)h
(of)f(the)g(array)330 490 y(being)e(assigned)h(to)g(and)f(o)o(v)o(er)g
(the)h(elements)g(of)f(the)h(array)f(acting)h(as)h(the)f(data-source.)j
(In)d(the)g(abo)o(v)o(e)330 589 y Fi(i,j,t)27 b Fu(are)f(assumed)h(to)g
(be)g(temporary)e(v)n(ariables)h(not)h(refered)f(to)h(an)o(ywhere)e
(else)j(in)f(the)g(program.)330 689 y(The)20 b(loop)f(v)n(ariables)h
(are)g(called)g(implicit)g(indices)g(and)f(may)h(be)g(accessed)g(using)
g Fi(iota)p Fu(.)455 789 y(The)29 b(v)n(ariable)g(on)h(the)g(left)h
(hand)e(side)h(of)g(an)g(assignment)g(de\002nes)g(an)g(array)f(conte)o
(xt)g(within)330 888 y(which)h(e)o(xpressions)g(on)g(the)h(right)f
(hand)f(side)i(are)g(e)n(v)n(aluated.)55 b(Each)30 b(array)g(conte)o
(xt)f(has)i(a)g(rank)330 988 y(gi)n(v)o(en)19 b(by)g(the)h(number)e(of)
h(dimensions)g(of)g(the)h(array)f(on)h(the)f(left)h(hand)f(side.)25
b(A)c(scalar)f(v)n(ariable)e(has)330 1088 y(rank)24 b(0.)41
b(V)-9 b(ariables)25 b(occuring)e(in)j(e)o(xpressions)e(with)i(an)f
(array)g(conte)o(xt)f(of)h(rank)f Fp(r)k Fu(must)e(ha)n(v)o(e)f
Fp(r)j Fu(or)330 1187 y(fe)n(wer)20 b(dimensions.)j(The)d
Fp(n)g Fu(bounds)f(of)g(an)o(y)h Fp(n)g Fu(dimensional)e(array)i(v)n
(ariable,)e(with)j Fo(n)h Fs(\024)h Fo(r)h Fu(occuring)330
1287 y(within)19 b(an)h(e)o(xpression)e(e)n(v)n(aluated)g(in)i(an)f
(array)g(conte)o(xt)f(of)i(rank)e Fp(r)23 b Fu(must)c(match)g(with)h
(the)g(rightmost)330 1386 y Fp(n)g Fu(bounds)f(of)h(the)g(array)f(on)h
(the)g(left)h(hand)e(side)h(of)g(the)g(assignment)g(statement.)455
1486 y(Where)27 b(a)h(v)n(ariable)e(is)j(of)e(lo)n(wer)g(rank)g(than)g
(its)h(array)f(conte)o(xt,)h(the)f(v)n(ariable)g(is)h(replicated)e(to)
330 1586 y(\002ll)32 b(the)f(array)g(conte)o(xt.)57 b(This)31
b(is)h(sho)n(wn)f(in)g(e)o(xamples)f(2)h(and)g(3)g(abo)o(v)o(e.)57
b(Because)31 b(the)h(rank)e(of)330 1685 y(an)o(y)24 b(assignment)h(is)h
(constrained)d(by)i(the)g(v)n(ariable)f(on)h(the)g(left)g(hand)f(side,)
j(no)e(temporary)d(arrays,)330 1785 y(other)27 b(than)g(machine)g(re)o
(gisters,)i(need)e(be)h(allocated)f(to)h(store)g(the)f(intermediate)g
(array)g(results)h(of)330 1885 y(e)o(xpressions.)455
1984 y(Maps)g(are)h(implicitly)f(and)g(promiscously)e(de\002ned)i(on)g
(both)g(monadic)f(operators)g(and)h(unary)330 2084 y(functions.)f(If)22
b Fi(f)f Fu(is)i(a)e(function)f(or)h(unary)f(operator)g(mapping)g(from)
g(type)h Fi(r)h Fu(to)f(type)g Fi(t)h Fu(then)f(if)h
Fi(x)f Fu(is)i(an)330 2183 y(array)c(of)h Fi(r)h Fu(then)f
Fi(a:=f\(x\))e Fu(assigns)j(an)f(array)f(of)h Fi(t)h
Fu(such)e(that)i Fi(a[i]=f\(x[i]\))p Fu(.)455 2283 y(Functions)29
b(can)h(return)f(an)o(y)h(data)g(type)g(whose)g(size)h(is)g(kno)n(wn)e
(at)i(compile)f(time,)i(including)330 2383 y(arrays)20
b(and)f(records.)24 b(A)d(consistent)f(cop)o(ying)e(semantics)i(is)h
(used.)330 2620 y Fq(3.2)99 b(Slice)25 b(operations)330
2776 y Fu(Image)c(processing)f(applications)h(often)f(ha)n(v)o(e)h(to)h
(deal)g(with)g(re)o(gions)e(of)i(interest,)f(rectangular)f(sub-)330
2876 y(images)27 b(within)f(a)h(lar)o(ger)f(image.)44
b(V)-9 b(ector)26 b(P)o(ascal)h(e)o(xtends)f(the)g(array)g(abstraction)
g(to)h(de\002ne)f(sub-)330 2975 y(ranges)20 b(of)h(arrays.)27
b(A)21 b(sub-range)e(of)i(an)g(array)f(v)n(ariable)g(are)h(denoted)e
(by)h(the)h(v)n(ariable)f(follo)n(wed)g(by)330 3075 y(a)h(range)e(e)o
(xpression)f(in)j(brack)o(ets.)455 3175 y(The)15 b(e)o(xpressions)g
(within)h(the)g(range)f(e)o(xpression)f(must)i(conform)e(to)i(the)g
(inde)o(x)f(type)h(of)f(the)h(array)330 3274 y(v)n(ariable.)24
b(The)19 b(type)g(of)g(a)h(range)f(e)o(xpression)f Fi(a[i..j])g
Fu(where)h Fi(a:)25 b(array[p..q])17 b(of)i(t)h Fu(is)h
Fi(array[0..j-i])16 b(of)330 3374 y(t.)455 3473 y Fu(Examples)455
3573 y Fi(dataset[i..i+2]:=blank;)455 3673 y(tw)o(oDdata[2..3,5..6]:)o
(=tw)o(oDdat)o(a[)o(4..)o(5,1)o(1.)o(.12)o(]*)o(0.5)o(;)455
3772 y Fu(Subranges)22 b(may)i(be)h(passed)f(in)h(as)g(actual)f
(parameters)f(to)i(procedures)d(whose)i(corresponding)330
3872 y(formal)17 b(parameters)g(are)h(declared)e(as)j(v)n(ariables)e
(of)h(a)h(schematic)e(type.)24 b(Hence)17 b(gi)n(v)o(en)g(the)h(follo)n
(wing)330 3972 y(declarations:)455 4071 y Fi(type)c(image\(miny)-5
b(,maxy)g(,minx,maxx:integer\)=array)o([miny)f(..ma)o(xy)g(,minx..max)o
(x])9 b(of)15 b(pixel;)455 4171 y(pr)o(ocedur)o(e)k(in)m(v)o(ert\(v)o
(ar)f(im:image\);begin)h(im:=)i(-)f(im;)h(end;)455 4270
y(v)o(ar)e(scr)o(een:array[0..319,0..1)o(99)o(])c(of)k(pixel;)455
4370 y Fu(then)g(the)h(follo)n(wing)f(statement)h(w)o(ould)f(be)i(v)n
(alid:)455 4470 y Fi(in)m(v)o(ert\(scr)o(een[40..60,20.)o(.30)o(]\))o
(;)455 4569 y Fu(A)30 b(particular)e(form)g(of)i(slicing)f(is)i(to)e
(select)h(out)g(the)f(diagonal)f(of)h(a)h(matrix.)53
b(The)29 b(syntactic)330 4669 y(form)d Fi(diag)p Fu(<e)o(xpression>)e
(selects)k(the)f(diagonal)f(of)h(the)g(matrix)f(to)i(which)e(it)i
(applies.)45 b(A)28 b(precise)330 4769 y(de\002nition)19
b(of)h(this)h(is)g(gi)n(v)o(en)e(in)h(section)g(3.5.)330
5006 y Fq(3.3)99 b(Conditional)25 b(update)h(operations)330
5162 y Fu(In)c(V)-9 b(ector)22 b(P)o(ascal)i(the)e(sort)h(of)f
(conditional)f(updates)h(handled)f(by)i(the)f(F)o(ortran)g
Ft(WHERE)g Fu(statement,)330 5262 y(are)33 b(programmed)c(using)j
(conditional)f(e)o(xpressions.)61 b(The)32 b(F)o(ortran)g(code)g(sho)n
(wn)f(in)i(2.3)f(w)o(ould)330 5361 y(translate)20 b(to)455
5461 y Fi(v)o(ar)f(a:array[0..63])d(of)k(r)o(eal;)455
5560 y(a:=if)f(a)p Fo(>)p Fi(0)h(then)g(a)h(else)g(-a)455
5660 y Fu(The)e Fi(if)i Fu(e)o(xpression)d(can)i(be)h(compiled)d(in)j
(tw)o(o)f(w)o(ays:)1809 5919 y(7)p eop
%%Page: 8 8
8 7 bop 434 390 a Fu(1.)41 b(Where)27 b(the)g(tw)o(o)g(arms)g(of)g(the)
g(if)h(e)o(xpression)d(are)i(parallelisable,)h(the)f(condition)f(and)g
(both)538 490 y(arms)c(are)g(e)n(v)n(aluated)f(and)g(then)h(mer)o(ged)f
(under)f(a)j(boolean)e(mask)h(so)h(the)f(abo)o(v)o(e)e(assignment)538
589 y(w)o(ould)f(be)h(equi)n(v)n(alent)f(to:)538 722
y Fi(a:=)h(\(a)g(and)g(\(a)p Fo(>)p Fi(0\)\)or\(not)d(\(a)p
Fo(>)p Fi(0\))i(and)h(-a\);)538 855 y Fu(were)g(the)g(abo)o(v)o(e)e(le)
o(gal)i(P)o(ascal)1450 825 y Fk(2)1483 855 y Fu(.)434
1021 y(2.)41 b(If)25 b(the)g(code)g(is)h(not)f(paralleliseable)g(it)h
(is)g(translated)f(as)h(equi)n(v)n(alent)e(to)h(a)h(standard)e(if)i
(state-)538 1121 y(ment,)19 b(so)i(the)f(pre)n(vious)e(e)o(xample)h(w)o
(ould)h(be)g(equi)n(v)n(alent)e(to:)558 1254 y Fi(f)n(or)i(i:=0)g(to)g
(63)g(do)g(if)h(a[i])p Fo(>)p Fi(0)e(then)h(a[i]:=a[i])f(else)i
(a[i]:=-a[i];)538 1386 y Fu(Expressions)e(are)h(non)f(parallelisable)g
(if)i(the)o(y)e(include)h(function)e(calls.)330 1553
y(The)23 b(dual)g(compilation)e(strate)o(gy)h(allo)n(ws)i(the)f(same)g
(linguistic)g(construct)f(to)i(be)f(used)g(in)g(recursi)n(v)o(e)330
1652 y(function)18 b(de\002nition)i(and)f(parallel)h(data)g(selection.)
330 1890 y Fq(3.4)99 b(Operator)25 b(Reduction)330 2045
y Fu(Maps)e(tak)o(e)g(operators)e(and)h(arrays)g(and)g(deli)n(v)o(er)g
(array)g(results.)32 b(The)23 b Fp(r)m(eduction)45 b
Fu(abstraction)21 b(tak)o(es)330 2145 y(a)k(dyadic)f(operator)f(and)h
(an)h(array)f(and)g(returns)g(a)h(scalar)g(result.)39
b(It)25 b(is)h(denoted)d(by)i(the)f(functional)330 2245
y(form)e(\\.)35 b(Thus)23 b(if)h(a)g(is)g(an)g(array)-5
b(,)22 b(\\+a)i(denotes)e(the)i(sum)f(o)o(v)o(er)f(the)i(array)-5
b(.)33 b(More)22 b(generally)g Fs(n)p Fn(\010)p Fo(x)i
Fu(for)330 2344 y(some)f(dyadic)e(operator)g Fn(\010)j
Fu(means)e Fo(x)1439 2356 y Fl(0)1477 2344 y Fn(\010\()p
Fo(x)1616 2356 y Fl(1)1654 2344 y Fn(\010)p Fo(::)p Fn(\()p
Fo(x)1839 2356 y Fm(n)1885 2344 y Fn(\010)p Fo(\023)p
Fn(\)\))i Fu(where)f Fo(\023)g Fu(is)h(the)f(identity)f(element)g(for)h
(the)330 2444 y(operator)e(and)i(the)g(type.)34 b(Thus)23
b(we)h(can)f(write)g(\\+)h(for)1956 2382 y Fh(P)2044
2444 y Fu(,)g(\\*)g(for)2298 2382 y Fh(Q)2401 2444 y
Fu(etc.)34 b(The)23 b(dot)g(product)e(of)i(tw)o(o)330
2544 y(v)o(ectors)c(can)h(thus)g(be)h(written)e(as)455
2643 y Fi(x:=\\+\(y*z\);)455 2743 y Fu(instead)g(of)455
2842 y Fi(x:=0;)455 2942 y(f)n(or)g(i:=0)i(to)e(n)i(do)g(x:=)f(x+)h
(y[i]*z[i];)455 3042 y Fu(A)g(reduction)e(operation)g(tak)o(es)i(an)f
(ar)o(gument)f(of)h(rank)g Fp(r)k Fu(and)c(returns)g(an)g(ar)o(gument)f
(of)h(rank)g Fp(r)n(-1)330 3141 y Fu(e)o(xcept)28 b(in)i(the)f(case)g
(where)g(its)h(ar)o(gument)d(is)j(or)f(rank)f(0,)k(in)d(which)g(case)g
(it)h(acts)g(as)g(the)f(identity)330 3241 y(operation.)23
b(Reduction)c(is)i(al)o(w)o(ays)g(performed)c(along)j(the)g(last)h
(array)e(dimension)g(of)h(its)h(ar)o(gument.)455 3341
y(Semantically)e(reduction)f(by)i(an)g(operator)e(say)j
Fs(\014)f Fu(is)h(de\002ned)e(such)h(that)455 3440 y
Fi(v)o(ar)f(a:array[lo)o(w)-6 b(..high])17 b(of)j(t;x:t;)455
3540 y(x:=\\)p Fs(\014)p Fi(a;)455 3639 y Fu(is)h(equi)n(v)n(alent)d
(to:)475 3739 y Fi(v)o(ar)i(temp:t;)g(i:lo)o(w)-6 b(..high;)475
3839 y(temp:=)21 b Fg(identity)p Fi(\(t,)p Fs(\014)p
Fi(\);)475 3938 y(f)n(or)f(i:=)h(high)f(do)o(wnto)g(lo)o(w)h(do)f
(temp:=a[i])p Fs(\014)p Fi(temp;)455 4038 y(x:=temp;)455
4138 y Fu(Where)c Fp(identity)p Fu(\(t,)p Fs(\014)p Fu(\))f(is)i(a)g
(function)e(returning)f(the)j(identity)e(element)h(under)f(the)i
(operator)e Fs(\014)h Fu(for)330 4237 y(the)23 b(type)g
Fi(t)p Fu(.)34 b(The)23 b(identity)f(element)h(is)h(de\002ned)e(to)i
(be)f(the)g(v)n(alue)f(such)h(that)h Fo(x)29 b Fn(=)f
Fo(x)p Fs(\014)p Fp(identity)p Fu(\(t,)p Fs(\014)p Fn(\))p
Fu(.)330 4337 y(Identity)19 b(elements)h(for)f(operators)g(and)h(types)
g(are)g(sho)n(wn)f(in)i(table)f(1.)330 4575 y Fq(3.5)99
b(Array)25 b(r)n(eor)o(ganisation)330 4730 y Fu(By)g(array)e(reor)o
(ganisation,)e(we)k(mean)f(conserv)n(ati)n(v)o(e)e(operations,)h(which)
h(preserv)o(e)e(the)i(number)f(of)330 4830 y(elements)17
b(in)h(the)f(orignal)g(array)-5 b(.)23 b(If)17 b(the)g(shape)h(of)f
(the)g(array)g(is)i(also)e(conserv)o(ed)f(we)i(ha)n(v)o(e)f(an)g
(element)330 4929 y(permutation)k(operation.)33 b(If)24
b(the)f(shape)h(of)f(the)g(array)g(is)i(not)e(conserv)o(ed)e(b)n(ut)j
(it')-5 b(s)24 b(rank)f(and)g(e)o(xtents)330 5029 y(are,)d(we)h(ha)n(v)
o(e)e(a)i(permutation)d(of)i(the)h(array)e(dimensions.)24
b(If)c(the)h(rank)e(is)j(not)e(conserv)o(ed)e(we)i(ha)n(v)o(e)g(a)330
5129 y(\003attening)f(or)h(reshaping)f(of)h(the)g(array)-5
b(.)p 330 5200 1200 4 v 420 5255 a Fj(2)450 5279 y Fr(This)19
b(compilation)j(strate)o(gy)f(requires)g(that)f(true)h(is)e(equi)n(v)n
(alent)k(to)d(-1)f(and)h(f)o(alse)g(to)g(0.)27 b(This)19
b(is)g(typically)k(the)d(represen-)330 5357 y(tation)25
b(of)e(booleans)i(returned)g(by)f(v)o(ector)g(comparison)h
(instructions)h(on)d(SIMD)g(instruction)j(sets.)39 b(In)23
b(V)-7 b(ector)25 b(P)o(ascal)f(this)330 5436 y(representation)d(is)c
(used)g(generally)j(and)d(in)h(consequence,)h Ff(true)p
Fe(<)p Ff(false)p Fr(.)1809 5919 y Fu(8)p eop
%%Page: 9 9
9 8 bop 455 390 a Fu(V)-9 b(ector)27 b(P)o(ascal)h(pro)o(vides)e
(syntactic)i(forms)f(to)h(access)h(and)e(manipulate)g(the)h(implicit)g
(indices)330 490 y(used)21 b(in)h(maps)f(and)g(reductions.)28
b(These)21 b(syntactic)h(forms)e(allo)n(w)i(the)f(concise)h(e)o
(xpression)d(of)j(man)o(y)330 589 y(conserv)n(ati)n(v)o(e)c(array)h
(reor)o(ganisations.)455 689 y(The)g(form)40 b Fi(iota)20
b Fp(i)41 b Fu(returns)20 b(the)g Fp(i)p Fu(th)g(current)f(implicit)h
(inde)o(x.)k(Thus)c(gi)n(v)o(en)f(the)h(de\002nitions)475
789 y Fi(v1:array[1..3]of)15 b(integer;)k(v2:array[0..4]of)c(integer;)
455 888 y Fu(the)20 b(program)e(fragment)455 988 y Fi(v1:=iota)g(0;)41
b(v2:=iota)18 b(0)i(*2;)455 1088 y Fu(w)o(ould)f(set)i(v1)f(and)f(v2)h
(as)h(follo)n(ws:)330 1270 y Ft(v1=)49 b(1)h(2)g(3)330
1370 y(v2=)f(0)h(2)g(4)f(6)h(8)330 1553 y Fu(whilst)21
b(gi)n(v)o(en)e(the)h(de\002nitions)455 1652 y Fi(m1:array[1..3,0..4])
14 b(of)20 b(integer;m2:array[0..4,1.)o(.3])o(of)14 b(integer;)455
1752 y Fu(then)19 b(the)h(program)e(fragment)455 1851
y Fi(m2:=)i(iota)f(0)i(+2*iota)e(1;)455 1951 y Fu(w)o(ould)g(set)i(m2)
330 2134 y Ft(m2=)330 2233 y(2)50 b(4)f(6)330 2333 y(3)h(5)f(7)330
2433 y(4)h(6)f(8)330 2532 y(5)h(7)f(9)330 2632 y(6)h(8)f(10)330
2814 y Fu(The)18 b(ar)o(gument)d(to)k(iota)f(must)g(be)g(an)g(inte)o
(ger)f(kno)n(wn)f(at)j(compile)e(time)h(within)g(the)g(range)f(of)h
(implicit)330 2914 y(indices)i(in)g(the)h(current)d(conte)o(xt.)455
3014 y(A)k(generalised)f(permutation)e(of)j(the)g(implicit)g(indices)f
(is)i(performed)d(using)h(the)h(syntatic)g(form)330 3113
y Fi(perm[)p Fu(<inde)o(x-sel>[,<inde)o(x-sel>]*)p Fi(])17
b Fu(<e)o(xpression>.)30 b(The)22 b(<inde)o(x-sel>s)f(are)h(inte)o
(gers)g(kno)n(wn)f(at)330 3213 y(compile)27 b(time)h(which)f(specify)g
(a)h(permution)e(on)i(the)f(implicit)h(indices.)48 b(Thus)27
b(in)h Fo(e)g Fu(e)n(v)n(aluated)e(in)330 3313 y(conte)o(xt)19
b Fi(perm[)p Fo(i;)14 b(j;)g(k)s Fi(])p Fo(e)p Fu(,)19
b(then)h Fi(iota)f(0)h(=iota)g Fo(i;)h Fi(iota)e(1=iota)h
Fo(j;)h Fi(iota)e(2=iota)h Fo(k)s Fu(.)455 3412 y(An)25
b(e)o(xample)f(of)h(where)f(this)i(is)g(useful)f(is)h(in)g(con)m(v)o
(erting)c(between)i(dif)n(ferent)g(image)h(formats.)330
3512 y(Hardw)o(are)d(frame)h(b)n(uf)n(fers)f(typically)g(represent)g
(images)h(with)h(the)f(pix)o(els)g(in)g(the)g(red,)h(green,)e(blue,)330
3611 y(and)17 b(alpha)h(channels)f(adjacent)g(in)h(memory)-5
b(.)22 b(F)o(or)17 b(image)h(processing)e(it)j(is)g(con)m(v)o(enient)c
(to)j(hold)f(them)330 3711 y(in)23 b(distinct)h(planes.)33
b(The)23 b Fi(perm)h Fu(operator)e(pro)o(vides)f(a)j(concise)f
(notation)e(for)i(translation)f(between)330 3811 y(these)e(formats:)455
3910 y Fi(scr)o(een:=perm[2,0,1]img;)455 4002 y Fu(where:)455
4093 y Fx(type)e(r)o(o)o(windex=0..479;colindex=0..639;channel=r)o
(ed..alpha;)455 4184 y(scr)o(een:array[r)o(o)o
(windex,colindex,channel])f(of)i(pixel;)473 4284 y
(img:array[channel,colindex,r)o(o)o(windex])f(of)h(pixel;)455
4384 y Fi(trans)f Fu(and)g Fi(diag)h Fu(pro)o(vide)d(shorthand)h
(notions)h(for)g(e)o(xpressions)f(in)i(terms)f(of)h Fi(perm)p
Fu(.)25 b(Thus)18 b(in)h(an)330 4483 y(assignment)i(conte)o(xt)g(of)h
(rank)f(2,)h Fi(trans)g Fu(=)h Fi(perm[1,0])d Fu(and)i
Fi(diag)g Fu(=)g Fi(perm[0,0])p Fu(.)29 b(The)22 b(form)f
Fi(trans)p Fp(x)330 4583 y Fu(transposes)28 b(a)h(v)o(ector)1006
4553 y Fk(3)1040 4583 y Fu(matrix,)g(or)g(tensor)-5 b(.)50
b(It)28 b(achie)n(v)o(es)g(this)h(by)f(c)o(yclic)g(rotation)g(of)g(the)
h(implicit)330 4682 y(indices.)52 b(Thus)29 b(if)g Fi(trans)h
Fp(e)f Fu(,)j(for)d(some)g(e)o(xpression)e Fp(e)j Fu(is)g(e)n(v)n
(aluated)e(in)i(a)f(conte)o(xt)f(with)i(implicit)330
4782 y(indices)455 4882 y Fi(iota)19 b Fp(0)p Fu(..)25
b Fi(iota)19 b Fp(n)455 4981 y Fu(then)g(the)h(e)o(xpression)f(e)i(is)g
(e)n(v)n(aluated)e(in)h(a)h(conte)o(xt)d(with)j(implicit)f(indices)455
5081 y Fi(iota)p Fu(')p Fp(0)p Fu(..)j Fi(iota)p Fu(')p
Fp(n)455 5181 y Fu(where)455 5280 y Fi(iota)p Fu(')p
Fp(x)c Fu(=)h Fi(iota)g Fu(\()g(\()p Fp(x+1)p Fu(\))p
Fi(mod)g Fp(n+1)p Fu(\))455 5380 y(It)g(should)f(be)h(noted)g(that)g
(transposition)f(is)i(generalised)e(to)h(arrays)f(of)h(rank)g(greater)f
(than)h(2.)p 330 5451 1200 4 v 420 5506 a Fj(3)450 5530
y Fr(Note)e(that)h Ff(trans)e Fr(is)h(not)g(strictly)h(speaking)g(an)f
(operator)m(,)i(as)d(there)i(e)o(xists)f(no)g(P)o(ascal)h(type)f
(corresponding)i(to)e(a)g(column)330 5609 y(v)o(ector)l(.)1809
5919 y Fu(9)p eop
%%Page: 10 10
10 9 bop 330 390 a Fi(Examples)83 b Fu(Gi)n(v)o(en)19
b(the)i(de\002ntions)e(used)h(abo)o(v)o(e,)e(the)i(program)e(fragment:)
455 490 y Fi(m1:=)i(\(trans)g(v1\)*v2;)455 589 y(m2)g(:=)h(trans)f(m1;)
455 689 y Fu(will)g(set)h(m1)f(and)g(m2:)330 872 y Ft(m1=)330
971 y(0)50 b(2)f(4)h(6)g(8)330 1071 y(0)g(4)f(8)h(12)f(16)330
1171 y(0)h(6)f(12)h(18)f(24)330 1270 y(m2=)330 1370 y(0)h(0)f(0)330
1469 y(2)h(4)f(6)330 1569 y(4)h(8)f(12)330 1669 y(6)h(12)f(18)330
1768 y(8)h(16)f(24)330 1989 y Fi(3.5.1)81 b(Array)20
b(shifts)330 2145 y Fu(The)31 b(shifts)g(and)f(rotations)g(of)h(arrays)
f(supported)f(in)j(F)o(ortran)d(90)i(and)h(N)t Fr(E)t(S)t(L)h
Fu(are)e(not)g(supported)330 2245 y(by)24 b(an)o(y)g(e)o(xplicit)f
(operator)m(,)g(though)g(one)h(can)g(of)g(course)g(use)g(a)h
(combination)d(of)i(other)g(features)f(to)330 2344 y(achie)n(v)o(e)c
(them.)25 b(A)20 b(left)h(rotation)e(can)h(for)f(instance)h(be)g(achie)
n(v)o(ed)f(as)i(follo)n(ws:)455 2444 y Fi(a:=b[\(1+iota)d(0\)mod)i(n];)
455 2544 y Fu(and)f(a)i(re)n(v)o(ersal)e(by)455 2643
y Fi(a:=b[n-iota)f(0)i(-1];)455 2743 y Fu(Where)g(in)g(both)f(e)o
(xamples:)455 2842 y Fi(v)o(ar)g(a,b:array[0..n-1])d(of)k(integer;)330
3080 y Fq(3.6)99 b(Ef\002ciency)27 b(considerations)330
3236 y Fu(Expressions)f(in)m(v)n(olving)f(transposed)h(v)o(ectors,)i
(matrix)f(diagonals,)g(and)g(permuted)e(v)o(ectors)i(or)g(in-)330
3335 y(de)o(xing)j(by)h(e)o(xpressions)f(in)m(v)n(olving)f(modular)g
(arithmetic)i(on)g Fi(iota)p Fu(,)i(do)e(not)g(paralellise)g(well)h(on)
330 3435 y(SIMD)23 b(architectures)f(lik)o(e)i(the)f(MMX,)g(since)h
(these)f(depend)f(upon)f(the)j(fetching)e(of)g(blocks)h(of)g(ad-)330
3535 y(jacent)g(elements)g(into)f(the)h(v)o(ector)f(re)o(gisters.)33
b(This)23 b(requires)f(that)h(element)g(addresses)f(be)h(adjacent)330
3634 y(and)c(monotonically)e(increasing.)23 b(Assignments)d(in)m(v)n
(olving)d(mapped)h(v)o(ectors)h(will)h(usually)f(ha)n(v)o(e)g(to)330
3734 y(be)h(handled)f(by)h(scalar)g(re)o(gisters.)330
3955 y Fi(3.6.1)81 b(Element)21 b(permutation)330 4111
y Fu(Permutations)j(are)i(widely)f(used)h(in)g(APL)g(and)f(J)h
(programming,)e(an)h(e)o(xample)g(being)f(sorting)h(and)330
4210 y(array)e Ft(a)g Fu(into)g(descending)f(order)g(using)h(the)g(J)i
(e)o(xpression)121 b Ft(\\:a{a)73 b Fu(which)23 b(uses)h(the)f
(operator)330 4310 y Ft(\\:)k Fu(to)g(produce)d(a)j(permutation)e(of)h
(the)h(indices)f(of)h Ft(a)g Fu(in)g(descending)d(order)m(,)j(and)f
(then)g(uses)h({)g(to)330 4410 y(inde)o(x)j Ft(a)i Fu(with)g(this)g
(permutation)e(v)o(ector)-5 b(.)58 b(If)31 b(one)g(is)i(to)f(use)g
(analogous)d(constructs,)34 b(one)d(muse)330 4509 y(allo)n(w)25
b(an)g(array)g(may)g(be)g(inde)o(x)o(ed)e(by)i(another)f(array)-5
b(.)39 b(If)25 b Fi(x:array[t0])c(of)k(t1)g Fu(and)g
Fi(y:array[t1])d(of)330 4609 y(t2)p Fu(,)27 b(then)e(in)h(V)-9
b(ector)25 b(P)o(ascal,)i Fi(y[x])e Fu(denotes)g(the)g(virtual)g(array)
g(of)h(type)f Fi(array[t0])e(of)j(t2)f Fu(such)g(that)330
4708 y Fi(y[x][i]=y[x[i]])p Fu(.)330 4929 y Fi(Example)83
b Fu(Gi)n(v)o(en)19 b(the)h(declarations)455 5029 y Fi(const)g
(perm:array[0..3])c(of)k(integer=\(3,1,2,0\);)455 5129
y(v)o(ar)f(ma,m0:array[0..3])d(of)k(integer;)455 5228
y Fu(then)f(the)h(statements)455 5328 y Fi(m0:=)g(\(iota)f(0\)+1;)455
5428 y(ma:=m0[perm];)455 5527 y Fu(w)o(ould)g(set)i(the)f(v)n(ariables)
g(such)g(that)1788 5919 y(10)p eop
%%Page: 11 11
11 10 bop 330 390 a Ft(m0=)49 b(1)100 b(2)f(3)h(4)330
490 y(perm=)49 b(3)h(1)f(2)h(0)330 589 y(ma=)f(4)h(2)g(3)f(1)330
870 y Fv(4)119 b(Extensions)30 b(to)f(the)h(P)o(ascal)f(T)-9
b(ype)31 b(System)330 1072 y Fq(4.1)99 b(Pixels)330 1227
y Fu(Standard)21 b(P)o(ascal)i(is)g(a)g(strongly)f(typed)f(language,)g
(with)i(a)g(comparati)n(v)o(ely)c(rich)j(collection)g(of)g(type)330
1327 y(abstractions)d(:)25 b(enumeration,)17 b(set)j(formation,)e
(sub-ranging,)e(array)j(formation,)e(cartesian)i(product)3299
1297 y Fk(4)330 1427 y Fu(and)h(unioning)769 1397 y Fk(5)800
1427 y Fu(.)27 b(Ho)n(we)n(v)o(er)19 b(as)j(an)f(image)f(processing)f
(language)g(it)j(suf)n(fers)e(from)g(the)h(disadv)n(antage)330
1526 y(that)k(no)f(support)f(is)i(pro)o(vided)d(for)i(pix)o(els)g(and)g
(images.)37 b(Gi)n(v)o(en)24 b(the)g(vintage)g(of)g(the)g(language)f
(this)330 1626 y(is)31 b(not)f(surprising)f(and,)j(it)e(may)g(be)g
(thought,)h(this)g(de\002cienc)o(y)d(can)i(be)g(readily)g(o)o(v)o
(ercome)d(using)330 1726 y(e)o(xisting)22 b(language)e(features.)31
b(Can)22 b(pix)o(els)g(not)g(be)g(de\002ned)g(as)h(a)f(subrange)f
(0..255)f(of)i(the)h(inte)o(gers,)330 1825 y(and)d(images)g(modeled)e
(as)j(tw)o(o)g(dimensional)d(arrays?)455 1925 y(The)o(y)28
b(can)g(be,)j(and)e(are)g(so)g(de\002ned)f(in)i(man)o(y)d
(applications,)j(b)n(ut)f(such)g(an)g(approach)e(thro)n(ws)330
2024 y(onto)e(the)g(programmer)e(the)j(whole)f(b)n(urden)f(of)h
(handling)f(the)i(comple)o(xities)e(of)h(limited)h(precision)330
2124 y(arithmetic.)e(Among)19 b(the)h(problems)f(are:)434
2290 y(1.)41 b(When)21 b(doing)g(image)g(processing)g(it)i(is)f
(frequently)e(necessary)h(to)h(subtract)g(one)f(image)h(from)538
2390 y(another)m(,)27 b(or)g(to)h(create)f(ne)o(gati)n(v)o(es)f(of)h
(an)g(image.)47 b(Subtraction)26 b(and)h(ne)o(gation)e(implies)i(that)
538 2489 y(pix)o(els)19 b(should)h(be)g(able)g(to)g(tak)o(e)g(on)g(ne)o
(gati)n(v)o(e)e(v)n(alues.)434 2655 y(2.)41 b(When)20
b(adding)f(pix)o(els)g(using)h(limited)g(precision)g(arithmetic,)f
(addition)g(is)i(nonmontonic)c(due)538 2755 y(to)g(wrap-round.)k(Pix)o
(el)c(v)n(alues)g(of)g Fn(100)8 b(+)g(200)19 b(=)j(300)p
Fu(,)17 b(which)g(in)g(8)g(bit)h(precision)e(is)i(truncated)538
2855 y(to)25 b(44)f(a)i(v)n(alue)e(dark)o(er)g(than)g(either)h(of)f
(the)h(starting)g(v)n(alues.)39 b(A)25 b(similar)g(problem)f(can)g
(arise)538 2954 y(with)c(subtraction,)e(for)i(instance)g
Fn(100)d Fs(\000)h Fn(200)j(=)i(156)c Fu(in)i(8)f(bit)g(unsigned)f
(arithmetic.)434 3120 y(3.)41 b(When)19 b(multiplying)g(8)h(bit)g
(numbers,)f(as)h(one)g(does)g(in)g(e)o(x)o(ecuting)e(a)j(con)m(v)n
(olution)c(k)o(ernel,)i(one)538 3220 y(has)27 b(to)h(enlar)o(ge)e(the)i
(representation)d(and)i(shift)h(do)n(wn)e(by)i(an)f(appropriate)e
(amount)i(to)g(stay)538 3320 y(within)20 b(range.)330
3486 y(These)i(and)g(similar)h(problems)e(mak)o(e)g(the)i(coding)e(of)h
(image)g(\002lters)h(a)f(skilled)h(task.)32 b(The)22
b(dif)n(\002culty)330 3585 y(arises)f(because)e(one)h(is)h(using)f(an)g
(inappropriate)d(conceptual)i(representation)f(of)i(pix)o(els.)455
3685 y(The)27 b Fp(conceptual)e(model)i Fu(of)g(pix)o(els)h(in)f(V)-9
b(ector)27 b(P)o(ascal)h(is)g(that)g(the)o(y)f(are)g(real)h(numbers)e
(in)i(the)330 3785 y(range)33 b Fs(\000)p Fn(1)p Fo(:)p
Fn(0)p Fo(::)p Fn(1)p Fo(:)p Fn(0)p Fu(.)63 b(This)34
b(representation)e(o)o(v)o(ercomes)f(the)j(aforementioned)c(dif)n
(\002culties.)65 b(As)34 b(a)330 3884 y(signed)20 b(representation)e
(it)j(lends)f(itself)h(to)g(subtraction.)j(As)d(an)f(unbiased)g
(representation,)e(it)j(mak)o(es)330 3984 y(the)26 b(adjustment)f(of)g
(contrast)g(easier)m(,)i(one)f(can)f(reduce)g(contrast)g(50\045)h
(simply)f(by)h(multiplying)e(an)330 4083 y(image)f(by)g(0.5)791
4053 y Fk(6)825 4083 y Fu(.)35 b(Assignment)22 b(to)i(pix)o(el)f(v)n
(ariables)f(in)i(V)-9 b(ector)22 b(P)o(ascal)i(is)g(de\002ned)f(to)g
(be)h(saturating)330 4183 y(-)i(real)g(numbers)f(outside)g(the)h(range)
f Fs(\000)p Fn(1)p Fo(::)p Fn(1)h Fu(are)g(clipped)f(to)h(it.)43
b(The)26 b(multiplications)e(in)m(v)n(olv)o(ed)g(in)330
4283 y(con)m(v)n(olution)17 b(operations)i(f)o(all)i(naturally)e(into)g
(place.)455 4382 y(The)26 b Fp(implementation)f(model)h
Fu(of)h(pix)o(els)g(used)f(in)h(V)-9 b(ector)26 b(P)o(ascal)i(is)g(of)e
(8)h(bit)g(signed)f(inte)o(gers)330 4482 y(treated)19
b(as)g(\002x)o(ed)g(point)f(binary)g(fractions.)23 b(All)d(the)f(con)m
(v)o(ersions)e(necessary)h(to)i(preserv)o(e)d(the)i(mono-)330
4582 y(tonicity)28 b(of)h(addition,)h(the)g(range)e(of)h
(multiplication)e(etc,)32 b(are)d(dele)o(gated)e(to)j(the)f(code)g
(generator)330 4681 y(which,)18 b(where)g(possible,)g(will)h(implement)
e(the)i(semantics)f(using)g(ef)n(\002cient,)g(saturated)g(multi-media)
330 4781 y(arithmetic)h(instructions.)330 5018 y Fq(4.2)99
b(Dimensioned)26 b(T)-7 b(ypes)330 5174 y Fu(Dimensional)16
b(analysis)h(is)h(f)o(amiliar)f(to)g(scientists)i(and)d(engineers)g
(and)h(pro)o(vides)e(a)j(routine)e(check)g(on)330 5274
y(the)21 b(sanity)g(of)g(mathematical)f(e)o(xpressions.)26
b(Dimensions)20 b(can)h(not)f(be)h(e)o(xpressed)f(in)h(the)g(otherwise)
p 330 5345 1200 4 v 420 5400 a Fj(4)450 5424 y Fr(The)16
b Ff(r)o(ecord)j Fr(construct.)420 5481 y Fj(5)450 5505
y Fr(The)d Ff(case)i Fr(construct)h(in)e(records.)420
5562 y Fj(6)450 5585 y Fr(When)h(pix)o(els)h(are)g(represented)i(as)d
(inte)o(gers)i(in)e(the)h(range)g(0..255,)e(a)h(50\045)h(contrast)h
(reduction)g(has)e(to)h(be)f(e)o(xpressed)i(as)330 5664
y Fd(\(\()p Fe(p)c Fc(\000)g Fd(128\))h Fc(\004)f Fd(2\))h(+)e(128)p
Fr(.)1788 5919 y Fu(11)p eop
%%Page: 12 12
12 11 bop 330 390 a Fu(rigourous)22 b(type)h(system)h(of)f(standard)g
(P)o(ascal,)i(b)n(ut)e(the)o(y)h(are)f(a)h(useful)g(protection)e
(against)h(the)g(sort)330 490 y(of)g(programming)d(confusion)h(between)
i(imperial)g(and)g(metric)g(units)g(that)h(caused)e(the)i(demise)f(of)g
(a)330 589 y(recent)d(Mars)h(probe.)k(The)o(y)19 b(pro)o(vide)g(a)i
(means)f(by)g(which)g(\003oating)g(point)g(types)h(can)f(be)h
(specialised)330 689 y(to)f(represent)f(dimensioned)f(numbers)h(as)i
(is)g(required)e(in)h(physics)f(calculations.)24 b(F)o(or)c(e)o
(xample:)455 789 y Fi(kms)h(=\(mass,distance,time\);)455
888 y(meter=r)o(eal)e(of)h(distance;)455 988 y(kilo=r)o(eal)f(of)h
(mass;)455 1088 y(second=r)o(eal)f(of)h(time;)455 1187
y(newton=r)o(eal)f(of)h(mass)h(*)f(distance)g(*)g(time)h(PO)l(W)f(-2;)
455 1287 y(meter)o(persecond)g(=)h(r)o(eal)e(of)h(distance)g(*time)g
(PO)l(W)g(-1;)455 1386 y Fu(The)14 b(identi\002er)h(must)g(be)h(a)f
(member)f(of)h(a)h(scalar)g(type,)f(and)g(that)g(scalar)h(type)e(is)j
(then)e(refered)e(to)j(as)330 1486 y(the)k Fp(basis)f(space)h
Fu(of)f(the)h(dimensioned)d(type.)24 b(The)c(identi\002ers)f(of)g(the)h
(basis)g(space)f(are)h(refered)e(to)i(as)330 1586 y(the)d(dimensions)f
(of)h(the)h(dimensioned)d(type.)23 b(Associated)18 b(with)f(each)g
(dimension)f(of)h(a)h(dimensioned)330 1685 y(type)26
b(there)g(is)h(an)f(inte)o(ger)f(number)g(refered)f(to)j(as)g(the)f(po)
n(wer)f(of)h(that)h(dimension.)41 b(This)27 b(is)g(either)330
1785 y(introduced)17 b(e)o(xplicitly)i(at)h(type)f(declaration)f(time,)
i(or)f(determined)f(implicitly)h(for)g(the)h(dimensional)330
1885 y(type)g(of)g(e)o(xpressions.)455 1984 y(A)28 b(v)n(alue)f(of)h(a)
g(dimensioned)e(type)h(is)i(a)f(dimensioned)e(v)n(alue.)47
b(Let)29 b Fn(log)2632 2005 y Fm(d)2684 1984 y Fo(t)g
Fu(of)e(a)i(dimensioned)330 2084 y(type)19 b Fo(t)g Fu(be)g(the)g(po)n
(wer)f(to)h(which)g(the)g(dimension)f Fo(d)h Fu(of)g(type)g
Fo(t)g Fu(is)h(raised.)25 b(Thus)18 b(for)h Fo(t)k Fn(=)p
Fu(ne)n(wton)17 b(in)j(the)330 2183 y(e)o(xample)f(abo)o(v)o(e,)f(and)i
Fo(d)j Fn(=)p Fu(time,)d Fn(log)1436 2204 y Fm(d)1488
2183 y Fo(t)j Fn(=)g Fs(\000)p Fn(2)455 2283 y Fu(If)29
b Fo(x)h Fu(and)e Fo(y)33 b Fu(are)c(v)n(alues)g(of)g(dimensioned)e
(types)i Fo(t)1999 2295 y Fm(x)2041 2283 y Fu(and)f Fo(t)2220
2295 y Fm(y)2260 2283 y Fu(respecti)n(v)o(ely)-5 b(,)29
b(then)g(the)g(follo)n(wing)330 2383 y(operators)16 b(are)i(only)g
(permissible)f(if)h Fo(t)1444 2395 y Fm(x)1509 2383 y
Fn(=)23 b Fo(t)1627 2395 y Fm(y)1667 2383 y Fu(:)h(+,)19
b(-)f(,<,)g(>,)h(=,)f(<=,)h(>=.)24 b(F)o(or)18 b(+)g(and)g(-,)g(the)g
(dimensional)330 2482 y(type)j(of)g(the)h(result)f(is)h(the)g(same)f
(as)i(that)e(of)g(the)h(ar)o(guments.)k(The)21 b(operations.)27
b(The)21 b(operations)f(*,)i(/)330 2582 y(are)i(permited)e(if)i(the)f
(types)h Fo(t)1205 2594 y Fm(x)1246 2582 y Fu(and)f Fo(t)1420
2594 y Fm(y)1484 2582 y Fu(share)h(the)f(same)h(basis)g(space,)g(or)g
(if)g(the)f(basis)h(space)g(of)f(one)330 2682 y(of)d(the)g(types)g(is)h
(a)g(subrange)d(of)i(the)g(basis)h(space)f(of)g(the)h(other)-5
b(.)455 2781 y(The)19 b(operation)g Fi(PO)l(W)h Fu(is)h(permited)e
(between)g(dimensioned)f(types)i(and)g(inte)o(gers.)330
3000 y Fi(Dimension)h(deduction)f(rules)434 3157 y Fu(1.)41
b(If)30 b Fo(x)44 b Fn(=)f Fo(y)29 b Fs(\003)d Fo(z)35
b Fu(for)30 b Fo(x)44 b Fn(:)f Fo(t)1350 3169 y Fl(1)1388
3157 y Fo(;)14 b(y)45 b Fn(:)f Fo(t)1608 3169 y Fl(2)1645
3157 y Fo(;)14 b(z)46 b Fn(:)e Fo(t)1864 3169 y Fl(3)1932
3157 y Fu(with)32 b(basis)f(space)g Fo(B)36 b Fu(then)31
b Fs(8)2846 3169 y Fm(d)p Fb(2)p Fm(B)2995 3157 y Fn(log)3102
3178 y Fm(d)3155 3157 y Fo(t)3185 3169 y Fl(1)3265 3157
y Fn(=)538 3257 y(log)645 3277 y Fm(d)697 3257 y Fo(t)727
3269 y Fl(2)783 3257 y Fn(+)18 b(log)973 3277 y Fm(d)1026
3257 y Fo(t)1056 3269 y Fl(3)1093 3257 y Fu(.)434 3419
y(2.)41 b(If)20 b Fo(x)j Fn(=)g Fo(y)s(=z)g Fu(for)c
Fo(x)24 b Fn(:)f Fo(t)1184 3431 y Fl(1)1221 3419 y Fo(;)14
b(y)26 b Fn(:)d Fo(t)1401 3431 y Fl(2)1438 3419 y Fo(;)14
b(z)26 b Fn(:)e Fo(t)1617 3431 y Fl(3)1674 3419 y Fu(with)d(basis)f
(space)h Fo(B)j Fu(then)c Fs(8)2533 3431 y Fm(d)p Fb(2)p
Fm(B)2682 3419 y Fn(log)2790 3439 y Fm(d)2842 3419 y
Fo(t)2872 3431 y Fl(1)2933 3419 y Fn(=)i(log)3127 3439
y Fm(d)3180 3419 y Fo(t)3210 3431 y Fl(2)3265 3419 y
Fs(\000)538 3518 y Fn(log)645 3539 y Fm(d)697 3518 y
Fo(t)727 3530 y Fl(3)765 3518 y Fu(.)434 3680 y(3.)41
b(If)29 b Fo(x)40 b Fn(=)f Fo(y)32 b Fi(PO)l(W)d Fo(z)k
Fu(for)c Fo(x)40 b Fn(:)g Fo(t)1490 3692 y Fl(1)1527
3680 y Fo(;)14 b(y)42 b Fn(:)e Fo(t)1740 3692 y Fl(2)1777
3680 y Fo(;)14 b(z)43 b Fn(:)d Fo(integ)s(er)30 b Fu(with)g(basis)g
(space)f(for)f Fo(t)3000 3692 y Fl(2)3037 3680 y Fu(,)k
Fo(B)i Fu(then)538 3780 y Fs(8)585 3792 y Fm(d)p Fb(2)p
Fm(B)734 3780 y Fn(log)841 3800 y Fm(d)894 3780 y Fo(t)924
3792 y Fl(1)984 3780 y Fn(=)23 b(log)1179 3800 y Fm(d)1231
3780 y Fo(t)1261 3792 y Fl(2)1317 3780 y Fs(\002)18 b
Fo(z)t Fu(.)330 4058 y Fv(5)119 b(Operators)330 4243
y Fi(5.0.1)81 b(Dyadic)20 b(Operations)330 4399 y Fu(Dyadic)j
(operators)g(supported)f(are)i Fi(+,)i(+:,)f(-:,)g(-,)g(*,)g(/,)g(di)o
(v)-5 b(,)26 b(mod)e(,)i(**,)e(po)o(w)-5 b(,)26 b(<,)f(>,)h(>=,)g(<=,)g
(=,)g(<>,)330 4499 y(shr)-8 b(,)33 b(shl,)f(and,)g(or)-8
b(,)31 b(in,)h(min,)h(max)p Fu(.)52 b(All)30 b(of)f(these)g(are)g
(consistently)g(e)o(xtended)e(to)j(operate)e(o)o(v)o(er)330
4598 y(arrays.)h(The)22 b(operators)e(**,)i(po)n(w)f(denote)g(e)o
(xponentiation)e(and)i(raising)g(to)h(an)g(inte)o(ger)f(po)n(wer)g(as)h
(in)330 4698 y(ISO)c(Extended)e(P)o(ascal.)25 b(The)18
b(operators)e(+:)25 b(and)17 b(-:)25 b(e)o(xist)18 b(to)g(support)f
(saturated)g(arithmetic)g(on)h(bytes)330 4798 y(as)j(supported)d(by)i
(the)g(MMX)g(instruction)f(set.)330 5017 y Fi(5.0.2)81
b(Unary)20 b(operators)330 5172 y Fu(The)f(unary)f(operators)f
(supported)g(are)i Fi(+,)h(-,)g(*,)f(/,)h(max,)f(min,)h(di)o(v)-5
b(,)20 b(not,)f(r)o(ound,)g(sqrt,)g(sin,)i(cos,)e(tan,)330
5272 y(abs,)h(ln,)h(ord,)f(chr)-8 b(,)21 b(succ,)g(pr)o(ed)f
Fu(and)g Fi(@)p Fu(.)455 5372 y(Thus)e(the)i(follo)n(wing)d(are)j(v)n
(alid)e(unary)g(e)o(xpressions)p Fi(:)23 b(-1,)c(+b,)i(not)e(true,)g
(sqrt)h(abs)g(x,)f(sin)h(theta.)330 5471 y Fu(In)31 b(standard)g(P)o
(ascal)h(some)f(of)h(these)g(operators)e(are)h(treated)g(as)i
(functions,.)57 b(Syntactically)31 b(this)330 5571 y(means)g(that)h
(their)f(ar)o(guments)f(must)h(be)h(enclosed)e(in)i(brack)o(ets,)h(as)f
(in)g Fi(sin\(theta\))p Fu(.)58 b(This)32 b(usage)330
5670 y(remains)20 b(syntactically)f(correct)g(in)i(V)-9
b(ector)19 b(P)o(ascal.)1788 5919 y(12)p eop
%%Page: 13 13
13 12 bop 1412 446 a Fu(T)-7 b(able)20 b(1:)26 b(Identity)19
b(element)p 1134 547 1392 4 v 1132 647 4 100 v 1244 617
a(type)p 1495 647 V 201 w(operators)p 1989 647 V 140
w(identity)h(elem)p 2524 647 V 1134 650 1392 4 v 1134
667 V 1132 766 4 100 v 1189 736 a(number)p 1495 766 V
251 w(+,-)p 1989 766 V 445 w(0)p 2524 766 V 1134 769
1392 4 v 1132 869 4 100 v 1269 839 a(set)p 1495 869 V
359 w(+)p 1989 869 V 331 w(empty)f(set)p 2524 869 V 1134
872 1392 4 v 1132 972 4 100 v 1269 942 a(set)p 1495 972
V 338 w(-,*)p 1989 972 V 364 w(fullset)p 2524 972 V 1134
975 1392 4 v 1132 1075 4 100 v 1189 1045 a(number)p 1495
1075 V 102 w(*,/)h(,di)n(v)-5 b(,mod)p 1989 1075 V 293
w(1)p 2524 1075 V 1134 1078 1392 4 v 1132 1178 4 100
v 1184 1148 a(boolean)p 1495 1178 V 235 w(and)p 1989
1178 V 388 w(true)p 2524 1178 V 1134 1181 1392 4 v 1132
1281 4 100 v 1184 1251 a(boolean)p 1495 1281 V 260 w(or)p
1989 1281 V 401 w(f)o(alse)p 2524 1281 V 1134 1284 1392
4 v 330 1501 a Ft(type)729 1601 y(complex)48 b(=)i(record)e(data:)h
(array[0..1])f(of)h(real;end;)330 1700 y(var)249 b
(complexzero,complexone:complex;)330 1899 y({)50 b(headers)e(for)h
(functions)g(onto)g(the)g(complex)f(numbers)h(})330 1999
y(function)f(cmplx)747 b(\(realpart,imag:real\):complex;)330
2099 y(function)48 b(complex_add)447 b(\(A,B:Complex\):complex;)330
2198 y(function)48 b(complex_conjugate)147 b(\(A:Complex\):complex;)330
2298 y(function)48 b(complex_subtract)197 b(\(A,B:Complex\):complex;)
330 2398 y(function)48 b(complex_multiply)197 b
(\(A,B:Complex\):complex;)330 2497 y(function)48 b(complex_divide)297
b(\(A,B:Complex\):complex;)330 2597 y(function)48 b(im)897
b(\(c:complex\):real;)330 2696 y(function)48 b(re)897
b(\(c:complex\):real;)330 2796 y({)50 b(Standard)e(operators)g(on)i
(complex)e(numbers)98 b(})330 2896 y({)548 b(symbol)148
b(function)547 b(identity)48 b(element)g(})330 2995 y(operator)198
b(+)49 b(=)249 b(complex_add,)347 b(complexzero;)330
3095 y(operator)198 b(/)49 b(=)249 b(complex_divide,)197
b(complexone;)330 3195 y(operator)h(*)49 b(=)249 b(complex_multiply,)97
b(complexone;)330 3294 y(operator)198 b(-)49 b(=)249
b(complex_subtract,)97 b(complexzero;)980 3560 y Fu(Figure)19
b(4:)25 b(De\002ning)20 b(operations)e(on)i(comple)o(x)f(numbers)330
3660 y Fw(Note)j(that)g(only)g(the)g(function)h(headers)f(are)g(gi)n(v)
o(en)h(here)f(as)g(this)g(code)g(comes)h(from)f(the)g(interf)o(ace)g
(part)g(of)g(the)330 3759 y(system)d(unit.)k(The)c(function)h(bodies)f
(and)h(the)f(initialisation)f(of)h(the)g(v)n(ariables)g(comple)o(xone)i
(and)e(comple)o(xzero)330 3859 y(are)g(handled)h(in)f(the)g
(implementation)h(part)f(of)g(the)f(unit.)455 4124 y
Fu(The)j(dyadic)h(operators)e(are)i(e)o(xtended)f(to)h(unary)f(conte)o
(xt)g(by)g(the)i(insertion)e(of)h(an)g(identity)g(ele-)330
4224 y(ment)c(under)f(the)h(operation.)23 b(This)18 b(is)h(a)g
(generalisation)e(of)h(the)g(monadic)f(use)h(of)g(+)h(and)f(-)g(in)h
(standard)330 4323 y(pascal)h(where)e Fi(+a=0+a)i Fu(and)f
Fi(-a)g(=)h(0-a)f Fu(with)h(0)f(being)g(the)g(additi)n(v)o(e)f
(identity)-5 b(,)19 b(so)h(too)f Fi(/2)g(=)i(1/2)e Fu(with)g(1)330
4423 y(the)i(multiplicati)n(v)o(e)e(identity)-5 b(.)25
b(F)o(or)20 b(sets)i(the)f(notation)e Fi(-s)i Fu(means)g(the)f
(complement)f(of)i(the)f(set)i Fi(s)p Fu(.)27 b(The)330
4523 y(identity)19 b(elements)h(inserted)g(are)g(gi)n(v)o(en)f(in)h
(table)g(1.)330 4744 y Fi(5.0.3)81 b(Operator)19 b(o)o(v)o(erloading)
330 4899 y Fu(The)28 b(dyadic)e(operators)h(can)h(be)g(e)o(xtended)d
(to)k(operate)d(on)i(ne)n(w)g(types)f(by)h(operator)e(o)o(v)o
(erloading.)330 4999 y(Figure)e(4)h(sho)n(ws)h(ho)n(w)e(arithmetic)g
(on)h(the)g(type)g Fi(complex)f Fu(required)f(by)i(Extended)e(P)o
(ascal)j([15)n(])g(is)330 5099 y(de\002ned)18 b(in)h(V)-9
b(ector)18 b(P)o(ascal.)25 b(Each)18 b(operator)g(is)h(associated)g
(with)g(a)g(semantic)g(function)e(and)i(an)f(iden-)330
5198 y(tity)i(element.)k(The)19 b(operator)f(symbols)h(must)h(be)g(dra)
o(wn)e(from)h(the)h(set)g(of)f(prede\002ned)f(v)o(ector)h(pascal)330
5298 y(operators,)27 b(and)g(when)f(e)o(xpressions)g(in)m(v)n(olving)f
(them)i(are)g(parsed,)h(priorities)f(are)g(inherited)f(from)330
5397 y(the)18 b(prede\002ned)e(operators.)23 b(The)18
b(type)f(signature)g(of)h(the)g(operator)f(is)i(deduced)d(from)h(the)h
(type)g(of)g(the)330 5497 y(function)609 5467 y Fk(7)640
5497 y Fu(.)25 b(When)20 b(parsing)f(e)o(xpressions,)g(the)h(compiler)f
(\002rst)i(tries)f(to)h(resolv)o(e)e(operations)f(in)j(terms)p
330 5568 1200 4 v 420 5622 a Fj(7)450 5646 y Fr(V)-7
b(ector)18 b(P)o(ascal)g(allo)n(ws)g(function)h(results)f(to)f(be)h(of)
f(an)o(y)g(type.)1788 5919 y Fu(13)p eop
%%Page: 14 14
14 13 bop 330 390 a Fu(of)23 b(the)h(prede\002ned)e(operators)g(of)h
(the)h(language,)e(taking)h(into)g(account)f(the)i(standard)f
(mechanisms)330 490 y(allo)n(wing)i(operators)f(to)i(w)o(ork)f(on)h
(arrays.)41 b(Only)26 b(if)g(these)g(f)o(ail)g(does)g(it)g(search)g
(for)f(an)h(o)o(v)o(erloaded)330 589 y(operator)18 b(whose)i(type)g
(signature)f(matches)h(the)g(conte)o(xt.)455 689 y(In)d(the)i(e)o
(xample)d(in)j(\002gure)e(4,)h(comple)o(x)f(numbers)f(are)j(de\002ned)e
(to)h(be)g(records)f(containing)f(an)j(ar)n(-)330 789
y(ray)f(of)h(reals,)g(rather)f(than)g(simply)g(as)i(an)e(array)g(of)g
(reals.)25 b(Had)19 b(the)o(y)f(been)g(so)h(de\002ned,)e(the)i
(operators)330 888 y(+,*,-,/)g(on)h(reals)g(w)o(ould)g(ha)n(v)o(e)f
(mask)o(ed)h(the)g(corresponding)d(operators)i(on)g(comple)o(x)g
(numbers.)455 988 y(The)h(pro)o(vision)e(of)j(an)f(identity)g(element)g
(for)g(comple)o(x)f(addition)g(and)h(subtraction)f(ensures)h(that)330
1088 y(unary)25 b(minus,)h(as)h(in)f Fs(\000)p Fo(x)h
Fu(for)e Fo(x)34 b Fn(:)p Fu(comple)o(x,)25 b(is)i(well)g(de\002ned,)f
(and)f(correspondingly)d(that)k(unary)f(/)330 1187 y(denotes)i(comple)o
(x)g(reciprocal.)48 b(Ov)o(erloaded)26 b(operators)g(can)j(be)f(used)g
(in)g(array)g(maps)g(and)f(array)330 1287 y(reductions.)330
1567 y Fv(6)119 b(An)31 b(example)f(algorithm)330 1753
y Fu(As)23 b(an)e(e)o(xample)g(of)g(V)-9 b(ector)21 b(P)o(ascal)i(we)f
(will)g(look)f(at)i(an)e(image)h(\002ltering)f(algorithm.)28
b(In)22 b(particular)330 1852 y(we)j(will)g(look)f(at)h(applying)e(a)i
(separable)e(3)i(element)f(con)m(v)n(olution)e(k)o(ernel)i(to)g(an)h
(image.)37 b(W)-7 b(e)26 b(shall)330 1952 y(initially)18
b(present)f(the)g(algorithm)g(in)g(standard)g(P)o(ascal)h(and)f(then)h
(look)e(at)j(ho)n(w)e(one)g(might)g(re-e)o(xpress)330
2051 y(it)k(in)f(V)-9 b(ector)20 b(P)o(ascal.)455 2151
y(Con)m(v)n(olution)d(of)h(an)i(image)e(by)h(a)h(matrix)e(of)h(real)g
(numbers)f(can)h(be)g(used)g(to)h(smooth)e(or)h(sharpen)330
2251 y(an)i(image,)f(depending)e(on)j(the)f(matrix)g(used.)27
b(If)21 b Fo(A)g Fu(is)h(an)f(output)e(image,)h Fo(K)27
b Fu(a)21 b(con)m(v)n(olution)d(matrix,)330 2350 y(then)i(if)g
Fo(B)25 b Fu(is)c(the)f(con)m(v)n(olv)o(ed)e(image)1329
2547 y Fo(B)1392 2559 y Fm(y)r(;x)1512 2547 y Fn(=)1599
2468 y Fh(X)1648 2645 y Fm(i)1733 2468 y Fh(X)1778 2645
y Fm(j)1867 2547 y Fo(A)1929 2559 y Fm(y)r Fl(+)p Fm(i;x)p
Fl(+)p Fm(j)2183 2547 y Fo(K)2254 2559 y Fm(i;j)455 2812
y Fu(A)h(separable)f(con)m(v)n(olution)e(k)o(ernel)i(is)i(a)f(v)o
(ector)f(of)h(real)g(numbers)e(that)i(can)g(be)g(applied)f(indepen-)330
2912 y(dently)h(to)h(the)f(ro)n(ws)h(and)f(columns)g(of)g(an)h(image)f
(to)g(pro)o(vide)f(\002ltering.)24 b(It)c(is)h(a)f(specialisation)f(of)
h(the)330 3011 y(more)j(general)g(con)m(v)n(olution)e(matrix,)j(b)n(ut)
g(is)g(algorithmically)e(more)h(ef)n(\002cient)h(to)g(implement.)34
b(If)24 b Fi(k)330 3111 y Fu(is)d(a)g(con)m(v)n(olution)c(v)o(ector)m
(,)i(then)g(the)i(corresponding)16 b(matrix)k Fo(K)26
b Fu(is)21 b(such)f(that)g Fo(K)2702 3123 y Fm(i;j)2803
3111 y Fn(=)j Fa(k)2941 3123 y Fm(i)2969 3111 y Fa(k)3019
3123 y Fm(j)3054 3111 y Fu(.)455 3210 y(Gi)n(v)o(en)28
b(a)h(starting)g(image)f Fo(A)i Fu(as)g(a)f(tw)o(o)h(dimensional)d
(array)h(of)h(pix)o(els,)i(and)d(a)i(three)e(element)330
3310 y(k)o(ernel)22 b Fo(c)596 3322 y Fl(1)633 3310 y
Fo(;)14 b(c)706 3322 y Fl(2)743 3310 y Fo(;)g(c)816 3322
y Fl(3)853 3310 y Fu(,)24 b(the)e(algorithm)g(\002rst)h(forms)f(a)h
(temporary)d(array)i Fo(T)35 b Fu(whose)22 b(whose)g(elements)h(are)330
3410 y(the)16 b(weighted)e(sum)i(of)f(adjacent)g(ro)n(ws)g
Fo(T)1525 3422 y Fm(y)r(;x)1645 3410 y Fn(=)23 b Fo(c)1769
3422 y Fl(1)1806 3410 y Fo(A)1868 3422 y Fm(y)r Fb(\000)p
Fl(1)p Fm(;x)2052 3410 y Fn(+)q Fo(c)2154 3422 y Fl(2)2191
3410 y Fo(A)2253 3422 y Fm(y)r(;x)2351 3410 y Fn(+)q
Fo(c)2453 3422 y Fl(3)2490 3410 y Fo(A)2552 3422 y Fm(y)r
Fl(+1)p Fm(;x)2734 3410 y Fu(.)h(Then)15 b(in)g(a)h(second)330
3509 y(phase)26 b(it)h(sets)g(the)f(original)f(image)g(to)i(be)f(the)g
(weighted)f(sum)h(of)g(the)g(columns)f(of)h(the)g(temporary)330
3609 y(array:)f Fo(A)612 3621 y Fm(y)r(;x)734 3609 y
Fn(=)e Fo(c)858 3621 y Fl(1)895 3609 y Fo(T)944 3621
y Fm(y)r(;x)p Fb(\000)p Fl(1)1145 3609 y Fn(+)18 b Fo(c)1264
3621 y Fl(2)1301 3609 y Fo(T)1350 3621 y Fm(y)r(;x)1466
3609 y Fn(+)g Fo(c)1585 3621 y Fl(3)1622 3609 y Fo(T)12
b(y)s(;)i(x)k Fn(+)g(1)o Fu(.)27 b(Clearly)21 b(the)g(outer)e(edges)i
(of)f(the)h(image)f(are)330 3709 y(a)27 b(special)g(case,)i(since)d
(the)h(con)m(v)n(olution)d(is)k(de\002ned)d(o)o(v)o(er)h(the)h
(neighbours)d(of)i(the)h(pix)o(el,)g(and)g(the)330 3808
y(pix)o(els)22 b(along)f(the)h(boundaries)e(a)j(missing)f(one)g
(neighbour)-5 b(.)28 b(A)23 b(number)d(of)i(solutions)g(are)g(a)n(v)n
(ailable)330 3908 y(for)g(this,)h(b)n(ut)f(for)g(simplicity)g(we)h
(will)g(perform)d(only)i(v)o(ertical)g(con)m(v)n(olutions)d(on)j(the)h
(left)f(and)g(right)330 4008 y(edges)e(and)f(horizontal)g(con)m(v)n
(olutions)f(on)h(the)i(top)e(and)h(bottom)f(lines)i(of)f(the)g(image.)
455 4107 y(Figure)k(5)i(sho)n(ws)g Ft(conv)f Fu(an)h(implementation)d
(of)j(the)f(con)m(v)n(olution)e(in)j(Standard)e(P)o(ascal.)42
b(The)330 4207 y(pix)o(el)24 b(data)g(type)f(has)i(to)f(be)g(e)o
(xplicitly)f(introduced)f(as)j(the)f(subrange)f(-128..127.)33
b(Explicit)24 b(checks)330 4306 y(ha)n(v)o(e)d(to)g(be)h(inplace)f(to)g
(prv)o(ent)f(range)g(errors,)h(since)h(the)f(result)h(of)f(a)h(con)m(v)
n(olution)c(may)-5 b(,)21 b(depending)330 4406 y(on)26
b(the)h(k)o(ernel)f(used,)i(be)f(outside)f(the)h(bounds)e(of)i(v)n
(alid)f(pix)o(els.)45 b(Arithmetic)26 b(is)i(done)d(in)i(\003oating)330
4506 y(point)19 b(and)h(then)g(rounded.)455 4605 y(Image)g(processing)g
(algorithms)h(lend)g(themselv)o(es)f(particularly)g(well)i(to)g
(data-parallel)e(e)o(xpres-)330 4705 y(sion,)25 b(w)o(orking)d(as)i
(the)o(y)g(do)f(on)h(arrays)f(of)g(data)h(subject)g(to)g(uniform)e
(operations.)34 b(Figure)24 b(6)g(sho)n(ws)330 4805 y(a)f
(data-parallel)e(v)o(ersion)g(of)i(the)f(algorithm,)g
Ft(pconv)p Fu(,)g(implemented)f(in)i(V)-9 b(ector)21
b(P)o(ascal.)33 b(Note)22 b(that)330 4904 y(all)j(e)o(xplicit)e(loops)h
(disappear)f(in)h(this)h(v)o(ersion,)f(being)f(replaced)g(by)h
(assignments)g(of)f(array)h(slices.)330 5004 y(The)e(\002rst)h(line)g
(of)f(the)h(algorithm)e(initialises)i(three)f(v)o(ectors)g
Ft(p1,)49 b(p2,)g(p3)23 b Fu(of)f(pix)o(els)g(to)h(hold)f(the)330
5103 y(replicated)29 b(copies)h(of)g(the)g(k)o(ernel)g(coef)n
(\002cients)f Ft(c1,)50 b(c2,)f(c3)30 b Fu(in)h(\002x)o(ed)e(point)h
(format.)54 b(These)330 5203 y(v)o(ectors)20 b(are)h(then)g(used)g(to)h
(multiply)e(ro)n(ws)h(of)g(the)g(image)g(to)g(b)n(uild)g(up)g(the)g
(con)m(v)n(olution.)k(The)c(nota-)330 5303 y(tion)h Ft
(theim[][1..maxpix-1])e Fu(denotes)i(columns)f(1..maxpix-1)f(of)i(all)i
(ro)n(ws)e(of)h(the)f(image.)330 5402 y(Because)g(the)f(b)n(uilt)g(in)h
(pix)o(el)f(data)g(type)g(is)h(used,)f(all)h(range)f(checking)e(is)k
(handled)c(by)i(the)h(compiler)-5 b(.)330 5502 y(Since)30
b(\002x)o(ed)e(point)h(arithmetic)g(is)h(used)g(throughout,)e(there)h
(will)h(be)g(slight)f(rounding)e(errors)i(not)330 5602
y(encountered)20 b(with)k(the)f(pre)n(vious)f(algorithm,)g(b)n(ut)h
(these)g(are)g(acceptable)f(in)i(most)f(image)f(process-)1788
5919 y(14)p eop
%%Page: 15 15
15 14 bop 330 540 a Ft(type)529 639 y(pixel)49 b(=)h(-128..127;)529
739 y(tplain)f(=)h(array[0..maxpix)d(,0..maxpix])g(of)j(pixel;)330
938 y(procedure)e(conv\(var)g(theim:tplain;c1,c2,c3:real\);)330
1038 y(var)h(tim:array[0..maxpix,0..maxpix]of)44 b(pixel;)529
1137 y(temp:real;)529 1237 y(i,j:integer;)330 1337 y(begin)729
1436 y(for)49 b(i:=1)g(to)g(maxpix-1)g(do)778 1536 y(for)h(j:=)f(0)g
(to)h(maxpix)f(do)g(begin)1027 1636 y(temp:=)g
(theim[i-1][j]*c1+theim[i][j]*c2+thei)o(m[i+1)o(][j]*)o(c3;)1027
1735 y(if)h(temp>127)e(then)h(temp)g(:=127)g(else)1027
1835 y(if)h(temp<-128)e(then)h(temp:=-128;)1027 1934
y(tim[i][j]:=round\(temp\);)778 2034 y(end;)729 2134
y(for)g(j:=)g(0)h(to)f(maxpix)g(do)g(begin)1127 2233
y(tim[0][j]:=theim[0][j];)d(tim[maxpix][j]:=theim[maxpix][j];)729
2333 y(end;)729 2433 y(for)j(i:=0)g(to)g(maxpix)g(do)g(begin)928
2532 y(for)g(j:=)g(1)h(to)f(maxpix-1)g(do)g(begin)1127
2632 y(temp:=)g(tim[i][j-1]*c1+tim[i][j+1]*c3+tim[)o(i][j])o(*c2;)1127
2731 y(if)g(temp>127)g(then)g(temp)g(:=127)g(else)1127
2831 y(if)g(temp<-128)g(then)g(temp:=-128;)1127 2931
y(tim[i][j]:=round\(temp\);)928 3030 y(end;)928 3130
y(theim[i][0]:=tim[i][0];)c(theim[i][maxpix]:=tim[i][maxpix];)729
3230 y(end;)330 3329 y(end;)819 3595 y Fu(Figure)20 b(5:)25
b(Standard)19 b(P)o(ascal)i(implementation)d(of)i(the)g(con)m(v)n
(olution)330 4105 y Ft(procedure)48 b(pconv\(var)g
(theim:tplain;c1,c2,c3:real\);)330 4204 y(var)h
(tim:array[0..maxpix,0..maxpix]of)44 b(pixel;)529 4304
y(p1,p2,p3:array[0..maxpix]of)95 b(pixel;)330 4404 y(begin)579
4503 y(p1:=c1;)49 b(p2:=c2;)f(p3:=c3;)579 4603 y(tim)h([1..maxpix-1])f
(:=)729 4702 y(theim[0..maxpix-2]*p1)d
(+theim[1..maxpix-1]*p2+theim[2..maxpi)o(x]*p3;)579 4802
y(tim[0]:=theim[0];)i(tim[maxpix]:=theim[maxpix];)579
4902 y(theim[][1..maxpix-1]:=)729 5001 y
(tim[][0..maxpix-2]*p1+tim[][2..ma)o(xpix])o(*p3+t)o(im[][1)o(..max)o
(pix-1)o(]*p2;)579 5101 y(theim[][0]:=tim[][0];)f
(theim[][maxpix]:=tim[][maxpix];)330 5201 y(end;)859
5466 y Fu(Figure)19 b(6:)26 b(V)-9 b(ector)19 b(P)o(ascal)i
(implementation)d(of)h(the)i(con)m(v)n(olution)1788 5919
y(15)p eop
%%Page: 16 16
16 15 bop 981 446 a Fu(T)-7 b(able)20 b(2:)25 b(Comparati)n(v)o(e)18
b(Performance)g(on)i(Con)m(v)n(olution)380 543 y(Algorithm)97
b(Implementation)g(T)-7 b(ar)o(get)19 b(Processor)119
b(Million)20 b(Ops)g(Per)h(Second)p 330 576 2644 4 v
380 645 a(con)m(v)285 b(V)-9 b(ector)20 b(P)o(ascal)177
b(Pentium)19 b(+)i(MMX)458 b(61)825 745 y(Borland)20
b(P)o(ascal)126 b(286)19 b(+)i(287)681 b(5.5)825 845
y(Delphi)20 b(4)337 b(486)905 b(86)380 944 y(pcon)m(v)243
b(V)-9 b(ector)20 b(P)o(ascal)177 b(486)905 b(80)825
1044 y(V)-9 b(ector)20 b(P)o(ascal)177 b(Pentium)19 b(+)i(MMX)437
b(817)330 1133 y Fw(Measurements)20 b(done)g(on)g(a)f(1Ghz)g(Athlon,)g
(running)h(W)m(indo)n(ws)f(2000.)330 1398 y Fu(ing)28
b(applications.)46 b(Fix)o(ed)27 b(point)h(pix)o(el)f(arithmetic)g(has)
h(the)g(adv)n(antage)e(that)i(it)g(can)g(be)g(ef)n(\002cently)330
1498 y(implemented)18 b(in)j(parallel)e(using)h(multi-media)f
(instructions.)455 1597 y(It)32 b(is)h(clear)f(that)g(the)g
(data-parallel)f(implementation)f(is)j(some)n(what)e(more)g(concise)h
(than)g(the)330 1697 y(sequential)e(one,)j(12)e(lines)g(with)g(505)f
(characters)g(compared)f(to)j(26)e(lines)h(with)h(952)e(characters.)330
1797 y(It)e(also)g(runs)g(considerably)d(f)o(aster)m(,)30
b(as)e(sho)n(wn)g(in)g(table)f(2.)49 b(This)28 b(e)o(xpresses)f(the)h
(performance)d(of)330 1896 y(dif)n(ferent)h(implementations)f(in)i
(millions)h(of)f(ef)n(fecti)n(v)o(e)e(arithmetic)i(operations)f(per)h
(second.)45 b(It)28 b(is)330 1996 y(assumed)19 b(that)g(the)g(basic)g
(algorithm)e(requires)h(6)i(multiplications)d(and)i(6)g(adds)g(per)f
(pix)o(el)h(processed.)330 2095 y(The)f(data)h(parallel)f(algorithm)f
(runs)i(12)f(times)h(f)o(aster)g(than)f(the)h(serial)g(one)f(when)g
(both)g(are)h(compiled)330 2195 y(using)i(V)-9 b(ector)21
b(P)o(ascal)i(and)e(tar)o(geted)f(at)i(the)g(MMX)g(instructionset.)29
b(The)21 b Ft(pconv)h Fu(also)g(runs)f(a)h(third)330
2295 y(f)o(aster)d(than)f Ft(conv)h Fu(when)f(it)i(is)g(tar)o(geted)d
(at)i(the)g(486)f(instructionset,)g(which)g(in)h(ef)n(fect,)g
(serialises)h(the)330 2394 y(code.)455 2494 y(F)o(or)i(comparison)f
Ft(conv)h Fu(w)o(as)i(run)e(on)g(tw)o(o)h(other)f(P)o(ascal)i
(Compilers,)e(Borland)g(P)o(ascal)h(and)g(its)330 2594
y(successor)16 b(Delphi.)23 b(Both)16 b(of)f(these)h(are)g(e)o(xtended)
e(implementations)g(of)i(P)o(ascal)g(supporting)e(objects,)330
2693 y(b)n(ut)21 b(with)f(no)g(support)g(for)f(v)o(ector)h(arithmetic.)
25 b(Delphi)20 b(is)i(a)f(state)g(of)f(the)h(art)f(commercial)f
(compiler)m(,)330 2793 y(as)25 b(Borland)e(P)o(ascal)i(w)o(as)g(when)e
(released)h(in)g(1992.)35 b(In)24 b(both)g(cases)g(range)f(checking)g
(w)o(as)i(enabled)330 2892 y(for)d(consistenc)o(y)g(with)h(V)-9
b(ector)23 b(P)o(ascal.)33 b(The)23 b(only)f(other)h(change)e(w)o(as)j
(to)f(de\002ne)g(the)g(type)f(pix)o(el)h(as)330 2992
y(equi)n(v)n(alent)k(to)h(the)g(system)h(type)f(shortint)f(to)i(force)e
(implementation)f(as)j(a)g(signed)e(byte.)49 b(Delphi)330
3092 y(runs)20 b Ft(conv)h Fu(40\045)g(f)o(aster)f(than)h(V)-9
b(ector)20 b(P)o(ascal)h(does,)g(whereas)f(Borland)g(P)o(ascal)h(runs)f
(it)i(at)f(only)f(7\045)330 3191 y(of)g(the)g(speed.)455
3291 y(Further)26 b(performance)e(comparisons)h(are)j(gi)n(v)o(en)e(in)
h(table)g(3.)46 b(The)27 b(tests)h(here)f(in)m(v)n(olv)o(e)f(v)o(ector)
330 3391 y(arithmetic)15 b(on)h(v)o(ectors)f(of)h(length)g(640)f(and)h
(tak)o(e)g(the)g(general)f(form)g Fo(v)2378 3403 y Fl(1)2439
3391 y Fn(=)23 b Fo(v)2567 3403 y Fl(2)2604 3391 y Fo(\036v)2693
3403 y Fl(3)2748 3391 y Fu(for)15 b(some)h(operator)330
3490 y Fo(\036)21 b Fu(and)f(some)g(v)o(ectors)f Fo(v)1036
3502 y Fl(1)1074 3490 y Fo(;)14 b(v)1151 3502 y Fl(2)1188
3490 y Fo(;)g(v)1265 3502 y Fl(3)1302 3490 y Fu(.)26
b(The)20 b(e)o(xception)e(being)h(the)h(dot)g(product)f(operation)f
(coded)h(as)330 3656 y Ft(r:=\\+)49 b(r2*r3)330 3822
y Fu(in)23 b(V)-9 b(ector)23 b(P)o(ascal,)h(and)e(using)h(con)m(v)o
(entional)d(loops)i(for)h(the)g(other)f(compilers.)33
b(When)22 b(tar)o(geted)g(on)330 3922 y(a)27 b(486)f(the)h(performance)
d(of)i(the)h(V)-9 b(ector)26 b(P)o(ascal)h(compiler)e(is)j(roughly)d
(comparable)f(with)j(that)g(of)330 4022 y(Delphi.)d(The)18
b(e)o(xception)f(being)h(dot)g(product)f(operations)g(on)i(which)f
(Delphi)g(performs)f(particularly)330 4121 y(well.)26
b(When)21 b(the)f(tar)o(get)g(machine)f(is)j(a)f(K6)f(which)g
(incorporates)f(both)h(the)g(MMX)h(and)f(the)g(3DNo)n(w)330
4221 y(SIMD)29 b(instruction)e(sets,)32 b(the)d(acceleration)f(is)h
(broadly)e(in)i(line)g(with)g(the)g(de)o(gree)f(of)g(parallelism)330
4320 y(of)n(fered)20 b(by)i(the)h(architecture:)28 b(8)22
b(fold)g(for)f(byte)h(operands,)f(4)h(fold)g(for)g(16)g(bit)g(ones,)g
(and)g(2)h(fold)e(for)330 4420 y(inte)o(gers)h(and)g(reals.)34
b(The)22 b(speedup)g(is)h(best)h(for)e(the)h(8)g(bit)g(operands,)e(a)j
(se)n(v)o(enfold)c(acceleration)i(on)330 4520 y(byte)h(additions)g(for)
g(e)o(xample.)34 b(F)o(or)23 b(lar)o(ger)g(operands)f(it)i(f)o(alls)h
(of)n(f)e(to)g(60\045)h(for)f(32)g(bit)h(inte)o(gers)f(and)330
4619 y(33\045)d(for)f(32)h(bit)h(reals.)455 4719 y(F)o(or)g(data)g
(types)g(where)g(saturated)g(arithmetic)g(is)h(used,)f(the)h
(accleration)e(is)i(most)g(mark)o(ed,)e(a)i(12)330 4819
y(fold)f(acceleration)f(being)h(achie)n(v)o(ed)e(for)i(saturated)g
(byte)g(additions)g(and)g(a)h(16)f(fold)g(acceleration)f(on)330
4918 y(pix)o(el)25 b(additions.)40 b(These)25 b(additional)f(gains)h
(come)g(from)f(the)i(remo)o(v)n(al)d(of)j(bounds)e(checking)f(code)330
5018 y(that)d(w)o(ould)g(otherwise)f(be)h(required.)330
5298 y Fv(7)119 b(Implementation)330 5484 y Fu(At)22
b(the)f(heart)g(of)g(our)f(implementation)f(is)j(the)f(machine)f
(independent)f(Intermediate)g(Language)g(for)330 5583
y(Code)26 b(Generation)e(\(ILCG\).)h(ILCG[8)o(])h(is)h(strongly)e
(typed,)h(supporting)e(the)i(base)g(types)f(common)1788
5919 y(16)p eop
%%Page: 17 17
17 16 bop 1176 446 a Fu(T)-7 b(able)20 b(3:)25 b(Performance)18
b(on)i(v)o(ector)f(k)o(ernels)380 525 y(BP)i(286)98 b(DP)21
b(486)98 b(VP)21 b(486)98 b(VP)21 b(K6)99 b(test)p 330
559 2586 4 v 380 628 a(46)262 b(166)225 b(333)g(2329)160
b(unsigned)19 b(byte)g(additions)380 728 y(38)262 b(110)225
b(179)g(2329)160 b(saturated)20 b(unsigned)e(byte)i(additions)380
828 y(47)262 b(285)225 b(291)g(466)202 b(32)20 b(bit)g(inte)o(ger)f
(additions)380 927 y(39)262 b(124)225 b(291)g(1165)160
b(16)20 b(bit)g(inte)o(ger)f(additions)380 1027 y(33)262
b(250)225 b(291)g(388)202 b(real)20 b(additions)380 1126
y(23)262 b(98)267 b(146)225 b(2330)160 b(pix)o(el)20
b(additions)380 1226 y(39)262 b(99)267 b(146)225 b(1165)160
b(pix)o(el)20 b(multiplications)380 1326 y(32)262 b(161)225
b(146)g(141)202 b(real)20 b(dot)g(product)380 1425 y(33)262
b(440)225 b(161)g(166)202 b(inte)o(ger)19 b(dot)h(product)330
1514 y Fw(BP)e(286)i(-)e(Borland)i(P)o(ascal)e(compiler)i(with)e(287)i
(instructions)f(enabled)h(range)g(checks)g(of)n(f.)330
1605 y(DP)e(486)i(-)e(Delphi)330 1697 y(VP)g(486)i(-)e(V)-8
b(ector)19 b(P)o(ascal)g(tar)o(geted)g(at)f(a)h(486)330
1788 y(VP)f(K6)h(-)g(V)-8 b(ector)18 b(P)o(ascal)h(tar)o(geted)g(at)g
(and)g(AMD)g(K6)330 1888 y(All)f(\002gures)h(in)g(millions)g(of)g
(operations)h(per)f(second)h(on)f(a)g(1)g(Ghz)g(Athlon.)330
2153 y Fu(in)25 b(most)h(programming)21 b(languages)j(along)g(with)i
(type)e(constructors)g(for)h(v)o(ectors,)g(stacks)h(and)e(ref-)330
2253 y(erences.)47 b(In)27 b(particular)m(,)h(operators)e(may)i(be)f
(implicitly)h(o)o(v)o(erloaded)c(for)j(v)o(ector)g(operations.)46
b(Its)330 2352 y(purpose)16 b(is)j(to)f(act)g(as)h(an)f(input)f(to)h
(an)f(automatically)g(constructed)f(code)h(generator)m(,)f(w)o(orking)g
(on)i(the)330 2452 y(syntax)i(matching)g(principles)g(described)g(in)h
([11)o(].)27 b(Simple)21 b(rules)g(link)g(high-le)n(v)o(el)e(re)o
(gister)h(transfer)330 2552 y(descriptions)f(with)h(the)g(equi)n(v)n
(alent)e(lo)n(w-le)n(v)o(el)h(assembly)g(representations.)k(ILCG)e(may)
e(be)h(used)g(as)330 2651 y(a)i(machine-oriented)c(semantics)j(of)g(a)h
(high-le)n(v)o(el)d(program)g(or)i(of)g(a)h(CPU.)g(It)f(may)g(also)h
(be)f(used)g(as)330 2751 y(an)f(intermediate)f(language)f(for)i
(program)e(transformation.)330 2988 y Fq(7.1)99 b(Analogous)24
b(w)o(ork)330 3144 y Fu(There)29 b(has)g(been)g(sustained)g(research)g
(within)g(the)g(parallel)g(programming)d(community)h(into)j(the)330
3244 y(e)o(xploitation)18 b(of)j(SIMD)f(parallelism)g(on)g
(multi-processor)f(architectures.)24 b(Most)d(w)o(ork)f(in)g(this)h
(\002eld)330 3343 y(has)d(been)e(dri)n(v)o(en)g(by)h(the)g(needs)g(of)g
(high-performance)c(scienti\002c)18 b(processing,)e(from)h(\002nite)g
(element)330 3443 y(analysis)28 b(to)f(meteorology)-5
b(.)44 b(In)27 b(particular)m(,)h(there)f(has)h(been)f(considerable)e
(interest)j(in)g(e)o(xploiting)330 3543 y(data)20 b(parallelism)f(in)h
(FOR)-5 b(TRAN)21 b(array)e(processing,)g(culminating)f(in)i(High)f
(Performance)f(F)o(ortran)330 3642 y(and)i(F)-7 b(.)22
b(T)-7 b(ypically)20 b(this)i(in)m(v)n(olv)o(es)e(tw)o(o)h(approaches.)
k(First)d(of)f(all,)g(operators)f(may)h(be)f(o)o(v)o(erloaded)e(to)330
3742 y(allo)n(w)i(array-v)n(alued)c(e)o(xpressions,)i(similar)i(to)g
(APL.)f(Secondly)-5 b(,)18 b(loops)h(may)g(be)g(analysed)g(to)h(estab-)
330 3841 y(lish)f(where)e(it)i(is)g(possible)f(to)g(unroll)f(loop)g
(bodies)g(for)h(parallel)f(e)n(v)n(aluation.)23 b(Compilers)17
b(embodying)330 3941 y(these)26 b(techniques)f(tend)h(to)g(be)g
(architecture)f(speci\002c)h(to)g(maximise)g(performance)d(and)j(the)o
(y)f(ha)n(v)o(e)330 4041 y(been)c(aimed)h(primarily)e(at)j(specialised)
f(super)n(-computer)d(architectures,)i(e)n(v)o(en)g(though)f(contempo-)
330 4140 y(rary)d(general)g(purpose)f(microprocessors)g(pro)o(vide)g
(similar)i(features,)f(albeit)h(on)f(a)i(f)o(ar)e(smaller)h(scale.)455
4240 y(There)i(has)h(been)g(recent)g(interest)g(in)g(the)h(application)
e(of)h(v)o(ectorisation)e(techniques)h(to)h(instruc-)330
4340 y(tion)c(le)n(v)o(el)f(parallelism.)24 b(Thus,)17
b(Cheong)f(and)g(Lam)h([7)o(])g(discuss)g(the)g(use)h(of)e(the)h
(Stanford)f(Uni)n(v)o(ersity)330 4439 y(SUIF)23 b(parallelising)e
(compiler)g(to)h(e)o(xploit)f(the)h(SUN)h(VIS)f(e)o(xtensions)f(for)h
(the)g(UltraSparc)g(from)f(C)330 4539 y(programs.)38
b(The)o(y)24 b(report)g(speedups)g(of)h(around)f(4)h(on)g(byte)f(inte)o
(ger)g(parallel)h(addition.)39 b(Krall)25 b(and)330 4638
y(Lelait')-5 b(s)23 b(compiler)f([21)o(])g(also)i(e)o(xploits)e(the)g
(VIS)h(e)o(xtensions)f(on)g(the)h(Sun)g(UltraSP)-8 b(ARC)24
b(processor)330 4738 y(from)30 b(C)h(using)f(the)h(CoSy)g(compiler)e
(frame)n(w)o(ork.)55 b(The)o(y)29 b(compare)h(classic)h(v)o
(ectorisation)e(tech-)330 4838 y(niques)22 b(to)h(unrolling,)e
(concluding)g(that)i(both)f(are)g(equally)g(ef)n(fecti)n(v)o(e,)g(and)g
(report)g(speedups)g(of)g(2.7)330 4937 y(to)e(4.7.)k(Sreraman)18
b(and)h(Go)o(vindarajan)e([28)o(])i(e)o(xploit)g(Intel)g(MMX)h
(parallelism)f(from)g(C)h(with)g(SUIF)-7 b(,)330 5037
y(using)16 b(a)g(v)n(ariety)g(of)g(v)o(ectorisation)e(techniques)h(to)h
(generates)g(inline)f(assembly)h(language,)f(achie)n(ving)330
5137 y(speedups)22 b(from)g(2)h(to)g(6.5.)33 b(All)23
b(of)g(these)g(groups)f(tar)o(get)g(speci\002c)h(architectures.)32
b(Finally)-5 b(,)23 b(Leupers)330 5236 y([23)o(])d(has)g(reported)f(a)h
(C)h(compiler)e(that)h(uses)h(v)o(ectorising)d(optimisation)h
(techniques)g(for)g(compiling)330 5336 y(code)26 b(for)f(the)h
(multimedia)f(instruction)g(sets)j(of)e(some)g(signal)g(processors,)g
(b)n(ut)h(this)g(is)g(not)f(gener)n(-)330 5435 y(alised)20
b(to)h(the)f(types)g(of)g(processors)f(used)h(in)g(desktop)f
(computers.)455 5535 y(There)26 b(has)i(been)e(e)o(xtensi)n(v)o(e)g
(research,)i(initiated)f(by)g(Graham)f(and)h(Glan)m(ville,)h(into)f
(the)g(auto-)330 5635 y(matic)17 b(production)d(of)i(code)g(generators)
f(b)n(ut)h(predominantly)e(for)i(con)m(v)o(entional)d(rather)j(than)g
(parallel)1788 5919 y(17)p eop
%%Page: 18 18
18 17 bop 330 390 a Fu(instruction)20 b(sets.)29 b(There)20
b(has)i(also)f(been)g(research)f(in)i(the)f(hardw)o(are/softw)o(are)e
(co-design)g(commu-)330 490 y(nity)26 b(into)h(compilation)e
(techniques)g(for)h(non-standard)e(architectures.)43
b(Leupers)26 b([22)n(])h(MIMOLA)330 589 y(language)k(allo)n(ws)j(the)f
(e)o(xpression)e(of)i(both)f(programs)g(and)g(structural)g(hardw)o(are)
g(descriptions,)330 689 y(dri)n(ving)f(the)h(micro-code)e(compiler)i
(MSSQ.)g(Hadjiyiannis')f([12)o(])i(Instruction)d(Set)k(Description)330
789 y(Language)19 b(and)h(Ramse)o(y)h(and)f(Da)n(vidson')-5
b(s)21 b([26)n(])g(Speci\002cation)f(Language)f(for)i(Encoding)d(and)j
(De-)330 888 y(coding)c(are)i(also)h(aimed)e(at)h(embedded)e(systems,)i
(based)g(on)f(lo)n(w)h(le)n(v)o(el)g(architecture)e(descriptions.It)330
988 y(is)26 b(not)e(clear)h(whether)f(MIMOLA,)g(ISDL)h(or)f(SLED)h
(could)f(readily)g(be)h(used)f(for)g(describing)g(data)330
1088 y(parallelism)16 b(through)e(operator)g(o)o(v)o(erloading)f(as)k
(found)e(in)h(MMX)h(e)o(xtensions.)22 b(Furthermore,)15
b(ISDL)330 1187 y(and)20 b(SLED')-5 b(s)20 b(type)g(systems)h(will)g
(not)f(readily)f(e)o(xpress)g(the)i(v)o(ector)d(types)j(required)d(for)
h(MMX.)455 1287 y(T)-7 b(o)19 b(e)o(xploit)g(MMX)h(and)f(other)g(e)o
(xtended)f(instruction)g(sets)j(it)g(is)f(desirable)f(to)h(de)n(v)o
(elop)e(compiler)330 1386 y(technology)25 b(based)j(on)g(a)g(richer)f
(meta-language)e(which)j(can)g(e)o(xpress)f(non-standard)e(instruction)
330 1486 y(sets)e(in)f(a)h(succinct)e(b)n(ut)h(architecture)e
(independent)g(manner)-5 b(.)29 b(Such)21 b(a)i(meta-language)c(should)
i(sup-)330 1586 y(port)g(a)h(rich)f(set)i(of)e(types)h(and)f
(associated)g(operators,)g(and)g(be)g(amenable)g(to)g(formal)g
(manipulation.)330 1685 y(It)26 b(should)e(also)i(support)e(a)i(relati)
n(v)o(ely)e(high)h(le)n(v)o(el)g(of)g(abstraction)f(from)h(dif)n
(ferent)e(manuf)o(acturers')330 1785 y(re)o(gister)c(le)n(v)o(el)h
(implementations)f(of)g(what)i(are)f(ef)n(fecti)n(v)o(ely)e(the)i(same)
h(MMX)f(operations.)330 2023 y Fq(7.2)99 b(Intermediate)26
b(Language)g(f)n(or)f(Code)g(Generation)330 2178 y Fu(A)c(V)-9
b(ector)19 b(P)o(ascal)i(program)d(is)k(translated)d(into)h(an)g(ILCG)h
(abstract)f(semantic)g(tree)g(implemented)f(as)330 2278
y(a)26 b(Ja)n(v)n(a)g(datastructure.)39 b(The)25 b(tree)g(is)i(passed)e
(to)h(a)g(machine)e(generated)g(Ja)n(v)n(a)i(class)g(corresponding)330
2378 y(to)21 b(the)f(code)g(generator)f(for)h(the)h(tar)o(get)f
(machine.)25 b(Code)20 b(generator)f(classes)j(currently)d(e)o(xist)i
(for)f(the)330 2477 y(Intel)25 b(486,)f(Pentium)h(with)g(MMX,)f(and)h
(P3)g(and)f(also)h(the)g(AMD)g(K6.)39 b(Output)24 b(is)i(assembler)e
(code)330 2577 y(which)c(is)h(assembled)e(using)h(the)g(N)m(ASM)h
(assembler)f(and)f(link)o(ed)h(using)g(the)g(gcc)g(loader)-5
b(.)455 2676 y(The)21 b(code)h(generators)f(follo)n(w)g(the)i(pattern)e
(matching)g(approach)f(described)h(in[2)o(][5)o(]and)g([11)o(],)330
2776 y(and)28 b(are)g(automatically)f(generated)f(from)i(machine)f
(speci\002cations)g(written)i(in)f(ILCG)g(.)h(ILCG)g(is)330
2876 y(a)24 b(strongly)e(typed)h(language)e(which)i(supports)g(v)o
(ector)f(data)h(types)h(and)f(the)g(mapping)f(of)h(operators)330
2975 y(o)o(v)o(er)28 b(v)o(ectors.)50 b(It)30 b(is)g(well)f(suited)g
(to)g(describing)f(SIMD)h(instruction)f(sets.)52 b(The)29
b(code)g(generator)330 3075 y(classes)g(e)o(xport)d(from)g(their)i
(interf)o(aces)f(details)h(about)e(the)i(de)o(gree)e(of)h(parallelism)h
(supported)d(for)330 3175 y(each)h(data-type.)43 b(This)27
b(is)h(used)e(by)h(the)f(front)g(end)g(compiler)g(to)g(iterate)h(o)o(v)
o(er)f(arrays)g(longer)f(than)330 3274 y(those)h(supported)d(by)j(the)g
(underlying)d(machine.)40 b(Where)26 b(supported)e(parallelism)h(is)i
(unitary)-5 b(,)25 b(this)330 3374 y(def)o(aults)20 b(to)g(iteration)g
(o)o(v)o(er)e(the)j(whole)e(array)-5 b(.)455 3473 y(Selection)21
b(of)g(tar)o(get)g(machines)g(is)i(by)e(a)h(compile)f(time)h(switch)g
(which)f(causes)h(the)g(appropriate)330 3573 y(code)e(generator)e
(class)j(to)f(be)g(dynamically)f(loaded.)455 3673 y(The)g(structure)h
(of)g(the)g(V)-9 b(ector)19 b(P)o(ascal)i(system)f(is)h(sho)n(wn)f(in)g
(\002gure)g(7.2.)k(It)c(is)h(comple)o(x.)455 3772 y(Consider)e(\002rst)
i(the)f(path)g(follo)n(wed)f(from)g(a)i(source)e(\002le,)i(the)f
(phases)g(that)g(it)h(goes)f(through)e(are)452 3938 y(i.)42
b(The)20 b(source)h(\002le)g(\(1\))g(is)h(parsed)e(by)h(a)g(ja)n(v)n(a)
g(class)h(P)o(ascalCompiler)-5 b(.class)21 b(\(2\))g(a)g(hand)f
(written,)538 4038 y(recursi)n(v)o(e)j(descent)i(parser[32)m(],)h(and)f
(results)g(in)g(a)h(Ja)n(v)n(a)f(data)g(structure)f(\(3\),)i(an)f(ILCG)
g(tree,)538 4138 y(which)19 b(is)i(basically)f(a)h(semantic)f(tree)g
(for)g(the)g(program.)429 4304 y(ii.)42 b(The)16 b(resulting)g(tree)h
(is)h(transformed)d(\(4\))i(from)e(sequential)i(to)g(parallel)f(form)g
(and)h(machine)f(in-)538 4403 y(dependent)j(optimisations)i(are)g
(performed.)27 b(Since)21 b(ILCG)h(trees)g(are)g(ja)n(v)n(a)f(objects,)
h(the)o(y)f(can)538 4503 y(contain)i(methods)h(to)g(self-optimise.)37
b(Each)24 b(class)i(contains)e(for)f(instance)i(a)g(method)e
Ft(eval)538 4603 y Fu(which)f(attempts)g(to)h(e)n(v)n(aluate)f(a)h
(tree)f(at)i(compile)d(time.)33 b(Another)21 b(method)g
Ft(simplify)h Fu(ap-)538 4702 y(plies)15 b(generic)f(machine)g
(independent)f(transpormations)g(to)i(the)g(code.)23
b(Thus)15 b(the)g Ft(simplify)538 4802 y Fu(method)h(of)h(the)h(class)h
Ft(For)f Fu(can)f(perform)f(loop)h(unrolling,)f(remo)o(v)n(al)g(of)i
(redundant)d(loops)i(etc.)538 4901 y(Other)i(methods)g(allo)n(w)i(tree)
f(w)o(alk)o(ers)g(to)g(apply)g(conte)o(xt)f(speci\002c)h
(transformations.)406 5067 y(iii.)42 b(The)23 b(resulting)f(ilcg)h
(tree)h(\(7\))e(is)j(w)o(alk)o(ed)e(o)o(v)o(er)e(by)i(a)h(class)g(that)
g(encapsulates)e(the)i(semantics)538 5167 y(of)e(the)g(tar)o(get)g
(machine')-5 b(s)21 b(instructionset)h(\(10\);)g(for)g(e)o(xample)f
(Pentium.class.)31 b(During)21 b(code)538 5267 y(generation)g(the)j
(tree)f(is)h(futher)f(transformed,)f(as)i(machine)e(speci\002c)i(re)o
(gister)f(optimisations)538 5366 y(are)d(performed.)i(The)e(output)f
(of)h(this)g(process)g(is)h(an)f(assembler)g(\002le)h(\(11\).)418
5532 y(i)n(v)-5 b(.)41 b(This)26 b(is)g(then)g(fed)f(through)f(an)h
(appropriate)f(assembler)h(and)g(link)o(er)m(,)h(assumed)g(to)g(be)f(e)
o(xter)n(-)538 5632 y(nally)19 b(pro)o(vided)f(to)i(generate)f(an)h(e)o
(x)o(ecutable)f(program.)1788 5919 y(18)p eop
%%Page: 19 19
19 18 bop 576 4251 a @beginspecial 11 @llx 428 @lly 312
@urx 765 @ury 3010 @rwi @setspecial
%%BeginDocument: system.eps
%!
%%BoundingBox: 11 428 312 765
%%Title: system
%%CreationDate: Wed Jan  9 09:40:03 2002
%%Creator: Tgif-4.1.16 by William Chia-Wei Cheng (william@cs.UCLA.edu)

/tgifdict 56 dict def
tgifdict begin

/tgifarrowtipdict 8 dict def
tgifarrowtipdict /mtrx matrix put

/TGAT % tgifarrowtip
 { tgifarrowtipdict begin
      /dy exch def
      /dx exch def
      /h exch def
      /w exch def
      /y exch def
      /x exch def
      /savematrix mtrx currentmatrix def
      x y translate
      dy dx atan rotate
      0 0 moveto
      w neg h lineto
      w neg h neg lineto
      savematrix setmatrix
   end
 } def

/tgifarcdict 8 dict def
tgifarcdict /mtrx matrix put

/TGAN % tgifarcn
 { tgifarcdict begin
      /endangle exch def
      /startangle exch def
      /yrad exch def
      /xrad exch def
      /y exch def
      /x exch def
      /savematrix mtrx currentmatrix def
      x y translate
      xrad yrad scale
      0 0 1 startangle endangle arc
      savematrix setmatrix
   end
 } def

/TGAR % tgifarc
 { tgifarcdict begin
      /endangle exch def
      /startangle exch def
      /yrad exch def
      /xrad exch def
      /y exch def
      /x exch def
      /savematrix mtrx currentmatrix def
      x y translate
      xrad yrad scale
      0 0 1 startangle endangle arcn
      savematrix setmatrix
   end
 } def

/TGMAX
 { exch dup 3 1 roll exch dup 3 1 roll gt { pop } { exch pop } ifelse
 } def
/TGMIN
 { exch dup 3 1 roll exch dup 3 1 roll lt { pop } { exch pop } ifelse
 } def
/TGSW { stringwidth pop } def

/bd { bind def } bind def

/GS { gsave } bd
/GR { grestore } bd
/NP { newpath } bd
/CP { closepath } bd
/CHP { charpath } bd
/CT { curveto } bd
/L { lineto } bd
/RL { rlineto } bd
/M { moveto } bd
/RM { rmoveto } bd
/S { stroke } bd
/F { fill } bd
/TR { translate } bd
/RO { rotate } bd
/SC { scale } bd
/MU { mul } bd
/DI { div } bd
/DU { dup } bd
/NE { neg } bd
/AD { add } bd
/SU { sub } bd
/PO { pop } bd
/EX { exch } bd
/CO { concat } bd
/CL { clip } bd
/EC { eoclip } bd
/EF { eofill } bd
/IM { image } bd
/IMM { imagemask } bd
/ARY { array } bd
/SG { setgray } bd
/RG { setrgbcolor } bd
/SD { setdash } bd
/W { setlinewidth } bd
/SM { setmiterlimit } bd
/SLC { setlinecap } bd
/SLJ { setlinejoin } bd
/SH { show } bd
/FF { findfont } bd
/MS { makefont setfont } bd
/AR { arcto 4 {pop} repeat } bd
/CURP { currentpoint } bd
/FLAT { flattenpath strokepath clip newpath } bd
/TGSM { tgiforigctm setmatrix } def
/TGRM { savematrix setmatrix } def

end

tgifdict begin
/tgifsavedpage save def

1 SM
1 W

0 SG

72 0 MU 72 11 MU TR
72 128 DI 100.000 MU 100 DI DU NE SC

GS

/tgiforigctm matrix currentmatrix def

% BOX
0 SG
GS
   10 SM
   GS
      NP 128 128 M 256 128 L 256 192 L 128 192 L CP
      S
   GR
GR

% POLY/OPEN-SPLINE
0 SG
GS
   NP
      192 80 M
      48 0 atan DU cos 8.000 MU 192 exch SU
      exch sin 8.000 MU 128 exch SU L
   TGSM
   1 W
   S
GR
GS
   TGSM
   NP
      192 128 8.000 3.000 0 48 TGAT
   1 SG CP F
   0 SG
   NP
      192 128 8.000 3.000 0 48 TGAT
   CP F
GR

% TEXT
NP
0 SG
   GS
      1 W
      160 64 M
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (1.HLL program) SH
      GR
   GR

% TEXT
NP
0 SG
   GS
      1 W
      144 160 M
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (2.ILCG compliant) SH
      GR
      0 17 RM
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (front end) SH
      GR
   GR

% POLY/OPEN-SPLINE
0 SG
GS
   NP
      192 192 M
      48 0 atan DU cos 8.000 MU 192 exch SU
      exch sin 8.000 MU 240 exch SU L
   TGSM
   1 W
   S
GR
GS
   TGSM
   NP
      192 240 8.000 3.000 0 48 TGAT
   1 SG CP F
   0 SG
   NP
      192 240 8.000 3.000 0 48 TGAT
   CP F
GR

% TEXT
NP
0 SG
   GS
      1 W
      144 256 M
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (3.ILCG program) SH
      GR
   GR

% POLY/OPEN-SPLINE
0 SG
GS
   NP
      192 272 M
      48 0 atan DU cos 8.000 MU 192 exch SU
      exch sin 8.000 MU 320 exch SU L
   TGSM
   1 W
   S
GR
GS
   TGSM
   NP
      192 320 8.000 3.000 0 48 TGAT
   1 SG CP F
   0 SG
   NP
      192 320 8.000 3.000 0 48 TGAT
   CP F
GR

% BOX
0 SG
GS
   10 SM
   GS
      NP 128 320 M 256 320 L 256 384 L 128 384 L CP
      S
   GR
GR

% TEXT
NP
0 SG
   GS
      1 W
      144 352 M
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (4.transformations) SH
      GR
   GR

% TEXT
NP
0 SG
   GS
      1 W
      304 336 M
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (5.ILCG semantics) SH
      GR
   GR

% TEXT
NP
0 SG
   GS
      1 W
      304 372 M
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (6.optimisation rules) SH
      GR
   GR

% POLY/OPEN-SPLINE
0 SG
GS
   NP
      304 336 M
      0 -48 atan DU cos 8.000 MU 256 exch SU
      exch sin 8.000 MU 336 exch SU L
   TGSM
   1 W
   S
GR
GS
   TGSM
   NP
      256 336 8.000 3.000 -48 0 TGAT
   1 SG CP F
   0 SG
   NP
      256 336 8.000 3.000 -48 0 TGAT
   CP F
GR

% POLY/OPEN-SPLINE
0 SG
GS
   NP
      304 368 M
      0 -48 atan DU cos 8.000 MU 256 exch SU
      exch sin 8.000 MU 368 exch SU L
   TGSM
   1 W
   S
GR
GS
   TGSM
   NP
      256 368 8.000 3.000 -48 0 TGAT
   1 SG CP F
   0 SG
   NP
      256 368 8.000 3.000 -48 0 TGAT
   CP F
GR

% POLY/OPEN-SPLINE
0 SG
GS
   NP
      192 384 M
      48 0 atan DU cos 8.000 MU 192 exch SU
      exch sin 8.000 MU 432 exch SU L
   TGSM
   1 W
   S
GR
GS
   TGSM
   NP
      192 432 8.000 3.000 0 48 TGAT
   1 SG CP F
   0 SG
   NP
      192 432 8.000 3.000 0 48 TGAT
   CP F
GR

% TEXT
NP
0 SG
   GS
      1 W
      128 448 M
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (7.transformed ILCG program) SH
      GR
      0 17 RM
      GS
      GR
   GR

% POLY/OPEN-SPLINE
0 SG
GS
   NP
      192 464 M
      48 0 atan DU cos 8.000 MU 192 exch SU
      exch sin 8.000 MU 512 exch SU L
   TGSM
   1 W
   S
GR
GS
   TGSM
   NP
      192 512 8.000 3.000 0 48 TGAT
   1 SG CP F
   0 SG
   NP
      192 512 8.000 3.000 0 48 TGAT
   CP F
GR

% BOX
0 SG
GS
   10 SM
   GS
      NP 128 512 M 256 512 L 256 576 L 128 576 L CP
      S
   GR
GR

% TEXT
NP
0 SG
   GS
      1 W
      144 544 M
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (10.code generator) SH
      GR
   GR

% POLY/OPEN-SPLINE
0 SG
GS
   NP
      192 576 M
      48 0 atan DU cos 8.000 MU 192 exch SU
      exch sin 8.000 MU 624 exch SU L
   TGSM
   1 W
   S
GR
GS
   TGSM
   NP
      192 624 8.000 3.000 0 48 TGAT
   1 SG CP F
   0 SG
   NP
      192 624 8.000 3.000 0 48 TGAT
   CP F
GR

% TEXT
NP
0 SG
   GS
      1 W
      144 640 M
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (11.machine code for CPU) SH
      GR
   GR

% BOX
0 SG
GS
   10 SM
   GS
      NP 320 512 M 448 512 L 448 576 L 320 576 L CP
      S
   GR
GR

% TEXT
NP
0 SG
   GS
      1 W
      336 544 M
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (9.code generator-) SH
      GR
      0 17 RM
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (generator) SH
      GR
   GR

% POLY/OPEN-SPLINE
0 SG
GS
   NP
      320 544 M
      0 -64 atan DU cos 8.000 MU 256 exch SU
      exch sin 8.000 MU 544 exch SU L
   TGSM
   1 W
   S
GR
GS
   TGSM
   NP
      256 544 8.000 3.000 -64 0 TGAT
   1 SG CP F
   0 SG
   NP
      256 544 8.000 3.000 -64 0 TGAT
   CP F
GR

% POLY/OPEN-SPLINE
0 SG
GS
   NP
      384 464 M
      48 0 atan DU cos 8.000 MU 384 exch SU
      exch sin 8.000 MU 512 exch SU L
   TGSM
   1 W
   S
GR
GS
   TGSM
   NP
      384 512 8.000 3.000 0 48 TGAT
   1 SG CP F
   0 SG
   NP
      384 512 8.000 3.000 0 48 TGAT
   CP F
GR

% TEXT
NP
0 SG
   GS
      1 W
      352 448 M
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (8.ILCG for CPU) SH
      GR
   GR

% TEXT
NP
0 SG
   GS
      1 W
      280 152 M
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (In this case PascalCompiler.class) SH
      GR
   GR

% TEXT
NP
0 SG
   GS
      1 W
      404 468 M
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (\(For example Pentium.ilc\)) SH
      GR
   GR

% ARC
0 SG
GS
   GS
      NP
         141 439 93 93 97 251 TGAN
      S
   GR
GR
GS
   TGSM
   NP
      117 349 8.000 3.000 180 -48 TGAT
   1 SG CP F
   0 SG
   NP
      117 349 8.000 3.000 180 -48 TGAT
   CP F
GR

% TEXT
NP
0 SG
   GS
      1 W
      24 408 M
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (details of available) SH
      GR
      0 17 RM
      GS
            0 SG
            /Times-Roman FF [14 0 0 -14 0 0] MS
            (parallelism) SH
      GR
   GR

% TEXT
NP
0 SG
   GS
      1 W
      24 532 M
      GS
      GR
   GR

GR
tgifsavedpage restore
end
showpage

%MatchingCreationDate: Wed Jan  9 09:40:03 2002

%%EndDocument
 @endspecial 1326 4434 a Fu(Figure)20 b(7:)25 b(System)20
b(Architecture)1788 5919 y(19)p eop
%%Page: 20 20
20 19 bop 330 360 a Ft({)50 b(var)99 b(i;)430 460 y(for)g(i=1)49
b(to)g(9)h(step)f(1)h(do)f({)479 560 y(v1[^i]:=)g
(+\(^\(v2[^i]\),^\(v3[^i]\)\);)430 659 y(};)330 759 y(})1062
1024 y Fu(Figure)19 b(8:)26 b(Sequential)19 b(form)g(of)h(array)f
(assignment)330 1195 y Ft({)50 b(var)f(i;)479 1295 y(for)h(i=)199
b(1)49 b(to)249 b(8)50 b(step)248 b(2)49 b(do)h({)529
1394 y(\(ref)f(int32)g(vector)g(\()h(2)f
(\)\)mem\(+\(@v1,*\(-\(^i,1\),4\)\)\):=)679 1494 y(+\(^\(\(ref)f(int32)
h(vector)g(\()g(2)h(\)\)mem\(+\(@v2,*\(-\(^i,1\),4\)\)\)\),)778
1594 y(^\(\(ref)f(int32)g(vector)g(\()g(2)h
(\)\)mem\(+\(@v3,*\(-\(^i,1\),4\)\)\)\)\);)479 1693 y(};)479
1793 y(for)g(i=)199 b(9)49 b(to)249 b(9)50 b(step)248
b(1)49 b(do)h({)629 1893 y(v1[^i]:=)e(+\(^\(v2[^i]\),^\(v3[^i]\)\);)479
1992 y(};)330 2092 y(})1389 2357 y Fu(Figure)19 b(9:)26
b(P)o(arallelised)20 b(loop)330 2624 y Fq(7.3)99 b(V)-10
b(ectorisation)330 2780 y Fu(The)30 b(parser)g(initially)h(generates)f
(serial)h(code)f(for)g(all)h(constructs.)55 b(It)31 b(then)f
(interogates)f(the)i(cur)n(-)330 2880 y(rent)25 b(code)g(generator)f
(class)j(to)f(determine)e(the)i(de)o(gree)e(of)i(parallelism)f
(possible)g(for)h(the)f(types)h(of)330 2979 y(operations)19
b(performed)e(in)k(a)f(loop,)f(and)h(if)g(these)h(are)f(greater)f(than)
h(one,)f(it)i(v)o(ectorises)f(the)g(code.)455 3079 y(Gi)n(v)o(en)f(the)
h(declaration)455 3179 y Fi(v)o(ar)f(v1,v2,v3:array[1..)o(9])14
b(of)20 b(integer;)455 3278 y Fu(then)f(the)h(statement)455
3378 y Fi(v1:=v2+v3;)455 3478 y Fu(w)o(ould)f(\002rst)i(be)g
(translated)e(to)i(the)f(ILCG)h(sequence)e(sho)n(wn)g(in)i(\002gure)e
(8)i(In)f(the)g(e)o(xample)f(abo)o(v)o(e)330 3577 y(v)n(ariable)j
(names)i(such)f(as)h Ft(v1)g Fu(and)f Ft(i)g Fu(ha)n(v)o(e)g(been)g
(used)g(for)g(clarity)-5 b(.)34 b(In)23 b(reality)h Ft(i)f
Fu(w)o(ould)g(be)h(an)f(ad-)330 3677 y(dressing)14 b(e)o(xpression)g
(lik)o(e:)73 b Ft(\(ref)49 b(int32\)mem\(+\(^\(\(ref)d(int32\)ebp\),)
247 b(-1860\)\))p Fu(,)330 3776 y(which)19 b(encodes)g(both)f(the)i
(type)f(and)g(the)g(address)g(of)h(the)f(v)n(ariable.)24
b(The)19 b(code)g(generator)f(is)i(queried)330 3876 y(as)26
b(to)g(the)g(parallelism)f(a)n(v)n(ailable)g(on)h(the)f(type)g
Ft(int32)h Fu(and,)g(since)g(it)g(is)h(a)f(Pentium)f(with)h(MMX,)330
3976 y(returns)d(2.)37 b(The)24 b(loop)f(is)i(then)f(split)g(into)g(tw)
o(o,)h(a)g(portion)d(that)j(can)e(be)h(e)o(x)o(ecuted)f(in)h(parallel)g
(and)f(a)330 4075 y(residual)18 b(sequential)g(component,)e(resulting)i
(in)h(the)g(ILCG)g(sho)n(wn)f(in)h(\002gure)f(9.)24 b(In)19
b(the)g(parallel)f(part)330 4175 y(of)f(the)g(code,)g(the)h(array)e
(subscriptions)g(ha)n(v)o(e)h(been)f(replaced)g(by)h(e)o(xplictly)g
(cast)h(memory)d(addresses.)330 4275 y(This)i(coerces)e(the)i
(locations)e(from)h(their)g(original)f(types)h(to)h(the)f(type)g
(required)e(by)i(the)h(v)o(ectorisation.)330 4374 y(Applying)k(the)h
Ft(simplify)72 b Fu(method)21 b(of)h(the)h(F)o(or)f(class)h(the)g
(follo)n(wing)d(generic)i(transformations)330 4474 y(are)e(performed:)
434 4640 y(1.)41 b(The)19 b(second)h(loop)f(is)i(replaced)e(by)h(a)h
(single)f(statement.)434 4806 y(2.)41 b(The)19 b(parallel)h(loop)g(is)h
(unrolled)d(tw)o(ofold.)434 4972 y(3.)41 b(The)19 b(F)o(or)h(class)h
(is)h(replaced)c(by)i(a)h(sequence)e(of)h(statements)g(with)g(e)o
(xplicit)g(gotos.)330 5138 y(The)29 b(result)h(is)h(sho)n(wn)e(in)h
(\002gure)f(10.)54 b(When)29 b(the)h Ft(eval)g Fu(method)e(is)j(in)m(v)
n(ok)o(ed,)f(constant)f(folding)330 5238 y(causes)15
b(the)h(loop)e(test)i(condition)e(to)h(be)g(e)n(v)n(aluated)f(to)h
Ft(if)50 b(>\(^i,8\))e(then)h(goto)g(leb4af11b47f)p Fu(.)1788
5919 y(20)p eop
%%Page: 21 21
21 20 bop 330 360 a Ft({)50 b(var)f(i:)430 460 y(i:=)g(1;)430
560 y(leb4af11b47e:)430 659 y(if)g(>\()h(2,)f(0\))g(then)g(if)h
(>\(^i,8\))e(then)h(goto)h(leb4af11b47f)1127 759 y(else)f(null)1526
858 y(fi)380 958 y(else)g(if)g(<\(^i,)g(8\))h(then)f(goto)g
(leb4af11b47f)380 1058 y(else)g(null)778 1157 y(fi)430
1257 y(fi;)380 1357 y(\(ref)g(int32)g(vector)f(\()i(2)g
(\)\)mem\(+\(@v1,*\(-\(^i,1\),4\)\)\):=)679 1456 y(+\(^\(\(ref)e(int32)
h(vector)g(\()g(2)h(\)\)mem\(+\(@v2,*\(-\(^i,1\),4\)\)\)\),)778
1556 y(^\(\(ref)f(int32)g(vector)g(\()g(2)h
(\)\)mem\(+\(@v3,*\(-\(^i,1\),4\)\)\)\)\);)430 1655 y(i:=+\(^i,2\);)380
1755 y(\(ref)f(int32)g(vector)f(\()i(2)g
(\)\)mem\(+\(@v1,*\(-\(^i,1\),4\)\)\):=)679 1855 y(+\(^\(\(ref)e(int32)
h(vector)g(\()g(2)h(\)\)mem\(+\(@v2,*\(-\(^i,1\),4\)\)\)\),)778
1954 y(^\(\(ref)f(int32)g(vector)g(\()g(2)h
(\)\)mem\(+\(@v3,*\(-\(^i,1\),4\)\)\)\)\);)430 2054 y(i:=+\(^i,2\);)430
2154 y(goto)f(leb4af11b47e;)430 2253 y(leb4af11b47f:)430
2353 y(i:=)198 b(9;)430 2452 y(v1[^i]:=)48 b
(+\(^\(v2[^i]\),^\(v3[^i]\)\);)330 2552 y(})1016 2818
y Fu(Figure)20 b(10:)k(After)c(applying)f Ft(simplify)g
Fu(to)h(the)g(tree)330 3085 y Fq(7.4)99 b(Machine)26
b(descriptions)g(in)f(ILCG)330 3240 y Fu(ILCG)16 b(e)o(xists)g(both)e
(as)i(a)g(tree)g(language,)e(de\002ned)h(as)h(a)g(set)g(of)f(Ja)n(v)n
(a)h(classes,)h(and)e(as)h(a)g(te)o(xtual)f(notation)330
3340 y(that)20 b(can)g(be)g(used)g(to)h(describe)e(the)h(semantics)g
(of)g(machine)f(instructions.)455 3440 y(Pentium.class)f(\(10)f(in)i
(\002gure)f(7.2\))f(is)j(produced)c(from)h(a)i(\002le)g(Pentium.ilc)f
(\(8\),)g(in)h(ILCG,)f(which)330 3539 y(gi)n(v)o(es)25
b(a)g(semantic)g(description)f(of)h(the)g(Pentium')-5
b(s)25 b(instructionset.)38 b(This)26 b(is)g(processed)e(by)h(a)g(code)
330 3639 y(generator)18 b(generator)g(which)i(b)n(uilds)g(the)g(source)
g(\002le)h(Pentium.ja)n(v)n(a.)455 3739 y(A)26 b(machine)f(description)
g(typically)g(consists)h(of)g(a)h(set)f(of)g(re)o(gister)g
(declarations)e(follo)n(wed)h(by)330 3838 y(a)h(set)h(of)f(instruction)
f(formats)g(and)h(a)g(set)h(of)f(operations.)41 b(This)26
b(approach)e(w)o(orks)i(well)g(only)f(with)330 3938 y(machines)18
b(that)g(ha)n(v)o(e)g(an)g(orthogonal)e(instruction)h(set,)i(ie,)g
(those)g(that)f(allo)n(w)g(addressing)f(modes)h(and)330
4037 y(operators)h(to)h(be)g(combined)e(in)j(an)f(independent)d(manner)
-5 b(.)330 4258 y Fi(7.4.1)81 b(Registers)330 4414 y
Fu(When)20 b(entering)g(machine)f(descriptions)h(in)h(ilcg)f(re)o
(gisters)h(can)f(be)h(declared)e(along)h(with)h(their)f(type)330
4514 y(hence)455 4613 y Fi(r)o(egister)f(w)o(ord)h(EBX)i
(assembles['ebx'])d(;)455 4713 y(r)o(eser)o(v)o(ed)g(r)o(egister)h(w)o
(ord)g(ESP)h(assembles['esp'];)455 4813 y Fu(w)o(ould)e(declare)g
Fi(EBX)j Fu(to)e(be)g(of)g(type)g Fi(r)o(ef)g(w)o(ord)p
Fu(.)330 5034 y Fi(7.4.2)81 b(Aliasing)330 5189 y Fu(A)21
b(re)o(gister)e(can)h(be)g(declared)f(to)i(be)f(a)g(sub-\002eld)g(of)g
(another)e(re)o(gister)m(,)h(hence)h(we)g(could)f(write)455
5289 y Fi(alias)h(r)o(egister)f(octet)g(AL)i(=)g(EAX\(0:7\))e
(assembles['al'];)455 5389 y(alias)h(r)o(egister)f(octet)g(BL)j(=)f
(EBX\(0:7\))e(assembles['bl'];)455 5488 y Fu(to)g(indicate)g(that)h
Fi(BL)h Fu(occupies)e(the)h(bottom)e(8)i(bits)g(of)g(re)o(gister)f
Fi(EBX)p Fu(.)h(In)g(this)g(notation)e(bit)i(zero)330
5588 y(is)28 b(tak)o(en)g(to)f(be)h(the)f(least)i(signi\002cant)e(bit)g
(of)h(a)g(v)n(alue.)46 b(There)27 b(are)g(assumed)g(to)h(be)f(tw)o(o)h
(pre)o(gi)n(v)o(en)1788 5919 y(21)p eop
%%Page: 22 22
22 21 bop 330 390 a Fu(re)o(gisters)28 b Fi(FP)-8 b(,)28
b(GP)g Fu(that)g(are)g(used)g(by)f(compilers)g(to)h(point)g(to)g(areas)
g(of)g(memory)-5 b(.)46 b(These)28 b(can)g(be)330 490
y(aliased)20 b(to)h(a)f(particular)f(real)h(re)o(gister)-5
b(.)455 589 y Fi(r)o(egister)19 b(w)o(ord)h(EBP)h(assembles['ebp'])f(;)
455 689 y(alias)g(r)o(egister)f(w)o(ord)h(FP)h(=)g(EBP\(0:31\))d
(assembles)k(['ebp'];)455 789 y Fu(Additional)i(re)o(gisters)g(may)h
(be)h(reserv)o(ed,)e(indicating)g(that)i(the)f(code)g(generator)e(must)
i(not)g(use)330 888 y(them)20 b(to)g(hold)g(temporary)d(v)n(alues:)455
988 y Fi(r)o(eser)o(v)o(ed)i(r)o(egister)h(w)o(ord)g(ESP)h
(assembles['esp'];)330 1209 y(7.4.3)81 b(Register)20
b(sets)330 1365 y Fu(A)h(set)g(of)f(re)o(gisters)f(that)i(are)f(used)g
(in)g(the)g(same)h(w)o(ay)f(by)g(the)g(instructionset)f(can)h(be)g
(de\002ned.)455 1464 y Fi(patter)o(n)f(r)o(eg)g(means)i([)p
Fo(E)5 b(B)t(P)12 b Fs(j)p Fo(E)5 b(B)t(X)i Fs(j)p Fo(E)e(S)g(I)i
Fs(j)p Fo(E)e(D)r(I)i Fs(j)p Fo(E)e(C)h(X)h Fs(j)p Fo(E)e(AX)i
Fs(j)p Fo(E)e(D)r(X)i Fs(j)p Fo(E)e(S)g(P)12 b Fi(])18
b(;)455 1564 y(patter)o(n)h(br)o(eg)h(means[)p Fo(AL)p
Fs(j)p Fo(AH)7 b Fs(j)p Fo(B)t(L)p Fs(j)p Fo(B)t(H)g
Fs(j)p Fo(C)f(L)p Fs(j)p Fo(C)g(H)h Fs(j)p Fo(D)r(L)p
Fs(j)p Fo(D)r(H)g Fi(];)455 1664 y Fu(All)20 b(re)o(gisters)g(in)h(an)f
(re)o(gister)f(set)i(should)e(be)h(of)g(the)h(same)f(length.)330
1885 y Fi(7.4.4)81 b(Register)20 b(Stacks)330 2040 y
Fu(Whilst)32 b(some)g(machines)e(ha)n(v)o(e)h(re)o(gisters)g(or)o
(ganised)e(as)k(an)e(array)-5 b(,)33 b(another)d(class)i(of)g
(machines,)330 2140 y(those)20 b(oriented)f(around)f(post\002x)i
(instructionsets,)f(ha)n(v)o(e)h(re)o(gister)f(stacks.)455
2240 y(The)g(ILCG)i(syntax)e(allo)n(ws)i(re)o(gister)e(stacks)i(to)f
(be)g(declared:)455 2339 y Fi(r)o(egister)f(stack)h(\(8\)ieee64)e(FP)i
(assembles[)h(')g('])f(;)455 2439 y Fu(T)-7 b(w)o(o)20
b(access)h(operations)d(are)j(supported)d(on)i(stacks:)330
2660 y Fi(PUSH)82 b Fu(is)22 b(a)g(v)n(oid)e(dyadic)g(operator)f
(taking)h(a)h(stack)g(of)g(type)g(ref)f Fo(t)i Fu(as)f(\002rst)h(ar)o
(gument)d(and)h(a)h(v)n(alue)330 2759 y(of)f(type)g Fo(t)g
Fu(as)h(the)f(second)g(ar)o(gument.)i(Thus)e(we)h(might)e(ha)n(v)o(e:)
455 2859 y Fi(PUSH\(FP)-8 b(,)p Fs(")p Fi(mem\(20\)\))330
3080 y(POP)82 b Fu(is)21 b(a)g(monadic)d(operator)h(returning)f
Fo(t)j Fu(on)e(stacks)i(of)f(type)g Fo(t)p Fu(.)25 b(So)c(we)f(might)g
(ha)n(v)o(e)455 3180 y Fi(mem\(20\):=POP\(FP\))330 3417
y Fq(7.5)99 b(Instruction)26 b(f)n(ormats)330 3573 y
Fu(An)16 b(instruction)e(format)h(is)h(an)g(abstraction)f(o)o(v)o(er)f
(a)i(class)h(of)e(concrete)g(instructions.)22 b(It)16
b(abstracts)g(o)o(v)o(er)330 3673 y(particular)j(operations)g(and)g
(types)h(thereof)f(whilst)i(specifying)d(ho)n(w)i(ar)o(guments)e(can)i
(be)g(combined.)455 3772 y Fi(instruction)g(patter)o(n)455
3872 y(RR\()g(operator)e(op,)j(anyr)o(eg)d(r1,)i(anyr)o(eg)f(r2,)h(int)
g(t\))455 3972 y(means[r1:=\(t\))e(op\()i Fs(")p Fi(\(\(r)o(ef)f(t\))h
(r1\),)p Fs(")p Fi(\(\(r)o(ef)d(t\))j(r2\)\)])455 4071
y(assembles[op)g(')h(')f(r1)g(',)-5 b(')20 b(r2];)455
4171 y Fu(In)i(the)h(abo)o(v)o(e)e(e)o(xample,)h(we)i(specify)e(a)h(re)
o(gister)f(to)h(re)o(gister)g(instruction)e(format)h(that)h(uses)h(the)
330 4270 y(\002rst)h(re)o(gister)e(as)i(a)g(source)e(and)h(a)h
(destination)e(whilst)i(the)f(second)f(re)o(gister)h(is)h(only)e(a)i
(destination.)330 4370 y(The)20 b(result)g(is)h(returned)e(in)h(re)o
(gister)f(r1.)455 4470 y(W)-7 b(e)29 b(might)e(ho)n(we)n(v)o(er)f(wish)
i(to)h(ha)n(v)o(e)e(a)h(more)g(po)n(werful)e(abstraction,)i(which)g(w)o
(as)h(capable)e(of)330 4569 y(taking)22 b(more)h(abstract)g
(apeci\002cations)f(for)g(its)j(ar)o(guments.)31 b(F)o(or)23
b(e)o(xample,)f(man)o(y)g(machines)h(allo)n(w)330 4669
y(ar)o(guments)i(to)i(instructions)f(to)g(be)h(addressing)f(modes)g
(that)h(can)f(be)h(either)f(re)o(gisters)h(or)f(memory)330
4769 y(references.)31 b(F)o(or)22 b(us)h(to)f(be)h(able)f(to)h(specify)
f(this)h(in)g(an)f(instruction)g(format)f(we)i(need)f(to)g(be)h(able)f
(to)330 4868 y(pro)o(vide)c(grammer)h(non-terminals)f(as)i(ar)o
(guments)f(to)h(the)g(instruction)f(formats.)455 4968
y(F)o(or)g(e)o(xample)g(we)i(might)e(w)o(ant)i(to)f(be)g(able)g(to)g
(say)455 5067 y Fi(instruction)g(patter)o(n)455 5167
y(RRM\(operator)e(op,)i(r)o(eg)g(r1,)g(maddrmode)g(rm,)g(int)h(t\))455
5267 y(means)f([r1:=\(t\))f(op\()h Fs(")p Fi(\(\(r)o(ef)e(t\)r1\),)p
Fs(")p Fi(\(\(r)o(ef)f(t\))j(rm\)\)])455 5366 y(assembles[op)g(')h(')f
(r1)g(',)-5 b(')20 b(rm)h(])f(;)455 5466 y Fu(This)27
b(implies)h(that)g(addrmode)e(and)h(re)o(g)g(must)h(be)f(non)g
(terminals.)48 b(Since)27 b(the)h(non)f(terminals)330
5566 y(required)g(by)i(dif)n(ferent)e(machines)h(will)i(v)n(ary)-5
b(,)29 b(there)g(must)g(be)g(a)g(means)g(of)g(declaring)e(such)i(non-)
330 5665 y(terminals)20 b(in)g(ilcg.)1788 5919 y(22)p
eop
%%Page: 23 23
23 22 bop 380 360 a Ft(mov)49 b(DWORD)g(ecx,)248 b(1)380
460 y(leb4b08729615:)380 560 y(cmp)49 b(DWORD)g(ecx,)298
b(8)380 659 y(jg)49 b(near)99 b(leb4b08729616)380 759
y(lea)49 b(edi,[)99 b(ecx-\()248 b(1\)];)49 b(substituting)f(in)h(edi)g
(with)g(3)h(occurences)e(and)h(score)g(of)g(1)380 858
y(movq)g(MM1,)g([)99 b(ebp+edi*)49 b(4+)248 b(-1620])380
958 y(paddd)49 b(MM1,)g([)99 b(ebp+edi*)49 b(4+)248 b(-1640])380
1058 y(movq)99 b([)g(ebp+edi*)48 b(4+)249 b(-1600],MM1)380
1157 y(lea)49 b(ecx,[)99 b(ecx+)248 b(2])380 1257 y(lea)49
b(edi,[)99 b(ecx-\()248 b(1\)];)49 b(substituting)f(in)h(edi)g(with)g
(3)h(occurences)e(and)h(score)g(of)g(1)380 1357 y(movq)g(MM1,)g([)99
b(ebp+edi*)49 b(4+)248 b(-1620])380 1456 y(paddd)49 b(MM1,)g([)99
b(ebp+edi*)49 b(4+)248 b(-1640])380 1556 y(movq)99 b([)g(ebp+edi*)48
b(4+)249 b(-1600],MM1)380 1655 y(lea)49 b(ecx,[)99 b(ecx+)248
b(2])380 1755 y(jmp)99 b(leb4b08729615)380 1855 y(leb4b08729616:)339
2120 y Fu(Figure)20 b(11:)25 b(The)19 b(result)i(of)f(matching)e(the)j
(parallelised)e(loop)g(against)h(the)g(Pentium)g(instruction)f(set)455
2387 y(An)h(e)o(xample)f(w)o(ould)g(be:)455 2487 y Fi(patter)o(n)g(r)o
(egindirf\(r)o(eg)f(r\))i(means[)p Fs(")p Fi(\(r\))f(])h(assembles[)h
(r)g(];)455 2587 y(patter)o(n)c(baseplusoffsetf\(r)o(eg)g(r)-8
b(,)19 b(signed)h(s\))f(means[+\()g Fs(")p Fi(\(r\))f(,const)g(s\)])h
(assembles[)g(r)g('+')g(s)h(];)455 2686 y(patter)o(n)f(addrf)n(orm)g
(means[baseplusoffsetf)p Fs(j)h Fi(r)o(egindirf];)455
2786 y(patter)o(n)f(maddrmode\(addrf)n(orm)g(f\))h(means[mem\(f\))f(])i
(assembles[)f('[')g(f)h(']')e(];)455 2886 y Fu(This)25
b(gi)n(v)o(es)g(us)g(a)h(w)o(ay)f(of)g(including)e(non)i(terminals)g
(as)h(parameters)e(to)h(patterns.)39 b(Instruction)330
2985 y(patterns)20 b(can)g(also)g(specify)g(v)o(ector)f(operations)f
(as)j(in:)455 3085 y Fi(instruction)f(patter)o(n)f(P)-6
b(ADDD\(mr)o(eg)19 b(m,)h(mrmaddrmode)h(ma\))455 3184
y(means[\(r)o(ef)13 b(int32)i(v)o(ector\(2\)m:=\(int32)d(v)o
(ector\(2\)\)+\()g(\(int32)j(v)o(ector\(2\)\))p Fs(")p
Fi(\(m\),\(int32)10 b(v)o(ector\(2\)\))p Fs(")p Fi(\(ma\)\)\)])455
3284 y(assembles)21 b(['paddd)f('m)h(',)-5 b(')20 b(ma];)455
3384 y Fu(Here)27 b(v)o(ector)g(casts)i(are)f(used)g(to)g(specify)g
(that)g(the)g(result)g(re)o(gister)f(will)i(hold)e(the)i(type)e
Fi(int32)330 3483 y(v)o(ector\(2\))p Fu(,)18 b(and)h(to)i(constrain)e
(the)h(types)g(of)g(the)g(ar)o(guments)e(and)i(results)g(of)g(the)h(+)f
(operator)-5 b(.)330 3721 y Fq(7.6)99 b(Instructionsets)330
3877 y Fu(At)21 b(the)g(end)f(of)g(an)h(ILCG)g(machine)e(description)g
(\002le,)i(the)g(instructionset)f(is)h(de\002ned.)k(This)c(is)h(gi)n(v)
o(en)330 3976 y(as)28 b(an)e(ordered)f(list)j(of)f(instruction)e
(patterns.)44 b(When)27 b(generating)e(code)h(the)h(patterns)f(are)h
(applied)330 4076 y(in)i(the)f(order)f(in)i(which)f(the)o(y)g(are)g
(speci\002ed)g(until)h(a)g(complete)e(match)h(of)g(a)h(statement)g(has)
f(been)330 4175 y(achie)n(v)o(ed.)38 b(If)25 b(a)h(partial)f(match)f(f)
o(ails)i(the)f(code)g(generator)e(backtracks)h(and)g(attempts)h(the)g
(ne)o(xt)g(in-)330 4275 y(struction.)39 b(Care)25 b(has)h(to)f(be)g
(tak)o(en)g(to)g(place)g(the)g(most)g(general)f(and)h(po)n(werfull)e
(instructions)h(\002rst.)330 4375 y(Figure)30 b(11)f(illustrates)i
(this)g(sho)n(wing)e(the)h(ef)n(fect)g(of)g(matching)f(the)h
(parallelised)f(loop)h(sho)n(wn)f(in)330 4474 y(\002gure)c(10)h
(against)g(the)g(Pentium)f(instruction)g(set.)44 b(Note)26
b(that)g(incrementing)e(the)j(loop)e(counter)g(is)330
4574 y(performed)20 b(using)j(load)g(ef)n(fecti)n(v)o(e)e(address)i
(\(lea\))g(since)g(this,)h(being)e(more)g(general,)h(occurs)f(before)
330 4674 y(add)e(in)g(the)g(instruction)f(list.)455 4773
y(This)h(pattern)f(matching)g(with)h(backtracking)d(can)j(potentially)f
(be)h(slo)n(w)-5 b(,)20 b(so)g(the)g(code)g(generator)330
4873 y(operates)29 b(in)g(learning)f(mode.)52 b(F)o(or)29
b(each)h(subtree)e(that)i(it)g(has)g(sucessfully)f(matched,)h(it)g
(stores)g(a)330 4972 y(string)24 b(representation)e(of)h(the)h(tree)h
(in)f(a)g(hash)g(table)g(along)f(with)h(the)g(instruction)f(that)h
(matched)f(it.)330 5072 y(When)28 b(a)h(tree)f(has)h(to)f(be)g
(matched,)h(it)g(checks)f(the)g(hash)g(table)g(to)h(see)g(if)f(an)g
(equi)n(v)n(alent)f(tree)h(has)330 5172 y(already)c(been)h(recognised.)
40 b(In)25 b(this)h(w)o(ay)g(common)e(idioms)h(only)g(ha)n(v)o(e)g(to)g
(be)h(fully)f(analysed)g(the)330 5271 y(\002rst)c(time)f(that)h(the)o
(y)e(are)h(encountered.)1788 5919 y(23)p eop
%%Page: 24 24
24 23 bop 330 390 a Fv(8)119 b(Conclusions)330 576 y
Fu(V)-9 b(ector)21 b(P)o(ascal)h(currently)d(runs)i(under)f(W)m(indo)n
(ws98)g(,)i(W)m(indo)n(ws2000)d(and)i(Linux.)28 b(Separate)20
b(com-)330 675 y(pilation)27 b(using)h(T)l(urbo)f(P)o(ascal)i(style)f
(units)g(is)h(supported.)47 b(C)29 b(calling)f(con)m(v)o(entions)d
(allo)n(w)j(use)h(of)330 775 y(e)o(xisting)g(libraries.)53
b(W)-7 b(ork)30 b(is)g(underw)o(ay)e(to)i(port)f(the)h(BLAS)g(library)f
(to)h(V)-9 b(ector)29 b(P)o(ascal,)j(and)d(to)330 875
y(de)n(v)o(elop)18 b(an)i(IDE)g(and)g(literate)g(programming)d(system)k
(for)e(it.)455 974 y(V)-9 b(ector)19 b(P)o(ascal)h(pro)o(vides)e(an)i
(ef)n(fecti)n(v)o(e)e(approach)g(to)i(pro)o(viding)d(a)j(programming)d
(en)m(vironment)330 1074 y(for)e(multi-media)g(instruction)g(sets.)25
b(It)16 b(borro)n(ws)f(abstraction)g(mechanisms)g(that)h(ha)n(v)o(e)g
(a)g(long)f(history)330 1174 y(of)31 b(sucessfull)f(use)i(in)f
(interpreti)n(v)o(e)d(programming)g(languages,)k(combining)c(these)j
(with)g(modern)330 1273 y(compiler)17 b(techniques)g(to)i(tar)o(get)e
(SIMD)i(instruction)e(sets.)25 b(It)19 b(pro)o(vides)d(a)j(uniform)e
(source)g(language)330 1373 y(that)k(can)f(tar)o(get)f(multiple)h(dif)n
(ferent)f(processors)g(without)h(the)h(programmer)c(ha)n(ving)i(to)i
(think)f(about)330 1472 y(the)30 b(tar)o(get)g(machine.)53
b(Use)31 b(of)f(Ja)n(v)n(a)h(as)g(the)f(implementation)e(language)g
(aids)j(portability)e(of)h(the)330 1572 y(compiler)19
b(accross)h(operating)e(systems.)330 1852 y Fv(Refer)n(ences)372
2038 y Fu([1])40 b(Adv)n(anced)18 b(Micro)i(De)n(vices,)g(3DNo)n(w!)k
(T)-6 b(echnology)17 b(Manual,)i(1999.)372 2204 y([2])40
b(Aho,)18 b(A.V)-11 b(.,)19 b(Ganapathi,)f(M,)g(TJiang)h(S.W)-8
b(.K.,)19 b(Code)g(Generation)e(Using)h(T)m(ree)h(Matching)e(and)510
2303 y(Dynamic)f(Programming,)f(A)m(CM)j(T)m(rans,)f(Programming)e
(Languages)g(and)i(Systems)h(11,)f(no.4,)510 2403 y(1989,)h
(pp.491-516.)372 2569 y([3])40 b(Blelloch,)25 b(G.)f(E.,)j(N)t
Fr(E)t(S)t(L)r Fu(:)34 b(A)25 b(Nested)f(Data-P)o(arallel)g(Language,)f
(Carne)o(gie)g(Mellon)h(Uni)n(v)o(er)n(-)510 2669 y(sity)-5
b(,)20 b(CMU-CS-95-170,)e(Sept)i(1995.)372 2835 y([4])40
b(Burk)o(e,)19 b(Chris,)i(J)g(User)f(Manual,)g(ISI,)f(1995.)372
3001 y([5])40 b(Cattell)20 b(R.)h(G.)e(G.,)h(Automatic)f(deri)n(v)n
(ation)e(of)i(code)g(generators)f(from)h(machine)f(descriptions,)510
3100 y(A)m(CM)d(T)m(ransactions)g(on)f(Programming)f(Languages)g(and)i
(Systems,)h(2\(2\),)f(pp.)g(173-190,)e(April)510 3200
y(1980.)372 3366 y([6])40 b(Chaitin.)g(G.,)46 b(Ele)o(gant)39
b(Lisp)i(Programs,)j(in)c(The)h(Limits)g(of)f(Mathematics,)45
b(pp.)40 b(29-56,)510 3466 y(Springer)m(,)18 b(1997.)372
3632 y([7])40 b(Cheong,)22 b(G.,)i(and)e(Lam,)h(M.,)h(An)f(Optimizer)f
(for)g(Multimedia)g(Instruction)g(Sets,)i(2nd)e(SUIF)510
3731 y(W)-7 b(orkshop,)19 b(Stanford)f(Uni)n(v)o(ersity)-5
b(,)19 b(August)g(1997.)372 3897 y([8])40 b(Cockshott,)45
b(P)o(aul,)g(Direct)c(Compilation)e(of)h(High)g(Le)n(v)o(el)g
(Languages)f(for)h(Multi-media)510 3997 y(Instruction-sets,)16
b(Department)g(of)h(Computer)f(Science,)h(Uni)n(v)o(ersity)f(of)h
(Glasgo)n(w)-5 b(,)17 b(No)o(v)f(2000.)372 4163 y([9])40
b(Ewing,)26 b(A.)g(K.,)h(Richardson,)f(H.,)h(Simpson,)f(A.)h(D.,)g(K)o
(ulkarni,)e(R.,)j(Writing)e(Data)g(P)o(arallel)510 4263
y(Programs)17 b(with)h(High)g(Performance)e(F)o(ortran,)h(Edinb)n(ur)o
(gh)e(P)o(arallel)j(Computing)f(Centre,)h(V)-9 b(er)510
4362 y(1.3.1.)330 4528 y([10])40 b(Gagnon,)35 b(E.,)i(SABLECC,)d(AN)g
(OBJECT)-8 b(-ORIENTED)34 b(COMPILER)f(FRAMEW)o(ORK,)510
4628 y(School)19 b(of)h(Computer)f(Science)h(McGill)h(Uni)n(v)o(ersity)
-5 b(,)18 b(Montreal)h(,)h(March)g(1998.)330 4794 y([11])40
b(Susan)28 b(L.)h(Graham,)g(T)-7 b(able)28 b(Dri)n(v)o(en)g(Code)g
(Generation,)g(IEEE)g(Computer)m(,)h(V)-11 b(ol)29 b(13,)h(No.)e(8,)510
4894 y(August)19 b(1980,)g(pp)h(25..37.)330 5060 y([12])40
b(Hadjiyiannis,)23 b(G.,)i(Hanono,)e(S.)i(and)e(De)n(v)n(adas,)h(S.,)h
(ISDL:)f(an)g(Instruction)e(Set)j(Description)510 5159
y(Language)18 b(for)h(Retar)o(getability)-5 b(,)19 b(D)m(A)m(C'97,)f(A)
m(CM.)330 5325 y([13])40 b(Intel,)20 b(Intel)f(Architecture)g(Softw)o
(are)h(De)n(v)o(elopers)e(Manual)i(V)-11 b(olumes)20
b(1)g(and)f(2,)h(1999.)330 5491 y([14])40 b(Intel,)20
b(W)m(illamette)g(Processor)f(Softw)o(are)h(De)n(v)o(eloper')-5
b(s)19 b(Guide,)g(February)-5 b(,)18 b(2000.)330 5658
y([15])40 b(ISO,)20 b(Extended)e(P)o(ascal)j(ISO)g(10206:1990,)16
b(1991.)1788 5919 y(24)p eop
%%Page: 25 25
25 24 bop 330 390 a Fu([16])40 b(Iv)o(erson)15 b(K.)i(E.,)g(A)g
(Programming)d(Language,)h(John)h(W)m(ile)o(y)h(&)g(Sons,)g(Inc.,)f(Ne)
n(w)h(Y)-9 b(ork)16 b(\(1962\),)510 490 y(p.)k(16.)330
656 y([17])40 b(Iv)o(erson,)25 b(K.)g(E.)h(.)f(Notation)g(as)h(a)g
(tool)f(of)g(thought.)e(Communications)g(of)j(the)f(A)m(CM,)g(23\(8\),)
510 756 y(444-465,)17 b(1980.)330 922 y([18])40 b(Iv)o(erson)18
b(K.)j(E,)f(A)h(personal)e(V)-5 b(ie)n(w)20 b(of)g(APL,)h(IBM)f
(Systems)h(Journal,)e(V)-11 b(ol)20 b(30,)g(No)g(4,)g(1991.)330
1088 y([19])40 b(Iv)o(erson,)g(K)n(enneth)d(E.,)k(J)e(Introduction)c
(and)i(Dictionary)-5 b(,)40 b(Iv)o(erson)c(Softw)o(are)h(Inc.)h
(\(ISI\),)510 1187 y(T)-7 b(oronto,)18 b(Ontario,)h(1995.)330
1353 y([20])40 b(Jensen)20 b(K.,)g(and)g(W)m(irth)g(N.,)g(P)o(ascal)h
(User)f(Manual)g(and)f(Report,)h(Springer)m(,)e(1978.)330
1519 y([21])40 b(Krall,)18 b(A.,)h(and)f(Lelait,)h(S.,)f(Compilation)f
(T)-6 b(echniques)17 b(for)h(Multimedia)f(Processors,)h(Interna-)510
1619 y(tional)i(Journal)f(of)h(P)o(arallel)g(Programming,)d(V)-11
b(ol.)20 b(28,)g(No.)g(4,)g(pp)g(347-361,)d(2000.)330
1785 y([22])40 b(Leupers,)26 b(R.,)j(Niemmann,)d(R.)h(and)e(Marwedel,)i
(P)-9 b(.)27 b(Methods)e(for)h(Retar)o(getable)f(DSP)i(Code)510
1885 y(Generation,)18 b(VLSI)i(Signal)g(Processing)g(94,)f(IEEE.)330
2051 y([23])40 b(Leupers,)35 b(R.,)i(Compiler)32 b(Optimization)g(for)g
(Media)h(Processors,)j(EMMSEC)d(99/Sweden)510 2150 y(1999.)330
2316 y([24])40 b(Metcalf,)20 b(M.,)g(and)f(Reid.,)h(J.,)h(The)f(F)h
(Programming)c(Language,)h(OUP)-9 b(,)20 b(1996.)330
2482 y([25])40 b(Pele)o(g,)26 b(A.,)g(W)m(ilk)o(e)g(S.,)h(W)-7
b(eiser)26 b(U.,)h(Intel)e(MMX)g(for)g(Multimedia)f(PCs,)k(Comm.)c(A)m
(CM,)i(v)n(ol)510 2582 y(40,)19 b(no.)h(1)g(1997.)330
2748 y([26])40 b(Ramse)o(y)-5 b(,)22 b(N.)g(and)g(Fernandez,)f(M.,)i(A)
m(CM)f(T)m(ransactions)f(on)h(Programming)e(Languages)g(and)510
2848 y(Systems,)g(V)-11 b(ol.)20 b(19,)g(No.)g(3,)g(1997,)f(pp492-524.)
330 3014 y([27])40 b(Schw)o(artz,)23 b(J.T)-6 b(.,)24
b(De)n(w)o(ar)m(,)f(R.B.K.,)h(Dubinsk)o(y)-5 b(,)21 b(E.,)j(and)f
(Schonber)o(g,)d(E.,)k(Programming)c(with)510 3113 y(Sets:)26
b(An)20 b(Introduction)d(to)k(SETL)f(\(1986\),)e(Springer)n(-V)-9
b(erlag,)17 b(Ne)n(w)j(Y)-9 b(ork)330 3279 y([28])40
b(Srereman,)20 b(N.,)j(and)e(Go)o(vindarajan,)e(G.,)j(A)h(V)-9
b(ectorizing)20 b(Compiler)h(for)g(Multimedia)g(Exten-)510
3379 y(sions,)34 b(International)28 b(Journal)i(of)h(P)o(arallel)g
(Programming,)g(V)-11 b(ol.)31 b(28,)i(No.)d(4,)k(pp)d(363-400,)510
3479 y(2000.)330 3645 y([29])40 b(T)-7 b(annenbaum,)27
b(A.)i(S.,)i(A)e(T)l(utorial)f(on)i(A)t Fr(L)t(G)t(O)t(L)i
Fu(6)t(8)r(,)e(Computing)d(Surv)o(e)o(ys,)i(V)-11 b(ol.)28
b(8,)j(No.)d(2,)510 3744 y(June)20 b(1976,)e(p.155-190.)330
3910 y([30])40 b(T)l(urner)m(,)18 b(D.,)i(An)h(o)o(v)o(ervie)n(w)d(of)i
(MIRAND)m(A,)f(SIGPLAN)i(Notices,)f(December)f(1986.)330
4076 y([31])40 b(v)n(an)19 b(der)g(Meulen,)f(S.)i(G.,)r(A)t
Fr(L)t(G)t(O)t(L)j Fu(6)t(8)e(Might)e(Ha)n(v)o(e)g(Beens,)h(SIGPLAN)f
(notices)g(V)-11 b(ol.)20 b(12,)f(No.)510 4176 y(6,)h(1977.)330
4342 y([32])40 b(W)-7 b(att,)26 b(D.)e(A.,)g(and)f(Bro)n(wn,)h(D.)g(F)
-7 b(.,)25 b(Programming)c(Language)h(Processors)h(in)h(Ja)n(v)n(a,)h
(Prentice)510 4442 y(Hall,)20 b(2000.)1788 5919 y(25)p
eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF

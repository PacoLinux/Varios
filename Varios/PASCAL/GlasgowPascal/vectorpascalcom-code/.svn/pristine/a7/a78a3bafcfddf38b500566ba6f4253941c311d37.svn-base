\documentclass[10pt, a4paper]{article}
\usepackage{graphicx, epsfig}
\reversemarginpar
\title{Program dconv}
\begin{document}
\maketitle

\tableofcontents
\pagebreak

\begin{tabbing}
***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=\kill
\parbox{14cm}{\textsf{\textbf{program}  \textit{dconv} ;}}\\
\+\parbox{14cm}{\textsf{\textbf{const} }}\\
\parbox{14cm}{\textsf{\textit{m} =255;}}\\
\parbox{14cm}{\textsf{\textit{repeats} =400;}}\\
\<\parbox{14cm}{\textsf{\textbf{type} }}\\
\parbox{14cm}{\textsf{\textit{pixel}  = -128..127;}}\\
\parbox{14cm}{\textsf{\textit{tplain}  = \textbf{array} [0..\textit{m}  ,0..\textit{m} ] \textbf{of}  \textit{pixel} ;}}\\
\<\parbox{14cm}{\textsf{\textbf{var} }}\\
\parbox{14cm}{\textsf{Let \textit{theim}, \textit{theres} $\in$ tplain;}}\\
\parbox{14cm}{\textsf{Let \textit{i} $\in$ integer;}}\\
\parbox{14cm}{\textsf{Let \textit{oldtime}, \textit{ops} $\in$ real;}}\\
\<\textsf{\textbf{procedure}  \textit{showtime} ;} (see Section \ref{sec:dconvshowtime} )\\
\<\textsf{\textbf{procedure}  \textit{conv} \textit{(} \textit{c1} ,\textit{c2} ,\textit{c3} :\textit{real} );} (see Section \ref{sec:dconvconv} )\\
\\
\-\<\+\parbox{14cm}{\textsf{\textbf{begin} }}\\
\parbox{14cm}{\textsf{\textit{oldtime}$\leftarrow$ \textit{secs}}; }\\
\parbox{14cm}{\textsf{\textit{ops}$\leftarrow$ 12 $\times$ (\textit{m} + 1) $\times$ (\textit{m} + 1) $\times$ \textit{repeats}}; }\\
\parbox{14cm}{\textsf {\textbf {for } \textsf{\textit{i}$\leftarrow$ 1} \textbf{ to } \textsf{\textit{repeats}} \textbf{ do } \textsf{\textit{conv} (0.2, 0.6, 0.2)}; }}\\
\parbox{14cm}{\textsf{\textit{showtime}}; }\\
\parbox{14cm}{\textsf{\textbf{writeln}(\textit{\textrm{\textup { `done' } }}, \textit{secs})}; }\\
\<\-\parbox{14cm}{\textsf{\textbf{end} .}}\\
\end{tabbing}
\section{procedure showtime}\label{sec:dconvshowtime}

\begin{tabbing}
***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=\kill
\parbox{14cm}{\textsf {\textbf {procedure } \textsf{\textit{showtime}}; }}\\
\+\parbox{14cm}{\textsf{\textbf{var} }}\\
\parbox{14cm}{\textsf{Let \textit{sec}, \textit{duration}, \textit{rate} $\in$ real;}}\\
\-\<\+\parbox{14cm}{\textsf{\textbf{begin} }}\\
\parbox{14cm}{\textsf{\textit{sec}$\leftarrow$ \textit{secs}}; }\\
\parbox{14cm}{\textsf{\textit{duration}$\leftarrow$ \textit{sec} - \textit{oldtime}}; }\\
\parbox{14cm}{\textsf{\textbf{write}(\textit{duration}, \textit{\textrm{\textup { `  ' } }})}; }\\
\parbox{14cm}{\textsf{\textit{rate}$\leftarrow$ $\frac{\textit{ops}}{\textit{duration}}$}; }\\
\parbox{14cm}{\textsf{\textbf{write}($\frac{\textit{rate}}{1000000}$, \textit{\textrm{\textup { `M ops per sec' } }})}; }\\
\parbox{14cm}{\textsf{\textit{oldtime}$\leftarrow$ \textit{sec}}; }\\
\<\-\parbox{14cm}{\textsf{\textbf{end} ;}}\\
\end{tabbing}
\section{procedure conv}\label{sec:dconvconv}

\begin{tabbing}
***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=\kill
\parbox{14cm}{\textsf {\textbf {procedure } \textsf{\textit{conv} (\textit{c1}, \textit{c2}, \textit{c3} : \textit{real})}; }}\\
\+\parbox{14cm}{\textsf{\textbf{var} }}\\
\parbox{14cm}{\textsf{\textit{tim} :\textbf{array} [0..\textit{m} ,0..\textit{m} ]\textbf{of}  \textit{pixel} ;}}\\
\parbox{14cm}{\textsf{Let \textit{quarter}, \textit{half}, \textit{temp} $\in$ real;}}\\
\parbox{14cm}{\textsf{Let \textit{i}, \textit{j} $\in$ integer;}}\\
\-\<\+\parbox{14cm}{\textsf{\textbf{begin} }}\\
\+\parbox{14cm}{\textsf {\textbf {for } \textsf{\textit{i}$\leftarrow$ 1} \textbf{ to } \textsf{\textit{m} - 1} \textbf{ do } }}\\
\+\parbox{14cm}{\textsf {\textbf {for } \textsf{\textit{j}$\leftarrow$ 0} \textbf{ to } \textsf{\textit{m}} \textbf{ do } }}\\
\<\parbox{14cm}{\textsf{\textbf{begin} }}\\
\parbox{14cm}{\textsf{\textit{temp}$\leftarrow$ \textit{theim}$_{\textit{i} - 1, \textit{j}}$ $\times$ \textit{c1} + \textit{theim}$_{\textit{i}, \textit{j}}$ $\times$ \textit{c2} + \textit{theim}$_{\textit{i} + 1, \textit{j}}$ $\times$ \textit{c3}}; }\\
\+\+\parbox{14cm}{\textsf {\textbf {if } \textsf{\textit{temp} $>$ 127} \textbf{ then } \textsf{\textit{temp}$\leftarrow$ 127} \textbf{ else } }}\\
\-\-\parbox{14cm}{\textsf {\textbf {if } \textsf{\textit{temp} $<$  -  128 } \textbf{ then } \textsf{\textit{temp}$\leftarrow$  -  128 }; }}\\
\parbox{14cm}{\textsf{\textit{tim}$_{\textit{i}, \textit{j}}$$\leftarrow$ \textbf{round}(\textit{temp})}; }\\
\<\-\parbox{14cm}{\textsf{\textbf{end} ;}}\\
\+\parbox{14cm}{\textsf {\textbf {for } \textsf{\textit{j}$\leftarrow$ 0} \textbf{ to } \textsf{\textit{m}} \textbf{ do } }}\\
\<\parbox{14cm}{\textsf{\textbf{begin} }}\\
\parbox{14cm}{\textsf{\textit{tim}$_{0, \textit{j}}$$\leftarrow$ \textit{theim}$_{0, \textit{j}}$}; }\\
\parbox{14cm}{\textsf{\textit{tim}$_{\textit{m}, \textit{j}}$$\leftarrow$ \textit{theim}$_{\textit{m}, \textit{j}}$}; }\\
\<\-\parbox{14cm}{\textsf{\textbf{end} ;}}\\
\+\parbox{14cm}{\textsf {\textbf {for } \textsf{\textit{i}$\leftarrow$ 0} \textbf{ to } \textsf{\textit{m}} \textbf{ do } }}\\
\<\parbox{14cm}{\textsf{\textbf{begin} }}\\
\+\parbox{14cm}{\textsf {\textbf {for } \textsf{\textit{j}$\leftarrow$ 1} \textbf{ to } \textsf{\textit{m} - 1} \textbf{ do } }}\\
\<\parbox{14cm}{\textsf{\textbf{begin} }}\\
\parbox{14cm}{\textsf{\textit{temp}$\leftarrow$ \textit{tim}$_{\textit{i}, \textit{j} - 1}$ $\times$ \textit{c1} + \textit{tim}$_{\textit{i}, \textit{j} + 1}$ $\times$ \textit{c3} + \textit{tim}$_{\textit{i}, \textit{j}}$ $\times$ \textit{c2}}; }\\
\+\+\parbox{14cm}{\textsf {\textbf {if } \textsf{\textit{temp} $>$ 127} \textbf{ then } \textsf{\textit{temp}$\leftarrow$ 127} \textbf{ else } }}\\
\-\-\parbox{14cm}{\textsf {\textbf {if } \textsf{\textit{temp} $<$  -  128 } \textbf{ then } \textsf{\textit{temp}$\leftarrow$  -  128 }; }}\\
\parbox{14cm}{\textsf{\textit{tim}$_{\textit{i}, \textit{j}}$$\leftarrow$ \textbf{round}(\textit{temp})}; }\\
\<\-\parbox{14cm}{\textsf{\textbf{end} ;}}\\
\parbox{14cm}{\textsf{\textit{theim}$_{\textit{i}, 0}$$\leftarrow$ \textit{tim}$_{\textit{i}, 0}$}; }\\
\parbox{14cm}{\textsf{\textit{theim}$_{\textit{i}, \textit{m}}$$\leftarrow$ \textit{tim}$_{\textit{i}, \textit{m}}$}; }\\
\<\-\parbox{14cm}{\textsf{\textbf{end} ;}}\\
\<\-\<\-\parbox{14cm}{\textsf{\textbf{end} ;}}\\
\end{tabbing}
\end{document}

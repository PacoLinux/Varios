\documentclass[10pt, a4paper]{article}
\usepackage{graphicx, epsfig}
\reversemarginpar
\title{Program Konv}
\begin{document}
\maketitle

\tableofcontents
\pagebreak

\begin{tabbing}
***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=\kill
\parbox{14cm}{\textsf{\textbf{program}  \textit{Konv} ;}}\\
\+\parbox{14cm}{\textsf{\textbf{const} }}\\
\parbox{14cm}{\textsf{\textit{m} =255;}}\\
\parbox{14cm}{\textsf{\textit{repeats} =700;}}\\
\parbox{14cm}{\textsf{\textit{qrt} :\textit{pixel} =0.25;}}\\
\<\parbox{14cm}{\textsf{\textbf{type} }}\\
\parbox{14cm}{\textsf{\textit{tplain}  = \textbf{array} [0..\textit{m}  ,0..\textit{m} ] \textbf{of}  \textit{pixel} ;}}\\
\\
\<\parbox{14cm}{\textsf{\textbf{var} }}\\
\parbox{14cm}{\textsf{Let \textit{theim}, \textit{theres} $\in$ tplain;}}\\
\parbox{14cm}{\textsf{Let \textit{i} $\in$ integer;}}\\
\parbox{14cm}{\textsf{Let \textit{oldtime}, \textit{ops} $\in$ real;}}\\
\<\textsf{\textbf{procedure}  \textit{showtime} ;} (see Section \ref{sec:Konvshowtime} )\\
\<\textsf{\textbf{procedure}  \textit{pconv} \textit{(} \textbf{var}  \textit{theim} :\textit{tplain} ;\textit{c1} ,\textit{c2} ,\textit{c3} :\textit{real} );} (see Section \ref{sec:Konvpconv} )\\
\\
\\
\-\<\+\parbox{14cm}{\textsf{\textbf{begin} }}\\
\parbox{14cm}{\textsf{\textbf{writeln}(\textit{\textrm{\textup { `start' } }}, \textit{secs})}; }\\
\parbox{14cm}{\textsf{\textit{oldtime}$\leftarrow$ \textit{secs}}; }\\
\parbox{14cm}{\textsf{\textit{ops}$\leftarrow$ 12 $\times$ (\textit{m} + 1) $\times$ (\textit{m} + 1) $\times$ \textit{repeats}}; }\\
\parbox{14cm}{\textsf{\textit{i}$\leftarrow$ 1}; }\\
\+\<\parbox{14cm}{\textsf {\textbf {while } \textsf{\textit{i} $<$ \textit{repeats}} \textbf{ do } \textsf{\textit{begin}} \textbf{ begin } }}\\
\parbox{14cm}{\textsf{\textit{pconv} (\textit{theim}, 0.2, 0.6, 0.2)}; }\\
\parbox{14cm}{\textsf{\textit{i}$\leftarrow$ \textit{i} + 1}}\\
\<\-\parbox{14cm}{\textsf{\textbf{end} ;}}\\
\\
\parbox{14cm}{\textsf{\textit{showtime}}; }\\
\parbox{14cm}{\textsf{\textbf{writeln}(\textit{\textrm{\textup { `done' } }}, \textit{secs})}; }\\
\<\-\parbox{14cm}{\textsf{\textbf{end} .}}\\
\end{tabbing}
\section{procedure showtime}\label{sec:Konvshowtime}

\begin{tabbing}
***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=\kill
\parbox{14cm}{\textsf {\textbf {procedure } \textsf{\textit{showtime}}; }}\\
\+\parbox{14cm}{\textsf{\textbf{var} }}\\
\parbox{14cm}{\textsf{Let \textit{sec}, \textit{duration}, \textit{rate} $\in$ real;}}\\
\parbox{14cm}{\textsf{Let \textit{d} $\in$ double;}}\\
\-\<\+\parbox{14cm}{\textsf{\textbf{begin} }}\\
\parbox{14cm}{\textsf{\textit{d}$\leftarrow$ \textit{rate}}; }\\
\parbox{14cm}{\textsf{\textit{sec}$\leftarrow$ \textit{secs}}; }\\
\parbox{14cm}{\textsf{\textit{duration}$\leftarrow$ \textit{sec} - \textit{oldtime}}; }\\
\parbox{14cm}{\textsf{\textbf{write}(\textit{duration}, \textit{\textrm{\textup { `  ' } }})}; }\\
\parbox{14cm}{\textsf{\textit{rate}$\leftarrow$ $\frac{\textit{ops}}{\textit{duration}}$}; }\\
\parbox{14cm}{\textsf{\textbf{write}($\frac{\textit{rate}}{1000000}$, \textit{\textrm{\textup { `M ops per sec' } }})}; }\\
\parbox{14cm}{\textsf{\textit{oldtime}$\leftarrow$ \textit{sec}}; }\\
\<\-\parbox{14cm}{\textsf{\textbf{end} ;}}\\
\end{tabbing}
\section{procedure pconv}\label{sec:Konvpconv}

\begin{tabbing}
***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=***\=\kill
\parbox{14cm}{\textsf {\textbf {procedure } \textsf{ \textit{pconv} \textit{(} } \textbf{ var } \textsf{ \textit{theim} :\textit{tplain} ;\textit{c1} ,\textit{c2} ,\textit{c3} :\textit{real} );}}}\\
\+\parbox{14cm}{\textsf{\textbf{var} }}\\
\parbox{14cm}{\textsf{\textit{tim} :\textbf{array} [0..\textit{m} ,0..\textit{m} ]\textbf{of}  \textit{pixel} ;}}\\
\parbox{14cm}{\textsf{Let \textit{p1}, \textit{p2}, \textit{p3} $\in$ array[0..m]of  pixel;}}\\
\-\<\+\parbox{14cm}{\textsf{\textbf{begin} }}\\
\parbox{14cm}{\textsf{\textit{p1}$\leftarrow$ \textit{c1}}; }\\
\parbox{14cm}{\textsf{\textit{p2}$\leftarrow$ \textit{c2}}; }\\
\parbox{14cm}{\textsf{\textit{p3}$\leftarrow$ \textit{c3}}; }\\
\parbox{14cm}{\textsf{\textit{tim}$_{1..\textit{m} - 1}$$\leftarrow$ \textit{theim}$_{0..\textit{m} - 2}$ $\times$ \textit{p1} + \textit{theim}$_{1..\textit{m} - 1}$ $\times$ \textit{p2} + \textit{theim}$_{2..\textit{m}}$ $\times$ \textit{p3}}; }\\
\parbox{14cm}{\textsf{\textit{tim}$_{0}$$\leftarrow$ \textit{theim}$_{0}$}; }\\
\parbox{14cm}{\textsf{\textit{tim}$_{\textit{m}}$$\leftarrow$ \textit{theim}$_{\textit{m}}$}; }\\
\parbox{14cm}{\textsf{\textit{theim}$_{0..\textit{m}, 1..\textit{m} - 1}$$\leftarrow$ \textit{tim}$_{0..\textit{m}, 0..\textit{m} - 2}$ $\times$ \textit{p1} + \textit{tim}$_{0..\textit{m}, 2..\textit{m}}$ $\times$ \textit{p3} + \textit{tim}$_{0..\textit{m}, 1..\textit{m} - 1}$ $\times$ \textit{p2}}; }\\
\parbox{14cm}{\textsf{\textit{theim}$_{0..\textit{m}, 0}$$\leftarrow$ \textit{tim}$_{0..\textit{m}, 0}$}; }\\
\parbox{14cm}{\textsf{\textit{theim}$_{0..\textit{m}, \textit{m}}$$\leftarrow$ \textit{tim}$_{0..\textit{m}, \textit{m}}$}; }\\
\<\-\parbox{14cm}{\textsf{\textbf{end} ;}}\\
\end{tabbing}
\end{document}


PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:1    
        1        1        /*M* ZIG$D_END         I-D-S/II            DBACS    */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        ZIG$D_END:
        8        8            PROC;
        9        9    1   DCL PTR$ PTR;
       10       10    1   DCL EOF UBIN WORD;
       11       11    1   DCL SIZE UBIN WORD;
       12       12    1   DCL C80 CHAR(80) BASED(PTR$);
       13       13    1   DCL NO_ERRORS BIT(1) EXT;
       14       14    1   DCL 01 STRAN EXT, /*Schema ddl trans dir*/
       15       15    1         02 STATUS BIT(3),
       16       16    1         02 XREF BIT(1), /*On = xref , off = no xref*/
       17       17    1         02 ALLOC_PG BIT(1), /*On = ALLOCATE num_pg PAGES */
       18       18    1         02 ADD_PG BIT(1), /*On = ADD num_pg PAGES */
       19       19    1         02 FILR BIT(30),
       20       20    1         02 SNAME CHAR(30),
       21       21    1         02 NUM_PG UBIN(36); /* num_pg for ALLOCATE or ADD directive */
       22       22    1   DCL FIRST_SCHEMA_MADE BIT (1) EXT;
       23       23    1   DCL HIGH_SCHEMA_DBK UBIN (36) EXT;
       24       24    1   DCL HIGH_STORE_DBK UBIN (36) EXT;
       25       25    1   DCL SF_OPEN ENTRY (2);
       26       26    1   DCL SF_CLOSE ENTRY (2);
       27       27    1   DCL SF_MAKE_REAL_FILE ENTRY;
       28       28    1   DCL STATUS UBIN (36);
       29       29    1   DCL ALT_HASH_TABLE(0:808) PTR EXT;
       30       30    1   DCL I UBIN (36);
       31       31        %INCLUDE ZI_SUB4_CAN;
       32      688        %UWA;
       33     1023        %INCLUDE ZIG_GENERAL;
       34     1131        %INCLUDE ZIG_DBA_INT;
       35     1179
       36     1180    1   DCL LK$ PTR EXT;
       37     1181    1   DCL 1 LK BASED(LK$) ALIGNED,
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:2    
       38     1182    1         2 ALIAS_TYPE UBIN (3) UNAL,
       39     1183    1         2 TYPE UBIN (3) UNAL,
       40     1184    1         2 DUPS UBIN (12) UNAL,
       41     1185    1         2 C_NAME CHAR (30) UNAL,
       42     1186    1         2 PTR$ PTR ALIGNED,
       43     1187    1         2 NEXT_LT$ PTR ALIGNED;
       44     1188    1   DCL LT$ PTR EXT;
       45     1189    1   DCL 1 LT BASED(LT$) ALIGNED,
       46     1190    1         2 NEXT_LT$ PTR ALIGNED,
       47     1191    1         2 TYPE UBIN (36) ALIGNED,
       48     1192    1         2 DBK_SN UBIN (36) ALIGNED,
       49     1193    1         2 LOCKS UBIN (36) ALIGNED,
       50     1194    1         2 LOCKS_BITS(0:35) REDEF LOCKS BIT (1) UNAL,
       51     1195    1         2 LNO UBIN (36) ALIGNED;
       52     1196        %EQU SCHEMA_LOCK = 10;
       53     1197        %EQU RECORD_LOCK = 40;
       54     1198        %EQU ITEM_LOCK = 50;
       55     1199        %EQU SET_LOCK = 30;
       56     1200        %EQU COPY_BIT = 0;
       57     1201        %EQU DISPLAY_BIT = 1;
       58     1202        %EQU LOCKS_BIT = 2;
       59     1203        %EQU ALTER_BIT = 3;
       60     1204        %EQU GET_BIT = 9;
       61     1205        %EQU MODIFY_BIT = 10;
       62     1206        %EQU STORE_BIT = 11;
       63     1207        %EQU DELETE_BIT = 12;
       64     1208        %EQU INSERT_BIT = 13;
       65     1209        %EQU REMOVE_BIT = 14;
       66     1210        %EQU FIND_BIT = 15;
       67     1211        /*
       68     1212              Thing needed to do path checking for cycles.
       69     1213        */
       70     1214    1   DCL PATH_CHECK ENTRY ALTRET;
       71     1215    1   DCL DBK_STAR_DBPARAM_RC UBIN (36) EXT;
       72     1216    1   DCL DBK_STAR_SYSTEM_RC UBIN (36) EXT;
       73     1217    1   DCL DBK_STAR_CALC_RC UBIN (36) EXT;
       74     1218    1   DCL LEN_STRING UBIN (36) EXT;
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:3    
       75     1219    1   DCL RC_LIST$ PTR EXT;
       76     1220    1   DCL 1 STACK BASED,
       77     1221    1         2 RC_DBK UBIN (18) CALIGNED,
       78     1222    1         2 SM_DBK UBIN (18) CALIGNED;
       79     1223        %EJECT;
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:4    
       80     1224    1       HIGH_STORE_DBK = HIGH_STORE_DBK + UWA.SA.NUMB_DD +
       81     1225    1          UWA.DA.NUMB_LK + UWA.DA.NUMB_LT;
       82     1226    1       IF HIGH_STORE_DBK > HIGH_SCHEMA_DBK / 2
       83     1227    2       THEN DO;
       84     1228    2           CALL SF_CLOSE(0,STATUS);
       85     1229    2           CALL SF_OPEN(1,STATUS);
       86     1230    2           END;
       87     1231    1       CALL SF_MAKE_REAL_FILE;
       88     1232    1       CALL FINDD_6('SF  ',2);
       89     1233    1       IF UWA.DB_STATUS ~= '0000000'
       90     1234    1       THEN CALL ABORT;
       91     1235    1       CALL FINDD_6('OA  ',UWA.SF.DBKEY_OA);
       92     1236    1       CALL FINDD_6('DA  ',UWA.SF.DBKEY_DA);
       93     1237    1       CALL FINDD_6('SA  ',UWA.SF.DBKEY_SA);
       94     1238        /*
       95     1239              Now come the code to check for cycles in the schema.
       96     1240            First add the control records *DBPARAM, *CALC.RC, and
       97     1241            *SYSTEM into the stack of records so we don't waste time
       98     1242            by running throw them. Then all we have to do is call
       99     1243            PATH_CHECK and the rest will be done in that subrountine.
      100     1244        */
      101     1245    1       CALL ZIG$G_DYN_MEM_6(UWA.OA.NUMB_RC,RC_LIST$);
      102     1246    1       RC_LIST$ -> STACK.RC_DBK = DBK_STAR_SYSTEM_RC;
      103     1247    1       PTR$ = PINCRW(RC_LIST$,1);
      104     1248    1       PTR$ -> STACK.RC_DBK = DBK_STAR_DBPARAM_RC;
      105     1249    1       PTR$ = PINCRW(PTR$,1);
      106     1250    1       PTR$ -> STACK.RC_DBK = DBK_STAR_CALC_RC;
      107     1251    1       LEN_STRING = 12;
      108     1252    1       CALL PATH_CHECK;
      109     1253        /*
      110     1254              The UWA.SM.PA_MEMPNT field was misused during DDL processing
      111     1255            to signify the record in the 'MEMBER recname SELECTION' clause.
      112     1256            Now set the field back to 0 since we are done with it and it
      113     1257            will be used for its original purpose in the processing of the DMCL.
      114     1258        */
      115     1259    1       CALL FINDOS_6('OA-SC   '); /* OA */
      116     1260
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:5    
      117     1261    2   SC_LOOP: DO WHILE '1'B;
      118     1262    2           CALL FINDNS_6('OA-SC   ') /* SC */
      119     1263    3           WHENALTRETURN DO;
      120     1264    3               EXIT SC_LOOP;
      121     1265    3               END;
      122     1266    2           CALL FINDNS_6('SC-SOSM '); /* SO */
      123     1267
      124     1268    3   SM_LOOP: DO WHILE '1'B;
      125     1269    3               CALL FETCHNS_6('SC-SOSM ') /* SM */
      126     1270    4               WHENALTRETURN DO;
      127     1271    4                   EXIT SM_LOOP;
      128     1272    4                   END;
      129     1273    3               IF UWA.SM.PA_MEMPNT = 1
      130     1274    4               THEN DO;
      131     1275    4                   UWA.SM.PA_MEMPNT = 0;
      132     1276    4                   CALL MODIFY_6('SM      ');
      133     1277    4                   END;
      134     1278    3               END; /* SM_LOOP */
      135     1279    2           END; /* SC_LOOP */
      136     1280        /*
      137     1281              Done with all cycles now do other things.
      138     1282        */
      139     1283        /* store DDL source records */
      140     1284    1       CALL UOPEN('2*',0);
      141     1285    1       CALL UGET('2*',PTR$,EOF,SIZE);
      142     1286    2       DO WHILE (EOF ~= 1);
      143     1287    2           UWA.DD.DD_TXT_LINE = ' ';
      144     1288    2           UWA.DD.DD_TXT_LINE = SUBSTR(PTR$->C80,4,(SIZE*4)-1);
      145     1289    2           CALL STRE_6('DD      ');
      146     1290    2           CALL UGET('2*',PTR$,EOF,SIZE);
      147     1291    2           END;
      148     1292    1       CALL UCLOSE('2*');
      149     1293        /*
      150     1294              Now add all the LK and LTs that are in the schema.
      151     1295            all of the are in the alternate hash table for hash_it.
      152     1296        */
      153     1297    1       UWA.LK.PLVALUE = '"NULL"';
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:6    
      154     1298    2       DO I = 0 TO 808;
      155     1299    2           LK$ = ALT_HASH_TABLE(I);
      156     1300    3           DO WHILE (LK$ ~= ADDR(NIL));
      157     1301    3               UWA.LK.PLNAME = LK.C_NAME;
      158     1302    3               CALL STRE_6('LK      ');
      159     1303    3               LT$ = LK.NEXT_LT$;
      160     1304    4               DO WHILE (LT$ ~= ADDR(NIL));
      161     1305    4                   CALL FINDD_6('SN  ',LT.DBK_SN);
      162     1306    4                   UWA.LT.SUBENTRY = LT.TYPE;
      163     1307    4                   UWA.LT.PLOCKS = LT.LOCKS;
      164     1308    4                   UWA.LT.LNO = LT.LNO;
      165     1309    4                   CALL STRE_6('LT      ');
      166     1310    4                   LT$ = LT.NEXT_LT$;
      167     1311    4                   END;
      168     1312    3               LK$ = LK.PTR$;
      169     1313    3               END;
      170     1314    2           END;
      171     1315        /*
      172     1316              All locks should be in the schema file now.
      173     1317        */
      174     1318    1       CALL FCURR_R_6('SA      ');
      175     1319    1       CALL MODIFY_6('SA      ');
      176     1320        /* modify records with fields that have been changed */
      177     1321    2       IF NO_ERRORS THEN DO;
      178     1322    2           CALL FCURR_R_6('SF  ');
      179     1323    2           CALL FETCHNS_6('SF-AD   ');
      180     1324    2           CALL CONCAT(UWA.A_D.AD_IDENT,'DDL TRANSLATION SUCCESSFUL FOR ',
      181     1325    2              STRAN.SNAME,'.');
      182     1326    2           CALL MODIFY_6('A-D     ');
      183     1327    2           END;
      184     1328    1   END ZIG$D_END;
      185     1329        %EOD;

PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:7    
--  Include file information  --

   ZIG_DBA_INT.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZIG_GENERAL.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZI_SUB4_CAN.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure ZIG$D_END.

   Procedure ZIG$D_END requires 245 words for executable code.
   Procedure ZIG$D_END requires 12 words of local(AUTO) storage.

PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:8    

 Object Unit name= ZIG$D_END                                  File name= ZIG$D_END.:ZIC0TOU
 UTS= SEP 05 '97 11:57:37.88 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  LblCom even  none     1      1  NO_ERRORS
    1  LblCom even  none    10     12  STRAN
    2  LblCom even  none     1      1  FIRST_SCHEMA_MADE
    3  LblCom even  none     1      1  HIGH_SCHEMA_DBK
    4  LblCom even  none     1      1  HIGH_STORE_DBK
    5  LblCom even  none   809   1451  ALT_HASH_TABLE
    6  LblCom even  none   656   1220  UWA
    7  LblCom even  none     1      1  NUM_ERROR_MSG
    8  LblCom even  none     1      1  NUM_WARN_MSG
    9  LblCom even  none     1      1  ALLOCATE_END
   10  LblCom even  none     2      2  SUBSCHEMA_KEY
   11  LblCom even  none     1      1  BUFFER$
   12  LblCom even  none     1      1  ERROR_IO
   13  LblCom even  none     1      1  BUFFER_LEN
   14  LblCom even  none     2      2  UWA_KEY
   15  LblCom even  none     1      1  NEXT_UWA_SECOND_HALF
   16  LblCom even  none     2      2  RVA_KEY
   17  LblCom even  none     2      2  IA__KEY
   18  LblCom even  none     1      1  NEXT_RVA_SECOND_HALF
   19  LblCom even  none    32     40  SEARCHR_NB
   20  LblCom even  none    32     40  SEM_COM
   21  LblCom even  none    32     40  DMCL_XLATE
   22  LblCom even  none    32     40  Q2_PERCENT
   23  LblCom even  none     1      1  LK$
   24  LblCom even  none     1      1  LT$
   25  LblCom even  none     1      1  DBK_STAR_DBPARAM_RC
   26  LblCom even  none     1      1  DBK_STAR_SYSTEM_RC
   27  LblCom even  none     1      1  DBK_STAR_CALC_RC
   28  LblCom even  none     1      1  LEN_STRING
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:9    
   29  LblCom even  none     1      1  RC_LIST$
   30  RoData even  UTS     36     44  ZIG$D_END
   31   Proc  even  none   245    365  ZIG$D_END
   32  RoData even  none    32     40  ZIG$D_END

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    31      0   yes            yes      Std        0  ZIG$D_END

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       2 SF_CLOSE
         yes           Std       2 SF_OPEN
         yes           Std       2 UOPEN
         yes           Std       4 UGET
         yes           Std       0 SF_MAKE_REAL_FILE
 yes     yes           Std       2 FINDD_6
 yes     yes           Std       0 PATH_CHECK
 yes     yes           Std       1 STRE_6
 yes     yes           Std       1 FCURR_R_6
 yes     yes           Std       1 FINDOS_6
 yes     yes           Std       1 FINDNS_6
 yes     yes           Std       1 FETCHNS_6
         yes           Std       0 ABORT
         yes           Std       2 ZIG$G_DYN_MEM_6
         yes           Std       1 UCLOSE
 yes     yes           Std       1 MODIFY_6
                       nStd      0 X66_AUTO_0
                       nStd      0 X66_ARET
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:10   

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:11   


        1        1        /*M* ZIG$D_END         I-D-S/II            DBACS    */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        ZIG$D_END:
        8        8            PROC;

      8 31 000000   000000 700200 xent  ZIG$D_END    TSX0  ! X66_AUTO_0
        31 000001   000014 000000                    ZERO    12,0

        9        9    1   DCL PTR$ PTR;
       10       10    1   DCL EOF UBIN WORD;
       11       11    1   DCL SIZE UBIN WORD;
       12       12    1   DCL C80 CHAR(80) BASED(PTR$);
       13       13    1   DCL NO_ERRORS BIT(1) EXT;
       14       14    1   DCL 01 STRAN EXT, /*Schema ddl trans dir*/
       15       15    1         02 STATUS BIT(3),
       16       16    1         02 XREF BIT(1), /*On = xref , off = no xref*/
       17       17    1         02 ALLOC_PG BIT(1), /*On = ALLOCATE num_pg PAGES */
       18       18    1         02 ADD_PG BIT(1), /*On = ADD num_pg PAGES */
       19       19    1         02 FILR BIT(30),
       20       20    1         02 SNAME CHAR(30),
       21       21    1         02 NUM_PG UBIN(36); /* num_pg for ALLOCATE or ADD directive */
       22       22    1   DCL FIRST_SCHEMA_MADE BIT (1) EXT;
       23       23    1   DCL HIGH_SCHEMA_DBK UBIN (36) EXT;
       24       24    1   DCL HIGH_STORE_DBK UBIN (36) EXT;
       25       25    1   DCL SF_OPEN ENTRY (2);
       26       26    1   DCL SF_CLOSE ENTRY (2);
       27       27    1   DCL SF_MAKE_REAL_FILE ENTRY;
       28       28    1   DCL STATUS UBIN (36);
       29       29    1   DCL ALT_HASH_TABLE(0:808) PTR EXT;
       30       30    1   DCL I UBIN (36);
       31       31        %INCLUDE ZI_SUB4_CAN;
       32      688        %UWA;
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:12   
       33     1023        %INCLUDE ZIG_GENERAL;
       34     1131        %INCLUDE ZIG_DBA_INT;
       35     1179
       36     1180    1   DCL LK$ PTR EXT;
       37     1181    1   DCL 1 LK BASED(LK$) ALIGNED,
       38     1182    1         2 ALIAS_TYPE UBIN (3) UNAL,
       39     1183    1         2 TYPE UBIN (3) UNAL,
       40     1184    1         2 DUPS UBIN (12) UNAL,
       41     1185    1         2 C_NAME CHAR (30) UNAL,
       42     1186    1         2 PTR$ PTR ALIGNED,
       43     1187    1         2 NEXT_LT$ PTR ALIGNED;
       44     1188    1   DCL LT$ PTR EXT;
       45     1189    1   DCL 1 LT BASED(LT$) ALIGNED,
       46     1190    1         2 NEXT_LT$ PTR ALIGNED,
       47     1191    1         2 TYPE UBIN (36) ALIGNED,
       48     1192    1         2 DBK_SN UBIN (36) ALIGNED,
       49     1193    1         2 LOCKS UBIN (36) ALIGNED,
       50     1194    1         2 LOCKS_BITS(0:35) REDEF LOCKS BIT (1) UNAL,
       51     1195    1         2 LNO UBIN (36) ALIGNED;
       52     1196        %EQU SCHEMA_LOCK = 10;
       53     1197        %EQU RECORD_LOCK = 40;
       54     1198        %EQU ITEM_LOCK = 50;
       55     1199        %EQU SET_LOCK = 30;
       56     1200        %EQU COPY_BIT = 0;
       57     1201        %EQU DISPLAY_BIT = 1;
       58     1202        %EQU LOCKS_BIT = 2;
       59     1203        %EQU ALTER_BIT = 3;
       60     1204        %EQU GET_BIT = 9;
       61     1205        %EQU MODIFY_BIT = 10;
       62     1206        %EQU STORE_BIT = 11;
       63     1207        %EQU DELETE_BIT = 12;
       64     1208        %EQU INSERT_BIT = 13;
       65     1209        %EQU REMOVE_BIT = 14;
       66     1210        %EQU FIND_BIT = 15;
       67     1211        /*
       68     1212              Thing needed to do path checking for cycles.
       69     1213        */
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:13   
       70     1214    1   DCL PATH_CHECK ENTRY ALTRET;
       71     1215    1   DCL DBK_STAR_DBPARAM_RC UBIN (36) EXT;
       72     1216    1   DCL DBK_STAR_SYSTEM_RC UBIN (36) EXT;
       73     1217    1   DCL DBK_STAR_CALC_RC UBIN (36) EXT;
       74     1218    1   DCL LEN_STRING UBIN (36) EXT;
       75     1219    1   DCL RC_LIST$ PTR EXT;
       76     1220    1   DCL 1 STACK BASED,
       77     1221    1         2 RC_DBK UBIN (18) CALIGNED,
       78     1222    1         2 SM_DBK UBIN (18) CALIGNED;
       79     1223        %EJECT;
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:14   
       80     1224    1       HIGH_STORE_DBK = HIGH_STORE_DBK + UWA.SA.NUMB_DD +

   1224 31 000002   000000 236000 4                  LDQ     HIGH_STORE_DBK
        31 000003   000522 036000 6                  ADLQ    UWA+338
        31 000004   000410 036000 6                  ADLQ    UWA+264
        31 000005   000412 036000 6                  ADLQ    UWA+266
        31 000006   000000 756000 4                  STQ     HIGH_STORE_DBK

       81     1225    1          UWA.DA.NUMB_LK + UWA.DA.NUMB_LT;
       82     1226    1       IF HIGH_STORE_DBK > HIGH_SCHEMA_DBK / 2

   1226 31 000007   000000 236000 3                  LDQ     HIGH_SCHEMA_DBK
        31 000010   000001 772000                    QRL     1
        31 000011   000000 116000 4                  CMPQ    HIGH_STORE_DBK
        31 000012   000033 603000 31                 TRC     s:1231

       83     1227    2       THEN DO;

       84     1228    2           CALL SF_CLOSE(0,STATUS);

   1228 31 000013   200006 630500                    EPPR0   STATUS,,AUTO
        31 000014   200011 450500                    STP0    I+2,,AUTO
        31 000015   000002 236000 32                 LDQ     2
        31 000016   200010 756100                    STQ     I+1,,AUTO
        31 000017   200010 630500                    EPPR0   I+1,,AUTO
        31 000020   000000 631400 32                 EPPR1   0
        31 000021   000000 701000 xent               TSX1    SF_CLOSE
        31 000022   000000 011000                    NOP     0

       85     1229    2           CALL SF_OPEN(1,STATUS);

   1229 31 000023   200006 630500                    EPPR0   STATUS,,AUTO
        31 000024   200011 450500                    STP0    I+2,,AUTO
        31 000025   000004 236000 32                 LDQ     4
        31 000026   200010 756100                    STQ     I+1,,AUTO
        31 000027   200010 630500                    EPPR0   I+1,,AUTO
        31 000030   000000 631400 32                 EPPR1   0
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:15   
        31 000031   000000 701000 xent               TSX1    SF_OPEN
        31 000032   000000 011000                    NOP     0

       86     1230    2           END;

       87     1231    1       CALL SF_MAKE_REAL_FILE;

   1231 31 000033   000001 631400 32                 EPPR1   1
        31 000034   000000 701000 xent               TSX1    SF_MAKE_REAL_FILE
        31 000035   000000 011000                    NOP     0

       88     1232    1       CALL FINDD_6('SF  ',2);

   1232 31 000036   000006 630400 32                 EPPR0   6
        31 000037   000000 631400 32                 EPPR1   0
        31 000040   000000 701000 xent               TSX1    FINDD_6
        31 000041   000000 011000                    NOP     0

       89     1233    1       IF UWA.DB_STATUS ~= '0000000'

   1233 31 000042   040000 106400                    CMPC    fill='040'O
        31 000043   000001 000007 6                  ADSC9   UWA+1                    cn=0,n=7
        31 000044   000001 000007 30                 ADSC9   1                        cn=0,n=7
        31 000045   000051 600000 31                 TZE     s:1235

       90     1234    1       THEN CALL ABORT;

   1234 31 000046   000001 631400 32                 EPPR1   1
        31 000047   000000 701000 xent               TSX1    ABORT
        31 000050   000000 011000                    NOP     0

       91     1235    1       CALL FINDD_6('OA  ',UWA.SF.DBKEY_OA);

   1235 31 000051   000010 630400 32                 EPPR0   8
        31 000052   000000 631400 32                 EPPR1   0
        31 000053   000000 701000 xent               TSX1    FINDD_6
        31 000054   000000 011000                    NOP     0
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:16   

       92     1236    1       CALL FINDD_6('DA  ',UWA.SF.DBKEY_DA);

   1236 31 000055   000012 630400 32                 EPPR0   10
        31 000056   000000 631400 32                 EPPR1   0
        31 000057   000000 701000 xent               TSX1    FINDD_6
        31 000060   000000 011000                    NOP     0

       93     1237    1       CALL FINDD_6('SA  ',UWA.SF.DBKEY_SA);

   1237 31 000061   000014 630400 32                 EPPR0   12
        31 000062   000000 631400 32                 EPPR1   0
        31 000063   000000 701000 xent               TSX1    FINDD_6
        31 000064   000000 011000                    NOP     0

       94     1238        /*
       95     1239              Now come the code to check for cycles in the schema.
       96     1240            First add the control records *DBPARAM, *CALC.RC, and
       97     1241            *SYSTEM into the stack of records so we don't waste time
       98     1242            by running throw them. Then all we have to do is call
       99     1243            PATH_CHECK and the rest will be done in that subrountine.
      100     1244        */
      101     1245    1       CALL ZIG$G_DYN_MEM_6(UWA.OA.NUMB_RC,RC_LIST$);

   1245 31 000065   000016 630400 32                 EPPR0   14
        31 000066   000000 631400 32                 EPPR1   0
        31 000067   000000 701000 xent               TSX1    ZIG$G_DYN_MEM_6
        31 000070   000000 011000                    NOP     0

      102     1246    1       RC_LIST$ -> STACK.RC_DBK = DBK_STAR_SYSTEM_RC;

   1246 31 000071   000000 470400 29                 LDP0    RC_LIST$
        31 000072   000100 101400                    MRL     fill='000'O
        31 000073   000000 000004 26                 ADSC9   DBK_STAR_SYSTEM_RC       cn=0,n=4
        31 000074   000000 000002                    ADSC9   0,,PR0                   cn=0,n=2

      103     1247    1       PTR$ = PINCRW(RC_LIST$,1);
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:17   

   1247 31 000075   000000 236000 29                 LDQ     RC_LIST$
        31 000076   000001 036003                    ADLQ    1,DU
        31 000077   200003 756100                    STQ     PTR$,,AUTO

      104     1248    1       PTR$ -> STACK.RC_DBK = DBK_STAR_DBPARAM_RC;

   1248 31 000100   200003 470500                    LDP0    PTR$,,AUTO
        31 000101   000100 101400                    MRL     fill='000'O
        31 000102   000000 000004 25                 ADSC9   DBK_STAR_DBPARAM_RC      cn=0,n=4
        31 000103   000000 000002                    ADSC9   0,,PR0                   cn=0,n=2

      105     1249    1       PTR$ = PINCRW(PTR$,1);

   1249 31 000104   200003 236100                    LDQ     PTR$,,AUTO
        31 000105   000001 036003                    ADLQ    1,DU
        31 000106   200003 756100                    STQ     PTR$,,AUTO

      106     1250    1       PTR$ -> STACK.RC_DBK = DBK_STAR_CALC_RC;

   1250 31 000107   200003 470500                    LDP0    PTR$,,AUTO
        31 000110   000100 101400                    MRL     fill='000'O
        31 000111   000000 000004 27                 ADSC9   DBK_STAR_CALC_RC         cn=0,n=4
        31 000112   000000 000002                    ADSC9   0,,PR0                   cn=0,n=2

      107     1251    1       LEN_STRING = 12;

   1251 31 000113   000014 235007                    LDA     12,DL
        31 000114   000000 755000 28                 STA     LEN_STRING

      108     1252    1       CALL PATH_CHECK;

   1252 31 000115   000001 631400 32                 EPPR1   1
        31 000116   000000 701000 xent               TSX1    PATH_CHECK
        31 000117   000000 011000                    NOP     0

      109     1253        /*
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:18   
      110     1254              The UWA.SM.PA_MEMPNT field was misused during DDL processing
      111     1255            to signify the record in the 'MEMBER recname SELECTION' clause.
      112     1256            Now set the field back to 0 since we are done with it and it
      113     1257            will be used for its original purpose in the processing of the DMCL.
      114     1258        */
      115     1259    1       CALL FINDOS_6('OA-SC   '); /* OA */

   1259 31 000120   000021 630400 32                 EPPR0   17
        31 000121   000020 631400 32                 EPPR1   16
        31 000122   000000 701000 xent               TSX1    FINDOS_6
        31 000123   000000 011000                    NOP     0

      116     1260
      117     1261    2   SC_LOOP: DO WHILE '1'B;

   1261 31 000124                       SC_LOOP      null
      118     1262    2           CALL FINDNS_6('OA-SC   ') /* SC */

   1262 31 000124   000021 630400 32                 EPPR0   17
        31 000125   000020 631400 32                 EPPR1   16
        31 000126   000000 701000 xent               TSX1    FINDNS_6
        31 000127   000131 702000 31                 TSX2    s:1264
        31 000130   000132 710000 31                 TRA     s:1266

      119     1263    3           WHENALTRETURN DO;

      120     1264    3               EXIT SC_LOOP;

   1264 31 000131   000156 710000 31                 TRA     s:1284

      121     1265    3               END;
      122     1266    2           CALL FINDNS_6('SC-SOSM '); /* SO */

   1266 31 000132   000022 630400 32                 EPPR0   18
        31 000133   000020 631400 32                 EPPR1   16
        31 000134   000000 701000 xent               TSX1    FINDNS_6
        31 000135   000000 011000                    NOP     0
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:19   

      123     1267
      124     1268    3   SM_LOOP: DO WHILE '1'B;

   1268 31 000136                       SM_LOOP      null
      125     1269    3               CALL FETCHNS_6('SC-SOSM ') /* SM */

   1269 31 000136   000022 630400 32                 EPPR0   18
        31 000137   000020 631400 32                 EPPR1   16
        31 000140   000000 701000 xent               TSX1    FETCHNS_6
        31 000141   000143 702000 31                 TSX2    s:1271
        31 000142   000144 710000 31                 TRA     s:1273

      126     1270    4               WHENALTRETURN DO;

      127     1271    4                   EXIT SM_LOOP;

   1271 31 000143   000155 710000 31                 TRA     s:1279

      128     1272    4                   END;
      129     1273    3               IF UWA.SM.PA_MEMPNT = 1

   1273 31 000144   000373 235000 6                  LDA     UWA+251
        31 000145   000001 115007                    CMPA    1,DL
        31 000146   000136 601000 31                 TNZ     SM_LOOP

      130     1274    4               THEN DO;

      131     1275    4                   UWA.SM.PA_MEMPNT = 0;

   1275 31 000147   000373 450000 6                  STZ     UWA+251

      132     1276    4                   CALL MODIFY_6('SM      ');

   1276 31 000150   000023 630400 32                 EPPR0   19
        31 000151   000020 631400 32                 EPPR1   16
        31 000152   000000 701000 xent               TSX1    MODIFY_6
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:20   
        31 000153   000000 011000                    NOP     0

      133     1277    4                   END;

      134     1278    3               END; /* SM_LOOP */

   1278 31 000154   000136 710000 31                 TRA     SM_LOOP

      135     1279    2           END; /* SC_LOOP */

   1279 31 000155   000124 710000 31                 TRA     SC_LOOP

      136     1280        /*
      137     1281              Done with all cycles now do other things.
      138     1282        */
      139     1283        /* store DDL source records */
      140     1284    1       CALL UOPEN('2*',0);

   1284 31 000156   000024 630400 32                 EPPR0   20
        31 000157   000000 631400 32                 EPPR1   0
        31 000160   000000 701000 xent               TSX1    UOPEN
        31 000161   000000 011000                    NOP     0

      141     1285    1       CALL UGET('2*',PTR$,EOF,SIZE);

   1285 31 000162   200005 630500                    EPPR0   SIZE,,AUTO
        31 000163   200013 450500                    STP0    I+4,,AUTO
        31 000164   200004 631500                    EPPR1   EOF,,AUTO
        31 000165   200012 451500                    STP1    I+3,,AUTO
        31 000166   200003 633500                    EPPR3   PTR$,,AUTO
        31 000167   200011 453500                    STP3    I+2,,AUTO
        31 000170   000024 236000 32                 LDQ     20
        31 000171   200010 756100                    STQ     I+1,,AUTO
        31 000172   200010 630500                    EPPR0   I+1,,AUTO
        31 000173   000026 631400 32                 EPPR1   22
        31 000174   000000 701000 xent               TSX1    UGET
        31 000175   000000 011000                    NOP     0
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:21   

      142     1286    2       DO WHILE (EOF ~= 1);

   1286 31 000176   200004 235100                    LDA     EOF,,AUTO
        31 000177   000001 115007                    CMPA    1,DL
        31 000200   000236 600000 31                 TZE     s:1292

      143     1287    2           UWA.DD.DD_TXT_LINE = ' ';

   1287 31 000201   040000 100400                    MLR     fill='040'O
        31 000202   000027 000001 32                 ADSC9   23                       cn=0,n=1
        31 000203   000524 000120 6                  ADSC9   UWA+340                  cn=0,n=80

      144     1288    2           UWA.DD.DD_TXT_LINE = SUBSTR(PTR$->C80,4,(SIZE*4)-1);

   1288 31 000204   200005 235100                    LDA     SIZE,,AUTO
        31 000205   000002 735000                    ALS     2
        31 000206   777777 620005                    EAX0    -1,AL
        31 000207   200003 470500                    LDP0    PTR$,,AUTO
        31 000210   040000 100540                    MLR     fill='040'O
        31 000211   000001 000010                    ADSC9   1,,PR0                   cn=0,n=*X0
        31 000212   000524 000120 6                  ADSC9   UWA+340                  cn=0,n=80

      145     1289    2           CALL STRE_6('DD      ');

   1289 31 000213   000030 630400 32                 EPPR0   24
        31 000214   000020 631400 32                 EPPR1   16
        31 000215   000000 701000 xent               TSX1    STRE_6
        31 000216   000000 011000                    NOP     0

      146     1290    2           CALL UGET('2*',PTR$,EOF,SIZE);

   1290 31 000217   200005 630500                    EPPR0   SIZE,,AUTO
        31 000220   200013 450500                    STP0    I+4,,AUTO
        31 000221   200004 631500                    EPPR1   EOF,,AUTO
        31 000222   200012 451500                    STP1    I+3,,AUTO
        31 000223   200003 633500                    EPPR3   PTR$,,AUTO
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:22   
        31 000224   200011 453500                    STP3    I+2,,AUTO
        31 000225   000024 236000 32                 LDQ     20
        31 000226   200010 756100                    STQ     I+1,,AUTO
        31 000227   200010 630500                    EPPR0   I+1,,AUTO
        31 000230   000026 631400 32                 EPPR1   22
        31 000231   000000 701000 xent               TSX1    UGET
        31 000232   000000 011000                    NOP     0

      147     1291    2           END;

   1291 31 000233   200004 235100                    LDA     EOF,,AUTO
        31 000234   000001 115007                    CMPA    1,DL
        31 000235   000201 601000 31                 TNZ     s:1287

      148     1292    1       CALL UCLOSE('2*');

   1292 31 000236   000024 630400 32                 EPPR0   20
        31 000237   000020 631400 32                 EPPR1   16
        31 000240   000000 701000 xent               TSX1    UCLOSE
        31 000241   000000 011000                    NOP     0

      149     1293        /*
      150     1294              Now add all the LK and LTs that are in the schema.
      151     1295            all of the are in the alternate hash table for hash_it.
      152     1296        */
      153     1297    1       UWA.LK.PLVALUE = '"NULL"';

   1297 31 000242   040000 100400                    MLR     fill='040'O
        31 000243   000017 000006 30                 ADSC9   15                       cn=0,n=6
        31 000244   000447 400014 6                  ADSC9   UWA+295                  cn=2,n=12

      154     1298    2       DO I = 0 TO 808;

   1298 31 000245   200007 450100                    STZ     I,,AUTO

      155     1299    2           LK$ = ALT_HASH_TABLE(I);

PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:23   
   1299 31 000246   200007 720100                    LXL0    I,,AUTO
        31 000247   000000 236010 5                  LDQ     ALT_HASH_TABLE,X0
        31 000250   000000 756000 23                 STQ     LK$

      156     1300    3           DO WHILE (LK$ ~= ADDR(NIL));

   1300 31 000251   000321 710000 31                 TRA     s:1313

      157     1301    3               UWA.LK.PLNAME = LK.C_NAME;

   1301 31 000252   000000 470400 23                 LDP0    LK$
        31 000253   040000 100500                    MLR     fill='040'O
        31 000254   000000 400036                    ADSC9   0,,PR0                   cn=2,n=30
        31 000255   000440 000036 6                  ADSC9   UWA+288                  cn=0,n=30

      158     1302    3               CALL STRE_6('LK      ');

   1302 31 000256   000031 630400 32                 EPPR0   25
        31 000257   000020 631400 32                 EPPR1   16
        31 000260   000000 701000 xent               TSX1    STRE_6
        31 000261   000000 011000                    NOP     0

      159     1303    3               LT$ = LK.NEXT_LT$;

   1303 31 000262   000000 470400 23                 LDP0    LK$
        31 000263   000011 236100                    LDQ     9,,PR0
        31 000264   000000 756000 24                 STQ     LT$

      160     1304    4               DO WHILE (LT$ ~= ADDR(NIL));

   1304 31 000265   000314 710000 31                 TRA     s:1311

      161     1305    4                   CALL FINDD_6('SN  ',LT.DBK_SN);

   1305 31 000266   000000 236000 24                 LDQ     LT$
        31 000267   000002 036003                    ADLQ    2,DU
        31 000270   000032 235000 32                 LDA     26
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:24   
        31 000271   200010 757100                    STAQ    I+1,,AUTO
        31 000272   200010 630500                    EPPR0   I+1,,AUTO
        31 000273   000000 631400 32                 EPPR1   0
        31 000274   000000 701000 xent               TSX1    FINDD_6
        31 000275   000000 011000                    NOP     0

      162     1306    4                   UWA.LT.SUBENTRY = LT.TYPE;

   1306 31 000276   000000 470400 24                 LDP0    LT$
        31 000277   000001 235100                    LDA     1,,PR0
        31 000300   000472 755000 6                  STA     UWA+314

      163     1307    4                   UWA.LT.PLOCKS = LT.LOCKS;

   1307 31 000301   000003 235100                    LDA     3,,PR0
        31 000302   000473 755000 6                  STA     UWA+315

      164     1308    4                   UWA.LT.LNO = LT.LNO;

   1308 31 000303   000004 235100                    LDA     4,,PR0
        31 000304   000474 755000 6                  STA     UWA+316

      165     1309    4                   CALL STRE_6('LT      ');

   1309 31 000305   000033 630400 32                 EPPR0   27
        31 000306   000020 631400 32                 EPPR1   16
        31 000307   000000 701000 xent               TSX1    STRE_6
        31 000310   000000 011000                    NOP     0

      166     1310    4                   LT$ = LT.NEXT_LT$;

   1310 31 000311   000000 470400 24                 LDP0    LT$
        31 000312   000000 236100                    LDQ     0,,PR0
        31 000313   000000 756000 24                 STQ     LT$

      167     1311    4                   END;

PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:25   
   1311 31 000314   000034 116000 32                 CMPQ    28
        31 000315   000266 601000 31                 TNZ     s:1305

      168     1312    3               LK$ = LK.PTR$;

   1312 31 000316   000000 470400 23                 LDP0    LK$
        31 000317   000010 236100                    LDQ     8,,PR0
        31 000320   000000 756000 23                 STQ     LK$

      169     1313    3               END;

   1313 31 000321   000034 116000 32                 CMPQ    28
        31 000322   000252 601000 31                 TNZ     s:1301

      170     1314    2           END;

   1314 31 000323   200007 235100                    LDA     I,,AUTO
        31 000324   000001 035007                    ADLA    1,DL
        31 000325   200007 755100                    STA     I,,AUTO
        31 000326   001451 115007                    CMPA    809,DL
        31 000327   000246 602000 31                 TNC     s:1299

      171     1315        /*
      172     1316              All locks should be in the schema file now.
      173     1317        */
      174     1318    1       CALL FCURR_R_6('SA      ');

   1318 31 000330   000035 630400 32                 EPPR0   29
        31 000331   000020 631400 32                 EPPR1   16
        31 000332   000000 701000 xent               TSX1    FCURR_R_6
        31 000333   000000 011000                    NOP     0

      175     1319    1       CALL MODIFY_6('SA      ');

   1319 31 000334   000035 630400 32                 EPPR0   29
        31 000335   000020 631400 32                 EPPR1   16
        31 000336   000000 701000 xent               TSX1    MODIFY_6
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:26   
        31 000337   000000 011000                    NOP     0

      176     1320        /* modify records with fields that have been changed */
      177     1321    2       IF NO_ERRORS THEN DO;

   1321 31 000340   000000 234000 0                  SZN     NO_ERRORS
        31 000341   000364 605000 31                 TPL     s:1328

      178     1322    2           CALL FCURR_R_6('SF  ');

   1322 31 000342   000006 630400 32                 EPPR0   6
        31 000343   000020 631400 32                 EPPR1   16
        31 000344   000000 701000 xent               TSX1    FCURR_R_6
        31 000345   000000 011000                    NOP     0

      179     1323    2           CALL FETCHNS_6('SF-AD   ');

   1323 31 000346   000036 630400 32                 EPPR0   30
        31 000347   000020 631400 32                 EPPR1   16
        31 000350   000000 701000 xent               TSX1    FETCHNS_6
        31 000351   000000 011000                    NOP     0

      180     1324    2           CALL CONCAT(UWA.A_D.AD_IDENT,'DDL TRANSLATION SUCCESSFUL FOR ',

   1324 31 000352   040000 100400                    MLR     fill='040'O
        31 000353   000032 000037 30                 ADSC9   26                       cn=0,n=31
        31 000354   000174 000037 6                  ADSC9   UWA+124                  cn=0,n=31
        31 000355   040000 100400                    MLR     fill='040'O
        31 000356   000001 000035 1                  ADSC9   STRAN+1                  cn=0,n=29
        31 000357   000203 600035 6                  ADSC9   UWA+131                  cn=3,n=29

      181     1325    2              STRAN.SNAME,'.');
      182     1326    2           CALL MODIFY_6('A-D     ');

   1326 31 000360   000037 630400 32                 EPPR0   31
        31 000361   000020 631400 32                 EPPR1   16
        31 000362   000000 701000 xent               TSX1    MODIFY_6
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:27   
        31 000363   000000 011000                    NOP     0

      183     1327    2           END;

      184     1328    1   END ZIG$D_END;

   1328 31 000364   000000 702200 xent               TSX2  ! X66_ARET

STRAN
 Sect OctLoc
   1     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

ALT_HASH_TABLE
 Sect OctLoc
   5     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

UWA
 Sect OctLoc
   6     000   000000 000000   040040 040040   040040 040040   040040 040040    ....
   6     004   040040 040040   040040 040040   040040 040040   040040 040040
   6     010   040040 040040   040040 040040   040040 000000   040040 040040              ..
   6     014   040040 040040   040040 040040   040040 040040   040040 040040
   6     020   040040 040040   040040 040040   040040 000000   040040 040040              ..
   6     024   040040 040040   040040 040040   040040 040040   040040 040040
   6     030   040040 040040   040040 040040   040040 000000   040040 040040              ..
   6     034   040040 040040   040040 040040   000000 000000   040040 040040            ....
   6     040   040040 040040   040040 040040   040040 040040   040040 040040
   6     044   040040 040040   040040 040040   040040 000000   040040 040040              ..
   6     050   040040 040040   040040 040040   040040 040040   040040 040040
   6     054   040040 040040   040040 040040   040040 000000   000000 000000              ......
   6     060   040040 040040   040*** ******   000000 000000   000000 000000         ...........
   6     064   000000 000000   000000 000000   040040 040040   040040 040040    ........
   6     070   040040 040040   040040 040040   040040 040040   040040 040040
   6     100*  040040 ******   000000 000000   040040 040040   040040 040040      ......
   6     104   040040 040040   040040 040040   040040 040040   040040 040040
   6     124*  040040 040040   040040 040040   000000 000000   040040 040040            ....
   6     130   040040 040040   040040 040040   040040 040040   040040 040040
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:28   
   6     134   040040 040040   040040 040040   040040 ******   000000 000000              ......
   6     140   040040 040040   040040 040040   040040 040040   040040 040040
   6     144   040040 040040   040040 040040   000000 000000   000000 000000            ........
   6     150   000000 000000   000000 000000   000000 000000   000000 000000    ................
   6     154   040040 040040   040040 040040   040040 040040   040040 040040
   6     160   040040 040040   040040 040040   040040 040040   040040 ******                  ..
   6     164   000000 000000   ****** ******   000000 000000   000000 000000    ................
   6     170   000000 000000   040040 040040   040040 040040   040040 040040    ....
   6     174   040040 040040   040040 040040   040040 040040   040040 040040
   6     210*  040040 040040   040040 040040   040040 040040   ****** ******                ....
   6     214   000000 000000   000000 000000   000000 000000   000000 000000    ................
   6     224*  000000 000000   000000 000000   000000 000000   040040 ******    ............  ..
   6     230   000000 000000   ****** ******   000000 000000   040040 040040    ............
   6     234   000000 000000   000000 000000   000000 000000   000000 000000    ................
   6     264*  000000 000000   000000 000000   000000 000000   ****** ******    ................
   6     270   000000 000000   000000 000000   000000 000000   000000 000000    ................
   6     324*  000000 000000   ****** ******   000000 000000   000000 000000    ................
   6     330   000000 000000   000000 000000   000000 000000   000000 000000    ................
   6     350*  000000 000000   000000 000000   000000 000000   ****** ******    ................
   6     360*  000000 000000   000000 000000   000000 000000   000000 000000    ................
   6     404*  000000 000000   ****** ******   000000 000000   000000 000000    ................
   6     410   000000 000000   000000 000000   000000 000000   000000 000000    ................
   6     424*  000000 000000   000000 000000   000000 000000   040040 040040    ............
   6     430   040040 040040   040040 040040   040040 040040   040040 040040
   6     434   040040 040040   040040 040040   040040 ******   ****** ******              ......
   6     440   040040 040040   040040 040040   040040 040040   040040 040040
   6     450*  040040 040040   040040 040040   040040 ******   ****** ******              ......
   6     454   000000 000000   040040 040040   040040 040040   040040 040040    ....
   6     460   040040 040040   040040 040040   040040 040040   040040 040040
   6     464   040040 ******   ****** ******   000000 000000   000000 000000      ..............
   6     470   000000 000000   000000 000000   000000 000000   000000 000000    ................
   6     474   000000 000000   ****** ******   000000 000000   000000 000000    ................
   6     500   000000 000000   000000 000000   040040 040040   040040 040040    ........
   6     504   040040 040040   040040 040040   040040 040040   040040 040040
   6     520*  040040 040040   ****** ******   000000 000000   000000 000000        ............
   6     524   040040 040040   040040 040040   040040 040040   040040 040040
   6     574*  000000 000000   000000 000000   000000 000000   000000 000000    ................
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:29   
   6     600   000000 000000   000000 000000   000000 000000   ****** ******    ................
   6     604   000000 000000   000000 000000   000000 000000   000000 000000    ................
   6     610   000000 000000   000000 000000   040040 040040   040040 040040    ........
   6     614   040040 040040   040040 040040   040040 040040   040040 040040
   6     620   040040 040040   040040 ******   040040 040040   040040 040040          ..
   6     624   040040 040040   040040 040040   040040 040040   040040 040040
   6     660*  040040 040040   040040 040040   040040 040040   ****** ******                ....
   6     664   040040 040040   040040 040040   040040 040040   040040 040040
   6     674*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   6     700   040040 040040   040040 040040   040040 040040   040040 040040
   6     710*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   6     714   040040 040040   040040 040040   040040 040040   040040 040040
   6     720   040040 040040   040040 040040   040040 040040   ****** ******                ....
   6     724   040040 040040   040040 040040   040040 040040   040040 040040
   6     740*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   6     744   040040 040040   040040 040040   040040 040040   040040 040040
   6     774*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   6    1000   040040 040040   040040 040040   040040 040040   040040 040040
   6    1034*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   6    1040   040040 040040   040040 040040   040040 040040   040040 040040
   6    1060*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   6    1064   040040 040040   040040 040040   040040 040040   040040 040040
   6    1114*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   6    1120   040040 040040   040040 040040   040040 040040   040040 040040
   6    1134*  040040 040040   040040 040040   040040 040040   ****** ******                ....
   6    1140   040040 040040   040040 040040   040040 040040   040040 040040
   6    1144   040040 040040   ****** ******   040040 040040   040040 040040        ....
   6    1150   040040 040040   040040 040040   040040 040040   ****** ******                ....
   6    1154   040040 040040   040040 040040   040040 040040   040040 040040
   6    1160   040040 040040   ****** ******   040040 040040   040040 040040        ....
   6    1164   040040 040040   040040 040040   040040 040040   ****** ******                ....
   6    1170   040040 040040   040040 040040   040040 040040   040040 040040
   6    1200*  040040 040040   040040 040040   040040 040040   ****** ******                ....
   6    1204   040040 040040   040040 040040   040040 040040   040040 040040
   6    1214*  040040 040040   040040 040040   040040 040040   040040 040040

UWA_KEY
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:30   
 Sect OctLoc
  14     000   007125 127101   ****** ******                                    .UWA....

RVA_KEY
 Sect OctLoc
  16     000   007122 126101   ****** ******                                    .RVA....

IA__KEY
 Sect OctLoc
  17     000   007111 101137   ****** ******                                    .IA_....

SEARCHR_NB
 Sect OctLoc
  19     000   001001 001001   001001 001001   001001 001001   001001 001001    ................
  19     010*  000001 001001   001001 001001   001001 001001   001001 001001    ................
  19     014   001001 001001   001001 001001   001001 001001   001001 001001    ................
  19     034*  001001 001001   001001 001001   001001 001001   001001 001001    ................

SEM_COM
 Sect OctLoc
  20     000   000001 002003   004005 006007   010011 012013   014015 016017    ................
  20     004   020021 022023   024025 026027   030031 032033   034035 036037    ................
  20     010   040041 042043   044045 046047   050051 052053   054055 056057     !"#$%&'()*+,-./
  20     014   060061 062063   064065 066067   070071 072040   074075 076077    0123456789: <=>?
  20     020   100101 102103   104105 106107   110111 112113   114115 116117    @ABCDEFGHIJKLMNO
  20     024   120121 122123   124125 126127   130131 132133   134135 136137    PQRSTUVWXYZ[\]^_
  20     030   140141 142143   144145 146147   150151 152153   154155 156157    `abcdefghijklmno
  20     034   160161 162163   164165 166167   170171 172173   174175 176177    pqrstuvwxyz{|}~.

DMCL_XLATE
 Sect OctLoc
  21     000   000001 002003   004005 006007   010011 012013   014015 016017    ................
  21     004   020021 022023   024025 026027   030031 032033   034035 036037    ................
  21     010   040041 041043   044045 046047   050051 052053   054055 136057     !!#$%&'()*+,-^/
  21     014   060061 062063   064065 066067   070071 072040   074075 076077    0123456789: <=>?
  21     020   100101 102103   104105 106107   110111 112113   114115 116117    @ABCDEFGHIJKLMNO
  21     024   120121 122123   124125 126127   130131 132133   134135 136137    PQRSTUVWXYZ[\]^_
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:31   
  21     030   140141 142143   144145 146147   150151 152153   154155 156157    `abcdefghijklmno
  21     034   160161 162163   164165 166167   170171 172173   174175 176177    pqrstuvwxyz{|}~.

Q2_PERCENT
 Sect OctLoc
  22     000   000001 002003   004005 006007   010011 012013   014015 016017    ................
  22     004   020021 022023   024025 026027   030031 032033   034035 036037    ................
  22     010   040041 045043   044045 046047   050051 052053   054055 056057     !%#$%&'()*+,-./
  22     014   060061 062063   064065 066067   070071 072073   074075 076077    0123456789:;<=>?
  22     020   100101 102103   104105 106107   110111 112113   114115 116117    @ABCDEFGHIJKLMNO
  22     024   120121 122123   124125 126127   130131 132133   134135 136137    PQRSTUVWXYZ[\]^_
  22     030   140141 142143   144145 146147   150151 152153   154155 156157    `abcdefghijklmno
  22     034   160161 162163   164165 166167   170171 172173   174175 176177    pqrstuvwxyz{|}~.

(unnamed)
 Sect OctLoc
  30     000   123106 040040   060060 060060   060060 060040   117101 040040    SF  0000000 OA
  30     004   104101 040040   123101 040040   117101 055123   103040 040040    DA  SA  OA-SC
  30     010   123103 055123   117123 115040   123115 040040   040040 040040    SC-SOSM SM
  30     014   062052 040040   104104 040040   040040 040040   042116 125114    2*  DD      "NUL
  30     020   114042 040040   114113 040040   040040 040040   123116 040040    L"  LK      SN
  30     024   114124 040040   040040 040040   123101 040040   040040 040040    LT      SA
  30     030   123106 055101   104040 040040   104104 114040   124122 101116    SF-AD   DDL TRAN
  30     034   123114 101124   111117 116040   123125 103103   105123 123106    SLATION SUCCESSF
  30     040   125114 040106   117122 040040   101055 104040   040040 040040    UL FOR  A-D

(unnamed)
 Sect OctLoc
  32     000   000002 000000   000000 000000   000001 006000   000000 000001    ................
  32     004   000003 006000   000000 000002   000000 006000   000005 006000    ................
  32     010   000003 006000   000063 006000   000004 006000   000064 006000    .....3.......4..
  32     014   000005 006000   000062 006000   000215 006000   000000 006000    .....2..........
  32     020   000001 000000   000006 006000   000010 006000   000012 006000    ................
  32     024   000014 006000   000001 006000   000004 000000   040040 040040    ............
  32     030   000015 006000   000021 006000   000023 006000   000024 006000    ................
  32     034   000000 006014   000026 006000   000030 006000   000042 006000    ............."..
      185     1329        %EOD;
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:32   

PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:33   
--  Include file information  --

   ZIG_DBA_INT.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZIG_GENERAL.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZI_SUB4_CAN.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure ZIG$D_END.

   Procedure ZIG$D_END requires 245 words for executable code.
   Procedure ZIG$D_END requires 12 words of local(AUTO) storage.
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:34   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:35   
          MINI XREF LISTING

ABORT
      1044**DCL-ENT  1234--CALL
ALT_HASH_TABLE
        29**DCL      1299>>ASSIGN
C80
        12**DCL      1288>>ASSIGN
DBK_STAR_CALC_RC
      1217**DCL      1250>>ASSIGN
DBK_STAR_DBPARAM_RC
      1215**DCL      1248>>ASSIGN
DBK_STAR_SYSTEM_RC
      1216**DCL      1246>>ASSIGN
EOF
        10**DCL      1285<>CALL     1286>>DOWHILE  1290<>CALL
FCURR_R_6
      1143**DCL-ENT  1318--CALL     1322--CALL
FETCHNS_6
      1146**DCL-ENT  1269--CALL     1323--CALL
FINDD_6
      1142**DCL-ENT  1232--CALL     1235--CALL     1236--CALL     1237--CALL     1305--CALL
FINDNS_6
      1145**DCL-ENT  1262--CALL     1266--CALL
FINDOS_6
      1149**DCL-ENT  1259--CALL
HIGH_SCHEMA_DBK
        23**DCL      1226>>IF
HIGH_STORE_DBK
        24**DCL      1224<<ASSIGN   1224>>ASSIGN   1226>>IF
I
        30**DCL      1298<<DOINDEX  1299>>ASSIGN
LEN_STRING
      1218**DCL      1251<<ASSIGN
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:36   
LK.C_NAME
      1185**DCL      1301>>ASSIGN
LK.NEXT_LT$
      1187**DCL      1303>>ASSIGN
LK.PTR$
      1186**DCL      1312>>ASSIGN
LK$
      1180**DCL      1181--IMP-PTR  1299<<ASSIGN   1300>>DOWHILE  1301>>ASSIGN   1303>>ASSIGN   1312<<ASSIGN
      1312>>ASSIGN
LT.DBK_SN
      1192**DCL      1305<>CALL
LT.LNO
      1195**DCL      1308>>ASSIGN
LT.LOCKS
      1193**DCL      1194--REDEF    1307>>ASSIGN
LT.NEXT_LT$
      1190**DCL      1310>>ASSIGN
LT.TYPE
      1191**DCL      1306>>ASSIGN
LT$
      1188**DCL      1189--IMP-PTR  1303<<ASSIGN   1304>>DOWHILE  1305>>CALL     1306>>ASSIGN   1307>>ASSIGN
      1308>>ASSIGN   1310<<ASSIGN   1310>>ASSIGN
MODIFY_6
      1144**DCL-ENT  1276--CALL     1319--CALL     1326--CALL
NO_ERRORS
        13**DCL      1321>>IF
PATH_CHECK
      1214**DCL-ENT  1252--CALL
PTR$
         9**DCL        12--IMP-PTR  1247<<ASSIGN   1248>>ASSIGN   1249<<ASSIGN   1249>>ASSIGN   1250>>ASSIGN
      1285<>CALL     1288>>ASSIGN   1290<>CALL
RC_LIST$
      1219**DCL      1245<>CALL     1246>>ASSIGN   1247>>ASSIGN
SC_LOOP
      1261**LABEL    1264--EXIT
SF_CLOSE
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:37   
        26**DCL-ENT  1228--CALL
SF_MAKE_REAL_FILE
        27**DCL-ENT  1231--CALL
SF_OPEN
        25**DCL-ENT  1229--CALL
SIZE
        11**DCL      1285<>CALL     1288>>ASSIGN   1290<>CALL
SM_LOOP
      1268**LABEL    1271--EXIT
STACK.RC_DBK
      1221**DCL      1246<<ASSIGN   1248<<ASSIGN   1250<<ASSIGN
STATUS
        28**DCL      1228<>CALL     1229<>CALL
STRAN.SNAME
        20**DCL      1324>>CALLBLT
STRE_6
      1138**DCL-ENT  1289--CALL     1302--CALL     1309--CALL
SUBSCHEMA_KEY
      1071**DCL      1072--REDEF
UCLOSE
      1060**DCL-ENT  1292--CALL
UGET
      1058**DCL-ENT  1285--CALL     1290--CALL
UOPEN
      1057**DCL-ENT  1284--CALL
UWA.AC.CALC_NEXT
       799**DCL       800--REDEF
UWA.AC.CALC_PRIOR
       808**DCL       809--REDEF
UWA.AC.DEFAULTS
       760**DCL       761--REDEF
UWA.AC.FILE_CODE
       765**DCL       766--REDEF
UWA.AC.FLAG1.ERROR_TYPE
       762**DCL       763--REDEF
UWA.A_D.AD_IDENT
PL6.E3A0      #001=ZIG$D_END File=ZIG$D_END.:ZIC0TSI                             FRI 09/05/97 11:57 Page:38   
       744**DCL      1324<<CALLBLT
UWA.DA.NUMB_LK
       902**DCL      1224>>ASSIGN
UWA.DA.NUMB_LT
       904**DCL      1224>>ASSIGN
UWA.DB_STATUS
       691**DCL      1233>>IF
UWA.DD.DD_TXT_LINE
       946**DCL      1287<<ASSIGN   1288<<ASSIGN
UWA.LK.PLNAME
       920**DCL      1301<<ASSIGN
UWA.LK.PLVALUE
       921**DCL      1297<<ASSIGN
UWA.LT.LNO
       933**DCL      1308<<ASSIGN
UWA.LT.PLOCKS
       932**DCL      1307<<ASSIGN
UWA.LT.SUBENTRY
       931**DCL      1306<<ASSIGN
UWA.OA.NUMB_RC
       747**DCL      1245<>CALL
UWA.SA.NUMB_DD
       943**DCL      1224>>ASSIGN
UWA.SF.DBKEY_DA
       710**DCL      1236<>CALL
UWA.SF.DBKEY_OA
       709**DCL      1235<>CALL
UWA.SF.DBKEY_SA
       708**DCL      1237<>CALL
UWA.SM.PA_MEMPNT
       887**DCL      1273>>IF       1275<<ASSIGN
ZIG$G_DYN_MEM_6
      1046**DCL-ENT  1245--CALL

PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:39   
      186        1        /*T***********************************************************/
      187        2        /*T*                                                         */
      188        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      189        4        /*T*                                                         */
      190        5        /*T***********************************************************/
      191        6        PATH_CHECK:
      192        7            PROC ALTRET;
      193        8    1   DCL LAST_RC UBIN (36);
      194        9    1   DCL LAST_SM UBIN (36);
      195       10    1   DCL LAST_SO UBIN (36);
      196       11    1   DCL CURRENT_RC$ PTR;
      197       12    1   DCL DBK UBIN (36) STATIC;
      198       13    1   DCL 1 DBK_SEARCH REDEF DBK,
      199       14    1         2 * UBIN (18) CALIGNED,
      200       15    1         2 STRING CHAR (2) CALIGNED;
      201       16    1   DCL LEN_STRING UBIN (36) EXT;
      202       17    1   DCL RC_LIST$ PTR EXT;
      203       18    1   DCL 1 STACK BASED,
      204       19    1         2 RC_DBK UBIN (18) CALIGNED,
      205       20    1         2 SM_DBK UBIN (18) CALIGNED;
      206       21    1   DCL POS UBIN (36) STATIC;
      207       22    1   DCL PTR$ PTR STATIC;
      208       23    1   DCL STRING CHAR (LEN_STRING) BASED;
      209       24    1   DCL MAIN_ENTRY BIT (1);
      210       25    1   DCL FIRST_CALL BIT (1) STATIC;
      211       26    1   DCL I UBIN (36) STATIC;
      212       27    1   DCL SET_NAME CHAR (23) STATIC;
      213       28    1   DCL OWNER_NAME CHAR (23) STATIC;
      214       29    1   DCL MEMBER_NAME CHAR (23) STATIC;
      215       30    1   DCL MEMBER_SS BIT (1) STATIC;
      216       31    1   DCL VALID_MEMBER_NAME CHAR (23) STATIC;
      217       32    1   DCL VALID_SET_NAME CHAR (23) STATIC;
      218       33    1   DCL VALID_CYCLE BIT (1) STATIC;
      219       34    1   DCL LIST_STRING CHAR (128) EXT;
      220       35    1   DCL VALID_CYCLE_CT UBIN STATIC;
      221       36    1   DCL INVALID_CYCLE_CT UBIN STATIC;
      222       37    1   DCL ZIG$D_DIAG ENTRY(3);
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:40   
      223       38        %EQU WARN_SEV = 1;
      224       39        %EQU ERR_SEV = 2;
      225       40        %INCLUDE ZI_SUB4_CAN;
      226      697        %UWA;
      227     1032        %INCLUDE ZIG_GENERAL;
      228     1140        %INCLUDE ZIG_DBA_INT;
      229     1188
      230     1189        %EJECT;
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:41   
      231     1190    1   PUSH_RC:
      232     1191    1       PROC (MAIN_FLAG) ALTRET;
      233     1192    2   DCL MAIN_FLAG BIT(1) ALIGNED;
      234     1193        /*
      235     1194              Check if current RC is already on the stack. If not on stack
      236     1195            then add it. If on stack and done this RC already then
      237     1196            altret. If got to this RC and SM_DBK not equal zero on stack
      238     1197            then we have a cycle so must check if valid cycle or not.
      239     1198        */
      240     1199    2       DBK = UWA.DIRECT_REF;
      241     1200    2       CALL INDEX2(POS,DBK_SEARCH.STRING,RC_LIST$ -> STRING,0) ALTRET(ADD_IT);
      242     1201    2       PTR$ = PINCRC(RC_LIST$,POS);
      243     1202    2       IF MAIN_FLAG THEN
      244     1203    2           IF PTR$->STACK.SM_DBK = 0 THEN
      245     1204    2               ALTRETURN;
      246     1205    2           ELSE
      247     1206    2               RETURN;
      248     1207    2       IF PTR$ -> STACK.SM_DBK ~= 0
      249     1208    3       THEN DO;
      250     1209    3           CALL PRINT_PATH;
      251     1210    3           ALTRETURN;
      252     1211    3           END;
      253     1212    2       RETURN;
      254     1213    2   ADD_IT:
      255     1214    2       PTR$ = PINCRW(RC_LIST$, LEN_STRING/4);
      256     1215    2       LEN_STRING = LEN_STRING + 4;
      257     1216    2       PTR$ -> STACK.SM_DBK = 0;
      258     1217    2       PTR$ -> STACK.RC_DBK = DBK;
      259     1218    2       RETURN;
      260     1219    2   END PUSH_RC;
      261     1220        %EJECT;
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:42   
      262     1221    1   PRINT_PATH:
      263     1222    1       PROC;
      264     1223    2   DCL CYCLE_DBK UBIN (36);
      265     1224    2   DCL 1 STACK(0:0) BASED,
      266     1225    2         2 RC_DBK UBIN (18) CALIGNED,
      267     1226    2         2 SM_DBK UBIN (18) CALIGNED;
      268     1227        /*
      269     1228              Now find all the records and sets that are in this cycle and
      270     1229            print out the path that the cycle takes. All records in the
      271     1230            RC_LIST$ after pos/4 that have a nonzero sm_dbk are part of the
      272     1231            the current cycle.
      273     1232        */
      274     1233    2       IF FIRST_CALL
      275     1234    3       THEN DO;
      276     1235    3           CALL SUBLST(
              1235                    'SCHEMA SET PATH ANALYSIS                                            ');
      277     1236    3           FIRST_CALL = '0'B;
      278     1237    3           LIST_STRING =
              1237                    'owner record              set                       member record';
      279     1238    3           CALL LIST(LIST_STRING);
      280     1239    3           END;
      281     1240    2       CALL FINDD_6('RC  ',DBK);
      282     1241    2       CALL FETCHOS_6('SN-SE   ');
      283     1242    2       OWNER_NAME = UWA.SN.SENAME;
      284     1243    2       I = POS/4;
      285     1244    2       VALID_CYCLE = '0'B;
      286     1245    2       MEMBER_SS = '0'B;
      287     1246    2       CYCLE_DBK = DBK;
      288     1247    2       DBK = 0;
      289     1248    3       DO WHILE DBK ~= CYCLE_DBK;
      290     1249    3           DBK = RC_LIST$ -> STACK.SM_DBK(I);
      291     1250    3           CALL FETCHD_6('SM  ',DBK);
      292     1251    3           CALL FINDOS_6('SC-SOSM ');
      293     1252    3           CALL FETCHOS_6('SN-SE   ');
      294     1253    3           SET_NAME = UWA.SN.SENAME;
      295     1254    3           IF UWA.SM.INSTYPE = 1
      296     1255    4           THEN DO;
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:43   
      297     1256    4               VALID_CYCLE = '1'B;
      298     1257    4               VALID_SET_NAME = UWA.SN.SENAME;
      299     1258    4               END;
      300     1259    3           IF UWA.SM.PA_MEMPNT = 0
      301     1260    4           THEN DO;
      302     1261    4               MEMBER_SS = '1'B;
      303     1262    4               END;
      304     1263    3           CALL FINDD_6('SM  ',DBK);
      305     1264    3           CALL FETCHOS_6('RC-SOSM ');
      306     1265    3           DBK = UWA.DIRECT_REF;
      307     1266    3           CALL INDEX2(POS,DBK_SEARCH.STRING,RC_LIST$->STRING,0);
      308     1267    3           I = POS/4;
      309     1268    3           CALL FETCHOS_6('SN-SE   ');
      310     1269    3           MEMBER_NAME = UWA.SN.SENAME;
      311     1270    3           IF VALID_SET_NAME = SET_NAME
      312     1271    4           THEN DO;
      313     1272    4               VALID_MEMBER_NAME = MEMBER_NAME;
      314     1273    4               END;
      315     1274    3           CALL CONCAT(LIST_STRING,OWNER_NAME,'-> ',SET_NAME,'-> ',
      316     1275    3              MEMBER_NAME);
      317     1276    3           CALL LIST(LIST_STRING);
      318     1277    3           OWNER_NAME = MEMBER_NAME;
      319     1278    3           END;
      320     1279    2       IF VALID_CYCLE
      321     1280    3       THEN DO;
      322     1281    3           VALID_CYCLE_CT = VALID_CYCLE_CT + 1;
      323     1282    3           LIST_STRING = '***VALID CYCLE***';
      324     1283    3           CALL LIST(LIST_STRING);
      325     1284    3           CALL CONCAT(LIST_STRING,VALID_MEMBER_NAME,' IS A MANUAL MEMBER OF ',
      326     1285    3              VALID_SET_NAME);
      327     1286    3           CALL LIST(LIST_STRING);
      328     1287    3           END;
      329     1288    3       ELSE DO;
      330     1289    3           INVALID_CYCLE_CT = INVALID_CYCLE_CT + 1;
      331     1290    3           CALL ERROR(4222);
      332     1291        /*E*     ERROR:    ZIG-4222-C
      333     1292        MESSAGE: Invalid cycle above.
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:44   
      334     1293        */
      335     1294    3           END;
      336     1295    2       IF ~MEMBER_SS
      337     1296    3       THEN DO;
      338     1297    3           CALL ERROR(4333);
      339     1298        /*E*     ERROR:    ZIG-4333-C
      340     1299        MESSAGE: This cycle has a loop of members, each of which has a SELECTION
      341     1300                 clause stating that owner is identified by member selection.
      342     1301                 This is not allowed since it can cause an infinite loop.
      343     1302        */
      344     1303    3           END;
      345     1304    2       CALL FINDD_6('SM  ',LAST_SM);
      346     1305    2       RETURN;
      347     1306    2   END PRINT_PATH;
      348     1307        %EJECT;
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:45   
      349     1308    1       MAIN_ENTRY = '1'B;
      350     1309    1       FIRST_CALL = '1'B;
      351     1310    1       VALID_CYCLE_CT = 0;
      352     1311    1       INVALID_CYCLE_CT = 0;
      353     1312    1       GOTO SKIP;
      354     1313    1   RECURSIVE_CHECK:
      355     1314    1       ENTRY;
      356     1315    1       MAIN_ENTRY = '0'B;
      357     1316    1   SKIP:
      358     1317    2       DO WHILE ('1'B);
      359     1318    2   GET_NEXT:
      360     1319    2           IF MAIN_ENTRY
      361     1320    3           THEN DO;
      362     1321    3               CALL FINDNS_6('OA-RC   ');
      363     1322    3               IF UWA.DB_STATUS ~= '0000000'
      364     1323    4               THEN DO;
      365     1324    4                   IF VALID_CYCLE_CT > 0
      366     1325    5                   THEN DO;
      367     1326    5                       CALL SET_FIELDS( 2, 5, 'valid' );
      368     1327    5                       IF VALID_CYCLE_CT > 1
      369     1328    6                       THEN DO;
      370     1329    6                           CALL SET_FIELD_NUM( 1, VALID_CYCLE_CT );
      371     1330    6                           CALL ZIG$D_DIAG( 1, %WARN_SEV, 4334 );
      372     1331        /*E*
      373     1332        ERROR: ZIG-4334-C
      374     1333        MESSAGE: There were %U1 %U2 cycles detected.
      375     1334        */
      376     1335    6                           END;
      377     1336    5                       ELSE
      378     1337    5                           CALL ZIG$D_DIAG( 2, %WARN_SEV, 4335 );
      379     1338        /*E*
      380     1339        ERROR: ZIG-4335-C
      381     1340        MESSAGE: There was 1 %U2 cycle detected.
      382     1341        */
      383     1342    5                       END;
      384     1343    4                   IF INVALID_CYCLE_CT > 0
      385     1344    5                   THEN DO;
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:46   
      386     1345    5                       CALL SET_FIELDS( 2, 7, 'invalid' );
      387     1346    5                       IF INVALID_CYCLE_CT > 1
      388     1347    6                       THEN DO;
      389     1348    6                           CALL SET_FIELD_NUM( 1, INVALID_CYCLE_CT );
      390     1349    6                           CALL ZIG$D_DIAG( 1, %ERR_SEV, 4334 );
      391     1350    6                           END;
      392     1351    5                       ELSE
      393     1352    5                           CALL ZIG$D_DIAG( 2, %ERR_SEV, 4335 );
      394     1353    5                       END;
      395     1354    4                   RETURN;
      396     1355    4                   END;
      397     1356    3               LAST_RC = UWA.DIRECT_REF;
      398     1357    3               CALL PUSH_RC('1'B) ALTRET(GET_NEXT);
      399     1358    3               END;
      400     1359    2           CURRENT_RC$ = PTR$;
      401     1360    2           CALL FINDNS_6('RC-SOSM ');
      402     1361    3           DO WHILE (UWA.DB_STATUS = '0000000');
      403     1362    3               IF UWA.RECORD_NAME = 'SO'
      404     1363    4               THEN DO;
      405     1364    4                   LAST_SO = UWA.DIRECT_REF;
      406     1365    4                   CALL FINDNS_6('SC-SOSM ');
      407     1366    5                   DO WHILE (UWA.DB_STATUS = '0000000');
      408     1367    5                       LAST_SM = UWA.DIRECT_REF;
      409     1368    5                       CURRENT_RC$ -> STACK.SM_DBK = LAST_SM;
      410     1369    5                       CALL FINDOS_6('RC-SOSM ');
      411     1370    5                       CALL PUSH_RC('0'B) ALTRET(NO_CHECK);
      412     1371    5                       CALL RECURSIVE_CHECK;
      413     1372    5                       CALL FINDD_6('SM  ',LAST_SM);
      414     1373    5   NO_CHECK:
      415     1374    5                       CALL FINDNS_6('SC-SOSM ');
      416     1375    5                       END;
      417     1376    4                   CALL FINDD_6('SO  ',LAST_SO);
      418     1377    4                   END;
      419     1378    3               CALL FINDNS_6('RC-SOSM ');
      420     1379    3               END;
      421     1380    2           CURRENT_RC$ -> STACK.SM_DBK = 0;
      422     1381    2           IF ~MAIN_ENTRY THEN RETURN;
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:47   
      423     1382    2           CALL FINDD_6('RC  ',LAST_RC);
      424     1383    2           END;
      425     1384    1   END PATH_CHECK;

PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:48   
--  Include file information  --

   ZIG_DBA_INT.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZIG_GENERAL.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZI_SUB4_CAN.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure PATH_CHECK.

   Procedure PATH_CHECK requires 402 words for executable code.
   Procedure PATH_CHECK requires 14 words of local(AUTO) storage.

    No errors detected in file ZIG$D_END.:ZIC0TSI    .

PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:49   

 Object Unit name= PATH_CHECK                                 File name= ZIG$D_END.:ZIC0TOU
 UTS= SEP 05 '97 11:57:47.28 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none    39     47  PATH_CHECK
    1  LblCom even  none     1      1  LEN_STRING
    2  LblCom even  none     1      1  RC_LIST$
    3  LblCom even  none    32     40  LIST_STRING
    4  LblCom even  none   656   1220  UWA
    5  LblCom even  none     1      1  NUM_ERROR_MSG
    6  LblCom even  none     1      1  NUM_WARN_MSG
    7  LblCom even  none     1      1  ALLOCATE_END
    8  LblCom even  none     2      2  SUBSCHEMA_KEY
    9  LblCom even  none     1      1  BUFFER$
   10  LblCom even  none     1      1  ERROR_IO
   11  LblCom even  none     1      1  BUFFER_LEN
   12  LblCom even  none     2      2  UWA_KEY
   13  LblCom even  none     1      1  NEXT_UWA_SECOND_HALF
   14  LblCom even  none     2      2  RVA_KEY
   15  LblCom even  none     2      2  IA__KEY
   16  LblCom even  none     1      1  NEXT_RVA_SECOND_HALF
   17  LblCom even  none    32     40  SEARCHR_NB
   18  LblCom even  none    32     40  SEM_COM
   19  LblCom even  none    32     40  DMCL_XLATE
   20  LblCom even  none    32     40  Q2_PERCENT
   21  RoData even  UTS     63     77  PATH_CHECK
   22   Proc  even  none   402    622  PATH_CHECK
   23  RoData even  none    50     62  PATH_CHECK
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:50   

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    22      0   yes    yes     yes      Std        0  PATH_CHECK
    22    367          yes     yes      Std        0  RECURSIVE_CHECK

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       1 FINDNS_6
         yes           Std       3 SET_FIELDS
         yes           Std       2 SET_FIELD_NUM
 yes     yes           Std       2 FINDD_6
         yes           Std       3 ZIG$D_DIAG
 yes     yes           Std       1 FINDOS_6
         yes           Std       2 SUBLST
         yes           Std       1 LIST
 yes     yes           Std       1 FETCHOS_6
 yes     yes           Std       2 FETCHD_6
         yes           Std       1 ERROR
                       nStd      0 X66_AUTO_0
                       nStd      0 X66_ARET

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:51   


      186        1        /*T***********************************************************/
      187        2        /*T*                                                         */
      188        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      189        4        /*T*                                                         */
      190        5        /*T***********************************************************/
      191        6        PATH_CHECK:
      192        7            PROC ALTRET;

      7 22 000000   000000 700200 xent  PATH_CHECK   TSX0  ! X66_AUTO_0
        22 000001   000016 000000                    ZERO    14,0
        22 000002   000361 710000 22                 TRA     s:1308

      193        8    1   DCL LAST_RC UBIN (36);
      194        9    1   DCL LAST_SM UBIN (36);
      195       10    1   DCL LAST_SO UBIN (36);
      196       11    1   DCL CURRENT_RC$ PTR;
      197       12    1   DCL DBK UBIN (36) STATIC;
      198       13    1   DCL 1 DBK_SEARCH REDEF DBK,
      199       14    1         2 * UBIN (18) CALIGNED,
      200       15    1         2 STRING CHAR (2) CALIGNED;
      201       16    1   DCL LEN_STRING UBIN (36) EXT;
      202       17    1   DCL RC_LIST$ PTR EXT;
      203       18    1   DCL 1 STACK BASED,
      204       19    1         2 RC_DBK UBIN (18) CALIGNED,
      205       20    1         2 SM_DBK UBIN (18) CALIGNED;
      206       21    1   DCL POS UBIN (36) STATIC;
      207       22    1   DCL PTR$ PTR STATIC;
      208       23    1   DCL STRING CHAR (LEN_STRING) BASED;
      209       24    1   DCL MAIN_ENTRY BIT (1);
      210       25    1   DCL FIRST_CALL BIT (1) STATIC;
      211       26    1   DCL I UBIN (36) STATIC;
      212       27    1   DCL SET_NAME CHAR (23) STATIC;
      213       28    1   DCL OWNER_NAME CHAR (23) STATIC;
      214       29    1   DCL MEMBER_NAME CHAR (23) STATIC;
      215       30    1   DCL MEMBER_SS BIT (1) STATIC;
      216       31    1   DCL VALID_MEMBER_NAME CHAR (23) STATIC;
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:52   
      217       32    1   DCL VALID_SET_NAME CHAR (23) STATIC;
      218       33    1   DCL VALID_CYCLE BIT (1) STATIC;
      219       34    1   DCL LIST_STRING CHAR (128) EXT;
      220       35    1   DCL VALID_CYCLE_CT UBIN STATIC;
      221       36    1   DCL INVALID_CYCLE_CT UBIN STATIC;
      222       37    1   DCL ZIG$D_DIAG ENTRY(3);
      223       38        %EQU WARN_SEV = 1;
      224       39        %EQU ERR_SEV = 2;
      225       40        %INCLUDE ZI_SUB4_CAN;
      226      697        %UWA;
      227     1032        %INCLUDE ZIG_GENERAL;
      228     1140        %INCLUDE ZIG_DBA_INT;
      229     1188
      230     1189        %EJECT;
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:53   
      231     1190    1   PUSH_RC:

   1190 22 000003   200010 741300       PUSH_RC      STX1  ! MAIN_ENTRY+1,,AUTO

      232     1191    1       PROC (MAIN_FLAG) ALTRET;
      233     1192    2   DCL MAIN_FLAG BIT(1) ALIGNED;
      234     1193        /*
      235     1194              Check if current RC is already on the stack. If not on stack
      236     1195            then add it. If on stack and done this RC already then
      237     1196            altret. If got to this RC and SM_DBK not equal zero on stack
      238     1197            then we have a cycle so must check if valid cycle or not.
      239     1198        */
      240     1199    2       DBK = UWA.DIRECT_REF;

   1199 22 000004   000036 235000 4                  LDA     UWA+30
        22 000005   000000 755000 0                  STA     DBK

      241     1200    2       CALL INDEX2(POS,DBK_SEARCH.STRING,RC_LIST$ -> STRING,0) ALTRET(ADD_IT);

   1200 22 000006   000000 470400 2                  LDP0    RC_LIST$
        22 000007   000000 720000 1                  LXL0    LEN_STRING
        22 000010   000000 120540                    SCD
        22 000011   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
        22 000012   000000 400002 0                  ADSC9   DBK                      cn=2,n=2
        22 000013   000001 000000 0                  ARG     POS
        22 000014   000017 607000 22                 TTF     s:1201
        22 000015   000001 054000 0                  AOS     POS
        22 000016   000053 710000 22                 TRA     ADD_IT

      242     1201    2       PTR$ = PINCRC(RC_LIST$,POS);

   1201 22 000017   000001 236000 0                  LDQ     POS
        22 000020   000020 736000                    QLS     16
        22 000021   000000 036000 2                  ADLQ    RC_LIST$
        22 000022   000002 756000 0                  STQ     PTR$

      243     1202    2       IF MAIN_FLAG THEN
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:54   

   1202 22 000023   200011 471500                    LDP1    @MAIN_FLAG,,AUTO
        22 000024   100000 234100                    SZN     0,,PR1
        22 000025   000037 605000 22                 TPL     s:1207

      244     1203    2           IF PTR$->STACK.SM_DBK = 0 THEN

   1203 22 000026   000002 473400 0                  LDP3    PTR$
        22 000027   000100 101500                    MRL     fill='000'O
        22 000030   300000 400002                    ADSC9   0,,PR3                   cn=2,n=2
        22 000031   200014 000004                    ADSC9   CYCLE_DBK+1,,AUTO        cn=0,n=4
        22 000032   200014 236100                    LDQ     CYCLE_DBK+1,,AUTO
        22 000033   000000 116003                    CMPQ    0,DU
        22 000034   000036 601000 22                 TNZ     s:1206

      245     1204    2               ALTRETURN;

   1204 22 000035   000000 702211                    TSX2  ! 0,X1

      246     1205    2           ELSE
      247     1206    2               RETURN;

   1206 22 000036   000001 702211                    TSX2  ! 1,X1

      248     1207    2       IF PTR$ -> STACK.SM_DBK ~= 0

   1207 22 000037   000002 473400 0                  LDP3    PTR$
        22 000040   000100 101500                    MRL     fill='000'O
        22 000041   300000 400002                    ADSC9   0,,PR3                   cn=2,n=2
        22 000042   200014 000004                    ADSC9   CYCLE_DBK+1,,AUTO        cn=0,n=4
        22 000043   200014 236100                    LDQ     CYCLE_DBK+1,,AUTO
        22 000044   000000 116003                    CMPQ    0,DU
        22 000045   000052 600000 22                 TZE     s:1212

      249     1208    3       THEN DO;

      250     1209    3           CALL PRINT_PATH;
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:55   

   1209 22 000046   000074 701000 22                 TSX1    PRINT_PATH
        22 000047   000000 011000                    NOP     0

      251     1210    3           ALTRETURN;

   1210 22 000050   200010 221300                    LDX1  ! MAIN_ENTRY+1,,AUTO
        22 000051   000000 702211                    TSX2  ! 0,X1

      252     1211    3           END;
      253     1212    2       RETURN;

   1212 22 000052   000001 702211                    TSX2  ! 1,X1

      254     1213    2   ADD_IT:
      255     1214    2       PTR$ = PINCRW(RC_LIST$, LEN_STRING/4);

   1214 22 000053   000000 236000 1     ADD_IT       LDQ     LEN_STRING
        22 000054   000002 772000                    QRL     2
        22 000055   000022 736000                    QLS     18
        22 000056   000000 036000 2                  ADLQ    RC_LIST$
        22 000057   000002 756000 0                  STQ     PTR$

      256     1215    2       LEN_STRING = LEN_STRING + 4;

   1215 22 000060   000000 235000 1                  LDA     LEN_STRING
        22 000061   000004 035007                    ADLA    4,DL
        22 000062   000000 755000 1                  STA     LEN_STRING

      257     1216    2       PTR$ -> STACK.SM_DBK = 0;

   1216 22 000063   000002 470400 0                  LDP0    PTR$
        22 000064   000100 101400                    MRL     fill='000'O
        22 000065   000000 000004 23                 ADSC9   0                        cn=0,n=4
        22 000066   000000 400002                    ADSC9   0,,PR0                   cn=2,n=2

      258     1217    2       PTR$ -> STACK.RC_DBK = DBK;
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:56   

   1217 22 000067   000100 101400                    MRL     fill='000'O
        22 000070   000000 000004 0                  ADSC9   DBK                      cn=0,n=4
        22 000071   000000 000002                    ADSC9   0,,PR0                   cn=0,n=2

      259     1218    2       RETURN;

   1218 22 000072   200010 221300                    LDX1  ! MAIN_ENTRY+1,,AUTO
        22 000073   000001 702211                    TSX2  ! 1,X1

      260     1219    2   END PUSH_RC;
      261     1220        %EJECT;
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:57   
      262     1221    1   PRINT_PATH:

   1221 22 000074   200012 741300       PRINT_PATH   STX1  ! @MAIN_FLAG+1,,AUTO

      263     1222    1       PROC;
      264     1223    2   DCL CYCLE_DBK UBIN (36);
      265     1224    2   DCL 1 STACK(0:0) BASED,
      266     1225    2         2 RC_DBK UBIN (18) CALIGNED,
      267     1226    2         2 SM_DBK UBIN (18) CALIGNED;
      268     1227        /*
      269     1228              Now find all the records and sets that are in this cycle and
      270     1229            print out the path that the cycle takes. All records in the
      271     1230            RC_LIST$ after pos/4 that have a nonzero sm_dbk are part of the
      272     1231            the current cycle.
      273     1232        */
      274     1233    2       IF FIRST_CALL

   1233 22 000075   000003 234000 0                  SZN     FIRST_CALL
        22 000076   000113 605000 22                 TPL     s:1240

      275     1234    3       THEN DO;

      276     1235    3           CALL SUBLST(
              1235                    'SCHEMA SET PATH ANALYSIS                                           ');

   1235 22 000077   000002 630400 23                 EPPR0   2
        22 000100   000001 631400 23                 EPPR1   1
        22 000101   000000 701000 xent               TSX1    SUBLST
        22 000102   000000 011000                    NOP     0

      277     1236    3           FIRST_CALL = '0'B;

   1236 22 000103   000003 450000 0                  STZ     FIRST_CALL

      278     1237    3           LIST_STRING =
              1237                    'owner record              set                       member record';

PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:58   
   1237 22 000104   040000 100400                    MLR     fill='040'O
        22 000105   000021 000101 21                 ADSC9   17                       cn=0,n=65
        22 000106   000000 000200 3                  ADSC9   LIST_STRING              cn=0,n=128

      279     1238    3           CALL LIST(LIST_STRING);

   1238 22 000107   000003 630400 23                 EPPR0   3
        22 000110   000001 631400 23                 EPPR1   1
        22 000111   000000 701000 xent               TSX1    LIST
        22 000112   000000 011000                    NOP     0

      280     1239    3           END;

      281     1240    2       CALL FINDD_6('RC  ',DBK);

   1240 22 000113   000005 630400 23                 EPPR0   5
        22 000114   000004 631400 23                 EPPR1   4
        22 000115   000000 701000 xent               TSX1    FINDD_6
        22 000116   000000 011000                    NOP     0

      282     1241    2       CALL FETCHOS_6('SN-SE   ');

   1241 22 000117   000007 630400 23                 EPPR0   7
        22 000120   000001 631400 23                 EPPR1   1
        22 000121   000000 701000 xent               TSX1    FETCHOS_6
        22 000122   000000 011000                    NOP     0

      283     1242    2       OWNER_NAME = UWA.SN.SENAME;

   1242 22 000123   040000 100400                    MLR     fill='040'O
        22 000124   000427 000027 4                  ADSC9   UWA+279                  cn=0,n=23
        22 000125   000013 000027 0                  ADSC9   OWNER_NAME               cn=0,n=23

      284     1243    2       I = POS/4;

   1243 22 000126   000001 236000 0                  LDQ     POS
        22 000127   000002 772000                    QRL     2
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:59   
        22 000130   000004 756000 0                  STQ     I

      285     1244    2       VALID_CYCLE = '0'B;

   1244 22 000131   000044 450000 0                  STZ     VALID_CYCLE

      286     1245    2       MEMBER_SS = '0'B;

   1245 22 000132   000027 450000 0                  STZ     MEMBER_SS

      287     1246    2       CYCLE_DBK = DBK;

   1246 22 000133   000000 235000 0                  LDA     DBK
        22 000134   200013 755100                    STA     CYCLE_DBK,,AUTO

      288     1247    2       DBK = 0;

   1247 22 000135   000000 450000 0                  STZ     DBK

      289     1248    3       DO WHILE DBK ~= CYCLE_DBK;

   1248 22 000136   000000 236000 0                  LDQ     DBK
        22 000137   200013 116100                    CMPQ    CYCLE_DBK,,AUTO
        22 000140   000276 600000 22                 TZE     s:1279

      290     1249    3           DBK = RC_LIST$ -> STACK.SM_DBK(I);

   1249 22 000141   000004 235000 0                  LDA     I
        22 000142   000002 735000                    ALS     2
        22 000143   000000 470400 2                  LDP0    RC_LIST$
        22 000144   000000 101505                    MRL     fill='000'O
        22 000145   000000 400002                    ADSC9   0,A,PR0                  cn=2,n=2
        22 000146   000000 000004 0                  ADSC9   DBK                      cn=0,n=4

      291     1250    3           CALL FETCHD_6('SM  ',DBK);

   1250 22 000147   000010 630400 23                 EPPR0   8
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:60   
        22 000150   000004 631400 23                 EPPR1   4
        22 000151   000000 701000 xent               TSX1    FETCHD_6
        22 000152   000000 011000                    NOP     0

      292     1251    3           CALL FINDOS_6('SC-SOSM ');

   1251 22 000153   000012 630400 23                 EPPR0   10
        22 000154   000001 631400 23                 EPPR1   1
        22 000155   000000 701000 xent               TSX1    FINDOS_6
        22 000156   000000 011000                    NOP     0

      293     1252    3           CALL FETCHOS_6('SN-SE   ');

   1252 22 000157   000007 630400 23                 EPPR0   7
        22 000160   000001 631400 23                 EPPR1   1
        22 000161   000000 701000 xent               TSX1    FETCHOS_6
        22 000162   000000 011000                    NOP     0

      294     1253    3           SET_NAME = UWA.SN.SENAME;

   1253 22 000163   040000 100400                    MLR     fill='040'O
        22 000164   000427 000027 4                  ADSC9   UWA+279                  cn=0,n=23
        22 000165   000005 000027 0                  ADSC9   SET_NAME                 cn=0,n=23

      295     1254    3           IF UWA.SM.INSTYPE = 1

   1254 22 000166   000360 235000 4                  LDA     UWA+240
        22 000167   000001 115007                    CMPA    1,DL
        22 000170   000176 601000 22                 TNZ     s:1259

      296     1255    4           THEN DO;

      297     1256    4               VALID_CYCLE = '1'B;

   1256 22 000171   400000 236003                    LDQ     -131072,DU
        22 000172   000044 756000 0                  STQ     VALID_CYCLE

PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:61   
      298     1257    4               VALID_SET_NAME = UWA.SN.SENAME;

   1257 22 000173   040000 100400                    MLR     fill='040'O
        22 000174   000427 000027 4                  ADSC9   UWA+279                  cn=0,n=23
        22 000175   000036 000027 0                  ADSC9   VALID_SET_NAME           cn=0,n=23

      299     1258    4               END;

      300     1259    3           IF UWA.SM.PA_MEMPNT = 0

   1259 22 000176   000373 236000 4                  LDQ     UWA+251
        22 000177   000202 601000 22                 TNZ     s:1263

      301     1260    4           THEN DO;

      302     1261    4               MEMBER_SS = '1'B;

   1261 22 000200   400000 236003                    LDQ     -131072,DU
        22 000201   000027 756000 0                  STQ     MEMBER_SS

      303     1262    4               END;

      304     1263    3           CALL FINDD_6('SM  ',DBK);

   1263 22 000202   000010 630400 23                 EPPR0   8
        22 000203   000004 631400 23                 EPPR1   4
        22 000204   000000 701000 xent               TSX1    FINDD_6
        22 000205   000000 011000                    NOP     0

      305     1264    3           CALL FETCHOS_6('RC-SOSM ');

   1264 22 000206   000013 630400 23                 EPPR0   11
        22 000207   000001 631400 23                 EPPR1   1
        22 000210   000000 701000 xent               TSX1    FETCHOS_6
        22 000211   000000 011000                    NOP     0

      306     1265    3           DBK = UWA.DIRECT_REF;
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:62   

   1265 22 000212   000036 235000 4                  LDA     UWA+30
        22 000213   000000 755000 0                  STA     DBK

      307     1266    3           CALL INDEX2(POS,DBK_SEARCH.STRING,RC_LIST$->STRING,0);

   1266 22 000214   000000 470400 2                  LDP0    RC_LIST$
        22 000215   000000 720000 1                  LXL0    LEN_STRING
        22 000216   000000 120540                    SCD
        22 000217   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
        22 000220   000000 400002 0                  ADSC9   DBK                      cn=2,n=2
        22 000221   000001 000000 0                  ARG     POS
        22 000222   000224 607000 22                 TTF     s:1267
        22 000223   000001 054000 0                  AOS     POS

      308     1267    3           I = POS/4;

   1267 22 000224   000001 236000 0                  LDQ     POS
        22 000225   000002 772000                    QRL     2
        22 000226   000004 756000 0                  STQ     I

      309     1268    3           CALL FETCHOS_6('SN-SE   ');

   1268 22 000227   000007 630400 23                 EPPR0   7
        22 000230   000001 631400 23                 EPPR1   1
        22 000231   000000 701000 xent               TSX1    FETCHOS_6
        22 000232   000000 011000                    NOP     0

      310     1269    3           MEMBER_NAME = UWA.SN.SENAME;

   1269 22 000233   040000 100400                    MLR     fill='040'O
        22 000234   000427 000027 4                  ADSC9   UWA+279                  cn=0,n=23
        22 000235   000021 000027 0                  ADSC9   MEMBER_NAME              cn=0,n=23

      311     1270    3           IF VALID_SET_NAME = SET_NAME

   1270 22 000236   040000 106400                    CMPC    fill='040'O
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:63   
        22 000237   000036 000027 0                  ADSC9   VALID_SET_NAME           cn=0,n=23
        22 000240   000005 000027 0                  ADSC9   SET_NAME                 cn=0,n=23
        22 000241   000245 601000 22                 TNZ     s:1274

      312     1271    4           THEN DO;

      313     1272    4               VALID_MEMBER_NAME = MEMBER_NAME;

   1272 22 000242   040000 100400                    MLR     fill='040'O
        22 000243   000021 000027 0                  ADSC9   MEMBER_NAME              cn=0,n=23
        22 000244   000030 000027 0                  ADSC9   VALID_MEMBER_NAME        cn=0,n=23

      314     1273    4               END;

      315     1274    3           CALL CONCAT(LIST_STRING,OWNER_NAME,'-> ',SET_NAME,'-> ',

   1274 22 000245   040000 100400                    MLR     fill='040'O
        22 000246   000013 000027 0                  ADSC9   OWNER_NAME               cn=0,n=23
        22 000247   000000 000027 3                  ADSC9   LIST_STRING              cn=0,n=23
        22 000250   040000 100400                    MLR     fill='040'O
        22 000251   000052 000003 21                 ADSC9   42                       cn=0,n=3
        22 000252   000005 600003 3                  ADSC9   LIST_STRING+5            cn=3,n=3
        22 000253   040000 100400                    MLR     fill='040'O
        22 000254   000005 000027 0                  ADSC9   SET_NAME                 cn=0,n=23
        22 000255   000006 400027 3                  ADSC9   LIST_STRING+6            cn=2,n=23
        22 000256   000052 236000 21                 LDQ     42
        22 000257   000011 772000                    QRL     9
        22 000260   000014 552034 3                  STBQ    LIST_STRING+12,'34'O
        22 000261   040000 100400                    MLR     fill='040'O
        22 000262   000021 000027 0                  ADSC9   MEMBER_NAME              cn=0,n=23
        22 000263   000015 000114 3                  ADSC9   LIST_STRING+13           cn=0,n=76

      316     1275    3              MEMBER_NAME);
      317     1276    3           CALL LIST(LIST_STRING);

   1276 22 000264   000003 630400 23                 EPPR0   3
        22 000265   000001 631400 23                 EPPR1   1
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:64   
        22 000266   000000 701000 xent               TSX1    LIST
        22 000267   000000 011000                    NOP     0

      318     1277    3           OWNER_NAME = MEMBER_NAME;

   1277 22 000270   040000 100400                    MLR     fill='040'O
        22 000271   000021 000027 0                  ADSC9   MEMBER_NAME              cn=0,n=23
        22 000272   000013 000027 0                  ADSC9   OWNER_NAME               cn=0,n=23

      319     1278    3           END;

   1278 22 000273   000000 236000 0                  LDQ     DBK
        22 000274   200013 116100                    CMPQ    CYCLE_DBK,,AUTO
        22 000275   000141 601000 22                 TNZ     s:1249

      320     1279    2       IF VALID_CYCLE

   1279 22 000276   000044 234000 0                  SZN     VALID_CYCLE
        22 000277   000330 605000 22                 TPL     s:1289

      321     1280    3       THEN DO;

      322     1281    3           VALID_CYCLE_CT = VALID_CYCLE_CT + 1;

   1281 22 000300   000045 235000 0                  LDA     VALID_CYCLE_CT
        22 000301   000001 035007                    ADLA    1,DL
        22 000302   000045 755000 0                  STA     VALID_CYCLE_CT

      323     1282    3           LIST_STRING = '***VALID CYCLE***';

   1282 22 000303   040000 100400                    MLR     fill='040'O
        22 000304   000053 000021 21                 ADSC9   43                       cn=0,n=17
        22 000305   000000 000200 3                  ADSC9   LIST_STRING              cn=0,n=128

      324     1283    3           CALL LIST(LIST_STRING);

   1283 22 000306   000003 630400 23                 EPPR0   3
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:65   
        22 000307   000001 631400 23                 EPPR1   1
        22 000310   000000 701000 xent               TSX1    LIST
        22 000311   000000 011000                    NOP     0

      325     1284    3           CALL CONCAT(LIST_STRING,VALID_MEMBER_NAME,' IS A MANUAL MEMBER OF ',

   1284 22 000312   040000 100400                    MLR     fill='040'O
        22 000313   000030 000027 0                  ADSC9   VALID_MEMBER_NAME        cn=0,n=23
        22 000314   000000 000027 3                  ADSC9   LIST_STRING              cn=0,n=23
        22 000315   040000 100400                    MLR     fill='040'O
        22 000316   000060 000027 21                 ADSC9   48                       cn=0,n=23
        22 000317   000005 600027 3                  ADSC9   LIST_STRING+5            cn=3,n=23
        22 000320   040000 100400                    MLR     fill='040'O
        22 000321   000036 000027 0                  ADSC9   VALID_SET_NAME           cn=0,n=23
        22 000322   000013 400122 3                  ADSC9   LIST_STRING+11           cn=2,n=82

      326     1285    3              VALID_SET_NAME);
      327     1286    3           CALL LIST(LIST_STRING);

   1286 22 000323   000003 630400 23                 EPPR0   3
        22 000324   000001 631400 23                 EPPR1   1
        22 000325   000000 701000 xent               TSX1    LIST
        22 000326   000000 011000                    NOP     0

      328     1287    3           END;

   1287 22 000327   000337 710000 22                 TRA     s:1295

      329     1288    3       ELSE DO;

      330     1289    3           INVALID_CYCLE_CT = INVALID_CYCLE_CT + 1;

   1289 22 000330   000046 235000 0                  LDA     INVALID_CYCLE_CT
        22 000331   000001 035007                    ADLA    1,DL
        22 000332   000046 755000 0                  STA     INVALID_CYCLE_CT

      331     1290    3           CALL ERROR(4222);
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:66   

   1290 22 000333   000015 630400 23                 EPPR0   13
        22 000334   000001 631400 23                 EPPR1   1
        22 000335   000000 701000 xent               TSX1    ERROR
        22 000336   000000 011000                    NOP     0

      332     1291        /*E*     ERROR:    ZIG-4222-C
      333     1292        MESSAGE: Invalid cycle above.
      334     1293        */
      335     1294    3           END;

      336     1295    2       IF ~MEMBER_SS

   1295 22 000337   000027 236000 0                  LDQ     MEMBER_SS
        22 000340   400000 376003                    ANQ     -131072,DU
        22 000341   400000 676003                    ERQ     -131072,DU
        22 000342   000347 600000 22                 TZE     s:1304

      337     1296    3       THEN DO;

      338     1297    3           CALL ERROR(4333);

   1297 22 000343   000017 630400 23                 EPPR0   15
        22 000344   000001 631400 23                 EPPR1   1
        22 000345   000000 701000 xent               TSX1    ERROR
        22 000346   000000 011000                    NOP     0

      339     1298        /*E*     ERROR:    ZIG-4333-C
      340     1299        MESSAGE: This cycle has a loop of members, each of which has a SELECTION
      341     1300                 clause stating that owner is identified by member selection.
      342     1301                 This is not allowed since it can cause an infinite loop.
      343     1302        */
      344     1303    3           END;

      345     1304    2       CALL FINDD_6('SM  ',LAST_SM);

   1304 22 000347   200004 630500                    EPPR0   LAST_SM,,AUTO
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:67   
        22 000350   200015 450500                    STP0    CYCLE_DBK+2,,AUTO
        22 000351   000010 236000 23                 LDQ     8
        22 000352   200014 756100                    STQ     CYCLE_DBK+1,,AUTO
        22 000353   200014 630500                    EPPR0   CYCLE_DBK+1,,AUTO
        22 000354   000004 631400 23                 EPPR1   4
        22 000355   000000 701000 xent               TSX1    FINDD_6
        22 000356   000000 011000                    NOP     0

      346     1305    2       RETURN;

   1305 22 000357   200012 221300                    LDX1  ! @MAIN_FLAG+1,,AUTO
        22 000360   000001 702211                    TSX2  ! 1,X1

      347     1306    2   END PRINT_PATH;
      348     1307        %EJECT;
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:68   
      349     1308    1       MAIN_ENTRY = '1'B;

   1308 22 000361   400000 236003                    LDQ     -131072,DU
        22 000362   200007 756100                    STQ     MAIN_ENTRY,,AUTO

      350     1309    1       FIRST_CALL = '1'B;

   1309 22 000363   000003 756000 0                  STQ     FIRST_CALL

      351     1310    1       VALID_CYCLE_CT = 0;

   1310 22 000364   000045 450000 0                  STZ     VALID_CYCLE_CT

      352     1311    1       INVALID_CYCLE_CT = 0;

   1311 22 000365   000046 450000 0                  STZ     INVALID_CYCLE_CT

      353     1312    1       GOTO SKIP;

   1312 22 000366   000372 710000 22                 TRA     SKIP

      354     1313    1   RECURSIVE_CHECK:
      355     1314    1       ENTRY;

   1314 22 000367   000000 700200 xent  RECURSIVE_C* TSX0  ! X66_AUTO_0
        22 000370   000016 000000                    ZERO    14,0

      356     1315    1       MAIN_ENTRY = '0'B;

   1315 22 000371   200007 450100                    STZ     MAIN_ENTRY,,AUTO

      357     1316    1   SKIP:
      358     1317    2       DO WHILE ('1'B);

   1317 22 000372                       SKIP         null
      359     1318    2   GET_NEXT:
      360     1319    2           IF MAIN_ENTRY
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:69   

   1319 22 000372   200007 234100       GET_NEXT     SZN     MAIN_ENTRY,,AUTO
        22 000373   000467 605000 22                 TPL     s:1359

      361     1320    3           THEN DO;

      362     1321    3               CALL FINDNS_6('OA-RC   ');

   1321 22 000374   000020 630400 23                 EPPR0   16
        22 000375   000001 631400 23                 EPPR1   1
        22 000376   000000 701000 xent               TSX1    FINDNS_6
        22 000377   000000 011000                    NOP     0

      363     1322    3               IF UWA.DB_STATUS ~= '0000000'

   1322 22 000400   040000 106400                    CMPC    fill='040'O
        22 000401   000001 000007 4                  ADSC9   UWA+1                    cn=0,n=7
        22 000402   000070 000007 21                 ADSC9   56                       cn=0,n=7
        22 000403   000461 600000 22                 TZE     s:1356

      364     1323    4               THEN DO;

      365     1324    4                   IF VALID_CYCLE_CT > 0

   1324 22 000404   000045 235000 0                  LDA     VALID_CYCLE_CT
        22 000405   000432 600000 22                 TZE     s:1343

      366     1325    5                   THEN DO;

      367     1326    5                       CALL SET_FIELDS( 2, 5, 'valid' );

   1326 22 000406   000024 630400 23                 EPPR0   20
        22 000407   000021 631400 23                 EPPR1   17
        22 000410   000000 701000 xent               TSX1    SET_FIELDS
        22 000411   000000 011000                    NOP     0

      368     1327    5                       IF VALID_CYCLE_CT > 1
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:70   

   1327 22 000412   000045 235000 0                  LDA     VALID_CYCLE_CT
        22 000413   000002 115007                    CMPA    2,DL
        22 000414   000426 602000 22                 TNC     s:1337

      369     1328    6                       THEN DO;

      370     1329    6                           CALL SET_FIELD_NUM( 1, VALID_CYCLE_CT );

   1329 22 000415   000030 630400 23                 EPPR0   24
        22 000416   000004 631400 23                 EPPR1   4
        22 000417   000000 701000 xent               TSX1    SET_FIELD_NUM
        22 000420   000000 011000                    NOP     0

      371     1330    6                           CALL ZIG$D_DIAG( 1, %WARN_SEV, 4334 );

   1330 22 000421   000033 630400 23                 EPPR0   27
        22 000422   000021 631400 23                 EPPR1   17
        22 000423   000000 701000 xent               TSX1    ZIG$D_DIAG
        22 000424   000000 011000                    NOP     0

      372     1331        /*E*
      373     1332        ERROR: ZIG-4334-C
      374     1333        MESSAGE: There were %U1 %U2 cycles detected.
      375     1334        */
      376     1335    6                           END;

   1335 22 000425   000432 710000 22                 TRA     s:1343

      377     1336    5                       ELSE
      378     1337    5                           CALL ZIG$D_DIAG( 2, %WARN_SEV, 4335 );

   1337 22 000426   000037 630400 23                 EPPR0   31
        22 000427   000021 631400 23                 EPPR1   17
        22 000430   000000 701000 xent               TSX1    ZIG$D_DIAG
        22 000431   000000 011000                    NOP     0

PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:71   
      379     1338        /*E*
      380     1339        ERROR: ZIG-4335-C
      381     1340        MESSAGE: There was 1 %U2 cycle detected.
      382     1341        */
      383     1342    5                       END;

      384     1343    4                   IF INVALID_CYCLE_CT > 0

   1343 22 000432   000046 235000 0                  LDA     INVALID_CYCLE_CT
        22 000433   000460 600000 22                 TZE     s:1354

      385     1344    5                   THEN DO;

      386     1345    5                       CALL SET_FIELDS( 2, 7, 'invalid' );

   1345 22 000434   000043 630400 23                 EPPR0   35
        22 000435   000021 631400 23                 EPPR1   17
        22 000436   000000 701000 xent               TSX1    SET_FIELDS
        22 000437   000000 011000                    NOP     0

      387     1346    5                       IF INVALID_CYCLE_CT > 1

   1346 22 000440   000046 235000 0                  LDA     INVALID_CYCLE_CT
        22 000441   000002 115007                    CMPA    2,DL
        22 000442   000454 602000 22                 TNC     s:1352

      388     1347    6                       THEN DO;

      389     1348    6                           CALL SET_FIELD_NUM( 1, INVALID_CYCLE_CT );

   1348 22 000443   000046 630400 23                 EPPR0   38
        22 000444   000004 631400 23                 EPPR1   4
        22 000445   000000 701000 xent               TSX1    SET_FIELD_NUM
        22 000446   000000 011000                    NOP     0

      390     1349    6                           CALL ZIG$D_DIAG( 1, %ERR_SEV, 4334 );

PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:72   
   1349 22 000447   000050 630400 23                 EPPR0   40
        22 000450   000021 631400 23                 EPPR1   17
        22 000451   000000 701000 xent               TSX1    ZIG$D_DIAG
        22 000452   000000 011000                    NOP     0

      391     1350    6                           END;

   1350 22 000453   000460 710000 22                 TRA     s:1354

      392     1351    5                       ELSE
      393     1352    5                           CALL ZIG$D_DIAG( 2, %ERR_SEV, 4335 );

   1352 22 000454   000053 630400 23                 EPPR0   43
        22 000455   000021 631400 23                 EPPR1   17
        22 000456   000000 701000 xent               TSX1    ZIG$D_DIAG
        22 000457   000000 011000                    NOP     0

      394     1353    5                       END;

      395     1354    4                   RETURN;

   1354 22 000460   000000 702200 xent               TSX2  ! X66_ARET

      396     1355    4                   END;
      397     1356    3               LAST_RC = UWA.DIRECT_REF;

   1356 22 000461   000036 235000 4                  LDA     UWA+30
        22 000462   200003 755100                    STA     LAST_RC,,AUTO

      398     1357    3               CALL PUSH_RC('1'B) ALTRET(GET_NEXT);

   1357 22 000463   000057 236000 23                 LDQ     47
        22 000464   200011 756100                    STQ     MAIN_ENTRY+2,,AUTO
        22 000465   000003 701000 22                 TSX1    PUSH_RC
        22 000466   000372 702000 22                 TSX2    SKIP

      399     1358    3               END;
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:73   

      400     1359    2           CURRENT_RC$ = PTR$;

   1359 22 000467   000002 236000 0                  LDQ     PTR$
        22 000470   200006 756100                    STQ     CURRENT_RC$,,AUTO

      401     1360    2           CALL FINDNS_6('RC-SOSM ');

   1360 22 000471   000013 630400 23                 EPPR0   11
        22 000472   000001 631400 23                 EPPR1   1
        22 000473   000000 701000 xent               TSX1    FINDNS_6
        22 000474   000000 011000                    NOP     0

      402     1361    3           DO WHILE (UWA.DB_STATUS = '0000000');

   1361 22 000475   040000 106400                    CMPC    fill='040'O
        22 000476   000001 000007 4                  ADSC9   UWA+1                    cn=0,n=7
        22 000477   000070 000007 21                 ADSC9   56                       cn=0,n=7
        22 000500   000600 601000 22                 TNZ     s:1380

      403     1362    3               IF UWA.RECORD_NAME = 'SO'

   1362 22 000501   040000 106400                    CMPC    fill='040'O
        22 000502   000023 000036 4                  ADSC9   UWA+19                   cn=0,n=30
        22 000503   000076 000002 21                 ADSC9   62                       cn=0,n=2
        22 000504   000570 601000 22                 TNZ     s:1378

      404     1363    4               THEN DO;

      405     1364    4                   LAST_SO = UWA.DIRECT_REF;

   1364 22 000505   000036 235000 4                  LDA     UWA+30
        22 000506   200005 755100                    STA     LAST_SO,,AUTO

      406     1365    4                   CALL FINDNS_6('SC-SOSM ');

   1365 22 000507   000012 630400 23                 EPPR0   10
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:74   
        22 000510   000001 631400 23                 EPPR1   1
        22 000511   000000 701000 xent               TSX1    FINDNS_6
        22 000512   000000 011000                    NOP     0

      407     1366    5                   DO WHILE (UWA.DB_STATUS = '0000000');

   1366 22 000513   040000 106400                    CMPC    fill='040'O
        22 000514   000001 000007 4                  ADSC9   UWA+1                    cn=0,n=7
        22 000515   000070 000007 21                 ADSC9   56                       cn=0,n=7
        22 000516   000560 601000 22                 TNZ     s:1376

      408     1367    5                       LAST_SM = UWA.DIRECT_REF;

   1367 22 000517   000036 235000 4                  LDA     UWA+30
        22 000520   200004 755100                    STA     LAST_SM,,AUTO

      409     1368    5                       CURRENT_RC$ -> STACK.SM_DBK = LAST_SM;

   1368 22 000521   200006 470500                    LDP0    CURRENT_RC$,,AUTO
        22 000522   000100 101500                    MRL     fill='000'O
        22 000523   200004 000004                    ADSC9   LAST_SM,,AUTO            cn=0,n=4
        22 000524   000000 400002                    ADSC9   0,,PR0                   cn=2,n=2

      410     1369    5                       CALL FINDOS_6('RC-SOSM ');

   1369 22 000525   000013 630400 23                 EPPR0   11
        22 000526   000001 631400 23                 EPPR1   1
        22 000527   000000 701000 xent               TSX1    FINDOS_6
        22 000530   000000 011000                    NOP     0

      411     1370    5                       CALL PUSH_RC('0'B) ALTRET(NO_CHECK);

   1370 22 000531   000060 236000 23                 LDQ     48
        22 000532   200011 756100                    STQ     MAIN_ENTRY+2,,AUTO
        22 000533   000003 701000 22                 TSX1    PUSH_RC
        22 000534   000550 702000 22                 TSX2    NO_CHECK

PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:75   
      412     1371    5                       CALL RECURSIVE_CHECK;

   1371 22 000535   000000 631400 23                 EPPR1   0
        22 000536   000367 701000 22                 TSX1    s:1314
        22 000537   000000 011000                    NOP     0

      413     1372    5                       CALL FINDD_6('SM  ',LAST_SM);

   1372 22 000540   200004 630500                    EPPR0   LAST_SM,,AUTO
        22 000541   200015 450500                    STP0    CYCLE_DBK+2,,AUTO
        22 000542   000010 236000 23                 LDQ     8
        22 000543   200014 756100                    STQ     CYCLE_DBK+1,,AUTO
        22 000544   200014 630500                    EPPR0   CYCLE_DBK+1,,AUTO
        22 000545   000004 631400 23                 EPPR1   4
        22 000546   000000 701000 xent               TSX1    FINDD_6
        22 000547   000000 011000                    NOP     0

      414     1373    5   NO_CHECK:
      415     1374    5                       CALL FINDNS_6('SC-SOSM ');

   1374 22 000550   000012 630400 23    NO_CHECK     EPPR0   10
        22 000551   000001 631400 23                 EPPR1   1
        22 000552   000000 701000 xent               TSX1    FINDNS_6
        22 000553   000000 011000                    NOP     0

      416     1375    5                       END;

   1375 22 000554   040000 106400                    CMPC    fill='040'O
        22 000555   000001 000007 4                  ADSC9   UWA+1                    cn=0,n=7
        22 000556   000070 000007 21                 ADSC9   56                       cn=0,n=7
        22 000557   000517 600000 22                 TZE     s:1367

      417     1376    4                   CALL FINDD_6('SO  ',LAST_SO);

   1376 22 000560   200005 630500                    EPPR0   LAST_SO,,AUTO
        22 000561   200015 450500                    STP0    CYCLE_DBK+2,,AUTO
        22 000562   000061 236000 23                 LDQ     49
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:76   
        22 000563   200014 756100                    STQ     CYCLE_DBK+1,,AUTO
        22 000564   200014 630500                    EPPR0   CYCLE_DBK+1,,AUTO
        22 000565   000004 631400 23                 EPPR1   4
        22 000566   000000 701000 xent               TSX1    FINDD_6
        22 000567   000000 011000                    NOP     0

      418     1377    4                   END;

      419     1378    3               CALL FINDNS_6('RC-SOSM ');

   1378 22 000570   000013 630400 23                 EPPR0   11
        22 000571   000001 631400 23                 EPPR1   1
        22 000572   000000 701000 xent               TSX1    FINDNS_6
        22 000573   000000 011000                    NOP     0

      420     1379    3               END;

   1379 22 000574   040000 106400                    CMPC    fill='040'O
        22 000575   000001 000007 4                  ADSC9   UWA+1                    cn=0,n=7
        22 000576   000070 000007 21                 ADSC9   56                       cn=0,n=7
        22 000577   000501 600000 22                 TZE     s:1362

      421     1380    2           CURRENT_RC$ -> STACK.SM_DBK = 0;

   1380 22 000600   200006 470500                    LDP0    CURRENT_RC$,,AUTO
        22 000601   000100 101400                    MRL     fill='000'O
        22 000602   000000 000004 23                 ADSC9   0                        cn=0,n=4
        22 000603   000000 400002                    ADSC9   0,,PR0                   cn=2,n=2

      422     1381    2           IF ~MAIN_ENTRY THEN RETURN;

   1381 22 000604   200007 236100                    LDQ     MAIN_ENTRY,,AUTO
        22 000605   400000 376003                    ANQ     -131072,DU
        22 000606   400000 676003                    ERQ     -131072,DU
        22 000607   000611 600000 22                 TZE     s:1382

   1381 22 000610   000000 702200 xent               TSX2  ! X66_ARET
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:77   

      423     1382    2           CALL FINDD_6('RC  ',LAST_RC);

   1382 22 000611   200003 631500                    EPPR1   LAST_RC,,AUTO
        22 000612   200015 451500                    STP1    CYCLE_DBK+2,,AUTO
        22 000613   000005 236000 23                 LDQ     5
        22 000614   200014 756100                    STQ     CYCLE_DBK+1,,AUTO
        22 000615   200014 630500                    EPPR0   CYCLE_DBK+1,,AUTO
        22 000616   000004 631400 23                 EPPR1   4
        22 000617   000000 701000 xent               TSX1    FINDD_6
        22 000620   000000 011000                    NOP     0

      424     1383    2           END;

   1383 22 000621   000372 710000 22                 TRA     SKIP

SET_NAME
 Sect OctLoc
   0     005   ****** ******   ****** ******   ****** ******   ****** ******    ................

OWNER_NAME
 Sect OctLoc
   0     013   ****** ******   ****** ******   ****** ******   ****** ******    ................

MEMBER_NAME
 Sect OctLoc
   0     021   ****** ******   ****** ******   ****** ******   ****** ******    ................

VALID_MEMBER_NAME
 Sect OctLoc
   0     030   ****** ******   ****** ******   ****** ******   ****** ******    ................

VALID_SET_NAME
 Sect OctLoc
   0     036   ****** ******   ****** ******   ****** ******   ****** ******    ................

LIST_STRING
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:78   
 Sect OctLoc
   3     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

UWA
 Sect OctLoc
   4     000   000000 000000   040040 040040   040040 040040   040040 040040    ....
   4     004   040040 040040   040040 040040   040040 040040   040040 040040
   4     010   040040 040040   040040 040040   040040 000000   040040 040040              ..
   4     014   040040 040040   040040 040040   040040 040040   040040 040040
   4     020   040040 040040   040040 040040   040040 000000   040040 040040              ..
   4     024   040040 040040   040040 040040   040040 040040   040040 040040
   4     030   040040 040040   040040 040040   040040 000000   040040 040040              ..
   4     034   040040 040040   040040 040040   000000 000000   040040 040040            ....
   4     040   040040 040040   040040 040040   040040 040040   040040 040040
   4     044   040040 040040   040040 040040   040040 000000   040040 040040              ..
   4     050   040040 040040   040040 040040   040040 040040   040040 040040
   4     054   040040 040040   040040 040040   040040 000000   000000 000000              ......
   4     060   040040 040040   040*** ******   000000 000000   000000 000000         ...........
   4     064   000000 000000   000000 000000   040040 040040   040040 040040    ........
   4     070   040040 040040   040040 040040   040040 040040   040040 040040
   4     100*  040040 ******   000000 000000   040040 040040   040040 040040      ......
   4     104   040040 040040   040040 040040   040040 040040   040040 040040
   4     124*  040040 040040   040040 040040   000000 000000   040040 040040            ....
   4     130   040040 040040   040040 040040   040040 040040   040040 040040
   4     134   040040 040040   040040 040040   040040 ******   000000 000000              ......
   4     140   040040 040040   040040 040040   040040 040040   040040 040040
   4     144   040040 040040   040040 040040   000000 000000   000000 000000            ........
   4     150   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4     154   040040 040040   040040 040040   040040 040040   040040 040040
   4     160   040040 040040   040040 040040   040040 040040   040040 ******                  ..
   4     164   000000 000000   ****** ******   000000 000000   000000 000000    ................
   4     170   000000 000000   040040 040040   040040 040040   040040 040040    ....
   4     174   040040 040040   040040 040040   040040 040040   040040 040040
   4     210*  040040 040040   040040 040040   040040 040040   ****** ******                ....
   4     214   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4     224*  000000 000000   000000 000000   000000 000000   040040 ******    ............  ..
   4     230   000000 000000   ****** ******   000000 000000   040040 040040    ............
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:79   
   4     234   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4     264*  000000 000000   000000 000000   000000 000000   ****** ******    ................
   4     270   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4     324*  000000 000000   ****** ******   000000 000000   000000 000000    ................
   4     330   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4     350*  000000 000000   000000 000000   000000 000000   ****** ******    ................
   4     360*  000000 000000   000000 000000   000000 000000   000000 000000    ................
   4     404*  000000 000000   ****** ******   000000 000000   000000 000000    ................
   4     410   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4     424*  000000 000000   000000 000000   000000 000000   040040 040040    ............
   4     430   040040 040040   040040 040040   040040 040040   040040 040040
   4     434   040040 040040   040040 040040   040040 ******   ****** ******              ......
   4     440   040040 040040   040040 040040   040040 040040   040040 040040
   4     450*  040040 040040   040040 040040   040040 ******   ****** ******              ......
   4     454   000000 000000   040040 040040   040040 040040   040040 040040    ....
   4     460   040040 040040   040040 040040   040040 040040   040040 040040
   4     464   040040 ******   ****** ******   000000 000000   000000 000000      ..............
   4     470   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4     474   000000 000000   ****** ******   000000 000000   000000 000000    ................
   4     500   000000 000000   000000 000000   040040 040040   040040 040040    ........
   4     504   040040 040040   040040 040040   040040 040040   040040 040040
   4     520*  040040 040040   ****** ******   000000 000000   000000 000000        ............
   4     524   040040 040040   040040 040040   040040 040040   040040 040040
   4     574*  000000 000000   000000 000000   000000 000000   000000 000000    ................
   4     600   000000 000000   000000 000000   000000 000000   ****** ******    ................
   4     604   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4     610   000000 000000   000000 000000   040040 040040   040040 040040    ........
   4     614   040040 040040   040040 040040   040040 040040   040040 040040
   4     620   040040 040040   040040 ******   040040 040040   040040 040040          ..
   4     624   040040 040040   040040 040040   040040 040040   040040 040040
   4     660*  040040 040040   040040 040040   040040 040040   ****** ******                ....
   4     664   040040 040040   040040 040040   040040 040040   040040 040040
   4     674*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   4     700   040040 040040   040040 040040   040040 040040   040040 040040
   4     710*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   4     714   040040 040040   040040 040040   040040 040040   040040 040040
   4     720   040040 040040   040040 040040   040040 040040   ****** ******                ....
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:80   
   4     724   040040 040040   040040 040040   040040 040040   040040 040040
   4     740*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   4     744   040040 040040   040040 040040   040040 040040   040040 040040
   4     774*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   4    1000   040040 040040   040040 040040   040040 040040   040040 040040
   4    1034*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   4    1040   040040 040040   040040 040040   040040 040040   040040 040040
   4    1060*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   4    1064   040040 040040   040040 040040   040040 040040   040040 040040
   4    1114*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   4    1120   040040 040040   040040 040040   040040 040040   040040 040040
   4    1134*  040040 040040   040040 040040   040040 040040   ****** ******                ....
   4    1140   040040 040040   040040 040040   040040 040040   040040 040040
   4    1144   040040 040040   ****** ******   040040 040040   040040 040040        ....
   4    1150   040040 040040   040040 040040   040040 040040   ****** ******                ....
   4    1154   040040 040040   040040 040040   040040 040040   040040 040040
   4    1160   040040 040040   ****** ******   040040 040040   040040 040040        ....
   4    1164   040040 040040   040040 040040   040040 040040   ****** ******                ....
   4    1170   040040 040040   040040 040040   040040 040040   040040 040040
   4    1200*  040040 040040   040040 040040   040040 040040   ****** ******                ....
   4    1204   040040 040040   040040 040040   040040 040040   040040 040040
   4    1214*  040040 040040   040040 040040   040040 040040   040040 040040

UWA_KEY
 Sect OctLoc
  12     000   007125 127101   ****** ******                                    .UWA....

RVA_KEY
 Sect OctLoc
  14     000   007122 126101   ****** ******                                    .RVA....

IA__KEY
 Sect OctLoc
  15     000   007111 101137   ****** ******                                    .IA_....

SEARCHR_NB
 Sect OctLoc
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:81   
  17     000   001001 001001   001001 001001   001001 001001   001001 001001    ................
  17     010*  000001 001001   001001 001001   001001 001001   001001 001001    ................
  17     014   001001 001001   001001 001001   001001 001001   001001 001001    ................
  17     034*  001001 001001   001001 001001   001001 001001   001001 001001    ................

SEM_COM
 Sect OctLoc
  18     000   000001 002003   004005 006007   010011 012013   014015 016017    ................
  18     004   020021 022023   024025 026027   030031 032033   034035 036037    ................
  18     010   040041 042043   044045 046047   050051 052053   054055 056057     !"#$%&'()*+,-./
  18     014   060061 062063   064065 066067   070071 072040   074075 076077    0123456789: <=>?
  18     020   100101 102103   104105 106107   110111 112113   114115 116117    @ABCDEFGHIJKLMNO
  18     024   120121 122123   124125 126127   130131 132133   134135 136137    PQRSTUVWXYZ[\]^_
  18     030   140141 142143   144145 146147   150151 152153   154155 156157    `abcdefghijklmno
  18     034   160161 162163   164165 166167   170171 172173   174175 176177    pqrstuvwxyz{|}~.

DMCL_XLATE
 Sect OctLoc
  19     000   000001 002003   004005 006007   010011 012013   014015 016017    ................
  19     004   020021 022023   024025 026027   030031 032033   034035 036037    ................
  19     010   040041 041043   044045 046047   050051 052053   054055 136057     !!#$%&'()*+,-^/
  19     014   060061 062063   064065 066067   070071 072040   074075 076077    0123456789: <=>?
  19     020   100101 102103   104105 106107   110111 112113   114115 116117    @ABCDEFGHIJKLMNO
  19     024   120121 122123   124125 126127   130131 132133   134135 136137    PQRSTUVWXYZ[\]^_
  19     030   140141 142143   144145 146147   150151 152153   154155 156157    `abcdefghijklmno
  19     034   160161 162163   164165 166167   170171 172173   174175 176177    pqrstuvwxyz{|}~.

Q2_PERCENT
 Sect OctLoc
  20     000   000001 002003   004005 006007   010011 012013   014015 016017    ................
  20     004   020021 022023   024025 026027   030031 032033   034035 036037    ................
  20     010   040041 045043   044045 046047   050051 052053   054055 056057     !%#$%&'()*+,-./
  20     014   060061 062063   064065 066067   070071 072073   074075 076077    0123456789:;<=>?
  20     020   100101 102103   104105 106107   110111 112113   114115 116117    @ABCDEFGHIJKLMNO
  20     024   120121 122123   124125 126127   130131 132133   134135 136137    PQRSTUVWXYZ[\]^_
  20     030   140141 142143   144145 146147   150151 152153   154155 156157    `abcdefghijklmno
  20     034   160161 162163   164165 166167   170171 172173   174175 176177    pqrstuvwxyz{|}~.
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:82   

(unnamed)
 Sect OctLoc
  21     000   123103 110105   115101 040123   105124 040120   101124 110040    SCHEMA SET PATH
  21     004   101116 101114   131123 111123   040040 040040   040040 040040    ANALYSIS
  21     010   040040 040040   040040 040040   040040 040040   040040 040040
  21     020*  040040 040040   157167 156145   162040 162145   143157 162144        owner record
  21     024   040040 040040   040040 040040   040040 040040   040040 163145                  se
  21     030   164040 040040   040040 040040   040040 040040   040040 040040    t
  21     034   040040 040040   040040 040040   155145 155142   145162 040162            member r
  21     040   145143 157162   144040 040040   122103 040040   123116 055123    ecord   RC  SN-S
  21     044   105040 040040   123115 040040   123103 055123   117123 115040    E   SM  SC-SOSM
  21     050   122103 055123   117123 115040   055076 040040   052052 052126    RC-SOSM ->  ***V
  21     054   101114 111104   040103 131103   114105 052052   052040 040040    ALID CYCLE***
  21     060   040111 123040   101040 115101   116125 101114   040115 105115     IS A MANUAL MEM
  21     064   102105 122040   117106 040040   117101 055122   103040 040040    BER OF  OA-RC
  21     070   060060 060060   060060 060040   166141 154151   144040 040040    0000000 valid
  21     074   151156 166141   154151 144040   123117 040040                    invalid SO

(unnamed)
 Sect OctLoc
  23     000   000000 000000   000001 000000   000000 006000   000000 006000    ................
  23     004   000002 000000   000042 006000   000000 006000   000043 006000    .....".......#..
  23     010   000045 006000   000000 006000   000046 006000   000050 006000    .%.......&...(..
  23     014   000000 010176   000014 006000   000000 010355   000016 006000    ...~............
  23     020   000066 006000   000003 000000   000000 000002   000000 000005    .6..............
  23     024   000022 006000   000023 006000   000072 006000   000000 000001    .........:......
  23     030   000027 006000   000045 006000   000000 010356   000027 006000    .....%..........
  23     034   000027 006000   000032 006000   000000 010357   000022 006000    ................
  23     040   000027 006000   000036 006000   000000 000007   000022 006000    ................
  23     044   000042 006000   000074 006000   000027 006000   000046 006000    ."...<.......&..
  23     050   000027 006000   000022 006000   000032 006000   000022 006000    ................
  23     054   000022 006000   000036 006000   400000 000000   000056 006000    ................
  23     060   000000 006000   000076 006000                                    .....>..
      425     1384    1   END PATH_CHECK;

PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:83   
--  Include file information  --

   ZIG_DBA_INT.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZIG_GENERAL.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZI_SUB4_CAN.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure PATH_CHECK.

   Procedure PATH_CHECK requires 402 words for executable code.
   Procedure PATH_CHECK requires 14 words of local(AUTO) storage.

    No errors detected in file ZIG$D_END.:ZIC0TSI    .
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:84   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:85   
          MINI XREF LISTING

ADD_IT IN PROCEDURE PUSH_RC
      1214**LABEL    1200--CALLALT
CURRENT_RC$
        11**DCL      1359<<ASSIGN   1368>>ASSIGN   1380>>ASSIGN
CYCLE_DBK IN PROCEDURE PRINT_PATH
      1223**DCL      1246<<ASSIGN   1248>>DOWHILE
DBK
        12**DCL        13--REDEF    1199<<ASSIGN   1217>>ASSIGN   1240<>CALL     1246>>ASSIGN   1247<<ASSIGN
      1248>>DOWHILE  1249<<ASSIGN   1250<>CALL     1263<>CALL     1265<<ASSIGN
DBK_SEARCH.STRING
        15**DCL      1200>>CALLBLT  1266>>CALLBLT
ERROR
      1045**DCL-ENT  1290--CALL     1297--CALL
FETCHD_6
      1150**DCL-ENT  1250--CALL
FETCHOS_6
      1159**DCL-ENT  1241--CALL     1252--CALL     1264--CALL     1268--CALL
FINDD_6
      1151**DCL-ENT  1240--CALL     1263--CALL     1304--CALL     1372--CALL     1376--CALL     1382--CALL
FINDNS_6
      1154**DCL-ENT  1321--CALL     1360--CALL     1365--CALL     1374--CALL     1378--CALL
FINDOS_6
      1158**DCL-ENT  1251--CALL     1369--CALL
FIRST_CALL
        25**DCL      1233>>IF       1236<<ASSIGN   1309<<ASSIGN
GET_NEXT
      1319**LABEL    1357--CALLALT
I
        26**DCL      1243<<ASSIGN   1249>>ASSIGN   1267<<ASSIGN
INVALID_CYCLE_CT
        36**DCL      1289<<ASSIGN   1289>>ASSIGN   1311<<ASSIGN   1343>>IF       1346>>IF       1348<>CALL
LAST_RC
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:86   
         8**DCL      1356<<ASSIGN   1382<>CALL
LAST_SM
         9**DCL      1304<>CALL     1367<<ASSIGN   1368>>ASSIGN   1372<>CALL
LAST_SO
        10**DCL      1364<<ASSIGN   1376<>CALL
LEN_STRING
        16**DCL        23--IMP-SIZ  1200>>CALLBLT  1214>>ASSIGN   1215<<ASSIGN   1215>>ASSIGN   1266>>CALLBLT
LIST
      1060**DCL-ENT  1238--CALL     1276--CALL     1283--CALL     1286--CALL
LIST_STRING
        34**DCL      1237<<ASSIGN   1238<>CALL     1274<<CALLBLT  1276<>CALL     1282<<ASSIGN   1283<>CALL
      1284<<CALLBLT  1286<>CALL
MAIN_ENTRY
        24**DCL      1308<<ASSIGN   1315<<ASSIGN   1319>>IF       1381>>IF
MAIN_FLAG IN PROCEDURE PUSH_RC
      1192**DCL      1191--PROC     1202>>IF
MEMBER_NAME
        29**DCL      1269<<ASSIGN   1272>>ASSIGN   1274>>CALLBLT  1277>>ASSIGN
MEMBER_SS
        30**DCL      1245<<ASSIGN   1261<<ASSIGN   1295>>IF
NO_CHECK
      1374**LABEL    1370--CALLALT
OWNER_NAME
        28**DCL      1242<<ASSIGN   1274>>CALLBLT  1277<<ASSIGN
POS
        21**DCL      1200<<CALLBLT  1201>>ASSIGN   1243>>ASSIGN   1266<<CALLBLT  1267>>ASSIGN
PRINT_PATH
      1222**PROC     1209--CALL
PTR$
        22**DCL      1201<<ASSIGN   1203>>IF       1207>>IF       1214<<ASSIGN   1216>>ASSIGN   1217>>ASSIGN
      1359>>ASSIGN
PUSH_RC
      1191**PROC     1357--CALL     1370--CALL
RC_LIST$
        17**DCL      1200>>CALLBLT  1201>>ASSIGN   1214>>ASSIGN   1249>>ASSIGN   1266>>CALLBLT
RECURSIVE_CHECK
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:87   
      1314**ENTRY    1371--CALL
SET_FIELDS
      1048**DCL-ENT  1326--CALL     1345--CALL
SET_FIELD_NUM
      1049**DCL-ENT  1329--CALL     1348--CALL
SET_NAME
        27**DCL      1253<<ASSIGN   1270>>IF       1274>>CALLBLT
SKIP
      1317**LABEL    1312--GOTO
STACK.RC_DBK
        19**DCL      1217<<ASSIGN
STACK.SM_DBK
        20**DCL      1203>>IF       1207>>IF       1216<<ASSIGN   1368<<ASSIGN   1380<<ASSIGN
STACK.SM_DBK IN PROCEDURE PRINT_PATH
      1226**DCL      1249>>ASSIGN
STRING
        23**DCL      1200>>CALLBLT  1266>>CALLBLT
SUBLST
      1062**DCL-ENT  1235--CALL
SUBSCHEMA_KEY
      1080**DCL      1081--REDEF
UWA.AC.CALC_NEXT
       808**DCL       809--REDEF
UWA.AC.CALC_PRIOR
       817**DCL       818--REDEF
UWA.AC.DEFAULTS
       769**DCL       770--REDEF
UWA.AC.FILE_CODE
       774**DCL       775--REDEF
UWA.AC.FLAG1.ERROR_TYPE
       771**DCL       772--REDEF
UWA.DB_STATUS
       700**DCL      1322>>IF       1361>>DOWHILE  1366>>DOWHILE
UWA.DIRECT_REF
       709**DCL      1199>>ASSIGN   1265>>ASSIGN   1356>>ASSIGN   1364>>ASSIGN   1367>>ASSIGN
UWA.RECORD_NAME
PL6.E3A0      #002=PATH_CHECK File=ZIG$D_END.:ZIC0TSI                            FRI 09/05/97 11:57 Page:88   
       706**DCL      1362>>IF
UWA.SM.INSTYPE
       885**DCL      1254>>IF
UWA.SM.PA_MEMPNT
       896**DCL      1259>>IF
UWA.SN.SENAME
       927**DCL      1242>>ASSIGN   1253>>ASSIGN   1257>>ASSIGN   1269>>ASSIGN
VALID_CYCLE
        33**DCL      1244<<ASSIGN   1256<<ASSIGN   1279>>IF
VALID_CYCLE_CT
        35**DCL      1281<<ASSIGN   1281>>ASSIGN   1310<<ASSIGN   1324>>IF       1327>>IF       1329<>CALL
VALID_MEMBER_NAME
        31**DCL      1272<<ASSIGN   1284>>CALLBLT
VALID_SET_NAME
        32**DCL      1257<<ASSIGN   1270>>IF       1284>>CALLBLT
ZIG$D_DIAG
        37**DCL-ENT  1330--CALL     1337--CALL     1349--CALL     1352--CALL

VERSION A06

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:1    
        1        1        /*M* LASET => calculates read sets */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7
        8        8
        9        9
       10       10
       11       11
       12       12
       13       13        LASET:  PROC;
       14       14
       15       15        /*D*
       16       16               NAME: LASET
       17       17            PURPOSE: CALCULATE THE LOOKAHEAD SETS FOR THE GRAMMAR
       18       18                     WHILE DETERMINING IF THE GRAMMAR IS LALR(1).
       19       19        */
       20       20
       21       21
       22       22        %INCLUDE LR_GRAM_EXT;
       23      561        %INCLUDE LR_CNFG_EXT;
       24      714    1   DCL DIAG ENTRY(6);
       25      715    1   DCL CPRNT ENTRY(3);
       26      716    1   DCL OCNFG ENTRY;
       27      717    1   DCL CALC_ITEM_NUMBERS ENTRY;
       28      718
       29      719    1   DCL CLASHED_PROD_SET(0:%NR_PROD_MAX) BOOLEAN UNAL;
       30      720
       31      721        /*  The basis sets for the configuration sets have
       32      722           been placed on a binary tree. The first collating
       33      723           item happens to be SYM_AFTER, which winds up
       34      724           being the accessing symbol for the configuration
       35      725           set. It is therefore very easy to look at all
       36      726           configuration sets accessed by non-nullable
       37      727           non-terminals. The following describes the collating
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:2    
       38      728           sequence left behind by OGRAM:
       39      729
       40      730                1..NR_TERM     terminal symbols in order encountered.
       41      731                 LAST_NULL+1..NR_SYMS  ordinary non-terminals that are not nullable.
       42      732                NR_TERM+1..LAST_ACT  Action symbols.
       43      733                 LAST_ACT+1..LAST_NULL nullable ordinary non-terminals.
       44      734
       45      735        */
       46      736
       47      737        /* Now for the theory of calculating the lookahead sets:
       48      738           Perform the following for all configuration sets:
       49      739
       50      740             Let the configuration set under consideration be called F.
       51      741
       52      742             Perform the following for all non-terminal transitions leaving F:
       53      743
       54      744              Suppose the transitoin is under the non-terminal <a>;
       55      745
       56      746                   <a>
       57      747               F   -->       C       ( picture of the transition )
       58      748
       59      749              There are X many productions comprising <a>, follow each
       60      750              production's symbols from F all the way down to where
       61      751               <a> is finally reduced.
       62      752
       63      753              You get a list of configuration sets from this process:
       64      754
       65      755               F  ->  F1  ->   ...  Fm  -> F[m+1] ... ->  Fn  ->  G
       66      756
       67      757               Each configuration set has an accessing symbol from
       68      758               the set of symbols comprising a production  defining <a>.
       69      759
       70      760               The configuration set comprising G is a special configuration
       71      761               set and  has a structure identical to the INCL_ structure
       72      762               used to denote DeRemer's INCLUDE relation.
       73      763
       74      764               Refering to DeRemer's paper, the linkage from F to C
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:3    
       75      765               labeled with <a> FOLLOWs G.
       76      766
       77      767               Now suppose Fm is accessed by a non-terminal symbol and
       78      768               F[m+1] through Fn are accessed by nullable non-terminal
       79      769               symbols (include here the case where F[m+1] through Fn
       80      770               do not exist). The linkages from Fm through Fn are said
       81      771               to INCLUDE the linkage from F to C.
       82      772
       83      773               The READ relation is found by traversing the configuration
       84      774               set tree (not LALR(1) if cross linkages exist) from
       85      775               the configuration set C folowing all nullable non-terminal
       86      776               linkages.
       87      777
       88      778        */
       89      779
       90      780        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:4    
       91      781    1   ADD_CLASHED_PROD : PROC(P#);
       92      782    2   DCL P# SBIN;
       93      783
       94      784    2     CLASHED_PROD_SET(P#) = TRUE;
       95      785
       96      786    2   END ADD_CLASHED_PROD;
       97      787
       98      788
       99      789
      100      790    1   ADD_CLASHED_KEY : PROC(KEY);
      101      791
      102      792          %KEY_;
      103      809
      104      810    2   DCL I SBIN;
      105      811    2   DCL P SBIN;
      106      812
      107      813    3     DO I = KEY.W.ELEM_COUNT - 1 DOWNTO 0;
      108      814    3       P = KEY.ELEM.PROD(I);
      109      815    3       CALL ADD_CLASHED_PROD(P);
      110      816    3     END;
      111      817
      112      818    2   END ADD_CLASHED_KEY;
      113      819
      114      820
      115      821
      116      822    1   PRINT_CONTRIB_PROD : PROC;
      117      823
      118      824    2   DCL OUT_STR ENTRY(2);
      119      825    2   DCL FLUSH ENTRY;
      120      826    2   DCL PRINT_PROD ENTRY(3);
      121      827    2   DCL I SBIN;
      122      828
      123      829          %OUTLINE(S="'        and for which the following productions contribute the symbol
               829         to the lookahead set:'");
      124      835    3     DO I = 0 TO %NR_PROD_MAX;
      125      836    3       IF CLASHED_PROD_SET(I) THEN
      126      837    4         DO;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:5    
      127      838                %OUT_STR(S="'          '");
      128      841    4           CALL PRINT_PROD(I,0,'0'B);
      129      842    4         END;
      130      843    3     END;
      131      844
      132      845    2   END PRINT_CONTRIB_PROD;
      133      846        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:6    
      134      847    1   FIND_REDUCE:PROC(C_SET,PROD_NO,INCL_TO);
      135      848    2   DCL PROD_NO SBIN;
      136      849        %C_SET_(NAME=C_SET);
      137      866        %INCL_(NAME=INCL_TO);
      138      875    2   DCL CS_LIST$(0:MAX_PROD_LEN) PTR;
      139      876    2   DCL BS_LIST$(0:MAX_PROD_LEN) PTR;
      140      877    2   DCL IN_LIST$(0:MAX_PROD_LEN) PTR;
      141      878
      142      879    2   DCL INDX     SBIN;
      143      880    2   DCL SYM_AFTER SBIN;
      144      881    2   DCL KEY$     PTR;
      145      882    2   DCL INCL$    PTR;
      146      883    2   DCL I        SBIN;
      147      884    2   DCL J        SBIN;
      148      885    2   DCL CS_LAST$ PTR;
      149      886    2   DCL FOUND    BOOLEAN;
      150      887    2   DCL NULLABLE BOOLEAN;
      151      888
      152      889        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:7    
      153      890    2   BINSRCH:PROC(C_SET) ALTRET;
      154      891        %C_SET_;
      155      908    3   DCL LO SBIN;
      156      909    3   DCL HI SBIN;
      157      910    3   DCL GUESS SBIN;
      158      911    3           LO=0;
      159      912    3           HI=C_SET.NR_ELEM-1;
      160      913    4           DO WHILE(LO<=HI);
      161      914    4              GUESS=(HI+LO)/2;
      162      915    4              KEY$=C_SET.ELEM.KEY$(GUESS);
      163      916    4              IF SYM_AFTER>KEY$->KEY_B.W.SYM_AFTER THEN
      164      917    4                 LO=GUESS+1;
      165      918    4              ELSE
      166      919    4                 IF SYM_AFTER<KEY$->KEY_B.W.SYM_AFTER THEN
      167      920    4                    HI=GUESS-1;
      168      921    4                 ELSE
      169      922    5                 DO;
      170      923    5                    INCL$=C_SET.ELEM.INCL$(GUESS);
      171      924    5                    RETURN;
      172      925    5                    END;
      173      926    4              END;
      174      927    3           ALTRETURN;
      175      928    3   END BINSRCH;
      176      929
      177      930        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:8    
      178      931    2   INCL_LINK:PROC(INCL_FROM);
      179      932
      180      933    3   DCL INCLUDES$ PTR;
      181      934
      182      935        %INCL_(NAME=INCL_FROM);
      183      944        %INCLUDES_(NAME=INCLUDES,STCLASS="BASED(INCLUDES$)");
      184      949
      185      950    3           CALL GETNEW(INCLUDES$,LENGTHW(INCLUDES));
      186      951
      187      952    3           INCLUDES.NEXT_INCLUDES$=INCL_FROM.INCL_HEAD$;
      188      953
      189      954    3           INCLUDES.INCL$=ADDR(INCL_TO);
      190      955
      191      956    3           INCL_FROM.INCL_HEAD$=INCLUDES$;
      192      957
      193      958    3   END INCL_LINK;
      194      959
      195      960
      196      961        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:9    
      197      962        /* Main body of FIND_REDUCE */
      198      963    2           CS_LAST$=ADDR(C_SET);
      199      964
      200      965    3           DO I=0 TO PROD.RIGHT_CNT(PROD_NO)-1;
      201      966
      202      967    3              SYM_AFTER=RIGHT_PARTS(PROD.RIGHT_START(PROD_NO)+I);
      203      968    3              CALL BINSRCH(CS_LAST$->C_SET_B) ALTRET(BAD_TABLES);
      204      969
      205      970    3              CS_LIST$(I)=CS_LAST$;
      206      971    3              BS_LIST$(I)=KEY$;
      207      972    3              IN_LIST$(I)=INCL$;
      208      973    3              CS_LAST$=KEY$->KEY_B.KEY_VAL$;
      209      974
      210      975    3              END;
      211      976
      212      977        /* now find final reduction pointer */
      213      978
      214      979
      215      980    2           I=0;
      216      981    2           FOUND=FALSE;
      217      982
      218      983    3           DO WHILE (I<CS_LAST$->C_SET_B.NR_ELEM
      219      984    3             AND NOT FOUND);
      220      985
      221      986    3              KEY$=CS_LAST$->C_SET_B.ELEM.KEY$(I);
      222      987
      223      988    3              IF KEY$->KEY_B.W.SYM_AFTER=0
      224      989    3                AND KEY$->KEY_B.ELEM.PROD(0)=PROD_NO THEN
      225      990    3                 FOUND=TRUE;
      226      991    3              ELSE
      227      992    3                 I=I+1;
      228      993
      229      994    3              END;
      230      995
      231      996    2           IF NOT FOUND THEN
      232      997    2              GOTO BAD_TABLES;
      233      998
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:10   
      234      999
      235     1000    2           CALL INCL_LINK(KEY$->KEY_B.KEY_VAL$->INCL_B);
      236     1001
      237     1002        /* now keep track of nullable non-terminals */
      238     1003
      239     1004    2           I=PROD.RIGHT_CNT(PROD_NO)-1;
      240     1005
      241     1006    2           NULLABLE = TRUE;
      242     1007
      243     1008    3           DO WHILE(I>=0 AND
      244     1009    3             NULLABLE);
      245     1010
      246     1011    3              NULLABLE=BS_LIST$(I)->KEY_B.W.SYM_AFTER>NR_NT;
      247     1012    3              IF BS_LIST$(I)->KEY_B.W.SYM_AFTER>NR_TERM
      248     1013    3              THEN
      249     1014    4   NON_TERM:  DO;
      250     1015    4                 CALL INCL_LINK(IN_LIST$(I)->INCL_B);
      251     1016    4                 END NON_TERM;
      252     1017    3              I=I-1;
      253     1018    3              END;
      254     1019
      255     1020
      256     1021    2           RETURN;
      257     1022    2   BAD_TABLES:;
      258     1023    2           CALL DIAG(15,'ERROR => Bad tables detected by LASET%%');
      259     1024
      260     1025
      261     1026    2   END FIND_REDUCE;
      262     1027        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:11   
      263     1028
      264     1029
      265     1030
      266     1031    1   NULLABLE_TREE:PROC(C_SETA,CLASHED_TERM#) ALTRET;
      267     1032
      268     1033    2   DCL CLASHED_TERM# SBIN WORD;
      269     1034        %C_SET_(NAME=C_SETA);
      270     1051
      271     1052        /* KEY_ is the key for a configuration set accessed
      272     1053         by a non-terminal symbol. Find the nullable symbol
      273     1054         tree descending from this particular configuration set
      274     1055          and calculate the READ set. If there is a second argument
      275     1056        present , it is assumed to be a clashed set. In that case
      276     1057        the third argument must be present */
      277     1058
      278     1059    2   DCL C_SET_STK(0:%NR_CONFIG_MAX) PTR;
      279     1060    2   DCL ELEM_STK(0:%NR_CONFIG_MAX) SBIN;
      280     1061    2   DCL TRAVERSING BOOLEAN;
      281     1062    2   DCL PUSHING    BOOLEAN;
      282     1063    2   DCL ELEM       SBIN;
      283     1064    2   DCL STKD       SBIN;
      284     1065    2   DCL I          SBIN;
      285     1066    2   DCL KEY$       PTR;
      286     1067    2   DCL C$         PTR;
      287     1068        %KEY_(NAME=KEY,STCLASS="BASED(KEY$)");
      288     1085        %C_SET_(NAME=C_SET,STCLASS="BASED(C$)");
      289     1102    2   DCL SET_TEMP(0:NR_SYMS_MAX) BOOLEAN ;
      290     1103    2   DCL 1 SB ALIGNED BASED,
      291     1104    2         2 SET_B(0:1) BOOLEAN UNAL;
      292     1105
      293     1106    2           KEY$=C_SETA.KEY$;
      294     1107
      295     1108    3           DO CASE(KEY.W.SET_STATE);
      296     1109
      297     1110    3            CASE(SET_STATE_UNCALC);
      298     1111
      299     1112    3            CASE(ELSE);
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:12   
      300     1113    3              CALL DIAG(15,'ERROR => Inconsistent read state%%');
      301     1114    3            CASE(SET_STATE_CALC);
      302     1115    3              RETURN;
      303     1116    3            END;
      304     1117
      305     1118    2           STKD=1;
      306     1119
      307     1120    2           C_SET_STK(0)=ADDR(C_SETA);
      308     1121    2           ELEM_STK(0)=C_SETA.NR_ELEM-1;
      309     1122
      310     1123    3   NULL_TREE: DO WHILE(STKD>0);
      311     1124
      312     1125
      313     1126    3              TRAVERSING=TRUE;
      314     1127
      315     1128    4              DO WHILE(TRAVERSING);
      316     1129
      317     1130    4                 C$=C_SET_STK(STKD-1);
      318     1131    4                 ELEM=ELEM_STK(STKD-1);
      319     1132    4                 ELEM_STK(STKD-1)=ELEM-1;
      320     1133    4                 IF ELEM<0 THEN
      321     1134    4                    TRAVERSING=FALSE;
      322     1135    4                 ELSE
      323     1136    5                 DO;
      324     1137    5                    KEY$=C_SET.ELEM.KEY$(ELEM);
      325     1138    5                    IF KEY.W.SYM_AFTER<=NR_NT THEN
      326     1139    5                       TRAVERSING=FALSE;
      327     1140
      328     1141    5                    ELSE
      329     1142    6   NULLABLE_THREAD: DO CASE(KEY.W.SET_STATE);
      330     1143
      331     1144    6                     CASE(SET_STATE_UNCALC);
      332     1145
      333     1146
      334     1147    6                       STKD=STKD+1;
      335     1148    6                       KEY.W.SET_STATE=SET_STATE_STACKED;
      336     1149    6                       C$=KEY.KEY_VAL$;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:13   
      337     1150    6                       C_SET_STK(STKD-1)=C$;
      338     1151    6                       ELEM_STK(STKD-1)=C_SET.NR_ELEM-1;
      339     1152
      340     1153    6                     CASE(SET_STATE_STACKED);
      341     1154        /* Inform the user that the nullable tree is cross-linked */
      342     1155
      343     1156    6                       CALL DIAG(15
      344     1157    6                         ,
              1157                           'ERROR => The following knot occurs in a nullable symbol tree:%%'
              1157                                  );
      345     1158
      346     1159
      347     1160    6                       I=STKD;
      348     1161
      349     1162    6                       C_SET_STK(STKD)=ADDR(NIL);
      350     1163
      351     1164    7                       DO WHILE(C_SET_STK(I)~=KEY.KEY_VAL$);
      352     1165
      353     1166    7                          I=I-1;
      354     1167
      355     1168    7                          IF I<=0 THEN
      356     1169    7                             CALL DIAG(15,' Internal error in LASET:NULLABLE_TREE%%');
      357     1170
      358     1171
      359     1172    7                          END;
      360     1173
      361     1174    6                     CASE(SET_STATE_CALC);
      362     1175
      363     1176    6                     CASE(ELSE);
      364     1177    6                       CALL DIAG(15,
              1177                                'ERROR => Impossible state in LASET:NULLABLE_TREE%%');
      365     1178    6                     END NULLABLE_THREAD;
      366     1179    5                    END;
      367     1180
      368     1181    4                 END /*WHILE TRAVERSING */;
      369     1182
      370     1183        /* all configuration set thread off from this one
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:14   
      371     1184           have had their read sets calculated. It is now
      372     1185           time to calculate the read set for the current configuration */
      373     1186
      374     1187    3              CALL BITZAP(SET_TEMP,SET_LENGTHB);
      375     1188    3              C$=C_SET_STK(STKD-1);
      376     1189    4              DO I=C_SET.NR_ELEM-1 DOWNTO ELEM+1;
      377     1190    4                 KEY$=C_SET.ELEM.KEY$(I);
      378     1191    4                 CALL BITOR(SET_TEMP,KEY.SET$->SB.SET_B,SET_LENGTHB);
      379     1192    4                 IF KEY.SET$ -> SB.SET_B(CLASHED_TERM#) THEN
      380     1193    4                   CALL ADD_CLASHED_KEY(KEY);
      381     1194    4                 END;
      382     1195
      383     1196        /* now include the terminal symbols escaping this
      384     1197           configuration set */
      385     1198
      386     1199    3              I=ELEM;
      387     1200
      388     1201    4              DO WHILE(I>=0);
      389     1202
      390     1203    4                 KEY$=C_SET.ELEM.KEY$(I);
      391     1204    4                 IF KEY.W.SYM_AFTER=0 THEN
      392     1205    4                    I=0;
      393     1206    4                 ELSE
      394     1207    5                  DO;
      395     1208    5                    IF KEY.W.SYM_AFTER<=NR_TERM THEN
      396     1209    5                       SET_TEMP(KEY.W.SYM_AFTER)='1'B;
      397     1210    5                    IF KEY.W.SYM_AFTER = CLASHED_TERM# THEN
      398     1211    5                      CALL ADD_CLASHED_KEY(KEY);
      399     1212    5                  END;
      400     1213    4                 I=I-1;
      401     1214    4                 END;
      402     1215
      403     1216    3              KEY$=C_SET.KEY$;
      404     1217
      405     1218    3              CALL BITMOVE(KEY.SET$->SB.SET_B,SET_TEMP,SET_LENGTHB);
      406     1219    3              KEY.W.SET_STATE=SET_STATE_CALC;
      407     1220    3              STKD=STKD-1;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:15   
      408     1221
      409     1222    3              END NULL_TREE;
      410     1223    2   END NULLABLE_TREE;
      411     1224        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:16   
      412     1225    1   LACALC: PROC(KEY,CLASHED_TERM#);
      413     1226        %KEY_(NAME=KEY);
      414     1243    2   DCL CLASHED_TERM# SBIN  /* CLASHED TERMINAL NUMBER OF ZERO */;
      415     1244        /* calculate the lookahead sets as being the
      416     1245           union of all the FOLLOW sets */
      417     1246
      418     1247    2   DCL INCL_STK(0:%NR_CONFIG_MAX) PTR;
      419     1248    2   DCL INCLUDES_STK(0:%NR_CONFIG_MAX) PTR;
      420     1249
      421     1250    2   DCL STKD SBIN;
      422     1251
      423     1252    2   INCL_CALC:PROC;
      424     1253        /* The first stack entry has already been pushed,
      425     1254          but further INCLUDE sets may have to be calculated */
      426     1255
      427     1256    3   DCL INCL$                    PTR;
      428     1257    3   DCL SET$                     PTR;
      429     1258    3   DCL 1 SB ALIGNED BASED,
      430     1259    3         2 SET_B(0:1) BOOLEAN UNAL;
      431     1260    3   DCL SET_TEMP(0:NR_SYMS_MAX)  BOOLEAN ;
      432     1261    3   DCL NEXT_INCL$               PTR;
      433     1262    3   DCL SUB_INCL$                PTR;
      434     1263    3   DCL RESULT                   BOOLEAN;
      435     1264    3   DCL KSTK                     SBIN;
      436     1265    3   DCL NEWLEV                   SBIN;
      437     1266    3   DCL MORE_INCLS               BOOLEAN;
      438     1267    3   DCL P                        SBIN;
      439     1268
      440     1269
      441     1270    4   WHILE_STKD:DO WHILE(STKD>0);
      442     1271
      443     1272    4              MORE_INCLS=TRUE;
      444     1273
      445     1274    5   EQUIV_PATH: DO WHILE(MORE_INCLS);
      446     1275
      447     1276    5                 NEWLEV=INCL_STK(STKD-1)->INCL_B.SET_STATE;
      448     1277
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:17   
      449     1278    5                 KSTK=STKD;
      450     1279
      451     1280    5                 INCL$=ADDR(NIL);
      452     1281
      453     1282    6   SUB_INCL_SEARCHING: DO WHILE(KSTK>=NEWLEV-1 AND
      454     1283    6                   INCL$=ADDR(NIL));
      455     1284
      456     1285    6                    INCL$=INCLUDES_STK(KSTK-1);
      457     1286
      458     1287    6                    IF INCL$~=ADDR(NIL) THEN
      459     1288    7                    DO;
      460     1289    7                       INCLUDES_STK(KSTK-1)=ADDR(NIL);
      461     1290    7                       INCLUDES_STK(STKD-1)=INCL$->INCLUDES_B.NEXT_INCLUDES$;
      462     1291    7                       END;
      463     1292    6                    ELSE
      464     1293    6                       KSTK=KSTK-1;
      465     1294
      466     1295    6                    END SUB_INCL_SEARCHING;
      467     1296
      468     1297    5                 IF INCL$~=ADDR(NIL) THEN
      469     1298    6   DESCEND_DOWN: DO;
      470     1299
      471     1300    6                    NEXT_INCL$=INCL$->INCLUDES_B.NEXT_INCLUDES$;
      472     1301    6                    SUB_INCL$=INCL$->INCLUDES_B.INCL$;
      473     1302
      474     1303    7   SET_TYPE_CASE:   DO CASE(SUB_INCL$->INCL_B.SET_STATE);
      475     1304
      476     1305    7                     CASE(SET_STATE_CALC);
      477     1306    7                     CASE(SET_STATE_UNCALC);
      478     1307    7                       CALL BITZAP(SUB_INCL$->INCL_B.SET,SET_LENGTHB);
      479     1308    7                       INCL_STK(STKD)=SUB_INCL$;
      480     1309    7                       INCLUDES_STK(STKD)=SUB_INCL$->INCL_B.INCL_HEAD$;
      481     1310    7                       INCL$=INCLUDES_STK(STKD);
      482     1311    7                       STKD=STKD+1;
      483     1312    7                       SUB_INCL$->INCL_B.SET_STATE=STKD+1;
      484     1313    7                     CASE(ELSE);
      485     1314
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:18   
      486     1315        /* I now have an equivalence set consisting of
      487     1316            various INCL sets. They are all equal */
      488     1317
      489     1318    7                       NEWLEV=SUB_INCL$->INCL_B.SET_STATE;
      490     1319
      491     1320    8                       DO KSTK=NEWLEV-1 TO STKD;
      492     1321    8                          INCL_STK(KSTK-1)->INCL_B.SET_STATE=NEWLEV;
      493     1322    8                          END;
      494     1323
      495     1324    7                     END SET_TYPE_CASE;
      496     1325
      497     1326    6                    END DESCEND_DOWN;
      498     1327    5                 ELSE
      499     1328
      500     1329    5                    MORE_INCLS=FALSE;
      501     1330
      502     1331    5                 END EQUIV_PATH;
      503     1332
      504     1333        /* all INCLUDES sets needed by the current include set have been
      505     1334          calculated. Now calculate the master set including all of these. */
      506     1335
      507     1336    4              CALL BITZAP(SET_TEMP,SET_LENGTHB);
      508     1337    4              NEWLEV=INCL_STK(STKD-1)->INCL_B.SET_STATE;
      509     1338
      510     1339    5   OR_ALL_MEMBERS:DO KSTK=NEWLEV-1 TO STKD;
      511     1340
      512     1341
      513     1342    5                 INCL$=INCL_STK(KSTK-1);
      514     1343
      515     1344    5                 NEXT_INCL$=INCL$->INCL_B.INCL_HEAD$;
      516     1345
      517     1346    5                 SET$=INCL$->INCL_B.KEY$->KEY_B.SET$;
      518     1347    5                 IF SET$~=ADDR(NIL) THEN
      519     1348    6                  DO;
      520     1349    6                   IF INCL$ -> INCL_B.KEY$ -> KEY_B.W.SET_STATE = SET_STATE_UNCALC THEN
      521     1350    6                    CALL NULLABLE_TREE(INCL$ -> INCL_B.KEY$ -> KEY_B.KEY_VAL$ ->
              1350                             C_SET_B,
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:19   
      522     1351    6                                       CLASHED_TERM#);
      523     1352    6                   CALL BITOR(SET_TEMP,SET$->SB.SET_B,SET_LENGTHB);
      524     1353    6                  END;
      525     1354
      526     1355    6                 DO WHILE(NEXT_INCL$~=ADDR(NIL));
      527     1356    6                    CALL BITOR(SET_TEMP,
      528     1357    6                      NEXT_INCL$->INCLUDES_B.INCL$->INCL_B.SET,
      529     1358    6                      SET_LENGTHB);
      530     1359    6                    NEXT_INCL$=NEXT_INCL$->INCLUDES_B.NEXT_INCLUDES$;
      531     1360    6                    END;
      532     1361
      533     1362    5                 END OR_ALL_MEMBERS;
      534     1363
      535     1364    5   MOVE_ALL_MEMBERS:DO KSTK=NEWLEV-1 TO STKD;
      536     1365
      537     1366    5                 INCL$=INCL_STK(KSTK-1);
      538     1367
      539     1368    5                 INCL$->INCL_B.SET_STATE=SET_STATE_CALC;
      540     1369
      541     1370    5                 CALL BITMOVE(INCL$->INCL_B.SET,SET_TEMP,SET_LENGTHB);
      542     1371
      543     1372    5                 END MOVE_ALL_MEMBERS;
      544     1373
      545     1374    4              STKD=NEWLEV-2;
      546     1375
      547     1376    4              END WHILE_STKD;
      548     1377
      549     1378    3   END INCL_CALC;
      550     1379
      551     1380        /* Push the FOLLOW set header onto the stack */
      552     1381    2           STKD=1;
      553     1382    2           INCL_STK(0)=KEY.FOLLOW$;
      554     1383    2           INCLUDES_STK(0)=KEY.FOLLOW$->INCL_B.INCL_HEAD$;
      555     1384    2           CALL BITZAP(KEY.FOLLOW$->INCL_B.SET,SET_LENGTHB);
      556     1385    2           INCL_STK(0)->INCL_B.SET_STATE=STKD+1;
      557     1386    2           CALL INCL_CALC;
      558     1387
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:20   
      559     1388    2   END LACALC;
      560     1389        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:21   
      561     1390    1   LAMAIN: PROC;
      562     1391
      563     1392    2   DCL C$                         PTR;
      564     1393    2   DCL I                          SBIN;
      565     1394    2   DCL P                          SBIN;
      566     1395    2   DCL FP                         SBIN;
      567     1396    2   DCL SA                         SBIN;
      568     1397    2   DCL SA$                        PTR;
      569     1398    2   DCL F$                         PTR;
      570     1399    2   DCL G$                         PTR;
      571     1400    2   DCL BS$                        PTR;
      572     1401    2   DCL J                          SBIN;
      573     1402    2   DCL PF                         SBIN;
      574     1403    2   DCL REDUCTIONS                 BOOLEAN;
      575     1404    2   DCL REDUCT_OR(0:NR_SYMS_MAX)   BOOLEAN;
      576     1405    2   DCL REDUCT_CLASH(0:NR_SYMS_MAX) BOOLEAN;
      577     1406    2   DCL READ_REDUCT_CLASH(0:NR_SYMS_MAX) BOOLEAN;
      578     1407    2   DCL TERMINALS                  BOOLEAN;
      579     1408    2   DCL RESULT                     BOOLEAN;
      580     1409    2   DCL SET_TEMP(0:NR_SYMS_MAX)    BOOLEAN ;
      581     1410        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:22   
      582     1411    2   LATRACE : PROC(C#,C$,ELEM#,CLASHED_TERM#);
      583     1412
      584     1413        /* A CLASH HAS BEEN DETECTED;
      585     1414           DUPLICATE THE CALCULATION OF THE LOOKAHEAD SET
      586     1415           SUCH THAT ALL PRODUCTIONS CONTRIBUTING TO THE
      587     1416           CLASH MAY BE MARKED AND DUMPED FOR THE UNFORTUNATE USER.
      588     1417        */
      589     1418
      590     1419    3   DCL C# SBIN                /* CONFIGURATION SET NUMBER */;
      591     1420    3   DCL C$ PTR                 /* POINTER TO THE CONFIGURATION SET */;
      592     1421    3   DCL ELEM# SBIN             /* ELEMENT NUMBER IN CONFIGURATION SET */;
      593     1422    3   DCL CLASHED_TERM# SBIN     /* TERMINAL SYMBOL THAT IS CLASHED */;
      594     1423
      595     1424    3   DCL Z# SBIN;
      596     1425    3   DCL I SBIN;
      597     1426    3   DCL J SBIN;
      598     1427    3   DCL SA SBIN;
      599     1428    3   DCL K SBIN;
      600     1429    3   DCL Z$ PTR;
      601     1430    3   DCL K$ PTR;
      602     1431    3   DCL S$ PTR;
      603     1432    3   DCL P SBIN;
      604     1433
      605     1434        /* Say that all includes, follow, read sets have not been calculated
      606     1435           Note: The sets are still present, only the indicators saying
      607     1436                   that they have not been calculated yet are changed.
      608     1437        */
      609     1438    4       DO Z#=0 TO NR_CONFIG - 1;
      610     1439    4         Z$ = C#_TO_$(Z#);
      611     1440    5         DO I = Z$->C_SET_B.NR_ELEM -1 DOWNTO 0;
      612     1441    5           K$ = Z$->C_SET_B.ELEM.KEY$(I);
      613     1442    5           IF K$ ~= ADDR(NIL) THEN
      614     1443    6             DO;
      615     1444    6               K$->KEY_B.W.SET_STATE = SET_STATE_UNCALC;
      616     1445    6               IF K$ -> KEY_B.W.SYM_AFTER = 0 THEN
      617     1446    6                 K$->KEY_B.FOLLOW$ -> INCL_B.SET_STATE = SET_STATE_UNCALC;
      618     1447    6             END;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:23   
      619     1448    5           K$ = Z$->C_SET_B.ELEM.INCL$(I);
      620     1449    5           IF K$ ~= ADDR(NIL) THEN
      621     1450    5             K$ -> INCL_B.SET_STATE = SET_STATE_UNCALC;
      622     1451    5         END /* DO I */;
      623     1452    4       END /* DO Z# */;
      624     1453
      625     1454    4       DO I = 0 TO %NR_PROD_MAX;
      626     1455    4         CLASHED_PROD_SET(I) = FALSE;
      627     1456    4       END;
      628     1457
      629     1458            /* NOW RECALCULATE EVERYTHING FROM SCRATCH */
      630     1459    3       CALL LACALC(C$->C_SET_B.ELEM.KEY$(ELEM#)->KEY_B,CLASHED_TERM#);
      631     1460
      632     1461    3   END LATRACE;
      633     1462        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:24   
      634     1463    2   LADIAG : PROC;
      635     1464
      636     1465    3   DCL T SBIN WORD;
      637     1466
      638     1467    3   DCL OUT_SYMBOL ENTRY(1);
      639     1468    3   DCL OUT_SYMBOL_TOKEN ENTRY(1);
      640     1469    3   DCL OUT_STR ENTRY(2);
      641     1470    3   DCL FLUSH ENTRY;
      642     1471    3   DCL OUT_DEC ENTRY(1);
      643     1472    3   DCL PRINT_DERIVATION ENTRY(4);
      644     1473    3   DCL PRINT_PROD ENTRY(3);
      645     1474
      646     1475        /* PRINT A DIAGNOSTIC ABOUT THE AMBIGUOUS STATE DETECTED */
      647     1476
      648     1477    3   CALL DIAG(1,' %%');
      649     1478
      650     1479        %SELECT_LO;
      651     1482
      652     1483        %OUTLINE(S="' '");
      653     1489        %OUT_STR(S="'ERROR => STATE #'");
      654     1492    3   CALL OUT_DEC(I);
      655     1493        %OUTLINE(S="' IS AMBIGUOUS.'");
      656     1499        %OUTLINE(S="' '");
      657     1505
      658     1506    4   DO T = 1 TO NR_TERM;
      659     1507
      660     1508    4     IF READ_REDUCT_CLASH(T) THEN
      661     1509    5       DO;
      662     1510    5         CALL DIAG(7,' %%');
      663     1511              %OUT_STR(S="'  For symbol '");
      664     1514    5         CALL OUT_SYMBOL(SYM_PTRS(T));
      665     1515              %OUTLINE(S="', one cannot tell which production to use:'");
      666     1521              %OUTLINE(S="' '");
      667     1527
      668     1528    6         DO J = 0 TO C#_TO_$(I) -> C_SET_B.NR_ELEM - 1;
      669     1529
      670     1530    6           IF (C#_TO_$(I) -> C_SET_B.ELEM.KEY$(J) -> KEY_B.W.SYM_AFTER = 0) THEN
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:25   
      671     1531    7             DO;
      672     1532    7               IF C#_TO_$(I) -> C_SET_B.ELEM.KEY$(J) -> KEY_B.FOLLOW$ -> INCL_B.SET(T)
              1532                        THEN
      673     1533    8                 DO;
      674     1534                        %OUT_STR(S="'    '");
      675     1537    8                   CALL PRINT_PROD(BINBIT(C#_TO_$(I) -> C_SET_B.ELEM.KEY$(J) ->
      676     1538    8                                          KEY_B.ELEM.PROD(0),36),
      677     1539    8                                   BINBIT(C#_TO_$(I) -> C_SET_B.ELEM.KEY$(J) ->
      678     1540    8                                          KEY_B.ELEM.DOT_POS(0),36),
      679     1541    8                                   TRUE);
      680     1542    8                   CALL PRINT_DERIVATION(I,J,0,T);
      681     1543    8                   CALL LATRACE(I,C#_TO_$(I),J,T);
      682     1544    8                   CALL PRINT_CONTRIB_PROD;
      683     1545                        %OUTLINE(S="' '");
      684     1551    8                 END;
      685     1552    7             END;
      686     1553    6           ELSE
      687     1554    6             IF C#_TO_$(I) -> C_SET_B.ELEM.KEY$(J) -> KEY_B.W.SYM_AFTER = T THEN
      688     1555    7               DO;
      689     1556                        %OUT_STR(S="'    '");
      690     1559    7                   CALL PRINT_PROD(BINBIT(C#_TO_$(I) -> C_SET_B.ELEM.KEY$(J) ->
      691     1560    7                                          KEY_B.ELEM.PROD(0),36),
      692     1561    7                                   BINBIT(C#_TO_$(I) -> C_SET_B.ELEM.KEY$(J) ->
      693     1562    7                                          KEY_B.ELEM.DOT_POS(0),36),
      694     1563    7                                   TRUE);
      695     1564    7                   CALL PRINT_DERIVATION(I,J,0,T);
      696     1565                        %OUTLINE(S="' '");
      697     1571    7               END;
      698     1572    6         END;
      699     1573    5       END;
      700     1574    4   END;
      701     1575
      702     1576    3   CALL CPRNT(I);
      703     1577
      704     1578    3   END LADIAG;
      705     1579        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:26   
      706     1580
      707     1581
      708     1582        /* MAIN PART OF LASET */
      709     1583
      710     1584    3   ON_ALL_CONFIGS: DO I=0 TO NR_CONFIG-1;
      711     1585
      712     1586    3              F$=C#_TO_$(I);
      713     1587
      714     1588    3              J=F$->C_SET_B.NR_ELEM-1;
      715     1589
      716     1590    4   POSSIBLE_OUTS:DO WHILE (J>=0);
      717     1591
      718     1592
      719     1593    4                 BS$=F$->C_SET_B.ELEM.KEY$(J);
      720     1594
      721     1595    4                 SA=BS$->KEY_B.W.SYM_AFTER;
      722     1596
      723     1597    4                 IF SA<=NR_TERM THEN
      724     1598    4                    J=0;
      725     1599    4                 ELSE
      726     1600    5   NON_TERMINAL_OUT:DO;
      727     1601    5                    SA$=SYM_PTRS(SA);
      728     1602    5                    PF=SA$->SYMBOL.PROD_INDX;
      729     1603
      730     1604    6                    DO P=SA$->SYMBOL.PROD_CNT+PF-1 DOWNTO PF;
      731     1605
      732     1606    6                       CALL FIND_REDUCE(F$->C_SET_B,P,
      733     1607    6                         F$->C_SET_B.ELEM.INCL$(J)->INCL_B);
      734     1608    6                       END;
      735     1609
      736     1610    5                    CALL NULLABLE_TREE(BS$->KEY_B.KEY_VAL$->C_SET_B,0);
      737     1611
      738     1612    5                    END NON_TERMINAL_OUT;
      739     1613    4                 J=J-1;
      740     1614    4                 END POSSIBLE_OUTS;
      741     1615    3              END ON_ALL_CONFIGS;
      742     1616
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:27   
      743     1617        /* Now that i've gotten this far, the read sets
      744     1618          have been calcuated (with no errors) and the
      745     1619          FOLLOW and INCLUDE linkages are all in place.
      746     1620
      747     1621          NOW ORDER THE STATES AND CALCULATE THE LINKAGES BETWEEN STATES.
      748     1622        */
      749     1623
      750     1624    2              CALL OCNFG;
      751     1625    2              CALL CALC_ITEM_NUMBERS;
      752     1626
      753     1627        /*
      754     1628          Now go back through all configurations and calculate the
      755     1629          LOOKAHEAD SETS IN ORDER TO VERIFY THAT CORRECT TABLES WILL BE
      756     1630          GENERATED.
      757     1631        */
      758     1632
      759     1633    3   ALL_REDUCTION_CONFIGS: DO I=0 TO NR_CONFIG-1;
      760     1634
      761     1635    3              F$=C#_TO_$(I);
      762     1636
      763     1637                    /* Set all ambiguity resolution to false */
      764     1638    4              DO J = 0 TO F$->C_SET_B.NR_ELEM - 1;
      765     1639
      766     1640    4                 F$ -> C_SET_B.ELEM.AMBIG_SEL_REDUCE(J) = FALSE;
      767     1641    4                 F$ -> C_SET_B.ELEM.AMBIG_SEL_SHIFT(J) = FALSE;
      768     1642
      769     1643    4              END;
      770     1644
      771     1645
      772     1646    3              REDUCTIONS=TRUE;
      773     1647
      774     1648    3              J=0;
      775     1649    3              CALL BITZAP(READ_REDUCT_CLASH,SET_LENGTHB);
      776     1650    3              CALL BITZAP(REDUCT_CLASH,SET_LENGTHB);
      777     1651    3              CALL BITZAP(REDUCT_OR,SET_LENGTHB);
      778     1652
      779     1653    4   ALL_REDUCTIONS_IN_CONFIG: DO WHILE (J<F$->C_SET_B.NR_ELEM
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:28   
      780     1654    4                AND REDUCTIONS);
      781     1655
      782     1656    4                 BS$=F$->C_SET_B.ELEM.KEY$(J);
      783     1657
      784     1658    4                 IF BS$->KEY_B.W.SYM_AFTER=0 THEN
      785     1659    5                 DO;
      786     1660    5                    CALL LACALC(BS$->KEY_B,0);
      787     1661    5                    CALL BITMOVE(SET_TEMP,BS$->KEY_B.FOLLOW$->INCL_B.SET,SET_LENGTHB);
      788     1662    5                    CALL BITAND(SET_TEMP,REDUCT_OR,SET_LENGTHB);
      789     1663    5                    CALL BITOR(REDUCT_CLASH,SET_TEMP,SET_LENGTHB);
      790     1664    5                    CALL BITOR(REDUCT_OR,BS$->KEY_B.FOLLOW$->INCL_B.SET,SET_LENGTHB);
      791     1665    5                    J=J+1;
      792     1666    5                    END;
      793     1667    4                 ELSE
      794     1668    4                    REDUCTIONS=FALSE;
      795     1669    4                 END ALL_REDUCTIONS_IN_CONFIG;
      796     1670
      797     1671        /* NOW LOOK FOR ANY READ-REDUCE CONFLICTS AS WELL */
      798     1672
      799     1673    3              CALL BITMOVE(READ_REDUCT_CLASH,REDUCT_CLASH,SET_LENGTHB);
      800     1674
      801     1675    3              TERMINALS=TRUE;
      802     1676    3              IF J>0 THEN
      803     1677    4              DO WHILE(J<F$->C_SET_B.NR_ELEM
      804     1678    4                AND TERMINALS);
      805     1679    4                 BS$=F$->C_SET_B.ELEM.KEY$(J);
      806     1680
      807     1681    4                 IF BS$->KEY_B.W.SYM_AFTER<=NR_TERM THEN
      808     1682    5                   DO;
      809     1683    5                     IF REDUCT_OR(BS$ -> KEY_B.W.SYM_AFTER) THEN
      810     1684                            /* SHIFT /REDUCE CONFLICT */
      811     1685    5                       IF SYM_PTRS(BS$ -> KEY_B.W.SYM_AFTER) -> SYMBOL.LEFT_ASSOC THEN
      812     1686    5                         F$ -> C_SET_B.ELEM.AMBIG_SEL_SHIFT(J) = TRUE;
      813     1687    5                       ELSE
      814     1688    5                         IF SYM_PTRS(BS$->KEY_B.W.SYM_AFTER)-> SYMBOL.RIGHT_ASSOC THEN
      815     1689    5                           F$ -> C_SET_B.ELEM.AMBIG_SEL_REDUCE(J) = TRUE;
      816     1690    5                         ELSE
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:29   
      817     1691    5                           READ_REDUCT_CLASH(BS$->KEY_B.W.SYM_AFTER) = TRUE;
      818     1692    5                   END;
      819     1693    4                 ELSE
      820     1694    4                    TERMINALS=FALSE;
      821     1695    4                 J=J+1;
      822     1696
      823     1697    4                 END;
      824     1698
      825     1699                   /* CHECK FOR ANY AMBIGUITIES OF REDUCE/REDUCE OR SHIFT/REDUCE */
      826     1700    3              CALL BITNZT(READ_REDUCT_CLASH,SET_LENGTHB,RESULT);
      827     1701
      828     1702    3              IF RESULT THEN
      829     1703    3                CALL LADIAG;
      830     1704
      831     1705    3              END ALL_REDUCTION_CONFIGS;
      832     1706    2   END LAMAIN;
      833     1707
      834     1708        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:30   
      835     1709        /* DRIVER */
      836     1710
      837     1711    1           CALL LAMAIN /* Calculate lookahead sets & record clashes */;
      838     1712
      839     1713    1   END LASET;
      840     1714        %EOD;

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:31   
--  Include file information  --

   LR_CNFG_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_IO_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_GRAM_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure LASET.

   Procedure LASET requires 1255 words for executable code.
   Procedure LASET requires 9160 words of local(AUTO) storage.

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:32   

 Object Unit name= LASET                                      File name= LR_LASET.:Z8A6TOU
 UTS= AUG 09 '97 09:33:38.16 SAT                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  LblCom even  none     1      1  OUT_DCBN
    1   DCB   even  none     0      0  M$OU
    2   DCB   even  none     0      0  M$SO
    3   DCB   even  none     0      0  M$LO
    4   DCB   even  none     0      0  M$SI
    5   DCB   even  none     0      0  M$UI
    6  LblCom even  none  1401   2571  SYM_PTRS
    7  LblCom even  none  4001   7641  RIGHT_PARTS
    8  LblCom even  none  3002   5672  PROD
    9  LblCom even  none     1      1  NR_PROD
   10  LblCom even  none     1      1  NR_SYMS
   11  LblCom even  none     1      1  NR_TERM
   12  LblCom even  none     1      1  LAST_ACT
   13  LblCom even  none     1      1  LAST_NULL
   14  LblCom even  none     1      1  NR_ONRIGHT
   15  LblCom even  none     1      1  NR_NT
   16  LblCom even  none     1      1  PROD_LEN_MAX_EVER
   17  LblCom even  none     1      1  LAST_ORDER_SPECIFIED
   18  LblCom even  none     1      1  SEMANTIC_ORDERING
   19  LblCom even  none     1      1  ERR_SEV
   20  LblCom even  none     1      1  SET_LENGTHB
   21  LblCom even  none     1      1  SET_LENGTHW
   22  LblCom even  none     1      1  EOF_SYMBOL_PTR
   23  LblCom even  none     1      1  ERROR_SYMBOL_PTR
   24  LblCom even  none     1      1  BOF_SYMBOL_PTR
   25  LblCom even  none     1      1  OPTIONS
   26  LblCom even  none    26     32  OPTIONS_TEXT
   27  LblCom even  none   128    200  INSTR
   28  LblCom even  none     1      1  INSTR_LISTED
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:33   
   29  LblCom even  none     1      1  INSTR_LEN
   30  LblCom even  none     1      1  INSTR_INDX
   31  LblCom even  none     1      1  EOF_FLAG
   32  LblCom even  none     3      3  KEY_REC
   33  LblCom even  none    28     34  LINE
   34  LblCom even  none     1      1  LINELEN
   35  LblCom even  none   205    315  TSTATS
   36  LblCom even  none  2201   4231  C#_TO_$
   37  LblCom even  none     1      1  NR_CONFIG
   38  LblCom even  none     1      1  INIT_CONFIG
   39  LblCom even  none     1      1  MAX_BASIS_ITEMS
   40  LblCom even  none     1      1  MAX_TOTAL_ITEMS
   41  LblCom even  none     1      1  LAST_BINSRCH_ONLY
   42  LblCom even  none     1      1  LAST_BOTH_BITBIN
   43  RoData even  UTS    108    154  LASET
   44   Proc  even  none  1255   2347  LASET
   45  RoData even  none    55     67  LASET

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    44      0   yes            yes      Std        0  LASET
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:34   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       2 OUT_STR
         yes           Std       0 FLUSH
         yes           Std       3 PRINT_PROD
         yes           Std       6 DIAG
         yes           Std       2 GETNEW
         yes           Std       3 BITOR
         yes           Std       2 BITZAP
         yes           Std       3 BITMOVE
         yes           Std       0 OCNFG
         yes           Std       3 BITAND
         yes           Std       3 BITNZT
         yes           Std       0 CALC_ITEM_NUMBERS
         yes           Std       1 OUT_SYMBOL
         yes           Std       4 PRINT_DERIVATION
         yes           Std       2 OUT_STR
         yes           Std       0 FLUSH
         yes           Std       3 PRINT_PROD
         yes           Std       1 OUT_DEC
         yes           Std       3 CPRNT
                       nStd      0 X66_AUTO_0
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$OU                                  M$SO                                  M$LO
     M$SI                                  M$UI
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:35   

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:36   


        1        1        /*M* LASET => calculates read sets */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7
        8        8
        9        9
       10       10
       11       11
       12       12
       13       13        LASET:  PROC;

     13 44 000000   000000 700200 xent  LASET        TSX0  ! X66_AUTO_0
        44 000001   021710 000000                    ZERO    9160,0
        44 000002   002344 710000 44                 TRA     s:1711

       14       14
       15       15        /*D*
       16       16               NAME: LASET
       17       17            PURPOSE: CALCULATE THE LOOKAHEAD SETS FOR THE GRAMMAR
       18       18                     WHILE DETERMINING IF THE GRAMMAR IS LALR(1).
       19       19        */
       20       20
       21       21
       22       22        %INCLUDE LR_GRAM_EXT;
       23      561        %INCLUDE LR_CNFG_EXT;
       24      714    1   DCL DIAG ENTRY(6);
       25      715    1   DCL CPRNT ENTRY(3);
       26      716    1   DCL OCNFG ENTRY;
       27      717    1   DCL CALC_ITEM_NUMBERS ENTRY;
       28      718
       29      719    1   DCL CLASHED_PROD_SET(0:%NR_PROD_MAX) BOOLEAN UNAL;
       30      720
       31      721        /*  The basis sets for the configuration sets have
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:37   
       32      722           been placed on a binary tree. The first collating
       33      723           item happens to be SYM_AFTER, which winds up
       34      724           being the accessing symbol for the configuration
       35      725           set. It is therefore very easy to look at all
       36      726           configuration sets accessed by non-nullable
       37      727           non-terminals. The following describes the collating
       38      728           sequence left behind by OGRAM:
       39      729
       40      730                1..NR_TERM     terminal symbols in order encountered.
       41      731                 LAST_NULL+1..NR_SYMS  ordinary non-terminals that are not nullable.
       42      732                NR_TERM+1..LAST_ACT  Action symbols.
       43      733                 LAST_ACT+1..LAST_NULL nullable ordinary non-terminals.
       44      734
       45      735        */
       46      736
       47      737        /* Now for the theory of calculating the lookahead sets:
       48      738           Perform the following for all configuration sets:
       49      739
       50      740             Let the configuration set under consideration be called F.
       51      741
       52      742             Perform the following for all non-terminal transitions leaving F:
       53      743
       54      744              Suppose the transitoin is under the non-terminal <a>;
       55      745
       56      746                   <a>
       57      747               F   -->       C       ( picture of the transition )
       58      748
       59      749              There are X many productions comprising <a>, follow each
       60      750              production's symbols from F all the way down to where
       61      751               <a> is finally reduced.
       62      752
       63      753              You get a list of configuration sets from this process:
       64      754
       65      755               F  ->  F1  ->   ...  Fm  -> F[m+1] ... ->  Fn  ->  G
       66      756
       67      757               Each configuration set has an accessing symbol from
       68      758               the set of symbols comprising a production  defining <a>.
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:38   
       69      759
       70      760               The configuration set comprising G is a special configuration
       71      761               set and  has a structure identical to the INCL_ structure
       72      762               used to denote DeRemer's INCLUDE relation.
       73      763
       74      764               Refering to DeRemer's paper, the linkage from F to C
       75      765               labeled with <a> FOLLOWs G.
       76      766
       77      767               Now suppose Fm is accessed by a non-terminal symbol and
       78      768               F[m+1] through Fn are accessed by nullable non-terminal
       79      769               symbols (include here the case where F[m+1] through Fn
       80      770               do not exist). The linkages from Fm through Fn are said
       81      771               to INCLUDE the linkage from F to C.
       82      772
       83      773               The READ relation is found by traversing the configuration
       84      774               set tree (not LALR(1) if cross linkages exist) from
       85      775               the configuration set C folowing all nullable non-terminal
       86      776               linkages.
       87      777
       88      778        */
       89      779
       90      780        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:39   
       91      781    1   ADD_CLASHED_PROD : PROC(P#);

    781 44 000003   221672 741300       ADD_CLASHED* STX1  ! P+1,,AUTO

       92      782    2   DCL P# SBIN;
       93      783
       94      784    2     CLASHED_PROD_SET(P#) = TRUE;

    784 44 000004   221673 470500                    LDP0    @P#,,AUTO
        44 000005   000000 235100                    LDA     0,,PR0
        44 000006   000010 605000 44                 TPL     s:784+4
        44 000007   000044 035003                    ADLA    36,DU
        44 000010   003105 060400                    CSL     bolr='003'O
        44 000011   000000 000001 45                 BDSC    0                        by=0,bit=0,n=1
        44 000012   200003 000001                    BDSC    CLASHED_PROD_SET,A,AUTO  by=0,bit=0,n=1

       95      785
       96      786    2   END ADD_CLASHED_PROD;

    786 44 000013   000001 702211                    TSX2  ! 1,X1

       97      787
       98      788
       99      789
      100      790    1   ADD_CLASHED_KEY : PROC(KEY);

    790 44 000014   221666 741300       ADD_CLASHED* STX1  ! SET_TEMP+40,,AUTO

      101      791
      102      792          %KEY_;
      103      809
      104      810    2   DCL I SBIN;
      105      811    2   DCL P SBIN;
      106      812
      107      813    3     DO I = KEY.W.ELEM_COUNT - 1 DOWNTO 0;

    813 44 000015   221667 470500                    LDP0    @KEY,,AUTO
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:40   
        44 000016   000005 236100                    LDQ     5,,PR0
        44 000017   000022 736000                    QLS     18
        44 000020   000022 732000                    QRS     18
        44 000021   000001 136007                    SBLQ    1,DL
        44 000022   221670 756100                    STQ     I,,AUTO
        44 000023   000037 710000 44                 TRA     s:816+2

      108      814    3       P = KEY.ELEM.PROD(I);

    814 44 000024   221667 470500                    LDP0    @KEY,,AUTO
        44 000025   221670 720100                    LXL0    I,,AUTO
        44 000026   000006 236110                    LDQ     6,X0,PR0
        44 000027   000022 772000                    QRL     18
        44 000030   221671 756100                    STQ     P,,AUTO

      109      815    3       CALL ADD_CLASHED_PROD(P);

    815 44 000031   221671 631500                    EPPR1   P,,AUTO
        44 000032   221673 451500                    STP1    @P#,,AUTO
        44 000033   000003 701000 44                 TSX1    ADD_CLASHED_PROD
        44 000034   000000 011000                    NOP     0

      110      816    3     END;

    816 44 000035   000001 336007                    LCQ     1,DL
        44 000036   221670 056100                    ASQ     I,,AUTO
        44 000037   221670 235100                    LDA     I,,AUTO
        44 000040   000024 605000 44                 TPL     s:814

      111      817
      112      818    2   END ADD_CLASHED_KEY;

    818 44 000041   221666 221300                    LDX1  ! SET_TEMP+40,,AUTO
        44 000042   000001 702211                    TSX2  ! 1,X1

      113      819
      114      820
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:41   
      115      821
      116      822    1   PRINT_CONTRIB_PROD : PROC;

    822 44 000043   200334 741300       PRINT_CONTR* STX1  ! T+1,,AUTO

      117      823
      118      824    2   DCL OUT_STR ENTRY(2);
      119      825    2   DCL FLUSH ENTRY;
      120      826    2   DCL PRINT_PROD ENTRY(3);
      121      827    2   DCL I SBIN;
      122      828
      123      829          %OUTLINE(S="'       and for which the following productions contribute the symbol
               829         to the lookahead set:'");

    831 44 000044   000003 630400 45                 EPPR0   3
        44 000045   000001 631400 45                 EPPR1   1
        44 000046   000000 701000 xent               TSX1    OUT_STR
        44 000047   000000 011000                    NOP     0

    832 44 000050   000005 631400 45                 EPPR1   5
        44 000051   000000 701000 xent               TSX1    FLUSH
        44 000052   000000 011000                    NOP     0

      124      835    3     DO I = 0 TO %NR_PROD_MAX;

    835 44 000053   200335 450100                    STZ     I,,AUTO

      125      836    3       IF CLASHED_PROD_SET(I) THEN

    836 44 000054   200335 235100                    LDA     I,,AUTO
        44 000055   000057 605000 44                 TPL     s:836+3
        44 000056   000044 035003                    ADLA    36,DU
        44 000057   000000 066505                    CMPB    filb='0'B
        44 000060   200003 000001                    BDSC    CLASHED_PROD_SET,A,AUTO  by=0,bit=0,n=1
        44 000061   000005 000022 45                 BDSC    5                        by=0,bit=0,n=18
        44 000062   000100 600000 44                 TZE     s:843

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:42   
      126      837    4         DO;

      127      838                %OUT_STR(S="'          '");

    839 44 000063   000007 630400 45                 EPPR0   7
        44 000064   000001 631400 45                 EPPR1   1
        44 000065   000000 701000 xent               TSX1    OUT_STR
        44 000066   000000 011000                    NOP     0

      128      841    4           CALL PRINT_PROD(I,0,'0'B);

    841 44 000067   000012 236000 45                 LDQ     10
        44 000070   221676 756100                    STQ     @P#+3,,AUTO
        44 000071   221675 756100                    STQ     @P#+2,,AUTO
        44 000072   200335 630500                    EPPR0   I,,AUTO
        44 000073   221674 450500                    STP0    @P#+1,,AUTO
        44 000074   221674 630500                    EPPR0   @P#+1,,AUTO
        44 000075   000011 631400 45                 EPPR1   9
        44 000076   000000 701000 xent               TSX1    PRINT_PROD
        44 000077   000000 011000                    NOP     0

      129      842    4         END;

      130      843    3     END;

    843 44 000100   200335 054100                    AOS     I,,AUTO
        44 000101   200335 235100                    LDA     I,,AUTO
        44 000102   002734 115007                    CMPA    1500,DL
        44 000103   000054 604400 44                 TMOZ    s:836

      131      844
      132      845    2   END PRINT_CONTRIB_PROD;

    845 44 000104   200334 221300                    LDX1  ! T+1,,AUTO
        44 000105   000001 702211                    TSX2  ! 1,X1

      133      846        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:43   
      134      847    1   FIND_REDUCE:PROC(C_SET,PROD_NO,INCL_TO);

    847 44 000106   200332 741300       FIND_REDUCE  STX1  ! SET_TEMP+40,,AUTO
        44 000107   000204 710000 44                 TRA     s:963

      135      848    2   DCL PROD_NO SBIN;
      136      849        %C_SET_(NAME=C_SET);
      137      866        %INCL_(NAME=INCL_TO);
      138      875    2   DCL CS_LIST$(0:MAX_PROD_LEN) PTR;
      139      876    2   DCL BS_LIST$(0:MAX_PROD_LEN) PTR;
      140      877    2   DCL IN_LIST$(0:MAX_PROD_LEN) PTR;
      141      878
      142      879    2   DCL INDX     SBIN;
      143      880    2   DCL SYM_AFTER SBIN;
      144      881    2   DCL KEY$     PTR;
      145      882    2   DCL INCL$    PTR;
      146      883    2   DCL I        SBIN;
      147      884    2   DCL J        SBIN;
      148      885    2   DCL CS_LAST$ PTR;
      149      886    2   DCL FOUND    BOOLEAN;
      150      887    2   DCL NULLABLE BOOLEAN;
      151      888
      152      889        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:44   
      153      890    2   BINSRCH:PROC(C_SET) ALTRET;

    890 44 000110   200600 741300       BINSRCH      STX1  ! NULLABLE+1,,AUTO

      154      891        %C_SET_;
      155      908    3   DCL LO SBIN;
      156      909    3   DCL HI SBIN;
      157      910    3   DCL GUESS SBIN;
      158      911    3           LO=0;

    911 44 000111   200602 450100                    STZ     LO,,AUTO

      159      912    3           HI=C_SET.NR_ELEM-1;

    912 44 000112   200601 470500                    LDP0    @C_SET,,AUTO
        44 000113   000001 236100                    LDQ     1,,PR0
        44 000114   777777 376007                    ANQ     -1,DL
        44 000115   000001 136007                    SBLQ    1,DL
        44 000116   200603 756100                    STQ     HI,,AUTO

      160      913    4           DO WHILE(LO<=HI);

    913 44 000117   200602 116100                    CMPQ    LO,,AUTO
        44 000120   000156 604000 44                 TMI     s:927

      161      914    4              GUESS=(HI+LO)/2;

    914 44 000121   200603 236100                    LDQ     HI,,AUTO
        44 000122   200602 036100                    ADLQ    LO,,AUTO
        44 000123   000002 506007                    DIV     2,DL
        44 000124   200604 756100                    STQ     GUESS,,AUTO

      162      915    4              KEY$=C_SET.ELEM.KEY$(GUESS);

    915 44 000125   200604 235100                    LDA     GUESS,,AUTO
        44 000126   000002 735000                    ALS     2
        44 000127   200601 470500                    LDP0    @C_SET,,AUTO
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:45   
        44 000130   000004 236105                    LDQ     4,AL,PR0
        44 000131   200571 756100                    STQ     KEY$,,AUTO

      163      916    4              IF SYM_AFTER>KEY$->KEY_B.W.SYM_AFTER THEN

    916 44 000132   200571 471500                    LDP1    KEY$,,AUTO
        44 000133   200570 236100                    LDQ     SYM_AFTER,,AUTO
        44 000134   100004 116100                    CMPQ    4,,PR1
        44 000135   000142 604400 44                 TMOZ    s:919

      164      917    4                 LO=GUESS+1;

    917 44 000136   200604 235100                    LDA     GUESS,,AUTO
        44 000137   000001 035007                    ADLA    1,DL
        44 000140   200602 755100                    STA     LO,,AUTO
        44 000141   000153 710000 44                 TRA     s:926

      165      918    4              ELSE
      166      919    4                 IF SYM_AFTER<KEY$->KEY_B.W.SYM_AFTER THEN

    919 44 000142   000147 605000 44                 TPL     s:923

      167      920    4                    HI=GUESS-1;

    920 44 000143   200604 235100                    LDA     GUESS,,AUTO
        44 000144   000001 135007                    SBLA    1,DL
        44 000145   200603 755100                    STA     HI,,AUTO
        44 000146   000153 710000 44                 TRA     s:926

      168      921    4                 ELSE
      169      922    5                 DO;

      170      923    5                    INCL$=C_SET.ELEM.INCL$(GUESS);

    923 44 000147   000005 236105                    LDQ     5,AL,PR0
        44 000150   200572 756100                    STQ     INCL$,,AUTO

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:46   
      171      924    5                    RETURN;

    924 44 000151   200600 221300                    LDX1  ! NULLABLE+1,,AUTO
        44 000152   000001 702211                    TSX2  ! 1,X1

      172      925    5                    END;
      173      926    4              END;

    926 44 000153   200602 236100                    LDQ     LO,,AUTO
        44 000154   200603 116100                    CMPQ    HI,,AUTO
        44 000155   000121 604400 44                 TMOZ    s:914

      174      927    3           ALTRETURN;

    927 44 000156   200600 221300                    LDX1  ! NULLABLE+1,,AUTO
        44 000157   000000 702211                    TSX2  ! 0,X1

      175      928    3   END BINSRCH;
      176      929
      177      930        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:47   
      178      931    2   INCL_LINK:PROC(INCL_FROM);

    931 44 000160   200600 741300       INCL_LINK    STX1  ! NULLABLE+1,,AUTO

      179      932
      180      933    3   DCL INCLUDES$ PTR;
      181      934
      182      935        %INCL_(NAME=INCL_FROM);
      183      944        %INCLUDES_(NAME=INCLUDES,STCLASS="BASED(INCLUDES$)");
      184      949
      185      950    3           CALL GETNEW(INCLUDES$,LENGTHW(INCLUDES));

    950 44 000161   000015 236000 45                 LDQ     13
        44 000162   221675 756100                    STQ     @P#+2,,AUTO
        44 000163   200602 630500                    EPPR0   INCLUDES$,,AUTO
        44 000164   221674 450500                    STP0    @P#+1,,AUTO
        44 000165   221674 630500                    EPPR0   @P#+1,,AUTO
        44 000166   000001 631400 45                 EPPR1   1
        44 000167   000000 701000 xent               TSX1    GETNEW
        44 000170   000000 011000                    NOP     0

      186      951
      187      952    3           INCLUDES.NEXT_INCLUDES$=INCL_FROM.INCL_HEAD$;

    952 44 000171   200601 470500                    LDP0    @INCL_FROM,,AUTO
        44 000172   000000 236100                    LDQ     0,,PR0
        44 000173   200602 471500                    LDP1    INCLUDES$,,AUTO
        44 000174   100000 756100                    STQ     0,,PR1

      188      953
      189      954    3           INCLUDES.INCL$=ADDR(INCL_TO);

    954 44 000175   200335 236100                    LDQ     @INCL_TO,,AUTO
        44 000176   200602 471500                    LDP1    INCLUDES$,,AUTO
        44 000177   100001 756100                    STQ     1,,PR1

      190      955
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:48   
      191      956    3           INCL_FROM.INCL_HEAD$=INCLUDES$;

    956 44 000200   200602 236100                    LDQ     INCLUDES$,,AUTO
        44 000201   000000 756100                    STQ     0,,PR0

      192      957
      193      958    3   END INCL_LINK;

    958 44 000202   200600 221300                    LDX1  ! NULLABLE+1,,AUTO
        44 000203   000001 702211                    TSX2  ! 1,X1

      194      959
      195      960
      196      961        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:49   
      197      962        /* Main body of FIND_REDUCE */
      198      963    2           CS_LAST$=ADDR(C_SET);

    963 44 000204   200333 236100                    LDQ     @C_SET,,AUTO
        44 000205   200575 756100                    STQ     CS_LAST$,,AUTO

      199      964
      200      965    3           DO I=0 TO PROD.RIGHT_CNT(PROD_NO)-1;

    965 44 000206   200573 450100                    STZ     I,,AUTO
        44 000207   000245 710000 44                 TRA     s:975+1

      201      966
      202      967    3              SYM_AFTER=RIGHT_PARTS(PROD.RIGHT_START(PROD_NO)+I);

    967 44 000210   200334 470500                    LDP0    @PROD_NO,,AUTO
        44 000211   000000 235100                    LDA     0,,PR0
        44 000212   000001 735000                    ALS     1
        44 000213   000001 236005 8                  LDQ     PROD+1,AL
        44 000214   000022 736000                    QLS     18
        44 000215   000022 732000                    QRS     18
        44 000216   200573 036100                    ADLQ    I,,AUTO
        44 000217   000001 736000                    QLS     1
        44 000220   000100 100406                    MLR     fill='000'O
        44 000221   000000 000002 7                  ADSC9   RIGHT_PARTS,Q            cn=0,n=2
        44 000222   221674 000004                    ADSC9   @P#+1,,AUTO              cn=0,n=4
        44 000223   221674 236100                    LDQ     @P#+1,,AUTO
        44 000224   000022 732000                    QRS     18
        44 000225   200570 756100                    STQ     SYM_AFTER,,AUTO

      203      968    3              CALL BINSRCH(CS_LAST$->C_SET_B) ALTRET(BAD_TABLES);

    968 44 000226   200575 236100                    LDQ     CS_LAST$,,AUTO
        44 000227   200601 756100                    STQ     NULLABLE+2,,AUTO
        44 000230   000110 701000 44                 TSX1    BINSRCH
        44 000231   000360 702000 44                 TSX2    BAD_TABLES

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:50   
      204      969
      205      970    3              CS_LIST$(I)=CS_LAST$;

    970 44 000232   200575 236100                    LDQ     CS_LAST$,,AUTO
        44 000233   200573 720100                    LXL0    I,,AUTO
        44 000234   200336 756110                    STQ     CS_LIST$,X0,AUTO

      206      971    3              BS_LIST$(I)=KEY$;

    971 44 000235   200571 236100                    LDQ     KEY$,,AUTO
        44 000236   200421 756110                    STQ     BS_LIST$,X0,AUTO

      207      972    3              IN_LIST$(I)=INCL$;

    972 44 000237   200572 236100                    LDQ     INCL$,,AUTO
        44 000240   200504 756110                    STQ     IN_LIST$,X0,AUTO

      208      973    3              CS_LAST$=KEY$->KEY_B.KEY_VAL$;

    973 44 000241   200571 470500                    LDP0    KEY$,,AUTO
        44 000242   000003 236100                    LDQ     3,,PR0
        44 000243   200575 756100                    STQ     CS_LAST$,,AUTO

      209      974
      210      975    3              END;

    975 44 000244   200573 054100                    AOS     I,,AUTO
        44 000245   200334 470500                    LDP0    @PROD_NO,,AUTO
        44 000246   000000 235100                    LDA     0,,PR0
        44 000247   000001 735000                    ALS     1
        44 000250   000001 236005 8                  LDQ     PROD+1,AL
        44 000251   000022 732000                    QRS     18
        44 000252   200573 116100                    CMPQ    I,,AUTO
        44 000253   000210 605400 44                 TPNZ    s:967

      211      976
      212      977        /* now find final reduction pointer */
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:51   
      213      978
      214      979
      215      980    2           I=0;

    980 44 000254   200573 450100                    STZ     I,,AUTO

      216      981    2           FOUND=FALSE;

    981 44 000255   200576 450100                    STZ     FOUND,,AUTO

      217      982
      218      983    3           DO WHILE (I<CS_LAST$->C_SET_B.NR_ELEM

    983 44 000256   000300 710000 44                 TRA     s:994

      219      984    3             AND NOT FOUND);
      220      985
      221      986    3              KEY$=CS_LAST$->C_SET_B.ELEM.KEY$(I);

    986 44 000257   200573 235100                    LDA     I,,AUTO
        44 000260   000002 735000                    ALS     2
        44 000261   200575 470500                    LDP0    CS_LAST$,,AUTO
        44 000262   000004 236105                    LDQ     4,AL,PR0
        44 000263   200571 756100                    STQ     KEY$,,AUTO

      222      987
      223      988    3              IF KEY$->KEY_B.W.SYM_AFTER=0

    988 44 000264   200571 471500                    LDP1    KEY$,,AUTO
        44 000265   100004 235100                    LDA     4,,PR1
        44 000266   000277 601000 44                 TNZ     s:992
        44 000267   200334 473500                    LDP3    @PROD_NO,,AUTO
        44 000270   100006 236100                    LDQ     6,,PR1
        44 000271   000022 772000                    QRL     18
        44 000272   300000 116100                    CMPQ    0,,PR3
        44 000273   000277 601000 44                 TNZ     s:992

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:52   
      224      989    3                AND KEY$->KEY_B.ELEM.PROD(0)=PROD_NO THEN
      225      990    3                 FOUND=TRUE;

    990 44 000274   400000 236003                    LDQ     -131072,DU
        44 000275   200576 756100                    STQ     FOUND,,AUTO
        44 000276   000300 710000 44                 TRA     s:994

      226      991    3              ELSE
      227      992    3                 I=I+1;

    992 44 000277   200573 054100                    AOS     I,,AUTO

      228      993
      229      994    3              END;

    994 44 000300   200575 470500                    LDP0    CS_LAST$,,AUTO
        44 000301   000001 236100                    LDQ     1,,PR0
        44 000302   777777 376007                    ANQ     -1,DL
        44 000303   200573 116100                    CMPQ    I,,AUTO
        44 000304   000307 604400 44                 TMOZ    s:996
        44 000305   200576 234100                    SZN     FOUND,,AUTO
        44 000306   000257 605000 44                 TPL     s:986

      230      995
      231      996    2           IF NOT FOUND THEN

    996 44 000307   200576 234100                    SZN     FOUND,,AUTO
        44 000310   000360 605000 44                 TPL     BAD_TABLES

      232      997    2              GOTO BAD_TABLES;
      233      998
      234      999
      235     1000    2           CALL INCL_LINK(KEY$->KEY_B.KEY_VAL$->INCL_B);

   1000 44 000311   200571 471500                    LDP1    KEY$,,AUTO
        44 000312   100003 473500                    LDP3    3,,PR1
        44 000313   200601 453500                    STP3    NULLABLE+2,,AUTO
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:53   
        44 000314   000160 701000 44                 TSX1    INCL_LINK
        44 000315   000000 011000                    NOP     0

      236     1001
      237     1002        /* now keep track of nullable non-terminals */
      238     1003
      239     1004    2           I=PROD.RIGHT_CNT(PROD_NO)-1;

   1004 44 000316   200334 470500                    LDP0    @PROD_NO,,AUTO
        44 000317   000000 235100                    LDA     0,,PR0
        44 000320   000001 735000                    ALS     1
        44 000321   000001 236005 8                  LDQ     PROD+1,AL
        44 000322   000022 732000                    QRS     18
        44 000323   000001 136007                    SBLQ    1,DL
        44 000324   200573 756100                    STQ     I,,AUTO

      240     1005
      241     1006    2           NULLABLE = TRUE;

   1006 44 000325   400000 236003                    LDQ     -131072,DU
        44 000326   200577 756100                    STQ     NULLABLE,,AUTO

      242     1007
      243     1008    3           DO WHILE(I>=0 AND

   1008 44 000327   000352 710000 44                 TRA     s:1018

      244     1009    3             NULLABLE);
      245     1010
      246     1011    3              NULLABLE=BS_LIST$(I)->KEY_B.W.SYM_AFTER>NR_NT;

   1011 44 000330   200573 720100                    LXL0    I,,AUTO
        44 000331   200421 470510                    LDP0    BS_LIST$,X0,AUTO
        44 000332   400000 221003                    LDX1    -131072,DU
        44 000333   000004 236100                    LDQ     4,,PR0
        44 000334   000000 116000 15                 CMPQ    NR_NT
        44 000335   000337 605400 44                 TPNZ    s:1011+7
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:54   
        44 000336   000000 221003                    LDX1    0,DU
        44 000337   000000 636011                    EAQ     0,X1
        44 000340   200577 756100                    STQ     NULLABLE,,AUTO

      247     1012    3              IF BS_LIST$(I)->KEY_B.W.SYM_AFTER>NR_TERM

   1012 44 000341   000004 236100                    LDQ     4,,PR0
        44 000342   000000 116000 11                 CMPQ    NR_TERM
        44 000343   000350 604400 44                 TMOZ    s:1017

      248     1013    3              THEN
      249     1014    4   NON_TERM:  DO;

   1014 44 000344                       NON_TERM     null
      250     1015    4                 CALL INCL_LINK(IN_LIST$(I)->INCL_B);

   1015 44 000344   200504 471510                    LDP1    IN_LIST$,X0,AUTO
        44 000345   200601 451500                    STP1    NULLABLE+2,,AUTO
        44 000346   000160 701000 44                 TSX1    INCL_LINK
        44 000347   000000 011000                    NOP     0

      251     1016    4                 END NON_TERM;

      252     1017    3              I=I-1;

   1017 44 000350   000001 336007                    LCQ     1,DL
        44 000351   200573 056100                    ASQ     I,,AUTO

      253     1018    3              END;

   1018 44 000352   200573 235100                    LDA     I,,AUTO
        44 000353   000356 604000 44                 TMI     s:1021
        44 000354   200577 234100                    SZN     NULLABLE,,AUTO
        44 000355   000330 604000 44                 TMI     s:1011

      254     1019
      255     1020
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:55   
      256     1021    2           RETURN;

   1021 44 000356   200332 221300                    LDX1  ! SET_TEMP+40,,AUTO
        44 000357   000001 702211                    TSX2  ! 1,X1

   1017 44 000360                       BAD_TABLES   null
      257     1022    2   BAD_TABLES:;
      258     1023    2           CALL DIAG(15,'ERROR => Bad tables detected by LASET%%');

   1023 44 000360   000017 630400 45                 EPPR0   15
        44 000361   000001 631400 45                 EPPR1   1
        44 000362   000000 701000 xent               TSX1    DIAG
        44 000363   000000 011000                    NOP     0

      259     1024
      260     1025
      261     1026    2   END FIND_REDUCE;

   1026 44 000364   200332 221300                    LDX1  ! SET_TEMP+40,,AUTO
        44 000365   000001 702211                    TSX2  ! 1,X1

      262     1027        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:56   
      263     1028
      264     1029
      265     1030
      266     1031    1   NULLABLE_TREE:PROC(C_SETA,CLASHED_TERM#) ALTRET;

   1031 44 000366   211122 741300       NULLABLE_TR* STX1  ! P+2,,AUTO

      267     1032
      268     1033    2   DCL CLASHED_TERM# SBIN WORD;
      269     1034        %C_SET_(NAME=C_SETA);
      270     1051
      271     1052        /* KEY_ is the key for a configuration set accessed
      272     1053         by a non-terminal symbol. Find the nullable symbol
      273     1054         tree descending from this particular configuration set
      274     1055          and calculate the READ set. If there is a second argument
      275     1056        present , it is assumed to be a clashed set. In that case
      276     1057        the third argument must be present */
      277     1058
      278     1059    2   DCL C_SET_STK(0:%NR_CONFIG_MAX) PTR;
      279     1060    2   DCL ELEM_STK(0:%NR_CONFIG_MAX) SBIN;
      280     1061    2   DCL TRAVERSING BOOLEAN;
      281     1062    2   DCL PUSHING    BOOLEAN;
      282     1063    2   DCL ELEM       SBIN;
      283     1064    2   DCL STKD       SBIN;
      284     1065    2   DCL I          SBIN;
      285     1066    2   DCL KEY$       PTR;
      286     1067    2   DCL C$         PTR;
      287     1068        %KEY_(NAME=KEY,STCLASS="BASED(KEY$)");
      288     1085        %C_SET_(NAME=C_SET,STCLASS="BASED(C$)");
      289     1102    2   DCL SET_TEMP(0:NR_SYMS_MAX) BOOLEAN ;
      290     1103    2   DCL 1 SB ALIGNED BASED,
      291     1104    2         2 SET_B(0:1) BOOLEAN UNAL;
      292     1105
      293     1106    2           KEY$=C_SETA.KEY$;

   1106 44 000367   211123 470500                    LDP0    @C_SETA,,AUTO
        44 000370   000000 236100                    LDQ     0,,PR0
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:57   
        44 000371   221614 756100                    STQ     KEY$,,AUTO

      294     1107
      295     1108    3           DO CASE(KEY.W.SET_STATE);

   1108 44 000372   221614 471500                    LDP1    KEY$,,AUTO
        44 000373   100005 236100                    LDQ     5,,PR1
        44 000374   000033 732000                    QRS     27
        44 000375   000002 116007                    CMPQ    2,DL
        44 000376   000400 602006 44                 TNC     s:1108+6,QL
        44 000377   000402 710000 44                 TRA     s:1113
        44 000400   000410 710000 44                 TRA     s:1118
        44 000401   000407 710000 44                 TRA     s:1115

      296     1109
      297     1110    3            CASE(SET_STATE_UNCALC);

      298     1111
      299     1112    3            CASE(ELSE);

      300     1113    3              CALL DIAG(15,'ERROR => Inconsistent read state%%');

   1113 44 000402   000021 630400 45                 EPPR0   17
        44 000403   000001 631400 45                 EPPR1   1
        44 000404   000000 701000 xent               TSX1    DIAG
        44 000405   000000 011000                    NOP     0
        44 000406   000410 710000 44                 TRA     s:1118

      301     1114    3            CASE(SET_STATE_CALC);

      302     1115    3              RETURN;

   1115 44 000407   000001 702211                    TSX2  ! 1,X1

      303     1116    3            END;

      304     1117
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:58   
      305     1118    2           STKD=1;

   1118 44 000410   000001 235007                    LDA     1,DL
        44 000411   221612 755100                    STA     STKD,,AUTO

      306     1119
      307     1120    2           C_SET_STK(0)=ADDR(C_SETA);

   1120 44 000412   211123 236100                    LDQ     @C_SETA,,AUTO
        44 000413   211125 756100                    STQ     C_SET_STK,,AUTO

      308     1121    2           ELEM_STK(0)=C_SETA.NR_ELEM-1;

   1121 44 000414   211123 470500                    LDP0    @C_SETA,,AUTO
        44 000415   000001 236100                    LDQ     1,,PR0
        44 000416   777777 376007                    ANQ     -1,DL
        44 000417   000001 136007                    SBLQ    1,DL
        44 000420   215356 756100                    STQ     ELEM_STK,,AUTO

      309     1122
      310     1123    3   NULL_TREE: DO WHILE(STKD>0);

   1123 44 000421   000000 115003       NULL_TREE    CMPA    0,DU
        44 000422   000712 604400 44                 TMOZ    s:1223

      311     1124
      312     1125
      313     1126    3              TRAVERSING=TRUE;

   1126 44 000423   400000 236003                    LDQ     -131072,DU
        44 000424   221607 756100                    STQ     TRAVERSING,,AUTO

      314     1127
      315     1128    4              DO WHILE(TRAVERSING);

   1128 44 000425   221607 234100                    SZN     TRAVERSING,,AUTO
        44 000426   000541 605000 44                 TPL     s:1187
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:59   

      316     1129
      317     1130    4                 C$=C_SET_STK(STKD-1);

   1130 44 000427   221612 720100                    LXL0    STKD,,AUTO
        44 000430   211124 236110                    LDQ     @CLASHED_TERM#,X0,AUTO
        44 000431   221615 756100                    STQ     C$,,AUTO

      318     1131    4                 ELEM=ELEM_STK(STKD-1);

   1131 44 000432   215355 235110                    LDA     C_SET_STK+2200,X0,AUTO
        44 000433   221611 755100                    STA     ELEM,,AUTO

      319     1132    4                 ELEM_STK(STKD-1)=ELEM-1;

   1132 44 000434   000001 135007                    SBLA    1,DL
        44 000435   215355 755110                    STA     C_SET_STK+2200,X0,AUTO

      320     1133    4                 IF ELEM<0 THEN

   1133 44 000436   221611 235100                    LDA     ELEM,,AUTO
        44 000437   000442 605000 44                 TPL     s:1137

      321     1134    4                    TRAVERSING=FALSE;

   1134 44 000440   221607 450100                    STZ     TRAVERSING,,AUTO
        44 000441   000537 710000 44                 TRA     s:1181

      322     1135    4                 ELSE
      323     1136    5                 DO;

      324     1137    5                    KEY$=C_SET.ELEM.KEY$(ELEM);

   1137 44 000442   000002 735000                    ALS     2
        44 000443   221615 470500                    LDP0    C$,,AUTO
        44 000444   000004 236105                    LDQ     4,AL,PR0
        44 000445   221614 756100                    STQ     KEY$,,AUTO
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:60   

      325     1138    5                    IF KEY.W.SYM_AFTER<=NR_NT THEN

   1138 44 000446   221614 471500                    LDP1    KEY$,,AUTO
        44 000447   100004 236100                    LDQ     4,,PR1
        44 000450   000000 116000 15                 CMPQ    NR_NT
        44 000451   000454 605400 44                 TPNZ    NULLABLE_THREAD

      326     1139    5                       TRAVERSING=FALSE;

   1139 44 000452   221607 450100                    STZ     TRAVERSING,,AUTO
        44 000453   000537 710000 44                 TRA     s:1181

      327     1140
      328     1141    5                    ELSE
      329     1142    6   NULLABLE_THREAD: DO CASE(KEY.W.SET_STATE);

   1142 44 000454   100005 236100       NULLABLE_TH* LDQ     5,,PR1
        44 000455   000033 732000                    QRS     27
        44 000456   000003 116007                    CMPQ    3,DL
        44 000457   000461 602006 44                 TNC     NULLABLE_THREAD+5,QL
        44 000460   000533 710000 44                 TRA     s:1177
        44 000461   000464 710000 44                 TRA     s:1147
        44 000462   000537 710000 44                 TRA     s:1181
        44 000463   000501 710000 44                 TRA     s:1156

      330     1143
      331     1144    6                     CASE(SET_STATE_UNCALC);

      332     1145
      333     1146
      334     1147    6                       STKD=STKD+1;

   1147 44 000464   221612 054100                    AOS     STKD,,AUTO

      335     1148    6                       KEY.W.SET_STATE=SET_STATE_STACKED;

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:61   
   1148 44 000465   002000 236003                    LDQ     1024,DU
        44 000466   100005 552140                    STBQ    5,'40'O,PR1

      336     1149    6                       C$=KEY.KEY_VAL$;

   1149 44 000467   100003 236100                    LDQ     3,,PR1
        44 000470   221615 756100                    STQ     C$,,AUTO

      337     1150    6                       C_SET_STK(STKD-1)=C$;

   1150 44 000471   221612 720100                    LXL0    STKD,,AUTO
        44 000472   211124 756110                    STQ     @CLASHED_TERM#,X0,AUTO

      338     1151    6                       ELEM_STK(STKD-1)=C_SET.NR_ELEM-1;

   1151 44 000473   221615 470500                    LDP0    C$,,AUTO
        44 000474   000001 236100                    LDQ     1,,PR0
        44 000475   777777 376007                    ANQ     -1,DL
        44 000476   000001 136007                    SBLQ    1,DL
        44 000477   215355 756110                    STQ     C_SET_STK+2200,X0,AUTO
        44 000500   000537 710000 44                 TRA     s:1181

      339     1152
      340     1153    6                     CASE(SET_STATE_STACKED);

      341     1154        /* Inform the user that the nullable tree is cross-linked */
      342     1155
      343     1156    6                       CALL DIAG(15

   1156 44 000501   000023 630400 45                 EPPR0   19
        44 000502   000001 631400 45                 EPPR1   1
        44 000503   000000 701000 xent               TSX1    DIAG
        44 000504   000000 011000                    NOP     0

      344     1157    6                         ,
              1157                          'ERROR => The following knot occurs in a nullable symbol tree:%%'
              1157                                  );
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:62   
      345     1158
      346     1159
      347     1160    6                       I=STKD;

   1160 44 000505   221612 235100                    LDA     STKD,,AUTO
        44 000506   221613 755100                    STA     I,,AUTO

      348     1161
      349     1162    6                       C_SET_STK(STKD)=ADDR(NIL);

   1162 44 000507   000013 236000 45                 LDQ     11
        44 000510   211125 756105                    STQ     C_SET_STK,AL,AUTO

      350     1163
      351     1164    7                       DO WHILE(C_SET_STK(I)~=KEY.KEY_VAL$);

   1164 44 000511   221614 470500                    LDP0    KEY$,,AUTO
        44 000512   221613 720100                    LXL0    I,,AUTO
        44 000513   211125 236110                    LDQ     C_SET_STK,X0,AUTO
        44 000514   000003 116100                    CMPQ    3,,PR0
        44 000515   000537 600000 44                 TZE     s:1181

      352     1165
      353     1166    7                          I=I-1;

   1166 44 000516   000001 336007                    LCQ     1,DL
        44 000517   221613 056100                    ASQ     I,,AUTO

      354     1167
      355     1168    7                          IF I<=0 THEN

   1168 44 000520   000525 605400 44                 TPNZ    s:1172

      356     1169    7                             CALL DIAG(15,' Internal error in LASET:NULLABLE_TREE%%');

   1169 44 000521   000025 630400 45                 EPPR0   21
        44 000522   000001 631400 45                 EPPR1   1
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:63   
        44 000523   000000 701000 xent               TSX1    DIAG
        44 000524   000000 011000                    NOP     0

      357     1170
      358     1171
      359     1172    7                          END;

   1172 44 000525   221614 470500                    LDP0    KEY$,,AUTO
        44 000526   221613 720100                    LXL0    I,,AUTO
        44 000527   211125 236110                    LDQ     C_SET_STK,X0,AUTO
        44 000530   000003 116100                    CMPQ    3,,PR0
        44 000531   000516 601000 44                 TNZ     s:1166
        44 000532   000537 710000 44                 TRA     s:1181

      360     1173
      361     1174    6                     CASE(SET_STATE_CALC);

      362     1175
      363     1176    6                     CASE(ELSE);

      364     1177    6                       CALL DIAG(15,
              1177                                'ERROR => Impossible state in LASET:NULLABLE_TREE%%');

   1177 44 000533   000027 630400 45                 EPPR0   23
        44 000534   000001 631400 45                 EPPR1   1
        44 000535   000000 701000 xent               TSX1    DIAG
        44 000536   000000 011000                    NOP     0

      365     1178    6                     END NULLABLE_THREAD;

      366     1179    5                    END;

      367     1180
      368     1181    4                 END /*WHILE TRAVERSING */;

   1181 44 000537   221607 234100                    SZN     TRAVERSING,,AUTO
        44 000540   000427 604000 44                 TMI     s:1130
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:64   

      369     1182
      370     1183        /* all configuration set thread off from this one
      371     1184           have had their read sets calculated. It is now
      372     1185           time to calculate the read set for the current configuration */
      373     1186
      374     1187    3              CALL BITZAP(SET_TEMP,SET_LENGTHB);

   1187 44 000541   000031 236000 45                 LDQ     25
        44 000542   221675 756100                    STQ     @P#+2,,AUTO
        44 000543   221616 630500                    EPPR0   SET_TEMP,,AUTO
        44 000544   221674 450500                    STP0    @P#+1,,AUTO
        44 000545   221674 630500                    EPPR0   @P#+1,,AUTO
        44 000546   000001 631400 45                 EPPR1   1
        44 000547   000000 701000 xent               TSX1    BITZAP
        44 000550   000000 011000                    NOP     0

      375     1188    3              C$=C_SET_STK(STKD-1);

   1188 44 000551   221612 720100                    LXL0    STKD,,AUTO
        44 000552   211124 236110                    LDQ     @CLASHED_TERM#,X0,AUTO
        44 000553   221615 756100                    STQ     C$,,AUTO

      376     1189    4              DO I=C_SET.NR_ELEM-1 DOWNTO ELEM+1;

   1189 44 000554   221615 470500                    LDP0    C$,,AUTO
        44 000555   000001 236100                    LDQ     1,,PR0
        44 000556   777777 376007                    ANQ     -1,DL
        44 000557   000001 136007                    SBLQ    1,DL
        44 000560   221613 756100                    STQ     I,,AUTO
        44 000561   000622 710000 44                 TRA     s:1194+2

      377     1190    4                 KEY$=C_SET.ELEM.KEY$(I);

   1190 44 000562   221613 235100                    LDA     I,,AUTO
        44 000563   000002 735000                    ALS     2
        44 000564   221615 470500                    LDP0    C$,,AUTO
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:65   
        44 000565   000004 236105                    LDQ     4,AL,PR0
        44 000566   221614 756100                    STQ     KEY$,,AUTO

      378     1191    4                 CALL BITOR(SET_TEMP,KEY.SET$->SB.SET_B,SET_LENGTHB);

   1191 44 000567   221614 471500                    LDP1    KEY$,,AUTO
        44 000570   100002 473500                    LDP3    2,,PR1
        44 000571   000031 236000 45                 LDQ     25
        44 000572   221676 756100                    STQ     @P#+3,,AUTO
        44 000573   221675 453500                    STP3    @P#+2,,AUTO
        44 000574   221616 634500                    EPPR4   SET_TEMP,,AUTO
        44 000575   221674 454500                    STP4    @P#+1,,AUTO
        44 000576   221674 630500                    EPPR0   @P#+1,,AUTO
        44 000577   000011 631400 45                 EPPR1   9
        44 000600   000000 701000 xent               TSX1    BITOR
        44 000601   000000 011000                    NOP     0

      379     1192    4                 IF KEY.SET$ -> SB.SET_B(CLASHED_TERM#) THEN

   1192 44 000602   221614 470500                    LDP0    KEY$,,AUTO
        44 000603   000002 471500                    LDP1    2,,PR0
        44 000604   211124 473500                    LDP3    @CLASHED_TERM#,,AUTO
        44 000605   300000 235100                    LDA     0,,PR3
        44 000606   000610 605000 44                 TPL     s:1192+6
        44 000607   000044 035003                    ADLA    36,DU
        44 000610   000000 066505                    CMPB    filb='0'B
        44 000611   100000 000001                    BDSC    0,A,PR1                  by=0,bit=0,n=1
        44 000612   000005 000022 45                 BDSC    5                        by=0,bit=0,n=18
        44 000613   000620 600000 44                 TZE     s:1194

      380     1193    4                   CALL ADD_CLASHED_KEY(KEY);

   1193 44 000614   221614 236100                    LDQ     KEY$,,AUTO
        44 000615   221667 756100                    STQ     @KEY,,AUTO
        44 000616   000014 701000 44                 TSX1    ADD_CLASHED_KEY
        44 000617   000000 011000                    NOP     0

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:66   
      381     1194    4                 END;

   1194 44 000620   000001 336007                    LCQ     1,DL
        44 000621   221613 056100                    ASQ     I,,AUTO
        44 000622   221613 236100                    LDQ     I,,AUTO
        44 000623   221611 116100                    CMPQ    ELEM,,AUTO
        44 000624   000562 605400 44                 TPNZ    s:1190

      382     1195
      383     1196        /* now include the terminal symbols escaping this
      384     1197           configuration set */
      385     1198
      386     1199    3              I=ELEM;

   1199 44 000625   221611 235100                    LDA     ELEM,,AUTO
        44 000626   221613 755100                    STA     I,,AUTO

      387     1200
      388     1201    4              DO WHILE(I>=0);

   1201 44 000627   000666 604000 44                 TMI     s:1216

      389     1202
      390     1203    4                 KEY$=C_SET.ELEM.KEY$(I);

   1203 44 000630   221613 235100                    LDA     I,,AUTO
        44 000631   000002 735000                    ALS     2
        44 000632   221615 470500                    LDP0    C$,,AUTO
        44 000633   000004 236105                    LDQ     4,AL,PR0
        44 000634   221614 756100                    STQ     KEY$,,AUTO

      391     1204    4                 IF KEY.W.SYM_AFTER=0 THEN

   1204 44 000635   221614 471500                    LDP1    KEY$,,AUTO
        44 000636   100004 235100                    LDA     4,,PR1
        44 000637   000642 601000 44                 TNZ     s:1208

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:67   
      392     1205    4                    I=0;

   1205 44 000640   221613 450100                    STZ     I,,AUTO
        44 000641   000663 710000 44                 TRA     s:1213

      393     1206    4                 ELSE
      394     1207    5                  DO;

      395     1208    5                    IF KEY.W.SYM_AFTER<=NR_TERM THEN

   1208 44 000642   100004 236100                    LDQ     4,,PR1
        44 000643   000000 116000 11                 CMPQ    NR_TERM
        44 000644   000653 605400 44                 TPNZ    s:1210

      396     1209    5                       SET_TEMP(KEY.W.SYM_AFTER)='1'B;

   1209 44 000645   000000 116003                    CMPQ    0,DU
        44 000646   000650 605000 44                 TPL     s:1209+3
        44 000647   000044 036003                    ADLQ    36,DU
        44 000650   003106 060400                    CSL     bolr='003'O
        44 000651   000000 000001 45                 BDSC    0                        by=0,bit=0,n=1
        44 000652   221616 000001                    BDSC    SET_TEMP,Q,AUTO          by=0,bit=0,n=1

      397     1210    5                    IF KEY.W.SYM_AFTER = CLASHED_TERM# THEN

   1210 44 000653   211124 473500                    LDP3    @CLASHED_TERM#,,AUTO
        44 000654   100004 236100                    LDQ     4,,PR1
        44 000655   300000 116100                    CMPQ    0,,PR3
        44 000656   000663 601000 44                 TNZ     s:1213

      398     1211    5                      CALL ADD_CLASHED_KEY(KEY);

   1211 44 000657   221614 236100                    LDQ     KEY$,,AUTO
        44 000660   221667 756100                    STQ     @KEY,,AUTO
        44 000661   000014 701000 44                 TSX1    ADD_CLASHED_KEY
        44 000662   000000 011000                    NOP     0

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:68   
      399     1212    5                  END;

      400     1213    4                 I=I-1;

   1213 44 000663   000001 336007                    LCQ     1,DL
        44 000664   221613 056100                    ASQ     I,,AUTO

      401     1214    4                 END;

   1214 44 000665   000630 605000 44                 TPL     s:1203

      402     1215
      403     1216    3              KEY$=C_SET.KEY$;

   1216 44 000666   221615 470500                    LDP0    C$,,AUTO
        44 000667   000000 236100                    LDQ     0,,PR0
        44 000670   221614 756100                    STQ     KEY$,,AUTO

      404     1217
      405     1218    3              CALL BITMOVE(KEY.SET$->SB.SET_B,SET_TEMP,SET_LENGTHB);

   1218 44 000671   221614 471500                    LDP1    KEY$,,AUTO
        44 000672   100002 473500                    LDP3    2,,PR1
        44 000673   000031 236000 45                 LDQ     25
        44 000674   221676 756100                    STQ     @P#+3,,AUTO
        44 000675   221616 634500                    EPPR4   SET_TEMP,,AUTO
        44 000676   221675 454500                    STP4    @P#+2,,AUTO
        44 000677   221674 453500                    STP3    @P#+1,,AUTO
        44 000700   221674 630500                    EPPR0   @P#+1,,AUTO
        44 000701   000011 631400 45                 EPPR1   9
        44 000702   000000 701000 xent               TSX1    BITMOVE
        44 000703   000000 011000                    NOP     0

      406     1219    3              KEY.W.SET_STATE=SET_STATE_CALC;

   1219 44 000704   221614 470500                    LDP0    KEY$,,AUTO
        44 000705   001000 236003                    LDQ     512,DU
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:69   
        44 000706   000005 552140                    STBQ    5,'40'O,PR0

      407     1220    3              STKD=STKD-1;

   1220 44 000707   000001 336007                    LCQ     1,DL
        44 000710   221612 056100                    ASQ     STKD,,AUTO

      408     1221
      409     1222    3              END NULL_TREE;

   1222 44 000711   000423 605400 44                 TPNZ    s:1126

      410     1223    2   END NULLABLE_TREE;

   1223 44 000712   211122 221300                    LDX1  ! P+2,,AUTO
        44 000713   000001 702211                    TSX2  ! 1,X1

      411     1224        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:70   
      412     1225    1   LACALC: PROC(KEY,CLASHED_TERM#);

   1225 44 000714   200352 741300       LACALC       STX1  ! P+1,,AUTO
        44 000715   001217 710000 44                 TRA     s:1381

      413     1226        %KEY_(NAME=KEY);
      414     1243    2   DCL CLASHED_TERM# SBIN  /* CLASHED TERMINAL NUMBER OF ZERO */;
      415     1244        /* calculate the lookahead sets as being the
      416     1245           union of all the FOLLOW sets */
      417     1246
      418     1247    2   DCL INCL_STK(0:%NR_CONFIG_MAX) PTR;
      419     1248    2   DCL INCLUDES_STK(0:%NR_CONFIG_MAX) PTR;
      420     1249
      421     1250    2   DCL STKD SBIN;
      422     1251
      423     1252    2   INCL_CALC:PROC;

   1252 44 000716   211040 741300       INCL_CALC    STX1  ! STKD+1,,AUTO

      424     1253        /* The first stack entry has already been pushed,
      425     1254          but further INCLUDE sets may have to be calculated */
      426     1255
      427     1256    3   DCL INCL$                    PTR;
      428     1257    3   DCL SET$                     PTR;
      429     1258    3   DCL 1 SB ALIGNED BASED,
      430     1259    3         2 SET_B(0:1) BOOLEAN UNAL;
      431     1260    3   DCL SET_TEMP(0:NR_SYMS_MAX)  BOOLEAN ;
      432     1261    3   DCL NEXT_INCL$               PTR;
      433     1262    3   DCL SUB_INCL$                PTR;
      434     1263    3   DCL RESULT                   BOOLEAN;
      435     1264    3   DCL KSTK                     SBIN;
      436     1265    3   DCL NEWLEV                   SBIN;
      437     1266    3   DCL MORE_INCLS               BOOLEAN;
      438     1267    3   DCL P                        SBIN;
      439     1268
      440     1269
      441     1270    4   WHILE_STKD:DO WHILE(STKD>0);
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:71   

   1270 44 000717   211037 235100       WHILE_STKD   LDA     STKD,,AUTO
        44 000720   001215 604400 44                 TMOZ    s:1378

      442     1271
      443     1272    4              MORE_INCLS=TRUE;

   1272 44 000721   400000 236003                    LDQ     -131072,DU
        44 000722   211117 756100                    STQ     MORE_INCLS,,AUTO

      444     1273
      445     1274    5   EQUIV_PATH: DO WHILE(MORE_INCLS);

   1274 44 000723   211117 234100       EQUIV_PATH   SZN     MORE_INCLS,,AUTO
        44 000724   001053 605000 44                 TPL     s:1336

      446     1275
      447     1276    5                 NEWLEV=INCL_STK(STKD-1)->INCL_B.SET_STATE;

   1276 44 000725   211037 720100                    LXL0    STKD,,AUTO
        44 000726   200354 470510                    LDP0    @CLASHED_TERM#,X0,AUTO
        44 000727   000002 236100                    LDQ     2,,PR0
        44 000730   000033 772000                    QRL     27
        44 000731   211116 756100                    STQ     NEWLEV,,AUTO

      448     1277
      449     1278    5                 KSTK=STKD;

   1278 44 000732   211037 235100                    LDA     STKD,,AUTO
        44 000733   211115 755100                    STA     KSTK,,AUTO

      450     1279
      451     1280    5                 INCL$=ADDR(NIL);

   1280 44 000734   000013 236000 45                 LDQ     11
        44 000735   211041 756100                    STQ     INCL$,,AUTO

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:72   
      452     1281
      453     1282    6   SUB_INCL_SEARCHING: DO WHILE(KSTK>=NEWLEV-1 AND

   1282 44 000736   000755 710000 44    SUB_INCL_SE* TRA     s:1295

      454     1283    6                   INCL$=ADDR(NIL));
      455     1284
      456     1285    6                    INCL$=INCLUDES_STK(KSTK-1);

   1285 44 000737   211115 720100                    LXL0    KSTK,,AUTO
        44 000740   204605 236110                    LDQ     GUESS+2049,X0,AUTO
        44 000741   211041 756100                    STQ     INCL$,,AUTO

      457     1286
      458     1287    6                    IF INCL$~=ADDR(NIL) THEN

   1287 44 000742   000013 116000 45                 CMPQ    11
        44 000743   000753 600000 44                 TZE     s:1293

      459     1288    7                    DO;

      460     1289    7                       INCLUDES_STK(KSTK-1)=ADDR(NIL);

   1289 44 000744   000013 236000 45                 LDQ     11
        44 000745   204605 756110                    STQ     GUESS+2049,X0,AUTO

      461     1290    7                       INCLUDES_STK(STKD-1)=INCL$->INCLUDES_B.NEXT_INCLUDES$;

   1290 44 000746   211041 470500                    LDP0    INCL$,,AUTO
        44 000747   000000 236100                    LDQ     0,,PR0
        44 000750   211037 721100                    LXL1    STKD,,AUTO
        44 000751   204605 756111                    STQ     GUESS+2049,X1,AUTO

      462     1291    7                       END;

   1291 44 000752   000755 710000 44                 TRA     s:1295

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:73   
      463     1292    6                    ELSE
      464     1293    6                       KSTK=KSTK-1;

   1293 44 000753   000001 336007                    LCQ     1,DL
        44 000754   211115 056100                    ASQ     KSTK,,AUTO

      465     1294
      466     1295    6                    END SUB_INCL_SEARCHING;

   1295 44 000755   211116 236100                    LDQ     NEWLEV,,AUTO
        44 000756   000001 136007                    SBLQ    1,DL
        44 000757   211115 116100                    CMPQ    KSTK,,AUTO
        44 000760   000764 605400 44                 TPNZ    s:1297
        44 000761   211041 236100                    LDQ     INCL$,,AUTO
        44 000762   000013 116000 45                 CMPQ    11
        44 000763   000737 600000 44                 TZE     s:1285

      467     1296
      468     1297    5                 IF INCL$~=ADDR(NIL) THEN

   1297 44 000764   211041 236100                    LDQ     INCL$,,AUTO
        44 000765   000013 116000 45                 CMPQ    11
        44 000766   001050 600000 44                 TZE     s:1329

      469     1298    6   DESCEND_DOWN: DO;

   1298 44 000767                       DESCEND_DOWN null
      470     1299
      471     1300    6                    NEXT_INCL$=INCL$->INCLUDES_B.NEXT_INCLUDES$;

   1300 44 000767   211041 470500                    LDP0    INCL$,,AUTO
        44 000770   000000 236100                    LDQ     0,,PR0
        44 000771   211112 756100                    STQ     NEXT_INCL$,,AUTO

      472     1301    6                    SUB_INCL$=INCL$->INCLUDES_B.INCL$;

   1301 44 000772   000001 236100                    LDQ     1,,PR0
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:74   
        44 000773   211113 756100                    STQ     SUB_INCL$,,AUTO

      473     1302
      474     1303    7   SET_TYPE_CASE:   DO CASE(SUB_INCL$->INCL_B.SET_STATE);

   1303 44 000774   211113 471500       SET_TYPE_CA* LDP1    SUB_INCL$,,AUTO
        44 000775   100002 236100                    LDQ     2,,PR1
        44 000776   000033 772000                    QRL     27
        44 000777   000002 116007                    CMPQ    2,DL
        44 001000   001002 602006 44                 TNC     SET_TYPE_CASE+6,QL
        44 001001   001032 710000 44                 TRA     s:1318
        44 001002   001004 710000 44                 TRA     s:1307
        44 001003   001047 710000 44                 TRA     s:1326

      475     1304
      476     1305    7                     CASE(SET_STATE_CALC);

      477     1306    7                     CASE(SET_STATE_UNCALC);

      478     1307    7                       CALL BITZAP(SUB_INCL$->INCL_B.SET,SET_LENGTHB);

   1307 44 001004   000031 236000 45                 LDQ     25
        44 001005   221675 756100                    STQ     @P#+2,,AUTO
        44 001006   211113 236100                    LDQ     SUB_INCL$,,AUTO
        44 001007   000003 036003                    ADLQ    3,DU
        44 001010   221674 756100                    STQ     @P#+1,,AUTO
        44 001011   221674 630500                    EPPR0   @P#+1,,AUTO
        44 001012   000001 631400 45                 EPPR1   1
        44 001013   000000 701000 xent               TSX1    BITZAP
        44 001014   000000 011000                    NOP     0

      479     1308    7                       INCL_STK(STKD)=SUB_INCL$;

   1308 44 001015   211113 236100                    LDQ     SUB_INCL$,,AUTO
        44 001016   211037 720100                    LXL0    STKD,,AUTO
        44 001017   200355 756110                    STQ     INCL_STK,X0,AUTO

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:75   
      480     1309    7                       INCLUDES_STK(STKD)=SUB_INCL$->INCL_B.INCL_HEAD$;

   1309 44 001020   211113 470500                    LDP0    SUB_INCL$,,AUTO
        44 001021   000000 236100                    LDQ     0,,PR0
        44 001022   204606 756110                    STQ     INCLUDES_STK,X0,AUTO

      481     1310    7                       INCL$=INCLUDES_STK(STKD);

   1310 44 001023   211041 756100                    STQ     INCL$,,AUTO

      482     1311    7                       STKD=STKD+1;

   1311 44 001024   211037 054100                    AOS     STKD,,AUTO

      483     1312    7                       SUB_INCL$->INCL_B.SET_STATE=STKD+1;

   1312 44 001025   211037 236100                    LDQ     STKD,,AUTO
        44 001026   000001 036007                    ADLQ    1,DL
        44 001027   000033 736000                    QLS     27
        44 001030   000002 552140                    STBQ    2,'40'O,PR0
        44 001031   001051 710000 44                 TRA     s:1331

      484     1313    7                     CASE(ELSE);

      485     1314
      486     1315        /* I now have an equivalence set consisting of
      487     1316            various INCL sets. They are all equal */
      488     1317
      489     1318    7                       NEWLEV=SUB_INCL$->INCL_B.SET_STATE;

   1318 44 001032   211116 756100                    STQ     NEWLEV,,AUTO

      490     1319
      491     1320    8                       DO KSTK=NEWLEV-1 TO STKD;

   1320 44 001033   000001 136007                    SBLQ    1,DL
        44 001034   211115 756100                    STQ     KSTK,,AUTO
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:76   
        44 001035   001044 710000 44                 TRA     s:1322+1

      492     1321    8                          INCL_STK(KSTK-1)->INCL_B.SET_STATE=NEWLEV;

   1321 44 001036   211115 720100                    LXL0    KSTK,,AUTO
        44 001037   200354 470510                    LDP0    @CLASHED_TERM#,X0,AUTO
        44 001040   211116 236100                    LDQ     NEWLEV,,AUTO
        44 001041   000033 736000                    QLS     27
        44 001042   000002 552140                    STBQ    2,'40'O,PR0

      493     1322    8                          END;

   1322 44 001043   211115 054100                    AOS     KSTK,,AUTO
        44 001044   211115 236100                    LDQ     KSTK,,AUTO
        44 001045   211037 116100                    CMPQ    STKD,,AUTO
        44 001046   001036 604400 44                 TMOZ    s:1321

      494     1323
      495     1324    7                     END SET_TYPE_CASE;

      496     1325
      497     1326    6                    END DESCEND_DOWN;

   1326 44 001047   001051 710000 44                 TRA     s:1331

      498     1327    5                 ELSE
      499     1328
      500     1329    5                    MORE_INCLS=FALSE;

   1329 44 001050   211117 450100                    STZ     MORE_INCLS,,AUTO

      501     1330
      502     1331    5                 END EQUIV_PATH;

   1331 44 001051   211117 234100                    SZN     MORE_INCLS,,AUTO
        44 001052   000725 604000 44                 TMI     s:1276

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:77   
      503     1332
      504     1333        /* all INCLUDES sets needed by the current include set have been
      505     1334          calculated. Now calculate the master set including all of these. */
      506     1335
      507     1336    4              CALL BITZAP(SET_TEMP,SET_LENGTHB);

   1336 44 001053   000031 236000 45                 LDQ     25
        44 001054   221675 756100                    STQ     @P#+2,,AUTO
        44 001055   211043 630500                    EPPR0   SET_TEMP,,AUTO
        44 001056   221674 450500                    STP0    @P#+1,,AUTO
        44 001057   221674 630500                    EPPR0   @P#+1,,AUTO
        44 001060   000001 631400 45                 EPPR1   1
        44 001061   000000 701000 xent               TSX1    BITZAP
        44 001062   000000 011000                    NOP     0

      508     1337    4              NEWLEV=INCL_STK(STKD-1)->INCL_B.SET_STATE;

   1337 44 001063   211037 720100                    LXL0    STKD,,AUTO
        44 001064   200354 470510                    LDP0    @CLASHED_TERM#,X0,AUTO
        44 001065   000002 236100                    LDQ     2,,PR0
        44 001066   000033 772000                    QRL     27
        44 001067   211116 756100                    STQ     NEWLEV,,AUTO

      509     1338
      510     1339    5   OR_ALL_MEMBERS:DO KSTK=NEWLEV-1 TO STKD;

   1339 44 001070   000001 136007       OR_ALL_MEMB* SBLQ    1,DL
        44 001071   211115 756100                    STQ     KSTK,,AUTO
        44 001072   001155 710000 44                 TRA     s:1362+1

      511     1340
      512     1341
      513     1342    5                 INCL$=INCL_STK(KSTK-1);

   1342 44 001073   211115 720100                    LXL0    KSTK,,AUTO
        44 001074   200354 236110                    LDQ     @CLASHED_TERM#,X0,AUTO
        44 001075   211041 756100                    STQ     INCL$,,AUTO
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:78   

      514     1343
      515     1344    5                 NEXT_INCL$=INCL$->INCL_B.INCL_HEAD$;

   1344 44 001076   211041 470500                    LDP0    INCL$,,AUTO
        44 001077   000000 236100                    LDQ     0,,PR0
        44 001100   211112 756100                    STQ     NEXT_INCL$,,AUTO

      516     1345
      517     1346    5                 SET$=INCL$->INCL_B.KEY$->KEY_B.SET$;

   1346 44 001101   000001 471500                    LDP1    1,,PR0
        44 001102   100002 236100                    LDQ     2,,PR1
        44 001103   211042 756100                    STQ     SET$,,AUTO

      518     1347    5                 IF SET$~=ADDR(NIL) THEN

   1347 44 001104   000013 116000 45                 CMPQ    11
        44 001105   001131 600000 44                 TZE     s:1355

      519     1348    6                  DO;

      520     1349    6                  IF INCL$ -> INCL_B.KEY$ -> KEY_B.W.SET_STATE = SET_STATE_UNCALC THEN

   1349 44 001106   100005 236100                    LDQ     5,,PR1
        44 001107   777000 316003                    CANQ    -512,DU
        44 001110   001117 601000 44                 TNZ     s:1352

      521     1350    6                    CALL NULLABLE_TREE(INCL$ -> INCL_B.KEY$ -> KEY_B.KEY_VAL$ ->
              1350                             C_SET_B,

   1350 44 001111   100003 473500                    LDP3    3,,PR1
        44 001112   200354 236100                    LDQ     @CLASHED_TERM#,,AUTO
        44 001113   211124 756100                    STQ     @CLASHED_TERM#,,AUTO
        44 001114   211123 453500                    STP3    @C_SETA,,AUTO
        44 001115   000366 701000 44                 TSX1    NULLABLE_TREE
        44 001116   000000 011000                    NOP     0
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:79   

      522     1351    6                                       CLASHED_TERM#);
      523     1352    6                   CALL BITOR(SET_TEMP,SET$->SB.SET_B,SET_LENGTHB);

   1352 44 001117   000031 236000 45                 LDQ     25
        44 001120   221676 756100                    STQ     @P#+3,,AUTO
        44 001121   211042 236100                    LDQ     SET$,,AUTO
        44 001122   221675 756100                    STQ     @P#+2,,AUTO
        44 001123   211043 630500                    EPPR0   SET_TEMP,,AUTO
        44 001124   221674 450500                    STP0    @P#+1,,AUTO
        44 001125   221674 630500                    EPPR0   @P#+1,,AUTO
        44 001126   000011 631400 45                 EPPR1   9
        44 001127   000000 701000 xent               TSX1    BITOR
        44 001130   000000 011000                    NOP     0

      524     1353    6                  END;

      525     1354
      526     1355    6                 DO WHILE(NEXT_INCL$~=ADDR(NIL));

   1355 44 001131   001151 710000 44                 TRA     s:1360

      527     1356    6                    CALL BITOR(SET_TEMP,

   1356 44 001132   211112 470500                    LDP0    NEXT_INCL$,,AUTO
        44 001133   000001 471500                    LDP1    1,,PR0
        44 001134   000031 236000 45                 LDQ     25
        44 001135   221676 756100                    STQ     @P#+3,,AUTO
        44 001136   100003 633500                    EPPR3   3,,PR1
        44 001137   221675 453500                    STP3    @P#+2,,AUTO
        44 001140   211043 631500                    EPPR1   SET_TEMP,,AUTO
        44 001141   221674 451500                    STP1    @P#+1,,AUTO
        44 001142   221674 630500                    EPPR0   @P#+1,,AUTO
        44 001143   000011 631400 45                 EPPR1   9
        44 001144   000000 701000 xent               TSX1    BITOR
        44 001145   000000 011000                    NOP     0

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:80   
      528     1357    6                      NEXT_INCL$->INCLUDES_B.INCL$->INCL_B.SET,
      529     1358    6                      SET_LENGTHB);
      530     1359    6                    NEXT_INCL$=NEXT_INCL$->INCLUDES_B.NEXT_INCLUDES$;

   1359 44 001146   211112 470500                    LDP0    NEXT_INCL$,,AUTO
        44 001147   000000 236100                    LDQ     0,,PR0
        44 001150   211112 756100                    STQ     NEXT_INCL$,,AUTO

      531     1360    6                    END;

   1360 44 001151   211112 236100                    LDQ     NEXT_INCL$,,AUTO
        44 001152   000013 116000 45                 CMPQ    11
        44 001153   001132 601000 44                 TNZ     s:1356

      532     1361
      533     1362    5                 END OR_ALL_MEMBERS;

   1362 44 001154   211115 054100                    AOS     KSTK,,AUTO
        44 001155   211115 236100                    LDQ     KSTK,,AUTO
        44 001156   211037 116100                    CMPQ    STKD,,AUTO
        44 001157   001073 604400 44                 TMOZ    s:1342

      534     1363
      535     1364    5   MOVE_ALL_MEMBERS:DO KSTK=NEWLEV-1 TO STKD;

   1364 44 001160   211116 235100       MOVE_ALL_ME* LDA     NEWLEV,,AUTO
        44 001161   000001 135007                    SBLA    1,DL
        44 001162   211115 755100                    STA     KSTK,,AUTO
        44 001163   001206 710000 44                 TRA     s:1372+1

      536     1365
      537     1366    5                 INCL$=INCL_STK(KSTK-1);

   1366 44 001164   211115 720100                    LXL0    KSTK,,AUTO
        44 001165   200354 236110                    LDQ     @CLASHED_TERM#,X0,AUTO
        44 001166   211041 756100                    STQ     INCL$,,AUTO

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:81   
      538     1367
      539     1368    5                 INCL$->INCL_B.SET_STATE=SET_STATE_CALC;

   1368 44 001167   211041 470500                    LDP0    INCL$,,AUTO
        44 001170   001000 236003                    LDQ     512,DU
        44 001171   000002 552140                    STBQ    2,'40'O,PR0

      540     1369
      541     1370    5                 CALL BITMOVE(INCL$->INCL_B.SET,SET_TEMP,SET_LENGTHB);

   1370 44 001172   000031 236000 45                 LDQ     25
        44 001173   221676 756100                    STQ     @P#+3,,AUTO
        44 001174   211043 631500                    EPPR1   SET_TEMP,,AUTO
        44 001175   221675 451500                    STP1    @P#+2,,AUTO
        44 001176   211041 236100                    LDQ     INCL$,,AUTO
        44 001177   000003 036003                    ADLQ    3,DU
        44 001200   221674 756100                    STQ     @P#+1,,AUTO
        44 001201   221674 630500                    EPPR0   @P#+1,,AUTO
        44 001202   000011 631400 45                 EPPR1   9
        44 001203   000000 701000 xent               TSX1    BITMOVE
        44 001204   000000 011000                    NOP     0

      542     1371
      543     1372    5                 END MOVE_ALL_MEMBERS;

   1372 44 001205   211115 054100                    AOS     KSTK,,AUTO
        44 001206   211115 236100                    LDQ     KSTK,,AUTO
        44 001207   211037 116100                    CMPQ    STKD,,AUTO
        44 001210   001164 604400 44                 TMOZ    s:1366

      544     1373
      545     1374    4              STKD=NEWLEV-2;

   1374 44 001211   211116 235100                    LDA     NEWLEV,,AUTO
        44 001212   000002 135007                    SBLA    2,DL
        44 001213   211037 755100                    STA     STKD,,AUTO

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:82   
      546     1375
      547     1376    4              END WHILE_STKD;

   1376 44 001214   000721 605400 44                 TPNZ    s:1272

      548     1377
      549     1378    3   END INCL_CALC;

   1378 44 001215   211040 221300                    LDX1  ! STKD+1,,AUTO
        44 001216   000001 702211                    TSX2  ! 1,X1

      550     1379
      551     1380        /* Push the FOLLOW set header onto the stack */
      552     1381    2           STKD=1;

   1381 44 001217   000001 235007                    LDA     1,DL
        44 001220   211037 755100                    STA     STKD,,AUTO

      553     1382    2           INCL_STK(0)=KEY.FOLLOW$;

   1382 44 001221   200353 470500                    LDP0    @KEY,,AUTO
        44 001222   000003 236100                    LDQ     3,,PR0
        44 001223   200355 756100                    STQ     INCL_STK,,AUTO

      554     1383    2           INCLUDES_STK(0)=KEY.FOLLOW$->INCL_B.INCL_HEAD$;

   1383 44 001224   000003 471500                    LDP1    3,,PR0
        44 001225   100000 236100                    LDQ     0,,PR1
        44 001226   204606 756100                    STQ     INCLUDES_STK,,AUTO

      555     1384    2           CALL BITZAP(KEY.FOLLOW$->INCL_B.SET,SET_LENGTHB);

   1384 44 001227   000031 236000 45                 LDQ     25
        44 001230   221675 756100                    STQ     @P#+2,,AUTO
        44 001231   100003 633500                    EPPR3   3,,PR1
        44 001232   221674 453500                    STP3    @P#+1,,AUTO
        44 001233   221674 630500                    EPPR0   @P#+1,,AUTO
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:83   
        44 001234   000001 631400 45                 EPPR1   1
        44 001235   000000 701000 xent               TSX1    BITZAP
        44 001236   000000 011000                    NOP     0

      556     1385    2           INCL_STK(0)->INCL_B.SET_STATE=STKD+1;

   1385 44 001237   200355 470500                    LDP0    INCL_STK,,AUTO
        44 001240   211037 236100                    LDQ     STKD,,AUTO
        44 001241   000001 036007                    ADLQ    1,DL
        44 001242   000033 736000                    QLS     27
        44 001243   000002 552140                    STBQ    2,'40'O,PR0

      557     1386    2           CALL INCL_CALC;

   1386 44 001244   000716 701000 44                 TSX1    INCL_CALC
        44 001245   000000 011000                    NOP     0

      558     1387
      559     1388    2   END LACALC;

   1388 44 001246   200352 221300                    LDX1  ! P+1,,AUTO
        44 001247   000001 702211                    TSX2  ! 1,X1

      560     1389        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:84   
      561     1390    1   LAMAIN: PROC;

   1390 44 001250   200056 741300       LAMAIN       STX1  ! CLASHED_PROD_SET+43,,AUTO
        44 001251   001725 710000 44                 TRA     ON_ALL_CONFIGS

      562     1391
      563     1392    2   DCL C$                         PTR;
      564     1393    2   DCL I                          SBIN;
      565     1394    2   DCL P                          SBIN;
      566     1395    2   DCL FP                         SBIN;
      567     1396    2   DCL SA                         SBIN;
      568     1397    2   DCL SA$                        PTR;
      569     1398    2   DCL F$                         PTR;
      570     1399    2   DCL G$                         PTR;
      571     1400    2   DCL BS$                        PTR;
      572     1401    2   DCL J                          SBIN;
      573     1402    2   DCL PF                         SBIN;
      574     1403    2   DCL REDUCTIONS                 BOOLEAN;
      575     1404    2   DCL REDUCT_OR(0:NR_SYMS_MAX)   BOOLEAN;
      576     1405    2   DCL REDUCT_CLASH(0:NR_SYMS_MAX) BOOLEAN;
      577     1406    2   DCL READ_REDUCT_CLASH(0:NR_SYMS_MAX) BOOLEAN;
      578     1407    2   DCL TERMINALS                  BOOLEAN;
      579     1408    2   DCL RESULT                     BOOLEAN;
      580     1409    2   DCL SET_TEMP(0:NR_SYMS_MAX)    BOOLEAN ;
      581     1410        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:85   
      582     1411    2   LATRACE : PROC(C#,C$,ELEM#,CLASHED_TERM#);

   1411 44 001252   200334 741300       LATRACE      STX1  ! @PROD_NO,,AUTO

      583     1412
      584     1413        /* A CLASH HAS BEEN DETECTED;
      585     1414           DUPLICATE THE CALCULATION OF THE LOOKAHEAD SET
      586     1415           SUCH THAT ALL PRODUCTIONS CONTRIBUTING TO THE
      587     1416           CLASH MAY BE MARKED AND DUMPED FOR THE UNFORTUNATE USER.
      588     1417        */
      589     1418
      590     1419    3   DCL C# SBIN                /* CONFIGURATION SET NUMBER */;
      591     1420    3   DCL C$ PTR                 /* POINTER TO THE CONFIGURATION SET */;
      592     1421    3   DCL ELEM# SBIN             /* ELEMENT NUMBER IN CONFIGURATION SET */;
      593     1422    3   DCL CLASHED_TERM# SBIN     /* TERMINAL SYMBOL THAT IS CLASHED */;
      594     1423
      595     1424    3   DCL Z# SBIN;
      596     1425    3   DCL I SBIN;
      597     1426    3   DCL J SBIN;
      598     1427    3   DCL SA SBIN;
      599     1428    3   DCL K SBIN;
      600     1429    3   DCL Z$ PTR;
      601     1430    3   DCL K$ PTR;
      602     1431    3   DCL S$ PTR;
      603     1432    3   DCL P SBIN;
      604     1433
      605     1434        /* Say that all includes, follow, read sets have not been calculated
      606     1435           Note: The sets are still present, only the indicators saying
      607     1436                   that they have not been calculated yet are changed.
      608     1437        */
      609     1438    4       DO Z#=0 TO NR_CONFIG - 1;

   1438 44 001253   200341 450100                    STZ     Z#,,AUTO
        44 001254   001322 710000 44                 TRA     s:1452+1

      610     1439    4         Z$ = C#_TO_$(Z#);

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:86   
   1439 44 001255   200341 720100                    LXL0    Z#,,AUTO
        44 001256   000000 236010 36                 LDQ     C#_TO_$,X0
        44 001257   200346 756100                    STQ     Z$,,AUTO

      611     1440    5         DO I = Z$->C_SET_B.NR_ELEM -1 DOWNTO 0;

   1440 44 001260   200346 470500                    LDP0    Z$,,AUTO
        44 001261   000001 236100                    LDQ     1,,PR0
        44 001262   777777 376007                    ANQ     -1,DL
        44 001263   000001 136007                    SBLQ    1,DL
        44 001264   200342 756100                    STQ     I,,AUTO
        44 001265   001317 710000 44                 TRA     s:1451+2

      612     1441    5           K$ = Z$->C_SET_B.ELEM.KEY$(I);

   1441 44 001266   200342 235100                    LDA     I,,AUTO
        44 001267   000002 735000                    ALS     2
        44 001270   200346 470500                    LDP0    Z$,,AUTO
        44 001271   000004 236105                    LDQ     4,AL,PR0
        44 001272   200347 756100                    STQ     K$,,AUTO

      613     1442    5           IF K$ ~= ADDR(NIL) THEN

   1442 44 001273   000013 116000 45                 CMPQ    11
        44 001274   001304 600000 44                 TZE     s:1448

      614     1443    6             DO;

      615     1444    6               K$->KEY_B.W.SET_STATE = SET_STATE_UNCALC;

   1444 44 001275   200347 471500                    LDP1    K$,,AUTO
        44 001276   000000 236003                    LDQ     0,DU
        44 001277   100005 552140                    STBQ    5,'40'O,PR1

      616     1445    6               IF K$ -> KEY_B.W.SYM_AFTER = 0 THEN

   1445 44 001300   100004 235100                    LDA     4,,PR1
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:87   
        44 001301   001304 601000 44                 TNZ     s:1448

      617     1446    6                 K$->KEY_B.FOLLOW$ -> INCL_B.SET_STATE = SET_STATE_UNCALC;

   1446 44 001302   100003 473500                    LDP3    3,,PR1
        44 001303   300002 552140                    STBQ    2,'40'O,PR3

      618     1447    6             END;

      619     1448    5           K$ = Z$->C_SET_B.ELEM.INCL$(I);

   1448 44 001304   200342 235100                    LDA     I,,AUTO
        44 001305   000002 735000                    ALS     2
        44 001306   000005 236105                    LDQ     5,AL,PR0
        44 001307   200347 756100                    STQ     K$,,AUTO

      620     1449    5           IF K$ ~= ADDR(NIL) THEN

   1449 44 001310   000013 116000 45                 CMPQ    11
        44 001311   001315 600000 44                 TZE     s:1451

      621     1450    5             K$ -> INCL_B.SET_STATE = SET_STATE_UNCALC;

   1450 44 001312   200347 471500                    LDP1    K$,,AUTO
        44 001313   000000 236003                    LDQ     0,DU
        44 001314   100002 552140                    STBQ    2,'40'O,PR1

      622     1451    5         END /* DO I */;

   1451 44 001315   000001 336007                    LCQ     1,DL
        44 001316   200342 056100                    ASQ     I,,AUTO
        44 001317   200342 235100                    LDA     I,,AUTO
        44 001320   001266 605000 44                 TPL     s:1441

      623     1452    4       END /* DO Z# */;

   1452 44 001321   200341 054100                    AOS     Z#,,AUTO
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:88   
        44 001322   200341 236100                    LDQ     Z#,,AUTO
        44 001323   000000 116000 37                 CMPQ    NR_CONFIG
        44 001324   001255 604000 44                 TMI     s:1439

      624     1453
      625     1454    4       DO I = 0 TO %NR_PROD_MAX;

   1454 44 001325   200342 450100                    STZ     I,,AUTO

      626     1455    4         CLASHED_PROD_SET(I) = FALSE;

   1455 44 001326   200342 235100                    LDA     I,,AUTO
        44 001327   001331 605000 44                 TPL     s:1455+3
        44 001330   000044 035003                    ADLA    36,DU
        44 001331   003105 060400                    CSL     bolr='003'O
        44 001332   000005 000001 45                 BDSC    5                        by=0,bit=0,n=1
        44 001333   200003 000001                    BDSC    CLASHED_PROD_SET,A,AUTO  by=0,bit=0,n=1

      627     1456    4       END;

   1456 44 001334   200342 054100                    AOS     I,,AUTO
        44 001335   200342 235100                    LDA     I,,AUTO
        44 001336   002734 115007                    CMPA    1500,DL
        44 001337   001326 604400 44                 TMOZ    s:1455

      628     1457
      629     1458            /* NOW RECALCULATE EVERYTHING FROM SCRATCH */
      630     1459    3       CALL LACALC(C$->C_SET_B.ELEM.KEY$(ELEM#)->KEY_B,CLASHED_TERM#);

   1459 44 001340   200336 470500                    LDP0    @C$,,AUTO
        44 001341   000000 471500                    LDP1    0,,PR0
        44 001342   200337 473500                    LDP3    @ELEM#,,AUTO
        44 001343   300000 235100                    LDA     0,,PR3
        44 001344   000002 735000                    ALS     2
        44 001345   100004 474505                    LDP4    4,AL,PR1
        44 001346   200340 236100                    LDQ     @CLASHED_TERM#,,AUTO
        44 001347   200354 756100                    STQ     @CLASHED_TERM#,,AUTO
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:89   
        44 001350   200353 454500                    STP4    @KEY,,AUTO
        44 001351   000714 701000 44                 TSX1    LACALC
        44 001352   000000 011000                    NOP     0

      631     1460
      632     1461    3   END LATRACE;

   1461 44 001353   200334 221300                    LDX1  ! @PROD_NO,,AUTO
        44 001354   000001 702211                    TSX2  ! 1,X1

      633     1462        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:90   
      634     1463    2   LADIAG : PROC;

   1463 44 001355   200332 741300       LADIAG       STX1  ! SET_TEMP+40,,AUTO

      635     1464
      636     1465    3   DCL T SBIN WORD;
      637     1466
      638     1467    3   DCL OUT_SYMBOL ENTRY(1);
      639     1468    3   DCL OUT_SYMBOL_TOKEN ENTRY(1);
      640     1469    3   DCL OUT_STR ENTRY(2);
      641     1470    3   DCL FLUSH ENTRY;
      642     1471    3   DCL OUT_DEC ENTRY(1);
      643     1472    3   DCL PRINT_DERIVATION ENTRY(4);
      644     1473    3   DCL PRINT_PROD ENTRY(3);
      645     1474
      646     1475        /* PRINT A DIAGNOSTIC ABOUT THE AMBIGUOUS STATE DETECTED */
      647     1476
      648     1477    3   CALL DIAG(1,' %%');

   1477 44 001356   000033 630400 45                 EPPR0   27
        44 001357   000001 631400 45                 EPPR1   1
        44 001360   000000 701000 xent               TSX1    DIAG
        44 001361   000000 011000                    NOP     0

      649     1478
      650     1479        %SELECT_LO;

   1480 44 001362   000000 236007 xsym               LDQ     M$LO,DL
        44 001363   000000 756000 0                  STQ     OUT_DCBN

      651     1482
      652     1483        %OUTLINE(S="' '");

   1485 44 001364   000036 630400 45                 EPPR0   30
        44 001365   000001 631400 45                 EPPR1   1
        44 001366   000000 701000 xent               TSX1    OUT_STR
        44 001367   000000 011000                    NOP     0
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:91   

   1486 44 001370   000005 631400 45                 EPPR1   5
        44 001371   000000 701000 xent               TSX1    FLUSH
        44 001372   000000 011000                    NOP     0

      653     1489        %OUT_STR(S="'ERROR => STATE #'");

   1490 44 001373   000041 630400 45                 EPPR0   33
        44 001374   000001 631400 45                 EPPR1   1
        44 001375   000000 701000 xent               TSX1    OUT_STR
        44 001376   000000 011000                    NOP     0

      654     1492    3   CALL OUT_DEC(I);

   1492 44 001377   200060 630500                    EPPR0   I,,AUTO
        44 001400   221674 450500                    STP0    @P#+1,,AUTO
        44 001401   221674 630500                    EPPR0   @P#+1,,AUTO
        44 001402   000043 631400 45                 EPPR1   35
        44 001403   000000 701000 xent               TSX1    OUT_DEC
        44 001404   000000 011000                    NOP     0

      655     1493        %OUTLINE(S="' IS AMBIGUOUS.'");

   1495 44 001405   000045 630400 45                 EPPR0   37
        44 001406   000001 631400 45                 EPPR1   1
        44 001407   000000 701000 xent               TSX1    OUT_STR
        44 001410   000000 011000                    NOP     0

   1496 44 001411   000005 631400 45                 EPPR1   5
        44 001412   000000 701000 xent               TSX1    FLUSH
        44 001413   000000 011000                    NOP     0

      656     1499        %OUTLINE(S="' '");

   1501 44 001414   000036 630400 45                 EPPR0   30
        44 001415   000001 631400 45                 EPPR1   1
        44 001416   000000 701000 xent               TSX1    OUT_STR
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:92   
        44 001417   000000 011000                    NOP     0

   1502 44 001420   000005 631400 45                 EPPR1   5
        44 001421   000000 701000 xent               TSX1    FLUSH
        44 001422   000000 011000                    NOP     0

      657     1505
      658     1506    4   DO T = 1 TO NR_TERM;

   1506 44 001423   000001 235007                    LDA     1,DL
        44 001424   200333 755100                    STA     T,,AUTO
        44 001425   001712 710000 44                 TRA     s:1574+1

      659     1507
      660     1508    4     IF READ_REDUCT_CLASH(T) THEN

   1508 44 001426   200333 235100                    LDA     T,,AUTO
        44 001427   001431 605000 44                 TPL     s:1508+3
        44 001430   000044 035003                    ADLA    36,DU
        44 001431   000000 066505                    CMPB    filb='0'B
        44 001432   200211 000001                    BDSC    READ_REDUCT_CLASH,A,AUTO by=0,bit=0,n=1
        44 001433   000005 000022 45                 BDSC    5                        by=0,bit=0,n=18
        44 001434   001711 600000 44                 TZE     s:1574

      661     1509    5       DO;

      662     1510    5         CALL DIAG(7,' %%');

   1510 44 001435   000050 630400 45                 EPPR0   40
        44 001436   000001 631400 45                 EPPR1   1
        44 001437   000000 701000 xent               TSX1    DIAG
        44 001440   000000 011000                    NOP     0

      663     1511              %OUT_STR(S="'  For symbol '");

   1512 44 001441   000053 630400 45                 EPPR0   43
        44 001442   000001 631400 45                 EPPR1   1
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:93   
        44 001443   000000 701000 xent               TSX1    OUT_STR
        44 001444   000000 011000                    NOP     0

      664     1514    5         CALL OUT_SYMBOL(SYM_PTRS(T));

   1514 44 001445   200333 720100                    LXL0    T,,AUTO
        44 001446   000000 630410 6                  EPPR0   SYM_PTRS,X0
        44 001447   221674 450500                    STP0    @P#+1,,AUTO
        44 001450   221674 630500                    EPPR0   @P#+1,,AUTO
        44 001451   000043 631400 45                 EPPR1   35
        44 001452   000000 701000 xent               TSX1    OUT_SYMBOL
        44 001453   000000 011000                    NOP     0

      665     1515              %OUTLINE(S="', one cannot tell which production to use:'");

   1517 44 001454   000056 630400 45                 EPPR0   46
        44 001455   000001 631400 45                 EPPR1   1
        44 001456   000000 701000 xent               TSX1    OUT_STR
        44 001457   000000 011000                    NOP     0

   1518 44 001460   000005 631400 45                 EPPR1   5
        44 001461   000000 701000 xent               TSX1    FLUSH
        44 001462   000000 011000                    NOP     0

      666     1521              %OUTLINE(S="' '");

   1523 44 001463   000036 630400 45                 EPPR0   30
        44 001464   000001 631400 45                 EPPR1   1
        44 001465   000000 701000 xent               TSX1    OUT_STR
        44 001466   000000 011000                    NOP     0

   1524 44 001467   000005 631400 45                 EPPR1   5
        44 001470   000000 701000 xent               TSX1    FLUSH
        44 001471   000000 011000                    NOP     0

      667     1527
      668     1528    6         DO J = 0 TO C#_TO_$(I) -> C_SET_B.NR_ELEM - 1;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:94   

   1528 44 001472   200070 450100                    STZ     J,,AUTO
        44 001473   001703 710000 44                 TRA     s:1572+1

      669     1529
      670     1530    6           IF (C#_TO_$(I) -> C_SET_B.ELEM.KEY$(J) -> KEY_B.W.SYM_AFTER = 0) THEN

   1530 44 001474   200060 720100                    LXL0    I,,AUTO
        44 001475   000000 470410 36                 LDP0    C#_TO_$,X0
        44 001476   200070 235100                    LDA     J,,AUTO
        44 001477   000002 735000                    ALS     2
        44 001500   000004 471505                    LDP1    4,AL,PR0
        44 001501   100004 235100                    LDA     4,,PR1
        44 001502   001614 601000 44                 TNZ     s:1554

      671     1531    7             DO;

      672     1532    7               IF C#_TO_$(I) -> C_SET_B.ELEM.KEY$(J) -> KEY_B.FOLLOW$ -> INCL_B.SET(T)
              1532                        THEN

   1532 44 001503   200070 235100                    LDA     J,,AUTO
        44 001504   000002 735000                    ALS     2
        44 001505   000004 471505                    LDP1    4,AL,PR0
        44 001506   100003 473500                    LDP3    3,,PR1
        44 001507   200333 236100                    LDQ     T,,AUTO
        44 001510   001512 605000 44                 TPL     s:1532+7
        44 001511   000044 036003                    ADLQ    36,DU
        44 001512   000000 066506                    CMPB    filb='0'B
        44 001513   300003 000001                    BDSC    3,Q,PR3                  by=0,bit=0,n=1
        44 001514   000005 000022 45                 BDSC    5                        by=0,bit=0,n=18
        44 001515   001702 600000 44                 TZE     s:1572

      673     1533    8                 DO;

      674     1534                        %OUT_STR(S="'    '");

   1535 44 001516   000061 630400 45                 EPPR0   49
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:95   
        44 001517   000001 631400 45                 EPPR1   1
        44 001520   000000 701000 xent               TSX1    OUT_STR
        44 001521   000000 011000                    NOP     0

      675     1537    8                   CALL PRINT_PROD(BINBIT(C#_TO_$(I) -> C_SET_B.ELEM.KEY$(J) ->
      676     1538    8                                          KEY_B.ELEM.PROD(0),36),
      677     1539    8                                   BINBIT(C#_TO_$(I) -> C_SET_B.ELEM.KEY$(J) ->
      678     1540    8                                          KEY_B.ELEM.DOT_POS(0),36),

   1540 44 001522   200060 720100                    LXL0    I,,AUTO
        44 001523   000000 470410 36                 LDP0    C#_TO_$,X0
        44 001524   200070 235100                    LDA     J,,AUTO
        44 001525   000002 735000                    ALS     2
        44 001526   000004 471505                    LDP1    4,AL,PR0
        44 001527   100006 236100                    LDQ     6,,PR1
        44 001530   000022 772000                    QRL     18
        44 001531   221674 756100                    STQ     @P#+1,,AUTO
        44 001532   100006 236100                    LDQ     6,,PR1
        44 001533   777777 376007                    ANQ     -1,DL
        44 001534   221700 756100                    STQ     @P#+5,,AUTO
        44 001535   221674 236100                    LDQ     @P#+1,,AUTO
        44 001536   221676 756100                    STQ     @P#+3,,AUTO
        44 001537   221700 236100                    LDQ     @P#+5,,AUTO
        44 001540   221702 756100                    STQ     @P#+7,,AUTO
        44 001541   000063 236000 45                 LDQ     51
        44 001542   221706 756100                    STQ     @P#+11,,AUTO
        44 001543   221702 631500                    EPPR1   @P#+7,,AUTO
        44 001544   221705 451500                    STP1    @P#+10,,AUTO
        44 001545   221676 633500                    EPPR3   @P#+3,,AUTO
        44 001546   221704 453500                    STP3    @P#+9,,AUTO
        44 001547   221704 630500                    EPPR0   @P#+9,,AUTO
        44 001550   000011 631400 45                 EPPR1   9
        44 001551   000000 701000 xent               TSX1    PRINT_PROD
        44 001552   000000 011000                    NOP     0

      679     1541    8                                   TRUE);
      680     1542    8                   CALL PRINT_DERIVATION(I,J,0,T);
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:96   

   1542 44 001553   200333 630500                    EPPR0   T,,AUTO
        44 001554   221677 450500                    STP0    @P#+4,,AUTO
        44 001555   000012 236000 45                 LDQ     10
        44 001556   221676 756100                    STQ     @P#+3,,AUTO
        44 001557   200070 631500                    EPPR1   J,,AUTO
        44 001560   221675 451500                    STP1    @P#+2,,AUTO
        44 001561   200060 633500                    EPPR3   I,,AUTO
        44 001562   221674 453500                    STP3    @P#+1,,AUTO
        44 001563   221674 630500                    EPPR0   @P#+1,,AUTO
        44 001564   000064 631400 45                 EPPR1   52
        44 001565   000000 701000 xent               TSX1    PRINT_DERIVATION
        44 001566   000000 011000                    NOP     0

      681     1543    8                   CALL LATRACE(I,C#_TO_$(I),J,T);

   1543 44 001567   200333 630500                    EPPR0   T,,AUTO
        44 001570   200340 450500                    STP0    @CLASHED_TERM#,,AUTO
        44 001571   200070 631500                    EPPR1   J,,AUTO
        44 001572   200337 451500                    STP1    @ELEM#,,AUTO
        44 001573   200060 720100                    LXL0    I,,AUTO
        44 001574   000000 633410 36                 EPPR3   C#_TO_$,X0
        44 001575   200336 453500                    STP3    @C$,,AUTO
        44 001576   200060 634500                    EPPR4   I,,AUTO
        44 001577   200335 454500                    STP4    @C#,,AUTO
        44 001600   001252 701000 44                 TSX1    LATRACE
        44 001601   000000 011000                    NOP     0

      682     1544    8                   CALL PRINT_CONTRIB_PROD;

   1544 44 001602   000043 701000 44                 TSX1    PRINT_CONTRIB_PROD
        44 001603   000000 011000                    NOP     0

      683     1545                        %OUTLINE(S="' '");

   1547 44 001604   000036 630400 45                 EPPR0   30
        44 001605   000001 631400 45                 EPPR1   1
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:97   
        44 001606   000000 701000 xent               TSX1    OUT_STR
        44 001607   000000 011000                    NOP     0

   1548 44 001610   000005 631400 45                 EPPR1   5
        44 001611   000000 701000 xent               TSX1    FLUSH
        44 001612   000000 011000                    NOP     0

      684     1551    8                 END;

      685     1552    7             END;

   1552 44 001613   001702 710000 44                 TRA     s:1572

      686     1553    6           ELSE
      687     1554    6             IF C#_TO_$(I) -> C_SET_B.ELEM.KEY$(J) -> KEY_B.W.SYM_AFTER = T THEN

   1554 44 001614   200070 235100                    LDA     J,,AUTO
        44 001615   000002 735000                    ALS     2
        44 001616   000004 471505                    LDP1    4,AL,PR0
        44 001617   100004 236100                    LDQ     4,,PR1
        44 001620   200333 116100                    CMPQ    T,,AUTO
        44 001621   001702 601000 44                 TNZ     s:1572

      688     1555    7               DO;

      689     1556                        %OUT_STR(S="'    '");

   1557 44 001622   000061 630400 45                 EPPR0   49
        44 001623   000001 631400 45                 EPPR1   1
        44 001624   000000 701000 xent               TSX1    OUT_STR
        44 001625   000000 011000                    NOP     0

      690     1559    7                   CALL PRINT_PROD(BINBIT(C#_TO_$(I) -> C_SET_B.ELEM.KEY$(J) ->
      691     1560    7                                          KEY_B.ELEM.PROD(0),36),
      692     1561    7                                   BINBIT(C#_TO_$(I) -> C_SET_B.ELEM.KEY$(J) ->
      693     1562    7                                          KEY_B.ELEM.DOT_POS(0),36),

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:98   
   1562 44 001626   200060 720100                    LXL0    I,,AUTO
        44 001627   000000 470410 36                 LDP0    C#_TO_$,X0
        44 001630   200070 235100                    LDA     J,,AUTO
        44 001631   000002 735000                    ALS     2
        44 001632   000004 471505                    LDP1    4,AL,PR0
        44 001633   100006 236100                    LDQ     6,,PR1
        44 001634   000022 772000                    QRL     18
        44 001635   221674 756100                    STQ     @P#+1,,AUTO
        44 001636   100006 236100                    LDQ     6,,PR1
        44 001637   777777 376007                    ANQ     -1,DL
        44 001640   221700 756100                    STQ     @P#+5,,AUTO
        44 001641   221674 236100                    LDQ     @P#+1,,AUTO
        44 001642   221676 756100                    STQ     @P#+3,,AUTO
        44 001643   221700 236100                    LDQ     @P#+5,,AUTO
        44 001644   221702 756100                    STQ     @P#+7,,AUTO
        44 001645   000063 236000 45                 LDQ     51
        44 001646   221706 756100                    STQ     @P#+11,,AUTO
        44 001647   221702 631500                    EPPR1   @P#+7,,AUTO
        44 001650   221705 451500                    STP1    @P#+10,,AUTO
        44 001651   221676 633500                    EPPR3   @P#+3,,AUTO
        44 001652   221704 453500                    STP3    @P#+9,,AUTO
        44 001653   221704 630500                    EPPR0   @P#+9,,AUTO
        44 001654   000011 631400 45                 EPPR1   9
        44 001655   000000 701000 xent               TSX1    PRINT_PROD
        44 001656   000000 011000                    NOP     0

      694     1563    7                                   TRUE);
      695     1564    7                   CALL PRINT_DERIVATION(I,J,0,T);

   1564 44 001657   200333 630500                    EPPR0   T,,AUTO
        44 001660   221677 450500                    STP0    @P#+4,,AUTO
        44 001661   000012 236000 45                 LDQ     10
        44 001662   221676 756100                    STQ     @P#+3,,AUTO
        44 001663   200070 631500                    EPPR1   J,,AUTO
        44 001664   221675 451500                    STP1    @P#+2,,AUTO
        44 001665   200060 633500                    EPPR3   I,,AUTO
        44 001666   221674 453500                    STP3    @P#+1,,AUTO
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:99   
        44 001667   221674 630500                    EPPR0   @P#+1,,AUTO
        44 001670   000064 631400 45                 EPPR1   52
        44 001671   000000 701000 xent               TSX1    PRINT_DERIVATION
        44 001672   000000 011000                    NOP     0

      696     1565                        %OUTLINE(S="' '");

   1567 44 001673   000036 630400 45                 EPPR0   30
        44 001674   000001 631400 45                 EPPR1   1
        44 001675   000000 701000 xent               TSX1    OUT_STR
        44 001676   000000 011000                    NOP     0

   1568 44 001677   000005 631400 45                 EPPR1   5
        44 001700   000000 701000 xent               TSX1    FLUSH
        44 001701   000000 011000                    NOP     0

      697     1571    7               END;

      698     1572    6         END;

   1572 44 001702   200070 054100                    AOS     J,,AUTO
        44 001703   200060 720100                    LXL0    I,,AUTO
        44 001704   000000 470410 36                 LDP0    C#_TO_$,X0
        44 001705   000001 236100                    LDQ     1,,PR0
        44 001706   777777 376007                    ANQ     -1,DL
        44 001707   200070 116100                    CMPQ    J,,AUTO
        44 001710   001474 605400 44                 TPNZ    s:1530

      699     1573    5       END;

      700     1574    4   END;

   1574 44 001711   200333 054100                    AOS     T,,AUTO
        44 001712   200333 236100                    LDQ     T,,AUTO
        44 001713   000000 116000 11                 CMPQ    NR_TERM
        44 001714   001426 604400 44                 TMOZ    s:1508

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:100  
      701     1575
      702     1576    3   CALL CPRNT(I);

   1576 44 001715   200060 630500                    EPPR0   I,,AUTO
        44 001716   221674 450500                    STP0    @P#+1,,AUTO
        44 001717   221674 630500                    EPPR0   @P#+1,,AUTO
        44 001720   000043 631400 45                 EPPR1   35
        44 001721   000000 701000 xent               TSX1    CPRNT
        44 001722   000000 011000                    NOP     0

      703     1577
      704     1578    3   END LADIAG;

   1578 44 001723   200332 221300                    LDX1  ! SET_TEMP+40,,AUTO
        44 001724   000001 702211                    TSX2  ! 1,X1

      705     1579        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:101  
      706     1580
      707     1581
      708     1582        /* MAIN PART OF LASET */
      709     1583
      710     1584    3   ON_ALL_CONFIGS: DO I=0 TO NR_CONFIG-1;

   1584 44 001725   200060 450100       ON_ALL_CONF* STZ     I,,AUTO
        44 001726   002022 710000 44                 TRA     s:1615+1

      711     1585
      712     1586    3              F$=C#_TO_$(I);

   1586 44 001727   200060 720100                    LXL0    I,,AUTO
        44 001730   000000 236010 36                 LDQ     C#_TO_$,X0
        44 001731   200065 756100                    STQ     F$,,AUTO

      713     1587
      714     1588    3              J=F$->C_SET_B.NR_ELEM-1;

   1588 44 001732   200065 470500                    LDP0    F$,,AUTO
        44 001733   000001 236100                    LDQ     1,,PR0
        44 001734   777777 376007                    ANQ     -1,DL
        44 001735   000001 136007                    SBLQ    1,DL
        44 001736   200070 756100                    STQ     J,,AUTO

      715     1589
      716     1590    4   POSSIBLE_OUTS:DO WHILE (J>=0);

   1590 44 001737   002021 604000 44    POSSIBLE_OU* TMI     s:1615

      717     1591
      718     1592
      719     1593    4                 BS$=F$->C_SET_B.ELEM.KEY$(J);

   1593 44 001740   200070 235100                    LDA     J,,AUTO
        44 001741   000002 735000                    ALS     2
        44 001742   200065 470500                    LDP0    F$,,AUTO
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:102  
        44 001743   000004 236105                    LDQ     4,AL,PR0
        44 001744   200067 756100                    STQ     BS$,,AUTO

      720     1594
      721     1595    4                 SA=BS$->KEY_B.W.SYM_AFTER;

   1595 44 001745   200067 471500                    LDP1    BS$,,AUTO
        44 001746   100004 235100                    LDA     4,,PR1
        44 001747   200063 755100                    STA     SA,,AUTO

      722     1596
      723     1597    4                 IF SA<=NR_TERM THEN

   1597 44 001750   200063 236100                    LDQ     SA,,AUTO
        44 001751   000000 116000 11                 CMPQ    NR_TERM
        44 001752   001755 605400 44                 TPNZ    NON_TERMINAL_OUT

      724     1598    4                    J=0;

   1598 44 001753   200070 450100                    STZ     J,,AUTO
        44 001754   002016 710000 44                 TRA     s:1613

      725     1599    4                 ELSE
      726     1600    5   NON_TERMINAL_OUT:DO;

   1600 44 001755                       NON_TERMINA* null
      727     1601    5                    SA$=SYM_PTRS(SA);

   1601 44 001755   000000 236006 6                  LDQ     SYM_PTRS,QL
        44 001756   200064 756100                    STQ     SA$,,AUTO

      728     1602    5                    PF=SA$->SYMBOL.PROD_INDX;

   1602 44 001757   200064 473500                    LDP3    SA$,,AUTO
        44 001760   300006 235100                    LDA     6,,PR3
        44 001761   200071 755100                    STA     PF,,AUTO

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:103  
      729     1603
      730     1604    6                    DO P=SA$->SYMBOL.PROD_CNT+PF-1 DOWNTO PF;

   1604 44 001762   300007 236100                    LDQ     7,,PR3
        44 001763   200071 036100                    ADLQ    PF,,AUTO
        44 001764   000001 136007                    SBLQ    1,DL
        44 001765   200061 756100                    STQ     P,,AUTO
        44 001766   002004 710000 44                 TRA     s:1608+2

      731     1605
      732     1606    6                       CALL FIND_REDUCE(F$->C_SET_B,P,

   1606 44 001767   200070 235100                    LDA     J,,AUTO
        44 001770   000002 735000                    ALS     2
        44 001771   200065 470500                    LDP0    F$,,AUTO
        44 001772   000005 471505                    LDP1    5,AL,PR0
        44 001773   200335 451500                    STP1    @INCL_TO,,AUTO
        44 001774   200061 633500                    EPPR3   P,,AUTO
        44 001775   200334 453500                    STP3    @PROD_NO,,AUTO
        44 001776   200065 236100                    LDQ     F$,,AUTO
        44 001777   200333 756100                    STQ     @C_SET,,AUTO
        44 002000   000106 701000 44                 TSX1    FIND_REDUCE
        44 002001   000000 011000                    NOP     0

      733     1607    6                         F$->C_SET_B.ELEM.INCL$(J)->INCL_B);
      734     1608    6                       END;

   1608 44 002002   000001 336007                    LCQ     1,DL
        44 002003   200061 056100                    ASQ     P,,AUTO
        44 002004   200061 236100                    LDQ     P,,AUTO
        44 002005   200071 116100                    CMPQ    PF,,AUTO
        44 002006   001767 605000 44                 TPL     s:1606

      735     1609
      736     1610    5                    CALL NULLABLE_TREE(BS$->KEY_B.KEY_VAL$->C_SET_B,0);

   1610 44 002007   200067 470500                    LDP0    BS$,,AUTO
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:104  
        44 002010   000003 471500                    LDP1    3,,PR0
        44 002011   000012 236000 45                 LDQ     10
        44 002012   211124 756100                    STQ     @CLASHED_TERM#,,AUTO
        44 002013   211123 451500                    STP1    @C_SETA,,AUTO
        44 002014   000366 701000 44                 TSX1    NULLABLE_TREE
        44 002015   000000 011000                    NOP     0

      737     1611
      738     1612    5                    END NON_TERMINAL_OUT;

      739     1613    4                 J=J-1;

   1613 44 002016   000001 336007                    LCQ     1,DL
        44 002017   200070 056100                    ASQ     J,,AUTO

      740     1614    4                 END POSSIBLE_OUTS;

   1614 44 002020   001740 605000 44                 TPL     s:1593

      741     1615    3              END ON_ALL_CONFIGS;

   1615 44 002021   200060 054100                    AOS     I,,AUTO
        44 002022   200060 236100                    LDQ     I,,AUTO
        44 002023   000000 116000 37                 CMPQ    NR_CONFIG
        44 002024   001727 604000 44                 TMI     s:1586

      742     1616
      743     1617        /* Now that i've gotten this far, the read sets
      744     1618          have been calcuated (with no errors) and the
      745     1619          FOLLOW and INCLUDE linkages are all in place.
      746     1620
      747     1621          NOW ORDER THE STATES AND CALCULATE THE LINKAGES BETWEEN STATES.
      748     1622        */
      749     1623
      750     1624    2              CALL OCNFG;

   1624 44 002025   000005 631400 45                 EPPR1   5
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:105  
        44 002026   000000 701000 xent               TSX1    OCNFG
        44 002027   000000 011000                    NOP     0

      751     1625    2              CALL CALC_ITEM_NUMBERS;

   1625 44 002030   000005 631400 45                 EPPR1   5
        44 002031   000000 701000 xent               TSX1    CALC_ITEM_NUMBERS
        44 002032   000000 011000                    NOP     0

      752     1626
      753     1627        /*
      754     1628          Now go back through all configurations and calculate the
      755     1629          LOOKAHEAD SETS IN ORDER TO VERIFY THAT CORRECT TABLES WILL BE
      756     1630          GENERATED.
      757     1631        */
      758     1632
      759     1633    3   ALL_REDUCTION_CONFIGS: DO I=0 TO NR_CONFIG-1;

   1633 44 002033   200060 450100       ALL_REDUCTI* STZ     I,,AUTO
        44 002034   002337 710000 44                 TRA     s:1705+1

      760     1634
      761     1635    3              F$=C#_TO_$(I);

   1635 44 002035   200060 720100                    LXL0    I,,AUTO
        44 002036   000000 236010 36                 LDQ     C#_TO_$,X0
        44 002037   200065 756100                    STQ     F$,,AUTO

      762     1636
      763     1637                    /* Set all ambiguity resolution to false */
      764     1638    4              DO J = 0 TO F$->C_SET_B.NR_ELEM - 1;

   1638 44 002040   200070 450100                    STZ     J,,AUTO
        44 002041   002054 710000 44                 TRA     s:1643+1

      765     1639
      766     1640    4                 F$ -> C_SET_B.ELEM.AMBIG_SEL_REDUCE(J) = FALSE;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:106  

   1640 44 002042   200070 235100                    LDA     J,,AUTO
        44 002043   000002 735000                    ALS     2
        44 002044   200065 470500                    LDP0    F$,,AUTO
        44 002045   000065 236000 45                 LDQ     53
        44 002046   000007 356105                    ANSQ    7,AL,PR0

      767     1641    4                 F$ -> C_SET_B.ELEM.AMBIG_SEL_SHIFT(J) = FALSE;

   1641 44 002047   200070 235100                    LDA     J,,AUTO
        44 002050   000002 735000                    ALS     2
        44 002051   000066 236000 45                 LDQ     54
        44 002052   000007 356105                    ANSQ    7,AL,PR0

      768     1642
      769     1643    4              END;

   1643 44 002053   200070 054100                    AOS     J,,AUTO
        44 002054   200065 470500                    LDP0    F$,,AUTO
        44 002055   000001 236100                    LDQ     1,,PR0
        44 002056   777777 376007                    ANQ     -1,DL
        44 002057   200070 116100                    CMPQ    J,,AUTO
        44 002060   002042 605400 44                 TPNZ    s:1640

      770     1644
      771     1645
      772     1646    3              REDUCTIONS=TRUE;

   1646 44 002061   400000 236003                    LDQ     -131072,DU
        44 002062   200072 756100                    STQ     REDUCTIONS,,AUTO

      773     1647
      774     1648    3              J=0;

   1648 44 002063   200070 450100                    STZ     J,,AUTO

      775     1649    3              CALL BITZAP(READ_REDUCT_CLASH,SET_LENGTHB);
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:107  

   1649 44 002064   000031 236000 45                 LDQ     25
        44 002065   221675 756100                    STQ     @P#+2,,AUTO
        44 002066   200211 631500                    EPPR1   READ_REDUCT_CLASH,,AUTO
        44 002067   221674 451500                    STP1    @P#+1,,AUTO
        44 002070   221674 630500                    EPPR0   @P#+1,,AUTO
        44 002071   000001 631400 45                 EPPR1   1
        44 002072   000000 701000 xent               TSX1    BITZAP
        44 002073   000000 011000                    NOP     0

      776     1650    3              CALL BITZAP(REDUCT_CLASH,SET_LENGTHB);

   1650 44 002074   000031 236000 45                 LDQ     25
        44 002075   221675 756100                    STQ     @P#+2,,AUTO
        44 002076   200142 630500                    EPPR0   REDUCT_CLASH,,AUTO
        44 002077   221674 450500                    STP0    @P#+1,,AUTO
        44 002100   221674 630500                    EPPR0   @P#+1,,AUTO
        44 002101   000001 631400 45                 EPPR1   1
        44 002102   000000 701000 xent               TSX1    BITZAP
        44 002103   000000 011000                    NOP     0

      777     1651    3              CALL BITZAP(REDUCT_OR,SET_LENGTHB);

   1651 44 002104   000031 236000 45                 LDQ     25
        44 002105   221675 756100                    STQ     @P#+2,,AUTO
        44 002106   200073 630500                    EPPR0   REDUCT_OR,,AUTO
        44 002107   221674 450500                    STP0    @P#+1,,AUTO
        44 002110   221674 630500                    EPPR0   @P#+1,,AUTO
        44 002111   000001 631400 45                 EPPR1   1
        44 002112   000000 701000 xent               TSX1    BITZAP
        44 002113   000000 011000                    NOP     0

      778     1652
      779     1653    4   ALL_REDUCTIONS_IN_CONFIG: DO WHILE (J<F$->C_SET_B.NR_ELEM

   1653 44 002114   002212 710000 44    ALL_REDUCTI* TRA     s:1669

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:108  
      780     1654    4                AND REDUCTIONS);
      781     1655
      782     1656    4                 BS$=F$->C_SET_B.ELEM.KEY$(J);

   1656 44 002115   200070 235100                    LDA     J,,AUTO
        44 002116   000002 735000                    ALS     2
        44 002117   200065 470500                    LDP0    F$,,AUTO
        44 002120   000004 236105                    LDQ     4,AL,PR0
        44 002121   200067 756100                    STQ     BS$,,AUTO

      783     1657
      784     1658    4                 IF BS$->KEY_B.W.SYM_AFTER=0 THEN

   1658 44 002122   200067 471500                    LDP1    BS$,,AUTO
        44 002123   100004 235100                    LDA     4,,PR1
        44 002124   002211 601000 44                 TNZ     s:1668

      785     1659    5                 DO;

      786     1660    5                    CALL LACALC(BS$->KEY_B,0);

   1660 44 002125   000012 236000 45                 LDQ     10
        44 002126   200354 756100                    STQ     @CLASHED_TERM#,,AUTO
        44 002127   200067 236100                    LDQ     BS$,,AUTO
        44 002130   200353 756100                    STQ     @KEY,,AUTO
        44 002131   000714 701000 44                 TSX1    LACALC
        44 002132   000000 011000                    NOP     0

      787     1661    5                    CALL BITMOVE(SET_TEMP,BS$->KEY_B.FOLLOW$->INCL_B.SET,SET_LENGTHB);

   1661 44 002133   200067 470500                    LDP0    BS$,,AUTO
        44 002134   000003 471500                    LDP1    3,,PR0
        44 002135   000031 236000 45                 LDQ     25
        44 002136   221676 756100                    STQ     @P#+3,,AUTO
        44 002137   100003 633500                    EPPR3   3,,PR1
        44 002140   221675 453500                    STP3    @P#+2,,AUTO
        44 002141   200262 631500                    EPPR1   SET_TEMP,,AUTO
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:109  
        44 002142   221674 451500                    STP1    @P#+1,,AUTO
        44 002143   221674 630500                    EPPR0   @P#+1,,AUTO
        44 002144   000011 631400 45                 EPPR1   9
        44 002145   000000 701000 xent               TSX1    BITMOVE
        44 002146   000000 011000                    NOP     0

      788     1662    5                    CALL BITAND(SET_TEMP,REDUCT_OR,SET_LENGTHB);

   1662 44 002147   000031 236000 45                 LDQ     25
        44 002150   221676 756100                    STQ     @P#+3,,AUTO
        44 002151   200073 630500                    EPPR0   REDUCT_OR,,AUTO
        44 002152   221675 450500                    STP0    @P#+2,,AUTO
        44 002153   200262 631500                    EPPR1   SET_TEMP,,AUTO
        44 002154   221674 451500                    STP1    @P#+1,,AUTO
        44 002155   221674 630500                    EPPR0   @P#+1,,AUTO
        44 002156   000011 631400 45                 EPPR1   9
        44 002157   000000 701000 xent               TSX1    BITAND
        44 002160   000000 011000                    NOP     0

      789     1663    5                    CALL BITOR(REDUCT_CLASH,SET_TEMP,SET_LENGTHB);

   1663 44 002161   000031 236000 45                 LDQ     25
        44 002162   221676 756100                    STQ     @P#+3,,AUTO
        44 002163   200262 630500                    EPPR0   SET_TEMP,,AUTO
        44 002164   221675 450500                    STP0    @P#+2,,AUTO
        44 002165   200142 631500                    EPPR1   REDUCT_CLASH,,AUTO
        44 002166   221674 451500                    STP1    @P#+1,,AUTO
        44 002167   221674 630500                    EPPR0   @P#+1,,AUTO
        44 002170   000011 631400 45                 EPPR1   9
        44 002171   000000 701000 xent               TSX1    BITOR
        44 002172   000000 011000                    NOP     0

      790     1664    5                    CALL BITOR(REDUCT_OR,BS$->KEY_B.FOLLOW$->INCL_B.SET,SET_LENGTHB);

   1664 44 002173   200067 470500                    LDP0    BS$,,AUTO
        44 002174   000003 471500                    LDP1    3,,PR0
        44 002175   000031 236000 45                 LDQ     25
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:110  
        44 002176   221676 756100                    STQ     @P#+3,,AUTO
        44 002177   100003 633500                    EPPR3   3,,PR1
        44 002200   221675 453500                    STP3    @P#+2,,AUTO
        44 002201   200073 631500                    EPPR1   REDUCT_OR,,AUTO
        44 002202   221674 451500                    STP1    @P#+1,,AUTO
        44 002203   221674 630500                    EPPR0   @P#+1,,AUTO
        44 002204   000011 631400 45                 EPPR1   9
        44 002205   000000 701000 xent               TSX1    BITOR
        44 002206   000000 011000                    NOP     0

      791     1665    5                    J=J+1;

   1665 44 002207   200070 054100                    AOS     J,,AUTO

      792     1666    5                    END;

   1666 44 002210   002212 710000 44                 TRA     s:1669

      793     1667    4                 ELSE
      794     1668    4                    REDUCTIONS=FALSE;

   1668 44 002211   200072 450100                    STZ     REDUCTIONS,,AUTO

      795     1669    4                 END ALL_REDUCTIONS_IN_CONFIG;

   1669 44 002212   200065 470500                    LDP0    F$,,AUTO
        44 002213   000001 236100                    LDQ     1,,PR0
        44 002214   777777 376007                    ANQ     -1,DL
        44 002215   200070 116100                    CMPQ    J,,AUTO
        44 002216   002221 604400 44                 TMOZ    s:1673
        44 002217   200072 234100                    SZN     REDUCTIONS,,AUTO
        44 002220   002115 604000 44                 TMI     s:1656

      796     1670
      797     1671        /* NOW LOOK FOR ANY READ-REDUCE CONFLICTS AS WELL */
      798     1672
      799     1673    3              CALL BITMOVE(READ_REDUCT_CLASH,REDUCT_CLASH,SET_LENGTHB);
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:111  

   1673 44 002221   000031 236000 45                 LDQ     25
        44 002222   221676 756100                    STQ     @P#+3,,AUTO
        44 002223   200142 631500                    EPPR1   REDUCT_CLASH,,AUTO
        44 002224   221675 451500                    STP1    @P#+2,,AUTO
        44 002225   200211 633500                    EPPR3   READ_REDUCT_CLASH,,AUTO
        44 002226   221674 453500                    STP3    @P#+1,,AUTO
        44 002227   221674 630500                    EPPR0   @P#+1,,AUTO
        44 002230   000011 631400 45                 EPPR1   9
        44 002231   000000 701000 xent               TSX1    BITMOVE
        44 002232   000000 011000                    NOP     0

      800     1674
      801     1675    3              TERMINALS=TRUE;

   1675 44 002233   400000 236003                    LDQ     -131072,DU
        44 002234   200260 756100                    STQ     TERMINALS,,AUTO

      802     1676    3              IF J>0 THEN

   1676 44 002235   200070 235100                    LDA     J,,AUTO
        44 002236   002320 604400 44                 TMOZ    s:1700

      803     1677    4              DO WHILE(J<F$->C_SET_B.NR_ELEM

   1677 44 002237   002311 710000 44                 TRA     s:1697

      804     1678    4                AND TERMINALS);
      805     1679    4                 BS$=F$->C_SET_B.ELEM.KEY$(J);

   1679 44 002240   200070 235100                    LDA     J,,AUTO
        44 002241   000002 735000                    ALS     2
        44 002242   200065 470500                    LDP0    F$,,AUTO
        44 002243   000004 236105                    LDQ     4,AL,PR0
        44 002244   200067 756100                    STQ     BS$,,AUTO

      806     1680
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:112  
      807     1681    4                 IF BS$->KEY_B.W.SYM_AFTER<=NR_TERM THEN

   1681 44 002245   200067 471500                    LDP1    BS$,,AUTO
        44 002246   100004 236100                    LDQ     4,,PR1
        44 002247   000000 116000 11                 CMPQ    NR_TERM
        44 002250   002307 605400 44                 TPNZ    s:1694

      808     1682    5                   DO;

      809     1683    5                     IF REDUCT_OR(BS$ -> KEY_B.W.SYM_AFTER) THEN

   1683 44 002251   000000 116003                    CMPQ    0,DU
        44 002252   002254 605000 44                 TPL     s:1683+3
        44 002253   000044 036003                    ADLQ    36,DU
        44 002254   000000 066506                    CMPB    filb='0'B
        44 002255   200073 000001                    BDSC    REDUCT_OR,Q,AUTO         by=0,bit=0,n=1
        44 002256   000005 000022 45                 BDSC    5                        by=0,bit=0,n=18
        44 002257   002310 600000 44                 TZE     s:1695

      810     1684                            /* SHIFT /REDUCE CONFLICT */
      811     1685    5                       IF SYM_PTRS(BS$ -> KEY_B.W.SYM_AFTER) -> SYMBOL.LEFT_ASSOC THEN

   1685 44 002260   100004 720100                    LXL0    4,,PR1
        44 002261   000000 473410 6                  LDP3    SYM_PTRS,X0
        44 002262   300004 236100                    LDQ     4,,PR3
        44 002263   004000 316003                    CANQ    2048,DU
        44 002264   002270 600000 44                 TZE     s:1688

      812     1686    5                         F$ -> C_SET_B.ELEM.AMBIG_SEL_SHIFT(J) = TRUE;

   1686 44 002265   400000 236003                    LDQ     -131072,DU
        44 002266   000007 256105                    ORSQ    7,AL,PR0
        44 002267   002310 710000 44                 TRA     s:1695

      813     1687    5                       ELSE
      814     1688    5                         IF SYM_PTRS(BS$->KEY_B.W.SYM_AFTER)-> SYMBOL.RIGHT_ASSOC THEN

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:113  
   1688 44 002270   100004 720100                    LXL0    4,,PR1
        44 002271   000000 473410 6                  LDP3    SYM_PTRS,X0
        44 002272   300004 236100                    LDQ     4,,PR3
        44 002273   002000 316003                    CANQ    1024,DU
        44 002274   002300 600000 44                 TZE     s:1691

      815     1689    5                           F$ -> C_SET_B.ELEM.AMBIG_SEL_REDUCE(J) = TRUE;

   1689 44 002275   200000 236003                    LDQ     65536,DU
        44 002276   000007 256105                    ORSQ    7,AL,PR0
        44 002277   002310 710000 44                 TRA     s:1695

      816     1690    5                         ELSE
      817     1691    5                           READ_REDUCT_CLASH(BS$->KEY_B.W.SYM_AFTER) = TRUE;

   1691 44 002300   100004 235100                    LDA     4,,PR1
        44 002301   002303 605000 44                 TPL     s:1691+3
        44 002302   000044 035003                    ADLA    36,DU
        44 002303   003105 060400                    CSL     bolr='003'O
        44 002304   000000 000001 45                 BDSC    0                        by=0,bit=0,n=1
        44 002305   200211 000001                    BDSC    READ_REDUCT_CLASH,A,AUTO by=0,bit=0,n=1

      818     1692    5                   END;

   1692 44 002306   002310 710000 44                 TRA     s:1695

      819     1693    4                 ELSE
      820     1694    4                    TERMINALS=FALSE;

   1694 44 002307   200260 450100                    STZ     TERMINALS,,AUTO

      821     1695    4                 J=J+1;

   1695 44 002310   200070 054100                    AOS     J,,AUTO

      822     1696
      823     1697    4                 END;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:114  

   1697 44 002311   200065 470500                    LDP0    F$,,AUTO
        44 002312   000001 236100                    LDQ     1,,PR0
        44 002313   777777 376007                    ANQ     -1,DL
        44 002314   200070 116100                    CMPQ    J,,AUTO
        44 002315   002320 604400 44                 TMOZ    s:1700
        44 002316   200260 234100                    SZN     TERMINALS,,AUTO
        44 002317   002240 604000 44                 TMI     s:1679

      824     1698
      825     1699                   /* CHECK FOR ANY AMBIGUITIES OF REDUCE/REDUCE OR SHIFT/REDUCE */
      826     1700    3              CALL BITNZT(READ_REDUCT_CLASH,SET_LENGTHB,RESULT);

   1700 44 002320   200261 630500                    EPPR0   RESULT,,AUTO
        44 002321   221676 450500                    STP0    @P#+3,,AUTO
        44 002322   000031 236000 45                 LDQ     25
        44 002323   221675 756100                    STQ     @P#+2,,AUTO
        44 002324   200211 631500                    EPPR1   READ_REDUCT_CLASH,,AUTO
        44 002325   221674 451500                    STP1    @P#+1,,AUTO
        44 002326   221674 630500                    EPPR0   @P#+1,,AUTO
        44 002327   000011 631400 45                 EPPR1   9
        44 002330   000000 701000 xent               TSX1    BITNZT
        44 002331   000000 011000                    NOP     0

      827     1701
      828     1702    3              IF RESULT THEN

   1702 44 002332   200261 234100                    SZN     RESULT,,AUTO
        44 002333   002336 605000 44                 TPL     s:1705

      829     1703    3                CALL LADIAG;

   1703 44 002334   001355 701000 44                 TSX1    LADIAG
        44 002335   000000 011000                    NOP     0

      830     1704
      831     1705    3              END ALL_REDUCTION_CONFIGS;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:115  

   1705 44 002336   200060 054100                    AOS     I,,AUTO
        44 002337   200060 236100                    LDQ     I,,AUTO
        44 002340   000000 116000 37                 CMPQ    NR_CONFIG
        44 002341   002035 604000 44                 TMI     s:1635

      832     1706    2   END LAMAIN;

   1706 44 002342   200056 221300                    LDX1  ! CLASHED_PROD_SET+43,,AUTO
        44 002343   000001 702211                    TSX2  ! 1,X1

      833     1707
      834     1708        %EJECT;
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:116  
      835     1709        /* DRIVER */
      836     1710
      837     1711    1           CALL LAMAIN /* Calculate lookahead sets & record clashes */;

   1711 44 002344   001250 701000 44                 TSX1    LAMAIN
        44 002345   000000 011000                    NOP     0

      838     1712
      839     1713    1   END LASET;

   1713 44 002346   000000 702200 xent               TSX2  ! X66_ARET
      840     1714        %EOD;

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:117  
--  Include file information  --

   LR_CNFG_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_IO_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_GRAM_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure LASET.
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:118  

 **** Variables and constants ****

  ****  Section 000 LblCom OUT_DCBN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 OUT_DCBN

  ****  Section 006 LblCom SYM_PTRS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 SYM_PTRS(0:1400)

  ****  Section 007 LblCom RIGHT_PARTS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h SBIN(18)    r     1 RIGHT_PARTS(0:8000)

  ****  Section 008 LblCom PROD

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC(72)    r     1 PROD(0:1500)

  ****  Section 009 LblCom NR_PROD

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_PROD

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:119  
  ****  Section 010 LblCom NR_SYMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_SYMS

  ****  Section 011 LblCom NR_TERM

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 NR_TERM

  ****  Section 012 LblCom LAST_ACT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_ACT

  ****  Section 013 LblCom LAST_NULL

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_NULL

  ****  Section 014 LblCom NR_ONRIGHT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_ONRIGHT

  ****  Section 015 LblCom NR_NT

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:120  
  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 NR_NT

  ****  Section 016 LblCom PROD_LEN_MAX_EVER

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 PROD_LEN_MAX_EVER

  ****  Section 017 LblCom LAST_ORDER_SPECIFIED

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_ORDER_SPECIFIED

  ****  Section 018 LblCom SEMANTIC_ORDERING

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 SEMANTIC_ORDERING

  ****  Section 019 LblCom ERR_SEV

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 ERR_SEV

  ****  Section 020 LblCom SET_LENGTHB

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:121  

     0-0-0/w SBIN        r     1 SET_LENGTHB

  ****  Section 021 LblCom SET_LENGTHW

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 SET_LENGTHW

  ****  Section 022 LblCom EOF_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 EOF_SYMBOL_PTR

  ****  Section 023 LblCom ERROR_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 ERROR_SYMBOL_PTR

  ****  Section 024 LblCom BOF_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 BOF_SYMBOL_PTR

  ****  Section 025 LblCom OPTIONS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 OPTIONS(0:25)
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:122  

  ****  Section 026 LblCom OPTIONS_TEXT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(4)           1 OPTIONS_TEXT(0:25)

  ****  Section 027 LblCom INSTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR              1 INSTR(0:511)               0-0-0/c CHAR(512)         1 INSTRCHR

  ****  Section 028 LblCom INSTR_LISTED

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 INSTR_LISTED

  ****  Section 029 LblCom INSTR_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INSTR_LEN

  ****  Section 030 LblCom INSTR_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INSTR_INDX

  ****  Section 031 LblCom EOF_FLAG
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:123  

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 EOF_FLAG

  ****  Section 032 LblCom KEY_REC

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(10)          1 KEY_REC

  ****  Section 033 LblCom LINE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(109)         1 LINE

  ****  Section 034 LblCom LINELEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LINELEN

  ****  Section 035 LblCom TSTATS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(7380)        1 TSTATS

  ****  Section 036 LblCom C#_TO_$

  ****  Scalars and arrays  ****
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:124  
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 C#_TO_$(0:2200)

  ****  Section 037 LblCom NR_CONFIG

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 NR_CONFIG

  ****  Section 038 LblCom INIT_CONFIG

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INIT_CONFIG

  ****  Section 039 LblCom MAX_BASIS_ITEMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 MAX_BASIS_ITEMS

  ****  Section 040 LblCom MAX_TOTAL_ITEMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 MAX_TOTAL_ITEMS

  ****  Section 041 LblCom LAST_BINSRCH_ONLY

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:125  
     0-0-0/w SBIN              1 LAST_BINSRCH_ONLY

  ****  Section 042 LblCom LAST_BOTH_BITBIN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_BOTH_BITBIN

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   335-0-0/w PTR         r     1 @C#                      336-0-0/w PTR         r     1 @C$
 11124-0-0/w PTR         r     1 @CLASHED_TERM#           354-0-0/w PTR         r     1 @CLASHED_TERM#
   340-0-0/w PTR         r     1 @CLASHED_TERM#           333-0-0/w PTR         r     1 @C_SET
   601-0-0/w PTR         r     1 @C_SET                 11123-0-0/w PTR         r     1 @C_SETA
   337-0-0/w PTR         r     1 @ELEM#                   601-0-0/w PTR         r     1 @INCL_FROM
   335-0-0/w PTR         r     1 @INCL_TO               21667-0-0/w PTR         r     1 @KEY
   353-0-0/w PTR         r     1 @KEY                   21673-0-0/w PTR         r     1 @P#
   334-0-0/w PTR         r     1 @PROD_NO                  67-0-0/w PTR         r     1 BS$
   421-0-0/w PTR         r     1 BS_LIST$(0:50)
    *0-0-0/w SBIN        r     1 C#                     21615-0-0/w PTR         r     1 C$
    57-0-0/w PTR               1 C$                        *0-0-0/w PTR         r     1 C$
     3-0-0/b BIT         r     1 CLASHED_PROD_SET(0:1500)
    *0-0-0/w SBIN        r     1 CLASHED_TERM#             *0-0-0/w SBIN        r     1 CLASHED_TERM#
    *0-0-0/w SBIN        r     1 CLASHED_TERM#            575-0-0/w PTR         r     1 CS_LAST$
   336-0-0/w PTR         r     1 CS_LIST$(0:50)
    *0-0-0/w STRC(57888) r     1 C_SET                     *0-0-0/w STRC(57888) r     1 C_SET
    *0-0-0/w STRC(57888) r     1 C_SETA                 11125-0-0/w PTR         r     1 C_SET_STK(0:2200)
 21611-0-0/w SBIN        r     1 ELEM                      *0-0-0/w SBIN        r     1 ELEM#
 15356-0-0/w SBIN        r     1 ELEM_STK(0:2200)          65-0-0/w PTR         r     1 F$
   576-0-0/b BIT         r     1 FOUND                     62-0-0/w SBIN              1 FP
    66-0-0/w PTR               1 G$                       604-0-0/w SBIN        r     1 GUESS
   603-0-0/w SBIN        r     1 HI                     21670-0-0/w SBIN        r     1 I
   335-0-0/w SBIN        r     1 I                        573-0-0/w SBIN        r     1 I
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:126  
 21613-0-0/w SBIN        r     1 I                         60-0-0/w SBIN        r     1 I
   342-0-0/w SBIN        r     1 I                        572-0-0/w PTR         r     1 INCL$
 11041-0-0/w PTR         r     1 INCL$                    602-0-0/w PTR         r     1 INCLUDES$
  4606-0-0/w PTR         r     1 INCLUDES_STK(0:2200)
    *0-0-0/w STRC(144)   r     1 INCL_FROM                355-0-0/w PTR         r     1 INCL_STK(0:2200)
    *0-0-0/w STRC(144)   r     1 INCL_TO                  567-0-0/w SBIN              1 INDX
   504-0-0/w PTR         r     1 IN_LIST$(0:50)
   574-0-0/w SBIN              1 J                         70-0-0/w SBIN        r     1 J
   343-0-0/w SBIN              1 J                        345-0-0/w SBIN              1 K
   347-0-0/w PTR         r     1 K$                        *0-0-0/w STRC(5652)  r     1 KEY
    *0-0-0/w STRC(5652)  r     1 KEY                      571-0-0/w PTR         r     1 KEY$
 21614-0-0/w PTR         r     1 KEY$                   11115-0-0/w SBIN        r     1 KSTK
   602-0-0/w SBIN        r     1 LO                     11117-0-0/b BIT         r     1 MORE_INCLS
 11116-0-0/w SBIN        r     1 NEWLEV                 11112-0-0/w PTR         r     1 NEXT_INCL$
   577-0-0/b BIT         r     1 NULLABLE               21671-0-0/w SBIN        r     1 P
 11120-0-0/w SBIN              1 P                         61-0-0/w SBIN        r     1 P
   351-0-0/w SBIN              1 P                         *0-0-0/w SBIN        r     1 P#
    71-0-0/w SBIN        r     1 PF                        *0-0-0/w SBIN        r     1 PROD_NO
 21610-0-0/b BIT               1 PUSHING
   211-0-0/b BIT         r     1 READ_REDUCT_CLASH(0:1400)
    72-0-0/b BIT         r     1 REDUCTIONS
   142-0-0/b BIT         r     1 REDUCT_CLASH(0:1400)
    73-0-0/b BIT         r     1 REDUCT_OR(0:1400)      11114-0-0/b BIT               1 RESULT
   261-0-0/b BIT         r     1 RESULT                   350-0-0/w PTR               1 S$
    63-0-0/w SBIN        r     1 SA                       344-0-0/w SBIN              1 SA
    64-0-0/w PTR         r     1 SA$                    11042-0-0/w PTR         r     1 SET$
 21616-0-0/b BIT         r     1 SET_TEMP(0:1400)       11043-0-0/b BIT         r     1 SET_TEMP(0:1400)
   262-0-0/b BIT         r     1 SET_TEMP(0:1400)       21612-0-0/w SBIN        r     1 STKD
 11037-0-0/w SBIN        r     1 STKD                   11113-0-0/w PTR         r     1 SUB_INCL$
   570-0-0/w SBIN        r     1 SYM_AFTER                333-0-0/w SBIN        r     1 T
   260-0-0/b BIT         r     1 TERMINALS              21607-0-0/b BIT         r     1 TRAVERSING
   341-0-0/w SBIN        r     1 Z#                       346-0-0/w PTR         r     1 Z$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #001=LASET File=LR_LASET.:Z8A6TSI                                  SAT 08/09/97 09:33 Page:127  

     0-0-0/w STRC(57888) r     1 C_SET                      0-0-0/w STRC(57888) r     1 C_SET_B
     0-0-0/w STRC(72)    r     1 INCLUDES                   0-0-0/w STRC(72)    r     1 INCLUDES_B
     0-0-0/w STRC(144)   r     1 INCL_B                     0-0-0/w STRC(5436)        1 ITEM_B
     0-0-0/w STRC(5652)  r     1 KEY                        0-0-0/w STRC(5652)  r     1 KEY_B
     0-0-0N  NULL        r     1 M$LO                       0-0-0N  NULL        r     1 M$OU
     0-0-0N  NULL        r     1 M$SI                       0-0-0N  NULL        r     1 M$SO
     0-0-0N  NULL        r     1 M$UI                       0-0-0/w STRC(2)     r     1 SB
     0-0-0/w STRC(2)     r     1 SB                         0-0-0/w STRC(351)   r     1 SYMBOL


   Procedure LASET requires 1255 words for executable code.
   Procedure LASET requires 9160 words of local(AUTO) storage.

PL6.E3A0      #002=BITZAP File=LR_LASET.:Z8A6TSI                                 SAT 08/09/97 09:34 Page:128  
      841        1        /*T***********************************************************/
      842        2        /*T*                                                         */
      843        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      844        4        /*T*                                                         */
      845        5        /*T***********************************************************/
      846        6        BITZAP: PROC(AALIGN,N) NOAUTO;
      847        7
      848        8        /*D*
      849        9               NAME: BITZAP
      850       10            PURPOSE: SET AN ARRAY OF BITS TO ZERO.
      851       11        */
      852       12
      853       13    1   DCL N SBIN ALIGNED;
      854       14    1   DCL 1 AALIGN ALIGNED,
      855       15    1         2 A BIT(N) UNAL;
      856       16
      857       17    1           AALIGN.A='0'B;
      858       18
      859       19    1   END BITZAP;
      860       20        %EOD;

PL6.E3A0      #002=BITZAP File=LR_LASET.:Z8A6TSI                                 SAT 08/09/97 09:34 Page:129  
      No diagnostics issued in procedure BITZAP.

   Procedure BITZAP requires 10 words for executable code.
   Procedure BITZAP is declared NOAUTO and requires 4 words of local(STATIC) storage.

PL6.E3A0      #002=BITZAP File=LR_LASET.:Z8A6TSI                                 SAT 08/09/97 09:34 Page:130  

 Object Unit name= BITZAP                                     File name= LR_LASET.:Z8A6TOU
 UTS= AUG 09 '97 09:34:52.40 SAT                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none     4      4  BITZAP
    1   Proc  even  none    10     12  BITZAP
    2  RoData even  none     1      1  BITZAP

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes      Std        2  BITZAP

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X66_STATIC_2
PL6.E3A0      #002=BITZAP File=LR_LASET.:Z8A6TSI                                 SAT 08/09/97 09:34 Page:131  


      841        1        /*T***********************************************************/
      842        2        /*T*                                                         */
      843        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      844        4        /*T*                                                         */
      845        5        /*T***********************************************************/
      846        6        BITZAP: PROC(AALIGN,N) NOAUTO;

      6  1 000000   000000 700200 xent  BITZAP       TSX0  ! X66_STATIC_2
         1 000001   000000 000002 0                  ZERO    0,2

      847        7
      848        8        /*D*
      849        9               NAME: BITZAP
      850       10            PURPOSE: SET AN ARRAY OF BITS TO ZERO.
      851       11        */
      852       12
      853       13    1   DCL N SBIN ALIGNED;
      854       14    1   DCL 1 AALIGN ALIGNED,
      855       15    1         2 A BIT(N) UNAL;
      856       16
      857       17    1           AALIGN.A='0'B;

     17  1 000002   000002 470400 0                  LDP0    @N
         1 000003   000000 720100                    LXL0    0,,PR0
         1 000004   000001 471400 0                  LDP1    @AALIGN
         1 000005   003140 060400                    CSL     bolr='003'O
         1 000006   000000 000001 2                  BDSC    0                        by=0,bit=0,n=1
         1 000007   100000 000010                    BDSC    0,,PR1                   by=0,bit=0,n=*X0

      858       18
      859       19    1   END BITZAP;

     19  1 000010   000000 221200 0                  LDX1  ! 0
         1 000011   000001 702211                    TSX2  ! 1,X1
      860       20        %EOD;

PL6.E3A0      #002=BITZAP File=LR_LASET.:Z8A6TSI                                 SAT 08/09/97 09:34 Page:132  
      No diagnostics issued in procedure BITZAP.
PL6.E3A0      #002=BITZAP File=LR_LASET.:Z8A6TSI                                 SAT 08/09/97 09:34 Page:133  

 **** Variables and constants ****

  ****  Section 000  Data  BITZAP

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     1-0-0/w PTR         r     1 @AALIGN                    2-0-0/w PTR         r     1 @N
    *0-0-0/w ASTR(0)     r     1 AALIGN                    *0-0-0/w SBIN        r     1 N


   Procedure BITZAP requires 10 words for executable code.
   Procedure BITZAP is declared NOAUTO and requires 4 words of local(STATIC) storage.

PL6.E3A0      #003=BITMOVE File=LR_LASET.:Z8A6TSI                                SAT 08/09/97 09:34 Page:134  
      861        1        /*T***********************************************************/
      862        2        /*T*                                                         */
      863        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      864        4        /*T*                                                         */
      865        5        /*T***********************************************************/
      866        6        BITMOVE:PROC(AALIGN, BALIGN,N) NOAUTO;
      867        7
      868        8        /*D*
      869        9              NAME: BITMOVE
      870       10            PURPOSE: ASSIGN AN ARRAY OF BITS.
      871       11        */
      872       12
      873       13    1   DCL N SBIN ALIGNED;
      874       14    1   DCL 1 AALIGN ALIGNED,
      875       15    1         2 A BIT(N) UNAL;
      876       16    1   DCL 1 BALIGN ALIGNED,
      877       17    1         2 B BIT(N) UNAL;
      878       18
      879       19    1           AALIGN.A = BALIGN.B;
      880       20
      881       21    1   END BITMOVE;
      882       22        %EOD;

PL6.E3A0      #003=BITMOVE File=LR_LASET.:Z8A6TSI                                SAT 08/09/97 09:34 Page:135  
      No diagnostics issued in procedure BITMOVE.

   Procedure BITMOVE requires 11 words for executable code.
   Procedure BITMOVE is declared NOAUTO and requires 4 words of local(STATIC) storage.

PL6.E3A0      #003=BITMOVE File=LR_LASET.:Z8A6TSI                                SAT 08/09/97 09:34 Page:136  

 Object Unit name= BITMOVE                                    File name= LR_LASET.:Z8A6TOU
 UTS= AUG 09 '97 09:34:56.72 SAT                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none     4      4  BITMOVE
    1   Proc  even  none    11     13  BITMOVE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes      Std        3  BITMOVE

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X66_STATIC_3
PL6.E3A0      #003=BITMOVE File=LR_LASET.:Z8A6TSI                                SAT 08/09/97 09:34 Page:137  


      861        1        /*T***********************************************************/
      862        2        /*T*                                                         */
      863        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      864        4        /*T*                                                         */
      865        5        /*T***********************************************************/
      866        6        BITMOVE:PROC(AALIGN, BALIGN,N) NOAUTO;

      6  1 000000   000000 700200 xent  BITMOVE      TSX0  ! X66_STATIC_3
         1 000001   000000 000003 0                  ZERO    0,3

      867        7
      868        8        /*D*
      869        9              NAME: BITMOVE
      870       10            PURPOSE: ASSIGN AN ARRAY OF BITS.
      871       11        */
      872       12
      873       13    1   DCL N SBIN ALIGNED;
      874       14    1   DCL 1 AALIGN ALIGNED,
      875       15    1         2 A BIT(N) UNAL;
      876       16    1   DCL 1 BALIGN ALIGNED,
      877       17    1         2 B BIT(N) UNAL;
      878       18
      879       19    1           AALIGN.A = BALIGN.B;

     19  1 000002   000003 470400 0                  LDP0    @N
         1 000003   000000 720100                    LXL0    0,,PR0
         1 000004   000002 471400 0                  LDP1    @BALIGN
         1 000005   000001 473400 0                  LDP3    @AALIGN
         1 000006   003140 060540                    CSL     bolr='003'O
         1 000007   100000 000010                    BDSC    0,,PR1                   by=0,bit=0,n=*X0
         1 000010   300000 000010                    BDSC    0,,PR3                   by=0,bit=0,n=*X0

      880       20
      881       21    1   END BITMOVE;

     21  1 000011   000000 221200 0                  LDX1  ! 0
PL6.E3A0      #003=BITMOVE File=LR_LASET.:Z8A6TSI                                SAT 08/09/97 09:34 Page:138  
         1 000012   000001 702211                    TSX2  ! 1,X1
      882       22        %EOD;

PL6.E3A0      #003=BITMOVE File=LR_LASET.:Z8A6TSI                                SAT 08/09/97 09:34 Page:139  
      No diagnostics issued in procedure BITMOVE.
PL6.E3A0      #003=BITMOVE File=LR_LASET.:Z8A6TSI                                SAT 08/09/97 09:34 Page:140  

 **** Variables and constants ****

  ****  Section 000  Data  BITMOVE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     1-0-0/w PTR         r     1 @AALIGN                    2-0-0/w PTR         r     1 @BALIGN
     3-0-0/w PTR         r     1 @N                        *0-0-0/w ASTR(0)     r     1 AALIGN
    *0-0-0/w ASTR(0)     r     1 BALIGN                    *0-0-0/w SBIN        r     1 N


   Procedure BITMOVE requires 11 words for executable code.
   Procedure BITMOVE is declared NOAUTO and requires 4 words of local(STATIC) storage.

PL6.E3A0      #004=BITNZT File=LR_LASET.:Z8A6TSI                                 SAT 08/09/97 09:35 Page:141  
      883        1        /*T***********************************************************/
      884        2        /*T*                                                         */
      885        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      886        4        /*T*                                                         */
      887        5        /*T***********************************************************/
      888        6        BITNZT: PROC(AALIGN,N,RESULT) NOAUTO;
      889        7
      890        8        /*D*
      891        9               NAME: BITNZT
      892       10            PURPOSE: TEST A BITSTRING FOR NON-ZERO.
      893       11        */
      894       12
      895       13    1   DCL N SBIN;
      896       14    1   DCL 1 AALIGN ALIGNED,
      897       15    1         2 A BIT(N) UNAL;
      898       16    1   DCL RESULT BIT(1) ALIGNED;
      899       17
      900       18    1          RESULT = (AALIGN.A ~= '0'B);
      901       19
      902       20    1           RETURN;
      903       21    1   END;
      904       22        %EOD;

PL6.E3A0      #004=BITNZT File=LR_LASET.:Z8A6TSI                                 SAT 08/09/97 09:35 Page:142  
      No diagnostics issued in procedure BITNZT.

   Procedure BITNZT requires 16 words for executable code.
   Procedure BITNZT is declared NOAUTO and requires 4 words of local(STATIC) storage.

PL6.E3A0      #004=BITNZT File=LR_LASET.:Z8A6TSI                                 SAT 08/09/97 09:35 Page:143  

 Object Unit name= BITNZT                                     File name= LR_LASET.:Z8A6TOU
 UTS= AUG 09 '97 09:35:00.36 SAT                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none     4      4  BITNZT
    1   Proc  even  none    16     20  BITNZT
    2  RoData even  none     1      1  BITNZT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes      Std        3  BITNZT

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X66_STATIC_3
PL6.E3A0      #004=BITNZT File=LR_LASET.:Z8A6TSI                                 SAT 08/09/97 09:35 Page:144  


      883        1        /*T***********************************************************/
      884        2        /*T*                                                         */
      885        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      886        4        /*T*                                                         */
      887        5        /*T***********************************************************/
      888        6        BITNZT: PROC(AALIGN,N,RESULT) NOAUTO;

      6  1 000000   000000 700200 xent  BITNZT       TSX0  ! X66_STATIC_3
         1 000001   000000 000003 0                  ZERO    0,3

      889        7
      890        8        /*D*
      891        9               NAME: BITNZT
      892       10            PURPOSE: TEST A BITSTRING FOR NON-ZERO.
      893       11        */
      894       12
      895       13    1   DCL N SBIN;
      896       14    1   DCL 1 AALIGN ALIGNED,
      897       15    1         2 A BIT(N) UNAL;
      898       16    1   DCL RESULT BIT(1) ALIGNED;
      899       17
      900       18    1          RESULT = (AALIGN.A ~= '0'B);

     18  1 000002   000002 470400 0                  LDP0    @N
         1 000003   000000 720100                    LXL0    0,,PR0
         1 000004   400000 221003                    LDX1    -131072,DU
         1 000005   000001 471400 0                  LDP1    @AALIGN
         1 000006   000000 066540                    CMPB    filb='0'B
         1 000007   100000 000010                    BDSC    0,,PR1                   by=0,bit=0,n=*X0
         1 000010   000000 000022 2                  BDSC    0                        by=0,bit=0,n=18
         1 000011   000013 601000 1                  TNZ     s:18+9
         1 000012   000000 221003                    LDX1    0,DU
         1 000013   000000 636011                    EAQ     0,X1
         1 000014   000003 473400 0                  LDP3    @RESULT
         1 000015   300000 756100                    STQ     0,,PR3

PL6.E3A0      #004=BITNZT File=LR_LASET.:Z8A6TSI                                 SAT 08/09/97 09:35 Page:145  
      901       19
      902       20    1           RETURN;

     20  1 000016   000000 221200 0                  LDX1  ! 0
         1 000017   000001 702211                    TSX2  ! 1,X1
      903       21    1   END;
      904       22        %EOD;

PL6.E3A0      #004=BITNZT File=LR_LASET.:Z8A6TSI                                 SAT 08/09/97 09:35 Page:146  
      No diagnostics issued in procedure BITNZT.
PL6.E3A0      #004=BITNZT File=LR_LASET.:Z8A6TSI                                 SAT 08/09/97 09:35 Page:147  

 **** Variables and constants ****

  ****  Section 000  Data  BITNZT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     1-0-0/w PTR         r     1 @AALIGN                    2-0-0/w PTR         r     1 @N
     3-0-0/w PTR         r     1 @RESULT                   *0-0-0/w ASTR(0)     r     1 AALIGN
    *0-0-0/w SBIN        r     1 N                         *0-0-0/w BIT         r     1 RESULT


   Procedure BITNZT requires 16 words for executable code.
   Procedure BITNZT is declared NOAUTO and requires 4 words of local(STATIC) storage.

PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:148  
      905        1        /*T***********************************************************/
      906        2        /*T*                                                         */
      907        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      908        4        /*T*                                                         */
      909        5        /*T***********************************************************/
      910        6        PRINT_DERIVATION : PROC(STATE, E, I , CLASHED_TERM);
      911        7
      912        8    1   DCL STATE SBIN WORD;
      913        9    1   DCL E SBIN WORD;
      914       10    1   DCL I SBIN WORD;
      915       11    1   DCL CLASHED_TERM SBIN WORD;
      916       12
      917       13    1   DCL COLLECT_GARBAGE ENTRY(1);
      918       14
      919       15    1   DCL TPTR PTR;
      920       16
      921       17    1   DCL MARKED_ITEM$ PTR EXT;
      922       18    1   DCL 1 MARKED_ITEM BASED ALIGNED,
      923       19    1         2 LEN_IN_H SBIN HALF HALIGNED,
      924       20    1         2 STATE    SBIN HALF HALIGNED,
      925       21    1         2 E        SBIN HALF HALIGNED,
      926       22    1         2 I        SBIN HALF HALIGNED,
      927       23    1         2 LINK     PTR;
      928       24
      929       25        %INCLUDE LR_GRAM_EXT;
      930      564        %INCLUDE LR_CNFG_EXT;
      931      717        %INCLUDE LR_ERR_EXT;
      932      860
      933      861    1   DCL PRINT_PRED ENTRY(4);
      934      862
      935      863
      936      864    1   MARKED_ITEM$ = ADDR(NIL);
      937      865
      938      866        %OUTLINE(S="'        which is derived from:'");
      939      872    1   CALL PRINT_PRED(STATE,E,I,CLASHED_TERM);
      940      873
      941      874    2   DO WHILE MARKED_ITEM$ ~= ADDR(NIL);
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:149  
      942      875    2     TPTR = MARKED_ITEM$ -> MARKED_ITEM.LINK;
      943      876    2     CALL COLLECT_GARBAGE(MARKED_ITEM$);
      944      877    2     MARKED_ITEM$ = TPTR;
      945      878    2   END;
      946      879
      947      880    1   END PRINT_DERIVATION;
      948      881        %EOD;

PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:150  
--  Include file information  --

   LR_ERR_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_CNFG_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_IO_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_GRAM_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure PRINT_DERIVATION.

   Procedure PRINT_DERIVATION requires 29 words for executable code.
   Procedure PRINT_DERIVATION requires 8 words of local(AUTO) storage.

PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:151  

 Object Unit name= PRINT_DERIVATION                           File name= LR_LASET.:Z8A6TOU
 UTS= AUG 09 '97 09:35:04.20 SAT                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  LblCom even  none     1      1  MARKED_ITEM$
    1  LblCom even  none     1      1  OUT_DCBN
    2   DCB   even  none     0      0  M$OU
    3   DCB   even  none     0      0  M$SO
    4   DCB   even  none     0      0  M$LO
    5   DCB   even  none     0      0  M$SI
    6   DCB   even  none     0      0  M$UI
    7  LblCom even  none  1401   2571  SYM_PTRS
    8  LblCom even  none  4001   7641  RIGHT_PARTS
    9  LblCom even  none  3002   5672  PROD
   10  LblCom even  none     1      1  NR_PROD
   11  LblCom even  none     1      1  NR_SYMS
   12  LblCom even  none     1      1  NR_TERM
   13  LblCom even  none     1      1  LAST_ACT
   14  LblCom even  none     1      1  LAST_NULL
   15  LblCom even  none     1      1  NR_ONRIGHT
   16  LblCom even  none     1      1  NR_NT
   17  LblCom even  none     1      1  PROD_LEN_MAX_EVER
   18  LblCom even  none     1      1  LAST_ORDER_SPECIFIED
   19  LblCom even  none     1      1  SEMANTIC_ORDERING
   20  LblCom even  none     1      1  ERR_SEV
   21  LblCom even  none     1      1  SET_LENGTHB
   22  LblCom even  none     1      1  SET_LENGTHW
   23  LblCom even  none     1      1  EOF_SYMBOL_PTR
   24  LblCom even  none     1      1  ERROR_SYMBOL_PTR
   25  LblCom even  none     1      1  BOF_SYMBOL_PTR
   26  LblCom even  none     1      1  OPTIONS
   27  LblCom even  none    26     32  OPTIONS_TEXT
   28  LblCom even  none   128    200  INSTR
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:152  
   29  LblCom even  none     1      1  INSTR_LISTED
   30  LblCom even  none     1      1  INSTR_LEN
   31  LblCom even  none     1      1  INSTR_INDX
   32  LblCom even  none     1      1  EOF_FLAG
   33  LblCom even  none     3      3  KEY_REC
   34  LblCom even  none    28     34  LINE
   35  LblCom even  none     1      1  LINELEN
   36  LblCom even  none   205    315  TSTATS
   37  LblCom even  none  2201   4231  C#_TO_$
   38  LblCom even  none     1      1  NR_CONFIG
   39  LblCom even  none     1      1  INIT_CONFIG
   40  LblCom even  none     1      1  MAX_BASIS_ITEMS
   41  LblCom even  none     1      1  MAX_TOTAL_ITEMS
   42  LblCom even  none     1      1  LAST_BINSRCH_ONLY
   43  LblCom even  none     1      1  LAST_BOTH_BITBIN
   44  LblCom even  none   101    145  GARBAGE
   45  LblCom even  none     1      1  AMT_GARBAGE
   46  LblCom even  none  1401   2571  LEAST_COST_STRING
   47  LblCom even  none  1401   2571  LEAST_COST_PREFIX
   48  LblCom even  none  5604  12744  CURRE
   49  LblCom even  none   701   1275  LCP_INDX
   50  LblCom even  none     1      1  COM_STRSP_LEN
   51  LblCom even  none     1      1  COM_SEARCH_STRING
   52  LblCom even  none     1      1  COM_SEARCH_STRING_LEN
   53  LblCom even  none     1      1  COM_STRING_SPACE_LEN
   54  LblCom even  none 12500  30324  COM_STRING_SPACE_H
   55  LblCom even  none     1      1  COM_STRING_SPACE$
   56  LblCom even  none     1      1  COM_STRING_PTR
   57  LblCom even  none     1      1  COM_STRING_INDX
   58  LblCom even  none     1      1  LCP_TABLE_LEN
   59  LblCom even  none  2201   4231  STATE_ITEM_INDEX
   60  LblCom even  none 17601  42301  PATH
   61  LblCom even  none     1      1  PATH_STRINGS_LEN
   62  LblCom even  none     1      1  PATH_ADDR$
   63  LblCom even  none     1      1  PATH_TABLE_LEN
   64  LblCom even  none   401    621  EDGECOST
   65  LblCom even  none     1      1  ITEM_TABLE_LEN
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:153  
   66  LblCom even  none   401    621  ORDERED_ITEM
   67  LblCom even  none   401    621  NEIGHBOR
   68  LblCom even  none   802   1442  PATH_INFO
   69  LblCom even  none   401    621  CHOSEN
   70  LblCom even  none    12     14  REACHED
   71  LblCom even  none     1      1  EXP_PATH_INDX
   72  RoData even  UTS      8     10  PRINT_DERIVATION
   73   Proc  even  none    29     35  PRINT_DERIVATION
   74  RoData even  none     9     11  PRINT_DERIVATION

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    73      0   yes            yes      Std        4  PRINT_DERIVATION

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       2 OUT_STR
         yes           Std       0 FLUSH
         yes           Std       4 PRINT_PRED
         yes           Std       1 COLLECT_GARBAGE
                       nStd      0 X66_AUTO_4
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$OU                                  M$SO                                  M$LO
     M$SI                                  M$UI
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:154  

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:155  


      905        1        /*T***********************************************************/
      906        2        /*T*                                                         */
      907        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      908        4        /*T*                                                         */
      909        5        /*T***********************************************************/
      910        6        PRINT_DERIVATION : PROC(STATE, E, I , CLASHED_TERM);

      6 73 000000   000000 700200 xent  PRINT_DERIV* TSX0  ! X66_AUTO_4
        73 000001   000010 000004                    ZERO    8,4

      911        7
      912        8    1   DCL STATE SBIN WORD;
      913        9    1   DCL E SBIN WORD;
      914       10    1   DCL I SBIN WORD;
      915       11    1   DCL CLASHED_TERM SBIN WORD;
      916       12
      917       13    1   DCL COLLECT_GARBAGE ENTRY(1);
      918       14
      919       15    1   DCL TPTR PTR;
      920       16
      921       17    1   DCL MARKED_ITEM$ PTR EXT;
      922       18    1   DCL 1 MARKED_ITEM BASED ALIGNED,
      923       19    1         2 LEN_IN_H SBIN HALF HALIGNED,
      924       20    1         2 STATE    SBIN HALF HALIGNED,
      925       21    1         2 E        SBIN HALF HALIGNED,
      926       22    1         2 I        SBIN HALF HALIGNED,
      927       23    1         2 LINK     PTR;
      928       24
      929       25        %INCLUDE LR_GRAM_EXT;
      930      564        %INCLUDE LR_CNFG_EXT;
      931      717        %INCLUDE LR_ERR_EXT;
      932      860
      933      861    1   DCL PRINT_PRED ENTRY(4);
      934      862
      935      863
      936      864    1   MARKED_ITEM$ = ADDR(NIL);
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:156  

    864 73 000002   000000 236000 74                 LDQ     0
        73 000003   000000 756000 0                  STQ     MARKED_ITEM$

      937      865
      938      866        %OUTLINE(S="'        which is derived from:'");

    868 73 000004   000003 630400 74                 EPPR0   3
        73 000005   000001 631400 74                 EPPR1   1
        73 000006   000000 701000 xent               TSX1    OUT_STR
        73 000007   000000 011000                    NOP     0

    869 73 000010   000005 631400 74                 EPPR1   5
        73 000011   000000 701000 xent               TSX1    FLUSH
        73 000012   000000 011000                    NOP     0

      939      872    1   CALL PRINT_PRED(STATE,E,I,CLASHED_TERM);

    872 73 000013   200003 630500                    EPPR0   @STATE,,AUTO
        73 000014   000006 631400 74                 EPPR1   6
        73 000015   000000 701000 xent               TSX1    PRINT_PRED
        73 000016   000000 011000                    NOP     0

      940      873
      941      874    2   DO WHILE MARKED_ITEM$ ~= ADDR(NIL);

    874 73 000017   000031 710000 73                 TRA     s:878

      942      875    2     TPTR = MARKED_ITEM$ -> MARKED_ITEM.LINK;

    875 73 000020   000000 470400 0                  LDP0    MARKED_ITEM$
        73 000021   000002 236100                    LDQ     2,,PR0
        73 000022   200007 756100                    STQ     TPTR,,AUTO

      943      876    2     CALL COLLECT_GARBAGE(MARKED_ITEM$);

    876 73 000023   000010 630400 74                 EPPR0   8
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:157  
        73 000024   000007 631400 74                 EPPR1   7
        73 000025   000000 701000 xent               TSX1    COLLECT_GARBAGE
        73 000026   000000 011000                    NOP     0

      944      877    2     MARKED_ITEM$ = TPTR;

    877 73 000027   200007 236100                    LDQ     TPTR,,AUTO
        73 000030   000000 756000 0                  STQ     MARKED_ITEM$

      945      878    2   END;

    878 73 000031   000000 236000 0                  LDQ     MARKED_ITEM$
        73 000032   000000 116000 74                 CMPQ    0
        73 000033   000020 601000 73                 TNZ     s:875

      946      879
      947      880    1   END PRINT_DERIVATION;

    880 73 000034   000000 702200 xent               TSX2  ! X66_ARET
      948      881        %EOD;

PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:158  
--  Include file information  --

   LR_ERR_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_CNFG_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_IO_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_GRAM_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure PRINT_DERIVATION.
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:159  

 **** Variables and constants ****

  ****  Section 000 LblCom MARKED_ITEM$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 MARKED_ITEM$

  ****  Section 001 LblCom OUT_DCBN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 OUT_DCBN

  ****  Section 007 LblCom SYM_PTRS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 SYM_PTRS(0:1400)

  ****  Section 008 LblCom RIGHT_PARTS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h SBIN(18)          1 RIGHT_PARTS(0:8000)

  ****  Section 009 LblCom PROD

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC(72)          1 PROD(0:1500)

PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:160  
  ****  Section 010 LblCom NR_PROD

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_PROD

  ****  Section 011 LblCom NR_SYMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_SYMS

  ****  Section 012 LblCom NR_TERM

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_TERM

  ****  Section 013 LblCom LAST_ACT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_ACT

  ****  Section 014 LblCom LAST_NULL

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_NULL

  ****  Section 015 LblCom NR_ONRIGHT

PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:161  
  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_ONRIGHT

  ****  Section 016 LblCom NR_NT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_NT

  ****  Section 017 LblCom PROD_LEN_MAX_EVER

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 PROD_LEN_MAX_EVER

  ****  Section 018 LblCom LAST_ORDER_SPECIFIED

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_ORDER_SPECIFIED

  ****  Section 019 LblCom SEMANTIC_ORDERING

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 SEMANTIC_ORDERING

  ****  Section 020 LblCom ERR_SEV

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:162  

     0-0-0/w SBIN              1 ERR_SEV

  ****  Section 021 LblCom SET_LENGTHB

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 SET_LENGTHB

  ****  Section 022 LblCom SET_LENGTHW

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 SET_LENGTHW

  ****  Section 023 LblCom EOF_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 EOF_SYMBOL_PTR

  ****  Section 024 LblCom ERROR_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 ERROR_SYMBOL_PTR

  ****  Section 025 LblCom BOF_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 BOF_SYMBOL_PTR
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:163  

  ****  Section 026 LblCom OPTIONS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 OPTIONS(0:25)

  ****  Section 027 LblCom OPTIONS_TEXT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(4)           1 OPTIONS_TEXT(0:25)

  ****  Section 028 LblCom INSTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR              1 INSTR(0:511)               0-0-0/c CHAR(512)         1 INSTRCHR

  ****  Section 029 LblCom INSTR_LISTED

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 INSTR_LISTED

  ****  Section 030 LblCom INSTR_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INSTR_LEN

  ****  Section 031 LblCom INSTR_INDX
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:164  

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INSTR_INDX

  ****  Section 032 LblCom EOF_FLAG

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 EOF_FLAG

  ****  Section 033 LblCom KEY_REC

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(10)          1 KEY_REC

  ****  Section 034 LblCom LINE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(109)         1 LINE

  ****  Section 035 LblCom LINELEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LINELEN

  ****  Section 036 LblCom TSTATS

  ****  Scalars and arrays  ****
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:165  
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(7380)        1 TSTATS

  ****  Section 037 LblCom C#_TO_$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 C#_TO_$(0:2200)

  ****  Section 038 LblCom NR_CONFIG

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_CONFIG

  ****  Section 039 LblCom INIT_CONFIG

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INIT_CONFIG

  ****  Section 040 LblCom MAX_BASIS_ITEMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 MAX_BASIS_ITEMS

  ****  Section 041 LblCom MAX_TOTAL_ITEMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:166  
     0-0-0/w SBIN              1 MAX_TOTAL_ITEMS

  ****  Section 042 LblCom LAST_BINSRCH_ONLY

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_BINSRCH_ONLY

  ****  Section 043 LblCom LAST_BOTH_BITBIN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_BOTH_BITBIN

  ****  Section 044 LblCom GARBAGE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 GARBAGE(0:100)

  ****  Section 045 LblCom AMT_GARBAGE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 AMT_GARBAGE

  ****  Section 046 LblCom LEAST_COST_STRING

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 LEAST_COST_STRING(0:1400)

PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:167  
  ****  Section 047 LblCom LEAST_COST_PREFIX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 LEAST_COST_PREFIX(0:1400)

  ****  Section 048 LblCom CURRE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(126)         1 CURRE(0:1400)

  ****  Section 049 LblCom LCP_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h SBIN(18)          1 LCP_INDX(0:1400)

  ****  Section 050 LblCom COM_STRSP_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 COM_STRSP_LEN

  ****  Section 051 LblCom COM_SEARCH_STRING

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 COM_SEARCH_STRING

  ****  Section 052 LblCom COM_SEARCH_STRING_LEN

PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:168  
  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 COM_SEARCH_STRING_LEN

  ****  Section 053 LblCom COM_STRING_SPACE_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 COM_STRING_SPACE_LEN

  ****  Section 054 LblCom COM_STRING_SPACE_H

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h SBIN(18)    r     1 COM_STRING_SPACE_H(0:24999)

  ****  Section 055 LblCom COM_STRING_SPACE$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 COM_STRING_SPACE$

  ****  Section 056 LblCom COM_STRING_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 COM_STRING_PTR

  ****  Section 057 LblCom COM_STRING_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:169  

     0-0-0/w SBIN              1 COM_STRING_INDX

  ****  Section 058 LblCom LCP_TABLE_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LCP_TABLE_LEN

  ****  Section 059 LblCom STATE_ITEM_INDEX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC              1 STATE_ITEM_INDEX(0:2200)

  ****  Section 060 LblCom PATH

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC        r     1 PATH(0:17600)

  ****  Section 061 LblCom PATH_STRINGS_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 PATH_STRINGS_LEN

  ****  Section 062 LblCom PATH_ADDR$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 PATH_ADDR$
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:170  

  ****  Section 063 LblCom PATH_TABLE_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 PATH_TABLE_LEN

  ****  Section 064 LblCom EDGECOST

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 EDGECOST(0:400)

  ****  Section 065 LblCom ITEM_TABLE_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 ITEM_TABLE_LEN

  ****  Section 066 LblCom ORDERED_ITEM

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC              1 ORDERED_ITEM(0:400)

  ****  Section 067 LblCom NEIGHBOR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NEIGHBOR(0:400)

  ****  Section 068 LblCom PATH_INFO
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:171  

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(28872)       1 PATH_INFO

  ****  Section 069 LblCom CHOSEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w BIT               1 CHOSEN(0:400)

  ****  Section 070 LblCom REACHED

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 REACHED(0:400)

  ****  Section 071 LblCom EXP_PATH_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 EXP_PATH_INDX

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     6-0-0/w PTR         r     1 @CLASHED_TERM              4-0-0/w PTR         r     1 @E
     5-0-0/w PTR         r     1 @I                         3-0-0/w PTR         r     1 @STATE
    *0-0-0/w SBIN        r     1 CLASHED_TERM              *0-0-0/w SBIN        r     1 E
    *0-0-0/w SBIN        r     1 I                         *0-0-0/w SBIN        r     1 STATE
     7-0-0/w PTR         r     1 TPTR
PL6.E3A0      #005=PRINT_DERIVATION File=LR_LASET.:Z8A6TSI                       SAT 08/09/97 09:35 Page:172  

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(72)          1 CELL                       0-0-0/c ACHR              1 COM_STRINGS
     0-0-0/c ACHR              1 COM_STRING_SPACE           0-0-0/c ACHR              1 CSEARCH_STRING
     0-0-0/w STRC(57888)       1 C_SET_B                    0-0-0/w STRC(72)          1 INCLUDES_B
     0-0-0/w STRC(144)         1 INCL_B                     0-0-0/w STRC(5436)        1 ITEM_B
     0-0-0/w STRC(5652)        1 KEY_B                      0-0-0N  NULL        r     1 M$LO
     0-0-0N  NULL        r     1 M$OU                       0-0-0N  NULL        r     1 M$SI
     0-0-0N  NULL        r     1 M$SO                       0-0-0N  NULL        r     1 M$UI
     0-0-0/w STRC(108)   r     1 MARKED_ITEM                0-0-0/c ACHR              1 PATH_STRINGS
     0-0-0/w STRC(90)          1 PREFIX                     0-0-0/w ASTR(72)    r     1 PREFIXCHR
     0-0-0/w STRC              1 STRING                     0-0-0/w ASTR(18)    r     1 STRINGCHR
     0-0-0/w STRC(351)         1 SYMBOL


   Procedure PRINT_DERIVATION requires 29 words for executable code.
   Procedure PRINT_DERIVATION requires 8 words of local(AUTO) storage.

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:173  
      949        1        /*T***********************************************************/
      950        2        /*T*                                                         */
      951        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      952        4        /*T*                                                         */
      953        5        /*T***********************************************************/
      954        6        PRINT_PRED : PROC (STATE, E, I, CLASHED_TERM);
      955        7
      956        8    1   DCL STATE SBIN WORD;
      957        9    1   DCL E SBIN WORD;
      958       10    1   DCL I SBIN WORD;
      959       11    1   DCL CLASHED_TERM SBIN WORD;
      960       12
      961       13        %INCLUDE LR_GRAM_EXT;
      962      552        %INCLUDE LR_CNFG_EXT;
      963      705        %INCLUDE LR_ERR_EXT;
      964      848
      965      849    1   DCL GET_STRING_MEM ENTRY(2);
      966      850    1   DCL PRINT_ITEM ENTRY(3);
      967      851    1   DCL ORDER_ITEMS ENTRY(1);
      968      852    1   DCL FINDNEIGHBORS ENTRY(1);
      969      853    1   DCL EXPAND_DERIV ENTRY(4);
      970      854    1   DCL DERIV_COST ENTRY(6);
      971      855
      972      856    1   DCL PSTATE SBIN WORD;
      973      857    1   DCL PE     SBIN WORD;
      974      858    1   DCL PI     SBIN WORD;
      975      859
      976      860    1   DCL TPTR PTR;
      977      861
      978      862    1   DCL 1 SB ALIGNED BASED,
      979      863    1         2 SET_B(0:1) BOOLEAN UNAL;
      980      864    1   DCL ITEM SBIN WORD;
      981      865    1   DCL NB SBIN WORD;
      982      866    1   DCL N SBIN WORD;
      983      867    1   DCL DONE BOOLEAN;
      984      868    1   DCL SOURCE SBIN WORD;
      985      869    1   DCL MINCOST SBIN WORD;
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:174  
      986      870    1   DCL TCOST SBIN WORD;
      987      871    1   DCL LS SBIN WORD;
      988      872    1   DCL LE SBIN WORD;
      989      873    1   DCL LI SBIN WORD;
      990      874    1   DCL CHOICE SBIN WORD;
      991      875    1   DCL TITEM SBIN WORD;
      992      876
      993      877    1   DCL MARKED_ITEM$ PTR EXT;
      994      878    1   DCL 1 MARKED_ITEM BASED ALIGNED,
      995      879    1         2 LEN_IN_H SBIN HALF HALIGNED,
      996      880    1         2 STATE    SBIN HALF HALIGNED,
      997      881    1         2 E        SBIN HALF HALIGNED,
      998      882    1         2 I        SBIN HALF HALIGNED,
      999      883    1         2 LINK     PTR;
     1000      884
     1001      885    1   DCL ALPHAS CHAR(4);
     1002      886
     1003      887
     1004      888        /* Make sure this item has not been visited */
     1005      889
     1006      890    1   TPTR = MARKED_ITEM$;
     1007      891
     1008      892    2   DO WHILE TPTR ~= ADDR(NIL);
     1009      893    2     IF (TPTR->MARKED_ITEM.STATE = STATE)
     1010      894    2       AND (TPTR -> MARKED_ITEM.E = E)
     1011      895    2       AND (TPTR -> MARKED_ITEM.I = I) THEN
     1012      896    2      RETURN;
     1013      897    2     TPTR = TPTR -> MARKED_ITEM.LINK;
     1014      898    2    END;
     1015      899
     1016      900        /* Check to see whether follow set or include set contains
     1017      901           the clashed terminal , when the item is a basis item.  If not,
     1018      902           then print the item and quit looking at predecessors.  If the
     1019      903           item is a closure item, trace it up to a basis item.
     1020      904        */
     1021      905    1   IF C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(E) -> ITEM_B.ELEM.ITEM#(I)
     1022      906    1            < C#_TO_$(STATE) -> C_SET_B.BASIS_COUNT THEN
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:175  
     1023      907          /* basis item */
     1024      908    1     IF C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) ->
     1025      909    1         KEY_B.W.SYM_AFTER = 0 THEN
     1026      910    1       IF NOT C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) ->
     1027      911    1             KEY_B.FOLLOW$ -> INCL_B.SET(CLASHED_TERM) THEN
     1028      912    1         GOTO END_PRED;
     1029      913    1       ELSE ;
     1030      914    1     ELSE
     1031      915    1       IF C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) ->
     1032      916    1            KEY_B.W.SYM_AFTER > NR_TERM THEN
     1033      917    1         IF NOT C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) ->
     1034      918    1                KEY_B.SET$ -> SB.SET_B(CLASHED_TERM) THEN
     1035      919    1           GOTO END_PRED;
     1036      920    1         ELSE ;
     1037      921    1       ELSE
     1038      922    1         IF C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) ->
     1039      923    1               KEY_B.W.SYM_AFTER ~= CLASHED_TERM THEN
     1040      924    1           GOTO END_PRED;
     1041      925
     1042      926        /* Mark this item so loops are not traversed.
     1043      927        */
     1044      928
     1045      929    1   CALL GET_STRING_MEM(TPTR, LENGTHC(MARKED_ITEM)/2 -1 );
     1046      930    1   TPTR -> MARKED_ITEM.STATE = STATE;
     1047      931    1   TPTR -> MARKED_ITEM.E = E;
     1048      932    1   TPTR -> MARKED_ITEM.I = I;
     1049      933    1   TPTR -> MARKED_ITEM.LINK = MARKED_ITEM$;
     1050      934    1   MARKED_ITEM$ = TPTR;
     1051      935
     1052      936        /* Find the predecessors of this item.
     1053      937        */
     1054      938    1   IF C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(E) -> ITEM_B.ELEM.ITEM#(I)
     1055      939    1            < C#_TO_$(STATE) -> C_SET_B.BASIS_COUNT  THEN
     1056      940          /* Basis item */
     1057      941    2     DO;
     1058      942    2       MINCOST = INFINITE_COST;
     1059      943    3       DO PSTATE = 0 TO NR_CONFIG - 1;
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:176  
     1060      944    4         DO PE = 0 TO C#_TO_$(PSTATE) -> C_SET_B.NR_ELEM - 1;
     1061      945    4           IF C#_TO_$(PSTATE) -> C_SET_B.ELEM.KEY$(PE) -> KEY_B.KEY_VAL$
     1062      946    4                      -> C_SET_B.C_SET# = STATE THEN
     1063      947    5             DO PI = 0 TO C#_TO_$(PSTATE) -> C_SET_B.ELEM.KEY$(PE) ->
     1064      948    5                         KEY_B.W.ELEM_COUNT - 1;
     1065      949    5               IF C#_TO_$(PSTATE) -> C_SET_B.ELEM.ITEM$(PE) -> ITEM_B.ELEM.SUCC_ITEM#(
               949                        PI)
     1066      950    5                     = C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(E) -> ITEM_B.ELEM.ITEM#(I)
               950                              THEN
     1067      951    6                 DO;
     1068      952    6                   CALL DERIV_COST(PSTATE, PE, PI, CLASHED_TERM, 0, TCOST);
     1069      953    6                   IF TCOST < MINCOST THEN
     1070      954    7                     DO;
     1071      955    7                       LS = PSTATE;
     1072      956    7                       LE = PE;
     1073      957    7                       LI = PI;
     1074      958    7                       MINCOST = TCOST;
     1075      959    7                     END;
     1076      960    6                 END;
     1077      961    5             END;
     1078      962    4         END;
     1079      963    3       END;
     1080      964    2       IF MINCOST < INFINITE_COST THEN
     1081      965    2         CALL PRINT_PRED(LS, LE, LI, CLASHED_TERM);
     1082      966    2     END_PRED:
     1083      967            %OUT_STR (S="'          State '");
     1084      970    2       CALL BINCHAR(ALPHAS, STATE);
     1085      971    2       CALL OUT_STR(ALPHAS, LENGTHC(ALPHAS));
     1086      972            %OUT_STR(S="' '");
     1087      975    2       CALL PRINT_ITEM(STATE, E, I);
     1088      976    2     END;
     1089      977    1   ELSE
     1090      978            /* Closure */
     1091      979    2     DO;
     1092      980    2       CALL ORDER_ITEMS(STATE);
     1093      981
     1094      982    2       SOURCE = C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(E) -> ITEM_B.ELEM.ITEM#(I);
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:177  
     1095      983
     1096      984            /* Set edge costs to 1 */
     1097      985    3       DO PE = 0 TO C#_TO_$(STATE) -> C_SET_B.NR_ELEM - 1;
     1098      986    4         DO PI = 0 TO C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(PE) ->
     1099      987    4                     KEY_B.W.ELEM_COUNT - 1;
     1100      988    4           CALL DERIV_COST(STATE, PE, PI, CLASHED_TERM, 0, MINCOST);
     1101      989    4           EDGECOST(C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(PE) ->
     1102      990    4                      ITEM_B.ELEM.ITEM#(PI)) = MINCOST;
     1103      991    4         END;
     1104      992    3       END;
     1105      993
     1106      994    2       CALL FINDNEIGHBORS(STATE);
     1107      995
     1108      996            /* Calculate least cost path from closure item
     1109      997                   to any basis item */
     1110      998
     1111      999    3       DO ITEM = 0 TO C#_TO_$(STATE) -> C_SET_B.ITEM_COUNT - 1;
     1112     1000
     1113     1001    3         CHOSEN(ITEM)         = FALSE;
     1114     1002    3         PATH_INFO.DEST(ITEM) = 0;
     1115     1003    3         PATH_INFO.COST(ITEM) = INFINITE_COST;
     1116     1004
     1117     1005    3       END;
     1118     1006
     1119     1007    2       NB = NEIGHBOR(SOURCE);
     1120     1008
     1121     1009    3       DO N = 0 TO C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(NB) -> KEY_B.W.ELEM_COUNT - 1;
     1122     1010
     1123     1011    3         ITEM = C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(NB) -> ITEM_B.ELEM.ITEM#(N);
     1124     1012    3         PATH_INFO.COST(ITEM) = EDGECOST(ITEM);
     1125     1013    3         PATH_INFO.DEST(ITEM) = SOURCE;
     1126     1014
     1127     1015    3       END;
     1128     1016
     1129     1017    3       DO UNTIL DONE;
     1130     1018
     1131     1019    3         DONE = TRUE;
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:178  
     1132     1020
     1133     1021    3         MINCOST = INFINITE_COST;
     1134     1022
     1135     1023    3         N = C#_TO_$(STATE) -> C_SET_B.ITEM_COUNT - 1;
     1136     1024
     1137     1025    4         DO ITEM = 0 TO N;
     1138     1026
     1139     1027    4           IF NOT CHOSEN(ITEM) THEN
     1140     1028    4             IF PATH_INFO.COST(ITEM) < MINCOST THEN
     1141     1029    5               DO;
     1142     1030    5                 DONE    = FALSE;
     1143     1031    5                 CHOICE  = ITEM;
     1144     1032    5                 MINCOST = PATH_INFO.COST(ITEM);
     1145     1033    5               END;
     1146     1034
     1147     1035    4         END;
     1148     1036
     1149     1037    3         IF NOT DONE THEN
     1150     1038    4           DO;
     1151     1039    4             CHOSEN (CHOICE) = TRUE;
     1152     1040    4             NB = NEIGHBOR(CHOICE);
     1153     1041    4             IF NB >= 0 THEN
     1154     1042    5               DO N = 0 TO C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(NB) -> KEY_B.W.
              1042                        ELEM_COUNT - 1;
     1155     1043
     1156     1044    5                 TITEM = C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(NB) ->
     1157     1045    5                              ITEM_B.ELEM.ITEM#(N);
     1158     1046
     1159     1047    5                 IF PATH_INFO.COST(CHOICE) + EDGECOST(TITEM) < PATH_INFO.COST(TITEM)
              1047                          THEN
     1160     1048    6                   DO;
     1161     1049    6                     PATH_INFO.COST(TITEM) = PATH_INFO.COST(CHOICE) + EDGECOST(TITEM);
     1162     1050    6                     PATH_INFO.DEST(TITEM) = CHOICE;
     1163     1051    6                   END;
     1164     1052
     1165     1053    5               END;
     1166     1054    4           END;
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:179  
     1167     1055    3       END;  /* DO UNTIL */
     1168     1056
     1169     1057    2     MINCOST = INFINITE_COST;
     1170     1058    3     DO TITEM = 0 TO C#_TO_$(STATE) -> C_SET_B.BASIS_COUNT - 1;
     1171     1059    3       IF PATH_INFO.COST(TITEM) < MINCOST THEN
     1172     1060    4         DO;
     1173     1061    4           ITEM = TITEM;
     1174     1062    4           MINCOST = PATH_INFO.COST(TITEM);
     1175     1063    4         END;
     1176     1064    3     END;
     1177     1065
     1178     1066    2       CALL EXPAND_DERIV(STATE, ITEM,
     1179     1067    2                        BINBIT(C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(E) ->
     1180     1068    2                                  ITEM_B.ELEM.ITEM#(I), 36),
     1181     1069    2                         CLASHED_TERM);
     1182     1070    2     END;
     1183     1071
     1184     1072
     1185     1073    1   END PRINT_PRED;
     1186     1074        %EOD;

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:180  
--  Include file information  --

   LR_ERR_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_CNFG_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_IO_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_GRAM_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure PRINT_PRED.

   Procedure PRINT_PRED requires 489 words for executable code.
   Procedure PRINT_PRED requires 30 words of local(AUTO) storage.

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:181  

 Object Unit name= PRINT_PRED                                 File name= LR_LASET.:Z8A6TOU
 UTS= AUG 09 '97 09:35:24.56 SAT                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  LblCom even  none     1      1  OUT_DCBN
    1   DCB   even  none     0      0  M$OU
    2   DCB   even  none     0      0  M$SO
    3   DCB   even  none     0      0  M$LO
    4   DCB   even  none     0      0  M$SI
    5   DCB   even  none     0      0  M$UI
    6  LblCom even  none  1401   2571  SYM_PTRS
    7  LblCom even  none  4001   7641  RIGHT_PARTS
    8  LblCom even  none  3002   5672  PROD
    9  LblCom even  none     1      1  NR_PROD
   10  LblCom even  none     1      1  NR_SYMS
   11  LblCom even  none     1      1  NR_TERM
   12  LblCom even  none     1      1  LAST_ACT
   13  LblCom even  none     1      1  LAST_NULL
   14  LblCom even  none     1      1  NR_ONRIGHT
   15  LblCom even  none     1      1  NR_NT
   16  LblCom even  none     1      1  PROD_LEN_MAX_EVER
   17  LblCom even  none     1      1  LAST_ORDER_SPECIFIED
   18  LblCom even  none     1      1  SEMANTIC_ORDERING
   19  LblCom even  none     1      1  ERR_SEV
   20  LblCom even  none     1      1  SET_LENGTHB
   21  LblCom even  none     1      1  SET_LENGTHW
   22  LblCom even  none     1      1  EOF_SYMBOL_PTR
   23  LblCom even  none     1      1  ERROR_SYMBOL_PTR
   24  LblCom even  none     1      1  BOF_SYMBOL_PTR
   25  LblCom even  none     1      1  OPTIONS
   26  LblCom even  none    26     32  OPTIONS_TEXT
   27  LblCom even  none   128    200  INSTR
   28  LblCom even  none     1      1  INSTR_LISTED
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:182  
   29  LblCom even  none     1      1  INSTR_LEN
   30  LblCom even  none     1      1  INSTR_INDX
   31  LblCom even  none     1      1  EOF_FLAG
   32  LblCom even  none     3      3  KEY_REC
   33  LblCom even  none    28     34  LINE
   34  LblCom even  none     1      1  LINELEN
   35  LblCom even  none   205    315  TSTATS
   36  LblCom even  none  2201   4231  C#_TO_$
   37  LblCom even  none     1      1  NR_CONFIG
   38  LblCom even  none     1      1  INIT_CONFIG
   39  LblCom even  none     1      1  MAX_BASIS_ITEMS
   40  LblCom even  none     1      1  MAX_TOTAL_ITEMS
   41  LblCom even  none     1      1  LAST_BINSRCH_ONLY
   42  LblCom even  none     1      1  LAST_BOTH_BITBIN
   43  LblCom even  none   101    145  GARBAGE
   44  LblCom even  none     1      1  AMT_GARBAGE
   45  LblCom even  none  1401   2571  LEAST_COST_STRING
   46  LblCom even  none  1401   2571  LEAST_COST_PREFIX
   47  LblCom even  none  5604  12744  CURRE
   48  LblCom even  none   701   1275  LCP_INDX
   49  LblCom even  none     1      1  COM_STRSP_LEN
   50  LblCom even  none     1      1  COM_SEARCH_STRING
   51  LblCom even  none     1      1  COM_SEARCH_STRING_LEN
   52  LblCom even  none     1      1  COM_STRING_SPACE_LEN
   53  LblCom even  none 12500  30324  COM_STRING_SPACE_H
   54  LblCom even  none     1      1  COM_STRING_SPACE$
   55  LblCom even  none     1      1  COM_STRING_PTR
   56  LblCom even  none     1      1  COM_STRING_INDX
   57  LblCom even  none     1      1  LCP_TABLE_LEN
   58  LblCom even  none  2201   4231  STATE_ITEM_INDEX
   59  LblCom even  none 17601  42301  PATH
   60  LblCom even  none     1      1  PATH_STRINGS_LEN
   61  LblCom even  none     1      1  PATH_ADDR$
   62  LblCom even  none     1      1  PATH_TABLE_LEN
   63  LblCom even  none   401    621  EDGECOST
   64  LblCom even  none     1      1  ITEM_TABLE_LEN
   65  LblCom even  none   401    621  ORDERED_ITEM
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:183  
   66  LblCom even  none   401    621  NEIGHBOR
   67  LblCom even  none   802   1442  PATH_INFO
   68  LblCom even  none   401    621  CHOSEN
   69  LblCom even  none    12     14  REACHED
   70  LblCom even  none     1      1  EXP_PATH_INDX
   71  LblCom even  none     1      1  MARKED_ITEM$
   72  RoData even  UTS      4      4  PRINT_PRED
   73   Proc  even  none   489    751  PRINT_PRED
   74  RoData even  none    19     23  PRINT_PRED

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    73      0   yes            yes      Std        4  PRINT_PRED

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       2 GET_STRING_MEM
         yes           Std       3 PRINT_ITEM
         yes           Std       4 EXPAND_DERIV
         yes           Std       1 FINDNEIGHBORS
         yes           Std       6 DERIV_COST
         yes           Std       2 OUT_STR
         yes           Std       1 ORDER_ITEMS
                       nStd      0 X66_AUTO_4
                       nStd      0 X66_ARET
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:184  

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$OU                                  M$SO                                  M$LO
     M$SI                                  M$UI

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:185  


      949        1        /*T***********************************************************/
      950        2        /*T*                                                         */
      951        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      952        4        /*T*                                                         */
      953        5        /*T***********************************************************/
      954        6        PRINT_PRED : PROC (STATE, E, I, CLASHED_TERM);

      6 73 000000   000000 700200 xent  PRINT_PRED   TSX0  ! X66_AUTO_4
        73 000001   000036 000004                    ZERO    30,4

      955        7
      956        8    1   DCL STATE SBIN WORD;
      957        9    1   DCL E SBIN WORD;
      958       10    1   DCL I SBIN WORD;
      959       11    1   DCL CLASHED_TERM SBIN WORD;
      960       12
      961       13        %INCLUDE LR_GRAM_EXT;
      962      552        %INCLUDE LR_CNFG_EXT;
      963      705        %INCLUDE LR_ERR_EXT;
      964      848
      965      849    1   DCL GET_STRING_MEM ENTRY(2);
      966      850    1   DCL PRINT_ITEM ENTRY(3);
      967      851    1   DCL ORDER_ITEMS ENTRY(1);
      968      852    1   DCL FINDNEIGHBORS ENTRY(1);
      969      853    1   DCL EXPAND_DERIV ENTRY(4);
      970      854    1   DCL DERIV_COST ENTRY(6);
      971      855
      972      856    1   DCL PSTATE SBIN WORD;
      973      857    1   DCL PE     SBIN WORD;
      974      858    1   DCL PI     SBIN WORD;
      975      859
      976      860    1   DCL TPTR PTR;
      977      861
      978      862    1   DCL 1 SB ALIGNED BASED,
      979      863    1         2 SET_B(0:1) BOOLEAN UNAL;
      980      864    1   DCL ITEM SBIN WORD;
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:186  
      981      865    1   DCL NB SBIN WORD;
      982      866    1   DCL N SBIN WORD;
      983      867    1   DCL DONE BOOLEAN;
      984      868    1   DCL SOURCE SBIN WORD;
      985      869    1   DCL MINCOST SBIN WORD;
      986      870    1   DCL TCOST SBIN WORD;
      987      871    1   DCL LS SBIN WORD;
      988      872    1   DCL LE SBIN WORD;
      989      873    1   DCL LI SBIN WORD;
      990      874    1   DCL CHOICE SBIN WORD;
      991      875    1   DCL TITEM SBIN WORD;
      992      876
      993      877    1   DCL MARKED_ITEM$ PTR EXT;
      994      878    1   DCL 1 MARKED_ITEM BASED ALIGNED,
      995      879    1         2 LEN_IN_H SBIN HALF HALIGNED,
      996      880    1         2 STATE    SBIN HALF HALIGNED,
      997      881    1         2 E        SBIN HALF HALIGNED,
      998      882    1         2 I        SBIN HALF HALIGNED,
      999      883    1         2 LINK     PTR;
     1000      884
     1001      885    1   DCL ALPHAS CHAR(4);
     1002      886
     1003      887
     1004      888        /* Make sure this item has not been visited */
     1005      889
     1006      890    1   TPTR = MARKED_ITEM$;

    890 73 000002   000000 236000 71                 LDQ     MARKED_ITEM$
        73 000003   200012 756100                    STQ     TPTR,,AUTO

     1007      891
     1008      892    2   DO WHILE TPTR ~= ADDR(NIL);

    892 73 000004   000032 710000 73                 TRA     s:898

     1009      893    2     IF (TPTR->MARKED_ITEM.STATE = STATE)

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:187  
    893 73 000005   200003 470500                    LDP0    @STATE,,AUTO
        73 000006   200012 471500                    LDP1    TPTR,,AUTO
        73 000007   100000 236100                    LDQ     0,,PR1
        73 000010   000022 736000                    QLS     18
        73 000011   000022 732000                    QRS     18
        73 000012   000000 116100                    CMPQ    0,,PR0
        73 000013   000030 601000 73                 TNZ     s:897
        73 000014   200004 473500                    LDP3    @E,,AUTO
        73 000015   100001 236100                    LDQ     1,,PR1
        73 000016   000022 732000                    QRS     18
        73 000017   300000 116100                    CMPQ    0,,PR3
        73 000020   000030 601000 73                 TNZ     s:897
        73 000021   200005 474500                    LDP4    @I,,AUTO
        73 000022   100001 236100                    LDQ     1,,PR1
        73 000023   000022 736000                    QLS     18
        73 000024   000022 732000                    QRS     18
        73 000025   400000 116100                    CMPQ    0,,PR4
        73 000026   000030 601000 73                 TNZ     s:897

     1010      894    2       AND (TPTR -> MARKED_ITEM.E = E)
     1011      895    2       AND (TPTR -> MARKED_ITEM.I = I) THEN
     1012      896    2      RETURN;

    896 73 000027   000000 702200 xent               TSX2  ! X66_ARET

     1013      897    2     TPTR = TPTR -> MARKED_ITEM.LINK;

    897 73 000030   100002 236100                    LDQ     2,,PR1
        73 000031   200012 756100                    STQ     TPTR,,AUTO

     1014      898    2    END;

    898 73 000032   000000 116000 74                 CMPQ    0
        73 000033   000005 601000 73                 TNZ     s:893

     1015      899
     1016      900        /* Check to see whether follow set or include set contains
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:188  
     1017      901           the clashed terminal , when the item is a basis item.  If not,
     1018      902           then print the item and quit looking at predecessors.  If the
     1019      903           item is a closure item, trace it up to a basis item.
     1020      904        */
     1021      905    1   IF C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(E) -> ITEM_B.ELEM.ITEM#(I)

    905 73 000034   200003 470500                    LDP0    @STATE,,AUTO
        73 000035   000000 720100                    LXL0    0,,PR0
        73 000036   000000 471410 36                 LDP1    C#_TO_$,X0
        73 000037   200004 473500                    LDP3    @E,,AUTO
        73 000040   300000 235100                    LDA     0,,PR3
        73 000041   000002 735000                    ALS     2
        73 000042   100006 474505                    LDP4    6,AL,PR1
        73 000043   200005 471500                    LDP1    @I,,AUTO
        73 000044   100000 720100                    LXL0    0,,PR1
        73 000045   000000 721100                    LXL1    0,,PR0
        73 000046   000000 475411 36                 LDP5    C#_TO_$,X1
        73 000047   500002 721100                    LXL1    2,,PR5
        73 000050   400000 101110                    CMPX1   0,X0,PR4
        73 000051   000140 604400 73                 TMOZ    s:929

     1022      906    1            < C#_TO_$(STATE) -> C_SET_B.BASIS_COUNT THEN
     1023      907          /* basis item */
     1024      908    1     IF C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) ->

    908 73 000052   000000 720100                    LXL0    0,,PR0
        73 000053   000000 474410 36                 LDP4    C#_TO_$,X0
        73 000054   300000 235100                    LDA     0,,PR3
        73 000055   000002 735000                    ALS     2
        73 000056   400004 475505                    LDP5    4,AL,PR4
        73 000057   500004 235100                    LDA     4,,PR5
        73 000060   000100 601000 73                 TNZ     s:915

     1025      909    1         KEY_B.W.SYM_AFTER = 0 THEN
     1026      910    1       IF NOT C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) ->

    910 73 000061   000000 720100                    LXL0    0,,PR0
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:189  
        73 000062   000000 474410 36                 LDP4    C#_TO_$,X0
        73 000063   300000 235100                    LDA     0,,PR3
        73 000064   000002 735000                    ALS     2
        73 000065   400004 475505                    LDP5    4,AL,PR4
        73 000066   500003 474500                    LDP4    3,,PR5
        73 000067   200006 475500                    LDP5    @CLASHED_TERM,,AUTO
        73 000070   500000 235100                    LDA     0,,PR5
        73 000071   000073 605000 73                 TPL     s:910+10
        73 000072   000044 035003                    ADLA    36,DU
        73 000073   000000 066505                    CMPB    filb='0'B
        73 000074   400003 000001                    BDSC    3,A,PR4                  by=0,bit=0,n=1
        73 000075   000001 000022 74                 BDSC    1                        by=0,bit=0,n=18
        73 000076   000350 600000 73                 TZE     END_PRED
        73 000077   000140 710000 73                 TRA     s:929

     1027      911    1             KEY_B.FOLLOW$ -> INCL_B.SET(CLASHED_TERM) THEN
     1028      912    1         GOTO END_PRED;
     1029      913    1       ELSE ;
     1030      914    1     ELSE
     1031      915    1       IF C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) ->

    915 73 000100   000000 720100                    LXL0    0,,PR0
        73 000101   000000 474410 36                 LDP4    C#_TO_$,X0
        73 000102   300000 235100                    LDA     0,,PR3
        73 000103   000002 735000                    ALS     2
        73 000104   400004 475505                    LDP5    4,AL,PR4
        73 000105   500004 236100                    LDQ     4,,PR5
        73 000106   000000 116000 11                 CMPQ    NR_TERM
        73 000107   000127 604400 73                 TMOZ    s:922

     1032      916    1            KEY_B.W.SYM_AFTER > NR_TERM THEN
     1033      917    1         IF NOT C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) ->

    917 73 000110   000000 720100                    LXL0    0,,PR0
        73 000111   000000 474410 36                 LDP4    C#_TO_$,X0
        73 000112   300000 235100                    LDA     0,,PR3
        73 000113   000002 735000                    ALS     2
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:190  
        73 000114   400004 475505                    LDP5    4,AL,PR4
        73 000115   500002 474500                    LDP4    2,,PR5
        73 000116   200006 475500                    LDP5    @CLASHED_TERM,,AUTO
        73 000117   500000 235100                    LDA     0,,PR5
        73 000120   000122 605000 73                 TPL     s:917+10
        73 000121   000044 035003                    ADLA    36,DU
        73 000122   000000 066505                    CMPB    filb='0'B
        73 000123   400000 000001                    BDSC    0,A,PR4                  by=0,bit=0,n=1
        73 000124   000001 000022 74                 BDSC    1                        by=0,bit=0,n=18
        73 000125   000350 600000 73                 TZE     END_PRED
        73 000126   000140 710000 73                 TRA     s:929

     1034      918    1                KEY_B.SET$ -> SB.SET_B(CLASHED_TERM) THEN
     1035      919    1           GOTO END_PRED;
     1036      920    1         ELSE ;
     1037      921    1       ELSE
     1038      922    1         IF C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) ->

    922 73 000127   000000 720100                    LXL0    0,,PR0
        73 000130   000000 474410 36                 LDP4    C#_TO_$,X0
        73 000131   300000 235100                    LDA     0,,PR3
        73 000132   000002 735000                    ALS     2
        73 000133   400004 475505                    LDP5    4,AL,PR4
        73 000134   200006 474500                    LDP4    @CLASHED_TERM,,AUTO
        73 000135   500004 236100                    LDQ     4,,PR5
        73 000136   400000 116100                    CMPQ    0,,PR4
        73 000137   000350 601000 73                 TNZ     END_PRED

     1039      923    1               KEY_B.W.SYM_AFTER ~= CLASHED_TERM THEN
     1040      924    1           GOTO END_PRED;
     1041      925
     1042      926        /* Mark this item so loops are not traversed.
     1043      927        */
     1044      928
     1045      929    1   CALL GET_STRING_MEM(TPTR, LENGTHC(MARKED_ITEM)/2 -1 );

    929 73 000140   000004 236000 74                 LDQ     4
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:191  
        73 000141   200031 756100                    STQ     ALPHAS+2,,AUTO
        73 000142   200012 634500                    EPPR4   TPTR,,AUTO
        73 000143   200030 454500                    STP4    ALPHAS+1,,AUTO
        73 000144   200030 630500                    EPPR0   ALPHAS+1,,AUTO
        73 000145   000002 631400 74                 EPPR1   2
        73 000146   000000 701000 xent               TSX1    GET_STRING_MEM
        73 000147   000000 011000                    NOP     0

     1046      930    1   TPTR -> MARKED_ITEM.STATE = STATE;

    930 73 000150   200003 470500                    LDP0    @STATE,,AUTO
        73 000151   000000 720100                    LXL0    0,,PR0
        73 000152   200012 471500                    LDP1    TPTR,,AUTO
        73 000153   100000 440100                    SXL0    0,,PR1

     1047      931    1   TPTR -> MARKED_ITEM.E = E;

    931 73 000154   200004 471500                    LDP1    @E,,AUTO
        73 000155   100000 720100                    LXL0    0,,PR1
        73 000156   200012 473500                    LDP3    TPTR,,AUTO
        73 000157   300001 740100                    STX0    1,,PR3

     1048      932    1   TPTR -> MARKED_ITEM.I = I;

    932 73 000160   200005 473500                    LDP3    @I,,AUTO
        73 000161   300000 720100                    LXL0    0,,PR3
        73 000162   200012 474500                    LDP4    TPTR,,AUTO
        73 000163   400001 440100                    SXL0    1,,PR4

     1049      933    1   TPTR -> MARKED_ITEM.LINK = MARKED_ITEM$;

    933 73 000164   000000 236000 71                 LDQ     MARKED_ITEM$
        73 000165   200012 474500                    LDP4    TPTR,,AUTO
        73 000166   400002 756100                    STQ     2,,PR4

     1050      934    1   MARKED_ITEM$ = TPTR;

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:192  
    934 73 000167   200012 236100                    LDQ     TPTR,,AUTO
        73 000170   000000 756000 71                 STQ     MARKED_ITEM$

     1051      935
     1052      936        /* Find the predecessors of this item.
     1053      937        */
     1054      938    1   IF C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(E) -> ITEM_B.ELEM.ITEM#(I)

    938 73 000171   000000 720100                    LXL0    0,,PR0
        73 000172   000000 474410 36                 LDP4    C#_TO_$,X0
        73 000173   100000 235100                    LDA     0,,PR1
        73 000174   000002 735000                    ALS     2
        73 000175   400006 475505                    LDP5    6,AL,PR4
        73 000176   300000 720100                    LXL0    0,,PR3
        73 000177   000000 721100                    LXL1    0,,PR0
        73 000200   000000 474411 36                 LDP4    C#_TO_$,X1
        73 000201   400002 721100                    LXL1    2,,PR4
        73 000202   500000 101110                    CMPX1   0,X0,PR5
        73 000203   000401 604400 73                 TMOZ    s:980

     1055      939    1            < C#_TO_$(STATE) -> C_SET_B.BASIS_COUNT  THEN
     1056      940          /* Basis item */
     1057      941    2     DO;

     1058      942    2       MINCOST = INFINITE_COST;

    942 73 000204   303237 235007                    LDA     99999,DL
        73 000205   200020 755100                    STA     MINCOST,,AUTO

     1059      943    3       DO PSTATE = 0 TO NR_CONFIG - 1;

    943 73 000206   200007 450100                    STZ     PSTATE,,AUTO
        73 000207   000326 710000 73                 TRA     s:963+1

     1060      944    4         DO PE = 0 TO C#_TO_$(PSTATE) -> C_SET_B.NR_ELEM - 1;

    944 73 000210   200010 450100                    STZ     PE,,AUTO
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:193  
        73 000211   000317 710000 73                 TRA     s:962+1

     1061      945    4           IF C#_TO_$(PSTATE) -> C_SET_B.ELEM.KEY$(PE) -> KEY_B.KEY_VAL$

    945 73 000212   200007 720100                    LXL0    PSTATE,,AUTO
        73 000213   000000 470410 36                 LDP0    C#_TO_$,X0
        73 000214   200010 235100                    LDA     PE,,AUTO
        73 000215   000002 735000                    ALS     2
        73 000216   000004 471505                    LDP1    4,AL,PR0
        73 000217   100003 473500                    LDP3    3,,PR1
        73 000220   200003 474500                    LDP4    @STATE,,AUTO
        73 000221   300001 236100                    LDQ     1,,PR3
        73 000222   000022 772000                    QRL     18
        73 000223   400000 116100                    CMPQ    0,,PR4
        73 000224   000316 601000 73                 TNZ     s:962

     1062      946    4                      -> C_SET_B.C_SET# = STATE THEN
     1063      947    5             DO PI = 0 TO C#_TO_$(PSTATE) -> C_SET_B.ELEM.KEY$(PE) ->

    947 73 000225   200011 450100                    STZ     PI,,AUTO
        73 000226   000304 710000 73                 TRA     s:961+1

     1064      948    5                         KEY_B.W.ELEM_COUNT - 1;
     1065      949    5               IF C#_TO_$(PSTATE) -> C_SET_B.ELEM.ITEM$(PE) -> ITEM_B.ELEM.SUCC_ITEM#(
               949                        PI)

    949 73 000227   200007 720100                    LXL0    PSTATE,,AUTO
        73 000230   000000 470410 36                 LDP0    C#_TO_$,X0
        73 000231   200010 235100                    LDA     PE,,AUTO
        73 000232   000002 735000                    ALS     2
        73 000233   000006 471505                    LDP1    6,AL,PR0
        73 000234   200003 473500                    LDP3    @STATE,,AUTO
        73 000235   300000 721100                    LXL1    0,,PR3
        73 000236   000000 474411 36                 LDP4    C#_TO_$,X1
        73 000237   200004 475500                    LDP5    @E,,AUTO
        73 000240   500000 235100                    LDA     0,,PR5
        73 000241   000002 735000                    ALS     2
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:194  
        73 000242   400006 476505                    LDP6    6,AL,PR4
        73 000243   200005 474500                    LDP4    @I,,AUTO
        73 000244   400000 721100                    LXL1    0,,PR4
        73 000245   200011 722100                    LXL2    PI,,AUTO
        73 000246   100000 723112                    LXL3    0,X2,PR1
        73 000247   600000 103111                    CMPX3   0,X1,PR6
        73 000250   000303 601000 73                 TNZ     s:961

     1066      950    5                     = C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(E) -> ITEM_B.ELEM.ITEM#(I)
               950                              THEN
     1067      951    6                 DO;

     1068      952    6                   CALL DERIV_COST(PSTATE, PE, PI, CLASHED_TERM, 0, TCOST);

    952 73 000251   200021 631500                    EPPR1   TCOST,,AUTO
        73 000252   200035 451500                    STP1    ALPHAS+6,,AUTO
        73 000253   000006 236000 74                 LDQ     6
        73 000254   200034 756100                    STQ     ALPHAS+5,,AUTO
        73 000255   200006 236100                    LDQ     @CLASHED_TERM,,AUTO
        73 000256   200033 756100                    STQ     ALPHAS+4,,AUTO
        73 000257   200011 636500                    EPPR6   PI,,AUTO
        73 000260   200032 456500                    STP6    ALPHAS+3,,AUTO
        73 000261   200010 637500                    EPPR7   PE,,AUTO
        73 000262   200031 457500                    STP7    ALPHAS+2,,AUTO
        73 000263   200007 630500                    EPPR0   PSTATE,,AUTO
        73 000264   200030 450500                    STP0    ALPHAS+1,,AUTO
        73 000265   200030 630500                    EPPR0   ALPHAS+1,,AUTO
        73 000266   000005 631400 74                 EPPR1   5
        73 000267   000000 701000 xent               TSX1    DERIV_COST
        73 000270   000000 011000                    NOP     0

     1069      953    6                   IF TCOST < MINCOST THEN

    953 73 000271   200021 236100                    LDQ     TCOST,,AUTO
        73 000272   200020 116100                    CMPQ    MINCOST,,AUTO
        73 000273   000303 605000 73                 TPL     s:961

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:195  
     1070      954    7                     DO;

     1071      955    7                       LS = PSTATE;

    955 73 000274   200007 235100                    LDA     PSTATE,,AUTO
        73 000275   200022 755100                    STA     LS,,AUTO

     1072      956    7                       LE = PE;

    956 73 000276   200010 235100                    LDA     PE,,AUTO
        73 000277   200023 755100                    STA     LE,,AUTO

     1073      957    7                       LI = PI;

    957 73 000300   200011 235100                    LDA     PI,,AUTO
        73 000301   200024 755100                    STA     LI,,AUTO

     1074      958    7                       MINCOST = TCOST;

    958 73 000302   200020 756100                    STQ     MINCOST,,AUTO

     1075      959    7                     END;

     1076      960    6                 END;

     1077      961    5             END;

    961 73 000303   200011 054100                    AOS     PI,,AUTO
        73 000304   200007 720100                    LXL0    PSTATE,,AUTO
        73 000305   000000 470410 36                 LDP0    C#_TO_$,X0
        73 000306   200010 235100                    LDA     PE,,AUTO
        73 000307   000002 735000                    ALS     2
        73 000310   000004 471505                    LDP1    4,AL,PR0
        73 000311   100005 236100                    LDQ     5,,PR1
        73 000312   000022 736000                    QLS     18
        73 000313   000022 732000                    QRS     18
        73 000314   200011 116100                    CMPQ    PI,,AUTO
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:196  
        73 000315   000227 605400 73                 TPNZ    s:949

     1078      962    4         END;

    962 73 000316   200010 054100                    AOS     PE,,AUTO
        73 000317   200007 720100                    LXL0    PSTATE,,AUTO
        73 000320   000000 470410 36                 LDP0    C#_TO_$,X0
        73 000321   000001 236100                    LDQ     1,,PR0
        73 000322   777777 376007                    ANQ     -1,DL
        73 000323   200010 116100                    CMPQ    PE,,AUTO
        73 000324   000212 605400 73                 TPNZ    s:945

     1079      963    3       END;

    963 73 000325   200007 054100                    AOS     PSTATE,,AUTO
        73 000326   200007 236100                    LDQ     PSTATE,,AUTO
        73 000327   000000 116000 37                 CMPQ    NR_CONFIG
        73 000330   000210 604000 73                 TMI     s:944

     1080      964    2       IF MINCOST < INFINITE_COST THEN

    964 73 000331   200020 235100                    LDA     MINCOST,,AUTO
        73 000332   303237 115007                    CMPA    99999,DL
        73 000333   000350 605000 73                 TPL     END_PRED

     1081      965    2         CALL PRINT_PRED(LS, LE, LI, CLASHED_TERM);

    965 73 000334   200006 236100                    LDQ     @CLASHED_TERM,,AUTO
        73 000335   200033 756100                    STQ     ALPHAS+4,,AUTO
        73 000336   200024 630500                    EPPR0   LI,,AUTO
        73 000337   200032 450500                    STP0    ALPHAS+3,,AUTO
        73 000340   200023 631500                    EPPR1   LE,,AUTO
        73 000341   200031 451500                    STP1    ALPHAS+2,,AUTO
        73 000342   200022 633500                    EPPR3   LS,,AUTO
        73 000343   200030 453500                    STP3    ALPHAS+1,,AUTO
        73 000344   200030 630500                    EPPR0   ALPHAS+1,,AUTO
        73 000345   000007 631400 74                 EPPR1   7
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:197  
        73 000346   000000 701000 73                 TSX1    s:6
        73 000347   000000 011000                    NOP     0

     1082      966    2     END_PRED:
     1083      967            %OUT_STR (S="'          State '");

    968 73 000350   000011 630400 74    END_PRED     EPPR0   9
        73 000351   000002 631400 74                 EPPR1   2
        73 000352   000000 701000 xent               TSX1    OUT_STR
        73 000353   000000 011000                    NOP     0

     1084      970    2       CALL BINCHAR(ALPHAS, STATE);

    970 73 000354   200003 470500                    LDP0    @STATE,,AUTO
        73 000355   000100 301500                    BTD
        73 000356   000000 000004                    NDSC9   0,,PR0                   cn=0,s=lsgnf,sf=0,n=4
        73 000357   200027 030004                    NDSC9   ALPHAS,,AUTO             cn=0,s=nosgn,sf=0,n=4

     1085      971    2       CALL OUT_STR(ALPHAS, LENGTHC(ALPHAS));

    971 73 000360   000014 236000 74                 LDQ     12
        73 000361   200031 756100                    STQ     ALPHAS+2,,AUTO
        73 000362   200027 631500                    EPPR1   ALPHAS,,AUTO
        73 000363   200030 451500                    STP1    ALPHAS+1,,AUTO
        73 000364   200030 630500                    EPPR0   ALPHAS+1,,AUTO
        73 000365   000002 631400 74                 EPPR1   2
        73 000366   000000 701000 xent               TSX1    OUT_STR
        73 000367   000000 011000                    NOP     0

     1086      972            %OUT_STR(S="' '");

    973 73 000370   000017 630400 74                 EPPR0   15
        73 000371   000002 631400 74                 EPPR1   2
        73 000372   000000 701000 xent               TSX1    OUT_STR
        73 000373   000000 011000                    NOP     0

     1087      975    2       CALL PRINT_ITEM(STATE, E, I);
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:198  

    975 73 000374   200003 630500                    EPPR0   @STATE,,AUTO
        73 000375   000021 631400 74                 EPPR1   17
        73 000376   000000 701000 xent               TSX1    PRINT_ITEM
        73 000377   000000 011000                    NOP     0

     1088      976    2     END;

    976 73 000400   000750 710000 73                 TRA     s:1073

     1089      977    1   ELSE
     1090      978            /* Closure */
     1091      979    2     DO;

     1092      980    2       CALL ORDER_ITEMS(STATE);

    980 73 000401   200003 630500                    EPPR0   @STATE,,AUTO
        73 000402   000022 631400 74                 EPPR1   18
        73 000403   000000 701000 xent               TSX1    ORDER_ITEMS
        73 000404   000000 011000                    NOP     0

     1093      981
     1094      982    2       SOURCE = C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(E) -> ITEM_B.ELEM.ITEM#(I);

    982 73 000405   200003 470500                    LDP0    @STATE,,AUTO
        73 000406   000000 720100                    LXL0    0,,PR0
        73 000407   000000 471410 36                 LDP1    C#_TO_$,X0
        73 000410   200004 473500                    LDP3    @E,,AUTO
        73 000411   300000 235100                    LDA     0,,PR3
        73 000412   000002 735000                    ALS     2
        73 000413   100006 474505                    LDP4    6,AL,PR1
        73 000414   200005 471500                    LDP1    @I,,AUTO
        73 000415   100000 720100                    LXL0    0,,PR1
        73 000416   400000 236110                    LDQ     0,X0,PR4
        73 000417   000022 732000                    QRS     18
        73 000420   200017 756100                    STQ     SOURCE,,AUTO

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:199  
     1095      983
     1096      984            /* Set edge costs to 1 */
     1097      985    3       DO PE = 0 TO C#_TO_$(STATE) -> C_SET_B.NR_ELEM - 1;

    985 73 000421   200010 450100                    STZ     PE,,AUTO
        73 000422   000474 710000 73                 TRA     s:992+1

     1098      986    4         DO PI = 0 TO C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(PE) ->

    986 73 000423   200011 450100                    STZ     PI,,AUTO
        73 000424   000460 710000 73                 TRA     s:991+1

     1099      987    4                     KEY_B.W.ELEM_COUNT - 1;
     1100      988    4           CALL DERIV_COST(STATE, PE, PI, CLASHED_TERM, 0, MINCOST);

    988 73 000425   200020 630500                    EPPR0   MINCOST,,AUTO
        73 000426   200035 450500                    STP0    ALPHAS+6,,AUTO
        73 000427   000006 236000 74                 LDQ     6
        73 000430   200034 756100                    STQ     ALPHAS+5,,AUTO
        73 000431   200006 236100                    LDQ     @CLASHED_TERM,,AUTO
        73 000432   200033 756100                    STQ     ALPHAS+4,,AUTO
        73 000433   200011 631500                    EPPR1   PI,,AUTO
        73 000434   200032 451500                    STP1    ALPHAS+3,,AUTO
        73 000435   200010 633500                    EPPR3   PE,,AUTO
        73 000436   200031 453500                    STP3    ALPHAS+2,,AUTO
        73 000437   200003 236100                    LDQ     @STATE,,AUTO
        73 000440   200030 756100                    STQ     ALPHAS+1,,AUTO
        73 000441   200030 630500                    EPPR0   ALPHAS+1,,AUTO
        73 000442   000005 631400 74                 EPPR1   5
        73 000443   000000 701000 xent               TSX1    DERIV_COST
        73 000444   000000 011000                    NOP     0

     1101      989    4           EDGECOST(C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(PE) ->

    989 73 000445   200003 470500                    LDP0    @STATE,,AUTO
        73 000446   000000 720100                    LXL0    0,,PR0
        73 000447   000000 471410 36                 LDP1    C#_TO_$,X0
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:200  
        73 000450   200010 235100                    LDA     PE,,AUTO
        73 000451   000002 735000                    ALS     2
        73 000452   100006 473505                    LDP3    6,AL,PR1
        73 000453   200011 720100                    LXL0    PI,,AUTO
        73 000454   300000 221110                    LDX1    0,X0,PR3
        73 000455   200020 236100                    LDQ     MINCOST,,AUTO
        73 000456   000000 756011 63                 STQ     EDGECOST,X1

     1102      990    4                      ITEM_B.ELEM.ITEM#(PI)) = MINCOST;
     1103      991    4         END;

    991 73 000457   200011 054100                    AOS     PI,,AUTO
        73 000460   200003 470500                    LDP0    @STATE,,AUTO
        73 000461   000000 720100                    LXL0    0,,PR0
        73 000462   000000 471410 36                 LDP1    C#_TO_$,X0
        73 000463   200010 235100                    LDA     PE,,AUTO
        73 000464   000002 735000                    ALS     2
        73 000465   100004 473505                    LDP3    4,AL,PR1
        73 000466   300005 236100                    LDQ     5,,PR3
        73 000467   000022 736000                    QLS     18
        73 000470   000022 732000                    QRS     18
        73 000471   200011 116100                    CMPQ    PI,,AUTO
        73 000472   000425 605400 73                 TPNZ    s:988

     1104      992    3       END;

    992 73 000473   200010 054100                    AOS     PE,,AUTO
        73 000474   000000 720100                    LXL0    0,,PR0
        73 000475   000000 471410 36                 LDP1    C#_TO_$,X0
        73 000476   100001 236100                    LDQ     1,,PR1
        73 000477   777777 376007                    ANQ     -1,DL
        73 000500   200010 116100                    CMPQ    PE,,AUTO
        73 000501   000423 605400 73                 TPNZ    s:986

     1105      993
     1106      994    2       CALL FINDNEIGHBORS(STATE);

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:201  
    994 73 000502   200003 630500                    EPPR0   @STATE,,AUTO
        73 000503   000022 631400 74                 EPPR1   18
        73 000504   000000 701000 xent               TSX1    FINDNEIGHBORS
        73 000505   000000 011000                    NOP     0

     1107      995
     1108      996            /* Calculate least cost path from closure item
     1109      997                   to any basis item */
     1110      998
     1111      999    3       DO ITEM = 0 TO C#_TO_$(STATE) -> C_SET_B.ITEM_COUNT - 1;

    999 73 000506   200013 450100                    STZ     ITEM,,AUTO
        73 000507   000516 710000 73                 TRA     s:1005+1

     1112     1000
     1113     1001    3         CHOSEN(ITEM)         = FALSE;

   1001 73 000510   200013 720100                    LXL0    ITEM,,AUTO
        73 000511   000000 450010 68                 STZ     CHOSEN,X0

     1114     1002    3         PATH_INFO.DEST(ITEM) = 0;

   1002 73 000512   000000 450010 67                 STZ     PATH_INFO,X0

     1115     1003    3         PATH_INFO.COST(ITEM) = INFINITE_COST;

   1003 73 000513   303237 235007                    LDA     99999,DL
        73 000514   000621 755010 67                 STA     PATH_INFO+401,X0

     1116     1004
     1117     1005    3       END;

   1005 73 000515   200013 054100                    AOS     ITEM,,AUTO
        73 000516   200003 470500                    LDP0    @STATE,,AUTO
        73 000517   000000 720100                    LXL0    0,,PR0
        73 000520   000000 471410 36                 LDP1    C#_TO_$,X0
        73 000521   100003 236100                    LDQ     3,,PR1
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:202  
        73 000522   000022 732000                    QRS     18
        73 000523   200013 116100                    CMPQ    ITEM,,AUTO
        73 000524   000510 605400 73                 TPNZ    s:1001

     1118     1006
     1119     1007    2       NB = NEIGHBOR(SOURCE);

   1007 73 000525   200017 720100                    LXL0    SOURCE,,AUTO
        73 000526   000000 235010 66                 LDA     NEIGHBOR,X0
        73 000527   200014 755100                    STA     NB,,AUTO

     1120     1008
     1121     1009    3       DO N = 0 TO C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(NB) -> KEY_B.W.ELEM_COUNT - 1;

   1009 73 000530   200015 450100                    STZ     N,,AUTO
        73 000531   000552 710000 73                 TRA     s:1015+1

     1122     1010
     1123     1011    3         ITEM = C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(NB) -> ITEM_B.ELEM.ITEM#(N);

   1011 73 000532   200003 470500                    LDP0    @STATE,,AUTO
        73 000533   000000 720100                    LXL0    0,,PR0
        73 000534   000000 471410 36                 LDP1    C#_TO_$,X0
        73 000535   200014 235100                    LDA     NB,,AUTO
        73 000536   000002 735000                    ALS     2
        73 000537   100006 473505                    LDP3    6,AL,PR1
        73 000540   200015 720100                    LXL0    N,,AUTO
        73 000541   300000 236110                    LDQ     0,X0,PR3
        73 000542   000022 732000                    QRS     18
        73 000543   200013 756100                    STQ     ITEM,,AUTO

     1124     1012    3         PATH_INFO.COST(ITEM) = EDGECOST(ITEM);

   1012 73 000544   200013 721100                    LXL1    ITEM,,AUTO
        73 000545   000000 235006 63                 LDA     EDGECOST,QL
        73 000546   000621 755011 67                 STA     PATH_INFO+401,X1

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:203  
     1125     1013    3         PATH_INFO.DEST(ITEM) = SOURCE;

   1013 73 000547   200017 236100                    LDQ     SOURCE,,AUTO
        73 000550   000000 756011 67                 STQ     PATH_INFO,X1

     1126     1014
     1127     1015    3       END;

   1015 73 000551   200015 054100                    AOS     N,,AUTO
        73 000552   000000 720100                    LXL0    0,,PR0
        73 000553   000000 471410 36                 LDP1    C#_TO_$,X0
        73 000554   200014 235100                    LDA     NB,,AUTO
        73 000555   000002 735000                    ALS     2
        73 000556   100004 473505                    LDP3    4,AL,PR1
        73 000557   300005 236100                    LDQ     5,,PR3
        73 000560   000022 736000                    QLS     18
        73 000561   000022 732000                    QRS     18
        73 000562   200015 116100                    CMPQ    N,,AUTO
        73 000563   000532 605400 73                 TPNZ    s:1011

     1128     1016
     1129     1017    3       DO UNTIL DONE;

     1130     1018
     1131     1019    3         DONE = TRUE;

   1019 73 000564   400000 236003                    LDQ     -131072,DU
        73 000565   200016 756100                    STQ     DONE,,AUTO

     1132     1020
     1133     1021    3         MINCOST = INFINITE_COST;

   1021 73 000566   303237 235007                    LDA     99999,DL
        73 000567   200020 755100                    STA     MINCOST,,AUTO

     1134     1022
     1135     1023    3         N = C#_TO_$(STATE) -> C_SET_B.ITEM_COUNT - 1;
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:204  

   1023 73 000570   200003 470500                    LDP0    @STATE,,AUTO
        73 000571   000000 720100                    LXL0    0,,PR0
        73 000572   000000 471410 36                 LDP1    C#_TO_$,X0
        73 000573   100003 236100                    LDQ     3,,PR1
        73 000574   000022 732000                    QRS     18
        73 000575   000001 136007                    SBLQ    1,DL
        73 000576   200015 756100                    STQ     N,,AUTO

     1136     1024
     1137     1025    4         DO ITEM = 0 TO N;

   1025 73 000577   200013 450100                    STZ     ITEM,,AUTO
        73 000600   000614 710000 73                 TRA     s:1035+1

     1138     1026
     1139     1027    4           IF NOT CHOSEN(ITEM) THEN

   1027 73 000601   200013 720100                    LXL0    ITEM,,AUTO
        73 000602   000000 234010 68                 SZN     CHOSEN,X0
        73 000603   000613 604000 73                 TMI     s:1035

     1140     1028    4             IF PATH_INFO.COST(ITEM) < MINCOST THEN

   1028 73 000604   000621 236010 67                 LDQ     PATH_INFO+401,X0
        73 000605   200020 116100                    CMPQ    MINCOST,,AUTO
        73 000606   000613 605000 73                 TPL     s:1035

     1141     1029    5               DO;

     1142     1030    5                 DONE    = FALSE;

   1030 73 000607   200016 450100                    STZ     DONE,,AUTO

     1143     1031    5                 CHOICE  = ITEM;

   1031 73 000610   200013 235100                    LDA     ITEM,,AUTO
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:205  
        73 000611   200025 755100                    STA     CHOICE,,AUTO

     1144     1032    5                 MINCOST = PATH_INFO.COST(ITEM);

   1032 73 000612   200020 756100                    STQ     MINCOST,,AUTO

     1145     1033    5               END;

     1146     1034
     1147     1035    4         END;

   1035 73 000613   200013 054100                    AOS     ITEM,,AUTO
        73 000614   200013 236100                    LDQ     ITEM,,AUTO
        73 000615   200015 116100                    CMPQ    N,,AUTO
        73 000616   000601 604400 73                 TMOZ    s:1027

     1148     1036
     1149     1037    3         IF NOT DONE THEN

   1037 73 000617   200016 234100                    SZN     DONE,,AUTO
        73 000620   000673 604000 73                 TMI     s:1055

     1150     1038    4           DO;

     1151     1039    4             CHOSEN (CHOICE) = TRUE;

   1039 73 000621   400000 236003                    LDQ     -131072,DU
        73 000622   200025 720100                    LXL0    CHOICE,,AUTO
        73 000623   000000 756010 68                 STQ     CHOSEN,X0

     1152     1040    4             NB = NEIGHBOR(CHOICE);

   1040 73 000624   000000 235010 66                 LDA     NEIGHBOR,X0
        73 000625   200014 755100                    STA     NB,,AUTO

     1153     1041    4             IF NB >= 0 THEN

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:206  
   1041 73 000626   000673 604000 73                 TMI     s:1055

     1154     1042    5               DO N = 0 TO C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(NB) -> KEY_B.W.
              1042                        ELEM_COUNT - 1;

   1042 73 000627   200015 450100                    STZ     N,,AUTO
        73 000630   000660 710000 73                 TRA     s:1053+1

     1155     1043
     1156     1044    5                 TITEM = C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(NB) ->

   1044 73 000631   200003 470500                    LDP0    @STATE,,AUTO
        73 000632   000000 720100                    LXL0    0,,PR0
        73 000633   000000 471410 36                 LDP1    C#_TO_$,X0
        73 000634   200014 235100                    LDA     NB,,AUTO
        73 000635   000002 735000                    ALS     2
        73 000636   100006 473505                    LDP3    6,AL,PR1
        73 000637   200015 720100                    LXL0    N,,AUTO
        73 000640   300000 236110                    LDQ     0,X0,PR3
        73 000641   000022 732000                    QRS     18
        73 000642   200026 756100                    STQ     TITEM,,AUTO

     1157     1045    5                              ITEM_B.ELEM.ITEM#(N);
     1158     1046
     1159     1047    5                 IF PATH_INFO.COST(CHOICE) + EDGECOST(TITEM) < PATH_INFO.COST(TITEM)
              1047                          THEN

   1047 73 000643   000000 621006                    EAX1    0,QL
        73 000644   200025 722100                    LXL2    CHOICE,,AUTO
        73 000645   000621 236012 67                 LDQ     PATH_INFO+401,X2
        73 000646   000000 036011 63                 ADLQ    EDGECOST,X1
        73 000647   200026 721100                    LXL1    TITEM,,AUTO
        73 000650   000621 116011 67                 CMPQ    PATH_INFO+401,X1
        73 000651   000657 605000 73                 TPL     s:1053

     1160     1048    6                   DO;

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:207  
     1161     1049    6                     PATH_INFO.COST(TITEM) = PATH_INFO.COST(CHOICE) + EDGECOST(TITEM);

   1049 73 000652   000621 236012 67                 LDQ     PATH_INFO+401,X2
        73 000653   000000 036011 63                 ADLQ    EDGECOST,X1
        73 000654   000621 756011 67                 STQ     PATH_INFO+401,X1

     1162     1050    6                     PATH_INFO.DEST(TITEM) = CHOICE;

   1050 73 000655   200025 235100                    LDA     CHOICE,,AUTO
        73 000656   000000 755011 67                 STA     PATH_INFO,X1

     1163     1051    6                   END;

     1164     1052
     1165     1053    5               END;

   1053 73 000657   200015 054100                    AOS     N,,AUTO
        73 000660   200003 470500                    LDP0    @STATE,,AUTO
        73 000661   000000 720100                    LXL0    0,,PR0
        73 000662   000000 471410 36                 LDP1    C#_TO_$,X0
        73 000663   200014 235100                    LDA     NB,,AUTO
        73 000664   000002 735000                    ALS     2
        73 000665   100004 473505                    LDP3    4,AL,PR1
        73 000666   300005 236100                    LDQ     5,,PR3
        73 000667   000022 736000                    QLS     18
        73 000670   000022 732000                    QRS     18
        73 000671   200015 116100                    CMPQ    N,,AUTO
        73 000672   000631 605400 73                 TPNZ    s:1044

     1166     1054    4           END;

     1167     1055    3       END;  /* DO UNTIL */

   1055 73 000673   200016 234100                    SZN     DONE,,AUTO
        73 000674   000564 605000 73                 TPL     s:1019

     1168     1056
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:208  
     1169     1057    2     MINCOST = INFINITE_COST;

   1057 73 000675   303237 235007                    LDA     99999,DL
        73 000676   200020 755100                    STA     MINCOST,,AUTO

     1170     1058    3     DO TITEM = 0 TO C#_TO_$(STATE) -> C_SET_B.BASIS_COUNT - 1;

   1058 73 000677   200026 450100                    STZ     TITEM,,AUTO
        73 000700   000711 710000 73                 TRA     s:1064+1

     1171     1059    3       IF PATH_INFO.COST(TITEM) < MINCOST THEN

   1059 73 000701   200026 720100                    LXL0    TITEM,,AUTO
        73 000702   000621 236010 67                 LDQ     PATH_INFO+401,X0
        73 000703   200020 116100                    CMPQ    MINCOST,,AUTO
        73 000704   000710 605000 73                 TPL     s:1064

     1172     1060    4         DO;

     1173     1061    4           ITEM = TITEM;

   1061 73 000705   200026 235100                    LDA     TITEM,,AUTO
        73 000706   200013 755100                    STA     ITEM,,AUTO

     1174     1062    4           MINCOST = PATH_INFO.COST(TITEM);

   1062 73 000707   200020 756100                    STQ     MINCOST,,AUTO

     1175     1063    4         END;

     1176     1064    3     END;

   1064 73 000710   200026 054100                    AOS     TITEM,,AUTO
        73 000711   200003 470500                    LDP0    @STATE,,AUTO
        73 000712   000000 720100                    LXL0    0,,PR0
        73 000713   000000 471410 36                 LDP1    C#_TO_$,X0
        73 000714   100002 236100                    LDQ     2,,PR1
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:209  
        73 000715   000022 736000                    QLS     18
        73 000716   000022 732000                    QRS     18
        73 000717   200026 116100                    CMPQ    TITEM,,AUTO
        73 000720   000701 605400 73                 TPNZ    s:1059

     1177     1065
     1178     1066    2       CALL EXPAND_DERIV(STATE, ITEM,

   1066 73 000721   000000 720100                    LXL0    0,,PR0
        73 000722   000000 471410 36                 LDP1    C#_TO_$,X0
        73 000723   200004 473500                    LDP3    @E,,AUTO
        73 000724   300000 235100                    LDA     0,,PR3
        73 000725   000002 735000                    ALS     2
        73 000726   100006 474505                    LDP4    6,AL,PR1
        73 000727   200005 471500                    LDP1    @I,,AUTO
        73 000730   100000 720100                    LXL0    0,,PR1
        73 000731   400000 236110                    LDQ     0,X0,PR4
        73 000732   000022 732000                    QRS     18
        73 000733   200030 756100                    STQ     ALPHAS+1,,AUTO
        73 000734   200006 236100                    LDQ     @CLASHED_TERM,,AUTO
        73 000735   200035 756100                    STQ     ALPHAS+6,,AUTO
        73 000736   200030 634500                    EPPR4   ALPHAS+1,,AUTO
        73 000737   200034 454500                    STP4    ALPHAS+5,,AUTO
        73 000740   200013 635500                    EPPR5   ITEM,,AUTO
        73 000741   200033 455500                    STP5    ALPHAS+4,,AUTO
        73 000742   200003 236100                    LDQ     @STATE,,AUTO
        73 000743   200032 756100                    STQ     ALPHAS+3,,AUTO
        73 000744   200032 630500                    EPPR0   ALPHAS+3,,AUTO
        73 000745   000007 631400 74                 EPPR1   7
        73 000746   000000 701000 xent               TSX1    EXPAND_DERIV
        73 000747   000000 011000                    NOP     0

     1179     1067    2                        BINBIT(C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(E) ->
     1180     1068    2                                  ITEM_B.ELEM.ITEM#(I), 36),
     1181     1069    2                         CLASHED_TERM);
     1182     1070    2     END;

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:210  
     1183     1071
     1184     1072
     1185     1073    1   END PRINT_PRED;

   1073 73 000750   000000 702200 xent               TSX2  ! X66_ARET
     1186     1074        %EOD;

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:211  
--  Include file information  --

   LR_ERR_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_CNFG_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_IO_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_GRAM_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure PRINT_PRED.
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:212  

 **** Variables and constants ****

  ****  Section 000 LblCom OUT_DCBN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 OUT_DCBN

  ****  Section 006 LblCom SYM_PTRS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 SYM_PTRS(0:1400)

  ****  Section 007 LblCom RIGHT_PARTS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h SBIN(18)          1 RIGHT_PARTS(0:8000)

  ****  Section 008 LblCom PROD

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC(72)          1 PROD(0:1500)

  ****  Section 009 LblCom NR_PROD

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_PROD

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:213  
  ****  Section 010 LblCom NR_SYMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_SYMS

  ****  Section 011 LblCom NR_TERM

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 NR_TERM

  ****  Section 012 LblCom LAST_ACT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_ACT

  ****  Section 013 LblCom LAST_NULL

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_NULL

  ****  Section 014 LblCom NR_ONRIGHT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_ONRIGHT

  ****  Section 015 LblCom NR_NT

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:214  
  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_NT

  ****  Section 016 LblCom PROD_LEN_MAX_EVER

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 PROD_LEN_MAX_EVER

  ****  Section 017 LblCom LAST_ORDER_SPECIFIED

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_ORDER_SPECIFIED

  ****  Section 018 LblCom SEMANTIC_ORDERING

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 SEMANTIC_ORDERING

  ****  Section 019 LblCom ERR_SEV

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 ERR_SEV

  ****  Section 020 LblCom SET_LENGTHB

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:215  

     0-0-0/w SBIN              1 SET_LENGTHB

  ****  Section 021 LblCom SET_LENGTHW

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 SET_LENGTHW

  ****  Section 022 LblCom EOF_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 EOF_SYMBOL_PTR

  ****  Section 023 LblCom ERROR_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 ERROR_SYMBOL_PTR

  ****  Section 024 LblCom BOF_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 BOF_SYMBOL_PTR

  ****  Section 025 LblCom OPTIONS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 OPTIONS(0:25)
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:216  

  ****  Section 026 LblCom OPTIONS_TEXT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(4)           1 OPTIONS_TEXT(0:25)

  ****  Section 027 LblCom INSTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR              1 INSTR(0:511)               0-0-0/c CHAR(512)         1 INSTRCHR

  ****  Section 028 LblCom INSTR_LISTED

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 INSTR_LISTED

  ****  Section 029 LblCom INSTR_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INSTR_LEN

  ****  Section 030 LblCom INSTR_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INSTR_INDX

  ****  Section 031 LblCom EOF_FLAG
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:217  

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 EOF_FLAG

  ****  Section 032 LblCom KEY_REC

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(10)          1 KEY_REC

  ****  Section 033 LblCom LINE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(109)         1 LINE

  ****  Section 034 LblCom LINELEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LINELEN

  ****  Section 035 LblCom TSTATS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(7380)        1 TSTATS

  ****  Section 036 LblCom C#_TO_$

  ****  Scalars and arrays  ****
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:218  
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 C#_TO_$(0:2200)

  ****  Section 037 LblCom NR_CONFIG

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 NR_CONFIG

  ****  Section 038 LblCom INIT_CONFIG

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INIT_CONFIG

  ****  Section 039 LblCom MAX_BASIS_ITEMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 MAX_BASIS_ITEMS

  ****  Section 040 LblCom MAX_TOTAL_ITEMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 MAX_TOTAL_ITEMS

  ****  Section 041 LblCom LAST_BINSRCH_ONLY

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:219  
     0-0-0/w SBIN              1 LAST_BINSRCH_ONLY

  ****  Section 042 LblCom LAST_BOTH_BITBIN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_BOTH_BITBIN

  ****  Section 043 LblCom GARBAGE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 GARBAGE(0:100)

  ****  Section 044 LblCom AMT_GARBAGE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 AMT_GARBAGE

  ****  Section 045 LblCom LEAST_COST_STRING

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 LEAST_COST_STRING(0:1400)

  ****  Section 046 LblCom LEAST_COST_PREFIX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 LEAST_COST_PREFIX(0:1400)

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:220  
  ****  Section 047 LblCom CURRE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(126)         1 CURRE(0:1400)

  ****  Section 048 LblCom LCP_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h SBIN(18)          1 LCP_INDX(0:1400)

  ****  Section 049 LblCom COM_STRSP_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 COM_STRSP_LEN

  ****  Section 050 LblCom COM_SEARCH_STRING

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 COM_SEARCH_STRING

  ****  Section 051 LblCom COM_SEARCH_STRING_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 COM_SEARCH_STRING_LEN

  ****  Section 052 LblCom COM_STRING_SPACE_LEN

PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:221  
  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 COM_STRING_SPACE_LEN

  ****  Section 053 LblCom COM_STRING_SPACE_H

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h SBIN(18)    r     1 COM_STRING_SPACE_H(0:24999)

  ****  Section 054 LblCom COM_STRING_SPACE$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 COM_STRING_SPACE$

  ****  Section 055 LblCom COM_STRING_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 COM_STRING_PTR

  ****  Section 056 LblCom COM_STRING_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 COM_STRING_INDX

  ****  Section 057 LblCom LCP_TABLE_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:222  

     0-0-0/w SBIN              1 LCP_TABLE_LEN

  ****  Section 058 LblCom STATE_ITEM_INDEX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC              1 STATE_ITEM_INDEX(0:2200)

  ****  Section 059 LblCom PATH

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC        r     1 PATH(0:17600)

  ****  Section 060 LblCom PATH_STRINGS_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 PATH_STRINGS_LEN

  ****  Section 061 LblCom PATH_ADDR$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 PATH_ADDR$

  ****  Section 062 LblCom PATH_TABLE_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 PATH_TABLE_LEN
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:223  

  ****  Section 063 LblCom EDGECOST

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 EDGECOST(0:400)

  ****  Section 064 LblCom ITEM_TABLE_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 ITEM_TABLE_LEN

  ****  Section 065 LblCom ORDERED_ITEM

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC              1 ORDERED_ITEM(0:400)

  ****  Section 066 LblCom NEIGHBOR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 NEIGHBOR(0:400)

  ****  Section 067 LblCom PATH_INFO

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(28872) r     1 PATH_INFO

  ****  Section 068 LblCom CHOSEN
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:224  

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w BIT         r     1 CHOSEN(0:400)

  ****  Section 069 LblCom REACHED

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 REACHED(0:400)

  ****  Section 070 LblCom EXP_PATH_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 EXP_PATH_INDX

  ****  Section 071 LblCom MARKED_ITEM$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 MARKED_ITEM$

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     6-0-0/w PTR         r     1 @CLASHED_TERM              4-0-0/w PTR         r     1 @E
     5-0-0/w PTR         r     1 @I                         3-0-0/w PTR         r     1 @STATE
    27-0-0/c CHAR(4)     r     1 ALPHAS                    25-0-0/w SBIN        r     1 CHOICE
    *0-0-0/w SBIN        r     1 CLASHED_TERM              16-0-0/b BIT         r     1 DONE
    *0-0-0/w SBIN        r     1 E                         *0-0-0/w SBIN        r     1 I
PL6.E3A0      #006=PRINT_PRED File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:35 Page:225  
    13-0-0/w SBIN        r     1 ITEM                      23-0-0/w SBIN        r     1 LE
    24-0-0/w SBIN        r     1 LI                        22-0-0/w SBIN        r     1 LS
    20-0-0/w SBIN        r     1 MINCOST                   15-0-0/w SBIN        r     1 N
    14-0-0/w SBIN        r     1 NB                        10-0-0/w SBIN        r     1 PE
    11-0-0/w SBIN        r     1 PI                         7-0-0/w SBIN        r     1 PSTATE
    17-0-0/w SBIN        r     1 SOURCE                    *0-0-0/w SBIN        r     1 STATE
    21-0-0/w SBIN        r     1 TCOST                     26-0-0/w SBIN        r     1 TITEM
    12-0-0/w PTR         r     1 TPTR

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(72)          1 CELL                       0-0-0/c ACHR              1 COM_STRINGS
     0-0-0/c ACHR              1 COM_STRING_SPACE           0-0-0/c ACHR              1 CSEARCH_STRING
     0-0-0/w STRC(57888) r     1 C_SET_B                    0-0-0/w STRC(72)          1 INCLUDES_B
     0-0-0/w STRC(144)   r     1 INCL_B                     0-0-0/w STRC(5436)  r     1 ITEM_B
     0-0-0/w STRC(5652)  r     1 KEY_B                      0-0-0N  NULL        r     1 M$LO
     0-0-0N  NULL        r     1 M$OU                       0-0-0N  NULL        r     1 M$SI
     0-0-0N  NULL        r     1 M$SO                       0-0-0N  NULL        r     1 M$UI
     0-0-0/w STRC(108)   r     1 MARKED_ITEM                0-0-0/c ACHR              1 PATH_STRINGS
     0-0-0/w STRC(90)          1 PREFIX                     0-0-0/w ASTR(72)    r     1 PREFIXCHR
     0-0-0/w STRC(2)     r     1 SB                         0-0-0/w STRC              1 STRING
     0-0-0/w ASTR(18)    r     1 STRINGCHR                  0-0-0/w STRC(351)         1 SYMBOL


   Procedure PRINT_PRED requires 489 words for executable code.
   Procedure PRINT_PRED requires 30 words of local(AUTO) storage.

PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:226  
     1187        1        /*T***********************************************************/
     1188        2        /*T*                                                         */
     1189        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     1190        4        /*T*                                                         */
     1191        5        /*T***********************************************************/
     1192        6        EXPAND_DERIV : PROC (STATE, DEST, SOURCE, CLASHED_TERM);
     1193        7
     1194        8    1   DCL STATE SBIN WORD;
     1195        9    1   DCL DEST SBIN WORD;
     1196       10    1   DCL SOURCE SBIN WORD;
     1197       11    1   DCL CLASHED_TERM SBIN WORD;
     1198       12
     1199       13        %INCLUDE LR_GRAM_EXT;
     1200      552        %INCLUDE LR_CNFG_EXT;
     1201      705        %INCLUDE LR_ERR_EXT;
     1202      848
     1203      849    1   DCL PRINT_PRED ENTRY(4);
     1204      850    1   DCL PRINT_ITEM ENTRY(3);
     1205      851
     1206      852    1   DCL SE SBIN WORD;
     1207      853    1   DCL SI SBIN WORD;
     1208      854
     1209      855    1   DCL ITEM SBIN WORD;
     1210      856    1   DCL ALPHAS CHAR(4);
     1211      857
     1212      858
     1213      859    1   SE = ORDERED_ITEM.E(SOURCE);
     1214      860    1   SI = ORDERED_ITEM.I(SOURCE);
     1215      861
     1216      862    1   IF PATH_INFO.DEST(DEST) = SOURCE THEN
     1217      863    1     CALL PRINT_PRED (STATE,
     1218      864    1                      BINBIT(ORDERED_ITEM.E(DEST), 36),
     1219      865    1                      BINBIT(ORDERED_ITEM.I(DEST), 36),
     1220      866    1                      CLASHED_TERM);
     1221      867    1   ELSE
     1222      868    2     DO;
     1223      869    2       ITEM = DEST;
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:227  
     1224      870    3       DO WHILE PATH_INFO.DEST(ITEM) ~= SOURCE;
     1225      871    3         ITEM = PATH_INFO.DEST(ITEM);
     1226      872    3       END;
     1227      873    2       CALL EXPAND_DERIV (STATE, DEST, ITEM, CLASHED_TERM);
     1228      874    2     END;
     1229      875          %OUT_STR(S="'          State '");
     1230      878    1     CALL BINCHAR(ALPHAS, STATE);
     1231      879    1     CALL OUT_STR(ALPHAS,LENGTHC(ALPHAS));
     1232      880          %OUT_STR(S="' '");
     1233      883    1     CALL PRINT_ITEM(STATE, SE, SI);
     1234      884
     1235      885    1   END EXPAND_DERIV;
     1236      886        %EOD;

PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:228  
--  Include file information  --

   LR_ERR_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_CNFG_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_IO_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_GRAM_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure EXPAND_DERIV.

   Procedure EXPAND_DERIV requires 97 words for executable code.
   Procedure EXPAND_DERIV requires 24 words of local(AUTO) storage.

PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:229  

 Object Unit name= EXPAND_DERIV                               File name= LR_LASET.:Z8A6TOU
 UTS= AUG 09 '97 09:36:02.12 SAT                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  LblCom even  none     1      1  OUT_DCBN
    1   DCB   even  none     0      0  M$OU
    2   DCB   even  none     0      0  M$SO
    3   DCB   even  none     0      0  M$LO
    4   DCB   even  none     0      0  M$SI
    5   DCB   even  none     0      0  M$UI
    6  LblCom even  none  1401   2571  SYM_PTRS
    7  LblCom even  none  4001   7641  RIGHT_PARTS
    8  LblCom even  none  3002   5672  PROD
    9  LblCom even  none     1      1  NR_PROD
   10  LblCom even  none     1      1  NR_SYMS
   11  LblCom even  none     1      1  NR_TERM
   12  LblCom even  none     1      1  LAST_ACT
   13  LblCom even  none     1      1  LAST_NULL
   14  LblCom even  none     1      1  NR_ONRIGHT
   15  LblCom even  none     1      1  NR_NT
   16  LblCom even  none     1      1  PROD_LEN_MAX_EVER
   17  LblCom even  none     1      1  LAST_ORDER_SPECIFIED
   18  LblCom even  none     1      1  SEMANTIC_ORDERING
   19  LblCom even  none     1      1  ERR_SEV
   20  LblCom even  none     1      1  SET_LENGTHB
   21  LblCom even  none     1      1  SET_LENGTHW
   22  LblCom even  none     1      1  EOF_SYMBOL_PTR
   23  LblCom even  none     1      1  ERROR_SYMBOL_PTR
   24  LblCom even  none     1      1  BOF_SYMBOL_PTR
   25  LblCom even  none     1      1  OPTIONS
   26  LblCom even  none    26     32  OPTIONS_TEXT
   27  LblCom even  none   128    200  INSTR
   28  LblCom even  none     1      1  INSTR_LISTED
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:230  
   29  LblCom even  none     1      1  INSTR_LEN
   30  LblCom even  none     1      1  INSTR_INDX
   31  LblCom even  none     1      1  EOF_FLAG
   32  LblCom even  none     3      3  KEY_REC
   33  LblCom even  none    28     34  LINE
   34  LblCom even  none     1      1  LINELEN
   35  LblCom even  none   205    315  TSTATS
   36  LblCom even  none  2201   4231  C#_TO_$
   37  LblCom even  none     1      1  NR_CONFIG
   38  LblCom even  none     1      1  INIT_CONFIG
   39  LblCom even  none     1      1  MAX_BASIS_ITEMS
   40  LblCom even  none     1      1  MAX_TOTAL_ITEMS
   41  LblCom even  none     1      1  LAST_BINSRCH_ONLY
   42  LblCom even  none     1      1  LAST_BOTH_BITBIN
   43  LblCom even  none   101    145  GARBAGE
   44  LblCom even  none     1      1  AMT_GARBAGE
   45  LblCom even  none  1401   2571  LEAST_COST_STRING
   46  LblCom even  none  1401   2571  LEAST_COST_PREFIX
   47  LblCom even  none  5604  12744  CURRE
   48  LblCom even  none   701   1275  LCP_INDX
   49  LblCom even  none     1      1  COM_STRSP_LEN
   50  LblCom even  none     1      1  COM_SEARCH_STRING
   51  LblCom even  none     1      1  COM_SEARCH_STRING_LEN
   52  LblCom even  none     1      1  COM_STRING_SPACE_LEN
   53  LblCom even  none 12500  30324  COM_STRING_SPACE_H
   54  LblCom even  none     1      1  COM_STRING_SPACE$
   55  LblCom even  none     1      1  COM_STRING_PTR
   56  LblCom even  none     1      1  COM_STRING_INDX
   57  LblCom even  none     1      1  LCP_TABLE_LEN
   58  LblCom even  none  2201   4231  STATE_ITEM_INDEX
   59  LblCom even  none 17601  42301  PATH
   60  LblCom even  none     1      1  PATH_STRINGS_LEN
   61  LblCom even  none     1      1  PATH_ADDR$
   62  LblCom even  none     1      1  PATH_TABLE_LEN
   63  LblCom even  none   401    621  EDGECOST
   64  LblCom even  none     1      1  ITEM_TABLE_LEN
   65  LblCom even  none   401    621  ORDERED_ITEM
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:231  
   66  LblCom even  none   401    621  NEIGHBOR
   67  LblCom even  none   802   1442  PATH_INFO
   68  LblCom even  none   401    621  CHOSEN
   69  LblCom even  none    12     14  REACHED
   70  LblCom even  none     1      1  EXP_PATH_INDX
   71  RoData even  UTS      4      4  EXPAND_DERIV
   72   Proc  even  none    97    141  EXPAND_DERIV
   73  RoData even  none    12     14  EXPAND_DERIV

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    72      0   yes            yes      Std        4  EXPAND_DERIV

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       4 PRINT_PRED
         yes           Std       3 PRINT_ITEM
         yes           Std       2 OUT_STR
                       nStd      0 X66_AUTO_4
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$OU                                  M$SO                                  M$LO
     M$SI                                  M$UI
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:232  

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:233  


     1187        1        /*T***********************************************************/
     1188        2        /*T*                                                         */
     1189        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     1190        4        /*T*                                                         */
     1191        5        /*T***********************************************************/
     1192        6        EXPAND_DERIV : PROC (STATE, DEST, SOURCE, CLASHED_TERM);

      6 72 000000   000000 700200 xent  EXPAND_DERIV TSX0  ! X66_AUTO_4
        72 000001   000030 000004                    ZERO    24,4

     1193        7
     1194        8    1   DCL STATE SBIN WORD;
     1195        9    1   DCL DEST SBIN WORD;
     1196       10    1   DCL SOURCE SBIN WORD;
     1197       11    1   DCL CLASHED_TERM SBIN WORD;
     1198       12
     1199       13        %INCLUDE LR_GRAM_EXT;
     1200      552        %INCLUDE LR_CNFG_EXT;
     1201      705        %INCLUDE LR_ERR_EXT;
     1202      848
     1203      849    1   DCL PRINT_PRED ENTRY(4);
     1204      850    1   DCL PRINT_ITEM ENTRY(3);
     1205      851
     1206      852    1   DCL SE SBIN WORD;
     1207      853    1   DCL SI SBIN WORD;
     1208      854
     1209      855    1   DCL ITEM SBIN WORD;
     1210      856    1   DCL ALPHAS CHAR(4);
     1211      857
     1212      858
     1213      859    1   SE = ORDERED_ITEM.E(SOURCE);

    859 72 000002   200005 470500                    LDP0    @SOURCE,,AUTO
        72 000003   000000 720100                    LXL0    0,,PR0
        72 000004   000000 236010 65                 LDQ     ORDERED_ITEM,X0
        72 000005   000022 732000                    QRS     18
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:234  
        72 000006   200007 756100                    STQ     SE,,AUTO

     1214      860    1   SI = ORDERED_ITEM.I(SOURCE);

    860 72 000007   000000 235100                    LDA     0,,PR0
        72 000010   000000 236005 65                 LDQ     ORDERED_ITEM,AL
        72 000011   000022 736000                    QLS     18
        72 000012   000022 732000                    QRS     18
        72 000013   200010 756100                    STQ     SI,,AUTO

     1215      861
     1216      862    1   IF PATH_INFO.DEST(DEST) = SOURCE THEN

    862 72 000014   200004 471500                    LDP1    @DEST,,AUTO
        72 000015   100000 720100                    LXL0    0,,PR1
        72 000016   000000 236010 67                 LDQ     PATH_INFO,X0
        72 000017   000000 116100                    CMPQ    0,,PR0
        72 000020   000053 601000 72                 TNZ     s:869

     1217      863    1     CALL PRINT_PRED (STATE,

    863 72 000021   100000 720100                    LXL0    0,,PR1
        72 000022   000000 236010 65                 LDQ     ORDERED_ITEM,X0
        72 000023   000022 732000                    QRS     18
        72 000024   100000 235100                    LDA     0,,PR1
        72 000025   200014 756100                    STQ     ALPHAS+2,,AUTO
        72 000026   000000 236005 65                 LDQ     ORDERED_ITEM,AL
        72 000027   000022 736000                    QLS     18
        72 000030   000022 732000                    QRS     18
        72 000031   200020 756100                    STQ     ALPHAS+6,,AUTO
        72 000032   200014 236100                    LDQ     ALPHAS+2,,AUTO
        72 000033   200016 756100                    STQ     ALPHAS+4,,AUTO
        72 000034   200020 236100                    LDQ     ALPHAS+6,,AUTO
        72 000035   200022 756100                    STQ     ALPHAS+8,,AUTO
        72 000036   200006 236100                    LDQ     @CLASHED_TERM,,AUTO
        72 000037   200027 756100                    STQ     ALPHAS+13,,AUTO
        72 000040   200022 633500                    EPPR3   ALPHAS+8,,AUTO
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:235  
        72 000041   200026 453500                    STP3    ALPHAS+12,,AUTO
        72 000042   200016 634500                    EPPR4   ALPHAS+4,,AUTO
        72 000043   200025 454500                    STP4    ALPHAS+11,,AUTO
        72 000044   200003 236100                    LDQ     @STATE,,AUTO
        72 000045   200024 756100                    STQ     ALPHAS+10,,AUTO
        72 000046   200024 630500                    EPPR0   ALPHAS+10,,AUTO
        72 000047   000000 631400 73                 EPPR1   0
        72 000050   000000 701000 xent               TSX1    PRINT_PRED
        72 000051   000000 011000                    NOP     0
        72 000052   000102 710000 72                 TRA     s:876

     1218      864    1                      BINBIT(ORDERED_ITEM.E(DEST), 36),
     1219      865    1                      BINBIT(ORDERED_ITEM.I(DEST), 36),
     1220      866    1                      CLASHED_TERM);
     1221      867    1   ELSE
     1222      868    2     DO;

     1223      869    2       ITEM = DEST;

    869 72 000053   100000 235100                    LDA     0,,PR1
        72 000054   200011 755100                    STA     ITEM,,AUTO

     1224      870    3       DO WHILE PATH_INFO.DEST(ITEM) ~= SOURCE;

    870 72 000055   000000 236005 67                 LDQ     PATH_INFO,AL
        72 000056   000000 116100                    CMPQ    0,,PR0
        72 000057   000067 600000 72                 TZE     s:873

     1225      871    3         ITEM = PATH_INFO.DEST(ITEM);

    871 72 000060   200011 720100                    LXL0    ITEM,,AUTO
        72 000061   000000 235010 67                 LDA     PATH_INFO,X0
        72 000062   200011 755100                    STA     ITEM,,AUTO

     1226      872    3       END;

    872 72 000063   200005 470500                    LDP0    @SOURCE,,AUTO
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:236  
        72 000064   000000 236005 67                 LDQ     PATH_INFO,AL
        72 000065   000000 116100                    CMPQ    0,,PR0
        72 000066   000060 601000 72                 TNZ     s:871

     1227      873    2       CALL EXPAND_DERIV (STATE, DEST, ITEM, CLASHED_TERM);

    873 72 000067   200006 236100                    LDQ     @CLASHED_TERM,,AUTO
        72 000070   200017 756100                    STQ     ALPHAS+5,,AUTO
        72 000071   200011 631500                    EPPR1   ITEM,,AUTO
        72 000072   200016 451500                    STP1    ALPHAS+4,,AUTO
        72 000073   200004 236100                    LDQ     @DEST,,AUTO
        72 000074   200003 235100                    LDA     @STATE,,AUTO
        72 000075   200014 757100                    STAQ    ALPHAS+2,,AUTO
        72 000076   200014 630500                    EPPR0   ALPHAS+2,,AUTO
        72 000077   000000 631400 73                 EPPR1   0
        72 000100   000000 701000 72                 TSX1    s:6
        72 000101   000000 011000                    NOP     0

     1228      874    2     END;

     1229      875          %OUT_STR(S="'          State '");

    876 72 000102   000003 630400 73                 EPPR0   3
        72 000103   000001 631400 73                 EPPR1   1
        72 000104   000000 701000 xent               TSX1    OUT_STR
        72 000105   000000 011000                    NOP     0

     1230      878    1     CALL BINCHAR(ALPHAS, STATE);

    878 72 000106   200003 470500                    LDP0    @STATE,,AUTO
        72 000107   000100 301500                    BTD
        72 000110   000000 000004                    NDSC9   0,,PR0                   cn=0,s=lsgnf,sf=0,n=4
        72 000111   200012 030004                    NDSC9   ALPHAS,,AUTO             cn=0,s=nosgn,sf=0,n=4

     1231      879    1     CALL OUT_STR(ALPHAS,LENGTHC(ALPHAS));

    879 72 000112   000006 236000 73                 LDQ     6
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:237  
        72 000113   200015 756100                    STQ     ALPHAS+3,,AUTO
        72 000114   200012 631500                    EPPR1   ALPHAS,,AUTO
        72 000115   200014 451500                    STP1    ALPHAS+2,,AUTO
        72 000116   200014 630500                    EPPR0   ALPHAS+2,,AUTO
        72 000117   000001 631400 73                 EPPR1   1
        72 000120   000000 701000 xent               TSX1    OUT_STR
        72 000121   000000 011000                    NOP     0

     1232      880          %OUT_STR(S="' '");

    881 72 000122   000011 630400 73                 EPPR0   9
        72 000123   000001 631400 73                 EPPR1   1
        72 000124   000000 701000 xent               TSX1    OUT_STR
        72 000125   000000 011000                    NOP     0

     1233      883    1     CALL PRINT_ITEM(STATE, SE, SI);

    883 72 000126   200010 630500                    EPPR0   SI,,AUTO
        72 000127   200016 450500                    STP0    ALPHAS+4,,AUTO
        72 000130   200007 631500                    EPPR1   SE,,AUTO
        72 000131   200015 451500                    STP1    ALPHAS+3,,AUTO
        72 000132   200003 236100                    LDQ     @STATE,,AUTO
        72 000133   200014 756100                    STQ     ALPHAS+2,,AUTO
        72 000134   200014 630500                    EPPR0   ALPHAS+2,,AUTO
        72 000135   000013 631400 73                 EPPR1   11
        72 000136   000000 701000 xent               TSX1    PRINT_ITEM
        72 000137   000000 011000                    NOP     0

     1234      884
     1235      885    1   END EXPAND_DERIV;

    885 72 000140   000000 702200 xent               TSX2  ! X66_ARET
     1236      886        %EOD;

PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:238  
--  Include file information  --

   LR_ERR_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_CNFG_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_IO_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_GRAM_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure EXPAND_DERIV.
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:239  

 **** Variables and constants ****

  ****  Section 000 LblCom OUT_DCBN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 OUT_DCBN

  ****  Section 006 LblCom SYM_PTRS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 SYM_PTRS(0:1400)

  ****  Section 007 LblCom RIGHT_PARTS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h SBIN(18)          1 RIGHT_PARTS(0:8000)

  ****  Section 008 LblCom PROD

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC(72)          1 PROD(0:1500)

  ****  Section 009 LblCom NR_PROD

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_PROD

PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:240  
  ****  Section 010 LblCom NR_SYMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_SYMS

  ****  Section 011 LblCom NR_TERM

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_TERM

  ****  Section 012 LblCom LAST_ACT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_ACT

  ****  Section 013 LblCom LAST_NULL

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_NULL

  ****  Section 014 LblCom NR_ONRIGHT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_ONRIGHT

  ****  Section 015 LblCom NR_NT

PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:241  
  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_NT

  ****  Section 016 LblCom PROD_LEN_MAX_EVER

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 PROD_LEN_MAX_EVER

  ****  Section 017 LblCom LAST_ORDER_SPECIFIED

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_ORDER_SPECIFIED

  ****  Section 018 LblCom SEMANTIC_ORDERING

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 SEMANTIC_ORDERING

  ****  Section 019 LblCom ERR_SEV

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 ERR_SEV

  ****  Section 020 LblCom SET_LENGTHB

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:242  

     0-0-0/w SBIN              1 SET_LENGTHB

  ****  Section 021 LblCom SET_LENGTHW

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 SET_LENGTHW

  ****  Section 022 LblCom EOF_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 EOF_SYMBOL_PTR

  ****  Section 023 LblCom ERROR_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 ERROR_SYMBOL_PTR

  ****  Section 024 LblCom BOF_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 BOF_SYMBOL_PTR

  ****  Section 025 LblCom OPTIONS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 OPTIONS(0:25)
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:243  

  ****  Section 026 LblCom OPTIONS_TEXT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(4)           1 OPTIONS_TEXT(0:25)

  ****  Section 027 LblCom INSTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR              1 INSTR(0:511)               0-0-0/c CHAR(512)         1 INSTRCHR

  ****  Section 028 LblCom INSTR_LISTED

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 INSTR_LISTED

  ****  Section 029 LblCom INSTR_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INSTR_LEN

  ****  Section 030 LblCom INSTR_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INSTR_INDX

  ****  Section 031 LblCom EOF_FLAG
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:244  

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 EOF_FLAG

  ****  Section 032 LblCom KEY_REC

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(10)          1 KEY_REC

  ****  Section 033 LblCom LINE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(109)         1 LINE

  ****  Section 034 LblCom LINELEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LINELEN

  ****  Section 035 LblCom TSTATS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(7380)        1 TSTATS

  ****  Section 036 LblCom C#_TO_$

  ****  Scalars and arrays  ****
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:245  
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 C#_TO_$(0:2200)

  ****  Section 037 LblCom NR_CONFIG

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_CONFIG

  ****  Section 038 LblCom INIT_CONFIG

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INIT_CONFIG

  ****  Section 039 LblCom MAX_BASIS_ITEMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 MAX_BASIS_ITEMS

  ****  Section 040 LblCom MAX_TOTAL_ITEMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 MAX_TOTAL_ITEMS

  ****  Section 041 LblCom LAST_BINSRCH_ONLY

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:246  
     0-0-0/w SBIN              1 LAST_BINSRCH_ONLY

  ****  Section 042 LblCom LAST_BOTH_BITBIN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_BOTH_BITBIN

  ****  Section 043 LblCom GARBAGE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 GARBAGE(0:100)

  ****  Section 044 LblCom AMT_GARBAGE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 AMT_GARBAGE

  ****  Section 045 LblCom LEAST_COST_STRING

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 LEAST_COST_STRING(0:1400)

  ****  Section 046 LblCom LEAST_COST_PREFIX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 LEAST_COST_PREFIX(0:1400)

PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:247  
  ****  Section 047 LblCom CURRE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(126)         1 CURRE(0:1400)

  ****  Section 048 LblCom LCP_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h SBIN(18)          1 LCP_INDX(0:1400)

  ****  Section 049 LblCom COM_STRSP_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 COM_STRSP_LEN

  ****  Section 050 LblCom COM_SEARCH_STRING

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 COM_SEARCH_STRING

  ****  Section 051 LblCom COM_SEARCH_STRING_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 COM_SEARCH_STRING_LEN

  ****  Section 052 LblCom COM_STRING_SPACE_LEN

PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:248  
  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 COM_STRING_SPACE_LEN

  ****  Section 053 LblCom COM_STRING_SPACE_H

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h SBIN(18)    r     1 COM_STRING_SPACE_H(0:24999)

  ****  Section 054 LblCom COM_STRING_SPACE$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 COM_STRING_SPACE$

  ****  Section 055 LblCom COM_STRING_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 COM_STRING_PTR

  ****  Section 056 LblCom COM_STRING_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 COM_STRING_INDX

  ****  Section 057 LblCom LCP_TABLE_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:249  

     0-0-0/w SBIN              1 LCP_TABLE_LEN

  ****  Section 058 LblCom STATE_ITEM_INDEX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC              1 STATE_ITEM_INDEX(0:2200)

  ****  Section 059 LblCom PATH

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC        r     1 PATH(0:17600)

  ****  Section 060 LblCom PATH_STRINGS_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 PATH_STRINGS_LEN

  ****  Section 061 LblCom PATH_ADDR$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 PATH_ADDR$

  ****  Section 062 LblCom PATH_TABLE_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 PATH_TABLE_LEN
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:250  

  ****  Section 063 LblCom EDGECOST

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 EDGECOST(0:400)

  ****  Section 064 LblCom ITEM_TABLE_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 ITEM_TABLE_LEN

  ****  Section 065 LblCom ORDERED_ITEM

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC        r     1 ORDERED_ITEM(0:400)

  ****  Section 066 LblCom NEIGHBOR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NEIGHBOR(0:400)

  ****  Section 067 LblCom PATH_INFO

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(28872) r     1 PATH_INFO

  ****  Section 068 LblCom CHOSEN
PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:251  

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w BIT               1 CHOSEN(0:400)

  ****  Section 069 LblCom REACHED

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 REACHED(0:400)

  ****  Section 070 LblCom EXP_PATH_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 EXP_PATH_INDX

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     6-0-0/w PTR         r     1 @CLASHED_TERM              4-0-0/w PTR         r     1 @DEST
     5-0-0/w PTR         r     1 @SOURCE                    3-0-0/w PTR         r     1 @STATE
    12-0-0/c CHAR(4)     r     1 ALPHAS                    *0-0-0/w SBIN        r     1 CLASHED_TERM
    *0-0-0/w SBIN        r     1 DEST                      11-0-0/w SBIN        r     1 ITEM
     7-0-0/w SBIN        r     1 SE                        10-0-0/w SBIN        r     1 SI
    *0-0-0/w SBIN        r     1 SOURCE                    *0-0-0/w SBIN        r     1 STATE

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

PL6.E3A0      #007=EXPAND_DERIV File=LR_LASET.:Z8A6TSI                           SAT 08/09/97 09:36 Page:252  
     0-0-0/w STRC(72)          1 CELL                       0-0-0/c ACHR              1 COM_STRINGS
     0-0-0/c ACHR              1 COM_STRING_SPACE           0-0-0/c ACHR              1 CSEARCH_STRING
     0-0-0/w STRC(57888)       1 C_SET_B                    0-0-0/w STRC(72)          1 INCLUDES_B
     0-0-0/w STRC(144)         1 INCL_B                     0-0-0/w STRC(5436)        1 ITEM_B
     0-0-0/w STRC(5652)        1 KEY_B                      0-0-0N  NULL        r     1 M$LO
     0-0-0N  NULL        r     1 M$OU                       0-0-0N  NULL        r     1 M$SI
     0-0-0N  NULL        r     1 M$SO                       0-0-0N  NULL        r     1 M$UI
     0-0-0/c ACHR              1 PATH_STRINGS               0-0-0/w STRC(90)          1 PREFIX
     0-0-0/w ASTR(72)    r     1 PREFIXCHR                  0-0-0/w STRC              1 STRING
     0-0-0/w ASTR(18)    r     1 STRINGCHR                  0-0-0/w STRC(351)         1 SYMBOL


   Procedure EXPAND_DERIV requires 97 words for executable code.
   Procedure EXPAND_DERIV requires 24 words of local(AUTO) storage.

PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:253  
     1237        1        /*T***********************************************************/
     1238        2        /*T*                                                         */
     1239        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     1240        4        /*T*                                                         */
     1241        5        /*T***********************************************************/
     1242        6        DERIV_COST : PROC (STATE, E, I, CLASHED_TERM, LEV, COST);
     1243        7
     1244        8    1   DCL STATE SBIN WORD;
     1245        9    1   DCL E SBIN WORD;
     1246       10    1   DCL I SBIN WORD;
     1247       11    1   DCL CLASHED_TERM SBIN WORD;
     1248       12    1   DCL LEV SBIN WORD;
     1249       13    1   DCL COST SBIN WORD;
     1250       14
     1251       15        %INCLUDE LR_GRAM_EXT;
     1252      554        %INCLUDE LR_CNFG_EXT;
     1253      707        %INCLUDE LR_ERR_EXT;
     1254      850
     1255      851    1   DCL PE SBIN WORD;
     1256      852    1   DCL PI SBIN WORD;
     1257      853    1   DCL PS SBIN WORD;
     1258      854
     1259      855
     1260      856    1   DCL 1 SB ALIGNED BASED,
     1261      857    1         2 SET_B(0:1) BOOLEAN UNAL;
     1262      858
     1263      859    1     COST = 10;
     1264      860
     1265      861    1     IF C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) -> KEY_B.W.SYM_AFTER = 0 THEN
     1266      862    2       DO;
     1267      863    2         IF  C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) -> KEY_B.FOLLOW$ ->
     1268      864    2                    INCL_B.SET(CLASHED_TERM) THEN
     1269      865    2           COST = 4;
     1270      866    2       END;
     1271      867    1     ELSE
     1272      868    1       IF C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) -> KEY_B.W.SYM_AFTER > NR_TERM THEN
     1273      869    1         IF C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) -> KEY_B.SET$
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:254  
     1274      870    1                     -> SB.SET_B(CLASHED_TERM) THEN
     1275      871    1           COST = 1;
     1276      872    1         ELSE
     1277      873    2           DO;
     1278      874    2             IF LEV = 0 THEN
     1279      875    3               DO;
     1280      876    3                 PS = C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) -> KEY_B.KEY_VAL$ ->
               876                          C_SET_B.C_SET#;
     1281      877    4                 DO PE = 0 TO C#_TO_$(PS) -> C_SET_B.NR_ELEM - 1;
     1282      878    5                   DO PI = 0 TO C#_TO_$(PS) -> C_SET_B.ELEM.KEY$(PE) -> KEY_B.W.
               878                            ELEM_COUNT - 1;
     1283      879    5                     IF C#_TO_$(PS) -> C_SET_B.ELEM.ITEM$(PE) -> ITEM_B.ELEM.ITEM#(PI)
     1284      880    5                         = C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(E) -> ITEM_B.ELEM.
               880                                  SUCC_ITEM#(I) THEN
     1285      881    6                       DO;
     1286      882    6                         CALL DERIV_COST (PS,
     1287      883    6                                          PE,
     1288      884    6                                          PI,
     1289      885    6                                          CLASHED_TERM,
     1290      886    6                                          1,
     1291      887    6                                          COST);
     1292      888    6                         RETURN;
     1293      889    6                      END;
     1294      890    5                   END;
     1295      891    4                 END;
     1296      892    3               END;
     1297      893    2           END;
     1298      894    1       ELSE
     1299      895    1         IF C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) ->
     1300      896    1                    KEY_B.W.SYM_AFTER = CLASHED_TERM THEN
     1301      897    1           COST = 1;
     1302      898
     1303      899    1   END DERIV_COST;

PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:255  
--  Include file information  --

   LR_ERR_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_CNFG_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_IO_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_GRAM_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure DERIV_COST.

   Procedure DERIV_COST requires 137 words for executable code.
   Procedure DERIV_COST requires 18 words of local(AUTO) storage.

    No errors detected in file LR_LASET.:Z8A6TSI    .

PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:256  

 Object Unit name= DERIV_COST                                 File name= LR_LASET.:Z8A6TOU
 UTS= AUG 09 '97 09:36:19.64 SAT                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  LblCom even  none     1      1  OUT_DCBN
    1   DCB   even  none     0      0  M$OU
    2   DCB   even  none     0      0  M$SO
    3   DCB   even  none     0      0  M$LO
    4   DCB   even  none     0      0  M$SI
    5   DCB   even  none     0      0  M$UI
    6  LblCom even  none  1401   2571  SYM_PTRS
    7  LblCom even  none  4001   7641  RIGHT_PARTS
    8  LblCom even  none  3002   5672  PROD
    9  LblCom even  none     1      1  NR_PROD
   10  LblCom even  none     1      1  NR_SYMS
   11  LblCom even  none     1      1  NR_TERM
   12  LblCom even  none     1      1  LAST_ACT
   13  LblCom even  none     1      1  LAST_NULL
   14  LblCom even  none     1      1  NR_ONRIGHT
   15  LblCom even  none     1      1  NR_NT
   16  LblCom even  none     1      1  PROD_LEN_MAX_EVER
   17  LblCom even  none     1      1  LAST_ORDER_SPECIFIED
   18  LblCom even  none     1      1  SEMANTIC_ORDERING
   19  LblCom even  none     1      1  ERR_SEV
   20  LblCom even  none     1      1  SET_LENGTHB
   21  LblCom even  none     1      1  SET_LENGTHW
   22  LblCom even  none     1      1  EOF_SYMBOL_PTR
   23  LblCom even  none     1      1  ERROR_SYMBOL_PTR
   24  LblCom even  none     1      1  BOF_SYMBOL_PTR
   25  LblCom even  none     1      1  OPTIONS
   26  LblCom even  none    26     32  OPTIONS_TEXT
   27  LblCom even  none   128    200  INSTR
   28  LblCom even  none     1      1  INSTR_LISTED
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:257  
   29  LblCom even  none     1      1  INSTR_LEN
   30  LblCom even  none     1      1  INSTR_INDX
   31  LblCom even  none     1      1  EOF_FLAG
   32  LblCom even  none     3      3  KEY_REC
   33  LblCom even  none    28     34  LINE
   34  LblCom even  none     1      1  LINELEN
   35  LblCom even  none   205    315  TSTATS
   36  LblCom even  none  2201   4231  C#_TO_$
   37  LblCom even  none     1      1  NR_CONFIG
   38  LblCom even  none     1      1  INIT_CONFIG
   39  LblCom even  none     1      1  MAX_BASIS_ITEMS
   40  LblCom even  none     1      1  MAX_TOTAL_ITEMS
   41  LblCom even  none     1      1  LAST_BINSRCH_ONLY
   42  LblCom even  none     1      1  LAST_BOTH_BITBIN
   43  LblCom even  none   101    145  GARBAGE
   44  LblCom even  none     1      1  AMT_GARBAGE
   45  LblCom even  none  1401   2571  LEAST_COST_STRING
   46  LblCom even  none  1401   2571  LEAST_COST_PREFIX
   47  LblCom even  none  5604  12744  CURRE
   48  LblCom even  none   701   1275  LCP_INDX
   49  LblCom even  none     1      1  COM_STRSP_LEN
   50  LblCom even  none     1      1  COM_SEARCH_STRING
   51  LblCom even  none     1      1  COM_SEARCH_STRING_LEN
   52  LblCom even  none     1      1  COM_STRING_SPACE_LEN
   53  LblCom even  none 12500  30324  COM_STRING_SPACE_H
   54  LblCom even  none     1      1  COM_STRING_SPACE$
   55  LblCom even  none     1      1  COM_STRING_PTR
   56  LblCom even  none     1      1  COM_STRING_INDX
   57  LblCom even  none     1      1  LCP_TABLE_LEN
   58  LblCom even  none  2201   4231  STATE_ITEM_INDEX
   59  LblCom even  none 17601  42301  PATH
   60  LblCom even  none     1      1  PATH_STRINGS_LEN
   61  LblCom even  none     1      1  PATH_ADDR$
   62  LblCom even  none     1      1  PATH_TABLE_LEN
   63  LblCom even  none   401    621  EDGECOST
   64  LblCom even  none     1      1  ITEM_TABLE_LEN
   65  LblCom even  none   401    621  ORDERED_ITEM
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:258  
   66  LblCom even  none   401    621  NEIGHBOR
   67  LblCom even  none   802   1442  PATH_INFO
   68  LblCom even  none   401    621  CHOSEN
   69  LblCom even  none    12     14  REACHED
   70  LblCom even  none     1      1  EXP_PATH_INDX
   71   Proc  even  none   137    211  DERIV_COST
   72  RoData even  none     4      4  DERIV_COST

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    71      0   yes            yes      Std        6  DERIV_COST

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X66_AUTO_N
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$OU                                  M$SO                                  M$LO
     M$SI                                  M$UI

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:259  


     1237        1        /*T***********************************************************/
     1238        2        /*T*                                                         */
     1239        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     1240        4        /*T*                                                         */
     1241        5        /*T***********************************************************/
     1242        6        DERIV_COST : PROC (STATE, E, I, CLASHED_TERM, LEV, COST);

      6 71 000000   000000 700200 xent  DERIV_COST   TSX0  ! X66_AUTO_N
        71 000001   000022 000006                    ZERO    18,6

     1243        7
     1244        8    1   DCL STATE SBIN WORD;
     1245        9    1   DCL E SBIN WORD;
     1246       10    1   DCL I SBIN WORD;
     1247       11    1   DCL CLASHED_TERM SBIN WORD;
     1248       12    1   DCL LEV SBIN WORD;
     1249       13    1   DCL COST SBIN WORD;
     1250       14
     1251       15        %INCLUDE LR_GRAM_EXT;
     1252      554        %INCLUDE LR_CNFG_EXT;
     1253      707        %INCLUDE LR_ERR_EXT;
     1254      850
     1255      851    1   DCL PE SBIN WORD;
     1256      852    1   DCL PI SBIN WORD;
     1257      853    1   DCL PS SBIN WORD;
     1258      854
     1259      855
     1260      856    1   DCL 1 SB ALIGNED BASED,
     1261      857    1         2 SET_B(0:1) BOOLEAN UNAL;
     1262      858
     1263      859    1     COST = 10;

    859 71 000002   000012 235007                    LDA     10,DL
        71 000003   200010 470500                    LDP0    @COST,,AUTO
        71 000004   000000 755100                    STA     0,,PR0

PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:260  
     1264      860
     1265      861    1     IF C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) -> KEY_B.W.SYM_AFTER = 0 THEN

    861 71 000005   200003 471500                    LDP1    @STATE,,AUTO
        71 000006   100000 720100                    LXL0    0,,PR1
        71 000007   000000 473410 36                 LDP3    C#_TO_$,X0
        71 000010   200004 474500                    LDP4    @E,,AUTO
        71 000011   400000 235100                    LDA     0,,PR4
        71 000012   000002 735000                    ALS     2
        71 000013   300004 475505                    LDP5    4,AL,PR3
        71 000014   500004 235100                    LDA     4,,PR5
        71 000015   000037 601000 71                 TNZ     s:868

     1266      862    2       DO;

     1267      863    2         IF  C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) -> KEY_B.FOLLOW$ ->

    863 71 000016   100000 720100                    LXL0    0,,PR1
        71 000017   000000 473410 36                 LDP3    C#_TO_$,X0
        71 000020   400000 235100                    LDA     0,,PR4
        71 000021   000002 735000                    ALS     2
        71 000022   300004 475505                    LDP5    4,AL,PR3
        71 000023   500003 473500                    LDP3    3,,PR5
        71 000024   200006 475500                    LDP5    @CLASHED_TERM,,AUTO
        71 000025   500000 235100                    LDA     0,,PR5
        71 000026   000030 605000 71                 TPL     s:863+10
        71 000027   000044 035003                    ADLA    36,DU
        71 000030   000000 066505                    CMPB    filb='0'B
        71 000031   300003 000001                    BDSC    3,A,PR3                  by=0,bit=0,n=1
        71 000032   000000 000022 72                 BDSC    0                        by=0,bit=0,n=18
        71 000033   000210 600000 71                 TZE     s:899

     1268      864    2                    INCL_B.SET(CLASHED_TERM) THEN
     1269      865    2           COST = 4;

    865 71 000034   000004 235007                    LDA     4,DL
        71 000035   000000 755100                    STA     0,,PR0
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:261  

     1270      866    2       END;

    866 71 000036   000210 710000 71                 TRA     s:899

     1271      867    1     ELSE
     1272      868    1       IF C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) -> KEY_B.W.SYM_AFTER > NR_TERM THEN

    868 71 000037   100000 720100                    LXL0    0,,PR1
        71 000040   000000 473410 36                 LDP3    C#_TO_$,X0
        71 000041   400000 235100                    LDA     0,,PR4
        71 000042   000002 735000                    ALS     2
        71 000043   300004 475505                    LDP5    4,AL,PR3
        71 000044   500004 236100                    LDQ     4,,PR5
        71 000045   000000 116000 11                 CMPQ    NR_TERM
        71 000046   000175 604400 71                 TMOZ    s:895

     1273      869    1         IF C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) -> KEY_B.SET$

    869 71 000047   100000 720100                    LXL0    0,,PR1
        71 000050   000000 473410 36                 LDP3    C#_TO_$,X0
        71 000051   400000 235100                    LDA     0,,PR4
        71 000052   000002 735000                    ALS     2
        71 000053   300004 475505                    LDP5    4,AL,PR3
        71 000054   500002 473500                    LDP3    2,,PR5
        71 000055   200006 475500                    LDP5    @CLASHED_TERM,,AUTO
        71 000056   500000 235100                    LDA     0,,PR5
        71 000057   000061 605000 71                 TPL     s:869+10
        71 000060   000044 035003                    ADLA    36,DU
        71 000061   000000 066505                    CMPB    filb='0'B
        71 000062   300000 000001                    BDSC    0,A,PR3                  by=0,bit=0,n=1
        71 000063   000000 000022 72                 BDSC    0                        by=0,bit=0,n=18
        71 000064   000070 600000 71                 TZE     s:874

     1274      870    1                     -> SB.SET_B(CLASHED_TERM) THEN
     1275      871    1           COST = 1;

PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:262  
    871 71 000065   000001 235007                    LDA     1,DL
        71 000066   000000 755100                    STA     0,,PR0
        71 000067   000210 710000 71                 TRA     s:899

     1276      872    1         ELSE
     1277      873    2           DO;

     1278      874    2             IF LEV = 0 THEN

    874 71 000070   200007 473500                    LDP3    @LEV,,AUTO
        71 000071   300000 235100                    LDA     0,,PR3
        71 000072   000210 601000 71                 TNZ     s:899

     1279      875    3               DO;

     1280      876    3                 PS = C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) -> KEY_B.KEY_VAL$ ->
               876                          C_SET_B.C_SET#;

    876 71 000073   100000 720100                    LXL0    0,,PR1
        71 000074   000000 476410 36                 LDP6    C#_TO_$,X0
        71 000075   400000 235100                    LDA     0,,PR4
        71 000076   000002 735000                    ALS     2
        71 000077   600004 477505                    LDP7    4,AL,PR6
        71 000100   700003 476500                    LDP6    3,,PR7
        71 000101   600001 236100                    LDQ     1,,PR6
        71 000102   000022 772000                    QRL     18
        71 000103   200013 756100                    STQ     PS,,AUTO

     1281      877    4                 DO PE = 0 TO C#_TO_$(PS) -> C_SET_B.NR_ELEM - 1;

    877 71 000104   200011 450100                    STZ     PE,,AUTO
        71 000105   000166 710000 71                 TRA     s:891+1

     1282      878    5                   DO PI = 0 TO C#_TO_$(PS) -> C_SET_B.ELEM.KEY$(PE) -> KEY_B.W.
               878                            ELEM_COUNT - 1;

    878 71 000106   200012 450100                    STZ     PI,,AUTO
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:263  
        71 000107   000153 710000 71                 TRA     s:890+1

     1283      879    5                     IF C#_TO_$(PS) -> C_SET_B.ELEM.ITEM$(PE) -> ITEM_B.ELEM.ITEM#(PI)

    879 71 000110   200013 720100                    LXL0    PS,,AUTO
        71 000111   000000 470410 36                 LDP0    C#_TO_$,X0
        71 000112   200011 235100                    LDA     PE,,AUTO
        71 000113   000002 735000                    ALS     2
        71 000114   000006 471505                    LDP1    6,AL,PR0
        71 000115   200003 473500                    LDP3    @STATE,,AUTO
        71 000116   300000 721100                    LXL1    0,,PR3
        71 000117   000000 474411 36                 LDP4    C#_TO_$,X1
        71 000120   200004 475500                    LDP5    @E,,AUTO
        71 000121   500000 235100                    LDA     0,,PR5
        71 000122   000002 735000                    ALS     2
        71 000123   400006 476505                    LDP6    6,AL,PR4
        71 000124   200005 474500                    LDP4    @I,,AUTO
        71 000125   400000 235100                    LDA     0,,PR4
        71 000126   600000 721105                    LXL1    0,AL,PR6
        71 000127   200012 722100                    LXL2    PI,,AUTO
        71 000130   100000 101112                    CMPX1   0,X2,PR1
        71 000131   000152 601000 71                 TNZ     s:890

     1284      880    5                         = C#_TO_$(STATE) -> C_SET_B.ELEM.ITEM$(E) -> ITEM_B.ELEM.
               880                                  SUCC_ITEM#(I) THEN
     1285      881    6                       DO;

     1286      882    6                         CALL DERIV_COST (PS,

    882 71 000132   200010 236100                    LDQ     @COST,,AUTO
        71 000133   000003 235000 72                 LDA     3
        71 000134   200020 757100                    STAQ    PS+5,,AUTO
        71 000135   200006 236100                    LDQ     @CLASHED_TERM,,AUTO
        71 000136   200017 756100                    STQ     PS+4,,AUTO
        71 000137   200012 631500                    EPPR1   PI,,AUTO
        71 000140   200016 451500                    STP1    PS+3,,AUTO
        71 000141   200011 636500                    EPPR6   PE,,AUTO
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:264  
        71 000142   200015 456500                    STP6    PS+2,,AUTO
        71 000143   200013 637500                    EPPR7   PS,,AUTO
        71 000144   200014 457500                    STP7    PS+1,,AUTO
        71 000145   200014 630500                    EPPR0   PS+1,,AUTO
        71 000146   000001 631400 72                 EPPR1   1
        71 000147   000000 701000 71                 TSX1    s:6
        71 000150   000000 011000                    NOP     0

     1287      883    6                                          PE,
     1288      884    6                                          PI,
     1289      885    6                                          CLASHED_TERM,
     1290      886    6                                          1,
     1291      887    6                                          COST);
     1292      888    6                         RETURN;

    888 71 000151   000000 702200 xent               TSX2  ! X66_ARET

     1293      889    6                      END;
     1294      890    5                   END;

    890 71 000152   200012 054100                    AOS     PI,,AUTO
        71 000153   200013 720100                    LXL0    PS,,AUTO
        71 000154   000000 470410 36                 LDP0    C#_TO_$,X0
        71 000155   200011 235100                    LDA     PE,,AUTO
        71 000156   000002 735000                    ALS     2
        71 000157   000004 471505                    LDP1    4,AL,PR0
        71 000160   100005 236100                    LDQ     5,,PR1
        71 000161   000022 736000                    QLS     18
        71 000162   000022 732000                    QRS     18
        71 000163   200012 116100                    CMPQ    PI,,AUTO
        71 000164   000110 605400 71                 TPNZ    s:879

     1295      891    4                 END;

    891 71 000165   200011 054100                    AOS     PE,,AUTO
        71 000166   200013 720100                    LXL0    PS,,AUTO
        71 000167   000000 470410 36                 LDP0    C#_TO_$,X0
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:265  
        71 000170   000001 236100                    LDQ     1,,PR0
        71 000171   777777 376007                    ANQ     -1,DL
        71 000172   200011 116100                    CMPQ    PE,,AUTO
        71 000173   000106 605400 71                 TPNZ    s:878

     1296      892    3               END;

     1297      893    2           END;

    893 71 000174   000210 710000 71                 TRA     s:899

     1298      894    1       ELSE
     1299      895    1         IF C#_TO_$(STATE) -> C_SET_B.ELEM.KEY$(E) ->

    895 71 000175   100000 720100                    LXL0    0,,PR1
        71 000176   000000 473410 36                 LDP3    C#_TO_$,X0
        71 000177   400000 235100                    LDA     0,,PR4
        71 000200   000002 735000                    ALS     2
        71 000201   300004 475505                    LDP5    4,AL,PR3
        71 000202   200006 473500                    LDP3    @CLASHED_TERM,,AUTO
        71 000203   500004 236100                    LDQ     4,,PR5
        71 000204   300000 116100                    CMPQ    0,,PR3
        71 000205   000210 601000 71                 TNZ     s:899

     1300      896    1                    KEY_B.W.SYM_AFTER = CLASHED_TERM THEN
     1301      897    1           COST = 1;

    897 71 000206   000001 235007                    LDA     1,DL
        71 000207   000000 755100                    STA     0,,PR0

     1302      898
     1303      899    1   END DERIV_COST;

    899 71 000210   000000 702200 xent               TSX2  ! X66_ARET

PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:266  
--  Include file information  --

   LR_ERR_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_CNFG_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_IO_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
   LR_GRAM_EXT.:Z8A6TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure DERIV_COST.
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:267  

 **** Variables and constants ****

  ****  Section 000 LblCom OUT_DCBN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 OUT_DCBN

  ****  Section 006 LblCom SYM_PTRS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 SYM_PTRS(0:1400)

  ****  Section 007 LblCom RIGHT_PARTS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h SBIN(18)          1 RIGHT_PARTS(0:8000)

  ****  Section 008 LblCom PROD

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC(72)          1 PROD(0:1500)

  ****  Section 009 LblCom NR_PROD

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_PROD

PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:268  
  ****  Section 010 LblCom NR_SYMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_SYMS

  ****  Section 011 LblCom NR_TERM

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 NR_TERM

  ****  Section 012 LblCom LAST_ACT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_ACT

  ****  Section 013 LblCom LAST_NULL

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_NULL

  ****  Section 014 LblCom NR_ONRIGHT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_ONRIGHT

  ****  Section 015 LblCom NR_NT

PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:269  
  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_NT

  ****  Section 016 LblCom PROD_LEN_MAX_EVER

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 PROD_LEN_MAX_EVER

  ****  Section 017 LblCom LAST_ORDER_SPECIFIED

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_ORDER_SPECIFIED

  ****  Section 018 LblCom SEMANTIC_ORDERING

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 SEMANTIC_ORDERING

  ****  Section 019 LblCom ERR_SEV

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 ERR_SEV

  ****  Section 020 LblCom SET_LENGTHB

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:270  

     0-0-0/w SBIN              1 SET_LENGTHB

  ****  Section 021 LblCom SET_LENGTHW

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 SET_LENGTHW

  ****  Section 022 LblCom EOF_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 EOF_SYMBOL_PTR

  ****  Section 023 LblCom ERROR_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 ERROR_SYMBOL_PTR

  ****  Section 024 LblCom BOF_SYMBOL_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 BOF_SYMBOL_PTR

  ****  Section 025 LblCom OPTIONS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 OPTIONS(0:25)
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:271  

  ****  Section 026 LblCom OPTIONS_TEXT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(4)           1 OPTIONS_TEXT(0:25)

  ****  Section 027 LblCom INSTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR              1 INSTR(0:511)               0-0-0/c CHAR(512)         1 INSTRCHR

  ****  Section 028 LblCom INSTR_LISTED

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 INSTR_LISTED

  ****  Section 029 LblCom INSTR_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INSTR_LEN

  ****  Section 030 LblCom INSTR_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INSTR_INDX

  ****  Section 031 LblCom EOF_FLAG
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:272  

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 EOF_FLAG

  ****  Section 032 LblCom KEY_REC

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(10)          1 KEY_REC

  ****  Section 033 LblCom LINE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(109)         1 LINE

  ****  Section 034 LblCom LINELEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LINELEN

  ****  Section 035 LblCom TSTATS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(7380)        1 TSTATS

  ****  Section 036 LblCom C#_TO_$

  ****  Scalars and arrays  ****
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:273  
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 C#_TO_$(0:2200)

  ****  Section 037 LblCom NR_CONFIG

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NR_CONFIG

  ****  Section 038 LblCom INIT_CONFIG

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 INIT_CONFIG

  ****  Section 039 LblCom MAX_BASIS_ITEMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 MAX_BASIS_ITEMS

  ****  Section 040 LblCom MAX_TOTAL_ITEMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 MAX_TOTAL_ITEMS

  ****  Section 041 LblCom LAST_BINSRCH_ONLY

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:274  
     0-0-0/w SBIN              1 LAST_BINSRCH_ONLY

  ****  Section 042 LblCom LAST_BOTH_BITBIN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 LAST_BOTH_BITBIN

  ****  Section 043 LblCom GARBAGE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 GARBAGE(0:100)

  ****  Section 044 LblCom AMT_GARBAGE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 AMT_GARBAGE

  ****  Section 045 LblCom LEAST_COST_STRING

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 LEAST_COST_STRING(0:1400)

  ****  Section 046 LblCom LEAST_COST_PREFIX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 LEAST_COST_PREFIX(0:1400)

PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:275  
  ****  Section 047 LblCom CURRE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(126)         1 CURRE(0:1400)

  ****  Section 048 LblCom LCP_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h SBIN(18)          1 LCP_INDX(0:1400)

  ****  Section 049 LblCom COM_STRSP_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 COM_STRSP_LEN

  ****  Section 050 LblCom COM_SEARCH_STRING

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 COM_SEARCH_STRING

  ****  Section 051 LblCom COM_SEARCH_STRING_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 COM_SEARCH_STRING_LEN

  ****  Section 052 LblCom COM_STRING_SPACE_LEN

PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:276  
  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 COM_STRING_SPACE_LEN

  ****  Section 053 LblCom COM_STRING_SPACE_H

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h SBIN(18)    r     1 COM_STRING_SPACE_H(0:24999)

  ****  Section 054 LblCom COM_STRING_SPACE$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 COM_STRING_SPACE$

  ****  Section 055 LblCom COM_STRING_PTR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 COM_STRING_PTR

  ****  Section 056 LblCom COM_STRING_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 COM_STRING_INDX

  ****  Section 057 LblCom LCP_TABLE_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:277  

     0-0-0/w SBIN              1 LCP_TABLE_LEN

  ****  Section 058 LblCom STATE_ITEM_INDEX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC              1 STATE_ITEM_INDEX(0:2200)

  ****  Section 059 LblCom PATH

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC        r     1 PATH(0:17600)

  ****  Section 060 LblCom PATH_STRINGS_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 PATH_STRINGS_LEN

  ****  Section 061 LblCom PATH_ADDR$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 PATH_ADDR$

  ****  Section 062 LblCom PATH_TABLE_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 PATH_TABLE_LEN
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:278  

  ****  Section 063 LblCom EDGECOST

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 EDGECOST(0:400)

  ****  Section 064 LblCom ITEM_TABLE_LEN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 ITEM_TABLE_LEN

  ****  Section 065 LblCom ORDERED_ITEM

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC              1 ORDERED_ITEM(0:400)

  ****  Section 066 LblCom NEIGHBOR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 NEIGHBOR(0:400)

  ****  Section 067 LblCom PATH_INFO

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(28872)       1 PATH_INFO

  ****  Section 068 LblCom CHOSEN
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:279  

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w BIT               1 CHOSEN(0:400)

  ****  Section 069 LblCom REACHED

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT               1 REACHED(0:400)

  ****  Section 070 LblCom EXP_PATH_INDX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 EXP_PATH_INDX

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     6-0-0/w PTR         r     1 @CLASHED_TERM             10-0-0/w PTR         r     1 @COST
     4-0-0/w PTR         r     1 @E                         5-0-0/w PTR         r     1 @I
     7-0-0/w PTR         r     1 @LEV                       3-0-0/w PTR         r     1 @STATE
    *0-0-0/w SBIN        r     1 CLASHED_TERM              *0-0-0/w SBIN        r     1 COST
    *0-0-0/w SBIN        r     1 E                         *0-0-0/w SBIN        r     1 I
    *0-0-0/w SBIN        r     1 LEV                       11-0-0/w SBIN        r     1 PE
    12-0-0/w SBIN        r     1 PI                        13-0-0/w SBIN        r     1 PS
    *0-0-0/w SBIN        r     1 STATE

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
PL6.E3A0      #008=DERIV_COST File=LR_LASET.:Z8A6TSI                             SAT 08/09/97 09:36 Page:280  
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(72)          1 CELL                       0-0-0/c ACHR              1 COM_STRINGS
     0-0-0/c ACHR              1 COM_STRING_SPACE           0-0-0/c ACHR              1 CSEARCH_STRING
     0-0-0/w STRC(57888) r     1 C_SET_B                    0-0-0/w STRC(72)          1 INCLUDES_B
     0-0-0/w STRC(144)   r     1 INCL_B                     0-0-0/w STRC(5436)  r     1 ITEM_B
     0-0-0/w STRC(5652)  r     1 KEY_B                      0-0-0N  NULL        r     1 M$LO
     0-0-0N  NULL        r     1 M$OU                       0-0-0N  NULL        r     1 M$SI
     0-0-0N  NULL        r     1 M$SO                       0-0-0N  NULL        r     1 M$UI
     0-0-0/c ACHR              1 PATH_STRINGS               0-0-0/w STRC(90)          1 PREFIX
     0-0-0/w ASTR(72)    r     1 PREFIXCHR                  0-0-0/w STRC(2)     r     1 SB
     0-0-0/w STRC              1 STRING                     0-0-0/w ASTR(18)    r     1 STRINGCHR
     0-0-0/w STRC(351)         1 SYMBOL


   Procedure DERIV_COST requires 137 words for executable code.
   Procedure DERIV_COST requires 18 words of local(AUTO) storage.

    No errors detected in file LR_LASET.:Z8A6TSI    .

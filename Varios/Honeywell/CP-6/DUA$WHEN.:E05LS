VERSION E05

PL6.E3A0      #001=DUA$WHEN File=DUA$WHEN.:E05TSI                                TUE 07/29/97 14:50 Page:1    
        1        1        /*M* DUA$WHEN - DATA BREAKPOINT PROCESSING */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        DUA$WHEN: PROC ALTRET;
        8        8                                                /**/
        9        9    1   DCL NOGO_BIT BIT(1) ALIGNED;
       10       10    1   DCL T$ PTR;
       11       11        %INCLUDE DD$BASED;
       12     1314        %WHEN_FIRST (NAME=WHEN);
       13     1351        %IF$CONST;
       14     1389        %FIXCOM (NAME="F$XCM");
       15     1405        %INCLUDE XUH_MACRO_C;
       16     1489        %INCLUDE DD_SD_M;
       17     2825        %S_D;
       18     4143    1   DCL DDA$IF ENTRY(1) ALTRET;
       19     4144    1   DCL DDE$ERROR ENTRY;
       20     4145    1        S_D.DO$ = PINCRW(S_D.VARCOM$, S_D.FAULTCMD$->F$XCM.FAI);
       21     4146    1        IF S_D.DO$->WHEN.WCOND = 0
       22     4147                                              /* No WHEN relation */
       23     4148    1             THEN S_D.D$ = PINCRW(S_D.DO$, SIZEW(WHEN));
       24     4149    2             ELSE DO;                    /* Is a WHEN relation */
       25     4150    2                  T$ = PINCRW(S_D.DO$, S_D.DO$->WHEN.U.CONST_OFFSET);
       26     4151    2                  S_D.D$ = PINCRW(T$, SIZEW(IF$CONST));
       27     4152    2                END;
       28     4153    1        CALL DDA$IF(NOGO_BIT) ALTRET(ERR);
       29     4154    1        IF NOGO_BIT THEN ALTRETURN;
       30     4155    1        IF S_D.DO$->WHEN.ATT_OFFSET = 0
       31     4156    1        THEN S_D.DO$ = ADDR(NIL);          /* NO MORE ATTACHMENTS */
       32     4157    1        RETURN;
       33     4158    1   ERR: CALL DDE$ERROR;
       34     4159    1        ALTRETURN;
       35     4160    1   END DUA$WHEN;
       36     4161        %EOD;

PL6.E3A0      #001=DUA$WHEN File=DUA$WHEN.:E05TSI                                TUE 07/29/97 14:50 Page:2    
--  Include file information  --

   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DUA$WHEN.

   Procedure DUA$WHEN requires 40 words for executable code.
   Procedure DUA$WHEN requires 8 words of local(AUTO) storage.

PL6.E3A0      #001=DUA$WHEN File=DUA$WHEN.:E05TSI                                TUE 07/29/97 14:50 Page:3    

 Object Unit name= DUA$WHEN                                   File name= DUA$WHEN.:E05TOU
 UTS= JUL 29 '97 14:50:17.72 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none    40     50  DUA$WHEN

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes    yes     yes      Std        0  DUA$WHEN

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       1 DDA$IF
         yes           Std       0 DDE$ERROR
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AALT
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    S_D$                                  B_VECTNIL
PL6.E3A0      #001=DUA$WHEN File=DUA$WHEN.:E05TSI                                TUE 07/29/97 14:50 Page:4    


        1        1        /*M* DUA$WHEN - DATA BREAKPOINT PROCESSING */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        DUA$WHEN: PROC ALTRET;

      7  0 000000   000000 700200 xent  DUA$WHEN     TSX0  ! X66_AUTO_0
         0 000001   000010 000000                    ZERO    8,0

        8        8                                                /**/
        9        9    1   DCL NOGO_BIT BIT(1) ALIGNED;
       10       10    1   DCL T$ PTR;
       11       11        %INCLUDE DD$BASED;
       12     1314        %WHEN_FIRST (NAME=WHEN);
       13     1351        %IF$CONST;
       14     1389        %FIXCOM (NAME="F$XCM");
       15     1405        %INCLUDE XUH_MACRO_C;
       16     1489        %INCLUDE DD_SD_M;
       17     2825        %S_D;
       18     4143    1   DCL DDA$IF ENTRY(1) ALTRET;
       19     4144    1   DCL DDE$ERROR ENTRY;
       20     4145    1        S_D.DO$ = PINCRW(S_D.VARCOM$, S_D.FAULTCMD$->F$XCM.FAI);

   4145  0 000002   000000 470400 xsym               LDP0    S_D$
         0 000003   000004 471500                    LDP1    4,,PR0
         0 000004   100002 720100                    LXL0    2,,PR1
         0 000005   004622 473500                    LDP3    2450,,PR0
         0 000006   300000 634510                    EPPR4   0,X0,PR3
         0 000007   000031 454500                    STP4    25,,PR0

       21     4146    1        IF S_D.DO$->WHEN.WCOND = 0

   4146  0 000010   400011 235100                    LDA     9,,PR4
         0 000011   000016 601000 0                  TNZ     s:4150
PL6.E3A0      #001=DUA$WHEN File=DUA$WHEN.:E05TSI                                TUE 07/29/97 14:50 Page:5    

       22     4147                                              /* No WHEN relation */
       23     4148    1             THEN S_D.D$ = PINCRW(S_D.DO$, SIZEW(WHEN));

   4148  0 000012   000031 236100                    LDQ     25,,PR0
         0 000013   000021 036003                    ADLQ    17,DU
         0 000014   000044 756100                    STQ     36,,PR0
         0 000015   000024 710000 0                  TRA     s:4153

       24     4149    2             ELSE DO;                    /* Is a WHEN relation */

       25     4150    2                  T$ = PINCRW(S_D.DO$, S_D.DO$->WHEN.U.CONST_OFFSET);

   4150  0 000016   400001 220100                    LDX0    1,,PR4
         0 000017   400000 635510                    EPPR5   0,X0,PR4
         0 000020   200004 455500                    STP5    T$,,AUTO

       26     4151    2                  S_D.D$ = PINCRW(T$, SIZEW(IF$CONST));

   4151  0 000021   200004 236100                    LDQ     T$,,AUTO
         0 000022   000020 036003                    ADLQ    16,DU
         0 000023   000044 756100                    STQ     36,,PR0

       27     4152    2                END;

       28     4153    1        CALL DDA$IF(NOGO_BIT) ALTRET(ERR);

   4153  0 000024   200003 635500                    EPPR5   NOGO_BIT,,AUTO
         0 000025   200006 455500                    STP5    T$+2,,AUTO
         0 000026   200006 630500                    EPPR0   T$+2,,AUTO
         0 000027   000017 631400 xsym               EPPR1   B_VECTNIL+15
         0 000030   000000 701000 xent               TSX1    DDA$IF
         0 000031   000044 702000 0                  TSX2    ERR

       29     4154    1        IF NOGO_BIT THEN ALTRETURN;

   4154  0 000032   200003 234100                    SZN     NOGO_BIT,,AUTO
PL6.E3A0      #001=DUA$WHEN File=DUA$WHEN.:E05TSI                                TUE 07/29/97 14:50 Page:6    
         0 000033   000035 605000 0                  TPL     s:4155

   4154  0 000034   000000 702200 xent               TSX2  ! X66_AALT

       30     4155    1        IF S_D.DO$->WHEN.ATT_OFFSET = 0

   4155  0 000035   000000 470400 xsym               LDP0    S_D$
         0 000036   000031 471500                    LDP1    25,,PR0
         0 000037   100007 220100                    LDX0    7,,PR1
         0 000040   000043 601000 0                  TNZ     s:4157

       31     4156    1        THEN S_D.DO$ = ADDR(NIL);          /* NO MORE ATTACHMENTS */

   4156  0 000041   000001 236000 xsym               LDQ     B_VECTNIL+1
         0 000042   000031 756100                    STQ     25,,PR0

       32     4157    1        RETURN;

   4157  0 000043   000000 702200 xent               TSX2  ! X66_ARET

       33     4158    1   ERR: CALL DDE$ERROR;

   4158  0 000044   000002 631400 xsym  ERR          EPPR1   B_VECTNIL+2
         0 000045   000000 701000 xent               TSX1    DDE$ERROR
         0 000046   000000 011000                    NOP     0

       34     4159    1        ALTRETURN;

   4159  0 000047   000000 702200 xent               TSX2  ! X66_AALT
       35     4160    1   END DUA$WHEN;
       36     4161        %EOD;

PL6.E3A0      #001=DUA$WHEN File=DUA$WHEN.:E05TSI                                TUE 07/29/97 14:50 Page:7    
--  Include file information  --

   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DUA$WHEN.

   Procedure DUA$WHEN requires 40 words for executable code.
   Procedure DUA$WHEN requires 8 words of local(AUTO) storage.
PL6.E3A0      #001=DUA$WHEN File=DUA$WHEN.:E05TSI                                TUE 07/29/97 14:50 Page:8    
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DUA$WHEN File=DUA$WHEN.:E05TSI                                TUE 07/29/97 14:50 Page:9    
          MINI XREF LISTING

DDA$IF
      4143**DCL-ENT  4153--CALL
DDE$ERROR
      4144**DCL-ENT  4158--CALL
ERR
      4158**LABEL    4153--CALLALT
F$XCM.FAI
      1401**DCL      4145>>ASSIGN
IF$CONST
      1352**DCL      4151--ASSIGN
IF$CONST.CONS.TANT
      1363**DCL      1364--REDEF
IF$CONST.P.ADR
      1372**DCL      1376--REDEF
IF$CONST.SIZE
      1353**DCL      1354--REDEF
IF$CONST.TEXT
      1355**DCL      1356--REDEF    1357--REDEF    1361--REDEF    1366--REDEF    1370--REDEF    1383--REDEF
IF$CONST.TEXTA8.BYT
      1359**DCL      1360--REDEF
NOGO_BIT
         9**DCL      4153<>CALL     4154>>IF
S_D.CURRENT_CHANNEL
      3777**DCL      3779--REDEF
S_D.D$
      2915**DCL      4148<<ASSIGN   4151<<ASSIGN
S_D.DEBUGA
      2929**DCL      2931--REDEF
S_D.DO$
      2880**DCL      4145<<ASSIGN   4146>>IF       4148>>ASSIGN   4150>>ASSIGN   4150>>ASSIGN   4155>>IF
      4156<<ASSIGN
S_D.EIS
PL6.E3A0      #001=DUA$WHEN File=DUA$WHEN.:E05TSI                                TUE 07/29/97 14:50 Page:10   
      3887**DCL      3916--REDEF
S_D.FAULTCMD$
      2844**DCL      4145>>ASSIGN
S_D.HOST_MESSAGE_BUF_REMOTE
      3820**DCL      3821--REDEF    3835--REDEF
S_D.JDE
      3434**DCL      3435--REDEF
S_D.L$.VALUE
      2987**DCL      2993--REDEF    3001--REDEF    3004--REDEF    3007--REDEF    3010--REDEF
S_D.L$.VALUE.L
      2988**DCL      2989--REDEF    2990--REDEF
S_D.L6_MESSAGE_BUF
      3841**DCL      3843--REDEF
S_D.OUTPUT
      3807**DCL      3809--REDEF
S_D.REMOTE_MSG.FNCC
      3826**DCL      3827--REDEF
S_D.REMOTE_MSG.STXC
      3822**DCL      3823--REDEF
S_D.REMOTE_MSG.SUBFNCC
      3830**DCL      3831--REDEF
S_D.SV
      2886**DCL      2907--REDEF
S_D.VARCOM$
      3298**DCL      4145>>ASSIGN
S_D$
      4138**DCL      2834--IMP-PTR  4145>>ASSIGN   4145>>ASSIGN   4145>>ASSIGN   4146>>IF       4148>>ASSIGN
      4148>>ASSIGN   4150>>ASSIGN   4150>>ASSIGN   4151>>ASSIGN   4155>>IF       4156>>ASSIGN
T$
        10**DCL      4150<<ASSIGN   4151>>ASSIGN
WHEN
      1315**DCL      4148--ASSIGN
WHEN.ATT_OFFSET
      1338**DCL      4155>>IF
WHEN.U.APT
      1321**DCL      1322--REDEF
PL6.E3A0      #001=DUA$WHEN File=DUA$WHEN.:E05TSI                                TUE 07/29/97 14:50 Page:11   
WHEN.U.CONST_OFFSET
      1322**DCL      4150>>ASSIGN
WHEN.UNUSED
      1319**DCL      1320--REDEF
WHEN.WCOND
      1341**DCL      4146>>IF
PL6.E3A0      #001=DUA$WHEN File=DUA$WHEN.:E05TSI                                TUE 07/29/97 14:50 Page:12   
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DUA$WHEN File=DUA$WHEN.:E05TSI                                TUE 07/29/97 14:50 Page:13   
              MINI UREF LISTING

DUA$WHEN       7**PROC

PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:14   
       37        1        /*T***********************************************************/
       38        2        /*T*                                                         */
       39        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
       40        4        /*T*                                                         */
       41        5        /*T***********************************************************/
       42        6        DUA$WHENOUT: PROC(ASL) ALTRET;
       43        7    1   DCL ASL BIT(1) ALIGNED;
       44        8    1   DCL TYPE UBIN;
       45        9    1   DCL LENGTH UBIN;
       46       10        %INCLUDE XUH_MACRO_C;
       47       94        %INCLUDE DD_SD_M;
       48     1430        %S_D;
       49     2748        %INCLUDE DD_SUBS_C;
       50     3019    1   DCL UIS$ PTR SYMREF;
       51     3020    1   DCL B$JIT$ PTR SYMREF;
       52     3021        %INCLUDE B$JIT;
       53     3311        %INCLUDE CP_6;
       54     3392        %FPT_UNSHARE (LIB=YES, STCLASS=CONSTANT);
       55     3407        %INCLUDE M_INFO_C;
       56     3547    1   DCL DDQ$WRITE ENTRY(2);
       57     3548    1   DCL DDB$INTERP ENTRY(3);
       58     3549    1   DCL DDB$PLANTONE ENTRY(4) ALTRET;
       59     3550    1   DCL DDE$ERROR ENTRY;
       60     3551    1        IF ASL
       61     3552    2        THEN DO;
       62     3553    2             S_D.WHEN_IC = S_D.TIC;
       63     3554    2             S_D.WHEN_ASL = '1'B;
       64     3555    2           END;
       65     3556    2        ELSE DO;
       66     3557    2             CALL DDB$INTERP (PINCRW(UIS$, S_D.TIC), TYPE, LENGTH);
       67     3558    2             S_D.WHEN_IC = S_D.TIC+LENGTH;
       68     3559    2             S_D.WHEN_ASL = '0'B;
       69     3560    2           END;
       70     3561    2        IF S_D.WHEN_IC > (%LIBLO-%ISEGLO)*1024 AND B$JIT.PCL=0 THEN DO;
       71     3562    2           S_D.OUTPUT = 'Unsharing library to process WHEN breakpoint';
       72     3563    2           CALL DDQ$WRITE (ADDR(S_D.OUTPUT), 44);
       73     3564    2           CALL M$UNSHARE (FPT_UNSHARE) ALTRET (WE_TRIED);
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:15   
       74     3565    2   WE_TRIED:
       75     3566    2           END;
       76     3567    1        CALL DDB$PLANTONE (PINCRW(UIS$, S_D.WHEN_IC), 0, DRL_WHEN, ADDR(S_D.WHEN_INS))
              3567                 ALTRET(BAD_PUT);
       77     3568    1        S_D.WHEN_ACTIVE = '1'B;
       78     3569    1        RETURN;
       79     3570    1   BAD_PUT:
       80     3571    1        ALTRETURN;
       81     3572    1   END DUA$WHENOUT;
       82     3573        %EOD;

PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:16   
--  Include file information  --

   M_INFO_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT.:E05TOU  cannot be made into a system file and is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DUA$WHENOUT.

   Procedure DUA$WHENOUT requires 81 words for executable code.
   Procedure DUA$WHENOUT requires 12 words of local(AUTO) storage.

PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:17   

 Object Unit name= DUA$WHENOUT                                File name= DUA$WHEN.:E05TOU
 UTS= JUL 29 '97 14:50:26.88 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1  RoData even  UTS     15     17  DUA$WHENOUT
    2   Proc  even  none    81    121  DUA$WHENOUT
    3  RoData even  none     4      4  DUA$WHENOUT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes    yes     yes      Std        1  DUA$WHENOUT

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       3 DDB$INTERP
         yes           Std       2 DDQ$WRITE
 yes     yes           Std       4 DDB$PLANTONE
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:18   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    S_D$                                  UIS$                                  B$JIT$
     M$UC                                  B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:19   


       37        1        /*T***********************************************************/
       38        2        /*T*                                                         */
       39        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
       40        4        /*T*                                                         */
       41        5        /*T***********************************************************/
       42        6        DUA$WHENOUT: PROC(ASL) ALTRET;

      6  2 000000   000000 700200 xent  DUA$WHENOUT  TSX0  ! X66_AUTO_1
         2 000001   000014 000001                    ZERO    12,1

       43        7    1   DCL ASL BIT(1) ALIGNED;
       44        8    1   DCL TYPE UBIN;
       45        9    1   DCL LENGTH UBIN;
       46       10        %INCLUDE XUH_MACRO_C;
       47       94        %INCLUDE DD_SD_M;
       48     1430        %S_D;
       49     2748        %INCLUDE DD_SUBS_C;
       50     3019    1   DCL UIS$ PTR SYMREF;
       51     3020    1   DCL B$JIT$ PTR SYMREF;
       52     3021        %INCLUDE B$JIT;
       53     3311        %INCLUDE CP_6;
       54     3392        %FPT_UNSHARE (LIB=YES, STCLASS=CONSTANT);
       55     3407        %INCLUDE M_INFO_C;
       56     3547    1   DCL DDQ$WRITE ENTRY(2);
       57     3548    1   DCL DDB$INTERP ENTRY(3);
       58     3549    1   DCL DDB$PLANTONE ENTRY(4) ALTRET;
       59     3550    1   DCL DDE$ERROR ENTRY;
       60     3551    1        IF ASL

   3551  2 000002   200003 470500                    LDP0    @ASL,,AUTO
         2 000003   000000 234100                    SZN     0,,PR0
         2 000004   000013 605000 2                  TPL     s:3557

       61     3552    2        THEN DO;

       62     3553    2             S_D.WHEN_IC = S_D.TIC;
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:20   

   3553  2 000005   000000 471400 xsym               LDP1    S_D$
         2 000006   100027 235100                    LDA     23,,PR1
         2 000007   105316 755100                    STA     2766,,PR1

       63     3554    2             S_D.WHEN_ASL = '1'B;

   3554  2 000010   400000 236003                    LDQ     -131072,DU
         2 000011   105005 756100                    STQ     2565,,PR1

       64     3555    2           END;

   3555  2 000012   000037 710000 2                  TRA     s:3561

       65     3556    2        ELSE DO;

       66     3557    2             CALL DDB$INTERP (PINCRW(UIS$, S_D.TIC), TYPE, LENGTH);

   3557  2 000013   000000 471400 xsym               LDP1    S_D$
         2 000014   100027 236100                    LDQ     23,,PR1
         2 000015   000022 736000                    QLS     18
         2 000016   000000 036000 xsym               ADLQ    UIS$
         2 000017   200006 756100                    STQ     LENGTH+1,,AUTO
         2 000020   200005 633500                    EPPR3   LENGTH,,AUTO
         2 000021   200011 453500                    STP3    LENGTH+4,,AUTO
         2 000022   200004 634500                    EPPR4   TYPE,,AUTO
         2 000023   200010 454500                    STP4    LENGTH+3,,AUTO
         2 000024   200006 635500                    EPPR5   LENGTH+1,,AUTO
         2 000025   200007 455500                    STP5    LENGTH+2,,AUTO
         2 000026   200007 630500                    EPPR0   LENGTH+2,,AUTO
         2 000027   000021 631400 xsym               EPPR1   B_VECTNIL+17
         2 000030   000000 701000 xent               TSX1    DDB$INTERP
         2 000031   000000 011000                    NOP     0

       67     3558    2             S_D.WHEN_IC = S_D.TIC+LENGTH;

   3558  2 000032   000000 470400 xsym               LDP0    S_D$
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:21   
         2 000033   000027 236100                    LDQ     23,,PR0
         2 000034   200005 036100                    ADLQ    LENGTH,,AUTO
         2 000035   005316 756100                    STQ     2766,,PR0

       68     3559    2             S_D.WHEN_ASL = '0'B;

   3559  2 000036   005005 450100                    STZ     2565,,PR0

       69     3560    2           END;

       70     3561    2        IF S_D.WHEN_IC > (%LIBLO-%ISEGLO)*1024 AND B$JIT.PCL=0 THEN DO;

   3561  2 000037   000000 470400 xsym               LDP0    S_D$
         2 000040   005316 235100                    LDA     2766,,PR0
         2 000041   700001 115007                    CMPA    -32767,DL
         2 000042   000070 602000 2                  TNC     WE_TRIED
         2 000043   000000 471400 xsym               LDP1    B$JIT$
         2 000044   100215 720100                    LXL0    141,,PR1
         2 000045   000070 601000 2                  TNZ     WE_TRIED

       71     3562    2           S_D.OUTPUT = 'Unsharing library to process WHEN breakpoint';

   3562  2 000046   040100 100400                    MLR     fill='040'O
         2 000047   000004 000054 1                  ADSC9   FPT_UNSHARE+4            cn=0,n=44
         2 000050   005335 004000                    ADSC9   2781,,PR0                cn=0,n=2048

       72     3563    2           CALL DDQ$WRITE (ADDR(S_D.OUTPUT), 44);

   3563  2 000051   000000 236000 xsym               LDQ     S_D$
         2 000052   005335 036003                    ADLQ    2781,DU
         2 000053   200006 756100                    STQ     LENGTH+1,,AUTO
         2 000054   000001 236000 3                  LDQ     1
         2 000055   200011 756100                    STQ     LENGTH+4,,AUTO
         2 000056   200006 633500                    EPPR3   LENGTH+1,,AUTO
         2 000057   200010 453500                    STP3    LENGTH+3,,AUTO
         2 000060   200010 630500                    EPPR0   LENGTH+3,,AUTO
         2 000061   000020 631400 xsym               EPPR1   B_VECTNIL+16
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:22   
         2 000062   000000 701000 xent               TSX1    DDQ$WRITE
         2 000063   000000 011000                    NOP     0

       73     3564    2           CALL M$UNSHARE (FPT_UNSHARE) ALTRET (WE_TRIED);

   3564  2 000064   000000 630400 1                  EPPR0   FPT_UNSHARE
         2 000065   400025 713400                    CLIMB   alt,+21
         2 000066   400000 401760                    pmme    nvectors=1
         2 000067   000070 702000 2                  TSX2    WE_TRIED

       74     3565    2   WE_TRIED:
       75     3566    2           END;

   3566  2 000070                       WE_TRIED     null
       76     3567    1        CALL DDB$PLANTONE (PINCRW(UIS$, S_D.WHEN_IC), 0, DRL_WHEN, ADDR(S_D.WHEN_INS))
              3567                 ALTRET(BAD_PUT);

   3567  2 000070   000000 470400 xsym               LDP0    S_D$
         2 000071   005316 720100                    LXL0    2766,,PR0
         2 000072   000000 636010                    EAQ     0,X0
         2 000073   000000 036000 xsym               ADLQ    UIS$
         2 000074   200006 756100                    STQ     LENGTH+1,,AUTO
         2 000075   000000 236000 xsym               LDQ     S_D$
         2 000076   005317 036003                    ADLQ    2767,DU
         2 000077   200007 756100                    STQ     LENGTH+2,,AUTO
         2 000100   200007 631500                    EPPR1   LENGTH+2,,AUTO
         2 000101   200013 451500                    STP1    LENGTH+6,,AUTO
         2 000102   000002 236000 3                  LDQ     2
         2 000103   200012 756100                    STQ     LENGTH+5,,AUTO
         2 000104   000003 236000 3                  LDQ     3
         2 000105   200011 756100                    STQ     LENGTH+4,,AUTO
         2 000106   200006 633500                    EPPR3   LENGTH+1,,AUTO
         2 000107   200010 453500                    STP3    LENGTH+3,,AUTO
         2 000110   200010 630500                    EPPR0   LENGTH+3,,AUTO
         2 000111   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 000112   000000 701000 xent               TSX1    DDB$PLANTONE
         2 000113   000120 702000 2                  TSX2    BAD_PUT
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:23   

       77     3568    1        S_D.WHEN_ACTIVE = '1'B;

   3568  2 000114   400000 236003                    LDQ     -131072,DU
         2 000115   000000 470400 xsym               LDP0    S_D$
         2 000116   005320 756100                    STQ     2768,,PR0

       78     3569    1        RETURN;

   3569  2 000117   000000 702200 xent               TSX2  ! X66_ARET

       79     3570    1   BAD_PUT:
       80     3571    1        ALTRETURN;

   3571  2 000120   000000 702200 xent  BAD_PUT      TSX2  ! X66_AALT

FPT_UNSHARE
 Sect OctLoc
   1     000   000001 777640   000002 006000   001000 000000   000000 000000    ................

(unnamed)
 Sect OctLoc
   1     004   125156 163150   141162 151156   147040 154151   142162 141162    Unsharing librar
   1     010   171040 164157   040160 162157   143145 163163   040127 110105    y to process WHE
   1     014   116040 142162   145141 153160   157151 156164                    N breakpoint

(unnamed)
 Sect OctLoc
   3     000   000000 000054   000000 006000   000011 006000   000002 006000    ...,............
       81     3572    1   END DUA$WHENOUT;
       82     3573        %EOD;

PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:24   
--  Include file information  --

   M_INFO_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT.:E05TOU  cannot be made into a system file and is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DUA$WHENOUT.

   Procedure DUA$WHENOUT requires 81 words for executable code.
   Procedure DUA$WHENOUT requires 12 words of local(AUTO) storage.
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:25   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:26   
          MINI XREF LISTING

ASL
         7**DCL         6--PROC     3551>>IF
B$JIT.CPFLAGS1.SLEAZE
      3129**DCL      3129--REDEF
B$JIT.ERR.MID
      3036**DCL      3036--REDEF
B$JIT.JRESPEAK
      3197**DCL      3198--REDEF
B$JIT.ORIGINATOR_PORT.FROM_CR
      3306**DCL      3306--REDEF    3307--REDEF
B$JIT.PCL
      3199**DCL      3561>>IF
B$JIT.PNR
      3210**DCL      3210--REDEF
B$JIT.TSLINE
      3304**DCL      3305--REDEF
B$JIT$
      3020**DCL      3030--IMP-PTR  3561>>IF
BAD_PUT
      3571**LABEL    3567--CALLALT
DDB$INTERP
      3548**DCL-ENT  3557--CALL
DDB$PLANTONE
      3549**DCL-ENT  3567--CALL
DDQ$WRITE
      3547**DCL-ENT  3563--CALL
FPT_UNSHARE
      3403**DCL      3564<>CALL
FPT_UNSHARE.V
      3403**DCL      3403--DCLINIT
LENGTH
         9**DCL      3557<>CALL     3558>>ASSIGN
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:27   
M$UNSHARE
      3337**DCL-ENT  3564--CALL
S_D.CURRENT_CHANNEL
      2382**DCL      2384--REDEF
S_D.DEBUGA
      1534**DCL      1536--REDEF
S_D.EIS
      2492**DCL      2521--REDEF
S_D.HOST_MESSAGE_BUF_REMOTE
      2425**DCL      2426--REDEF    2440--REDEF
S_D.JDE
      2039**DCL      2040--REDEF
S_D.L$.VALUE
      1592**DCL      1598--REDEF    1606--REDEF    1609--REDEF    1612--REDEF    1615--REDEF
S_D.L$.VALUE.L
      1593**DCL      1594--REDEF    1595--REDEF
S_D.L6_MESSAGE_BUF
      2446**DCL      2448--REDEF
S_D.OUTPUT
      2412**DCL      2414--REDEF    3562<<ASSIGN   3563--CALL
S_D.REMOTE_MSG.FNCC
      2431**DCL      2432--REDEF
S_D.REMOTE_MSG.STXC
      2427**DCL      2428--REDEF
S_D.REMOTE_MSG.SUBFNCC
      2435**DCL      2436--REDEF
S_D.SV
      1491**DCL      1512--REDEF
S_D.TIC
      1481**DCL      3553>>ASSIGN   3557>>CALL     3558>>ASSIGN
S_D.WHEN_ACTIVE
      2380**DCL      3568<<ASSIGN
S_D.WHEN_ASL
      2130**DCL      3554<<ASSIGN   3559<<ASSIGN
S_D.WHEN_IC
      2376**DCL      3553<<ASSIGN   3558<<ASSIGN   3561>>IF       3567>>CALL
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:28   
S_D.WHEN_INS
      2378**DCL      3567--CALL
S_D$
      2743**DCL      1439--IMP-PTR  3553>>ASSIGN   3553>>ASSIGN   3554>>ASSIGN   3557>>CALL     3558>>ASSIGN
      3558>>ASSIGN   3559>>ASSIGN   3561>>IF       3562>>ASSIGN   3563>>CALL     3567>>CALL     3567>>CALL
      3568>>ASSIGN
TYPE
         8**DCL      3557<>CALL
UIS$
      3019**DCL      3557>>CALL     3567>>CALL
WE_TRIED
      3566**LABEL    3564--CALLALT
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:29   
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:30   
              MINI UREF LISTING

DDE$ERROR    3550**DCL-ENT
DUA$WHENOUT       6**PROC
M$ACCT    3337**DCL-ENT
M$ACTIVATE    3340**DCL-ENT
M$ALIB    3333**DCL-ENT
M$ASUSER    3335**DCL-ENT
M$ATTACH    3342**DCL-ENT
M$BADPP    3360**DCL-ENT
M$CGCTL    3341**DCL-ENT
M$CGINFO    3341**DCL-ENT
M$CHECK    3322**DCL-ENT
M$CHGUNIT    3380**DCL-ENT
M$CLOSE    3320**DCL-ENT
M$CLRSTK    3378**DCL-ENT
M$CMDVAR    3389**DCL-ENT
M$CONFIG    3350**DCL-ENT
M$CORRES    3325**DCL-ENT
M$CPEXIT    3334**DCL-ENT
M$CVM    3358**DCL-ENT
M$CVOL    3323**DCL-ENT
M$DCLFLD    3350**DCL-ENT
M$DEACTIVATE    3340**DCL-ENT
M$DELREC    3322**DCL-ENT
M$DEQ    3387**DCL-ENT
M$DETACH    3342**DCL-ENT
M$DEVICE    3324**DCL-ENT
M$DISPLAY    3387**DCL-ENT
M$DISPRES    3327**DCL-ENT
M$DLIB    3333**DCL-ENT
M$DRIBBLE    3350**DCL-ENT
M$DRTN    3378**DCL-ENT
M$DSUSER    3335**DCL-ENT
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:31   
M$ENQ    3386**DCL-ENT
M$EOM    3345**DCL-ENT
M$ERASE    3351**DCL-ENT
M$ERR    3332**DCL-ENT
M$ERRMSG    3383**DCL-ENT
M$EVENT    3375**DCL-ENT
M$EXHUME    3384**DCL-ENT
M$EXIT    3332**DCL-ENT
M$EXTEND    3324**DCL-ENT
M$FDP    3356**DCL-ENT
M$FDS    3355**DCL-ENT
M$FEBOOT    3348**DCL-ENT
M$FECTL    3349**DCL-ENT
M$FEDUMP    3348**DCL-ENT
M$FID    3383**DCL-ENT
M$FINDPROC    3337**DCL-ENT
M$FSUSER    3335**DCL-ENT
M$FVP    3357**DCL-ENT
M$FWCG    3341**DCL-ENT
M$GBPL    3361**DCL-ENT
M$GDDL    3357**DCL-ENT
M$GDP    3356**DCL-ENT
M$GDS    3355**DCL-ENT
M$GETDCB    3326**DCL-ENT
M$GETMOUSE    3366**DCL-ENT
M$GETPM    3367**DCL-ENT
M$GJOB    3385**DCL-ENT
M$GLINEATTR    3345**DCL-ENT
M$GOODPP    3360**DCL-ENT
M$GPLATEN    3353**DCL-ENT
M$GPROMPT    3352**DCL-ENT
M$GTRMATTR    3346**DCL-ENT
M$GTRMCTL    3344**DCL-ENT
M$GTRMTAB    3347**DCL-ENT
M$GVP    3356**DCL-ENT
M$HELP    3383**DCL-ENT
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:32   
M$INT    3375**DCL-ENT
M$INTRTN    3336**DCL-ENT
M$IOQ    3371**DCL-ENT
M$JOBSTATS    3385**DCL-ENT
M$KEYIN    3325**DCL-ENT
M$LDEV    3320**DCL-ENT
M$LDTRC    3333**DCL-ENT
M$LIMIT    3326**DCL-ENT
M$LINES    3325**DCL-ENT
M$LINK    3332**DCL-ENT
M$MADMUCK    3328**DCL-ENT
M$MAKUSER    3359**DCL-ENT
M$MBS    3327**DCL-ENT
M$MDFFLD    3351**DCL-ENT
M$MERC    3376**DCL-ENT
M$MERCS    3377**DCL-ENT
M$MIRROR    3371**DCL-ENT
M$MONINFO    3388**DCL-ENT
M$MPL    3361**DCL-ENT
M$NODEINFO    3352**DCL-ENT
M$NXTUSR    3386**DCL-ENT
M$OCMSG    3384**DCL-ENT
M$OLAY    3332**DCL-ENT
M$OPEN    3320**DCL-ENT
M$PAS    3361**DCL-ENT
M$PATHCON    3384**DCL-ENT
M$PDS    3355**DCL-ENT
M$PFIL    3322**DCL-ENT
M$PLATEN    3346**DCL-ENT
M$PRECORD    3324**DCL-ENT
M$PROCNAME    3337**DCL-ENT
M$PROFILE    3348**DCL-ENT
M$PROMPT    3344**DCL-ENT
M$RACST    3328**DCL-ENT
M$RDSYSLOG    3369**DCL-ENT
M$READ    3321**DCL-ENT
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:33   
M$RELDCB    3326**DCL-ENT
M$RELRES    3327**DCL-ENT
M$RELSTARF    3329**DCL-ENT
M$REM    3329**DCL-ENT
M$RENV    3376**DCL-ENT
M$REQUIRE    3328**DCL-ENT
M$RETRY    3377**DCL-ENT
M$RETRYS    3377**DCL-ENT
M$REW    3323**DCL-ENT
M$RLSFLD    3351**DCL-ENT
M$RPRIV    3379**DCL-ENT
M$RSPP    3358**DCL-ENT
M$RSWITCH    3380**DCL-ENT
M$RUE    3386**DCL-ENT
M$SAD    3359**DCL-ENT
M$SAVE    3335**DCL-ENT
M$SCON    3336**DCL-ENT
M$SCREECH    3334**DCL-ENT
M$SENV    3376**DCL-ENT
M$SETFMA    3320**DCL-ENT
M$SETFP    3349**DCL-ENT
M$SINPUT    3347**DCL-ENT
M$SLCFLD    3352**DCL-ENT
M$SMOUSE    3366**DCL-ENT
M$SMPRT    3358**DCL-ENT
M$SPRIV    3379**DCL-ENT
M$SSC    3359**DCL-ENT
M$SSWITCH    3379**DCL-ENT
M$STATE    3388**DCL-ENT
M$STD    3360**DCL-ENT
M$STIMER    3374**DCL-ENT
M$STLPP    3357**DCL-ENT
M$STRAP    3374**DCL-ENT
M$STRMATTR    3346**DCL-ENT
M$STRMCTL    3344**DCL-ENT
M$STRMTAB    3347**DCL-ENT
PL6.E3A0      #002=DUA$WHENOUT File=DUA$WHEN.:E05TSI                             TUE 07/29/97 14:50 Page:34   
M$SYMBIO    3385**DCL-ENT
M$SYSCON    3371**DCL-ENT
M$SYSID    3389**DCL-ENT
M$TDCLOSE    3370**DCL-ENT
M$TDIO    3370**DCL-ENT
M$TDOPEN    3369**DCL-ENT
M$TDREQCPU    3370**DCL-ENT
M$TEMPWROC    3364**DCL-ENT
M$TIME    3387**DCL-ENT
M$TRAP    3374**DCL-ENT
M$TRMISC    3349**DCL-ENT
M$TRMPRG    3345**DCL-ENT
M$TRTN    3378**DCL-ENT
M$TRUNC    3321**DCL-ENT
M$TTIMER    3374**DCL-ENT
M$UC    3344**DCL
M$UMPL    3361**DCL-ENT
M$UNFID    3383**DCL-ENT
M$UNLATCH    3340**DCL-ENT
M$USRFIELD    3380**DCL-ENT
M$VIRTUAL    3355**DCL-ENT
M$WAIT    3378**DCL-ENT
M$WEOF    3323**DCL-ENT
M$WRITE    3321**DCL-ENT
M$WRSYSLOG    3369**DCL-ENT
M$XCON    3375**DCL-ENT
M$XCONRTN    3336**DCL-ENT
M$XEQTIME    3388**DCL-ENT
M$XFLUSH    3329**DCL-ENT
M$XMOUSE    3366**DCL-ENT
M$XXX    3332**DCL-ENT
M$YC    3334**DCL-ENT

PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:35   
       83        1        /*T***********************************************************/
       84        2        /*T*                                                         */
       85        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
       86        4        /*T*                                                         */
       87        5        /*T***********************************************************/
       88        6        DUA$WHENIN: PROC ALTRET;
       89        7    1   DCL SIZE UBIN;
       90        8    1   DCL I UBIN;
       91        9    1   DCL FATT$ PTR;
       92       10    1   DCL NOGO_BIT BIT(1) ALIGNED;
       93       11    1   DCL BITN BIT(SIZE) BASED UNAL;
       94       12    1   DCL WHEN$ PTR;
       95       13    1   DCL BB$ PTR;
       96       14    1   DCL CHAR22 CHAR(22) BASED;
       97       15        %INCLUDE DD$BASED;
       98     1318        %WHEN_FIRST (NAME=WHEN, STCLASS="BASED(FATT$)");
       99     1355        %INCLUDE XUH_MACRO_C;
      100     1439        %INCLUDE DD_SD_M;
      101     2775        %S_D;
      102     4093        %INCLUDE DD_SUBS_C;
      103     4364        %FIXCOM (NAME="F$XCM");
      104     4380        %INCLUDE DD$DITEM;
       12+    4483             %LIST;
       13+    4484    1        DCL SDD$ PTR;
       14+    4485    1        DCL ZITEM$ PTR;
       15+    4486    1        DCL SDD_L6$ PTR;
       16+    4487    1        DCL ZITEM_L6$ PTR;
      105     5061        %INCLUDE DD_ERR_C;
      106     5458    1   DCL DDQ$WRITE ENTRY(2);
      107     5459    1   DCL DDR$BINTXT ENTRY(4);
      108     5460    1   DCL UIS$ PTR SYMREF;
      109     5461    1   DCL DDA$IF_WHEN ENTRY(1) ALTRET;
      110     5462    1   DCL DDK$GETWVAL ENTRY(6) ALTRET;
      111     5463    1   DCL DDE$ERROR ENTRY;
      112     5464                                                /**/
      113     5465    2        DO I = 1 TO S_D.FIXLAST;
      114     5466    2             IF S_D.FIXCOM.INACTIVE(I) THEN GOTO ENDLOOP;
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:36   
      115     5467    2             IF S_D.FIXCOM.NOT_IN(I) THEN GOTO ENDLOOP;
      116     5468    2             IF S_D.FIXCOM.CMD(I) = C_WHEN
      117     5469    3             THEN DO;
      118     5470    3                  FATT$ = PINCRW(S_D.VARCOM$, S_D.FIXCOM.FAI(I));
      119     5471    3                  SIZE = WHEN.BSIZE;
      120     5472    3                  IF WHEN.WCOND = 0
      121     5473    4                  THEN DO;                 /* No WHEN relation */
      122     5474                                                /* Just check for change from OVALUE */
      123     5475    4                       WHEN$ = ADDR(S_D.OUTPUT);
      124     5476    4                       CALL DDK$GETWVAL (WHEN$, WHEN.ADDRESS, WHEN.BOFF,
      125     5477    4                         WHEN.BSIZE, WHEN.DESC#, WHEN.NOT_IS)
      126     5478    5                         WHENALTRETURN DO;
      127     5479    5                            CALL DDE$ERROR;
      128     5480    5                            S_D.ERROR = E@CANTACCESS;          /* E@CANTACCESS */
      129     5481    5                            CALL DDE$ERROR;
      130     5482    5                            S_D.OUTPUT = 'Breakpoint ';
      131     5483    5                            BB$ = PINCRC(ADDR(S_D.OUTPUT), SIZEC('Breakpoint '));
      132     5484    5                            CALL DDR$BINTXT(BB$, I, %UINT_FMT, SIZE);
      133     5485    5                            BB$ = PINCRC(BB$, SIZE);
      134     5486    5                            BB$ -> CHAR22 = ' set inactive by DELTA';
      135     5487    5                            CALL DDQ$WRITE(ADDR(S_D.OUTPUT), SIZEC('Breakpoint ')+22+
              5487                                     SIZE);
      136     5488    5                            S_D.FIXCOM.INACTIVE(I) = '1'B;
      137     5489    5                            GOTO ENDLOOP;
      138     5490    5                          END;
      139     5491    4                       IF WHEN$ -> BITN ~= WHEN.OVALUE$ -> BITN
      140     5492    5                       THEN DO;             /* Report this one - value changed */
      141     5493    5                            WHEN.CURRENT_COUNT = WHEN.CURRENT_COUNT - 1;
      142     5494    5                            IF WHEN.CURRENT_COUNT < 0
      143     5495    6                            THEN DO;
      144     5496    6                                 S_D.IXFIX = I;
      145     5497    6                                 S_D.FAULTCMD$ = PINCRW(ADDR(S_D.FIXCOM), I*SIZEW(F$XCM
              5497                                          ));
      146     5498    6                                 RETURN;
      147     5499    6                               END;
      148     5500    5                          END;
      149     5501    4                     END;
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:37   
      150     5502    4                  ELSE DO;                  /* WHEN relation - check condition */
      151     5503    4                       S_D.DO$ = FATT$;
      152     5504    4                       CALL DDA$IF_WHEN (NOGO_BIT) ALTRET(ERR);
      153     5505    4                       IF NOT NOGO_BIT
      154     5506    5                       THEN DO;             /* Condition was met */
      155     5507    5                            WHEN$ = ADDR(S_D.OUTPUT);
      156     5508    5                            CALL DDK$GETWVAL (WHEN$, WHEN.ADDRESS, WHEN.BOFF,
      157     5509    5                              WHEN.BSIZE, WHEN.DESC#, WHEN.NOT_IS)
      158     5510    6                              WHENALTRETURN DO;
      159     5511    6                                 CALL DDE$ERROR;
      160     5512    6                                 S_D.ERROR = E@CANTACCESS;          /* E@CANTACCESS */
      161     5513    6                                 CALL DDE$ERROR;
      162     5514    6                                 S_D.OUTPUT = 'Breakpoint ';
      163     5515    6                                 BB$ = PINCRC(ADDR(S_D.OUTPUT), SIZEC('Breakpoint '));
      164     5516    6                                 CALL DDR$BINTXT(BB$, I, %UINT_FMT, SIZE);
      165     5517    6                                 BB$ = PINCRC(BB$, SIZE);
      166     5518    6                                 BB$ -> CHAR22 = ' set inactive by DELTA';
      167     5519    6                                 CALL DDQ$WRITE(ADDR(S_D.OUTPUT), SIZEC('Breakpoint ')+
              5519                                          22+SIZE);
      168     5520    6                                 S_D.FIXCOM.INACTIVE(I) = '1'B;
      169     5521    6                                 GOTO ENDLOOP;
      170     5522    6                               END;
      171     5523    5                            IF WHEN$ -> BITN ~= WHEN.OVALUE$ -> BITN
      172     5524    6                            THEN DO;        /* Value different - report this one */
      173     5525    6                                 WHEN.CURRENT_COUNT = WHEN.CURRENT_COUNT - 1;
      174     5526    6                                 IF WHEN.CURRENT_COUNT < 0
      175     5527    7                                 THEN DO;
      176     5528    7                                      S_D.IXFIX = I;
      177     5529    7                                      S_D.FAULTCMD$ = PINCRW(ADDR(S_D.FIXCOM), I*SIZEW(
              5529                                               F$XCM));
      178     5530    7                                      RETURN;
      179     5531    7                                    END;
      180     5532    6                               END;
      181     5533    5                          END;
      182     5534    4                     END;
      183     5535    3                  END;
      184     5536    2   ENDLOOP:
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:38   
      185     5537    2        END;                               /* DO I                               */
      186     5538    1        ALTRETURN;                         /* NONE FOUND                         */
      187     5539    1   ERR: ;
      188     5540    1        CALL DDE$ERROR;
      189     5541    1        ALTRETURN;                         /* ERROR IN WHEN CONSTA   */
      190     5542    1   END DUA$WHENIN;

PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:39   
--  Include file information  --

   DD_ERR_C.:E05TOU  is referenced.
   DD_SRTN_C.:E05TOU  is referenced.
   DD_ACODE_C.:E05TOU  is referenced.
   DD_ICODE_C.:E05TOU  is referenced.
   DD$DITEM.:E05TOU  cannot be made into a system file and is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DUA$WHENIN.

   Procedure DUA$WHENIN requires 259 words for executable code.
   Procedure DUA$WHENIN requires 20 words of local(AUTO) storage.

    No errors detected in file DUA$WHEN.:E05TSI    .

PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:40   

 Object Unit name= DUA$WHENIN                                 File name= DUA$WHEN.:E05TOU
 UTS= JUL 29 '97 14:50:39.96 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS      9     11  DUA$WHENIN
    1   Proc  even  none   259    403  DUA$WHENIN
    2  RoData even  none     2      2  DUA$WHENIN

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes    yes     yes      Std        0  DUA$WHENIN

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       6 DDK$GETWVAL
 yes     yes           Std       1 DDA$IF_WHEN
         yes           Std       0 DDE$ERROR
         yes           Std       4 DDR$BINTXT
         yes           Std       2 DDQ$WRITE
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:41   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    S_D$                                  B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:42   


       83        1        /*T***********************************************************/
       84        2        /*T*                                                         */
       85        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
       86        4        /*T*                                                         */
       87        5        /*T***********************************************************/
       88        6        DUA$WHENIN: PROC ALTRET;

      6  1 000000   000000 700200 xent  DUA$WHENIN   TSX0  ! X66_AUTO_0
         1 000001   000024 000000                    ZERO    20,0

       89        7    1   DCL SIZE UBIN;
       90        8    1   DCL I UBIN;
       91        9    1   DCL FATT$ PTR;
       92       10    1   DCL NOGO_BIT BIT(1) ALIGNED;
       93       11    1   DCL BITN BIT(SIZE) BASED UNAL;
       94       12    1   DCL WHEN$ PTR;
       95       13    1   DCL BB$ PTR;
       96       14    1   DCL CHAR22 CHAR(22) BASED;
       97       15        %INCLUDE DD$BASED;
       98     1318        %WHEN_FIRST (NAME=WHEN, STCLASS="BASED(FATT$)");
       99     1355        %INCLUDE XUH_MACRO_C;
      100     1439        %INCLUDE DD_SD_M;
      101     2775        %S_D;
      102     4093        %INCLUDE DD_SUBS_C;
      103     4364        %FIXCOM (NAME="F$XCM");
      104     4380        %INCLUDE DD$DITEM;
       12+    4483             %LIST;
       13+    4484    1        DCL SDD$ PTR;
       14+    4485    1        DCL ZITEM$ PTR;
       15+    4486    1        DCL SDD_L6$ PTR;
       16+    4487    1        DCL ZITEM_L6$ PTR;
      105     5061        %INCLUDE DD_ERR_C;
      106     5458    1   DCL DDQ$WRITE ENTRY(2);
      107     5459    1   DCL DDR$BINTXT ENTRY(4);
      108     5460    1   DCL UIS$ PTR SYMREF;
      109     5461    1   DCL DDA$IF_WHEN ENTRY(1) ALTRET;
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:43   
      110     5462    1   DCL DDK$GETWVAL ENTRY(6) ALTRET;
      111     5463    1   DCL DDE$ERROR ENTRY;
      112     5464                                                /**/
      113     5465    2        DO I = 1 TO S_D.FIXLAST;

   5465  1 000002   000001 235007                    LDA     1,DL
         1 000003   200004 755100                    STA     I,,AUTO
         1 000004   000371 710000 1                  TRA     ENDLOOP+3

      114     5466    2             IF S_D.FIXCOM.INACTIVE(I) THEN GOTO ENDLOOP;

   5466  1 000005   200004 236100                    LDQ     I,,AUTO
         1 000006   000006 402007                    MPY     6,DL
         1 000007   000000 470400 xsym               LDP0    S_D$
         1 000010   001212 236106                    LDQ     650,QL,PR0
         1 000011   000400 316003                    CANQ    256,DU
         1 000012   000366 601000 1                  TNZ     ENDLOOP

      115     5467    2             IF S_D.FIXCOM.NOT_IN(I) THEN GOTO ENDLOOP;

   5467  1 000013   200004 236100                    LDQ     I,,AUTO
         1 000014   000006 402007                    MPY     6,DL
         1 000015   001212 236106                    LDQ     650,QL,PR0
         1 000016   000100 316003                    CANQ    64,DU
         1 000017   000366 601000 1                  TNZ     ENDLOOP

      116     5468    2             IF S_D.FIXCOM.CMD(I) = C_WHEN

   5468  1 000020   200004 236100                    LDQ     I,,AUTO
         1 000021   000006 402007                    MPY     6,DL
         1 000022   001212 236106                    LDQ     650,QL,PR0
         1 000023   777000 376003                    ANQ     -512,DU
         1 000024   103000 116003                    CMPQ    34304,DU
         1 000025   000366 601000 1                  TNZ     ENDLOOP

      117     5469    3             THEN DO;

PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:44   
      118     5470    3                  FATT$ = PINCRW(S_D.VARCOM$, S_D.FIXCOM.FAI(I));

   5470  1 000026   200004 236100                    LDQ     I,,AUTO
         1 000027   000006 402007                    MPY     6,DL
         1 000030   001214 720106                    LXL0    652,QL,PR0
         1 000031   004622 471500                    LDP1    2450,,PR0
         1 000032   100000 633510                    EPPR3   0,X0,PR1
         1 000033   200005 453500                    STP3    FATT$,,AUTO

      119     5471    3                  SIZE = WHEN.BSIZE;

   5471  1 000034   300016 235100                    LDA     14,,PR3
         1 000035   200003 755100                    STA     SIZE,,AUTO

      120     5472    3                  IF WHEN.WCOND = 0

   5472  1 000036   300011 235100                    LDA     9,,PR3
         1 000037   000206 601000 1                  TNZ     s:5503

      121     5473    4                  THEN DO;                 /* No WHEN relation */

      122     5474                                                /* Just check for change from OVALUE */
      123     5475    4                       WHEN$ = ADDR(S_D.OUTPUT);

   5475  1 000040   000000 236000 xsym               LDQ     S_D$
         1 000041   005335 036003                    ADLQ    2781,DU
         1 000042   200007 756100                    STQ     WHEN$,,AUTO

      124     5476    4                       CALL DDK$GETWVAL (WHEN$, WHEN.ADDRESS, WHEN.BOFF,

   5476  1 000043   200005 236100                    LDQ     FATT$,,AUTO
         1 000044   000015 036003                    ADLQ    13,DU
         1 000045   200023 756100                    STQ     BB$+11,,AUTO
         1 000046   200005 236100                    LDQ     FATT$,,AUTO
         1 000047   000014 036003                    ADLQ    12,DU
         1 000050   200022 756100                    STQ     BB$+10,,AUTO
         1 000051   200005 236100                    LDQ     FATT$,,AUTO
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:45   
         1 000052   000016 036003                    ADLQ    14,DU
         1 000053   200021 756100                    STQ     BB$+9,,AUTO
         1 000054   200005 236100                    LDQ     FATT$,,AUTO
         1 000055   000017 036003                    ADLQ    15,DU
         1 000056   200020 756100                    STQ     BB$+8,,AUTO
         1 000057   200005 236100                    LDQ     FATT$,,AUTO
         1 000060   000012 036003                    ADLQ    10,DU
         1 000061   200017 756100                    STQ     BB$+7,,AUTO
         1 000062   200007 634500                    EPPR4   WHEN$,,AUTO
         1 000063   200016 454500                    STP4    BB$+6,,AUTO
         1 000064   200016 630500                    EPPR0   BB$+6,,AUTO
         1 000065   000024 631400 xsym               EPPR1   B_VECTNIL+20
         1 000066   000000 701000 xent               TSX1    DDK$GETWVAL
         1 000067   000071 702000 1                  TSX2    s:5479
         1 000070   000162 710000 1                  TRA     s:5491

      125     5477    4                         WHEN.BSIZE, WHEN.DESC#, WHEN.NOT_IS)
      126     5478    5                         WHENALTRETURN DO;

      127     5479    5                            CALL DDE$ERROR;

   5479  1 000071   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000072   000000 701000 xent               TSX1    DDE$ERROR
         1 000073   000000 011000                    NOP     0

      128     5480    5                            S_D.ERROR = E@CANTACCESS;          /* E@CANTACCESS */

   5480  1 000074   000355 235007                    LDA     237,DL
         1 000075   000000 470400 xsym               LDP0    S_D$
         1 000076   000013 755100                    STA     11,,PR0

      129     5481    5                            CALL DDE$ERROR;

   5481  1 000077   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000100   000000 701000 xent               TSX1    DDE$ERROR
         1 000101   000000 011000                    NOP     0

PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:46   
      130     5482    5                            S_D.OUTPUT = 'Breakpoint ';

   5482  1 000102   000000 470400 xsym               LDP0    S_D$
         1 000103   040100 100400                    MLR     fill='040'O
         1 000104   000000 000013 0                  ADSC9   0                        cn=0,n=11
         1 000105   005335 004000                    ADSC9   2781,,PR0                cn=0,n=2048

      131     5483    5                            BB$ = PINCRC(ADDR(S_D.OUTPUT), SIZEC('Breakpoint '));

   5483  1 000106   000000 236000 xsym               LDQ     S_D$
         1 000107   000000 036000 2                  ADLQ    0
         1 000110   200010 756100                    STQ     BB$,,AUTO

      132     5484    5                            CALL DDR$BINTXT(BB$, I, %UINT_FMT, SIZE);

   5484  1 000111   200003 631500                    EPPR1   SIZE,,AUTO
         1 000112   200021 451500                    STP1    BB$+9,,AUTO
         1 000113   000001 236000 2                  LDQ     1
         1 000114   200020 756100                    STQ     BB$+8,,AUTO
         1 000115   200004 633500                    EPPR3   I,,AUTO
         1 000116   200017 453500                    STP3    BB$+7,,AUTO
         1 000117   200010 634500                    EPPR4   BB$,,AUTO
         1 000120   200016 454500                    STP4    BB$+6,,AUTO
         1 000121   200016 630500                    EPPR0   BB$+6,,AUTO
         1 000122   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000123   000000 701000 xent               TSX1    DDR$BINTXT
         1 000124   000000 011000                    NOP     0

      133     5485    5                            BB$ = PINCRC(BB$, SIZE);

   5485  1 000125   200003 236100                    LDQ     SIZE,,AUTO
         1 000126   000020 736000                    QLS     16
         1 000127   200010 036100                    ADLQ    BB$,,AUTO
         1 000130   200010 756100                    STQ     BB$,,AUTO

      134     5486    5                            BB$ -> CHAR22 = ' set inactive by DELTA';

PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:47   
   5486  1 000131   200010 470500                    LDP0    BB$,,AUTO
         1 000132   040100 100400                    MLR     fill='040'O
         1 000133   000003 000026 0                  ADSC9   3                        cn=0,n=22
         1 000134   000000 000026                    ADSC9   0,,PR0                   cn=0,n=22

      135     5487    5                            CALL DDQ$WRITE(ADDR(S_D.OUTPUT), SIZEC('Breakpoint ')+22+
              5487                                     SIZE);

   5487  1 000135   000000 236000 xsym               LDQ     S_D$
         1 000136   005335 036003                    ADLQ    2781,DU
         1 000137   200016 756100                    STQ     BB$+6,,AUTO
         1 000140   200003 235100                    LDA     SIZE,,AUTO
         1 000141   000041 035007                    ADLA    33,DL
         1 000142   200017 755100                    STA     BB$+7,,AUTO
         1 000143   200017 630500                    EPPR0   BB$+7,,AUTO
         1 000144   200021 450500                    STP0    BB$+9,,AUTO
         1 000145   200016 631500                    EPPR1   BB$+6,,AUTO
         1 000146   200020 451500                    STP1    BB$+8,,AUTO
         1 000147   200020 630500                    EPPR0   BB$+8,,AUTO
         1 000150   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000151   000000 701000 xent               TSX1    DDQ$WRITE
         1 000152   000000 011000                    NOP     0

      136     5488    5                            S_D.FIXCOM.INACTIVE(I) = '1'B;

   5488  1 000153   200004 236100                    LDQ     I,,AUTO
         1 000154   000006 402007                    MPY     6,DL
         1 000155   000000 470400 xsym               LDP0    S_D$
         1 000156   000000 620006                    EAX0    0,QL
         1 000157   000400 236003                    LDQ     256,DU
         1 000160   001212 256110                    ORSQ    650,X0,PR0

      137     5489    5                            GOTO ENDLOOP;

   5489  1 000161   000366 710000 1                  TRA     ENDLOOP

      138     5490    5                          END;
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:48   
      139     5491    4                       IF WHEN$ -> BITN ~= WHEN.OVALUE$ -> BITN

   5491  1 000162   200005 470500                    LDP0    FATT$,,AUTO
         1 000163   000002 471500                    LDP1    2,,PR0
         1 000164   200007 473500                    LDP3    WHEN$,,AUTO
         1 000165   200003 720100                    LXL0    SIZE,,AUTO
         1 000166   000140 066540                    CMPB    filb='0'B
         1 000167   300000 000010                    BDSC    0,,PR3                   by=0,bit=0,n=*X0
         1 000170   100000 000010                    BDSC    0,,PR1                   by=0,bit=0,n=*X0
         1 000171   000366 600000 1                  TZE     ENDLOOP

      140     5492    5                       THEN DO;             /* Report this one - value changed */

      141     5493    5                            WHEN.CURRENT_COUNT = WHEN.CURRENT_COUNT - 1;

   5493  1 000172   000001 336007                    LCQ     1,DL
         1 000173   000005 056100                    ASQ     5,,PR0

      142     5494    5                            IF WHEN.CURRENT_COUNT < 0

   5494  1 000174   000366 605000 1                  TPL     ENDLOOP

      143     5495    6                            THEN DO;

      144     5496    6                                 S_D.IXFIX = I;

   5496  1 000175   200004 235100                    LDA     I,,AUTO
         1 000176   000000 473400 xsym               LDP3    S_D$
         1 000177   300015 755100                    STA     13,,PR3

      145     5497    6                                S_D.FAULTCMD$ = PINCRW(ADDR(S_D.FIXCOM), I*SIZEW(F$XCM
              5497                                          ));

   5497  1 000200   200004 236100                    LDQ     I,,AUTO
         1 000201   000006 402003                    MPY     6,DU
         1 000202   001212 036003                    ADLQ    650,DU
         1 000203   000000 036000 xsym               ADLQ    S_D$
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:49   
         1 000204   300004 756100                    STQ     4,,PR3

      146     5498    6                                 RETURN;

   5498  1 000205   000000 702200 xent               TSX2  ! X66_ARET

      147     5499    6                               END;
      148     5500    5                          END;
      149     5501    4                     END;
      150     5502    4                  ELSE DO;                  /* WHEN relation - check condition */

      151     5503    4                       S_D.DO$ = FATT$;

   5503  1 000206   200005 236100                    LDQ     FATT$,,AUTO
         1 000207   000031 756100                    STQ     25,,PR0

      152     5504    4                       CALL DDA$IF_WHEN (NOGO_BIT) ALTRET(ERR);

   5504  1 000210   200006 634500                    EPPR4   NOGO_BIT,,AUTO
         1 000211   200016 454500                    STP4    BB$+6,,AUTO
         1 000212   200016 630500                    EPPR0   BB$+6,,AUTO
         1 000213   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000214   000000 701000 xent               TSX1    DDA$IF_WHEN
         1 000215   000377 702000 1                  TSX2    ERR

      153     5505    4                       IF NOT NOGO_BIT

   5505  1 000216   200006 234100                    SZN     NOGO_BIT,,AUTO
         1 000217   000366 604000 1                  TMI     ENDLOOP

      154     5506    5                       THEN DO;             /* Condition was met */

      155     5507    5                            WHEN$ = ADDR(S_D.OUTPUT);

   5507  1 000220   000000 236000 xsym               LDQ     S_D$
         1 000221   005335 036003                    ADLQ    2781,DU
         1 000222   200007 756100                    STQ     WHEN$,,AUTO
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:50   

      156     5508    5                            CALL DDK$GETWVAL (WHEN$, WHEN.ADDRESS, WHEN.BOFF,

   5508  1 000223   200005 236100                    LDQ     FATT$,,AUTO
         1 000224   000015 036003                    ADLQ    13,DU
         1 000225   200023 756100                    STQ     BB$+11,,AUTO
         1 000226   200005 236100                    LDQ     FATT$,,AUTO
         1 000227   000014 036003                    ADLQ    12,DU
         1 000230   200022 756100                    STQ     BB$+10,,AUTO
         1 000231   200005 236100                    LDQ     FATT$,,AUTO
         1 000232   000016 036003                    ADLQ    14,DU
         1 000233   200021 756100                    STQ     BB$+9,,AUTO
         1 000234   200005 236100                    LDQ     FATT$,,AUTO
         1 000235   000017 036003                    ADLQ    15,DU
         1 000236   200020 756100                    STQ     BB$+8,,AUTO
         1 000237   200005 236100                    LDQ     FATT$,,AUTO
         1 000240   000012 036003                    ADLQ    10,DU
         1 000241   200017 756100                    STQ     BB$+7,,AUTO
         1 000242   200007 630500                    EPPR0   WHEN$,,AUTO
         1 000243   200016 450500                    STP0    BB$+6,,AUTO
         1 000244   200016 630500                    EPPR0   BB$+6,,AUTO
         1 000245   000024 631400 xsym               EPPR1   B_VECTNIL+20
         1 000246   000000 701000 xent               TSX1    DDK$GETWVAL
         1 000247   000251 702000 1                  TSX2    s:5511
         1 000250   000342 710000 1                  TRA     s:5523

      157     5509    5                              WHEN.BSIZE, WHEN.DESC#, WHEN.NOT_IS)
      158     5510    6                              WHENALTRETURN DO;

      159     5511    6                                 CALL DDE$ERROR;

   5511  1 000251   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000252   000000 701000 xent               TSX1    DDE$ERROR
         1 000253   000000 011000                    NOP     0

      160     5512    6                                 S_D.ERROR = E@CANTACCESS;          /* E@CANTACCESS */

PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:51   
   5512  1 000254   000355 235007                    LDA     237,DL
         1 000255   000000 470400 xsym               LDP0    S_D$
         1 000256   000013 755100                    STA     11,,PR0

      161     5513    6                                 CALL DDE$ERROR;

   5513  1 000257   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000260   000000 701000 xent               TSX1    DDE$ERROR
         1 000261   000000 011000                    NOP     0

      162     5514    6                                 S_D.OUTPUT = 'Breakpoint ';

   5514  1 000262   000000 470400 xsym               LDP0    S_D$
         1 000263   040100 100400                    MLR     fill='040'O
         1 000264   000000 000013 0                  ADSC9   0                        cn=0,n=11
         1 000265   005335 004000                    ADSC9   2781,,PR0                cn=0,n=2048

      163     5515    6                                 BB$ = PINCRC(ADDR(S_D.OUTPUT), SIZEC('Breakpoint '));

   5515  1 000266   000000 236000 xsym               LDQ     S_D$
         1 000267   000000 036000 2                  ADLQ    0
         1 000270   200010 756100                    STQ     BB$,,AUTO

      164     5516    6                                 CALL DDR$BINTXT(BB$, I, %UINT_FMT, SIZE);

   5516  1 000271   200003 631500                    EPPR1   SIZE,,AUTO
         1 000272   200021 451500                    STP1    BB$+9,,AUTO
         1 000273   000001 236000 2                  LDQ     1
         1 000274   200020 756100                    STQ     BB$+8,,AUTO
         1 000275   200004 633500                    EPPR3   I,,AUTO
         1 000276   200017 453500                    STP3    BB$+7,,AUTO
         1 000277   200010 634500                    EPPR4   BB$,,AUTO
         1 000300   200016 454500                    STP4    BB$+6,,AUTO
         1 000301   200016 630500                    EPPR0   BB$+6,,AUTO
         1 000302   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000303   000000 701000 xent               TSX1    DDR$BINTXT
         1 000304   000000 011000                    NOP     0
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:52   

      165     5517    6                                 BB$ = PINCRC(BB$, SIZE);

   5517  1 000305   200003 236100                    LDQ     SIZE,,AUTO
         1 000306   000020 736000                    QLS     16
         1 000307   200010 036100                    ADLQ    BB$,,AUTO
         1 000310   200010 756100                    STQ     BB$,,AUTO

      166     5518    6                                 BB$ -> CHAR22 = ' set inactive by DELTA';

   5518  1 000311   200010 470500                    LDP0    BB$,,AUTO
         1 000312   040100 100400                    MLR     fill='040'O
         1 000313   000003 000026 0                  ADSC9   3                        cn=0,n=22
         1 000314   000000 000026                    ADSC9   0,,PR0                   cn=0,n=22

      167     5519    6                                CALL DDQ$WRITE(ADDR(S_D.OUTPUT), SIZEC('Breakpoint ')+
              5519                                          22+SIZE);

   5519  1 000315   000000 236000 xsym               LDQ     S_D$
         1 000316   005335 036003                    ADLQ    2781,DU
         1 000317   200016 756100                    STQ     BB$+6,,AUTO
         1 000320   200003 235100                    LDA     SIZE,,AUTO
         1 000321   000041 035007                    ADLA    33,DL
         1 000322   200017 755100                    STA     BB$+7,,AUTO
         1 000323   200017 630500                    EPPR0   BB$+7,,AUTO
         1 000324   200021 450500                    STP0    BB$+9,,AUTO
         1 000325   200016 631500                    EPPR1   BB$+6,,AUTO
         1 000326   200020 451500                    STP1    BB$+8,,AUTO
         1 000327   200020 630500                    EPPR0   BB$+8,,AUTO
         1 000330   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000331   000000 701000 xent               TSX1    DDQ$WRITE
         1 000332   000000 011000                    NOP     0

      168     5520    6                                 S_D.FIXCOM.INACTIVE(I) = '1'B;

   5520  1 000333   200004 236100                    LDQ     I,,AUTO
         1 000334   000006 402007                    MPY     6,DL
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:53   
         1 000335   000000 470400 xsym               LDP0    S_D$
         1 000336   000000 620006                    EAX0    0,QL
         1 000337   000400 236003                    LDQ     256,DU
         1 000340   001212 256110                    ORSQ    650,X0,PR0

      169     5521    6                                 GOTO ENDLOOP;

   5521  1 000341   000366 710000 1                  TRA     ENDLOOP

      170     5522    6                               END;
      171     5523    5                            IF WHEN$ -> BITN ~= WHEN.OVALUE$ -> BITN

   5523  1 000342   200005 470500                    LDP0    FATT$,,AUTO
         1 000343   000002 471500                    LDP1    2,,PR0
         1 000344   200007 473500                    LDP3    WHEN$,,AUTO
         1 000345   200003 720100                    LXL0    SIZE,,AUTO
         1 000346   000140 066540                    CMPB    filb='0'B
         1 000347   300000 000010                    BDSC    0,,PR3                   by=0,bit=0,n=*X0
         1 000350   100000 000010                    BDSC    0,,PR1                   by=0,bit=0,n=*X0
         1 000351   000366 600000 1                  TZE     ENDLOOP

      172     5524    6                            THEN DO;        /* Value different - report this one */

      173     5525    6                                 WHEN.CURRENT_COUNT = WHEN.CURRENT_COUNT - 1;

   5525  1 000352   000001 336007                    LCQ     1,DL
         1 000353   000005 056100                    ASQ     5,,PR0

      174     5526    6                                 IF WHEN.CURRENT_COUNT < 0

   5526  1 000354   000366 605000 1                  TPL     ENDLOOP

      175     5527    7                                 THEN DO;

      176     5528    7                                      S_D.IXFIX = I;

   5528  1 000355   200004 235100                    LDA     I,,AUTO
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:54   
         1 000356   000000 473400 xsym               LDP3    S_D$
         1 000357   300015 755100                    STA     13,,PR3

      177     5529    7                                     S_D.FAULTCMD$ = PINCRW(ADDR(S_D.FIXCOM), I*SIZEW(
              5529                                               F$XCM));

   5529  1 000360   200004 236100                    LDQ     I,,AUTO
         1 000361   000006 402003                    MPY     6,DU
         1 000362   001212 036003                    ADLQ    650,DU
         1 000363   000000 036000 xsym               ADLQ    S_D$
         1 000364   300004 756100                    STQ     4,,PR3

      178     5530    7                                      RETURN;

   5530  1 000365   000000 702200 xent               TSX2  ! X66_ARET

      179     5531    7                                    END;
      180     5532    6                               END;
      181     5533    5                          END;
      182     5534    4                     END;
      183     5535    3                  END;
      184     5536    2   ENDLOOP:
      185     5537    2        END;                               /* DO I                               */

   5537  1 000366   200004 235100       ENDLOOP      LDA     I,,AUTO
         1 000367   000001 035007                    ADLA    1,DL
         1 000370   200004 755100                    STA     I,,AUTO
         1 000371   000000 470400 xsym               LDP0    S_D$
         1 000372   200004 236100                    LDQ     I,,AUTO
         1 000373   000376 604000 1                  TMI     s:5538
         1 000374   000047 116100                    CMPQ    39,,PR0
         1 000375   000005 604400 1                  TMOZ    s:5466

      186     5538    1        ALTRETURN;                         /* NONE FOUND                         */

   5538  1 000376   000000 702200 xent               TSX2  ! X66_AALT

PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:55   
   5536  1 000377                       ERR          null
      187     5539    1   ERR: ;
      188     5540    1        CALL DDE$ERROR;

   5540  1 000377   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000400   000000 701000 xent               TSX1    DDE$ERROR
         1 000401   000000 011000                    NOP     0

      189     5541    1        ALTRETURN;                         /* ERROR IN WHEN CONSTA   */

   5541  1 000402   000000 702200 xent               TSX2  ! X66_AALT

(unnamed)
 Sect OctLoc
   0     000   102162 145141   153160 157151   156164 040040   040163 145164    Breakpoint   set
   0     004   040151 156141   143164 151166   145040 142171   040104 105114     inactive by DEL
   0     010   124101 040040                                                    TA

(unnamed)
 Sect OctLoc
   2     000   005337 600000   000004 006000                                    ........
      190     5542    1   END DUA$WHENIN;

PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:56   
--  Include file information  --

   DD_ERR_C.:E05TOU  is referenced.
   DD_SRTN_C.:E05TOU  is referenced.
   DD_ACODE_C.:E05TOU  is referenced.
   DD_ICODE_C.:E05TOU  is referenced.
   DD$DITEM.:E05TOU  cannot be made into a system file and is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DUA$WHENIN.

   Procedure DUA$WHENIN requires 259 words for executable code.
   Procedure DUA$WHENIN requires 20 words of local(AUTO) storage.

    No errors detected in file DUA$WHEN.:E05TSI    .
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:57   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:58   
          MINI XREF LISTING

BB$
        13**DCL      5483<<ASSIGN   5484<>CALL     5485<<ASSIGN   5485>>ASSIGN   5486>>ASSIGN   5515<<ASSIGN
      5516<>CALL     5517<<ASSIGN   5517>>ASSIGN   5518>>ASSIGN
BITN
        11**DCL      5491>>IF       5491>>IF       5523>>IF       5523>>IF
CHAR22
        14**DCL      5486<<ASSIGN   5518<<ASSIGN
DDA$IF_WHEN
      5461**DCL-ENT  5504--CALL
DDE$ERROR
      5463**DCL-ENT  5479--CALL     5481--CALL     5511--CALL     5513--CALL     5540--CALL
DDK$GETWVAL
      5462**DCL-ENT  5476--CALL     5508--CALL
DDQ$WRITE
      5458**DCL-ENT  5487--CALL     5519--CALL
DDR$BINTXT
      5459**DCL-ENT  5484--CALL     5516--CALL
ENDLOOP
      5537**LABEL    5466--GOTO     5467--GOTO     5489--GOTO     5521--GOTO
ERR
      5536**LABEL    5504--CALLALT
F$XCM
      4365**DCL      5497--ASSIGN   5529--ASSIGN
FATT$
         9**DCL      1319--IMP-PTR  5470<<ASSIGN   5471>>ASSIGN   5472>>IF       5476>>CALL     5476>>CALL
      5476>>CALL     5476>>CALL     5476>>CALL     5491>>IF       5493>>ASSIGN   5493>>ASSIGN   5494>>IF
      5503>>ASSIGN   5508>>CALL     5508>>CALL     5508>>CALL     5508>>CALL     5508>>CALL     5523>>IF
      5525>>ASSIGN   5525>>ASSIGN   5526>>IF
I
         8**DCL      5465<<DOINDEX  5466>>IF       5467>>IF       5468>>IF       5470>>ASSIGN   5484<>CALL
      5488>>ASSIGN   5496>>ASSIGN   5497>>ASSIGN   5516<>CALL     5520>>ASSIGN   5528>>ASSIGN   5529>>ASSIGN
NOGO_BIT
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:59   
        10**DCL      5504<>CALL     5505>>IF
SIZE
         7**DCL        11--IMP-SIZ  5471<<ASSIGN   5484<>CALL     5485>>ASSIGN   5487>>CALL     5491>>IF
      5491>>IF       5516<>CALL     5517>>ASSIGN   5519>>CALL     5523>>IF       5523>>IF
S_D.CURRENT_CHANNEL
      3727**DCL      3729--REDEF
S_D.DEBUGA
      2879**DCL      2881--REDEF
S_D.DO$
      2830**DCL      5503<<ASSIGN
S_D.EIS
      3837**DCL      3866--REDEF
S_D.ERROR
      2808**DCL      5480<<ASSIGN   5512<<ASSIGN
S_D.FAULTCMD$
      2794**DCL      5497<<ASSIGN   5529<<ASSIGN
S_D.FIXCOM
      3233**DCL      5497--ASSIGN   5529--ASSIGN
S_D.FIXCOM.CMD
      3235**DCL      5468>>IF
S_D.FIXCOM.FAI
      3245**DCL      5470>>ASSIGN
S_D.FIXCOM.INACTIVE
      3236**DCL      5466>>IF       5488<<ASSIGN   5520<<ASSIGN
S_D.FIXCOM.NOT_IN
      3238**DCL      5467>>IF
S_D.FIXLAST
      2871**DCL      5465>>DOINDEX
S_D.HOST_MESSAGE_BUF_REMOTE
      3770**DCL      3771--REDEF    3785--REDEF
S_D.IXFIX
      2812**DCL      5496<<ASSIGN   5528<<ASSIGN
S_D.JDE
      3384**DCL      3385--REDEF
S_D.L$.VALUE
      2937**DCL      2943--REDEF    2951--REDEF    2954--REDEF    2957--REDEF    2960--REDEF
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:60   
S_D.L$.VALUE.L
      2938**DCL      2939--REDEF    2940--REDEF
S_D.L6_MESSAGE_BUF
      3791**DCL      3793--REDEF
S_D.OUTPUT
      3757**DCL      3759--REDEF    5475--ASSIGN   5482<<ASSIGN   5483--ASSIGN   5487--CALL     5507--ASSIGN
      5514<<ASSIGN   5515--ASSIGN   5519--CALL
S_D.REMOTE_MSG.FNCC
      3776**DCL      3777--REDEF
S_D.REMOTE_MSG.STXC
      3772**DCL      3773--REDEF
S_D.REMOTE_MSG.SUBFNCC
      3780**DCL      3781--REDEF
S_D.SV
      2836**DCL      2857--REDEF
S_D.VARCOM$
      3248**DCL      5470>>ASSIGN
S_D$
      4088**DCL      2784--IMP-PTR  5465>>DOINDEX  5466>>IF       5467>>IF       5468>>IF       5470>>ASSIGN
      5470>>ASSIGN   5475>>ASSIGN   5480>>ASSIGN   5482>>ASSIGN   5483>>ASSIGN   5487>>CALL     5488>>ASSIGN
      5496>>ASSIGN   5497>>ASSIGN   5497>>ASSIGN   5503>>ASSIGN   5507>>ASSIGN   5512>>ASSIGN   5514>>ASSIGN
      5515>>ASSIGN   5519>>CALL     5520>>ASSIGN   5528>>ASSIGN   5529>>ASSIGN   5529>>ASSIGN
WHEN.ADDRESS
      1346**DCL      5476<>CALL     5508<>CALL
WHEN.BOFF
      1351**DCL      5476<>CALL     5508<>CALL
WHEN.BSIZE
      1350**DCL      5471>>ASSIGN   5476<>CALL     5508<>CALL
WHEN.CURRENT_COUNT
      1338**DCL      5493<<ASSIGN   5493>>ASSIGN   5494>>IF       5525<<ASSIGN   5525>>ASSIGN   5526>>IF
WHEN.DESC#
      1348**DCL      5476<>CALL     5508<>CALL
WHEN.NOT_IS
      1349**DCL      5476<>CALL     5508<>CALL
WHEN.OVALUE$
      1332**DCL      5491>>IF       5523>>IF
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:61   
WHEN.U.APT
      1325**DCL      1326--REDEF
WHEN.UNUSED
      1323**DCL      1324--REDEF
WHEN.WCOND
      1345**DCL      5472>>IF
WHEN$
        12**DCL      5475<<ASSIGN   5476<>CALL     5491>>IF       5507<<ASSIGN   5508<>CALL     5523>>IF
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:62   
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #003=DUA$WHENIN File=DUA$WHEN.:E05TSI                              TUE 07/29/97 14:50 Page:63   
              MINI UREF LISTING

DUA$WHENIN       6**PROC
SDD$    4484**DCL
SDD_L6$    4486**DCL
UIS$    5460**DCL
ZITEM$    4485**DCL
ZITEM_L6$    4487**DCL

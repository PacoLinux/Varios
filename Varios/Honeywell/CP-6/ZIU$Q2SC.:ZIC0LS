
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:1    
        1        1        /*T***********************************************************/
        2        2        /*T*                                                         */
        3        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        4        4        /*T*                                                         */
        5        5        /*T***********************************************************/
        6        6        /******************************************************************************/
        7        7        /*M*     ZIU$Q2SC               I-D-S/II                 SCHEMA INTERFACE MODULE  */
        8        8        /*P*
        9        9        NAME: Q2SC
       10       10        PURPOSE:  INTERFACES WITH THE SCHEMA AS A DATA BASE USING THE DBCS
       11       11         ******************************************************************************/
       12       12        ZIU$Q2SC: PROC (AREANAM,SCHNAM) ALTRET;
       13       13        /**/
       14       14    1   DCL DB_FUNC_HIA ENTRY(1) ALTRET;
       15       15    1   DCL DB_FUNC_READY ENTRY ALTRET;
       16       16    1   DCL DB_FUNC_FDR ENTRY(2) ALTRET;
       17       17    1   DCL DB_FUNC_FRS ENTRY(2) ALTRET;
       18       18    1   DCL DB_FUNC_FOR ENTRY(1) ALTRET;
       19       19    1   DCL DB_FUNC_GET ENTRY(1) ALTRET;
       20       20    1   DCL DB_FUNC_NBF ENTRY(1) ALTRET;
       21       21    1   DCL DB_FUNC_FIN ENTRY ALTRET;
       22       22    1   DCL ZIU$RVABDER ENTRY;
       23       23    1   DCL CURR_SCHNM CHAR(30) SYMREF CALIGNED;
       24       24    1   DCL GET_DCB ENTRY(1) ALTRET;
       25       25    1   DCL SYS_FUNC_RELDCB ENTRY ALTRET;
       26       26    1   DCL SYS_FUNC_ERRMSG ENTRY ALTRET;
       27       27        /**/
       28       28         /*E* ERROR: ZIU-03001-C
       29       29           MESSAGE: No previous schema DMCL translation for schema %U1.
       30       30           */
       31       31         /*E* ERROR: ZIU-03002-C
       32       32           MESSAGE: STATUS ERROR CODE %U1 ... Unsuccessful DB call.
       33       33           */
       34       34         /*E* ERROR: ZIU-03003-C
       35       35           MESSAGE: Area "%U1" was not found in schema %U2.
       36       36           */
       37       37    1   DCL SCHNAM CHAR(32) ALIGNED;
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:2    
       38       38    1   DCL AREANAM CHAR(30) ALIGNED; /*Area to be initialize(passed from ZIU$Q2UT)*/
       39       39    1   DCL LAST_DBK SBIN WORD STATIC SYMDEF;
       40       40        %INCLUDE ZI_UWA_C;
       41      730        %ZI_UWAS;
       42     1070        %INCLUDE ZI_RVA_C;
       43     1751        %CANRVA;
       44     2070         %IA$MAC;
       45     2081        %INCLUDE CP_6;
       46     2162        %INCLUDE CP_6_SUBS;
       47     2702        %INCLUDE ZI$DIR;
       48     2859        %INCLUDE ZI_GLOBAL_DBUTIL;
       49     3037         %SYS_FUNC;
       50     3129         %MISC_DCLS;
       51     3182        %INCLUDE ZI_ERRORS_SUBS;
       52     3702        %DIR;
       53     3846        /****************************************************************************/
       54     3847        /****************************************************************************/
       55     3848    1       CALL DB_FUNC_HIA(SCHNAM) ALTRET(ALT_ZIU$Q2SC);
       56     3849    1       CALL DB_FUNC_NBF(15) ALTRET(ALT_ZIU$Q2SC);
       57     3850    1       CALL DB_FUNC_READY ALTRET(ALT_READY);
       58     3851    1       CALL DB_FUNC_FDR(CAN_RVA.SFREC.SEC,2) ALTRET(ALT_ZIU$Q2SC);
       59     3852    1       CALL DB_FUNC_GET(CAN_RVA.SFREC.SEC) ALTRET(ALT_ZIU$Q2SC);
       60     3853    1       CALL DB_FUNC_FDR(CAN_RVA.OAREC.SEC,UWA.SF_REC.DBKOA) ALTRET(ALT_ZIU$Q2SC);
       61     3854    1       LAST_DBK = UWA.DIR_REF;
       62     3855    1       CALL DB_FUNC_GET(CAN_RVA.OAREC.SEC) ALTRET(ALT_ZIU$Q2SC);
       63     3856    1       CALL DB_FUNC_FRS(CAN_RVA.ADREC.SEC,CAN_RVA.SFAD.SEC) ALTRET(ALT_ZIU$Q2SC);
       64     3857    2       DO WHILE(UWA.DB_STATUS~='02100');
       65     3858    2           CALL DB_FUNC_GET(CAN_RVA.ADREC.SEC) ALTRET(ALT_ZIU$Q2SC);
       66     3859    2           IF UWA.AD_REC.ADFUNC=2 THEN /* DMCL RECORD */
       67     3860    2               RETURN; /* DONE WITH ZIU$Q2SC */
       68     3861    2           IF UWA.AD_REC.ADFUNC<2 THEN /* NO DMCL OR UNSUCCESSFUL DMCL */
       69     3862    2               UWA.DB_STATUS='02100'; /* FORCE GET OUT OF LOOP */
       70     3863    2           ELSE
       71     3864    2               CALL DB_FUNC_FRS(CAN_RVA.ADREC.SEC,CAN_RVA.SFAD.SEC) ALTRET(ALT_ZIU$Q2SC
              3864                        );
       72     3865    2           END;
       73     3866         /*  AT THIS POINT, WE KNOW THIS SCHEMA IS NOT DMCL'D */
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:3    
       74     3867    1       CALL ERROR_MSG(3001); /* TYPE A ERRMSG */
       75     3868    1       ALTRETURN; /* ALT RETURN */
       76     3869         /**********************************************************************/
       77     3870         /* This is a bad DB_STATUS   section ; write out the bad status */
       78     3871         /*  Report and go to finit to close up */
       79     3872         /*********************************************************************/
       80     3873    1   ALT_READY:
       81     3874    1       IF UWA.DB_STATUS='70079' THEN /* CANNOT OPEN SCHEMA FILE */
       82     3875    2       DO;
       83     3876    2           STEPCC = 7;
       84     3877    2           CALL GET_DCB(ZI$DIR.SCHEMA_NM);
       85     3878    2           MONITOR_ERR=IA.WRD6(3); /* IA(5) IS THE IDSSYSERR */
       86     3879    2           INCL_ERR='1'B; /* INCLUDE FMN FUNCTION CODE IN MSG */
       87     3880    2           CALL SYS_FUNC_ERRMSG;
       88     3881    2           CALL ERROR_MSG(DBU#NOSCHEMA);
       89     3882    2           CALL SYS_FUNC_RELDCB;
       90     3883    2           GOTO FIN_ALL;
       91     3884    2           END;
       92     3885        /*E*  ERROR: ZIU-DBU#NOSCHEMA-C
       93     3886        MESSAGE: Unable to open schema file through schema DCB %U1. */
       94     3887    1   ALT_ZIU$Q2SC:
       95     3888    1   /**/ ERR_INSERT.CNT(0) = 5;
       96     3889    1   /**/ ERR_INSERT.TEXT(0) = UWA.DB_STATUS;
       97     3890    1   /**/ ERRCODESF.ERR# = 3002;
       98     3891    1   /**/ MSGCODE = ERRCODE_RDEF;
       99     3892    1       CALL SYS_FUNC_ERRMSG;
      100     3893    1       INCL_ERR = '1'B;
      101     3894    1       MONITOR_ERR=IA.WRD6(3);
      102     3895    1       CALL SYS_FUNC_ERRMSG;
      103     3896    1   FIN_ALL: CALL DB_FUNC_FIN; /* RELEASE MEMORY AND DCBS IN DBCS */
      104     3897    1       ALTRETURN;
      105     3898
      106     3899    1   ERROR_MSG: PROC (ERROR#);
      107     3900
      108     3901    2   DCL ERROR# SBIN ALIGNED;
      109     3902
      110     3903    2       CALL INDEX1(X,' ',ZI$DIR.SCHEMA_NM.NAME.TEXT);
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:4    
      111     3904    2       ERR_INSERT.CNT(0)=X;
      112     3905    2       ERR_INSERT.TEXT(0)=ZI$DIR.SCHEMA_NM.NAME.TEXT;
      113     3906    2       ERRCODESF.ERR# = ERROR#;
      114     3907    2       MSGCODE = ERRCODE_RDEF;
      115     3908    2       CALL SYS_FUNC_ERRMSG;
      116     3909    2   END ERROR_MSG;
      117     3910    1   END ZIU$Q2SC;
      118     3911        %EOD;

PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:5    
--  Include file information  --

   ZI_ERRORS_SUBS.:ZIC0TOU  is referenced.
   ZI_GLOBAL_DBUTIL.:ZIC0TOU  is referenced.
   ZI$DIR.:ZIC0TOU  is referenced.
   CP_6_SUBS.:LIB_E05  is referenced.
   CP_6.:LIB_E05  cannot be made into a system file and is referenced.
   ZI_RVA_C.:ZIC0TOU  is referenced.
   ZI_UWA_C.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure ZIU$Q2SC.

   Procedure ZIU$Q2SC requires 138 words for executable code.
   Procedure ZIU$Q2SC requires 8 words of local(AUTO) storage.

PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:6    

 Object Unit name= ZIU$Q2SC                                   File name= ZIU$Q2SC.:ZIC0TOU
 UTS= SEP 05 '97 13:25:56.92 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none   764   1374  ZIU$Q2SC
    1   DCB   even  none     0      0  M$UC
    2   DCB   even  none     0      0  M$LO
    3  RoData even  UTS      4      4  ZIU$Q2SC
    4   Proc  even  none   138    212  ZIU$Q2SC
    5  RoData even  none    19     23  ZIU$Q2SC

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     4      0   yes    yes     yes      Std        2  ZIU$Q2SC

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    0      0  LAST_DBK                           0      2  UWA
    0   1222  CAN_RVA
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:7    

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       1 DB_FUNC_HIA
 yes     yes           Std       1 DB_FUNC_NBF
 yes     yes           Std       0 DB_FUNC_READY
 yes     yes           Std       1 DB_FUNC_GET
 yes     yes           Std       0 SYS_FUNC_RELDCB
 yes     yes           Std       2 DB_FUNC_FDR
 yes     yes           Std       1 GET_DCB
 yes     yes           Std       2 DB_FUNC_FRS
 yes     yes           Std       0 SYS_FUNC_ERRMSG
 yes     yes           Std       0 DB_FUNC_FIN
                       nStd      0 X66_AUTO_2
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:8    

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     CURR_SCHNM                            IA                                    M$UC
     BLKLSF                                KEYLSF                                KEYXSF
     DCBSF                                 ORGSF                                 KEYSF
     KEYVSF                                ACSSF                                 NOTIMESF
     FUNSF                                 ASNSF                                 TESTSF
     XTENSIZESF                            DISPSF                                WAITSF
     VFCSF                                 FULLSF                                BKUPSF
     BUFLNSF                               BUFSF                                 SOURCESF
     DESTSF                                DATESF                                TIMESF
     UTSSF                                 DAYSF                                 TSTAMPSF
     ENCRP_SEEDSF                          ERRCODESF                             MSGCODE
     INCL_ERR                              ERR_INSERT                            FIDSF_RD
     ACNT                                  EXISTSF                               SHARESF
     DCBNMSF                               KEYRSF                                NO_KEYSF
     REASGNSF                              CARRY_ATTRIBUTESF                     SUBMESSF
     SPKY_OPNSF                            POSSF                                 ERRFLGSF
     MERGESF                               FSA_FLAG                              RELGSF
     UNUSED                                HELPCODE                              COUNTSF
     INDEXSF                               GAP                                   PSNSF
     ACNTSF                                KEY_SHADWSF                           REC$
     RB                                    RE                                    IE
     IB                                    CNT                                   ICNT
     RCNT                                  SCNT                                  FIRST_SET
     RETCNT                                DMPCNT                                KCNT
     ACNT_IDX                              I                                     J
     K                                     X                                     STEPCC
     I_O_BUF$                              OUT_INDX                              I_O_SIZE
     REC_DATA_LN                           M$LO                                  B$TCB$
     B$ROS$                                B$JIT$                                KEYFID
     I_O_KEY                               RESTART                               BREAK_FLAG
     ICHKSUM                               ITMCNT                                GAP1
     ZI$DIR                                SCHEMA_ACTIVE                         RECORD_LIST
     SET_LIST                              RETAIN_LIST                           DUMP_FID
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:9    
     ALTKY                                 INIT_RG                               KEY_RNG
     ITEM_LIST

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:10   


        1        1        /*T***********************************************************/
        2        2        /*T*                                                         */
        3        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        4        4        /*T*                                                         */
        5        5        /*T***********************************************************/
        6        6        /******************************************************************************/
        7        7        /*M*     ZIU$Q2SC               I-D-S/II                 SCHEMA INTERFACE MODULE */
        8        8        /*P*
        9        9        NAME: Q2SC
       10       10        PURPOSE:  INTERFACES WITH THE SCHEMA AS A DATA BASE USING THE DBCS
       11       11         ******************************************************************************/
       12       12        ZIU$Q2SC: PROC (AREANAM,SCHNAM) ALTRET;

     12  4 000000   000000 700200 xent  ZIU$Q2SC     TSX0  ! X66_AUTO_2
         4 000001   000010 000002                    ZERO    8,2

       13       13        /**/
       14       14    1   DCL DB_FUNC_HIA ENTRY(1) ALTRET;
       15       15    1   DCL DB_FUNC_READY ENTRY ALTRET;
       16       16    1   DCL DB_FUNC_FDR ENTRY(2) ALTRET;
       17       17    1   DCL DB_FUNC_FRS ENTRY(2) ALTRET;
       18       18    1   DCL DB_FUNC_FOR ENTRY(1) ALTRET;
       19       19    1   DCL DB_FUNC_GET ENTRY(1) ALTRET;
       20       20    1   DCL DB_FUNC_NBF ENTRY(1) ALTRET;
       21       21    1   DCL DB_FUNC_FIN ENTRY ALTRET;
       22       22    1   DCL ZIU$RVABDER ENTRY;
       23       23    1   DCL CURR_SCHNM CHAR(30) SYMREF CALIGNED;
       24       24    1   DCL GET_DCB ENTRY(1) ALTRET;
       25       25    1   DCL SYS_FUNC_RELDCB ENTRY ALTRET;
       26       26    1   DCL SYS_FUNC_ERRMSG ENTRY ALTRET;
       27       27        /**/
       28       28         /*E* ERROR: ZIU-03001-C
       29       29           MESSAGE: No previous schema DMCL translation for schema %U1.
       30       30           */
       31       31         /*E* ERROR: ZIU-03002-C
       32       32           MESSAGE: STATUS ERROR CODE %U1 ... Unsuccessful DB call.
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:11   
       33       33           */
       34       34         /*E* ERROR: ZIU-03003-C
       35       35           MESSAGE: Area "%U1" was not found in schema %U2.
       36       36           */
       37       37    1   DCL SCHNAM CHAR(32) ALIGNED;
       38       38    1   DCL AREANAM CHAR(30) ALIGNED; /*Area to be initialize(passed from ZIU$Q2UT)*/
       39       39    1   DCL LAST_DBK SBIN WORD STATIC SYMDEF;
       40       40        %INCLUDE ZI_UWA_C;
       41      730        %ZI_UWAS;
       42     1070        %INCLUDE ZI_RVA_C;
       43     1751        %CANRVA;
       44     2070         %IA$MAC;
       45     2081        %INCLUDE CP_6;
       46     2162        %INCLUDE CP_6_SUBS;
       47     2702        %INCLUDE ZI$DIR;
       48     2859        %INCLUDE ZI_GLOBAL_DBUTIL;
       49     3037         %SYS_FUNC;
       50     3129         %MISC_DCLS;
       51     3182        %INCLUDE ZI_ERRORS_SUBS;
       52     3702        %DIR;
       53     3846        /****************************************************************************/
       54     3847        /****************************************************************************/
       55     3848    1       CALL DB_FUNC_HIA(SCHNAM) ALTRET(ALT_ZIU$Q2SC);

   3848  4 000002   200004 630500                    EPPR0   @SCHNAM,,AUTO
         4 000003   000000 631400 5                  EPPR1   0
         4 000004   000000 701000 xent               TSX1    DB_FUNC_HIA
         4 000005   000132 702000 4                  TSX2    ALT_ZIU$Q2SC

       56     3849    1       CALL DB_FUNC_NBF(15) ALTRET(ALT_ZIU$Q2SC);

   3849  4 000006   000002 630400 5                  EPPR0   2
         4 000007   000000 631400 5                  EPPR1   0
         4 000010   000000 701000 xent               TSX1    DB_FUNC_NBF
         4 000011   000132 702000 4                  TSX2    ALT_ZIU$Q2SC

       57     3850    1       CALL DB_FUNC_READY ALTRET(ALT_READY);
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:12   

   3850  4 000012   000003 631400 5                  EPPR1   3
         4 000013   000000 701000 xent               TSX1    DB_FUNC_READY
         4 000014   000101 702000 4                  TSX2    ALT_READY

       58     3851    1       CALL DB_FUNC_FDR(CAN_RVA.SFREC.SEC,2) ALTRET(ALT_ZIU$Q2SC);

   3851  4 000015   000006 630400 5                  EPPR0   6
         4 000016   000004 631400 5                  EPPR1   4
         4 000017   000000 701000 xent               TSX1    DB_FUNC_FDR
         4 000020   000132 702000 4                  TSX2    ALT_ZIU$Q2SC

       59     3852    1       CALL DB_FUNC_GET(CAN_RVA.SFREC.SEC) ALTRET(ALT_ZIU$Q2SC);

   3852  4 000021   000006 630400 5                  EPPR0   6
         4 000022   000000 631400 5                  EPPR1   0
         4 000023   000000 701000 xent               TSX1    DB_FUNC_GET
         4 000024   000132 702000 4                  TSX2    ALT_ZIU$Q2SC

       60     3853    1       CALL DB_FUNC_FDR(CAN_RVA.OAREC.SEC,UWA.SF_REC.DBKOA) ALTRET(ALT_ZIU$Q2SC);

   3853  4 000025   000010 630400 5                  EPPR0   8
         4 000026   000004 631400 5                  EPPR1   4
         4 000027   000000 701000 xent               TSX1    DB_FUNC_FDR
         4 000030   000132 702000 4                  TSX2    ALT_ZIU$Q2SC

       61     3854    1       LAST_DBK = UWA.DIR_REF;

   3854  4 000031   000040 235000 0                  LDA     UWA+30
         4 000032   000000 755000 0                  STA     LAST_DBK

       62     3855    1       CALL DB_FUNC_GET(CAN_RVA.OAREC.SEC) ALTRET(ALT_ZIU$Q2SC);

   3855  4 000033   000010 630400 5                  EPPR0   8
         4 000034   000000 631400 5                  EPPR1   0
         4 000035   000000 701000 xent               TSX1    DB_FUNC_GET
         4 000036   000132 702000 4                  TSX2    ALT_ZIU$Q2SC
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:13   

       63     3856    1       CALL DB_FUNC_FRS(CAN_RVA.ADREC.SEC,CAN_RVA.SFAD.SEC) ALTRET(ALT_ZIU$Q2SC);

   3856  4 000037   000012 630400 5                  EPPR0   10
         4 000040   000004 631400 5                  EPPR1   4
         4 000041   000000 701000 xent               TSX1    DB_FUNC_FRS
         4 000042   000132 702000 4                  TSX2    ALT_ZIU$Q2SC

       64     3857    2       DO WHILE(UWA.DB_STATUS~='02100');

   3857  4 000043   040000 106400                    CMPC    fill='040'O
         4 000044   000003 400005 0                  ADSC9   UWA+1                    cn=2,n=5
         4 000045   000000 000005 3                  ADSC9   0                        cn=0,n=5
         4 000046   000074 600000 4                  TZE     s:3867

       65     3858    2           CALL DB_FUNC_GET(CAN_RVA.ADREC.SEC) ALTRET(ALT_ZIU$Q2SC);

   3858  4 000047   000012 630400 5                  EPPR0   10
         4 000050   000000 631400 5                  EPPR1   0
         4 000051   000000 701000 xent               TSX1    DB_FUNC_GET
         4 000052   000132 702000 4                  TSX2    ALT_ZIU$Q2SC

       66     3859    2           IF UWA.AD_REC.ADFUNC=2 THEN /* DMCL RECORD */

   3859  4 000053   000172 235000 0                  LDA     UWA+120
         4 000054   000002 115007                    CMPA    2,DL
         4 000055   000057 601000 4                  TNZ     s:3861

       67     3860    2               RETURN; /* DONE WITH ZIU$Q2SC */

   3860  4 000056   000000 702200 xent               TSX2  ! X66_ARET

       68     3861    2           IF UWA.AD_REC.ADFUNC<2 THEN /* NO DMCL OR UNSUCCESSFUL DMCL */

   3861  4 000057   000064 605000 4                  TPL     s:3864

       69     3862    2               UWA.DB_STATUS='02100'; /* FORCE GET OUT OF LOOP */
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:14   

   3862  4 000060   040000 100400                    MLR     fill='040'O
         4 000061   000000 000005 3                  ADSC9   0                        cn=0,n=5
         4 000062   000003 400005 0                  ADSC9   UWA+1                    cn=2,n=5
         4 000063   000070 710000 4                  TRA     s:3865

       70     3863    2           ELSE
       71     3864    2              CALL DB_FUNC_FRS(CAN_RVA.ADREC.SEC,CAN_RVA.SFAD.SEC) ALTRET(ALT_ZIU$Q2SC
              3864                        );

   3864  4 000064   000012 630400 5                  EPPR0   10
         4 000065   000004 631400 5                  EPPR1   4
         4 000066   000000 701000 xent               TSX1    DB_FUNC_FRS
         4 000067   000132 702000 4                  TSX2    ALT_ZIU$Q2SC

       72     3865    2           END;

   3865  4 000070   040000 106400                    CMPC    fill='040'O
         4 000071   000003 400005 0                  ADSC9   UWA+1                    cn=2,n=5
         4 000072   000000 000005 3                  ADSC9   0                        cn=0,n=5
         4 000073   000047 601000 4                  TNZ     s:3858

       73     3866         /*  AT THIS POINT, WE KNOW THIS SCHEMA IS NOT DMCL'D */
       74     3867    1       CALL ERROR_MSG(3001); /* TYPE A ERRMSG */

   3867  4 000074   000015 236000 5                  LDQ     13
         4 000075   200007 756100                    STQ     @SCHNAM+3,,AUTO
         4 000076   000162 701000 4                  TSX1    ERROR_MSG
         4 000077   000000 011000                    NOP     0

       75     3868    1       ALTRETURN; /* ALT RETURN */

   3868  4 000100   000000 702200 xent               TSX2  ! X66_AALT

       76     3869         /**********************************************************************/
       77     3870         /* This is a bad DB_STATUS   section ; write out the bad status */
       78     3871         /*  Report and go to finit to close up */
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:15   
       79     3872         /*********************************************************************/
       80     3873    1   ALT_READY:
       81     3874    1       IF UWA.DB_STATUS='70079' THEN /* CANNOT OPEN SCHEMA FILE */

   3874  4 000101   040000 106400       ALT_READY    CMPC    fill='040'O
         4 000102   000003 400005 0                  ADSC9   UWA+1                    cn=2,n=5
         4 000103   000002 000005 3                  ADSC9   2                        cn=0,n=5
         4 000104   000132 601000 4                  TNZ     ALT_ZIU$Q2SC

       82     3875    2       DO;

       83     3876    2           STEPCC = 7;

   3876  4 000105   000007 235007                    LDA     7,DL
         4 000106   000000 755000 xsym               STA     STEPCC

       84     3877    2           CALL GET_DCB(ZI$DIR.SCHEMA_NM);

   3877  4 000107   000016 630400 5                  EPPR0   14
         4 000110   000000 631400 5                  EPPR1   0
         4 000111   000000 701000 xent               TSX1    GET_DCB
         4 000112   000000 011000                    NOP     0

       85     3878    2           MONITOR_ERR=IA.WRD6(3); /* IA(5) IS THE IDSSYSERR */

   3878  4 000113   000005 236000 xsym               LDQ     IA+5
         4 000114   000000 756000 xsym               STQ     MSGCODE

       86     3879    2           INCL_ERR='1'B; /* INCLUDE FMN FUNCTION CODE IN MSG */

   3879  4 000115   400000 236003                    LDQ     -131072,DU
         4 000116   000000 756000 xsym               STQ     INCL_ERR

       87     3880    2           CALL SYS_FUNC_ERRMSG;

   3880  4 000117   000003 631400 5                  EPPR1   3
         4 000120   000000 701000 xent               TSX1    SYS_FUNC_ERRMSG
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:16   
         4 000121   000000 011000                    NOP     0

       88     3881    2           CALL ERROR_MSG(DBU#NOSCHEMA);

   3881  4 000122   000020 236000 5                  LDQ     16
         4 000123   200007 756100                    STQ     @SCHNAM+3,,AUTO
         4 000124   000162 701000 4                  TSX1    ERROR_MSG
         4 000125   000000 011000                    NOP     0

       89     3882    2           CALL SYS_FUNC_RELDCB;

   3882  4 000126   000003 631400 5                  EPPR1   3
         4 000127   000000 701000 xent               TSX1    SYS_FUNC_RELDCB
         4 000130   000000 011000                    NOP     0

       90     3883    2           GOTO FIN_ALL;

   3883  4 000131   000156 710000 4                  TRA     FIN_ALL

       91     3884    2           END;
       92     3885        /*E*  ERROR: ZIU-DBU#NOSCHEMA-C
       93     3886        MESSAGE: Unable to open schema file through schema DCB %U1. */
       94     3887    1   ALT_ZIU$Q2SC:
       95     3888    1   /**/ ERR_INSERT.CNT(0) = 5;

   3888  4 000132   005000 236003       ALT_ZIU$Q2SC LDQ     2560,DU
         4 000133   000000 552040 xsym               STBQ    ERR_INSERT,'40'O

       96     3889    1   /**/ ERR_INSERT.TEXT(0) = UWA.DB_STATUS;

   3889  4 000134   040000 100400                    MLR     fill='040'O
         4 000135   000003 400005 0                  ADSC9   UWA+1                    cn=2,n=5
         4 000136   000000 200036 xsym               ADSC9   ERR_INSERT               cn=1,n=30

       97     3890    1   /**/ ERRCODESF.ERR# = 3002;

   3890  4 000137   000000 236000 xsym               LDQ     ERRCODESF
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:17   
         4 000140   000021 376000 5                  ANQ     17
         4 000141   056720 276007                    ORQ     24016,DL
         4 000142   000000 756000 xsym               STQ     ERRCODESF

       98     3891    1   /**/ MSGCODE = ERRCODE_RDEF;

   3891  4 000143   000000 756000 xsym               STQ     MSGCODE

       99     3892    1       CALL SYS_FUNC_ERRMSG;

   3892  4 000144   000003 631400 5                  EPPR1   3
         4 000145   000000 701000 xent               TSX1    SYS_FUNC_ERRMSG
         4 000146   000000 011000                    NOP     0

      100     3893    1       INCL_ERR = '1'B;

   3893  4 000147   400000 236003                    LDQ     -131072,DU
         4 000150   000000 756000 xsym               STQ     INCL_ERR

      101     3894    1       MONITOR_ERR=IA.WRD6(3);

   3894  4 000151   000005 236000 xsym               LDQ     IA+5
         4 000152   000000 756000 xsym               STQ     MSGCODE

      102     3895    1       CALL SYS_FUNC_ERRMSG;

   3895  4 000153   000003 631400 5                  EPPR1   3
         4 000154   000000 701000 xent               TSX1    SYS_FUNC_ERRMSG
         4 000155   000000 011000                    NOP     0

      103     3896    1   FIN_ALL: CALL DB_FUNC_FIN; /* RELEASE MEMORY AND DCBS IN DBCS */

   3896  4 000156   000003 631400 5     FIN_ALL      EPPR1   3
         4 000157   000000 701000 xent               TSX1    DB_FUNC_FIN
         4 000160   000000 011000                    NOP     0

      104     3897    1       ALTRETURN;
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:18   

   3897  4 000161   000000 702200 xent               TSX2  ! X66_AALT

      105     3898
      106     3899    1   ERROR_MSG: PROC (ERROR#);

   3899  4 000162   200006 741300       ERROR_MSG    STX1  ! @SCHNAM+2,,AUTO

      107     3900
      108     3901    2   DCL ERROR# SBIN ALIGNED;
      109     3902
      110     3903    2       CALL INDEX1(X,' ',ZI$DIR.SCHEMA_NM.NAME.TEXT);

   3903  4 000163   000000 124400                    SCM     mask='000'O
         4 000164   000223 200036 xsym               ADSC9   ZI$DIR+147               cn=1,n=30
         4 000165   000022 000001 5                  ADSC9   18                       cn=0,n=1
         4 000166   000000 000000 xsym               ARG     X

      111     3904    2       ERR_INSERT.CNT(0)=X;

   3904  4 000167   000000 236000 xsym               LDQ     X
         4 000170   000033 736000                    QLS     27
         4 000171   000000 552040 xsym               STBQ    ERR_INSERT,'40'O

      112     3905    2       ERR_INSERT.TEXT(0)=ZI$DIR.SCHEMA_NM.NAME.TEXT;

   3905  4 000172   040000 100400                    MLR     fill='040'O
         4 000173   000223 200036 xsym               ADSC9   ZI$DIR+147               cn=1,n=30
         4 000174   000000 200036 xsym               ADSC9   ERR_INSERT               cn=1,n=30

      113     3906    2       ERRCODESF.ERR# = ERROR#;

   3906  4 000175   200007 470500                    LDP0    @ERROR#,,AUTO
         4 000176   000000 236100                    LDQ     0,,PR0
         4 000177   000003 736000                    QLS     3
         4 000200   000000 676000 xsym               ERQ     ERRCODESF
         4 000201   377770 376007                    ANQ     131064,DL
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:19   
         4 000202   000000 656000 xsym               ERSQ    ERRCODESF

      114     3907    2       MSGCODE = ERRCODE_RDEF;

   3907  4 000203   000000 235000 xsym               LDA     ERRCODESF
         4 000204   000000 755000 xsym               STA     MSGCODE

      115     3908    2       CALL SYS_FUNC_ERRMSG;

   3908  4 000205   000003 631400 5                  EPPR1   3
         4 000206   000000 701000 xent               TSX1    SYS_FUNC_ERRMSG
         4 000207   000000 011000                    NOP     0

      116     3909    2   END ERROR_MSG;

   3909  4 000210   200006 221300                    LDX1  ! @SCHNAM+2,,AUTO
         4 000211   000001 702211                    TSX2  ! 1,X1

UWA
 Sect OctLoc
   0     002   000000 000000   040040 040040   040040 040040   040040 040040    ....
   0     006   040040 040040   040040 040040   040040 040040   040040 040040
   0     012   040040 040040   040040 040040   040040 000000   040040 040040              ..
   0     016   040040 040040   040040 040040   040040 040040   040040 040040
   0     022   040040 040040   040040 040040   040040 000000   040040 040040              ..
   0     026   040040 040040   040040 040040   040040 040040   040040 040040
   0     032   040040 040040   040040 040040   040040 000000   040040 040040              ..
   0     036   040040 040040   040040 040040   000000 000000   040040 040040            ....
   0     042   040040 040040   040040 040040   040040 040040   040040 040040
   0     046   040040 040040   040040 040040   040040 000000   040040 040040              ..
   0     052   040040 040040   040040 040040   040040 040040   040040 040040
   0     056   040040 040040   040040 040040   040040 000000   000000 000000              ......
   0     062   040040 040040   040*** ******   000000 000000   000000 000000         ...........
   0     066   000000 000000   000000 000000   040040 040040   040040 040040    ........
   0     072   040040 040040   040040 040040   040040 040040   040040 040040
   0     102*  040040 ******   000000 000000   040040 040040   040040 040040      ......
   0     106   040040 040040   040040 040040   040040 040040   040040 040040
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:20   
   0     126*  040040 040040   040040 040040   000000 000000   040040 040040            ....
   0     132   040040 040040   040040 040040   040040 040040   040040 040040
   0     136   040040 040040   040040 040040   040040 ******   000000 000000              ......
   0     142   040040 040040   040040 040040   040040 040040   040040 040040
   0     146   040040 040040   040040 040040   000000 000000   000000 000000            ........
   0     152   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     156   040040 040040   040040 040040   040040 040040   040040 040040
   0     162   040040 040040   040040 040040   040040 040040   040040 ******                  ..
   0     166   000000 000000   ****** ******   000000 000000   000000 000000    ................
   0     172   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     176   040040 040040   040040 040040   040040 040040   040040 040040
   0     212*  040040 040040   040040 040040   040040 040040   ****** ******                ....
   0     216   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     226*  000000 000000   000000 000000   000000 000000   040040 ******    ............  ..
   0     232   000000 000000   ****** ******   000000 000000   040040 040040    ............
   0     236   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     266*  000000 000000   000000 000000   000000 000000   ****** ******    ................
   0     272   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     326*  000000 000000   ****** ******   000000 000000   000000 000000    ................
   0     332   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     352*  000000 000000   000000 000000   000000 000000   ****** ******    ................
   0     362*  000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     406*  000000 000000   ****** ******   000000 000000   000000 000000    ................
   0     412   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     426*  000000 000000   000000 000000   000000 000000   040040 040040    ............
   0     432   040040 040040   040040 040040   040040 040040   040040 040040
   0     436   040040 040040   040040 040040   040040 ******   ****** ******              ......
   0     442   040040 040040   040040 040040   040040 040040   040040 040040
   0     452*  040040 040040   040040 040040   040040 ******   ****** ******              ......
   0     456   000000 000000   040040 040040   040040 040040   040040 040040    ....
   0     462   040040 040040   040040 040040   040040 040040   040040 040040
   0     466   040040 ******   ****** ******   000000 000000   000000 000000      ..............
   0     472   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     476   000000 000000   ****** ******   000000 000000   000000 000000    ................
   0     502   000000 000000   000000 000000   040040 040040   040040 040040    ........
   0     506   040040 040040   040040 040040   040040 040040   040040 040040
   0     522*  040040 040040   ****** ******   000000 000000   000000 000000        ............
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:21   
   0     526   040040 040040   040040 040040   040040 040040   040040 040040
   0     576*  000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     602   000000 000000   000000 000000   000000 000000   ****** ******    ................
   0     606   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     612   000000 000000   000000 000000   040040 040040   040040 040040    ........
   0     616   040040 040040   040040 040040   040040 040040   040040 040040
   0     622   040040 040040   040040 ******   040040 040040   040040 040040          ..
   0     626   040040 040040   040040 040040   040040 040040   040040 040040
   0     662*  040040 040040   040040 040040   040040 040040   ****** ******                ....
   0     666   040040 040040   040040 040040   040040 040040   040040 040040
   0     676*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   0     702   040040 040040   040040 040040   040040 040040   040040 040040
   0     712*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   0     716   040040 040040   040040 040040   040040 040040   040040 040040
   0     722   040040 040040   040040 040040   040040 040040   ****** ******                ....
   0     726   040040 040040   040040 040040   040040 040040   040040 040040
   0     742*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   0     746   040040 040040   040040 040040   040040 040040   040040 040040
   0     776*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   0    1002   040040 040040   040040 040040   040040 040040   040040 040040
   0    1036*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   0    1042   040040 040040   040040 040040   040040 040040   040040 040040
   0    1062*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   0    1066   040040 040040   040040 040040   040040 040040   040040 040040
   0    1116*  040040 040040   ****** ******   040040 040040   040040 040040        ....
   0    1122   040040 040040   040040 040040   040040 040040   040040 040040
   0    1136*  040040 040040   040040 040040   040040 040040   ****** ******                ....
   0    1142   040040 040040   040040 040040   040040 040040   040040 040040
   0    1146   040040 040040   ****** ******   040040 040040   040040 040040        ....
   0    1152   040040 040040   040040 040040   040040 040040   ****** ******                ....
   0    1156   040040 040040   040040 040040   040040 040040   040040 040040
   0    1162   040040 040040   ****** ******   040040 040040   040040 040040        ....
   0    1166   040040 040040   040040 040040   040040 040040   ****** ******                ....
   0    1172   040040 040040   040040 040040   040040 040040   040040 040040
   0    1202*  040040 040040   040040 040040   040040 040040   ****** ******                ....
   0    1206   040040 040040   040040 040040   040040 040040   040040 040040
   0    1216*  040040 040040   040040 040040   040040 040040   040040 040040
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:22   

CAN_RVA
 Sect OctLoc
   0    1222   000151 000000   000001 000002   000001 000003   000001 000004    .i..............
   0    1226   000001 000005   000001 000006   000001 000007   000001 000010    ................
   0    1232   000001 000011   000001 000012   000001 000013   000001 000014    ................
   0    1236   000001 000015   000001 000016   000001 000017   000001 000020    ................
   0    1242   000001 000021   000001 000022   000001 000023   000001 000024    ................
   0    1246   000001 000025   000001 000026   000001 000027   000001 000030    ................
   0    1252   000001 000031   000001 000032   000001 000033   000001 000034    ................
   0    1256   000001 000035   000001 000036   000001 000037   000001 000040    ...............
   0    1262   000001 000041   000001 000042   000001 000043   000001 000044    ...!..."...#...$
   0    1266   000001 000045   000001 000046   000001 000047   000001 000050    ...%...&...'...(
   0    1272   000001 000051   000001 000052   000002 000600   000002 000660    ...)...*........
   0    1276   000002 001040   000002 001260   000002 001460   000002 001540    ... ............
   0    1302   000002 001660   000002 001700   000002 002140   000002 002320    ...........`....
   0    1306   000002 002700   000002 003100   000002 003260   000002 003320    .......@........
   0    1312   000002 003540   000002 003600   000002 003740   000002 004000    ................
   0    1316   000002 004060   000002 004220   000002 004400   000002 004540    ...0............
   0    1322   000002 004660   000002 004720   000002 004760   000002 005000    ................
   0    1326   000002 005020   000002 005220   000002 005240   000002 005500    ................
   0    1332   000002 005740   000002 005760   000002 006000   000002 006020    ................
   0    1336   000002 006040   000002 006220   000002 006340   000002 006640    ... ............
   0    1342   000002 006760   000002 007120   000002 007240   000002 007320    .......P........
   0    1346   000002 007420   000002 007560   000002 007640   000002 007760    ................
   0    1352   000002 010120   000002 010360   000002 010460   000002 010620    ...P............
   0    1356   000002 010720   000002 011060   000002 011160   000002 011220    .......0...p....
   0    1362   000002 011320   000002 011400   000002 011460   000002 011540    ................
   0    1366   000002 011620   000002 011700   000002 011760   000002 012040    ...............
   0    1372   000004 000000   000000 000001                                    ........

(unnamed)
 Sect OctLoc
   3     000   060062 061060   060040 040040   067060 060067   071040 040040    02100   70079

(unnamed)
 Sect OctLoc
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:23   
   5     000   000001 000000   000000 000017   000001 006000   000000 000000    ................
   5     004   000002 000000   000000 000002   001274 406000   000005 006000    ................
   5     010   001304 406000   000065 006000   001303 406000   001257 406000    .....5..........
   5     014   000000 005671   000014 006000   000223 006000   000000 022002    ................
   5     020   000017 006000   777777 400007   040040 040040                    ........
      117     3910    1   END ZIU$Q2SC;
      118     3911        %EOD;

PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:24   
--  Include file information  --

   ZI_ERRORS_SUBS.:ZIC0TOU  is referenced.
   ZI_GLOBAL_DBUTIL.:ZIC0TOU  is referenced.
   ZI$DIR.:ZIC0TOU  is referenced.
   CP_6_SUBS.:LIB_E05  is referenced.
   CP_6.:LIB_E05  cannot be made into a system file and is referenced.
   ZI_RVA_C.:ZIC0TOU  is referenced.
   ZI_UWA_C.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure ZIU$Q2SC.

   Procedure ZIU$Q2SC requires 138 words for executable code.
   Procedure ZIU$Q2SC requires 8 words of local(AUTO) storage.
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:25   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:26   
          MINI XREF LISTING

ALT_READY
      3874**LABEL    3850--CALLALT
ALT_ZIU$Q2SC
      3888**LABEL    3848--CALLALT  3849--CALLALT  3851--CALLALT  3852--CALLALT  3853--CALLALT  3855--CALLALT
      3856--CALLALT  3858--CALLALT  3864--CALLALT
AREANAM
        38**DCL        12--PROC
CAN_RVA.ADREC.SEC
      1901**DCL      3856<>CALL     3858<>CALL     3864<>CALL
CAN_RVA.OAREC.SEC
      1904**DCL      3853<>CALL     3855<>CALL
CAN_RVA.SFAD.SEC
      1841**DCL      3856<>CALL     3864<>CALL
CAN_RVA.SFREC.SEC
      1880**DCL      3851<>CALL     3852<>CALL
COUNTSF
      3118**DCL      3119--REDEF
DB_FUNC_FDR
        16**DCL-ENT  3851--CALL     3853--CALL
DB_FUNC_FIN
        21**DCL-ENT  3896--CALL
DB_FUNC_FRS
        17**DCL-ENT  3856--CALL     3864--CALL
DB_FUNC_GET
        19**DCL-ENT  3852--CALL     3855--CALL     3858--CALL
DB_FUNC_HIA
        14**DCL-ENT  3848--CALL
DB_FUNC_NBF
        20**DCL-ENT  3849--CALL
DB_FUNC_READY
        15**DCL-ENT  3850--CALL
ENCRP_SEEDSF
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:27   
      3076**DCL      3077--REDEF
ERRCODESF
      3078**DCL      3083--REDEF
ERRCODESF.ERR#
      3081**DCL      3890<<ASSIGN   3906<<ASSIGN
ERRCODE_RDEF
      3083**DCL      3891>>ASSIGN   3907>>ASSIGN
ERROR# IN PROCEDURE ERROR_MSG
      3901**DCL      3899--PROC     3906>>ASSIGN
ERROR_MSG
      3899**PROC     3867--CALL     3881--CALL
ERR_INSERT.CNT
      3092**DCL      3888<<ASSIGN   3904<<ASSIGN
ERR_INSERT.TEXT
      3093**DCL      3889<<ASSIGN   3905<<ASSIGN
FIDSF_RD
      3094**DCL      3095--REDEF
FIN_ALL
      3896**LABEL    3883--GOTO
GET_DCB
        24**DCL-ENT  3877--CALL
HELPCODE
      3112**DCL      3117--REDEF
IA.WRD6
      2074**DCL      3878>>ASSIGN   3894>>ASSIGN
ICHKSUM
      3177**DCL      3178--REDEF
INCL_ERR
      3090**DCL      3879<<ASSIGN   3893<<ASSIGN
I_O_BUF$
      3155**DCL      3156--IMP-PTR
KEYVSF
      3050**DCL      3055--REDEF
KEYVSF.WD_ONE
      3052**DCL      3053--REDEF
LAST_DBK
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:28   
        39**DCL      3854<<ASSIGN
MONITOR_ERR
      3085**DCL      3878<<ASSIGN   3894<<ASSIGN
MSGCODE
      3084**DCL      3085--REDEF    3891<<ASSIGN   3907<<ASSIGN
REC$
      3136**DCL      3159--IMP-PTR
REC_DATA_LN
      3164**DCL      3163--IMP-SIZ
SCHNAM
        37**DCL        12--PROC     3848<>CALL
STEPCC
      3154**DCL      3876<<ASSIGN
SYS_FUNC_ERRMSG
        26**DCL-ENT  3880--CALL     3892--CALL     3895--CALL     3908--CALL
SYS_FUNC_RELDCB
        25**DCL-ENT  3882--CALL
UWA.AC_REC.CALC_NEXT
       846**DCL       847--REDEF
UWA.AC_REC.CALC_PRIOR
       855**DCL       856--REDEF
UWA.AC_REC.DEFAULTS
       804**DCL       805--REDEF
UWA.AC_REC.FILE_CODE
       809**DCL       810--REDEF
UWA.AC_REC.FLAG1.ERROR_TYPE
       806**DCL       807--REDEF
UWA.AC_REC.PG_TYPE
       821**DCL       822--REDEF
UWA.AD_REC.ADDATE
       786**DCL       787--REDEF
UWA.AD_REC.ADFUNC
       785**DCL      3859>>IF       3861>>IF
UWA.DB_STATUS
       734**DCL      3857>>DOWHILE  3862<<ASSIGN   3874>>IF       3889>>ASSIGN
UWA.DIR_REF
PL6.E3A0      #001=ZIU$Q2SC File=ZIU$Q2SC.:ZIC0TSI                               FRI 09/05/97 13:25 Page:29   
       743**DCL      3854>>ASSIGN
UWA.SF_REC.DBKOA
       752**DCL      3853<>CALL
X
      3153**DCL      3903<<CALLBLT  3904>>ASSIGN
ZI$DIR.ALTKEY
      3774**DCL      3775--REDEF    3776--REDEF
ZI$DIR.AREAFID
      3740**DCL      3741--REDEF
ZI$DIR.DATE
      3779**DCL      3783--REDEF
ZI$DIR.DEST_SEED
      3735**DCL      3736--REDEF    3737--REDEF
ZI$DIR.ENCP_SEED
      3732**DCL      3733--REDEF    3734--REDEF
ZI$DIR.REPRT_ZERO
      3766**DCL      3767--REDEF
ZI$DIR.SCHEMA_NM
      3798**DCL      3877<>CALL
ZI$DIR.SCHEMA_NM.NAME.TEXT
      3801**DCL      3903>>CALLBLT  3905>>ASSIGN
ZI$DIR.SCHFID
      3738**DCL      3739--REDEF
ZI$DIR.TIME
      3784**DCL      3789--REDEF

PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:30   
      119        1        /*T***********************************************************/
      120        2        /*T*                                                         */
      121        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      122        4        /*T*                                                         */
      123        5        /*T***********************************************************/
      124        6        GET_NXT_AC: PROC(LAST_AREA) ALTRET;
      125        7    1   DCL DB_FUNC_FOR ENTRY(1) ALTRET;
      126        8    1   DCL DB_FUNC_FRS ENTRY(2) ALTRET;
      127        9    1   DCL DB_FUNC_GET ENTRY(1) ALTRET;
      128       10    1   DCL LAST_AREA BIT(1) UNAL;
      129       11        /**/
      130       12    1   DCL SYS_FUNC_ERRMSG ENTRY ALTRET;
      131       13    1   DCL DB_FUNC_FDR ENTRY(2) ALTRET;
      132       14    1   DCL LAST_DBK SBIN WORD SYMREF; /* Initialized in ZIU$Q2SC */
      133       15        /**/
      134       16        %INCLUDE ZI_UWA_C;
      135      706        %ZI$UWAB;
      136     1046        %INCLUDE ZI_RVA_C;
      137     1727        %CAN_RVA_REF;
      138     2046        %INCLUDE CP_6_SUBS;
      139     2586        %INCLUDE ZI_GLOBAL_DBUTIL;
      140     2764         %SYS_FUNC;
      141     2856         %MISC_DCLS;
      142     2909        %INCLUDE ZI$DIR;
      143     3066        %DIR;
      144     3210    1   NXTAC:
      145     3211    1       CALL DB_FUNC_FDR(CAN_RVA.NULL,LAST_DBK) ALTRET(ALT_GET_NXT_AC);
      146     3212    1       CALL DB_FUNC_FRS(CAN_RVA.ACREC.SEC,CAN_RVA.OAAC.SEC) ALTRET(ALT_GET_NXT_AC);
      147     3213    1       LAST_DBK = UWA.DIR_REF;
      148     3214    1       IF UWA.DB_STATUS = '02100' THEN
      149     3215    2       DO;
      150     3216    2           IF ZI$DIR.AUTODUMP THEN
      151     3217    3           DO;
      152     3218    3               LAST_AREA = '1'B;
      153     3219    3               RETURN;
      154     3220    3               END;
      155     3221    3           ELSE DO;
PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:31   
      156     3222    3    /**/       ERR_INSERT.CNT(0) = ZI$DIR.AREA_NM.NAME.CNT;
      157     3223    3    /**/       ERR_INSERT.TEXT(0)=ZI$DIR.AREA_NM.NAME.TEXT;
      158     3224    3    /**/       ERR_INSERT.CNT(1) =ZI$DIR.SCHEMA_NM.NAME.CNT;
      159     3225    3    /**/       ERR_INSERT.TEXT(1)=ZI$DIR.SCHEMA_NM.NAME.TEXT;
      160     3226    3    /**/       ERRCODESF.ERR# = 3003;
      161     3227    3    /**/       MSGCODE = ERRCODE_RDEF;
      162     3228    3               CALL SYS_FUNC_ERRMSG;
      163     3229    3               LAST_AREA = '1'B;
      164     3230    3               ALTRETURN;
      165     3231    3               END;
      166     3232    2           END;
      167     3233    1       CALL DB_FUNC_GET(CAN_RVA.ACREC.SEC) ALTRET(ALT_GET_NXT_AC);
      168     3234         /*******************************************************/
      169     3235         /* Find the sn record */
      170     3236         /*******************************************************/
      171     3237    1       CALL DB_FUNC_FOR(CAN_RVA.SNSE.SEC) ALTRET(ALT_GET_NXT_AC);
      172     3238    1       CALL DB_FUNC_GET(CAN_RVA.SNREC.SEC) ALTRET(ALT_GET_NXT_AC);
      173     3239    1       IF UWA.SN_REC.SENAME = 'THISISATHIRTYCHARACTERDATANAME' THEN
      174     3240    1           RETURN;
      175     3241         /* if ALL was specified and FOLLOW was not specified
      176     3242            then make sure we return
      177     3243            if FOLLOW was specified then we may want to
      178     3244            loop if this is not the desired area */
      179     3245    1       IF ZI$DIR.AUTODUMP = '1'B AND ZI$DIR.FSET = '0'B
      180     3246    1       THEN ZI$DIR.AREA_NM.NAME.TEXT = UWA.SN_REC.SENAME;
      181     3247    1       IF ZI$DIR.AREA_NM.NAME.TEXT ~= UWA.SN_REC.SENAME THEN GOTO NXTAC;
      182     3248    1       RETURN;
      183     3249    1   ALT_GET_NXT_AC:
      184     3250    1   /**/ ERR_INSERT.CNT(0) = 5;
      185     3251    1   /**/ ERR_INSERT.TEXT(0) = UWA.DB_STATUS;
      186     3252    1   /**/ ERRCODESF.ERR# = 3002;
      187     3253    1   /**/ MSGCODE = ERRCODE_RDEF;
      188     3254    1       CALL SYS_FUNC_ERRMSG;
      189     3255    1       ALTRETURN;
      190     3256    1   END GET_NXT_AC;

PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:32   
--  Include file information  --

   ZI$DIR.:ZIC0TOU  is referenced.
   ZI_GLOBAL_DBUTIL.:ZIC0TOU  is referenced.
   CP_6_SUBS.:LIB_E05  is referenced.
   ZI_RVA_C.:ZIC0TOU  is referenced.
   ZI_UWA_C.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure GET_NXT_AC.

   Procedure GET_NXT_AC requires 92 words for executable code.
   Procedure GET_NXT_AC requires 4 words of local(AUTO) storage.

    No errors detected in file ZIU$Q2SC.:ZIC0TSI    .

PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:33   

 Object Unit name= GET_NXT_AC                                 File name= ZIU$Q2SC.:ZIC0TOU
 UTS= SEP 05 '97 13:26:10.60 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$LO
    1  RoData even  UTS     10     12  GET_NXT_AC
    2   Proc  even  none    92    134  GET_NXT_AC
    3  RoData even  none    11     13  GET_NXT_AC

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes    yes     yes      Std        1  GET_NXT_AC

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 DB_FUNC_FDR
 yes     yes           Std       1 DB_FUNC_GET
 yes     yes           Std       2 DB_FUNC_FRS
 yes     yes           Std       0 SYS_FUNC_ERRMSG
 yes     yes           Std       1 DB_FUNC_FOR
                       nStd      0 X66_AUTO_1
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT
PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:34   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     LAST_DBK                              UWA                                   CAN_RVA
     BLKLSF                                KEYLSF                                KEYXSF
     DCBSF                                 ORGSF                                 KEYSF
     KEYVSF                                ACSSF                                 NOTIMESF
     FUNSF                                 ASNSF                                 TESTSF
     XTENSIZESF                            DISPSF                                WAITSF
     VFCSF                                 FULLSF                                BKUPSF
     BUFLNSF                               BUFSF                                 SOURCESF
     DESTSF                                DATESF                                TIMESF
     UTSSF                                 DAYSF                                 TSTAMPSF
     ENCRP_SEEDSF                          ERRCODESF                             MSGCODE
     INCL_ERR                              ERR_INSERT                            FIDSF_RD
     ACNT                                  EXISTSF                               SHARESF
     DCBNMSF                               KEYRSF                                NO_KEYSF
     REASGNSF                              CARRY_ATTRIBUTESF                     SUBMESSF
     SPKY_OPNSF                            POSSF                                 ERRFLGSF
     MERGESF                               FSA_FLAG                              RELGSF
     UNUSED                                HELPCODE                              COUNTSF
     INDEXSF                               GAP                                   PSNSF
     ACNTSF                                KEY_SHADWSF                           REC$
     RB                                    RE                                    IE
     IB                                    CNT                                   ICNT
     RCNT                                  SCNT                                  FIRST_SET
     RETCNT                                DMPCNT                                KCNT
     ACNT_IDX                              I                                     J
     K                                     X                                     STEPCC
     I_O_BUF$                              OUT_INDX                              I_O_SIZE
     REC_DATA_LN                           M$LO                                  B$TCB$
     B$ROS$                                B$JIT$                                KEYFID
     I_O_KEY                               RESTART                               BREAK_FLAG
     ICHKSUM                               ITMCNT                                GAP1
     ZI$DIR                                SCHEMA_ACTIVE                         RECORD_LIST
     SET_LIST                              RETAIN_LIST                           DUMP_FID
PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:35   
     ALTKY                                 INIT_RG                               KEY_RNG
     ITEM_LIST

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:36   


      119        1        /*T***********************************************************/
      120        2        /*T*                                                         */
      121        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      122        4        /*T*                                                         */
      123        5        /*T***********************************************************/
      124        6        GET_NXT_AC: PROC(LAST_AREA) ALTRET;

      6  2 000000   000000 700200 xent  GET_NXT_AC   TSX0  ! X66_AUTO_1
         2 000001   000004 000001                    ZERO    4,1

      125        7    1   DCL DB_FUNC_FOR ENTRY(1) ALTRET;
      126        8    1   DCL DB_FUNC_FRS ENTRY(2) ALTRET;
      127        9    1   DCL DB_FUNC_GET ENTRY(1) ALTRET;
      128       10    1   DCL LAST_AREA BIT(1) UNAL;
      129       11        /**/
      130       12    1   DCL SYS_FUNC_ERRMSG ENTRY ALTRET;
      131       13    1   DCL DB_FUNC_FDR ENTRY(2) ALTRET;
      132       14    1   DCL LAST_DBK SBIN WORD SYMREF; /* Initialized in ZIU$Q2SC */
      133       15        /**/
      134       16        %INCLUDE ZI_UWA_C;
      135      706        %ZI$UWAB;
      136     1046        %INCLUDE ZI_RVA_C;
      137     1727        %CAN_RVA_REF;
      138     2046        %INCLUDE CP_6_SUBS;
      139     2586        %INCLUDE ZI_GLOBAL_DBUTIL;
      140     2764         %SYS_FUNC;
      141     2856         %MISC_DCLS;
      142     2909        %INCLUDE ZI$DIR;
      143     3066        %DIR;
      144     3210    1   NXTAC:
      145     3211    1       CALL DB_FUNC_FDR(CAN_RVA.NULL,LAST_DBK) ALTRET(ALT_GET_NXT_AC);

   3211  2 000002   000001 630400 3     NXTAC        EPPR0   1
         2 000003   000000 631400 3                  EPPR1   0
         2 000004   000000 701000 xent               TSX1    DB_FUNC_FDR
         2 000005   000116 702000 2                  TSX2    ALT_GET_NXT_AC
PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:37   

      146     3212    1       CALL DB_FUNC_FRS(CAN_RVA.ACREC.SEC,CAN_RVA.OAAC.SEC) ALTRET(ALT_GET_NXT_AC);

   3212  2 000006   000003 630400 3                  EPPR0   3
         2 000007   000000 631400 3                  EPPR1   0
         2 000010   000000 701000 xent               TSX1    DB_FUNC_FRS
         2 000011   000116 702000 2                  TSX2    ALT_GET_NXT_AC

      147     3213    1       LAST_DBK = UWA.DIR_REF;

   3213  2 000012   000036 235000 xsym               LDA     UWA+30
         2 000013   000000 755000 xsym               STA     LAST_DBK

      148     3214    1       IF UWA.DB_STATUS = '02100' THEN

   3214  2 000014   040000 106400                    CMPC    fill='040'O
         2 000015   000001 400005 xsym               ADSC9   UWA+1                    cn=2,n=5
         2 000016   000000 000005 1                  ADSC9   0                        cn=0,n=5
         2 000017   000057 601000 2                  TNZ     s:3233

      149     3215    2       DO;

      150     3216    2           IF ZI$DIR.AUTODUMP THEN

   3216  2 000020   000026 236000 xsym               LDQ     ZI$DIR+22
         2 000021   400000 316007                    CANQ    -131072,DL
         2 000022   000030 600000 2                  TZE     s:3222

      151     3217    3           DO;

      152     3218    3               LAST_AREA = '1'B;

   3218  2 000023   200003 470500                    LDP0    @LAST_AREA,,AUTO
         2 000024   003100 060400                    CSL     bolr='003'O
         2 000025   000005 000001 3                  BDSC    5                        by=0,bit=0,n=1
         2 000026   000000 000001                    BDSC    0,,PR0                   by=0,bit=0,n=1

PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:38   
      153     3219    3               RETURN;

   3219  2 000027   000000 702200 xent               TSX2  ! X66_ARET

      154     3220    3               END;
      155     3221    3           ELSE DO;

      156     3222    3    /**/       ERR_INSERT.CNT(0) = ZI$DIR.AREA_NM.NAME.CNT;

   3222  2 000030   000234 236000 xsym               LDQ     ZI$DIR+156
         2 000031   000000 552040 xsym               STBQ    ERR_INSERT,'40'O

      157     3223    3    /**/       ERR_INSERT.TEXT(0)=ZI$DIR.AREA_NM.NAME.TEXT;

   3223  2 000032   040000 100400                    MLR     fill='040'O
         2 000033   000234 200036 xsym               ADSC9   ZI$DIR+156               cn=1,n=30
         2 000034   000000 200036 xsym               ADSC9   ERR_INSERT               cn=1,n=30

      158     3224    3    /**/       ERR_INSERT.CNT(1) =ZI$DIR.SCHEMA_NM.NAME.CNT;

   3224  2 000035   000223 236000 xsym               LDQ     ZI$DIR+147
         2 000036   000010 552040 xsym               STBQ    ERR_INSERT+8,'40'O

      159     3225    3    /**/       ERR_INSERT.TEXT(1)=ZI$DIR.SCHEMA_NM.NAME.TEXT;

   3225  2 000037   040000 100400                    MLR     fill='040'O
         2 000040   000223 200036 xsym               ADSC9   ZI$DIR+147               cn=1,n=30
         2 000041   000010 200036 xsym               ADSC9   ERR_INSERT+8             cn=1,n=30

      160     3226    3    /**/       ERRCODESF.ERR# = 3003;

   3226  2 000042   000000 236000 xsym               LDQ     ERRCODESF
         2 000043   000006 376000 3                  ANQ     6
         2 000044   056730 276007                    ORQ     24024,DL
         2 000045   000000 756000 xsym               STQ     ERRCODESF

      161     3227    3    /**/       MSGCODE = ERRCODE_RDEF;
PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:39   

   3227  2 000046   000000 756000 xsym               STQ     MSGCODE

      162     3228    3               CALL SYS_FUNC_ERRMSG;

   3228  2 000047   000007 631400 3                  EPPR1   7
         2 000050   000000 701000 xent               TSX1    SYS_FUNC_ERRMSG
         2 000051   000000 011000                    NOP     0

      163     3229    3               LAST_AREA = '1'B;

   3229  2 000052   200003 470500                    LDP0    @LAST_AREA,,AUTO
         2 000053   003100 060400                    CSL     bolr='003'O
         2 000054   000005 000001 3                  BDSC    5                        by=0,bit=0,n=1
         2 000055   000000 000001                    BDSC    0,,PR0                   by=0,bit=0,n=1

      164     3230    3               ALTRETURN;

   3230  2 000056   000000 702200 xent               TSX2  ! X66_AALT

      165     3231    3               END;
      166     3232    2           END;
      167     3233    1       CALL DB_FUNC_GET(CAN_RVA.ACREC.SEC) ALTRET(ALT_GET_NXT_AC);

   3233  2 000057   000003 630400 3                  EPPR0   3
         2 000060   000010 631400 3                  EPPR1   8
         2 000061   000000 701000 xent               TSX1    DB_FUNC_GET
         2 000062   000116 702000 2                  TSX2    ALT_GET_NXT_AC

      168     3234         /*******************************************************/
      169     3235         /* Find the sn record */
      170     3236         /*******************************************************/
      171     3237    1       CALL DB_FUNC_FOR(CAN_RVA.SNSE.SEC) ALTRET(ALT_GET_NXT_AC);

   3237  2 000063   000011 630400 3                  EPPR0   9
         2 000064   000010 631400 3                  EPPR1   8
         2 000065   000000 701000 xent               TSX1    DB_FUNC_FOR
PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:40   
         2 000066   000116 702000 2                  TSX2    ALT_GET_NXT_AC

      172     3238    1       CALL DB_FUNC_GET(CAN_RVA.SNREC.SEC) ALTRET(ALT_GET_NXT_AC);

   3238  2 000067   000012 630400 3                  EPPR0   10
         2 000070   000010 631400 3                  EPPR1   8
         2 000071   000000 701000 xent               TSX1    DB_FUNC_GET
         2 000072   000116 702000 2                  TSX2    ALT_GET_NXT_AC

      173     3239    1       IF UWA.SN_REC.SENAME = 'THISISATHIRTYCHARACTERDATANAME' THEN

   3239  2 000073   040000 106400                    CMPC    fill='040'O
         2 000074   000427 000036 xsym               ADSC9   UWA+279                  cn=0,n=30
         2 000075   000002 000036 1                  ADSC9   2                        cn=0,n=30
         2 000076   000100 601000 2                  TNZ     s:3245

      174     3240    1           RETURN;

   3240  2 000077   000000 702200 xent               TSX2  ! X66_ARET

      175     3241         /* if ALL was specified and FOLLOW was not specified
      176     3242            then make sure we return
      177     3243            if FOLLOW was specified then we may want to
      178     3244            loop if this is not the desired area */
      179     3245    1       IF ZI$DIR.AUTODUMP = '1'B AND ZI$DIR.FSET = '0'B

   3245  2 000100   000026 236000 xsym               LDQ     ZI$DIR+22
         2 000101   400000 316007                    CANQ    -131072,DL
         2 000102   000111 600000 2                  TZE     s:3247
         2 000103   000125 236000 xsym               LDQ     ZI$DIR+85
         2 000104   000010 316003                    CANQ    8,DU
         2 000105   000111 601000 2                  TNZ     s:3247

      180     3246    1       THEN ZI$DIR.AREA_NM.NAME.TEXT = UWA.SN_REC.SENAME;

   3246  2 000106   040000 100400                    MLR     fill='040'O
         2 000107   000427 000036 xsym               ADSC9   UWA+279                  cn=0,n=30
PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:41   
         2 000110   000234 200036 xsym               ADSC9   ZI$DIR+156               cn=1,n=30

      181     3247    1       IF ZI$DIR.AREA_NM.NAME.TEXT ~= UWA.SN_REC.SENAME THEN GOTO NXTAC;

   3247  2 000111   040000 106400                    CMPC    fill='040'O
         2 000112   000234 200036 xsym               ADSC9   ZI$DIR+156               cn=1,n=30
         2 000113   000427 000036 xsym               ADSC9   UWA+279                  cn=0,n=30
         2 000114   000002 601000 2                  TNZ     NXTAC

      182     3248    1       RETURN;

   3248  2 000115   000000 702200 xent               TSX2  ! X66_ARET

      183     3249    1   ALT_GET_NXT_AC:
      184     3250    1   /**/ ERR_INSERT.CNT(0) = 5;

   3250  2 000116   005000 236003       ALT_GET_NXT* LDQ     2560,DU
         2 000117   000000 552040 xsym               STBQ    ERR_INSERT,'40'O

      185     3251    1   /**/ ERR_INSERT.TEXT(0) = UWA.DB_STATUS;

   3251  2 000120   040000 100400                    MLR     fill='040'O
         2 000121   000001 400005 xsym               ADSC9   UWA+1                    cn=2,n=5
         2 000122   000000 200036 xsym               ADSC9   ERR_INSERT               cn=1,n=30

      186     3252    1   /**/ ERRCODESF.ERR# = 3002;

   3252  2 000123   000000 236000 xsym               LDQ     ERRCODESF
         2 000124   000006 376000 3                  ANQ     6
         2 000125   056720 276007                    ORQ     24016,DL
         2 000126   000000 756000 xsym               STQ     ERRCODESF

      187     3253    1   /**/ MSGCODE = ERRCODE_RDEF;

   3253  2 000127   000000 756000 xsym               STQ     MSGCODE

      188     3254    1       CALL SYS_FUNC_ERRMSG;
PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:42   

   3254  2 000130   000007 631400 3                  EPPR1   7
         2 000131   000000 701000 xent               TSX1    SYS_FUNC_ERRMSG
         2 000132   000000 011000                    NOP     0

      189     3255    1       ALTRETURN;

   3255  2 000133   000000 702200 xent               TSX2  ! X66_AALT

(unnamed)
 Sect OctLoc
   1     000   060062 061060   060040 040040   124110 111123   111123 101124    02100   THISISAT
   1     004   110111 122124   131103 110101   122101 103124   105122 104101    HIRTYCHARACTERDA
   1     010   124101 116101   115105 040040                                    TANAME

(unnamed)
 Sect OctLoc
   3     000   000002 000000   000150 006000   000000 006000   000063 406000    .....h.......3..
   3     004   000021 406000   400000 000000   777777 400007   000000 000000    ................
   3     010   000001 000000   000047 406000   000075 406000                    .....'...=..
      190     3256    1   END GET_NXT_AC;

PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:43   
--  Include file information  --

   ZI$DIR.:ZIC0TOU  is referenced.
   ZI_GLOBAL_DBUTIL.:ZIC0TOU  is referenced.
   CP_6_SUBS.:LIB_E05  is referenced.
   ZI_RVA_C.:ZIC0TOU  is referenced.
   ZI_UWA_C.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure GET_NXT_AC.

   Procedure GET_NXT_AC requires 92 words for executable code.
   Procedure GET_NXT_AC requires 4 words of local(AUTO) storage.

    No errors detected in file ZIU$Q2SC.:ZIC0TSI    .
PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:44   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:45   
          MINI XREF LISTING

ALT_GET_NXT_AC
      3250**LABEL    3211--CALLALT  3212--CALLALT  3233--CALLALT  3237--CALLALT  3238--CALLALT
CAN_RVA.ACREC.SEC
      1883**DCL      3212<>CALL     3233<>CALL
CAN_RVA.NULL
      2040**DCL      3211<>CALL
CAN_RVA.OAAC.SEC
      1781**DCL      3212<>CALL
CAN_RVA.SNREC.SEC
      1913**DCL      3238<>CALL
CAN_RVA.SNSE.SEC
      1847**DCL      3237<>CALL
COUNTSF
      2845**DCL      2846--REDEF
DB_FUNC_FDR
        13**DCL-ENT  3211--CALL
DB_FUNC_FOR
         7**DCL-ENT  3237--CALL
DB_FUNC_FRS
         8**DCL-ENT  3212--CALL
DB_FUNC_GET
         9**DCL-ENT  3233--CALL     3238--CALL
ENCRP_SEEDSF
      2803**DCL      2804--REDEF
ERRCODESF
      2805**DCL      2810--REDEF
ERRCODESF.ERR#
      2808**DCL      3226<<ASSIGN   3252<<ASSIGN
ERRCODE_RDEF
      2810**DCL      3227>>ASSIGN   3253>>ASSIGN
ERR_INSERT.CNT
      2819**DCL      3222<<ASSIGN   3224<<ASSIGN   3250<<ASSIGN
PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:46   
ERR_INSERT.TEXT
      2820**DCL      3223<<ASSIGN   3225<<ASSIGN   3251<<ASSIGN
FIDSF_RD
      2821**DCL      2822--REDEF
HELPCODE
      2839**DCL      2844--REDEF
ICHKSUM
      2904**DCL      2905--REDEF
I_O_BUF$
      2882**DCL      2883--IMP-PTR
KEYVSF
      2777**DCL      2782--REDEF
KEYVSF.WD_ONE
      2779**DCL      2780--REDEF
LAST_AREA
        10**DCL         6--PROC     3218<<ASSIGN   3229<<ASSIGN
LAST_DBK
        14**DCL      3211<>CALL     3213<<ASSIGN
MSGCODE
      2811**DCL      2812--REDEF    3227<<ASSIGN   3253<<ASSIGN
NXTAC
      3211**LABEL    3247--GOTO
REC$
      2863**DCL      2886--IMP-PTR
REC_DATA_LN
      2891**DCL      2890--IMP-SIZ
SYS_FUNC_ERRMSG
        12**DCL-ENT  3228--CALL     3254--CALL
UWA.AC_REC.CALC_NEXT
       822**DCL       823--REDEF
UWA.AC_REC.CALC_PRIOR
       831**DCL       832--REDEF
UWA.AC_REC.DEFAULTS
       780**DCL       781--REDEF
UWA.AC_REC.FILE_CODE
       785**DCL       786--REDEF
PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:47   
UWA.AC_REC.FLAG1.ERROR_TYPE
       782**DCL       783--REDEF
UWA.AC_REC.PG_TYPE
       797**DCL       798--REDEF
UWA.AD_REC.ADDATE
       762**DCL       763--REDEF
UWA.DB_STATUS
       710**DCL      3214>>IF       3251>>ASSIGN
UWA.DIR_REF
       719**DCL      3213>>ASSIGN
UWA.SN_REC.SENAME
       941**DCL      3239>>IF       3246>>ASSIGN   3247>>IF
ZI$DIR.ALTKEY
      3138**DCL      3139--REDEF    3140--REDEF
ZI$DIR.AREAFID
      3104**DCL      3105--REDEF
ZI$DIR.AREA_NM.NAME.CNT
      3169**DCL      3222>>ASSIGN
ZI$DIR.AREA_NM.NAME.TEXT
      3170**DCL      3223>>ASSIGN   3246<<ASSIGN   3247>>IF
ZI$DIR.AUTODUMP
      3091**DCL      3216>>IF       3245>>IF
ZI$DIR.DATE
      3143**DCL      3147--REDEF
ZI$DIR.DEST_SEED
      3099**DCL      3100--REDEF    3101--REDEF
ZI$DIR.ENCP_SEED
      3096**DCL      3097--REDEF    3098--REDEF
ZI$DIR.FSET
      3119**DCL      3245>>IF
ZI$DIR.REPRT_ZERO
      3130**DCL      3131--REDEF
ZI$DIR.SCHEMA_NM.NAME.CNT
      3164**DCL      3224>>ASSIGN
ZI$DIR.SCHEMA_NM.NAME.TEXT
      3165**DCL      3225>>ASSIGN
PL6.E3A0      #002=GET_NXT_AC File=ZIU$Q2SC.:ZIC0TSI                             FRI 09/05/97 13:26 Page:48   
ZI$DIR.SCHFID
      3102**DCL      3103--REDEF
ZI$DIR.TIME
      3148**DCL      3153--REDEF

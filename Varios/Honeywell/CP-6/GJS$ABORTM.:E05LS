VERSION E05

PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:1    
        1        1        /*M* GJS$ABORTM  Abort user logic     */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=3,IND=5,ENU=0,ECU=0,CRM=70   */
        8        8
        9        9        /*F*   NAME: GJS$ABORTM
       10       10
       11       11               PURPOSE:  To provide for user program termination.
       12       12
       13       13        */
       14       14        GJS$ABORTM: PROC(ERR);
       15       15
       16       16 S      %INCLUDE GU_LCP6_M;
       17       17        %INCLUDE GJ_MSG_M;
       18      330 S      %INCLUDE GH_LCP6_M;
       19      331        %INCLUDE GH_SCHD_M;
       20      475        %INCLUDE G_HJIT_M;
       21      620        %INCLUDE G_JIT_M;
       22      885        %INCLUDE G_ROS_M;
       23      967 S      %INCLUDE KI_CP6;
       24      968 S      %INCLUDE GF_LCP6_M;
       25      969
       26      970        %INCLUDE GH_SCHD_E;
       27     1066 S      %INCLUDE G_LCP6_E;
       28     1067        %INCLUDE KL_AFCN_C;
       29     1168        %INCLUDE KL_MACRO_C;
       30     4520        %INCLUDE J_SCODE_C;
       31     4548        %INCLUDE OC_SUBS_C;
       32     5279        %INCLUDE AZ_SUBS_C;
       33     5348
       34     5349                                                /* Input parameter          */
       35     5350        %VLP_ERRCODE (FPTN=ERR,STCLASS= );
       36     5396                                                /* AUTO Storage             */
       37     5397    1   DCL PGS_RELEASED UBIN;
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:2    
       38     5398    1   DCL DONE_MSG_ VECTOR;
       39     5399        %GJ_FCN_MSG (FPTN=DONE_MSG,
       40     5400                     STCLASS=AUTO);
       41     5470        %KL_KEYMES (FPTN=KEYMES,STCLASS=AUTO,LAST=",",NPARMS=3);
       42     5609    1      2 SYSID UBIN UNAL,
       43     5610    1        2 ACCT CHAR(8) UNAL,
       44     5611    1        2 UNAME CHAR(12) UNAL;
       45     5612        %KL_RELEASE(FPTN=RLS,STCLASS=AUTO);
       46     5667
       47     5668                                                /* External Data            */
       48     5669    1   DCL G$JIT$ PTR SYMREF READONLY;
       49     5670    1   DCL G$ROS$ PTR SYMREF READONLY;
       50     5671    1   DCL G$UHJIT$ PTR SYMREF READONLY;
       51     5672    1   DCL G$MHJIT$ PTR SYMREF READONLY;
       52     5673
       53     5674    1   DCL GJ_QUIET UBIN SYMREF;
       54     5675    1   DCL GJ_OFF_COUNT UBIN SYMREF;
       55     5676    1   DCL G_BOOTTIME UBIN(32) SYMREF;
       56     5677        %KL_KEYMES (FPTN=GJI_KEYMES_INIT,STCLASS=SYMREF,LAST=";",NPARMS=3);
       57     5816
       58     5817                                                /* BASED Structures         */
       59     5818        %G$JIT (STCLASS="BASED(G$JIT$)");
       60     6232        %G$MHJIT (STCLASS="BASED(G$MHJIT$)");
       61    13106        %G$USER (FPTN=G$U);
       62    13117        %G$ROS (FULL=YES,STCLASS="BASED(G$ROS$)");
       63    14068        %G$UHJIT (STCLASS="BASED(G$UHJIT$)");
       64    17042        %G$ACC_HDR (FPTN=ACCT$MSG, LVL=1, LAST=NO);
       65    17064        %G$ACC (LVL=2);
       66    17202
       67    17203                                                /* Internal Data            */
       68    17204
       69    17205    1   DCL G_SYSACCT CHAR(8) CONSTANT SYMDEF INIT(':SYS    ');
       70    17206
       71    17207        %FPT_READ (VECTORS=NO,BRKABLE=YES,STCLASS=CONSTANT);
       72    17233        %VLP_SCODE (FPTN=SMING,ERR#=%S$MING,SEV=G_SEV_SCREECH#,
       73    17234                     STCLASS=CONSTANT,FCG=GJ,MID=S,MON='1'B);
       74    17295
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:3    
       75    17296        %VLP_SCODE (FPTN=SDELUSR,ERR#=%S$DELUSR,SEV=G_SEV_SUA#,
       76    17297                     STCLASS=CONSTANT,FCG=GJ,MID=S,MON='1'B);
       77    17358
       78    17359                                                /* External Procedures      */
       79    17360    1   DCL GHH$LVL ENTRY ALTRET;
       80    17361    1   DCL GHH$ENABLE ENTRY;
       81    17362    1   DCL GHI$CIH_CLNUP ENTRY;
       82    17363    1   DCL GHI$UTS ENTRY(1);
       83    17364    1   DCL GHS$REG ENTRY(2) ALTRET;
       84    17365    1   DCL GIR$SCREECH ENTRY(1);
       85    17366    1   DCL GJS$RUND ENTRY(1);
       86    17367    1   DCL GJU$GET_DB ENTRY ALTRET;
       87    17368    1   DCL GJU$XCON ENTRY(2) ALTRET;
       88    17369    1   DCL GMA$REL_ACCTMEM ENTRY(1) ALTRET;
       89    17370    1   DCL KNA$CLOSE ENTRY(2) ALTRET;
       90    17371    1   DCL KNB$GETRESP ENTRY(4) ALTRET;
       91    17372    1   DCL KNA$READ ENTRY(4) ALTRET;
       92    17373    1   DCL KNA$WRITE_NOW ENTRY(4) ALTRET;
       93    17374    1   DCL KNA$WRITE ENTRY(4) ALTRET;
       94    17375    1   DCL KNB$WRITE ENTRY(4) ALTRET;
       95    17376    1   DCL SCREECH ENTRY(1);
       96    17377                                                /* String Substitutions     */
       97    17378        %G$JIT_E;
       98    17440        %GJ_FCN#;
       99    17466
      100    17467        %EJECT;
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:4    
      101    17468        /*D* NAME: GJS$ABORTM
      102    17469
      103    17470             CALL:  CALL GJS$ABORTM(ERR);  - if JIT.RNST is to be set to ABRT#
      104    17471
      105    17472                    CALL GJS$ABORTX(ERR);  - if JIT.RNST has already been set.
      106    17473
      107    17474                    These routines will return if either exit control has been
      108    17475                    established or the next job step is to be initiated.
      109    17476                    When returned to the calling routine should return to
      110    17477                    the routine from which it was called.
      111    17478
      112    17479                    These routines must be entered with the environment on
      113    17480                    the TSA.
      114    17481
      115    17482             PARAMETERS:  ERR - the error code to indicate the reason for
      116    17483                                program termination in standard LCP-6 error
      117    17484                                code format.
      118    17485
      119    17486             DESCRIPTION:
      120    17487        */
      121    17488
      122    17489    1      G$JIT.RNST = (G$JIT.RNST | %G_RS_ABRT#);
      123    17490
      124    17491    1   GJS$ABORTX: ENTRY(ERR);
      125    17492    1      G$JIT.ERR = ERR;
      126    17493
      127    17494        /*D* If the user has Exit Control, it is entered now.
      128    17495        */
      129    17496    1      CALL GJU$XCON(ADDR(NIL),0)
      130    17497    2      WHENALTRETURN DO;
      131    17498    2           IF (G$UHJIT.DMN.ID = %G_DMN_USR_SVC#) OR (G$UHJIT.DMN.ID = %G_DMN_DB_SVC#)
      132    17499    2           THEN RETURN;
      133    17500    2           END;
      134    17501
      135    17502    1      IF G$JIT.JUNK.SCCSET
      136    17503    1      THEN G$JIT.JUNK.SCCSET = '0'B;
      137    17504    1      ELSE G$JIT.STEPCC = G$JIT.ERR.SEV;
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:5    
      138    17505
      139    17506        /*D* If this is a handler aborting, take a dump.
      140    17507        */
      141    17508    1      IF (G$JIT.MODE = %G_M_HANDLER#) AND (G$JIT.RNST ~= %G_RS_EXIT#)
      142    17509    1        AND NOT(G$JIT.JUNK.STEP) AND (G$JIT.DB# = 0)
      143    17510    1        AND (G$ROS.M$LM.ACCT = G_SYSACCT)
      144    17511    1      THEN CALL GIR$SCREECH(G$UHJIT.TSA_USR);
      145    17512
      146    17513
      147    17514        /*D* If not at the user level, cleanup the interrupt levels.
      148    17515        */
      149    17516    1      IF (G$UHJIT.DMN.ID = %G_DMN_INT_SVC#)
      150    17517    2      THEN DO;
      151    17518    2           G$MHJIT.CU$->G$U.ASYNCH = (G$MHJIT.CU$->G$U.ASYNCH | %U_INTABRT);
      152    17519    2           CALL GHI$CIH_CLNUP;             /*won't return*/
      153    17520    2           END;
      154    17521
      155    17522        /*D* If still not at the user base level, cleanup the user disables.
      156    17523        */
      157    17524    1   CLEAN_DISABLE: ;
      158    17525    1      CALL GHH$LVL
      159    17526    2      WHENALTRETURN DO;
      160    17527    2           CALL GHH$ENABLE;
      161    17528    2           GOTO CLEAN_DISABLE;
      162    17529    2           END;
      163    17530
      164    17531        /*D* If this is not a handler or ghost user mode, a message is sent
      165    17532             to the Host to indicate the program has exited or aborted.
      166    17533             If the step in progress bit is set in JIT.JUNK, the
      167    17534             host is waiting for the DONE message, so the KNA$WRITE
      168    17535             routine is used.  Otherwise, the KNA$WRITE_NOW routine
      169    17536             is used so the host propgram is interrupted.
      170    17537        */
      171    17538    1      IF NOT G$ROS.M$LM.FCD
      172    17539    1      THEN GOTO RUND_USER;
      173    17540
      174    17541    1      IF G$JIT.ERR.ERR# = 0
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:6    
      175    17542    1      THEN DONE_MSG.FCN = %GJ_PROG_EXIT#;
      176    17543    1      ELSE DONE_MSG.FCN = %GJ_PROG_ABRT#;
      177    17544
      178    17545    1      DONE_MSG.ERR = ERR;
      179    17546    1      DONE_MSG_ = VECTOR(DONE_MSG);
      180    17547
      181    17548    1      IF G$JIT.JUNK.HOST_STEP_ABRT
      182    17549    2      THEN DO;
      183    17550    2           G$JIT.JUNK.HOST_STEP_ABRT = '0'B;
      184    17551    2           GOTO RUND_STEP;
      185    17552    2           END;
      186    17553
      187    17554    1      IF G$JIT.JUNK.STEP
      188    17555    1      THEN CALL KNA$WRITE(%G_M$LM#,DONE_MSG_,ERR) ALTRET(RUND_USER);
      189    17556    1      ELSE CALL KNA$WRITE_NOW(%G_M$LM#,DONE_MSG_,ERR) ALTRET(RUND_USER);
      190    17557
      191    17558        %EJECT;
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:7    
      192    17559
      193    17560        /*D* A message is then read from the Host to determine how to
      194    17561             proceed.  The response will be to associate a Debugger, to
      195    17562             start a new FEP program, or to delete this user.
      196    17563        */
      197    17564    1      CALL KNA$READ(%G_M$LM#,DONE_MSG_,ERR,FPT_READ) ALTRET(CHK_ASYNC);
      198    17565
      199    17566    2      DO CASE(DONE_MSG.FCN);
      200    17567    2       CASE(%GJ_RUND#,%GJ_NAK#);
      201    17568    2   RUND_STEP:
      202    17569    2         CALL GJS$RUND(PGS_RELEASED);
      203    17570    2         CALL GMA$REL_ACCTMEM(PGS_RELEASED);
      204    17571    2         RETURN/*GJS$RUND set P$$=ENTADDR(GJI$INIT_USR)*/;
      205    17572
      206    17573    2         END/*do case FCN*/;
      207    17574
      208    17575
      209    17576
      210    17577        /*D* The user is REGed until we get either a disconnect or a
      211    17578             request to associate the debugger.
      212    17579        */
      213    17580
      214    17581    2      DO WHILE (G$MHJIT.CU$->G$U.ASYNCH = '0000'X);
      215    17582    2           CALL GHS$REG(%GH_EVSL,1)
      216    17583    3           WHENALTRETURN DO;
      217    17584    3                EXIT/* got message */;
      218    17585    3                END;
      219    17586    2           END;
      220    17587
      221    17588    1   CHK_ASYNC: ;
      222    17589    1      IF (G$MHJIT.CU$->G$U.ASYNCH & %U_ALIBFD)
      223    17590    2      THEN DO;
      224    17591    2           CALL GJU$GET_DB ALTRET(RUND_USER);
      225    17592    2           G$JIT.JUNK.BACKP$ = '1'B;
      226    17593    2           RETURN;
      227    17594    2           END;
      228    17595
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:8    
      229    17596    1   RUND_USER: ;
      230    17597    1      CALL GJS$RUND(PGS_RELEASED);
      231    17598    1      CALL GMA$REL_ACCTMEM(PGS_RELEASED);
      232    17599
      233    17600        /*D* Write the final LCP-6 accounting record.
      234    17601        */
      235    17602    1      G$JIT.TYPE = %AZ$JOBEND;
      236    17603    1      G$JIT.USER_EXTIME = G$JIT.JUSER_EXTIME;
      237    17604    1      G$JIT.USER_SVTIME = G$JIT.JUSER_SVTIME;
      238    17605    1      G$JIT.USER_MEMTIME = G$JIT.JUSER_MEMTIME;
      239    17606    1      G$JIT.PROC_EXTIME = G$JIT.JPROC_EXTIME;
      240    17607    1      G$JIT.PROC_SVTIME = G$JIT.JPROC_SVTIME;
      241    17608    1      G$JIT.PROC_MEMTIME = G$JIT.JPROC_MEMTIME;
      242    17609    1      G$JIT.PEAK_SUDO = G$JIT.JPEAK_SUDO;
      243    17610    1      G$JIT.PEAK_MEM = G$JIT.JPEAK_MEM;
      244    17611    1      G$JIT.PEAK_LVLS = G$JIT.JPEAK_LVLS;
      245    17612    1      G$JIT.MCLS = G$JIT.JMCLS;
      246    17613    1      G$JIT.READS_HOST = G$JIT.JREADS_HOST;
      247    17614    1      G$JIT.WRITES_HOST = G$JIT.JWRITES_HOST;
      248    17615    1      G$JIT.READS_UC = G$JIT.JREADS_UC;
      249    17616    1      G$JIT.WRITES_UC = G$JIT.JWRITES_UC;
      250    17617    1      G$JIT.JSUNIT = G$JIT.JOBUNIT;
      251    17618    1      G$JIT.START = G$JIT.JSTART;
      252    17619    1      CALL GHI$UTS(G$JIT.STOP);
      253    17620    1      G$JIT.STOP = G$JIT.STOP + G_BOOTTIME;
      254    17621
      255    17622    1      CALL KNB$GETRESP(G$JIT$,SIZEC(ACCT$MSG))
      256    17623    2      WHENALTRETURN DO;
      257    17624                /*N* SYSLOGGING IS BUSY */
      258    17625    2           END;
      259    17626
      260    17627        /* Tell NODEADMN to release any channels this user acquired.
      261    17628        */
      262    17629    1      RLS.CODE = IGA_LINE_RELEASE;
      263    17630    1      RLS.CHAN = 0;
      264    17631    1      RLS.USER# = G$JIT.USR#;
      265    17632    1      CALL KNB$GETRESP(ADDR(RLS),SIZEC(RLS));
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:9    
      266    17633
      267    17634
      268    17635
      269    17636    1      CALL KNA$CLOSE (%G_M$LM#,ERR);
      270    17637    1      CALL KNA$CLOSE (%G_M$ME#,ERR);
      271    17638
      272    17639    1      KEYMES = GJI_KEYMES_INIT;
      273    17640    1      KEYMES.MSG# = OC_MSG_UOFF#;
      274    17641    1      KEYMES.SYSID = G$JIT.SYSID;
      275    17642    1      KEYMES.ACCT = G$JIT.ACCN;
      276    17643    1      KEYMES.UNAME = G$JIT.UNAME;
      277    17644
      278    17645    1      GJ_OFF_COUNT = GJ_OFF_COUNT +1;
      279    17646    1      IF GJ_QUIET = 0
      280    17647    2      THEN DO;
      281    17648    2           CALL KNB$GETRESP (ADDR(KEYMES),SIZEC(KEYMES));
      282    17649    2           END/*do if not quiet*/;
      283    17650    1      CALL GHS$REG(%GH_EVDU);
      284    17651
      285    17652    1      CALL SCREECH(SDELUSR);
      286    17653
      287    17654        /* The extract commentary for this screech message is in GJS$STEP:
      288    17655             SCREECH_CODE: GJS-S$DELUSR
      289    17656             TYPE: SUA
      290    17657             MESSAGE: The REG to delete user returned.
      291    17658        */
      292    17659
      293    17660    1   END;

PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:10   
--  Include file information  --

   AZ_SUBS_C.:E05TOU  is referenced.
   OC_SUBS_C.:E05TOU  is referenced.
   J_SCODE_C.:E05TOU  is referenced.
   KL_MACRO_C.:E05TOU  is referenced.
   KL_AFCN_C.:E05TOU  is referenced.
   GH_SCHD_E.:E05TOU  is referenced.
   G_ROS_M.:E05TOU  is referenced.
   G_JIT_M.:E05TOU  is referenced.
   G_HJIT_M.:E05TOU  is referenced.
   GH_SCHD_M.:E05TOU  is referenced.
   GJ_MSG_M.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure GJS$ABORTM.

   Procedure GJS$ABORTM requires 686 words for executable code.
   Procedure GJS$ABORTM requires 54 words of local(AUTO) storage.

    No errors detected in file GJS$ABORTM.:E05TSI    .

PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:11   

 Object Unit name= GJS$ABORTM                                 File name= GJS$ABORTM.:E05TOU
 UTS= JUL 29 '97 21:58:44.68 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_LCP6_SYSTEM                               Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size HexSiz  Section name
    0  RoData even  UTS     13      D  GJS$ABORTM
    1   Proc  even  none   686    2AE  GJS$ABORTM
    2  RoData even  none    10      A  GJS$ABORTM

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect HexLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes      Std        1  GJS$ABORTM
     1     10                  yes      Std        1  GJS$ABORTX

  ****  Data defs  ****

 Sect HexLoc  Name                           Sect HexLoc  Name
    0      0  G_SYSACCT
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:12   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 GJU$XCON
         yes           Std       1 GIR$SCREECH
         yes           Std       0 GHI$CIH_CLNUP
         yes           Std       0 GHH$ENABLE
 yes     yes           Std       4 KNA$WRITE_NOW
 yes     yes           Std       1 GMA$REL_ACCTMEM
 yes     yes           Std       2 GHS$REG
 yes     yes           Std       0 GJU$GET_DB
 yes     yes           Std       4 KNB$GETRESP
         yes           Std       1 SCREECH
 yes     yes           Std       0 GHH$LVL
 yes     yes           Std       4 KNA$READ
         yes           Std       1 GJS$RUND
 yes     yes           Std       4 KNA$WRITE
         yes           Std       1 GHI$UTS
 yes     yes           Std       2 KNA$CLOSE
                       nStd      0 X6A_AUTO_1
                       nStd      0 X6A_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    G$JIT$                           r    G$ROS$                           r    G$UHJIT$
r    G$MHJIT$                              GJ_QUIET                              GJ_OFF_COUNT
     G_BOOTTIME                            GJI_KEYMES_INIT                  r    G$ROS$
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:13   


        1        1        /*M* GJS$ABORTM  Abort user logic     */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=3,IND=5,ENU=0,ECU=0,CRM=70   */
        8        8
        9        9        /*F*   NAME: GJS$ABORTM
       10       10
       11       11               PURPOSE:  To provide for user program termination.
       12       12
       13       13        */
       14       14        GJS$ABORTM: PROC(ERR);

     14   1 000000  D380 0000 0000  xent GJS$ABORTM      LNJ,B5   X6A_AUTO_1
          1 000003       0036 0001                       DC       54,1

       15       15
       16       16 S      %INCLUDE GU_LCP6_M;
       17       17        %INCLUDE GJ_MSG_M;
       18      330 S      %INCLUDE GH_LCP6_M;
       19      331        %INCLUDE GH_SCHD_M;
       20      475        %INCLUDE G_HJIT_M;
       21      620        %INCLUDE G_JIT_M;
       22      885        %INCLUDE G_ROS_M;
       23      967 S      %INCLUDE KI_CP6;
       24      968 S      %INCLUDE GF_LCP6_M;
       25      969
       26      970        %INCLUDE GH_SCHD_E;
       27     1066 S      %INCLUDE G_LCP6_E;
       28     1067        %INCLUDE KL_AFCN_C;
       29     1168        %INCLUDE KL_MACRO_C;
       30     4520        %INCLUDE J_SCODE_C;
       31     4548        %INCLUDE OC_SUBS_C;
       32     5279        %INCLUDE AZ_SUBS_C;
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:14   
       33     5348
       34     5349                                                /* Input parameter          */
       35     5350        %VLP_ERRCODE (FPTN=ERR,STCLASS= );
       36     5396                                                /* AUTO Storage             */
       37     5397    1   DCL PGS_RELEASED UBIN;
       38     5398    1   DCL DONE_MSG_ VECTOR;
       39     5399        %GJ_FCN_MSG (FPTN=DONE_MSG,
       40     5400                     STCLASS=AUTO);
       41     5470        %KL_KEYMES (FPTN=KEYMES,STCLASS=AUTO,LAST=",",NPARMS=3);
       42     5609    1      2 SYSID UBIN UNAL,
       43     5610    1        2 ACCT CHAR(8) UNAL,
       44     5611    1        2 UNAME CHAR(12) UNAL;
       45     5612        %KL_RELEASE(FPTN=RLS,STCLASS=AUTO);
       46     5667
       47     5668                                                /* External Data            */
       48     5669    1   DCL G$JIT$ PTR SYMREF READONLY;
       49     5670    1   DCL G$ROS$ PTR SYMREF READONLY;
       50     5671    1   DCL G$UHJIT$ PTR SYMREF READONLY;
       51     5672    1   DCL G$MHJIT$ PTR SYMREF READONLY;
       52     5673
       53     5674    1   DCL GJ_QUIET UBIN SYMREF;
       54     5675    1   DCL GJ_OFF_COUNT UBIN SYMREF;
       55     5676    1   DCL G_BOOTTIME UBIN(32) SYMREF;
       56     5677        %KL_KEYMES (FPTN=GJI_KEYMES_INIT,STCLASS=SYMREF,LAST=";",NPARMS=3);
       57     5816
       58     5817                                                /* BASED Structures         */
       59     5818        %G$JIT (STCLASS="BASED(G$JIT$)");
       60     6232        %G$MHJIT (STCLASS="BASED(G$MHJIT$)");
       61    13106        %G$USER (FPTN=G$U);
       62    13117        %G$ROS (FULL=YES,STCLASS="BASED(G$ROS$)");
       63    14068        %G$UHJIT (STCLASS="BASED(G$UHJIT$)");
       64    17042        %G$ACC_HDR (FPTN=ACCT$MSG, LVL=1, LAST=NO);
       65    17064        %G$ACC (LVL=2);
       66    17202
       67    17203                                                /* Internal Data            */
       68    17204
       69    17205    1   DCL G_SYSACCT CHAR(8) CONSTANT SYMDEF INIT(':SYS    ');
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:15   
       70    17206
       71    17207        %FPT_READ (VECTORS=NO,BRKABLE=YES,STCLASS=CONSTANT);
       72    17233        %VLP_SCODE (FPTN=SMING,ERR#=%S$MING,SEV=G_SEV_SCREECH#,
       73    17234                     STCLASS=CONSTANT,FCG=GJ,MID=S,MON='1'B);
       74    17295
       75    17296        %VLP_SCODE (FPTN=SDELUSR,ERR#=%S$DELUSR,SEV=G_SEV_SUA#,
       76    17297                     STCLASS=CONSTANT,FCG=GJ,MID=S,MON='1'B);
       77    17358
       78    17359                                                /* External Procedures      */
       79    17360    1   DCL GHH$LVL ENTRY ALTRET;
       80    17361    1   DCL GHH$ENABLE ENTRY;
       81    17362    1   DCL GHI$CIH_CLNUP ENTRY;
       82    17363    1   DCL GHI$UTS ENTRY(1);
       83    17364    1   DCL GHS$REG ENTRY(2) ALTRET;
       84    17365    1   DCL GIR$SCREECH ENTRY(1);
       85    17366    1   DCL GJS$RUND ENTRY(1);
       86    17367    1   DCL GJU$GET_DB ENTRY ALTRET;
       87    17368    1   DCL GJU$XCON ENTRY(2) ALTRET;
       88    17369    1   DCL GMA$REL_ACCTMEM ENTRY(1) ALTRET;
       89    17370    1   DCL KNA$CLOSE ENTRY(2) ALTRET;
       90    17371    1   DCL KNB$GETRESP ENTRY(4) ALTRET;
       91    17372    1   DCL KNA$READ ENTRY(4) ALTRET;
       92    17373    1   DCL KNA$WRITE_NOW ENTRY(4) ALTRET;
       93    17374    1   DCL KNA$WRITE ENTRY(4) ALTRET;
       94    17375    1   DCL KNB$WRITE ENTRY(4) ALTRET;
       95    17376    1   DCL SCREECH ENTRY(1);
       96    17377                                                /* String Substitutions     */
       97    17378        %G$JIT_E;
       98    17440        %GJ_FCN#;
       99    17466
      100    17467        %EJECT;
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:16   
      101    17468        /*D* NAME: GJS$ABORTM
      102    17469
      103    17470             CALL:  CALL GJS$ABORTM(ERR);  - if JIT.RNST is to be set to ABRT#
      104    17471
      105    17472                    CALL GJS$ABORTX(ERR);  - if JIT.RNST has already been set.
      106    17473
      107    17474                    These routines will return if either exit control has been
      108    17475                    established or the next job step is to be initiated.
      109    17476                    When returned to the calling routine should return to
      110    17477                    the routine from which it was called.
      111    17478
      112    17479                    These routines must be entered with the environment on
      113    17480                    the TSA.
      114    17481
      115    17482             PARAMETERS:  ERR - the error code to indicate the reason for
      116    17483                                program termination in standard LCP-6 error
      117    17484                                code format.
      118    17485
      119    17486             DESCRIPTION:
      120    17487        */
      121    17488
      122    17489    1      G$JIT.RNST = (G$JIT.RNST | %G_RS_ABRT#);

  17489   1 000005  EC80 0000 0000  xsym                 LDB,B6   G$JIT$
          1 000008  E846 0096                            LDR,R6   150,B6
          1 00000A  E470 0008                            OR,R6    8,IMO
          1 00000C  EF46 0096                            STR,R6   150,B6
          1 00000E  0F81 0006                            B        s:17492,PREL

      123    17490
      124    17491    1   GJS$ABORTX: ENTRY(ERR);

  17491   1 000010  D380 0000 0000  xent GJS$ABORTX      LNJ,B5   X6A_AUTO_1
          1 000013       0036 0001                       DC       54,1

      125    17492    1      G$JIT.ERR = ERR;

PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:17   
  17492   1 000015  ECC7 0004                            LDB,B6   @ERR,AUTO
          1 000017  8C86                                 LDI      ,B6
          1 000018  DC80 0000 0000  xsym                 LDB,B5   G$JIT$
          1 00001B  8D45 003C                            SDI      60,B5

      126    17493
      127    17494        /*D* If the user has Exit Control, it is entered now.
      128    17495        */
      129    17496    1      CALL GJU$XCON(ADDR(NIL),0)

  17496   1 00001D  CB80 0000 0000                       LAB,B4   0
          1 000020  CFC7 002E                            STB,B4   RLS+6,AUTO
          1 000022  BBF0 0000                            LAB,B3   0,IMO
          1 000024  BFC7 0032                            STB,B3   RLS+10,AUTO
          1 000026  ABC7 002E                            LAB,B2   RLS+6,AUTO
          1 000028  AFC7 0030                            STB,B2   RLS+8,AUTO
          1 00002A  BBC7 0030                            LAB,B3   RLS+8,AUTO
          1 00002C  CBF0 0200                            LAB,B4   512,IMO
          1 00002E  E380 0000 0000  xent                 LNJ,B6   GJU$XCON
          1 000031       0003                            DC       s:17498,PREL
          1 000032  0F81 000F                            B        s:17502,PREL

      130    17497    2      WHENALTRETURN DO;

      131    17498    2           IF (G$UHJIT.DMN.ID = %G_DMN_USR_SVC#) OR (G$UHJIT.DMN.ID = %G_DMN_DB_SVC#)

  17498   1 000034  EC80 0000 0000  xsym                 LDB,B6   G$UHJIT$
          1 000037  E846 007E                            LDR,R6   126,B6
          1 000039  6D03                                 CMV,R6   3
          1 00003A  0901 0004                            BE       s:17499,PREL
          1 00003C  6D01                                 CMV,R6   1
          1 00003D  0981 0004                            BNE      s:17502,PREL

      132    17499    2           THEN RETURN;

  17499   1 00003F  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:18   
      133    17500    2           END;
      134    17501
      135    17502    1      IF G$JIT.JUNK.SCCSET

  17502   1 000042  EC80 0000 0000  xsym                 LDB,B6   G$JIT$
          1 000045  82C6 0098                            LB,'0002'X        152,B6
          1 000047       0002
          1 000048  0581 0006                            BBF      s:17504,PREL

      136    17503    1      THEN G$JIT.JUNK.SCCSET = '0'B;

  17503   1 00004A  8846 0098                            LBF,'0002'X       152,B6
  17503   1 00004C       0002
          1 00004D  0F81 0007                            B        s:17508,PREL

      137    17504    1      ELSE G$JIT.STEPCC = G$JIT.ERR.SEV;

  17504   1 00004F  E846 003D                            LDR,R6   61,B6
          1 000051  E570 0007                            AND,R6   7,IMO
          1 000053  E7C6 003F                            STH,R6   63,B6

      138    17505
      139    17506        /*D* If this is a handler aborting, take a dump.
      140    17507        */
      141    17508    1      IF (G$JIT.MODE = %G_M_HANDLER#) AND (G$JIT.RNST ~= %G_RS_EXIT#)

  17508   1 000055  E2C6 0004                            LLH,R6   4,B6
          1 000057  6D03                                 CMV,R6   3
          1 000058  0981 002A                            BNE      s:17516,PREL
          1 00005A  D846 0096                            LDR,R5   150,B6
          1 00005C  5901 0026                            BEZ,R5   s:17516,PREL
          1 00005E  82C6 0098                            LB,'0010'X        152,B6
          1 000060       0010
          1 000061  0501 0021                            BBT      s:17516,PREL
          1 000063  C2C6 008D                            LLH,R4   141,B6
          1 000065  4981 001D                            BNEZ,R4  s:17516,PREL
          1 000067  DC80 0000 0000  xsym                 LDB,B5   G$ROS$
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:19   
          1 00006A  CB80 0000 0000  00                   LAB,B4   G_SYSACCT
          1 00006D  0022                                 ACM      ;
          1 00006E       4805 020E                                ALPHANUM(526,B5,,8,FILL),;
          1 000070       4804 0000                                ALPHANUM(0,B4,,8,FILL)
          1 000072  5301 0010                            CBNE     s:17516,PREL

      142    17509    1        AND NOT(G$JIT.JUNK.STEP) AND (G$JIT.DB# = 0)
      143    17510    1        AND (G$ROS.M$LM.ACCT = G_SYSACCT)
      144    17511    1      THEN CALL GIR$SCREECH(G$UHJIT.TSA_USR);

  17511   1 000074  CC80 0000 0000  xsym                 LDB,B4   G$UHJIT$
          1 000077  BBC4 00B6                            LAB,B3   182,B4
          1 000079  BFC7 002E                            STB,B3   RLS+6,AUTO
          1 00007B  BBC7 002E                            LAB,B3   RLS+6,AUTO
          1 00007D  CBF0 0100                            LAB,B4   256,IMO
          1 00007F  E380 0000 0000  xent                 LNJ,B6   GIR$SCREECH
          1 000082       0001                            DC       s:17516,PREL

      145    17512
      146    17513
      147    17514        /*D* If not at the user level, cleanup the interrupt levels.
      148    17515        */
      149    17516    1      IF (G$UHJIT.DMN.ID = %G_DMN_INT_SVC#)

  17516   1 000083  EC80 0000 0000  xsym                 LDB,B6   G$UHJIT$
          1 000086  E846 007E                            LDR,R6   126,B6
          1 000088  6D02                                 CMV,R6   2
          1 000089  0981 0012                            BNE      s:17520,PREL

      150    17517    2      THEN DO;

      151    17518    2           G$MHJIT.CU$->G$U.ASYNCH = (G$MHJIT.CU$->G$U.ASYNCH | %U_INTABRT);

  17518   1 00008B  DC80 0000 0000  xsym                 LDB,B5   G$MHJIT$
          1 00008E  CCC5 0352                            LDB,B4   850,B5
          1 000090  D844 0001                            LDR,R5   1,B4
          1 000092  D470 0100                            OR,R5    256,IMO
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:20   
          1 000094  DF44 0001                            STR,R5   1,B4

      152    17519    2           CALL GHI$CIH_CLNUP;             /*won't return*/

  17519   1 000096  CBF0 0000                            LAB,B4   0,IMO
          1 000098  E380 0000 0000  xent                 LNJ,B6   GHI$CIH_CLNUP
          1 00009B       0001                            DC       s:17520,PREL

      153    17520    2           END;

  17516   1                              CLEAN_DISABLE   null
      154    17521
      155    17522        /*D* If still not at the user base level, cleanup the user disables.
      156    17523        */
      157    17524    1   CLEAN_DISABLE: ;
      158    17525    1      CALL GHH$LVL

  17525   1 00009C  CBF0 0000            CLEAN_DISABLE   LAB,B4   0,IMO
          1 00009E  E380 0000 0000  xent                 LNJ,B6   GHH$LVL
          1 0000A1       0003                            DC       s:17527,PREL
          1 0000A2  0F81 0008                            B        s:17538,PREL

      159    17526    2      WHENALTRETURN DO;

      160    17527    2           CALL GHH$ENABLE;

  17527   1 0000A4  CBF0 0000                            LAB,B4   0,IMO
          1 0000A6  E380 0000 0000  xent                 LNJ,B6   GHH$ENABLE
          1 0000A9       0001                            DC       s:17528,PREL

      161    17528    2           GOTO CLEAN_DISABLE;

  17528   1 0000AA  0FF2                                 B        s:17520,SPREL

      162    17529    2           END;
      163    17530
      164    17531        /*D* If this is not a handler or ghost user mode, a message is sent
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:21   
      165    17532             to the Host to indicate the program has exited or aborted.
      166    17533             If the step in progress bit is set in JIT.JUNK, the
      167    17534             host is waiting for the DONE message, so the KNA$WRITE
      168    17535             routine is used.  Otherwise, the KNA$WRITE_NOW routine
      169    17536             is used so the host propgram is interrupted.
      170    17537        */
      171    17538    1      IF NOT G$ROS.M$LM.FCD

  17538   1 0000AB  EC80 0000 0000  xsym                 LDB,B6   G$ROS$
          1 0000AE  82C6 0218                            LB,'4000'X        536,B6
          1 0000B0       4000
          1 0000B1  0581 00DC                            BBF      s:17589,PREL

      172    17539    1      THEN GOTO RUND_USER;
      173    17540
      174    17541    1      IF G$JIT.ERR.ERR# = 0

  17541   1 0000B3  DC80 0000 0000  xsym                 LDB,B5   G$JIT$
          1 0000B6  82C5 003D                            LB,'FFF8'X        61,B5
          1 0000B8       FFF8
          1 0000B9  0501 0006                            BBT      s:17543,PREL

      175    17542    1      THEN DONE_MSG.FCN = %GJ_PROG_EXIT#;

  17542   1 0000BB  6C06                                 LDV,R6   6
          1 0000BC  E7C7 000A                            STH,R6   DONE_MSG,AUTO
          1 0000BE  0F81 0004                            B        s:17545,PREL

      176    17543    1      ELSE DONE_MSG.FCN = %GJ_PROG_ABRT#;

  17543   1 0000C0  6C07                                 LDV,R6   7
          1 0000C1  E7C7 000A                            STH,R6   DONE_MSG,AUTO

      177    17544
      178    17545    1      DONE_MSG.ERR = ERR;

  17545   1 0000C3  CCC7 0004                            LDB,B4   @ERR,AUTO
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:22   
          1 0000C5  8C84                                 LDI      ,B4
          1 0000C6  8D47 000B                            SDI      DONE_MSG+1,AUTO

      179    17546    1      DONE_MSG_ = VECTOR(DONE_MSG);

  17546   1 0000C8  BBC7 000A                            LAB,B3   DONE_MSG,AUTO
          1 0000CA  BFC7 002F                            STB,B3   RLS+7,AUTO
          1 0000CC  5C05                                 LDV,R5   5
          1 0000CD  DF47 002E                            STR,R5   RLS+6,AUTO
          1 0000CF  ABC7 002E                            LAB,B2   RLS+6,AUTO
          1 0000D1  2C00                                 LDV,R2   0
          1 0000D2  6C06                                 LDV,R6   6
          1 0000D3  BB87                                 LAB,B3   ,AUTO
          1 0000D4  3C0E                                 LDV,R3   14
          1 0000D5  0008                                 MMM

      180    17547
      181    17548    1      IF G$JIT.JUNK.HOST_STEP_ABRT

  17548   1 0000D6  89C5 0098                            CMZ      152,B5
          1 0000D8  0881 0006                            BAGE     s:17554,PREL

      182    17549    2      THEN DO;

      183    17550    2           G$JIT.JUNK.HOST_STEP_ABRT = '0'B;

  17550   1 0000DA  8845 0098                            LBF,'8000'X       152,B5
  17550   1 0000DC       8000

      184    17551    2           GOTO RUND_STEP;

  17551   1 0000DD  0F81 005D                            B        s:17567,PREL

      185    17552    2           END;
      186    17553
      187    17554    1      IF G$JIT.JUNK.STEP

PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:23   
  17554   1 0000DF  82C5 0098                            LB,'0010'X        152,B5
  17554   1 0000E1       0010
          1 0000E2  0581 0015                            BBF      s:17556,PREL

      188    17555    1      THEN CALL KNA$WRITE(%G_M$LM#,DONE_MSG_,ERR) ALTRET(RUND_USER);

  17555   1 0000E4  ABF0 0002                            LAB,B2   2,IMO
          1 0000E6  CFC7 0032                            STB,B4   RLS+10,AUTO
          1 0000E8  9BC7 0007                            LAB,B1   DONE_MSG_,AUTO
          1 0000EA  9FC7 0030                            STB,B1   RLS+8,AUTO
          1 0000EC  AFC7 002E                            STB,B2   RLS+6,AUTO
          1 0000EE  BBC7 002E                            LAB,B3   RLS+6,AUTO
          1 0000F0  CBF0 0300                            LAB,B4   768,IMO
          1 0000F2  E380 0000 0000  xent                 LNJ,B6   KNA$WRITE
          1 0000F5       0099                            DC       s:17589,PREL
          1 0000F6  0F81 0013                            B        s:17564,PREL

      189    17556    1      ELSE CALL KNA$WRITE_NOW(%G_M$LM#,DONE_MSG_,ERR) ALTRET(RUND_USER);

  17556   1 0000F8  ABF0 0002                            LAB,B2   2,IMO
          1 0000FA  CFC7 0032                            STB,B4   RLS+10,AUTO
          1 0000FC  9BC7 0007                            LAB,B1   DONE_MSG_,AUTO
          1 0000FE  9FC7 0030                            STB,B1   RLS+8,AUTO
          1 000100  AFC7 002E                            STB,B2   RLS+6,AUTO
          1 000102  BBC7 002E                            LAB,B3   RLS+6,AUTO
          1 000104  CBF0 0300                            LAB,B4   768,IMO
          1 000106  E380 0000 0000  xent                 LNJ,B6   KNA$WRITE_NOW
          1 000109       0085                            DC       s:17589,PREL

      190    17557
      191    17558        %EJECT;
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:24   
      192    17559
      193    17560        /*D* A message is then read from the Host to determine how to
      194    17561             proceed.  The response will be to associate a Debugger, to
      195    17562             start a new FEP program, or to delete this user.
      196    17563        */
      197    17564    1      CALL KNA$READ(%G_M$LM#,DONE_MSG_,ERR,FPT_READ) ALTRET(CHK_ASYNC);

  17564   1 00010A  EBF0 0002                            LAB,B6   2,IMO
          1 00010C  DB80 0000 0004  00                   LAB,B5   FPT_READ
          1 00010F  DFC7 0034                            STB,B5   RLS+12,AUTO
          1 000111  CCC7 0004                            LDB,B4   @ERR,AUTO
          1 000113  CFC7 0032                            STB,B4   RLS+10,AUTO
          1 000115  BBC7 0007                            LAB,B3   DONE_MSG_,AUTO
          1 000117  BFC7 0030                            STB,B3   RLS+8,AUTO
          1 000119  EFC7 002E                            STB,B6   RLS+6,AUTO
          1 00011B  BBC7 002E                            LAB,B3   RLS+6,AUTO
          1 00011D  CBF0 0400                            LAB,B4   1024,IMO
          1 00011F  E380 0000 0000  xent                 LNJ,B6   KNA$READ
          1 000122       0052                            DC       s:17582,PREL

      198    17565
      199    17566    2      DO CASE(DONE_MSG.FCN);

  17566   1 000123  B2C7 000A                            LLH,R3   DONE_MSG,AUTO
          1 000125  3EEE                                 ADV,R3   -18
          1 000126  3D0C                                 CMV,R3   12
          1 000127  0281 002E                            BGE      s:17581,PREL
          1 000129  A830 0000 012F  01                   LDR,R2   s:17566+12,R3
          1 00012C  83A0 0000 013B  01                   JMP      RUND_STEP,R2
          1 00012F       0000                            DC       s:17567,PREL
          1 000130       001B                            DC       s:17581,PREL
          1 000131       001B                            DC       s:17581,PREL
          1 000132       001B                            DC       s:17581,PREL
          1 000133       001B                            DC       s:17581,PREL
          1 000134       001B                            DC       s:17581,PREL
          1 000135       001B                            DC       s:17581,PREL
          1 000136       001B                            DC       s:17581,PREL
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:25   
          1 000137       001B                            DC       s:17581,PREL
          1 000138       001B                            DC       s:17581,PREL
          1 000139       001B                            DC       s:17581,PREL
          1 00013A       0000                            DC       s:17567,PREL

      200    17567    2       CASE(%GJ_RUND#,%GJ_NAK#);

      201    17568    2   RUND_STEP:
      202    17569    2         CALL GJS$RUND(PGS_RELEASED);

  17569   1 00013B  EBC7 0006            RUND_STEP       LAB,B6   PGS_RELEASED,AUTO
          1 00013D  EFC7 002E                            STB,B6   RLS+6,AUTO
          1 00013F  BBC7 002E                            LAB,B3   RLS+6,AUTO
          1 000141  CBF0 0100                            LAB,B4   256,IMO
          1 000143  E380 0000 0000  xent                 LNJ,B6   GJS$RUND
          1 000146       0001                            DC       s:17570,PREL

      203    17570    2         CALL GMA$REL_ACCTMEM(PGS_RELEASED);

  17570   1 000147  EBC7 0006                            LAB,B6   PGS_RELEASED,AUTO
          1 000149  EFC7 002E                            STB,B6   RLS+6,AUTO
          1 00014B  BBC7 002E                            LAB,B3   RLS+6,AUTO
          1 00014D  CBF0 0100                            LAB,B4   256,IMO
          1 00014F  E380 0000 0000  xent                 LNJ,B6   GMA$REL_ACCTMEM
          1 000152       0001                            DC       s:17571,PREL

      204    17571    2         RETURN/*GJS$RUND set P$$=ENTADDR(GJI$INIT_USR)*/;

  17571   1 000153  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

      205    17572
      206    17573    2         END/*do case FCN*/;

      207    17574
      208    17575
      209    17576
      210    17577        /*D* The user is REGed until we get either a disconnect or a
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:26   
      211    17578             request to associate the debugger.
      212    17579        */
      213    17580
      214    17581    2      DO WHILE (G$MHJIT.CU$->G$U.ASYNCH = '0000'X);

  17581   1 000156  EC80 0000 0000  xsym                 LDB,B6   G$MHJIT$
          1 000159  DCC6 0352                            LDB,B5   850,B6
          1 00015B  E845 0001                            LDR,R6   1,B5
          1 00015D  6981 0016                            BNEZ,R6  s:17582,PREL

      215    17582    2           CALL GHS$REG(%GH_EVSL,1)

  17582   1 00015F  BB80 0000 0001  02                   LAB,B3   +1
          1 000162  CBF0 0200                            LAB,B4   512,IMO
          1 000164  E380 0000 0000  xent                 LNJ,B6   GHS$REG
          1 000167       0003                            DC       s:17584,PREL
          1 000168  0F81 0003                            B        s:17586,PREL

      216    17583    3           WHENALTRETURN DO;

      217    17584    3                EXIT/* got message */;

  17584   1 00016A  0F81 0001                            B        s:17586,PREL

      218    17585    3                END;
      219    17586    2           END;

  17586   1 00016C  EC80 0000 0000  xsym                 LDB,B6   G$MHJIT$
          1 00016F  DCC6 0352                            LDB,B5   850,B6
          1 000171  E845 0001                            LDR,R6   1,B5
          1 000173  696C                                 BEZ,R6   s:17582,SPREL

  17582   1                              CHK_ASYNC       null
      220    17587
      221    17588    1   CHK_ASYNC: ;
      222    17589    1      IF (G$MHJIT.CU$->G$U.ASYNCH & %U_ALIBFD)

PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:27   
  17589   1 000174  EC80 0000 0000  xsym CHK_ASYNC       LDB,B6   G$MHJIT$
          1 000177  DCC6 0352                            LDB,B5   850,B6
          1 000179  E845 0001                            LDR,R6   1,B5
          1 00017B  E570 0800                            AND,R6   2048,IMO
          1 00017D  6901 0010                            BEZ,R6   s:17589,PREL

      223    17590    2      THEN DO;

      224    17591    2           CALL GJU$GET_DB ALTRET(RUND_USER);

  17591   1 00017F  CBF0 0000                            LAB,B4   0,IMO
          1 000181  E380 0000 0000  xent                 LNJ,B6   GJU$GET_DB
          1 000184       000A                            DC       s:17589,PREL

      225    17592    2           G$JIT.JUNK.BACKP$ = '1'B;

  17592   1 000185  EC80 0000 0000  xsym                 LDB,B6   G$JIT$
          1 000188  8946 0098                            LBT,'0100'X       152,B6
          1 00018A       0100

      226    17593    2           RETURN;

  17593   1 00018B  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

  17589   1                              RUND_USER       null
      227    17594    2           END;
      228    17595
      229    17596    1   RUND_USER: ;
      230    17597    1      CALL GJS$RUND(PGS_RELEASED);

  17597   1 00018E  EBC7 0006            RUND_USER       LAB,B6   PGS_RELEASED,AUTO
          1 000190  EFC7 002E                            STB,B6   RLS+6,AUTO
          1 000192  BBC7 002E                            LAB,B3   RLS+6,AUTO
          1 000194  CBF0 0100                            LAB,B4   256,IMO
          1 000196  E380 0000 0000  xent                 LNJ,B6   GJS$RUND
          1 000199       0001                            DC       s:17598,PREL

PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:28   
      231    17598    1      CALL GMA$REL_ACCTMEM(PGS_RELEASED);

  17598   1 00019A  EBC7 0006                            LAB,B6   PGS_RELEASED,AUTO
          1 00019C  EFC7 002E                            STB,B6   RLS+6,AUTO
          1 00019E  BBC7 002E                            LAB,B3   RLS+6,AUTO
          1 0001A0  CBF0 0100                            LAB,B4   256,IMO
          1 0001A2  E380 0000 0000  xent                 LNJ,B6   GMA$REL_ACCTMEM
          1 0001A5       0001                            DC       s:17602,PREL

      232    17599
      233    17600        /*D* Write the final LCP-6 accounting record.
      234    17601        */
      235    17602    1      G$JIT.TYPE = %AZ$JOBEND;

  17602   1 0001A6  6C02                                 LDV,R6   2
          1 0001A7  EC80 0000 0000  xsym                 LDB,B6   G$JIT$
          1 0001AA  EAC6 0002                            SRM,R6,'00FF'X    2,B6
          1 0001AC       00FF

      236    17603    1      G$JIT.USER_EXTIME = G$JIT.JUSER_EXTIME;

  17603   1 0001AD  8CC6 00C2                            LDI      194,B6
          1 0001AF  8D46 0024                            SDI      36,B6

      237    17604    1      G$JIT.USER_SVTIME = G$JIT.JUSER_SVTIME;

  17604   1 0001B1  8CC6 00C4                            LDI      196,B6
          1 0001B3  8D46 0026                            SDI      38,B6

      238    17605    1      G$JIT.USER_MEMTIME = G$JIT.JUSER_MEMTIME;

  17605   1 0001B5  8CC6 00C6                            LDI      198,B6
          1 0001B7  8D46 0028                            SDI      40,B6

      239    17606    1      G$JIT.PROC_EXTIME = G$JIT.JPROC_EXTIME;

  17606   1 0001B9  8CC6 00C8                            LDI      200,B6
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:29   
          1 0001BB  8D46 002A                            SDI      42,B6

      240    17607    1      G$JIT.PROC_SVTIME = G$JIT.JPROC_SVTIME;

  17607   1 0001BD  8CC6 00CA                            LDI      202,B6
          1 0001BF  8D46 002C                            SDI      44,B6

      241    17608    1      G$JIT.PROC_MEMTIME = G$JIT.JPROC_MEMTIME;

  17608   1 0001C1  8CC6 00CC                            LDI      204,B6
          1 0001C3  8D46 002E                            SDI      46,B6

      242    17609    1      G$JIT.PEAK_SUDO = G$JIT.JPEAK_SUDO;

  17609   1 0001C5  ABC6 00BC                            LAB,B2   188,B6
          1 0001C7  2C00                                 LDV,R2   0
          1 0001C8  6C08                                 LDV,R6   8
          1 0001C9  BB86                                 LAB,B3   ,B6
          1 0001CA  3C60                                 LDV,R3   96
          1 0001CB  0008                                 MMM

      243    17610    1      G$JIT.PEAK_MEM = G$JIT.JPEAK_MEM;

  17610   1 0001CC  E843 00C0                            LDR,R6   192,B3
          1 0001CE  EF43 0034                            STR,R6   52,B3

      244    17611    1      G$JIT.PEAK_LVLS = G$JIT.JPEAK_LVLS;

  17611   1 0001D0  D843 00C1                            LDR,R5   193,B3
          1 0001D2  DF43 0035                            STR,R5   53,B3

      245    17612    1      G$JIT.MCLS = G$JIT.JMCLS;

  17612   1 0001D4  C843 014E                            LDR,R4   334,B3
          1 0001D6  CF43 0036                            STR,R4   54,B3

      246    17613    1      G$JIT.READS_HOST = G$JIT.JREADS_HOST;
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:30   

  17613   1 0001D8  8CC3 014F                            LDI      335,B3
          1 0001DA  8D43 0040                            SDI      64,B3

      247    17614    1      G$JIT.WRITES_HOST = G$JIT.JWRITES_HOST;

  17614   1 0001DC  8CC3 0151                            LDI      337,B3
          1 0001DE  8D43 0042                            SDI      66,B3

      248    17615    1      G$JIT.READS_UC = G$JIT.JREADS_UC;

  17615   1 0001E0  8CC3 0153                            LDI      339,B3
          1 0001E2  8D43 0044                            SDI      68,B3

      249    17616    1      G$JIT.WRITES_UC = G$JIT.JWRITES_UC;

  17616   1 0001E4  8CC3 0155                            LDI      341,B3
          1 0001E6  8D43 0046                            SDI      70,B3

      250    17617    1      G$JIT.JSUNIT = G$JIT.JOBUNIT;

  17617   1 0001E8  ABC3 00B8                            LAB,B2   184,B3
          1 0001EA  2C00                                 LDV,R2   0
          1 0001EB  6C08                                 LDV,R6   8
          1 0001EC  3C70                                 LDV,R3   112
          1 0001ED  0008                                 MMM

      251    17618    1      G$JIT.START = G$JIT.JSTART;

  17618   1 0001EE  8CC3 0068                            LDI      104,B3
          1 0001F0  8D43 0020                            SDI      32,B3

      252    17619    1      CALL GHI$UTS(G$JIT.STOP);

  17619   1 0001F2  DBC3 0022                            LAB,B5   34,B3
          1 0001F4  DFC7 002E                            STB,B5   RLS+6,AUTO
          1 0001F6  BBC7 002E                            LAB,B3   RLS+6,AUTO
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:31   
          1 0001F8  CBF0 0100                            LAB,B4   256,IMO
          1 0001FA  E380 0000 0000  xent                 LNJ,B6   GHI$UTS
          1 0001FD       0001                            DC       s:17620,PREL

      253    17620    1      G$JIT.STOP = G$JIT.STOP + G_BOOTTIME;

  17620   1 0001FE  EC80 0000 0000  xsym                 LDB,B6   G$JIT$
          1 000201  8CC6 0022                            LDI      34,B6
          1 000203  8400 0000 0000  xsym                 AID      G_BOOTTIME
          1 000206  8D46 0022                            SDI      34,B6

      254    17621
      255    17622    1      CALL KNB$GETRESP(G$JIT$,SIZEC(ACCT$MSG))

  17622   1 000208  DBF0 00C8                            LAB,B5   200,IMO
          1 00020A  DFC7 0030                            STB,B5   RLS+8,AUTO
          1 00020C  CB80 0000 0000  xsym                 LAB,B4   G$JIT$
          1 00020F  CFC7 002E                            STB,B4   RLS+6,AUTO
          1 000211  BBC7 002E                            LAB,B3   RLS+6,AUTO
          1 000213  CBF0 0200                            LAB,B4   512,IMO
          1 000215  E380 0000 0000  xent                 LNJ,B6   KNB$GETRESP
          1 000218       0003                            DC       s:17629,PREL
          1 000219  0F81 0001                            B        s:17629,PREL

      256    17623    2      WHENALTRETURN DO;

      257    17624                /*N* SYSLOGGING IS BUSY */
      258    17625    2           END;

      259    17626
      260    17627        /* Tell NODEADMN to release any channels this user acquired.
      261    17628        */
      262    17629    1      RLS.CODE = IGA_LINE_RELEASE;

  17629   1 00021B  6C2B                                 LDV,R6   43
          1 00021C  E7C7 0028                            STH,R6   RLS,AUTO

PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:32   
      263    17630    1      RLS.CHAN = 0;

  17630   1 00021E  8747 0029                            CL       RLS+1,AUTO

      264    17631    1      RLS.USER# = G$JIT.USR#;

  17631   1 000220  EC80 0000 0000  xsym                 LDB,B6   G$JIT$
          1 000223  D846 0004                            LDR,R5   4,B6
          1 000225  D570 00FF                            AND,R5   255,IMO
          1 000227  DF47 002B                            STR,R5   RLS+3,AUTO

      265    17632    1      CALL KNB$GETRESP(ADDR(RLS),SIZEC(RLS));

  17632   1 000229  DBC7 0028                            LAB,B5   RLS,AUTO
          1 00022B  DFC7 002E                            STB,B5   RLS+6,AUTO
          1 00022D  CBF0 000C                            LAB,B4   12,IMO
          1 00022F  CFC7 0032                            STB,B4   RLS+10,AUTO
          1 000231  BBC7 002E                            LAB,B3   RLS+6,AUTO
          1 000233  BFC7 0030                            STB,B3   RLS+8,AUTO
          1 000235  BBC7 0030                            LAB,B3   RLS+8,AUTO
          1 000237  CBF0 0200                            LAB,B4   512,IMO
          1 000239  E380 0000 0000  xent                 LNJ,B6   KNB$GETRESP
          1 00023C       0001                            DC       s:17636,PREL

      266    17633
      267    17634
      268    17635
      269    17636    1      CALL KNA$CLOSE (%G_M$LM#,ERR);

  17636   1 00023D  EBF0 0002                            LAB,B6   2,IMO
          1 00023F  DCC7 0004                            LDB,B5   @ERR,AUTO
          1 000241  DFC7 0030                            STB,B5   RLS+8,AUTO
          1 000243  EFC7 002E                            STB,B6   RLS+6,AUTO
          1 000245  BBC7 002E                            LAB,B3   RLS+6,AUTO
          1 000247  CBF0 0200                            LAB,B4   512,IMO
          1 000249  E380 0000 0000  xent                 LNJ,B6   KNA$CLOSE
          1 00024C       0001                            DC       s:17637,PREL
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:33   

      270    17637    1      CALL KNA$CLOSE (%G_M$ME#,ERR);

  17637   1 00024D  EBF0 0003                            LAB,B6   3,IMO
          1 00024F  DCC7 0004                            LDB,B5   @ERR,AUTO
          1 000251  DFC7 0030                            STB,B5   RLS+8,AUTO
          1 000253  EFC7 002E                            STB,B6   RLS+6,AUTO
          1 000255  BBC7 002E                            LAB,B3   RLS+6,AUTO
          1 000257  CBF0 0200                            LAB,B4   512,IMO
          1 000259  E380 0000 0000  xent                 LNJ,B6   KNA$CLOSE
          1 00025C       0001                            DC       s:17639,PREL

      271    17638
      272    17639    1      KEYMES = GJI_KEYMES_INIT;

  17639   1 00025D  EB80 0000 0000  xsym                 LAB,B6   GJI_KEYMES_INIT
          1 000260  5C35                                 LDV,R5   53
          1 000261  0021                                 ALR      ;
          1 000262       5F06 0000                                ALPHANUM(0,B6,,31),;
          1 000264       4007 000D                                ALPHANUM(KEYMES,AUTO,,R5,FILL)

      273    17640    1      KEYMES.MSG# = OC_MSG_UOFF#;

  17640   1 000266  E870 020F                            LDR,R6   527,IMO
          1 000268  437F                                 CSYNC    s:17640+1,SPREL
          1 000269  EF47 000E                            STR,R6   KEYMES+1,AUTO

      274    17641    1      KEYMES.SYSID = G$JIT.SYSID;

  17641   1 00026B  AC80 0000 0000  xsym                 LDB,B2   G$JIT$
          1 00026E  2C0A                                 LDV,R2   10
          1 00026F  6C02                                 LDV,R6   2
          1 000270  BB87                                 LAB,B3   ,AUTO
          1 000271  3C39                                 LDV,R3   57
          1 000272  0008                                 MMM

      275    17642    1      KEYMES.ACCT = G$JIT.ACCN;
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:34   

  17642   1 000273  2C0C                                 LDV,R2   12
          1 000274  6C08                                 LDV,R6   8
          1 000275  BB87                                 LAB,B3   ,AUTO
          1 000276  3C3B                                 LDV,R3   59
          1 000277  0008                                 MMM

      276    17643    1      KEYMES.UNAME = G$JIT.UNAME;

  17643   1 000278  2C14                                 LDV,R2   20
          1 000279  6C0C                                 LDV,R6   12
          1 00027A  BB87                                 LAB,B3   ,AUTO
          1 00027B  3C43                                 LDV,R3   67
          1 00027C  0008                                 MMM

      277    17644
      278    17645    1      GJ_OFF_COUNT = GJ_OFF_COUNT +1;

  17645   1 00027D  8A80 0000 0000  xsym                 INC      GJ_OFF_COUNT

      279    17646    1      IF GJ_QUIET = 0

  17646   1 000280  E800 0000 0000  xsym                 LDR,R6   GJ_QUIET
          1 000283  6981 0015                            BNEZ,R6  s:17650,PREL

      280    17647    2      THEN DO;

      281    17648    2           CALL KNB$GETRESP (ADDR(KEYMES),SIZEC(KEYMES));

  17648   1 000285  EBC7 000D                            LAB,B6   KEYMES,AUTO
          1 000287  EFC7 002E                            STB,B6   RLS+6,AUTO
          1 000289  DBF0 0036                            LAB,B5   54,IMO
          1 00028B  DFC7 0032                            STB,B5   RLS+10,AUTO
          1 00028D  CBC7 002E                            LAB,B4   RLS+6,AUTO
          1 00028F  CFC7 0030                            STB,B4   RLS+8,AUTO
          1 000291  BBC7 0030                            LAB,B3   RLS+8,AUTO
          1 000293  CBF0 0200                            LAB,B4   512,IMO
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:35   
          1 000295  E380 0000 0000  xent                 LNJ,B6   KNB$GETRESP
          1 000298       0001                            DC       s:17650,PREL

      282    17649    2           END/*do if not quiet*/;

      283    17650    1      CALL GHS$REG(%GH_EVDU);

  17650   1 000299  BB80 0000 0006  02                   LAB,B3   +6
          1 00029C  CBF0 0100                            LAB,B4   256,IMO
          1 00029E  E380 0000 0000  xent                 LNJ,B6   GHS$REG
          1 0002A1       0001                            DC       s:17652,PREL

      284    17651
      285    17652    1      CALL SCREECH(SDELUSR);

  17652   1 0002A2  BB80 0000 0008  02                   LAB,B3   +8
          1 0002A5  CBF0 0100                            LAB,B4   256,IMO
          1 0002A7  E380 0000 0000  xent                 LNJ,B6   SCREECH
          1 0002AA       0001                            DC       s:17660,PREL

      286    17653
      287    17654        /* The extract commentary for this screech message is in GJS$STEP:
      288    17655             SCREECH_CODE: GJS-S$DELUSR
      289    17656             TYPE: SUA
      290    17657             MESSAGE: The REG to delete user returned.
      291    17658        */
      292    17659
      293    17660    1   END;

  17660   1 0002AB  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:36   
--  Include file information  --

   AZ_SUBS_C.:E05TOU  is referenced.
   OC_SUBS_C.:E05TOU  is referenced.
   J_SCODE_C.:E05TOU  is referenced.
   KL_MACRO_C.:E05TOU  is referenced.
   KL_AFCN_C.:E05TOU  is referenced.
   GH_SCHD_E.:E05TOU  is referenced.
   G_ROS_M.:E05TOU  is referenced.
   G_JIT_M.:E05TOU  is referenced.
   G_HJIT_M.:E05TOU  is referenced.
   GH_SCHD_M.:E05TOU  is referenced.
   GJ_MSG_M.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure GJS$ABORTM.
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:37   

 **** Variables and constants ****

  ****  Section 000 RoData GJS$ABORTM

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w STRC(48)    r     1 FPT_READ                   0-0-0/c CHAR(8)     r     1 G_SYSACCT
     A-0-0/w STRC(48)    r     1 SDELUSR

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w PTR         r     1 @ERR                       A-0-0/w STRC(48)    r     1 DONE_MSG
     7-0-0/w VECT        r     1 DONE_MSG_                 *0-0-0/w STRC(32)    r     1 ERR
     D-0-0/w STRC(424)   r     1 KEYMES                     6-0-0/w UBIN(16)    r     1 PGS_RELEASED
    28-0-0/w STRC(96)    r     1 RLS

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 G$JIT$                     0-0-0/w PTR         r     1 G$MHJIT$
     0-0-0/w PTR         r     1 G$ROS$                     0-0-0/w PTR         r     1 G$UHJIT$
     0-0-0/w STRC(248)   r     1 GJI_KEYMES_INIT            0-0-0/w UBIN(16)    r     1 GJ_OFF_COUNT
     0-0-0/w UBIN(16)    r     1 GJ_QUIET                   0-0-0/w UBIN(32)    r     1 G_BOOTTIME

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(1600)  r     1 ACCT$MSG                   0-0-0/w STRC(5616)  r     1 G$JIT
     0-0-0/w STRC(27232) r     1 G$MHJIT                    0-0-0/w STRC(12000) r     1 G$ROS
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:38   
     0-0-0/w STRC(384)   r     1 G$U                        0-0-0/w STRC(6480)  r     1 G$UHJIT


   Procedure GJS$ABORTM requires 686 words for executable code.
   Procedure GJS$ABORTM requires 54 words of local(AUTO) storage.

    No errors detected in file GJS$ABORTM.:E05TSI    .
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:39   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:40   
          MINI XREF LISTING

ACCT$MSG
     17056**DCL     17622--CALL
ACCT$MSG.JSUNIT
     17105**DCL     17106--REDEF
ACCT$MSG.MCLS
     17104**DCL     17104--REDEF
ACCT$MSG.USER_EXTIME
     17097**DCL     17098--REDEF
ACCT$MSG.USER_MEMTIME
     17100**DCL     17100--REDEF
ACCT$MSG.USER_SVTIME
     17099**DCL     17099--REDEF
CHK_ASYNC
     17582**LABEL   17564--CALLALT
CLEAN_DISABLE
     17516**LABEL   17528--GOTO
DONE_MSG
      5413**DCL     17546--ASSIGN
DONE_MSG.ERR
      5438**DCL     17545<<ASSIGN
DONE_MSG.FCN
      5413**DCL     17542<<ASSIGN  17543<<ASSIGN  17566>>DOCASE
DONE_MSG_
      5398**DCL     17546<<ASSIGN  17555<>CALL    17556<>CALL    17564<>CALL
ERR
      5364**DCL        14--PROC    17491--ENTRY   17492>>ASSIGN  17545>>ASSIGN  17555<>CALL    17556<>CALL
     17564<>CALL    17636<>CALL    17637<>CALL
FPT_READ
     17220**DCL     17564<>CALL
G$JIT.ACCN
      5891**DCL     17642>>ASSIGN
G$JIT.DB#
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:41   
      6013**DCL     17508>>IF
G$JIT.ERR
      5920**DCL     17492<<ASSIGN
G$JIT.ERR.ERR#
      5947**DCL     17541>>IF
G$JIT.ERR.SEV
      5948**DCL     17504>>ASSIGN
G$JIT.ERRLOG
      6162**DCL      6165--REDEF
G$JIT.JMCLS
      6227**DCL     17612>>ASSIGN
G$JIT.JOBUNIT
      6222**DCL     17617>>ASSIGN
G$JIT.JPEAK_LVLS
      6223**DCL     17611>>ASSIGN
G$JIT.JPEAK_MEM
      6223**DCL     17610>>ASSIGN
G$JIT.JPEAK_SUDO
      6222**DCL     17609>>ASSIGN
G$JIT.JPROC_EXTIME
      6225**DCL     17606>>ASSIGN
G$JIT.JPROC_MEMTIME
      6226**DCL     17608>>ASSIGN
G$JIT.JPROC_SVTIME
      6226**DCL     17607>>ASSIGN
G$JIT.JREADS_HOST
      6227**DCL     17613>>ASSIGN
G$JIT.JREADS_UC
      6228**DCL     17615>>ASSIGN
G$JIT.JSTART
      5999**DCL     17618>>ASSIGN
G$JIT.JSUNIT
      5901**DCL      5902--REDEF   17617<<ASSIGN
G$JIT.JUNK.BACKP$
      6154**DCL     17592<<ASSIGN
G$JIT.JUNK.HOST_STEP_ABRT
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:42   
      6152**DCL     17548>>IF      17550<<ASSIGN
G$JIT.JUNK.SCCSET
      6161**DCL     17502>>IF      17503<<ASSIGN
G$JIT.JUNK.STEP
      6160**DCL     17508>>IF      17554>>IF
G$JIT.JUSER_EXTIME
      6224**DCL     17603>>ASSIGN
G$JIT.JUSER_MEMTIME
      6225**DCL     17605>>ASSIGN
G$JIT.JUSER_SVTIME
      6224**DCL     17604>>ASSIGN
G$JIT.JWRITES_HOST
      6228**DCL     17614>>ASSIGN
G$JIT.JWRITES_UC
      6229**DCL     17616>>ASSIGN
G$JIT.MCLS
      5900**DCL      5900--REDEF   17612<<ASSIGN
G$JIT.MODE
      5889**DCL     17508>>IF
G$JIT.PEAK_LVLS
      5899**DCL     17611<<ASSIGN
G$JIT.PEAK_MEM
      5899**DCL     17610<<ASSIGN
G$JIT.PEAK_SUDO
      5898**DCL     17609<<ASSIGN
G$JIT.PROC_EXTIME
      5897**DCL     17606<<ASSIGN
G$JIT.PROC_MEMTIME
      5898**DCL     17608<<ASSIGN
G$JIT.PROC_SVTIME
      5897**DCL     17607<<ASSIGN
G$JIT.READS_HOST
      5992**DCL     17613<<ASSIGN
G$JIT.READS_UC
      5993**DCL     17615<<ASSIGN
G$JIT.RNST
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:43   
      6132**DCL     17489<<ASSIGN  17489>>ASSIGN  17508>>IF
G$JIT.START
      5892**DCL     17618<<ASSIGN
G$JIT.STEPCC
      5988**DCL     17504<<ASSIGN
G$JIT.STOP
      5893**DCL     17619<>CALL    17620<<ASSIGN  17620>>ASSIGN
G$JIT.SYSID
      5890**DCL     17641>>ASSIGN
G$JIT.TMRZ
      6169**DCL      6170--REDEF
G$JIT.TYPE
      5888**DCL     17602<<ASSIGN
G$JIT.UNAME
      5891**DCL     17643>>ASSIGN
G$JIT.USER_EXTIME
      5893**DCL      5894--REDEF   17603<<ASSIGN
G$JIT.USER_MEMTIME
      5896**DCL      5896--REDEF   17605<<ASSIGN
G$JIT.USER_SVTIME
      5895**DCL      5895--REDEF   17604<<ASSIGN
G$JIT.USR#
      5890**DCL     17631>>ASSIGN
G$JIT.WRITES_HOST
      5993**DCL     17614<<ASSIGN
G$JIT.WRITES_UC
      5994**DCL     17616<<ASSIGN
G$JIT$
      5669**DCL      5832--IMP-PTR 17489>>ASSIGN  17489>>ASSIGN  17492>>ASSIGN  17502>>IF      17503>>ASSIGN
     17504>>ASSIGN  17504>>ASSIGN  17508>>IF      17508>>IF      17508>>IF      17508>>IF      17541>>IF
     17548>>IF      17550>>ASSIGN  17554>>IF      17592>>ASSIGN  17602>>ASSIGN  17603>>ASSIGN  17603>>ASSIGN
     17604>>ASSIGN  17604>>ASSIGN  17605>>ASSIGN  17605>>ASSIGN  17606>>ASSIGN  17606>>ASSIGN  17607>>ASSIGN
     17607>>ASSIGN  17608>>ASSIGN  17608>>ASSIGN  17609>>ASSIGN  17609>>ASSIGN  17610>>ASSIGN  17610>>ASSIGN
     17611>>ASSIGN  17611>>ASSIGN  17612>>ASSIGN  17612>>ASSIGN  17613>>ASSIGN  17613>>ASSIGN  17614>>ASSIGN
     17614>>ASSIGN  17615>>ASSIGN  17615>>ASSIGN  17616>>ASSIGN  17616>>ASSIGN  17617>>ASSIGN  17617>>ASSIGN
     17618>>ASSIGN  17618>>ASSIGN  17619>>CALL    17620>>ASSIGN  17620>>ASSIGN  17622<>CALL    17631>>ASSIGN
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:44   
     17641>>ASSIGN  17642>>ASSIGN  17643>>ASSIGN
G$MHJIT.CU$
     12577**DCL     17518>>ASSIGN  17518>>ASSIGN  17581>>DOWHILE 17589>>IF
G$MHJIT.INTCON.HHJIT
     12711**DCL     12711--REDEF
G$MHJIT.INTCON.P$$
     12684**DCL     12684--REDEF
G$MHJIT.ISA_BIGFOOT.P$$
      9629**DCL      9629--REDEF
G$MHJIT.ISA_DBINH.P$$
     10843**DCL     10843--REDEF
G$MHJIT.ISA_IDLE.P$$
      7724**DCL      7724--REDEF
G$MHJIT.ISA_LVL10.P$$
     11146**DCL     11146--REDEF
G$MHJIT.ISA_LVL11.P$$
     11449**DCL     11449--REDEF
G$MHJIT.ISA_LVL12.P$$
     11752**DCL     11752--REDEF
G$MHJIT.ISA_LVL5.P$$
      9932**DCL      9932--REDEF
G$MHJIT.ISA_OV.P$$
      9326**DCL      9326--REDEF
G$MHJIT.ISA_PFS.P$$
      8997**DCL      8997--REDEF
G$MHJIT.ISA_RT_CLOCK.P$$
     12359**DCL     12359--REDEF
G$MHJIT.ISA_SATYR_RCV.P$$
     10236**DCL     10236--REDEF
G$MHJIT.ISA_SATYR_TRN.P$$
     10540**DCL     10540--REDEF
G$MHJIT.ISA_SCHD.P$$
     12055**DCL     12055--REDEF
G$MHJIT.ISA_WDOG.P$$
      9105**DCL      9105--REDEF
G$MHJIT.TSA_DB.ISA.P$$
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:45   
      8327**DCL      8327--REDEF
G$MHJIT.TSA_DB.P$$
      8198**DCL      8198--REDEF    8199--REDEF
G$MHJIT.TSA_HND.ISA.P$$
     12905**DCL     12905--REDEF
G$MHJIT.TSA_HND.P$$
     12776**DCL     12776--REDEF   12777--REDEF
G$MHJIT.TSA_MON.ISA.P$$
      7939**DCL      7939--REDEF
G$MHJIT.TSA_MON.P$$
      7810**DCL      7810--REDEF    7811--REDEF
G$MHJIT.TSA_OV.ISA.P$$
      8715**DCL      8715--REDEF
G$MHJIT.TSA_OV.P$$
      8586**DCL      8586--REDEF    8587--REDEF
G$MHJIT$
      5672**DCL      6249--IMP-PTR 17518>>ASSIGN  17518>>ASSIGN  17581>>DOWHILE 17589>>IF
G$ROS.AUTO_DS$
     13140**DCL     13141--REDEF
G$ROS.AUTO_T$
     13141**DCL     13141--REDEF
G$ROS.CP_ECCB.FLTFLG
     13755**DCL     13786--REDEF
G$ROS.DB_ECCB.FLTFLG
     13679**DCL     13710--REDEF
G$ROS.JIT.ERRLOG
     13490**DCL     13493--REDEF
G$ROS.JIT.JSUNIT
     13229**DCL     13230--REDEF
G$ROS.JIT.MCLS
     13228**DCL     13228--REDEF
G$ROS.JIT.TMRZ
     13497**DCL     13498--REDEF
G$ROS.JIT.USER_EXTIME
     13221**DCL     13222--REDEF
G$ROS.JIT.USER_MEMTIME
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:46   
     13224**DCL     13224--REDEF
G$ROS.JIT.USER_SVTIME
     13223**DCL     13223--REDEF
G$ROS.M$DEBUG.EOMCHAR
     13826**DCL     13826--REDEF   13827--REDEF
G$ROS.M$DEBUG.FLDID
     13825**DCL     13825--REDEF
G$ROS.M$DEBUG.RES
     13820**DCL     13821--REDEF
G$ROS.M$DO.EOMCHAR
     14031**DCL     14031--REDEF   14032--REDEF
G$ROS.M$DO.FLDID
     14030**DCL     14030--REDEF
G$ROS.M$DO.RES
     14025**DCL     14026--REDEF
G$ROS.M$HOST.EOMCHAR
     13980**DCL     13980--REDEF   13981--REDEF
G$ROS.M$HOST.FLDID
     13979**DCL     13979--REDEF
G$ROS.M$HOST.RES
     13974**DCL     13975--REDEF
G$ROS.M$LM.ACCT
     13871**DCL     17508>>IF
G$ROS.M$LM.EOMCHAR
     13877**DCL     13877--REDEF   13878--REDEF
G$ROS.M$LM.FCD
     13873**DCL     17538>>IF
G$ROS.M$LM.FLDID
     13876**DCL     13876--REDEF
G$ROS.M$LM.RES
     13871**DCL     13872--REDEF
G$ROS.M$ME.EOMCHAR
     13929**DCL     13929--REDEF   13930--REDEF
G$ROS.M$ME.FLDID
     13928**DCL     13928--REDEF
G$ROS.M$ME.RES
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:47   
     13923**DCL     13924--REDEF
G$ROS.U_ECCB.FLTFLG
     13603**DCL     13634--REDEF
G$ROS$
      5670**DCL     13131--IMP-PTR 17508>>IF      17538>>IF
G$U.ASYNCH
     13112**DCL     17518<<ASSIGN  17518>>ASSIGN  17581>>DOWHILE 17589>>IF
G$U.MISC
     13112**DCL     13112--REDEF
G$UHJIT.DMN.ID
     15803**DCL     17498>>IF      17498>>IF      17516>>IF
G$UHJIT.ISA_USR
     15508**DCL     15803--REDEF
G$UHJIT.ISA_USR.P$$
     15583**DCL     15583--REDEF
G$UHJIT.TSA_CP.ISA.P$$
     16790**DCL     16790--REDEF
G$UHJIT.TSA_CP.P$$
     16661**DCL     16661--REDEF   16662--REDEF
G$UHJIT.TSA_DB.ISA.P$$
     16402**DCL     16402--REDEF
G$UHJIT.TSA_DB.P$$
     16273**DCL     16273--REDEF   16274--REDEF
G$UHJIT.TSA_RTT.P$$
     17036**DCL     17036--REDEF   17037--REDEF
G$UHJIT.TSA_USR
     15833**DCL     17511<>CALL
G$UHJIT.TSA_USR.ISA.P$$
     15992**DCL     15992--REDEF
G$UHJIT.TSA_USR.P$$
     15863**DCL     15863--REDEF   15864--REDEF
G$UHJIT$
      5671**DCL     14085--IMP-PTR 17498>>IF      17498>>IF      17511>>CALL    17516>>IF
GHH$ENABLE
     17361**DCL-ENT 17527--CALL
GHH$LVL
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:48   
     17360**DCL-ENT 17525--CALL
GHI$CIH_CLNUP
     17362**DCL-ENT 17519--CALL
GHI$UTS
     17363**DCL-ENT 17619--CALL
GHS$REG
     17364**DCL-ENT 17582--CALL    17650--CALL
GIR$SCREECH
     17365**DCL-ENT 17511--CALL
GJI_KEYMES_INIT
      5696**DCL     17639>>ASSIGN
GJI_KEYMES_INIT.TERMID.TERM
      5778**DCL      5787--REDEF
GJS$RUND
     17366**DCL-ENT 17569--CALL    17597--CALL
GJU$GET_DB
     17367**DCL-ENT 17591--CALL
GJU$XCON
     17368**DCL-ENT 17496--CALL
GJ_OFF_COUNT
      5675**DCL     17645<<ASSIGN  17645>>ASSIGN
GJ_QUIET
      5674**DCL     17646>>IF
GMA$REL_ACCTMEM
     17369**DCL-ENT 17570--CALL    17598--CALL
G_BOOTTIME
      5676**DCL     17620>>ASSIGN
G_SYSACCT
     17205**DCL     17508>>IF
KEYMES
      5489**DCL     17639<<ASSIGN  17648--CALL    17648--CALL
KEYMES.ACCT
      5610**DCL     17642<<ASSIGN
KEYMES.MSG#
      5498**DCL     17640<<ASSIGN
KEYMES.SYSID
PL6.E3A0      #001=GJS$ABORTM File=GJS$ABORTM.:E05TSI                            TUE 07/29/97 21:58 Page:49   
      5609**DCL     17641<<ASSIGN
KEYMES.TERMID.TERM
      5571**DCL      5580--REDEF
KEYMES.UNAME
      5611**DCL     17643<<ASSIGN
KNA$CLOSE
     17370**DCL-ENT 17636--CALL    17637--CALL
KNA$READ
     17372**DCL-ENT 17564--CALL
KNA$WRITE
     17374**DCL-ENT 17555--CALL
KNA$WRITE_NOW
     17373**DCL-ENT 17556--CALL
KNB$GETRESP
     17371**DCL-ENT 17622--CALL    17632--CALL    17648--CALL
PGS_RELEASED
      5397**DCL     17569<>CALL    17570<>CALL    17597<>CALL    17598<>CALL
RLS
      5643**DCL     17632--CALL    17632--CALL
RLS.CHAN
      5650**DCL     17630<<ASSIGN
RLS.CODE
      5647**DCL     17629<<ASSIGN
RLS.USER#
      5658**DCL     17631<<ASSIGN
RUND_STEP
     17569**LABEL   17551--GOTO
RUND_USER
     17589**LABEL   17539--GOTO    17555--CALLALT 17556--CALLALT 17591--CALLALT
SCREECH
     17376**DCL-ENT 17652--CALL
SDELUSR
     17324**DCL     17652<>CALL

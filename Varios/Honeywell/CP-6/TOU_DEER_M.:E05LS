

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         1    
    1      /*M* TOU_DEER_M     DEckfile Editor Routine Equates and Macros */
    2      /*T***********************************************************/
    3      /*T*                                                         */
    4      /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
    5      /*T*                                                         */
    6      /*T***********************************************************/
    7      /*X* PLM=3,DCI=6,SQB=N,PRB=N,DTI=5,ENI=0,AND=Y,ECI=0,CSU=3,DIN=3,
    8           CTI=8,CRM=109,CRT=1,NLB=N,NTB=Y,MCL=110 */
    9
   10      /*P*  NAME:        TOU_DEER_M
   11            AUTHOR:      Scott S. Sheppard
   12            SECTION:     Equates
   13            PURPOSE:     Equates for deckfile editor/utilities
   14            DESCRIPTION: This file contains all of the PL6 substitutions
   15                         and equates, and  declaration macros   for  the
   16                         DEER processor.
   17                         This section is referenced by:
   18                            TOU$DE   TOU$BREAK      TOU$BUILD
   19                            TOU$DU   TOU$CHECKS     TOU$LIST
   20                            TOU$DFU  TOU$DEBLOCKER  TOU$SHOWDECK
   21                                     TOU$GET_CARD   TOU$SHOWFILE
   22                                     TOU$REPLACE    TOU$NEWCAT
   23                                                    TOU$NEWDECK
   24                                                    TOU$REPDECK
   25                                                    TOU$DELDECK
   26                                                    TOU$DELPATCH
   27                                                    TOU$DELCAT
   28                                                    TOU$REMREF
   29                                                    TOU$PATCH
   30                                                    TOU$UPDATE
   31                                                    TOU$HELP
   32                                                    TOU$MERGE
   33            REFERENCE:   CP-6 Release D00A
   34            LAST UPDATE: 08/12/85
   35      */
   36      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         2    
   37      /* Size Substitutions */
   38
   39         %EQU MCA_READ_SZ               = 4040;
   40         %EQU BINARY_SPACE              = 4096 * 8;
   41         %EQU BUF_RCD_LGTH              = 120 ;
   42         %EQU MAX_BUF                   = 20 ;
   43         %EQU MAX_LGTH                  = 110 ;
   44         %EQU MAX_VOLS                  = 6 ;
   45         %EQU MAX_BINARY                = 1024 ;
   46         %EQU BIN_RCD_LGTH              = 104 ;
   47         %EQU MAX_PATCHES               = 200 ;
   48         %EQU BCD_RCD_LGTH              = 84 ;
   49         %EQU MAX_REFS                  = 15 ;
   50         %EQU MAX_ACCESSES              = 300 ;
   51         %EQU LOG_RCD_LGTH              = 104 ;
   52         %EQU MAX_DIR_ENTRIES           = 160 ;
   53         %EQU MAX_FRAME_ADRS            = 32 ;
   54         %EQU MAX_SECTORS               = 256 ;
   55
   56      /* General Purpose Equations */
   57
   58         %EQU TRUE                      = '1'B ;
   59         %EQU FALSE                     = '0'B ;
   60         %EQU IS_SEGID#                 = 3072 ; /* Instruction Segment */
   61         %EQU LADC_SITE                 = 'LX8001' ;
   62         %EQU DPS90                     = 4;
   63         %EQU DPS90XA                   = 5; /* See B_STRINGS_C */
   64         %EQU DPS8000                   = 6;
   65         %EQU CRLF                      = '015012074074'O ; /* FACTORY TEST CHECK */
   66
   67      /* Carriage Control */
   68
   69         %EQU TOP_WRITE                 = 'p' ;
   70         %EQU NEXT_WRITE                = 'a' ;
   71         %EQU SKIP_WRITE                = 'b' ;
   72         %EQU OVER_WRITE                = '`' ;
   73         %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         3    
   74      /* MCA Return Status Values */
   75
   76         %EQU CHAN_READY                = '0000'B ;
   77              %EQU NORM_TERM            = '00000'B ;
   78              %EQU ADAPT_FAIL           = '00001'B ;
   79              %EQU SESS_NORM_TERM       = '00010'B ;
   80              %EQU SESS_ABNORM_TERM     = '00011'B ;
   81         %EQU ATTN_DISKETTE             = '0010'B ;
   82              %EQU WR_INHIBIT           = '00001'B ;
   83              %EQU SEEK_INCOMPLETE      = '00010'B ;
   84              %EQU DEV_NOT_PRESENT      = '00100'B ;
   85              %EQU DEV_INOPERABLE       = '01000'B ;
   86              %EQU DEV_IN_STANDBY       = '10000'B ;
   87         %EQU ATTN_MCA                  = '1010'B ;
   88              %EQU EXEC_FW_ERROR        = '00001'B ;
   89              %EQU MCA_OVERLAY_ERROR    = '00010'B ;
   90              %EQU CONNECT_TIME_OUT     = '10000'B ;
   91         %EQU DATA_TRANS_ALERT          = '0011'B ;
   92              %EQU PARITY_ALERT         = '00010'B ;
   93              %EQU CHECK_CHAR_ALERT     = '10000'B ;
   94         %EQU DATA_LOAD_ALERT           = '1011'B ;
   95              %EQU OVERFLOW_ALERT       = '00110'B ;
   96              %EQU UNDERFLOW_ALERT      = '00111'B ;
   97         %EQU CMD_REJECT_OPCODE         = '0101'B ;
   98              %EQU INVALID_OP_CODE      = '00001'B ;
   99         %EQU CMD_REJECT                = '1101'B ;
  100              %EQU INVALID_SEQUENCE     = '00001'B ;
  101              %EQU INVALID_PATH_NAME    = '00010'B ;
  102              %EQU INVALID_REQ_FMT      = '00011'B ;
  103              %EQU CONT_BIT_ERROR       = '00100'B ;
  104              %EQU INVALID_BLK_HDR      = '00101'B ;
  105         %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         4    
  106      /* Deckfile Open/Close Type Codes */
  107
  108         %EQU CREATE_FILE               = 0 ;
  109         %EQU UPDATE_FILE               = 1 ;
  110         %EQU READ_FILE                 = 2 ;
  111
  112         %EQU SAVE_FILE                 = 0 ;
  113         %EQU DISCARD_FILE              = 1 ;
  114
  115      /* File Identifiers */
  116
  117         %EQU MSG_DB_NAME               = ':ERRMSG' ;
  118         %EQU MSG_DB_ACCT               = ':SYS   ' ;
  119         %EQU DEFAULT_DECKFILE          = 'TANDD_DECK_FILE_ID.:FED' ;
  120         %EQU DEFAULT_DECKFILE_LGTH     = 23 ;
  121
  122      /* End of EQUates */
  123      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         5    
  124      /*P*  NAME:        TOU_DEER_M
  125            AUTHOR:      Scott S. Sheppard
  126            SECTION:     Macros
  127            PURPOSE:     Declaration Macros for deckfile editor/utilities
  128            DESCRIPTION: This file contains all of the PL6 substitutions
  129                         and equates,  the declaration macros,  and  the
  130                         message  formats  for   the   DEER   processor.
  131                         This section is referenced by:
  132                            TOU$DE   TOU$BREAK      TOU$BUILD
  133                            TOU$DU   TOU$CHECKS     TOU$LIST
  134                            TOU$DFU  TOU$DEBLOCKER  TOU$SHOWDECK
  135                                     TOU$GET_CARD   TOU$SHOWFILE
  136                                     TOU$REPLACE    TOU$NEWCAT
  137                                                    TOU$NEWDECK
  138                                                    TOU$REPDECK
  139                                                    TOU$DELDECK
  140                                                    TOU$DELPATCH
  141                                                    TOU$DELCAT
  142                                                    TOU$REMREF
  143                                                    TOU$PATCH
  144                                                    TOU$UPDATE
  145                                                    TOU$MERGE
  146                                                    TOU$HELP
  147           MACROS ENCLOSED:
  148                         DUP
  149                         MASTER_KEY
  150                         MASTER_DATA
  151                         MASTER_ENTRY_KEY
  152                         CATALOG_KEY
  153                         CATALOG_DATA
  154                         SUBCATALOG_KEY
  155                         SUBCATALOG_DATA
  156                         CATALOG_ENTRY_KEY
  157                         OBJECT_KEY
  158                         OBJECT
  159                         BINARY_KEY
  160                         BUFFER
15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         6    
  161                         BINARY_CARD
  162                         BCD_KEY
  163                         BCD_B
  164                         BCD_CARD
  165                         DKEND
  166                         OBJECT_REFLIST_KEY
  167                         OBJECT_REFLIST_DATA
  168                         LAST_DECK_KEY
  169                         LAST
  170                         REVISION_KEY
  171                         REVISION_B
  172                         LOG_KEY
  173                         LOG_B
  174                         RECORD
  175                         ID
  176                         CATALOG_SEARCH_KEY
  177                         OBJECT_SEARCH_KEY
  178                         MCA_B
  179                         HDR_BLK
  180                         DISKETTE_HEADER
  181                         DIRECTORY_ENTRY
  182                         DISKETTE_FILE
  183            REFERENCE:   CP-6 Release C0I0
  184      */
  185      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         7    
  186      /*F*  NAME:        DUP
  187            DESCRIPTION: This macro provides the declaration for the
  188                         Deckfile Utility Parameter.
  189      */
  190
  191      %MACRO DUP (NAME    = DUP,
  192                  STCLASS = STATIC) ;
  193
  194         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  195         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  196               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  197               (SUBSTR(STR,0,3) = 'EXT');
  198            %LSET INIT = CHARTEXT('INIT');
  199         %ELSE;
  200            %LSET INIT = CHARTEXT('/*');
  201         %ENDIF;
  202
  203         DCL 1 NAME                     STCLASS ALIGNED,
  204                 /* Processing Flags */
  205               2 BATCH_MODE             BIT (1) CALIGNED
  206                                        %INIT(%FALSE) %CHARTEXT ('/**/'),
  207               2 PROCESS_COMPLETE       BIT (1) CALIGNED
  208                                        %INIT(%FALSE) %CHARTEXT ('/**/'),
  209               2 FAULT_ERROR            BIT (1) CALIGNED
  210                                        %INIT(%FALSE) %CHARTEXT ('/**/'),
  211
  212                 /* Dynamically Acquired Memory Control */
  213               2 NUM_WORDS              UBIN HALF HALIGNED
  214                                        %INIT(0) %CHARTEXT ('/**/'),
  215               2 DS_V                   BIT (72) DALIGNED
  216                                        %INIT(%FALSE) %CHARTEXT ('/**/'),
  217
  218                 /* User Input */
  219               2 RESPONSE               CHAR (40) CALIGNED
  220                                        %INIT(' ') %CHARTEXT ('/**/'),
  221               2 RESPONSE_LGTH          UBIN WORD ALIGNED
  222                                        %INIT(0) %CHARTEXT ('/**/'),
15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         8    
  223               2 CMD$                   PTR ALIGNED
  224                                        %INIT(ADDR(NIL)) %CHARTEXT ('/**/'),
  225
  226                 /* Output Control */
  227               2 MSG_CODE               UBIN WORD ALIGNED
  228                                        %INIT(0) %CHARTEXT ('/**/'),
  229               2 HDR_CODE               UBIN WORD ALIGNED
  230                                        %INIT(700) %CHARTEXT ('/**/'),
  231               2 NUM_LINES              UBIN WORD ALIGNED
  232                                        %INIT(0) %CHARTEXT ('/**/'),
  233               2 MSG_V                  DALIGNED,
  234                 3 *                    UBIN WORD UNAL
  235                                        %INIT(0) %CHARTEXT ('/**/'),
  236                 3 PTR$                 PTR UNAL
  237                                        %INIT(ADDR(NIL)) %CHARTEXT ('/**/'),
  238               2 LINE_VFC               CHAR (1) CALIGNED
  239                                        %INIT(%SKIP_WRITE) %CHARTEXT ('/**/'),
  240               2 CURRENT_PAGE#          UBIN WORD ALIGNED
  241                                        %INIT(0) %CHARTEXT ('/**/'),
  242               2 CURRENT_LINE#          UBIN WORD ALIGNED
  243                                        %INIT(0) %CHARTEXT ('/**/'),
  244               2 BOTTOM_LINE#           UBIN WORD ALIGNED
  245                                        %INIT(0) %CHARTEXT ('/**/'),
  246               2 ERROR_IMAGE            CHAR (80) CALIGNED
  247                                        %INIT(' ') %CHARTEXT ('/**/'),
  248               2 FORCE_NEW_PAGE         BIT (1) CALIGNED
  249                                        %INIT('1'B) %CHARTEXT ('/**/'),
  250
  251                 /* IFAD Access Parameters */
  252               2 IFAD,
  253                 3 ME_ALLOWED           BIT (1) CALIGNED
  254                                        %INIT(%FALSE) %CHARTEXT ('/**/'),
  255                 3 ENTERED              BIT (1) CALIGNED
  256                                        %INIT(%FALSE) %CHARTEXT ('/**/'),
  257                 3 DEVICE_INPUT         BIT (1) CALIGNED
  258                                        %INIT(%FALSE) %CHARTEXT ('/**/'),
  259                 3 IMU_TAB              BIT(1) CALIGNED
15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         9    
  260                                        %INIT(%FALSE) %CHARTEXT ('/**/'),
  261                 3 CONFIG_TAB           CHAR(3) CALIGNED
  262                                        %INIT(' ') %CHARTEXT ('/**/'),
  263                 3 NUM_VOLUMES          UBIN WORD ALIGNED
  264                                        %INIT(0) %CHARTEXT ('/**/'),
  265                 3 IMU_NUMBER           UBIN WORD ALIGNED
  266                                        %INIT(0) %CHARTEXT ('/**/'),
  267                 3 DRIVE_NUMBER         CHAR (1) CALIGNED
  268                                        %INIT(' ') %CHARTEXT ('/**/'),
  269                 3 FID                  CHAR (40) CALIGNED
  270                                        %INIT(' ') %CHARTEXT ('/**/'),
  271                 3 FID_LGTH             UBIN WORD ALIGNED
  272                                        %INIT(0) %CHARTEXT ('/**/'),
  273               2 BINARY_V               DALIGNED,
  274                 3 *                    UBIN WORD UNAL
  275                                        %INIT(0) %CHARTEXT ('/**/'),
  276                 3 PTR$                 PTR UNAL
  277                                        %INIT(ADDR(NIL)) %CHARTEXT ('/**/'),
  278               2 BCD_V                  DALIGNED,
  279                 3 *                    UBIN WORD UNAL
  280                                        %INIT(0) %CHARTEXT ('/**/'),
  281                 3 PTR$                 PTR UNAL
  282                                        %INIT(ADDR(NIL)) %CHARTEXT ('/**/'),
  283
  284                 /* Deckfile Access Parameters */
  285               2 DF,
  286                 3 ENTERED              BIT (1) CALIGNED
  287                                        %INIT(%FALSE) %CHARTEXT ('/**/'),
  288                 3 NO_EXIST             BIT (1) CALIGNED
  289                                        %INIT(%FALSE) %CHARTEXT ('/**/'),
  290                 3 REPORT_ERROR         BIT (1) CALIGNED
  291                                        %INIT(%TRUE) %CHARTEXT ('/**/'),
  292                 3 OPEN_TYPE            UBIN WORD ALIGNED
  293                                        %INIT(%READ_FILE) %CHARTEXT ('/**/'),
  294                 3 CLOSE_TYPE           UBIN WORD ALIGNED
  295                                        %INIT(%SAVE_FILE) %CHARTEXT ('/**/'),
  296                 3 FID                  CHAR (40) CALIGNED
15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         10   
  297                                        %INIT(' ') %CHARTEXT ('/**/'),
  298                 3 FID_LGTH             UBIN WORD ALIGNED
  299                                        %INIT(0) %CHARTEXT ('/**/'),
  300
  301               /* Deckfile History Log */
  302               2 LOG,
  303                 3 TYPE                 UBIN WORD ALIGNED
  304                                        %INIT(0) %CHARTEXT ('/**/'),
  305                 3 CATALOG              CHAR (21) CALIGNED
  306                                        %INIT(' ') %CHARTEXT ('/**/'),
  307                 3 DECK                 CHAR (23) CALIGNED
  308                                        %INIT(' ') %CHARTEXT ('/**/'),
  309               2 LOG_V                  DALIGNED,
  310                 3 *                    UBIN WORD UNAL
  311                                        %INIT(0) %CHARTEXT ('/**/'),
  312                 3 PTR$                 PTR UNAL
  313                                        %INIT(ADDR(NIL)) %CHARTEXT ('/**/'),
  314               2 LOG_V_                 REDEF LOG_V VECTOR,
  315
  316                 /* Temporary File Access Parameters */
  317               2 TEMP,
  318                 3 OPEN_TYPE            UBIN WORD ALIGNED
  319                                        %INIT(%CREATE_FILE) %CHARTEXT ('/**/'),
  320                 3 CLOSE_TYPE           UBIN WORD ALIGNED
  321                                        %INIT(%SAVE_FILE) %CHARTEXT ('/**/'),
  322
  323                 /* Holding Area */
  324               2 HOLD_AREA              CHAR (40) CALIGNED
  325                                        %INIT(' ') %CHARTEXT ('/**/'),
  326               2 HOLD_AREA_LGTH         UBIN WORD ALIGNED
  327                                        %INIT(0) %CHARTEXT ('/**/'),
  328
  329                 /* Break Control */
  330               2 BREAK_TERMINATE        BIT (1) CALIGNED
  331                                        %INIT(%FALSE) %CHARTEXT ('/**/'),
  332               2 BREAK_DISABLED         BIT (1) CALIGNED
  333                                        %INIT(%TRUE) %CHARTEXT ('/**/'),
15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         11   
  334               2 BREAK_RETURN           REMEMBER DALIGNED,
  335
  336                 /* Customer Site Information */
  337               2 SITE_NAME,
  338                 3 LGTH                 UBIN BYTE CALIGNED
  339                                        %INIT (0) %CHARTEXT ('/**/'),
  340                 3 TEXT                 CHAR (119) CALIGNED
  341                                        %INIT (' ') %CHARTEXT ('/**/'),
  342               2 SITE_ID                CHAR (6) CALIGNED
  343                                        %INIT (' ') %CHARTEXT ('/**/'),
  344               2 CPU_TYPE               UBIN BYTE ALIGNED
  345                                        %INIT(0) %CHARTEXT ('/**/');
  346      %MEND ;
  347      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         12   
  348      /*F*  NAME:        MASTER_KEY
  349            DESCRIPTION: This macro provides the MASTER_KEY
  350                         dcl for the CP-6 deckfile editor.
  351      */
  352
  353      %MACRO MASTER_KEY (NAME    = MASTER_KEY,
  354                         STCLASS = CONSTANT) ;
  355
  356         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  357         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  358               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  359               (SUBSTR(STR,0,3) = 'EXT');
  360            %LSET INIT = CHARTEXT('INIT');
  361         %ELSE;
  362            %LSET INIT = CHARTEXT('/*');
  363         %ENDIF;
  364
  365         DCL 1 NAME STCLASS CALIGNED,
  366               2 SIZE   UBIN BYTE  UNAL %INIT(14) %CHARTEXT('/**/'),
  367               2 DATA   CHAR (14) UNAL %INIT('MASTER_CATALOG') %CHARTEXT('/**/') ;
  368      %MEND;
  369      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         13   
  370      /*F*  NAME:        MASTER_DATA
  371            DESCRIPTION: This macro provides the MASTER_DATA
  372                         dcl for the CP-6 deckfile editor.
  373      */
  374
  375      %MACRO MASTER_DATA (NAME    = MASTER_DATA,
  376                          STCLASS = STATIC) ;
  377
  378         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  379         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  380               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  381               (SUBSTR(STR,0,3) = 'EXT');
  382            %LSET INIT = CHARTEXT('INIT');
  383         %ELSE;
  384            %LSET INIT = CHARTEXT('/*');
  385         %ENDIF;
  386
  387         DCL 1 NAME STCLASS ALIGNED,
  388               2 DECK#       UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
  389               2 ENTRY_COUNT UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
  390               2 RFU         CHAR (4) UNAL %INIT('DEER') %CHARTEXT('/**/') ;
  391      %MEND;
  392      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         14   
  393      /*F*  NAME:        MASTER_ENTRY_KEY
  394            DESCRIPTION: This macro provides the MASTER_ENTRY_KEY
  395                         dcl for the CP-6 deckfile editor.
  396      */
  397
  398      %MACRO MASTER_ENTRY_KEY (NAME    = MASTER_ENTRY_KEY,
  399                               STCLASS = STATIC) ;
  400
  401         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  402         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  403               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  404               (SUBSTR(STR,0,3) = 'EXT');
  405            %LSET INIT = CHARTEXT('INIT');
  406         %ELSE;
  407            %LSET INIT = CHARTEXT('/*');
  408         %ENDIF;
  409
  410         DCL 1 NAME STCLASS CALIGNED,
  411               2 SIZE   UBIN BYTE  UNAL %INIT(4) %CHARTEXT('/**/'),
  412               2 DECK#  UBIN HALF UNAL %INIT(0) %CHARTEXT ('/**/'),
  413               2 ENTRY# UBIN HALF UNAL %INIT(0) %CHARTEXT ('/**/') ;
  414      %MEND;
  415      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         15   
  416      /*F*  NAME:        CATALOG_KEY
  417            DESCRIPTION: This macro provides the CATALOG_KEY
  418                         dcl for the CP-6 deckfile editor.
  419      */
  420
  421      %MACRO CATALOG_KEY (NAME    = CATALOG_KEY,
  422                          STCLASS = STATIC) ;
  423
  424         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  425         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  426               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  427               (SUBSTR(STR,0,3) = 'EXT');
  428            %LSET INIT = CHARTEXT('INIT');
  429         %ELSE;
  430            %LSET INIT = CHARTEXT('/*');
  431         %ENDIF;
  432
  433         DCL 1 NAME STCLASS ALIGNED,
  434               2 SIZE   UBIN BYTE UNAL %INIT(23) %CHARTEXT('/**/'),
  435               2 DATA   CHAR (21) UNAL %INIT(' ') %CHARTEXT('/**/'),
  436               2 DECK#  UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/') ;
  437      %MEND;
  438      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         16   
  439      /*F*  NAME:        CATALOG_DATA
  440            DESCRIPTION: This macro provides the CATALOG_DATA
  441                         dcl for the CP-6 deckfile editor.
  442      */
  443
  444      %MACRO CATALOG_DATA (NAME    = CATALOG_DATA,
  445                           STCLASS = STATIC) ;
  446
  447         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  448         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  449               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  450               (SUBSTR(STR,0,3) = 'EXT');
  451            %LSET INIT = CHARTEXT('INIT');
  452         %ELSE;
  453            %LSET INIT = CHARTEXT('/*');
  454         %ENDIF;
  455
  456         DCL 1 NAME STCLASS ALIGNED,
  457               2 DECK#       UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
  458               2 ENTRY_COUNT UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
  459               2 RFU         CHAR (4) UNAL %INIT('DEER') %CHARTEXT('/**/') ;
  460      %MEND;
  461      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         17   
  462      /*F*  NAME:        SUBCATALOG_KEY
  463            DESCRIPTION: This macro provides the SUBCATALOG_KEY
  464                         dcl for the CP-6 deckfile editor.
  465      */
  466
  467      %MACRO SUBCATALOG_KEY (NAME    = SUBCATALOG_KEY,
  468                             STCLASS = STATIC) ;
  469
  470         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  471         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  472               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  473               (SUBSTR(STR,0,3) = 'EXT');
  474            %LSET INIT = CHARTEXT('INIT');
  475         %ELSE;
  476            %LSET INIT = CHARTEXT('/*');
  477         %ENDIF;
  478
  479         DCL 1 NAME STCLASS CALIGNED,
  480               2 SIZE      UBIN BYTE  UNAL %INIT(4) %CHARTEXT('/**/'),
  481               2 DECK#     UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
  482               2 ENTRY#    UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/') ;
  483      %MEND;
  484      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         18   
  485      /*F*  NAME:        SUBCATALOG_DATA
  486            DESCRIPTION: This macro provides the SUBCATALOG_DATA
  487                         dcl for the CP-6 deckfile editor.
  488      */
  489
  490      %MACRO SUBCATALOG_DATA (NAME    = SUBCATALOG_DATA,
  491                              STCLASS = STATIC) ;
  492
  493         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  494         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  495               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  496               (SUBSTR(STR,0,3) = 'EXT');
  497            %LSET INIT = CHARTEXT('INIT');
  498         %ELSE;
  499            %LSET INIT = CHARTEXT('/*');
  500         %ENDIF;
  501
  502         DCL 1 NAME STCLASS CALIGNED,
  503               2 IFAD_FID  CHAR (40) UNAL %INIT(' ') %CHARTEXT('/**/'),
  504               2 IFAD_FN   CHAR (12) UNAL %INIT(' ') %CHARTEXT('/**/') ;
  505      %MEND;
  506      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         19   
  507      /*F*  NAME:        CATALOG_ENTRY_KEY
  508            DESCRIPTION: This macro provides the CATALOG_ENTRY_KEY
  509                         dcl for the CP-6 deckfile editor.
  510      */
  511
  512      %MACRO CATALOG_ENTRY_KEY (NAME    = CATALOG_ENTRY_KEY,
  513                                STCLASS = STATIC) ;
  514
  515         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  516         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  517               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  518               (SUBSTR(STR,0,3) = 'EXT');
  519            %LSET INIT = CHARTEXT('INIT');
  520         %ELSE;
  521            %LSET INIT = CHARTEXT('/*');
  522         %ENDIF;
  523
  524         DCL 1 NAME STCLASS CALIGNED,
  525               2 SIZE   UBIN BYTE  UNAL %INIT(4) %CHARTEXT('/**/'),
  526               2 DECK#  UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
  527               2 ENTRY# UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/') ;
  528      %MEND;
  529      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         20   
  530      /*F*  NAME:        OBJECT_KEY
  531            DESCRIPTION: This macro provides the OBJECT_KEY
  532                         dcl for the CP-6 deckfile editor.
  533      */
  534
  535      %MACRO OBJECT_KEY (NAME    = OBJECT_KEY,
  536                         STCLASS = STATIC) ;
  537
  538         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  539         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  540               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  541               (SUBSTR(STR,0,3) = 'EXT');
  542            %LSET INIT = CHARTEXT('INIT');
  543         %ELSE;
  544            %LSET INIT = CHARTEXT('/*');
  545         %ENDIF;
  546
  547         DCL 1 NAME STCLASS ALIGNED,
  548               2 SIZE   UBIN BYTE  UNAL %INIT(23) %CHARTEXT('/**/'),
  549               2 DATA   CHAR (23) UNAL %INIT(' ') %CHARTEXT('/**/') ;
  550      %MEND;
  551      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         21   
  552      /*F*  NAME:        OBJECT
  553            DESCRIPTION: This macro provides the OBJECT
  554                         dcl for the CP-6 deckfile editor.
  555      */
  556
  557      %MACRO  OBJECT (NAME    = OBJECT,
  558                      STCLASS = STATIC) ;
  559
  560         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  561         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  562               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  563               (SUBSTR(STR,0,3) = 'EXT');
  564            %LSET INIT = CHARTEXT('INIT');
  565         %ELSE;
  566            %LSET INIT = CHARTEXT('/*');
  567         %ENDIF;
  568
  569         DCL 1 NAME STCLASS ALIGNED,
  570               2 BCD,
  571                 3 CONTROL     CHAR (7)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  572                 3 TYPE        CHAR (8)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  573                 3 LIBRARY     CHAR (6)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  574                 3 LOAD_TYPE   CHAR (1)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  575                 3 CLASS       CHAR (1)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  576                 3 DONT_APPLY,
  577                   4 *         CHAR (1)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  578                   4 CP6       CHAR (1)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  579                   4 *         CHAR (4)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  580                   4 DPS90     CHAR (1)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  581                   4 DPS8000   CHAR (1)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  582                   4 *         CHAR (3)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  583                 3 *           CHAR (8)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  584                 3 MODEL       CHAR (6)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  585                 3 FILENAME    CHAR (8)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  586                 3 *           CHAR (3)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  587                 3 ASSEMBLER   CHAR (1)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  588                 3 GECALL      CHAR (6)  UNAL %INIT(' ') %CHARTEXT('/**/'),
15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         22   
  589                 3 DATE        CHAR (6)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  590                 3 LBL         CHAR (4)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  591                 3 SEQ         CHAR (4)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  592               2 NIO_BCD REDEF BCD,
  593                 3 CONTROL     CHAR (7)  UNAL,
  594                 3 TYPE        CHAR (8)  UNAL,
  595                 3 LIBRARY     CHAR (6)  UNAL,
  596                 3 LOAD_TYPE   CHAR (1)  UNAL,
  597                 3 CLASS       CHAR (1)  UNAL,
  598                 3 *           CHAR(11)  UNAL,
  599                 3 DATA        CHAR (4)  UNAL,
  600                 3 *           CHAR (4)  UNAL,
  601                 3 EQUIP_TYPE  CHAR (5)  UNAL,
  602                 3 FILE_NAME   CHAR (8)  UNAL,
  603                 3 X_OF_N,
  604                   4 *         CHAR (1)  UNAL,
  605                   4 X         CHAR (1)  UNAL,
  606                   4 *         CHAR (1)  UNAL,
  607                   4 N         CHAR (1)  UNAL,
  608                 3 X_OF_N_ REDEF X_OF_N CHAR (4) UNAL,
  609                 3 ASSEMBLER   CHAR (1)  UNAL,
  610                 3 PRD_NUM_TAB CHAR (4)  UNAL,
  611                 3 PRG_NUM_TAB CHAR (3)  UNAL,
  612                 3 *           CHAR (5)  UNAL,
  613                 3 LBL         CHAR (4)  UNAL,
  614                 3 SEQ         CHAR (4)  UNAL,
  615               2 BCD_  REDEF BCD CHAR (80) ALIGNED,
  616               2 DECK#         UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
  617               2 BINARY_COUNT  UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
  618               2 TOTAL_COUNT   UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
  619               2 LOAD_SIZE     UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
  620               2 DECK_CHECKSUM UBIN WORD ALIGNED %INIT(0) %CHARTEXT('/**/'),
  621               2 CHECKSUM      UBIN WORD ALIGNED %INIT(0) %CHARTEXT('/**/') ;
  622      %MEND;
  623      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         23   
  624      /*F*  NAME:        BINARY_KEY
  625            DESCRIPTION: This macro provides the BINARY_KEY
  626                         dcl for the CP-6 deckfile editor.
  627      */
  628
  629      %MACRO BINARY_KEY (NAME    = BINARY_KEY,
  630                         STCLASS = STATIC) ;
  631
  632         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  633         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  634               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  635               (SUBSTR(STR,0,3) = 'EXT');
  636            %LSET INIT = CHARTEXT('INIT');
  637         %ELSE;
  638            %LSET INIT = CHARTEXT('/*');
  639         %ENDIF;
  640
  641         DCL 1 NAME STCLASS CALIGNED,
  642               2 SIZE      UBIN BYTE  UNAL %INIT(4) %CHARTEXT('/**/'),
  643               2 DECK#     UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
  644               2 ENTRY#    UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/') ;
  645      %MEND;
  646      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         24   
  647      /*F*  NAME:        BINARY_B
  648            DESCRIPTION: This macro provides the BUFFER
  649                         dcl for the CP-6 deckfile editor.
  650      */
  651
  652      %MACRO BINARY_B (NAME    = BINARY_B,
  653                       STCLASS = STATIC) ;
  654
  655         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  656         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  657               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  658               (SUBSTR(STR,0,3) = 'EXT');
  659            %LSET INIT = CHARTEXT('INIT');
  660         %ELSE;
  661            %LSET INIT = CHARTEXT('/*');
  662         %ENDIF;
  663
  664         DCL 1 NAME (0:%(MAX_BINARY - 1)) STCLASS ALIGNED,
  665               2 OBJ      CHAR (96) UNAL %INIT(' '*%MAX_BINARY) %CHARTEXT('/**/'),
  666               2 LBL      CHAR (4)  UNAL %INIT(' '*%MAX_BINARY) %CHARTEXT('/**/'),
  667               2 SEQ      CHAR (4)  UNAL %INIT(' '*%MAX_BINARY) %CHARTEXT('/**/');
  668      %MEND;
  669      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         25   
  670      /*F*  NAME:        BINARY_CARD
  671            DESCRIPTION: This macro provides the BINARY_CARD
  672                         dcl for the CP-6 deckfile editor.
  673      */
  674
  675      %MACRO BINARY_CARD (NAME    = BINARY_CARD,
  676                          STCLASS = STATIC,
  677                          RDFN    = BINARY_CARD_) ;
  678
  679         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  680         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  681               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  682               (SUBSTR(STR,0,3) = 'EXT');
  683            %LSET INIT = CHARTEXT('INIT');
  684         %ELSE;
  685            %LSET INIT = CHARTEXT('/*');
  686         %ENDIF;
  687
  688         DCL 1 NAME STCLASS ALIGNED,
  689               2 WD1                         ALIGNED,
  690                 3 TYPE     UBIN (3)  UNAL %INIT(0) %CHARTEXT('/**/'),
  691                 3 *        UBIN BYTE  UNAL %INIT(0) %CHARTEXT('/**/'),
  692                 3 SIZE     UBIN (6)  UNAL %INIT(0) %CHARTEXT('/**/'),
  693                 3 ADDRESS  UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
  694               2 WRD_CHAR    REDEF WD1 CHAR (4) ALIGNED,
  695               2 CHECKSUM   UBIN WORD ALIGNED %INIT(0) %CHARTEXT('/**/'),
  696               2 RELOCATION (0:2) UBIN WORD ALIGNED %INIT(0*3) %CHARTEXT('/**/'),
  697               2 DATA       (0:18) UBIN WORD ALIGNED %INIT(0*19) %CHARTEXT('/**/'),
  698               2 DATA_CHAR   REDEF DATA CHAR (76) UNAL,
  699               2 LBL_SEQ    (0:7) CHAR (1) UNAL %INIT(' '*8) %CHARTEXT('/**/'),
  700               2 LABEL_      REDEF LBL_SEQ ALIGNED,
  701                 3 LBL      CHAR (4)  ALIGNED,
  702                 3 SEQ      CHAR (4)  ALIGNED;
  703         DCL 1 RDFN REDEF NAME,
  704               2 DATA   CHAR (%BIN_RCD_LGTH) ALIGNED ;
  705      %MEND;
  706      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         26   
  707      /*F*  NAME:        BCD_KEY
  708            DESCRIPTION: This macro provides the BCD_KEY
  709                         dcl for the CP-6 deckfile editor.
  710      */
  711
  712      %MACRO BCD_KEY (NAME    = BCD_KEY,
  713                      STCLASS = STATIC) ;
  714
  715         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  716         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  717               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  718               (SUBSTR(STR,0,3) = 'EXT');
  719            %LSET INIT = CHARTEXT('INIT');
  720         %ELSE;
  721            %LSET INIT = CHARTEXT('/*');
  722         %ENDIF;
  723
  724         DCL 1 NAME STCLASS CALIGNED,
  725               2 SIZE      UBIN BYTE  UNAL %INIT(4) %CHARTEXT('/**/'),
  726               2 DECK#     UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
  727               2 CARD#     UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/') ;
  728      %MEND;
  729      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         27   
  730      /*F*  NAME:        BCD_B
  731            DESCRIPTION: This macro provides the BCD_B array
  732                         dcl for the CP-6 deckfile editor.
  733      */
  734
  735      %MACRO BCD_B (NAME    = BCD_B,
  736                    STCLASS = STATIC) ;
  737
  738         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  739         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  740               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  741               (SUBSTR(STR,0,3) = 'EXT');
  742            %LSET INIT = CHARTEXT('INIT');
  743         %ELSE;
  744            %LSET INIT = CHARTEXT('/*');
  745         %ENDIF;
  746
  747         DCL NAME (0:%(MAX_PATCHES - 1)) CHAR (%BCD_RCD_LGTH) STCLASS CALIGNED
  748                %INIT (' '*%MAX_PATCHES) %CHARTEXT ('/**/') ;
  749      %MEND;
  750      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         28   
  751      /*F*  NAME:        BCD_CARD
  752            DESCRIPTION: This macro provides the BCD_CARD
  753                         dcl for the CP-6 deckfile editor.
  754      */
  755
  756      %MACRO BCD_CARD (NAME    = BCD_CARD,
  757                       STCLASS = STATIC,
  758                       RDFN    = BCD_CARD_) ;
  759
  760         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  761         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  762               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  763               (SUBSTR(STR,0,3) = 'EXT');
  764            %LSET INIT = CHARTEXT('INIT');
  765         %ELSE;
  766            %LSET INIT = CHARTEXT('/*');
  767         %ENDIF;
  768
  769         DCL 1 NAME STCLASS ALIGNED,
  770               2 BCD,
  771                 3 CONTROL   CHAR (7)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  772                 3 TYPE      CHAR (8)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  773                 3 DATA      CHAR (57) UNAL %INIT(' ') %CHARTEXT('/**/'),
  774                 3 LBL       CHAR (4)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  775                 3 SEQ       CHAR (4)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  776               2 BCD_ REDEF BCD CHAR (80) UNAL,
  777               2 CHECKSUM  UBIN WORD UNAL %INIT(0) %CHARTEXT('/**/');
  778         DCL RDFN REDEF NAME CHAR (%BCD_RCD_LGTH) ALIGNED ;
  779      %MEND;
  780      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         29   
  781      /*F*  NAME:        DKEND
  782            DESCRIPTION: This macro provides the DKEND
  783                         dcl for the CP-6 deckfile editor.
  784      */
  785
  786      %MACRO DKEND (NAME    = DKEND,
  787                    STCLASS = STATIC,
  788                    RDFN    = DKEND_) ;
  789
  790         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  791         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  792               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  793               (SUBSTR(STR,0,3) = 'EXT');
  794            %LSET INIT = CHARTEXT('INIT');
  795         %ELSE;
  796            %LSET INIT = CHARTEXT('/*');
  797         %ENDIF;
  798
  799         DCL 1 NAME STCLASS ALIGNED,
  800               2 BCD,
  801                 3 CONTROL   CHAR (7)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  802                 3 TYPE      CHAR (8)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  803                 3 *         CHAR (33) UNAL %INIT(' ') %CHARTEXT('/**/'),
  804                 3 TTL_DATE  CHAR (6)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  805                 3 MOD_DATE  CHAR (6)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  806                 3 DATE      CHAR (6)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  807                 3 REVISION  CHAR (6)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  808                 3 LBL       CHAR (4)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  809                 3 SEQ       CHAR (4)  UNAL %INIT(' ') %CHARTEXT('/**/'),
  810               2 BCD_ REDEF BCD CHAR (80) UNAL,
  811               2 CHECKSUM  UBIN WORD ALIGNED %INIT(0) %CHARTEXT('/**/');
  812         DCL RDFN REDEF NAME CHAR (%BCD_RCD_LGTH) CALIGNED ;
  813      %MEND;
  814      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         30   
  815      /*F*  NAME:        OBJECT_REFLIST_KEY
  816            DESCRIPTION: This macro provides the OBJECT_REFLIST_KEY
  817                         dcl for the CP-6 deckfile editor.
  818      */
  819
  820      %MACRO OBJECT_REFLIST_KEY (NAME    = OBJECT_REFLIST_KEY,
  821                                 STCLASS = STATIC) ;
  822
  823         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  824         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  825               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  826               (SUBSTR(STR,0,3) = 'EXT');
  827            %LSET INIT = CHARTEXT('INIT');
  828         %ELSE;
  829            %LSET INIT = CHARTEXT('/*');
  830         %ENDIF;
  831
  832         DCL 1 NAME STCLASS CALIGNED,
  833               2 SIZE      UBIN BYTE  UNAL %INIT(4) %CHARTEXT('/**/'),
  834               2 DECK#     UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
  835               2 ENTRY#    UBIN HALF UNAL %INIT(%(MAX_PATCHES+1)) %CHARTEXT('/**/');
  836      %MEND;
  837      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         31   
  838      /*F*  NAME:        OBJECT_REFLIST_DATA
  839            DESCRIPTION: This macro provides the OBJECT_REFLIST_DATA
  840                         dcl for the CP-6 deckfile editor.
  841      */
  842
  843      %MACRO OBJECT_REFLIST_DATA (NAME    = OBJECT_REFLIST_DATA,
  844                                  STCLASS = STATIC) ;
  845
  846         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  847         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  848               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  849               (SUBSTR(STR,0,3) = 'EXT');
  850            %LSET INIT = CHARTEXT('INIT');
  851         %ELSE;
  852            %LSET INIT = CHARTEXT('/*');
  853         %ENDIF;
  854
  855         DCL 1 NAME STCLASS ALIGNED,
  856               2 NUM_REFS      UBIN WORD UNAL %INIT(0) %CHARTEXT('/**/'),
  857               2 REFS          (0:%(MAX_REFS - 1)),
  858                 3 ME#         UBIN HALF UNAL %INIT(0*%MAX_REFS) %CHARTEXT('/**/'),
  859                 3 CE#         UBIN HALF UNAL %INIT(0*%MAX_REFS) %CHARTEXT('/**/') ;
  860      %MEND;
  861      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         32   
  862      /*F*  NAME:        LAST_DECK_KEY
  863            DESCRIPTION: This macro provides the LAST DECK KEY
  864                         dcl for the CP-6 deckfile editor.
  865      */
  866
  867      %MACRO LAST_DECK_KEY (NAME    = LAST_DECK_KEY,
  868                            STCLASS = CONSTANT) ;
  869
  870         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  871         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  872               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  873               (SUBSTR(STR,0,3) = 'EXT');
  874            %LSET INIT = CHARTEXT('INIT');
  875         %ELSE;
  876            %LSET INIT = CHARTEXT('/*');
  877         %ENDIF;
  878
  879         DCL 1 NAME STCLASS HALIGNED,
  880               2 SIZE   UBIN BYTE  UNAL %INIT(9) %CHARTEXT('/**/'),
  881               2 DATA   CHAR (9)  UNAL %INIT('LAST_DECK') %CHARTEXT('/**/');
  882      %MEND;
  883      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         33   
  884      /*F*  NAME:        LAST
  885            DESCRIPTION: This macro provides the LAST deck number and edit
  886                         name dcl for the CP-6 deckfile editor.
  887      */
  888
  889      %MACRO LAST (NAME    = LAST,
  890                   STCLASS = STATIC) ;
  891
  892         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  893         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  894               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  895               (SUBSTR(STR,0,3) = 'EXT');
  896            %LSET INIT = CHARTEXT('INIT');
  897         %ELSE;
  898            %LSET INIT = CHARTEXT('/*');
  899         %ENDIF;
  900
  901         DCL 1 NAME STCLASS,
  902               2 DECK#       UBIN HALF CALIGNED %INIT(0) %CHARTEXT('/**/'),
  903               2 EDIT_NAME   CHAR (4) CALIGNED %INIT('$000') %CHARTEXT('/**/') ;
  904      %MEND ;
  905      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         34   
  906      /*F*  NAME:        REVISION_KEY
  907            DESCRIPTION: This macro provides the IFAD REVISION KEY
  908                         dcl for the CP-6 deckfile editor.
  909      */
  910
  911      %MACRO REVISION_KEY (NAME    = REVISION_KEY,
  912                           STCLASS = CONSTANT) ;
  913
  914         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  915         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  916               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  917               (SUBSTR(STR,0,3) = 'EXT');
  918            %LSET INIT = CHARTEXT('INIT');
  919         %ELSE;
  920            %LSET INIT = CHARTEXT('/*');
  921         %ENDIF;
  922
  923         DCL 1 NAME STCLASS HALIGNED,
  924               2 SIZE   UBIN BYTE  UNAL %INIT(8) %CHARTEXT('/**/'),
  925               2 DATA   CHAR (8)   UNAL %INIT('REVISION') %CHARTEXT('/**/');
  926      %MEND;
  927      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         35   
  928      /*F*  NAME:        REVISION_B
  929            DESCRIPTION: This macro provides the IFAD REVISION BUFFER
  930                         dcl for the CP-6 deckfile editor.
  931      */
  932
  933      %MACRO REVISION_B (NAME    = REVISION_B,
  934                         STCLASS = STATIC) ;
  935
  936         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  937         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  938               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  939               (SUBSTR(STR,0,3) = 'EXT');
  940            %LSET INIT = CHARTEXT('INIT');
  941         %ELSE;
  942            %LSET INIT = CHARTEXT('/*');
  943         %ENDIF;
  944
  945         DCL 1 NAME STCLASS,
  946               2 VERSION                CHAR (6) CALIGNED
  947                                        %INIT (' ') %CHARTEXT ('/**/'),
  948               2 MASK                   CHAR (4) CALIGNED
  949                                        %INIT ('CP-6') %CHARTEXT ('/**/'),
  950               2 MAINTENANCE REDEF MASK CALIGNED,
  951                 3 *                    BIT (22) UNAL,
  952                 3 CONTRACT             BIT (1) UNAL,
  953                 3 *                    BIT (13) UNAL,
  954               2 DEER                   CHAR (11) CALIGNED
  955                                        %INIT (' ') %CHARTEXT ('/**/') ;
  956      %MEND ;
  957      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         36   
  958      /*F*  NAME:        LOG_KEY
  959            DESCRIPTION: This macro provides the DECKFILE HISTORY LOG KEY
  960                         dcl for the CP-6 deckfile editor.
  961      */
  962
  963      %MACRO LOG_KEY (NAME    = LOG_KEY,
  964                      STCLASS = CONSTANT) ;
  965
  966         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  967         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  968               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  969               (SUBSTR(STR,0,3) = 'EXT');
  970            %LSET INIT = CHARTEXT('INIT');
  971         %ELSE;
  972            %LSET INIT = CHARTEXT('/*');
  973         %ENDIF;
  974
  975         DCL 1 NAME STCLASS HALIGNED,
  976               2 SIZE   UBIN BYTE  UNAL %INIT(8) %CHARTEXT('/**/'),
  977               2 DATA   CHAR (8)  UNAL %INIT('HIST_LOG') %CHARTEXT('/**/');
  978      %MEND;
  979      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         37   
  980      /*F*  NAME:        LOG_B
  981            DESCRIPTION: This macro provides the DECKFILE LOG BUFFER
  982                         dcl for the CP-6 deckfile editor.
  983      */
  984
  985      %MACRO LOG_B (NAME    = LOG_B,
  986                    STCLASS = STATIC) ;
  987
  988         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
  989         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
  990               (SUBSTR(STR,0,8) = 'CONSTANT') OR
  991               (SUBSTR(STR,0,3) = 'EXT');
  992            %LSET INIT = CHARTEXT('INIT');
  993         %ELSE;
  994            %LSET INIT = CHARTEXT('/*');
  995         %ENDIF;
  996
  997         DCL 1 NAME STCLASS,
  998               2 COUNT    UBIN BYTE CALIGNED
  999                          %INIT (0) %CHARTEXT ('/**/'),
 1000               2 ACCESSES (0:%(MAX_ACCESSES - 1)),
 1001                 3 TYPE   UBIN BYTE CALIGNED
 1002                          %INIT (0*%MAX_ACCESSES) %CHARTEXT ('/**/'),
 1003                 3 DATE   CHAR (8) CALIGNED
 1004                          %INIT (' '*%MAX_ACCESSES) %CHARTEXT ('/**/'),
 1005                 3 TIME   CHAR (11) CALIGNED
 1006                          %INIT (' '*%MAX_ACCESSES) %CHARTEXT ('/**/'),
 1007                 3 CATALOG CHAR (21) CALIGNED
 1008                          %INIT (' '*%MAX_ACCESSES) %CHARTEXT ('/**/'),
 1009                 3 DECK   CHAR (23) CALIGNED
 1010                          %INIT (' '*%MAX_ACCESSES) %CHARTEXT ('/**/'),
 1011                 3 IFAD   CHAR (40) CALIGNED
 1012                          %INIT (' '*%MAX_ACCESSES) %CHARTEXT ('/**/') ;
 1013      %MEND ;
 1014      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         38   
 1015      /*F*  NAME:        RECORD
 1016            DESCRIPTION: This macro provides the RECORD
 1017                         dcl for the CP-6 deckfile editor.
 1018      */
 1019
 1020      %MACRO RECORD (NAME    = RECORD,
 1021                     STCLASS = STATIC) ;
 1022
 1023         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
 1024         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
 1025               (SUBSTR(STR,0,8) = 'CONSTANT') OR
 1026               (SUBSTR(STR,0,3) = 'EXT');
 1027            %LSET INIT = CHARTEXT('INIT');
 1028         %ELSE;
 1029            %LSET INIT = CHARTEXT('/*');
 1030         %ENDIF;
 1031
 1032         DCL 1 NAME STCLASS ALIGNED,
 1033               2 SIZE          UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
 1034               2 *             UBIN HALF UNAL %INIT(0) %CHARTEXT('/**/'),
 1035               2 BCD,
 1036                 3 DATA (0:79) UBIN (6) UNAL  %INIT(0*80) %CHARTEXT('/**/'),
 1037                 3 *           UBIN (24) UNAL %INIT(0) %CHARTEXT('/**/'),
 1038                 3 *           CHAR (52) UNAL %INIT(' ') %CHARTEXT('/**/'),
 1039               2 BINARY REDEF BCD,
 1040                 3 DATA,
 1041                   4 BINARY     CHAR (96) ALIGNED,
 1042                   4 CS REDEF BINARY ALIGNED,
 1043                     5 WD1      UBIN WORD ALIGNED,
 1044                     5 CHECKSUM UBIN WORD ALIGNED,
 1045                     5 DATA     CHAR (88) ALIGNED,
 1046                   4 LBL_SEQ    (0:7) BIT (12) UNAL,
 1047                   4 *          BIT  (12) UNAL,
 1048               2 DATA (0:26) REDEF BCD UBIN WORD ALIGNED;
 1049      %MEND;
 1050      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         39   
 1051      /*F*  NAME:        ID
 1052            DESCRIPTION: This macro provides the ID
 1053                         dcl for the CP-6 deckfile editor.
 1054      */
 1055
 1056      %MACRO ID (NAME    = ID,
 1057                 STCLASS = STATIC) ;
 1058
 1059         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
 1060         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
 1061               (SUBSTR(STR,0,8) = 'CONSTANT') OR
 1062               (SUBSTR(STR,0,3) = 'EXT');
 1063            %LSET INIT = CHARTEXT('INIT');
 1064         %ELSE;
 1065            %LSET INIT = CHARTEXT('/*');
 1066         %ENDIF;
 1067
 1068         DCL 1 NAME STCLASS CALIGNED,
 1069               2 ID            CHAR (6) UNAL %INIT(' ') %CHARTEXT('/**/'),
 1070               2 REVISION      CHAR (6) UNAL %INIT(' ') %CHARTEXT('/**/'),
 1071               2 REV REDEF REVISION,
 1072                 3 *           CHAR (4) UNAL,
 1073                 3 LEVEL       CHAR (2) UNAL,
 1074               2 USAGE         CHAR (6) UNAL %INIT(' ') %CHARTEXT('/**/') ;
 1075      %MEND;
 1076      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         40   
 1077      /*F*  NAME:        CATALOG_SEARCH_KEY
 1078            DESCRIPTION: This macro provides the CATALOG_SEARCH_KEY
 1079                         dcl for the CP-6 deckfile editor.
 1080      */
 1081
 1082      %MACRO CATALOG_SEARCH_KEY (NAME    = CATALOG_SEARCH_KEY,
 1083                                 STCLASS = STATIC) ;
 1084
 1085         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
 1086         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
 1087               (SUBSTR(STR,0,8) = 'CONSTANT') OR
 1088               (SUBSTR(STR,0,3) = 'EXT');
 1089            %LSET INIT = CHARTEXT('INIT');
 1090         %ELSE;
 1091            %LSET INIT = CHARTEXT('/*');
 1092         %ENDIF;
 1093
 1094         DCL 1 NAME STCLASS CALIGNED,
 1095               2 DATA   CHAR (21) UNAL %INIT(' ') %CHARTEXT('/**/') ;
 1096      %MEND;
 1097      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         41   
 1098      /*F*  NAME:        OBJECT_SEARCH_KEY
 1099            DESCRIPTION: This macro provides the DECK_SEARCH_KEY
 1100                         dcl for the CP-6 deckfile editor.
 1101      */
 1102
 1103      %MACRO OBJECT_SEARCH_KEY (NAME    = OBJECT_SEARCH_KEY,
 1104                                STCLASS = STATIC) ;
 1105
 1106         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
 1107         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
 1108               (SUBSTR(STR,0,8) = 'CONSTANT') OR
 1109               (SUBSTR(STR,0,3) = 'EXT');
 1110            %LSET INIT = CHARTEXT('INIT');
 1111         %ELSE;
 1112            %LSET INIT = CHARTEXT('/*');
 1113         %ENDIF;
 1114
 1115         DCL 1 NAME STCLASS CALIGNED,
 1116               2 DATA   CHAR (23) UNAL %INIT(' ') %CHARTEXT('/**/') ;
 1117      %MEND;
 1118      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         42   
 1119      /*F*  NAME:        MCA_B
 1120            DESCRIPTION: This macro provides the MCA processing buffer
 1121                         dcl for the CP-6 deckfile editor.
 1122      */
 1123
 1124      %MACRO MCA_B (NAME    = MCA_B,
 1125                    STCLASS = STATIC) ;
 1126
 1127         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
 1128         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
 1129               (SUBSTR(STR,0,8) = 'CONSTANT') OR
 1130               (SUBSTR(STR,0,3) = 'EXT');
 1131            %LSET INIT = CHARTEXT('INIT');
 1132         %ELSE;
 1133            %LSET INIT = CHARTEXT('/*');
 1134         %ENDIF;
 1135
 1136         DCL 1 NAME STCLASS DALIGNED,
 1137               2 DCW_LIST ALIGNED,
 1138                 3 IDCW1     BIT (36) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1139                 3 DCW1,
 1140                   4 ADDRESS BIT (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1141                   4 COUNT   UBIN (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1142                 3 IDCW2     BIT (36) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1143                 3 DCW2,
 1144                   4 ADDRESS BIT (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1145                   4 COUNT   UBIN (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1146               2 COMMAND ALIGNED,
 1147                 3 HDR_BLK   CHAR (32) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1148                 3 DATA      CHAR (32) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1149               2 STATUS ALIGNED,
 1150                 3 TERMINATE BIT (1) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1151                 3 POWER     BIT (1) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1152                 3 MAJOR     BIT (4) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1153                 3 SUB,
 1154                   4 RDP     BIT (1) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1155                   4 VALUE   BIT (5) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         43   
 1156                 3 ODD_WORD  BIT (1) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1157                 3 MARKER    BIT (1) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1158                 3 *         BIT (2) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1159                 3 INITIATE  BIT (1) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1160                 3 *         BIT (1) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1161                 3 ADAPTER   BIT (6) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1162                 3 *         BIT (2) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1163                 3 WAS_R_W   BIT (1) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1164                 3 TERM_POS  BIT (3) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1165                 3 RESIDUE   BIT (6) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1166                 3 IIOC      BIT (36) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1167               2 DISKETTE_HEADER ALIGNED,
 1168                 3 HDR_BLK   CHAR (32) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1169                 3 DATA      CHAR (136) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1170               2 DIRECTORY ALIGNED,
 1171                 3 HDR_BLK   CHAR (32) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1172                 3 DATA      (0:%(MAX_DIR_ENTRIES - 1)) CHAR (16) UNAL
 1173                             %INIT (' ' * %MAX_DIR_ENTRIES) %CHARTEXT ('/**/'),
 1174                 3 SIZE      UBIN WORD ALIGNED %INIT (' ') %CHARTEXT ('/**/'),
 1175                 3 CURRENT   CHAR (16) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1176               2 FILE ALIGNED,
 1177                 3 HDR_BLK   CHAR (32) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1178                 3 DATA,
 1179                   4 HDR     CHAR (256) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1180                   4 LD_CTL  CHAR (256) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1181                   4 SECTORS (0:%(MAX_SECTORS - 3)) CHAR (256) UNAL
 1182                             %INIT (' ' * %(MAX_SECTORS - 2)) %CHARTEXT ('/**/'),
 1183                 3 SIZE      UBIN WORD ALIGNED %INIT (0) %CHARTEXT ('/**/') ,
 1184                 3 BYTES_READ UBIN WORD ALIGNED %INIT (0) %CHARTEXT ('/**/') ,
 1185               2 DUMMY_BUFFER ALIGNED,
 1186                 3 HDR_BLK    CHAR (32) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1187                 3 DATA_WORDS (0:%(MCA_READ_SZ - 9)) BIT (36) UNAL
 1188                   %INIT (0 * %(MCA_READ_SZ - 8)) %CHARTEXT ('/**/'),
 1189               2 CONFIG ALIGNED,
 1190                 3 HDR_BLK CHAR(32) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1191                 3 DATA CHAR(136) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1192                 3 DATA1 REDEF DATA,
15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         44   
 1193                   4 * CHAR(30) UNAL,
 1194                   4 NUMTAB UBIN(18) UNAL,
 1195                   4 * CHAR(104) UNAL;
 1196      %MEND ;
 1197      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         45   
 1198      /*F*  NAME:        HDR_BLK
 1199            DESCRIPTION: This macro is normally used to provide a based
 1200                         structure used to overlay and access a header
 1201                         block returned to DEER by the MCA.
 1202      */
 1203
 1204      %MACRO HDR_BLK (NAME    = HDR_BLK,
 1205                      STCLASS = STATIC) ;
 1206
 1207         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
 1208         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
 1209               (SUBSTR(STR,0,8) = 'CONSTANT') OR
 1210               (SUBSTR(STR,0,3) = 'EXT');
 1211            %LSET INIT = CHARTEXT('INIT');
 1212         %ELSE;
 1213            %LSET INIT = CHARTEXT('/*');
 1214         %ENDIF;
 1215
 1216         DCL 1 NAME STCLASS CALIGNED,
 1217               2 TYPE           BIT  (9)  UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1218               2 DEFINER        UBIN (9)  UNAL %INIT (3) %CHARTEXT ('/**/'),
 1219               2 CTL_SW         BIT  (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1220               2 HOST_STS       BIT  (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1221               2 RD_FLPY        BIT  (9)  UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1222               2 IO_PARAM_BLK,
 1223                 3 OPN          BIT  (9)  UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1224                 3 CMD          UBIN (18) UNAL %INIT (0) %CHARTEXT ('/**/'),
 1225                 3 STS_PTR      BIT  (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1226                 3 FILE_NAME    CHAR (8)  UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1227                 3 OPTIONS      BIT  (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1228                 3 SOURCE_PTR   BIT  (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1229                 3 SOURCE_LEN   UBIN (18) UNAL %INIT (0) %CHARTEXT ('/**/'),
 1230                 3 DEST_PTR     BIT  (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1231                 3 BLK_CT       UBIN (18) UNAL %INIT (0) %CHARTEXT ('/**/'),
 1232                 3 DEST_LEN     UBIN (18) UNAL %INIT (0) %CHARTEXT ('/**/') ;
 1233      %MEND ;
 1234      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         46   
 1235      /*F*  NAME:        DISKETTE_HEADER
 1236            DESCRIPTION: This macro is normally used to overlay and access
 1237                         a diskette header returned to DEER by the MCA.
 1238      */
 1239
 1240      %MACRO DISKETTE_HEADER (NAME    = DISKETTE_HEADER,
 1241                              STCLASS = STATIC) ;
 1242
 1243         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
 1244         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
 1245               (SUBSTR(STR,0,8) = 'CONSTANT') OR
 1246               (SUBSTR(STR,0,3) = 'EXT');
 1247            %LSET INIT = CHARTEXT('INIT');
 1248         %ELSE;
 1249            %LSET INIT = CHARTEXT('/*');
 1250         %ENDIF;
 1251
 1252         DCL 1 NAME STCLASS CALIGNED,
 1253               2 CPR          CHAR (55) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1254               2 TITLE        CHAR (8)  UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1255               2 UNIQUE_ID    CHAR (8)  UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1256               2 DATE_CREATED CHAR (6)  UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1257               2 DATE_CHANGED CHAR (6)  UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1258               2 SPACE_ADR    BIT  (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1259               2 *            BIT  (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1260               2 SPACE_SIZE   BIT  (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1261               2 DIR_ADR      BIT  (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1262               2 *            BIT  (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1263               2 DIR_SIZE     UBIN (18) UNAL %INIT (0) %CHARTEXT ('/**/'),
 1264               2 CONFIG_NAME  CHAR (8)  UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1265               2 *            BIT  (9)  UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1266               2 DISK_TYPE    UBIN (9)  UNAL %INIT (0) %CHARTEXT ('/**/'),
 1267               2 *            BIT  (9)  UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1268               2 EQUIP_TYPE   CHAR (4)  UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1269               2 IPI_NUM,
 1270                 3 IPI_NUM_VAL CHAR (9) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1271                 3 PRD_NUM_TAB CHAR (3) UNAL %INIT (' ') %CHARTEXT ('/**/'),
15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         47   
 1272               2 IPI_NUM_ REDEF IPI_NUM CHAR (12) UNAL,
 1273               2 DISK_DWG_NUM CHAR (12) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1274               2 X_OF_N,
 1275                 3 X           CHAR (1)  UNAL %INIT(' ') %CHARTEXT ('/**/'),
 1276                 3 N           CHAR (1)  UNAL %INIT(' ') %CHARTEXT ('/**/'),
 1277               2 X_OF_N_ REDEF X_OF_N CHAR (2) ;
 1278      %MEND ;
 1279      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         48   
 1280      /*F*  NAME:        DIRECTORY_ENTRY
 1281            DESCRIPTION: This macro is normally used to overlay and access
 1282                         an MCA diskette directory entry returned to DEER.
 1283      */
 1284
 1285      %MACRO DIRECTORY_ENTRY (NAME    = DIRECTORY_ENTRY,
 1286                              STCLASS = STATIC) ;
 1287
 1288         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
 1289         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
 1290               (SUBSTR(STR,0,8) = 'CONSTANT') OR
 1291               (SUBSTR(STR,0,3) = 'EXT');
 1292            %LSET INIT = CHARTEXT('INIT');
 1293         %ELSE;
 1294            %LSET INIT = CHARTEXT('/*');
 1295         %ENDIF;
 1296
 1297         DCL 1 NAME STCLASS CALIGNED,
 1298               2 PATH_NAME    CHAR (8)  UNAL
 1299                              %INIT (' ') %CHARTEXT ('/**/'),
 1300               2 PATH_NULL (0:1) REDEF PATH_NAME UBIN WORD UNAL ,
 1301               2 SECTOR_ADDR  BIT  (18) UNAL
 1302                              %INIT ('0'B) %CHARTEXT ('/**/'),
 1303               2 FILE_SIZE    UBIN (18) UNAL
 1304                              %INIT (0) %CHARTEXT ('/**/'),
 1305               2 *            BIT  (18) UNAL
 1306                              %INIT ('0'B) %CHARTEXT ('/**/'),
 1307               2 ATTRIBUTES_  BIT  (9)  UNAL
 1308                              %INIT ('0'B) %CHARTEXT ('/**/'),
 1309               2 ATTRIBUTES REDEF ATTRIBUTES_,
 1310                 3 *          BIT  (8)  UNAL,
 1311                 3 LSB        BIT  (1)  UNAL,
 1312               2 *            BIT  (9)  UNAL
 1313                              %INIT ('0'B) %CHARTEXT ('/**/') ;
 1314      %MEND ;
 1315      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         49   
 1316      /*F*  NAME:        DISKETTE_FILE
 1317            DESCRIPTION: This macro is normally used to overlay and access
 1318                         a file returned to DEER from a diskette.
 1319      */
 1320
 1321      %MACRO DISKETTE_FILE (NAME    = DISKETTE_FILE,
 1322                            STCLASS = STATIC) ;
 1323
 1324         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
 1325         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
 1326               (SUBSTR(STR,0,8) = 'CONSTANT') OR
 1327               (SUBSTR(STR,0,3) = 'EXT');
 1328            %LSET INIT = CHARTEXT('INIT');
 1329         %ELSE;
 1330            %LSET INIT = CHARTEXT('/*');
 1331         %ENDIF;
 1332
 1333         DCL 1 NAME STCLASS CALIGNED,
 1334               2 HDR,
 1335                 3 MODULE_TYPE  CHAR (4)  UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1336                 3 EQUIP_TYPE   CHAR (4)  UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1337                 3 UNIQUE_NAME  CHAR (8)  UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1338                 3 MOD_DWG_NUM  CHAR (12) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1339                 3 TTL_DATE     CHAR (6)  UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1340                 3 PGM_REV      CHAR (1)  UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1341                 3 DISK_TAB     UBIN (9)  UNAL %INIT (0) %CHARTEXT ('/**/'),
 1342                 3 HEADER_LGTH  BIT  (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1343                 3 *            CHAR (218) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1344               2 LD_CTL,
 1345                 3 REC_TYPE     UBIN (9)  UNAL %INIT (0) %CHARTEXT ('/**/'),
 1346                 3 REC_LEN      UBIN (18) UNAL %INIT (0) %CHARTEXT ('/**/'),
 1347                 3 CODE_TYPE    UBIN (9)  UNAL %INIT (0) %CHARTEXT ('/**/'),
 1348                 3 DIR_ENTRIES  UBIN (9)  UNAL %INIT (0) %CHARTEXT ('/**/'),
 1349                 3 *            CHAR (8)  UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1350                 3 NEXT_ALTER   UBIN (9)  UNAL %INIT (0) %CHARTEXT ('/**/'),
 1351                 3 EXEC_CS      BIT  (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
 1352                 3 EXEC_IP      BIT  (18) UNAL %INIT ('0'B) %CHARTEXT ('/**/'),
15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         50   
 1353                 3 LD_CTL_CKSUM UBIN (9)  UNAL %INIT (0) %CHARTEXT ('/**/'),
 1354                 3 FRAME_COUNT  UBIN (9)  UNAL %INIT (0) %CHARTEXT ('/**/'),
 1355                 3 FRAME,
 1356                   4 ADR_UPPER  (0:%(MAX_FRAME_ADRS - 1)) BIT (9) UNAL
 1357                                %INIT ('0'B * %MAX_FRAME_ADRS) %CHARTEXT ('/**/'),
 1358                   4 ADR_LOWER  (0:%(MAX_FRAME_ADRS - 1)) BIT (18) UNAL
 1359                                %INIT ('0'B * %MAX_FRAME_ADRS) %CHARTEXT ('/**/'),
 1360                   4 SIZE       (0:%(MAX_FRAME_ADRS - 1)) BIT (18) UNAL
 1361                                %INIT ('0'B * %MAX_FRAME_ADRS) %CHARTEXT ('/**/'),
 1362                 3 *            CHAR (76) UNAL %INIT (' ') %CHARTEXT ('/**/'),
 1363               2 SECTORS        (0:%(MAX_SECTORS - 3)) CHAR (256) UNAL
 1364                                %INIT (' ' * %(MAX_SECTORS - 2)) %CHARTEXT ('/**/') ;
 1365      %MEND ;
 1366      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         51   
 1367      /*F*  NAME:        DISKETTE_READ_BUFFER
 1368            DESCRIPTION: Common diskette read buffer area of MCA_READ_SZ
 1369                         words.
 1370      */
 1371
 1372      %MACRO DISKETTE_READ_BUFFER (NAME    = DISKETTE_READ_BUFFER,
 1373                                   STCLASS = STATIC) ;
 1374
 1375         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
 1376         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
 1377               (SUBSTR(STR,0,8) = 'CONSTANT') OR
 1378               (SUBSTR(STR,0,3) = 'EXT');
 1379            %LSET INIT = CHARTEXT('INIT');
 1380         %ELSE;
 1381            %LSET INIT = CHARTEXT('/*');
 1382         %ENDIF;
 1383
 1384         DCL 1 NAME STCLASS CALIGNED,
 1385               2 DATA_WORD      (0:%(MCA_READ_SZ-1)) BIT (36) UNAL;
 1386      %MEND ;
 1387      %EJECT ;

15:17 JUL 28 '97 TOU_DEER_M.:E05SI                                         52   
 1388      /*F* NAME:         TOU$DEER
 1389           DESCRIPTION:  This macro provides a declaration for the DEER
 1390                         version information.
 1391      */
 1392      %MACRO TOU$DEER (FPTN    = TOU$DEER,
 1393                        STCLASS = STATIC) ;
 1394
 1395         %LSET STR = CONCAT (TEXTCHAR(STCLASS),'        ');
 1396         %IF (SUBSTR(STR,0,6) = 'STATIC')     OR
 1397               (SUBSTR(STR,0,8) = 'CONSTANT') OR
 1398               (SUBSTR(STR,0,3) = 'EXT');
 1399            %LSET INIT = CHARTEXT('INIT');
 1400         %ELSE;
 1401            %LSET INIT = CHARTEXT('/*');
 1402         %ENDIF;
 1403
 1404         DCL 1 FPTN STCLASS,
 1405               2 LINK_DATE,
 1406                 3 ASCII     CHAR (6) CALIGNED %INIT (' ') %CHARTEXT ('/**/'),
 1407               2 LINK_TIME   CHAR (8) CALIGNED %INIT (' ') %CHARTEXT ('/**/');
 1408      %MEND;
 1409
 1410      /* End of Macros */


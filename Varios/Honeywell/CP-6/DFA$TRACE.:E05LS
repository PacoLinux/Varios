VERSION E05

PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:1    
        1        1        /*M* DFA$TRACE - Trace DO Routine for FEP programs */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        /*D* NAME:  DFA$TRACE
        9        9             DESCRIPTION:  DFA$TRACE IS CALLED WHEN A TRACE {TYPE}
       10       10                    COMMAND IS ISSUED (DIRECTLY OR AS AN
       11       11                    ATTACHMENT.  TYPE = CALLS(X) OR TRANSFER OR OFF.
       12       12                    */
       13       13        DFA$TRACE: PROC;
       14       14        /* Local Auto */
       15       15    1   DCL TEMP$ PTR;
       16       16    1   DCL TEMP1 REDEF TEMP$ UBIN(36) ALIGNED;
       17       17    1   DCL 1 TEMP1B REDEF TEMP$ ALIGNED,
       18       18    1         2 * UBIN(4) UNAL,
       19       19    1         2 B1 UBIN(8) UNAL,
       20       20    1         2 B2 UBIN(8) UNAL,
       21       21    1         2 B3 UBIN(8) UNAL,
       22       22    1         2 B4 UBIN(8) UNAL;
       23       23    1   DCL TEMP2 UBIN(36) ALIGNED;
       24       24    1   DCL 1 TEMP2B REDEF TEMP2 ALIGNED,
       25       25    1         2 * BIT(1) UNAL,
       26       26    1         2 B1 UBIN(8) UNAL,
       27       27    1         2 * BIT(1) UNAL,
       28       28    1         2 B2 UBIN(8) UNAL,
       29       29    1         2 * BIT(1) UNAL,
       30       30    1         2 B3 UBIN(8) UNAL,
       31       31    1         2 * BIT(1) UNAL,
       32       32    1         2 B4 UBIN(8) UNAL;
       33       33        /* Includes and Based Structures */
       34       34        %INCLUDE XUH_MACRO_C;
       35      118        %INCLUDE DD_SD_M;
       36     1454        %S_D;
       37     2772        %S_D_PTRS;
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:2    
       38     2809        %INCLUDE DD_ERR_C;
       39     3206        %INCLUDE DD_SUBS_C;
       40     3477        %INCLUDE DD_PSUBS_C;
       41     3952        %INCLUDE GD$MSG_M;
       42     4116        %GD$MSG(FPTN=GD$MSG,STCLASS="BASED(S_D_L6_MESSAGE$)",L6=YES,L6PTR="UBIN(32) UNAL");
       43     4272        %GD$MSG(FPTN=GD$MSG_HOST,STCLASS="BASED(S_D_HOST_MESSAGE$)",L6=NO);
       44     4428        %INCLUDE GD_EQUS_E;
       45     4589        %INCLUDE DD$BASED;
       46     5892        %TR$CMD;
       47     5908        %FPRG$CONTEXT;
       48     5971        /* Entry DCLs */
       49     5972    1   DCL DDE$ERROR ENTRY;
       50     5973    1   DCL DFQ$READ_FD ENTRY(2) ALTRET;
       51     5974    1   DCL DFQ$WRITE_FD ENTRY(1) ALTRET;
       52     5975    1   DCL DUE$ERRMSG ENTRY;
       53     5976    1   DCL DUE$GERRMSG ENTRY;
       54     5977        /**/
       55     5978    1        GOTO START;
       56     5979        /**/
       57     5980    1   DFA$TRACEOFF: ENTRY;
       58     5981
       59     5982    1        GD$MSG = '0'B;
       60     5983    1        GD$MSG.FNC = %GD#RQSTROFF;
       61     5984    1        S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.ACTIVE = '0'B;
       62     5985    1        GOTO WRITE;
       63     5986        /**/
       64     5987    1   START: ;
       65     5988    1        GD$MSG = '0'B;
       66     5989    1        IF S_D.DO$->TR$CMD.TYPE = C@INSTRUCTIONS OR S_D.DO$->TR$CMD.TYPE =
              5989                 C@SUBSTATEMENTS
       67     5990    2        THEN DO;
       68     5991    2             S_D.ERROR = E@NOTYET;         /* E@NOTYET */
       69     5992    2             CALL DDE$ERROR;
       70     5993    2             RETURN;
       71     5994    2           END;
       72     5995    1        IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.ONCALLS ~= 0
       73     5996    2        THEN DO;
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:3    
       74     5997    2             S_D.ERROR = E@CANT_TR_ONCALLS; /* E@CANT_TR_ONCALLS */
       75     5998    2             CALL DDE$ERROR;
       76     5999    2             RETURN;
       77     6000    2           END;
       78     6001    1        IF S_D.DO$ -> TR$CMD.TYPE = C_TO   /* TRACE OFF */
       79     6002    2        THEN DO;
       80     6003    2             GD$MSG.FNC = %GD#RQSTROFF;
       81     6004    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.ACTIVE = '0'B;
       82     6005    2           END;
       83     6006    1        IF S_D.DO$ -> TR$CMD.TYPE = C_TON  /* TRACE ON */
       84     6007    2        THEN DO;
       85     6008    2             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.SET = '0'B
       86     6009    3             THEN DO;
       87     6010    3                  S_D.ERROR = E@NO_TRACE_INFO; /* E@NO_TRACE_INFO */
       88     6011    3                  CALL DDE$ERROR;
       89     6012    3                  RETURN;
       90     6013    3                END;
       91     6014    2             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.TRANSFERS
       92     6015    2             THEN GD$MSG.FNC = %GD#RQSTRTRANSFERS;
       93     6016    2             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.CALLS
       94     6017    2             THEN GD$MSG.FNC = %GD#RQSTRCALLS;
       95     6018    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.ACTIVE = '1'B;
       96     6019    2           END;
       97     6020    1        IF S_D.DO$ -> TR$CMD.TYPE = C_TT   /* TRACE TRANSFERS */
       98     6021    2        THEN DO;
       99     6022    2             GD$MSG.FNC = %GD#RQSTRTRANSFERS;
      100     6023    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.TRANSFERS = '1'B;
      101     6024    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.CALLS = '0'B;
      102     6025    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.ACTIVE = '1'B;
      103     6026    2           END;
      104     6027    1        IF S_D.DO$ -> TR$CMD.TYPE = C_TC   /* TRACE CALLS */
      105     6028    2        THEN DO;
      106     6029    2             GD$MSG.FNC = %GD#RQSTRCALLS;
      107     6030    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.TRANSFERS = '0'B;
      108     6031    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.CALLS = '1'B;
      109     6032    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.ACTIVE = '1'B;
      110     6033    2           END;
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:4    
      111     6034    1        S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.SET = '1'B;
      112     6035    1        S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.XCALLS = S_D.DO$ -> TR$CMD.
              6035                 XTERNAL;
      113     6036    1        S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.SILENT = S_D.DO$ -> TR$CMD.
              6036                 SILENT;
      114     6037    1        S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.P = S_D.DO$ -> TR$CMD.PREFIX;
      115     6038    1        IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.P
      116     6039    2        THEN DO;
      117     6040    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.PSIZ = S_D.DO$ -> TR$CMD
              6040                      .PSIZ;
      118     6041    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.PTXT = S_D.DO$ -> TR$CMD
              6041                      .PTXT;
      119     6042    2           END;
      120     6043    1   WRITE: ;
      121     6044    1        CALL DFQ$WRITE_FD(S_D.CURRENT_FPRG_CONTEXT$) ALTRET(ERR);
      122     6045    1        CALL DFQ$READ_FD(S_D.CURRENT_FPRG_CONTEXT$, '0'B) ALTRET(ERR);
      123     6046    1        IF GD$MSG.FNC ~= %GD#RSPACK
      124     6047    2        THEN DO;
      125     6048    2             IF S_D.CURRENT_FPRG_CONTEXT$ -> S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.
              6048                      XDELTA AND
      126     6049    2               GD$MSG.FNC = %GD#RSPBADMSG
      127     6050    3             THEN DO;
      128     6051    3                  S_D.ERROR = E@BADMSG;    /* E@BADMSG */
      129     6052    3                  CALL DDE$ERROR;
      130     6053    3                  RETURN;
      131     6054    3                END;
      132     6055    2             IF GD$MSG.FNC = %GD#RSPNAK
      133     6056    3             THEN DO;
      134     6057    3                  IF S_D.CURRENT_FPRG_CONTEXT$ -> S_D.CURRENT_FPRG_CONTEXT$ ->
              6057                           FPRG$CONTEXT.XDELTA
      135     6058    4                  THEN DO;
      136     6059    4                       TEMP1 = BITBIN(GD$MSG.ERROR_D.ERRCODE);
      137     6060    4                       TEMP2B.B1 = TEMP1B.B1;
      138     6061    4                       TEMP2B.B2 = TEMP1B.B2;
      139     6062    4                       TEMP2B.B3 = TEMP1B.B3;
      140     6063    4                       TEMP2B.B4 = TEMP1B.B4;
      141     6064    4                       S_D.JDE = TEMP2;
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:5    
      142     6065    4                     END;
      143     6066    3                  ELSE S_D.JDE = BITBIN(GD$MSG_HOST.ERROR_D.ERRCODE);
      144     6067    3                  CALL DUE$GERRMSG;
      145     6068    3                  RETURN;
      146     6069    3                END;
      147     6070    2             S_D.ERROR = E@DELBUG;         /* E@DELBUG */
      148     6071    2             CALL DDE$ERROR;
      149     6072    2             RETURN;
      150     6073    2           END;
      151     6074    1        RETURN;
      152     6075    1   ERR: ;
      153     6076    1        CALL DUE$ERRMSG;
      154     6077    1        RETURN;
      155     6078    1   END DFA$TRACE;
      156     6079        %EOD;

PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:6    
--  Include file information  --

   DD$BASED.:E05TOU  is referenced.
   GD_EQUS_E.:E05TOU  is referenced.
   GD$MSG_M.:E05TOU  is referenced.
   DD_PSUBS_C.:E05TOU  is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DFA$TRACE.

   Procedure DFA$TRACE requires 253 words for executable code.
   Procedure DFA$TRACE requires 8 words of local(AUTO) storage.

PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:7    

 Object Unit name= DFA$TRACE                                  File name= DFA$TRACE.:E05TOU
 UTS= JUL 29 '97 14:36:37.12 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none   253    375  DFA$TRACE
    1  RoData even  none     9     11  DFA$TRACE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes            yes      Std        0  DFA$TRACE
     0      3                  yes      Std        0  DFA$TRACEOFF

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       0 DDE$ERROR
 yes     yes           Std       1 DFQ$WRITE_FD
 yes     yes           Std       2 DFQ$READ_FD
         yes           Std       0 DUE$GERRMSG
         yes           Std       0 DUE$ERRMSG
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:8    

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    S_D$                             r    S_D_HOST_MESSAGE$                r    S_D_L6_MESSAGE$
     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:9    


        1        1        /*M* DFA$TRACE - Trace DO Routine for FEP programs */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        /*D* NAME:  DFA$TRACE
        9        9             DESCRIPTION:  DFA$TRACE IS CALLED WHEN A TRACE {TYPE}
       10       10                    COMMAND IS ISSUED (DIRECTLY OR AS AN
       11       11                    ATTACHMENT.  TYPE = CALLS(X) OR TRANSFER OR OFF.
       12       12                    */
       13       13        DFA$TRACE: PROC;

     13  0 000000   000000 700200 xent  DFA$TRACE    TSX0  ! X66_AUTO_0
         0 000001   000010 000000                    ZERO    8,0

       14       14        /* Local Auto */
       15       15    1   DCL TEMP$ PTR;
       16       16    1   DCL TEMP1 REDEF TEMP$ UBIN(36) ALIGNED;
       17       17    1   DCL 1 TEMP1B REDEF TEMP$ ALIGNED,
       18       18    1         2 * UBIN(4) UNAL,
       19       19    1         2 B1 UBIN(8) UNAL,
       20       20    1         2 B2 UBIN(8) UNAL,
       21       21    1         2 B3 UBIN(8) UNAL,
       22       22    1         2 B4 UBIN(8) UNAL;
       23       23    1   DCL TEMP2 UBIN(36) ALIGNED;
       24       24    1   DCL 1 TEMP2B REDEF TEMP2 ALIGNED,
       25       25    1         2 * BIT(1) UNAL,
       26       26    1         2 B1 UBIN(8) UNAL,
       27       27    1         2 * BIT(1) UNAL,
       28       28    1         2 B2 UBIN(8) UNAL,
       29       29    1         2 * BIT(1) UNAL,
       30       30    1         2 B3 UBIN(8) UNAL,
       31       31    1         2 * BIT(1) UNAL,
       32       32    1         2 B4 UBIN(8) UNAL;
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:10   
       33       33        /* Includes and Based Structures */
       34       34        %INCLUDE XUH_MACRO_C;
       35      118        %INCLUDE DD_SD_M;
       36     1454        %S_D;
       37     2772        %S_D_PTRS;
       38     2809        %INCLUDE DD_ERR_C;
       39     3206        %INCLUDE DD_SUBS_C;
       40     3477        %INCLUDE DD_PSUBS_C;
       41     3952        %INCLUDE GD$MSG_M;
       42     4116        %GD$MSG(FPTN=GD$MSG,STCLASS="BASED(S_D_L6_MESSAGE$)",L6=YES,L6PTR="UBIN(32) UNAL");
       43     4272        %GD$MSG(FPTN=GD$MSG_HOST,STCLASS="BASED(S_D_HOST_MESSAGE$)",L6=NO);
       44     4428        %INCLUDE GD_EQUS_E;
       45     4589        %INCLUDE DD$BASED;
       46     5892        %TR$CMD;
       47     5908        %FPRG$CONTEXT;
       48     5971        /* Entry DCLs */
       49     5972    1   DCL DDE$ERROR ENTRY;
       50     5973    1   DCL DFQ$READ_FD ENTRY(2) ALTRET;
       51     5974    1   DCL DFQ$WRITE_FD ENTRY(1) ALTRET;
       52     5975    1   DCL DUE$ERRMSG ENTRY;
       53     5976    1   DCL DUE$GERRMSG ENTRY;
       54     5977        /**/
       55     5978    1        GOTO START;

   5978  0 000002   000022 710000 0                  TRA     START

       56     5979        /**/
       57     5980    1   DFA$TRACEOFF: ENTRY;

   5980  0 000003   000000 700200 xent  DFA$TRACEOFF TSX0  ! X66_AUTO_0
         0 000004   000010 000000                    ZERO    8,0

       58     5981
       59     5982    1        GD$MSG = '0'B;

   5982  0 000005   000000 470400 xsym               LDP0    S_D_L6_MESSAGE$
         0 000006   003100 060400                    CSL     bolr='003'O
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:11   
         0 000007   000002 000001 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=1
         0 000010   000000 004720                    BDSC    0,,PR0                   by=0,bit=0,n=2512

       60     5983    1        GD$MSG.FNC = %GD#RQSTROFF;

   5983  0 000011   000000 236100                    LDQ     0,,PR0
         0 000012   000000 376000 1                  ANQ     0
         0 000013   024000 276003                    ORQ     10240,DU
         0 000014   000000 756100                    STQ     0,,PR0

       61     5984    1        S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.ACTIVE = '0'B;

   5984  0 000015   000000 471400 xsym               LDP1    S_D$
         0 000016   100102 473500                    LDP3    66,,PR1
         0 000017   000001 236000 1                  LDQ     1
         0 000020   300062 356100                    ANSQ    50,,PR3

       62     5985    1        GOTO WRITE;

   5985  0 000021   000242 710000 0                  TRA     WRITE

   5984  0 000022                       START        null
       63     5986        /**/
       64     5987    1   START: ;
       65     5988    1        GD$MSG = '0'B;

   5988  0 000022   000000 470400 xsym               LDP0    S_D_L6_MESSAGE$
         0 000023   003100 060400                    CSL     bolr='003'O
         0 000024   000002 000001 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=1
         0 000025   000000 004720                    BDSC    0,,PR0                   by=0,bit=0,n=2512

       66     5989    1        IF S_D.DO$->TR$CMD.TYPE = C@INSTRUCTIONS OR S_D.DO$->TR$CMD.TYPE =
              5989                 C@SUBSTATEMENTS

   5989  0 000026   000000 471400 xsym               LDP1    S_D$
         0 000027   100031 473500                    LDP3    25,,PR1
         0 000030   300001 236100                    LDQ     1,,PR3
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:12   
         0 000031   000002 376000 1                  ANQ     2
         0 000032   000003 116000 1                  CMPQ    3
         0 000033   000036 600000 0                  TZE     s:5991
         0 000034   000004 116000 1                  CMPQ    4
         0 000035   000044 601000 0                  TNZ     s:5995

       67     5990    2        THEN DO;

       68     5991    2             S_D.ERROR = E@NOTYET;         /* E@NOTYET */

   5991  0 000036   000042 235007                    LDA     34,DL
         0 000037   100013 755100                    STA     11,,PR1

       69     5992    2             CALL DDE$ERROR;

   5992  0 000040   000002 631400 xsym               EPPR1   B_VECTNIL+2
         0 000041   000000 701000 xent               TSX1    DDE$ERROR
         0 000042   000000 011000                    NOP     0

       70     5993    2             RETURN;

   5993  0 000043   000000 702200 xent               TSX2  ! X66_ARET

       71     5994    2           END;
       72     5995    1        IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.ONCALLS ~= 0

   5995  0 000044   100102 474500                    LDP4    66,,PR1
         0 000045   400062 236100                    LDQ     50,,PR4
         0 000046   001776 316003                    CANQ    1022,DU
         0 000047   000056 600000 0                  TZE     s:6001

       73     5996    2        THEN DO;

       74     5997    2             S_D.ERROR = E@CANT_TR_ONCALLS; /* E@CANT_TR_ONCALLS */

   5997  0 000050   000342 235007                    LDA     226,DL
         0 000051   100013 755100                    STA     11,,PR1
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:13   

       75     5998    2             CALL DDE$ERROR;

   5998  0 000052   000002 631400 xsym               EPPR1   B_VECTNIL+2
         0 000053   000000 701000 xent               TSX1    DDE$ERROR
         0 000054   000000 011000                    NOP     0

       76     5999    2             RETURN;

   5999  0 000055   000000 702200 xent               TSX2  ! X66_ARET

       77     6000    2           END;
       78     6001    1        IF S_D.DO$ -> TR$CMD.TYPE = C_TO   /* TRACE OFF */

   6001  0 000056   300001 236100                    LDQ     1,,PR3
         0 000057   000002 376000 1                  ANQ     2
         0 000060   060000 116007                    CMPQ    24576,DL
         0 000061   000071 601000 0                  TNZ     s:6006

       79     6002    2        THEN DO;

       80     6003    2             GD$MSG.FNC = %GD#RQSTROFF;

   6003  0 000062   000000 236100                    LDQ     0,,PR0
         0 000063   000000 376000 1                  ANQ     0
         0 000064   024000 276003                    ORQ     10240,DU
         0 000065   000000 756100                    STQ     0,,PR0

       81     6004    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.ACTIVE = '0'B;

   6004  0 000066   100102 473500                    LDP3    66,,PR1
         0 000067   000001 236000 1                  LDQ     1
         0 000070   300062 356100                    ANSQ    50,,PR3

       82     6005    2           END;

       83     6006    1        IF S_D.DO$ -> TR$CMD.TYPE = C_TON  /* TRACE ON */
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:14   

   6006  0 000071   100031 473500                    LDP3    25,,PR1
         0 000072   300001 236100                    LDQ     1,,PR3
         0 000073   000002 376000 1                  ANQ     2
         0 000074   061000 116007                    CMPQ    25088,DL
         0 000075   000131 601000 0                  TNZ     s:6020

       84     6007    2        THEN DO;

       85     6008    2             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.SET = '0'B

   6008  0 000076   100102 474500                    LDP4    66,,PR1
         0 000077   400062 236100                    LDQ     50,,PR4
         0 000100   400000 316007                    CANQ    -131072,DL
         0 000101   000110 601000 0                  TNZ     s:6014

       86     6009    3             THEN DO;

       87     6010    3                  S_D.ERROR = E@NO_TRACE_INFO; /* E@NO_TRACE_INFO */

   6010  0 000102   000160 235007                    LDA     112,DL
         0 000103   100013 755100                    STA     11,,PR1

       88     6011    3                  CALL DDE$ERROR;

   6011  0 000104   000002 631400 xsym               EPPR1   B_VECTNIL+2
         0 000105   000000 701000 xent               TSX1    DDE$ERROR
         0 000106   000000 011000                    NOP     0

       89     6012    3                  RETURN;

   6012  0 000107   000000 702200 xent               TSX2  ! X66_ARET

       90     6013    3                END;
       91     6014    2             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.TRANSFERS

   6014  0 000110   200000 316007                    CANQ    65536,DL
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:15   
         0 000111   000116 600000 0                  TZE     s:6016

       92     6015    2             THEN GD$MSG.FNC = %GD#RQSTRTRANSFERS;

   6015  0 000112   000000 236100                    LDQ     0,,PR0
         0 000113   000000 376000 1                  ANQ     0
         0 000114   016000 276003                    ORQ     7168,DU
         0 000115   000000 756100                    STQ     0,,PR0

       93     6016    2             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.CALLS

   6016  0 000116   100102 473500                    LDP3    66,,PR1
         0 000117   300062 236100                    LDQ     50,,PR3
         0 000120   100000 316007                    CANQ    32768,DL
         0 000121   000126 600000 0                  TZE     s:6018

       94     6017    2             THEN GD$MSG.FNC = %GD#RQSTRCALLS;

   6017  0 000122   000000 236100                    LDQ     0,,PR0
         0 000123   000000 376000 1                  ANQ     0
         0 000124   022000 276003                    ORQ     9216,DU
         0 000125   000000 756100                    STQ     0,,PR0

       95     6018    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.ACTIVE = '1'B;

   6018  0 000126   100102 473500                    LDP3    66,,PR1
         0 000127   004000 236007                    LDQ     2048,DL
         0 000130   300062 256100                    ORSQ    50,,PR3

       96     6019    2           END;

       97     6020    1        IF S_D.DO$ -> TR$CMD.TYPE = C_TT   /* TRACE TRANSFERS */

   6020  0 000131   100031 473500                    LDP3    25,,PR1
         0 000132   300001 236100                    LDQ     1,,PR3
         0 000133   000002 376000 1                  ANQ     2
         0 000134   057000 116007                    CMPQ    24064,DL
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:16   
         0 000135   000153 601000 0                  TNZ     s:6027

       98     6021    2        THEN DO;

       99     6022    2             GD$MSG.FNC = %GD#RQSTRTRANSFERS;

   6022  0 000136   000000 236100                    LDQ     0,,PR0
         0 000137   000000 376000 1                  ANQ     0
         0 000140   016000 276003                    ORQ     7168,DU
         0 000141   000000 756100                    STQ     0,,PR0

      100     6023    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.TRANSFERS = '1'B;

   6023  0 000142   100102 473500                    LDP3    66,,PR1
         0 000143   200000 236007                    LDQ     65536,DL
         0 000144   300062 256100                    ORSQ    50,,PR3

      101     6024    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.CALLS = '0'B;

   6024  0 000145   100102 473500                    LDP3    66,,PR1
         0 000146   000005 236000 1                  LDQ     5
         0 000147   300062 356100                    ANSQ    50,,PR3

      102     6025    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.ACTIVE = '1'B;

   6025  0 000150   100102 473500                    LDP3    66,,PR1
         0 000151   004000 236007                    LDQ     2048,DL
         0 000152   300062 256100                    ORSQ    50,,PR3

      103     6026    2           END;

      104     6027    1        IF S_D.DO$ -> TR$CMD.TYPE = C_TC   /* TRACE CALLS */

   6027  0 000153   100031 473500                    LDP3    25,,PR1
         0 000154   300001 236100                    LDQ     1,,PR3
         0 000155   000002 376000 1                  ANQ     2
         0 000156   056000 116007                    CMPQ    23552,DL
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:17   
         0 000157   000175 601000 0                  TNZ     s:6034

      105     6028    2        THEN DO;

      106     6029    2             GD$MSG.FNC = %GD#RQSTRCALLS;

   6029  0 000160   000000 236100                    LDQ     0,,PR0
         0 000161   000000 376000 1                  ANQ     0
         0 000162   022000 276003                    ORQ     9216,DU
         0 000163   000000 756100                    STQ     0,,PR0

      107     6030    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.TRANSFERS = '0'B;

   6030  0 000164   100102 473500                    LDP3    66,,PR1
         0 000165   000006 236000 1                  LDQ     6
         0 000166   300062 356100                    ANSQ    50,,PR3

      108     6031    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.CALLS = '1'B;

   6031  0 000167   100102 473500                    LDP3    66,,PR1
         0 000170   100000 236007                    LDQ     32768,DL
         0 000171   300062 256100                    ORSQ    50,,PR3

      109     6032    2             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.ACTIVE = '1'B;

   6032  0 000172   100102 473500                    LDP3    66,,PR1
         0 000173   004000 236007                    LDQ     2048,DL
         0 000174   300062 256100                    ORSQ    50,,PR3

      110     6033    2           END;

      111     6034    1        S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.SET = '1'B;

   6034  0 000175   100102 473500                    LDP3    66,,PR1
         0 000176   400000 236007                    LDQ     -131072,DL
         0 000177   300062 256100                    ORSQ    50,,PR3

PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:18   
      112     6035    1        S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.XCALLS = S_D.DO$ -> TR$CMD.
              6035                 XTERNAL;

   6035  0 000200   100102 473500                    LDP3    66,,PR1
         0 000201   100031 474500                    LDP4    25,,PR1
         0 000202   400001 236100                    LDQ     1,,PR4
         0 000203   000024 772000                    QRL     20
         0 000204   300062 676100                    ERQ     50,,PR3
         0 000205   040000 376007                    ANQ     16384,DL
         0 000206   300062 656100                    ERSQ    50,,PR3

      113     6036    1        S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.SILENT = S_D.DO$ -> TR$CMD.
              6036                 SILENT;

   6036  0 000207   100102 473500                    LDP3    66,,PR1
         0 000210   100031 474500                    LDP4    25,,PR1
         0 000211   400001 236100                    LDQ     1,,PR4
         0 000212   000024 772000                    QRL     20
         0 000213   300062 676100                    ERQ     50,,PR3
         0 000214   020000 376007                    ANQ     8192,DL
         0 000215   300062 656100                    ERSQ    50,,PR3

      114     6037    1       S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.P = S_D.DO$ -> TR$CMD.PREFIX;

   6037  0 000216   100102 473500                    LDP3    66,,PR1
         0 000217   100031 474500                    LDP4    25,,PR1
         0 000220   400001 236100                    LDQ     1,,PR4
         0 000221   000027 772000                    QRL     23
         0 000222   300062 676100                    ERQ     50,,PR3
         0 000223   010000 376007                    ANQ     4096,DL
         0 000224   300062 656100                    ERSQ    50,,PR3

      115     6038    1        IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.P

   6038  0 000225   100102 473500                    LDP3    66,,PR1
         0 000226   300062 236100                    LDQ     50,,PR3
         0 000227   010000 316007                    CANQ    4096,DL
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:19   
         0 000230   000242 600000 0                  TZE     WRITE

      116     6039    2        THEN DO;

      117     6040    2            S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.PSIZ = S_D.DO$ -> TR$CMD
              6040                      .PSIZ;

   6040  0 000231   100031 474500                    LDP4    25,,PR1
         0 000232   400002 236100                    LDQ     2,,PR4
         0 000233   000033 772000                    QRL     27
         0 000234   300062 552104                    STBQ    50,'04'O,PR3

      118     6041    2            S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.PTXT = S_D.DO$ -> TR$CMD
              6041                      .PTXT;

   6041  0 000235   100102 473500                    LDP3    66,,PR1
         0 000236   100031 474500                    LDP4    25,,PR1
         0 000237   040100 100500                    MLR     fill='040'O
         0 000240   400002 200030                    ADSC9   2,,PR4                   cn=1,n=24
         0 000241   300063 000030                    ADSC9   51,,PR3                  cn=0,n=24

      119     6042    2           END;

      120     6043    1   WRITE: ;

   6043  0 000242                       WRITE        null
      121     6044    1        CALL DFQ$WRITE_FD(S_D.CURRENT_FPRG_CONTEXT$) ALTRET(ERR);

   6044  0 000242   000000 236000 xsym               LDQ     S_D$
         0 000243   000102 036003                    ADLQ    66,DU
         0 000244   200006 756100                    STQ     TEMP2+2,,AUTO
         0 000245   200006 630500                    EPPR0   TEMP2+2,,AUTO
         0 000246   000017 631400 xsym               EPPR1   B_VECTNIL+15
         0 000247   000000 701000 xent               TSX1    DFQ$WRITE_FD
         0 000250   000371 702000 0                  TSX2    ERR

      122     6045    1        CALL DFQ$READ_FD(S_D.CURRENT_FPRG_CONTEXT$, '0'B) ALTRET(ERR);
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:20   

   6045  0 000251   000007 236000 1                  LDQ     7
         0 000252   200007 756100                    STQ     TEMP2+3,,AUTO
         0 000253   000000 236000 xsym               LDQ     S_D$
         0 000254   000102 036003                    ADLQ    66,DU
         0 000255   200006 756100                    STQ     TEMP2+2,,AUTO
         0 000256   200006 630500                    EPPR0   TEMP2+2,,AUTO
         0 000257   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000260   000000 701000 xent               TSX1    DFQ$READ_FD
         0 000261   000371 702000 0                  TSX2    ERR

      123     6046    1        IF GD$MSG.FNC ~= %GD#RSPACK

   6046  0 000262   000000 470400 xsym               LDP0    S_D_L6_MESSAGE$
         0 000263   000000 236100                    LDQ     0,,PR0
         0 000264   776000 376003                    ANQ     -1024,DU
         0 000265   106000 116003                    CMPQ    35840,DU
         0 000266   000370 600000 0                  TZE     s:6074

      124     6047    2        THEN DO;

      125     6048    2            IF S_D.CURRENT_FPRG_CONTEXT$ -> S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.
              6048                      XDELTA AND

   6048  0 000267   000000 471400 xsym               LDP1    S_D$
         0 000270   100102 473500                    LDP3    66,,PR1
         0 000271   300102 474500                    LDP4    66,,PR3
         0 000272   400001 236100                    LDQ     1,,PR4
         0 000273   002000 316003                    CANQ    1024,DU
         0 000274   000307 600000 0                  TZE     s:6055
         0 000275   000000 236100                    LDQ     0,,PR0
         0 000276   776000 376003                    ANQ     -1024,DU
         0 000277   140000 116003                    CMPQ    49152,DU
         0 000300   000307 601000 0                  TNZ     s:6055

      126     6049    2               GD$MSG.FNC = %GD#RSPBADMSG
      127     6050    3             THEN DO;
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:21   

      128     6051    3                  S_D.ERROR = E@BADMSG;    /* E@BADMSG */

   6051  0 000301   000512 235007                    LDA     330,DL
         0 000302   100013 755100                    STA     11,,PR1

      129     6052    3                  CALL DDE$ERROR;

   6052  0 000303   000002 631400 xsym               EPPR1   B_VECTNIL+2
         0 000304   000000 701000 xent               TSX1    DDE$ERROR
         0 000305   000000 011000                    NOP     0

      130     6053    3                  RETURN;

   6053  0 000306   000000 702200 xent               TSX2  ! X66_ARET

      131     6054    3                END;
      132     6055    2             IF GD$MSG.FNC = %GD#RSPNAK

   6055  0 000307   000000 236100                    LDQ     0,,PR0
         0 000310   776000 376003                    ANQ     -1024,DU
         0 000311   150000 116003                    CMPQ    53248,DU
         0 000312   000362 601000 0                  TNZ     s:6070

      133     6056    3             THEN DO;

      134     6057    3                  IF S_D.CURRENT_FPRG_CONTEXT$ -> S_D.CURRENT_FPRG_CONTEXT$ ->
              6057                           FPRG$CONTEXT.XDELTA

   6057  0 000313   400001 236100                    LDQ     1,,PR4
         0 000314   002000 316003                    CANQ    1024,DU
         0 000315   000351 600000 0                  TZE     s:6066

      135     6058    4                  THEN DO;

      136     6059    4                       TEMP1 = BITBIN(GD$MSG.ERROR_D.ERRCODE);

PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:22   
   6059  0 000316   000000 235100                    LDA     0,,PR0
         0 000317   000001 236100                    LDQ     1,,PR0
         0 000320   000030 773000                    LRL     24
         0 000321   000010 376000 1                  ANQ     8
         0 000322   200003 756100                    STQ     TEMP$,,AUTO

      137     6060    4                       TEMP2B.B1 = TEMP1B.B1;

   6060  0 000323   200003 236100                    LDQ     TEMP$,,AUTO
         0 000324   000003 736000                    QLS     3
         0 000325   200004 676100                    ERQ     TEMP2,,AUTO
         0 000326   377000 376003                    ANQ     130560,DU
         0 000327   200004 656100                    ERSQ    TEMP2,,AUTO

      138     6061    4                       TEMP2B.B2 = TEMP1B.B2;

   6061  0 000330   200003 236100                    LDQ     TEMP$,,AUTO
         0 000331   000002 736000                    QLS     2
         0 000332   200004 676100                    ERQ     TEMP2,,AUTO
         0 000333   000377 376003                    ANQ     255,DU
         0 000334   200004 656100                    ERSQ    TEMP2,,AUTO

      139     6062    4                       TEMP2B.B3 = TEMP1B.B3;

   6062  0 000335   200003 236100                    LDQ     TEMP$,,AUTO
         0 000336   000001 736000                    QLS     1
         0 000337   200004 676100                    ERQ     TEMP2,,AUTO
         0 000340   377000 376007                    ANQ     130560,DL
         0 000341   200004 656100                    ERSQ    TEMP2,,AUTO

      140     6063    4                       TEMP2B.B4 = TEMP1B.B4;

   6063  0 000342   200003 236100                    LDQ     TEMP$,,AUTO
         0 000343   200004 676100                    ERQ     TEMP2,,AUTO
         0 000344   000377 376007                    ANQ     255,DL
         0 000345   200004 656100                    ERSQ    TEMP2,,AUTO

PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:23   
      141     6064    4                       S_D.JDE = TEMP2;

   6064  0 000346   200004 235100                    LDA     TEMP2,,AUTO
         0 000347   104733 755100                    STA     2523,,PR1

      142     6065    4                     END;

   6065  0 000350   000356 710000 0                  TRA     s:6067

      143     6066    3                  ELSE S_D.JDE = BITBIN(GD$MSG_HOST.ERROR_D.ERRCODE);

   6066  0 000351   000000 475400 xsym               LDP5    S_D_HOST_MESSAGE$
         0 000352   500000 235100                    LDA     0,,PR5
         0 000353   500001 236100                    LDQ     1,,PR5
         0 000354   000022 773000                    LRL     18
         0 000355   104733 756100                    STQ     2523,,PR1

      144     6067    3                  CALL DUE$GERRMSG;

   6067  0 000356   000002 631400 xsym               EPPR1   B_VECTNIL+2
         0 000357   000000 701000 xent               TSX1    DUE$GERRMSG
         0 000360   000000 011000                    NOP     0

      145     6068    3                  RETURN;

   6068  0 000361   000000 702200 xent               TSX2  ! X66_ARET

      146     6069    3                END;
      147     6070    2             S_D.ERROR = E@DELBUG;         /* E@DELBUG */

   6070  0 000362   000766 235007                    LDA     502,DL
         0 000363   100013 755100                    STA     11,,PR1

      148     6071    2             CALL DDE$ERROR;

   6071  0 000364   000002 631400 xsym               EPPR1   B_VECTNIL+2
         0 000365   000000 701000 xent               TSX1    DDE$ERROR
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:24   
         0 000366   000000 011000                    NOP     0

      149     6072    2             RETURN;

   6072  0 000367   000000 702200 xent               TSX2  ! X66_ARET

      150     6073    2           END;
      151     6074    1        RETURN;

   6074  0 000370   000000 702200 xent               TSX2  ! X66_ARET

      152     6075    1   ERR: ;

   6075  0 000371                       ERR          null
      153     6076    1        CALL DUE$ERRMSG;

   6076  0 000371   000002 631400 xsym               EPPR1   B_VECTNIL+2
         0 000372   000000 701000 xent               TSX1    DUE$ERRMSG
         0 000373   000000 011000                    NOP     0

      154     6077    1        RETURN;

   6077  0 000374   000000 702200 xent               TSX2  ! X66_ARET

(unnamed)
 Sect OctLoc
   1     000   001777 777777   777777 773777   000777 777000   000001 105000    ..............E.
   1     004   000001 110000   777777 677777   777777 577777   000002 006000    ..H.............
   1     010   037777 777777                                                    ....
      155     6078    1   END DFA$TRACE;
      156     6079        %EOD;

PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:25   
--  Include file information  --

   DD$BASED.:E05TOU  is referenced.
   GD_EQUS_E.:E05TOU  is referenced.
   GD$MSG_M.:E05TOU  is referenced.
   DD_PSUBS_C.:E05TOU  is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DFA$TRACE.

   Procedure DFA$TRACE requires 253 words for executable code.
   Procedure DFA$TRACE requires 8 words of local(AUTO) storage.
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:26   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:27   
          MINI XREF LISTING

DDE$ERROR
      5972**DCL-ENT  5992--CALL     5998--CALL     6011--CALL     6052--CALL     6071--CALL
DFQ$READ_FD
      5973**DCL-ENT  6045--CALL
DFQ$WRITE_FD
      5974**DCL-ENT  6044--CALL
DUE$ERRMSG
      5975**DCL-ENT  6076--CALL
DUE$GERRMSG
      5976**DCL-ENT  6067--CALL
ERR
      6075**LABEL    6044--CALLALT  6045--CALLALT
FPRG$CONTEXT.ONCALLS
      5958**DCL      5995>>IF
FPRG$CONTEXT.TR$INFO.ACTIVE
      5966**DCL      5984<<ASSIGN   6004<<ASSIGN   6018<<ASSIGN   6025<<ASSIGN   6032<<ASSIGN
FPRG$CONTEXT.TR$INFO.CALLS
      5962**DCL      6016>>IF       6024<<ASSIGN   6031<<ASSIGN
FPRG$CONTEXT.TR$INFO.P
      5965**DCL      6037<<ASSIGN   6038>>IF
FPRG$CONTEXT.TR$INFO.PSIZ
      5968**DCL      6040<<ASSIGN
FPRG$CONTEXT.TR$INFO.PTXT
      5969**DCL      6041<<ASSIGN
FPRG$CONTEXT.TR$INFO.SET
      5960**DCL      6008>>IF       6034<<ASSIGN
FPRG$CONTEXT.TR$INFO.SILENT
      5964**DCL      6036<<ASSIGN
FPRG$CONTEXT.TR$INFO.TRANSFERS
      5961**DCL      6014>>IF       6023<<ASSIGN   6030<<ASSIGN
FPRG$CONTEXT.TR$INFO.XCALLS
      5963**DCL      6035<<ASSIGN
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:28   
FPRG$CONTEXT.XDELTA
      5922**DCL      6048>>IF       6057>>IF
GD$MSG
      4133**DCL      5982<<ASSIGN   5988<<ASSIGN
GD$MSG.BRKRQS.IF$CONST.SIZE
      4184**DCL      4184--REDEF
GD$MSG.BRKRQS.IF$CONST.TEXT
      4184**DCL      4185--REDEF    4185--REDEF    4186--REDEF    4187--REDEF
GD$MSG.BRKRSP.BRK#
      4198**DCL      4198--REDEF
GD$MSG.BRKRSP.USER#
      4198**DCL      4198--REDEF
GD$MSG.ERROR_D.ERRCODE
      4139**DCL      6059>>ASSIGN
GD$MSG.FNC
      4133**DCL      5983<<ASSIGN   6003<<ASSIGN   6015<<ASSIGN   6017<<ASSIGN   6022<<ASSIGN   6029<<ASSIGN
      6046>>IF       6048>>IF       6055>>IF
GD$MSG.LETMEM_D.VALUE.SIZE
      4156**DCL      4156--REDEF
GD$MSG.LETMEM_D.VALUE.TEXT
      4157**DCL      4157--REDEF    4157--REDEF    4158--REDEF    4159--REDEF
GD$MSG.MESSAGE
      4138**DCL      4138--REDEF    4139--REDEF    4139--REDEF    4140--REDEF    4151--REDEF    4164--REDEF
      4169--REDEF    4176--REDEF    4192--REDEF    4197--REDEF    4203--REDEF    4204--REDEF    4233--REDEF
      4235--REDEF    4246--REDEF    4253--REDEF    4265--REDEF
GD$MSG.SUBFNC
      4133**DCL      4133--REDEF    4137--REDEF
GD$MSG.TSA.I
      4205**DCL      4205--REDEF
GD$MSG.TSA.S
      4207**DCL      4207--REDEF
GD$MSG.USERQS.ASDT$
      4233**DCL      4233--REDEF    4234--REDEF
GD$MSG_HOST.BRKRQS.IF$CONST.SIZE
      4340**DCL      4340--REDEF
GD$MSG_HOST.BRKRQS.IF$CONST.TEXT
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:29   
      4340**DCL      4341--REDEF    4341--REDEF    4342--REDEF    4343--REDEF
GD$MSG_HOST.BRKRSP.BRK#
      4354**DCL      4354--REDEF
GD$MSG_HOST.BRKRSP.USER#
      4354**DCL      4354--REDEF
GD$MSG_HOST.ERROR_D.ERRCODE
      4295**DCL      6066>>ASSIGN
GD$MSG_HOST.LETMEM_D.VALUE.SIZE
      4312**DCL      4312--REDEF
GD$MSG_HOST.LETMEM_D.VALUE.TEXT
      4313**DCL      4313--REDEF    4313--REDEF    4314--REDEF    4315--REDEF
GD$MSG_HOST.MESSAGE
      4294**DCL      4294--REDEF    4295--REDEF    4295--REDEF    4296--REDEF    4307--REDEF    4320--REDEF
      4325--REDEF    4332--REDEF    4348--REDEF    4353--REDEF    4359--REDEF    4360--REDEF    4389--REDEF
      4391--REDEF    4402--REDEF    4409--REDEF    4421--REDEF
GD$MSG_HOST.SUBFNC
      4289**DCL      4289--REDEF    4293--REDEF
GD$MSG_HOST.TSA.I
      4361**DCL      4361--REDEF
GD$MSG_HOST.TSA.S
      4363**DCL      4363--REDEF
GD$MSG_HOST.USERQS.ASDT$
      4389**DCL      4389--REDEF    4390--REDEF
START
      5984**LABEL    5978--GOTO
S_D.CURRENT_CHANNEL
      2406**DCL      2408--REDEF
S_D.CURRENT_FPRG_CONTEXT$
      1606**DCL      5984>>ASSIGN   5995>>IF       6004>>ASSIGN   6008>>IF       6014>>IF       6016>>IF
      6018>>ASSIGN   6023>>ASSIGN   6024>>ASSIGN   6025>>ASSIGN   6030>>ASSIGN   6031>>ASSIGN   6032>>ASSIGN
      6034>>ASSIGN   6035>>ASSIGN   6036>>ASSIGN   6037>>ASSIGN   6038>>IF       6040>>ASSIGN   6041>>ASSIGN
      6044<>CALL     6045<>CALL     6048>>IF       6048>>IF       6057>>IF       6057>>IF
S_D.DEBUGA
      1558**DCL      1560--REDEF
S_D.DO$
      1509**DCL      5989>>IF       5989>>IF       6001>>IF       6006>>IF       6020>>IF       6027>>IF
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:30   
      6035>>ASSIGN   6036>>ASSIGN   6037>>ASSIGN   6040>>ASSIGN   6041>>ASSIGN
S_D.EIS
      2516**DCL      2545--REDEF
S_D.ERROR
      1487**DCL      5991<<ASSIGN   5997<<ASSIGN   6010<<ASSIGN   6051<<ASSIGN   6070<<ASSIGN
S_D.HOST_MESSAGE_BUF_REMOTE
      2449**DCL      2450--REDEF    2464--REDEF
S_D.JDE
      2063**DCL      2064--REDEF    6064<<ASSIGN   6066<<ASSIGN
S_D.L$.VALUE
      1616**DCL      1622--REDEF    1630--REDEF    1633--REDEF    1636--REDEF    1639--REDEF
S_D.L$.VALUE.L
      1617**DCL      1618--REDEF    1619--REDEF
S_D.L6_MESSAGE_BUF
      2470**DCL      2472--REDEF
S_D.OUTPUT
      2436**DCL      2438--REDEF
S_D.REMOTE_MSG.FNCC
      2455**DCL      2456--REDEF
S_D.REMOTE_MSG.STXC
      2451**DCL      2452--REDEF
S_D.REMOTE_MSG.SUBFNCC
      2459**DCL      2460--REDEF
S_D.SV
      1515**DCL      1536--REDEF
S_D$
      2767**DCL      1463--IMP-PTR  5984>>ASSIGN   5989>>IF       5989>>IF       5991>>ASSIGN   5995>>IF
      5997>>ASSIGN   6001>>IF       6004>>ASSIGN   6006>>IF       6008>>IF       6010>>ASSIGN   6014>>IF
      6016>>IF       6018>>ASSIGN   6020>>IF       6023>>ASSIGN   6024>>ASSIGN   6025>>ASSIGN   6027>>IF
      6030>>ASSIGN   6031>>ASSIGN   6032>>ASSIGN   6034>>ASSIGN   6035>>ASSIGN   6035>>ASSIGN   6036>>ASSIGN
      6036>>ASSIGN   6037>>ASSIGN   6037>>ASSIGN   6038>>IF       6040>>ASSIGN   6040>>ASSIGN   6041>>ASSIGN
      6041>>ASSIGN   6044>>CALL     6045>>CALL     6048>>IF       6051>>ASSIGN   6057>>IF       6064>>ASSIGN
      6066>>ASSIGN   6070>>ASSIGN
S_D_HOST_MESSAGE$
      2803**DCL      4289--IMP-PTR  6066>>ASSIGN
S_D_L6_MESSAGE$
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:31   
      2804**DCL      4133--IMP-PTR  5982>>ASSIGN   5983>>ASSIGN   5988>>ASSIGN   6003>>ASSIGN   6015>>ASSIGN
      6017>>ASSIGN   6022>>ASSIGN   6029>>ASSIGN   6046>>IF       6048>>IF       6055>>IF       6059>>ASSIGN
TEMP$
        15**DCL        16--REDEF      17--REDEF
TEMP1
        16**DCL      6059<<ASSIGN
TEMP1B.B1
        19**DCL      6060>>ASSIGN
TEMP1B.B2
        20**DCL      6061>>ASSIGN
TEMP1B.B3
        21**DCL      6062>>ASSIGN
TEMP1B.B4
        22**DCL      6063>>ASSIGN
TEMP2
        23**DCL        24--REDEF    6064>>ASSIGN
TEMP2B.B1
        26**DCL      6060<<ASSIGN
TEMP2B.B2
        28**DCL      6061<<ASSIGN
TEMP2B.B3
        30**DCL      6062<<ASSIGN
TEMP2B.B4
        32**DCL      6063<<ASSIGN
TR$CMD.PREFIX
      5897**DCL      6037>>ASSIGN
TR$CMD.PSIZ
      5905**DCL      6040>>ASSIGN
TR$CMD.PTXT
      5906**DCL      6041>>ASSIGN
TR$CMD.SILENT
      5899**DCL      6036>>ASSIGN
TR$CMD.TYPE
      5901**DCL      5989>>IF       5989>>IF       6001>>IF       6006>>IF       6020>>IF       6027>>IF
TR$CMD.XTERNAL
      5898**DCL      6035>>ASSIGN
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:32   
WRITE
      6043**LABEL    5985--GOTO
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:33   
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DFA$TRACE File=DFA$TRACE.:E05TSI                              TUE 07/29/97 14:36 Page:34   
              MINI UREF LISTING

DFA$TRACE      13**PROC
DFA$TRACEOFF    5980**ENTRY
S_D_ACCESS$    2782**DCL
S_D_ANLZ$    2784**DCL
S_D_ASTACKOFF$    2783**DCL
S_D_BREAK$    2785**DCL
S_D_DO_SCAN$    2786**DCL
S_D_ERROR$    2787**DCL
S_D_FAULTCMD$$    2788**DCL
S_D_FAULTINS$$    2789**DCL
S_D_GOIC$    2790**DCL
S_D_GO_MODE$    2791**DCL
S_D_HW_PTB_UNITS$    2807**DCL
S_D_HW_RES_MEM$    2805**DCL
S_D_HW_WSQ0PT$    2806**DCL
S_D_IPRFLT$    2793**DCL
S_D_IXFIX$    2792**DCL
S_D_REM_ACCESS$    2794**DCL
S_D_REM_DISKBOOT$    2796**DCL
S_D_REM_DO_SCAN$    2795**DCL
S_D_RETURNN$    2797**DCL
S_D_SAD$    2798**DCL
S_D_SAVEIC$    2799**DCL
S_D_SEG$    2781**DCL
S_D_TCB$$    2800**DCL
S_D_UREG$$    2801**DCL
S_D_USS$$    2802**DCL

PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:35   
      157        1        /*T***********************************************************/
      158        2        /*T*                                                         */
      159        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      160        4        /*T*                                                         */
      161        5        /*T***********************************************************/
      162        6        DFA$TRACE_REPORT: PROC ALTRET;
      163        7        /* Local Data */
      164        8    1   DCL TYPE UBIN;
      165        9    1   DCL LIC UBIN;
      166       10    1   DCL RIC UBIN;
      167       11    1   DCL RNODE UBIN;
      168       12    1   DCL LNODE UBIN;
      169       13    1   DCL PRIM$ PTR;
      170       14    1   DCL BUFFER CHAR(8) CALIGNED;
      171       15    1   DCL BUF$ PTR;
      172       16    1   DCL NP$ PTR;
      173       17    1   DCL COMPARE SBIN;
      174       18    1   DCL 1 COMP BASED,
      175       19    1         2 * UBIN HALF UNAL,
      176       20    1         2 TEXT CHAR(COMPARE);
      177       21        /* Includes and Based Structures */
      178       22        %INCLUDE XUH_MACRO_C;
      179      106        %INCLUDE DD_SD_M;
      180     1442        %S_D;
      181     2760        %S_D_PTRS;
      182     2797        %INCLUDE DD_ERR_C;
      183     3194        %INCLUDE GD$MSG_M;
      184     3358        %GD$MSG(FPTN=GD$MSG,STCLASS="BASED(S_D_L6_MESSAGE$)",L6=YES,L6PTR="UBIN(32) UNAL");
      185     3514        %INCLUDE GD_EQUS_E;
      186     3675        %INCLUDE DD$BASED;
      187     4978        %FPRG$CONTEXT;
      188     5041        %INCLUDE GM_VIRTUAL_E;
      189     5251        %INCLUDE B$OBJECT_C;
      190     8681        %B$EDEF;
      191     8751        %SUB_CST;
      192     8767        %INCLUDE DD_SUBS_C;
      193     9038        /* Entry DCLs */
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:36   
      194     9039    1   DCL DDA$PRTHIST ENTRY(1);
      195     9040    1   DCL DDB$PUTHIST ENTRY(6);
      196     9041    1   DCL DDF$FIND_PEDEF ENTRY(2) ALTRET;
      197     9042    1   DCL DFQ$WRITE_FD ENTRY(1) ALTRET;
      198     9043    1   DCL DUE$ERRMSG ENTRY;
      199     9044        /**/
      200     9045    1        BUF$ = ADDR(BUFFER);
      201     9046    1        LNODE = 0;
      202     9047    1        RNODE = 0;
      203     9048    1        LIC = GD$MSG.BRKRSP.ADR_FROM$;
      204     9049    1        RIC = GD$MSG.BRKRSP.ADR$;
      205     9050    1        IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.TRANSFERS
      206     9051    2        THEN DO;
      207     9052    2             IF LIC >= %GM_ISR6_BASE AND
      208     9053    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.SHARED AND
      209     9054    2               NOT S_D.DEBUG_CMD
      210     9055    2             THEN TYPE = H_STT;            /* H_STT */
      211     9056    2             ELSE TYPE = H_TT;             /* H_TT */
      212     9057    2             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.P
      213     9058    3             THEN DO;
      214     9059    3                  CALL DDF$FIND_PEDEF (LIC, PRIM$) ALTRET (NO_REPORT);
      215     9060    3                  NP$ = PINCRW(S_D.DNAME$, PRIM$ -> B$EDEF.NPOINTER);
      216     9061    3                  COMPARE = S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.PSIZ;
      217     9062    3                  IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.PTXT ~= NP$ ->
              9062                           COMP.TEXT
      218     9063    3                  THEN GOTO NO_REPORT;
      219     9064    3                END;
      220     9065    2           END;
      221     9066    2        ELSE DO;
      222     9067    2             TYPE = H_TC;                  /* H_TC */
      223     9068    2             CALL DDF$FIND_PEDEF(RIC, PRIM$) ALTRET(OKAY);
      224     9069    2             IF PRIM$ -> B$EDEF.CST = %ASYNC# OR
      225     9070    2               PRIM$ -> B$EDEF.CST = %XASYNC#
      226     9071    2             THEN TYPE = H_ATC;            /* H_ATC */
      227     9072    2             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.P
      228     9073    3             THEN DO;
      229     9074    3                  NP$ = PINCRW(S_D.DNAME$, PRIM$ -> B$EDEF.NPOINTER);
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:37   
      230     9075    3                  COMPARE = S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.PSIZ;
      231     9076    3                  IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.PTXT ~= NP$ ->
              9076                           COMP.TEXT
      232     9077    3                  THEN GOTO NO_REPORT;
      233     9078    3                END;
      234     9079    2             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.XCALLS
      235     9080    3             THEN DO;
      236     9081    3                  IF NOT PRIM$ -> B$EDEF.PRI
      237     9082    3                  THEN GOTO NO_REPORT;
      238     9083    3                END;
      239     9084    2           END;
      240     9085    1   OKAY: ;
      241     9086    1        CALL DDB$PUTHIST(TYPE, 0, LIC, RIC, LNODE, RNODE);
      242     9087    1        IF NOT S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.SILENT
      243     9088    1        THEN CALL DDA$PRTHIST(S_D.HIST.CURR$);
      244     9089
      245     9090    1   NO_REPORT: ;
      246     9091    1        RETURN;
      247     9092
      248     9093    1   END DFA$TRACE_REPORT;

PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:38   
--  Include file information  --

   DD_SUBS_C.:E05TOU  is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
   GM_VIRTUAL_E.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   GD_EQUS_E.:E05TOU  is referenced.
   GD$MSG_M.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DFA$TRACE_REPORT.

   Procedure DFA$TRACE_REPORT requires 132 words for executable code.
   Procedure DFA$TRACE_REPORT requires 20 words of local(AUTO) storage.

    No errors detected in file DFA$TRACE.:E05TSI    .

PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:39   

 Object Unit name= DFA$TRACE_REPORT                           File name= DFA$TRACE.:E05TOU
 UTS= JUL 29 '97 14:36:52.16 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none   132    204  DFA$TRACE_REPORT
    1  RoData even  none     3      3  DFA$TRACE_REPORT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes    yes     yes      Std        0  DFA$TRACE_REPORT

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 DDF$FIND_PEDEF
         yes           Std       6 DDB$PUTHIST
         yes           Std       1 DDA$PRTHIST
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    S_D$                             r    S_D_L6_MESSAGE$                       B_VECTNIL
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:40   

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:41   


      157        1        /*T***********************************************************/
      158        2        /*T*                                                         */
      159        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      160        4        /*T*                                                         */
      161        5        /*T***********************************************************/
      162        6        DFA$TRACE_REPORT: PROC ALTRET;

      6  0 000000   000000 700200 xent  DFA$TRACE_R* TSX0  ! X66_AUTO_0
         0 000001   000024 000000                    ZERO    20,0

      163        7        /* Local Data */
      164        8    1   DCL TYPE UBIN;
      165        9    1   DCL LIC UBIN;
      166       10    1   DCL RIC UBIN;
      167       11    1   DCL RNODE UBIN;
      168       12    1   DCL LNODE UBIN;
      169       13    1   DCL PRIM$ PTR;
      170       14    1   DCL BUFFER CHAR(8) CALIGNED;
      171       15    1   DCL BUF$ PTR;
      172       16    1   DCL NP$ PTR;
      173       17    1   DCL COMPARE SBIN;
      174       18    1   DCL 1 COMP BASED,
      175       19    1         2 * UBIN HALF UNAL,
      176       20    1         2 TEXT CHAR(COMPARE);
      177       21        /* Includes and Based Structures */
      178       22        %INCLUDE XUH_MACRO_C;
      179      106        %INCLUDE DD_SD_M;
      180     1442        %S_D;
      181     2760        %S_D_PTRS;
      182     2797        %INCLUDE DD_ERR_C;
      183     3194        %INCLUDE GD$MSG_M;
      184     3358        %GD$MSG(FPTN=GD$MSG,STCLASS="BASED(S_D_L6_MESSAGE$)",L6=YES,L6PTR="UBIN(32) UNAL");
      185     3514        %INCLUDE GD_EQUS_E;
      186     3675        %INCLUDE DD$BASED;
      187     4978        %FPRG$CONTEXT;
      188     5041        %INCLUDE GM_VIRTUAL_E;
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:42   
      189     5251        %INCLUDE B$OBJECT_C;
      190     8681        %B$EDEF;
      191     8751        %SUB_CST;
      192     8767        %INCLUDE DD_SUBS_C;
      193     9038        /* Entry DCLs */
      194     9039    1   DCL DDA$PRTHIST ENTRY(1);
      195     9040    1   DCL DDB$PUTHIST ENTRY(6);
      196     9041    1   DCL DDF$FIND_PEDEF ENTRY(2) ALTRET;
      197     9042    1   DCL DFQ$WRITE_FD ENTRY(1) ALTRET;
      198     9043    1   DCL DUE$ERRMSG ENTRY;
      199     9044        /**/
      200     9045    1        BUF$ = ADDR(BUFFER);

   9045  0 000002   200011 630500                    EPPR0   BUFFER,,AUTO
         0 000003   200013 450500                    STP0    BUF$,,AUTO

      201     9046    1        LNODE = 0;

   9046  0 000004   200007 450100                    STZ     LNODE,,AUTO

      202     9047    1        RNODE = 0;

   9047  0 000005   200006 450100                    STZ     RNODE,,AUTO

      203     9048    1        LIC = GD$MSG.BRKRSP.ADR_FROM$;

   9048  0 000006   000000 471400 xsym               LDP1    S_D_L6_MESSAGE$
         0 000007   100013 235100                    LDA     11,,PR1
         0 000010   100014 236100                    LDQ     12,,PR1
         0 000011   000024 773000                    LRL     20
         0 000012   000000 376000 1                  ANQ     0
         0 000013   200004 756100                    STQ     LIC,,AUTO

      204     9049    1        RIC = GD$MSG.BRKRSP.ADR$;

   9049  0 000014   100000 235100                    LDA     0,,PR1
         0 000015   100001 236100                    LDQ     1,,PR1
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:43   
         0 000016   000030 773000                    LRL     24
         0 000017   000000 376000 1                  ANQ     0
         0 000020   200005 756100                    STQ     RIC,,AUTO

      205     9050    1        IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.TRANSFERS

   9050  0 000021   000000 473400 xsym               LDP3    S_D$
         0 000022   300102 474500                    LDP4    66,,PR3
         0 000023   400062 236100                    LDQ     50,,PR4
         0 000024   200000 316007                    CANQ    65536,DL
         0 000025   000075 600000 0                  TZE     s:9067

      206     9051    2        THEN DO;

      207     9052    2             IF LIC >= %GM_ISR6_BASE AND

   9052  0 000026   200004 235100                    LDA     LIC,,AUTO
         0 000027   000001 115000 1                  CMPA    1
         0 000030   000041 602000 0                  TNC     s:9056
         0 000031   400001 236100                    LDQ     1,,PR4
         0 000032   010000 316003                    CANQ    4096,DU
         0 000033   000041 600000 0                  TZE     s:9056
         0 000034   304665 234100                    SZN     2485,,PR3
         0 000035   000041 604000 0                  TMI     s:9056

      208     9053    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.SHARED AND
      209     9054    2               NOT S_D.DEBUG_CMD
      210     9055    2             THEN TYPE = H_STT;            /* H_STT */

   9055  0 000036   000013 235007                    LDA     11,DL
         0 000037   200003 755100                    STA     TYPE,,AUTO
         0 000040   000042 710000 0                  TRA     s:9057

      211     9056    2             ELSE TYPE = H_TT;             /* H_TT */

   9056  0 000041   200003 450100                    STZ     TYPE,,AUTO

PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:44   
      212     9057    2             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.P

   9057  0 000042   400062 236100                    LDQ     50,,PR4
         0 000043   010000 316007                    CANQ    4096,DL
         0 000044   000147 600000 0                  TZE     OKAY

      213     9058    3             THEN DO;

      214     9059    3                  CALL DDF$FIND_PEDEF (LIC, PRIM$) ALTRET (NO_REPORT);

   9059  0 000045   200010 635500                    EPPR5   PRIM$,,AUTO
         0 000046   200017 455500                    STP5    COMPARE+2,,AUTO
         0 000047   200004 636500                    EPPR6   LIC,,AUTO
         0 000050   200016 456500                    STP6    COMPARE+1,,AUTO
         0 000051   200016 630500                    EPPR0   COMPARE+1,,AUTO
         0 000052   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000053   000000 701000 xent               TSX1    DDF$FIND_PEDEF
         0 000054   000203 702000 0                  TSX2    NO_REPORT

      215     9060    3                  NP$ = PINCRW(S_D.DNAME$, PRIM$ -> B$EDEF.NPOINTER);

   9060  0 000055   200010 470500                    LDP0    PRIM$,,AUTO
         0 000056   000001 220100                    LDX0    1,,PR0
         0 000057   000000 471400 xsym               LDP1    S_D$
         0 000060   101041 473500                    LDP3    545,,PR1
         0 000061   300000 634510                    EPPR4   0,X0,PR3
         0 000062   200014 454500                    STP4    NP$,,AUTO

      216     9061    3                  COMPARE = S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.PSIZ;

   9061  0 000063   100102 475500                    LDP5    66,,PR1
         0 000064   500062 236100                    LDQ     50,,PR5
         0 000065   000777 376007                    ANQ     511,DL
         0 000066   200015 756100                    STQ     COMPARE,,AUTO

      217     9062    3                  IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.PTXT ~= NP$ ->
              9062                           COMP.TEXT
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:45   

   9062  0 000067   000000 621006                    EAX1    0,QL
         0 000070   040140 106500                    CMPC    fill='040'O
         0 000071   500063 000030                    ADSC9   51,,PR5                  cn=0,n=24
         0 000072   400000 400011                    ADSC9   0,,PR4                   cn=2,n=*X1
         0 000073   000203 601000 0                  TNZ     NO_REPORT

      218     9063    3                  THEN GOTO NO_REPORT;
      219     9064    3                END;

      220     9065    2           END;

   9065  0 000074   000147 710000 0                  TRA     OKAY

      221     9066    2        ELSE DO;

      222     9067    2             TYPE = H_TC;                  /* H_TC */

   9067  0 000075   000001 235007                    LDA     1,DL
         0 000076   200003 755100                    STA     TYPE,,AUTO

      223     9068    2             CALL DDF$FIND_PEDEF(RIC, PRIM$) ALTRET(OKAY);

   9068  0 000077   200010 635500                    EPPR5   PRIM$,,AUTO
         0 000100   200017 455500                    STP5    COMPARE+2,,AUTO
         0 000101   200005 636500                    EPPR6   RIC,,AUTO
         0 000102   200016 456500                    STP6    COMPARE+1,,AUTO
         0 000103   200016 630500                    EPPR0   COMPARE+1,,AUTO
         0 000104   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000105   000000 701000 xent               TSX1    DDF$FIND_PEDEF
         0 000106   000147 702000 0                  TSX2    OKAY

      224     9069    2             IF PRIM$ -> B$EDEF.CST = %ASYNC# OR

   9069  0 000107   200010 470500                    LDP0    PRIM$,,AUTO
         0 000110   000001 236100                    LDQ     1,,PR0
         0 000111   074000 376007                    ANQ     30720,DL
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:46   
         0 000112   014000 116007                    CMPQ    6144,DL
         0 000113   000116 600000 0                  TZE     s:9071
         0 000114   040000 116007                    CMPQ    16384,DL
         0 000115   000120 601000 0                  TNZ     s:9072

      225     9070    2               PRIM$ -> B$EDEF.CST = %XASYNC#
      226     9071    2             THEN TYPE = H_ATC;            /* H_ATC */

   9071  0 000116   000005 235007                    LDA     5,DL
         0 000117   200003 755100                    STA     TYPE,,AUTO

      227     9072    2             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.P

   9072  0 000120   000000 471400 xsym               LDP1    S_D$
         0 000121   100102 473500                    LDP3    66,,PR1
         0 000122   300062 236100                    LDQ     50,,PR3
         0 000123   010000 316007                    CANQ    4096,DL
         0 000124   000141 600000 0                  TZE     s:9079

      228     9073    3             THEN DO;

      229     9074    3                  NP$ = PINCRW(S_D.DNAME$, PRIM$ -> B$EDEF.NPOINTER);

   9074  0 000125   000001 220100                    LDX0    1,,PR0
         0 000126   101041 474500                    LDP4    545,,PR1
         0 000127   400000 635510                    EPPR5   0,X0,PR4
         0 000130   200014 455500                    STP5    NP$,,AUTO

      230     9075    3                  COMPARE = S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.PSIZ;

   9075  0 000131   300062 236100                    LDQ     50,,PR3
         0 000132   000777 376007                    ANQ     511,DL
         0 000133   200015 756100                    STQ     COMPARE,,AUTO

      231     9076    3                  IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.PTXT ~= NP$ ->
              9076                           COMP.TEXT

PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:47   
   9076  0 000134   000000 621006                    EAX1    0,QL
         0 000135   040140 106500                    CMPC    fill='040'O
         0 000136   300063 000030                    ADSC9   51,,PR3                  cn=0,n=24
         0 000137   500000 400011                    ADSC9   0,,PR5                   cn=2,n=*X1
         0 000140   000203 601000 0                  TNZ     NO_REPORT

      232     9077    3                  THEN GOTO NO_REPORT;
      233     9078    3                END;

      234     9079    2             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.XCALLS

   9079  0 000141   300062 236100                    LDQ     50,,PR3
         0 000142   040000 316007                    CANQ    16384,DL
         0 000143   000147 600000 0                  TZE     OKAY

      235     9080    3             THEN DO;

      236     9081    3                  IF NOT PRIM$ -> B$EDEF.PRI

   9081  0 000144   000001 236100                    LDQ     1,,PR0
         0 000145   400000 316007                    CANQ    -131072,DL
         0 000146   000203 600000 0                  TZE     NO_REPORT

      237     9082    3                  THEN GOTO NO_REPORT;
      238     9083    3                END;

      239     9084    2           END;

   9076  0 000147                       OKAY         null
      240     9085    1   OKAY: ;
      241     9086    1        CALL DDB$PUTHIST(TYPE, 0, LIC, RIC, LNODE, RNODE);

   9086  0 000147   200006 630500                    EPPR0   RNODE,,AUTO
         0 000150   200023 450500                    STP0    COMPARE+6,,AUTO
         0 000151   200007 631500                    EPPR1   LNODE,,AUTO
         0 000152   200022 451500                    STP1    COMPARE+5,,AUTO
         0 000153   200005 633500                    EPPR3   RIC,,AUTO
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:48   
         0 000154   200021 453500                    STP3    COMPARE+4,,AUTO
         0 000155   200004 634500                    EPPR4   LIC,,AUTO
         0 000156   200020 454500                    STP4    COMPARE+3,,AUTO
         0 000157   000002 236000 1                  LDQ     2
         0 000160   200017 756100                    STQ     COMPARE+2,,AUTO
         0 000161   200003 635500                    EPPR5   TYPE,,AUTO
         0 000162   200016 455500                    STP5    COMPARE+1,,AUTO
         0 000163   200016 630500                    EPPR0   COMPARE+1,,AUTO
         0 000164   000024 631400 xsym               EPPR1   B_VECTNIL+20
         0 000165   000000 701000 xent               TSX1    DDB$PUTHIST
         0 000166   000000 011000                    NOP     0

      242     9087    1        IF NOT S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.SILENT

   9087  0 000167   000000 470400 xsym               LDP0    S_D$
         0 000170   000102 471500                    LDP1    66,,PR0
         0 000171   100062 236100                    LDQ     50,,PR1
         0 000172   020000 316007                    CANQ    8192,DL
         0 000173   000203 601000 0                  TNZ     NO_REPORT

      243     9088    1        THEN CALL DDA$PRTHIST(S_D.HIST.CURR$);

   9088  0 000174   000000 236000 xsym               LDQ     S_D$
         0 000175   004721 036003                    ADLQ    2513,DU
         0 000176   200016 756100                    STQ     COMPARE+1,,AUTO
         0 000177   200016 630500                    EPPR0   COMPARE+1,,AUTO
         0 000200   000017 631400 xsym               EPPR1   B_VECTNIL+15
         0 000201   000000 701000 xent               TSX1    DDA$PRTHIST
         0 000202   000000 011000                    NOP     0

   9087  0 000203                       NO_REPORT    null
      244     9089
      245     9090    1   NO_REPORT: ;
      246     9091    1        RETURN;

   9091  0 000203   000000 702200 xent               TSX2  ! X66_ARET

PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:49   
(unnamed)
 Sect OctLoc
   1     000   037777 777777   000001 400000   000002 006000                    ............
      247     9092
      248     9093    1   END DFA$TRACE_REPORT;

PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:50   
--  Include file information  --

   DD_SUBS_C.:E05TOU  is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
   GM_VIRTUAL_E.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   GD_EQUS_E.:E05TOU  is referenced.
   GD$MSG_M.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DFA$TRACE_REPORT.

   Procedure DFA$TRACE_REPORT requires 132 words for executable code.
   Procedure DFA$TRACE_REPORT requires 20 words of local(AUTO) storage.

    No errors detected in file DFA$TRACE.:E05TSI    .
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:51   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:52   
          MINI XREF LISTING

B$EDEF.CST
      8728**DCL      9069>>IF       9069>>IF
B$EDEF.NPOINTER
      8707**DCL      9060>>ASSIGN   9074>>ASSIGN
B$EDEF.OU
      8699**DCL      8705--REDEF
B$EDEF.PRI
      8710**DCL      9081>>IF
BUF$
        15**DCL      9045<<ASSIGN
BUFFER
        14**DCL      9045--ASSIGN
COMP.TEXT
        20**DCL      9062>>IF       9076>>IF
COMPARE
        17**DCL        20--IMP-SIZ  9061<<ASSIGN   9062>>IF       9075<<ASSIGN   9076>>IF
DDA$PRTHIST
      9039**DCL-ENT  9088--CALL
DDB$PUTHIST
      9040**DCL-ENT  9086--CALL
DDF$FIND_PEDEF
      9041**DCL-ENT  9059--CALL     9068--CALL
FPRG$CONTEXT.SHARED
      4990**DCL      9052>>IF
FPRG$CONTEXT.TR$INFO.P
      5035**DCL      9057>>IF       9072>>IF
FPRG$CONTEXT.TR$INFO.PSIZ
      5038**DCL      9061>>ASSIGN   9075>>ASSIGN
FPRG$CONTEXT.TR$INFO.PTXT
      5039**DCL      9062>>IF       9076>>IF
FPRG$CONTEXT.TR$INFO.SILENT
      5034**DCL      9087>>IF
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:53   
FPRG$CONTEXT.TR$INFO.TRANSFERS
      5031**DCL      9050>>IF
FPRG$CONTEXT.TR$INFO.XCALLS
      5033**DCL      9079>>IF
GD$MSG.BRKRQS.IF$CONST.SIZE
      3426**DCL      3426--REDEF
GD$MSG.BRKRQS.IF$CONST.TEXT
      3426**DCL      3427--REDEF    3427--REDEF    3428--REDEF    3429--REDEF
GD$MSG.BRKRSP.ADR$
      3439**DCL      9049>>ASSIGN
GD$MSG.BRKRSP.ADR_FROM$
      3445**DCL      9048>>ASSIGN
GD$MSG.BRKRSP.BRK#
      3440**DCL      3440--REDEF
GD$MSG.BRKRSP.USER#
      3440**DCL      3440--REDEF
GD$MSG.LETMEM_D.VALUE.SIZE
      3398**DCL      3398--REDEF
GD$MSG.LETMEM_D.VALUE.TEXT
      3399**DCL      3399--REDEF    3399--REDEF    3400--REDEF    3401--REDEF
GD$MSG.MESSAGE
      3380**DCL      3380--REDEF    3381--REDEF    3381--REDEF    3382--REDEF    3393--REDEF    3406--REDEF
      3411--REDEF    3418--REDEF    3434--REDEF    3439--REDEF    3445--REDEF    3446--REDEF    3475--REDEF
      3477--REDEF    3488--REDEF    3495--REDEF    3507--REDEF
GD$MSG.SUBFNC
      3375**DCL      3375--REDEF    3379--REDEF
GD$MSG.TSA.I
      3447**DCL      3447--REDEF
GD$MSG.TSA.S
      3449**DCL      3449--REDEF
GD$MSG.USERQS.ASDT$
      3475**DCL      3475--REDEF    3476--REDEF
LIC
         9**DCL      9048<<ASSIGN   9052>>IF       9059<>CALL     9086<>CALL
LNODE
        12**DCL      9046<<ASSIGN   9086<>CALL
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:54   
NO_REPORT
      9087**LABEL    9059--CALLALT  9063--GOTO     9077--GOTO     9082--GOTO
NP$
        16**DCL      9060<<ASSIGN   9062>>IF       9074<<ASSIGN   9076>>IF
OKAY
      9076**LABEL    9068--CALLALT
PRIM$
        13**DCL      9059<>CALL     9060>>ASSIGN   9068<>CALL     9069>>IF       9069>>IF       9074>>ASSIGN
      9081>>IF
RIC
        10**DCL      9049<<ASSIGN   9068<>CALL     9086<>CALL
RNODE
        11**DCL      9047<<ASSIGN   9086<>CALL
S_D.CURRENT_CHANNEL
      2394**DCL      2396--REDEF
S_D.CURRENT_FPRG_CONTEXT$
      1594**DCL      9050>>IF       9052>>IF       9057>>IF       9061>>ASSIGN   9062>>IF       9072>>IF
      9075>>ASSIGN   9076>>IF       9079>>IF       9087>>IF
S_D.DEBUGA
      1546**DCL      1548--REDEF
S_D.DEBUG_CMD
      1966**DCL      9052>>IF
S_D.DNAME$
      1888**DCL      9060>>ASSIGN   9074>>ASSIGN
S_D.EIS
      2504**DCL      2533--REDEF
S_D.HIST.CURR$
      2031**DCL      9088<>CALL
S_D.HOST_MESSAGE_BUF_REMOTE
      2437**DCL      2438--REDEF    2452--REDEF
S_D.JDE
      2051**DCL      2052--REDEF
S_D.L$.VALUE
      1604**DCL      1610--REDEF    1618--REDEF    1621--REDEF    1624--REDEF    1627--REDEF
S_D.L$.VALUE.L
      1605**DCL      1606--REDEF    1607--REDEF
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:55   
S_D.L6_MESSAGE_BUF
      2458**DCL      2460--REDEF
S_D.OUTPUT
      2424**DCL      2426--REDEF
S_D.REMOTE_MSG.FNCC
      2443**DCL      2444--REDEF
S_D.REMOTE_MSG.STXC
      2439**DCL      2440--REDEF
S_D.REMOTE_MSG.SUBFNCC
      2447**DCL      2448--REDEF
S_D.SV
      1503**DCL      1524--REDEF
S_D$
      2755**DCL      1451--IMP-PTR  9050>>IF       9052>>IF       9052>>IF       9057>>IF       9060>>ASSIGN
      9061>>ASSIGN   9062>>IF       9072>>IF       9074>>ASSIGN   9075>>ASSIGN   9076>>IF       9079>>IF
      9087>>IF       9088>>CALL
S_D_L6_MESSAGE$
      2792**DCL      3375--IMP-PTR  9048>>ASSIGN   9049>>ASSIGN
TYPE
         8**DCL      9055<<ASSIGN   9056<<ASSIGN   9067<<ASSIGN   9071<<ASSIGN   9086<>CALL
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:56   
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #002=DFA$TRACE_REPORT File=DFA$TRACE.:E05TSI                       TUE 07/29/97 14:36 Page:57   
              MINI UREF LISTING

DFA$TRACE_REPORT       6**PROC
DFQ$WRITE_FD    9042**DCL-ENT
DUE$ERRMSG    9043**DCL-ENT
S_D_ACCESS$    2770**DCL
S_D_ANLZ$    2772**DCL
S_D_ASTACKOFF$    2771**DCL
S_D_BREAK$    2773**DCL
S_D_DO_SCAN$    2774**DCL
S_D_ERROR$    2775**DCL
S_D_FAULTCMD$$    2776**DCL
S_D_FAULTINS$$    2777**DCL
S_D_GOIC$    2778**DCL
S_D_GO_MODE$    2779**DCL
S_D_HOST_MESSAGE$    2791**DCL
S_D_HW_PTB_UNITS$    2795**DCL
S_D_HW_RES_MEM$    2793**DCL
S_D_HW_WSQ0PT$    2794**DCL
S_D_IPRFLT$    2781**DCL
S_D_IXFIX$    2780**DCL
S_D_REM_ACCESS$    2782**DCL
S_D_REM_DISKBOOT$    2784**DCL
S_D_REM_DO_SCAN$    2783**DCL
S_D_RETURNN$    2785**DCL
S_D_SAD$    2786**DCL
S_D_SAVEIC$    2787**DCL
S_D_SEG$    2769**DCL
S_D_TCB$$    2788**DCL
S_D_UREG$$    2789**DCL
S_D_USS$$    2790**DCL


PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:1    
        1        1        /*M*     ZIG$DDER   I-D-S/II   DBACS ERROR WRITER     */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*P*
        8        8        NAME:    PUT_OUT_ERROR
        9        9        PURPOSE: TO WRITE OUT ERROR MESSAGES FOR DBACS.
       10       10        AUTHOR:  DONALD R. PEDERSON.
       11       11        DATE:    7/2/79.
       12       12        */
       13       13        /*
       14       14                 How to use.
       15       15            First one must build the program with the error message
       16       16            internal in the program and in the for of the comment
       17       17            following this one.
       18       18        */
       19       19        /* E*     ERROR:    ZIG-ERROR#-C
       20       20                 MESSAGE:  First line of error message
       21       21                           next line of error message
       22       22                           and up to 5 lines.
       23       23        */
       24       24        /*
       25       25            This is the extact way that the comment is to be put in
       26       26            the file for PL1 and PL6.
       27       27                 Then use EXTRACT.X and do the following
       28       28        ?DATA_BASE zierrmsg
       29       29        ?extract 'YOUR FID'
       30       30        ?build over ZIERRMSG,ZIERRMSG_SUBS pro
       31       31        ?end
       32       32
       33       33            this sould build your file that contains the error message
       34       34            in it for M$ERRMSG to use.
       35       35        */
       36       36
       37       37        %EJECT;
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:2    
       38       38        ZIG$DDER: PROC (ERR_CODE_PASS);
       39       39    1   DCL ERR_CODE_PASS UBIN (36);
       40       40    1   DCL M$LO DCB;
       41       41    1   DCL M$DO DCB;
       42       42    1   DCL ERR_BUF CHAR (600);
       43       43    1   DCL MID_CHAR CHAR(1);
       44       44    1   DCL MSG_BUF CHAR(120) STATIC;
       45       45    1   DCL LNCNT UBIN (36) SYMREF ALIGNED;
       46       46    1   DCL NLINES UBIN (36) SYMREF ALIGNED;
       47       47    1   DCL X UBIN WORD;
       48       48    1   DCL SET_FIELD_NUM ENTRY(2);
       49       49    1   DCL LIST ENTRY (1);
       50       50    1   DCL LIST_STRING CHAR (128) EXT;
       51       51    1   DCL FIRST_ALT BIT(1);
       52       52    1   DCL HELP_CODE_MSG BIT(1);
       53       53    1   DCL HELP_PHR_ALT BIT(1);
       54       54    1   DCL INITIAL_CALL BIT (1) STATIC INIT ('1'B);
       55       55    1   DCL 1 MID_BIT_9,
       56       56    1         2 LT_3_BITS BIT(3) UNAL,
       57       57    1         2 RT_6_BITS BIT(6) UNAL;
       58       58    1   DCL WHOLE_CODE BIT(36);
       59       59    1   DCL B$JIT$ PTR SYMREF;
       60       60    1   DCL 1 FIELD1 EXT,
       61       61    1         2 COUNT1 UBIN (9) UNAL,
       62       62    1         2 TEXT1 CHAR (31) UNAL;
       63       63    1   DCL 1 FIELD2 EXT,
       64       64    1         2 COUNT2 UBIN (9) UNAL,
       65       65    1         2 TEXT2 CHAR (31) UNAL;
       66       66    1   DCL 1 FIELD3 EXT,
       67       67    1         2 COUNT3 UBIN (9) UNAL,
       68       68    1         2 TEXT3 CHAR (31) UNAL;
       69       69    1   DCL 1 ZI_EMNAME CONSTANT SYMDEF,
       70       70    1         2 COUNT UBIN(9) INIT (9) CALIGNED,
       71       71    1         2 TEXT1 CHAR(9) INIT (':ZIERRMSG') CALIGNED;
       72       72
       73       73    1   DCL ZI_EMACCT CHAR(8) CONSTANT SYMDEF INIT (':SYS');
       74       74         %INCLUDE CP_6;
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:3    
       75      155         %INCLUDE CP_6_SUBS;
       76      695 S       %INCLUDE B$JIT_C;
       77      696         %B$JIT0;
       78      785         %U$JIT1;
       79      859         %A$JIT6X;
       80      862         %INCLUDE ZI_ERRORS_SUBS;
       81     1382        %FPT_CORRES(STCLASS=CONSTANT, DCB1=M$LO, DCB2=M$DO);
       82     1396        %FPT_ERRMSG (OUTDCB1=M$LO,STCLASS=STATIC SYMDEF,
       83     1397         FILEACCT=ZI_EMACCT, FILENAME=ZI_EMNAME,
       84     1398         FIELD1=FIELD1,FIELD2=FIELD2,FIELD3=FIELD3,
       85     1399         FLAGLEV=3,INCLCODE=NO);
       86     1426        %FPT_WRITE( BUF=MSG_BUF, DCB=M$LO );
       87     1457        %VLR_ERRMSG( STCLASS=AUTO );
       88     1479
       89     1480        %VLP_ERRCODE( FPTN=ERR_CODE_C, STCLASS=CONSTANT, FCG=ZI, MID=G );
       90     1525        %VLP_ERRCODE( FPTN=ERR_CODE, STCLASS=AUTO );
       91     1570
       92     1571        %EJECT;
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:4    
       93     1572    1       HELP_PHR_ALT = '0'B;
       94     1573    1       HELP_CODE_MSG = '0'B;
       95     1574    1       GOTO START;
       96     1575    1   HELP_CODE_DDER: ENTRY( ERR_CODE_PASS );
       97     1576    1       HELP_CODE_MSG = '1'B;
       98     1577    1       HELP_PHR_ALT = '0'B;
       99     1578    1       GOTO START;
      100     1579    1   HELP_PHRASE_DDER: ENTRY( ERR_CODE_PASS );
      101     1580    1       HELP_PHR_ALT = '1'B;
      102     1581    1       HELP_CODE_MSG = '0'B;
      103     1582    1   START:
      104     1583    1       IF INITIAL_CALL
      105     1584    2       THEN DO;
      106     1585    2           INITIAL_CALL = '0'B;
      107     1586    2           CALL M$CORRES(FPT_CORRES) ALTRET (SAME);
      108     1587    2           FPT_ERRMSG.V.OUTDCB2#=DCBNUM(M$DO);
      109     1588    2           END;
      110     1589        /* Handling the COMMENT and DONT COMMENT also LIST and DONT LIST
      111     1590           command for printing or not printing the error messages.
      112     1591           B$JIT.PRFLAGS.COMMENT and B$JIT.PRFLAGS.LIST are the flags.  */
      113     1592
      114     1593    1   SAME: IF (B$JIT$->B$JIT.PRFLAGS.COMMENT = '0'B) OR
      115     1594    1          (B$JIT$->B$JIT.PRFLAGS.LIST = '0'B) THEN
      116     1595    2       DO;
      117     1596         /* if it is END_SCHEMA or END_DMCL */
      118     1597    2           IF (ERR_CODE_PASS = 4000) OR (ERR_CODE_PASS = 2399) THEN
      119     1598    2               GOTO PRINT_ERR;
      120     1599    2           ELSE
      121     1600    2               RETURN;
      122     1601    2           END;
      123     1602    1       IF LNCNT >= NLINES - 2
      124     1603    2       THEN DO;
      125     1604    2           LNCNT = NLINES;
      126     1605    2           LIST_STRING = ' ';
      127     1606    2           CALL LIST(LIST_STRING);
      128     1607    2           END;
      129     1608    1   PRINT_ERR:
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:5    
      130     1609    1       FIRST_ALT = '1'B;
      131     1610    1       ERR_CODE = ERR_CODE_C;
      132     1611    1       IF HELP_CODE_MSG
      133     1612    2       THEN DO;
      134     1613    2           FPT_ERRMSG.V.FLAGLEV# = 0;
      135     1614    2           FPT_ERRMSG.V.SUBMESS# = '0'B;
      136     1615    2           X = MOD( ERR_CODE_PASS, 100000 ); /* Get last 5 digits */
      137     1616    2           ERR_CODE.ERR# = MOD( X, 10000 ); /* Get last 4 digits */
      138     1617    2           X = X/10000; /* 1st digit of last 5 */
      139     1618    2           CALL BINCHAR( MID_CHAR, X );
      140     1619    2           MID_BIT_9 = ASCBIT( MID_CHAR );
      141     1620    2           ERR_CODE.MID = MID_BIT_9.RT_6_BITS;
      142     1621    2           END;
      143     1622    1       ELSE
      144     1623    1           IF NOT HELP_PHR_ALT THEN
      145     1624    1               ERR_CODE.ERR# = ERR_CODE_PASS;
      146     1625    1   ALT_MSG:
      147     1626    1       FPT_ERRMSG.RESULTS_ = VECTOR(VLR_ERRMSG);
      148     1627    1       FPT_ERRMSG.BUF_ = VECTOR(ERR_BUF);
      149     1628    1       IF HELP_PHR_ALT
      150     1629    2       THEN DO;
      151     1630    2           WHOLE_CODE = BINBIT( ERR_CODE_PASS, 36 );
      152     1631    2           FPT_ERRMSG.CODE_ = VECTOR( WHOLE_CODE );
      153     1632    2           END;
      154     1633    1       ELSE
      155     1634    1           FPT_ERRMSG.CODE_ = VECTOR( ERR_CODE );
      156     1635    1       CALL M$ERRMSG(FPT_ERRMSG) ALTRET (RET);
      157     1636    1       LNCNT=LNCNT+VLR_ERRMSG.RECCNT;
      158     1637    1       RETURN;
      159     1638    1   RET:
      160     1639    1       IF HELP_CODE_MSG AND FIRST_ALT
      161     1640    2       THEN DO;
      162     1641    2           FIRST_ALT = '0'B;
      163     1642    2           CALL SET_FIELD_NUM( 1, ERR_CODE_PASS );
      164     1643    2           ERR_CODE_PASS = %ZIG_NO_SUCH_CODE;
      165     1644        /*E*     ERROR: ZIG-ZIG_NO_SUCH_CODE-C
      166     1645               MESSAGE: The value %U1 is not a legal IDS statement code.
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:6    
      167     1646                        Check the value again to make sure you have the correct one.
      168     1647        */
      169     1648    2           ERR_CODE = ERR_CODE_C;
      170     1649    2           ERR_CODE.ERR# = ERR_CODE_PASS;
      171     1650    2           FPT_ERRMSG.V.FLAGLEV# = 0;
      172     1651    2           GOTO ALT_MSG;
      173     1652    2           END;
      174     1653    2       ELSE DO;
      175     1654    2           MSG_BUF = ' ';
      176     1655    2           CALL M$WRITE( FPT_WRITE );
      177     1656    2           CALL SET_FIELD_NUM( 1, ERR_CODE_PASS );
      178     1657    2           CALL CONCAT( MSG_BUF, 'No message can be found for error ZIG-',
      179     1658    2              SUBSTR(FIELD1.TEXT1,0,FIELD1.COUNT1), '-C.' );
      180     1659    2           CALL M$WRITE( FPT_WRITE );
      181     1660    2           RETURN;
      182     1661    2           END;
      183     1662    1   END ZIG$DDER;
      184     1663        %EOD;

PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:7    
--  Include file information  --

   ZI_ERRORS_SUBS.:ZIC0TOU  is referenced.
   CP_6_SUBS.:LIB_E05  is referenced.
   CP_6.:LIB_E05  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure ZIG$DDER.

   Procedure ZIG$DDER requires 192 words for executable code.
   Procedure ZIG$DDER requires 170 words of local(AUTO) storage.

PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:8    

 Object Unit name= ZIG$DDER                                   File name= ZIG$DDER.:ZIC0TOU
 UTS= SEP 05 '97 11:46:19.24 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$LO
    1   DCB   even  none     0      0  M$DO
    2   Data  even  none    70    106  ZIG$DDER
    3  LblCom even  none    32     40  LIST_STRING
    4  LblCom even  none     8     10  FIELD1
    5  LblCom even  none     8     10  FIELD2
    6  LblCom even  none     8     10  FIELD3
    7  RoData even  UTS     22     26  ZIG$DDER
    8   DCB   even  none     0      0  M$UC
    9   Proc  even  none   192    300  ZIG$DDER
   10  RoData even  none     9     11  ZIG$DDER

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     9      0   yes            yes      Std        1  ZIG$DDER
     9      5                  yes      Std        1  HELP_CODE_DDER
     9     13                  yes      Std        1  HELP_PHRASE_DDER

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    7      0  ZI_EMNAME                          7      3  ZI_EMACCT
    2     40  FPT_ERRMSG
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:9    

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       1 LIST
         yes           Std       2 SET_FIELD_NUM
                       nStd      0 X66_AUTO_1
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$LO                                  M$DO                                  LNCNT
     NLINES                                B$JIT$                                M$UC

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:10   


        1        1        /*M*     ZIG$DDER   I-D-S/II   DBACS ERROR WRITER     */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*P*
        8        8        NAME:    PUT_OUT_ERROR
        9        9        PURPOSE: TO WRITE OUT ERROR MESSAGES FOR DBACS.
       10       10        AUTHOR:  DONALD R. PEDERSON.
       11       11        DATE:    7/2/79.
       12       12        */
       13       13        /*
       14       14                 How to use.
       15       15            First one must build the program with the error message
       16       16            internal in the program and in the for of the comment
       17       17            following this one.
       18       18        */
       19       19        /* E*     ERROR:    ZIG-ERROR#-C
       20       20                 MESSAGE:  First line of error message
       21       21                           next line of error message
       22       22                           and up to 5 lines.
       23       23        */
       24       24        /*
       25       25            This is the extact way that the comment is to be put in
       26       26            the file for PL1 and PL6.
       27       27                 Then use EXTRACT.X and do the following
       28       28        ?DATA_BASE zierrmsg
       29       29        ?extract 'YOUR FID'
       30       30        ?build over ZIERRMSG,ZIERRMSG_SUBS pro
       31       31        ?end
       32       32
       33       33            this sould build your file that contains the error message
       34       34            in it for M$ERRMSG to use.
       35       35        */
       36       36
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:11   
       37       37        %EJECT;
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:12   
       38       38        ZIG$DDER: PROC (ERR_CODE_PASS);

     38  9 000000   000000 700200 xent  ZIG$DDER     TSX0  ! X66_AUTO_1
         9 000001   000252 000001                    ZERO    170,1

       39       39    1   DCL ERR_CODE_PASS UBIN (36);
       40       40    1   DCL M$LO DCB;
       41       41    1   DCL M$DO DCB;
       42       42    1   DCL ERR_BUF CHAR (600);
       43       43    1   DCL MID_CHAR CHAR(1);
       44       44    1   DCL MSG_BUF CHAR(120) STATIC;
       45       45    1   DCL LNCNT UBIN (36) SYMREF ALIGNED;
       46       46    1   DCL NLINES UBIN (36) SYMREF ALIGNED;
       47       47    1   DCL X UBIN WORD;
       48       48    1   DCL SET_FIELD_NUM ENTRY(2);
       49       49    1   DCL LIST ENTRY (1);
       50       50    1   DCL LIST_STRING CHAR (128) EXT;
       51       51    1   DCL FIRST_ALT BIT(1);
       52       52    1   DCL HELP_CODE_MSG BIT(1);
       53       53    1   DCL HELP_PHR_ALT BIT(1);
       54       54    1   DCL INITIAL_CALL BIT (1) STATIC INIT ('1'B);
       55       55    1   DCL 1 MID_BIT_9,
       56       56    1         2 LT_3_BITS BIT(3) UNAL,
       57       57    1         2 RT_6_BITS BIT(6) UNAL;
       58       58    1   DCL WHOLE_CODE BIT(36);
       59       59    1   DCL B$JIT$ PTR SYMREF;
       60       60    1   DCL 1 FIELD1 EXT,
       61       61    1         2 COUNT1 UBIN (9) UNAL,
       62       62    1         2 TEXT1 CHAR (31) UNAL;
       63       63    1   DCL 1 FIELD2 EXT,
       64       64    1         2 COUNT2 UBIN (9) UNAL,
       65       65    1         2 TEXT2 CHAR (31) UNAL;
       66       66    1   DCL 1 FIELD3 EXT,
       67       67    1         2 COUNT3 UBIN (9) UNAL,
       68       68    1         2 TEXT3 CHAR (31) UNAL;
       69       69    1   DCL 1 ZI_EMNAME CONSTANT SYMDEF,
       70       70    1         2 COUNT UBIN(9) INIT (9) CALIGNED,
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:13   
       71       71    1         2 TEXT1 CHAR(9) INIT (':ZIERRMSG') CALIGNED;
       72       72
       73       73    1   DCL ZI_EMACCT CHAR(8) CONSTANT SYMDEF INIT (':SYS');
       74       74         %INCLUDE CP_6;
       75      155         %INCLUDE CP_6_SUBS;
       76      695 S       %INCLUDE B$JIT_C;
       77      696         %B$JIT0;
       78      785         %U$JIT1;
       79      859         %A$JIT6X;
       80      862         %INCLUDE ZI_ERRORS_SUBS;
       81     1382        %FPT_CORRES(STCLASS=CONSTANT, DCB1=M$LO, DCB2=M$DO);
       82     1396        %FPT_ERRMSG (OUTDCB1=M$LO,STCLASS=STATIC SYMDEF,
       83     1397         FILEACCT=ZI_EMACCT, FILENAME=ZI_EMNAME,
       84     1398         FIELD1=FIELD1,FIELD2=FIELD2,FIELD3=FIELD3,
       85     1399         FLAGLEV=3,INCLCODE=NO);
       86     1426        %FPT_WRITE( BUF=MSG_BUF, DCB=M$LO );
       87     1457        %VLR_ERRMSG( STCLASS=AUTO );
       88     1479
       89     1480        %VLP_ERRCODE( FPTN=ERR_CODE_C, STCLASS=CONSTANT, FCG=ZI, MID=G );
       90     1525        %VLP_ERRCODE( FPTN=ERR_CODE, STCLASS=AUTO );
       91     1570
       92     1571        %EJECT;
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:14   
       93     1572    1       HELP_PHR_ALT = '0'B;

   1572  9 000002   200236 450100                    STZ     HELP_PHR_ALT,,AUTO

       94     1573    1       HELP_CODE_MSG = '0'B;

   1573  9 000003   200235 450100                    STZ     HELP_CODE_MSG,,AUTO

       95     1574    1       GOTO START;

   1574  9 000004   000020 710000 9                  TRA     START

       96     1575    1   HELP_CODE_DDER: ENTRY( ERR_CODE_PASS );

   1575  9 000005   000000 700200 xent  HELP_CODE_D* TSX0  ! X66_AUTO_1
         9 000006   000252 000001                    ZERO    170,1

       97     1576    1       HELP_CODE_MSG = '1'B;

   1576  9 000007   400000 236003                    LDQ     -131072,DU
         9 000010   200235 756100                    STQ     HELP_CODE_MSG,,AUTO

       98     1577    1       HELP_PHR_ALT = '0'B;

   1577  9 000011   200236 450100                    STZ     HELP_PHR_ALT,,AUTO

       99     1578    1       GOTO START;

   1578  9 000012   000020 710000 9                  TRA     START

      100     1579    1   HELP_PHRASE_DDER: ENTRY( ERR_CODE_PASS );

   1579  9 000013   000000 700200 xent  HELP_PHRASE* TSX0  ! X66_AUTO_1
         9 000014   000252 000001                    ZERO    170,1

      101     1580    1       HELP_PHR_ALT = '1'B;

PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:15   
   1580  9 000015   400000 236003                    LDQ     -131072,DU
         9 000016   200236 756100                    STQ     HELP_PHR_ALT,,AUTO

      102     1581    1       HELP_CODE_MSG = '0'B;

   1581  9 000017   200235 450100                    STZ     HELP_CODE_MSG,,AUTO

      103     1582    1   START:
      104     1583    1       IF INITIAL_CALL

   1583  9 000020   000036 234000 2     START        SZN     INITIAL_CALL
         9 000021   000032 605000 9                  TPL     SAME

      105     1584    2       THEN DO;

      106     1585    2           INITIAL_CALL = '0'B;

   1585  9 000022   000036 450000 2                  STZ     INITIAL_CALL

      107     1586    2           CALL M$CORRES(FPT_CORRES) ALTRET (SAME);

   1586  9 000023   000006 630400 7                  EPPR0   FPT_CORRES
         9 000024   460000 713400                    CLIMB   alt,+24576
         9 000025   400000 401760                    pmme    nvectors=1
         9 000026   000032 702000 9                  TSX2    SAME

      108     1587    2           FPT_ERRMSG.V.OUTDCB2#=DCBNUM(M$DO);

   1587  9 000027   000000 236007 xsym               LDQ     M$DO,DL
         9 000030   000000 620006                    EAX0    0,QL
         9 000031   000067 740000 2                  STX0    FPT_ERRMSG+23

      109     1588    2           END;

      110     1589        /* Handling the COMMENT and DONT COMMENT also LIST and DONT LIST
      111     1590           command for printing or not printing the error messages.
      112     1591           B$JIT.PRFLAGS.COMMENT and B$JIT.PRFLAGS.LIST are the flags.  */
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:16   
      113     1592
      114     1593    1   SAME: IF (B$JIT$->B$JIT.PRFLAGS.COMMENT = '0'B) OR

   1593  9 000032   000000 470400 xsym  SAME         LDP0    B$JIT$
         9 000033   000030 236100                    LDQ     24,,PR0
         9 000034   020000 316003                    CANQ    8192,DU
         9 000035   000040 600000 9                  TZE     s:1597
         9 000036   010000 316003                    CANQ    4096,DU
         9 000037   000047 601000 9                  TNZ     s:1602

      115     1594    1          (B$JIT$->B$JIT.PRFLAGS.LIST = '0'B) THEN
      116     1595    2       DO;

      117     1596         /* if it is END_SCHEMA or END_DMCL */
      118     1597    2           IF (ERR_CODE_PASS = 4000) OR (ERR_CODE_PASS = 2399) THEN

   1597  9 000040   200003 471500                    LDP1    @ERR_CODE_PASS,,AUTO
         9 000041   100000 235100                    LDA     0,,PR1
         9 000042   007640 115007                    CMPA    4000,DL
         9 000043   000066 600000 9                  TZE     PRINT_ERR
         9 000044   004537 115007                    CMPA    2399,DL
         9 000045   000066 600000 9                  TZE     PRINT_ERR

      119     1598    2               GOTO PRINT_ERR;
      120     1599    2           ELSE
      121     1600    2               RETURN;

   1600  9 000046   000000 702200 xent               TSX2  ! X66_ARET

      122     1601    2           END;
      123     1602    1       IF LNCNT >= NLINES - 2

   1602  9 000047   000000 236000 xsym               LDQ     NLINES
         9 000050   000002 136007                    SBLQ    2,DL
         9 000051   000055 604000 9                  TMI     s:1604
         9 000052   000000 116000 xsym               CMPQ    LNCNT
         9 000053   000055 600000 9                  TZE     s:1604
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:17   
         9 000054   000066 603000 9                  TRC     PRINT_ERR

      124     1603    2       THEN DO;

      125     1604    2           LNCNT = NLINES;

   1604  9 000055   000000 235000 xsym               LDA     NLINES
         9 000056   000000 755000 xsym               STA     LNCNT

      126     1605    2           LIST_STRING = ' ';

   1605  9 000057   040000 100400                    MLR     fill='040'O
         9 000060   000000 000001 10                 ADSC9   0                        cn=0,n=1
         9 000061   000000 000200 3                  ADSC9   LIST_STRING              cn=0,n=128

      127     1606    2           CALL LIST(LIST_STRING);

   1606  9 000062   000002 630400 10                 EPPR0   2
         9 000063   000001 631400 10                 EPPR1   1
         9 000064   000000 701000 xent               TSX1    LIST
         9 000065   000000 011000                    NOP     0

      128     1607    2           END;

      129     1608    1   PRINT_ERR:
      130     1609    1       FIRST_ALT = '1'B;

   1609  9 000066   400000 236003       PRINT_ERR    LDQ     -131072,DU
         9 000067   200234 756100                    STQ     FIRST_ALT,,AUTO

      131     1610    1       ERR_CODE = ERR_CODE_C;

   1610  9 000070   000012 236000 7                  LDQ     ERR_CODE_C
         9 000071   200246 756100                    STQ     ERR_CODE,,AUTO

      132     1611    1       IF HELP_CODE_MSG

PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:18   
   1611  9 000072   200235 234100                    SZN     HELP_CODE_MSG,,AUTO
         9 000073   000133 605000 9                  TPL     s:1623

      133     1612    2       THEN DO;

      134     1613    2           FPT_ERRMSG.V.FLAGLEV# = 0;

   1613  9 000074   000000 236003                    LDQ     0,DU
         9 000075   000067 552010 2                  STBQ    FPT_ERRMSG+23,'10'O

      135     1614    2           FPT_ERRMSG.V.SUBMESS# = '0'B;

   1614  9 000076   000003 236000 10                 LDQ     3
         9 000077   000070 356000 2                  ANSQ    FPT_ERRMSG+24

      136     1615    2           X = MOD( ERR_CODE_PASS, 100000 ); /* Get last 5 digits */

   1615  9 000100   200003 470500                    LDP0    @ERR_CODE_PASS,,AUTO
         9 000101   000000 235100                    LDA     0,,PR0
         9 000102   000043 773000                    LRL     35
         9 000103   303240 507007                    DVF     100000,DL
         9 000104   200233 756100                    STQ     X,,AUTO

      137     1616    2           ERR_CODE.ERR# = MOD( X, 10000 ); /* Get last 4 digits */

   1616  9 000105   200233 235100                    LDA     X,,AUTO
         9 000106   000043 773000                    LRL     35
         9 000107   023420 507007                    DVF     10000,DL
         9 000110   000003 736000                    QLS     3
         9 000111   200246 676100                    ERQ     ERR_CODE,,AUTO
         9 000112   377770 376007                    ANQ     131064,DL
         9 000113   200246 656100                    ERSQ    ERR_CODE,,AUTO

      138     1617    2           X = X/10000; /* 1st digit of last 5 */

   1617  9 000114   200233 236100                    LDQ     X,,AUTO
         9 000115   000001 772000                    QRL     1
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:19   
         9 000116   011610 506007                    DIV     5000,DL
         9 000117   200233 756100                    STQ     X,,AUTO

      139     1618    2           CALL BINCHAR( MID_CHAR, X );

   1618  9 000120   000000 235003                    LDA     0,DU
         9 000121   200250 757100                    STAQ    ERR_CODE+2,,AUTO
         9 000122   000100 301500                    BTD
         9 000123   200250 000010                    NDSC9   ERR_CODE+2,,AUTO         cn=0,s=lsgnf,sf=0,n=8
         9 000124   200232 030001                    NDSC9   MID_CHAR,,AUTO           cn=0,s=nosgn,sf=0,n=1

      140     1619    2           MID_BIT_9 = ASCBIT( MID_CHAR );

   1619  9 000125   200232 236100                    LDQ     MID_CHAR,,AUTO
         9 000126   777000 376003                    ANQ     -512,DU
         9 000127   200237 756100                    STQ     MID_BIT_9,,AUTO

      141     1620    2           ERR_CODE.MID = MID_BIT_9.RT_6_BITS;

   1620  9 000130   000011 772000                    QRL     9
         9 000131   200246 752110                    STCQ    ERR_CODE,'10'O,AUTO

      142     1621    2           END;

   1621  9 000132   000143 710000 9                  TRA     ALT_MSG

      143     1622    1       ELSE
      144     1623    1           IF NOT HELP_PHR_ALT THEN

   1623  9 000133   200236 234100                    SZN     HELP_PHR_ALT,,AUTO
         9 000134   000143 604000 9                  TMI     ALT_MSG

      145     1624    1               ERR_CODE.ERR# = ERR_CODE_PASS;

   1624  9 000135   200003 470500                    LDP0    @ERR_CODE_PASS,,AUTO
         9 000136   000000 236100                    LDQ     0,,PR0
         9 000137   000003 736000                    QLS     3
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:20   
         9 000140   200246 676100                    ERQ     ERR_CODE,,AUTO
         9 000141   377770 376007                    ANQ     131064,DL
         9 000142   200246 656100                    ERSQ    ERR_CODE,,AUTO

      146     1625    1   ALT_MSG:
      147     1626    1       FPT_ERRMSG.RESULTS_ = VECTOR(VLR_ERRMSG);

   1626  9 000143   000004 235000 10    ALT_MSG      LDA     4
         9 000144   200250 452500                    STP2    ERR_CODE+2,,AUTO
         9 000145   200250 236100                    LDQ     ERR_CODE+2,,AUTO
         9 000146   000242 036003                    ADLQ    162,DU
         9 000147   000062 757000 2                  STAQ    FPT_ERRMSG+18

      148     1627    1       FPT_ERRMSG.BUF_ = VECTOR(ERR_BUF);

   1627  9 000150   000005 235000 10                 LDA     5
         9 000151   200250 452500                    STP2    ERR_CODE+2,,AUTO
         9 000152   200250 236100                    LDQ     ERR_CODE+2,,AUTO
         9 000153   000004 036003                    ADLQ    4,DU
         9 000154   000044 757000 2                  STAQ    FPT_ERRMSG+4

      149     1628    1       IF HELP_PHR_ALT

   1628  9 000155   200236 234100                    SZN     HELP_PHR_ALT,,AUTO
         9 000156   000170 605000 9                  TPL     s:1634

      150     1629    2       THEN DO;

      151     1630    2           WHOLE_CODE = BINBIT( ERR_CODE_PASS, 36 );

   1630  9 000157   200003 470500                    LDP0    @ERR_CODE_PASS,,AUTO
         9 000160   000000 236100                    LDQ     0,,PR0
         9 000161   200240 756100                    STQ     WHOLE_CODE,,AUTO

      152     1631    2           FPT_ERRMSG.CODE_ = VECTOR( WHOLE_CODE );

   1631  9 000162   777640 235007                    LDA     -96,DL
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:21   
         9 000163   200250 452500                    STP2    ERR_CODE+2,,AUTO
         9 000164   200250 236100                    LDQ     ERR_CODE+2,,AUTO
         9 000165   000240 036003                    ADLQ    160,DU
         9 000166   000042 757000 2                  STAQ    FPT_ERRMSG+2

      153     1632    2           END;

   1632  9 000167   000175 710000 9                  TRA     s:1635

      154     1633    1       ELSE
      155     1634    1           FPT_ERRMSG.CODE_ = VECTOR( ERR_CODE );

   1634  9 000170   777640 235007                    LDA     -96,DL
         9 000171   200250 452500                    STP2    ERR_CODE+2,,AUTO
         9 000172   200250 236100                    LDQ     ERR_CODE+2,,AUTO
         9 000173   000246 036003                    ADLQ    166,DU
         9 000174   000042 757000 2                  STAQ    FPT_ERRMSG+2

      156     1635    1       CALL M$ERRMSG(FPT_ERRMSG) ALTRET (RET);

   1635  9 000175   000040 630400 2                  EPPR0   FPT_ERRMSG
         9 000176   420000 713400                    CLIMB   alt,+8192
         9 000177   405000 401760                    pmme    nvectors=11
         9 000200   000206 702000 9                  TSX2    RET

      157     1636    1       LNCNT=LNCNT+VLR_ERRMSG.RECCNT;

   1636  9 000201   200242 236100                    LDQ     VLR_ERRMSG,,AUTO
         9 000202   000777 376007                    ANQ     511,DL
         9 000203   000000 036000 xsym               ADLQ    LNCNT
         9 000204   000000 756000 xsym               STQ     LNCNT

      158     1637    1       RETURN;

   1637  9 000205   000000 702200 xent               TSX2  ! X66_ARET

      159     1638    1   RET:
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:22   
      160     1639    1       IF HELP_CODE_MSG AND FIRST_ALT

   1639  9 000206   200235 234100       RET          SZN     HELP_CODE_MSG,,AUTO
         9 000207   000237 605000 9                  TPL     s:1654
         9 000210   200234 234100                    SZN     FIRST_ALT,,AUTO
         9 000211   000237 605000 9                  TPL     s:1654

      161     1640    2       THEN DO;

      162     1641    2           FIRST_ALT = '0'B;

   1641  9 000212   200234 450100                    STZ     FIRST_ALT,,AUTO

      163     1642    2           CALL SET_FIELD_NUM( 1, ERR_CODE_PASS );

   1642  9 000213   200003 236100                    LDQ     @ERR_CODE_PASS,,AUTO
         9 000214   000010 235000 10                 LDA     8
         9 000215   200250 757100                    STAQ    ERR_CODE+2,,AUTO
         9 000216   200250 630500                    EPPR0   ERR_CODE+2,,AUTO
         9 000217   000006 631400 10                 EPPR1   6
         9 000220   000000 701000 xent               TSX1    SET_FIELD_NUM
         9 000221   000000 011000                    NOP     0

      164     1643    2           ERR_CODE_PASS = %ZIG_NO_SUCH_CODE;

   1643  9 000222   004122 235007                    LDA     2130,DL
         9 000223   200003 470500                    LDP0    @ERR_CODE_PASS,,AUTO
         9 000224   000000 755100                    STA     0,,PR0

      165     1644        /*E*     ERROR: ZIG-ZIG_NO_SUCH_CODE-C
      166     1645               MESSAGE: The value %U1 is not a legal IDS statement code.
      167     1646                        Check the value again to make sure you have the correct one.
      168     1647        */
      169     1648    2           ERR_CODE = ERR_CODE_C;

   1648  9 000225   000012 236000 7                  LDQ     ERR_CODE_C
         9 000226   200246 756100                    STQ     ERR_CODE,,AUTO
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:23   

      170     1649    2           ERR_CODE.ERR# = ERR_CODE_PASS;

   1649  9 000227   000000 236100                    LDQ     0,,PR0
         9 000230   000003 736000                    QLS     3
         9 000231   200246 676100                    ERQ     ERR_CODE,,AUTO
         9 000232   377770 376007                    ANQ     131064,DL
         9 000233   200246 656100                    ERSQ    ERR_CODE,,AUTO

      171     1650    2           FPT_ERRMSG.V.FLAGLEV# = 0;

   1650  9 000234   000000 236003                    LDQ     0,DU
         9 000235   000067 552010 2                  STBQ    FPT_ERRMSG+23,'10'O

      172     1651    2           GOTO ALT_MSG;

   1651  9 000236   000143 710000 9                  TRA     ALT_MSG

      173     1652    2           END;
      174     1653    2       ELSE DO;

      175     1654    2           MSG_BUF = ' ';

   1654  9 000237   040000 100400                    MLR     fill='040'O
         9 000240   000000 000001 10                 ADSC9   0                        cn=0,n=1
         9 000241   000000 000170 2                  ADSC9   MSG_BUF                  cn=0,n=120

      176     1655    2           CALL M$WRITE( FPT_WRITE );

   1655  9 000242   000072 630400 2                  EPPR0   FPT_WRITE
         9 000243   040001 713400                    CLIMB   write
         9 000244   401400 401760                    pmme    nvectors=4

      177     1656    2           CALL SET_FIELD_NUM( 1, ERR_CODE_PASS );

   1656  9 000245   200003 236100                    LDQ     @ERR_CODE_PASS,,AUTO
         9 000246   000010 235000 10                 LDA     8
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:24   
         9 000247   200250 757100                    STAQ    ERR_CODE+2,,AUTO
         9 000250   200250 630500                    EPPR0   ERR_CODE+2,,AUTO
         9 000251   000006 631400 10                 EPPR1   6
         9 000252   000000 701000 xent               TSX1    SET_FIELD_NUM
         9 000253   000000 011000                    NOP     0

      178     1657    2           CALL CONCAT( MSG_BUF, 'No message can be found for error ZIG-',

   1657  9 000254   000000 236000 4                  LDQ     FIELD1
         9 000255   000033 772000                    QRL     27
         9 000256   040000 100400                    MLR     fill='040'O
         9 000257   000013 000046 7                  ADSC9   ERR_CODE_C+1             cn=0,n=38
         9 000260   000000 000046 2                  ADSC9   MSG_BUF                  cn=0,n=38
         9 000261   000000 620006                    EAX0    0,QL
         9 000262   040000 100440                    MLR     fill='040'O
         9 000263   000000 200010 4                  ADSC9   FIELD1                   cn=1,n=*X0
         9 000264   000011 400122 2                  ADSC9   MSG_BUF+9                cn=2,n=82
         9 000265   000122 116007                    CMPQ    82,DL
         9 000266   000274 603000 9                  TRC     s:1659
         9 000267   777655 620006                    EAX0    -83,QL
         9 000270   777777 660003                    ERX0    -1,DU
         9 000271   040046 100400                    MLR     fill='040'O
         9 000272   000025 000003 7                  ADSC9   ERR_CODE_C+11            cn=0,n=3
         9 000273   000011 400010 2                  ADSC9   MSG_BUF+9,Q              cn=2,n=*X0

      179     1658    2              SUBSTR(FIELD1.TEXT1,0,FIELD1.COUNT1), '-C.' );
      180     1659    2           CALL M$WRITE( FPT_WRITE );

   1659  9 000274   000072 630400 2                  EPPR0   FPT_WRITE
         9 000275   040001 713400                    CLIMB   write
         9 000276   401400 401760                    pmme    nvectors=4

      181     1660    2           RETURN;

   1660  9 000277   000000 702200 xent               TSX2  ! X66_ARET

MSG_BUF
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:25   
 Sect OctLoc
   2     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

INITIAL_CALL
 Sect OctLoc
   2     036   4***** ******                                                    ....

FPT_ERRMSG
 Sect OctLoc
   2     040   000003 777640   000066 006000   000000 177640   000000 006014    .....6..........
   2     044   000000 177640   000000 006014   000002 377640   000000 006000    ................
   2     050   000001 777640   000003 006000   000000 177640   000000 006014    ................
   2     054   000007 777640   000000 006000   000007 777640   000000 006000    ................
   2     060   000007 777640   000000 006000   000000 177640   000000 006014    ................
   2     064   000000 177640   000000 006014   000000 000000   000000 003000    ................
   2     070   371000 030001   040000 000000                                    .... ...

FPT_WRITE
 Sect OctLoc
   2     072   000003 777640   000102 006000   000000 177640   000000 006014    .....B..........
   2     076   000035 777640   000000 006000   000000 177640   000000 006014    ................
   2     102   000000 400400   000000 000000   000000 000000   000000 000000    ................

LIST_STRING
 Sect OctLoc
   3     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

FIELD1
 Sect OctLoc
   4     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

FIELD2
 Sect OctLoc
   5     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

FIELD3
 Sect OctLoc
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:26   
   6     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

ZI_EMNAME
 Sect OctLoc
   7     000   011072 132111   105122 122115   123107 ******                    .:ZIERRMSG..

ZI_EMACCT
 Sect OctLoc
   7     003   072123 131123   040040 040040                                    :SYS

FPT_CORRES
 Sect OctLoc
   7     006   000001 777640   000010 006000   000000 000000   ****** ******    ................

ERR_CODE_C
 Sect OctLoc
   7     012   321107 000000                                                    .G..

(unnamed)
 Sect OctLoc
   7     013   116157 040155   145163 163141   147145 040143   141156 040142    No message can b
   7     017   145040 146157   165156 144040   146157 162040   145162 162157    e found for erro
   7     023   162040 132111   107055 040040   055103 056040                    r ZIG-  -C.

(unnamed)
 Sect OctLoc
  10     000   040040 040040   000001 000000   000000 006000   776777 777777        ............
  10     004   000003 777640   000225 777640   000002 000000   000000 000001    ................
  10     010   000007 006000                                                    ....
      182     1661    2           END;
      183     1662    1   END ZIG$DDER;
      184     1663        %EOD;

PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:27   
--  Include file information  --

   ZI_ERRORS_SUBS.:ZIC0TOU  is referenced.
   CP_6_SUBS.:LIB_E05  is referenced.
   CP_6.:LIB_E05  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure ZIG$DDER.

   Procedure ZIG$DDER requires 192 words for executable code.
   Procedure ZIG$DDER requires 170 words of local(AUTO) storage.
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:28   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:29   
          MINI XREF LISTING

ALT_MSG
      1626**LABEL    1651--GOTO
B$JIT.CPFLAGS1.SLEAZE
       796**DCL       796--REDEF
B$JIT.ERR.MID
       703**DCL       703--REDEF
B$JIT.PRFLAGS.COMMENT
       786**DCL      1593>>IF
B$JIT.PRFLAGS.LIST
       786**DCL      1593>>IF
B$JIT$
        59**DCL       697--IMP-PTR  1593>>IF       1593>>IF
ERR_BUF
        42**DCL      1627--ASSIGN
ERR_CODE
      1537**DCL      1610<<ASSIGN   1634--ASSIGN   1648<<ASSIGN
ERR_CODE.ERR#
      1567**DCL      1616<<ASSIGN   1624<<ASSIGN   1649<<ASSIGN
ERR_CODE.MID
      1566**DCL      1620<<ASSIGN
ERR_CODE_C
      1492**DCL      1610>>ASSIGN   1648>>ASSIGN
ERR_CODE_PASS
        39**DCL        38--PROC     1575--ENTRY    1579--ENTRY    1597>>IF       1597>>IF       1615>>ASSIGN
      1624>>ASSIGN   1630>>ASSIGN   1642<>CALL     1643<<ASSIGN   1649>>ASSIGN   1656<>CALL
FIELD1
        60**DCL      1412--DCLINIT
FIELD1.COUNT1
        61**DCL      1657>>CALLBLT
FIELD1.TEXT1
        62**DCL      1657>>CALLBLT
FIELD2
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:30   
        63**DCL      1413--DCLINIT
FIELD3
        66**DCL      1413--DCLINIT
FIRST_ALT
        51**DCL      1609<<ASSIGN   1639>>IF       1641<<ASSIGN
FPT_CORRES
      1393**DCL      1586<>CALL
FPT_CORRES.V
      1393**DCL      1393--DCLINIT
FPT_ERRMSG
      1410**DCL      1635<>CALL
FPT_ERRMSG.BUF_
      1410**DCL      1627<<ASSIGN
FPT_ERRMSG.CODE_
      1410**DCL      1631<<ASSIGN   1634<<ASSIGN
FPT_ERRMSG.RESULTS_
      1413**DCL      1626<<ASSIGN
FPT_ERRMSG.V
      1414**DCL      1410--DCLINIT
FPT_ERRMSG.V.FLAGLEV#
      1416**DCL      1613<<ASSIGN   1650<<ASSIGN
FPT_ERRMSG.V.OUTDCB2#
      1415**DCL      1587<<ASSIGN
FPT_ERRMSG.V.SUBMESS#
      1420**DCL      1614<<ASSIGN
FPT_WRITE
      1443**DCL      1655<>CALL     1659<>CALL
FPT_WRITE.STATION_
      1445**DCL      1445--REDEF
FPT_WRITE.V
      1446**DCL      1443--DCLINIT
FPT_WRITE.V.DVBYTE.VFC#
      1452**DCL      1452--REDEF
HELP_CODE_MSG
        52**DCL      1573<<ASSIGN   1576<<ASSIGN   1581<<ASSIGN   1611>>IF       1639>>IF
HELP_PHR_ALT
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:31   
        53**DCL      1572<<ASSIGN   1577<<ASSIGN   1580<<ASSIGN   1623>>IF       1628>>IF
INITIAL_CALL
        54**DCL      1583>>IF       1585<<ASSIGN
LIST
        49**DCL-ENT  1606--CALL
LIST_STRING
        50**DCL      1605<<ASSIGN   1606<>CALL
LNCNT
        45**DCL      1602>>IF       1604<<ASSIGN   1636<<ASSIGN   1636>>ASSIGN
M$CORRES
        88**DCL-ENT  1586--CALL
M$DO
        41**DCL      1587>>ASSIGN
M$ERRMSG
       146**DCL-ENT  1635--CALL
M$WRITE
        84**DCL-ENT  1655--CALL     1659--CALL
MID_BIT_9
        55**DCL      1619<<ASSIGN
MID_BIT_9.RT_6_BITS
        57**DCL      1620>>ASSIGN
MID_CHAR
        43**DCL      1618<<CALLBLT  1619>>ASSIGN
MSG_BUF
        44**DCL      1444--DCLINIT  1445--DCLINIT  1654<<ASSIGN   1657<<CALLBLT
NLINES
        46**DCL      1602>>IF       1604>>ASSIGN
PRINT_ERR
      1609**LABEL    1598--GOTO
RET
      1639**LABEL    1635--CALLALT
SAME
      1593**LABEL    1586--CALLALT
SET_FIELD_NUM
        48**DCL-ENT  1642--CALL     1656--CALL
START
PL6.E3A0      #001=ZIG$DDER File=ZIG$DDER.:ZIC0TSI                               FRI 09/05/97 11:46 Page:32   
      1583**LABEL    1574--GOTO     1578--GOTO
VLR_ERRMSG
      1468**DCL      1626--ASSIGN
VLR_ERRMSG.RECCNT
      1472**DCL      1636>>ASSIGN
WHOLE_CODE
        58**DCL      1630<<ASSIGN   1631--ASSIGN
X
        47**DCL      1615<<ASSIGN   1616>>ASSIGN   1617<<ASSIGN   1617>>ASSIGN   1618>>CALLBLT
ZI_EMACCT
        73**DCL      1411--DCLINIT
ZI_EMNAME
        69**DCL      1411--DCLINIT

PL6.E3A0      #002=HELP_IDS_CODE File=ZIG$DDER.:ZIC0TSI                          FRI 09/05/97 11:46 Page:33   
      185        1        /*T***********************************************************/
      186        2        /*T*                                                         */
      187        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      188        4        /*T*                                                         */
      189        5        /*T***********************************************************/
      190        6        HELP_IDS_CODE: PROC ( IDS_CODE );
      191        7
      192        8        /* This routine is used for setting up the %U2 fields for DBACS HELP
      193        9           messages of the form 'HELP IDS ... code#'.
      194       10        */
      195       11
      196       12        /**************
      197       13        *  Parameter  *
      198       14        **************/
      199       15    1   DCL IDS_CODE UBIN WORD;
      200       16        /********************
      201       17        *  Local Variables  *
      202       18        ********************/
      203       19    1   DCL X UBIN WORD;
      204       20        /***********************
      205       21        *  External Variables  *
      206       22        ***********************/
      207       23    1   DCL 1 FIELD2 EXT,
      208       24    1         2 COUNT2 UBIN (9) UNAL,
      209       25    1         2 TEXT2 CHAR (31) UNAL;
      210       26        /************
      211       27        *  Entries  *
      212       28        ************/
      213       29    1   DCL HELP_CODE_DDER ENTRY(1);
      214       30
      215       31        /***********
      216       32        *  Tables  *
      217       33        ***********/
      218       34    1   DCL 1 IDS_STATEMENT CONSTANT ALIGNED,
      219       35    1         2 * UBIN BYTE INIT(16) UNAL,
      220       36    1         2 * CHAR(19) INIT('NOT A VALID CODE') UNAL, /*   0 */
      221       37    1         2 * UBIN BYTE INIT(6) UNAL,
PL6.E3A0      #002=HELP_IDS_CODE File=ZIG$DDER.:ZIC0TSI                          FRI 09/05/97 11:46 Page:34   
      222       38    1         2 * CHAR(19) INIT('ACCEPT') UNAL, /*   1 */
      223       39    1         2 * UBIN BYTE INIT(7) UNAL,
      224       40    1         2 * CHAR(19) INIT('CONNECT') UNAL, /*   2 */
      225       41    1         2 * UBIN BYTE INIT(10) UNAL,
      226       42    1         2 * CHAR(19) INIT('DISCONNECT') UNAL, /*   3 */
      227       43    1         2 * UBIN BYTE INIT(5) UNAL,
      228       44    1         2 * CHAR(19) INIT('ERASE') UNAL, /*   4 */
      229       45    1         2 * UBIN BYTE INIT(4) UNAL,
      230       46    1         2 * CHAR(19) INIT('FIND') UNAL, /*   5 */
      231       47    1         2 * UBIN BYTE INIT(6) UNAL,
      232       48    1         2 * CHAR(19) INIT('FINISH') UNAL, /*   6 */
      233       49    1         2 * UBIN BYTE INIT(16) UNAL,
      234       50    1         2 * CHAR(19) INIT('NOT A VALID CODE') UNAL, /*   7 */
      235       51    1         2 * UBIN BYTE INIT(3) UNAL,
      236       52    1         2 * CHAR(19) INIT('GET') UNAL, /*   8 */
      237       53    1         2 * UBIN BYTE INIT(2) UNAL,
      238       54    1         2 * CHAR(19) INIT('IF') UNAL, /*   9 */
      239       55    1         2 * UBIN BYTE INIT(16) UNAL,
      240       56    1         2 * CHAR(19) INIT('NOT A VALID CODE') UNAL, /*  10 */
      241       57    1         2 * UBIN BYTE INIT(6) UNAL,
      242       58    1         2 * CHAR(19) INIT('MODIFY') UNAL, /*  11 */
      243       59    1         2 * UBIN BYTE INIT(16) UNAL,
      244       60    1         2 * CHAR(19) INIT('NOT A VALID CODE') UNAL, /*  12 */
      245       61    1         2 * UBIN BYTE INIT(5) UNAL,
      246       62    1         2 * CHAR(19) INIT('READY') UNAL, /*  13 */
      247       63    1         2 * UBIN BYTE INIT(16) UNAL,
      248       64    1         2 * CHAR(19) INIT('NOT A VALID CODE') UNAL, /*  14 */
      249       65    1         2 * UBIN BYTE INIT(5) UNAL,
      250       66    1         2 * CHAR(19) INIT('STORE') UNAL, /*  15 */
      251       67    1         2 * UBIN BYTE INIT(16) UNAL,
      252       68    1         2 * CHAR(19) INIT('NOT A VALID CODE') UNAL, /*  16 */
      253       69    1         2 * UBIN BYTE INIT(16) UNAL,
      254       70    1         2 * CHAR(19) INIT('NOT A VALID CODE') UNAL, /*  17 */
      255       71    1         2 * UBIN BYTE INIT(3) UNAL,
      256       72    1         2 * CHAR(19) INIT('HIA') UNAL, /*  18 */
      257       73    1         2 * UBIN BYTE INIT(9) UNAL,
      258       74    1         2 * CHAR(19) INIT('ROLL BACK') UNAL; /*  19 */
PL6.E3A0      #002=HELP_IDS_CODE File=ZIG$DDER.:ZIC0TSI                          FRI 09/05/97 11:46 Page:35   
      259       75    1   DCL 1 IDS_STMT(0:19) REDEF IDS_STATEMENT ALIGNED,
      260       76    1         2 COUNT UBIN BYTE UNAL, /* TEXT CNT */
      261       77    1         2 TEXT CHAR(19) UNAL; /* TEXT OF STATEMENT */
      262       78
      263       79    1       X = IDS_CODE/100000; /* Get statement code */
      264       80    1       IF X > 19 THEN /* If illegal code */
      265       81    1           X=0;
      266       82    1       FIELD2.COUNT2 = IDS_STMT.COUNT( X ); /* TEXTC  of statement */
      267       83    1       FIELD2.TEXT2 = IDS_STMT.TEXT( X );
      268       84    1       CALL HELP_CODE_DDER( IDS_CODE );
      269       85    1       RETURN;
      270       86    1   END HELP_IDS_CODE;

PL6.E3A0      #002=HELP_IDS_CODE File=ZIG$DDER.:ZIC0TSI                          FRI 09/05/97 11:46 Page:36   
--  Include file information  --

   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure HELP_IDS_CODE.

   Procedure HELP_IDS_CODE requires 24 words for executable code.
   Procedure HELP_IDS_CODE requires 6 words of local(AUTO) storage.

    No errors detected in file ZIG$DDER.:ZIC0TSI    .

PL6.E3A0      #002=HELP_IDS_CODE File=ZIG$DDER.:ZIC0TSI                          FRI 09/05/97 11:46 Page:37   

 Object Unit name= HELP_IDS_CODE                              File name= ZIG$DDER.:ZIC0TOU
 UTS= SEP 05 '97 11:46:33.76 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  LblCom even  none     8     10  FIELD2
    1  RoData even  UTS    100    144  HELP_IDS_CODE
    2   Proc  even  none    24     30  HELP_IDS_CODE
    3  RoData even  none     1      1  HELP_IDS_CODE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes            yes      Std        1  HELP_IDS_CODE

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       1 HELP_CODE_DDER
                       nStd      0 X66_AUTO_1
                       nStd      0 X66_ARET
PL6.E3A0      #002=HELP_IDS_CODE File=ZIG$DDER.:ZIC0TSI                          FRI 09/05/97 11:46 Page:38   


      185        1        /*T***********************************************************/
      186        2        /*T*                                                         */
      187        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      188        4        /*T*                                                         */
      189        5        /*T***********************************************************/
      190        6        HELP_IDS_CODE: PROC ( IDS_CODE );

      6  2 000000   000000 700200 xent  HELP_IDS_CO* TSX0  ! X66_AUTO_1
         2 000001   000006 000001                    ZERO    6,1

      191        7
      192        8        /* This routine is used for setting up the %U2 fields for DBACS HELP
      193        9           messages of the form 'HELP IDS ... code#'.
      194       10        */
      195       11
      196       12        /**************
      197       13        *  Parameter  *
      198       14        **************/
      199       15    1   DCL IDS_CODE UBIN WORD;
      200       16        /********************
      201       17        *  Local Variables  *
      202       18        ********************/
      203       19    1   DCL X UBIN WORD;
      204       20        /***********************
      205       21        *  External Variables  *
      206       22        ***********************/
      207       23    1   DCL 1 FIELD2 EXT,
      208       24    1         2 COUNT2 UBIN (9) UNAL,
      209       25    1         2 TEXT2 CHAR (31) UNAL;
      210       26        /************
      211       27        *  Entries  *
      212       28        ************/
      213       29    1   DCL HELP_CODE_DDER ENTRY(1);
      214       30
      215       31        /***********
      216       32        *  Tables  *
PL6.E3A0      #002=HELP_IDS_CODE File=ZIG$DDER.:ZIC0TSI                          FRI 09/05/97 11:46 Page:39   
      217       33        ***********/
      218       34    1   DCL 1 IDS_STATEMENT CONSTANT ALIGNED,
      219       35    1         2 * UBIN BYTE INIT(16) UNAL,
      220       36    1         2 * CHAR(19) INIT('NOT A VALID CODE') UNAL, /*   0 */
      221       37    1         2 * UBIN BYTE INIT(6) UNAL,
      222       38    1         2 * CHAR(19) INIT('ACCEPT') UNAL, /*   1 */
      223       39    1         2 * UBIN BYTE INIT(7) UNAL,
      224       40    1         2 * CHAR(19) INIT('CONNECT') UNAL, /*   2 */
      225       41    1         2 * UBIN BYTE INIT(10) UNAL,
      226       42    1         2 * CHAR(19) INIT('DISCONNECT') UNAL, /*   3 */
      227       43    1         2 * UBIN BYTE INIT(5) UNAL,
      228       44    1         2 * CHAR(19) INIT('ERASE') UNAL, /*   4 */
      229       45    1         2 * UBIN BYTE INIT(4) UNAL,
      230       46    1         2 * CHAR(19) INIT('FIND') UNAL, /*   5 */
      231       47    1         2 * UBIN BYTE INIT(6) UNAL,
      232       48    1         2 * CHAR(19) INIT('FINISH') UNAL, /*   6 */
      233       49    1         2 * UBIN BYTE INIT(16) UNAL,
      234       50    1         2 * CHAR(19) INIT('NOT A VALID CODE') UNAL, /*   7 */
      235       51    1         2 * UBIN BYTE INIT(3) UNAL,
      236       52    1         2 * CHAR(19) INIT('GET') UNAL, /*   8 */
      237       53    1         2 * UBIN BYTE INIT(2) UNAL,
      238       54    1         2 * CHAR(19) INIT('IF') UNAL, /*   9 */
      239       55    1         2 * UBIN BYTE INIT(16) UNAL,
      240       56    1         2 * CHAR(19) INIT('NOT A VALID CODE') UNAL, /*  10 */
      241       57    1         2 * UBIN BYTE INIT(6) UNAL,
      242       58    1         2 * CHAR(19) INIT('MODIFY') UNAL, /*  11 */
      243       59    1         2 * UBIN BYTE INIT(16) UNAL,
      244       60    1         2 * CHAR(19) INIT('NOT A VALID CODE') UNAL, /*  12 */
      245       61    1         2 * UBIN BYTE INIT(5) UNAL,
      246       62    1         2 * CHAR(19) INIT('READY') UNAL, /*  13 */
      247       63    1         2 * UBIN BYTE INIT(16) UNAL,
      248       64    1         2 * CHAR(19) INIT('NOT A VALID CODE') UNAL, /*  14 */
      249       65    1         2 * UBIN BYTE INIT(5) UNAL,
      250       66    1         2 * CHAR(19) INIT('STORE') UNAL, /*  15 */
      251       67    1         2 * UBIN BYTE INIT(16) UNAL,
      252       68    1         2 * CHAR(19) INIT('NOT A VALID CODE') UNAL, /*  16 */
      253       69    1         2 * UBIN BYTE INIT(16) UNAL,
PL6.E3A0      #002=HELP_IDS_CODE File=ZIG$DDER.:ZIC0TSI                          FRI 09/05/97 11:46 Page:40   
      254       70    1         2 * CHAR(19) INIT('NOT A VALID CODE') UNAL, /*  17 */
      255       71    1         2 * UBIN BYTE INIT(3) UNAL,
      256       72    1         2 * CHAR(19) INIT('HIA') UNAL, /*  18 */
      257       73    1         2 * UBIN BYTE INIT(9) UNAL,
      258       74    1         2 * CHAR(19) INIT('ROLL BACK') UNAL; /*  19 */
      259       75    1   DCL 1 IDS_STMT(0:19) REDEF IDS_STATEMENT ALIGNED,
      260       76    1         2 COUNT UBIN BYTE UNAL, /* TEXT CNT */
      261       77    1         2 TEXT CHAR(19) UNAL; /* TEXT OF STATEMENT */
      262       78
      263       79    1       X = IDS_CODE/100000; /* Get statement code */

     79  2 000002   200003 470500                    LDP0    @IDS_CODE,,AUTO
         2 000003   000000 236100                    LDQ     0,,PR0
         2 000004   000001 772000                    QRL     1
         2 000005   141520 506007                    DIV     50000,DL
         2 000006   200004 756100                    STQ     X,,AUTO

      264       80    1       IF X > 19 THEN /* If illegal code */

     80  2 000007   000024 116007                    CMPQ    20,DL
         2 000010   000012 602000 2                  TNC     s:82

      265       81    1           X=0;

     81  2 000011   200004 450100                    STZ     X,,AUTO

      266       82    1       FIELD2.COUNT2 = IDS_STMT.COUNT( X ); /* TEXTC  of statement */

     82  2 000012   200004 236100                    LDQ     X,,AUTO
         2 000013   000005 402007                    MPY     5,DL
         2 000014   000000 236006 1                  LDQ     IDS_STATEMENT,QL
         2 000015   000000 552040 0                  STBQ    FIELD2,'40'O

      267       83    1       FIELD2.TEXT2 = IDS_STMT.TEXT( X );

     83  2 000016   200004 236100                    LDQ     X,,AUTO
         2 000017   000024 402007                    MPY     20,DL
PL6.E3A0      #002=HELP_IDS_CODE File=ZIG$DDER.:ZIC0TSI                          FRI 09/05/97 11:46 Page:41   
         2 000020   040000 100406                    MLR     fill='040'O
         2 000021   000000 200023 1                  ADSC9   IDS_STATEMENT,Q          cn=1,n=19
         2 000022   000000 200037 0                  ADSC9   FIELD2                   cn=1,n=31

      268       84    1       CALL HELP_CODE_DDER( IDS_CODE );

     84  2 000023   200003 630500                    EPPR0   @IDS_CODE,,AUTO
         2 000024   000000 631400 3                  EPPR1   0
         2 000025   000000 701000 xent               TSX1    HELP_CODE_DDER
         2 000026   000000 011000                    NOP     0

      269       85    1       RETURN;

     85  2 000027   000000 702200 xent               TSX2  ! X66_ARET

FIELD2
 Sect OctLoc
   0     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

IDS_STATEMENT
 Sect OctLoc
   1     000   020116 117124   040101 040126   101114 111104   040103 117104    .NOT A VALID COD
   1     004   105040 040040   006101 103103   105120 124040   040040 040040    E   .ACCEPT
   1     010   040040 040040   040040 040040   007103 117116   116105 103124            .CONNECT
   1     014   040040 040040   040040 040040   040040 040040   012104 111123                .DIS
   1     020   103117 116116   105103 124040   040040 040040   040040 040040    CONNECT
   1     024   005105 122101   123105 040040   040040 040040   040040 040040    .ERASE
   1     030   040040 040040   004106 111116   104040 040040   040040 040040        .FIND
   1     034   040040 040040   040040 040040   006106 111116   111123 110040            .FINISH
   1     040   040040 040040   040040 040040   040040 040040   020116 117124                .NOT
   1     044   040101 040126   101114 111104   040103 117104   105040 040040     A VALID CODE
   1     050   003107 105124   040040 040040   040040 040040   040040 040040    .GET
   1     054   040040 040040   002111 106040   040040 040040   040040 040040        .IF
   1     060   040040 040040   040040 040040   020116 117124   040101 040126            .NOT A V
   1     064   101114 111104   040103 117104   105040 040040   006115 117104    ALID CODE   .MOD
   1     070   111106 131040   040040 040040   040040 040040   040040 040040    IFY
   1     074   020116 117124   040101 040126   101114 111104   040103 117104    .NOT A VALID COD
PL6.E3A0      #002=HELP_IDS_CODE File=ZIG$DDER.:ZIC0TSI                          FRI 09/05/97 11:46 Page:42   
   1     100   105040 040040   005122 105101   104131 040040   040040 040040    E   .READY
   1     104   040040 040040   040040 040040   020116 117124   040101 040126            .NOT A V
   1     110   101114 111104   040103 117104   105040 040040   005123 124117    ALID CODE   .STO
   1     114   122105 040040   040040 040040   040040 040040   040040 040040    RE
   1     120   020116 117124   040101 040126   101114 111104   040103 117104    .NOT A VALID COD
   1     124   105040 040040   020116 117124   040101 040126   101114 111104    E   .NOT A VALID
   1     130   040103 117104   105040 040040   003110 111101   040040 040040     CODE   .HIA
   1     134   040040 040040   040040 040040   040040 040040   011122 117114                .ROL
   1     140   114040 102101   103113 040040   040040 040040   040040 040040    L BACK

(unnamed)
 Sect OctLoc
   3     000   000001 000000                                                    ....
      270       86    1   END HELP_IDS_CODE;

PL6.E3A0      #002=HELP_IDS_CODE File=ZIG$DDER.:ZIC0TSI                          FRI 09/05/97 11:46 Page:43   
--  Include file information  --

   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure HELP_IDS_CODE.

   Procedure HELP_IDS_CODE requires 24 words for executable code.
   Procedure HELP_IDS_CODE requires 6 words of local(AUTO) storage.

    No errors detected in file ZIG$DDER.:ZIC0TSI    .
PL6.E3A0      #002=HELP_IDS_CODE File=ZIG$DDER.:ZIC0TSI                          FRI 09/05/97 11:46 Page:44   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=HELP_IDS_CODE File=ZIG$DDER.:ZIC0TSI                          FRI 09/05/97 11:46 Page:45   
          MINI XREF LISTING

FIELD2.COUNT2
        24**DCL        82<<ASSIGN
FIELD2.TEXT2
        25**DCL        83<<ASSIGN
HELP_CODE_DDER
        29**DCL-ENT    84--CALL
IDS_CODE
        15**DCL         6--PROC       79>>ASSIGN     84<>CALL
IDS_STATEMENT
        34**DCL        75--REDEF
IDS_STMT.COUNT
        76**DCL        82>>ASSIGN
IDS_STMT.TEXT
        77**DCL        83>>ASSIGN
X
        19**DCL        79<<ASSIGN     80>>IF         81<<ASSIGN     82>>ASSIGN     83>>ASSIGN


PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:1    
        1        1        /*M*    GFILE             I-D-S/II   DBACS MODULE               */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*
        8        8        NAME:  Gfile
        9        9        PURPOSE: Get a file (either a temporary 4* Or a schema file
       10       10                 for creation so that the dbcs can ina it and create that
       11       11                 schema file. The only thing in the file when it leaves
       12       12                 this module is an atribute block which is gotten from
       13       13                 the current schema SUBSET(SUB4 or VMS4)
       14       14                 execept for the schema name.                             */
       15       15        /*****************************************************************/
       16       16        GFILE: PROC (LPP,HIGH_PG,PASS_SNAME);
       17       17        /**/
       18       18    1   DCL PASS_SNAME CHAR (30);
       19       19    1   DCL SNAME CHAR(30);
       20       20    1   DCL SNAME_R (0:29) REDEF SNAME CHAR(1);
       21       21    1   DCL ABORT ENTRY;
       22       22    1   DCL LPP UBIN(36);
       23       23    1   DCL HIGH_PG UBIN(36);
       24       24    1   DCL FIRST_SCHEMA_MADE BIT (1) EXT;
       25       25    1   DCL HIGH_SCHEMA_DBK UBIN (36) EXT;
       26       26    1   DCL OLD_SCHEMA_NAME CHAR (30) EXT;
       27       27    1   DCL JUST_TRANSFER BIT (1) EXT;
       28       28    1   DCL K UBIN(36) STATIC ALIGNED;
       29       29    1   DCL SAVE_DCB# UBIN (36);
       30       30    1   DCL KILL_DCB# UBIN (36);
       31       31    1   DCL 1 ATBLK_PG STATIC ALIGNED,
       32       32    1         2 SYS_WRDS (0:1) BIT(36) UNAL, /*Time - date stamp put on by system*/
       33       33    1         2 CHKSUM_WD BIT(36) INIT('0'B) UNAL,
       34       34    1         2 IDS_HDR CHAR(4) INIT('IDS2') UNAL, /*'IDS2' is placed here*/
       35       35    1         2 PG_NUM UBIN(36) INIT(0) UNAL,
       36       36    1         2 NUM_DBPG UBIN(36) INIT(0) UNAL, /*Total number of pages in db*/
       37       37    1         2 WDS2 (0:1) UBIN(36) INIT(0*2) UNAL,
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:2    
       38       38    1         2 DB_INFO UNAL,
       39       39    1           3 DBK_SZ UBIN(18) INIT(0) UNAL, /*Data base key size*/
       40       40    1           3 TH_PERCNT UBIN(9) INIT(75) UNAL, /* A default value for schema*/
       41       41    1           3 PG_MD BIT(2) INIT('0'B) UNAL, /*Always integrated*/
       42       42    1           3 TEMP_AREA BIT(1) INIT('0'B) UNAL, /*Always permanent*/
       43       43    1           3 AREA_NM_SZ UBIN(6) INIT(0) UNAL, /*Size in chars. Of schema name*/
       44       44    1         2 CALC_INFO UNAL,
       45       45    1           3 MBZ UBIN (18) INIT(0) UNAL, /*Must be zero*/
       46       46    1           3 IDB UBIN(18) INIT(128) UNAL, /*Not needed in schema*/
       47       47    1         2 LINE_INFO UNAL,
       48       48    1           3 MBZ UBIN(18) INIT(0) UNAL, /*Must be zero*/
       49       49    1           3 LPP UBIN(18) INIT(0) UNAL, /*# of dbk per page(lines per page)*/
       50       50    1         2 TOT_CALC_HDR UBIN WORD INIT(251) UNAL,
       51       51    1         2 FIR_INV_PGNO UBIN(36) INIT(0) UNAL, /*No inventory pages for schemas*/
       52       52    1         2 LOW_DBK UBIN(36) INIT(1) UNAL, /*Not needed for schemas*/
       53       53    1         2 HIGH_DBK UBIN(36) INIT(131072) UNAL, /*Not needed*/
       54       54    1         2 AREA_NM CHAR(32) INIT(' ') UNAL, /*Schema name*/
       55       55    1         2 AREA_NM_ARRY (0:31) REDEF AREA_NM CHAR(1) UNAL,
       56       56    1         2 DATE_INIT BIT(36) UNAL, /*Data initialized*/
       57       57    1         2 LAST_INFO UNAL,
       58       58    1           3 KEY_FILE_BLT BIT(1) INIT('0'B) UNAL,
       59       59    1           3 CHKSUM BIT (1) INIT ('0'B) UNAL,
       60       60    1           3 * UBIN (16) INIT (0) UNAL,
       61       61    1           3 IUSZ UBIN (18) INIT (2) UNAL,
       62       62    1         2 SCHFID,
       63       63    1           3 FILNM CHAR(30) UNAL,
       64       64    1         2 * UBIN (36) INIT (0) ALIGNED,
       65       65    1         2 TEMP (0:3959) UBIN(9) INIT (0*3960) UNAL;
       66       66    1   DCL 1 DATA_PG STATIC ALIGNED,
       67       67    1         2 SYS_WRDS UNAL,
       68       68    1           3 GRAN_ST BIT(36) UNAL, /*Granule stamp*/
       69       69    1           3 DATE BIT(36) UNAL, /*TIME_DATE stamp*/
       70       70    1         2 CHKSUM_WD SBIN(36) INIT(0) UNAL,
       71       71    1         2 PG_SZ UNAL,
       72       72    1           3 FIR UBIN(18) INIT(4084) UNAL, /*Page size in bytes*/
       73       73    1           3 SEC UBIN(18) INIT(4060) UNAL, /*Space available on page*/
       74       74    1         2 CON_INTRVAL UBIN(36) INIT(0) UNAL, /*Page number*/
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:3    
       75       75    1         2 OFF_LN UNAL,
       76       76    1           3 FIR UBIN(18) INIT(1) UNAL, /*Line number of first record*/
       77       77    1           3 SEC UBIN (18) INIT(1) UNAL, /*Curhiline number of offset array*/
       78       78    1         2 REC_STAT UNAL,
       79       79    1           3 STAT_BITS UBIN (6) INIT(0) UNAL, /*Status of record*/
       80       80    1           3 REC_TYP UBIN(12) INIT(4000) UNAL, /*Type of record*/
       81       81    1           3 REC_SZ UBIN (18) INIT(8) UNAL, /*Size in bytes of record*/
       82       82    1         2 CALC_HDR UNAL,
       83       83    1           3 PRIOR_BITS UBIN (18) INIT(1) UNAL,
       84       84    1           3 NEXT_BITS UBIN (18) INIT(1) UNAL,
       85       85    1         2 ACT UNAL,
       86       86    1           3 ACT_DATA (0:1014) UBIN(36) INIT(0*1015) UNAL,
       87       87    1         2 OFF_WD UNAL,
       88       88    1           3 LN1_OFF UBIN(18) INIT(131072) UNAL,
       89       89    1           3 LN0_OFF UBIN (18) INIT(12) UNAL;
       90       90    1   DCL 1 GETDCB STATIC ALIGNED,
       91       91    1         2 S_NAME UNAL,
       92       92    1           3 CNT UBIN(9) UNAL,
       93       93    1           3 TEXT CHAR(30) INIT(' ') UNAL,
       94       94    1         2 DCB# UBIN WORD INIT(0) ALIGNED;
       95       95    1   DCL CNT UBIN(36) STATIC ALIGNED;
       96       96    1   DCL B$ROS$ PTR SYMREF;
       97       97    1   DCL B$JIT$ PTR SYMREF;
       98       98        /**/
       99       99        %INCLUDE CP_6;
      100      180        %INCLUDE CP_6_SUBS;
      101      720        %FPT_OPEN (FPTN=OPEN_FPT,FUN=CREATE,ORG=IDS,ACS=SEQUEN,CTG=YES,
      102      721         NAME=GETDCB.S_NAME,ASN=FILE,EXIST=NEWFILE,IXTNSIZE=257,
      103      722         SETDCB=YES,ACSVEH=VEH,ACCESS=ACTT,TYPE='1I');
      104      831        %VLP_ATTR(FPTN=VEH);
      105      845        %VLP_ACSVEH(READ=YES,UPD=YES,
      106      846         VEHICLE='IDS',LAST=";");
      107      863        %VLP_ATTR(FPTN=ACTT);
      108      877        %VLP_ACCESS(EXEC=YES,ACCT='ALL',LAST=";");
      109      894        %FPT_OPEN (FPTN=RES_OPEN,REASSIGN=YES,ACSVEH=VEH,ACCESS=ACTT);
      110     1003        %FPT_GETDCB (FPTN=GETDCB_FPT,DCBNAME=GETDCB.S_NAME,DCBNUM=GETDCB.DCB#);
      111     1018        %FPT_WRITE (FPTN=WRITE_FPT,WAIT=YES,NOTIME=NO,FULL=YES);
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:4    
      112     1049        %FPT_READ (FPTN=READ_FPT ,WAIT=YES ,FULL=YES);
      113     1088        %FPT_TIME (FPTN=TIME_FPT,SOURCE=CLOCK,DEST=UTS,TSTAMP=ATBLK_PG.DATE_INIT);
      114     1107        %FPT_CLOSE (FPTN=CLOSE_FPT);
      115     1149        %F$DCB;
      116     1206        %INCLUDE B$JIT;
      117     1496        %INCLUDE B$ROSEG;
      118     1559        %EJECT;
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:5    
      119     1560    1       SNAME = OLD_SCHEMA_NAME;
      120     1561    1       CNT=0;
      121     1562    2       DO WHILE ((SNAME_R(CNT)~= ' ') AND (CNT <=30));
      122     1563    2           CNT=CNT+1;
      123     1564    2           END;
      124     1565    1       GETDCB.S_NAME.CNT = CNT;
      125     1566    1       GETDCB.S_NAME.TEXT=SNAME;
      126     1567    1       CALL M$GETDCB (GETDCB_FPT) ALTRET (ERR1);
      127     1568    1       OPEN_FPT.NAME_=VECTOR(GETDCB.S_NAME);
      128     1569    1       OPEN_FPT.V.DCB#=GETDCB.DCB#;
      129     1570    1       CALL M$OPEN(OPEN_FPT) ALTRET(ERR1);
      130     1571    1       RES_OPEN.V.SETDCB#=%NO#;
      131     1572    1       RES_OPEN.V.EXIST# = %CREATE#;
      132     1573    1       RES_OPEN.V.DCB#=GETDCB.DCB#;
      133     1574    1       IF PASS_SNAME = SNAME
      134     1575    2       THEN DO;
      135     1576    2           RES_OPEN.V.EXIST# = %NEWFILE#;
      136     1577    2           RES_OPEN.V.FUN# = %CREATE#;
      137     1578    2           RES_OPEN.V.IXTNSIZE# = HIGH_PG + 2;
      138     1579    2           WRITE_FPT.V.DCB#=GETDCB.DCB#;
      139     1580    2           SAVE_DCB# = GETDCB.DCB#;
      140     1581    2           END;
      141     1582    2       ELSE DO;
      142     1583    2           RES_OPEN.V.EXIST# = %OLDFILE#;
      143     1584    2           RES_OPEN.V.FUN# = %IN#;
      144     1585    2           READ_FPT.V.DCB# = GETDCB.DCB#;
      145     1586    2           KILL_DCB# = GETDCB.DCB#;
      146     1587    2           END;
      147     1588    1       CALL M$OPEN(RES_OPEN) ALTRET(ERR1); /*Actual open merging in set values*/
      148     1589    1       IF ~FIRST_SCHEMA_MADE
      149     1590    2       THEN DO;
      150     1591        /*
      151     1592              Need to open the tempory schema file so we can transfer the
      152     1593            record from one file to the other.
      153     1594        */
      154     1595    2           GETDCB.S_NAME.CNT = 27;
      155     1596    2           GETDCB.S_NAME.TEXT = '*IDSII-TEMPORY-SCHEMA-FILE*';
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:6    
      156     1597    2           CALL M$GETDCB (GETDCB_FPT) ALTRET (ERR1);
      157     1598    2           OPEN_FPT.NAME_=VECTOR(GETDCB.S_NAME);
      158     1599    2           OPEN_FPT.V.DCB#=GETDCB.DCB#;
      159     1600    2           CALL M$OPEN(OPEN_FPT) ALTRET(ERR1);
      160     1601    2           RES_OPEN.V.SETDCB#=%NO#;
      161     1602    2           RES_OPEN.V.EXIST# = %CREATE#;
      162     1603    2           RES_OPEN.V.DCB#=GETDCB.DCB#;
      163     1604    2           IF PASS_SNAME ~= SNAME
      164     1605    3           THEN DO;
      165     1606    3               RES_OPEN.V.EXIST# = %NEWFILE#;
      166     1607    3               RES_OPEN.V.IXTNSIZE# = HIGH_PG + 2;
      167     1608    3               RES_OPEN.V.FUN# = %CREATE#;
      168     1609    3               WRITE_FPT.V.DCB#=GETDCB.DCB#;
      169     1610    3               SAVE_DCB# = GETDCB.DCB#;
      170     1611    3               SNAME = GETDCB.S_NAME.TEXT;
      171     1612    3               CNT = 27;
      172     1613    3               END;
      173     1614    3           ELSE DO;
      174     1615    3               RES_OPEN.V.EXIST# = %OLDFILE#;
      175     1616    3               KILL_DCB# = GETDCB.DCB#;
      176     1617    3               RES_OPEN.V.FUN# = %IN#;
      177     1618    3               READ_FPT.V.DCB# = GETDCB.DCB#;
      178     1619    3               END;
      179     1620    2           CALL M$OPEN(RES_OPEN) ALTRET(ERR1); /*Actual open merging in set values*/
      180     1621    2           END;
      181     1622    1       ATBLK_PG.AREA_NM=SNAME;
      182     1623    1       ATBLK_PG.DB_INFO.AREA_NM_SZ= CNT;
      183     1624    1       ATBLK_PG.LINE_INFO.LPP=128;
      184     1625    1       ATBLK_PG.SCHFID.FILNM=B$ROS$->B$ROSEG.DCBPTR$->B$RODCB$
      185     1626    1          (GETDCB.DCB#)->F$DCB.NAME#.C;
      186     1627    1       CALL M$TIME(TIME_FPT) ALTRET(ERR1);
      187     1628    1       WRITE_FPT.BUF_.BUF$=ADDR(ATBLK_PG);
      188     1629    1       WRITE_FPT.BUF_.BOUND=SIZEV(ATBLK_PG);
      189     1630    1       ATBLK_PG.NUM_DBPG= HIGH_PG + 1;
      190     1631    1       ATBLK_PG.TOT_CALC_HDR = HIGH_PG - 1;
      191     1632    1       ATBLK_PG.HIGH_DBK = 128 * HIGH_PG;
      192     1633    1       HIGH_SCHEMA_DBK = ATBLK_PG.HIGH_DBK;
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:7    
      193     1634    1       ATBLK_PG.FIR_INV_PGNO = HIGH_PG + 1;
      194     1635    1       CALL M$WRITE(WRITE_FPT) ALTRET(ERR1);
      195     1636    1       WRITE_FPT.BUF_.BUF$=ADDR(DATA_PG);
      196     1637    1       WRITE_FPT.BUF_.BOUND=SIZEV(DATA_PG);
      197     1638    1       READ_FPT.BUF_.BUF$=ADDR(DATA_PG);
      198     1639    1       READ_FPT.BUF_.BOUND=SIZEV(DATA_PG);
      199     1640    1       IF ~FIRST_SCHEMA_MADE
      200     1641    2       THEN DO;
      201     1642    2           CALL M$READ(READ_FPT) ALTRET(ERR1);
      202     1643    2           END;
      203     1644    2       DO K= 1 TO HIGH_PG BY 1;
      204     1645    2           IF (~FIRST_SCHEMA_MADE AND K<= HIGH_PG/2) OR
      205     1646    2              JUST_TRANSFER
      206     1647    3           THEN DO;
      207     1648    3               CALL M$READ(READ_FPT) ALTRET(ERR1);
      208     1649    3               END;
      209     1650    3           ELSE DO;
      210     1651    3               DATA_PG.CON_INTRVAL=K;
      211     1652    3               DATA_PG.CALC_HDR.PRIOR_BITS=((K-1)*ATBLK_PG.LINE_INFO.LPP)+1;
      212     1653    3               DATA_PG.CALC_HDR.NEXT_BITS=((K-1)*ATBLK_PG.LINE_INFO.LPP)+1;
      213     1654    3               END;
      214     1655    2           CALL M$WRITE(WRITE_FPT) ALTRET(ERR1);
      215     1656    2           END;
      216     1657    1       IF FIRST_SCHEMA_MADE
      217     1658    2       THEN DO;
      218     1659    2           DATA_PG.REC_STAT = '777777777777'O;
      219     1660    2           DATA_PG.CALC_HDR = '777777777777'O;
      220     1661    3           DO K = 0 TO 256;
      221     1662    3               DATA_PG.ACT.ACT_DATA(K) = BITBIN('777777777777'O);
      222     1663    3               END;
      223     1664    2           END;
      224     1665    2       ELSE DO;
      225     1666    2           CALL M$READ(READ_FPT) ALTRET(ERR1);
      226     1667    2           END;
      227     1668    1       DATA_PG.CON_INTRVAL = HIGH_PG + 1;
      228     1669    1       CALL M$WRITE(WRITE_FPT) ALTRET(ERR1);
      229     1670    1       DATA_PG.REC_STAT = '007640000010'O;
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:8    
      230     1671    1       DATA_PG.CALC_HDR = '000001000001'O;
      231     1672    1       DATA_PG.ACT = '0'B;
      232     1673    1       DATA_PG.CON_INTRVAL = 0;
      233     1674    1       CLOSE_FPT.V.DCB#=SAVE_DCB#;
      234     1675    1       CLOSE_FPT.V.DISP# = %SAVE#;
      235     1676    1       CALL M$CLOSE(CLOSE_FPT) ALTRET(ERR1);
      236     1677    1       IF ~FIRST_SCHEMA_MADE
      237     1678    2       THEN DO;
      238     1679    2           CLOSE_FPT.V.DCB# = KILL_DCB#;
      239     1680    2           CLOSE_FPT.V.DISP# = %RELEASE#;
      240     1681    2           CALL M$CLOSE(CLOSE_FPT) ALTRET(ERR1);
      241     1682    2           END;
      242     1683    1       RETURN;
      243     1684    1   ERR1:
      244     1685    1       CALL ABORT;
      245     1686    1       RETURN;
      246     1687    1   END GFILE;
      247     1688        %EOD;

PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:9    
--  Include file information  --

   B$ROSEG.:LIB_E05  cannot be made into a system file and is referenced.
   B$JIT.:LIB_E05  cannot be made into a system file and is referenced.
   CP_6_SUBS.:LIB_E05  is referenced.
   CP_6.:LIB_E05  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure GFILE.

   Procedure GFILE requires 301 words for executable code.
   Procedure GFILE requires 18 words of local(AUTO) storage.

PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:10   

 Object Unit name= GFILE                                      File name= ZIG$DDE5NR.:ZIC0TOU
 UTS= SEP 05 '97 11:45:12.84 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  LblCom even  none     1      1  FIRST_SCHEMA_MADE
    1  LblCom even  none     1      1  HIGH_SCHEMA_DBK
    2  LblCom even  none     8     10  OLD_SCHEMA_NAME
    3  LblCom even  none     1      1  JUST_TRANSFER
    4   Data  even  none  2260   4324  GFILE
    5   DCB   even  none     0      0  M$UC
    6  RoData even  UTS     10     12  GFILE
    7   Proc  even  none   301    455  GFILE
    8  RoData even  none     9     11  GFILE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     7      0   yes            yes      Std        3  GFILE

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       0 ABORT
                       nStd      0 X66_AUTO_3
                       nStd      0 X66_ARET
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:11   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     B$ROS$                                B$JIT$                                M$UC

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:12   


        1        1        /*M*    GFILE             I-D-S/II   DBACS MODULE               */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*
        8        8        NAME:  Gfile
        9        9        PURPOSE: Get a file (either a temporary 4* Or a schema file
       10       10                 for creation so that the dbcs can ina it and create that
       11       11                 schema file. The only thing in the file when it leaves
       12       12                 this module is an atribute block which is gotten from
       13       13                 the current schema SUBSET(SUB4 or VMS4)
       14       14                 execept for the schema name.                             */
       15       15        /*****************************************************************/
       16       16        GFILE: PROC (LPP,HIGH_PG,PASS_SNAME);

     16  7 000000   000000 700200 xent  GFILE        TSX0  ! X66_AUTO_3
         7 000001   000022 000003                    ZERO    18,3

       17       17        /**/
       18       18    1   DCL PASS_SNAME CHAR (30);
       19       19    1   DCL SNAME CHAR(30);
       20       20    1   DCL SNAME_R (0:29) REDEF SNAME CHAR(1);
       21       21    1   DCL ABORT ENTRY;
       22       22    1   DCL LPP UBIN(36);
       23       23    1   DCL HIGH_PG UBIN(36);
       24       24    1   DCL FIRST_SCHEMA_MADE BIT (1) EXT;
       25       25    1   DCL HIGH_SCHEMA_DBK UBIN (36) EXT;
       26       26    1   DCL OLD_SCHEMA_NAME CHAR (30) EXT;
       27       27    1   DCL JUST_TRANSFER BIT (1) EXT;
       28       28    1   DCL K UBIN(36) STATIC ALIGNED;
       29       29    1   DCL SAVE_DCB# UBIN (36);
       30       30    1   DCL KILL_DCB# UBIN (36);
       31       31    1   DCL 1 ATBLK_PG STATIC ALIGNED,
       32       32    1         2 SYS_WRDS (0:1) BIT(36) UNAL, /*Time - date stamp put on by system*/
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:13   
       33       33    1         2 CHKSUM_WD BIT(36) INIT('0'B) UNAL,
       34       34    1         2 IDS_HDR CHAR(4) INIT('IDS2') UNAL, /*'IDS2' is placed here*/
       35       35    1         2 PG_NUM UBIN(36) INIT(0) UNAL,
       36       36    1         2 NUM_DBPG UBIN(36) INIT(0) UNAL, /*Total number of pages in db*/
       37       37    1         2 WDS2 (0:1) UBIN(36) INIT(0*2) UNAL,
       38       38    1         2 DB_INFO UNAL,
       39       39    1           3 DBK_SZ UBIN(18) INIT(0) UNAL, /*Data base key size*/
       40       40    1           3 TH_PERCNT UBIN(9) INIT(75) UNAL, /* A default value for schema*/
       41       41    1           3 PG_MD BIT(2) INIT('0'B) UNAL, /*Always integrated*/
       42       42    1           3 TEMP_AREA BIT(1) INIT('0'B) UNAL, /*Always permanent*/
       43       43    1           3 AREA_NM_SZ UBIN(6) INIT(0) UNAL, /*Size in chars. Of schema name*/
       44       44    1         2 CALC_INFO UNAL,
       45       45    1           3 MBZ UBIN (18) INIT(0) UNAL, /*Must be zero*/
       46       46    1           3 IDB UBIN(18) INIT(128) UNAL, /*Not needed in schema*/
       47       47    1         2 LINE_INFO UNAL,
       48       48    1           3 MBZ UBIN(18) INIT(0) UNAL, /*Must be zero*/
       49       49    1           3 LPP UBIN(18) INIT(0) UNAL, /*# of dbk per page(lines per page)*/
       50       50    1         2 TOT_CALC_HDR UBIN WORD INIT(251) UNAL,
       51       51    1         2 FIR_INV_PGNO UBIN(36) INIT(0) UNAL, /*No inventory pages for schemas*/
       52       52    1         2 LOW_DBK UBIN(36) INIT(1) UNAL, /*Not needed for schemas*/
       53       53    1         2 HIGH_DBK UBIN(36) INIT(131072) UNAL, /*Not needed*/
       54       54    1         2 AREA_NM CHAR(32) INIT(' ') UNAL, /*Schema name*/
       55       55    1         2 AREA_NM_ARRY (0:31) REDEF AREA_NM CHAR(1) UNAL,
       56       56    1         2 DATE_INIT BIT(36) UNAL, /*Data initialized*/
       57       57    1         2 LAST_INFO UNAL,
       58       58    1           3 KEY_FILE_BLT BIT(1) INIT('0'B) UNAL,
       59       59    1           3 CHKSUM BIT (1) INIT ('0'B) UNAL,
       60       60    1           3 * UBIN (16) INIT (0) UNAL,
       61       61    1           3 IUSZ UBIN (18) INIT (2) UNAL,
       62       62    1         2 SCHFID,
       63       63    1           3 FILNM CHAR(30) UNAL,
       64       64    1         2 * UBIN (36) INIT (0) ALIGNED,
       65       65    1         2 TEMP (0:3959) UBIN(9) INIT (0*3960) UNAL;
       66       66    1   DCL 1 DATA_PG STATIC ALIGNED,
       67       67    1         2 SYS_WRDS UNAL,
       68       68    1           3 GRAN_ST BIT(36) UNAL, /*Granule stamp*/
       69       69    1           3 DATE BIT(36) UNAL, /*TIME_DATE stamp*/
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:14   
       70       70    1         2 CHKSUM_WD SBIN(36) INIT(0) UNAL,
       71       71    1         2 PG_SZ UNAL,
       72       72    1           3 FIR UBIN(18) INIT(4084) UNAL, /*Page size in bytes*/
       73       73    1           3 SEC UBIN(18) INIT(4060) UNAL, /*Space available on page*/
       74       74    1         2 CON_INTRVAL UBIN(36) INIT(0) UNAL, /*Page number*/
       75       75    1         2 OFF_LN UNAL,
       76       76    1           3 FIR UBIN(18) INIT(1) UNAL, /*Line number of first record*/
       77       77    1           3 SEC UBIN (18) INIT(1) UNAL, /*Curhiline number of offset array*/
       78       78    1         2 REC_STAT UNAL,
       79       79    1           3 STAT_BITS UBIN (6) INIT(0) UNAL, /*Status of record*/
       80       80    1           3 REC_TYP UBIN(12) INIT(4000) UNAL, /*Type of record*/
       81       81    1           3 REC_SZ UBIN (18) INIT(8) UNAL, /*Size in bytes of record*/
       82       82    1         2 CALC_HDR UNAL,
       83       83    1           3 PRIOR_BITS UBIN (18) INIT(1) UNAL,
       84       84    1           3 NEXT_BITS UBIN (18) INIT(1) UNAL,
       85       85    1         2 ACT UNAL,
       86       86    1           3 ACT_DATA (0:1014) UBIN(36) INIT(0*1015) UNAL,
       87       87    1         2 OFF_WD UNAL,
       88       88    1           3 LN1_OFF UBIN(18) INIT(131072) UNAL,
       89       89    1           3 LN0_OFF UBIN (18) INIT(12) UNAL;
       90       90    1   DCL 1 GETDCB STATIC ALIGNED,
       91       91    1         2 S_NAME UNAL,
       92       92    1           3 CNT UBIN(9) UNAL,
       93       93    1           3 TEXT CHAR(30) INIT(' ') UNAL,
       94       94    1         2 DCB# UBIN WORD INIT(0) ALIGNED;
       95       95    1   DCL CNT UBIN(36) STATIC ALIGNED;
       96       96    1   DCL B$ROS$ PTR SYMREF;
       97       97    1   DCL B$JIT$ PTR SYMREF;
       98       98        /**/
       99       99        %INCLUDE CP_6;
      100      180        %INCLUDE CP_6_SUBS;
      101      720        %FPT_OPEN (FPTN=OPEN_FPT,FUN=CREATE,ORG=IDS,ACS=SEQUEN,CTG=YES,
      102      721         NAME=GETDCB.S_NAME,ASN=FILE,EXIST=NEWFILE,IXTNSIZE=257,
      103      722         SETDCB=YES,ACSVEH=VEH,ACCESS=ACTT,TYPE='1I');
      104      831        %VLP_ATTR(FPTN=VEH);
      105      845        %VLP_ACSVEH(READ=YES,UPD=YES,
      106      846         VEHICLE='IDS',LAST=";");
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:15   
      107      863        %VLP_ATTR(FPTN=ACTT);
      108      877        %VLP_ACCESS(EXEC=YES,ACCT='ALL',LAST=";");
      109      894        %FPT_OPEN (FPTN=RES_OPEN,REASSIGN=YES,ACSVEH=VEH,ACCESS=ACTT);
      110     1003        %FPT_GETDCB (FPTN=GETDCB_FPT,DCBNAME=GETDCB.S_NAME,DCBNUM=GETDCB.DCB#);
      111     1018        %FPT_WRITE (FPTN=WRITE_FPT,WAIT=YES,NOTIME=NO,FULL=YES);
      112     1049        %FPT_READ (FPTN=READ_FPT ,WAIT=YES ,FULL=YES);
      113     1088        %FPT_TIME (FPTN=TIME_FPT,SOURCE=CLOCK,DEST=UTS,TSTAMP=ATBLK_PG.DATE_INIT);
      114     1107        %FPT_CLOSE (FPTN=CLOSE_FPT);
      115     1149        %F$DCB;
      116     1206        %INCLUDE B$JIT;
      117     1496        %INCLUDE B$ROSEG;
      118     1559        %EJECT;
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:16   
      119     1560    1       SNAME = OLD_SCHEMA_NAME;

   1560  7 000002   040100 100400                    MLR     fill='040'O
         7 000003   000000 000036 2                  ADSC9   OLD_SCHEMA_NAME          cn=0,n=30
         7 000004   200006 000036                    ADSC9   SNAME,,AUTO              cn=0,n=30

      120     1561    1       CNT=0;

   1561  7 000005   004012 450000 4                  STZ     CNT

      121     1562    2       DO WHILE ((SNAME_R(CNT)~= ' ') AND (CNT <=30));

   1562  7 000006   000012 710000 7                  TRA     s:1564

      122     1563    2           CNT=CNT+1;

   1563  7 000007   004012 235000 4                  LDA     CNT
         7 000010   000001 035007                    ADLA    1,DL
         7 000011   004012 755000 4                  STA     CNT

      123     1564    2           END;

   1564  7 000012   004012 235000 4                  LDA     CNT
         7 000013   040000 106505                    CMPC    fill='040'O
         7 000014   200006 000001                    ADSC9   SNAME,A,AUTO             cn=0,n=1
         7 000015   000000 000001 8                  ADSC9   0                        cn=0,n=1
         7 000016   000021 600000 7                  TZE     s:1565
         7 000017   000037 115007                    CMPA    31,DL
         7 000020   000007 602000 7                  TNC     s:1563

      124     1565    1       GETDCB.S_NAME.CNT = CNT;

   1565  7 000021   004012 236000 4                  LDQ     CNT
         7 000022   000033 736000                    QLS     27
         7 000023   004001 552040 4                  STBQ    GETDCB,'40'O

      125     1566    1       GETDCB.S_NAME.TEXT=SNAME;
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:17   

   1566  7 000024   040000 100500                    MLR     fill='040'O
         7 000025   200006 000036                    ADSC9   SNAME,,AUTO              cn=0,n=30
         7 000026   004001 200036 4                  ADSC9   GETDCB                   cn=1,n=30

      126     1567    1       CALL M$GETDCB (GETDCB_FPT) ALTRET (ERR1);

   1567  7 000027   004210 630400 4                  EPPR0   GETDCB_FPT
         7 000030   460002 713400                    CLIMB   alt,+24578
         7 000031   401000 401760                    pmme    nvectors=3
         7 000032   000451 702000 7                  TSX2    ERR1

      127     1568    1       OPEN_FPT.NAME_=VECTOR(GETDCB.S_NAME);

   1568  7 000033   000002 237000 8                  LDAQ    2
         7 000034   004022 757000 4                  STAQ    OPEN_FPT+6

      128     1569    1       OPEN_FPT.V.DCB#=GETDCB.DCB#;

   1569  7 000035   004011 720000 4                  LXL0    GETDCB+8
         7 000036   004060 740000 4                  STX0    OPEN_FPT+36

      129     1570    1       CALL M$OPEN(OPEN_FPT) ALTRET(ERR1);

   1570  7 000037   004014 630400 4                  EPPR0   OPEN_FPT
         7 000040   450000 713400                    CLIMB   alt,open
         7 000041   410400 401760                    pmme    nvectors=18
         7 000042   000451 702000 7                  TSX2    ERR1

      130     1571    1       RES_OPEN.V.SETDCB#=%NO#;

   1571  7 000043   000001 236000 8                  LDQ     1
         7 000044   004162 356000 4                  ANSQ    RES_OPEN+36

      131     1572    1       RES_OPEN.V.EXIST# = %CREATE#;

   1572  7 000045   000600 236007                    LDQ     384,DL
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:18   
         7 000046   004162 256000 4                  ORSQ    RES_OPEN+36

      132     1573    1       RES_OPEN.V.DCB#=GETDCB.DCB#;

   1573  7 000047   004011 720000 4                  LXL0    GETDCB+8
         7 000050   004162 740000 4                  STX0    RES_OPEN+36

      133     1574    1       IF PASS_SNAME = SNAME

   1574  7 000051   200005 470500                    LDP0    @PASS_SNAME,,AUTO
         7 000052   040100 106500                    CMPC    fill='040'O
         7 000053   000000 000036                    ADSC9   0,,PR0                   cn=0,n=30
         7 000054   200006 000036                    ADSC9   SNAME,,AUTO              cn=0,n=30
         7 000055   000071 601000 7                  TNZ     s:1583

      134     1575    2       THEN DO;

      135     1576    2           RES_OPEN.V.EXIST# = %NEWFILE#;

   1576  7 000056   004162 256000 4                  ORSQ    RES_OPEN+36

      136     1577    2           RES_OPEN.V.FUN# = %CREATE#;

   1577  7 000057   003000 236007                    LDQ     1536,DL
         7 000060   004163 552010 4                  STBQ    RES_OPEN+37,'10'O

      137     1578    2           RES_OPEN.V.IXTNSIZE# = HIGH_PG + 2;

   1578  7 000061   200004 471500                    LDP1    @HIGH_PG,,AUTO
         7 000062   100000 235100                    LDA     0,,PR1
         7 000063   000002 035007                    ADLA    2,DL
         7 000064   004173 755000 4                  STA     RES_OPEN+45

      138     1579    2           WRITE_FPT.V.DCB#=GETDCB.DCB#;

   1579  7 000065   004230 740000 4                  STX0    WRITE_FPT+8

PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:19   
      139     1580    2           SAVE_DCB# = GETDCB.DCB#;

   1580  7 000066   004011 235000 4                  LDA     GETDCB+8
         7 000067   200016 755100                    STA     SAVE_DCB#,,AUTO

      140     1581    2           END;

   1581  7 000070   000102 710000 7                  TRA     s:1588

      141     1582    2       ELSE DO;

      142     1583    2           RES_OPEN.V.EXIST# = %OLDFILE#;

   1583  7 000071   004162 236000 4                  LDQ     RES_OPEN+36
         7 000072   000004 376000 8                  ANQ     4
         7 000073   000400 276007                    ORQ     256,DL
         7 000074   004162 756000 4                  STQ     RES_OPEN+36

      143     1584    2           RES_OPEN.V.FUN# = %IN#;

   1584  7 000075   002000 236007                    LDQ     1024,DL
         7 000076   004163 552010 4                  STBQ    RES_OPEN+37,'10'O

      144     1585    2           READ_FPT.V.DCB# = GETDCB.DCB#;

   1585  7 000077   004244 740000 4                  STX0    READ_FPT+8

      145     1586    2           KILL_DCB# = GETDCB.DCB#;

   1586  7 000100   004011 235000 4                  LDA     GETDCB+8
         7 000101   200017 755100                    STA     KILL_DCB#,,AUTO

      146     1587    2           END;

      147     1588    1       CALL M$OPEN(RES_OPEN) ALTRET(ERR1); /*Actual open merging in set values*/

   1588  7 000102   004116 630400 4                  EPPR0   RES_OPEN
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:20   
         7 000103   450000 713400                    CLIMB   alt,open
         7 000104   410400 401760                    pmme    nvectors=18
         7 000105   000451 702000 7                  TSX2    ERR1

      148     1589    1       IF ~FIRST_SCHEMA_MADE

   1589  7 000106   000000 236000 0                  LDQ     FIRST_SCHEMA_MADE
         7 000107   400000 376003                    ANQ     -131072,DU
         7 000110   400000 676003                    ERQ     -131072,DU
         7 000111   000203 600000 7                  TZE     s:1622

      149     1590    2       THEN DO;

      150     1591        /*
      151     1592              Need to open the tempory schema file so we can transfer the
      152     1593            record from one file to the other.
      153     1594        */
      154     1595    2           GETDCB.S_NAME.CNT = 27;

   1595  7 000112   033000 236003                    LDQ     13824,DU
         7 000113   004001 552040 4                  STBQ    GETDCB,'40'O

      155     1596    2           GETDCB.S_NAME.TEXT = '*IDSII-TEMPORY-SCHEMA-FILE*';

   1596  7 000114   040000 100400                    MLR     fill='040'O
         7 000115   000000 000033 6                  ADSC9   0                        cn=0,n=27
         7 000116   004001 200036 4                  ADSC9   GETDCB                   cn=1,n=30

      156     1597    2           CALL M$GETDCB (GETDCB_FPT) ALTRET (ERR1);

   1597  7 000117   004210 630400 4                  EPPR0   GETDCB_FPT
         7 000120   460002 713400                    CLIMB   alt,+24578
         7 000121   401000 401760                    pmme    nvectors=3
         7 000122   000451 702000 7                  TSX2    ERR1

      157     1598    2           OPEN_FPT.NAME_=VECTOR(GETDCB.S_NAME);

PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:21   
   1598  7 000123   000002 237000 8                  LDAQ    2
         7 000124   004022 757000 4                  STAQ    OPEN_FPT+6

      158     1599    2           OPEN_FPT.V.DCB#=GETDCB.DCB#;

   1599  7 000125   004011 720000 4                  LXL0    GETDCB+8
         7 000126   004060 740000 4                  STX0    OPEN_FPT+36

      159     1600    2           CALL M$OPEN(OPEN_FPT) ALTRET(ERR1);

   1600  7 000127   004014 630400 4                  EPPR0   OPEN_FPT
         7 000130   450000 713400                    CLIMB   alt,open
         7 000131   410400 401760                    pmme    nvectors=18
         7 000132   000451 702000 7                  TSX2    ERR1

      160     1601    2           RES_OPEN.V.SETDCB#=%NO#;

   1601  7 000133   000001 236000 8                  LDQ     1
         7 000134   004162 356000 4                  ANSQ    RES_OPEN+36

      161     1602    2           RES_OPEN.V.EXIST# = %CREATE#;

   1602  7 000135   000600 236007                    LDQ     384,DL
         7 000136   004162 256000 4                  ORSQ    RES_OPEN+36

      162     1603    2           RES_OPEN.V.DCB#=GETDCB.DCB#;

   1603  7 000137   004011 720000 4                  LXL0    GETDCB+8
         7 000140   004162 740000 4                  STX0    RES_OPEN+36

      163     1604    2           IF PASS_SNAME ~= SNAME

   1604  7 000141   200005 470500                    LDP0    @PASS_SNAME,,AUTO
         7 000142   040100 106500                    CMPC    fill='040'O
         7 000143   000000 000036                    ADSC9   0,,PR0                   cn=0,n=30
         7 000144   200006 000036                    ADSC9   SNAME,,AUTO              cn=0,n=30
         7 000145   000166 600000 7                  TZE     s:1615
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:22   

      164     1605    3           THEN DO;

      165     1606    3               RES_OPEN.V.EXIST# = %NEWFILE#;

   1606  7 000146   004162 256000 4                  ORSQ    RES_OPEN+36

      166     1607    3               RES_OPEN.V.IXTNSIZE# = HIGH_PG + 2;

   1607  7 000147   200004 471500                    LDP1    @HIGH_PG,,AUTO
         7 000150   100000 235100                    LDA     0,,PR1
         7 000151   000002 035007                    ADLA    2,DL
         7 000152   004173 755000 4                  STA     RES_OPEN+45

      167     1608    3               RES_OPEN.V.FUN# = %CREATE#;

   1608  7 000153   003000 236007                    LDQ     1536,DL
         7 000154   004163 552010 4                  STBQ    RES_OPEN+37,'10'O

      168     1609    3               WRITE_FPT.V.DCB#=GETDCB.DCB#;

   1609  7 000155   004230 740000 4                  STX0    WRITE_FPT+8

      169     1610    3               SAVE_DCB# = GETDCB.DCB#;

   1610  7 000156   004011 235000 4                  LDA     GETDCB+8
         7 000157   200016 755100                    STA     SAVE_DCB#,,AUTO

      170     1611    3               SNAME = GETDCB.S_NAME.TEXT;

   1611  7 000160   040100 100400                    MLR     fill='040'O
         7 000161   004001 200036 4                  ADSC9   GETDCB                   cn=1,n=30
         7 000162   200006 000036                    ADSC9   SNAME,,AUTO              cn=0,n=30

      171     1612    3               CNT = 27;

   1612  7 000163   000033 235007                    LDA     27,DL
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:23   
         7 000164   004012 755000 4                  STA     CNT

      172     1613    3               END;

   1613  7 000165   000177 710000 7                  TRA     s:1620

      173     1614    3           ELSE DO;

      174     1615    3               RES_OPEN.V.EXIST# = %OLDFILE#;

   1615  7 000166   004162 236000 4                  LDQ     RES_OPEN+36
         7 000167   000004 376000 8                  ANQ     4
         7 000170   000400 276007                    ORQ     256,DL
         7 000171   004162 756000 4                  STQ     RES_OPEN+36

      175     1616    3               KILL_DCB# = GETDCB.DCB#;

   1616  7 000172   004011 235000 4                  LDA     GETDCB+8
         7 000173   200017 755100                    STA     KILL_DCB#,,AUTO

      176     1617    3               RES_OPEN.V.FUN# = %IN#;

   1617  7 000174   002000 236007                    LDQ     1024,DL
         7 000175   004163 552010 4                  STBQ    RES_OPEN+37,'10'O

      177     1618    3               READ_FPT.V.DCB# = GETDCB.DCB#;

   1618  7 000176   004244 740000 4                  STX0    READ_FPT+8

      178     1619    3               END;

      179     1620    2           CALL M$OPEN(RES_OPEN) ALTRET(ERR1); /*Actual open merging in set values*/

   1620  7 000177   004116 630400 4                  EPPR0   RES_OPEN
         7 000200   450000 713400                    CLIMB   alt,open
         7 000201   410400 401760                    pmme    nvectors=18
         7 000202   000451 702000 7                  TSX2    ERR1
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:24   

      180     1621    2           END;

      181     1622    1       ATBLK_PG.AREA_NM=SNAME;

   1622  7 000203   040000 100500                    MLR     fill='040'O
         7 000204   200006 000036                    ADSC9   SNAME,,AUTO              cn=0,n=30
         7 000205   000020 000040 4                  ADSC9   ATBLK_PG+15              cn=0,n=32

      182     1623    1       ATBLK_PG.DB_INFO.AREA_NM_SZ= CNT;

   1623  7 000206   004012 236000 4                  LDQ     CNT
         7 000207   000011 752001 4                  STCQ    ATBLK_PG+8,'01'O

      183     1624    1       ATBLK_PG.LINE_INFO.LPP=128;

   1624  7 000210   000200 220003                    LDX0    128,DU
         7 000211   000013 440000 4                  SXL0    ATBLK_PG+10

      184     1625    1       ATBLK_PG.SCHFID.FILNM=B$ROS$->B$ROSEG.DCBPTR$->B$RODCB$

   1625  7 000212   000000 470400 xsym               LDP0    B$ROS$
         7 000213   000000 471500                    LDP1    0,,PR0
         7 000214   004011 721000 4                  LXL1    GETDCB+8
         7 000215   100000 473511                    LDP3    0,X1,PR1
         7 000216   040000 100500                    MLR     fill='040'O
         7 000217   300010 200036                    ADSC9   8,,PR3                   cn=1,n=30
         7 000220   000032 000036 4                  ADSC9   ATBLK_PG+25              cn=0,n=30

      185     1626    1          (GETDCB.DCB#)->F$DCB.NAME#.C;
      186     1627    1       CALL M$TIME(TIME_FPT) ALTRET(ERR1);

   1627  7 000221   004252 630400 4                  EPPR0   TIME_FPT
         7 000222   420004 713400                    CLIMB   alt,+8196
         7 000223   402000 401760                    pmme    nvectors=5
         7 000224   000451 702000 7                  TSX2    ERR1

PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:25   
      187     1628    1       WRITE_FPT.BUF_.BUF$=ADDR(ATBLK_PG);

   1628  7 000225   000005 236000 8                  LDQ     5
         7 000226   004225 756000 4                  STQ     WRITE_FPT+5

      188     1629    1       WRITE_FPT.BUF_.BOUND=SIZEV(ATBLK_PG);

   1629  7 000227   004224 236000 4                  LDQ     WRITE_FPT+4
         7 000230   177777 376007                    ANQ     65535,DL
         7 000231   000006 276000 8                  ORQ     6
         7 000232   004224 756000 4                  STQ     WRITE_FPT+4

      189     1630    1       ATBLK_PG.NUM_DBPG= HIGH_PG + 1;

   1630  7 000233   200004 470500                    LDP0    @HIGH_PG,,AUTO
         7 000234   000000 235100                    LDA     0,,PR0
         7 000235   000001 035007                    ADLA    1,DL
         7 000236   000006 755000 4                  STA     ATBLK_PG+5

      190     1631    1       ATBLK_PG.TOT_CALC_HDR = HIGH_PG - 1;

   1631  7 000237   000000 235100                    LDA     0,,PR0
         7 000240   000001 135007                    SBLA    1,DL
         7 000241   000014 755000 4                  STA     ATBLK_PG+11

      191     1632    1       ATBLK_PG.HIGH_DBK = 128 * HIGH_PG;

   1632  7 000242   000000 235100                    LDA     0,,PR0
         7 000243   000007 735000                    ALS     7
         7 000244   000017 755000 4                  STA     ATBLK_PG+14

      192     1633    1       HIGH_SCHEMA_DBK = ATBLK_PG.HIGH_DBK;

   1633  7 000245   000000 755000 1                  STA     HIGH_SCHEMA_DBK

      193     1634    1       ATBLK_PG.FIR_INV_PGNO = HIGH_PG + 1;

PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:26   
   1634  7 000246   000000 235100                    LDA     0,,PR0
         7 000247   000001 035007                    ADLA    1,DL
         7 000250   000015 755000 4                  STA     ATBLK_PG+12

      194     1635    1       CALL M$WRITE(WRITE_FPT) ALTRET(ERR1);

   1635  7 000251   004220 630400 4                  EPPR0   WRITE_FPT
         7 000252   440001 713400                    CLIMB   alt,write
         7 000253   401400 401760                    pmme    nvectors=4
         7 000254   000451 702000 7                  TSX2    ERR1

      195     1636    1       WRITE_FPT.BUF_.BUF$=ADDR(DATA_PG);

   1636  7 000255   000007 236000 8                  LDQ     7
         7 000256   004225 756000 4                  STQ     WRITE_FPT+5

      196     1637    1       WRITE_FPT.BUF_.BOUND=SIZEV(DATA_PG);

   1637  7 000257   004224 236000 4                  LDQ     WRITE_FPT+4
         7 000260   177777 376007                    ANQ     65535,DL
         7 000261   000006 276000 8                  ORQ     6
         7 000262   004224 756000 4                  STQ     WRITE_FPT+4

      197     1638    1       READ_FPT.BUF_.BUF$=ADDR(DATA_PG);

   1638  7 000263   000007 236000 8                  LDQ     7
         7 000264   004241 756000 4                  STQ     READ_FPT+5

      198     1639    1       READ_FPT.BUF_.BOUND=SIZEV(DATA_PG);

   1639  7 000265   004240 236000 4                  LDQ     READ_FPT+4
         7 000266   177777 376007                    ANQ     65535,DL
         7 000267   000006 276000 8                  ORQ     6
         7 000270   004240 756000 4                  STQ     READ_FPT+4

      199     1640    1       IF ~FIRST_SCHEMA_MADE

PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:27   
   1640  7 000271   000000 236000 0                  LDQ     FIRST_SCHEMA_MADE
         7 000272   400000 376003                    ANQ     -131072,DU
         7 000273   400000 676003                    ERQ     -131072,DU
         7 000274   000301 600000 7                  TZE     s:1644

      200     1641    2       THEN DO;

      201     1642    2           CALL M$READ(READ_FPT) ALTRET(ERR1);

   1642  7 000275   004234 630400 4                  EPPR0   READ_FPT
         7 000276   440000 713400                    CLIMB   alt,read
         7 000277   401400 401760                    pmme    nvectors=4
         7 000300   000451 702000 7                  TSX2    ERR1

      202     1643    2           END;

      203     1644    2       DO K= 1 TO HIGH_PG BY 1;

   1644  7 000301   000001 235007                    LDA     1,DL
         7 000302   000000 755000 4                  STA     K
         7 000303   000355 710000 7                  TRA     s:1656+3

      204     1645    2           IF (~FIRST_SCHEMA_MADE AND K<= HIGH_PG/2) OR

   1645  7 000304   000000 236000 0                  LDQ     FIRST_SCHEMA_MADE
         7 000305   400000 376003                    ANQ     -131072,DU
         7 000306   400000 676003                    ERQ     -131072,DU
         7 000307   000315 600000 7                  TZE     s:1645+9
         7 000310   200004 470500                    LDP0    @HIGH_PG,,AUTO
         7 000311   000000 236100                    LDQ     0,,PR0
         7 000312   000001 772000                    QRL     1
         7 000313   000000 116000 4                  CMPQ    K
         7 000314   000317 603000 7                  TRC     s:1648
         7 000315   000000 234000 3                  SZN     JUST_TRANSFER
         7 000316   000324 605000 7                  TPL     s:1651

      205     1646    2              JUST_TRANSFER
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:28   
      206     1647    3           THEN DO;

      207     1648    3               CALL M$READ(READ_FPT) ALTRET(ERR1);

   1648  7 000317   004234 630400 4                  EPPR0   READ_FPT
         7 000320   440000 713400                    CLIMB   alt,read
         7 000321   401400 401760                    pmme    nvectors=4
         7 000322   000451 702000 7                  TSX2    ERR1

      208     1649    3               END;

   1649  7 000323   000346 710000 7                  TRA     s:1655

      209     1650    3           ELSE DO;

      210     1651    3               DATA_PG.CON_INTRVAL=K;

   1651  7 000324   000000 235000 4                  LDA     K
         7 000325   002005 755000 4                  STA     DATA_PG+4

      211     1652    3               DATA_PG.CALC_HDR.PRIOR_BITS=((K-1)*ATBLK_PG.LINE_INFO.LPP)+1;

   1652  7 000326   000013 236000 4                  LDQ     ATBLK_PG+10
         7 000327   777777 376007                    ANQ     -1,DL
         7 000330   200020 756100                    STQ     KILL_DCB#+1,,AUTO
         7 000331   000000 236000 4                  LDQ     K
         7 000332   000001 136007                    SBLQ    1,DL
         7 000333   200020 402100                    MPY     KILL_DCB#+1,,AUTO
         7 000334   000001 620006                    EAX0    1,QL
         7 000335   002010 740000 4                  STX0    DATA_PG+7

      212     1653    3               DATA_PG.CALC_HDR.NEXT_BITS=((K-1)*ATBLK_PG.LINE_INFO.LPP)+1;

   1653  7 000336   000013 236000 4                  LDQ     ATBLK_PG+10
         7 000337   777777 376007                    ANQ     -1,DL
         7 000340   200020 756100                    STQ     KILL_DCB#+1,,AUTO
         7 000341   000000 236000 4                  LDQ     K
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:29   
         7 000342   000001 136007                    SBLQ    1,DL
         7 000343   200020 402100                    MPY     KILL_DCB#+1,,AUTO
         7 000344   000001 621006                    EAX1    1,QL
         7 000345   002010 441000 4                  SXL1    DATA_PG+7

      213     1654    3               END;

      214     1655    2           CALL M$WRITE(WRITE_FPT) ALTRET(ERR1);

   1655  7 000346   004220 630400 4                  EPPR0   WRITE_FPT
         7 000347   440001 713400                    CLIMB   alt,write
         7 000350   401400 401760                    pmme    nvectors=4
         7 000351   000451 702000 7                  TSX2    ERR1

      215     1656    2           END;

   1656  7 000352   000000 235000 4                  LDA     K
         7 000353   000001 035007                    ADLA    1,DL
         7 000354   000000 755000 4                  STA     K
         7 000355   200004 470500                    LDP0    @HIGH_PG,,AUTO
         7 000356   000000 236100                    LDQ     0,,PR0
         7 000357   000000 116000 4                  CMPQ    K
         7 000360   000304 603000 7                  TRC     s:1645

      216     1657    1       IF FIRST_SCHEMA_MADE

   1657  7 000361   000000 234000 0                  SZN     FIRST_SCHEMA_MADE
         7 000362   000400 605000 7                  TPL     s:1666

      217     1658    2       THEN DO;

      218     1659    2           DATA_PG.REC_STAT = '777777777777'O;

   1659  7 000363   000007 236000 6                  LDQ     7
         7 000364   002007 756000 4                  STQ     DATA_PG+6

      219     1660    2           DATA_PG.CALC_HDR = '777777777777'O;
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:30   

   1660  7 000365   002010 756000 4                  STQ     DATA_PG+7

      220     1661    3           DO K = 0 TO 256;

   1661  7 000366   000000 450000 4                  STZ     K

      221     1662    3               DATA_PG.ACT.ACT_DATA(K) = BITBIN('777777777777'O);

   1662  7 000367   000000 720000 4                  LXL0    K
         7 000370   000007 235000 6                  LDA     7
         7 000371   002011 755010 4                  STA     DATA_PG+8,X0

      222     1663    3               END;

   1663  7 000372   000000 236000 4                  LDQ     K
         7 000373   000001 036007                    ADLQ    1,DL
         7 000374   000000 756000 4                  STQ     K
         7 000375   000401 116007                    CMPQ    257,DL
         7 000376   000367 602000 7                  TNC     s:1662

      223     1664    2           END;

   1664  7 000377   000404 710000 7                  TRA     s:1668

      224     1665    2       ELSE DO;

      225     1666    2           CALL M$READ(READ_FPT) ALTRET(ERR1);

   1666  7 000400   004234 630400 4                  EPPR0   READ_FPT
         7 000401   440000 713400                    CLIMB   alt,read
         7 000402   401400 401760                    pmme    nvectors=4
         7 000403   000451 702000 7                  TSX2    ERR1

      226     1667    2           END;

      227     1668    1       DATA_PG.CON_INTRVAL = HIGH_PG + 1;
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:31   

   1668  7 000404   200004 470500                    LDP0    @HIGH_PG,,AUTO
         7 000405   000000 235100                    LDA     0,,PR0
         7 000406   000001 035007                    ADLA    1,DL
         7 000407   002005 755000 4                  STA     DATA_PG+4

      228     1669    1       CALL M$WRITE(WRITE_FPT) ALTRET(ERR1);

   1669  7 000410   004220 630400 4                  EPPR0   WRITE_FPT
         7 000411   440001 713400                    CLIMB   alt,write
         7 000412   401400 401760                    pmme    nvectors=4
         7 000413   000451 702000 7                  TSX2    ERR1

      229     1670    1       DATA_PG.REC_STAT = '007640000010'O;

   1670  7 000414   000010 236000 6                  LDQ     8
         7 000415   002007 756000 4                  STQ     DATA_PG+6

      230     1671    1       DATA_PG.CALC_HDR = '000001000001'O;

   1671  7 000416   000011 236000 6                  LDQ     9
         7 000417   002010 756000 4                  STQ     DATA_PG+7

      231     1672    1       DATA_PG.ACT = '0'B;

   1672  7 000420   000000 100400                    MLR     fill='000'O
         7 000421   000010 000001 8                  ADSC9   8                        cn=0,n=1
         7 000422   002011 007734 4                  ADSC9   DATA_PG+8                cn=0,n=4060

      232     1673    1       DATA_PG.CON_INTRVAL = 0;

   1673  7 000423   002005 450000 4                  STZ     DATA_PG+4

      233     1674    1       CLOSE_FPT.V.DCB#=SAVE_DCB#;

   1674  7 000424   200016 720100                    LXL0    SAVE_DCB#,,AUTO
         7 000425   004320 740000 4                  STX0    CLOSE_FPT+26
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:32   

      234     1675    1       CLOSE_FPT.V.DISP# = %SAVE#;

   1675  7 000426   000002 236007                    LDQ     2,DL
         7 000427   004320 552004 4                  STBQ    CLOSE_FPT+26,'04'O

      235     1676    1       CALL M$CLOSE(CLOSE_FPT) ALTRET(ERR1);

   1676  7 000430   004266 630400 4                  EPPR0   CLOSE_FPT
         7 000431   450001 713400                    CLIMB   alt,close
         7 000432   406000 401760                    pmme    nvectors=13
         7 000433   000451 702000 7                  TSX2    ERR1

      236     1677    1       IF ~FIRST_SCHEMA_MADE

   1677  7 000434   000000 236000 0                  LDQ     FIRST_SCHEMA_MADE
         7 000435   400000 376003                    ANQ     -131072,DU
         7 000436   400000 676003                    ERQ     -131072,DU
         7 000437   000450 600000 7                  TZE     s:1683

      237     1678    2       THEN DO;

      238     1679    2           CLOSE_FPT.V.DCB# = KILL_DCB#;

   1679  7 000440   200017 720100                    LXL0    KILL_DCB#,,AUTO
         7 000441   004320 740000 4                  STX0    CLOSE_FPT+26

      239     1680    2           CLOSE_FPT.V.DISP# = %RELEASE#;

   1680  7 000442   000001 236007                    LDQ     1,DL
         7 000443   004320 552004 4                  STBQ    CLOSE_FPT+26,'04'O

      240     1681    2           CALL M$CLOSE(CLOSE_FPT) ALTRET(ERR1);

   1681  7 000444   004266 630400 4                  EPPR0   CLOSE_FPT
         7 000445   450001 713400                    CLIMB   alt,close
         7 000446   406000 401760                    pmme    nvectors=13
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:33   
         7 000447   000451 702000 7                  TSX2    ERR1

      241     1682    2           END;

      242     1683    1       RETURN;

   1683  7 000450   000000 702200 xent               TSX2  ! X66_ARET

      243     1684    1   ERR1:
      244     1685    1       CALL ABORT;

   1685  7 000451   000010 631400 8     ERR1         EPPR1   8
         7 000452   000000 701000 xent               TSX1    ABORT
         7 000453   000000 011000                    NOP     0

      245     1686    1       RETURN;

   1686  7 000454   000000 702200 xent               TSX2  ! X66_ARET

OLD_SCHEMA_NAME
 Sect OctLoc
   2     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

ATBLK_PG
 Sect OctLoc
   4     001   ****** ******   ****** ******   000000 000000   111104 123062    ............IDS2
   4     005   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4     011   000000 113000   000000 000200   000000 000000   000000 000373    ..K.............
   4     015   000000 000000   000000 000001   000000 400000   040040 040040    ............
   4     021   040040 040040   040040 040040   040040 040040   040040 040040
   4     025   040040 040040   040040 040040   040040 040040   ****** ******                ....
   4     031   000000 000002   ****** ******   ****** ******   ****** ******    ................
   4     041*  ****** ******   000000 000000   000000 000000   000000 000000    ................
   4     045   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4    1775*  000000 000000   000000 000000   000000 000000   000000 000000    ................

DATA_PG
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:34   
 Sect OctLoc
   4    2001   ****** ******   ****** ******   000000 000000   007764 007734    ................
   4    2005   000000 000000   000001 000001   007640 000010   000001 000001    ................
   4    2011   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4    3775*  000000 000000   000000 000000   000000 000000   400000 000014    ................

GETDCB
 Sect OctLoc
   4    4001   ***040 040040   040040 040040   040040 040040   040040 040040    .
   4    4005   040040 040040   040040 040040   040040 040040   040040 040***                   .
   4    4011   000000 000000                                                    ....

OPEN_FPT
 Sect OctLoc
   4    4014   000025 777640   004060 006000   000000 177640   000000 006014    .....0..........
   4    4020   000000 177640   000000 006014   000007 577640   004001 006000    ................
   4    4024   000000 177640   000000 006014   000003 777640   004111 006000    .............I..
   4    4030   000002 777640   004106 006000   000000 177640   000000 006014    .....F..........
   4    4034   000000 177640   000000 006014   000000 177640   000000 006014    ................
   4    4060*  000000 100702   000000 003001   252525 007001   061111 252520    ..@.........1I..
   4    4064   000040 040040   000000 000000   000000 777777   000000 000000    .   ............
   4    4070   000000 000000   000000 000401   000000 000000   000000 000000    ................
   4    4074   251000 622000   000000 000000   000000 000000   111250 000000    ............I...
   4    4100   040040 040040   000000 000000   000000 000000   000000 000000        ............
   4    4104   000000 000000   ****** ******                                    ........

VEH
 Sect OctLoc
   4    4106   000000 000002   440000 003111   104123 ******                    .......IDS..

ACTT
 Sect OctLoc
   4    4111   000000 000003   002000 101114   114040 040040   040040 ******    ......ALL     ..

RES_OPEN
 Sect OctLoc
   4    4116   000025 777640   004162 006000   000000 177640   000000 006014    .....r..........
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:35   
   4    4122   000000 177640   000000 006014   000000 177640   000000 006014    ................
   4    4126   000000 177640   000000 006014   000003 777640   004111 006000    .............I..
   4    4132   000002 777640   004106 006000   000000 177640   000000 006014    .....F..........
   4    4136   000000 177640   000000 006014   000000 177640   000000 006014    ................
   4    4162*  000000 200042   000000 000000   252525 000000   000040 252520    ..."......... ..
   4    4166   000040 040040   000000 000000   000000 777777   000000 000000    .   ............
   4    4172   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4    4176   251000 622000   000000 000000   000000 000000   111250 000000    ............I...
   4    4202   040040 040040   000000 000000   000000 000000   000000 000000        ............
   4    4206   000000 000000   ****** ******                                    ........

GETDCB_FPT
 Sect OctLoc
   4    4210   000001 777640   004216 006000   000007 577640   004001 006000    ................
   4    4214   000000 777640   004011 006000   000000 000000   000000 000000    ................

WRITE_FPT
 Sect OctLoc
   4    4220   000003 777640   004230 006000   000000 177640   000000 006014    ................
   4    4224   000000 177640   000000 006014   000000 177640   000000 006014    ................
   4    4230   000000 410400   000000 000000   000000 000000   000000 000000    ................

READ_FPT
 Sect OctLoc
   4    4234   000005 777640   004244 006000   000000 177640   000000 006014    ................
   4    4240   000000 177640   000000 006014   000000 177640   000000 006014    ................
   4    4244   000000 410000   000000 000000   000000 000000   000000 000000    ................
   4    4250   000000 000000   000000 000000                                    ........

TIME_FPT
 Sect OctLoc
   4    4252   000001 777640   004264 006000   000000 177640   000000 006014    ................
   4    4256   000000 177640   000000 006014   000000 177640   000000 006014    ................
   4    4262   000000 777640   000030 006000   000004 000000   ****** ******    ................

CLOSE_FPT
 Sect OctLoc
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:36   
   4    4266   000003 777640   004320 006000   000000 177640   000000 006014    ................
   4    4272   000000 177640   000000 006014   000000 177640   000000 006014    ................
   4    4316*  000000 177640   000000 006014   000000 000000   000000 000040    ...............
   4    4322   000220 000000   000000 000000                                    ........

(unnamed)
 Sect OctLoc
   6     000   052111 104123   111111 055124   105115 120117   122131 055123    *IDSII-TEMPORY-S
   6     004   103110 105115   101055 106111   114105 052040   777777 777777    CHEMA-FILE* ....
   6     010   007640 000010   000001 000001                                    ........

(unnamed)
 Sect OctLoc
   8     000   040040 040040   777777 677777   000007 577640   004001 006000        ............
   8     004   777777 777177   000001 006000   001777 600000   002001 006000    ................
   8     010   000000 000000                                                    ....
      246     1687    1   END GFILE;
      247     1688        %EOD;

PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:37   
--  Include file information  --

   B$ROSEG.:LIB_E05  cannot be made into a system file and is referenced.
   B$JIT.:LIB_E05  cannot be made into a system file and is referenced.
   CP_6_SUBS.:LIB_E05  is referenced.
   CP_6.:LIB_E05  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure GFILE.

   Procedure GFILE requires 301 words for executable code.
   Procedure GFILE requires 18 words of local(AUTO) storage.
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:38   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:39   
          MINI XREF LISTING

ABORT
        21**DCL-ENT  1685--CALL
ACTT
       874**DCL       789--DCLINIT   961--DCLINIT
ACTT.Q
       875**DCL       874--DCLINIT
ATBLK_PG
        31**DCL      1628--ASSIGN   1629--ASSIGN
ATBLK_PG.AREA_NM
        54**DCL        55--REDEF    1622<<ASSIGN
ATBLK_PG.DATE_INIT
        56**DCL      1103--DCLINIT
ATBLK_PG.DB_INFO.AREA_NM_SZ
        43**DCL      1623<<ASSIGN
ATBLK_PG.FIR_INV_PGNO
        51**DCL      1634<<ASSIGN
ATBLK_PG.HIGH_DBK
        53**DCL      1632<<ASSIGN   1633>>ASSIGN
ATBLK_PG.LINE_INFO.LPP
        49**DCL      1624<<ASSIGN   1652>>ASSIGN   1653>>ASSIGN
ATBLK_PG.NUM_DBPG
        36**DCL      1630<<ASSIGN
ATBLK_PG.SCHFID.FILNM
        63**DCL      1625<<ASSIGN
ATBLK_PG.TOT_CALC_HDR
        50**DCL      1631<<ASSIGN
B$JIT.CPFLAGS1.SLEAZE
      1314**DCL      1314--REDEF
B$JIT.ERR.MID
      1221**DCL      1221--REDEF
B$JIT.JRESPEAK
      1382**DCL      1383--REDEF
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:40   
B$JIT.ORIGINATOR_PORT.FROM_CR
      1491**DCL      1491--REDEF    1492--REDEF
B$JIT.PNR
      1395**DCL      1395--REDEF
B$JIT.TSLINE
      1489**DCL      1490--REDEF
B$JIT$
        97**DCL      1215--IMP-PTR
B$RODCB$
      1543**DCL      1625>>ASSIGN
B$ROS$
        96**DCL      1625>>ASSIGN
B$ROSEG.DCBPTR$
      1507**DCL      1625>>ASSIGN
CLOSE_FPT
      1130**DCL      1676<>CALL     1681<>CALL
CLOSE_FPT.SN_
      1130**DCL      1130--REDEF
CLOSE_FPT.UTL_
      1131**DCL      1131--REDEF
CLOSE_FPT.V
      1135**DCL      1130--DCLINIT
CLOSE_FPT.V.DCB#
      1136**DCL      1674<<ASSIGN   1679<<ASSIGN
CLOSE_FPT.V.DISP#
      1139**DCL      1675<<ASSIGN   1680<<ASSIGN
CLOSE_FPT.V.EXPIRE#
      1145**DCL      1145--REDEF
CLOSE_FPT.V.TYPE#
      1143**DCL      1143--REDEF
CLOSE_FPT.V.XTNSIZE#
      1140**DCL      1140--REDEF    1142--REDEF
CNT
        95**DCL      1561<<ASSIGN   1562>>DOWHILE  1562>>DOWHILE  1563<<ASSIGN   1563>>ASSIGN   1565>>ASSIGN
      1612<<ASSIGN   1623>>ASSIGN
DATA_PG
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:41   
        66**DCL      1636--ASSIGN   1637--ASSIGN   1638--ASSIGN   1639--ASSIGN
DATA_PG.ACT
        85**DCL      1672<<ASSIGN
DATA_PG.ACT.ACT_DATA
        86**DCL      1662<<ASSIGN
DATA_PG.CALC_HDR
        82**DCL      1660<<ASSIGN   1671<<ASSIGN
DATA_PG.CALC_HDR.NEXT_BITS
        84**DCL      1653<<ASSIGN
DATA_PG.CALC_HDR.PRIOR_BITS
        83**DCL      1652<<ASSIGN
DATA_PG.CON_INTRVAL
        74**DCL      1651<<ASSIGN   1668<<ASSIGN   1673<<ASSIGN
DATA_PG.REC_STAT
        78**DCL      1659<<ASSIGN   1670<<ASSIGN
ERR1
      1685**LABEL    1567--CALLALT  1570--CALLALT  1588--CALLALT  1597--CALLALT  1600--CALLALT  1620--CALLALT
      1627--CALLALT  1635--CALLALT  1642--CALLALT  1648--CALLALT  1655--CALLALT  1666--CALLALT  1669--CALLALT
      1676--CALLALT  1681--CALLALT
F$DCB.ACTPOS
      1182**DCL      1182--REDEF
F$DCB.ARS#
      1156**DCL      1156--REDEF
F$DCB.ATTR
      1175**DCL      1176--REDEF
F$DCB.BORROW
      1190**DCL      1190--REDEF    1190--REDEF    1190--REDEF
F$DCB.DCBNAME.L
      1204**DCL      1204--IMP-SIZ
F$DCB.EOMCHAR#
      1160**DCL      1160--REDEF
F$DCB.FLDID
      1185**DCL      1185--REDEF
F$DCB.FORM$
      1179**DCL      1179--REDEF
F$DCB.FSECT
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:42   
      1195**DCL      1195--REDEF
F$DCB.FSN#
      1172**DCL      1172--REDEF    1172--REDEF    1173--REDEF
F$DCB.HEADER$
      1178**DCL      1178--REDEF
F$DCB.IXTNSIZE#
      1176**DCL      1176--REDEF
F$DCB.LASTSTA$
      1165**DCL      1165--REDEF
F$DCB.LVL
      1191**DCL      1191--REDEF
F$DCB.NAME#.C
      1166**DCL      1166--REDEF    1625>>ASSIGN
F$DCB.NOEOF
      1188**DCL      1188--REDEF
F$DCB.NRECS#
      1177**DCL      1177--REDEF
F$DCB.NRECX
      1196**DCL      1196--REDEF
F$DCB.OHDR
      1188**DCL      1188--REDEF
F$DCB.ORG#
      1171**DCL      1171--REDEF
F$DCB.PRECNO
      1194**DCL      1194--REDEF
F$DCB.RCSZ
      1200**DCL      1200--REDEF
F$DCB.RES#
      1167**DCL      1167--REDEF
F$DCB.SETX
      1179**DCL      1179--REDEF
F$DCB.TAB$
      1179**DCL      1179--REDEF
F$DCB.TDA
      1193**DCL      1194--REDEF
F$DCB.WSN#
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:43   
      1167**DCL      1167--REDEF
FIRST_SCHEMA_MADE
        24**DCL      1589>>IF       1640>>IF       1645>>IF       1657>>IF       1677>>IF
GETDCB.DCB#
        94**DCL      1015--DCLINIT  1569>>ASSIGN   1573>>ASSIGN   1579>>ASSIGN   1580>>ASSIGN   1585>>ASSIGN
      1586>>ASSIGN   1599>>ASSIGN   1603>>ASSIGN   1609>>ASSIGN   1610>>ASSIGN   1616>>ASSIGN   1618>>ASSIGN
      1625>>ASSIGN
GETDCB.S_NAME
        91**DCL       788--DCLINIT  1014--DCLINIT  1568--ASSIGN   1598--ASSIGN
GETDCB.S_NAME.CNT
        92**DCL      1565<<ASSIGN   1595<<ASSIGN
GETDCB.S_NAME.TEXT
        93**DCL      1566<<ASSIGN   1596<<ASSIGN   1611>>ASSIGN
GETDCB_FPT
      1014**DCL      1567<>CALL     1597<>CALL
GETDCB_FPT.V
      1015**DCL      1014--DCLINIT
HIGH_PG
        23**DCL        16--PROC     1578>>ASSIGN   1607>>ASSIGN   1630>>ASSIGN   1631>>ASSIGN   1632>>ASSIGN
      1634>>ASSIGN   1644>>DOINDEX  1645>>IF       1668>>ASSIGN
HIGH_SCHEMA_DBK
        25**DCL      1633<<ASSIGN
JUST_TRANSFER
        27**DCL      1645>>IF
K
        28**DCL      1644<<DOINDEX  1645>>IF       1651>>ASSIGN   1652>>ASSIGN   1653>>ASSIGN   1661<<DOINDEX
      1662>>ASSIGN
KILL_DCB#
        30**DCL      1586<<ASSIGN   1616<<ASSIGN   1679>>ASSIGN
LPP
        22**DCL        16--PROC
M$CLOSE
       108**DCL-ENT  1676--CALL     1681--CALL
M$GETDCB
       114**DCL-ENT  1567--CALL     1597--CALL
M$OPEN
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:44   
       108**DCL-ENT  1570--CALL     1588--CALL     1600--CALL     1620--CALL
M$READ
       109**DCL-ENT  1642--CALL     1648--CALL     1666--CALL
M$TIME
       175**DCL-ENT  1627--CALL
M$WRITE
       109**DCL-ENT  1635--CALL     1655--CALL     1669--CALL
OLD_SCHEMA_NAME
        26**DCL      1560>>ASSIGN
OPEN_FPT
       787**DCL      1570<>CALL     1600<>CALL
OPEN_FPT.ACSVEH_
       789**DCL       790--REDEF
OPEN_FPT.ALTKEYS_
       795**DCL       796--REDEF     796--REDEF
OPEN_FPT.HDR_
       794**DCL       795--REDEF
OPEN_FPT.NAME_
       788**DCL      1568<<ASSIGN   1598<<ASSIGN
OPEN_FPT.TAB_
       793**DCL       794--REDEF
OPEN_FPT.UHL_
       787**DCL       788--REDEF     788--REDEF
OPEN_FPT.V
       796**DCL       787--DCLINIT
OPEN_FPT.V.DCB#
       796**DCL      1569<<ASSIGN   1599<<ASSIGN
OPEN_FPT.V.FSN#
       827**DCL       827--REDEF     827--REDEF
OPEN_FPT.WSN_
       793**DCL       793--REDEF
PASS_SNAME
        18**DCL        16--PROC     1574>>IF       1604>>IF
READ_FPT
      1066**DCL      1642<>CALL     1648<>CALL     1666<>CALL
READ_FPT.BUF_.BOUND
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:45   
      1068**DCL      1639<<ASSIGN
READ_FPT.BUF_.BUF$
      1069**DCL      1638<<ASSIGN
READ_FPT.STATION_
      1069**DCL      1070--REDEF
READ_FPT.V
      1070**DCL      1066--DCLINIT
READ_FPT.V.DCB#
      1070**DCL      1585<<ASSIGN   1618<<ASSIGN
READ_FPT.V.DVBYTE.REREAD#
      1081**DCL      1081--REDEF
READ_FPT.V.INDX#
      1079**DCL      1079--REDEF
RES_OPEN
       959**DCL      1588<>CALL     1620<>CALL
RES_OPEN.ACSVEH_
       961**DCL       962--REDEF
RES_OPEN.ALTKEYS_
       967**DCL       968--REDEF     968--REDEF
RES_OPEN.HDR_
       966**DCL       967--REDEF
RES_OPEN.TAB_
       965**DCL       966--REDEF
RES_OPEN.UHL_
       959**DCL       960--REDEF     960--REDEF
RES_OPEN.V
       968**DCL       959--DCLINIT
RES_OPEN.V.DCB#
       968**DCL      1573<<ASSIGN   1603<<ASSIGN
RES_OPEN.V.EXIST#
       972**DCL      1572<<ASSIGN   1576<<ASSIGN   1583<<ASSIGN   1602<<ASSIGN   1606<<ASSIGN   1615<<ASSIGN
RES_OPEN.V.FSN#
       999**DCL       999--REDEF     999--REDEF
RES_OPEN.V.FUN#
       978**DCL      1577<<ASSIGN   1584<<ASSIGN   1608<<ASSIGN   1617<<ASSIGN
RES_OPEN.V.IXTNSIZE#
PL6.E3A0      #001=GFILE File=ZIG$DDE5NR.:ZIC0TSI                                FRI 09/05/97 11:45 Page:46   
       987**DCL      1578<<ASSIGN   1607<<ASSIGN
RES_OPEN.V.SETDCB#
       969**DCL      1571<<ASSIGN   1601<<ASSIGN
RES_OPEN.WSN_
       965**DCL       965--REDEF
SAVE_DCB#
        29**DCL      1580<<ASSIGN   1610<<ASSIGN   1674>>ASSIGN
SNAME
        19**DCL        20--REDEF    1560<<ASSIGN   1566>>ASSIGN   1574>>IF       1604>>IF       1611<<ASSIGN
      1622>>ASSIGN
SNAME_R
        20**DCL      1562>>DOWHILE
TIME_FPT
      1099**DCL      1627<>CALL
TIME_FPT.V
      1103**DCL      1099--DCLINIT
VEH
       842**DCL       790--DCLINIT   962--DCLINIT
VEH.Q
       843**DCL       842--DCLINIT
WRITE_FPT
      1035**DCL      1635<>CALL     1655<>CALL     1669<>CALL
WRITE_FPT.BUF_.BOUND
      1035**DCL      1629<<ASSIGN   1637<<ASSIGN
WRITE_FPT.BUF_.BUF$
      1037**DCL      1628<<ASSIGN   1636<<ASSIGN
WRITE_FPT.STATION_
      1037**DCL      1037--REDEF
WRITE_FPT.V
      1038**DCL      1035--DCLINIT
WRITE_FPT.V.DCB#
      1038**DCL      1579<<ASSIGN   1609<<ASSIGN
WRITE_FPT.V.DVBYTE.VFC#
      1044**DCL      1044--REDEF

PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:47   
      248        1        /*T***********************************************************/
      249        2        /*T*                                                         */
      250        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      251        4        /*T*                                                         */
      252        5        /*T***********************************************************/
      253        6        ZIG$DUMP: PROC(START$,SIZE,TITLE) AVOID($PR5,$PR6,$PR7);
      254        7    1   DCL START$ PTR;
      255        8    1   DCL START(0:11) REDEF START$ UBIN(3) UNAL;
      256        9    1   DCL P$ PTR;
      257       10    1   DCL SRCLINE CHAR(16) BASED;
      258       11    1   DCL PNEXT$ PTR;
      259       12    1   DCL RELVAL REDEF PNEXT$ SBIN(36);
      260       13    1   DCL 1 RELADR REDEF PNEXT$,
      261       14    1         2 * UBIN(18) UNAL,
      262       15    1         2 DIGIT(0:5) UNAL UBIN(3);
      263       16    1   DCL 1 OCTVAL BASED (P$),
      264       17    1         2 OCTDIG(0:11) UBIN(3) UNAL,
      265       18    1         2 OCTCHAR(0:3) REDEF OCTDIG UBIN(9) UNAL;
      266       19    1   DCL SIZE SBIN(36);
      267       20    1   DCL 1 TITLE,
      268       21    1         2 COUNT UBIN(9) UNAL,
      269       22    1         2 TEXT CHAR(TITLE.COUNT) UNAL;
      270       23    1   DCL BUFFER CHAR(80);
      271       24    1   DCL LINE (0:79) REDEF BUFFER CHAR(1);
      272       25    1   DCL I SBIN;
      273       26    1   DCL J SBIN;
      274       27    1   DCL K SBIN;
      275       28    1   DCL N SBIN;
      276       29    1   DCL CNT SBIN;
      277       30    1   DCL POS SBIN;
      278       31    1   DCL DUMP DCB;
      279       32        %INCLUDE CP_6;
      280      113        %FPT_WRITE (STCLASS=CONSTANT,DCB=DUMP,VFC=YES);
      281      144        %FPT_WRITE (FPTN=FPT$WRITE,STCLASS=AUTO);
      282      175        %INCLUDE CP_6_SUBS;
      283      715        %EJECT;
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:48   
      284      716         /*
      285      717            Code
      286      718            */
      287      719    1       P$ = START$;
      288      720    1       N = 3; /* # of wds to be printed per line */
      289      721    1       CNT = ( SIZE + 3) / 4;
      290      722        /*
      291      723                 set-up fpt in auto.
      292      724                                               */
      293      725    1       FPT$WRITE = FPT_WRITE;
      294      726    1       FPT$WRITE.V_ = VECTOR(FPT$WRITE.V);
      295      727        /*
      296      728                 Output title
      297      729                                      */
      298      730    1       FPT$WRITE.BUF_ = VECTOR(TITLE.TEXT);
      299      731    1       CALL M$WRITE (FPT$WRITE);
      300      732    1       FPT$WRITE.BUF_ = VECTOR(BUFFER);
      301      733    1       BUFFER = 'B'; /* Clear */
      302      734    1       CALL M$WRITE (FPT$WRITE);
      303      735    1       BUFFER = 'A pointer address =';
      304      736    1       POS = 20;
      305      737    2       DO K = 0 TO 11;
      306      738    2           LINE(POS) = BINASC(START(K) + 48);
      307      739    2           POS = POS + 1;
      308      740    2           END;
      309      741    1       CALL M$WRITE (FPT$WRITE);
      310      742    2       DO I=1 TO CNT;
      311      743    2           IF LINE(1) = ' '
      312      744    3           THEN DO;
      313      745    3               BUFFER = 'A';
      314      746    3               POS = 2;
      315      747    3               RELVAL = 4*(I-1);
      316      748         /* Develop address */
      317      749    4               DO J = 0 TO 5;
      318      750    4                   LINE(POS) = BINASC(RELADR.DIGIT(J) + 48);
      319      751    4                   POS = POS + 1;
      320      752    4                   END; /* J */
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:49   
      321      753    3               END;
      322      754    2           IF I = CNT
      323      755    2           THEN
      324      756    2               IF LINE(1) = ' '
      325      757    2               THEN
      326      758    2                   N = SIZE - 4*CNT + 3;
      327      759    3               ELSE DO;
      328      760    3                   P$ = PINCRW(P$,-4);
      329      761    3                   GOTO FILLBUF;
      330      762    3                   END;
      331      763    3           ELSE DO;
      332      764    3               PNEXT$ = PINCRW(P$,4);
      333      765    3               IF P$->SRCLINE = PNEXT$->SRCLINE
      334      766    4               THEN DO;
      335      767    4                   P$ = PNEXT$;
      336      768    4                   LINE(1) = '*';
      337      769    4                   GOTO PRINTEND;
      338      770    4                   END;
      339      771    3               END;
      340      772    2   FILLBUF:
      341      773         /* Develop four data words */
      342      774    2           POS = 10;
      343      775    3           DO J = 0 TO N;
      344      776    4               DO K = 0 TO 11;
      345      777    4                   LINE(POS) = BINASC(OCTVAL.OCTDIG(K) + 48);
      346      778    4                   POS = POS + 1;
      347      779    4                   END; /* K */
      348      780    3               P$ = PINCRW(P$,1);
      349      781    3               POS = POS + 1;
      350      782    3               END; /* J */
      351      783    2           P$ = PINCRW(P$,-4);
      352      784         /* Develop ascii representation */
      353      785    2           POS = 62;
      354      786    3           DO J = 0 TO N;
      355      787    4               DO K = 0 TO 3;
      356      788    4                   POS = POS + 1;
      357      789    4                   IF (OCTVAL.OCTCHAR(K) >= 32) AND (OCTVAL.OCTCHAR(K) <= 126) THEN
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:50   
      358      790         /* 32 to 126 is the range of printable ascii chars */
      359      791    4                       LINE(POS) = BINASC(OCTVAL.OCTCHAR(K));
      360      792    4                   ELSE
      361      793    4                       LINE(POS) = '.';
      362      794    4                   END; /* K */
      363      795    3               P$ = PINCRW(P$,1);
      364      796    3               END; /* J */
      365      797    2           CALL M$WRITE (FPT$WRITE);
      366      798    2           LINE(1) = ' ';
      367      799    2   PRINTEND:
      368      800    2           END;
      369      801    1       RETURN;
      370      802    1   END ZIG$DUMP;

PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:51   
--  Include file information  --

   CP_6_SUBS.:LIB_E05  is referenced.
   CP_6.:LIB_E05  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure ZIG$DUMP.

   Procedure ZIG$DUMP requires 257 words for executable code.
   Procedure ZIG$DUMP requires 48 words of local(AUTO) storage.

    No errors detected in file ZIG$DDE5NR.:ZIC0TSI    .

PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:52   

 Object Unit name= ZIG$DUMP                                   File name= ZIG$DDE5NR.:ZIC0TOU
 UTS= SEP 05 '97 11:45:41.04 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  DUMP
    1   DCB   even  none     0      0  M$UC
    2  RoData even  UTS     17     21  ZIG$DUMP
    3   Proc  even  none   257    401  ZIG$DUMP
    4  RoData even  none     6      6  ZIG$DUMP

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes            yes      XStd       3  ZIG$DUMP

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X66_AUTO_3
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     DUMP                                  M$UC
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:53   

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:54   


      248        1        /*T***********************************************************/
      249        2        /*T*                                                         */
      250        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      251        4        /*T*                                                         */
      252        5        /*T***********************************************************/
      253        6        ZIG$DUMP: PROC(START$,SIZE,TITLE) AVOID($PR5,$PR6,$PR7);

      6  3 000000   000000 700200 xent  ZIG$DUMP     TSX0  ! X66_AUTO_3
         3 000001   000060 000003                    ZERO    48,3

      254        7    1   DCL START$ PTR;
      255        8    1   DCL START(0:11) REDEF START$ UBIN(3) UNAL;
      256        9    1   DCL P$ PTR;
      257       10    1   DCL SRCLINE CHAR(16) BASED;
      258       11    1   DCL PNEXT$ PTR;
      259       12    1   DCL RELVAL REDEF PNEXT$ SBIN(36);
      260       13    1   DCL 1 RELADR REDEF PNEXT$,
      261       14    1         2 * UBIN(18) UNAL,
      262       15    1         2 DIGIT(0:5) UNAL UBIN(3);
      263       16    1   DCL 1 OCTVAL BASED (P$),
      264       17    1         2 OCTDIG(0:11) UBIN(3) UNAL,
      265       18    1         2 OCTCHAR(0:3) REDEF OCTDIG UBIN(9) UNAL;
      266       19    1   DCL SIZE SBIN(36);
      267       20    1   DCL 1 TITLE,
      268       21    1         2 COUNT UBIN(9) UNAL,
      269       22    1         2 TEXT CHAR(TITLE.COUNT) UNAL;
      270       23    1   DCL BUFFER CHAR(80);
      271       24    1   DCL LINE (0:79) REDEF BUFFER CHAR(1);
      272       25    1   DCL I SBIN;
      273       26    1   DCL J SBIN;
      274       27    1   DCL K SBIN;
      275       28    1   DCL N SBIN;
      276       29    1   DCL CNT SBIN;
      277       30    1   DCL POS SBIN;
      278       31    1   DCL DUMP DCB;
      279       32        %INCLUDE CP_6;
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:55   
      280      113        %FPT_WRITE (STCLASS=CONSTANT,DCB=DUMP,VFC=YES);
      281      144        %FPT_WRITE (FPTN=FPT$WRITE,STCLASS=AUTO);
      282      175        %INCLUDE CP_6_SUBS;
      283      715        %EJECT;
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:56   
      284      716         /*
      285      717            Code
      286      718            */
      287      719    1       P$ = START$;

    719  3 000002   200003 470500                    LDP0    @START$,,AUTO
         3 000003   000000 236100                    LDQ     0,,PR0
         3 000004   200006 756100                    STQ     P$,,AUTO

      288      720    1       N = 3; /* # of wds to be printed per line */

    720  3 000005   000003 235007                    LDA     3,DL
         3 000006   200037 755100                    STA     N,,AUTO

      289      721    1       CNT = ( SIZE + 3) / 4;

    721  3 000007   200004 471500                    LDP1    @SIZE,,AUTO
         3 000010   100000 236100                    LDQ     0,,PR1
         3 000011   000003 036007                    ADLQ    3,DL
         3 000012   000004 506007                    DIV     4,DL
         3 000013   200040 756100                    STQ     CNT,,AUTO

      290      722        /*
      291      723                 set-up fpt in auto.
      292      724                                               */
      293      725    1       FPT$WRITE = FPT_WRITE;

    725  3 000014   000100 100400                    MLR     fill='000'O
         3 000015   000000 000060 2                  ADSC9   FPT_WRITE                cn=0,n=48
         3 000016   200042 000060                    ADSC9   FPT$WRITE,,AUTO          cn=0,n=48

      294      726    1       FPT$WRITE.V_ = VECTOR(FPT$WRITE.V);

    726  3 000017   000000 235000 4                  LDA     0
         3 000020   200056 452500                    STP2    FPT$WRITE+12,,AUTO
         3 000021   200056 236100                    LDQ     FPT$WRITE+12,,AUTO
         3 000022   000052 036003                    ADLQ    42,DU
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:57   
         3 000023   200042 757100                    STAQ    FPT$WRITE,,AUTO

      295      727        /*
      296      728                 Output title
      297      729                                      */
      298      730    1       FPT$WRITE.BUF_ = VECTOR(TITLE.TEXT);

    730  3 000024   200005 473500                    LDP3    @TITLE,,AUTO
         3 000025   000100 101500                    MRL     fill='000'O
         3 000026   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         3 000027   200056 000002                    ADSC9   FPT$WRITE+12,,AUTO       cn=0,n=2
         3 000030   200056 220100                    LDX0    FPT$WRITE+12,,AUTO
         3 000031   000000 635010                    EAA     0,X0
         3 000032   000002 771000                    ARL     2
         3 000033   000140 135007                    SBLA    96,DL
         3 000034   200005 236100                    LDQ     @TITLE,,AUTO
         3 000035   200000 036007                    ADLQ    65536,DL
         3 000036   200046 757100                    STAQ    FPT$WRITE+4,,AUTO

      299      731    1       CALL M$WRITE (FPT$WRITE);

    731  3 000037   200042 630500                    EPPR0   FPT$WRITE,,AUTO
         3 000040   040001 713400                    CLIMB   write
         3 000041   401400 401760                    pmme    nvectors=4

      300      732    1       FPT$WRITE.BUF_ = VECTOR(BUFFER);

    732  3 000042   000001 235000 4                  LDA     1
         3 000043   200056 452500                    STP2    FPT$WRITE+12,,AUTO
         3 000044   200056 236100                    LDQ     FPT$WRITE+12,,AUTO
         3 000045   000010 036003                    ADLQ    8,DU
         3 000046   200046 757100                    STAQ    FPT$WRITE+4,,AUTO

      301      733    1       BUFFER = 'B'; /* Clear */

    733  3 000047   040100 100400                    MLR     fill='040'O
         3 000050   000002 000001 4                  ADSC9   2                        cn=0,n=1
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:58   
         3 000051   200010 000120                    ADSC9   BUFFER,,AUTO             cn=0,n=80

      302      734    1       CALL M$WRITE (FPT$WRITE);

    734  3 000052   200042 630500                    EPPR0   FPT$WRITE,,AUTO
         3 000053   040001 713400                    CLIMB   write
         3 000054   401400 401760                    pmme    nvectors=4

      303      735    1       BUFFER = 'A pointer address =';

    735  3 000055   040100 100400                    MLR     fill='040'O
         3 000056   000014 000023 2                  ADSC9   FPT_WRITE+12             cn=0,n=19
         3 000057   200010 000120                    ADSC9   BUFFER,,AUTO             cn=0,n=80

      304      736    1       POS = 20;

    736  3 000060   000024 235007                    LDA     20,DL
         3 000061   200041 755100                    STA     POS,,AUTO

      305      737    2       DO K = 0 TO 11;

    737  3 000062   200036 450100                    STZ     K,,AUTO

      306      738    2           LINE(POS) = BINASC(START(K) + 48);

    738  3 000063   200036 236100                    LDQ     K,,AUTO
         3 000064   000003 402007                    MPY     3,DL
         3 000065   000000 116003                    CMPQ    0,DU
         3 000066   000070 605000 3                  TPL     s:738+5
         3 000067   000044 036003                    ADLQ    36,DU
         3 000070   200003 470500                    LDP0    @START$,,AUTO
         3 000071   003100 061506                    CSR     bolr='003'O
         3 000072   000000 000003                    BDSC    0,Q,PR0                  by=0,bit=0,n=3
         3 000073   200056 000044                    BDSC    FPT$WRITE+12,,AUTO       by=0,bit=0,n=36
         3 000074   200056 236100                    LDQ     FPT$WRITE+12,,AUTO
         3 000075   000060 036007                    ADLQ    48,DL
         3 000076   000033 736000                    QLS     27
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:59   
         3 000077   000003 276000 4                  ORQ     3
         3 000100   200057 756100                    STQ     FPT$WRITE+13,,AUTO
         3 000101   200041 235100                    LDA     POS,,AUTO
         3 000102   040105 100500                    MLR     fill='040'O
         3 000103   200057 000004                    ADSC9   FPT$WRITE+13,,AUTO       cn=0,n=4
         3 000104   200010 000001                    ADSC9   BUFFER,A,AUTO            cn=0,n=1

      307      739    2           POS = POS + 1;

    739  3 000105   200041 054100                    AOS     POS,,AUTO

      308      740    2           END;

    740  3 000106   200036 054100                    AOS     K,,AUTO
         3 000107   200036 235100                    LDA     K,,AUTO
         3 000110   000013 115007                    CMPA    11,DL
         3 000111   000063 604400 3                  TMOZ    s:738

      309      741    1       CALL M$WRITE (FPT$WRITE);

    741  3 000112   200042 630500                    EPPR0   FPT$WRITE,,AUTO
         3 000113   040001 713400                    CLIMB   write
         3 000114   401400 401760                    pmme    nvectors=4

      310      742    2       DO I=1 TO CNT;

    742  3 000115   000001 235007                    LDA     1,DL
         3 000116   200034 755100                    STA     I,,AUTO
         3 000117   000375 710000 3                  TRA     PRINTEND+1

      311      743    2           IF LINE(1) = ' '

    743  3 000120   200010 236100                    LDQ     BUFFER,,AUTO
         3 000121   000777 376003                    ANQ     511,DU
         3 000122   000040 116003                    CMPQ    32,DU
         3 000123   000164 601000 3                  TNZ     s:754

PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:60   
      312      744    3           THEN DO;

      313      745    3               BUFFER = 'A';

    745  3 000124   040100 100400                    MLR     fill='040'O
         3 000125   000004 000001 4                  ADSC9   4                        cn=0,n=1
         3 000126   200010 000120                    ADSC9   BUFFER,,AUTO             cn=0,n=80

      314      746    3               POS = 2;

    746  3 000127   000002 235007                    LDA     2,DL
         3 000130   200041 755100                    STA     POS,,AUTO

      315      747    3               RELVAL = 4*(I-1);

    747  3 000131   200034 236100                    LDQ     I,,AUTO
         3 000132   000002 736000                    QLS     2
         3 000133   000004 136007                    SBLQ    4,DL
         3 000134   200007 756100                    STQ     PNEXT$,,AUTO

      316      748         /* Develop address */
      317      749    4               DO J = 0 TO 5;

    749  3 000135   200035 450100                    STZ     J,,AUTO

      318      750    4                   LINE(POS) = BINASC(RELADR.DIGIT(J) + 48);

    750  3 000136   200035 236100                    LDQ     J,,AUTO
         3 000137   000003 402007                    MPY     3,DL
         3 000140   000000 116003                    CMPQ    0,DU
         3 000141   000143 605000 3                  TPL     s:750+5
         3 000142   000044 036003                    ADLQ    36,DU
         3 000143   003100 061506                    CSR     bolr='003'O
         3 000144   200007 400003                    BDSC    PNEXT$,Q,AUTO            by=2,bit=0,n=3
         3 000145   200056 000044                    BDSC    FPT$WRITE+12,,AUTO       by=0,bit=0,n=36
         3 000146   200056 236100                    LDQ     FPT$WRITE+12,,AUTO
         3 000147   000060 036007                    ADLQ    48,DL
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:61   
         3 000150   000033 736000                    QLS     27
         3 000151   000003 276000 4                  ORQ     3
         3 000152   200057 756100                    STQ     FPT$WRITE+13,,AUTO
         3 000153   200041 235100                    LDA     POS,,AUTO
         3 000154   040105 100500                    MLR     fill='040'O
         3 000155   200057 000004                    ADSC9   FPT$WRITE+13,,AUTO       cn=0,n=4
         3 000156   200010 000001                    ADSC9   BUFFER,A,AUTO            cn=0,n=1

      319      751    4                   POS = POS + 1;

    751  3 000157   200041 054100                    AOS     POS,,AUTO

      320      752    4                   END; /* J */

    752  3 000160   200035 054100                    AOS     J,,AUTO
         3 000161   200035 235100                    LDA     J,,AUTO
         3 000162   000005 115007                    CMPA    5,DL
         3 000163   000136 604400 3                  TMOZ    s:750

      321      753    3               END;

      322      754    2           IF I = CNT

    754  3 000164   200034 236100                    LDQ     I,,AUTO
         3 000165   200040 116100                    CMPQ    CNT,,AUTO
         3 000166   000206 601000 3                  TNZ     s:764

      323      755    2           THEN
      324      756    2               IF LINE(1) = ' '

    756  3 000167   200010 236100                    LDQ     BUFFER,,AUTO
         3 000170   000777 376003                    ANQ     511,DU
         3 000171   000040 116003                    CMPQ    32,DU
         3 000172   000202 601000 3                  TNZ     s:760

      325      757    2               THEN
      326      758    2                   N = SIZE - 4*CNT + 3;
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:62   

    758  3 000173   200004 470500                    LDP0    @SIZE,,AUTO
         3 000174   200040 336100                    LCQ     CNT,,AUTO
         3 000175   000002 736000                    QLS     2
         3 000176   000000 036100                    ADLQ    0,,PR0
         3 000177   000003 036007                    ADLQ    3,DL
         3 000200   200037 756100                    STQ     N,,AUTO
         3 000201   000223 710000 3                  TRA     FILLBUF

      327      759    3               ELSE DO;

      328      760    3                   P$ = PINCRW(P$,-4);

    760  3 000202   200006 236100                    LDQ     P$,,AUTO
         3 000203   777774 036003                    ADLQ    -4,DU
         3 000204   200006 756100                    STQ     P$,,AUTO

      329      761    3                   GOTO FILLBUF;

    761  3 000205   000223 710000 3                  TRA     FILLBUF

      330      762    3                   END;
      331      763    3           ELSE DO;

      332      764    3               PNEXT$ = PINCRW(P$,4);

    764  3 000206   200006 236100                    LDQ     P$,,AUTO
         3 000207   000004 036003                    ADLQ    4,DU
         3 000210   200007 756100                    STQ     PNEXT$,,AUTO

      333      765    3               IF P$->SRCLINE = PNEXT$->SRCLINE

    765  3 000211   200006 470500                    LDP0    P$,,AUTO
         3 000212   200007 471500                    LDP1    PNEXT$,,AUTO
         3 000213   040100 106500                    CMPC    fill='040'O
         3 000214   000000 000020                    ADSC9   0,,PR0                   cn=0,n=16
         3 000215   100000 000020                    ADSC9   0,,PR1                   cn=0,n=16
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:63   
         3 000216   000223 601000 3                  TNZ     FILLBUF

      334      766    4               THEN DO;

      335      767    4                   P$ = PNEXT$;

    767  3 000217   200006 756100                    STQ     P$,,AUTO

      336      768    4                   LINE(1) = '*';

    768  3 000220   000052 236003                    LDQ     42,DU
         3 000221   200010 552120                    STBQ    BUFFER,'20'O,AUTO

      337      769    4                   GOTO PRINTEND;

    769  3 000222   000374 710000 3                  TRA     PRINTEND

      338      770    4                   END;
      339      771    3               END;
      340      772    2   FILLBUF:
      341      773         /* Develop four data words */
      342      774    2           POS = 10;

    774  3 000223   000012 235007       FILLBUF      LDA     10,DL
         3 000224   200041 755100                    STA     POS,,AUTO

      343      775    3           DO J = 0 TO N;

    775  3 000225   200035 450100                    STZ     J,,AUTO
         3 000226   000264 710000 3                  TRA     s:782+1

      344      776    4               DO K = 0 TO 11;

    776  3 000227   200036 450100                    STZ     K,,AUTO

      345      777    4                   LINE(POS) = BINASC(OCTVAL.OCTDIG(K) + 48);

PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:64   
    777  3 000230   200036 236100                    LDQ     K,,AUTO
         3 000231   000003 402007                    MPY     3,DL
         3 000232   000000 116003                    CMPQ    0,DU
         3 000233   000235 605000 3                  TPL     s:777+5
         3 000234   000044 036003                    ADLQ    36,DU
         3 000235   200006 470500                    LDP0    P$,,AUTO
         3 000236   003100 061506                    CSR     bolr='003'O
         3 000237   000000 000003                    BDSC    0,Q,PR0                  by=0,bit=0,n=3
         3 000240   200056 000044                    BDSC    FPT$WRITE+12,,AUTO       by=0,bit=0,n=36
         3 000241   200056 236100                    LDQ     FPT$WRITE+12,,AUTO
         3 000242   000060 036007                    ADLQ    48,DL
         3 000243   000033 736000                    QLS     27
         3 000244   000003 276000 4                  ORQ     3
         3 000245   200057 756100                    STQ     FPT$WRITE+13,,AUTO
         3 000246   200041 235100                    LDA     POS,,AUTO
         3 000247   040105 100500                    MLR     fill='040'O
         3 000250   200057 000004                    ADSC9   FPT$WRITE+13,,AUTO       cn=0,n=4
         3 000251   200010 000001                    ADSC9   BUFFER,A,AUTO            cn=0,n=1

      346      778    4                   POS = POS + 1;

    778  3 000252   200041 054100                    AOS     POS,,AUTO

      347      779    4                   END; /* K */

    779  3 000253   200036 054100                    AOS     K,,AUTO
         3 000254   200036 235100                    LDA     K,,AUTO
         3 000255   000013 115007                    CMPA    11,DL
         3 000256   000230 604400 3                  TMOZ    s:777

      348      780    3               P$ = PINCRW(P$,1);

    780  3 000257   200006 236100                    LDQ     P$,,AUTO
         3 000260   000001 036003                    ADLQ    1,DU
         3 000261   200006 756100                    STQ     P$,,AUTO

      349      781    3               POS = POS + 1;
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:65   

    781  3 000262   200041 054100                    AOS     POS,,AUTO

      350      782    3               END; /* J */

    782  3 000263   200035 054100                    AOS     J,,AUTO
         3 000264   200035 236100                    LDQ     J,,AUTO
         3 000265   200037 116100                    CMPQ    N,,AUTO
         3 000266   000227 604400 3                  TMOZ    s:776

      351      783    2           P$ = PINCRW(P$,-4);

    783  3 000267   200006 236100                    LDQ     P$,,AUTO
         3 000270   777774 036003                    ADLQ    -4,DU
         3 000271   200006 756100                    STQ     P$,,AUTO

      352      784         /* Develop ascii representation */
      353      785    2           POS = 62;

    785  3 000272   000076 235007                    LDA     62,DL
         3 000273   200041 755100                    STA     POS,,AUTO

      354      786    3           DO J = 0 TO N;

    786  3 000274   200035 450100                    STZ     J,,AUTO
         3 000275   000364 710000 3                  TRA     s:796+1

      355      787    4               DO K = 0 TO 3;

    787  3 000276   200036 450100                    STZ     K,,AUTO

      356      788    4                   POS = POS + 1;

    788  3 000277   200041 054100                    AOS     POS,,AUTO

      357      789    4                   IF (OCTVAL.OCTCHAR(K) >= 32) AND (OCTVAL.OCTCHAR(K) <= 126) THEN

PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:66   
    789  3 000300   200036 236100                    LDQ     K,,AUTO
         3 000301   000011 402007                    MPY     9,DL
         3 000302   000000 116003                    CMPQ    0,DU
         3 000303   000305 605000 3                  TPL     s:789+5
         3 000304   000044 036003                    ADLQ    36,DU
         3 000305   200006 470500                    LDP0    P$,,AUTO
         3 000306   003100 061506                    CSR     bolr='003'O
         3 000307   000000 000011                    BDSC    0,Q,PR0                  by=0,bit=0,n=9
         3 000310   200056 000044                    BDSC    FPT$WRITE+12,,AUTO       by=0,bit=0,n=36
         3 000311   200056 236100                    LDQ     FPT$WRITE+12,,AUTO
         3 000312   000040 116007                    CMPQ    32,DL
         3 000313   000350 604000 3                  TMI     s:793
         3 000314   200036 236100                    LDQ     K,,AUTO
         3 000315   000011 402007                    MPY     9,DL
         3 000316   000000 116003                    CMPQ    0,DU
         3 000317   000321 605000 3                  TPL     s:789+17
         3 000320   000044 036003                    ADLQ    36,DU
         3 000321   003100 061506                    CSR     bolr='003'O
         3 000322   000000 000011                    BDSC    0,Q,PR0                  by=0,bit=0,n=9
         3 000323   200057 000044                    BDSC    FPT$WRITE+13,,AUTO       by=0,bit=0,n=36
         3 000324   200057 236100                    LDQ     FPT$WRITE+13,,AUTO
         3 000325   000177 116007                    CMPQ    127,DL
         3 000326   000350 605000 3                  TPL     s:793

      358      790         /* 32 to 126 is the range of printable ascii chars */
      359      791    4                       LINE(POS) = BINASC(OCTVAL.OCTCHAR(K));

    791  3 000327   200036 236100                    LDQ     K,,AUTO
         3 000330   000011 402007                    MPY     9,DL
         3 000331   000000 116003                    CMPQ    0,DU
         3 000332   000334 605000 3                  TPL     s:791+5
         3 000333   000044 036003                    ADLQ    36,DU
         3 000334   003100 061506                    CSR     bolr='003'O
         3 000335   000000 000011                    BDSC    0,Q,PR0                  by=0,bit=0,n=9
         3 000336   200056 000044                    BDSC    FPT$WRITE+12,,AUTO       by=0,bit=0,n=36
         3 000337   200056 236100                    LDQ     FPT$WRITE+12,,AUTO
         3 000340   000033 736000                    QLS     27
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:67   
         3 000341   000003 276000 4                  ORQ     3
         3 000342   200057 756100                    STQ     FPT$WRITE+13,,AUTO
         3 000343   200041 235100                    LDA     POS,,AUTO
         3 000344   040105 100500                    MLR     fill='040'O
         3 000345   200057 000004                    ADSC9   FPT$WRITE+13,,AUTO       cn=0,n=4
         3 000346   200010 000001                    ADSC9   BUFFER,A,AUTO            cn=0,n=1
         3 000347   000354 710000 3                  TRA     s:794

      360      792    4                   ELSE
      361      793    4                       LINE(POS) = '.';

    793  3 000350   200041 235100                    LDA     POS,,AUTO
         3 000351   040105 100400                    MLR     fill='040'O
         3 000352   000005 000001 4                  ADSC9   5                        cn=0,n=1
         3 000353   200010 000001                    ADSC9   BUFFER,A,AUTO            cn=0,n=1

      362      794    4                   END; /* K */

    794  3 000354   200036 054100                    AOS     K,,AUTO
         3 000355   200036 236100                    LDQ     K,,AUTO
         3 000356   000003 116007                    CMPQ    3,DL
         3 000357   000277 604400 3                  TMOZ    s:788

      363      795    3               P$ = PINCRW(P$,1);

    795  3 000360   200006 236100                    LDQ     P$,,AUTO
         3 000361   000001 036003                    ADLQ    1,DU
         3 000362   200006 756100                    STQ     P$,,AUTO

      364      796    3               END; /* J */

    796  3 000363   200035 054100                    AOS     J,,AUTO
         3 000364   200035 236100                    LDQ     J,,AUTO
         3 000365   200037 116100                    CMPQ    N,,AUTO
         3 000366   000276 604400 3                  TMOZ    s:787

      365      797    2           CALL M$WRITE (FPT$WRITE);
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:68   

    797  3 000367   200042 630500                    EPPR0   FPT$WRITE,,AUTO
         3 000370   040001 713400                    CLIMB   write
         3 000371   401400 401760                    pmme    nvectors=4

      366      798    2           LINE(1) = ' ';

    798  3 000372   000040 236003                    LDQ     32,DU
         3 000373   200010 552120                    STBQ    BUFFER,'20'O,AUTO

      367      799    2   PRINTEND:
      368      800    2           END;

    800  3 000374   200034 054100       PRINTEND     AOS     I,,AUTO
         3 000375   200034 236100                    LDQ     I,,AUTO
         3 000376   200040 116100                    CMPQ    CNT,,AUTO
         3 000377   000120 604400 3                  TMOZ    s:743

      369      801    1       RETURN;

    801  3 000400   000000 702200 xent               TSX2  ! X66_ARET

FPT_WRITE
 Sect OctLoc
   2     000   000003 777640   000010 006000   000000 177640   000000 006014    ................
   2     004   000000 177640   000000 006014   000000 177640   000000 006014    ................
   2     010   000000 400400   000000 000000   000000 000000   100000 000000    ............@...

(unnamed)
 Sect OctLoc
   2     014   101040 160157   151156 164145   162040 141144   144162 145163    A pointer addres
   2     020   163040 075040                                                    s =

(unnamed)
 Sect OctLoc
   4     000   000003 777640   000023 777640   102040 040040   000040 040040    ........B   .
   4     004   101040 040040   056040 040040                                    A   .
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:69   
      370      802    1   END ZIG$DUMP;

PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:70   
--  Include file information  --

   CP_6_SUBS.:LIB_E05  is referenced.
   CP_6.:LIB_E05  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure ZIG$DUMP.

   Procedure ZIG$DUMP requires 257 words for executable code.
   Procedure ZIG$DUMP requires 48 words of local(AUTO) storage.

    No errors detected in file ZIG$DDE5NR.:ZIC0TSI    .
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:71   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:72   
          MINI XREF LISTING

BUFFER
        23**DCL        24--REDEF     732--ASSIGN    733<<ASSIGN    735<<ASSIGN    745<<ASSIGN
CNT
        29**DCL       721<<ASSIGN    742>>DOINDEX   754>>IF        758>>ASSIGN
FILLBUF
       774**LABEL     761--GOTO
FPT$WRITE
       161**DCL       725<<ASSIGN    731<>CALL      734<>CALL      741<>CALL      797<>CALL
FPT$WRITE.BUF_
       161**DCL       730<<ASSIGN    732<<ASSIGN
FPT$WRITE.STATION_
       163**DCL       163--REDEF
FPT$WRITE.V
       164**DCL       726--ASSIGN
FPT$WRITE.V.DVBYTE.VFC#
       170**DCL       170--REDEF
FPT$WRITE.V_
       161**DCL       726<<ASSIGN
FPT_WRITE
       130**DCL       725>>ASSIGN
FPT_WRITE.STATION_
       132**DCL       132--REDEF
FPT_WRITE.V
       133**DCL       130--DCLINIT
FPT_WRITE.V.DVBYTE.VFC#
       139**DCL       139--REDEF
I
        25**DCL       742<<DOINDEX   747>>ASSIGN    754>>IF
J
        26**DCL       749<<DOINDEX   750>>ASSIGN    775<<DOINDEX   786<<DOINDEX
K
        27**DCL       737<<DOINDEX   738>>ASSIGN    776<<DOINDEX   777>>ASSIGN    787<<DOINDEX   789>>IF
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:73   
       789>>IF        791>>ASSIGN
LINE
        24**DCL       738<<ASSIGN    743>>IF        750<<ASSIGN    756>>IF        768<<ASSIGN    777<<ASSIGN
       791<<ASSIGN    793<<ASSIGN    798<<ASSIGN
M$WRITE
        42**DCL-ENT   731--CALL      734--CALL      741--CALL      797--CALL
N
        28**DCL       720<<ASSIGN    758<<ASSIGN    775>>DOINDEX   786>>DOINDEX
OCTVAL.OCTCHAR
        18**DCL       789>>IF        789>>IF        791>>ASSIGN
OCTVAL.OCTDIG
        17**DCL        18--REDEF     777>>ASSIGN
P$
         9**DCL        16--IMP-PTR   719<<ASSIGN    760<<ASSIGN    760>>ASSIGN    764>>ASSIGN    765>>IF
       767<<ASSIGN    777>>ASSIGN    780<<ASSIGN    780>>ASSIGN    783<<ASSIGN    783>>ASSIGN    789>>IF
       789>>IF        791>>ASSIGN    795<<ASSIGN    795>>ASSIGN
PNEXT$
        11**DCL        12--REDEF      13--REDEF     764<<ASSIGN    765>>IF        767>>ASSIGN
POS
        30**DCL       736<<ASSIGN    738>>ASSIGN    739<<ASSIGN    739>>ASSIGN    746<<ASSIGN    750>>ASSIGN
       751<<ASSIGN    751>>ASSIGN    774<<ASSIGN    777>>ASSIGN    778<<ASSIGN    778>>ASSIGN    781<<ASSIGN
       781>>ASSIGN    785<<ASSIGN    788<<ASSIGN    788>>ASSIGN    791>>ASSIGN    793>>ASSIGN
PRINTEND
       800**LABEL     769--GOTO
RELADR.DIGIT
        15**DCL       750>>ASSIGN
RELVAL
        12**DCL       747<<ASSIGN
SIZE
        19**DCL         6--PROC      721>>ASSIGN    758>>ASSIGN
SRCLINE
        10**DCL       765>>IF        765>>IF
START
         8**DCL       738>>ASSIGN
START$
         7**DCL         6--PROC        8--REDEF     719>>ASSIGN
PL6.E3A0      #002=ZIG$DUMP File=ZIG$DDE5NR.:ZIC0TSI                             FRI 09/05/97 11:45 Page:74   
TITLE
        20**DCL         6--PROC
TITLE.COUNT
        21**DCL        22--IMP-SIZ   730>>ASSIGN
TITLE.TEXT
        22**DCL       730--ASSIGN

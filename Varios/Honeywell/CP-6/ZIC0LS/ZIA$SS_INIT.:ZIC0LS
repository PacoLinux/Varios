
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:1    
        1        1        /*T***********************************************************/
        2        2        /*T*                                                         */
        3        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        4        4        /*T*                                                         */
        5        5        /*T***********************************************************/
        6        6        /*P*
        7        7        NAME:    ZIA$SS_INIT
        8        8        PURPOSE:
        9        9                   To initialize the subschema SUB4 and the two areas
       10       10                 for that subschema.
       11       11        */
       12       12        ZIA$SS_INIT:
       13       13            PROC(FUNCTION,STATUS);
       14       14    1   DCL FUNCTION SBIN (36);
       15       15    1   DCL STATUS SBIN (36);
       16       16    1   DCL LAST_NUM UBIN (36);
       17       17    1   DCL CURR_NUM UBIN (36);
       18       18    1   DCL FOUND_RANGE BIT (1);
       19       19    1   DCL 01 STRAN EXT,
       20       20    1         02 STATUS BIT(3),
       21       21    1         02 XREF BIT(1),
       22       22    1         02 ALLOC_PG BIT(1),
       23       23    1         02 ADD_PG BIT(1),
       24       24    1         02 FILR BIT(30),
       25       25    1         02 SNAME CHAR(30),
       26       26    1         02 NUM_PG UBIN(36);
       27       27    1   DCL ZEROES(0:19) UBIN (36) EXT INIT (0*20);
       28       28    1   DCL OLD_SCHEMA_NAME CHAR (30) EXT;
       29       29    1   DCL GFILE ENTRY (3);
       30       30        %EJECT;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:2    
       31       31        %INCLUDE ZIA_IDS_DCL;
       32      139        %INCLUDE ZI_ERRORS_SUBS;
       33      659        %INCLUDE ZI_SUB4_CAN;
       34     1316        %INCLUDE ZIG_GENERAL;
       35     1424        %UWA;
       36     1759        %RVA;
       37     2036        %USE_PROC;
       38     2044        %IA;
       39     2060        %EJECT;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:3    
       40     2061    1   DCL I UBIN (36);
       41     2062    1   DCL FIRST_SCHEMA_MADE BIT (1) EXT;
       42     2063    1   DCL SCHEMA_SIZE UBIN (36) STATIC;
       43     2064    1   DCL JUST_TRANSFER BIT (1) EXT;
       44     2065        %EJECT;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:4    
       45     2066    1   INIT_SCHEMA_SIZE:
       46     2067    1       PROC;
       47     2068    2   DCL I UBIN (36);
       48     2069    2   DCL LEGAL_ALLOC_NUMS (0:5) UBIN(36) STATIC INIT(32,64,128,256,512,1024);
       49     2070    2   DCL LAST_NUM UBIN (36);
       50     2071    2   DCL CURR_NUM UBIN (36);
       51     2072    2   DCL NUM_TO_ADD UBIN (36);
       52     2073    2   DCL LEGAL_PG_NUM BIT (1);
       53     2074    2   DCL FOUND_RANGE BIT (1);
       54     2075    2       IF STRAN.ALLOC_PG
       55     2076    3       THEN DO;
       56     2077    3           LEGAL_PG_NUM = '0'B;
       57     2078    4           DO I = 0 TO 5;
       58     2079    4               IF STRAN.NUM_PG = LEGAL_ALLOC_NUMS(I)
       59     2080    5               THEN DO;
       60     2081    5                   SCHEMA_SIZE = STRAN.NUM_PG;
       61     2082    5                   LEGAL_PG_NUM = '1'B;
       62     2083    5                   END;
       63     2084    4               END; /* DO */
       64     2085    3           IF NOT LEGAL_PG_NUM
       65     2086    4           THEN DO;
       66     2087         /* Find closest acceptable number of pages */
       67     2088    4               IF STRAN.NUM_PG < LEGAL_ALLOC_NUMS(0) THEN
       68     2089    4                   SCHEMA_SIZE = LEGAL_ALLOC_NUMS(0);
       69     2090    5               ELSE DO;
       70     2091    5                   IF STRAN.NUM_PG > LEGAL_ALLOC_NUMS(5) THEN
       71     2092    5                       SCHEMA_SIZE = LEGAL_ALLOC_NUMS(5);
       72     2093    6                   ELSE DO;
       73     2094    6                       LAST_NUM = LEGAL_ALLOC_NUMS(0);
       74     2095    6                       CURR_NUM = LEGAL_ALLOC_NUMS(1);
       75     2096    6                       FOUND_RANGE = '0'B;
       76     2097    7                       DO WHILE NOT FOUND_RANGE;
       77     2098    7                           IF (LAST_NUM < STRAN.NUM_PG) AND (STRAN.NUM_PG < CURR_NUM)
       78     2099    8                           THEN DO;
       79     2100    8                               FOUND_RANGE = '1'B;
       80     2101    8                               IF STRAN.NUM_PG < ((LAST_NUM + CURR_NUM)/2) THEN
       81     2102    8                                   SCHEMA_SIZE = LAST_NUM;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:5    
       82     2103    8                               ELSE
       83     2104    8                                   SCHEMA_SIZE = CURR_NUM;
       84     2105    8                               END;
       85     2106    8                           ELSE DO;
       86     2107    8                               LAST_NUM = CURR_NUM;
       87     2108    8                               CURR_NUM = CURR_NUM * 2;
       88     2109    8                               END;
       89     2110    7                           END;
       90     2111    6                       END;
       91     2112    5                   END;
       92     2113    4               CALL SET_FIELD_NUM(1,SCHEMA_SIZE);
       93     2114    4               CALL WARNING(%ZIG_INVALID_NUM_PAGES);
       94     2115        /*E*     ERROR:    ZIG-ZIG_INVALID_NUM_PAGES-C
       95     2116                 MESSAGE:  The specified number of pages is not a power-of-two number
       96     2117                           between 32 and 1024.  The number of pages allocated has
       97     2118                           been rounded to %U1.
       98     2119        */
       99     2120    4               END;
      100     2121    3           END;
      101     2122    3       ELSE DO;
      102     2123    3           IF STRAN.ADD_PG
      103     2124    4           THEN DO;
      104     2125    4               IF STRAN.NUM_PG > 9
      105     2126    5               THEN DO;
      106     2127    5                   SCHEMA_SIZE = 32 + 512; /* 32 + 2**9 */
      107     2128    5                   CALL WARNING(%ZIG_POWER_TOO_LARGE);
      108     2129        /*E*     ERROR:    ZIG-ZIG_POWER_TOO_LARGE-C
      109     2130                 MESSAGE:  The specified power of two is larger than the maximum
      110     2131                           power (nine).  The number of pages added is 2**9 (512).
      111     2132        */
      112     2133    5                   END;
      113     2134    5               ELSE DO;
      114     2135    5                   NUM_TO_ADD = 1;
      115     2136    5                   IF STRAN.NUM_PG > 0
      116     2137    6                   THEN DO;
      117     2138    7                       DO I = 1 TO STRAN.NUM_PG;
      118     2139    7                           NUM_TO_ADD = NUM_TO_ADD * 2;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:6    
      119     2140    7                           END;
      120     2141    6                       SCHEMA_SIZE = 32 + NUM_TO_ADD;
      121     2142    6                       END;
      122     2143    5                   ELSE
      123     2144    5                       SCHEMA_SIZE = 32;
      124     2145    5                   END;
      125     2146    4               END;
      126     2147    3           ELSE
      127     2148    3               SCHEMA_SIZE = 32; /* Default size */
      128     2149    3           END;
      129     2150    2   END INIT_SCHEMA_SIZE;
      130     2151    1   SF_OPEN:
      131     2152    1       ENTRY(FUNCTION,STATUS);
      132     2153    1       STATUS = 0;
      133     2154    1       IF FUNCTION = 1 OR FUNCTION = 5
      134     2155    2       THEN DO;
      135     2156        /*
      136     2157            We start out by creating the schema file (using the real schema
      137     2158            name) but if the schema size needs to be increased later we do
      138     2159            this by creating a new schema file (using a temporary name--
      139     2160            *IDSII-TEMPORY-SCHEMA-FILE*).  If the file needs to grow some
      140     2161            more we create a schema file using the real schema name again, etc.
      141     2162            What happens is the larger file is created and the info is moved
      142     2163            into the new larger file.  We alternate between the file with the
      143     2164            real schema name and the file with the temporary name.  After we're
      144     2165            done processing the DDL, ZIG$D_END calls SF_MAKE_REAL_FILE to make
      145     2166            sure the schema info is in the file with the real name; if not, it
      146     2167            puts it there.
      147     2168        */
      148     2169    2           IF FIRST_SCHEMA_MADE THEN
      149     2170    2               IA.SCHEMA_NAME = OLD_SCHEMA_NAME;
      150     2171    2           ELSE
      151     2172    2               IF IA.SCHEMA_NAME = OLD_SCHEMA_NAME THEN
      152     2173    2                   IA.SCHEMA_NAME = '*IDSII-TEMPORY-SCHEMA-FILE*';
      153     2174    2               ELSE
      154     2175    2                   IA.SCHEMA_NAME = OLD_SCHEMA_NAME;
      155     2176    2           END;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:7    
      156     2177    2       ELSE DO;
      157     2178    2           IA.SCHEMA_NAME = OLD_SCHEMA_NAME;
      158     2179    2           END;
      159     2180    1       IA.SUBSCH_NAME = 'SUB4';
      160     2181    1       CALL ZIA$HIA;
      161     2182    1       IF UWA.DB_STATUS ~= '0000000'
      162     2183    2       THEN DO;
      163     2184    2           CALL ERROR (%ZIG_CANT_OPEN_SUB4);
      164     2185        /*E*     ERROR:    ZIG-ZIG_CANT_OPEN_SUB4-C
      165     2186        MESSAGE: Cannot open the file DBSUB4:.:SYS as a subschema file.
      166     2187                 <<<< SOFTWARE ERROR >>>>
      167     2188        */
      168     2189    2           CALL ABORT;
      169     2190    2           END;
      170     2191    1       CALL ZIA$NBUFFERS(30);
      171     2192    1       IF FUNCTION = 5 OR FUNCTION = 1 OR FUNCTION = 3
      172     2193    1       THEN CALL ZIA$NOSHARE;
      173     2194    1       ELSE CALL ZIA$SHAREALL;
      174     2195    1       IF FUNCTION = 5 OR FUNCTION = 1
      175     2196    2       THEN DO;
      176     2197    2           IF FIRST_SCHEMA_MADE
      177     2198    3           THEN DO;
      178     2199    3               CALL INIT_SCHEMA_SIZE;
      179     2200    3               END;
      180     2201    3           ELSE DO;
      181     2202    3               SCHEMA_SIZE = SCHEMA_SIZE * 2;
      182     2203    3               END;
      183     2204    2           IF SCHEMA_SIZE <= 1024
      184     2205    3           THEN DO;
      185     2206    3               JUST_TRANSFER = '0'B;
      186     2207    3               CALL GFILE(128 ,SCHEMA_SIZE ,IA.SCHEMA_NAME);
      187     2208    3               END;
      188     2209    2           FIRST_SCHEMA_MADE = '0'B;
      189     2210    2           END;
      190     2211    1       CALL ZIA$READY(RVA.THISISATHIRTYCHARACTERDATANAME);
      191     2212    1       IF UWA.DB_STATUS ~= '0000000'
      192     2213    2       THEN DO;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:8    
      193     2214    2           CALL SET_FIELDS(1,30,OLD_SCHEMA_NAME);
      194     2215    2           CALL ERROR(%ZIG_CANT_OPEN_SCHEMA);
      195     2216        /*E*     ERROR:    ZIG-ZIG_CANT_OPEN_SCHEMA-C
      196     2217        MESSAGE: When trying to open the schema file to update it an error
      197     2218                 occurred. DBACS cannot open the file %U1.
      198     2219        */
      199     2220    2           STATUS = 1;
      200     2221    2           END;
      201     2222    1       RETURN;
      202     2223        %EJECT;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:9    
      203     2224    1   SF_CLOSE:
      204     2225    1       ENTRY(FUNCTION,STATUS);
      205     2226    1       STATUS = 0;
      206     2227    1       CALL ZIA$FINISH(0);
      207     2228    1       IF UWA.DB_STATUS ~= '0000000'
      208     2229    1       THEN STATUS = 1;
      209     2230    1       RETURN;
      210     2231    1   SF_MAKE_REAL_FILE:
      211     2232    1       ENTRY;
      212     2233    1       IF IA.SCHEMA_NAME = OLD_SCHEMA_NAME THEN RETURN;
      213     2234    1       CALL SF_CLOSE(0,I);
      214     2235    1       IA.SCHEMA_NAME = OLD_SCHEMA_NAME;
      215     2236    1       CALL ZIA$HIA;
      216     2237    1       IF UWA.DB_STATUS ~= '0000000'
      217     2238    2       THEN DO;
      218     2239    2           CALL ERROR(%ZIG_CANT_OPEN_SUB4);
      219     2240    2           CALL ABORT;
      220     2241    2           END;
      221     2242    1       CALL ZIA$NBUFFERS(30);
      222     2243    1       CALL ZIA$NOSHARE;
      223     2244    1       JUST_TRANSFER = '1'B;
      224     2245    1       CALL GFILE(128, SCHEMA_SIZE, IA.SCHEMA_NAME);
      225     2246    1       CALL ZIA$READY(RVA.THISISATHIRTYCHARACTERDATANAME);
      226     2247    1       IF UWA.DB_STATUS ~= '0000000'
      227     2248    1       THEN CALL ABORT;
      228     2249    1       RETURN;
      229     2250    1   END ZIA$SS_INIT;

PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:10   
--  Include file information  --

   ZIG_GENERAL.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZI_SUB4_CAN.:ZIC0TOU  is referenced.
   ZI_ERRORS_SUBS.:ZIC0TOU  is referenced.
   ZIA_IDS_DCL.:ZIC0TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure ZIA$SS_INIT.

   Procedure ZIA$SS_INIT requires 299 words for executable code.
   Procedure ZIA$SS_INIT requires 20 words of local(AUTO) storage.

    No errors detected in file ZIA$SS_INIT.:ZIC0TSI    .

PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:11   

 Object Unit name= ZIA$SS_INIT                                File name= ZIA$SS_INIT.:ZIC0TOU
 UTS= SEP 05 '97 11:35:29.76 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  LblCom even  none    10     12  STRAN
    1  LblCom even  none    20     24  ZEROES
    2  LblCom even  none     8     10  OLD_SCHEMA_NAME
    3  LblCom even  none     1      1  NUM_ERROR_MSG
    4  LblCom even  none     1      1  NUM_WARN_MSG
    5  LblCom even  none     1      1  ALLOCATE_END
    6  LblCom even  none     2      2  SUBSCHEMA_KEY
    7  LblCom even  none     1      1  BUFFER$
    8  LblCom even  none     1      1  ERROR_IO
    9  LblCom even  none     1      1  BUFFER_LEN
   10  LblCom even  none     2      2  UWA_KEY
   11  LblCom even  none     1      1  NEXT_UWA_SECOND_HALF
   12  LblCom even  none     2      2  RVA_KEY
   13  LblCom even  none     2      2  IA__KEY
   14  LblCom even  none     1      1  NEXT_RVA_SECOND_HALF
   15  LblCom even  none    32     40  SEARCHR_NB
   16  LblCom even  none    32     40  SEM_COM
   17  LblCom even  none    32     40  DMCL_XLATE
   18  LblCom even  none    32     40  Q2_PERCENT
   19  LblCom even  none   656   1220  UWA
   20  LblCom even  none   106    152  RVA
   21  LblCom even  none     4      4  USE_PROC
   22  LblCom even  none    46     56  IA
   23  LblCom even  none     1      1  FIRST_SCHEMA_MADE
   24   Data  even  none     7      7  ZIA$SS_INIT
   25  LblCom even  none     1      1  JUST_TRANSFER
   26  RoData even  UTS     10     12  ZIA$SS_INIT
   27   Proc  even  none   299    453  ZIA$SS_INIT
   28  RoData even  none    26     32  ZIA$SS_INIT
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:12   

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    27      0   yes            yes      Std        2  ZIA$SS_INIT
    27    164                  yes      Std        2  SF_OPEN
    27    342                  yes      Std        2  SF_CLOSE
    27    362                  yes      Std        0  SF_MAKE_REAL_FILE

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       0 ZIA$HIA
         yes           Std       1 ERROR
         yes           Std       0 ABORT
         yes           Std       1 ZIA$NBUFFERS
         yes           Std       0 ZIA$SHAREALL
         yes           Std       3 GFILE
         yes           Std       3 SET_FIELDS
         yes           Std       1 ZIA$FINISH
         yes           Std       1 ZIA$READY
         yes           Std       0 ZIA$NOSHARE
         yes           Std       2 SET_FIELD_NUM
         yes           Std       1 WARNING
                       nStd      0 X66_AUTO_2
                       nStd      0 X66_ARET

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:13   


        1        1        /*T***********************************************************/
        2        2        /*T*                                                         */
        3        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        4        4        /*T*                                                         */
        5        5        /*T***********************************************************/
        6        6        /*P*
        7        7        NAME:    ZIA$SS_INIT
        8        8        PURPOSE:
        9        9                   To initialize the subschema SUB4 and the two areas
       10       10                 for that subschema.
       11       11        */
       12       12        ZIA$SS_INIT:
       13       13            PROC(FUNCTION,STATUS);

     13 27 000000   000000 700200 xent  ZIA$SS_INIT  TSX0  ! X66_AUTO_2
        27 000001   000024 000002                    ZERO    20,2
        27 000002   000163 710000 27                 TRA     s:2150+2

       14       14    1   DCL FUNCTION SBIN (36);
       15       15    1   DCL STATUS SBIN (36);
       16       16    1   DCL LAST_NUM UBIN (36);
       17       17    1   DCL CURR_NUM UBIN (36);
       18       18    1   DCL FOUND_RANGE BIT (1);
       19       19    1   DCL 01 STRAN EXT,
       20       20    1         02 STATUS BIT(3),
       21       21    1         02 XREF BIT(1),
       22       22    1         02 ALLOC_PG BIT(1),
       23       23    1         02 ADD_PG BIT(1),
       24       24    1         02 FILR BIT(30),
       25       25    1         02 SNAME CHAR(30),
       26       26    1         02 NUM_PG UBIN(36);
       27       27    1   DCL ZEROES(0:19) UBIN (36) EXT INIT (0*20);
       28       28    1   DCL OLD_SCHEMA_NAME CHAR (30) EXT;
       29       29    1   DCL GFILE ENTRY (3);
       30       30        %EJECT;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:14   
       31       31        %INCLUDE ZIA_IDS_DCL;
       32      139        %INCLUDE ZI_ERRORS_SUBS;
       33      659        %INCLUDE ZI_SUB4_CAN;
       34     1316        %INCLUDE ZIG_GENERAL;
       35     1424        %UWA;
       36     1759        %RVA;
       37     2036        %USE_PROC;
       38     2044        %IA;
       39     2060        %EJECT;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:15   
       40     2061    1   DCL I UBIN (36);
       41     2062    1   DCL FIRST_SCHEMA_MADE BIT (1) EXT;
       42     2063    1   DCL SCHEMA_SIZE UBIN (36) STATIC;
       43     2064    1   DCL JUST_TRANSFER BIT (1) EXT;
       44     2065        %EJECT;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:16   
       45     2066    1   INIT_SCHEMA_SIZE:

   2066 27 000003   200012 741300       INIT_SCHEMA* STX1  ! I+2,,AUTO

       46     2067    1       PROC;
       47     2068    2   DCL I UBIN (36);
       48     2069    2   DCL LEGAL_ALLOC_NUMS (0:5) UBIN(36) STATIC INIT(32,64,128,256,512,1024);
       49     2070    2   DCL LAST_NUM UBIN (36);
       50     2071    2   DCL CURR_NUM UBIN (36);
       51     2072    2   DCL NUM_TO_ADD UBIN (36);
       52     2073    2   DCL LEGAL_PG_NUM BIT (1);
       53     2074    2   DCL FOUND_RANGE BIT (1);
       54     2075    2       IF STRAN.ALLOC_PG

   2075 27 000004   000000 236000 0                  LDQ     STRAN
        27 000005   020000 316003                    CANQ    8192,DU
        27 000006   000114 600000 27                 TZE     s:2123

       55     2076    3       THEN DO;

       56     2077    3           LEGAL_PG_NUM = '0'B;

   2077 27 000007   200017 450100                    STZ     LEGAL_PG_NUM,,AUTO

       57     2078    4           DO I = 0 TO 5;

   2078 27 000010   200013 450100                    STZ     I,,AUTO

       58     2079    4               IF STRAN.NUM_PG = LEGAL_ALLOC_NUMS(I)

   2079 27 000011   200013 720100                    LXL0    I,,AUTO
        27 000012   000011 236000 0                  LDQ     STRAN+9
        27 000013   000001 116010 24                 CMPQ    LEGAL_ALLOC_NUMS,X0
        27 000014   000020 601000 27                 TNZ     s:2084

       59     2080    5               THEN DO;

PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:17   
       60     2081    5                   SCHEMA_SIZE = STRAN.NUM_PG;

   2081 27 000015   000000 756000 24                 STQ     SCHEMA_SIZE

       61     2082    5                   LEGAL_PG_NUM = '1'B;

   2082 27 000016   400000 236003                    LDQ     -131072,DU
        27 000017   200017 756100                    STQ     LEGAL_PG_NUM,,AUTO

       62     2083    5                   END;

       63     2084    4               END; /* DO */

   2084 27 000020   200013 235100                    LDA     I,,AUTO
        27 000021   000001 035007                    ADLA    1,DL
        27 000022   200013 755100                    STA     I,,AUTO
        27 000023   000006 115007                    CMPA    6,DL
        27 000024   000011 602000 27                 TNC     s:2079

       64     2085    3           IF NOT LEGAL_PG_NUM

   2085 27 000025   200017 234100                    SZN     LEGAL_PG_NUM,,AUTO
        27 000026   000161 604000 27                 TMI     s:2150

       65     2086    4           THEN DO;

       66     2087         /* Find closest acceptable number of pages */
       67     2088    4               IF STRAN.NUM_PG < LEGAL_ALLOC_NUMS(0) THEN

   2088 27 000027   000011 236000 0                  LDQ     STRAN+9
        27 000030   000001 116000 24                 CMPQ    LEGAL_ALLOC_NUMS
        27 000031   000035 603000 27                 TRC     s:2091

       68     2089    4                   SCHEMA_SIZE = LEGAL_ALLOC_NUMS(0);

   2089 27 000032   000001 235000 24                 LDA     LEGAL_ALLOC_NUMS
        27 000033   000000 755000 24                 STA     SCHEMA_SIZE
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:18   
        27 000034   000103 710000 27                 TRA     s:2113

       69     2090    5               ELSE DO;

       70     2091    5                   IF STRAN.NUM_PG > LEGAL_ALLOC_NUMS(5) THEN

   2091 27 000035   000006 116000 24                 CMPQ    LEGAL_ALLOC_NUMS+5
        27 000036   000043 602000 27                 TNC     s:2094
        27 000037   000043 600000 27                 TZE     s:2094

       71     2092    5                       SCHEMA_SIZE = LEGAL_ALLOC_NUMS(5);

   2092 27 000040   000006 235000 24                 LDA     LEGAL_ALLOC_NUMS+5
        27 000041   000000 755000 24                 STA     SCHEMA_SIZE
        27 000042   000103 710000 27                 TRA     s:2113

       72     2093    6                   ELSE DO;

       73     2094    6                       LAST_NUM = LEGAL_ALLOC_NUMS(0);

   2094 27 000043   000001 235000 24                 LDA     LEGAL_ALLOC_NUMS
        27 000044   200014 755100                    STA     LAST_NUM,,AUTO

       74     2095    6                       CURR_NUM = LEGAL_ALLOC_NUMS(1);

   2095 27 000045   000002 235000 24                 LDA     LEGAL_ALLOC_NUMS+1
        27 000046   200015 755100                    STA     CURR_NUM,,AUTO

       75     2096    6                       FOUND_RANGE = '0'B;

   2096 27 000047   200020 450100                    STZ     FOUND_RANGE,,AUTO

       76     2097    7                       DO WHILE NOT FOUND_RANGE;

   2097 27 000050   000101 710000 27                 TRA     s:2110

       77     2098    7                           IF (LAST_NUM < STRAN.NUM_PG) AND (STRAN.NUM_PG < CURR_NUM)
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:19   

   2098 27 000051   200014 236100                    LDQ     LAST_NUM,,AUTO
        27 000052   000011 116000 0                  CMPQ    STRAN+9
        27 000053   000075 603000 27                 TRC     s:2107
        27 000054   000011 236000 0                  LDQ     STRAN+9
        27 000055   200015 116100                    CMPQ    CURR_NUM,,AUTO
        27 000056   000075 603000 27                 TRC     s:2107

       78     2099    8                           THEN DO;

       79     2100    8                               FOUND_RANGE = '1'B;

   2100 27 000057   400000 236003                    LDQ     -131072,DU
        27 000060   200020 756100                    STQ     FOUND_RANGE,,AUTO

       80     2101    8                               IF STRAN.NUM_PG < ((LAST_NUM + CURR_NUM)/2) THEN

   2101 27 000061   200014 236100                    LDQ     LAST_NUM,,AUTO
        27 000062   200015 036100                    ADLQ    CURR_NUM,,AUTO
        27 000063   000001 772000                    QRL     1
        27 000064   000011 116000 0                  CMPQ    STRAN+9
        27 000065   000072 602000 27                 TNC     s:2104
        27 000066   000072 600000 27                 TZE     s:2104

       81     2102    8                                   SCHEMA_SIZE = LAST_NUM;

   2102 27 000067   200014 235100                    LDA     LAST_NUM,,AUTO
        27 000070   000000 755000 24                 STA     SCHEMA_SIZE
        27 000071   000101 710000 27                 TRA     s:2110

       82     2103    8                               ELSE
       83     2104    8                                   SCHEMA_SIZE = CURR_NUM;

   2104 27 000072   200015 235100                    LDA     CURR_NUM,,AUTO
        27 000073   000000 755000 24                 STA     SCHEMA_SIZE

       84     2105    8                               END;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:20   

   2105 27 000074   000101 710000 27                 TRA     s:2110

       85     2106    8                           ELSE DO;

       86     2107    8                               LAST_NUM = CURR_NUM;

   2107 27 000075   200015 235100                    LDA     CURR_NUM,,AUTO
        27 000076   200014 755100                    STA     LAST_NUM,,AUTO

       87     2108    8                               CURR_NUM = CURR_NUM * 2;

   2108 27 000077   000001 735000                    ALS     1
        27 000100   200015 755100                    STA     CURR_NUM,,AUTO

       88     2109    8                               END;

       89     2110    7                           END;

   2110 27 000101   200020 234100                    SZN     FOUND_RANGE,,AUTO
        27 000102   000051 605000 27                 TPL     s:2098

       90     2111    6                       END;

       91     2112    5                   END;

       92     2113    4               CALL SET_FIELD_NUM(1,SCHEMA_SIZE);

   2113 27 000103   000002 630400 28                 EPPR0   2
        27 000104   000000 631400 28                 EPPR1   0
        27 000105   000000 701000 xent               TSX1    SET_FIELD_NUM
        27 000106   000000 011000                    NOP     0

       93     2114    4               CALL WARNING(%ZIG_INVALID_NUM_PAGES);

   2114 27 000107   000006 630400 28                 EPPR0   6
        27 000110   000004 631400 28                 EPPR1   4
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:21   
        27 000111   000000 701000 xent               TSX1    WARNING
        27 000112   000000 011000                    NOP     0

       94     2115        /*E*     ERROR:    ZIG-ZIG_INVALID_NUM_PAGES-C
       95     2116                 MESSAGE:  The specified number of pages is not a power-of-two number
       96     2117                           between 32 and 1024.  The number of pages allocated has
       97     2118                           been rounded to %U1.
       98     2119        */
       99     2120    4               END;

      100     2121    3           END;

   2121 27 000113   000161 710000 27                 TRA     s:2150

      101     2122    3       ELSE DO;

      102     2123    3           IF STRAN.ADD_PG

   2123 27 000114   010000 316003                    CANQ    4096,DU
        27 000115   000157 600000 27                 TZE     s:2148

      103     2124    4           THEN DO;

      104     2125    4               IF STRAN.NUM_PG > 9

   2125 27 000116   000011 235000 0                  LDA     STRAN+9
        27 000117   000012 115007                    CMPA    10,DL
        27 000120   000130 602000 27                 TNC     s:2135

      105     2126    5               THEN DO;

      106     2127    5                   SCHEMA_SIZE = 32 + 512; /* 32 + 2**9 */

   2127 27 000121   001040 235007                    LDA     544,DL
        27 000122   000000 755000 24                 STA     SCHEMA_SIZE

      107     2128    5                   CALL WARNING(%ZIG_POWER_TOO_LARGE);
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:22   

   2128 27 000123   000010 630400 28                 EPPR0   8
        27 000124   000004 631400 28                 EPPR1   4
        27 000125   000000 701000 xent               TSX1    WARNING
        27 000126   000000 011000                    NOP     0

      108     2129        /*E*     ERROR:    ZIG-ZIG_POWER_TOO_LARGE-C
      109     2130                 MESSAGE:  The specified power of two is larger than the maximum
      110     2131                           power (nine).  The number of pages added is 2**9 (512).
      111     2132        */
      112     2133    5                   END;

   2133 27 000127   000161 710000 27                 TRA     s:2150

      113     2134    5               ELSE DO;

      114     2135    5                   NUM_TO_ADD = 1;

   2135 27 000130   000001 235007                    LDA     1,DL
        27 000131   200016 755100                    STA     NUM_TO_ADD,,AUTO

      115     2136    5                   IF STRAN.NUM_PG > 0

   2136 27 000132   000011 235000 0                  LDA     STRAN+9
        27 000133   000154 600000 27                 TZE     s:2144

      116     2137    6                   THEN DO;

      117     2138    7                       DO I = 1 TO STRAN.NUM_PG;

   2138 27 000134   000001 235007                    LDA     1,DL
        27 000135   200013 755100                    STA     I,,AUTO
        27 000136   000145 710000 27                 TRA     s:2140+3

      118     2139    7                           NUM_TO_ADD = NUM_TO_ADD * 2;

   2139 27 000137   200016 235100                    LDA     NUM_TO_ADD,,AUTO
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:23   
        27 000140   000001 735000                    ALS     1
        27 000141   200016 755100                    STA     NUM_TO_ADD,,AUTO

      119     2140    7                           END;

   2140 27 000142   200013 236100                    LDQ     I,,AUTO
        27 000143   000001 036007                    ADLQ    1,DL
        27 000144   200013 756100                    STQ     I,,AUTO
        27 000145   000011 236000 0                  LDQ     STRAN+9
        27 000146   200013 116100                    CMPQ    I,,AUTO
        27 000147   000137 603000 27                 TRC     s:2139

      120     2141    6                       SCHEMA_SIZE = 32 + NUM_TO_ADD;

   2141 27 000150   200016 235100                    LDA     NUM_TO_ADD,,AUTO
        27 000151   000040 035007                    ADLA    32,DL
        27 000152   000000 755000 24                 STA     SCHEMA_SIZE

      121     2142    6                       END;

   2142 27 000153   000161 710000 27                 TRA     s:2150

      122     2143    5                   ELSE
      123     2144    5                       SCHEMA_SIZE = 32;

   2144 27 000154   000040 235007                    LDA     32,DL
        27 000155   000000 755000 24                 STA     SCHEMA_SIZE

      124     2145    5                   END;

      125     2146    4               END;

   2146 27 000156   000161 710000 27                 TRA     s:2150

      126     2147    3           ELSE
      127     2148    3               SCHEMA_SIZE = 32; /* Default size */

PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:24   
   2148 27 000157   000040 235007                    LDA     32,DL
        27 000160   000000 755000 24                 STA     SCHEMA_SIZE

      128     2149    3           END;

      129     2150    2   END INIT_SCHEMA_SIZE;

   2150 27 000161   200012 221300                    LDX1  ! I+2,,AUTO
        27 000162   000001 702211                    TSX2  ! 1,X1
        27 000163   000166 710000 27                 TRA     s:2153

      130     2151    1   SF_OPEN:
      131     2152    1       ENTRY(FUNCTION,STATUS);

   2152 27 000164   000000 700200 xent  SF_OPEN      TSX0  ! X66_AUTO_2
        27 000165   000024 000002                    ZERO    20,2

      132     2153    1       STATUS = 0;

   2153 27 000166   200004 470500                    LDP0    @STATUS,,AUTO
        27 000167   000000 450100                    STZ     0,,PR0

      133     2154    1       IF FUNCTION = 1 OR FUNCTION = 5

   2154 27 000170   200003 471500                    LDP1    @FUNCTION,,AUTO
        27 000171   100000 235100                    LDA     0,,PR1
        27 000172   000001 115007                    CMPA    1,DL
        27 000173   000176 600000 27                 TZE     s:2169
        27 000174   000005 115007                    CMPA    5,DL
        27 000175   000220 601000 27                 TNZ     s:2178

      134     2155    2       THEN DO;

      135     2156        /*
      136     2157            We start out by creating the schema file (using the real schema
      137     2158            name) but if the schema size needs to be increased later we do
      138     2159            this by creating a new schema file (using a temporary name--
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:25   
      139     2160            *IDSII-TEMPORY-SCHEMA-FILE*).  If the file needs to grow some
      140     2161            more we create a schema file using the real schema name again, etc.
      141     2162            What happens is the larger file is created and the info is moved
      142     2163            into the new larger file.  We alternate between the file with the
      143     2164            real schema name and the file with the temporary name.  After we're
      144     2165            done processing the DDL, ZIG$D_END calls SF_MAKE_REAL_FILE to make
      145     2166            sure the schema info is in the file with the real name; if not, it
      146     2167            puts it there.
      147     2168        */
      148     2169    2           IF FIRST_SCHEMA_MADE THEN

   2169 27 000176   000000 234000 23                 SZN     FIRST_SCHEMA_MADE
        27 000177   000204 605000 27                 TPL     s:2172

      149     2170    2               IA.SCHEMA_NAME = OLD_SCHEMA_NAME;

   2170 27 000200   040000 100400                    MLR     fill='040'O
        27 000201   000000 000036 2                  ADSC9   OLD_SCHEMA_NAME          cn=0,n=30
        27 000202   000012 000040 22                 ADSC9   IA+10                    cn=0,n=32
        27 000203   000223 710000 27                 TRA     s:2180

      150     2171    2           ELSE
      151     2172    2               IF IA.SCHEMA_NAME = OLD_SCHEMA_NAME THEN

   2172 27 000204   040000 106400                    CMPC    fill='040'O
        27 000205   000012 000040 22                 ADSC9   IA+10                    cn=0,n=32
        27 000206   000000 000036 2                  ADSC9   OLD_SCHEMA_NAME          cn=0,n=30
        27 000207   000214 601000 27                 TNZ     s:2175

      152     2173    2                   IA.SCHEMA_NAME = '*IDSII-TEMPORY-SCHEMA-FILE*';

   2173 27 000210   040000 100400                    MLR     fill='040'O
        27 000211   000000 000033 26                 ADSC9   0                        cn=0,n=27
        27 000212   000012 000040 22                 ADSC9   IA+10                    cn=0,n=32
        27 000213   000223 710000 27                 TRA     s:2180

      153     2174    2               ELSE
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:26   
      154     2175    2                   IA.SCHEMA_NAME = OLD_SCHEMA_NAME;

   2175 27 000214   040000 100400                    MLR     fill='040'O
        27 000215   000000 000036 2                  ADSC9   OLD_SCHEMA_NAME          cn=0,n=30
        27 000216   000012 000040 22                 ADSC9   IA+10                    cn=0,n=32

      155     2176    2           END;

   2176 27 000217   000223 710000 27                 TRA     s:2180

      156     2177    2       ELSE DO;

      157     2178    2           IA.SCHEMA_NAME = OLD_SCHEMA_NAME;

   2178 27 000220   040000 100400                    MLR     fill='040'O
        27 000221   000000 000036 2                  ADSC9   OLD_SCHEMA_NAME          cn=0,n=30
        27 000222   000012 000040 22                 ADSC9   IA+10                    cn=0,n=32

      158     2179    2           END;

      159     2180    1       IA.SUBSCH_NAME = 'SUB4';

   2180 27 000223   040000 100400                    MLR     fill='040'O
        27 000224   000007 000004 26                 ADSC9   7                        cn=0,n=4
        27 000225   000022 000040 22                 ADSC9   IA+18                    cn=0,n=32

      160     2181    1       CALL ZIA$HIA;

   2181 27 000226   000011 631400 28                 EPPR1   9
        27 000227   000000 701000 xent               TSX1    ZIA$HIA
        27 000230   000000 011000                    NOP     0

      161     2182    1       IF UWA.DB_STATUS ~= '0000000'

   2182 27 000231   040000 106400                    CMPC    fill='040'O
        27 000232   000001 000007 19                 ADSC9   UWA+1                    cn=0,n=7
        27 000233   000010 000007 26                 ADSC9   8                        cn=0,n=7
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:27   
        27 000234   000244 600000 27                 TZE     s:2191

      162     2183    2       THEN DO;

      163     2184    2           CALL ERROR (%ZIG_CANT_OPEN_SUB4);

   2184 27 000235   000013 630400 28                 EPPR0   11
        27 000236   000004 631400 28                 EPPR1   4
        27 000237   000000 701000 xent               TSX1    ERROR
        27 000240   000000 011000                    NOP     0

      164     2185        /*E*     ERROR:    ZIG-ZIG_CANT_OPEN_SUB4-C
      165     2186        MESSAGE: Cannot open the file DBSUB4:.:SYS as a subschema file.
      166     2187                 <<<< SOFTWARE ERROR >>>>
      167     2188        */
      168     2189    2           CALL ABORT;

   2189 27 000241   000011 631400 28                 EPPR1   9
        27 000242   000000 701000 xent               TSX1    ABORT
        27 000243   000000 011000                    NOP     0

      169     2190    2           END;

      170     2191    1       CALL ZIA$NBUFFERS(30);

   2191 27 000244   000015 630400 28                 EPPR0   13
        27 000245   000004 631400 28                 EPPR1   4
        27 000246   000000 701000 xent               TSX1    ZIA$NBUFFERS
        27 000247   000000 011000                    NOP     0

      171     2192    1       IF FUNCTION = 5 OR FUNCTION = 1 OR FUNCTION = 3

   2192 27 000250   200003 470500                    LDP0    @FUNCTION,,AUTO
        27 000251   000000 235100                    LDA     0,,PR0
        27 000252   000005 115007                    CMPA    5,DL
        27 000253   000260 600000 27                 TZE     s:2193
        27 000254   000001 115007                    CMPA    1,DL
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:28   
        27 000255   000260 600000 27                 TZE     s:2193
        27 000256   000003 115007                    CMPA    3,DL
        27 000257   000264 601000 27                 TNZ     s:2194

      172     2193    1       THEN CALL ZIA$NOSHARE;

   2193 27 000260   000011 631400 28                 EPPR1   9
        27 000261   000000 701000 xent               TSX1    ZIA$NOSHARE
        27 000262   000000 011000                    NOP     0
        27 000263   000267 710000 27                 TRA     s:2195

      173     2194    1       ELSE CALL ZIA$SHAREALL;

   2194 27 000264   000011 631400 28                 EPPR1   9
        27 000265   000000 701000 xent               TSX1    ZIA$SHAREALL
        27 000266   000000 011000                    NOP     0

      174     2195    1       IF FUNCTION = 5 OR FUNCTION = 1

   2195 27 000267   200003 470500                    LDP0    @FUNCTION,,AUTO
        27 000270   000000 235100                    LDA     0,,PR0
        27 000271   000005 115007                    CMPA    5,DL
        27 000272   000275 600000 27                 TZE     s:2197
        27 000273   000001 115007                    CMPA    1,DL
        27 000274   000316 601000 27                 TNZ     s:2211

      175     2196    2       THEN DO;

      176     2197    2           IF FIRST_SCHEMA_MADE

   2197 27 000275   000000 234000 23                 SZN     FIRST_SCHEMA_MADE
        27 000276   000302 605000 27                 TPL     s:2202

      177     2198    3           THEN DO;

      178     2199    3               CALL INIT_SCHEMA_SIZE;

PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:29   
   2199 27 000277   000003 701000 27                 TSX1    INIT_SCHEMA_SIZE
        27 000300   000000 011000                    NOP     0

      179     2200    3               END;

   2200 27 000301   000305 710000 27                 TRA     s:2204

      180     2201    3           ELSE DO;

      181     2202    3               SCHEMA_SIZE = SCHEMA_SIZE * 2;

   2202 27 000302   000000 236000 24                 LDQ     SCHEMA_SIZE
        27 000303   000001 736000                    QLS     1
        27 000304   000000 756000 24                 STQ     SCHEMA_SIZE

      182     2203    3               END;

      183     2204    2           IF SCHEMA_SIZE <= 1024

   2204 27 000305   000000 235000 24                 LDA     SCHEMA_SIZE
        27 000306   002001 115007                    CMPA    1025,DL
        27 000307   000315 603000 27                 TRC     s:2209

      184     2205    3           THEN DO;

      185     2206    3               JUST_TRANSFER = '0'B;

   2206 27 000310   000000 450000 25                 STZ     JUST_TRANSFER

      186     2207    3               CALL GFILE(128 ,SCHEMA_SIZE ,IA.SCHEMA_NAME);

   2207 27 000311   000020 630400 28                 EPPR0   16
        27 000312   000016 631400 28                 EPPR1   14
        27 000313   000000 701000 xent               TSX1    GFILE
        27 000314   000000 011000                    NOP     0

      187     2208    3               END;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:30   

      188     2209    2           FIRST_SCHEMA_MADE = '0'B;

   2209 27 000315   000000 450000 23                 STZ     FIRST_SCHEMA_MADE

      189     2210    2           END;

      190     2211    1       CALL ZIA$READY(RVA.THISISATHIRTYCHARACTERDATANAME);

   2211 27 000316   000023 630400 28                 EPPR0   19
        27 000317   000004 631400 28                 EPPR1   4
        27 000320   000000 701000 xent               TSX1    ZIA$READY
        27 000321   000000 011000                    NOP     0

      191     2212    1       IF UWA.DB_STATUS ~= '0000000'

   2212 27 000322   040000 106400                    CMPC    fill='040'O
        27 000323   000001 000007 19                 ADSC9   UWA+1                    cn=0,n=7
        27 000324   000010 000007 26                 ADSC9   8                        cn=0,n=7
        27 000325   000341 600000 27                 TZE     s:2222

      192     2213    2       THEN DO;

      193     2214    2           CALL SET_FIELDS(1,30,OLD_SCHEMA_NAME);

   2214 27 000326   000024 630400 28                 EPPR0   20
        27 000327   000016 631400 28                 EPPR1   14
        27 000330   000000 701000 xent               TSX1    SET_FIELDS
        27 000331   000000 011000                    NOP     0

      194     2215    2           CALL ERROR(%ZIG_CANT_OPEN_SCHEMA);

   2215 27 000332   000030 630400 28                 EPPR0   24
        27 000333   000004 631400 28                 EPPR1   4
        27 000334   000000 701000 xent               TSX1    ERROR
        27 000335   000000 011000                    NOP     0

PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:31   
      195     2216        /*E*     ERROR:    ZIG-ZIG_CANT_OPEN_SCHEMA-C
      196     2217        MESSAGE: When trying to open the schema file to update it an error
      197     2218                 occurred. DBACS cannot open the file %U1.
      198     2219        */
      199     2220    2           STATUS = 1;

   2220 27 000336   000001 235007                    LDA     1,DL
        27 000337   200004 470500                    LDP0    @STATUS,,AUTO
        27 000340   000000 755100                    STA     0,,PR0

      200     2221    2           END;

      201     2222    1       RETURN;

   2222 27 000341   000000 702200 xent               TSX2  ! X66_ARET

      202     2223        %EJECT;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:32   
      203     2224    1   SF_CLOSE:
      204     2225    1       ENTRY(FUNCTION,STATUS);

   2225 27 000342   000000 700200 xent  SF_CLOSE     TSX0  ! X66_AUTO_2
        27 000343   000024 000002                    ZERO    20,2

      205     2226    1       STATUS = 0;

   2226 27 000344   200004 470500                    LDP0    @STATUS,,AUTO
        27 000345   000000 450100                    STZ     0,,PR0

      206     2227    1       CALL ZIA$FINISH(0);

   2227 27 000346   000031 630400 28                 EPPR0   25
        27 000347   000004 631400 28                 EPPR1   4
        27 000350   000000 701000 xent               TSX1    ZIA$FINISH
        27 000351   000000 011000                    NOP     0

      207     2228    1       IF UWA.DB_STATUS ~= '0000000'

   2228 27 000352   040000 106400                    CMPC    fill='040'O
        27 000353   000001 000007 19                 ADSC9   UWA+1                    cn=0,n=7
        27 000354   000010 000007 26                 ADSC9   8                        cn=0,n=7
        27 000355   000361 600000 27                 TZE     s:2230

      208     2229    1       THEN STATUS = 1;

   2229 27 000356   000001 235007                    LDA     1,DL
        27 000357   200004 470500                    LDP0    @STATUS,,AUTO
        27 000360   000000 755100                    STA     0,,PR0

      209     2230    1       RETURN;

   2230 27 000361   000000 702200 xent               TSX2  ! X66_ARET

      210     2231    1   SF_MAKE_REAL_FILE:
      211     2232    1       ENTRY;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:33   

   2232 27 000362   000000 700200 xent  SF_MAKE_REA* TSX0  ! X66_AUTO_2
        27 000363   000024 000002                    ZERO    20,2

      212     2233    1       IF IA.SCHEMA_NAME = OLD_SCHEMA_NAME THEN RETURN;

   2233 27 000364   040000 106400                    CMPC    fill='040'O
        27 000365   000012 000040 22                 ADSC9   IA+10                    cn=0,n=32
        27 000366   000000 000036 2                  ADSC9   OLD_SCHEMA_NAME          cn=0,n=30
        27 000367   000371 601000 27                 TNZ     s:2234

   2233 27 000370   000000 702200 xent               TSX2  ! X66_ARET

      213     2234    1       CALL SF_CLOSE(0,I);

   2234 27 000371   200010 630500                    EPPR0   I,,AUTO
        27 000372   200023 450500                    STP0    FOUND_RANGE+3,,AUTO
        27 000373   000031 236000 28                 LDQ     25
        27 000374   200022 756100                    STQ     FOUND_RANGE+2,,AUTO
        27 000375   200022 630500                    EPPR0   FOUND_RANGE+2,,AUTO
        27 000376   000000 631400 28                 EPPR1   0
        27 000377   000342 701000 27                 TSX1    s:2225
        27 000400   000000 011000                    NOP     0

      214     2235    1       IA.SCHEMA_NAME = OLD_SCHEMA_NAME;

   2235 27 000401   040000 100400                    MLR     fill='040'O
        27 000402   000000 000036 2                  ADSC9   OLD_SCHEMA_NAME          cn=0,n=30
        27 000403   000012 000040 22                 ADSC9   IA+10                    cn=0,n=32

      215     2236    1       CALL ZIA$HIA;

   2236 27 000404   000011 631400 28                 EPPR1   9
        27 000405   000000 701000 xent               TSX1    ZIA$HIA
        27 000406   000000 011000                    NOP     0

      216     2237    1       IF UWA.DB_STATUS ~= '0000000'
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:34   

   2237 27 000407   040000 106400                    CMPC    fill='040'O
        27 000410   000001 000007 19                 ADSC9   UWA+1                    cn=0,n=7
        27 000411   000010 000007 26                 ADSC9   8                        cn=0,n=7
        27 000412   000422 600000 27                 TZE     s:2242

      217     2238    2       THEN DO;

      218     2239    2           CALL ERROR(%ZIG_CANT_OPEN_SUB4);

   2239 27 000413   000013 630400 28                 EPPR0   11
        27 000414   000004 631400 28                 EPPR1   4
        27 000415   000000 701000 xent               TSX1    ERROR
        27 000416   000000 011000                    NOP     0

      219     2240    2           CALL ABORT;

   2240 27 000417   000011 631400 28                 EPPR1   9
        27 000420   000000 701000 xent               TSX1    ABORT
        27 000421   000000 011000                    NOP     0

      220     2241    2           END;

      221     2242    1       CALL ZIA$NBUFFERS(30);

   2242 27 000422   000015 630400 28                 EPPR0   13
        27 000423   000004 631400 28                 EPPR1   4
        27 000424   000000 701000 xent               TSX1    ZIA$NBUFFERS
        27 000425   000000 011000                    NOP     0

      222     2243    1       CALL ZIA$NOSHARE;

   2243 27 000426   000011 631400 28                 EPPR1   9
        27 000427   000000 701000 xent               TSX1    ZIA$NOSHARE
        27 000430   000000 011000                    NOP     0

      223     2244    1       JUST_TRANSFER = '1'B;
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:35   

   2244 27 000431   400000 236003                    LDQ     -131072,DU
        27 000432   000000 756000 25                 STQ     JUST_TRANSFER

      224     2245    1       CALL GFILE(128, SCHEMA_SIZE, IA.SCHEMA_NAME);

   2245 27 000433   000020 630400 28                 EPPR0   16
        27 000434   000016 631400 28                 EPPR1   14
        27 000435   000000 701000 xent               TSX1    GFILE
        27 000436   000000 011000                    NOP     0

      225     2246    1       CALL ZIA$READY(RVA.THISISATHIRTYCHARACTERDATANAME);

   2246 27 000437   000023 630400 28                 EPPR0   19
        27 000440   000004 631400 28                 EPPR1   4
        27 000441   000000 701000 xent               TSX1    ZIA$READY
        27 000442   000000 011000                    NOP     0

      226     2247    1       IF UWA.DB_STATUS ~= '0000000'

   2247 27 000443   040000 106400                    CMPC    fill='040'O
        27 000444   000001 000007 19                 ADSC9   UWA+1                    cn=0,n=7
        27 000445   000010 000007 26                 ADSC9   8                        cn=0,n=7
        27 000446   000452 600000 27                 TZE     s:2249

      227     2248    1       THEN CALL ABORT;

   2248 27 000447   000011 631400 28                 EPPR1   9
        27 000450   000000 701000 xent               TSX1    ABORT
        27 000451   000000 011000                    NOP     0

      228     2249    1       RETURN;

   2249 27 000452   000000 702200 xent               TSX2  ! X66_ARET

STRAN
 Sect OctLoc
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:36   
   0     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

ZEROES
 Sect OctLoc
   1     000   000000 000000   000000 000000   000000 000000   000000 000000    ................
   1     020*  000000 000000   000000 000000   000000 000000   000000 000000    ................

OLD_SCHEMA_NAME
 Sect OctLoc
   2     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

UWA_KEY
 Sect OctLoc
  10     000   007125 127101   ****** ******                                    .UWA....

RVA_KEY
 Sect OctLoc
  12     000   007122 126101   ****** ******                                    .RVA....

IA__KEY
 Sect OctLoc
  13     000   007111 101137   ****** ******                                    .IA_....

SEARCHR_NB
 Sect OctLoc
  15     000   001001 001001   001001 001001   001001 001001   001001 001001    ................
  15     010*  000001 001001   001001 001001   001001 001001   001001 001001    ................
  15     014   001001 001001   001001 001001   001001 001001   001001 001001    ................
  15     034*  001001 001001   001001 001001   001001 001001   001001 001001    ................

SEM_COM
 Sect OctLoc
  16     000   000001 002003   004005 006007   010011 012013   014015 016017    ................
  16     004   020021 022023   024025 026027   030031 032033   034035 036037    ................
  16     010   040041 042043   044045 046047   050051 052053   054055 056057     !"#$%&'()*+,-./
  16     014   060061 062063   064065 066067   070071 072040   074075 076077    0123456789: <=>?
  16     020   100101 102103   104105 106107   110111 112113   114115 116117    @ABCDEFGHIJKLMNO
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:37   
  16     024   120121 122123   124125 126127   130131 132133   134135 136137    PQRSTUVWXYZ[\]^_
  16     030   140141 142143   144145 146147   150151 152153   154155 156157    `abcdefghijklmno
  16     034   160161 162163   164165 166167   170171 172173   174175 176177    pqrstuvwxyz{|}~.

DMCL_XLATE
 Sect OctLoc
  17     000   000001 002003   004005 006007   010011 012013   014015 016017    ................
  17     004   020021 022023   024025 026027   030031 032033   034035 036037    ................
  17     010   040041 041043   044045 046047   050051 052053   054055 136057     !!#$%&'()*+,-^/
  17     014   060061 062063   064065 066067   070071 072040   074075 076077    0123456789: <=>?
  17     020   100101 102103   104105 106107   110111 112113   114115 116117    @ABCDEFGHIJKLMNO
  17     024   120121 122123   124125 126127   130131 132133   134135 136137    PQRSTUVWXYZ[\]^_
  17     030   140141 142143   144145 146147   150151 152153   154155 156157    `abcdefghijklmno
  17     034   160161 162163   164165 166167   170171 172173   174175 176177    pqrstuvwxyz{|}~.

Q2_PERCENT
 Sect OctLoc
  18     000   000001 002003   004005 006007   010011 012013   014015 016017    ................
  18     004   020021 022023   024025 026027   030031 032033   034035 036037    ................
  18     010   040041 045043   044045 046047   050051 052053   054055 056057     !%#$%&'()*+,-./
  18     014   060061 062063   064065 066067   070071 072073   074075 076077    0123456789:;<=>?
  18     020   100101 102103   104105 106107   110111 112113   114115 116117    @ABCDEFGHIJKLMNO
  18     024   120121 122123   124125 126127   130131 132133   134135 136137    PQRSTUVWXYZ[\]^_
  18     030   140141 142143   144145 146147   150151 152153   154155 156157    `abcdefghijklmno
  18     034   160161 162163   164165 166167   170171 172173   174175 176177    pqrstuvwxyz{|}~.

UWA
 Sect OctLoc
  19     000   000000 000000   040040 040040   040040 040040   040040 040040    ....
  19     004   040040 040040   040040 040040   040040 040040   040040 040040
  19     010   040040 040040   040040 040040   040040 000000   040040 040040              ..
  19     014   040040 040040   040040 040040   040040 040040   040040 040040
  19     020   040040 040040   040040 040040   040040 000000   040040 040040              ..
  19     024   040040 040040   040040 040040   040040 040040   040040 040040
  19     030   040040 040040   040040 040040   040040 000000   040040 040040              ..
  19     034   040040 040040   040040 040040   000000 000000   040040 040040            ....
  19     040   040040 040040   040040 040040   040040 040040   040040 040040
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:38   
  19     044   040040 040040   040040 040040   040040 000000   040040 040040              ..
  19     050   040040 040040   040040 040040   040040 040040   040040 040040
  19     054   040040 040040   040040 040040   040040 000000   000000 000000              ......
  19     060   040040 040040   040*** ******   000000 000000   000000 000000         ...........
  19     064   000000 000000   000000 000000   040040 040040   040040 040040    ........
  19     070   040040 040040   040040 040040   040040 040040   040040 040040
  19     100*  040040 ******   000000 000000   040040 040040   040040 040040      ......
  19     104   040040 040040   040040 040040   040040 040040   040040 040040
  19     124*  040040 040040   040040 040040   000000 000000   040040 040040            ....
  19     130   040040 040040   040040 040040   040040 040040   040040 040040
  19     134   040040 040040   040040 040040   040040 ******   000000 000000              ......
  19     140   040040 040040   040040 040040   040040 040040   040040 040040
  19     144   040040 040040   040040 040040   000000 000000   000000 000000            ........
  19     150   000000 000000   000000 000000   000000 000000   000000 000000    ................
  19     154   040040 040040   040040 040040   040040 040040   040040 040040
  19     160   040040 040040   040040 040040   040040 040040   040040 ******                  ..
  19     164   000000 000000   ****** ******   000000 000000   000000 000000    ................
  19     170   000000 000000   040040 040040   040040 040040   040040 040040    ....
  19     174   040040 040040   040040 040040   040040 040040   040040 040040
  19     210*  040040 040040   040040 040040   040040 040040   ****** ******                ....
  19     214   000000 000000   000000 000000   000000 000000   000000 000000    ................
  19     224*  000000 000000   000000 000000   000000 000000   040040 ******    ............  ..
  19     230   000000 000000   ****** ******   000000 000000   040040 040040    ............
  19     234   000000 000000   000000 000000   000000 000000   000000 000000    ................
  19     264*  000000 000000   000000 000000   000000 000000   ****** ******    ................
  19     270   000000 000000   000000 000000   000000 000000   000000 000000    ................
  19     324*  000000 000000   ****** ******   000000 000000   000000 000000    ................
  19     330   000000 000000   000000 000000   000000 000000   000000 000000    ................
  19     350*  000000 000000   000000 000000   000000 000000   ****** ******    ................
  19     360*  000000 000000   000000 000000   000000 000000   000000 000000    ................
  19     404*  000000 000000   ****** ******   000000 000000   000000 000000    ................
  19     410   000000 000000   000000 000000   000000 000000   000000 000000    ................
  19     424*  000000 000000   000000 000000   000000 000000   040040 040040    ............
  19     430   040040 040040   040040 040040   040040 040040   040040 040040
  19     434   040040 040040   040040 040040   040040 ******   ****** ******              ......
  19     440   040040 040040   040040 040040   040040 040040   040040 040040
  19     450*  040040 040040   040040 040040   040040 ******   ****** ******              ......
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:39   
  19     454   000000 000000   040040 040040   040040 040040   040040 040040    ....
  19     460   040040 040040   040040 040040   040040 040040   040040 040040
  19     464   040040 ******   ****** ******   000000 000000   000000 000000      ..............
  19     470   000000 000000   000000 000000   000000 000000   000000 000000    ................
  19     474   000000 000000   ****** ******   000000 000000   000000 000000    ................
  19     500   000000 000000   000000 000000   040040 040040   040040 040040    ........
  19     504   040040 040040   040040 040040   040040 040040   040040 040040
  19     520*  040040 040040   ****** ******   000000 000000   000000 000000        ............
  19     524   040040 040040   040040 040040   040040 040040   040040 040040
  19     574*  000000 000000   000000 000000   000000 000000   000000 000000    ................
  19     600   000000 000000   000000 000000   000000 000000   ****** ******    ................
  19     604   000000 000000   000000 000000   000000 000000   000000 000000    ................
  19     610   000000 000000   000000 000000   040040 040040   040040 040040    ........
  19     614   040040 040040   040040 040040   040040 040040   040040 040040
  19     620   040040 040040   040040 ******   040040 040040   040040 040040          ..
  19     624   040040 040040   040040 040040   040040 040040   040040 040040
  19     660*  040040 040040   040040 040040   040040 040040   ****** ******                ....
  19     664   040040 040040   040040 040040   040040 040040   040040 040040
  19     674*  040040 040040   ****** ******   040040 040040   040040 040040        ....
  19     700   040040 040040   040040 040040   040040 040040   040040 040040
  19     710*  040040 040040   ****** ******   040040 040040   040040 040040        ....
  19     714   040040 040040   040040 040040   040040 040040   040040 040040
  19     720   040040 040040   040040 040040   040040 040040   ****** ******                ....
  19     724   040040 040040   040040 040040   040040 040040   040040 040040
  19     740*  040040 040040   ****** ******   040040 040040   040040 040040        ....
  19     744   040040 040040   040040 040040   040040 040040   040040 040040
  19     774*  040040 040040   ****** ******   040040 040040   040040 040040        ....
  19    1000   040040 040040   040040 040040   040040 040040   040040 040040
  19    1034*  040040 040040   ****** ******   040040 040040   040040 040040        ....
  19    1040   040040 040040   040040 040040   040040 040040   040040 040040
  19    1060*  040040 040040   ****** ******   040040 040040   040040 040040        ....
  19    1064   040040 040040   040040 040040   040040 040040   040040 040040
  19    1114*  040040 040040   ****** ******   040040 040040   040040 040040        ....
  19    1120   040040 040040   040040 040040   040040 040040   040040 040040
  19    1134*  040040 040040   040040 040040   040040 040040   ****** ******                ....
  19    1140   040040 040040   040040 040040   040040 040040   040040 040040
  19    1144   040040 040040   ****** ******   040040 040040   040040 040040        ....
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:40   
  19    1150   040040 040040   040040 040040   040040 040040   ****** ******                ....
  19    1154   040040 040040   040040 040040   040040 040040   040040 040040
  19    1160   040040 040040   ****** ******   040040 040040   040040 040040        ....
  19    1164   040040 040040   040040 040040   040040 040040   ****** ******                ....
  19    1170   040040 040040   040040 040040   040040 040040   040040 040040
  19    1200*  040040 040040   040040 040040   040040 040040   ****** ******                ....
  19    1204   040040 040040   040040 040040   040040 040040   040040 040040
  19    1214*  040040 040040   040040 040040   040040 040040   040040 040040

RVA
 Sect OctLoc
  20     000   000151 000000   000000 000001   000001 000002   000001 000003    .i..............
  20     004   000001 000004   000001 000005   000001 000006   000001 000007    ................
  20     010   000001 000010   000001 000011   000001 000012   000001 000013    ................
  20     014   000001 000014   000001 000015   000001 000016   000001 000017    ................
  20     020   000001 000020   000001 000021   000001 000022   000001 000023    ................
  20     024   000001 000024   000001 000025   000001 000026   000001 000027    ................
  20     030   000001 000030   000001 000031   000001 000032   000001 000033    ................
  20     034   000001 000034   000001 000035   000001 000036   000001 000037    ................
  20     040   000001 000040   000001 000041   000001 000042   000001 000043    ... ...!..."...#
  20     044   000001 000044   000001 000045   000001 000046   000001 000047    ...$...%...&...'
  20     050   000001 000050   000001 000051   000001 000052   000002 000600    ...(...)...*....
  20     054   000002 000660   000002 001040   000002 001260   000002 001460    ....... ........
  20     060   000002 001540   000002 001660   000002 001700   000002 002140    ...............`
  20     064   000002 002320   000002 002700   000002 003100   000002 003260    ...........@....
  20     070   000002 003320   000002 003540   000002 003600   000002 003740    ................
  20     074   000002 004000   000002 004060   000002 004220   000002 004400    .......0........
  20     100   000002 004540   000002 004660   000002 004720   000002 004760    ................
  20     104   000002 005000   000002 005020   000002 005220   000002 005240    ................
  20     110   000002 005500   000002 005740   000002 005760   000002 006000    ................
  20     114   000002 006020   000002 006040   000002 006220   000002 006340    ....... ........
  20     120   000002 006640   000002 006760   000002 007120   000002 007240    ...........P....
  20     124   000002 007320   000002 007420   000002 007560   000002 007640    ................
  20     130   000002 007760   000002 010120   000002 010360   000002 010460    .......P........
  20     134   000002 010620   000002 010720   000002 011060   000002 011160    ...........0...p
  20     140   000002 011220   000002 011320   000002 011400   000002 011460    ................
  20     144   000002 011540   000002 011620   000002 011700   000002 011760    ................
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:41   
  20     150   000002 012040   000004 000000                                    ... ....

USE_PROC
 Sect OctLoc
  21     000   000001 000000   003017 204400   000000 000000                    ............

IA
 Sect OctLoc
  22     000   000000 000000   000000 006000   000000 000000   000000 000000    ................
  22     004   000000 000000   000000 000000   000000 000000   000000 000000    ................
  22     010   000000 006000   000000 000000   104125 116107   137123 103110    ........DUNG_SCH
  22     014   040040 040040   040040 040040   040040 040040   040040 040040
  22     020   040040 040040   040040 040040   104125 116107   055123 125102            DUNG-SUB
  22     024   040040 040040   040040 040040   040040 040040   040040 040040
  22     030   040040 040040   040040 040040   000000 000000   000000 000000            ........
  22     034   000000 000000   000000 000000   000000 000000   000000 000000    ................
  22     050*  000000 000000   000000 000000   000000 000000   061476 566547    ............1...
  22     054   000000 000000   061476 527476                                    ....1...

LEGAL_ALLOC_NUMS
 Sect OctLoc
  24     001   000000 000040   000000 000100   000000 000200   000000 000400    ... ...@........
  24     005   000000 001000   000000 002000                                    ........

(unnamed)
 Sect OctLoc
  26     000   052111 104123   111111 055124   105115 120117   122131 055123    *IDSII-TEMPORY-S
  26     004   103110 105115   101055 106111   114105 052040   123125 102064    CHEMA-FILE* SUB4
  26     010   060060 060060   060060 060040                                    0000000

(unnamed)
 Sect OctLoc
  28     000   000002 000000   000000 000001   000001 006000   000000 006000    ................
  28     004   000001 000000   000000 023234   000005 006000   000000 023233    ................
  28     010   000007 006000   000000 000000   000000 023237   000012 006000    ................
  28     014   000000 000036   000014 006000   000003 000000   000000 000200    ................
  28     020   000017 006000   000000 006000   000012 006000   000001 406000    ................
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:42   
  28     024   000001 006000   000014 006000   000000 006000   000000 023240    ................
  28     030   000027 006000   000011 006000                                    ........
      229     2250    1   END ZIA$SS_INIT;

PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:43   
--  Include file information  --

   ZIG_GENERAL.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZI_SUB4_CAN.:ZIC0TOU  is referenced.
   ZI_ERRORS_SUBS.:ZIC0TOU  is referenced.
   ZIA_IDS_DCL.:ZIC0TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure ZIA$SS_INIT.

   Procedure ZIA$SS_INIT requires 299 words for executable code.
   Procedure ZIA$SS_INIT requires 20 words of local(AUTO) storage.

    No errors detected in file ZIA$SS_INIT.:ZIC0TSI    .
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:44   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:45   
          MINI XREF LISTING

ABORT
      1337**DCL-ENT  2189--CALL     2240--CALL     2248--CALL
CURR_NUM IN PROCEDURE INIT_SCHEMA_SIZE
      2071**DCL      2095<<ASSIGN   2098>>IF       2101>>IF       2104>>ASSIGN   2107>>ASSIGN   2108<<ASSIGN
      2108>>ASSIGN
ERROR
      1329**DCL-ENT  2184--CALL     2215--CALL     2239--CALL
FIRST_SCHEMA_MADE
      2062**DCL      2169>>IF       2197>>IF       2209<<ASSIGN
FOUND_RANGE IN PROCEDURE INIT_SCHEMA_SIZE
      2074**DCL      2096<<ASSIGN   2097>>DOWHILE  2100<<ASSIGN
FUNCTION
        14**DCL        12--PROC     2151--ENTRY    2154>>IF       2154>>IF       2192>>IF       2192>>IF
      2192>>IF       2195>>IF       2195>>IF       2224--ENTRY
GFILE
        29**DCL-ENT  2207--CALL     2245--CALL
I
      2061**DCL      2234<>CALL
I IN PROCEDURE INIT_SCHEMA_SIZE
      2068**DCL      2078<<DOINDEX  2079>>IF       2138<<DOINDEX
IA.SCHEMA_NAME
      2053**DCL      2170<<ASSIGN   2172>>IF       2173<<ASSIGN   2175<<ASSIGN   2178<<ASSIGN   2207<>CALL
      2233>>IF       2235<<ASSIGN   2245<>CALL
IA.SUBSCH_NAME
      2054**DCL      2180<<ASSIGN
INIT_SCHEMA_SIZE
      2067**PROC     2199--CALL
JUST_TRANSFER
      2064**DCL      2206<<ASSIGN   2244<<ASSIGN
LAST_NUM IN PROCEDURE INIT_SCHEMA_SIZE
      2070**DCL      2094<<ASSIGN   2098>>IF       2101>>IF       2102>>ASSIGN   2107<<ASSIGN
LEGAL_ALLOC_NUMS IN PROCEDURE INIT_SCHEMA_SIZE
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:46   
      2069**DCL      2079>>IF       2088>>IF       2089>>ASSIGN   2091>>IF       2092>>ASSIGN   2094>>ASSIGN
      2095>>ASSIGN
LEGAL_PG_NUM IN PROCEDURE INIT_SCHEMA_SIZE
      2073**DCL      2077<<ASSIGN   2082<<ASSIGN   2085>>IF
NUM_TO_ADD IN PROCEDURE INIT_SCHEMA_SIZE
      2072**DCL      2135<<ASSIGN   2139<<ASSIGN   2139>>ASSIGN   2141>>ASSIGN
OLD_SCHEMA_NAME
        28**DCL      2170>>ASSIGN   2172>>IF       2175>>ASSIGN   2178>>ASSIGN   2214<>CALL     2233>>IF
      2235>>ASSIGN
RVA
      1760**DCL      2051--DCLINIT
RVA.THISISATHIRTYCHARACTERDATANAME
      1764**DCL      2211<>CALL     2246<>CALL
SCHEMA_SIZE
      2063**DCL      2081<<ASSIGN   2089<<ASSIGN   2092<<ASSIGN   2102<<ASSIGN   2104<<ASSIGN   2113<>CALL
      2127<<ASSIGN   2141<<ASSIGN   2144<<ASSIGN   2148<<ASSIGN   2202<<ASSIGN   2202>>ASSIGN   2204>>IF
      2207<>CALL     2245<>CALL
SET_FIELDS
      1332**DCL-ENT  2214--CALL
SET_FIELD_NUM
      1333**DCL-ENT  2113--CALL
SF_CLOSE
      2225**ENTRY    2234--CALL
STATUS
        15**DCL        12--PROC     2151--ENTRY    2153<<ASSIGN   2220<<ASSIGN   2224--ENTRY    2226<<ASSIGN
      2229<<ASSIGN
STRAN.ADD_PG
        23**DCL      2123>>IF
STRAN.ALLOC_PG
        22**DCL      2075>>IF
STRAN.NUM_PG
        26**DCL      2079>>IF       2081>>ASSIGN   2088>>IF       2091>>IF       2098>>IF       2098>>IF
      2101>>IF       2125>>IF       2136>>IF       2138>>DOINDEX
SUBSCHEMA_KEY
      1364**DCL      1365--REDEF
UWA
PL6.E3A0      #001=ZIA$SS_INIT File=ZIA$SS_INIT.:ZIC0TSI                         FRI 09/05/97 11:35 Page:47   
      1425**DCL      2047--DCLINIT
UWA.AC.CALC_NEXT
      1535**DCL      1536--REDEF
UWA.AC.CALC_PRIOR
      1544**DCL      1545--REDEF
UWA.AC.DEFAULTS
      1496**DCL      1497--REDEF
UWA.AC.FILE_CODE
      1501**DCL      1502--REDEF
UWA.AC.FLAG1.ERROR_TYPE
      1498**DCL      1499--REDEF
UWA.DB_STATUS
      1427**DCL      2182>>IF       2212>>IF       2228>>IF       2237>>IF       2247>>IF
WARNING
      1330**DCL-ENT  2114--CALL     2128--CALL
ZIA$FINISH
        81**DCL-ENT  2227--CALL
ZIA$HIA
        37**DCL-ENT  2181--CALL     2236--CALL
ZIA$NBUFFERS
        76**DCL-ENT  2191--CALL     2242--CALL
ZIA$NOSHARE
       133**DCL-ENT  2193--CALL     2243--CALL
ZIA$READY
        38**DCL-ENT  2211--CALL     2246--CALL
ZIA$SHAREALL
       131**DCL-ENT  2194--CALL

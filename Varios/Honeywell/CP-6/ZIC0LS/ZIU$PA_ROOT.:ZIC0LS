
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:1    
        1        1        /*T***********************************************************/
        2        2        /*T*                                                         */
        3        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        4        4        /*T*                                                         */
        5        5        /*T***********************************************************/
        6        6        /*
        7        7              ROOT NODE FOR  COMPACT,RESORT,CONVERT AND REBUILD PA
        8        8                   WILL CALL ZIU$COMPACT FOR ALL ABOVE DIRECTIVE
        9        9                   THE REASON FOR OVERLAY COMPACT IS TO
       10       10                   KEEP THE RUN UNIT SIZE <=60K
       11       11        */
       12       12        ZIU$PA_ROOT: PROC ALTRET NOAUTO;
       13       13
       14       14        /*    COMMON DATA USED BY BOTH OVERLAY   */
       15       15    1   DCL MAX_KEY_SIZE SBIN STATIC SYMDEF ALIGNED;
       16       16    1   DCL DBKEY_SORT_DCB UBIN HALF STATIC SYMDEF ALIGNED;
       17       17    1   DCL COMMAND_TEXT CHAR(16) STATIC SYMDEF ALIGNED;
       18       18    1   DCL PRFR SBIN STATIC SYMDEF ALIGNED;
       19       19    1   DCL PRFR2 SBIN STATIC SYMDEF ALIGNED;
       20       20    1   DCL REC2$ PTR STATIC SYMDEF ALIGNED;
       21       21    1   DCL REC_CNT SBIN STATIC SYMDEF ALIGNED;
       22       22    1   DCL 1 STK (0:1) STATIC SYMDEF ALIGNED,
       23       23    1         2 NEXT SBIN ALIGNED,
       24       24    1         2 PRIOR SBIN ALIGNED,
       25       25    1         2 CURR SBIN ALIGNED,
       26       26    1         2 RC_PTR UBIN BYTE UNAL,
       27       27    1         2 AC_PTR UBIN BYTE UNAL;
       28       28
       29       29        %INCLUDE ZI_DBU_XREF;
       30      196         %PA_XREF_TBLS(STCLASS="STATIC SYMDEF");
       31      262         %XREF_TBLS;
       32      337        %INCLUDE ZI_GLOBAL_DBUTIL;
       33      515         %SYS_FUNC;
       34      607         %MISC_DCLS;
       35      660         %PAREC(STCLASS=SYMREF);
       36      687        %INCLUDE ZI_ERRORS_SUBS;
       37     1207
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:2    
       38     1208    1   DCL ZIU$COMPACT ENTRY ALTRET;
       39     1209    1   DCL ZIU$CMPT_INIT ENTRY ALTRET;
       40     1210    1   DCL ZIU$CMPT_SMRY ENTRY ALTRET;
       41     1211
       42     1212    1   DCL ERROR_MSG ENTRY(4);
       43     1213    1   DCL BIN_CHAR ENTRY(2);
       44     1214
       45     1215    1   DCL SYS_FUNC_CLOS ENTRY ALTRET;
       46     1216    1   DCL SYS_FUNC_RELEASE ENTRY ALTRET;
       47     1217    1   DCL SYS_FUNC_RELDCB ENTRY ALTRET;
       48     1218    1   DCL SET_BUFS ENTRY(2) ALTRET;
       49     1219
       50     1220    1       DBKEY_SORT_DCB = 0; /* DCB OF POINTER'S PATCH FILE */
       51     1221         /* THIS FILE IS KEYED ON DBKEY */
       52     1222    1       CALL ZIU$CMPT_INIT ALTRET(ALTRTN); /* EXTRACT SCHEMA AND BUILD TBLS */
       53     1223    1       CALL ZIU$COMPACT ALTRET(ABORT_RETURN); /* PROCESS IT */
       54     1224    1       CALL ZIU$CMPT_SMRY ALTRET(ABORT_RETURN); /* PRINT SUMMARY */
       55     1225
       56     1226    1       CALL CLOSE_ALL; /* CLOSE ALL DCBS */
       57     1227    1       RETURN; /* RETURN TO DBUTIL DRIVER */
       58     1228
       59     1229    1   ALTRTN:
       60     1230    1       CALL CLOSE_ALL; /* IN CASE ANY AREA WAS OPENED */
       61     1231    1       IF BREAK_FLAG=1 THEN /* ALTRET DUE TO BREAK HIT */
       62     1232    1           RETURN; /* JUST DO RETURN, AVOID SETTING OF STEPCC */
       63     1233    1       ALTRETURN; /* ELSE, MUST BE SCHEMA ERROR */
       64     1234
       65     1235    1   ABORT_RETURN: /* ABORT IN THE MIDDLE OF PROCESSING */
       66     1236    1       CALL CLOSE_ALL;
       67     1237    1       PRFR=0;
       68     1238    2       DO X=0 TO NO_AREAS;
       69     1239    2           IF AC_TBL.DCB#(X)>0 AND AC_TBL.PAGE_WRITTEN(X) THEN
       70     1240    3           DO;
       71     1241    3               PRFR=1;
       72     1242    3               CALL ERROR_MSG(DBU#PAACSUM1,AC_TBL.NAME(X));
       73     1243    3               END;
       74     1244    2           END;
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:3    
       75     1245    1       IF PRFR=0 THEN CALL ERROR_MSG(DBU#PAACSUM2,COMMAND_TEXT);
       76     1246    1       IF PRFR=0 AND BREAK_FLAG=1 THEN /* ALTRET DUE TO BREAK */
       77     1247    1           RETURN; /* IT DIDNT HURT ANYTHING,DONT SET STEPCC */
       78     1248    1       STEPCC = 9; /* SET STEPCC VERY HIGH TO GET ATTENTION */
       79     1249    1       ALTRETURN; /* SOME AREAS MODIFIED, BETTER SET STEPCC */
       80     1250        %EJECT;
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:4    
       81     1251
       82     1252    1   CLOSE_ALL: PROC;
       83     1253
       84     1254    2       CALL SET_BUFS(,32); /* CLEAN UP BUFFER POOL */
       85     1255    3       DO X=0 TO NO_AREAS;
       86     1256    3           DCBSF = AC_TBL.DCB#(X);
       87     1257    3           IF DCBSF>0 THEN
       88     1258    4           DO;
       89     1259    4               CALL SYS_FUNC_CLOS;
       90     1260    4               CALL SYS_FUNC_RELDCB;
       91     1261    4               END;
       92     1262    3           END;
       93     1263    2       IF DBKEY_SORT_DCB>0 THEN
       94     1264    3       DO;
       95     1265    3           DCBSF = DBKEY_SORT_DCB;
       96     1266    3           CALL SYS_FUNC_RELEASE; /* REL THIS TEMP FILE USED BY RESORT */
       97     1267    3           CALL SYS_FUNC_RELDCB;
       98     1268    3           END;
       99     1269
      100     1270    2   END CLOSE_ALL;
      101     1271
      102     1272        /*E*  ERROR: ZIU-DBU#PAACSUM1-C
      103     1273        MESSAGE: Warning: Area "%U1" was modified and requires a LOAD from dump. */
      104     1274        /*E* ERROR: ZIU-DBU#PAACSUM2-C
      105     1275        MESSAGE:+
      106     1276                +    Abnormal return from %U1 utility.
      107     1277                +    Fortunately, no area has been modified.
      108     1278                +      */
      109     1279
      110     1280    1   END ZIU$PA_ROOT;
      111     1281        %EOD;

PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:5    
--  Include file information  --

   ZI_ERRORS_SUBS.:ZIC0TOU  is referenced.
   ZI_GLOBAL_DBUTIL.:ZIC0TOU  is referenced.
   ZI_DBU_XREF.:ZIC0TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure ZIU$PA_ROOT.

   Procedure ZIU$PA_ROOT requires 109 words for executable code.
   Procedure ZIU$PA_ROOT is declared NOAUTO and requires 2348 words of local(STATIC) storage.

PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:6    

 Object Unit name= ZIU$PA_ROOT                                File name= ZIU$PA_ROOT.:ZIC0TOU
 UTS= SEP 05 '97 13:18:58.96 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none  2348   4454  ZIU$PA_ROOT
    1   DCB   even  none     0      0  M$LO
    2   Proc  even  none   109    155  ZIU$PA_ROOT
    3  RoData even  none    11     13  ZIU$PA_ROOT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes    yes     yes      Std        0  ZIU$PA_ROOT
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:7    

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    0      1  MAX_KEY_SIZE                       0      2  DBKEY_SORT_DCB
    0      3  COMMAND_TEXT                       0      7  PRFR
    0     10  PRFR2                              0     11  REC2$
    0     12  REC_CNT                            0     13  STK
    0     23  SC_PTR                             0     24  SC_TBL
    0    744  RC_PTR                             0    745  RC_TBL
    0   2345  KEY_PTR                            0   2346  KEY_TBL
    0   3346  AC_PTR                             0   3347  FIRST_TIME_CALLED
    0   3350  BASE_DBK                           0   3351  AC_TBL

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       0 ZIU$CMPT_INIT
 yes     yes           Std       0 ZIU$COMPACT
 yes     yes           Std       0 ZIU$CMPT_SMRY
         yes           Std       4 ERROR_MSG
 yes     yes           Std       2 SET_BUFS
 yes     yes           Std       0 SYS_FUNC_CLOS
 yes     yes           Std       0 SYS_FUNC_RELDCB
 yes     yes           Std       0 SYS_FUNC_RELEASE
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:8    

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     TYPE                                  MSTR$                                 NXT_MSLOT
     MAX_MSLOT                             MSTR_INDX                             HASHTBL
     HASHINDX                              LOC_MODE                              AREA_KEY$
     NO_AREAS                              GLBL_PTR_SZ                           SET_XREF$
     NXT_SSLOT                             MAX_SSLOT                             REC_XREF$
     NXT_RSLOT                             MAX_RSLOT                             NO_RECS
     NO_SETS                               XREF_BUILT                            TYPESET
     TYPEREC                               BLKLSF                                KEYLSF
     KEYXSF                                DCBSF                                 ORGSF
     KEYSF                                 KEYVSF                                ACSSF
     NOTIMESF                              FUNSF                                 ASNSF
     TESTSF                                XTENSIZESF                            DISPSF
     WAITSF                                VFCSF                                 FULLSF
     BKUPSF                                BUFLNSF                               BUFSF
     SOURCESF                              DESTSF                                DATESF
     TIMESF                                UTSSF                                 DAYSF
     TSTAMPSF                              ENCRP_SEEDSF                          ERRCODESF
     MSGCODE                               INCL_ERR                              ERR_INSERT
     FIDSF_RD                              ACNT                                  EXISTSF
     SHARESF                               DCBNMSF                               KEYRSF
     NO_KEYSF                              REASGNSF                              CARRY_ATTRIBUTESF
     SUBMESSF                              SPKY_OPNSF                            POSSF
     ERRFLGSF                              MERGESF                               FSA_FLAG
     RELGSF                                UNUSED                                HELPCODE
     COUNTSF                               INDEXSF                               GAP
     PSNSF                                 ACNTSF                                KEY_SHADWSF
     REC$                                  RB                                    RE
     IE                                    IB                                    CNT
     ICNT                                  RCNT                                  SCNT
     FIRST_SET                             RETCNT                                DMPCNT
     KCNT                                  ACNT_IDX                              I
     J                                     K                                     X
     STEPCC                                I_O_BUF$                              OUT_INDX
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:9    
     I_O_SIZE                              REC_DATA_LN                           M$LO
     B$TCB$                                B$ROS$                                B$JIT$
     KEYFID                                I_O_KEY                               RESTART
     BREAK_FLAG                            ICHKSUM                               ITMCNT
     GAP1                                  ENTRY$                                GROUP$
     PTR_LEN                               KEY_LEN

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:10   


        1        1        /*T***********************************************************/
        2        2        /*T*                                                         */
        3        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        4        4        /*T*                                                         */
        5        5        /*T***********************************************************/
        6        6        /*
        7        7              ROOT NODE FOR  COMPACT,RESORT,CONVERT AND REBUILD PA
        8        8                   WILL CALL ZIU$COMPACT FOR ALL ABOVE DIRECTIVE
        9        9                   THE REASON FOR OVERLAY COMPACT IS TO
       10       10                   KEEP THE RUN UNIT SIZE <=60K
       11       11        */
       12       12        ZIU$PA_ROOT: PROC ALTRET NOAUTO;

     12  2 000000   000000 741200 0     ZIU$PA_ROOT  STX1  ! 0

       13       13
       14       14        /*    COMMON DATA USED BY BOTH OVERLAY   */
       15       15    1   DCL MAX_KEY_SIZE SBIN STATIC SYMDEF ALIGNED;
       16       16    1   DCL DBKEY_SORT_DCB UBIN HALF STATIC SYMDEF ALIGNED;
       17       17    1   DCL COMMAND_TEXT CHAR(16) STATIC SYMDEF ALIGNED;
       18       18    1   DCL PRFR SBIN STATIC SYMDEF ALIGNED;
       19       19    1   DCL PRFR2 SBIN STATIC SYMDEF ALIGNED;
       20       20    1   DCL REC2$ PTR STATIC SYMDEF ALIGNED;
       21       21    1   DCL REC_CNT SBIN STATIC SYMDEF ALIGNED;
       22       22    1   DCL 1 STK (0:1) STATIC SYMDEF ALIGNED,
       23       23    1         2 NEXT SBIN ALIGNED,
       24       24    1         2 PRIOR SBIN ALIGNED,
       25       25    1         2 CURR SBIN ALIGNED,
       26       26    1         2 RC_PTR UBIN BYTE UNAL,
       27       27    1         2 AC_PTR UBIN BYTE UNAL;
       28       28
       29       29        %INCLUDE ZI_DBU_XREF;
       30      196         %PA_XREF_TBLS(STCLASS="STATIC SYMDEF");
       31      262         %XREF_TBLS;
       32      337        %INCLUDE ZI_GLOBAL_DBUTIL;
       33      515         %SYS_FUNC;
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:11   
       34      607         %MISC_DCLS;
       35      660         %PAREC(STCLASS=SYMREF);
       36      687        %INCLUDE ZI_ERRORS_SUBS;
       37     1207
       38     1208    1   DCL ZIU$COMPACT ENTRY ALTRET;
       39     1209    1   DCL ZIU$CMPT_INIT ENTRY ALTRET;
       40     1210    1   DCL ZIU$CMPT_SMRY ENTRY ALTRET;
       41     1211
       42     1212    1   DCL ERROR_MSG ENTRY(4);
       43     1213    1   DCL BIN_CHAR ENTRY(2);
       44     1214
       45     1215    1   DCL SYS_FUNC_CLOS ENTRY ALTRET;
       46     1216    1   DCL SYS_FUNC_RELEASE ENTRY ALTRET;
       47     1217    1   DCL SYS_FUNC_RELDCB ENTRY ALTRET;
       48     1218    1   DCL SET_BUFS ENTRY(2) ALTRET;
       49     1219
       50     1220    1       DBKEY_SORT_DCB = 0; /* DCB OF POINTER'S PATCH FILE */

   1220  2 000001   000000 220003                    LDX0    0,DU
         2 000002   000002 740000 0                  STX0    DBKEY_SORT_DCB

       51     1221         /* THIS FILE IS KEYED ON DBKEY */
       52     1222    1       CALL ZIU$CMPT_INIT ALTRET(ALTRTN); /* EXTRACT SCHEMA AND BUILD TBLS */

   1222  2 000003   000000 631400 3                  EPPR1   0
         2 000004   000000 701000 xent               TSX1    ZIU$CMPT_INIT
         2 000005   000020 702000 2                  TSX2    ALTRTN

       53     1223    1       CALL ZIU$COMPACT ALTRET(ABORT_RETURN); /* PROCESS IT */

   1223  2 000006   000000 631400 3                  EPPR1   0
         2 000007   000000 701000 xent               TSX1    ZIU$COMPACT
         2 000010   000031 702000 2                  TSX2    ABORT_RETURN

       54     1224    1       CALL ZIU$CMPT_SMRY ALTRET(ABORT_RETURN); /* PRINT SUMMARY */

   1224  2 000011   000000 631400 3                  EPPR1   0
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:12   
         2 000012   000000 701000 xent               TSX1    ZIU$CMPT_SMRY
         2 000013   000031 702000 2                  TSX2    ABORT_RETURN

       55     1225
       56     1226    1       CALL CLOSE_ALL; /* CLOSE ALL DCBS */

   1226  2 000014   000110 701000 2                  TSX1    CLOSE_ALL
         2 000015   000000 011000                    NOP     0

       57     1227    1       RETURN; /* RETURN TO DBUTIL DRIVER */

   1227  2 000016   000000 221200 0                  LDX1  ! 0
         2 000017   000001 702211                    TSX2  ! 1,X1

       58     1228
       59     1229    1   ALTRTN:
       60     1230    1       CALL CLOSE_ALL; /* IN CASE ANY AREA WAS OPENED */

   1230  2 000020   000110 701000 2     ALTRTN       TSX1    CLOSE_ALL
         2 000021   000000 011000                    NOP     0

       61     1231    1       IF BREAK_FLAG=1 THEN /* ALTRET DUE TO BREAK HIT */

   1231  2 000022   000000 235000 xsym               LDA     BREAK_FLAG
         2 000023   000001 115007                    CMPA    1,DL
         2 000024   000027 601000 2                  TNZ     s:1233

       62     1232    1           RETURN; /* JUST DO RETURN, AVOID SETTING OF STEPCC */

   1232  2 000025   000000 221200 0                  LDX1  ! 0
         2 000026   000001 702211                    TSX2  ! 1,X1

       63     1233    1       ALTRETURN; /* ELSE, MUST BE SCHEMA ERROR */

   1233  2 000027   000000 221200 0                  LDX1  ! 0
         2 000030   000000 702211                    TSX2  ! 0,X1

PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:13   
       64     1234
       65     1235    1   ABORT_RETURN: /* ABORT IN THE MIDDLE OF PROCESSING */
       66     1236    1       CALL CLOSE_ALL;

   1236  2 000031   000110 701000 2     ABORT_RETURN TSX1    CLOSE_ALL
         2 000032   000000 011000                    NOP     0

       67     1237    1       PRFR=0;

   1237  2 000033   000007 450000 0                  STZ     PRFR

       68     1238    2       DO X=0 TO NO_AREAS;

   1238  2 000034   000000 450000 xsym               STZ     X
         2 000035   000064 710000 2                  TRA     s:1244+1

       69     1239    2           IF AC_TBL.DCB#(X)>0 AND AC_TBL.PAGE_WRITTEN(X) THEN

   1239  2 000036   000000 236000 xsym               LDQ     X
         2 000037   000014 402007                    MPY     12,DL
         2 000040   003364 236006 0                  LDQ     AC_TBL+11,QL
         2 000041   000377 316007                    CANQ    255,DL
         2 000042   000063 600000 2                  TZE     s:1244
         2 000043   000000 236000 xsym               LDQ     X
         2 000044   000014 402007                    MPY     12,DL
         2 000045   003364 236006 0                  LDQ     AC_TBL+11,QL
         2 000046   000200 316003                    CANQ    128,DU
         2 000047   000063 600000 2                  TZE     s:1244

       70     1240    3           DO;

       71     1241    3               PRFR=1;

   1241  2 000050   000001 235007                    LDA     1,DL
         2 000051   000007 755000 0                  STA     PRFR

       72     1242    3               CALL ERROR_MSG(DBU#PAACSUM1,AC_TBL.NAME(X));
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:14   

   1242  2 000052   000000 236000 xsym               LDQ     X
         2 000053   000014 402003                    MPY     12,DU
         2 000054   000003 036000 3                  ADLQ    3
         2 000055   000004 235000 3                  LDA     4
         2 000056   004452 757000 0                  STAQ    AC_TBL+577
         2 000057   004452 630400 0                  EPPR0   AC_TBL+577
         2 000060   000001 631400 3                  EPPR1   1
         2 000061   000000 701000 xent               TSX1    ERROR_MSG
         2 000062   000000 011000                    NOP     0

       73     1243    3               END;

       74     1244    2           END;

   1244  2 000063   000000 054000 xsym               AOS     X
         2 000064   000000 236000 xsym               LDQ     X
         2 000065   000000 116000 xsym               CMPQ    NO_AREAS
         2 000066   000036 604400 2                  TMOZ    s:1239

       75     1245    1       IF PRFR=0 THEN CALL ERROR_MSG(DBU#PAACSUM2,COMMAND_TEXT);

   1245  2 000067   000007 235000 0                  LDA     PRFR
         2 000070   000075 601000 2                  TNZ     s:1246

   1245  2 000071   000006 630400 3                  EPPR0   6
         2 000072   000001 631400 3                  EPPR1   1
         2 000073   000000 701000 xent               TSX1    ERROR_MSG
         2 000074   000000 011000                    NOP     0

       76     1246    1       IF PRFR=0 AND BREAK_FLAG=1 THEN /* ALTRET DUE TO BREAK */

   1246  2 000075   000007 235000 0                  LDA     PRFR
         2 000076   000104 601000 2                  TNZ     s:1248
         2 000077   000000 236000 xsym               LDQ     BREAK_FLAG
         2 000100   000001 116007                    CMPQ    1,DL
         2 000101   000104 601000 2                  TNZ     s:1248
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:15   

       77     1247    1           RETURN; /* IT DIDNT HURT ANYTHING,DONT SET STEPCC */

   1247  2 000102   000000 221200 0                  LDX1  ! 0
         2 000103   000001 702211                    TSX2  ! 1,X1

       78     1248    1       STEPCC = 9; /* SET STEPCC VERY HIGH TO GET ATTENTION */

   1248  2 000104   000011 236007                    LDQ     9,DL
         2 000105   000000 756000 xsym               STQ     STEPCC

       79     1249    1       ALTRETURN; /* SOME AREAS MODIFIED, BETTER SET STEPCC */

   1249  2 000106   000000 221200 0                  LDX1  ! 0
         2 000107   000000 702211                    TSX2  ! 0,X1

       80     1250        %EJECT;
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:16   
       81     1251
       82     1252    1   CLOSE_ALL: PROC;

   1252  2 000110   004451 741200 0     CLOSE_ALL    STX1  ! AC_TBL+576

       83     1253
       84     1254    2       CALL SET_BUFS(,32); /* CLEAN UP BUFFER POOL */

   1254  2 000111   000012 236000 3                  LDQ     10
         2 000112   000010 235000 3                  LDA     8
         2 000113   004452 757000 0                  STAQ    AC_TBL+577
         2 000114   004452 630400 0                  EPPR0   AC_TBL+577
         2 000115   000001 631400 3                  EPPR1   1
         2 000116   000000 701000 xent               TSX1    SET_BUFS
         2 000117   000000 011000                    NOP     0

       85     1255    3       DO X=0 TO NO_AREAS;

   1255  2 000120   000000 450000 xsym               STZ     X
         2 000121   000137 710000 2                  TRA     s:1262+1

       86     1256    3           DCBSF = AC_TBL.DCB#(X);

   1256  2 000122   000000 236000 xsym               LDQ     X
         2 000123   000014 402007                    MPY     12,DL
         2 000124   003364 720006 0                  LXL0    AC_TBL+11,QL
         2 000125   000377 360003                    ANX0    255,DU
         2 000126   000000 740000 xsym               STX0    DCBSF

       87     1257    3           IF DCBSF>0 THEN

   1257  2 000127   000136 600000 2                  TZE     s:1262

       88     1258    4           DO;

       89     1259    4               CALL SYS_FUNC_CLOS;

PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:17   
   1259  2 000130   000000 631400 3                  EPPR1   0
         2 000131   000000 701000 xent               TSX1    SYS_FUNC_CLOS
         2 000132   000000 011000                    NOP     0

       90     1260    4               CALL SYS_FUNC_RELDCB;

   1260  2 000133   000000 631400 3                  EPPR1   0
         2 000134   000000 701000 xent               TSX1    SYS_FUNC_RELDCB
         2 000135   000000 011000                    NOP     0

       91     1261    4               END;

       92     1262    3           END;

   1262  2 000136   000000 054000 xsym               AOS     X
         2 000137   000000 236000 xsym               LDQ     X
         2 000140   000000 116000 xsym               CMPQ    NO_AREAS
         2 000141   000122 604400 2                  TMOZ    s:1256

       93     1263    2       IF DBKEY_SORT_DCB>0 THEN

   1263  2 000142   000002 220000 0                  LDX0    DBKEY_SORT_DCB
         2 000143   000153 600000 2                  TZE     s:1270

       94     1264    3       DO;

       95     1265    3           DCBSF = DBKEY_SORT_DCB;

   1265  2 000144   000000 740000 xsym               STX0    DCBSF

       96     1266    3           CALL SYS_FUNC_RELEASE; /* REL THIS TEMP FILE USED BY RESORT */

   1266  2 000145   000000 631400 3                  EPPR1   0
         2 000146   000000 701000 xent               TSX1    SYS_FUNC_RELEASE
         2 000147   000000 011000                    NOP     0

       97     1267    3           CALL SYS_FUNC_RELDCB;
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:18   

   1267  2 000150   000000 631400 3                  EPPR1   0
         2 000151   000000 701000 xent               TSX1    SYS_FUNC_RELDCB
         2 000152   000000 011000                    NOP     0

       98     1268    3           END;

       99     1269
      100     1270    2   END CLOSE_ALL;

   1270  2 000153   004451 221200 0                  LDX1  ! AC_TBL+576
         2 000154   000001 702211                    TSX2  ! 1,X1

STK
 Sect OctLoc
   0     013   ****** ******   ****** ******   ****** ******   ****** ******    ................

SC_TBL
 Sect OctLoc
   0     024   ****** ******   ****** ******   ****** ******   ****** ******    ................

RC_TBL
 Sect OctLoc
   0     745   ****** ******   ****** ******   ****** ******   ****** ******    ................

KEY_TBL
 Sect OctLoc
   0    2346   ****** ******   ****** ******   ****** ******   ****** ******    ................

AC_TBL
 Sect OctLoc
   0    3351   ****** ******   ****** ******   ****** ******   ****** ******    ................

(unnamed)
 Sect OctLoc
   3     000   000000 000000   000002 000000   000000 021747   003354 406000    ................
   3     004   000002 006000   000000 021750   000005 006000   000003 006000    ................
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:19   
   3     010   000000 006014   000000 000040   000011 006000                    ....... ....
      101     1271
      102     1272        /*E*  ERROR: ZIU-DBU#PAACSUM1-C
      103     1273        MESSAGE: Warning: Area "%U1" was modified and requires a LOAD from dump. */
      104     1274        /*E* ERROR: ZIU-DBU#PAACSUM2-C
      105     1275        MESSAGE:+
      106     1276                +    Abnormal return from %U1 utility.
      107     1277                +    Fortunately, no area has been modified.
      108     1278                +      */
      109     1279
      110     1280    1   END ZIU$PA_ROOT;
      111     1281        %EOD;

PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:20   
--  Include file information  --

   ZI_ERRORS_SUBS.:ZIC0TOU  is referenced.
   ZI_GLOBAL_DBUTIL.:ZIC0TOU  is referenced.
   ZI_DBU_XREF.:ZIC0TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure ZIU$PA_ROOT.

   Procedure ZIU$PA_ROOT requires 109 words for executable code.
   Procedure ZIU$PA_ROOT is declared NOAUTO and requires 2348 words of local(STATIC) storage.
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:21   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:22   
          MINI XREF LISTING

ABORT_RETURN
      1236**LABEL    1223--CALLALT  1224--CALLALT
AC_TBL.DCB#
       260**DCL      1239>>IF       1256>>ASSIGN
AC_TBL.NAME
       254**DCL      1242<>CALL
AC_TBL.PAGE_WRITTEN
       256**DCL      1239>>IF
ALTRTN
      1230**LABEL    1222--CALLALT
AREA_KEY$
       300**DCL       303--IMP-PTR
BREAK_FLAG
       654**DCL      1231>>IF       1246>>IF
CLOSE_ALL
      1252**PROC     1226--CALL     1230--CALL     1236--CALL
COMMAND_TEXT
        17**DCL      1245<>CALL
COUNTSF
       596**DCL       597--REDEF
DBKEY_SORT_DCB
        16**DCL      1220<<ASSIGN   1263>>IF       1265>>ASSIGN
DCBSF
       525**DCL      1256<<ASSIGN   1257>>IF       1265<<ASSIGN
ENCRP_SEEDSF
       554**DCL       555--REDEF
ENTRY$
       682**DCL       673--IMP-PTR
ERRCODESF
       556**DCL       561--REDEF
ERROR_MSG
      1212**DCL-ENT  1242--CALL     1245--CALL
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:23   
FIDSF_RD
       572**DCL       573--REDEF
GROUP$
       683**DCL       678--IMP-PTR
HELPCODE
       590**DCL       595--REDEF
ICHKSUM
       655**DCL       656--REDEF
I_O_BUF$
       633**DCL       634--IMP-PTR
KEYVSF
       528**DCL       533--REDEF
KEYVSF.WD_ONE
       530**DCL       531--REDEF
KEY_TBL.EIS
       237**DCL       238--REDEF
MSGCODE
       562**DCL       563--REDEF
MSTR$
       269**DCL       272--IMP-PTR
MSTR_REF.NXTHSH
       275**DCL       276--REDEF
MSTR_REF.PAENT
       281**DCL       282--REDEF
MSTR_REF.PAOFF
       278**DCL       279--REDEF
NO_AREAS
       311**DCL      1238>>DOINDEX  1255>>DOINDEX
PRFR
        18**DCL      1237<<ASSIGN   1241<<ASSIGN   1245>>IF       1246>>IF
PTR_LEN
       684**DCL       677--IMP-SIZ   681--IMP-SIZ
RC_TBL.NXPNT_EIS
       220**DCL       221--REDEF
REC$
       614**DCL       637--IMP-PTR   661--IMP-PTR
PL6.E3A0      #001=ZIU$PA_ROOT File=ZIU$PA_ROOT.:ZIC0TSI                         FRI 09/05/97 13:18 Page:24   
REC_DATA_LN
       642**DCL       641--IMP-SIZ
REC_XREF$
       324**DCL       325--IMP-PTR
SC_TBL.KEY_PTR
       214**DCL       215--REDEF
SET_BUFS
      1218**DCL-ENT  1254--CALL
SET_XREF$
       313**DCL       314--IMP-PTR
STEPCC
       632**DCL      1248<<ASSIGN
SYS_FUNC_CLOS
      1215**DCL-ENT  1259--CALL
SYS_FUNC_RELDCB
      1217**DCL-ENT  1260--CALL     1267--CALL
SYS_FUNC_RELEASE
      1216**DCL-ENT  1266--CALL
X
       631**DCL      1238<<DOINDEX  1239>>IF       1239>>IF       1242>>CALL     1255<<DOINDEX  1256>>ASSIGN
ZIU$CMPT_INIT
      1209**DCL-ENT  1222--CALL
ZIU$CMPT_SMRY
      1210**DCL-ENT  1224--CALL
ZIU$COMPACT
      1208**DCL-ENT  1223--CALL

PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:25   
      112        1        /*T***********************************************************/
      113        2        /*T*                                                         */
      114        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      115        4        /*T*                                                         */
      116        5        /*T***********************************************************/
      117        6        /*
      118        7              SUBR    ERROR_MSG  TRANSFER CALLS TO SYS_FUNC_MSG
      119        8        */
      120        9        ERROR_MSG: PROC(ERR_CODE,U1,U2,U3);
      121       10
      122       11    1   DCL ERR_CODE UBIN ALIGNED;
      123       12    1   DCL U1 CHAR(30) CALIGNED;
      124       13    1   DCL U2 CHAR(30) CALIGNED;
      125       14    1   DCL U3 CHAR(30) CALIGNED;
      126       15    1   DCL Y SBIN STATIC ALIGNED;
      127       16
      128       17    1   DCL SYS_FUNC_ERRMSG ENTRY ALTRET;
      129       18        %INCLUDE ZI_GLOBAL_DBUTIL;
      130      196         %SYS_FUNC;
      131      288         %MISC_DCLS;
      132      341
      133      342    1       IF ADDR(U1)~=ADDR(NIL) THEN
      134      343    2       DO;
      135      344    2           ERR_INSERT.TEXT(0)=U1;
      136      345    2           CALL INDEX1(Y,' ',ERR_INSERT.TEXT(0));
      137      346    2           ERR_INSERT.CNT(0)=Y;
      138      347    2           END;
      139      348    1       IF ADDR(U2)~=ADDR(NIL) THEN
      140      349    2       DO;
      141      350    2           ERR_INSERT.TEXT(1)=U2;
      142      351    2           CALL INDEX1(Y,' ',ERR_INSERT.TEXT(1));
      143      352    2           ERR_INSERT.CNT(1)=Y;
      144      353    2           END;
      145      354    1       IF ADDR(U3)~=ADDR(NIL) THEN
      146      355    2       DO;
      147      356    2           ERR_INSERT.TEXT(2)=U3;
      148      357    2           CALL INDEX1(Y,' ',ERR_INSERT.TEXT(2));
PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:26   
      149      358    2           ERR_INSERT.CNT(2)=Y;
      150      359    2           END;
      151      360
      152      361    1       ERRCODESF.ERR#=ERR_CODE;
      153      362    1       MSGCODE=ERRCODE_RDEF;
      154      363    1       ERRFLGSF=0;
      155      364    1       CALL SYS_FUNC_ERRMSG;
      156      365    1       RETURN;
      157      366
      158      367    1   END ERROR_MSG;
      159      368        %EOD;

PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:27   
--  Include file information  --

   ZI_GLOBAL_DBUTIL.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure ERROR_MSG.

   Procedure ERROR_MSG requires 57 words for executable code.
   Procedure ERROR_MSG requires 8 words of local(AUTO) storage.

PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:28   

 Object Unit name= ERROR_MSG                                  File name= ZIU$PA_ROOT.:ZIC0TOU
 UTS= SEP 05 '97 13:19:05.20 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none     1      1  ERROR_MSG
    1   DCB   even  none     0      0  M$LO
    2   Proc  even  none    57     71  ERROR_MSG
    3  RoData even  none     3      3  ERROR_MSG

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes            yes      Std        4  ERROR_MSG

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       0 SYS_FUNC_ERRMSG
                       nStd      0 X66_AUTO_4
                       nStd      0 X66_ARET
PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:29   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     BLKLSF                                KEYLSF                                KEYXSF
     DCBSF                                 ORGSF                                 KEYSF
     KEYVSF                                ACSSF                                 NOTIMESF
     FUNSF                                 ASNSF                                 TESTSF
     XTENSIZESF                            DISPSF                                WAITSF
     VFCSF                                 FULLSF                                BKUPSF
     BUFLNSF                               BUFSF                                 SOURCESF
     DESTSF                                DATESF                                TIMESF
     UTSSF                                 DAYSF                                 TSTAMPSF
     ENCRP_SEEDSF                          ERRCODESF                             MSGCODE
     INCL_ERR                              ERR_INSERT                            FIDSF_RD
     ACNT                                  EXISTSF                               SHARESF
     DCBNMSF                               KEYRSF                                NO_KEYSF
     REASGNSF                              CARRY_ATTRIBUTESF                     SUBMESSF
     SPKY_OPNSF                            POSSF                                 ERRFLGSF
     MERGESF                               FSA_FLAG                              RELGSF
     UNUSED                                HELPCODE                              COUNTSF
     INDEXSF                               GAP                                   PSNSF
     ACNTSF                                KEY_SHADWSF                           REC$
     RB                                    RE                                    IE
     IB                                    CNT                                   ICNT
     RCNT                                  SCNT                                  FIRST_SET
     RETCNT                                DMPCNT                                KCNT
     ACNT_IDX                              I                                     J
     K                                     X                                     STEPCC
     I_O_BUF$                              OUT_INDX                              I_O_SIZE
     REC_DATA_LN                           M$LO                                  B$TCB$
     B$ROS$                                B$JIT$                                KEYFID
     I_O_KEY                               RESTART                               BREAK_FLAG
     ICHKSUM                               ITMCNT                                GAP1
PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:30   

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID
PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:31   


      112        1        /*T***********************************************************/
      113        2        /*T*                                                         */
      114        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      115        4        /*T*                                                         */
      116        5        /*T***********************************************************/
      117        6        /*
      118        7              SUBR    ERROR_MSG  TRANSFER CALLS TO SYS_FUNC_MSG
      119        8        */
      120        9        ERROR_MSG: PROC(ERR_CODE,U1,U2,U3);

      9  2 000000   000000 700200 xent  ERROR_MSG    TSX0  ! X66_AUTO_4
         2 000001   000010 000004                    ZERO    8,4

      121       10
      122       11    1   DCL ERR_CODE UBIN ALIGNED;
      123       12    1   DCL U1 CHAR(30) CALIGNED;
      124       13    1   DCL U2 CHAR(30) CALIGNED;
      125       14    1   DCL U3 CHAR(30) CALIGNED;
      126       15    1   DCL Y SBIN STATIC ALIGNED;
      127       16
      128       17    1   DCL SYS_FUNC_ERRMSG ENTRY ALTRET;
      129       18        %INCLUDE ZI_GLOBAL_DBUTIL;
      130      196         %SYS_FUNC;
      131      288         %MISC_DCLS;
      132      341
      133      342    1       IF ADDR(U1)~=ADDR(NIL) THEN

    342  2 000002   200004 236100                    LDQ     @U1,,AUTO
         2 000003   000000 116000 3                  CMPQ    0
         2 000004   000020 600000 2                  TZE     s:348

      134      343    2       DO;

      135      344    2           ERR_INSERT.TEXT(0)=U1;

    344  2 000005   200004 470500                    LDP0    @U1,,AUTO
PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:32   
         2 000006   040000 100500                    MLR     fill='040'O
         2 000007   000000 000036                    ADSC9   0,,PR0                   cn=0,n=30
         2 000010   000000 200036 xsym               ADSC9   ERR_INSERT               cn=1,n=30

      136      345    2           CALL INDEX1(Y,' ',ERR_INSERT.TEXT(0));

    345  2 000011   000000 124400                    SCM     mask='000'O
         2 000012   000000 200036 xsym               ADSC9   ERR_INSERT               cn=1,n=30
         2 000013   000001 000001 3                  ADSC9   1                        cn=0,n=1
         2 000014   000000 000000 0                  ARG     Y

      137      346    2           ERR_INSERT.CNT(0)=Y;

    346  2 000015   000000 236000 0                  LDQ     Y
         2 000016   000033 736000                    QLS     27
         2 000017   000000 552040 xsym               STBQ    ERR_INSERT,'40'O

      138      347    2           END;

      139      348    1       IF ADDR(U2)~=ADDR(NIL) THEN

    348  2 000020   200005 236100                    LDQ     @U2,,AUTO
         2 000021   000000 116000 3                  CMPQ    0
         2 000022   000036 600000 2                  TZE     s:354

      140      349    2       DO;

      141      350    2           ERR_INSERT.TEXT(1)=U2;

    350  2 000023   200005 470500                    LDP0    @U2,,AUTO
         2 000024   040000 100500                    MLR     fill='040'O
         2 000025   000000 000036                    ADSC9   0,,PR0                   cn=0,n=30
         2 000026   000010 200036 xsym               ADSC9   ERR_INSERT+8             cn=1,n=30

      142      351    2           CALL INDEX1(Y,' ',ERR_INSERT.TEXT(1));

    351  2 000027   000000 124400                    SCM     mask='000'O
PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:33   
         2 000030   000010 200036 xsym               ADSC9   ERR_INSERT+8             cn=1,n=30
         2 000031   000001 000001 3                  ADSC9   1                        cn=0,n=1
         2 000032   000000 000000 0                  ARG     Y

      143      352    2           ERR_INSERT.CNT(1)=Y;

    352  2 000033   000000 236000 0                  LDQ     Y
         2 000034   000033 736000                    QLS     27
         2 000035   000010 552040 xsym               STBQ    ERR_INSERT+8,'40'O

      144      353    2           END;

      145      354    1       IF ADDR(U3)~=ADDR(NIL) THEN

    354  2 000036   200006 236100                    LDQ     @U3,,AUTO
         2 000037   000000 116000 3                  CMPQ    0
         2 000040   000054 600000 2                  TZE     s:361

      146      355    2       DO;

      147      356    2           ERR_INSERT.TEXT(2)=U3;

    356  2 000041   200006 470500                    LDP0    @U3,,AUTO
         2 000042   040000 100500                    MLR     fill='040'O
         2 000043   000000 000036                    ADSC9   0,,PR0                   cn=0,n=30
         2 000044   000020 200036 xsym               ADSC9   ERR_INSERT+16            cn=1,n=30

      148      357    2           CALL INDEX1(Y,' ',ERR_INSERT.TEXT(2));

    357  2 000045   000000 124400                    SCM     mask='000'O
         2 000046   000020 200036 xsym               ADSC9   ERR_INSERT+16            cn=1,n=30
         2 000047   000001 000001 3                  ADSC9   1                        cn=0,n=1
         2 000050   000000 000000 0                  ARG     Y

      149      358    2           ERR_INSERT.CNT(2)=Y;

    358  2 000051   000000 236000 0                  LDQ     Y
PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:34   
         2 000052   000033 736000                    QLS     27
         2 000053   000020 552040 xsym               STBQ    ERR_INSERT+16,'40'O

      150      359    2           END;

      151      360
      152      361    1       ERRCODESF.ERR#=ERR_CODE;

    361  2 000054   200003 470500                    LDP0    @ERR_CODE,,AUTO
         2 000055   000000 236100                    LDQ     0,,PR0
         2 000056   000003 736000                    QLS     3
         2 000057   000000 676000 xsym               ERQ     ERRCODESF
         2 000060   377770 376007                    ANQ     131064,DL
         2 000061   000000 656000 xsym               ERSQ    ERRCODESF

      153      362    1       MSGCODE=ERRCODE_RDEF;

    362  2 000062   000000 235000 xsym               LDA     ERRCODESF
         2 000063   000000 755000 xsym               STA     MSGCODE

      154      363    1       ERRFLGSF=0;

    363  2 000064   000000 450000 xsym               STZ     ERRFLGSF

      155      364    1       CALL SYS_FUNC_ERRMSG;

    364  2 000065   000002 631400 3                  EPPR1   2
         2 000066   000000 701000 xent               TSX1    SYS_FUNC_ERRMSG
         2 000067   000000 011000                    NOP     0

      156      365    1       RETURN;

    365  2 000070   000000 702200 xent               TSX2  ! X66_ARET

(unnamed)
 Sect OctLoc
   3     000   000000 006014   040040 040040   000000 000000                    ....    ....
PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:35   
      157      366
      158      367    1   END ERROR_MSG;
      159      368        %EOD;

PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:36   
--  Include file information  --

   ZI_GLOBAL_DBUTIL.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure ERROR_MSG.

   Procedure ERROR_MSG requires 57 words for executable code.
   Procedure ERROR_MSG requires 8 words of local(AUTO) storage.
PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:37   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:38   
          MINI XREF LISTING

COUNTSF
       277**DCL       278--REDEF
ENCRP_SEEDSF
       235**DCL       236--REDEF
ERRCODESF
       237**DCL       242--REDEF
ERRCODESF.ERR#
       240**DCL       361<<ASSIGN
ERRCODE_RDEF
       242**DCL       362>>ASSIGN
ERRFLGSF
       266**DCL       363<<ASSIGN
ERR_CODE
        11**DCL         9--PROC      361>>ASSIGN
ERR_INSERT.CNT
       251**DCL       346<<ASSIGN    352<<ASSIGN    358<<ASSIGN
ERR_INSERT.TEXT
       252**DCL       344<<ASSIGN    345>>CALLBLT   350<<ASSIGN    351>>CALLBLT   356<<ASSIGN    357>>CALLBLT
FIDSF_RD
       253**DCL       254--REDEF
HELPCODE
       271**DCL       276--REDEF
ICHKSUM
       336**DCL       337--REDEF
I_O_BUF$
       314**DCL       315--IMP-PTR
KEYVSF
       209**DCL       214--REDEF
KEYVSF.WD_ONE
       211**DCL       212--REDEF
MSGCODE
       243**DCL       244--REDEF     362<<ASSIGN
PL6.E3A0      #002=ERROR_MSG File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:39   
REC$
       295**DCL       318--IMP-PTR
REC_DATA_LN
       323**DCL       322--IMP-SIZ
SYS_FUNC_ERRMSG
        17**DCL-ENT   364--CALL
U1
        12**DCL         9--PROC      342--IF        344>>ASSIGN
U2
        13**DCL         9--PROC      348--IF        350>>ASSIGN
U3
        14**DCL         9--PROC      354--IF        356>>ASSIGN
Y
        15**DCL       345<<CALLBLT   346>>ASSIGN    351<<CALLBLT   352>>ASSIGN    357<<CALLBLT   358>>ASSIGN

PL6.E3A0      #003=BIN_CHAR File=ZIU$PA_ROOT.:ZIC0TSI                            FRI 09/05/97 13:19 Page:40   
      160        1        /*T***********************************************************/
      161        2        /*T*                                                         */
      162        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      163        4        /*T*                                                         */
      164        5        /*T***********************************************************/
      165        6        BIN_CHAR: PROC(INDX,NUM);
      166        7
      167        8    1   DCL NUM UBIN WORD CALIGNED; /* THE NUMBER TO BE CONVERTED IN TEXT */
      168        9    1   DCL INDX UBIN ALIGNED;
      169       10    1   DCL Y SBIN STATIC ALIGNED;
      170       11    1   DCL ZERO_SUP ENTRY(3);
      171       12        %INCLUDE ZI_GLOBAL_DBUTIL;
      172      190         %SYS_FUNC;
      173      282
      174      283    1       CALL BINCHAR(ERR_INSERT.TEXT(INDX),NUM);
      175      284    1       CALL ZERO_SUP(ERR_INSERT.TEXT(INDX),30,'1'B);
      176      285
      177      286    1   END BIN_CHAR;
      178      287        %EOD;

PL6.E3A0      #003=BIN_CHAR File=ZIU$PA_ROOT.:ZIC0TSI                            FRI 09/05/97 13:19 Page:41   
--  Include file information  --

   ZI_GLOBAL_DBUTIL.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure BIN_CHAR.

   Procedure BIN_CHAR requires 33 words for executable code.
   Procedure BIN_CHAR requires 10 words of local(AUTO) storage.

PL6.E3A0      #003=BIN_CHAR File=ZIU$PA_ROOT.:ZIC0TSI                            FRI 09/05/97 13:19 Page:42   

 Object Unit name= BIN_CHAR                                   File name= ZIU$PA_ROOT.:ZIC0TOU
 UTS= SEP 05 '97 13:19:08.48 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none     1      1  BIN_CHAR
    1   Proc  even  none    33     41  BIN_CHAR
    2  RoData even  none     6      6  BIN_CHAR

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes      Std        2  BIN_CHAR

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       3 ZERO_SUP
                       nStd      0 X66_AUTO_2
                       nStd      0 X66_ARET
PL6.E3A0      #003=BIN_CHAR File=ZIU$PA_ROOT.:ZIC0TSI                            FRI 09/05/97 13:19 Page:43   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     BLKLSF                                KEYLSF                                KEYXSF
     DCBSF                                 ORGSF                                 KEYSF
     KEYVSF                                ACSSF                                 NOTIMESF
     FUNSF                                 ASNSF                                 TESTSF
     XTENSIZESF                            DISPSF                                WAITSF
     VFCSF                                 FULLSF                                BKUPSF
     BUFLNSF                               BUFSF                                 SOURCESF
     DESTSF                                DATESF                                TIMESF
     UTSSF                                 DAYSF                                 TSTAMPSF
     ENCRP_SEEDSF                          ERRCODESF                             MSGCODE
     INCL_ERR                              ERR_INSERT                            FIDSF_RD
     ACNT                                  EXISTSF                               SHARESF
     DCBNMSF                               KEYRSF                                NO_KEYSF
     REASGNSF                              CARRY_ATTRIBUTESF                     SUBMESSF
     SPKY_OPNSF                            POSSF                                 ERRFLGSF
     MERGESF                               FSA_FLAG                              RELGSF
     UNUSED                                HELPCODE                              COUNTSF
     INDEXSF                               GAP                                   PSNSF
     ACNTSF                                KEY_SHADWSF

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #003=BIN_CHAR File=ZIU$PA_ROOT.:ZIC0TSI                            FRI 09/05/97 13:19 Page:44   


      160        1        /*T***********************************************************/
      161        2        /*T*                                                         */
      162        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      163        4        /*T*                                                         */
      164        5        /*T***********************************************************/
      165        6        BIN_CHAR: PROC(INDX,NUM);

      6  1 000000   000000 700200 xent  BIN_CHAR     TSX0  ! X66_AUTO_2
         1 000001   000012 000002                    ZERO    10,2

      166        7
      167        8    1   DCL NUM UBIN WORD CALIGNED; /* THE NUMBER TO BE CONVERTED IN TEXT */
      168        9    1   DCL INDX UBIN ALIGNED;
      169       10    1   DCL Y SBIN STATIC ALIGNED;
      170       11    1   DCL ZERO_SUP ENTRY(3);
      171       12        %INCLUDE ZI_GLOBAL_DBUTIL;
      172      190         %SYS_FUNC;
      173      282
      174      283    1       CALL BINCHAR(ERR_INSERT.TEXT(INDX),NUM);

    283  1 000002   200003 470500                    LDP0    @INDX,,AUTO
         1 000003   000000 235100                    LDA     0,,PR0
         1 000004   000003 735000                    ALS     3
         1 000005   000002 735000                    ALS     2
         1 000006   200004 471500                    LDP1    @NUM,,AUTO
         1 000007   000100 100500                    MLR     fill='000'O
         1 000010   100000 000004                    ADSC9   0,,PR1                   cn=0,n=4
         1 000011   200006 000004                    ADSC9   @NUM+2,,AUTO             cn=0,n=4
         1 000012   200006 236100                    LDQ     @NUM+2,,AUTO
         1 000013   200007 755100                    STA     @NUM+3,,AUTO
         1 000014   000000 235003                    LDA     0,DU
         1 000015   200010 757100                    STAQ    @NUM+4,,AUTO
         1 000016   200007 235100                    LDA     @NUM+3,,AUTO
         1 000017   000005 301500                    BTD
         1 000020   200010 000010                    NDSC9   @NUM+4,,AUTO             cn=0,s=lsgnf,sf=0,n=8
         1 000021   000000 230036 xsym               NDSC9   ERR_INSERT,A             cn=1,s=nosgn,sf=0,n=30
PL6.E3A0      #003=BIN_CHAR File=ZIU$PA_ROOT.:ZIC0TSI                            FRI 09/05/97 13:19 Page:45   

      175      284    1       CALL ZERO_SUP(ERR_INSERT.TEXT(INDX),30,'1'B);

    284  1 000022   000000 235100                    LDA     0,,PR0
         1 000023   000003 735000                    ALS     3
         1 000024   000003 236000 2                  LDQ     3
         1 000025   200010 756100                    STQ     @NUM+4,,AUTO
         1 000026   000004 236000 2                  LDQ     4
         1 000027   200007 756100                    STQ     @NUM+3,,AUTO
         1 000030   000044 733000                    LRS     36
         1 000031   000022 736000                    QLS     18
         1 000032   000005 036000 2                  ADLQ    5
         1 000033   200006 756100                    STQ     @NUM+2,,AUTO
         1 000034   200006 630500                    EPPR0   @NUM+2,,AUTO
         1 000035   000000 631400 2                  EPPR1   0
         1 000036   000000 701000 xent               TSX1    ZERO_SUP
         1 000037   000000 011000                    NOP     0

      176      285
      177      286    1   END BIN_CHAR;

    286  1 000040   000000 702200 xent               TSX2  ! X66_ARET

(unnamed)
 Sect OctLoc
   2     000   000003 000000   000000 000036   400000 000000   000002 006000    ................
   2     004   000001 006000   000000 206000                                    ........
      178      287        %EOD;

PL6.E3A0      #003=BIN_CHAR File=ZIU$PA_ROOT.:ZIC0TSI                            FRI 09/05/97 13:19 Page:46   
--  Include file information  --

   ZI_GLOBAL_DBUTIL.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure BIN_CHAR.

   Procedure BIN_CHAR requires 33 words for executable code.
   Procedure BIN_CHAR requires 10 words of local(AUTO) storage.
PL6.E3A0      #003=BIN_CHAR File=ZIU$PA_ROOT.:ZIC0TSI                            FRI 09/05/97 13:19 Page:47   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #003=BIN_CHAR File=ZIU$PA_ROOT.:ZIC0TSI                            FRI 09/05/97 13:19 Page:48   
          MINI XREF LISTING

COUNTSF
       271**DCL       272--REDEF
ENCRP_SEEDSF
       229**DCL       230--REDEF
ERRCODESF
       231**DCL       236--REDEF
ERR_INSERT.TEXT
       246**DCL       283<<CALLBLT   284<>CALL
FIDSF_RD
       247**DCL       248--REDEF
HELPCODE
       265**DCL       270--REDEF
INDX
         9**DCL         6--PROC      283>>CALLBLT   284>>CALL
KEYVSF
       203**DCL       208--REDEF
KEYVSF.WD_ONE
       205**DCL       206--REDEF
MSGCODE
       237**DCL       238--REDEF
NUM
         8**DCL         6--PROC      283>>CALLBLT
ZERO_SUP
        11**DCL-ENT   284--CALL

PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:49   
      179        1        /*T***********************************************************/
      180        2        /*T*                                                         */
      181        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      182        4        /*T*                                                         */
      183        5        /*T***********************************************************/
      184        6        /*
      185        7              SUBR   OPEN_AREA - OPEN THE AREA INDEXED BY AC_PTR IN AC_TBL
      186        8                              AND CHECK THEIR ORG FOR IDS
      187        9                              AND UPDATE PG_RANGE IN CASE TEMPLATE AREA
      188       10        */
      189       11        OPEN_AREA: PROC ALTRET;
      190       12
      191       13    1   DCL ERROR_MSG ENTRY(4);
      192       14    1   DCL GET_DCB ENTRY(1) ALTRET;
      193       15    1   DCL SYS_FUNC_OPEN ENTRY ALTRET;
      194       16    1   DCL READ_DB ENTRY(3) ALTRET;
      195       17
      196       18        %INCLUDE ZI$PG_STRUCTS;
      197      121         %ATBLK_PG;
      198      177         %DATA_PG;
      199      196        %INCLUDE ZI_DBU_XREF;
      200      363         %PA_XREF_TBLS;
      201      429        %INCLUDE ZI_GLOBAL_DBUTIL;
      202      607         %SYS_FUNC;
      203      699         %MISC_DCLS;
      204      752        %INCLUDE ZI$DIR;
      205      909         %DIR;
      206     1053 S      %INCLUDE CP_6_C;
      207     1054         %F$DCB;
      208     1111
      209     1112        %INCLUDE ZI_ERRORS_SUBS;
      210     1632        %INCLUDE CP_6_SUBS;
      211     2172
      212     2173    1       FUNSF = %UPDATE#;
      213     2174    1       SHARESF = %IN#;
      214     2175    1       ASNSF = %FILE#;
      215     2176    1       ACSSF = %DIRECT#;
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:50   
      216     2177    1       TESTSF = %NO#;
      217     2178    1       REASGNSF = %YES#;
      218     2179    1       ZI$DIR.AREA_NM.NAME.TEXT=AC_TBL.NAME(AC_PTR);
      219     2180    1       CALL GET_DCB(ZI$DIR.AREA_NM) ALTRET(ALT);
      220     2181    1       AC_TBL.DCB#(AC_PTR)=ZI$DIR.AREA_NM.DCB#;
      221     2182    1       DCBSF = ZI$DIR.AREA_NM.DCB#;
      222     2183    1       FIDSF = ZI$DIR.AREA_NM.NAME.TEXT;
      223     2184    1       CALL SYS_FUNC_OPEN ALTRET(ALT);
      224     2185    1       IF DCBADDR(DCBSF)->F$DCB.ORG# ~= %IDS# THEN
      225     2186    2       DO;
      226     2187    2           CALL ERROR_MSG(DBU#CHKIDSREP);
      227     2188    2           ALTRETURN;
      228     2189    2           END;
      229     2190    1       WAITSF = %YES#;
      230     2191    1       CALL READ_DB(31,0,1) ALTRET(ALT); /* (IO-INDX,IO-KEY,IO-SIZE) */
      231     2192    1       ATBLK$ = ADDR(I_O_BUF(31));
      232     2193    1       IF AC_TBL.RANGE_LOW(AC_PTR)>ATBLK_PG.NUM_DBPG THEN
      233     2194    1           AC_TBL.RANGE_HIGH(AC_PTR)=0; /*MAY OCCUR ON TEMPLATE AREA */
      234     2195    1       ELSE
      235     2196    1           IF AC_TBL.RANGE_HIGH(AC_PTR)>ATBLK_PG.NUM_DBPG THEN
      236     2197    1               IF ATBLK_PG.FIR_INV_PGNO~=0 THEN
      237     2198    1                   AC_TBL.RANGE_HIGH(AC_PTR)=ATBLK_PG.FIR_INV_PGNO-1;
      238     2199    1               ELSE
      239     2200    1                   AC_TBL.RANGE_HIGH(AC_PTR)=ATBLK_PG.NUM_DBPG;
      240     2201    1       IF ATBLK_PG.FIR_INV_PGNO~=0 THEN
      241     2202    1           AC_TBL.NUM_DBPG(AC_PTR)=ATBLK_PG.FIR_INV_PGNO-1;
      242     2203    1       ELSE
      243     2204    1           AC_TBL.NUM_DBPG(AC_PTR)=ATBLK_PG.NUM_DBPG;
      244     2205    1       AC_TBL.LNLP(AC_PTR)=
      245     2206    1          MOD(ATBLK_PG.HIGH_DBK-ATBLK_PG.LOW_DBK+1,ATBLK_PG.LINE_INFO.LPP);
      246     2207    1       IF AC_TBL.LNLP(AC_PTR)=0 THEN
      247     2208    1           AC_TBL.LNLP(AC_PTR)=ATBLK_PG.LINE_INFO.LPP;
      248     2209    1       RETURN;
      249     2210    1   ALT: ALTRETURN;
      250     2211    1   END OPEN_AREA;
      251     2212
      252     2213        %EOD;
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:51   

PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:52   
--  Include file information  --

   CP_6_SUBS.:LIB_E05  is referenced.
   ZI_ERRORS_SUBS.:ZIC0TOU  is referenced.
   ZI$DIR.:ZIC0TOU  is referenced.
   ZI_GLOBAL_DBUTIL.:ZIC0TOU  is referenced.
   ZI_DBU_XREF.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZI$PG_STRUCTS.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure OPEN_AREA.

   Procedure OPEN_AREA requires 126 words for executable code.
   Procedure OPEN_AREA requires 6 words of local(AUTO) storage.

PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:53   

 Object Unit name= OPEN_AREA                                  File name= ZIU$PA_ROOT.:ZIC0TOU
 UTS= SEP 05 '97 13:19:10.84 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$LO
    1   Proc  even  none   126    176  OPEN_AREA
    2  RoData even  none    13     15  OPEN_AREA

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes    yes     yes      Std        0  OPEN_AREA

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       1 GET_DCB
 yes     yes           Std       0 SYS_FUNC_OPEN
         yes           Std       4 ERROR_MSG
 yes     yes           Std       3 READ_DB
                       nStd      0 X66_AUTO_0
                       nStd      0 X66_AALT
                       nStd      0 X66_ARET
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:54   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ATBLK$                                DATA$                                 TYPE
     SC_PTR                                SC_TBL                                RC_PTR
     RC_TBL                                KEY_PTR                               KEY_TBL
     AC_PTR                                FIRST_TIME_CALLED                     BASE_DBK
     AC_TBL                                BLKLSF                                KEYLSF
     KEYXSF                                DCBSF                                 ORGSF
     KEYSF                                 KEYVSF                                ACSSF
     NOTIMESF                              FUNSF                                 ASNSF
     TESTSF                                XTENSIZESF                            DISPSF
     WAITSF                                VFCSF                                 FULLSF
     BKUPSF                                BUFLNSF                               BUFSF
     SOURCESF                              DESTSF                                DATESF
     TIMESF                                UTSSF                                 DAYSF
     TSTAMPSF                              ENCRP_SEEDSF                          ERRCODESF
     MSGCODE                               INCL_ERR                              ERR_INSERT
     FIDSF_RD                              ACNT                                  EXISTSF
     SHARESF                               DCBNMSF                               KEYRSF
     NO_KEYSF                              REASGNSF                              CARRY_ATTRIBUTESF
     SUBMESSF                              SPKY_OPNSF                            POSSF
     ERRFLGSF                              MERGESF                               FSA_FLAG
     RELGSF                                UNUSED                                HELPCODE
     COUNTSF                               INDEXSF                               GAP
     PSNSF                                 ACNTSF                                KEY_SHADWSF
     REC$                                  RB                                    RE
     IE                                    IB                                    CNT
     ICNT                                  RCNT                                  SCNT
     FIRST_SET                             RETCNT                                DMPCNT
     KCNT                                  ACNT_IDX                              I
     J                                     K                                     X
     STEPCC                                I_O_BUF$                              OUT_INDX
     I_O_SIZE                              REC_DATA_LN                           M$LO
     B$TCB$                                B$ROS$                                B$JIT$
     KEYFID                                I_O_KEY                               RESTART
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:55   
     BREAK_FLAG                            ICHKSUM                               ITMCNT
     GAP1                                  ZI$DIR                                SCHEMA_ACTIVE
     RECORD_LIST                           SET_LIST                              RETAIN_LIST
     DUMP_FID                              ALTKY                                 INIT_RG
     KEY_RNG                               ITEM_LIST

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ROSID                                 ISSID
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:56   


      179        1        /*T***********************************************************/
      180        2        /*T*                                                         */
      181        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      182        4        /*T*                                                         */
      183        5        /*T***********************************************************/
      184        6        /*
      185        7              SUBR   OPEN_AREA - OPEN THE AREA INDEXED BY AC_PTR IN AC_TBL
      186        8                              AND CHECK THEIR ORG FOR IDS
      187        9                              AND UPDATE PG_RANGE IN CASE TEMPLATE AREA
      188       10        */
      189       11        OPEN_AREA: PROC ALTRET;

     11  1 000000   000000 700200 xent  OPEN_AREA    TSX0  ! X66_AUTO_0
         1 000001   000006 000000                    ZERO    6,0

      190       12
      191       13    1   DCL ERROR_MSG ENTRY(4);
      192       14    1   DCL GET_DCB ENTRY(1) ALTRET;
      193       15    1   DCL SYS_FUNC_OPEN ENTRY ALTRET;
      194       16    1   DCL READ_DB ENTRY(3) ALTRET;
      195       17
      196       18        %INCLUDE ZI$PG_STRUCTS;
      197      121         %ATBLK_PG;
      198      177         %DATA_PG;
      199      196        %INCLUDE ZI_DBU_XREF;
      200      363         %PA_XREF_TBLS;
      201      429        %INCLUDE ZI_GLOBAL_DBUTIL;
      202      607         %SYS_FUNC;
      203      699         %MISC_DCLS;
      204      752        %INCLUDE ZI$DIR;
      205      909         %DIR;
      206     1053 S      %INCLUDE CP_6_C;
      207     1054         %F$DCB;
      208     1111
      209     1112        %INCLUDE ZI_ERRORS_SUBS;
      210     1632        %INCLUDE CP_6_SUBS;
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:57   
      211     2172
      212     2173    1       FUNSF = %UPDATE#;

   2173  1 000002   000001 235007                    LDA     1,DL
         1 000003   000000 755000 xsym               STA     FUNSF

      213     2174    1       SHARESF = %IN#;

   2174  1 000004   400000 236003                    LDQ     -131072,DU
         1 000005   000000 756000 xsym               STQ     SHARESF

      214     2175    1       ASNSF = %FILE#;

   2175  1 000006   000000 755000 xsym               STA     ASNSF

      215     2176    1       ACSSF = %DIRECT#;

   2176  1 000007   000002 235007                    LDA     2,DL
         1 000010   000000 755000 xsym               STA     ACSSF

      216     2177    1       TESTSF = %NO#;

   2177  1 000011   000000 450000 xsym               STZ     TESTSF

      217     2178    1       REASGNSF = %YES#;

   2178  1 000012   000000 756000 xsym               STQ     REASGNSF

      218     2179    1       ZI$DIR.AREA_NM.NAME.TEXT=AC_TBL.NAME(AC_PTR);

   2179  1 000013   000000 236000 xsym               LDQ     AC_PTR
         1 000014   000060 402007                    MPY     48,DL
         1 000015   040000 100406                    MLR     fill='040'O
         1 000016   000003 400036 xsym               ADSC9   AC_TBL+3,Q               cn=2,n=30
         1 000017   000234 200036 xsym               ADSC9   ZI$DIR+156               cn=1,n=30

      219     2180    1       CALL GET_DCB(ZI$DIR.AREA_NM) ALTRET(ALT);
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:58   

   2180  1 000020   000001 630400 2                  EPPR0   1
         1 000021   000000 631400 2                  EPPR1   0
         1 000022   000000 701000 xent               TSX1    GET_DCB
         1 000023   000175 702000 1                  TSX2    ALT

      220     2181    1       AC_TBL.DCB#(AC_PTR)=ZI$DIR.AREA_NM.DCB#;

   2181  1 000024   000000 236000 xsym               LDQ     AC_PTR
         1 000025   000014 402007                    MPY     12,DL
         1 000026   000000 620006                    EAX0    0,QL
         1 000027   000244 236000 xsym               LDQ     ZI$DIR+164
         1 000030   000022 772000                    QRL     18
         1 000031   000013 676010 xsym               ERQ     AC_TBL+11,X0
         1 000032   000377 376007                    ANQ     255,DL
         1 000033   000013 656010 xsym               ERSQ    AC_TBL+11,X0

      221     2182    1       DCBSF = ZI$DIR.AREA_NM.DCB#;

   2182  1 000034   000244 221000 xsym               LDX1    ZI$DIR+164
         1 000035   000000 741000 xsym               STX1    DCBSF

      222     2183    1       FIDSF = ZI$DIR.AREA_NM.NAME.TEXT;

   2183  1 000036   040000 100400                    MLR     fill='040'O
         1 000037   000234 200036 xsym               ADSC9   ZI$DIR+156               cn=1,n=30
         1 000040   000000 000036 xsym               ADSC9   FIDSF_RD                 cn=0,n=30

      223     2184    1       CALL SYS_FUNC_OPEN ALTRET(ALT);

   2184  1 000041   000002 631400 2                  EPPR1   2
         1 000042   000000 701000 xent               TSX1    SYS_FUNC_OPEN
         1 000043   000175 702000 1                  TSX2    ALT

      224     2185    1       IF DCBADDR(DCBSF)->F$DCB.ORG# ~= %IDS# THEN

   2185  1 000044   000003 470400 2                  LDP0    3
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:59   
         1 000045   000000 471500                    LDP1    0,,PR0
         1 000046   000000 220000 xsym               LDX0    DCBSF
         1 000047   100000 473510                    LDP3    0,X0,PR1
         1 000050   300032 236100                    LDQ     26,,PR3
         1 000051   777000 376003                    ANQ     -512,DU
         1 000052   007000 116003                    CMPQ    3584,DU
         1 000053   000061 600000 1                  TZE     s:2190

      225     2186    2       DO;

      226     2187    2           CALL ERROR_MSG(DBU#CHKIDSREP);

   2187  1 000054   000005 630400 2                  EPPR0   5
         1 000055   000000 631400 2                  EPPR1   0
         1 000056   000000 701000 xent               TSX1    ERROR_MSG
         1 000057   000000 011000                    NOP     0

      227     2188    2           ALTRETURN;

   2188  1 000060   000000 702200 xent               TSX2  ! X66_AALT

      228     2189    2           END;
      229     2190    1       WAITSF = %YES#;

   2190  1 000061   400000 236003                    LDQ     -131072,DU
         1 000062   000000 756000 xsym               STQ     WAITSF

      230     2191    1       CALL READ_DB(31,0,1) ALTRET(ALT); /* (IO-INDX,IO-KEY,IO-SIZE) */

   2191  1 000063   000011 630400 2                  EPPR0   9
         1 000064   000006 631400 2                  EPPR1   6
         1 000065   000000 701000 xent               TSX1    READ_DB
         1 000066   000175 702000 1                  TSX2    ALT

      231     2192    1       ATBLK$ = ADDR(I_O_BUF(31));

   2192  1 000067   000000 236000 xsym               LDQ     I_O_BUF$
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:60   
         1 000070   076000 036003                    ADLQ    31744,DU
         1 000071   000000 756000 xsym               STQ     ATBLK$

      232     2193    1       IF AC_TBL.RANGE_LOW(AC_PTR)>ATBLK_PG.NUM_DBPG THEN

   2193  1 000072   000000 470400 xsym               LDP0    ATBLK$
         1 000073   000000 236000 xsym               LDQ     AC_PTR
         1 000074   000014 402007                    MPY     12,DL
         1 000075   000001 236006 xsym               LDQ     AC_TBL+1,QL
         1 000076   000106 604000 1                  TMI     s:2196
         1 000077   000005 116100                    CMPQ    5,,PR0
         1 000100   000106 602000 1                  TNC     s:2196
         1 000101   000106 600000 1                  TZE     s:2196

      233     2194    1           AC_TBL.RANGE_HIGH(AC_PTR)=0; /*MAY OCCUR ON TEMPLATE AREA */

   2194  1 000102   000000 236000 xsym               LDQ     AC_PTR
         1 000103   000014 402007                    MPY     12,DL
         1 000104   000002 450006 xsym               STZ     AC_TBL+2,QL
         1 000105   000131 710000 1                  TRA     s:2201

      234     2195    1       ELSE
      235     2196    1           IF AC_TBL.RANGE_HIGH(AC_PTR)>ATBLK_PG.NUM_DBPG THEN

   2196  1 000106   000000 236000 xsym               LDQ     AC_PTR
         1 000107   000014 402007                    MPY     12,DL
         1 000110   000002 236006 xsym               LDQ     AC_TBL+2,QL
         1 000111   000131 604000 1                  TMI     s:2201
         1 000112   000005 116100                    CMPQ    5,,PR0
         1 000113   000131 602000 1                  TNC     s:2201
         1 000114   000131 600000 1                  TZE     s:2201

      236     2197    1               IF ATBLK_PG.FIR_INV_PGNO~=0 THEN

   2197  1 000115   000014 235100                    LDA     12,,PR0
         1 000116   000125 600000 1                  TZE     s:2200

PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:61   
      237     2198    1                   AC_TBL.RANGE_HIGH(AC_PTR)=ATBLK_PG.FIR_INV_PGNO-1;

   2198  1 000117   000000 236000 xsym               LDQ     AC_PTR
         1 000120   000014 402007                    MPY     12,DL
         1 000121   000014 235100                    LDA     12,,PR0
         1 000122   000001 135007                    SBLA    1,DL
         1 000123   000002 755006 xsym               STA     AC_TBL+2,QL
         1 000124   000131 710000 1                  TRA     s:2201

      238     2199    1               ELSE
      239     2200    1                   AC_TBL.RANGE_HIGH(AC_PTR)=ATBLK_PG.NUM_DBPG;

   2200  1 000125   000000 236000 xsym               LDQ     AC_PTR
         1 000126   000014 402007                    MPY     12,DL
         1 000127   000005 235100                    LDA     5,,PR0
         1 000130   000002 755006 xsym               STA     AC_TBL+2,QL

      240     2201    1       IF ATBLK_PG.FIR_INV_PGNO~=0 THEN

   2201  1 000131   000014 235100                    LDA     12,,PR0
         1 000132   000141 600000 1                  TZE     s:2204

      241     2202    1           AC_TBL.NUM_DBPG(AC_PTR)=ATBLK_PG.FIR_INV_PGNO-1;

   2202  1 000133   000000 236000 xsym               LDQ     AC_PTR
         1 000134   000014 402007                    MPY     12,DL
         1 000135   000014 720100                    LXL0    12,,PR0
         1 000136   777777 621010                    EAX1    -1,X0
         1 000137   000003 741006 xsym               STX1    AC_TBL+3,QL
         1 000140   000145 710000 1                  TRA     s:2205

      242     2203    1       ELSE
      243     2204    1           AC_TBL.NUM_DBPG(AC_PTR)=ATBLK_PG.NUM_DBPG;

   2204  1 000141   000000 236000 xsym               LDQ     AC_PTR
         1 000142   000014 402007                    MPY     12,DL
         1 000143   000005 720100                    LXL0    5,,PR0
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:62   
         1 000144   000003 740006 xsym               STX0    AC_TBL+3,QL

      244     2205    1       AC_TBL.LNLP(AC_PTR)=

   2205  1 000145   000000 620006                    EAX0    0,QL
         1 000146   000016 236100                    LDQ     14,,PR0
         1 000147   000015 136100                    SBLQ    13,,PR0
         1 000150   200004 756100                    STQ     4,,AUTO
         1 000151   000012 236100                    LDQ     10,,PR0
         1 000152   777777 376007                    ANQ     -1,DL
         1 000153   200005 756100                    STQ     5,,AUTO
         1 000154   200004 236100                    LDQ     4,,AUTO
         1 000155   000001 036007                    ADLQ    1,DL
         1 000156   200005 506100                    DIV     5,,AUTO
         1 000157   000044 733000                    LRS     36
         1 000160   000011 736000                    QLS     9
         1 000161   000013 676010 xsym               ERQ     AC_TBL+11,X0
         1 000162   000014 376000 2                  ANQ     12
         1 000163   000013 656010 xsym               ERSQ    AC_TBL+11,X0

      245     2206    1          MOD(ATBLK_PG.HIGH_DBK-ATBLK_PG.LOW_DBK+1,ATBLK_PG.LINE_INFO.LPP);
      246     2207    1       IF AC_TBL.LNLP(AC_PTR)=0 THEN

   2207  1 000164   000013 236010 xsym               LDQ     AC_TBL+11,X0
         1 000165   000014 316000 2                  CANQ    12
         1 000166   000174 601000 1                  TNZ     s:2209

      247     2208    1           AC_TBL.LNLP(AC_PTR)=ATBLK_PG.LINE_INFO.LPP;

   2208  1 000167   000012 236100                    LDQ     10,,PR0
         1 000170   000011 736000                    QLS     9
         1 000171   000013 676010 xsym               ERQ     AC_TBL+11,X0
         1 000172   000014 376000 2                  ANQ     12
         1 000173   000013 656010 xsym               ERSQ    AC_TBL+11,X0

      248     2209    1       RETURN;

PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:63   
   2209  1 000174   000000 702200 xent               TSX2  ! X66_ARET

      249     2210    1   ALT: ALTRETURN;

   2210  1 000175   000000 702200 xent  ALT          TSX2  ! X66_AALT

(unnamed)
 Sect OctLoc
   2     000   000001 000000   000234 006000   000000 000000   000000 006003    ................
   2     004   000000 021676   000004 006000   000003 000000   000000 000037    ................
   2     010   000000 000001   000007 006000   000002 006000   000010 006000    ................
   2     014   000001 777000                                                    ....
      250     2211    1   END OPEN_AREA;
      251     2212
      252     2213        %EOD;

PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:64   
--  Include file information  --

   CP_6_SUBS.:LIB_E05  is referenced.
   ZI_ERRORS_SUBS.:ZIC0TOU  is referenced.
   ZI$DIR.:ZIC0TOU  is referenced.
   ZI_GLOBAL_DBUTIL.:ZIC0TOU  is referenced.
   ZI_DBU_XREF.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZI$PG_STRUCTS.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure OPEN_AREA.

   Procedure OPEN_AREA requires 126 words for executable code.
   Procedure OPEN_AREA requires 6 words of local(AUTO) storage.
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:65   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:66   
          MINI XREF LISTING

ACSSF
       626**DCL      2176<<ASSIGN
AC_PTR
       412**DCL      2179>>ASSIGN   2181>>ASSIGN   2193>>IF       2194>>ASSIGN   2196>>IF       2198>>ASSIGN
      2200>>ASSIGN   2202>>ASSIGN   2204>>ASSIGN   2205>>ASSIGN   2207>>IF       2208>>ASSIGN
AC_TBL.DCB#
       427**DCL      2181<<ASSIGN
AC_TBL.LNLP
       425**DCL      2205<<ASSIGN   2207>>IF       2208<<ASSIGN
AC_TBL.NAME
       421**DCL      2179>>ASSIGN
AC_TBL.NUM_DBPG
       420**DCL      2202<<ASSIGN   2204<<ASSIGN
AC_TBL.RANGE_HIGH
       419**DCL      2194<<ASSIGN   2196>>IF       2198<<ASSIGN   2200<<ASSIGN
AC_TBL.RANGE_LOW
       418**DCL      2193>>IF
ALT
      2210**LABEL    2180--CALLALT  2184--CALLALT  2191--CALLALT
ASNSF
       629**DCL      2175<<ASSIGN
ATBLK$
       122**DCL       123--IMP-PTR  2192<<ASSIGN   2193>>IF       2196>>IF       2197>>IF       2198>>ASSIGN
      2200>>ASSIGN   2201>>IF       2202>>ASSIGN   2204>>ASSIGN   2205>>ASSIGN   2205>>ASSIGN   2205>>ASSIGN
      2208>>ASSIGN
ATBLK_PG.AREA_NM
       148**DCL       149--REDEF
ATBLK_PG.FIR_INV_PGNO
       145**DCL      2197>>IF       2198>>ASSIGN   2201>>IF       2202>>ASSIGN
ATBLK_PG.HIGH_DBK
       147**DCL      2205>>ASSIGN
ATBLK_PG.LINE_INFO.LPP
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:67   
       143**DCL      2205>>ASSIGN   2208>>ASSIGN
ATBLK_PG.LOW_DBK
       146**DCL      2205>>ASSIGN
ATBLK_PG.NUM_DBPG
       130**DCL      2193>>IF       2196>>IF       2200>>ASSIGN   2204>>ASSIGN
ATBLK_PG.STATUS
       157**DCL       165--REDEF
COUNTSF
       688**DCL       689--REDEF
DATA$
       178**DCL       179--IMP-PTR
DATA_PG.ACT_DATA
       191**DCL       192--REDEF     193--REDEF     194--REDEF
DCBSF
       617**DCL      2182<<ASSIGN   2185--IF
ENCRP_SEEDSF
       646**DCL       647--REDEF
ERRCODESF
       648**DCL       653--REDEF
ERROR_MSG
        13**DCL-ENT  2187--CALL
F$DCB.ACTPOS
      1087**DCL      1087--REDEF
F$DCB.ARS#
      1061**DCL      1061--REDEF
F$DCB.ATTR
      1080**DCL      1081--REDEF
F$DCB.BORROW
      1095**DCL      1095--REDEF    1095--REDEF    1095--REDEF
F$DCB.DCBNAME.L
      1109**DCL      1109--IMP-SIZ
F$DCB.EOMCHAR#
      1065**DCL      1065--REDEF
F$DCB.FLDID
      1090**DCL      1090--REDEF
F$DCB.FORM$
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:68   
      1084**DCL      1084--REDEF
F$DCB.FSECT
      1100**DCL      1100--REDEF
F$DCB.FSN#
      1077**DCL      1077--REDEF    1077--REDEF    1078--REDEF
F$DCB.HEADER$
      1083**DCL      1083--REDEF
F$DCB.IXTNSIZE#
      1081**DCL      1081--REDEF
F$DCB.LASTSTA$
      1070**DCL      1070--REDEF
F$DCB.LVL
      1096**DCL      1096--REDEF
F$DCB.NAME#.C
      1071**DCL      1071--REDEF
F$DCB.NOEOF
      1093**DCL      1093--REDEF
F$DCB.NRECS#
      1082**DCL      1082--REDEF
F$DCB.NRECX
      1101**DCL      1101--REDEF
F$DCB.OHDR
      1093**DCL      1093--REDEF
F$DCB.ORG#
      1076**DCL      1076--REDEF    2185>>IF
F$DCB.PRECNO
      1099**DCL      1099--REDEF
F$DCB.RCSZ
      1105**DCL      1105--REDEF
F$DCB.RES#
      1072**DCL      1072--REDEF
F$DCB.SETX
      1084**DCL      1084--REDEF
F$DCB.TAB$
      1084**DCL      1084--REDEF
F$DCB.TDA
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:69   
      1098**DCL      1099--REDEF
F$DCB.WSN#
      1072**DCL      1072--REDEF
FIDSF
       665**DCL      2183<<ASSIGN
FIDSF_RD
       664**DCL       665--REDEF
FUNSF
       628**DCL      2173<<ASSIGN
GET_DCB
        14**DCL-ENT  2180--CALL
HELPCODE
       682**DCL       687--REDEF
ICHKSUM
       747**DCL       748--REDEF
I_O_BUF
       726**DCL      2192--ASSIGN
I_O_BUF$
       725**DCL       726--IMP-PTR  2192>>ASSIGN
KEYVSF
       620**DCL       625--REDEF
KEYVSF.WD_ONE
       622**DCL       623--REDEF
KEY_TBL.EIS
       404**DCL       405--REDEF
MSGCODE
       654**DCL       655--REDEF
RC_TBL.NXPNT_EIS
       387**DCL       388--REDEF
READ_DB
        16**DCL-ENT  2191--CALL
REASGNSF
       672**DCL      2178<<ASSIGN
REC$
       706**DCL       729--IMP-PTR
REC_DATA_LN
PL6.E3A0      #004=OPEN_AREA File=ZIU$PA_ROOT.:ZIC0TSI                           FRI 09/05/97 13:19 Page:70   
       734**DCL       733--IMP-SIZ
SC_TBL.KEY_PTR
       381**DCL       382--REDEF
SHARESF
       668**DCL      2174<<ASSIGN
SYS_FUNC_OPEN
        15**DCL-ENT  2184--CALL
TESTSF
       630**DCL      2177<<ASSIGN
WAITSF
       633**DCL      2190<<ASSIGN
ZI$DIR.ALTKEY
       981**DCL       982--REDEF     983--REDEF
ZI$DIR.AREAFID
       947**DCL       948--REDEF
ZI$DIR.AREA_NM
      1010**DCL      2180<>CALL
ZI$DIR.AREA_NM.DCB#
      1014**DCL      2181>>ASSIGN   2182>>ASSIGN
ZI$DIR.AREA_NM.NAME.TEXT
      1013**DCL      2179<<ASSIGN   2183>>ASSIGN
ZI$DIR.DATE
       986**DCL       990--REDEF
ZI$DIR.DEST_SEED
       942**DCL       943--REDEF     944--REDEF
ZI$DIR.ENCP_SEED
       939**DCL       940--REDEF     941--REDEF
ZI$DIR.REPRT_ZERO
       973**DCL       974--REDEF
ZI$DIR.SCHFID
       945**DCL       946--REDEF
ZI$DIR.TIME
       991**DCL       996--REDEF

PL6.E3A0      #005=READ_DB File=ZIU$PA_ROOT.:ZIC0TSI                             FRI 09/05/97 13:19 Page:71   
      253        1        /*T***********************************************************/
      254        2        /*T*                                                         */
      255        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      256        4        /*T*                                                         */
      257        5        /*T***********************************************************/
      258        6        /*
      259        7              SUBR   READ_DB   READ DB BY GIVING BUF KEY AND SIZE
      260        8        */
      261        9        READ_DB: PROC(BUF,KEY,SIZ) ALTRET NOAUTO;
      262       10
      263       11    1   DCL BUF UBIN ALIGNED;
      264       12    1   DCL KEY UBIN ALIGNED;
      265       13    1   DCL SIZ UBIN ALIGNED;
      266       14
      267       15    1   DCL SYS_FUNC_READ ENTRY ALTRET;
      268       16        %INCLUDE ZI_GLOBAL_DBUTIL;
      269      194         %SYS_FUNC;
      270      286         %MISC_DCLS;
      271      339        %EQU YES# = '1'B;
      272      340
      273      341    1       FULLSF = %YES#;
      274      342    1       WAITSF = %YES#; /* ALL READS ARE WAITED UNTIL DONE */
      275      343    1       KEYSF = %YES#;
      276      344    1       BUFSF = VECTOR(I_O_BUF(BUF));
      277      345    1       BUFLNSF = 4096*SIZ; /* # OF PAGES TO READ AT A TIME */
      278      346    1       KEYVSF.LEN = 4;
      279      347    1       KEYVSF.IDSKEY = KEY;
      280      348    1       CALL SYS_FUNC_READ ALTRET(ALT);
      281      349    1       RETURN;
      282      350    1   ALT: ALTRETURN;
      283      351    1   END READ_DB;

PL6.E3A0      #005=READ_DB File=ZIU$PA_ROOT.:ZIC0TSI                             FRI 09/05/97 13:19 Page:72   
--  Include file information  --

   ZI_GLOBAL_DBUTIL.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure READ_DB.

   Procedure READ_DB requires 32 words for executable code.
   Procedure READ_DB is declared NOAUTO and requires 4 words of local(STATIC) storage.

    No errors detected in file ZIU$PA_ROOT.:ZIC0TSI    .

PL6.E3A0      #005=READ_DB File=ZIU$PA_ROOT.:ZIC0TSI                             FRI 09/05/97 13:19 Page:73   

 Object Unit name= READ_DB                                    File name= ZIU$PA_ROOT.:ZIC0TOU
 UTS= SEP 05 '97 13:19:19.76 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none     4      4  READ_DB
    1   DCB   even  none     0      0  M$LO
    2   Proc  even  none    32     40  READ_DB
    3  RoData even  none     2      2  READ_DB

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes    yes     yes      Std        3  READ_DB

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       0 SYS_FUNC_READ
                       nStd      0 X66_STATIC_3
PL6.E3A0      #005=READ_DB File=ZIU$PA_ROOT.:ZIC0TSI                             FRI 09/05/97 13:19 Page:74   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     BLKLSF                                KEYLSF                                KEYXSF
     DCBSF                                 ORGSF                                 KEYSF
     KEYVSF                                ACSSF                                 NOTIMESF
     FUNSF                                 ASNSF                                 TESTSF
     XTENSIZESF                            DISPSF                                WAITSF
     VFCSF                                 FULLSF                                BKUPSF
     BUFLNSF                               BUFSF                                 SOURCESF
     DESTSF                                DATESF                                TIMESF
     UTSSF                                 DAYSF                                 TSTAMPSF
     ENCRP_SEEDSF                          ERRCODESF                             MSGCODE
     INCL_ERR                              ERR_INSERT                            FIDSF_RD
     ACNT                                  EXISTSF                               SHARESF
     DCBNMSF                               KEYRSF                                NO_KEYSF
     REASGNSF                              CARRY_ATTRIBUTESF                     SUBMESSF
     SPKY_OPNSF                            POSSF                                 ERRFLGSF
     MERGESF                               FSA_FLAG                              RELGSF
     UNUSED                                HELPCODE                              COUNTSF
     INDEXSF                               GAP                                   PSNSF
     ACNTSF                                KEY_SHADWSF                           REC$
     RB                                    RE                                    IE
     IB                                    CNT                                   ICNT
     RCNT                                  SCNT                                  FIRST_SET
     RETCNT                                DMPCNT                                KCNT
     ACNT_IDX                              I                                     J
     K                                     X                                     STEPCC
     I_O_BUF$                              OUT_INDX                              I_O_SIZE
     REC_DATA_LN                           M$LO                                  B$TCB$
     B$ROS$                                B$JIT$                                KEYFID
     I_O_KEY                               RESTART                               BREAK_FLAG
     ICHKSUM                               ITMCNT                                GAP1
PL6.E3A0      #005=READ_DB File=ZIU$PA_ROOT.:ZIC0TSI                             FRI 09/05/97 13:19 Page:75   


      253        1        /*T***********************************************************/
      254        2        /*T*                                                         */
      255        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      256        4        /*T*                                                         */
      257        5        /*T***********************************************************/
      258        6        /*
      259        7              SUBR   READ_DB   READ DB BY GIVING BUF KEY AND SIZE
      260        8        */
      261        9        READ_DB: PROC(BUF,KEY,SIZ) ALTRET NOAUTO;

      9  2 000000   000000 700200 xent  READ_DB      TSX0  ! X66_STATIC_3
         2 000001   000000 000003 0                  ZERO    0,3

      262       10
      263       11    1   DCL BUF UBIN ALIGNED;
      264       12    1   DCL KEY UBIN ALIGNED;
      265       13    1   DCL SIZ UBIN ALIGNED;
      266       14
      267       15    1   DCL SYS_FUNC_READ ENTRY ALTRET;
      268       16        %INCLUDE ZI_GLOBAL_DBUTIL;
      269      194         %SYS_FUNC;
      270      286         %MISC_DCLS;
      271      339        %EQU YES# = '1'B;
      272      340
      273      341    1       FULLSF = %YES#;

    341  2 000002   400000 236003                    LDQ     -131072,DU
         2 000003   000000 756000 xsym               STQ     FULLSF

      274      342    1       WAITSF = %YES#; /* ALL READS ARE WAITED UNTIL DONE */

    342  2 000004   000000 756000 xsym               STQ     WAITSF

      275      343    1       KEYSF = %YES#;

    343  2 000005   000000 756000 xsym               STQ     KEYSF
PL6.E3A0      #005=READ_DB File=ZIU$PA_ROOT.:ZIC0TSI                             FRI 09/05/97 13:19 Page:76   

      276      344    1       BUFSF = VECTOR(I_O_BUF(BUF));

    344  2 000006   000001 470400 0                  LDP0    @BUF
         2 000007   000000 235100                    LDA     0,,PR0
         2 000010   000012 735000                    ALS     10
         2 000011   000000 620005                    EAX0    0,AL
         2 000012   000000 235000 3                  LDA     0
         2 000013   000000 636010                    EAQ     0,X0
         2 000014   000000 036000 xsym               ADLQ    I_O_BUF$
         2 000015   000000 755000 xsym               STA     BUFSF
         2 000016   000001 756000 xsym               STQ     BUFSF+1

      277      345    1       BUFLNSF = 4096*SIZ; /* # OF PAGES TO READ AT A TIME */

    345  2 000017   000003 471400 0                  LDP1    @SIZ
         2 000020   100000 235100                    LDA     0,,PR1
         2 000021   000014 735000                    ALS     12
         2 000022   000000 755000 xsym               STA     BUFLNSF

      278      346    1       KEYVSF.LEN = 4;

    346  2 000023   004000 236003                    LDQ     2048,DU
         2 000024   000000 552040 xsym               STBQ    KEYVSF,'40'O

      279      347    1       KEYVSF.IDSKEY = KEY;

    347  2 000025   000002 473400 0                  LDP3    @KEY
         2 000026   000000 100500                    MLR     fill='000'O
         2 000027   300000 000004                    ADSC9   0,,PR3                   cn=0,n=4
         2 000030   000000 200004 xsym               ADSC9   KEYVSF                   cn=1,n=4

      280      348    1       CALL SYS_FUNC_READ ALTRET(ALT);

    348  2 000031   000001 631400 3                  EPPR1   1
         2 000032   000000 701000 xent               TSX1    SYS_FUNC_READ
         2 000033   000036 702000 2                  TSX2    ALT
PL6.E3A0      #005=READ_DB File=ZIU$PA_ROOT.:ZIC0TSI                             FRI 09/05/97 13:19 Page:77   

      281      349    1       RETURN;

    349  2 000034   000000 221200 0                  LDX1  ! 0
         2 000035   000001 702211                    TSX2  ! 1,X1

      282      350    1   ALT: ALTRETURN;

    350  2 000036   000000 221200 0     ALT          LDX1  ! 0
         2 000037   000000 702211                    TSX2  ! 0,X1

(unnamed)
 Sect OctLoc
   3     000   001777 777640   000000 000000                                    ........
      283      351    1   END READ_DB;

PL6.E3A0      #005=READ_DB File=ZIU$PA_ROOT.:ZIC0TSI                             FRI 09/05/97 13:19 Page:78   
--  Include file information  --

   ZI_GLOBAL_DBUTIL.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure READ_DB.

   Procedure READ_DB requires 32 words for executable code.
   Procedure READ_DB is declared NOAUTO and requires 4 words of local(STATIC) storage.

    No errors detected in file ZIU$PA_ROOT.:ZIC0TSI    .
PL6.E3A0      #005=READ_DB File=ZIU$PA_ROOT.:ZIC0TSI                             FRI 09/05/97 13:19 Page:79   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #005=READ_DB File=ZIU$PA_ROOT.:ZIC0TSI                             FRI 09/05/97 13:19 Page:80   
          MINI XREF LISTING

ALT
       350**LABEL     348--CALLALT
BUF
        11**DCL         9--PROC      344>>ASSIGN
BUFLNSF
       224**DCL       345<<ASSIGN
BUFSF
       225**DCL       344<<ASSIGN
COUNTSF
       275**DCL       276--REDEF
ENCRP_SEEDSF
       233**DCL       234--REDEF
ERRCODESF
       235**DCL       240--REDEF
FIDSF_RD
       251**DCL       252--REDEF
FULLSF
       222**DCL       341<<ASSIGN
HELPCODE
       269**DCL       274--REDEF
ICHKSUM
       334**DCL       335--REDEF
I_O_BUF
       313**DCL       344--ASSIGN
I_O_BUF$
       312**DCL       313--IMP-PTR   344>>ASSIGN
KEY
        12**DCL         9--PROC      347>>ASSIGN
KEYSF
       206**DCL       343<<ASSIGN
KEYVSF
       207**DCL       212--REDEF
PL6.E3A0      #005=READ_DB File=ZIU$PA_ROOT.:ZIC0TSI                             FRI 09/05/97 13:19 Page:81   
KEYVSF.IDSKEY
       210**DCL       347<<ASSIGN
KEYVSF.LEN
       208**DCL       346<<ASSIGN
KEYVSF.WD_ONE
       209**DCL       210--REDEF
MSGCODE
       241**DCL       242--REDEF
REC$
       293**DCL       316--IMP-PTR
REC_DATA_LN
       321**DCL       320--IMP-SIZ
SIZ
        13**DCL         9--PROC      345>>ASSIGN
SYS_FUNC_READ
        15**DCL-ENT   348--CALL
WAITSF
       220**DCL       342<<ASSIGN

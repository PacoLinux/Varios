
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:1    
        1        1        /*M* ZIG$BLDSI        I-D-S/II            DBACS    */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*P*
        8        8        NAME:    ZIG$BLDSI
        9        9        PURPOSE: TO CONNECT ALL THE SI RECORDS IN THE SUBSCHEMA THAT
       10       10                 HAVE LOCK ASSOCATED WITH THEM FOR PRIVACY CHECKING.
       11       11        */
       12       12        /*D*     NAME:     LOCKLIST
       13       13                      THIS BASED STUCTURE CONTAINS ALL THE NAMES OF THE
       14       14                      SN RECORDS THAT ARE LOCKED AND THE DBK AND THE TYPE
       15       15                      OF RECORD THAT THE SN RECORD OWNS.
       16       16        */
       17       17        /*D*     NAME:      LOCKPTR$
       18       18                      THIS EXTERNAL PTR POINTES TO WERE THE STUCTURE
       19       19                      LOCKLIST STARTS. IT POINTS TO A LOCATION IN DYNAMIC
       20       20                      MEMORY.
       21       21        */
       22       22        /*D*     NAME:      LOCKCOUNT
       23       23                      IS A COUNT OF HOW MANY ITEM HAVE LOCKS ASSOCATED
       24       24                      WITH THEM (THE ARRAY SIZE OF LOCKLIST).
       25       25        */
       26       26        ZIG$BLDSI:
       27       27            PROC;
       28       28    1   DCL READSF ENTRY (2);
       29       29    1   DCL ERROR_FLG UBIN (36) STATIC;
       30       30    1   DCL SI_DBK_PTR$ PTR STATIC;
       31       31    1   DCL SI_DBK (0:0) UBIN (36) BASED (SI_DBK_PTR$);
       32       32    1   DCL X UBIN (36);
       33       33    1   DCL STORE_AD SBIN (36) EXT;
       34       34    1   DCL SN_DBK UBIN (36) EXT;
       35       35    1   DCL SN_DBK_CHAR REDEF SN_DBK CHAR (4);
       36       36    1   DCL FLAG_LOCK BIT (1) STATIC;
       37       37    1   DCL LOCK_VALUE SBIN (36);
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:2    
       38       38    1   DCL FIRST BIT (1) STATIC;
       39       39    1   DCL LIST_STRING CHAR (128) EXT;
       40       40    1   DCL 1 BAS BASED,
       41       41    1         2 WORD1 UBIN (36),
       42       42    1         2 WORD2 UBIN (36);
       43       43    1   DCL ALIASED BIT (1);
       44       44    1   DCL PLACE SBIN (36);
       45       45    1   DCL LOCKPTR$ PTR EXT;
       46       46    1   DCL 1 LOCKLIST (0:0) BASED (LOCKPTR$),
       47       47    1         2 DBK SBIN (36);
       48       48    1   DCL LOCK_CHAR CHAR(LOCK_COUNT_CHAR) BASED (LOCKPTR$);
       49       49    1   DCL LOCK_COUNT_CHAR UBIN (36) STATIC;
       50       50    1   DCL LOCKCOUNT SBIN (36) EXT;
       51       51    1   DCL I SBIN (36);
       52       52    1   DCL SUBHEAD_V_DONE CHAR (64) CONSTANT INIT
       53       53    1    ('VALIDATION SCHEMA PHASE ');
       54       54        %EJECT;
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:3    
       55       55        %INCLUDE ZI_SUB_LANG;
       56     1770        %CONTROL_BLOCK;
       57     1878    1   DCL IO_BUF CHAR (128) EXT;
       58     1879        %DESC_TYPE_9(STCLASS="REDEF IO_BUF");
       59     2056        %DESC_TYPE_100(STCLASS="REDEF IO_BUF");
       60     2096        %DESC_TYPE_200(STCLASS="REDEF IO_BUF");
       61     2149        %DESC_TYPE_300(STCLASS="REDEF IO_BUF");
       62     2218        %DESC_TYPE_350(STCLASS="REDEF IO_BUF");
       63     2256        %DESC_TYPE_400(STCLASS="REDEF IO_BUF");
       64     2315        %DESC_TYPE_430(STCLASS="REDEF IO_BUF");
       65     2474        %GENERAL;
       66     2598        %INCLUDE ZIG_SSS;
       67     3168        %OA;
       68     3235        %OA1;
       69     3243        %EJECT;
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:4    
       70     3244        %INCLUDE ZIG_DIR_STRUCS;
       71     3374        %INCLUDE ZI_ERRORS_SUBS;
       72     3894        %INCLUDE ZIG_GENERAL;
       73     4002        %INCLUDE ZIG_DBA_INT;
       74     4050        %INCLUDE ZI_SUB4_CAN;
       75     4707        %UWA;
       76     5042        %EJECT;
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:5    
       77     5043    1   FIND_RECORD_LOCKS:
       78     5044    1       PROC;
       79     5045    2       CALL INDEX(PLACE,SN_DBK_CHAR,LOCK_CHAR) ALTRET(NO_LOCK);
       80     5046    2       PLACE = PLACE/4;
       81     5047    2       CALL FETCHD_6('SI  ',SI_DBK(PLACE)) ALTRET (DBCS_ERR);
       82     5048    2       SI_DBK(PLACE) = 0;
       83     5049    2       FLAG_LOCK='1'B;
       84     5050    2   NO_LOCK:
       85     5051    2       RETURN;
       86     5052    2   DBCS_ERR:
       87     5053    2       CALL ABORT;
       88     5054    2   END;
       89     5055    1       FLAG_LOCK='0'B;
       90     5056         /* This proc will build an as element for the given
       91     5057         ss and a si element for each area,record and set of
       92     5058         the ss. */
       93     5059    1   ZIG$INIT_AS:
       94     5060    1       ENTRY;
       95     5061    1       LOCK_COUNT_CHAR = LOCKCOUNT * 4;
       96     5062    1       CALL FETCHD_6('SF  ', 2) ALTRET (DBCS_ERR);
       97     5063    1       CALL FETCHD_6('DA  ', UWA.SF.DBKEY_DA) ALTRET (DBCS_ERR);
       98     5064         /* Open subschema file */
       99     5065    1       UWA.AS.SS_NAME = CONTROL.SUBSCHEMA_NAME;
      100     5066    1       CALL FETCHC_6('AS  ') ALTRET (BLDAS);
      101     5067    1       CALL CONCAT(LIST_STRING,'REVALIDATION OF SUB-SCHEMA ',UWA.AS.SS_NAME);
      102     5068    1       CALL LIST(LIST_STRING);
      103     5069         /* Erase existing as structure */
      104     5070    1       CALL ERASE_6('AS  ') ALTRET (DBCS_ERR);
      105     5071         /* Establish currency */
      106     5072    1       CALL FCURR_R_6('SF  ') ALTRET (DBCS_ERR);
      107     5073    1   BLDAS:
      108     5074         /**
      109     5075            Build an 'AS' active subschema
      110     5076            descriptor from data obtained
      111     5077            from the subschema file header
      112     5078            rec
      113     5079            */
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:6    
      114     5080    1       ADDR(UWA.AS.SS_TRAN) -> BAS.WORD1 = CONTROL.SUBSCHEMA_UTS;
      115     5081    1       UWA.AS.SS_LANG = CONTROL.LANGUAGE;
      116     5082    1       ADDR(UWA.AS.SS_DATE) -> BAS.WORD1 = 0;
      117     5083    1       ADDR(UWA.AS.SS_TIME) -> BAS.WORD1 = CONTROL.VALIDATION_UTS;
      118     5084    1       CALL STRE_6('AS  ') ALTRET (DBCS_ERR);
      119     5085    1       UWA.A_D.AD_IDENT = ' ';
      120     5086    1       UWA.SI.EXCLUDE=0;
      121     5087    1       UWA.SI.LOCKED=0;
      122     5088    1       UWA.SI.LI_NE=0;
      123     5089    1       UWA.SI.SETYPE=0;
      124     5090    1       UWA.SI.BINDCD=0;
      125     5091    1       FIRST='1'B;
      126     5092    1       ALLOCATE_END = 1;
      127     5093    1       CALL ZIG$G_DYN_MEM_6(LOCKCOUNT,SI_DBK_PTR$);
      128     5094    1       ALLOCATE_END = 0;
      129     5095    2       DO X=0 TO LOCKCOUNT - 1;
      130     5096    2           CALL FETCHD_6('SN  ',LOCKLIST.DBK(X)) ALTRET (DBCS_ERR);
      131     5097    2           CALL STRE_6('SI  ') ALTRET (DBCS_ERR);
      132     5098    2           SI_DBK(X)=UWA.DIRECT_REF;
      133     5099    2           CALL CONNECT_6('SN-SI   ') ALTRET (DBCS_ERR);
      134     5100    2           END;
      135     5101    1       RETURN; /* End of ZIG$INIT_AS */
      136     5102    1   ZIG$ADD_SI:
      137     5103    1       ENTRY;
      138     5104    1       FLAG_LOCK = '0'B;
      139     5105    1       CALL FIND_RECORD_LOCKS;
      140     5106    1       IF TYPE_200.TYPE = 200
      141     5107    2       THEN DO;
      142     5108    2           ALIASED = TYPE_200.AREA_BITS.ALIASED;
      143     5109    2           END;
      144     5110    2       ELSE DO;
      145     5111    2           ALIASED = TYPE_430.ALIASED;
      146     5112    2           END;
      147     5113         /*      Build si */
      148     5114    1       UWA.SI.LI_NE = TYPE_200.SOUR_LINE;
      149     5115    1       UWA.SI.SETYPE = TYPE_200.TYPE;
      150     5116         /* Build bindcd in format reqd by ready routine
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:7    
      151     5117         dbckp */
      152     5118    1       X = TYPE_200.TYPE/10;
      153     5119    1       IF X = 35 THEN X = 30;
      154     5120    1       IF X = 43 THEN X = 50;
      155     5121    1       X =(X/10 - 2)*262144;
      156     5122         /* Binding cd is type in upper and byte offset in lower */
      157     5123    1       UWA.SI.BINDCD = X + TYPE_200.ID_NUM;
      158     5124         /* Record binding cd is in nibbles so add in again */
      159     5125    1       IF TYPE_200.TYPE = 400 /* RECORD */
      160     5126    1       THEN UWA.SI.BINDCD = UWA.SI.BINDCD + TYPE_200.ID_NUM;
      161     5127    1       IF TYPE_200.TYPE = 430 /* ITEM */
      162     5128         /* Ditto for fields except when offset already in nibbles */
      163     5129    1       THEN IF TYPE_430.DATA_TYPE < 3 OR TYPE_430.DATA_TYPE > 5 THEN
      164     5130         /* Dtype 3,4 and 5 are packed dec data types, in nibbles */
      165     5131    1               UWA.SI.BINDCD = UWA.SI.BINDCD + TYPE_200.ID_NUM;
      166     5132    1       IF ALIASED
      167     5133    1       THEN UWA.SI.A_LIAS = 1;
      168     5134    1       ELSE UWA.SI.A_LIAS = 0;
      169     5135    1       UWA.SI.LOCKED=0;
      170     5136    1       UWA.SI.EXCLUDE = 0;
      171     5137    1       IF FLAG_LOCK
      172     5138    2       THEN DO;
      173     5139    2           UWA.SI.LOCKED = UWA.SN.ACTLCKS;
      174     5140    2           FLAG_LOCK='0'B;
      175     5141    2           CALL MODIFY_6('SI  ') ALTRET (DBCS_ERR);
      176     5142    2           END;
      177     5143    2       ELSE DO;
      178     5144    2           IF FIRST
      179     5145    3           THEN DO;
      180     5146    3               UWA.SI.EXCLUDE=1;
      181     5147    3               FIRST='0'B;
      182     5148    3               END;
      183     5149    2           CALL STRE_6('SI  ') ALTRET (DBCS_ERR);
      184     5150    2           CALL CONNECT_6('SN-SI   ') ALTRET (DBCS_ERR);
      185     5151    2           END;
      186     5152    1       IF UWA.SI.A_LIAS = 1
      187     5153    2       THEN DO;
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:8    
      188     5154    2           UWA.AL.ANAME = TYPE_200.SUB_AREA_NAME;
      189     5155    2           UWA.AL.DBKEY_SI = UWA.DIRECT_REF;
      190     5156    2           CALL STRE_6('AL  ') ALTRET (DBCS_ERR);
      191     5157    2           END;
      192     5158    1       RETURN; /* ZIG$ADD_SI */
      193     5159    1   ZIG$FIN_AS:
      194     5160    1       ENTRY;
      195     5161    1       CALL SUBLST(SUBHEAD_V_DONE);
      196     5162    1       CALL FETCHD_6('A-D ',STORE_AD) ALTRET(DBCS_ERR);
      197     5163    1       CALL CONCAT(UWA.A_D.AD_IDENT,'VALIDATION WAS SUCCESSFUL FOR ',VALIDS.SSNAME,'.')
              5163                ;
      198     5164    1       CALL MODIFY_6('A-D ') ALTRET(DBCS_ERR);
      199     5165    2       DO X=0 TO LOCKCOUNT - 1;
      200     5166    2           IF SI_DBK(X) ~= 0
      201     5167    3           THEN DO;
      202     5168    3               CALL FETCHD_6('SI  ',SI_DBK(X)) ALTRET (DBCS_ERR);
      203     5169    3               CALL DISCONNECT_6('SN-SI   ') ALTRET (DBCS_ERR);
      204     5170    3               CALL ERASE_6('SI  ') ALTRET (DBCS_ERR);
      205     5171    3               END;
      206     5172        /*  Remove all si records than are not used in the subschema */
      207     5173    2           END;
      208     5174    1       RETURN;
      209     5175         /* * */
      210     5176    1   DBCS_ERR:
      211     5177    1       CALL ABORT;
      212     5178    1   END ZIG$BLDSI;

PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:9    
--  Include file information  --

   ZI_SUB4_CAN.:ZIC0TOU  is referenced.
   ZIG_DBA_INT.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZIG_GENERAL.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZI_ERRORS_SUBS.:ZIC0TOU  is referenced.
   ZIG_DIR_STRUCS.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZIG_SSS.:ZIC0TOU  is referenced.
   ZI_SUB_LANG.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure ZIG$BLDSI.

   Procedure ZIG$BLDSI requires 289 words for executable code.
   Procedure ZIG$BLDSI requires 14 words of local(AUTO) storage.

    No errors detected in file ZIG$BLDSI.:ZIC0TSI    .

PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:10   

 Object Unit name= ZIG$BLDSI                                  File name= ZIG$BLDSI.:ZIC0TOU
 UTS= SEP 05 '97 11:42:44.48 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none     5      5  ZIG$BLDSI
    1  LblCom even  none     1      1  STORE_AD
    2  LblCom even  none     1      1  SN_DBK
    3  LblCom even  none    32     40  LIST_STRING
    4  LblCom even  none     1      1  LOCKPTR$
    5  LblCom even  none     1      1  LOCKCOUNT
    6  RoData even  UTS     40     50  ZIG$BLDSI
    7  LblCom even  none    64    100  CONTROL
    8  LblCom even  none    32     40  IO_BUF
    9  LblCom even  none     5      5  LANG_ALLOWED
   10  LblCom even  none     1      1  SUB_LANGUAGE
   11  LblCom even  none    16     20  HEADING_TEXT
   12  LblCom even  none    13     15  LANG_TEXT
   13  LblCom even  none     1      1  HASH_SCHEMA_NAME
   14  LblCom even  none     1      1  CURRENT_RECORD
   15  LblCom even  none    12     14  ANALS
   16  LblCom even  none    13     15  PURGE
   17  LblCom even  none    19     23  DICTS
   18  LblCom even  none    23     27  DISPS
   19  LblCom even  none    22     26  VALIDS
   20  LblCom even  none    12     14  LOCKS
   21  LblCom even  none    10     12  STRAN
   22  LblCom even  none    12     14  DTRAN
   23  LblCom even  none    16     20  SSTRANS
   24  LblCom even  none    20     24  SSGEN
   25  LblCom even  none     1      1  NUM_ERROR_MSG
   26  LblCom even  none     1      1  NUM_WARN_MSG
   27  LblCom even  none     1      1  ALLOCATE_END
   28  LblCom even  none     2      2  SUBSCHEMA_KEY
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:11   
   29  LblCom even  none     1      1  BUFFER$
   30  LblCom even  none     1      1  ERROR_IO
   31  LblCom even  none     1      1  BUFFER_LEN
   32  LblCom even  none     2      2  UWA_KEY
   33  LblCom even  none     1      1  NEXT_UWA_SECOND_HALF
   34  LblCom even  none     2      2  RVA_KEY
   35  LblCom even  none     2      2  IA__KEY
   36  LblCom even  none     1      1  NEXT_RVA_SECOND_HALF
   37  LblCom even  none    32     40  SEARCHR_NB
   38  LblCom even  none    32     40  SEM_COM
   39  LblCom even  none    32     40  DMCL_XLATE
   40  LblCom even  none    32     40  Q2_PERCENT
   41  LblCom even  none   656   1220  UWA
   42   Proc  even  none   289    441  ZIG$BLDSI
   43  RoData even  none    20     24  ZIG$BLDSI

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    42      0   yes            yes      Std        0  ZIG$BLDSI
    42     45                  yes      Std        0  ZIG$INIT_AS
    42    207                  yes      Std        0  ZIG$ADD_SI
    42    352                  yes      Std        0  ZIG$FIN_AS
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:12   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 FETCHD_6
 yes     yes           Std       1 FETCHC_6
 yes     yes           Std       1 ERASE_6
 yes     yes           Std       1 DISCONNECT_6
         yes           Std       1 LIST
 yes     yes           Std       1 STRE_6
 yes     yes           Std       1 FCURR_R_6
         yes           Std       2 ZIG$G_DYN_MEM_6
 yes     yes           Std       1 CONNECT_6
 yes     yes           Std       1 MODIFY_6
         yes           Std       2 SUBLST
         yes           Std       0 ABORT
                       nStd      0 X66_AUTO_0
                       nStd      0 X66_INDEX
                       nStd      0 X66_ARET

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:13   


        1        1        /*M* ZIG$BLDSI        I-D-S/II            DBACS    */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*P*
        8        8        NAME:    ZIG$BLDSI
        9        9        PURPOSE: TO CONNECT ALL THE SI RECORDS IN THE SUBSCHEMA THAT
       10       10                 HAVE LOCK ASSOCATED WITH THEM FOR PRIVACY CHECKING.
       11       11        */
       12       12        /*D*     NAME:     LOCKLIST
       13       13                      THIS BASED STUCTURE CONTAINS ALL THE NAMES OF THE
       14       14                      SN RECORDS THAT ARE LOCKED AND THE DBK AND THE TYPE
       15       15                      OF RECORD THAT THE SN RECORD OWNS.
       16       16        */
       17       17        /*D*     NAME:      LOCKPTR$
       18       18                      THIS EXTERNAL PTR POINTES TO WERE THE STUCTURE
       19       19                      LOCKLIST STARTS. IT POINTS TO A LOCATION IN DYNAMIC
       20       20                      MEMORY.
       21       21        */
       22       22        /*D*     NAME:      LOCKCOUNT
       23       23                      IS A COUNT OF HOW MANY ITEM HAVE LOCKS ASSOCATED
       24       24                      WITH THEM (THE ARRAY SIZE OF LOCKLIST).
       25       25        */
       26       26        ZIG$BLDSI:
       27       27            PROC;

     27 42 000000   000000 700200 xent  ZIG$BLDSI    TSX0  ! X66_AUTO_0
        42 000001   000016 000000                    ZERO    14,0
        42 000002   000043 710000 42                 TRA     s:5055

       28       28    1   DCL READSF ENTRY (2);
       29       29    1   DCL ERROR_FLG UBIN (36) STATIC;
       30       30    1   DCL SI_DBK_PTR$ PTR STATIC;
       31       31    1   DCL SI_DBK (0:0) UBIN (36) BASED (SI_DBK_PTR$);
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:14   
       32       32    1   DCL X UBIN (36);
       33       33    1   DCL STORE_AD SBIN (36) EXT;
       34       34    1   DCL SN_DBK UBIN (36) EXT;
       35       35    1   DCL SN_DBK_CHAR REDEF SN_DBK CHAR (4);
       36       36    1   DCL FLAG_LOCK BIT (1) STATIC;
       37       37    1   DCL LOCK_VALUE SBIN (36);
       38       38    1   DCL FIRST BIT (1) STATIC;
       39       39    1   DCL LIST_STRING CHAR (128) EXT;
       40       40    1   DCL 1 BAS BASED,
       41       41    1         2 WORD1 UBIN (36),
       42       42    1         2 WORD2 UBIN (36);
       43       43    1   DCL ALIASED BIT (1);
       44       44    1   DCL PLACE SBIN (36);
       45       45    1   DCL LOCKPTR$ PTR EXT;
       46       46    1   DCL 1 LOCKLIST (0:0) BASED (LOCKPTR$),
       47       47    1         2 DBK SBIN (36);
       48       48    1   DCL LOCK_CHAR CHAR(LOCK_COUNT_CHAR) BASED (LOCKPTR$);
       49       49    1   DCL LOCK_COUNT_CHAR UBIN (36) STATIC;
       50       50    1   DCL LOCKCOUNT SBIN (36) EXT;
       51       51    1   DCL I SBIN (36);
       52       52    1   DCL SUBHEAD_V_DONE CHAR (64) CONSTANT INIT
       53       53    1    ('VALIDATION SCHEMA PHASE ');
       54       54        %EJECT;
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:15   
       55       55        %INCLUDE ZI_SUB_LANG;
       56     1770        %CONTROL_BLOCK;
       57     1878    1   DCL IO_BUF CHAR (128) EXT;
       58     1879        %DESC_TYPE_9(STCLASS="REDEF IO_BUF");
       59     2056        %DESC_TYPE_100(STCLASS="REDEF IO_BUF");
       60     2096        %DESC_TYPE_200(STCLASS="REDEF IO_BUF");
       61     2149        %DESC_TYPE_300(STCLASS="REDEF IO_BUF");
       62     2218        %DESC_TYPE_350(STCLASS="REDEF IO_BUF");
       63     2256        %DESC_TYPE_400(STCLASS="REDEF IO_BUF");
       64     2315        %DESC_TYPE_430(STCLASS="REDEF IO_BUF");
       65     2474        %GENERAL;
       66     2598        %INCLUDE ZIG_SSS;
       67     3168        %OA;
       68     3235        %OA1;
       69     3243        %EJECT;
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:16   
       70     3244        %INCLUDE ZIG_DIR_STRUCS;
       71     3374        %INCLUDE ZI_ERRORS_SUBS;
       72     3894        %INCLUDE ZIG_GENERAL;
       73     4002        %INCLUDE ZIG_DBA_INT;
       74     4050        %INCLUDE ZI_SUB4_CAN;
       75     4707        %UWA;
       76     5042        %EJECT;
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:17   
       77     5043    1   FIND_RECORD_LOCKS:

   5043 42 000003   200012 741300       FIND_RECORD* STX1  ! OA1$+1,,AUTO

       78     5044    1       PROC;
       79     5045    2       CALL INDEX(PLACE,SN_DBK_CHAR,LOCK_CHAR) ALTRET(NO_LOCK);

   5045 42 000004   200006 631500                    EPPR1   PLACE,,AUTO
        42 000005   000000 633400 2                  EPPR3   SN_DBK
        42 000006   000004 223003                    LDX3    4,DU
        42 000007   000000 470400 4                  LDP0    LOCKPTR$
        42 000010   000004 720000 0                  LXL0    LOCK_COUNT_CHAR
        42 000011   000000 236003                    LDQ     0,DU
        42 000012   000000 701000 xent               TSX1    X66_INDEX
        42 000013   000034 710000 42                 TRA     NO_LOCK

       80     5046    2       PLACE = PLACE/4;

   5046 42 000014   200006 236100                    LDQ     PLACE,,AUTO
        42 000015   000004 506007                    DIV     4,DL
        42 000016   200006 756100                    STQ     PLACE,,AUTO

       81     5047    2       CALL FETCHD_6('SI  ',SI_DBK(PLACE)) ALTRET (DBCS_ERR);

   5047 42 000017   000022 736000                    QLS     18
        42 000020   000001 036000 0                  ADLQ    SI_DBK_PTR$
        42 000021   000001 235000 43                 LDA     1
        42 000022   200014 757100                    STAQ    OA1$+3,,AUTO
        42 000023   200014 630500                    EPPR0   OA1$+3,,AUTO
        42 000024   000000 631400 43                 EPPR1   0
        42 000025   000000 701000 xent               TSX1    FETCHD_6
        42 000026   000036 702000 42                 TSX2    DBCS_ERR

       82     5048    2       SI_DBK(PLACE) = 0;

   5048 42 000027   000001 470400 0                  LDP0    SI_DBK_PTR$
        42 000030   200006 720100                    LXL0    PLACE,,AUTO
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:18   
        42 000031   000000 450110                    STZ     0,X0,PR0

       83     5049    2       FLAG_LOCK='1'B;

   5049 42 000032   400000 236003                    LDQ     -131072,DU
        42 000033   000002 756000 0                  STQ     FLAG_LOCK

       84     5050    2   NO_LOCK:
       85     5051    2       RETURN;

   5051 42 000034   200012 221300       NO_LOCK      LDX1  ! OA1$+1,,AUTO
        42 000035   000001 702211                    TSX2  ! 1,X1

       86     5052    2   DBCS_ERR:
       87     5053    2       CALL ABORT;

   5053 42 000036   000002 631400 43    DBCS_ERR     EPPR1   2
        42 000037   000000 701000 xent               TSX1    ABORT
        42 000040   000000 011000                    NOP     0

       88     5054    2   END;

   5054 42 000041   200012 221300                    LDX1  ! OA1$+1,,AUTO
        42 000042   000001 702211                    TSX2  ! 1,X1

       89     5055    1       FLAG_LOCK='0'B;

   5055 42 000043   000002 450000 0                  STZ     FLAG_LOCK
        42 000044   000047 710000 42                 TRA     s:5061

       90     5056         /* This proc will build an as element for the given
       91     5057         ss and a si element for each area,record and set of
       92     5058         the ss. */
       93     5059    1   ZIG$INIT_AS:
       94     5060    1       ENTRY;

   5060 42 000045   000000 700200 xent  ZIG$INIT_AS  TSX0  ! X66_AUTO_0
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:19   
        42 000046   000016 000000                    ZERO    14,0

       95     5061    1       LOCK_COUNT_CHAR = LOCKCOUNT * 4;

   5061 42 000047   000000 235000 5                  LDA     LOCKCOUNT
        42 000050   000002 735000                    ALS     2
        42 000051   000004 755000 0                  STA     LOCK_COUNT_CHAR

       96     5062    1       CALL FETCHD_6('SF  ', 2) ALTRET (DBCS_ERR);

   5062 42 000052   000004 630400 43                 EPPR0   4
        42 000053   000000 631400 43                 EPPR1   0
        42 000054   000000 701000 xent               TSX1    FETCHD_6
        42 000055   000435 702000 42                 TSX2    DBCS_ERR

       97     5063    1       CALL FETCHD_6('DA  ', UWA.SF.DBKEY_DA) ALTRET (DBCS_ERR);

   5063 42 000056   000006 630400 43                 EPPR0   6
        42 000057   000000 631400 43                 EPPR1   0
        42 000060   000000 701000 xent               TSX1    FETCHD_6
        42 000061   000435 702000 42                 TSX2    DBCS_ERR

       98     5064         /* Open subschema file */
       99     5065    1       UWA.AS.SS_NAME = CONTROL.SUBSCHEMA_NAME;

   5065 42 000062   040000 100400                    MLR     fill='040'O
        42 000063   000030 000036 7                  ADSC9   CONTROL+24               cn=0,n=30
        42 000064   000066 000036 41                 ADSC9   UWA+54                   cn=0,n=30

      100     5066    1       CALL FETCHC_6('AS  ') ALTRET (BLDAS);

   5066 42 000065   000011 630400 43                 EPPR0   9
        42 000066   000010 631400 43                 EPPR1   8
        42 000067   000000 701000 xent               TSX1    FETCHC_6
        42 000070   000113 702000 42                 TSX2    BLDAS

      101     5067    1       CALL CONCAT(LIST_STRING,'REVALIDATION OF SUB-SCHEMA ',UWA.AS.SS_NAME);
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:20   

   5067 42 000071   040000 100400                    MLR     fill='040'O
        42 000072   000024 000033 6                  ADSC9   SUBHEAD_V_DONE+20        cn=0,n=27
        42 000073   000000 000033 3                  ADSC9   LIST_STRING              cn=0,n=27
        42 000074   040000 100400                    MLR     fill='040'O
        42 000075   000066 000036 41                 ADSC9   UWA+54                   cn=0,n=30
        42 000076   000006 600145 3                  ADSC9   LIST_STRING+6            cn=3,n=101

      102     5068    1       CALL LIST(LIST_STRING);

   5068 42 000077   000012 630400 43                 EPPR0   10
        42 000100   000010 631400 43                 EPPR1   8
        42 000101   000000 701000 xent               TSX1    LIST
        42 000102   000000 011000                    NOP     0

      103     5069         /* Erase existing as structure */
      104     5070    1       CALL ERASE_6('AS  ') ALTRET (DBCS_ERR);

   5070 42 000103   000011 630400 43                 EPPR0   9
        42 000104   000010 631400 43                 EPPR1   8
        42 000105   000000 701000 xent               TSX1    ERASE_6
        42 000106   000435 702000 42                 TSX2    DBCS_ERR

      105     5071         /* Establish currency */
      106     5072    1       CALL FCURR_R_6('SF  ') ALTRET (DBCS_ERR);

   5072 42 000107   000004 630400 43                 EPPR0   4
        42 000110   000010 631400 43                 EPPR1   8
        42 000111   000000 701000 xent               TSX1    FCURR_R_6
        42 000112   000435 702000 42                 TSX2    DBCS_ERR

      107     5073    1   BLDAS:
      108     5074         /**
      109     5075            Build an 'AS' active subschema
      110     5076            descriptor from data obtained
      111     5077            from the subschema file header
      112     5078            rec
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:21   
      113     5079            */
      114     5080    1       ADDR(UWA.AS.SS_TRAN) -> BAS.WORD1 = CONTROL.SUBSCHEMA_UTS;

   5080 42 000113   000000 100400       BLDAS        MLR     fill='000'O
        42 000114   000053 000004 7                  ADSC9   CONTROL+43               cn=0,n=4
        42 000115   000075 400004 41                 ADSC9   UWA+61                   cn=2,n=4

      115     5081    1       UWA.AS.SS_LANG = CONTROL.LANGUAGE;

   5081 42 000116   000041 235000 7                  LDA     CONTROL+33
        42 000117   000101 755000 41                 STA     UWA+65

      116     5082    1       ADDR(UWA.AS.SS_DATE) -> BAS.WORD1 = 0;

   5082 42 000120   000102 450000 41                 STZ     UWA+66

      117     5083    1       ADDR(UWA.AS.SS_TIME) -> BAS.WORD1 = CONTROL.VALIDATION_UTS;

   5083 42 000121   000055 236000 7                  LDQ     CONTROL+45
        42 000122   000103 756000 41                 STQ     UWA+67

      118     5084    1       CALL STRE_6('AS  ') ALTRET (DBCS_ERR);

   5084 42 000123   000011 630400 43                 EPPR0   9
        42 000124   000010 631400 43                 EPPR1   8
        42 000125   000000 701000 xent               TSX1    STRE_6
        42 000126   000435 702000 42                 TSX2    DBCS_ERR

      119     5085    1       UWA.A_D.AD_IDENT = ' ';

   5085 42 000127   040000 100400                    MLR     fill='040'O
        42 000130   000013 000001 43                 ADSC9   11                       cn=0,n=1
        42 000131   000174 000074 41                 ADSC9   UWA+124                  cn=0,n=60

      120     5086    1       UWA.SI.EXCLUDE=0;

   5086 42 000132   000151 450000 41                 STZ     UWA+105
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:22   

      121     5087    1       UWA.SI.LOCKED=0;

   5087 42 000133   000146 450000 41                 STZ     UWA+102

      122     5088    1       UWA.SI.LI_NE=0;

   5088 42 000134   000150 450000 41                 STZ     UWA+104

      123     5089    1       UWA.SI.SETYPE=0;

   5089 42 000135   000152 450000 41                 STZ     UWA+106

      124     5090    1       UWA.SI.BINDCD=0;

   5090 42 000136   000147 450000 41                 STZ     UWA+103

      125     5091    1       FIRST='1'B;

   5091 42 000137   400000 236003                    LDQ     -131072,DU
        42 000140   000003 756000 0                  STQ     FIRST

      126     5092    1       ALLOCATE_END = 1;

   5092 42 000141   000001 235007                    LDA     1,DL
        42 000142   000000 755000 27                 STA     ALLOCATE_END

      127     5093    1       CALL ZIG$G_DYN_MEM_6(LOCKCOUNT,SI_DBK_PTR$);

   5093 42 000143   000014 630400 43                 EPPR0   12
        42 000144   000000 631400 43                 EPPR1   0
        42 000145   000000 701000 xent               TSX1    ZIG$G_DYN_MEM_6
        42 000146   000000 011000                    NOP     0

      128     5094    1       ALLOCATE_END = 0;

   5094 42 000147   000000 450000 27                 STZ     ALLOCATE_END
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:23   

      129     5095    2       DO X=0 TO LOCKCOUNT - 1;

   5095 42 000150   200003 450100                    STZ     X,,AUTO
        42 000151   000202 710000 42                 TRA     s:5100+3

      130     5096    2           CALL FETCHD_6('SN  ',LOCKLIST.DBK(X)) ALTRET (DBCS_ERR);

   5096 42 000152   200003 236100                    LDQ     X,,AUTO
        42 000153   000022 736000                    QLS     18
        42 000154   000000 036000 4                  ADLQ    LOCKPTR$
        42 000155   000016 235000 43                 LDA     14
        42 000156   200014 757100                    STAQ    OA1$+3,,AUTO
        42 000157   200014 630500                    EPPR0   OA1$+3,,AUTO
        42 000160   000000 631400 43                 EPPR1   0
        42 000161   000000 701000 xent               TSX1    FETCHD_6
        42 000162   000435 702000 42                 TSX2    DBCS_ERR

      131     5097    2           CALL STRE_6('SI  ') ALTRET (DBCS_ERR);

   5097 42 000163   000001 630400 43                 EPPR0   1
        42 000164   000010 631400 43                 EPPR1   8
        42 000165   000000 701000 xent               TSX1    STRE_6
        42 000166   000435 702000 42                 TSX2    DBCS_ERR

      132     5098    2           SI_DBK(X)=UWA.DIRECT_REF;

   5098 42 000167   000001 470400 0                  LDP0    SI_DBK_PTR$
        42 000170   200003 720100                    LXL0    X,,AUTO
        42 000171   000036 235000 41                 LDA     UWA+30
        42 000172   000000 755110                    STA     0,X0,PR0

      133     5099    2           CALL CONNECT_6('SN-SI   ') ALTRET (DBCS_ERR);

   5099 42 000173   000017 630400 43                 EPPR0   15
        42 000174   000010 631400 43                 EPPR1   8
        42 000175   000000 701000 xent               TSX1    CONNECT_6
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:24   
        42 000176   000435 702000 42                 TSX2    DBCS_ERR

      134     5100    2           END;

   5100 42 000177   200003 235100                    LDA     X,,AUTO
        42 000200   000001 035007                    ADLA    1,DL
        42 000201   200003 755100                    STA     X,,AUTO
        42 000202   200003 236100                    LDQ     X,,AUTO
        42 000203   000206 604000 42                 TMI     s:5101
        42 000204   000000 116000 5                  CMPQ    LOCKCOUNT
        42 000205   000152 604000 42                 TMI     s:5096

      135     5101    1       RETURN; /* End of ZIG$INIT_AS */

   5101 42 000206   000000 702200 xent               TSX2  ! X66_ARET

      136     5102    1   ZIG$ADD_SI:
      137     5103    1       ENTRY;

   5103 42 000207   000000 700200 xent  ZIG$ADD_SI   TSX0  ! X66_AUTO_0
        42 000210   000016 000000                    ZERO    14,0

      138     5104    1       FLAG_LOCK = '0'B;

   5104 42 000211   000002 450000 0                  STZ     FLAG_LOCK

      139     5105    1       CALL FIND_RECORD_LOCKS;

   5105 42 000212   000003 701000 42                 TSX1    FIND_RECORD_LOCKS
        42 000213   000000 011000                    NOP     0

      140     5106    1       IF TYPE_200.TYPE = 200

   5106 42 000214   000000 235000 8                  LDA     IO_BUF
        42 000215   000310 115007                    CMPA    200,DL
        42 000216   000223 601000 42                 TNZ     s:5111

PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:25   
      141     5107    2       THEN DO;

      142     5108    2           ALIASED = TYPE_200.AREA_BITS.ALIASED;

   5108 42 000217   000024 236000 8                  LDQ     IO_BUF+20
        42 000220   400000 376003                    ANQ     -131072,DU
        42 000221   200005 756100                    STQ     ALIASED,,AUTO

      143     5109    2           END;

   5109 42 000222   000227 710000 42                 TRA     s:5114

      144     5110    2       ELSE DO;

      145     5111    2           ALIASED = TYPE_430.ALIASED;

   5111 42 000223   000030 236000 8                  LDQ     IO_BUF+24
        42 000224   000001 736000                    QLS     1
        42 000225   400000 376003                    ANQ     -131072,DU
        42 000226   200005 756100                    STQ     ALIASED,,AUTO

      146     5112    2           END;

      147     5113         /*      Build si */
      148     5114    1       UWA.SI.LI_NE = TYPE_200.SOUR_LINE;

   5114 42 000227   000002 235000 8                  LDA     IO_BUF+2
        42 000230   000150 755000 41                 STA     UWA+104

      149     5115    1       UWA.SI.SETYPE = TYPE_200.TYPE;

   5115 42 000231   000000 235000 8                  LDA     IO_BUF
        42 000232   000152 755000 41                 STA     UWA+106

      150     5116         /* Build bindcd in format reqd by ready routine
      151     5117         dbckp */
      152     5118    1       X = TYPE_200.TYPE/10;
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:26   

   5118 42 000233   000000 236000 8                  LDQ     IO_BUF
        42 000234   000001 772000                    QRL     1
        42 000235   000005 506007                    DIV     5,DL
        42 000236   200003 756100                    STQ     X,,AUTO

      153     5119    1       IF X = 35 THEN X = 30;

   5119 42 000237   000043 116007                    CMPQ    35,DL
        42 000240   000243 601000 42                 TNZ     s:5120

   5119 42 000241   000036 235007                    LDA     30,DL
        42 000242   200003 755100                    STA     X,,AUTO

      154     5120    1       IF X = 43 THEN X = 50;

   5120 42 000243   200003 235100                    LDA     X,,AUTO
        42 000244   000053 115007                    CMPA    43,DL
        42 000245   000250 601000 42                 TNZ     s:5121

   5120 42 000246   000062 236007                    LDQ     50,DL
        42 000247   200003 756100                    STQ     X,,AUTO

      155     5121    1       X =(X/10 - 2)*262144;

   5121 42 000250   200003 236100                    LDQ     X,,AUTO
        42 000251   000001 772000                    QRL     1
        42 000252   000005 506007                    DIV     5,DL
        42 000253   000022 736000                    QLS     18
        42 000254   000002 136003                    SBLQ    2,DU
        42 000255   200003 756100                    STQ     X,,AUTO

      156     5122         /* Binding cd is type in upper and byte offset in lower */
      157     5123    1       UWA.SI.BINDCD = X + TYPE_200.ID_NUM;

   5123 42 000256   000023 036000 8                  ADLQ    IO_BUF+19
        42 000257   000147 756000 41                 STQ     UWA+103
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:27   

      158     5124         /* Record binding cd is in nibbles so add in again */
      159     5125    1       IF TYPE_200.TYPE = 400 /* RECORD */

   5125 42 000260   000000 235000 8                  LDA     IO_BUF
        42 000261   000620 115007                    CMPA    400,DL
        42 000262   000265 601000 42                 TNZ     s:5127

      160     5126    1       THEN UWA.SI.BINDCD = UWA.SI.BINDCD + TYPE_200.ID_NUM;

   5126 42 000263   000023 036000 8                  ADLQ    IO_BUF+19
        42 000264   000147 756000 41                 STQ     UWA+103

      161     5127    1       IF TYPE_200.TYPE = 430 /* ITEM */

   5127 42 000265   000656 115007                    CMPA    430,DL
        42 000266   000276 601000 42                 TNZ     s:5132

      162     5128         /* Ditto for fields except when offset already in nibbles */
      163     5129    1       THEN IF TYPE_430.DATA_TYPE < 3 OR TYPE_430.DATA_TYPE > 5 THEN

   5129 42 000267   000024 235000 8                  LDA     IO_BUF+20
        42 000270   000003 115007                    CMPA    3,DL
        42 000271   000274 602000 42                 TNC     s:5131
        42 000272   000006 115007                    CMPA    6,DL
        42 000273   000276 602000 42                 TNC     s:5132

      164     5130         /* Dtype 3,4 and 5 are packed dec data types, in nibbles */
      165     5131    1               UWA.SI.BINDCD = UWA.SI.BINDCD + TYPE_200.ID_NUM;

   5131 42 000274   000023 036000 8                  ADLQ    IO_BUF+19
        42 000275   000147 756000 41                 STQ     UWA+103

      166     5132    1       IF ALIASED

   5132 42 000276   200005 234100                    SZN     ALIASED,,AUTO
        42 000277   000303 605000 42                 TPL     s:5134
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:28   

      167     5133    1       THEN UWA.SI.A_LIAS = 1;

   5133 42 000300   000001 235007                    LDA     1,DL
        42 000301   000153 755000 41                 STA     UWA+107
        42 000302   000304 710000 42                 TRA     s:5135

      168     5134    1       ELSE UWA.SI.A_LIAS = 0;

   5134 42 000303   000153 450000 41                 STZ     UWA+107

      169     5135    1       UWA.SI.LOCKED=0;

   5135 42 000304   000146 450000 41                 STZ     UWA+102

      170     5136    1       UWA.SI.EXCLUDE = 0;

   5136 42 000305   000151 450000 41                 STZ     UWA+105

      171     5137    1       IF FLAG_LOCK

   5137 42 000306   000002 234000 0                  SZN     FLAG_LOCK
        42 000307   000320 605000 42                 TPL     s:5144

      172     5138    2       THEN DO;

      173     5139    2           UWA.SI.LOCKED = UWA.SN.ACTLCKS;

   5139 42 000310   000426 235000 41                 LDA     UWA+278
        42 000311   000146 755000 41                 STA     UWA+102

      174     5140    2           FLAG_LOCK='0'B;

   5140 42 000312   000002 450000 0                  STZ     FLAG_LOCK

      175     5141    2           CALL MODIFY_6('SI  ') ALTRET (DBCS_ERR);

PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:29   
   5141 42 000313   000001 630400 43                 EPPR0   1
        42 000314   000010 631400 43                 EPPR1   8
        42 000315   000000 701000 xent               TSX1    MODIFY_6
        42 000316   000435 702000 42                 TSX2    DBCS_ERR

      176     5142    2           END;

   5142 42 000317   000335 710000 42                 TRA     s:5152

      177     5143    2       ELSE DO;

      178     5144    2           IF FIRST

   5144 42 000320   000003 234000 0                  SZN     FIRST
        42 000321   000325 605000 42                 TPL     s:5149

      179     5145    3           THEN DO;

      180     5146    3               UWA.SI.EXCLUDE=1;

   5146 42 000322   000001 235007                    LDA     1,DL
        42 000323   000151 755000 41                 STA     UWA+105

      181     5147    3               FIRST='0'B;

   5147 42 000324   000003 450000 0                  STZ     FIRST

      182     5148    3               END;

      183     5149    2           CALL STRE_6('SI  ') ALTRET (DBCS_ERR);

   5149 42 000325   000001 630400 43                 EPPR0   1
        42 000326   000010 631400 43                 EPPR1   8
        42 000327   000000 701000 xent               TSX1    STRE_6
        42 000330   000435 702000 42                 TSX2    DBCS_ERR

      184     5150    2           CALL CONNECT_6('SN-SI   ') ALTRET (DBCS_ERR);
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:30   

   5150 42 000331   000017 630400 43                 EPPR0   15
        42 000332   000010 631400 43                 EPPR1   8
        42 000333   000000 701000 xent               TSX1    CONNECT_6
        42 000334   000435 702000 42                 TSX2    DBCS_ERR

      185     5151    2           END;

      186     5152    1       IF UWA.SI.A_LIAS = 1

   5152 42 000335   000153 235000 41                 LDA     UWA+107
        42 000336   000001 115007                    CMPA    1,DL
        42 000337   000351 601000 42                 TNZ     s:5158

      187     5153    2       THEN DO;

      188     5154    2           UWA.AL.ANAME = TYPE_200.SUB_AREA_NAME;

   5154 42 000340   040000 100400                    MLR     fill='040'O
        42 000341   000013 000036 8                  ADSC9   IO_BUF+11                cn=0,n=30
        42 000342   000154 000036 41                 ADSC9   UWA+108                  cn=0,n=30

      189     5155    2           UWA.AL.DBKEY_SI = UWA.DIRECT_REF;

   5155 42 000343   000036 236000 41                 LDQ     UWA+30
        42 000344   000164 756000 41                 STQ     UWA+116

      190     5156    2           CALL STRE_6('AL  ') ALTRET (DBCS_ERR);

   5156 42 000345   000020 630400 43                 EPPR0   16
        42 000346   000010 631400 43                 EPPR1   8
        42 000347   000000 701000 xent               TSX1    STRE_6
        42 000350   000435 702000 42                 TSX2    DBCS_ERR

      191     5157    2           END;

      192     5158    1       RETURN; /* ZIG$ADD_SI */
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:31   

   5158 42 000351   000000 702200 xent               TSX2  ! X66_ARET

      193     5159    1   ZIG$FIN_AS:
      194     5160    1       ENTRY;

   5160 42 000352   000000 700200 xent  ZIG$FIN_AS   TSX0  ! X66_AUTO_0
        42 000353   000016 000000                    ZERO    14,0

      195     5161    1       CALL SUBLST(SUBHEAD_V_DONE);

   5161 42 000354   000021 630400 43                 EPPR0   17
        42 000355   000010 631400 43                 EPPR1   8
        42 000356   000000 701000 xent               TSX1    SUBLST
        42 000357   000000 011000                    NOP     0

      196     5162    1       CALL FETCHD_6('A-D ',STORE_AD) ALTRET(DBCS_ERR);

   5162 42 000360   000022 630400 43                 EPPR0   18
        42 000361   000000 631400 43                 EPPR1   0
        42 000362   000000 701000 xent               TSX1    FETCHD_6
        42 000363   000435 702000 42                 TSX2    DBCS_ERR

      197     5163    1      CALL CONCAT(UWA.A_D.AD_IDENT,'VALIDATION WAS SUCCESSFUL FOR ',VALIDS.SSNAME,'.')
              5163                ;

   5163 42 000364   040000 100400                    MLR     fill='040'O
        42 000365   000040 000036 6                  ADSC9   SUBHEAD_V_DONE+32        cn=0,n=30
        42 000366   000174 000036 41                 ADSC9   UWA+124                  cn=0,n=30
        42 000367   040000 100400                    MLR     fill='040'O
        42 000370   000016 400036 19                 ADSC9   VALIDS+14                cn=2,n=30
        42 000371   000203 400036 41                 ADSC9   UWA+131                  cn=2,n=30

      198     5164    1       CALL MODIFY_6('A-D ') ALTRET(DBCS_ERR);

   5164 42 000372   000022 630400 43                 EPPR0   18
        42 000373   000010 631400 43                 EPPR1   8
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:32   
        42 000374   000000 701000 xent               TSX1    MODIFY_6
        42 000375   000435 702000 42                 TSX2    DBCS_ERR

      199     5165    2       DO X=0 TO LOCKCOUNT - 1;

   5165 42 000376   200003 450100                    STZ     X,,AUTO
        42 000377   000430 710000 42                 TRA     s:5173+3

      200     5166    2           IF SI_DBK(X) ~= 0

   5166 42 000400   000001 470400 0                  LDP0    SI_DBK_PTR$
        42 000401   200003 720100                    LXL0    X,,AUTO
        42 000402   000000 235110                    LDA     0,X0,PR0
        42 000403   000425 600000 42                 TZE     s:5173

      201     5167    3           THEN DO;

      202     5168    3               CALL FETCHD_6('SI  ',SI_DBK(X)) ALTRET (DBCS_ERR);

   5168 42 000404   200003 236100                    LDQ     X,,AUTO
        42 000405   000022 736000                    QLS     18
        42 000406   000001 036000 0                  ADLQ    SI_DBK_PTR$
        42 000407   000001 235000 43                 LDA     1
        42 000410   200014 757100                    STAQ    OA1$+3,,AUTO
        42 000411   200014 630500                    EPPR0   OA1$+3,,AUTO
        42 000412   000000 631400 43                 EPPR1   0
        42 000413   000000 701000 xent               TSX1    FETCHD_6
        42 000414   000435 702000 42                 TSX2    DBCS_ERR

      203     5169    3               CALL DISCONNECT_6('SN-SI   ') ALTRET (DBCS_ERR);

   5169 42 000415   000017 630400 43                 EPPR0   15
        42 000416   000010 631400 43                 EPPR1   8
        42 000417   000000 701000 xent               TSX1    DISCONNECT_6
        42 000420   000435 702000 42                 TSX2    DBCS_ERR

      204     5170    3               CALL ERASE_6('SI  ') ALTRET (DBCS_ERR);
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:33   

   5170 42 000421   000001 630400 43                 EPPR0   1
        42 000422   000010 631400 43                 EPPR1   8
        42 000423   000000 701000 xent               TSX1    ERASE_6
        42 000424   000435 702000 42                 TSX2    DBCS_ERR

      205     5171    3               END;

      206     5172        /*  Remove all si records than are not used in the subschema */
      207     5173    2           END;

   5173 42 000425   200003 235100                    LDA     X,,AUTO
        42 000426   000001 035007                    ADLA    1,DL
        42 000427   200003 755100                    STA     X,,AUTO
        42 000430   200003 236100                    LDQ     X,,AUTO
        42 000431   000434 604000 42                 TMI     s:5174
        42 000432   000000 116000 5                  CMPQ    LOCKCOUNT
        42 000433   000400 604000 42                 TMI     s:5166

      208     5174    1       RETURN;

   5174 42 000434   000000 702200 xent               TSX2  ! X66_ARET

      209     5175         /* * */
      210     5176    1   DBCS_ERR:
      211     5177    1       CALL ABORT;

   5177 42 000435   000002 631400 43    DBCS_ERR     EPPR1   2
        42 000436   000000 701000 xent               TSX1    ABORT
        42 000437   000000 011000                    NOP     0

      212     5178    1   END ZIG$BLDSI;

   5178 42 000440   000000 702200 xent               TSX2  ! X66_ARET

LIST_STRING
 Sect OctLoc
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:34   
   3     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

SUBHEAD_V_DONE
 Sect OctLoc
   6     000   126101 114111   104101 124111   117116 040123   103110 105115    VALIDATION SCHEM
   6     004   101040 120110   101123 105040   040040 040040   040040 040040    A PHASE
   6     010   040040 040040   040040 040040   040040 040040   040040 040040
   6     014   040040 040040   040040 040040   040040 040040   040040 040040

(unnamed)
 Sect OctLoc
   6     020   123111 040040   123106 040040   104101 040040   101123 040040    SI  SF  DA  AS
   6     024   122105 126101   114111 104101   124111 117116   040117 106040    REVALIDATION OF
   6     030   123125 102055   123103 110105   115101 040040   123116 040040    SUB-SCHEMA  SN
   6     034   123116 055123   111040 040040   101114 040040   101055 104040    SN-SI   AL  A-D
   6     040   126101 114111   104101 124111   117116 040127   101123 040123    VALIDATION WAS S
   6     044   125103 103105   123123 106125   114040 106117   122040 040040    UCCESSFUL FOR

CONTROL
 Sect OctLoc
   7     000   777777 777777   000000 000001   000000 000000   000000 000036    ................
   7     004   000000 000060   000000 000000   000000 000000   000000 000000    ...0............
   7     010   000000 000000   000000 000000   000000 000000   000000 000000    ................
   7     020*  040040 040040   040040 040040   040040 040040   040040 040040
   7     040*  000000 000144   000000 000000   400000 000000   042116 125114    ...d........"NUL
   7     044   114042 040040   040040 040040   042116 125114   114042 040040    L"      "NULL"
   7     050   040040 040040   000000 000060   000000 000000   000000 000000        ...0........
   7     054   000000 000000   000000 000000   000000 000000   000000 000000    ................
   7     064*  000000 000000   040040 040040   040040 040040   040040 040040    ....
   7     070   000000 000000   000000 000000   000000 000000   000000 000000    ................
   7     074   000000 000002   000000 000000   000000 000000   000000 000000    ................

IO_BUF
 Sect OctLoc
   8     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

LANG_ALLOWED
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:35   
 Sect OctLoc
   9     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

HEADING_TEXT
 Sect OctLoc
  11     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

LANG_TEXT
 Sect OctLoc
  12     000   116117 124040   125123 105104   040040 103117   102117 114040    NOT USED  COBOL
  12     004   040040 040040   106117 122124   122101 116040   040040 101120        FORTRAN   AP
  12     010   114040 040040   040040 040040   102101 123111   103040 040040    L       BASIC
  12     014   040040 ******                                                      ..

HASH_SCHEMA_NAME
 Sect OctLoc
  13     000   0***** ******                                                    ....

ANALS
 Sect OctLoc
  15     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

PURGE
 Sect OctLoc
  16     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

DICTS
 Sect OctLoc
  17     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

DISPS
 Sect OctLoc
  18     000   ***00* ******   ****** ******   ****** ******   ****** ******    ................
  18     024*  ****** ******   ****** ******   ****** ******                    ............

VALIDS
 Sect OctLoc
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:36   
  19     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

LOCKS
 Sect OctLoc
  20     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

STRAN
 Sect OctLoc
  21     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

DTRAN
 Sect OctLoc
  22     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

SSTRANS
 Sect OctLoc
  23     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

SSGEN
 Sect OctLoc
  24     000   ****** ******   ****** ******   ****** ******   ****** ******    ................

UWA_KEY
 Sect OctLoc
  32     000   007125 127101   ****** ******                                    .UWA....

RVA_KEY
 Sect OctLoc
  34     000   007122 126101   ****** ******                                    .RVA....

IA__KEY
 Sect OctLoc
  35     000   007111 101137   ****** ******                                    .IA_....

SEARCHR_NB
 Sect OctLoc
  37     000   001001 001001   001001 001001   001001 001001   001001 001001    ................
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:37   
  37     010*  000001 001001   001001 001001   001001 001001   001001 001001    ................
  37     014   001001 001001   001001 001001   001001 001001   001001 001001    ................
  37     034*  001001 001001   001001 001001   001001 001001   001001 001001    ................

SEM_COM
 Sect OctLoc
  38     000   000001 002003   004005 006007   010011 012013   014015 016017    ................
  38     004   020021 022023   024025 026027   030031 032033   034035 036037    ................
  38     010   040041 042043   044045 046047   050051 052053   054055 056057     !"#$%&'()*+,-./
  38     014   060061 062063   064065 066067   070071 072040   074075 076077    0123456789: <=>?
  38     020   100101 102103   104105 106107   110111 112113   114115 116117    @ABCDEFGHIJKLMNO
  38     024   120121 122123   124125 126127   130131 132133   134135 136137    PQRSTUVWXYZ[\]^_
  38     030   140141 142143   144145 146147   150151 152153   154155 156157    `abcdefghijklmno
  38     034   160161 162163   164165 166167   170171 172173   174175 176177    pqrstuvwxyz{|}~.

DMCL_XLATE
 Sect OctLoc
  39     000   000001 002003   004005 006007   010011 012013   014015 016017    ................
  39     004   020021 022023   024025 026027   030031 032033   034035 036037    ................
  39     010   040041 041043   044045 046047   050051 052053   054055 136057     !!#$%&'()*+,-^/
  39     014   060061 062063   064065 066067   070071 072040   074075 076077    0123456789: <=>?
  39     020   100101 102103   104105 106107   110111 112113   114115 116117    @ABCDEFGHIJKLMNO
  39     024   120121 122123   124125 126127   130131 132133   134135 136137    PQRSTUVWXYZ[\]^_
  39     030   140141 142143   144145 146147   150151 152153   154155 156157    `abcdefghijklmno
  39     034   160161 162163   164165 166167   170171 172173   174175 176177    pqrstuvwxyz{|}~.

Q2_PERCENT
 Sect OctLoc
  40     000   000001 002003   004005 006007   010011 012013   014015 016017    ................
  40     004   020021 022023   024025 026027   030031 032033   034035 036037    ................
  40     010   040041 045043   044045 046047   050051 052053   054055 056057     !%#$%&'()*+,-./
  40     014   060061 062063   064065 066067   070071 072073   074075 076077    0123456789:;<=>?
  40     020   100101 102103   104105 106107   110111 112113   114115 116117    @ABCDEFGHIJKLMNO
  40     024   120121 122123   124125 126127   130131 132133   134135 136137    PQRSTUVWXYZ[\]^_
  40     030   140141 142143   144145 146147   150151 152153   154155 156157    `abcdefghijklmno
  40     034   160161 162163   164165 166167   170171 172173   174175 176177    pqrstuvwxyz{|}~.

PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:38   
UWA
 Sect OctLoc
  41     000   000000 000000   040040 040040   040040 040040   040040 040040    ....
  41     004   040040 040040   040040 040040   040040 040040   040040 040040
  41     010   040040 040040   040040 040040   040040 000000   040040 040040              ..
  41     014   040040 040040   040040 040040   040040 040040   040040 040040
  41     020   040040 040040   040040 040040   040040 000000   040040 040040              ..
  41     024   040040 040040   040040 040040   040040 040040   040040 040040
  41     030   040040 040040   040040 040040   040040 000000   040040 040040              ..
  41     034   040040 040040   040040 040040   000000 000000   040040 040040            ....
  41     040   040040 040040   040040 040040   040040 040040   040040 040040
  41     044   040040 040040   040040 040040   040040 000000   040040 040040              ..
  41     050   040040 040040   040040 040040   040040 040040   040040 040040
  41     054   040040 040040   040040 040040   040040 000000   000000 000000              ......
  41     060   040040 040040   040*** ******   000000 000000   000000 000000         ...........
  41     064   000000 000000   000000 000000   040040 040040   040040 040040    ........
  41     070   040040 040040   040040 040040   040040 040040   040040 040040
  41     100*  040040 ******   000000 000000   040040 040040   040040 040040      ......
  41     104   040040 040040   040040 040040   040040 040040   040040 040040
  41     124*  040040 040040   040040 040040   000000 000000   040040 040040            ....
  41     130   040040 040040   040040 040040   040040 040040   040040 040040
  41     134   040040 040040   040040 040040   040040 ******   000000 000000              ......
  41     140   040040 040040   040040 040040   040040 040040   040040 040040
  41     144   040040 040040   040040 040040   000000 000000   000000 000000            ........
  41     150   000000 000000   000000 000000   000000 000000   000000 000000    ................
  41     154   040040 040040   040040 040040   040040 040040   040040 040040
  41     160   040040 040040   040040 040040   040040 040040   040040 ******                  ..
  41     164   000000 000000   ****** ******   000000 000000   000000 000000    ................
  41     170   000000 000000   040040 040040   040040 040040   040040 040040    ....
  41     174   040040 040040   040040 040040   040040 040040   040040 040040
  41     210*  040040 040040   040040 040040   040040 040040   ****** ******                ....
  41     214   000000 000000   000000 000000   000000 000000   000000 000000    ................
  41     224*  000000 000000   000000 000000   000000 000000   040040 ******    ............  ..
  41     230   000000 000000   ****** ******   000000 000000   040040 040040    ............
  41     234   000000 000000   000000 000000   000000 000000   000000 000000    ................
  41     264*  000000 000000   000000 000000   000000 000000   ****** ******    ................
  41     270   000000 000000   000000 000000   000000 000000   000000 000000    ................
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:39   
  41     324*  000000 000000   ****** ******   000000 000000   000000 000000    ................
  41     330   000000 000000   000000 000000   000000 000000   000000 000000    ................
  41     350*  000000 000000   000000 000000   000000 000000   ****** ******    ................
  41     360*  000000 000000   000000 000000   000000 000000   000000 000000    ................
  41     404*  000000 000000   ****** ******   000000 000000   000000 000000    ................
  41     410   000000 000000   000000 000000   000000 000000   000000 000000    ................
  41     424*  000000 000000   000000 000000   000000 000000   040040 040040    ............
  41     430   040040 040040   040040 040040   040040 040040   040040 040040
  41     434   040040 040040   040040 040040   040040 ******   ****** ******              ......
  41     440   040040 040040   040040 040040   040040 040040   040040 040040
  41     450*  040040 040040   040040 040040   040040 ******   ****** ******              ......
  41     454   000000 000000   040040 040040   040040 040040   040040 040040    ....
  41     460   040040 040040   040040 040040   040040 040040   040040 040040
  41     464   040040 ******   ****** ******   000000 000000   000000 000000      ..............
  41     470   000000 000000   000000 000000   000000 000000   000000 000000    ................
  41     474   000000 000000   ****** ******   000000 000000   000000 000000    ................
  41     500   000000 000000   000000 000000   040040 040040   040040 040040    ........
  41     504   040040 040040   040040 040040   040040 040040   040040 040040
  41     520*  040040 040040   ****** ******   000000 000000   000000 000000        ............
  41     524   040040 040040   040040 040040   040040 040040   040040 040040
  41     574*  000000 000000   000000 000000   000000 000000   000000 000000    ................
  41     600   000000 000000   000000 000000   000000 000000   ****** ******    ................
  41     604   000000 000000   000000 000000   000000 000000   000000 000000    ................
  41     610   000000 000000   000000 000000   040040 040040   040040 040040    ........
  41     614   040040 040040   040040 040040   040040 040040   040040 040040
  41     620   040040 040040   040040 ******   040040 040040   040040 040040          ..
  41     624   040040 040040   040040 040040   040040 040040   040040 040040
  41     660*  040040 040040   040040 040040   040040 040040   ****** ******                ....
  41     664   040040 040040   040040 040040   040040 040040   040040 040040
  41     674*  040040 040040   ****** ******   040040 040040   040040 040040        ....
  41     700   040040 040040   040040 040040   040040 040040   040040 040040
  41     710*  040040 040040   ****** ******   040040 040040   040040 040040        ....
  41     714   040040 040040   040040 040040   040040 040040   040040 040040
  41     720   040040 040040   040040 040040   040040 040040   ****** ******                ....
  41     724   040040 040040   040040 040040   040040 040040   040040 040040
  41     740*  040040 040040   ****** ******   040040 040040   040040 040040        ....
  41     744   040040 040040   040040 040040   040040 040040   040040 040040
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:40   
  41     774*  040040 040040   ****** ******   040040 040040   040040 040040        ....
  41    1000   040040 040040   040040 040040   040040 040040   040040 040040
  41    1034*  040040 040040   ****** ******   040040 040040   040040 040040        ....
  41    1040   040040 040040   040040 040040   040040 040040   040040 040040
  41    1060*  040040 040040   ****** ******   040040 040040   040040 040040        ....
  41    1064   040040 040040   040040 040040   040040 040040   040040 040040
  41    1114*  040040 040040   ****** ******   040040 040040   040040 040040        ....
  41    1120   040040 040040   040040 040040   040040 040040   040040 040040
  41    1134*  040040 040040   040040 040040   040040 040040   ****** ******                ....
  41    1140   040040 040040   040040 040040   040040 040040   040040 040040
  41    1144   040040 040040   ****** ******   040040 040040   040040 040040        ....
  41    1150   040040 040040   040040 040040   040040 040040   ****** ******                ....
  41    1154   040040 040040   040040 040040   040040 040040   040040 040040
  41    1160   040040 040040   ****** ******   040040 040040   040040 040040        ....
  41    1164   040040 040040   040040 040040   040040 040040   ****** ******                ....
  41    1170   040040 040040   040040 040040   040040 040040   040040 040040
  41    1200*  040040 040040   040040 040040   040040 040040   ****** ******                ....
  41    1204   040040 040040   040040 040040   040040 040040   040040 040040
  41    1214*  040040 040040   040040 040040   040040 040040   040040 040040

(unnamed)
 Sect OctLoc
  43     000   000002 000000   000020 006000   000000 000000   000000 000002    ................
  43     004   000021 006000   000003 006000   000022 006000   000064 006000    .............4..
  43     010   000001 000000   000023 006000   000000 006000   040040 040040    ............
  43     014   000000 006000   000001 006000   000033 006000   000034 006000    ................
  43     020   000036 006000   000000 006000   000037 006000   000000 006000    ................

PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:41   
--  Include file information  --

   ZI_SUB4_CAN.:ZIC0TOU  is referenced.
   ZIG_DBA_INT.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZIG_GENERAL.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZI_ERRORS_SUBS.:ZIC0TOU  is referenced.
   ZIG_DIR_STRUCS.:ZIC0TOU  cannot be made into a system file and is referenced.
   ZIG_SSS.:ZIC0TOU  is referenced.
   ZI_SUB_LANG.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure ZIG$BLDSI.

   Procedure ZIG$BLDSI requires 289 words for executable code.
   Procedure ZIG$BLDSI requires 14 words of local(AUTO) storage.

    No errors detected in file ZIG$BLDSI.:ZIC0TSI    .
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:42   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:43   
          MINI XREF LISTING

ABORT
      3915**DCL-ENT  5053--CALL     5177--CALL
ALIASED
        43**DCL      5108<<ASSIGN   5111<<ASSIGN   5132>>IF
ALLOCATE_END
      3918**DCL      5092<<ASSIGN   5094<<ASSIGN
BAS.WORD1
        41**DCL      5080<<ASSIGN   5082<<ASSIGN   5083<<ASSIGN
BLDAS
      5080**LABEL    5066--CALLALT
CONNECT_6
      4022**DCL-ENT  5099--CALL     5150--CALL
CONTROL.LANGUAGE
      1853**DCL      5081>>ASSIGN
CONTROL.SUBSCHEMA_NAME
      1851**DCL      5065>>ASSIGN
CONTROL.SUBSCHEMA_UTS
      1859**DCL      5080>>ASSIGN
CONTROL.VALIDATION_UTS
      1861**DCL      5083>>ASSIGN
DBCS_ERR
      5177**LABEL    5062--CALLALT  5063--CALLALT  5070--CALLALT  5072--CALLALT  5084--CALLALT  5096--CALLALT
      5097--CALLALT  5099--CALLALT  5141--CALLALT  5149--CALLALT  5150--CALLALT  5156--CALLALT  5162--CALLALT
      5164--CALLALT  5168--CALLALT  5169--CALLALT  5170--CALLALT
DBCS_ERR IN PROCEDURE FIND_RECORD_LOCKS
      5053**LABEL    5047--CALLALT
DISCONNECT_6
      4023**DCL-ENT  5169--CALL
ERASE_6
      4011**DCL-ENT  5070--CALL     5170--CALL
FCURR_R_6
      4014**DCL-ENT  5072--CALL
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:44   
FETCHC_6
      4010**DCL-ENT  5066--CALL
FETCHD_6
      4012**DCL-ENT  5047--CALL     5062--CALL     5063--CALL     5096--CALL     5162--CALL     5168--CALL
FIND_RECORD_LOCKS
      5044**PROC     5105--CALL
FIRST
        38**DCL      5091<<ASSIGN   5144>>IF       5147<<ASSIGN
FLAG_LOCK
        36**DCL      5049<<ASSIGN   5055<<ASSIGN   5104<<ASSIGN   5137>>IF       5140<<ASSIGN
IO_BUF
      1878**DCL      1982--REDEF    2085--REDEF    2129--REDEF    2175--REDEF    2243--REDEF    2282--REDEF
      2372--REDEF
LIST
      3922**DCL-ENT  5068--CALL
LIST_STRING
        39**DCL      5067<<CALLBLT  5068<>CALL
LOCKCOUNT
        50**DCL      5061>>ASSIGN   5093<>CALL     5095>>DOINDEX  5165>>DOINDEX
LOCKLIST.DBK
        47**DCL      5096<>CALL
LOCKPTR$
        45**DCL        46--IMP-PTR    48--IMP-PTR  5045>>CALLBLT  5096>>CALL
LOCK_CHAR
        48**DCL      5045>>CALLBLT
LOCK_COUNT_CHAR
        49**DCL        48--IMP-SIZ  5045>>CALLBLT  5061<<ASSIGN
MODIFY_6
      4015**DCL-ENT  5141--CALL     5164--CALL
NO_LOCK IN PROCEDURE FIND_RECORD_LOCKS
      5051**LABEL    5045--CALLALT
OA.SCNAM.EIS.COUNT
      3193**DCL      3230--IMP-SIZ
OA$
      3171**DCL      3172--IMP-PTR
OA1$
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:45   
      3237**DCL      3238--IMP-PTR
PLACE
        44**DCL      5045<<CALLBLT  5046<<ASSIGN   5046>>ASSIGN   5047>>CALL     5048>>ASSIGN
SI_DBK
        31**DCL      5047<>CALL     5048<<ASSIGN   5098<<ASSIGN   5166>>IF       5168<>CALL
SI_DBK_PTR$
        30**DCL        31--IMP-PTR  5047>>CALL     5048>>ASSIGN   5093<>CALL     5098>>ASSIGN   5166>>IF
      5168>>CALL
SN_DBK
        34**DCL        35--REDEF
SN_DBK_CHAR
        35**DCL      5045>>CALLBLT
STORE_AD
        33**DCL      5162<>CALL
STRE_6
      4009**DCL-ENT  5084--CALL     5097--CALL     5149--CALL     5156--CALL
SUBHEAD_V_DONE
        52**DCL      5161<>CALL
SUBLST
      3924**DCL-ENT  5161--CALL
SUBSCHEMA_KEY
      3942**DCL      3943--REDEF
TYPE_200.AREA_BITS.ALIASED
      2139**DCL      5108>>ASSIGN
TYPE_200.ID_NUM
      2137**DCL      5123>>ASSIGN   5126>>ASSIGN   5131>>ASSIGN
TYPE_200.SOUR_LINE
      2132**DCL      5114>>ASSIGN
TYPE_200.SUB_AREA_NAME
      2135**DCL      5154>>ASSIGN
TYPE_200.TYPE
      2130**DCL      5106>>IF       5115>>ASSIGN   5118>>ASSIGN   5125>>IF       5127>>IF
TYPE_300.INFO
      2184**DCL      2185--REDEF
TYPE_400.INFO
      2291**DCL      2292--REDEF
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:46   
TYPE_430.ALIASED
      2386**DCL      5111>>ASSIGN
TYPE_430.DATA_TYPE
      2381**DCL      5129>>IF       5129>>IF
TYPE_430.EIS.ADDER
      2391**DCL      2392--REDEF    2393--REDEF
TYPE_430.EIS.EIS_BITS
      2396**DCL      2397--REDEF    2401--REDEF    2429--REDEF
TYPE_430.INFO
      2438**DCL      2439--REDEF
UWA.AC.CALC_NEXT
      4818**DCL      4819--REDEF
UWA.AC.CALC_PRIOR
      4827**DCL      4828--REDEF
UWA.AC.DEFAULTS
      4779**DCL      4780--REDEF
UWA.AC.FILE_CODE
      4784**DCL      4785--REDEF
UWA.AC.FLAG1.ERROR_TYPE
      4781**DCL      4782--REDEF
UWA.AL.ANAME
      4755**DCL      5154<<ASSIGN
UWA.AL.DBKEY_SI
      4756**DCL      5155<<ASSIGN
UWA.AS.SS_DATE
      4735**DCL      5082--ASSIGN
UWA.AS.SS_LANG
      4734**DCL      5081<<ASSIGN
UWA.AS.SS_NAME
      4732**DCL      5065<<ASSIGN   5067>>CALLBLT
UWA.AS.SS_TIME
      4736**DCL      5083--ASSIGN
UWA.AS.SS_TRAN
      4733**DCL      5080--ASSIGN
UWA.A_D.AD_IDENT
      4763**DCL      5085<<ASSIGN   5163<<CALLBLT
PL6.E3A0      #001=ZIG$BLDSI File=ZIG$BLDSI.:ZIC0TSI                             FRI 09/05/97 11:42 Page:47   
UWA.DIRECT_REF
      4719**DCL      5098>>ASSIGN   5155>>ASSIGN
UWA.SF.DBKEY_DA
      4729**DCL      5063<>CALL
UWA.SI.A_LIAS
      4753**DCL      5133<<ASSIGN   5134<<ASSIGN   5152>>IF
UWA.SI.BINDCD
      4749**DCL      5090<<ASSIGN   5123<<ASSIGN   5126<<ASSIGN   5126>>ASSIGN   5131<<ASSIGN   5131>>ASSIGN
UWA.SI.EXCLUDE
      4751**DCL      5086<<ASSIGN   5136<<ASSIGN   5146<<ASSIGN
UWA.SI.LI_NE
      4750**DCL      5088<<ASSIGN   5114<<ASSIGN
UWA.SI.LOCKED
      4748**DCL      5087<<ASSIGN   5135<<ASSIGN   5139<<ASSIGN
UWA.SI.SETYPE
      4752**DCL      5089<<ASSIGN   5115<<ASSIGN
UWA.SN.ACTLCKS
      4936**DCL      5139>>ASSIGN
VALIDS.SSNAME
      3335**DCL      5163>>CALLBLT
X
        32**DCL      5095<<DOINDEX  5096>>CALL     5098>>ASSIGN   5118<<ASSIGN   5119>>IF       5119<<ASSIGN
      5120>>IF       5120<<ASSIGN   5121<<ASSIGN   5121>>ASSIGN   5123>>ASSIGN   5165<<DOINDEX  5166>>IF
      5168>>CALL
ZIG$G_DYN_MEM_6
      3917**DCL-ENT  5093--CALL

VERSION E05

PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:1    
        1        1        /*M* FSB$STREAM  BUILDS STREAM DCB'S.   */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* CLM=8,ICP,MOC,DMR */
        8        8        FSB$STREAMCREATE:PROC(I)ALTRET;
        9        9    1   DCL I SBIN; /* STREAM NUMBER                      */
       10       10    1   DCL FSA$GSP ENTRY(2)ALTRET; /* GET SPACE IN ROSEG                 */
       11       11    1   DCL FSA$FDCB ENTRY(1); /* Free a DCB's ROSEG space */
       12       12    1   DCL FMN$OPNF ENTRY(1); /* Open DCB to file */
       13       13    1   DCL B$JIT$ PTR SYMREF; /* Note B$JIT is BASED(B$JIT$).       */
       14       14    1   DCL S_STREAMFILEID CHAR(3)ALIGNED SYMREF;
       15       15        %INCLUDE F$JIT_C;
       16      445    1   DCL B$ROSEG$ PTR SYMREF;
       17      446        %MACRO B$ROSEG(BASED=BASED);
       18      447        %INCLUDE B$ROSEG;
       19      510        %MEND;
       20      511        %INCLUDE FM$FIT;
       21      732        %MACRO F$DCBI(BASED=BASED);
       22      733        %INCLUDE F$DCB;
       23      782        %MEND;
       24      783        %F$DCBI(BASED="BASED(SDCB$)");
       25      833        %INCLUDE F_CP6;
       26     1858        %FPT_OPEN(FPTN=OPENFPT,STCLASS=CONSTANT,PFMT=PTR,VECTOR=ADDR);
       27     1967        %INCLUDE FS$FIT;
       28     2010        %FS_OSFN(FPTN=OSFN,STCLASS=BASED);
       29     2024        %FS_OSFN(FPTN=CONSTOSFN,STCLASS=CONSTANT);
       30     2038        %INCLUDE F_FPTCODE_C;
       31     2074        %INCLUDE CP_6_SUBS;
       32     2614        %INCLUDE F_DCB_D;
       33     2702        %M$MDCB (DCBN=DDNNDCB,STCLASS=CONSTANT,ASN=FILE,FUN=CREATE,
       34     2703                ACCT=':SYMO',CTG=YES,DISP=NAMED);
       35     2777        %CODE16;
       36     2785        %B$ROSEG (BASED="BASED(B$ROSEG$)");
       37     2845    1   DCL SDCB$ PTR; /* POINTER TO STREAM DCB              */
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:2    
       38     2846    1   DCL J SBIN;
       39     2847    1   DCL RES CHAR(4) BASED;
       40     2848        %EJECT;
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:3    
       41     2849    1           CALL BUILDDCB ALTRET(ALTRETUR);
       42     2850    1           CALL FSA$GSP(SIZEW(CODE16),F$DCB.FORM$) ALTRET(ALTRETURDCB);
       43     2851    1           F$DCB.FORM$->CODE16='0'B;
       44     2852    1           F$DCB.FORM$->CODE16.FORM=' ';
       45     2853    1           F$DCB.RES=SUBSTR(B$ROSEG.LDEVNAME(I),0,2);
       46     2854    1           F$DCB.WSN=B$JIT.WOO;
       47     2855    1           F$DCB.WAIT=1;
       48     2856    1           F$DCB.ASN=0;
       49     2857    1           B$JIT.DCB$=SDCB$;
       50     2858    1           B$JIT.ERR='0'B;
       51     2859    1           B$ROSEG.STREAMID.FLG(I)=2;
       52     2860    1           B$ROSEG.STREAMID.IDENT(I)=POFFW(SDCB$,B$ROSEG$);
       53     2861    1           RETURN;
       54     2862        /**/
       55     2863        /**/
       56     2864    1   FSB$STREAMDCB: ENTRY(I) ALTRET;
       57     2865    1           CALL BUILDDCB ALTRET(ALTRETUR);
       58     2866    1           J=B$JIT.SYSID;
       59     2867    1           CALL BINCHAR(ADDR(F$DCB.NAME)->OSFN.SYSID,J);
       60     2868    1           ADDR(F$DCB.NAME)->OSFN.BOOTID=S_STREAMFILEID;
       61     2869    1           J=B$ROSEG.STREAMID.IDENT(I);
       62     2870    1           CALL BINCHAR(ADDR(F$DCB.NAME)->OSFN.NUM,J);
       63     2871    1           J=B$ROSEG.STREAMID.SUBNAME(I);
       64     2872    1           CALL BINCHAR(ADDR(F$DCB.NAME)->OSFN.CNUM,J);
       65     2873    1           F$DCB.FUN=%UPDATE#;
       66     2874    1           B$JIT.DCB$=SDCB$;
       67     2875    1           B$JIT.ERR='0'B;
       68     2876    1           F$DCB.ASN=0;
       69     2877    1           F$DCB.IASN=%FILE#;
       70     2878    1           F$DCB.WSR=1;
       71     2879    1           IF B$ROSEG.STREAMID.UC_STR(I)
       72     2880    2           THEN DO;
       73     2881    2              F$DCB.IASN = %DEVICE#;
       74     2882    2              F$DCB.FCD = %YES#;
       75     2883    2              END;
       76     2884    1           ELSE
       77     2885    1              CALL FMN$OPNF(OPENFPT);
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:4    
       78     2886    1           IF B$JIT.ERR.CODE~=0 THEN GOTO ALTRETURDCB;
       79     2887    1           F$DCB.OWNER='0'B;
       80     2888    1           IF F$DCB.FORM$ ~= ADDR(NIL)
       81     2889    2           THEN DO;
       82     2890    2              F$DCB.RES=F$DCB.FORM$->CODE16.DEV;
       83     2891    2              F$DCB.WSN=F$DCB.FORM$->CODE16.WSN;
       84     2892    2              END;
       85     2893    1           F$DCB.WAIT=1;
       86     2894    1           B$ROSEG.STREAMID.FLG(I)=2;
       87     2895    1           B$ROSEG.STREAMID.IDENT(I)=POFFW(SDCB$,B$ROSEG$);
       88     2896    1           RETURN;
       89     2897    1   ALTRETURDCB:;
       90     2898    1           CALL FSA$FDCB(SDCB$);
       91     2899    1   ALTRETUR:ALTRETURN;
       92     2900        /**/
       93     2901        /**/
       94     2902    1   BUILDDCB:PROC ALTRET;
       95     2903    2           CALL FSA$GSP(SIZEW(DDNNDCB)+2,SDCB$)ALTRET(ALTRETUR);
       96     2904    2           F$DCB.DCBNAME.L=0;
       97     2905    2           F$DCB=DDNNDCB;
       98     2906    2           F$DCB.DCBNAME.L=4;
       99     2907    2           F$DCB.DCBNAME.N=B$ROSEG.LDEVNAME(I);
      100     2908    2           F$DCB.NAME=CONSTOSFN;
      101     2909    2           RETURN;
      102     2910    2   ALTRETUR:ALTRETURN;
      103     2911    2   END BUILDDCB;
      104     2912
      105     2913        %EJECT;
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:5    
      106     2914    1   FSB$MEDDCB: ENTRY(I) ALTRET;
      107     2915
      108     2916    2           CALL FSA$GSP(SIZEW(DDNNDCB)+2,SDCB$) WHENALTRETURN DO;
      109     2917    2              ALTRETURN;
      110     2918    2              END;
      111     2919
      112     2920    1           F$DCB.DCBNAME.L = 0;
      113     2921    1           F$DCB = DDNNDCB;
      114     2922    1           F$DCB.DCBNAME.L = 4;
      115     2923    1           F$DCB.DCBNAME.N = ADDR(I)->RES;
      116     2924    1           F$DCB.NAME = CONSTOSFN;
      117     2925    1           F$DCB.IASN = %DEVICE#;
      118     2926    1           F$DCB.FCD = %YES#;
      119     2927    1           B$JIT.DCB$ = SDCB$;
      120     2928
      121     2929    1           RETURN;
      122     2930    1   END FSB$STREAMCREATE;
      123     2931        %EOD;

PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:6    
--  Include file information  --

   F_DCB_D.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   F_FPTCODE_C.:E05TOU  is referenced.
   FS$FIT.:E05TOU  is referenced.
   F_CP6.:E05TOU  is referenced.
   F$DCB.:E05TOU  is referenced.
   FM$FIT.:E05TOU  is referenced.
   B$ROSEG.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  is referenced.
   F$JIT_C.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure FSB$STREAMCREATE.

   Procedure FSB$STREAMCREATE requires 246 words for executable code.
   Procedure FSB$STREAMCREATE requires 10 words of local(AUTO) storage.

PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:7    

 Object Unit name= FSB$STREAMCREATE                           File name= FSB$STREAM.:E05TOU
 UTS= JUL 29 '97 17:27:29.72 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS    141    215  FSB$STREAMCREATE
    1   Proc  even  none   246    366  FSB$STREAMCREATE
    2  RoData even  none     8     10  FSB$STREAMCREATE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes    yes     yes      Std        1  FSB$STREAMCREATE
     1     71          yes     yes      Std        1  FSB$STREAMDCB
     1    310          yes     yes      Std        1  FSB$MEDDCB

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 FSA$GSP
         yes           Std       1 FMN$OPNF
         yes           Std       1 FSA$FDCB
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:8    

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     B$JIT$                                S_STREAMFILEID                        B$ROSEG$
     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:9    


        1        1        /*M* FSB$STREAM  BUILDS STREAM DCB'S.   */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* CLM=8,ICP,MOC,DMR */
        8        8        FSB$STREAMCREATE:PROC(I)ALTRET;

      8  1 000000   000000 700200 xent  FSB$STREAMC* TSX0  ! X66_AUTO_1
         1 000001   000012 000001                    ZERO    10,1

        9        9    1   DCL I SBIN; /* STREAM NUMBER                      */
       10       10    1   DCL FSA$GSP ENTRY(2)ALTRET; /* GET SPACE IN ROSEG                 */
       11       11    1   DCL FSA$FDCB ENTRY(1); /* Free a DCB's ROSEG space */
       12       12    1   DCL FMN$OPNF ENTRY(1); /* Open DCB to file */
       13       13    1   DCL B$JIT$ PTR SYMREF; /* Note B$JIT is BASED(B$JIT$).       */
       14       14    1   DCL S_STREAMFILEID CHAR(3)ALIGNED SYMREF;
       15       15        %INCLUDE F$JIT_C;
       16      445    1   DCL B$ROSEG$ PTR SYMREF;
       17      446        %MACRO B$ROSEG(BASED=BASED);
       18      447        %INCLUDE B$ROSEG;
       19      510        %MEND;
       20      511        %INCLUDE FM$FIT;
       21      732        %MACRO F$DCBI(BASED=BASED);
       22      733        %INCLUDE F$DCB;
       23      782        %MEND;
       24      783        %F$DCBI(BASED="BASED(SDCB$)");
       25      833        %INCLUDE F_CP6;
       26     1858        %FPT_OPEN(FPTN=OPENFPT,STCLASS=CONSTANT,PFMT=PTR,VECTOR=ADDR);
       27     1967        %INCLUDE FS$FIT;
       28     2010        %FS_OSFN(FPTN=OSFN,STCLASS=BASED);
       29     2024        %FS_OSFN(FPTN=CONSTOSFN,STCLASS=CONSTANT);
       30     2038        %INCLUDE F_FPTCODE_C;
       31     2074        %INCLUDE CP_6_SUBS;
       32     2614        %INCLUDE F_DCB_D;
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:10   
       33     2702        %M$MDCB (DCBN=DDNNDCB,STCLASS=CONSTANT,ASN=FILE,FUN=CREATE,
       34     2703                ACCT=':SYMO',CTG=YES,DISP=NAMED);
       35     2777        %CODE16;
       36     2785        %B$ROSEG (BASED="BASED(B$ROSEG$)");
       37     2845    1   DCL SDCB$ PTR; /* POINTER TO STREAM DCB              */
       38     2846    1   DCL J SBIN;
       39     2847    1   DCL RES CHAR(4) BASED;
       40     2848        %EJECT;
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:11   
       41     2849    1           CALL BUILDDCB ALTRET(ALTRETUR);

   2849  1 000002   000236 701000 1                  TSX1    BUILDDCB
         1 000003   000235 702000 1                  TSX2    ALTRETUR

       42     2850    1           CALL FSA$GSP(SIZEW(CODE16),F$DCB.FORM$) ALTRET(ALTRETURDCB);

   2850  1 000004   200004 236100                    LDQ     SDCB$,,AUTO
         1 000005   000050 036003                    ADLQ    40,DU
         1 000006   000001 235000 2                  LDA     1
         1 000007   200010 757100                    STAQ    J+3,,AUTO
         1 000010   200010 630500                    EPPR0   J+3,,AUTO
         1 000011   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000012   000000 701000 xent               TSX1    FSA$GSP
         1 000013   000227 702000 1                  TSX2    ALTRETURDCB

       43     2851    1           F$DCB.FORM$->CODE16='0'B;

   2851  1 000014   200004 470500                    LDP0    SDCB$,,AUTO
         1 000015   000050 471500                    LDP1    40,,PR0
         1 000016   000100 100400                    MLR     fill='000'O
         1 000017   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 000020   100000 000234                    ADSC9   0,,PR1                   cn=0,n=156

       44     2852    1           F$DCB.FORM$->CODE16.FORM=' ';

   2852  1 000021   200004 470500                    LDP0    SDCB$,,AUTO
         1 000022   000050 471500                    LDP1    40,,PR0
         1 000023   040100 100400                    MLR     fill='040'O
         1 000024   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 000025   100000 000006                    ADSC9   0,,PR1                   cn=0,n=6

       45     2853    1           F$DCB.RES=SUBSTR(B$ROSEG.LDEVNAME(I),0,2);

   2853  1 000026   200003 470500                    LDP0    @I,,AUTO
         1 000027   000000 235100                    LDA     0,,PR0
         1 000030   000000 471400 xsym               LDP1    B$ROSEG$
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:12   
         1 000031   100054 236105                    LDQ     44,AL,PR1
         1 000032   777777 376003                    ANQ     -1,DU
         1 000033   040040 276007                    ORQ     16416,DL
         1 000034   200004 473500                    LDP3    SDCB$,,AUTO
         1 000035   300026 756100                    STQ     22,,PR3

       46     2854    1           F$DCB.WSN=B$JIT.WOO;

   2854  1 000036   000000 474400 xsym               LDP4    B$JIT$
         1 000037   400010 237100                    LDAQ    8,,PR4
         1 000040   300027 755100                    STA     23,,PR3
         1 000041   300030 756100                    STQ     24,,PR3

       47     2855    1           F$DCB.WAIT=1;

   2855  1 000042   000020 236007                    LDQ     16,DL
         1 000043   300064 256100                    ORSQ    52,,PR3

       48     2856    1           F$DCB.ASN=0;

   2856  1 000044   000000 236003                    LDQ     0,DU
         1 000045   300032 552110                    STBQ    26,'10'O,PR3

       49     2857    1           B$JIT.DCB$=SDCB$;

   2857  1 000046   200004 236100                    LDQ     SDCB$,,AUTO
         1 000047   400232 756100                    STQ     154,,PR4

       50     2858    1           B$JIT.ERR='0'B;

   2858  1 000050   400012 450100                    STZ     10,,PR4

       51     2859    1           B$ROSEG.STREAMID.FLG(I)=2;

   2859  1 000051   000000 235100                    LDA     0,,PR0
         1 000052   100074 236105                    LDQ     60,AL,PR1
         1 000053   000002 376000 2                  ANQ     2
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:13   
         1 000054   400000 276003                    ORQ     -131072,DU
         1 000055   100074 756105                    STQ     60,AL,PR1

       52     2860    1           B$ROSEG.STREAMID.IDENT(I)=POFFW(SDCB$,B$ROSEG$);

   2860  1 000056   000000 235100                    LDA     0,,PR0
         1 000057   000000 236000 xsym               LDQ     B$ROSEG$
         1 000060   000022 772000                    QRL     18
         1 000061   200010 756100                    STQ     J+3,,AUTO
         1 000062   200004 236100                    LDQ     SDCB$,,AUTO
         1 000063   000022 772000                    QRL     18
         1 000064   200010 136100                    SBLQ    J+3,,AUTO
         1 000065   000000 620006                    EAX0    0,QL
         1 000066   000000 471400 xsym               LDP1    B$ROSEG$
         1 000067   100074 440105                    SXL0    60,AL,PR1

       53     2861    1           RETURN;

   2861  1 000070   000000 702200 xent               TSX2  ! X66_ARET

       54     2862        /**/
       55     2863        /**/
       56     2864    1   FSB$STREAMDCB: ENTRY(I) ALTRET;

   2864  1 000071   000000 700200 xent  FSB$STREAMD* TSX0  ! X66_AUTO_1
         1 000072   000012 000001                    ZERO    10,1

       57     2865    1           CALL BUILDDCB ALTRET(ALTRETUR);

   2865  1 000073   000236 701000 1                  TSX1    BUILDDCB
         1 000074   000235 702000 1                  TSX2    ALTRETUR

       58     2866    1           J=B$JIT.SYSID;

   2866  1 000075   000000 470400 xsym               LDP0    B$JIT$
         1 000076   000000 236100                    LDQ     0,,PR0
         1 000077   777777 376007                    ANQ     -1,DL
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:14   
         1 000100   200005 756100                    STQ     J,,AUTO

       59     2867    1           CALL BINCHAR(ADDR(F$DCB.NAME)->OSFN.SYSID,J);

   2867  1 000101   200004 471500                    LDP1    SDCB$,,AUTO
         1 000102   000100 301500                    BTD
         1 000103   200005 000004                    NDSC9   J,,AUTO                  cn=0,s=lsgnf,sf=0,n=4
         1 000104   100011 030006                    NDSC9   9,,PR1                   cn=0,s=nosgn,sf=0,n=6

       60     2868    1           ADDR(F$DCB.NAME)->OSFN.BOOTID=S_STREAMFILEID;

   2868  1 000105   000000 236000 xsym               LDQ     S_STREAMFILEID
         1 000106   000011 772000                    QRL     9
         1 000107   100010 552134                    STBQ    8,'34'O,PR1

       61     2869    1           J=B$ROSEG.STREAMID.IDENT(I);

   2869  1 000110   200003 473500                    LDP3    @I,,AUTO
         1 000111   300000 235100                    LDA     0,,PR3
         1 000112   000000 474400 xsym               LDP4    B$ROSEG$
         1 000113   400074 236105                    LDQ     60,AL,PR4
         1 000114   777777 376007                    ANQ     -1,DL
         1 000115   200005 756100                    STQ     J,,AUTO

       62     2870    1           CALL BINCHAR(ADDR(F$DCB.NAME)->OSFN.NUM,J);

   2870  1 000116   000100 301500                    BTD
         1 000117   200005 000004                    NDSC9   J,,AUTO                  cn=0,s=lsgnf,sf=0,n=4
         1 000120   100012 430006                    NDSC9   10,,PR1                  cn=2,s=nosgn,sf=0,n=6

       63     2871    1           J=B$ROSEG.STREAMID.SUBNAME(I);

   2871  1 000121   300000 235100                    LDA     0,,PR3
         1 000122   400074 236105                    LDQ     60,AL,PR4
         1 000123   000030 772000                    QRL     24
         1 000124   000777 376007                    ANQ     511,DL
         1 000125   200005 756100                    STQ     J,,AUTO
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:15   

       64     2872    1           CALL BINCHAR(ADDR(F$DCB.NAME)->OSFN.CNUM,J);

   2872  1 000126   000100 301500                    BTD
         1 000127   200005 000004                    NDSC9   J,,AUTO                  cn=0,s=lsgnf,sf=0,n=4
         1 000130   100014 030003                    NDSC9   12,,PR1                  cn=0,s=nosgn,sf=0,n=3

       65     2873    1           F$DCB.FUN=%UPDATE#;

   2873  1 000131   000001 236003                    LDQ     1,DU
         1 000132   100032 552120                    STBQ    26,'20'O,PR1

       66     2874    1           B$JIT.DCB$=SDCB$;

   2874  1 000133   200004 236100                    LDQ     SDCB$,,AUTO
         1 000134   000232 756100                    STQ     154,,PR0

       67     2875    1           B$JIT.ERR='0'B;

   2875  1 000135   000012 450100                    STZ     10,,PR0

       68     2876    1           F$DCB.ASN=0;

   2876  1 000136   000000 236003                    LDQ     0,DU
         1 000137   100032 552110                    STBQ    26,'10'O,PR1

       69     2877    1           F$DCB.IASN=%FILE#;

   2877  1 000140   000001 236007                    LDQ     1,DL
         1 000141   100103 552104                    STBQ    67,'04'O,PR1

       70     2878    1           F$DCB.WSR=1;

   2878  1 000142   000001 236003                    LDQ     1,DU
         1 000143   100040 552120                    STBQ    32,'20'O,PR1

       71     2879    1           IF B$ROSEG.STREAMID.UC_STR(I)
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:16   

   2879  1 000144   300000 235100                    LDA     0,,PR3
         1 000145   400074 236105                    LDQ     60,AL,PR4
         1 000146   000001 316003                    CANQ    1,DU
         1 000147   000155 600000 1                  TZE     s:2885

       72     2880    2           THEN DO;

       73     2881    2              F$DCB.IASN = %DEVICE#;

   2881  1 000150   000003 236007                    LDQ     3,DL
         1 000151   100103 552104                    STBQ    67,'04'O,PR1

       74     2882    2              F$DCB.FCD = %YES#;

   2882  1 000152   020000 236007                    LDQ     8192,DL
         1 000153   100031 256100                    ORSQ    25,,PR1

       75     2883    2              END;

   2883  1 000154   000161 710000 1                  TRA     s:2886

       76     2884    1           ELSE
       77     2885    1              CALL FMN$OPNF(OPENFPT);

   2885  1 000155   000003 630400 2                  EPPR0   3
         1 000156   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000157   000000 701000 xent               TSX1    FMN$OPNF
         1 000160   000000 011000                    NOP     0

       78     2886    1           IF B$JIT.ERR.CODE~=0 THEN GOTO ALTRETURDCB;

   2886  1 000161   000000 470400 xsym               LDP0    B$JIT$
         1 000162   000012 236100                    LDQ     10,,PR0
         1 000163   377770 316007                    CANQ    131064,DL
         1 000164   000227 601000 1                  TNZ     ALTRETURDCB

PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:17   
       79     2887    1           F$DCB.OWNER='0'B;

   2887  1 000165   200004 471500                    LDP1    SDCB$,,AUTO
         1 000166   000004 236000 2                  LDQ     4
         1 000167   100064 356100                    ANSQ    52,,PR1

       80     2888    1           IF F$DCB.FORM$ ~= ADDR(NIL)

   2888  1 000170   100050 236100                    LDQ     40,,PR1
         1 000171   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000172   000203 600000 1                  TZE     s:2893

       81     2889    2           THEN DO;

       82     2890    2              F$DCB.RES=F$DCB.FORM$->CODE16.DEV;

   2890  1 000173   100050 473500                    LDP3    40,,PR1
         1 000174   300011 236100                    LDQ     9,,PR3
         1 000175   000022 736000                    QLS     18
         1 000176   040040 276007                    ORQ     16416,DL
         1 000177   100026 756100                    STQ     22,,PR1

       83     2891    2              F$DCB.WSN=F$DCB.FORM$->CODE16.WSN;

   2891  1 000200   040100 100500                    MLR     fill='040'O
         1 000201   300012 000010                    ADSC9   10,,PR3                  cn=0,n=8
         1 000202   100027 000010                    ADSC9   23,,PR1                  cn=0,n=8

       84     2892    2              END;

       85     2893    1           F$DCB.WAIT=1;

   2893  1 000203   000020 236007                    LDQ     16,DL
         1 000204   100064 256100                    ORSQ    52,,PR1

       86     2894    1           B$ROSEG.STREAMID.FLG(I)=2;

PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:18   
   2894  1 000205   200003 473500                    LDP3    @I,,AUTO
         1 000206   300000 235100                    LDA     0,,PR3
         1 000207   000000 474400 xsym               LDP4    B$ROSEG$
         1 000210   400074 236105                    LDQ     60,AL,PR4
         1 000211   000002 376000 2                  ANQ     2
         1 000212   400000 276003                    ORQ     -131072,DU
         1 000213   400074 756105                    STQ     60,AL,PR4

       87     2895    1           B$ROSEG.STREAMID.IDENT(I)=POFFW(SDCB$,B$ROSEG$);

   2895  1 000214   300000 235100                    LDA     0,,PR3
         1 000215   000000 236000 xsym               LDQ     B$ROSEG$
         1 000216   000022 772000                    QRL     18
         1 000217   200010 756100                    STQ     J+3,,AUTO
         1 000220   200004 236100                    LDQ     SDCB$,,AUTO
         1 000221   000022 772000                    QRL     18
         1 000222   200010 136100                    SBLQ    J+3,,AUTO
         1 000223   000000 620006                    EAX0    0,QL
         1 000224   000000 470400 xsym               LDP0    B$ROSEG$
         1 000225   000074 440105                    SXL0    60,AL,PR0

       88     2896    1           RETURN;

   2896  1 000226   000000 702200 xent               TSX2  ! X66_ARET

   2895  1 000227                       ALTRETURDCB  null
       89     2897    1   ALTRETURDCB:;
       90     2898    1           CALL FSA$FDCB(SDCB$);

   2898  1 000227   200004 630500                    EPPR0   SDCB$,,AUTO
         1 000230   200010 450500                    STP0    J+3,,AUTO
         1 000231   200010 630500                    EPPR0   J+3,,AUTO
         1 000232   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000233   000000 701000 xent               TSX1    FSA$FDCB
         1 000234   000000 011000                    NOP     0

       91     2899    1   ALTRETUR:ALTRETURN;
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:19   

   2899  1 000235   000000 702200 xent  ALTRETUR     TSX2  ! X66_AALT

       92     2900        /**/
       93     2901        /**/
       94     2902    1   BUILDDCB:PROC ALTRET;

   2902  1 000236   200006 741300       BUILDDCB     STX1  ! J+1,,AUTO

       95     2903    2           CALL FSA$GSP(SIZEW(DDNNDCB)+2,SDCB$)ALTRET(ALTRETUR);

   2903  1 000237   200004 630500                    EPPR0   SDCB$,,AUTO
         1 000240   200011 450500                    STP0    J+4,,AUTO
         1 000241   000006 236000 2                  LDQ     6
         1 000242   200010 756100                    STQ     J+3,,AUTO
         1 000243   200010 630500                    EPPR0   J+3,,AUTO
         1 000244   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000245   000000 701000 xent               TSX1    FSA$GSP
         1 000246   000306 702000 1                  TSX2    ALTRETUR

       96     2904    2           F$DCB.DCBNAME.L=0;

   2904  1 000247   200004 470500                    LDP0    SDCB$,,AUTO
         1 000250   000007 236000 2                  LDQ     7
         1 000251   000140 356100                    ANSQ    96,,PR0

       97     2905    2           F$DCB=DDNNDCB;

   2905  1 000252   000140 236100                    LDQ     96,,PR0
         1 000253   000033 772000                    QRL     27
         1 000254   000037 376007                    ANQ     31,DL
         1 000255   000601 620006                    EAX0    385,QL
         1 000256   000140 100400                    MLR     fill='000'O
         1 000257   000055 000600 0                  ADSC9   DDNNDCB                  cn=0,n=384
         1 000260   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0

       98     2906    2           F$DCB.DCBNAME.L=4;
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:20   

   2906  1 000261   200004 470500                    LDP0    SDCB$,,AUTO
         1 000262   000140 236100                    LDQ     96,,PR0
         1 000263   000007 376000 2                  ANQ     7
         1 000264   004000 276003                    ORQ     2048,DU
         1 000265   000140 756100                    STQ     96,,PR0

       99     2907    2           F$DCB.DCBNAME.N=B$ROSEG.LDEVNAME(I);

   2907  1 000266   000140 236100                    LDQ     96,,PR0
         1 000267   000033 772000                    QRL     27
         1 000270   000037 376007                    ANQ     31,DL
         1 000271   200003 471500                    LDP1    @I,,AUTO
         1 000272   100000 235100                    LDA     0,,PR1
         1 000273   000002 735000                    ALS     2
         1 000274   000000 473400 xsym               LDP3    B$ROSEG$
         1 000275   000000 620006                    EAX0    0,QL
         1 000276   040140 100505                    MLR     fill='040'O
         1 000277   300054 000004                    ADSC9   44,A,PR3                 cn=0,n=4
         1 000300   000140 200010                    ADSC9   96,,PR0                  cn=1,n=*X0

      100     2908    2           F$DCB.NAME=CONSTOSFN;

   2908  1 000301   000100 100400                    MLR     fill='000'O
         1 000302   000050 000023 0                  ADSC9   CONSTOSFN                cn=0,n=19
         1 000303   000010 000040                    ADSC9   8,,PR0                   cn=0,n=32

      101     2909    2           RETURN;

   2909  1 000304   200006 221300                    LDX1  ! J+1,,AUTO
         1 000305   000001 702211                    TSX2  ! 1,X1

      102     2910    2   ALTRETUR:ALTRETURN;

   2910  1 000306   200006 221300       ALTRETUR     LDX1  ! J+1,,AUTO
         1 000307   000000 702211                    TSX2  ! 0,X1

PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:21   
      103     2911    2   END BUILDDCB;
      104     2912
      105     2913        %EJECT;
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:22   
      106     2914    1   FSB$MEDDCB: ENTRY(I) ALTRET;

   2914  1 000310   000000 700200 xent  FSB$MEDDCB   TSX0  ! X66_AUTO_1
         1 000311   000012 000001                    ZERO    10,1

      107     2915
      108     2916    2           CALL FSA$GSP(SIZEW(DDNNDCB)+2,SDCB$) WHENALTRETURN DO;

   2916  1 000312   200004 630500                    EPPR0   SDCB$,,AUTO
         1 000313   200011 450500                    STP0    J+4,,AUTO
         1 000314   000006 236000 2                  LDQ     6
         1 000315   200010 756100                    STQ     J+3,,AUTO
         1 000316   200010 630500                    EPPR0   J+3,,AUTO
         1 000317   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000320   000000 701000 xent               TSX1    FSA$GSP
         1 000321   000323 702000 1                  TSX2    s:2917
         1 000322   000324 710000 1                  TRA     s:2920

      109     2917    2              ALTRETURN;

   2917  1 000323   000000 702200 xent               TSX2  ! X66_AALT

      110     2918    2              END;
      111     2919
      112     2920    1           F$DCB.DCBNAME.L = 0;

   2920  1 000324   200004 470500                    LDP0    SDCB$,,AUTO
         1 000325   000007 236000 2                  LDQ     7
         1 000326   000140 356100                    ANSQ    96,,PR0

      113     2921    1           F$DCB = DDNNDCB;

   2921  1 000327   000140 236100                    LDQ     96,,PR0
         1 000330   000033 772000                    QRL     27
         1 000331   000037 376007                    ANQ     31,DL
         1 000332   000601 620006                    EAX0    385,QL
         1 000333   000140 100400                    MLR     fill='000'O
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:23   
         1 000334   000055 000600 0                  ADSC9   DDNNDCB                  cn=0,n=384
         1 000335   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0

      114     2922    1           F$DCB.DCBNAME.L = 4;

   2922  1 000336   200004 470500                    LDP0    SDCB$,,AUTO
         1 000337   000140 236100                    LDQ     96,,PR0
         1 000340   000007 376000 2                  ANQ     7
         1 000341   004000 276003                    ORQ     2048,DU
         1 000342   000140 756100                    STQ     96,,PR0

      115     2923    1           F$DCB.DCBNAME.N = ADDR(I)->RES;

   2923  1 000343   000140 236100                    LDQ     96,,PR0
         1 000344   000033 772000                    QRL     27
         1 000345   000037 376007                    ANQ     31,DL
         1 000346   200003 471500                    LDP1    @I,,AUTO
         1 000347   000000 620006                    EAX0    0,QL
         1 000350   040140 100500                    MLR     fill='040'O
         1 000351   100000 000004                    ADSC9   0,,PR1                   cn=0,n=4
         1 000352   000140 200010                    ADSC9   96,,PR0                  cn=1,n=*X0

      116     2924    1           F$DCB.NAME = CONSTOSFN;

   2924  1 000353   000100 100400                    MLR     fill='000'O
         1 000354   000050 000023 0                  ADSC9   CONSTOSFN                cn=0,n=19
         1 000355   000010 000040                    ADSC9   8,,PR0                   cn=0,n=32

      117     2925    1           F$DCB.IASN = %DEVICE#;

   2925  1 000356   000003 236007                    LDQ     3,DL
         1 000357   000103 552104                    STBQ    67,'04'O,PR0

      118     2926    1           F$DCB.FCD = %YES#;

   2926  1 000360   020000 236007                    LDQ     8192,DL
         1 000361   000031 256100                    ORSQ    25,,PR0
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:24   

      119     2927    1           B$JIT.DCB$ = SDCB$;

   2927  1 000362   200004 236100                    LDQ     SDCB$,,AUTO
         1 000363   000000 473400 xsym               LDP3    B$JIT$
         1 000364   300232 756100                    STQ     154,,PR3

      120     2928
      121     2929    1           RETURN;

   2929  1 000365   000000 702200 xent               TSX2  ! X66_ARET

OPENFPT
 Sect OctLoc
   0     000   000022 006000   000000 006014   000000 006014   000000 006014    ................
   0     004   000000 006014   000000 006014   000000 006014   000000 006014    ................
   0     020*  000000 006014   000000 006014   000000 000042   000000 000000    ..........."....
   0     024   252525 000000   000040 252520   000040 040040   000000 000000    ..... ...   ....
   0     030   000000 777777   000000 000000   000000 000000   000000 000000    ................
   0     034   000000 000000   000000 000000   251000 622000   000000 000000    ................
   0     040   000000 000000   111250 000000   040040 040040   000000 000000    ....I...    ....
   0     044   000000 000000   000000 000000   000000 000000   ****** ******    ................

CONSTOSFN
 Sect OctLoc
   0     050   022172 172172   060060 060060   060060 060060   060060 060060    .zzz000000000000
   0     054   060060 060***                                                    000.

DDNNDCB
 Sect OctLoc
   0     055   000000 000000   000000 000000   000000 000000   000000 000501    ................
   0     061   000000 000000   000000 000000   000000 006014   000000 006014    ................
   0     065   001040 040040   040040 040040   040040 040040   040040 040040    .
   0     071   040040 040040   040040 040040   040040 040040   040040 040040
   0     075   072123 131115   117040 040040   040040 040040   040040 040040    :SYMO
   0     101   040040 040040   040040 040040   115105 040040   040040 040040            ME
   0     105   040040 040040   000000 207015   000003 001002   000000 000000        ............
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:25   
   0     111   000000 000000   000000 000000   000000 000000   000002 776003    ................
   0     115   001000 000000   000000 000002   000000 000000   000000 000000    ................
   0     121   000000 000111   040040 040040   000000 006014   000000 006014    ...I    ........
   0     125   000000 006014   000000 000000   000000 000000   000000 006014    ................
   0     131   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     135   000000 010000   000000 000000   000000 000000   000000 000000    ................
   0     141   000000 000020   000000 000000   000000 006014   000000 000000    ................
   0     145   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     151   000000 000000   000000 006014   000000 000000   000000 000000    ................
   0     155   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     161   ****** ******   ****** ******   000000 000000   ****** ******    ................
   0     165   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     201*  000000 000000   000000 000000   000000 000000   ****** ******    ................
   0     211*  ****** ******   ****** ******   ****** ******   000000 070707    ..............8.

(unnamed)
 Sect OctLoc
   2     000   000000 000047   000000 006000   177777 777777   000000 006000    ...'............
   2     004   777777 737777   000000 000142   000005 006000   740777 777777    .......b........
      122     2930    1   END FSB$STREAMCREATE;
      123     2931        %EOD;

PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:26   
--  Include file information  --

   F_DCB_D.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   F_FPTCODE_C.:E05TOU  is referenced.
   FS$FIT.:E05TOU  is referenced.
   F_CP6.:E05TOU  is referenced.
   F$DCB.:E05TOU  is referenced.
   FM$FIT.:E05TOU  is referenced.
   B$ROSEG.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  is referenced.
   F$JIT_C.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure FSB$STREAMCREATE.
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:27   

 **** Variables and constants ****

  ****  Section 000 RoData FSB$STREAMCREATE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    50-0-0/w STRC(171)   r     1 CONSTOSFN                 55-0-0/w STRC(3456)  r     1 DDNNDCB
     0-0-0/d STRC(1440)  r     1 OPENFPT

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @I                        *0-0-0/w SBIN        r     1 I
     5-0-0/w SBIN        r     1 J                          4-0-0/w PTR         r     1 SDCB$

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$JIT$                     0-0-0/w PTR         r     1 B$ROSEG$
     0-0-0/w CHAR(3)     r     1 S_STREAMFILEID

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(8856)  r     1 B$JIT                      0-0-0/d STRC(3024)  r     1 B$ROSEG
     0-0-0/w STRC(1404)  r     1 CODE16                     0-0-0/d ASTR(3528)  r     1 F$DCB
     0-0-0/w STRC(171)   r     1 OSFN                       0-0-0/c CHAR(4)     r     1 RES

PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:28   

   Procedure FSB$STREAMCREATE requires 246 words for executable code.
   Procedure FSB$STREAMCREATE requires 10 words of local(AUTO) storage.
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:29   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:30   
          MINI XREF LISTING

ALTRETUR
      2899**LABEL    2849--CALLALT  2865--CALLALT
ALTRETUR IN PROCEDURE BUILDDCB
      2910**LABEL    2903--CALLALT
ALTRETURDCB
      2895**LABEL    2850--CALLALT  2886--GOTO
B$JIT.DCB$
       432**DCL      2857<<ASSIGN   2874<<ASSIGN   2927<<ASSIGN
B$JIT.ERR
       342**DCL      2858<<ASSIGN   2875<<ASSIGN
B$JIT.ERR.CODE
       343**DCL      2886>>IF
B$JIT.ERR.MID
       343**DCL       343--REDEF
B$JIT.SYSID
       342**DCL      2866>>ASSIGN
B$JIT.WOO
       342**DCL      2854>>ASSIGN
B$JIT$
        13**DCL       337--IMP-PTR  2854>>ASSIGN   2857>>ASSIGN   2858>>ASSIGN   2866>>ASSIGN   2874>>ASSIGN
      2875>>ASSIGN   2886>>IF       2927>>ASSIGN
B$ROSEG.LDEVNAME
      2805**DCL      2853>>ASSIGN   2907>>ASSIGN
B$ROSEG.STREAMID.FLG
      2807**DCL      2859<<ASSIGN   2894<<ASSIGN
B$ROSEG.STREAMID.IDENT
      2814**DCL      2860<<ASSIGN   2869>>ASSIGN   2895<<ASSIGN
B$ROSEG.STREAMID.SUBNAME
      2810**DCL      2871>>ASSIGN
B$ROSEG.STREAMID.UC_STR
      2813**DCL      2879>>IF
B$ROSEG$
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:31   
       445**DCL      2794--IMP-PTR  2830--IMP-PTR  2832--IMP-PTR  2853>>ASSIGN   2859>>ASSIGN   2860>>ASSIGN
      2860>>ASSIGN   2869>>ASSIGN   2871>>ASSIGN   2879>>IF       2894>>ASSIGN   2895>>ASSIGN   2895>>ASSIGN
      2907>>ASSIGN
BUILDDCB
      2902**PROC     2849--CALL     2865--CALL
CODE16
      2778**DCL      2850--CALL     2851<<ASSIGN
CODE16.DEV
      2781**DCL      2890>>ASSIGN
CODE16.FORM
      2778**DCL      2852<<ASSIGN
CODE16.WSN
      2781**DCL      2891>>ASSIGN
CONSTOSFN
      2035**DCL      2908>>ASSIGN   2924>>ASSIGN
DDNNDCB
      2704**DCL      2903--CALL     2905>>ASSIGN   2916--CALL     2921>>ASSIGN
DDNNDCB.ACTPOS
      2745**DCL      2745--REDEF
DDNNDCB.ARS#
      2704**DCL      2704--REDEF
DDNNDCB.ATTR#
      2734**DCL      2734--REDEF    2736--REDEF
DDNNDCB.BORROW
      2756**DCL      2756--REDEF    2756--REDEF    2756--REDEF
DDNNDCB.EOMCHAR#
      2711**DCL      2712--REDEF
DDNNDCB.FLDID
      2748**DCL      2749--REDEF
DDNNDCB.FORM$
      2740**DCL      2740--REDEF
DDNNDCB.FSECT
      2763**DCL      2763--REDEF
DDNNDCB.FSN#
      2730**DCL      2730--REDEF    2730--REDEF    2731--REDEF
DDNNDCB.HEADER$
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:32   
      2739**DCL      2740--REDEF
DDNNDCB.IXTNSIZE#
      2736**DCL      2737--REDEF
DDNNDCB.LASTSTA$
      2720**DCL      2720--REDEF
DDNNDCB.LVL
      2757**DCL      2757--REDEF
DDNNDCB.NAME#.C
      2720**DCL      2721--REDEF
DDNNDCB.NOEOF
      2752**DCL      2752--REDEF
DDNNDCB.NRECS#
      2737**DCL      2737--REDEF
DDNNDCB.NRECX
      2764**DCL      2764--REDEF
DDNNDCB.OHDR
      2753**DCL      2753--REDEF
DDNNDCB.ORG#
      2728**DCL      2729--REDEF
DDNNDCB.PRECNO
      2761**DCL      2761--REDEF
DDNNDCB.RCSZ
      2769**DCL      2769--REDEF
DDNNDCB.RES#
      2722**DCL      2722--REDEF
DDNNDCB.SETX
      2741**DCL      2741--REDEF
DDNNDCB.TAB$
      2740**DCL      2740--REDEF
DDNNDCB.TDA
      2760**DCL      2761--REDEF
DDNNDCB.WSN#
      2722**DCL      2723--REDEF
F$DCB
       784**DCL      2905<<ASSIGN   2921<<ASSIGN
F$DCB.ACTPOS
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:33   
       809**DCL       809--REDEF
F$DCB.ARS
       784**DCL       784--REDEF
F$DCB.ASN
       799**DCL      2856<<ASSIGN   2876<<ASSIGN
F$DCB.ATTR
       802**DCL       803--REDEF
F$DCB.BORROW
       817**DCL       817--REDEF     817--REDEF     817--REDEF
F$DCB.DCBNAME.L
       831**DCL       831--IMP-SIZ  2904<<ASSIGN   2905>>ASSIGN   2906<<ASSIGN   2907>>ASSIGN   2920<<ASSIGN
      2921>>ASSIGN   2922<<ASSIGN   2923>>ASSIGN
F$DCB.DCBNAME.N
       831**DCL      2907<<ASSIGN   2923<<ASSIGN
F$DCB.EOMCHAR
       788**DCL       788--REDEF
F$DCB.FCD
       797**DCL      2882<<ASSIGN   2926<<ASSIGN
F$DCB.FLDID
       812**DCL       812--REDEF
F$DCB.FORM$
       806**DCL       806--REDEF    2850<>CALL     2851>>ASSIGN   2852>>ASSIGN   2888>>IF       2890>>ASSIGN
      2891>>ASSIGN
F$DCB.FSECT
       822**DCL       822--REDEF
F$DCB.FSN
       799**DCL       799--REDEF     799--REDEF     800--REDEF
F$DCB.FUN
       798**DCL      2873<<ASSIGN
F$DCB.HEADER$
       805**DCL       805--REDEF
F$DCB.IASN
       825**DCL      2877<<ASSIGN   2881<<ASSIGN   2925<<ASSIGN
F$DCB.IXTNSIZE
       803**DCL       803--REDEF
F$DCB.LASTSTA$
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:34   
       793**DCL       793--REDEF
F$DCB.LVL
       818**DCL       818--REDEF
F$DCB.NAME
       793**DCL      2867--CALLBLT  2868--ASSIGN   2870--CALLBLT  2872--CALLBLT  2908<<ASSIGN   2924<<ASSIGN
F$DCB.NAME.C
       793**DCL       793--REDEF
F$DCB.NOEOF
       814**DCL       814--REDEF
F$DCB.NRECS
       804**DCL       804--REDEF
F$DCB.NRECX
       823**DCL       823--REDEF
F$DCB.OHDR
       815**DCL       815--REDEF
F$DCB.ORG
       798**DCL       798--REDEF
F$DCB.OWNER
       815**DCL      2887<<ASSIGN
F$DCB.PRECNO
       821**DCL       821--REDEF
F$DCB.RCSZ
       826**DCL       826--REDEF
F$DCB.RES
       794**DCL       794--REDEF    2853<<ASSIGN   2890<<ASSIGN
F$DCB.SETX
       806**DCL       806--REDEF
F$DCB.TAB$
       805**DCL       806--REDEF
F$DCB.TDA
       820**DCL       820--REDEF
F$DCB.WAIT
       816**DCL      2855<<ASSIGN   2893<<ASSIGN
F$DCB.WSN
       795**DCL       795--REDEF    2854<<ASSIGN   2891<<ASSIGN
F$DCB.WSR
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:35   
       801**DCL      2878<<ASSIGN
FMN$OPNF
        12**DCL-ENT  2885--CALL
FSA$FDCB
        11**DCL-ENT  2898--CALL
FSA$GSP
        10**DCL-ENT  2850--CALL     2903--CALL     2916--CALL
I
         9**DCL         8--PROC     2853>>ASSIGN   2859>>ASSIGN   2860>>ASSIGN   2864--ENTRY    2869>>ASSIGN
      2871>>ASSIGN   2879>>IF       2894>>ASSIGN   2895>>ASSIGN   2907>>ASSIGN   2914--ENTRY    2923--ASSIGN
J
      2846**DCL      2866<<ASSIGN   2867>>CALLBLT  2869<<ASSIGN   2870>>CALLBLT  2871<<ASSIGN   2872>>CALLBLT
OPENFPT
      1923**DCL      2885<>CALL
OPENFPT.ACSVEH_
      1925**DCL      1926--REDEF
OPENFPT.ALTKEYS_
      1931**DCL      1932--REDEF    1932--REDEF
OPENFPT.HDR_
      1930**DCL      1931--REDEF
OPENFPT.TAB_
      1929**DCL      1930--REDEF
OPENFPT.UHL_
      1923**DCL      1924--REDEF    1924--REDEF
OPENFPT.V
      1932**DCL      1923--DCLINIT
OPENFPT.V.FSN#
      1963**DCL      1963--REDEF    1963--REDEF
OPENFPT.WSN_
      1929**DCL      1929--REDEF
OSFN.BOOTID
      2021**DCL      2868<<ASSIGN
OSFN.CNUM
      2022**DCL      2872<<CALLBLT
OSFN.NUM
      2022**DCL      2870<<CALLBLT
PL6.E3A0      #001=FSB$STREAMCREATE File=FSB$STREAM.:E05TSI                      TUE 07/29/97 17:27 Page:36   
OSFN.SYSID
      2021**DCL      2867<<CALLBLT
RES
      2847**DCL      2923>>ASSIGN
SDCB$
      2845**DCL       784--IMP-PTR  2850>>CALL     2851>>ASSIGN   2852>>ASSIGN   2853>>ASSIGN   2854>>ASSIGN
      2855>>ASSIGN   2856>>ASSIGN   2857>>ASSIGN   2860>>ASSIGN   2867>>CALLBLT  2868>>ASSIGN   2870>>CALLBLT
      2872>>CALLBLT  2873>>ASSIGN   2874>>ASSIGN   2876>>ASSIGN   2877>>ASSIGN   2878>>ASSIGN   2881>>ASSIGN
      2882>>ASSIGN   2887>>ASSIGN   2888>>IF       2890>>ASSIGN   2890>>ASSIGN   2891>>ASSIGN   2891>>ASSIGN
      2893>>ASSIGN   2895>>ASSIGN   2898<>CALL     2903<>CALL     2904>>ASSIGN   2905>>ASSIGN   2905>>ASSIGN
      2906>>ASSIGN   2907>>ASSIGN   2907>>ASSIGN   2908>>ASSIGN   2916<>CALL     2920>>ASSIGN   2921>>ASSIGN
      2921>>ASSIGN   2922>>ASSIGN   2923>>ASSIGN   2923>>ASSIGN   2924>>ASSIGN   2925>>ASSIGN   2926>>ASSIGN
      2927>>ASSIGN
S_STREAMFILEID
        14**DCL      2868>>ASSIGN

PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:37   
      124        1        /*T***********************************************************/
      125        2        /*T*                                                         */
      126        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      127        4        /*T*                                                         */
      128        5        /*T***********************************************************/
      129        6        /*F*    NAME: FSB$SWITCH
      130        7                PURPOSE: FSB$SWITCH switches symbiont files when it is
      131        8                   time to chunk symbiont output.
      132        9        */
      133       10        /*D*    NAME: FSB$SWITCH
      134       11                CALL: CALL  FSB$SWITCH
      135       12                INPUT: B$JIT.DCB$ is open symbiont DCB.
      136       13                OUTPUT: B$JIT.DCB$ is open, but to new symbiont file
      137       14                   chunk; Outsym has been notified of old chunk, which
      138       15                   says CONTINUED.
      139       16        */
      140       17        FSB$SWITCH: PROC ALTRET;
      141       18        /***   DATA REFERENCES   ***/
      142       19    1   DCL B$JIT$ PTR SYMREF;
      143       20    1   DCL B$ROSEG$ PTR SYMREF;
      144       21        /***   ENTRY REFERENCES   ***/
      145       22    1   DCL FMD$GBUF ENTRY(1);
      146       23    1   DCL FMD$RBUF ENTRY(1);
      147       24    1   DCL FMN$GETFIT ENTRY(2)ALTRET;
      148       25    1   DCL FMO$LOCCODP ENTRY(2)ALTRET;
      149       26    1   DCL FMN$OPNF ENTRY(1);
      150       27    1   DCL FMP$CLSF ENTRY(1);
      151       28    1   DCL FSX$TELLOUTSYM ENTRY(3);
      152       29    1   DCL FMH$SYMB_FINISH  ENTRY(3) ALTRET;
      153       30        /***   INCLUDES, ETC.   ***/
      154       31        %INCLUDE F$JIT_C;
      155      461        %MACRO B$ROSEG(BASED=BASED);
      156      462        %INCLUDE B$ROSEG;
      157      525        %MEND;
      158      526        %B$ROSEG(BASED="BASED(B$ROSEG$)");
      159      586        %MACRO F$DCBI(BASED=BASED);
      160      587        %INCLUDE F$DCB;
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:38   
      161      636        %MEND;
      162      637        %F$DCBI(BASED="BASED(JDCB$)");
      163      687        %INCLUDE F_CP6;
      164     1712        %INCLUDE CP_6_SUBS;
      165     2252        %INCLUDE FM$MACROS;
      166     2627        %INCLUDE F_FMTCODE_C;
      167     2661        %INCLUDE FS$FIT;
      168     2704        %FPT_CLOSE(FPTN=CLSSAVE,DISP=SAVE,
      169     2705                STCLASS=CONSTANT,PFMT=PTR,VECTOR=ADDR);
      170     2747        %FPT_OPEN(FPTN=CONSTOPN,STCLASS=CONSTANT,PFMT=PTR,VECTOR=ADDR);
      171     2856        /***   BASED   ***/
      172     2857    1   DCL 1 GRAN BASED ALIGNED,
      173     2858    1         2 *(0:1023)UBIN;
      174     2859    1   DCL JDCB$ PTR;
      175     2860        %FM$GRAN;
      176     2864        %FS$DEST;
      177     2872        %FS_OSFN(STCLASS=BASED);
      178     2886        %CODE16;
      179     2894        /***   AUTOMATIC   ***/
      180     2895    1   DCL BUF$ PTR;
      181     2896    1   DCL BUF2$ PTR;
      182     2897    1   DCL I SBIN;
      183     2898    1   DCL J SBIN;
      184     2899    1   DCL K SBIN;
      185     2900        %FPT_OPEN(FPTN=AUTOFPT,STCLASS=,PFMT=PTR);
      186     3009        /**/
      187     3010    1           JDCB$=B$JIT.DCB$;
      188     3011    1           I=1;
      189     3012    1           K=F$DCB.IFMT;
      190     3013    1           CALL FMN$GETFIT(BUF$,I);
      191     3014    1           BUF2$=PINCRW(BUF$,SIZEW(FM$GRAN));
      192     3015    1           CALL FMO$LOCCODP(BUF2$,16);
      193     3016    1           BUF2$->CODE16=F$DCB.FORM$->CODE16;
      194     3017    1           CALL FMD$GBUF(BUF2$);
      195     3018    1           BUF2$->GRAN=BUF$->GRAN;
      196     3019    1           BUF$=PINCRW(BUF$,SIZEW(FM$GRAN));
      197     3020    1           CALL FMO$LOCCODP(BUF$,13);
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:39   
      198     3021    1           BUF$->FS$DEST.CONTINUED='1'B;
      199     3022    1           F$DCB.BFR.BUFUP(I)='1'B;
      200     3023    1           CALL FMP$CLSF(CLSSAVE);
      201     3024    1           CALL CHARBIN(J,ADDR(F$DCB.NAME)->FS_OSFN.CNUM);
      202     3025    1           CALL CHARBIN(I,ADDR(F$DCB.NAME)->FS_OSFN.NUM);
      203     3026    1           CALL FSX$TELLOUTSYM(,I*1000+J);
      204     3027    1           J=J+1;
      205     3028    1           CALL BINCHAR(ADDR(F$DCB.NAME)->FS_OSFN.CNUM,J);
      206     3029    2           DO I=0 TO 15;
      207     3030    2              IF B$ROSEG.STREAMID.FLG(I)=2 THEN
      208     3031    2                 IF B$ROSEG.STREAMID.IDENT(I)=POFFW(JDCB$,B$ROSEG$)
      209     3032    2                 THEN
      210     3033    2                    B$ROSEG.STREAMID.SUBNAME(I)=J;
      211     3034    2              END;
      212     3035    1           F$DCB.FUN=%CREATE#;
      213     3036    1           F$DCB.FEXTX=0;
      214     3037    1           F$DCB.IXTNSIZE=10*J+100*(J/10);
      215     3038    1           F$DCB.XTNSIZE=F$DCB.IXTNSIZE;
      216     3039    1           AUTOFPT=CONSTOPN;
      217     3040    1           AUTOFPT.IFPARAM_=PINCRW(BUF2$,SIZEW(FM$GRAN));
      218     3041    1           AUTOFPT.PROCATTR_=AUTOFPT.IFPARAM_;
      219     3042    1           BUF$=AUTOFPT.IFPARAM_;
      220     3043    1           CALL FMO$LOCCODP(BUF$,11)ALTRET(NOUATTR);
      221     3044    1           AUTOFPT.UATTR_=AUTOFPT.IFPARAM_;
      222     3045    1   NOUATTR:;
      223     3046    1           F$DCB.FFLG='0'B;
      224     3047    1           CALL FMN$OPNF(AUTOFPT);
      225     3048    1           BUF$=AUTOFPT.IFPARAM_;
      226     3049    1           CALL FMO$LOCCODP(BUF$,16);
      227     3050    1           F$DCB.FORM$->CODE16=BUF$->CODE16;
      228     3051    1           CALL FMD$RBUF(BUF2$);
      229     3052    1           F$DCB.WAIT=1;
      230     3053    2           IF F$DCB.ASN=%DEVICE# THEN DO;
      231     3054    2              F$DCB.IFMT=K;
      232     3055    2              F$DCB.FFLG=%FFLG_WNEW#;
      233     3056    2              END;
      234     3057    1           B$JIT.ERR='0'B;
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:40   
      235     3058    1           RETURN;
      236     3059    1   END FSB$SWITCH;
      237     3060        %EOD;

PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:41   
--  Include file information  --

   FS$FIT.:E05TOU  is referenced.
   F_FMTCODE_C.:E05TOU  is referenced.
   FM$MACROS.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   F_CP6.:E05TOU  is referenced.
   F$DCB.:E05TOU  is referenced.
   B$ROSEG.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  is referenced.
   F$JIT_C.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure FSB$SWITCH.

   Procedure FSB$SWITCH requires 197 words for executable code.
   Procedure FSB$SWITCH requires 54 words of local(AUTO) storage.

PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:42   

 Object Unit name= FSB$SWITCH                                 File name= FSB$STREAM.:E05TOU
 UTS= JUL 29 '97 17:27:48.72 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS     58     72  FSB$SWITCH
    1   Proc  even  none   197    305  FSB$SWITCH
    2  RoData even  none     6      6  FSB$SWITCH

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes    yes     yes      Std        0  FSB$SWITCH

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 FMN$GETFIT
 yes     yes           Std       2 FMO$LOCCODP
         yes           Std       1 FMP$CLSF
         yes           Std       1 FMD$GBUF
         yes           Std       3 FSX$TELLOUTSYM
         yes           Std       1 FMD$RBUF
         yes           Std       1 FMN$OPNF
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:43   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     B$JIT$                                B$ROSEG$                              B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:44   


      124        1        /*T***********************************************************/
      125        2        /*T*                                                         */
      126        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      127        4        /*T*                                                         */
      128        5        /*T***********************************************************/
      129        6        /*F*    NAME: FSB$SWITCH
      130        7                PURPOSE: FSB$SWITCH switches symbiont files when it is
      131        8                   time to chunk symbiont output.
      132        9        */
      133       10        /*D*    NAME: FSB$SWITCH
      134       11                CALL: CALL  FSB$SWITCH
      135       12                INPUT: B$JIT.DCB$ is open symbiont DCB.
      136       13                OUTPUT: B$JIT.DCB$ is open, but to new symbiont file
      137       14                   chunk; Outsym has been notified of old chunk, which
      138       15                   says CONTINUED.
      139       16        */
      140       17        FSB$SWITCH: PROC ALTRET;

     17  1 000000   000000 700200 xent  FSB$SWITCH   TSX0  ! X66_AUTO_0
         1 000001   000066 000000                    ZERO    54,0

      141       18        /***   DATA REFERENCES   ***/
      142       19    1   DCL B$JIT$ PTR SYMREF;
      143       20    1   DCL B$ROSEG$ PTR SYMREF;
      144       21        /***   ENTRY REFERENCES   ***/
      145       22    1   DCL FMD$GBUF ENTRY(1);
      146       23    1   DCL FMD$RBUF ENTRY(1);
      147       24    1   DCL FMN$GETFIT ENTRY(2)ALTRET;
      148       25    1   DCL FMO$LOCCODP ENTRY(2)ALTRET;
      149       26    1   DCL FMN$OPNF ENTRY(1);
      150       27    1   DCL FMP$CLSF ENTRY(1);
      151       28    1   DCL FSX$TELLOUTSYM ENTRY(3);
      152       29    1   DCL FMH$SYMB_FINISH  ENTRY(3) ALTRET;
      153       30        /***   INCLUDES, ETC.   ***/
      154       31        %INCLUDE F$JIT_C;
      155      461        %MACRO B$ROSEG(BASED=BASED);
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:45   
      156      462        %INCLUDE B$ROSEG;
      157      525        %MEND;
      158      526        %B$ROSEG(BASED="BASED(B$ROSEG$)");
      159      586        %MACRO F$DCBI(BASED=BASED);
      160      587        %INCLUDE F$DCB;
      161      636        %MEND;
      162      637        %F$DCBI(BASED="BASED(JDCB$)");
      163      687        %INCLUDE F_CP6;
      164     1712        %INCLUDE CP_6_SUBS;
      165     2252        %INCLUDE FM$MACROS;
      166     2627        %INCLUDE F_FMTCODE_C;
      167     2661        %INCLUDE FS$FIT;
      168     2704        %FPT_CLOSE(FPTN=CLSSAVE,DISP=SAVE,
      169     2705                STCLASS=CONSTANT,PFMT=PTR,VECTOR=ADDR);
      170     2747        %FPT_OPEN(FPTN=CONSTOPN,STCLASS=CONSTANT,PFMT=PTR,VECTOR=ADDR);
      171     2856        /***   BASED   ***/
      172     2857    1   DCL 1 GRAN BASED ALIGNED,
      173     2858    1         2 *(0:1023)UBIN;
      174     2859    1   DCL JDCB$ PTR;
      175     2860        %FM$GRAN;
      176     2864        %FS$DEST;
      177     2872        %FS_OSFN(STCLASS=BASED);
      178     2886        %CODE16;
      179     2894        /***   AUTOMATIC   ***/
      180     2895    1   DCL BUF$ PTR;
      181     2896    1   DCL BUF2$ PTR;
      182     2897    1   DCL I SBIN;
      183     2898    1   DCL J SBIN;
      184     2899    1   DCL K SBIN;
      185     2900        %FPT_OPEN(FPTN=AUTOFPT,STCLASS=,PFMT=PTR);
      186     3009        /**/
      187     3010    1           JDCB$=B$JIT.DCB$;

   3010  1 000002   000000 470400 xsym               LDP0    B$JIT$
         1 000003   000232 236100                    LDQ     154,,PR0
         1 000004   200003 756100                    STQ     JDCB$,,AUTO

PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:46   
      188     3011    1           I=1;

   3011  1 000005   000001 235007                    LDA     1,DL
         1 000006   200006 755100                    STA     I,,AUTO

      189     3012    1           K=F$DCB.IFMT;

   3012  1 000007   200003 471500                    LDP1    JDCB$,,AUTO
         1 000010   100103 236100                    LDQ     67,,PR1
         1 000011   000033 772000                    QRL     27
         1 000012   200010 756100                    STQ     K,,AUTO

      190     3013    1           CALL FMN$GETFIT(BUF$,I);

   3013  1 000013   200006 633500                    EPPR3   I,,AUTO
         1 000014   200063 453500                    STP3    AUTOFPT+41,,AUTO
         1 000015   200004 634500                    EPPR4   BUF$,,AUTO
         1 000016   200062 454500                    STP4    AUTOFPT+40,,AUTO
         1 000017   200062 630500                    EPPR0   AUTOFPT+40,,AUTO
         1 000020   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000021   000000 701000 xent               TSX1    FMN$GETFIT
         1 000022   000000 011000                    NOP     0

      191     3014    1           BUF2$=PINCRW(BUF$,SIZEW(FM$GRAN));

   3014  1 000023   200004 236100                    LDQ     BUF$,,AUTO
         1 000024   000005 036003                    ADLQ    5,DU
         1 000025   200005 756100                    STQ     BUF2$,,AUTO

      192     3015    1           CALL FMO$LOCCODP(BUF2$,16);

   3015  1 000026   000001 236000 2                  LDQ     1
         1 000027   200063 756100                    STQ     AUTOFPT+41,,AUTO
         1 000030   200005 630500                    EPPR0   BUF2$,,AUTO
         1 000031   200062 450500                    STP0    AUTOFPT+40,,AUTO
         1 000032   200062 630500                    EPPR0   AUTOFPT+40,,AUTO
         1 000033   000020 631400 xsym               EPPR1   B_VECTNIL+16
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:47   
         1 000034   000000 701000 xent               TSX1    FMO$LOCCODP
         1 000035   000000 011000                    NOP     0

      193     3016    1           BUF2$->CODE16=F$DCB.FORM$->CODE16;

   3016  1 000036   200003 470500                    LDP0    JDCB$,,AUTO
         1 000037   000050 471500                    LDP1    40,,PR0
         1 000040   200005 473500                    LDP3    BUF2$,,AUTO
         1 000041   000100 100500                    MLR     fill='000'O
         1 000042   100000 000234                    ADSC9   0,,PR1                   cn=0,n=156
         1 000043   300000 000234                    ADSC9   0,,PR3                   cn=0,n=156

      194     3017    1           CALL FMD$GBUF(BUF2$);

   3017  1 000044   200005 631500                    EPPR1   BUF2$,,AUTO
         1 000045   200062 451500                    STP1    AUTOFPT+40,,AUTO
         1 000046   200062 630500                    EPPR0   AUTOFPT+40,,AUTO
         1 000047   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000050   000000 701000 xent               TSX1    FMD$GBUF
         1 000051   000000 011000                    NOP     0

      195     3018    1           BUF2$->GRAN=BUF$->GRAN;

   3018  1 000052   200004 470500                    LDP0    BUF$,,AUTO
         1 000053   010000 220003                    LDX0    4096,DU
         1 000054   200005 471500                    LDP1    BUF2$,,AUTO
         1 000055   000140 100540                    MLR     fill='000'O
         1 000056   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         1 000057   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

      196     3019    1           BUF$=PINCRW(BUF$,SIZEW(FM$GRAN));

   3019  1 000060   200004 236100                    LDQ     BUF$,,AUTO
         1 000061   000005 036003                    ADLQ    5,DU
         1 000062   200004 756100                    STQ     BUF$,,AUTO

      197     3020    1           CALL FMO$LOCCODP(BUF$,13);
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:48   

   3020  1 000063   000003 236000 2                  LDQ     3
         1 000064   200063 756100                    STQ     AUTOFPT+41,,AUTO
         1 000065   200004 630500                    EPPR0   BUF$,,AUTO
         1 000066   200062 450500                    STP0    AUTOFPT+40,,AUTO
         1 000067   200062 630500                    EPPR0   AUTOFPT+40,,AUTO
         1 000070   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000071   000000 701000 xent               TSX1    FMO$LOCCODP
         1 000072   000000 011000                    NOP     0

      198     3021    1           BUF$->FS$DEST.CONTINUED='1'B;

   3021  1 000073   200004 470500                    LDP0    BUF$,,AUTO
         1 000074   400000 236003                    LDQ     -131072,DU
         1 000075   000005 256100                    ORSQ    5,,PR0

      199     3022    1           F$DCB.BFR.BUFUP(I)='1'B;

   3022  1 000076   200003 471500                    LDP1    JDCB$,,AUTO
         1 000077   200006 720100                    LXL0    I,,AUTO
         1 000100   100115 256110                    ORSQ    77,X0,PR1

      200     3023    1           CALL FMP$CLSF(CLSSAVE);

   3023  1 000101   000004 630400 2                  EPPR0   4
         1 000102   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000103   000000 701000 xent               TSX1    FMP$CLSF
         1 000104   000000 011000                    NOP     0

      201     3024    1           CALL CHARBIN(J,ADDR(F$DCB.NAME)->FS_OSFN.CNUM);

   3024  1 000105   200003 470500                    LDP0    JDCB$,,AUTO
         1 000106   000100 305500                    DTB
         1 000107   000014 030003                    NDSC9   12,,PR0                  cn=0,s=nosgn,sf=0,n=3
         1 000110   200007 000004                    NDSC9   J,,AUTO                  cn=0,s=lsgnf,sf=0,n=4

      202     3025    1           CALL CHARBIN(I,ADDR(F$DCB.NAME)->FS_OSFN.NUM);
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:49   

   3025  1 000111   000100 305500                    DTB
         1 000112   000012 430006                    NDSC9   10,,PR0                  cn=2,s=nosgn,sf=0,n=6
         1 000113   200006 000004                    NDSC9   I,,AUTO                  cn=0,s=lsgnf,sf=0,n=4

      203     3026    1           CALL FSX$TELLOUTSYM(,I*1000+J);

   3026  1 000114   200006 236100                    LDQ     I,,AUTO
         1 000115   001750 402007                    MPY     1000,DL
         1 000116   200007 036100                    ADLQ    J,,AUTO
         1 000117   200062 756100                    STQ     AUTOFPT+40,,AUTO
         1 000120   200062 631500                    EPPR1   AUTOFPT+40,,AUTO
         1 000121   200065 451500                    STP1    AUTOFPT+43,,AUTO
         1 000122   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 000123   200064 756100                    STQ     AUTOFPT+42,,AUTO
         1 000124   200064 630500                    EPPR0   AUTOFPT+42,,AUTO
         1 000125   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000126   000000 701000 xent               TSX1    FSX$TELLOUTSYM
         1 000127   000000 011000                    NOP     0

      204     3027    1           J=J+1;

   3027  1 000130   200007 054100                    AOS     J,,AUTO

      205     3028    1           CALL BINCHAR(ADDR(F$DCB.NAME)->FS_OSFN.CNUM,J);

   3028  1 000131   200003 470500                    LDP0    JDCB$,,AUTO
         1 000132   000100 301500                    BTD
         1 000133   200007 000004                    NDSC9   J,,AUTO                  cn=0,s=lsgnf,sf=0,n=4
         1 000134   000014 030003                    NDSC9   12,,PR0                  cn=0,s=nosgn,sf=0,n=3

      206     3029    2           DO I=0 TO 15;

   3029  1 000135   200006 450100                    STZ     I,,AUTO

      207     3030    2              IF B$ROSEG.STREAMID.FLG(I)=2 THEN

PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:50   
   3030  1 000136   000000 470400 xsym               LDP0    B$ROSEG$
         1 000137   200006 720100                    LXL0    I,,AUTO
         1 000140   000074 236110                    LDQ     60,X0,PR0
         1 000141   600000 376003                    ANQ     -65536,DU
         1 000142   400000 116003                    CMPQ    -131072,DU
         1 000143   000164 601000 1                  TNZ     s:3034

      208     3031    2                 IF B$ROSEG.STREAMID.IDENT(I)=POFFW(JDCB$,B$ROSEG$)

   3031  1 000144   000000 235000 xsym               LDA     B$ROSEG$
         1 000145   000022 771000                    ARL     18
         1 000146   200062 755100                    STA     AUTOFPT+40,,AUTO
         1 000147   200003 236100                    LDQ     JDCB$,,AUTO
         1 000150   000022 772000                    QRL     18
         1 000151   200062 136100                    SBLQ    AUTOFPT+40,,AUTO
         1 000152   200063 756100                    STQ     AUTOFPT+41,,AUTO
         1 000153   000074 236110                    LDQ     60,X0,PR0
         1 000154   777777 376007                    ANQ     -1,DL
         1 000155   200063 116100                    CMPQ    AUTOFPT+41,,AUTO
         1 000156   000164 601000 1                  TNZ     s:3034

      209     3032    2                 THEN
      210     3033    2                    B$ROSEG.STREAMID.SUBNAME(I)=J;

   3033  1 000157   200007 236100                    LDQ     J,,AUTO
         1 000160   000030 736000                    QLS     24
         1 000161   000074 676110                    ERQ     60,X0,PR0
         1 000162   077700 376003                    ANQ     32704,DU
         1 000163   000074 656110                    ERSQ    60,X0,PR0

      211     3034    2              END;

   3034  1 000164   200006 054100                    AOS     I,,AUTO
         1 000165   200006 235100                    LDA     I,,AUTO
         1 000166   000017 115007                    CMPA    15,DL
         1 000167   000136 604400 1                  TMOZ    s:3030

PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:51   
      212     3035    1           F$DCB.FUN=%CREATE#;

   3035  1 000170   200003 470500                    LDP0    JDCB$,,AUTO
         1 000171   000003 236003                    LDQ     3,DU
         1 000172   000032 552120                    STBQ    26,'20'O,PR0

      213     3036    1           F$DCB.FEXTX=0;

   3036  1 000173   000000 236003                    LDQ     0,DU
         1 000174   000034 552110                    STBQ    28,'10'O,PR0

      214     3037    1           F$DCB.IXTNSIZE=10*J+100*(J/10);

   3037  1 000175   200007 236100                    LDQ     J,,AUTO
         1 000176   000012 506007                    DIV     10,DL
         1 000177   000012 402007                    MPY     10,DL
         1 000200   200007 036100                    ADLQ    J,,AUTO
         1 000201   000012 402007                    MPY     10,DL
         1 000202   000041 756100                    STQ     33,,PR0

      215     3038    1           F$DCB.XTNSIZE=F$DCB.IXTNSIZE;

   3038  1 000203   000041 720100                    LXL0    33,,PR0
         1 000204   000037 740100                    STX0    31,,PR0

      216     3039    1           AUTOFPT=CONSTOPN;

   3039  1 000205   000100 100400                    MLR     fill='000'O
         1 000206   000022 000240 0                  ADSC9   CONSTOPN                 cn=0,n=160
         1 000207   200012 000240                    ADSC9   AUTOFPT,,AUTO            cn=0,n=160

      217     3040    1           AUTOFPT.IFPARAM_=PINCRW(BUF2$,SIZEW(FM$GRAN));

   3040  1 000210   200005 236100                    LDQ     BUF2$,,AUTO
         1 000211   000005 036003                    ADLQ    5,DU
         1 000212   200025 756100                    STQ     AUTOFPT+11,,AUTO

PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:52   
      218     3041    1           AUTOFPT.PROCATTR_=AUTOFPT.IFPARAM_;

   3041  1 000213   200023 756100                    STQ     AUTOFPT+9,,AUTO

      219     3042    1           BUF$=AUTOFPT.IFPARAM_;

   3042  1 000214   200004 756100                    STQ     BUF$,,AUTO

      220     3043    1           CALL FMO$LOCCODP(BUF$,11)ALTRET(NOUATTR);

   3043  1 000215   000005 236000 2                  LDQ     5
         1 000216   200063 756100                    STQ     AUTOFPT+41,,AUTO
         1 000217   200004 631500                    EPPR1   BUF$,,AUTO
         1 000220   200062 451500                    STP1    AUTOFPT+40,,AUTO
         1 000221   200062 630500                    EPPR0   AUTOFPT+40,,AUTO
         1 000222   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000223   000000 701000 xent               TSX1    FMO$LOCCODP
         1 000224   000227 702000 1                  TSX2    NOUATTR

      221     3044    1           AUTOFPT.UATTR_=AUTOFPT.IFPARAM_;

   3044  1 000225   200025 236100                    LDQ     AUTOFPT+11,,AUTO
         1 000226   200021 756100                    STQ     AUTOFPT+7,,AUTO

   3044  1 000227                       NOUATTR      null
      222     3045    1   NOUATTR:;
      223     3046    1           F$DCB.FFLG='0'B;

   3046  1 000227   000000 220003                    LDX0    0,DU
         1 000230   200003 470500                    LDP0    JDCB$,,AUTO
         1 000231   000004 740100                    STX0    4,,PR0

      224     3047    1           CALL FMN$OPNF(AUTOFPT);

   3047  1 000232   200012 631500                    EPPR1   AUTOFPT,,AUTO
         1 000233   200062 451500                    STP1    AUTOFPT+40,,AUTO
         1 000234   200062 630500                    EPPR0   AUTOFPT+40,,AUTO
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:53   
         1 000235   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000236   000000 701000 xent               TSX1    FMN$OPNF
         1 000237   000000 011000                    NOP     0

      225     3048    1           BUF$=AUTOFPT.IFPARAM_;

   3048  1 000240   200025 236100                    LDQ     AUTOFPT+11,,AUTO
         1 000241   200004 756100                    STQ     BUF$,,AUTO

      226     3049    1           CALL FMO$LOCCODP(BUF$,16);

   3049  1 000242   000001 236000 2                  LDQ     1
         1 000243   200063 756100                    STQ     AUTOFPT+41,,AUTO
         1 000244   200004 630500                    EPPR0   BUF$,,AUTO
         1 000245   200062 450500                    STP0    AUTOFPT+40,,AUTO
         1 000246   200062 630500                    EPPR0   AUTOFPT+40,,AUTO
         1 000247   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000250   000000 701000 xent               TSX1    FMO$LOCCODP
         1 000251   000000 011000                    NOP     0

      227     3050    1           F$DCB.FORM$->CODE16=BUF$->CODE16;

   3050  1 000252   200003 470500                    LDP0    JDCB$,,AUTO
         1 000253   000050 471500                    LDP1    40,,PR0
         1 000254   200004 473500                    LDP3    BUF$,,AUTO
         1 000255   000100 100500                    MLR     fill='000'O
         1 000256   300000 000234                    ADSC9   0,,PR3                   cn=0,n=156
         1 000257   100000 000234                    ADSC9   0,,PR1                   cn=0,n=156

      228     3051    1           CALL FMD$RBUF(BUF2$);

   3051  1 000260   200005 631500                    EPPR1   BUF2$,,AUTO
         1 000261   200062 451500                    STP1    AUTOFPT+40,,AUTO
         1 000262   200062 630500                    EPPR0   AUTOFPT+40,,AUTO
         1 000263   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000264   000000 701000 xent               TSX1    FMD$RBUF
         1 000265   000000 011000                    NOP     0
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:54   

      229     3052    1           F$DCB.WAIT=1;

   3052  1 000266   200003 470500                    LDP0    JDCB$,,AUTO
         1 000267   000020 236007                    LDQ     16,DL
         1 000270   000064 256100                    ORSQ    52,,PR0

      230     3053    2           IF F$DCB.ASN=%DEVICE# THEN DO;

   3053  1 000271   000032 236100                    LDQ     26,,PR0
         1 000272   777000 376007                    ANQ     -512,DL
         1 000273   003000 116007                    CMPQ    1536,DL
         1 000274   000302 601000 1                  TNZ     s:3057

      231     3054    2              F$DCB.IFMT=K;

   3054  1 000275   200010 236100                    LDQ     K,,AUTO
         1 000276   000033 736000                    QLS     27
         1 000277   000103 552140                    STBQ    67,'40'O,PR0

      232     3055    2              F$DCB.FFLG=%FFLG_WNEW#;

   3055  1 000300   100000 220003                    LDX0    32768,DU
         1 000301   000004 740100                    STX0    4,,PR0

      233     3056    2              END;

      234     3057    1           B$JIT.ERR='0'B;

   3057  1 000302   000000 471400 xsym               LDP1    B$JIT$
         1 000303   100012 450100                    STZ     10,,PR1

      235     3058    1           RETURN;

   3058  1 000304   000000 702200 xent               TSX2  ! X66_ARET

CLSSAVE
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:55   
 Sect OctLoc
   0     000   000016 006000   000000 006014   000000 006014   000000 006014    ................
   0     004   000000 006014   000000 006014   000000 006014   000000 006014    ................
   0     014*  000000 006014   ****** ******   000000 000002   000000 000040    ...............
   0     020   000220 000000   000000 000000                                    ........

CONSTOPN
 Sect OctLoc
   0     022   000044 006000   000000 006014   000000 006014   000000 006014    .$..............
   0     026   000000 006014   000000 006014   000000 006014   000000 006014    ................
   0     042*  000000 006014   000000 006014   000000 000042   000000 000000    ..........."....
   0     046   252525 000000   000040 252520   000040 040040   000000 000000    ..... ...   ....
   0     052   000000 777777   000000 000000   000000 000000   000000 000000    ................
   0     056   000000 000000   000000 000000   251000 622000   000000 000000    ................
   0     062   000000 000000   111250 000000   040040 040040   000000 000000    ....I...    ....
   0     066   000000 000000   000000 000000   000000 000000   ****** ******    ................

(unnamed)
 Sect OctLoc
   2     000   000000 000020   000000 006000   000000 000015   000002 006000    ................
   2     004   000000 006000   000015 006000                                    ........
      236     3059    1   END FSB$SWITCH;
      237     3060        %EOD;

PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:56   
--  Include file information  --

   FS$FIT.:E05TOU  is referenced.
   F_FMTCODE_C.:E05TOU  is referenced.
   FM$MACROS.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   F_CP6.:E05TOU  is referenced.
   F$DCB.:E05TOU  is referenced.
   B$ROSEG.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  is referenced.
   F$JIT_C.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure FSB$SWITCH.
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:57   

 **** Variables and constants ****

  ****  Section 000 RoData FSB$SWITCH

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(648)   r     1 CLSSAVE                   22-0-0/d STRC(1440)  r     1 CONSTOPN

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    12-0-0/d STRC(1440)  r     1 AUTOFPT                    4-0-0/w PTR         r     1 BUF$
     5-0-0/w PTR         r     1 BUF2$                      6-0-0/w SBIN        r     1 I
     7-0-0/w SBIN        r     1 J                          3-0-0/w PTR         r     1 JDCB$
    10-0-0/w SBIN        r     1 K

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$JIT$                     0-0-0/w PTR         r     1 B$ROSEG$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(8856)  r     1 B$JIT                      0-0-0/d STRC(3024)  r     1 B$ROSEG
     0-0-0/w STRC(1404)  r     1 CODE16                     0-0-0/d ASTR(3528)  r     1 F$DCB
     0-0-0/w STRC(180)   r     1 FM$GRAN                    0-0-0/w STRC(936)   r     1 FS$DEST
     0-0-0/w STRC(171)   r     1 FS_OSFN                    0-0-0/w STRC(36864) r     1 GRAN

PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:58   

   Procedure FSB$SWITCH requires 197 words for executable code.
   Procedure FSB$SWITCH requires 54 words of local(AUTO) storage.
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:59   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:60   
          MINI XREF LISTING

AUTOFPT
      2965**DCL      3039<<ASSIGN   3047<>CALL
AUTOFPT.ACSVEH_
      2967**DCL      2968--REDEF
AUTOFPT.ALTKEYS_
      2973**DCL      2974--REDEF    2974--REDEF
AUTOFPT.HDR_
      2972**DCL      2973--REDEF
AUTOFPT.IFPARAM_
      2970**DCL      3040<<ASSIGN   3041>>ASSIGN   3042>>ASSIGN   3044>>ASSIGN   3048>>ASSIGN
AUTOFPT.PROCATTR_
      2969**DCL      3041<<ASSIGN
AUTOFPT.TAB_
      2971**DCL      2972--REDEF
AUTOFPT.UATTR_
      2968**DCL      3044<<ASSIGN
AUTOFPT.UHL_
      2965**DCL      2966--REDEF    2966--REDEF
AUTOFPT.V.FSN#
      3005**DCL      3005--REDEF    3005--REDEF
AUTOFPT.WSN_
      2971**DCL      2971--REDEF
B$JIT.DCB$
       448**DCL      3010>>ASSIGN
B$JIT.ERR
       358**DCL      3057<<ASSIGN
B$JIT.ERR.MID
       359**DCL       359--REDEF
B$JIT$
        19**DCL       353--IMP-PTR  3010>>ASSIGN   3057>>ASSIGN
B$ROSEG.STREAMID.FLG
       548**DCL      3030>>IF
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:61   
B$ROSEG.STREAMID.IDENT
       555**DCL      3031>>IF
B$ROSEG.STREAMID.SUBNAME
       551**DCL      3033<<ASSIGN
B$ROSEG$
        20**DCL       535--IMP-PTR   571--IMP-PTR   573--IMP-PTR  3030>>IF       3031>>IF       3031>>IF
      3033>>ASSIGN
BUF$
      2895**DCL      3013<>CALL     3014>>ASSIGN   3018>>ASSIGN   3019<<ASSIGN   3019>>ASSIGN   3020<>CALL
      3021>>ASSIGN   3042<<ASSIGN   3043<>CALL     3048<<ASSIGN   3049<>CALL     3050>>ASSIGN
BUF2$
      2896**DCL      3014<<ASSIGN   3015<>CALL     3016>>ASSIGN   3017<>CALL     3018>>ASSIGN   3040>>ASSIGN
      3051<>CALL
CLSSAVE
      2728**DCL      3023<>CALL
CLSSAVE.SN_
      2728**DCL      2728--REDEF
CLSSAVE.UTL_
      2729**DCL      2729--REDEF
CLSSAVE.V
      2733**DCL      2728--DCLINIT
CLSSAVE.V.EXPIRE#
      2743**DCL      2743--REDEF
CLSSAVE.V.TYPE#
      2741**DCL      2741--REDEF
CLSSAVE.V.XTNSIZE#
      2738**DCL      2738--REDEF    2740--REDEF
CODE16
      2887**DCL      3016<<ASSIGN   3016>>ASSIGN   3050<<ASSIGN   3050>>ASSIGN
CONSTOPN
      2812**DCL      3039>>ASSIGN
CONSTOPN.ACSVEH_
      2814**DCL      2815--REDEF
CONSTOPN.ALTKEYS_
      2820**DCL      2821--REDEF    2821--REDEF
CONSTOPN.HDR_
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:62   
      2819**DCL      2820--REDEF
CONSTOPN.TAB_
      2818**DCL      2819--REDEF
CONSTOPN.UHL_
      2812**DCL      2813--REDEF    2813--REDEF
CONSTOPN.V
      2821**DCL      2812--DCLINIT
CONSTOPN.V.FSN#
      2852**DCL      2852--REDEF    2852--REDEF
CONSTOPN.WSN_
      2818**DCL      2818--REDEF
F$DCB.ACTPOS
       663**DCL       663--REDEF
F$DCB.ARS
       638**DCL       638--REDEF
F$DCB.ASN
       653**DCL      3053>>IF
F$DCB.ATTR
       656**DCL       657--REDEF
F$DCB.BFR.BUFUP
       682**DCL      3022<<ASSIGN
F$DCB.BORROW
       671**DCL       671--REDEF     671--REDEF     671--REDEF
F$DCB.DCBNAME.L
       685**DCL       685--IMP-SIZ
F$DCB.EOMCHAR
       642**DCL       642--REDEF
F$DCB.FEXTX
       654**DCL      3036<<ASSIGN
F$DCB.FFLG
       642**DCL      3046<<ASSIGN   3055<<ASSIGN
F$DCB.FLDID
       666**DCL       666--REDEF
F$DCB.FORM$
       660**DCL       660--REDEF    3016>>ASSIGN   3050>>ASSIGN
F$DCB.FSECT
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:63   
       676**DCL       676--REDEF
F$DCB.FSN
       653**DCL       653--REDEF     653--REDEF     654--REDEF
F$DCB.FUN
       652**DCL      3035<<ASSIGN
F$DCB.HEADER$
       659**DCL       659--REDEF
F$DCB.IFMT
       678**DCL      3012>>ASSIGN   3054<<ASSIGN
F$DCB.IXTNSIZE
       657**DCL       657--REDEF    3037<<ASSIGN   3038>>ASSIGN
F$DCB.LASTSTA$
       647**DCL       647--REDEF
F$DCB.LVL
       672**DCL       672--REDEF
F$DCB.NAME
       647**DCL      3024--CALLBLT  3025--CALLBLT  3028--CALLBLT
F$DCB.NAME.C
       647**DCL       647--REDEF
F$DCB.NOEOF
       668**DCL       668--REDEF
F$DCB.NRECS
       658**DCL       658--REDEF
F$DCB.NRECX
       677**DCL       677--REDEF
F$DCB.OHDR
       669**DCL       669--REDEF
F$DCB.ORG
       652**DCL       652--REDEF
F$DCB.PRECNO
       675**DCL       675--REDEF
F$DCB.RCSZ
       680**DCL       680--REDEF
F$DCB.RES
       648**DCL       648--REDEF
F$DCB.SETX
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:64   
       660**DCL       660--REDEF
F$DCB.TAB$
       659**DCL       660--REDEF
F$DCB.TDA
       674**DCL       674--REDEF
F$DCB.WAIT
       670**DCL      3052<<ASSIGN
F$DCB.WSN
       649**DCL       649--REDEF
F$DCB.XTNSIZE
       655**DCL      3038<<ASSIGN
FM$GRAN
      2861**DCL      3014--ASSIGN   3019--ASSIGN   3040--ASSIGN
FMD$GBUF
        22**DCL-ENT  3017--CALL
FMD$RBUF
        23**DCL-ENT  3051--CALL
FMN$GETFIT
        24**DCL-ENT  3013--CALL
FMN$OPNF
        26**DCL-ENT  3047--CALL
FMO$LOCCODP
        25**DCL-ENT  3015--CALL     3020--CALL     3043--CALL     3049--CALL
FMP$CLSF
        27**DCL-ENT  3023--CALL
FS$DEST.CONTINUED
      2866**DCL      3021<<ASSIGN
FSX$TELLOUTSYM
        28**DCL-ENT  3026--CALL
FS_OSFN.CNUM
      2884**DCL      3024>>CALLBLT  3028<<CALLBLT
FS_OSFN.NUM
      2884**DCL      3025>>CALLBLT
GRAN
      2857**DCL      3018<<ASSIGN   3018>>ASSIGN
I
PL6.E3A0      #002=FSB$SWITCH File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:27 Page:65   
      2897**DCL      3011<<ASSIGN   3013<>CALL     3022>>ASSIGN   3025<<CALLBLT  3026>>CALL     3029<<DOINDEX
      3030>>IF       3031>>IF       3033>>ASSIGN
J
      2898**DCL      3024<<CALLBLT  3026>>CALL     3027<<ASSIGN   3027>>ASSIGN   3028>>CALLBLT  3033>>ASSIGN
      3037>>ASSIGN   3037>>ASSIGN
JDCB$
      2859**DCL       638--IMP-PTR  3010<<ASSIGN   3012>>ASSIGN   3016>>ASSIGN   3022>>ASSIGN   3024>>CALLBLT
      3025>>CALLBLT  3028>>CALLBLT  3031>>IF       3035>>ASSIGN   3036>>ASSIGN   3037>>ASSIGN   3038>>ASSIGN
      3038>>ASSIGN   3046>>ASSIGN   3050>>ASSIGN   3052>>ASSIGN   3053>>IF       3054>>ASSIGN   3055>>ASSIGN
K
      2899**DCL      3012<<ASSIGN   3054>>ASSIGN
NOUATTR
      3044**LABEL    3043--CALLALT

PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:66   
      238        1        /*T***********************************************************/
      239        2        /*T*                                                         */
      240        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      241        4        /*T*                                                         */
      242        5        /*T***********************************************************/
      243        6        /*F*    NAME: FSB$GETDDF
      244        7                PURPOSE: Get stream DDF (Tabs,Sequencing,Page Headers) out of
      245        8                   stream's symbiont file FIT and hooked to DCB on
      246        9                   update open.
      247       10                DESCRIPTION:   FSB$GETDDF is called by File Open when an existent
      248       11                   file with Unit Record organization is being opened and its FIT
      249       12                   has a UATTR area.
      250       13                      The DCB is first verified to be a Logical Device DCB.
      251       14                   It is if its ASN is 0.
      252       15                      The contents of the UATTR area are then used to set up
      253       16                   Tabstops, Page header info, and Sequencing info in the DCB.
      254       17         */
      255       18        FSB$GETDDF:PROC(UATTR$)ALTRET;
      256       19    1   DCL UATTR$ PTR; /* Points to UATTR area of FIT        */
      257       20        /*** * * * ***/
      258       21    1   DCL B$JIT$ PTR SYMREF; /* Note: B$JIT is BASED(B$JIT$).      */
      259       22    1   DCL FSA$GSP ENTRY(2)ALTRET; /* Get rOSEG space                    */
      260       23    1   DCL FSA$FSP ENTRY(2)ALTRET; /* Free ROSEG space                   */
      261       24        /*** * * * ***/
      262       25        %INCLUDE F$JIT_C;
      263      455        %INCLUDE F_CP6;
      264     1480        %VLP_HDR (FPTN=VLP$HDR,STCLASS=BASED,LEN=160);
      265     1496        %VLP_TAB(FPTN=VLP$TAB,STCLASS=BASED);
      266     1510        %INCLUDE F$DCB;
      267     1559        %INCLUDE CP_6_SUBS;
      268     2099        %INCLUDE FS$FIT;
      269     2142        %FS$LDEVDDF(NAME=FS$DDF,STCLASS="BASED(UATTR$)");
      270     2146        /*** * * * ***/
      271     2147    1   DCL JDCB$ PTR;
      272     2148        %EJECT;
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:67   
      273     2149    1           JDCB$= B$JIT.DCB$;
      274     2150    1           IF JDCB$->F$DCB.ASN~=0 OR NOT FS$DDF.F THEN
      275     2151    1              RETURN;
      276     2152    2           IF FS$DDF.F.TAB THEN DO;
      277     2153                /*  Tabstops are specified for stream */
      278     2154    2              IF JDCB$->F$DCB.TAB$=ADDR(NIL) THEN
      279     2155    2                 CALL FSA$GSP(SIZEW(VLP$TAB),JDCB$->F$DCB.TAB$)
      280     2156    2                   ALTRET(ALTRETUR);
      281     2157    2              JDCB$->F$DCB.TAB$->VLP$TAB=
      282     2158    2                PINCRW(UATTR$,SIZEW(FS$DDF))->VLP$TAB;
      283     2159    2              END;
      284     2160    1           ELSE IF JDCB$->F$DCB.TAB$~=ADDR(NIL) THEN
      285     2161    1                 CALL FSA$FSP(SIZEW(VLP$TAB),JDCB$->F$DCB.TAB$)
      286     2162    1                   ALTRET(ALTRETUR);
      287     2163    2           IF FS$DDF.F.HDR THEN DO;
      288     2164                /*  Page headers are specified for stream  */
      289     2165    2              IF JDCB$->F$DCB.HEADER$=ADDR(NIL) THEN
      290     2166    2                 CALL FSA$GSP(SIZEW(VLP$HDR),JDCB$->F$DCB.HEADER$)
      291     2167    2                   ALTRET(ALTRETUR);
      292     2168    2              JDCB$->F$DCB.HEADER$->VLP$HDR=
      293     2169    2                PINCRW(UATTR$,SIZEW(FS$DDF)+SIZEW(VLP$TAB))->VLP$HDR;
      294     2170    2              END;
      295     2171    1           ELSE IF JDCB$->F$DCB.HEADER$~=ADDR(NIL) THEN
      296     2172    1                 CALL FSA$FSP(SIZEW(VLP$HDR),JDCB$->F$DCB.HEADER$)
      297     2173    1                   ALTRET(ALTRETUR);
      298     2174    1           JDCB$->F$DCB.SEQ= FS$DDF.SEQ;
      299     2175    2           IF JDCB$->F$DCB.SEQ THEN DO;
      300     2176                /* Sequencing is specified for stream */
      301     2177    2              JDCB$->F$DCB.SEQCOL= FS$DDF.SEQCOL;
      302     2178    2              JDCB$->F$DCB.SEQID= FS$DDF.SEQID;
      303     2179    2              END;
      304     2180    1           RETURN;
      305     2181    1   ALTRETUR:;
      306     2182    1           ALTRETURN;
      307     2183    1   END FSB$GETDDF;

PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:68   
--  Include file information  --

   FS$FIT.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   F$DCB.:E05TOU  cannot be made into a system file and is referenced.
   F_CP6.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  is referenced.
   F$JIT_C.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure FSB$GETDDF.

   Procedure FSB$GETDDF requires 104 words for executable code.
   Procedure FSB$GETDDF requires 8 words of local(AUTO) storage.

    No errors detected in file FSB$STREAM.:E05TSI    .

PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:69   

 Object Unit name= FSB$GETDDF                                 File name= FSB$STREAM.:E05TOU
 UTS= JUL 29 '97 17:28:06.12 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none   104    150  FSB$GETDDF
    1  RoData even  none     3      3  FSB$GETDDF

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes    yes     yes      Std        1  FSB$GETDDF

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 FSA$GSP
 yes     yes           Std       2 FSA$FSP
                       nStd      0 X66_AUTO_1
                       nStd      0 X66_ARET
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AALT

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     B$JIT$                                B_VECTNIL
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:70   

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:71   


      238        1        /*T***********************************************************/
      239        2        /*T*                                                         */
      240        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      241        4        /*T*                                                         */
      242        5        /*T***********************************************************/
      243        6        /*F*    NAME: FSB$GETDDF
      244        7                PURPOSE: Get stream DDF (Tabs,Sequencing,Page Headers) out of
      245        8                   stream's symbiont file FIT and hooked to DCB on
      246        9                   update open.
      247       10                DESCRIPTION:   FSB$GETDDF is called by File Open when an existent
      248       11                   file with Unit Record organization is being opened and its FIT
      249       12                   has a UATTR area.
      250       13                      The DCB is first verified to be a Logical Device DCB.
      251       14                   It is if its ASN is 0.
      252       15                      The contents of the UATTR area are then used to set up
      253       16                   Tabstops, Page header info, and Sequencing info in the DCB.
      254       17         */
      255       18        FSB$GETDDF:PROC(UATTR$)ALTRET;

     18  0 000000   000000 700200 xent  FSB$GETDDF   TSX0  ! X66_AUTO_1
         0 000001   000010 000001                    ZERO    8,1

      256       19    1   DCL UATTR$ PTR; /* Points to UATTR area of FIT        */
      257       20        /*** * * * ***/
      258       21    1   DCL B$JIT$ PTR SYMREF; /* Note: B$JIT is BASED(B$JIT$).      */
      259       22    1   DCL FSA$GSP ENTRY(2)ALTRET; /* Get rOSEG space                    */
      260       23    1   DCL FSA$FSP ENTRY(2)ALTRET; /* Free ROSEG space                   */
      261       24        /*** * * * ***/
      262       25        %INCLUDE F$JIT_C;
      263      455        %INCLUDE F_CP6;
      264     1480        %VLP_HDR (FPTN=VLP$HDR,STCLASS=BASED,LEN=160);
      265     1496        %VLP_TAB(FPTN=VLP$TAB,STCLASS=BASED);
      266     1510        %INCLUDE F$DCB;
      267     1559        %INCLUDE CP_6_SUBS;
      268     2099        %INCLUDE FS$FIT;
      269     2142        %FS$LDEVDDF(NAME=FS$DDF,STCLASS="BASED(UATTR$)");
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:72   
      270     2146        /*** * * * ***/
      271     2147    1   DCL JDCB$ PTR;
      272     2148        %EJECT;
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:73   
      273     2149    1           JDCB$= B$JIT.DCB$;

   2149  0 000002   000000 470400 xsym               LDP0    B$JIT$
         0 000003   000232 236100                    LDQ     154,,PR0
         0 000004   200004 756100                    STQ     JDCB$,,AUTO

      274     2150    1           IF JDCB$->F$DCB.ASN~=0 OR NOT FS$DDF.F THEN

   2150  0 000005   200004 471500                    LDP1    JDCB$,,AUTO
         0 000006   100032 236100                    LDQ     26,,PR1
         0 000007   777000 316007                    CANQ    -512,DL
         0 000010   000016 601000 0                  TNZ     s:2151
         0 000011   200003 473500                    LDP3    @UATTR$,,AUTO
         0 000012   300000 474500                    LDP4    0,,PR3
         0 000013   400000 236100                    LDQ     0,,PR4
         0 000014   760000 316003                    CANQ    -8192,DU
         0 000015   000017 601000 0                  TNZ     s:2152

      275     2151    1              RETURN;

   2151  0 000016   000000 702200 xent               TSX2  ! X66_ARET

      276     2152    2           IF FS$DDF.F.TAB THEN DO;

   2152  0 000017   400000 234100                    SZN     0,,PR4
         0 000020   000044 605000 0                  TPL     s:2160

      277     2153                /*  Tabstops are specified for stream */
      278     2154    2              IF JDCB$->F$DCB.TAB$=ADDR(NIL) THEN

   2154  0 000021   100047 236100                    LDQ     39,,PR1
         0 000022   000001 116000 xsym               CMPQ    B_VECTNIL+1
         0 000023   000034 601000 0                  TNZ     s:2157

      279     2155    2                 CALL FSA$GSP(SIZEW(VLP$TAB),JDCB$->F$DCB.TAB$)

   2155  0 000024   200004 236100                    LDQ     JDCB$,,AUTO
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:74   
         0 000025   000047 036003                    ADLQ    39,DU
         0 000026   000000 235000 1                  LDA     0
         0 000027   200006 757100                    STAQ    JDCB$+2,,AUTO
         0 000030   200006 630500                    EPPR0   JDCB$+2,,AUTO
         0 000031   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000032   000000 701000 xent               TSX1    FSA$GSP
         0 000033   000147 702000 0                  TSX2    ALTRETUR

      280     2156    2                   ALTRET(ALTRETUR);
      281     2157    2              JDCB$->F$DCB.TAB$->VLP$TAB=

   2157  0 000034   200004 470500                    LDP0    JDCB$,,AUTO
         0 000035   000047 471500                    LDP1    39,,PR0
         0 000036   200003 473500                    LDP3    @UATTR$,,AUTO
         0 000037   300000 474500                    LDP4    0,,PR3
         0 000040   000100 100500                    MLR     fill='000'O
         0 000041   400004 000040                    ADSC9   4,,PR4                   cn=0,n=32
         0 000042   100000 000040                    ADSC9   0,,PR1                   cn=0,n=32

      282     2158    2                PINCRW(UATTR$,SIZEW(FS$DDF))->VLP$TAB;
      283     2159    2              END;

   2159  0 000043   000057 710000 0                  TRA     s:2163

      284     2160    1           ELSE IF JDCB$->F$DCB.TAB$~=ADDR(NIL) THEN

   2160  0 000044   100047 236100                    LDQ     39,,PR1
         0 000045   000001 116000 xsym               CMPQ    B_VECTNIL+1
         0 000046   000057 600000 0                  TZE     s:2163

      285     2161    1                 CALL FSA$FSP(SIZEW(VLP$TAB),JDCB$->F$DCB.TAB$)

   2161  0 000047   200004 236100                    LDQ     JDCB$,,AUTO
         0 000050   000047 036003                    ADLQ    39,DU
         0 000051   000000 235000 1                  LDA     0
         0 000052   200006 757100                    STAQ    JDCB$+2,,AUTO
         0 000053   200006 630500                    EPPR0   JDCB$+2,,AUTO
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:75   
         0 000054   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000055   000000 701000 xent               TSX1    FSA$FSP
         0 000056   000147 702000 0                  TSX2    ALTRETUR

      286     2162    1                   ALTRET(ALTRETUR);
      287     2163    2           IF FS$DDF.F.HDR THEN DO;

   2163  0 000057   200003 470500                    LDP0    @UATTR$,,AUTO
         0 000060   000000 471500                    LDP1    0,,PR0
         0 000061   100000 236100                    LDQ     0,,PR1
         0 000062   200000 316003                    CANQ    65536,DU
         0 000063   000110 600000 0                  TZE     s:2171

      288     2164                /*  Page headers are specified for stream  */
      289     2165    2              IF JDCB$->F$DCB.HEADER$=ADDR(NIL) THEN

   2165  0 000064   200004 473500                    LDP3    JDCB$,,AUTO
         0 000065   300046 236100                    LDQ     38,,PR3
         0 000066   000001 116000 xsym               CMPQ    B_VECTNIL+1
         0 000067   000100 601000 0                  TNZ     s:2168

      290     2166    2                 CALL FSA$GSP(SIZEW(VLP$HDR),JDCB$->F$DCB.HEADER$)

   2166  0 000070   200004 236100                    LDQ     JDCB$,,AUTO
         0 000071   000046 036003                    ADLQ    38,DU
         0 000072   000002 235000 1                  LDA     2
         0 000073   200006 757100                    STAQ    JDCB$+2,,AUTO
         0 000074   200006 630500                    EPPR0   JDCB$+2,,AUTO
         0 000075   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000076   000000 701000 xent               TSX1    FSA$GSP
         0 000077   000147 702000 0                  TSX2    ALTRETUR

      291     2167    2                   ALTRET(ALTRETUR);
      292     2168    2              JDCB$->F$DCB.HEADER$->VLP$HDR=

   2168  0 000100   200004 470500                    LDP0    JDCB$,,AUTO
         0 000101   000046 471500                    LDP1    38,,PR0
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:76   
         0 000102   200003 473500                    LDP3    @UATTR$,,AUTO
         0 000103   300000 474500                    LDP4    0,,PR3
         0 000104   000100 100500                    MLR     fill='000'O
         0 000105   400014 000245                    ADSC9   12,,PR4                  cn=0,n=165
         0 000106   100000 000245                    ADSC9   0,,PR1                   cn=0,n=165

      293     2169    2                PINCRW(UATTR$,SIZEW(FS$DDF)+SIZEW(VLP$TAB))->VLP$HDR;
      294     2170    2              END;

   2170  0 000107   000124 710000 0                  TRA     s:2174

      295     2171    1           ELSE IF JDCB$->F$DCB.HEADER$~=ADDR(NIL) THEN

   2171  0 000110   200004 473500                    LDP3    JDCB$,,AUTO
         0 000111   300046 236100                    LDQ     38,,PR3
         0 000112   000001 116000 xsym               CMPQ    B_VECTNIL+1
         0 000113   000124 600000 0                  TZE     s:2174

      296     2172    1                 CALL FSA$FSP(SIZEW(VLP$HDR),JDCB$->F$DCB.HEADER$)

   2172  0 000114   200004 236100                    LDQ     JDCB$,,AUTO
         0 000115   000046 036003                    ADLQ    38,DU
         0 000116   000002 235000 1                  LDA     2
         0 000117   200006 757100                    STAQ    JDCB$+2,,AUTO
         0 000120   200006 630500                    EPPR0   JDCB$+2,,AUTO
         0 000121   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000122   000000 701000 xent               TSX1    FSA$FSP
         0 000123   000147 702000 0                  TSX2    ALTRETUR

      297     2173    1                   ALTRET(ALTRETUR);
      298     2174    1           JDCB$->F$DCB.SEQ= FS$DDF.SEQ;

   2174  0 000124   200003 470500                    LDP0    @UATTR$,,AUTO
         0 000125   000000 471500                    LDP1    0,,PR0
         0 000126   200004 473500                    LDP3    JDCB$,,AUTO
         0 000127   100001 236100                    LDQ     1,,PR1
         0 000130   300044 676100                    ERQ     36,,PR3
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:77   
         0 000131   000400 376007                    ANQ     256,DL
         0 000132   300044 656100                    ERSQ    36,,PR3

      299     2175    2           IF JDCB$->F$DCB.SEQ THEN DO;

   2175  0 000133   300044 236100                    LDQ     36,,PR3
         0 000134   000400 316007                    CANQ    256,DL
         0 000135   000146 600000 0                  TZE     s:2180

      300     2176                /* Sequencing is specified for stream */
      301     2177    2              JDCB$->F$DCB.SEQCOL= FS$DDF.SEQCOL;

   2177  0 000136   000000 471500                    LDP1    0,,PR0
         0 000137   100001 236100                    LDQ     1,,PR1
         0 000140   300044 676100                    ERQ     36,,PR3
         0 000141   000377 376007                    ANQ     255,DL
         0 000142   300044 656100                    ERSQ    36,,PR3

      302     2178    2              JDCB$->F$DCB.SEQID= FS$DDF.SEQID;

   2178  0 000143   000000 471500                    LDP1    0,,PR0
         0 000144   100002 236100                    LDQ     2,,PR1
         0 000145   300045 756100                    STQ     37,,PR3

      303     2179    2              END;

      304     2180    1           RETURN;

   2180  0 000146   000000 702200 xent               TSX2  ! X66_ARET

   2175  0 000147                       ALTRETUR     null
      305     2181    1   ALTRETUR:;
      306     2182    1           ALTRETURN;

   2182  0 000147   000000 702200 xent               TSX2  ! X66_AALT

(unnamed)
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:78   
 Sect OctLoc
   1     000   000012 006000   000000 000052   000001 006000                    .......*....
      307     2183    1   END FSB$GETDDF;

PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:79   
--  Include file information  --

   FS$FIT.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   F$DCB.:E05TOU  cannot be made into a system file and is referenced.
   F_CP6.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  is referenced.
   F$JIT_C.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure FSB$GETDDF.
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:80   

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @UATTR$                    4-0-0/w PTR         r     1 JDCB$
    *0-0-0/w PTR         r     1 UATTR$

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$JIT$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(8856)  r     1 B$JIT                      0-0-0/d ASTR(3528)  r     1 F$DCB
     0-0-0/w STRC(144)   r     1 FS$DDF                     0-0-0/w STRC(1485)  r     1 VLP$HDR
     0-0-0/w STRC(288)   r     1 VLP$TAB


   Procedure FSB$GETDDF requires 104 words for executable code.
   Procedure FSB$GETDDF requires 8 words of local(AUTO) storage.

    No errors detected in file FSB$STREAM.:E05TSI    .
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:81   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:82   
          MINI XREF LISTING

ALTRETUR
      2175**LABEL    2155--CALLALT  2161--CALLALT  2166--CALLALT  2172--CALLALT
B$JIT.DCB$
       442**DCL      2149>>ASSIGN
B$JIT.ERR.MID
       353**DCL       353--REDEF
B$JIT$
        21**DCL       347--IMP-PTR  2149>>ASSIGN
F$DCB.ACTPOS
      1536**DCL      1536--REDEF
F$DCB.ARS
      1511**DCL      1511--REDEF
F$DCB.ASN
      1526**DCL      2150>>IF
F$DCB.ATTR
      1529**DCL      1530--REDEF
F$DCB.BORROW
      1544**DCL      1544--REDEF    1544--REDEF    1544--REDEF
F$DCB.DCBNAME.L
      1558**DCL      1558--IMP-SIZ
F$DCB.EOMCHAR
      1515**DCL      1515--REDEF
F$DCB.FLDID
      1539**DCL      1539--REDEF
F$DCB.FORM$
      1533**DCL      1533--REDEF
F$DCB.FSECT
      1549**DCL      1549--REDEF
F$DCB.FSN
      1526**DCL      1526--REDEF    1526--REDEF    1527--REDEF
F$DCB.HEADER$
      1532**DCL      1532--REDEF    2165>>IF       2166<>CALL     2168>>ASSIGN   2171>>IF       2172<>CALL
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:83   
F$DCB.IXTNSIZE
      1530**DCL      1530--REDEF
F$DCB.LASTSTA$
      1520**DCL      1520--REDEF
F$DCB.LVL
      1545**DCL      1545--REDEF
F$DCB.NAME.C
      1520**DCL      1520--REDEF
F$DCB.NOEOF
      1541**DCL      1541--REDEF
F$DCB.NRECS
      1531**DCL      1531--REDEF
F$DCB.NRECX
      1550**DCL      1550--REDEF
F$DCB.OHDR
      1542**DCL      1542--REDEF
F$DCB.ORG
      1525**DCL      1525--REDEF
F$DCB.PRECNO
      1548**DCL      1548--REDEF
F$DCB.RCSZ
      1553**DCL      1553--REDEF
F$DCB.RES
      1521**DCL      1521--REDEF
F$DCB.SEQ
      1532**DCL      2174<<ASSIGN   2175>>IF
F$DCB.SEQCOL
      1532**DCL      2177<<ASSIGN
F$DCB.SEQID
      1532**DCL      2178<<ASSIGN
F$DCB.SETX
      1533**DCL      1533--REDEF
F$DCB.TAB$
      1532**DCL      1533--REDEF    2154>>IF       2155<>CALL     2157>>ASSIGN   2160>>IF       2161<>CALL
F$DCB.TDA
      1547**DCL      1547--REDEF
PL6.E3A0      #003=FSB$GETDDF File=FSB$STREAM.:E05TSI                            TUE 07/29/97 17:28 Page:84   
F$DCB.WSN
      1522**DCL      1522--REDEF
FS$DDF
      2143**DCL      2157--ASSIGN   2168--ASSIGN
FS$DDF.F
      2143**DCL      2150>>IF
FS$DDF.F.HDR
      2143**DCL      2163>>IF
FS$DDF.F.TAB
      2143**DCL      2152>>IF
FS$DDF.SEQ
      2144**DCL      2174>>ASSIGN
FS$DDF.SEQCOL
      2144**DCL      2177>>ASSIGN
FS$DDF.SEQID
      2144**DCL      2178>>ASSIGN
FSA$FSP
        23**DCL-ENT  2161--CALL     2172--CALL
FSA$GSP
        22**DCL-ENT  2155--CALL     2166--CALL
JDCB$
      2147**DCL      2149<<ASSIGN   2150>>IF       2154>>IF       2155>>CALL     2157>>ASSIGN   2160>>IF
      2161>>CALL     2165>>IF       2166>>CALL     2168>>ASSIGN   2171>>IF       2172>>CALL     2174>>ASSIGN
      2175>>IF       2177>>ASSIGN   2178>>ASSIGN
UATTR$
        19**DCL        18--PROC     2143--IMP-PTR  2150>>IF       2152>>IF       2157>>ASSIGN   2163>>IF
      2168>>ASSIGN   2174>>ASSIGN   2177>>ASSIGN   2178>>ASSIGN
VLP$HDR
      1491**DCL      2166--CALL     2168<<ASSIGN   2168>>ASSIGN   2172--CALL
VLP$TAB
      1507**DCL      2155--CALL     2157<<ASSIGN   2157>>ASSIGN   2161--CALL     2168--ASSIGN

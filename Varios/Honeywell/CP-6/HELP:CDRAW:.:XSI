 
CDRAW pretty prints and annotates C structure declarations for use in debugging
structures, design specifications and technical manuals.  Any valid ANSI C
structure is accepted.  Input is a source file with structure declarations.
 
 
Invocation syntax:
 
 !CDRAW.X [-vcwdhos -Iifid -Xxfid ...] fid:h fid:h ... >lst
 
where each fid:h contains the structure declarations to be annotated.  The
output of CDRAW will appear in the file lst.  The following options are
available:
 
  -v       displays include files as they are read.
 
  -c       causes offset display to be in chars.
  -w       causes offset displays to be in words-chars
 
  -d       causes offset display to be in decimal.
  -o       causes offset display to be in octal.
  -x       causes offset display to be in hexadecimal.
 
  -s       causes CDRAW to generate C source for offset information.
 
  -Iifid   causes the source generated by -s option to include "fid"
  -Xxfid   causes the source generated to not include "xfid"
 
 
Multiple input files may be specified which CDRAW scans and starts its output
with a summary of the structures which it located, the names of the files and
line numbers in which they were found.  CDRAW produces two different output
types.  The most simple output contains the structure declarations along the
right side of the output and the individual field names along the left side.
The second mode of output is to produce a C source file which when compiled,
linked and run produces a display of the structure along with the displacements
of each field.
 
In order to produce C source that will compile without errors, the options
"-Iifid" and "-Xxfid" may be used.  Both of these options are used to control
the include statements which will appear in the source to be compiled.  The
file names may begin with an initial '"' or '<' character to indicate the style
of include statement to generate followed by the file name.  If the initial '"'
or '<' is omitted, then CDRAW will insert '"'.
 
The "-I" option is used to include the named file even though CDRAW did not
scan it.  This is usefull when a file which does not contain structures (or
structures which the user does not want to see expanded) are used by the input
files.  Alternatively, the "-X" option is used to not include one of the input
files usually because one of the other input files will include it anyway.
 
 
If the "-s" option is not given, the output of CDRAW begins with a summary of
the structure declarations which it found along with the name of the file in
which it was declarated and the sequential line number of the file.
 
Then for each struct that CDRAW found, the declaration is displayed on the
right hand side of the page with the left hand side of the page containing the
field names left justified and the structure names right justified.
 
If the "-s" option is given, the output of CDRAW is a C program which should be
compiled, linked and run to produce output which begins with a summary of the
structure declarations containing their names, the file in which they are
declarated and the line numbers at which the declarations start.
 
This output is then followed with the structure declarations on the right hand
side of the page with the field offsets (word, character and bit offsets by
default) along the left hand side of the page.
 
 
Example:
 
!CDRAW.X  -s   colour:h   >*:c
End of file colour:h on line 4
Total Lines processed = 4
!CC *:c over *:o,NO
CC.A0A10 here at 10:37 Wed Jan 17 1990
!LINK *:o over *RU
LINK E02F00 here
*  :SHARED_C.:SYS (Shared Library) associated.
*  No linking errors.
*  Total program size = 3K.
!*RU
 
Struct  File     Line
 
colour colour:h    1
 
 
               struct colour {
       0-0-0     int      red : 8,
       0-0-8              green : 8,
       0-0-16             blue : 8;
       1-0       };
 
!
 
HELP file for CDRAW
02/09/90   Corrected the octal offset when displaying bitfields.  Corrected the
identification of aggregate type (union or struct) when expanding within
another aggregate.
 
 
01/20/90   Corrected a bug involving bit fields within unions.  Corrected the
display of character offsets in bit fields.  Corrected the handling of zero
length bit fields.
 
01/17/89 Added an example to the Help file. Also fixed a bug with multiple
declarations sharing the same declaration specifications.
 
01/15/89 Submitted to the X account.
Bruce Frost, LADC
 
CDRAW.X
AID=PROGRAMMING
AID=DOCUMENTATION
AID=UTILITY
TOOL=CDRAW
Annotates and pretty-prints C structure declarations for use in debugging C
structures, design specifications, technical manuals, etc.
 

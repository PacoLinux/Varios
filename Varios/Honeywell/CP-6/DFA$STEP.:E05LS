VERSION E05

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:1    
        1        1        /*M* DFA$STEP - STEP Do routine for FPRGS */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*D* NAME: DFA$STEP
        8        8             PURPOSE: Perform STEP for FPRGS */
        9        9        /**/
       10       10        DFA$STEP: PROC(PSTEPSZ, PIC) ALTRET;
       11       11        /* Parameters */
       12       12    1   DCL PSTEPSZ UBIN;
       13       13    1   DCL PIC UBIN;
       14       14        /* Local Auto */
       15       15    1   DCL FPRG$ PTR;
       16       16    1   DCL CMD_COUNT UBIN;
       17       17    1   DCL STEP_MODE UBIN;
       18       18    1   DCL STEP_VALUE SBIN;
       19       19    1   DCL IC UBIN;
       20       20    1   DCL STMT# UBIN;
       21       21    1   DCL STMT$ PTR;
       22       22    1   DCL SUBST# UBIN;
       23       23    1   DCL SUBST UBIN;
       24       24    1   DCL NIC UBIN;
       25       25    1   DCL I UBIN;
       26       26    1   DCL 1 VALUE ALIGNED,
       27       27    1         2 SIZE UBIN WORD,
       28       28    1         2 OPS(0:15) UBIN WORD;
       29       29    1   DCL INSTR_SIZE UBIN;
       30       30    1   DCL LINE UBIN;
       31       31    1   DCL SOC BIT(1) ALIGNED;
       32       32    1   DCL AT_PROC BIT(1) ALIGNED;
       33       33    1   DCL SET_SIZE BIT(1) ALIGNED;
       34       34    1   DCL FAULT UBIN;
       35       35    1   DCL DCBNO UBIN;
       36       36    1   DCL RES CHAR(8);
       37       37    1   DCL RES_SIZE UBIN;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:2    
       38       38    1   DCL FPRG_IC UBIN;
       39       39    1   DCL EDEF$ PTR;
       40       40    1   DCL TEMP1 UBIN(36) ALIGNED;
       41       41    1   DCL 1 TEMP1B REDEF TEMP1 ALIGNED,
       42       42    1         2 * UBIN(4) UNAL,
       43       43    1         2 B1 UBIN(8) UNAL,
       44       44    1         2 B2 UBIN(8) UNAL,
       45       45    1         2 B3 UBIN(8) UNAL,
       46       46    1         2 B4 UBIN(8) UNAL;
       47       47    1   DCL TEMP2 UBIN(36) ALIGNED;
       48       48    1   DCL 1 TEMP2B REDEF TEMP2 ALIGNED,
       49       49    1         2 * BIT(1) UNAL,
       50       50    1         2 B1 UBIN(8) UNAL,
       51       51    1         2 * BIT(1) UNAL,
       52       52    1         2 B2 UBIN(8) UNAL,
       53       53    1         2 * BIT(1) UNAL,
       54       54    1         2 B3 UBIN(8) UNAL,
       55       55    1         2 * BIT(1) UNAL,
       56       56    1         2 B4 UBIN(8) UNAL;
       57       57        /* Includes and Based structures */
       58       58        %INCLUDE XUH_MACRO_C;
       59      142        %INCLUDE DD_SD_M;
       60     1478        %S_D;
       61     2796        %S_D_PTRS;
       62     2833        %INCLUDE DD$BASED;
       63     4136        %DOO(NAME=STEP$CMD,STCLASS=BASED,ID=CMD_COUNT);
       64     4151        %FPRG$CONTEXT;
       65     4214        %FIXCOM (NAME="F$XCM",STCLASS=BASED);
       66     4230        %AT_FIRST;
       67     4258        %INCLUDE GD$MSG_M;
       68     4422        %GD$MSG(FPTN=GD$MSG,STCLASS="BASED(S_D_L6_MESSAGE$)",L6=YES,L6PTR="UBIN(32) UNAL");
       69     4578        %GD$MSG(FPTN=GD$MSG_HOST, STCLASS="BASED(S_D_HOST_MESSAGE$)", L6=NO);
       70     4734        %INCLUDE G_LCP6_E;
       71     4992        %INCLUDE GD_EQUS_E;
       72     5153        %INCLUDE DD_PSUBS_C;
       73     5628        %INCLUDE DD_SUBS_C;
       74     5899        %INCLUDE DD_ERR_C;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:3    
       75     6296        %INCLUDE DF_EQUS_E;
       76     6309        %INCLUDE DU_SCODE_C;
       77     6322        %INCLUDE CP_6;
       78     6403        %FPT_SCREECH(FPTN=SNAP_MESSAGE,STCLASS=SYMREF READONLY);
       79     6417        %VLP_SCODE(FPTN=SC_MESSAGE, STCLASS=SYMREF READONLY);
       80     6478        %FPT_WAIT(FPTN=FPT_WAIT,
       81     6479                  STCLASS=SYMREF);
       82     6493        %FPT_WAIT(FPTN=FPTWAIT,
       83     6494                  STCLASS=);
       84     6508        %FPT_DRTN (FPTN=FPT$DRTN, STCLASS=BASED);
       85     6532        %VLR_FPRG_FID(FPTN=VLR_FPRG_FID,STCLASS=AUTO);
       86     6540        %B$TCB;
       87     6543        %B$ALT;
       88     6551    1   DCL B$TCB$ PTR SYMREF;
       89     6552        %INCLUDE KI_ERRORS_C;
       90     6637        %INCLUDE B$OBJECT_C;
       91    10067        %B$EDEF;
       92    10137        %SUB_CST;
       93    10153        %SUB_LINKFLAGS;
       94    10162        %B$EXST;
       95    10269        %B$STTYPESUBS;
       96    10338        %B$LBNTRY0;
       97    10374        %COMPILERIDSUBS;
       98    10390        /* Entry DCLs */
       99    10391    1   DCL DDA$KILL1 ENTRY;
      100    10392    1   DCL DDA$RESET_PATCH_SPACE ENTRY;
      101    10393    1   DCL DDR$REPORT ENTRY(1);
      102    10394    1   DCL DFA$TRACE_REPORT ENTRY ALTRET;
      103    10395    1   DCL DDF$FIND_PEDEF ENTRY(2) ALTRET;
      104    10396    1   DCL DFA$GO ENTRY(1) ALTRET;
      105    10397    1   DCL DDQ$WRITE ENTRY(2);
      106    10398    1   DCL DDA$DOATTACH ENTRY ALTRET;
      107    10399    1   DCL DDE$ERROR      ENTRY;
      108    10400    1   DCL DDF$EXST_#     ENTRY(2)  ALTRET;
      109    10401    1   DCL DDF$N_EXST     ENTRY(1)  ALTRET;
      110    10402    1   DCL DDF$STATEMENT  ENTRY(4)  ALTRET;
      111    10403    1   DCL DFA$FPRG       ENTRY(1);
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:4    
      112    10404    1   DCL DFA$KILL_FPRG ENTRY(1);
      113    10405    1   DCL DFK$GETMVAL ENTRY(6) ALTRET;
      114    10406    1   DCL DFQ$READ_FD    ENTRY(2)  ALTRET;
      115    10407    1   DCL DFQ$WRITE_FD   ENTRY(1)  ALTRET;
      116    10408    1   DCL DFR$INSTR      ENTRY(4)  ALTRET;
      117    10409    1   DCL DFR$REPORT     ENTRY(1);
      118    10410    1   DCL DUE$ERRMSG     ENTRY;
      119    10411        /**/
      120    10412    1        SET_SIZE = '0'B;
      121    10413    1        GOTO COMMON;
      122    10414
      123    10415    1   DFA$STEP_SIZE: ENTRY(PSTEPSZ, PIC) ALTRET;
      124    10416    1        SET_SIZE = '1'B;
      125    10417    1        SOC = '0'B;
      126    10418    1        CMD_COUNT = 1;
      127    10419    1        PSTEPSZ = 0;
      128    10420    1        GOTO SET_MODE;
      129    10421
      130    10422    1   COMMON:
      131    10423    1        SOC = '0'B;
      132    10424    1        AT_PROC = '0'B;
      133    10425    1        FPRG$ = S_D.CURRENT_FPRG_CONTEXT$;
      134    10426    1        IF S_D.DO$ -> STEP$CMD.SETTYPE
      135    10427    2        THEN DO;
      136    10428    2             CMD_COUNT = 1;
      137    10429    2             IF S_D.DO$ -> STEP$CMD.CMD_COUNT = C@ONE   /* C@ONE */
      138    10430    3             THEN DO;
      139    10431    3                  STEP_MODE = C@STATEMENTS;   /* C@STATEMENTS */
      140    10432    3                  SOC = '1'B;
      141    10433    3                END;
      142    10434    2             ELSE STEP_MODE = S_D.DO$ -> STEP$CMD.CMD_COUNT;
      143    10435    2           END;
      144    10436    2        ELSE DO;
      145    10437    2             CMD_COUNT = S_D.DO$ -> STEP$CMD.CMD_COUNT;
      146    10438    2   SET_MODE:
      147    10439    2             STEP_MODE = FPRG$ -> FPRG$CONTEXT.STEP_MODE;
      148    10440    2           END;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:5    
      149    10441    1        IF ADDR(PIC) ~= ADDR(NIL)
      150    10442    1        THEN IC = PIC;
      151    10443    1        ELSE IC = FPRG$ -> FPRG$CONTEXT.ADDRESS;
      152    10444    1   CALC_NIC:
      153    10445    1        IF NOT SOC
      154    10446    1        THEN FPRG$ -> FPRG$CONTEXT.STEP_MODE = STEP_MODE;
      155    10447    2        DO CASE (FPRG$->FPRG$CONTEXT.STEP_MODE);
      156    10448    2          CASE(C@INSTRUCTIONS);            /* C@INSTRUCTIONS */
      157    10449    2             IF IC ~= S_D.MOD_L6.ADDRESS
      158    10450    2             THEN CALL DFK$GETMVAL(VALUE, IC, 3, 0, '0'B, '1'B) ALTRET(ARET);
      159    10451    2             IF FPRG$ -> FPRG$CONTEXT.INTERPRETIVE
      160    10452    3             THEN DO;
      161    10453    3                  IF SET_SIZE THEN RETURN; /* Size is already zero */
      162    10454                                                /* so this'll be like a go */
      163    10455                                                /* to the FD.  This will get */
      164    10456                                                /* us around the GOSTEP at the */
      165    10457                                                /* FPL bootstrap */
      166    10458    3                  S_D.ERROR = E@NOT_INTERPRETIVE;
      167    10459    3                  GOTO ARET;
      168    10460    3                END;
      169    10461    2             VALUE = S_D.MOD_L6.VALUE;
      170    10462    2             CALL DFR$INSTR(VALUE.OPS, INSTR_SIZE, '0'B) ALTRET(ARET);
      171    10463    2             STEP_VALUE = INSTR_SIZE;
      172    10464    2             NIC = IC + STEP_VALUE;
      173    10465    2          CASE(C@SUBSTATEMENTS);           /* C@SUBSTATEMENTS */
      174    10466    2             NIC = IC;
      175    10467    2             CALL DDF$STATEMENT(NIC, STMT#, SUBST#, SUBST) ALTRET(NO_SCHEMA);
      176    10468    2             CALL DDF$EXST_#(SUBST#, STMT$) ALTRET(NO_SCHEMA);
      177    10469    2             IF STMT$ -> B$EXST.STTYPE = %S@PROC_END OR
      178    10470    2                STMT$ -> B$EXST.STTYPE = %S@RETURN OR
      179    10471    2                STMT$ -> B$EXST.STTYPE = %S@ALTRETURN
      180    10472    3             THEN DO;
      181    10473    3                  STEP_VALUE = -1;
      182    10474    3                  GOTO GOT_SIZE;
      183    10475    3                END;
      184    10476    2             IF STMT$->B$EXST.STTYPE = %S@MONITOR_CALL
      185    10477    2             THEN SOC = '1'B;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:6    
      186    10478    2             IF STMT$->B$EXST.STTYPE = %S@PROC OR
      187    10479    2                STMT$->B$EXST.STTYPE = %S@ENTRY
      188    10480    3             THEN DO;
      189    10481    3                CALL DDF$FIND_PEDEF (IC, EDEF$) ALTRET (WHO_CARES1);
      190    10482    3                IF EDEF$->B$EDEF.CST = %STD# OR
      191    10483    3                   EDEF$->B$EDEF.CST = %XSTD# OR
      192    10484    3                   EDEF$->B$EDEF.CST = %FUNC# OR
      193    10485    3                   EDEF$->B$EDEF.CST = %XFUNC# THEN AT_PROC = '1'B;
      194    10486    3                END;
      195    10487    2   WHO_CARES1:
      196    10488    2             CALL DDF$N_EXST(STMT$) ALTRET(NO_SCHEMA);
      197    10489    2             NIC = STMT$ -> B$EXST.ISADDR;
      198    10490    2             STEP_VALUE = NIC - IC;
      199    10491    2          CASE(C@STATEMENTS);              /* C@STATEMENTS */
      200    10492    2             NIC = IC;
      201    10493    2             CALL DDF$STATEMENT(NIC, STMT#, SUBST#, SUBST) ALTRET(NO_SCHEMA);
      202    10494    2             CALL DDF$EXST_#(STMT#, STMT$) ALTRET(NO_SCHEMA);
      203    10495    2             IF STMT$ -> B$EXST.STTYPE = %S@PROC_END OR
      204    10496    2                STMT$ -> B$EXST.STTYPE = %S@RETURN OR
      205    10497    2                STMT$ -> B$EXST.STTYPE = %S@ALTRETURN
      206    10498    3             THEN DO;
      207    10499    3                  STEP_VALUE = -1;
      208    10500    3                  GOTO GOT_SIZE;
      209    10501    3                END;
      210    10502    2             LINE = STMT$ -> B$EXST.LINENUM;
      211    10503    2             IF SOC AND STMT$ -> B$EXST.STTYPE ~= %S@CALL
      212    10504    2             THEN SOC = '0'B;
      213    10505    2             IF STMT$->B$EXST.STTYPE = %S@MONITOR_CALL
      214    10506    2             THEN SOC = '1'B;
      215    10507    2             IF STMT$->B$EXST.STTYPE = %S@PROC OR
      216    10508    2                STMT$->B$EXST.STTYPE = %S@ENTRY
      217    10509    3             THEN DO;
      218    10510    3                CALL DDF$FIND_PEDEF (IC, EDEF$) ALTRET (WHO_CARES2);
      219    10511    3                IF EDEF$->B$EDEF.CST = %STD# OR
      220    10512    3                   EDEF$->B$EDEF.CST = %XSTD# OR
      221    10513    3                   EDEF$->B$EDEF.CST = %FUNC# OR
      222    10514    3                   EDEF$->B$EDEF.CST = %XFUNC# THEN AT_PROC = '1'B;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:7    
      223    10515    3                END;
      224    10516    2   WHO_CARES2:
      225    10517    3             DO WHILE(LINE = STMT$ -> B$EXST.LINENUM);
      226    10518    3                  CALL DDF$N_EXST(STMT$) ALTRET(NO_SCHEMA);
      227    10519    3                END;
      228    10520    2             NIC = STMT$ -> B$EXST.ISADDR;
      229    10521    2             STEP_VALUE = NIC - IC;
      230    10522    2          CASE(C@PARAGRAPHS);              /* C@PARAGRAPHS */
      231    10523    2             NIC = IC + 1;
      232    10524    2             CALL DDF$STATEMENT(NIC, STMT#, SUBST#, SUBST) ALTRET(NO_SCHEMA);
      233    10525    3             DO WHILE (NOT S_D.LABEL_FOUND);
      234    10526    3                  IF SUBST# = 0
      235    10527    3                  THEN CALL DDF$EXST_#(STMT#, STMT$) ALTRET(NO_SCHEMA);
      236    10528    3                  ELSE CALL DDF$EXST_#(SUBST#, STMT$) ALTRET(NO_SCHEMA);
      237    10529    3                  CALL DDF$N_EXST(STMT$) ALTRET(NO_SCHEMA);
      238    10530    3                  NIC = STMT$ -> B$EXST.ISADDR;
      239    10531    3                  CALL DDF$STATEMENT(NIC, STMT#, SUBST#, SUBST) ALTRET(NO_SCHEMA);
      240    10532    3                END;
      241    10533    2             STEP_VALUE = NIC - IC;
      242    10534    2           END;
      243    10535    1   GOT_SIZE:
      244    10536    1        IF SET_SIZE
      245    10537    2        THEN DO;
      246    10538    2             PSTEPSZ = STEP_VALUE;
      247    10539    2             RETURN;
      248    10540    2           END;
      249    10541    1        S_D.STEP_L6 = '1'B;
      250    10542    1        GD$MSG = '0'B;
      251    10543    1        GD$MSG.FNC = %GD#RQSGO;
      252    10544    1        GD$MSG.SUBFB.STEP = '1'B;
      253    10545    1        GD$MSG.SUBFB.SOC = SOC;
      254    10546    1        GD$MSG.SUBFB.BYPASS = S_D.BYPASS;
      255    10547    1        GD$MSG.GORQS.SIZE = STEP_VALUE;
      256    10548    1        GD$MSG.GORQS.GOFLAGS.AT_PROC = AT_PROC;
      257    10549    1        CALL DDA$RESET_PATCH_SPACE;
      258    10550    1        CALL DFQ$WRITE_FD(S_D.CURRENT_FPRG_CONTEXT$) ALTRET(ERR);
      259    10551    1   WAIT:
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:8    
      260    10552    2        IF NOT FPRG$->FPRG$CONTEXT.XDELTA THEN DO;
      261    10553    2           FPTWAIT = FPT_WAIT;
      262    10554    2           FPTWAIT.V_ = VECTOR(FPTWAIT.V);
      263    10555    2           CALL M$WAIT(FPTWAIT);
      264    10556    2           END;
      265    10557    1        CALL DFQ$READ_FD(S_D.CURRENT_FPRG_CONTEXT$, '1'B) ALTRET(READERR);
      266    10558    1        FPRG$ -> FPRG$CONTEXT.STATE = %STOPPED;
      267    10559    1        IF GD$MSG.FNC ~= %FPRG_BRKRSP# AND GD$MSG.FNC ~= %GD#RSPTRACE
      268    10560    2        THEN DO;
      269    10561    2             IF FPRG$ -> FPRG$CONTEXT.XDELTA AND
      270    10562    2                GD$MSG.FNC = %GD#RSPBADMSG
      271    10563    3             THEN DO;
      272    10564    3                  S_D.ERROR = E@BADMSG;  /* E@BADMSG */
      273    10565    3                  GOTO ARET;
      274    10566    3                END;
      275    10567    2             REMEMBER NEVER IN S_D.SCREECH_IC;
      276    10568    2             CALL M$SCREECH (SNAP_MESSAGE) ALTRET(NEVER);
      277    10569    2   NEVER:    ;
      278    10570    2             S_D.ERROR = E@BADMESSAGE;   /* E@BADMESSAGE */
      279    10571    2             CALL DDE$ERROR;
      280    10572    2             S_D.ERROR = E@DELBUG;       /* E@DELBUG */
      281    10573    2             CALL DDE$ERROR;
      282    10574    2             GOTO ARET;
      283    10575    2           END;
      284    10576    1        FPRG$ -> FPRG$CONTEXT.ADDRESS = GD$MSG.BRKRSP.ADR$;
      285    10577    1        FPRG$ -> FPRG$CONTEXT.STEP_MODE = STEP_MODE;
      286    10578    1        IF FPRG$ -> FPRG$CONTEXT.XDELTA
      287    10579    2        THEN DO;
      288    10580    2             TEMP1 = BITBIN(GD$MSG.BRKRSP.ERRCODE);
      289    10581    2             TEMP2B.B1 = TEMP1B.B1;
      290    10582    2             TEMP2B.B2 = TEMP1B.B2;
      291    10583    2             TEMP2B.B3 = TEMP1B.B3;
      292    10584    2             TEMP2B.B4 = TEMP1B.B4;
      293    10585    2             S_D.BRKRSP_ERRCODE = TEMP2;
      294    10586    2           END;
      295    10587    1        ELSE S_D.BRKRSP_ERRCODE = BITBIN(GD$MSG_HOST.BRKRSP.ERRCODE);
      296    10588    1        S_D.USERNO = GD$MSG.BRKRSP.USER#;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:9    
      297    10589    1        S_D.MBU = GD$MSG.BRKRSP.MBU;
      298    10590    1        FPRG_IC = GD$MSG.BRKRSP.ADR$;
      299    10591    1        S_D.SAVEIC = FPRG_IC;
      300    10592    1        FAULT = GD$MSG.BRKRSP.BRK#;
      301    10593    1        IF FAULT ~= 0
      302    10594    2        THEN DO;
      303    10595    2             IF (FAULT - (%GD#MAXBRKNUM + 1)) = %G_FPRG_START2#
      304    10596    3             THEN DO;
      305    10597                                      /* FPRG started via M$LDTRC - need to do an M$DRTN
      306    10598                                         to get new RU name and update context for new
      307    10599                                         FPRG  */
      308    10600    3                  S_D.DRTN$ -> FPT$DRTN.V.WAKE_FD# = '1'B;
      309    10601    3                  S_D.DRTN$ -> FPT$DRTN.FPRG_FID_ = VECTOR(VLR_FPRG_FID);
      310    10602    3                  S_D.DRTN$ -> FPT$DRTN.V.FPRG_DCB# = DCBNO;
      311    10603    3                  CALL M$DRTN (S_D.DRTN$ -> FPT$DRTN)
      312    10604    4                  WHENALTRETURN DO;
      313    10605    4                       CALL DUE$ERRMSG;
      314    10606    4                       S_D.DRTN$ -> FPT$DRTN.V.WAKE_FD# = '0'B;
      315    10607    4                       S_D.DRTN$ -> FPT$DRTN.V.FPRG_DCB# = 0;
      316    10608    4                       S_D.DRTN$ -> FPT$DRTN.FPRG_FID_ = VECTOR(NIL);
      317    10609    4                       GOTO NOGO;
      318    10610    4                     END;
      319    10611                                                /* Pick up run unit name for schema */
      320    10612    3                  FPRG$ -> FPRG$CONTEXT.RUFID.FNAME.SIZE = VLR_FPRG_FID.NAME.L;
      321    10613    3                  FPRG$ -> FPRG$CONTEXT.RUFID.FNAME.TEXT = VLR_FPRG_FID.NAME.TEXT;
      322    10614    3                  FPRG$ -> FPRG$CONTEXT.RUFID.ACCT = VLR_FPRG_FID.ACCT;
      323    10615    3                  FPRG$ -> FPRG$CONTEXT.RUFID.PASS = VLR_FPRG_FID.PASS;
      324    10616    3                  FPRG$ -> FPRG$CONTEXT.RUFID.PSN = VLR_FPRG_FID.PSN;
      325    10617    3                  FPRG$ -> FPRG$CONTEXT.RUFID.MODTIME = VLR_FPRG_FID.MODTIME;
      326    10618    3                  S_D.DRTN$ -> FPT$DRTN.V.WAKE_FD# = '0'B;
      327    10619    3                  S_D.DRTN$ -> FPT$DRTN.V.FPRG_DCB# = 0;
      328    10620    3                  S_D.DRTN$ -> FPT$DRTN.FPRG_FID_ = VECTOR(NIL);
      329    10621    3                  RES = FPRG$ -> FPRG$CONTEXT.RES;
      330    10622    3                  RES_SIZE = FPRG$ -> FPRG$CONTEXT.RES_SIZE;
      331    10623    4                  DO I = 1 TO S_D.FIXLAST;
      332    10624    4                       IF S_D.FIXCOM.FPRG(I)
      333    10625    5                       THEN DO;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:10   
      334    10626    5                            IF SUBSTR(S_D.FIXCOM.FPRG_RES(I), 0, S_D.FIXCOM.
             10626                                     FPRG_RES_SIZE(I))
      335    10627    5                              = SUBSTR(RES, 0, RES_SIZE)
      336    10628    6                            THEN DO;
      337    10629    6                                 S_D.KILL1 = I;
      338    10630    6                                 CALL DDA$KILL1;
      339    10631    6                               END;
      340    10632    5                          END;
      341    10633    4                     END;
      342    10634    3                END;
      343    10635                                                /* Report Host program stopped */
      344    10636    2             IF NOT S_D.DEBUG_CMD AND GD$MSG.FNC ~= %GD#RSPTRACE AND
      345    10637    2             ((FAULT >= 1 AND FAULT <= %GD#MAXBRKNUM) AND
      346    10638    2               PINCRW(ADDR(S_D.FIXCOM),
      347    10639    2               FPRG$ -> FPRG$CONTEXT.FIXCOM_INDEX(FAULT)*SIZEW(F$XCM))->F$XCM.SILENT =
             10639                        '0'B)
      348    10640    2             THEN CALL DDR$REPORT(R_STOP);
      349    10641                  /* Set up access to FPRG RU */
      350    10642    2             CALL DFA$FPRG (FPRG_IC);
      351    10643    2             IF GD$MSG.FNC = %GD#RSPTRACE
      352    10644    3             THEN DO;
      353    10645    3                  CALL DFA$TRACE_REPORT ALTRET(ARET);
      354    10646    3                  IF NOT S_D.DEBUG_CMD
      355    10647    3                  THEN CALL DFA$KILL_FPRG;
      356    10648    3                  S_D.CURRENT_FPRG_CONTEXT$ = FPRG$; /* NILled by KILL_FPRG */
      357    10649    3                  GOTO WAIT;
      358    10650    3                END;
      359    10651    2             IF FAULT >= 1 AND FAULT <= %GD#MAXBRKNUM
      360    10652    3             THEN DO;
      361    10653                                                /* Have hit an AT breakpoint */
      362    10654    3                  S_D.IXFIX = FPRG$ -> FPRG$CONTEXT.FIXCOM_INDEX(FAULT);
      363    10655    3                  S_D.FAULTCMD$ = PINCRW(ADDR(S_D.FIXCOM), S_D.IXFIX*SIZEW(F$XCM));
      364    10656    3                  IF S_D.FAULTCMD$ -> F$XCM.SILENT
      365    10657    3                  THEN S_D.SILENT = '1'B;
      366    10658    4                  ELSE DO;
      367    10659    4                       IF S_D.FAULTCMD$ -> F$XCM.CMD ~= C_AT /* C_AT */ AND
      368    10660    4                         S_D.FAULTCMD$ -> F$XCM.CMD ~= C_OC /* C_OC */ AND
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:11   
      369    10661    4                         S_D.FAULTCMD$ -> F$XCM.CMD ~= C_ONCALLS /* C_ONCALLS */ AND
      370    10662    4                         S_D.FAULTCMD$ -> F$XCM.CMD ~= C_OE /* C_OE */
      371    10663    5                       THEN DO;
      372    10664    5                            S_D.ERROR = E@BADBRKPNT; /* E@BADBRKPNT */
      373    10665    5                            CALL DDE$ERROR;
      374    10666    5                            S_D.ERROR = E@DELBUG; /* E@DELBUG */
      375    10667    5                            CALL DDE$ERROR;
      376    10668    5                            GOTO NOGO;
      377    10669    5                          END;
      378    10670    4                       IF S_D.FAULTCMD$ -> F$XCM.CMD = C_OC /* C_OC */
      379    10671    4                       THEN CALL DFR$REPORT(%R_FPRG_ONCALL);
      380    10672    4                       IF S_D.FAULTCMD$->F$XCM.CMD = C_ONCALLS /* C_ONCALLS */
      381    10673    5                       THEN DO;
      382    10674    5                            IF FPRG$ -> FPRG$CONTEXT.ONCALLS_X
      383    10675    6                            THEN DO;
      384    10676    6                                 CALL DDF$FIND_PEDEF(FPRG_IC, EDEF$) ALTRET(NO_REPORT);
      385    10677    6                                 IF ( EDEF$ -> B$EDEF.CST = %STD#
      386    10678    6                                   OR EDEF$ -> B$EDEF.CST = %ASYNC#
      387    10679    6                                   OR EDEF$ -> B$EDEF.CST = %FUNC#
      388    10680    6                                   OR EDEF$ -> B$EDEF.CST = %XSTD#
      389    10681    6                                   OR EDEF$ -> B$EDEF.CST = %XASYNC#
      390    10682    6                                   OR EDEF$ -> B$EDEF.CST = %XFUNC# )
      391    10683    6                                   AND ( EDEF$ -> B$EDEF.LFLAGS.SOURCE = %
             10683                                            SOURCE_OBJECT#
      392    10684    6                                   OR EDEF$ -> B$EDEF.LFLAGS.SOURCE = %SOURCE_ULIB# )
      393    10685    6                                 THEN GOTO REPORT_ONCALL;
      394    10686    6   NO_REPORT:                    CALL DFA$GO('0'B) ALTRET(NOGO);
      395    10687    6                               END;
      396    10688    5   REPORT_ONCALL:           CALL DFR$REPORT(%R_FPRG_ONCALL);
      397    10689    5                          END;
      398    10690    4                       IF S_D.FAULTCMD$ -> F$XCM.CMD = C_AT /* C_AT */
      399    10691    4                       THEN CALL DFR$REPORT(%R_FPRG_AT);
      400    10692    4                     END;
      401    10693    3   DO_ATTACH:
      402    10694    3                  UNWIND TO S_D.DO_ATTACHMENTS;
      403    10695    3                END;
      404    10696    3             ELSE DO;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:12   
      405    10697                                                /* have gotten a trap */
      406    10698    3                  IF FPRG$ -> FPRG$CONTEXT.XDELTA AND
      407    10699    3                    FAULT = 0
      408    10700    3                  THEN CALL DFR$REPORT(%R_XDELTA_BREAK);
      409    10701    4                  ELSE DO;
      410    10702    4                       S_D.FAULT = FAULT - (%GD#MAXBRKNUM + 1);
      411    10703    4                       IF FPRG$ -> FPRG$CONTEXT.XDELTA AND
      412    10704    4                         FAULT = 0
      413    10705    4                       THEN CALL DFR$REPORT(%R_XDELTA_SCREECH);
      414    10706    5                       ELSE DO;
      415    10707    5                            IF S_D.FAULT = %G_FPRG_EXIT# AND
      416    10708    5                               FPRG$ -> FPRG$CONTEXT.ONEXIT ~= 0
      417    10709    6                            THEN DO;
      418    10710    6                                 FAULT = FPRG$ -> FPRG$CONTEXT.ONEXIT;
      419    10711    6                                 S_D.IXFIX = FPRG$ -> FPRG$CONTEXT.FIXCOM_INDEX(FAULT);
      420    10712    6                                 S_D.FAULTCMD$ = PINCRW(ADDR(S_D.FIXCOM), S_D.IXFIX*
             10712                                          SIZEW(F$XCM));
      421    10713    6                                 S_D.OUTPUT = 'ON EXIT condition encountered,';
      422    10714    6                                 CALL DDQ$WRITE(ADDR(S_D.OUTPUT), 31);
      423    10715    6                                 GOTO DO_ATTACH;
      424    10716    6                               END;
      425    10717    5                            ELSE IF S_D.FAULT = %G_FPRG_EXIT#
      426    10718    5                              THEN FPRG$->FPRG$CONTEXT.STATE = %ATEXIT;
      427    10719    5                            CALL DFR$REPORT(%R_FPRG_TRAP);
      428    10720    5                          END;
      429    10721    4                     END;
      430    10722    3                END;
      431    10723    2           END;
      432    10724    1        CMD_COUNT = CMD_COUNT - 1;
      433    10725    1        IC = NIC;
      434    10726    1        IF S_D.BYPASS AND
      435    10727    1           STEP_MODE ~= C@INSTRUCTIONS AND
      436    10728    1           S_D.LB$ -> B$LBNTRY0.COMPILER = %CALFID
      437    10729    1        THEN GOTO CALC_NIC;
      438    10730    1        S_D.MOD_L6.ADDRESS = FPRG$ -> FPRG$CONTEXT.ADDRESS;
      439    10731    1        S_D.MOD_L6.SEG = 3;
      440    10732    1        S_D.MOD_L6.DESC# = 0;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:13   
      441    10733    1        S_D.MOD_L6.NOT_IS = '0'B;
      442    10734    1        S_D.MOD_L6.VALUE.SIZE = GD$MSG.BRKRSP.DATA_SIZE;
      443    10735    2        DO I = 0 TO GD$MSG.BRKRSP.DATA_SIZE - 1;
      444    10736    2             S_D.MOD_L6.VALUE.OPS(I) = GD$MSG.BRKRSP.DATA(I);
      445    10737    2           END;
      446    10738    1        IF CMD_COUNT > 0
      447    10739    1        THEN GOTO CALC_NIC;
      448    10740    1        CALL DFA$FPRG(FPRG_IC);
      449    10741    1        CALL DFR$REPORT(%R_FPRG_STEP);
      450    10742    1        RETURN;
      451    10743    1   NO_SCHEMA:
      452    10744    1   STEP_MODE = C@INSTRUCTIONS;  /* C@INSTRUCTIONS */
      453    10745    1        GOTO CALC_NIC;
      454    10746    1   ARET:
      455    10747    1        CALL DDE$ERROR;
      456    10748    1        RETURN;
      457    10749    1   NOGO:
      458    10750    1        ALTRETURN;
      459    10751    1   ERR:
      460    10752    1        CALL DUE$ERRMSG;
      461    10753    1        S_D.ERROR = E@STEP_ERROR;  /* E@STEP_ERROR */
      462    10754    1        GOTO ARET;
      463    10755    1   READERR: ;
      464    10756    1        IF B$TCB$ -> B$TCB.ALT$ -> B$ALT.ERR.CODE = %E$NODAT
      465    10757    2        THEN DO;
      466    10758    2             FPRG$ -> FPRG$CONTEXT.STATE = %RUNNING;
      467    10759    2             IF S_D.DEBUG_CMD
      468    10760    2             THEN GOTO WAIT;
      469    10761    2             CALL DFA$KILL_FPRG;
      470    10762    2             RETURN;
      471    10763    2           END;
      472    10764    1        ELSE GOTO ERR;
      473    10765    1   END DFA$STEP;

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:14   
--  Include file information  --

   B$OBJECT_C.:E05TOU  is referenced.
   KI_ERRORS_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   DU_SCODE_C.:E05TOU  is referenced.
   DF_EQUS_E.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_PSUBS_C.:E05TOU  is referenced.
   GD_EQUS_E.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  is referenced.
   GD$MSG_M.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DFA$STEP.

   Procedure DFA$STEP requires 956 words for executable code.
   Procedure DFA$STEP requires 76 words of local(AUTO) storage.

    No errors detected in file DFA$STEP.:E05TSI    .

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:15   

 Object Unit name= DFA$STEP                                   File name= DFA$STEP.:E05TOU
 UTS= JUL 29 '97 14:35:55.52 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1  RoData even  UTS      8     10  DFA$STEP
    2   Proc  even  none   956   1674  DFA$STEP
    3  RoData even  none    22     26  DFA$STEP

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes    yes     yes      Std        2  DFA$STEP
     2      4          yes     yes      Std        2  DFA$STEP_SIZE
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:16   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       6 DFK$GETMVAL
 yes     yes           Std       4 DFR$INSTR
 yes     yes           Std       4 DDF$STATEMENT
 yes     yes           Std       1 DDF$N_EXST
 yes     yes           Std       2 DFQ$READ_FD
         yes           Std       1 DFR$REPORT
         yes           Std       1 DDR$REPORT
 yes     yes           Std       2 DDF$EXST_#
 yes     yes           Std       2 DDF$FIND_PEDEF
         yes           Std       0 DDA$RESET_PATCH_SPACE
         yes           Std       2 DDQ$WRITE
         yes           Std       0 DUE$ERRMSG
 yes     yes           Std       1 DFA$GO
 yes     yes           Std       1 DFQ$WRITE_FD
 yes     yes           Std       0 DFA$TRACE_REPORT
         yes           Std       1 DFA$KILL_FPRG
         yes           Std       0 DDE$ERROR
         yes           Std       0 DDA$KILL1
         yes           Std       1 DFA$FPRG
                       nStd      0 X66_AUTO_2
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AUNWIND
                       nStd      0 X66_AALT
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:17   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    S_D$                             r    S_D_HOST_MESSAGE$                r    S_D_L6_MESSAGE$
     M$UC                             r    SNAP_MESSAGE                          FPT_WAIT
     B$TCB$                                B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:18   


        1        1        /*M* DFA$STEP - STEP Do routine for FPRGS */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*D* NAME: DFA$STEP
        8        8             PURPOSE: Perform STEP for FPRGS */
        9        9        /**/
       10       10        DFA$STEP: PROC(PSTEPSZ, PIC) ALTRET;

     10  2 000000   000000 700200 xent  DFA$STEP     TSX0  ! X66_AUTO_2
         2 000001   000114 000002                    ZERO    76,2

       11       11        /* Parameters */
       12       12    1   DCL PSTEPSZ UBIN;
       13       13    1   DCL PIC UBIN;
       14       14        /* Local Auto */
       15       15    1   DCL FPRG$ PTR;
       16       16    1   DCL CMD_COUNT UBIN;
       17       17    1   DCL STEP_MODE UBIN;
       18       18    1   DCL STEP_VALUE SBIN;
       19       19    1   DCL IC UBIN;
       20       20    1   DCL STMT# UBIN;
       21       21    1   DCL STMT$ PTR;
       22       22    1   DCL SUBST# UBIN;
       23       23    1   DCL SUBST UBIN;
       24       24    1   DCL NIC UBIN;
       25       25    1   DCL I UBIN;
       26       26    1   DCL 1 VALUE ALIGNED,
       27       27    1         2 SIZE UBIN WORD,
       28       28    1         2 OPS(0:15) UBIN WORD;
       29       29    1   DCL INSTR_SIZE UBIN;
       30       30    1   DCL LINE UBIN;
       31       31    1   DCL SOC BIT(1) ALIGNED;
       32       32    1   DCL AT_PROC BIT(1) ALIGNED;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:19   
       33       33    1   DCL SET_SIZE BIT(1) ALIGNED;
       34       34    1   DCL FAULT UBIN;
       35       35    1   DCL DCBNO UBIN;
       36       36    1   DCL RES CHAR(8);
       37       37    1   DCL RES_SIZE UBIN;
       38       38    1   DCL FPRG_IC UBIN;
       39       39    1   DCL EDEF$ PTR;
       40       40    1   DCL TEMP1 UBIN(36) ALIGNED;
       41       41    1   DCL 1 TEMP1B REDEF TEMP1 ALIGNED,
       42       42    1         2 * UBIN(4) UNAL,
       43       43    1         2 B1 UBIN(8) UNAL,
       44       44    1         2 B2 UBIN(8) UNAL,
       45       45    1         2 B3 UBIN(8) UNAL,
       46       46    1         2 B4 UBIN(8) UNAL;
       47       47    1   DCL TEMP2 UBIN(36) ALIGNED;
       48       48    1   DCL 1 TEMP2B REDEF TEMP2 ALIGNED,
       49       49    1         2 * BIT(1) UNAL,
       50       50    1         2 B1 UBIN(8) UNAL,
       51       51    1         2 * BIT(1) UNAL,
       52       52    1         2 B2 UBIN(8) UNAL,
       53       53    1         2 * BIT(1) UNAL,
       54       54    1         2 B3 UBIN(8) UNAL,
       55       55    1         2 * BIT(1) UNAL,
       56       56    1         2 B4 UBIN(8) UNAL;
       57       57        /* Includes and Based structures */
       58       58        %INCLUDE XUH_MACRO_C;
       59      142        %INCLUDE DD_SD_M;
       60     1478        %S_D;
       61     2796        %S_D_PTRS;
       62     2833        %INCLUDE DD$BASED;
       63     4136        %DOO(NAME=STEP$CMD,STCLASS=BASED,ID=CMD_COUNT);
       64     4151        %FPRG$CONTEXT;
       65     4214        %FIXCOM (NAME="F$XCM",STCLASS=BASED);
       66     4230        %AT_FIRST;
       67     4258        %INCLUDE GD$MSG_M;
       68     4422        %GD$MSG(FPTN=GD$MSG,STCLASS="BASED(S_D_L6_MESSAGE$)",L6=YES,L6PTR="UBIN(32) UNAL");
       69     4578        %GD$MSG(FPTN=GD$MSG_HOST, STCLASS="BASED(S_D_HOST_MESSAGE$)", L6=NO);
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:20   
       70     4734        %INCLUDE G_LCP6_E;
       71     4992        %INCLUDE GD_EQUS_E;
       72     5153        %INCLUDE DD_PSUBS_C;
       73     5628        %INCLUDE DD_SUBS_C;
       74     5899        %INCLUDE DD_ERR_C;
       75     6296        %INCLUDE DF_EQUS_E;
       76     6309        %INCLUDE DU_SCODE_C;
       77     6322        %INCLUDE CP_6;
       78     6403        %FPT_SCREECH(FPTN=SNAP_MESSAGE,STCLASS=SYMREF READONLY);
       79     6417        %VLP_SCODE(FPTN=SC_MESSAGE, STCLASS=SYMREF READONLY);
       80     6478        %FPT_WAIT(FPTN=FPT_WAIT,
       81     6479                  STCLASS=SYMREF);
       82     6493        %FPT_WAIT(FPTN=FPTWAIT,
       83     6494                  STCLASS=);
       84     6508        %FPT_DRTN (FPTN=FPT$DRTN, STCLASS=BASED);
       85     6532        %VLR_FPRG_FID(FPTN=VLR_FPRG_FID,STCLASS=AUTO);
       86     6540        %B$TCB;
       87     6543        %B$ALT;
       88     6551    1   DCL B$TCB$ PTR SYMREF;
       89     6552        %INCLUDE KI_ERRORS_C;
       90     6637        %INCLUDE B$OBJECT_C;
       91    10067        %B$EDEF;
       92    10137        %SUB_CST;
       93    10153        %SUB_LINKFLAGS;
       94    10162        %B$EXST;
       95    10269        %B$STTYPESUBS;
       96    10338        %B$LBNTRY0;
       97    10374        %COMPILERIDSUBS;
       98    10390        /* Entry DCLs */
       99    10391    1   DCL DDA$KILL1 ENTRY;
      100    10392    1   DCL DDA$RESET_PATCH_SPACE ENTRY;
      101    10393    1   DCL DDR$REPORT ENTRY(1);
      102    10394    1   DCL DFA$TRACE_REPORT ENTRY ALTRET;
      103    10395    1   DCL DDF$FIND_PEDEF ENTRY(2) ALTRET;
      104    10396    1   DCL DFA$GO ENTRY(1) ALTRET;
      105    10397    1   DCL DDQ$WRITE ENTRY(2);
      106    10398    1   DCL DDA$DOATTACH ENTRY ALTRET;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:21   
      107    10399    1   DCL DDE$ERROR      ENTRY;
      108    10400    1   DCL DDF$EXST_#     ENTRY(2)  ALTRET;
      109    10401    1   DCL DDF$N_EXST     ENTRY(1)  ALTRET;
      110    10402    1   DCL DDF$STATEMENT  ENTRY(4)  ALTRET;
      111    10403    1   DCL DFA$FPRG       ENTRY(1);
      112    10404    1   DCL DFA$KILL_FPRG ENTRY(1);
      113    10405    1   DCL DFK$GETMVAL ENTRY(6) ALTRET;
      114    10406    1   DCL DFQ$READ_FD    ENTRY(2)  ALTRET;
      115    10407    1   DCL DFQ$WRITE_FD   ENTRY(1)  ALTRET;
      116    10408    1   DCL DFR$INSTR      ENTRY(4)  ALTRET;
      117    10409    1   DCL DFR$REPORT     ENTRY(1);
      118    10410    1   DCL DUE$ERRMSG     ENTRY;
      119    10411        /**/
      120    10412    1        SET_SIZE = '0'B;

  10412  2 000002   200045 450100                    STZ     SET_SIZE,,AUTO

      121    10413    1        GOTO COMMON;

  10413  2 000003   000016 710000 2                  TRA     COMMON

      122    10414
      123    10415    1   DFA$STEP_SIZE: ENTRY(PSTEPSZ, PIC) ALTRET;

  10415  2 000004   000000 700200 xent  DFA$STEP_SI* TSX0  ! X66_AUTO_2
         2 000005   000114 000002                    ZERO    76,2

      124    10416    1        SET_SIZE = '1'B;

  10416  2 000006   400000 236003                    LDQ     -131072,DU
         2 000007   200045 756100                    STQ     SET_SIZE,,AUTO

      125    10417    1        SOC = '0'B;

  10417  2 000010   200043 450100                    STZ     SOC,,AUTO

      126    10418    1        CMD_COUNT = 1;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:22   

  10418  2 000011   000001 235007                    LDA     1,DL
         2 000012   200006 755100                    STA     CMD_COUNT,,AUTO

      127    10419    1        PSTEPSZ = 0;

  10419  2 000013   200003 470500                    LDP0    @PSTEPSZ,,AUTO
         2 000014   000000 450100                    STZ     0,,PR0

      128    10420    1        GOTO SET_MODE;

  10420  2 000015   000050 710000 2                  TRA     SET_MODE

      129    10421
      130    10422    1   COMMON:
      131    10423    1        SOC = '0'B;

  10423  2 000016   200043 450100       COMMON       STZ     SOC,,AUTO

      132    10424    1        AT_PROC = '0'B;

  10424  2 000017   200044 450100                    STZ     AT_PROC,,AUTO

      133    10425    1        FPRG$ = S_D.CURRENT_FPRG_CONTEXT$;

  10425  2 000020   000000 470400 xsym               LDP0    S_D$
         2 000021   000102 236100                    LDQ     66,,PR0
         2 000022   200005 756100                    STQ     FPRG$,,AUTO

      134    10426    1        IF S_D.DO$ -> STEP$CMD.SETTYPE

  10426  2 000023   000031 471500                    LDP1    25,,PR0
         2 000024   100001 236100                    LDQ     1,,PR1
         2 000025   400000 316007                    CANQ    -131072,DL
         2 000026   000045 600000 2                  TZE     s:10437

      135    10427    2        THEN DO;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:23   

      136    10428    2             CMD_COUNT = 1;

  10428  2 000027   000001 235007                    LDA     1,DL
         2 000030   200006 755100                    STA     CMD_COUNT,,AUTO

      137    10429    2             IF S_D.DO$ -> STEP$CMD.CMD_COUNT = C@ONE   /* C@ONE */

  10429  2 000031   100001 220100                    LDX0    1,,PR1
         2 000032   001104 100003                    CMPX0   580,DU
         2 000033   000041 601000 2                  TNZ     s:10434

      138    10430    3             THEN DO;

      139    10431    3                  STEP_MODE = C@STATEMENTS;   /* C@STATEMENTS */

  10431  2 000034   001107 235007                    LDA     583,DL
         2 000035   200007 755100                    STA     STEP_MODE,,AUTO

      140    10432    3                  SOC = '1'B;

  10432  2 000036   400000 236003                    LDQ     -131072,DU
         2 000037   200043 756100                    STQ     SOC,,AUTO

      141    10433    3                END;

  10433  2 000040   000054 710000 2                  TRA     s:10441

      142    10434    2             ELSE STEP_MODE = S_D.DO$ -> STEP$CMD.CMD_COUNT;

  10434  2 000041   100001 236100                    LDQ     1,,PR1
         2 000042   000022 772000                    QRL     18
         2 000043   200007 756100                    STQ     STEP_MODE,,AUTO

      143    10435    2           END;

  10435  2 000044   000054 710000 2                  TRA     s:10441
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:24   

      144    10436    2        ELSE DO;

      145    10437    2             CMD_COUNT = S_D.DO$ -> STEP$CMD.CMD_COUNT;

  10437  2 000045   100001 236100                    LDQ     1,,PR1
         2 000046   000022 772000                    QRL     18
         2 000047   200006 756100                    STQ     CMD_COUNT,,AUTO

      146    10438    2   SET_MODE:
      147    10439    2             STEP_MODE = FPRG$ -> FPRG$CONTEXT.STEP_MODE;

  10439  2 000050   200005 470500       SET_MODE     LDP0    FPRG$,,AUTO
         2 000051   000033 236100                    LDQ     27,,PR0
         2 000052   777777 376007                    ANQ     -1,DL
         2 000053   200007 756100                    STQ     STEP_MODE,,AUTO

      148    10440    2           END;

      149    10441    1        IF ADDR(PIC) ~= ADDR(NIL)

  10441  2 000054   200004 236100                    LDQ     @PIC,,AUTO
         2 000055   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000056   000063 600000 2                  TZE     s:10443

      150    10442    1        THEN IC = PIC;

  10442  2 000057   200004 470500                    LDP0    @PIC,,AUTO
         2 000060   000000 235100                    LDA     0,,PR0
         2 000061   200011 755100                    STA     IC,,AUTO
         2 000062   000066 710000 2                  TRA     CALC_NIC

      151    10443    1        ELSE IC = FPRG$ -> FPRG$CONTEXT.ADDRESS;

  10443  2 000063   200005 470500                    LDP0    FPRG$,,AUTO
         2 000064   000005 235100                    LDA     5,,PR0
         2 000065   200011 755100                    STA     IC,,AUTO
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:25   

      152    10444    1   CALC_NIC:
      153    10445    1        IF NOT SOC

  10445  2 000066   200043 234100       CALC_NIC     SZN     SOC,,AUTO
         2 000067   000073 604000 2                  TMI     s:10447

      154    10446    1        THEN FPRG$ -> FPRG$CONTEXT.STEP_MODE = STEP_MODE;

  10446  2 000070   200007 720100                    LXL0    STEP_MODE,,AUTO
         2 000071   200005 470500                    LDP0    FPRG$,,AUTO
         2 000072   000033 440100                    SXL0    27,,PR0

      155    10447    2        DO CASE (FPRG$->FPRG$CONTEXT.STEP_MODE);

  10447  2 000073   200005 470500                    LDP0    FPRG$,,AUTO
         2 000074   000033 236100                    LDQ     27,,PR0
         2 000075   777777 376007                    ANQ     -1,DL
         2 000076   001105 136007                    SBLQ    581,DL
         2 000077   000004 116007                    CMPQ    4,DL
         2 000100   000102 602006 2                  TNC     s:10447+7,QL
         2 000101   000550 710000 2                  TRA     GOT_SIZE
         2 000102   000106 710000 2                  TRA     s:10449
         2 000103   000451 710000 2                  TRA     s:10523
         2 000104   000305 710000 2                  TRA     s:10492
         2 000105   000166 710000 2                  TRA     s:10466

      156    10448    2          CASE(C@INSTRUCTIONS);            /* C@INSTRUCTIONS */

      157    10449    2             IF IC ~= S_D.MOD_L6.ADDRESS

  10449  2 000106   000000 471400 xsym               LDP1    S_D$
         2 000107   200011 236100                    LDQ     IC,,AUTO
         2 000110   000113 604000 2                  TMI     s:10450
         2 000111   106772 116100                    CMPQ    3578,,PR1
         2 000112   000127 600000 2                  TZE     s:10451

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:26   
      158    10450    2             THEN CALL DFK$GETMVAL(VALUE, IC, 3, 0, '0'B, '1'B) ALTRET(ARET);

  10450  2 000113   000000 237000 3                  LDAQ    0
         2 000114   200112 757100                    STAQ    VLR_FPRG_FID+20,,AUTO
         2 000115   000002 237000 3                  LDAQ    2
         2 000116   200110 757100                    STAQ    VLR_FPRG_FID+18,,AUTO
         2 000117   200011 633500                    EPPR3   IC,,AUTO
         2 000120   200107 453500                    STP3    VLR_FPRG_FID+17,,AUTO
         2 000121   200020 634500                    EPPR4   VALUE,,AUTO
         2 000122   200106 454500                    STP4    VLR_FPRG_FID+16,,AUTO
         2 000123   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000124   000024 631400 xsym               EPPR1   B_VECTNIL+20
         2 000125   000000 701000 xent               TSX1    DFK$GETMVAL
         2 000126   001640 702000 2                  TSX2    ARET

      159    10451    2             IF FPRG$ -> FPRG$CONTEXT.INTERPRETIVE

  10451  2 000127   200005 470500                    LDP0    FPRG$,,AUTO
         2 000130   000001 236100                    LDQ     1,,PR0
         2 000131   200000 316003                    CANQ    65536,DU
         2 000132   000142 600000 2                  TZE     s:10461

      160    10452    3             THEN DO;

      161    10453    3                  IF SET_SIZE THEN RETURN; /* Size is already zero */

  10453  2 000133   200045 234100                    SZN     SET_SIZE,,AUTO
         2 000134   000136 605000 2                  TPL     s:10458

  10453  2 000135   000000 702200 xent               TSX2  ! X66_ARET

      162    10454                                                /* so this'll be like a go */
      163    10455                                                /* to the FD.  This will get */
      164    10456                                                /* us around the GOSTEP at the */
      165    10457                                                /* FPL bootstrap */
      166    10458    3                  S_D.ERROR = E@NOT_INTERPRETIVE;

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:27   
  10458  2 000136   000465 235007                    LDA     309,DL
         2 000137   000000 471400 xsym               LDP1    S_D$
         2 000140   100013 755100                    STA     11,,PR1

      167    10459    3                  GOTO ARET;

  10459  2 000141   001640 710000 2                  TRA     ARET

      168    10460    3                END;
      169    10461    2             VALUE = S_D.MOD_L6.VALUE;

  10461  2 000142   000000 471400 xsym               LDP1    S_D$
         2 000143   000100 100500                    MLR     fill='000'O
         2 000144   106776 000104                    ADSC9   3582,,PR1                cn=0,n=68
         2 000145   200020 000104                    ADSC9   VALUE,,AUTO              cn=0,n=68

      170    10462    2             CALL DFR$INSTR(VALUE.OPS, INSTR_SIZE, '0'B) ALTRET(ARET);

  10462  2 000146   000000 236000 3                  LDQ     0
         2 000147   200110 756100                    STQ     VLR_FPRG_FID+18,,AUTO
         2 000150   200041 633500                    EPPR3   INSTR_SIZE,,AUTO
         2 000151   200107 453500                    STP3    VLR_FPRG_FID+17,,AUTO
         2 000152   200021 634500                    EPPR4   VALUE+1,,AUTO
         2 000153   200106 454500                    STP4    VLR_FPRG_FID+16,,AUTO
         2 000154   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000155   000021 631400 xsym               EPPR1   B_VECTNIL+17
         2 000156   000000 701000 xent               TSX1    DFR$INSTR
         2 000157   001640 702000 2                  TSX2    ARET

      171    10463    2             STEP_VALUE = INSTR_SIZE;

  10463  2 000160   200041 235100                    LDA     INSTR_SIZE,,AUTO
         2 000161   200010 755100                    STA     STEP_VALUE,,AUTO

      172    10464    2             NIC = IC + STEP_VALUE;

  10464  2 000162   200011 236100                    LDQ     IC,,AUTO
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:28   
         2 000163   200010 036100                    ADLQ    STEP_VALUE,,AUTO
         2 000164   200016 756100                    STQ     NIC,,AUTO
         2 000165   000550 710000 2                  TRA     GOT_SIZE

      173    10465    2          CASE(C@SUBSTATEMENTS);           /* C@SUBSTATEMENTS */

      174    10466    2             NIC = IC;

  10466  2 000166   200011 235100                    LDA     IC,,AUTO
         2 000167   200016 755100                    STA     NIC,,AUTO

      175    10467    2             CALL DDF$STATEMENT(NIC, STMT#, SUBST#, SUBST) ALTRET(NO_SCHEMA);

  10467  2 000170   200015 631500                    EPPR1   SUBST,,AUTO
         2 000171   200111 451500                    STP1    VLR_FPRG_FID+19,,AUTO
         2 000172   200014 633500                    EPPR3   SUBST#,,AUTO
         2 000173   200110 453500                    STP3    VLR_FPRG_FID+18,,AUTO
         2 000174   200012 634500                    EPPR4   STMT#,,AUTO
         2 000175   200107 454500                    STP4    VLR_FPRG_FID+17,,AUTO
         2 000176   200016 635500                    EPPR5   NIC,,AUTO
         2 000177   200106 455500                    STP5    VLR_FPRG_FID+16,,AUTO
         2 000200   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000201   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 000202   000000 701000 xent               TSX1    DDF$STATEMENT
         2 000203   001635 702000 2                  TSX2    NO_SCHEMA

      176    10468    2             CALL DDF$EXST_#(SUBST#, STMT$) ALTRET(NO_SCHEMA);

  10468  2 000204   200013 630500                    EPPR0   STMT$,,AUTO
         2 000205   200107 450500                    STP0    VLR_FPRG_FID+17,,AUTO
         2 000206   200014 631500                    EPPR1   SUBST#,,AUTO
         2 000207   200106 451500                    STP1    VLR_FPRG_FID+16,,AUTO
         2 000210   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000211   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000212   000000 701000 xent               TSX1    DDF$EXST_#
         2 000213   001635 702000 2                  TSX2    NO_SCHEMA

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:29   
      177    10469    2             IF STMT$ -> B$EXST.STTYPE = %S@PROC_END OR

  10469  2 000214   200013 470500                    LDP0    STMT$,,AUTO
         2 000215   000002 236100                    LDQ     2,,PR0
         2 000216   000177 376003                    ANQ     127,DU
         2 000217   000146 116003                    CMPQ    102,DU
         2 000220   000225 600000 2                  TZE     s:10473
         2 000221   000011 116003                    CMPQ    9,DU
         2 000222   000225 600000 2                  TZE     s:10473
         2 000223   000012 116003                    CMPQ    10,DU
         2 000224   000230 601000 2                  TNZ     s:10476

      178    10470    2                STMT$ -> B$EXST.STTYPE = %S@RETURN OR
      179    10471    2                STMT$ -> B$EXST.STTYPE = %S@ALTRETURN
      180    10472    3             THEN DO;

      181    10473    3                  STEP_VALUE = -1;

  10473  2 000225   000001 335007                    LCA     1,DL
         2 000226   200010 755100                    STA     STEP_VALUE,,AUTO

      182    10474    3                  GOTO GOT_SIZE;

  10474  2 000227   000550 710000 2                  TRA     GOT_SIZE

      183    10475    3                END;
      184    10476    2             IF STMT$->B$EXST.STTYPE = %S@MONITOR_CALL

  10476  2 000230   000003 116003                    CMPQ    3,DU
         2 000231   000234 601000 2                  TNZ     s:10478

      185    10477    2             THEN SOC = '1'B;

  10477  2 000232   400000 236003                    LDQ     -131072,DU
         2 000233   200043 756100                    STQ     SOC,,AUTO

      186    10478    2             IF STMT$->B$EXST.STTYPE = %S@PROC OR
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:30   

  10478  2 000234   000002 236100                    LDQ     2,,PR0
         2 000235   000177 376003                    ANQ     127,DU
         2 000236   000145 116003                    CMPQ    101,DU
         2 000237   000242 600000 2                  TZE     s:10481
         2 000240   000147 116003                    CMPQ    103,DU
         2 000241   000270 601000 2                  TNZ     WHO_CARES1

      187    10479    2                STMT$->B$EXST.STTYPE = %S@ENTRY
      188    10480    3             THEN DO;

      189    10481    3                CALL DDF$FIND_PEDEF (IC, EDEF$) ALTRET (WHO_CARES1);

  10481  2 000242   200054 631500                    EPPR1   EDEF$,,AUTO
         2 000243   200107 451500                    STP1    VLR_FPRG_FID+17,,AUTO
         2 000244   200011 633500                    EPPR3   IC,,AUTO
         2 000245   200106 453500                    STP3    VLR_FPRG_FID+16,,AUTO
         2 000246   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000247   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000250   000000 701000 xent               TSX1    DDF$FIND_PEDEF
         2 000251   000270 702000 2                  TSX2    WHO_CARES1

      190    10482    3                IF EDEF$->B$EDEF.CST = %STD# OR

  10482  2 000252   200054 470500                    LDP0    EDEF$,,AUTO
         2 000253   000001 236100                    LDQ     1,,PR0
         2 000254   074000 316007                    CANQ    30720,DL
         2 000255   000266 600000 2                  TZE     s:10485
         2 000256   000001 236100                    LDQ     1,,PR0
         2 000257   074000 376007                    ANQ     30720,DL
         2 000260   024000 116007                    CMPQ    10240,DL
         2 000261   000266 600000 2                  TZE     s:10485
         2 000262   020000 116007                    CMPQ    8192,DL
         2 000263   000266 600000 2                  TZE     s:10485
         2 000264   044000 116007                    CMPQ    18432,DL
         2 000265   000270 601000 2                  TNZ     WHO_CARES1

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:31   
      191    10483    3                   EDEF$->B$EDEF.CST = %XSTD# OR
      192    10484    3                   EDEF$->B$EDEF.CST = %FUNC# OR
      193    10485    3                   EDEF$->B$EDEF.CST = %XFUNC# THEN AT_PROC = '1'B;

  10485  2 000266   400000 236003                    LDQ     -131072,DU
         2 000267   200044 756100                    STQ     AT_PROC,,AUTO

      194    10486    3                END;

      195    10487    2   WHO_CARES1:
      196    10488    2             CALL DDF$N_EXST(STMT$) ALTRET(NO_SCHEMA);

  10488  2 000270   200013 630500       WHO_CARES1   EPPR0   STMT$,,AUTO
         2 000271   200106 450500                    STP0    VLR_FPRG_FID+16,,AUTO
         2 000272   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000273   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000274   000000 701000 xent               TSX1    DDF$N_EXST
         2 000275   001635 702000 2                  TSX2    NO_SCHEMA

      197    10489    2             NIC = STMT$ -> B$EXST.ISADDR;

  10489  2 000276   200013 470500                    LDP0    STMT$,,AUTO
         2 000277   000000 236100                    LDQ     0,,PR0
         2 000300   000032 376000 xsym               ANQ     B_VECTNIL+26
         2 000301   200016 756100                    STQ     NIC,,AUTO

      198    10490    2             STEP_VALUE = NIC - IC;

  10490  2 000302   200011 136100                    SBLQ    IC,,AUTO
         2 000303   200010 756100                    STQ     STEP_VALUE,,AUTO
         2 000304   000550 710000 2                  TRA     GOT_SIZE

      199    10491    2          CASE(C@STATEMENTS);              /* C@STATEMENTS */

      200    10492    2             NIC = IC;

  10492  2 000305   200011 235100                    LDA     IC,,AUTO
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:32   
         2 000306   200016 755100                    STA     NIC,,AUTO

      201    10493    2             CALL DDF$STATEMENT(NIC, STMT#, SUBST#, SUBST) ALTRET(NO_SCHEMA);

  10493  2 000307   200015 631500                    EPPR1   SUBST,,AUTO
         2 000310   200111 451500                    STP1    VLR_FPRG_FID+19,,AUTO
         2 000311   200014 633500                    EPPR3   SUBST#,,AUTO
         2 000312   200110 453500                    STP3    VLR_FPRG_FID+18,,AUTO
         2 000313   200012 634500                    EPPR4   STMT#,,AUTO
         2 000314   200107 454500                    STP4    VLR_FPRG_FID+17,,AUTO
         2 000315   200016 635500                    EPPR5   NIC,,AUTO
         2 000316   200106 455500                    STP5    VLR_FPRG_FID+16,,AUTO
         2 000317   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000320   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 000321   000000 701000 xent               TSX1    DDF$STATEMENT
         2 000322   001635 702000 2                  TSX2    NO_SCHEMA

      202    10494    2             CALL DDF$EXST_#(STMT#, STMT$) ALTRET(NO_SCHEMA);

  10494  2 000323   200013 630500                    EPPR0   STMT$,,AUTO
         2 000324   200107 450500                    STP0    VLR_FPRG_FID+17,,AUTO
         2 000325   200012 631500                    EPPR1   STMT#,,AUTO
         2 000326   200106 451500                    STP1    VLR_FPRG_FID+16,,AUTO
         2 000327   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000330   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000331   000000 701000 xent               TSX1    DDF$EXST_#
         2 000332   001635 702000 2                  TSX2    NO_SCHEMA

      203    10495    2             IF STMT$ -> B$EXST.STTYPE = %S@PROC_END OR

  10495  2 000333   200013 470500                    LDP0    STMT$,,AUTO
         2 000334   000002 236100                    LDQ     2,,PR0
         2 000335   000177 376003                    ANQ     127,DU
         2 000336   000146 116003                    CMPQ    102,DU
         2 000337   000344 600000 2                  TZE     s:10499
         2 000340   000011 116003                    CMPQ    9,DU
         2 000341   000344 600000 2                  TZE     s:10499
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:33   
         2 000342   000012 116003                    CMPQ    10,DU
         2 000343   000347 601000 2                  TNZ     s:10502

      204    10496    2                STMT$ -> B$EXST.STTYPE = %S@RETURN OR
      205    10497    2                STMT$ -> B$EXST.STTYPE = %S@ALTRETURN
      206    10498    3             THEN DO;

      207    10499    3                  STEP_VALUE = -1;

  10499  2 000344   000001 335007                    LCA     1,DL
         2 000345   200010 755100                    STA     STEP_VALUE,,AUTO

      208    10500    3                  GOTO GOT_SIZE;

  10500  2 000346   000550 710000 2                  TRA     GOT_SIZE

      209    10501    3                END;
      210    10502    2             LINE = STMT$ -> B$EXST.LINENUM;

  10502  2 000347   000002 236100                    LDQ     2,,PR0
         2 000350   777777 376007                    ANQ     -1,DL
         2 000351   200042 756100                    STQ     LINE,,AUTO

      211    10503    2             IF SOC AND STMT$ -> B$EXST.STTYPE ~= %S@CALL

  10503  2 000352   200043 234100                    SZN     SOC,,AUTO
         2 000353   000361 605000 2                  TPL     s:10505
         2 000354   000002 236100                    LDQ     2,,PR0
         2 000355   000177 376003                    ANQ     127,DU
         2 000356   000002 116003                    CMPQ    2,DU
         2 000357   000361 600000 2                  TZE     s:10505

      212    10504    2             THEN SOC = '0'B;

  10504  2 000360   200043 450100                    STZ     SOC,,AUTO

      213    10505    2             IF STMT$->B$EXST.STTYPE = %S@MONITOR_CALL
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:34   

  10505  2 000361   000002 236100                    LDQ     2,,PR0
         2 000362   000177 376003                    ANQ     127,DU
         2 000363   000003 116003                    CMPQ    3,DU
         2 000364   000367 601000 2                  TNZ     s:10507

      214    10506    2             THEN SOC = '1'B;

  10506  2 000365   400000 236003                    LDQ     -131072,DU
         2 000366   200043 756100                    STQ     SOC,,AUTO

      215    10507    2             IF STMT$->B$EXST.STTYPE = %S@PROC OR

  10507  2 000367   000002 236100                    LDQ     2,,PR0
         2 000370   000177 376003                    ANQ     127,DU
         2 000371   000145 116003                    CMPQ    101,DU
         2 000372   000375 600000 2                  TZE     s:10510
         2 000373   000147 116003                    CMPQ    103,DU
         2 000374   000423 601000 2                  TNZ     WHO_CARES2

      216    10508    2                STMT$->B$EXST.STTYPE = %S@ENTRY
      217    10509    3             THEN DO;

      218    10510    3                CALL DDF$FIND_PEDEF (IC, EDEF$) ALTRET (WHO_CARES2);

  10510  2 000375   200054 631500                    EPPR1   EDEF$,,AUTO
         2 000376   200107 451500                    STP1    VLR_FPRG_FID+17,,AUTO
         2 000377   200011 633500                    EPPR3   IC,,AUTO
         2 000400   200106 453500                    STP3    VLR_FPRG_FID+16,,AUTO
         2 000401   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000402   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000403   000000 701000 xent               TSX1    DDF$FIND_PEDEF
         2 000404   000423 702000 2                  TSX2    WHO_CARES2

      219    10511    3                IF EDEF$->B$EDEF.CST = %STD# OR

  10511  2 000405   200054 470500                    LDP0    EDEF$,,AUTO
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:35   
         2 000406   000001 236100                    LDQ     1,,PR0
         2 000407   074000 316007                    CANQ    30720,DL
         2 000410   000421 600000 2                  TZE     s:10514
         2 000411   000001 236100                    LDQ     1,,PR0
         2 000412   074000 376007                    ANQ     30720,DL
         2 000413   024000 116007                    CMPQ    10240,DL
         2 000414   000421 600000 2                  TZE     s:10514
         2 000415   020000 116007                    CMPQ    8192,DL
         2 000416   000421 600000 2                  TZE     s:10514
         2 000417   044000 116007                    CMPQ    18432,DL
         2 000420   000423 601000 2                  TNZ     WHO_CARES2

      220    10512    3                   EDEF$->B$EDEF.CST = %XSTD# OR
      221    10513    3                   EDEF$->B$EDEF.CST = %FUNC# OR
      222    10514    3                   EDEF$->B$EDEF.CST = %XFUNC# THEN AT_PROC = '1'B;

  10514  2 000421   400000 236003                    LDQ     -131072,DU
         2 000422   200044 756100                    STQ     AT_PROC,,AUTO

      223    10515    3                END;

      224    10516    2   WHO_CARES2:
      225    10517    3             DO WHILE(LINE = STMT$ -> B$EXST.LINENUM);

  10517  2 000423   200013 470500       WHO_CARES2   LDP0    STMT$,,AUTO
         2 000424   000002 236100                    LDQ     2,,PR0
         2 000425   777777 376007                    ANQ     -1,DL
         2 000426   200042 116100                    CMPQ    LINE,,AUTO
         2 000427   000443 601000 2                  TNZ     s:10520

      226    10518    3                  CALL DDF$N_EXST(STMT$) ALTRET(NO_SCHEMA);

  10518  2 000430   200013 630500                    EPPR0   STMT$,,AUTO
         2 000431   200106 450500                    STP0    VLR_FPRG_FID+16,,AUTO
         2 000432   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000433   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000434   000000 701000 xent               TSX1    DDF$N_EXST
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:36   
         2 000435   001635 702000 2                  TSX2    NO_SCHEMA

      227    10519    3                END;

  10519  2 000436   200013 470500                    LDP0    STMT$,,AUTO
         2 000437   000002 236100                    LDQ     2,,PR0
         2 000440   777777 376007                    ANQ     -1,DL
         2 000441   200042 116100                    CMPQ    LINE,,AUTO
         2 000442   000430 600000 2                  TZE     s:10518

      228    10520    2             NIC = STMT$ -> B$EXST.ISADDR;

  10520  2 000443   000000 236100                    LDQ     0,,PR0
         2 000444   000032 376000 xsym               ANQ     B_VECTNIL+26
         2 000445   200016 756100                    STQ     NIC,,AUTO

      229    10521    2             STEP_VALUE = NIC - IC;

  10521  2 000446   200011 136100                    SBLQ    IC,,AUTO
         2 000447   200010 756100                    STQ     STEP_VALUE,,AUTO
         2 000450   000550 710000 2                  TRA     GOT_SIZE

      230    10522    2          CASE(C@PARAGRAPHS);              /* C@PARAGRAPHS */

      231    10523    2             NIC = IC + 1;

  10523  2 000451   200011 235100                    LDA     IC,,AUTO
         2 000452   000001 035007                    ADLA    1,DL
         2 000453   200016 755100                    STA     NIC,,AUTO

      232    10524    2             CALL DDF$STATEMENT(NIC, STMT#, SUBST#, SUBST) ALTRET(NO_SCHEMA);

  10524  2 000454   200015 631500                    EPPR1   SUBST,,AUTO
         2 000455   200111 451500                    STP1    VLR_FPRG_FID+19,,AUTO
         2 000456   200014 633500                    EPPR3   SUBST#,,AUTO
         2 000457   200110 453500                    STP3    VLR_FPRG_FID+18,,AUTO
         2 000460   200012 634500                    EPPR4   STMT#,,AUTO
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:37   
         2 000461   200107 454500                    STP4    VLR_FPRG_FID+17,,AUTO
         2 000462   200016 635500                    EPPR5   NIC,,AUTO
         2 000463   200106 455500                    STP5    VLR_FPRG_FID+16,,AUTO
         2 000464   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000465   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 000466   000000 701000 xent               TSX1    DDF$STATEMENT
         2 000467   001635 702000 2                  TSX2    NO_SCHEMA

      233    10525    3             DO WHILE (NOT S_D.LABEL_FOUND);

  10525  2 000470   000542 710000 2                  TRA     s:10532

      234    10526    3                  IF SUBST# = 0

  10526  2 000471   200014 235100                    LDA     SUBST#,,AUTO
         2 000472   000504 601000 2                  TNZ     s:10528

      235    10527    3                  THEN CALL DDF$EXST_#(STMT#, STMT$) ALTRET(NO_SCHEMA);

  10527  2 000473   200013 630500                    EPPR0   STMT$,,AUTO
         2 000474   200107 450500                    STP0    VLR_FPRG_FID+17,,AUTO
         2 000475   200012 631500                    EPPR1   STMT#,,AUTO
         2 000476   200106 451500                    STP1    VLR_FPRG_FID+16,,AUTO
         2 000477   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000500   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000501   000000 701000 xent               TSX1    DDF$EXST_#
         2 000502   001635 702000 2                  TSX2    NO_SCHEMA
         2 000503   000514 710000 2                  TRA     s:10529

      236    10528    3                  ELSE CALL DDF$EXST_#(SUBST#, STMT$) ALTRET(NO_SCHEMA);

  10528  2 000504   200013 630500                    EPPR0   STMT$,,AUTO
         2 000505   200107 450500                    STP0    VLR_FPRG_FID+17,,AUTO
         2 000506   200014 631500                    EPPR1   SUBST#,,AUTO
         2 000507   200106 451500                    STP1    VLR_FPRG_FID+16,,AUTO
         2 000510   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000511   000020 631400 xsym               EPPR1   B_VECTNIL+16
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:38   
         2 000512   000000 701000 xent               TSX1    DDF$EXST_#
         2 000513   001635 702000 2                  TSX2    NO_SCHEMA

      237    10529    3                  CALL DDF$N_EXST(STMT$) ALTRET(NO_SCHEMA);

  10529  2 000514   200013 630500                    EPPR0   STMT$,,AUTO
         2 000515   200106 450500                    STP0    VLR_FPRG_FID+16,,AUTO
         2 000516   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000517   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000520   000000 701000 xent               TSX1    DDF$N_EXST
         2 000521   001635 702000 2                  TSX2    NO_SCHEMA

      238    10530    3                  NIC = STMT$ -> B$EXST.ISADDR;

  10530  2 000522   200013 470500                    LDP0    STMT$,,AUTO
         2 000523   000000 236100                    LDQ     0,,PR0
         2 000524   000032 376000 xsym               ANQ     B_VECTNIL+26
         2 000525   200016 756100                    STQ     NIC,,AUTO

      239    10531    3                  CALL DDF$STATEMENT(NIC, STMT#, SUBST#, SUBST) ALTRET(NO_SCHEMA);

  10531  2 000526   200015 631500                    EPPR1   SUBST,,AUTO
         2 000527   200111 451500                    STP1    VLR_FPRG_FID+19,,AUTO
         2 000530   200014 633500                    EPPR3   SUBST#,,AUTO
         2 000531   200110 453500                    STP3    VLR_FPRG_FID+18,,AUTO
         2 000532   200012 634500                    EPPR4   STMT#,,AUTO
         2 000533   200107 454500                    STP4    VLR_FPRG_FID+17,,AUTO
         2 000534   200016 635500                    EPPR5   NIC,,AUTO
         2 000535   200106 455500                    STP5    VLR_FPRG_FID+16,,AUTO
         2 000536   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000537   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 000540   000000 701000 xent               TSX1    DDF$STATEMENT
         2 000541   001635 702000 2                  TSX2    NO_SCHEMA

      240    10532    3                END;

  10532  2 000542   000000 470400 xsym               LDP0    S_D$
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:39   
         2 000543   005327 234100                    SZN     2775,,PR0
         2 000544   000471 605000 2                  TPL     s:10526

      241    10533    2             STEP_VALUE = NIC - IC;

  10533  2 000545   200016 236100                    LDQ     NIC,,AUTO
         2 000546   200011 136100                    SBLQ    IC,,AUTO
         2 000547   200010 756100                    STQ     STEP_VALUE,,AUTO

      242    10534    2           END;

      243    10535    1   GOT_SIZE:
      244    10536    1        IF SET_SIZE

  10536  2 000550   200045 234100       GOT_SIZE     SZN     SET_SIZE,,AUTO
         2 000551   000556 605000 2                  TPL     s:10541

      245    10537    2        THEN DO;

      246    10538    2             PSTEPSZ = STEP_VALUE;

  10538  2 000552   200010 235100                    LDA     STEP_VALUE,,AUTO
         2 000553   200003 470500                    LDP0    @PSTEPSZ,,AUTO
         2 000554   000000 755100                    STA     0,,PR0

      247    10539    2             RETURN;

  10539  2 000555   000000 702200 xent               TSX2  ! X66_ARET

      248    10540    2           END;
      249    10541    1        S_D.STEP_L6 = '1'B;

  10541  2 000556   400000 236003                    LDQ     -131072,DU
         2 000557   000000 470400 xsym               LDP0    S_D$
         2 000560   005274 756100                    STQ     2748,,PR0

      250    10542    1        GD$MSG = '0'B;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:40   

  10542  2 000561   000000 471400 xsym               LDP1    S_D_L6_MESSAGE$
         2 000562   003100 060400                    CSL     bolr='003'O
         2 000563   000002 000001 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=1
         2 000564   100000 004720                    BDSC    0,,PR1                   by=0,bit=0,n=2512

      251    10543    1        GD$MSG.FNC = %GD#RQSGO;

  10543  2 000565   100000 236100                    LDQ     0,,PR1
         2 000566   000004 376000 3                  ANQ     4
         2 000567   010000 276003                    ORQ     4096,DU
         2 000570   100000 756100                    STQ     0,,PR1

      252    10544    1        GD$MSG.SUBFB.STEP = '1'B;

  10544  2 000571   000100 236003                    LDQ     64,DU
         2 000572   100000 256100                    ORSQ    0,,PR1

      253    10545    1        GD$MSG.SUBFB.SOC = SOC;

  10545  2 000573   200043 236100                    LDQ     SOC,,AUTO
         2 000574   000017 772000                    QRL     15
         2 000575   100000 676100                    ERQ     0,,PR1
         2 000576   000004 376003                    ANQ     4,DU
         2 000577   100000 656100                    ERSQ    0,,PR1

      254    10546    1        GD$MSG.SUBFB.BYPASS = S_D.BYPASS;

  10546  2 000600   001032 236100                    LDQ     538,,PR0
         2 000601   000016 772000                    QRL     14
         2 000602   100000 676100                    ERQ     0,,PR1
         2 000603   000010 376003                    ANQ     8,DU
         2 000604   100000 656100                    ERSQ    0,,PR1

      255    10547    1        GD$MSG.GORQS.SIZE = STEP_VALUE;

  10547  2 000605   200010 236100                    LDQ     STEP_VALUE,,AUTO
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:41   
         2 000606   000014 736000                    QLS     12
         2 000607   100002 676100                    ERQ     2,,PR1
         2 000610   000005 376000 3                  ANQ     5
         2 000611   100002 656100                    ERSQ    2,,PR1

      256    10548    1        GD$MSG.GORQS.GOFLAGS.AT_PROC = AT_PROC;

  10548  2 000612   200044 236100                    LDQ     AT_PROC,,AUTO
         2 000613   000030 772000                    QRL     24
         2 000614   100002 676100                    ERQ     2,,PR1
         2 000615   004000 376007                    ANQ     2048,DL
         2 000616   100002 656100                    ERSQ    2,,PR1

      257    10549    1        CALL DDA$RESET_PATCH_SPACE;

  10549  2 000617   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 000620   000000 701000 xent               TSX1    DDA$RESET_PATCH_SPACE
         2 000621   000000 011000                    NOP     0

      258    10550    1        CALL DFQ$WRITE_FD(S_D.CURRENT_FPRG_CONTEXT$) ALTRET(ERR);

  10550  2 000622   000000 236000 xsym               LDQ     S_D$
         2 000623   000102 036003                    ADLQ    66,DU
         2 000624   200106 756100                    STQ     VLR_FPRG_FID+16,,AUTO
         2 000625   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000626   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000627   000000 701000 xent               TSX1    DFQ$WRITE_FD
         2 000630   001645 702000 2                  TSX2    ERR

      259    10551    1   WAIT:
      260    10552    2        IF NOT FPRG$->FPRG$CONTEXT.XDELTA THEN DO;

  10552  2 000631   200005 470500       WAIT         LDP0    FPRG$,,AUTO
         2 000632   000001 236100                    LDQ     1,,PR0
         2 000633   002000 316003                    CANQ    1024,DU
         2 000634   000650 601000 2                  TNZ     s:10557

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:42   
      261    10553    2           FPTWAIT = FPT_WAIT;

  10553  2 000635   000100 100400                    MLR     fill='000'O
         2 000636   000000 000030 xsym               ADSC9   FPT_WAIT                 cn=0,n=24
         2 000637   200060 000030                    ADSC9   FPTWAIT,,AUTO            cn=0,n=24

      262    10554    2           FPTWAIT.V_ = VECTOR(FPTWAIT.V);

  10554  2 000640   000006 235000 3                  LDA     6
         2 000641   200106 452500                    STP2    VLR_FPRG_FID+16,,AUTO
         2 000642   200106 236100                    LDQ     VLR_FPRG_FID+16,,AUTO
         2 000643   000064 036003                    ADLQ    52,DU
         2 000644   200060 757100                    STAQ    FPTWAIT,,AUTO

      263    10555    2           CALL M$WAIT(FPTWAIT);

  10555  2 000645   200060 630500                    EPPR0   FPTWAIT,,AUTO
         2 000646   020006 713400                    CLIMB   8198
         2 000647   400400 401760                    pmme    nvectors=2

      264    10556    2           END;

      265    10557    1        CALL DFQ$READ_FD(S_D.CURRENT_FPRG_CONTEXT$, '1'B) ALTRET(READERR);

  10557  2 000650   000001 236000 3                  LDQ     1
         2 000651   200107 756100                    STQ     VLR_FPRG_FID+17,,AUTO
         2 000652   000000 236000 xsym               LDQ     S_D$
         2 000653   000102 036003                    ADLQ    66,DU
         2 000654   200106 756100                    STQ     VLR_FPRG_FID+16,,AUTO
         2 000655   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 000656   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000657   000000 701000 xent               TSX1    DFQ$READ_FD
         2 000660   001654 702000 2                  TSX2    READERR

      266    10558    1        FPRG$ -> FPRG$CONTEXT.STATE = %STOPPED;

  10558  2 000661   200005 470500                    LDP0    FPRG$,,AUTO
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:43   
         2 000662   000002 236003                    LDQ     2,DU
         2 000663   000001 552120                    STBQ    1,'20'O,PR0

      267    10559    1        IF GD$MSG.FNC ~= %FPRG_BRKRSP# AND GD$MSG.FNC ~= %GD#RSPTRACE

  10559  2 000664   000000 471400 xsym               LDP1    S_D_L6_MESSAGE$
         2 000665   100000 236100                    LDQ     0,,PR1
         2 000666   776000 376003                    ANQ     -1024,DU
         2 000667   132000 116003                    CMPQ    46080,DU
         2 000670   000733 600000 2                  TZE     s:10576
         2 000671   110000 116003                    CMPQ    36864,DU
         2 000672   000733 600000 2                  TZE     s:10576

      268    10560    2        THEN DO;

      269    10561    2             IF FPRG$ -> FPRG$CONTEXT.XDELTA AND

  10561  2 000673   000001 236100                    LDQ     1,,PR0
         2 000674   002000 316003                    CANQ    1024,DU
         2 000675   000706 600000 2                  TZE     s:10567
         2 000676   100000 236100                    LDQ     0,,PR1
         2 000677   776000 376003                    ANQ     -1024,DU
         2 000700   140000 116003                    CMPQ    49152,DU
         2 000701   000706 601000 2                  TNZ     s:10567

      270    10562    2                GD$MSG.FNC = %GD#RSPBADMSG
      271    10563    3             THEN DO;

      272    10564    3                  S_D.ERROR = E@BADMSG;  /* E@BADMSG */

  10564  2 000702   000512 235007                    LDA     330,DL
         2 000703   000000 473400 xsym               LDP3    S_D$
         2 000704   300013 755100                    STA     11,,PR3

      273    10565    3                  GOTO ARET;

  10565  2 000705   001640 710000 2                  TRA     ARET
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:44   

      274    10566    3                END;
      275    10567    2             REMEMBER NEVER IN S_D.SCREECH_IC;

  10567  2 000706   000716 635000 2                  EAA     NEVER
         2 000707   000000 473400 xsym               LDP3    S_D$
         2 000710   305250 452500                    STP2    2728,,PR3
         2 000711   305251 755100                    STA     2729,,PR3

      276    10568    2             CALL M$SCREECH (SNAP_MESSAGE) ALTRET(NEVER);

  10568  2 000712   000000 630400 xsym               EPPR0   SNAP_MESSAGE
         2 000713   400013 713400                    CLIMB   alt,+11
         2 000714   401000 401760                    pmme    nvectors=3
         2 000715   000716 702000 2                  TSX2    NEVER

  10563  2 000716                       NEVER        null
      277    10569    2   NEVER:    ;
      278    10570    2             S_D.ERROR = E@BADMESSAGE;   /* E@BADMESSAGE */

  10570  2 000716   001014 235007                    LDA     524,DL
         2 000717   000000 470400 xsym               LDP0    S_D$
         2 000720   000013 755100                    STA     11,,PR0

      279    10571    2             CALL DDE$ERROR;

  10571  2 000721   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 000722   000000 701000 xent               TSX1    DDE$ERROR
         2 000723   000000 011000                    NOP     0

      280    10572    2             S_D.ERROR = E@DELBUG;       /* E@DELBUG */

  10572  2 000724   000766 235007                    LDA     502,DL
         2 000725   000000 470400 xsym               LDP0    S_D$
         2 000726   000013 755100                    STA     11,,PR0

      281    10573    2             CALL DDE$ERROR;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:45   

  10573  2 000727   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 000730   000000 701000 xent               TSX1    DDE$ERROR
         2 000731   000000 011000                    NOP     0

      282    10574    2             GOTO ARET;

  10574  2 000732   001640 710000 2                  TRA     ARET

      283    10575    2           END;
      284    10576    1        FPRG$ -> FPRG$CONTEXT.ADDRESS = GD$MSG.BRKRSP.ADR$;

  10576  2 000733   100000 235100                    LDA     0,,PR1
         2 000734   100001 236100                    LDQ     1,,PR1
         2 000735   000030 773000                    LRL     24
         2 000736   000007 376000 3                  ANQ     7
         2 000737   000005 756100                    STQ     5,,PR0

      285    10577    1        FPRG$ -> FPRG$CONTEXT.STEP_MODE = STEP_MODE;

  10577  2 000740   200007 720100                    LXL0    STEP_MODE,,AUTO
         2 000741   000033 440100                    SXL0    27,,PR0

      286    10578    1        IF FPRG$ -> FPRG$CONTEXT.XDELTA

  10578  2 000742   000001 236100                    LDQ     1,,PR0
         2 000743   002000 316003                    CANQ    1024,DU
         2 000744   000777 600000 2                  TZE     s:10587

      287    10579    2        THEN DO;

      288    10580    2             TEMP1 = BITBIN(GD$MSG.BRKRSP.ERRCODE);

  10580  2 000745   100003 236100                    LDQ     3,,PR1
         2 000746   000007 376000 3                  ANQ     7
         2 000747   200055 756100                    STQ     TEMP1,,AUTO

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:46   
      289    10581    2             TEMP2B.B1 = TEMP1B.B1;

  10581  2 000750   200055 236100                    LDQ     TEMP1,,AUTO
         2 000751   000003 736000                    QLS     3
         2 000752   200056 676100                    ERQ     TEMP2,,AUTO
         2 000753   377000 376003                    ANQ     130560,DU
         2 000754   200056 656100                    ERSQ    TEMP2,,AUTO

      290    10582    2             TEMP2B.B2 = TEMP1B.B2;

  10582  2 000755   200055 236100                    LDQ     TEMP1,,AUTO
         2 000756   000002 736000                    QLS     2
         2 000757   200056 676100                    ERQ     TEMP2,,AUTO
         2 000760   000377 376003                    ANQ     255,DU
         2 000761   200056 656100                    ERSQ    TEMP2,,AUTO

      291    10583    2             TEMP2B.B3 = TEMP1B.B3;

  10583  2 000762   200055 236100                    LDQ     TEMP1,,AUTO
         2 000763   000001 736000                    QLS     1
         2 000764   200056 676100                    ERQ     TEMP2,,AUTO
         2 000765   377000 376007                    ANQ     130560,DL
         2 000766   200056 656100                    ERSQ    TEMP2,,AUTO

      292    10584    2             TEMP2B.B4 = TEMP1B.B4;

  10584  2 000767   200055 236100                    LDQ     TEMP1,,AUTO
         2 000770   200056 676100                    ERQ     TEMP2,,AUTO
         2 000771   000377 376007                    ANQ     255,DL
         2 000772   200056 656100                    ERSQ    TEMP2,,AUTO

      293    10585    2             S_D.BRKRSP_ERRCODE = TEMP2;

  10585  2 000773   000000 473400 xsym               LDP3    S_D$
         2 000774   200056 235100                    LDA     TEMP2,,AUTO
         2 000775   305240 755100                    STA     2720,,PR3

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:47   
      294    10586    2           END;

  10586  2 000776   001005 710000 2                  TRA     s:10588

      295    10587    1        ELSE S_D.BRKRSP_ERRCODE = BITBIN(GD$MSG_HOST.BRKRSP.ERRCODE);

  10587  2 000777   000000 473400 xsym               LDP3    S_D_HOST_MESSAGE$
         2 001000   300003 235100                    LDA     3,,PR3
         2 001001   300004 236100                    LDQ     4,,PR3
         2 001002   000022 773000                    LRL     18
         2 001003   000000 474400 xsym               LDP4    S_D$
         2 001004   405240 756100                    STQ     2720,,PR4

      296    10588    1        S_D.USERNO = GD$MSG.BRKRSP.USER#;

  10588  2 001005   000000 473400 xsym               LDP3    S_D$
         2 001006   100002 235100                    LDA     2,,PR1
         2 001007   100003 236100                    LDQ     3,,PR1
         2 001010   000040 773000                    LRL     32
         2 001011   177777 376007                    ANQ     65535,DL
         2 001012   305241 756100                    STQ     2721,,PR3

      297    10589    1        S_D.MBU = GD$MSG.BRKRSP.MBU;

  10589  2 001013   100013 236100                    LDQ     11,,PR1
         2 001014   000014 736000                    QLS     12
         2 001015   400000 376003                    ANQ     -131072,DU
         2 001016   305244 756100                    STQ     2724,,PR3

      298    10590    1        FPRG_IC = GD$MSG.BRKRSP.ADR$;

  10590  2 001017   100000 235100                    LDA     0,,PR1
         2 001020   100001 236100                    LDQ     1,,PR1
         2 001021   000030 773000                    LRL     24
         2 001022   000007 376000 3                  ANQ     7
         2 001023   200053 756100                    STQ     FPRG_IC,,AUTO

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:48   
      299    10591    1        S_D.SAVEIC = FPRG_IC;

  10591  2 001024   300002 756100                    STQ     2,,PR3

      300    10592    1        FAULT = GD$MSG.BRKRSP.BRK#;

  10592  2 001025   100002 236100                    LDQ     2,,PR1
         2 001026   000014 772000                    QRL     12
         2 001027   177777 376007                    ANQ     65535,DL
         2 001030   200046 756100                    STQ     FAULT,,AUTO

      301    10593    1        IF FAULT ~= 0

  10593  2 001031   001535 600000 2                  TZE     s:10724

      302    10594    2        THEN DO;

      303    10595    2             IF (FAULT - (%GD#MAXBRKNUM + 1)) = %G_FPRG_START2#

  10595  2 001032   000123 116007                    CMPQ    83,DL
         2 001033   001175 601000 2                  TNZ     s:10636

      304    10596    3             THEN DO;

      305    10597                                      /* FPRG started via M$LDTRC - need to do an M$DRTN
      306    10598                                         to get new RU name and update context for new
      307    10599                                         FPRG  */
      308    10600    3                  S_D.DRTN$ -> FPT$DRTN.V.WAKE_FD# = '1'B;

  10600  2 001034   304704 474500                    LDP4    2500,,PR3
         2 001035   000020 236003                    LDQ     16,DU
         2 001036   400013 256100                    ORSQ    11,,PR4

      309    10601    3                  S_D.DRTN$ -> FPT$DRTN.FPRG_FID_ = VECTOR(VLR_FPRG_FID);

  10601  2 001037   304704 474500                    LDP4    2500,,PR3
         2 001040   000010 235000 3                  LDA     8
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:49   
         2 001041   200106 452500                    STP2    VLR_FPRG_FID+16,,AUTO
         2 001042   200106 236100                    LDQ     VLR_FPRG_FID+16,,AUTO
         2 001043   000066 036003                    ADLQ    54,DU
         2 001044   400010 757100                    STAQ    8,,PR4

      310    10602    3                  S_D.DRTN$ -> FPT$DRTN.V.FPRG_DCB# = DCBNO;

  10602  2 001045   304704 474500                    LDP4    2500,,PR3
         2 001046   200047 721100                    LXL1    DCBNO,,AUTO
         2 001047   400014 441100                    SXL1    12,,PR4

      311    10603    3                  CALL M$DRTN (S_D.DRTN$ -> FPT$DRTN)

  10603  2 001050   304704 474500                    LDP4    2500,,PR3
         2 001051   400000 630500                    EPPR0   0,,PR4
         2 001052   410017 713400                    CLIMB   alt,+4111
         2 001053   402000 401760                    pmme    nvectors=5
         2 001054   001056 702000 2                  TSX2    s:10605
         2 001055   001074 710000 2                  TRA     s:10612

      312    10604    4                  WHENALTRETURN DO;

      313    10605    4                       CALL DUE$ERRMSG;

  10605  2 001056   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001057   000000 701000 xent               TSX1    DUE$ERRMSG
         2 001060   000000 011000                    NOP     0

      314    10606    4                       S_D.DRTN$ -> FPT$DRTN.V.WAKE_FD# = '0'B;

  10606  2 001061   000000 470400 xsym               LDP0    S_D$
         2 001062   004704 471500                    LDP1    2500,,PR0
         2 001063   000011 236000 3                  LDQ     9
         2 001064   100013 356100                    ANSQ    11,,PR1

      315    10607    4                       S_D.DRTN$ -> FPT$DRTN.V.FPRG_DCB# = 0;

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:50   
  10607  2 001065   004704 471500                    LDP1    2500,,PR0
         2 001066   000000 220003                    LDX0    0,DU
         2 001067   100014 440100                    SXL0    12,,PR1

      316    10608    4                       S_D.DRTN$ -> FPT$DRTN.FPRG_FID_ = VECTOR(NIL);

  10608  2 001070   004704 471500                    LDP1    2500,,PR0
         2 001071   000012 237000 3                  LDAQ    10
         2 001072   100010 757100                    STAQ    8,,PR1

      317    10609    4                       GOTO NOGO;

  10609  2 001073   001644 710000 2                  TRA     NOGO

      318    10610    4                     END;
      319    10611                                                /* Pick up run unit name for schema */
      320    10612    3                  FPRG$ -> FPRG$CONTEXT.RUFID.FNAME.SIZE = VLR_FPRG_FID.NAME.L;

  10612  2 001074   200005 470500                    LDP0    FPRG$,,AUTO
         2 001075   200066 236100                    LDQ     VLR_FPRG_FID,,AUTO
         2 001076   000015 552140                    STBQ    13,'40'O,PR0

      321    10613    3                  FPRG$ -> FPRG$CONTEXT.RUFID.FNAME.TEXT = VLR_FPRG_FID.NAME.TEXT;

  10613  2 001077   040100 100500                    MLR     fill='040'O
         2 001100   200066 200037                    ADSC9   VLR_FPRG_FID,,AUTO       cn=1,n=31
         2 001101   000015 200037                    ADSC9   13,,PR0                  cn=1,n=31

      322    10614    3                  FPRG$ -> FPRG$CONTEXT.RUFID.ACCT = VLR_FPRG_FID.ACCT;

  10614  2 001102   200076 237100                    LDAQ    VLR_FPRG_FID+8,,AUTO
         2 001103   000025 755100                    STA     21,,PR0
         2 001104   000026 756100                    STQ     22,,PR0

      323    10615    3                  FPRG$ -> FPRG$CONTEXT.RUFID.PASS = VLR_FPRG_FID.PASS;

  10615  2 001105   200100 237100                    LDAQ    VLR_FPRG_FID+10,,AUTO
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:51   
         2 001106   000027 755100                    STA     23,,PR0
         2 001107   000030 756100                    STQ     24,,PR0

      324    10616    3                  FPRG$ -> FPRG$CONTEXT.RUFID.PSN = VLR_FPRG_FID.PSN;

  10616  2 001110   040100 100500                    MLR     fill='040'O
         2 001111   200102 000006                    ADSC9   VLR_FPRG_FID+12,,AUTO    cn=0,n=6
         2 001112   000031 000006                    ADSC9   25,,PR0                  cn=0,n=6

      325    10617    3                  FPRG$ -> FPRG$CONTEXT.RUFID.MODTIME = VLR_FPRG_FID.MODTIME;

  10617  2 001113   000100 100500                    MLR     fill='000'O
         2 001114   200104 000004                    ADSC9   VLR_FPRG_FID+14,,AUTO    cn=0,n=4
         2 001115   000032 400004                    ADSC9   26,,PR0                  cn=2,n=4

      326    10618    3                  S_D.DRTN$ -> FPT$DRTN.V.WAKE_FD# = '0'B;

  10618  2 001116   000000 471400 xsym               LDP1    S_D$
         2 001117   104704 473500                    LDP3    2500,,PR1
         2 001120   000011 236000 3                  LDQ     9
         2 001121   300013 356100                    ANSQ    11,,PR3

      327    10619    3                  S_D.DRTN$ -> FPT$DRTN.V.FPRG_DCB# = 0;

  10619  2 001122   104704 473500                    LDP3    2500,,PR1
         2 001123   000000 220003                    LDX0    0,DU
         2 001124   300014 440100                    SXL0    12,,PR3

      328    10620    3                  S_D.DRTN$ -> FPT$DRTN.FPRG_FID_ = VECTOR(NIL);

  10620  2 001125   104704 473500                    LDP3    2500,,PR1
         2 001126   000012 237000 3                  LDAQ    10
         2 001127   300010 757100                    STAQ    8,,PR3

      329    10621    3                  RES = FPRG$ -> FPRG$CONTEXT.RES;

  10621  2 001130   040100 100500                    MLR     fill='040'O
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:52   
         2 001131   000002 000010                    ADSC9   2,,PR0                   cn=0,n=8
         2 001132   200050 000010                    ADSC9   RES,,AUTO                cn=0,n=8

      330    10622    3                  RES_SIZE = FPRG$ -> FPRG$CONTEXT.RES_SIZE;

  10622  2 001133   000004 235100                    LDA     4,,PR0
         2 001134   200052 755100                    STA     RES_SIZE,,AUTO

      331    10623    4                  DO I = 1 TO S_D.FIXLAST;

  10623  2 001135   000001 235007                    LDA     1,DL
         2 001136   200017 755100                    STA     I,,AUTO
         2 001137   001170 710000 2                  TRA     s:10633+3

      332    10624    4                       IF S_D.FIXCOM.FPRG(I)

  10624  2 001140   200017 236100                    LDQ     I,,AUTO
         2 001141   000006 402007                    MPY     6,DL
         2 001142   000000 470400 xsym               LDP0    S_D$
         2 001143   001212 236106                    LDQ     650,QL,PR0
         2 001144   000002 316003                    CANQ    2,DU
         2 001145   001165 600000 2                  TZE     s:10633

      333    10625    5                       THEN DO;

      334    10626    5                            IF SUBSTR(S_D.FIXCOM.FPRG_RES(I), 0, S_D.FIXCOM.
             10626                                     FPRG_RES_SIZE(I))

  10626  2 001146   200017 236100                    LDQ     I,,AUTO
         2 001147   000006 402007                    MPY     6,DL
         2 001150   001217 720106                    LXL0    655,QL,PR0
         2 001151   200017 236100                    LDQ     I,,AUTO
         2 001152   000030 402007                    MPY     24,DL
         2 001153   200052 721100                    LXL1    RES_SIZE,,AUTO
         2 001154   040140 106546                    CMPC    fill='040'O
         2 001155   001215 000010                    ADSC9   653,Q,PR0                cn=0,n=*X0
         2 001156   200050 000011                    ADSC9   RES,,AUTO                cn=0,n=*X1
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:53   
         2 001157   001165 601000 2                  TNZ     s:10633

      335    10627    5                              = SUBSTR(RES, 0, RES_SIZE)
      336    10628    6                            THEN DO;

      337    10629    6                                 S_D.KILL1 = I;

  10629  2 001160   200017 235100                    LDA     I,,AUTO
         2 001161   000063 755100                    STA     51,,PR0

      338    10630    6                                 CALL DDA$KILL1;

  10630  2 001162   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001163   000000 701000 xent               TSX1    DDA$KILL1
         2 001164   000000 011000                    NOP     0

      339    10631    6                               END;

      340    10632    5                          END;

      341    10633    4                     END;

  10633  2 001165   200017 235100                    LDA     I,,AUTO
         2 001166   000001 035007                    ADLA    1,DL
         2 001167   200017 755100                    STA     I,,AUTO
         2 001170   000000 470400 xsym               LDP0    S_D$
         2 001171   200017 236100                    LDQ     I,,AUTO
         2 001172   001175 604000 2                  TMI     s:10636
         2 001173   000047 116100                    CMPQ    39,,PR0
         2 001174   001140 604400 2                  TMOZ    s:10624

      342    10634    3                END;

      343    10635                                                /* Report Host program stopped */
      344    10636    2             IF NOT S_D.DEBUG_CMD AND GD$MSG.FNC ~= %GD#RSPTRACE AND

  10636  2 001175   000000 470400 xsym               LDP0    S_D$
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:54   
         2 001176   004665 234100                    SZN     2485,,PR0
         2 001177   001225 604000 2                  TMI     s:10642
         2 001200   000000 471400 xsym               LDP1    S_D_L6_MESSAGE$
         2 001201   100000 236100                    LDQ     0,,PR1
         2 001202   776000 376003                    ANQ     -1024,DU
         2 001203   110000 116003                    CMPQ    36864,DU
         2 001204   001225 600000 2                  TZE     s:10642
         2 001205   200046 235100                    LDA     FAULT,,AUTO
         2 001206   001225 600000 2                  TZE     s:10642
         2 001207   000025 115007                    CMPA    21,DL
         2 001210   001225 603000 2                  TRC     s:10642
         2 001211   200005 473500                    LDP3    FPRG$,,AUTO
         2 001212   300034 720105                    LXL0    28,AL,PR3
         2 001213   000000 636010                    EAQ     0,X0
         2 001214   000022 772000                    QRL     18
         2 001215   000006 402007                    MPY     6,DL
         2 001216   001212 236106                    LDQ     650,QL,PR0
         2 001217   000200 316003                    CANQ    128,DU
         2 001220   001225 601000 2                  TNZ     s:10642

      345    10637    2             ((FAULT >= 1 AND FAULT <= %GD#MAXBRKNUM) AND
      346    10638    2               PINCRW(ADDR(S_D.FIXCOM),
      347    10639    2               FPRG$ -> FPRG$CONTEXT.FIXCOM_INDEX(FAULT)*SIZEW(F$XCM))->F$XCM.SILENT =
             10639                        '0'B)
      348    10640    2             THEN CALL DDR$REPORT(R_STOP);

  10640  2 001221   000015 630400 3                  EPPR0   13
         2 001222   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001223   000000 701000 xent               TSX1    DDR$REPORT
         2 001224   000000 011000                    NOP     0

      349    10641                  /* Set up access to FPRG RU */
      350    10642    2             CALL DFA$FPRG (FPRG_IC);

  10642  2 001225   200053 630500                    EPPR0   FPRG_IC,,AUTO
         2 001226   200106 450500                    STP0    VLR_FPRG_FID+16,,AUTO
         2 001227   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:55   
         2 001230   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001231   000000 701000 xent               TSX1    DFA$FPRG
         2 001232   000000 011000                    NOP     0

      351    10643    2             IF GD$MSG.FNC = %GD#RSPTRACE

  10643  2 001233   000000 470400 xsym               LDP0    S_D_L6_MESSAGE$
         2 001234   000000 236100                    LDQ     0,,PR0
         2 001235   776000 376003                    ANQ     -1024,DU
         2 001236   110000 116003                    CMPQ    36864,DU
         2 001237   001255 601000 2                  TNZ     s:10651

      352    10644    3             THEN DO;

      353    10645    3                  CALL DFA$TRACE_REPORT ALTRET(ARET);

  10645  2 001240   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001241   000000 701000 xent               TSX1    DFA$TRACE_REPORT
         2 001242   001640 702000 2                  TSX2    ARET

      354    10646    3                  IF NOT S_D.DEBUG_CMD

  10646  2 001243   000000 470400 xsym               LDP0    S_D$
         2 001244   004665 234100                    SZN     2485,,PR0
         2 001245   001251 604000 2                  TMI     s:10648

      355    10647    3                  THEN CALL DFA$KILL_FPRG;

  10647  2 001246   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001247   000000 701000 xent               TSX1    DFA$KILL_FPRG
         2 001250   000000 011000                    NOP     0

      356    10648    3                  S_D.CURRENT_FPRG_CONTEXT$ = FPRG$; /* NILled by KILL_FPRG */

  10648  2 001251   200005 236100                    LDQ     FPRG$,,AUTO
         2 001252   000000 470400 xsym               LDP0    S_D$
         2 001253   000102 756100                    STQ     66,,PR0
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:56   

      357    10649    3                  GOTO WAIT;

  10649  2 001254   000631 710000 2                  TRA     WAIT

      358    10650    3                END;
      359    10651    2             IF FAULT >= 1 AND FAULT <= %GD#MAXBRKNUM

  10651  2 001255   200046 235100                    LDA     FAULT,,AUTO
         2 001256   001434 600000 2                  TZE     s:10698
         2 001257   000025 115007                    CMPA    21,DL
         2 001260   001434 603000 2                  TRC     s:10698

      360    10652    3             THEN DO;

      361    10653                                                /* Have hit an AT breakpoint */
      362    10654    3                  S_D.IXFIX = FPRG$ -> FPRG$CONTEXT.FIXCOM_INDEX(FAULT);

  10654  2 001261   200005 471500                    LDP1    FPRG$,,AUTO
         2 001262   100034 235105                    LDA     28,AL,PR1
         2 001263   000000 473400 xsym               LDP3    S_D$
         2 001264   300015 755100                    STA     13,,PR3

      363    10655    3                  S_D.FAULTCMD$ = PINCRW(ADDR(S_D.FIXCOM), S_D.IXFIX*SIZEW(F$XCM));

  10655  2 001265   300015 236100                    LDQ     13,,PR3
         2 001266   000006 402003                    MPY     6,DU
         2 001267   001212 036003                    ADLQ    650,DU
         2 001270   000000 036000 xsym               ADLQ    S_D$
         2 001271   300004 756100                    STQ     4,,PR3

      364    10656    3                  IF S_D.FAULTCMD$ -> F$XCM.SILENT

  10656  2 001272   300004 474500                    LDP4    4,,PR3
         2 001273   400000 236100                    LDQ     0,,PR4
         2 001274   000200 316003                    CANQ    128,DU
         2 001275   001301 600000 2                  TZE     s:10659
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:57   

      365    10657    3                  THEN S_D.SILENT = '1'B;

  10657  2 001276   400000 236003                    LDQ     -131072,DU
         2 001277   304735 756100                    STQ     2525,,PR3
         2 001300   001430 710000 2                  TRA     DO_ATTACH

      366    10658    4                  ELSE DO;

      367    10659    4                       IF S_D.FAULTCMD$ -> F$XCM.CMD ~= C_AT /* C_AT */ AND

  10659  2 001301   400000 236100                    LDQ     0,,PR4
         2 001302   777000 376003                    ANQ     -512,DU
         2 001303   002000 116003                    CMPQ    1024,DU
         2 001304   001327 600000 2                  TZE     s:10670
         2 001305   037000 116003                    CMPQ    15872,DU
         2 001306   001327 600000 2                  TZE     s:10670
         2 001307   065000 116003                    CMPQ    27136,DU
         2 001310   001327 600000 2                  TZE     s:10670
         2 001311   040000 116003                    CMPQ    16384,DU
         2 001312   001327 600000 2                  TZE     s:10670

      368    10660    4                         S_D.FAULTCMD$ -> F$XCM.CMD ~= C_OC /* C_OC */ AND
      369    10661    4                         S_D.FAULTCMD$ -> F$XCM.CMD ~= C_ONCALLS /* C_ONCALLS */ AND
      370    10662    4                         S_D.FAULTCMD$ -> F$XCM.CMD ~= C_OE /* C_OE */
      371    10663    5                       THEN DO;

      372    10664    5                            S_D.ERROR = E@BADBRKPNT; /* E@BADBRKPNT */

  10664  2 001313   001016 235007                    LDA     526,DL
         2 001314   300013 755100                    STA     11,,PR3

      373    10665    5                            CALL DDE$ERROR;

  10665  2 001315   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001316   000000 701000 xent               TSX1    DDE$ERROR
         2 001317   000000 011000                    NOP     0
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:58   

      374    10666    5                            S_D.ERROR = E@DELBUG; /* E@DELBUG */

  10666  2 001320   000766 235007                    LDA     502,DL
         2 001321   000000 470400 xsym               LDP0    S_D$
         2 001322   000013 755100                    STA     11,,PR0

      375    10667    5                            CALL DDE$ERROR;

  10667  2 001323   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001324   000000 701000 xent               TSX1    DDE$ERROR
         2 001325   000000 011000                    NOP     0

      376    10668    5                            GOTO NOGO;

  10668  2 001326   001644 710000 2                  TRA     NOGO

      377    10669    5                          END;
      378    10670    4                       IF S_D.FAULTCMD$ -> F$XCM.CMD = C_OC /* C_OC */

  10670  2 001327   037000 116003                    CMPQ    15872,DU
         2 001330   001335 601000 2                  TNZ     s:10672

      379    10671    4                       THEN CALL DFR$REPORT(%R_FPRG_ONCALL);

  10671  2 001331   000016 630400 3                  EPPR0   14
         2 001332   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001333   000000 701000 xent               TSX1    DFR$REPORT
         2 001334   000000 011000                    NOP     0

      380    10672    4                       IF S_D.FAULTCMD$->F$XCM.CMD = C_ONCALLS /* C_ONCALLS */

  10672  2 001335   000000 470400 xsym               LDP0    S_D$
         2 001336   000004 471500                    LDP1    4,,PR0
         2 001337   100000 236100                    LDQ     0,,PR1
         2 001340   777000 376003                    ANQ     -512,DU
         2 001341   065000 116003                    CMPQ    27136,DU
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:59   
         2 001342   001416 601000 2                  TNZ     s:10690

      381    10673    5                       THEN DO;

      382    10674    5                            IF FPRG$ -> FPRG$CONTEXT.ONCALLS_X

  10674  2 001343   200005 473500                    LDP3    FPRG$,,AUTO
         2 001344   300001 236100                    LDQ     1,,PR3
         2 001345   040000 316003                    CANQ    16384,DU
         2 001346   001412 600000 2                  TZE     REPORT_ONCALL

      383    10675    6                            THEN DO;

      384    10676    6                                CALL DDF$FIND_PEDEF(FPRG_IC, EDEF$) ALTRET(NO_REPORT);

  10676  2 001347   200054 634500                    EPPR4   EDEF$,,AUTO
         2 001350   200107 454500                    STP4    VLR_FPRG_FID+17,,AUTO
         2 001351   200053 631500                    EPPR1   FPRG_IC,,AUTO
         2 001352   200106 451500                    STP1    VLR_FPRG_FID+16,,AUTO
         2 001353   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 001354   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 001355   000000 701000 xent               TSX1    DDF$FIND_PEDEF
         2 001356   001406 702000 2                  TSX2    NO_REPORT

      385    10677    6                                 IF ( EDEF$ -> B$EDEF.CST = %STD#

  10677  2 001357   200054 470500                    LDP0    EDEF$,,AUTO
         2 001360   000001 236100                    LDQ     1,,PR0
         2 001361   074000 316007                    CANQ    30720,DL
         2 001362   001377 600000 2                  TZE     s:10677+16
         2 001363   000001 236100                    LDQ     1,,PR0
         2 001364   074000 376007                    ANQ     30720,DL
         2 001365   014000 116007                    CMPQ    6144,DL
         2 001366   001377 600000 2                  TZE     s:10677+16
         2 001367   020000 116007                    CMPQ    8192,DL
         2 001370   001377 600000 2                  TZE     s:10677+16
         2 001371   024000 116007                    CMPQ    10240,DL
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:60   
         2 001372   001377 600000 2                  TZE     s:10677+16
         2 001373   040000 116007                    CMPQ    16384,DL
         2 001374   001377 600000 2                  TZE     s:10677+16
         2 001375   044000 116007                    CMPQ    18432,DL
         2 001376   001406 601000 2                  TNZ     NO_REPORT
         2 001377   000000 236100                    LDQ     0,,PR0
         2 001400   700000 316003                    CANQ    -32768,DU
         2 001401   001412 600000 2                  TZE     REPORT_ONCALL
         2 001402   000000 236100                    LDQ     0,,PR0
         2 001403   700000 376003                    ANQ     -32768,DU
         2 001404   300000 116003                    CMPQ    98304,DU
         2 001405   001412 600000 2                  TZE     REPORT_ONCALL

      386    10678    6                                   OR EDEF$ -> B$EDEF.CST = %ASYNC#
      387    10679    6                                   OR EDEF$ -> B$EDEF.CST = %FUNC#
      388    10680    6                                   OR EDEF$ -> B$EDEF.CST = %XSTD#
      389    10681    6                                   OR EDEF$ -> B$EDEF.CST = %XASYNC#
      390    10682    6                                   OR EDEF$ -> B$EDEF.CST = %XFUNC# )
      391    10683    6                                   AND ( EDEF$ -> B$EDEF.LFLAGS.SOURCE = %
             10683                                            SOURCE_OBJECT#
      392    10684    6                                   OR EDEF$ -> B$EDEF.LFLAGS.SOURCE = %SOURCE_ULIB# )
      393    10685    6                                 THEN GOTO REPORT_ONCALL;
      394    10686    6   NO_REPORT:                    CALL DFA$GO('0'B) ALTRET(NOGO);

  10686  2 001406   000000 630400 3     NO_REPORT    EPPR0   0
         2 001407   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001410   000000 701000 xent               TSX1    DFA$GO
         2 001411   001644 702000 2                  TSX2    NOGO

      395    10687    6                               END;

      396    10688    5   REPORT_ONCALL:           CALL DFR$REPORT(%R_FPRG_ONCALL);

  10688  2 001412   000016 630400 3     REPORT_ONCA* EPPR0   14
         2 001413   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001414   000000 701000 xent               TSX1    DFR$REPORT
         2 001415   000000 011000                    NOP     0
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:61   

      397    10689    5                          END;

      398    10690    4                       IF S_D.FAULTCMD$ -> F$XCM.CMD = C_AT /* C_AT */

  10690  2 001416   000000 470400 xsym               LDP0    S_D$
         2 001417   000004 471500                    LDP1    4,,PR0
         2 001420   100000 236100                    LDQ     0,,PR1
         2 001421   777000 376003                    ANQ     -512,DU
         2 001422   002000 116003                    CMPQ    1024,DU
         2 001423   001430 601000 2                  TNZ     DO_ATTACH

      399    10691    4                       THEN CALL DFR$REPORT(%R_FPRG_AT);

  10691  2 001424   000017 630400 3                  EPPR0   15
         2 001425   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001426   000000 701000 xent               TSX1    DFR$REPORT
         2 001427   000000 011000                    NOP     0

      400    10692    4                     END;

      401    10693    3   DO_ATTACH:
      402    10694    3                  UNWIND TO S_D.DO_ATTACHMENTS;

  10694  2 001430   000000 470600 xsym  DO_ATTACH    LDP0  ! S_D$
         2 001431   006730 237300                    LDAQ  ! 3544,,PR0
         2 001432   000000 700200 xent               TSX0  ! X66_AUNWIND
         2 001433   000000 000200                    ZERO    0,128

      403    10695    3                END;
      404    10696    3             ELSE DO;

      405    10697                                                /* have gotten a trap */
      406    10698    3                  IF FPRG$ -> FPRG$CONTEXT.XDELTA AND

  10698  2 001434   200005 471500                    LDP1    FPRG$,,AUTO
         2 001435   100001 236100                    LDQ     1,,PR1
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:62   
         2 001436   002000 316003                    CANQ    1024,DU
         2 001437   001447 600000 2                  TZE     s:10702
         2 001440   000000 115003                    CMPA    0,DU
         2 001441   001447 601000 2                  TNZ     s:10702

      407    10699    3                    FAULT = 0
      408    10700    3                  THEN CALL DFR$REPORT(%R_XDELTA_BREAK);

  10700  2 001442   000020 630400 3                  EPPR0   16
         2 001443   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001444   000000 701000 xent               TSX1    DFR$REPORT
         2 001445   000000 011000                    NOP     0
         2 001446   001535 710000 2                  TRA     s:10724

      409    10701    4                  ELSE DO;

      410    10702    4                       S_D.FAULT = FAULT - (%GD#MAXBRKNUM + 1);

  10702  2 001447   000025 135007                    SBLA    21,DL
         2 001450   000000 473400 xsym               LDP3    S_D$
         2 001451   300030 755100                    STA     24,,PR3

      411    10703    4                       IF FPRG$ -> FPRG$CONTEXT.XDELTA AND

  10703  2 001452   100001 236100                    LDQ     1,,PR1
         2 001453   002000 316003                    CANQ    1024,DU
         2 001454   001464 600000 2                  TZE     s:10707
         2 001455   200046 235100                    LDA     FAULT,,AUTO
         2 001456   001464 601000 2                  TNZ     s:10707

      412    10704    4                         FAULT = 0
      413    10705    4                       THEN CALL DFR$REPORT(%R_XDELTA_SCREECH);

  10705  2 001457   000021 630400 3                  EPPR0   17
         2 001460   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001461   000000 701000 xent               TSX1    DFR$REPORT
         2 001462   000000 011000                    NOP     0
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:63   
         2 001463   001535 710000 2                  TRA     s:10724

      414    10706    5                       ELSE DO;

      415    10707    5                            IF S_D.FAULT = %G_FPRG_EXIT# AND

  10707  2 001464   300030 235100                    LDA     24,,PR3
         2 001465   000057 115007                    CMPA    47,DL
         2 001466   001524 601000 2                  TNZ     s:10717
         2 001467   100061 235100                    LDA     49,,PR1
         2 001470   100062 236100                    LDQ     50,,PR1
         2 001471   000034 773000                    LRL     28
         2 001472   000777 376007                    ANQ     511,DL
         2 001473   000000 116003                    CMPQ    0,DU
         2 001474   001524 600000 2                  TZE     s:10717

      416    10708    5                               FPRG$ -> FPRG$CONTEXT.ONEXIT ~= 0
      417    10709    6                            THEN DO;

      418    10710    6                                 FAULT = FPRG$ -> FPRG$CONTEXT.ONEXIT;

  10710  2 001475   200046 756100                    STQ     FAULT,,AUTO

      419    10711    6                                S_D.IXFIX = FPRG$ -> FPRG$CONTEXT.FIXCOM_INDEX(FAULT);

  10711  2 001476   100034 235106                    LDA     28,QL,PR1
         2 001477   300015 755100                    STA     13,,PR3

      420    10712    6                                 S_D.FAULTCMD$ = PINCRW(ADDR(S_D.FIXCOM), S_D.IXFIX*
             10712                                          SIZEW(F$XCM));

  10712  2 001500   300015 236100                    LDQ     13,,PR3
         2 001501   000006 402003                    MPY     6,DU
         2 001502   001212 036003                    ADLQ    650,DU
         2 001503   000000 036000 xsym               ADLQ    S_D$
         2 001504   300004 756100                    STQ     4,,PR3

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:64   
      421    10713    6                                 S_D.OUTPUT = 'ON EXIT condition encountered,';

  10713  2 001505   040100 100400                    MLR     fill='040'O
         2 001506   000000 000036 1                  ADSC9   0                        cn=0,n=30
         2 001507   305335 004000                    ADSC9   2781,,PR3                cn=0,n=2048

      422    10714    6                                 CALL DDQ$WRITE(ADDR(S_D.OUTPUT), 31);

  10714  2 001510   000000 236000 xsym               LDQ     S_D$
         2 001511   005335 036003                    ADLQ    2781,DU
         2 001512   200106 756100                    STQ     VLR_FPRG_FID+16,,AUTO
         2 001513   000023 236000 3                  LDQ     19
         2 001514   200111 756100                    STQ     VLR_FPRG_FID+19,,AUTO
         2 001515   200106 634500                    EPPR4   VLR_FPRG_FID+16,,AUTO
         2 001516   200110 454500                    STP4    VLR_FPRG_FID+18,,AUTO
         2 001517   200110 630500                    EPPR0   VLR_FPRG_FID+18,,AUTO
         2 001520   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 001521   000000 701000 xent               TSX1    DDQ$WRITE
         2 001522   000000 011000                    NOP     0

      423    10715    6                                 GOTO DO_ATTACH;

  10715  2 001523   001430 710000 2                  TRA     DO_ATTACH

      424    10716    6                               END;
      425    10717    5                            ELSE IF S_D.FAULT = %G_FPRG_EXIT#

  10717  2 001524   300030 235100                    LDA     24,,PR3
         2 001525   000057 115007                    CMPA    47,DL
         2 001526   001531 601000 2                  TNZ     s:10719

      426    10718    5                              THEN FPRG$->FPRG$CONTEXT.STATE = %ATEXIT;

  10718  2 001527   000004 236003                    LDQ     4,DU
         2 001530   100001 552120                    STBQ    1,'20'O,PR1

      427    10719    5                            CALL DFR$REPORT(%R_FPRG_TRAP);
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:65   

  10719  2 001531   000024 630400 3                  EPPR0   20
         2 001532   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001533   000000 701000 xent               TSX1    DFR$REPORT
         2 001534   000000 011000                    NOP     0

      428    10720    5                          END;

      429    10721    4                     END;

      430    10722    3                END;

      431    10723    2           END;

      432    10724    1        CMD_COUNT = CMD_COUNT - 1;

  10724  2 001535   200006 235100                    LDA     CMD_COUNT,,AUTO
         2 001536   000001 135007                    SBLA    1,DL
         2 001537   200006 755100                    STA     CMD_COUNT,,AUTO

      433    10725    1        IC = NIC;

  10725  2 001540   200016 236100                    LDQ     NIC,,AUTO
         2 001541   200011 756100                    STQ     IC,,AUTO

      434    10726    1        IF S_D.BYPASS AND

  10726  2 001542   000000 470400 xsym               LDP0    S_D$
         2 001543   001032 234100                    SZN     538,,PR0
         2 001544   001555 605000 2                  TPL     s:10730
         2 001545   200007 235100                    LDA     STEP_MODE,,AUTO
         2 001546   001105 115007                    CMPA    581,DL
         2 001547   001555 600000 2                  TZE     s:10730
         2 001550   001037 471500                    LDP1    543,,PR0
         2 001551   100000 236100                    LDQ     0,,PR1
         2 001552   000777 376003                    ANQ     511,DU
         2 001553   000014 116003                    CMPQ    12,DU
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:66   
         2 001554   000066 600000 2                  TZE     CALC_NIC

      435    10727    1           STEP_MODE ~= C@INSTRUCTIONS AND
      436    10728    1           S_D.LB$ -> B$LBNTRY0.COMPILER = %CALFID
      437    10729    1        THEN GOTO CALC_NIC;
      438    10730    1        S_D.MOD_L6.ADDRESS = FPRG$ -> FPRG$CONTEXT.ADDRESS;

  10730  2 001555   200005 471500                    LDP1    FPRG$,,AUTO
         2 001556   100005 235100                    LDA     5,,PR1
         2 001557   006772 755100                    STA     3578,,PR0

      439    10731    1        S_D.MOD_L6.SEG = 3;

  10731  2 001560   000003 236007                    LDQ     3,DL
         2 001561   006773 756100                    STQ     3579,,PR0

      440    10732    1        S_D.MOD_L6.DESC# = 0;

  10732  2 001562   006774 450100                    STZ     3580,,PR0

      441    10733    1        S_D.MOD_L6.NOT_IS = '0'B;

  10733  2 001563   006775 450100                    STZ     3581,,PR0

      442    10734    1        S_D.MOD_L6.VALUE.SIZE = GD$MSG.BRKRSP.DATA_SIZE;

  10734  2 001564   000000 473400 xsym               LDP3    S_D_L6_MESSAGE$
         2 001565   300013 236100                    LDQ     11,,PR3
         2 001566   000030 772000                    QRL     24
         2 001567   000377 376007                    ANQ     255,DL
         2 001570   006776 756100                    STQ     3582,,PR0

      443    10735    2        DO I = 0 TO GD$MSG.BRKRSP.DATA_SIZE - 1;

  10735  2 001571   200017 450100                    STZ     I,,AUTO
         2 001572   001611 710000 2                  TRA     s:10737+3

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:67   
      444    10736    2             S_D.MOD_L6.VALUE.OPS(I) = GD$MSG.BRKRSP.DATA(I);

  10736  2 001573   200017 235100                    LDA     I,,AUTO
         2 001574   000004 735000                    ALS     4
         2 001575   200017 236100                    LDQ     I,,AUTO
         2 001576   200106 755100                    STA     VLR_FPRG_FID+16,,AUTO
         2 001577   000044 402007                    MPY     36,DL
         2 001600   000000 470400 xsym               LDP0    S_D_L6_MESSAGE$
         2 001601   200106 235100                    LDA     VLR_FPRG_FID+16,,AUTO
         2 001602   000000 471400 xsym               LDP1    S_D$
         2 001603   003106 061505                    CSR     bolr='003'O
         2 001604   000004 000020                    BDSC    4,A,PR0                  by=0,bit=0,n=16
         2 001605   106777 000044                    BDSC    3583,Q,PR1               by=0,bit=0,n=36

      445    10737    2           END;

  10737  2 001606   200017 235100                    LDA     I,,AUTO
         2 001607   000001 035007                    ADLA    1,DL
         2 001610   200017 755100                    STA     I,,AUTO
         2 001611   000000 470400 xsym               LDP0    S_D_L6_MESSAGE$
         2 001612   000013 236100                    LDQ     11,,PR0
         2 001613   000030 772000                    QRL     24
         2 001614   000377 376007                    ANQ     255,DL
         2 001615   200017 116100                    CMPQ    I,,AUTO
         2 001616   001620 600000 2                  TZE     s:10738
         2 001617   001573 603000 2                  TRC     s:10736

      446    10738    1        IF CMD_COUNT > 0

  10738  2 001620   200006 235100                    LDA     CMD_COUNT,,AUTO
         2 001621   000066 601000 2                  TNZ     CALC_NIC

      447    10739    1        THEN GOTO CALC_NIC;
      448    10740    1        CALL DFA$FPRG(FPRG_IC);

  10740  2 001622   200053 631500                    EPPR1   FPRG_IC,,AUTO
         2 001623   200106 451500                    STP1    VLR_FPRG_FID+16,,AUTO
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:68   
         2 001624   200106 630500                    EPPR0   VLR_FPRG_FID+16,,AUTO
         2 001625   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001626   000000 701000 xent               TSX1    DFA$FPRG
         2 001627   000000 011000                    NOP     0

      449    10741    1        CALL DFR$REPORT(%R_FPRG_STEP);

  10741  2 001630   000025 630400 3                  EPPR0   21
         2 001631   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001632   000000 701000 xent               TSX1    DFR$REPORT
         2 001633   000000 011000                    NOP     0

      450    10742    1        RETURN;

  10742  2 001634   000000 702200 xent               TSX2  ! X66_ARET

      451    10743    1   NO_SCHEMA:
      452    10744    1   STEP_MODE = C@INSTRUCTIONS;  /* C@INSTRUCTIONS */

  10744  2 001635   001105 235007       NO_SCHEMA    LDA     581,DL
         2 001636   200007 755100                    STA     STEP_MODE,,AUTO

      453    10745    1        GOTO CALC_NIC;

  10745  2 001637   000066 710000 2                  TRA     CALC_NIC

      454    10746    1   ARET:
      455    10747    1        CALL DDE$ERROR;

  10747  2 001640   000002 631400 xsym  ARET         EPPR1   B_VECTNIL+2
         2 001641   000000 701000 xent               TSX1    DDE$ERROR
         2 001642   000000 011000                    NOP     0

      456    10748    1        RETURN;

  10748  2 001643   000000 702200 xent               TSX2  ! X66_ARET

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:69   
      457    10749    1   NOGO:
      458    10750    1        ALTRETURN;

  10750  2 001644   000000 702200 xent  NOGO         TSX2  ! X66_AALT

      459    10751    1   ERR:
      460    10752    1        CALL DUE$ERRMSG;

  10752  2 001645   000002 631400 xsym  ERR          EPPR1   B_VECTNIL+2
         2 001646   000000 701000 xent               TSX1    DUE$ERRMSG
         2 001647   000000 011000                    NOP     0

      461    10753    1        S_D.ERROR = E@STEP_ERROR;  /* E@STEP_ERROR */

  10753  2 001650   000475 235007                    LDA     317,DL
         2 001651   000000 470400 xsym               LDP0    S_D$
         2 001652   000013 755100                    STA     11,,PR0

      462    10754    1        GOTO ARET;

  10754  2 001653   001640 710000 2                  TRA     ARET

  10753  2 001654                       READERR      null
      463    10755    1   READERR: ;
      464    10756    1        IF B$TCB$ -> B$TCB.ALT$ -> B$ALT.ERR.CODE = %E$NODAT

  10756  2 001654   000000 470400 xsym               LDP0    B$TCB$
         2 001655   000000 471500                    LDP1    0,,PR0
         2 001656   100102 236100                    LDQ     66,,PR1
         2 001657   377770 376007                    ANQ     131064,DL
         2 001660   021000 116007                    CMPQ    8704,DL
         2 001661   001645 601000 2                  TNZ     ERR

      465    10757    2        THEN DO;

      466    10758    2             FPRG$ -> FPRG$CONTEXT.STATE = %RUNNING;

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:70   
  10758  2 001662   200005 473500                    LDP3    FPRG$,,AUTO
         2 001663   000001 236003                    LDQ     1,DU
         2 001664   300001 552120                    STBQ    1,'20'O,PR3

      467    10759    2             IF S_D.DEBUG_CMD

  10759  2 001665   000000 471400 xsym               LDP1    S_D$
         2 001666   104665 234100                    SZN     2485,,PR1
         2 001667   000631 604000 2                  TMI     WAIT

      468    10760    2             THEN GOTO WAIT;
      469    10761    2             CALL DFA$KILL_FPRG;

  10761  2 001670   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001671   000000 701000 xent               TSX1    DFA$KILL_FPRG
         2 001672   000000 011000                    NOP     0

      470    10762    2             RETURN;

  10762  2 001673   000000 702200 xent               TSX2  ! X66_ARET

(unnamed)
 Sect OctLoc
   1     000   117116 040105   130111 124040   143157 156144   151164 151157    ON EXIT conditio
   1     004   156040 145156   143157 165156   164145 162145   144054 040040    n encountered,

(unnamed)
 Sect OctLoc
   3     000   000002 006000   000030 006000   000005 006000   000002 006000    ................
   3     004   001777 777777   001777 770000   000001 777640   037777 777777    ................
   3     010   000017 777640   777757 777777   000000 177640   000000 006014    ................
   3     014   000000 000034   000014 006000   000011 006000   000003 006000    ................
   3     020   000012 006000   000013 006000   000000 000037   000022 006000    ................
   3     024   000004 006000   000010 006000                                    ........
      471    10763    2           END;
      472    10764    1        ELSE GOTO ERR;
      473    10765    1   END DFA$STEP;
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:71   

PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:72   
--  Include file information  --

   B$OBJECT_C.:E05TOU  is referenced.
   KI_ERRORS_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   DU_SCODE_C.:E05TOU  is referenced.
   DF_EQUS_E.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_PSUBS_C.:E05TOU  is referenced.
   GD_EQUS_E.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  is referenced.
   GD$MSG_M.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DFA$STEP.

   Procedure DFA$STEP requires 956 words for executable code.
   Procedure DFA$STEP requires 76 words of local(AUTO) storage.

    No errors detected in file DFA$STEP.:E05TSI    .
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:73   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:74   
          MINI XREF LISTING

ARET
     10747**LABEL   10450--CALLALT 10459--GOTO    10462--CALLALT 10565--GOTO    10574--GOTO    10645--CALLALT
     10754--GOTO
AT_FIRST.UNUSED
      4235**DCL      4236--REDEF    4240--REDEF
AT_PROC
        32**DCL     10424<<ASSIGN  10485<<ASSIGN  10514<<ASSIGN  10548>>ASSIGN
B$ALT.CODE
      6545**DCL      6545--REDEF    6546--REDEF    6546--REDEF
B$ALT.ERR.CODE
      6547**DCL     10756>>IF
B$ALT.ERR.ERR#
      6547**DCL      6547--REDEF
B$ALT.EVID
      6546**DCL      6546--REDEF    6546--REDEF
B$EDEF.CST
     10114**DCL     10482>>IF      10482>>IF      10482>>IF      10482>>IF      10511>>IF      10511>>IF
     10511>>IF      10511>>IF      10677>>IF      10677>>IF      10677>>IF      10677>>IF      10677>>IF
     10677>>IF
B$EDEF.LFLAGS.SOURCE
     10073**DCL     10677>>IF      10677>>IF
B$EDEF.OU
     10085**DCL     10091--REDEF
B$EXST.ISADDR
     10178**DCL     10489>>ASSIGN  10520>>ASSIGN  10530>>ASSIGN
B$EXST.LINENUM
     10266**DCL     10502>>ASSIGN  10517>>DOWHILE
B$EXST.OU
     10172**DCL     10178--REDEF
B$EXST.STTYPE
     10196**DCL     10469>>IF      10469>>IF      10469>>IF      10476>>IF      10478>>IF      10478>>IF
     10495>>IF      10495>>IF      10495>>IF      10503>>IF      10505>>IF      10507>>IF      10507>>IF
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:75   
B$LBNTRY0.COMPILER
     10342**DCL     10726>>IF
B$LBNTRY0.NO_AUTO
     10365**DCL     10370--REDEF
B$LBNTRY0.VERSION
     10354**DCL     10356--REDEF
B$TCB.ALT$
      6541**DCL     10756>>IF
B$TCB$
      6551**DCL     10756>>IF
CALC_NIC
     10445**LABEL   10729--GOTO    10739--GOTO    10745--GOTO
CMD_COUNT
        16**DCL     10418<<ASSIGN  10428<<ASSIGN  10437<<ASSIGN  10724<<ASSIGN  10724>>ASSIGN  10738>>IF
COMMON
     10423**LABEL   10413--GOTO
DCBNO
        35**DCL     10602>>ASSIGN
DDA$KILL1
     10391**DCL-ENT 10630--CALL
DDA$RESET_PATCH_SPACE
     10392**DCL-ENT 10549--CALL
DDE$ERROR
     10399**DCL-ENT 10571--CALL    10573--CALL    10665--CALL    10667--CALL    10747--CALL
DDF$EXST_#
     10400**DCL-ENT 10468--CALL    10494--CALL    10527--CALL    10528--CALL
DDF$FIND_PEDEF
     10395**DCL-ENT 10481--CALL    10510--CALL    10676--CALL
DDF$N_EXST
     10401**DCL-ENT 10488--CALL    10518--CALL    10529--CALL
DDF$STATEMENT
     10402**DCL-ENT 10467--CALL    10493--CALL    10524--CALL    10531--CALL
DDQ$WRITE
     10397**DCL-ENT 10714--CALL
DDR$REPORT
     10393**DCL-ENT 10640--CALL
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:76   
DFA$FPRG
     10403**DCL-ENT 10642--CALL    10740--CALL
DFA$GO
     10396**DCL-ENT 10686--CALL
DFA$KILL_FPRG
     10404**DCL-ENT 10647--CALL    10761--CALL
DFA$TRACE_REPORT
     10394**DCL-ENT 10645--CALL
DFK$GETMVAL
     10405**DCL-ENT 10450--CALL
DFQ$READ_FD
     10406**DCL-ENT 10557--CALL
DFQ$WRITE_FD
     10407**DCL-ENT 10550--CALL
DFR$INSTR
     10408**DCL-ENT 10462--CALL
DFR$REPORT
     10409**DCL-ENT 10671--CALL    10688--CALL    10691--CALL    10700--CALL    10705--CALL    10719--CALL
     10741--CALL
DO_ATTACH
     10694**LABEL   10715--GOTO
DUE$ERRMSG
     10410**DCL-ENT 10605--CALL    10752--CALL
EDEF$
        39**DCL     10481<>CALL    10482>>IF      10482>>IF      10482>>IF      10482>>IF      10510<>CALL
     10511>>IF      10511>>IF      10511>>IF      10511>>IF      10676<>CALL    10677>>IF      10677>>IF
     10677>>IF      10677>>IF      10677>>IF      10677>>IF      10677>>IF      10677>>IF
ERR
     10752**LABEL   10550--CALLALT 10764--GOTO
F$XCM
      4215**DCL     10636--IF      10655--ASSIGN  10712--ASSIGN
F$XCM.CMD
      4216**DCL     10659>>IF      10659>>IF      10659>>IF      10659>>IF      10670>>IF      10672>>IF
     10690>>IF
F$XCM.SILENT
      4218**DCL     10636>>IF      10656>>IF
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:77   
FAULT
        34**DCL     10592<<ASSIGN  10593>>IF      10595>>IF      10636>>IF      10636>>IF      10636>>IF
     10651>>IF      10651>>IF      10654>>ASSIGN  10698>>IF      10702>>ASSIGN  10703>>IF      10710<<ASSIGN
     10711>>ASSIGN
FPRG$
        15**DCL     10425<<ASSIGN  10439>>ASSIGN  10443>>ASSIGN  10446>>ASSIGN  10447>>DOCASE  10451>>IF
     10552>>IF      10558>>ASSIGN  10561>>IF      10576>>ASSIGN  10577>>ASSIGN  10578>>IF      10612>>ASSIGN
     10613>>ASSIGN  10614>>ASSIGN  10615>>ASSIGN  10616>>ASSIGN  10617>>ASSIGN  10621>>ASSIGN  10622>>ASSIGN
     10636>>IF      10648>>ASSIGN  10654>>ASSIGN  10674>>IF      10698>>IF      10703>>IF      10707>>IF
     10710>>ASSIGN  10711>>ASSIGN  10718>>ASSIGN  10730>>ASSIGN  10758>>ASSIGN
FPRG$CONTEXT.ADDRESS
      4176**DCL     10443>>ASSIGN  10576<<ASSIGN  10730>>ASSIGN
FPRG$CONTEXT.FIXCOM_INDEX
      4192**DCL     10636>>IF      10654>>ASSIGN  10711>>ASSIGN
FPRG$CONTEXT.INTERPRETIVE
      4157**DCL     10451>>IF
FPRG$CONTEXT.ONCALLS_X
      4161**DCL     10674>>IF
FPRG$CONTEXT.ONEXIT
      4200**DCL     10707>>IF      10710>>ASSIGN
FPRG$CONTEXT.RES
      4172**DCL     10621>>ASSIGN
FPRG$CONTEXT.RES_SIZE
      4174**DCL     10622>>ASSIGN
FPRG$CONTEXT.RUFID.ACCT
      4187**DCL     10614<<ASSIGN
FPRG$CONTEXT.RUFID.FNAME.SIZE
      4185**DCL     10612<<ASSIGN
FPRG$CONTEXT.RUFID.FNAME.TEXT
      4186**DCL     10613<<ASSIGN
FPRG$CONTEXT.RUFID.MODTIME
      4190**DCL     10617<<ASSIGN
FPRG$CONTEXT.RUFID.PASS
      4188**DCL     10615<<ASSIGN
FPRG$CONTEXT.RUFID.PSN
      4189**DCL     10616<<ASSIGN
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:78   
FPRG$CONTEXT.STATE
      4167**DCL     10558<<ASSIGN  10718<<ASSIGN  10758<<ASSIGN
FPRG$CONTEXT.STEP_MODE
      4191**DCL     10439>>ASSIGN  10446<<ASSIGN  10447>>DOCASE  10577<<ASSIGN
FPRG$CONTEXT.XDELTA
      4165**DCL     10552>>IF      10561>>IF      10578>>IF      10698>>IF      10703>>IF
FPRG_IC
        38**DCL     10590<<ASSIGN  10591>>ASSIGN  10642<>CALL    10676<>CALL    10740<>CALL
FPT$DRTN
      6519**DCL     10603<>CALL
FPT$DRTN.FPRG_FID_
      6520**DCL     10601<<ASSIGN  10608<<ASSIGN  10620<<ASSIGN
FPT$DRTN.V.FPRG_DCB#
      6530**DCL     10602<<ASSIGN  10607<<ASSIGN  10619<<ASSIGN
FPT$DRTN.V.IR#
      6521**DCL      6521--REDEF
FPT$DRTN.V.WAKE_FD#
      6528**DCL     10600<<ASSIGN  10606<<ASSIGN  10618<<ASSIGN
FPTWAIT
      6505**DCL     10553<<ASSIGN  10555<>CALL
FPTWAIT.V
      6506**DCL     10554--ASSIGN
FPTWAIT.V_
      6505**DCL     10554<<ASSIGN
FPT_WAIT
      6490**DCL     10553>>ASSIGN
GD$MSG
      4439**DCL     10542<<ASSIGN
GD$MSG.BRKRQS.IF$CONST.SIZE
      4490**DCL      4490--REDEF
GD$MSG.BRKRQS.IF$CONST.TEXT
      4490**DCL      4491--REDEF    4491--REDEF    4492--REDEF    4493--REDEF
GD$MSG.BRKRSP.ADR$
      4503**DCL     10576>>ASSIGN  10590>>ASSIGN
GD$MSG.BRKRSP.BRK#
      4504**DCL      4504--REDEF   10592>>ASSIGN
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:79   
GD$MSG.BRKRSP.DATA
      4505**DCL     10736>>ASSIGN
GD$MSG.BRKRSP.DATA_SIZE
      4505**DCL     10734>>ASSIGN  10735>>DOINDEX
GD$MSG.BRKRSP.ERRCODE
      4505**DCL     10580>>ASSIGN
GD$MSG.BRKRSP.MBU
      4509**DCL     10589>>ASSIGN
GD$MSG.BRKRSP.USER#
      4504**DCL      4504--REDEF   10588>>ASSIGN
GD$MSG.FNC
      4439**DCL     10543<<ASSIGN  10559>>IF      10559>>IF      10561>>IF      10636>>IF      10643>>IF
GD$MSG.GORQS.GOFLAGS.AT_PROC
      4503**DCL     10548<<ASSIGN
GD$MSG.GORQS.SIZE
      4498**DCL     10547<<ASSIGN
GD$MSG.LETMEM_D.VALUE.SIZE
      4462**DCL      4462--REDEF
GD$MSG.LETMEM_D.VALUE.TEXT
      4463**DCL      4463--REDEF    4463--REDEF    4464--REDEF    4465--REDEF
GD$MSG.MESSAGE
      4444**DCL      4444--REDEF    4445--REDEF    4445--REDEF    4446--REDEF    4457--REDEF    4470--REDEF
      4475--REDEF    4482--REDEF    4498--REDEF    4503--REDEF    4509--REDEF    4510--REDEF    4539--REDEF
      4541--REDEF    4552--REDEF    4559--REDEF    4571--REDEF
GD$MSG.SUBFB.BYPASS
      4443**DCL     10546<<ASSIGN
GD$MSG.SUBFB.SOC
      4443**DCL     10545<<ASSIGN
GD$MSG.SUBFB.STEP
      4443**DCL     10544<<ASSIGN
GD$MSG.SUBFNC
      4439**DCL      4439--REDEF    4443--REDEF
GD$MSG.TSA.I
      4511**DCL      4511--REDEF
GD$MSG.TSA.S
      4513**DCL      4513--REDEF
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:80   
GD$MSG.USERQS.ASDT$
      4539**DCL      4539--REDEF    4540--REDEF
GD$MSG_HOST.BRKRQS.IF$CONST.SIZE
      4646**DCL      4646--REDEF
GD$MSG_HOST.BRKRQS.IF$CONST.TEXT
      4646**DCL      4647--REDEF    4647--REDEF    4648--REDEF    4649--REDEF
GD$MSG_HOST.BRKRSP.BRK#
      4660**DCL      4660--REDEF
GD$MSG_HOST.BRKRSP.ERRCODE
      4661**DCL     10587>>ASSIGN
GD$MSG_HOST.BRKRSP.USER#
      4660**DCL      4660--REDEF
GD$MSG_HOST.LETMEM_D.VALUE.SIZE
      4618**DCL      4618--REDEF
GD$MSG_HOST.LETMEM_D.VALUE.TEXT
      4619**DCL      4619--REDEF    4619--REDEF    4620--REDEF    4621--REDEF
GD$MSG_HOST.MESSAGE
      4600**DCL      4600--REDEF    4601--REDEF    4601--REDEF    4602--REDEF    4613--REDEF    4626--REDEF
      4631--REDEF    4638--REDEF    4654--REDEF    4659--REDEF    4665--REDEF    4666--REDEF    4695--REDEF
      4697--REDEF    4708--REDEF    4715--REDEF    4727--REDEF
GD$MSG_HOST.SUBFNC
      4595**DCL      4595--REDEF    4599--REDEF
GD$MSG_HOST.TSA.I
      4667**DCL      4667--REDEF
GD$MSG_HOST.TSA.S
      4669**DCL      4669--REDEF
GD$MSG_HOST.USERQS.ASDT$
      4695**DCL      4695--REDEF    4696--REDEF
GOT_SIZE
     10536**LABEL   10474--GOTO    10500--GOTO
I
        25**DCL     10623<<DOINDEX 10624>>IF      10626>>IF      10626>>IF      10629>>ASSIGN  10735<<DOINDEX
     10736>>ASSIGN  10736>>ASSIGN
IC
        19**DCL     10442<<ASSIGN  10443<<ASSIGN  10449>>IF      10450<>CALL    10464>>ASSIGN  10466>>ASSIGN
     10481<>CALL    10490>>ASSIGN  10492>>ASSIGN  10510<>CALL    10521>>ASSIGN  10523>>ASSIGN  10533>>ASSIGN
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:81   
     10725<<ASSIGN
INSTR_SIZE
        29**DCL     10462<>CALL    10463>>ASSIGN
LINE
        30**DCL     10502<<ASSIGN  10517>>DOWHILE
M$DRTN
      6389**DCL-ENT 10603--CALL
M$SCREECH
      6345**DCL-ENT 10568--CALL
M$WAIT
      6389**DCL-ENT 10555--CALL
NEVER
     10563**LABEL   10567--REMEMBR 10568--CALLALT
NIC
        24**DCL     10464<<ASSIGN  10466<<ASSIGN  10467<>CALL    10489<<ASSIGN  10490>>ASSIGN  10492<<ASSIGN
     10493<>CALL    10520<<ASSIGN  10521>>ASSIGN  10523<<ASSIGN  10524<>CALL    10530<<ASSIGN  10531<>CALL
     10533>>ASSIGN  10725>>ASSIGN
NOGO
     10750**LABEL   10609--GOTO    10668--GOTO    10686--CALLALT
NO_REPORT
     10686**LABEL   10676--CALLALT
NO_SCHEMA
     10744**LABEL   10467--CALLALT 10468--CALLALT 10488--CALLALT 10493--CALLALT 10494--CALLALT 10518--CALLALT
     10524--CALLALT 10527--CALLALT 10528--CALLALT 10529--CALLALT 10531--CALLALT
PIC
        13**DCL        10--PROC    10415--ENTRY   10441--IF      10442>>ASSIGN
PSTEPSZ
        12**DCL        10--PROC    10415--ENTRY   10419<<ASSIGN  10538<<ASSIGN
READERR
     10753**LABEL   10557--CALLALT
REPORT_ONCALL
     10688**LABEL   10685--GOTO
RES
        36**DCL     10621<<ASSIGN  10626>>IF
RES_SIZE
        37**DCL     10622<<ASSIGN  10626>>IF
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:82   
SET_MODE
     10439**LABEL   10420--GOTO
SET_SIZE
        33**DCL     10412<<ASSIGN  10416<<ASSIGN  10453>>IF      10536>>IF
SNAP_MESSAGE
      6414**DCL     10568<>CALL
SOC
        31**DCL     10417<<ASSIGN  10423<<ASSIGN  10432<<ASSIGN  10445>>IF      10477<<ASSIGN  10503>>IF
     10504<<ASSIGN  10506<<ASSIGN  10545>>ASSIGN
STEP$CMD.CMD_COUNT
      4141**DCL     10429>>IF      10434>>ASSIGN  10437>>ASSIGN
STEP$CMD.SETTYPE
      4142**DCL     10426>>IF
STEP_MODE
        17**DCL     10431<<ASSIGN  10434<<ASSIGN  10439<<ASSIGN  10446>>ASSIGN  10577>>ASSIGN  10726>>IF
     10744<<ASSIGN
STEP_VALUE
        18**DCL     10463<<ASSIGN  10464>>ASSIGN  10473<<ASSIGN  10490<<ASSIGN  10499<<ASSIGN  10521<<ASSIGN
     10533<<ASSIGN  10538>>ASSIGN  10547>>ASSIGN
STMT#
        20**DCL     10467<>CALL    10493<>CALL    10494<>CALL    10524<>CALL    10527<>CALL    10531<>CALL
STMT$
        21**DCL     10468<>CALL    10469>>IF      10469>>IF      10469>>IF      10476>>IF      10478>>IF
     10478>>IF      10488<>CALL    10489>>ASSIGN  10494<>CALL    10495>>IF      10495>>IF      10495>>IF
     10502>>ASSIGN  10503>>IF      10505>>IF      10507>>IF      10507>>IF      10517>>DOWHILE 10518<>CALL
     10520>>ASSIGN  10527<>CALL    10528<>CALL    10529<>CALL    10530>>ASSIGN
SUBST
        23**DCL     10467<>CALL    10493<>CALL    10524<>CALL    10531<>CALL
SUBST#
        22**DCL     10467<>CALL    10468<>CALL    10493<>CALL    10524<>CALL    10526>>IF      10528<>CALL
     10531<>CALL
S_D.BRKRSP_ERRCODE
      2317**DCL     10585<<ASSIGN  10587<<ASSIGN
S_D.BYPASS
      1910**DCL     10546>>ASSIGN  10726>>IF
S_D.CURRENT_CHANNEL
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:83   
      2430**DCL      2432--REDEF
S_D.CURRENT_FPRG_CONTEXT$
      1630**DCL     10425>>ASSIGN  10550<>CALL    10557<>CALL    10648<<ASSIGN
S_D.DEBUGA
      1582**DCL      1584--REDEF
S_D.DEBUG_CMD
      2002**DCL     10636>>IF      10646>>IF      10759>>IF
S_D.DO$
      1533**DCL     10426>>IF      10429>>IF      10434>>ASSIGN  10437>>ASSIGN
S_D.DO_ATTACHMENTS
      2528**DCL     10694>>UNWIND
S_D.DRTN$
      2035**DCL     10600>>ASSIGN  10601>>ASSIGN  10602>>ASSIGN  10603>>CALL    10606>>ASSIGN  10607>>ASSIGN
     10608>>ASSIGN  10618>>ASSIGN  10619>>ASSIGN  10620>>ASSIGN
S_D.EIS
      2540**DCL      2569--REDEF
S_D.ERROR
      1511**DCL     10458<<ASSIGN  10564<<ASSIGN  10570<<ASSIGN  10572<<ASSIGN  10664<<ASSIGN  10666<<ASSIGN
     10753<<ASSIGN
S_D.FAULT
      1531**DCL     10702<<ASSIGN  10707>>IF      10717>>IF
S_D.FAULTCMD$
      1497**DCL     10655<<ASSIGN  10656>>IF      10659>>IF      10659>>IF      10659>>IF      10659>>IF
     10670>>IF      10672>>IF      10690>>IF      10712<<ASSIGN
S_D.FIXCOM
      1936**DCL     10636--IF      10655--ASSIGN  10712--ASSIGN
S_D.FIXCOM.FPRG
      1943**DCL     10624>>IF
S_D.FIXCOM.FPRG_RES
      1949**DCL     10626>>IF
S_D.FIXCOM.FPRG_RES_SIZE
      1950**DCL     10626>>IF
S_D.FIXLAST
      1574**DCL     10623>>DOINDEX
S_D.HOST_MESSAGE_BUF_REMOTE
      2473**DCL      2474--REDEF    2488--REDEF
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:84   
S_D.IXFIX
      1515**DCL     10654<<ASSIGN  10655>>ASSIGN  10711<<ASSIGN  10712>>ASSIGN
S_D.JDE
      2087**DCL      2088--REDEF
S_D.KILL1
      1600**DCL     10629<<ASSIGN
S_D.L$.VALUE
      1640**DCL      1646--REDEF    1654--REDEF    1657--REDEF    1660--REDEF    1663--REDEF
S_D.L$.VALUE.L
      1641**DCL      1642--REDEF    1643--REDEF
S_D.L6_MESSAGE_BUF
      2494**DCL      2496--REDEF
S_D.LABEL_FOUND
      2447**DCL     10525>>DOWHILE
S_D.LB$
      1920**DCL     10726>>IF
S_D.MBU
      2323**DCL     10589<<ASSIGN
S_D.MOD_L6.ADDRESS
      2603**DCL     10449>>IF      10730<<ASSIGN
S_D.MOD_L6.DESC#
      2605**DCL     10732<<ASSIGN
S_D.MOD_L6.NOT_IS
      2606**DCL     10733<<ASSIGN
S_D.MOD_L6.SEG
      2604**DCL     10731<<ASSIGN
S_D.MOD_L6.VALUE
      2607**DCL     10461>>ASSIGN
S_D.MOD_L6.VALUE.OPS
      2609**DCL     10736<<ASSIGN
S_D.MOD_L6.VALUE.SIZE
      2608**DCL     10734<<ASSIGN
S_D.OUTPUT
      2460**DCL      2462--REDEF   10713<<ASSIGN  10714--CALL
S_D.REMOTE_MSG.FNCC
      2479**DCL      2480--REDEF
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:85   
S_D.REMOTE_MSG.STXC
      2475**DCL      2476--REDEF
S_D.REMOTE_MSG.SUBFNCC
      2483**DCL      2484--REDEF
S_D.SAVEIC
      1493**DCL     10591<<ASSIGN
S_D.SCREECH_IC
      2331**DCL     10567<<REMEMBR
S_D.SILENT
      2096**DCL     10657<<ASSIGN
S_D.STEP_L6
      2376**DCL     10541<<ASSIGN
S_D.SV
      1539**DCL      1560--REDEF
S_D.USERNO
      2319**DCL     10588<<ASSIGN
S_D$
      2791**DCL      1487--IMP-PTR 10425>>ASSIGN  10426>>IF      10429>>IF      10434>>ASSIGN  10437>>ASSIGN
     10449>>IF      10458>>ASSIGN  10461>>ASSIGN  10525>>DOWHILE 10541>>ASSIGN  10546>>ASSIGN  10550>>CALL
     10557>>CALL    10564>>ASSIGN  10567>>REMEMBR 10570>>ASSIGN  10572>>ASSIGN  10585>>ASSIGN  10587>>ASSIGN
     10588>>ASSIGN  10589>>ASSIGN  10591>>ASSIGN  10600>>ASSIGN  10601>>ASSIGN  10602>>ASSIGN  10603>>CALL
     10606>>ASSIGN  10607>>ASSIGN  10608>>ASSIGN  10618>>ASSIGN  10619>>ASSIGN  10620>>ASSIGN  10623>>DOINDEX
     10624>>IF      10626>>IF      10626>>IF      10629>>ASSIGN  10636>>IF      10636>>IF      10646>>IF
     10648>>ASSIGN  10654>>ASSIGN  10655>>ASSIGN  10655>>ASSIGN  10655>>ASSIGN  10656>>IF      10657>>ASSIGN
     10659>>IF      10659>>IF      10659>>IF      10659>>IF      10664>>ASSIGN  10666>>ASSIGN  10670>>IF
     10672>>IF      10690>>IF      10694>>UNWIND  10702>>ASSIGN  10707>>IF      10711>>ASSIGN  10712>>ASSIGN
     10712>>ASSIGN  10712>>ASSIGN  10713>>ASSIGN  10714>>CALL    10717>>IF      10726>>IF      10726>>IF
     10730>>ASSIGN  10731>>ASSIGN  10732>>ASSIGN  10733>>ASSIGN  10734>>ASSIGN  10736>>ASSIGN  10753>>ASSIGN
     10759>>IF
S_D_HOST_MESSAGE$
      2827**DCL      4595--IMP-PTR 10587>>ASSIGN
S_D_L6_MESSAGE$
      2828**DCL      4439--IMP-PTR 10542>>ASSIGN  10543>>ASSIGN  10544>>ASSIGN  10545>>ASSIGN  10546>>ASSIGN
     10547>>ASSIGN  10548>>ASSIGN  10559>>IF      10559>>IF      10561>>IF      10576>>ASSIGN  10580>>ASSIGN
     10588>>ASSIGN  10589>>ASSIGN  10590>>ASSIGN  10592>>ASSIGN  10636>>IF      10643>>IF      10734>>ASSIGN
     10735>>DOINDEX 10736>>ASSIGN
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:86   
TEMP1
        40**DCL        41--REDEF   10580<<ASSIGN
TEMP1B.B1
        43**DCL     10581>>ASSIGN
TEMP1B.B2
        44**DCL     10582>>ASSIGN
TEMP1B.B3
        45**DCL     10583>>ASSIGN
TEMP1B.B4
        46**DCL     10584>>ASSIGN
TEMP2
        47**DCL        48--REDEF   10585>>ASSIGN
TEMP2B.B1
        50**DCL     10581<<ASSIGN
TEMP2B.B2
        52**DCL     10582<<ASSIGN
TEMP2B.B3
        54**DCL     10583<<ASSIGN
TEMP2B.B4
        56**DCL     10584<<ASSIGN
VALUE
        26**DCL     10450<>CALL    10461<<ASSIGN
VALUE.OPS
        28**DCL     10462<>CALL
VLR_FPRG_FID
      6537**DCL     10601--ASSIGN
VLR_FPRG_FID.ACCT
      6537**DCL     10614>>ASSIGN
VLR_FPRG_FID.MODTIME
      6537**DCL     10617>>ASSIGN
VLR_FPRG_FID.NAME.L
      6537**DCL     10612>>ASSIGN
VLR_FPRG_FID.NAME.TEXT
      6537**DCL     10613>>ASSIGN
VLR_FPRG_FID.PASS
      6537**DCL     10615>>ASSIGN
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:87   
VLR_FPRG_FID.PSN
      6537**DCL     10616>>ASSIGN
WAIT
     10552**LABEL   10649--GOTO    10760--GOTO
WHO_CARES1
     10488**LABEL   10481--CALLALT
WHO_CARES2
     10517**LABEL   10510--CALLALT
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:88   
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:89   
              MINI UREF LISTING

DDA$DOATTACH   10398**DCL-ENT
DFA$STEP      10**PROC
DFA$STEP_SIZE   10415**ENTRY
M$ACCT    6348**DCL-ENT
M$ACTIVATE    6351**DCL-ENT
M$ALIB    6344**DCL-ENT
M$ASUSER    6346**DCL-ENT
M$ATTACH    6353**DCL-ENT
M$BADPP    6371**DCL-ENT
M$CGCTL    6352**DCL-ENT
M$CGINFO    6352**DCL-ENT
M$CHECK    6333**DCL-ENT
M$CHGUNIT    6391**DCL-ENT
M$CLOSE    6331**DCL-ENT
M$CLRSTK    6389**DCL-ENT
M$CMDVAR    6400**DCL-ENT
M$CONFIG    6361**DCL-ENT
M$CORRES    6336**DCL-ENT
M$CPEXIT    6345**DCL-ENT
M$CVM    6369**DCL-ENT
M$CVOL    6334**DCL-ENT
M$DCLFLD    6361**DCL-ENT
M$DEACTIVATE    6351**DCL-ENT
M$DELREC    6333**DCL-ENT
M$DEQ    6398**DCL-ENT
M$DETACH    6353**DCL-ENT
M$DEVICE    6335**DCL-ENT
M$DISPLAY    6398**DCL-ENT
M$DISPRES    6338**DCL-ENT
M$DLIB    6344**DCL-ENT
M$DRIBBLE    6361**DCL-ENT
M$DSUSER    6346**DCL-ENT
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:90   
M$ENQ    6397**DCL-ENT
M$EOM    6356**DCL-ENT
M$ERASE    6362**DCL-ENT
M$ERR    6343**DCL-ENT
M$ERRMSG    6394**DCL-ENT
M$EVENT    6386**DCL-ENT
M$EXHUME    6395**DCL-ENT
M$EXIT    6343**DCL-ENT
M$EXTEND    6335**DCL-ENT
M$FDP    6367**DCL-ENT
M$FDS    6366**DCL-ENT
M$FEBOOT    6359**DCL-ENT
M$FECTL    6360**DCL-ENT
M$FEDUMP    6359**DCL-ENT
M$FID    6394**DCL-ENT
M$FINDPROC    6348**DCL-ENT
M$FSUSER    6346**DCL-ENT
M$FVP    6368**DCL-ENT
M$FWCG    6352**DCL-ENT
M$GBPL    6372**DCL-ENT
M$GDDL    6368**DCL-ENT
M$GDP    6367**DCL-ENT
M$GDS    6366**DCL-ENT
M$GETDCB    6337**DCL-ENT
M$GETMOUSE    6377**DCL-ENT
M$GETPM    6378**DCL-ENT
M$GJOB    6396**DCL-ENT
M$GLINEATTR    6356**DCL-ENT
M$GOODPP    6371**DCL-ENT
M$GPLATEN    6364**DCL-ENT
M$GPROMPT    6363**DCL-ENT
M$GTRMATTR    6357**DCL-ENT
M$GTRMCTL    6355**DCL-ENT
M$GTRMTAB    6358**DCL-ENT
M$GVP    6367**DCL-ENT
M$HELP    6394**DCL-ENT
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:91   
M$INT    6386**DCL-ENT
M$INTRTN    6347**DCL-ENT
M$IOQ    6382**DCL-ENT
M$JOBSTATS    6396**DCL-ENT
M$KEYIN    6336**DCL-ENT
M$LDEV    6331**DCL-ENT
M$LDTRC    6344**DCL-ENT
M$LIMIT    6337**DCL-ENT
M$LINES    6336**DCL-ENT
M$LINK    6343**DCL-ENT
M$MADMUCK    6339**DCL-ENT
M$MAKUSER    6370**DCL-ENT
M$MBS    6338**DCL-ENT
M$MDFFLD    6362**DCL-ENT
M$MERC    6387**DCL-ENT
M$MERCS    6388**DCL-ENT
M$MIRROR    6382**DCL-ENT
M$MONINFO    6399**DCL-ENT
M$MPL    6372**DCL-ENT
M$NODEINFO    6363**DCL-ENT
M$NXTUSR    6397**DCL-ENT
M$OCMSG    6395**DCL-ENT
M$OLAY    6343**DCL-ENT
M$OPEN    6331**DCL-ENT
M$PAS    6372**DCL-ENT
M$PATHCON    6395**DCL-ENT
M$PDS    6366**DCL-ENT
M$PFIL    6333**DCL-ENT
M$PLATEN    6357**DCL-ENT
M$PRECORD    6335**DCL-ENT
M$PROCNAME    6348**DCL-ENT
M$PROFILE    6359**DCL-ENT
M$PROMPT    6355**DCL-ENT
M$RACST    6339**DCL-ENT
M$RDSYSLOG    6380**DCL-ENT
M$READ    6332**DCL-ENT
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:92   
M$RELDCB    6337**DCL-ENT
M$RELRES    6338**DCL-ENT
M$RELSTARF    6340**DCL-ENT
M$REM    6340**DCL-ENT
M$RENV    6387**DCL-ENT
M$REQUIRE    6339**DCL-ENT
M$RETRY    6388**DCL-ENT
M$RETRYS    6388**DCL-ENT
M$REW    6334**DCL-ENT
M$RLSFLD    6362**DCL-ENT
M$RPRIV    6390**DCL-ENT
M$RSPP    6369**DCL-ENT
M$RSWITCH    6391**DCL-ENT
M$RUE    6397**DCL-ENT
M$SAD    6370**DCL-ENT
M$SAVE    6346**DCL-ENT
M$SCON    6347**DCL-ENT
M$SENV    6387**DCL-ENT
M$SETFMA    6331**DCL-ENT
M$SETFP    6360**DCL-ENT
M$SINPUT    6358**DCL-ENT
M$SLCFLD    6363**DCL-ENT
M$SMOUSE    6377**DCL-ENT
M$SMPRT    6369**DCL-ENT
M$SPRIV    6390**DCL-ENT
M$SSC    6370**DCL-ENT
M$SSWITCH    6390**DCL-ENT
M$STATE    6399**DCL-ENT
M$STD    6371**DCL-ENT
M$STIMER    6385**DCL-ENT
M$STLPP    6368**DCL-ENT
M$STRAP    6385**DCL-ENT
M$STRMATTR    6357**DCL-ENT
M$STRMCTL    6355**DCL-ENT
M$STRMTAB    6358**DCL-ENT
M$SYMBIO    6396**DCL-ENT
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:93   
M$SYSCON    6382**DCL-ENT
M$SYSID    6400**DCL-ENT
M$TDCLOSE    6381**DCL-ENT
M$TDIO    6381**DCL-ENT
M$TDOPEN    6380**DCL-ENT
M$TDREQCPU    6381**DCL-ENT
M$TEMPWROC    6375**DCL-ENT
M$TIME    6398**DCL-ENT
M$TRAP    6385**DCL-ENT
M$TRMISC    6360**DCL-ENT
M$TRMPRG    6356**DCL-ENT
M$TRTN    6389**DCL-ENT
M$TRUNC    6332**DCL-ENT
M$TTIMER    6385**DCL-ENT
M$UC    6355**DCL
M$UMPL    6372**DCL-ENT
M$UNFID    6394**DCL-ENT
M$UNLATCH    6351**DCL-ENT
M$UNSHARE    6348**DCL-ENT
M$USRFIELD    6391**DCL-ENT
M$VIRTUAL    6366**DCL-ENT
M$WEOF    6334**DCL-ENT
M$WRITE    6332**DCL-ENT
M$WRSYSLOG    6380**DCL-ENT
M$XCON    6386**DCL-ENT
M$XCONRTN    6347**DCL-ENT
M$XEQTIME    6399**DCL-ENT
M$XFLUSH    6340**DCL-ENT
M$XMOUSE    6377**DCL-ENT
M$XXX    6343**DCL-ENT
M$YC    6345**DCL-ENT
SC_MESSAGE    6432**DCL
S_D_ACCESS$    2806**DCL
S_D_ANLZ$    2808**DCL
S_D_ASTACKOFF$    2807**DCL
S_D_BREAK$    2809**DCL
PL6.E3A0      #001=DFA$STEP File=DFA$STEP.:E05TSI                                TUE 07/29/97 14:35 Page:94   
S_D_DO_SCAN$    2810**DCL
S_D_ERROR$    2811**DCL
S_D_FAULTCMD$$    2812**DCL
S_D_FAULTINS$$    2813**DCL
S_D_GOIC$    2814**DCL
S_D_GO_MODE$    2815**DCL
S_D_HW_PTB_UNITS$    2831**DCL
S_D_HW_RES_MEM$    2829**DCL
S_D_HW_WSQ0PT$    2830**DCL
S_D_IPRFLT$    2817**DCL
S_D_IXFIX$    2816**DCL
S_D_REM_ACCESS$    2818**DCL
S_D_REM_DISKBOOT$    2820**DCL
S_D_REM_DO_SCAN$    2819**DCL
S_D_RETURNN$    2821**DCL
S_D_SAD$    2822**DCL
S_D_SAVEIC$    2823**DCL
S_D_SEG$    2805**DCL
S_D_TCB$$    2824**DCL
S_D_UREG$$    2825**DCL
S_D_USS$$    2826**DCL

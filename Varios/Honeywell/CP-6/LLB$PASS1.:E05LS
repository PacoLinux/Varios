VERSION E05

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:1    
        1        1        /*M* LLB$PASS1 - Pass 1 module of FEPLINK                           */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=4,STI=0,IND=4,CTI=3,DCI=4,ECI=4,CSI=0,THI=0,DTI=0,ENI=4,
        8        8             CLM=0,SQB,NTB,MOC,CCI=3,NLB,MCL=0,EDMC*/
        9        9        /*F* NAME:         LLB$PASS1
       10       10             PURPOSE:      Constructs symbol tables and allocates memory
       11       11             DESCRIPTION:  LLB$PASS1's primary task is to read the object
       12       12                           units specified in th O.U. list passed to  it by
       13       13                           LLA$MAIN.  The head record is read in order to
       14       14                           determine the size of the other records present
       15       15                           in the object unit.  After the head record has
       16       16                           been read, pointers are set up to the locations
       17       17                           of memory where the various symbol tables are to
       18       18                           be read into core.  It then acquires enoughy
       19       19                           memory so that the symbol tables may be read in
       20       20                           and processed.  After all symbol tables have been
       21       21                           processed, front end core is allocated and the
       22       22                           symbols are assigned values, and an allocation
       23       23                           summary is printed.  Control is then returned to
       24       24                           LLA$MAIN.                                        */
       25       25        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:2    
       26       26        LLB$PASS1: PROC (TPTR$);
       27       27         /* INCLUDES */
       28       28        %INCLUDE B$OBJECT_C;
       29     3458        %INCLUDE CP_6;
       30     9017        %INCLUDE G_LCP6_E;
       31     9275        %INCLUDE LL_DATA_R;
       32     9311        %INCLUDE LL_SUBS_C;
       33     9440        %INCLUDE LL_MACS_C;
       34     9794        %INCLUDE B_ERRORS_C;
       35    10921        %INCLUDE GF_DCB_E;
       36    10960        %B$TCB;
       37    10963        %B$ALT;
       38    10971    1   DCL M$RU DCB;
       39    10972        %F$DCB ( DCBN = B$DCB,
       40    10973         STCLASS = BASED );
       41    11030        %SUB_LINKFLAGS;
       42    11039        %RU_FLAVORS;
       43    11045        %SUB_CST;
       44    11061        %B$HEAD ( NAME = LL_HEAD,
       45    11062         STCLASS = SYMREF );
       46    11262        %B$FEP_SECTION ( NAME = LL_SECTION );
       47    11301        %B$EDEF ( NAME = LL_ENTDEF );
       48    11371        %B$SECTIONSUBS;
       49    11386        %B$SECTION;
       50    11445        %B$RECORDSUBS;
       51    11473        %B$OUKEY;
       52    11509        %B$SECTABLE ;
       53    11521        %B$SECTABLEKEY ;
       54    11528        %B$FEP_RUKEY (NAME= B$RUKEY);
       55    11552        %B$OUHEAD ( STCLASS = BASED );
       56    11670        %B$RELOCSUBS;
       57    11700        %B$DNAME;
       58    11719        %B$SDEF;
       59    11773        %B$EDEF;
       60    11843        %B$EDEF ( NAME = LL_PATCHI_DEF,
       61    11844         STCLASS = SYMREF );
       62    11914        %B$EDEF ( NAME = LL_PATCHIH_DEF,
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:3    
       63    11915         STCLASS = SYMREF );
       64    11985        %B$EDEF ( NAME = LL_PATCHD_DEF,
       65    11986         STCLASS = SYMREF );
       66    12056        %B$EDEF ( NAME = LL_PATCHDH_DEF,
       67    12057         STCLASS = SYMREF );
       68    12127        %B$SDEF ( NAME = LL_END_DEF,
       69    12128         STCLASS = SYMREF );
       70    12182        %FPT_GDS(FPTN = DNAME_FPT,
       71    12183         STCLASS = CONSTANT,
       72    12184         SEGSIZE = 1024,
       73    12185         RESULTS = LL_DNAME_VEC);
       74    12201    1   DCL M$LI DCB;
       75    12202    1   DCL 1 RU_KEY STATIC ALIGNED,
       76    12203    1         2 COUNT UBIN BYTE UNAL INIT(4),
       77    12204    1         2 TEXT CHAR(4) UNAL INIT('HEAD');
       78    12205        %B$HEAD (NAME=SLIB_HEAD,STCLASS = "STATIC SYMDEF",SUBS=NO);
       79    12405        %FPT_FID(FPTN=FID_SLIB,
       80    12406         TEXTFID= LL_SLIB_NAME,
       81    12407         SN = VLP_SN,
       82    12408         WSN = VLP_WSN,
       83    12409         RES = OPEN_SLIB.V.RES#,
       84    12410         ASN = OPEN_SLIB.V.ASN#,
       85    12411         RESULTS = FID_RESULTS,
       86    12412         ACCT = SLIB_ACCT,
       87    12413         NAME = LL_HEAD.LIBNAME);
       88    12436
       89    12437        %FPT_READ(FPTN=READ_SLIB_HEAD,
       90    12438         DCB = M$LI,
       91    12439         KEY = RU_KEY,
       92    12440         KEYS = YES,
       93    12441         KEYR = YES);
       94    12480
       95    12481        %FPT_OPEN(FPTN=OPEN_SLIB,
       96    12482         DCB = M$LI,
       97    12483         WSN = VLP_WSN,
       98    12484         SN = VLP_SN,
       99    12485         ORG = KEYED,
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:4    
      100    12486         PASS = SLIB_PASS,
      101    12487         NAME = LL_HEAD.LIBNAME,
      102    12488         ASN = FILE,
      103    12489         SCRUB = YES);
      104    12598
      105    12599
      106    12600        %VLP_ACCT (FPTN=SLIB_ACCT);
      107    12613        %VLP_PASS (FPTN = SLIB_PASS);
      108    12626        %VLR_FID (FPTN=FID_RESULTS);
      109    12645        %VLP_WSN;
      110    12658        %VLP_SN;
      111    12671    1   DCL LIB_ACCT CHAR(8) STATIC INIT(':SYS    ');
      112    12672    1   DCL CODE UBIN;
      113    12673        %FPT_CLOSE (FPTN=CLOSE_SLIB,
      114    12674         DCB = M$LI);
      115    12716    1   DCL B$TCB$ PTR SYMREF;
      116    12717        %B$FEP_RUKEY (NAME=SLIB_KEY);
      117    12741        %FPT_READ(FPTN=READ_SLIB,
      118    12742         DCB = M$LI,
      119    12743         KEY = NIL,
      120    12744         KEYS = YES,
      121    12745         KEYR = NO,
      122    12746         BUF = NIL,
      123    12747         WAIT = YES);
      124    12786        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:5    
      125    12787         /* LOCAL DATA */
      126    12788    1   DCL LLM$MON_SVC ENTRY (4) ALTRET;
      127    12789    1   DCL LLE$READOU ENTRY (5) ALTRET;
      128    12790    1   DCL LLG$GROW ENTRY (7);
      129    12791    1   DCL LLR$RESDEF ENTRY (6);
      130    12792    1   DCL LLT$BUILD_VECTOR ENTRY;
      131    12793    1   DCL Z SBIN WORD;
      132    12794    1   DCL I SBIN WORD ALIGNED;
      133    12795    1   DCL TPTR$ PTR;
      134    12796    1   DCL 1 OU_FID(0:0) BASED ALIGNED,
      135    12797    1         2 NAME CHAR(50),
      136    12798    1         2 BIAS SBIN WORD;
      137    12799    1   DCL 1 LOCATION_ARRAY(0:19) STATIC,
      138    12800    1         2 BIAS SBIN WORD INIT(0*20),
      139    12801    1         2 LAST SBIN WORD INIT(0*20);
      140    12802    1   DCL IDX UBIN WORD;
      141    12803        %LL$RUBIRTHKEY ( NAME = RUBIRTHKEY,
      142    12804         STCLASS = CONSTANT );
      143    12822        %B$HEADKEY ( NAME = EF_KEY,
      144    12823         STCLASS = STATIC );
      145    12835        %B$RUBIRTH (STCLASS = SYMREF, COUNTINIT = " /**/ ");
      146    12844        %LL$SECT_ENTRY ( NAME = SECT_ENTRY );
      147    12877        %LL$OU_ENTRY ( NAME = OU_ENTRY,
      148    12878         STCLASS = BASED );
      149    12926        %LL$OU_ENTRY ( NAME = LL_OU_ENTRY,
      150    12927         STCLASS = CONSTANT );
      151    12975        %LL$NODE ( NAME = NODE );
      152    13007    1   DCL PSIZE UBIN WORD ALIGNED;
      153    13008    1   DCL AVAIL$ PTR;
      154    13009    1   DCL T_OU$ PTR STATIC INIT (ADDR(NIL));
      155    13010    1   DCL SECT$ PTR STATIC;
      156    13011    1   DCL NAME$ PTR STATIC;
      157    13012    1   DCL NEW$ PTR STATIC;
      158    13013    1   DCL X UBIN WORD STATIC;
      159    13014    1   DCL DPTR$ PTR STATIC;
      160    13015    1   DCL SPTR$ PTR STATIC;
      161    13016    1   DCL NPTR UBIN WORD STATIC;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:6    
      162    13017    1   DCL TYPE UBIN WORD STATIC;
      163    13018    1   DCL K UBIN WORD STATIC;
      164    13019    1   DCL TEMP SBIN WORD STATIC ALIGNED;
      165    13020    1   DCL HEAD$ PTR;
      166    13021    1   DCL TEMP1 UBIN WORD STATIC ALIGNED;
      167    13022    1   DCL NEW_DCBNAME$ PTR;
      168    13023    1   DCL SYS_DCB BIT(1);
      169    13024    1   DCL DCB_COUNT UBIN;
      170    13025    1   DCL DCB_NPOINTERS(0:%G_SYS_DCBS#) UBIN WORD STATIC INIT(0*0);
      171    13026    1   DCL DCB_ALLOCATED(0:%G_SYS_DCBS#) BIT(1) STATIC INIT('0'B*0);
      172    13027    1   DCL DCBNAME$(0:%G_SYS_DCBS#) PTR CONSTANT INIT( ADDR(NIL),
      173    13028    1    ADDR(TM$DEBUG),ADDR(TM$LM),ADDR(TM$ME),ADDR(TM$HOST),ADDR(TM$DO));
      174    13029    1   DCL DCBN$ PTR;
      175    13030    1   DCL FOUND_DCB BIT(1);
      176    13031        %B$DNAME ( NAME = TM$DEBUG,
      177    13032         STCLASS = CONSTANT,
      178    13033         TEXT = 'M$DEBUG' );
      179    13052        %B$DNAME ( NAME = TM$LM,
      180    13053         STCLASS = CONSTANT,
      181    13054         TEXT = 'M$LM' );
      182    13073        %B$DNAME ( NAME = TM$ME,
      183    13074         STCLASS = CONSTANT,
      184    13075         TEXT = 'M$ME' );
      185    13094        %B$DNAME ( NAME = TM$HOST,
      186    13095         STCLASS = CONSTANT,
      187    13096         TEXT = 'M$HOST' );
      188    13115        %B$DNAME ( NAME = TM$DO,
      189    13116         STCLASS = CONSTANT,
      190    13117         TEXT = 'M$DO' );
      191    13136        %B$DNAME ( NAME = G_VERSION_NAME,
      192    13137         STCLASS = CONSTANT,
      193    13138         TEXT = 'G_VERSION' );
      194    13157        %B$DNAME ( NAME = G_PATCHI_NAME,
      195    13158         STCLASS = CONSTANT,
      196    13159         TEXT = 'G_PATCHI' );
      197    13178        %B$DNAME ( NAME = G_PATCHIH_NAME,
      198    13179         STCLASS = CONSTANT,
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:7    
      199    13180         TEXT = 'G_PATCHIH' );
      200    13199        %B$DNAME ( NAME = G_PATCHD_NAME,
      201    13200         STCLASS = CONSTANT,
      202    13201         TEXT = 'G_PATCHD');
      203    13220        %B$DNAME ( NAME = G_PATCHDH_NAME,
      204    13221         STCLASS = CONSTANT,
      205    13222         TEXT = 'G_PATCHDH');
      206    13241        %B$DNAME ( NAME = G_ROS_NAME,
      207    13242         STCLASS = CONSTANT,
      208    13243         TEXT = 'G$ROS$' );
      209    13262        %B$DNAME ( NAME = G_TCB_NAME,
      210    13263         STCLASS = CONSTANT,
      211    13264         TEXT = 'G$TCB$' );
      212    13283        %B$DNAME ( NAME = G_PIA_NAME,
      213    13284         STCLASS = CONSTANT,
      214    13285         TEXT = 'G$PIA$' );
      215    13304        %B$DNAME ( NAME = G_JIT_NAME,
      216    13305         STCLASS = CONSTANT,
      217    13306         TEXT = 'G$JIT$' );
      218    13325        %B$DNAME ( NAME = G_AUTO_DS_NAME,
      219    13326         STCLASS = CONSTANT,
      220    13327         TEXT = 'G$AUTO_DS$' );
      221    13346        %B$DNAME ( NAME = G_AUTO_T_NAME,
      222    13347         STCLASS = CONSTANT,
      223    13348         TEXT = 'G$AUTO_T$' );
      224    13367        %B$DNAME ( NAME = LINK_SUPPLIED_NAMES,
      225    13368         STCLASS = CONSTANT,
      226    13369         TEXT = '<FEPLINK supplied data items>' );
      227    13388        %B$DNAME (NAME = UNUSED_DATA_NAME,
      228    13389         STCLASS = CONSTANT,
      229    13390         TEXT = '<Unused_data>');
      230    13409    1   DCL G_VERSION_OFFSET UBIN WORD;
      231    13410    1   DCL G_PATCHI_OFFSET UBIN WORD;
      232    13411    1   DCL G_PATCHIH_OFFSET UBIN WORD;
      233    13412    1   DCL G_PATCHD_OFFSET UBIN WORD;
      234    13413    1   DCL G_PATCHDH_OFFSET UBIN WORD;
      235    13414    1   DCL G_ROS_OFFSET UBIN WORD;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:8    
      236    13415    1   DCL G_TCB_OFFSET UBIN WORD;
      237    13416    1   DCL G_PIA_OFFSET UBIN WORD;
      238    13417    1   DCL G_JIT_OFFSET UBIN WORD;
      239    13418    1   DCL G_AUTO_DS_OFFSET UBIN;
      240    13419    1   DCL G_AUTO_T_OFFSET UBIN;
      241    13420    1   DCL LINK_SUPPLIED_OFFSET UBIN WORD;
      242    13421    1   DCL DCB$ PTR;
      243    13422    1   DCL PROGSIZE UBIN WORD STATIC ALIGNED;
      244    13423    1   DCL J UBIN WORD ALIGNED;
      245    13424    1   DCL L UBIN WORD ALIGNED;
      246    13425    1   DCL LOCATION UBIN WORD ALIGNED;
      247    13426    1   DCL ADDRESS UBIN WORD ALIGNED;
      248    13427    1   DCL HEXSTR CHAR(6) UNAL;
      249    13428    1   DCL HEXSTR_ARY(0:5) REDEF HEXSTR CHAR(1);
      250    13429    1   DCL 1 STRING STATIC ALIGNED,
      251    13430    1         2 COUNT UBIN BYTE UNAL,
      252    13431    1         2 TEXT CHAR(6) UNAL;
      253    13432    1   DCL 1 B$STRING BASED CALIGNED,
      254    13433    1         2 COUNT UBIN BYTE UNAL,
      255    13434    1         2 TEXT CHAR(B$STRING.COUNT) UNAL;
      256    13435    1   DCL LLI$BINHEX ENTRY(3);
      257    13436    1   DCL RUWORD(0:%(LL_PRECSIZE-1)) UBIN WORD BASED ALIGNED;
      258    13437    1   DCL RUBYTE(0:0) UBIN BYTE BASED CALIGNED;
      259    13438    1   DCL TOTSIZE UBIN WORD ALIGNED;
      260    13439    1   DCL BOUND UBIN WORD ALIGNED;
      261    13440    1   DCL 1 PRGKEY STATIC ALIGNED,
      262    13441    1         2 COUNT UBIN BYTE UNAL INIT(5),
      263    13442    1         2 TYPE UBIN BYTE UNAL INIT(10),
      264    13443    1         2 ISADDR UBIN WORD UNAL;
      265    13444    1   DCL NO_FID# BIT(1) UNAL;
      266    13445    1   DCL MULT_STRT# BIT(1) STATIC ALIGNED INIT('0'B);
      267    13446    1   DCL BIAS SBIN WORD; /* FOR OU_BIAS */
      268    13447    1   DCL BIAS_OU_LOCATION UBIN WORD ALIGNED;
      269    13448    1   DCL BIAS_OU_WORD UBIN(20) ;
      270    13449    1   DCL PRE_OU$ PTR;
      271    13450    1   DCL LAST_UNIT_ADDR SBIN WORD;
      272    13451    1   DCL LAST_UNIT_SIZE SBIN WORD;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:9    
      273    13452    1   DCL LOW_UNIT_ADDR SBIN WORD;
      274    13453    1   DCL HIGH_UNIT_ADDR SBIN WORD;
      275    13454    1   DCL HIGH_UNIT_SIZE SBIN WORD;
      276    13455    1   DCL REGION UBIN BYTE;
      277    13456    1   DCL P$ PTR;
      278    13457    1   DCL Q$ PTR;
      279    13458    1   DCL TABLE_ARRAY_INX SBIN;
      280    13459    1   DCL 1 TABLE_ARRAY(0:30) ALIGNED,
      281    13460    1         2 TYPE BIT(1) UNAL,
      282    13461    1         2 SIZE UBIN(35) UNAL,
      283    13462    1         2 START UBIN(36) UNAL;
      284    13463    1   DCL UNUSED_OFFSET UBIN;
      285    13464    1   DCL DPATCH$ PTR;
      286    13465    1   DCL DATA$ PTR;
      287    13466        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:10   
      288    13467         /****************************************************************\
      289    13468         *                                                                *
      290    13469         * Initialization:                                                *
      291    13470         *                                                                *
      292    13471         *    The following block of code initializes certain critical    *
      293    13472         *    variables -                                                 *
      294    13473         *                                                                *
      295    13474         *         LL_HEAD.SEV <- 0    (initial severity level            *
      296    13475         *         NAME$               (pointer to def names record)      *
      297    13476         *         B$RUKEY <- def name (key initialized for def names)    *
      298    13477         *         PSIZE <- 0          (name pointer increment)           *
      299    13478         *         LL_R_OU$            (root pointer to OU list)          *
      300    13479         *         T_OU$               (pointer to top OU node in OU list)*
      301    13480         *         SPTR$               (pointer to previous OU node)      *
      302    13481         *         LL_FLAGS.REJECT#    (object unit/file reject flag)     *
      303    13482         *                                                                *
      304    13483         \****************************************************************/
      305    13484    1       LL_HEAD.SEV = 0;
      306    13485    1       LL_HEAD.UDCBNUM = 0;
      307    13486    2       CALL M$GDS (DNAME_FPT) WHENALTRETURN DO;
      308    13487    2   NO_MEM: CALL LLM$MON_SVC(LL#GETMEM);
      309    13488    2           END;
      310    13489    1       NAME$ = LL_DNAME_VEC.P$;
      311    13490    1       B$RUKEY = '0'B;
      312    13491    1       B$RUKEY.TYPE = %TYPDNAM;
      313    13492    1       B$RUKEY.KEYSIZ = 5;
      314    13493    1       B$RUKEY.ISADDR = 0;
      315    13494    1       PSIZE = 0;
      316    13495    1       IF LL_FLAGS.VECTOR#
      317    13496    1       THEN
      318    13497    2       DO;
      319    13498    3           DO I = LL_NOU-1 DOWNTO 0 ;
      320    13499    3               LL_OF$->OU_FID(I+1) = LL_OF$->OU_FID(I);
      321    13500    3               END;
      322    13501    2           LL_OF$->OU_FID.NAME(0) = '*TV';
      323    13502    2           LL_OF$->OU_FID.BIAS(0) = -1;
      324    13503    2           LL_R_OU$ = LL_TOPOMEM$;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:11   
      325    13504    2           LL_NOU = LL_NOU + 1;
      326    13505    2           END;
      327    13506    1       ELSE
      328    13507    1           LL_R_OU$ =PINCRW (LL_OF$,LL_NOU * (SIZEW(OU_FID(0))));
      329    13508    1       REGION = 0;
      330    13509    1       TABLE_ARRAY_INX = 0;
      331    13510    1       T_OU$ = LL_R_OU$;
      332    13511    1       SPTR$ = LL_R_OU$;
      333    13512    1       LL_FLAGS.REJECT# = '1'B;
      334    13513        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:12   
      335    13514         /****************************************************************\
      336    13515         *                                                                *
      337    13516         * Do until we run out of object files                            *
      338    13517         *                                                                *
      339    13518         \****************************************************************/
      340    13519    2       DO I = 0 TO LL_NOU - 1;
      341    13520    2           LL_FIRSTFID = LL_OF$ -> OU_FID.NAME(I);
      342    13521    2           IF LL_OF$->OU_FID.BIAS(I) ~= -1
      343    13522    2           THEN
      344    13523    3           DO;
      345    13524    3               REGION = REGION + 1;
      346    13525    3               BIAS = LL_OF$ -> OU_FID.BIAS(I);
      347    13526    3               END;
      348    13527    2           CALL LLM$MON_SVC (LL#FID);
      349    13528    2           CALL LLM$MON_SVC (LL#OPENEF) ALTRET (NO_FILE);
      350    13529        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:13   
      351    13530         /*
      352    13531
      353    13532            After each object file has been opened, read in 1st/next head
      354    13533            record and verify that it is a head record.
      355    13534
      356    13535            When there are no more head records, terminate processing of
      357    13536            the object file and get the next object file out of the object
      358    13537            file list passed in from LLA$MAIN.  If there are no more files
      359    13538            to be processed, return to the main program
      360    13539         */
      361    13540    3           DO WHILE '1'B;
      362    13541    3               CALL LLM$MON_SVC (LL#GETMEM, 1024, T_OU$);
      363    13542    3               T_OU$ -> OU_ENTRY = LL_OU_ENTRY;
      364    13543    3               HEAD$ = PINCRW(T_OU$, SIZEW(LL_OU_ENTRY));
      365    13544    3               T_OU$ -> OU_ENTRY.HEAD$ = HEAD$;
      366    13545    3               CALL LLM$MON_SVC (LL#READHEAD, HEAD$, SIZEC(B$OUHEAD),
      367    13546    3                  EF_KEY) ALTRET (REJECT_OF);
      368    13547    3               LL_OU_PTR$ = T_OU$;
      369    13548    3               LL_STATE = LL#PASS1;
      370    13549    3               IF EF_KEY.HFLAG ~= '042'O THEN GOTO REJECT_OF;
      371    13550    3               T_OU$ -> OU_ENTRY.OF = I;
      372    13551    3               T_OU$->OU_ENTRY.REGION = REGION;
      373    13552    3               T_OU$ -> OU_ENTRY.OUNAME.SIZE = EF_KEY.KEYSIZ - 1;
      374    13553    3               T_OU$ -> OU_ENTRY.OUNAME.TEXT = EF_KEY.TEXT;
      375    13554    4               IF HEAD$ -> B$OUHEAD.WORDSIZE ~= 16 THEN DO;
      376    13555    4                   CALL CONCAT ( LL_DOBUF,
      377    13556    4                      'A  Warning:  Illegal word size in object uint ',
      378    13557    4                      T_OU$ -> OU_ENTRY.OUNAME.TEXT,
      379    13558    4                      ' of object file ',
      380    13559    4                      LL_OF$->OU_FID.NAME(I));
      381    13560    4                   CALL LLM$MON_SVC ( LL#WRITEDO );
      382    13561    4                   END;
      383    13562    3               IF HEAD$ -> B$OUHEAD.SEVLEV > LL_HEAD.SEV THEN
      384    13563    3                   LL_HEAD.SEV = HEAD$ -> B$OUHEAD.SEVLEV;
      385    13564    4               IF LL_FLAGS.NOLIST# OR HEAD$ -> B$OUHEAD.SEVLEV > 0 THEN DO;
      386    13565    4                   CALL INSERT (LL_LOBUF,0,,
      387    13566    4                      'A  ...Linking ',
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:14   
      388    13567    4                      T_OU$ -> OU_ENTRY.OUNAME.TEXT,
      389    13568    4                      ' of ',
      390    13569    4                      LL_OF$->OU_FID.NAME(I));
      391    13570    5                   IF HEAD$ -> B$OUHEAD.SEVLEV > 0 THEN DO;
      392    13571    5                       CALL BINCHAR (HEXSTR, HEAD$ -> B$OUHEAD.SEVLEV);
      393    13572    5                       J = 0;
      394    13573    6                       DO WHILE (HEXSTR_ARY(J) = '0' AND J < 5);
      395    13574    6                           J = J + 1;
      396    13575    6                           END;
      397    13576    6                       DO TEMP = 0 TO 5 - J;
      398    13577    6                           HEXSTR_ARY(TEMP) = HEXSTR_ARY(TEMP + J);
      399    13578    6                           END;
      400    13579    5                       STRING.COUNT = 6 - J;
      401    13580    5                       STRING.TEXT = HEXSTR;
      402    13581    5                       TEMP = 18 + T_OU$ -> OU_ENTRY.OUNAME.SIZE;
      403    13582    5                       CALL INDEX (TEMP, ' ', LL_LOBUF, TEMP);
      404    13583    5                       CALL INSERT (LL_LOBUF,TEMP,,' (SL=',
      405    13584    5                          ADDR(STRING) -> B$STRING.TEXT, ')');
      406    13585    5                       LL_DOBUF = LL_LOBUF;
      407    13586    5                       CALL LLM$MON_SVC (LL#WRITEDO);
      408    13587    5                       END;
      409    13588    4                   ELSE CALL LLM$MON_SVC (LL#WRITELO);
      410    13589    4                   END;
      411    13590    4               IF HEAD$ -> B$OUHEAD.START.OPNDTYP > 0 THEN DO;
      412    13591    5                   IF HEAD$ -> B$OUHEAD.START.OPNDTYP ~= %OPERSECT THEN DO;
      413    13592    5                       LL_DOBUF =
      414    13593    5                          'A  ***Object language error: bad start addr';
      415    13594    5                       CALL LLM$MON_SVC (LL#WRITEDO);
      416    13595    5                       LL_HEAD.SEV = 16;
      417    13596    5                       CALL INSERT (LL_DOBUF,0,,
      418    13597    5                          'A     The error occured while processing object unit ',
      419    13598    5                          T_OU$->OU_ENTRY.OUNAME.TEXT,
      420    13599    5                          ' from file ',
      421    13600    5                          LL_OF$->OU_FID.NAME(I));
      422    13601    5                       CALL LLM$MON_SVC (LL#WRITEDO);
      423    13602    5                       END;
      424    13603    5                   ELSE DO;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:15   
      425    13604    6                       IF (LL_START$ ~= ADDR(NIL)) THEN DO;
      426    13605    7                           IF NOT MULT_STRT# THEN DO;
      427    13606    7                               LL_DOBUF = 'A  ***Multiple start addrs encountered';
      428    13607    7                               CALL LLM$MON_SVC (LL#WRITEDO);
      429    13608    7                               CALL INSERT (LL_DOBUF,0,,
      430    13609    7                                  'A     Using addr from object unit ',
      431    13610    7                                  T_OU$->OU_ENTRY.OUNAME.TEXT,
      432    13611    7                                  ' from file ',
      433    13612    7                                  LL_OF$->OU_FID.NAME(I));
      434    13613    7                               CALL LLM$MON_SVC (LL#WRITEDO);
      435    13614    7                               LL_DOBUF = 'A     Other start addrs found in:';
      436    13615    7                               CALL LLM$MON_SVC (LL#WRITEDO);
      437    13616    7                               MULT_STRT# = '1'B;
      438    13617    7                               END;
      439    13618    6                           CALL INSERT (LL_DOBUF,0,,
      440    13619    6                              'A         ',
      441    13620    6                              T_OU$->OU_ENTRY.OUNAME.TEXT,
      442    13621    6                              ' from file ',
      443    13622    6                              LL_OF$->OU_FID.NAME(I));
      444    13623    6                           CALL LLM$MON_SVC (LL#WRITEDO);
      445    13624    6                           IF LL_HEAD.SEV < 4 THEN
      446    13625    6                               LL_HEAD.SEV = 4;
      447    13626    6                           END;
      448    13627    6                       ELSE DO;
      449    13628    6                           LL_START$ = T_OU$;
      450    13629    6                           END;
      451    13630    5                       END;
      452    13631    4                   END;
      453    13632        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:16   
      454    13633         /****************************************************************\
      455    13634         *                                                                *
      456    13635         * Process def names record:                                      *
      457    13636         *                                                                *
      458    13637         *    Extend the def names memory segment with the ones from      *
      459    13638         *    the current OU.                                             *
      460    13639         *                                                                *
      461    13640         \****************************************************************/
      462    13641    3               LL_FLAGS.REJECT# = '0'B;
      463    13642    3               TEMP = HEAD$ -> B$OUHEAD.DNAMSIZ;
      464    13643    4               DO WHILE '1'B;
      465    13644    4                   IF TEMP + PSIZE <= LL_DNAME_VEC.BOUND THEN EXIT;
      466    13645    4                   CALL M$GDS (DNAME_FPT) ALTRET (NO_MEM);
      467    13646    4                   END;
      468    13647    3               CALL LLE$READOU ( HEAD$ -> B$OUHEAD,
      469    13648    3                  %TYPDNAM, TEMP * 4,
      470    13649    3                  HEAD$ -> B$OUHEAD.DNAMPSIZ * 4,
      471    13650    3                  PINCRW ( NAME$, PSIZE ) ) ALTRET ( NO_SECTS );
      472    13651        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:17   
      473    13652         /****************************************************************\
      474    13653         *                                                                *
      475    13654         * Process the section declarations:                              *
      476    13655         *                                                                *
      477    13656         *    Form the key for the only read, read the section declar-    *
      478    13657         *    ations, obtain a count of the number of sections in TEMP,   *
      479    13658         *    and place the declarations in the appropriate list (data,   *
      480    13659         *    procedure, common, read_only, etc.).                        *
      481    13660         *                                                                *
      482    13661         \****************************************************************/
      483    13662    3               B$OUKEY.UTS = HEAD$ -> B$OUHEAD.UTS;
      484    13663    3               B$OUKEY.TYPE = %TYPSECT;
      485    13664    3               B$OUKEY.PAGE = 0;
      486    13665    3               SECT$ = PINCRW (HEAD$, SIZEW(B$OUHEAD));
      487    13666    3               CALL LLM$MON_SVC (LL#GETMEM, 1024, SECT$);
      488    13667    3               CALL LLM$MON_SVC (LL#READOU, SECT$, 4095 ,B$OUKEY);
      489    13668    3               CALL LLM$MON_SVC (LL#SIZEEF, TEMP);
      490    13669    3               TEMP = TEMP / SIZEC(B$SECTION);
      491    13670    3               T_OU$ -> OU_ENTRY.NSECTS = TEMP;
      492    13671    3               T_OU$ -> OU_ENTRY.SECT$ = SECT$;
      493    13672    3               AVAIL$ = PINCRW (SECT$, TEMP * SIZEW(B$SECTION));
      494    13673    3               TEMP = TEMP - 1;
      495    13674    4               DO J = 0 TO TEMP;
      496    13675    4                   AVAIL$ -> SECT_ENTRY.BROTHER$ = ADDR(NIL);
      497    13676    4                   IF (SECT$ -> B$SECTION.NPOINTER >= 0) THEN
      498    13677    4                       SECT$ -> B$SECTION.NPOINTER =
      499    13678    4                          SECT$ -> B$SECTION.NPOINTER + PSIZE;
      500    13679    4                   AVAIL$->SECT_ENTRY.BIAS = BIAS;
      501    13680    5                   DO CASE (SECT$ -> B$SECTION.TYPE);
      502    13681    5                   CASE (%DATASECTION);
      503    13682    5                       IF (LL_R_DATA$ = ADDR(NIL)) THEN
      504    13683    5                           LL_R_DATA$ = AVAIL$;
      505    13684    5                       ELSE
      506    13685    5                           LL_T_DATA$ -> SECT_ENTRY.NEXT$ = AVAIL$;
      507    13686    5                       LL_T_DATA$ = AVAIL$;
      508    13687    5                   CASE (%CODESECTION, %ROSECTION);
      509    13688    5                       IF (LL_R_CODE$ = ADDR(NIL)) THEN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:18   
      510    13689    5                           LL_R_CODE$ = AVAIL$;
      511    13690    5                       ELSE
      512    13691    5                           LL_T_CODE$ -> SECT_ENTRY.NEXT$ = AVAIL$;
      513    13692    5                       LL_T_CODE$ = AVAIL$;
      514    13693    5                   CASE (%UCOMSECTION);
      515    13694    5                       LL_DOBUF = 'A**** Blank common feature not yet implemented';
      516    13695    5                       CALL LLM$MON_SVC ( LL#WRITEDO );
      517    13696    5                       CALL CONCAT ( LL_DOBUF,
      518    13697    5                          'A     for object unit ',
      519    13698    5                          T_OU$ -> OU_ENTRY.OUNAME.TEXT,
      520    13699    5                          ' in object file ',
      521    13700    5                          LL_FIRSTFID );
      522    13701    5                       CALL LLM$MON_SVC ( LL#WRITEDO );
      523    13702    5                   CASE (%LCOMSECTION, %RLCOMSECTION);
      524    13703    5                       LL_DOBUF = 'A**** Named common feature not yet implemented';
      525    13704    5                       CALL LLM$MON_SVC ( LL#WRITEDO );
      526    13705    5                       CALL CONCAT ( LL_DOBUF,
      527    13706    5                          'A     for control section ',
      528    13707    5                          PINCRW(NAME$,SECT$->B$SECTION.NPOINTER)
      529    13708    5                          -> B$DNAME.TEXT,
      530    13709    5                          ' in object unit ',
      531    13710    5                          T_OU$ -> OU_ENTRY.OUNAME.TEXT,
      532    13711    5                          ' in object file ',
      533    13712    5                          LL_FIRSTFID );
      534    13713    5                       CALL LLM$MON_SVC ( LL#WRITEDO );
      535    13714    5                   CASE ( %DCBSECTION );
      536    13715    5                       NEW_DCBNAME$ = PINCRW(NAME$,
      537    13716    5                          SECT$ -> B$SECTION.NPOINTER);
      538    13717    5                       SYS_DCB = '0'B;
      539    13718    5                       DCB_COUNT = 1;
      540    13719    6                       DO WHILE (DCB_COUNT <= %G_SYS_DCBS# AND
      541    13720    6                          NOT SYS_DCB);
      542    13721    6                           IF NEW_DCBNAME$ -> B$DNAME.TEXT
      543    13722    6                              = DCBNAME$(DCB_COUNT) ->
      544    13723    7                              B$DNAME.TEXT THEN DO;
      545    13724    7                               SYS_DCB = '1'B;
      546    13725    7                               DCB_NPOINTERS(DCB_COUNT) =
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:19   
      547    13726    7                                  SECT$ -> B$SECTION.NPOINTER;
      548    13727    7                               END;
      549    13728    6                           DCB_COUNT = DCB_COUNT + 1;
      550    13729    6                           END;
      551    13730    5                       IF SYS_DCB THEN
      552    13731    5                           DCB_ALLOCATED(DCB_COUNT - 1) = '1'B;
      553    13732    6                       ELSE DO;
      554    13733    6                           DCB$ = LL_R_ROSE$;
      555    13734    6                           FOUND_DCB = '0'B;
      556    13735    7                           DO WHILE ( DCB$ ~= ADDR(NIL) AND
      557    13736    7                              NOT FOUND_DCB );
      558    13737    7                               DCBN$ = PINCRW(NAME$, DCB$ ->
      559    13738    7                                  SECT_ENTRY.SECTION$ ->
      560    13739    7                                  B$SECTION.NPOINTER);
      561    13740    7                               IF DCBN$->B$DNAME.TEXT =
      562    13741    7                                  NEW_DCBNAME$->B$DNAME.TEXT
      563    13742    8                               THEN DO;
      564    13743    8                                   FOUND_DCB = '1'B;
      565    13744    8                                   END;
      566    13745    7                               ELSE
      567    13746    7                                   DCB$ = DCB$ ->
      568    13747    7                                      SECT_ENTRY.NEXT$;
      569    13748    7                               END;
      570    13749    7                           IF NOT FOUND_DCB THEN DO;
      571    13750    7                               LL_HEAD.UDCBNUM = LL_HEAD.UDCBNUM + 1;
      572    13751    7                               IF LL_R_ROSE$=ADDR(NIL) THEN
      573    13752    7                                   LL_R_ROSE$ = AVAIL$;
      574    13753    7                               ELSE
      575    13754    7                                   LL_T_ROSE$ ->
      576    13755    7                                      SECT_ENTRY.NEXT$
      577    13756    7                                      = AVAIL$;
      578    13757    7                               LL_T_ROSE$ = AVAIL$;
      579    13758    7                               END;
      580    13759    7                           ELSE DO;
      581    13760    8                               DO WHILE (DCB$->SECT_ENTRY.BROTHER$
      582    13761    8                                  ~= ADDR(NIL));
      583    13762    8                                   DCB$ = DCB$ ->
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:20   
      584    13763    8                                      SECT_ENTRY.BROTHER$;
      585    13764    8                                   END;
      586    13765    7                               DCB$ -> SECT_ENTRY.BROTHER$ =
      587    13766    7                                  AVAIL$;
      588    13767    7                               END;
      589    13768    6                           END;
      590    13769         /* CASE (%SEGSECTION);*/
      591    13770    5                       END;
      592    13771    4                   AVAIL$ -> SECT_ENTRY.OBJUNIT$ = T_OU$;
      593    13772    4                   AVAIL$ -> SECT_ENTRY.SECTION$ = SECT$;
      594    13773    4                   AVAIL$ -> SECT_ENTRY.NEXT$ = ADDR(NIL);
      595    13774    4                   AVAIL$ = PINCRW (AVAIL$, SIZEW(SECT_ENTRY));
      596    13775    4                   SECT$ = PINCRW (SECT$, SIZEW(B$SECTION));
      597    13776    4                   END;
      598    13777        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:21   
      599    13778         /****************************************************************\
      600    13779         *                                                                *
      601    13780         * Process ENTDEF and SYMDEF declarations:                        *
      602    13781         *                                                                *
      603    13782         *    Read the corresponding record, adjust the name pointers     *
      604    13783         *    in it, and call the symbol tree grower to extend the tree   *
      605    13784         *                                                                *
      606    13785         \****************************************************************/
      607    13786    3               TEMP = ( HEAD$ -> B$OUHEAD.EDEFSIZ / SIZEW(B$EDEF) ) *
      608    13787    3                  ( SIZEW(NODE) + SIZEW(B$EDEF) ) *
      609    13788    3                  ( HEAD$ -> B$OUHEAD.SDEFSIZ / SIZEW(B$SDEF) ) *
      610    13789    3                  ( SIZEW(NODE) + SIZEW(B$SDEF) );
      611    13790    3               CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);
      612    13791    4               DO L = 0 TO 1;
      613    13792    5                   IF (L = 0) THEN DO;
      614    13793    5                       TEMP = HEAD$ -> B$OUHEAD.EDEFSIZ;
      615    13794    5                       IF TEMP = 0 THEN
      616    13795    5                           T_OU$ -> OU_ENTRY.ENTDEF$ = ADDR(NIL);
      617    13796    5                       ELSE
      618    13797    5                           T_OU$ -> OU_ENTRY.ENTDEF$ = AVAIL$;
      619    13798    5                       TEMP1 = HEAD$ -> B$OUHEAD.EDEFPSIZ;
      620    13799    5                       END;
      621    13800    5                   ELSE DO;
      622    13801    5                       TEMP = HEAD$ -> B$OUHEAD.SDEFSIZ;
      623    13802    5                       IF TEMP = 0 THEN
      624    13803    5                           T_OU$ -> OU_ENTRY.SYMDEF$ = ADDR(NIL);
      625    13804    5                       ELSE
      626    13805    5                           T_OU$ -> OU_ENTRY.SYMDEF$ = AVAIL$;
      627    13806    5                       TEMP1 = HEAD$ -> B$OUHEAD.SDEFPSIZ;
      628    13807    5                       END;
      629    13808    4                   IF TEMP ~= 0
      630    13809    5                   THEN DO;
      631    13810    5                       NEW$ = AVAIL$;
      632    13811    5                       AVAIL$ = PINCRW ( NEW$, TEMP );
      633    13812    5                       CALL LLE$READOU ( HEAD$ -> B$OUHEAD.UTS,
      634    13813    5                          ( L + 2 ) * 2, TEMP * 4,
      635    13814    5                          TEMP1 * 4, NEW$ );
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:22   
      636    13815    6                       DO J = 0 TO TEMP - 2 BY 2;
      637    13816    6                           PINCRW(NEW$,J) -> LL_ENTDEF.NPOINTER =
      638    13817    6                              PINCRW(NEW$,J) -> LL_ENTDEF.NPOINTER
      639    13818    6                              + PSIZE;
      640    13819    6                           END;
      641    13820    5                       IF (L = 0) THEN
      642    13821    5                           CALL LLG$GROW (LL_ENTDEF_R$, NEW$, TEMP/2,
      643    13822    5                              T_OU$, AVAIL$, NAME$, 4);
      644    13823    5                       ELSE
      645    13824    5                           CALL LLG$GROW (LL_SYMDEF_R$, NEW$, TEMP/2,
      646    13825    5                              T_OU$, AVAIL$, NAME$, 6);
      647    13826    5                       END; /* IF TEMP ~= 0 */
      648    13827    4                   END;
      649    13828    3               CALL LLM$MON_SVC (LL#POSTOHEAD, ADDR(NIL), ADDR(NIL), EF_KEY);
      650    13829    3               PSIZE = PSIZE + HEAD$ -> B$OUHEAD.DNAMSIZ;
      651    13830    3               SPTR$ -> OU_ENTRY.NEXT$ = T_OU$;
      652    13831    3               T_OU$ -> OU_ENTRY.NEXT$ = ADDR(NIL);
      653    13832    3               SPTR$ = T_OU$;
      654    13833    3               T_OU$ = AVAIL$;
      655    13834    3               END;
      656    13835    2   REJECT_OF:
      657    13836    3           IF (LL_FLAGS.REJECT#) THEN DO;
      658    13837    3               HEAD$->B$OUHEAD = '0'B;
      659    13838    3               CALL INSERT (LL_DOBUF,0,,'A  ***Specified file has no ',
      660    13839    3                  'head record.  Ignoring ',
      661    13840    3                  LL_OF$->OU_FID.NAME(I));
      662    13841    3               CALL LLM$MON_SVC (LL#WRITEDO);
      663    13842    3               LL_HEAD.SEV = 16; /* Abort after pass 1 .. bad ou */
      664    13843    3               END;
      665    13844    2           LL_FLAGS.REJECT# = '1'B;
      666    13845    2           GOTO CLOSE_CURRENT_OF;
      667    13846    2   NO_SECTS:
      668    13847    2           CALL INSERT (LL_DOBUF,0,,'A  ***Specified object unit has no ',
      669    13848    2              'section entries.  Ingoring ',
      670    13849    2              T_OU$ -> OU_ENTRY.OUNAME.TEXT);
      671    13850    2           CALL LLM$MON_SVC (LL#WRITEDO);
      672    13851    2   CLOSE_CURRENT_OF:
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:23   
      673    13852    2           CALL LLM$MON_SVC (LL#CLOSEEF);
      674    13853    2           END;
      675    13854
      676    13855         /*
      677    13856            Stuff LIBNAME and ASLNAME in the head record.
      678    13857         */
      679    13858
      680    13859    1       TPTR$ = LL_R_OU$;
      681    13860    1       IF NOT LL_FLAGS.SHARELIB# AND NOT LL_FLAGS.NOSH#
      682    13861    1       THEN
      683    13862    2       DO WHILE ( TPTR$ ~= ADDR(NIL) AND LL_HEAD.LIBNAME.CNT = 0 );
      684    13863    2           SPTR$ = TPTR$ -> OU_ENTRY.HEAD$;
      685    13864    3           IF SPTR$ -> B$OUHEAD.LNAMSIZ ~= 0 THEN DO;
      686    13865    3               IF LL_FLAGS.SLIB#
      687    13866    3               THEN
      688    13867    4               DO;
      689    13868    4                   CALL CONCAT(LL_DOBUF,'A  ***  Request for the shared library '
      690    13869    4                      ,SUBSTR(SPTR$->B$OUHEAD.LNAM,0,SPTR$->B$OUHEAD.LNAMSIZ),
             13869                               ' with the');
      691    13870    4                   CALL LLM$MON_SVC(LL#WRITEDO);
      692    13871    4                   CALL INSERT(LL_DOBUF,0,,'A       SLIB option in effect.');
      693    13872    4                   CALL LLM$MON_SVC(LL#WRITEDO);
      694    13873    4                   CALL LLM$MON_SVC(LL#ERR);
      695    13874    4                   END;
      696    13875    3               LL_HEAD.LIBNAME.CNT = SPTR$ -> B$OUHEAD.LNAMSIZ;
      697    13876    3               LL_HEAD.LIBNAME.TXT = SPTR$ -> B$OUHEAD.LNAM;
      698    13877    3               LL_SLIB_NAME = SPTR$->B$OUHEAD.LNAM;
      699    13878    3               IF NOT LL_FLAGS.BIAS_OU
      700    13879    3               THEN
      701    13880    3                   LL_FLAGS.SHARELIB# = '1'B;
      702    13881    3               EXIT;
      703    13882    3               END;
      704    13883    2           TPTR$ = TPTR$ -> OU_ENTRY.NEXT$;
      705    13884    2           END;
      706    13885    1       IF LL_FLAGS.SHARELIB#
      707    13886    1       THEN
      708    13887    2       DO;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:24   
      709    13888    2           CALL M$FID(FID_SLIB);
      710    13889    2           IF FID_RESULTS.ACCT
      711    13890    2           THEN OPEN_SLIB.ACCT_ = VECTOR(SLIB_ACCT);
      712    13891    2           ELSE OPEN_SLIB.ACCT_ = VECTOR(LIB_ACCT);
      713    13892    2           CALL M$OPEN(OPEN_SLIB)
      714    13893    3           WHENRETURN DO;
      715    13894    3               CALL INDEX(CODE,' ',LL_SLIB_NAME,0);
      716    13895    3               IF FID_RESULTS.ACCT
      717    13896    3               THEN CALL INSERT(LL_LOBUF,0,,'A  * ',SUBSTR(LL_SLIB_NAME,0,CODE),
             13896                        '(Shared Library) associated.');
      718    13897    3               ELSE CALL INSERT(LL_LOBUF,0,,'A  * ',SUBSTR(LL_SLIB_NAME,0,CODE),'.:SYS'
             13897                        ,'(Shared Library) associated.');
      719    13898    3               CALL LLM$MON_SVC(LL#WRITELO);
      720    13899    3               END;
      721    13900    3           WHENALTRETURN DO;
      722    13901    3               CODE = B$TCB$->B$TCB.ALT$->B$ALT.ERR.CODE;
      723    13902    3               IF CODE = %E$NOACCESS
      724    13903    3               THEN CALL M$MERC;
      725    13904    3               ELSE
      726    13905    4               DO;
      727    13906    4                   CALL INDEX(I,' ',LL_SLIB_NAME,0);
      728    13907    4                   IF FID_RESULTS.ACCT
      729    13908    4                   THEN CALL INSERT(LL_DOBUF,0,,'A  *** File ',
      730    13909    4                          SUBSTR(LL_SLIB_NAME,0,I),
      731    13910    4                          ' not exist');
      732    13911    4                   ELSE
      733    13912    4                       CALL INSERT(LL_DOBUF,0,,'A  *** File ',SUBSTR(LL_HEAD.LIBNAME.
             13912                                TXT,0,LL_HEAD.LIBNAME.CNT),
      734    13913    4                          ' not exist in :SYS');
      735    13914    4                   CALL LLM$MON_SVC(LL#WRITEDO);
      736    13915    4                   END;
      737    13916    3               CALL LLM$MON_SVC(LL#ERR);
      738    13917    3               END;
      739    13918    2           READ_SLIB_HEAD.BUF_.BOUND = SIZEC(SLIB_HEAD);
      740    13919    2           READ_SLIB_HEAD.BUF_.BUF$ = ADDR(SLIB_HEAD);
      741    13920    2           CALL M$READ(READ_SLIB_HEAD)
      742    13921    3           WHENALTRETURN DO;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:25   
      743    13922    3               CALL INSERT(LL_DOBUF,0,,'A ***The specified key does not exist in ',
             13922                        SUBSTR(LL_SLIB_NAME,0,CODE));
      744    13923    3               CALL LLM$MON_SVC(LL#WRITEDO);
      745    13924    3               CALL INSERT(LL_DOBUF,0,,'A ***While reading head for shared library:',
             13924                        SUBSTR(LL_SLIB_NAME,0,CODE));
      746    13925    3               CALL LLM$MON_SVC(LL#WRITEDO);
      747    13926    3               CALL LLM$MON_SVC(LL#ERR);
      748    13927    3               END;
      749    13928    2           TEMP = SLIB_HEAD.NRECSIZE;
      750    13929    2           IF TEMP = 0 THEN GOTO NO_DEF;
      751    13930    2           SLIB_KEY.KEYSIZ = 5;
      752    13931    2           SLIB_KEY.ISADDR = 0;
      753    13932    3           DO WHILE '1'B;
      754    13933    3               IF TEMP + PSIZE <= LL_DNAME_VEC.BOUND THEN EXIT;
      755    13934    3               CALL M$GDS (DNAME_FPT) ALTRET (NO_MEM);
      756    13935    3               END;
      757    13936    2           READ_SLIB.BUF_.BUF$ = PINCRW(NAME$,PSIZE);
      758    13937    2           READ_SLIB.BUF_.BOUND = TEMP * 4 - 1;
      759    13938    2           SLIB_KEY.TYPE = %TYPDNAM;
      760    13939    2           READ_SLIB.KEY_ = VECTOR(SLIB_KEY);
      761    13940    2           CALL M$READ(READ_SLIB) ALTRET(NO_DEF);
      762    13941    2           TEMP = (DCBADDR(DCBNUM(M$LI))->B$DCB.ARS#+1) / 4;
      763    13942    3           DO WHILE('0'B);
      764    13943    3   NO_DEF:
      765    13944    3               LL_DOBUF ='A  *** Require DEF record in shared library is missing';
      766    13945    3               CALL LLM$MON_SVC(LL#WRITEDO);
      767    13946    3               CALL LLM$MON_SVC(LL#ERR);
      768    13947    3               END;
      769    13948    2           X = PSIZE;
      770    13949    2           PSIZE = PSIZE + TEMP;
      771    13950    3           DO L = %TYPEDEF TO %TYPSDEF BY 2;
      772    13951    3               IF L = %TYPEDEF
      773    13952    3               THEN
      774    13953    3                   TEMP = SLIB_HEAD.EPRECSIZE;
      775    13954    3               ELSE
      776    13955    3                   TEMP = SLIB_HEAD.EDRECSIZE;
      777    13956    3               SLIB_KEY.TYPE = L;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:26   
      778    13957    3               Z = (TEMP/SIZEW(B$SDEF)) * (SIZEW(B$SDEF)+SIZEW(NODE));
      779    13958    3               CALL LLM$MON_SVC(LL#GETMEM,Z,AVAIL$);
      780    13959    3               READ_SLIB.BUF_.BUF$ = AVAIL$;
      781    13960    3               READ_SLIB.BUF_.BOUND = TEMP * 4 - 1;
      782    13961    3               READ_SLIB.KEY_ = VECTOR(SLIB_KEY);
      783    13962    3               CALL M$READ(READ_SLIB) ALTRET(NO_RECORD);
      784    13963    3               TEMP = DCBADDR(DCBNUM(M$LI))->B$DCB.ARS#/4;
      785    13964    3               IF TEMP = 0 THEN GOTO NO_RECORD;
      786    13965    4               IF L = %TYPSDEF THEN DO;
      787    13966    5                   DO J = 0 TO TEMP-2 BY 2;
      788    13967    5                       PINCRW(AVAIL$,J)->B$SDEF.NPOINTER
      789    13968    5                          = PINCRW(AVAIL$,J)->B$SDEF.NPOINTER + X;
      790    13969    5                       IF PINCRW(AVAIL$,J)->B$SDEF.LFLAGS.SOURCE ~= %SOURCE_REMOVED#
      791    13970    5                       THEN
      792    13971    5                           PINCRW(AVAIL$,J)->B$SDEF.LFLAGS.SOURCE = %SOURCE_SLIB#;
      793    13972    5                       END;
      794    13973    4                   END;
      795    13974    4               ELSE DO;
      796    13975    5                   DO J = 0 TO TEMP-2 BY 2;
      797    13976    5                       PINCRW(AVAIL$,J)->B$SDEF.NPOINTER
      798    13977    5                          = PINCRW(AVAIL$,J)->B$SDEF.NPOINTER + X;
      799    13978    5                       IF PINCRW(AVAIL$,J)->B$SDEF.AD.LFLAGS.SOURCE ~= %SOURCE_REMOVED#
      800    13979    5                       THEN
      801    13980    5                           PINCRW(AVAIL$,J)->B$SDEF.AD.LFLAGS.SOURCE = %SOURCE_SLIB#;
      802    13981    5                       END;
      803    13982    4                   END;
      804    13983    3               TPTR$ = AVAIL$;
      805    13984    3               AVAIL$ = PINCRW(AVAIL$,TEMP);
      806    13985    3               IF L = %TYPSDEF THEN
      807    13986    3                   CALL LLG$GROW(LL_SYMDEF_R$,TPTR$,TEMP/SIZEW(B$SDEF),ADDR(NIL),AVAIL$
             13986                            ,NAME$,%TYPSDEF);
      808    13987    3               ELSE
      809    13988    3                   CALL LLG$GROW(LL_ENTDEF_R$,TPTR$,TEMP/SIZEW(B$EDEF),ADDR(NIL),AVAIL$
             13988                            ,NAME$,%TYPEDEF);
      810    13989    4               DO WHILE('0'B);
      811    13990    4   NO_RECORD:
      812    13991    4                   IF L = %TYPEDEF
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:27   
      813    13992    4                   THEN
      814    13993    5                   DO;
      815    13994    5                       LL_DOBUF =
             13994                                'A  *** Required ENTDEF record in shared library is missing'
             13994                                ;
      816    13995    5                       CALL LLM$MON_SVC(LL#WRITEDO);
      817    13996    5                       CALL LLM$MON_SVC(LL#ERR);
      818    13997    5                       END;
      819    13998    4                   END;
      820    13999    3               END;
      821    14000    2           CALL M$CLOSE(CLOSE_SLIB);
      822    14001    2           END;
      823    14002    1       LL_HEAD.NRECSIZE = PSIZE;
      824    14003    1       LL_HEAD.PRECSIZE = LL_PRECSIZE;
      825    14004    1       LL_HEAD.EDRECSIZE = LL_EDRECSIZE;
      826    14005    1       LL_HEAD.EPRECSIZE = LL_EPRECSIZE;
      827    14006    1       IF LL_FLAGS.VECTOR#
      828    14007    1       THEN
      829    14008    2       DO;
      830    14009    2           LL_TOPOMEM$ = AVAIL$;
      831    14010    2           CALL LLT$BUILD_VECTOR;
      832    14011    2           AVAIL$ = LL_TOPOMEM$;
      833    14012    2           PSIZE = LL_HEAD.NRECSIZE;
      834    14013    2           END;
      835    14014        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:28   
      836    14015    1       IF (LL_HEAD.UDCBNUM > 0 AND LL_FLAGS.SLIB#)
      837    14016    1       THEN
      838    14017    2       DO;
      839    14018    2           LL_DOBUF ='A *** User DCBs encountered but SLIB option is specified';
      840    14019    2           CALL LLM$MON_SVC(LL#WRITEDO);
      841    14020    2           CALL LLM$MON_SVC(LL#ERR);
      842    14021    2           END;
      843    14022    1       LL_STATE = LL#ALLOCATING;
      844    14023
      845    14024         /*
      846    14025            Time to make SYMDEFs to go along with the DCBS.  System DCBS get
      847    14026            numbers between 1 and 5.  The first user specified DCB gets a
      848    14027            number of 10, incremented by one for each new DCB control section
      849    14028            on our list.
      850    14029         */
      851    14030
      852    14031    2       IF NOT LL_FLAGS.NOEDITING# THEN DO; /* Build a read only segment */
      853    14032    2           TEMP = %G_SYS_DCBS# * ( SIZEW(NODE) + SIZEW(B$SDEF) );
      854    14033    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);
      855    14034    3           DO DCB_COUNT = 1 TO %G_SYS_DCBS#;
      856    14035    4               IF DCB_ALLOCATED(DCB_COUNT) THEN DO;
      857    14036
      858    14037         /*
      859    14038            We have a system DCB (one of M$DEBUG, M$LM, M$ME, M$HOST or M$DO).
      860    14039            Build a constant SYMDEF for it.  DCB number for constant is in
      861    14040            DCB_COUNT.  Name pointer for the constant is in DCB_NPOINTERS
      862    14041            indexed by DCB_COUNT.
      863    14042         */
      864    14043
      865    14044    4                   TPTR$ = AVAIL$;
      866    14045    4                   AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));
      867    14046    4                   TPTR$ -> B$SDEF = '0'B;
      868    14047    4                   TPTR$ -> B$SDEF.NPOINTER = DCB_NPOINTERS(DCB_COUNT);
      869    14048    4                   TPTR$ -> B$SDEF.VALUE = DCB_COUNT;
      870    14049    4                   TPTR$ -> B$SDEF.CONSTNT = '1'B;
      871    14050    4                   TPTR$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;
      872    14051    4                   CALL LLG$GROW (LL_SYMDEF_R$, TPTR$, 1, ADDR(NIL), AVAIL$,
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:29   
      873    14052    4                      NAME$, %TYPSDEF);
      874    14053    4                   END;
      875    14054    3               END;
      876    14055
      877    14056         /*
      878    14057            All the system DCBs that we need are built.  Allocation does the
      879    14058            rest.  Now it's time to kludge together user DCBs.  This is even
      880    14059            easier than putting together the system guys.  The DCBNUM of the
      881    14060            first DCB is 10 (FRST_USR_DCB) and is incremented by 1 for each
      882    14061            successive entry on the read-only chain of control sections.
      883    14062         */
      884    14063
      885    14064    2           DCB_COUNT = %G_FRST_USR_DCB#;
      886    14065    2           SECT$ = LL_R_ROSE$;
      887    14066    2           TEMP = LL_HEAD.UDCBNUM * ( SIZEW(B$SDEF) + SIZEW(NODE) );
      888    14067    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);
      889    14068    3           DO WHILE ( SECT$ ~= ADDR(NIL) );
      890    14069    3               DCB$ = SECT$ -> SECT_ENTRY.SECTION$;
      891    14070    3               TPTR$ = AVAIL$;
      892    14071    3               TPTR$ -> B$SDEF = '0'B;
      893    14072    3               TPTR$ -> B$SDEF.NPOINTER = DCB$ -> B$SECTION.NPOINTER;
      894    14073    3               TPTR$ -> B$SDEF.VALUE = DCB_COUNT;
      895    14074    3               TPTR$ -> B$SDEF.CONSTNT = '1'B;
      896    14075    3               TPTR$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;
      897    14076    3               AVAIL$ = PINCRW(TPTR$, SIZEW(B$SDEF));
      898    14077    3               CALL LLG$GROW (LL_SYMDEF_R$, TPTR$, 1, ADDR(NIL), AVAIL$,
      899    14078    3                  NAME$, %TYPSDEF);
      900    14079    3               SECT$ = SECT$ -> SECT_ENTRY.NEXT$;
      901    14080    3               DCB_COUNT = DCB_COUNT + 1;
      902    14081    3               END;
      903    14082
      904    14083         /*
      905    14084            Build defs for G$JIT$ (.1002) and G$PIA$ (.1014).  To do this, we
      906    14085            need to extend the names record.  At the same time, we should also
      907    14086            extend the names record to contain G_VERSION, G_PATCHI, G_PATCHIH,
      908    14087            G_PATCHD, G_PATCHDH, G$ROS$ and G$TCB$.  If any more names need to
      909    14088            be added later, let it be done here!
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:30   
      910    14089         */
      911    14090
      912    14091    2           G_VERSION_OFFSET = PSIZE;
      913    14092    2           CALL ADD_NAME(G_VERSION_NAME);
      914    14093    2           G_ROS_OFFSET = PSIZE;
      915    14094    2           CALL ADD_NAME(G_ROS_NAME);
      916    14095    2           G_TCB_OFFSET = PSIZE;
      917    14096    2           CALL ADD_NAME(G_TCB_NAME);
      918    14097    2           G_PIA_OFFSET = PSIZE;
      919    14098    2           CALL ADD_NAME(G_PIA_NAME);
      920    14099    2           G_JIT_OFFSET = PSIZE;
      921    14100    2           CALL ADD_NAME(G_JIT_NAME);
      922    14101    2           G_AUTO_DS_OFFSET = PSIZE;
      923    14102    2           CALL ADD_NAME(G_AUTO_DS_NAME);
      924    14103    2           G_AUTO_T_OFFSET = PSIZE;
      925    14104    2           CALL ADD_NAME(G_AUTO_T_NAME);
      926    14105    2           LINK_SUPPLIED_OFFSET = PSIZE;
      927    14106    2           CALL ADD_NAME(LINK_SUPPLIED_NAMES);
      928    14107    2           END;
      929    14108    2       IF LL_IPATCH > 0 THEN DO; /* Add IPATCH names */
      930    14109    2           G_PATCHIH_OFFSET = PSIZE;
      931    14110    2           CALL ADD_NAME(G_PATCHIH_NAME);
      932    14111    2           G_PATCHI_OFFSET = PSIZE;
      933    14112    2           CALL ADD_NAME(G_PATCHI_NAME);
      934    14113    2           END;
      935    14114    2       IF LL_DPATCH > 0 THEN DO; /* Add DPATCH names */
      936    14115    2           G_PATCHDH_OFFSET = PSIZE;
      937    14116    2           CALL ADD_NAME(G_PATCHDH_NAME);
      938    14117    2           G_PATCHD_OFFSET = PSIZE;
      939    14118    2           CALL ADD_NAME(G_PATCHD_NAME);
      940    14119    2           END;
      941    14120    1       IF LL_VECTOR_DATA > 0
      942    14121    1       THEN
      943    14122    2       DO;
      944    14123    2           UNUSED_OFFSET = PSIZE;
      945    14124    2           CALL ADD_NAME(UNUSED_DATA_NAME);
      946    14125    2           END;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:31   
      947    14126    1       LL_HEAD.NRECSIZE = PSIZE;
      948    14127    1       CALL LLM$MON_SVC (LL#WRITERU, NAME$, PSIZE * 4 - 1, B$RUKEY);
      949    14128
      950    14129         /*
      951    14130            Ugliness is done.  Lets go do our allocation now.  Names record
      952    14131            can stay in memory for ever and ever now that it has everything
      953    14132            it needs.  AVAIL$ points at the word following the last word
      954    14133            in the names record (top of memory).
      955    14134         */
      956    14135    1       IF LL_FLAGS.SHARELIB# AND LL_FLAGS.BIAS#
      957    14136    1       THEN
      958    14137    2       DO;
      959    14138    2           IF LL_VAL_BIAS ~= SLIB_HEAD.BIAS
      960    14139    2           THEN
      961    14140    3           DO;
      962    14141    3               CALL LLI$BINHEX(LL_VAL_BIAS,6,HEXSTR);
      963    14142    3               CALL CONCAT(LL_DOBUF,'A  *** Program BIAS ',HEXSTR,
      964    14143    3                  ' is not synch with shared library bias;');
      965    14144    3               CALL LLM$MON_SVC(LL#WRITEDO);
      966    14145    3               CALL CONCAT(LL_DOBUF,'B  *** library bias .10000 will be used.');
      967    14146    3               CALL LLM$MON_SVC(LL#WRITEDO);
      968    14147    3               LL_VAL_BIAS = SLIB_HEAD.BIAS;
      969    14148    3               END;
      970    14149    2           END;
      971    14150
      972    14151    1       IF LL_HEAD.SEV > LL_VAL_SL THEN RETURN;
      973    14152    2       IF LL_FLAGS.MAP# THEN DO;
      974    14153    2           LL_DOBUF = 'A        * * ALLOCATION SUMMARY * *';
      975    14154    2           CALL LLM$MON_SVC (LL#WRITEDO);
      976    14155    2           LL_DOBUF = 'B PROTECTION          LOCATION       PAGES';
      977    14156    2           CALL LLM$MON_SVC (LL#WRITEDO);
      978    14157    2           END;
      979    14158
      980    14159         /*
      981    14160            Check to see if any patch space has been requested.  If so,
      982    14161            reserve data patch area at the end of the data control sections
      983    14162            and instruction patch area at the end of proc control sections.
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:32   
      984    14163         */
      985    14164
      986    14165         /*
      987    14166            Reserve any data patch space.
      988    14167         */
      989    14168
      990    14169    2       IF LL_DPATCH > 0 THEN DO;
      991    14170    2           TEMP = SIZEW(B$SECTION) + SIZEW(SECT_ENTRY);
      992    14171    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);
      993    14172    2           AVAIL$ -> B$SECTION = '0'B;
      994    14173    2           AVAIL$ -> B$SECTION.TYPE = %DATASECTION;
      995    14174    2           AVAIL$ -> B$SECTION.INITZERO = '1'B;
      996    14175    2           AVAIL$ -> B$SECTION.SIZE = LL_DPATCH + 3;
      997    14176    2           AVAIL$ -> B$SECTION.NPOINTER = G_PATCHD_OFFSET;
      998    14177    2           IF LL_FLAGS.BIAS_OU
      999    14178    2           THEN
     1000    14179    2               BIAS = LL_T_DATA$->SECT_ENTRY.BIAS;
     1001    14180    3           IF LL_R_DATA$ ~= ADDR ( NIL ) THEN DO;
     1002    14181    3               LL_T_DATA$ -> SECT_ENTRY.NEXT$ = PINCRW(AVAIL$, SIZEW(B$SECTION));
     1003    14182    3               LL_T_DATA$ = LL_T_DATA$ -> SECT_ENTRY.NEXT$;
     1004    14183    3               END;
     1005    14184    3           ELSE DO;
     1006    14185    3               LL_R_DATA$ = PINCRW(AVAIL$, SIZEW(B$SECTION));
     1007    14186    3               LL_T_DATA$ = LL_R_DATA$;
     1008    14187    3               END;
     1009    14188    2           LL_T_DATA$ -> SECT_ENTRY.BROTHER$ = ADDR(NIL);
     1010    14189    2           LL_T_DATA$ -> SECT_ENTRY.NEXT$ = ADDR(NIL);
     1011    14190    2           LL_T_DATA$ -> SECT_ENTRY.OBJUNIT$ = ADDR(NIL);
     1012    14191    2           LL_T_DATA$ -> SECT_ENTRY.SECTION$ = AVAIL$;
     1013    14192    2           LL_T_DATA$ ->SECT_ENTRY.BIAS = BIAS;
     1014    14193    2           DPATCH$ = LL_T_DATA$;
     1015    14194    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(SECT_ENTRY) + SIZEW(B$SECTION));
     1016    14195    2           END;
     1017    14196
     1018    14197         /* Reserve data space for transfer vector DATA option */
     1019    14198
     1020    14199    1       IF LL_VECTOR_DATA > 0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:33   
     1021    14200    1       THEN
     1022    14201    2       DO;
     1023    14202    2           TEMP = SIZEW(B$SECTION) + SIZEW(SECT_ENTRY);
     1024    14203    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);
     1025    14204    2           AVAIL$->B$SECTION = '0'B;
     1026    14205    2           AVAIL$->B$SECTION.TYPE = %DATASECTION;
     1027    14206    2           AVAIL$->B$SECTION.INITZERO = '1'B;
     1028    14207    2           AVAIL$->B$SECTION.BOUND = %EVENBOUNDSECTION;
     1029    14208    2           AVAIL$->B$SECTION.SIZE = LL_VECTOR_DATA;
     1030    14209    2           AVAIL$->B$SECTION.NPOINTER = UNUSED_OFFSET;
     1031    14210    2           DATA$ = AVAIL$;
     1032    14211    2           IF LL_R_DATA$ ~= ADDR(NIL)
     1033    14212    2           THEN
     1034    14213    3           DO;
     1035    14214    3               LL_T_DATA$->SECT_ENTRY.NEXT$ = PINCRW(AVAIL$,SIZEW(B$SECTION));
     1036    14215    3               LL_T_DATA$ = LL_T_DATA$->SECT_ENTRY.NEXT$ ;
     1037    14216    3               END;
     1038    14217    2           ELSE
     1039    14218    3           DO;
     1040    14219    3               LL_R_DATA$ = PINCRW(AVAIL$,SIZEW(B$SECTION));
     1041    14220    3               LL_T_DATA$ = LL_R_DATA$;
     1042    14221    3               END;
     1043    14222    2           LL_T_DATA$->SECT_ENTRY.BROTHER$ = ADDR(NIL);
     1044    14223    2           LL_T_DATA$->SECT_ENTRY.NEXT$ = ADDR(NIL);
     1045    14224    2           LL_T_DATA$->SECT_ENTRY.OBJUNIT$ = ADDR(NIL);
     1046    14225    2           LL_T_DATA$->SECT_ENTRY.SECTION$ = AVAIL$;
     1047    14226    2           AVAIL$ = PINCRW(AVAIL$,SIZEW(SECT_ENTRY) + SIZEW(B$SECTION));
     1048    14227    2           END;
     1049    14228
     1050    14229         /*
     1051    14230            Reserve any instruction patch space.
     1052    14231         */
     1053    14232
     1054    14233    2       IF LL_IPATCH > 0 THEN DO;
     1055    14234    2           TEMP = SIZEW(B$SECTION) + SIZEW(SECT_ENTRY);
     1056    14235    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);
     1057    14236    2           AVAIL$ -> B$SECTION = '0'B;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:34   
     1058    14237    2           AVAIL$ -> B$SECTION.TYPE = %CODESECTION;
     1059    14238    2           AVAIL$ -> B$SECTION.INITZERO = '1'B;
     1060    14239    2           AVAIL$ -> B$SECTION.SIZE = LL_IPATCH + 3;
     1061    14240    2           AVAIL$ -> B$SECTION.NPOINTER = G_PATCHI_OFFSET;
     1062    14241    2           IF LL_FLAGS.BIAS_OU
     1063    14242    2           THEN
     1064    14243    2               BIAS = LL_T_CODE$->SECT_ENTRY.BIAS;
     1065    14244    3           IF LL_R_CODE$ ~= ADDR(NIL) THEN DO;;
     1066    14245    3               LL_T_CODE$ -> SECT_ENTRY.NEXT$ = PINCRW(AVAIL$, SIZEW(B$SECTION));
     1067    14246    3               LL_T_CODE$ = LL_T_CODE$ -> SECT_ENTRY.NEXT$;
     1068    14247    3               END;
     1069    14248    3           ELSE DO;
     1070    14249    3               LL_T_CODE$ = PINCRW(AVAIL$, SIZEW(B$SECTION));
     1071    14250    3               LL_R_CODE$ = LL_T_CODE$;
     1072    14251    3               END;
     1073    14252    2           LL_T_CODE$ -> SECT_ENTRY.BROTHER$ = ADDR(NIL);
     1074    14253    2           LL_T_CODE$ -> SECT_ENTRY.NEXT$ = ADDR(NIL);
     1075    14254    2           LL_T_CODE$ -> SECT_ENTRY.OBJUNIT$ = ADDR(NIL);
     1076    14255    2           LL_T_CODE$ -> SECT_ENTRY.SECTION$ = AVAIL$;
     1077    14256    2           LL_T_CODE$ -> SECT_ENTRY.BIAS = BIAS;
     1078    14257    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(SECT_ENTRY) + SIZEW(B$SECTION));
     1079    14258    2           END;
     1080    14259
     1081    14260         /*
     1082    14261            Reserve memory for G$TCB$ and G$ROS$.  To do that, build a
     1083    14262            control section which reserves 4 words (2 pointers worth or
     1084    14263            memory).  Since the pointers have to be the first four words
     1085    14264            of FEP memory, they must be linked onto the chain of CODE
     1086    14265            sections at its head.  (G_VERSION goes here too - 4 words)
     1087    14266         */
     1088    14267
     1089    14268    1       IF NOT LL_FLAGS.NOEDITING#
     1090    14269    1       THEN
     1091    14270    2       DO;
     1092    14271    2           TEMP = SIZEW(B$SECTION) + SIZEW(SECT_ENTRY);
     1093    14272    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);
     1094    14273    2           AVAIL$ -> B$SECTION = '0'B;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:35   
     1095    14274    2           AVAIL$ -> B$SECTION.TYPE = %ROSECTION;
     1096    14275    2           AVAIL$ -> B$SECTION.INITZERO = '1'B;
     1097    14276    2           AVAIL$ -> B$SECTION.BOUND = %EVENBOUNDSECTION;
     1098    14277    2           AVAIL$ -> B$SECTION.SIZE = 8 /* Two pointers and one G_VERSION */;
     1099    14278    2           AVAIL$ -> B$SECTION.NPOINTER = LINK_SUPPLIED_OFFSET;
     1100    14279    2           IF LL_FLAGS.BIAS_OU THEN
     1101    14280    3           DO;
     1102    14281    3               SECT$=PINCRW(AVAIL$,SIZEW(B$SECTION));
     1103    14282    3               P$ = LL_R_CODE$;
     1104    14283    3               Q$ = P$;
     1105    14284    4               DO WHILE P$ ~= ADDR(NIL);
     1106    14285    4                   IF P$->SECT_ENTRY.SECTION$->B$SECTION.TYPE = 1
     1107    14286    4                   THEN
     1108    14287    5                   DO;
     1109    14288    5                       Q$->SECT_ENTRY.NEXT$ = SECT$;
     1110    14289    5                       SECT$->SECT_ENTRY.NEXT$ = P$;
     1111    14290    5                       SECT$->SECT_ENTRY.BROTHER$ = ADDR(NIL);
     1112    14291    5                       SECT$->SECT_ENTRY.OBJUNIT$ = ADDR(NIL);
     1113    14292    5                       SECT$->SECT_ENTRY.SECTION$ = AVAIL$;
     1114    14293    5                       SECT$->SECT_ENTRY.BIAS = P$->SECT_ENTRY.BIAS;
     1115    14294    5                       P$ = ADDR(NIL);
     1116    14295    5                       END;
     1117    14296    4                   ELSE
     1118    14297    5                   DO;
     1119    14298    5                       Q$ = P$;
     1120    14299    5                       P$ = P$->SECT_ENTRY.NEXT$;
     1121    14300    5                       END;
     1122    14301    4                   END;
     1123    14302    3               END;
     1124    14303    2           ELSE
     1125    14304    3           DO;
     1126    14305    4               IF LL_R_CODE$ ~= ADDR ( NIL ) THEN DO;
     1127    14306
     1128    14307         /*
     1129    14308            Code has been allocated, follow head links.
     1130    14309         */
     1131    14310
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:36   
     1132    14311    4                   SECT$ = LL_R_CODE$;
     1133    14312    4                   LL_R_CODE$ = PINCRW(AVAIL$, SIZEW(B$SECTION));
     1134    14313    4                   LL_R_CODE$ -> SECT_ENTRY.NEXT$ = SECT$;
     1135    14314    4                   END;
     1136    14315    4               ELSE DO;
     1137    14316
     1138    14317         /*
     1139    14318            No code has been allocated, initialize head/tail links.
     1140    14319         */
     1141    14320
     1142    14321    4                   LL_R_CODE$ = PINCRW(AVAIL$, SIZEW(B$SECTION));
     1143    14322    4                   LL_R_CODE$ -> SECT_ENTRY.NEXT$ = ADDR(NIL);
     1144    14323    4                   LL_T_CODE$ = LL_R_CODE$;
     1145    14324    4                   END;
     1146    14325    3               LL_R_CODE$ -> SECT_ENTRY.BROTHER$ = ADDR(NIL);
     1147    14326    3               LL_R_CODE$ -> SECT_ENTRY.OBJUNIT$ = ADDR(NIL);
     1148    14327    3               LL_R_CODE$ -> SECT_ENTRY.SECTION$ = AVAIL$;
     1149    14328    3               END;
     1150    14329    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(SECT_ENTRY) + SIZEW(B$SECTION));
     1151    14330    2           END;
     1152    14331
     1153    14332         /*
     1154    14333            Calculate BIAS.  Allow biasing only to segment boundaries.
     1155    14334         */
     1156    14335
     1157    14336    1       IF LL_VAL_BIAS >= 0
     1158    14337    2       THEN DO;
     1159    14338    2           IF LL_VAL_BIAS < 65536
     1160    14339    2           THEN TEMP = 4096;
     1161    14340    2           ELSE TEMP = 65536;
     1162    14341    2           IF LL_FLAGS.SLIB# OR LL_FLAGS.SHARELIB#
     1163    14342    2           THEN
     1164    14343    2               LL_VAL_BIAS = LL#SLIB_DBIAS;
     1165    14344    2           IF LL_VAL_BIAS > 0
     1166    14345    2           THEN
     1167    14346    2               LL_HEAD.BIAS = ( LL_VAL_BIAS / TEMP ) * TEMP;
     1168    14347    2           END;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:37   
     1169    14348
     1170    14349         /*
     1171    14350            Cycle through the read only segment stuff if we aren't editing
     1172    14351            and yell about any dcbs that are there.
     1173    14352         */
     1174    14353
     1175    14354    2       IF LL_FLAGS.NOEDITING# THEN DO;
     1176    14355    2           TPTR$ = LL_R_ROSE$;
     1177    14356    2           LL_FLAGS.VAL_ERR# = '0'B;
     1178    14357    3           DO WHILE ( TPTR$ ~= ADDR(NIL) );
     1179    14358    4               IF NOT LL_FLAGS.VAL_ERR# THEN DO;
     1180    14359    4                   LL_DOBUF = 'A ****NOEDITING was specified in the link command';
     1181    14360    4                   CALL LLM$MON_SVC (LL#WRITEDO);
     1182    14361    4                   LL_DOBUF =
             14361                            'A     and DCBs are present in the following object units:';
     1183    14362    4                   CALL LLM$MON_SVC (LL#WRITEDO);
     1184    14363    4                   LL_FLAGS.VAL_ERR# = '1'B;
     1185    14364    4                   END;
     1186    14365    3               SPTR$ = TPTR$ -> SECT_ENTRY.SECTION$;
     1187    14366    3               CALL CONCAT (LL_DOBUF, 'A         DCB ',
     1188    14367    3                  PINCRW(NAME$, SPTR$ -> B$SECTION.NPOINTER) -> B$DNAME.TEXT,
     1189    14368    3                  ' is referenced in object unit ',
     1190    14369    3                  TPTR$ -> SECT_ENTRY.OBJUNIT$ -> OU_ENTRY.OUNAME.TEXT );
     1191    14370    3               CALL LLM$MON_SVC (LL#WRITEDO);
     1192    14371    3               TPTR$ = TPTR$ -> SECT_ENTRY.NEXT$;
     1193    14372    3               LL_HEAD.SEV = 16;
     1194    14373    3               END;
     1195    14374    2           IF LL_HEAD.SEV = 16 THEN RETURN;
     1196    14375    2           END;
     1197    14376    1       TOTSIZE = 0;
     1198    14377    1       IDX = 0;
     1199    14378    1       CALL LLM$MON_SVC(LL#GETMEM,LL_PRECSIZE,AVAIL$);
     1200    14379    1       AVAIL$->RUWORD = '0'B;
     1201    14380    2       DO I = 0 TO 2;
     1202    14381    2           BIAS_OU_WORD = 0;
     1203    14382    2           LAST_UNIT_ADDR = 0;
     1204    14383    2           LAST_UNIT_SIZE = -1;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:38   
     1205    14384    3           DO CASE (I);
     1206    14385    3           CASE (1) ; /* Get root node for data */
     1207    14386    3               TPTR$ = LL_R_DATA$;
     1208    14387    3               LL_DATA_START = LL_HEAD.BIAS;
     1209    14388    3               LOCATION = LL_HEAD.BIAS;
     1210    14389    3               IF LL_FLAGS.SHARELIB#
     1211    14390    3               THEN LOCATION = LOCATION + SLIB_HEAD.RDATA;
     1212    14391    3               IF LL_FLAGS.BIAS_OU
     1213    14392    3               THEN
     1214    14393    4               DO;
     1215    14394    4                   LOCATION = TPTR$->SECT_ENTRY.BIAS;
     1216    14395    4                   LL_DATA_START = LOCATION;
     1217    14396    4                   LL_HEAD.BIAS = LL_DATA_START;
     1218    14397    4                   LOCATION_ARRAY.BIAS(IDX) = LOCATION;
     1219    14398    4                   IDX = IDX + 1;
     1220    14399    4                   END;
     1221    14400    3               ADDRESS = LOCATION;
     1222    14401    3           CASE (2) ; /* Get root node for code */
     1223    14402    3               TPTR$ = LL_R_CODE$;
     1224    14403    3               IF NOT LL_FLAGS.BIAS_OU
     1225    14404    3               THEN
     1226    14405    3                   CALL BOUND_UP( LOCATION );
     1227    14406    4               ELSE DO;
     1228    14407    4                   LOCATION = TPTR$->SECT_ENTRY.BIAS;
     1229    14408    4                   IF LOCATION = LOCATION_ARRAY.BIAS(0)
     1230    14409    4                   THEN
     1231    14410    5                   DO;
     1232    14411    5                       LOCATION =LOCATION_ARRAY.LAST(0);
     1233    14412    5                       CALL BOUND_UP( LOCATION );
     1234    14413    5                       END;
     1235    14414    4                   END;
     1236    14415    3               IF LL_FLAGS.SLIB#
     1237    14416    3               THEN
     1238    14417    4               DO;
     1239    14418    4                   LOCATION = LL_LPROC_START;
     1240    14419    4                   END;
     1241    14420    3               ADDRESS = LOCATION;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:39   
     1242    14421    3               LL_PROC_START = LOCATION;
     1243    14422    3           CASE (0); /* Get root node for read only */
     1244    14423    3               LL_RODATA_START = 4096;
     1245    14424    3               IF NOT LL_FLAGS.NOEDITING# THEN TPTR$ = LL_R_ROSE$;
     1246    14425    3               ELSE TPTR$ = ADDR(NIL);
     1247    14426    3               ADDRESS = 4096 + ( LL_HEAD.UDCBNUM + LL_HEAD.DCBRES ) * 2;
     1248    14427    3               LOCATION = 4096;
     1249    14428    3               END;
     1250    14429    2           IF LL_FLAGS.BIAS_OU
     1251    14430    2           THEN
     1252    14431    2               BIAS_OU_LOCATION = LOCATION;
     1253    14432    2           PRE_OU$ =TPTR$;
     1254    14433    2           HIGH_UNIT_ADDR = (LOCATION / LL_PRECMEM) * LL_PRECMEM;
     1255    14434    3           DO WHILE (TPTR$ ~= ADDR(NIL));
     1256    14435    3               IF LL_FLAGS.BIAS_OU AND
     1257    14436    3                  I ~= 0 AND
     1258    14437    3                  TPTR$->SECT_ENTRY.BIAS ~= PRE_OU$->SECT_ENTRY.BIAS
     1259    14438    4               THEN DO; /* Have new bias */
     1260    14439    4                   CALL ADD_TABLE_ARRAY;
     1261    14440    4                   LOCATION = TPTR$->SECT_ENTRY.BIAS;
     1262    14441    5                   DO CASE I;
     1263    14442    5                   CASE( 1 );
     1264    14443    5                       LOCATION_ARRAY.BIAS(IDX)=TPTR$->SECT_ENTRY.BIAS;
     1265    14444    5                       IDX = IDX +1;
     1266    14445    5                   CASE( 2 );
     1267    14446    6   FIND_BIAS:          DO K = 0 TO IDX;
     1268    14447    6                           IF LOCATION = LOCATION_ARRAY.BIAS(K)
     1269    14448    6                           THEN
     1270    14449    7                           DO; /* FOUND BIAS */
     1271    14450    7                               LOCATION =LOCATION_ARRAY.LAST(K);
     1272    14451    7                               CALL BOUND_UP( LOCATION );
     1273    14452    7                               EXIT FIND_BIAS;
     1274    14453    7                               END;
     1275    14454    6                           END FIND_BIAS; /* K = 0 TO IDX */
     1276    14455    5                       END; /* CASE I */
     1277    14456    4                   IF ADDRESS > LOCATION
     1278    14457    4                   THEN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:40   
     1279    14458    5                   DO;
     1280    14459    5                       CALL LLI$BINHEX(LOCATION,6,HEXSTR);
     1281    14460    5                       CALL CONCAT(LL_DOBUF,
     1282    14461    5                          'A *** OU Overlaps , next higher',
     1283    14462    5                          'segment address of BIAS=',
     1284    14463    5                          HEXSTR,' is used instead');
     1285    14464    5                       CALL LLM$MON_SVC(LL#WRITEDO);
     1286    14465    5                       IF LL_HEAD.SEV < 4
     1287    14466    5                       THEN
     1288    14467    5                           LL_HEAD.SEV = 4;
     1289    14468    5                       CALL ADD_TABLE_ARRAY;
     1290    14469    5                       CALL BOUND_UP( LOCATION );
     1291    14470    5                       END;
     1292    14471    4                   ADDRESS = LOCATION;
     1293    14472    4                   END; /* HAVE NEW BIAS */
     1294    14473    3               SECT$ = TPTR$ -> SECT_ENTRY.SECTION$;
     1295    14474    3               IF I = 1 AND LL_VECTOR_DATA > 0 AND SECT$ = DATA$
     1296    14475    3               THEN
     1297    14476    4               DO;
     1298    14477    4                   TEMP = ADDRESS - LOCATION;
     1299    14478    4                   IF TEMP > LL_VECTOR_DATA
     1300    14479    4                   THEN
     1301    14480    5                   DO;
     1302    14481    5                       LL_DOBUF =
             14481                           'A  *** Size of shared library data exceeds the maximum allowed.'
             14481                                ;
     1303    14482    5                       CALL LLM$MON_SVC(LL#WRITEDO);
     1304    14483    5                       CALL LLI$BINHEX(LL_VECTOR_DATA,6,HEXSTR);
     1305    14484    5                       CALL CONCAT(LL_DOBUF,'A      Maximum (Hexdecimal) = ',HEXSTR);
     1306    14485    5                       CALL LLM$MON_SVC(LL#WRITEDO);
     1307    14486    5                       CALL LLI$BINHEX(TEMP,6,HEXSTR);
     1308    14487    5                       CALL CONCAT(LL_DOBUF,'A      Allocation (Hexdecimal) = ',HEXSTR)
             14487                                ;
     1309    14488    5                       CALL LLM$MON_SVC(LL#WRITEDO);
     1310    14489    5                       CALL LLM$MON_SVC(LL#ERR);
     1311    14490    5                       END;
     1312    14491    5                   ELSE DO;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:41   
     1313    14492    5                       TEMP = LL_VECTOR_DATA - TEMP;
     1314    14493    5                       SECT$->B$SECTION.SIZE = TEMP - MOD (TEMP,2);
     1315    14494    5                       END;
     1316    14495    4                   END;
     1317    14496    4               DO CASE (SECT$ -> B$SECTION.BOUND);
     1318    14497    4               CASE (%EVENBOUNDSECTION);
     1319    14498    4                   IF SECT$->B$SECTION.TYPE ~= 5
     1320    14499    4                   THEN
     1321    14500    4                       ADDRESS = ((ADDRESS + 1) / 2) * 2;
     1322    14501    4               CASE (%ODDBOUNDSECTION);
     1323    14502    4                   ADDRESS = ((ADDRESS / 2) * 2) + 1;
     1324    14503    4               CASE (%EIGHTBOUNDSECTION);
     1325    14504    4                   ADDRESS = ((ADDRESS + 7) / 8) * 8;
     1326    14505    4               CASE (%PAGEBOUNDSECTION);
     1327    14506    4                   ADDRESS = ((ADDRESS + LL_PAGESIZE-1) / LL_PAGESIZE) * LL_PAGESIZE;
     1328    14507    4                   END;
     1329    14508    3               SECT$ -> LL_SECTION.TYPE = SECT$ -> B$SECTION.TYPE;
     1330    14509    3               SECT$ -> LL_SECTION.INITZERO = SECT$ -> B$SECTION.INITZERO;
     1331    14510    3               SECT$ -> LL_SECTION.INITUTS = SECT$ -> B$SECTION.INITUTS;
     1332    14511    3               SECT$ -> LL_SECTION.BOUND = SECT$ -> B$SECTION.BOUND;
     1333    14512    3               IF (SECT$ -> B$SECTION.SIZE = 0) THEN
     1334    14513    3                   SECT$ -> LL_SECTION.EMPTY = '1'B;
     1335    14514    3               ELSE
     1336    14515    3                   SECT$ -> LL_SECTION.EMPTY = '0'B;
     1337    14516    3               SECT$ -> LL_SECTION.SIZE = SECT$ -> B$SECTION.SIZE;
     1338    14517    3               TEMP = ADDRESS + SECT$ -> LL_SECTION.SIZE;
     1339    14518    3               IF ADDRESS < 65536
     1340    14519    4               THEN DO;
     1341    14520    4                   TEMP1 = ( ADDRESS / 4096 ) * 4096;
     1342    14521    4                   TEMP = ( TEMP / 4096 ) * 4096;
     1343    14522    4                   END;
     1344    14523    4               ELSE DO;
     1345    14524    4                   TEMP1 = ( ADDRESS / 65536 ) * 65536;
     1346    14525    4                   TEMP = ( TEMP / 65536 ) * 65536;
     1347    14526    4                   END;
     1348    14527    3               IF TEMP1 ~= TEMP AND
     1349    14528    3                  TEMP1 ~= ADDRESS
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:42   
     1350    14529    4               THEN DO;
     1351    14530    4                   CALL ADD_TABLE_ARRAY;
     1352    14531    4                   CALL BOUND_UP( ADDRESS );
     1353    14532    4                   IF LL_FLAGS.BIAS_OU THEN LOCATION = ADDRESS;
     1354    14533    4                   END;
     1355    14534    3               SECT$ -> LL_SECTION.ISADDR = ADDRESS;
     1356    14535    3               IF SECT$ -> LL_SECTION.TYPE ~= %DCBSECTION THEN
     1357    14536    3                   ADDRESS = ADDRESS + SECT$ -> LL_SECTION.SIZE;
     1358    14537    3               ELSE
     1359    14538    4               DO;
     1360    14539    4                   SECT$->LL_SECTION.NPOINTER = SECT$->B$SECTION.NPOINTER;
     1361    14540    4                   L = (PINCRW(NAME$,SECT$->B$SECTION.NPOINTER)->B$DNAME.COUNT+1+1)/2;
     1362    14541    4                   ADDRESS = ADDRESS + %L6_DCB_DCBNAME#+ L;
     1363    14542    4                   END;
     1364    14543    3               IF (LL_FLAGS.BIAS_OU) AND (I=1)
     1365    14544    3               THEN
     1366    14545    3                   LOCATION_ARRAY.LAST(IDX-1)=ADDRESS;
     1367    14546    3               PRE_OU$ = TPTR$;
     1368    14547    3               TPTR$ = TPTR$ -> SECT_ENTRY.NEXT$;
     1369    14548    3               LOW_UNIT_ADDR = HIGH_UNIT_ADDR;
     1370    14549    3               HIGH_UNIT_ADDR = ((ADDRESS - 1) / LL_PRECMEM) * LL_PRECMEM;
     1371    14550    3               HIGH_UNIT_SIZE = ADDRESS - HIGH_UNIT_ADDR;
     1372    14551    3               IF LOW_UNIT_ADDR > LAST_UNIT_ADDR
     1373    14552    3               THEN
     1374    14553    4               DO;
     1375    14554    4                   IF LAST_UNIT_SIZE > 0
     1376    14555    4                   THEN
     1377    14556    5                   DO;
     1378    14557    5                       BOUND = LAST_UNIT_SIZE * 2 -1;
     1379    14558    5                       PRGKEY.ISADDR = LAST_UNIT_ADDR;
     1380    14559    5                       CALL LLM$MON_SVC(LL#WRITERU,AVAIL$,BOUND,PRGKEY);
     1381    14560    5                       END;
     1382    14561    4                   END;
     1383    14562    3               BOUND = LL_PRECBOUND;
     1384    14563    3               IF LOW_UNIT_ADDR < HIGH_UNIT_ADDR
     1385    14564    3               THEN
     1386    14565    4               DO PRGKEY.ISADDR = LOW_UNIT_ADDR TO HIGH_UNIT_ADDR - LL_PRECMEM BY
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:43   
             14565                        LL_PRECMEM;
     1387    14566    4                   IF NOT LL_FLAGS.BIAS_OU THEN
     1388    14567    4                       CALL LLM$MON_SVC(LL#WRITERU,AVAIL$,BOUND,PRGKEY);
     1389    14568    4                   END;
     1390    14569    3               LAST_UNIT_ADDR = HIGH_UNIT_ADDR;
     1391    14570    3               LAST_UNIT_SIZE = HIGH_UNIT_SIZE;
     1392    14571    3               END; /* WHILE TPTR$~= ADD(NIL) */
     1393    14572    2           IF LL_FLAGS.BIAS_OU AND I ~= 0
     1394    14573    2           THEN
     1395    14574    3           DO;
     1396    14575    3               IF I = 1
     1397    14576    3               THEN LL_END_VALUE = ADDRESS;
     1398    14577    3               ELSE
     1399    14578    3                   IF I = 2
     1400    14579    3                   THEN LL_END_LOC = ADDRESS;
     1401    14580    3               CALL ADD_TABLE_ARRAY;
     1402    14581    3               PROGSIZE = (BIAS_OU_WORD + LL_PAGESIZE - 1) / LL_PAGESIZE;
     1403    14582    3               END;
     1404    14583    2           ELSE
     1405    14584    2               PROGSIZE = (ADDRESS - LOCATION + LL_PAGESIZE - 1) / LL_PAGESIZE;
     1406    14585    2           IF I = 1 AND LL_FLAGS.SHARELIB#
     1407    14586    2           THEN
     1408    14587    2               PROGSIZE = (ADDRESS-LOCATION+SLIB_HEAD.RDATA+LL_PAGESIZE-1)/LL_PAGESIZE;
     1409    14588    2           TOTSIZE = TOTSIZE + PROGSIZE;
     1410    14589    3           DO CASE (I);
     1411    14590    3           CASE (1) ;
     1412    14591    3               LL_DOBUF = 'A DATA';
     1413    14592    3               IF ( PROGSIZE > 0 ) THEN
     1414    14593    4               DO;
     1415    14594    4                   IF LL_FLAGS.BIAS_OU
     1416    14595    4                   THEN
     1417    14596    4                       LL_HEAD.RDATA = BIAS_OU_WORD;
     1418    14597    4                   ELSE
     1419    14598    5                   DO;
     1420    14599    5                       IF LL_FLAGS.SHARELIB#
     1421    14600    5                       THEN
     1422    14601    5                           LL_HEAD.RDATA = ADDRESS - LOCATION + SLIB_HEAD.RDATA;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:44   
     1423    14602    5                       ELSE
     1424    14603    5                           LL_HEAD.RDATA = ADDRESS - LOCATION;
     1425    14604    5                       END;
     1426    14605    4                   END;
     1427    14606    3               ELSE
     1428    14607    3                   LL_HEAD.RDATA = 0;
     1429    14608    3               LL_HEAD.VDPGS = PROGSIZE;
     1430    14609    3               IF LL_FLAGS.BIAS_OU
     1431    14610    3               THEN
     1432    14611    3                   LL_HEAD.VDPGS = (LL_END_VALUE-LL_DATA_START+LL_PAGESIZE-1)/
             14611                            LL_PAGESIZE;
     1433    14612    3           CASE (2) ;
     1434    14613    3               LL_DOBUF = 'A PROCEDURE';
     1435    14614    3               IF ( PROGSIZE > 0 ) THEN
     1436    14615    4               DO;
     1437    14616    4                   IF LL_FLAGS.BIAS_OU
     1438    14617    4                   THEN
     1439    14618    4                       LL_HEAD.RPROC = BIAS_OU_WORD;
     1440    14619    4                   ELSE
     1441    14620    4                       LL_HEAD.RPROC = ADDRESS - LOCATION;
     1442    14621    4                   END;
     1443    14622    3               ELSE
     1444    14623    3                   LL_HEAD.RPROC = 0;
     1445    14624    3               LL_HEAD.VPPGS = PROGSIZE;
     1446    14625    3               IF LL_FLAGS.BIAS_OU
     1447    14626    3               THEN
     1448    14627    3                   LL_HEAD.VPPGS = (LL_END_LOC-LL_PROC_START+LL_PAGESIZE-1)/LL_PAGESIZE
             14627                            ;
     1449    14628    3           CASE (0) ;
     1450    14629    3               LL_DOBUF = 'A READ ONLY';
     1451    14630    3               LL_HEAD.ROSIZE = ADDRESS - LOCATION;
     1452    14631    3               END;
     1453    14632    3           IF ( PROGSIZE > 0 ) THEN DO;
     1454    14633    3               IF (LL_FLAGS.BIAS_OU)
     1455    14634    3               THEN
     1456    14635    3                   CALL LLI$BINHEX (BIAS_OU_LOCATION,6,HEXSTR);
     1457    14636    3               ELSE
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:45   
     1458    14637    3                   CALL LLI$BINHEX (LOCATION, 6, HEXSTR);
     1459    14638    3               CALL INSERT (LL_DOBUF, 24,, HEXSTR);
     1460    14639    3               CALL LLI$BINHEX (PROGSIZE, 6, HEXSTR);
     1461    14640    3               CALL INSERT (LL_DOBUF, 36,, HEXSTR);
     1462    14641    4               IF LL_FLAGS.MAP# THEN DO;
     1463    14642    4                   CALL LLM$MON_SVC (LL#WRITEDO);
     1464    14643    4                   END;
     1465    14644    3               END;
     1466    14645    2           IF LAST_UNIT_SIZE > 0
     1467    14646    2           THEN
     1468    14647    3           DO;
     1469    14648    3               BOUND = LAST_UNIT_SIZE * 2 -1;
     1470    14649    3               PRGKEY.ISADDR = LAST_UNIT_ADDR;
     1471    14650    3               IF NOT LL_FLAGS.BIAS_OU
     1472    14651    3               THEN
     1473    14652    3                   CALL LLM$MON_SVC(LL#WRITERU,AVAIL$,BOUND,PRGKEY);
     1474    14653    3               END;
     1475    14654    2           LOCATION = ADDRESS;
     1476    14655    2           END; /* FOR I = 0 TO 2 */
     1477    14656    2       IF LL_FLAGS.START# THEN DO;
     1478    14657    2           LL_HEAD.START = LL_VAL_START;
     1479    14658    2           END;
     1480    14659    2       ELSE DO;
     1481    14660    3           IF LL_START$ = ADDR(NIL) THEN DO;
     1482    14661    3               LL_HEAD.START = 0;
     1483    14662    3               END;
     1484    14663    3           ELSE DO;
     1485    14664    3               LL_HEAD.START = PINCRW ( LL_START$ -> OU_ENTRY.SECT$,
     1486    14665    3                  LL_START$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.START.OPERAND *
     1487    14666    3                  SIZEW(B$SECTION) ) -> LL_SECTION.ISADDR +
     1488    14667    3                  LL_START$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.START.OFFSET;
     1489    14668    3               END;
     1490    14669    2           END;
     1491    14670        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:46   
     1492    14671         /*
     1493    14672            Now that allocation has been done, section records may be
     1494    14673            written into the run unit.
     1495    14674         */
     1496    14675    1       IF LL_FLAGS.NOEDITING#
     1497    14676    1       THEN
     1498    14677    1           LL_R_ROSE$ = ADDR(NIL);
     1499    14678    1       B$RUKEY.TYPE = %TYPSECT;
     1500    14679    1       B$RUKEY.PAGE = 0;
     1501    14680    2       IF ( LL_R_DATA$ = ADDR(NIL) ) THEN DO;
     1502    14681    3           IF ( LL_R_CODE$ = ADDR(NIL) ) THEN DO;
     1503    14682    3               TPTR$ = LL_R_ROSE$;
     1504    14683    3               END;
     1505    14684    3           ELSE DO;
     1506    14685    3               TPTR$ = LL_R_CODE$;
     1507    14686    3               LL_T_CODE$ -> SECT_ENTRY.NEXT$ = LL_R_ROSE$;
     1508    14687    3               END;
     1509    14688    2           IF LL_FLAGS.SHARELIB#
     1510    14689    2           THEN
     1511    14690    2               LL_HEAD.BIAS = SLIB_HEAD.RDATA + 65536;
     1512    14691    2           ELSE
     1513    14692    2               LL_HEAD.BIAS = TPTR$->SECT_ENTRY.SECTION$->LL_SECTION.ISADDR;
     1514    14693    2           END;
     1515    14694    2       ELSE DO;
     1516    14695    2           TPTR$ = LL_R_DATA$;
     1517    14696    2           IF ( LL_R_CODE$ = ADDR(NIL) ) THEN
     1518    14697    2               LL_T_DATA$ -> SECT_ENTRY.NEXT$ = LL_R_ROSE$;
     1519    14698    3           ELSE DO;
     1520    14699    3               LL_T_DATA$ -> SECT_ENTRY.NEXT$ = LL_R_CODE$;
     1521    14700    3               LL_T_CODE$ -> SECT_ENTRY.NEXT$ = LL_R_ROSE$;
     1522    14701    3               END;
     1523    14702    2           LL_HEAD.BIAS = TPTR$->SECT_ENTRY.SECTION$->LL_SECTION.ISADDR;
     1524    14703    2           END;
     1525    14704    1       LL_DATA_START = LL_HEAD.BIAS;
     1526    14705    2       DO WHILE (TPTR$ ~= ADDR(NIL));
     1527    14706    2           I = 0;
     1528    14707    3           DO WHILE ((I < 1023) AND (TPTR$ ~= ADDR(NIL)));
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:47   
     1529    14708    3               PINCRW(AVAIL$,I) -> LL_SECTION =
     1530    14709    3                  TPTR$ -> SECT_ENTRY.SECTION$ -> LL_SECTION;
     1531    14710    3               TPTR$ = TPTR$ -> SECT_ENTRY.NEXT$;
     1532    14711    3               I = I + 2;
     1533    14712    3               END;
     1534    14713    2           CALL LLM$MON_SVC (LL#WRITERU, AVAIL$, I*4-1, B$RUKEY);
     1535    14714    2           B$RUKEY.PAGE = B$RUKEY.PAGE + 1;
     1536    14715    2           END;
     1537    14716    1       B$RUBIRTH.RUMED_UTS = 0;
     1538    14717    1       B$RUBIRTH.COUNT = 0;
     1539    14718    1       CALL LLM$MON_SVC (LL#TIME, B$RUBIRTH.CREATE_UTS);
     1540    14719    1       CALL LLM$MON_SVC (LL#WRITERU, ADDR(B$RUBIRTH), 11, RUBIRTHKEY);
     1541    14720    1       IF LL_FLAGS.BIAS_OU
     1542    14721    2       THEN DO;
     1543    14722    2           LL_HEAD.SECTABLESIZE = TABLE_ARRAY_INX*(SIZEW(B$SECTABLE));
     1544    14723    3           DO I = 0 TO TABLE_ARRAY_INX-2;
     1545    14724    4               DO J = I+1 TO TABLE_ARRAY_INX-1;
     1546    14725    4                   IF TABLE_ARRAY.START(I) > TABLE_ARRAY.START(J)
     1547    14726    5                   THEN DO;
     1548    14727    5                       TABLE_ARRAY(TABLE_ARRAY_INX) = TABLE_ARRAY(I);
     1549    14728    5                       TABLE_ARRAY(I) = TABLE_ARRAY(J);
     1550    14729    5                       TABLE_ARRAY(J) = TABLE_ARRAY(TABLE_ARRAY_INX);
     1551    14730    5                       END;
     1552    14731    4                   END;
     1553    14732    3               END;
     1554    14733    2           CALL LLM$MON_SVC( LL#WRITERU, ADDR(TABLE_ARRAY),
     1555    14734    2              4*TABLE_ARRAY_INX*(SIZEW(B$SECTABLE))-1,B$SECTABLEKEY);
     1556    14735    2           END;
     1557    14736    1       TPTR$ = LL_R_OU$;
     1558    14737    2       DO WHILE (TPTR$ ~= ADDR(NIL));
     1559    14738    2           TEMP = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.EDEFSIZ / SIZEW(B$EDEF);
     1560    14739    2           TYPE = 4;
     1561    14740    2           SPTR$ = TPTR$ -> OU_ENTRY.SECT$;
     1562    14741    2           DPTR$ = TPTR$ -> OU_ENTRY.ENTDEF$;
     1563    14742    2           CALL LLR$RESDEF (TYPE, TEMP, NPTR, DPTR$, SPTR$, 0);
     1564    14743    2           TEMP = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.SDEFSIZ / SIZEW(B$SDEF);
     1565    14744    2           TYPE = 6;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:48   
     1566    14745    2           DPTR$ = TPTR$ -> OU_ENTRY.SYMDEF$;
     1567    14746    2           IF DPTR$ ~= ADDR(NIL)
     1568    14747    2           THEN CALL LLR$RESDEF(TYPE,TEMP,X,DPTR$,SPTR$,0);
     1569    14748    2           ELSE ; /* There were no SYMDEFs */
     1570    14749    2           TPTR$ = TPTR$ -> OU_ENTRY.NEXT$;
     1571    14750    2           END;
     1572    14751
     1573    14752         /*
     1574    14753            Build symdefs for G$JIT$, G$PIA$, G$AUTO_DS$ and G$AUTO_T$.  They
     1575    14754            always point off to the same places as provided by LCP6 job step.
     1576    14755            Also add symdefs for G$ROS$, G$TCB$, and G_VERSION, which are in the RU.
     1577    14756            Then, reserve space for 4 primary entdefs (G_PATCH... stuff).
     1578    14757         */
     1579    14758
     1580    14759    1       TPTR$ = AVAIL$;
     1581    14760    1       IF NOT LL_FLAGS.NOEDITING#
     1582    14761    1       THEN
     1583    14762    2       DO;
     1584    14763    2           TEMP = 7 * ( SIZEW(B$SDEF) + SIZEW(NODE) ) + LL_PRECSIZE;
     1585    14764    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);
     1586    14765
     1587    14766         /* Do G$JIT$ */
     1588    14767
     1589    14768    2           AVAIL$ -> B$SDEF = '0'B;
     1590    14769    2           AVAIL$ -> B$SDEF.NPOINTER = G_JIT_OFFSET;
     1591    14770    2           AVAIL$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;
     1592    14771    2           AVAIL$ -> B$SDEF.AD.ISADDR = LL_JIT_ADDRESS;
     1593    14772    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));
     1594    14773
     1595    14774         /* Do G$PIA$ */
     1596    14775
     1597    14776    2           AVAIL$ -> B$SDEF = '0'B;
     1598    14777    2           AVAIL$ -> B$SDEF.NPOINTER = G_PIA_OFFSET;
     1599    14778    2           AVAIL$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;
     1600    14779    2           AVAIL$ -> B$SDEF.AD.ISADDR = LL_PIA_ADDRESS;
     1601    14780    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));
     1602    14781
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:49   
     1603    14782         /* Do G$AUTO_DS$ */
     1604    14783
     1605    14784    2           AVAIL$ -> B$SDEF = '0'B;
     1606    14785    2           AVAIL$ -> B$SDEF.NPOINTER = G_AUTO_DS_OFFSET;
     1607    14786    2           AVAIL$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;
     1608    14787    2           AVAIL$ -> B$SDEF.AD.ISADDR = LL_AUTO_DS_ADDRESS;
     1609    14788    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));
     1610    14789
     1611    14790         /* Do G$AUTO_T$ */
     1612    14791
     1613    14792    2           AVAIL$ -> B$SDEF = '0'B;
     1614    14793    2           AVAIL$ -> B$SDEF.NPOINTER = G_AUTO_T_OFFSET;
     1615    14794    2           AVAIL$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;
     1616    14795    2           AVAIL$ -> B$SDEF.AD.ISADDR = LL_AUTO_T_ADDRESS;
     1617    14796    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));
     1618    14797
     1619    14798         /* Do G$TCB$ */
     1620    14799
     1621    14800    2           AVAIL$ -> B$SDEF = '0'B;
     1622    14801    2           AVAIL$ -> B$SDEF.NPOINTER = G_TCB_OFFSET;
     1623    14802    2           AVAIL$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;
     1624    14803    2           AVAIL$ -> B$SDEF.AD.ISADDR = LL_PROC_START;
     1625    14804    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));
     1626    14805
     1627    14806         /* Do G$ROS$ */
     1628    14807
     1629    14808    2           AVAIL$ -> B$SDEF = '0'B;
     1630    14809    2           AVAIL$ -> B$SDEF.NPOINTER = G_ROS_OFFSET;
     1631    14810    2           AVAIL$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;
     1632    14811    2           AVAIL$ -> B$SDEF.AD.ISADDR = LL_PROC_START + 2;
     1633    14812    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));
     1634    14813
     1635    14814         /* Do G_VERSION */
     1636    14815
     1637    14816    2           AVAIL$ -> B$SDEF = '0'B;
     1638    14817    2           AVAIL$ -> B$SDEF.NPOINTER = G_VERSION_OFFSET;
     1639    14818    2           AVAIL$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:50   
     1640    14819    2           AVAIL$ -> B$SDEF.AD.ISADDR = LL_PROC_START + 4;
     1641    14820    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));
     1642    14821
     1643    14822         /* Link the symbols onto the SYMDEF tree */
     1644    14823
     1645    14824    2           CALL LLG$GROW (LL_SYMDEF_R$, TPTR$, 7, ADDR(NIL), AVAIL$, NAME$,
     1646    14825    2              %TYPSDEF );
     1647    14826    2           END;
     1648    14827    1       TPTR$ = AVAIL$;
     1649    14828
     1650    14829         /*
     1651    14830            Now make the primary entdefs for G_PATCHI, G_PATCHIH, G_PATCHD and
     1652    14831            G_PATCHDH.
     1653    14832         */
     1654    14833
     1655    14834    1       IF LL_IPATCH > 0
     1656    14835    1       THEN
     1657    14836    2       DO;
     1658    14837    2           TEMP = 2 * (SIZEW(B$SDEF) + SIZEW(NODE)) + LL_PRECSIZE;
     1659    14838    2           CALL LLM$MON_SVC(LL#GETMEM,TEMP,AVAIL$);
     1660    14839    2           AVAIL$->B$SDEF = '0'B;
     1661    14840    2           AVAIL$->B$SDEF.AD.ISADDR = LL_T_CODE$->SECT_ENTRY.SECTION$->
     1662    14841    2              LL_SECTION.ISADDR;
     1663    14842    2           AVAIL$->B$SDEF.NPOINTER = G_PATCHIH_OFFSET;
     1664    14843    2           AVAIL$->B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;
     1665    14844    2           AVAIL$ = PINCRW(AVAIL$,SIZEW(B$SDEF));
     1666    14845    2           CALL LLG$GROW(LL_SYMDEF_R$,TPTR$,1,ADDR(NIL),AVAIL$,NAME$,
     1667    14846    2              %TYPSDEF);
     1668    14847    2           TPTR$ = AVAIL$;
     1669    14848    2           AVAIL$->B$EDEF = '0'B;
     1670    14849    2           AVAIL$->B$EDEF.ISADDR = LL_T_CODE$->SECT_ENTRY.SECTION$->
     1671    14850    2              LL_SECTION.ISADDR + 3;
     1672    14851    2           AVAIL$->B$EDEF.NPOINTER = G_PATCHI_OFFSET;
     1673    14852    2           AVAIL$->B$EDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;
     1674    14853    2           AVAIL$->B$EDEF.PRI = '1'B;
     1675    14854    2           AVAIL$->B$EDEF.CST = 1;
     1676    14855    2           AVAIL$ = PINCRW(AVAIL$,SIZEW(B$EDEF));
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:51   
     1677    14856    2           CALL LLG$GROW(LL_ENTDEF_R$,TPTR$,1,ADDR(NIL),AVAIL$,NAME$,
     1678    14857    2              %TYPEDEF);
     1679    14858    2           END;
     1680    14859    1       TPTR$ = AVAIL$;
     1681    14860
     1682    14861    2       IF LL_DPATCH > 0 THEN DO;
     1683    14862
     1684    14863    2           TEMP = 2 * (SIZEW(B$SDEF) + SIZEW(NODE)) + LL_PRECSIZE;
     1685    14864    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);
     1686    14865
     1687    14866    2           AVAIL$->B$SDEF = '0'B;
     1688    14867    2           AVAIL$->B$SDEF.AD.ISADDR = DPATCH$->SECT_ENTRY.SECTION$->
     1689    14868    2              LL_SECTION.ISADDR;
     1690    14869    2           AVAIL$->B$SDEF.NPOINTER = G_PATCHDH_OFFSET;
     1691    14870    2           AVAIL$->B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;
     1692    14871    2           AVAIL$ = PINCRW(AVAIL$,SIZEW(B$SDEF));
     1693    14872
     1694    14873    2           AVAIL$->B$SDEF = '0'B;
     1695    14874    2           AVAIL$->B$SDEF.AD.ISADDR = DPATCH$->SECT_ENTRY.SECTION$->
     1696    14875    2              LL_SECTION.ISADDR + 3;
     1697    14876    2           AVAIL$->B$SDEF.NPOINTER = G_PATCHD_OFFSET;
     1698    14877    2           AVAIL$->B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;
     1699    14878    2           AVAIL$ = PINCRW(AVAIL$,SIZEW(B$SDEF));
     1700    14879    2           CALL LLG$GROW(LL_SYMDEF_R$,TPTR$,2,ADDR(NIL),AVAIL$,NAME$,
     1701    14880    2              %TYPSDEF);
     1702    14881    2           END;
     1703    14882    1       TPTR$ = AVAIL$;
     1704    14883
     1705    14884         /*
     1706    14885            Get the read only segment into memory so that we can initialize
     1707    14886            our DCBS.
     1708    14887         */
     1709    14888
     1710    14889    2       IF NOT LL_FLAGS.NOEDITING# THEN DO;
     1711    14890    2           TEMP = ( LL_HEAD.ROSIZE + 1 ) / 2 + LL_PRECSIZE;
     1712    14891    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);
     1713    14892    2           PRGKEY.ISADDR = 4096;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:52   
     1714    14893    2           TEMP = LL_HEAD.ROSIZE;
     1715    14894    2           TPTR$ = AVAIL$; /* Remember the buffer address */
     1716    14895    3           DO WHILE ( TEMP > 0 );
     1717    14896    4               IF TEMP > LL_PRECMEM THEN DO;
     1718    14897    4                   CALL LLM$MON_SVC (LL#READRU, AVAIL$, LL_PRECBOUND, PRGKEY);
     1719    14898    4                   TEMP = TEMP - LL_PRECMEM;
     1720    14899    4                   AVAIL$ = PINCRW(AVAIL$, LL_PRECSIZE);
     1721    14900    4                   END;
     1722    14901    4               ELSE DO;
     1723    14902    4                   CALL LLM$MON_SVC (LL#READRU, AVAIL$, TEMP * 2 - 1, PRGKEY);
     1724    14903    4                   TEMP = 0;
     1725    14904    4                   END;
     1726    14905    3               END;
     1727    14906    2           AVAIL$ = TPTR$;
     1728    14907
     1729    14908         /*
     1730    14909            Start initializing DCB pointers.  There is one for each DCB in the
     1731    14910            read only segment chain.  We're going to use TPTR$ to move around
     1732    14911            on the chain and TEMP to move around in the DCB table.
     1733    14912         */
     1734    14913
     1735    14914    2           TEMP = 0;
     1736    14915    2           TPTR$ = LL_R_ROSE$;
     1737    14916    3           DO WHILE ( TPTR$ ~= ADDR(NIL) );
     1738    14917    3               SPTR$ = PINCRW(AVAIL$, TEMP);
     1739    14918    3               TEMP1 = TPTR$ -> SECT_ENTRY.SECTION$ -> LL_SECTION.ISADDR;
     1740    14919    3               P$ = PINCRC(AVAIL$,(TEMP1-4096+%L6_DCB_DCBNAME#)*2);
     1741    14920    4               DO Z = 3 DOWNTO 0;
     1742    14921    4                   SPTR$ -> RUBYTE(Z) = MOD(TEMP1, 256);
     1743    14922    4                   TEMP1 = TEMP1 / 256;
     1744    14923    4                   END;
     1745    14924    3               Q$ = PINCRW(NAME$,TPTR$->SECT_ENTRY.SECTION$->LL_SECTION.NPOINTER);
     1746    14925    3               P$->B$STRING.COUNT = Q$->B$DNAME.COUNT;
     1747    14926    3               P$->B$STRING.TEXT = Q$->B$DNAME.TEXT;
     1748    14927    3               TPTR$ = TPTR$ -> SECT_ENTRY.NEXT$;
     1749    14928    3               TEMP = TEMP + 1; /*  One FEP pointer = 1 host word. */
     1750    14929    3               END;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:53   
     1751    14930
     1752    14931         /*
     1753    14932            Phew!  More ugliness is behind us.  The DCB tables are
     1754    14933            initialized.  Now all that remains to be done is to rewrite the
     1755    14934            read only segment records.
     1756    14935         */
     1757    14936
     1758    14937    2           TEMP = LL_HEAD.ROSIZE;
     1759    14938    2           PRGKEY.ISADDR = 4096;
     1760    14939    2           TPTR$ = AVAIL$;
     1761    14940    3           DO WHILE ( TEMP > 0 );
     1762    14941    4               IF TEMP > LL_PRECMEM THEN DO;
     1763    14942    4                   CALL LLM$MON_SVC (LL#WRITERU, AVAIL$, LL_PRECBOUND, PRGKEY);
     1764    14943    4                   AVAIL$ = PINCRW(AVAIL$, LL_PRECSIZE);
     1765    14944    4                   TEMP = TEMP - LL_PRECMEM;
     1766    14945    4                   END;
     1767    14946    4               ELSE DO;
     1768    14947    4                   CALL LLM$MON_SVC (LL#WRITERU, AVAIL$, TEMP * 2 - 1, PRGKEY);
     1769    14948    4                   TEMP = 0;
     1770    14949    4                   END;
     1771    14950    3               PRGKEY.ISADDR = PRGKEY.ISADDR + LL_PRECMEM;
     1772    14951    3               END;
     1773    14952    2           AVAIL$ = TPTR$;
     1774    14953    2           END;
     1775    14954
     1776    14955         /*
     1777    14956            Read the record that contains the patch area headers and stuff
     1778    14957            them with the right stuff.
     1779    14958         */
     1780    14959
     1781    14960    1       IF LL_IPATCH + LL_DPATCH > 0 THEN
     1782    14961    1           CALL LLM$MON_SVC (LL#GETMEM, LL_PRECSIZE, AVAIL$);
     1783    14962    2       DO I = 0 TO 1;
     1784    14963    3           IF I = 0 THEN DO; /* data patch space */
     1785    14964    3               IF LL_DPATCH > 0 THEN
     1786    14965    3                   TEMP = DPATCH$->SECT_ENTRY.SECTION$->LL_SECTION.ISADDR;
     1787    14966    3               TEMP1 = LL_DPATCH;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:54   
     1788    14967    3               END;
     1789    14968    3           ELSE DO; /* procedure patch space */
     1790    14969    3               IF LL_IPATCH > 0 THEN
     1791    14970    3                   TEMP = LL_T_CODE$ -> SECT_ENTRY.SECTION$ -> LL_SECTION.ISADDR;
     1792    14971    3               TEMP1 = LL_IPATCH;
     1793    14972    3               END;
     1794    14973    3           IF TEMP1 > 0 THEN DO; /* Initialize patch space */
     1795    14974    3               PRGKEY.ISADDR = ( TEMP / LL_PRECMEM ) * LL_PRECMEM;
     1796    14975    3               TPTR$ = PINCRC(AVAIL$, ( TEMP - PRGKEY.ISADDR ) * 2);
     1797    14976    3               CALL LLM$MON_SVC (LL#READRU, AVAIL$, LL_PRECBOUND, PRGKEY);
     1798    14977    3               TEMP = TEMP + 3; /* Pointer to patch space */
     1799    14978    4               DO Z = 3 DOWNTO 0;
     1800    14979    4                   TPTR$ -> RUBYTE(Z) = MOD(TEMP, 256);
     1801    14980    4                   TEMP = TEMP / 256;
     1802    14981    4                   END;
     1803    14982    4               DO Z = 5 DOWNTO 4;
     1804    14983    4                   TPTR$ -> RUBYTE(Z) = MOD(TEMP1, 256);
     1805    14984    4                   TEMP1 = TEMP1 / 256;
     1806    14985    4                   END;
     1807    14986    3               BOUND = DCBADDR(DCBNUM(M$RU)) -> B$DCB.ARS# - 1;
     1808    14987    3               CALL LLM$MON_SVC (LL#WRITERU, AVAIL$, BOUND, PRGKEY);
     1809    14988    3               END;
     1810    14989    2           END;
     1811    14990
     1812    14991         /*
     1813    14992            Provide G$TCB$ and G$ROS$ pointers.  Addresses to poke are in
     1814    14993            G_TCB_ADDRESS and G_ROS_ADDRESS.  Location of the pointers are
     1815    14994            at the first two words of procedure for G$TCB$ and the second
     1816    14995            two words of procedure for G$ROS$.
     1817    14996         */
     1818    14997
     1819    14998    1       IF NOT LL_FLAGS.NOEDITING#
     1820    14999    1       THEN
     1821    15000    2       DO;
     1822    15001    2           PRGKEY.ISADDR = (LL_PROC_START/LL_PRECMEM) * LL_PRECMEM;
     1823    15002    2           CALL LLM$MON_SVC (LL#READRU, AVAIL$, LL_PRECBOUND, PRGKEY);
     1824    15003    3           DO I = 0 TO 1;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:55   
     1825    15004    4               IF I = 0 THEN DO; /* G$TCB$ */
     1826    15005    4                   SPTR$ = PINCRW(AVAIL$,LL_PROC_START-PRGKEY.ISADDR);
     1827    15006    4                   TEMP = LL_TCB_ADDRESS;
     1828    15007    4                   END;
     1829    15008    4               ELSE DO;
     1830    15009    4                   SPTR$ = PINCRW(SPTR$,1);
     1831    15010    4                   TEMP = LL_ROS_ADDRESS;
     1832    15011    4                   END;
     1833    15012    4               DO Z = 3 DOWNTO 0;
     1834    15013    4                   SPTR$ -> RUBYTE(Z) = MOD(TEMP, 256);
     1835    15014    4                   TEMP = TEMP / 256;
     1836    15015    4                   END;
     1837    15016    3               END;
     1838    15017    2           SPTR$ = PINCRW(SPTR$,1);
     1839    15018    2           SPTR$ -> RUBYTE(0) = LL_VERSION.SIZE;
     1840    15019    3           DO Z = 1 TO 6;
     1841    15020    3               SPTR$ -> RUBYTE(Z) = ASCBIN(SUBSTR(LL_VERSION.TEXT, Z - 1, 1));
     1842    15021    3               END;
     1843    15022    2           BOUND = DCBADDR(DCBNUM(M$RU)) -> B$DCB.ARS# - 1;
     1844    15023    2           CALL LLM$MON_SVC (LL#WRITERU, AVAIL$, BOUND, PRGKEY);
     1845    15024    2           END;
     1846    15025
     1847    15026    1       TPTR$ = LL_R_OU$;
     1848    15027    1       IF NOT LL_FLAGS.NOALT# THEN
     1849    15028    2       DO WHILE ( TPTR$ ~= ADDR(NIL) AND LL_HEAD.ASLNAME.CNT = 0 );
     1850    15029    2           SPTR$ = TPTR$ -> OU_ENTRY.HEAD$;
     1851    15030    3           IF SPTR$ -> B$OUHEAD.ASLNAMSIZ ~= 0 THEN DO;
     1852    15031    3               LL_HEAD.ASLNAME.CNT = SPTR$ -> B$OUHEAD.ASLNAMSIZ;
     1853    15032    3               LL_HEAD.ASLNAME.TXT = SPTR$ -> B$OUHEAD.ASLNAM;
     1854    15033    3               END;
     1855    15034    2           TPTR$ = TPTR$ -> OU_ENTRY.NEXT$;
     1856    15035    2           END;
     1857    15036    1       TPTR$ = AVAIL$;
     1858    15037    1       RETURN;
     1859    15038        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:56   
     1860    15039    1   NO_FILE:
     1861    15040    1       CALL INSERT (LL_DOBUF,0,,
     1862    15041    1          'A ***Missing object file(s) - ',
     1863    15042    1          'continuing for file existence checks only:');
     1864    15043    1       CALL LLM$MON_SVC (LL#WRITEDO);
     1865    15044    1       NO_FID# = '1'B;
     1866    15045    1   PRINT_NAME:
     1867    15046    2       DO WHILE (I < LL_NOU);
     1868    15047    3           IF (NO_FID#) THEN DO;
     1869    15048    3               CALL INSERT (LL_DOBUF,0,,
     1870    15049    3                  'A         Cannot find file ',
     1871    15050    3                  LL_FIRSTFID);
     1872    15051    3               CALL LLM$MON_SVC (LL#WRITEDO);
     1873    15052    3               END;
     1874    15053    2           I = I + 1;
     1875    15054    3           IF ( I < LL_NOU ) THEN DO;
     1876    15055    3               LL_FIRSTFID = LL_OF$->OU_FID.NAME(I);
     1877    15056    3               CALL LLM$MON_SVC (LL#FID);
     1878    15057    3               NO_FID# = '1'B;
     1879    15058    3               CALL LLM$MON_SVC (LL#OPENEF) ALTRET (PRINT_NAME);
     1880    15059    3               NO_FID# = '0'B;
     1881    15060    3               CALL LLM$MON_SVC (LL#CLOSEEF);
     1882    15061    3               END;
     1883    15062    2           END;
     1884    15063    1       CALL LLM$MON_SVC (LL#ERR);
     1885    15064
     1886    15065    1       RETURN;
     1887    15066        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:57   
     1888    15067        /*I*
     1889    15068        NAME: ADD_TABLE_ARRAY
     1890    15069        PURPOSE: Build Table record for M:FEP ru
     1891    15070        DESCRIPTION:
     1892    15071            The table record will inform the booter which segments are needed and
     1893    15072            how big they are.  This fills in an entry for the LAST segment that we
     1894    15073            put something in.  We do this last because we need the high address to
     1895    15074            calculate the size.
     1896    15075        */
     1897    15076
     1898    15077    1   ADD_TABLE_ARRAY: PROC;
     1899    15078
     1900    15079    2       Z = ADDRESS - LOCATION ;
     1901    15080    2       IF Z > 0 AND
     1902    15081    2          LL_FLAGS.BIAS_OU
     1903    15082    3       THEN DO;
     1904    15083    3           TABLE_ARRAY.START(TABLE_ARRAY_INX) = LOCATION;
     1905    15084    3           TABLE_ARRAY.SIZE(TABLE_ARRAY_INX) = Z ;
     1906    15085    3           TABLE_ARRAY.TYPE(TABLE_ARRAY_INX) = (I = 2);
     1907    15086    3           BIAS_OU_WORD = BIAS_OU_WORD + Z;
     1908    15087    3           TABLE_ARRAY_INX = TABLE_ARRAY_INX + 1;
     1909    15088    3           IF TABLE_ARRAY_INX = 30 THEN CALL M$XXX;
     1910    15089    3           END;
     1911    15090
     1912    15091    2   END ADD_TABLE_ARRAY;
     1913    15092        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:58   
     1914    15093        /*I*
     1915    15094        NAME: BOUND_UP
     1916    15095        PURPOSE: Bound up to next segment
     1917    15096        DESCRIPTION:
     1918    15097            Given an address, return an adusted address which is the beginning
     1919    15098            of the next FEP segment.
     1920    15099        */
     1921    15100
     1922    15101    1   BOUND_UP: PROC( P_ADDRESS );
     1923    15102
     1924    15103    2   DCL P_ADDRESS UBIN WORD PARAM;
     1925    15104
     1926    15105    2       IF P_ADDRESS < 65536
     1927    15106    2       THEN
     1928    15107    2           P_ADDRESS = ((P_ADDRESS+4096)/4096)*4096;
     1929    15108    2       ELSE
     1930    15109    2           IF P_ADDRESS >= LL#MON_BIAS
     1931    15110    2           THEN
     1932    15111    2               P_ADDRESS=((P_ADDRESS+LL_PRECMEM-1)/LL_PRECMEM)*LL_PRECMEM;
     1933    15112    2           ELSE
     1934    15113    2               P_ADDRESS=((P_ADDRESS+65536)/65536)*65536;
     1935    15114
     1936    15115    2   END BOUND_UP;
     1937    15116        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:59   
     1938    15117        /*I*
     1939    15118        NAME: ADD_NAME
     1940    15119        PURPOSE: Add a linker-supplied name to the defnames record.
     1941    15120        DESCRIPTION:
     1942    15121            The argument is a B$DNAME structure to be added to the end of
     1943    15122            defnames.  Memory is allocated if necessary, and PSIZE is then
     1944    15123            incremented past the new name.
     1945    15124        */
     1946    15125
     1947    15126    1   ADD_NAME: PROC (NEW_NAME);
     1948    15127
     1949    15128        %B$DNAME (NAME = NEW_NAME,
     1950    15129         STCLASS = PARAM);
     1951    15148
     1952    15149    2   DCL T UBIN;
     1953    15150
     1954    15151    2       T = PSIZE + SIZEW(NEW_NAME);
     1955    15152    2       IF T>LL_DNAME_VEC.BOUND
     1956    15153    3       THEN CALL M$GDS (DNAME_FPT) WHENALTRETURN DO;
     1957    15154    3               CALL LLM$MON_SVC (LL#GETMEM);
     1958    15155    3               END;
     1959    15156    2       PINCRW(NAME$,PSIZE)->B$DNAME.COUNT = NEW_NAME.COUNT;
     1960    15157    2       PINCRW(NAME$,PSIZE)->B$DNAME.TEXT = NEW_NAME.TEXT;
     1961    15158    2       PSIZE = T;
     1962    15159    2       RETURN;
     1963    15160    2   END ADD_NAME;
     1964    15161    1   END LLB$PASS1;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:60   
--  Include file information  --

   GF_DCB_E.:E05TOU  is referenced.
   B_ERRORS_C.:E05TOU  is referenced.
   LL_MACS_C.:E05TOU  is referenced.
   LL_SUBS_C.:E05TOU  is referenced.
   LL_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   G_LCP6_E.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
      No diagnostics issued in procedure LLB$PASS1.

   Procedure LLB$PASS1 requires 4301 words for executable code.
   Procedure LLB$PASS1 requires 132 words of local(AUTO) storage.

    No errors detected in file LLB$PASS1.:E05TSI    .

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:61   

 Object Unit name= LLB$PASS1                                  File name= LLB$PASS1.:E05TOU
 UTS= JUL 30 '97 03:10:57.56 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none     0      0  M$RU
    2   Data  even  none   288    440  LLB$PASS1
    3  RoData even  UTS    521   1011  LLB$PASS1
    4   DCB   even  none     0      0  M$LI
    5   Proc  even  none  4301  10315  LLB$PASS1
    6  RoData even  none   117    165  LLB$PASS1

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     5      0   yes            yes      Std        1  LLB$PASS1

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    2      0  B$OUKEY                            2      2  B$SECTABLE
    2      4  B$SECTABLEKEY                      2     12  SLIB_HEAD
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:62   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       4 LLM$MON_SVC
         yes           Std       3 LLI$BINHEX
 yes     yes           Std       5 LLE$READOU
         yes           Std       7 LLG$GROW
         yes           Std       0 LLT$BUILD_VECTOR
         yes           Std       6 LLR$RESDEF
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  LL_OF$                                LL_LOBUF
     LL_DOBUF                              LL_FLAGS                              LL_FIRSTFID
     LL_VAL_BIAS                           LL_VAL_START                          LL_VAL_SL
     LL_NOU                                LL_DATA_START                         LL_PROC_START
     LL_RODATA_START                       LL_STATE                              LL_R_DATA$
     LL_R_CODE$                            LL_R_ROSE$                            LL_T_DATA$
     LL_T_CODE$                            LL_T_ROSE$                            LL_ENTDEF_R$
     LL_SYMDEF_R$                          LL_TOPOMEM$                           LL_R_OU$
     LL_OU_PTR$                            LL_START$                             LL_DPATCH
     LL_IPATCH                             LL_END_VALUE                          LL_END_LOC
r    LL_LPROC_START                        LL_DNAME_VEC                     r    LL_JIT_ADDRESS
r    LL_PIA_ADDRESS                   r    LL_AUTO_DS_ADDRESS               r    LL_AUTO_T_ADDRESS
r    LL_ROS_ADDRESS                   r    LL_TCB_ADDRESS                        LL_SLIB_NAME
     LL_VECTOR_DATA                        LL_VERSION                            M$RU
     LL_HEAD                               M$LI                                  B$TCB$
     B$RUBIRTH                             B_VECTNIL
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:63   

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID                               ROSID
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:64   


        1        1        /*M* LLB$PASS1 - Pass 1 module of FEPLINK                           */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=4,STI=0,IND=4,CTI=3,DCI=4,ECI=4,CSI=0,THI=0,DTI=0,ENI=4,
        8        8             CLM=0,SQB,NTB,MOC,CCI=3,NLB,MCL=0,EDMC*/
        9        9        /*F* NAME:         LLB$PASS1
       10       10             PURPOSE:      Constructs symbol tables and allocates memory
       11       11             DESCRIPTION:  LLB$PASS1's primary task is to read the object
       12       12                           units specified in th O.U. list passed to  it by
       13       13                           LLA$MAIN.  The head record is read in order to
       14       14                           determine the size of the other records present
       15       15                           in the object unit.  After the head record has
       16       16                           been read, pointers are set up to the locations
       17       17                           of memory where the various symbol tables are to
       18       18                           be read into core.  It then acquires enoughy
       19       19                           memory so that the symbol tables may be read in
       20       20                           and processed.  After all symbol tables have been
       21       21                           processed, front end core is allocated and the
       22       22                           symbols are assigned values, and an allocation
       23       23                           summary is printed.  Control is then returned to
       24       24                           LLA$MAIN.                                        */
       25       25        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:65   
       26       26        LLB$PASS1: PROC (TPTR$);

     26  5 000000   000000 700200 xent  LLB$PASS1    TSX0  ! X66_AUTO_1
         5 000001   000204 000001                    ZERO    132,1

       27       27         /* INCLUDES */
       28       28        %INCLUDE B$OBJECT_C;
       29     3458        %INCLUDE CP_6;
       30     9017        %INCLUDE G_LCP6_E;
       31     9275        %INCLUDE LL_DATA_R;
       32     9311        %INCLUDE LL_SUBS_C;
       33     9440        %INCLUDE LL_MACS_C;
       34     9794        %INCLUDE B_ERRORS_C;
       35    10921        %INCLUDE GF_DCB_E;
       36    10960        %B$TCB;
       37    10963        %B$ALT;
       38    10971    1   DCL M$RU DCB;
       39    10972        %F$DCB ( DCBN = B$DCB,
       40    10973         STCLASS = BASED );
       41    11030        %SUB_LINKFLAGS;
       42    11039        %RU_FLAVORS;
       43    11045        %SUB_CST;
       44    11061        %B$HEAD ( NAME = LL_HEAD,
       45    11062         STCLASS = SYMREF );
       46    11262        %B$FEP_SECTION ( NAME = LL_SECTION );
       47    11301        %B$EDEF ( NAME = LL_ENTDEF );
       48    11371        %B$SECTIONSUBS;
       49    11386        %B$SECTION;
       50    11445        %B$RECORDSUBS;
       51    11473        %B$OUKEY;
       52    11509        %B$SECTABLE ;
       53    11521        %B$SECTABLEKEY ;
       54    11528        %B$FEP_RUKEY (NAME= B$RUKEY);
       55    11552        %B$OUHEAD ( STCLASS = BASED );
       56    11670        %B$RELOCSUBS;
       57    11700        %B$DNAME;
       58    11719        %B$SDEF;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:66   
       59    11773        %B$EDEF;
       60    11843        %B$EDEF ( NAME = LL_PATCHI_DEF,
       61    11844         STCLASS = SYMREF );
       62    11914        %B$EDEF ( NAME = LL_PATCHIH_DEF,
       63    11915         STCLASS = SYMREF );
       64    11985        %B$EDEF ( NAME = LL_PATCHD_DEF,
       65    11986         STCLASS = SYMREF );
       66    12056        %B$EDEF ( NAME = LL_PATCHDH_DEF,
       67    12057         STCLASS = SYMREF );
       68    12127        %B$SDEF ( NAME = LL_END_DEF,
       69    12128         STCLASS = SYMREF );
       70    12182        %FPT_GDS(FPTN = DNAME_FPT,
       71    12183         STCLASS = CONSTANT,
       72    12184         SEGSIZE = 1024,
       73    12185         RESULTS = LL_DNAME_VEC);
       74    12201    1   DCL M$LI DCB;
       75    12202    1   DCL 1 RU_KEY STATIC ALIGNED,
       76    12203    1         2 COUNT UBIN BYTE UNAL INIT(4),
       77    12204    1         2 TEXT CHAR(4) UNAL INIT('HEAD');
       78    12205        %B$HEAD (NAME=SLIB_HEAD,STCLASS = "STATIC SYMDEF",SUBS=NO);
       79    12405        %FPT_FID(FPTN=FID_SLIB,
       80    12406         TEXTFID= LL_SLIB_NAME,
       81    12407         SN = VLP_SN,
       82    12408         WSN = VLP_WSN,
       83    12409         RES = OPEN_SLIB.V.RES#,
       84    12410         ASN = OPEN_SLIB.V.ASN#,
       85    12411         RESULTS = FID_RESULTS,
       86    12412         ACCT = SLIB_ACCT,
       87    12413         NAME = LL_HEAD.LIBNAME);
       88    12436
       89    12437        %FPT_READ(FPTN=READ_SLIB_HEAD,
       90    12438         DCB = M$LI,
       91    12439         KEY = RU_KEY,
       92    12440         KEYS = YES,
       93    12441         KEYR = YES);
       94    12480
       95    12481        %FPT_OPEN(FPTN=OPEN_SLIB,
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:67   
       96    12482         DCB = M$LI,
       97    12483         WSN = VLP_WSN,
       98    12484         SN = VLP_SN,
       99    12485         ORG = KEYED,
      100    12486         PASS = SLIB_PASS,
      101    12487         NAME = LL_HEAD.LIBNAME,
      102    12488         ASN = FILE,
      103    12489         SCRUB = YES);
      104    12598
      105    12599
      106    12600        %VLP_ACCT (FPTN=SLIB_ACCT);
      107    12613        %VLP_PASS (FPTN = SLIB_PASS);
      108    12626        %VLR_FID (FPTN=FID_RESULTS);
      109    12645        %VLP_WSN;
      110    12658        %VLP_SN;
      111    12671    1   DCL LIB_ACCT CHAR(8) STATIC INIT(':SYS    ');
      112    12672    1   DCL CODE UBIN;
      113    12673        %FPT_CLOSE (FPTN=CLOSE_SLIB,
      114    12674         DCB = M$LI);
      115    12716    1   DCL B$TCB$ PTR SYMREF;
      116    12717        %B$FEP_RUKEY (NAME=SLIB_KEY);
      117    12741        %FPT_READ(FPTN=READ_SLIB,
      118    12742         DCB = M$LI,
      119    12743         KEY = NIL,
      120    12744         KEYS = YES,
      121    12745         KEYR = NO,
      122    12746         BUF = NIL,
      123    12747         WAIT = YES);
      124    12786        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:68   
      125    12787         /* LOCAL DATA */
      126    12788    1   DCL LLM$MON_SVC ENTRY (4) ALTRET;
      127    12789    1   DCL LLE$READOU ENTRY (5) ALTRET;
      128    12790    1   DCL LLG$GROW ENTRY (7);
      129    12791    1   DCL LLR$RESDEF ENTRY (6);
      130    12792    1   DCL LLT$BUILD_VECTOR ENTRY;
      131    12793    1   DCL Z SBIN WORD;
      132    12794    1   DCL I SBIN WORD ALIGNED;
      133    12795    1   DCL TPTR$ PTR;
      134    12796    1   DCL 1 OU_FID(0:0) BASED ALIGNED,
      135    12797    1         2 NAME CHAR(50),
      136    12798    1         2 BIAS SBIN WORD;
      137    12799    1   DCL 1 LOCATION_ARRAY(0:19) STATIC,
      138    12800    1         2 BIAS SBIN WORD INIT(0*20),
      139    12801    1         2 LAST SBIN WORD INIT(0*20);
      140    12802    1   DCL IDX UBIN WORD;
      141    12803        %LL$RUBIRTHKEY ( NAME = RUBIRTHKEY,
      142    12804         STCLASS = CONSTANT );
      143    12822        %B$HEADKEY ( NAME = EF_KEY,
      144    12823         STCLASS = STATIC );
      145    12835        %B$RUBIRTH (STCLASS = SYMREF, COUNTINIT = " /**/ ");
      146    12844        %LL$SECT_ENTRY ( NAME = SECT_ENTRY );
      147    12877        %LL$OU_ENTRY ( NAME = OU_ENTRY,
      148    12878         STCLASS = BASED );
      149    12926        %LL$OU_ENTRY ( NAME = LL_OU_ENTRY,
      150    12927         STCLASS = CONSTANT );
      151    12975        %LL$NODE ( NAME = NODE );
      152    13007    1   DCL PSIZE UBIN WORD ALIGNED;
      153    13008    1   DCL AVAIL$ PTR;
      154    13009    1   DCL T_OU$ PTR STATIC INIT (ADDR(NIL));
      155    13010    1   DCL SECT$ PTR STATIC;
      156    13011    1   DCL NAME$ PTR STATIC;
      157    13012    1   DCL NEW$ PTR STATIC;
      158    13013    1   DCL X UBIN WORD STATIC;
      159    13014    1   DCL DPTR$ PTR STATIC;
      160    13015    1   DCL SPTR$ PTR STATIC;
      161    13016    1   DCL NPTR UBIN WORD STATIC;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:69   
      162    13017    1   DCL TYPE UBIN WORD STATIC;
      163    13018    1   DCL K UBIN WORD STATIC;
      164    13019    1   DCL TEMP SBIN WORD STATIC ALIGNED;
      165    13020    1   DCL HEAD$ PTR;
      166    13021    1   DCL TEMP1 UBIN WORD STATIC ALIGNED;
      167    13022    1   DCL NEW_DCBNAME$ PTR;
      168    13023    1   DCL SYS_DCB BIT(1);
      169    13024    1   DCL DCB_COUNT UBIN;
      170    13025    1   DCL DCB_NPOINTERS(0:%G_SYS_DCBS#) UBIN WORD STATIC INIT(0*0);
      171    13026    1   DCL DCB_ALLOCATED(0:%G_SYS_DCBS#) BIT(1) STATIC INIT('0'B*0);
      172    13027    1   DCL DCBNAME$(0:%G_SYS_DCBS#) PTR CONSTANT INIT( ADDR(NIL),
      173    13028    1    ADDR(TM$DEBUG),ADDR(TM$LM),ADDR(TM$ME),ADDR(TM$HOST),ADDR(TM$DO));
      174    13029    1   DCL DCBN$ PTR;
      175    13030    1   DCL FOUND_DCB BIT(1);
      176    13031        %B$DNAME ( NAME = TM$DEBUG,
      177    13032         STCLASS = CONSTANT,
      178    13033         TEXT = 'M$DEBUG' );
      179    13052        %B$DNAME ( NAME = TM$LM,
      180    13053         STCLASS = CONSTANT,
      181    13054         TEXT = 'M$LM' );
      182    13073        %B$DNAME ( NAME = TM$ME,
      183    13074         STCLASS = CONSTANT,
      184    13075         TEXT = 'M$ME' );
      185    13094        %B$DNAME ( NAME = TM$HOST,
      186    13095         STCLASS = CONSTANT,
      187    13096         TEXT = 'M$HOST' );
      188    13115        %B$DNAME ( NAME = TM$DO,
      189    13116         STCLASS = CONSTANT,
      190    13117         TEXT = 'M$DO' );
      191    13136        %B$DNAME ( NAME = G_VERSION_NAME,
      192    13137         STCLASS = CONSTANT,
      193    13138         TEXT = 'G_VERSION' );
      194    13157        %B$DNAME ( NAME = G_PATCHI_NAME,
      195    13158         STCLASS = CONSTANT,
      196    13159         TEXT = 'G_PATCHI' );
      197    13178        %B$DNAME ( NAME = G_PATCHIH_NAME,
      198    13179         STCLASS = CONSTANT,
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:70   
      199    13180         TEXT = 'G_PATCHIH' );
      200    13199        %B$DNAME ( NAME = G_PATCHD_NAME,
      201    13200         STCLASS = CONSTANT,
      202    13201         TEXT = 'G_PATCHD');
      203    13220        %B$DNAME ( NAME = G_PATCHDH_NAME,
      204    13221         STCLASS = CONSTANT,
      205    13222         TEXT = 'G_PATCHDH');
      206    13241        %B$DNAME ( NAME = G_ROS_NAME,
      207    13242         STCLASS = CONSTANT,
      208    13243         TEXT = 'G$ROS$' );
      209    13262        %B$DNAME ( NAME = G_TCB_NAME,
      210    13263         STCLASS = CONSTANT,
      211    13264         TEXT = 'G$TCB$' );
      212    13283        %B$DNAME ( NAME = G_PIA_NAME,
      213    13284         STCLASS = CONSTANT,
      214    13285         TEXT = 'G$PIA$' );
      215    13304        %B$DNAME ( NAME = G_JIT_NAME,
      216    13305         STCLASS = CONSTANT,
      217    13306         TEXT = 'G$JIT$' );
      218    13325        %B$DNAME ( NAME = G_AUTO_DS_NAME,
      219    13326         STCLASS = CONSTANT,
      220    13327         TEXT = 'G$AUTO_DS$' );
      221    13346        %B$DNAME ( NAME = G_AUTO_T_NAME,
      222    13347         STCLASS = CONSTANT,
      223    13348         TEXT = 'G$AUTO_T$' );
      224    13367        %B$DNAME ( NAME = LINK_SUPPLIED_NAMES,
      225    13368         STCLASS = CONSTANT,
      226    13369         TEXT = '<FEPLINK supplied data items>' );
      227    13388        %B$DNAME (NAME = UNUSED_DATA_NAME,
      228    13389         STCLASS = CONSTANT,
      229    13390         TEXT = '<Unused_data>');
      230    13409    1   DCL G_VERSION_OFFSET UBIN WORD;
      231    13410    1   DCL G_PATCHI_OFFSET UBIN WORD;
      232    13411    1   DCL G_PATCHIH_OFFSET UBIN WORD;
      233    13412    1   DCL G_PATCHD_OFFSET UBIN WORD;
      234    13413    1   DCL G_PATCHDH_OFFSET UBIN WORD;
      235    13414    1   DCL G_ROS_OFFSET UBIN WORD;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:71   
      236    13415    1   DCL G_TCB_OFFSET UBIN WORD;
      237    13416    1   DCL G_PIA_OFFSET UBIN WORD;
      238    13417    1   DCL G_JIT_OFFSET UBIN WORD;
      239    13418    1   DCL G_AUTO_DS_OFFSET UBIN;
      240    13419    1   DCL G_AUTO_T_OFFSET UBIN;
      241    13420    1   DCL LINK_SUPPLIED_OFFSET UBIN WORD;
      242    13421    1   DCL DCB$ PTR;
      243    13422    1   DCL PROGSIZE UBIN WORD STATIC ALIGNED;
      244    13423    1   DCL J UBIN WORD ALIGNED;
      245    13424    1   DCL L UBIN WORD ALIGNED;
      246    13425    1   DCL LOCATION UBIN WORD ALIGNED;
      247    13426    1   DCL ADDRESS UBIN WORD ALIGNED;
      248    13427    1   DCL HEXSTR CHAR(6) UNAL;
      249    13428    1   DCL HEXSTR_ARY(0:5) REDEF HEXSTR CHAR(1);
      250    13429    1   DCL 1 STRING STATIC ALIGNED,
      251    13430    1         2 COUNT UBIN BYTE UNAL,
      252    13431    1         2 TEXT CHAR(6) UNAL;
      253    13432    1   DCL 1 B$STRING BASED CALIGNED,
      254    13433    1         2 COUNT UBIN BYTE UNAL,
      255    13434    1         2 TEXT CHAR(B$STRING.COUNT) UNAL;
      256    13435    1   DCL LLI$BINHEX ENTRY(3);
      257    13436    1   DCL RUWORD(0:%(LL_PRECSIZE-1)) UBIN WORD BASED ALIGNED;
      258    13437    1   DCL RUBYTE(0:0) UBIN BYTE BASED CALIGNED;
      259    13438    1   DCL TOTSIZE UBIN WORD ALIGNED;
      260    13439    1   DCL BOUND UBIN WORD ALIGNED;
      261    13440    1   DCL 1 PRGKEY STATIC ALIGNED,
      262    13441    1         2 COUNT UBIN BYTE UNAL INIT(5),
      263    13442    1         2 TYPE UBIN BYTE UNAL INIT(10),
      264    13443    1         2 ISADDR UBIN WORD UNAL;
      265    13444    1   DCL NO_FID# BIT(1) UNAL;
      266    13445    1   DCL MULT_STRT# BIT(1) STATIC ALIGNED INIT('0'B);
      267    13446    1   DCL BIAS SBIN WORD; /* FOR OU_BIAS */
      268    13447    1   DCL BIAS_OU_LOCATION UBIN WORD ALIGNED;
      269    13448    1   DCL BIAS_OU_WORD UBIN(20) ;
      270    13449    1   DCL PRE_OU$ PTR;
      271    13450    1   DCL LAST_UNIT_ADDR SBIN WORD;
      272    13451    1   DCL LAST_UNIT_SIZE SBIN WORD;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:72   
      273    13452    1   DCL LOW_UNIT_ADDR SBIN WORD;
      274    13453    1   DCL HIGH_UNIT_ADDR SBIN WORD;
      275    13454    1   DCL HIGH_UNIT_SIZE SBIN WORD;
      276    13455    1   DCL REGION UBIN BYTE;
      277    13456    1   DCL P$ PTR;
      278    13457    1   DCL Q$ PTR;
      279    13458    1   DCL TABLE_ARRAY_INX SBIN;
      280    13459    1   DCL 1 TABLE_ARRAY(0:30) ALIGNED,
      281    13460    1         2 TYPE BIT(1) UNAL,
      282    13461    1         2 SIZE UBIN(35) UNAL,
      283    13462    1         2 START UBIN(36) UNAL;
      284    13463    1   DCL UNUSED_OFFSET UBIN;
      285    13464    1   DCL DPATCH$ PTR;
      286    13465    1   DCL DATA$ PTR;
      287    13466        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:73   
      288    13467         /****************************************************************\
      289    13468         *                                                                *
      290    13469         * Initialization:                                                *
      291    13470         *                                                                *
      292    13471         *    The following block of code initializes certain critical    *
      293    13472         *    variables -                                                 *
      294    13473         *                                                                *
      295    13474         *         LL_HEAD.SEV <- 0    (initial severity level            *
      296    13475         *         NAME$               (pointer to def names record)      *
      297    13476         *         B$RUKEY <- def name (key initialized for def names)    *
      298    13477         *         PSIZE <- 0          (name pointer increment)           *
      299    13478         *         LL_R_OU$            (root pointer to OU list)          *
      300    13479         *         T_OU$               (pointer to top OU node in OU list)*
      301    13480         *         SPTR$               (pointer to previous OU node)      *
      302    13481         *         LL_FLAGS.REJECT#    (object unit/file reject flag)     *
      303    13482         *                                                                *
      304    13483         \****************************************************************/
      305    13484    1       LL_HEAD.SEV = 0;

  13484  5 000002   000000 236003                    LDQ     0,DU
         5 000003   000003 552040 xsym               STBQ    LL_HEAD+3,'40'O

      306    13485    1       LL_HEAD.UDCBNUM = 0;

  13485  5 000004   000000 220003                    LDX0    0,DU
         5 000005   000004 740000 xsym               STX0    LL_HEAD+4

      307    13486    2       CALL M$GDS (DNAME_FPT) WHENALTRETURN DO;

  13486  5 000006   000000 630400 3                  EPPR0   DNAME_FPT
         5 000007   430001 713400                    CLIMB   alt,gds
         5 000010   400400 401760                    pmme    nvectors=2
         5 000011   000013 702000 5                  TSX2    NO_MEM
         5 000012   000017 710000 5                  TRA     s:13489

      308    13487    2   NO_MEM: CALL LLM$MON_SVC(LL#GETMEM);

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:74   
  13487  5 000013   000000 630400 6     NO_MEM       EPPR0   0
         5 000014   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000015   000000 701000 xent               TSX1    LLM$MON_SVC
         5 000016   000000 011000                    NOP     0

      309    13488    2           END;

      310    13489    1       NAME$ = LL_DNAME_VEC.P$;

  13489  5 000017   000001 236000 xsym               LDQ     LL_DNAME_VEC+1
         5 000020   000411 756000 2                  STQ     NAME$

      311    13490    1       B$RUKEY = '0'B;

  13490  5 000021   000006 450000 2                  STZ     B$RUKEY
         5 000022   000007 450000 2                  STZ     B$RUKEY+1

      312    13491    1       B$RUKEY.TYPE = %TYPDNAM;

  13491  5 000023   000001 236003                    LDQ     1,DU
         5 000024   000006 552020 2                  STBQ    B$RUKEY,'20'O

      313    13492    1       B$RUKEY.KEYSIZ = 5;

  13492  5 000025   005000 236003                    LDQ     2560,DU
         5 000026   000006 552040 2                  STBQ    B$RUKEY,'40'O

      314    13493    1       B$RUKEY.ISADDR = 0;

  13493  5 000027   003000 061400                    CSR     bolr='003'O
         5 000030   000002 000044 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=36
         5 000031   000006 670024 2                  BDSC    B$RUKEY                  by=3,bit=7,n=20

      315    13494    1       PSIZE = 0;

  13494  5 000032   200011 450100                    STZ     PSIZE,,AUTO

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:75   
      316    13495    1       IF LL_FLAGS.VECTOR#

  13495  5 000033   000000 236000 xsym               LDQ     LL_FLAGS
         5 000034   000200 316007                    CANQ    128,DL
         5 000035   000071 600000 5                  TZE     s:13507

      317    13496    1       THEN
      318    13497    2       DO;

      319    13498    3           DO I = LL_NOU-1 DOWNTO 0 ;

  13498  5 000036   000000 235000 xsym               LDA     LL_NOU
         5 000037   000001 135007                    SBLA    1,DL
         5 000040   200007 755100                    STA     I,,AUTO
         5 000041   000052 710000 5                  TRA     s:13500+2

      320    13499    3               LL_OF$->OU_FID(I+1) = LL_OF$->OU_FID(I);

  13499  5 000042   200007 236100                    LDQ     I,,AUTO
         5 000043   000070 402007                    MPY     56,DL
         5 000044   000000 470400 xsym               LDP0    LL_OF$
         5 000045   000106 100506                    MLR     fill='000'O
         5 000046   000000 000070                    ADSC9   0,Q,PR0                  cn=0,n=56
         5 000047   000016 000070                    ADSC9   14,Q,PR0                 cn=0,n=56

      321    13500    3               END;

  13500  5 000050   000001 336007                    LCQ     1,DL
         5 000051   200007 056100                    ASQ     I,,AUTO
         5 000052   200007 235100                    LDA     I,,AUTO
         5 000053   000042 605000 5                  TPL     s:13499

      322    13501    2           LL_OF$->OU_FID.NAME(0) = '*TV';

  13501  5 000054   000000 470400 xsym               LDP0    LL_OF$
         5 000055   040100 100400                    MLR     fill='040'O
         5 000056   000127 000003 3                  ADSC9   UNUSED_DATA_NAME+4       cn=0,n=3
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:76   
         5 000057   000000 000062                    ADSC9   0,,PR0                   cn=0,n=50

      323    13502    2           LL_OF$->OU_FID.BIAS(0) = -1;

  13502  5 000060   000001 336007                    LCQ     1,DL
         5 000061   000000 470400 xsym               LDP0    LL_OF$
         5 000062   000015 756100                    STQ     13,,PR0

      324    13503    2           LL_R_OU$ = LL_TOPOMEM$;

  13503  5 000063   000000 236000 xsym               LDQ     LL_TOPOMEM$
         5 000064   000000 756000 xsym               STQ     LL_R_OU$

      325    13504    2           LL_NOU = LL_NOU + 1;

  13504  5 000065   000000 235000 xsym               LDA     LL_NOU
         5 000066   000001 035007                    ADLA    1,DL
         5 000067   000000 755000 xsym               STA     LL_NOU

      326    13505    2           END;

  13505  5 000070   000075 710000 5                  TRA     s:13508

      327    13506    1       ELSE
      328    13507    1           LL_R_OU$ =PINCRW (LL_OF$,LL_NOU * (SIZEW(OU_FID(0))));

  13507  5 000071   000000 236000 xsym               LDQ     LL_NOU
         5 000072   000016 402003                    MPY     14,DU
         5 000073   000000 036000 xsym               ADLQ    LL_OF$
         5 000074   000000 756000 xsym               STQ     LL_R_OU$

      329    13508    1       REGION = 0;

  13508  5 000075   200060 450100                    STZ     REGION,,AUTO

      330    13509    1       TABLE_ARRAY_INX = 0;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:77   
  13509  5 000076   200063 450100                    STZ     TABLE_ARRAY_INX,,AUTO

      331    13510    1       T_OU$ = LL_R_OU$;

  13510  5 000077   000407 756000 2                  STQ     T_OU$

      332    13511    1       SPTR$ = LL_R_OU$;

  13511  5 000100   000415 756000 2                  STQ     SPTR$

      333    13512    1       LL_FLAGS.REJECT# = '1'B;

  13512  5 000101   100000 236007                    LDQ     32768,DL
         5 000102   000000 256000 xsym               ORSQ    LL_FLAGS

      334    13513        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:78   
      335    13514         /****************************************************************\
      336    13515         *                                                                *
      337    13516         * Do until we run out of object files                            *
      338    13517         *                                                                *
      339    13518         \****************************************************************/
      340    13519    2       DO I = 0 TO LL_NOU - 1;

  13519  5 000103   200007 450100                    STZ     I,,AUTO
         5 000104   002072 710000 5                  TRA     s:13853+1

      341    13520    2           LL_FIRSTFID = LL_OF$ -> OU_FID.NAME(I);

  13520  5 000105   200007 236100                    LDQ     I,,AUTO
         5 000106   000070 402007                    MPY     56,DL
         5 000107   000000 470400 xsym               LDP0    LL_OF$
         5 000110   040000 100506                    MLR     fill='040'O
         5 000111   000000 000062                    ADSC9   0,Q,PR0                  cn=0,n=50
         5 000112   000000 000064 xsym               ADSC9   LL_FIRSTFID              cn=0,n=52

      342    13521    2           IF LL_OF$->OU_FID.BIAS(I) ~= -1

  13521  5 000113   200007 236100                    LDQ     I,,AUTO
         5 000114   000016 402007                    MPY     14,DL
         5 000115   000015 235106                    LDA     13,QL,PR0
         5 000116   000027 115000 xsym               CMPA    B_VECTNIL+23
         5 000117   000127 600000 5                  TZE     s:13527

      343    13522    2           THEN
      344    13523    3           DO;

      345    13524    3               REGION = REGION + 1;

  13524  5 000120   200060 236100                    LDQ     REGION,,AUTO
         5 000121   001000 036003                    ADLQ    512,DU
         5 000122   200060 552140                    STBQ    REGION,'40'O,AUTO

      346    13525    3               BIAS = LL_OF$ -> OU_FID.BIAS(I);
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:79   

  13525  5 000123   200007 236100                    LDQ     I,,AUTO
         5 000124   000016 402007                    MPY     14,DL
         5 000125   000015 235106                    LDA     13,QL,PR0
         5 000126   200047 755100                    STA     BIAS,,AUTO

      347    13526    3               END;

      348    13527    2           CALL LLM$MON_SVC (LL#FID);

  13527  5 000127   000001 630400 6                  EPPR0   1
         5 000130   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000131   000000 701000 xent               TSX1    LLM$MON_SVC
         5 000132   000000 011000                    NOP     0

      349    13528    2           CALL LLM$MON_SVC (LL#OPENEF) ALTRET (NO_FILE);

  13528  5 000133   000003 630400 6                  EPPR0   3
         5 000134   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000135   000000 701000 xent               TSX1    LLM$MON_SVC
         5 000136   010046 702000 5                  TSX2    NO_FILE

      350    13529        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:80   
      351    13530         /*
      352    13531
      353    13532            After each object file has been opened, read in 1st/next head
      354    13533            record and verify that it is a head record.
      355    13534
      356    13535            When there are no more head records, terminate processing of
      357    13536            the object file and get the next object file out of the object
      358    13537            file list passed in from LLA$MAIN.  If there are no more files
      359    13538            to be processed, return to the main program
      360    13539         */
      361    13540    3           DO WHILE '1'B;

      362    13541    3               CALL LLM$MON_SVC (LL#GETMEM, 1024, T_OU$);

  13541  5 000137   000005 630400 6                  EPPR0   5
         5 000140   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 000141   000000 701000 xent               TSX1    LLM$MON_SVC
         5 000142   000000 011000                    NOP     0

      363    13542    3               T_OU$ -> OU_ENTRY = LL_OU_ENTRY;

  13542  5 000143   000407 470400 2                  LDP0    T_OU$
         5 000144   000015 236100                    LDQ     13,,PR0
         5 000145   000033 772000                    QRL     27
         5 000146   000065 620006                    EAX0    53,QL
         5 000147   000140 100400                    MLR     fill='000'O
         5 000150   000010 000124 3                  ADSC9   LL_OU_ENTRY              cn=0,n=84
         5 000151   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0

      364    13543    3               HEAD$ = PINCRW(T_OU$, SIZEW(LL_OU_ENTRY));

  13543  5 000152   000407 236000 2                  LDQ     T_OU$
         5 000153   000025 036003                    ADLQ    21,DU
         5 000154   200013 756100                    STQ     HEAD$,,AUTO

      365    13544    3               T_OU$ -> OU_ENTRY.HEAD$ = HEAD$;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:81   
  13544  5 000155   000407 470400 2                  LDP0    T_OU$
         5 000156   000013 756100                    STQ     11,,PR0

      366    13545    3               CALL LLM$MON_SVC (LL#READHEAD, HEAD$, SIZEC(B$OUHEAD),

  13545  5 000157   000012 237000 6                  LDAQ    10
         5 000160   200174 757100                    STAQ    T+4,,AUTO
         5 000161   200013 630500                    EPPR0   HEAD$,,AUTO
         5 000162   200173 450500                    STP0    T+3,,AUTO
         5 000163   000014 236000 6                  LDQ     12
         5 000164   200172 756100                    STQ     T+2,,AUTO
         5 000165   200172 630500                    EPPR0   T+2,,AUTO
         5 000166   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 000167   000000 701000 xent               TSX1    LLM$MON_SVC
         5 000170   002010 702000 5                  TSX2    REJECT_OF

      367    13546    3                  EF_KEY) ALTRET (REJECT_OF);
      368    13547    3               LL_OU_PTR$ = T_OU$;

  13547  5 000171   000407 236000 2                  LDQ     T_OU$
         5 000172   000000 756000 xsym               STQ     LL_OU_PTR$

      369    13548    3               LL_STATE = LL#PASS1;

  13548  5 000173   000001 235007                    LDA     1,DL
         5 000174   000000 755000 xsym               STA     LL_STATE

      370    13549    3               IF EF_KEY.HFLAG ~= '042'O THEN GOTO REJECT_OF;

  13549  5 000175   000376 236000 2                  LDQ     EF_KEY
         5 000176   000777 376003                    ANQ     511,DU
         5 000177   000042 116003                    CMPQ    34,DU
         5 000200   002010 601000 5                  TNZ     REJECT_OF

      371    13550    3               T_OU$ -> OU_ENTRY.OF = I;

  13550  5 000201   000407 470400 2                  LDP0    T_OU$
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:82   
         5 000202   200007 236100                    LDQ     I,,AUTO
         5 000203   000000 756100                    STQ     0,,PR0

      372    13551    3               T_OU$->OU_ENTRY.REGION = REGION;

  13551  5 000204   000407 470400 2                  LDP0    T_OU$
         5 000205   200060 236100                    LDQ     REGION,,AUTO
         5 000206   000033 772000                    QRL     27
         5 000207   000033 736000                    QLS     27
         5 000210   000014 756100                    STQ     12,,PR0

      373    13552    3               T_OU$ -> OU_ENTRY.OUNAME.SIZE = EF_KEY.KEYSIZ - 1;

  13552  5 000211   000407 470400 2                  LDP0    T_OU$
         5 000212   000376 236000 2                  LDQ     EF_KEY
         5 000213   000033 772000                    QRL     27
         5 000214   000001 136007                    SBLQ    1,DL
         5 000215   000033 736000                    QLS     27
         5 000216   000015 552140                    STBQ    13,'40'O,PR0

      374    13553    3               T_OU$ -> OU_ENTRY.OUNAME.TEXT = EF_KEY.TEXT;

  13553  5 000217   000407 470400 2                  LDP0    T_OU$
         5 000220   000015 236100                    LDQ     13,,PR0
         5 000221   000033 772000                    QRL     27
         5 000222   000000 620006                    EAX0    0,QL
         5 000223   040140 100400                    MLR     fill='040'O
         5 000224   000376 400037 2                  ADSC9   EF_KEY                   cn=2,n=31
         5 000225   000015 200010                    ADSC9   13,,PR0                  cn=1,n=*X0

      375    13554    4               IF HEAD$ -> B$OUHEAD.WORDSIZE ~= 16 THEN DO;

  13554  5 000226   200013 470500                    LDP0    HEAD$,,AUTO
         5 000227   000001 236100                    LDQ     1,,PR0
         5 000230   777000 376003                    ANQ     -512,DU
         5 000231   020000 116003                    CMPQ    8192,DU
         5 000232   000276 600000 5                  TZE     s:13562
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:83   

      376    13555    4                   CALL CONCAT ( LL_DOBUF,

  13555  5 000233   000407 471400 2                  LDP1    T_OU$
         5 000234   100015 236100                    LDQ     13,,PR1
         5 000235   000033 772000                    QRL     27
         5 000236   040000 100400                    MLR     fill='040'O
         5 000237   000130 000056 3                  ADSC9   UNUSED_DATA_NAME+5       cn=0,n=46
         5 000240   000000 000056 xsym               ADSC9   LL_DOBUF                 cn=0,n=46
         5 000241   000000 620006                    EAX0    0,QL
         5 000242   040000 100540                    MLR     fill='040'O
         5 000243   100015 200010                    ADSC9   13,,PR1                  cn=1,n=*X0
         5 000244   000013 400102 xsym               ADSC9   LL_DOBUF+11              cn=2,n=66
         5 000245   000102 116007                    CMPQ    66,DL
         5 000246   000272 603000 5                  TRC     s:13560
         5 000247   777675 620006                    EAX0    -67,QL
         5 000250   777777 660003                    ERX0    -1,DU
         5 000251   040046 100400                    MLR     fill='040'O
         5 000252   000144 000020 3                  ADSC9   UNUSED_DATA_NAME+17      cn=0,n=16
         5 000253   000013 400010 xsym               ADSC9   LL_DOBUF+11,Q            cn=2,n=*X0
         5 000254   000062 116007                    CMPQ    50,DL
         5 000255   000272 603000 5                  TRC     s:13560
         5 000256   000000 620006                    EAX0    0,QL
         5 000257   200007 236100                    LDQ     I,,AUTO
         5 000260   000070 402007                    MPY     56,DL
         5 000261   200172 740100                    STX0    T+2,,AUTO
         5 000262   777715 620010                    EAX0    -51,X0
         5 000263   777777 660003                    ERX0    -1,DU
         5 000264   000000 473400 xsym               LDP3    LL_OF$
         5 000265   200172 235100                    LDA     T+2,,AUTO
         5 000266   000022 771000                    ARL     18
         5 000267   040045 100506                    MLR     fill='040'O
         5 000270   300000 000062                    ADSC9   0,Q,PR3                  cn=0,n=50
         5 000271   000017 400010 xsym               ADSC9   LL_DOBUF+15,A            cn=2,n=*X0

      377    13556    4                      'A  Warning:  Illegal word size in object uint ',
      378    13557    4                      T_OU$ -> OU_ENTRY.OUNAME.TEXT,
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:84   
      379    13558    4                      ' of object file ',
      380    13559    4                      LL_OF$->OU_FID.NAME(I));
      381    13560    4                   CALL LLM$MON_SVC ( LL#WRITEDO );

  13560  5 000272   000015 630400 6                  EPPR0   13
         5 000273   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000274   000000 701000 xent               TSX1    LLM$MON_SVC
         5 000275   000000 011000                    NOP     0

      382    13561    4                   END;

      383    13562    3               IF HEAD$ -> B$OUHEAD.SEVLEV > LL_HEAD.SEV THEN

  13562  5 000276   200013 470500                    LDP0    HEAD$,,AUTO
         5 000277   000003 236100                    LDQ     3,,PR0
         5 000300   000022 772000                    QRL     18
         5 000301   200172 756100                    STQ     T+2,,AUTO
         5 000302   000003 236000 xsym               LDQ     LL_HEAD+3
         5 000303   000033 772000                    QRL     27
         5 000304   200172 116100                    CMPQ    T+2,,AUTO
         5 000305   000311 605000 5                  TPL     s:13564

      384    13563    3                   LL_HEAD.SEV = HEAD$ -> B$OUHEAD.SEVLEV;

  13563  5 000306   000003 236100                    LDQ     3,,PR0
         5 000307   000011 736000                    QLS     9
         5 000310   000003 552040 xsym               STBQ    LL_HEAD+3,'40'O

      385    13564    4               IF LL_FLAGS.NOLIST# OR HEAD$ -> B$OUHEAD.SEVLEV > 0 THEN DO;

  13564  5 000311   000000 236000 xsym               LDQ     LL_FLAGS
         5 000312   020000 316007                    CANQ    8192,DL
         5 000313   000316 601000 5                  TNZ     s:13565
         5 000314   000003 220100                    LDX0    3,,PR0
         5 000315   000520 600000 5                  TZE     s:13590

      386    13565    4                   CALL INSERT (LL_LOBUF,0,,
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:85   

  13565  5 000316   000407 471400 2                  LDP1    T_OU$
         5 000317   100015 236100                    LDQ     13,,PR1
         5 000320   000033 772000                    QRL     27
         5 000321   040000 100400                    MLR     fill='040'O
         5 000322   000150 000016 3                  ADSC9   UNUSED_DATA_NAME+21      cn=0,n=14
         5 000323   000000 000016 xsym               ADSC9   LL_LOBUF                 cn=0,n=14
         5 000324   000000 620006                    EAX0    0,QL
         5 000325   040000 100540                    MLR     fill='040'O
         5 000326   100015 200010                    ADSC9   13,,PR1                  cn=1,n=*X0
         5 000327   000003 400142 xsym               ADSC9   LL_LOBUF+3               cn=2,n=98
         5 000330   000142 116007                    CMPQ    98,DL
         5 000331   000355 603000 5                  TRC     s:13570
         5 000332   777635 620006                    EAX0    -99,QL
         5 000333   777777 660003                    ERX0    -1,DU
         5 000334   040046 100400                    MLR     fill='040'O
         5 000335   000144 000004 3                  ADSC9   UNUSED_DATA_NAME+17      cn=0,n=4
         5 000336   000003 400010 xsym               ADSC9   LL_LOBUF+3,Q             cn=2,n=*X0
         5 000337   000136 116007                    CMPQ    94,DL
         5 000340   000355 603000 5                  TRC     s:13570
         5 000341   000000 620006                    EAX0    0,QL
         5 000342   200007 236100                    LDQ     I,,AUTO
         5 000343   000070 402007                    MPY     56,DL
         5 000344   200172 740100                    STX0    T+2,,AUTO
         5 000345   777641 620010                    EAX0    -95,X0
         5 000346   777777 660003                    ERX0    -1,DU
         5 000347   000000 473400 xsym               LDP3    LL_OF$
         5 000350   200172 235100                    LDA     T+2,,AUTO
         5 000351   000022 771000                    ARL     18
         5 000352   040045 100506                    MLR     fill='040'O
         5 000353   300000 000062                    ADSC9   0,Q,PR3                  cn=0,n=50
         5 000354   000004 400010 xsym               ADSC9   LL_LOBUF+4,A             cn=2,n=*X0

      387    13566    4                      'A  ...Linking ',
      388    13567    4                      T_OU$ -> OU_ENTRY.OUNAME.TEXT,
      389    13568    4                      ' of ',
      390    13569    4                      LL_OF$->OU_FID.NAME(I));
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:86   
      391    13570    5                   IF HEAD$ -> B$OUHEAD.SEVLEV > 0 THEN DO;

  13570  5 000355   000003 220100                    LDX0    3,,PR0
         5 000356   000514 600000 5                  TZE     s:13588

      392    13571    5                       CALL BINCHAR (HEXSTR, HEAD$ -> B$OUHEAD.SEVLEV);

  13571  5 000357   000003 236100                    LDQ     3,,PR0
         5 000360   000022 772000                    QRL     18
         5 000361   000000 235003                    LDA     0,DU
         5 000362   200172 757100                    STAQ    T+2,,AUTO
         5 000363   000100 301500                    BTD
         5 000364   200172 000010                    NDSC9   T+2,,AUTO                cn=0,s=lsgnf,sf=0,n=8
         5 000365   200042 030006                    NDSC9   HEXSTR,,AUTO             cn=0,s=nosgn,sf=0,n=6

      393    13572    5                       J = 0;

  13572  5 000366   200036 450100                    STZ     J,,AUTO

      394    13573    6                       DO WHILE (HEXSTR_ARY(J) = '0' AND J < 5);

  13573  5 000367   000373 710000 5                  TRA     s:13575

      395    13574    6                           J = J + 1;

  13574  5 000370   200036 235100                    LDA     J,,AUTO
         5 000371   000001 035007                    ADLA    1,DL
         5 000372   200036 755100                    STA     J,,AUTO

      396    13575    6                           END;

  13575  5 000373   200036 235100                    LDA     J,,AUTO
         5 000374   040000 106505                    CMPC    fill='040'O
         5 000375   200042 000001                    ADSC9   HEXSTR,A,AUTO            cn=0,n=1
         5 000376   000016 000001 6                  ADSC9   14                       cn=0,n=1
         5 000377   000402 601000 5                  TNZ     s:13576
         5 000400   000005 115007                    CMPA    5,DL
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:87   
         5 000401   000370 602000 5                  TNC     s:13574

      397    13576    6                       DO TEMP = 0 TO 5 - J;

  13576  5 000402   000421 450000 2                  STZ     TEMP
         5 000403   000413 710000 5                  TRA     s:13578+1

      398    13577    6                           HEXSTR_ARY(TEMP) = HEXSTR_ARY(TEMP + J);

  13577  5 000404   000421 236000 2                  LDQ     TEMP
         5 000405   200036 036100                    ADLQ    J,,AUTO
         5 000406   000421 235000 2                  LDA     TEMP
         5 000407   040105 100506                    MLR     fill='040'O
         5 000410   200042 000001                    ADSC9   HEXSTR,Q,AUTO            cn=0,n=1
         5 000411   200042 000001                    ADSC9   HEXSTR,A,AUTO            cn=0,n=1

      399    13578    6                           END;

  13578  5 000412   000421 054000 2                  AOS     TEMP
         5 000413   000005 236007                    LDQ     5,DL
         5 000414   200036 136100                    SBLQ    J,,AUTO
         5 000415   000421 116000 2                  CMPQ    TEMP
         5 000416   000404 605000 5                  TPL     s:13577

      400    13579    5                       STRING.COUNT = 6 - J;

  13579  5 000417   000006 236007                    LDQ     6,DL
         5 000420   200036 136100                    SBLQ    J,,AUTO
         5 000421   000033 736000                    QLS     27
         5 000422   000433 552040 2                  STBQ    STRING,'40'O

      401    13580    5                       STRING.TEXT = HEXSTR;

  13580  5 000423   040000 100500                    MLR     fill='040'O
         5 000424   200042 000006                    ADSC9   HEXSTR,,AUTO             cn=0,n=6
         5 000425   000433 200006 2                  ADSC9   STRING                   cn=1,n=6

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:88   
      402    13581    5                       TEMP = 18 + T_OU$ -> OU_ENTRY.OUNAME.SIZE;

  13581  5 000426   000407 470400 2                  LDP0    T_OU$
         5 000427   000015 236100                    LDQ     13,,PR0
         5 000430   000033 772000                    QRL     27
         5 000431   000022 036007                    ADLQ    18,DL
         5 000432   000421 756000 2                  STQ     TEMP

      403    13582    5                       CALL INDEX (TEMP, ' ', LL_LOBUF, TEMP);

  13582  5 000433   777617 620006                    EAX0    -113,QL
         5 000434   777777 660003                    ERX0    -1,DU
         5 000435   000421 235000 2                  LDA     TEMP
         5 000436   000000 124445                    SCM     mask='000'O
         5 000437   000000 000010 xsym               ADSC9   LL_LOBUF,A               cn=0,n=*X0
         5 000440   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         5 000441   000421 000000 2                  ARG     TEMP
         5 000442   000421 056000 2                  ASQ     TEMP

      404    13583    5                       CALL INSERT (LL_LOBUF,TEMP,,' (SL=',

  13583  5 000443   000433 236000 2                  LDQ     STRING
         5 000444   000033 772000                    QRL     27
         5 000445   000421 720000 2                  LXL0    TEMP
         5 000446   777617 620010                    EAX0    -113,X0
         5 000447   777777 660003                    ERX0    -1,DU
         5 000450   000421 235000 2                  LDA     TEMP
         5 000451   040045 100400                    MLR     fill='040'O
         5 000452   000154 000005 3                  ADSC9   UNUSED_DATA_NAME+25      cn=0,n=5
         5 000453   000000 000010 xsym               ADSC9   LL_LOBUF,A               cn=0,n=*X0
         5 000454   000000 621006                    EAX1    0,QL
         5 000455   000421 236000 2                  LDQ     TEMP
         5 000456   000153 116007                    CMPQ    107,DL
         5 000457   000504 605000 5                  TPL     s:13585
         5 000460   777624 622006                    EAX2    -108,QL
         5 000461   777777 662003                    ERX2    -1,DU
         5 000462   040046 100440                    MLR     fill='040'O
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:89   
         5 000463   000433 200011 2                  ADSC9   STRING                   cn=1,n=*X1
         5 000464   000001 200012 xsym               ADSC9   LL_LOBUF+1,Q             cn=1,n=*X2
         5 000465   000000 636011                    EAQ     0,X1
         5 000466   000022 772000                    QRL     18
         5 000467   000421 036000 2                  ADLQ    TEMP
         5 000470   000153 116007                    CMPQ    107,DL
         5 000471   000504 605000 5                  TPL     s:13585
         5 000472   200172 756100                    STQ     T+2,,AUTO
         5 000473   000000 636011                    EAQ     0,X1
         5 000474   000022 772000                    QRL     18
         5 000475   000421 036000 2                  ADLQ    TEMP
         5 000476   200172 723100                    LXL3    T+2,,AUTO
         5 000477   777624 623013                    EAX3    -108,X3
         5 000500   777777 663003                    ERX3    -1,DU
         5 000501   040046 100400                    MLR     fill='040'O
         5 000502   000017 000001 6                  ADSC9   15                       cn=0,n=1
         5 000503   000001 200013 xsym               ADSC9   LL_LOBUF+1,Q             cn=1,n=*X3

      405    13584    5                          ADDR(STRING) -> B$STRING.TEXT, ')');
      406    13585    5                       LL_DOBUF = LL_LOBUF;

  13585  5 000504   040000 100400                    MLR     fill='040'O
         5 000505   000000 000160 xsym               ADSC9   LL_LOBUF                 cn=0,n=112
         5 000506   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      407    13586    5                       CALL LLM$MON_SVC (LL#WRITEDO);

  13586  5 000507   000015 630400 6                  EPPR0   13
         5 000510   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000511   000000 701000 xent               TSX1    LLM$MON_SVC
         5 000512   000000 011000                    NOP     0

      408    13587    5                       END;

  13587  5 000513   000520 710000 5                  TRA     s:13590

      409    13588    4                   ELSE CALL LLM$MON_SVC (LL#WRITELO);
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:90   

  13588  5 000514   000020 630400 6                  EPPR0   16
         5 000515   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000516   000000 701000 xent               TSX1    LLM$MON_SVC
         5 000517   000000 011000                    NOP     0

      410    13589    4                   END;

      411    13590    4               IF HEAD$ -> B$OUHEAD.START.OPNDTYP > 0 THEN DO;

  13590  5 000520   200013 470500                    LDP0    HEAD$,,AUTO
         5 000521   000002 236100                    LDQ     2,,PR0
         5 000522   740000 316003                    CANQ    -16384,DU
         5 000523   000751 600000 5                  TZE     s:13641

      412    13591    5                   IF HEAD$ -> B$OUHEAD.START.OPNDTYP ~= %OPERSECT THEN DO;

  13591  5 000524   000002 236100                    LDQ     2,,PR0
         5 000525   740000 376003                    ANQ     -16384,DU
         5 000526   040000 116003                    CMPQ    16384,DU
         5 000527   000605 600000 5                  TZE     s:13604

      413    13592    5                       LL_DOBUF =

  13592  5 000530   040000 100400                    MLR     fill='040'O
         5 000531   000156 000053 3                  ADSC9   UNUSED_DATA_NAME+27      cn=0,n=43
         5 000532   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      414    13593    5                          'A  ***Object language error: bad start addr';
      415    13594    5                       CALL LLM$MON_SVC (LL#WRITEDO);

  13594  5 000533   000015 630400 6                  EPPR0   13
         5 000534   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000535   000000 701000 xent               TSX1    LLM$MON_SVC
         5 000536   000000 011000                    NOP     0

      416    13595    5                       LL_HEAD.SEV = 16;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:91   

  13595  5 000537   020000 236003                    LDQ     8192,DU
         5 000540   000003 552040 xsym               STBQ    LL_HEAD+3,'40'O

      417    13596    5                       CALL INSERT (LL_DOBUF,0,,

  13596  5 000541   000407 470400 2                  LDP0    T_OU$
         5 000542   000015 236100                    LDQ     13,,PR0
         5 000543   000033 772000                    QRL     27
         5 000544   040000 100400                    MLR     fill='040'O
         5 000545   000171 000065 3                  ADSC9   UNUSED_DATA_NAME+38      cn=0,n=53
         5 000546   000000 000065 xsym               ADSC9   LL_DOBUF                 cn=0,n=53
         5 000547   000000 620006                    EAX0    0,QL
         5 000550   040000 100540                    MLR     fill='040'O
         5 000551   000015 200010                    ADSC9   13,,PR0                  cn=1,n=*X0
         5 000552   000015 200073 xsym               ADSC9   LL_DOBUF+13              cn=1,n=59
         5 000553   000073 116007                    CMPQ    59,DL
         5 000554   000600 603000 5                  TRC     s:13601
         5 000555   777704 620006                    EAX0    -60,QL
         5 000556   777777 660003                    ERX0    -1,DU
         5 000557   040046 100400                    MLR     fill='040'O
         5 000560   000207 000013 3                  ADSC9   UNUSED_DATA_NAME+52      cn=0,n=11
         5 000561   000015 200010 xsym               ADSC9   LL_DOBUF+13,Q            cn=1,n=*X0
         5 000562   000060 116007                    CMPQ    48,DL
         5 000563   000600 603000 5                  TRC     s:13601
         5 000564   000000 620006                    EAX0    0,QL
         5 000565   200007 236100                    LDQ     I,,AUTO
         5 000566   000070 402007                    MPY     56,DL
         5 000567   200172 740100                    STX0    T+2,,AUTO
         5 000570   777717 620010                    EAX0    -49,X0
         5 000571   777777 660003                    ERX0    -1,DU
         5 000572   000000 471400 xsym               LDP1    LL_OF$
         5 000573   200172 235100                    LDA     T+2,,AUTO
         5 000574   000022 771000                    ARL     18
         5 000575   040045 100506                    MLR     fill='040'O
         5 000576   100000 000062                    ADSC9   0,Q,PR1                  cn=0,n=50
         5 000577   000020 000010 xsym               ADSC9   LL_DOBUF+16,A            cn=0,n=*X0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:92   

      418    13597    5                          'A     The error occured while processing object unit ',
      419    13598    5                          T_OU$->OU_ENTRY.OUNAME.TEXT,
      420    13599    5                          ' from file ',
      421    13600    5                          LL_OF$->OU_FID.NAME(I));
      422    13601    5                       CALL LLM$MON_SVC (LL#WRITEDO);

  13601  5 000600   000015 630400 6                  EPPR0   13
         5 000601   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000602   000000 701000 xent               TSX1    LLM$MON_SVC
         5 000603   000000 011000                    NOP     0

      423    13602    5                       END;

  13602  5 000604   000751 710000 5                  TRA     s:13641

      424    13603    5                   ELSE DO;

      425    13604    6                       IF (LL_START$ ~= ADDR(NIL)) THEN DO;

  13604  5 000605   000000 236000 xsym               LDQ     LL_START$
         5 000606   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 000607   000747 600000 5                  TZE     s:13628

      426    13605    7                           IF NOT MULT_STRT# THEN DO;

  13605  5 000610   000437 234000 2                  SZN     MULT_STRT#
         5 000611   000675 604000 5                  TMI     s:13618

      427    13606    7                               LL_DOBUF = 'A  ***Multiple start addrs encountered';

  13606  5 000612   040000 100400                    MLR     fill='040'O
         5 000613   000212 000046 3                  ADSC9   UNUSED_DATA_NAME+55      cn=0,n=38
         5 000614   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      428    13607    7                               CALL LLM$MON_SVC (LL#WRITEDO);

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:93   
  13607  5 000615   000015 630400 6                  EPPR0   13
         5 000616   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000617   000000 701000 xent               TSX1    LLM$MON_SVC
         5 000620   000000 011000                    NOP     0

      429    13608    7                               CALL INSERT (LL_DOBUF,0,,

  13608  5 000621   000407 470400 2                  LDP0    T_OU$
         5 000622   000015 236100                    LDQ     13,,PR0
         5 000623   000033 772000                    QRL     27
         5 000624   040000 100400                    MLR     fill='040'O
         5 000625   000224 000042 3                  ADSC9   UNUSED_DATA_NAME+65      cn=0,n=34
         5 000626   000000 000042 xsym               ADSC9   LL_DOBUF                 cn=0,n=34
         5 000627   000000 620006                    EAX0    0,QL
         5 000630   040000 100540                    MLR     fill='040'O
         5 000631   000015 200010                    ADSC9   13,,PR0                  cn=1,n=*X0
         5 000632   000010 400116 xsym               ADSC9   LL_DOBUF+8               cn=2,n=78
         5 000633   000116 116007                    CMPQ    78,DL
         5 000634   000660 603000 5                  TRC     s:13613
         5 000635   777661 620006                    EAX0    -79,QL
         5 000636   777777 660003                    ERX0    -1,DU
         5 000637   040046 100400                    MLR     fill='040'O
         5 000640   000207 000013 3                  ADSC9   UNUSED_DATA_NAME+52      cn=0,n=11
         5 000641   000010 400010 xsym               ADSC9   LL_DOBUF+8,Q             cn=2,n=*X0
         5 000642   000103 116007                    CMPQ    67,DL
         5 000643   000660 603000 5                  TRC     s:13613
         5 000644   000000 620006                    EAX0    0,QL
         5 000645   200007 236100                    LDQ     I,,AUTO
         5 000646   000070 402007                    MPY     56,DL
         5 000647   200172 740100                    STX0    T+2,,AUTO
         5 000650   777674 620010                    EAX0    -68,X0
         5 000651   777777 660003                    ERX0    -1,DU
         5 000652   000000 471400 xsym               LDP1    LL_OF$
         5 000653   200172 235100                    LDA     T+2,,AUTO
         5 000654   000022 771000                    ARL     18
         5 000655   040045 100506                    MLR     fill='040'O
         5 000656   100000 000062                    ADSC9   0,Q,PR1                  cn=0,n=50
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:94   
         5 000657   000013 200010 xsym               ADSC9   LL_DOBUF+11,A            cn=1,n=*X0

      430    13609    7                                  'A     Using addr from object unit ',
      431    13610    7                                  T_OU$->OU_ENTRY.OUNAME.TEXT,
      432    13611    7                                  ' from file ',
      433    13612    7                                  LL_OF$->OU_FID.NAME(I));
      434    13613    7                               CALL LLM$MON_SVC (LL#WRITEDO);

  13613  5 000660   000015 630400 6                  EPPR0   13
         5 000661   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000662   000000 701000 xent               TSX1    LLM$MON_SVC
         5 000663   000000 011000                    NOP     0

      435    13614    7                               LL_DOBUF = 'A     Other start addrs found in:';

  13614  5 000664   040000 100400                    MLR     fill='040'O
         5 000665   000235 000041 3                  ADSC9   UNUSED_DATA_NAME+74      cn=0,n=33
         5 000666   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      436    13615    7                               CALL LLM$MON_SVC (LL#WRITEDO);

  13615  5 000667   000015 630400 6                  EPPR0   13
         5 000670   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000671   000000 701000 xent               TSX1    LLM$MON_SVC
         5 000672   000000 011000                    NOP     0

      437    13616    7                               MULT_STRT# = '1'B;

  13616  5 000673   400000 236003                    LDQ     -131072,DU
         5 000674   000437 756000 2                  STQ     MULT_STRT#

      438    13617    7                               END;

      439    13618    6                           CALL INSERT (LL_DOBUF,0,,

  13618  5 000675   000407 470400 2                  LDP0    T_OU$
         5 000676   000015 236100                    LDQ     13,,PR0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:95   
         5 000677   000033 772000                    QRL     27
         5 000700   040000 100400                    MLR     fill='040'O
         5 000701   000246 000012 3                  ADSC9   UNUSED_DATA_NAME+83      cn=0,n=10
         5 000702   000000 000012 xsym               ADSC9   LL_DOBUF                 cn=0,n=10
         5 000703   000000 620006                    EAX0    0,QL
         5 000704   040000 100540                    MLR     fill='040'O
         5 000705   000015 200010                    ADSC9   13,,PR0                  cn=1,n=*X0
         5 000706   000002 400146 xsym               ADSC9   LL_DOBUF+2               cn=2,n=102
         5 000707   000146 116007                    CMPQ    102,DL
         5 000710   000734 603000 5                  TRC     s:13623
         5 000711   777631 620006                    EAX0    -103,QL
         5 000712   777777 660003                    ERX0    -1,DU
         5 000713   040046 100400                    MLR     fill='040'O
         5 000714   000207 000013 3                  ADSC9   UNUSED_DATA_NAME+52      cn=0,n=11
         5 000715   000002 400010 xsym               ADSC9   LL_DOBUF+2,Q             cn=2,n=*X0
         5 000716   000133 116007                    CMPQ    91,DL
         5 000717   000734 603000 5                  TRC     s:13623
         5 000720   000000 620006                    EAX0    0,QL
         5 000721   200007 236100                    LDQ     I,,AUTO
         5 000722   000070 402007                    MPY     56,DL
         5 000723   200172 740100                    STX0    T+2,,AUTO
         5 000724   777644 620010                    EAX0    -92,X0
         5 000725   777777 660003                    ERX0    -1,DU
         5 000726   000000 471400 xsym               LDP1    LL_OF$
         5 000727   200172 235100                    LDA     T+2,,AUTO
         5 000730   000022 771000                    ARL     18
         5 000731   040045 100506                    MLR     fill='040'O
         5 000732   100000 000062                    ADSC9   0,Q,PR1                  cn=0,n=50
         5 000733   000005 200010 xsym               ADSC9   LL_DOBUF+5,A             cn=1,n=*X0

      440    13619    6                              'A         ',
      441    13620    6                              T_OU$->OU_ENTRY.OUNAME.TEXT,
      442    13621    6                              ' from file ',
      443    13622    6                              LL_OF$->OU_FID.NAME(I));
      444    13623    6                           CALL LLM$MON_SVC (LL#WRITEDO);

  13623  5 000734   000015 630400 6                  EPPR0   13
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:96   
         5 000735   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000736   000000 701000 xent               TSX1    LLM$MON_SVC
         5 000737   000000 011000                    NOP     0

      445    13624    6                           IF LL_HEAD.SEV < 4 THEN

  13624  5 000740   000003 236000 xsym               LDQ     LL_HEAD+3
         5 000741   777000 376003                    ANQ     -512,DU
         5 000742   004000 116003                    CMPQ    2048,DU
         5 000743   000751 603000 5                  TRC     s:13641

      446    13625    6                               LL_HEAD.SEV = 4;

  13625  5 000744   004000 236003                    LDQ     2048,DU
         5 000745   000003 552040 xsym               STBQ    LL_HEAD+3,'40'O

      447    13626    6                           END;

  13626  5 000746   000751 710000 5                  TRA     s:13641

      448    13627    6                       ELSE DO;

      449    13628    6                           LL_START$ = T_OU$;

  13628  5 000747   000407 236000 2                  LDQ     T_OU$
         5 000750   000000 756000 xsym               STQ     LL_START$

      450    13629    6                           END;

      451    13630    5                       END;

      452    13631    4                   END;

      453    13632        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:97   
      454    13633         /****************************************************************\
      455    13634         *                                                                *
      456    13635         * Process def names record:                                      *
      457    13636         *                                                                *
      458    13637         *    Extend the def names memory segment with the ones from      *
      459    13638         *    the current OU.                                             *
      460    13639         *                                                                *
      461    13640         \****************************************************************/
      462    13641    3               LL_FLAGS.REJECT# = '0'B;

  13641  5 000751   000021 236000 6                  LDQ     17
         5 000752   000000 356000 xsym               ANSQ    LL_FLAGS

      463    13642    3               TEMP = HEAD$ -> B$OUHEAD.DNAMSIZ;

  13642  5 000753   200013 470500                    LDP0    HEAD$,,AUTO
         5 000754   000005 236100                    LDQ     5,,PR0
         5 000755   000022 772000                    QRL     18
         5 000756   000421 756000 2                  STQ     TEMP

      464    13643    4               DO WHILE '1'B;

      465    13644    4                   IF TEMP + PSIZE <= LL_DNAME_VEC.BOUND THEN EXIT;

  13644  5 000757   000421 236000 2                  LDQ     TEMP
         5 000760   200011 036100                    ADLQ    PSIZE,,AUTO
         5 000761   200172 756100                    STQ     T+2,,AUTO
         5 000762   000000 236000 xsym               LDQ     LL_DNAME_VEC
         5 000763   000022 772000                    QRL     18
         5 000764   200172 116100                    CMPQ    T+2,,AUTO
         5 000765   000773 605000 5                  TPL     s:13647

      466    13645    4                   CALL M$GDS (DNAME_FPT) ALTRET (NO_MEM);

  13645  5 000766   000000 630400 3                  EPPR0   DNAME_FPT
         5 000767   430001 713400                    CLIMB   alt,gds
         5 000770   400400 401760                    pmme    nvectors=2
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:98   
         5 000771   000013 702000 5                  TSX2    NO_MEM

      467    13646    4                   END;

  13646  5 000772   000757 710000 5                  TRA     s:13644

      468    13647    3               CALL LLE$READOU ( HEAD$ -> B$OUHEAD,

  13647  5 000773   000421 235000 2                  LDA     TEMP
         5 000774   000002 735000                    ALS     2
         5 000775   200172 755100                    STA     T+2,,AUTO
         5 000776   200013 470500                    LDP0    HEAD$,,AUTO
         5 000777   000005 236100                    LDQ     5,,PR0
         5 001000   000002 736000                    QLS     2
         5 001001   000022 376000 6                  ANQ     18
         5 001002   200173 756100                    STQ     T+3,,AUTO
         5 001003   200011 236100                    LDQ     PSIZE,,AUTO
         5 001004   000022 736000                    QLS     18
         5 001005   000411 036000 2                  ADLQ    NAME$
         5 001006   200174 756100                    STQ     T+4,,AUTO
         5 001007   200174 631500                    EPPR1   T+4,,AUTO
         5 001010   200201 451500                    STP1    T+9,,AUTO
         5 001011   200173 633500                    EPPR3   T+3,,AUTO
         5 001012   200200 453500                    STP3    T+8,,AUTO
         5 001013   200172 634500                    EPPR4   T+2,,AUTO
         5 001014   200177 454500                    STP4    T+7,,AUTO
         5 001015   000023 236000 6                  LDQ     19
         5 001016   200176 756100                    STQ     T+6,,AUTO
         5 001017   200013 236100                    LDQ     HEAD$,,AUTO
         5 001020   200175 756100                    STQ     T+5,,AUTO
         5 001021   200175 630500                    EPPR0   T+5,,AUTO
         5 001022   000023 631400 xsym               EPPR1   B_VECTNIL+19
         5 001023   000000 701000 xent               TSX1    LLE$READOU
         5 001024   002044 702000 5                  TSX2    NO_SECTS

      469    13648    3                  %TYPDNAM, TEMP * 4,
      470    13649    3                  HEAD$ -> B$OUHEAD.DNAMPSIZ * 4,
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:99   
      471    13650    3                  PINCRW ( NAME$, PSIZE ) ) ALTRET ( NO_SECTS );
      472    13651        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:100  
      473    13652         /****************************************************************\
      474    13653         *                                                                *
      475    13654         * Process the section declarations:                              *
      476    13655         *                                                                *
      477    13656         *    Form the key for the only read, read the section declar-    *
      478    13657         *    ations, obtain a count of the number of sections in TEMP,   *
      479    13658         *    and place the declarations in the appropriate list (data,   *
      480    13659         *    procedure, common, read_only, etc.).                        *
      481    13660         *                                                                *
      482    13661         \****************************************************************/
      483    13662    3               B$OUKEY.UTS = HEAD$ -> B$OUHEAD.UTS;

  13662  5 001025   200013 470500                    LDP0    HEAD$,,AUTO
         5 001026   000000 100500                    MLR     fill='000'O
         5 001027   000000 000004                    ADSC9   0,,PR0                   cn=0,n=4
         5 001030   000000 400004 2                  ADSC9   B$OUKEY                  cn=2,n=4

      484    13663    3               B$OUKEY.TYPE = %TYPSECT;

  13663  5 001031   003000 236007                    LDQ     1536,DL
         5 001032   000001 552010 2                  STBQ    B$OUKEY+1,'10'O

      485    13664    3               B$OUKEY.PAGE = 0;

  13664  5 001033   000000 236003                    LDQ     0,DU
         5 001034   000001 552004 2                  STBQ    B$OUKEY+1,'04'O

      486    13665    3               SECT$ = PINCRW (HEAD$, SIZEW(B$OUHEAD));

  13665  5 001035   200013 236100                    LDQ     HEAD$,,AUTO
         5 001036   000035 036003                    ADLQ    29,DU
         5 001037   000410 756000 2                  STQ     SECT$

      487    13666    3               CALL LLM$MON_SVC (LL#GETMEM, 1024, SECT$);

  13666  5 001040   000024 630400 6                  EPPR0   20
         5 001041   000021 631400 xsym               EPPR1   B_VECTNIL+17
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:101  
         5 001042   000000 701000 xent               TSX1    LLM$MON_SVC
         5 001043   000000 011000                    NOP     0

      488    13667    3               CALL LLM$MON_SVC (LL#READOU, SECT$, 4095 ,B$OUKEY);

  13667  5 001044   000031 630400 6                  EPPR0   25
         5 001045   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 001046   000000 701000 xent               TSX1    LLM$MON_SVC
         5 001047   000000 011000                    NOP     0

      489    13668    3               CALL LLM$MON_SVC (LL#SIZEEF, TEMP);

  13668  5 001050   000036 630400 6                  EPPR0   30
         5 001051   000020 631400 xsym               EPPR1   B_VECTNIL+16
         5 001052   000000 701000 xent               TSX1    LLM$MON_SVC
         5 001053   000000 011000                    NOP     0

      490    13669    3               TEMP = TEMP / SIZEC(B$SECTION);

  13669  5 001054   000421 236000 2                  LDQ     TEMP
         5 001055   000010 506007                    DIV     8,DL
         5 001056   000421 756000 2                  STQ     TEMP

      491    13670    3               T_OU$ -> OU_ENTRY.NSECTS = TEMP;

  13670  5 001057   000407 470400 2                  LDP0    T_OU$
         5 001060   000002 756100                    STQ     2,,PR0

      492    13671    3               T_OU$ -> OU_ENTRY.SECT$ = SECT$;

  13671  5 001061   000410 236000 2                  LDQ     SECT$
         5 001062   000407 470400 2                  LDP0    T_OU$
         5 001063   000003 756100                    STQ     3,,PR0

      493    13672    3               AVAIL$ = PINCRW (SECT$, TEMP * SIZEW(B$SECTION));

  13672  5 001064   000421 236000 2                  LDQ     TEMP
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:102  
         5 001065   000023 736000                    QLS     19
         5 001066   000410 036000 2                  ADLQ    SECT$
         5 001067   200012 756100                    STQ     AVAIL$,,AUTO

      494    13673    3               TEMP = TEMP - 1;

  13673  5 001070   000001 336007                    LCQ     1,DL
         5 001071   000421 056000 2                  ASQ     TEMP

      495    13674    4               DO J = 0 TO TEMP;

  13674  5 001072   200036 450100                    STZ     J,,AUTO
         5 001073   001517 710000 5                  TRA     s:13776+3

      496    13675    4                   AVAIL$ -> SECT_ENTRY.BROTHER$ = ADDR(NIL);

  13675  5 001074   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 001075   200012 470500                    LDP0    AVAIL$,,AUTO
         5 001076   000002 756100                    STQ     2,,PR0

      497    13676    4                   IF (SECT$ -> B$SECTION.NPOINTER >= 0) THEN

  13676  5 001077   000410 470400 2                  LDP0    SECT$
         5 001100   000001 220100                    LDX0    1,,PR0
         5 001101   001107 604000 5                  TMI     s:13679

      498    13677    4                       SECT$ -> B$SECTION.NPOINTER =

  13677  5 001102   000001 236100                    LDQ     1,,PR0
         5 001103   000022 732000                    QRS     18
         5 001104   200011 036100                    ADLQ    PSIZE,,AUTO
         5 001105   000000 621006                    EAX1    0,QL
         5 001106   000001 741100                    STX1    1,,PR0

      499    13678    4                          SECT$ -> B$SECTION.NPOINTER + PSIZE;
      500    13679    4                   AVAIL$->SECT_ENTRY.BIAS = BIAS;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:103  
  13679  5 001107   200047 235100                    LDA     BIAS,,AUTO
         5 001110   000011 735000                    ALS     9
         5 001111   200012 470500                    LDP0    AVAIL$,,AUTO
         5 001112   000003 755100                    STA     3,,PR0

      501    13680    5                   DO CASE (SECT$ -> B$SECTION.TYPE);

  13680  5 001113   000410 470400 2                  LDP0    SECT$
         5 001114   000000 236100                    LDQ     0,,PR0
         5 001115   000033 772000                    QRL     27
         5 001116   000007 116007                    CMPQ    7,DL
         5 001117   001121 602006 5                  TNC     s:13680+6,QL
         5 001120   001475 710000 5                  TRA     s:13771
         5 001121   001130 710000 5                  TRA     s:13682
         5 001122   001144 710000 5                  TRA     s:13688
         5 001123   001160 710000 5                  TRA     s:13694
         5 001124   001224 710000 5                  TRA     s:13703
         5 001125   001224 710000 5                  TRA     s:13703
         5 001126   001342 710000 5                  TRA     s:13715
         5 001127   001144 710000 5                  TRA     s:13688

      502    13681    5                   CASE (%DATASECTION);

      503    13682    5                       IF (LL_R_DATA$ = ADDR(NIL)) THEN

  13682  5 001130   000000 236000 xsym               LDQ     LL_R_DATA$
         5 001131   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 001132   001136 601000 5                  TNZ     s:13685

      504    13683    5                           LL_R_DATA$ = AVAIL$;

  13683  5 001133   200012 236100                    LDQ     AVAIL$,,AUTO
         5 001134   000000 756000 xsym               STQ     LL_R_DATA$
         5 001135   001141 710000 5                  TRA     s:13686

      505    13684    5                       ELSE
      506    13685    5                           LL_T_DATA$ -> SECT_ENTRY.NEXT$ = AVAIL$;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:104  

  13685  5 001136   200012 236100                    LDQ     AVAIL$,,AUTO
         5 001137   000000 471400 xsym               LDP1    LL_T_DATA$
         5 001140   100004 756100                    STQ     4,,PR1

      507    13686    5                       LL_T_DATA$ = AVAIL$;

  13686  5 001141   200012 236100                    LDQ     AVAIL$,,AUTO
         5 001142   000000 756000 xsym               STQ     LL_T_DATA$
         5 001143   001475 710000 5                  TRA     s:13771

      508    13687    5                   CASE (%CODESECTION, %ROSECTION);

      509    13688    5                       IF (LL_R_CODE$ = ADDR(NIL)) THEN

  13688  5 001144   000000 236000 xsym               LDQ     LL_R_CODE$
         5 001145   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 001146   001152 601000 5                  TNZ     s:13691

      510    13689    5                           LL_R_CODE$ = AVAIL$;

  13689  5 001147   200012 236100                    LDQ     AVAIL$,,AUTO
         5 001150   000000 756000 xsym               STQ     LL_R_CODE$
         5 001151   001155 710000 5                  TRA     s:13692

      511    13690    5                       ELSE
      512    13691    5                           LL_T_CODE$ -> SECT_ENTRY.NEXT$ = AVAIL$;

  13691  5 001152   200012 236100                    LDQ     AVAIL$,,AUTO
         5 001153   000000 471400 xsym               LDP1    LL_T_CODE$
         5 001154   100004 756100                    STQ     4,,PR1

      513    13692    5                       LL_T_CODE$ = AVAIL$;

  13692  5 001155   200012 236100                    LDQ     AVAIL$,,AUTO
         5 001156   000000 756000 xsym               STQ     LL_T_CODE$
         5 001157   001475 710000 5                  TRA     s:13771
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:105  

      514    13693    5                   CASE (%UCOMSECTION);

      515    13694    5                       LL_DOBUF = 'A**** Blank common feature not yet implemented';

  13694  5 001160   040000 100400                    MLR     fill='040'O
         5 001161   000251 000056 3                  ADSC9   UNUSED_DATA_NAME+86      cn=0,n=46
         5 001162   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      516    13695    5                       CALL LLM$MON_SVC ( LL#WRITEDO );

  13695  5 001163   000015 630400 6                  EPPR0   13
         5 001164   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 001165   000000 701000 xent               TSX1    LLM$MON_SVC
         5 001166   000000 011000                    NOP     0

      517    13696    5                       CALL CONCAT ( LL_DOBUF,

  13696  5 001167   000407 470400 2                  LDP0    T_OU$
         5 001170   000015 236100                    LDQ     13,,PR0
         5 001171   000033 772000                    QRL     27
         5 001172   040000 100400                    MLR     fill='040'O
         5 001173   000265 000026 3                  ADSC9   UNUSED_DATA_NAME+98      cn=0,n=22
         5 001174   000000 000026 xsym               ADSC9   LL_DOBUF                 cn=0,n=22
         5 001175   000000 620006                    EAX0    0,QL
         5 001176   040000 100540                    MLR     fill='040'O
         5 001177   000015 200010                    ADSC9   13,,PR0                  cn=1,n=*X0
         5 001200   000005 400132 xsym               ADSC9   LL_DOBUF+5               cn=2,n=90
         5 001201   000132 116007                    CMPQ    90,DL
         5 001202   001217 603000 5                  TRC     s:13701
         5 001203   777645 620006                    EAX0    -91,QL
         5 001204   777777 660003                    ERX0    -1,DU
         5 001205   040046 100400                    MLR     fill='040'O
         5 001206   000273 000020 3                  ADSC9   UNUSED_DATA_NAME+104     cn=0,n=16
         5 001207   000005 400010 xsym               ADSC9   LL_DOBUF+5,Q             cn=2,n=*X0
         5 001210   000112 116007                    CMPQ    74,DL
         5 001211   001217 603000 5                  TRC     s:13701
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:106  
         5 001212   777665 620006                    EAX0    -75,QL
         5 001213   777777 660003                    ERX0    -1,DU
         5 001214   040046 100400                    MLR     fill='040'O
         5 001215   000000 000064 xsym               ADSC9   LL_FIRSTFID              cn=0,n=52
         5 001216   000011 400010 xsym               ADSC9   LL_DOBUF+9,Q             cn=2,n=*X0

      518    13697    5                          'A     for object unit ',
      519    13698    5                          T_OU$ -> OU_ENTRY.OUNAME.TEXT,
      520    13699    5                          ' in object file ',
      521    13700    5                          LL_FIRSTFID );
      522    13701    5                       CALL LLM$MON_SVC ( LL#WRITEDO );

  13701  5 001217   000015 630400 6                  EPPR0   13
         5 001220   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 001221   000000 701000 xent               TSX1    LLM$MON_SVC
         5 001222   000000 011000                    NOP     0
         5 001223   001475 710000 5                  TRA     s:13771

      523    13702    5                   CASE (%LCOMSECTION, %RLCOMSECTION);

      524    13703    5                       LL_DOBUF = 'A**** Named common feature not yet implemented';

  13703  5 001224   040000 100400                    MLR     fill='040'O
         5 001225   000277 000056 3                  ADSC9   UNUSED_DATA_NAME+108     cn=0,n=46
         5 001226   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      525    13704    5                       CALL LLM$MON_SVC ( LL#WRITEDO );

  13704  5 001227   000015 630400 6                  EPPR0   13
         5 001230   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 001231   000000 701000 xent               TSX1    LLM$MON_SVC
         5 001232   000000 011000                    NOP     0

      526    13705    5                       CALL CONCAT ( LL_DOBUF,

  13705  5 001233   000410 470400 2                  LDP0    SECT$
         5 001234   000001 220100                    LDX0    1,,PR0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:107  
         5 001235   000411 471400 2                  LDP1    NAME$
         5 001236   100000 221110                    LDX1    0,X0,PR1
         5 001237   000407 473400 2                  LDP3    T_OU$
         5 001240   300015 236100                    LDQ     13,,PR3
         5 001241   000033 772000                    QRL     27
         5 001242   040000 100400                    MLR     fill='040'O
         5 001243   000313 000032 3                  ADSC9   UNUSED_DATA_NAME+120     cn=0,n=26
         5 001244   000000 000032 xsym               ADSC9   LL_DOBUF                 cn=0,n=26
         5 001245   000000 635010                    EAA     0,X0
         5 001246   000020 731000                    ARS     16
         5 001247   040000 100545                    MLR     fill='040'O
         5 001250   100000 400011                    ADSC9   0,A,PR1                  cn=2,n=*X1
         5 001251   000006 400126 xsym               ADSC9   LL_DOBUF+6               cn=2,n=86
         5 001252   000000 620006                    EAX0    0,QL
         5 001253   000000 636011                    EAQ     0,X1
         5 001254   000022 772000                    QRL     18
         5 001255   000126 116007                    CMPQ    86,DL
         5 001256   001335 603000 5                  TRC     s:13713
         5 001257   200172 741100                    STX1    T+2,,AUTO
         5 001260   777651 621011                    EAX1    -87,X1
         5 001261   777777 661003                    ERX1    -1,DU
         5 001262   200172 235100                    LDA     T+2,,AUTO
         5 001263   000022 771000                    ARL     18
         5 001264   040045 100400                    MLR     fill='040'O
         5 001265   000322 000020 3                  ADSC9   UNUSED_DATA_NAME+127     cn=0,n=16
         5 001266   000006 400011 xsym               ADSC9   LL_DOBUF+6,A             cn=2,n=*X1
         5 001267   200172 236100                    LDQ     T+2,,AUTO
         5 001270   000022 772000                    QRL     18
         5 001271   000106 116007                    CMPQ    70,DL
         5 001272   001335 603000 5                  TRC     s:13713
         5 001273   777671 621006                    EAX1    -71,QL
         5 001274   777777 661003                    ERX1    -1,DU
         5 001275   040046 100540                    MLR     fill='040'O
         5 001276   300015 200010                    ADSC9   13,,PR3                  cn=1,n=*X0
         5 001277   000012 400011 xsym               ADSC9   LL_DOBUF+10,Q            cn=2,n=*X1
         5 001300   000000 635010                    EAA     0,X0
         5 001301   000022 771000                    ARL     18
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:108  
         5 001302   200173 755100                    STA     T+3,,AUTO
         5 001303   200173 036100                    ADLQ    T+3,,AUTO
         5 001304   000106 116007                    CMPQ    70,DL
         5 001305   001335 603000 5                  TRC     s:13713
         5 001306   000000 635010                    EAA     0,X0
         5 001307   000022 771000                    ARL     18
         5 001310   200174 755100                    STA     T+4,,AUTO
         5 001311   200175 756100                    STQ     T+5,,AUTO
         5 001312   200172 236100                    LDQ     T+2,,AUTO
         5 001313   000022 772000                    QRL     18
         5 001314   200174 036100                    ADLQ    T+4,,AUTO
         5 001315   200175 720100                    LXL0    T+5,,AUTO
         5 001316   777671 620010                    EAX0    -71,X0
         5 001317   777777 660003                    ERX0    -1,DU
         5 001320   040046 100400                    MLR     fill='040'O
         5 001321   000273 000020 3                  ADSC9   UNUSED_DATA_NAME+104     cn=0,n=16
         5 001322   000012 400010 xsym               ADSC9   LL_DOBUF+10,Q            cn=2,n=*X0
         5 001323   200176 756100                    STQ     T+6,,AUTO
         5 001324   200175 236100                    LDQ     T+5,,AUTO
         5 001325   000066 116007                    CMPQ    54,DL
         5 001326   001335 603000 5                  TRC     s:13713
         5 001327   777711 622006                    EAX2    -55,QL
         5 001330   777777 662003                    ERX2    -1,DU
         5 001331   200176 235100                    LDA     T+6,,AUTO
         5 001332   040045 100400                    MLR     fill='040'O
         5 001333   000000 000064 xsym               ADSC9   LL_FIRSTFID              cn=0,n=52
         5 001334   000016 400012 xsym               ADSC9   LL_DOBUF+14,A            cn=2,n=*X2

      527    13706    5                          'A     for control section ',
      528    13707    5                          PINCRW(NAME$,SECT$->B$SECTION.NPOINTER)
      529    13708    5                          -> B$DNAME.TEXT,
      530    13709    5                          ' in object unit ',
      531    13710    5                          T_OU$ -> OU_ENTRY.OUNAME.TEXT,
      532    13711    5                          ' in object file ',
      533    13712    5                          LL_FIRSTFID );
      534    13713    5                       CALL LLM$MON_SVC ( LL#WRITEDO );

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:109  
  13713  5 001335   000015 630400 6                  EPPR0   13
         5 001336   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 001337   000000 701000 xent               TSX1    LLM$MON_SVC
         5 001340   000000 011000                    NOP     0
         5 001341   001475 710000 5                  TRA     s:13771

      535    13714    5                   CASE ( %DCBSECTION );

      536    13715    5                       NEW_DCBNAME$ = PINCRW(NAME$,

  13715  5 001342   000001 220100                    LDX0    1,,PR0
         5 001343   000000 636010                    EAQ     0,X0
         5 001344   000411 036000 2                  ADLQ    NAME$
         5 001345   200014 756100                    STQ     NEW_DCBNAME$,,AUTO

      537    13716    5                          SECT$ -> B$SECTION.NPOINTER);
      538    13717    5                       SYS_DCB = '0'B;

  13717  5 001346   200015 450100                    STZ     SYS_DCB,,AUTO

      539    13718    5                       DCB_COUNT = 1;

  13718  5 001347   000001 235007                    LDA     1,DL
         5 001350   200016 755100                    STA     DCB_COUNT,,AUTO

      540    13719    6                       DO WHILE (DCB_COUNT <= %G_SYS_DCBS# AND

  13719  5 001351   001374 710000 5                  TRA     s:13729

      541    13720    6                          NOT SYS_DCB);
      542    13721    6                           IF NEW_DCBNAME$ -> B$DNAME.TEXT

  13721  5 001352   200014 470500                    LDP0    NEW_DCBNAME$,,AUTO
         5 001353   000000 220100                    LDX0    0,,PR0
         5 001354   200016 721100                    LXL1    DCB_COUNT,,AUTO
         5 001355   000035 471411 3                  LDP1    DCBNAME$,X1
         5 001356   100000 222100                    LDX2    0,,PR1
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:110  
         5 001357   040140 106540                    CMPC    fill='040'O
         5 001360   000000 400010                    ADSC9   0,,PR0                   cn=2,n=*X0
         5 001361   100000 400012                    ADSC9   0,,PR1                   cn=2,n=*X2
         5 001362   001371 601000 5                  TNZ     s:13728

      543    13722    6                              = DCBNAME$(DCB_COUNT) ->
      544    13723    7                              B$DNAME.TEXT THEN DO;

      545    13724    7                               SYS_DCB = '1'B;

  13724  5 001363   400000 236003                    LDQ     -131072,DU
         5 001364   200015 756100                    STQ     SYS_DCB,,AUTO

      546    13725    7                               DCB_NPOINTERS(DCB_COUNT) =

  13725  5 001365   000410 473400 2                  LDP3    SECT$
         5 001366   300001 236100                    LDQ     1,,PR3
         5 001367   000022 732000                    QRS     18
         5 001370   000423 756011 2                  STQ     DCB_NPOINTERS,X1

      547    13726    7                                  SECT$ -> B$SECTION.NPOINTER;
      548    13727    7                               END;

      549    13728    6                           DCB_COUNT = DCB_COUNT + 1;

  13728  5 001371   200016 235100                    LDA     DCB_COUNT,,AUTO
         5 001372   000001 035007                    ADLA    1,DL
         5 001373   200016 755100                    STA     DCB_COUNT,,AUTO

      550    13729    6                           END;

  13729  5 001374   000006 115007                    CMPA    6,DL
         5 001375   001400 603000 5                  TRC     s:13730
         5 001376   200015 234100                    SZN     SYS_DCB,,AUTO
         5 001377   001352 605000 5                  TPL     s:13721

      551    13730    5                       IF SYS_DCB THEN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:111  

  13730  5 001400   200015 234100                    SZN     SYS_DCB,,AUTO
         5 001401   001406 605000 5                  TPL     s:13733

      552    13731    5                           DCB_ALLOCATED(DCB_COUNT - 1) = '1'B;

  13731  5 001402   003005 060400                    CSL     bolr='003'O
         5 001403   000030 000001 xsym               BDSC    B_VECTNIL+24             by=0,bit=0,n=1
         5 001404   000430 700001 2                  BDSC    DCB_NPOINTERS+5,A        by=3,bit=8,n=1
         5 001405   001475 710000 5                  TRA     s:13771

      553    13732    6                       ELSE DO;

      554    13733    6                           DCB$ = LL_R_ROSE$;

  13733  5 001406   000000 236000 xsym               LDQ     LL_R_ROSE$
         5 001407   200035 756100                    STQ     DCB$,,AUTO

      555    13734    6                           FOUND_DCB = '0'B;

  13734  5 001410   200020 450100                    STZ     FOUND_DCB,,AUTO

      556    13735    7                           DO WHILE ( DCB$ ~= ADDR(NIL) AND

  13735  5 001411   001435 710000 5                  TRA     s:13748

      557    13736    7                              NOT FOUND_DCB );
      558    13737    7                               DCBN$ = PINCRW(NAME$, DCB$ ->

  13737  5 001412   200035 470500                    LDP0    DCB$,,AUTO
         5 001413   000001 471500                    LDP1    1,,PR0
         5 001414   100001 220100                    LDX0    1,,PR1
         5 001415   000000 636010                    EAQ     0,X0
         5 001416   000411 036000 2                  ADLQ    NAME$
         5 001417   200017 756100                    STQ     DCBN$,,AUTO

      559    13738    7                                  SECT_ENTRY.SECTION$ ->
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:112  
      560    13739    7                                  B$SECTION.NPOINTER);
      561    13740    7                               IF DCBN$->B$DNAME.TEXT =

  13740  5 001420   200017 473500                    LDP3    DCBN$,,AUTO
         5 001421   300000 221100                    LDX1    0,,PR3
         5 001422   200014 474500                    LDP4    NEW_DCBNAME$,,AUTO
         5 001423   400000 222100                    LDX2    0,,PR4
         5 001424   040140 106540                    CMPC    fill='040'O
         5 001425   300000 400011                    ADSC9   0,,PR3                   cn=2,n=*X1
         5 001426   400000 400012                    ADSC9   0,,PR4                   cn=2,n=*X2
         5 001427   001433 601000 5                  TNZ     s:13746

      562    13741    7                                  NEW_DCBNAME$->B$DNAME.TEXT
      563    13742    8                               THEN DO;

      564    13743    8                                   FOUND_DCB = '1'B;

  13743  5 001430   400000 236003                    LDQ     -131072,DU
         5 001431   200020 756100                    STQ     FOUND_DCB,,AUTO

      565    13744    8                                   END;

  13744  5 001432   001435 710000 5                  TRA     s:13748

      566    13745    7                               ELSE
      567    13746    7                                   DCB$ = DCB$ ->

  13746  5 001433   000004 236100                    LDQ     4,,PR0
         5 001434   200035 756100                    STQ     DCB$,,AUTO

      568    13747    7                                      SECT_ENTRY.NEXT$;
      569    13748    7                               END;

  13748  5 001435   200035 236100                    LDQ     DCB$,,AUTO
         5 001436   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 001437   001442 600000 5                  TZE     s:13749
         5 001440   200020 234100                    SZN     FOUND_DCB,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:113  
         5 001441   001412 605000 5                  TPL     s:13737

      570    13749    7                           IF NOT FOUND_DCB THEN DO;

  13749  5 001442   200020 234100                    SZN     FOUND_DCB,,AUTO
         5 001443   001463 604000 5                  TMI     s:13760

      571    13750    7                               LL_HEAD.UDCBNUM = LL_HEAD.UDCBNUM + 1;

  13750  5 001444   000004 220000 xsym               LDX0    LL_HEAD+4
         5 001445   000001 621010                    EAX1    1,X0
         5 001446   000004 741000 xsym               STX1    LL_HEAD+4

      572    13751    7                               IF LL_R_ROSE$=ADDR(NIL) THEN

  13751  5 001447   000000 236000 xsym               LDQ     LL_R_ROSE$
         5 001450   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 001451   001455 601000 5                  TNZ     s:13754

      573    13752    7                                   LL_R_ROSE$ = AVAIL$;

  13752  5 001452   200012 236100                    LDQ     AVAIL$,,AUTO
         5 001453   000000 756000 xsym               STQ     LL_R_ROSE$
         5 001454   001460 710000 5                  TRA     s:13757

      574    13753    7                               ELSE
      575    13754    7                                   LL_T_ROSE$ ->

  13754  5 001455   200012 236100                    LDQ     AVAIL$,,AUTO
         5 001456   000000 470400 xsym               LDP0    LL_T_ROSE$
         5 001457   000004 756100                    STQ     4,,PR0

      576    13755    7                                      SECT_ENTRY.NEXT$
      577    13756    7                                      = AVAIL$;
      578    13757    7                               LL_T_ROSE$ = AVAIL$;

  13757  5 001460   200012 236100                    LDQ     AVAIL$,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:114  
         5 001461   000000 756000 xsym               STQ     LL_T_ROSE$

      579    13758    7                               END;

  13758  5 001462   001475 710000 5                  TRA     s:13771

      580    13759    7                           ELSE DO;

      581    13760    8                               DO WHILE (DCB$->SECT_ENTRY.BROTHER$

  13760  5 001463   001467 710000 5                  TRA     s:13764

      582    13761    8                                  ~= ADDR(NIL));
      583    13762    8                                   DCB$ = DCB$ ->

  13762  5 001464   200035 470500                    LDP0    DCB$,,AUTO
         5 001465   000002 236100                    LDQ     2,,PR0
         5 001466   200035 756100                    STQ     DCB$,,AUTO

      584    13763    8                                      SECT_ENTRY.BROTHER$;
      585    13764    8                                   END;

  13764  5 001467   200035 470500                    LDP0    DCB$,,AUTO
         5 001470   000002 236100                    LDQ     2,,PR0
         5 001471   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 001472   001464 601000 5                  TNZ     s:13762

      586    13765    7                               DCB$ -> SECT_ENTRY.BROTHER$ =

  13765  5 001473   200012 236100                    LDQ     AVAIL$,,AUTO
         5 001474   000002 756100                    STQ     2,,PR0

      587    13766    7                                  AVAIL$;
      588    13767    7                               END;

      589    13768    6                           END;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:115  
      590    13769         /* CASE (%SEGSECTION);*/
      591    13770    5                       END;

      592    13771    4                   AVAIL$ -> SECT_ENTRY.OBJUNIT$ = T_OU$;

  13771  5 001475   000407 236000 2                  LDQ     T_OU$
         5 001476   200012 470500                    LDP0    AVAIL$,,AUTO
         5 001477   000000 756100                    STQ     0,,PR0

      593    13772    4                   AVAIL$ -> SECT_ENTRY.SECTION$ = SECT$;

  13772  5 001500   000410 236000 2                  LDQ     SECT$
         5 001501   200012 470500                    LDP0    AVAIL$,,AUTO
         5 001502   000001 756100                    STQ     1,,PR0

      594    13773    4                   AVAIL$ -> SECT_ENTRY.NEXT$ = ADDR(NIL);

  13773  5 001503   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 001504   200012 470500                    LDP0    AVAIL$,,AUTO
         5 001505   000004 756100                    STQ     4,,PR0

      595    13774    4                   AVAIL$ = PINCRW (AVAIL$, SIZEW(SECT_ENTRY));

  13774  5 001506   200012 236100                    LDQ     AVAIL$,,AUTO
         5 001507   000005 036003                    ADLQ    5,DU
         5 001510   200012 756100                    STQ     AVAIL$,,AUTO

      596    13775    4                   SECT$ = PINCRW (SECT$, SIZEW(B$SECTION));

  13775  5 001511   000410 236000 2                  LDQ     SECT$
         5 001512   000002 036003                    ADLQ    2,DU
         5 001513   000410 756000 2                  STQ     SECT$

      597    13776    4                   END;

  13776  5 001514   200036 235100                    LDA     J,,AUTO
         5 001515   000001 035007                    ADLA    1,DL
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:116  
         5 001516   200036 755100                    STA     J,,AUTO
         5 001517   200036 236100                    LDQ     J,,AUTO
         5 001520   001523 604000 5                  TMI     s:13786
         5 001521   000421 116000 2                  CMPQ    TEMP
         5 001522   001074 604400 5                  TMOZ    s:13675

      598    13777        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:117  
      599    13778         /****************************************************************\
      600    13779         *                                                                *
      601    13780         * Process ENTDEF and SYMDEF declarations:                        *
      602    13781         *                                                                *
      603    13782         *    Read the corresponding record, adjust the name pointers     *
      604    13783         *    in it, and call the symbol tree grower to extend the tree   *
      605    13784         *                                                                *
      606    13785         \****************************************************************/
      607    13786    3               TEMP = ( HEAD$ -> B$OUHEAD.EDEFSIZ / SIZEW(B$EDEF) ) *

  13786  5 001523   200013 470500                    LDP0    HEAD$,,AUTO
         5 001524   000007 236100                    LDQ     7,,PR0
         5 001525   000022 772000                    QRL     18
         5 001526   000001 772000                    QRL     1
         5 001527   200172 756100                    STQ     T+2,,AUTO
         5 001530   000011 236100                    LDQ     9,,PR0
         5 001531   000022 772000                    QRL     18
         5 001532   000001 772000                    QRL     1
         5 001533   200172 402100                    MPY     T+2,,AUTO
         5 001534   000006 736000                    QLS     6
         5 001535   000421 756000 2                  STQ     TEMP

      608    13787    3                  ( SIZEW(NODE) + SIZEW(B$EDEF) ) *
      609    13788    3                  ( HEAD$ -> B$OUHEAD.SDEFSIZ / SIZEW(B$SDEF) ) *
      610    13789    3                  ( SIZEW(NODE) + SIZEW(B$SDEF) );
      611    13790    3               CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);

  13790  5 001536   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 001537   200174 451500                    STP1    T+4,,AUTO
         5 001540   000040 237000 6                  LDAQ    32
         5 001541   200172 757100                    STAQ    T+2,,AUTO
         5 001542   200172 630500                    EPPR0   T+2,,AUTO
         5 001543   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 001544   000000 701000 xent               TSX1    LLM$MON_SVC
         5 001545   000000 011000                    NOP     0

      612    13791    4               DO L = 0 TO 1;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:118  

  13791  5 001546   200037 450100                    STZ     L,,AUTO

      613    13792    5                   IF (L = 0) THEN DO;

  13792  5 001547   200037 235100                    LDA     L,,AUTO
         5 001550   001572 601000 5                  TNZ     s:13801

      614    13793    5                       TEMP = HEAD$ -> B$OUHEAD.EDEFSIZ;

  13793  5 001551   200013 470500                    LDP0    HEAD$,,AUTO
         5 001552   000007 236100                    LDQ     7,,PR0
         5 001553   000022 772000                    QRL     18
         5 001554   000421 756000 2                  STQ     TEMP

      615    13794    5                       IF TEMP = 0 THEN

  13794  5 001555   001562 601000 5                  TNZ     s:13797

      616    13795    5                           T_OU$ -> OU_ENTRY.ENTDEF$ = ADDR(NIL);

  13795  5 001556   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 001557   000407 471400 2                  LDP1    T_OU$
         5 001560   100006 756100                    STQ     6,,PR1
         5 001561   001565 710000 5                  TRA     s:13798

      617    13796    5                       ELSE
      618    13797    5                           T_OU$ -> OU_ENTRY.ENTDEF$ = AVAIL$;

  13797  5 001562   200012 236100                    LDQ     AVAIL$,,AUTO
         5 001563   000407 471400 2                  LDP1    T_OU$
         5 001564   100006 756100                    STQ     6,,PR1

      619    13798    5                       TEMP1 = HEAD$ -> B$OUHEAD.EDEFPSIZ;

  13798  5 001565   200013 470500                    LDP0    HEAD$,,AUTO
         5 001566   000007 236100                    LDQ     7,,PR0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:119  
         5 001567   777777 376007                    ANQ     -1,DL
         5 001570   000422 756000 2                  STQ     TEMP1

      620    13799    5                       END;

  13799  5 001571   001612 710000 5                  TRA     s:13808

      621    13800    5                   ELSE DO;

      622    13801    5                       TEMP = HEAD$ -> B$OUHEAD.SDEFSIZ;

  13801  5 001572   200013 470500                    LDP0    HEAD$,,AUTO
         5 001573   000011 236100                    LDQ     9,,PR0
         5 001574   000022 772000                    QRL     18
         5 001575   000421 756000 2                  STQ     TEMP

      623    13802    5                       IF TEMP = 0 THEN

  13802  5 001576   001603 601000 5                  TNZ     s:13805

      624    13803    5                           T_OU$ -> OU_ENTRY.SYMDEF$ = ADDR(NIL);

  13803  5 001577   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 001600   000407 471400 2                  LDP1    T_OU$
         5 001601   100004 756100                    STQ     4,,PR1
         5 001602   001606 710000 5                  TRA     s:13806

      625    13804    5                       ELSE
      626    13805    5                           T_OU$ -> OU_ENTRY.SYMDEF$ = AVAIL$;

  13805  5 001603   200012 236100                    LDQ     AVAIL$,,AUTO
         5 001604   000407 471400 2                  LDP1    T_OU$
         5 001605   100004 756100                    STQ     4,,PR1

      627    13806    5                       TEMP1 = HEAD$ -> B$OUHEAD.SDEFPSIZ;

  13806  5 001606   200013 470500                    LDP0    HEAD$,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:120  
         5 001607   000011 236100                    LDQ     9,,PR0
         5 001610   777777 376007                    ANQ     -1,DL
         5 001611   000422 756000 2                  STQ     TEMP1

      628    13807    5                       END;

      629    13808    4                   IF TEMP ~= 0

  13808  5 001612   000421 235000 2                  LDA     TEMP
         5 001613   001744 600000 5                  TZE     s:13827

      630    13809    5                   THEN DO;

      631    13810    5                       NEW$ = AVAIL$;

  13810  5 001614   200012 236100                    LDQ     AVAIL$,,AUTO
         5 001615   000412 756000 2                  STQ     NEW$

      632    13811    5                       AVAIL$ = PINCRW ( NEW$, TEMP );

  13811  5 001616   000421 236000 2                  LDQ     TEMP
         5 001617   000022 736000                    QLS     18
         5 001620   000412 036000 2                  ADLQ    NEW$
         5 001621   200012 756100                    STQ     AVAIL$,,AUTO

      633    13812    5                       CALL LLE$READOU ( HEAD$ -> B$OUHEAD.UTS,

  13812  5 001622   200037 235100                    LDA     L,,AUTO
         5 001623   000001 735000                    ALS     1
         5 001624   000004 035007                    ADLA    4,DL
         5 001625   200172 755100                    STA     T+2,,AUTO
         5 001626   000421 235000 2                  LDA     TEMP
         5 001627   000002 735000                    ALS     2
         5 001630   200173 755100                    STA     T+3,,AUTO
         5 001631   000422 235000 2                  LDA     TEMP1
         5 001632   000002 735000                    ALS     2
         5 001633   200174 755100                    STA     T+4,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:121  
         5 001634   000042 236000 6                  LDQ     34
         5 001635   200201 756100                    STQ     T+9,,AUTO
         5 001636   200174 631500                    EPPR1   T+4,,AUTO
         5 001637   200200 451500                    STP1    T+8,,AUTO
         5 001640   200173 633500                    EPPR3   T+3,,AUTO
         5 001641   200177 453500                    STP3    T+7,,AUTO
         5 001642   200172 634500                    EPPR4   T+2,,AUTO
         5 001643   200176 454500                    STP4    T+6,,AUTO
         5 001644   200013 236100                    LDQ     HEAD$,,AUTO
         5 001645   200175 756100                    STQ     T+5,,AUTO
         5 001646   200175 630500                    EPPR0   T+5,,AUTO
         5 001647   000023 631400 xsym               EPPR1   B_VECTNIL+19
         5 001650   000000 701000 xent               TSX1    LLE$READOU
         5 001651   000000 011000                    NOP     0

      634    13813    5                          ( L + 2 ) * 2, TEMP * 4,
      635    13814    5                          TEMP1 * 4, NEW$ );
      636    13815    6                       DO J = 0 TO TEMP - 2 BY 2;

  13815  5 001652   200036 450100                    STZ     J,,AUTO
         5 001653   001666 710000 5                  TRA     s:13819+3

      637    13816    6                           PINCRW(NEW$,J) -> LL_ENTDEF.NPOINTER =

  13816  5 001654   000412 470400 2                  LDP0    NEW$
         5 001655   200036 720100                    LXL0    J,,AUTO
         5 001656   000001 236110                    LDQ     1,X0,PR0
         5 001657   000022 732000                    QRS     18
         5 001660   200011 036100                    ADLQ    PSIZE,,AUTO
         5 001661   000000 621006                    EAX1    0,QL
         5 001662   000001 741110                    STX1    1,X0,PR0

      638    13817    6                              PINCRW(NEW$,J) -> LL_ENTDEF.NPOINTER
      639    13818    6                              + PSIZE;
      640    13819    6                           END;

  13819  5 001663   200036 235100                    LDA     J,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:122  
         5 001664   000002 035007                    ADLA    2,DL
         5 001665   200036 755100                    STA     J,,AUTO
         5 001666   000421 236000 2                  LDQ     TEMP
         5 001667   000002 136007                    SBLQ    2,DL
         5 001670   001673 604000 5                  TMI     s:13820
         5 001671   200036 116100                    CMPQ    J,,AUTO
         5 001672   001654 603000 5                  TRC     s:13816

      641    13820    5                       IF (L = 0) THEN

  13820  5 001673   200037 235100                    LDA     L,,AUTO
         5 001674   001721 601000 5                  TNZ     s:13824

      642    13821    5                           CALL LLG$GROW (LL_ENTDEF_R$, NEW$, TEMP/2,

  13821  5 001675   000421 236000 2                  LDQ     TEMP
         5 001676   000002 506007                    DIV     2,DL
         5 001677   200172 756100                    STQ     T+2,,AUTO
         5 001700   000044 237000 6                  LDAQ    36
         5 001701   200200 757100                    STAQ    T+8,,AUTO
         5 001702   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 001703   200177 450500                    STP0    T+7,,AUTO
         5 001704   000007 236000 6                  LDQ     7
         5 001705   200176 756100                    STQ     T+6,,AUTO
         5 001706   200172 631500                    EPPR1   T+2,,AUTO
         5 001707   200175 451500                    STP1    T+5,,AUTO
         5 001710   000042 236000 6                  LDQ     34
         5 001711   200174 756100                    STQ     T+4,,AUTO
         5 001712   000046 236000 6                  LDQ     38
         5 001713   200173 756100                    STQ     T+3,,AUTO
         5 001714   200173 630500                    EPPR0   T+3,,AUTO
         5 001715   000025 631400 xsym               EPPR1   B_VECTNIL+21
         5 001716   000000 701000 xent               TSX1    LLG$GROW
         5 001717   000000 011000                    NOP     0
         5 001720   001744 710000 5                  TRA     s:13827

      643    13822    5                              T_OU$, AVAIL$, NAME$, 4);
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:123  
      644    13823    5                       ELSE
      645    13824    5                           CALL LLG$GROW (LL_SYMDEF_R$, NEW$, TEMP/2,

  13824  5 001721   000421 236000 2                  LDQ     TEMP
         5 001722   000002 506007                    DIV     2,DL
         5 001723   200172 756100                    STQ     T+2,,AUTO
         5 001724   000050 237000 6                  LDAQ    40
         5 001725   200200 757100                    STAQ    T+8,,AUTO
         5 001726   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 001727   200177 450500                    STP0    T+7,,AUTO
         5 001730   000007 236000 6                  LDQ     7
         5 001731   200176 756100                    STQ     T+6,,AUTO
         5 001732   200172 631500                    EPPR1   T+2,,AUTO
         5 001733   200175 451500                    STP1    T+5,,AUTO
         5 001734   000042 236000 6                  LDQ     34
         5 001735   200174 756100                    STQ     T+4,,AUTO
         5 001736   000052 236000 6                  LDQ     42
         5 001737   200173 756100                    STQ     T+3,,AUTO
         5 001740   200173 630500                    EPPR0   T+3,,AUTO
         5 001741   000025 631400 xsym               EPPR1   B_VECTNIL+21
         5 001742   000000 701000 xent               TSX1    LLG$GROW
         5 001743   000000 011000                    NOP     0

      646    13825    5                              T_OU$, AVAIL$, NAME$, 6);
      647    13826    5                       END; /* IF TEMP ~= 0 */

      648    13827    4                   END;

  13827  5 001744   200037 235100                    LDA     L,,AUTO
         5 001745   000001 035007                    ADLA    1,DL
         5 001746   200037 755100                    STA     L,,AUTO
         5 001747   000002 115007                    CMPA    2,DL
         5 001750   001547 602000 5                  TNC     s:13792

      649    13828    3               CALL LLM$MON_SVC (LL#POSTOHEAD, ADDR(NIL), ADDR(NIL), EF_KEY);

  13828  5 001751   000001 236000 xsym               LDQ     B_VECTNIL+1
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:124  
         5 001752   200172 756100                    STQ     T+2,,AUTO
         5 001753   200173 756100                    STQ     T+3,,AUTO
         5 001754   000013 236000 6                  LDQ     11
         5 001755   200177 756100                    STQ     T+7,,AUTO
         5 001756   200173 630500                    EPPR0   T+3,,AUTO
         5 001757   200176 450500                    STP0    T+6,,AUTO
         5 001760   200172 631500                    EPPR1   T+2,,AUTO
         5 001761   200175 451500                    STP1    T+5,,AUTO
         5 001762   000054 236000 6                  LDQ     44
         5 001763   200174 756100                    STQ     T+4,,AUTO
         5 001764   200174 630500                    EPPR0   T+4,,AUTO
         5 001765   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 001766   000000 701000 xent               TSX1    LLM$MON_SVC
         5 001767   000000 011000                    NOP     0

      650    13829    3               PSIZE = PSIZE + HEAD$ -> B$OUHEAD.DNAMSIZ;

  13829  5 001770   200013 470500                    LDP0    HEAD$,,AUTO
         5 001771   000005 236100                    LDQ     5,,PR0
         5 001772   000022 772000                    QRL     18
         5 001773   200011 036100                    ADLQ    PSIZE,,AUTO
         5 001774   200011 756100                    STQ     PSIZE,,AUTO

      651    13830    3               SPTR$ -> OU_ENTRY.NEXT$ = T_OU$;

  13830  5 001775   000407 236000 2                  LDQ     T_OU$
         5 001776   000415 471400 2                  LDP1    SPTR$
         5 001777   100001 756100                    STQ     1,,PR1

      652    13831    3               T_OU$ -> OU_ENTRY.NEXT$ = ADDR(NIL);

  13831  5 002000   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 002001   000407 470400 2                  LDP0    T_OU$
         5 002002   000001 756100                    STQ     1,,PR0

      653    13832    3               SPTR$ = T_OU$;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:125  
  13832  5 002003   000407 236000 2                  LDQ     T_OU$
         5 002004   000415 756000 2                  STQ     SPTR$

      654    13833    3               T_OU$ = AVAIL$;

  13833  5 002005   200012 236100                    LDQ     AVAIL$,,AUTO
         5 002006   000407 756000 2                  STQ     T_OU$

      655    13834    3               END;

  13834  5 002007   000137 710000 5                  TRA     s:13541

      656    13835    2   REJECT_OF:
      657    13836    3           IF (LL_FLAGS.REJECT#) THEN DO;

  13836  5 002010   000000 236000 xsym  REJECT_OF    LDQ     LL_FLAGS
         5 002011   100000 316007                    CANQ    32768,DL
         5 002012   002041 600000 5                  TZE     s:13844

      658    13837    3               HEAD$->B$OUHEAD = '0'B;

  13837  5 002013   200013 470500                    LDP0    HEAD$,,AUTO
         5 002014   000100 100400                    MLR     fill='000'O
         5 002015   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         5 002016   000000 000164                    ADSC9   0,,PR0                   cn=0,n=116

      659    13838    3               CALL INSERT (LL_DOBUF,0,,'A  ***Specified file has no ',

  13838  5 002017   040000 100400                    MLR     fill='040'O
         5 002020   000326 000034 3                  ADSC9   UNUSED_DATA_NAME+131     cn=0,n=28
         5 002021   000000 000034 xsym               ADSC9   LL_DOBUF                 cn=0,n=28
         5 002022   040000 100400                    MLR     fill='040'O
         5 002023   000335 000027 3                  ADSC9   UNUSED_DATA_NAME+138     cn=0,n=23
         5 002024   000007 000027 xsym               ADSC9   LL_DOBUF+7               cn=0,n=23
         5 002025   200007 236100                    LDQ     I,,AUTO
         5 002026   000070 402007                    MPY     56,DL
         5 002027   000000 470400 xsym               LDP0    LL_OF$
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:126  
         5 002030   040000 100506                    MLR     fill='040'O
         5 002031   000000 000062                    ADSC9   0,Q,PR0                  cn=0,n=50
         5 002032   000014 600075 xsym               ADSC9   LL_DOBUF+12              cn=3,n=61

      660    13839    3                  'head record.  Ignoring ',
      661    13840    3                  LL_OF$->OU_FID.NAME(I));
      662    13841    3               CALL LLM$MON_SVC (LL#WRITEDO);

  13841  5 002033   000015 630400 6                  EPPR0   13
         5 002034   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 002035   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002036   000000 011000                    NOP     0

      663    13842    3               LL_HEAD.SEV = 16; /* Abort after pass 1 .. bad ou */

  13842  5 002037   020000 236003                    LDQ     8192,DU
         5 002040   000003 552040 xsym               STBQ    LL_HEAD+3,'40'O

      664    13843    3               END;

      665    13844    2           LL_FLAGS.REJECT# = '1'B;

  13844  5 002041   100000 236007                    LDQ     32768,DL
         5 002042   000000 256000 xsym               ORSQ    LL_FLAGS

      666    13845    2           GOTO CLOSE_CURRENT_OF;

  13845  5 002043   002065 710000 5                  TRA     CLOSE_CURRENT_OF

      667    13846    2   NO_SECTS:
      668    13847    2           CALL INSERT (LL_DOBUF,0,,'A  ***Specified object unit has no ',

  13847  5 002044   000407 470400 2     NO_SECTS     LDP0    T_OU$
         5 002045   000015 236100                    LDQ     13,,PR0
         5 002046   000033 772000                    QRL     27
         5 002047   040000 100400                    MLR     fill='040'O
         5 002050   000343 000043 3                  ADSC9   UNUSED_DATA_NAME+144     cn=0,n=35
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:127  
         5 002051   000000 000043 xsym               ADSC9   LL_DOBUF                 cn=0,n=35
         5 002052   040000 100400                    MLR     fill='040'O
         5 002053   000354 000033 3                  ADSC9   UNUSED_DATA_NAME+153     cn=0,n=27
         5 002054   000010 600033 xsym               ADSC9   LL_DOBUF+8               cn=3,n=27
         5 002055   000000 620006                    EAX0    0,QL
         5 002056   040000 100540                    MLR     fill='040'O
         5 002057   000015 200010                    ADSC9   13,,PR0                  cn=1,n=*X0
         5 002060   000017 400062 xsym               ADSC9   LL_DOBUF+15              cn=2,n=50

      669    13848    2              'section entries.  Ingoring ',
      670    13849    2              T_OU$ -> OU_ENTRY.OUNAME.TEXT);
      671    13850    2           CALL LLM$MON_SVC (LL#WRITEDO);

  13850  5 002061   000015 630400 6                  EPPR0   13
         5 002062   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 002063   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002064   000000 011000                    NOP     0

      672    13851    2   CLOSE_CURRENT_OF:
      673    13852    2           CALL LLM$MON_SVC (LL#CLOSEEF);

  13852  5 002065   000056 630400 6     CLOSE_CURRE* EPPR0   46
         5 002066   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 002067   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002070   000000 011000                    NOP     0

      674    13853    2           END;

  13853  5 002071   200007 054100                    AOS     I,,AUTO
         5 002072   200007 236100                    LDQ     I,,AUTO
         5 002073   000105 604000 5                  TMI     s:13520
         5 002074   000000 116000 xsym               CMPQ    LL_NOU
         5 002075   000105 602000 5                  TNC     s:13520

      675    13854
      676    13855         /*
      677    13856            Stuff LIBNAME and ASLNAME in the head record.
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:128  
      678    13857         */
      679    13858
      680    13859    1       TPTR$ = LL_R_OU$;

  13859  5 002076   000000 236000 xsym               LDQ     LL_R_OU$
         5 002077   200003 470500                    LDP0    @TPTR$,,AUTO
         5 002100   000000 756100                    STQ     0,,PR0

      681    13860    1       IF NOT LL_FLAGS.SHARELIB# AND NOT LL_FLAGS.NOSH#

  13860  5 002101   000000 236000 xsym               LDQ     LL_FLAGS
         5 002102   004000 316007                    CANQ    2048,DL
         5 002103   002212 601000 5                  TNZ     s:13885
         5 002104   400000 316007                    CANQ    -131072,DL
         5 002105   002212 601000 5                  TNZ     s:13885

      682    13861    1       THEN
      683    13862    2       DO WHILE ( TPTR$ ~= ADDR(NIL) AND LL_HEAD.LIBNAME.CNT = 0 );

  13862  5 002106   002204 710000 5                  TRA     s:13884

      684    13863    2           SPTR$ = TPTR$ -> OU_ENTRY.HEAD$;

  13863  5 002107   200003 470500                    LDP0    @TPTR$,,AUTO
         5 002110   000000 471500                    LDP1    0,,PR0
         5 002111   100013 236100                    LDQ     11,,PR1
         5 002112   000415 756000 2                  STQ     SPTR$

      685    13864    3           IF SPTR$ -> B$OUHEAD.LNAMSIZ ~= 0 THEN DO;

  13864  5 002113   000415 471400 2                  LDP1    SPTR$
         5 002114   100015 236100                    LDQ     13,,PR1
         5 002115   777000 316003                    CANQ    -512,DU
         5 002116   002200 600000 5                  TZE     s:13883

      686    13865    3               IF LL_FLAGS.SLIB#

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:129  
  13865  5 002117   000000 236000 xsym               LDQ     LL_FLAGS
         5 002120   010000 316007                    CANQ    4096,DL
         5 002121   002161 600000 5                  TZE     s:13875

      687    13866    3               THEN
      688    13867    4               DO;

      689    13868    4                   CALL CONCAT(LL_DOBUF,'A  ***  Request for the shared library '

  13868  5 002122   100015 236100                    LDQ     13,,PR1
         5 002123   000033 772000                    QRL     27
         5 002124   040000 100400                    MLR     fill='040'O
         5 002125   000363 000047 3                  ADSC9   UNUSED_DATA_NAME+160     cn=0,n=39
         5 002126   000000 000047 xsym               ADSC9   LL_DOBUF                 cn=0,n=39
         5 002127   000000 620006                    EAX0    0,QL
         5 002130   040000 100540                    MLR     fill='040'O
         5 002131   100015 200010                    ADSC9   13,,PR1                  cn=1,n=*X0
         5 002132   000011 600111 xsym               ADSC9   LL_DOBUF+9               cn=3,n=73
         5 002133   000111 116007                    CMPQ    73,DL
         5 002134   002142 603000 5                  TRC     s:13870
         5 002135   777666 620006                    EAX0    -74,QL
         5 002136   777777 660003                    ERX0    -1,DU
         5 002137   040046 100400                    MLR     fill='040'O
         5 002140   000375 000011 3                  ADSC9   UNUSED_DATA_NAME+170     cn=0,n=9
         5 002141   000011 600010 xsym               ADSC9   LL_DOBUF+9,Q             cn=3,n=*X0

      690    13869    4                      ,SUBSTR(SPTR$->B$OUHEAD.LNAM,0,SPTR$->B$OUHEAD.LNAMSIZ),
             13869                               ' with the');
      691    13870    4                   CALL LLM$MON_SVC(LL#WRITEDO);

  13870  5 002142   000015 630400 6                  EPPR0   13
         5 002143   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 002144   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002145   000000 011000                    NOP     0

      692    13871    4                   CALL INSERT(LL_DOBUF,0,,'A       SLIB option in effect.');

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:130  
  13871  5 002146   040000 100400                    MLR     fill='040'O
         5 002147   000400 000036 3                  ADSC9   UNUSED_DATA_NAME+173     cn=0,n=30
         5 002150   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      693    13872    4                   CALL LLM$MON_SVC(LL#WRITEDO);

  13872  5 002151   000015 630400 6                  EPPR0   13
         5 002152   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 002153   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002154   000000 011000                    NOP     0

      694    13873    4                   CALL LLM$MON_SVC(LL#ERR);

  13873  5 002155   000060 630400 6                  EPPR0   48
         5 002156   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 002157   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002160   000000 011000                    NOP     0

      695    13874    4                   END;

      696    13875    3               LL_HEAD.LIBNAME.CNT = SPTR$ -> B$OUHEAD.LNAMSIZ;

  13875  5 002161   000415 470400 2                  LDP0    SPTR$
         5 002162   000015 236100                    LDQ     13,,PR0
         5 002163   000030 552040 xsym               STBQ    LL_HEAD+24,'40'O

      697    13876    3               LL_HEAD.LIBNAME.TXT = SPTR$ -> B$OUHEAD.LNAM;

  13876  5 002164   040000 100500                    MLR     fill='040'O
         5 002165   000015 200037                    ADSC9   13,,PR0                  cn=1,n=31
         5 002166   000030 200037 xsym               ADSC9   LL_HEAD+24               cn=1,n=31

      698    13877    3               LL_SLIB_NAME = SPTR$->B$OUHEAD.LNAM;

  13877  5 002167   040000 100500                    MLR     fill='040'O
         5 002170   000015 200037                    ADSC9   13,,PR0                  cn=1,n=31
         5 002171   000000 000037 xsym               ADSC9   LL_SLIB_NAME             cn=0,n=31
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:131  

      699    13878    3               IF NOT LL_FLAGS.BIAS_OU

  13878  5 002172   000000 236000 xsym               LDQ     LL_FLAGS
         5 002173   040000 316007                    CANQ    16384,DL
         5 002174   002177 601000 5                  TNZ     s:13881

      700    13879    3               THEN
      701    13880    3                   LL_FLAGS.SHARELIB# = '1'B;

  13880  5 002175   004000 236007                    LDQ     2048,DL
         5 002176   000000 256000 xsym               ORSQ    LL_FLAGS

      702    13881    3               EXIT;

  13881  5 002177   002200 710000 5                  TRA     s:13883

      703    13882    3               END;
      704    13883    2           TPTR$ = TPTR$ -> OU_ENTRY.NEXT$;

  13883  5 002200   200003 470500                    LDP0    @TPTR$,,AUTO
         5 002201   000000 471500                    LDP1    0,,PR0
         5 002202   100001 236100                    LDQ     1,,PR1
         5 002203   000000 756100                    STQ     0,,PR0

      705    13884    2           END;

  13884  5 002204   000000 236100                    LDQ     0,,PR0
         5 002205   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 002206   002212 600000 5                  TZE     s:13885
         5 002207   000030 236000 xsym               LDQ     LL_HEAD+24
         5 002210   777000 316003                    CANQ    -512,DU
         5 002211   002107 600000 5                  TZE     s:13863

      706    13885    1       IF LL_FLAGS.SHARELIB#

  13885  5 002212   000000 236000 xsym               LDQ     LL_FLAGS
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:132  
         5 002213   004000 316007                    CANQ    2048,DL
         5 002214   003051 600000 5                  TZE     s:14002

      707    13886    1       THEN
      708    13887    2       DO;

      709    13888    2           CALL M$FID(FID_SLIB);

  13888  5 002215   000062 630400 2                  EPPR0   FID_SLIB
         5 002216   020001 713400                    CLIMB   8193
         5 002217   404400 401760                    pmme    nvectors=10

      710    13889    2           IF FID_RESULTS.ACCT

  13889  5 002220   000226 236000 2                  LDQ     FID_RESULTS
         5 002221   200000 316003                    CANQ    65536,DU
         5 002222   002226 600000 5                  TZE     s:13891

      711    13890    2           THEN OPEN_SLIB.ACCT_ = VECTOR(SLIB_ACCT);

  13890  5 002223   000062 237000 6                  LDAQ    50
         5 002224   000154 757000 2                  STAQ    OPEN_SLIB+20
         5 002225   002230 710000 5                  TRA     s:13892

      712    13891    2           ELSE OPEN_SLIB.ACCT_ = VECTOR(LIB_ACCT);

  13891  5 002226   000064 237000 6                  LDAQ    52
         5 002227   000154 757000 2                  STAQ    OPEN_SLIB+20

      713    13892    2           CALL M$OPEN(OPEN_SLIB)

  13892  5 002230   000130 630400 2                  EPPR0   OPEN_SLIB
         5 002231   450000 713400                    CLIMB   alt,open
         5 002232   410400 401760                    pmme    nvectors=18
         5 002233   002316 702000 5                  TSX2    s:13901

      714    13893    3           WHENRETURN DO;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:133  

      715    13894    3               CALL INDEX(CODE,' ',LL_SLIB_NAME,0);

  13894  5 002234   000000 124400                    SCM     mask='000'O
         5 002235   000000 000037 xsym               ADSC9   LL_SLIB_NAME             cn=0,n=31
         5 002236   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         5 002237   200005 000100                    ARG     CODE,,AUTO

      716    13895    3               IF FID_RESULTS.ACCT

  13895  5 002240   000226 236000 2                  LDQ     FID_RESULTS
         5 002241   200000 316003                    CANQ    65536,DU
         5 002242   002263 600000 5                  TZE     s:13897

      717    13896    3               THEN CALL INSERT(LL_LOBUF,0,,'A  * ',SUBSTR(LL_SLIB_NAME,0,CODE),
             13896                        '(Shared Library) associated.');

  13896  5 002243   040000 100400                    MLR     fill='040'O
         5 002244   000410 000005 3                  ADSC9   UNUSED_DATA_NAME+181     cn=0,n=5
         5 002245   000000 000005 xsym               ADSC9   LL_LOBUF                 cn=0,n=5
         5 002246   200005 720100                    LXL0    CODE,,AUTO
         5 002247   040000 100440                    MLR     fill='040'O
         5 002250   000000 000010 xsym               ADSC9   LL_SLIB_NAME             cn=0,n=*X0
         5 002251   000001 200153 xsym               ADSC9   LL_LOBUF+1               cn=1,n=107
         5 002252   200005 236100                    LDQ     CODE,,AUTO
         5 002253   000153 116007                    CMPQ    107,DL
         5 002254   002262 603000 5                  TRC     s:13896+15
         5 002255   777624 621006                    EAX1    -108,QL
         5 002256   777777 661003                    ERX1    -1,DU
         5 002257   040046 100400                    MLR     fill='040'O
         5 002260   000412 000034 3                  ADSC9   UNUSED_DATA_NAME+183     cn=0,n=28
         5 002261   000001 200011 xsym               ADSC9   LL_LOBUF+1,Q             cn=1,n=*X1
         5 002262   002311 710000 5                  TRA     s:13898

      718    13897    3               ELSE CALL INSERT(LL_LOBUF,0,,'A * ',SUBSTR(LL_SLIB_NAME,0,CODE),'.:SYS'
             13897                        ,'(Shared Library) associated.');

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:134  
  13897  5 002263   040000 100400                    MLR     fill='040'O
         5 002264   000410 000005 3                  ADSC9   UNUSED_DATA_NAME+181     cn=0,n=5
         5 002265   000000 000005 xsym               ADSC9   LL_LOBUF                 cn=0,n=5
         5 002266   200005 720100                    LXL0    CODE,,AUTO
         5 002267   040000 100440                    MLR     fill='040'O
         5 002270   000000 000010 xsym               ADSC9   LL_SLIB_NAME             cn=0,n=*X0
         5 002271   000001 200153 xsym               ADSC9   LL_LOBUF+1               cn=1,n=107
         5 002272   200005 236100                    LDQ     CODE,,AUTO
         5 002273   000153 116007                    CMPQ    107,DL
         5 002274   002311 603000 5                  TRC     s:13898
         5 002275   777624 621006                    EAX1    -108,QL
         5 002276   777777 661003                    ERX1    -1,DU
         5 002277   040046 100400                    MLR     fill='040'O
         5 002300   000421 000005 3                  ADSC9   UNUSED_DATA_NAME+190     cn=0,n=5
         5 002301   000001 200011 xsym               ADSC9   LL_LOBUF+1,Q             cn=1,n=*X1
         5 002302   000146 116007                    CMPQ    102,DL
         5 002303   002311 603000 5                  TRC     s:13898
         5 002304   777631 622006                    EAX2    -103,QL
         5 002305   777777 662003                    ERX2    -1,DU
         5 002306   040046 100400                    MLR     fill='040'O
         5 002307   000412 000034 3                  ADSC9   UNUSED_DATA_NAME+183     cn=0,n=28
         5 002310   000002 400012 xsym               ADSC9   LL_LOBUF+2,Q             cn=2,n=*X2

      719    13898    3               CALL LLM$MON_SVC(LL#WRITELO);

  13898  5 002311   000020 630400 6                  EPPR0   16
         5 002312   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 002313   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002314   000000 011000                    NOP     0

      720    13899    3               END;

  13899  5 002315   002410 710000 5                  TRA     s:13918

      721    13900    3           WHENALTRETURN DO;

      722    13901    3               CODE = B$TCB$->B$TCB.ALT$->B$ALT.ERR.CODE;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:135  

  13901  5 002316   000000 470400 xsym               LDP0    B$TCB$
         5 002317   000000 471500                    LDP1    0,,PR0
         5 002320   100102 236100                    LDQ     66,,PR1
         5 002321   000003 772000                    QRL     3
         5 002322   037777 376007                    ANQ     16383,DL
         5 002323   200005 756100                    STQ     CODE,,AUTO

      723    13902    3               IF CODE = %E$NOACCESS

  13902  5 002324   000164 116007                    CMPQ    116,DL
         5 002325   002331 601000 5                  TNZ     s:13906

      724    13903    3               THEN CALL M$MERC;

  13903  5 002326   010007 713400                    CLIMB   4103
         5 002327   000000 401760                    pmme    nvectors=0
         5 002330   002404 710000 5                  TRA     s:13916

      725    13904    3               ELSE
      726    13905    4               DO;

      727    13906    4                   CALL INDEX(I,' ',LL_SLIB_NAME,0);

  13906  5 002331   000000 124400                    SCM     mask='000'O
         5 002332   000000 000037 xsym               ADSC9   LL_SLIB_NAME             cn=0,n=31
         5 002333   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         5 002334   200007 000100                    ARG     I,,AUTO

      728    13907    4                   IF FID_RESULTS.ACCT

  13907  5 002335   000226 236000 2                  LDQ     FID_RESULTS
         5 002336   200000 316003                    CANQ    65536,DU
         5 002337   002360 600000 5                  TZE     s:13912

      729    13908    4                   THEN CALL INSERT(LL_DOBUF,0,,'A  *** File ',

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:136  
  13908  5 002340   040000 100400                    MLR     fill='040'O
         5 002341   000423 000014 3                  ADSC9   UNUSED_DATA_NAME+192     cn=0,n=12
         5 002342   000000 000014 xsym               ADSC9   LL_DOBUF                 cn=0,n=12
         5 002343   200007 720100                    LXL0    I,,AUTO
         5 002344   040000 100440                    MLR     fill='040'O
         5 002345   000000 000010 xsym               ADSC9   LL_SLIB_NAME             cn=0,n=*X0
         5 002346   000003 000144 xsym               ADSC9   LL_DOBUF+3               cn=0,n=100
         5 002347   200007 236100                    LDQ     I,,AUTO
         5 002350   000144 116007                    CMPQ    100,DL
         5 002351   002357 605000 5                  TPL     s:13908+15
         5 002352   777633 621006                    EAX1    -101,QL
         5 002353   777777 661003                    ERX1    -1,DU
         5 002354   040046 100400                    MLR     fill='040'O
         5 002355   000426 000012 3                  ADSC9   UNUSED_DATA_NAME+195     cn=0,n=10
         5 002356   000003 000011 xsym               ADSC9   LL_DOBUF+3,Q             cn=0,n=*X1
         5 002357   002400 710000 5                  TRA     s:13914

      730    13909    4                          SUBSTR(LL_SLIB_NAME,0,I),
      731    13910    4                          ' not exist');
      732    13911    4                   ELSE
      733    13912    4                       CALL INSERT(LL_DOBUF,0,,'A  *** File ',SUBSTR(LL_HEAD.LIBNAME.
             13912                                TXT,0,LL_HEAD.LIBNAME.CNT),

  13912  5 002360   000030 236000 xsym               LDQ     LL_HEAD+24
         5 002361   000033 772000                    QRL     27
         5 002362   040000 100400                    MLR     fill='040'O
         5 002363   000423 000014 3                  ADSC9   UNUSED_DATA_NAME+192     cn=0,n=12
         5 002364   000000 000014 xsym               ADSC9   LL_DOBUF                 cn=0,n=12
         5 002365   000000 620006                    EAX0    0,QL
         5 002366   040000 100440                    MLR     fill='040'O
         5 002367   000030 200010 xsym               ADSC9   LL_HEAD+24               cn=1,n=*X0
         5 002370   000003 000144 xsym               ADSC9   LL_DOBUF+3               cn=0,n=100
         5 002371   000144 116007                    CMPQ    100,DL
         5 002372   002400 603000 5                  TRC     s:13914
         5 002373   777633 620006                    EAX0    -101,QL
         5 002374   777777 660003                    ERX0    -1,DU
         5 002375   040046 100400                    MLR     fill='040'O
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:137  
         5 002376   000431 000022 3                  ADSC9   UNUSED_DATA_NAME+198     cn=0,n=18
         5 002377   000003 000010 xsym               ADSC9   LL_DOBUF+3,Q             cn=0,n=*X0

      734    13913    4                          ' not exist in :SYS');
      735    13914    4                   CALL LLM$MON_SVC(LL#WRITEDO);

  13914  5 002400   000015 630400 6                  EPPR0   13
         5 002401   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 002402   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002403   000000 011000                    NOP     0

      736    13915    4                   END;

      737    13916    3               CALL LLM$MON_SVC(LL#ERR);

  13916  5 002404   000060 630400 6                  EPPR0   48
         5 002405   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 002406   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002407   000000 011000                    NOP     0

      738    13917    3               END;

      739    13918    2           READ_SLIB_HEAD.BUF_.BOUND = SIZEC(SLIB_HEAD);

  13918  5 002410   000116 236000 2                  LDQ     READ_SLIB_HEAD+4
         5 002411   177777 376007                    ANQ     65535,DL
         5 002412   000050 276003                    ORQ     40,DU
         5 002413   000116 756000 2                  STQ     READ_SLIB_HEAD+4

      740    13919    2           READ_SLIB_HEAD.BUF_.BUF$ = ADDR(SLIB_HEAD);

  13919  5 002414   000066 236000 6                  LDQ     54
         5 002415   000117 756000 2                  STQ     READ_SLIB_HEAD+5

      741    13920    2           CALL M$READ(READ_SLIB_HEAD)

  13920  5 002416   000112 630400 2                  EPPR0   READ_SLIB_HEAD
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:138  
         5 002417   440000 713400                    CLIMB   alt,read
         5 002420   401400 401760                    pmme    nvectors=4
         5 002421   002423 702000 5                  TSX2    s:13922
         5 002422   002455 710000 5                  TRA     s:13928

      742    13921    3           WHENALTRETURN DO;

      743    13922    3               CALL INSERT(LL_DOBUF,0,,'A ***The specified key does not exist in ',
             13922                        SUBSTR(LL_SLIB_NAME,0,CODE));

  13922  5 002423   040000 100400                    MLR     fill='040'O
         5 002424   000436 000051 3                  ADSC9   UNUSED_DATA_NAME+203     cn=0,n=41
         5 002425   000000 000051 xsym               ADSC9   LL_DOBUF                 cn=0,n=41
         5 002426   200005 720100                    LXL0    CODE,,AUTO
         5 002427   040000 100440                    MLR     fill='040'O
         5 002430   000000 000010 xsym               ADSC9   LL_SLIB_NAME             cn=0,n=*X0
         5 002431   000012 200107 xsym               ADSC9   LL_DOBUF+10              cn=1,n=71

      744    13923    3               CALL LLM$MON_SVC(LL#WRITEDO);

  13923  5 002432   000015 630400 6                  EPPR0   13
         5 002433   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 002434   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002435   000000 011000                    NOP     0

      745    13924    3               CALL INSERT(LL_DOBUF,0,,'A ***While reading head for shared library:',
             13924                        SUBSTR(LL_SLIB_NAME,0,CODE));

  13924  5 002436   040000 100400                    MLR     fill='040'O
         5 002437   000451 000053 3                  ADSC9   UNUSED_DATA_NAME+214     cn=0,n=43
         5 002440   000000 000053 xsym               ADSC9   LL_DOBUF                 cn=0,n=43
         5 002441   200005 720100                    LXL0    CODE,,AUTO
         5 002442   040000 100440                    MLR     fill='040'O
         5 002443   000000 000010 xsym               ADSC9   LL_SLIB_NAME             cn=0,n=*X0
         5 002444   000012 600105 xsym               ADSC9   LL_DOBUF+10              cn=3,n=69

      746    13925    3               CALL LLM$MON_SVC(LL#WRITEDO);
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:139  

  13925  5 002445   000015 630400 6                  EPPR0   13
         5 002446   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 002447   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002450   000000 011000                    NOP     0

      747    13926    3               CALL LLM$MON_SVC(LL#ERR);

  13926  5 002451   000060 630400 6                  EPPR0   48
         5 002452   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 002453   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002454   000000 011000                    NOP     0

      748    13927    3               END;

      749    13928    2           TEMP = SLIB_HEAD.NRECSIZE;

  13928  5 002455   000020 236000 2                  LDQ     SLIB_HEAD+6
         5 002456   777777 376007                    ANQ     -1,DL
         5 002457   000421 756000 2                  STQ     TEMP

      750    13929    2           IF TEMP = 0 THEN GOTO NO_DEF;

  13929  5 002460   002536 600000 5                  TZE     NO_DEF

      751    13930    2           SLIB_KEY.KEYSIZ = 5;

  13930  5 002461   005000 236003                    LDQ     2560,DU
         5 002462   000306 552040 2                  STBQ    SLIB_KEY,'40'O

      752    13931    2           SLIB_KEY.ISADDR = 0;

  13931  5 002463   003000 061400                    CSR     bolr='003'O
         5 002464   000002 000044 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=36
         5 002465   000306 670024 2                  BDSC    SLIB_KEY                 by=3,bit=7,n=20

      753    13932    3           DO WHILE '1'B;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:140  

      754    13933    3               IF TEMP + PSIZE <= LL_DNAME_VEC.BOUND THEN EXIT;

  13933  5 002466   000421 236000 2                  LDQ     TEMP
         5 002467   200011 036100                    ADLQ    PSIZE,,AUTO
         5 002470   200172 756100                    STQ     T+2,,AUTO
         5 002471   000000 236000 xsym               LDQ     LL_DNAME_VEC
         5 002472   000022 772000                    QRL     18
         5 002473   200172 116100                    CMPQ    T+2,,AUTO
         5 002474   002502 605000 5                  TPL     s:13936

      755    13934    3               CALL M$GDS (DNAME_FPT) ALTRET (NO_MEM);

  13934  5 002475   000000 630400 3                  EPPR0   DNAME_FPT
         5 002476   430001 713400                    CLIMB   alt,gds
         5 002477   400400 401760                    pmme    nvectors=2
         5 002500   000013 702000 5                  TSX2    NO_MEM

      756    13935    3               END;

  13935  5 002501   002466 710000 5                  TRA     s:13933

      757    13936    2           READ_SLIB.BUF_.BUF$ = PINCRW(NAME$,PSIZE);

  13936  5 002502   200011 236100                    LDQ     PSIZE,,AUTO
         5 002503   000022 736000                    QLS     18
         5 002504   000411 036000 2                  ADLQ    NAME$
         5 002505   000315 756000 2                  STQ     READ_SLIB+5

      758    13937    2           READ_SLIB.BUF_.BOUND = TEMP * 4 - 1;

  13937  5 002506   000421 236000 2                  LDQ     TEMP
         5 002507   000002 736000                    QLS     2
         5 002510   000001 136007                    SBLQ    1,DL
         5 002511   000020 736000                    QLS     16
         5 002512   000314 676000 2                  ERQ     READ_SLIB+4
         5 002513   000034 376000 xsym               ANQ     B_VECTNIL+28
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:141  
         5 002514   000314 656000 2                  ERSQ    READ_SLIB+4

      759    13938    2           SLIB_KEY.TYPE = %TYPDNAM;

  13938  5 002515   000001 236003                    LDQ     1,DU
         5 002516   000306 552020 2                  STBQ    SLIB_KEY,'20'O

      760    13939    2           READ_SLIB.KEY_ = VECTOR(SLIB_KEY);

  13939  5 002517   000070 237000 6                  LDAQ    56
         5 002520   000312 757000 2                  STAQ    READ_SLIB+2

      761    13940    2           CALL M$READ(READ_SLIB) ALTRET(NO_DEF);

  13940  5 002521   000310 630400 2                  EPPR0   READ_SLIB
         5 002522   440000 713400                    CLIMB   alt,read
         5 002523   401400 401760                    pmme    nvectors=4
         5 002524   002536 702000 5                  TSX2    NO_DEF

      762    13941    2           TEMP = (DCBADDR(DCBNUM(M$LI))->B$DCB.ARS#+1) / 4;

  13941  5 002525   000000 236007 xsym               LDQ     M$LI,DL
         5 002526   000072 470400 6                  LDP0    58
         5 002527   000000 471500                    LDP1    0,,PR0
         5 002530   100000 473506                    LDP3    0,QL,PR1
         5 002531   300000 236100                    LDQ     0,,PR3
         5 002532   000001 036007                    ADLQ    1,DL
         5 002533   000004 506007                    DIV     4,DL
         5 002534   000421 756000 2                  STQ     TEMP

      763    13942    3           DO WHILE('0'B);

  13942  5 002535   002551 710000 5                  TRA     s:13948

      764    13943    3   NO_DEF:
      765    13944    3               LL_DOBUF ='A  *** Require DEF record in shared library is missing';

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:142  
  13944  5 002536   040000 100400       NO_DEF       MLR     fill='040'O
         5 002537   000464 000066 3                  ADSC9   UNUSED_DATA_NAME+225     cn=0,n=54
         5 002540   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      766    13945    3               CALL LLM$MON_SVC(LL#WRITEDO);

  13945  5 002541   000015 630400 6                  EPPR0   13
         5 002542   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 002543   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002544   000000 011000                    NOP     0

      767    13946    3               CALL LLM$MON_SVC(LL#ERR);

  13946  5 002545   000060 630400 6                  EPPR0   48
         5 002546   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 002547   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002550   000000 011000                    NOP     0

      768    13947    3               END;

      769    13948    2           X = PSIZE;

  13948  5 002551   200011 235100                    LDA     PSIZE,,AUTO
         5 002552   000413 755000 2                  STA     X

      770    13949    2           PSIZE = PSIZE + TEMP;

  13949  5 002553   200011 236100                    LDQ     PSIZE,,AUTO
         5 002554   000421 036000 2                  ADLQ    TEMP
         5 002555   200011 756100                    STQ     PSIZE,,AUTO

      771    13950    3           DO L = %TYPEDEF TO %TYPSDEF BY 2;

  13950  5 002556   000004 235007                    LDA     4,DL
         5 002557   200037 755100                    STA     L,,AUTO

      772    13951    3               IF L = %TYPEDEF
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:143  

  13951  5 002560   200037 235100                    LDA     L,,AUTO
         5 002561   000004 115007                    CMPA    4,DL
         5 002562   002567 601000 5                  TNZ     s:13955

      773    13952    3               THEN
      774    13953    3                   TEMP = SLIB_HEAD.EPRECSIZE;

  13953  5 002563   000021 236000 2                  LDQ     SLIB_HEAD+7
         5 002564   000022 772000                    QRL     18
         5 002565   000421 756000 2                  STQ     TEMP
         5 002566   002572 710000 5                  TRA     s:13956

      775    13954    3               ELSE
      776    13955    3                   TEMP = SLIB_HEAD.EDRECSIZE;

  13955  5 002567   000021 236000 2                  LDQ     SLIB_HEAD+7
         5 002570   777777 376007                    ANQ     -1,DL
         5 002571   000421 756000 2                  STQ     TEMP

      777    13956    3               SLIB_KEY.TYPE = L;

  13956  5 002572   200037 236100                    LDQ     L,,AUTO
         5 002573   000022 736000                    QLS     18
         5 002574   000306 552020 2                  STBQ    SLIB_KEY,'20'O

      778    13957    3               Z = (TEMP/SIZEW(B$SDEF)) * (SIZEW(B$SDEF)+SIZEW(NODE));

  13957  5 002575   000421 236000 2                  LDQ     TEMP
         5 002576   000002 506007                    DIV     2,DL
         5 002577   000003 736000                    QLS     3
         5 002600   200006 756100                    STQ     Z,,AUTO

      779    13958    3               CALL LLM$MON_SVC(LL#GETMEM,Z,AVAIL$);

  13958  5 002601   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 002602   200174 450500                    STP0    T+4,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:144  
         5 002603   200006 631500                    EPPR1   Z,,AUTO
         5 002604   200173 451500                    STP1    T+3,,AUTO
         5 002605   000000 236000 6                  LDQ     0
         5 002606   200172 756100                    STQ     T+2,,AUTO
         5 002607   200172 630500                    EPPR0   T+2,,AUTO
         5 002610   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 002611   000000 701000 xent               TSX1    LLM$MON_SVC
         5 002612   000000 011000                    NOP     0

      780    13959    3               READ_SLIB.BUF_.BUF$ = AVAIL$;

  13959  5 002613   200012 236100                    LDQ     AVAIL$,,AUTO
         5 002614   000315 756000 2                  STQ     READ_SLIB+5

      781    13960    3               READ_SLIB.BUF_.BOUND = TEMP * 4 - 1;

  13960  5 002615   000421 236000 2                  LDQ     TEMP
         5 002616   000002 736000                    QLS     2
         5 002617   000001 136007                    SBLQ    1,DL
         5 002620   000020 736000                    QLS     16
         5 002621   000314 676000 2                  ERQ     READ_SLIB+4
         5 002622   000034 376000 xsym               ANQ     B_VECTNIL+28
         5 002623   000314 656000 2                  ERSQ    READ_SLIB+4

      782    13961    3               READ_SLIB.KEY_ = VECTOR(SLIB_KEY);

  13961  5 002624   000070 237000 6                  LDAQ    56
         5 002625   000312 757000 2                  STAQ    READ_SLIB+2

      783    13962    3               CALL M$READ(READ_SLIB) ALTRET(NO_RECORD);

  13962  5 002626   000310 630400 2                  EPPR0   READ_SLIB
         5 002627   440000 713400                    CLIMB   alt,read
         5 002630   401400 401760                    pmme    nvectors=4
         5 002631   003023 702000 5                  TSX2    NO_RECORD

      784    13963    3               TEMP = DCBADDR(DCBNUM(M$LI))->B$DCB.ARS#/4;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:145  

  13963  5 002632   000000 236007 xsym               LDQ     M$LI,DL
         5 002633   000072 470400 6                  LDP0    58
         5 002634   000000 471500                    LDP1    0,,PR0
         5 002635   100000 473506                    LDP3    0,QL,PR1
         5 002636   300000 236100                    LDQ     0,,PR3
         5 002637   000004 506007                    DIV     4,DL
         5 002640   000421 756000 2                  STQ     TEMP

      785    13964    3               IF TEMP = 0 THEN GOTO NO_RECORD;

  13964  5 002641   000000 116003                    CMPQ    0,DU
         5 002642   003023 600000 5                  TZE     NO_RECORD

      786    13965    4               IF L = %TYPSDEF THEN DO;

  13965  5 002643   200037 235100                    LDA     L,,AUTO
         5 002644   000006 115007                    CMPA    6,DL
         5 002645   002701 601000 5                  TNZ     s:13975

      787    13966    5                   DO J = 0 TO TEMP-2 BY 2;

  13966  5 002646   200036 450100                    STZ     J,,AUTO
         5 002647   002673 710000 5                  TRA     s:13972+3

      788    13967    5                       PINCRW(AVAIL$,J)->B$SDEF.NPOINTER

  13967  5 002650   200012 470500                    LDP0    AVAIL$,,AUTO
         5 002651   200036 720100                    LXL0    J,,AUTO
         5 002652   000001 236110                    LDQ     1,X0,PR0
         5 002653   000022 732000                    QRS     18
         5 002654   000413 036000 2                  ADLQ    X
         5 002655   000000 621006                    EAX1    0,QL
         5 002656   000001 741110                    STX1    1,X0,PR0

      789    13968    5                          = PINCRW(AVAIL$,J)->B$SDEF.NPOINTER + X;
      790    13969    5                       IF PINCRW(AVAIL$,J)->B$SDEF.LFLAGS.SOURCE ~= %SOURCE_REMOVED#
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:146  

  13969  5 002657   200012 470500                    LDP0    AVAIL$,,AUTO
         5 002660   000001 236110                    LDQ     1,X0,PR0
         5 002661   074000 376007                    ANQ     30720,DL
         5 002662   024000 116007                    CMPQ    10240,DL
         5 002663   002670 600000 5                  TZE     s:13972

      791    13970    5                       THEN
      792    13971    5                           PINCRW(AVAIL$,J)->B$SDEF.LFLAGS.SOURCE = %SOURCE_SLIB#;

  13971  5 002664   000001 236110                    LDQ     1,X0,PR0
         5 002665   000073 376000 6                  ANQ     59
         5 002666   004000 276007                    ORQ     2048,DL
         5 002667   000001 756110                    STQ     1,X0,PR0

      793    13972    5                       END;

  13972  5 002670   200036 235100                    LDA     J,,AUTO
         5 002671   000002 035007                    ADLA    2,DL
         5 002672   200036 755100                    STA     J,,AUTO
         5 002673   000421 236000 2                  LDQ     TEMP
         5 002674   000002 136007                    SBLQ    2,DL
         5 002675   002700 604000 5                  TMI     s:13973
         5 002676   200036 116100                    CMPQ    J,,AUTO
         5 002677   002650 603000 5                  TRC     s:13967

      794    13973    4                   END;

  13973  5 002700   002733 710000 5                  TRA     s:13983

      795    13974    4               ELSE DO;

      796    13975    5                   DO J = 0 TO TEMP-2 BY 2;

  13975  5 002701   200036 450100                    STZ     J,,AUTO
         5 002702   002726 710000 5                  TRA     s:13981+3

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:147  
      797    13976    5                       PINCRW(AVAIL$,J)->B$SDEF.NPOINTER

  13976  5 002703   200012 470500                    LDP0    AVAIL$,,AUTO
         5 002704   200036 720100                    LXL0    J,,AUTO
         5 002705   000001 236110                    LDQ     1,X0,PR0
         5 002706   000022 732000                    QRS     18
         5 002707   000413 036000 2                  ADLQ    X
         5 002710   000000 621006                    EAX1    0,QL
         5 002711   000001 741110                    STX1    1,X0,PR0

      798    13977    5                          = PINCRW(AVAIL$,J)->B$SDEF.NPOINTER + X;
      799    13978    5                      IF PINCRW(AVAIL$,J)->B$SDEF.AD.LFLAGS.SOURCE ~= %SOURCE_REMOVED#

  13978  5 002712   200012 470500                    LDP0    AVAIL$,,AUTO
         5 002713   000000 236110                    LDQ     0,X0,PR0
         5 002714   700000 376003                    ANQ     -32768,DU
         5 002715   500000 116003                    CMPQ    -98304,DU
         5 002716   002723 600000 5                  TZE     s:13981

      800    13979    5                       THEN
      801    13980    5                           PINCRW(AVAIL$,J)->B$SDEF.AD.LFLAGS.SOURCE = %SOURCE_SLIB#;

  13980  5 002717   000000 236110                    LDQ     0,X0,PR0
         5 002720   000074 376000 6                  ANQ     60
         5 002721   100000 276003                    ORQ     32768,DU
         5 002722   000000 756110                    STQ     0,X0,PR0

      802    13981    5                       END;

  13981  5 002723   200036 235100                    LDA     J,,AUTO
         5 002724   000002 035007                    ADLA    2,DL
         5 002725   200036 755100                    STA     J,,AUTO
         5 002726   000421 236000 2                  LDQ     TEMP
         5 002727   000002 136007                    SBLQ    2,DL
         5 002730   002733 604000 5                  TMI     s:13983
         5 002731   200036 116100                    CMPQ    J,,AUTO
         5 002732   002703 603000 5                  TRC     s:13976
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:148  

      803    13982    4                   END;

      804    13983    3               TPTR$ = AVAIL$;

  13983  5 002733   200012 236100                    LDQ     AVAIL$,,AUTO
         5 002734   200003 470500                    LDP0    @TPTR$,,AUTO
         5 002735   000000 756100                    STQ     0,,PR0

      805    13984    3               AVAIL$ = PINCRW(AVAIL$,TEMP);

  13984  5 002736   000421 236000 2                  LDQ     TEMP
         5 002737   000022 736000                    QLS     18
         5 002740   200012 036100                    ADLQ    AVAIL$,,AUTO
         5 002741   200012 756100                    STQ     AVAIL$,,AUTO

      806    13985    3               IF L = %TYPSDEF THEN

  13985  5 002742   200037 235100                    LDA     L,,AUTO
         5 002743   000006 115007                    CMPA    6,DL
         5 002744   002774 601000 5                  TNZ     s:13988

      807    13986    3                  CALL LLG$GROW(LL_SYMDEF_R$,TPTR$,TEMP/SIZEW(B$SDEF),ADDR(NIL),AVAIL$
             13986                            ,NAME$,%TYPSDEF);

  13986  5 002745   000421 236000 2                  LDQ     TEMP
         5 002746   000002 506007                    DIV     2,DL
         5 002747   200172 756100                    STQ     T+2,,AUTO
         5 002750   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 002751   200173 756100                    STQ     T+3,,AUTO
         5 002752   000051 236000 6                  LDQ     41
         5 002753   200202 756100                    STQ     T+10,,AUTO
         5 002754   000044 236000 6                  LDQ     36
         5 002755   200201 756100                    STQ     T+9,,AUTO
         5 002756   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 002757   200200 451500                    STP1    T+8,,AUTO
         5 002760   200173 633500                    EPPR3   T+3,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:149  
         5 002761   200177 453500                    STP3    T+7,,AUTO
         5 002762   200172 634500                    EPPR4   T+2,,AUTO
         5 002763   200176 454500                    STP4    T+6,,AUTO
         5 002764   200003 236100                    LDQ     @TPTR$,,AUTO
         5 002765   000052 235000 6                  LDA     42
         5 002766   200174 757100                    STAQ    T+4,,AUTO
         5 002767   200174 630500                    EPPR0   T+4,,AUTO
         5 002770   000025 631400 xsym               EPPR1   B_VECTNIL+21
         5 002771   000000 701000 xent               TSX1    LLG$GROW
         5 002772   000000 011000                    NOP     0
         5 002773   003022 710000 5                  TRA     s:13989

      808    13987    3               ELSE
      809    13988    3                  CALL LLG$GROW(LL_ENTDEF_R$,TPTR$,TEMP/SIZEW(B$EDEF),ADDR(NIL),AVAIL$
             13988                            ,NAME$,%TYPEDEF);

  13988  5 002774   000421 236000 2                  LDQ     TEMP
         5 002775   000002 506007                    DIV     2,DL
         5 002776   200172 756100                    STQ     T+2,,AUTO
         5 002777   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 003000   200173 756100                    STQ     T+3,,AUTO
         5 003001   000045 236000 6                  LDQ     37
         5 003002   200202 756100                    STQ     T+10,,AUTO
         5 003003   000044 236000 6                  LDQ     36
         5 003004   200201 756100                    STQ     T+9,,AUTO
         5 003005   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 003006   200200 451500                    STP1    T+8,,AUTO
         5 003007   200173 633500                    EPPR3   T+3,,AUTO
         5 003010   200177 453500                    STP3    T+7,,AUTO
         5 003011   200172 634500                    EPPR4   T+2,,AUTO
         5 003012   200176 454500                    STP4    T+6,,AUTO
         5 003013   200003 236100                    LDQ     @TPTR$,,AUTO
         5 003014   000046 235000 6                  LDA     38
         5 003015   200174 757100                    STAQ    T+4,,AUTO
         5 003016   200174 630500                    EPPR0   T+4,,AUTO
         5 003017   000025 631400 xsym               EPPR1   B_VECTNIL+21
         5 003020   000000 701000 xent               TSX1    LLG$GROW
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:150  
         5 003021   000000 011000                    NOP     0

      810    13989    4               DO WHILE('0'B);

  13989  5 003022   003041 710000 5                  TRA     s:13999

      811    13990    4   NO_RECORD:
      812    13991    4                   IF L = %TYPEDEF

  13991  5 003023   200037 235100       NO_RECORD    LDA     L,,AUTO
         5 003024   000004 115007                    CMPA    4,DL
         5 003025   003041 601000 5                  TNZ     s:13999

      813    13992    4                   THEN
      814    13993    5                   DO;

      815    13994    5                       LL_DOBUF =
             13994                                'A *** Required ENTDEF record in shared library is missing'
             13994                                ;

  13994  5 003026   040000 100400                    MLR     fill='040'O
         5 003027   000502 000072 3                  ADSC9   UNUSED_DATA_NAME+239     cn=0,n=58
         5 003030   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      816    13995    5                       CALL LLM$MON_SVC(LL#WRITEDO);

  13995  5 003031   000015 630400 6                  EPPR0   13
         5 003032   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 003033   000000 701000 xent               TSX1    LLM$MON_SVC
         5 003034   000000 011000                    NOP     0

      817    13996    5                       CALL LLM$MON_SVC(LL#ERR);

  13996  5 003035   000060 630400 6                  EPPR0   48
         5 003036   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 003037   000000 701000 xent               TSX1    LLM$MON_SVC
         5 003040   000000 011000                    NOP     0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:151  

      818    13997    5                       END;

      819    13998    4                   END;

      820    13999    3               END;

  13999  5 003041   200037 235100                    LDA     L,,AUTO
         5 003042   000002 035007                    ADLA    2,DL
         5 003043   200037 755100                    STA     L,,AUTO
         5 003044   000007 115007                    CMPA    7,DL
         5 003045   002560 602000 5                  TNC     s:13951

      821    14000    2           CALL M$CLOSE(CLOSE_SLIB);

  14000  5 003046   000250 630400 2                  EPPR0   CLOSE_SLIB
         5 003047   050001 713400                    CLIMB   close
         5 003050   406000 401760                    pmme    nvectors=13

      822    14001    2           END;

      823    14002    1       LL_HEAD.NRECSIZE = PSIZE;

  14002  5 003051   200011 720100                    LXL0    PSIZE,,AUTO
         5 003052   000006 440000 xsym               SXL0    LL_HEAD+6

      824    14003    1       LL_HEAD.PRECSIZE = LL_PRECSIZE;

  14003  5 003053   002000 221003                    LDX1    1024,DU
         5 003054   000006 741000 xsym               STX1    LL_HEAD+6

      825    14004    1       LL_HEAD.EDRECSIZE = LL_EDRECSIZE;

  14004  5 003055   000007 441000 xsym               SXL1    LL_HEAD+7

      826    14005    1       LL_HEAD.EPRECSIZE = LL_EPRECSIZE;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:152  
  14005  5 003056   000007 741000 xsym               STX1    LL_HEAD+7

      827    14006    1       IF LL_FLAGS.VECTOR#

  14006  5 003057   000000 236000 xsym               LDQ     LL_FLAGS
         5 003060   000200 316007                    CANQ    128,DL
         5 003061   003074 600000 5                  TZE     s:14015

      828    14007    1       THEN
      829    14008    2       DO;

      830    14009    2           LL_TOPOMEM$ = AVAIL$;

  14009  5 003062   200012 236100                    LDQ     AVAIL$,,AUTO
         5 003063   000000 756000 xsym               STQ     LL_TOPOMEM$

      831    14010    2           CALL LLT$BUILD_VECTOR;

  14010  5 003064   000002 631400 xsym               EPPR1   B_VECTNIL+2
         5 003065   000000 701000 xent               TSX1    LLT$BUILD_VECTOR
         5 003066   000000 011000                    NOP     0

      832    14011    2           AVAIL$ = LL_TOPOMEM$;

  14011  5 003067   000000 236000 xsym               LDQ     LL_TOPOMEM$
         5 003070   200012 756100                    STQ     AVAIL$,,AUTO

      833    14012    2           PSIZE = LL_HEAD.NRECSIZE;

  14012  5 003071   000006 236000 xsym               LDQ     LL_HEAD+6
         5 003072   777777 376007                    ANQ     -1,DL
         5 003073   200011 756100                    STQ     PSIZE,,AUTO

      834    14013    2           END;

      835    14014        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:153  
      836    14015    1       IF (LL_HEAD.UDCBNUM > 0 AND LL_FLAGS.SLIB#)

  14015  5 003074   000004 220000 xsym               LDX0    LL_HEAD+4
         5 003075   003114 600000 5                  TZE     s:14022
         5 003076   000000 236000 xsym               LDQ     LL_FLAGS
         5 003077   010000 316007                    CANQ    4096,DL
         5 003100   003114 600000 5                  TZE     s:14022

      837    14016    1       THEN
      838    14017    2       DO;

      839    14018    2           LL_DOBUF ='A *** User DCBs encountered but SLIB option is specified';

  14018  5 003101   040000 100400                    MLR     fill='040'O
         5 003102   000521 000070 3                  ADSC9   UNUSED_DATA_NAME+254     cn=0,n=56
         5 003103   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      840    14019    2           CALL LLM$MON_SVC(LL#WRITEDO);

  14019  5 003104   000015 630400 6                  EPPR0   13
         5 003105   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 003106   000000 701000 xent               TSX1    LLM$MON_SVC
         5 003107   000000 011000                    NOP     0

      841    14020    2           CALL LLM$MON_SVC(LL#ERR);

  14020  5 003110   000060 630400 6                  EPPR0   48
         5 003111   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 003112   000000 701000 xent               TSX1    LLM$MON_SVC
         5 003113   000000 011000                    NOP     0

      842    14021    2           END;

      843    14022    1       LL_STATE = LL#ALLOCATING;

  14022  5 003114   000002 235007                    LDA     2,DL
         5 003115   000000 755000 xsym               STA     LL_STATE
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:154  

      844    14023
      845    14024         /*
      846    14025            Time to make SYMDEFs to go along with the DCBS.  System DCBS get
      847    14026            numbers between 1 and 5.  The first user specified DCB gets a
      848    14027            number of 10, incremented by one for each new DCB control section
      849    14028            on our list.
      850    14029         */
      851    14030
      852    14031    2       IF NOT LL_FLAGS.NOEDITING# THEN DO; /* Build a read only segment */

  14031  5 003116   000000 236000 xsym               LDQ     LL_FLAGS
         5 003117   020000 316003                    CANQ    8192,DU
         5 003120   003405 601000 5                  TNZ     s:14108

      853    14032    2           TEMP = %G_SYS_DCBS# * ( SIZEW(NODE) + SIZEW(B$SDEF) );

  14032  5 003121   000050 235007                    LDA     40,DL
         5 003122   000421 755000 2                  STA     TEMP

      854    14033    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);

  14033  5 003123   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 003124   200174 450500                    STP0    T+4,,AUTO
         5 003125   000040 237000 6                  LDAQ    32
         5 003126   200172 757100                    STAQ    T+2,,AUTO
         5 003127   200172 630500                    EPPR0   T+2,,AUTO
         5 003130   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 003131   000000 701000 xent               TSX1    LLM$MON_SVC
         5 003132   000000 011000                    NOP     0

      855    14034    3           DO DCB_COUNT = 1 TO %G_SYS_DCBS#;

  14034  5 003133   000001 235007                    LDA     1,DL
         5 003134   200016 755100                    STA     DCB_COUNT,,AUTO

      856    14035    4               IF DCB_ALLOCATED(DCB_COUNT) THEN DO;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:155  

  14035  5 003135   200016 235100                    LDA     DCB_COUNT,,AUTO
         5 003136   000000 066405                    CMPB    filb='0'B
         5 003137   000431 000001 2                  BDSC    DCB_ALLOCATED,A          by=0,bit=0,n=1
         5 003140   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         5 003141   003212 600000 5                  TZE     s:14054

      857    14036
      858    14037         /*
      859    14038            We have a system DCB (one of M$DEBUG, M$LM, M$ME, M$HOST or M$DO).
      860    14039            Build a constant SYMDEF for it.  DCB number for constant is in
      861    14040            DCB_COUNT.  Name pointer for the constant is in DCB_NPOINTERS
      862    14041            indexed by DCB_COUNT.
      863    14042         */
      864    14043
      865    14044    4                   TPTR$ = AVAIL$;

  14044  5 003142   200012 236100                    LDQ     AVAIL$,,AUTO
         5 003143   200003 470500                    LDP0    @TPTR$,,AUTO
         5 003144   000000 756100                    STQ     0,,PR0

      866    14045    4                   AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));

  14045  5 003145   200012 236100                    LDQ     AVAIL$,,AUTO
         5 003146   000002 036003                    ADLQ    2,DU
         5 003147   200012 756100                    STQ     AVAIL$,,AUTO

      867    14046    4                   TPTR$ -> B$SDEF = '0'B;

  14046  5 003150   000000 471500                    LDP1    0,,PR0
         5 003151   100000 450100                    STZ     0,,PR1
         5 003152   100001 450100                    STZ     1,,PR1

      868    14047    4                   TPTR$ -> B$SDEF.NPOINTER = DCB_NPOINTERS(DCB_COUNT);

  14047  5 003153   000000 471500                    LDP1    0,,PR0
         5 003154   000423 720005 2                  LXL0    DCB_NPOINTERS,AL
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:156  
         5 003155   100001 740100                    STX0    1,,PR1

      869    14048    4                   TPTR$ -> B$SDEF.VALUE = DCB_COUNT;

  14048  5 003156   000000 471500                    LDP1    0,,PR0
         5 003157   200016 235100                    LDA     DCB_COUNT,,AUTO
         5 003160   100000 755100                    STA     0,,PR1

      870    14049    4                   TPTR$ -> B$SDEF.CONSTNT = '1'B;

  14049  5 003161   000000 471500                    LDP1    0,,PR0
         5 003162   400000 236007                    LDQ     -131072,DL
         5 003163   100001 256100                    ORSQ    1,,PR1

      871    14050    4                   TPTR$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;

  14050  5 003164   000000 471500                    LDP1    0,,PR0
         5 003165   100001 236100                    LDQ     1,,PR1
         5 003166   000073 376000 6                  ANQ     59
         5 003167   030000 276007                    ORQ     12288,DL
         5 003170   100001 756100                    STQ     1,,PR1

      872    14051    4                   CALL LLG$GROW (LL_SYMDEF_R$, TPTR$, 1, ADDR(NIL), AVAIL$,

  14051  5 003171   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 003172   200172 756100                    STQ     T+2,,AUTO
         5 003173   000050 237000 6                  LDAQ    40
         5 003174   200200 757100                    STAQ    T+8,,AUTO
         5 003175   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 003176   200177 451500                    STP1    T+7,,AUTO
         5 003177   200172 633500                    EPPR3   T+2,,AUTO
         5 003200   200176 453500                    STP3    T+6,,AUTO
         5 003201   000023 236000 6                  LDQ     19
         5 003202   200003 235100                    LDA     @TPTR$,,AUTO
         5 003203   200174 757100                    STAQ    T+4,,AUTO
         5 003204   000052 236000 6                  LDQ     42
         5 003205   200173 756100                    STQ     T+3,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:157  
         5 003206   200173 630500                    EPPR0   T+3,,AUTO
         5 003207   000025 631400 xsym               EPPR1   B_VECTNIL+21
         5 003210   000000 701000 xent               TSX1    LLG$GROW
         5 003211   000000 011000                    NOP     0

      873    14052    4                      NAME$, %TYPSDEF);
      874    14053    4                   END;

      875    14054    3               END;

  14054  5 003212   200016 235100                    LDA     DCB_COUNT,,AUTO
         5 003213   000001 035007                    ADLA    1,DL
         5 003214   200016 755100                    STA     DCB_COUNT,,AUTO
         5 003215   000006 115007                    CMPA    6,DL
         5 003216   003135 602000 5                  TNC     s:14035

      876    14055
      877    14056         /*
      878    14057            All the system DCBs that we need are built.  Allocation does the
      879    14058            rest.  Now it's time to kludge together user DCBs.  This is even
      880    14059            easier than putting together the system guys.  The DCBNUM of the
      881    14060            first DCB is 10 (FRST_USR_DCB) and is incremented by 1 for each
      882    14061            successive entry on the read-only chain of control sections.
      883    14062         */
      884    14063
      885    14064    2           DCB_COUNT = %G_FRST_USR_DCB#;

  14064  5 003217   000012 236007                    LDQ     10,DL
         5 003220   200016 756100                    STQ     DCB_COUNT,,AUTO

      886    14065    2           SECT$ = LL_R_ROSE$;

  14065  5 003221   000000 236000 xsym               LDQ     LL_R_ROSE$
         5 003222   000410 756000 2                  STQ     SECT$

      887    14066    2           TEMP = LL_HEAD.UDCBNUM * ( SIZEW(B$SDEF) + SIZEW(NODE) );

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:158  
  14066  5 003223   000004 235000 xsym               LDA     LL_HEAD+4
         5 003224   777777 375003                    ANA     -1,DU
         5 003225   000017 771000                    ARL     15
         5 003226   000421 755000 2                  STA     TEMP

      888    14067    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);

  14067  5 003227   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 003230   200174 450500                    STP0    T+4,,AUTO
         5 003231   000040 237000 6                  LDAQ    32
         5 003232   200172 757100                    STAQ    T+2,,AUTO
         5 003233   200172 630500                    EPPR0   T+2,,AUTO
         5 003234   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 003235   000000 701000 xent               TSX1    LLM$MON_SVC
         5 003236   000000 011000                    NOP     0

      889    14068    3           DO WHILE ( SECT$ ~= ADDR(NIL) );

  14068  5 003237   003322 710000 5                  TRA     s:14081

      890    14069    3               DCB$ = SECT$ -> SECT_ENTRY.SECTION$;

  14069  5 003240   000410 470400 2                  LDP0    SECT$
         5 003241   000001 236100                    LDQ     1,,PR0
         5 003242   200035 756100                    STQ     DCB$,,AUTO

      891    14070    3               TPTR$ = AVAIL$;

  14070  5 003243   200012 236100                    LDQ     AVAIL$,,AUTO
         5 003244   200003 471500                    LDP1    @TPTR$,,AUTO
         5 003245   100000 756100                    STQ     0,,PR1

      892    14071    3               TPTR$ -> B$SDEF = '0'B;

  14071  5 003246   100000 470500                    LDP0    0,,PR1
         5 003247   000000 450100                    STZ     0,,PR0
         5 003250   000001 450100                    STZ     1,,PR0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:159  

      893    14072    3               TPTR$ -> B$SDEF.NPOINTER = DCB$ -> B$SECTION.NPOINTER;

  14072  5 003251   100000 470500                    LDP0    0,,PR1
         5 003252   200035 473500                    LDP3    DCB$,,AUTO
         5 003253   300001 220100                    LDX0    1,,PR3
         5 003254   000001 740100                    STX0    1,,PR0

      894    14073    3               TPTR$ -> B$SDEF.VALUE = DCB_COUNT;

  14073  5 003255   100000 470500                    LDP0    0,,PR1
         5 003256   200016 235100                    LDA     DCB_COUNT,,AUTO
         5 003257   000000 755100                    STA     0,,PR0

      895    14074    3               TPTR$ -> B$SDEF.CONSTNT = '1'B;

  14074  5 003260   100000 470500                    LDP0    0,,PR1
         5 003261   400000 236007                    LDQ     -131072,DL
         5 003262   000001 256100                    ORSQ    1,,PR0

      896    14075    3               TPTR$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;

  14075  5 003263   100000 470500                    LDP0    0,,PR1
         5 003264   000001 236100                    LDQ     1,,PR0
         5 003265   000073 376000 6                  ANQ     59
         5 003266   030000 276007                    ORQ     12288,DL
         5 003267   000001 756100                    STQ     1,,PR0

      897    14076    3               AVAIL$ = PINCRW(TPTR$, SIZEW(B$SDEF));

  14076  5 003270   100000 236100                    LDQ     0,,PR1
         5 003271   000002 036003                    ADLQ    2,DU
         5 003272   200012 756100                    STQ     AVAIL$,,AUTO

      898    14077    3               CALL LLG$GROW (LL_SYMDEF_R$, TPTR$, 1, ADDR(NIL), AVAIL$,

  14077  5 003273   000001 236000 xsym               LDQ     B_VECTNIL+1
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:160  
         5 003274   200172 756100                    STQ     T+2,,AUTO
         5 003275   000050 237000 6                  LDAQ    40
         5 003276   200200 757100                    STAQ    T+8,,AUTO
         5 003277   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 003300   200177 450500                    STP0    T+7,,AUTO
         5 003301   200172 634500                    EPPR4   T+2,,AUTO
         5 003302   200176 454500                    STP4    T+6,,AUTO
         5 003303   000023 236000 6                  LDQ     19
         5 003304   200003 235100                    LDA     @TPTR$,,AUTO
         5 003305   200174 757100                    STAQ    T+4,,AUTO
         5 003306   000052 236000 6                  LDQ     42
         5 003307   200173 756100                    STQ     T+3,,AUTO
         5 003310   200173 630500                    EPPR0   T+3,,AUTO
         5 003311   000025 631400 xsym               EPPR1   B_VECTNIL+21
         5 003312   000000 701000 xent               TSX1    LLG$GROW
         5 003313   000000 011000                    NOP     0

      899    14078    3                  NAME$, %TYPSDEF);
      900    14079    3               SECT$ = SECT$ -> SECT_ENTRY.NEXT$;

  14079  5 003314   000410 470400 2                  LDP0    SECT$
         5 003315   000004 236100                    LDQ     4,,PR0
         5 003316   000410 756000 2                  STQ     SECT$

      901    14080    3               DCB_COUNT = DCB_COUNT + 1;

  14080  5 003317   200016 235100                    LDA     DCB_COUNT,,AUTO
         5 003320   000001 035007                    ADLA    1,DL
         5 003321   200016 755100                    STA     DCB_COUNT,,AUTO

      902    14081    3               END;

  14081  5 003322   000410 236000 2                  LDQ     SECT$
         5 003323   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 003324   003240 601000 5                  TNZ     s:14069

      903    14082
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:161  
      904    14083         /*
      905    14084            Build defs for G$JIT$ (.1002) and G$PIA$ (.1014).  To do this, we
      906    14085            need to extend the names record.  At the same time, we should also
      907    14086            extend the names record to contain G_VERSION, G_PATCHI, G_PATCHIH,
      908    14087            G_PATCHD, G_PATCHDH, G$ROS$ and G$TCB$.  If any more names need to
      909    14088            be added later, let it be done here!
      910    14089         */
      911    14090
      912    14091    2           G_VERSION_OFFSET = PSIZE;

  14091  5 003325   200011 235100                    LDA     PSIZE,,AUTO
         5 003326   200021 755100                    STA     G_VERSION_OFFSET,,AUTO

      913    14092    2           CALL ADD_NAME(G_VERSION_NAME);

  14092  5 003327   000075 236000 6                  LDQ     61
         5 003330   200167 756100                    STQ     DATA$+3,,AUTO
         5 003331   010244 701000 5                  TSX1    ADD_NAME
         5 003332   000000 011000                    NOP     0

      914    14093    2           G_ROS_OFFSET = PSIZE;

  14093  5 003333   200011 235100                    LDA     PSIZE,,AUTO
         5 003334   200026 755100                    STA     G_ROS_OFFSET,,AUTO

      915    14094    2           CALL ADD_NAME(G_ROS_NAME);

  14094  5 003335   000076 236000 6                  LDQ     62
         5 003336   200167 756100                    STQ     DATA$+3,,AUTO
         5 003337   010244 701000 5                  TSX1    ADD_NAME
         5 003340   000000 011000                    NOP     0

      916    14095    2           G_TCB_OFFSET = PSIZE;

  14095  5 003341   200011 235100                    LDA     PSIZE,,AUTO
         5 003342   200027 755100                    STA     G_TCB_OFFSET,,AUTO

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:162  
      917    14096    2           CALL ADD_NAME(G_TCB_NAME);

  14096  5 003343   000077 236000 6                  LDQ     63
         5 003344   200167 756100                    STQ     DATA$+3,,AUTO
         5 003345   010244 701000 5                  TSX1    ADD_NAME
         5 003346   000000 011000                    NOP     0

      918    14097    2           G_PIA_OFFSET = PSIZE;

  14097  5 003347   200011 235100                    LDA     PSIZE,,AUTO
         5 003350   200030 755100                    STA     G_PIA_OFFSET,,AUTO

      919    14098    2           CALL ADD_NAME(G_PIA_NAME);

  14098  5 003351   000100 236000 6                  LDQ     64
         5 003352   200167 756100                    STQ     DATA$+3,,AUTO
         5 003353   010244 701000 5                  TSX1    ADD_NAME
         5 003354   000000 011000                    NOP     0

      920    14099    2           G_JIT_OFFSET = PSIZE;

  14099  5 003355   200011 235100                    LDA     PSIZE,,AUTO
         5 003356   200031 755100                    STA     G_JIT_OFFSET,,AUTO

      921    14100    2           CALL ADD_NAME(G_JIT_NAME);

  14100  5 003357   000101 236000 6                  LDQ     65
         5 003360   200167 756100                    STQ     DATA$+3,,AUTO
         5 003361   010244 701000 5                  TSX1    ADD_NAME
         5 003362   000000 011000                    NOP     0

      922    14101    2           G_AUTO_DS_OFFSET = PSIZE;

  14101  5 003363   200011 235100                    LDA     PSIZE,,AUTO
         5 003364   200032 755100                    STA     G_AUTO_DS_OFFSET,,AUTO

      923    14102    2           CALL ADD_NAME(G_AUTO_DS_NAME);
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:163  

  14102  5 003365   000102 236000 6                  LDQ     66
         5 003366   200167 756100                    STQ     DATA$+3,,AUTO
         5 003367   010244 701000 5                  TSX1    ADD_NAME
         5 003370   000000 011000                    NOP     0

      924    14103    2           G_AUTO_T_OFFSET = PSIZE;

  14103  5 003371   200011 235100                    LDA     PSIZE,,AUTO
         5 003372   200033 755100                    STA     G_AUTO_T_OFFSET,,AUTO

      925    14104    2           CALL ADD_NAME(G_AUTO_T_NAME);

  14104  5 003373   000103 236000 6                  LDQ     67
         5 003374   200167 756100                    STQ     DATA$+3,,AUTO
         5 003375   010244 701000 5                  TSX1    ADD_NAME
         5 003376   000000 011000                    NOP     0

      926    14105    2           LINK_SUPPLIED_OFFSET = PSIZE;

  14105  5 003377   200011 235100                    LDA     PSIZE,,AUTO
         5 003400   200034 755100                    STA     LINK_SUPPLIED_OFFSET,,AUTO

      927    14106    2           CALL ADD_NAME(LINK_SUPPLIED_NAMES);

  14106  5 003401   000104 236000 6                  LDQ     68
         5 003402   200167 756100                    STQ     DATA$+3,,AUTO
         5 003403   010244 701000 5                  TSX1    ADD_NAME
         5 003404   000000 011000                    NOP     0

      928    14107    2           END;

      929    14108    2       IF LL_IPATCH > 0 THEN DO; /* Add IPATCH names */

  14108  5 003405   000000 235000 xsym               LDA     LL_IPATCH
         5 003406   003423 600000 5                  TZE     s:14114

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:164  
      930    14109    2           G_PATCHIH_OFFSET = PSIZE;

  14109  5 003407   200011 236100                    LDQ     PSIZE,,AUTO
         5 003410   200023 756100                    STQ     G_PATCHIH_OFFSET,,AUTO

      931    14110    2           CALL ADD_NAME(G_PATCHIH_NAME);

  14110  5 003411   000105 236000 6                  LDQ     69
         5 003412   200167 756100                    STQ     DATA$+3,,AUTO
         5 003413   010244 701000 5                  TSX1    ADD_NAME
         5 003414   000000 011000                    NOP     0

      932    14111    2           G_PATCHI_OFFSET = PSIZE;

  14111  5 003415   200011 235100                    LDA     PSIZE,,AUTO
         5 003416   200022 755100                    STA     G_PATCHI_OFFSET,,AUTO

      933    14112    2           CALL ADD_NAME(G_PATCHI_NAME);

  14112  5 003417   000106 236000 6                  LDQ     70
         5 003420   200167 756100                    STQ     DATA$+3,,AUTO
         5 003421   010244 701000 5                  TSX1    ADD_NAME
         5 003422   000000 011000                    NOP     0

      934    14113    2           END;

      935    14114    2       IF LL_DPATCH > 0 THEN DO; /* Add DPATCH names */

  14114  5 003423   000000 235000 xsym               LDA     LL_DPATCH
         5 003424   003441 600000 5                  TZE     s:14120

      936    14115    2           G_PATCHDH_OFFSET = PSIZE;

  14115  5 003425   200011 236100                    LDQ     PSIZE,,AUTO
         5 003426   200025 756100                    STQ     G_PATCHDH_OFFSET,,AUTO

      937    14116    2           CALL ADD_NAME(G_PATCHDH_NAME);
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:165  

  14116  5 003427   000107 236000 6                  LDQ     71
         5 003430   200167 756100                    STQ     DATA$+3,,AUTO
         5 003431   010244 701000 5                  TSX1    ADD_NAME
         5 003432   000000 011000                    NOP     0

      938    14117    2           G_PATCHD_OFFSET = PSIZE;

  14117  5 003433   200011 235100                    LDA     PSIZE,,AUTO
         5 003434   200024 755100                    STA     G_PATCHD_OFFSET,,AUTO

      939    14118    2           CALL ADD_NAME(G_PATCHD_NAME);

  14118  5 003435   000110 236000 6                  LDQ     72
         5 003436   200167 756100                    STQ     DATA$+3,,AUTO
         5 003437   010244 701000 5                  TSX1    ADD_NAME
         5 003440   000000 011000                    NOP     0

      940    14119    2           END;

      941    14120    1       IF LL_VECTOR_DATA > 0

  14120  5 003441   000000 235000 xsym               LDA     LL_VECTOR_DATA
         5 003442   003451 600000 5                  TZE     s:14126

      942    14121    1       THEN
      943    14122    2       DO;

      944    14123    2           UNUSED_OFFSET = PSIZE;

  14123  5 003443   200011 236100                    LDQ     PSIZE,,AUTO
         5 003444   200162 756100                    STQ     UNUSED_OFFSET,,AUTO

      945    14124    2           CALL ADD_NAME(UNUSED_DATA_NAME);

  14124  5 003445   000111 236000 6                  LDQ     73
         5 003446   200167 756100                    STQ     DATA$+3,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:166  
         5 003447   010244 701000 5                  TSX1    ADD_NAME
         5 003450   000000 011000                    NOP     0

      946    14125    2           END;

      947    14126    1       LL_HEAD.NRECSIZE = PSIZE;

  14126  5 003451   200011 720100                    LXL0    PSIZE,,AUTO
         5 003452   000006 440000 xsym               SXL0    LL_HEAD+6

      948    14127    1       CALL LLM$MON_SVC (LL#WRITERU, NAME$, PSIZE * 4 - 1, B$RUKEY);

  14127  5 003453   200011 235100                    LDA     PSIZE,,AUTO
         5 003454   000002 735000                    ALS     2
         5 003455   000001 135007                    SBLA    1,DL
         5 003456   200172 755100                    STA     T+2,,AUTO
         5 003457   000113 236000 6                  LDQ     75
         5 003460   200177 756100                    STQ     T+7,,AUTO
         5 003461   200172 630500                    EPPR0   T+2,,AUTO
         5 003462   200176 450500                    STP0    T+6,,AUTO
         5 003463   000114 237000 6                  LDAQ    76
         5 003464   200174 757100                    STAQ    T+4,,AUTO
         5 003465   200174 630500                    EPPR0   T+4,,AUTO
         5 003466   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 003467   000000 701000 xent               TSX1    LLM$MON_SVC
         5 003470   000000 011000                    NOP     0

      949    14128
      950    14129         /*
      951    14130            Ugliness is done.  Lets go do our allocation now.  Names record
      952    14131            can stay in memory for ever and ever now that it has everything
      953    14132            it needs.  AVAIL$ points at the word following the last word
      954    14133            in the names record (top of memory).
      955    14134         */
      956    14135    1       IF LL_FLAGS.SHARELIB# AND LL_FLAGS.BIAS#

  14135  5 003471   000000 236000 xsym               LDQ     LL_FLAGS
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:167  
         5 003472   004000 316007                    CANQ    2048,DL
         5 003473   003541 600000 5                  TZE     s:14151
         5 003474   100000 316003                    CANQ    32768,DU
         5 003475   003541 600000 5                  TZE     s:14151

      957    14136    1       THEN
      958    14137    2       DO;

      959    14138    2           IF LL_VAL_BIAS ~= SLIB_HEAD.BIAS

  14138  5 003476   000035 236000 2                  LDQ     SLIB_HEAD+19
         5 003477   000116 376000 6                  ANQ     78
         5 003500   000000 116000 xsym               CMPQ    LL_VAL_BIAS
         5 003501   003541 600000 5                  TZE     s:14151

      960    14139    2           THEN
      961    14140    3           DO;

      962    14141    3               CALL LLI$BINHEX(LL_VAL_BIAS,6,HEXSTR);

  14141  5 003502   200042 630500                    EPPR0   HEXSTR,,AUTO
         5 003503   200174 450500                    STP0    T+4,,AUTO
         5 003504   000120 237000 6                  LDAQ    80
         5 003505   200172 757100                    STAQ    T+2,,AUTO
         5 003506   200172 630500                    EPPR0   T+2,,AUTO
         5 003507   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 003510   000000 701000 xent               TSX1    LLI$BINHEX
         5 003511   000000 011000                    NOP     0

      963    14142    3               CALL CONCAT(LL_DOBUF,'A  *** Program BIAS ',HEXSTR,

  14142  5 003512   040000 100400                    MLR     fill='040'O
         5 003513   000537 000024 3                  ADSC9   UNUSED_DATA_NAME+268     cn=0,n=20
         5 003514   000000 000024 xsym               ADSC9   LL_DOBUF                 cn=0,n=20
         5 003515   040000 100500                    MLR     fill='040'O
         5 003516   200042 000006                    ADSC9   HEXSTR,,AUTO             cn=0,n=6
         5 003517   000005 000006 xsym               ADSC9   LL_DOBUF+5               cn=0,n=6
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:168  
         5 003520   040000 100400                    MLR     fill='040'O
         5 003521   000544 000047 3                  ADSC9   UNUSED_DATA_NAME+273     cn=0,n=39
         5 003522   000006 400126 xsym               ADSC9   LL_DOBUF+6               cn=2,n=86

      964    14143    3                  ' is not synch with shared library bias;');
      965    14144    3               CALL LLM$MON_SVC(LL#WRITEDO);

  14144  5 003523   000015 630400 6                  EPPR0   13
         5 003524   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 003525   000000 701000 xent               TSX1    LLM$MON_SVC
         5 003526   000000 011000                    NOP     0

      966    14145    3               CALL CONCAT(LL_DOBUF,'B  *** library bias .10000 will be used.');

  14145  5 003527   040000 100400                    MLR     fill='040'O
         5 003530   000556 000050 3                  ADSC9   UNUSED_DATA_NAME+283     cn=0,n=40
         5 003531   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      967    14146    3               CALL LLM$MON_SVC(LL#WRITEDO);

  14146  5 003532   000015 630400 6                  EPPR0   13
         5 003533   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 003534   000000 701000 xent               TSX1    LLM$MON_SVC
         5 003535   000000 011000                    NOP     0

      968    14147    3               LL_VAL_BIAS = SLIB_HEAD.BIAS;

  14147  5 003536   000035 236000 2                  LDQ     SLIB_HEAD+19
         5 003537   000116 376000 6                  ANQ     78
         5 003540   000000 756000 xsym               STQ     LL_VAL_BIAS

      969    14148    3               END;

      970    14149    2           END;

      971    14150
      972    14151    1       IF LL_HEAD.SEV > LL_VAL_SL THEN RETURN;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:169  

  14151  5 003541   000003 236000 xsym               LDQ     LL_HEAD+3
         5 003542   000033 772000                    QRL     27
         5 003543   000000 116000 xsym               CMPQ    LL_VAL_SL
         5 003544   003547 602000 5                  TNC     s:14152
         5 003545   003547 600000 5                  TZE     s:14152

  14151  5 003546   000000 702200 xent               TSX2  ! X66_ARET

      973    14152    2       IF LL_FLAGS.MAP# THEN DO;

  14152  5 003547   000000 236000 xsym               LDQ     LL_FLAGS
         5 003550   004000 316003                    CANQ    2048,DU
         5 003551   003570 600000 5                  TZE     s:14169

      974    14153    2           LL_DOBUF = 'A        * * ALLOCATION SUMMARY * *';

  14153  5 003552   040000 100400                    MLR     fill='040'O
         5 003553   000570 000043 3                  ADSC9   UNUSED_DATA_NAME+293     cn=0,n=35
         5 003554   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      975    14154    2           CALL LLM$MON_SVC (LL#WRITEDO);

  14154  5 003555   000015 630400 6                  EPPR0   13
         5 003556   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 003557   000000 701000 xent               TSX1    LLM$MON_SVC
         5 003560   000000 011000                    NOP     0

      976    14155    2           LL_DOBUF = 'B PROTECTION          LOCATION       PAGES';

  14155  5 003561   040000 100400                    MLR     fill='040'O
         5 003562   000601 000052 3                  ADSC9   UNUSED_DATA_NAME+302     cn=0,n=42
         5 003563   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      977    14156    2           CALL LLM$MON_SVC (LL#WRITEDO);

  14156  5 003564   000015 630400 6                  EPPR0   13
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:170  
         5 003565   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 003566   000000 701000 xent               TSX1    LLM$MON_SVC
         5 003567   000000 011000                    NOP     0

      978    14157    2           END;

      979    14158
      980    14159         /*
      981    14160            Check to see if any patch space has been requested.  If so,
      982    14161            reserve data patch area at the end of the data control sections
      983    14162            and instruction patch area at the end of proc control sections.
      984    14163         */
      985    14164
      986    14165         /*
      987    14166            Reserve any data patch space.
      988    14167         */
      989    14168
      990    14169    2       IF LL_DPATCH > 0 THEN DO;

  14169  5 003570   000000 235000 xsym               LDA     LL_DPATCH
         5 003571   003670 600000 5                  TZE     s:14199

      991    14170    2           TEMP = SIZEW(B$SECTION) + SIZEW(SECT_ENTRY);

  14170  5 003572   000007 236007                    LDQ     7,DL
         5 003573   000421 756000 2                  STQ     TEMP

      992    14171    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);

  14171  5 003574   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 003575   200174 450500                    STP0    T+4,,AUTO
         5 003576   000040 237000 6                  LDAQ    32
         5 003577   200172 757100                    STAQ    T+2,,AUTO
         5 003600   200172 630500                    EPPR0   T+2,,AUTO
         5 003601   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 003602   000000 701000 xent               TSX1    LLM$MON_SVC
         5 003603   000000 011000                    NOP     0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:171  

      993    14172    2           AVAIL$ -> B$SECTION = '0'B;

  14172  5 003604   200012 470500                    LDP0    AVAIL$,,AUTO
         5 003605   000000 450100                    STZ     0,,PR0
         5 003606   000001 450100                    STZ     1,,PR0

      994    14173    2           AVAIL$ -> B$SECTION.TYPE = %DATASECTION;

  14173  5 003607   200012 470500                    LDP0    AVAIL$,,AUTO
         5 003610   000000 236003                    LDQ     0,DU
         5 003611   000000 552140                    STBQ    0,'40'O,PR0

      995    14174    2           AVAIL$ -> B$SECTION.INITZERO = '1'B;

  14174  5 003612   200012 470500                    LDP0    AVAIL$,,AUTO
         5 003613   000200 236003                    LDQ     128,DU
         5 003614   000000 256100                    ORSQ    0,,PR0

      996    14175    2           AVAIL$ -> B$SECTION.SIZE = LL_DPATCH + 3;

  14175  5 003615   000000 720000 xsym               LXL0    LL_DPATCH
         5 003616   000003 621010                    EAX1    3,X0
         5 003617   200012 470500                    LDP0    AVAIL$,,AUTO
         5 003620   000000 441100                    SXL1    0,,PR0

      997    14176    2           AVAIL$ -> B$SECTION.NPOINTER = G_PATCHD_OFFSET;

  14176  5 003621   200024 720100                    LXL0    G_PATCHD_OFFSET,,AUTO
         5 003622   200012 470500                    LDP0    AVAIL$,,AUTO
         5 003623   000001 740100                    STX0    1,,PR0

      998    14177    2           IF LL_FLAGS.BIAS_OU

  14177  5 003624   000000 236000 xsym               LDQ     LL_FLAGS
         5 003625   040000 316007                    CANQ    16384,DL
         5 003626   003633 600000 5                  TZE     s:14180
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:172  

      999    14178    2           THEN
     1000    14179    2               BIAS = LL_T_DATA$->SECT_ENTRY.BIAS;

  14179  5 003627   000000 470400 xsym               LDP0    LL_T_DATA$
         5 003630   000003 236100                    LDQ     3,,PR0
         5 003631   000011 772000                    QRL     9
         5 003632   200047 756100                    STQ     BIAS,,AUTO

     1001    14180    3           IF LL_R_DATA$ ~= ADDR ( NIL ) THEN DO;

  14180  5 003633   000000 236000 xsym               LDQ     LL_R_DATA$
         5 003634   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 003635   003644 600000 5                  TZE     s:14185

     1002    14181    3               LL_T_DATA$ -> SECT_ENTRY.NEXT$ = PINCRW(AVAIL$, SIZEW(B$SECTION));

  14181  5 003636   200012 236100                    LDQ     AVAIL$,,AUTO
         5 003637   000002 036003                    ADLQ    2,DU
         5 003640   000000 470400 xsym               LDP0    LL_T_DATA$
         5 003641   000004 756100                    STQ     4,,PR0

     1003    14182    3               LL_T_DATA$ = LL_T_DATA$ -> SECT_ENTRY.NEXT$;

  14182  5 003642   000000 756000 xsym               STQ     LL_T_DATA$

     1004    14183    3               END;

  14183  5 003643   003650 710000 5                  TRA     s:14188

     1005    14184    3           ELSE DO;

     1006    14185    3               LL_R_DATA$ = PINCRW(AVAIL$, SIZEW(B$SECTION));

  14185  5 003644   200012 236100                    LDQ     AVAIL$,,AUTO
         5 003645   000002 036003                    ADLQ    2,DU
         5 003646   000000 756000 xsym               STQ     LL_R_DATA$
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:173  

     1007    14186    3               LL_T_DATA$ = LL_R_DATA$;

  14186  5 003647   000000 756000 xsym               STQ     LL_T_DATA$

     1008    14187    3               END;

     1009    14188    2           LL_T_DATA$ -> SECT_ENTRY.BROTHER$ = ADDR(NIL);

  14188  5 003650   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 003651   000000 470400 xsym               LDP0    LL_T_DATA$
         5 003652   000002 756100                    STQ     2,,PR0

     1010    14189    2           LL_T_DATA$ -> SECT_ENTRY.NEXT$ = ADDR(NIL);

  14189  5 003653   000004 756100                    STQ     4,,PR0

     1011    14190    2           LL_T_DATA$ -> SECT_ENTRY.OBJUNIT$ = ADDR(NIL);

  14190  5 003654   000000 756100                    STQ     0,,PR0

     1012    14191    2           LL_T_DATA$ -> SECT_ENTRY.SECTION$ = AVAIL$;

  14191  5 003655   200012 236100                    LDQ     AVAIL$,,AUTO
         5 003656   000000 470400 xsym               LDP0    LL_T_DATA$
         5 003657   000001 756100                    STQ     1,,PR0

     1013    14192    2           LL_T_DATA$ ->SECT_ENTRY.BIAS = BIAS;

  14192  5 003660   200047 235100                    LDA     BIAS,,AUTO
         5 003661   000011 735000                    ALS     9
         5 003662   000003 755100                    STA     3,,PR0

     1014    14193    2           DPATCH$ = LL_T_DATA$;

  14193  5 003663   000000 236000 xsym               LDQ     LL_T_DATA$
         5 003664   200163 756100                    STQ     DPATCH$,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:174  

     1015    14194    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(SECT_ENTRY) + SIZEW(B$SECTION));

  14194  5 003665   200012 236100                    LDQ     AVAIL$,,AUTO
         5 003666   000007 036003                    ADLQ    7,DU
         5 003667   200012 756100                    STQ     AVAIL$,,AUTO

     1016    14195    2           END;

     1017    14196
     1018    14197         /* Reserve data space for transfer vector DATA option */
     1019    14198
     1020    14199    1       IF LL_VECTOR_DATA > 0

  14199  5 003670   000000 235000 xsym               LDA     LL_VECTOR_DATA
         5 003671   003760 600000 5                  TZE     s:14233

     1021    14200    1       THEN
     1022    14201    2       DO;

     1023    14202    2           TEMP = SIZEW(B$SECTION) + SIZEW(SECT_ENTRY);

  14202  5 003672   000007 236007                    LDQ     7,DL
         5 003673   000421 756000 2                  STQ     TEMP

     1024    14203    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);

  14203  5 003674   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 003675   200174 450500                    STP0    T+4,,AUTO
         5 003676   000040 237000 6                  LDAQ    32
         5 003677   200172 757100                    STAQ    T+2,,AUTO
         5 003700   200172 630500                    EPPR0   T+2,,AUTO
         5 003701   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 003702   000000 701000 xent               TSX1    LLM$MON_SVC
         5 003703   000000 011000                    NOP     0

     1025    14204    2           AVAIL$->B$SECTION = '0'B;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:175  

  14204  5 003704   200012 470500                    LDP0    AVAIL$,,AUTO
         5 003705   000000 450100                    STZ     0,,PR0
         5 003706   000001 450100                    STZ     1,,PR0

     1026    14205    2           AVAIL$->B$SECTION.TYPE = %DATASECTION;

  14205  5 003707   200012 470500                    LDP0    AVAIL$,,AUTO
         5 003710   000000 236003                    LDQ     0,DU
         5 003711   000000 552140                    STBQ    0,'40'O,PR0

     1027    14206    2           AVAIL$->B$SECTION.INITZERO = '1'B;

  14206  5 003712   200012 470500                    LDP0    AVAIL$,,AUTO
         5 003713   000200 236003                    LDQ     128,DU
         5 003714   000000 256100                    ORSQ    0,,PR0

     1028    14207    2           AVAIL$->B$SECTION.BOUND = %EVENBOUNDSECTION;

  14207  5 003715   200012 470500                    LDP0    AVAIL$,,AUTO
         5 003716   000117 236000 6                  LDQ     79
         5 003717   000000 356100                    ANSQ    0,,PR0

     1029    14208    2           AVAIL$->B$SECTION.SIZE = LL_VECTOR_DATA;

  14208  5 003720   000000 720000 xsym               LXL0    LL_VECTOR_DATA
         5 003721   200012 470500                    LDP0    AVAIL$,,AUTO
         5 003722   000000 440100                    SXL0    0,,PR0

     1030    14209    2           AVAIL$->B$SECTION.NPOINTER = UNUSED_OFFSET;

  14209  5 003723   200162 720100                    LXL0    UNUSED_OFFSET,,AUTO
         5 003724   200012 470500                    LDP0    AVAIL$,,AUTO
         5 003725   000001 740100                    STX0    1,,PR0

     1031    14210    2           DATA$ = AVAIL$;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:176  
  14210  5 003726   200012 236100                    LDQ     AVAIL$,,AUTO
         5 003727   200164 756100                    STQ     DATA$,,AUTO

     1032    14211    2           IF LL_R_DATA$ ~= ADDR(NIL)

  14211  5 003730   000000 236000 xsym               LDQ     LL_R_DATA$
         5 003731   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 003732   003741 600000 5                  TZE     s:14219

     1033    14212    2           THEN
     1034    14213    3           DO;

     1035    14214    3               LL_T_DATA$->SECT_ENTRY.NEXT$ = PINCRW(AVAIL$,SIZEW(B$SECTION));

  14214  5 003733   200012 236100                    LDQ     AVAIL$,,AUTO
         5 003734   000002 036003                    ADLQ    2,DU
         5 003735   000000 470400 xsym               LDP0    LL_T_DATA$
         5 003736   000004 756100                    STQ     4,,PR0

     1036    14215    3               LL_T_DATA$ = LL_T_DATA$->SECT_ENTRY.NEXT$ ;

  14215  5 003737   000000 756000 xsym               STQ     LL_T_DATA$

     1037    14216    3               END;

  14216  5 003740   003745 710000 5                  TRA     s:14222

     1038    14217    2           ELSE
     1039    14218    3           DO;

     1040    14219    3               LL_R_DATA$ = PINCRW(AVAIL$,SIZEW(B$SECTION));

  14219  5 003741   200012 236100                    LDQ     AVAIL$,,AUTO
         5 003742   000002 036003                    ADLQ    2,DU
         5 003743   000000 756000 xsym               STQ     LL_R_DATA$

     1041    14220    3               LL_T_DATA$ = LL_R_DATA$;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:177  

  14220  5 003744   000000 756000 xsym               STQ     LL_T_DATA$

     1042    14221    3               END;

     1043    14222    2           LL_T_DATA$->SECT_ENTRY.BROTHER$ = ADDR(NIL);

  14222  5 003745   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 003746   000000 470400 xsym               LDP0    LL_T_DATA$
         5 003747   000002 756100                    STQ     2,,PR0

     1044    14223    2           LL_T_DATA$->SECT_ENTRY.NEXT$ = ADDR(NIL);

  14223  5 003750   000004 756100                    STQ     4,,PR0

     1045    14224    2           LL_T_DATA$->SECT_ENTRY.OBJUNIT$ = ADDR(NIL);

  14224  5 003751   000000 756100                    STQ     0,,PR0

     1046    14225    2           LL_T_DATA$->SECT_ENTRY.SECTION$ = AVAIL$;

  14225  5 003752   200012 236100                    LDQ     AVAIL$,,AUTO
         5 003753   000000 470400 xsym               LDP0    LL_T_DATA$
         5 003754   000001 756100                    STQ     1,,PR0

     1047    14226    2           AVAIL$ = PINCRW(AVAIL$,SIZEW(SECT_ENTRY) + SIZEW(B$SECTION));

  14226  5 003755   200012 236100                    LDQ     AVAIL$,,AUTO
         5 003756   000007 036003                    ADLQ    7,DU
         5 003757   200012 756100                    STQ     AVAIL$,,AUTO

     1048    14227    2           END;

     1049    14228
     1050    14229         /*
     1051    14230            Reserve any instruction patch space.
     1052    14231         */
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:178  
     1053    14232
     1054    14233    2       IF LL_IPATCH > 0 THEN DO;

  14233  5 003760   000000 235000 xsym               LDA     LL_IPATCH
         5 003761   004056 600000 5                  TZE     s:14268

     1055    14234    2           TEMP = SIZEW(B$SECTION) + SIZEW(SECT_ENTRY);

  14234  5 003762   000007 236007                    LDQ     7,DL
         5 003763   000421 756000 2                  STQ     TEMP

     1056    14235    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);

  14235  5 003764   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 003765   200174 450500                    STP0    T+4,,AUTO
         5 003766   000040 237000 6                  LDAQ    32
         5 003767   200172 757100                    STAQ    T+2,,AUTO
         5 003770   200172 630500                    EPPR0   T+2,,AUTO
         5 003771   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 003772   000000 701000 xent               TSX1    LLM$MON_SVC
         5 003773   000000 011000                    NOP     0

     1057    14236    2           AVAIL$ -> B$SECTION = '0'B;

  14236  5 003774   200012 470500                    LDP0    AVAIL$,,AUTO
         5 003775   000000 450100                    STZ     0,,PR0
         5 003776   000001 450100                    STZ     1,,PR0

     1058    14237    2           AVAIL$ -> B$SECTION.TYPE = %CODESECTION;

  14237  5 003777   200012 470500                    LDP0    AVAIL$,,AUTO
         5 004000   001000 236003                    LDQ     512,DU
         5 004001   000000 552140                    STBQ    0,'40'O,PR0

     1059    14238    2           AVAIL$ -> B$SECTION.INITZERO = '1'B;

  14238  5 004002   200012 470500                    LDP0    AVAIL$,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:179  
         5 004003   000200 236003                    LDQ     128,DU
         5 004004   000000 256100                    ORSQ    0,,PR0

     1060    14239    2           AVAIL$ -> B$SECTION.SIZE = LL_IPATCH + 3;

  14239  5 004005   000000 720000 xsym               LXL0    LL_IPATCH
         5 004006   000003 621010                    EAX1    3,X0
         5 004007   200012 470500                    LDP0    AVAIL$,,AUTO
         5 004010   000000 441100                    SXL1    0,,PR0

     1061    14240    2           AVAIL$ -> B$SECTION.NPOINTER = G_PATCHI_OFFSET;

  14240  5 004011   200022 720100                    LXL0    G_PATCHI_OFFSET,,AUTO
         5 004012   200012 470500                    LDP0    AVAIL$,,AUTO
         5 004013   000001 740100                    STX0    1,,PR0

     1062    14241    2           IF LL_FLAGS.BIAS_OU

  14241  5 004014   000000 236000 xsym               LDQ     LL_FLAGS
         5 004015   040000 316007                    CANQ    16384,DL
         5 004016   004023 600000 5                  TZE     s:14244

     1063    14242    2           THEN
     1064    14243    2               BIAS = LL_T_CODE$->SECT_ENTRY.BIAS;

  14243  5 004017   000000 470400 xsym               LDP0    LL_T_CODE$
         5 004020   000003 236100                    LDQ     3,,PR0
         5 004021   000011 772000                    QRL     9
         5 004022   200047 756100                    STQ     BIAS,,AUTO

     1065    14244    3           IF LL_R_CODE$ ~= ADDR(NIL) THEN DO;;

  14244  5 004023   000000 236000 xsym               LDQ     LL_R_CODE$
         5 004024   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 004025   004034 600000 5                  TZE     s:14249

     1066    14245    3               LL_T_CODE$ -> SECT_ENTRY.NEXT$ = PINCRW(AVAIL$, SIZEW(B$SECTION));
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:180  

  14245  5 004026   200012 236100                    LDQ     AVAIL$,,AUTO
         5 004027   000002 036003                    ADLQ    2,DU
         5 004030   000000 470400 xsym               LDP0    LL_T_CODE$
         5 004031   000004 756100                    STQ     4,,PR0

     1067    14246    3               LL_T_CODE$ = LL_T_CODE$ -> SECT_ENTRY.NEXT$;

  14246  5 004032   000000 756000 xsym               STQ     LL_T_CODE$

     1068    14247    3               END;

  14247  5 004033   004040 710000 5                  TRA     s:14252

     1069    14248    3           ELSE DO;

     1070    14249    3               LL_T_CODE$ = PINCRW(AVAIL$, SIZEW(B$SECTION));

  14249  5 004034   200012 236100                    LDQ     AVAIL$,,AUTO
         5 004035   000002 036003                    ADLQ    2,DU
         5 004036   000000 756000 xsym               STQ     LL_T_CODE$

     1071    14250    3               LL_R_CODE$ = LL_T_CODE$;

  14250  5 004037   000000 756000 xsym               STQ     LL_R_CODE$

     1072    14251    3               END;

     1073    14252    2           LL_T_CODE$ -> SECT_ENTRY.BROTHER$ = ADDR(NIL);

  14252  5 004040   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 004041   000000 470400 xsym               LDP0    LL_T_CODE$
         5 004042   000002 756100                    STQ     2,,PR0

     1074    14253    2           LL_T_CODE$ -> SECT_ENTRY.NEXT$ = ADDR(NIL);

  14253  5 004043   000004 756100                    STQ     4,,PR0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:181  

     1075    14254    2           LL_T_CODE$ -> SECT_ENTRY.OBJUNIT$ = ADDR(NIL);

  14254  5 004044   000000 756100                    STQ     0,,PR0

     1076    14255    2           LL_T_CODE$ -> SECT_ENTRY.SECTION$ = AVAIL$;

  14255  5 004045   200012 236100                    LDQ     AVAIL$,,AUTO
         5 004046   000000 470400 xsym               LDP0    LL_T_CODE$
         5 004047   000001 756100                    STQ     1,,PR0

     1077    14256    2           LL_T_CODE$ -> SECT_ENTRY.BIAS = BIAS;

  14256  5 004050   200047 235100                    LDA     BIAS,,AUTO
         5 004051   000011 735000                    ALS     9
         5 004052   000003 755100                    STA     3,,PR0

     1078    14257    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(SECT_ENTRY) + SIZEW(B$SECTION));

  14257  5 004053   200012 236100                    LDQ     AVAIL$,,AUTO
         5 004054   000007 036003                    ADLQ    7,DU
         5 004055   200012 756100                    STQ     AVAIL$,,AUTO

     1079    14258    2           END;

     1080    14259
     1081    14260         /*
     1082    14261            Reserve memory for G$TCB$ and G$ROS$.  To do that, build a
     1083    14262            control section which reserves 4 words (2 pointers worth or
     1084    14263            memory).  Since the pointers have to be the first four words
     1085    14264            of FEP memory, they must be linked onto the chain of CODE
     1086    14265            sections at its head.  (G_VERSION goes here too - 4 words)
     1087    14266         */
     1088    14267
     1089    14268    1       IF NOT LL_FLAGS.NOEDITING#

  14268  5 004056   000000 236000 xsym               LDQ     LL_FLAGS
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:182  
         5 004057   020000 316003                    CANQ    8192,DU
         5 004060   004226 601000 5                  TNZ     s:14336

     1090    14269    1       THEN
     1091    14270    2       DO;

     1092    14271    2           TEMP = SIZEW(B$SECTION) + SIZEW(SECT_ENTRY);

  14271  5 004061   000007 235007                    LDA     7,DL
         5 004062   000421 755000 2                  STA     TEMP

     1093    14272    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);

  14272  5 004063   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 004064   200174 450500                    STP0    T+4,,AUTO
         5 004065   000040 237000 6                  LDAQ    32
         5 004066   200172 757100                    STAQ    T+2,,AUTO
         5 004067   200172 630500                    EPPR0   T+2,,AUTO
         5 004070   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 004071   000000 701000 xent               TSX1    LLM$MON_SVC
         5 004072   000000 011000                    NOP     0

     1094    14273    2           AVAIL$ -> B$SECTION = '0'B;

  14273  5 004073   200012 470500                    LDP0    AVAIL$,,AUTO
         5 004074   000000 450100                    STZ     0,,PR0
         5 004075   000001 450100                    STZ     1,,PR0

     1095    14274    2           AVAIL$ -> B$SECTION.TYPE = %ROSECTION;

  14274  5 004076   200012 470500                    LDP0    AVAIL$,,AUTO
         5 004077   006000 236003                    LDQ     3072,DU
         5 004100   000000 552140                    STBQ    0,'40'O,PR0

     1096    14275    2           AVAIL$ -> B$SECTION.INITZERO = '1'B;

  14275  5 004101   200012 470500                    LDP0    AVAIL$,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:183  
         5 004102   000200 236003                    LDQ     128,DU
         5 004103   000000 256100                    ORSQ    0,,PR0

     1097    14276    2           AVAIL$ -> B$SECTION.BOUND = %EVENBOUNDSECTION;

  14276  5 004104   200012 470500                    LDP0    AVAIL$,,AUTO
         5 004105   000117 236000 6                  LDQ     79
         5 004106   000000 356100                    ANSQ    0,,PR0

     1098    14277    2           AVAIL$ -> B$SECTION.SIZE = 8 /* Two pointers and one G_VERSION */;

  14277  5 004107   000010 220003                    LDX0    8,DU
         5 004110   200012 470500                    LDP0    AVAIL$,,AUTO
         5 004111   000000 440100                    SXL0    0,,PR0

     1099    14278    2           AVAIL$ -> B$SECTION.NPOINTER = LINK_SUPPLIED_OFFSET;

  14278  5 004112   200034 721100                    LXL1    LINK_SUPPLIED_OFFSET,,AUTO
         5 004113   200012 470500                    LDP0    AVAIL$,,AUTO
         5 004114   000001 741100                    STX1    1,,PR0

     1100    14279    2           IF LL_FLAGS.BIAS_OU THEN

  14279  5 004115   000000 236000 xsym               LDQ     LL_FLAGS
         5 004116   040000 316007                    CANQ    16384,DL
         5 004117   004172 600000 5                  TZE     s:14305

     1101    14280    3           DO;

     1102    14281    3               SECT$=PINCRW(AVAIL$,SIZEW(B$SECTION));

  14281  5 004120   200012 236100                    LDQ     AVAIL$,,AUTO
         5 004121   000002 036003                    ADLQ    2,DU
         5 004122   000410 756000 2                  STQ     SECT$

     1103    14282    3               P$ = LL_R_CODE$;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:184  
  14282  5 004123   000000 236000 xsym               LDQ     LL_R_CODE$
         5 004124   200061 756100                    STQ     P$,,AUTO

     1104    14283    3               Q$ = P$;

  14283  5 004125   200062 756100                    STQ     Q$,,AUTO

     1105    14284    4               DO WHILE P$ ~= ADDR(NIL);

  14284  5 004126   004167 710000 5                  TRA     s:14301

     1106    14285    4                   IF P$->SECT_ENTRY.SECTION$->B$SECTION.TYPE = 1

  14285  5 004127   200061 470500                    LDP0    P$,,AUTO
         5 004130   000001 471500                    LDP1    1,,PR0
         5 004131   100000 236100                    LDQ     0,,PR1
         5 004132   777000 376003                    ANQ     -512,DU
         5 004133   001000 116003                    CMPQ    512,DU
         5 004134   004163 601000 5                  TNZ     s:14298

     1107    14286    4                   THEN
     1108    14287    5                   DO;

     1109    14288    5                       Q$->SECT_ENTRY.NEXT$ = SECT$;

  14288  5 004135   000410 236000 2                  LDQ     SECT$
         5 004136   200062 473500                    LDP3    Q$,,AUTO
         5 004137   300004 756100                    STQ     4,,PR3

     1110    14289    5                       SECT$->SECT_ENTRY.NEXT$ = P$;

  14289  5 004140   200061 236100                    LDQ     P$,,AUTO
         5 004141   000410 471400 2                  LDP1    SECT$
         5 004142   100004 756100                    STQ     4,,PR1

     1111    14290    5                       SECT$->SECT_ENTRY.BROTHER$ = ADDR(NIL);

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:185  
  14290  5 004143   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 004144   000410 471400 2                  LDP1    SECT$
         5 004145   100002 756100                    STQ     2,,PR1

     1112    14291    5                       SECT$->SECT_ENTRY.OBJUNIT$ = ADDR(NIL);

  14291  5 004146   000410 471400 2                  LDP1    SECT$
         5 004147   100000 756100                    STQ     0,,PR1

     1113    14292    5                       SECT$->SECT_ENTRY.SECTION$ = AVAIL$;

  14292  5 004150   200012 236100                    LDQ     AVAIL$,,AUTO
         5 004151   000410 471400 2                  LDP1    SECT$
         5 004152   100001 756100                    STQ     1,,PR1

     1114    14293    5                       SECT$->SECT_ENTRY.BIAS = P$->SECT_ENTRY.BIAS;

  14293  5 004153   000410 471400 2                  LDP1    SECT$
         5 004154   000003 236100                    LDQ     3,,PR0
         5 004155   000011 772000                    QRL     9
         5 004156   000011 736000                    QLS     9
         5 004157   100003 756100                    STQ     3,,PR1

     1115    14294    5                       P$ = ADDR(NIL);

  14294  5 004160   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 004161   200061 756100                    STQ     P$,,AUTO

     1116    14295    5                       END;

  14295  5 004162   004167 710000 5                  TRA     s:14301

     1117    14296    4                   ELSE
     1118    14297    5                   DO;

     1119    14298    5                       Q$ = P$;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:186  
  14298  5 004163   200061 236100                    LDQ     P$,,AUTO
         5 004164   200062 756100                    STQ     Q$,,AUTO

     1120    14299    5                       P$ = P$->SECT_ENTRY.NEXT$;

  14299  5 004165   000004 236100                    LDQ     4,,PR0
         5 004166   200061 756100                    STQ     P$,,AUTO

     1121    14300    5                       END;

     1122    14301    4                   END;

  14301  5 004167   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 004170   004127 601000 5                  TNZ     s:14285

     1123    14302    3               END;

  14302  5 004171   004223 710000 5                  TRA     s:14329

     1124    14303    2           ELSE
     1125    14304    3           DO;

     1126    14305    4               IF LL_R_CODE$ ~= ADDR ( NIL ) THEN DO;

  14305  5 004172   000000 236000 xsym               LDQ     LL_R_CODE$
         5 004173   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 004174   004205 600000 5                  TZE     s:14321

     1127    14306
     1128    14307         /*
     1129    14308            Code has been allocated, follow head links.
     1130    14309         */
     1131    14310
     1132    14311    4                   SECT$ = LL_R_CODE$;

  14311  5 004175   000410 756000 2                  STQ     SECT$

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:187  
     1133    14312    4                   LL_R_CODE$ = PINCRW(AVAIL$, SIZEW(B$SECTION));

  14312  5 004176   200012 236100                    LDQ     AVAIL$,,AUTO
         5 004177   000002 036003                    ADLQ    2,DU
         5 004200   000000 756000 xsym               STQ     LL_R_CODE$

     1134    14313    4                   LL_R_CODE$ -> SECT_ENTRY.NEXT$ = SECT$;

  14313  5 004201   000410 236000 2                  LDQ     SECT$
         5 004202   000000 470400 xsym               LDP0    LL_R_CODE$
         5 004203   000004 756100                    STQ     4,,PR0

     1135    14314    4                   END;

  14314  5 004204   004215 710000 5                  TRA     s:14325

     1136    14315    4               ELSE DO;

     1137    14316
     1138    14317         /*
     1139    14318            No code has been allocated, initialize head/tail links.
     1140    14319         */
     1141    14320
     1142    14321    4                   LL_R_CODE$ = PINCRW(AVAIL$, SIZEW(B$SECTION));

  14321  5 004205   200012 236100                    LDQ     AVAIL$,,AUTO
         5 004206   000002 036003                    ADLQ    2,DU
         5 004207   000000 756000 xsym               STQ     LL_R_CODE$

     1143    14322    4                   LL_R_CODE$ -> SECT_ENTRY.NEXT$ = ADDR(NIL);

  14322  5 004210   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 004211   000000 470400 xsym               LDP0    LL_R_CODE$
         5 004212   000004 756100                    STQ     4,,PR0

     1144    14323    4                   LL_T_CODE$ = LL_R_CODE$;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:188  
  14323  5 004213   000000 236000 xsym               LDQ     LL_R_CODE$
         5 004214   000000 756000 xsym               STQ     LL_T_CODE$

     1145    14324    4                   END;

     1146    14325    3               LL_R_CODE$ -> SECT_ENTRY.BROTHER$ = ADDR(NIL);

  14325  5 004215   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 004216   000002 756100                    STQ     2,,PR0

     1147    14326    3               LL_R_CODE$ -> SECT_ENTRY.OBJUNIT$ = ADDR(NIL);

  14326  5 004217   000000 756100                    STQ     0,,PR0

     1148    14327    3               LL_R_CODE$ -> SECT_ENTRY.SECTION$ = AVAIL$;

  14327  5 004220   200012 236100                    LDQ     AVAIL$,,AUTO
         5 004221   000000 470400 xsym               LDP0    LL_R_CODE$
         5 004222   000001 756100                    STQ     1,,PR0

     1149    14328    3               END;

     1150    14329    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(SECT_ENTRY) + SIZEW(B$SECTION));

  14329  5 004223   200012 236100                    LDQ     AVAIL$,,AUTO
         5 004224   000007 036003                    ADLQ    7,DU
         5 004225   200012 756100                    STQ     AVAIL$,,AUTO

     1151    14330    2           END;

     1152    14331
     1153    14332         /*
     1154    14333            Calculate BIAS.  Allow biasing only to segment boundaries.
     1155    14334         */
     1156    14335
     1157    14336    1       IF LL_VAL_BIAS >= 0

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:189  
  14336  5 004226   000000 235000 xsym               LDA     LL_VAL_BIAS
         5 004227   004256 604000 5                  TMI     s:14354

     1158    14337    2       THEN DO;

     1159    14338    2           IF LL_VAL_BIAS < 65536

  14338  5 004230   200000 115007                    CMPA    65536,DL
         5 004231   004235 605000 5                  TPL     s:14340

     1160    14339    2           THEN TEMP = 4096;

  14339  5 004232   010000 236007                    LDQ     4096,DL
         5 004233   000421 756000 2                  STQ     TEMP
         5 004234   004237 710000 5                  TRA     s:14341

     1161    14340    2           ELSE TEMP = 65536;

  14340  5 004235   200000 236007                    LDQ     65536,DL
         5 004236   000421 756000 2                  STQ     TEMP

     1162    14341    2           IF LL_FLAGS.SLIB# OR LL_FLAGS.SHARELIB#

  14341  5 004237   000000 236000 xsym               LDQ     LL_FLAGS
         5 004240   010000 316007                    CANQ    4096,DL
         5 004241   004244 601000 5                  TNZ     s:14343
         5 004242   004000 316007                    CANQ    2048,DL
         5 004243   004246 600000 5                  TZE     s:14344

     1163    14342    2           THEN
     1164    14343    2               LL_VAL_BIAS = LL#SLIB_DBIAS;

  14343  5 004244   200000 235007                    LDA     65536,DL
         5 004245   000000 755000 xsym               STA     LL_VAL_BIAS

     1165    14344    2           IF LL_VAL_BIAS > 0

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:190  
  14344  5 004246   000000 115003                    CMPA    0,DU
         5 004247   004256 604400 5                  TMOZ    s:14354

     1166    14345    2           THEN
     1167    14346    2               LL_HEAD.BIAS = ( LL_VAL_BIAS / TEMP ) * TEMP;

  14346  5 004250   000000 236000 xsym               LDQ     LL_VAL_BIAS
         5 004251   000421 506000 2                  DIV     TEMP
         5 004252   000421 402000 2                  MPY     TEMP
         5 004253   000023 676000 xsym               ERQ     LL_HEAD+19
         5 004254   000116 376000 6                  ANQ     78
         5 004255   000023 656000 xsym               ERSQ    LL_HEAD+19

     1168    14347    2           END;

     1169    14348
     1170    14349         /*
     1171    14350            Cycle through the read only segment stuff if we aren't editing
     1172    14351            and yell about any dcbs that are there.
     1173    14352         */
     1174    14353
     1175    14354    2       IF LL_FLAGS.NOEDITING# THEN DO;

  14354  5 004256   000000 236000 xsym               LDQ     LL_FLAGS
         5 004257   020000 316003                    CANQ    8192,DU
         5 004260   004406 600000 5                  TZE     s:14376

     1176    14355    2           TPTR$ = LL_R_ROSE$;

  14355  5 004261   000000 236000 xsym               LDQ     LL_R_ROSE$
         5 004262   200003 470500                    LDP0    @TPTR$,,AUTO
         5 004263   000000 756100                    STQ     0,,PR0

     1177    14356    2           LL_FLAGS.VAL_ERR# = '0'B;

  14356  5 004264   000122 236000 6                  LDQ     82
         5 004265   000000 356000 xsym               ANSQ    LL_FLAGS
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:191  

     1178    14357    3           DO WHILE ( TPTR$ ~= ADDR(NIL) );

  14357  5 004266   004376 710000 5                  TRA     s:14373

     1179    14358    4               IF NOT LL_FLAGS.VAL_ERR# THEN DO;

  14358  5 004267   000000 236000 xsym               LDQ     LL_FLAGS
         5 004270   000001 316003                    CANQ    1,DU
         5 004271   004312 601000 5                  TNZ     s:14365

     1180    14359    4                   LL_DOBUF = 'A ****NOEDITING was specified in the link command';

  14359  5 004272   040000 100400                    MLR     fill='040'O
         5 004273   000614 000061 3                  ADSC9   UNUSED_DATA_NAME+313     cn=0,n=49
         5 004274   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

     1181    14360    4                   CALL LLM$MON_SVC (LL#WRITEDO);

  14360  5 004275   000015 630400 6                  EPPR0   13
         5 004276   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 004277   000000 701000 xent               TSX1    LLM$MON_SVC
         5 004300   000000 011000                    NOP     0

     1182    14361    4                   LL_DOBUF =
             14361                            'A     and DCBs are present in the following object units:';

  14361  5 004301   040000 100400                    MLR     fill='040'O
         5 004302   000631 000071 3                  ADSC9   UNUSED_DATA_NAME+326     cn=0,n=57
         5 004303   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

     1183    14362    4                   CALL LLM$MON_SVC (LL#WRITEDO);

  14362  5 004304   000015 630400 6                  EPPR0   13
         5 004305   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 004306   000000 701000 xent               TSX1    LLM$MON_SVC
         5 004307   000000 011000                    NOP     0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:192  

     1184    14363    4                   LL_FLAGS.VAL_ERR# = '1'B;

  14363  5 004310   000001 236003                    LDQ     1,DU
         5 004311   000000 256000 xsym               ORSQ    LL_FLAGS

     1185    14364    4                   END;

     1186    14365    3               SPTR$ = TPTR$ -> SECT_ENTRY.SECTION$;

  14365  5 004312   200003 470500                    LDP0    @TPTR$,,AUTO
         5 004313   000000 471500                    LDP1    0,,PR0
         5 004314   100001 236100                    LDQ     1,,PR1
         5 004315   000415 756000 2                  STQ     SPTR$

     1187    14366    3               CALL CONCAT (LL_DOBUF, 'A         DCB ',

  14366  5 004316   000415 471400 2                  LDP1    SPTR$
         5 004317   100001 220100                    LDX0    1,,PR1
         5 004320   000411 473400 2                  LDP3    NAME$
         5 004321   300000 221110                    LDX1    0,X0,PR3
         5 004322   000000 474500                    LDP4    0,,PR0
         5 004323   400000 475500                    LDP5    0,,PR4
         5 004324   500015 236100                    LDQ     13,,PR5
         5 004325   000033 772000                    QRL     27
         5 004326   040000 100400                    MLR     fill='040'O
         5 004327   000650 000016 3                  ADSC9   UNUSED_DATA_NAME+341     cn=0,n=14
         5 004330   000000 000016 xsym               ADSC9   LL_DOBUF                 cn=0,n=14
         5 004331   000000 635010                    EAA     0,X0
         5 004332   000020 731000                    ARS     16
         5 004333   040000 100545                    MLR     fill='040'O
         5 004334   300000 400011                    ADSC9   0,A,PR3                  cn=2,n=*X1
         5 004335   000003 400142 xsym               ADSC9   LL_DOBUF+3               cn=2,n=98
         5 004336   000000 620006                    EAX0    0,QL
         5 004337   000000 636011                    EAQ     0,X1
         5 004340   000022 772000                    QRL     18
         5 004341   000142 116007                    CMPQ    98,DL
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:193  
         5 004342   004364 603000 5                  TRC     s:14370
         5 004343   200172 741100                    STX1    T+2,,AUTO
         5 004344   777635 621011                    EAX1    -99,X1
         5 004345   777777 661003                    ERX1    -1,DU
         5 004346   200172 235100                    LDA     T+2,,AUTO
         5 004347   000022 771000                    ARL     18
         5 004350   040045 100400                    MLR     fill='040'O
         5 004351   000654 000036 3                  ADSC9   UNUSED_DATA_NAME+345     cn=0,n=30
         5 004352   000003 400011 xsym               ADSC9   LL_DOBUF+3,A             cn=2,n=*X1
         5 004353   200172 236100                    LDQ     T+2,,AUTO
         5 004354   000022 772000                    QRL     18
         5 004355   000104 116007                    CMPQ    68,DL
         5 004356   004364 603000 5                  TRC     s:14370
         5 004357   777673 621006                    EAX1    -69,QL
         5 004360   777777 661003                    ERX1    -1,DU
         5 004361   040046 100540                    MLR     fill='040'O
         5 004362   500015 200010                    ADSC9   13,,PR5                  cn=1,n=*X0
         5 004363   000013 000011 xsym               ADSC9   LL_DOBUF+11,Q            cn=0,n=*X1

     1188    14367    3                  PINCRW(NAME$, SPTR$ -> B$SECTION.NPOINTER) -> B$DNAME.TEXT,
     1189    14368    3                  ' is referenced in object unit ',
     1190    14369    3                  TPTR$ -> SECT_ENTRY.OBJUNIT$ -> OU_ENTRY.OUNAME.TEXT );
     1191    14370    3               CALL LLM$MON_SVC (LL#WRITEDO);

  14370  5 004364   000015 630400 6                  EPPR0   13
         5 004365   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 004366   000000 701000 xent               TSX1    LLM$MON_SVC
         5 004367   000000 011000                    NOP     0

     1192    14371    3               TPTR$ = TPTR$ -> SECT_ENTRY.NEXT$;

  14371  5 004370   200003 470500                    LDP0    @TPTR$,,AUTO
         5 004371   000000 471500                    LDP1    0,,PR0
         5 004372   100004 236100                    LDQ     4,,PR1
         5 004373   000000 756100                    STQ     0,,PR0

     1193    14372    3               LL_HEAD.SEV = 16;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:194  

  14372  5 004374   020000 236003                    LDQ     8192,DU
         5 004375   000003 552040 xsym               STBQ    LL_HEAD+3,'40'O

     1194    14373    3               END;

  14373  5 004376   000000 236100                    LDQ     0,,PR0
         5 004377   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 004400   004267 601000 5                  TNZ     s:14358

     1195    14374    2           IF LL_HEAD.SEV = 16 THEN RETURN;

  14374  5 004401   000003 236000 xsym               LDQ     LL_HEAD+3
         5 004402   777000 376003                    ANQ     -512,DU
         5 004403   020000 116003                    CMPQ    8192,DU
         5 004404   004406 601000 5                  TNZ     s:14376

  14374  5 004405   000000 702200 xent               TSX2  ! X66_ARET

     1196    14375    2           END;
     1197    14376    1       TOTSIZE = 0;

  14376  5 004406   200044 450100                    STZ     TOTSIZE,,AUTO

     1198    14377    1       IDX = 0;

  14377  5 004407   200010 450100                    STZ     IDX,,AUTO

     1199    14378    1       CALL LLM$MON_SVC(LL#GETMEM,LL_PRECSIZE,AVAIL$);

  14378  5 004410   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 004411   200174 450500                    STP0    T+4,,AUTO
         5 004412   000024 237000 6                  LDAQ    20
         5 004413   200172 757100                    STAQ    T+2,,AUTO
         5 004414   200172 630500                    EPPR0   T+2,,AUTO
         5 004415   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 004416   000000 701000 xent               TSX1    LLM$MON_SVC
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:195  
         5 004417   000000 011000                    NOP     0

     1200    14379    1       AVAIL$->RUWORD = '0'B;

  14379  5 004420   200012 470500                    LDP0    AVAIL$,,AUTO
         5 004421   010000 220003                    LDX0    4096,DU
         5 004422   000140 100400                    MLR     fill='000'O
         5 004423   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         5 004424   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0

     1201    14380    2       DO I = 0 TO 2;

  14380  5 004425   200007 450100                    STZ     I,,AUTO

     1202    14381    2           BIAS_OU_WORD = 0;

  14381  5 004426   200051 450100                    STZ     BIAS_OU_WORD,,AUTO

     1203    14382    2           LAST_UNIT_ADDR = 0;

  14382  5 004427   200053 450100                    STZ     LAST_UNIT_ADDR,,AUTO

     1204    14383    2           LAST_UNIT_SIZE = -1;

  14383  5 004430   000001 335007                    LCA     1,DL
         5 004431   200054 755100                    STA     LAST_UNIT_SIZE,,AUTO

     1205    14384    3           DO CASE (I);

  14384  5 004432   200007 236100                    LDQ     I,,AUTO
         5 004433   000003 116007                    CMPQ    3,DL
         5 004434   004436 602006 5                  TNC     s:14384+4,QL
         5 004435   004573 710000 5                  TRA     s:14429
         5 004436   004545 710000 5                  TRA     s:14423
         5 004437   004441 710000 5                  TRA     s:14386
         5 004440   004504 710000 5                  TRA     s:14402

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:196  
     1206    14385    3           CASE (1) ; /* Get root node for data */

     1207    14386    3               TPTR$ = LL_R_DATA$;

  14386  5 004441   000000 236000 xsym               LDQ     LL_R_DATA$
         5 004442   200003 470500                    LDP0    @TPTR$,,AUTO
         5 004443   000000 756100                    STQ     0,,PR0

     1208    14387    3               LL_DATA_START = LL_HEAD.BIAS;

  14387  5 004444   000023 236000 xsym               LDQ     LL_HEAD+19
         5 004445   000116 376000 6                  ANQ     78
         5 004446   000000 756000 xsym               STQ     LL_DATA_START

     1209    14388    3               LOCATION = LL_HEAD.BIAS;

  14388  5 004447   200040 756100                    STQ     LOCATION,,AUTO

     1210    14389    3               IF LL_FLAGS.SHARELIB#

  14389  5 004450   000000 236000 xsym               LDQ     LL_FLAGS
         5 004451   004000 316007                    CANQ    2048,DL
         5 004452   004457 600000 5                  TZE     s:14391

     1211    14390    3               THEN LOCATION = LOCATION + SLIB_HEAD.RDATA;

  14390  5 004453   000014 236000 2                  LDQ     SLIB_HEAD+2
         5 004454   000116 376000 6                  ANQ     78
         5 004455   200040 036100                    ADLQ    LOCATION,,AUTO
         5 004456   200040 756100                    STQ     LOCATION,,AUTO

     1212    14391    3               IF LL_FLAGS.BIAS_OU

  14391  5 004457   000000 236000 xsym               LDQ     LL_FLAGS
         5 004460   040000 316007                    CANQ    16384,DL
         5 004461   004501 600000 5                  TZE     s:14400

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:197  
     1213    14392    3               THEN
     1214    14393    4               DO;

     1215    14394    4                   LOCATION = TPTR$->SECT_ENTRY.BIAS;

  14394  5 004462   000000 471500                    LDP1    0,,PR0
         5 004463   100003 236100                    LDQ     3,,PR1
         5 004464   000011 772000                    QRL     9
         5 004465   200040 756100                    STQ     LOCATION,,AUTO

     1216    14395    4                   LL_DATA_START = LOCATION;

  14395  5 004466   000000 756000 xsym               STQ     LL_DATA_START

     1217    14396    4                   LL_HEAD.BIAS = LL_DATA_START;

  14396  5 004467   000023 676000 xsym               ERQ     LL_HEAD+19
         5 004470   000116 376000 6                  ANQ     78
         5 004471   000023 656000 xsym               ERSQ    LL_HEAD+19

     1218    14397    4                   LOCATION_ARRAY.BIAS(IDX) = LOCATION;

  14397  5 004472   200010 236100                    LDQ     IDX,,AUTO
         5 004473   000001 736000                    QLS     1
         5 004474   200040 235100                    LDA     LOCATION,,AUTO
         5 004475   000326 755006 2                  STA     LOCATION_ARRAY,QL

     1219    14398    4                   IDX = IDX + 1;

  14398  5 004476   200010 235100                    LDA     IDX,,AUTO
         5 004477   000001 035007                    ADLA    1,DL
         5 004500   200010 755100                    STA     IDX,,AUTO

     1220    14399    4                   END;

     1221    14400    3               ADDRESS = LOCATION;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:198  
  14400  5 004501   200040 235100                    LDA     LOCATION,,AUTO
         5 004502   200041 755100                    STA     ADDRESS,,AUTO
         5 004503   004573 710000 5                  TRA     s:14429

     1222    14401    3           CASE (2) ; /* Get root node for code */

     1223    14402    3               TPTR$ = LL_R_CODE$;

  14402  5 004504   000000 236000 xsym               LDQ     LL_R_CODE$
         5 004505   200003 470500                    LDP0    @TPTR$,,AUTO
         5 004506   000000 756100                    STQ     0,,PR0

     1224    14403    3               IF NOT LL_FLAGS.BIAS_OU

  14403  5 004507   000000 236000 xsym               LDQ     LL_FLAGS
         5 004510   040000 316007                    CANQ    16384,DL
         5 004511   004517 601000 5                  TNZ     s:14407

     1225    14404    3               THEN
     1226    14405    3                   CALL BOUND_UP( LOCATION );

  14405  5 004512   200040 631500                    EPPR1   LOCATION,,AUTO
         5 004513   200167 451500                    STP1    DATA$+3,,AUTO
         5 004514   010212 701000 5                  TSX1    BOUND_UP
         5 004515   000000 011000                    NOP     0
         5 004516   004534 710000 5                  TRA     s:14415

     1227    14406    4               ELSE DO;

     1228    14407    4                   LOCATION = TPTR$->SECT_ENTRY.BIAS;

  14407  5 004517   000000 471500                    LDP1    0,,PR0
         5 004520   100003 236100                    LDQ     3,,PR1
         5 004521   000011 772000                    QRL     9
         5 004522   200040 756100                    STQ     LOCATION,,AUTO

     1229    14408    4                   IF LOCATION = LOCATION_ARRAY.BIAS(0)
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:199  

  14408  5 004523   004534 604000 5                  TMI     s:14415
         5 004524   000326 116000 2                  CMPQ    LOCATION_ARRAY
         5 004525   004534 601000 5                  TNZ     s:14415

     1230    14409    4                   THEN
     1231    14410    5                   DO;

     1232    14411    5                       LOCATION =LOCATION_ARRAY.LAST(0);

  14411  5 004526   000327 235000 2                  LDA     LOCATION_ARRAY+1
         5 004527   200040 755100                    STA     LOCATION,,AUTO

     1233    14412    5                       CALL BOUND_UP( LOCATION );

  14412  5 004530   200040 631500                    EPPR1   LOCATION,,AUTO
         5 004531   200167 451500                    STP1    DATA$+3,,AUTO
         5 004532   010212 701000 5                  TSX1    BOUND_UP
         5 004533   000000 011000                    NOP     0

     1234    14413    5                       END;

     1235    14414    4                   END;

     1236    14415    3               IF LL_FLAGS.SLIB#

  14415  5 004534   000000 236000 xsym               LDQ     LL_FLAGS
         5 004535   010000 316007                    CANQ    4096,DL
         5 004536   004541 600000 5                  TZE     s:14420

     1237    14416    3               THEN
     1238    14417    4               DO;

     1239    14418    4                   LOCATION = LL_LPROC_START;

  14418  5 004537   000000 235000 xsym               LDA     LL_LPROC_START
         5 004540   200040 755100                    STA     LOCATION,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:200  

     1240    14419    4                   END;

     1241    14420    3               ADDRESS = LOCATION;

  14420  5 004541   200040 235100                    LDA     LOCATION,,AUTO
         5 004542   200041 755100                    STA     ADDRESS,,AUTO

     1242    14421    3               LL_PROC_START = LOCATION;

  14421  5 004543   000000 755000 xsym               STA     LL_PROC_START
         5 004544   004573 710000 5                  TRA     s:14429

     1243    14422    3           CASE (0); /* Get root node for read only */

     1244    14423    3               LL_RODATA_START = 4096;

  14423  5 004545   010000 235007                    LDA     4096,DL
         5 004546   000000 755000 xsym               STA     LL_RODATA_START

     1245    14424    3               IF NOT LL_FLAGS.NOEDITING# THEN TPTR$ = LL_R_ROSE$;

  14424  5 004547   000000 236000 xsym               LDQ     LL_FLAGS
         5 004550   020000 316003                    CANQ    8192,DU
         5 004551   004556 601000 5                  TNZ     s:14425

  14424  5 004552   000000 236000 xsym               LDQ     LL_R_ROSE$
         5 004553   200003 470500                    LDP0    @TPTR$,,AUTO
         5 004554   000000 756100                    STQ     0,,PR0
         5 004555   004561 710000 5                  TRA     s:14426

     1246    14425    3               ELSE TPTR$ = ADDR(NIL);

  14425  5 004556   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 004557   200003 470500                    LDP0    @TPTR$,,AUTO
         5 004560   000000 756100                    STQ     0,,PR0

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:201  
     1247    14426    3               ADDRESS = 4096 + ( LL_HEAD.UDCBNUM + LL_HEAD.DCBRES ) * 2;

  14426  5 004561   000004 236000 xsym               LDQ     LL_HEAD+4
         5 004562   777777 376007                    ANQ     -1,DL
         5 004563   200172 756100                    STQ     T+2,,AUTO
         5 004564   000004 236000 xsym               LDQ     LL_HEAD+4
         5 004565   000022 772000                    QRL     18
         5 004566   200172 036100                    ADLQ    T+2,,AUTO
         5 004567   000001 736000                    QLS     1
         5 004570   010000 036007                    ADLQ    4096,DL
         5 004571   200041 756100                    STQ     ADDRESS,,AUTO

     1248    14427    3               LOCATION = 4096;

  14427  5 004572   200040 755100                    STA     LOCATION,,AUTO

     1249    14428    3               END;

     1250    14429    2           IF LL_FLAGS.BIAS_OU

  14429  5 004573   000000 236000 xsym               LDQ     LL_FLAGS
         5 004574   040000 316007                    CANQ    16384,DL
         5 004575   004600 600000 5                  TZE     s:14432

     1251    14430    2           THEN
     1252    14431    2               BIAS_OU_LOCATION = LOCATION;

  14431  5 004576   200040 235100                    LDA     LOCATION,,AUTO
         5 004577   200050 755100                    STA     BIAS_OU_LOCATION,,AUTO

     1253    14432    2           PRE_OU$ =TPTR$;

  14432  5 004600   200003 470500                    LDP0    @TPTR$,,AUTO
         5 004601   000000 236100                    LDQ     0,,PR0
         5 004602   200052 756100                    STQ     PRE_OU$,,AUTO

     1254    14433    2           HIGH_UNIT_ADDR = (LOCATION / LL_PRECMEM) * LL_PRECMEM;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:202  

  14433  5 004603   200040 236100                    LDQ     LOCATION,,AUTO
         5 004604   000013 772000                    QRL     11
         5 004605   000013 736000                    QLS     11
         5 004606   200056 756100                    STQ     HIGH_UNIT_ADDR,,AUTO

     1255    14434    3           DO WHILE (TPTR$ ~= ADDR(NIL));

  14434  5 004607   005442 710000 5                  TRA     s:14571

     1256    14435    3               IF LL_FLAGS.BIAS_OU AND

  14435  5 004610   000000 236000 xsym               LDQ     LL_FLAGS
         5 004611   040000 316007                    CANQ    16384,DL
         5 004612   004754 600000 5                  TZE     s:14473
         5 004613   200007 235100                    LDA     I,,AUTO
         5 004614   004754 600000 5                  TZE     s:14473
         5 004615   200003 470500                    LDP0    @TPTR$,,AUTO
         5 004616   000000 471500                    LDP1    0,,PR0
         5 004617   200052 473500                    LDP3    PRE_OU$,,AUTO
         5 004620   100003 236100                    LDQ     3,,PR1
         5 004621   300003 676100                    ERQ     3,,PR3
         5 004622   000123 376000 6                  ANQ     83
         5 004623   004754 600000 5                  TZE     s:14473

     1257    14436    3                  I ~= 0 AND
     1258    14437    3                  TPTR$->SECT_ENTRY.BIAS ~= PRE_OU$->SECT_ENTRY.BIAS
     1259    14438    4               THEN DO; /* Have new bias */

     1260    14439    4                   CALL ADD_TABLE_ARRAY;

  14439  5 004624   010144 701000 5                  TSX1    ADD_TABLE_ARRAY
         5 004625   000000 011000                    NOP     0

     1261    14440    4                   LOCATION = TPTR$->SECT_ENTRY.BIAS;

  14440  5 004626   200003 470500                    LDP0    @TPTR$,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:203  
         5 004627   000000 471500                    LDP1    0,,PR0
         5 004630   100003 236100                    LDQ     3,,PR1
         5 004631   000011 772000                    QRL     9
         5 004632   200040 756100                    STQ     LOCATION,,AUTO

     1262    14441    5                   DO CASE I;

  14441  5 004633   200007 235100                    LDA     I,,AUTO
         5 004634   000003 115007                    CMPA    3,DL
         5 004635   004637 602005 5                  TNC     s:14441+4,AL
         5 004636   004701 710000 5                  TRA     s:14456
         5 004637   004701 710000 5                  TRA     s:14456
         5 004640   004642 710000 5                  TRA     s:14443
         5 004641   004654 710000 5                  TRA     FIND_BIAS

     1263    14442    5                   CASE( 1 );

     1264    14443    5                       LOCATION_ARRAY.BIAS(IDX)=TPTR$->SECT_ENTRY.BIAS;

  14443  5 004642   200010 235100                    LDA     IDX,,AUTO
         5 004643   000001 735000                    ALS     1
         5 004644   000000 471500                    LDP1    0,,PR0
         5 004645   100003 236100                    LDQ     3,,PR1
         5 004646   000011 772000                    QRL     9
         5 004647   000326 756005 2                  STQ     LOCATION_ARRAY,AL

     1265    14444    5                       IDX = IDX +1;

  14444  5 004650   200010 235100                    LDA     IDX,,AUTO
         5 004651   000001 035007                    ADLA    1,DL
         5 004652   200010 755100                    STA     IDX,,AUTO
         5 004653   004701 710000 5                  TRA     s:14456

     1266    14445    5                   CASE( 2 );

     1267    14446    6   FIND_BIAS:          DO K = 0 TO IDX;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:204  
  14446  5 004654   000420 450000 2     FIND_BIAS    STZ     K
         5 004655   004676 710000 5                  TRA     s:14454+3

     1268    14447    6                           IF LOCATION = LOCATION_ARRAY.BIAS(K)

  14447  5 004656   000420 235000 2                  LDA     K
         5 004657   000001 735000                    ALS     1
         5 004660   200040 236100                    LDQ     LOCATION,,AUTO
         5 004661   004673 604000 5                  TMI     s:14454
         5 004662   000326 116005 2                  CMPQ    LOCATION_ARRAY,AL
         5 004663   004673 601000 5                  TNZ     s:14454

     1269    14448    6                           THEN
     1270    14449    7                           DO; /* FOUND BIAS */

     1271    14450    7                               LOCATION =LOCATION_ARRAY.LAST(K);

  14450  5 004664   000327 235005 2                  LDA     LOCATION_ARRAY+1,AL
         5 004665   200040 755100                    STA     LOCATION,,AUTO

     1272    14451    7                               CALL BOUND_UP( LOCATION );

  14451  5 004666   200040 630500                    EPPR0   LOCATION,,AUTO
         5 004667   200167 450500                    STP0    DATA$+3,,AUTO
         5 004670   010212 701000 5                  TSX1    BOUND_UP
         5 004671   000000 011000                    NOP     0

     1273    14452    7                               EXIT FIND_BIAS;

  14452  5 004672   004701 710000 5                  TRA     s:14456

     1274    14453    7                               END;
     1275    14454    6                           END FIND_BIAS; /* K = 0 TO IDX */

  14454  5 004673   000420 235000 2                  LDA     K
         5 004674   000001 035007                    ADLA    1,DL
         5 004675   000420 755000 2                  STA     K
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:205  
         5 004676   200010 236100                    LDQ     IDX,,AUTO
         5 004677   000420 116000 2                  CMPQ    K
         5 004700   004656 603000 5                  TRC     s:14447

     1276    14455    5                       END; /* CASE I */

     1277    14456    4                   IF ADDRESS > LOCATION

  14456  5 004701   200040 236100                    LDQ     LOCATION,,AUTO
         5 004702   200041 116100                    CMPQ    ADDRESS,,AUTO
         5 004703   004752 603000 5                  TRC     s:14471

     1278    14457    4                   THEN
     1279    14458    5                   DO;

     1280    14459    5                       CALL LLI$BINHEX(LOCATION,6,HEXSTR);

  14459  5 004704   200042 630500                    EPPR0   HEXSTR,,AUTO
         5 004705   200174 450500                    STP0    T+4,,AUTO
         5 004706   000051 236000 6                  LDQ     41
         5 004707   200173 756100                    STQ     T+3,,AUTO
         5 004710   200040 631500                    EPPR1   LOCATION,,AUTO
         5 004711   200172 451500                    STP1    T+2,,AUTO
         5 004712   200172 630500                    EPPR0   T+2,,AUTO
         5 004713   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 004714   000000 701000 xent               TSX1    LLI$BINHEX
         5 004715   000000 011000                    NOP     0

     1281    14460    5                       CALL CONCAT(LL_DOBUF,

  14460  5 004716   040000 100400                    MLR     fill='040'O
         5 004717   000664 000037 3                  ADSC9   UNUSED_DATA_NAME+353     cn=0,n=31
         5 004720   000000 000037 xsym               ADSC9   LL_DOBUF                 cn=0,n=31
         5 004721   040000 100400                    MLR     fill='040'O
         5 004722   000674 000030 3                  ADSC9   UNUSED_DATA_NAME+361     cn=0,n=24
         5 004723   000007 600030 xsym               ADSC9   LL_DOBUF+7               cn=3,n=24
         5 004724   040000 100500                    MLR     fill='040'O
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:206  
         5 004725   200042 000006                    ADSC9   HEXSTR,,AUTO             cn=0,n=6
         5 004726   000015 600006 xsym               ADSC9   LL_DOBUF+13              cn=3,n=6
         5 004727   040000 100400                    MLR     fill='040'O
         5 004730   000702 000020 3                  ADSC9   UNUSED_DATA_NAME+367     cn=0,n=16
         5 004731   000017 200063 xsym               ADSC9   LL_DOBUF+15              cn=1,n=51

     1282    14461    5                          'A *** OU Overlaps , next higher',
     1283    14462    5                          'segment address of BIAS=',
     1284    14463    5                          HEXSTR,' is used instead');
     1285    14464    5                       CALL LLM$MON_SVC(LL#WRITEDO);

  14464  5 004732   000015 630400 6                  EPPR0   13
         5 004733   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 004734   000000 701000 xent               TSX1    LLM$MON_SVC
         5 004735   000000 011000                    NOP     0

     1286    14465    5                       IF LL_HEAD.SEV < 4

  14465  5 004736   000003 236000 xsym               LDQ     LL_HEAD+3
         5 004737   777000 376003                    ANQ     -512,DU
         5 004740   004000 116003                    CMPQ    2048,DU
         5 004741   004744 603000 5                  TRC     s:14468

     1287    14466    5                       THEN
     1288    14467    5                           LL_HEAD.SEV = 4;

  14467  5 004742   004000 236003                    LDQ     2048,DU
         5 004743   000003 552040 xsym               STBQ    LL_HEAD+3,'40'O

     1289    14468    5                       CALL ADD_TABLE_ARRAY;

  14468  5 004744   010144 701000 5                  TSX1    ADD_TABLE_ARRAY
         5 004745   000000 011000                    NOP     0

     1290    14469    5                       CALL BOUND_UP( LOCATION );

  14469  5 004746   200040 630500                    EPPR0   LOCATION,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:207  
         5 004747   200167 450500                    STP0    DATA$+3,,AUTO
         5 004750   010212 701000 5                  TSX1    BOUND_UP
         5 004751   000000 011000                    NOP     0

     1291    14470    5                       END;

     1292    14471    4                   ADDRESS = LOCATION;

  14471  5 004752   200040 235100                    LDA     LOCATION,,AUTO
         5 004753   200041 755100                    STA     ADDRESS,,AUTO

     1293    14472    4                   END; /* HAVE NEW BIAS */

     1294    14473    3               SECT$ = TPTR$ -> SECT_ENTRY.SECTION$;

  14473  5 004754   200003 470500                    LDP0    @TPTR$,,AUTO
         5 004755   000000 471500                    LDP1    0,,PR0
         5 004756   100001 236100                    LDQ     1,,PR1
         5 004757   000410 756000 2                  STQ     SECT$

     1295    14474    3               IF I = 1 AND LL_VECTOR_DATA > 0 AND SECT$ = DATA$

  14474  5 004760   200007 235100                    LDA     I,,AUTO
         5 004761   000001 115007                    CMPA    1,DL
         5 004762   005070 601000 5                  TNZ     s:14496
         5 004763   000000 235000 xsym               LDA     LL_VECTOR_DATA
         5 004764   005070 600000 5                  TZE     s:14496
         5 004765   200164 116100                    CMPQ    DATA$,,AUTO
         5 004766   005070 601000 5                  TNZ     s:14496

     1296    14475    3               THEN
     1297    14476    4               DO;

     1298    14477    4                   TEMP = ADDRESS - LOCATION;

  14477  5 004767   200041 236100                    LDQ     ADDRESS,,AUTO
         5 004770   200040 136100                    SBLQ    LOCATION,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:208  
         5 004771   000421 756000 2                  STQ     TEMP

     1299    14478    4                   IF TEMP > LL_VECTOR_DATA

  14478  5 004772   005056 604000 5                  TMI     s:14492
         5 004773   000000 116000 xsym               CMPQ    LL_VECTOR_DATA
         5 004774   005056 602000 5                  TNC     s:14492
         5 004775   005056 600000 5                  TZE     s:14492

     1300    14479    4                   THEN
     1301    14480    5                   DO;

     1302    14481    5                       LL_DOBUF =
             14481                           'A *** Size of shared library data exceeds the maximum allowed.'
             14481                                ;

  14481  5 004776   040000 100400                    MLR     fill='040'O
         5 004777   000706 000077 3                  ADSC9   UNUSED_DATA_NAME+371     cn=0,n=63
         5 005000   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

     1303    14482    5                       CALL LLM$MON_SVC(LL#WRITEDO);

  14482  5 005001   000015 630400 6                  EPPR0   13
         5 005002   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 005003   000000 701000 xent               TSX1    LLM$MON_SVC
         5 005004   000000 011000                    NOP     0

     1304    14483    5                       CALL LLI$BINHEX(LL_VECTOR_DATA,6,HEXSTR);

  14483  5 005005   200042 630500                    EPPR0   HEXSTR,,AUTO
         5 005006   200174 450500                    STP0    T+4,,AUTO
         5 005007   000124 237000 6                  LDAQ    84
         5 005010   200172 757100                    STAQ    T+2,,AUTO
         5 005011   200172 630500                    EPPR0   T+2,,AUTO
         5 005012   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 005013   000000 701000 xent               TSX1    LLI$BINHEX
         5 005014   000000 011000                    NOP     0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:209  

     1305    14484    5                       CALL CONCAT(LL_DOBUF,'A      Maximum (Hexdecimal) = ',HEXSTR);

  14484  5 005015   040000 100400                    MLR     fill='040'O
         5 005016   000726 000036 3                  ADSC9   UNUSED_DATA_NAME+387     cn=0,n=30
         5 005017   000000 000036 xsym               ADSC9   LL_DOBUF                 cn=0,n=30
         5 005020   040000 100500                    MLR     fill='040'O
         5 005021   200042 000006                    ADSC9   HEXSTR,,AUTO             cn=0,n=6
         5 005022   000007 400122 xsym               ADSC9   LL_DOBUF+7               cn=2,n=82

     1306    14485    5                       CALL LLM$MON_SVC(LL#WRITEDO);

  14485  5 005023   000015 630400 6                  EPPR0   13
         5 005024   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 005025   000000 701000 xent               TSX1    LLM$MON_SVC
         5 005026   000000 011000                    NOP     0

     1307    14486    5                       CALL LLI$BINHEX(TEMP,6,HEXSTR);

  14486  5 005027   200042 630500                    EPPR0   HEXSTR,,AUTO
         5 005030   200174 450500                    STP0    T+4,,AUTO
         5 005031   000126 237000 6                  LDAQ    86
         5 005032   200172 757100                    STAQ    T+2,,AUTO
         5 005033   200172 630500                    EPPR0   T+2,,AUTO
         5 005034   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 005035   000000 701000 xent               TSX1    LLI$BINHEX
         5 005036   000000 011000                    NOP     0

     1308    14487    5                       CALL CONCAT(LL_DOBUF,'A     Allocation (Hexdecimal) = ',HEXSTR)
             14487                                ;

  14487  5 005037   040000 100400                    MLR     fill='040'O
         5 005040   000736 000041 3                  ADSC9   UNUSED_DATA_NAME+395     cn=0,n=33
         5 005041   000000 000041 xsym               ADSC9   LL_DOBUF                 cn=0,n=33
         5 005042   040000 100500                    MLR     fill='040'O
         5 005043   200042 000006                    ADSC9   HEXSTR,,AUTO             cn=0,n=6
         5 005044   000010 200117 xsym               ADSC9   LL_DOBUF+8               cn=1,n=79
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:210  

     1309    14488    5                       CALL LLM$MON_SVC(LL#WRITEDO);

  14488  5 005045   000015 630400 6                  EPPR0   13
         5 005046   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 005047   000000 701000 xent               TSX1    LLM$MON_SVC
         5 005050   000000 011000                    NOP     0

     1310    14489    5                       CALL LLM$MON_SVC(LL#ERR);

  14489  5 005051   000060 630400 6                  EPPR0   48
         5 005052   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 005053   000000 701000 xent               TSX1    LLM$MON_SVC
         5 005054   000000 011000                    NOP     0

     1311    14490    5                       END;

  14490  5 005055   005070 710000 5                  TRA     s:14496

     1312    14491    5                   ELSE DO;

     1313    14492    5                       TEMP = LL_VECTOR_DATA - TEMP;

  14492  5 005056   000000 236000 xsym               LDQ     LL_VECTOR_DATA
         5 005057   000421 136000 2                  SBLQ    TEMP
         5 005060   000421 756000 2                  STQ     TEMP

     1314    14493    5                       SECT$->B$SECTION.SIZE = TEMP - MOD (TEMP,2);

  14493  5 005061   000002 506007                    DIV     2,DL
         5 005062   200172 755100                    STA     T+2,,AUTO
         5 005063   000421 236000 2                  LDQ     TEMP
         5 005064   200172 136100                    SBLQ    T+2,,AUTO
         5 005065   000000 620006                    EAX0    0,QL
         5 005066   000410 471400 2                  LDP1    SECT$
         5 005067   100000 440100                    SXL0    0,,PR1

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:211  
     1315    14494    5                       END;

     1316    14495    4                   END;

     1317    14496    4               DO CASE (SECT$ -> B$SECTION.BOUND);

  14496  5 005070   000410 470400 2                  LDP0    SECT$
         5 005071   000000 220100                    LDX0    0,,PR0
         5 005072   000003 360003                    ANX0    3,DU
         5 005073   000004 100003                    CMPX0   4,DU
         5 005074   005076 602010 5                  TNC     s:14496+6,X0
         5 005075   005135 710000 5                  TRA     s:14508
         5 005076   005102 710000 5                  TRA     s:14498
         5 005077   005114 710000 5                  TRA     s:14502
         5 005100   005122 710000 5                  TRA     s:14504
         5 005101   005130 710000 5                  TRA     s:14506

     1318    14497    4               CASE (%EVENBOUNDSECTION);

     1319    14498    4                   IF SECT$->B$SECTION.TYPE ~= 5

  14498  5 005102   000000 236100                    LDQ     0,,PR0
         5 005103   777000 376003                    ANQ     -512,DU
         5 005104   005000 116003                    CMPQ    2560,DU
         5 005105   005135 600000 5                  TZE     s:14508

     1320    14499    4                   THEN
     1321    14500    4                       ADDRESS = ((ADDRESS + 1) / 2) * 2;

  14500  5 005106   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005107   000001 036007                    ADLQ    1,DL
         5 005110   000001 772000                    QRL     1
         5 005111   000001 736000                    QLS     1
         5 005112   200041 756100                    STQ     ADDRESS,,AUTO
         5 005113   005135 710000 5                  TRA     s:14508

     1322    14501    4               CASE (%ODDBOUNDSECTION);
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:212  

     1323    14502    4                   ADDRESS = ((ADDRESS / 2) * 2) + 1;

  14502  5 005114   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005115   000001 772000                    QRL     1
         5 005116   000001 736000                    QLS     1
         5 005117   000001 036007                    ADLQ    1,DL
         5 005120   200041 756100                    STQ     ADDRESS,,AUTO
         5 005121   005135 710000 5                  TRA     s:14508

     1324    14503    4               CASE (%EIGHTBOUNDSECTION);

     1325    14504    4                   ADDRESS = ((ADDRESS + 7) / 8) * 8;

  14504  5 005122   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005123   000007 036007                    ADLQ    7,DL
         5 005124   000003 772000                    QRL     3
         5 005125   000003 736000                    QLS     3
         5 005126   200041 756100                    STQ     ADDRESS,,AUTO
         5 005127   005135 710000 5                  TRA     s:14508

     1326    14505    4               CASE (%PAGEBOUNDSECTION);

     1327    14506    4                   ADDRESS = ((ADDRESS + LL_PAGESIZE-1) / LL_PAGESIZE) * LL_PAGESIZE;

  14506  5 005130   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005131   000377 036007                    ADLQ    255,DL
         5 005132   000010 772000                    QRL     8
         5 005133   000010 736000                    QLS     8
         5 005134   200041 756100                    STQ     ADDRESS,,AUTO

     1328    14507    4                   END;

     1329    14508    3               SECT$ -> LL_SECTION.TYPE = SECT$ -> B$SECTION.TYPE;

  14508  5 005135   000000 236100                    LDQ     0,,PR0
         5 005136   000005 736000                    QLS     5
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:213  
         5 005137   000000 676100                    ERQ     0,,PR0
         5 005140   740000 376003                    ANQ     -16384,DU
         5 005141   000000 656100                    ERSQ    0,,PR0

     1330    14509    3               SECT$ -> LL_SECTION.INITZERO = SECT$ -> B$SECTION.INITZERO;

  14509  5 005142   000410 470400 2                  LDP0    SECT$
         5 005143   000000 236100                    LDQ     0,,PR0
         5 005144   000006 736000                    QLS     6
         5 005145   000000 676100                    ERQ     0,,PR0
         5 005146   020000 376003                    ANQ     8192,DU
         5 005147   000000 656100                    ERSQ    0,,PR0

     1331    14510    3               SECT$ -> LL_SECTION.INITUTS = SECT$ -> B$SECTION.INITUTS;

  14510  5 005150   000410 470400 2                  LDP0    SECT$
         5 005151   000000 236100                    LDQ     0,,PR0
         5 005152   000006 736000                    QLS     6
         5 005153   000000 676100                    ERQ     0,,PR0
         5 005154   010000 376003                    ANQ     4096,DU
         5 005155   000000 656100                    ERSQ    0,,PR0

     1332    14511    3               SECT$ -> LL_SECTION.BOUND = SECT$ -> B$SECTION.BOUND;

  14511  5 005156   000410 470400 2                  LDP0    SECT$
         5 005157   000000 236100                    LDQ     0,,PR0
         5 005160   000012 736000                    QLS     10
         5 005161   000000 676100                    ERQ     0,,PR0
         5 005162   006000 376003                    ANQ     3072,DU
         5 005163   000000 656100                    ERSQ    0,,PR0

     1333    14512    3               IF (SECT$ -> B$SECTION.SIZE = 0) THEN

  14512  5 005164   000410 470400 2                  LDP0    SECT$
         5 005165   000000 720100                    LXL0    0,,PR0
         5 005166   005172 601000 5                  TNZ     s:14515

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:214  
     1334    14513    3                   SECT$ -> LL_SECTION.EMPTY = '1'B;

  14513  5 005167   001000 236003                    LDQ     512,DU
         5 005170   000000 256100                    ORSQ    0,,PR0
         5 005171   005174 710000 5                  TRA     s:14516

     1335    14514    3               ELSE
     1336    14515    3                   SECT$ -> LL_SECTION.EMPTY = '0'B;

  14515  5 005172   000130 236000 6                  LDQ     88
         5 005173   000000 356100                    ANSQ    0,,PR0

     1337    14516    3               SECT$ -> LL_SECTION.SIZE = SECT$ -> B$SECTION.SIZE;

  14516  5 005174   000410 470400 2                  LDP0    SECT$
         5 005175   000000 720100                    LXL0    0,,PR0
         5 005176   000001 440100                    SXL0    1,,PR0

     1338    14517    3               TEMP = ADDRESS + SECT$ -> LL_SECTION.SIZE;

  14517  5 005177   000410 470400 2                  LDP0    SECT$
         5 005200   000001 236100                    LDQ     1,,PR0
         5 005201   777777 376007                    ANQ     -1,DL
         5 005202   200041 036100                    ADLQ    ADDRESS,,AUTO
         5 005203   000421 756000 2                  STQ     TEMP

     1339    14518    3               IF ADDRESS < 65536

  14518  5 005204   200041 235100                    LDA     ADDRESS,,AUTO
         5 005205   200000 115007                    CMPA    65536,DL
         5 005206   005220 603000 5                  TRC     s:14524

     1340    14519    4               THEN DO;

     1341    14520    4                   TEMP1 = ( ADDRESS / 4096 ) * 4096;

  14520  5 005207   200041 236100                    LDQ     ADDRESS,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:215  
         5 005210   000014 772000                    QRL     12
         5 005211   000014 736000                    QLS     12
         5 005212   000422 756000 2                  STQ     TEMP1

     1342    14521    4                   TEMP = ( TEMP / 4096 ) * 4096;

  14521  5 005213   000421 236000 2                  LDQ     TEMP
         5 005214   010000 506007                    DIV     4096,DL
         5 005215   000014 736000                    QLS     12
         5 005216   000421 756000 2                  STQ     TEMP

     1343    14522    4                   END;

  14522  5 005217   005230 710000 5                  TRA     s:14527

     1344    14523    4               ELSE DO;

     1345    14524    4                   TEMP1 = ( ADDRESS / 65536 ) * 65536;

  14524  5 005220   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005221   000020 772000                    QRL     16
         5 005222   000020 736000                    QLS     16
         5 005223   000422 756000 2                  STQ     TEMP1

     1346    14525    4                   TEMP = ( TEMP / 65536 ) * 65536;

  14525  5 005224   000421 236000 2                  LDQ     TEMP
         5 005225   200000 506007                    DIV     65536,DL
         5 005226   000020 736000                    QLS     16
         5 005227   000421 756000 2                  STQ     TEMP

     1347    14526    4                   END;

     1348    14527    3               IF TEMP1 ~= TEMP AND

  14527  5 005230   005233 604000 5                  TMI     s:14527+3
         5 005231   000422 116000 2                  CMPQ    TEMP1
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:216  
         5 005232   005251 600000 5                  TZE     s:14534
         5 005233   000422 236000 2                  LDQ     TEMP1
         5 005234   200041 116100                    CMPQ    ADDRESS,,AUTO
         5 005235   005251 600000 5                  TZE     s:14534

     1349    14528    3                  TEMP1 ~= ADDRESS
     1350    14529    4               THEN DO;

     1351    14530    4                   CALL ADD_TABLE_ARRAY;

  14530  5 005236   010144 701000 5                  TSX1    ADD_TABLE_ARRAY
         5 005237   000000 011000                    NOP     0

     1352    14531    4                   CALL BOUND_UP( ADDRESS );

  14531  5 005240   200041 630500                    EPPR0   ADDRESS,,AUTO
         5 005241   200167 450500                    STP0    DATA$+3,,AUTO
         5 005242   010212 701000 5                  TSX1    BOUND_UP
         5 005243   000000 011000                    NOP     0

     1353    14532    4                   IF LL_FLAGS.BIAS_OU THEN LOCATION = ADDRESS;

  14532  5 005244   000000 236000 xsym               LDQ     LL_FLAGS
         5 005245   040000 316007                    CANQ    16384,DL
         5 005246   005251 600000 5                  TZE     s:14534

  14532  5 005247   200041 235100                    LDA     ADDRESS,,AUTO
         5 005250   200040 755100                    STA     LOCATION,,AUTO

     1354    14533    4                   END;

     1355    14534    3               SECT$ -> LL_SECTION.ISADDR = ADDRESS;

  14534  5 005251   000410 470400 2                  LDP0    SECT$
         5 005252   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005253   000000 552134                    STBQ    0,'34'O,PR0

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:217  
     1356    14535    3               IF SECT$ -> LL_SECTION.TYPE ~= %DCBSECTION THEN

  14535  5 005254   000410 470400 2                  LDP0    SECT$
         5 005255   000000 236100                    LDQ     0,,PR0
         5 005256   740000 376003                    ANQ     -16384,DU
         5 005257   240000 116003                    CMPQ    81920,DU
         5 005260   005266 600000 5                  TZE     s:14539

     1357    14536    3                   ADDRESS = ADDRESS + SECT$ -> LL_SECTION.SIZE;

  14536  5 005261   000001 236100                    LDQ     1,,PR0
         5 005262   777777 376007                    ANQ     -1,DL
         5 005263   200041 036100                    ADLQ    ADDRESS,,AUTO
         5 005264   200041 756100                    STQ     ADDRESS,,AUTO
         5 005265   005303 710000 5                  TRA     s:14543

     1358    14537    3               ELSE
     1359    14538    4               DO;

     1360    14539    4                   SECT$->LL_SECTION.NPOINTER = SECT$->B$SECTION.NPOINTER;

  14539  5 005266   000001 220100                    LDX0    1,,PR0
         5 005267   000001 740100                    STX0    1,,PR0

     1361    14540    4                   L = (PINCRW(NAME$,SECT$->B$SECTION.NPOINTER)->B$DNAME.COUNT+1+1)/2;

  14540  5 005270   000410 470400 2                  LDP0    SECT$
         5 005271   000001 220100                    LDX0    1,,PR0
         5 005272   000411 471400 2                  LDP1    NAME$
         5 005273   100000 236110                    LDQ     0,X0,PR1
         5 005274   000022 772000                    QRL     18
         5 005275   000002 036007                    ADLQ    2,DL
         5 005276   000001 772000                    QRL     1
         5 005277   200037 756100                    STQ     L,,AUTO

     1362    14541    4                   ADDRESS = ADDRESS + %L6_DCB_DCBNAME#+ L;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:218  
  14541  5 005300   200041 036100                    ADLQ    ADDRESS,,AUTO
         5 005301   000062 036007                    ADLQ    50,DL
         5 005302   200041 756100                    STQ     ADDRESS,,AUTO

     1363    14542    4                   END;

     1364    14543    3               IF (LL_FLAGS.BIAS_OU) AND (I=1)

  14543  5 005303   000000 236000 xsym               LDQ     LL_FLAGS
         5 005304   040000 316007                    CANQ    16384,DL
         5 005305   005315 600000 5                  TZE     s:14546
         5 005306   200007 235100                    LDA     I,,AUTO
         5 005307   000001 115007                    CMPA    1,DL
         5 005310   005315 601000 5                  TNZ     s:14546

     1365    14544    3               THEN
     1366    14545    3                   LOCATION_ARRAY.LAST(IDX-1)=ADDRESS;

  14545  5 005311   200010 235100                    LDA     IDX,,AUTO
         5 005312   000001 735000                    ALS     1
         5 005313   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005314   000325 756005 2                  STQ     READ_SLIB+13,AL

     1367    14546    3               PRE_OU$ = TPTR$;

  14546  5 005315   200003 471500                    LDP1    @TPTR$,,AUTO
         5 005316   100000 236100                    LDQ     0,,PR1
         5 005317   200052 756100                    STQ     PRE_OU$,,AUTO

     1368    14547    3               TPTR$ = TPTR$ -> SECT_ENTRY.NEXT$;

  14547  5 005320   100000 473500                    LDP3    0,,PR1
         5 005321   300004 236100                    LDQ     4,,PR3
         5 005322   100000 756100                    STQ     0,,PR1

     1369    14548    3               LOW_UNIT_ADDR = HIGH_UNIT_ADDR;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:219  
  14548  5 005323   200056 235100                    LDA     HIGH_UNIT_ADDR,,AUTO
         5 005324   200055 755100                    STA     LOW_UNIT_ADDR,,AUTO

     1370    14549    3               HIGH_UNIT_ADDR = ((ADDRESS - 1) / LL_PRECMEM) * LL_PRECMEM;

  14549  5 005325   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005326   000001 136007                    SBLQ    1,DL
         5 005327   004000 506007                    DIV     2048,DL
         5 005330   000013 736000                    QLS     11
         5 005331   200056 756100                    STQ     HIGH_UNIT_ADDR,,AUTO

     1371    14550    3               HIGH_UNIT_SIZE = ADDRESS - HIGH_UNIT_ADDR;

  14550  5 005332   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005333   200056 136100                    SBLQ    HIGH_UNIT_ADDR,,AUTO
         5 005334   200057 756100                    STQ     HIGH_UNIT_SIZE,,AUTO

     1372    14551    3               IF LOW_UNIT_ADDR > LAST_UNIT_ADDR

  14551  5 005335   200055 236100                    LDQ     LOW_UNIT_ADDR,,AUTO
         5 005336   200053 116100                    CMPQ    LAST_UNIT_ADDR,,AUTO
         5 005337   005364 604400 5                  TMOZ    s:14562

     1373    14552    3               THEN
     1374    14553    4               DO;

     1375    14554    4                   IF LAST_UNIT_SIZE > 0

  14554  5 005340   200054 235100                    LDA     LAST_UNIT_SIZE,,AUTO
         5 005341   005364 604400 5                  TMOZ    s:14562

     1376    14555    4                   THEN
     1377    14556    5                   DO;

     1378    14557    5                       BOUND = LAST_UNIT_SIZE * 2 -1;

  14557  5 005342   000001 735000                    ALS     1
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:220  
         5 005343   000001 135007                    SBLA    1,DL
         5 005344   200045 755100                    STA     BOUND,,AUTO

     1379    14558    5                       PRGKEY.ISADDR = LAST_UNIT_ADDR;

  14558  5 005345   000000 100500                    MLR     fill='000'O
         5 005346   200053 000004                    ADSC9   LAST_UNIT_ADDR,,AUTO     cn=0,n=4
         5 005347   000435 400004 2                  ADSC9   PRGKEY                   cn=2,n=4

     1380    14559    5                       CALL LLM$MON_SVC(LL#WRITERU,AVAIL$,BOUND,PRGKEY);

  14559  5 005350   000131 236000 6                  LDQ     89
         5 005351   200175 756100                    STQ     T+5,,AUTO
         5 005352   200045 630500                    EPPR0   BOUND,,AUTO
         5 005353   200174 450500                    STP0    T+4,,AUTO
         5 005354   200012 633500                    EPPR3   AVAIL$,,AUTO
         5 005355   200173 453500                    STP3    T+3,,AUTO
         5 005356   000114 236000 6                  LDQ     76
         5 005357   200172 756100                    STQ     T+2,,AUTO
         5 005360   200172 630500                    EPPR0   T+2,,AUTO
         5 005361   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 005362   000000 701000 xent               TSX1    LLM$MON_SVC
         5 005363   000000 011000                    NOP     0

     1381    14560    5                       END;

     1382    14561    4                   END;

     1383    14562    3               BOUND = LL_PRECBOUND;

  14562  5 005364   007777 235007                    LDA     4095,DL
         5 005365   200045 755100                    STA     BOUND,,AUTO

     1384    14563    3               IF LOW_UNIT_ADDR < HIGH_UNIT_ADDR

  14563  5 005366   200055 236100                    LDQ     LOW_UNIT_ADDR,,AUTO
         5 005367   200056 116100                    CMPQ    HIGH_UNIT_ADDR,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:221  
         5 005370   005436 605000 5                  TPL     s:14569

     1385    14564    3               THEN
     1386    14565    4               DO PRGKEY.ISADDR = LOW_UNIT_ADDR TO HIGH_UNIT_ADDR - LL_PRECMEM BY
             14565                        LL_PRECMEM;

  14565  5 005371   000000 100500                    MLR     fill='000'O
         5 005372   200055 000004                    ADSC9   LOW_UNIT_ADDR,,AUTO      cn=0,n=4
         5 005373   000435 400004 2                  ADSC9   PRGKEY                   cn=2,n=4
         5 005374   005424 710000 5                  TRA     s:14568+8

     1387    14566    4                   IF NOT LL_FLAGS.BIAS_OU THEN

  14566  5 005375   000000 236000 xsym               LDQ     LL_FLAGS
         5 005376   040000 316007                    CANQ    16384,DL
         5 005377   005414 601000 5                  TNZ     s:14568

     1388    14567    4                       CALL LLM$MON_SVC(LL#WRITERU,AVAIL$,BOUND,PRGKEY);

  14567  5 005400   000131 236000 6                  LDQ     89
         5 005401   200175 756100                    STQ     T+5,,AUTO
         5 005402   200045 630500                    EPPR0   BOUND,,AUTO
         5 005403   200174 450500                    STP0    T+4,,AUTO
         5 005404   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 005405   200173 451500                    STP1    T+3,,AUTO
         5 005406   000114 236000 6                  LDQ     76
         5 005407   200172 756100                    STQ     T+2,,AUTO
         5 005410   200172 630500                    EPPR0   T+2,,AUTO
         5 005411   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 005412   000000 701000 xent               TSX1    LLM$MON_SVC
         5 005413   000000 011000                    NOP     0

     1389    14568    4                   END;

  14568  5 005414   000435 235000 2                  LDA     PRGKEY
         5 005415   000436 236000 2                  LDQ     PRGKEY+1
         5 005416   000022 773000                    LRL     18
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:222  
         5 005417   004000 036007                    ADLQ    2048,DL
         5 005420   200172 756100                    STQ     T+2,,AUTO
         5 005421   000000 100500                    MLR     fill='000'O
         5 005422   200172 000004                    ADSC9   T+2,,AUTO                cn=0,n=4
         5 005423   000435 400004 2                  ADSC9   PRGKEY                   cn=2,n=4
         5 005424   200056 235100                    LDA     HIGH_UNIT_ADDR,,AUTO
         5 005425   004000 135007                    SBLA    2048,DL
         5 005426   200173 755100                    STA     T+3,,AUTO
         5 005427   000435 235000 2                  LDA     PRGKEY
         5 005430   000436 236000 2                  LDQ     PRGKEY+1
         5 005431   000022 773000                    LRL     18
         5 005432   000000 116003                    CMPQ    0,DU
         5 005433   005436 604000 5                  TMI     s:14569
         5 005434   200173 116100                    CMPQ    T+3,,AUTO
         5 005435   005375 604400 5                  TMOZ    s:14566

     1390    14569    3               LAST_UNIT_ADDR = HIGH_UNIT_ADDR;

  14569  5 005436   200056 235100                    LDA     HIGH_UNIT_ADDR,,AUTO
         5 005437   200053 755100                    STA     LAST_UNIT_ADDR,,AUTO

     1391    14570    3               LAST_UNIT_SIZE = HIGH_UNIT_SIZE;

  14570  5 005440   200057 236100                    LDQ     HIGH_UNIT_SIZE,,AUTO
         5 005441   200054 756100                    STQ     LAST_UNIT_SIZE,,AUTO

     1392    14571    3               END; /* WHILE TPTR$~= ADD(NIL) */

  14571  5 005442   200003 470500                    LDP0    @TPTR$,,AUTO
         5 005443   000000 236100                    LDQ     0,,PR0
         5 005444   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 005445   004610 601000 5                  TNZ     s:14435

     1393    14572    2           IF LL_FLAGS.BIAS_OU AND I ~= 0

  14572  5 005446   000000 236000 xsym               LDQ     LL_FLAGS
         5 005447   040000 316007                    CANQ    16384,DL
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:223  
         5 005450   005474 600000 5                  TZE     s:14584
         5 005451   200007 235100                    LDA     I,,AUTO
         5 005452   005474 600000 5                  TZE     s:14584

     1394    14573    2           THEN
     1395    14574    3           DO;

     1396    14575    3               IF I = 1

  14575  5 005453   000001 115007                    CMPA    1,DL
         5 005454   005460 601000 5                  TNZ     s:14578

     1397    14576    3               THEN LL_END_VALUE = ADDRESS;

  14576  5 005455   200041 235100                    LDA     ADDRESS,,AUTO
         5 005456   000000 755000 xsym               STA     LL_END_VALUE
         5 005457   005464 710000 5                  TRA     s:14580

     1398    14577    3               ELSE
     1399    14578    3                   IF I = 2

  14578  5 005460   000002 115007                    CMPA    2,DL
         5 005461   005464 601000 5                  TNZ     s:14580

     1400    14579    3                   THEN LL_END_LOC = ADDRESS;

  14579  5 005462   200041 235100                    LDA     ADDRESS,,AUTO
         5 005463   000000 755000 xsym               STA     LL_END_LOC

     1401    14580    3               CALL ADD_TABLE_ARRAY;

  14580  5 005464   010144 701000 5                  TSX1    ADD_TABLE_ARRAY
         5 005465   000000 011000                    NOP     0

     1402    14581    3               PROGSIZE = (BIAS_OU_WORD + LL_PAGESIZE - 1) / LL_PAGESIZE;

  14581  5 005466   200051 236100                    LDQ     BIAS_OU_WORD,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:224  
         5 005467   000020 772000                    QRL     16
         5 005470   000377 036007                    ADLQ    255,DL
         5 005471   000010 772000                    QRL     8
         5 005472   000432 756000 2                  STQ     PROGSIZE

     1403    14582    3               END;

  14582  5 005473   005501 710000 5                  TRA     s:14585

     1404    14583    2           ELSE
     1405    14584    2               PROGSIZE = (ADDRESS - LOCATION + LL_PAGESIZE - 1) / LL_PAGESIZE;

  14584  5 005474   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005475   200040 136100                    SBLQ    LOCATION,,AUTO
         5 005476   000377 036007                    ADLQ    255,DL
         5 005477   000400 506007                    DIV     256,DL
         5 005500   000432 756000 2                  STQ     PROGSIZE

     1406    14585    2           IF I = 1 AND LL_FLAGS.SHARELIB#

  14585  5 005501   200007 235100                    LDA     I,,AUTO
         5 005502   000001 115007                    CMPA    1,DL
         5 005503   005522 601000 5                  TNZ     s:14588
         5 005504   000000 236000 xsym               LDQ     LL_FLAGS
         5 005505   004000 316007                    CANQ    2048,DL
         5 005506   005522 600000 5                  TZE     s:14588

     1407    14586    2           THEN
     1408    14587    2              PROGSIZE = (ADDRESS-LOCATION+SLIB_HEAD.RDATA+LL_PAGESIZE-1)/LL_PAGESIZE;

  14587  5 005507   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005510   200040 136100                    SBLQ    LOCATION,,AUTO
         5 005511   200172 756100                    STQ     T+2,,AUTO
         5 005512   000014 236000 2                  LDQ     SLIB_HEAD+2
         5 005513   000116 376000 6                  ANQ     78
         5 005514   200173 756100                    STQ     T+3,,AUTO
         5 005515   200172 236100                    LDQ     T+2,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:225  
         5 005516   200173 036100                    ADLQ    T+3,,AUTO
         5 005517   000377 036007                    ADLQ    255,DL
         5 005520   000400 506007                    DIV     256,DL
         5 005521   000432 756000 2                  STQ     PROGSIZE

     1409    14588    2           TOTSIZE = TOTSIZE + PROGSIZE;

  14588  5 005522   200044 236100                    LDQ     TOTSIZE,,AUTO
         5 005523   000432 036000 2                  ADLQ    PROGSIZE
         5 005524   200044 756100                    STQ     TOTSIZE,,AUTO

     1410    14589    3           DO CASE (I);

  14589  5 005525   200007 235100                    LDA     I,,AUTO
         5 005526   000003 115007                    CMPA    3,DL
         5 005527   005531 602005 5                  TNC     s:14589+4,AL
         5 005530   005677 710000 5                  TRA     s:14632
         5 005531   005670 710000 5                  TRA     s:14629
         5 005532   005534 710000 5                  TRA     s:14591
         5 005533   005621 710000 5                  TRA     s:14613

     1411    14590    3           CASE (1) ;

     1412    14591    3               LL_DOBUF = 'A DATA';

  14591  5 005534   040000 100400                    MLR     fill='040'O
         5 005535   000747 000006 3                  ADSC9   UNUSED_DATA_NAME+404     cn=0,n=6
         5 005536   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

     1413    14592    3               IF ( PROGSIZE > 0 ) THEN

  14592  5 005537   000432 235000 2                  LDA     PROGSIZE
         5 005540   005576 600000 5                  TZE     s:14607

     1414    14593    4               DO;

     1415    14594    4                   IF LL_FLAGS.BIAS_OU
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:226  

  14594  5 005541   000000 236000 xsym               LDQ     LL_FLAGS
         5 005542   040000 316007                    CANQ    16384,DL
         5 005543   005552 600000 5                  TZE     s:14599

     1416    14595    4                   THEN
     1417    14596    4                       LL_HEAD.RDATA = BIAS_OU_WORD;

  14596  5 005544   200051 236100                    LDQ     BIAS_OU_WORD,,AUTO
         5 005545   000020 772000                    QRL     16
         5 005546   000002 676000 xsym               ERQ     LL_HEAD+2
         5 005547   000116 376000 6                  ANQ     78
         5 005550   000002 656000 xsym               ERSQ    LL_HEAD+2
         5 005551   005600 710000 5                  TRA     s:14608

     1418    14597    4                   ELSE
     1419    14598    5                   DO;

     1420    14599    5                       IF LL_FLAGS.SHARELIB#

  14599  5 005552   004000 316007                    CANQ    2048,DL
         5 005553   005570 600000 5                  TZE     s:14603

     1421    14600    5                       THEN
     1422    14601    5                           LL_HEAD.RDATA = ADDRESS - LOCATION + SLIB_HEAD.RDATA;

  14601  5 005554   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005555   200040 136100                    SBLQ    LOCATION,,AUTO
         5 005556   200172 756100                    STQ     T+2,,AUTO
         5 005557   000014 236000 2                  LDQ     SLIB_HEAD+2
         5 005560   000116 376000 6                  ANQ     78
         5 005561   200173 756100                    STQ     T+3,,AUTO
         5 005562   200172 236100                    LDQ     T+2,,AUTO
         5 005563   200173 036100                    ADLQ    T+3,,AUTO
         5 005564   000002 676000 xsym               ERQ     LL_HEAD+2
         5 005565   000116 376000 6                  ANQ     78
         5 005566   000002 656000 xsym               ERSQ    LL_HEAD+2
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:227  
         5 005567   005600 710000 5                  TRA     s:14608

     1423    14602    5                       ELSE
     1424    14603    5                           LL_HEAD.RDATA = ADDRESS - LOCATION;

  14603  5 005570   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005571   200040 136100                    SBLQ    LOCATION,,AUTO
         5 005572   000002 676000 xsym               ERQ     LL_HEAD+2
         5 005573   000116 376000 6                  ANQ     78
         5 005574   000002 656000 xsym               ERSQ    LL_HEAD+2

     1425    14604    5                       END;

     1426    14605    4                   END;

  14605  5 005575   005600 710000 5                  TRA     s:14608

     1427    14606    3               ELSE
     1428    14607    3                   LL_HEAD.RDATA = 0;

  14607  5 005576   777774 236003                    LDQ     -4,DU
         5 005577   000002 356000 xsym               ANSQ    LL_HEAD+2

     1429    14608    3               LL_HEAD.VDPGS = PROGSIZE;

  14608  5 005600   000432 236000 2                  LDQ     PROGSIZE
         5 005601   000026 736000                    QLS     22
         5 005602   000002 676000 xsym               ERQ     LL_HEAD+2
         5 005603   777760 376003                    ANQ     -16,DU
         5 005604   000002 656000 xsym               ERSQ    LL_HEAD+2

     1430    14609    3               IF LL_FLAGS.BIAS_OU

  14609  5 005605   000000 236000 xsym               LDQ     LL_FLAGS
         5 005606   040000 316007                    CANQ    16384,DL
         5 005607   005677 600000 5                  TZE     s:14632

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:228  
     1431    14610    3               THEN
     1432    14611    3                   LL_HEAD.VDPGS = (LL_END_VALUE-LL_DATA_START+LL_PAGESIZE-1)/
             14611                            LL_PAGESIZE;

  14611  5 005610   000000 236000 xsym               LDQ     LL_END_VALUE
         5 005611   000000 136000 xsym               SBLQ    LL_DATA_START
         5 005612   000377 036007                    ADLQ    255,DL
         5 005613   000400 506007                    DIV     256,DL
         5 005614   000026 736000                    QLS     22
         5 005615   000002 676000 xsym               ERQ     LL_HEAD+2
         5 005616   777760 376003                    ANQ     -16,DU
         5 005617   000002 656000 xsym               ERSQ    LL_HEAD+2
         5 005620   005677 710000 5                  TRA     s:14632

     1433    14612    3           CASE (2) ;

     1434    14613    3               LL_DOBUF = 'A PROCEDURE';

  14613  5 005621   040000 100400                    MLR     fill='040'O
         5 005622   000751 000013 3                  ADSC9   UNUSED_DATA_NAME+406     cn=0,n=11
         5 005623   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

     1435    14614    3               IF ( PROGSIZE > 0 ) THEN

  14614  5 005624   000432 235000 2                  LDA     PROGSIZE
         5 005625   005645 600000 5                  TZE     s:14623

     1436    14615    4               DO;

     1437    14616    4                   IF LL_FLAGS.BIAS_OU

  14616  5 005626   000000 236000 xsym               LDQ     LL_FLAGS
         5 005627   040000 316007                    CANQ    16384,DL
         5 005630   005637 600000 5                  TZE     s:14620

     1438    14617    4                   THEN
     1439    14618    4                       LL_HEAD.RPROC = BIAS_OU_WORD;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:229  

  14618  5 005631   200051 236100                    LDQ     BIAS_OU_WORD,,AUTO
         5 005632   000020 772000                    QRL     16
         5 005633   000001 676000 xsym               ERQ     LL_HEAD+1
         5 005634   000116 376000 6                  ANQ     78
         5 005635   000001 656000 xsym               ERSQ    LL_HEAD+1
         5 005636   005647 710000 5                  TRA     s:14624

     1440    14619    4                   ELSE
     1441    14620    4                       LL_HEAD.RPROC = ADDRESS - LOCATION;

  14620  5 005637   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005640   200040 136100                    SBLQ    LOCATION,,AUTO
         5 005641   000001 676000 xsym               ERQ     LL_HEAD+1
         5 005642   000116 376000 6                  ANQ     78
         5 005643   000001 656000 xsym               ERSQ    LL_HEAD+1

     1442    14621    4                   END;

  14621  5 005644   005647 710000 5                  TRA     s:14624

     1443    14622    3               ELSE
     1444    14623    3                   LL_HEAD.RPROC = 0;

  14623  5 005645   777774 236003                    LDQ     -4,DU
         5 005646   000001 356000 xsym               ANSQ    LL_HEAD+1

     1445    14624    3               LL_HEAD.VPPGS = PROGSIZE;

  14624  5 005647   000432 236000 2                  LDQ     PROGSIZE
         5 005650   000026 736000                    QLS     22
         5 005651   000001 676000 xsym               ERQ     LL_HEAD+1
         5 005652   777760 376003                    ANQ     -16,DU
         5 005653   000001 656000 xsym               ERSQ    LL_HEAD+1

     1446    14625    3               IF LL_FLAGS.BIAS_OU

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:230  
  14625  5 005654   000000 236000 xsym               LDQ     LL_FLAGS
         5 005655   040000 316007                    CANQ    16384,DL
         5 005656   005677 600000 5                  TZE     s:14632

     1447    14626    3               THEN
     1448    14627    3                  LL_HEAD.VPPGS = (LL_END_LOC-LL_PROC_START+LL_PAGESIZE-1)/LL_PAGESIZE
             14627                            ;

  14627  5 005657   000000 236000 xsym               LDQ     LL_END_LOC
         5 005660   000000 136000 xsym               SBLQ    LL_PROC_START
         5 005661   000377 036007                    ADLQ    255,DL
         5 005662   000400 506007                    DIV     256,DL
         5 005663   000026 736000                    QLS     22
         5 005664   000001 676000 xsym               ERQ     LL_HEAD+1
         5 005665   777760 376003                    ANQ     -16,DU
         5 005666   000001 656000 xsym               ERSQ    LL_HEAD+1
         5 005667   005677 710000 5                  TRA     s:14632

     1449    14628    3           CASE (0) ;

     1450    14629    3               LL_DOBUF = 'A READ ONLY';

  14629  5 005670   040000 100400                    MLR     fill='040'O
         5 005671   000754 000013 3                  ADSC9   UNUSED_DATA_NAME+409     cn=0,n=11
         5 005672   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

     1451    14630    3               LL_HEAD.ROSIZE = ADDRESS - LOCATION;

  14630  5 005673   200041 236100                    LDQ     ADDRESS,,AUTO
         5 005674   200040 136100                    SBLQ    LOCATION,,AUTO
         5 005675   000000 620006                    EAX0    0,QL
         5 005676   000010 440000 xsym               SXL0    LL_HEAD+8

     1452    14631    3               END;

     1453    14632    3           IF ( PROGSIZE > 0 ) THEN DO;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:231  
  14632  5 005677   000432 235000 2                  LDA     PROGSIZE
         5 005700   005756 600000 5                  TZE     s:14645

     1454    14633    3               IF (LL_FLAGS.BIAS_OU)

  14633  5 005701   000000 236000 xsym               LDQ     LL_FLAGS
         5 005702   040000 316007                    CANQ    16384,DL
         5 005703   005717 600000 5                  TZE     s:14637

     1455    14634    3               THEN
     1456    14635    3                   CALL LLI$BINHEX (BIAS_OU_LOCATION,6,HEXSTR);

  14635  5 005704   200042 630500                    EPPR0   HEXSTR,,AUTO
         5 005705   200174 450500                    STP0    T+4,,AUTO
         5 005706   000051 236000 6                  LDQ     41
         5 005707   200173 756100                    STQ     T+3,,AUTO
         5 005710   200050 631500                    EPPR1   BIAS_OU_LOCATION,,AUTO
         5 005711   200172 451500                    STP1    T+2,,AUTO
         5 005712   200172 630500                    EPPR0   T+2,,AUTO
         5 005713   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 005714   000000 701000 xent               TSX1    LLI$BINHEX
         5 005715   000000 011000                    NOP     0
         5 005716   005731 710000 5                  TRA     s:14638

     1457    14636    3               ELSE
     1458    14637    3                   CALL LLI$BINHEX (LOCATION, 6, HEXSTR);

  14637  5 005717   200042 630500                    EPPR0   HEXSTR,,AUTO
         5 005720   200174 450500                    STP0    T+4,,AUTO
         5 005721   000051 236000 6                  LDQ     41
         5 005722   200173 756100                    STQ     T+3,,AUTO
         5 005723   200040 631500                    EPPR1   LOCATION,,AUTO
         5 005724   200172 451500                    STP1    T+2,,AUTO
         5 005725   200172 630500                    EPPR0   T+2,,AUTO
         5 005726   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 005727   000000 701000 xent               TSX1    LLI$BINHEX
         5 005730   000000 011000                    NOP     0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:232  

     1459    14638    3               CALL INSERT (LL_DOBUF, 24,, HEXSTR);

  14638  5 005731   040000 100500                    MLR     fill='040'O
         5 005732   200042 000006                    ADSC9   HEXSTR,,AUTO             cn=0,n=6
         5 005733   000006 000130 xsym               ADSC9   LL_DOBUF+6               cn=0,n=88

     1460    14639    3               CALL LLI$BINHEX (PROGSIZE, 6, HEXSTR);

  14639  5 005734   200042 630500                    EPPR0   HEXSTR,,AUTO
         5 005735   200174 450500                    STP0    T+4,,AUTO
         5 005736   000132 237000 6                  LDAQ    90
         5 005737   200172 757100                    STAQ    T+2,,AUTO
         5 005740   200172 630500                    EPPR0   T+2,,AUTO
         5 005741   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 005742   000000 701000 xent               TSX1    LLI$BINHEX
         5 005743   000000 011000                    NOP     0

     1461    14640    3               CALL INSERT (LL_DOBUF, 36,, HEXSTR);

  14640  5 005744   040000 100500                    MLR     fill='040'O
         5 005745   200042 000006                    ADSC9   HEXSTR,,AUTO             cn=0,n=6
         5 005746   000011 000114 xsym               ADSC9   LL_DOBUF+9               cn=0,n=76

     1462    14641    4               IF LL_FLAGS.MAP# THEN DO;

  14641  5 005747   000000 236000 xsym               LDQ     LL_FLAGS
         5 005750   004000 316003                    CANQ    2048,DU
         5 005751   005756 600000 5                  TZE     s:14645

     1463    14642    4                   CALL LLM$MON_SVC (LL#WRITEDO);

  14642  5 005752   000015 630400 6                  EPPR0   13
         5 005753   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 005754   000000 701000 xent               TSX1    LLM$MON_SVC
         5 005755   000000 011000                    NOP     0

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:233  
     1464    14643    4                   END;

     1465    14644    3               END;

     1466    14645    2           IF LAST_UNIT_SIZE > 0

  14645  5 005756   200054 235100                    LDA     LAST_UNIT_SIZE,,AUTO
         5 005757   006005 604400 5                  TMOZ    s:14654

     1467    14646    2           THEN
     1468    14647    3           DO;

     1469    14648    3               BOUND = LAST_UNIT_SIZE * 2 -1;

  14648  5 005760   000001 735000                    ALS     1
         5 005761   000001 135007                    SBLA    1,DL
         5 005762   200045 755100                    STA     BOUND,,AUTO

     1470    14649    3               PRGKEY.ISADDR = LAST_UNIT_ADDR;

  14649  5 005763   000000 100500                    MLR     fill='000'O
         5 005764   200053 000004                    ADSC9   LAST_UNIT_ADDR,,AUTO     cn=0,n=4
         5 005765   000435 400004 2                  ADSC9   PRGKEY                   cn=2,n=4

     1471    14650    3               IF NOT LL_FLAGS.BIAS_OU

  14650  5 005766   000000 236000 xsym               LDQ     LL_FLAGS
         5 005767   040000 316007                    CANQ    16384,DL
         5 005770   006005 601000 5                  TNZ     s:14654

     1472    14651    3               THEN
     1473    14652    3                   CALL LLM$MON_SVC(LL#WRITERU,AVAIL$,BOUND,PRGKEY);

  14652  5 005771   000131 236000 6                  LDQ     89
         5 005772   200175 756100                    STQ     T+5,,AUTO
         5 005773   200045 630500                    EPPR0   BOUND,,AUTO
         5 005774   200174 450500                    STP0    T+4,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:234  
         5 005775   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 005776   200173 451500                    STP1    T+3,,AUTO
         5 005777   000114 236000 6                  LDQ     76
         5 006000   200172 756100                    STQ     T+2,,AUTO
         5 006001   200172 630500                    EPPR0   T+2,,AUTO
         5 006002   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 006003   000000 701000 xent               TSX1    LLM$MON_SVC
         5 006004   000000 011000                    NOP     0

     1474    14653    3               END;

     1475    14654    2           LOCATION = ADDRESS;

  14654  5 006005   200041 235100                    LDA     ADDRESS,,AUTO
         5 006006   200040 755100                    STA     LOCATION,,AUTO

     1476    14655    2           END; /* FOR I = 0 TO 2 */

  14655  5 006007   200007 054100                    AOS     I,,AUTO
         5 006010   200007 236100                    LDQ     I,,AUTO
         5 006011   000002 116007                    CMPQ    2,DL
         5 006012   004426 604400 5                  TMOZ    s:14381

     1477    14656    2       IF LL_FLAGS.START# THEN DO;

  14656  5 006013   000000 236000 xsym               LDQ     LL_FLAGS
         5 006014   200000 316003                    CANQ    65536,DU
         5 006015   006023 600000 5                  TZE     s:14660

     1478    14657    2           LL_HEAD.START = LL_VAL_START;

  14657  5 006016   000000 236000 xsym               LDQ     LL_VAL_START
         5 006017   000003 676000 xsym               ERQ     LL_HEAD+3
         5 006020   000116 376000 6                  ANQ     78
         5 006021   000003 656000 xsym               ERSQ    LL_HEAD+3

     1479    14658    2           END;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:235  

  14658  5 006022   006051 710000 5                  TRA     s:14675

     1480    14659    2       ELSE DO;

     1481    14660    3           IF LL_START$ = ADDR(NIL) THEN DO;

  14660  5 006023   000000 236000 xsym               LDQ     LL_START$
         5 006024   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 006025   006031 601000 5                  TNZ     s:14664

     1482    14661    3               LL_HEAD.START = 0;

  14661  5 006026   777774 236003                    LDQ     -4,DU
         5 006027   000003 356000 xsym               ANSQ    LL_HEAD+3

     1483    14662    3               END;

  14662  5 006030   006051 710000 5                  TRA     s:14675

     1484    14663    3           ELSE DO;

     1485    14664    3               LL_HEAD.START = PINCRW ( LL_START$ -> OU_ENTRY.SECT$,

  14664  5 006031   000000 470400 xsym               LDP0    LL_START$
         5 006032   000013 471500                    LDP1    11,,PR0
         5 006033   100002 220100                    LDX0    2,,PR1
         5 006034   000777 360003                    ANX0    511,DU
         5 006035   000003 473500                    LDP3    3,,PR0
         5 006036   100002 236100                    LDQ     2,,PR1
         5 006037   777777 376007                    ANQ     -1,DL
         5 006040   200172 756100                    STQ     T+2,,AUTO
         5 006041   000000 635010                    EAA     0,X0
         5 006042   000021 771000                    ARL     17
         5 006043   300000 236105                    LDQ     0,AL,PR3
         5 006044   000032 376000 xsym               ANQ     B_VECTNIL+26
         5 006045   200172 036100                    ADLQ    T+2,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:236  
         5 006046   000003 676000 xsym               ERQ     LL_HEAD+3
         5 006047   000116 376000 6                  ANQ     78
         5 006050   000003 656000 xsym               ERSQ    LL_HEAD+3

     1486    14665    3                  LL_START$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.START.OPERAND *
     1487    14666    3                  SIZEW(B$SECTION) ) -> LL_SECTION.ISADDR +
     1488    14667    3                  LL_START$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.START.OFFSET;
     1489    14668    3               END;

     1490    14669    2           END;

     1491    14670        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:237  
     1492    14671         /*
     1493    14672            Now that allocation has been done, section records may be
     1494    14673            written into the run unit.
     1495    14674         */
     1496    14675    1       IF LL_FLAGS.NOEDITING#

  14675  5 006051   000000 236000 xsym               LDQ     LL_FLAGS
         5 006052   020000 316003                    CANQ    8192,DU
         5 006053   006056 600000 5                  TZE     s:14678

     1497    14676    1       THEN
     1498    14677    1           LL_R_ROSE$ = ADDR(NIL);

  14677  5 006054   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 006055   000000 756000 xsym               STQ     LL_R_ROSE$

     1499    14678    1       B$RUKEY.TYPE = %TYPSECT;

  14678  5 006056   000003 236003                    LDQ     3,DU
         5 006057   000006 552020 2                  STBQ    B$RUKEY,'20'O

     1500    14679    1       B$RUKEY.PAGE = 0;

  14679  5 006060   003000 061400                    CSR     bolr='003'O
         5 006061   000002 000044 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=36
         5 006062   000006 670024 2                  BDSC    B$RUKEY                  by=3,bit=7,n=20

     1501    14680    2       IF ( LL_R_DATA$ = ADDR(NIL) ) THEN DO;

  14680  5 006063   000000 236000 xsym               LDQ     LL_R_DATA$
         5 006064   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 006065   006123 601000 5                  TNZ     s:14695

     1502    14681    3           IF ( LL_R_CODE$ = ADDR(NIL) ) THEN DO;

  14681  5 006066   000000 236000 xsym               LDQ     LL_R_CODE$
         5 006067   000001 116000 xsym               CMPQ    B_VECTNIL+1
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:238  
         5 006070   006075 601000 5                  TNZ     s:14685

     1503    14682    3               TPTR$ = LL_R_ROSE$;

  14682  5 006071   000000 236000 xsym               LDQ     LL_R_ROSE$
         5 006072   200003 470500                    LDP0    @TPTR$,,AUTO
         5 006073   000000 756100                    STQ     0,,PR0

     1504    14683    3               END;

  14683  5 006074   006102 710000 5                  TRA     s:14688

     1505    14684    3           ELSE DO;

     1506    14685    3               TPTR$ = LL_R_CODE$;

  14685  5 006075   200003 470500                    LDP0    @TPTR$,,AUTO
         5 006076   000000 756100                    STQ     0,,PR0

     1507    14686    3               LL_T_CODE$ -> SECT_ENTRY.NEXT$ = LL_R_ROSE$;

  14686  5 006077   000000 236000 xsym               LDQ     LL_R_ROSE$
         5 006100   000000 471400 xsym               LDP1    LL_T_CODE$
         5 006101   100004 756100                    STQ     4,,PR1

     1508    14687    3               END;

     1509    14688    2           IF LL_FLAGS.SHARELIB#

  14688  5 006102   000000 236000 xsym               LDQ     LL_FLAGS
         5 006103   004000 316007                    CANQ    2048,DL
         5 006104   006114 600000 5                  TZE     s:14692

     1510    14689    2           THEN
     1511    14690    2               LL_HEAD.BIAS = SLIB_HEAD.RDATA + 65536;

  14690  5 006105   000014 236000 2                  LDQ     SLIB_HEAD+2
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:239  
         5 006106   000116 376000 6                  ANQ     78
         5 006107   200000 036007                    ADLQ    65536,DL
         5 006110   000023 676000 xsym               ERQ     LL_HEAD+19
         5 006111   000116 376000 6                  ANQ     78
         5 006112   000023 656000 xsym               ERSQ    LL_HEAD+19
         5 006113   006147 710000 5                  TRA     s:14704

     1512    14691    2           ELSE
     1513    14692    2               LL_HEAD.BIAS = TPTR$->SECT_ENTRY.SECTION$->LL_SECTION.ISADDR;

  14692  5 006114   000000 471500                    LDP1    0,,PR0
         5 006115   100001 473500                    LDP3    1,,PR1
         5 006116   300000 236100                    LDQ     0,,PR3
         5 006117   000023 676000 xsym               ERQ     LL_HEAD+19
         5 006120   000116 376000 6                  ANQ     78
         5 006121   000023 656000 xsym               ERSQ    LL_HEAD+19

     1514    14693    2           END;

  14693  5 006122   006147 710000 5                  TRA     s:14704

     1515    14694    2       ELSE DO;

     1516    14695    2           TPTR$ = LL_R_DATA$;

  14695  5 006123   200003 470500                    LDP0    @TPTR$,,AUTO
         5 006124   000000 756100                    STQ     0,,PR0

     1517    14696    2           IF ( LL_R_CODE$ = ADDR(NIL) ) THEN

  14696  5 006125   000000 236000 xsym               LDQ     LL_R_CODE$
         5 006126   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 006127   006134 601000 5                  TNZ     s:14699

     1518    14697    2               LL_T_DATA$ -> SECT_ENTRY.NEXT$ = LL_R_ROSE$;

  14697  5 006130   000000 236000 xsym               LDQ     LL_R_ROSE$
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:240  
         5 006131   000000 471400 xsym               LDP1    LL_T_DATA$
         5 006132   100004 756100                    STQ     4,,PR1
         5 006133   006141 710000 5                  TRA     s:14702

     1519    14698    3           ELSE DO;

     1520    14699    3               LL_T_DATA$ -> SECT_ENTRY.NEXT$ = LL_R_CODE$;

  14699  5 006134   000000 471400 xsym               LDP1    LL_T_DATA$
         5 006135   100004 756100                    STQ     4,,PR1

     1521    14700    3               LL_T_CODE$ -> SECT_ENTRY.NEXT$ = LL_R_ROSE$;

  14700  5 006136   000000 236000 xsym               LDQ     LL_R_ROSE$
         5 006137   000000 473400 xsym               LDP3    LL_T_CODE$
         5 006140   300004 756100                    STQ     4,,PR3

     1522    14701    3               END;

     1523    14702    2           LL_HEAD.BIAS = TPTR$->SECT_ENTRY.SECTION$->LL_SECTION.ISADDR;

  14702  5 006141   000000 473500                    LDP3    0,,PR0
         5 006142   300001 474500                    LDP4    1,,PR3
         5 006143   400000 236100                    LDQ     0,,PR4
         5 006144   000023 676000 xsym               ERQ     LL_HEAD+19
         5 006145   000116 376000 6                  ANQ     78
         5 006146   000023 656000 xsym               ERSQ    LL_HEAD+19

     1524    14703    2           END;

     1525    14704    1       LL_DATA_START = LL_HEAD.BIAS;

  14704  5 006147   000023 236000 xsym               LDQ     LL_HEAD+19
         5 006150   000116 376000 6                  ANQ     78
         5 006151   000000 756000 xsym               STQ     LL_DATA_START

     1526    14705    2       DO WHILE (TPTR$ ~= ADDR(NIL));
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:241  

  14705  5 006152   006232 710000 5                  TRA     s:14715

     1527    14706    2           I = 0;

  14706  5 006153   200007 450100                    STZ     I,,AUTO

     1528    14707    3           DO WHILE ((I < 1023) AND (TPTR$ ~= ADDR(NIL)));

  14707  5 006154   006173 710000 5                  TRA     s:14712

     1529    14708    3               PINCRW(AVAIL$,I) -> LL_SECTION =

  14708  5 006155   200003 470500                    LDP0    @TPTR$,,AUTO
         5 006156   000000 471500                    LDP1    0,,PR0
         5 006157   100001 473500                    LDP3    1,,PR1
         5 006160   200007 235100                    LDA     I,,AUTO
         5 006161   000002 735000                    ALS     2
         5 006162   200012 474500                    LDP4    AVAIL$,,AUTO
         5 006163   000105 100500                    MLR     fill='000'O
         5 006164   300000 000010                    ADSC9   0,,PR3                   cn=0,n=8
         5 006165   400000 000010                    ADSC9   0,A,PR4                  cn=0,n=8

     1530    14709    3                  TPTR$ -> SECT_ENTRY.SECTION$ -> LL_SECTION;
     1531    14710    3               TPTR$ = TPTR$ -> SECT_ENTRY.NEXT$;

  14710  5 006166   000000 471500                    LDP1    0,,PR0
         5 006167   100004 236100                    LDQ     4,,PR1
         5 006170   000000 756100                    STQ     0,,PR0

     1532    14711    3               I = I + 2;

  14711  5 006171   000002 236007                    LDQ     2,DL
         5 006172   200007 056100                    ASQ     I,,AUTO

     1533    14712    3               END;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:242  
  14712  5 006173   200007 235100                    LDA     I,,AUTO
         5 006174   001777 115007                    CMPA    1023,DL
         5 006175   006202 605000 5                  TPL     s:14713
         5 006176   200003 470500                    LDP0    @TPTR$,,AUTO
         5 006177   000000 236100                    LDQ     0,,PR0
         5 006200   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 006201   006155 601000 5                  TNZ     s:14708

     1534    14713    2           CALL LLM$MON_SVC (LL#WRITERU, AVAIL$, I*4-1, B$RUKEY);

  14713  5 006202   000002 735000                    ALS     2
         5 006203   000001 135007                    SBLA    1,DL
         5 006204   200172 755100                    STA     T+2,,AUTO
         5 006205   000113 236000 6                  LDQ     75
         5 006206   200177 756100                    STQ     T+7,,AUTO
         5 006207   200172 630500                    EPPR0   T+2,,AUTO
         5 006210   200176 450500                    STP0    T+6,,AUTO
         5 006211   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 006212   200175 451500                    STP1    T+5,,AUTO
         5 006213   000114 236000 6                  LDQ     76
         5 006214   200174 756100                    STQ     T+4,,AUTO
         5 006215   200174 630500                    EPPR0   T+4,,AUTO
         5 006216   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 006217   000000 701000 xent               TSX1    LLM$MON_SVC
         5 006220   000000 011000                    NOP     0

     1535    14714    2           B$RUKEY.PAGE = B$RUKEY.PAGE + 1;

  14714  5 006221   000006 235000 2                  LDA     B$RUKEY
         5 006222   000007 236000 2                  LDQ     B$RUKEY+1
         5 006223   000022 773000                    LRL     18
         5 006224   000116 376000 6                  ANQ     78
         5 006225   000001 036007                    ADLQ    1,DL
         5 006226   200172 756100                    STQ     T+2,,AUTO
         5 006227   003000 061500                    CSR     bolr='003'O
         5 006230   200172 000044                    BDSC    T+2,,AUTO                by=0,bit=0,n=36
         5 006231   000006 670024 2                  BDSC    B$RUKEY                  by=3,bit=7,n=20
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:243  

     1536    14715    2           END;

  14715  5 006232   200003 470500                    LDP0    @TPTR$,,AUTO
         5 006233   000000 236100                    LDQ     0,,PR0
         5 006234   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 006235   006153 601000 5                  TNZ     s:14706

     1537    14716    1       B$RUBIRTH.RUMED_UTS = 0;

  14716  5 006236   000001 450000 xsym               STZ     B$RUBIRTH+1

     1538    14717    1       B$RUBIRTH.COUNT = 0;

  14717  5 006237   000002 450000 xsym               STZ     B$RUBIRTH+2

     1539    14718    1       CALL LLM$MON_SVC (LL#TIME, B$RUBIRTH.CREATE_UTS);

  14718  5 006240   000135 630400 6                  EPPR0   93
         5 006241   000020 631400 xsym               EPPR1   B_VECTNIL+16
         5 006242   000000 701000 xent               TSX1    LLM$MON_SVC
         5 006243   000000 011000                    NOP     0

     1540    14719    1       CALL LLM$MON_SVC (LL#WRITERU, ADDR(B$RUBIRTH), 11, RUBIRTHKEY);

  14719  5 006244   000136 236000 6                  LDQ     94
         5 006245   200172 756100                    STQ     T+2,,AUTO
         5 006246   000140 237000 6                  LDAQ    96
         5 006247   200176 757100                    STAQ    T+6,,AUTO
         5 006250   200172 630500                    EPPR0   T+2,,AUTO
         5 006251   200175 450500                    STP0    T+5,,AUTO
         5 006252   000114 236000 6                  LDQ     76
         5 006253   200174 756100                    STQ     T+4,,AUTO
         5 006254   200174 630500                    EPPR0   T+4,,AUTO
         5 006255   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 006256   000000 701000 xent               TSX1    LLM$MON_SVC
         5 006257   000000 011000                    NOP     0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:244  

     1541    14720    1       IF LL_FLAGS.BIAS_OU

  14720  5 006260   000000 236000 xsym               LDQ     LL_FLAGS
         5 006261   040000 316007                    CANQ    16384,DL
         5 006262   006365 600000 5                  TZE     s:14736

     1542    14721    2       THEN DO;

     1543    14722    2           LL_HEAD.SECTABLESIZE = TABLE_ARRAY_INX*(SIZEW(B$SECTABLE));

  14722  5 006263   200063 236100                    LDQ     TABLE_ARRAY_INX,,AUTO
         5 006264   000001 736000                    QLS     1
         5 006265   000007 736000                    QLS     7
         5 006266   000011 676000 xsym               ERQ     LL_HEAD+9
         5 006267   077600 376007                    ANQ     32640,DL
         5 006270   000011 656000 xsym               ERSQ    LL_HEAD+9

     1544    14723    3           DO I = 0 TO TABLE_ARRAY_INX-2;

  14723  5 006271   200007 450100                    STZ     I,,AUTO
         5 006272   006337 710000 5                  TRA     s:14732+1

     1545    14724    4               DO J = I+1 TO TABLE_ARRAY_INX-1;

  14724  5 006273   200007 235100                    LDA     I,,AUTO
         5 006274   000001 035007                    ADLA    1,DL
         5 006275   200036 755100                    STA     J,,AUTO
         5 006276   006332 710000 5                  TRA     s:14731+3

     1546    14725    4                   IF TABLE_ARRAY.START(I) > TABLE_ARRAY.START(J)

  14725  5 006277   200007 235100                    LDA     I,,AUTO
         5 006300   000001 735000                    ALS     1
         5 006301   200036 236100                    LDQ     J,,AUTO
         5 006302   000001 736000                    QLS     1
         5 006303   200065 236106                    LDQ     TABLE_ARRAY+1,QL,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:245  
         5 006304   200065 116105                    CMPQ    TABLE_ARRAY+1,AL,AUTO
         5 006305   006327 603000 5                  TRC     s:14731

     1547    14726    5                   THEN DO;

     1548    14727    5                       TABLE_ARRAY(TABLE_ARRAY_INX) = TABLE_ARRAY(I);

  14727  5 006306   200063 236100                    LDQ     TABLE_ARRAY_INX,,AUTO
         5 006307   000001 736000                    QLS     1
         5 006310   000000 620006                    EAX0    0,QL
         5 006311   200064 237105                    LDAQ    TABLE_ARRAY,AL,AUTO
         5 006312   200064 757110                    STAQ    TABLE_ARRAY,X0,AUTO

     1549    14728    5                       TABLE_ARRAY(I) = TABLE_ARRAY(J);

  14728  5 006313   200007 235100                    LDA     I,,AUTO
         5 006314   000001 735000                    ALS     1
         5 006315   200036 236100                    LDQ     J,,AUTO
         5 006316   000001 736000                    QLS     1
         5 006317   000000 621005                    EAX1    0,AL
         5 006320   200064 237106                    LDAQ    TABLE_ARRAY,QL,AUTO
         5 006321   200064 757111                    STAQ    TABLE_ARRAY,X1,AUTO

     1550    14729    5                       TABLE_ARRAY(J) = TABLE_ARRAY(TABLE_ARRAY_INX);

  14729  5 006322   200036 235100                    LDA     J,,AUTO
         5 006323   000001 735000                    ALS     1
         5 006324   000000 621005                    EAX1    0,AL
         5 006325   200064 237110                    LDAQ    TABLE_ARRAY,X0,AUTO
         5 006326   200064 757111                    STAQ    TABLE_ARRAY,X1,AUTO

     1551    14730    5                       END;

     1552    14731    4                   END;

  14731  5 006327   200036 235100                    LDA     J,,AUTO
         5 006330   000001 035007                    ADLA    1,DL
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:246  
         5 006331   200036 755100                    STA     J,,AUTO
         5 006332   200036 236100                    LDQ     J,,AUTO
         5 006333   006336 604000 5                  TMI     s:14732
         5 006334   200063 116100                    CMPQ    TABLE_ARRAY_INX,,AUTO
         5 006335   006277 604000 5                  TMI     s:14725

     1553    14732    3               END;

  14732  5 006336   200007 054100                    AOS     I,,AUTO
         5 006337   200063 236100                    LDQ     TABLE_ARRAY_INX,,AUTO
         5 006340   000002 136007                    SBLQ    2,DL
         5 006341   200007 116100                    CMPQ    I,,AUTO
         5 006342   006273 605000 5                  TPL     s:14724

     1554    14733    2           CALL LLM$MON_SVC( LL#WRITERU, ADDR(TABLE_ARRAY),

  14733  5 006343   200064 630500                    EPPR0   TABLE_ARRAY,,AUTO
         5 006344   200172 450500                    STP0    T+2,,AUTO
         5 006345   200063 235100                    LDA     TABLE_ARRAY_INX,,AUTO
         5 006346   000003 735000                    ALS     3
         5 006347   000001 135007                    SBLA    1,DL
         5 006350   200173 755100                    STA     T+3,,AUTO
         5 006351   000142 236000 6                  LDQ     98
         5 006352   200177 756100                    STQ     T+7,,AUTO
         5 006353   200173 631500                    EPPR1   T+3,,AUTO
         5 006354   200176 451500                    STP1    T+6,,AUTO
         5 006355   200172 633500                    EPPR3   T+2,,AUTO
         5 006356   200175 453500                    STP3    T+5,,AUTO
         5 006357   000114 236000 6                  LDQ     76
         5 006360   200174 756100                    STQ     T+4,,AUTO
         5 006361   200174 630500                    EPPR0   T+4,,AUTO
         5 006362   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 006363   000000 701000 xent               TSX1    LLM$MON_SVC
         5 006364   000000 011000                    NOP     0

     1555    14734    2              4*TABLE_ARRAY_INX*(SIZEW(B$SECTABLE))-1,B$SECTABLEKEY);
     1556    14735    2           END;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:247  

     1557    14736    1       TPTR$ = LL_R_OU$;

  14736  5 006365   000000 236000 xsym               LDQ     LL_R_OU$
         5 006366   200003 470500                    LDP0    @TPTR$,,AUTO
         5 006367   000000 756100                    STQ     0,,PR0

     1558    14737    2       DO WHILE (TPTR$ ~= ADDR(NIL));

  14737  5 006370   006442 710000 5                  TRA     s:14750

     1559    14738    2           TEMP = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.EDEFSIZ / SIZEW(B$EDEF);

  14738  5 006371   200003 470500                    LDP0    @TPTR$,,AUTO
         5 006372   000000 471500                    LDP1    0,,PR0
         5 006373   100013 473500                    LDP3    11,,PR1
         5 006374   300007 236100                    LDQ     7,,PR3
         5 006375   000022 772000                    QRL     18
         5 006376   000001 772000                    QRL     1
         5 006377   000421 756000 2                  STQ     TEMP

     1560    14739    2           TYPE = 4;

  14739  5 006400   000004 235007                    LDA     4,DL
         5 006401   000417 755000 2                  STA     TYPE

     1561    14740    2           SPTR$ = TPTR$ -> OU_ENTRY.SECT$;

  14740  5 006402   000000 471500                    LDP1    0,,PR0
         5 006403   100003 236100                    LDQ     3,,PR1
         5 006404   000415 756000 2                  STQ     SPTR$

     1562    14741    2           DPTR$ = TPTR$ -> OU_ENTRY.ENTDEF$;

  14741  5 006405   000000 471500                    LDP1    0,,PR0
         5 006406   100006 236100                    LDQ     6,,PR1
         5 006407   000414 756000 2                  STQ     DPTR$
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:248  

     1563    14742    2           CALL LLR$RESDEF (TYPE, TEMP, NPTR, DPTR$, SPTR$, 0);

  14742  5 006410   000143 630400 6                  EPPR0   99
         5 006411   000024 631400 xsym               EPPR1   B_VECTNIL+20
         5 006412   000000 701000 xent               TSX1    LLR$RESDEF
         5 006413   000000 011000                    NOP     0

     1564    14743    2           TEMP = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.SDEFSIZ / SIZEW(B$SDEF);

  14743  5 006414   200003 470500                    LDP0    @TPTR$,,AUTO
         5 006415   000000 471500                    LDP1    0,,PR0
         5 006416   100013 473500                    LDP3    11,,PR1
         5 006417   300011 236100                    LDQ     9,,PR3
         5 006420   000022 772000                    QRL     18
         5 006421   000001 772000                    QRL     1
         5 006422   000421 756000 2                  STQ     TEMP

     1565    14744    2           TYPE = 6;

  14744  5 006423   000006 235007                    LDA     6,DL
         5 006424   000417 755000 2                  STA     TYPE

     1566    14745    2           DPTR$ = TPTR$ -> OU_ENTRY.SYMDEF$;

  14745  5 006425   000000 471500                    LDP1    0,,PR0
         5 006426   100004 236100                    LDQ     4,,PR1
         5 006427   000414 756000 2                  STQ     DPTR$

     1567    14746    2           IF DPTR$ ~= ADDR(NIL)

  14746  5 006430   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 006431   006436 600000 5                  TZE     s:14749

     1568    14747    2           THEN CALL LLR$RESDEF(TYPE,TEMP,X,DPTR$,SPTR$,0);

  14747  5 006432   000151 630400 6                  EPPR0   105
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:249  
         5 006433   000024 631400 xsym               EPPR1   B_VECTNIL+20
         5 006434   000000 701000 xent               TSX1    LLR$RESDEF
         5 006435   000000 011000                    NOP     0

     1569    14748    2           ELSE ; /* There were no SYMDEFs */
     1570    14749    2           TPTR$ = TPTR$ -> OU_ENTRY.NEXT$;

  14749  5 006436   200003 470500                    LDP0    @TPTR$,,AUTO
         5 006437   000000 471500                    LDP1    0,,PR0
         5 006440   100001 236100                    LDQ     1,,PR1
         5 006441   000000 756100                    STQ     0,,PR0

     1571    14750    2           END;

  14750  5 006442   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 006443   006371 601000 5                  TNZ     s:14738

     1572    14751
     1573    14752         /*
     1574    14753            Build symdefs for G$JIT$, G$PIA$, G$AUTO_DS$ and G$AUTO_T$.  They
     1575    14754            always point off to the same places as provided by LCP6 job step.
     1576    14755            Also add symdefs for G$ROS$, G$TCB$, and G_VERSION, which are in the RU.
     1577    14756            Then, reserve space for 4 primary entdefs (G_PATCH... stuff).
     1578    14757         */
     1579    14758
     1580    14759    1       TPTR$ = AVAIL$;

  14759  5 006444   200012 236100                    LDQ     AVAIL$,,AUTO
         5 006445   000000 756100                    STQ     0,,PR0

     1581    14760    1       IF NOT LL_FLAGS.NOEDITING#

  14760  5 006446   000000 236000 xsym               LDQ     LL_FLAGS
         5 006447   020000 316003                    CANQ    8192,DU
         5 006450   006675 601000 5                  TNZ     s:14827

     1582    14761    1       THEN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:250  
     1583    14762    2       DO;

     1584    14763    2           TEMP = 7 * ( SIZEW(B$SDEF) + SIZEW(NODE) ) + LL_PRECSIZE;

  14763  5 006451   002070 235007                    LDA     1080,DL
         5 006452   000421 755000 2                  STA     TEMP

     1585    14764    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);

  14764  5 006453   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 006454   200174 451500                    STP1    T+4,,AUTO
         5 006455   000040 237000 6                  LDAQ    32
         5 006456   200172 757100                    STAQ    T+2,,AUTO
         5 006457   200172 630500                    EPPR0   T+2,,AUTO
         5 006460   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 006461   000000 701000 xent               TSX1    LLM$MON_SVC
         5 006462   000000 011000                    NOP     0

     1586    14765
     1587    14766         /* Do G$JIT$ */
     1588    14767
     1589    14768    2           AVAIL$ -> B$SDEF = '0'B;

  14768  5 006463   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006464   000000 450100                    STZ     0,,PR0
         5 006465   000001 450100                    STZ     1,,PR0

     1590    14769    2           AVAIL$ -> B$SDEF.NPOINTER = G_JIT_OFFSET;

  14769  5 006466   200031 720100                    LXL0    G_JIT_OFFSET,,AUTO
         5 006467   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006470   000001 740100                    STX0    1,,PR0

     1591    14770    2           AVAIL$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;

  14770  5 006471   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006472   000001 236100                    LDQ     1,,PR0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:251  
         5 006473   000073 376000 6                  ANQ     59
         5 006474   030000 276007                    ORQ     12288,DL
         5 006475   000001 756100                    STQ     1,,PR0

     1592    14771    2           AVAIL$ -> B$SDEF.AD.ISADDR = LL_JIT_ADDRESS;

  14771  5 006476   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006477   000000 236000 xsym               LDQ     LL_JIT_ADDRESS
         5 006500   000000 552134                    STBQ    0,'34'O,PR0

     1593    14772    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));

  14772  5 006501   200012 236100                    LDQ     AVAIL$,,AUTO
         5 006502   000002 036003                    ADLQ    2,DU
         5 006503   200012 756100                    STQ     AVAIL$,,AUTO

     1594    14773
     1595    14774         /* Do G$PIA$ */
     1596    14775
     1597    14776    2           AVAIL$ -> B$SDEF = '0'B;

  14776  5 006504   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006505   000000 450100                    STZ     0,,PR0
         5 006506   000001 450100                    STZ     1,,PR0

     1598    14777    2           AVAIL$ -> B$SDEF.NPOINTER = G_PIA_OFFSET;

  14777  5 006507   200030 721100                    LXL1    G_PIA_OFFSET,,AUTO
         5 006510   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006511   000001 741100                    STX1    1,,PR0

     1599    14778    2           AVAIL$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;

  14778  5 006512   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006513   000001 236100                    LDQ     1,,PR0
         5 006514   000073 376000 6                  ANQ     59
         5 006515   030000 276007                    ORQ     12288,DL
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:252  
         5 006516   000001 756100                    STQ     1,,PR0

     1600    14779    2           AVAIL$ -> B$SDEF.AD.ISADDR = LL_PIA_ADDRESS;

  14779  5 006517   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006520   000000 236000 xsym               LDQ     LL_PIA_ADDRESS
         5 006521   000000 552134                    STBQ    0,'34'O,PR0

     1601    14780    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));

  14780  5 006522   200012 236100                    LDQ     AVAIL$,,AUTO
         5 006523   000002 036003                    ADLQ    2,DU
         5 006524   200012 756100                    STQ     AVAIL$,,AUTO

     1602    14781
     1603    14782         /* Do G$AUTO_DS$ */
     1604    14783
     1605    14784    2           AVAIL$ -> B$SDEF = '0'B;

  14784  5 006525   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006526   000000 450100                    STZ     0,,PR0
         5 006527   000001 450100                    STZ     1,,PR0

     1606    14785    2           AVAIL$ -> B$SDEF.NPOINTER = G_AUTO_DS_OFFSET;

  14785  5 006530   200032 722100                    LXL2    G_AUTO_DS_OFFSET,,AUTO
         5 006531   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006532   000001 742100                    STX2    1,,PR0

     1607    14786    2           AVAIL$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;

  14786  5 006533   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006534   000001 236100                    LDQ     1,,PR0
         5 006535   000073 376000 6                  ANQ     59
         5 006536   030000 276007                    ORQ     12288,DL
         5 006537   000001 756100                    STQ     1,,PR0

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:253  
     1608    14787    2           AVAIL$ -> B$SDEF.AD.ISADDR = LL_AUTO_DS_ADDRESS;

  14787  5 006540   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006541   000000 236000 xsym               LDQ     LL_AUTO_DS_ADDRESS
         5 006542   000000 552134                    STBQ    0,'34'O,PR0

     1609    14788    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));

  14788  5 006543   200012 236100                    LDQ     AVAIL$,,AUTO
         5 006544   000002 036003                    ADLQ    2,DU
         5 006545   200012 756100                    STQ     AVAIL$,,AUTO

     1610    14789
     1611    14790         /* Do G$AUTO_T$ */
     1612    14791
     1613    14792    2           AVAIL$ -> B$SDEF = '0'B;

  14792  5 006546   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006547   000000 450100                    STZ     0,,PR0
         5 006550   000001 450100                    STZ     1,,PR0

     1614    14793    2           AVAIL$ -> B$SDEF.NPOINTER = G_AUTO_T_OFFSET;

  14793  5 006551   200033 723100                    LXL3    G_AUTO_T_OFFSET,,AUTO
         5 006552   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006553   000001 743100                    STX3    1,,PR0

     1615    14794    2           AVAIL$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;

  14794  5 006554   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006555   000001 236100                    LDQ     1,,PR0
         5 006556   000073 376000 6                  ANQ     59
         5 006557   030000 276007                    ORQ     12288,DL
         5 006560   000001 756100                    STQ     1,,PR0

     1616    14795    2           AVAIL$ -> B$SDEF.AD.ISADDR = LL_AUTO_T_ADDRESS;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:254  
  14795  5 006561   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006562   000000 236000 xsym               LDQ     LL_AUTO_T_ADDRESS
         5 006563   000000 552134                    STBQ    0,'34'O,PR0

     1617    14796    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));

  14796  5 006564   200012 236100                    LDQ     AVAIL$,,AUTO
         5 006565   000002 036003                    ADLQ    2,DU
         5 006566   200012 756100                    STQ     AVAIL$,,AUTO

     1618    14797
     1619    14798         /* Do G$TCB$ */
     1620    14799
     1621    14800    2           AVAIL$ -> B$SDEF = '0'B;

  14800  5 006567   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006570   000000 450100                    STZ     0,,PR0
         5 006571   000001 450100                    STZ     1,,PR0

     1622    14801    2           AVAIL$ -> B$SDEF.NPOINTER = G_TCB_OFFSET;

  14801  5 006572   200027 724100                    LXL4    G_TCB_OFFSET,,AUTO
         5 006573   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006574   000001 744100                    STX4    1,,PR0

     1623    14802    2           AVAIL$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;

  14802  5 006575   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006576   000001 236100                    LDQ     1,,PR0
         5 006577   000073 376000 6                  ANQ     59
         5 006600   030000 276007                    ORQ     12288,DL
         5 006601   000001 756100                    STQ     1,,PR0

     1624    14803    2           AVAIL$ -> B$SDEF.AD.ISADDR = LL_PROC_START;

  14803  5 006602   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006603   000000 236000 xsym               LDQ     LL_PROC_START
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:255  
         5 006604   000000 552134                    STBQ    0,'34'O,PR0

     1625    14804    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));

  14804  5 006605   200012 236100                    LDQ     AVAIL$,,AUTO
         5 006606   000002 036003                    ADLQ    2,DU
         5 006607   200012 756100                    STQ     AVAIL$,,AUTO

     1626    14805
     1627    14806         /* Do G$ROS$ */
     1628    14807
     1629    14808    2           AVAIL$ -> B$SDEF = '0'B;

  14808  5 006610   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006611   000000 450100                    STZ     0,,PR0
         5 006612   000001 450100                    STZ     1,,PR0

     1630    14809    2           AVAIL$ -> B$SDEF.NPOINTER = G_ROS_OFFSET;

  14809  5 006613   200026 725100                    LXL5    G_ROS_OFFSET,,AUTO
         5 006614   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006615   000001 745100                    STX5    1,,PR0

     1631    14810    2           AVAIL$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;

  14810  5 006616   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006617   000001 236100                    LDQ     1,,PR0
         5 006620   000073 376000 6                  ANQ     59
         5 006621   030000 276007                    ORQ     12288,DL
         5 006622   000001 756100                    STQ     1,,PR0

     1632    14811    2           AVAIL$ -> B$SDEF.AD.ISADDR = LL_PROC_START + 2;

  14811  5 006623   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006624   000000 236000 xsym               LDQ     LL_PROC_START
         5 006625   000002 036007                    ADLQ    2,DL
         5 006626   000000 552134                    STBQ    0,'34'O,PR0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:256  

     1633    14812    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));

  14812  5 006627   200012 236100                    LDQ     AVAIL$,,AUTO
         5 006630   000002 036003                    ADLQ    2,DU
         5 006631   200012 756100                    STQ     AVAIL$,,AUTO

     1634    14813
     1635    14814         /* Do G_VERSION */
     1636    14815
     1637    14816    2           AVAIL$ -> B$SDEF = '0'B;

  14816  5 006632   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006633   000000 450100                    STZ     0,,PR0
         5 006634   000001 450100                    STZ     1,,PR0

     1638    14817    2           AVAIL$ -> B$SDEF.NPOINTER = G_VERSION_OFFSET;

  14817  5 006635   200021 726100                    LXL6    G_VERSION_OFFSET,,AUTO
         5 006636   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006637   000001 746100                    STX6    1,,PR0

     1639    14818    2           AVAIL$ -> B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;

  14818  5 006640   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006641   000001 236100                    LDQ     1,,PR0
         5 006642   000073 376000 6                  ANQ     59
         5 006643   030000 276007                    ORQ     12288,DL
         5 006644   000001 756100                    STQ     1,,PR0

     1640    14819    2           AVAIL$ -> B$SDEF.AD.ISADDR = LL_PROC_START + 4;

  14819  5 006645   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006646   000000 236000 xsym               LDQ     LL_PROC_START
         5 006647   000004 036007                    ADLQ    4,DL
         5 006650   000000 552134                    STBQ    0,'34'O,PR0

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:257  
     1641    14820    2           AVAIL$ = PINCRW(AVAIL$, SIZEW(B$SDEF));

  14820  5 006651   200012 236100                    LDQ     AVAIL$,,AUTO
         5 006652   000002 036003                    ADLQ    2,DU
         5 006653   200012 756100                    STQ     AVAIL$,,AUTO

     1642    14821
     1643    14822         /* Link the symbols onto the SYMDEF tree */
     1644    14823
     1645    14824    2           CALL LLG$GROW (LL_SYMDEF_R$, TPTR$, 7, ADDR(NIL), AVAIL$, NAME$,

  14824  5 006654   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 006655   200172 756100                    STQ     T+2,,AUTO
         5 006656   000050 237000 6                  LDAQ    40
         5 006657   200200 757100                    STAQ    T+8,,AUTO
         5 006660   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 006661   200177 450500                    STP0    T+7,,AUTO
         5 006662   200172 631500                    EPPR1   T+2,,AUTO
         5 006663   200176 451500                    STP1    T+6,,AUTO
         5 006664   000015 236000 6                  LDQ     13
         5 006665   200003 235100                    LDA     @TPTR$,,AUTO
         5 006666   200174 757100                    STAQ    T+4,,AUTO
         5 006667   000052 236000 6                  LDQ     42
         5 006670   200173 756100                    STQ     T+3,,AUTO
         5 006671   200173 630500                    EPPR0   T+3,,AUTO
         5 006672   000025 631400 xsym               EPPR1   B_VECTNIL+21
         5 006673   000000 701000 xent               TSX1    LLG$GROW
         5 006674   000000 011000                    NOP     0

     1646    14825    2              %TYPSDEF );
     1647    14826    2           END;

     1648    14827    1       TPTR$ = AVAIL$;

  14827  5 006675   200012 236100                    LDQ     AVAIL$,,AUTO
         5 006676   200003 470500                    LDP0    @TPTR$,,AUTO
         5 006677   000000 756100                    STQ     0,,PR0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:258  

     1649    14828
     1650    14829         /*
     1651    14830            Now make the primary entdefs for G_PATCHI, G_PATCHIH, G_PATCHD and
     1652    14831            G_PATCHDH.
     1653    14832         */
     1654    14833
     1655    14834    1       IF LL_IPATCH > 0

  14834  5 006700   000000 235000 xsym               LDA     LL_IPATCH
         5 006701   007041 600000 5                  TZE     s:14859

     1656    14835    1       THEN
     1657    14836    2       DO;

     1658    14837    2           TEMP = 2 * (SIZEW(B$SDEF) + SIZEW(NODE)) + LL_PRECSIZE;

  14837  5 006702   002020 235007                    LDA     1040,DL
         5 006703   000421 755000 2                  STA     TEMP

     1659    14838    2           CALL LLM$MON_SVC(LL#GETMEM,TEMP,AVAIL$);

  14838  5 006704   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 006705   200174 451500                    STP1    T+4,,AUTO
         5 006706   000040 237000 6                  LDAQ    32
         5 006707   200172 757100                    STAQ    T+2,,AUTO
         5 006710   200172 630500                    EPPR0   T+2,,AUTO
         5 006711   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 006712   000000 701000 xent               TSX1    LLM$MON_SVC
         5 006713   000000 011000                    NOP     0

     1660    14839    2           AVAIL$->B$SDEF = '0'B;

  14839  5 006714   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006715   000000 450100                    STZ     0,,PR0
         5 006716   000001 450100                    STZ     1,,PR0

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:259  
     1661    14840    2           AVAIL$->B$SDEF.AD.ISADDR = LL_T_CODE$->SECT_ENTRY.SECTION$->

  14840  5 006717   000000 470400 xsym               LDP0    LL_T_CODE$
         5 006720   000001 471500                    LDP1    1,,PR0
         5 006721   200012 473500                    LDP3    AVAIL$,,AUTO
         5 006722   100000 236100                    LDQ     0,,PR1
         5 006723   300000 552134                    STBQ    0,'34'O,PR3

     1662    14841    2              LL_SECTION.ISADDR;
     1663    14842    2           AVAIL$->B$SDEF.NPOINTER = G_PATCHIH_OFFSET;

  14842  5 006724   200023 720100                    LXL0    G_PATCHIH_OFFSET,,AUTO
         5 006725   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006726   000001 740100                    STX0    1,,PR0

     1664    14843    2           AVAIL$->B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;

  14843  5 006727   200012 470500                    LDP0    AVAIL$,,AUTO
         5 006730   000001 236100                    LDQ     1,,PR0
         5 006731   000073 376000 6                  ANQ     59
         5 006732   030000 276007                    ORQ     12288,DL
         5 006733   000001 756100                    STQ     1,,PR0

     1665    14844    2           AVAIL$ = PINCRW(AVAIL$,SIZEW(B$SDEF));

  14844  5 006734   200012 236100                    LDQ     AVAIL$,,AUTO
         5 006735   000002 036003                    ADLQ    2,DU
         5 006736   200012 756100                    STQ     AVAIL$,,AUTO

     1666    14845    2           CALL LLG$GROW(LL_SYMDEF_R$,TPTR$,1,ADDR(NIL),AVAIL$,NAME$,

  14845  5 006737   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 006740   200172 756100                    STQ     T+2,,AUTO
         5 006741   000050 237000 6                  LDAQ    40
         5 006742   200200 757100                    STAQ    T+8,,AUTO
         5 006743   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 006744   200177 450500                    STP0    T+7,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:260  
         5 006745   200172 631500                    EPPR1   T+2,,AUTO
         5 006746   200176 451500                    STP1    T+6,,AUTO
         5 006747   000023 236000 6                  LDQ     19
         5 006750   200003 235100                    LDA     @TPTR$,,AUTO
         5 006751   200174 757100                    STAQ    T+4,,AUTO
         5 006752   000052 236000 6                  LDQ     42
         5 006753   200173 756100                    STQ     T+3,,AUTO
         5 006754   200173 630500                    EPPR0   T+3,,AUTO
         5 006755   000025 631400 xsym               EPPR1   B_VECTNIL+21
         5 006756   000000 701000 xent               TSX1    LLG$GROW
         5 006757   000000 011000                    NOP     0

     1667    14846    2              %TYPSDEF);
     1668    14847    2           TPTR$ = AVAIL$;

  14847  5 006760   200012 236100                    LDQ     AVAIL$,,AUTO
         5 006761   200003 470500                    LDP0    @TPTR$,,AUTO
         5 006762   000000 756100                    STQ     0,,PR0

     1669    14848    2           AVAIL$->B$EDEF = '0'B;

  14848  5 006763   200012 471500                    LDP1    AVAIL$,,AUTO
         5 006764   100000 450100                    STZ     0,,PR1
         5 006765   100001 450100                    STZ     1,,PR1

     1670    14849    2           AVAIL$->B$EDEF.ISADDR = LL_T_CODE$->SECT_ENTRY.SECTION$->

  14849  5 006766   000000 471400 xsym               LDP1    LL_T_CODE$
         5 006767   100001 473500                    LDP3    1,,PR1
         5 006770   200012 474500                    LDP4    AVAIL$,,AUTO
         5 006771   300000 236100                    LDQ     0,,PR3
         5 006772   000032 376000 xsym               ANQ     B_VECTNIL+26
         5 006773   000003 036007                    ADLQ    3,DL
         5 006774   400000 552134                    STBQ    0,'34'O,PR4

     1671    14850    2              LL_SECTION.ISADDR + 3;
     1672    14851    2           AVAIL$->B$EDEF.NPOINTER = G_PATCHI_OFFSET;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:261  

  14851  5 006775   200022 720100                    LXL0    G_PATCHI_OFFSET,,AUTO
         5 006776   200012 471500                    LDP1    AVAIL$,,AUTO
         5 006777   100001 740100                    STX0    1,,PR1

     1673    14852    2           AVAIL$->B$EDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;

  14852  5 007000   200012 471500                    LDP1    AVAIL$,,AUTO
         5 007001   100000 236100                    LDQ     0,,PR1
         5 007002   000074 376000 6                  ANQ     60
         5 007003   600000 276003                    ORQ     -65536,DU
         5 007004   100000 756100                    STQ     0,,PR1

     1674    14853    2           AVAIL$->B$EDEF.PRI = '1'B;

  14853  5 007005   200012 471500                    LDP1    AVAIL$,,AUTO
         5 007006   400000 236007                    LDQ     -131072,DL
         5 007007   100001 256100                    ORSQ    1,,PR1

     1675    14854    2           AVAIL$->B$EDEF.CST = 1;

  14854  5 007010   200012 471500                    LDP1    AVAIL$,,AUTO
         5 007011   100001 236100                    LDQ     1,,PR1
         5 007012   000073 376000 6                  ANQ     59
         5 007013   004000 276007                    ORQ     2048,DL
         5 007014   100001 756100                    STQ     1,,PR1

     1676    14855    2           AVAIL$ = PINCRW(AVAIL$,SIZEW(B$EDEF));

  14855  5 007015   200012 236100                    LDQ     AVAIL$,,AUTO
         5 007016   000002 036003                    ADLQ    2,DU
         5 007017   200012 756100                    STQ     AVAIL$,,AUTO

     1677    14856    2           CALL LLG$GROW(LL_ENTDEF_R$,TPTR$,1,ADDR(NIL),AVAIL$,NAME$,

  14856  5 007020   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 007021   200172 756100                    STQ     T+2,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:262  
         5 007022   000044 237000 6                  LDAQ    36
         5 007023   200200 757100                    STAQ    T+8,,AUTO
         5 007024   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 007025   200177 451500                    STP1    T+7,,AUTO
         5 007026   200172 633500                    EPPR3   T+2,,AUTO
         5 007027   200176 453500                    STP3    T+6,,AUTO
         5 007030   000023 236000 6                  LDQ     19
         5 007031   200003 235100                    LDA     @TPTR$,,AUTO
         5 007032   200174 757100                    STAQ    T+4,,AUTO
         5 007033   000046 236000 6                  LDQ     38
         5 007034   200173 756100                    STQ     T+3,,AUTO
         5 007035   200173 630500                    EPPR0   T+3,,AUTO
         5 007036   000025 631400 xsym               EPPR1   B_VECTNIL+21
         5 007037   000000 701000 xent               TSX1    LLG$GROW
         5 007040   000000 011000                    NOP     0

     1678    14857    2              %TYPEDEF);
     1679    14858    2           END;

     1680    14859    1       TPTR$ = AVAIL$;

  14859  5 007041   200012 236100                    LDQ     AVAIL$,,AUTO
         5 007042   200003 470500                    LDP0    @TPTR$,,AUTO
         5 007043   000000 756100                    STQ     0,,PR0

     1681    14860
     1682    14861    2       IF LL_DPATCH > 0 THEN DO;

  14861  5 007044   000000 235000 xsym               LDA     LL_DPATCH
         5 007045   007150 600000 5                  TZE     s:14882

     1683    14862
     1684    14863    2           TEMP = 2 * (SIZEW(B$SDEF) + SIZEW(NODE)) + LL_PRECSIZE;

  14863  5 007046   002020 235007                    LDA     1040,DL
         5 007047   000421 755000 2                  STA     TEMP

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:263  
     1685    14864    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);

  14864  5 007050   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 007051   200174 451500                    STP1    T+4,,AUTO
         5 007052   000040 237000 6                  LDAQ    32
         5 007053   200172 757100                    STAQ    T+2,,AUTO
         5 007054   200172 630500                    EPPR0   T+2,,AUTO
         5 007055   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 007056   000000 701000 xent               TSX1    LLM$MON_SVC
         5 007057   000000 011000                    NOP     0

     1686    14865
     1687    14866    2           AVAIL$->B$SDEF = '0'B;

  14866  5 007060   200012 470500                    LDP0    AVAIL$,,AUTO
         5 007061   000000 450100                    STZ     0,,PR0
         5 007062   000001 450100                    STZ     1,,PR0

     1688    14867    2           AVAIL$->B$SDEF.AD.ISADDR = DPATCH$->SECT_ENTRY.SECTION$->

  14867  5 007063   200163 470500                    LDP0    DPATCH$,,AUTO
         5 007064   000001 471500                    LDP1    1,,PR0
         5 007065   200012 473500                    LDP3    AVAIL$,,AUTO
         5 007066   100000 236100                    LDQ     0,,PR1
         5 007067   300000 552134                    STBQ    0,'34'O,PR3

     1689    14868    2              LL_SECTION.ISADDR;
     1690    14869    2           AVAIL$->B$SDEF.NPOINTER = G_PATCHDH_OFFSET;

  14869  5 007070   200025 720100                    LXL0    G_PATCHDH_OFFSET,,AUTO
         5 007071   200012 471500                    LDP1    AVAIL$,,AUTO
         5 007072   100001 740100                    STX0    1,,PR1

     1691    14870    2           AVAIL$->B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;

  14870  5 007073   200012 471500                    LDP1    AVAIL$,,AUTO
         5 007074   100001 236100                    LDQ     1,,PR1
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:264  
         5 007075   000073 376000 6                  ANQ     59
         5 007076   030000 276007                    ORQ     12288,DL
         5 007077   100001 756100                    STQ     1,,PR1

     1692    14871    2           AVAIL$ = PINCRW(AVAIL$,SIZEW(B$SDEF));

  14871  5 007100   200012 236100                    LDQ     AVAIL$,,AUTO
         5 007101   000002 036003                    ADLQ    2,DU
         5 007102   200012 756100                    STQ     AVAIL$,,AUTO

     1693    14872
     1694    14873    2           AVAIL$->B$SDEF = '0'B;

  14873  5 007103   200012 471500                    LDP1    AVAIL$,,AUTO
         5 007104   100000 450100                    STZ     0,,PR1
         5 007105   100001 450100                    STZ     1,,PR1

     1695    14874    2           AVAIL$->B$SDEF.AD.ISADDR = DPATCH$->SECT_ENTRY.SECTION$->

  14874  5 007106   000001 471500                    LDP1    1,,PR0
         5 007107   200012 473500                    LDP3    AVAIL$,,AUTO
         5 007110   100000 236100                    LDQ     0,,PR1
         5 007111   000032 376000 xsym               ANQ     B_VECTNIL+26
         5 007112   000003 036007                    ADLQ    3,DL
         5 007113   300000 552134                    STBQ    0,'34'O,PR3

     1696    14875    2              LL_SECTION.ISADDR + 3;
     1697    14876    2           AVAIL$->B$SDEF.NPOINTER = G_PATCHD_OFFSET;

  14876  5 007114   200024 721100                    LXL1    G_PATCHD_OFFSET,,AUTO
         5 007115   200012 471500                    LDP1    AVAIL$,,AUTO
         5 007116   100001 741100                    STX1    1,,PR1

     1698    14877    2           AVAIL$->B$SDEF.LFLAGS.SOURCE = %SOURCE_LINKER#;

  14877  5 007117   200012 471500                    LDP1    AVAIL$,,AUTO
         5 007120   100001 236100                    LDQ     1,,PR1
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:265  
         5 007121   000073 376000 6                  ANQ     59
         5 007122   030000 276007                    ORQ     12288,DL
         5 007123   100001 756100                    STQ     1,,PR1

     1699    14878    2           AVAIL$ = PINCRW(AVAIL$,SIZEW(B$SDEF));

  14878  5 007124   200012 236100                    LDQ     AVAIL$,,AUTO
         5 007125   000002 036003                    ADLQ    2,DU
         5 007126   200012 756100                    STQ     AVAIL$,,AUTO

     1700    14879    2           CALL LLG$GROW(LL_SYMDEF_R$,TPTR$,2,ADDR(NIL),AVAIL$,NAME$,

  14879  5 007127   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 007130   200172 756100                    STQ     T+2,,AUTO
         5 007131   000050 237000 6                  LDAQ    40
         5 007132   200200 757100                    STAQ    T+8,,AUTO
         5 007133   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 007134   200177 451500                    STP1    T+7,,AUTO
         5 007135   200172 633500                    EPPR3   T+2,,AUTO
         5 007136   200176 453500                    STP3    T+6,,AUTO
         5 007137   000020 236000 6                  LDQ     16
         5 007140   200003 235100                    LDA     @TPTR$,,AUTO
         5 007141   200174 757100                    STAQ    T+4,,AUTO
         5 007142   000052 236000 6                  LDQ     42
         5 007143   200173 756100                    STQ     T+3,,AUTO
         5 007144   200173 630500                    EPPR0   T+3,,AUTO
         5 007145   000025 631400 xsym               EPPR1   B_VECTNIL+21
         5 007146   000000 701000 xent               TSX1    LLG$GROW
         5 007147   000000 011000                    NOP     0

     1701    14880    2              %TYPSDEF);
     1702    14881    2           END;

     1703    14882    1       TPTR$ = AVAIL$;

  14882  5 007150   200012 236100                    LDQ     AVAIL$,,AUTO
         5 007151   200003 470500                    LDP0    @TPTR$,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:266  
         5 007152   000000 756100                    STQ     0,,PR0

     1704    14883
     1705    14884         /*
     1706    14885            Get the read only segment into memory so that we can initialize
     1707    14886            our DCBS.
     1708    14887         */
     1709    14888
     1710    14889    2       IF NOT LL_FLAGS.NOEDITING# THEN DO;

  14889  5 007153   000000 236000 xsym               LDQ     LL_FLAGS
         5 007154   020000 316003                    CANQ    8192,DU
         5 007155   007446 601000 5                  TNZ     s:14960

     1711    14890    2           TEMP = ( LL_HEAD.ROSIZE + 1 ) / 2 + LL_PRECSIZE;

  14890  5 007156   000010 236000 xsym               LDQ     LL_HEAD+8
         5 007157   777777 376007                    ANQ     -1,DL
         5 007160   000001 036007                    ADLQ    1,DL
         5 007161   000001 772000                    QRL     1
         5 007162   002000 036007                    ADLQ    1024,DL
         5 007163   000421 756000 2                  STQ     TEMP

     1712    14891    2           CALL LLM$MON_SVC (LL#GETMEM, TEMP, AVAIL$);

  14891  5 007164   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 007165   200174 451500                    STP1    T+4,,AUTO
         5 007166   000040 237000 6                  LDAQ    32
         5 007167   200172 757100                    STAQ    T+2,,AUTO
         5 007170   200172 630500                    EPPR0   T+2,,AUTO
         5 007171   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 007172   000000 701000 xent               TSX1    LLM$MON_SVC
         5 007173   000000 011000                    NOP     0

     1713    14892    2           PRGKEY.ISADDR = 4096;

  14892  5 007174   000000 100400                    MLR     fill='000'O
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:267  
         5 007175   000157 000004 6                  ADSC9   111                      cn=0,n=4
         5 007176   000435 400004 2                  ADSC9   PRGKEY                   cn=2,n=4

     1714    14893    2           TEMP = LL_HEAD.ROSIZE;

  14893  5 007177   000010 236000 xsym               LDQ     LL_HEAD+8
         5 007200   777777 376007                    ANQ     -1,DL
         5 007201   000421 756000 2                  STQ     TEMP

     1715    14894    2           TPTR$ = AVAIL$; /* Remember the buffer address */

  14894  5 007202   200012 236100                    LDQ     AVAIL$,,AUTO
         5 007203   200003 470500                    LDP0    @TPTR$,,AUTO
         5 007204   000000 756100                    STQ     0,,PR0

     1716    14895    3           DO WHILE ( TEMP > 0 );

  14895  5 007205   000421 235000 2                  LDA     TEMP
         5 007206   007254 604400 5                  TMOZ    s:14906

     1717    14896    4               IF TEMP > LL_PRECMEM THEN DO;

  14896  5 007207   000421 235000 2                  LDA     TEMP
         5 007210   004000 115007                    CMPA    2048,DL
         5 007211   007232 604400 5                  TMOZ    s:14902

     1718    14897    4                   CALL LLM$MON_SVC (LL#READRU, AVAIL$, LL_PRECBOUND, PRGKEY);

  14897  5 007212   000162 237000 6                  LDAQ    114
         5 007213   200174 757100                    STAQ    T+4,,AUTO
         5 007214   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 007215   200173 450500                    STP0    T+3,,AUTO
         5 007216   000161 236000 6                  LDQ     113
         5 007217   200172 756100                    STQ     T+2,,AUTO
         5 007220   200172 630500                    EPPR0   T+2,,AUTO
         5 007221   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 007222   000000 701000 xent               TSX1    LLM$MON_SVC
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:268  
         5 007223   000000 011000                    NOP     0

     1719    14898    4                   TEMP = TEMP - LL_PRECMEM;

  14898  5 007224   004000 336007                    LCQ     2048,DL
         5 007225   000421 056000 2                  ASQ     TEMP

     1720    14899    4                   AVAIL$ = PINCRW(AVAIL$, LL_PRECSIZE);

  14899  5 007226   200012 236100                    LDQ     AVAIL$,,AUTO
         5 007227   002000 036003                    ADLQ    1024,DU
         5 007230   200012 756100                    STQ     AVAIL$,,AUTO

     1721    14900    4                   END;

  14900  5 007231   007252 710000 5                  TRA     s:14905

     1722    14901    4               ELSE DO;

     1723    14902    4                   CALL LLM$MON_SVC (LL#READRU, AVAIL$, TEMP * 2 - 1, PRGKEY);

  14902  5 007232   000001 735000                    ALS     1
         5 007233   000001 135007                    SBLA    1,DL
         5 007234   200172 755100                    STA     T+2,,AUTO
         5 007235   000131 236000 6                  LDQ     89
         5 007236   200177 756100                    STQ     T+7,,AUTO
         5 007237   200172 630500                    EPPR0   T+2,,AUTO
         5 007240   200176 450500                    STP0    T+6,,AUTO
         5 007241   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 007242   200175 451500                    STP1    T+5,,AUTO
         5 007243   000161 236000 6                  LDQ     113
         5 007244   200174 756100                    STQ     T+4,,AUTO
         5 007245   200174 630500                    EPPR0   T+4,,AUTO
         5 007246   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 007247   000000 701000 xent               TSX1    LLM$MON_SVC
         5 007250   000000 011000                    NOP     0

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:269  
     1724    14903    4                   TEMP = 0;

  14903  5 007251   000421 450000 2                  STZ     TEMP

     1725    14904    4                   END;

     1726    14905    3               END;

  14905  5 007252   000421 235000 2                  LDA     TEMP
         5 007253   007207 605400 5                  TPNZ    s:14896

     1727    14906    2           AVAIL$ = TPTR$;

  14906  5 007254   200003 470500                    LDP0    @TPTR$,,AUTO
         5 007255   000000 236100                    LDQ     0,,PR0
         5 007256   200012 756100                    STQ     AVAIL$,,AUTO

     1728    14907
     1729    14908         /*
     1730    14909            Start initializing DCB pointers.  There is one for each DCB in the
     1731    14910            read only segment chain.  We're going to use TPTR$ to move around
     1732    14911            on the chain and TEMP to move around in the DCB table.
     1733    14912         */
     1734    14913
     1735    14914    2           TEMP = 0;

  14914  5 007257   000421 450000 2                  STZ     TEMP

     1736    14915    2           TPTR$ = LL_R_ROSE$;

  14915  5 007260   000000 236000 xsym               LDQ     LL_R_ROSE$
         5 007261   000000 756100                    STQ     0,,PR0

     1737    14916    3           DO WHILE ( TPTR$ ~= ADDR(NIL) );

  14916  5 007262   007351 710000 5                  TRA     s:14929

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:270  
     1738    14917    3               SPTR$ = PINCRW(AVAIL$, TEMP);

  14917  5 007263   000421 236000 2                  LDQ     TEMP
         5 007264   000022 736000                    QLS     18
         5 007265   200012 036100                    ADLQ    AVAIL$,,AUTO
         5 007266   000415 756000 2                  STQ     SPTR$

     1739    14918    3               TEMP1 = TPTR$ -> SECT_ENTRY.SECTION$ -> LL_SECTION.ISADDR;

  14918  5 007267   200003 470500                    LDP0    @TPTR$,,AUTO
         5 007270   000000 471500                    LDP1    0,,PR0
         5 007271   100001 473500                    LDP3    1,,PR1
         5 007272   300000 236100                    LDQ     0,,PR3
         5 007273   000032 376000 xsym               ANQ     B_VECTNIL+26
         5 007274   000422 756000 2                  STQ     TEMP1

     1740    14919    3               P$ = PINCRC(AVAIL$,(TEMP1-4096+%L6_DCB_DCBNAME#)*2);

  14919  5 007275   000021 736000                    QLS     17
         5 007276   003747 136003                    SBLQ    2023,DU
         5 007277   200012 036100                    ADLQ    AVAIL$,,AUTO
         5 007300   200061 756100                    STQ     P$,,AUTO

     1741    14920    4               DO Z = 3 DOWNTO 0;

  14920  5 007301   000003 235007                    LDA     3,DL
         5 007302   200006 755100                    STA     Z,,AUTO

     1742    14921    4                   SPTR$ -> RUBYTE(Z) = MOD(TEMP1, 256);

  14921  5 007303   000422 236000 2                  LDQ     TEMP1
         5 007304   000377 376007                    ANQ     255,DL
         5 007305   200172 756100                    STQ     T+2,,AUTO
         5 007306   000415 470400 2                  LDP0    SPTR$
         5 007307   200006 235100                    LDA     Z,,AUTO
         5 007310   000105 101500                    MRL     fill='000'O
         5 007311   200172 000004                    ADSC9   T+2,,AUTO                cn=0,n=4
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:271  
         5 007312   000000 000001                    ADSC9   0,A,PR0                  cn=0,n=1

     1743    14922    4                   TEMP1 = TEMP1 / 256;

  14922  5 007313   000422 236000 2                  LDQ     TEMP1
         5 007314   000010 772000                    QRL     8
         5 007315   000422 756000 2                  STQ     TEMP1

     1744    14923    4                   END;

  14923  5 007316   000001 336007                    LCQ     1,DL
         5 007317   200006 056100                    ASQ     Z,,AUTO
         5 007320   007303 605000 5                  TPL     s:14921

     1745    14924    3               Q$ = PINCRW(NAME$,TPTR$->SECT_ENTRY.SECTION$->LL_SECTION.NPOINTER);

  14924  5 007321   200003 470500                    LDP0    @TPTR$,,AUTO
         5 007322   000000 471500                    LDP1    0,,PR0
         5 007323   100001 473500                    LDP3    1,,PR1
         5 007324   300001 220100                    LDX0    1,,PR3
         5 007325   000000 636010                    EAQ     0,X0
         5 007326   000411 036000 2                  ADLQ    NAME$
         5 007327   200062 756100                    STQ     Q$,,AUTO

     1746    14925    3               P$->B$STRING.COUNT = Q$->B$DNAME.COUNT;

  14925  5 007330   200062 474500                    LDP4    Q$,,AUTO
         5 007331   200061 475500                    LDP5    P$,,AUTO
         5 007332   000100 101500                    MRL     fill='000'O
         5 007333   400000 000002                    ADSC9   0,,PR4                   cn=0,n=2
         5 007334   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1

     1747    14926    3               P$->B$STRING.TEXT = Q$->B$DNAME.TEXT;

  14926  5 007335   000100 101500                    MRL     fill='000'O
         5 007336   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         5 007337   200172 000002                    ADSC9   T+2,,AUTO                cn=0,n=2
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:272  
         5 007340   200172 220100                    LDX0    T+2,,AUTO
         5 007341   400000 221100                    LDX1    0,,PR4
         5 007342   040140 100540                    MLR     fill='040'O
         5 007343   400000 400011                    ADSC9   0,,PR4                   cn=2,n=*X1
         5 007344   500000 200010                    ADSC9   0,,PR5                   cn=1,n=*X0

     1748    14927    3               TPTR$ = TPTR$ -> SECT_ENTRY.NEXT$;

  14927  5 007345   000000 471500                    LDP1    0,,PR0
         5 007346   100004 236100                    LDQ     4,,PR1
         5 007347   000000 756100                    STQ     0,,PR0

     1749    14928    3               TEMP = TEMP + 1; /*  One FEP pointer = 1 host word. */

  14928  5 007350   000421 054000 2                  AOS     TEMP

     1750    14929    3               END;

  14929  5 007351   000000 236100                    LDQ     0,,PR0
         5 007352   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 007353   007263 601000 5                  TNZ     s:14917

     1751    14930
     1752    14931         /*
     1753    14932            Phew!  More ugliness is behind us.  The DCB tables are
     1754    14933            initialized.  Now all that remains to be done is to rewrite the
     1755    14934            read only segment records.
     1756    14935         */
     1757    14936
     1758    14937    2           TEMP = LL_HEAD.ROSIZE;

  14937  5 007354   000010 236000 xsym               LDQ     LL_HEAD+8
         5 007355   777777 376007                    ANQ     -1,DL
         5 007356   000421 756000 2                  STQ     TEMP

     1759    14938    2           PRGKEY.ISADDR = 4096;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:273  
  14938  5 007357   000000 100400                    MLR     fill='000'O
         5 007360   000157 000004 6                  ADSC9   111                      cn=0,n=4
         5 007361   000435 400004 2                  ADSC9   PRGKEY                   cn=2,n=4

     1760    14939    2           TPTR$ = AVAIL$;

  14939  5 007362   200012 236100                    LDQ     AVAIL$,,AUTO
         5 007363   000000 756100                    STQ     0,,PR0

     1761    14940    3           DO WHILE ( TEMP > 0 );

  14940  5 007364   000421 235000 2                  LDA     TEMP
         5 007365   007443 604400 5                  TMOZ    s:14952

     1762    14941    4               IF TEMP > LL_PRECMEM THEN DO;

  14941  5 007366   000421 235000 2                  LDA     TEMP
         5 007367   004000 115007                    CMPA    2048,DL
         5 007370   007411 604400 5                  TMOZ    s:14947

     1763    14942    4                   CALL LLM$MON_SVC (LL#WRITERU, AVAIL$, LL_PRECBOUND, PRGKEY);

  14942  5 007371   000162 237000 6                  LDAQ    114
         5 007372   200174 757100                    STAQ    T+4,,AUTO
         5 007373   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 007374   200173 450500                    STP0    T+3,,AUTO
         5 007375   000114 236000 6                  LDQ     76
         5 007376   200172 756100                    STQ     T+2,,AUTO
         5 007377   200172 630500                    EPPR0   T+2,,AUTO
         5 007400   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 007401   000000 701000 xent               TSX1    LLM$MON_SVC
         5 007402   000000 011000                    NOP     0

     1764    14943    4                   AVAIL$ = PINCRW(AVAIL$, LL_PRECSIZE);

  14943  5 007403   200012 236100                    LDQ     AVAIL$,,AUTO
         5 007404   002000 036003                    ADLQ    1024,DU
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:274  
         5 007405   200012 756100                    STQ     AVAIL$,,AUTO

     1765    14944    4                   TEMP = TEMP - LL_PRECMEM;

  14944  5 007406   004000 336007                    LCQ     2048,DL
         5 007407   000421 056000 2                  ASQ     TEMP

     1766    14945    4                   END;

  14945  5 007410   007431 710000 5                  TRA     s:14950

     1767    14946    4               ELSE DO;

     1768    14947    4                   CALL LLM$MON_SVC (LL#WRITERU, AVAIL$, TEMP * 2 - 1, PRGKEY);

  14947  5 007411   000001 735000                    ALS     1
         5 007412   000001 135007                    SBLA    1,DL
         5 007413   200172 755100                    STA     T+2,,AUTO
         5 007414   000131 236000 6                  LDQ     89
         5 007415   200177 756100                    STQ     T+7,,AUTO
         5 007416   200172 630500                    EPPR0   T+2,,AUTO
         5 007417   200176 450500                    STP0    T+6,,AUTO
         5 007420   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 007421   200175 451500                    STP1    T+5,,AUTO
         5 007422   000114 236000 6                  LDQ     76
         5 007423   200174 756100                    STQ     T+4,,AUTO
         5 007424   200174 630500                    EPPR0   T+4,,AUTO
         5 007425   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 007426   000000 701000 xent               TSX1    LLM$MON_SVC
         5 007427   000000 011000                    NOP     0

     1769    14948    4                   TEMP = 0;

  14948  5 007430   000421 450000 2                  STZ     TEMP

     1770    14949    4                   END;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:275  
     1771    14950    3               PRGKEY.ISADDR = PRGKEY.ISADDR + LL_PRECMEM;

  14950  5 007431   000435 235000 2                  LDA     PRGKEY
         5 007432   000436 236000 2                  LDQ     PRGKEY+1
         5 007433   000022 773000                    LRL     18
         5 007434   004000 036007                    ADLQ    2048,DL
         5 007435   200172 756100                    STQ     T+2,,AUTO
         5 007436   000000 100500                    MLR     fill='000'O
         5 007437   200172 000004                    ADSC9   T+2,,AUTO                cn=0,n=4
         5 007440   000435 400004 2                  ADSC9   PRGKEY                   cn=2,n=4

     1772    14951    3               END;

  14951  5 007441   000421 235000 2                  LDA     TEMP
         5 007442   007366 605400 5                  TPNZ    s:14941

     1773    14952    2           AVAIL$ = TPTR$;

  14952  5 007443   200003 470500                    LDP0    @TPTR$,,AUTO
         5 007444   000000 236100                    LDQ     0,,PR0
         5 007445   200012 756100                    STQ     AVAIL$,,AUTO

     1774    14953    2           END;

     1775    14954
     1776    14955         /*
     1777    14956            Read the record that contains the patch area headers and stuff
     1778    14957            them with the right stuff.
     1779    14958         */
     1780    14959
     1781    14960    1       IF LL_IPATCH + LL_DPATCH > 0 THEN

  14960  5 007446   000000 236000 xsym               LDQ     LL_IPATCH
         5 007447   000000 036000 xsym               ADLQ    LL_DPATCH
         5 007450   007461 600000 5                  TZE     s:14962

     1782    14961    1           CALL LLM$MON_SVC (LL#GETMEM, LL_PRECSIZE, AVAIL$);
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:276  

  14961  5 007451   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 007452   200174 451500                    STP1    T+4,,AUTO
         5 007453   000024 237000 6                  LDAQ    20
         5 007454   200172 757100                    STAQ    T+2,,AUTO
         5 007455   200172 630500                    EPPR0   T+2,,AUTO
         5 007456   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 007457   000000 701000 xent               TSX1    LLM$MON_SVC
         5 007460   000000 011000                    NOP     0

     1783    14962    2       DO I = 0 TO 1;

  14962  5 007461   200007 450100                    STZ     I,,AUTO

     1784    14963    3           IF I = 0 THEN DO; /* data patch space */

  14963  5 007462   200007 235100                    LDA     I,,AUTO
         5 007463   007476 601000 5                  TNZ     s:14969

     1785    14964    3               IF LL_DPATCH > 0 THEN

  14964  5 007464   000000 236000 xsym               LDQ     LL_DPATCH
         5 007465   007473 600000 5                  TZE     s:14966

     1786    14965    3                   TEMP = DPATCH$->SECT_ENTRY.SECTION$->LL_SECTION.ISADDR;

  14965  5 007466   200163 470500                    LDP0    DPATCH$,,AUTO
         5 007467   000001 471500                    LDP1    1,,PR0
         5 007470   100000 236100                    LDQ     0,,PR1
         5 007471   000032 376000 xsym               ANQ     B_VECTNIL+26
         5 007472   000421 756000 2                  STQ     TEMP

     1787    14966    3               TEMP1 = LL_DPATCH;

  14966  5 007473   000000 236000 xsym               LDQ     LL_DPATCH
         5 007474   000422 756000 2                  STQ     TEMP1

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:277  
     1788    14967    3               END;

  14967  5 007475   007507 710000 5                  TRA     s:14973

     1789    14968    3           ELSE DO; /* procedure patch space */

     1790    14969    3               IF LL_IPATCH > 0 THEN

  14969  5 007476   000000 236000 xsym               LDQ     LL_IPATCH
         5 007477   007505 600000 5                  TZE     s:14971

     1791    14970    3                   TEMP = LL_T_CODE$ -> SECT_ENTRY.SECTION$ -> LL_SECTION.ISADDR;

  14970  5 007500   000000 470400 xsym               LDP0    LL_T_CODE$
         5 007501   000001 471500                    LDP1    1,,PR0
         5 007502   100000 236100                    LDQ     0,,PR1
         5 007503   000032 376000 xsym               ANQ     B_VECTNIL+26
         5 007504   000421 756000 2                  STQ     TEMP

     1792    14971    3               TEMP1 = LL_IPATCH;

  14971  5 007505   000000 236000 xsym               LDQ     LL_IPATCH
         5 007506   000422 756000 2                  STQ     TEMP1

     1793    14972    3               END;

     1794    14973    3           IF TEMP1 > 0 THEN DO; /* Initialize patch space */

  14973  5 007507   007634 600000 5                  TZE     s:14989

     1795    14974    3               PRGKEY.ISADDR = ( TEMP / LL_PRECMEM ) * LL_PRECMEM;

  14974  5 007510   000421 236000 2                  LDQ     TEMP
         5 007511   004000 506007                    DIV     2048,DL
         5 007512   000013 736000                    QLS     11
         5 007513   200172 756100                    STQ     T+2,,AUTO
         5 007514   000000 100500                    MLR     fill='000'O
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:278  
         5 007515   200172 000004                    ADSC9   T+2,,AUTO                cn=0,n=4
         5 007516   000435 400004 2                  ADSC9   PRGKEY                   cn=2,n=4

     1796    14975    3               TPTR$ = PINCRC(AVAIL$, ( TEMP - PRGKEY.ISADDR ) * 2);

  14975  5 007517   000435 235000 2                  LDA     PRGKEY
         5 007520   000436 236000 2                  LDQ     PRGKEY+1
         5 007521   000022 773000                    LRL     18
         5 007522   200172 756100                    STQ     T+2,,AUTO
         5 007523   000421 236000 2                  LDQ     TEMP
         5 007524   200172 136100                    SBLQ    T+2,,AUTO
         5 007525   000021 736000                    QLS     17
         5 007526   200012 036100                    ADLQ    AVAIL$,,AUTO
         5 007527   200003 470500                    LDP0    @TPTR$,,AUTO
         5 007530   000000 756100                    STQ     0,,PR0

     1797    14976    3               CALL LLM$MON_SVC (LL#READRU, AVAIL$, LL_PRECBOUND, PRGKEY);

  14976  5 007531   000162 237000 6                  LDAQ    114
         5 007532   200174 757100                    STAQ    T+4,,AUTO
         5 007533   200012 631500                    EPPR1   AVAIL$,,AUTO
         5 007534   200173 451500                    STP1    T+3,,AUTO
         5 007535   000161 236000 6                  LDQ     113
         5 007536   200172 756100                    STQ     T+2,,AUTO
         5 007537   200172 630500                    EPPR0   T+2,,AUTO
         5 007540   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 007541   000000 701000 xent               TSX1    LLM$MON_SVC
         5 007542   000000 011000                    NOP     0

     1798    14977    3               TEMP = TEMP + 3; /* Pointer to patch space */

  14977  5 007543   000003 236007                    LDQ     3,DL
         5 007544   000421 056000 2                  ASQ     TEMP

     1799    14978    4               DO Z = 3 DOWNTO 0;

  14978  5 007545   200006 756100                    STQ     Z,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:279  

     1800    14979    4                   TPTR$ -> RUBYTE(Z) = MOD(TEMP, 256);

  14979  5 007546   200003 470500                    LDP0    @TPTR$,,AUTO
         5 007547   000000 471500                    LDP1    0,,PR0
         5 007550   000421 236000 2                  LDQ     TEMP
         5 007551   000400 506007                    DIV     256,DL
         5 007552   000044 733000                    LRS     36
         5 007553   200172 756100                    STQ     T+2,,AUTO
         5 007554   200006 235100                    LDA     Z,,AUTO
         5 007555   000105 101500                    MRL     fill='000'O
         5 007556   200172 000004                    ADSC9   T+2,,AUTO                cn=0,n=4
         5 007557   100000 000001                    ADSC9   0,A,PR1                  cn=0,n=1

     1801    14980    4                   TEMP = TEMP / 256;

  14980  5 007560   000421 236000 2                  LDQ     TEMP
         5 007561   000400 506007                    DIV     256,DL
         5 007562   000421 756000 2                  STQ     TEMP

     1802    14981    4                   END;

  14981  5 007563   000001 336007                    LCQ     1,DL
         5 007564   200006 056100                    ASQ     Z,,AUTO
         5 007565   007546 605000 5                  TPL     s:14979

     1803    14982    4               DO Z = 5 DOWNTO 4;

  14982  5 007566   000005 235007                    LDA     5,DL
         5 007567   200006 755100                    STA     Z,,AUTO

     1804    14983    4                   TPTR$ -> RUBYTE(Z) = MOD(TEMP1, 256);

  14983  5 007570   200003 470500                    LDP0    @TPTR$,,AUTO
         5 007571   000000 471500                    LDP1    0,,PR0
         5 007572   000422 236000 2                  LDQ     TEMP1
         5 007573   000377 376007                    ANQ     255,DL
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:280  
         5 007574   200172 756100                    STQ     T+2,,AUTO
         5 007575   200006 235100                    LDA     Z,,AUTO
         5 007576   000105 101500                    MRL     fill='000'O
         5 007577   200172 000004                    ADSC9   T+2,,AUTO                cn=0,n=4
         5 007600   100000 000001                    ADSC9   0,A,PR1                  cn=0,n=1

     1805    14984    4                   TEMP1 = TEMP1 / 256;

  14984  5 007601   000422 236000 2                  LDQ     TEMP1
         5 007602   000010 772000                    QRL     8
         5 007603   000422 756000 2                  STQ     TEMP1

     1806    14985    4                   END;

  14985  5 007604   000001 336007                    LCQ     1,DL
         5 007605   200006 056100                    ASQ     Z,,AUTO
         5 007606   200006 235100                    LDA     Z,,AUTO
         5 007607   000004 115007                    CMPA    4,DL
         5 007610   007570 605000 5                  TPL     s:14983

     1807    14986    3               BOUND = DCBADDR(DCBNUM(M$RU)) -> B$DCB.ARS# - 1;

  14986  5 007611   000000 236007 xsym               LDQ     M$RU,DL
         5 007612   000072 471400 6                  LDP1    58
         5 007613   100000 473500                    LDP3    0,,PR1
         5 007614   300000 474506                    LDP4    0,QL,PR3
         5 007615   400000 235100                    LDA     0,,PR4
         5 007616   000001 135007                    SBLA    1,DL
         5 007617   200045 755100                    STA     BOUND,,AUTO

     1808    14987    3               CALL LLM$MON_SVC (LL#WRITERU, AVAIL$, BOUND, PRGKEY);

  14987  5 007620   000131 236000 6                  LDQ     89
         5 007621   200175 756100                    STQ     T+5,,AUTO
         5 007622   200045 634500                    EPPR4   BOUND,,AUTO
         5 007623   200174 454500                    STP4    T+4,,AUTO
         5 007624   200012 635500                    EPPR5   AVAIL$,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:281  
         5 007625   200173 455500                    STP5    T+3,,AUTO
         5 007626   000114 236000 6                  LDQ     76
         5 007627   200172 756100                    STQ     T+2,,AUTO
         5 007630   200172 630500                    EPPR0   T+2,,AUTO
         5 007631   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 007632   000000 701000 xent               TSX1    LLM$MON_SVC
         5 007633   000000 011000                    NOP     0

     1809    14988    3               END;

     1810    14989    2           END;

  14989  5 007634   200007 054100                    AOS     I,,AUTO
         5 007635   200007 235100                    LDA     I,,AUTO
         5 007636   000001 115007                    CMPA    1,DL
         5 007637   007462 604400 5                  TMOZ    s:14963

     1811    14990
     1812    14991         /*
     1813    14992            Provide G$TCB$ and G$ROS$ pointers.  Addresses to poke are in
     1814    14993            G_TCB_ADDRESS and G_ROS_ADDRESS.  Location of the pointers are
     1815    14994            at the first two words of procedure for G$TCB$ and the second
     1816    14995            two words of procedure for G$ROS$.
     1817    14996         */
     1818    14997
     1819    14998    1       IF NOT LL_FLAGS.NOEDITING#

  14998  5 007640   000000 236000 xsym               LDQ     LL_FLAGS
         5 007641   020000 316003                    CANQ    8192,DU
         5 007642   010007 601000 5                  TNZ     s:15026

     1820    14999    1       THEN
     1821    15000    2       DO;

     1822    15001    2           PRGKEY.ISADDR = (LL_PROC_START/LL_PRECMEM) * LL_PRECMEM;

  15001  5 007643   000000 236000 xsym               LDQ     LL_PROC_START
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:282  
         5 007644   000013 772000                    QRL     11
         5 007645   000013 736000                    QLS     11
         5 007646   200172 756100                    STQ     T+2,,AUTO
         5 007647   000000 100500                    MLR     fill='000'O
         5 007650   200172 000004                    ADSC9   T+2,,AUTO                cn=0,n=4
         5 007651   000435 400004 2                  ADSC9   PRGKEY                   cn=2,n=4

     1823    15002    2           CALL LLM$MON_SVC (LL#READRU, AVAIL$, LL_PRECBOUND, PRGKEY);

  15002  5 007652   000162 237000 6                  LDAQ    114
         5 007653   200174 757100                    STAQ    T+4,,AUTO
         5 007654   200012 630500                    EPPR0   AVAIL$,,AUTO
         5 007655   200173 450500                    STP0    T+3,,AUTO
         5 007656   000161 236000 6                  LDQ     113
         5 007657   200172 756100                    STQ     T+2,,AUTO
         5 007660   200172 630500                    EPPR0   T+2,,AUTO
         5 007661   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 007662   000000 701000 xent               TSX1    LLM$MON_SVC
         5 007663   000000 011000                    NOP     0

     1824    15003    3           DO I = 0 TO 1;

  15003  5 007664   200007 450100                    STZ     I,,AUTO

     1825    15004    4               IF I = 0 THEN DO; /* G$TCB$ */

  15004  5 007665   200007 235100                    LDA     I,,AUTO
         5 007666   007703 601000 5                  TNZ     s:15009

     1826    15005    4                   SPTR$ = PINCRW(AVAIL$,LL_PROC_START-PRGKEY.ISADDR);

  15005  5 007667   000435 235000 2                  LDA     PRGKEY
         5 007670   000436 236000 2                  LDQ     PRGKEY+1
         5 007671   000022 773000                    LRL     18
         5 007672   200172 756100                    STQ     T+2,,AUTO
         5 007673   000000 236000 xsym               LDQ     LL_PROC_START
         5 007674   200172 136100                    SBLQ    T+2,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:283  
         5 007675   000022 736000                    QLS     18
         5 007676   200012 036100                    ADLQ    AVAIL$,,AUTO
         5 007677   000415 756000 2                  STQ     SPTR$

     1827    15006    4                   TEMP = LL_TCB_ADDRESS;

  15006  5 007700   000000 235000 xsym               LDA     LL_TCB_ADDRESS
         5 007701   000421 755000 2                  STA     TEMP

     1828    15007    4                   END;

  15007  5 007702   007710 710000 5                  TRA     s:15012

     1829    15008    4               ELSE DO;

     1830    15009    4                   SPTR$ = PINCRW(SPTR$,1);

  15009  5 007703   000415 236000 2                  LDQ     SPTR$
         5 007704   000001 036003                    ADLQ    1,DU
         5 007705   000415 756000 2                  STQ     SPTR$

     1831    15010    4                   TEMP = LL_ROS_ADDRESS;

  15010  5 007706   000000 235000 xsym               LDA     LL_ROS_ADDRESS
         5 007707   000421 755000 2                  STA     TEMP

     1832    15011    4                   END;

     1833    15012    4               DO Z = 3 DOWNTO 0;

  15012  5 007710   000003 235007                    LDA     3,DL
         5 007711   200006 755100                    STA     Z,,AUTO

     1834    15013    4                   SPTR$ -> RUBYTE(Z) = MOD(TEMP, 256);

  15013  5 007712   000421 236000 2                  LDQ     TEMP
         5 007713   000400 506007                    DIV     256,DL
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:284  
         5 007714   000044 733000                    LRS     36
         5 007715   200172 756100                    STQ     T+2,,AUTO
         5 007716   000415 470400 2                  LDP0    SPTR$
         5 007717   200006 235100                    LDA     Z,,AUTO
         5 007720   000105 101500                    MRL     fill='000'O
         5 007721   200172 000004                    ADSC9   T+2,,AUTO                cn=0,n=4
         5 007722   000000 000001                    ADSC9   0,A,PR0                  cn=0,n=1

     1835    15014    4                   TEMP = TEMP / 256;

  15014  5 007723   000421 236000 2                  LDQ     TEMP
         5 007724   000400 506007                    DIV     256,DL
         5 007725   000421 756000 2                  STQ     TEMP

     1836    15015    4                   END;

  15015  5 007726   000001 336007                    LCQ     1,DL
         5 007727   200006 056100                    ASQ     Z,,AUTO
         5 007730   007712 605000 5                  TPL     s:15013

     1837    15016    3               END;

  15016  5 007731   200007 054100                    AOS     I,,AUTO
         5 007732   200007 235100                    LDA     I,,AUTO
         5 007733   000001 115007                    CMPA    1,DL
         5 007734   007665 604400 5                  TMOZ    s:15004

     1838    15017    2           SPTR$ = PINCRW(SPTR$,1);

  15017  5 007735   000415 236000 2                  LDQ     SPTR$
         5 007736   000001 036003                    ADLQ    1,DU
         5 007737   000415 756000 2                  STQ     SPTR$

     1839    15018    2           SPTR$ -> RUBYTE(0) = LL_VERSION.SIZE;

  15018  5 007740   000415 470400 2                  LDP0    SPTR$
         5 007741   000100 100400                    MLR     fill='000'O
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:285  
         5 007742   000000 000001 xsym               ADSC9   LL_VERSION               cn=0,n=1
         5 007743   000000 000001                    ADSC9   0,,PR0                   cn=0,n=1

     1840    15019    3           DO Z = 1 TO 6;

  15019  5 007744   000001 236007                    LDQ     1,DL
         5 007745   200006 756100                    STQ     Z,,AUTO

     1841    15020    3               SPTR$ -> RUBYTE(Z) = ASCBIN(SUBSTR(LL_VERSION.TEXT, Z - 1, 1));

  15020  5 007746   200006 235100                    LDA     Z,,AUTO
         5 007747   000100 101405                    MRL     fill='000'O
         5 007750   000000 000001 xsym               ADSC9   LL_VERSION,A             cn=0,n=1
         5 007751   200172 000004                    ADSC9   T+2,,AUTO                cn=0,n=4
         5 007752   200172 236100                    LDQ     T+2,,AUTO
         5 007753   200173 756100                    STQ     T+3,,AUTO
         5 007754   000415 470400 2                  LDP0    SPTR$
         5 007755   000105 101500                    MRL     fill='000'O
         5 007756   200173 000004                    ADSC9   T+3,,AUTO                cn=0,n=4
         5 007757   000000 000001                    ADSC9   0,A,PR0                  cn=0,n=1

     1842    15021    3               END;

  15021  5 007760   200006 054100                    AOS     Z,,AUTO
         5 007761   200006 235100                    LDA     Z,,AUTO
         5 007762   000006 115007                    CMPA    6,DL
         5 007763   007746 604400 5                  TMOZ    s:15020

     1843    15022    2           BOUND = DCBADDR(DCBNUM(M$RU)) -> B$DCB.ARS# - 1;

  15022  5 007764   000000 236007 xsym               LDQ     M$RU,DL
         5 007765   000072 470400 6                  LDP0    58
         5 007766   000000 471500                    LDP1    0,,PR0
         5 007767   100000 473506                    LDP3    0,QL,PR1
         5 007770   300000 235100                    LDA     0,,PR3
         5 007771   000001 135007                    SBLA    1,DL
         5 007772   200045 755100                    STA     BOUND,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:286  

     1844    15023    2           CALL LLM$MON_SVC (LL#WRITERU, AVAIL$, BOUND, PRGKEY);

  15023  5 007773   000131 236000 6                  LDQ     89
         5 007774   200175 756100                    STQ     T+5,,AUTO
         5 007775   200045 633500                    EPPR3   BOUND,,AUTO
         5 007776   200174 453500                    STP3    T+4,,AUTO
         5 007777   200012 634500                    EPPR4   AVAIL$,,AUTO
         5 010000   200173 454500                    STP4    T+3,,AUTO
         5 010001   000114 236000 6                  LDQ     76
         5 010002   200172 756100                    STQ     T+2,,AUTO
         5 010003   200172 630500                    EPPR0   T+2,,AUTO
         5 010004   000022 631400 xsym               EPPR1   B_VECTNIL+18
         5 010005   000000 701000 xent               TSX1    LLM$MON_SVC
         5 010006   000000 011000                    NOP     0

     1845    15024    2           END;

     1846    15025
     1847    15026    1       TPTR$ = LL_R_OU$;

  15026  5 010007   000000 236000 xsym               LDQ     LL_R_OU$
         5 010010   200003 470500                    LDP0    @TPTR$,,AUTO
         5 010011   000000 756100                    STQ     0,,PR0

     1848    15027    1       IF NOT LL_FLAGS.NOALT# THEN

  15027  5 010012   000000 236000 xsym               LDQ     LL_FLAGS
         5 010013   200000 316007                    CANQ    65536,DL
         5 010014   010043 601000 5                  TNZ     s:15036

     1849    15028    2       DO WHILE ( TPTR$ ~= ADDR(NIL) AND LL_HEAD.ASLNAME.CNT = 0 );

  15028  5 010015   010035 710000 5                  TRA     s:15035

     1850    15029    2           SPTR$ = TPTR$ -> OU_ENTRY.HEAD$;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:287  
  15029  5 010016   200003 470500                    LDP0    @TPTR$,,AUTO
         5 010017   000000 471500                    LDP1    0,,PR0
         5 010020   100013 236100                    LDQ     11,,PR1
         5 010021   000415 756000 2                  STQ     SPTR$

     1851    15030    3           IF SPTR$ -> B$OUHEAD.ASLNAMSIZ ~= 0 THEN DO;

  15030  5 010022   000415 471400 2                  LDP1    SPTR$
         5 010023   100025 236100                    LDQ     21,,PR1
         5 010024   777000 316003                    CANQ    -512,DU
         5 010025   010032 600000 5                  TZE     s:15034

     1852    15031    3               LL_HEAD.ASLNAME.CNT = SPTR$ -> B$OUHEAD.ASLNAMSIZ;

  15031  5 010026   000040 552040 xsym               STBQ    LL_HEAD+32,'40'O

     1853    15032    3               LL_HEAD.ASLNAME.TXT = SPTR$ -> B$OUHEAD.ASLNAM;

  15032  5 010027   040000 100500                    MLR     fill='040'O
         5 010030   100025 200037                    ADSC9   21,,PR1                  cn=1,n=31
         5 010031   000040 200037 xsym               ADSC9   LL_HEAD+32               cn=1,n=31

     1854    15033    3               END;

     1855    15034    2           TPTR$ = TPTR$ -> OU_ENTRY.NEXT$;

  15034  5 010032   000000 473500                    LDP3    0,,PR0
         5 010033   300001 236100                    LDQ     1,,PR3
         5 010034   000000 756100                    STQ     0,,PR0

     1856    15035    2           END;

  15035  5 010035   000000 236100                    LDQ     0,,PR0
         5 010036   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 010037   010043 600000 5                  TZE     s:15036
         5 010040   000040 236000 xsym               LDQ     LL_HEAD+32
         5 010041   777000 316003                    CANQ    -512,DU
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:288  
         5 010042   010016 600000 5                  TZE     s:15029

     1857    15036    1       TPTR$ = AVAIL$;

  15036  5 010043   200012 236100                    LDQ     AVAIL$,,AUTO
         5 010044   000000 756100                    STQ     0,,PR0

     1858    15037    1       RETURN;

  15037  5 010045   000000 702200 xent               TSX2  ! X66_ARET

     1859    15038        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:289  
     1860    15039    1   NO_FILE:
     1861    15040    1       CALL INSERT (LL_DOBUF,0,,

  15040  5 010046   040000 100400       NO_FILE      MLR     fill='040'O
         5 010047   000757 000036 3                  ADSC9   UNUSED_DATA_NAME+412     cn=0,n=30
         5 010050   000000 000036 xsym               ADSC9   LL_DOBUF                 cn=0,n=30
         5 010051   040000 100400                    MLR     fill='040'O
         5 010052   000767 000052 3                  ADSC9   UNUSED_DATA_NAME+420     cn=0,n=42
         5 010053   000007 400122 xsym               ADSC9   LL_DOBUF+7               cn=2,n=82

     1862    15041    1          'A ***Missing object file(s) - ',
     1863    15042    1          'continuing for file existence checks only:');
     1864    15043    1       CALL LLM$MON_SVC (LL#WRITEDO);

  15043  5 010054   000015 630400 6                  EPPR0   13
         5 010055   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 010056   000000 701000 xent               TSX1    LLM$MON_SVC
         5 010057   000000 011000                    NOP     0

     1865    15044    1       NO_FID# = '1'B;

  15044  5 010060   400000 236003                    LDQ     -131072,DU
         5 010061   200046 756100                    STQ     NO_FID#,,AUTO

     1866    15045    1   PRINT_NAME:
     1867    15046    2       DO WHILE (I < LL_NOU);

  15046  5 010062   200007 236100       PRINT_NAME   LDQ     I,,AUTO
         5 010063   010066 604000 5                  TMI     s:15047
         5 010064   000000 116000 xsym               CMPQ    LL_NOU
         5 010065   010137 603000 5                  TRC     s:15063

     1868    15047    3           IF (NO_FID#) THEN DO;

  15047  5 010066   200046 234100                    SZN     NO_FID#,,AUTO
         5 010067   010102 605000 5                  TPL     s:15053

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:290  
     1869    15048    3               CALL INSERT (LL_DOBUF,0,,

  15048  5 010070   040000 100400                    MLR     fill='040'O
         5 010071   001002 000033 3                  ADSC9   UNUSED_DATA_NAME+431     cn=0,n=27
         5 010072   000000 000033 xsym               ADSC9   LL_DOBUF                 cn=0,n=27
         5 010073   040000 100400                    MLR     fill='040'O
         5 010074   000000 000064 xsym               ADSC9   LL_FIRSTFID              cn=0,n=52
         5 010075   000006 600125 xsym               ADSC9   LL_DOBUF+6               cn=3,n=85

     1870    15049    3                  'A         Cannot find file ',
     1871    15050    3                  LL_FIRSTFID);
     1872    15051    3               CALL LLM$MON_SVC (LL#WRITEDO);

  15051  5 010076   000015 630400 6                  EPPR0   13
         5 010077   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 010100   000000 701000 xent               TSX1    LLM$MON_SVC
         5 010101   000000 011000                    NOP     0

     1873    15052    3               END;

     1874    15053    2           I = I + 1;

  15053  5 010102   200007 054100                    AOS     I,,AUTO

     1875    15054    3           IF ( I < LL_NOU ) THEN DO;

  15054  5 010103   200007 236100                    LDQ     I,,AUTO
         5 010104   010107 604000 5                  TMI     s:15055
         5 010105   000000 116000 xsym               CMPQ    LL_NOU
         5 010106   010133 603000 5                  TRC     s:15062

     1876    15055    3               LL_FIRSTFID = LL_OF$->OU_FID.NAME(I);

  15055  5 010107   000070 402007                    MPY     56,DL
         5 010110   000000 470400 xsym               LDP0    LL_OF$
         5 010111   040000 100506                    MLR     fill='040'O
         5 010112   000000 000062                    ADSC9   0,Q,PR0                  cn=0,n=50
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:291  
         5 010113   000000 000064 xsym               ADSC9   LL_FIRSTFID              cn=0,n=52

     1877    15056    3               CALL LLM$MON_SVC (LL#FID);

  15056  5 010114   000001 630400 6                  EPPR0   1
         5 010115   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 010116   000000 701000 xent               TSX1    LLM$MON_SVC
         5 010117   000000 011000                    NOP     0

     1878    15057    3               NO_FID# = '1'B;

  15057  5 010120   400000 236003                    LDQ     -131072,DU
         5 010121   200046 756100                    STQ     NO_FID#,,AUTO

     1879    15058    3               CALL LLM$MON_SVC (LL#OPENEF) ALTRET (PRINT_NAME);

  15058  5 010122   000003 630400 6                  EPPR0   3
         5 010123   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 010124   000000 701000 xent               TSX1    LLM$MON_SVC
         5 010125   010062 702000 5                  TSX2    PRINT_NAME

     1880    15059    3               NO_FID# = '0'B;

  15059  5 010126   200046 450100                    STZ     NO_FID#,,AUTO

     1881    15060    3               CALL LLM$MON_SVC (LL#CLOSEEF);

  15060  5 010127   000056 630400 6                  EPPR0   46
         5 010130   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 010131   000000 701000 xent               TSX1    LLM$MON_SVC
         5 010132   000000 011000                    NOP     0

     1882    15061    3               END;

     1883    15062    2           END;

  15062  5 010133   200007 236100                    LDQ     I,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:292  
         5 010134   010066 604000 5                  TMI     s:15047
         5 010135   000000 116000 xsym               CMPQ    LL_NOU
         5 010136   010066 602000 5                  TNC     s:15047

     1884    15063    1       CALL LLM$MON_SVC (LL#ERR);

  15063  5 010137   000060 630400 6                  EPPR0   48
         5 010140   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 010141   000000 701000 xent               TSX1    LLM$MON_SVC
         5 010142   000000 011000                    NOP     0

     1885    15064
     1886    15065    1       RETURN;

  15065  5 010143   000000 702200 xent               TSX2  ! X66_ARET

     1887    15066        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:293  
     1888    15067        /*I*
     1889    15068        NAME: ADD_TABLE_ARRAY
     1890    15069        PURPOSE: Build Table record for M:FEP ru
     1891    15070        DESCRIPTION:
     1892    15071            The table record will inform the booter which segments are needed and
     1893    15072            how big they are.  This fills in an entry for the LAST segment that we
     1894    15073            put something in.  We do this last because we need the high address to
     1895    15074            calculate the size.
     1896    15075        */
     1897    15076
     1898    15077    1   ADD_TABLE_ARRAY: PROC;

  15077  5 010144   200166 741300       ADD_TABLE_A* STX1  ! DATA$+2,,AUTO

     1899    15078
     1900    15079    2       Z = ADDRESS - LOCATION ;

  15079  5 010145   200041 236100                    LDQ     ADDRESS,,AUTO
         5 010146   200040 136100                    SBLQ    LOCATION,,AUTO
         5 010147   200006 756100                    STQ     Z,,AUTO

     1901    15080    2       IF Z > 0 AND

  15080  5 010150   010210 604400 5                  TMOZ    s:15091
         5 010151   000000 236000 xsym               LDQ     LL_FLAGS
         5 010152   040000 316007                    CANQ    16384,DL
         5 010153   010210 600000 5                  TZE     s:15091

     1902    15081    2          LL_FLAGS.BIAS_OU
     1903    15082    3       THEN DO;

     1904    15083    3           TABLE_ARRAY.START(TABLE_ARRAY_INX) = LOCATION;

  15083  5 010154   200063 235100                    LDA     TABLE_ARRAY_INX,,AUTO
         5 010155   000001 735000                    ALS     1
         5 010156   200040 236100                    LDQ     LOCATION,,AUTO
         5 010157   200065 756105                    STQ     TABLE_ARRAY+1,AL,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:294  

     1905    15084    3           TABLE_ARRAY.SIZE(TABLE_ARRAY_INX) = Z ;

  15084  5 010160   200006 236100                    LDQ     Z,,AUTO
         5 010161   200064 676105                    ERQ     TABLE_ARRAY,AL,AUTO
         5 010162   000031 376000 xsym               ANQ     B_VECTNIL+25
         5 010163   200064 656105                    ERSQ    TABLE_ARRAY,AL,AUTO

     1906    15085    3           TABLE_ARRAY.TYPE(TABLE_ARRAY_INX) = (I = 2);

  15085  5 010164   400000 220003                    LDX0    -131072,DU
         5 010165   200007 236100                    LDQ     I,,AUTO
         5 010166   000002 116007                    CMPQ    2,DL
         5 010167   010171 600000 5                  TZE     s:15085+5
         5 010170   000000 220003                    LDX0    0,DU
         5 010171   000000 636010                    EAQ     0,X0
         5 010172   200064 676105                    ERQ     TABLE_ARRAY,AL,AUTO
         5 010173   400000 376003                    ANQ     -131072,DU
         5 010174   200064 656105                    ERSQ    TABLE_ARRAY,AL,AUTO

     1907    15086    3           BIAS_OU_WORD = BIAS_OU_WORD + Z;

  15086  5 010175   200051 236100                    LDQ     BIAS_OU_WORD,,AUTO
         5 010176   000020 772000                    QRL     16
         5 010177   200006 036100                    ADLQ    Z,,AUTO
         5 010200   000020 736000                    QLS     16
         5 010201   200051 756100                    STQ     BIAS_OU_WORD,,AUTO

     1908    15087    3           TABLE_ARRAY_INX = TABLE_ARRAY_INX + 1;

  15087  5 010202   200063 054100                    AOS     TABLE_ARRAY_INX,,AUTO

     1909    15088    3           IF TABLE_ARRAY_INX = 30 THEN CALL M$XXX;

  15088  5 010203   200063 235100                    LDA     TABLE_ARRAY_INX,,AUTO
         5 010204   000036 115007                    CMPA    30,DL
         5 010205   010210 601000 5                  TNZ     s:15091
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:295  

  15088  5 010206   000003 713400                    CLIMB   3
         5 010207   000000 401760                    pmme    nvectors=0

     1910    15089    3           END;

     1911    15090
     1912    15091    2   END ADD_TABLE_ARRAY;

  15091  5 010210   200166 221300                    LDX1  ! DATA$+2,,AUTO
         5 010211   000001 702211                    TSX2  ! 1,X1

     1913    15092        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:296  
     1914    15093        /*I*
     1915    15094        NAME: BOUND_UP
     1916    15095        PURPOSE: Bound up to next segment
     1917    15096        DESCRIPTION:
     1918    15097            Given an address, return an adusted address which is the beginning
     1919    15098            of the next FEP segment.
     1920    15099        */
     1921    15100
     1922    15101    1   BOUND_UP: PROC( P_ADDRESS );

  15101  5 010212   200166 741300       BOUND_UP     STX1  ! DATA$+2,,AUTO

     1923    15102
     1924    15103    2   DCL P_ADDRESS UBIN WORD PARAM;
     1925    15104
     1926    15105    2       IF P_ADDRESS < 65536

  15105  5 010213   200167 470500                    LDP0    @P_ADDRESS,,AUTO
         5 010214   000000 235100                    LDA     0,,PR0
         5 010215   200000 115007                    CMPA    65536,DL
         5 010216   010225 603000 5                  TRC     s:15109

     1927    15106    2       THEN
     1928    15107    2           P_ADDRESS = ((P_ADDRESS+4096)/4096)*4096;

  15107  5 010217   000000 236100                    LDQ     0,,PR0
         5 010220   010000 036007                    ADLQ    4096,DL
         5 010221   000014 772000                    QRL     12
         5 010222   000014 736000                    QLS     12
         5 010223   000000 756100                    STQ     0,,PR0
         5 010224   010242 710000 5                  TRA     s:15115

     1929    15108    2       ELSE
     1930    15109    2           IF P_ADDRESS >= LL#MON_BIAS

  15109  5 010225   000164 115000 6                  CMPA    116
         5 010226   010235 602000 5                  TNC     s:15113
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:297  

     1931    15110    2           THEN
     1932    15111    2               P_ADDRESS=((P_ADDRESS+LL_PRECMEM-1)/LL_PRECMEM)*LL_PRECMEM;

  15111  5 010227   000000 236100                    LDQ     0,,PR0
         5 010230   003777 036007                    ADLQ    2047,DL
         5 010231   000013 772000                    QRL     11
         5 010232   000013 736000                    QLS     11
         5 010233   000000 756100                    STQ     0,,PR0
         5 010234   010242 710000 5                  TRA     s:15115

     1933    15112    2           ELSE
     1934    15113    2               P_ADDRESS=((P_ADDRESS+65536)/65536)*65536;

  15113  5 010235   000000 236100                    LDQ     0,,PR0
         5 010236   200000 036007                    ADLQ    65536,DL
         5 010237   000020 772000                    QRL     16
         5 010240   000020 736000                    QLS     16
         5 010241   000000 756100                    STQ     0,,PR0

     1935    15114
     1936    15115    2   END BOUND_UP;

  15115  5 010242   200166 221300                    LDX1  ! DATA$+2,,AUTO
         5 010243   000001 702211                    TSX2  ! 1,X1

     1937    15116        %EJECT;
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:298  
     1938    15117        /*I*
     1939    15118        NAME: ADD_NAME
     1940    15119        PURPOSE: Add a linker-supplied name to the defnames record.
     1941    15120        DESCRIPTION:
     1942    15121            The argument is a B$DNAME structure to be added to the end of
     1943    15122            defnames.  Memory is allocated if necessary, and PSIZE is then
     1944    15123            incremented past the new name.
     1945    15124        */
     1946    15125
     1947    15126    1   ADD_NAME: PROC (NEW_NAME);

  15126  5 010244   200166 741300       ADD_NAME     STX1  ! DATA$+2,,AUTO

     1948    15127
     1949    15128        %B$DNAME (NAME = NEW_NAME,
     1950    15129         STCLASS = PARAM);
     1951    15148
     1952    15149    2   DCL T UBIN;
     1953    15150
     1954    15151    2       T = PSIZE + SIZEW(NEW_NAME);

  15151  5 010245   200167 470500                    LDP0    @NEW_NAME,,AUTO
         5 010246   000000 220100                    LDX0    0,,PR0
         5 010247   000002 622010                    EAX2    2,X0
         5 010250   000000 636012                    EAQ     0,X2
         5 010251   000022 772000                    QRL     18
         5 010252   000011 402007                    MPY     9,DL
         5 010253   000043 036007                    ADLQ    35,DL
         5 010254   000044 506007                    DIV     36,DL
         5 010255   200011 036100                    ADLQ    PSIZE,,AUTO
         5 010256   200170 756100                    STQ     T,,AUTO

     1955    15152    2       IF T>LL_DNAME_VEC.BOUND

  15152  5 010257   000000 236000 xsym               LDQ     LL_DNAME_VEC
         5 010260   000022 772000                    QRL     18
         5 010261   200170 116100                    CMPQ    T,,AUTO
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:299  
         5 010262   010274 603000 5                  TRC     s:15156

     1956    15153    3       THEN CALL M$GDS (DNAME_FPT) WHENALTRETURN DO;

  15153  5 010263   000000 630400 3                  EPPR0   DNAME_FPT
         5 010264   430001 713400                    CLIMB   alt,gds
         5 010265   400400 401760                    pmme    nvectors=2
         5 010266   010270 702000 5                  TSX2    s:15154
         5 010267   010274 710000 5                  TRA     s:15156

     1957    15154    3               CALL LLM$MON_SVC (LL#GETMEM);

  15154  5 010270   000000 630400 6                  EPPR0   0
         5 010271   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 010272   000000 701000 xent               TSX1    LLM$MON_SVC
         5 010273   000000 011000                    NOP     0

     1958    15155    3               END;

     1959    15156    2       PINCRW(NAME$,PSIZE)->B$DNAME.COUNT = NEW_NAME.COUNT;

  15156  5 010274   200167 470500                    LDP0    @NEW_NAME,,AUTO
         5 010275   000000 220100                    LDX0    0,,PR0
         5 010276   000411 471400 2                  LDP1    NAME$
         5 010277   200011 721100                    LXL1    PSIZE,,AUTO
         5 010300   100000 740111                    STX0    0,X1,PR1

     1960    15157    2       PINCRW(NAME$,PSIZE)->B$DNAME.TEXT = NEW_NAME.TEXT;

  15157  5 010301   000411 471400 2                  LDP1    NAME$
         5 010302   100000 220111                    LDX0    0,X1,PR1
         5 010303   000000 222100                    LDX2    0,,PR0
         5 010304   200011 235100                    LDA     PSIZE,,AUTO
         5 010305   000002 735000                    ALS     2
         5 010306   040145 100540                    MLR     fill='040'O
         5 010307   000000 400012                    ADSC9   0,,PR0                   cn=2,n=*X2
         5 010310   100000 400010                    ADSC9   0,A,PR1                  cn=2,n=*X0
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:300  

     1961    15158    2       PSIZE = T;

  15158  5 010311   200170 236100                    LDQ     T,,AUTO
         5 010312   200011 756100                    STQ     PSIZE,,AUTO

     1962    15159    2       RETURN;

  15159  5 010313   200166 221300                    LDX1  ! DATA$+2,,AUTO
         5 010314   000001 702211                    TSX2  ! 1,X1
     1963    15160    2   END ADD_NAME;
     1964    15161    1   END LLB$PASS1;

PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:301  
--  Include file information  --

   GF_DCB_E.:E05TOU  is referenced.
   B_ERRORS_C.:E05TOU  is referenced.
   LL_MACS_C.:E05TOU  is referenced.
   LL_SUBS_C.:E05TOU  is referenced.
   LL_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   G_LCP6_E.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
      No diagnostics issued in procedure LLB$PASS1.
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:302  

 **** Variables and constants ****

  ****  Section 002  Data  LLB$PASS1

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(72)    r     1 B$OUKEY                    6-0-0/w STRC(54)    r     1 B$RUKEY
     2-0-0/w STRC(72)    r     1 B$SECTABLE                 4-0-0/w STRC(54)    r     1 B$SECTABLEKEY
   250-0-0/d STRC(1080)  r     1 CLOSE_SLIB
   431-0-0/b BIT         r     1 DCB_ALLOCATED(0:5)
   423-0-0/w UBIN        r     1 DCB_NPOINTERS(0:5)
   414-0-0/w PTR         r     1 DPTR$                    376-0-0/w STRC(297)   r     1 EF_KEY
   226-0-0/d STRC(324)   r     1 FID_RESULTS               62-0-0/d STRC(864)   r     1 FID_SLIB
   420-0-0/w UBIN        r     1 K                        246-0-0/c CHAR(8)     r     1 LIB_ACCT
   326-0-0/w STRC(72)    r     1 LOCATION_ARRAY(0:19)
   437-0-0/w BIT         r     1 MULT_STRT#               411-0-0/w PTR         r     1 NAME$
   412-0-0/w PTR         r     1 NEW$                     416-0-0/w UBIN        r     1 NPTR
   130-0-0/d STRC(2088)  r     1 OPEN_SLIB                435-0-0/w STRC(54)    r     1 PRGKEY
   432-0-0/w UBIN        r     1 PROGSIZE                 310-0-0/d STRC(504)   r     1 READ_SLIB
   112-0-0/d STRC(504)   r     1 READ_SLIB_HEAD            10-0-0/w STRC(45)    r     1 RU_KEY
   410-0-0/w PTR         r     1 SECT$                    222-0-0/c STRC(72)    r     1 SLIB_ACCT
    12-0-0/w STRC(1440)  r     1 SLIB_HEAD                306-0-0/w STRC(54)    r     1 SLIB_KEY
   224-0-0/c STRC(72)    r     1 SLIB_PASS                415-0-0/w PTR         r     1 SPTR$
   433-0-0/w STRC(63)    r     1 STRING                   421-0-0/w SBIN        r     1 TEMP
   422-0-0/w UBIN        r     1 TEMP1                    417-0-0/w UBIN        r     1 TYPE
   407-0-0/w PTR         r     1 T_OU$                    242-0-0/d STRC(90)    r     1 VLP_SN
   240-0-0/c STRC(72)    r     1 VLP_WSN                  413-0-0/w UBIN        r     1 X

  ****  Section 003 RoData LLB$PASS1

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    35-0-0/w PTR         r     1 DCBNAME$(0:5)
     0-0-0/d STRC(216)   r     1 DNAME_FPT                105-0-0/w STRC(108)   r     1 G_AUTO_DS_NAME
   110-0-0/w STRC(99)    r     1 G_AUTO_T_NAME            103-0-0/w STRC(72)    r     1 G_JIT_NAME
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:303  
    72-0-0/w STRC(99)    r     1 G_PATCHDH_NAME            67-0-0/w STRC(90)    r     1 G_PATCHD_NAME
    64-0-0/w STRC(99)    r     1 G_PATCHIH_NAME            61-0-0/w STRC(90)    r     1 G_PATCHI_NAME
   101-0-0/w STRC(72)    r     1 G_PIA_NAME                75-0-0/w STRC(72)    r     1 G_ROS_NAME
    77-0-0/w STRC(72)    r     1 G_TCB_NAME                56-0-0/w STRC(99)    r     1 G_VERSION_NAME
   113-0-0/w STRC(279)   r     1 LINK_SUPPLIED_NAMES       10-0-0/w STRC(756)   r     1 LL_OU_ENTRY
     6-0-0/w STRC(54)    r     1 RUBIRTHKEY                43-0-0/w STRC(81)    r     1 TM$DEBUG
    54-0-0/w STRC(54)    r     1 TM$DO                     52-0-0/w STRC(72)    r     1 TM$HOST
    46-0-0/w STRC(54)    r     1 TM$LM                     50-0-0/w STRC(54)    r     1 TM$ME
   123-0-0/w STRC(135)   r     1 UNUSED_DATA_NAME

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   167-0-0/w PTR         r     1 @NEW_NAME                167-0-0/w PTR         r     1 @P_ADDRESS
     3-0-0/w PTR         r     1 @TPTR$                    41-0-0/w UBIN        r     1 ADDRESS
    12-0-0/w PTR         r     1 AVAIL$                    47-0-0/w SBIN        r     1 BIAS
    50-0-0/w UBIN        r     1 BIAS_OU_LOCATION          51-0-0/w UBIN(20)    r     1 BIAS_OU_WORD
    45-0-0/w UBIN        r     1 BOUND                      5-0-0/w UBIN        r     1 CODE
   164-0-0/w PTR         r     1 DATA$                     35-0-0/w PTR         r     1 DCB$
    17-0-0/w PTR         r     1 DCBN$                     16-0-0/w UBIN        r     1 DCB_COUNT
   163-0-0/w PTR         r     1 DPATCH$                   20-0-0/b BIT         r     1 FOUND_DCB
    32-0-0/w UBIN        r     1 G_AUTO_DS_OFFSET          33-0-0/w UBIN        r     1 G_AUTO_T_OFFSET
    31-0-0/w UBIN        r     1 G_JIT_OFFSET              25-0-0/w UBIN        r     1 G_PATCHDH_OFFSET
    24-0-0/w UBIN        r     1 G_PATCHD_OFFSET           23-0-0/w UBIN        r     1 G_PATCHIH_OFFSET
    22-0-0/w UBIN        r     1 G_PATCHI_OFFSET           30-0-0/w UBIN        r     1 G_PIA_OFFSET
    26-0-0/w UBIN        r     1 G_ROS_OFFSET              27-0-0/w UBIN        r     1 G_TCB_OFFSET
    21-0-0/w UBIN        r     1 G_VERSION_OFFSET          13-0-0/w PTR         r     1 HEAD$
    42-0-0/c CHAR(6)     r     1 HEXSTR
    42-0-0/c CHAR        r     1 HEXSTR_ARY(0:5)
    56-0-0/w SBIN        r     1 HIGH_UNIT_ADDR            57-0-0/w SBIN        r     1 HIGH_UNIT_SIZE
     7-0-0/w SBIN        r     1 I                         10-0-0/w UBIN        r     1 IDX
    36-0-0/w UBIN        r     1 J                         37-0-0/w UBIN        r     1 L
    53-0-0/w SBIN        r     1 LAST_UNIT_ADDR            54-0-0/w SBIN        r     1 LAST_UNIT_SIZE
    34-0-0/w UBIN        r     1 LINK_SUPPLIED_OFFSET      40-0-0/w UBIN        r     1 LOCATION
    55-0-0/w SBIN        r     1 LOW_UNIT_ADDR             14-0-0/w PTR         r     1 NEW_DCBNAME$
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:304  
    *0-0-0/w ASTR(18)    r     1 NEW_NAME                  46-0-0/b BIT         r     1 NO_FID#
    61-0-0/w PTR         r     1 P$                        52-0-0/w PTR         r     1 PRE_OU$
    11-0-0/w UBIN        r     1 PSIZE                     *0-0-0/w UBIN        r     1 P_ADDRESS
    62-0-0/w PTR         r     1 Q$                        60-0-0/w UBIN(9)     r     1 REGION
    15-0-0/b BIT         r     1 SYS_DCB                  170-0-0/w UBIN        r     1 T
    64-0-0/w STRC(72)    r     1 TABLE_ARRAY(0:30)
    63-0-0/w SBIN        r     1 TABLE_ARRAY_INX           44-0-0/w UBIN        r     1 TOTSIZE
    *0-0-0/w PTR         r     1 TPTR$                    162-0-0/w UBIN        r     1 UNUSED_OFFSET
     6-0-0/w SBIN        r     1 Z

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(108)   r     1 B$RUBIRTH                  0-0-0/w PTR         r     1 B$TCB$
     0-0-0/w UBIN        r     1 LL_AUTO_DS_ADDRESS         0-0-0/w UBIN        r     1 LL_AUTO_T_ADDRESS
     0-0-0/w UBIN        r     1 LL_DATA_START              0-0-0/d STRC(72)    r     1 LL_DNAME_VEC
     0-0-0/w CHAR(112)   r     1 LL_DOBUF                   0-0-0/w UBIN        r     1 LL_DPATCH
     0-0-0/w UBIN        r     1 LL_END_LOC                 0-0-0/w UBIN        r     1 LL_END_VALUE
     0-0-0/w PTR         r     1 LL_ENTDEF_R$               0-0-0/w CHAR(52)    r     1 LL_FIRSTFID
     0-0-0/w STRC        r     1 LL_FLAGS                   0-0-0/w STRC(1440)  r     1 LL_HEAD
     0-0-0/w UBIN        r     1 LL_IPATCH                  0-0-0/w UBIN        r     1 LL_JIT_ADDRESS
     0-0-0/w CHAR(112)   r     1 LL_LOBUF                   0-0-0/w UBIN        r     1 LL_LPROC_START
     0-0-0/w UBIN        r     1 LL_NOU                     0-0-0/w PTR         r     1 LL_OF$
     0-0-0/w PTR         r     1 LL_OU_PTR$                 0-0-0/w UBIN        r     1 LL_PIA_ADDRESS
     0-0-0/w UBIN        r     1 LL_PROC_START              0-0-0/w UBIN        r     1 LL_RODATA_START
     0-0-0/w UBIN        r     1 LL_ROS_ADDRESS             0-0-0/w PTR         r     1 LL_R_CODE$
     0-0-0/w PTR         r     1 LL_R_DATA$                 0-0-0/w PTR         r     1 LL_R_OU$
     0-0-0/w PTR         r     1 LL_R_ROSE$                 0-0-0/c CHAR(31)    r     1 LL_SLIB_NAME
     0-0-0/w PTR         r     1 LL_START$                  0-0-0/w UBIN        r     1 LL_STATE
     0-0-0/w PTR         r     1 LL_SYMDEF_R$               0-0-0/w UBIN        r     1 LL_TCB_ADDRESS
     0-0-0/w PTR         r     1 LL_TOPOMEM$                0-0-0/w PTR         r     1 LL_T_CODE$
     0-0-0/w PTR         r     1 LL_T_DATA$                 0-0-0/w PTR         r     1 LL_T_ROSE$
     0-0-0/w SBIN        r     1 LL_VAL_BIAS                0-0-0/w UBIN        r     1 LL_VAL_SL
     0-0-0/w UBIN        r     1 LL_VAL_START               0-0-0/w UBIN        r     1 LL_VECTOR_DATA
     0-0-0/w STRC(63)    r     1 LL_VERSION
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:305  

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(2448)  r     1 B$ALT                      0-0-0/d ASTR(3528)  r     1 B$DCB
     0-0-0/w ASTR(18)    r     1 B$DNAME                    0-0-0/w STRC(72)    r     1 B$EDEF
     0-0-0/w STRC(1044)  r     1 B$OUHEAD                   0-0-0/w STRC(72)    r     1 B$SDEF
     0-0-0/w STRC(72)    r     1 B$SECTION                  0-0-0/c ASTR(9)     r     1 B$STRING
     0-0-0/w STRC(144)   r     1 B$TCB                      0-0-0/w STRC(72)    r     1 LL_ENTDEF
     0-0-0/w STRC(72)    r     1 LL_SECTION                 0-0-0N  NULL        r     1 M$LI
     0-0-0N  NULL        r     1 M$RU                       0-0-0/w STRC(216)   r     1 NODE
     0-0-0/w ASTR(504)   r     1 OU_ENTRY                   0-0-0/w STRC(504)   r     1 OU_FID(0:0)
     0-0-0/c UBIN(9)     r     1 RUBYTE(0:0)                0-0-0/w UBIN        r     1 RUWORD(0:1023)
     0-0-0/w STRC(180)   r     1 SECT_ENTRY


   Procedure LLB$PASS1 requires 4301 words for executable code.
   Procedure LLB$PASS1 requires 132 words of local(AUTO) storage.

    No errors detected in file LLB$PASS1.:E05TSI    .
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:306  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:307  
          MINI XREF LISTING

ADDRESS
     13426**DCL     14400<<ASSIGN  14420<<ASSIGN  14426<<ASSIGN  14456>>IF      14471<<ASSIGN  14477>>ASSIGN
     14500<<ASSIGN  14500>>ASSIGN  14502<<ASSIGN  14502>>ASSIGN  14504<<ASSIGN  14504>>ASSIGN  14506<<ASSIGN
     14506>>ASSIGN  14517>>ASSIGN  14518>>IF      14520>>ASSIGN  14524>>ASSIGN  14527>>IF      14531<>CALL
     14532>>ASSIGN  14534>>ASSIGN  14536<<ASSIGN  14536>>ASSIGN  14541<<ASSIGN  14541>>ASSIGN  14545>>ASSIGN
     14549>>ASSIGN  14550>>ASSIGN  14576>>ASSIGN  14579>>ASSIGN  14584>>ASSIGN  14587>>ASSIGN  14601>>ASSIGN
     14603>>ASSIGN  14620>>ASSIGN  14630>>ASSIGN  14654>>ASSIGN  15079>>ASSIGN
ADD_NAME
     15126**PROC    14092--CALL    14094--CALL    14096--CALL    14098--CALL    14100--CALL    14102--CALL
     14104--CALL    14106--CALL    14110--CALL    14112--CALL    14116--CALL    14118--CALL    14124--CALL
ADD_TABLE_ARRAY
     15077**PROC    14439--CALL    14468--CALL    14530--CALL    14580--CALL
AVAIL$
     13008**DCL     13672<<ASSIGN  13675>>ASSIGN  13679>>ASSIGN  13683>>ASSIGN  13685>>ASSIGN  13686>>ASSIGN
     13689>>ASSIGN  13691>>ASSIGN  13692>>ASSIGN  13752>>ASSIGN  13754>>ASSIGN  13757>>ASSIGN  13765>>ASSIGN
     13771>>ASSIGN  13772>>ASSIGN  13773>>ASSIGN  13774<<ASSIGN  13774>>ASSIGN  13790<>CALL    13797>>ASSIGN
     13805>>ASSIGN  13810>>ASSIGN  13811<<ASSIGN  13821<>CALL    13824<>CALL    13833>>ASSIGN  13958<>CALL
     13959>>ASSIGN  13967>>ASSIGN  13967>>ASSIGN  13969>>IF      13971>>ASSIGN  13976>>ASSIGN  13976>>ASSIGN
     13978>>IF      13980>>ASSIGN  13983>>ASSIGN  13984<<ASSIGN  13984>>ASSIGN  13986<>CALL    13988<>CALL
     14009>>ASSIGN  14011<<ASSIGN  14033<>CALL    14044>>ASSIGN  14045<<ASSIGN  14045>>ASSIGN  14051<>CALL
     14067<>CALL    14070>>ASSIGN  14076<<ASSIGN  14077<>CALL    14171<>CALL    14172>>ASSIGN  14173>>ASSIGN
     14174>>ASSIGN  14175>>ASSIGN  14176>>ASSIGN  14181>>ASSIGN  14185>>ASSIGN  14191>>ASSIGN  14194<<ASSIGN
     14194>>ASSIGN  14203<>CALL    14204>>ASSIGN  14205>>ASSIGN  14206>>ASSIGN  14207>>ASSIGN  14208>>ASSIGN
     14209>>ASSIGN  14210>>ASSIGN  14214>>ASSIGN  14219>>ASSIGN  14225>>ASSIGN  14226<<ASSIGN  14226>>ASSIGN
     14235<>CALL    14236>>ASSIGN  14237>>ASSIGN  14238>>ASSIGN  14239>>ASSIGN  14240>>ASSIGN  14245>>ASSIGN
     14249>>ASSIGN  14255>>ASSIGN  14257<<ASSIGN  14257>>ASSIGN  14272<>CALL    14273>>ASSIGN  14274>>ASSIGN
     14275>>ASSIGN  14276>>ASSIGN  14277>>ASSIGN  14278>>ASSIGN  14281>>ASSIGN  14292>>ASSIGN  14312>>ASSIGN
     14321>>ASSIGN  14327>>ASSIGN  14329<<ASSIGN  14329>>ASSIGN  14378<>CALL    14379>>ASSIGN  14559<>CALL
     14567<>CALL    14652<>CALL    14708>>ASSIGN  14713<>CALL    14759>>ASSIGN  14764<>CALL    14768>>ASSIGN
     14769>>ASSIGN  14770>>ASSIGN  14771>>ASSIGN  14772<<ASSIGN  14772>>ASSIGN  14776>>ASSIGN  14777>>ASSIGN
     14778>>ASSIGN  14779>>ASSIGN  14780<<ASSIGN  14780>>ASSIGN  14784>>ASSIGN  14785>>ASSIGN  14786>>ASSIGN
     14787>>ASSIGN  14788<<ASSIGN  14788>>ASSIGN  14792>>ASSIGN  14793>>ASSIGN  14794>>ASSIGN  14795>>ASSIGN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:308  
     14796<<ASSIGN  14796>>ASSIGN  14800>>ASSIGN  14801>>ASSIGN  14802>>ASSIGN  14803>>ASSIGN  14804<<ASSIGN
     14804>>ASSIGN  14808>>ASSIGN  14809>>ASSIGN  14810>>ASSIGN  14811>>ASSIGN  14812<<ASSIGN  14812>>ASSIGN
     14816>>ASSIGN  14817>>ASSIGN  14818>>ASSIGN  14819>>ASSIGN  14820<<ASSIGN  14820>>ASSIGN  14824<>CALL
     14827>>ASSIGN  14838<>CALL    14839>>ASSIGN  14840>>ASSIGN  14842>>ASSIGN  14843>>ASSIGN  14844<<ASSIGN
     14844>>ASSIGN  14845<>CALL    14847>>ASSIGN  14848>>ASSIGN  14849>>ASSIGN  14851>>ASSIGN  14852>>ASSIGN
     14853>>ASSIGN  14854>>ASSIGN  14855<<ASSIGN  14855>>ASSIGN  14856<>CALL    14859>>ASSIGN  14864<>CALL
     14866>>ASSIGN  14867>>ASSIGN  14869>>ASSIGN  14870>>ASSIGN  14871<<ASSIGN  14871>>ASSIGN  14873>>ASSIGN
     14874>>ASSIGN  14876>>ASSIGN  14877>>ASSIGN  14878<<ASSIGN  14878>>ASSIGN  14879<>CALL    14882>>ASSIGN
     14891<>CALL    14894>>ASSIGN  14897<>CALL    14899<<ASSIGN  14899>>ASSIGN  14902<>CALL    14906<<ASSIGN
     14917>>ASSIGN  14919>>ASSIGN  14939>>ASSIGN  14942<>CALL    14943<<ASSIGN  14943>>ASSIGN  14947<>CALL
     14952<<ASSIGN  14961<>CALL    14975>>ASSIGN  14976<>CALL    14987<>CALL    15002<>CALL    15005>>ASSIGN
     15023<>CALL    15036>>ASSIGN
B$ALT.CODE
     10965**DCL     10965--REDEF   10966--REDEF   10966--REDEF
B$ALT.ERR.CODE
     10967**DCL     13901>>ASSIGN
B$ALT.ERR.ERR#
     10967**DCL     10967--REDEF
B$ALT.EVID
     10966**DCL     10966--REDEF   10966--REDEF
B$DCB.ACTPOS
     11006**DCL     11006--REDEF
B$DCB.ARS#
     10980**DCL     10980--REDEF   13941>>ASSIGN  13963>>ASSIGN  14986>>ASSIGN  15022>>ASSIGN
B$DCB.ATTR
     10999**DCL     11000--REDEF
B$DCB.BORROW
     11014**DCL     11014--REDEF   11014--REDEF   11014--REDEF
B$DCB.DCBNAME.L
     11028**DCL     11028--IMP-SIZ
B$DCB.EOMCHAR#
     10984**DCL     10984--REDEF
B$DCB.FLDID
     11009**DCL     11009--REDEF
B$DCB.FORM$
     11003**DCL     11003--REDEF
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:309  
B$DCB.FSECT
     11019**DCL     11019--REDEF
B$DCB.FSN#
     10996**DCL     10996--REDEF   10996--REDEF   10997--REDEF
B$DCB.HEADER$
     11002**DCL     11002--REDEF
B$DCB.IXTNSIZE#
     11000**DCL     11000--REDEF
B$DCB.LASTSTA$
     10989**DCL     10989--REDEF
B$DCB.LVL
     11015**DCL     11015--REDEF
B$DCB.NAME#.C
     10990**DCL     10990--REDEF
B$DCB.NOEOF
     11012**DCL     11012--REDEF
B$DCB.NRECS#
     11001**DCL     11001--REDEF
B$DCB.NRECX
     11020**DCL     11020--REDEF
B$DCB.OHDR
     11012**DCL     11012--REDEF
B$DCB.ORG#
     10995**DCL     10995--REDEF
B$DCB.PRECNO
     11018**DCL     11018--REDEF
B$DCB.RCSZ
     11024**DCL     11024--REDEF
B$DCB.RES#
     10991**DCL     10991--REDEF
B$DCB.SETX
     11003**DCL     11003--REDEF
B$DCB.TAB$
     11003**DCL     11003--REDEF
B$DCB.TDA
     11017**DCL     11018--REDEF
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:310  
B$DCB.WSN#
     10991**DCL     10991--REDEF
B$DNAME.COUNT
     11709**DCL     11716--IMP-SIZ 13705>>CALLBLT 13721>>IF      13721>>IF      13740>>IF      13740>>IF
     14366>>CALLBLT 14540>>ASSIGN  14925>>ASSIGN  14926>>ASSIGN  15156<<ASSIGN  15157>>ASSIGN
B$DNAME.TEXT
     11716**DCL     13705>>CALLBLT 13721>>IF      13721>>IF      13740>>IF      13740>>IF      14366>>CALLBLT
     14926>>ASSIGN  15157<<ASSIGN
B$EDEF
     11774**DCL     13786--ASSIGN  13786--ASSIGN  13988--CALL    14738--ASSIGN  14848<<ASSIGN  14855--ASSIGN
B$EDEF.CST
     11820**DCL     14854<<ASSIGN
B$EDEF.ISADDR
     11797**DCL     14849<<ASSIGN
B$EDEF.LFLAGS.SOURCE
     11779**DCL     14852<<ASSIGN
B$EDEF.NPOINTER
     11799**DCL     14851<<ASSIGN
B$EDEF.OU
     11791**DCL     11797--REDEF
B$EDEF.PRI
     11802**DCL     14853<<ASSIGN
B$OUHEAD
     11553**DCL     13545--CALL    13647<>CALL    13665--ASSIGN  13837<<ASSIGN
B$OUHEAD.ASLNAM
     11666**DCL     15032>>ASSIGN
B$OUHEAD.ASLNAMSIZ
     11663**DCL     15030>>IF      15031>>ASSIGN
B$OUHEAD.DNAMPSIZ
     11615**DCL     13647>>CALL
B$OUHEAD.DNAMSIZ
     11612**DCL     13642>>ASSIGN  13829>>ASSIGN
B$OUHEAD.EDEFPSIZ
     11626**DCL     13798>>ASSIGN
B$OUHEAD.EDEFSIZ
     11624**DCL     13786>>ASSIGN  13793>>ASSIGN  14738>>ASSIGN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:311  
B$OUHEAD.LNAM
     11660**DCL     13868>>CALLBLT 13876>>ASSIGN  13877>>ASSIGN
B$OUHEAD.LNAMSIZ
     11658**DCL     13864>>IF      13868>>CALLBLT 13875>>ASSIGN
B$OUHEAD.SDEFPSIZ
     11637**DCL     13806>>ASSIGN
B$OUHEAD.SDEFSIZ
     11634**DCL     13786>>ASSIGN  13801>>ASSIGN  14743>>ASSIGN
B$OUHEAD.SEVLEV
     11602**DCL     13562>>IF      13563>>ASSIGN  13564>>IF      13570>>IF      13571>>CALLBLT
B$OUHEAD.START.OFFSET
     11599**DCL     14664>>ASSIGN
B$OUHEAD.START.OPERAND
     11593**DCL     14664>>ASSIGN
B$OUHEAD.START.OPNDTYP
     11583**DCL     13590>>IF      13591>>IF
B$OUHEAD.UTS
     11554**DCL     13662>>ASSIGN  13812<>CALL
B$OUHEAD.VERSION
     11571**DCL     11573--REDEF
B$OUHEAD.WORDSIZE
     11557**DCL     13554>>IF
B$OUKEY
     11474**DCL     13667<>CALL
B$OUKEY.PAGE
     11501**DCL     13664<<ASSIGN
B$OUKEY.TYPE
     11483**DCL     13663<<ASSIGN
B$OUKEY.UTS
     11480**DCL     13662<<ASSIGN
B$RUBIRTH
     12836**DCL     14719--CALL
B$RUBIRTH.COUNT
     12841**DCL     14717<<ASSIGN
B$RUBIRTH.CREATE_UTS
     12837**DCL     14718<>CALL
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:312  
B$RUBIRTH.RUMED_UTS
     12839**DCL     14716<<ASSIGN
B$RUKEY
     11541**DCL     13490<<ASSIGN  14127<>CALL    14713<>CALL
B$RUKEY.ISADDR
     11550**DCL     13493<<ASSIGN
B$RUKEY.KEYSIZ
     11542**DCL     13492<<ASSIGN
B$RUKEY.PAGE
     11548**DCL     11550--REDEF   14679<<ASSIGN  14714<<ASSIGN  14714>>ASSIGN
B$RUKEY.TYPE
     11544**DCL     13491<<ASSIGN  14678<<ASSIGN
B$SDEF
     11720**DCL     13786--ASSIGN  13786--ASSIGN  13957--ASSIGN  13957--ASSIGN  13986--CALL    14032--ASSIGN
     14045--ASSIGN  14046<<ASSIGN  14066--ASSIGN  14071<<ASSIGN  14076--ASSIGN  14743--ASSIGN  14763--ASSIGN
     14768<<ASSIGN  14772--ASSIGN  14776<<ASSIGN  14780--ASSIGN  14784<<ASSIGN  14788--ASSIGN  14792<<ASSIGN
     14796--ASSIGN  14800<<ASSIGN  14804--ASSIGN  14808<<ASSIGN  14812--ASSIGN  14816<<ASSIGN  14820--ASSIGN
     14837--ASSIGN  14839<<ASSIGN  14844--ASSIGN  14863--ASSIGN  14866<<ASSIGN  14871--ASSIGN  14873<<ASSIGN
     14878--ASSIGN
B$SDEF.AD.ISADDR
     11746**DCL     14771<<ASSIGN  14779<<ASSIGN  14787<<ASSIGN  14795<<ASSIGN  14803<<ASSIGN  14811<<ASSIGN
     14819<<ASSIGN  14840<<ASSIGN  14867<<ASSIGN  14874<<ASSIGN
B$SDEF.AD.LFLAGS.SOURCE
     11730**DCL     13978>>IF      13980<<ASSIGN
B$SDEF.AD.OU
     11740**DCL     11746--REDEF
B$SDEF.CONSTNT
     11751**DCL     14049<<ASSIGN  14074<<ASSIGN
B$SDEF.LFLAGS.SOURCE
     11764**DCL     13969>>IF      13971<<ASSIGN  14050<<ASSIGN  14075<<ASSIGN  14770<<ASSIGN  14778<<ASSIGN
     14786<<ASSIGN  14794<<ASSIGN  14802<<ASSIGN  14810<<ASSIGN  14818<<ASSIGN  14843<<ASSIGN  14870<<ASSIGN
     14877<<ASSIGN
B$SDEF.NPOINTER
     11748**DCL     13967<<ASSIGN  13967>>ASSIGN  13976<<ASSIGN  13976>>ASSIGN  14047<<ASSIGN  14072<<ASSIGN
     14769<<ASSIGN  14777<<ASSIGN  14785<<ASSIGN  14793<<ASSIGN  14801<<ASSIGN  14809<<ASSIGN  14817<<ASSIGN
     14842<<ASSIGN  14869<<ASSIGN  14876<<ASSIGN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:313  
B$SDEF.VALUE
     11721**DCL     11724--REDEF   14048<<ASSIGN  14073<<ASSIGN
B$SECTABLE
     11510**DCL     14722--ASSIGN  14733--CALL
B$SECTABLEKEY
     11522**DCL     14733<>CALL
B$SECTION
     11387**DCL     13669--ASSIGN  13672--ASSIGN  13775--ASSIGN  14170--ASSIGN  14172<<ASSIGN  14181--ASSIGN
     14185--ASSIGN  14194--ASSIGN  14202--ASSIGN  14204<<ASSIGN  14214--ASSIGN  14219--ASSIGN  14226--ASSIGN
     14234--ASSIGN  14236<<ASSIGN  14245--ASSIGN  14249--ASSIGN  14257--ASSIGN  14271--ASSIGN  14273<<ASSIGN
     14281--ASSIGN  14312--ASSIGN  14321--ASSIGN  14329--ASSIGN  14664--ASSIGN
B$SECTION.BOUND
     11422**DCL     14207<<ASSIGN  14276<<ASSIGN  14496>>DOCASE  14511>>ASSIGN
B$SECTION.INITUTS
     11414**DCL     14510>>ASSIGN
B$SECTION.INITZERO
     11412**DCL     14174<<ASSIGN  14206<<ASSIGN  14238<<ASSIGN  14275<<ASSIGN  14509>>ASSIGN
B$SECTION.MBZ
     11434**DCL     11436--REDEF   11440--REDEF
B$SECTION.NPOINTER
     11430**DCL     13676>>IF      13677<<ASSIGN  13677>>ASSIGN  13705>>CALLBLT 13705>>CALLBLT 13715>>ASSIGN
     13725>>ASSIGN  13737>>ASSIGN  14072>>ASSIGN  14176<<ASSIGN  14209<<ASSIGN  14240<<ASSIGN  14278<<ASSIGN
     14366>>CALLBLT 14366>>CALLBLT 14539>>ASSIGN  14540>>ASSIGN
B$SECTION.SIZE
     11428**DCL     14175<<ASSIGN  14208<<ASSIGN  14239<<ASSIGN  14277<<ASSIGN  14493<<ASSIGN  14512>>IF
     14516>>ASSIGN
B$SECTION.TYPE
     11388**DCL     13680>>DOCASE  14173<<ASSIGN  14205<<ASSIGN  14237<<ASSIGN  14274<<ASSIGN  14285>>IF
     14498>>IF      14508>>ASSIGN
B$STRING.COUNT
     13433**DCL     13434--IMP-SIZ 13583>>CALLBLT 14925<<ASSIGN  14926>>ASSIGN
B$STRING.TEXT
     13434**DCL     13583>>CALLBLT 14926<<ASSIGN
B$TCB.ALT$
     10961**DCL     13901>>ASSIGN
B$TCB$
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:314  
     12716**DCL     13901>>ASSIGN
BIAS
     13446**DCL     13525<<ASSIGN  13679>>ASSIGN  14179<<ASSIGN  14192>>ASSIGN  14243<<ASSIGN  14256>>ASSIGN
BIAS_OU_LOCATION
     13447**DCL     14431<<ASSIGN  14635<>CALL
BIAS_OU_WORD
     13448**DCL     14381<<ASSIGN  14581>>ASSIGN  14596>>ASSIGN  14618>>ASSIGN  15086<<ASSIGN  15086>>ASSIGN
BOUND
     13439**DCL     14557<<ASSIGN  14559<>CALL    14562<<ASSIGN  14567<>CALL    14648<<ASSIGN  14652<>CALL
     14986<<ASSIGN  14987<>CALL    15022<<ASSIGN  15023<>CALL
BOUND_UP
     15101**PROC    14405--CALL    14412--CALL    14451--CALL    14469--CALL    14531--CALL
CLOSE_CURRENT_OF
     13852**LABEL   13845--GOTO
CLOSE_SLIB
     12697**DCL     14000<>CALL
CLOSE_SLIB.SN_
     12697**DCL     12697--REDEF
CLOSE_SLIB.UTL_
     12698**DCL     12698--REDEF
CLOSE_SLIB.V
     12702**DCL     12697--DCLINIT
CLOSE_SLIB.V.EXPIRE#
     12712**DCL     12712--REDEF
CLOSE_SLIB.V.TYPE#
     12710**DCL     12710--REDEF
CLOSE_SLIB.V.XTNSIZE#
     12707**DCL     12707--REDEF   12709--REDEF
CODE
     12672**DCL     13894<<CALLBLT 13896>>CALLBLT 13897>>CALLBLT 13901<<ASSIGN  13902>>IF      13922>>CALLBLT
     13924>>CALLBLT
DATA$
     13465**DCL     14210<<ASSIGN  14474>>IF
DCB$
     13421**DCL     13733<<ASSIGN  13735>>DOWHILE 13737>>ASSIGN  13746<<ASSIGN  13746>>ASSIGN  13760>>DOWHILE
     13762<<ASSIGN  13762>>ASSIGN  13765>>ASSIGN  14069<<ASSIGN  14072>>ASSIGN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:315  
DCBN$
     13029**DCL     13737<<ASSIGN  13740>>IF      13740>>IF
DCBNAME$
     13027**DCL     13721>>IF      13721>>IF
DCB_ALLOCATED
     13026**DCL     13731<<ASSIGN  14035>>IF
DCB_COUNT
     13024**DCL     13718<<ASSIGN  13719>>DOWHILE 13721>>IF      13721>>IF      13725>>ASSIGN  13728<<ASSIGN
     13728>>ASSIGN  13731>>ASSIGN  14034<<DOINDEX 14035>>IF      14047>>ASSIGN  14048>>ASSIGN  14064<<ASSIGN
     14073>>ASSIGN  14080<<ASSIGN  14080>>ASSIGN
DCB_NPOINTERS
     13025**DCL     13725<<ASSIGN  14047>>ASSIGN
DNAME_FPT
     12196**DCL     13486<>CALL    13645<>CALL    13934<>CALL    15153<>CALL
DNAME_FPT.V
     12196**DCL     12196--DCLINIT
DPATCH$
     13464**DCL     14193<<ASSIGN  14867>>ASSIGN  14874>>ASSIGN  14965>>ASSIGN
DPTR$
     13014**DCL     14741<<ASSIGN  14742<>CALL    14745<<ASSIGN  14746>>IF      14747<>CALL
EF_KEY
     12824**DCL     13545<>CALL    13828<>CALL
EF_KEY.HFLAG
     12828**DCL     13549>>IF
EF_KEY.KEYSIZ
     12825**DCL     13552>>ASSIGN
EF_KEY.TEXT
     12830**DCL     13553>>ASSIGN
FID_RESULTS
     12637**DCL     12428--DCLINIT
FID_RESULTS.ACCT
     12637**DCL     13889>>IF      13895>>IF      13907>>IF
FID_SLIB
     12424**DCL     13888<>CALL
FID_SLIB.V
     12428**DCL     12424--DCLINIT
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:316  
FIND_BIAS
     14446**LABEL   14452--EXIT
FOUND_DCB
     13030**DCL     13734<<ASSIGN  13735>>DOWHILE 13743<<ASSIGN  13749>>IF
G_AUTO_DS_NAME
     13335**DCL     14102<>CALL
G_AUTO_DS_OFFSET
     13418**DCL     14101<<ASSIGN  14785>>ASSIGN
G_AUTO_T_NAME
     13356**DCL     14104<>CALL
G_AUTO_T_OFFSET
     13419**DCL     14103<<ASSIGN  14793>>ASSIGN
G_JIT_NAME
     13314**DCL     14100<>CALL
G_JIT_OFFSET
     13417**DCL     14099<<ASSIGN  14769>>ASSIGN
G_PATCHDH_NAME
     13230**DCL     14116<>CALL
G_PATCHDH_OFFSET
     13413**DCL     14115<<ASSIGN  14869>>ASSIGN
G_PATCHD_NAME
     13209**DCL     14118<>CALL
G_PATCHD_OFFSET
     13412**DCL     14117<<ASSIGN  14176>>ASSIGN  14876>>ASSIGN
G_PATCHIH_NAME
     13188**DCL     14110<>CALL
G_PATCHIH_OFFSET
     13411**DCL     14109<<ASSIGN  14842>>ASSIGN
G_PATCHI_NAME
     13167**DCL     14112<>CALL
G_PATCHI_OFFSET
     13410**DCL     14111<<ASSIGN  14240>>ASSIGN  14851>>ASSIGN
G_PIA_NAME
     13293**DCL     14098<>CALL
G_PIA_OFFSET
     13416**DCL     14097<<ASSIGN  14777>>ASSIGN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:317  
G_ROS_NAME
     13251**DCL     14094<>CALL
G_ROS_OFFSET
     13414**DCL     14093<<ASSIGN  14809>>ASSIGN
G_TCB_NAME
     13272**DCL     14096<>CALL
G_TCB_OFFSET
     13415**DCL     14095<<ASSIGN  14801>>ASSIGN
G_VERSION_NAME
     13146**DCL     14092<>CALL
G_VERSION_OFFSET
     13409**DCL     14091<<ASSIGN  14817>>ASSIGN
HEAD$
     13020**DCL     13543<<ASSIGN  13544>>ASSIGN  13545<>CALL    13554>>IF      13562>>IF      13563>>ASSIGN
     13564>>IF      13570>>IF      13571>>CALLBLT 13590>>IF      13591>>IF      13642>>ASSIGN  13647>>CALL
     13647>>CALL    13662>>ASSIGN  13665>>ASSIGN  13786>>ASSIGN  13786>>ASSIGN  13793>>ASSIGN  13798>>ASSIGN
     13801>>ASSIGN  13806>>ASSIGN  13812>>CALL    13829>>ASSIGN  13837>>ASSIGN
HEXSTR
     13427**DCL     13428--REDEF   13571<<CALLBLT 13580>>ASSIGN  14141<>CALL    14142>>CALLBLT 14459<>CALL
     14460>>CALLBLT 14483<>CALL    14484>>CALLBLT 14486<>CALL    14487>>CALLBLT 14635<>CALL    14637<>CALL
     14638>>CALLBLT 14639<>CALL    14640>>CALLBLT
HEXSTR_ARY
     13428**DCL     13573>>DOWHILE 13577<<ASSIGN  13577>>ASSIGN
HIGH_UNIT_ADDR
     13453**DCL     14433<<ASSIGN  14548>>ASSIGN  14549<<ASSIGN  14550>>ASSIGN  14563>>IF      14565>>DOINDEX
     14569>>ASSIGN
HIGH_UNIT_SIZE
     13454**DCL     14550<<ASSIGN  14570>>ASSIGN
I
     12794**DCL     13498<<DOINDEX 13499>>ASSIGN  13499>>ASSIGN  13519<<DOINDEX 13520>>ASSIGN  13521>>IF
     13525>>ASSIGN  13550>>ASSIGN  13555>>CALLBLT 13565>>CALLBLT 13596>>CALLBLT 13608>>CALLBLT 13618>>CALLBLT
     13838>>CALLBLT 13906<<CALLBLT 13908>>CALLBLT 14380<<DOINDEX 14384>>DOCASE  14435>>IF      14441>>DOCASE
     14474>>IF      14543>>IF      14572>>IF      14575>>IF      14578>>IF      14585>>IF      14589>>DOCASE
     14706<<ASSIGN  14707>>DOWHILE 14708>>ASSIGN  14711<<ASSIGN  14711>>ASSIGN  14713>>CALL    14723<<DOINDEX
     14724>>DOINDEX 14725>>IF      14727>>ASSIGN  14728>>ASSIGN  14962<<DOINDEX 14963>>IF      15003<<DOINDEX
     15004>>IF      15046>>DOWHILE 15053<<ASSIGN  15053>>ASSIGN  15054>>IF      15055>>ASSIGN  15085>>ASSIGN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:318  
IDX
     12802**DCL     14377<<ASSIGN  14397>>ASSIGN  14398<<ASSIGN  14398>>ASSIGN  14443>>ASSIGN  14444<<ASSIGN
     14444>>ASSIGN  14446>>DOINDEX 14545>>ASSIGN
J
     13423**DCL     13572<<ASSIGN  13573>>DOWHILE 13573>>DOWHILE 13574<<ASSIGN  13574>>ASSIGN  13576>>DOINDEX
     13577>>ASSIGN  13579>>ASSIGN  13674<<DOINDEX 13815<<DOINDEX 13816>>ASSIGN  13816>>ASSIGN  13966<<DOINDEX
     13967>>ASSIGN  13967>>ASSIGN  13969>>IF      13971>>ASSIGN  13975<<DOINDEX 13976>>ASSIGN  13976>>ASSIGN
     13978>>IF      13980>>ASSIGN  14724<<DOINDEX 14725>>IF      14728>>ASSIGN  14729>>ASSIGN
K
     13018**DCL     14446<<DOINDEX 14447>>IF      14450>>ASSIGN
L
     13424**DCL     13791<<DOINDEX 13792>>IF      13812>>CALL    13820>>IF      13950<<DOINDEX 13951>>IF
     13956>>ASSIGN  13965>>IF      13985>>IF      13991>>IF      14540<<ASSIGN  14541>>ASSIGN
LAST_UNIT_ADDR
     13450**DCL     14382<<ASSIGN  14551>>IF      14558>>ASSIGN  14569<<ASSIGN  14649>>ASSIGN
LAST_UNIT_SIZE
     13451**DCL     14383<<ASSIGN  14554>>IF      14557>>ASSIGN  14570<<ASSIGN  14645>>IF      14648>>ASSIGN
LIB_ACCT
     12671**DCL     13891--ASSIGN
LINK_SUPPLIED_NAMES
     13377**DCL     14106<>CALL
LINK_SUPPLIED_OFFSET
     13420**DCL     14105<<ASSIGN  14278>>ASSIGN
LLE$READOU
     12789**DCL-ENT 13647--CALL    13812--CALL
LLG$GROW
     12790**DCL-ENT 13821--CALL    13824--CALL    13986--CALL    13988--CALL    14051--CALL    14077--CALL
     14824--CALL    14845--CALL    14856--CALL    14879--CALL
LLI$BINHEX
     13435**DCL-ENT 14141--CALL    14459--CALL    14483--CALL    14486--CALL    14635--CALL    14637--CALL
     14639--CALL
LLM$MON_SVC
     12788**DCL-ENT 13487--CALL    13527--CALL    13528--CALL    13541--CALL    13545--CALL    13560--CALL
     13586--CALL    13588--CALL    13594--CALL    13601--CALL    13607--CALL    13613--CALL    13615--CALL
     13623--CALL    13666--CALL    13667--CALL    13668--CALL    13695--CALL    13701--CALL    13704--CALL
     13713--CALL    13790--CALL    13828--CALL    13841--CALL    13850--CALL    13852--CALL    13870--CALL
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:319  
     13872--CALL    13873--CALL    13898--CALL    13914--CALL    13916--CALL    13923--CALL    13925--CALL
     13926--CALL    13945--CALL    13946--CALL    13958--CALL    13995--CALL    13996--CALL    14019--CALL
     14020--CALL    14033--CALL    14067--CALL    14127--CALL    14144--CALL    14146--CALL    14154--CALL
     14156--CALL    14171--CALL    14203--CALL    14235--CALL    14272--CALL    14360--CALL    14362--CALL
     14370--CALL    14378--CALL    14464--CALL    14482--CALL    14485--CALL    14488--CALL    14489--CALL
     14559--CALL    14567--CALL    14642--CALL    14652--CALL    14713--CALL    14718--CALL    14719--CALL
     14733--CALL    14764--CALL    14838--CALL    14864--CALL    14891--CALL    14897--CALL    14902--CALL
     14942--CALL    14947--CALL    14961--CALL    14976--CALL    14987--CALL    15002--CALL    15023--CALL
     15043--CALL    15051--CALL    15056--CALL    15058--CALL    15060--CALL    15063--CALL    15154--CALL
LLR$RESDEF
     12791**DCL-ENT 14742--CALL    14747--CALL
LLT$BUILD_VECTOR
     12792**DCL-ENT 14010--CALL
LL_AUTO_DS_ADDRESS
      9307**DCL     14787>>ASSIGN
LL_AUTO_T_ADDRESS
      9307**DCL     14795>>ASSIGN
LL_DATA_START
      9290**DCL     14387<<ASSIGN  14395<<ASSIGN  14396>>ASSIGN  14611>>ASSIGN  14704<<ASSIGN
LL_DNAME_VEC
      9305**DCL     12196--DCLINIT
LL_DNAME_VEC.BOUND
      9306**DCL     13644>>IF      13933>>IF      15152>>IF
LL_DNAME_VEC.P$
      9306**DCL     13489>>ASSIGN
LL_DOBUF
      9283**DCL     13555<<CALLBLT 13585<<ASSIGN  13592<<ASSIGN  13596<<CALLBLT 13606<<ASSIGN  13608<<CALLBLT
     13614<<ASSIGN  13618<<CALLBLT 13694<<ASSIGN  13696<<CALLBLT 13703<<ASSIGN  13705<<CALLBLT 13838<<CALLBLT
     13847<<CALLBLT 13868<<CALLBLT 13871<<CALLBLT 13908<<CALLBLT 13912<<CALLBLT 13922<<CALLBLT 13924<<CALLBLT
     13944<<ASSIGN  13994<<ASSIGN  14018<<ASSIGN  14142<<CALLBLT 14145<<CALLBLT 14153<<ASSIGN  14155<<ASSIGN
     14359<<ASSIGN  14361<<ASSIGN  14366<<CALLBLT 14460<<CALLBLT 14481<<ASSIGN  14484<<CALLBLT 14487<<CALLBLT
     14591<<ASSIGN  14613<<ASSIGN  14629<<ASSIGN  14638<<CALLBLT 14640<<CALLBLT 15040<<CALLBLT 15048<<CALLBLT
LL_DPATCH
      9300**DCL     14114>>IF      14169>>IF      14175>>ASSIGN  14861>>IF      14960>>IF      14964>>IF
     14966>>ASSIGN
LL_END_DEF.AD.OU
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:320  
     12149**DCL     12155--REDEF
LL_END_DEF.VALUE
     12130**DCL     12133--REDEF
LL_END_LOC
      9304**DCL     14579<<ASSIGN  14627>>ASSIGN
LL_END_VALUE
      9303**DCL     14576<<ASSIGN  14611>>ASSIGN
LL_ENTDEF.NPOINTER
     11327**DCL     13816<<ASSIGN  13816>>ASSIGN
LL_ENTDEF.OU
     11319**DCL     11325--REDEF
LL_ENTDEF_R$
      9293**DCL     13821<>CALL    13988<>CALL    14856<>CALL
LL_FIRSTFID
      9288**DCL     13520<<ASSIGN  13696>>CALLBLT 13705>>CALLBLT 15048>>CALLBLT 15055<<ASSIGN
LL_FLAGS.BIAS#
      9284**DCL     14135>>IF
LL_FLAGS.BIAS_OU
      9286**DCL     13878>>IF      14177>>IF      14241>>IF      14279>>IF      14391>>IF      14403>>IF
     14429>>IF      14435>>IF      14532>>IF      14543>>IF      14566>>IF      14572>>IF      14594>>IF
     14609>>IF      14616>>IF      14625>>IF      14633>>IF      14650>>IF      14720>>IF      15080>>IF
LL_FLAGS.MAP#
      9284**DCL     14152>>IF      14641>>IF
LL_FLAGS.NOALT#
      9286**DCL     15027>>IF
LL_FLAGS.NOEDITING#
      9284**DCL     14031>>IF      14268>>IF      14354>>IF      14424>>IF      14675>>IF      14760>>IF
     14889>>IF      14998>>IF
LL_FLAGS.NOLIST#
      9286**DCL     13564>>IF
LL_FLAGS.NOSH#
      9286**DCL     13860>>IF
LL_FLAGS.REJECT#
      9286**DCL     13512<<ASSIGN  13641<<ASSIGN  13836>>IF      13844<<ASSIGN
LL_FLAGS.SHARELIB#
      9286**DCL     13860>>IF      13880<<ASSIGN  13885>>IF      14135>>IF      14341>>IF      14389>>IF
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:321  
     14585>>IF      14599>>IF      14688>>IF
LL_FLAGS.SLIB#
      9286**DCL     13865>>IF      14015>>IF      14341>>IF      14415>>IF
LL_FLAGS.START#
      9284**DCL     14656>>IF
LL_FLAGS.VAL_ERR#
      9285**DCL     14356<<ASSIGN  14358>>IF      14363<<ASSIGN
LL_FLAGS.VECTOR#
      9287**DCL     13495>>IF      14006>>IF
LL_HEAD.ASLNAME.CNT
     11250**DCL     15028>>DOWHILE 15031<<ASSIGN
LL_HEAD.ASLNAME.TXT
     11253**DCL     15032<<ASSIGN
LL_HEAD.BIAS
     11227**DCL     14346<<ASSIGN  14387>>ASSIGN  14388>>ASSIGN  14396<<ASSIGN  14690<<ASSIGN  14692<<ASSIGN
     14702<<ASSIGN  14704>>ASSIGN
LL_HEAD.DCBRES
     11114**DCL     14426>>ASSIGN
LL_HEAD.EDRECSIZE
     11135**DCL     14004<<ASSIGN
LL_HEAD.EPRECSIZE
     11132**DCL     14005<<ASSIGN
LL_HEAD.LIBNAME
     11235**DCL     12425--DCLINIT 12555--DCLINIT
LL_HEAD.LIBNAME.CNT
     11240**DCL     13862>>DOWHILE 13875<<ASSIGN  13912>>CALLBLT
LL_HEAD.LIBNAME.TXT
     11243**DCL     13876<<ASSIGN  13912>>CALLBLT
LL_HEAD.NRECSIZE
     11129**DCL     14002<<ASSIGN  14012>>ASSIGN  14126<<ASSIGN
LL_HEAD.PRECSIZE
     11125**DCL     14003<<ASSIGN
LL_HEAD.RDATA
     11082**DCL     14596<<ASSIGN  14601<<ASSIGN  14603<<ASSIGN  14607<<ASSIGN
LL_HEAD.ROSIZE
     11141**DCL     14630<<ASSIGN  14890>>ASSIGN  14893>>ASSIGN  14937>>ASSIGN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:322  
LL_HEAD.RPROC
     11072**DCL     14618<<ASSIGN  14620<<ASSIGN  14623<<ASSIGN
LL_HEAD.SECTABLESIZE
     11156**DCL     14722<<ASSIGN
LL_HEAD.SEV
     11103**DCL     13484<<ASSIGN  13562>>IF      13563<<ASSIGN  13595<<ASSIGN  13624>>IF      13625<<ASSIGN
     13842<<ASSIGN  14151>>IF      14372<<ASSIGN  14374>>IF      14465>>IF      14467<<ASSIGN
LL_HEAD.START
     11108**DCL     14657<<ASSIGN  14661<<ASSIGN  14664<<ASSIGN
LL_HEAD.UDCBNUM
     11111**DCL     13485<<ASSIGN  13750<<ASSIGN  13750>>ASSIGN  14015>>IF      14066>>ASSIGN  14426>>ASSIGN
LL_HEAD.VDPGS
     11074**DCL     14608<<ASSIGN  14611<<ASSIGN
LL_HEAD.VPPGS
     11066**DCL     14624<<ASSIGN  14627<<ASSIGN
LL_IPATCH
      9301**DCL     14108>>IF      14233>>IF      14239>>ASSIGN  14834>>IF      14960>>IF      14969>>IF
     14971>>ASSIGN
LL_JIT_ADDRESS
      9306**DCL     14771>>ASSIGN
LL_LOBUF
      9283**DCL     13565<<CALLBLT 13582>>CALLBLT 13583<<CALLBLT 13585>>ASSIGN  13896<<CALLBLT 13897<<CALLBLT
LL_LPROC_START
      9305**DCL     14418>>ASSIGN
LL_NOU
      9290**DCL     13498>>DOINDEX 13504<<ASSIGN  13504>>ASSIGN  13507>>ASSIGN  13519>>DOINDEX 15046>>DOWHILE
     15054>>IF
LL_OF$
      9283**DCL     13499>>ASSIGN  13499>>ASSIGN  13501>>ASSIGN  13502>>ASSIGN  13507>>ASSIGN  13520>>ASSIGN
     13521>>IF      13525>>ASSIGN  13555>>CALLBLT 13565>>CALLBLT 13596>>CALLBLT 13608>>CALLBLT 13618>>CALLBLT
     13838>>CALLBLT 15055>>ASSIGN
LL_OU_ENTRY
     12941**DCL     13542>>ASSIGN  13543--ASSIGN
LL_OU_PTR$
      9294**DCL     13547<<ASSIGN
LL_PATCHDH_DEF.OU
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:323  
     12075**DCL     12081--REDEF
LL_PATCHD_DEF.OU
     12004**DCL     12010--REDEF
LL_PATCHIH_DEF.OU
     11933**DCL     11939--REDEF
LL_PATCHI_DEF.OU
     11862**DCL     11868--REDEF
LL_PIA_ADDRESS
      9306**DCL     14779>>ASSIGN
LL_PROC_START
      9291**DCL     14421<<ASSIGN  14627>>ASSIGN  14803>>ASSIGN  14811>>ASSIGN  14819>>ASSIGN  15001>>ASSIGN
     15005>>ASSIGN
LL_RODATA_START
      9291**DCL     14423<<ASSIGN
LL_ROS_ADDRESS
      9307**DCL     15010>>ASSIGN
LL_R_CODE$
      9292**DCL     13688>>IF      13689<<ASSIGN  14244>>IF      14250<<ASSIGN  14282>>ASSIGN  14305>>IF
     14311>>ASSIGN  14312<<ASSIGN  14313>>ASSIGN  14321<<ASSIGN  14322>>ASSIGN  14323>>ASSIGN  14325>>ASSIGN
     14326>>ASSIGN  14327>>ASSIGN  14402>>ASSIGN  14681>>IF      14685>>ASSIGN  14696>>IF      14699>>ASSIGN
LL_R_DATA$
      9292**DCL     13682>>IF      13683<<ASSIGN  14180>>IF      14185<<ASSIGN  14186>>ASSIGN  14211>>IF
     14219<<ASSIGN  14220>>ASSIGN  14386>>ASSIGN  14680>>IF      14695>>ASSIGN
LL_R_OU$
      9294**DCL     13503<<ASSIGN  13507<<ASSIGN  13510>>ASSIGN  13511>>ASSIGN  13859>>ASSIGN  14736>>ASSIGN
     15026>>ASSIGN
LL_R_ROSE$
      9292**DCL     13733>>ASSIGN  13751>>IF      13752<<ASSIGN  14065>>ASSIGN  14355>>ASSIGN  14424>>ASSIGN
     14677<<ASSIGN  14682>>ASSIGN  14686>>ASSIGN  14697>>ASSIGN  14700>>ASSIGN  14915>>ASSIGN
LL_SECTION
     11263**DCL     14708<<ASSIGN  14708>>ASSIGN
LL_SECTION.BOUND
     11284**DCL     14511<<ASSIGN
LL_SECTION.EMPTY
     11290**DCL     14513<<ASSIGN  14515<<ASSIGN
LL_SECTION.INITUTS
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:324  
     11282**DCL     14510<<ASSIGN
LL_SECTION.INITZERO
     11280**DCL     14509<<ASSIGN
LL_SECTION.ISADDR
     11292**DCL     14534<<ASSIGN  14664>>ASSIGN  14692>>ASSIGN  14702>>ASSIGN  14840>>ASSIGN  14849>>ASSIGN
     14867>>ASSIGN  14874>>ASSIGN  14918>>ASSIGN  14965>>ASSIGN  14970>>ASSIGN
LL_SECTION.NPOINTER
     11294**DCL     14539<<ASSIGN  14924>>ASSIGN
LL_SECTION.SIZE
     11298**DCL     14516<<ASSIGN  14517>>ASSIGN  14536>>ASSIGN
LL_SECTION.TYPE
     11264**DCL     14508<<ASSIGN  14535>>IF
LL_SLIB_NAME
      9308**DCL     12424--DCLINIT 13877<<ASSIGN  13894>>CALLBLT 13896>>CALLBLT 13897>>CALLBLT 13906>>CALLBLT
     13908>>CALLBLT 13922>>CALLBLT 13924>>CALLBLT
LL_START$
      9294**DCL     13604>>IF      13628<<ASSIGN  14660>>IF      14664>>ASSIGN  14664>>ASSIGN  14664>>ASSIGN
LL_STATE
      9291**DCL     13548<<ASSIGN  14022<<ASSIGN
LL_SYMDEF_R$
      9293**DCL     13824<>CALL    13986<>CALL    14051<>CALL    14077<>CALL    14824<>CALL    14845<>CALL
     14879<>CALL
LL_TCB_ADDRESS
      9308**DCL     15006>>ASSIGN
LL_TOPOMEM$
      9294**DCL     13503>>ASSIGN  14009<<ASSIGN  14011>>ASSIGN
LL_T_CODE$
      9292**DCL     13691>>ASSIGN  13692<<ASSIGN  14243>>ASSIGN  14245>>ASSIGN  14246<<ASSIGN  14246>>ASSIGN
     14249<<ASSIGN  14250>>ASSIGN  14252>>ASSIGN  14253>>ASSIGN  14254>>ASSIGN  14255>>ASSIGN  14256>>ASSIGN
     14323<<ASSIGN  14686>>ASSIGN  14700>>ASSIGN  14840>>ASSIGN  14849>>ASSIGN  14970>>ASSIGN
LL_T_DATA$
      9292**DCL     13685>>ASSIGN  13686<<ASSIGN  14179>>ASSIGN  14181>>ASSIGN  14182<<ASSIGN  14182>>ASSIGN
     14186<<ASSIGN  14188>>ASSIGN  14189>>ASSIGN  14190>>ASSIGN  14191>>ASSIGN  14192>>ASSIGN  14193>>ASSIGN
     14214>>ASSIGN  14215<<ASSIGN  14215>>ASSIGN  14220<<ASSIGN  14222>>ASSIGN  14223>>ASSIGN  14224>>ASSIGN
     14225>>ASSIGN  14697>>ASSIGN  14699>>ASSIGN
LL_T_ROSE$
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:325  
      9293**DCL     13754>>ASSIGN  13757<<ASSIGN
LL_VAL_BIAS
      9289**DCL     14138>>IF      14141<>CALL    14147<<ASSIGN  14336>>IF      14338>>IF      14343<<ASSIGN
     14344>>IF      14346>>ASSIGN
LL_VAL_SL
      9290**DCL     14151>>IF
LL_VAL_START
      9290**DCL     14657>>ASSIGN
LL_VECTOR_DATA
      9308**DCL     14120>>IF      14199>>IF      14208>>ASSIGN  14474>>IF      14478>>IF      14483<>CALL
     14492>>ASSIGN
LL_VERSION.SIZE
      9310**DCL     15018>>ASSIGN
LL_VERSION.TEXT
      9310**DCL     15020>>ASSIGN
LOCATION
     13425**DCL     14388<<ASSIGN  14390<<ASSIGN  14390>>ASSIGN  14394<<ASSIGN  14395>>ASSIGN  14397>>ASSIGN
     14400>>ASSIGN  14405<>CALL    14407<<ASSIGN  14408>>IF      14411<<ASSIGN  14412<>CALL    14418<<ASSIGN
     14420>>ASSIGN  14421>>ASSIGN  14427<<ASSIGN  14431>>ASSIGN  14433>>ASSIGN  14440<<ASSIGN  14447>>IF
     14450<<ASSIGN  14451<>CALL    14456>>IF      14459<>CALL    14469<>CALL    14471>>ASSIGN  14477>>ASSIGN
     14532<<ASSIGN  14584>>ASSIGN  14587>>ASSIGN  14601>>ASSIGN  14603>>ASSIGN  14620>>ASSIGN  14630>>ASSIGN
     14637<>CALL    14654<<ASSIGN  15079>>ASSIGN  15083>>ASSIGN
LOCATION_ARRAY.BIAS
     12800**DCL     14397<<ASSIGN  14408>>IF      14443<<ASSIGN  14447>>IF
LOCATION_ARRAY.LAST
     12801**DCL     14411>>ASSIGN  14450>>ASSIGN  14545<<ASSIGN
LOW_UNIT_ADDR
     13452**DCL     14548<<ASSIGN  14551>>IF      14563>>IF      14565>>DOINDEX
M$CLOSE
      8945**DCL-ENT 14000--CALL
M$FID
      9008**DCL-ENT 13888--CALL
M$GDS
      8980**DCL-ENT 13486--CALL    13645--CALL    13934--CALL    15153--CALL
M$LI
     12201**DCL     13941--ASSIGN  13963--ASSIGN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:326  
M$MERC
      9001**DCL-ENT 13903--CALL
M$OPEN
      8945**DCL-ENT 13892--CALL
M$READ
      8946**DCL-ENT 13920--CALL    13940--CALL    13962--CALL
M$RU
     10971**DCL     14986--ASSIGN  15022--ASSIGN
M$XXX
      8957**DCL-ENT 15088--CALL
MULT_STRT#
     13445**DCL     13605>>IF      13616<<ASSIGN
NAME$
     13011**DCL     13489<<ASSIGN  13647>>CALL    13705>>CALLBLT 13705>>CALLBLT 13715>>ASSIGN  13737>>ASSIGN
     13821<>CALL    13824<>CALL    13936>>ASSIGN  13986<>CALL    13988<>CALL    14051<>CALL    14077<>CALL
     14127<>CALL    14366>>CALLBLT 14366>>CALLBLT 14540>>ASSIGN  14824<>CALL    14845<>CALL    14856<>CALL
     14879<>CALL    14924>>ASSIGN  15156>>ASSIGN  15157>>ASSIGN  15157>>ASSIGN
NEW$
     13012**DCL     13810<<ASSIGN  13811>>ASSIGN  13812<>CALL    13816>>ASSIGN  13816>>ASSIGN  13821<>CALL
     13824<>CALL
NEW_DCBNAME$
     13022**DCL     13715<<ASSIGN  13721>>IF      13721>>IF      13740>>IF      13740>>IF
NEW_NAME IN PROCEDURE ADD_NAME
     15137**DCL     15126--PROC    15151--ASSIGN
NEW_NAME.COUNT IN PROCEDURE ADD_NAME
     15138**DCL     15145--IMP-SIZ 15151>>ASSIGN  15156>>ASSIGN  15157>>ASSIGN
NEW_NAME.TEXT IN PROCEDURE ADD_NAME
     15145**DCL     15157>>ASSIGN
NODE
     12987**DCL     13786--ASSIGN  13786--ASSIGN  13957--ASSIGN  14032--ASSIGN  14066--ASSIGN  14763--ASSIGN
     14837--ASSIGN  14863--ASSIGN
NO_DEF
     13944**LABEL   13929--GOTO    13940--CALLALT
NO_FID#
     13444**DCL     15044<<ASSIGN  15047>>IF      15057<<ASSIGN  15059<<ASSIGN
NO_FILE
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:327  
     15040**LABEL   13528--CALLALT
NO_MEM
     13487**LABEL   13645--CALLALT 13934--CALLALT
NO_RECORD
     13991**LABEL   13962--CALLALT 13964--GOTO
NO_SECTS
     13847**LABEL   13647--CALLALT
NPTR
     13016**DCL     14742<>CALL
OPEN_SLIB
     12554**DCL     13892<>CALL
OPEN_SLIB.ACCT_
     12558**DCL     13890<<ASSIGN  13891<<ASSIGN
OPEN_SLIB.ACSVEH_
     12556**DCL     12557--REDEF
OPEN_SLIB.ALTKEYS_
     12562**DCL     12563--REDEF   12563--REDEF
OPEN_SLIB.HDR_
     12561**DCL     12562--REDEF
OPEN_SLIB.TAB_
     12560**DCL     12561--REDEF
OPEN_SLIB.UHL_
     12554**DCL     12555--REDEF   12555--REDEF
OPEN_SLIB.V
     12563**DCL     12554--DCLINIT
OPEN_SLIB.V.ASN#
     12573**DCL     12427--DCLINIT
OPEN_SLIB.V.FSN#
     12594**DCL     12594--REDEF   12594--REDEF
OPEN_SLIB.V.RES#
     12578**DCL     12427--DCLINIT
OPEN_SLIB.WSN_
     12560**DCL     12560--REDEF
OU_ENTRY
     12892**DCL     13542<<ASSIGN
OU_ENTRY.ENTDEF$
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:328  
     12906**DCL     13795<<ASSIGN  13797<<ASSIGN  14741>>ASSIGN
OU_ENTRY.HEAD$
     12916**DCL     13544<<ASSIGN  13863>>ASSIGN  14664>>ASSIGN  14664>>ASSIGN  14738>>ASSIGN  14743>>ASSIGN
     15029>>ASSIGN
OU_ENTRY.NEXT$
     12895**DCL     13830<<ASSIGN  13831<<ASSIGN  13883>>ASSIGN  14749>>ASSIGN  15034>>ASSIGN
OU_ENTRY.NSECTS
     12897**DCL     13670<<ASSIGN
OU_ENTRY.OF
     12893**DCL     13550<<ASSIGN
OU_ENTRY.OUNAME.SIZE
     12921**DCL     12923--IMP-SIZ 13542>>ASSIGN  13552<<ASSIGN  13553>>ASSIGN  13555>>CALLBLT 13565>>CALLBLT
     13581>>ASSIGN  13596>>CALLBLT 13608>>CALLBLT 13618>>CALLBLT 13696>>CALLBLT 13705>>CALLBLT 13847>>CALLBLT
     14366>>CALLBLT
OU_ENTRY.OUNAME.TEXT
     12923**DCL     13553<<ASSIGN  13555>>CALLBLT 13565>>CALLBLT 13596>>CALLBLT 13608>>CALLBLT 13618>>CALLBLT
     13696>>CALLBLT 13705>>CALLBLT 13847>>CALLBLT 14366>>CALLBLT
OU_ENTRY.REGION
     12917**DCL     13551<<ASSIGN
OU_ENTRY.SECT$
     12900**DCL     13671<<ASSIGN  14664>>ASSIGN  14740>>ASSIGN
OU_ENTRY.SYMDEF$
     12902**DCL     13803<<ASSIGN  13805<<ASSIGN  14745>>ASSIGN
OU_FID
     12796**DCL     13499<<ASSIGN  13499>>ASSIGN  13507--ASSIGN
OU_FID.BIAS
     12798**DCL     13502<<ASSIGN  13521>>IF      13525>>ASSIGN
OU_FID.NAME
     12797**DCL     13501<<ASSIGN  13520>>ASSIGN  13555>>CALLBLT 13565>>CALLBLT 13596>>CALLBLT 13608>>CALLBLT
     13618>>CALLBLT 13838>>CALLBLT 15055>>ASSIGN
P$
     13456**DCL     14282<<ASSIGN  14283>>ASSIGN  14284>>DOWHILE 14285>>IF      14289>>ASSIGN  14293>>ASSIGN
     14294<<ASSIGN  14298>>ASSIGN  14299<<ASSIGN  14299>>ASSIGN  14919<<ASSIGN  14925>>ASSIGN  14926>>ASSIGN
     14926>>ASSIGN
PRE_OU$
     13449**DCL     14432<<ASSIGN  14435>>IF      14546<<ASSIGN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:329  
PRGKEY
     13440**DCL     14559<>CALL    14567<>CALL    14652<>CALL    14897<>CALL    14902<>CALL    14942<>CALL
     14947<>CALL    14976<>CALL    14987<>CALL    15002<>CALL    15023<>CALL
PRGKEY.ISADDR
     13443**DCL     14558<<ASSIGN  14565<<DOINDEX 14649<<ASSIGN  14892<<ASSIGN  14938<<ASSIGN  14950<<ASSIGN
     14950>>ASSIGN  14974<<ASSIGN  14975>>ASSIGN  15001<<ASSIGN  15005>>ASSIGN
PRINT_NAME
     15046**LABEL   15058--CALLALT
PROGSIZE
     13422**DCL     14581<<ASSIGN  14584<<ASSIGN  14587<<ASSIGN  14588>>ASSIGN  14592>>IF      14608>>ASSIGN
     14614>>IF      14624>>ASSIGN  14632>>IF      14639<>CALL
PSIZE
     13007**DCL     13494<<ASSIGN  13644>>IF      13647>>CALL    13677>>ASSIGN  13816>>ASSIGN  13829<<ASSIGN
     13829>>ASSIGN  13933>>IF      13936>>ASSIGN  13948>>ASSIGN  13949<<ASSIGN  13949>>ASSIGN  14002>>ASSIGN
     14012<<ASSIGN  14091>>ASSIGN  14093>>ASSIGN  14095>>ASSIGN  14097>>ASSIGN  14099>>ASSIGN  14101>>ASSIGN
     14103>>ASSIGN  14105>>ASSIGN  14109>>ASSIGN  14111>>ASSIGN  14115>>ASSIGN  14117>>ASSIGN  14123>>ASSIGN
     14126>>ASSIGN  14127>>CALL    15151>>ASSIGN  15156>>ASSIGN  15157>>ASSIGN  15157>>ASSIGN  15158<<ASSIGN
P_ADDRESS IN PROCEDURE BOUND_UP
     15103**DCL     15101--PROC    15105>>IF      15107<<ASSIGN  15107>>ASSIGN  15109>>IF      15111<<ASSIGN
     15111>>ASSIGN  15113<<ASSIGN  15113>>ASSIGN
Q$
     13457**DCL     14283<<ASSIGN  14288>>ASSIGN  14298<<ASSIGN  14924<<ASSIGN  14925>>ASSIGN  14926>>ASSIGN
     14926>>ASSIGN
READ_SLIB
     12764**DCL     13940<>CALL    13962<>CALL
READ_SLIB.BUF_.BOUND
     12766**DCL     13937<<ASSIGN  13960<<ASSIGN
READ_SLIB.BUF_.BUF$
     12767**DCL     13936<<ASSIGN  13959<<ASSIGN
READ_SLIB.KEY_
     12764**DCL     13939<<ASSIGN  13961<<ASSIGN
READ_SLIB.STATION_
     12767**DCL     12768--REDEF
READ_SLIB.V
     12768**DCL     12764--DCLINIT
READ_SLIB.V.DVBYTE.REREAD#
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:330  
     12779**DCL     12779--REDEF
READ_SLIB.V.INDX#
     12777**DCL     12777--REDEF
READ_SLIB_HEAD
     12458**DCL     13920<>CALL
READ_SLIB_HEAD.BUF_.BOUND
     12460**DCL     13918<<ASSIGN
READ_SLIB_HEAD.BUF_.BUF$
     12461**DCL     13919<<ASSIGN
READ_SLIB_HEAD.STATION_
     12461**DCL     12462--REDEF
READ_SLIB_HEAD.V
     12462**DCL     12458--DCLINIT
READ_SLIB_HEAD.V.DVBYTE.REREAD#
     12473**DCL     12473--REDEF
READ_SLIB_HEAD.V.INDX#
     12471**DCL     12471--REDEF
REGION
     13455**DCL     13508<<ASSIGN  13524<<ASSIGN  13524>>ASSIGN  13551>>ASSIGN
REJECT_OF
     13836**LABEL   13545--CALLALT 13549--GOTO
RUBIRTHKEY
     12816**DCL     14719<>CALL
RUBYTE
     13437**DCL     14921<<ASSIGN  14979<<ASSIGN  14983<<ASSIGN  15013<<ASSIGN  15018<<ASSIGN  15020<<ASSIGN
RUWORD
     13436**DCL     14379<<ASSIGN
RU_KEY
     12202**DCL     12458--DCLINIT 12459--DCLINIT
SECT$
     13010**DCL     13665<<ASSIGN  13666<>CALL    13667<>CALL    13671>>ASSIGN  13672>>ASSIGN  13676>>IF
     13677>>ASSIGN  13677>>ASSIGN  13680>>DOCASE  13705>>CALLBLT 13705>>CALLBLT 13715>>ASSIGN  13725>>ASSIGN
     13772>>ASSIGN  13775<<ASSIGN  13775>>ASSIGN  14065<<ASSIGN  14068>>DOWHILE 14069>>ASSIGN  14079<<ASSIGN
     14079>>ASSIGN  14281<<ASSIGN  14288>>ASSIGN  14289>>ASSIGN  14290>>ASSIGN  14291>>ASSIGN  14292>>ASSIGN
     14293>>ASSIGN  14311<<ASSIGN  14313>>ASSIGN  14473<<ASSIGN  14474>>IF      14493>>ASSIGN  14496>>DOCASE
     14498>>IF      14508>>ASSIGN  14508>>ASSIGN  14509>>ASSIGN  14509>>ASSIGN  14510>>ASSIGN  14510>>ASSIGN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:331  
     14511>>ASSIGN  14511>>ASSIGN  14512>>IF      14513>>ASSIGN  14515>>ASSIGN  14516>>ASSIGN  14516>>ASSIGN
     14517>>ASSIGN  14534>>ASSIGN  14535>>IF      14536>>ASSIGN  14539>>ASSIGN  14539>>ASSIGN  14540>>ASSIGN
SECT_ENTRY
     12856**DCL     13774--ASSIGN  14170--ASSIGN  14194--ASSIGN  14202--ASSIGN  14226--ASSIGN  14234--ASSIGN
     14257--ASSIGN  14271--ASSIGN  14329--ASSIGN
SECT_ENTRY.BIAS
     12867**DCL     13679<<ASSIGN  14179>>ASSIGN  14192<<ASSIGN  14243>>ASSIGN  14256<<ASSIGN  14293<<ASSIGN
     14293>>ASSIGN  14394>>ASSIGN  14407>>ASSIGN  14435>>IF      14435>>IF      14440>>ASSIGN  14443>>ASSIGN
SECT_ENTRY.BROTHER$
     12863**DCL     13675<<ASSIGN  13760>>DOWHILE 13762>>ASSIGN  13765<<ASSIGN  14188<<ASSIGN  14222<<ASSIGN
     14252<<ASSIGN  14290<<ASSIGN  14325<<ASSIGN
SECT_ENTRY.NEXT$
     12869**DCL     13685<<ASSIGN  13691<<ASSIGN  13746>>ASSIGN  13754<<ASSIGN  13773<<ASSIGN  14079>>ASSIGN
     14181<<ASSIGN  14182>>ASSIGN  14189<<ASSIGN  14214<<ASSIGN  14215>>ASSIGN  14223<<ASSIGN  14245<<ASSIGN
     14246>>ASSIGN  14253<<ASSIGN  14288<<ASSIGN  14289<<ASSIGN  14299>>ASSIGN  14313<<ASSIGN  14322<<ASSIGN
     14371>>ASSIGN  14547>>ASSIGN  14686<<ASSIGN  14697<<ASSIGN  14699<<ASSIGN  14700<<ASSIGN  14710>>ASSIGN
     14927>>ASSIGN
SECT_ENTRY.OBJUNIT$
     12857**DCL     13771<<ASSIGN  14190<<ASSIGN  14224<<ASSIGN  14254<<ASSIGN  14291<<ASSIGN  14326<<ASSIGN
     14366>>CALLBLT 14366>>CALLBLT
SECT_ENTRY.SECTION$
     12860**DCL     13737>>ASSIGN  13772<<ASSIGN  14069>>ASSIGN  14191<<ASSIGN  14225<<ASSIGN  14255<<ASSIGN
     14285>>IF      14292<<ASSIGN  14327<<ASSIGN  14365>>ASSIGN  14473>>ASSIGN  14692>>ASSIGN  14702>>ASSIGN
     14708>>ASSIGN  14840>>ASSIGN  14849>>ASSIGN  14867>>ASSIGN  14874>>ASSIGN  14918>>ASSIGN  14924>>ASSIGN
     14965>>ASSIGN  14970>>ASSIGN
SLIB_ACCT
     12611**DCL     12425--DCLINIT 13890--ASSIGN
SLIB_HEAD
     12206**DCL     13918--ASSIGN  13919--ASSIGN
SLIB_HEAD.BIAS
     12370**DCL     14138>>IF      14147>>ASSIGN
SLIB_HEAD.EDRECSIZE
     12278**DCL     13955>>ASSIGN
SLIB_HEAD.EPRECSIZE
     12275**DCL     13953>>ASSIGN
SLIB_HEAD.NRECSIZE
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:332  
     12272**DCL     13928>>ASSIGN
SLIB_HEAD.RDATA
     12225**DCL     14390>>ASSIGN  14587>>ASSIGN  14601>>ASSIGN  14690>>ASSIGN
SLIB_KEY
     12730**DCL     13939--ASSIGN  13961--ASSIGN
SLIB_KEY.ISADDR
     12739**DCL     13931<<ASSIGN
SLIB_KEY.KEYSIZ
     12731**DCL     13930<<ASSIGN
SLIB_KEY.PAGE
     12737**DCL     12739--REDEF
SLIB_KEY.TYPE
     12733**DCL     13938<<ASSIGN  13956<<ASSIGN
SLIB_PASS
     12624**DCL     12556--DCLINIT
SPTR$
     13015**DCL     13511<<ASSIGN  13830>>ASSIGN  13832<<ASSIGN  13863<<ASSIGN  13864>>IF      13868>>CALLBLT
     13868>>CALLBLT 13875>>ASSIGN  13876>>ASSIGN  13877>>ASSIGN  14365<<ASSIGN  14366>>CALLBLT 14366>>CALLBLT
     14740<<ASSIGN  14742<>CALL    14747<>CALL    14917<<ASSIGN  14921>>ASSIGN  15005<<ASSIGN  15009<<ASSIGN
     15009>>ASSIGN  15013>>ASSIGN  15017<<ASSIGN  15017>>ASSIGN  15018>>ASSIGN  15020>>ASSIGN  15029<<ASSIGN
     15030>>IF      15031>>ASSIGN  15032>>ASSIGN
STRING
     13429**DCL     13583--CALLBLT 13583--CALLBLT
STRING.COUNT
     13430**DCL     13579<<ASSIGN
STRING.TEXT
     13431**DCL     13580<<ASSIGN
SYS_DCB
     13023**DCL     13717<<ASSIGN  13719>>DOWHILE 13724<<ASSIGN  13730>>IF
T IN PROCEDURE ADD_NAME
     15149**DCL     15151<<ASSIGN  15152>>IF      15158>>ASSIGN
TABLE_ARRAY
     13459**DCL     14727<<ASSIGN  14727>>ASSIGN  14728<<ASSIGN  14728>>ASSIGN  14729<<ASSIGN  14729>>ASSIGN
     14733--CALL
TABLE_ARRAY.SIZE
     13461**DCL     15084<<ASSIGN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:333  
TABLE_ARRAY.START
     13462**DCL     14725>>IF      14725>>IF      15083<<ASSIGN
TABLE_ARRAY.TYPE
     13460**DCL     15085<<ASSIGN
TABLE_ARRAY_INX
     13458**DCL     13509<<ASSIGN  14722>>ASSIGN  14723>>DOINDEX 14724>>DOINDEX 14727>>ASSIGN  14729>>ASSIGN
     14733>>CALL    15083>>ASSIGN  15084>>ASSIGN  15085>>ASSIGN  15087<<ASSIGN  15087>>ASSIGN  15088>>IF
TEMP
     13019**DCL     13576<<DOINDEX 13577>>ASSIGN  13577>>ASSIGN  13581<<ASSIGN  13582<<CALLBLT 13582>>CALLBLT
     13583>>CALLBLT 13642<<ASSIGN  13644>>IF      13647>>CALL    13668<>CALL    13669<<ASSIGN  13669>>ASSIGN
     13670>>ASSIGN  13672>>ASSIGN  13673<<ASSIGN  13673>>ASSIGN  13674>>DOINDEX 13786<<ASSIGN  13790<>CALL
     13793<<ASSIGN  13794>>IF      13801<<ASSIGN  13802>>IF      13808>>IF      13811>>ASSIGN  13812>>CALL
     13815>>DOINDEX 13821>>CALL    13824>>CALL    13928<<ASSIGN  13929>>IF      13933>>IF      13937>>ASSIGN
     13941<<ASSIGN  13949>>ASSIGN  13953<<ASSIGN  13955<<ASSIGN  13957>>ASSIGN  13960>>ASSIGN  13963<<ASSIGN
     13964>>IF      13966>>DOINDEX 13975>>DOINDEX 13984>>ASSIGN  13986>>CALL    13988>>CALL    14032<<ASSIGN
     14033<>CALL    14066<<ASSIGN  14067<>CALL    14170<<ASSIGN  14171<>CALL    14202<<ASSIGN  14203<>CALL
     14234<<ASSIGN  14235<>CALL    14271<<ASSIGN  14272<>CALL    14339<<ASSIGN  14340<<ASSIGN  14346>>ASSIGN
     14346>>ASSIGN  14477<<ASSIGN  14478>>IF      14486<>CALL    14492<<ASSIGN  14492>>ASSIGN  14493>>ASSIGN
     14493>>ASSIGN  14517<<ASSIGN  14521<<ASSIGN  14521>>ASSIGN  14525<<ASSIGN  14525>>ASSIGN  14527>>IF
     14738<<ASSIGN  14742<>CALL    14743<<ASSIGN  14747<>CALL    14763<<ASSIGN  14764<>CALL    14837<<ASSIGN
     14838<>CALL    14863<<ASSIGN  14864<>CALL    14890<<ASSIGN  14891<>CALL    14893<<ASSIGN  14895>>DOWHILE
     14896>>IF      14898<<ASSIGN  14898>>ASSIGN  14902>>CALL    14903<<ASSIGN  14914<<ASSIGN  14917>>ASSIGN
     14928<<ASSIGN  14928>>ASSIGN  14937<<ASSIGN  14940>>DOWHILE 14941>>IF      14944<<ASSIGN  14944>>ASSIGN
     14947>>CALL    14948<<ASSIGN  14965<<ASSIGN  14970<<ASSIGN  14974>>ASSIGN  14975>>ASSIGN  14977<<ASSIGN
     14977>>ASSIGN  14979>>ASSIGN  14980<<ASSIGN  14980>>ASSIGN  15006<<ASSIGN  15010<<ASSIGN  15013>>ASSIGN
     15014<<ASSIGN  15014>>ASSIGN
TEMP1
     13021**DCL     13798<<ASSIGN  13806<<ASSIGN  13812>>CALL    14520<<ASSIGN  14524<<ASSIGN  14527>>IF
     14527>>IF      14918<<ASSIGN  14919>>ASSIGN  14921>>ASSIGN  14922<<ASSIGN  14922>>ASSIGN  14966<<ASSIGN
     14971<<ASSIGN  14973>>IF      14983>>ASSIGN  14984<<ASSIGN  14984>>ASSIGN
TM$DEBUG
     13041**DCL     13028--DCLINIT
TM$DO
     13125**DCL     13028--DCLINIT
TM$HOST
     13104**DCL     13028--DCLINIT
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:334  
TM$LM
     13062**DCL     13028--DCLINIT
TM$ME
     13083**DCL     13028--DCLINIT
TOTSIZE
     13438**DCL     14376<<ASSIGN  14588<<ASSIGN  14588>>ASSIGN
TPTR$
     12795**DCL        26--PROC    13859<<ASSIGN  13862>>DOWHILE 13863>>ASSIGN  13883<<ASSIGN  13883>>ASSIGN
     13983<<ASSIGN  13986<>CALL    13988<>CALL    14044<<ASSIGN  14046>>ASSIGN  14047>>ASSIGN  14048>>ASSIGN
     14049>>ASSIGN  14050>>ASSIGN  14051<>CALL    14070<<ASSIGN  14071>>ASSIGN  14072>>ASSIGN  14073>>ASSIGN
     14074>>ASSIGN  14075>>ASSIGN  14076>>ASSIGN  14077<>CALL    14355<<ASSIGN  14357>>DOWHILE 14365>>ASSIGN
     14366>>CALLBLT 14366>>CALLBLT 14371<<ASSIGN  14371>>ASSIGN  14386<<ASSIGN  14394>>ASSIGN  14402<<ASSIGN
     14407>>ASSIGN  14424<<ASSIGN  14425<<ASSIGN  14432>>ASSIGN  14434>>DOWHILE 14435>>IF      14440>>ASSIGN
     14443>>ASSIGN  14473>>ASSIGN  14546>>ASSIGN  14547<<ASSIGN  14547>>ASSIGN  14682<<ASSIGN  14685<<ASSIGN
     14692>>ASSIGN  14695<<ASSIGN  14702>>ASSIGN  14705>>DOWHILE 14707>>DOWHILE 14708>>ASSIGN  14710<<ASSIGN
     14710>>ASSIGN  14736<<ASSIGN  14737>>DOWHILE 14738>>ASSIGN  14740>>ASSIGN  14741>>ASSIGN  14743>>ASSIGN
     14745>>ASSIGN  14749<<ASSIGN  14749>>ASSIGN  14759<<ASSIGN  14824<>CALL    14827<<ASSIGN  14845<>CALL
     14847<<ASSIGN  14856<>CALL    14859<<ASSIGN  14879<>CALL    14882<<ASSIGN  14894<<ASSIGN  14906>>ASSIGN
     14915<<ASSIGN  14916>>DOWHILE 14918>>ASSIGN  14924>>ASSIGN  14927<<ASSIGN  14927>>ASSIGN  14939<<ASSIGN
     14952>>ASSIGN  14975<<ASSIGN  14979>>ASSIGN  14983>>ASSIGN  15026<<ASSIGN  15028>>DOWHILE 15029>>ASSIGN
     15034<<ASSIGN  15034>>ASSIGN  15036<<ASSIGN
TYPE
     13017**DCL     14739<<ASSIGN  14742<>CALL    14744<<ASSIGN  14747<>CALL
T_OU$
     13009**DCL     13510<<ASSIGN  13541<>CALL    13542>>ASSIGN  13542>>ASSIGN  13543>>ASSIGN  13544>>ASSIGN
     13547>>ASSIGN  13550>>ASSIGN  13551>>ASSIGN  13552>>ASSIGN  13553>>ASSIGN  13553>>ASSIGN  13555>>CALLBLT
     13555>>CALLBLT 13565>>CALLBLT 13565>>CALLBLT 13581>>ASSIGN  13596>>CALLBLT 13596>>CALLBLT 13608>>CALLBLT
     13608>>CALLBLT 13618>>CALLBLT 13618>>CALLBLT 13628>>ASSIGN  13670>>ASSIGN  13671>>ASSIGN  13696>>CALLBLT
     13696>>CALLBLT 13705>>CALLBLT 13705>>CALLBLT 13771>>ASSIGN  13795>>ASSIGN  13797>>ASSIGN  13803>>ASSIGN
     13805>>ASSIGN  13821<>CALL    13824<>CALL    13830>>ASSIGN  13831>>ASSIGN  13832>>ASSIGN  13833<<ASSIGN
     13847>>CALLBLT 13847>>CALLBLT
UNUSED_DATA_NAME
     13398**DCL     14124<>CALL
UNUSED_OFFSET
     13463**DCL     14123<<ASSIGN  14209>>ASSIGN
VLP_SN
PL6.E3A0      #001=LLB$PASS1 File=LLB$PASS1.:E05TSI                              WED 07/30/97 03:10 Page:335  
     12669**DCL     12426--DCLINIT 12554--DCLINIT
VLP_WSN
     12656**DCL     12426--DCLINIT 12560--DCLINIT
X
     13013**DCL     13948<<ASSIGN  13967>>ASSIGN  13976>>ASSIGN  14747<>CALL
Z
     12793**DCL     13957<<ASSIGN  13958<>CALL    14920<<DOINDEX 14921>>ASSIGN  14978<<DOINDEX 14979>>ASSIGN
     14982<<DOINDEX 14983>>ASSIGN  15012<<DOINDEX 15013>>ASSIGN  15019<<DOINDEX 15020>>ASSIGN  15020>>ASSIGN
     15079<<ASSIGN  15080>>IF      15084>>ASSIGN  15086>>ASSIGN

VERSION E05

PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:1    
        1        1        /*M*  ASD$PRO_IO - Handles input/output for PROFILES.   */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X*  DMC,DMR,CCC,PLM=0,IND=3,CTI=5,DCI=6,IAD=0,DTI=0,IDT=0,ENI=3,
        8        8              ECU=3,CSU=3,SDI=3                                           */
        9        9
       10       10        /*   ASD$PRO_IO - this module consists of procedures:
       11       11                          ASD$PRO_IO
       12       12                          ASD$HEX2OCT
       13       13                          ASD$R2HUSECS
       14       14        */
       15       15        /*P*  NAME:       ASD$PRO_IO
       16       16              PURPOSE:    Manage the :PRO file.
       17       17              DESCRIPTION:
       18       18                  This procedure has 9 entries:
       19       19                  This procedure has 12 entries:
       20       20
       21       21                  ASD$READ_PRO        - reads a record from :PRO by key.
       22       22                  ASD$GR_READ_PRO        - reads a record from :PRO by key.
       23       23                  ASD$READ_PRO_SEQ    - reads a record from :PRO sequentially.
       24       24                  ASD$WRITE_PRO       - writes a record to :PRO.
       25       25                  ASD$GR_WRITE_PRO    - writes a record to :PRO.
       26       26                  ASD$OPEN_PRO_CR     - creates :PRO
       27       27                  ASD$OPEN_PRO_UP     - creates :PRO updpate
       28       28                  ASD$CLOSE_PRO       - closes :PRO
       29       29                  ASD$DELREC_PRO      - deletes a record from :PRO
       30       30                  ASD$GR_DELREC_PRO      - deletes a graphics record from :PRO
       31       31                  ASD$PREC_PRO        - postions to a record in :PRO
       32       32        */
       33       33
       34       34
       35       35        ASD$PRO_IO: PROC( KEY, BUFF, ARS ) ALTRET ;
       36       36
       37       37        /********************************************************************/
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:2    
       38       38        /*   Include files   include files   include files   include files   */
       39       39        /*********************************************************************/
       40       40
       41       41        %INCLUDE            AS_ENTRIES_M ;
       42     1091        %INCLUDE            AS_SUPER_C ;
       43     1526        %INCLUDE            AS_SUBS_C ;
       44     2940        %INCLUDE            AS_SSUBS_C ;
       45     3032        %INCLUDE            AS_MAC_C ;
       46     3112        %INCLUDE            CP_6 ;
       47     3193        %INCLUDE            B_ERRORS_C ;
       48     4320        %INCLUDE            KL_SUPER_C ;
       49     7222        %INCLUDE            XU_MACRO_C ;
       50    10328        %INCLUDE            XU_FORMAT_C ;
       51    10490        %INCLUDE            AS_SUPER_R ;
       52    13506
       53    13507        /********************************************************************/
       54    13508        /*   Parameters      parameters      parameters      parameters      */
       55    13509        /*********************************************************************/
       56    13510
       57    13511    1   DCL 1 KEY ALIGNED ,
       58    13512    1          2 CNT UBIN BYTE UNAL ,
       59    13513    1          2 TEXT CHAR(11) UNAL ;
       60    13514    1   DCL BUFF CHAR(AS_PRO_BUF_SIZEC);
       61    13515    1   DCL 1 GR_KEY ALIGNED STATIC,
       62    13516    1          2 CNT UBIN BYTE UNAL INIT(21),
       63    13517    1          2 TEXT CHAR(11) UNAL INIT(' '),
       64    13518    1          2 * CHAR(10) UNAL INIT(' :graphics');
       65    13519    1   DCL ARS UBIN WORD ;
       66    13520    1   DCL KEY_CNT UBIN WORD ;
       67    13521
       68    13522
       69    13523        /*********************************************************************/
       70    13524        /*   Entry dcls      entry dcls      entry dcls      entry dcls      */
       71    13525        /*********************************************************************/
       72    13526        %ASH$ERROR;
       73    13529        /*********************************************************************/
       74    13530        /*   Local based     local based     local based     local based     */
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:3    
       75    13531        /*********************************************************************/
       76    13532
       77    13533        %B$ALT ;
       78    13541        %B$TCB ;
       79    13544        %F$DCB ;
       80    13601
       81    13602        /*********************************************************************/
       82    13603        /*   Symref's        symref's        symref's        symref's        */
       83    13604        /*********************************************************************/
       84    13605
       85    13606    1   DCL B$TCB$ PTR SYMREF ;
       86    13607
       87    13608        /*********************************************************************/
       88    13609        /*   Fpts            fpts            fpts            fpts            */
       89    13610        /*********************************************************************/
       90    13611
       91    13612              %FPT_READ  (FPTN = READ_FPT ,
       92    13613                          DCB = M$PRO ,
       93    13614                          KEYS = YES ) ;
       94    13653              %FPT_READ    (FPTN = READ_SEQ_FPT ,
       95    13654                            DCB = M$PRO ,
       96    13655                            KEYR = YES ,
       97    13656                            KEYS = NO ) ;
       98    13695              %FPT_WRITE  (FPTN = WRITE_FPT ,
       99    13696                           ONEWKEY = YES ,
      100    13697                           DCB = M$PRO) ;
      101    13728              %FPT_OPEN (FPTN=OPEN_CR_FPT ,
      102    13729                          NAME = FILE_NAME ,
      103    13730                          ACCT = FILE_ACCT ,
      104    13731                          ASN  = FILE ,
      105    13732                          DCB = M$PRO ,
      106    13733                          ACS = DIRECT ,
      107    13734                          ORG = KEYED ,
      108    13735                          ACSVEH = VLP_ATTR ,
      109    13736                          ACCESS = VLP_ATTR_ACC ,
      110    13737                          IXTNSIZE = 8 ,
      111    13738                          XTNSIZE = 8 ,
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:4    
      112    13739                          FUN = CREATE ) ;
      113    13848              %FPT_OPEN (FPTN=OPEN_UP_FPT ,
      114    13849                          NAME = FILE_NAME ,
      115    13850                          ACCT = FILE_ACCT ,
      116    13851                          ASN  = FILE ,
      117    13852                          DCB = M$PRO ,
      118    13853                          ACS = DIRECT ,
      119    13854                          ORG = KEYED ,
      120    13855                          FUN = UPDATE ,
      121    13856                          SHARE = ALL) ;
      122    13965              %FPT_ENQ  ( FPTN = FPT_ENQ ,
      123    13966                          DCB = M$PRO ,
      124    13967                          SHARE = NONE ) ;
      125    13985              %FPT_DEQ  ( FPTN = FPT_DEQ ,
      126    13986                          DCB = M$PRO ) ;
      127    14003              %FPT_CLOSE  (FPTN = CLOSE_FPT ,
      128    14004                           DCB = M$PRO ,
      129    14005                           DISP = SAVE) ;
      130    14047
      131    14048              %FPT_DELREC  (FPTN = DELREC_FPT ,
      132    14049                            KEY = USERS_KEY ,
      133    14050                            DCB = M$PRO) ;
      134    14069              %FPT_DELREC  (FPTN = GR_DELREC_FPT ,
      135    14070                            KEY = GR_KEY ,
      136    14071                            DCB = M$PRO) ;
      137    14090              %FPT_PRECORD (FPTN = PREC_FPT,
      138    14091                            DCB = M$PRO,
      139    14092                            KEYS = YES,
      140    14093                            KEYR = YES,
      141    14094                            N = 0);
      142    14115
      143    14116        /*********************************************************************/
      144    14117        /*   Vlps            vlps            vlps            vlps            */
      145    14118        /*********************************************************************/
      146    14119
      147    14120              %VLP_NAME( FPTN=FILE_NAME, NAME=':PRO' ) ;
      148    14147        %VLP_ATTR  ;
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:5    
      149    14161        %VLP_ACSVEH ( UPD  = YES ,
      150    14162                      DELR = YES ,
      151    14163                      WNEW = YES ,
      152    14164                      READ = YES ,
      153    14165                      VEHICLE = 'SUPER' ,
      154    14166                      LAST = ";" ) ;
      155    14183              %VLP_ATTR(  FPTN = VLP_ATTR_ACC ) ;
      156    14197              %VLP_ACCESS(  READ = YES ,
      157    14198                            EXEC = YES,
      158    14199                            ACCT = '?' ,
      159    14200                            LAST=";") ;
      160    14217
      161    14218        /*********************************************************************/
      162    14219        /*   Dcbs            dcbs            dcbs            dcbs            */
      163    14220        /*********************************************************************/
      164    14221
      165    14222    1   DCL M$PRO DCB ;                                 /*   Dcb for :PRO.   */
      166    14223
      167    14224        %EJECT;
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:6    
      168    14225        /********************************************************************/
      169    14226        /*   Procedure       procedure       procedure       procedure       */
      170    14227        /*********************************************************************/
      171    14228
      172    14229    1   ASD$READ_PRO: ENTRY( KEY, BUFF, ARS ) ALTRET ;
      173    14230
      174    14231    1   KEY_CNT = KEY.CNT;
      175    14232    1   READ_FPT.BUF_ = VECTOR( BUFF ) ;
      176    14233    1   READ_FPT.KEY_ = VECTOR( KEY ) ;
      177    14234    1   BUFF = AS_BLANK ;
      178    14235    1   CALL M$READ ( READ_FPT ) ALTRET ( IO_ERR ) ;
      179    14236    1   ARS = DCBADDR(DCBNUM(M$PRO)) -> F$DCB.ARS# ;
      180    14237    1   RETURN ;
      181    14238
      182    14239    1   ASD$GR_READ_PRO: ENTRY( KEY, BUFF, ARS ) ALTRET ;
      183    14240
      184    14241    1   KEY_CNT = KEY.CNT;
      185    14242    1   BUFF = AS_BLANK ;
      186    14243    1   GR_KEY.TEXT = ' ' ;
      187    14244    1   CALL INSERT( GR_KEY.TEXT,0,KEY.CNT,KEY.TEXT ) ;
      188    14245    1   READ_FPT.BUF_ = VECTOR( BUFF ) ;
      189    14246    1   READ_FPT.KEY_ = VECTOR( GR_KEY ) ;
      190    14247    1   CALL M$READ ( READ_FPT ) ALTRET ( IO_ERR ) ;
      191    14248    1   ARS = DCBADDR(DCBNUM(M$PRO)) -> F$DCB.ARS# ;
      192    14249    1   RETURN ;
      193    14250
      194    14251
      195    14252
      196    14253
      197    14254    1   ASD$READ_PRO_SEQ: ENTRY (KEY, BUFF, ARS) ALTRET ;
      198    14255
      199    14256    1   GR_READ_AGN: ;
      200    14257    1   KEY_CNT = KEY.CNT;
      201    14258    1   READ_SEQ_FPT.BUF_ = VECTOR(BUFF) ;
      202    14259    1   READ_SEQ_FPT.KEY_ = VECTOR(KEY) ;
      203    14260                 /* This read will implicitly altreturn if the key is larger
      204    14261                    than 11 chars.  That is because the key is defined for 11
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:7    
      205    14262                    chars.  This makes super ignore records with keys > 11
      206    14263                    chars when doing sequential reads throught the :PRO file.
      207    14264                 */
      208    14265    1   CALL M$READ(READ_SEQ_FPT) ALTRET ( GR_RD_ABORT ) ;
      209    14266    1   ARS = DCBADDR(DCBNUM(M$PRO)) -> F$DCB.ARS# ;
      210    14267    1   RETURN ;
      211    14268    1   GR_RD_ABORT: ;
      212    14269    1   ERR_CODE = B$TCB$->B$TCB.ALT$->B$ALT.ERR;
      213    14270    1   IF ((MERR_CODE.CODE = %E$EOF))
      214    14271    1   THEN GOTO IO_ERR;
      215    14272    1   ELSE GOTO GR_READ_AGN;
      216    14273
      217    14274
      218    14275
      219    14276    1   ASD$WRITE_PRO: ENTRY ( KEY, BUFF, ARS ) ALTRET ;
      220    14277
      221    14278    1   WRITE_FPT.BUF_.BUF$ = ADDR( BUFF ) ;
      222    14279    1   WRITE_FPT.BUF_.BOUND = ARS ;
      223    14280    1   WRITE_FPT.KEY_ = VECTOR( KEY ) ;
      224    14281    1   FPT_ENQ.RNAME_ = VECTOR( KEY ) ;
      225    14282    1   FPT_DEQ.RNAME_ = VECTOR( KEY ) ;
      226    14283    1   CALL M$ENQ ( FPT_ENQ ) ALTRET( ENQ_ERR ) ;
      227    14284    1   ENQ_ERR: ;
      228    14285    1   CALL M$WRITE( WRITE_FPT ) ALTRET( WRITE_ERR ) ;
      229    14286    1   CALL M$DEQ ( FPT_DEQ ) ALTRET( DEQ_ERR ) ;
      230    14287    1   DEQ_ERR: ;
      231    14288    1   RETURN ;
      232    14289
      233    14290    1   WRITE_ERR: ;
      234    14291    1   ERR_CODE = B$TCB$->B$TCB.ALT$->B$ALT.ERR ;
      235    14292    1   AS_DCBNUM# = DCBNUM( M$PRO );
      236    14293    1   CALL ASH$ERROR (ERR_CODE);
      237    14294    1   CALL M$DEQ ( FPT_DEQ ) ALTRET( DEQ_ERR2 ) ;
      238    14295    1   DEQ_ERR2: ;
      239    14296    1   ALTRETURN ;
      240    14297
      241    14298
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:8    
      242    14299    1   ASD$GR_WRITE_PRO: ENTRY ( KEY, BUFF, ARS ) ALTRET ;
      243    14300
      244    14301    1   GR_KEY.TEXT = ' ' ;
      245    14302    1   CALL INSERT( GR_KEY.TEXT,0,KEY.CNT,KEY.TEXT ) ;
      246    14303    1   WRITE_FPT.BUF_.BUF$ = ADDR( BUFF ) ;
      247    14304    1   WRITE_FPT.BUF_.BOUND = ARS ;
      248    14305    1   WRITE_FPT.KEY_ = VECTOR( GR_KEY ) ;
      249    14306    1   FPT_ENQ.RNAME_ = VECTOR( GR_KEY ) ;
      250    14307    1   FPT_DEQ.RNAME_ = VECTOR( GR_KEY ) ;
      251    14308    1   CALL M$ENQ ( FPT_ENQ ) ALTRET( GR_ENQ_ERR ) ;
      252    14309    1   GR_ENQ_ERR: ;
      253    14310    1   CALL M$WRITE( WRITE_FPT ) ALTRET( GR_WRITE_ERR ) ;
      254    14311    1   CALL M$DEQ ( FPT_DEQ ) ALTRET( GR_DEQ_ERR ) ;
      255    14312    1   GR_DEQ_ERR: ;
      256    14313    1   RETURN ;
      257    14314
      258    14315    1   GR_WRITE_ERR: ;
      259    14316    1   ERR_CODE = B$TCB$->B$TCB.ALT$->B$ALT.ERR ;
      260    14317    1   AS_DCBNUM# = DCBNUM( M$PRO );
      261    14318    1   CALL ASH$ERROR (ERR_CODE);
      262    14319    1   CALL M$DEQ ( FPT_DEQ ) ALTRET( GR_DEQ_ERR2 ) ;
      263    14320    1   GR_DEQ_ERR2: ;
      264    14321    1   ALTRETURN ;
      265    14322
      266    14323
      267    14324    1   ASD$OPEN_PRO_CR: ENTRY ALTRET ;
      268    14325
      269    14326    1   CALL M$OPEN( OPEN_CR_FPT ) ALTRET( IO_ERR ) ;
      270    14327    1   RETURN ;
      271    14328
      272    14329
      273    14330
      274    14331    1   ASD$OPEN_PRO_UP: ENTRY ALTRET ;
      275    14332
      276    14333    1   CALL M$OPEN( OPEN_UP_FPT ) ALTRET( IO_ERR ) ;
      277    14334    1   RETURN ;
      278    14335
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:9    
      279    14336
      280    14337
      281    14338    1   ASD$CLOSE_PRO: ENTRY ALTRET ;
      282    14339
      283    14340    1   IF FAST_FLAG THEN RETURN ;                 /*   Fast mode.    */
      284    14341    1   CALL M$CLOSE( CLOSE_FPT ) ALTRET( IO_ERR ) ;
      285    14342    1   RETURN ;
      286    14343
      287    14344
      288    14345
      289    14346    1   ASD$DELREC_PRO: ENTRY     ALTRET ;
      290    14347
      291    14348    1   CALL M$DELREC (DELREC_FPT) ALTRET(IO_ERR) ;
      292    14349    1   RETURN ;
      293    14350
      294    14351    1   ASD$GR_DELREC_PRO: ENTRY     ALTRET ;
      295    14352
      296    14353    1   GR_KEY.TEXT = USERS_KEY.TXTC ;
      297    14354    1   CALL M$DELREC (GR_DELREC_FPT) ALTRET(IO_ERR) ;
      298    14355    1   RETURN ;
      299    14356
      300    14357
      301    14358
      302    14359    1   ASD$PREC_PRO: ENTRY(KEY) ALTRET;
      303    14360
      304    14361    1   PREC_FPT.KEY_ = VECTOR( KEY ) ;
      305    14362    1   CALL M$PRECORD (PREC_FPT) ALTRET(IO_ERR) ;
      306    14363    1   RETURN ;
      307    14364
      308    14365    1   IO_ERR: ;
      309    14366    1   ERR_CODE = B$TCB$ -> B$TCB.ALT$ -> B$ALT.ERR ;
      310    14367    1   AS_DCBNUM# = DCBNUM( M$PRO );
      311    14368    1   ALTRETURN ;
      312    14369
      313    14370    1   END   ASD$PRO_IO ;

PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:10   
--  Include file information  --

   AS_SUPER_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   KL_SUPER_C.:E05TOU  is referenced.
   B_ERRORS_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   AS_MAC_C.:E05TOU  cannot be made into a system file and is referenced.
   AS_SSUBS_C.:E05TOU  is referenced.
   AS_SUBS_C.:E05TOU  is referenced.
   AS_SUPER_C.:E05TOU  is referenced.
   AS_ENTRIES_M.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure ASD$PRO_IO.

   Procedure ASD$PRO_IO requires 259 words for executable code.
   Procedure ASD$PRO_IO requires 8 words of local(AUTO) storage.

    No errors detected in file ASD$PRO_IO.:E05TSI    .

PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:11   

 Object Unit name= ASD$PRO_IO                                 File name= ASD$PRO_IO.:E05TOU
 UTS= JUL 29 '97 09:48:26.60 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none     0      0  M$LO
    2   Data  even  none   249    371  ASD$PRO_IO
    3   DCB   even  none     0      0  M$PRO
    4   Proc  even  none   259    403  ASD$PRO_IO
    5  RoData even  none     7      7  ASD$PRO_IO

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     4      0   yes    yes     yes      Std        3  ASD$PRO_IO
     4      3          yes     yes      Std        3  ASD$READ_PRO
     4     37          yes     yes      Std        3  ASD$GR_READ_PRO
     4    103          yes     yes      Std        3  ASD$READ_PRO_SEQ
     4    144          yes     yes      Std        3  ASD$WRITE_PRO
     4    223          yes     yes      Std        3  ASD$GR_WRITE_PRO
     4    311          yes     yes      Std        0  ASD$OPEN_PRO_CR
     4    320          yes     yes      Std        0  ASD$OPEN_PRO_UP
     4    327          yes     yes      Std        0  ASD$CLOSE_PRO
     4    341          yes     yes      Std        0  ASD$DELREC_PRO
     4    350          yes     yes      Std        0  ASD$GR_DELREC_PRO
     4    362          yes     yes      Std        1  ASD$PREC_PRO
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:12   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes          ~proc      0 XU_OUTPUT_OPTIONS
         yes           Std       2 ASH$ERROR
                       nStd      0 X66_AUTO_3
                       nStd      0 X66_ARET
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AALT

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                             r    AS_BLANK                         r    AS_MODE
r    AS_FE_MODE                            M$LO                                  USERS_KEY
     FAST_FLAG                             ERR_CODE                              REMEM_VAR
     REM_FCMD                              ASA_BRKS_LOC                          FILE_ACCT
     AS_DCBNUM#                            B$TCB$                                M$PRO
     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID                               ROSID
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:13   


        1        1        /*M*  ASD$PRO_IO - Handles input/output for PROFILES.   */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X*  DMC,DMR,CCC,PLM=0,IND=3,CTI=5,DCI=6,IAD=0,DTI=0,IDT=0,ENI=3,
        8        8              ECU=3,CSU=3,SDI=3                                           */
        9        9
       10       10        /*   ASD$PRO_IO - this module consists of procedures:
       11       11                          ASD$PRO_IO
       12       12                          ASD$HEX2OCT
       13       13                          ASD$R2HUSECS
       14       14        */
       15       15        /*P*  NAME:       ASD$PRO_IO
       16       16              PURPOSE:    Manage the :PRO file.
       17       17              DESCRIPTION:
       18       18                  This procedure has 9 entries:
       19       19                  This procedure has 12 entries:
       20       20
       21       21                  ASD$READ_PRO        - reads a record from :PRO by key.
       22       22                  ASD$GR_READ_PRO        - reads a record from :PRO by key.
       23       23                  ASD$READ_PRO_SEQ    - reads a record from :PRO sequentially.
       24       24                  ASD$WRITE_PRO       - writes a record to :PRO.
       25       25                  ASD$GR_WRITE_PRO    - writes a record to :PRO.
       26       26                  ASD$OPEN_PRO_CR     - creates :PRO
       27       27                  ASD$OPEN_PRO_UP     - creates :PRO updpate
       28       28                  ASD$CLOSE_PRO       - closes :PRO
       29       29                  ASD$DELREC_PRO      - deletes a record from :PRO
       30       30                  ASD$GR_DELREC_PRO      - deletes a graphics record from :PRO
       31       31                  ASD$PREC_PRO        - postions to a record in :PRO
       32       32        */
       33       33
       34       34
       35       35        ASD$PRO_IO: PROC( KEY, BUFF, ARS ) ALTRET ;

PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:14   
     35  4 000000   000000 700200 xent  ASD$PRO_IO   TSX0  ! X66_AUTO_3
         4 000001   000010 000003                    ZERO    8,3
         4 000002   000005 710000 4                  TRA     s:14231

       36       36
       37       37        /********************************************************************/
       38       38        /*   Include files   include files   include files   include files   */
       39       39        /*********************************************************************/
       40       40
       41       41        %INCLUDE            AS_ENTRIES_M ;
       42     1091        %INCLUDE            AS_SUPER_C ;
       43     1526        %INCLUDE            AS_SUBS_C ;
       44     2940        %INCLUDE            AS_SSUBS_C ;
       45     3032        %INCLUDE            AS_MAC_C ;
       46     3112        %INCLUDE            CP_6 ;
       47     3193        %INCLUDE            B_ERRORS_C ;
       48     4320        %INCLUDE            KL_SUPER_C ;
       49     7222        %INCLUDE            XU_MACRO_C ;
       50    10328        %INCLUDE            XU_FORMAT_C ;
       51    10490        %INCLUDE            AS_SUPER_R ;
       52    13506
       53    13507        /********************************************************************/
       54    13508        /*   Parameters      parameters      parameters      parameters      */
       55    13509        /*********************************************************************/
       56    13510
       57    13511    1   DCL 1 KEY ALIGNED ,
       58    13512    1          2 CNT UBIN BYTE UNAL ,
       59    13513    1          2 TEXT CHAR(11) UNAL ;
       60    13514    1   DCL BUFF CHAR(AS_PRO_BUF_SIZEC);
       61    13515    1   DCL 1 GR_KEY ALIGNED STATIC,
       62    13516    1          2 CNT UBIN BYTE UNAL INIT(21),
       63    13517    1          2 TEXT CHAR(11) UNAL INIT(' '),
       64    13518    1          2 * CHAR(10) UNAL INIT(' :graphics');
       65    13519    1   DCL ARS UBIN WORD ;
       66    13520    1   DCL KEY_CNT UBIN WORD ;
       67    13521
       68    13522
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:15   
       69    13523        /*********************************************************************/
       70    13524        /*   Entry dcls      entry dcls      entry dcls      entry dcls      */
       71    13525        /*********************************************************************/
       72    13526        %ASH$ERROR;
       73    13529        /*********************************************************************/
       74    13530        /*   Local based     local based     local based     local based     */
       75    13531        /*********************************************************************/
       76    13532
       77    13533        %B$ALT ;
       78    13541        %B$TCB ;
       79    13544        %F$DCB ;
       80    13601
       81    13602        /*********************************************************************/
       82    13603        /*   Symref's        symref's        symref's        symref's        */
       83    13604        /*********************************************************************/
       84    13605
       85    13606    1   DCL B$TCB$ PTR SYMREF ;
       86    13607
       87    13608        /*********************************************************************/
       88    13609        /*   Fpts            fpts            fpts            fpts            */
       89    13610        /*********************************************************************/
       90    13611
       91    13612              %FPT_READ  (FPTN = READ_FPT ,
       92    13613                          DCB = M$PRO ,
       93    13614                          KEYS = YES ) ;
       94    13653              %FPT_READ    (FPTN = READ_SEQ_FPT ,
       95    13654                            DCB = M$PRO ,
       96    13655                            KEYR = YES ,
       97    13656                            KEYS = NO ) ;
       98    13695              %FPT_WRITE  (FPTN = WRITE_FPT ,
       99    13696                           ONEWKEY = YES ,
      100    13697                           DCB = M$PRO) ;
      101    13728              %FPT_OPEN (FPTN=OPEN_CR_FPT ,
      102    13729                          NAME = FILE_NAME ,
      103    13730                          ACCT = FILE_ACCT ,
      104    13731                          ASN  = FILE ,
      105    13732                          DCB = M$PRO ,
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:16   
      106    13733                          ACS = DIRECT ,
      107    13734                          ORG = KEYED ,
      108    13735                          ACSVEH = VLP_ATTR ,
      109    13736                          ACCESS = VLP_ATTR_ACC ,
      110    13737                          IXTNSIZE = 8 ,
      111    13738                          XTNSIZE = 8 ,
      112    13739                          FUN = CREATE ) ;
      113    13848              %FPT_OPEN (FPTN=OPEN_UP_FPT ,
      114    13849                          NAME = FILE_NAME ,
      115    13850                          ACCT = FILE_ACCT ,
      116    13851                          ASN  = FILE ,
      117    13852                          DCB = M$PRO ,
      118    13853                          ACS = DIRECT ,
      119    13854                          ORG = KEYED ,
      120    13855                          FUN = UPDATE ,
      121    13856                          SHARE = ALL) ;
      122    13965              %FPT_ENQ  ( FPTN = FPT_ENQ ,
      123    13966                          DCB = M$PRO ,
      124    13967                          SHARE = NONE ) ;
      125    13985              %FPT_DEQ  ( FPTN = FPT_DEQ ,
      126    13986                          DCB = M$PRO ) ;
      127    14003              %FPT_CLOSE  (FPTN = CLOSE_FPT ,
      128    14004                           DCB = M$PRO ,
      129    14005                           DISP = SAVE) ;
      130    14047
      131    14048              %FPT_DELREC  (FPTN = DELREC_FPT ,
      132    14049                            KEY = USERS_KEY ,
      133    14050                            DCB = M$PRO) ;
      134    14069              %FPT_DELREC  (FPTN = GR_DELREC_FPT ,
      135    14070                            KEY = GR_KEY ,
      136    14071                            DCB = M$PRO) ;
      137    14090              %FPT_PRECORD (FPTN = PREC_FPT,
      138    14091                            DCB = M$PRO,
      139    14092                            KEYS = YES,
      140    14093                            KEYR = YES,
      141    14094                            N = 0);
      142    14115
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:17   
      143    14116        /*********************************************************************/
      144    14117        /*   Vlps            vlps            vlps            vlps            */
      145    14118        /*********************************************************************/
      146    14119
      147    14120              %VLP_NAME( FPTN=FILE_NAME, NAME=':PRO' ) ;
      148    14147        %VLP_ATTR  ;
      149    14161        %VLP_ACSVEH ( UPD  = YES ,
      150    14162                      DELR = YES ,
      151    14163                      WNEW = YES ,
      152    14164                      READ = YES ,
      153    14165                      VEHICLE = 'SUPER' ,
      154    14166                      LAST = ";" ) ;
      155    14183              %VLP_ATTR(  FPTN = VLP_ATTR_ACC ) ;
      156    14197              %VLP_ACCESS(  READ = YES ,
      157    14198                            EXEC = YES,
      158    14199                            ACCT = '?' ,
      159    14200                            LAST=";") ;
      160    14217
      161    14218        /*********************************************************************/
      162    14219        /*   Dcbs            dcbs            dcbs            dcbs            */
      163    14220        /*********************************************************************/
      164    14221
      165    14222    1   DCL M$PRO DCB ;                                 /*   Dcb for :PRO.   */
      166    14223
      167    14224        %EJECT;
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:18   
      168    14225        /********************************************************************/
      169    14226        /*   Procedure       procedure       procedure       procedure       */
      170    14227        /*********************************************************************/
      171    14228
      172    14229    1   ASD$READ_PRO: ENTRY( KEY, BUFF, ARS ) ALTRET ;

  14229  4 000003   000000 700200 xent  ASD$READ_PRO TSX0  ! X66_AUTO_3
         4 000004   000010 000003                    ZERO    8,3

      173    14230
      174    14231    1   KEY_CNT = KEY.CNT;

  14231  4 000005   200003 470500                    LDP0    @KEY,,AUTO
         4 000006   000000 236100                    LDQ     0,,PR0
         4 000007   000033 772000                    QRL     27
         4 000010   200006 756100                    STQ     KEY_CNT,,AUTO

      175    14232    1   READ_FPT.BUF_ = VECTOR( BUFF ) ;

  14232  4 000011   000000 235000 5                  LDA     0
         4 000012   200004 236100                    LDQ     @BUFF,,AUTO
         4 000013   000012 757000 2                  STAQ    READ_FPT+4

      176    14233    1   READ_FPT.KEY_ = VECTOR( KEY ) ;

  14233  4 000014   000001 235000 5                  LDA     1
         4 000015   200003 236100                    LDQ     @KEY,,AUTO
         4 000016   000010 757000 2                  STAQ    READ_FPT+2

      177    14234    1   BUFF = AS_BLANK ;

  14234  4 000017   200004 471500                    LDP1    @BUFF,,AUTO
         4 000020   040100 100400                    MLR     fill='040'O
         4 000021   000000 000001 xsym               ADSC9   AS_BLANK                 cn=0,n=1
         4 000022   100000 002000                    ADSC9   0,,PR1                   cn=0,n=1024

      178    14235    1   CALL M$READ ( READ_FPT ) ALTRET ( IO_ERR ) ;
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:19   

  14235  4 000023   000006 630400 2                  EPPR0   READ_FPT
         4 000024   440000 713400                    CLIMB   alt,read
         4 000025   401400 401760                    pmme    nvectors=4
         4 000026   000374 702000 4                  TSX2    IO_ERR

      179    14236    1   ARS = DCBADDR(DCBNUM(M$PRO)) -> F$DCB.ARS# ;

  14236  4 000027   000000 236007 xsym               LDQ     M$PRO,DL
         4 000030   000002 470400 5                  LDP0    2
         4 000031   000000 471500                    LDP1    0,,PR0
         4 000032   100000 473506                    LDP3    0,QL,PR1
         4 000033   300000 235100                    LDA     0,,PR3
         4 000034   200005 473500                    LDP3    @ARS,,AUTO
         4 000035   300000 755100                    STA     0,,PR3

      180    14237    1   RETURN ;

  14237  4 000036   000000 702200 xent               TSX2  ! X66_ARET

      181    14238
      182    14239    1   ASD$GR_READ_PRO: ENTRY( KEY, BUFF, ARS ) ALTRET ;

  14239  4 000037   000000 700200 xent  ASD$GR_READ* TSX0  ! X66_AUTO_3
         4 000040   000010 000003                    ZERO    8,3

      183    14240
      184    14241    1   KEY_CNT = KEY.CNT;

  14241  4 000041   200003 470500                    LDP0    @KEY,,AUTO
         4 000042   000000 236100                    LDQ     0,,PR0
         4 000043   000033 772000                    QRL     27
         4 000044   200006 756100                    STQ     KEY_CNT,,AUTO

      185    14242    1   BUFF = AS_BLANK ;

  14242  4 000045   200004 471500                    LDP1    @BUFF,,AUTO
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:20   
         4 000046   040100 100400                    MLR     fill='040'O
         4 000047   000000 000001 xsym               ADSC9   AS_BLANK                 cn=0,n=1
         4 000050   100000 002000                    ADSC9   0,,PR1                   cn=0,n=1024

      186    14243    1   GR_KEY.TEXT = ' ' ;

  14243  4 000051   040000 100400                    MLR     fill='040'O
         4 000052   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         4 000053   000000 200013 2                  ADSC9   GR_KEY                   cn=1,n=11

      187    14244    1   CALL INSERT( GR_KEY.TEXT,0,KEY.CNT,KEY.TEXT ) ;

  14244  4 000054   000000 236100                    LDQ     0,,PR0
         4 000055   000033 772000                    QRL     27
         4 000056   000000 620006                    EAX0    0,QL
         4 000057   040040 100500                    MLR     fill='040'O
         4 000060   000000 200013                    ADSC9   0,,PR0                   cn=1,n=11
         4 000061   000000 200010 2                  ADSC9   GR_KEY                   cn=1,n=*X0

      188    14245    1   READ_FPT.BUF_ = VECTOR( BUFF ) ;

  14245  4 000062   000000 235000 5                  LDA     0
         4 000063   200004 236100                    LDQ     @BUFF,,AUTO
         4 000064   000012 757000 2                  STAQ    READ_FPT+4

      189    14246    1   READ_FPT.KEY_ = VECTOR( GR_KEY ) ;

  14246  4 000065   000004 237000 5                  LDAQ    4
         4 000066   000010 757000 2                  STAQ    READ_FPT+2

      190    14247    1   CALL M$READ ( READ_FPT ) ALTRET ( IO_ERR ) ;

  14247  4 000067   000006 630400 2                  EPPR0   READ_FPT
         4 000070   440000 713400                    CLIMB   alt,read
         4 000071   401400 401760                    pmme    nvectors=4
         4 000072   000374 702000 4                  TSX2    IO_ERR

PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:21   
      191    14248    1   ARS = DCBADDR(DCBNUM(M$PRO)) -> F$DCB.ARS# ;

  14248  4 000073   000000 236007 xsym               LDQ     M$PRO,DL
         4 000074   000002 470400 5                  LDP0    2
         4 000075   000000 471500                    LDP1    0,,PR0
         4 000076   100000 473506                    LDP3    0,QL,PR1
         4 000077   300000 235100                    LDA     0,,PR3
         4 000100   200005 473500                    LDP3    @ARS,,AUTO
         4 000101   300000 755100                    STA     0,,PR3

      192    14249    1   RETURN ;

  14249  4 000102   000000 702200 xent               TSX2  ! X66_ARET

      193    14250
      194    14251
      195    14252
      196    14253
      197    14254    1   ASD$READ_PRO_SEQ: ENTRY (KEY, BUFF, ARS) ALTRET ;

  14254  4 000103   000000 700200 xent  ASD$READ_PR* TSX0  ! X66_AUTO_3
         4 000104   000010 000003                    ZERO    8,3

  14248  4 000105                       GR_READ_AGN  null
      198    14255
      199    14256    1   GR_READ_AGN: ;
      200    14257    1   KEY_CNT = KEY.CNT;

  14257  4 000105   200003 470500                    LDP0    @KEY,,AUTO
         4 000106   000000 236100                    LDQ     0,,PR0
         4 000107   000033 772000                    QRL     27
         4 000110   200006 756100                    STQ     KEY_CNT,,AUTO

      201    14258    1   READ_SEQ_FPT.BUF_ = VECTOR(BUFF) ;

  14258  4 000111   000000 235000 5                  LDA     0
         4 000112   200004 236100                    LDQ     @BUFF,,AUTO
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:22   
         4 000113   000030 757000 2                  STAQ    READ_SEQ_FPT+4

      202    14259    1   READ_SEQ_FPT.KEY_ = VECTOR(KEY) ;

  14259  4 000114   000001 235000 5                  LDA     1
         4 000115   200003 236100                    LDQ     @KEY,,AUTO
         4 000116   000026 757000 2                  STAQ    READ_SEQ_FPT+2

      203    14260                 /* This read will implicitly altreturn if the key is larger
      204    14261                    than 11 chars.  That is because the key is defined for 11
      205    14262                    chars.  This makes super ignore records with keys > 11
      206    14263                    chars when doing sequential reads throught the :PRO file.
      207    14264                 */
      208    14265    1   CALL M$READ(READ_SEQ_FPT) ALTRET ( GR_RD_ABORT ) ;

  14265  4 000117   000024 630400 2                  EPPR0   READ_SEQ_FPT
         4 000120   440000 713400                    CLIMB   alt,read
         4 000121   401400 401760                    pmme    nvectors=4
         4 000122   000133 702000 4                  TSX2    GR_RD_ABORT

      209    14266    1   ARS = DCBADDR(DCBNUM(M$PRO)) -> F$DCB.ARS# ;

  14266  4 000123   000000 236007 xsym               LDQ     M$PRO,DL
         4 000124   000002 470400 5                  LDP0    2
         4 000125   000000 471500                    LDP1    0,,PR0
         4 000126   100000 473506                    LDP3    0,QL,PR1
         4 000127   300000 235100                    LDA     0,,PR3
         4 000130   200005 473500                    LDP3    @ARS,,AUTO
         4 000131   300000 755100                    STA     0,,PR3

      210    14267    1   RETURN ;

  14267  4 000132   000000 702200 xent               TSX2  ! X66_ARET

  14266  4 000133                       GR_RD_ABORT  null
      211    14268    1   GR_RD_ABORT: ;
      212    14269    1   ERR_CODE = B$TCB$->B$TCB.ALT$->B$ALT.ERR;
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:23   

  14269  4 000133   000000 470400 xsym               LDP0    B$TCB$
         4 000134   000000 471500                    LDP1    0,,PR0
         4 000135   100102 236100                    LDQ     66,,PR1
         4 000136   000000 756000 xsym               STQ     ERR_CODE

      213    14270    1   IF ((MERR_CODE.CODE = %E$EOF))

  14270  4 000137   000000 236000 xsym               LDQ     ERR_CODE
         4 000140   377770 376007                    ANQ     131064,DL
         4 000141   000060 116007                    CMPQ    48,DL
         4 000142   000374 600000 4                  TZE     IO_ERR

      214    14271    1   THEN GOTO IO_ERR;
      215    14272    1   ELSE GOTO GR_READ_AGN;

  14272  4 000143   000105 710000 4                  TRA     GR_READ_AGN

      216    14273
      217    14274
      218    14275
      219    14276    1   ASD$WRITE_PRO: ENTRY ( KEY, BUFF, ARS ) ALTRET ;

  14276  4 000144   000000 700200 xent  ASD$WRITE_P* TSX0  ! X66_AUTO_3
         4 000145   000010 000003                    ZERO    8,3

      220    14277
      221    14278    1   WRITE_FPT.BUF_.BUF$ = ADDR( BUFF ) ;

  14278  4 000146   200004 236100                    LDQ     @BUFF,,AUTO
         4 000147   000047 756000 2                  STQ     WRITE_FPT+5

      222    14279    1   WRITE_FPT.BUF_.BOUND = ARS ;

  14279  4 000150   200005 470500                    LDP0    @ARS,,AUTO
         4 000151   000000 236100                    LDQ     0,,PR0
         4 000152   000020 736000                    QLS     16
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:24   
         4 000153   000046 676000 2                  ERQ     WRITE_FPT+4
         4 000154   000034 376000 xsym               ANQ     B_VECTNIL+28
         4 000155   000046 656000 2                  ERSQ    WRITE_FPT+4

      223    14280    1   WRITE_FPT.KEY_ = VECTOR( KEY ) ;

  14280  4 000156   000001 235000 5                  LDA     1
         4 000157   200003 236100                    LDQ     @KEY,,AUTO
         4 000160   000044 757000 2                  STAQ    WRITE_FPT+2

      224    14281    1   FPT_ENQ.RNAME_ = VECTOR( KEY ) ;

  14281  4 000161   000001 235000 5                  LDA     1
         4 000162   200003 236100                    LDQ     @KEY,,AUTO
         4 000163   000244 757000 2                  STAQ    FPT_ENQ+2

      225    14282    1   FPT_DEQ.RNAME_ = VECTOR( KEY ) ;

  14282  4 000164   000001 235000 5                  LDA     1
         4 000165   200003 236100                    LDQ     @KEY,,AUTO
         4 000166   000256 757000 2                  STAQ    FPT_DEQ+2

      226    14283    1   CALL M$ENQ ( FPT_ENQ ) ALTRET( ENQ_ERR ) ;

  14283  4 000167   000242 630400 2                  EPPR0   FPT_ENQ
         4 000170   420002 713400                    CLIMB   alt,+8194
         4 000171   401000 401760                    pmme    nvectors=3
         4 000172   000173 702000 4                  TSX2    ENQ_ERR

  14282  4 000173                       ENQ_ERR      null
      227    14284    1   ENQ_ERR: ;
      228    14285    1   CALL M$WRITE( WRITE_FPT ) ALTRET( WRITE_ERR ) ;

  14285  4 000173   000042 630400 2                  EPPR0   WRITE_FPT
         4 000174   440001 713400                    CLIMB   alt,write
         4 000175   401400 401760                    pmme    nvectors=4
         4 000176   000204 702000 4                  TSX2    WRITE_ERR
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:25   

      229    14286    1   CALL M$DEQ ( FPT_DEQ ) ALTRET( DEQ_ERR ) ;

  14286  4 000177   000254 630400 2                  EPPR0   FPT_DEQ
         4 000200   420003 713400                    CLIMB   alt,+8195
         4 000201   401000 401760                    pmme    nvectors=3
         4 000202   000203 702000 4                  TSX2    DEQ_ERR

  14282  4 000203                       DEQ_ERR      null
      230    14287    1   DEQ_ERR: ;
      231    14288    1   RETURN ;

  14288  4 000203   000000 702200 xent               TSX2  ! X66_ARET

  14282  4 000204                       WRITE_ERR    null
      232    14289
      233    14290    1   WRITE_ERR: ;
      234    14291    1   ERR_CODE = B$TCB$->B$TCB.ALT$->B$ALT.ERR ;

  14291  4 000204   000000 470400 xsym               LDP0    B$TCB$
         4 000205   000000 471500                    LDP1    0,,PR0
         4 000206   100102 236100                    LDQ     66,,PR1
         4 000207   000000 756000 xsym               STQ     ERR_CODE

      235    14292    1   AS_DCBNUM# = DCBNUM( M$PRO );

  14292  4 000210   000000 236007 xsym               LDQ     M$PRO,DL
         4 000211   000000 756000 xsym               STQ     AS_DCBNUM#

      236    14293    1   CALL ASH$ERROR (ERR_CODE);

  14293  4 000212   000006 630400 5                  EPPR0   6
         4 000213   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000214   000000 701000 xent               TSX1    ASH$ERROR
         4 000215   000000 011000                    NOP     0

      237    14294    1   CALL M$DEQ ( FPT_DEQ ) ALTRET( DEQ_ERR2 ) ;
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:26   

  14294  4 000216   000254 630400 2                  EPPR0   FPT_DEQ
         4 000217   420003 713400                    CLIMB   alt,+8195
         4 000220   401000 401760                    pmme    nvectors=3
         4 000221   000222 702000 4                  TSX2    DEQ_ERR2

  14292  4 000222                       DEQ_ERR2     null
      238    14295    1   DEQ_ERR2: ;
      239    14296    1   ALTRETURN ;

  14296  4 000222   000000 702200 xent               TSX2  ! X66_AALT

      240    14297
      241    14298
      242    14299    1   ASD$GR_WRITE_PRO: ENTRY ( KEY, BUFF, ARS ) ALTRET ;

  14299  4 000223   000000 700200 xent  ASD$GR_WRIT* TSX0  ! X66_AUTO_3
         4 000224   000010 000003                    ZERO    8,3

      243    14300
      244    14301    1   GR_KEY.TEXT = ' ' ;

  14301  4 000225   040000 100400                    MLR     fill='040'O
         4 000226   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         4 000227   000000 200013 2                  ADSC9   GR_KEY                   cn=1,n=11

      245    14302    1   CALL INSERT( GR_KEY.TEXT,0,KEY.CNT,KEY.TEXT ) ;

  14302  4 000230   200003 470500                    LDP0    @KEY,,AUTO
         4 000231   000000 236100                    LDQ     0,,PR0
         4 000232   000033 772000                    QRL     27
         4 000233   000000 620006                    EAX0    0,QL
         4 000234   040040 100500                    MLR     fill='040'O
         4 000235   000000 200013                    ADSC9   0,,PR0                   cn=1,n=11
         4 000236   000000 200010 2                  ADSC9   GR_KEY                   cn=1,n=*X0

      246    14303    1   WRITE_FPT.BUF_.BUF$ = ADDR( BUFF ) ;
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:27   

  14303  4 000237   200004 236100                    LDQ     @BUFF,,AUTO
         4 000240   000047 756000 2                  STQ     WRITE_FPT+5

      247    14304    1   WRITE_FPT.BUF_.BOUND = ARS ;

  14304  4 000241   200005 471500                    LDP1    @ARS,,AUTO
         4 000242   100000 236100                    LDQ     0,,PR1
         4 000243   000020 736000                    QLS     16
         4 000244   000046 676000 2                  ERQ     WRITE_FPT+4
         4 000245   000034 376000 xsym               ANQ     B_VECTNIL+28
         4 000246   000046 656000 2                  ERSQ    WRITE_FPT+4

      248    14305    1   WRITE_FPT.KEY_ = VECTOR( GR_KEY ) ;

  14305  4 000247   000004 237000 5                  LDAQ    4
         4 000250   000044 757000 2                  STAQ    WRITE_FPT+2

      249    14306    1   FPT_ENQ.RNAME_ = VECTOR( GR_KEY ) ;

  14306  4 000251   000004 237000 5                  LDAQ    4
         4 000252   000244 757000 2                  STAQ    FPT_ENQ+2

      250    14307    1   FPT_DEQ.RNAME_ = VECTOR( GR_KEY ) ;

  14307  4 000253   000004 237000 5                  LDAQ    4
         4 000254   000256 757000 2                  STAQ    FPT_DEQ+2

      251    14308    1   CALL M$ENQ ( FPT_ENQ ) ALTRET( GR_ENQ_ERR ) ;

  14308  4 000255   000242 630400 2                  EPPR0   FPT_ENQ
         4 000256   420002 713400                    CLIMB   alt,+8194
         4 000257   401000 401760                    pmme    nvectors=3
         4 000260   000261 702000 4                  TSX2    GR_ENQ_ERR

  14307  4 000261                       GR_ENQ_ERR   null
      252    14309    1   GR_ENQ_ERR: ;
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:28   
      253    14310    1   CALL M$WRITE( WRITE_FPT ) ALTRET( GR_WRITE_ERR ) ;

  14310  4 000261   000042 630400 2                  EPPR0   WRITE_FPT
         4 000262   440001 713400                    CLIMB   alt,write
         4 000263   401400 401760                    pmme    nvectors=4
         4 000264   000272 702000 4                  TSX2    GR_WRITE_ERR

      254    14311    1   CALL M$DEQ ( FPT_DEQ ) ALTRET( GR_DEQ_ERR ) ;

  14311  4 000265   000254 630400 2                  EPPR0   FPT_DEQ
         4 000266   420003 713400                    CLIMB   alt,+8195
         4 000267   401000 401760                    pmme    nvectors=3
         4 000270   000271 702000 4                  TSX2    GR_DEQ_ERR

  14307  4 000271                       GR_DEQ_ERR   null
      255    14312    1   GR_DEQ_ERR: ;
      256    14313    1   RETURN ;

  14313  4 000271   000000 702200 xent               TSX2  ! X66_ARET

  14307  4 000272                       GR_WRITE_ERR null
      257    14314
      258    14315    1   GR_WRITE_ERR: ;
      259    14316    1   ERR_CODE = B$TCB$->B$TCB.ALT$->B$ALT.ERR ;

  14316  4 000272   000000 470400 xsym               LDP0    B$TCB$
         4 000273   000000 471500                    LDP1    0,,PR0
         4 000274   100102 236100                    LDQ     66,,PR1
         4 000275   000000 756000 xsym               STQ     ERR_CODE

      260    14317    1   AS_DCBNUM# = DCBNUM( M$PRO );

  14317  4 000276   000000 236007 xsym               LDQ     M$PRO,DL
         4 000277   000000 756000 xsym               STQ     AS_DCBNUM#

      261    14318    1   CALL ASH$ERROR (ERR_CODE);

PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:29   
  14318  4 000300   000006 630400 5                  EPPR0   6
         4 000301   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000302   000000 701000 xent               TSX1    ASH$ERROR
         4 000303   000000 011000                    NOP     0

      262    14319    1   CALL M$DEQ ( FPT_DEQ ) ALTRET( GR_DEQ_ERR2 ) ;

  14319  4 000304   000254 630400 2                  EPPR0   FPT_DEQ
         4 000305   420003 713400                    CLIMB   alt,+8195
         4 000306   401000 401760                    pmme    nvectors=3
         4 000307   000310 702000 4                  TSX2    GR_DEQ_ERR2

  14317  4 000310                       GR_DEQ_ERR2  null
      263    14320    1   GR_DEQ_ERR2: ;
      264    14321    1   ALTRETURN ;

  14321  4 000310   000000 702200 xent               TSX2  ! X66_AALT

      265    14322
      266    14323
      267    14324    1   ASD$OPEN_PRO_CR: ENTRY ALTRET ;

  14324  4 000311   000000 700200 xent  ASD$OPEN_PR* TSX0  ! X66_AUTO_3
         4 000312   000010 000003                    ZERO    8,3

      268    14325
      269    14326    1   CALL M$OPEN( OPEN_CR_FPT ) ALTRET( IO_ERR ) ;

  14326  4 000313   000056 630400 2                  EPPR0   OPEN_CR_FPT
         4 000314   450000 713400                    CLIMB   alt,open
         4 000315   410400 401760                    pmme    nvectors=18
         4 000316   000374 702000 4                  TSX2    IO_ERR

      270    14327    1   RETURN ;

  14327  4 000317   000000 702200 xent               TSX2  ! X66_ARET

PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:30   
      271    14328
      272    14329
      273    14330
      274    14331    1   ASD$OPEN_PRO_UP: ENTRY ALTRET ;

  14331  4 000320   000000 700200 xent  ASD$OPEN_PR* TSX0  ! X66_AUTO_3
         4 000321   000010 000003                    ZERO    8,3

      275    14332
      276    14333    1   CALL M$OPEN( OPEN_UP_FPT ) ALTRET( IO_ERR ) ;

  14333  4 000322   000150 630400 2                  EPPR0   OPEN_UP_FPT
         4 000323   450000 713400                    CLIMB   alt,open
         4 000324   410400 401760                    pmme    nvectors=18
         4 000325   000374 702000 4                  TSX2    IO_ERR

      277    14334    1   RETURN ;

  14334  4 000326   000000 702200 xent               TSX2  ! X66_ARET

      278    14335
      279    14336
      280    14337
      281    14338    1   ASD$CLOSE_PRO: ENTRY ALTRET ;

  14338  4 000327   000000 700200 xent  ASD$CLOSE_P* TSX0  ! X66_AUTO_3
         4 000330   000010 000003                    ZERO    8,3

      282    14339
      283    14340    1   IF FAST_FLAG THEN RETURN ;                 /*   Fast mode.    */

  14340  4 000331   000000 234000 xsym               SZN     FAST_FLAG
         4 000332   000334 605000 4                  TPL     s:14341

  14340  4 000333   000000 702200 xent               TSX2  ! X66_ARET

      284    14341    1   CALL M$CLOSE( CLOSE_FPT ) ALTRET( IO_ERR ) ;
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:31   

  14341  4 000334   000264 630400 2                  EPPR0   CLOSE_FPT
         4 000335   450001 713400                    CLIMB   alt,close
         4 000336   406000 401760                    pmme    nvectors=13
         4 000337   000374 702000 4                  TSX2    IO_ERR

      285    14342    1   RETURN ;

  14342  4 000340   000000 702200 xent               TSX2  ! X66_ARET

      286    14343
      287    14344
      288    14345
      289    14346    1   ASD$DELREC_PRO: ENTRY     ALTRET ;

  14346  4 000341   000000 700200 xent  ASD$DELREC_* TSX0  ! X66_AUTO_3
         4 000342   000010 000003                    ZERO    8,3

      290    14347
      291    14348    1   CALL M$DELREC (DELREC_FPT) ALTRET(IO_ERR) ;

  14348  4 000343   000322 630400 2                  EPPR0   DELREC_FPT
         4 000344   440002 713400                    CLIMB   alt,+16386
         4 000345   401400 401760                    pmme    nvectors=4
         4 000346   000374 702000 4                  TSX2    IO_ERR

      292    14349    1   RETURN ;

  14349  4 000347   000000 702200 xent               TSX2  ! X66_ARET

      293    14350
      294    14351    1   ASD$GR_DELREC_PRO: ENTRY     ALTRET ;

  14351  4 000350   000000 700200 xent  ASD$GR_DELR* TSX0  ! X66_AUTO_3
         4 000351   000010 000003                    ZERO    8,3

      295    14352
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:32   
      296    14353    1   GR_KEY.TEXT = USERS_KEY.TXTC ;

  14353  4 000352   040000 100400                    MLR     fill='040'O
         4 000353   000000 200013 xsym               ADSC9   USERS_KEY                cn=1,n=11
         4 000354   000000 200013 2                  ADSC9   GR_KEY                   cn=1,n=11

      297    14354    1   CALL M$DELREC (GR_DELREC_FPT) ALTRET(IO_ERR) ;

  14354  4 000355   000334 630400 2                  EPPR0   GR_DELREC_FPT
         4 000356   440002 713400                    CLIMB   alt,+16386
         4 000357   401400 401760                    pmme    nvectors=4
         4 000360   000374 702000 4                  TSX2    IO_ERR

      298    14355    1   RETURN ;

  14355  4 000361   000000 702200 xent               TSX2  ! X66_ARET

      299    14356
      300    14357
      301    14358
      302    14359    1   ASD$PREC_PRO: ENTRY(KEY) ALTRET;

  14359  4 000362   000000 700200 xent  ASD$PREC_PRO TSX0  ! X66_AUTO_3
         4 000363   000010 000003                    ZERO    8,3

      303    14360
      304    14361    1   PREC_FPT.KEY_ = VECTOR( KEY ) ;

  14361  4 000364   000001 235000 5                  LDA     1
         4 000365   200003 236100                    LDQ     @KEY,,AUTO
         4 000366   000350 757000 2                  STAQ    PREC_FPT+2

      305    14362    1   CALL M$PRECORD (PREC_FPT) ALTRET(IO_ERR) ;

  14362  4 000367   000346 630400 2                  EPPR0   PREC_FPT
         4 000370   440003 713400                    CLIMB   alt,+16387
         4 000371   401000 401760                    pmme    nvectors=3
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:33   
         4 000372   000374 702000 4                  TSX2    IO_ERR

      306    14363    1   RETURN ;

  14363  4 000373   000000 702200 xent               TSX2  ! X66_ARET

  14361  4 000374                       IO_ERR       null
      307    14364
      308    14365    1   IO_ERR: ;
      309    14366    1   ERR_CODE = B$TCB$ -> B$TCB.ALT$ -> B$ALT.ERR ;

  14366  4 000374   000000 470400 xsym               LDP0    B$TCB$
         4 000375   000000 471500                    LDP1    0,,PR0
         4 000376   100102 236100                    LDQ     66,,PR1
         4 000377   000000 756000 xsym               STQ     ERR_CODE

      310    14367    1   AS_DCBNUM# = DCBNUM( M$PRO );

  14367  4 000400   000000 236007 xsym               LDQ     M$PRO,DL
         4 000401   000000 756000 xsym               STQ     AS_DCBNUM#

      311    14368    1   ALTRETURN ;

  14368  4 000402   000000 702200 xent               TSX2  ! X66_AALT
      312    14369
      313    14370    1   END   ASD$PRO_IO ;

PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:34   
--  Include file information  --

   AS_SUPER_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   KL_SUPER_C.:E05TOU  is referenced.
   B_ERRORS_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   AS_MAC_C.:E05TOU  cannot be made into a system file and is referenced.
   AS_SSUBS_C.:E05TOU  is referenced.
   AS_SUBS_C.:E05TOU  is referenced.
   AS_SUPER_C.:E05TOU  is referenced.
   AS_ENTRIES_M.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure ASD$PRO_IO.
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:35   

 **** Variables and constants ****

  ****  Section 002  Data  ASD$PRO_IO

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   264-0-0/d STRC(1080)  r     1 CLOSE_FPT                322-0-0/d STRC(360)   r     1 DELREC_FPT
   360-0-0/c STRC(45)    r     1 FILE_NAME                254-0-0/d STRC(288)   r     1 FPT_DEQ
   242-0-0/d STRC(360)   r     1 FPT_ENQ                  334-0-0/d STRC(360)   r     1 GR_DELREC_FPT
     0-0-0/w STRC(198)   r     1 GR_KEY                    56-0-0/d STRC(2088)  r     1 OPEN_CR_FPT
   150-0-0/d STRC(2088)  r     1 OPEN_UP_FPT              346-0-0/d STRC(360)   r     1 PREC_FPT
     6-0-0/d STRC(504)   r     1 READ_FPT                  24-0-0/d STRC(504)   r     1 READ_SEQ_FPT
   362-0-0/w STRC(108)   r     1 VLP_ATTR                 365-0-0/w STRC(126)   r     1 VLP_ATTR_ACC
    42-0-0/d STRC(432)   r     1 WRITE_FPT

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     5-0-0/w PTR         r     1 @ARS                       4-0-0/w PTR         r     1 @BUFF
     3-0-0/w PTR         r     1 @KEY                      *0-0-0/w UBIN        r     1 ARS
    *0-0-0/c CHAR(1024)  r     1 BUFF                      *0-0-0/w STRC(108)   r     1 KEY
     6-0-0/w UBIN        r     1 KEY_CNT

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR        r     1 AS_BLANK                   0-0-0/w UBIN        r     1 AS_DCBNUM#
     0-0-0/w PTR         r     1 B$TCB$                     0-0-0/b STRC        r     1 ERR_CODE
     0-0-0/b BIT         r     1 FAST_FLAG                  0-0-0/c STRC(72)    r     1 FILE_ACCT
     0-0-0/b STRC        r     1 MERR_CODE                  0-0-0/c STRC(378)   r     1 USERS_KEY

  ****  BASED and DCB variables  ****
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:36   

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(2448)  r     1 B$ALT                      0-0-0/w STRC(144)   r     1 B$TCB
     0-0-0/d ASTR(3528)  r     1 F$DCB                      0-0-0N  NULL        r     1 M$PRO


   Procedure ASD$PRO_IO requires 259 words for executable code.
   Procedure ASD$PRO_IO requires 8 words of local(AUTO) storage.

    No errors detected in file ASD$PRO_IO.:E05TSI    .
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:37   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:38   
          MINI XREF LISTING

ARS
     13519**DCL        35--PROC    14229--ENTRY   14236<<ASSIGN  14239--ENTRY   14248<<ASSIGN  14254--ENTRY
     14266<<ASSIGN  14276--ENTRY   14279>>ASSIGN  14299--ENTRY   14304>>ASSIGN
ASA_BRKS_LOC
     10654**DCL     10654--REDEF
ASH$ERROR
     13527**DCL-ENT 14293--CALL    14318--CALL
AS_BLANK
     10514**DCL     14234>>ASSIGN  14242>>ASSIGN
AS_DCBNUM#
     10661**DCL     14292<<ASSIGN  14317<<ASSIGN  14367<<ASSIGN
AS_DEFAULT.BANNER_PERM
     11347**DCL     11348--REDEF
AS_DEFAULT.BUDGET.MACCT
     11252**DCL     11256--REDEF
AS_DEFAULT.BUDGET.MAX_PROJECTS
     11265**DCL     11268--REDEF
AS_DEFAULT.BUDGET.PACCUM
     11248**DCL     11250--REDEF
AS_DEFAULT.BUDGET.PMAXC
     11243**DCL     11245--REDEF
AS_DEFAULT.SETUP_CHRA.TXT
     11363**DCL     11364--REDEF   11365--REDEF
AS_DEFAULT_DREC.PASSWORD
     12617**DCL     12621--REDEF
AS_DEFAULT_DREC.RENAME
     12640**DCL     12641--REDEF
AS_DFLT.BANNER_PERM
     11169**DCL     11170--REDEF
AS_DFLT.BUDGET.MACCT
     11074**DCL     11078--REDEF
AS_DFLT.BUDGET.MAX_PROJECTS
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:39   
     11087**DCL     11090--REDEF
AS_DFLT.BUDGET.PACCUM
     11070**DCL     11072--REDEF
AS_DFLT.BUDGET.PMAXC
     11065**DCL     11067--REDEF
AS_DFLT.SETUP_CHRA.TXT
     11185**DCL     11186--REDEF   11187--REDEF
AS_FE_MODE
     10520**DCL     10521--REDEF
AS_MODE
     10517**DCL     10519--REDEF
AS_MOD_USER.ACCESS
     13382**DCL     13383--REDEF
AS_MOD_USER.BANNER
     13369**DCL     13370--REDEF
AS_MOD_USER.BANNER_PERM
     13371**DCL     13372--REDEF
AS_MOD_USER.BILL
     13377**DCL     13378--REDEF
AS_MOD_USER.CPROC
     13373**DCL     13374--REDEF
AS_MOD_USER.FEBILL
     13453**DCL     13454--REDEF
AS_MOD_USER.FECXTMEM
     13470**DCL     13471--REDEF
AS_MOD_USER.FEMINTS
     13455**DCL     13456--REDEF
AS_MOD_USER.FEMMEM
     13466**DCL     13467--REDEF
AS_MOD_USER.FEMTIME
     13464**DCL     13465--REDEF
AS_MOD_USER.FEPPRIV
     13461**DCL     13463--REDEF
AS_MOD_USER.FEPRIV
     13458**DCL     13460--REDEF
AS_MOD_USER.FORCE_BIT
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:40   
     13367**DCL     13368--REDEF
AS_MOD_USER.KEY
     13449**DCL     13451--REDEF
AS_MOD_USER.LASTCPROC
     13375**DCL     13376--REDEF
AS_MOD_USER.LIMITS.DO_
     13423**DCL     13424--REDEF
AS_MOD_USER.LIMITS.FPOOLS
     13439**DCL     13440--REDEF
AS_MOD_USER.LIMITS.LO
     13419**DCL     13420--REDEF
AS_MOD_USER.LIMITS.MEM
     13415**DCL     13416--REDEF
AS_MOD_USER.LIMITS.MPRIO
     13443**DCL     13444--REDEF
AS_MOD_USER.LIMITS.PDIS
     13431**DCL     13432--REDEF
AS_MOD_USER.LIMITS.PO
     13427**DCL     13428--REDEF
AS_MOD_USER.LIMITS.TDIS
     13435**DCL     13436--REDEF
AS_MOD_USER.LIMITS.TIME
     13411**DCL     13412--REDEF
AS_MOD_USER.MAXENQ
     13392**DCL     13393--REDEF
AS_MOD_USER.PERM_BIT
     13365**DCL     13366--REDEF
AS_MOD_USER.PPRIV
     13387**DCL     13389--REDEF
AS_MOD_USER.PRIOB
     13394**DCL     13395--REDEF
AS_MOD_USER.PRIV
     13384**DCL     13386--REDEF
AS_MOD_USER.QUAN
     13390**DCL     13391--REDEF
AS_MOD_USER.SETUP
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:41   
     13363**DCL     13364--REDEF
AS_PROJECT.BANNER_PERM
     11703**DCL     11704--REDEF
AS_PROJECT.BUDGET.MACCT
     11608**DCL     11612--REDEF
AS_PROJECT.BUDGET.MAX_PROJECTS
     11621**DCL     11624--REDEF
AS_PROJECT.BUDGET.PACCUM
     11604**DCL     11606--REDEF
AS_PROJECT.BUDGET.PMAXC
     11599**DCL     11601--REDEF
AS_PROJECT.SETUP_CHRA.TXT
     11719**DCL     11720--REDEF   11721--REDEF
AS_PROJECT_DFLT.BANNER_PERM
     11881**DCL     11882--REDEF
AS_PROJECT_DFLT.BUDGET.MACCT
     11786**DCL     11790--REDEF
AS_PROJECT_DFLT.BUDGET.MAX_PROJECTS
     11799**DCL     11802--REDEF
AS_PROJECT_DFLT.BUDGET.PACCUM
     11782**DCL     11784--REDEF
AS_PROJECT_DFLT.BUDGET.PMAXC
     11777**DCL     11779--REDEF
AS_PROJECT_DFLT.SETUP_CHRA.TXT
     11897**DCL     11898--REDEF   11899--REDEF
AS_PROJECT_DFLT_DREC.PASSWORD
     13103**DCL     13107--REDEF
AS_PROJECT_DFLT_DREC.RENAME
     13126**DCL     13127--REDEF
AS_PROJECT_DREC.PASSWORD
     12941**DCL     12945--REDEF
AS_PROJECT_DREC.RENAME
     12964**DCL     12965--REDEF
AS_PROJ_ADMIN.BANNER_PERM
     11525**DCL     11526--REDEF
AS_PROJ_ADMIN.BUDGET.MACCT
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:42   
     11430**DCL     11434--REDEF
AS_PROJ_ADMIN.BUDGET.MAX_PROJECTS
     11443**DCL     11446--REDEF
AS_PROJ_ADMIN.BUDGET.PACCUM
     11426**DCL     11428--REDEF
AS_PROJ_ADMIN.BUDGET.PMAXC
     11421**DCL     11423--REDEF
AS_PROJ_ADMIN.SETUP_CHRA.TXT
     11541**DCL     11542--REDEF   11543--REDEF
AS_PROJ_ADMIN_DREC.PASSWORD
     12779**DCL     12783--REDEF
AS_PROJ_ADMIN_DREC.RENAME
     12802**DCL     12803--REDEF
AS_USERS.BANNER_PERM
     10991**DCL     10992--REDEF
AS_USERS.BUDGET.MACCT
     10896**DCL     10900--REDEF
AS_USERS.BUDGET.MAX_PROJECTS
     10909**DCL     10912--REDEF
AS_USERS.BUDGET.PACCUM
     10892**DCL     10894--REDEF
AS_USERS.BUDGET.PMAXC
     10887**DCL     10889--REDEF
AS_USERS.SETUP_CHRA.TXT
     11007**DCL     11008--REDEF   11009--REDEF
AS_USERS_CONSTANT.BANNER_PERM
     12059**DCL     12060--REDEF
AS_USERS_CONSTANT.BUDGET.MACCT
     11964**DCL     11968--REDEF
AS_USERS_CONSTANT.BUDGET.MAX_PROJECTS
     11977**DCL     11980--REDEF
AS_USERS_CONSTANT.BUDGET.PACCUM
     11960**DCL     11962--REDEF
AS_USERS_CONSTANT.BUDGET.PMAXC
     11955**DCL     11957--REDEF
AS_USERS_CONSTANT.SETUP_CHRA.TXT
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:43   
     12075**DCL     12076--REDEF   12077--REDEF
B$ALT.CODE
     13535**DCL     13535--REDEF   13536--REDEF   13536--REDEF
B$ALT.ERR
     13536**DCL     14269>>ASSIGN  14291>>ASSIGN  14316>>ASSIGN  14366>>ASSIGN
B$ALT.ERR.ERR#
     13537**DCL     13537--REDEF
B$ALT.EVID
     13536**DCL     13536--REDEF   13536--REDEF
B$TCB.ALT$
     13542**DCL     14269>>ASSIGN  14291>>ASSIGN  14316>>ASSIGN  14366>>ASSIGN
B$TCB$
     13606**DCL     14269>>ASSIGN  14291>>ASSIGN  14316>>ASSIGN  14366>>ASSIGN
BUFF
     13514**DCL        35--PROC    14229--ENTRY   14232--ASSIGN  14234<<ASSIGN  14239--ENTRY   14242<<ASSIGN
     14245--ASSIGN  14254--ENTRY   14258--ASSIGN  14276--ENTRY   14278--ASSIGN  14299--ENTRY   14303--ASSIGN
CLOSE_FPT
     14028**DCL     14341<>CALL
CLOSE_FPT.SN_
     14028**DCL     14028--REDEF
CLOSE_FPT.UTL_
     14029**DCL     14029--REDEF
CLOSE_FPT.V
     14033**DCL     14028--DCLINIT
CLOSE_FPT.V.EXPIRE#
     14043**DCL     14043--REDEF
CLOSE_FPT.V.TYPE#
     14041**DCL     14041--REDEF
CLOSE_FPT.V.XTNSIZE#
     14038**DCL     14038--REDEF   14040--REDEF
DELREC_FPT
     14061**DCL     14348<>CALL
DELREC_FPT.V
     14064**DCL     14061--DCLINIT
DEQ_ERR
     14282**LABEL   14286--CALLALT
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:44   
DEQ_ERR2
     14292**LABEL   14294--CALLALT
ENQ_ERR
     14282**LABEL   14283--CALLALT
ERR_CODE
     10649**DCL     10650--REDEF   14269<<ASSIGN  14291<<ASSIGN  14293<>CALL    14316<<ASSIGN  14318<>CALL
     14366<<ASSIGN
F$DCB.ACTPOS
     13577**DCL     13577--REDEF
F$DCB.ARS#
     13551**DCL     13551--REDEF   14236>>ASSIGN  14248>>ASSIGN  14266>>ASSIGN
F$DCB.ATTR
     13570**DCL     13571--REDEF
F$DCB.BORROW
     13585**DCL     13585--REDEF   13585--REDEF   13585--REDEF
F$DCB.DCBNAME.L
     13599**DCL     13599--IMP-SIZ
F$DCB.EOMCHAR#
     13555**DCL     13555--REDEF
F$DCB.FLDID
     13580**DCL     13580--REDEF
F$DCB.FORM$
     13574**DCL     13574--REDEF
F$DCB.FSECT
     13590**DCL     13590--REDEF
F$DCB.FSN#
     13567**DCL     13567--REDEF   13567--REDEF   13568--REDEF
F$DCB.HEADER$
     13573**DCL     13573--REDEF
F$DCB.IXTNSIZE#
     13571**DCL     13571--REDEF
F$DCB.LASTSTA$
     13560**DCL     13560--REDEF
F$DCB.LVL
     13586**DCL     13586--REDEF
F$DCB.NAME#.C
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:45   
     13561**DCL     13561--REDEF
F$DCB.NOEOF
     13583**DCL     13583--REDEF
F$DCB.NRECS#
     13572**DCL     13572--REDEF
F$DCB.NRECX
     13591**DCL     13591--REDEF
F$DCB.OHDR
     13583**DCL     13583--REDEF
F$DCB.ORG#
     13566**DCL     13566--REDEF
F$DCB.PRECNO
     13589**DCL     13589--REDEF
F$DCB.RCSZ
     13595**DCL     13595--REDEF
F$DCB.RES#
     13562**DCL     13562--REDEF
F$DCB.SETX
     13574**DCL     13574--REDEF
F$DCB.TAB$
     13574**DCL     13574--REDEF
F$DCB.TDA
     13588**DCL     13589--REDEF
F$DCB.WSN#
     13562**DCL     13562--REDEF
FAST_FLAG
     10647**DCL     14340>>IF
FILE_ACCT
     10657**DCL     13809--DCLINIT 13926--DCLINIT
FILE_NAME
     14145**DCL     13805--DCLINIT 13922--DCLINIT
FPT_DEQ
     13997**DCL     14286<>CALL    14294<>CALL    14311<>CALL    14319<>CALL
FPT_DEQ.RNAME_
     13997**DCL     14282<<ASSIGN  14307<<ASSIGN
FPT_DEQ.V
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:46   
     13998**DCL     13997--DCLINIT
FPT_ENQ
     13978**DCL     14283<>CALL    14308<>CALL
FPT_ENQ.RNAME_
     13978**DCL     14281<<ASSIGN  14306<<ASSIGN
FPT_ENQ.V
     13979**DCL     13978--DCLINIT
GR_DELREC_FPT
     14082**DCL     14354<>CALL
GR_DELREC_FPT.V
     14085**DCL     14082--DCLINIT
GR_DEQ_ERR
     14307**LABEL   14311--CALLALT
GR_DEQ_ERR2
     14317**LABEL   14319--CALLALT
GR_ENQ_ERR
     14307**LABEL   14308--CALLALT
GR_KEY
     13515**DCL     14082--DCLINIT 14083--DCLINIT 14246--ASSIGN  14305--ASSIGN  14306--ASSIGN  14307--ASSIGN
GR_KEY.TEXT
     13517**DCL     14243<<ASSIGN  14244<<CALLBLT 14301<<ASSIGN  14302<<CALLBLT 14353<<ASSIGN
GR_RD_ABORT
     14266**LABEL   14265--CALLALT
GR_READ_AGN
     14248**LABEL   14272--GOTO
GR_WRITE_ERR
     14307**LABEL   14310--CALLALT
IO_ERR
     14361**LABEL   14235--CALLALT 14247--CALLALT 14271--GOTO    14326--CALLALT 14333--CALLALT 14341--CALLALT
     14348--CALLALT 14354--CALLALT 14362--CALLALT
KEY
     13511**DCL        35--PROC    14229--ENTRY   14233--ASSIGN  14239--ENTRY   14254--ENTRY   14259--ASSIGN
     14276--ENTRY   14280--ASSIGN  14281--ASSIGN  14282--ASSIGN  14299--ENTRY   14359--ENTRY   14361--ASSIGN
KEY.CNT
     13512**DCL     14231>>ASSIGN  14241>>ASSIGN  14244>>CALLBLT 14257>>ASSIGN  14302>>CALLBLT
KEY.TEXT
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:47   
     13513**DCL     14244>>CALLBLT 14302>>CALLBLT
KEY_CNT
     13520**DCL     14231<<ASSIGN  14241<<ASSIGN  14257<<ASSIGN
KL_DEFAULT.PASSWORD
     13265**DCL     13269--REDEF
KL_DEFAULT.RENAME
     13288**DCL     13289--REDEF
KL_DFLT.PASSWORD
     12455**DCL     12459--REDEF
KL_DFLT.RENAME
     12478**DCL     12479--REDEF
KL_DREC.PASSWORD
     12293**DCL     12297--REDEF
KL_DREC.RENAME
     12316**DCL     12317--REDEF
KL_DREC_CNT.PASSWORD
     12180**DCL     12184--REDEF
KL_DREC_CNT.RENAME
     12203**DCL     12204--REDEF
M$CLOSE
      3121**DCL-ENT 14341--CALL
M$DELREC
      3123**DCL-ENT 14348--CALL    14354--CALL
M$DEQ
      3188**DCL-ENT 14286--CALL    14294--CALL    14311--CALL    14319--CALL
M$ENQ
      3187**DCL-ENT 14283--CALL    14308--CALL
M$OPEN
      3121**DCL-ENT 14326--CALL    14333--CALL
M$PRECORD
      3125**DCL-ENT 14362--CALL
M$PRO
     14222**DCL     14236--ASSIGN  14248--ASSIGN  14266--ASSIGN  14292>>ASSIGN  14317>>ASSIGN  14367>>ASSIGN
M$READ
      3122**DCL-ENT 14235--CALL    14247--CALL    14265--CALL
M$WRITE
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:48   
      3122**DCL-ENT 14285--CALL    14310--CALL
MERR_CODE.CODE
     10650**DCL     14270>>IF
OPEN_CR_FPT
     13804**DCL     14326<>CALL
OPEN_CR_FPT.ACSVEH_
     13806**DCL     13807--REDEF
OPEN_CR_FPT.ALTKEYS_
     13812**DCL     13813--REDEF   13813--REDEF
OPEN_CR_FPT.HDR_
     13811**DCL     13812--REDEF
OPEN_CR_FPT.TAB_
     13810**DCL     13811--REDEF
OPEN_CR_FPT.UHL_
     13804**DCL     13805--REDEF   13805--REDEF
OPEN_CR_FPT.V
     13813**DCL     13804--DCLINIT
OPEN_CR_FPT.V.FSN#
     13844**DCL     13844--REDEF   13844--REDEF
OPEN_CR_FPT.WSN_
     13810**DCL     13810--REDEF
OPEN_UP_FPT
     13921**DCL     14333<>CALL
OPEN_UP_FPT.ACSVEH_
     13923**DCL     13924--REDEF
OPEN_UP_FPT.ALTKEYS_
     13929**DCL     13930--REDEF   13930--REDEF
OPEN_UP_FPT.HDR_
     13928**DCL     13929--REDEF
OPEN_UP_FPT.TAB_
     13927**DCL     13928--REDEF
OPEN_UP_FPT.UHL_
     13921**DCL     13922--REDEF   13922--REDEF
OPEN_UP_FPT.V
     13930**DCL     13921--DCLINIT
OPEN_UP_FPT.V.FSN#
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:49   
     13961**DCL     13961--REDEF   13961--REDEF
OPEN_UP_FPT.WSN_
     13927**DCL     13927--REDEF
PREC_FPT
     14105**DCL     14362<>CALL
PREC_FPT.KEY_
     14105**DCL     14361<<ASSIGN
PREC_FPT.V
     14107**DCL     14105--DCLINIT
PROJ_KEY.TEXT
     10527**DCL     10527--REDEF
PROJ_KEY.TXT.PROJECT
     10527**DCL     10527--REDEF
READ_FPT
     13631**DCL     14235<>CALL    14247<>CALL
READ_FPT.BUF_
     13633**DCL     14232<<ASSIGN  14245<<ASSIGN
READ_FPT.KEY_
     13631**DCL     14233<<ASSIGN  14246<<ASSIGN
READ_FPT.STATION_
     13634**DCL     13635--REDEF
READ_FPT.V
     13635**DCL     13631--DCLINIT
READ_FPT.V.DVBYTE.REREAD#
     13646**DCL     13646--REDEF
READ_FPT.V.INDX#
     13644**DCL     13644--REDEF
READ_SEQ_FPT
     13673**DCL     14265<>CALL
READ_SEQ_FPT.BUF_
     13675**DCL     14258<<ASSIGN
READ_SEQ_FPT.KEY_
     13673**DCL     14259<<ASSIGN
READ_SEQ_FPT.STATION_
     13676**DCL     13677--REDEF
READ_SEQ_FPT.V
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:50   
     13677**DCL     13673--DCLINIT
READ_SEQ_FPT.V.DVBYTE.REREAD#
     13688**DCL     13688--REDEF
READ_SEQ_FPT.V.INDX#
     13686**DCL     13686--REDEF
REMEM_VAR
     10653**DCL     10653--REDEF
REM_FCMD
     10653**DCL     10654--REDEF
USERS_KEY
     10524**DCL     14061--DCLINIT 14062--DCLINIT
USERS_KEY.TEXT
     10524**DCL     10525--REDEF   10525--REDEF   10525--REDEF   10526--REDEF
USERS_KEY.TXTC
     10525**DCL     14353>>ASSIGN
VLP_ATTR
     14158**DCL     13807--DCLINIT
VLP_ATTR.Q
     14159**DCL     14158--DCLINIT
VLP_ATTR_ACC
     14194**DCL     13806--DCLINIT
VLP_ATTR_ACC.Q
     14195**DCL     14194--DCLINIT
WRITE_ERR
     14282**LABEL   14285--CALLALT
WRITE_FPT
     13714**DCL     14285<>CALL    14310<>CALL
WRITE_FPT.BUF_.BOUND
     13714**DCL     14279<<ASSIGN  14304<<ASSIGN
WRITE_FPT.BUF_.BUF$
     13716**DCL     14278<<ASSIGN  14303<<ASSIGN
WRITE_FPT.KEY_
     13714**DCL     14280<<ASSIGN  14305<<ASSIGN
WRITE_FPT.STATION_
     13716**DCL     13716--REDEF
WRITE_FPT.V
PL6.E3A0      #001=ASD$PRO_IO File=ASD$PRO_IO.:E05TSI                            TUE 07/29/97 09:48 Page:51   
     13717**DCL     13714--DCLINIT
WRITE_FPT.V.DVBYTE.VFC#
     13723**DCL     13723--REDEF

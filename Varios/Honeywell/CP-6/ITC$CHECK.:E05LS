VERSION E05

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:1    
        1        1        /*M*     TIGR syntax checking routines */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /**/
        8        8        /*X* DMR */
        9        9        /*P*     NAME:     ITC$CHECK
       10       10                 PURPOSE:  ITC$CHECK contains the routines that do the syntax
       11       11                           checking on TIGR commands.
       12       12                 PARAMETERS: PCB - the parse control block
       13       13                 OUTPUT:   A command table built in Data Segment 5(DS5).
       14       14        */
       15       15        ITC$CHECK_DT: PROC(PCB) ALTRET;
       16       16        /**/
       17       17        /* ENTRY DCLS */
       18       18        /**/
       19       19    1   DCL ITI$IOM ENTRY(1) ALTRET;
       20       20    1   DCL ITD$DISKTAPE ENTRY(1) ALTRET;
       21       21    1   DCL ITU$UNIT ENTRY(1) ALTRET;
       22       22    1   DCL ITS$SYSCON ENTRY(1) ALTRET;
       23       23    1   DCL ITF$FEP ENTRY(1) ALTRET;
       24       24    1   DCL ITH$CHECK_CHANNUM ENTRY(2) ALTRET;
       25       25    1   DCL ITH$CHECK_DEVNAME ENTRY(2) ALTRET;
       26       26        /**/
       27       27        /*  Include files  */
       28       28        /**/
       29       29        %INCLUDE XU_MACRO_C;
       30     3135        %INCLUDE IT_SUBS_C;
       31     3402        %INCLUDE IT_ERROR_C;
       32     3485        %INCLUDE KI_DATA_R;
       33     3511        %INCLUDE KI_MACROS_C;
       34     4119        %KI$FEI(STCLASS=BASED);
       35     4203        %INCLUDE NI_DATA_R;
       36     4640        %INCLUDE KI_SUBS_C;
       37     4776        %INCLUDE OC_SUBS_C;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:2    
       38     5507        %INCLUDE UM_CP6;
       39     6359        %INCLUDE CP_6_SUBS;
       40     6899        %INCLUDE FR_DATA_R;
       41     6931        %INCLUDE HF_DATA_R;
       42     6974        %INCLUDE FM_CACHE_R;
       43     6986        %INCLUDE SS_SCHED_R;
       44     7029        /**/
       45     7030        %SUB YES = '1'B/*Yes*/;
       46     7031        %SUB NO = '0'B/*No*/;
       47     7032        /**/
       48     7033        /*  Parameter */
       49     7034        %P$PCB  (NAME=PCB,STCLASS=" ");
       50     7235        /**/
       51     7236        /*  Automatic  */
       52     7237    1   DCL CMD$ PTR;
       53     7238    1   DCL CTLR$ PTR;
       54     7239    1   DCL DEV$ PTR;
       55     7240    1   DCL BLK$ PTR;
       56     7241    1   DCL TEMP$ PTR;
       57     7242    1   DCL OPT$ PTR;
       58     7243    1   DCL DVBLK$ PTR;
       59     7244    1   DCL DEVLIST$ PTR;
       60     7245    1   DCL MPCLIST$ PTR;
       61     7246    1   DCL OLD$ PTR;
       62     7247    1   DCL OLD_DEVS SBIN;
       63     7248    1   DCL NUM_OLDS SBIN;
       64     7249    1   DCL I SBIN(36);
       65     7250    1   DCL J SBIN(36);
       66     7251    1   DCL K SBIN(36);
       67     7252    1   DCL L SBIN(36);
       68     7253    1   DCL TEMP SBIN(36);
       69     7254    1   DCL DVTX SBIN;
       70     7255    1   DCL MODX SBIN;
       71     7256    1   DCL FX SBIN;                            /* FEATURE BOARD NUMBER */
       72     7257    1   DCL LA_IOM# SBIN(36);
       73     7258    1   DCL OPTS# SBIN(36);
       74     7259    1   DCL IOMCHAN# SBIN(36);
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:3    
       75     7260    1   DCL 1 TEXTC,
       76     7261    1         2 COUNT UBIN(9) UNAL,
       77     7262    1         2 TEXT CHAR(8) UNAL;
       78     7263    1   DCL 1 FTEXTC,
       79     7264    1         2 COUNT UBIN(9) UNAL,
       80     7265    1         2 TEXT CHAR(8) UNAL;
       81     7266        /**/
       82     7267        /*  Based  */
       83     7268        /**/
       84     7269    1   DCL 1 TEXT$C BASED,
       85     7270    1         2 COUNT UBIN BYTE UNAL,
       86     7271    1         2 TEXT CHAR(TEXT$C.COUNT) UNAL;
       87     7272    1   DCL 1 SP_TEXT$C BASED,
       88     7273    1         2 COUNT UBIN(9) UNAL,
       89     7274    1         2 TEXT CHAR(31) UNAL;
       90     7275        %INCLUDE IT$MPC;
       91     7309        %INCLUDE IT$APC;
       92     7338        %INCLUDE IT$APDEV;
       93     7367        %INCLUDE IT$DTDEV;
       94     7402        %INCLUDE IT$UNITDEV;
       95     7440        %INCLUDE IT$CMDWD;
       96     7448        %INCLUDE IT$IOM;
       97     7459        %INCLUDE IT$SPROC;
       98     7477        %INCLUDE IT$MONOPT;
       99     7493        %INCLUDE IT$CONSOLE;
      100     7611        %INCLUDE IT$CONFIG;
      101     7680        %INCLUDE IT$FEP;
      102     7706        %INCLUDE IT$CPU;
      103     7718        %INCLUDE IT$RES;
      104     7736        %PARSE$OUT(NAME=P$O, STCLASS = BASED);
      105     7781        %PARSE$SYM(NAME=P$S,STCLASS = BASED);
      106     7819        %NI$MBX;
      107     7838        %NI$DVT;
      108     7845        /**/
      109     7846        /*  Constants  */
      110     7847        /**/
      111     7848        %OC$INFO(FPTN=OC_INFO,STCLASS=CONSTANT);
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:4    
      112     7885    1   DCL 1 MPC_CNTWD CONSTANT,
      113     7886    1         2 * BIT(18) INIT(NO) UNAL,
      114     7887    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$MPC)) UNAL,
      115     7888    1         2 TYPE UBIN(9) INIT(%ITS_MPC) UNAL;
      116     7889        /**/
      117     7890    1   DCL 1 DTDEV_CNTWD CONSTANT,
      118     7891    1         2 * BIT(18) INIT(NO) UNAL,
      119     7892    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$DTDEV)) UNAL,
      120     7893    1         2 TYPE UBIN(9) INIT(%ITS_DEV) UNAL;
      121     7894        /**/
      122     7895    1   DCL 1 UNITDEV_CNTWD CONSTANT,
      123     7896    1         2 * BIT(18) INIT(NO) UNAL,
      124     7897    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$UNITDEV)) UNAL,
      125     7898    1         2 TYPE UBIN(9) INIT(%ITS_DEV) UNAL;
      126     7899        /**/
      127     7900    1   DCL 1 SPROC_CNTWD CONSTANT,
      128     7901    1         2 * BIT(18) INIT(NO) UNAL,
      129     7902    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$SPROC)) UNAL,
      130     7903    1         2 TYPE UBIN(9) INIT(%ITS_SPROC) UNAL;
      131     7904        /**/
      132     7905    1   DCL 1 RES_CNTWD CONSTANT,
      133     7906    1         2 * BIT(18) INIT(NO) UNAL,
      134     7907    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$RES)) UNAL,
      135     7908    1         2 TYPE UBIN(9) INIT(%ITS_RES) UNAL;
      136     7909        /**/
      137     7910    1   DCL 1 CONSOLE_CNTWD CONSTANT,
      138     7911    1         2 * BIT(18) INIT(NO) UNAL,
      139     7912    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$CONSOLE)) UNAL,
      140     7913    1         2 TYPE UBIN(9) INIT(%ITS_CONSOLE) UNAL;
      141     7914        /**/
      142     7915    1   DCL 1 FEP_CNTWD CONSTANT,
      143     7916    1         2 * BIT(18) INIT(NO) UNAL,
      144     7917    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$FEP)) UNAL,
      145     7918    1         2 TYPE UBIN(9) INIT(%ITS_FEP) UNAL;
      146     7919        /**/
      147     7920    1   DCL 1 APC_CNTWD CONSTANT,
      148     7921    1         2 * BIT(18) UNAL,
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:5    
      149     7922    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$APC)) UNAL,
      150     7923    1         2 TYPE UBIN(9) INIT(%ITS_AP) UNAL;
      151     7924        /**/
      152     7925    1   DCL 1 APDEV_CNTWD CONSTANT,
      153     7926    1         2 * BIT(18) UNAL,
      154     7927    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$APDEV)) UNAL,
      155     7928    1         2 TYPE UBIN(9) INIT(%ITS_DEV) UNAL;
      156     7929        /**/
      157     7930        /*  Entry dcls */
      158     7931    1   DCL ITE$ERROR ENTRY(2);
      159     7932        /**/
      160     7933        /*  Symrefs */
      161     7934    1   DCL B$DS5$ PTR SYMREF;                  /* Commands                          */
      162     7935        %INCLUDE B$P;
      163     8019    1   DCL S_MING UBIN(36) SYMREF;
      164     8020    1   DCL MM_PCORE SBIN WORD SYMREF;
      165     8021    1   DCL IT_TXT_LOCAL CHAR(5) SYMREF;
      166     8022    1   DCL IT_TXT_0000 CHAR(4) SYMREF;
      167     8023    1   DCL IT_VFC(0:14) BIT(36) ALIGNED SYMREF;
      168     8024    1   DCL IT_CHAIN500(0:5) CHAR(40) ALIGNED SYMREF;
      169     8025    1   DCL IT_CHAIN600(0:5) CHAR(40) ALIGNED SYMREF;
      170     8026    1   DCL IT_FEI$$ PTR SYMREF;
      171     8027    1   DCL IT_WSNX UBIN WORD SYMREF;
      172     8028    1   DCL 1 IT_WSN SYMREF,
      173     8029    1         2 NAME(0:0) CHAR(8) UNAL;
      174     8030        %IT$CONFIG(NAME=IT_CONFIG,STCLASS=SYMREF);
      175     8091        /**/
      176     8092        %VLR_SITEINFO(FPTN=B_SITEINFO,STCLASS=SYMREF);
      177     8111        /**/
      178     8112        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:6    
      179     8113        /*D*     NAME:     ITC$CHECK_DT
      180     8114                 PURPOSE:      The DISK and TAPE commands are checked by
      181     8115                           ITC$CHECK_DT.
      182     8116                 DESCRIPTION: ITC$CHECK_DT uses two subroutines to do most of
      183     8117                           the work of checking the command syntax and building
      184     8118                           the command table. BUILD_MPC decodes the link
      185     8119                           adapter to IOM connection portion of the command and
      186     8120                           BUILD_DEV handles the device specifications.
      187     8121                 INPUT:    PCB - parse control block - parameter
      188     8122                 OUTPUT:   Command table built - pointed to by CMD$
      189     8123                           RETURN if no errors - else ALTRETURN            */
      190     8124        /**/
      191     8125    1           CMD$ = B$DS5$;
      192     8126        /**/
      193     8127    1           CMD$->IT$CMDWD = PCB.OUT$->P$O.CODE;
      194     8128    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CMDWD));
      195     8129    1           MPCLIST$ = CMD$;
      196     8130        /**/
      197     8131    2           DO I = 0 TO PCB.OUT$->P$O.NSUBLKS - 1;
      198     8132    3              DO CASE(PCB.OUT$->P$O.SUBLK$(I)->P$O.CODE);
      199     8133        /**/
      200     8134    3               CASE(%ITS_MPC);
      201     8135    3                 CALL BUILD_MPC ALTRET(ERR_RTN);
      202     8136        /**/
      203     8137    3               CASE(%ITS_DEV);
      204     8138    3                 CALL BUILD_DEV ALTRET(ERR_RTN);
      205     8139    3               END;
      206     8140    2              END;
      207     8141    1           CMD$->IT$CMDWD = %ITS_ENDCMD;
      208     8142    1           RETURN;
      209     8143        /**/
      210     8144    1   ERR_RTN:
      211     8145    1           ALTRETURN;
      212     8146        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:7    
      213     8147        /*D*     INTERNAL ROUTINE:  BUILD_MPC
      214     8148                 DESCRIPTION: BUILD_MPC will fill in the based structure IT$MPC
      215     8149                           with the up to four LA-IOM connections of an MPC.
      216     8150                           Each MPC may have 1 or 2 link adapters(LAs). Each LA
      217     8151                           is connected to 1 or 2 IOMs. Each LA-IOM connection
      218     8152                           may involve 1 channel or a range of channels. BUILD_MPC
      219     8153                           first gets the device type of the MPC and stores it.
      220     8154                           Then a loop is started to process all LA-IOM connections.
      221     8155                           In this loop(IOMCHAN:) :
      222     8156                                LA_IOM# - index into LA-IOM connection table
      223     8157                                          in IT$MPC.
      224     8158                                K - counter of the number of options specified
      225     8159                                     in the LA  portion of the DISK or TAPE command
      226     8160                                    (IOM#s,first channel and last channel).
      227     8161                                J - counter of number of LAs specified.
      228     8162
      229     8163                           BUILD_MPC will ALTRETURN for a number of reasons
      230     8164                          (IOM# too large, Channel range too large,etc.). If
      231     8165                           no errors are found it RETURNS normally */
      232     8166        /**/
      233     8167    1   BUILD_MPC: PROC ALTRET;
      234     8168        /**/
      235     8169    2           BLK$ =  PCB.OUT$->P$O.SUBLK$(I);
      236     8170        /**/
      237     8171    2           CMD$->IT$MPC = NO;
      238     8172    2           CMD$->IT$MPC.CNTWD = MPC_CNTWD;
      239     8173        /**/
      240     8174    2           LA_IOM# = 0;
      241     8175        /**/
      242     8176    3           IF B$DS5$->IT$CMDWD = %ITS_DISK THEN DO;
      243     8177    3              CMD$->IT$MPC.MPCNM.MNEM = 'DC';
      244     8178    3              TEXTC.COUNT = 7;
      245     8179    3              TEXTC.TEXT = %DEFAULTDISKFW;
      246     8180        /**/
      247     8181    3              END;
      248     8182    3           ELSE DO;
      249     8183    3              CMD$->IT$MPC.MPCNM.MNEM = 'TC';
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:8    
      250     8184    3              TEXTC.COUNT = 7;
      251     8185    3              TEXTC.TEXT = %DEFAULTTAPEFW;
      252     8186    3              END;
      253     8187    2           CALL GET_TYPE(TEXTC) ALTRET(BM_ALT); /* Get dev type of mpc          */
      254     8188    2           CMD$->IT$MPC.MPCTYPE = DVTX;
      255     8189    2           CMD$->IT$MPC.MODX = MODX;
      256     8190    2           CMD$->IT$MPC.FX = FX;
      257     8191    2           CMD$->IT$MPC.FWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.FWNAME;
      258     8192    2           CMD$->IT$MPC.LPFWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.LPNAME;
      259     8193    2           CMD$->IT$MPC.CRPFWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.CRPNAME;
      260     8194    3           DO J=0 TO BLK$->P$O.SUBLK$(0)->P$O.NSUBLKS-1;
      261     8195    3              TEMP$ = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(J);
      262     8196    4              DO SELECT (TEMP$->P$O.CODE);
      263     8197    4                 SELECT (%ITS_NAMENUM);
      264     8198    4                 CMD$->IT$MPC.MPCNM.BLANKS  = IT_TXT_0000;
      265     8199    5                 IF TEMP$->P$S.COUNT ~= 2 THEN DO;
      266     8200    5                    CALL ITE$ERROR(%E$2CHARDEV#);
      267     8201    5                    ALTRETURN;
      268     8202    5                    END;
      269     8203    4                 CMD$->IT$MPC.MPCNM.NUM = SUBSTR(TEMP$->P$S.TEXT,0,2);
      270     8204    4                 OLD$ = MPCLIST$;
      271     8205    5                 DO OLD_DEVS = 0 TO I-1;   /* check all previous devices */
      272     8206    5                    IF OLD_DEVS ~= 0 THEN
      273     8207    5                       OLD$ = PINCRW(OLD$,SIZEW(IT$MPC));
      274     8208    6                    IF CMD$->IT$MPC.MPCNAME = OLD$->IT$MPC.MPCNAME THEN DO;
      275     8209    6                       TEXTC.TEXT = CMD$->IT$MPC.MPCNAME;
      276     8210    6                       TEXTC.COUNT = 4;
      277     8211    6                       CALL ITE$ERROR (%E$DUPDEVNAME,ADDR(TEXTC));
      278     8212    6                       ALTRETURN;
      279     8213    6                       END;                /*IF*/
      280     8214    5                    END;                   /*DO*/
      281     8215    4                 CALL ITH$CHECK_DEVNAME (CMD$->IT$MPC.MPCNAME, ) ALTRET (BM_ALT);
      282     8216    4                 SELECT (%ITS_STATUS);
      283     8217    4                 IF TEMP$->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN
      284     8218    4                    CMD$->IT$MPC.FLAGS.DOWN = YES;
      285     8219    4                 SELECT (%ITS_DTMPCMODEL);
      286     8220    5                 IF TEMP$->P$O.SUBLK$(0)->P$S.COUNT > 8 THEN DO;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:9    
      287     8221    5                    CALL ITE$ERROR(%E$MODELNUM2LONG);
      288     8222    5                    ALTRETURN;
      289     8223    5                    END;
      290     8224    4                 TEXTC = TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;
      291     8225    4                 CALL GET_TYPE(TEXTC) ALTRET(BM_ALT); /*get dev type of model*/
      292     8226    4                 CMD$->IT$MPC.FWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.FWNAME;
      293     8227    4                 CMD$->IT$MPC.MPCTYPE =DVTX;
      294     8228    4                 CMD$->IT$MPC.MODX = MODX;
      295     8229    4                 CMD$->IT$MPC.FX = FX;
      296     8230    4                 END;
      297     8231    3              END;
      298     8232        /*
      299     8233          ****  PROCESS LA(S)
      300     8234        */
      301     8235    3           DO J = 1 TO BLK$->P$O.NSUBLKS-1;
      302     8236    3              OPTS# = BLK$->P$O.SUBLK$(J)->P$O.NSUBLKS; /*# OF IOM_CHANS*/
      303     8237        /*
      304     8238          ****     PROCESS IOM(S) FOR THIS LA
      305     8239        */
      306     8240    4              DO K=0 TO BLK$->P$O.SUBLK$(J)->P$O.NSUBLKS-1;
      307     8241    4                 CMD$->IT$MPC.LA_IOM.PRESENCE(LA_IOM#) = YES;
      308     8242        /*
      309     8243          ****        PROCESS OPTIONS FOR THIS IOM
      310     8244        */
      311     8245    5                 DO L=0 TO BLK$->P$O.SUBLK$(J)->P$O.SUBLK$(K)->P$O.NSUBLKS-1;
      312     8246    5                    TEMP$ = BLK$->P$O.SUBLK$(J)->P$O.SUBLK$(K)->P$O.SUBLK$(L);
      313     8247    6                    DO SELECT (TEMP$->P$O.CODE);
      314     8248    6                       SELECT (%ITS_IOM#);
      315     8249    6                       TEXTC = TEMP$->P$O.SUBLK$(0)->TEXT$C;
      316     8250    6                       CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
      317     8251    7                       IF TEMP > NI_IOMS-1 THEN DO;
      318     8252    7                          CALL ITE$ERROR(%E$IOM2BIG);
      319     8253    7                          ALTRETURN;
      320     8254    7                          END;
      321     8255    6                       CMD$->IT$MPC.LA_IOM.IOM#(LA_IOM#) = TEMP;
      322     8256    6                       SELECT (%ITS_LOWCHAN);
      323     8257    6                       TEXTC = TEMP$->P$O.SUBLK$(0)->TEXT$C;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:10   
      324     8258    6                       CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
      325     8259    6                       CALL ITH$CHECK_CHANNUM ( ,TEMP) ALTRET (BM_ALT);
      326     8260    6                       CMD$->IT$MPC.LA_IOM.LO_CHAN(LA_IOM#) = TEMP;
      327     8261    6                       CMD$->IT$MPC.LA_IOM.HI_CHAN(LA_IOM#) = TEMP; /*DEFAULT*/
      328     8262    6                       SELECT (%ITS_HICHAN);
      329     8263    6                       TEXTC = TEMP$->P$O.SUBLK$(0)->TEXT$C;
      330     8264    6                       CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
      331     8265    6                       CALL ITH$CHECK_CHANNUM ( ,TEMP) ALTRET (BM_ALT);
      332     8266    6                       IF TEMP < CMD$->IT$MPC.LA_IOM.LO_CHAN(LA_IOM#)
      333     8267    6                         OR TEMP - CMD$->IT$MPC.LA_IOM.LO_CHAN(LA_IOM#) > 7
      334     8268    7                       THEN DO;
      335     8269    7                          CALL ITE$ERROR(%E$8CHANMAX);
      336     8270    7                          ALTRETURN;
      337     8271    7                          END;
      338     8272    6                       CMD$->IT$MPC.LA_IOM.HI_CHAN(LA_IOM#) = TEMP;
      339     8273    6                       SELECT (%ITS_STATUS);
      340     8274    6                       IF TEMP$->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN
      341     8275    6                          CMD$->IT$MPC.LA_IOM.DOWN(LA_IOM#) = YES;
      342     8276    6                       END;
      343     8277    5                    END;
      344     8278    4                 LA_IOM# = LA_IOM#+1;
      345     8279    4                 END;
      346     8280    3              IF OPTS# = 1 THEN            /*IOM# FOR NEXT LA SHOULD BE 2*/
      347     8281    3                 LA_IOM# = LA_IOM#+1;
      348     8282    3              END;
      349     8283        /**/
      350     8284    3           DO K = 0 TO 3;                  /* Check for legal channel numbers   */
      351     8285    4              IF CMD$->IT$MPC.LA_IOM.PRESENCE(K) THEN DO;
      352     8286        /**/
      353     8287    4                 J = CMD$->IT$MPC.LA_IOM.HI_CHAN(K) -
      354     8288    4                   CMD$->IT$MPC.LA_IOM.LO_CHAN(K) + 1;
      355     8289        /**/
      356     8290    5                 IF J>2 AND MOD(CMD$->IT$MPC.LA_IOM.LO_CHAN(K),4)~=0 THEN DO;
      357     8291    5   BADCHAN:
      358     8292    5                    CALL ITE$ERROR(%E$BADCHAN);
      359     8293    5                    ALTRETURN;
      360     8294    5                    END;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:11   
      361     8295        /**/
      362     8296    4                 ELSE IF J>1 AND MOD(CMD$->IT$MPC.LA_IOM.LO_CHAN(K),2)~=0 THEN
      363     8297    4                       GOTO BADCHAN;
      364     8298    4                 END;
      365     8299    3              END;
      366     8300        /**/
      367     8301    2           CMD$ = PINCRW(CMD$,SIZEW(IT$MPC));
      368     8302    2           RETURN;
      369     8303    2   BM_ALT:
      370     8304    2           ALTRETURN;
      371     8305    2   END;
      372     8306        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:12   
      373     8307        /*D*     INTERNAL ROUTINE: BUILD_DEV
      374     8308                 DESCRIPTION: BUILD_DEV processes the DEV portion of the
      375     8309                           DISK and TAPE commands filling in the structure
      376     8310                           IT$DTDEV for each device.
      377     8311                               When a new device specification is recognized by
      378     8312                           the NAME= xxxxxxx option a new IT$DTDEV frame is initialized
      379     8313                           and filled in by the other specifications for this
      380     8314                           device. At least the NAME,MODEL and DEV# are required.
      381     8315        */
      382     8316        /**/
      383     8317    1   BUILD_DEV: PROC ALTRET;
      384     8318        /**/
      385     8319    2           BLK$ = PCB.OUT$->P$O.SUBLK$(I); /* Point to dev block           */
      386     8320    2           DEVLIST$ = CMD$;
      387     8321    2           NUM_OLDS = 0;                   /* count of parsed NAME commands */
      388     8322        /**/
      389     8323    3           DO J = 0 TO BLK$->P$O.NSUBLKS - 1;
      390     8324    3              TEMP$ = BLK$->P$O.SUBLK$(J);
      391     8325    4              DO CASE(TEMP$->P$O.CODE);
      392     8326        /**/
      393     8327    4               CASE(%ITS_NAME);
      394     8328    5                 IF J ~= 0 THEN DO;
      395     8329    5                    CMD$ = PINCRW(CMD$,SIZEW(IT$DTDEV)); /* Start new block  */
      396     8330    5                    END;
      397     8331        /**/
      398     8332    4                 CMD$->IT$DTDEV = NO;
      399     8333    4                 CMD$->IT$DTDEV.FLAGS.INPUT = YES;
      400     8334    4                 CMD$->IT$DTDEV.FLAGS.OUTPUT = YES;
      401     8335    4                 CMD$->IT$DTDEV.FLAGS.PSIA = YES;
      402     8336    4                 CMD$->IT$DTDEV.CNTWD = DTDEV_CNTWD;
      403     8337        /**/
      404     8338    5                 DO CASE(TEMP$->P$O.SUBLK$(0)->P$O.CODE);
      405     8339    5                  CASE(%ITS_DP);
      406     8340    5                    CMD$->IT$DTDEV.NM.MNEM = 'DP';
      407     8341    5                  CASE(%ITS_MT);
      408     8342    5                    CMD$->IT$DTDEV.NM.MNEM = 'MT';
      409     8343    5                  END;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:13   
      410     8344        /**/
      411     8345    5                 IF TEMP$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C.COUNT~=2 THEN DO;
      412     8346        /**/
      413     8347    5                    CALL ITE$ERROR(%E$2CHARDEV#);
      414     8348    5   BD_ALT:
      415     8349    5                    ALTRETURN;
      416     8350    5                    END;
      417     8351    4                 CMD$->IT$DTDEV.NM.NUM = SUBSTR(TEMP$->P$O.SUBLK$(1)
      418     8352    4                   ->P$O.SUBLK$(0)->TEXT$C.TEXT,0,2);
      419     8353    4                 CMD$->IT$DTDEV.NM.BLANKS = IT_TXT_0000;
      420     8354    4                 OLD$ = DEVLIST$;
      421     8355    5                 DO OLD_DEVS = 0 TO NUM_OLDS-1; /* check all previous devices */
      422     8356    5                    IF OLD_DEVS ~= 0 THEN
      423     8357    5                       OLD$ = PINCRW(OLD$,SIZEW(IT$DTDEV));
      424     8358    6                    IF CMD$->IT$DTDEV.NAME = OLD$->IT$DTDEV.NAME THEN DO;
      425     8359    6                       TEXTC.TEXT = CMD$->IT$DTDEV.NAME;
      426     8360    6                       TEXTC.COUNT = 4;
      427     8361    6                       CALL ITE$ERROR (%E$DUPDEVNAME,ADDR(TEXTC));
      428     8362    6                       ALTRETURN;
      429     8363    6                       END;                /*IF*/
      430     8364    5                    END;                   /*DO*/
      431     8365    4                 NUM_OLDS = NUM_OLDS + 1;
      432     8366    4                 CALL ITH$CHECK_DEVNAME (CMD$->IT$DTDEV.NAME, ) ALTRET (BD_ALT);
      433     8367        /**/
      434     8368    4               CASE(%ITS_DEVMODEL);
      435     8369        /**/
      436     8370    4                 TEXTC = TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;
      437     8371    5                 IF TEMP$->P$O.NSUBLKS > 1 THEN DO; /*CHECK FOR FEAT. BOARD */
      438     8372    5                    FTEXTC = TEMP$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C;
      439     8373    5                    CALL GET_TYPE(TEXTC,FTEXTC) ALTRET(BD_ALT);
      440     8374    5                    END;
      441     8375    4                 ELSE
      442     8376    4                    CALL GET_TYPE(TEXTC) ALTRET(BD_ALT);
      443     8377    4                 CMD$->IT$DTDEV.TYPE = DVTX;
      444     8378    4                 CMD$->IT$DTDEV.MODX = MODX;
      445     8379    4                 CMD$->IT$DTDEV.FX = FX;
      446     8380        /**/
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:14   
      447     8381    4               CASE(%ITS_DEV#);
      448     8382        /**/
      449     8383    4                 TEXTC = TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;
      450     8384    4                 CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
      451     8385    4                 CMD$->IT$DTDEV.DEV# = TEMP;
      452     8386        /**/
      453     8387    4               CASE(%ITS_SYSTEM);
      454     8388    4                 CMD$->IT$DTDEV.FLAGS.SYSTEM = YES;
      455     8389        /**/
      456     8390    4               CASE(%ITS_STATUS);
      457     8391    4                 IF TEMP$->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN
      458     8392    4                    CMD$->IT$DTDEV.FLAGS.DOWN = YES;
      459     8393        /**/
      460     8394    4               END;
      461     8395    3              END;
      462     8396    2           CMD$ = PINCRW(CMD$,SIZEW(IT$DTDEV));
      463     8397    2           RETURN;
      464     8398        /**/
      465     8399    2   END;
      466     8400        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:15   
      467     8401        /*D*     NAME:     ITC$CHECK_UNIT
      468     8402                 PURPOSE:  ITC$CHECK_UNIT does the syntax checking for the UNIT
      469     8403                           command which describes the unit record devices .
      470     8404                 DESCRIPTION: ITC$CHECK_UNIT uses the information in the UNIT
      471     8405                           command to fill in the structure IT$UNITDEV for each
      472     8406                           device. A new device is recognised by the NAME=xxxxx
      473     8407                           specification and the rest of the structure is filled in
      474     8408                           by the other information specified. At least NAME,
      475     8409                           MODEL and IOM_CHANNEL conection must be given.   */
      476     8410        /**/
      477     8411    1   ITC$CHECK_UNIT: ENTRY(PCB) ALTRET;
      478     8412        /**/
      479     8413    1           CMD$ = B$DS5$;
      480     8414    1           CMD$->IT$CMDWD = %ITS_UNIT;
      481     8415        /**/
      482     8416    1           CMD$ =  PINCRW(CMD$,SIZEW(IT$CMDWD));
      483     8417        /**/
      484     8418    1           CMD$->IT$MPC = NO;
      485     8419    1           CMD$->IT$MPC.CNTWD = MPC_CNTWD;
      486     8420        /**/
      487     8421    1           TEXTC.COUNT = 7;
      488     8422    1           TEXTC.TEXT = %DEFAULTUNITFW;
      489     8423    1           CALL GET_TYPE(TEXTC) ALTRET(CU_ALT);
      490     8424    1           CMD$->IT$MPC.FWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.FWNAME;
      491     8425    1           CMD$->IT$MPC.LPFWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.LPNAME;
      492     8426    1           CMD$->IT$MPC.CRPFWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.CRPNAME;
      493     8427    1           CMD$->IT$MPC.MPCTYPE = DVTX;
      494     8428    1           CMD$->IT$MPC.MODX = MODX;
      495     8429    1           CMD$->IT$MPC.FX = FX;
      496     8430    1           CMD$->IT$MPC.MPCNM.MNEM = 'UC';
      497     8431    1           CMD$->IT$MPC.MPCNM.BLANKS  = IT_TXT_0000;
      498     8432    1           IF PCB.OUT$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->
      499     8433    2             P$O.SUBLK$(0)->TEXT$C.COUNT ~= 2 THEN DO;
      500     8434    2              CALL ITE$ERROR(%E$2CHARDEV#);
      501     8435    2              ALTRETURN;
      502     8436    2              END;
      503     8437        /**/
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:16   
      504     8438    1           CMD$->IT$MPC.MPCNM.NUM = SUBSTR(PCB.OUT$->P$O.SUBLK$(0)->
      505     8439    1             P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C.TEXT,0,2);
      506     8440    1           CALL ITH$CHECK_DEVNAME (CMD$->IT$MPC.MPCNAME, ) ALTRET (CU_ALT);
      507     8441        /**/
      508     8442    1           BLK$ = PCB.OUT$->P$O.SUBLK$(0);
      509     8443    2           IF BLK$->P$O.NSUBLKS > 1 THEN DO; /* STATUS OR MODEL SPEC. */
      510     8444    3              DO J = 1 TO BLK$->P$O.NSUBLKS - 1;
      511     8445    3                 TEMP$ = BLK$->P$O.SUBLK$(J);
      512     8446    4                 DO SELECT (TEMP$->P$O.CODE);
      513     8447    4                    SELECT (%ITS_STATUS);
      514     8448    4                    IF TEMP$->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN
      515     8449    4                       CMD$->IT$MPC.FLAGS.DOWN = YES;
      516     8450    4                    SELECT (%ITS_UNITMPCMODEL);
      517     8451    5                    IF TEMP$->P$O.SUBLK$(0)->P$S.COUNT > 8 THEN DO;
      518     8452    5                       CALL ITE$ERROR(%E$MODELNUM2LONG);
      519     8453    5                       ALTRETURN;
      520     8454    5                       END;
      521     8455    4                    TEXTC = TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;
      522     8456    4                    CALL GET_TYPE(TEXTC) ALTRET(CU_ALT);
      523     8457    4                    CMD$->IT$MPC.FWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.FWNAME;
      524     8458    4                    CMD$->IT$MPC.LPFWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.LPNAME;
      525     8459    4                    CMD$->IT$MPC.CRPFWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.CRPNAME;
      526     8460    4                    CMD$->IT$MPC.MPCTYPE = DVTX;
      527     8461    4                    CMD$->IT$MPC.MODX = MODX;
      528     8462    4                    CMD$->IT$MPC.FX = FX;
      529     8463    4                    END;
      530     8464    3                 END;
      531     8465    2              END;
      532     8466        /**/
      533     8467    1           CMD$ = PINCRW(CMD$,SIZEW(IT$MPC));
      534     8468    1           DEVLIST$ = CMD$;
      535     8469        /**/
      536     8470    2           IF PCB.OUT$->P$O.NSUBLKS > 8+1 THEN DO; /* 8 dev max          */
      537     8471    2              CALL ITE$ERROR(%E$8DEVMAX);
      538     8472    2   CU_ALT:
      539     8473    2              ALTRETURN;
      540     8474    2              END;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:17   
      541     8475        /**/
      542     8476    2           DO I = 1 TO PCB.OUT$->P$O.NSUBLKS - 1; /* Do all devs           */
      543     8477    2              BLK$ = PCB.OUT$->P$O.SUBLK$(I); /* Ptr to dev                */
      544     8478    2              IF I ~= 1 THEN CMD$ = PINCRW(CMD$,SIZEW(IT$UNITDEV));
      545     8479        /**/
      546     8480    2              CMD$->IT$UNITDEV = NO;
      547     8481    2              CMD$->IT$UNITDEV.FORMNAME = ' ';
      548     8482    2              CMD$->IT$UNITDEV.CNTWD = UNITDEV_CNTWD;
      549     8483    2              CMD$->IT$UNITDEV.VFC$ = ADDR(IT_VFC);
      550     8484    2              CMD$->IT$UNITDEV.VFCL = SIZEW(IT_VFC);
      551     8485    2              CMD$->IT$UNITDEV.IOMCHAN.IOM#(1) = -1; /*Initialize 2nd not there */
      552     8486    2              CMD$->IT$UNITDEV.FLAGS.PSIA = YES;
      553     8487    2              IOMCHAN# = 0;
      554     8488        /**/
      555     8489    3              DO J = 0 TO BLK$->P$O.NSUBLKS - 1; /* Do all opts            */
      556     8490    3                 TEMP$ = BLK$->P$O.SUBLK$(J);
      557     8491    4                 DO CASE(TEMP$->P$O.CODE);
      558     8492        /**/
      559     8493    4                  CASE(%ITS_NAME);
      560     8494    5                    DO CASE(TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->P$O.CODE);
      561     8495        /**/
      562     8496    5                     CASE(%ITS_CR);
      563     8497    5                       CMD$->IT$UNITDEV.NM.MNEM = 'CR';
      564     8498        /**/
      565     8499    5                     CASE(%ITS_CPUN);
      566     8500    5                       CMD$->IT$UNITDEV.NM.MNEM = 'CP';
      567     8501    5                       CMD$->IT$UNITDEV.FORMNAME = 'STD**';
      568     8502        /**/
      569     8503    5                     CASE(%ITS_LP);
      570     8504    5                       CMD$->IT$UNITDEV.NM.MNEM = 'LP';
      571     8505    5                       CMD$->IT$UNITDEV.FORMNAME = 'STDLP';
      572     8506    5                     END;
      573     8507        /**/
      574     8508    4                    IF TEMP$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->
      575     8509    5                      TEXT$C.COUNT ~= 2 THEN DO;
      576     8510        /**/
      577     8511    5                       CALL ITE$ERROR(%E$2CHARDEV#);
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:18   
      578     8512    5                       ALTRETURN;
      579     8513    5                       END;
      580     8514    4                    CMD$->IT$UNITDEV.NM.NUM = SUBSTR(TEMP$->
      581     8515    4                      P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C.TEXT,0,2);
      582     8516    4                    CMD$->IT$UNITDEV.NM.BLANKS = IT_TXT_0000;
      583     8517    4                    OLD$ = DEVLIST$;
      584     8518    5                    DO OLD_DEVS = 1 TO I-1; /* check all previous devices */
      585     8519    5                       IF OLD_DEVS ~= 1 THEN
      586     8520    5                          OLD$ = PINCRW(OLD$,SIZEW(IT$UNITDEV));
      587     8521    6                       IF CMD$->IT$UNITDEV.NAME = OLD$->IT$UNITDEV.NAME THEN DO;
      588     8522    6                          TEXTC.TEXT = CMD$->IT$UNITDEV.NAME;
      589     8523    6                          TEXTC.COUNT = 4;
      590     8524    6                          CALL ITE$ERROR (%E$DUPDEVNAME,ADDR(TEXTC));
      591     8525    6                          ALTRETURN;
      592     8526    6                          END;             /*IF*/
      593     8527    5                       END;                /*DO*/
      594     8528    4                    CALL ITH$CHECK_DEVNAME (CMD$->IT$UNITDEV.NAME, ) ALTRET (CU_ALT);
      595     8529        /**/
      596     8530    4                  CASE(%ITS_DEVMODEL);
      597     8531        /**/
      598     8532    4                    TEXTC = TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;
      599     8533    4                    IF TEMP$->P$O.NSUBLKS > 1 THEN /*FEAT. BRD. CHK. */
      600     8534    5                    DO;
      601     8535    5                       FTEXTC = TEMP$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C;
      602     8536    5                       CALL GET_TYPE(TEXTC,FTEXTC) ALTRET(CU_ALT);
      603     8537    5                       END;
      604     8538    4                    ELSE
      605     8539    4                       CALL GET_TYPE(TEXTC) ALTRET(CU_ALT);
      606     8540    4                    CMD$->IT$UNITDEV.TYPE = DVTX;
      607     8541    4                    CMD$->IT$UNITDEV.MODX = MODX;
      608     8542    4                    CMD$->IT$UNITDEV.FX = FX;
      609     8543    4                    IF CMD$->IT$UNITDEV.NM.MNEM = 'LP' THEN
      610     8544    5                       IF NI$DVT$(DVTX)->NI$DVT.LP.CHAIN = '500' THEN DO;
      611     8545    5                          CMD$->IT$UNITDEV.CHAIN$ = ADDR(IT_CHAIN500);
      612     8546    5                          CMD$->IT$UNITDEV.CHAINL = SIZEW(IT_CHAIN500);
      613     8547    5                          END;
      614     8548    5                       ELSE DO;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:19   
      615     8549    5                          CMD$->IT$UNITDEV.CHAIN$ = ADDR(IT_CHAIN600);
      616     8550    5                          CMD$->IT$UNITDEV.CHAINL = SIZEW(IT_CHAIN600);
      617     8551    5                          END;
      618     8552        /**/
      619     8553    4                  CASE(%ITS_IOMCHAN);
      620     8554        /**/
      621     8555    4                    TEXTC = TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;
      622     8556    4                    CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
      623     8557    5                    IF TEMP > NI_IOMS-1 THEN DO;
      624     8558    5                       CALL ITE$ERROR(%E$IOM2BIG);
      625     8559    5                       ALTRETURN;
      626     8560    5                       END;
      627     8561        /**/
      628     8562    4                    CMD$->IT$UNITDEV.IOMCHAN.IOM#(IOMCHAN#) = TEMP;
      629     8563    4                    TEXTC = TEMP$->P$O.SUBLK$(1)->P$O.SUBLK$(0)
      630     8564    4                      ->TEXT$C;
      631     8565    4                    CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
      632     8566    4                    CALL ITH$CHECK_CHANNUM ( ,TEMP) ALTRET (CU_ALT);
      633     8567        /**/
      634     8568    4                    CMD$->IT$UNITDEV.IOMCHAN.CHAN(IOMCHAN#) = TEMP;
      635     8569    4                    IOMCHAN# = 1;
      636     8570        /**/
      637     8571    4                  CASE(%ITS_STATUS);
      638     8572    4                    IF TEMP$->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN
      639     8573    4                       CMD$->IT$UNITDEV.FLAGS.DOWN = YES;
      640     8574    4                  CASE(%ITS_IN);
      641     8575    4                    CMD$->IT$UNITDEV.FLAGS.INPUT = YES;
      642     8576    4                  CASE(%ITS_OUT);
      643     8577    4                    CMD$->IT$UNITDEV.FLAGS.OUTPUT = YES;
      644     8578    4                  CASE(%ITS_SYMBIONT);
      645     8579    4                    CMD$->IT$UNITDEV.FLAGS.SYMBIONT = YES;
      646     8580    4                  CASE(%ITS_FORM);
      647     8581    4                    IF TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->
      648     8582    5                      TEXT$C.COUNT > 6 THEN DO;
      649     8583    5                       CALL ITE$ERROR(%E$6CHARFORM);
      650     8584    5                       ALTRETURN;
      651     8585    5                       END;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:20   
      652     8586        /**/
      653     8587    4                    CMD$->IT$UNITDEV.FORMNAME = TEMP$->P$O.SUBLK$(0)->
      654     8588    4                      P$O.SUBLK$(0)->TEXT$C.TEXT;
      655     8589    4                  CASE(%ITS_WSN);
      656     8590    4                    IF TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->
      657     8591    5                      TEXT$C.COUNT > 8 THEN DO;
      658     8592    5                       CALL ITE$ERROR(%E$8CHARWSN);
      659     8593    5                       ALTRETURN;
      660     8594    5                       END;
      661     8595        /**/
      662     8596    4                    TEXTC.TEXT=TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->P$S.TEXT;
      663     8597        /**/
      664     8598    4                    K = 0;
      665     8599    5                    DO WHILE K <= IT_WSNX AND
      666     8600    5                      TEXTC.TEXT ~= IT_WSN.NAME(K);
      667     8601    5                       K = K+1;
      668     8602    5                       END;
      669     8603        /**/
      670     8604    4                    IF K <= IT_WSNX THEN
      671     8605    4                       CALL BINCHAR(CMD$->IT$UNITDEV.NM.BLANKS,K);
      672     8606        /**/
      673     8607    5                    ELSE DO;
      674     8608    6                       IF IT_WSNX < %MAX_WSN - 1 THEN DO;
      675     8609    6                          IT_WSNX = IT_WSNX+1;
      676     8610    6                          IT_WSN.NAME(IT_WSNX) = TEXTC.TEXT;
      677     8611    6                          CALL BINCHAR(CMD$->IT$UNITDEV.NM.BLANKS,K);
      678     8612    6                          END;
      679     8613    6                       ELSE DO;
      680     8614    6                          CALL ITE$ERROR(%E$4WSNMAX);
      681     8615    6                          ALTRETURN;
      682     8616    6                          END;
      683     8617    5                       END;
      684     8618    4                  END;
      685     8619    3                 END;
      686     8620    2              END;
      687     8621    1           CMD$ = PINCRW(CMD$,SIZEW(IT$UNITDEV));
      688     8622    1           CMD$->IT$CMDWD = %ITS_ENDCMD;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:21   
      689     8623    1           RETURN;
      690     8624        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:22   
      691     8625        /*D*    NAME: ITC$CHECK_AP
      692     8626                PURPOSE: ITC$CHECK_AP checks the syntax for the Array Processor
      693     8627                         command.
      694     8628                DESCRIPTION: ITC$CHECK_AP uses the parser output to build the
      695     8629                             IT$APC structure while at the same time verifying
      696     8630                             the output.
      697     8631        */
      698     8632    1   ITC$CHECK_AP: ENTRY(PCB) ALTRET;
      699     8633        /**/
      700     8634    1           CMD$ = B$DS5$;
      701     8635    1           CMD$->IT$CMDWD = %ITS_AP;
      702     8636        /**/
      703     8637    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CMDWD));
      704     8638    1           CTLR$ = CMD$;
      705     8639    1           CMD$ = PINCRW(CMD$,SIZEW(IT$APC));
      706     8640        /**/
      707     8641    1           CTLR$->IT$APC = NO;
      708     8642    1           CTLR$->IT$APC.CNTWD = APC_CNTWD;
      709     8643
      710     8644    1           BLK$=PCB.OUT$;
      711     8645    2           DO J=0 TO BLK$->P$O.NSUBLKS-1;
      712     8646    2              TEMP$=BLK$->P$O.SUBLK$(J);
      713     8647    3              DO CASE(TEMP$->P$O.CODE);
      714     8648    3               CASE(%ITS_APCNAME);
      715     8649    4                 IF TEMP$->P$O.SUBLK$(0)->P$S.COUNT ~= 2 THEN DO;
      716     8650    4                    CALL ITE$ERROR(%E$2CHARDEV#);
      717     8651    4                    ALTRETURN;
      718     8652    4                    END;
      719     8653    3                 CALL CONCAT(CTLR$->IT$APC.APCNAME,'AC',TEMP$->P$O.SUBLK$(0)->P$S.TEXT,
              8653                          IT_TXT_0000);
      720     8654    3                 CALL ITH$CHECK_DEVNAME (CTLR$->IT$APC.APCNAME, ) ALTRET (CA_ALT);
      721     8655    3               CASE(%ITS_APCMODEL);
      722     8656    3                 TEXTC.COUNT=TEMP$->P$O.SUBLK$(0)->P$S.COUNT;
      723     8657    3                 TEXTC.TEXT=TEMP$->P$O.SUBLK$(0)->P$S.TEXT;
      724     8658    3                 CALL CONCAT(FTEXTC.TEXT,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT),'C');
      725     8659    3                 FTEXTC.COUNT=MINIMUM(TEXTC.COUNT+1,8);
      726     8660    4                 CALL GET_TYPE(FTEXTC) WHENALTRETURN DO;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:23   
      727     8661    4                    ALTRETURN;
      728     8662    4                    END;
      729     8663    3                 CTLR$->IT$APC.APCTYPE=DVTX;
      730     8664    3                 CTLR$->IT$APC.MODX=MODX;
      731     8665    3                 CTLR$->IT$APC.FX=FX;
      732     8666    3               CASE(%ITS_IOMCHAN);
      733     8667    3                 CALL CHARBIN(TEMP,TEMP$->P$O.SUBLK$(0)->P$S.TEXT);
      734     8668    4                 IF TEMP > NI_IOMS-1 THEN DO;
      735     8669    4                    CALL ITE$ERROR(%E$IOM2BIG);
      736     8670    4                    ALTRETURN;
      737     8671    4                    END;
      738     8672    3                 CTLR$->IT$APC.IOM#=TEMP;
      739     8673    3                 CALL CHARBIN(TEMP,TEMP$->P$O.SUBLK$(1)->P$S.TEXT);
      740     8674    3                 CALL ITH$CHECK_CHANNUM ( ,TEMP) ALTRET (CA_ALT);
      741     8675    3                 CTLR$->IT$APC.LO_CHAN=TEMP;
      742     8676    3                 CTLR$->IT$APC.HI_CHAN=TEMP;
      743     8677    3               CASE(%ITS_STATUS);
      744     8678    3                 IF TEMP$->P$O.SUBLK$(0)->P$O.CODE=%ITS_DOWN THEN
      745     8679    3                    CTLR$->IT$APC.FLAGS.DOWN=YES;
      746     8680    3               CASE(%ITS_APDEV);
      747     8681    3                 DEV$=CMD$;
      748     8682    3                 CMD$=PINCRW(CMD$,SIZEW(IT$APDEV));
      749     8683    3                 DEV$->IT$APDEV=NO;
      750     8684    3                 DEV$->IT$APDEV.CNTWD=APDEV_CNTWD;
      751     8685    3                 DEV$->IT$APDEV.FLAGS.DOWN = CTLR$->IT$APC.FLAGS.DOWN;
      752     8686    4                 CALL GET_TYPE(TEXTC) WHENALTRETURN DO;
      753     8687    4                    ALTRETURN;
      754     8688    4                    END;
      755     8689    3                 DEV$->IT$APDEV.TYPE=DVTX;
      756     8690    3                 DEV$->IT$APDEV.MODX=MODX;
      757     8691    3                 DEV$->IT$APDEV.FX=FX;
      758     8692
      759     8693    4                 DO I=0 TO TEMP$->P$O.NSUBLKS-1;
      760     8694    4                    DVBLK$=TEMP$->P$O.SUBLK$(I);
      761     8695    5                    DO CASE(DVBLK$->P$O.CODE);
      762     8696    5                     CASE(%ITS_APNAME);
      763     8697    6                       IF DVBLK$->P$O.SUBLK$(0)->P$S.COUNT ~= 2 THEN DO;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:24   
      764     8698    6                          CALL ITE$ERROR(%E$2CHARDEV#);
      765     8699    6                          ALTRETURN;
      766     8700    6                          END;
      767     8701    5                       CALL CONCAT(DEV$->IT$APDEV.NAME,'AP',DVBLK$->P$O.SUBLK$(0)->P$S.
              8701                                TEXT,IT_TXT_0000);
      768     8702    5                       CALL ITH$CHECK_DEVNAME (DEV$->IT$APDEV.NAME, ) ALTRET (CA_ALT);
      769     8703    5                     CASE(%ITS_CHAN);
      770     8704    5                       DEV$->IT$APDEV.IOM#=CTLR$->IT$APC.IOM#;
      771     8705    5                       CALL CHARBIN(TEMP,DVBLK$->P$O.SUBLK$(0)->P$S.TEXT);
      772     8706    5                       CALL ITH$CHECK_CHANNUM ( ,TEMP) ALTRET (CA_ALT);
      773     8707    5                       CTLR$->IT$APC.HI_CHAN=CTLR$->IT$APC.HI_CHAN+1;
      774     8708    6                       IF TEMP ~= CTLR$->IT$APC.HI_CHAN THEN DO;
      775     8709    6                          CALL ITE$ERROR(%E$CONSECCHANS);
      776     8710    6                          ALTRETURN;
      777     8711    6                          END;
      778     8712    5                       DEV$->IT$APDEV.CHAN=TEMP;
      779     8713    5                     CASE(%ITS_APOPTSLIST);
      780     8714    6                       DO K=0 TO DVBLK$->P$O.NSUBLKS-1;
      781     8715    6                          OPT$=DVBLK$->P$O.SUBLK$(K);
      782     8716    7                          DO CASE(OPT$->P$O.CODE);
      783     8717    7                           CASE(%ITS_AP_SJE);
      784     8718    7                             DEV$->IT$APDEV.ATTR=DEV$->IT$APDEV.ATTR | %ATTR_AP_SJE;
      785     8719    7                           CASE(%ITS_AP_MEM);
      786     8720    7                             CALL CHARBIN(TEMP,OPT$->P$O.SUBLK$(0)->P$S.TEXT);
      787     8721    7                             TEMP=TEMP/128;
      788     8722    7                             L=1;
      789     8723    8                             DO WHILE(TEMP>1 AND L < %BITBIN('377'O));
      790     8724    8                                TEMP=TEMP/2;
      791     8725    8                                L=L*2+1;
      792     8726    8                                END;
      793     8727    7                             DEV$->IT$APDEV.ATTR=DEV$->IT$APDEV.ATTR | BINBIT(L,18);
      794     8728    7                           CASE(%ITS_STATUS);
      795     8729    7                             IF OPT$->P$O.CODE=%ITS_DOWN THEN
      796     8730    7                                DEV$->IT$APDEV.FLAGS.DOWN=YES;
      797     8731    7                           END;
      798     8732    6                          END;
      799     8733    5                     END;                  /* CASE DEVICE */
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:25   
      800     8734    4                    END;                   /* DO I */
      801     8735    3               END;                        /* CASE ARRAY PROCESSOR */
      802     8736    2              END;                         /* DO J */
      803     8737
      804     8738
      805     8739        /**/
      806     8740    1           CMD$->IT$CMDWD = %ITS_ENDCMD;
      807     8741    1           RETURN;
      808     8742    1   CA_ALT: ALTRETURN;
      809     8743        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:26   
      810     8744        /*D*     NAME:     ITC$CHECK_IOM
      811     8745                 PURPOSE:  ITC$CHECK_IOM checks the syntax for the IOM command
      812     8746                 DESCRIPTION: ITC$CHECK_IOM uses the IOM command to find out how
      813     8747                           IOMs have been configured on the system. IT uses this
      814     8748                           information to initialize the structure IT$IOM with the
      815     8749                           starting address for the mailboxex for each IOM and
      816     8750                           the starting address for the IOS(local device IO) packets
      817     8751        */
      818     8752        /**/
      819     8753    1   ITC$CHECK_IOM: ENTRY(PCB) ALTRET;
      820     8754        /**/
      821     8755    1           CMD$ =  B$DS5$;
      822     8756        /**/
      823     8757    1           CMD$->IT$CMDWD = %ITS_IOM;
      824     8758        /**/
      825     8759    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CMDWD));
      826     8760        /**/
      827     8761    1           CMD$->IT$IOM = NO;
      828     8762        /**/
      829     8763    2           IF NI_IOMS > 3 THEN DO;         /* FOUR IOMS MAX                      */
      830     8764    2              CALL ITE$ERROR(%E$4IOMMAX);
      831     8765    2              ALTRETURN;
      832     8766    2              END;
      833     8767        /**/
      834     8768    1           TEXTC = PCB.OUT$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;
      835     8769        /**/
      836     8770    2           IF TEXTC.COUNT > 1 THEN DO;     /* 7 ports max                        */
      837     8771    2              CALL ITE$ERROR(%E$PORT#2BIG);
      838     8772    2              ALTRETURN;
      839     8773    2              END;
      840     8774        /**/
      841     8775    1           CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
      842     8776    1           CMD$->IT$IOM.PORT# = TEMP;
      843     8777        /**/
      844     8778    1           CMD$->IT$IOM.DOWN# = NO;
      845     8779    1           IF PCB.OUT$->P$O.NSUBLKS = 2 THEN
      846     8780    1              IF PCB.OUT$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:27   
      847     8781    1                 CMD$->IT$IOM.DOWN# = YES;
      848     8782        /**/
      849     8783    1           CMD$ = PINCRW(CMD$,SIZEW(IT$IOM));
      850     8784    1           CMD$->IT$CMDWD = %ITS_ENDCMD;
      851     8785    1           RETURN;
      852     8786        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:28   
      853     8787        /*D*     NAME:     ITC$CHECK_CON
      854     8788                 PURPOSE:       ITC$CHECK_CON check the syntax of the TIGR
      855     8789                           CONSOLE command.
      856     8790                 DESCRIPTION: The values specified on the CONSOLE command are
      857     8791                           used to fill in the structure IT$CONSOLE. The device
      858     8792                           name and IOM  connection must be supplied and the
      859     8793                           device type index is looked up by GET_TYPE. CMD$ is set
      860     8794                           to point to the structure IT$CONSOLE.   */
      861     8795        /**/
      862     8796    1   ITC$CHECK_CON: ENTRY(PCB) ALTRET;
      863     8797        /**/
      864     8798    1           CMD$ = B$DS5$;
      865     8799    1           CMD$->IT$CMDWD = %ITS_CONSOLE;
      866     8800        /**/
      867     8801    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CMDWD));
      868     8802        /**/
      869     8803    1           CMD$->IT$CONSOLE = NO;
      870     8804    1           CMD$->IT$CONSOLE.CNTWD = CONSOLE_CNTWD;
      871     8805    1           CMD$->IT$CONSOLE.OCINFO = OC_INFO;
      872     8806        /**/
      873     8807    2           DO J = 0 TO PCB.OUT$->P$O.NSUBLKS -1;
      874     8808    2              BLK$ = PCB.OUT$->P$O.SUBLK$(J);
      875     8809    2              TEMP$ = BLK$->P$O.SUBLK$(0);
      876     8810    3              DO CASE(BLK$->P$O.CODE);
      877     8811        /**/
      878     8812    3               CASE(%ITS_NAME);
      879     8813    3                 CMD$->IT$CONSOLE.NM.MNEM = 'SC';
      880     8814    3                 IF BLK$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->
      881     8815    4                   TEXT$C.COUNT ~= 2 THEN DO;
      882     8816    4                    CALL ITE$ERROR(%E$2CHARDEV#);
      883     8817    4                    ALTRETURN;
      884     8818    4                    END;
      885     8819        /**/
      886     8820    3                 CMD$->IT$CONSOLE.NM.NUM = SUBSTR(BLK$ ->P$O.SUBLK$(1)
      887     8821    3                   ->P$O.SUBLK$(0)->TEXT$C.TEXT,0,2);
      888     8822    3                 CMD$->IT$CONSOLE.NM.BLANKS = IT_TXT_0000;
      889     8823    3                 CALL ITH$CHECK_DEVNAME (CMD$->IT$CONSOLE.NAME, ) ALTRET (CC_ALT);
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:29   
      890     8824    3               CASE(%ITS_IOMCHANSTAT);
      891     8825    3                 TEXTC = TEMP$->P$O.SUBLK$(0)->TEXT$C;
      892     8826    3                 CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
      893     8827    4                 IF TEMP > NI_IOMS-1 THEN DO;
      894     8828    4                    CALL ITE$ERROR(%E$IOM2BIG);
      895     8829    4                    ALTRETURN;
      896     8830    4                    END;
      897     8831        /**/
      898     8832    3                 CMD$->IT$CONSOLE.IOM# = TEMP;
      899     8833        /**/
      900     8834    3                 TEXTC = BLK$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C;
      901     8835    3                 CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
      902     8836    3                 CALL ITH$CHECK_CHANNUM ( ,TEMP) ALTRET (CC_ALT);
      903     8837    3                 CMD$->IT$CONSOLE.CHAN = TEMP;
      904     8838
      905     8839    3                 CMD$->IT$CONSOLE.DOWN=NO;
      906     8840    4                 DO I = 2 TO BLK$->P$O.NSUBLKS - 1;
      907     8841    4                    IF BLK$->P$O.SUBLK$(I)->P$O.CODE=%ITS_STATUS THEN
      908     8842    4                       IF BLK$->P$O.SUBLK$(I)->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN
      909     8843    4                          CMD$->IT$CONSOLE.DOWN=YES;
      910     8844    4                    END;
      911     8845        /**/
      912     8846    3               CASE(%ITS_ADMIN);
      913     8847    3                 CALL CONSOLE_OPTS(M_ADMIN);
      914     8848    3               CASE(%ITS_COMM);
      915     8849    3                 CALL CONSOLE_OPTS(M_COMM);
      916     8850    3               CASE(%ITS_COSYSTEM);
      917     8851    3                 CALL CONSOLE_OPTS(M_SYS);
      918     8852    3               CASE(%ITS_DEVICE);
      919     8853    3                 CALL CONSOLE_OPTS(M_DEVC);
      920     8854    3               CASE(%ITS_NATIVEL);
      921     8855    4                 DO CASE(TEMP$->P$O.CODE);
      922     8856    4                  CASE(%ITS_NONE);
      923     8857    4                    CMD$->IT$CONSOLE.OCINFO.LANG = ' ';
      924     8858    4                  CASE(%ITS_LANGUAGE);
      925     8859    5                    IF TEMP$->P$S.COUNT > 1 THEN DO;
      926     8860    5                       CALL ITE$ERROR(%E$1CHARNLANG);
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:30   
      927     8861    5                       ALTRETURN;
      928     8862    5                       END;
      929     8863    4                    CMD$->IT$CONSOLE.OCINFO.LANG = BLK$->P$O.
      930     8864    4                      SUBLK$(0)->P$S.TEXT;
      931     8865    4                  END;
      932     8866    3               CASE(%ITS_MAXPRIO);
      933     8867    3                 CALL CHARBIN(TEMP,TEMP$->P$S.TEXT);
      934     8868    4                 IF TEMP > 15 THEN DO;
      935     8869    4                    CALL ITE$ERROR(%E$MAXPRIO2BIG);
      936     8870    4                    ALTRETURN;
      937     8871    4                    END;
      938     8872    3                 CMD$->IT$CONSOLE.OCINFO.MXPRI = TEMP;
      939     8873    3               CASE(%ITS_CMD);
      940     8874    4                 IF TEMP$->P$S.COUNT > 80 THEN DO;
      941     8875    4                    CALL ITE$ERROR(%E$CMD2BIG);
      942     8876    4                    ALTRETURN;
      943     8877    4                    END;
      944     8878    3                 CMD$->IT$CONSOLE.OCINFO.CMDCNT = BLK$->P$O
      945     8879    3                   .SUBLK$(0)->P$S.COUNT;
      946     8880    3                 CMD$->IT$CONSOLE.OCINFO.CMD = BLK$->P$O
      947     8881    3                   .SUBLK$(0)->P$S.TEXT;
      948     8882    3               CASE(%ITS_WSN);
      949     8883        /*
      950     8884          ****        WSN CAN'T EXCEED 8 CHARS. ? MUST BE LAST CHAR.
      951     8885        */
      952     8886    4                 IF TEMP$->P$O.SUBLK$(0)->P$S.COUNT > 8 THEN DO;
      953     8887    4                    CALL ITE$ERROR(%E$8CHARWSN);
      954     8888    4                    ALTRETURN;
      955     8889    4                    END;
      956     8890    3                 CALL INDEX1R(K,'?',TEMP$->P$O.SUBLK$(0)->P$S.TEXT);
      957     8891    3                 IF K ~= TEMP$->P$O.SUBLK$(0)->P$S.COUNT OR K ~= 0
      958     8892    4                 THEN DO;
      959     8893    4                    CALL ITE$ERROR(%E$BADWSN);
      960     8894    4                    ALTRETURN;
      961     8895    4                    END;
      962     8896    3                 TEXTC.TEXT = TEMP$->P$O.SUBLK$(0)->P$S.TEXT;
      963     8897        /**/
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:31   
      964     8898    3                 CMD$->IT$CONSOLE.NM.BLANKS = IT_TXT_0000;
      965     8899    3                 CMD$->IT$CONSOLE.OCINFO.WSN = TEXTC.TEXT;
      966     8900    3                 CMD$->IT$CONSOLE.OCINFO.TNAME = TEXTC.TEXT;
      967     8901    3               END;
      968     8902    2              END;
      969     8903        /**/
      970     8904    1           TEXTC.COUNT = 7;
      971     8905    1           TEXTC.TEXT = 'CONSOLE';
      972     8906    1           CALL GET_TYPE(TEXTC) ALTRET(CC_ALT);
      973     8907    1           CMD$->IT$CONSOLE.TYPE = DVTX;
      974     8908    1           CMD$->IT$CONSOLE.MODX = MODX;
      975     8909    1           CMD$->IT$CONSOLE.FX = FX;
      976     8910        /**/
      977     8911        /*
      978     8912          ****  SET DEFAULTS FOR UNSPECIFIED CONSOLE OPTIONS
      979     8913        */
      980     8914    1           IF CMD$->IT$CONSOLE.OCINFO.CADDR = NO THEN
      981     8915    1              CMD$->IT$CONSOLE.OCINFO.CADDR =CMD$->IT$CONSOLE.OCINFO.CADDR | M_SYS;
      982     8916    1           IF CMD$->IT$CONSOLE.OCINFO.KCADDR = NO THEN
      983     8917    1              CMD$->IT$CONSOLE.OCINFO.KCADDR=CMD$->IT$CONSOLE.OCINFO.KCADDR |M_SYS;
      984     8918    1           IF CMD$->IT$CONSOLE.OCINFO.MXPRI = OC_INFO.MXPRI THEN
      985     8919    1              CMD$->IT$CONSOLE.OCINFO.MXPRI = 15;
      986     8920    1           IF CMD$->IT$CONSOLE.OCINFO.WSN = IT_TXT_LOCAL THEN
      987     8921    1              CMD$->IT$CONSOLE.OCINFO.WSN = '?';
      988     8922    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CONSOLE));
      989     8923    1           CMD$->IT$CMDWD = %ITS_ENDCMD;
      990     8924        /**/
      991     8925    1           RETURN;
      992     8926    1   CC_ALT: ALTRETURN;
      993     8927        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:32   
      994     8928        /*P*    NAME:    ITC$AUTOCONFIG
      995     8929                PURPOSE: ITC$AUTOCONFIG configures a minimal system from the
      996     8930                         configuration information passed to TIGR by AARDVARK
      997     8931                         in IT_CONFIG.  The maximal minimal system is one IOM,
      998     8932                         one disk MPC with one drive, one tape MPC with two
      999     8933                         drives, one system console, and one unit record
     1000     8934                         controller with a line printer and a card reader.
     1001     8935                         The PCB parameter to this routine is really
     1002     8936                         TABLE_PTR$ in ITT$TIGR.  This pointer is not used
     1003     8937                         in ITC$AUTOCONFIG, but is passed to the configuration
     1004     8938                         routines.                                         */
     1005     8939        /**/
     1006     8940    1   ITC$AUTOCONFIG: ENTRY(PCB) ALTRET;
     1007     8941    1           TEXTC.COUNT=7;
     1008     8942    1           FTEXTC.COUNT=8;
     1009     8943        /**/
     1010     8944        /* CONFIGURE SYSTEM CONSOLE */
     1011     8945        /**/
     1012     8946    1           CMD$=B$DS5$;
     1013     8947    1           CMD$->IT$CMDWD=%ITS_CONSOLE;
     1014     8948    1           CMD$=PINCRW(CMD$,SIZEW(IT$CMDWD));
     1015     8949    1           CMD$->IT$CONSOLE='0'B;
     1016     8950    1           CMD$->IT$CONSOLE.CNTWD=CONSOLE_CNTWD;
     1017     8951    1           CMD$->IT$CONSOLE.OCINFO=OC_INFO;
     1018     8952    1           CMD$->IT$CONSOLE.OCINFO.LANG=' ';
     1019     8953    1           CMD$->IT$CONSOLE.OCINFO.WSN='?       ';
     1020     8954    1           CMD$->IT$CONSOLE.OCINFO.MXPRI=15;
     1021     8955    1           CMD$->IT$CONSOLE.OCINFO.CADDR = CMD$->IT$CONSOLE.OCINFO.CADDR | M_SYS;
     1022     8956    1           CMD$->IT$CONSOLE.OCINFO.KCADDR = CMD$->IT$CONSOLE.OCINFO.KCADDR | M_SYS;
     1023     8957    1           CMD$->IT$CONSOLE.NAME='SC010000';
     1024     8958    1           CMD$->IT$CONSOLE.IOM#=0;
     1025     8959    1           CMD$->IT$CONSOLE.CHAN=IT_CONFIG.SC01.CHAN;
     1026     8960    1           TEXTC.TEXT='CONSOLE';
     1027     8961    1           FTEXTC.TEXT=' ';
     1028     8962    1           CALL GET_TYPE(TEXTC,FTEXTC);
     1029     8963    1           CMD$->IT$CONSOLE.TYPE=DVTX;
     1030     8964    1           CMD$->IT$CONSOLE.MODX=MODX;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:33   
     1031     8965    1           CMD$->IT$CONSOLE.FX=FX;
     1032     8966    1           CMD$=PINCRW(CMD$,SIZEW(IT$CONSOLE));
     1033     8967    1           CMD$->IT$CMDWD= %ITS_ENDCMD;
     1034     8968    1           CALL ITS$SYSCON(PCB/* TIGR$ */);
     1035     8969        /**/
     1036     8970        /* CONFIGURE DISK SUBSYSTEM */
     1037     8971        /**/
     1038     8972    1           CMD$=B$DS5$;
     1039     8973    1           CMD$->IT$CMDWD=%ITS_DISK;
     1040     8974    1           CMD$=PINCRW(CMD$,SIZEW(IT$CMDWD));
     1041     8975    1           CMD$->IT$MPC='0'B;
     1042     8976    1           CMD$->IT$MPC.CNTWD=MPC_CNTWD;
     1043     8977    1           IF IT_CONFIG.DC01.FWNAME='M191' THEN
     1044     8978    1              TEXTC.TEXT='MSP0191';
     1045     8979    1           ELSE IF IT_CONFIG.DC01.FWNAME='D500' THEN
     1046     8980    1                 TEXTC.TEXT='MSP0600';
     1047     8981    1              ELSE IF IT_CONFIG.DC01.FWNAME='MSP8' THEN
     1048     8982    1                    TEXTC.TEXT='MSP8021';
     1049     8983    1                 ELSE IF IT_CONFIG.DC01.FWNAME='IIDK' THEN
     1050     8984    1                       TEXTC.TEXT='MSS8090'; /* IIDK - MDS */
     1051     8985    1                    ELSE                   /* D388 - FIPS */
     1052     8986    1                       TEXTC.TEXT='MSP3881';
     1053     8987    1           FTEXTC.TEXT=' ';
     1054     8988    1           CALL GET_TYPE(TEXTC,FTEXTC);
     1055     8989    1           CMD$->IT$MPC.MPCTYPE=DVTX;
     1056     8990    1           CMD$->IT$MPC.MODX=MODX;
     1057     8991    1           CMD$->IT$MPC.FX=FX;
     1058     8992    1           CMD$->IT$MPC.MPCNAME='DC010000';
     1059     8993    1           CMD$->IT$MPC.FWNAME=IT_CONFIG.DC01.FWNAME;
     1060     8994    1           CMD$->IT$MPC.LA_IOM.PRESENCE(0)='1'B;
     1061     8995    1           CMD$->IT$MPC.LA_IOM.LO_CHAN(0)=IT_CONFIG.DC01.CHAN;
     1062     8996    1           CMD$->IT$MPC.LA_IOM.HI_CHAN(0)=IT_CONFIG.DC01.CHAN+1;
     1063     8997                   /* DPS90 IS SO FAST THAT 1 CHANNEL IS STILL BUSY WHEN INTERRUPTS
     1064     8998                      ARE DISABLED ON ZAP - IR FINISHES IO BUT CLSF HAS TROUBLE
     1065     8999                      WITHOUT AN AVAILABLE CHANNEL ON SQH.CQ$                        */
     1066     9000    1           CMD$=PINCRW(CMD$,SIZEW(IT$MPC));
     1067     9001        /**/
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:34   
     1068     9002        /* CONFIGURE DP01 */
     1069     9003        /**/
     1070     9004    1           CMD$->IT$DTDEV='0'B;
     1071     9005    1           CMD$->IT$DTDEV.CNTWD=DTDEV_CNTWD;
     1072     9006    1           CMD$->IT$DTDEV.FLAGS.INPUT='1'B;
     1073     9007    1           CMD$->IT$DTDEV.FLAGS.OUTPUT='1'B;
     1074     9008    1           CMD$->IT$DTDEV.FLAGS.PSIA='1'B;
     1075     9009    1           CMD$->IT$DTDEV.FLAGS.SYSTEM='1'B;
     1076     9010    1           CMD$->IT$DTDEV.DEV#=IT_CONFIG.DP01.DVN;
     1077     9011    1           CMD$->IT$DTDEV.NAME='DP010000';
     1078     9012                                     /* DVC_CODE is the device type code
     1079     9013                                        returned from the request configuration
     1080     9014                                        command to the MPC.                */
     1081     9015    2           DO SELECT(IT_CONFIG.DP01.DVC_CODE/16);
     1082     9016    2              SELECT(9,0,ELSE);
     1083     9017    2           TEXTC.TEXT='MSU0451';
     1084     9018    2           FTEXTC.TEXT='MSF0007';
     1085     9019    2           SELECT(13);
     1086     9020    2           TEXTC.TEXT='MSU0501';
     1087     9021    2           FTEXTC.TEXT='MSF0015';
     1088     9022    2           SELECT(3);                      /* MODEL D */
     1089     9023    2           TEXTC.TEXT='MSU3380';
     1090     9024    2           FTEXTC.TEXT=' ';
     1091     9025    2           SELECT(4);                      /* MODEL E */
     1092     9026    2           TEXTC.TEXT='MSU3381';
     1093     9027    2           FTEXTC.TEXT=' ';
     1094     9028    2           SELECT(22);                     /* MODEL J  .26 */
     1095     9029    2           TEXTC.TEXT='MSU3390';
     1096     9030    2           FTEXTC.TEXT=' ';
     1097     9031    2           SELECT(21);                     /* MODEL K  .25 */
     1098     9032    2           TEXTC.TEXT='MSU3391';
     1099     9033    2           FTEXTC.TEXT=' ';
     1100     9034    2           SELECT(5);                      /* MDS I - FDSII   */
     1101     9035    2           TEXTC.TEXT='MSU8082';
     1102     9036    2           FTEXTC.TEXT=' ';
     1103     9037    2           SELECT(7);                      /* MDS II - SABRE V  */
     1104     9038    2           TEXTC.TEXT='MSU8092';
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:35   
     1105     9039    2           FTEXTC.TEXT=' ';
     1106     9040    2              END;
     1107     9041    1           CALL GET_TYPE(TEXTC,FTEXTC);
     1108     9042    1           CMD$->IT$DTDEV.TYPE=DVTX;
     1109     9043    1           CMD$->IT$DTDEV.MODX=MODX;
     1110     9044    1           CMD$->IT$DTDEV.FX=FX;
     1111     9045    1           CMD$=PINCRW(CMD$,SIZEW(IT$DTDEV));
     1112     9046    1           CMD$->IT$CMDWD= %ITS_ENDCMD;
     1113     9047    1           CALL ITD$DISKTAPE(PCB/* TIGR$ */);
     1114     9048        /**/
     1115     9049        /* CONFIGURE TAPE SUBSYSTEM */
     1116     9050        /**/
     1117     9051    1           CMD$=B$DS5$;
     1118     9052    1           CMD$->IT$CMDWD= %ITS_TAPE;
     1119     9053    1           CMD$=PINCRW(CMD$,SIZEW(IT$CMDWD));
     1120     9054    1           CMD$->IT$MPC='0'B;
     1121     9055    1           CMD$->IT$MPC.CNTWD=MPC_CNTWD;
     1122     9056    1           IF IT_CONFIG.TC01.FWNAME='M601' THEN
     1123     9057    1              TEXTC.TEXT='MTP0601';
     1124     9058    1           ELSE IF IT_CONFIG.TC01.FWNAME='TPUR' THEN
     1125     9059    1                 TEXTC.TEXT='MTPTPUR';
     1126     9060    1              ELSE IF IT_CONFIG.TC01.FWNAME='M610' THEN
     1127     9061    1                    TEXTC.TEXT='MTP0610';
     1128     9062    1                 ELSE
     1129     9063    1                    TEXTC.TEXT='MTP8215';
     1130     9064    1           FTEXTC.TEXT=' ';
     1131     9065    1           CALL GET_TYPE(TEXTC,FTEXTC);
     1132     9066    1           CMD$->IT$MPC.MPCTYPE=DVTX;
     1133     9067    1           CMD$->IT$MPC.MODX=MODX;
     1134     9068    1           CMD$->IT$MPC.FX=FX;
     1135     9069    1           CMD$->IT$MPC.MPCNAME='TC010000';
     1136     9070    1           CMD$->IT$MPC.FWNAME=IT_CONFIG.TC01.FWNAME;
     1137     9071    1           CMD$->IT$MPC.LA_IOM.PRESENCE(0)='1'B;
     1138     9072    1           CMD$->IT$MPC.LA_IOM.LO_CHAN(0)=IT_CONFIG.TC01.CHAN;
     1139     9073    1           CMD$->IT$MPC.LA_IOM.HI_CHAN(0)=IT_CONFIG.TC01.CHAN;
     1140     9074    1           CMD$=PINCRW(CMD$,SIZEW(IT$MPC));
     1141     9075        /**/
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:36   
     1142     9076        /* CONFIGURE MT01 */
     1143     9077        /**/
     1144     9078    1           CALL BUILD_TAPE(IT_CONFIG.MT01.DVN,'MT010000');
     1145     9079        /**/
     1146     9080        /* CONFIGURE MT02 IF PRESENT */
     1147     9081        /**/
     1148     9082    1           IF IT_CONFIG.MT02.DVN~=0 THEN
     1149     9083    1              CALL BUILD_TAPE(IT_CONFIG.MT02.DVN,'MT020000');
     1150     9084    1           CMD$->IT$CMDWD= %ITS_ENDCMD;
     1151     9085    1           CALL ITD$DISKTAPE(PCB/* TIGR$ */);
     1152     9086        /**/
     1153     9087        /* CONFIGURE UNIT RECORD SUBSYSTEM */
     1154     9088        /**/
     1155     9089    1           CMD$=B$DS5$;
     1156     9090    1           CMD$->IT$CMDWD=%ITS_UNIT;
     1157     9091    1           CMD$=PINCRW(CMD$,SIZEW(IT$CMDWD));
     1158     9092        /**/
     1159     9093    1           CMD$->IT$MPC='0'B;
     1160     9094    1           CMD$->IT$MPC.CNTWD=MPC_CNTWD;
     1161     9095    1           IF IT_CONFIG.UC01.FWNAME='UCMN' OR HW_IOP THEN
     1162     9096    1              TEXTC.TEXT='URP0600';
     1163     9097    1           ELSE IF IT_CONFIG.UC01.FWNAME='URTP' THEN
     1164     9098    1                 TEXTC.TEXT='URPURTP';
     1165     9099    1              ELSE IF HW_IMX THEN
     1166     9100    1                    TEXTC.TEXT='URP8600';
     1167     9101    1                 ELSE
     1168     9102    1                    TEXTC.TEXT='URPEURP';
     1169     9103    1           FTEXTC.TEXT=' ';
     1170     9104    1           CALL GET_TYPE(TEXTC,FTEXTC);
     1171     9105    1           CMD$->IT$MPC.MPCTYPE=DVTX;
     1172     9106    1           CMD$->IT$MPC.MODX=MODX;
     1173     9107    1           CMD$->IT$MPC.FX=FX;
     1174     9108    1           CMD$->IT$MPC.MPCNAME='UC010000';
     1175     9109    1           CMD$->IT$MPC.FWNAME=IT_CONFIG.UC01.FWNAME;
     1176     9110    1           CMD$->IT$MPC.LPFWNAME=IT_CONFIG.UC01.LPNAME;
     1177     9111    1           CMD$->IT$MPC.CRPFWNAME=IT_CONFIG.UC01.CRPNAME;
     1178     9112    1           CMD$=PINCRW(CMD$,SIZEW(IT$MPC));
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:37   
     1179     9113    1           IF IT_CONFIG.UC01.CHAN=0 THEN
     1180     9114    1              CMD$->IT$MPC.FLAGS.DOWN='1'B;
     1181     9115        /**/
     1182     9116        /* CONFIGURE LP01 IF PRESENT */
     1183     9117        /**/
     1184     9118    1           CMD$->IT$UNITDEV='0'B;
     1185     9119    1           CMD$->IT$UNITDEV.CNTWD=UNITDEV_CNTWD;
     1186     9120    1           CMD$->IT$UNITDEV.FLAGS.OUTPUT='1'B;
     1187     9121    1           CMD$->IT$UNITDEV.FLAGS.SYMBIONT='1'B;
     1188     9122    1           CMD$->IT$UNITDEV.FLAGS.PSIA='1'B;
     1189     9123    1           IF IT_CONFIG.LP01.CHAN=0 THEN
     1190     9124    1              CMD$->IT$UNITDEV.FLAGS.DOWN='1'B;
     1191     9125    1           CMD$->IT$UNITDEV.DEV#=1;
     1192     9126    1           CMD$->IT$UNITDEV.NAME='LP010000';
     1193     9127    1           IF HW_IMX THEN
     1194     9128    1              TEXTC.TEXT='PRU1201';
     1195     9129    1           ELSE
     1196     9130    1              TEXTC.TEXT='PRU1200';
     1197     9131    1           FTEXTC.TEXT='PRB0600';
     1198     9132    1           CALL GET_TYPE(TEXTC,FTEXTC);
     1199     9133    1           CMD$->IT$UNITDEV.TYPE=DVTX;
     1200     9134    1           CMD$->IT$UNITDEV.MODX=MODX;
     1201     9135    1           CMD$->IT$UNITDEV.FX=FX;
     1202     9136    1           CMD$->IT$UNITDEV.FORMNAME='STDLP';
     1203     9137    1           CMD$->IT$UNITDEV.IOMCHAN.CHAN(0)=IT_CONFIG.LP01.CHAN;
     1204     9138    1           CMD$->IT$UNITDEV.IOMCHAN.IOM#(1)=-1; /* NOT THERE */
     1205     9139    1           CMD$->IT$UNITDEV.VFC$=ADDR(IT_VFC);
     1206     9140    1           CMD$->IT$UNITDEV.VFCL=SIZEW(IT_VFC);
     1207     9141    1           CMD$->IT$UNITDEV.CHAIN$=ADDR(IT_CHAIN600);
     1208     9142    1           CMD$->IT$UNITDEV.CHAINL=SIZEW(IT_CHAIN600);
     1209     9143    1           CMD$=PINCRW(CMD$,SIZEW(IT$UNITDEV));
     1210     9144        /**/
     1211     9145        /* CONFIGURE CR01 IF PRESENT */
     1212     9146        /**/
     1213     9147    2           IF IT_CONFIG.CR01.CHAN~=0 THEN DO;
     1214     9148    2              CMD$->IT$UNITDEV='0'B;
     1215     9149    2              CMD$->IT$UNITDEV.CNTWD=UNITDEV_CNTWD;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:38   
     1216     9150    2              CMD$->IT$UNITDEV.FLAGS.INPUT='1'B;
     1217     9151    2              CMD$->IT$UNITDEV.FLAGS.SYMBIONT='1'B;
     1218     9152    2              CMD$->IT$UNITDEV.FLAGS.PSIA='1'B;
     1219     9153    2              CMD$->IT$UNITDEV.DEV#=1;
     1220     9154    2              CMD$->IT$UNITDEV.NAME='CR010000';
     1221     9155    2              TEXTC.TEXT='CRU0501';
     1222     9156    2              FTEXTC.TEXT=' ';
     1223     9157    2              CALL GET_TYPE(TEXTC,FTEXTC);
     1224     9158    2              CMD$->IT$UNITDEV.TYPE=DVTX;
     1225     9159    2              CMD$->IT$UNITDEV.MODX=MODX;
     1226     9160    2              CMD$->IT$UNITDEV.FX=FX;
     1227     9161    2              CMD$->IT$UNITDEV.FORMNAME=' ';
     1228     9162    2              CMD$->IT$UNITDEV.IOMCHAN.CHAN(0)=IT_CONFIG.CR01.CHAN;
     1229     9163    2              CMD$->IT$UNITDEV.IOMCHAN.IOM#(1)=-1; /* NOT THERE */
     1230     9164    2              CMD$=PINCRW(CMD$,SIZEW(IT$UNITDEV));
     1231     9165    2              END;
     1232     9166    1           CMD$->IT$CMDWD= %ITS_ENDCMD;
     1233     9167    1           CALL ITU$UNIT(PCB/* TIGR$ */);
     1234     9168        /**/
     1235     9169        /* CONFIGURE FEP 1 */
     1236     9170        /**/
     1237     9171    1           CMD$=B$DS5$;
     1238     9172    2           IF IT_CONFIG.FEP1.CHAN~=0 THEN DO;
     1239     9173    2              CMD$->IT$CMDWD=%ITS_FEP;
     1240     9174    2              CMD$=PINCRW(CMD$,SIZEW(IT$CMDWD));
     1241     9175    2              CMD$->IT$FEP='0'B;
     1242     9176    2              CMD$->IT$FEP.CNTWD=FEP_CNTWD;
     1243     9177    2              CMD$->IT$FEP.FEP#=1;
     1244     9178    2              CMD$->IT$FEP.IOM#=0;
     1245     9179    2              CMD$->IT$FEP.CHAN=IT_CONFIG.FEP1.CHAN;
     1246     9180    2              CMD$->IT$FEP.INQSZ=2;
     1247     9181    2              CMD$->IT$FEP.OUTQSZ=4;
     1248     9182    2              CMD$->IT$FEP.QOS = 1;
     1249     9183    2              CMD$=PINCRW(CMD$,SIZEW(IT$FEP));
     1250     9184    2              CMD$->IT$CMDWD= %ITS_ENDCMD;
     1251     9185    2              CALL ITF$FEP(PCB/* TIGR$ */);
     1252     9186    2              END;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:39   
     1253     9187    1           RETURN;
     1254     9188        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:40   
     1255     9189    1   BUILD_TAPE: PROC(DVN,DEVNAME);
     1256     9190        /**/
     1257     9191    2   DCL DVN SBIN;
     1258     9192    2   DCL DEVNAME CHAR(8);
     1259     9193    2           CMD$->IT$DTDEV='0'B;
     1260     9194    2           CMD$->IT$DTDEV.CNTWD=DTDEV_CNTWD;
     1261     9195    2           CMD$->IT$DTDEV.FLAGS.INPUT='1'B;
     1262     9196    2           CMD$->IT$DTDEV.FLAGS.OUTPUT='1'B;
     1263     9197    2           CMD$->IT$DTDEV.FLAGS.PSIA='1'B;
     1264     9198    2           CMD$->IT$DTDEV.DEV#=DVN;
     1265     9199    2           CMD$->IT$DTDEV.NAME=DEVNAME;
     1266     9200    2           IF IT_CONFIG.TC01.FWNAME='M601' OR IT_CONFIG.TC01.FWNAME='TPUR' OR
     1267     9201    3             IT_CONFIG.TC01.FWNAME='M610' THEN DO;
     1268     9202    3              TEXTC.TEXT='MTU0610';
     1269     9203    3              FTEXTC.TEXT='MTF0608';
     1270     9204    3              END;
     1271     9205    3           ELSE DO;                        /* M460 - FIPS */
     1272     9206    3              TEXTC.TEXT='MTU8200';
     1273     9207    3              FTEXTC.TEXT='MTF8206';
     1274     9208    3              END;
     1275     9209    2           CALL GET_TYPE(TEXTC,FTEXTC);
     1276     9210    2           CMD$->IT$DTDEV.TYPE=DVTX;
     1277     9211    2           CMD$->IT$DTDEV.MODX=MODX;
     1278     9212    2           CMD$->IT$DTDEV.FX=FX;
     1279     9213    2           CMD$=PINCRW(CMD$,SIZEW(IT$DTDEV));
     1280     9214    2           RETURN;
     1281     9215    2   END BUILD_TAPE;
     1282     9216        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:41   
     1283     9217        /*D*     NAME:     ITC$CHECK_CPU
     1284     9218                 PURPOSE:  To check the syntax of the TIGR CPU command.
     1285     9219                 DESCRIPTION:   ITC$CHECK_CPU fills in the structure IT$CPU with
     1286     9220                           pointed to by CMD$ with the PORT# and MASTER/SLAVE
     1287     9221                           specifications of the CPU command.      */
     1288     9222        /**/
     1289     9223    1   ITC$CHECK_CPU: ENTRY(PCB) ALTRET;
     1290     9224        /**/
     1291     9225    1           CMD$ = B$DS5$;
     1292     9226    1           CMD$->IT$CMDWD = %ITS_CPU;
     1293     9227        /**/
     1294     9228    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CMDWD));
     1295     9229        /**/
     1296     9230    1           CMD$->IT$CPU = NO;
     1297     9231        /**/
     1298     9232    1           IF PCB.OUT$->P$O.NSUBLKS > 1 THEN CMD$->IT$CPU.MASTER = YES;
     1299     9233        /**/
     1300     9234    1           TEXTC = PCB.OUT$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;
     1301     9235        /**/
     1302     9236    2           IF TEXTC.COUNT > 1 THEN DO;     /* 7 ports max                        */
     1303     9237    2              CALL ITE$ERROR(%E$PORT#2BIG);
     1304     9238    2              ALTRETURN;
     1305     9239    2              END;
     1306     9240        /**/
     1307     9241    1           CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
     1308     9242    1           CMD$->IT$CPU.PORT# = TEMP;
     1309     9243        /**/
     1310     9244    1           RETURN;
     1311     9245        /**/
     1312     9246        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:42   
     1313     9247        /*D*     NAME:     ITC$CHECK_FEP
     1314     9248                 PURPOSE:  To check the syntax of the TIGR FEP command.
     1315     9249                 DESCRIPTION: ITC$CHECK_FEP puts the IOM connection
     1316     9250                           information specified on the FEP command into the
     1317     9251                           structure IT$FEP pointed to by CMD$.    */
     1318     9252        /**/
     1319     9253    1   ITC$CHECK_FEP: ENTRY(PCB) ALTRET;
     1320     9254        /**/
     1321     9255    1           CMD$ = B$DS5$;
     1322     9256    1           CMD$->IT$CMDWD = %ITS_FEP;
     1323     9257        /**/
     1324     9258    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CMDWD));
     1325     9259        /**/
     1326     9260    1           CMD$->IT$FEP = NO;
     1327     9261    1           CMD$->IT$FEP.CNTWD = FEP_CNTWD;
     1328     9262        /**/
     1329     9263    1           BLK$ = PCB.OUT$->P$O.SUBLK$(0); /* NAME                         */
     1330     9264        /**/
     1331     9265    1           TEMP=BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C.COUNT;
     1332     9266    2           IF TEMP=0 OR TEMP>2 THEN DO;
     1333     9267    2              CALL ITE$ERROR(%E$BADFEP#);
     1334     9268    2              ALTRETURN;
     1335     9269    2              END;
     1336     9270        /**/
     1337     9271    1           CALL CHARBIN(CMD$->IT$FEP.FEP#,SUBSTR(BLK$->P$O.SUBLK$(0)->
     1338     9272    1             P$O.SUBLK$(0)->TEXT$C.TEXT,0,TEMP));
     1339     9273        /**/
     1340     9274    2           IF CMD$->IT$FEP.FEP# = 0 OR CMD$->IT$FEP.FEP# > KI_FEMAX# THEN DO;
     1341     9275    2              CALL ITE$ERROR(%E$BADFEP#);
     1342     9276    2              ALTRETURN;
     1343     9277    2              END;
     1344     9278        /**/
     1345     9279    1           BLK$ = PCB.OUT$->P$O.SUBLK$(1); /* IOM CHANNEL                  */
     1346     9280        /**/
     1347     9281    1           TEXTC = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;
     1348     9282    1           CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
     1349     9283    2           IF TEMP > NI_IOMS-1 THEN DO;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:43   
     1350     9284    2              CALL ITE$ERROR(%E$IOM2BIG);
     1351     9285    2              ALTRETURN;
     1352     9286    2              END;
     1353     9287        /**/
     1354     9288    1           CMD$->IT$FEP.IOM# = TEMP;
     1355     9289        /**/
     1356     9290    1           TEXTC = BLK$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C;
     1357     9291    1           CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
     1358     9292    1           CALL ITH$CHECK_CHANNUM ( ,TEMP) ALTRET (FC_ALT);
     1359     9293        /**/
     1360     9294    1           CMD$->IT$FEP.CHAN = TEMP ;
     1361     9295        /**/
     1362     9296    1           CMD$->IT$FEP.INQSZ = 2;
     1363     9297    1           CMD$->IT$FEP.OUTQSZ = 4;
     1364     9298    1           CMD$->IT$FEP.QOS = 1;
     1365     9299    1           CMD$->IT$FEP.TIMEOUT.BOOT = KITM_BT;
     1366     9300    1           CMD$->IT$FEP.TIMEOUT.DUMP = KITM_DMP;
     1367     9301    1           CMD$->IT$FEP.TIMEOUT.RUN  = KITM_RUN;
     1368     9302    1           CMD$->IT$FEP.TIMEOUT.INT  = KITM_INIT;
     1369     9303        /**/
     1370     9304    1           IF PCB.OUT$->P$O.NSUBLKS ~= 2 THEN
     1371     9305    2           DO J = 2 TO PCB.OUT$->P$O.NSUBLKS - 1;
     1372     9306        /**/
     1373     9307    2              BLK$ = PCB.OUT$->P$O.SUBLK$(J);
     1374     9308    3              DO CASE(BLK$->P$O.CODE);
     1375     9309    3               CASE(%ITS_STATUS);
     1376     9310    3                 IF BLK$->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN
     1377     9311    3                    CMD$->IT$FEP.FLAGS.DOWN = YES ;
     1378     9312    3               CASE(ELSE);
     1379     9313    3                 TEXTC = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;
     1380     9314    3                 CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
     1381     9315    4                 IF TEMP < 1 OR TEMP > 64 THEN DO; /* BAD QSZ OPTION */
     1382     9316    4                    CALL ITE$ERROR(%E$BADQSZ);
     1383     9317    4                    END;
     1384     9318    4                 ELSE DO CASE(BLK$->P$O.CODE);
     1385     9319    4                  CASE(%ITS_INQSZ);
     1386     9320    4                    CMD$->IT$FEP.INQSZ = TEMP;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:44   
     1387     9321    4                  CASE(%ITS_OUTQSZ);
     1388     9322    4                    CMD$->IT$FEP.OUTQSZ = TEMP;
     1389     9323    4                  CASE(%ITS_QOS);
     1390     9324    4                    CMD$->IT$FEP.QOS = TEMP;
     1391     9325    4                  CASE(%ITS_BOOTTO);
     1392     9326    4                    CMD$->IT$FEP.TIMEOUT.BOOT = TEMP;
     1393     9327    4                  CASE(%ITS_DUMPTO);
     1394     9328    4                    CMD$->IT$FEP.TIMEOUT.DUMP = TEMP;
     1395     9329    4                  CASE(%ITS_RUNTO);
     1396     9330    4                    CMD$->IT$FEP.TIMEOUT.RUN = TEMP;
     1397     9331    4                  CASE(%ITS_INITTO);
     1398     9332    4                    CMD$->IT$FEP.TIMEOUT.INT = TEMP;
     1399     9333    4                  END;
     1400     9334    3               END;
     1401     9335    2              END;
     1402     9336    1           CMD$ = PINCRW(CMD$,SIZEW(IT$FEP));
     1403     9337    1           CMD$->IT$CMDWD = %ITS_ENDCMD;
     1404     9338        /**/
     1405     9339    1           RETURN;
     1406     9340    1   FC_ALT: ALTRETURN;
     1407     9341        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:45   
     1408     9342        /*D*     NAME:     ITC$CHECK_MON
     1409     9343                 PURPOSE:  To check the syntax of the TIGR MON command.
     1410     9344                 DESCRIPTION: ITC$CHECK_MON builds a table pointed to by CMD$.
     1411     9345                           This table consists of a seperate frame of the
     1412     9346                           structure IT$MONOPT for each option specified on the
     1413     9347                           MON command. After all the options have been processed
     1414     9348                           a pass is made through all of the possible MON options
     1415     9349                           to build default IT$MONOPT frames for any options
     1416     9350                           that were not specified.
     1417     9351                                The information provided about system processors
     1418     9352                           by the SPROC option is stored temporarily in a data segment
     1419     9353                           to later be used to fill in the processor tables.
     1420     9354        */
     1421     9355        /**/
     1422     9356    1   ITC$CHECK_MON: ENTRY(PCB) ALTRET;
     1423     9357        /**/
     1424     9358    1           CMD$ = B$DS5$;
     1425     9359        /**/
     1426     9360    1           CMD$->IT$CMDWD = %ITS_MON;
     1427     9361        /**/
     1428     9362    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CMDWD));
     1429     9363        /**/
     1430     9364    1           B_SITEINFO.SITE_NAME#.L = 0;
     1431     9365    1           B_SITEINFO.SALUTATION#.L = 0;
     1432     9366    1           B_SITEINFO.SITE_ID# = ' ';
     1433     9367        /**/
     1434     9368    1           B_SITEINFO.CPU_TYPE# = S_PTYPE(0);
     1435     9369        /**/
     1436     9370    2           DO I = 0 TO PCB.OUT$->P$O.NSUBLKS - 1;
     1437     9371    2              IF PCB.OUT$->P$O.NSUBLKS ~= 0 THEN
     1438     9372    2                 BLK$ = PCB.OUT$->P$O.SUBLK$(I);
     1439     9373    3              DO CASE(BLK$->P$O.CODE);
     1440     9374    3               CASE(%ITS_SPROC);
     1441     9375    3                 CALL SPROC_OPT ALTRET(OPT_ERR);
     1442     9376        /**/
     1443     9377    3               CASE(%ITS_RES);
     1444     9378    3                 CALL RES_OPT ALTRET(OPT_ERR);
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:46   
     1445     9379        /**/
     1446     9380    3               CASE(%ITS_USERS,%ITS_SPSPACE,%ITS_SPAUTOSPACE,%ITS_DOLIST,
     1447     9381    3                   %ITS_DEVMAX,%ITS_PATCHSP,
     1448     9382    3                   %ITS_SSN_CLIENTS,%ITS_SSN_SERVERS,%ITS_SSN_MAX,%ITS_TCTX,%
              9382                            ITS_OSIROUTE,
     1449     9383    3                   %ITS_CGMAP,%ITS_CGCXTSZ,%ITS_FEPRES);
     1450     9384    3                 CALL ONEVAL_OPT ALTRET(OPT_ERR);
     1451     9385        /**/
     1452     9386    3               CASE(%ITS_DUMPSIZE);
     1453     9387    3                 CALL ONEVAL_OPT ALTRET(OPT_ERR);
     1454     9388    3                 CMD$ -> IT$MONOPT.OPTS.VAL1 =
     1455     9389    3                   MINIMUM(%MAX_DUMPSIZE,
     1456     9390    3                   MAXIMUM(%MIN_DUMPSIZE, CMD$->IT$MONOPT.OPTS.VAL1));
     1457     9391        /**/
     1458     9392    3               CASE(%ITS_QUEUE,%ITS_ENQ,%ITS_CFU,%ITS_STEALPGS);
     1459     9393    3                 CALL TWOVAL_OPT ALTRET(OPT_ERR);
     1460     9394        /**/
     1461     9395    3               CASE(%ITS_SITE);
     1462     9396    3                 CALL SITE_OPT ALTRET(OPT_ERR);
     1463     9397        /**/
     1464     9398    3               CASE(%ITS_HSITE);
     1465     9399    3                 CALL HSITE_OPT ALTRET(OPT_ERR);
     1466     9400        /**/
     1467     9401    3               CASE(%ITS_SALUTATION);
     1468     9402    3                 CALL SALUTATION_OPT ALTRET(OPT_ERR);
     1469     9403        /**/
     1470     9404    3               CASE(%ITS_MTDFLT);
     1471     9405    3                 CALL MTDFLT_OPT ALTRET(OPT_ERR);
     1472     9406
     1473     9407    3               CASE(%ITS_IOCACHE);
     1474     9408    3                 CALL IOCACHE_OPT ALTRET(OPT_ERR);
     1475     9409    3               CASE(%ITS_NODES);
     1476     9410    3                 CALL NODES_OPT ALTRET(OPT_ERR);
     1477     9411    3               END;
     1478     9412    2              END;
     1479     9413    1           CMD$->IT$CMDWD = %ITS_ENDCMD;
     1480     9414        /**/
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:47   
     1481     9415    2           DO J = 0 TO %ITS_#MONOPTS;      /* Fill in defaults                 */
     1482     9416    2              CALL DEFAULT_CHECK ALTRET(NO_DEFAULT);
     1483     9417        /**/
     1484     9418    3              DO CASE(J);
     1485     9419        /**/
     1486     9420    3               CASE(%ITS_USERS,%ITS_QUEUE,%ITS_DOLIST,%ITS_DEVMAX,
     1487     9421    3                %ITS_IOCACHE,%ITS_STEALPGS,%ITS_DUMPSIZE,%ITS_SPAUTOSPACE,%ITS_CGMAP,
     1488     9422    3                %ITS_SSN_CLIENTS,%ITS_SSN_SERVERS,%ITS_SSN_MAX,%ITS_TCTX,%ITS_OSIROUTE,
     1489     9423    3                %ITS_CGCXTSZ,%ITS_NODES,%ITS_FEPRES);
     1490     9424        /**/
     1491     9425    3                 CMD$->IT$MONOPT = NO;
     1492     9426    3                 CMD$->IT$MONOPT.CNTWD.OFFSET = SIZEW(IT$MONOPT);
     1493     9427    3                 CMD$->IT$MONOPT.CNTWD.TYPE = J;
     1494     9428        /**/
     1495     9429    4                 DO CASE(J);
     1496     9430        /**/
     1497     9431    4                  CASE(%ITS_USERS);
     1498     9432    4                    CMD$->IT$MONOPT.OPTS.VAL1 = S_MING;
     1499     9433        /**/
     1500     9434    4                  CASE(%ITS_DOLIST);
     1501     9435    4                    TEMP$ = PINCRW(B$DS5$,SIZEW(IT$CMDWD));
     1502     9436    5                    DO WHILE(TEMP$->IT$MONOPT.CNTWD.TYPE ~= %ITS_USERS);
     1503     9437    5                       TEMP$ = PINCRW(TEMP$,TEMP$->IT$MONOPT.CNTWD.OFFSET);
     1504     9438    5                       END;
     1505     9439        /**/
     1506     9440    4                    CMD$->IT$MONOPT.OPTS.VAL1 = TEMP$->
     1507     9441    4                      IT$MONOPT.OPTS.VAL1;
     1508     9442        /**/
     1509     9443        /* Make default the number of user slots divided by four */
     1510     9444    4                  CASE(%ITS_SPAUTOSPACE);
     1511     9445    4                    TEMP$ = PINCRW(B$DS5$,SIZEW(IT$CMDWD)); /* Find users in table */
     1512     9446    5                    DO WHILE(TEMP$->IT$MONOPT.CNTWD.TYPE ~= %ITS_USERS);
     1513     9447    5                       TEMP$ = PINCRW(TEMP$,TEMP$->IT$MONOPT.CNTWD.OFFSET);
     1514     9448    5                       END;
     1515     9449    4                    CMD$->IT$MONOPT.OPTS.VAL1 = TEMP$->IT$MONOPT.OPTS.VAL1/4;
     1516     9450    4                  CASE(%ITS_QUEUE);
     1517     9451    4                    K = 1;                 /* Count local devices         */
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:48   
     1518     9452    5                    DO WHILE((K < N_DCTXMAX)AND(N$DCT$$->N$DCT$(K) ~= ADDR(NIL)));
     1519     9453    5                       K = K + 1;          /* Get number of local devices */
     1520     9454    5                       END;
     1521     9455    4                    CMD$->IT$MONOPT.OPTS.VAL1 = 10*N_NDPS +
     1522     9456    4                      K - N_NDPS;          /* 10 per pact + 1 per other dev      */
     1523     9457    4                    CMD$->IT$MONOPT.OPTS.VAL2 = 30 +
     1524     9458    4                      CMD$->IT$MONOPT.OPTS.VAL1;
     1525     9459        /**/
     1526     9460    4                  CASE(%ITS_DEVMAX);
     1527     9461    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DEFDEVMAX;
     1528     9462        /**/
     1529     9463    4                  CASE(%ITS_NODES);
     1530     9464    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DEFNODES;
     1531     9465        /**/
     1532     9466    4                  CASE(%ITS_FEPRES);
     1533     9467    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DEFFEPRES;
     1534     9468    4                  CASE(%ITS_SSN_CLIENTS);
     1535     9469    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_SSN_CLIENTS;
     1536     9470
     1537     9471    4                  CASE(%ITS_SSN_SERVERS);
     1538     9472    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_SSN_SERVERS;
     1539     9473
     1540     9474    4                  CASE(%ITS_SSN_MAX);
     1541     9475    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_SSN_MAX;
     1542     9476
     1543     9477    4                  CASE(%ITS_OSIROUTE);
     1544     9478    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_OSIROUTE;
     1545     9479
     1546     9480    4                  CASE(%ITS_TCTX);
     1547     9481    4                    TEMP$ = PINCRW(B$DS5$,SIZEW(IT$CMDWD)); /* Find max ssn in table */
     1548     9482    5                    DO WHILE(TEMP$->IT$MONOPT.CNTWD.TYPE ~= %ITS_SSN_MAX);
     1549     9483    5                       TEMP$ = PINCRW(TEMP$,TEMP$->IT$MONOPT.CNTWD.OFFSET);
     1550     9484    5                       END;
     1551     9485    4                    CMD$->IT$MONOPT.OPTS.VAL1 = TEMP$->IT$MONOPT.OPTS.VAL1;
     1552     9486
     1553     9487    4                    TEMP$ = PINCRW(B$DS5$,SIZEW(IT$CMDWD)); /* Find nodes in table */
     1554     9488    5                    DO WHILE(TEMP$->IT$MONOPT.CNTWD.TYPE ~= %ITS_NODES);
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:49   
     1555     9489    5                       TEMP$ = PINCRW(TEMP$,TEMP$->IT$MONOPT.CNTWD.OFFSET);
     1556     9490    5                       END;
     1557     9491    4                    CMD$->IT$MONOPT.OPTS.VAL1 =
     1558     9492    4                      CMD$->IT$MONOPT.OPTS.VAL1 + TEMP$->IT$MONOPT.OPTS.VAL1 -2;
     1559     9493
     1560     9494    4                  CASE(%ITS_STEALPGS);
     1561     9495    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_RSVP;
     1562     9496    4                    CMD$->IT$MONOPT.OPTS.VAL2 = %DFLT_STLM;
     1563     9497        /**/
     1564     9498    4                  CASE(%ITS_IOCACHE);
     1565     9499    4                    TEMP$ = PINCRW(B$DS5$,SIZEW(IT$CMDWD)); /* Find users in table */
     1566     9500    5                    DO WHILE(TEMP$->IT$MONOPT.CNTWD.TYPE ~= %ITS_USERS);
     1567     9501    5                       TEMP$ = PINCRW(TEMP$,TEMP$->IT$MONOPT.CNTWD.OFFSET);
     1568     9502    5                       END;
     1569     9503    4                    CMD$->IT$MONOPT.OPTS.VAL1 = MINIMUM(TEMP$->IT$MONOPT.OPTS.VAL1, (
              9503                             MM_PCORE-2048)/4);
     1570     9504        /**/
     1571     9505    4                  CASE(%ITS_DUMPSIZE);
     1572     9506    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_DUMPSIZE;
     1573     9507    4                  CASE(%ITS_CGMAP);
     1574     9508    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_CGMAP;
     1575     9509    4                  CASE(%ITS_CGCXTSZ);
     1576     9510    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_CGCXTSZ;
     1577     9511    4                  END;
     1578     9512        /**/
     1579     9513    3                 CMD$ = PINCRW(CMD$,SIZEW(IT$MONOPT));
     1580     9514    3                 CMD$->IT$CMDWD = %ITS_ENDCMD;
     1581     9515        /**/
     1582     9516    3               END;
     1583     9517    2   NO_DEFAULT:
     1584     9518    2              END;
     1585     9519        /**/
     1586     9520    1           RETURN;
     1587     9521        /**/
     1588     9522    1   OPT_ERR:
     1589     9523    1           ALTRETURN;
     1590     9524        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:50   
     1591     9525        /**/
     1592     9526    1   SPROC_OPT: PROC ALTRET;
     1593     9527        /**/
     1594     9528    2           CMD$->IT$SPROC = NO;
     1595     9529    2           CMD$->IT$SPROC.CNTWD = SPROC_CNTWD;
     1596     9530        /**/
     1597     9531    3           DO J = 0 TO BLK$->P$O.NSUBLKS -1;
     1598     9532    3              TEMP$ = BLK$->P$O.SUBLK$(J);
     1599     9533    4              DO CASE(TEMP$->P$O.CODE);
     1600     9534        /**/
     1601     9535    4               CASE(%ITS_SPROCNAME);
     1602     9536    4                 CMD$->IT$SPROC.NAME.COUNT = TEMP$->P$O.SUBLK$(0)
     1603     9537    4                   ->SP_TEXT$C.COUNT;
     1604     9538    4                 CMD$->IT$SPROC.NAME.TEXT = SUBSTR(TEMP$->P$O.SUBLK$(0)
     1605     9539    4                   ->SP_TEXT$C.TEXT,0,CMD$->IT$SPROC.NAME.COUNT);
     1606     9540        /**/
     1607     9541    4               CASE(%ITS_SPROCFLAGS);
     1608     9542    5                 DO K = 0 TO TEMP$->P$O.NSUBLKS - 1;
     1609     9543    6                    DO CASE(TEMP$->P$O.SUBLK$(K)->P$O.CODE);
     1610     9544    6                     CASE(%ITS_CP);
     1611     9545    6                       CMD$->IT$SPROC.FLGS =( %P_CP |
     1612     9546    6                         CMD$->IT$SPROC.FLGS);
     1613     9547        /**/
     1614     9548    6                     CASE(%ITS_AS);
     1615     9549    6                       CMD$->IT$SPROC.FLGS =( %P_ASL |
     1616     9550    6                         CMD$->IT$SPROC.FLGS);
     1617     9551        /**/
     1618     9552    6                     CASE(%ITS_LI);
     1619     9553    6                       CMD$->IT$SPROC.FLGS =( %P_LIB |
     1620     9554    6                         CMD$->IT$SPROC.FLGS);
     1621     9555        /**/
     1622     9556    6                     CASE(%ITS_DB);
     1623     9557    6                       CMD$->IT$SPROC.FLGS =( %P_DB |
     1624     9558    6                         CMD$->IT$SPROC.FLGS);
     1625     9559        /**/
     1626     9560    6                     END;
     1627     9561    5                    END;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:51   
     1628     9562    4               END;
     1629     9563    3              END;
     1630     9564        /**/
     1631     9565        /*
     1632     9566           **** CHECK IF DUPLICATE SPROCS SPEC'D
     1633     9567        */
     1634     9568    2           TEMP$ = B$DS5$;
     1635     9569    2           TEMP$ = PINCRW(TEMP$,SIZEW(IT$CMDWD));
     1636     9570    3           DO WHILE(TEMP$ < CMD$);
     1637     9571    4              DO CASE(CMD$->IT$SPROC.CNTWD.TYPE);
     1638     9572    4               CASE(%ITS_SPROC);
     1639     9573    4                 IF TEMP$->IT$SPROC.NAME = CMD$->IT$SPROC.NAME THEN
     1640     9574    5                 DO;
     1641     9575    5                    CALL ITE$ERROR(%E$DUPSPROCS,ADDR(CMD$->IT$SPROC.NAME));
     1642     9576    5                    ALTRETURN;
     1643     9577    5                    END;
     1644     9578    4               END;
     1645     9579    3              TEMP$ = PINCRW(TEMP$,SIZEW(IT$CMDWD));
     1646     9580    3              END;
     1647     9581        /**/
     1648     9582        /* Check to see if this is one of the processors we install automaticly */
     1649     9583    2           IF CMD$->IT$SPROC.NAME.TEXT ~= 'DELTA' AND
     1650     9584    2             CMD$->IT$SPROC.NAME.TEXT ~= 'IBEX' AND
     1651     9585    2             CMD$->IT$SPROC.NAME.TEXT ~= ':SHARED_SPECIAL' AND
     1652     9586    2             CMD$->IT$SPROC.NAME.TEXT ~= ':SHARED_SYSTEM' AND
     1653     9587    2             CMD$->IT$SPROC.NAME.TEXT ~= 'LOGON'
     1654     9588    2           THEN
     1655     9589    2              CMD$ = PINCRW(CMD$,SIZEW(IT$SPROC));
     1656     9590    2           RETURN;
     1657     9591    2   END;
     1658     9592        /**/
     1659     9593        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:52   
     1660     9594        /**/
     1661     9595    1   RES_OPT: PROC ALTRET;
     1662     9596        /**/
     1663     9597    2           CMD$->IT$RES = NO;
     1664     9598    2           CMD$->IT$RES.CNTWD = RES_CNTWD;
     1665     9599    2           CMD$->IT$RES.MMTOT = -1;        /* NONE SAID FLAG                     */
     1666     9600        /**/
     1667     9601    2           K = 0;
     1668     9602    3           DO J = 0 TO BLK$->P$O.NSUBLKS-1;
     1669     9603    3              TEMP$ = BLK$->P$O.SUBLK$(J);
     1670     9604    4              IF TEMP$->P$O.SUBLK$(0)->P$S.COUNT > 8 THEN DO;
     1671     9605    4                 CALL ITE$ERROR(%E$BADRESNAME);
     1672     9606    4                 RETURN;
     1673     9607    4                 END;
     1674     9608        /**/
     1675     9609    3              CMD$->IT$RES.RES.NAME(K) = TEMP$->P$O.SUBLK$(0)->P$S.TEXT;
     1676     9610        /**/
     1677     9611    3              TEXTC = TEMP$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C;
     1678     9612    3              CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
     1679     9613    3              CMD$->IT$RES.RES.TOT(J) = TEMP;
     1680     9614    3              IF CMD$->IT$RES.RES.NAME(K) = 'MM' THEN /* MM IS SPECIAL       */
     1681     9615    3                 CMD$->IT$RES.MMTOT = TEMP;
     1682     9616    4              ELSE DO;
     1683     9617    4                 CMD$->IT$RES.RES.TOT(K) = TEMP;
     1684     9618    4                 K = K+1;
     1685     9619    5                 IF K > 8 THEN DO;         /* EIGHT PSUEDOS MAX                  */
     1686     9620    5                    CALL ITE$ERROR(%E$2MANYRES);
     1687     9621    5                    ALTRETURN;
     1688     9622    5                    END;
     1689     9623    4                 END;
     1690     9624    3              END;
     1691     9625        /**/
     1692     9626    2           CMD$->IT$RES.MAXRESX = K-1;
     1693     9627    2           CMD$ = PINCRW(CMD$,SIZEW(IT$RES));
     1694     9628    2           RETURN;
     1695     9629    2   END;
     1696     9630        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:53   
     1697     9631        /**/
     1698     9632    1   ONEVAL_OPT: PROC ALTRET;
     1699     9633        /**/
     1700     9634    2           CMD$->IT$MONOPT = NO;
     1701     9635    2           CMD$->IT$MONOPT.CNTWD.OFFSET = SIZEW(IT$MONOPT);
     1702     9636    2           CMD$->IT$MONOPT.CNTWD.TYPE = BLK$->P$O.CODE;
     1703     9637        /**/
     1704     9638    2           TEXTC = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;
     1705     9639    2           CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
     1706     9640        /**/
     1707     9641    2           CMD$->IT$MONOPT.OPTS.VAL1 = TEMP;
     1708     9642        /**/
     1709     9643    2           CMD$ = PINCRW(CMD$,SIZEW(IT$MONOPT));
     1710     9644    2           RETURN;
     1711     9645    2   END;
     1712     9646        /**/
     1713     9647        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:54   
     1714     9648        /**/
     1715     9649    1   TWOVAL_OPT: PROC ALTRET;
     1716     9650        /**/
     1717     9651    2           CMD$->IT$MONOPT = NO;
     1718     9652    2           CMD$->IT$MONOPT.CNTWD.OFFSET = SIZEW(IT$MONOPT);
     1719     9653    2           CMD$->IT$MONOPT.CNTWD.TYPE = BLK$->P$O.CODE;
     1720     9654        /**/
     1721     9655    2           TEXTC = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;
     1722     9656    2           CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
     1723     9657    2           CMD$->IT$MONOPT.OPTS.VAL1 = TEMP;
     1724     9658        /**/
     1725     9659    2           TEXTC = BLK$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C;
     1726     9660    2           CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
     1727     9661    2           CMD$->IT$MONOPT.OPTS.VAL2 = TEMP;
     1728     9662        /**/
     1729     9663    2           CMD$ = PINCRW(CMD$,SIZEW(IT$MONOPT));
     1730     9664    2           RETURN;
     1731     9665    2   END;
     1732     9666        /**/
     1733     9667        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:55   
     1734     9668        /**/
     1735     9669    1   SITE_OPT: PROC ALTRET;
     1736     9670        /**/
     1737     9671    2           TEMP$ = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0);
     1738     9672        /**/
     1739     9673    2           IF TEMP$->TEXT$C.COUNT > SIZEC(B_SITEINFO.SITE_NAME#.C) THEN
     1740     9674    2              TEMP$->TEXT$C.COUNT = SIZEC(B_SITEINFO.SITE_NAME#.C);
     1741     9675        /**/
     1742     9676    2           B_SITEINFO.SITE_NAME#.C = SUBSTR(TEMP$->TEXT$C.TEXT,0,TEMP$->TEXT$C.COUNT);
     1743     9677    2           B_SITEINFO.SITE_NAME#.L = TEMP$->TEXT$C.COUNT;
     1744     9678        /**/
     1745     9679    2           RETURN;
     1746     9680    2   END;
     1747     9681        /**/
     1748     9682        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:56   
     1749     9683        /**/
     1750     9684    1   HSITE_OPT: PROC ALTRET;
     1751     9685        /**/
     1752     9686    2           TEMP$ = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0);
     1753     9687        /**/
     1754     9688    3           IF TEMP$->TEXT$C.COUNT > %MAX_SITEID THEN DO; /* SIX CHARS. MAX. */
     1755     9689    3              CALL ITE$ERROR(%E$6CHARSITE);
     1756     9690    3              ALTRETURN;
     1757     9691    3              END;
     1758     9692    2           B_SITEINFO.SITE_ID# = SUBSTR(TEMP$->TEXT$C.TEXT,0,TEMP$->TEXT$C.COUNT);
     1759     9693        /**/
     1760     9694    2           RETURN;
     1761     9695    2   END;
     1762     9696        /**/
     1763     9697        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:57   
     1764     9698        /**/
     1765     9699    1   SALUTATION_OPT: PROC ALTRET;
     1766     9700        /**/
     1767     9701    2           TEMP$ = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0);
     1768     9702        /**/
     1769     9703    2           IF TEMP$->TEXT$C.COUNT > SIZEC(B_SITEINFO.SALUTATION#.C) THEN
     1770     9704    2              TEMP$->TEXT$C.COUNT = SIZEC(B_SITEINFO.SALUTATION#.C);
     1771     9705        /**/
     1772     9706    2           B_SITEINFO.SALUTATION#.C = SUBSTR(TEMP$->TEXT$C.TEXT,0,TEMP$->TEXT$C.COUNT);
     1773     9707    2           B_SITEINFO.SALUTATION#.L = TEMP$->TEXT$C.COUNT;
     1774     9708    2           RETURN;
     1775     9709    2   END;
     1776     9710        /**/
     1777     9711        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:58   
     1778     9712        /**/
     1779     9713    1   MTDFLT_OPT: PROC ALTRET;
     1780     9714        /**/
     1781     9715    2           FR_MTDFLT = NO;
     1782     9716    3           DO J = 0 TO BLK$->P$O.NSUBLKS-1;
     1783     9717    3              TEMP$ = BLK$->P$O.SUBLK$(J);
     1784     9718    4              DO CASE(TEMP$->P$O.CODE);
     1785     9719    4               CASE(%ITS_800);
     1786     9720    4                 FR_MTDFLT = FR_MTDFLT | %ATTR_D800#;
     1787     9721    4               CASE(%ITS_1600);
     1788     9722    4                 FR_MTDFLT = FR_MTDFLT | %ATTR_D1600#;
     1789     9723    4               CASE(%ITS_6250);
     1790     9724    4                 FR_MTDFLT = FR_MTDFLT | %ATTR_D6250#;
     1791     9725    4               END;
     1792     9726    3              END;
     1793     9727    2           RETURN;
     1794     9728    2   END;
     1795     9729        /**/
     1796     9730        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:59   
     1797     9731        /**/
     1798     9732    1   IOCACHE_OPT: PROC ALTRET;
     1799     9733        /**/
     1800     9734    2           TEMP$ = CMD$;
     1801     9735    2           CALL ONEVAL_OPT;
     1802     9736    2           IF TEMP$->IT$MONOPT.OPTS.VAL1 = 0 THEN
     1803     9737    2              RETURN;
     1804     9738    2           J = 0;
     1805     9739    3           DO WHILE(BITBIN(FMC_MASKTBL(J))+1 < TEMP$->IT$MONOPT.OPTS.VAL1);
     1806     9740    3              J = J + 1;
     1807     9741    3              END;
     1808     9742    3           IF (BITBIN(FMC_MASKTBL(J))+1)*4 > MM_PCORE - 2047 THEN DO;
     1809     9743    3              CALL ITE$ERROR(%E$IOCACHE2BIG);
     1810     9744    3              TEMP$->IT$MONOPT.OPTS.VAL1 = (MM_PCORE-2047) /4;
     1811     9745    3              END;
     1812     9746    2           RETURN;
     1813     9747    2   END IOCACHE_OPT;
     1814     9748        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:60   
     1815     9749    1   NODES_OPT: PROC ALTRET;
     1816     9750
     1817     9751    2           TEMP$ = CMD$;
     1818     9752    2           CALL ONEVAL_OPT;
     1819     9753    3           IF TEMP$->IT$MONOPT.OPTS.VAL1 > 99 THEN DO;
     1820     9754    3              CALL ITE$ERROR(%E$NODESGT99);
     1821     9755    3              ALTRETURN;
     1822     9756    3              END;
     1823     9757    3           DO J = 1 TO KI_MXFE;
     1824     9758    3              IF IT_FEI$$->KI$FEI$(J)->KI$FEI.FEP# >
     1825     9759    4                TEMP$->IT$MONOPT.OPTS.VAL1 THEN DO;
     1826     9760    4                 CALL ITE$ERROR(%E$NODES2BIG);
     1827     9761    4                 ALTRETURN;
     1828     9762    4                 END;
     1829     9763    3              END;
     1830     9764    2   END NODES_OPT;
     1831     9765        /**/
     1832     9766    1   GET_TYPE: PROC(MODEL,FEATURE) ALTRET;
     1833     9767        /**/
     1834     9768    2   DCL 1 MODEL,
     1835     9769    2         2 COUNT UBIN(9) UNAL,
     1836     9770    2         2 TEXT CHAR(8) UNAL;
     1837     9771    2   DCL 1 FEATURE,
     1838     9772    2         2 COUNT UBIN(9) UNAL,
     1839     9773    2         2 TEXT CHAR(8) UNAL;
     1840     9774    2           FX = 0;
     1841     9775    3           DO DVTX=0 TO NI_NDVTS-1;
     1842     9776    4              DO MODX=0 TO 9;
     1843     9777    4                 IF NI$DVT$(DVTX) ~= ADDR(NIL) THEN
     1844     9778    4                    IF SUBSTR(MODEL.TEXT,0,MODEL.COUNT) = NI$DVT$(DVTX)->NI$DVT.MODEL(
              9778                             MODX) THEN
     1845     9779    5                    DO;
     1846     9780    5                       IF ADDR(FEATURE) ~= ADDR(NIL) THEN
     1847     9781    6                       DO FX = 0 TO 9;
     1848     9782    6                          IF SUBSTR(FEATURE.TEXT,0,FEATURE.COUNT) =
     1849     9783    6                            NI$DVT$(DVTX)->NI$DVT.FEATURE(FX) THEN
     1850     9784    6                             RETURN;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:61   
     1851     9785    6                          END;
     1852     9786    5                       ELSE
     1853     9787    5                          RETURN;
     1854     9788    5                       END;
     1855     9789    4                 END;                      /* DO MODX                           */
     1856     9790    3              END;                         /* DO DVTX                           */
     1857     9791        /**/
     1858     9792    2           CALL ITE$ERROR(%E$BADMODEL#,ADDR(MODEL));
     1859     9793    2           ALTRETURN;
     1860     9794    2   END;
     1861     9795        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:62   
     1862     9796        /**/
     1863     9797    1   CONSOLE_OPTS: PROC(TEMP);
     1864     9798        /**/
     1865     9799    2   DCL TEMP BIT(36) ALIGNED;
     1866     9800    3           DO CASE(BLK$->P$O.SUBLK$(0)->P$O.CODE);
     1867     9801    3            CASE(%ITS_DISPLAY);
     1868     9802    3              CMD$->IT$CONSOLE.OCINFO.CADDR = CMD$->IT$CONSOLE.OCINFO.
     1869     9803    3                CADDR | TEMP;
     1870     9804    3            CASE(%ITS_KEYIN);
     1871     9805    3              CMD$->IT$CONSOLE.OCINFO.KCADDR = CMD$->IT$CONSOLE.OCINFO.
     1872     9806    3                KCADDR | TEMP;
     1873     9807    3            CASE(%ITS_NO);
     1874     9808    3              CMD$->IT$CONSOLE.OCINFO.CADDR = CMD$->IT$CONSOLE.OCINFO.
     1875     9809    3                CADDR & ~TEMP;
     1876     9810    3              CMD$->IT$CONSOLE.OCINFO.KCADDR = CMD$->IT$CONSOLE.OCINFO.
     1877     9811    3                KCADDR & ~TEMP;
     1878     9812    3            CASE(%ITS_YES);
     1879     9813    3              CMD$->IT$CONSOLE.OCINFO.CADDR = CMD$->IT$CONSOLE.OCINFO.
     1880     9814    3                CADDR | TEMP;
     1881     9815    3              CMD$->IT$CONSOLE.OCINFO.KCADDR = CMD$->IT$CONSOLE.OCINFO.
     1882     9816    3                KCADDR | TEMP;
     1883     9817    3            END;
     1884     9818    2           RETURN;
     1885     9819    2   END;
     1886     9820        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:63   
     1887     9821        /**/
     1888     9822    1   DEFAULT_CHECK: PROC ALTRET;             /* See if option given               */
     1889     9823        /**/
     1890     9824    2           TEMP$ = PINCRW(B$DS5$,SIZEW(IT$CMDWD));
     1891     9825        /**/
     1892     9826    3           DO WHILE(TEMP$->IT$CMDWD ~= %ITS_ENDCMD);
     1893     9827    3              IF TEMP$->IT$MONOPT.CNTWD.TYPE = J THEN ALTRETURN;
              9827                       /* Found specified option */
     1894     9828    3              TEMP$ = PINCRW(TEMP$,TEMP$->IT$MONOPT.CNTWD.OFFSET);
     1895     9829    3              END;
     1896     9830        /**/
     1897     9831    2           RETURN;
     1898     9832    2   END;
     1899     9833        /**/
     1900     9834    1   END;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:64   
--  Include file information  --

   B$P.:E05TOU  cannot be made into a system file and is referenced.
   IT$RES.:E05TOU  cannot be made into a system file and is referenced.
   IT$CPU.:E05TOU  cannot be made into a system file and is referenced.
   IT$FEP.:E05TOU  cannot be made into a system file and is referenced.
   IT$CONFIG.:E05TOU  is referenced.
   OC$INFO.:E05TOU  is referenced.
   IT$CONSOLE.:E05TOU  cannot be made into a system file and is referenced.
   IT$MONOPT.:E05TOU  cannot be made into a system file and is referenced.
   IT$SPROC.:E05TOU  cannot be made into a system file and is referenced.
   IT$IOM.:E05TOU  cannot be made into a system file and is referenced.
   IT$CMDWD.:E05TOU  cannot be made into a system file and is referenced.
   IT$UNITDEV.:E05TOU  cannot be made into a system file and is referenced.
   IT$DTDEV.:E05TOU  cannot be made into a system file and is referenced.
   IT$APDEV.:E05TOU  cannot be made into a system file and is referenced.
   IT$APC.:E05TOU  cannot be made into a system file and is referenced.
   IT$MPC.:E05TOU  cannot be made into a system file and is referenced.
   SS_CNTRLD_R.:E05TOU  cannot be made into a system file and is referenced.
   SS_CNTRL_R.:E05TOU  cannot be made into a system file and is referenced.
   SS_SCHED_R.:E05TOU  cannot be made into a system file and is referenced.
   FM_CACHE_R.:E05TOU  cannot be made into a system file and is referenced.
   HF_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   FR_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   UM_CP6.:E05TOU  is referenced.
   OC_SUBS_C.:E05TOU  is referenced.
   KI_SUBS_C.:E05TOU  is referenced.
   NI$TABLES.:E05TOU  is referenced.
   N$REQ.:E05TOU  is referenced.
   NI_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   KI_MACROS_C.:E05TOU  is referenced.
   KI_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   IT_ERROR_C.:E05TOU  is referenced.
   IT_SUBS_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:65   
      No diagnostics issued in procedure ITC$CHECK_DT.

   Procedure ITC$CHECK_DT requires 4088 words for executable code.
   Procedure ITC$CHECK_DT requires 46 words of local(AUTO) storage.

    No errors detected in file ITC$CHECK.:E05TSI    .

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:66   

 Object Unit name= ITC$CHECK_DT                               File name= ITC$CHECK.:E05TOU
 UTS= JUL 29 '97 22:59:02.20 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS    159    237  ITC$CHECK_DT
    1   Proc  even  none  4088   7770  ITC$CHECK_DT
    2  RoData even  none    75    113  ITC$CHECK_DT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes    yes     yes      Std        1  ITC$CHECK_DT
     1   1252          yes     yes      Std        1  ITC$CHECK_UNIT
     1   2376          yes     yes      Std        1  ITC$CHECK_AP
     1   3154          yes     yes      Std        1  ITC$CHECK_IOM
     1   3260          yes     yes      Std        1  ITC$CHECK_CON
     1   4020          yes     yes      Std        1  ITC$AUTOCONFIG
     1   5243          yes     yes      Std        1  ITC$CHECK_CPU
     1   5322          yes     yes      Std        1  ITC$CHECK_FEP
     1   5673          yes     yes      Std        1  ITC$CHECK_MON
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:67   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       1 ITD$DISKTAPE
         yes           Std       2 ITE$ERROR
 yes     yes           Std       2 ITH$CHECK_DEVNAME
 yes     yes           Std       1 ITU$UNIT
 yes     yes           Std       2 ITH$CHECK_CHANNUM
 yes     yes           Std       1 ITS$SYSCON
 yes     yes           Std       1 ITF$FEP
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     KI_FEI$$                              KI_MXFE                               N$DCT$$
     N$FQ$                                 NI$DVT$                               NI$FQ$
     NI$IBUF$                              NI$RP$                                N_DCTXMAX
     N_NDPS                                NI_IOMS                               NI_NDVTS
     FR_MTDFLT                             HW_IOP                                HW_IMX
     FMC_CACHEPGCNT$                  r    FMC_MASKTBL                           S_PTYPE
     B$DS5$                                S_MING                                MM_PCORE
     IT_TXT_LOCAL                          IT_TXT_0000                           IT_VFC
     IT_CHAIN500                           IT_CHAIN600                           IT_FEI$$
     IT_WSNX                               IT_WSN                                IT_CONFIG
     B_SITEINFO                            B_VECTNIL
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:68   

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:69   


        1        1        /*M*     TIGR syntax checking routines */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /**/
        8        8        /*X* DMR */
        9        9        /*P*     NAME:     ITC$CHECK
       10       10                 PURPOSE:  ITC$CHECK contains the routines that do the syntax
       11       11                           checking on TIGR commands.
       12       12                 PARAMETERS: PCB - the parse control block
       13       13                 OUTPUT:   A command table built in Data Segment 5(DS5).
       14       14        */
       15       15        ITC$CHECK_DT: PROC(PCB) ALTRET;

     15  1 000000   000000 700200 xent  ITC$CHECK_DT TSX0  ! X66_AUTO_1
         1 000001   000056 000001                    ZERO    46,1

       16       16        /**/
       17       17        /* ENTRY DCLS */
       18       18        /**/
       19       19    1   DCL ITI$IOM ENTRY(1) ALTRET;
       20       20    1   DCL ITD$DISKTAPE ENTRY(1) ALTRET;
       21       21    1   DCL ITU$UNIT ENTRY(1) ALTRET;
       22       22    1   DCL ITS$SYSCON ENTRY(1) ALTRET;
       23       23    1   DCL ITF$FEP ENTRY(1) ALTRET;
       24       24    1   DCL ITH$CHECK_CHANNUM ENTRY(2) ALTRET;
       25       25    1   DCL ITH$CHECK_DEVNAME ENTRY(2) ALTRET;
       26       26        /**/
       27       27        /*  Include files  */
       28       28        /**/
       29       29        %INCLUDE XU_MACRO_C;
       30     3135        %INCLUDE IT_SUBS_C;
       31     3402        %INCLUDE IT_ERROR_C;
       32     3485        %INCLUDE KI_DATA_R;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:70   
       33     3511        %INCLUDE KI_MACROS_C;
       34     4119        %KI$FEI(STCLASS=BASED);
       35     4203        %INCLUDE NI_DATA_R;
       36     4640        %INCLUDE KI_SUBS_C;
       37     4776        %INCLUDE OC_SUBS_C;
       38     5507        %INCLUDE UM_CP6;
       39     6359        %INCLUDE CP_6_SUBS;
       40     6899        %INCLUDE FR_DATA_R;
       41     6931        %INCLUDE HF_DATA_R;
       42     6974        %INCLUDE FM_CACHE_R;
       43     6986        %INCLUDE SS_SCHED_R;
       44     7029        /**/
       45     7030        %SUB YES = '1'B/*Yes*/;
       46     7031        %SUB NO = '0'B/*No*/;
       47     7032        /**/
       48     7033        /*  Parameter */
       49     7034        %P$PCB  (NAME=PCB,STCLASS=" ");
       50     7235        /**/
       51     7236        /*  Automatic  */
       52     7237    1   DCL CMD$ PTR;
       53     7238    1   DCL CTLR$ PTR;
       54     7239    1   DCL DEV$ PTR;
       55     7240    1   DCL BLK$ PTR;
       56     7241    1   DCL TEMP$ PTR;
       57     7242    1   DCL OPT$ PTR;
       58     7243    1   DCL DVBLK$ PTR;
       59     7244    1   DCL DEVLIST$ PTR;
       60     7245    1   DCL MPCLIST$ PTR;
       61     7246    1   DCL OLD$ PTR;
       62     7247    1   DCL OLD_DEVS SBIN;
       63     7248    1   DCL NUM_OLDS SBIN;
       64     7249    1   DCL I SBIN(36);
       65     7250    1   DCL J SBIN(36);
       66     7251    1   DCL K SBIN(36);
       67     7252    1   DCL L SBIN(36);
       68     7253    1   DCL TEMP SBIN(36);
       69     7254    1   DCL DVTX SBIN;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:71   
       70     7255    1   DCL MODX SBIN;
       71     7256    1   DCL FX SBIN;                            /* FEATURE BOARD NUMBER */
       72     7257    1   DCL LA_IOM# SBIN(36);
       73     7258    1   DCL OPTS# SBIN(36);
       74     7259    1   DCL IOMCHAN# SBIN(36);
       75     7260    1   DCL 1 TEXTC,
       76     7261    1         2 COUNT UBIN(9) UNAL,
       77     7262    1         2 TEXT CHAR(8) UNAL;
       78     7263    1   DCL 1 FTEXTC,
       79     7264    1         2 COUNT UBIN(9) UNAL,
       80     7265    1         2 TEXT CHAR(8) UNAL;
       81     7266        /**/
       82     7267        /*  Based  */
       83     7268        /**/
       84     7269    1   DCL 1 TEXT$C BASED,
       85     7270    1         2 COUNT UBIN BYTE UNAL,
       86     7271    1         2 TEXT CHAR(TEXT$C.COUNT) UNAL;
       87     7272    1   DCL 1 SP_TEXT$C BASED,
       88     7273    1         2 COUNT UBIN(9) UNAL,
       89     7274    1         2 TEXT CHAR(31) UNAL;
       90     7275        %INCLUDE IT$MPC;
       91     7309        %INCLUDE IT$APC;
       92     7338        %INCLUDE IT$APDEV;
       93     7367        %INCLUDE IT$DTDEV;
       94     7402        %INCLUDE IT$UNITDEV;
       95     7440        %INCLUDE IT$CMDWD;
       96     7448        %INCLUDE IT$IOM;
       97     7459        %INCLUDE IT$SPROC;
       98     7477        %INCLUDE IT$MONOPT;
       99     7493        %INCLUDE IT$CONSOLE;
      100     7611        %INCLUDE IT$CONFIG;
      101     7680        %INCLUDE IT$FEP;
      102     7706        %INCLUDE IT$CPU;
      103     7718        %INCLUDE IT$RES;
      104     7736        %PARSE$OUT(NAME=P$O, STCLASS = BASED);
      105     7781        %PARSE$SYM(NAME=P$S,STCLASS = BASED);
      106     7819        %NI$MBX;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:72   
      107     7838        %NI$DVT;
      108     7845        /**/
      109     7846        /*  Constants  */
      110     7847        /**/
      111     7848        %OC$INFO(FPTN=OC_INFO,STCLASS=CONSTANT);
      112     7885    1   DCL 1 MPC_CNTWD CONSTANT,
      113     7886    1         2 * BIT(18) INIT(NO) UNAL,
      114     7887    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$MPC)) UNAL,
      115     7888    1         2 TYPE UBIN(9) INIT(%ITS_MPC) UNAL;
      116     7889        /**/
      117     7890    1   DCL 1 DTDEV_CNTWD CONSTANT,
      118     7891    1         2 * BIT(18) INIT(NO) UNAL,
      119     7892    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$DTDEV)) UNAL,
      120     7893    1         2 TYPE UBIN(9) INIT(%ITS_DEV) UNAL;
      121     7894        /**/
      122     7895    1   DCL 1 UNITDEV_CNTWD CONSTANT,
      123     7896    1         2 * BIT(18) INIT(NO) UNAL,
      124     7897    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$UNITDEV)) UNAL,
      125     7898    1         2 TYPE UBIN(9) INIT(%ITS_DEV) UNAL;
      126     7899        /**/
      127     7900    1   DCL 1 SPROC_CNTWD CONSTANT,
      128     7901    1         2 * BIT(18) INIT(NO) UNAL,
      129     7902    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$SPROC)) UNAL,
      130     7903    1         2 TYPE UBIN(9) INIT(%ITS_SPROC) UNAL;
      131     7904        /**/
      132     7905    1   DCL 1 RES_CNTWD CONSTANT,
      133     7906    1         2 * BIT(18) INIT(NO) UNAL,
      134     7907    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$RES)) UNAL,
      135     7908    1         2 TYPE UBIN(9) INIT(%ITS_RES) UNAL;
      136     7909        /**/
      137     7910    1   DCL 1 CONSOLE_CNTWD CONSTANT,
      138     7911    1         2 * BIT(18) INIT(NO) UNAL,
      139     7912    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$CONSOLE)) UNAL,
      140     7913    1         2 TYPE UBIN(9) INIT(%ITS_CONSOLE) UNAL;
      141     7914        /**/
      142     7915    1   DCL 1 FEP_CNTWD CONSTANT,
      143     7916    1         2 * BIT(18) INIT(NO) UNAL,
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:73   
      144     7917    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$FEP)) UNAL,
      145     7918    1         2 TYPE UBIN(9) INIT(%ITS_FEP) UNAL;
      146     7919        /**/
      147     7920    1   DCL 1 APC_CNTWD CONSTANT,
      148     7921    1         2 * BIT(18) UNAL,
      149     7922    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$APC)) UNAL,
      150     7923    1         2 TYPE UBIN(9) INIT(%ITS_AP) UNAL;
      151     7924        /**/
      152     7925    1   DCL 1 APDEV_CNTWD CONSTANT,
      153     7926    1         2 * BIT(18) UNAL,
      154     7927    1         2 OFFSET UBIN(9) INIT(SIZEW(IT$APDEV)) UNAL,
      155     7928    1         2 TYPE UBIN(9) INIT(%ITS_DEV) UNAL;
      156     7929        /**/
      157     7930        /*  Entry dcls */
      158     7931    1   DCL ITE$ERROR ENTRY(2);
      159     7932        /**/
      160     7933        /*  Symrefs */
      161     7934    1   DCL B$DS5$ PTR SYMREF;                  /* Commands                          */
      162     7935        %INCLUDE B$P;
      163     8019    1   DCL S_MING UBIN(36) SYMREF;
      164     8020    1   DCL MM_PCORE SBIN WORD SYMREF;
      165     8021    1   DCL IT_TXT_LOCAL CHAR(5) SYMREF;
      166     8022    1   DCL IT_TXT_0000 CHAR(4) SYMREF;
      167     8023    1   DCL IT_VFC(0:14) BIT(36) ALIGNED SYMREF;
      168     8024    1   DCL IT_CHAIN500(0:5) CHAR(40) ALIGNED SYMREF;
      169     8025    1   DCL IT_CHAIN600(0:5) CHAR(40) ALIGNED SYMREF;
      170     8026    1   DCL IT_FEI$$ PTR SYMREF;
      171     8027    1   DCL IT_WSNX UBIN WORD SYMREF;
      172     8028    1   DCL 1 IT_WSN SYMREF,
      173     8029    1         2 NAME(0:0) CHAR(8) UNAL;
      174     8030        %IT$CONFIG(NAME=IT_CONFIG,STCLASS=SYMREF);
      175     8091        /**/
      176     8092        %VLR_SITEINFO(FPTN=B_SITEINFO,STCLASS=SYMREF);
      177     8111        /**/
      178     8112        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:74   
      179     8113        /*D*     NAME:     ITC$CHECK_DT
      180     8114                 PURPOSE:      The DISK and TAPE commands are checked by
      181     8115                           ITC$CHECK_DT.
      182     8116                 DESCRIPTION: ITC$CHECK_DT uses two subroutines to do most of
      183     8117                           the work of checking the command syntax and building
      184     8118                           the command table. BUILD_MPC decodes the link
      185     8119                           adapter to IOM connection portion of the command and
      186     8120                           BUILD_DEV handles the device specifications.
      187     8121                 INPUT:    PCB - parse control block - parameter
      188     8122                 OUTPUT:   Command table built - pointed to by CMD$
      189     8123                           RETURN if no errors - else ALTRETURN            */
      190     8124        /**/
      191     8125    1           CMD$ = B$DS5$;

   8125  1 000002   000000 236000 xsym               LDQ     B$DS5$
         1 000003   200004 756100                    STQ     CMD$,,AUTO

      192     8126        /**/
      193     8127    1           CMD$->IT$CMDWD = PCB.OUT$->P$O.CODE;

   8127  1 000004   200003 470500                    LDP0    @PCB,,AUTO
         1 000005   000003 471500                    LDP1    3,,PR0
         1 000006   100000 236100                    LDQ     0,,PR1
         1 000007   777777 376007                    ANQ     -1,DL
         1 000010   200004 473500                    LDP3    CMD$,,AUTO
         1 000011   300000 756100                    STQ     0,,PR3

      194     8128    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CMDWD));

   8128  1 000012   200004 236100                    LDQ     CMD$,,AUTO
         1 000013   000001 036003                    ADLQ    1,DU
         1 000014   200004 756100                    STQ     CMD$,,AUTO

      195     8129    1           MPCLIST$ = CMD$;

   8129  1 000015   200014 756100                    STQ     MPCLIST$,,AUTO

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:75   
      196     8130        /**/
      197     8131    2           DO I = 0 TO PCB.OUT$->P$O.NSUBLKS - 1;

   8131  1 000016   200020 450100                    STZ     I,,AUTO
         1 000017   000041 710000 1                  TRA     s:8140+1

      198     8132    3              DO CASE(PCB.OUT$->P$O.SUBLK$(I)->P$O.CODE);

   8132  1 000020   200003 470500                    LDP0    @PCB,,AUTO
         1 000021   000003 471500                    LDP1    3,,PR0
         1 000022   200020 720100                    LXL0    I,,AUTO
         1 000023   100003 473510                    LDP3    3,X0,PR1
         1 000024   300000 721100                    LXL1    0,,PR3
         1 000025   000003 101003                    CMPX1   3,DU
         1 000026   000030 602011 1                  TNC     s:8132+8,X1
         1 000027   000040 710000 1                  TRA     s:8140
         1 000030   000040 710000 1                  TRA     s:8140
         1 000031   000033 710000 1                  TRA     s:8135
         1 000032   000036 710000 1                  TRA     s:8138

      199     8133        /**/
      200     8134    3               CASE(%ITS_MPC);

      201     8135    3                 CALL BUILD_MPC ALTRET(ERR_RTN);

   8135  1 000033   000054 701000 1                  TSX1    BUILD_MPC
         1 000034   000053 702000 1                  TSX2    ERR_RTN
         1 000035   000040 710000 1                  TRA     s:8140

      202     8136        /**/
      203     8137    3               CASE(%ITS_DEV);

      204     8138    3                 CALL BUILD_DEV ALTRET(ERR_RTN);

   8138  1 000036   000723 701000 1                  TSX1    BUILD_DEV
         1 000037   000053 702000 1                  TSX2    ERR_RTN

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:76   
      205     8139    3               END;

      206     8140    2              END;

   8140  1 000040   200020 054100                    AOS     I,,AUTO
         1 000041   200003 470500                    LDP0    @PCB,,AUTO
         1 000042   000003 471500                    LDP1    3,,PR0
         1 000043   100001 236100                    LDQ     1,,PR1
         1 000044   000022 772000                    QRL     18
         1 000045   200020 116100                    CMPQ    I,,AUTO
         1 000046   000020 605400 1                  TPNZ    s:8132

      207     8141    1           CMD$->IT$CMDWD = %ITS_ENDCMD;

   8141  1 000047   000145 235007                    LDA     101,DL
         1 000050   200004 473500                    LDP3    CMD$,,AUTO
         1 000051   300000 755100                    STA     0,,PR3

      208     8142    1           RETURN;

   8142  1 000052   000000 702200 xent               TSX2  ! X66_ARET

      209     8143        /**/
      210     8144    1   ERR_RTN:
      211     8145    1           ALTRETURN;

   8145  1 000053   000000 702200 xent  ERR_RTN      TSX2  ! X66_AALT

      212     8146        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:77   
      213     8147        /*D*     INTERNAL ROUTINE:  BUILD_MPC
      214     8148                 DESCRIPTION: BUILD_MPC will fill in the based structure IT$MPC
      215     8149                           with the up to four LA-IOM connections of an MPC.
      216     8150                           Each MPC may have 1 or 2 link adapters(LAs). Each LA
      217     8151                           is connected to 1 or 2 IOMs. Each LA-IOM connection
      218     8152                           may involve 1 channel or a range of channels. BUILD_MPC
      219     8153                           first gets the device type of the MPC and stores it.
      220     8154                           Then a loop is started to process all LA-IOM connections.
      221     8155                           In this loop(IOMCHAN:) :
      222     8156                                LA_IOM# - index into LA-IOM connection table
      223     8157                                          in IT$MPC.
      224     8158                                K - counter of the number of options specified
      225     8159                                     in the LA  portion of the DISK or TAPE command
      226     8160                                    (IOM#s,first channel and last channel).
      227     8161                                J - counter of number of LAs specified.
      228     8162
      229     8163                           BUILD_MPC will ALTRETURN for a number of reasons
      230     8164                          (IOM# too large, Channel range too large,etc.). If
      231     8165                           no errors are found it RETURNS normally */
      232     8166        /**/
      233     8167    1   BUILD_MPC: PROC ALTRET;

   8167  1 000054   200042 741300       BUILD_MPC    STX1  ! FTEXTC+4,,AUTO

      234     8168        /**/
      235     8169    2           BLK$ =  PCB.OUT$->P$O.SUBLK$(I);

   8169  1 000055   200003 470500                    LDP0    @PCB,,AUTO
         1 000056   000003 471500                    LDP1    3,,PR0
         1 000057   200020 720100                    LXL0    I,,AUTO
         1 000060   100003 236110                    LDQ     3,X0,PR1
         1 000061   200007 756100                    STQ     BLK$,,AUTO

      236     8170        /**/
      237     8171    2           CMD$->IT$MPC = NO;

   8171  1 000062   200004 473500                    LDP3    CMD$,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:78   
         1 000063   000100 100400                    MLR     fill='000'O
         1 000064   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 000065   300000 000102                    ADSC9   0,,PR3                   cn=0,n=66

      238     8172    2           CMD$->IT$MPC.CNTWD = MPC_CNTWD;

   8172  1 000066   000034 236000 0                  LDQ     MPC_CNTWD
         1 000067   300000 756100                    STQ     0,,PR3

      239     8173        /**/
      240     8174    2           LA_IOM# = 0;

   8174  1 000070   200030 450100                    STZ     LA_IOM#,,AUTO

      241     8175        /**/
      242     8176    3           IF B$DS5$->IT$CMDWD = %ITS_DISK THEN DO;

   8176  1 000071   000000 471400 xsym               LDP1    B$DS5$
         1 000072   100000 235100                    LDA     0,,PR1
         1 000073   000002 115007                    CMPA    2,DL
         1 000074   000105 601000 1                  TNZ     s:8183

      243     8177    3              CMD$->IT$MPC.MPCNM.MNEM = 'DC';

   8177  1 000075   000045 221000 0                  LDX1    APDEV_CNTWD+1
         1 000076   300002 441100                    SXL1    2,,PR3

      244     8178    3              TEXTC.COUNT = 7;

   8178  1 000077   007000 236003                    LDQ     3584,DU
         1 000100   200033 552140                    STBQ    TEXTC,'40'O,AUTO

      245     8179    3              TEXTC.TEXT = %DEFAULTDISKFW;

   8179  1 000101   040100 100400                    MLR     fill='040'O
         1 000102   000046 000007 0                  ADSC9   APDEV_CNTWD+2            cn=0,n=7
         1 000103   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:79   

      246     8180        /**/
      247     8181    3              END;

   8181  1 000104   000114 710000 1                  TRA     s:8187

      248     8182    3           ELSE DO;

      249     8183    3              CMD$->IT$MPC.MPCNM.MNEM = 'TC';

   8183  1 000105   000050 221000 0                  LDX1    APDEV_CNTWD+4
         1 000106   300002 441100                    SXL1    2,,PR3

      250     8184    3              TEXTC.COUNT = 7;

   8184  1 000107   007000 236003                    LDQ     3584,DU
         1 000110   200033 552140                    STBQ    TEXTC,'40'O,AUTO

      251     8185    3              TEXTC.TEXT = %DEFAULTTAPEFW;

   8185  1 000111   040100 100400                    MLR     fill='040'O
         1 000112   000051 000007 0                  ADSC9   APDEV_CNTWD+5            cn=0,n=7
         1 000113   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

      252     8186    3              END;

      253     8187    2           CALL GET_TYPE(TEXTC) ALTRET(BM_ALT); /* Get dev type of mpc          */

   8187  1 000114   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 000115   200050 756100                    STQ     @MODEL+1,,AUTO
         1 000116   200033 634500                    EPPR4   TEXTC,,AUTO
         1 000117   200047 454500                    STP4    @DEVNAME+3,,AUTO
         1 000120   007526 701000 1                  TSX1    GET_TYPE
         1 000121   000721 702000 1                  TSX2    BM_ALT

      254     8188    2           CMD$->IT$MPC.MPCTYPE = DVTX;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:80   
   8188  1 000122   200025 720100                    LXL0    DVTX,,AUTO
         1 000123   200004 470500                    LDP0    CMD$,,AUTO
         1 000124   000001 740100                    STX0    1,,PR0

      255     8189    2           CMD$->IT$MPC.MODX = MODX;

   8189  1 000125   200026 721100                    LXL1    MODX,,AUTO
         1 000126   000001 441100                    SXL1    1,,PR0

      256     8190    2           CMD$->IT$MPC.FX = FX;

   8190  1 000127   200027 722100                    LXL2    FX,,AUTO
         1 000130   000002 742100                    STX2    2,,PR0

      257     8191    2           CMD$->IT$MPC.FWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.FWNAME;

   8191  1 000131   000000 471410 xsym               LDP1    NI$DVT$,X0
         1 000132   040100 100500                    MLR     fill='040'O
         1 000133   100057 000004                    ADSC9   47,,PR1                  cn=0,n=4
         1 000134   000004 400004                    ADSC9   4,,PR0                   cn=2,n=4

      258     8192    2           CMD$->IT$MPC.LPFWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.LPNAME;

   8192  1 000135   000000 471410 xsym               LDP1    NI$DVT$,X0
         1 000136   040100 100500                    MLR     fill='040'O
         1 000137   100060 000004                    ADSC9   48,,PR1                  cn=0,n=4
         1 000140   000005 400004                    ADSC9   5,,PR0                   cn=2,n=4

      259     8193    2           CMD$->IT$MPC.CRPFWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.CRPNAME;

   8193  1 000141   000000 471410 xsym               LDP1    NI$DVT$,X0
         1 000142   040100 100500                    MLR     fill='040'O
         1 000143   100061 000004                    ADSC9   49,,PR1                  cn=0,n=4
         1 000144   000006 400004                    ADSC9   6,,PR0                   cn=2,n=4

      260     8194    3           DO J=0 TO BLK$->P$O.SUBLK$(0)->P$O.NSUBLKS-1;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:81   
   8194  1 000145   200021 450100                    STZ     J,,AUTO
         1 000146   000351 710000 1                  TRA     s:8231+1

      261     8195    3              TEMP$ = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(J);

   8195  1 000147   200007 470500                    LDP0    BLK$,,AUTO
         1 000150   000003 471500                    LDP1    3,,PR0
         1 000151   200021 720100                    LXL0    J,,AUTO
         1 000152   100003 236110                    LDQ     3,X0,PR1
         1 000153   200010 756100                    STQ     TEMP$,,AUTO

      262     8196    4              DO SELECT (TEMP$->P$O.CODE);

   8196  1 000154   200010 473500                    LDP3    TEMP$,,AUTO
         1 000155   300000 236100                    LDQ     0,,PR3
         1 000156   777777 376007                    ANQ     -1,DL
         1 000157   000151 116007                    CMPQ    105,DL
         1 000160   000166 602000 1                  TNC     s:8196+10
         1 000161   000172 600000 1                  TZE     s:8198
         1 000162   300000 721100                    LXL1    0,,PR3
         1 000163   000210 101003                    CMPX1   136,DU
         1 000164   000350 601000 1                  TNZ     s:8231
         1 000165   000303 710000 1                  TRA     s:8220
         1 000166   300000 721100                    LXL1    0,,PR3
         1 000167   000004 101003                    CMPX1   4,DU
         1 000170   000350 601000 1                  TNZ     s:8231
         1 000171   000273 710000 1                  TRA     s:8217

      263     8197    4                 SELECT (%ITS_NAMENUM);

      264     8198    4                 CMD$->IT$MPC.MPCNM.BLANKS  = IT_TXT_0000;

   8198  1 000172   200004 474500                    LDP4    CMD$,,AUTO
         1 000173   040100 100400                    MLR     fill='040'O
         1 000174   000000 000004 xsym               ADSC9   IT_TXT_0000              cn=0,n=4
         1 000175   400003 400004                    ADSC9   3,,PR4                   cn=2,n=4

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:82   
      265     8199    5                 IF TEMP$->P$S.COUNT ~= 2 THEN DO;

   8199  1 000176   300004 236100                    LDQ     4,,PR3
         1 000177   777000 376003                    ANQ     -512,DU
         1 000200   002000 116003                    CMPQ    1024,DU
         1 000201   000210 600000 1                  TZE     s:8203

      266     8200    5                    CALL ITE$ERROR(%E$2CHARDEV#);

   8200  1 000202   000001 630400 2                  EPPR0   1
         1 000203   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000204   000000 701000 xent               TSX1    ITE$ERROR
         1 000205   000000 011000                    NOP     0

      267     8201    5                    ALTRETURN;

   8201  1 000206   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 000207   000000 702211                    TSX2  ! 0,X1

      268     8202    5                    END;
      269     8203    4                 CMD$->IT$MPC.MPCNM.NUM = SUBSTR(TEMP$->P$S.TEXT,0,2);

   8203  1 000210   300004 236100                    LDQ     4,,PR3
         1 000211   000033 772000                    QRL     27
         1 000212   040100 100500                    MLR     fill='040'O
         1 000213   300004 200002                    ADSC9   4,,PR3                   cn=1,n=2
         1 000214   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
         1 000215   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 000216   400003 741100                    STX1    3,,PR4

      270     8204    4                 OLD$ = MPCLIST$;

   8204  1 000217   200014 236100                    LDQ     MPCLIST$,,AUTO
         1 000220   200015 756100                    STQ     OLD$,,AUTO

      271     8205    5                 DO OLD_DEVS = 0 TO I-1;   /* check all previous devices */

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:83   
   8205  1 000221   200016 450100                    STZ     OLD_DEVS,,AUTO
         1 000222   000260 710000 1                  TRA     s:8214+1

      272     8206    5                    IF OLD_DEVS ~= 0 THEN

   8206  1 000223   200016 235100                    LDA     OLD_DEVS,,AUTO
         1 000224   000230 600000 1                  TZE     s:8208

      273     8207    5                       OLD$ = PINCRW(OLD$,SIZEW(IT$MPC));

   8207  1 000225   200015 236100                    LDQ     OLD$,,AUTO
         1 000226   000021 036003                    ADLQ    17,DU
         1 000227   200015 756100                    STQ     OLD$,,AUTO

      274     8208    6                    IF CMD$->IT$MPC.MPCNAME = OLD$->IT$MPC.MPCNAME THEN DO;

   8208  1 000230   200004 470500                    LDP0    CMD$,,AUTO
         1 000231   200015 471500                    LDP1    OLD$,,AUTO
         1 000232   040100 106500                    CMPC    fill='040'O
         1 000233   000002 400010                    ADSC9   2,,PR0                   cn=2,n=8
         1 000234   100002 400010                    ADSC9   2,,PR1                   cn=2,n=8
         1 000235   000257 601000 1                  TNZ     s:8214

      275     8209    6                       TEXTC.TEXT = CMD$->IT$MPC.MPCNAME;

   8209  1 000236   040100 100500                    MLR     fill='040'O
         1 000237   000002 400010                    ADSC9   2,,PR0                   cn=2,n=8
         1 000240   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

      276     8210    6                       TEXTC.COUNT = 4;

   8210  1 000241   004000 236003                    LDQ     2048,DU
         1 000242   200033 552140                    STBQ    TEXTC,'40'O,AUTO

      277     8211    6                       CALL ITE$ERROR (%E$DUPDEVNAME,ADDR(TEXTC));

   8211  1 000243   200033 633500                    EPPR3   TEXTC,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:84   
         1 000244   200052 453500                    STP3    @FEATURE+2,,AUTO
         1 000245   200052 634500                    EPPR4   @FEATURE+2,,AUTO
         1 000246   200055 454500                    STP4    @FEATURE+5,,AUTO
         1 000247   000003 236000 2                  LDQ     3
         1 000250   200054 756100                    STQ     @FEATURE+4,,AUTO
         1 000251   200054 630500                    EPPR0   @FEATURE+4,,AUTO
         1 000252   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000253   000000 701000 xent               TSX1    ITE$ERROR
         1 000254   000000 011000                    NOP     0

      278     8212    6                       ALTRETURN;

   8212  1 000255   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 000256   000000 702211                    TSX2  ! 0,X1

      279     8213    6                       END;                /*IF*/
      280     8214    5                    END;                   /*DO*/

   8214  1 000257   200016 054100                    AOS     OLD_DEVS,,AUTO
         1 000260   200016 236100                    LDQ     OLD_DEVS,,AUTO
         1 000261   200020 116100                    CMPQ    I,,AUTO
         1 000262   000223 604000 1                  TMI     s:8206

      281     8215    4                 CALL ITH$CHECK_DEVNAME (CMD$->IT$MPC.MPCNAME, ) ALTRET (BM_ALT);

   8215  1 000263   200004 236100                    LDQ     CMD$,,AUTO
         1 000264   000004 036000 2                  ADLQ    4
         1 000265   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 000266   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 000267   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000270   000000 701000 xent               TSX1    ITH$CHECK_DEVNAME
         1 000271   000721 702000 1                  TSX2    BM_ALT
         1 000272   000350 710000 1                  TRA     s:8231

      282     8216    4                 SELECT (%ITS_STATUS);

      283     8217    4                 IF TEMP$->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:85   

   8217  1 000273   300003 474500                    LDP4    3,,PR3
         1 000274   400000 722100                    LXL2    0,,PR4
         1 000275   000002 102003                    CMPX2   2,DU
         1 000276   000350 601000 1                  TNZ     s:8231

      284     8218    4                    CMD$->IT$MPC.FLAGS.DOWN = YES;

   8218  1 000277   200004 475500                    LDP5    CMD$,,AUTO
         1 000300   400000 236007                    LDQ     -131072,DL
         1 000301   500007 256100                    ORSQ    7,,PR5
         1 000302   000350 710000 1                  TRA     s:8231

      285     8219    4                 SELECT (%ITS_DTMPCMODEL);

      286     8220    5                 IF TEMP$->P$O.SUBLK$(0)->P$S.COUNT > 8 THEN DO;

   8220  1 000303   300003 474500                    LDP4    3,,PR3
         1 000304   400004 236100                    LDQ     4,,PR4
         1 000305   777000 376003                    ANQ     -512,DU
         1 000306   011000 116003                    CMPQ    4608,DU
         1 000307   000316 602000 1                  TNC     s:8224

      287     8221    5                    CALL ITE$ERROR(%E$MODELNUM2LONG);

   8221  1 000310   000006 630400 2                  EPPR0   6
         1 000311   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000312   000000 701000 xent               TSX1    ITE$ERROR
         1 000313   000000 011000                    NOP     0

      288     8222    5                    ALTRETURN;

   8222  1 000314   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 000315   000000 702211                    TSX2  ! 0,X1

      289     8223    5                    END;
      290     8224    4                 TEXTC = TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:86   

   8224  1 000316   400003 475500                    LDP5    3,,PR4
         1 000317   000100 101500                    MRL     fill='000'O
         1 000320   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 000321   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 000322   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 000323   000001 622011                    EAX2    1,X1
         1 000324   000100 100540                    MLR     fill='000'O
         1 000325   500000 000012                    ADSC9   0,,PR5                   cn=0,n=*X2
         1 000326   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

      291     8225    4                 CALL GET_TYPE(TEXTC) ALTRET(BM_ALT); /*get dev type of model*/

   8225  1 000327   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 000330   200050 756100                    STQ     @MODEL+1,,AUTO
         1 000331   200033 631500                    EPPR1   TEXTC,,AUTO
         1 000332   200047 451500                    STP1    @DEVNAME+3,,AUTO
         1 000333   007526 701000 1                  TSX1    GET_TYPE
         1 000334   000721 702000 1                  TSX2    BM_ALT

      292     8226    4                 CMD$->IT$MPC.FWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.FWNAME;

   8226  1 000335   200025 720100                    LXL0    DVTX,,AUTO
         1 000336   000000 470410 xsym               LDP0    NI$DVT$,X0
         1 000337   200004 471500                    LDP1    CMD$,,AUTO
         1 000340   040100 100500                    MLR     fill='040'O
         1 000341   000057 000004                    ADSC9   47,,PR0                  cn=0,n=4
         1 000342   100004 400004                    ADSC9   4,,PR1                   cn=2,n=4

      293     8227    4                 CMD$->IT$MPC.MPCTYPE =DVTX;

   8227  1 000343   100001 740100                    STX0    1,,PR1

      294     8228    4                 CMD$->IT$MPC.MODX = MODX;

   8228  1 000344   200026 721100                    LXL1    MODX,,AUTO
         1 000345   100001 441100                    SXL1    1,,PR1
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:87   

      295     8229    4                 CMD$->IT$MPC.FX = FX;

   8229  1 000346   200027 722100                    LXL2    FX,,AUTO
         1 000347   100002 742100                    STX2    2,,PR1

      296     8230    4                 END;

      297     8231    3              END;

   8231  1 000350   200021 054100                    AOS     J,,AUTO
         1 000351   200007 470500                    LDP0    BLK$,,AUTO
         1 000352   000003 471500                    LDP1    3,,PR0
         1 000353   100001 236100                    LDQ     1,,PR1
         1 000354   000022 772000                    QRL     18
         1 000355   200021 116100                    CMPQ    J,,AUTO
         1 000356   000147 605400 1                  TPNZ    s:8195

      298     8232        /*
      299     8233          ****  PROCESS LA(S)
      300     8234        */
      301     8235    3           DO J = 1 TO BLK$->P$O.NSUBLKS-1;

   8235  1 000357   000001 235007                    LDA     1,DL
         1 000360   200021 755100                    STA     J,,AUTO
         1 000361   000642 710000 1                  TRA     s:8282+1

      302     8236    3              OPTS# = BLK$->P$O.SUBLK$(J)->P$O.NSUBLKS; /*# OF IOM_CHANS*/

   8236  1 000362   200007 470500                    LDP0    BLK$,,AUTO
         1 000363   200021 720100                    LXL0    J,,AUTO
         1 000364   000003 471510                    LDP1    3,X0,PR0
         1 000365   100001 236100                    LDQ     1,,PR1
         1 000366   000022 772000                    QRL     18
         1 000367   200031 756100                    STQ     OPTS#,,AUTO

      303     8237        /*
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:88   
      304     8238          ****     PROCESS IOM(S) FOR THIS LA
      305     8239        */
      306     8240    4              DO K=0 TO BLK$->P$O.SUBLK$(J)->P$O.NSUBLKS-1;

   8240  1 000370   200022 450100                    STZ     K,,AUTO
         1 000371   000631 710000 1                  TRA     s:8279+1

      307     8241    4                 CMD$->IT$MPC.LA_IOM.PRESENCE(LA_IOM#) = YES;

   8241  1 000372   200030 235100                    LDA     LA_IOM#,,AUTO
         1 000373   000001 735000                    ALS     1
         1 000374   200004 470500                    LDP0    CMD$,,AUTO
         1 000375   400000 236007                    LDQ     -131072,DL
         1 000376   000010 256105                    ORSQ    8,AL,PR0

      308     8242        /*
      309     8243          ****        PROCESS OPTIONS FOR THIS IOM
      310     8244        */
      311     8245    5                 DO L=0 TO BLK$->P$O.SUBLK$(J)->P$O.SUBLK$(K)->P$O.NSUBLKS-1;

   8245  1 000377   200023 450100                    STZ     L,,AUTO
         1 000400   000616 710000 1                  TRA     s:8277+1

      312     8246    5                    TEMP$ = BLK$->P$O.SUBLK$(J)->P$O.SUBLK$(K)->P$O.SUBLK$(L);

   8246  1 000401   200007 470500                    LDP0    BLK$,,AUTO
         1 000402   200021 720100                    LXL0    J,,AUTO
         1 000403   000003 471510                    LDP1    3,X0,PR0
         1 000404   200022 721100                    LXL1    K,,AUTO
         1 000405   100003 473511                    LDP3    3,X1,PR1
         1 000406   200023 722100                    LXL2    L,,AUTO
         1 000407   300003 236112                    LDQ     3,X2,PR3
         1 000410   200010 756100                    STQ     TEMP$,,AUTO

      313     8247    6                    DO SELECT (TEMP$->P$O.CODE);

   8247  1 000411   200010 474500                    LDP4    TEMP$,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:89   
         1 000412   400000 236100                    LDQ     0,,PR4
         1 000413   777777 376007                    ANQ     -1,DL
         1 000414   000146 116007                    CMPQ    102,DL
         1 000415   000423 602000 1                  TNC     s:8247+10
         1 000416   000471 600000 1                  TZE     s:8257
         1 000417   400000 723100                    LXL3    0,,PR4
         1 000420   000147 103003                    CMPX3   103,DU
         1 000421   000615 601000 1                  TNZ     s:8277
         1 000422   000530 710000 1                  TRA     s:8263
         1 000423   000145 116007                    CMPQ    101,DL
         1 000424   000427 602000 1                  TNC     s:8247+14
         1 000425   000433 600000 1                  TZE     s:8249
         1 000426   000615 710000 1                  TRA     s:8277
         1 000427   400000 723100                    LXL3    0,,PR4
         1 000430   000004 103003                    CMPX3   4,DU
         1 000431   000615 601000 1                  TNZ     s:8277
         1 000432   000604 710000 1                  TRA     s:8274

      314     8248    6                       SELECT (%ITS_IOM#);

      315     8249    6                       TEXTC = TEMP$->P$O.SUBLK$(0)->TEXT$C;

   8249  1 000433   400003 475500                    LDP5    3,,PR4
         1 000434   000100 101500                    MRL     fill='000'O
         1 000435   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 000436   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 000437   200052 223100                    LDX3    @FEATURE+2,,AUTO
         1 000440   000001 624013                    EAX4    1,X3
         1 000441   000100 100540                    MLR     fill='000'O
         1 000442   500000 000014                    ADSC9   0,,PR5                   cn=0,n=*X4
         1 000443   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

      316     8250    6                       CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   8250  1 000444   200033 236100                    LDQ     TEXTC,,AUTO
         1 000445   000033 772000                    QRL     27
         1 000446   000000 623006                    EAX3    0,QL
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:90   
         1 000447   000100 305540                    DTB
         1 000450   200033 230013                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X3
         1 000451   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

      317     8251    7                       IF TEMP > NI_IOMS-1 THEN DO;

   8251  1 000452   200024 236100                    LDQ     TEMP,,AUTO
         1 000453   000000 116000 xsym               CMPQ    NI_IOMS
         1 000454   000463 604000 1                  TMI     s:8255

      318     8252    7                          CALL ITE$ERROR(%E$IOM2BIG);

   8252  1 000455   000010 630400 2                  EPPR0   8
         1 000456   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000457   000000 701000 xent               TSX1    ITE$ERROR
         1 000460   000000 011000                    NOP     0

      319     8253    7                          ALTRETURN;

   8253  1 000461   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 000462   000000 702211                    TSX2  ! 0,X1

      320     8254    7                          END;
      321     8255    6                       CMD$->IT$MPC.LA_IOM.IOM#(LA_IOM#) = TEMP;

   8255  1 000463   200030 235100                    LDA     LA_IOM#,,AUTO
         1 000464   000001 735000                    ALS     1
         1 000465   000000 623006                    EAX3    0,QL
         1 000466   200004 471500                    LDP1    CMD$,,AUTO
         1 000467   100011 743105                    STX3    9,AL,PR1
         1 000470   000615 710000 1                  TRA     s:8277

      322     8256    6                       SELECT (%ITS_LOWCHAN);

      323     8257    6                       TEXTC = TEMP$->P$O.SUBLK$(0)->TEXT$C;

   8257  1 000471   400003 475500                    LDP5    3,,PR4
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:91   
         1 000472   000100 101500                    MRL     fill='000'O
         1 000473   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 000474   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 000475   200052 223100                    LDX3    @FEATURE+2,,AUTO
         1 000476   000001 624013                    EAX4    1,X3
         1 000477   000100 100540                    MLR     fill='000'O
         1 000500   500000 000014                    ADSC9   0,,PR5                   cn=0,n=*X4
         1 000501   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

      324     8258    6                       CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   8258  1 000502   200033 236100                    LDQ     TEXTC,,AUTO
         1 000503   000033 772000                    QRL     27
         1 000504   000000 623006                    EAX3    0,QL
         1 000505   000100 305540                    DTB
         1 000506   200033 230013                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X3
         1 000507   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

      325     8259    6                       CALL ITH$CHECK_CHANNUM ( ,TEMP) ALTRET (BM_ALT);

   8259  1 000510   200024 631500                    EPPR1   TEMP,,AUTO
         1 000511   200053 451500                    STP1    @FEATURE+3,,AUTO
         1 000512   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 000513   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 000514   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 000515   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000516   000000 701000 xent               TSX1    ITH$CHECK_CHANNUM
         1 000517   000721 702000 1                  TSX2    BM_ALT

      326     8260    6                       CMD$->IT$MPC.LA_IOM.LO_CHAN(LA_IOM#) = TEMP;

   8260  1 000520   200030 235100                    LDA     LA_IOM#,,AUTO
         1 000521   000001 735000                    ALS     1
         1 000522   200024 720100                    LXL0    TEMP,,AUTO
         1 000523   200004 470500                    LDP0    CMD$,,AUTO
         1 000524   000011 440105                    SXL0    9,AL,PR0

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:92   
      327     8261    6                       CMD$->IT$MPC.LA_IOM.HI_CHAN(LA_IOM#) = TEMP; /*DEFAULT*/

   8261  1 000525   200024 721100                    LXL1    TEMP,,AUTO
         1 000526   000012 741105                    STX1    10,AL,PR0
         1 000527   000615 710000 1                  TRA     s:8277

      328     8262    6                       SELECT (%ITS_HICHAN);

      329     8263    6                       TEXTC = TEMP$->P$O.SUBLK$(0)->TEXT$C;

   8263  1 000530   400003 475500                    LDP5    3,,PR4
         1 000531   000100 101500                    MRL     fill='000'O
         1 000532   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 000533   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 000534   200052 223100                    LDX3    @FEATURE+2,,AUTO
         1 000535   000001 624013                    EAX4    1,X3
         1 000536   000100 100540                    MLR     fill='000'O
         1 000537   500000 000014                    ADSC9   0,,PR5                   cn=0,n=*X4
         1 000540   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

      330     8264    6                       CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   8264  1 000541   200033 236100                    LDQ     TEXTC,,AUTO
         1 000542   000033 772000                    QRL     27
         1 000543   000000 623006                    EAX3    0,QL
         1 000544   000100 305540                    DTB
         1 000545   200033 230013                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X3
         1 000546   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

      331     8265    6                       CALL ITH$CHECK_CHANNUM ( ,TEMP) ALTRET (BM_ALT);

   8265  1 000547   200024 631500                    EPPR1   TEMP,,AUTO
         1 000550   200053 451500                    STP1    @FEATURE+3,,AUTO
         1 000551   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 000552   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 000553   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 000554   000020 631400 xsym               EPPR1   B_VECTNIL+16
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:93   
         1 000555   000000 701000 xent               TSX1    ITH$CHECK_CHANNUM
         1 000556   000721 702000 1                  TSX2    BM_ALT

      332     8266    6                       IF TEMP < CMD$->IT$MPC.LA_IOM.LO_CHAN(LA_IOM#)

   8266  1 000557   200030 235100                    LDA     LA_IOM#,,AUTO
         1 000560   000001 735000                    ALS     1
         1 000561   200004 470500                    LDP0    CMD$,,AUTO
         1 000562   000011 236105                    LDQ     9,AL,PR0
         1 000563   777777 376007                    ANQ     -1,DL
         1 000564   200024 116100                    CMPQ    TEMP,,AUTO
         1 000565   000573 605400 1                  TPNZ    s:8269
         1 000566   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 000567   200024 236100                    LDQ     TEMP,,AUTO
         1 000570   200052 136100                    SBLQ    @FEATURE+2,,AUTO
         1 000571   000007 116007                    CMPQ    7,DL
         1 000572   000601 604400 1                  TMOZ    s:8272

      333     8267    6                         OR TEMP - CMD$->IT$MPC.LA_IOM.LO_CHAN(LA_IOM#) > 7
      334     8268    7                       THEN DO;

      335     8269    7                          CALL ITE$ERROR(%E$8CHANMAX);

   8269  1 000573   000012 630400 2                  EPPR0   10
         1 000574   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000575   000000 701000 xent               TSX1    ITE$ERROR
         1 000576   000000 011000                    NOP     0

      336     8270    7                          ALTRETURN;

   8270  1 000577   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 000600   000000 702211                    TSX2  ! 0,X1

      337     8271    7                          END;
      338     8272    6                       CMD$->IT$MPC.LA_IOM.HI_CHAN(LA_IOM#) = TEMP;

   8272  1 000601   200024 720100                    LXL0    TEMP,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:94   
         1 000602   000012 740105                    STX0    10,AL,PR0
         1 000603   000615 710000 1                  TRA     s:8277

      339     8273    6                       SELECT (%ITS_STATUS);

      340     8274    6                       IF TEMP$->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN

   8274  1 000604   400003 475500                    LDP5    3,,PR4
         1 000605   500000 724100                    LXL4    0,,PR5
         1 000606   000002 104003                    CMPX4   2,DU
         1 000607   000615 601000 1                  TNZ     s:8277

      341     8275    6                          CMD$->IT$MPC.LA_IOM.DOWN(LA_IOM#) = YES;

   8275  1 000610   200030 235100                    LDA     LA_IOM#,,AUTO
         1 000611   000001 735000                    ALS     1
         1 000612   200004 476500                    LDP6    CMD$,,AUTO
         1 000613   200000 236007                    LDQ     65536,DL
         1 000614   600010 256105                    ORSQ    8,AL,PR6

      342     8276    6                       END;

      343     8277    5                    END;

   8277  1 000615   200023 054100                    AOS     L,,AUTO
         1 000616   200007 470500                    LDP0    BLK$,,AUTO
         1 000617   200021 720100                    LXL0    J,,AUTO
         1 000620   000003 471510                    LDP1    3,X0,PR0
         1 000621   200022 721100                    LXL1    K,,AUTO
         1 000622   100003 473511                    LDP3    3,X1,PR1
         1 000623   300001 236100                    LDQ     1,,PR3
         1 000624   000022 772000                    QRL     18
         1 000625   200023 116100                    CMPQ    L,,AUTO
         1 000626   000401 605400 1                  TPNZ    s:8246

      344     8278    4                 LA_IOM# = LA_IOM#+1;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:95   
   8278  1 000627   200030 054100                    AOS     LA_IOM#,,AUTO

      345     8279    4                 END;

   8279  1 000630   200022 054100                    AOS     K,,AUTO
         1 000631   100001 236100                    LDQ     1,,PR1
         1 000632   000022 772000                    QRL     18
         1 000633   200022 116100                    CMPQ    K,,AUTO
         1 000634   000372 605400 1                  TPNZ    s:8241

      346     8280    3              IF OPTS# = 1 THEN            /*IOM# FOR NEXT LA SHOULD BE 2*/

   8280  1 000635   200031 235100                    LDA     OPTS#,,AUTO
         1 000636   000001 115007                    CMPA    1,DL
         1 000637   000641 601000 1                  TNZ     s:8282

      347     8281    3                 LA_IOM# = LA_IOM#+1;

   8281  1 000640   200030 054100                    AOS     LA_IOM#,,AUTO

      348     8282    3              END;

   8282  1 000641   200021 054100                    AOS     J,,AUTO
         1 000642   000001 236100                    LDQ     1,,PR0
         1 000643   000022 772000                    QRL     18
         1 000644   200021 116100                    CMPQ    J,,AUTO
         1 000645   000362 605400 1                  TPNZ    s:8236

      349     8283        /**/
      350     8284    3           DO K = 0 TO 3;                  /* Check for legal channel numbers   */

   8284  1 000646   200022 450100                    STZ     K,,AUTO

      351     8285    4              IF CMD$->IT$MPC.LA_IOM.PRESENCE(K) THEN DO;

   8285  1 000647   200022 235100                    LDA     K,,AUTO
         1 000650   000001 735000                    ALS     1
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:96   
         1 000651   200004 470500                    LDP0    CMD$,,AUTO
         1 000652   000010 236105                    LDQ     8,AL,PR0
         1 000653   400000 316007                    CANQ    -131072,DL
         1 000654   000710 600000 1                  TZE     s:8299

      352     8286        /**/
      353     8287    4                 J = CMD$->IT$MPC.LA_IOM.HI_CHAN(K) -

   8287  1 000655   000011 236105                    LDQ     9,AL,PR0
         1 000656   777777 376007                    ANQ     -1,DL
         1 000657   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 000660   000012 236105                    LDQ     10,AL,PR0
         1 000661   000022 772000                    QRL     18
         1 000662   200052 136100                    SBLQ    @FEATURE+2,,AUTO
         1 000663   000001 036007                    ADLQ    1,DL
         1 000664   200021 756100                    STQ     J,,AUTO

      354     8288    4                   CMD$->IT$MPC.LA_IOM.LO_CHAN(K) + 1;
      355     8289        /**/
      356     8290    5                 IF J>2 AND MOD(CMD$->IT$MPC.LA_IOM.LO_CHAN(K),4)~=0 THEN DO;

   8290  1 000665   000002 116007                    CMPQ    2,DL
         1 000666   000701 604400 1                  TMOZ    s:8296
         1 000667   000011 236105                    LDQ     9,AL,PR0
         1 000670   777777 376007                    ANQ     -1,DL
         1 000671   000003 376007                    ANQ     3,DL
         1 000672   000701 600000 1                  TZE     s:8296

      357     8291    5   BADCHAN:
      358     8292    5                    CALL ITE$ERROR(%E$BADCHAN);

   8292  1 000673   000014 630400 2     BADCHAN      EPPR0   12
         1 000674   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000675   000000 701000 xent               TSX1    ITE$ERROR
         1 000676   000000 011000                    NOP     0

      359     8293    5                    ALTRETURN;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:97   

   8293  1 000677   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 000700   000000 702211                    TSX2  ! 0,X1

      360     8294    5                    END;
      361     8295        /**/
      362     8296    4                 ELSE IF J>1 AND MOD(CMD$->IT$MPC.LA_IOM.LO_CHAN(K),2)~=0 THEN

   8296  1 000701   200021 236100                    LDQ     J,,AUTO
         1 000702   000001 116007                    CMPQ    1,DL
         1 000703   000710 604400 1                  TMOZ    s:8299
         1 000704   000011 236105                    LDQ     9,AL,PR0
         1 000705   777777 376007                    ANQ     -1,DL
         1 000706   000001 376007                    ANQ     1,DL
         1 000707   000673 601000 1                  TNZ     BADCHAN

      363     8297    4                       GOTO BADCHAN;
      364     8298    4                 END;

      365     8299    3              END;

   8299  1 000710   200022 054100                    AOS     K,,AUTO
         1 000711   200022 235100                    LDA     K,,AUTO
         1 000712   000003 115007                    CMPA    3,DL
         1 000713   000647 604400 1                  TMOZ    s:8285

      366     8300        /**/
      367     8301    2           CMD$ = PINCRW(CMD$,SIZEW(IT$MPC));

   8301  1 000714   200004 236100                    LDQ     CMD$,,AUTO
         1 000715   000021 036003                    ADLQ    17,DU
         1 000716   200004 756100                    STQ     CMD$,,AUTO

      368     8302    2           RETURN;

   8302  1 000717   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 000720   000001 702211                    TSX2  ! 1,X1
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:98   

      369     8303    2   BM_ALT:
      370     8304    2           ALTRETURN;

   8304  1 000721   200042 221300       BM_ALT       LDX1  ! FTEXTC+4,,AUTO
         1 000722   000000 702211                    TSX2  ! 0,X1

      371     8305    2   END;
      372     8306        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:99   
      373     8307        /*D*     INTERNAL ROUTINE: BUILD_DEV
      374     8308                 DESCRIPTION: BUILD_DEV processes the DEV portion of the
      375     8309                           DISK and TAPE commands filling in the structure
      376     8310                           IT$DTDEV for each device.
      377     8311                               When a new device specification is recognized by
      378     8312                           the NAME= xxxxxxx option a new IT$DTDEV frame is initialized
      379     8313                           and filled in by the other specifications for this
      380     8314                           device. At least the NAME,MODEL and DEV# are required.
      381     8315        */
      382     8316        /**/
      383     8317    1   BUILD_DEV: PROC ALTRET;

   8317  1 000723   200042 741300       BUILD_DEV    STX1  ! FTEXTC+4,,AUTO

      384     8318        /**/
      385     8319    2           BLK$ = PCB.OUT$->P$O.SUBLK$(I); /* Point to dev block           */

   8319  1 000724   200003 470500                    LDP0    @PCB,,AUTO
         1 000725   000003 471500                    LDP1    3,,PR0
         1 000726   200020 720100                    LXL0    I,,AUTO
         1 000727   100003 236110                    LDQ     3,X0,PR1
         1 000730   200007 756100                    STQ     BLK$,,AUTO

      386     8320    2           DEVLIST$ = CMD$;

   8320  1 000731   200004 236100                    LDQ     CMD$,,AUTO
         1 000732   200013 756100                    STQ     DEVLIST$,,AUTO

      387     8321    2           NUM_OLDS = 0;                   /* count of parsed NAME commands */

   8321  1 000733   200017 450100                    STZ     NUM_OLDS,,AUTO

      388     8322        /**/
      389     8323    3           DO J = 0 TO BLK$->P$O.NSUBLKS - 1;

   8323  1 000734   200021 450100                    STZ     J,,AUTO
         1 000735   001240 710000 1                  TRA     s:8395+1
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:100  

      390     8324    3              TEMP$ = BLK$->P$O.SUBLK$(J);

   8324  1 000736   200007 470500                    LDP0    BLK$,,AUTO
         1 000737   200021 720100                    LXL0    J,,AUTO
         1 000740   000003 236110                    LDQ     3,X0,PR0
         1 000741   200010 756100                    STQ     TEMP$,,AUTO

      391     8325    4              DO CASE(TEMP$->P$O.CODE);

   8325  1 000742   200010 471500                    LDP1    TEMP$,,AUTO
         1 000743   100000 721100                    LXL1    0,,PR1
         1 000744   000006 101003                    CMPX1   6,DU
         1 000745   000747 602011 1                  TNC     s:8325+5,X1
         1 000746   001237 710000 1                  TRA     s:8395
         1 000747   001237 710000 1                  TRA     s:8395
         1 000750   000755 710000 1                  TRA     s:8328
         1 000751   001121 710000 1                  TRA     s:8370
         1 000752   001200 710000 1                  TRA     s:8383
         1 000753   001230 710000 1                  TRA     s:8391
         1 000754   001224 710000 1                  TRA     s:8388

      392     8326        /**/
      393     8327    4               CASE(%ITS_NAME);

      394     8328    5                 IF J ~= 0 THEN DO;

   8328  1 000755   200021 235100                    LDA     J,,AUTO
         1 000756   000762 600000 1                  TZE     s:8332

      395     8329    5                    CMD$ = PINCRW(CMD$,SIZEW(IT$DTDEV)); /* Start new block  */

   8329  1 000757   200004 236100                    LDQ     CMD$,,AUTO
         1 000760   000010 036003                    ADLQ    8,DU
         1 000761   200004 756100                    STQ     CMD$,,AUTO

      396     8330    5                    END;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:101  

      397     8331        /**/
      398     8332    4                 CMD$->IT$DTDEV = NO;

   8332  1 000762   200004 473500                    LDP3    CMD$,,AUTO
         1 000763   000100 100400                    MLR     fill='000'O
         1 000764   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 000765   300000 000035                    ADSC9   0,,PR3                   cn=0,n=29

      399     8333    4                 CMD$->IT$DTDEV.FLAGS.INPUT = YES;

   8333  1 000766   400000 236003                    LDQ     -131072,DU
         1 000767   300001 256100                    ORSQ    1,,PR3

      400     8334    4                 CMD$->IT$DTDEV.FLAGS.OUTPUT = YES;

   8334  1 000770   200000 236003                    LDQ     65536,DU
         1 000771   300001 256100                    ORSQ    1,,PR3

      401     8335    4                 CMD$->IT$DTDEV.FLAGS.PSIA = YES;

   8335  1 000772   010000 236003                    LDQ     4096,DU
         1 000773   300001 256100                    ORSQ    1,,PR3

      402     8336    4                 CMD$->IT$DTDEV.CNTWD = DTDEV_CNTWD;

   8336  1 000774   000035 236000 0                  LDQ     DTDEV_CNTWD
         1 000775   300000 756100                    STQ     0,,PR3

      403     8337        /**/
      404     8338    5                 DO CASE(TEMP$->P$O.SUBLK$(0)->P$O.CODE);

   8338  1 000776   100003 474500                    LDP4    3,,PR1
         1 000777   400000 721100                    LXL1    0,,PR4
         1 001000   000003 101003                    CMPX1   3,DU
         1 001001   001003 602011 1                  TNC     s:8338+5,X1
         1 001002   001013 710000 1                  TRA     s:8345
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:102  
         1 001003   001013 710000 1                  TRA     s:8345
         1 001004   001006 710000 1                  TRA     s:8340
         1 001005   001011 710000 1                  TRA     s:8342

      405     8339    5                  CASE(%ITS_DP);

      406     8340    5                    CMD$->IT$DTDEV.NM.MNEM = 'DP';

   8340  1 001006   000053 222000 0                  LDX2    APDEV_CNTWD+7
         1 001007   300002 742100                    STX2    2,,PR3
         1 001010   001013 710000 1                  TRA     s:8345

      407     8341    5                  CASE(%ITS_MT);

      408     8342    5                    CMD$->IT$DTDEV.NM.MNEM = 'MT';

   8342  1 001011   000051 222000 0                  LDX2    APDEV_CNTWD+5
         1 001012   300002 742100                    STX2    2,,PR3

      409     8343    5                  END;

      410     8344        /**/
      411     8345    5                 IF TEMP$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C.COUNT~=2 THEN DO;

   8345  1 001013   100004 474500                    LDP4    4,,PR1
         1 001014   400003 475500                    LDP5    3,,PR4
         1 001015   000100 101500                    MRL     fill='000'O
         1 001016   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 001017   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
         1 001020   200052 236100                    LDQ     @FEATURE+2,,AUTO
         1 001021   000002 116007                    CMPQ    2,DL
         1 001022   001031 600000 1                  TZE     s:8351

      412     8346        /**/
      413     8347    5                    CALL ITE$ERROR(%E$2CHARDEV#);

   8347  1 001023   000001 630400 2                  EPPR0   1
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:103  
         1 001024   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001025   000000 701000 xent               TSX1    ITE$ERROR
         1 001026   000000 011000                    NOP     0

      414     8348    5   BD_ALT:
      415     8349    5                    ALTRETURN;

   8349  1 001027   200042 221300       BD_ALT       LDX1  ! FTEXTC+4,,AUTO
         1 001030   000000 702211                    TSX2  ! 0,X1

      416     8350    5                    END;
      417     8351    4                 CMD$->IT$DTDEV.NM.NUM = SUBSTR(TEMP$->P$O.SUBLK$(1)

   8351  1 001031   100004 474500                    LDP4    4,,PR1
         1 001032   400003 475500                    LDP5    3,,PR4
         1 001033   000100 101500                    MRL     fill='000'O
         1 001034   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 001035   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 001036   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 001037   040100 100500                    MLR     fill='040'O
         1 001040   500000 200002                    ADSC9   0,,PR5                   cn=1,n=2
         1 001041   300002 400002                    ADSC9   2,,PR3                   cn=2,n=2

      418     8352    4                   ->P$O.SUBLK$(0)->TEXT$C.TEXT,0,2);
      419     8353    4                 CMD$->IT$DTDEV.NM.BLANKS = IT_TXT_0000;

   8353  1 001042   000000 236000 xsym               LDQ     IT_TXT_0000
         1 001043   300003 756100                    STQ     3,,PR3

      420     8354    4                 OLD$ = DEVLIST$;

   8354  1 001044   200013 236100                    LDQ     DEVLIST$,,AUTO
         1 001045   200015 756100                    STQ     OLD$,,AUTO

      421     8355    5                 DO OLD_DEVS = 0 TO NUM_OLDS-1; /* check all previous devices */

   8355  1 001046   200016 450100                    STZ     OLD_DEVS,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:104  
         1 001047   001105 710000 1                  TRA     s:8364+1

      422     8356    5                    IF OLD_DEVS ~= 0 THEN

   8356  1 001050   200016 235100                    LDA     OLD_DEVS,,AUTO
         1 001051   001055 600000 1                  TZE     s:8358

      423     8357    5                       OLD$ = PINCRW(OLD$,SIZEW(IT$DTDEV));

   8357  1 001052   200015 236100                    LDQ     OLD$,,AUTO
         1 001053   000010 036003                    ADLQ    8,DU
         1 001054   200015 756100                    STQ     OLD$,,AUTO

      424     8358    6                    IF CMD$->IT$DTDEV.NAME = OLD$->IT$DTDEV.NAME THEN DO;

   8358  1 001055   200004 470500                    LDP0    CMD$,,AUTO
         1 001056   200015 471500                    LDP1    OLD$,,AUTO
         1 001057   040100 106500                    CMPC    fill='040'O
         1 001060   000002 000010                    ADSC9   2,,PR0                   cn=0,n=8
         1 001061   100002 000010                    ADSC9   2,,PR1                   cn=0,n=8
         1 001062   001104 601000 1                  TNZ     s:8364

      425     8359    6                       TEXTC.TEXT = CMD$->IT$DTDEV.NAME;

   8359  1 001063   040100 100500                    MLR     fill='040'O
         1 001064   000002 000010                    ADSC9   2,,PR0                   cn=0,n=8
         1 001065   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

      426     8360    6                       TEXTC.COUNT = 4;

   8360  1 001066   004000 236003                    LDQ     2048,DU
         1 001067   200033 552140                    STBQ    TEXTC,'40'O,AUTO

      427     8361    6                       CALL ITE$ERROR (%E$DUPDEVNAME,ADDR(TEXTC));

   8361  1 001070   200033 633500                    EPPR3   TEXTC,,AUTO
         1 001071   200052 453500                    STP3    @FEATURE+2,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:105  
         1 001072   200052 634500                    EPPR4   @FEATURE+2,,AUTO
         1 001073   200055 454500                    STP4    @FEATURE+5,,AUTO
         1 001074   000003 236000 2                  LDQ     3
         1 001075   200054 756100                    STQ     @FEATURE+4,,AUTO
         1 001076   200054 630500                    EPPR0   @FEATURE+4,,AUTO
         1 001077   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 001100   000000 701000 xent               TSX1    ITE$ERROR
         1 001101   000000 011000                    NOP     0

      428     8362    6                       ALTRETURN;

   8362  1 001102   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 001103   000000 702211                    TSX2  ! 0,X1

      429     8363    6                       END;                /*IF*/
      430     8364    5                    END;                   /*DO*/

   8364  1 001104   200016 054100                    AOS     OLD_DEVS,,AUTO
         1 001105   200016 236100                    LDQ     OLD_DEVS,,AUTO
         1 001106   200017 116100                    CMPQ    NUM_OLDS,,AUTO
         1 001107   001050 604000 1                  TMI     s:8356

      431     8365    4                 NUM_OLDS = NUM_OLDS + 1;

   8365  1 001110   200017 054100                    AOS     NUM_OLDS,,AUTO

      432     8366    4                 CALL ITH$CHECK_DEVNAME (CMD$->IT$DTDEV.NAME, ) ALTRET (BD_ALT);

   8366  1 001111   200004 236100                    LDQ     CMD$,,AUTO
         1 001112   000002 036003                    ADLQ    2,DU
         1 001113   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 001114   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 001115   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001116   000000 701000 xent               TSX1    ITH$CHECK_DEVNAME
         1 001117   001027 702000 1                  TSX2    BD_ALT
         1 001120   001237 710000 1                  TRA     s:8395

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:106  
      433     8367        /**/
      434     8368    4               CASE(%ITS_DEVMODEL);

      435     8369        /**/
      436     8370    4                 TEXTC = TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;

   8370  1 001121   100003 473500                    LDP3    3,,PR1
         1 001122   300003 474500                    LDP4    3,,PR3
         1 001123   000100 101500                    MRL     fill='000'O
         1 001124   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 001125   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 001126   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 001127   000001 622011                    EAX2    1,X1
         1 001130   000100 100540                    MLR     fill='000'O
         1 001131   400000 000012                    ADSC9   0,,PR4                   cn=0,n=*X2
         1 001132   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

      437     8371    5                 IF TEMP$->P$O.NSUBLKS > 1 THEN DO; /*CHECK FOR FEAT. BOARD */

   8371  1 001133   100001 221100                    LDX1    1,,PR1
         1 001134   000002 101003                    CMPX1   2,DU
         1 001135   001157 602000 1                  TNC     s:8376

      438     8372    5                    FTEXTC = TEMP$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C;

   8372  1 001136   100004 473500                    LDP3    4,,PR1
         1 001137   300003 474500                    LDP4    3,,PR3
         1 001140   000100 101500                    MRL     fill='000'O
         1 001141   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 001142   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 001143   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 001144   000001 622011                    EAX2    1,X1
         1 001145   000100 100540                    MLR     fill='000'O
         1 001146   400000 000012                    ADSC9   0,,PR4                   cn=0,n=*X2
         1 001147   200036 000011                    ADSC9   FTEXTC,,AUTO             cn=0,n=9

      439     8373    5                    CALL GET_TYPE(TEXTC,FTEXTC) ALTRET(BD_ALT);
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:107  

   8373  1 001150   200036 633500                    EPPR3   FTEXTC,,AUTO
         1 001151   200050 453500                    STP3    @MODEL+1,,AUTO
         1 001152   200033 634500                    EPPR4   TEXTC,,AUTO
         1 001153   200047 454500                    STP4    @DEVNAME+3,,AUTO
         1 001154   007526 701000 1                  TSX1    GET_TYPE
         1 001155   001027 702000 1                  TSX2    BD_ALT

      440     8374    5                    END;

   8374  1 001156   001165 710000 1                  TRA     s:8377

      441     8375    4                 ELSE
      442     8376    4                    CALL GET_TYPE(TEXTC) ALTRET(BD_ALT);

   8376  1 001157   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 001160   200050 756100                    STQ     @MODEL+1,,AUTO
         1 001161   200033 633500                    EPPR3   TEXTC,,AUTO
         1 001162   200047 453500                    STP3    @DEVNAME+3,,AUTO
         1 001163   007526 701000 1                  TSX1    GET_TYPE
         1 001164   001027 702000 1                  TSX2    BD_ALT

      443     8377    4                 CMD$->IT$DTDEV.TYPE = DVTX;

   8377  1 001165   200004 470500                    LDP0    CMD$,,AUTO
         1 001166   200025 236100                    LDQ     DVTX,,AUTO
         1 001167   000033 736000                    QLS     27
         1 001170   000004 552140                    STBQ    4,'40'O,PR0

      444     8378    4                 CMD$->IT$DTDEV.MODX = MODX;

   8378  1 001171   200026 236100                    LDQ     MODX,,AUTO
         1 001172   000022 736000                    QLS     18
         1 001173   000004 552120                    STBQ    4,'20'O,PR0

      445     8379    4                 CMD$->IT$DTDEV.FX = FX;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:108  
   8379  1 001174   200027 236100                    LDQ     FX,,AUTO
         1 001175   000011 736000                    QLS     9
         1 001176   000004 552110                    STBQ    4,'10'O,PR0
         1 001177   001237 710000 1                  TRA     s:8395

      446     8380        /**/
      447     8381    4               CASE(%ITS_DEV#);

      448     8382        /**/
      449     8383    4                 TEXTC = TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;

   8383  1 001200   100003 473500                    LDP3    3,,PR1
         1 001201   300003 474500                    LDP4    3,,PR3
         1 001202   000100 101500                    MRL     fill='000'O
         1 001203   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 001204   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 001205   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 001206   000001 622011                    EAX2    1,X1
         1 001207   000100 100540                    MLR     fill='000'O
         1 001210   400000 000012                    ADSC9   0,,PR4                   cn=0,n=*X2
         1 001211   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

      450     8384    4                 CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   8384  1 001212   200033 236100                    LDQ     TEXTC,,AUTO
         1 001213   000033 772000                    QRL     27
         1 001214   000000 621006                    EAX1    0,QL
         1 001215   000100 305540                    DTB
         1 001216   200033 230011                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X1
         1 001217   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

      451     8385    4                 CMD$->IT$DTDEV.DEV# = TEMP;

   8385  1 001220   200024 721100                    LXL1    TEMP,,AUTO
         1 001221   200004 473500                    LDP3    CMD$,,AUTO
         1 001222   300001 441100                    SXL1    1,,PR3
         1 001223   001237 710000 1                  TRA     s:8395
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:109  

      452     8386        /**/
      453     8387    4               CASE(%ITS_SYSTEM);

      454     8388    4                 CMD$->IT$DTDEV.FLAGS.SYSTEM = YES;

   8388  1 001224   200004 473500                    LDP3    CMD$,,AUTO
         1 001225   004000 236003                    LDQ     2048,DU
         1 001226   300001 256100                    ORSQ    1,,PR3
         1 001227   001237 710000 1                  TRA     s:8395

      455     8389        /**/
      456     8390    4               CASE(%ITS_STATUS);

      457     8391    4                 IF TEMP$->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN

   8391  1 001230   100003 473500                    LDP3    3,,PR1
         1 001231   300000 722100                    LXL2    0,,PR3
         1 001232   000002 102003                    CMPX2   2,DU
         1 001233   001237 601000 1                  TNZ     s:8395

      458     8392    4                    CMD$->IT$DTDEV.FLAGS.DOWN = YES;

   8392  1 001234   200004 474500                    LDP4    CMD$,,AUTO
         1 001235   040000 236003                    LDQ     16384,DU
         1 001236   400001 256100                    ORSQ    1,,PR4

      459     8393        /**/
      460     8394    4               END;

      461     8395    3              END;

   8395  1 001237   200021 054100                    AOS     J,,AUTO
         1 001240   200007 470500                    LDP0    BLK$,,AUTO
         1 001241   000001 236100                    LDQ     1,,PR0
         1 001242   000022 772000                    QRL     18
         1 001243   200021 116100                    CMPQ    J,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:110  
         1 001244   000736 605400 1                  TPNZ    s:8324

      462     8396    2           CMD$ = PINCRW(CMD$,SIZEW(IT$DTDEV));

   8396  1 001245   200004 236100                    LDQ     CMD$,,AUTO
         1 001246   000010 036003                    ADLQ    8,DU
         1 001247   200004 756100                    STQ     CMD$,,AUTO

      463     8397    2           RETURN;

   8397  1 001250   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 001251   000001 702211                    TSX2  ! 1,X1

      464     8398        /**/
      465     8399    2   END;
      466     8400        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:111  
      467     8401        /*D*     NAME:     ITC$CHECK_UNIT
      468     8402                 PURPOSE:  ITC$CHECK_UNIT does the syntax checking for the UNIT
      469     8403                           command which describes the unit record devices .
      470     8404                 DESCRIPTION: ITC$CHECK_UNIT uses the information in the UNIT
      471     8405                           command to fill in the structure IT$UNITDEV for each
      472     8406                           device. A new device is recognised by the NAME=xxxxx
      473     8407                           specification and the rest of the structure is filled in
      474     8408                           by the other information specified. At least NAME,
      475     8409                           MODEL and IOM_CHANNEL conection must be given.   */
      476     8410        /**/
      477     8411    1   ITC$CHECK_UNIT: ENTRY(PCB) ALTRET;

   8411  1 001252   000000 700200 xent  ITC$CHECK_U* TSX0  ! X66_AUTO_1
         1 001253   000056 000001                    ZERO    46,1

      478     8412        /**/
      479     8413    1           CMD$ = B$DS5$;

   8413  1 001254   000000 236000 xsym               LDQ     B$DS5$
         1 001255   200004 756100                    STQ     CMD$,,AUTO

      480     8414    1           CMD$->IT$CMDWD = %ITS_UNIT;

   8414  1 001256   000004 235007                    LDA     4,DL
         1 001257   200004 470500                    LDP0    CMD$,,AUTO
         1 001260   000000 755100                    STA     0,,PR0

      481     8415        /**/
      482     8416    1           CMD$ =  PINCRW(CMD$,SIZEW(IT$CMDWD));

   8416  1 001261   000001 036003                    ADLQ    1,DU
         1 001262   200004 756100                    STQ     CMD$,,AUTO

      483     8417        /**/
      484     8418    1           CMD$->IT$MPC = NO;

   8418  1 001263   200004 470500                    LDP0    CMD$,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:112  
         1 001264   000100 100400                    MLR     fill='000'O
         1 001265   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 001266   000000 000102                    ADSC9   0,,PR0                   cn=0,n=66

      485     8419    1           CMD$->IT$MPC.CNTWD = MPC_CNTWD;

   8419  1 001267   000034 236000 0                  LDQ     MPC_CNTWD
         1 001270   000000 756100                    STQ     0,,PR0

      486     8420        /**/
      487     8421    1           TEXTC.COUNT = 7;

   8421  1 001271   007000 236003                    LDQ     3584,DU
         1 001272   200033 552140                    STBQ    TEXTC,'40'O,AUTO

      488     8422    1           TEXTC.TEXT = %DEFAULTUNITFW;

   8422  1 001273   040100 100400                    MLR     fill='040'O
         1 001274   000054 000007 0                  ADSC9   APDEV_CNTWD+8            cn=0,n=7
         1 001275   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

      489     8423    1           CALL GET_TYPE(TEXTC) ALTRET(CU_ALT);

   8423  1 001276   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 001277   200050 756100                    STQ     @MODEL+1,,AUTO
         1 001300   200033 631500                    EPPR1   TEXTC,,AUTO
         1 001301   200047 451500                    STP1    @DEVNAME+3,,AUTO
         1 001302   007526 701000 1                  TSX1    GET_TYPE
         1 001303   001536 702000 1                  TSX2    CU_ALT

      490     8424    1           CMD$->IT$MPC.FWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.FWNAME;

   8424  1 001304   200025 720100                    LXL0    DVTX,,AUTO
         1 001305   000000 470410 xsym               LDP0    NI$DVT$,X0
         1 001306   200004 471500                    LDP1    CMD$,,AUTO
         1 001307   040100 100500                    MLR     fill='040'O
         1 001310   000057 000004                    ADSC9   47,,PR0                  cn=0,n=4
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:113  
         1 001311   100004 400004                    ADSC9   4,,PR1                   cn=2,n=4

      491     8425    1           CMD$->IT$MPC.LPFWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.LPNAME;

   8425  1 001312   000000 470410 xsym               LDP0    NI$DVT$,X0
         1 001313   040100 100500                    MLR     fill='040'O
         1 001314   000060 000004                    ADSC9   48,,PR0                  cn=0,n=4
         1 001315   100005 400004                    ADSC9   5,,PR1                   cn=2,n=4

      492     8426    1           CMD$->IT$MPC.CRPFWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.CRPNAME;

   8426  1 001316   000000 470410 xsym               LDP0    NI$DVT$,X0
         1 001317   040100 100500                    MLR     fill='040'O
         1 001320   000061 000004                    ADSC9   49,,PR0                  cn=0,n=4
         1 001321   100006 400004                    ADSC9   6,,PR1                   cn=2,n=4

      493     8427    1           CMD$->IT$MPC.MPCTYPE = DVTX;

   8427  1 001322   100001 740100                    STX0    1,,PR1

      494     8428    1           CMD$->IT$MPC.MODX = MODX;

   8428  1 001323   200026 721100                    LXL1    MODX,,AUTO
         1 001324   100001 441100                    SXL1    1,,PR1

      495     8429    1           CMD$->IT$MPC.FX = FX;

   8429  1 001325   200027 722100                    LXL2    FX,,AUTO
         1 001326   100002 742100                    STX2    2,,PR1

      496     8430    1           CMD$->IT$MPC.MPCNM.MNEM = 'UC';

   8430  1 001327   000056 223000 0                  LDX3    APDEV_CNTWD+10
         1 001330   100002 443100                    SXL3    2,,PR1

      497     8431    1           CMD$->IT$MPC.MPCNM.BLANKS  = IT_TXT_0000;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:114  
   8431  1 001331   040100 100400                    MLR     fill='040'O
         1 001332   000000 000004 xsym               ADSC9   IT_TXT_0000              cn=0,n=4
         1 001333   100003 400004                    ADSC9   3,,PR1                   cn=2,n=4

      498     8432    1           IF PCB.OUT$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->

   8432  1 001334   200003 470500                    LDP0    @PCB,,AUTO
         1 001335   000003 473500                    LDP3    3,,PR0
         1 001336   300003 474500                    LDP4    3,,PR3
         1 001337   400003 475500                    LDP5    3,,PR4
         1 001340   500003 476500                    LDP6    3,,PR5
         1 001341   000100 101500                    MRL     fill='000'O
         1 001342   600000 000001                    ADSC9   0,,PR6                   cn=0,n=1
         1 001343   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
         1 001344   200052 236100                    LDQ     @FEATURE+2,,AUTO
         1 001345   000002 116007                    CMPQ    2,DL
         1 001346   001354 600000 1                  TZE     s:8438

      499     8433    2             P$O.SUBLK$(0)->TEXT$C.COUNT ~= 2 THEN DO;

      500     8434    2              CALL ITE$ERROR(%E$2CHARDEV#);

   8434  1 001347   000001 630400 2                  EPPR0   1
         1 001350   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001351   000000 701000 xent               TSX1    ITE$ERROR
         1 001352   000000 011000                    NOP     0

      501     8435    2              ALTRETURN;

   8435  1 001353   000000 702200 xent               TSX2  ! X66_AALT

      502     8436    2              END;
      503     8437        /**/
      504     8438    1           CMD$->IT$MPC.MPCNM.NUM = SUBSTR(PCB.OUT$->P$O.SUBLK$(0)->

   8438  1 001354   000003 473500                    LDP3    3,,PR0
         1 001355   300003 474500                    LDP4    3,,PR3
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:115  
         1 001356   400003 475500                    LDP5    3,,PR4
         1 001357   500003 476500                    LDP6    3,,PR5
         1 001360   000100 101500                    MRL     fill='000'O
         1 001361   600000 000001                    ADSC9   0,,PR6                   cn=0,n=1
         1 001362   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 001363   200052 224100                    LDX4    @FEATURE+2,,AUTO
         1 001364   040100 100500                    MLR     fill='040'O
         1 001365   600000 200002                    ADSC9   0,,PR6                   cn=1,n=2
         1 001366   100003 000002                    ADSC9   3,,PR1                   cn=0,n=2

      505     8439    1             P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C.TEXT,0,2);
      506     8440    1           CALL ITH$CHECK_DEVNAME (CMD$->IT$MPC.MPCNAME, ) ALTRET (CU_ALT);

   8440  1 001367   200004 236100                    LDQ     CMD$,,AUTO
         1 001370   000004 036000 2                  ADLQ    4
         1 001371   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 001372   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 001373   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001374   000000 701000 xent               TSX1    ITH$CHECK_DEVNAME
         1 001375   001536 702000 1                  TSX2    CU_ALT

      507     8441        /**/
      508     8442    1           BLK$ = PCB.OUT$->P$O.SUBLK$(0);

   8442  1 001376   200003 470500                    LDP0    @PCB,,AUTO
         1 001377   000003 471500                    LDP1    3,,PR0
         1 001400   100003 236100                    LDQ     3,,PR1
         1 001401   200007 756100                    STQ     BLK$,,AUTO

      509     8443    2           IF BLK$->P$O.NSUBLKS > 1 THEN DO; /* STATUS OR MODEL SPEC. */

   8443  1 001402   200007 473500                    LDP3    BLK$,,AUTO
         1 001403   300001 220100                    LDX0    1,,PR3
         1 001404   000002 100003                    CMPX0   2,DU
         1 001405   001521 602000 1                  TNC     s:8467

      510     8444    3              DO J = 1 TO BLK$->P$O.NSUBLKS - 1;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:116  

   8444  1 001406   000001 235007                    LDA     1,DL
         1 001407   200021 755100                    STA     J,,AUTO
         1 001410   001514 710000 1                  TRA     s:8464+1

      511     8445    3                 TEMP$ = BLK$->P$O.SUBLK$(J);

   8445  1 001411   200007 470500                    LDP0    BLK$,,AUTO
         1 001412   200021 720100                    LXL0    J,,AUTO
         1 001413   000003 236110                    LDQ     3,X0,PR0
         1 001414   200010 756100                    STQ     TEMP$,,AUTO

      512     8446    4                 DO SELECT (TEMP$->P$O.CODE);

   8446  1 001415   200010 471500                    LDP1    TEMP$,,AUTO
         1 001416   100000 236100                    LDQ     0,,PR1
         1 001417   777777 376007                    ANQ     -1,DL
         1 001420   000004 116007                    CMPQ    4,DL
         1 001421   001513 602000 1                  TNC     s:8464
         1 001422   001427 600000 1                  TZE     s:8448
         1 001423   100000 721100                    LXL1    0,,PR1
         1 001424   000212 101003                    CMPX1   138,DU
         1 001425   001513 601000 1                  TNZ     s:8464
         1 001426   001437 710000 1                  TRA     s:8451

      513     8447    4                    SELECT (%ITS_STATUS);

      514     8448    4                    IF TEMP$->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN

   8448  1 001427   100003 473500                    LDP3    3,,PR1
         1 001430   300000 721100                    LXL1    0,,PR3
         1 001431   000002 101003                    CMPX1   2,DU
         1 001432   001513 601000 1                  TNZ     s:8464

      515     8449    4                       CMD$->IT$MPC.FLAGS.DOWN = YES;

   8449  1 001433   200004 474500                    LDP4    CMD$,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:117  
         1 001434   400000 236007                    LDQ     -131072,DL
         1 001435   400007 256100                    ORSQ    7,,PR4
         1 001436   001513 710000 1                  TRA     s:8464

      516     8450    4                    SELECT (%ITS_UNITMPCMODEL);

      517     8451    5                    IF TEMP$->P$O.SUBLK$(0)->P$S.COUNT > 8 THEN DO;

   8451  1 001437   100003 473500                    LDP3    3,,PR1
         1 001440   300004 236100                    LDQ     4,,PR3
         1 001441   777000 376003                    ANQ     -512,DU
         1 001442   011000 116003                    CMPQ    4608,DU
         1 001443   001451 602000 1                  TNC     s:8455

      518     8452    5                       CALL ITE$ERROR(%E$MODELNUM2LONG);

   8452  1 001444   000006 630400 2                  EPPR0   6
         1 001445   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001446   000000 701000 xent               TSX1    ITE$ERROR
         1 001447   000000 011000                    NOP     0

      519     8453    5                       ALTRETURN;

   8453  1 001450   000000 702200 xent               TSX2  ! X66_AALT

      520     8454    5                       END;
      521     8455    4                    TEXTC = TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;

   8455  1 001451   300003 474500                    LDP4    3,,PR3
         1 001452   000100 101500                    MRL     fill='000'O
         1 001453   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 001454   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 001455   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 001456   000001 622011                    EAX2    1,X1
         1 001457   000100 100540                    MLR     fill='000'O
         1 001460   400000 000012                    ADSC9   0,,PR4                   cn=0,n=*X2
         1 001461   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:118  

      522     8456    4                    CALL GET_TYPE(TEXTC) ALTRET(CU_ALT);

   8456  1 001462   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 001463   200050 756100                    STQ     @MODEL+1,,AUTO
         1 001464   200033 633500                    EPPR3   TEXTC,,AUTO
         1 001465   200047 453500                    STP3    @DEVNAME+3,,AUTO
         1 001466   007526 701000 1                  TSX1    GET_TYPE
         1 001467   001536 702000 1                  TSX2    CU_ALT

      523     8457    4                    CMD$->IT$MPC.FWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.FWNAME;

   8457  1 001470   200025 720100                    LXL0    DVTX,,AUTO
         1 001471   000000 470410 xsym               LDP0    NI$DVT$,X0
         1 001472   200004 471500                    LDP1    CMD$,,AUTO
         1 001473   040100 100500                    MLR     fill='040'O
         1 001474   000057 000004                    ADSC9   47,,PR0                  cn=0,n=4
         1 001475   100004 400004                    ADSC9   4,,PR1                   cn=2,n=4

      524     8458    4                    CMD$->IT$MPC.LPFWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.LPNAME;

   8458  1 001476   000000 470410 xsym               LDP0    NI$DVT$,X0
         1 001477   040100 100500                    MLR     fill='040'O
         1 001500   000060 000004                    ADSC9   48,,PR0                  cn=0,n=4
         1 001501   100005 400004                    ADSC9   5,,PR1                   cn=2,n=4

      525     8459    4                    CMD$->IT$MPC.CRPFWNAME = NI$DVT$(DVTX)->NI$DVT.MPC.CRPNAME;

   8459  1 001502   000000 470410 xsym               LDP0    NI$DVT$,X0
         1 001503   040100 100500                    MLR     fill='040'O
         1 001504   000061 000004                    ADSC9   49,,PR0                  cn=0,n=4
         1 001505   100006 400004                    ADSC9   6,,PR1                   cn=2,n=4

      526     8460    4                    CMD$->IT$MPC.MPCTYPE = DVTX;

   8460  1 001506   100001 740100                    STX0    1,,PR1

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:119  
      527     8461    4                    CMD$->IT$MPC.MODX = MODX;

   8461  1 001507   200026 721100                    LXL1    MODX,,AUTO
         1 001510   100001 441100                    SXL1    1,,PR1

      528     8462    4                    CMD$->IT$MPC.FX = FX;

   8462  1 001511   200027 722100                    LXL2    FX,,AUTO
         1 001512   100002 742100                    STX2    2,,PR1

      529     8463    4                    END;

      530     8464    3                 END;

   8464  1 001513   200021 054100                    AOS     J,,AUTO
         1 001514   200007 470500                    LDP0    BLK$,,AUTO
         1 001515   000001 236100                    LDQ     1,,PR0
         1 001516   000022 772000                    QRL     18
         1 001517   200021 116100                    CMPQ    J,,AUTO
         1 001520   001411 605400 1                  TPNZ    s:8445

      531     8465    2              END;

      532     8466        /**/
      533     8467    1           CMD$ = PINCRW(CMD$,SIZEW(IT$MPC));

   8467  1 001521   200004 236100                    LDQ     CMD$,,AUTO
         1 001522   000021 036003                    ADLQ    17,DU
         1 001523   200004 756100                    STQ     CMD$,,AUTO

      534     8468    1           DEVLIST$ = CMD$;

   8468  1 001524   200013 756100                    STQ     DEVLIST$,,AUTO

      535     8469        /**/
      536     8470    2           IF PCB.OUT$->P$O.NSUBLKS > 8+1 THEN DO; /* 8 dev max          */

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:120  
   8470  1 001525   200003 470500                    LDP0    @PCB,,AUTO
         1 001526   000003 471500                    LDP1    3,,PR0
         1 001527   100001 220100                    LDX0    1,,PR1
         1 001530   000012 100003                    CMPX0   10,DU
         1 001531   001537 602000 1                  TNC     s:8476

      537     8471    2              CALL ITE$ERROR(%E$8DEVMAX);

   8471  1 001532   000016 630400 2                  EPPR0   14
         1 001533   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001534   000000 701000 xent               TSX1    ITE$ERROR
         1 001535   000000 011000                    NOP     0

      538     8472    2   CU_ALT:
      539     8473    2              ALTRETURN;

   8473  1 001536   000000 702200 xent  CU_ALT       TSX2  ! X66_AALT

      540     8474    2              END;
      541     8475        /**/
      542     8476    2           DO I = 1 TO PCB.OUT$->P$O.NSUBLKS - 1; /* Do all devs           */

   8476  1 001537   000001 235007                    LDA     1,DL
         1 001540   200020 755100                    STA     I,,AUTO
         1 001541   002361 710000 1                  TRA     s:8620+1

      543     8477    2              BLK$ = PCB.OUT$->P$O.SUBLK$(I); /* Ptr to dev                */

   8477  1 001542   200003 470500                    LDP0    @PCB,,AUTO
         1 001543   000003 471500                    LDP1    3,,PR0
         1 001544   200020 720100                    LXL0    I,,AUTO
         1 001545   100003 236110                    LDQ     3,X0,PR1
         1 001546   200007 756100                    STQ     BLK$,,AUTO

      544     8478    2              IF I ~= 1 THEN CMD$ = PINCRW(CMD$,SIZEW(IT$UNITDEV));

   8478  1 001547   200020 235100                    LDA     I,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:121  
         1 001550   000001 115007                    CMPA    1,DL
         1 001551   001555 600000 1                  TZE     s:8480

   8478  1 001552   200004 236100                    LDQ     CMD$,,AUTO
         1 001553   000015 036003                    ADLQ    13,DU
         1 001554   200004 756100                    STQ     CMD$,,AUTO

      545     8479        /**/
      546     8480    2              CMD$->IT$UNITDEV = NO;

   8480  1 001555   200004 473500                    LDP3    CMD$,,AUTO
         1 001556   000100 100400                    MLR     fill='000'O
         1 001557   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 001560   300000 000062                    ADSC9   0,,PR3                   cn=0,n=50

      547     8481    2              CMD$->IT$UNITDEV.FORMNAME = ' ';

   8481  1 001561   040100 100400                    MLR     fill='040'O
         1 001562   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 001563   300005 000006                    ADSC9   5,,PR3                   cn=0,n=6

      548     8482    2              CMD$->IT$UNITDEV.CNTWD = UNITDEV_CNTWD;

   8482  1 001564   000036 236000 0                  LDQ     UNITDEV_CNTWD
         1 001565   300000 756100                    STQ     0,,PR3

      549     8483    2              CMD$->IT$UNITDEV.VFC$ = ADDR(IT_VFC);

   8483  1 001566   000017 236000 2                  LDQ     15
         1 001567   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 001570   000100 100500                    MLR     fill='000'O
         1 001571   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
         1 001572   300010 400004                    ADSC9   8,,PR3                   cn=2,n=4

      550     8484    2              CMD$->IT$UNITDEV.VFCL = SIZEW(IT_VFC);

   8484  1 001573   000100 100400                    MLR     fill='000'O
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:122  
         1 001574   000020 000004 2                  ADSC9   16                       cn=0,n=4
         1 001575   300011 400004                    ADSC9   9,,PR3                   cn=2,n=4

      551     8485    2              CMD$->IT$UNITDEV.IOMCHAN.IOM#(1) = -1; /*Initialize 2nd not there */

   8485  1 001576   777777 221003                    LDX1    -1,DU
         1 001577   300007 441100                    SXL1    7,,PR3

      552     8486    2              CMD$->IT$UNITDEV.FLAGS.PSIA = YES;

   8486  1 001600   010000 236003                    LDQ     4096,DU
         1 001601   300001 256100                    ORSQ    1,,PR3

      553     8487    2              IOMCHAN# = 0;

   8487  1 001602   200032 450100                    STZ     IOMCHAN#,,AUTO

      554     8488        /**/
      555     8489    3              DO J = 0 TO BLK$->P$O.NSUBLKS - 1; /* Do all opts            */

   8489  1 001603   200021 450100                    STZ     J,,AUTO
         1 001604   002353 710000 1                  TRA     s:8619+1

      556     8490    3                 TEMP$ = BLK$->P$O.SUBLK$(J);

   8490  1 001605   200007 470500                    LDP0    BLK$,,AUTO
         1 001606   200021 720100                    LXL0    J,,AUTO
         1 001607   000003 236110                    LDQ     3,X0,PR0
         1 001610   200010 756100                    STQ     TEMP$,,AUTO

      557     8491    4                 DO CASE(TEMP$->P$O.CODE);

   8491  1 001611   200010 471500                    LDP1    TEMP$,,AUTO
         1 001612   100000 721100                    LXL1    0,,PR1
         1 001613   000015 101003                    CMPX1   13,DU
         1 001614   001616 602011 1                  TNC     s:8491+5,X1
         1 001615   002352 710000 1                  TRA     s:8619
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:123  
         1 001616   002352 710000 1                  TRA     s:8619
         1 001617   001633 710000 1                  TRA     s:8494
         1 001620   001774 710000 1                  TRA     s:8532
         1 001621   002104 710000 1                  TRA     s:8555
         1 001622   002177 710000 1                  TRA     s:8572
         1 001623   002352 710000 1                  TRA     s:8619
         1 001624   002352 710000 1                  TRA     s:8619
         1 001625   002352 710000 1                  TRA     s:8619
         1 001626   002207 710000 1                  TRA     s:8575
         1 001627   002213 710000 1                  TRA     s:8577
         1 001630   002217 710000 1                  TRA     s:8579
         1 001631   002253 710000 1                  TRA     s:8590
         1 001632   002223 710000 1                  TRA     s:8581

      558     8492        /**/
      559     8493    4                  CASE(%ITS_NAME);

      560     8494    5                    DO CASE(TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->P$O.CODE);

   8494  1 001633   100003 473500                    LDP3    3,,PR1
         1 001634   300003 474500                    LDP4    3,,PR3
         1 001635   400000 722100                    LXL2    0,,PR4
         1 001636   000004 102003                    CMPX2   4,DU
         1 001637   001641 602012 1                  TNC     s:8494+6,X2
         1 001640   001666 710000 1                  TRA     s:8508
         1 001641   001666 710000 1                  TRA     s:8508
         1 001642   001645 710000 1                  TRA     s:8497
         1 001643   001651 710000 1                  TRA     s:8500
         1 001644   001660 710000 1                  TRA     s:8504

      561     8495        /**/
      562     8496    5                     CASE(%ITS_CR);

      563     8497    5                       CMD$->IT$UNITDEV.NM.MNEM = 'CR';

   8497  1 001645   000057 223000 0                  LDX3    APDEV_CNTWD+11
         1 001646   200004 475500                    LDP5    CMD$,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:124  
         1 001647   500002 743100                    STX3    2,,PR5
         1 001650   001666 710000 1                  TRA     s:8508

      564     8498        /**/
      565     8499    5                     CASE(%ITS_CPUN);

      566     8500    5                       CMD$->IT$UNITDEV.NM.MNEM = 'CP';

   8500  1 001651   000060 223000 0                  LDX3    APDEV_CNTWD+12
         1 001652   200004 475500                    LDP5    CMD$,,AUTO
         1 001653   500002 743100                    STX3    2,,PR5

      567     8501    5                       CMD$->IT$UNITDEV.FORMNAME = 'STD**';

   8501  1 001654   040100 100400                    MLR     fill='040'O
         1 001655   000061 000005 0                  ADSC9   APDEV_CNTWD+13           cn=0,n=5
         1 001656   500005 000006                    ADSC9   5,,PR5                   cn=0,n=6
         1 001657   001666 710000 1                  TRA     s:8508

      568     8502        /**/
      569     8503    5                     CASE(%ITS_LP);

      570     8504    5                       CMD$->IT$UNITDEV.NM.MNEM = 'LP';

   8504  1 001660   000063 223000 0                  LDX3    APDEV_CNTWD+15
         1 001661   200004 475500                    LDP5    CMD$,,AUTO
         1 001662   500002 743100                    STX3    2,,PR5

      571     8505    5                       CMD$->IT$UNITDEV.FORMNAME = 'STDLP';

   8505  1 001663   040100 100400                    MLR     fill='040'O
         1 001664   000064 000005 0                  ADSC9   APDEV_CNTWD+16           cn=0,n=5
         1 001665   500005 000006                    ADSC9   5,,PR5                   cn=0,n=6

      572     8506    5                     END;

      573     8507        /**/
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:125  
      574     8508    4                    IF TEMP$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->

   8508  1 001666   100004 473500                    LDP3    4,,PR1
         1 001667   300003 474500                    LDP4    3,,PR3
         1 001670   000100 101500                    MRL     fill='000'O
         1 001671   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 001672   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
         1 001673   200052 236100                    LDQ     @FEATURE+2,,AUTO
         1 001674   000002 116007                    CMPQ    2,DL
         1 001675   001703 600000 1                  TZE     s:8514

      575     8509    5                      TEXT$C.COUNT ~= 2 THEN DO;

      576     8510        /**/
      577     8511    5                       CALL ITE$ERROR(%E$2CHARDEV#);

   8511  1 001676   000001 630400 2                  EPPR0   1
         1 001677   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001700   000000 701000 xent               TSX1    ITE$ERROR
         1 001701   000000 011000                    NOP     0

      578     8512    5                       ALTRETURN;

   8512  1 001702   000000 702200 xent               TSX2  ! X66_AALT

      579     8513    5                       END;
      580     8514    4                    CMD$->IT$UNITDEV.NM.NUM = SUBSTR(TEMP$->

   8514  1 001703   100004 473500                    LDP3    4,,PR1
         1 001704   300003 474500                    LDP4    3,,PR3
         1 001705   000100 101500                    MRL     fill='000'O
         1 001706   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 001707   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 001710   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 001711   200004 473500                    LDP3    CMD$,,AUTO
         1 001712   040100 100500                    MLR     fill='040'O
         1 001713   400000 200002                    ADSC9   0,,PR4                   cn=1,n=2
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:126  
         1 001714   300002 400002                    ADSC9   2,,PR3                   cn=2,n=2

      581     8515    4                      P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C.TEXT,0,2);
      582     8516    4                    CMD$->IT$UNITDEV.NM.BLANKS = IT_TXT_0000;

   8516  1 001715   000000 236000 xsym               LDQ     IT_TXT_0000
         1 001716   300003 756100                    STQ     3,,PR3

      583     8517    4                    OLD$ = DEVLIST$;

   8517  1 001717   200013 236100                    LDQ     DEVLIST$,,AUTO
         1 001720   200015 756100                    STQ     OLD$,,AUTO

      584     8518    5                    DO OLD_DEVS = 1 TO I-1; /* check all previous devices */

   8518  1 001721   000001 235007                    LDA     1,DL
         1 001722   200016 755100                    STA     OLD_DEVS,,AUTO
         1 001723   001761 710000 1                  TRA     s:8527+1

      585     8519    5                       IF OLD_DEVS ~= 1 THEN

   8519  1 001724   200016 235100                    LDA     OLD_DEVS,,AUTO
         1 001725   000001 115007                    CMPA    1,DL
         1 001726   001732 600000 1                  TZE     s:8521

      586     8520    5                          OLD$ = PINCRW(OLD$,SIZEW(IT$UNITDEV));

   8520  1 001727   200015 236100                    LDQ     OLD$,,AUTO
         1 001730   000015 036003                    ADLQ    13,DU
         1 001731   200015 756100                    STQ     OLD$,,AUTO

      587     8521    6                       IF CMD$->IT$UNITDEV.NAME = OLD$->IT$UNITDEV.NAME THEN DO;

   8521  1 001732   200004 470500                    LDP0    CMD$,,AUTO
         1 001733   200015 471500                    LDP1    OLD$,,AUTO
         1 001734   040100 106500                    CMPC    fill='040'O
         1 001735   000002 000010                    ADSC9   2,,PR0                   cn=0,n=8
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:127  
         1 001736   100002 000010                    ADSC9   2,,PR1                   cn=0,n=8
         1 001737   001760 601000 1                  TNZ     s:8527

      588     8522    6                          TEXTC.TEXT = CMD$->IT$UNITDEV.NAME;

   8522  1 001740   040100 100500                    MLR     fill='040'O
         1 001741   000002 000010                    ADSC9   2,,PR0                   cn=0,n=8
         1 001742   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

      589     8523    6                          TEXTC.COUNT = 4;

   8523  1 001743   004000 236003                    LDQ     2048,DU
         1 001744   200033 552140                    STBQ    TEXTC,'40'O,AUTO

      590     8524    6                          CALL ITE$ERROR (%E$DUPDEVNAME,ADDR(TEXTC));

   8524  1 001745   200033 633500                    EPPR3   TEXTC,,AUTO
         1 001746   200052 453500                    STP3    @FEATURE+2,,AUTO
         1 001747   200052 634500                    EPPR4   @FEATURE+2,,AUTO
         1 001750   200055 454500                    STP4    @FEATURE+5,,AUTO
         1 001751   000003 236000 2                  LDQ     3
         1 001752   200054 756100                    STQ     @FEATURE+4,,AUTO
         1 001753   200054 630500                    EPPR0   @FEATURE+4,,AUTO
         1 001754   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 001755   000000 701000 xent               TSX1    ITE$ERROR
         1 001756   000000 011000                    NOP     0

      591     8525    6                          ALTRETURN;

   8525  1 001757   000000 702200 xent               TSX2  ! X66_AALT

      592     8526    6                          END;             /*IF*/
      593     8527    5                       END;                /*DO*/

   8527  1 001760   200016 054100                    AOS     OLD_DEVS,,AUTO
         1 001761   200016 236100                    LDQ     OLD_DEVS,,AUTO
         1 001762   200020 116100                    CMPQ    I,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:128  
         1 001763   001724 604000 1                  TMI     s:8519

      594     8528    4                    CALL ITH$CHECK_DEVNAME (CMD$->IT$UNITDEV.NAME, ) ALTRET (CU_ALT);

   8528  1 001764   200004 236100                    LDQ     CMD$,,AUTO
         1 001765   000002 036003                    ADLQ    2,DU
         1 001766   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 001767   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 001770   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001771   000000 701000 xent               TSX1    ITH$CHECK_DEVNAME
         1 001772   001536 702000 1                  TSX2    CU_ALT
         1 001773   002352 710000 1                  TRA     s:8619

      595     8529        /**/
      596     8530    4                  CASE(%ITS_DEVMODEL);

      597     8531        /**/
      598     8532    4                    TEXTC = TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;

   8532  1 001774   100003 473500                    LDP3    3,,PR1
         1 001775   300003 474500                    LDP4    3,,PR3
         1 001776   000100 101500                    MRL     fill='000'O
         1 001777   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 002000   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 002001   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 002002   000001 622011                    EAX2    1,X1
         1 002003   000100 100540                    MLR     fill='000'O
         1 002004   400000 000012                    ADSC9   0,,PR4                   cn=0,n=*X2
         1 002005   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

      599     8533    4                    IF TEMP$->P$O.NSUBLKS > 1 THEN /*FEAT. BRD. CHK. */

   8533  1 002006   100001 221100                    LDX1    1,,PR1
         1 002007   000002 101003                    CMPX1   2,DU
         1 002010   002032 602000 1                  TNC     s:8539

      600     8534    5                    DO;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:129  

      601     8535    5                       FTEXTC = TEMP$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C;

   8535  1 002011   100004 473500                    LDP3    4,,PR1
         1 002012   300003 474500                    LDP4    3,,PR3
         1 002013   000100 101500                    MRL     fill='000'O
         1 002014   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 002015   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 002016   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 002017   000001 622011                    EAX2    1,X1
         1 002020   000100 100540                    MLR     fill='000'O
         1 002021   400000 000012                    ADSC9   0,,PR4                   cn=0,n=*X2
         1 002022   200036 000011                    ADSC9   FTEXTC,,AUTO             cn=0,n=9

      602     8536    5                       CALL GET_TYPE(TEXTC,FTEXTC) ALTRET(CU_ALT);

   8536  1 002023   200036 633500                    EPPR3   FTEXTC,,AUTO
         1 002024   200050 453500                    STP3    @MODEL+1,,AUTO
         1 002025   200033 634500                    EPPR4   TEXTC,,AUTO
         1 002026   200047 454500                    STP4    @DEVNAME+3,,AUTO
         1 002027   007526 701000 1                  TSX1    GET_TYPE
         1 002030   001536 702000 1                  TSX2    CU_ALT

      603     8537    5                       END;

   8537  1 002031   002040 710000 1                  TRA     s:8540

      604     8538    4                    ELSE
      605     8539    4                       CALL GET_TYPE(TEXTC) ALTRET(CU_ALT);

   8539  1 002032   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 002033   200050 756100                    STQ     @MODEL+1,,AUTO
         1 002034   200033 633500                    EPPR3   TEXTC,,AUTO
         1 002035   200047 453500                    STP3    @DEVNAME+3,,AUTO
         1 002036   007526 701000 1                  TSX1    GET_TYPE
         1 002037   001536 702000 1                  TSX2    CU_ALT

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:130  
      606     8540    4                    CMD$->IT$UNITDEV.TYPE = DVTX;

   8540  1 002040   200004 470500                    LDP0    CMD$,,AUTO
         1 002041   200025 236100                    LDQ     DVTX,,AUTO
         1 002042   000022 736000                    QLS     18
         1 002043   000004 552120                    STBQ    4,'20'O,PR0

      607     8541    4                    CMD$->IT$UNITDEV.MODX = MODX;

   8541  1 002044   200026 236100                    LDQ     MODX,,AUTO
         1 002045   000011 736000                    QLS     9
         1 002046   000004 552110                    STBQ    4,'10'O,PR0

      608     8542    4                    CMD$->IT$UNITDEV.FX = FX;

   8542  1 002047   200027 236100                    LDQ     FX,,AUTO
         1 002050   000004 552104                    STBQ    4,'04'O,PR0

      609     8543    4                    IF CMD$->IT$UNITDEV.NM.MNEM = 'LP' THEN

   8543  1 002051   000002 220100                    LDX0    2,,PR0
         1 002052   000063 100000 0                  CMPX0   APDEV_CNTWD+15
         1 002053   002352 601000 1                  TNZ     s:8619

      610     8544    5                       IF NI$DVT$(DVTX)->NI$DVT.LP.CHAIN = '500' THEN DO;

   8544  1 002054   200025 721100                    LXL1    DVTX,,AUTO
         1 002055   000000 471411 xsym               LDP1    NI$DVT$,X1
         1 002056   040000 106500                    CMPC    fill='040'O
         1 002057   100057 000004                    ADSC9   47,,PR1                  cn=0,n=4
         1 002060   000066 000003 0                  ADSC9   APDEV_CNTWD+18           cn=0,n=3
         1 002061   002073 601000 1                  TNZ     s:8549

      611     8545    5                          CMD$->IT$UNITDEV.CHAIN$ = ADDR(IT_CHAIN500);

   8545  1 002062   000021 236000 2                  LDQ     17
         1 002063   200052 756100                    STQ     @FEATURE+2,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:131  
         1 002064   000100 100500                    MLR     fill='000'O
         1 002065   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
         1 002066   000012 400004                    ADSC9   10,,PR0                  cn=2,n=4

      612     8546    5                          CMD$->IT$UNITDEV.CHAINL = SIZEW(IT_CHAIN500);

   8546  1 002067   000100 100400                    MLR     fill='000'O
         1 002070   000022 000004 2                  ADSC9   18                       cn=0,n=4
         1 002071   000013 400004                    ADSC9   11,,PR0                  cn=2,n=4

      613     8547    5                          END;

   8547  1 002072   002352 710000 1                  TRA     s:8619

      614     8548    5                       ELSE DO;

      615     8549    5                          CMD$->IT$UNITDEV.CHAIN$ = ADDR(IT_CHAIN600);

   8549  1 002073   000023 236000 2                  LDQ     19
         1 002074   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 002075   000100 100500                    MLR     fill='000'O
         1 002076   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
         1 002077   000012 400004                    ADSC9   10,,PR0                  cn=2,n=4

      616     8550    5                          CMD$->IT$UNITDEV.CHAINL = SIZEW(IT_CHAIN600);

   8550  1 002100   000100 100400                    MLR     fill='000'O
         1 002101   000022 000004 2                  ADSC9   18                       cn=0,n=4
         1 002102   000013 400004                    ADSC9   11,,PR0                  cn=2,n=4

      617     8551    5                          END;

   8551  1 002103   002352 710000 1                  TRA     s:8619

      618     8552        /**/
      619     8553    4                  CASE(%ITS_IOMCHAN);

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:132  
      620     8554        /**/
      621     8555    4                    TEXTC = TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;

   8555  1 002104   100003 473500                    LDP3    3,,PR1
         1 002105   300003 474500                    LDP4    3,,PR3
         1 002106   000100 101500                    MRL     fill='000'O
         1 002107   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 002110   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 002111   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 002112   000001 622011                    EAX2    1,X1
         1 002113   000100 100540                    MLR     fill='000'O
         1 002114   400000 000012                    ADSC9   0,,PR4                   cn=0,n=*X2
         1 002115   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

      622     8556    4                    CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   8556  1 002116   200033 236100                    LDQ     TEXTC,,AUTO
         1 002117   000033 772000                    QRL     27
         1 002120   000000 621006                    EAX1    0,QL
         1 002121   000100 305540                    DTB
         1 002122   200033 230011                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X1
         1 002123   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

      623     8557    5                    IF TEMP > NI_IOMS-1 THEN DO;

   8557  1 002124   200024 236100                    LDQ     TEMP,,AUTO
         1 002125   000000 116000 xsym               CMPQ    NI_IOMS
         1 002126   002134 604000 1                  TMI     s:8562

      624     8558    5                       CALL ITE$ERROR(%E$IOM2BIG);

   8558  1 002127   000010 630400 2                  EPPR0   8
         1 002130   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 002131   000000 701000 xent               TSX1    ITE$ERROR
         1 002132   000000 011000                    NOP     0

      625     8559    5                       ALTRETURN;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:133  

   8559  1 002133   000000 702200 xent               TSX2  ! X66_AALT

      626     8560    5                       END;
      627     8561        /**/
      628     8562    4                    CMD$->IT$UNITDEV.IOMCHAN.IOM#(IOMCHAN#) = TEMP;

   8562  1 002134   000000 621006                    EAX1    0,QL
         1 002135   200004 473500                    LDP3    CMD$,,AUTO
         1 002136   200032 722100                    LXL2    IOMCHAN#,,AUTO
         1 002137   300006 441112                    SXL1    6,X2,PR3

      629     8563    4                    TEXTC = TEMP$->P$O.SUBLK$(1)->P$O.SUBLK$(0)

   8563  1 002140   100004 474500                    LDP4    4,,PR1
         1 002141   400003 475500                    LDP5    3,,PR4
         1 002142   000100 101500                    MRL     fill='000'O
         1 002143   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 002144   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 002145   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 002146   000001 623011                    EAX3    1,X1
         1 002147   000100 100540                    MLR     fill='000'O
         1 002150   500000 000013                    ADSC9   0,,PR5                   cn=0,n=*X3
         1 002151   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

      630     8564    4                      ->TEXT$C;
      631     8565    4                    CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   8565  1 002152   200033 236100                    LDQ     TEXTC,,AUTO
         1 002153   000033 772000                    QRL     27
         1 002154   000000 621006                    EAX1    0,QL
         1 002155   000100 305540                    DTB
         1 002156   200033 230011                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X1
         1 002157   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

      632     8566    4                    CALL ITH$CHECK_CHANNUM ( ,TEMP) ALTRET (CU_ALT);

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:134  
   8566  1 002160   200024 634500                    EPPR4   TEMP,,AUTO
         1 002161   200053 454500                    STP4    @FEATURE+3,,AUTO
         1 002162   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 002163   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 002164   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 002165   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 002166   000000 701000 xent               TSX1    ITH$CHECK_CHANNUM
         1 002167   001536 702000 1                  TSX2    CU_ALT

      633     8567        /**/
      634     8568    4                    CMD$->IT$UNITDEV.IOMCHAN.CHAN(IOMCHAN#) = TEMP;

   8568  1 002170   200024 720100                    LXL0    TEMP,,AUTO
         1 002171   200004 470500                    LDP0    CMD$,,AUTO
         1 002172   200032 721100                    LXL1    IOMCHAN#,,AUTO
         1 002173   000007 740111                    STX0    7,X1,PR0

      635     8569    4                    IOMCHAN# = 1;

   8569  1 002174   000001 235007                    LDA     1,DL
         1 002175   200032 755100                    STA     IOMCHAN#,,AUTO
         1 002176   002352 710000 1                  TRA     s:8619

      636     8570        /**/
      637     8571    4                  CASE(%ITS_STATUS);

      638     8572    4                    IF TEMP$->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN

   8572  1 002177   100003 473500                    LDP3    3,,PR1
         1 002200   300000 722100                    LXL2    0,,PR3
         1 002201   000002 102003                    CMPX2   2,DU
         1 002202   002352 601000 1                  TNZ     s:8619

      639     8573    4                       CMD$->IT$UNITDEV.FLAGS.DOWN = YES;

   8573  1 002203   200004 474500                    LDP4    CMD$,,AUTO
         1 002204   040000 236003                    LDQ     16384,DU
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:135  
         1 002205   400001 256100                    ORSQ    1,,PR4
         1 002206   002352 710000 1                  TRA     s:8619

      640     8574    4                  CASE(%ITS_IN);

      641     8575    4                    CMD$->IT$UNITDEV.FLAGS.INPUT = YES;

   8575  1 002207   200004 473500                    LDP3    CMD$,,AUTO
         1 002210   400000 236003                    LDQ     -131072,DU
         1 002211   300001 256100                    ORSQ    1,,PR3
         1 002212   002352 710000 1                  TRA     s:8619

      642     8576    4                  CASE(%ITS_OUT);

      643     8577    4                    CMD$->IT$UNITDEV.FLAGS.OUTPUT = YES;

   8577  1 002213   200004 473500                    LDP3    CMD$,,AUTO
         1 002214   200000 236003                    LDQ     65536,DU
         1 002215   300001 256100                    ORSQ    1,,PR3
         1 002216   002352 710000 1                  TRA     s:8619

      644     8578    4                  CASE(%ITS_SYMBIONT);

      645     8579    4                    CMD$->IT$UNITDEV.FLAGS.SYMBIONT = YES;

   8579  1 002217   200004 473500                    LDP3    CMD$,,AUTO
         1 002220   020000 236003                    LDQ     8192,DU
         1 002221   300001 256100                    ORSQ    1,,PR3
         1 002222   002352 710000 1                  TRA     s:8619

      646     8580    4                  CASE(%ITS_FORM);

      647     8581    4                    IF TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->

   8581  1 002223   100003 473500                    LDP3    3,,PR1
         1 002224   300003 474500                    LDP4    3,,PR3
         1 002225   000100 101500                    MRL     fill='000'O
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:136  
         1 002226   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 002227   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
         1 002230   200052 236100                    LDQ     @FEATURE+2,,AUTO
         1 002231   000007 116007                    CMPQ    7,DL
         1 002232   002240 604000 1                  TMI     s:8587

      648     8582    5                      TEXT$C.COUNT > 6 THEN DO;

      649     8583    5                       CALL ITE$ERROR(%E$6CHARFORM);

   8583  1 002233   000025 630400 2                  EPPR0   21
         1 002234   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 002235   000000 701000 xent               TSX1    ITE$ERROR
         1 002236   000000 011000                    NOP     0

      650     8584    5                       ALTRETURN;

   8584  1 002237   000000 702200 xent               TSX2  ! X66_AALT

      651     8585    5                       END;
      652     8586        /**/
      653     8587    4                    CMD$->IT$UNITDEV.FORMNAME = TEMP$->P$O.SUBLK$(0)->

   8587  1 002240   100003 473500                    LDP3    3,,PR1
         1 002241   300003 474500                    LDP4    3,,PR3
         1 002242   000100 101500                    MRL     fill='000'O
         1 002243   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 002244   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 002245   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 002246   200004 473500                    LDP3    CMD$,,AUTO
         1 002247   040100 100540                    MLR     fill='040'O
         1 002250   400000 200011                    ADSC9   0,,PR4                   cn=1,n=*X1
         1 002251   300005 000006                    ADSC9   5,,PR3                   cn=0,n=6
         1 002252   002352 710000 1                  TRA     s:8619

      654     8588    4                      P$O.SUBLK$(0)->TEXT$C.TEXT;
      655     8589    4                  CASE(%ITS_WSN);
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:137  

      656     8590    4                    IF TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->

   8590  1 002253   100003 473500                    LDP3    3,,PR1
         1 002254   300003 474500                    LDP4    3,,PR3
         1 002255   000100 101500                    MRL     fill='000'O
         1 002256   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 002257   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
         1 002260   200052 236100                    LDQ     @FEATURE+2,,AUTO
         1 002261   000011 116007                    CMPQ    9,DL
         1 002262   002270 604000 1                  TMI     s:8596

      657     8591    5                      TEXT$C.COUNT > 8 THEN DO;

      658     8592    5                       CALL ITE$ERROR(%E$8CHARWSN);

   8592  1 002263   000027 630400 2                  EPPR0   23
         1 002264   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 002265   000000 701000 xent               TSX1    ITE$ERROR
         1 002266   000000 011000                    NOP     0

      659     8593    5                       ALTRETURN;

   8593  1 002267   000000 702200 xent               TSX2  ! X66_AALT

      660     8594    5                       END;
      661     8595        /**/
      662     8596    4                    TEXTC.TEXT=TEMP$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->P$S.TEXT;

   8596  1 002270   100003 473500                    LDP3    3,,PR1
         1 002271   300003 474500                    LDP4    3,,PR3
         1 002272   400004 236100                    LDQ     4,,PR4
         1 002273   000033 772000                    QRL     27
         1 002274   000000 621006                    EAX1    0,QL
         1 002275   040100 100540                    MLR     fill='040'O
         1 002276   400004 200011                    ADSC9   4,,PR4                   cn=1,n=*X1
         1 002277   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:138  

      663     8597        /**/
      664     8598    4                    K = 0;

   8598  1 002300   200022 450100                    STZ     K,,AUTO

      665     8599    5                    DO WHILE K <= IT_WSNX AND

   8599  1 002301   002303 710000 1                  TRA     s:8602

      666     8600    5                      TEXTC.TEXT ~= IT_WSN.NAME(K);
      667     8601    5                       K = K+1;

   8601  1 002302   200022 054100                    AOS     K,,AUTO

      668     8602    5                       END;

   8602  1 002303   000000 236000 xsym               LDQ     IT_WSNX
         1 002304   002307 604000 1                  TMI     s:8602+4
         1 002305   200022 116100                    CMPQ    K,,AUTO
         1 002306   002315 604000 1                  TMI     s:8604
         1 002307   200022 235100                    LDA     K,,AUTO
         1 002310   000003 735000                    ALS     3
         1 002311   040005 106500                    CMPC    fill='040'O
         1 002312   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
         1 002313   000000 000010 xsym               ADSC9   IT_WSN,A                 cn=0,n=8
         1 002314   002302 601000 1                  TNZ     s:8601

      669     8603        /**/
      670     8604    4                    IF K <= IT_WSNX THEN

   8604  1 002315   000000 116003                    CMPQ    0,DU
         1 002316   002321 604000 1                  TMI     s:8605
         1 002317   200022 116100                    CMPQ    K,,AUTO
         1 002320   002326 604000 1                  TMI     s:8608

      671     8605    4                       CALL BINCHAR(CMD$->IT$UNITDEV.NM.BLANKS,K);
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:139  

   8605  1 002321   200004 470500                    LDP0    CMD$,,AUTO
         1 002322   000100 301500                    BTD
         1 002323   200022 000004                    NDSC9   K,,AUTO                  cn=0,s=lsgnf,sf=0,n=4
         1 002324   000003 030004                    NDSC9   3,,PR0                   cn=0,s=nosgn,sf=0,n=4
         1 002325   002352 710000 1                  TRA     s:8619

      672     8606        /**/
      673     8607    5                    ELSE DO;

      674     8608    6                       IF IT_WSNX < %MAX_WSN - 1 THEN DO;

   8608  1 002326   000003 116007                    CMPQ    3,DL
         1 002327   002345 603000 1                  TRC     s:8614

      675     8609    6                          IT_WSNX = IT_WSNX+1;

   8609  1 002330   000001 036007                    ADLQ    1,DL
         1 002331   000000 756000 xsym               STQ     IT_WSNX

      676     8610    6                          IT_WSN.NAME(IT_WSNX) = TEXTC.TEXT;

   8610  1 002332   000000 235000 xsym               LDA     IT_WSNX
         1 002333   000001 735000                    ALS     1
         1 002334   000002 735000                    ALS     2
         1 002335   040005 100500                    MLR     fill='040'O
         1 002336   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
         1 002337   000000 000010 xsym               ADSC9   IT_WSN,A                 cn=0,n=8

      677     8611    6                          CALL BINCHAR(CMD$->IT$UNITDEV.NM.BLANKS,K);

   8611  1 002340   200004 470500                    LDP0    CMD$,,AUTO
         1 002341   000100 301500                    BTD
         1 002342   200022 000004                    NDSC9   K,,AUTO                  cn=0,s=lsgnf,sf=0,n=4
         1 002343   000003 030004                    NDSC9   3,,PR0                   cn=0,s=nosgn,sf=0,n=4

      678     8612    6                          END;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:140  

   8612  1 002344   002352 710000 1                  TRA     s:8619

      679     8613    6                       ELSE DO;

      680     8614    6                          CALL ITE$ERROR(%E$4WSNMAX);

   8614  1 002345   000031 630400 2                  EPPR0   25
         1 002346   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 002347   000000 701000 xent               TSX1    ITE$ERROR
         1 002350   000000 011000                    NOP     0

      681     8615    6                          ALTRETURN;

   8615  1 002351   000000 702200 xent               TSX2  ! X66_AALT

      682     8616    6                          END;
      683     8617    5                       END;
      684     8618    4                  END;

      685     8619    3                 END;

   8619  1 002352   200021 054100                    AOS     J,,AUTO
         1 002353   200007 470500                    LDP0    BLK$,,AUTO
         1 002354   000001 236100                    LDQ     1,,PR0
         1 002355   000022 772000                    QRL     18
         1 002356   200021 116100                    CMPQ    J,,AUTO
         1 002357   001605 605400 1                  TPNZ    s:8490

      686     8620    2              END;

   8620  1 002360   200020 054100                    AOS     I,,AUTO
         1 002361   200003 470500                    LDP0    @PCB,,AUTO
         1 002362   000003 471500                    LDP1    3,,PR0
         1 002363   100001 236100                    LDQ     1,,PR1
         1 002364   000022 772000                    QRL     18
         1 002365   200020 116100                    CMPQ    I,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:141  
         1 002366   001542 605400 1                  TPNZ    s:8477

      687     8621    1           CMD$ = PINCRW(CMD$,SIZEW(IT$UNITDEV));

   8621  1 002367   200004 236100                    LDQ     CMD$,,AUTO
         1 002370   000015 036003                    ADLQ    13,DU
         1 002371   200004 756100                    STQ     CMD$,,AUTO

      688     8622    1           CMD$->IT$CMDWD = %ITS_ENDCMD;

   8622  1 002372   000145 235007                    LDA     101,DL
         1 002373   200004 473500                    LDP3    CMD$,,AUTO
         1 002374   300000 755100                    STA     0,,PR3

      689     8623    1           RETURN;

   8623  1 002375   000000 702200 xent               TSX2  ! X66_ARET

      690     8624        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:142  
      691     8625        /*D*    NAME: ITC$CHECK_AP
      692     8626                PURPOSE: ITC$CHECK_AP checks the syntax for the Array Processor
      693     8627                         command.
      694     8628                DESCRIPTION: ITC$CHECK_AP uses the parser output to build the
      695     8629                             IT$APC structure while at the same time verifying
      696     8630                             the output.
      697     8631        */
      698     8632    1   ITC$CHECK_AP: ENTRY(PCB) ALTRET;

   8632  1 002376   000000 700200 xent  ITC$CHECK_AP TSX0  ! X66_AUTO_1
         1 002377   000056 000001                    ZERO    46,1

      699     8633        /**/
      700     8634    1           CMD$ = B$DS5$;

   8634  1 002400   000000 236000 xsym               LDQ     B$DS5$
         1 002401   200004 756100                    STQ     CMD$,,AUTO

      701     8635    1           CMD$->IT$CMDWD = %ITS_AP;

   8635  1 002402   000015 235007                    LDA     13,DL
         1 002403   200004 470500                    LDP0    CMD$,,AUTO
         1 002404   000000 755100                    STA     0,,PR0

      702     8636        /**/
      703     8637    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CMDWD));

   8637  1 002405   000001 036003                    ADLQ    1,DU
         1 002406   200004 756100                    STQ     CMD$,,AUTO

      704     8638    1           CTLR$ = CMD$;

   8638  1 002407   200005 756100                    STQ     CTLR$,,AUTO

      705     8639    1           CMD$ = PINCRW(CMD$,SIZEW(IT$APC));

   8639  1 002410   000010 036003                    ADLQ    8,DU
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:143  
         1 002411   200004 756100                    STQ     CMD$,,AUTO

      706     8640        /**/
      707     8641    1           CTLR$->IT$APC = NO;

   8641  1 002412   200005 470500                    LDP0    CTLR$,,AUTO
         1 002413   000100 100400                    MLR     fill='000'O
         1 002414   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 002415   000000 000040                    ADSC9   0,,PR0                   cn=0,n=32

      708     8642    1           CTLR$->IT$APC.CNTWD = APC_CNTWD;

   8642  1 002416   000043 236000 0                  LDQ     APC_CNTWD
         1 002417   000000 756100                    STQ     0,,PR0

      709     8643
      710     8644    1           BLK$=PCB.OUT$;

   8644  1 002420   200003 471500                    LDP1    @PCB,,AUTO
         1 002421   100003 236100                    LDQ     3,,PR1
         1 002422   200007 756100                    STQ     BLK$,,AUTO

      711     8645    2           DO J=0 TO BLK$->P$O.NSUBLKS-1;

   8645  1 002423   200021 450100                    STZ     J,,AUTO
         1 002424   003142 710000 1                  TRA     s:8736+1

      712     8646    2              TEMP$=BLK$->P$O.SUBLK$(J);

   8646  1 002425   200007 470500                    LDP0    BLK$,,AUTO
         1 002426   200021 720100                    LXL0    J,,AUTO
         1 002427   000003 236110                    LDQ     3,X0,PR0
         1 002430   200010 756100                    STQ     TEMP$,,AUTO

      713     8647    3              DO CASE(TEMP$->P$O.CODE);

   8647  1 002431   200010 471500                    LDP1    TEMP$,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:144  
         1 002432   100000 721100                    LXL1    0,,PR1
         1 002433   000006 101003                    CMPX1   6,DU
         1 002434   002436 602011 1                  TNC     s:8647+5,X1
         1 002435   003141 710000 1                  TRA     s:8736
         1 002436   003141 710000 1                  TRA     s:8736
         1 002437   002444 710000 1                  TRA     s:8649
         1 002440   002506 710000 1                  TRA     s:8656
         1 002441   002566 710000 1                  TRA     s:8667
         1 002442   002635 710000 1                  TRA     s:8678
         1 002443   002645 710000 1                  TRA     s:8681

      714     8648    3               CASE(%ITS_APCNAME);

      715     8649    4                 IF TEMP$->P$O.SUBLK$(0)->P$S.COUNT ~= 2 THEN DO;

   8649  1 002444   100003 473500                    LDP3    3,,PR1
         1 002445   300004 236100                    LDQ     4,,PR3
         1 002446   777000 376003                    ANQ     -512,DU
         1 002447   002000 116003                    CMPQ    1024,DU
         1 002450   002456 600000 1                  TZE     s:8653

      716     8650    4                    CALL ITE$ERROR(%E$2CHARDEV#);

   8650  1 002451   000001 630400 2                  EPPR0   1
         1 002452   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 002453   000000 701000 xent               TSX1    ITE$ERROR
         1 002454   000000 011000                    NOP     0

      717     8651    4                    ALTRETURN;

   8651  1 002455   000000 702200 xent               TSX2  ! X66_AALT

      718     8652    4                    END;
      719     8653    3                CALL CONCAT(CTLR$->IT$APC.APCNAME,'AC',TEMP$->P$O.SUBLK$(0)->P$S.TEXT,
              8653                          IT_TXT_0000);

   8653  1 002456   300004 236100                    LDQ     4,,PR3
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:145  
         1 002457   000033 772000                    QRL     27
         1 002460   000067 222000 0                  LDX2    APDEV_CNTWD+19
         1 002461   200005 474500                    LDP4    CTLR$,,AUTO
         1 002462   400003 742100                    STX2    3,,PR4
         1 002463   000000 621006                    EAX1    0,QL
         1 002464   040100 100540                    MLR     fill='040'O
         1 002465   300004 200011                    ADSC9   4,,PR3                   cn=1,n=*X1
         1 002466   400003 400006                    ADSC9   3,,PR4                   cn=2,n=6
         1 002467   000006 116007                    CMPQ    6,DL
         1 002470   002476 603000 1                  TRC     s:8654
         1 002471   777771 621006                    EAX1    -7,QL
         1 002472   777777 661003                    ERX1    -1,DU
         1 002473   040146 100400                    MLR     fill='040'O
         1 002474   000000 000004 xsym               ADSC9   IT_TXT_0000              cn=0,n=4
         1 002475   400003 400011                    ADSC9   3,Q,PR4                  cn=2,n=*X1

      720     8654    3                 CALL ITH$CHECK_DEVNAME (CTLR$->IT$APC.APCNAME, ) ALTRET (CA_ALT);

   8654  1 002476   200005 236100                    LDQ     CTLR$,,AUTO
         1 002477   000003 036003                    ADLQ    3,DU
         1 002500   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 002501   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 002502   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 002503   000000 701000 xent               TSX1    ITH$CHECK_DEVNAME
         1 002504   003153 702000 1                  TSX2    CA_ALT
         1 002505   003141 710000 1                  TRA     s:8736

      721     8655    3               CASE(%ITS_APCMODEL);

      722     8656    3                 TEXTC.COUNT=TEMP$->P$O.SUBLK$(0)->P$S.COUNT;

   8656  1 002506   100003 473500                    LDP3    3,,PR1
         1 002507   300004 236100                    LDQ     4,,PR3
         1 002510   200033 552140                    STBQ    TEXTC,'40'O,AUTO

      723     8657    3                 TEXTC.TEXT=TEMP$->P$O.SUBLK$(0)->P$S.TEXT;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:146  
   8657  1 002511   100003 473500                    LDP3    3,,PR1
         1 002512   300004 236100                    LDQ     4,,PR3
         1 002513   000033 772000                    QRL     27
         1 002514   000000 621006                    EAX1    0,QL
         1 002515   040100 100540                    MLR     fill='040'O
         1 002516   300004 200011                    ADSC9   4,,PR3                   cn=1,n=*X1
         1 002517   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

      724     8658    3                 CALL CONCAT(FTEXTC.TEXT,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT),'C');

   8658  1 002520   200033 236100                    LDQ     TEXTC,,AUTO
         1 002521   000033 772000                    QRL     27
         1 002522   000000 621006                    EAX1    0,QL
         1 002523   040100 100540                    MLR     fill='040'O
         1 002524   200033 200011                    ADSC9   TEXTC,,AUTO              cn=1,n=*X1
         1 002525   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8
         1 002526   000010 116007                    CMPQ    8,DL
         1 002527   002535 603000 1                  TRC     s:8659
         1 002530   777767 621006                    EAX1    -9,QL
         1 002531   777777 661003                    ERX1    -1,DU
         1 002532   040146 100400                    MLR     fill='040'O
         1 002533   000032 000001 2                  ADSC9   26                       cn=0,n=1
         1 002534   200036 200011                    ADSC9   FTEXTC,Q,AUTO            cn=1,n=*X1

      725     8659    3                 FTEXTC.COUNT=MINIMUM(TEXTC.COUNT+1,8);

   8659  1 002535   200033 236100                    LDQ     TEXTC,,AUTO
         1 002536   000033 772000                    QRL     27
         1 002537   000001 036007                    ADLQ    1,DL
         1 002540   000010 116007                    CMPQ    8,DL
         1 002541   002544 602000 1                  TNC     s:8659+7
         1 002542   002544 600000 1                  TZE     s:8659+7
         1 002543   000010 236007                    LDQ     8,DL
         1 002544   000033 736000                    QLS     27
         1 002545   200036 552140                    STBQ    FTEXTC,'40'O,AUTO

      726     8660    4                 CALL GET_TYPE(FTEXTC) WHENALTRETURN DO;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:147  

   8660  1 002546   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 002547   200050 756100                    STQ     @MODEL+1,,AUTO
         1 002550   200036 633500                    EPPR3   FTEXTC,,AUTO
         1 002551   200047 453500                    STP3    @DEVNAME+3,,AUTO
         1 002552   007526 701000 1                  TSX1    GET_TYPE
         1 002553   002555 702000 1                  TSX2    s:8661
         1 002554   002556 710000 1                  TRA     s:8663

      727     8661    4                    ALTRETURN;

   8661  1 002555   000000 702200 xent               TSX2  ! X66_AALT

      728     8662    4                    END;
      729     8663    3                 CTLR$->IT$APC.APCTYPE=DVTX;

   8663  1 002556   200025 720100                    LXL0    DVTX,,AUTO
         1 002557   200005 470500                    LDP0    CTLR$,,AUTO
         1 002560   000001 740100                    STX0    1,,PR0

      730     8664    3                 CTLR$->IT$APC.MODX=MODX;

   8664  1 002561   200026 721100                    LXL1    MODX,,AUTO
         1 002562   000001 441100                    SXL1    1,,PR0

      731     8665    3                 CTLR$->IT$APC.FX=FX;

   8665  1 002563   200027 722100                    LXL2    FX,,AUTO
         1 002564   000002 742100                    STX2    2,,PR0
         1 002565   003141 710000 1                  TRA     s:8736

      732     8666    3               CASE(%ITS_IOMCHAN);

      733     8667    3                 CALL CHARBIN(TEMP,TEMP$->P$O.SUBLK$(0)->P$S.TEXT);

   8667  1 002566   100003 473500                    LDP3    3,,PR1
         1 002567   300004 236100                    LDQ     4,,PR3
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:148  
         1 002570   000033 772000                    QRL     27
         1 002571   000000 622006                    EAX2    0,QL
         1 002572   000100 305540                    DTB
         1 002573   300004 230012                    NDSC9   4,,PR3                   cn=1,s=nosgn,sf=0,n=*X2
         1 002574   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

      734     8668    4                 IF TEMP > NI_IOMS-1 THEN DO;

   8668  1 002575   200024 236100                    LDQ     TEMP,,AUTO
         1 002576   000000 116000 xsym               CMPQ    NI_IOMS
         1 002577   002605 604000 1                  TMI     s:8672

      735     8669    4                    CALL ITE$ERROR(%E$IOM2BIG);

   8669  1 002600   000010 630400 2                  EPPR0   8
         1 002601   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 002602   000000 701000 xent               TSX1    ITE$ERROR
         1 002603   000000 011000                    NOP     0

      736     8670    4                    ALTRETURN;

   8670  1 002604   000000 702200 xent               TSX2  ! X66_AALT

      737     8671    4                    END;
      738     8672    3                 CTLR$->IT$APC.IOM#=TEMP;

   8672  1 002605   000000 621006                    EAX1    0,QL
         1 002606   200005 473500                    LDP3    CTLR$,,AUTO
         1 002607   300006 741100                    STX1    6,,PR3

      739     8673    3                 CALL CHARBIN(TEMP,TEMP$->P$O.SUBLK$(1)->P$S.TEXT);

   8673  1 002610   100004 474500                    LDP4    4,,PR1
         1 002611   400004 236100                    LDQ     4,,PR4
         1 002612   000033 772000                    QRL     27
         1 002613   000000 622006                    EAX2    0,QL
         1 002614   000100 305540                    DTB
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:149  
         1 002615   400004 230012                    NDSC9   4,,PR4                   cn=1,s=nosgn,sf=0,n=*X2
         1 002616   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

      740     8674    3                 CALL ITH$CHECK_CHANNUM ( ,TEMP) ALTRET (CA_ALT);

   8674  1 002617   200024 634500                    EPPR4   TEMP,,AUTO
         1 002620   200053 454500                    STP4    @FEATURE+3,,AUTO
         1 002621   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 002622   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 002623   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 002624   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 002625   000000 701000 xent               TSX1    ITH$CHECK_CHANNUM
         1 002626   003153 702000 1                  TSX2    CA_ALT

      741     8675    3                 CTLR$->IT$APC.LO_CHAN=TEMP;

   8675  1 002627   200024 720100                    LXL0    TEMP,,AUTO
         1 002630   200005 470500                    LDP0    CTLR$,,AUTO
         1 002631   000006 440100                    SXL0    6,,PR0

      742     8676    3                 CTLR$->IT$APC.HI_CHAN=TEMP;

   8676  1 002632   200024 721100                    LXL1    TEMP,,AUTO
         1 002633   000007 741100                    STX1    7,,PR0
         1 002634   003141 710000 1                  TRA     s:8736

      743     8677    3               CASE(%ITS_STATUS);

      744     8678    3                 IF TEMP$->P$O.SUBLK$(0)->P$O.CODE=%ITS_DOWN THEN

   8678  1 002635   100003 473500                    LDP3    3,,PR1
         1 002636   300000 722100                    LXL2    0,,PR3
         1 002637   000002 102003                    CMPX2   2,DU
         1 002640   003141 601000 1                  TNZ     s:8736

      745     8679    3                    CTLR$->IT$APC.FLAGS.DOWN=YES;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:150  
   8679  1 002641   200005 474500                    LDP4    CTLR$,,AUTO
         1 002642   400000 236003                    LDQ     -131072,DU
         1 002643   400005 256100                    ORSQ    5,,PR4
         1 002644   003141 710000 1                  TRA     s:8736

      746     8680    3               CASE(%ITS_APDEV);

      747     8681    3                 DEV$=CMD$;

   8681  1 002645   200004 236100                    LDQ     CMD$,,AUTO
         1 002646   200006 756100                    STQ     DEV$,,AUTO

      748     8682    3                 CMD$=PINCRW(CMD$,SIZEW(IT$APDEV));

   8682  1 002647   000007 036003                    ADLQ    7,DU
         1 002650   200004 756100                    STQ     CMD$,,AUTO

      749     8683    3                 DEV$->IT$APDEV=NO;

   8683  1 002651   200006 473500                    LDP3    DEV$,,AUTO
         1 002652   000100 100400                    MLR     fill='000'O
         1 002653   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 002654   300000 000034                    ADSC9   0,,PR3                   cn=0,n=28

      750     8684    3                 DEV$->IT$APDEV.CNTWD=APDEV_CNTWD;

   8684  1 002655   000044 236000 0                  LDQ     APDEV_CNTWD
         1 002656   300000 756100                    STQ     0,,PR3

      751     8685    3                 DEV$->IT$APDEV.FLAGS.DOWN = CTLR$->IT$APC.FLAGS.DOWN;

   8685  1 002657   200005 474500                    LDP4    CTLR$,,AUTO
         1 002660   400005 236100                    LDQ     5,,PR4
         1 002661   300001 676100                    ERQ     1,,PR3
         1 002662   400000 376003                    ANQ     -131072,DU
         1 002663   300001 656100                    ERSQ    1,,PR3

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:151  
      752     8686    4                 CALL GET_TYPE(TEXTC) WHENALTRETURN DO;

   8686  1 002664   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 002665   200050 756100                    STQ     @MODEL+1,,AUTO
         1 002666   200033 635500                    EPPR5   TEXTC,,AUTO
         1 002667   200047 455500                    STP5    @DEVNAME+3,,AUTO
         1 002670   007526 701000 1                  TSX1    GET_TYPE
         1 002671   002673 702000 1                  TSX2    s:8687
         1 002672   002674 710000 1                  TRA     s:8689

      753     8687    4                    ALTRETURN;

   8687  1 002673   000000 702200 xent               TSX2  ! X66_AALT

      754     8688    4                    END;
      755     8689    3                 DEV$->IT$APDEV.TYPE=DVTX;

   8689  1 002674   200006 470500                    LDP0    DEV$,,AUTO
         1 002675   200025 236100                    LDQ     DVTX,,AUTO
         1 002676   000033 736000                    QLS     27
         1 002677   000004 552140                    STBQ    4,'40'O,PR0

      756     8690    3                 DEV$->IT$APDEV.MODX=MODX;

   8690  1 002700   200026 236100                    LDQ     MODX,,AUTO
         1 002701   000022 736000                    QLS     18
         1 002702   000004 552120                    STBQ    4,'20'O,PR0

      757     8691    3                 DEV$->IT$APDEV.FX=FX;

   8691  1 002703   200027 236100                    LDQ     FX,,AUTO
         1 002704   000011 736000                    QLS     9
         1 002705   000004 552110                    STBQ    4,'10'O,PR0

      758     8692
      759     8693    4                 DO I=0 TO TEMP$->P$O.NSUBLKS-1;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:152  
   8693  1 002706   200020 450100                    STZ     I,,AUTO
         1 002707   003134 710000 1                  TRA     s:8734+1

      760     8694    4                    DVBLK$=TEMP$->P$O.SUBLK$(I);

   8694  1 002710   200010 470500                    LDP0    TEMP$,,AUTO
         1 002711   200020 720100                    LXL0    I,,AUTO
         1 002712   000003 236110                    LDQ     3,X0,PR0
         1 002713   200012 756100                    STQ     DVBLK$,,AUTO

      761     8695    5                    DO CASE(DVBLK$->P$O.CODE);

   8695  1 002714   200012 471500                    LDP1    DVBLK$,,AUTO
         1 002715   100000 721100                    LXL1    0,,PR1
         1 002716   000004 101003                    CMPX1   4,DU
         1 002717   002721 602011 1                  TNC     s:8695+5,X1
         1 002720   003133 710000 1                  TRA     s:8734
         1 002721   003133 710000 1                  TRA     s:8734
         1 002722   002725 710000 1                  TRA     s:8697
         1 002723   002767 710000 1                  TRA     s:8704
         1 002724   003033 710000 1                  TRA     s:8714

      762     8696    5                     CASE(%ITS_APNAME);

      763     8697    6                       IF DVBLK$->P$O.SUBLK$(0)->P$S.COUNT ~= 2 THEN DO;

   8697  1 002725   100003 473500                    LDP3    3,,PR1
         1 002726   300004 236100                    LDQ     4,,PR3
         1 002727   777000 376003                    ANQ     -512,DU
         1 002730   002000 116003                    CMPQ    1024,DU
         1 002731   002737 600000 1                  TZE     s:8701

      764     8698    6                          CALL ITE$ERROR(%E$2CHARDEV#);

   8698  1 002732   000001 630400 2                  EPPR0   1
         1 002733   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 002734   000000 701000 xent               TSX1    ITE$ERROR
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:153  
         1 002735   000000 011000                    NOP     0

      765     8699    6                          ALTRETURN;

   8699  1 002736   000000 702200 xent               TSX2  ! X66_AALT

      766     8700    6                          END;
      767     8701    5                      CALL CONCAT(DEV$->IT$APDEV.NAME,'AP',DVBLK$->P$O.SUBLK$(0)->P$S.
              8701                                TEXT,IT_TXT_0000);

   8701  1 002737   300004 236100                    LDQ     4,,PR3
         1 002740   000033 772000                    QRL     27
         1 002741   000070 222000 0                  LDX2    APDEV_CNTWD+20
         1 002742   200006 474500                    LDP4    DEV$,,AUTO
         1 002743   400002 742100                    STX2    2,,PR4
         1 002744   000000 621006                    EAX1    0,QL
         1 002745   040100 100540                    MLR     fill='040'O
         1 002746   300004 200011                    ADSC9   4,,PR3                   cn=1,n=*X1
         1 002747   400002 400006                    ADSC9   2,,PR4                   cn=2,n=6
         1 002750   000006 116007                    CMPQ    6,DL
         1 002751   002757 603000 1                  TRC     s:8702
         1 002752   777771 621006                    EAX1    -7,QL
         1 002753   777777 661003                    ERX1    -1,DU
         1 002754   040146 100400                    MLR     fill='040'O
         1 002755   000000 000004 xsym               ADSC9   IT_TXT_0000              cn=0,n=4
         1 002756   400002 400011                    ADSC9   2,Q,PR4                  cn=2,n=*X1

      768     8702    5                       CALL ITH$CHECK_DEVNAME (DEV$->IT$APDEV.NAME, ) ALTRET (CA_ALT);

   8702  1 002757   200006 236100                    LDQ     DEV$,,AUTO
         1 002760   000002 036003                    ADLQ    2,DU
         1 002761   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 002762   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 002763   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 002764   000000 701000 xent               TSX1    ITH$CHECK_DEVNAME
         1 002765   003153 702000 1                  TSX2    CA_ALT
         1 002766   003133 710000 1                  TRA     s:8734
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:154  

      769     8703    5                     CASE(%ITS_CHAN);

      770     8704    5                       DEV$->IT$APDEV.IOM#=CTLR$->IT$APC.IOM#;

   8704  1 002767   200005 473500                    LDP3    CTLR$,,AUTO
         1 002770   300006 222100                    LDX2    6,,PR3
         1 002771   200006 474500                    LDP4    DEV$,,AUTO
         1 002772   400006 742100                    STX2    6,,PR4

      771     8705    5                       CALL CHARBIN(TEMP,DVBLK$->P$O.SUBLK$(0)->P$S.TEXT);

   8705  1 002773   100003 475500                    LDP5    3,,PR1
         1 002774   500004 236100                    LDQ     4,,PR5
         1 002775   000033 772000                    QRL     27
         1 002776   000000 621006                    EAX1    0,QL
         1 002777   000100 305540                    DTB
         1 003000   500004 230011                    NDSC9   4,,PR5                   cn=1,s=nosgn,sf=0,n=*X1
         1 003001   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

      772     8706    5                       CALL ITH$CHECK_CHANNUM ( ,TEMP) ALTRET (CA_ALT);

   8706  1 003002   200024 635500                    EPPR5   TEMP,,AUTO
         1 003003   200053 455500                    STP5    @FEATURE+3,,AUTO
         1 003004   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 003005   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 003006   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 003007   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 003010   000000 701000 xent               TSX1    ITH$CHECK_CHANNUM
         1 003011   003153 702000 1                  TSX2    CA_ALT

      773     8707    5                       CTLR$->IT$APC.HI_CHAN=CTLR$->IT$APC.HI_CHAN+1;

   8707  1 003012   200005 470500                    LDP0    CTLR$,,AUTO
         1 003013   000007 220100                    LDX0    7,,PR0
         1 003014   000001 621010                    EAX1    1,X0
         1 003015   000007 741100                    STX1    7,,PR0
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:155  

      774     8708    6                       IF TEMP ~= CTLR$->IT$APC.HI_CHAN THEN DO;

   8708  1 003016   000007 236100                    LDQ     7,,PR0
         1 003017   000022 772000                    QRL     18
         1 003020   200024 116100                    CMPQ    TEMP,,AUTO
         1 003021   003027 600000 1                  TZE     s:8712

      775     8709    6                          CALL ITE$ERROR(%E$CONSECCHANS);

   8709  1 003022   000034 630400 2                  EPPR0   28
         1 003023   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 003024   000000 701000 xent               TSX1    ITE$ERROR
         1 003025   000000 011000                    NOP     0

      776     8710    6                          ALTRETURN;

   8710  1 003026   000000 702200 xent               TSX2  ! X66_AALT

      777     8711    6                          END;
      778     8712    5                       DEV$->IT$APDEV.CHAN=TEMP;

   8712  1 003027   200024 720100                    LXL0    TEMP,,AUTO
         1 003030   200006 471500                    LDP1    DEV$,,AUTO
         1 003031   100006 440100                    SXL0    6,,PR1
         1 003032   003133 710000 1                  TRA     s:8734

      779     8713    5                     CASE(%ITS_APOPTSLIST);

      780     8714    6                       DO K=0 TO DVBLK$->P$O.NSUBLKS-1;

   8714  1 003033   200022 450100                    STZ     K,,AUTO
         1 003034   003126 710000 1                  TRA     s:8732+1

      781     8715    6                          OPT$=DVBLK$->P$O.SUBLK$(K);

   8715  1 003035   200012 470500                    LDP0    DVBLK$,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:156  
         1 003036   200022 720100                    LXL0    K,,AUTO
         1 003037   000003 236110                    LDQ     3,X0,PR0
         1 003040   200011 756100                    STQ     OPT$,,AUTO

      782     8716    7                          DO CASE(OPT$->P$O.CODE);

   8716  1 003041   200011 471500                    LDP1    OPT$,,AUTO
         1 003042   100000 721100                    LXL1    0,,PR1
         1 003043   000005 101003                    CMPX1   5,DU
         1 003044   003046 602011 1                  TNC     s:8716+5,X1
         1 003045   003125 710000 1                  TRA     s:8732
         1 003046   003125 710000 1                  TRA     s:8732
         1 003047   003053 710000 1                  TRA     s:8718
         1 003050   003060 710000 1                  TRA     s:8720
         1 003051   003125 710000 1                  TRA     s:8732
         1 003052   003120 710000 1                  TRA     s:8729

      783     8717    7                           CASE(%ITS_AP_SJE);

      784     8718    7                             DEV$->IT$APDEV.ATTR=DEV$->IT$APDEV.ATTR | %ATTR_AP_SJE;

   8718  1 003053   200006 473500                    LDP3    DEV$,,AUTO
         1 003054   300005 222100                    LDX2    5,,PR3
         1 003055   400000 262003                    ORX2    -131072,DU
         1 003056   300005 742100                    STX2    5,,PR3
         1 003057   003125 710000 1                  TRA     s:8732

      785     8719    7                           CASE(%ITS_AP_MEM);

      786     8720    7                             CALL CHARBIN(TEMP,OPT$->P$O.SUBLK$(0)->P$S.TEXT);

   8720  1 003060   100003 473500                    LDP3    3,,PR1
         1 003061   300004 236100                    LDQ     4,,PR3
         1 003062   000033 772000                    QRL     27
         1 003063   000000 622006                    EAX2    0,QL
         1 003064   000100 305540                    DTB
         1 003065   300004 230012                    NDSC9   4,,PR3                   cn=1,s=nosgn,sf=0,n=*X2
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:157  
         1 003066   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

      787     8721    7                             TEMP=TEMP/128;

   8721  1 003067   200024 236100                    LDQ     TEMP,,AUTO
         1 003070   000200 506007                    DIV     128,DL
         1 003071   200024 756100                    STQ     TEMP,,AUTO

      788     8722    7                             L=1;

   8722  1 003072   000001 235007                    LDA     1,DL
         1 003073   200023 755100                    STA     L,,AUTO

      789     8723    8                             DO WHILE(TEMP>1 AND L < %BITBIN('377'O));

   8723  1 003074   003104 710000 1                  TRA     s:8726

      790     8724    8                                TEMP=TEMP/2;

   8724  1 003075   200024 236100                    LDQ     TEMP,,AUTO
         1 003076   000002 506007                    DIV     2,DL
         1 003077   200024 756100                    STQ     TEMP,,AUTO

      791     8725    8                                L=L*2+1;

   8725  1 003100   200023 235100                    LDA     L,,AUTO
         1 003101   000001 735000                    ALS     1
         1 003102   000001 035007                    ADLA    1,DL
         1 003103   200023 755100                    STA     L,,AUTO

      792     8726    8                                END;

   8726  1 003104   000001 116007                    CMPQ    1,DL
         1 003105   003110 604400 1                  TMOZ    s:8727
         1 003106   000377 115007                    CMPA    255,DL
         1 003107   003075 604000 1                  TMI     s:8724

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:158  
      793     8727    7                             DEV$->IT$APDEV.ATTR=DEV$->IT$APDEV.ATTR | BINBIT(L,18);

   8727  1 003110   200023 236100                    LDQ     L,,AUTO
         1 003111   000022 736000                    QLS     18
         1 003112   000022 772000                    QRL     18
         1 003113   000000 620006                    EAX0    0,QL
         1 003114   200006 470500                    LDP0    DEV$,,AUTO
         1 003115   000005 260100                    ORX0    5,,PR0
         1 003116   000005 740100                    STX0    5,,PR0
         1 003117   003125 710000 1                  TRA     s:8732

      794     8728    7                           CASE(%ITS_STATUS);

      795     8729    7                             IF OPT$->P$O.CODE=%ITS_DOWN THEN

   8729  1 003120   000002 101003                    CMPX1   2,DU
         1 003121   003125 601000 1                  TNZ     s:8732

      796     8730    7                                DEV$->IT$APDEV.FLAGS.DOWN=YES;

   8730  1 003122   200006 473500                    LDP3    DEV$,,AUTO
         1 003123   400000 236003                    LDQ     -131072,DU
         1 003124   300001 256100                    ORSQ    1,,PR3

      797     8731    7                           END;

      798     8732    6                          END;

   8732  1 003125   200022 054100                    AOS     K,,AUTO
         1 003126   200012 470500                    LDP0    DVBLK$,,AUTO
         1 003127   000001 236100                    LDQ     1,,PR0
         1 003130   000022 772000                    QRL     18
         1 003131   200022 116100                    CMPQ    K,,AUTO
         1 003132   003035 605400 1                  TPNZ    s:8715

      799     8733    5                     END;                  /* CASE DEVICE */

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:159  
      800     8734    4                    END;                   /* DO I */

   8734  1 003133   200020 054100                    AOS     I,,AUTO
         1 003134   200010 470500                    LDP0    TEMP$,,AUTO
         1 003135   000001 236100                    LDQ     1,,PR0
         1 003136   000022 772000                    QRL     18
         1 003137   200020 116100                    CMPQ    I,,AUTO
         1 003140   002710 605400 1                  TPNZ    s:8694

      801     8735    3               END;                        /* CASE ARRAY PROCESSOR */

      802     8736    2              END;                         /* DO J */

   8736  1 003141   200021 054100                    AOS     J,,AUTO
         1 003142   200007 470500                    LDP0    BLK$,,AUTO
         1 003143   000001 236100                    LDQ     1,,PR0
         1 003144   000022 772000                    QRL     18
         1 003145   200021 116100                    CMPQ    J,,AUTO
         1 003146   002425 605400 1                  TPNZ    s:8646

      803     8737
      804     8738
      805     8739        /**/
      806     8740    1           CMD$->IT$CMDWD = %ITS_ENDCMD;

   8740  1 003147   000145 235007                    LDA     101,DL
         1 003150   200004 471500                    LDP1    CMD$,,AUTO
         1 003151   100000 755100                    STA     0,,PR1

      807     8741    1           RETURN;

   8741  1 003152   000000 702200 xent               TSX2  ! X66_ARET

      808     8742    1   CA_ALT: ALTRETURN;

   8742  1 003153   000000 702200 xent  CA_ALT       TSX2  ! X66_AALT

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:160  
      809     8743        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:161  
      810     8744        /*D*     NAME:     ITC$CHECK_IOM
      811     8745                 PURPOSE:  ITC$CHECK_IOM checks the syntax for the IOM command
      812     8746                 DESCRIPTION: ITC$CHECK_IOM uses the IOM command to find out how
      813     8747                           IOMs have been configured on the system. IT uses this
      814     8748                           information to initialize the structure IT$IOM with the
      815     8749                           starting address for the mailboxex for each IOM and
      816     8750                           the starting address for the IOS(local device IO) packets
      817     8751        */
      818     8752        /**/
      819     8753    1   ITC$CHECK_IOM: ENTRY(PCB) ALTRET;

   8753  1 003154   000000 700200 xent  ITC$CHECK_I* TSX0  ! X66_AUTO_1
         1 003155   000056 000001                    ZERO    46,1

      820     8754        /**/
      821     8755    1           CMD$ =  B$DS5$;

   8755  1 003156   000000 236000 xsym               LDQ     B$DS5$
         1 003157   200004 756100                    STQ     CMD$,,AUTO

      822     8756        /**/
      823     8757    1           CMD$->IT$CMDWD = %ITS_IOM;

   8757  1 003160   000001 235007                    LDA     1,DL
         1 003161   200004 470500                    LDP0    CMD$,,AUTO
         1 003162   000000 755100                    STA     0,,PR0

      824     8758        /**/
      825     8759    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CMDWD));

   8759  1 003163   000001 036003                    ADLQ    1,DU
         1 003164   200004 756100                    STQ     CMD$,,AUTO

      826     8760        /**/
      827     8761    1           CMD$->IT$IOM = NO;

   8761  1 003165   200004 470500                    LDP0    CMD$,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:162  
         1 003166   000000 450100                    STZ     0,,PR0
         1 003167   000001 450100                    STZ     1,,PR0

      828     8762        /**/
      829     8763    2           IF NI_IOMS > 3 THEN DO;         /* FOUR IOMS MAX                      */

   8763  1 003170   000000 235000 xsym               LDA     NI_IOMS
         1 003171   000003 115007                    CMPA    3,DL
         1 003172   003200 604400 1                  TMOZ    s:8768

      830     8764    2              CALL ITE$ERROR(%E$4IOMMAX);

   8764  1 003173   000036 630400 2                  EPPR0   30
         1 003174   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 003175   000000 701000 xent               TSX1    ITE$ERROR
         1 003176   000000 011000                    NOP     0

      831     8765    2              ALTRETURN;

   8765  1 003177   000000 702200 xent               TSX2  ! X66_AALT

      832     8766    2              END;
      833     8767        /**/
      834     8768    1           TEXTC = PCB.OUT$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;

   8768  1 003200   200003 471500                    LDP1    @PCB,,AUTO
         1 003201   100003 473500                    LDP3    3,,PR1
         1 003202   300003 474500                    LDP4    3,,PR3
         1 003203   400003 475500                    LDP5    3,,PR4
         1 003204   000100 101500                    MRL     fill='000'O
         1 003205   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 003206   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 003207   200052 220100                    LDX0    @FEATURE+2,,AUTO
         1 003210   000001 621010                    EAX1    1,X0
         1 003211   000100 100540                    MLR     fill='000'O
         1 003212   500000 000011                    ADSC9   0,,PR5                   cn=0,n=*X1
         1 003213   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:163  

      835     8769        /**/
      836     8770    2           IF TEXTC.COUNT > 1 THEN DO;     /* 7 ports max                        */

   8770  1 003214   200033 236100                    LDQ     TEXTC,,AUTO
         1 003215   777000 376003                    ANQ     -512,DU
         1 003216   002000 116003                    CMPQ    1024,DU
         1 003217   003225 602000 1                  TNC     s:8775

      837     8771    2              CALL ITE$ERROR(%E$PORT#2BIG);

   8771  1 003220   000040 630400 2                  EPPR0   32
         1 003221   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 003222   000000 701000 xent               TSX1    ITE$ERROR
         1 003223   000000 011000                    NOP     0

      838     8772    2              ALTRETURN;

   8772  1 003224   000000 702200 xent               TSX2  ! X66_AALT

      839     8773    2              END;
      840     8774        /**/
      841     8775    1           CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   8775  1 003225   200033 236100                    LDQ     TEXTC,,AUTO
         1 003226   000033 772000                    QRL     27
         1 003227   000000 620006                    EAX0    0,QL
         1 003230   000100 305540                    DTB
         1 003231   200033 230010                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X0
         1 003232   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

      842     8776    1           CMD$->IT$IOM.PORT# = TEMP;

   8776  1 003233   200024 236100                    LDQ     TEMP,,AUTO
         1 003234   000000 756100                    STQ     0,,PR0

      843     8777        /**/
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:164  
      844     8778    1           CMD$->IT$IOM.DOWN# = NO;

   8778  1 003235   000001 450100                    STZ     1,,PR0

      845     8779    1           IF PCB.OUT$->P$O.NSUBLKS = 2 THEN

   8779  1 003236   100003 473500                    LDP3    3,,PR1
         1 003237   300001 220100                    LDX0    1,,PR3
         1 003240   000002 100003                    CMPX0   2,DU
         1 003241   003251 601000 1                  TNZ     s:8783

      846     8780    1              IF PCB.OUT$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN

   8780  1 003242   300004 474500                    LDP4    4,,PR3
         1 003243   400003 475500                    LDP5    3,,PR4
         1 003244   500000 721100                    LXL1    0,,PR5
         1 003245   000002 101003                    CMPX1   2,DU
         1 003246   003251 601000 1                  TNZ     s:8783

      847     8781    1                 CMD$->IT$IOM.DOWN# = YES;

   8781  1 003247   400000 236003                    LDQ     -131072,DU
         1 003250   000001 756100                    STQ     1,,PR0

      848     8782        /**/
      849     8783    1           CMD$ = PINCRW(CMD$,SIZEW(IT$IOM));

   8783  1 003251   200004 236100                    LDQ     CMD$,,AUTO
         1 003252   000002 036003                    ADLQ    2,DU
         1 003253   200004 756100                    STQ     CMD$,,AUTO

      850     8784    1           CMD$->IT$CMDWD = %ITS_ENDCMD;

   8784  1 003254   000145 235007                    LDA     101,DL
         1 003255   200004 470500                    LDP0    CMD$,,AUTO
         1 003256   000000 755100                    STA     0,,PR0

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:165  
      851     8785    1           RETURN;

   8785  1 003257   000000 702200 xent               TSX2  ! X66_ARET

      852     8786        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:166  
      853     8787        /*D*     NAME:     ITC$CHECK_CON
      854     8788                 PURPOSE:       ITC$CHECK_CON check the syntax of the TIGR
      855     8789                           CONSOLE command.
      856     8790                 DESCRIPTION: The values specified on the CONSOLE command are
      857     8791                           used to fill in the structure IT$CONSOLE. The device
      858     8792                           name and IOM  connection must be supplied and the
      859     8793                           device type index is looked up by GET_TYPE. CMD$ is set
      860     8794                           to point to the structure IT$CONSOLE.   */
      861     8795        /**/
      862     8796    1   ITC$CHECK_CON: ENTRY(PCB) ALTRET;

   8796  1 003260   000000 700200 xent  ITC$CHECK_C* TSX0  ! X66_AUTO_1
         1 003261   000056 000001                    ZERO    46,1

      863     8797        /**/
      864     8798    1           CMD$ = B$DS5$;

   8798  1 003262   000000 236000 xsym               LDQ     B$DS5$
         1 003263   200004 756100                    STQ     CMD$,,AUTO

      865     8799    1           CMD$->IT$CMDWD = %ITS_CONSOLE;

   8799  1 003264   000005 235007                    LDA     5,DL
         1 003265   200004 470500                    LDP0    CMD$,,AUTO
         1 003266   000000 755100                    STA     0,,PR0

      866     8800        /**/
      867     8801    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CMDWD));

   8801  1 003267   000001 036003                    ADLQ    1,DU
         1 003270   200004 756100                    STQ     CMD$,,AUTO

      868     8802        /**/
      869     8803    1           CMD$->IT$CONSOLE = NO;

   8803  1 003271   200004 470500                    LDP0    CMD$,,AUTO
         1 003272   000100 100400                    MLR     fill='000'O
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:167  
         1 003273   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 003274   000000 000230                    ADSC9   0,,PR0                   cn=0,n=152

      870     8804    1           CMD$->IT$CONSOLE.CNTWD = CONSOLE_CNTWD;

   8804  1 003275   000041 236000 0                  LDQ     CONSOLE_CNTWD
         1 003276   000000 756100                    STQ     0,,PR0

      871     8805    1           CMD$->IT$CONSOLE.OCINFO = OC_INFO;

   8805  1 003277   000100 100400                    MLR     fill='000'O
         1 003300   000000 000160 0                  ADSC9   OC_INFO                  cn=0,n=112
         1 003301   000010 000160                    ADSC9   8,,PR0                   cn=0,n=112

      872     8806        /**/
      873     8807    2           DO J = 0 TO PCB.OUT$->P$O.NSUBLKS -1;

   8807  1 003302   200021 450100                    STZ     J,,AUTO
         1 003303   003732 710000 1                  TRA     s:8902+1

      874     8808    2              BLK$ = PCB.OUT$->P$O.SUBLK$(J);

   8808  1 003304   200003 470500                    LDP0    @PCB,,AUTO
         1 003305   000003 471500                    LDP1    3,,PR0
         1 003306   200021 720100                    LXL0    J,,AUTO
         1 003307   100003 236110                    LDQ     3,X0,PR1
         1 003310   200007 756100                    STQ     BLK$,,AUTO

      875     8809    2              TEMP$ = BLK$->P$O.SUBLK$(0);

   8809  1 003311   200007 473500                    LDP3    BLK$,,AUTO
         1 003312   300003 236100                    LDQ     3,,PR3
         1 003313   200010 756100                    STQ     TEMP$,,AUTO

      876     8810    3              DO CASE(BLK$->P$O.CODE);

   8810  1 003314   300000 721100                    LXL1    0,,PR3
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:168  
         1 003315   000021 101003                    CMPX1   17,DU
         1 003316   003320 602011 1                  TNC     s:8810+4,X1
         1 003317   003731 710000 1                  TRA     s:8902
         1 003320   003731 710000 1                  TRA     s:8902
         1 003321   003341 710000 1                  TRA     s:8813
         1 003322   003731 710000 1                  TRA     s:8902
         1 003323   003731 710000 1                  TRA     s:8902
         1 003324   003521 710000 1                  TRA     s:8847
         1 003325   003626 710000 1                  TRA     s:8874
         1 003326   003526 710000 1                  TRA     s:8849
         1 003327   003533 710000 1                  TRA     s:8851
         1 003330   003540 710000 1                  TRA     s:8853
         1 003331   003603 710000 1                  TRA     s:8867
         1 003332   003545 710000 1                  TRA     s:8855
         1 003333   003655 710000 1                  TRA     s:8886
         1 003334   003731 710000 1                  TRA     s:8902
         1 003335   003731 710000 1                  TRA     s:8902
         1 003336   003731 710000 1                  TRA     s:8902
         1 003337   003731 710000 1                  TRA     s:8902
         1 003340   003404 710000 1                  TRA     s:8825

      877     8811        /**/
      878     8812    3               CASE(%ITS_NAME);

      879     8813    3                 CMD$->IT$CONSOLE.NM.MNEM = 'SC';

   8813  1 003341   000071 222000 0                  LDX2    APDEV_CNTWD+21
         1 003342   200004 474500                    LDP4    CMD$,,AUTO
         1 003343   400001 742100                    STX2    1,,PR4

      880     8814    3                 IF BLK$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->

   8814  1 003344   300004 471500                    LDP1    4,,PR3
         1 003345   100003 475500                    LDP5    3,,PR1
         1 003346   000100 101500                    MRL     fill='000'O
         1 003347   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 003350   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:169  
         1 003351   200052 236100                    LDQ     @FEATURE+2,,AUTO
         1 003352   000002 116007                    CMPQ    2,DL
         1 003353   003361 600000 1                  TZE     s:8820

      881     8815    4                   TEXT$C.COUNT ~= 2 THEN DO;

      882     8816    4                    CALL ITE$ERROR(%E$2CHARDEV#);

   8816  1 003354   000001 630400 2                  EPPR0   1
         1 003355   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 003356   000000 701000 xent               TSX1    ITE$ERROR
         1 003357   000000 011000                    NOP     0

      883     8817    4                    ALTRETURN;

   8817  1 003360   000000 702200 xent               TSX2  ! X66_AALT

      884     8818    4                    END;
      885     8819        /**/
      886     8820    3                 CMD$->IT$CONSOLE.NM.NUM = SUBSTR(BLK$ ->P$O.SUBLK$(1)

   8820  1 003361   300004 471500                    LDP1    4,,PR3
         1 003362   100003 475500                    LDP5    3,,PR1
         1 003363   000100 101500                    MRL     fill='000'O
         1 003364   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 003365   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 003366   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 003367   040100 100500                    MLR     fill='040'O
         1 003370   500000 200002                    ADSC9   0,,PR5                   cn=1,n=2
         1 003371   400001 400002                    ADSC9   1,,PR4                   cn=2,n=2

      887     8821    3                   ->P$O.SUBLK$(0)->TEXT$C.TEXT,0,2);
      888     8822    3                 CMD$->IT$CONSOLE.NM.BLANKS = IT_TXT_0000;

   8822  1 003372   000000 236000 xsym               LDQ     IT_TXT_0000
         1 003373   400002 756100                    STQ     2,,PR4

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:170  
      889     8823    3                 CALL ITH$CHECK_DEVNAME (CMD$->IT$CONSOLE.NAME, ) ALTRET (CC_ALT);

   8823  1 003374   200004 236100                    LDQ     CMD$,,AUTO
         1 003375   000001 036003                    ADLQ    1,DU
         1 003376   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 003377   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 003400   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 003401   000000 701000 xent               TSX1    ITH$CHECK_DEVNAME
         1 003402   004017 702000 1                  TSX2    CC_ALT
         1 003403   003731 710000 1                  TRA     s:8902

      890     8824    3               CASE(%ITS_IOMCHANSTAT);

      891     8825    3                 TEXTC = TEMP$->P$O.SUBLK$(0)->TEXT$C;

   8825  1 003404   200010 474500                    LDP4    TEMP$,,AUTO
         1 003405   400003 475500                    LDP5    3,,PR4
         1 003406   000100 101500                    MRL     fill='000'O
         1 003407   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 003410   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 003411   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 003412   000001 622011                    EAX2    1,X1
         1 003413   000100 100540                    MLR     fill='000'O
         1 003414   500000 000012                    ADSC9   0,,PR5                   cn=0,n=*X2
         1 003415   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

      892     8826    3                 CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   8826  1 003416   200033 236100                    LDQ     TEXTC,,AUTO
         1 003417   000033 772000                    QRL     27
         1 003420   000000 621006                    EAX1    0,QL
         1 003421   000100 305540                    DTB
         1 003422   200033 230011                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X1
         1 003423   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

      893     8827    4                 IF TEMP > NI_IOMS-1 THEN DO;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:171  
   8827  1 003424   200024 236100                    LDQ     TEMP,,AUTO
         1 003425   000000 116000 xsym               CMPQ    NI_IOMS
         1 003426   003434 604000 1                  TMI     s:8832

      894     8828    4                    CALL ITE$ERROR(%E$IOM2BIG);

   8828  1 003427   000010 630400 2                  EPPR0   8
         1 003430   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 003431   000000 701000 xent               TSX1    ITE$ERROR
         1 003432   000000 011000                    NOP     0

      895     8829    4                    ALTRETURN;

   8829  1 003433   000000 702200 xent               TSX2  ! X66_AALT

      896     8830    4                    END;
      897     8831        /**/
      898     8832    3                 CMD$->IT$CONSOLE.IOM# = TEMP;

   8832  1 003434   200004 471500                    LDP1    CMD$,,AUTO
         1 003435   100003 756100                    STQ     3,,PR1

      899     8833        /**/
      900     8834    3                 TEXTC = BLK$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C;

   8834  1 003436   300004 475500                    LDP5    4,,PR3
         1 003437   500003 476500                    LDP6    3,,PR5
         1 003440   000100 101500                    MRL     fill='000'O
         1 003441   600000 000001                    ADSC9   0,,PR6                   cn=0,n=1
         1 003442   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 003443   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 003444   000001 622011                    EAX2    1,X1
         1 003445   000100 100540                    MLR     fill='000'O
         1 003446   600000 000012                    ADSC9   0,,PR6                   cn=0,n=*X2
         1 003447   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

      901     8835    3                 CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:172  

   8835  1 003450   200033 236100                    LDQ     TEXTC,,AUTO
         1 003451   000033 772000                    QRL     27
         1 003452   000000 621006                    EAX1    0,QL
         1 003453   000100 305540                    DTB
         1 003454   200033 230011                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X1
         1 003455   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

      902     8836    3                 CALL ITH$CHECK_CHANNUM ( ,TEMP) ALTRET (CC_ALT);

   8836  1 003456   200024 635500                    EPPR5   TEMP,,AUTO
         1 003457   200053 455500                    STP5    @FEATURE+3,,AUTO
         1 003460   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 003461   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 003462   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 003463   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 003464   000000 701000 xent               TSX1    ITH$CHECK_CHANNUM
         1 003465   004017 702000 1                  TSX2    CC_ALT

      903     8837    3                 CMD$->IT$CONSOLE.CHAN = TEMP;

   8837  1 003466   200004 470500                    LDP0    CMD$,,AUTO
         1 003467   200024 235100                    LDA     TEMP,,AUTO
         1 003470   000004 755100                    STA     4,,PR0

      904     8838
      905     8839    3                 CMD$->IT$CONSOLE.DOWN=NO;

   8839  1 003471   000005 450100                    STZ     5,,PR0

      906     8840    4                 DO I = 2 TO BLK$->P$O.NSUBLKS - 1;

   8840  1 003472   000002 236007                    LDQ     2,DL
         1 003473   200020 756100                    STQ     I,,AUTO
         1 003474   003513 710000 1                  TRA     s:8844+1

      907     8841    4                    IF BLK$->P$O.SUBLK$(I)->P$O.CODE=%ITS_STATUS THEN
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:173  

   8841  1 003475   200007 470500                    LDP0    BLK$,,AUTO
         1 003476   200020 720100                    LXL0    I,,AUTO
         1 003477   000003 471510                    LDP1    3,X0,PR0
         1 003500   100000 721100                    LXL1    0,,PR1
         1 003501   000004 101003                    CMPX1   4,DU
         1 003502   003512 601000 1                  TNZ     s:8844

      908     8842    4                      IF BLK$->P$O.SUBLK$(I)->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN

   8842  1 003503   100003 473500                    LDP3    3,,PR1
         1 003504   300000 722100                    LXL2    0,,PR3
         1 003505   000002 102003                    CMPX2   2,DU
         1 003506   003512 601000 1                  TNZ     s:8844

      909     8843    4                          CMD$->IT$CONSOLE.DOWN=YES;

   8843  1 003507   400000 236003                    LDQ     -131072,DU
         1 003510   200004 474500                    LDP4    CMD$,,AUTO
         1 003511   400005 756100                    STQ     5,,PR4

      910     8844    4                    END;

   8844  1 003512   200020 054100                    AOS     I,,AUTO
         1 003513   200007 470500                    LDP0    BLK$,,AUTO
         1 003514   000001 236100                    LDQ     1,,PR0
         1 003515   000022 772000                    QRL     18
         1 003516   200020 116100                    CMPQ    I,,AUTO
         1 003517   003475 605400 1                  TPNZ    s:8841
         1 003520   003731 710000 1                  TRA     s:8902

      911     8845        /**/
      912     8846    3               CASE(%ITS_ADMIN);

      913     8847    3                 CALL CONSOLE_OPTS(M_ADMIN);

   8847  1 003521   000042 236000 2                  LDQ     34
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:174  
         1 003522   200043 756100                    STQ     FTEXTC+5,,AUTO
         1 003523   007632 701000 1                  TSX1    CONSOLE_OPTS
         1 003524   000000 011000                    NOP     0
         1 003525   003731 710000 1                  TRA     s:8902

      914     8848    3               CASE(%ITS_COMM);

      915     8849    3                 CALL CONSOLE_OPTS(M_COMM);

   8849  1 003526   000044 236000 2                  LDQ     36
         1 003527   200043 756100                    STQ     FTEXTC+5,,AUTO
         1 003530   007632 701000 1                  TSX1    CONSOLE_OPTS
         1 003531   000000 011000                    NOP     0
         1 003532   003731 710000 1                  TRA     s:8902

      916     8850    3               CASE(%ITS_COSYSTEM);

      917     8851    3                 CALL CONSOLE_OPTS(M_SYS);

   8851  1 003533   000046 236000 2                  LDQ     38
         1 003534   200043 756100                    STQ     FTEXTC+5,,AUTO
         1 003535   007632 701000 1                  TSX1    CONSOLE_OPTS
         1 003536   000000 011000                    NOP     0
         1 003537   003731 710000 1                  TRA     s:8902

      918     8852    3               CASE(%ITS_DEVICE);

      919     8853    3                 CALL CONSOLE_OPTS(M_DEVC);

   8853  1 003540   000050 236000 2                  LDQ     40
         1 003541   200043 756100                    STQ     FTEXTC+5,,AUTO
         1 003542   007632 701000 1                  TSX1    CONSOLE_OPTS
         1 003543   000000 011000                    NOP     0
         1 003544   003731 710000 1                  TRA     s:8902

      920     8854    3               CASE(%ITS_NATIVEL);

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:175  
      921     8855    4                 DO CASE(TEMP$->P$O.CODE);

   8855  1 003545   200010 474500                    LDP4    TEMP$,,AUTO
         1 003546   400000 722100                    LXL2    0,,PR4
         1 003547   000003 102003                    CMPX2   3,DU
         1 003550   003552 602012 1                  TNC     s:8855+5,X2
         1 003551   003731 710000 1                  TRA     s:8902
         1 003552   003602 710000 1                  TRA     s:8865
         1 003553   003561 710000 1                  TRA     s:8859
         1 003554   003555 710000 1                  TRA     s:8857

      922     8856    4                  CASE(%ITS_NONE);

      923     8857    4                    CMD$->IT$CONSOLE.OCINFO.LANG = ' ';

   8857  1 003555   200004 475500                    LDP5    CMD$,,AUTO
         1 003556   040000 236007                    LDQ     16384,DL
         1 003557   500010 552110                    STBQ    8,'10'O,PR5
         1 003560   003731 710000 1                  TRA     s:8902

      924     8858    4                  CASE(%ITS_LANGUAGE);

      925     8859    5                    IF TEMP$->P$S.COUNT > 1 THEN DO;

   8859  1 003561   400004 236100                    LDQ     4,,PR4
         1 003562   777000 376003                    ANQ     -512,DU
         1 003563   002000 116003                    CMPQ    1024,DU
         1 003564   003572 602000 1                  TNC     s:8863

      926     8860    5                       CALL ITE$ERROR(%E$1CHARNLANG);

   8860  1 003565   000052 630400 2                  EPPR0   42
         1 003566   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 003567   000000 701000 xent               TSX1    ITE$ERROR
         1 003570   000000 011000                    NOP     0

      927     8861    5                       ALTRETURN;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:176  

   8861  1 003571   000000 702200 xent               TSX2  ! X66_AALT

      928     8862    5                       END;
      929     8863    4                    CMD$->IT$CONSOLE.OCINFO.LANG = BLK$->P$O.

   8863  1 003572   300003 475500                    LDP5    3,,PR3
         1 003573   500004 236100                    LDQ     4,,PR5
         1 003574   000033 772000                    QRL     27
         1 003575   000000 623006                    EAX3    0,QL
         1 003576   200004 476500                    LDP6    CMD$,,AUTO
         1 003577   040100 100540                    MLR     fill='040'O
         1 003600   500004 200013                    ADSC9   4,,PR5                   cn=1,n=*X3
         1 003601   600010 400001                    ADSC9   8,,PR6                   cn=2,n=1

      930     8864    4                      SUBLK$(0)->P$S.TEXT;
      931     8865    4                  END;

   8865  1 003602   003731 710000 1                  TRA     s:8902

      932     8866    3               CASE(%ITS_MAXPRIO);

      933     8867    3                 CALL CHARBIN(TEMP,TEMP$->P$S.TEXT);

   8867  1 003603   200010 474500                    LDP4    TEMP$,,AUTO
         1 003604   400004 236100                    LDQ     4,,PR4
         1 003605   000033 772000                    QRL     27
         1 003606   000000 622006                    EAX2    0,QL
         1 003607   000100 305540                    DTB
         1 003610   400004 230012                    NDSC9   4,,PR4                   cn=1,s=nosgn,sf=0,n=*X2
         1 003611   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

      934     8868    4                 IF TEMP > 15 THEN DO;

   8868  1 003612   200024 235100                    LDA     TEMP,,AUTO
         1 003613   000017 115007                    CMPA    15,DL
         1 003614   003622 604400 1                  TMOZ    s:8872
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:177  

      935     8869    4                    CALL ITE$ERROR(%E$MAXPRIO2BIG);

   8869  1 003615   000054 630400 2                  EPPR0   44
         1 003616   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 003617   000000 701000 xent               TSX1    ITE$ERROR
         1 003620   000000 011000                    NOP     0

      936     8870    4                    ALTRETURN;

   8870  1 003621   000000 702200 xent               TSX2  ! X66_AALT

      937     8871    4                    END;
      938     8872    3                 CMD$->IT$CONSOLE.OCINFO.MXPRI = TEMP;

   8872  1 003622   200004 471500                    LDP1    CMD$,,AUTO
         1 003623   200024 236100                    LDQ     TEMP,,AUTO
         1 003624   100010 552104                    STBQ    8,'04'O,PR1
         1 003625   003731 710000 1                  TRA     s:8902

      939     8873    3               CASE(%ITS_CMD);

      940     8874    4                 IF TEMP$->P$S.COUNT > 80 THEN DO;

   8874  1 003626   200010 474500                    LDP4    TEMP$,,AUTO
         1 003627   400004 236100                    LDQ     4,,PR4
         1 003630   777000 376003                    ANQ     -512,DU
         1 003631   121000 116003                    CMPQ    41472,DU
         1 003632   003640 602000 1                  TNC     s:8878

      941     8875    4                    CALL ITE$ERROR(%E$CMD2BIG);

   8875  1 003633   000056 630400 2                  EPPR0   46
         1 003634   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 003635   000000 701000 xent               TSX1    ITE$ERROR
         1 003636   000000 011000                    NOP     0

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:178  
      942     8876    4                    ALTRETURN;

   8876  1 003637   000000 702200 xent               TSX2  ! X66_AALT

      943     8877    4                    END;
      944     8878    3                 CMD$->IT$CONSOLE.OCINFO.CMDCNT = BLK$->P$O

   8878  1 003640   300003 475500                    LDP5    3,,PR3
         1 003641   200004 476500                    LDP6    CMD$,,AUTO
         1 003642   500004 236100                    LDQ     4,,PR5
         1 003643   000033 772000                    QRL     27
         1 003644   600017 756100                    STQ     15,,PR6

      945     8879    3                   .SUBLK$(0)->P$S.COUNT;
      946     8880    3                 CMD$->IT$CONSOLE.OCINFO.CMD = BLK$->P$O

   8880  1 003645   300003 471500                    LDP1    3,,PR3
         1 003646   100004 236100                    LDQ     4,,PR1
         1 003647   000033 772000                    QRL     27
         1 003650   000000 621006                    EAX1    0,QL
         1 003651   040100 100540                    MLR     fill='040'O
         1 003652   100004 200011                    ADSC9   4,,PR1                   cn=1,n=*X1
         1 003653   600020 000120                    ADSC9   16,,PR6                  cn=0,n=80
         1 003654   003731 710000 1                  TRA     s:8902

      947     8881    3                   .SUBLK$(0)->P$S.TEXT;
      948     8882    3               CASE(%ITS_WSN);

      949     8883        /*
      950     8884          ****        WSN CAN'T EXCEED 8 CHARS. ? MUST BE LAST CHAR.
      951     8885        */
      952     8886    4                 IF TEMP$->P$O.SUBLK$(0)->P$S.COUNT > 8 THEN DO;

   8886  1 003655   200010 474500                    LDP4    TEMP$,,AUTO
         1 003656   400003 475500                    LDP5    3,,PR4
         1 003657   500004 236100                    LDQ     4,,PR5
         1 003660   777000 376003                    ANQ     -512,DU
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:179  
         1 003661   011000 116003                    CMPQ    4608,DU
         1 003662   003670 602000 1                  TNC     s:8890

      953     8887    4                    CALL ITE$ERROR(%E$8CHARWSN);

   8887  1 003663   000027 630400 2                  EPPR0   23
         1 003664   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 003665   000000 701000 xent               TSX1    ITE$ERROR
         1 003666   000000 011000                    NOP     0

      954     8888    4                    ALTRETURN;

   8888  1 003667   000000 702200 xent               TSX2  ! X66_AALT

      955     8889    4                    END;
      956     8890    3                 CALL INDEX1R(K,'?',TEMP$->P$O.SUBLK$(0)->P$S.TEXT);

   8890  1 003670   500004 236100                    LDQ     4,,PR5
         1 003671   000033 772000                    QRL     27
         1 003672   000000 622006                    EAX2    0,QL
         1 003673   000000 125540                    SCMR    mask='000'O
         1 003674   500004 200012                    ADSC9   4,,PR5                   cn=1,n=*X2
         1 003675   000057 000001 2                  ADSC9   47                       cn=0,n=1
         1 003676   200022 000100                    ARG     K,,AUTO
         1 003677   003702 606400 1                  TTN     s:8891
         1 003700   200022 054100                    AOS     K,,AUTO
         1 003701   200022 156100                    SSQ     K,,AUTO

      957     8891    3                 IF K ~= TEMP$->P$O.SUBLK$(0)->P$S.COUNT OR K ~= 0

   8891  1 003702   500004 236100                    LDQ     4,,PR5
         1 003703   000033 772000                    QRL     27
         1 003704   200022 116100                    CMPQ    K,,AUTO
         1 003705   003710 601000 1                  TNZ     s:8893
         1 003706   200022 235100                    LDA     K,,AUTO
         1 003707   003715 600000 1                  TZE     s:8896

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:180  
      958     8892    4                 THEN DO;

      959     8893    4                    CALL ITE$ERROR(%E$BADWSN);

   8893  1 003710   000061 630400 2                  EPPR0   49
         1 003711   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 003712   000000 701000 xent               TSX1    ITE$ERROR
         1 003713   000000 011000                    NOP     0

      960     8894    4                    ALTRETURN;

   8894  1 003714   000000 702200 xent               TSX2  ! X66_AALT

      961     8895    4                    END;
      962     8896    3                 TEXTC.TEXT = TEMP$->P$O.SUBLK$(0)->P$S.TEXT;

   8896  1 003715   040100 100540                    MLR     fill='040'O
         1 003716   500004 200012                    ADSC9   4,,PR5                   cn=1,n=*X2
         1 003717   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

      963     8897        /**/
      964     8898    3                 CMD$->IT$CONSOLE.NM.BLANKS = IT_TXT_0000;

   8898  1 003720   000000 236000 xsym               LDQ     IT_TXT_0000
         1 003721   200004 471500                    LDP1    CMD$,,AUTO
         1 003722   100002 756100                    STQ     2,,PR1

      965     8899    3                 CMD$->IT$CONSOLE.OCINFO.WSN = TEXTC.TEXT;

   8899  1 003723   040100 100500                    MLR     fill='040'O
         1 003724   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
         1 003725   100012 000010                    ADSC9   10,,PR1                  cn=0,n=8

      966     8900    3                 CMD$->IT$CONSOLE.OCINFO.TNAME = TEXTC.TEXT;

   8900  1 003726   040100 100500                    MLR     fill='040'O
         1 003727   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:181  
         1 003730   100014 000010                    ADSC9   12,,PR1                  cn=0,n=8

      967     8901    3               END;

      968     8902    2              END;

   8902  1 003731   200021 054100                    AOS     J,,AUTO
         1 003732   200003 470500                    LDP0    @PCB,,AUTO
         1 003733   000003 471500                    LDP1    3,,PR0
         1 003734   100001 236100                    LDQ     1,,PR1
         1 003735   000022 772000                    QRL     18
         1 003736   200021 116100                    CMPQ    J,,AUTO
         1 003737   003304 605400 1                  TPNZ    s:8808

      969     8903        /**/
      970     8904    1           TEXTC.COUNT = 7;

   8904  1 003740   007000 236003                    LDQ     3584,DU
         1 003741   200033 552140                    STBQ    TEXTC,'40'O,AUTO

      971     8905    1           TEXTC.TEXT = 'CONSOLE';

   8905  1 003742   040100 100400                    MLR     fill='040'O
         1 003743   000072 000007 0                  ADSC9   APDEV_CNTWD+22           cn=0,n=7
         1 003744   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

      972     8906    1           CALL GET_TYPE(TEXTC) ALTRET(CC_ALT);

   8906  1 003745   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 003746   200050 756100                    STQ     @MODEL+1,,AUTO
         1 003747   200033 631500                    EPPR1   TEXTC,,AUTO
         1 003750   200047 451500                    STP1    @DEVNAME+3,,AUTO
         1 003751   007526 701000 1                  TSX1    GET_TYPE
         1 003752   004017 702000 1                  TSX2    CC_ALT

      973     8907    1           CMD$->IT$CONSOLE.TYPE = DVTX;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:182  
   8907  1 003753   200025 720100                    LXL0    DVTX,,AUTO
         1 003754   200004 470500                    LDP0    CMD$,,AUTO
         1 003755   000006 740100                    STX0    6,,PR0

      974     8908    1           CMD$->IT$CONSOLE.MODX = MODX;

   8908  1 003756   200026 721100                    LXL1    MODX,,AUTO
         1 003757   000006 441100                    SXL1    6,,PR0

      975     8909    1           CMD$->IT$CONSOLE.FX = FX;

   8909  1 003760   200027 722100                    LXL2    FX,,AUTO
         1 003761   000007 742100                    STX2    7,,PR0

      976     8910        /**/
      977     8911        /*
      978     8912          ****  SET DEFAULTS FOR UNSPECIFIED CONSOLE OPTIONS
      979     8913        */
      980     8914    1           IF CMD$->IT$CONSOLE.OCINFO.CADDR = NO THEN

   8914  1 003762   000010 223100                    LDX3    8,,PR0
         1 003763   003766 601000 1                  TNZ     s:8916

      981     8915    1              CMD$->IT$CONSOLE.OCINFO.CADDR =CMD$->IT$CONSOLE.OCINFO.CADDR | M_SYS;

   8915  1 003764   200000 263003                    ORX3    65536,DU
         1 003765   000010 743100                    STX3    8,,PR0

      982     8916    1           IF CMD$->IT$CONSOLE.OCINFO.KCADDR = NO THEN

   8916  1 003766   000011 224100                    LDX4    9,,PR0
         1 003767   003772 601000 1                  TNZ     s:8918

      983     8917    1              CMD$->IT$CONSOLE.OCINFO.KCADDR=CMD$->IT$CONSOLE.OCINFO.KCADDR |M_SYS;

   8917  1 003770   200000 264003                    ORX4    65536,DU
         1 003771   000011 744100                    STX4    9,,PR0
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:183  

      984     8918    1           IF CMD$->IT$CONSOLE.OCINFO.MXPRI = OC_INFO.MXPRI THEN

   8918  1 003772   000010 236100                    LDQ     8,,PR0
         1 003773   000000 676000 0                  ERQ     OC_INFO
         1 003774   000777 376007                    ANQ     511,DL
         1 003775   004000 601000 1                  TNZ     s:8920

      985     8919    1              CMD$->IT$CONSOLE.OCINFO.MXPRI = 15;

   8919  1 003776   000017 236007                    LDQ     15,DL
         1 003777   000010 552104                    STBQ    8,'04'O,PR0

      986     8920    1           IF CMD$->IT$CONSOLE.OCINFO.WSN = IT_TXT_LOCAL THEN

   8920  1 004000   040000 106500                    CMPC    fill='040'O
         1 004001   000012 000010                    ADSC9   10,,PR0                  cn=0,n=8
         1 004002   000000 000005 xsym               ADSC9   IT_TXT_LOCAL             cn=0,n=5
         1 004003   004010 601000 1                  TNZ     s:8922

      987     8921    1              CMD$->IT$CONSOLE.OCINFO.WSN = '?';

   8921  1 004004   000057 235000 2                  LDA     47
         1 004005   000035 236000 xsym               LDQ     B_VECTNIL+29
         1 004006   000012 755100                    STA     10,,PR0
         1 004007   000013 756100                    STQ     11,,PR0

      988     8922    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CONSOLE));

   8922  1 004010   200004 236100                    LDQ     CMD$,,AUTO
         1 004011   000046 036003                    ADLQ    38,DU
         1 004012   200004 756100                    STQ     CMD$,,AUTO

      989     8923    1           CMD$->IT$CMDWD = %ITS_ENDCMD;

   8923  1 004013   000145 235007                    LDA     101,DL
         1 004014   200004 470500                    LDP0    CMD$,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:184  
         1 004015   000000 755100                    STA     0,,PR0

      990     8924        /**/
      991     8925    1           RETURN;

   8925  1 004016   000000 702200 xent               TSX2  ! X66_ARET

      992     8926    1   CC_ALT: ALTRETURN;

   8926  1 004017   000000 702200 xent  CC_ALT       TSX2  ! X66_AALT

      993     8927        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:185  
      994     8928        /*P*    NAME:    ITC$AUTOCONFIG
      995     8929                PURPOSE: ITC$AUTOCONFIG configures a minimal system from the
      996     8930                         configuration information passed to TIGR by AARDVARK
      997     8931                         in IT_CONFIG.  The maximal minimal system is one IOM,
      998     8932                         one disk MPC with one drive, one tape MPC with two
      999     8933                         drives, one system console, and one unit record
     1000     8934                         controller with a line printer and a card reader.
     1001     8935                         The PCB parameter to this routine is really
     1002     8936                         TABLE_PTR$ in ITT$TIGR.  This pointer is not used
     1003     8937                         in ITC$AUTOCONFIG, but is passed to the configuration
     1004     8938                         routines.                                         */
     1005     8939        /**/
     1006     8940    1   ITC$AUTOCONFIG: ENTRY(PCB) ALTRET;

   8940  1 004020   000000 700200 xent  ITC$AUTOCON* TSX0  ! X66_AUTO_1
         1 004021   000056 000001                    ZERO    46,1

     1007     8941    1           TEXTC.COUNT=7;

   8941  1 004022   007000 236003                    LDQ     3584,DU
         1 004023   200033 552140                    STBQ    TEXTC,'40'O,AUTO

     1008     8942    1           FTEXTC.COUNT=8;

   8942  1 004024   010000 236003                    LDQ     4096,DU
         1 004025   200036 552140                    STBQ    FTEXTC,'40'O,AUTO

     1009     8943        /**/
     1010     8944        /* CONFIGURE SYSTEM CONSOLE */
     1011     8945        /**/
     1012     8946    1           CMD$=B$DS5$;

   8946  1 004026   000000 236000 xsym               LDQ     B$DS5$
         1 004027   200004 756100                    STQ     CMD$,,AUTO

     1013     8947    1           CMD$->IT$CMDWD=%ITS_CONSOLE;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:186  
   8947  1 004030   000005 235007                    LDA     5,DL
         1 004031   200004 470500                    LDP0    CMD$,,AUTO
         1 004032   000000 755100                    STA     0,,PR0

     1014     8948    1           CMD$=PINCRW(CMD$,SIZEW(IT$CMDWD));

   8948  1 004033   000001 036003                    ADLQ    1,DU
         1 004034   200004 756100                    STQ     CMD$,,AUTO

     1015     8949    1           CMD$->IT$CONSOLE='0'B;

   8949  1 004035   200004 470500                    LDP0    CMD$,,AUTO
         1 004036   000100 100400                    MLR     fill='000'O
         1 004037   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 004040   000000 000230                    ADSC9   0,,PR0                   cn=0,n=152

     1016     8950    1           CMD$->IT$CONSOLE.CNTWD=CONSOLE_CNTWD;

   8950  1 004041   000041 236000 0                  LDQ     CONSOLE_CNTWD
         1 004042   000000 756100                    STQ     0,,PR0

     1017     8951    1           CMD$->IT$CONSOLE.OCINFO=OC_INFO;

   8951  1 004043   000100 100400                    MLR     fill='000'O
         1 004044   000000 000160 0                  ADSC9   OC_INFO                  cn=0,n=112
         1 004045   000010 000160                    ADSC9   8,,PR0                   cn=0,n=112

     1018     8952    1           CMD$->IT$CONSOLE.OCINFO.LANG=' ';

   8952  1 004046   040000 236007                    LDQ     16384,DL
         1 004047   000010 552110                    STBQ    8,'10'O,PR0

     1019     8953    1           CMD$->IT$CONSOLE.OCINFO.WSN='?       ';

   8953  1 004050   000074 237000 0                  LDAQ    APDEV_CNTWD+24
         1 004051   000012 755100                    STA     10,,PR0
         1 004052   000013 756100                    STQ     11,,PR0
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:187  

     1020     8954    1           CMD$->IT$CONSOLE.OCINFO.MXPRI=15;

   8954  1 004053   000017 236007                    LDQ     15,DL
         1 004054   000010 552104                    STBQ    8,'04'O,PR0

     1021     8955    1           CMD$->IT$CONSOLE.OCINFO.CADDR = CMD$->IT$CONSOLE.OCINFO.CADDR | M_SYS;

   8955  1 004055   000010 220100                    LDX0    8,,PR0
         1 004056   200000 260003                    ORX0    65536,DU
         1 004057   000010 740100                    STX0    8,,PR0

     1022     8956    1           CMD$->IT$CONSOLE.OCINFO.KCADDR = CMD$->IT$CONSOLE.OCINFO.KCADDR | M_SYS;

   8956  1 004060   000011 221100                    LDX1    9,,PR0
         1 004061   200000 261003                    ORX1    65536,DU
         1 004062   000011 741100                    STX1    9,,PR0

     1023     8957    1           CMD$->IT$CONSOLE.NAME='SC010000';

   8957  1 004063   000076 237000 0                  LDAQ    APDEV_CNTWD+26
         1 004064   000001 755100                    STA     1,,PR0
         1 004065   000002 756100                    STQ     2,,PR0

     1024     8958    1           CMD$->IT$CONSOLE.IOM#=0;

   8958  1 004066   000003 450100                    STZ     3,,PR0

     1025     8959    1           CMD$->IT$CONSOLE.CHAN=IT_CONFIG.SC01.CHAN;

   8959  1 004067   000002 235000 xsym               LDA     IT_CONFIG+2
         1 004070   000004 755100                    STA     4,,PR0

     1026     8960    1           TEXTC.TEXT='CONSOLE';

   8960  1 004071   040100 100400                    MLR     fill='040'O
         1 004072   000072 000007 0                  ADSC9   APDEV_CNTWD+22           cn=0,n=7
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:188  
         1 004073   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1027     8961    1           FTEXTC.TEXT=' ';

   8961  1 004074   040100 100400                    MLR     fill='040'O
         1 004075   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 004076   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8

     1028     8962    1           CALL GET_TYPE(TEXTC,FTEXTC);

   8962  1 004077   200036 631500                    EPPR1   FTEXTC,,AUTO
         1 004100   200050 451500                    STP1    @MODEL+1,,AUTO
         1 004101   200033 633500                    EPPR3   TEXTC,,AUTO
         1 004102   200047 453500                    STP3    @DEVNAME+3,,AUTO
         1 004103   007526 701000 1                  TSX1    GET_TYPE
         1 004104   000000 011000                    NOP     0

     1029     8963    1           CMD$->IT$CONSOLE.TYPE=DVTX;

   8963  1 004105   200025 720100                    LXL0    DVTX,,AUTO
         1 004106   200004 470500                    LDP0    CMD$,,AUTO
         1 004107   000006 740100                    STX0    6,,PR0

     1030     8964    1           CMD$->IT$CONSOLE.MODX=MODX;

   8964  1 004110   200026 721100                    LXL1    MODX,,AUTO
         1 004111   000006 441100                    SXL1    6,,PR0

     1031     8965    1           CMD$->IT$CONSOLE.FX=FX;

   8965  1 004112   200027 722100                    LXL2    FX,,AUTO
         1 004113   000007 742100                    STX2    7,,PR0

     1032     8966    1           CMD$=PINCRW(CMD$,SIZEW(IT$CONSOLE));

   8966  1 004114   200004 236100                    LDQ     CMD$,,AUTO
         1 004115   000046 036003                    ADLQ    38,DU
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:189  
         1 004116   200004 756100                    STQ     CMD$,,AUTO

     1033     8967    1           CMD$->IT$CMDWD= %ITS_ENDCMD;

   8967  1 004117   000145 235007                    LDA     101,DL
         1 004120   200004 470500                    LDP0    CMD$,,AUTO
         1 004121   000000 755100                    STA     0,,PR0

     1034     8968    1           CALL ITS$SYSCON(PCB/* TIGR$ */);

   8968  1 004122   200003 630500                    EPPR0   @PCB,,AUTO
         1 004123   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 004124   000000 701000 xent               TSX1    ITS$SYSCON
         1 004125   000000 011000                    NOP     0

     1035     8969        /**/
     1036     8970        /* CONFIGURE DISK SUBSYSTEM */
     1037     8971        /**/
     1038     8972    1           CMD$=B$DS5$;

   8972  1 004126   000000 236000 xsym               LDQ     B$DS5$
         1 004127   200004 756100                    STQ     CMD$,,AUTO

     1039     8973    1           CMD$->IT$CMDWD=%ITS_DISK;

   8973  1 004130   000002 235007                    LDA     2,DL
         1 004131   200004 470500                    LDP0    CMD$,,AUTO
         1 004132   000000 755100                    STA     0,,PR0

     1040     8974    1           CMD$=PINCRW(CMD$,SIZEW(IT$CMDWD));

   8974  1 004133   000001 036003                    ADLQ    1,DU
         1 004134   200004 756100                    STQ     CMD$,,AUTO

     1041     8975    1           CMD$->IT$MPC='0'B;

   8975  1 004135   200004 470500                    LDP0    CMD$,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:190  
         1 004136   000100 100400                    MLR     fill='000'O
         1 004137   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 004140   000000 000102                    ADSC9   0,,PR0                   cn=0,n=66

     1042     8976    1           CMD$->IT$MPC.CNTWD=MPC_CNTWD;

   8976  1 004141   000034 236000 0                  LDQ     MPC_CNTWD
         1 004142   000000 756100                    STQ     0,,PR0

     1043     8977    1           IF IT_CONFIG.DC01.FWNAME='M191' THEN

   8977  1 004143   000023 236000 xsym               LDQ     IT_CONFIG+19
         1 004144   000100 116000 0                  CMPQ    APDEV_CNTWD+28
         1 004145   004152 601000 1                  TNZ     s:8979

     1044     8978    1              TEXTC.TEXT='MSP0191';

   8978  1 004146   040100 100400                    MLR     fill='040'O
         1 004147   000046 000007 0                  ADSC9   APDEV_CNTWD+2            cn=0,n=7
         1 004150   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
         1 004151   004177 710000 1                  TRA     s:8987

     1045     8979    1           ELSE IF IT_CONFIG.DC01.FWNAME='D500' THEN

   8979  1 004152   000101 116000 0                  CMPQ    APDEV_CNTWD+29
         1 004153   004160 601000 1                  TNZ     s:8981

     1046     8980    1                 TEXTC.TEXT='MSP0600';

   8980  1 004154   040100 100400                    MLR     fill='040'O
         1 004155   000102 000007 0                  ADSC9   APDEV_CNTWD+30           cn=0,n=7
         1 004156   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
         1 004157   004177 710000 1                  TRA     s:8987

     1047     8981    1              ELSE IF IT_CONFIG.DC01.FWNAME='MSP8' THEN

   8981  1 004160   000104 116000 0                  CMPQ    APDEV_CNTWD+32
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:191  
         1 004161   004166 601000 1                  TNZ     s:8983

     1048     8982    1                    TEXTC.TEXT='MSP8021';

   8982  1 004162   040100 100400                    MLR     fill='040'O
         1 004163   000105 000007 0                  ADSC9   APDEV_CNTWD+33           cn=0,n=7
         1 004164   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
         1 004165   004177 710000 1                  TRA     s:8987

     1049     8983    1                 ELSE IF IT_CONFIG.DC01.FWNAME='IIDK' THEN

   8983  1 004166   000107 116000 0                  CMPQ    APDEV_CNTWD+35
         1 004167   004174 601000 1                  TNZ     s:8986

     1050     8984    1                       TEXTC.TEXT='MSS8090'; /* IIDK - MDS */

   8984  1 004170   040100 100400                    MLR     fill='040'O
         1 004171   000110 000007 0                  ADSC9   APDEV_CNTWD+36           cn=0,n=7
         1 004172   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
         1 004173   004177 710000 1                  TRA     s:8987

     1051     8985    1                    ELSE                   /* D388 - FIPS */
     1052     8986    1                       TEXTC.TEXT='MSP3881';

   8986  1 004174   040100 100400                    MLR     fill='040'O
         1 004175   000112 000007 0                  ADSC9   APDEV_CNTWD+38           cn=0,n=7
         1 004176   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1053     8987    1           FTEXTC.TEXT=' ';

   8987  1 004177   040100 100400                    MLR     fill='040'O
         1 004200   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 004201   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8

     1054     8988    1           CALL GET_TYPE(TEXTC,FTEXTC);

   8988  1 004202   200036 631500                    EPPR1   FTEXTC,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:192  
         1 004203   200050 451500                    STP1    @MODEL+1,,AUTO
         1 004204   200033 633500                    EPPR3   TEXTC,,AUTO
         1 004205   200047 453500                    STP3    @DEVNAME+3,,AUTO
         1 004206   007526 701000 1                  TSX1    GET_TYPE
         1 004207   000000 011000                    NOP     0

     1055     8989    1           CMD$->IT$MPC.MPCTYPE=DVTX;

   8989  1 004210   200025 720100                    LXL0    DVTX,,AUTO
         1 004211   200004 470500                    LDP0    CMD$,,AUTO
         1 004212   000001 740100                    STX0    1,,PR0

     1056     8990    1           CMD$->IT$MPC.MODX=MODX;

   8990  1 004213   200026 721100                    LXL1    MODX,,AUTO
         1 004214   000001 441100                    SXL1    1,,PR0

     1057     8991    1           CMD$->IT$MPC.FX=FX;

   8991  1 004215   200027 722100                    LXL2    FX,,AUTO
         1 004216   000002 742100                    STX2    2,,PR0

     1058     8992    1           CMD$->IT$MPC.MPCNAME='DC010000';

   8992  1 004217   040100 100400                    MLR     fill='040'O
         1 004220   000114 000010 0                  ADSC9   APDEV_CNTWD+40           cn=0,n=8
         1 004221   000002 400010                    ADSC9   2,,PR0                   cn=2,n=8

     1059     8993    1           CMD$->IT$MPC.FWNAME=IT_CONFIG.DC01.FWNAME;

   8993  1 004222   040100 100400                    MLR     fill='040'O
         1 004223   000023 000004 xsym               ADSC9   IT_CONFIG+19             cn=0,n=4
         1 004224   000004 400004                    ADSC9   4,,PR0                   cn=2,n=4

     1060     8994    1           CMD$->IT$MPC.LA_IOM.PRESENCE(0)='1'B;

   8994  1 004225   400000 236007                    LDQ     -131072,DL
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:193  
         1 004226   000010 256100                    ORSQ    8,,PR0

     1061     8995    1           CMD$->IT$MPC.LA_IOM.LO_CHAN(0)=IT_CONFIG.DC01.CHAN;

   8995  1 004227   000022 723000 xsym               LXL3    IT_CONFIG+18
         1 004230   000011 443100                    SXL3    9,,PR0

     1062     8996    1           CMD$->IT$MPC.LA_IOM.HI_CHAN(0)=IT_CONFIG.DC01.CHAN+1;

   8996  1 004231   000022 724000 xsym               LXL4    IT_CONFIG+18
         1 004232   000001 625014                    EAX5    1,X4
         1 004233   000012 745100                    STX5    10,,PR0

     1063     8997                   /* DPS90 IS SO FAST THAT 1 CHANNEL IS STILL BUSY WHEN INTERRUPTS
     1064     8998                      ARE DISABLED ON ZAP - IR FINISHES IO BUT CLSF HAS TROUBLE
     1065     8999                      WITHOUT AN AVAILABLE CHANNEL ON SQH.CQ$                        */
     1066     9000    1           CMD$=PINCRW(CMD$,SIZEW(IT$MPC));

   9000  1 004234   200004 236100                    LDQ     CMD$,,AUTO
         1 004235   000021 036003                    ADLQ    17,DU
         1 004236   200004 756100                    STQ     CMD$,,AUTO

     1067     9001        /**/
     1068     9002        /* CONFIGURE DP01 */
     1069     9003        /**/
     1070     9004    1           CMD$->IT$DTDEV='0'B;

   9004  1 004237   200004 470500                    LDP0    CMD$,,AUTO
         1 004240   000100 100400                    MLR     fill='000'O
         1 004241   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 004242   000000 000035                    ADSC9   0,,PR0                   cn=0,n=29

     1071     9005    1           CMD$->IT$DTDEV.CNTWD=DTDEV_CNTWD;

   9005  1 004243   000035 236000 0                  LDQ     DTDEV_CNTWD
         1 004244   000000 756100                    STQ     0,,PR0

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:194  
     1072     9006    1           CMD$->IT$DTDEV.FLAGS.INPUT='1'B;

   9006  1 004245   400000 236003                    LDQ     -131072,DU
         1 004246   000001 256100                    ORSQ    1,,PR0

     1073     9007    1           CMD$->IT$DTDEV.FLAGS.OUTPUT='1'B;

   9007  1 004247   200000 236003                    LDQ     65536,DU
         1 004250   000001 256100                    ORSQ    1,,PR0

     1074     9008    1           CMD$->IT$DTDEV.FLAGS.PSIA='1'B;

   9008  1 004251   010000 236003                    LDQ     4096,DU
         1 004252   000001 256100                    ORSQ    1,,PR0

     1075     9009    1           CMD$->IT$DTDEV.FLAGS.SYSTEM='1'B;

   9009  1 004253   004000 236003                    LDQ     2048,DU
         1 004254   000001 256100                    ORSQ    1,,PR0

     1076     9010    1           CMD$->IT$DTDEV.DEV#=IT_CONFIG.DP01.DVN;

   9010  1 004255   000024 723000 xsym               LXL3    IT_CONFIG+20
         1 004256   000001 443100                    SXL3    1,,PR0

     1077     9011    1           CMD$->IT$DTDEV.NAME='DP010000';

   9011  1 004257   000116 237000 0                  LDAQ    APDEV_CNTWD+42
         1 004260   000002 755100                    STA     2,,PR0
         1 004261   000003 756100                    STQ     3,,PR0

     1078     9012                                     /* DVC_CODE is the device type code
     1079     9013                                        returned from the request configuration
     1080     9014                                        command to the MPC.                */
     1081     9015    2           DO SELECT(IT_CONFIG.DP01.DVC_CODE/16);

   9015  1 004262   000025 236000 xsym               LDQ     IT_CONFIG+21
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:195  
         1 004263   000004 772000                    QRL     4
         1 004264   000011 116007                    CMPQ    9,DL
         1 004265   004300 602000 1                  TNC     s:9015+14
         1 004266   004315 600000 1                  TZE     s:9017
         1 004267   000025 116007                    CMPQ    21,DL
         1 004270   004275 602000 1                  TNC     s:9015+11
         1 004271   004360 600000 1                  TZE     s:9032
         1 004272   000026 116007                    CMPQ    22,DL
         1 004273   004315 601000 1                  TNZ     s:9017
         1 004274   004351 710000 1                  TRA     s:9029
         1 004275   000015 116007                    CMPQ    13,DL
         1 004276   004315 601000 1                  TNZ     s:9017
         1 004277   004324 710000 1                  TRA     s:9020
         1 004300   000003 116007                    CMPQ    3,DL
         1 004301   004314 602000 1                  TNC     s:9015+26
         1 004302   004333 600000 1                  TZE     s:9023
         1 004303   000005 116007                    CMPQ    5,DL
         1 004304   004311 602000 1                  TNC     s:9015+23
         1 004305   004367 600000 1                  TZE     s:9035
         1 004306   000007 116007                    CMPQ    7,DL
         1 004307   004315 601000 1                  TNZ     s:9017
         1 004310   004376 710000 1                  TRA     s:9038
         1 004311   000004 116007                    CMPQ    4,DL
         1 004312   004315 601000 1                  TNZ     s:9017
         1 004313   004342 710000 1                  TRA     s:9026
         1 004314   004315 710000 1                  TRA     s:9017

     1082     9016    2              SELECT(9,0,ELSE);

     1083     9017    2           TEXTC.TEXT='MSU0451';

   9017  1 004315   040100 100400                    MLR     fill='040'O
         1 004316   000120 000007 0                  ADSC9   APDEV_CNTWD+44           cn=0,n=7
         1 004317   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1084     9018    2           FTEXTC.TEXT='MSF0007';

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:196  
   9018  1 004320   040100 100400                    MLR     fill='040'O
         1 004321   000122 000007 0                  ADSC9   APDEV_CNTWD+46           cn=0,n=7
         1 004322   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8
         1 004323   004404 710000 1                  TRA     s:9041

     1085     9019    2           SELECT(13);

     1086     9020    2           TEXTC.TEXT='MSU0501';

   9020  1 004324   040100 100400                    MLR     fill='040'O
         1 004325   000124 000007 0                  ADSC9   APDEV_CNTWD+48           cn=0,n=7
         1 004326   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1087     9021    2           FTEXTC.TEXT='MSF0015';

   9021  1 004327   040100 100400                    MLR     fill='040'O
         1 004330   000126 000007 0                  ADSC9   APDEV_CNTWD+50           cn=0,n=7
         1 004331   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8
         1 004332   004404 710000 1                  TRA     s:9041

     1088     9022    2           SELECT(3);                      /* MODEL D */

     1089     9023    2           TEXTC.TEXT='MSU3380';

   9023  1 004333   040100 100400                    MLR     fill='040'O
         1 004334   000130 000007 0                  ADSC9   APDEV_CNTWD+52           cn=0,n=7
         1 004335   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1090     9024    2           FTEXTC.TEXT=' ';

   9024  1 004336   040100 100400                    MLR     fill='040'O
         1 004337   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 004340   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8
         1 004341   004404 710000 1                  TRA     s:9041

     1091     9025    2           SELECT(4);                      /* MODEL E */

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:197  
     1092     9026    2           TEXTC.TEXT='MSU3381';

   9026  1 004342   040100 100400                    MLR     fill='040'O
         1 004343   000132 000007 0                  ADSC9   APDEV_CNTWD+54           cn=0,n=7
         1 004344   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1093     9027    2           FTEXTC.TEXT=' ';

   9027  1 004345   040100 100400                    MLR     fill='040'O
         1 004346   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 004347   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8
         1 004350   004404 710000 1                  TRA     s:9041

     1094     9028    2           SELECT(22);                     /* MODEL J  .26 */

     1095     9029    2           TEXTC.TEXT='MSU3390';

   9029  1 004351   040100 100400                    MLR     fill='040'O
         1 004352   000134 000007 0                  ADSC9   APDEV_CNTWD+56           cn=0,n=7
         1 004353   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1096     9030    2           FTEXTC.TEXT=' ';

   9030  1 004354   040100 100400                    MLR     fill='040'O
         1 004355   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 004356   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8
         1 004357   004404 710000 1                  TRA     s:9041

     1097     9031    2           SELECT(21);                     /* MODEL K  .25 */

     1098     9032    2           TEXTC.TEXT='MSU3391';

   9032  1 004360   040100 100400                    MLR     fill='040'O
         1 004361   000136 000007 0                  ADSC9   APDEV_CNTWD+58           cn=0,n=7
         1 004362   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1099     9033    2           FTEXTC.TEXT=' ';
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:198  

   9033  1 004363   040100 100400                    MLR     fill='040'O
         1 004364   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 004365   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8
         1 004366   004404 710000 1                  TRA     s:9041

     1100     9034    2           SELECT(5);                      /* MDS I - FDSII   */

     1101     9035    2           TEXTC.TEXT='MSU8082';

   9035  1 004367   040100 100400                    MLR     fill='040'O
         1 004370   000140 000007 0                  ADSC9   APDEV_CNTWD+60           cn=0,n=7
         1 004371   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1102     9036    2           FTEXTC.TEXT=' ';

   9036  1 004372   040100 100400                    MLR     fill='040'O
         1 004373   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 004374   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8
         1 004375   004404 710000 1                  TRA     s:9041

     1103     9037    2           SELECT(7);                      /* MDS II - SABRE V  */

     1104     9038    2           TEXTC.TEXT='MSU8092';

   9038  1 004376   040100 100400                    MLR     fill='040'O
         1 004377   000142 000007 0                  ADSC9   APDEV_CNTWD+62           cn=0,n=7
         1 004400   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1105     9039    2           FTEXTC.TEXT=' ';

   9039  1 004401   040100 100400                    MLR     fill='040'O
         1 004402   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 004403   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8

     1106     9040    2              END;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:199  
     1107     9041    1           CALL GET_TYPE(TEXTC,FTEXTC);

   9041  1 004404   200036 631500                    EPPR1   FTEXTC,,AUTO
         1 004405   200050 451500                    STP1    @MODEL+1,,AUTO
         1 004406   200033 633500                    EPPR3   TEXTC,,AUTO
         1 004407   200047 453500                    STP3    @DEVNAME+3,,AUTO
         1 004410   007526 701000 1                  TSX1    GET_TYPE
         1 004411   000000 011000                    NOP     0

     1108     9042    1           CMD$->IT$DTDEV.TYPE=DVTX;

   9042  1 004412   200004 470500                    LDP0    CMD$,,AUTO
         1 004413   200025 236100                    LDQ     DVTX,,AUTO
         1 004414   000033 736000                    QLS     27
         1 004415   000004 552140                    STBQ    4,'40'O,PR0

     1109     9043    1           CMD$->IT$DTDEV.MODX=MODX;

   9043  1 004416   200026 236100                    LDQ     MODX,,AUTO
         1 004417   000022 736000                    QLS     18
         1 004420   000004 552120                    STBQ    4,'20'O,PR0

     1110     9044    1           CMD$->IT$DTDEV.FX=FX;

   9044  1 004421   200027 236100                    LDQ     FX,,AUTO
         1 004422   000011 736000                    QLS     9
         1 004423   000004 552110                    STBQ    4,'10'O,PR0

     1111     9045    1           CMD$=PINCRW(CMD$,SIZEW(IT$DTDEV));

   9045  1 004424   200004 236100                    LDQ     CMD$,,AUTO
         1 004425   000010 036003                    ADLQ    8,DU
         1 004426   200004 756100                    STQ     CMD$,,AUTO

     1112     9046    1           CMD$->IT$CMDWD= %ITS_ENDCMD;

   9046  1 004427   000145 235007                    LDA     101,DL
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:200  
         1 004430   200004 470500                    LDP0    CMD$,,AUTO
         1 004431   000000 755100                    STA     0,,PR0

     1113     9047    1           CALL ITD$DISKTAPE(PCB/* TIGR$ */);

   9047  1 004432   200003 630500                    EPPR0   @PCB,,AUTO
         1 004433   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 004434   000000 701000 xent               TSX1    ITD$DISKTAPE
         1 004435   000000 011000                    NOP     0

     1114     9048        /**/
     1115     9049        /* CONFIGURE TAPE SUBSYSTEM */
     1116     9050        /**/
     1117     9051    1           CMD$=B$DS5$;

   9051  1 004436   000000 236000 xsym               LDQ     B$DS5$
         1 004437   200004 756100                    STQ     CMD$,,AUTO

     1118     9052    1           CMD$->IT$CMDWD= %ITS_TAPE;

   9052  1 004440   000003 235007                    LDA     3,DL
         1 004441   200004 470500                    LDP0    CMD$,,AUTO
         1 004442   000000 755100                    STA     0,,PR0

     1119     9053    1           CMD$=PINCRW(CMD$,SIZEW(IT$CMDWD));

   9053  1 004443   000001 036003                    ADLQ    1,DU
         1 004444   200004 756100                    STQ     CMD$,,AUTO

     1120     9054    1           CMD$->IT$MPC='0'B;

   9054  1 004445   200004 470500                    LDP0    CMD$,,AUTO
         1 004446   000100 100400                    MLR     fill='000'O
         1 004447   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 004450   000000 000102                    ADSC9   0,,PR0                   cn=0,n=66

     1121     9055    1           CMD$->IT$MPC.CNTWD=MPC_CNTWD;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:201  

   9055  1 004451   000034 236000 0                  LDQ     MPC_CNTWD
         1 004452   000000 756100                    STQ     0,,PR0

     1122     9056    1           IF IT_CONFIG.TC01.FWNAME='M601' THEN

   9056  1 004453   000016 236000 xsym               LDQ     IT_CONFIG+14
         1 004454   000144 116000 0                  CMPQ    APDEV_CNTWD+64
         1 004455   004462 601000 1                  TNZ     s:9058

     1123     9057    1              TEXTC.TEXT='MTP0601';

   9057  1 004456   040100 100400                    MLR     fill='040'O
         1 004457   000145 000007 0                  ADSC9   APDEV_CNTWD+65           cn=0,n=7
         1 004460   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
         1 004461   004501 710000 1                  TRA     s:9064

     1124     9058    1           ELSE IF IT_CONFIG.TC01.FWNAME='TPUR' THEN

   9058  1 004462   000147 116000 0                  CMPQ    APDEV_CNTWD+67
         1 004463   004470 601000 1                  TNZ     s:9060

     1125     9059    1                 TEXTC.TEXT='MTPTPUR';

   9059  1 004464   040100 100400                    MLR     fill='040'O
         1 004465   000150 000007 0                  ADSC9   APDEV_CNTWD+68           cn=0,n=7
         1 004466   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
         1 004467   004501 710000 1                  TRA     s:9064

     1126     9060    1              ELSE IF IT_CONFIG.TC01.FWNAME='M610' THEN

   9060  1 004470   000152 116000 0                  CMPQ    APDEV_CNTWD+70
         1 004471   004476 601000 1                  TNZ     s:9063

     1127     9061    1                    TEXTC.TEXT='MTP0610';

   9061  1 004472   040100 100400                    MLR     fill='040'O
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:202  
         1 004473   000051 000007 0                  ADSC9   APDEV_CNTWD+5            cn=0,n=7
         1 004474   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
         1 004475   004501 710000 1                  TRA     s:9064

     1128     9062    1                 ELSE
     1129     9063    1                    TEXTC.TEXT='MTP8215';

   9063  1 004476   040100 100400                    MLR     fill='040'O
         1 004477   000153 000007 0                  ADSC9   APDEV_CNTWD+71           cn=0,n=7
         1 004500   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1130     9064    1           FTEXTC.TEXT=' ';

   9064  1 004501   040100 100400                    MLR     fill='040'O
         1 004502   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 004503   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8

     1131     9065    1           CALL GET_TYPE(TEXTC,FTEXTC);

   9065  1 004504   200036 631500                    EPPR1   FTEXTC,,AUTO
         1 004505   200050 451500                    STP1    @MODEL+1,,AUTO
         1 004506   200033 633500                    EPPR3   TEXTC,,AUTO
         1 004507   200047 453500                    STP3    @DEVNAME+3,,AUTO
         1 004510   007526 701000 1                  TSX1    GET_TYPE
         1 004511   000000 011000                    NOP     0

     1132     9066    1           CMD$->IT$MPC.MPCTYPE=DVTX;

   9066  1 004512   200025 720100                    LXL0    DVTX,,AUTO
         1 004513   200004 470500                    LDP0    CMD$,,AUTO
         1 004514   000001 740100                    STX0    1,,PR0

     1133     9067    1           CMD$->IT$MPC.MODX=MODX;

   9067  1 004515   200026 721100                    LXL1    MODX,,AUTO
         1 004516   000001 441100                    SXL1    1,,PR0

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:203  
     1134     9068    1           CMD$->IT$MPC.FX=FX;

   9068  1 004517   200027 722100                    LXL2    FX,,AUTO
         1 004520   000002 742100                    STX2    2,,PR0

     1135     9069    1           CMD$->IT$MPC.MPCNAME='TC010000';

   9069  1 004521   040100 100400                    MLR     fill='040'O
         1 004522   000155 000010 0                  ADSC9   APDEV_CNTWD+73           cn=0,n=8
         1 004523   000002 400010                    ADSC9   2,,PR0                   cn=2,n=8

     1136     9070    1           CMD$->IT$MPC.FWNAME=IT_CONFIG.TC01.FWNAME;

   9070  1 004524   040100 100400                    MLR     fill='040'O
         1 004525   000016 000004 xsym               ADSC9   IT_CONFIG+14             cn=0,n=4
         1 004526   000004 400004                    ADSC9   4,,PR0                   cn=2,n=4

     1137     9071    1           CMD$->IT$MPC.LA_IOM.PRESENCE(0)='1'B;

   9071  1 004527   400000 236007                    LDQ     -131072,DL
         1 004530   000010 256100                    ORSQ    8,,PR0

     1138     9072    1           CMD$->IT$MPC.LA_IOM.LO_CHAN(0)=IT_CONFIG.TC01.CHAN;

   9072  1 004531   000015 723000 xsym               LXL3    IT_CONFIG+13
         1 004532   000011 443100                    SXL3    9,,PR0

     1139     9073    1           CMD$->IT$MPC.LA_IOM.HI_CHAN(0)=IT_CONFIG.TC01.CHAN;

   9073  1 004533   000015 724000 xsym               LXL4    IT_CONFIG+13
         1 004534   000012 744100                    STX4    10,,PR0

     1140     9074    1           CMD$=PINCRW(CMD$,SIZEW(IT$MPC));

   9074  1 004535   200004 236100                    LDQ     CMD$,,AUTO
         1 004536   000021 036003                    ADLQ    17,DU
         1 004537   200004 756100                    STQ     CMD$,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:204  

     1141     9075        /**/
     1142     9076        /* CONFIGURE MT01 */
     1143     9077        /**/
     1144     9078    1           CALL BUILD_TAPE(IT_CONFIG.MT01.DVN,'MT010000');

   9078  1 004540   000062 236000 2                  LDQ     50
         1 004541   200044 756100                    STQ     @TEMP+1,,AUTO
         1 004542   000063 236000 2                  LDQ     51
         1 004543   200043 756100                    STQ     FTEXTC+5,,AUTO
         1 004544   005146 701000 1                  TSX1    BUILD_TAPE
         1 004545   000000 011000                    NOP     0

     1145     9079        /**/
     1146     9080        /* CONFIGURE MT02 IF PRESENT */
     1147     9081        /**/
     1148     9082    1           IF IT_CONFIG.MT02.DVN~=0 THEN

   9082  1 004546   000020 235000 xsym               LDA     IT_CONFIG+16
         1 004547   004556 600000 1                  TZE     s:9084

     1149     9083    1              CALL BUILD_TAPE(IT_CONFIG.MT02.DVN,'MT020000');

   9083  1 004550   000064 236000 2                  LDQ     52
         1 004551   200044 756100                    STQ     @TEMP+1,,AUTO
         1 004552   000065 236000 2                  LDQ     53
         1 004553   200043 756100                    STQ     FTEXTC+5,,AUTO
         1 004554   005146 701000 1                  TSX1    BUILD_TAPE
         1 004555   000000 011000                    NOP     0

     1150     9084    1           CMD$->IT$CMDWD= %ITS_ENDCMD;

   9084  1 004556   000145 235007                    LDA     101,DL
         1 004557   200004 470500                    LDP0    CMD$,,AUTO
         1 004560   000000 755100                    STA     0,,PR0

     1151     9085    1           CALL ITD$DISKTAPE(PCB/* TIGR$ */);
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:205  

   9085  1 004561   200003 630500                    EPPR0   @PCB,,AUTO
         1 004562   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 004563   000000 701000 xent               TSX1    ITD$DISKTAPE
         1 004564   000000 011000                    NOP     0

     1152     9086        /**/
     1153     9087        /* CONFIGURE UNIT RECORD SUBSYSTEM */
     1154     9088        /**/
     1155     9089    1           CMD$=B$DS5$;

   9089  1 004565   000000 236000 xsym               LDQ     B$DS5$
         1 004566   200004 756100                    STQ     CMD$,,AUTO

     1156     9090    1           CMD$->IT$CMDWD=%ITS_UNIT;

   9090  1 004567   000004 235007                    LDA     4,DL
         1 004570   200004 470500                    LDP0    CMD$,,AUTO
         1 004571   000000 755100                    STA     0,,PR0

     1157     9091    1           CMD$=PINCRW(CMD$,SIZEW(IT$CMDWD));

   9091  1 004572   000001 036003                    ADLQ    1,DU
         1 004573   200004 756100                    STQ     CMD$,,AUTO

     1158     9092        /**/
     1159     9093    1           CMD$->IT$MPC='0'B;

   9093  1 004574   200004 470500                    LDP0    CMD$,,AUTO
         1 004575   000100 100400                    MLR     fill='000'O
         1 004576   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 004577   000000 000102                    ADSC9   0,,PR0                   cn=0,n=66

     1160     9094    1           CMD$->IT$MPC.CNTWD=MPC_CNTWD;

   9094  1 004600   000034 236000 0                  LDQ     MPC_CNTWD
         1 004601   000000 756100                    STQ     0,,PR0
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:206  

     1161     9095    1           IF IT_CONFIG.UC01.FWNAME='UCMN' OR HW_IOP THEN

   9095  1 004602   000005 236000 xsym               LDQ     IT_CONFIG+5
         1 004603   000163 116000 0                  CMPQ    APDEV_CNTWD+79
         1 004604   004607 600000 1                  TZE     s:9096
         1 004605   000000 234000 xsym               SZN     HW_IOP
         1 004606   004613 605000 1                  TPL     s:9097

     1162     9096    1              TEXTC.TEXT='URP0600';

   9096  1 004607   040100 100400                    MLR     fill='040'O
         1 004610   000054 000007 0                  ADSC9   APDEV_CNTWD+8            cn=0,n=7
         1 004611   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
         1 004612   004632 710000 1                  TRA     s:9103

     1163     9097    1           ELSE IF IT_CONFIG.UC01.FWNAME='URTP' THEN

   9097  1 004613   000164 116000 0                  CMPQ    APDEV_CNTWD+80
         1 004614   004621 601000 1                  TNZ     s:9099

     1164     9098    1                 TEXTC.TEXT='URPURTP';

   9098  1 004615   040100 100400                    MLR     fill='040'O
         1 004616   000165 000007 0                  ADSC9   APDEV_CNTWD+81           cn=0,n=7
         1 004617   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
         1 004620   004632 710000 1                  TRA     s:9103

     1165     9099    1              ELSE IF HW_IMX THEN

   9099  1 004621   000000 234000 xsym               SZN     HW_IMX
         1 004622   004627 605000 1                  TPL     s:9102

     1166     9100    1                    TEXTC.TEXT='URP8600';

   9100  1 004623   040100 100400                    MLR     fill='040'O
         1 004624   000167 000007 0                  ADSC9   APDEV_CNTWD+83           cn=0,n=7
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:207  
         1 004625   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
         1 004626   004632 710000 1                  TRA     s:9103

     1167     9101    1                 ELSE
     1168     9102    1                    TEXTC.TEXT='URPEURP';

   9102  1 004627   040100 100400                    MLR     fill='040'O
         1 004630   000171 000007 0                  ADSC9   APDEV_CNTWD+85           cn=0,n=7
         1 004631   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1169     9103    1           FTEXTC.TEXT=' ';

   9103  1 004632   040100 100400                    MLR     fill='040'O
         1 004633   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 004634   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8

     1170     9104    1           CALL GET_TYPE(TEXTC,FTEXTC);

   9104  1 004635   200036 631500                    EPPR1   FTEXTC,,AUTO
         1 004636   200050 451500                    STP1    @MODEL+1,,AUTO
         1 004637   200033 633500                    EPPR3   TEXTC,,AUTO
         1 004640   200047 453500                    STP3    @DEVNAME+3,,AUTO
         1 004641   007526 701000 1                  TSX1    GET_TYPE
         1 004642   000000 011000                    NOP     0

     1171     9105    1           CMD$->IT$MPC.MPCTYPE=DVTX;

   9105  1 004643   200025 720100                    LXL0    DVTX,,AUTO
         1 004644   200004 470500                    LDP0    CMD$,,AUTO
         1 004645   000001 740100                    STX0    1,,PR0

     1172     9106    1           CMD$->IT$MPC.MODX=MODX;

   9106  1 004646   200026 721100                    LXL1    MODX,,AUTO
         1 004647   000001 441100                    SXL1    1,,PR0

     1173     9107    1           CMD$->IT$MPC.FX=FX;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:208  

   9107  1 004650   200027 722100                    LXL2    FX,,AUTO
         1 004651   000002 742100                    STX2    2,,PR0

     1174     9108    1           CMD$->IT$MPC.MPCNAME='UC010000';

   9108  1 004652   040100 100400                    MLR     fill='040'O
         1 004653   000173 000010 0                  ADSC9   APDEV_CNTWD+87           cn=0,n=8
         1 004654   000002 400010                    ADSC9   2,,PR0                   cn=2,n=8

     1175     9109    1           CMD$->IT$MPC.FWNAME=IT_CONFIG.UC01.FWNAME;

   9109  1 004655   040100 100400                    MLR     fill='040'O
         1 004656   000005 000004 xsym               ADSC9   IT_CONFIG+5              cn=0,n=4
         1 004657   000004 400004                    ADSC9   4,,PR0                   cn=2,n=4

     1176     9110    1           CMD$->IT$MPC.LPFWNAME=IT_CONFIG.UC01.LPNAME;

   9110  1 004660   040100 100400                    MLR     fill='040'O
         1 004661   000006 000004 xsym               ADSC9   IT_CONFIG+6              cn=0,n=4
         1 004662   000005 400004                    ADSC9   5,,PR0                   cn=2,n=4

     1177     9111    1           CMD$->IT$MPC.CRPFWNAME=IT_CONFIG.UC01.CRPNAME;

   9111  1 004663   040100 100400                    MLR     fill='040'O
         1 004664   000007 000004 xsym               ADSC9   IT_CONFIG+7              cn=0,n=4
         1 004665   000006 400004                    ADSC9   6,,PR0                   cn=2,n=4

     1178     9112    1           CMD$=PINCRW(CMD$,SIZEW(IT$MPC));

   9112  1 004666   200004 236100                    LDQ     CMD$,,AUTO
         1 004667   000021 036003                    ADLQ    17,DU
         1 004670   200004 756100                    STQ     CMD$,,AUTO

     1179     9113    1           IF IT_CONFIG.UC01.CHAN=0 THEN

   9113  1 004671   000004 235000 xsym               LDA     IT_CONFIG+4
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:209  
         1 004672   004676 601000 1                  TNZ     s:9118

     1180     9114    1              CMD$->IT$MPC.FLAGS.DOWN='1'B;

   9114  1 004673   200004 470500                    LDP0    CMD$,,AUTO
         1 004674   400000 236007                    LDQ     -131072,DL
         1 004675   000007 256100                    ORSQ    7,,PR0

     1181     9115        /**/
     1182     9116        /* CONFIGURE LP01 IF PRESENT */
     1183     9117        /**/
     1184     9118    1           CMD$->IT$UNITDEV='0'B;

   9118  1 004676   200004 470500                    LDP0    CMD$,,AUTO
         1 004677   000100 100400                    MLR     fill='000'O
         1 004700   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 004701   000000 000062                    ADSC9   0,,PR0                   cn=0,n=50

     1185     9119    1           CMD$->IT$UNITDEV.CNTWD=UNITDEV_CNTWD;

   9119  1 004702   000036 236000 0                  LDQ     UNITDEV_CNTWD
         1 004703   000000 756100                    STQ     0,,PR0

     1186     9120    1           CMD$->IT$UNITDEV.FLAGS.OUTPUT='1'B;

   9120  1 004704   200000 236003                    LDQ     65536,DU
         1 004705   000001 256100                    ORSQ    1,,PR0

     1187     9121    1           CMD$->IT$UNITDEV.FLAGS.SYMBIONT='1'B;

   9121  1 004706   020000 236003                    LDQ     8192,DU
         1 004707   000001 256100                    ORSQ    1,,PR0

     1188     9122    1           CMD$->IT$UNITDEV.FLAGS.PSIA='1'B;

   9122  1 004710   010000 236003                    LDQ     4096,DU
         1 004711   000001 256100                    ORSQ    1,,PR0
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:210  

     1189     9123    1           IF IT_CONFIG.LP01.CHAN=0 THEN

   9123  1 004712   000011 235000 xsym               LDA     IT_CONFIG+9
         1 004713   004716 601000 1                  TNZ     s:9125

     1190     9124    1              CMD$->IT$UNITDEV.FLAGS.DOWN='1'B;

   9124  1 004714   040000 236003                    LDQ     16384,DU
         1 004715   000001 256100                    ORSQ    1,,PR0

     1191     9125    1           CMD$->IT$UNITDEV.DEV#=1;

   9125  1 004716   000001 223003                    LDX3    1,DU
         1 004717   000001 443100                    SXL3    1,,PR0

     1192     9126    1           CMD$->IT$UNITDEV.NAME='LP010000';

   9126  1 004720   040100 100400                    MLR     fill='040'O
         1 004721   000175 000010 0                  ADSC9   APDEV_CNTWD+89           cn=0,n=8
         1 004722   000002 000010                    ADSC9   2,,PR0                   cn=0,n=8

     1193     9127    1           IF HW_IMX THEN

   9127  1 004723   000000 234000 xsym               SZN     HW_IMX
         1 004724   004731 605000 1                  TPL     s:9130

     1194     9128    1              TEXTC.TEXT='PRU1201';

   9128  1 004725   040100 100400                    MLR     fill='040'O
         1 004726   000177 000007 0                  ADSC9   APDEV_CNTWD+91           cn=0,n=7
         1 004727   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8
         1 004730   004734 710000 1                  TRA     s:9131

     1195     9129    1           ELSE
     1196     9130    1              TEXTC.TEXT='PRU1200';

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:211  
   9130  1 004731   040100 100400                    MLR     fill='040'O
         1 004732   000201 000007 0                  ADSC9   APDEV_CNTWD+93           cn=0,n=7
         1 004733   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1197     9131    1           FTEXTC.TEXT='PRB0600';

   9131  1 004734   040100 100400                    MLR     fill='040'O
         1 004735   000203 000007 0                  ADSC9   APDEV_CNTWD+95           cn=0,n=7
         1 004736   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8

     1198     9132    1           CALL GET_TYPE(TEXTC,FTEXTC);

   9132  1 004737   200036 631500                    EPPR1   FTEXTC,,AUTO
         1 004740   200050 451500                    STP1    @MODEL+1,,AUTO
         1 004741   200033 633500                    EPPR3   TEXTC,,AUTO
         1 004742   200047 453500                    STP3    @DEVNAME+3,,AUTO
         1 004743   007526 701000 1                  TSX1    GET_TYPE
         1 004744   000000 011000                    NOP     0

     1199     9133    1           CMD$->IT$UNITDEV.TYPE=DVTX;

   9133  1 004745   200004 470500                    LDP0    CMD$,,AUTO
         1 004746   200025 236100                    LDQ     DVTX,,AUTO
         1 004747   000022 736000                    QLS     18
         1 004750   000004 552120                    STBQ    4,'20'O,PR0

     1200     9134    1           CMD$->IT$UNITDEV.MODX=MODX;

   9134  1 004751   200026 236100                    LDQ     MODX,,AUTO
         1 004752   000011 736000                    QLS     9
         1 004753   000004 552110                    STBQ    4,'10'O,PR0

     1201     9135    1           CMD$->IT$UNITDEV.FX=FX;

   9135  1 004754   200027 236100                    LDQ     FX,,AUTO
         1 004755   000004 552104                    STBQ    4,'04'O,PR0

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:212  
     1202     9136    1           CMD$->IT$UNITDEV.FORMNAME='STDLP';

   9136  1 004756   040100 100400                    MLR     fill='040'O
         1 004757   000064 000005 0                  ADSC9   APDEV_CNTWD+16           cn=0,n=5
         1 004760   000005 000006                    ADSC9   5,,PR0                   cn=0,n=6

     1203     9137    1           CMD$->IT$UNITDEV.IOMCHAN.CHAN(0)=IT_CONFIG.LP01.CHAN;

   9137  1 004761   000011 720000 xsym               LXL0    IT_CONFIG+9
         1 004762   000007 740100                    STX0    7,,PR0

     1204     9138    1           CMD$->IT$UNITDEV.IOMCHAN.IOM#(1)=-1; /* NOT THERE */

   9138  1 004763   777777 221003                    LDX1    -1,DU
         1 004764   000007 441100                    SXL1    7,,PR0

     1205     9139    1           CMD$->IT$UNITDEV.VFC$=ADDR(IT_VFC);

   9139  1 004765   000017 236000 2                  LDQ     15
         1 004766   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 004767   000100 100500                    MLR     fill='000'O
         1 004770   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
         1 004771   000010 400004                    ADSC9   8,,PR0                   cn=2,n=4

     1206     9140    1           CMD$->IT$UNITDEV.VFCL=SIZEW(IT_VFC);

   9140  1 004772   000100 100400                    MLR     fill='000'O
         1 004773   000020 000004 2                  ADSC9   16                       cn=0,n=4
         1 004774   000011 400004                    ADSC9   9,,PR0                   cn=2,n=4

     1207     9141    1           CMD$->IT$UNITDEV.CHAIN$=ADDR(IT_CHAIN600);

   9141  1 004775   000023 236000 2                  LDQ     19
         1 004776   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 004777   000100 100500                    MLR     fill='000'O
         1 005000   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
         1 005001   000012 400004                    ADSC9   10,,PR0                  cn=2,n=4
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:213  

     1208     9142    1           CMD$->IT$UNITDEV.CHAINL=SIZEW(IT_CHAIN600);

   9142  1 005002   000100 100400                    MLR     fill='000'O
         1 005003   000022 000004 2                  ADSC9   18                       cn=0,n=4
         1 005004   000013 400004                    ADSC9   11,,PR0                  cn=2,n=4

     1209     9143    1           CMD$=PINCRW(CMD$,SIZEW(IT$UNITDEV));

   9143  1 005005   200004 236100                    LDQ     CMD$,,AUTO
         1 005006   000015 036003                    ADLQ    13,DU
         1 005007   200004 756100                    STQ     CMD$,,AUTO

     1210     9144        /**/
     1211     9145        /* CONFIGURE CR01 IF PRESENT */
     1212     9146        /**/
     1213     9147    2           IF IT_CONFIG.CR01.CHAN~=0 THEN DO;

   9147  1 005010   000013 235000 xsym               LDA     IT_CONFIG+11
         1 005011   005072 600000 1                  TZE     s:9166

     1214     9148    2              CMD$->IT$UNITDEV='0'B;

   9148  1 005012   200004 470500                    LDP0    CMD$,,AUTO
         1 005013   000100 100400                    MLR     fill='000'O
         1 005014   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 005015   000000 000062                    ADSC9   0,,PR0                   cn=0,n=50

     1215     9149    2              CMD$->IT$UNITDEV.CNTWD=UNITDEV_CNTWD;

   9149  1 005016   000036 236000 0                  LDQ     UNITDEV_CNTWD
         1 005017   000000 756100                    STQ     0,,PR0

     1216     9150    2              CMD$->IT$UNITDEV.FLAGS.INPUT='1'B;

   9150  1 005020   400000 236003                    LDQ     -131072,DU
         1 005021   000001 256100                    ORSQ    1,,PR0
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:214  

     1217     9151    2              CMD$->IT$UNITDEV.FLAGS.SYMBIONT='1'B;

   9151  1 005022   020000 236003                    LDQ     8192,DU
         1 005023   000001 256100                    ORSQ    1,,PR0

     1218     9152    2              CMD$->IT$UNITDEV.FLAGS.PSIA='1'B;

   9152  1 005024   010000 236003                    LDQ     4096,DU
         1 005025   000001 256100                    ORSQ    1,,PR0

     1219     9153    2              CMD$->IT$UNITDEV.DEV#=1;

   9153  1 005026   000001 220003                    LDX0    1,DU
         1 005027   000001 440100                    SXL0    1,,PR0

     1220     9154    2              CMD$->IT$UNITDEV.NAME='CR010000';

   9154  1 005030   040100 100400                    MLR     fill='040'O
         1 005031   000205 000010 0                  ADSC9   APDEV_CNTWD+97           cn=0,n=8
         1 005032   000002 000010                    ADSC9   2,,PR0                   cn=0,n=8

     1221     9155    2              TEXTC.TEXT='CRU0501';

   9155  1 005033   040100 100400                    MLR     fill='040'O
         1 005034   000207 000007 0                  ADSC9   APDEV_CNTWD+99           cn=0,n=7
         1 005035   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1222     9156    2              FTEXTC.TEXT=' ';

   9156  1 005036   040100 100400                    MLR     fill='040'O
         1 005037   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 005040   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8

     1223     9157    2              CALL GET_TYPE(TEXTC,FTEXTC);

   9157  1 005041   200036 631500                    EPPR1   FTEXTC,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:215  
         1 005042   200050 451500                    STP1    @MODEL+1,,AUTO
         1 005043   200033 633500                    EPPR3   TEXTC,,AUTO
         1 005044   200047 453500                    STP3    @DEVNAME+3,,AUTO
         1 005045   007526 701000 1                  TSX1    GET_TYPE
         1 005046   000000 011000                    NOP     0

     1224     9158    2              CMD$->IT$UNITDEV.TYPE=DVTX;

   9158  1 005047   200004 470500                    LDP0    CMD$,,AUTO
         1 005050   200025 236100                    LDQ     DVTX,,AUTO
         1 005051   000022 736000                    QLS     18
         1 005052   000004 552120                    STBQ    4,'20'O,PR0

     1225     9159    2              CMD$->IT$UNITDEV.MODX=MODX;

   9159  1 005053   200026 236100                    LDQ     MODX,,AUTO
         1 005054   000011 736000                    QLS     9
         1 005055   000004 552110                    STBQ    4,'10'O,PR0

     1226     9160    2              CMD$->IT$UNITDEV.FX=FX;

   9160  1 005056   200027 236100                    LDQ     FX,,AUTO
         1 005057   000004 552104                    STBQ    4,'04'O,PR0

     1227     9161    2              CMD$->IT$UNITDEV.FORMNAME=' ';

   9161  1 005060   040100 100400                    MLR     fill='040'O
         1 005061   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 005062   000005 000006                    ADSC9   5,,PR0                   cn=0,n=6

     1228     9162    2              CMD$->IT$UNITDEV.IOMCHAN.CHAN(0)=IT_CONFIG.CR01.CHAN;

   9162  1 005063   000013 720000 xsym               LXL0    IT_CONFIG+11
         1 005064   000007 740100                    STX0    7,,PR0

     1229     9163    2              CMD$->IT$UNITDEV.IOMCHAN.IOM#(1)=-1; /* NOT THERE */

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:216  
   9163  1 005065   777777 221003                    LDX1    -1,DU
         1 005066   000007 441100                    SXL1    7,,PR0

     1230     9164    2              CMD$=PINCRW(CMD$,SIZEW(IT$UNITDEV));

   9164  1 005067   200004 236100                    LDQ     CMD$,,AUTO
         1 005070   000015 036003                    ADLQ    13,DU
         1 005071   200004 756100                    STQ     CMD$,,AUTO

     1231     9165    2              END;

     1232     9166    1           CMD$->IT$CMDWD= %ITS_ENDCMD;

   9166  1 005072   000145 235007                    LDA     101,DL
         1 005073   200004 470500                    LDP0    CMD$,,AUTO
         1 005074   000000 755100                    STA     0,,PR0

     1233     9167    1           CALL ITU$UNIT(PCB/* TIGR$ */);

   9167  1 005075   200003 630500                    EPPR0   @PCB,,AUTO
         1 005076   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 005077   000000 701000 xent               TSX1    ITU$UNIT
         1 005100   000000 011000                    NOP     0

     1234     9168        /**/
     1235     9169        /* CONFIGURE FEP 1 */
     1236     9170        /**/
     1237     9171    1           CMD$=B$DS5$;

   9171  1 005101   000000 236000 xsym               LDQ     B$DS5$
         1 005102   200004 756100                    STQ     CMD$,,AUTO

     1238     9172    2           IF IT_CONFIG.FEP1.CHAN~=0 THEN DO;

   9172  1 005103   000026 235000 xsym               LDA     IT_CONFIG+22
         1 005104   005145 600000 1                  TZE     s:9187

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:217  
     1239     9173    2              CMD$->IT$CMDWD=%ITS_FEP;

   9173  1 005105   000006 235007                    LDA     6,DL
         1 005106   200004 470500                    LDP0    CMD$,,AUTO
         1 005107   000000 755100                    STA     0,,PR0

     1240     9174    2              CMD$=PINCRW(CMD$,SIZEW(IT$CMDWD));

   9174  1 005110   000001 036003                    ADLQ    1,DU
         1 005111   200004 756100                    STQ     CMD$,,AUTO

     1241     9175    2              CMD$->IT$FEP='0'B;

   9175  1 005112   200004 470500                    LDP0    CMD$,,AUTO
         1 005113   000100 100400                    MLR     fill='000'O
         1 005114   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 005115   000000 000044                    ADSC9   0,,PR0                   cn=0,n=36

     1242     9176    2              CMD$->IT$FEP.CNTWD=FEP_CNTWD;

   9176  1 005116   000042 236000 0                  LDQ     FEP_CNTWD
         1 005117   000000 756100                    STQ     0,,PR0

     1243     9177    2              CMD$->IT$FEP.FEP#=1;

   9177  1 005120   000001 235007                    LDA     1,DL
         1 005121   000004 755100                    STA     4,,PR0

     1244     9178    2              CMD$->IT$FEP.IOM#=0;

   9178  1 005122   000001 450100                    STZ     1,,PR0

     1245     9179    2              CMD$->IT$FEP.CHAN=IT_CONFIG.FEP1.CHAN;

   9179  1 005123   000026 235000 xsym               LDA     IT_CONFIG+22
         1 005124   000002 755100                    STA     2,,PR0

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:218  
     1246     9180    2              CMD$->IT$FEP.INQSZ=2;

   9180  1 005125   000002 235007                    LDA     2,DL
         1 005126   000005 755100                    STA     5,,PR0

     1247     9181    2              CMD$->IT$FEP.OUTQSZ=4;

   9181  1 005127   000004 235007                    LDA     4,DL
         1 005130   000006 755100                    STA     6,,PR0

     1248     9182    2              CMD$->IT$FEP.QOS = 1;

   9182  1 005131   000001 235007                    LDA     1,DL
         1 005132   000007 755100                    STA     7,,PR0

     1249     9183    2              CMD$=PINCRW(CMD$,SIZEW(IT$FEP));

   9183  1 005133   200004 236100                    LDQ     CMD$,,AUTO
         1 005134   000011 036003                    ADLQ    9,DU
         1 005135   200004 756100                    STQ     CMD$,,AUTO

     1250     9184    2              CMD$->IT$CMDWD= %ITS_ENDCMD;

   9184  1 005136   000145 235007                    LDA     101,DL
         1 005137   200004 470500                    LDP0    CMD$,,AUTO
         1 005140   000000 755100                    STA     0,,PR0

     1251     9185    2              CALL ITF$FEP(PCB/* TIGR$ */);

   9185  1 005141   200003 630500                    EPPR0   @PCB,,AUTO
         1 005142   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 005143   000000 701000 xent               TSX1    ITF$FEP
         1 005144   000000 011000                    NOP     0

     1252     9186    2              END;

     1253     9187    1           RETURN;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:219  

   9187  1 005145   000000 702200 xent               TSX2  ! X66_ARET

     1254     9188        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:220  
     1255     9189    1   BUILD_TAPE: PROC(DVN,DEVNAME);

   9189  1 005146   200042 741300       BUILD_TAPE   STX1  ! FTEXTC+4,,AUTO

     1256     9190        /**/
     1257     9191    2   DCL DVN SBIN;
     1258     9192    2   DCL DEVNAME CHAR(8);
     1259     9193    2           CMD$->IT$DTDEV='0'B;

   9193  1 005147   200004 470500                    LDP0    CMD$,,AUTO
         1 005150   000100 100400                    MLR     fill='000'O
         1 005151   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 005152   000000 000035                    ADSC9   0,,PR0                   cn=0,n=29

     1260     9194    2           CMD$->IT$DTDEV.CNTWD=DTDEV_CNTWD;

   9194  1 005153   000035 236000 0                  LDQ     DTDEV_CNTWD
         1 005154   000000 756100                    STQ     0,,PR0

     1261     9195    2           CMD$->IT$DTDEV.FLAGS.INPUT='1'B;

   9195  1 005155   400000 236003                    LDQ     -131072,DU
         1 005156   000001 256100                    ORSQ    1,,PR0

     1262     9196    2           CMD$->IT$DTDEV.FLAGS.OUTPUT='1'B;

   9196  1 005157   200000 236003                    LDQ     65536,DU
         1 005160   000001 256100                    ORSQ    1,,PR0

     1263     9197    2           CMD$->IT$DTDEV.FLAGS.PSIA='1'B;

   9197  1 005161   010000 236003                    LDQ     4096,DU
         1 005162   000001 256100                    ORSQ    1,,PR0

     1264     9198    2           CMD$->IT$DTDEV.DEV#=DVN;

   9198  1 005163   200043 471500                    LDP1    @DVN,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:221  
         1 005164   100000 720100                    LXL0    0,,PR1
         1 005165   000001 440100                    SXL0    1,,PR0

     1265     9199    2           CMD$->IT$DTDEV.NAME=DEVNAME;

   9199  1 005166   200044 473500                    LDP3    @DEVNAME,,AUTO
         1 005167   040100 100500                    MLR     fill='040'O
         1 005170   300000 000010                    ADSC9   0,,PR3                   cn=0,n=8
         1 005171   000002 000010                    ADSC9   2,,PR0                   cn=0,n=8

     1266     9200    2           IF IT_CONFIG.TC01.FWNAME='M601' OR IT_CONFIG.TC01.FWNAME='TPUR' OR

   9200  1 005172   000016 236000 xsym               LDQ     IT_CONFIG+14
         1 005173   000144 116000 0                  CMPQ    APDEV_CNTWD+64
         1 005174   005201 600000 1                  TZE     s:9202
         1 005175   000147 116000 0                  CMPQ    APDEV_CNTWD+67
         1 005176   005201 600000 1                  TZE     s:9202
         1 005177   000152 116000 0                  CMPQ    APDEV_CNTWD+70
         1 005200   005210 601000 1                  TNZ     s:9206

     1267     9201    3             IT_CONFIG.TC01.FWNAME='M610' THEN DO;

     1268     9202    3              TEXTC.TEXT='MTU0610';

   9202  1 005201   040100 100400                    MLR     fill='040'O
         1 005202   000211 000007 0                  ADSC9   APDEV_CNTWD+101          cn=0,n=7
         1 005203   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1269     9203    3              FTEXTC.TEXT='MTF0608';

   9203  1 005204   040100 100400                    MLR     fill='040'O
         1 005205   000213 000007 0                  ADSC9   APDEV_CNTWD+103          cn=0,n=7
         1 005206   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8

     1270     9204    3              END;

   9204  1 005207   005216 710000 1                  TRA     s:9209
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:222  

     1271     9205    3           ELSE DO;                        /* M460 - FIPS */

     1272     9206    3              TEXTC.TEXT='MTU8200';

   9206  1 005210   040100 100400                    MLR     fill='040'O
         1 005211   000215 000007 0                  ADSC9   APDEV_CNTWD+105          cn=0,n=7
         1 005212   200033 200010                    ADSC9   TEXTC,,AUTO              cn=1,n=8

     1273     9207    3              FTEXTC.TEXT='MTF8206';

   9207  1 005213   040100 100400                    MLR     fill='040'O
         1 005214   000217 000007 0                  ADSC9   APDEV_CNTWD+107          cn=0,n=7
         1 005215   200036 200010                    ADSC9   FTEXTC,,AUTO             cn=1,n=8

     1274     9208    3              END;

     1275     9209    2           CALL GET_TYPE(TEXTC,FTEXTC);

   9209  1 005216   200036 634500                    EPPR4   FTEXTC,,AUTO
         1 005217   200050 454500                    STP4    @MODEL+1,,AUTO
         1 005220   200033 635500                    EPPR5   TEXTC,,AUTO
         1 005221   200047 455500                    STP5    @DEVNAME+3,,AUTO
         1 005222   007526 701000 1                  TSX1    GET_TYPE
         1 005223   000000 011000                    NOP     0

     1276     9210    2           CMD$->IT$DTDEV.TYPE=DVTX;

   9210  1 005224   200004 470500                    LDP0    CMD$,,AUTO
         1 005225   200025 236100                    LDQ     DVTX,,AUTO
         1 005226   000033 736000                    QLS     27
         1 005227   000004 552140                    STBQ    4,'40'O,PR0

     1277     9211    2           CMD$->IT$DTDEV.MODX=MODX;

   9211  1 005230   200026 236100                    LDQ     MODX,,AUTO
         1 005231   000022 736000                    QLS     18
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:223  
         1 005232   000004 552120                    STBQ    4,'20'O,PR0

     1278     9212    2           CMD$->IT$DTDEV.FX=FX;

   9212  1 005233   200027 236100                    LDQ     FX,,AUTO
         1 005234   000011 736000                    QLS     9
         1 005235   000004 552110                    STBQ    4,'10'O,PR0

     1279     9213    2           CMD$=PINCRW(CMD$,SIZEW(IT$DTDEV));

   9213  1 005236   200004 236100                    LDQ     CMD$,,AUTO
         1 005237   000010 036003                    ADLQ    8,DU
         1 005240   200004 756100                    STQ     CMD$,,AUTO

     1280     9214    2           RETURN;

   9214  1 005241   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 005242   000001 702211                    TSX2  ! 1,X1

     1281     9215    2   END BUILD_TAPE;
     1282     9216        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:224  
     1283     9217        /*D*     NAME:     ITC$CHECK_CPU
     1284     9218                 PURPOSE:  To check the syntax of the TIGR CPU command.
     1285     9219                 DESCRIPTION:   ITC$CHECK_CPU fills in the structure IT$CPU with
     1286     9220                           pointed to by CMD$ with the PORT# and MASTER/SLAVE
     1287     9221                           specifications of the CPU command.      */
     1288     9222        /**/
     1289     9223    1   ITC$CHECK_CPU: ENTRY(PCB) ALTRET;

   9223  1 005243   000000 700200 xent  ITC$CHECK_C* TSX0  ! X66_AUTO_1
         1 005244   000056 000001                    ZERO    46,1

     1290     9224        /**/
     1291     9225    1           CMD$ = B$DS5$;

   9225  1 005245   000000 236000 xsym               LDQ     B$DS5$
         1 005246   200004 756100                    STQ     CMD$,,AUTO

     1292     9226    1           CMD$->IT$CMDWD = %ITS_CPU;

   9226  1 005247   000012 235007                    LDA     10,DL
         1 005250   200004 470500                    LDP0    CMD$,,AUTO
         1 005251   000000 755100                    STA     0,,PR0

     1293     9227        /**/
     1294     9228    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CMDWD));

   9228  1 005252   000001 036003                    ADLQ    1,DU
         1 005253   200004 756100                    STQ     CMD$,,AUTO

     1295     9229        /**/
     1296     9230    1           CMD$->IT$CPU = NO;

   9230  1 005254   200004 470500                    LDP0    CMD$,,AUTO
         1 005255   000000 450100                    STZ     0,,PR0

     1297     9231        /**/
     1298     9232    1           IF PCB.OUT$->P$O.NSUBLKS > 1 THEN CMD$->IT$CPU.MASTER = YES;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:225  

   9232  1 005256   200003 471500                    LDP1    @PCB,,AUTO
         1 005257   100003 473500                    LDP3    3,,PR1
         1 005260   300001 220100                    LDX0    1,,PR3
         1 005261   000002 100003                    CMPX0   2,DU
         1 005262   005265 602000 1                  TNC     s:9234

   9232  1 005263   400000 236007                    LDQ     -131072,DL
         1 005264   000000 256100                    ORSQ    0,,PR0

     1299     9233        /**/
     1300     9234    1           TEXTC = PCB.OUT$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;

   9234  1 005265   100003 473500                    LDP3    3,,PR1
         1 005266   300003 474500                    LDP4    3,,PR3
         1 005267   400003 475500                    LDP5    3,,PR4
         1 005270   000100 101500                    MRL     fill='000'O
         1 005271   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 005272   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 005273   200052 220100                    LDX0    @FEATURE+2,,AUTO
         1 005274   000001 621010                    EAX1    1,X0
         1 005275   000100 100540                    MLR     fill='000'O
         1 005276   500000 000011                    ADSC9   0,,PR5                   cn=0,n=*X1
         1 005277   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

     1301     9235        /**/
     1302     9236    2           IF TEXTC.COUNT > 1 THEN DO;     /* 7 ports max                        */

   9236  1 005300   200033 236100                    LDQ     TEXTC,,AUTO
         1 005301   777000 376003                    ANQ     -512,DU
         1 005302   002000 116003                    CMPQ    1024,DU
         1 005303   005311 602000 1                  TNC     s:9241

     1303     9237    2              CALL ITE$ERROR(%E$PORT#2BIG);

   9237  1 005304   000040 630400 2                  EPPR0   32
         1 005305   000017 631400 xsym               EPPR1   B_VECTNIL+15
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:226  
         1 005306   000000 701000 xent               TSX1    ITE$ERROR
         1 005307   000000 011000                    NOP     0

     1304     9238    2              ALTRETURN;

   9238  1 005310   000000 702200 xent               TSX2  ! X66_AALT

     1305     9239    2              END;
     1306     9240        /**/
     1307     9241    1           CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   9241  1 005311   200033 236100                    LDQ     TEXTC,,AUTO
         1 005312   000033 772000                    QRL     27
         1 005313   000000 620006                    EAX0    0,QL
         1 005314   000100 305540                    DTB
         1 005315   200033 230010                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X0
         1 005316   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

     1308     9242    1           CMD$->IT$CPU.PORT# = TEMP;

   9242  1 005317   200024 720100                    LXL0    TEMP,,AUTO
         1 005320   000000 740100                    STX0    0,,PR0

     1309     9243        /**/
     1310     9244    1           RETURN;

   9244  1 005321   000000 702200 xent               TSX2  ! X66_ARET

     1311     9245        /**/
     1312     9246        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:227  
     1313     9247        /*D*     NAME:     ITC$CHECK_FEP
     1314     9248                 PURPOSE:  To check the syntax of the TIGR FEP command.
     1315     9249                 DESCRIPTION: ITC$CHECK_FEP puts the IOM connection
     1316     9250                           information specified on the FEP command into the
     1317     9251                           structure IT$FEP pointed to by CMD$.    */
     1318     9252        /**/
     1319     9253    1   ITC$CHECK_FEP: ENTRY(PCB) ALTRET;

   9253  1 005322   000000 700200 xent  ITC$CHECK_F* TSX0  ! X66_AUTO_1
         1 005323   000056 000001                    ZERO    46,1

     1320     9254        /**/
     1321     9255    1           CMD$ = B$DS5$;

   9255  1 005324   000000 236000 xsym               LDQ     B$DS5$
         1 005325   200004 756100                    STQ     CMD$,,AUTO

     1322     9256    1           CMD$->IT$CMDWD = %ITS_FEP;

   9256  1 005326   000006 235007                    LDA     6,DL
         1 005327   200004 470500                    LDP0    CMD$,,AUTO
         1 005330   000000 755100                    STA     0,,PR0

     1323     9257        /**/
     1324     9258    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CMDWD));

   9258  1 005331   000001 036003                    ADLQ    1,DU
         1 005332   200004 756100                    STQ     CMD$,,AUTO

     1325     9259        /**/
     1326     9260    1           CMD$->IT$FEP = NO;

   9260  1 005333   200004 470500                    LDP0    CMD$,,AUTO
         1 005334   000100 100400                    MLR     fill='000'O
         1 005335   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 005336   000000 000044                    ADSC9   0,,PR0                   cn=0,n=36

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:228  
     1327     9261    1           CMD$->IT$FEP.CNTWD = FEP_CNTWD;

   9261  1 005337   000042 236000 0                  LDQ     FEP_CNTWD
         1 005340   000000 756100                    STQ     0,,PR0

     1328     9262        /**/
     1329     9263    1           BLK$ = PCB.OUT$->P$O.SUBLK$(0); /* NAME                         */

   9263  1 005341   200003 471500                    LDP1    @PCB,,AUTO
         1 005342   100003 473500                    LDP3    3,,PR1
         1 005343   300003 236100                    LDQ     3,,PR3
         1 005344   200007 756100                    STQ     BLK$,,AUTO

     1330     9264        /**/
     1331     9265    1           TEMP=BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C.COUNT;

   9265  1 005345   200007 474500                    LDP4    BLK$,,AUTO
         1 005346   400003 475500                    LDP5    3,,PR4
         1 005347   500003 476500                    LDP6    3,,PR5
         1 005350   000100 101500                    MRL     fill='000'O
         1 005351   600000 000001                    ADSC9   0,,PR6                   cn=0,n=1
         1 005352   200024 000004                    ADSC9   TEMP,,AUTO               cn=0,n=4

     1332     9266    2           IF TEMP=0 OR TEMP>2 THEN DO;

   9266  1 005353   200024 235100                    LDA     TEMP,,AUTO
         1 005354   005357 600000 1                  TZE     s:9267
         1 005355   000002 115007                    CMPA    2,DL
         1 005356   005364 604400 1                  TMOZ    s:9271

     1333     9267    2              CALL ITE$ERROR(%E$BADFEP#);

   9267  1 005357   000067 630400 2                  EPPR0   55
         1 005360   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 005361   000000 701000 xent               TSX1    ITE$ERROR
         1 005362   000000 011000                    NOP     0

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:229  
     1334     9268    2              ALTRETURN;

   9268  1 005363   000000 702200 xent               TSX2  ! X66_AALT

     1335     9269    2              END;
     1336     9270        /**/
     1337     9271    1           CALL CHARBIN(CMD$->IT$FEP.FEP#,SUBSTR(BLK$->P$O.SUBLK$(0)->

   9271  1 005364   400003 473500                    LDP3    3,,PR4
         1 005365   300003 475500                    LDP5    3,,PR3
         1 005366   000100 101500                    MRL     fill='000'O
         1 005367   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 005370   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 005371   200052 220100                    LDX0    @FEATURE+2,,AUTO
         1 005372   000000 621005                    EAX1    0,AL
         1 005373   000100 305540                    DTB
         1 005374   500000 230011                    NDSC9   0,,PR5                   cn=1,s=nosgn,sf=0,n=*X1
         1 005375   200054 000010                    NDSC9   @FEATURE+4,,AUTO         cn=0,s=lsgnf,sf=0,n=8
         1 005376   200055 235100                    LDA     @FEATURE+5,,AUTO
         1 005377   000004 755100                    STA     4,,PR0

     1338     9272    1             P$O.SUBLK$(0)->TEXT$C.TEXT,0,TEMP));
     1339     9273        /**/
     1340     9274    2           IF CMD$->IT$FEP.FEP# = 0 OR CMD$->IT$FEP.FEP# > KI_FEMAX# THEN DO;

   9274  1 005400   005403 600000 1                  TZE     s:9275
         1 005401   000144 115007                    CMPA    100,DL
         1 005402   005410 602000 1                  TNC     s:9279

     1341     9275    2              CALL ITE$ERROR(%E$BADFEP#);

   9275  1 005403   000067 630400 2                  EPPR0   55
         1 005404   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 005405   000000 701000 xent               TSX1    ITE$ERROR
         1 005406   000000 011000                    NOP     0

     1342     9276    2              ALTRETURN;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:230  

   9276  1 005407   000000 702200 xent               TSX2  ! X66_AALT

     1343     9277    2              END;
     1344     9278        /**/
     1345     9279    1           BLK$ = PCB.OUT$->P$O.SUBLK$(1); /* IOM CHANNEL                  */

   9279  1 005410   100003 473500                    LDP3    3,,PR1
         1 005411   300004 236100                    LDQ     4,,PR3
         1 005412   200007 756100                    STQ     BLK$,,AUTO

     1346     9280        /**/
     1347     9281    1           TEXTC = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;

   9281  1 005413   200007 474500                    LDP4    BLK$,,AUTO
         1 005414   400003 475500                    LDP5    3,,PR4
         1 005415   500003 476500                    LDP6    3,,PR5
         1 005416   000100 101500                    MRL     fill='000'O
         1 005417   600000 000001                    ADSC9   0,,PR6                   cn=0,n=1
         1 005420   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 005421   200052 220100                    LDX0    @FEATURE+2,,AUTO
         1 005422   000001 621010                    EAX1    1,X0
         1 005423   000100 100540                    MLR     fill='000'O
         1 005424   600000 000011                    ADSC9   0,,PR6                   cn=0,n=*X1
         1 005425   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

     1348     9282    1           CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   9282  1 005426   200033 236100                    LDQ     TEXTC,,AUTO
         1 005427   000033 772000                    QRL     27
         1 005430   000000 620006                    EAX0    0,QL
         1 005431   000100 305540                    DTB
         1 005432   200033 230010                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X0
         1 005433   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

     1349     9283    2           IF TEMP > NI_IOMS-1 THEN DO;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:231  
   9283  1 005434   200024 236100                    LDQ     TEMP,,AUTO
         1 005435   000000 116000 xsym               CMPQ    NI_IOMS
         1 005436   005444 604000 1                  TMI     s:9288

     1350     9284    2              CALL ITE$ERROR(%E$IOM2BIG);

   9284  1 005437   000010 630400 2                  EPPR0   8
         1 005440   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 005441   000000 701000 xent               TSX1    ITE$ERROR
         1 005442   000000 011000                    NOP     0

     1351     9285    2              ALTRETURN;

   9285  1 005443   000000 702200 xent               TSX2  ! X66_AALT

     1352     9286    2              END;
     1353     9287        /**/
     1354     9288    1           CMD$->IT$FEP.IOM# = TEMP;

   9288  1 005444   000001 756100                    STQ     1,,PR0

     1355     9289        /**/
     1356     9290    1           TEXTC = BLK$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C;

   9290  1 005445   400004 473500                    LDP3    4,,PR4
         1 005446   300003 475500                    LDP5    3,,PR3
         1 005447   000100 101500                    MRL     fill='000'O
         1 005450   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 005451   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 005452   200052 220100                    LDX0    @FEATURE+2,,AUTO
         1 005453   000001 621010                    EAX1    1,X0
         1 005454   000100 100540                    MLR     fill='000'O
         1 005455   500000 000011                    ADSC9   0,,PR5                   cn=0,n=*X1
         1 005456   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

     1357     9291    1           CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:232  
   9291  1 005457   200033 236100                    LDQ     TEXTC,,AUTO
         1 005460   000033 772000                    QRL     27
         1 005461   000000 620006                    EAX0    0,QL
         1 005462   000100 305540                    DTB
         1 005463   200033 230010                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X0
         1 005464   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

     1358     9292    1           CALL ITH$CHECK_CHANNUM ( ,TEMP) ALTRET (FC_ALT);

   9292  1 005465   200024 633500                    EPPR3   TEMP,,AUTO
         1 005466   200053 453500                    STP3    @FEATURE+3,,AUTO
         1 005467   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 005470   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 005471   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 005472   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 005473   000000 701000 xent               TSX1    ITH$CHECK_CHANNUM
         1 005474   005672 702000 1                  TSX2    FC_ALT

     1359     9293        /**/
     1360     9294    1           CMD$->IT$FEP.CHAN = TEMP ;

   9294  1 005475   200004 470500                    LDP0    CMD$,,AUTO
         1 005476   200024 235100                    LDA     TEMP,,AUTO
         1 005477   000002 755100                    STA     2,,PR0

     1361     9295        /**/
     1362     9296    1           CMD$->IT$FEP.INQSZ = 2;

   9296  1 005500   000002 236007                    LDQ     2,DL
         1 005501   000005 756100                    STQ     5,,PR0

     1363     9297    1           CMD$->IT$FEP.OUTQSZ = 4;

   9297  1 005502   000004 235007                    LDA     4,DL
         1 005503   000006 755100                    STA     6,,PR0

     1364     9298    1           CMD$->IT$FEP.QOS = 1;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:233  

   9298  1 005504   000001 235007                    LDA     1,DL
         1 005505   000007 755100                    STA     7,,PR0

     1365     9299    1           CMD$->IT$FEP.TIMEOUT.BOOT = KITM_BT;

   9299  1 005506   036000 236003                    LDQ     15360,DU
         1 005507   000010 552140                    STBQ    8,'40'O,PR0

     1366     9300    1           CMD$->IT$FEP.TIMEOUT.DUMP = KITM_DMP;

   9300  1 005510   000002 236003                    LDQ     2,DU
         1 005511   000010 552120                    STBQ    8,'20'O,PR0

     1367     9301    1           CMD$->IT$FEP.TIMEOUT.RUN  = KITM_RUN;

   9301  1 005512   014000 236007                    LDQ     6144,DL
         1 005513   000010 552110                    STBQ    8,'10'O,PR0

     1368     9302    1           CMD$->IT$FEP.TIMEOUT.INT  = KITM_INIT;

   9302  1 005514   000014 236007                    LDQ     12,DL
         1 005515   000010 552104                    STBQ    8,'04'O,PR0

     1369     9303        /**/
     1370     9304    1           IF PCB.OUT$->P$O.NSUBLKS ~= 2 THEN

   9304  1 005516   200003 471500                    LDP1    @PCB,,AUTO
         1 005517   100003 473500                    LDP3    3,,PR1
         1 005520   300001 220100                    LDX0    1,,PR3
         1 005521   000002 100003                    CMPX0   2,DU
         1 005522   005663 600000 1                  TZE     s:9336

     1371     9305    2           DO J = 2 TO PCB.OUT$->P$O.NSUBLKS - 1;

   9305  1 005523   000002 235007                    LDA     2,DL
         1 005524   200021 755100                    STA     J,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:234  
         1 005525   005655 710000 1                  TRA     s:9335+1

     1372     9306        /**/
     1373     9307    2              BLK$ = PCB.OUT$->P$O.SUBLK$(J);

   9307  1 005526   200003 470500                    LDP0    @PCB,,AUTO
         1 005527   000003 471500                    LDP1    3,,PR0
         1 005530   200021 720100                    LXL0    J,,AUTO
         1 005531   100003 236110                    LDQ     3,X0,PR1
         1 005532   200007 756100                    STQ     BLK$,,AUTO

     1374     9308    3              DO CASE(BLK$->P$O.CODE);

   9308  1 005533   200007 473500                    LDP3    BLK$,,AUTO
         1 005534   300000 236100                    LDQ     0,,PR3
         1 005535   777777 376007                    ANQ     -1,DL
         1 005536   000004 136007                    SBLQ    4,DL
         1 005537   000001 116007                    CMPQ    1,DL
         1 005540   005542 602006 1                  TNC     s:9308+7,QL
         1 005541   005553 710000 1                  TRA     s:9313
         1 005542   005543 710000 1                  TRA     s:9310

     1375     9309    3               CASE(%ITS_STATUS);

     1376     9310    3                 IF BLK$->P$O.SUBLK$(0)->P$O.CODE = %ITS_DOWN THEN

   9310  1 005543   300003 474500                    LDP4    3,,PR3
         1 005544   400000 721100                    LXL1    0,,PR4
         1 005545   000002 101003                    CMPX1   2,DU
         1 005546   005654 601000 1                  TNZ     s:9335

     1377     9311    3                    CMD$->IT$FEP.FLAGS.DOWN = YES ;

   9311  1 005547   400000 236003                    LDQ     -131072,DU
         1 005550   200004 475500                    LDP5    CMD$,,AUTO
         1 005551   500003 756100                    STQ     3,,PR5
         1 005552   005654 710000 1                  TRA     s:9335
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:235  

     1378     9312    3               CASE(ELSE);

     1379     9313    3                 TEXTC = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;

   9313  1 005553   300003 474500                    LDP4    3,,PR3
         1 005554   400003 475500                    LDP5    3,,PR4
         1 005555   000100 101500                    MRL     fill='000'O
         1 005556   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 005557   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 005560   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 005561   000001 622011                    EAX2    1,X1
         1 005562   000100 100540                    MLR     fill='000'O
         1 005563   500000 000012                    ADSC9   0,,PR5                   cn=0,n=*X2
         1 005564   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

     1380     9314    3                 CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   9314  1 005565   200033 236100                    LDQ     TEXTC,,AUTO
         1 005566   000033 772000                    QRL     27
         1 005567   000000 621006                    EAX1    0,QL
         1 005570   000100 305540                    DTB
         1 005571   200033 230011                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X1
         1 005572   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

     1381     9315    4                 IF TEMP < 1 OR TEMP > 64 THEN DO; /* BAD QSZ OPTION */

   9315  1 005573   200024 235100                    LDA     TEMP,,AUTO
         1 005574   005577 604400 1                  TMOZ    s:9316
         1 005575   000100 115007                    CMPA    64,DL
         1 005576   005604 604400 1                  TMOZ    s:9318

     1382     9316    4                    CALL ITE$ERROR(%E$BADQSZ);

   9316  1 005577   000071 630400 2                  EPPR0   57
         1 005600   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 005601   000000 701000 xent               TSX1    ITE$ERROR
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:236  
         1 005602   000000 011000                    NOP     0

     1383     9317    4                    END;

   9317  1 005603   005654 710000 1                  TRA     s:9335

     1384     9318    4                 ELSE DO CASE(BLK$->P$O.CODE);

   9318  1 005604   300000 721100                    LXL1    0,,PR3
         1 005605   000011 101003                    CMPX1   9,DU
         1 005606   005610 602011 1                  TNC     s:9318+4,X1
         1 005607   005654 710000 1                  TRA     s:9335
         1 005610   005654 710000 1                  TRA     s:9335
         1 005611   005621 710000 1                  TRA     s:9320
         1 005612   005624 710000 1                  TRA     s:9322
         1 005613   005627 710000 1                  TRA     s:9324
         1 005614   005654 710000 1                  TRA     s:9335
         1 005615   005632 710000 1                  TRA     s:9326
         1 005616   005637 710000 1                  TRA     s:9328
         1 005617   005644 710000 1                  TRA     s:9330
         1 005620   005651 710000 1                  TRA     s:9332

     1385     9319    4                  CASE(%ITS_INQSZ);

     1386     9320    4                    CMD$->IT$FEP.INQSZ = TEMP;

   9320  1 005621   200004 471500                    LDP1    CMD$,,AUTO
         1 005622   100005 755100                    STA     5,,PR1
         1 005623   005654 710000 1                  TRA     s:9335

     1387     9321    4                  CASE(%ITS_OUTQSZ);

     1388     9322    4                    CMD$->IT$FEP.OUTQSZ = TEMP;

   9322  1 005624   200004 471500                    LDP1    CMD$,,AUTO
         1 005625   100006 755100                    STA     6,,PR1
         1 005626   005654 710000 1                  TRA     s:9335
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:237  

     1389     9323    4                  CASE(%ITS_QOS);

     1390     9324    4                    CMD$->IT$FEP.QOS = TEMP;

   9324  1 005627   200004 471500                    LDP1    CMD$,,AUTO
         1 005630   100007 755100                    STA     7,,PR1
         1 005631   005654 710000 1                  TRA     s:9335

     1391     9325    4                  CASE(%ITS_BOOTTO);

     1392     9326    4                    CMD$->IT$FEP.TIMEOUT.BOOT = TEMP;

   9326  1 005632   200004 471500                    LDP1    CMD$,,AUTO
         1 005633   200024 236100                    LDQ     TEMP,,AUTO
         1 005634   000033 736000                    QLS     27
         1 005635   100010 552140                    STBQ    8,'40'O,PR1
         1 005636   005654 710000 1                  TRA     s:9335

     1393     9327    4                  CASE(%ITS_DUMPTO);

     1394     9328    4                    CMD$->IT$FEP.TIMEOUT.DUMP = TEMP;

   9328  1 005637   200004 471500                    LDP1    CMD$,,AUTO
         1 005640   200024 236100                    LDQ     TEMP,,AUTO
         1 005641   000022 736000                    QLS     18
         1 005642   100010 552120                    STBQ    8,'20'O,PR1
         1 005643   005654 710000 1                  TRA     s:9335

     1395     9329    4                  CASE(%ITS_RUNTO);

     1396     9330    4                    CMD$->IT$FEP.TIMEOUT.RUN = TEMP;

   9330  1 005644   200004 471500                    LDP1    CMD$,,AUTO
         1 005645   200024 236100                    LDQ     TEMP,,AUTO
         1 005646   000011 736000                    QLS     9
         1 005647   100010 552110                    STBQ    8,'10'O,PR1
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:238  
         1 005650   005654 710000 1                  TRA     s:9335

     1397     9331    4                  CASE(%ITS_INITTO);

     1398     9332    4                    CMD$->IT$FEP.TIMEOUT.INT = TEMP;

   9332  1 005651   200004 471500                    LDP1    CMD$,,AUTO
         1 005652   200024 236100                    LDQ     TEMP,,AUTO
         1 005653   100010 552104                    STBQ    8,'04'O,PR1

     1399     9333    4                  END;

     1400     9334    3               END;

     1401     9335    2              END;

   9335  1 005654   200021 054100                    AOS     J,,AUTO
         1 005655   200003 470500                    LDP0    @PCB,,AUTO
         1 005656   000003 471500                    LDP1    3,,PR0
         1 005657   100001 236100                    LDQ     1,,PR1
         1 005660   000022 772000                    QRL     18
         1 005661   200021 116100                    CMPQ    J,,AUTO
         1 005662   005526 605400 1                  TPNZ    s:9307

     1402     9336    1           CMD$ = PINCRW(CMD$,SIZEW(IT$FEP));

   9336  1 005663   200004 236100                    LDQ     CMD$,,AUTO
         1 005664   000011 036003                    ADLQ    9,DU
         1 005665   200004 756100                    STQ     CMD$,,AUTO

     1403     9337    1           CMD$->IT$CMDWD = %ITS_ENDCMD;

   9337  1 005666   000145 235007                    LDA     101,DL
         1 005667   200004 470500                    LDP0    CMD$,,AUTO
         1 005670   000000 755100                    STA     0,,PR0

     1404     9338        /**/
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:239  
     1405     9339    1           RETURN;

   9339  1 005671   000000 702200 xent               TSX2  ! X66_ARET

     1406     9340    1   FC_ALT: ALTRETURN;

   9340  1 005672   000000 702200 xent  FC_ALT       TSX2  ! X66_AALT

     1407     9341        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:240  
     1408     9342        /*D*     NAME:     ITC$CHECK_MON
     1409     9343                 PURPOSE:  To check the syntax of the TIGR MON command.
     1410     9344                 DESCRIPTION: ITC$CHECK_MON builds a table pointed to by CMD$.
     1411     9345                           This table consists of a seperate frame of the
     1412     9346                           structure IT$MONOPT for each option specified on the
     1413     9347                           MON command. After all the options have been processed
     1414     9348                           a pass is made through all of the possible MON options
     1415     9349                           to build default IT$MONOPT frames for any options
     1416     9350                           that were not specified.
     1417     9351                                The information provided about system processors
     1418     9352                           by the SPROC option is stored temporarily in a data segment
     1419     9353                           to later be used to fill in the processor tables.
     1420     9354        */
     1421     9355        /**/
     1422     9356    1   ITC$CHECK_MON: ENTRY(PCB) ALTRET;

   9356  1 005673   000000 700200 xent  ITC$CHECK_M* TSX0  ! X66_AUTO_1
         1 005674   000056 000001                    ZERO    46,1

     1423     9357        /**/
     1424     9358    1           CMD$ = B$DS5$;

   9358  1 005675   000000 236000 xsym               LDQ     B$DS5$
         1 005676   200004 756100                    STQ     CMD$,,AUTO

     1425     9359        /**/
     1426     9360    1           CMD$->IT$CMDWD = %ITS_MON;

   9360  1 005677   000007 235007                    LDA     7,DL
         1 005700   200004 470500                    LDP0    CMD$,,AUTO
         1 005701   000000 755100                    STA     0,,PR0

     1427     9361        /**/
     1428     9362    1           CMD$ = PINCRW(CMD$,SIZEW(IT$CMDWD));

   9362  1 005702   000001 036003                    ADLQ    1,DU
         1 005703   200004 756100                    STQ     CMD$,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:241  

     1429     9363        /**/
     1430     9364    1           B_SITEINFO.SITE_NAME#.L = 0;

   9364  1 005704   000000 236003                    LDQ     0,DU
         1 005705   000001 552040 xsym               STBQ    B_SITEINFO+1,'40'O

     1431     9365    1           B_SITEINFO.SALUTATION#.L = 0;

   9365  1 005706   000037 552040 xsym               STBQ    B_SITEINFO+31,'40'O

     1432     9366    1           B_SITEINFO.SITE_ID# = ' ';

   9366  1 005707   040000 100400                    MLR     fill='040'O
         1 005710   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 005711   000066 000006 xsym               ADSC9   B_SITEINFO+54            cn=0,n=6

     1433     9367        /**/
     1434     9368    1           B_SITEINFO.CPU_TYPE# = S_PTYPE(0);

   9368  1 005712   000000 236000 xsym               LDQ     S_PTYPE
         1 005713   000011 736000                    QLS     9
         1 005714   000067 552010 xsym               STBQ    B_SITEINFO+55,'10'O

     1435     9369        /**/
     1436     9370    2           DO I = 0 TO PCB.OUT$->P$O.NSUBLKS - 1;

   9370  1 005715   200020 450100                    STZ     I,,AUTO
         1 005716   006043 710000 1                  TRA     s:9412+1

     1437     9371    2              IF PCB.OUT$->P$O.NSUBLKS ~= 0 THEN

   9371  1 005717   200003 470500                    LDP0    @PCB,,AUTO
         1 005720   000003 471500                    LDP1    3,,PR0
         1 005721   100001 220100                    LDX0    1,,PR1
         1 005722   005726 600000 1                  TZE     s:9373

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:242  
     1438     9372    2                 BLK$ = PCB.OUT$->P$O.SUBLK$(I);

   9372  1 005723   200020 721100                    LXL1    I,,AUTO
         1 005724   100003 236111                    LDQ     3,X1,PR1
         1 005725   200007 756100                    STQ     BLK$,,AUTO

     1439     9373    3              DO CASE(BLK$->P$O.CODE);

   9373  1 005726   200007 473500                    LDP3    BLK$,,AUTO
         1 005727   300000 721100                    LXL1    0,,PR3
         1 005730   000035 101003                    CMPX1   29,DU
         1 005731   005733 602011 1                  TNC     s:9373+5,X1
         1 005732   006042 710000 1                  TRA     s:9412
         1 005733   006042 710000 1                  TRA     s:9412
         1 005734   005776 710000 1                  TRA     s:9384
         1 005735   006016 710000 1                  TRA     s:9393
         1 005736   005776 710000 1                  TRA     s:9384
         1 005737   005776 710000 1                  TRA     s:9384
         1 005740   005776 710000 1                  TRA     s:9384
         1 005741   006016 710000 1                  TRA     s:9393
         1 005742   006016 710000 1                  TRA     s:9393
         1 005743   006016 710000 1                  TRA     s:9393
         1 005744   006021 710000 1                  TRA     s:9396
         1 005745   006042 710000 1                  TRA     s:9412
         1 005746   005770 710000 1                  TRA     s:9375
         1 005747   006035 710000 1                  TRA     s:9408
         1 005750   005776 710000 1                  TRA     s:9384
         1 005751   005773 710000 1                  TRA     s:9378
         1 005752   006024 710000 1                  TRA     s:9399
         1 005753   006001 710000 1                  TRA     s:9387
         1 005754   006027 710000 1                  TRA     s:9402
         1 005755   005776 710000 1                  TRA     s:9384
         1 005756   006032 710000 1                  TRA     s:9405
         1 005757   005776 710000 1                  TRA     s:9384
         1 005760   005776 710000 1                  TRA     s:9384
         1 005761   006040 710000 1                  TRA     s:9410
         1 005762   005776 710000 1                  TRA     s:9384
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:243  
         1 005763   005776 710000 1                  TRA     s:9384
         1 005764   005776 710000 1                  TRA     s:9384
         1 005765   005776 710000 1                  TRA     s:9384
         1 005766   005776 710000 1                  TRA     s:9384
         1 005767   005776 710000 1                  TRA     s:9384

     1440     9374    3               CASE(%ITS_SPROC);

     1441     9375    3                 CALL SPROC_OPT ALTRET(OPT_ERR);

   9375  1 005770   006503 701000 1                  TSX1    SPROC_OPT
         1 005771   006502 702000 1                  TSX2    OPT_ERR
         1 005772   006042 710000 1                  TRA     s:9412

     1442     9376        /**/
     1443     9377    3               CASE(%ITS_RES);

     1444     9378    3                 CALL RES_OPT ALTRET(OPT_ERR);

   9378  1 005773   006723 701000 1                  TSX1    RES_OPT
         1 005774   006502 702000 1                  TSX2    OPT_ERR
         1 005775   006042 710000 1                  TRA     s:9412

     1445     9379        /**/
     1446     9380    3               CASE(%ITS_USERS,%ITS_SPSPACE,%ITS_SPAUTOSPACE,%ITS_DOLIST,

     1447     9381    3                   %ITS_DEVMAX,%ITS_PATCHSP,
     1448     9382    3                   %ITS_SSN_CLIENTS,%ITS_SSN_SERVERS,%ITS_SSN_MAX,%ITS_TCTX,%
              9382                            ITS_OSIROUTE,
     1449     9383    3                   %ITS_CGMAP,%ITS_CGCXTSZ,%ITS_FEPRES);
     1450     9384    3                 CALL ONEVAL_OPT ALTRET(OPT_ERR);

   9384  1 005776   007063 701000 1                  TSX1    ONEVAL_OPT
         1 005777   006502 702000 1                  TSX2    OPT_ERR
         1 006000   006042 710000 1                  TRA     s:9412

     1451     9385        /**/
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:244  
     1452     9386    3               CASE(%ITS_DUMPSIZE);

     1453     9387    3                 CALL ONEVAL_OPT ALTRET(OPT_ERR);

   9387  1 006001   007063 701000 1                  TSX1    ONEVAL_OPT
         1 006002   006502 702000 1                  TSX2    OPT_ERR

     1454     9388    3                 CMD$ -> IT$MONOPT.OPTS.VAL1 =

   9388  1 006003   200004 470500                    LDP0    CMD$,,AUTO
         1 006004   000001 236100                    LDQ     1,,PR0
         1 006005   001750 116007                    CMPQ    1000,DL
         1 006006   006010 603000 1                  TRC     s:9388+5
         1 006007   001750 236007                    LDQ     1000,DL
         1 006010   023420 116007                    CMPQ    10000,DL
         1 006011   006014 602000 1                  TNC     s:9388+9
         1 006012   006014 600000 1                  TZE     s:9388+9
         1 006013   023420 236007                    LDQ     10000,DL
         1 006014   000001 756100                    STQ     1,,PR0
         1 006015   006042 710000 1                  TRA     s:9412

     1455     9389    3                   MINIMUM(%MAX_DUMPSIZE,
     1456     9390    3                   MAXIMUM(%MIN_DUMPSIZE, CMD$->IT$MONOPT.OPTS.VAL1));
     1457     9391        /**/
     1458     9392    3               CASE(%ITS_QUEUE,%ITS_ENQ,%ITS_CFU,%ITS_STEALPGS);

     1459     9393    3                 CALL TWOVAL_OPT ALTRET(OPT_ERR);

   9393  1 006016   007124 701000 1                  TSX1    TWOVAL_OPT
         1 006017   006502 702000 1                  TSX2    OPT_ERR
         1 006020   006042 710000 1                  TRA     s:9412

     1460     9394        /**/
     1461     9395    3               CASE(%ITS_SITE);

     1462     9396    3                 CALL SITE_OPT ALTRET(OPT_ERR);

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:245  
   9396  1 006021   007207 701000 1                  TSX1    SITE_OPT
         1 006022   006502 702000 1                  TSX2    OPT_ERR
         1 006023   006042 710000 1                  TRA     s:9412

     1463     9397        /**/
     1464     9398    3               CASE(%ITS_HSITE);

     1465     9399    3                 CALL HSITE_OPT ALTRET(OPT_ERR);

   9399  1 006024   007246 701000 1                  TSX1    HSITE_OPT
         1 006025   006502 702000 1                  TSX2    OPT_ERR
         1 006026   006042 710000 1                  TRA     s:9412

     1466     9400        /**/
     1467     9401    3               CASE(%ITS_SALUTATION);

     1468     9402    3                 CALL SALUTATION_OPT ALTRET(OPT_ERR);

   9402  1 006027   007304 701000 1                  TSX1    SALUTATION_OPT
         1 006030   006502 702000 1                  TSX2    OPT_ERR
         1 006031   006042 710000 1                  TRA     s:9412

     1469     9403        /**/
     1470     9404    3               CASE(%ITS_MTDFLT);

     1471     9405    3                 CALL MTDFLT_OPT ALTRET(OPT_ERR);

   9405  1 006032   007343 701000 1                  TSX1    MTDFLT_OPT
         1 006033   006502 702000 1                  TSX2    OPT_ERR
         1 006034   006042 710000 1                  TRA     s:9412

     1472     9406
     1473     9407    3               CASE(%ITS_IOCACHE);

     1474     9408    3                 CALL IOCACHE_OPT ALTRET(OPT_ERR);

   9408  1 006035   007410 701000 1                  TSX1    IOCACHE_OPT
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:246  
         1 006036   006502 702000 1                  TSX2    OPT_ERR
         1 006037   006042 710000 1                  TRA     s:9412

     1475     9409    3               CASE(%ITS_NODES);

     1476     9410    3                 CALL NODES_OPT ALTRET(OPT_ERR);

   9410  1 006040   007455 701000 1                  TSX1    NODES_OPT
         1 006041   006502 702000 1                  TSX2    OPT_ERR

     1477     9411    3               END;

     1478     9412    2              END;

   9412  1 006042   200020 054100                    AOS     I,,AUTO
         1 006043   200003 470500                    LDP0    @PCB,,AUTO
         1 006044   000003 471500                    LDP1    3,,PR0
         1 006045   100001 236100                    LDQ     1,,PR1
         1 006046   000022 772000                    QRL     18
         1 006047   200020 116100                    CMPQ    I,,AUTO
         1 006050   005717 605400 1                  TPNZ    s:9371

     1479     9413    1           CMD$->IT$CMDWD = %ITS_ENDCMD;

   9413  1 006051   000145 235007                    LDA     101,DL
         1 006052   200004 473500                    LDP3    CMD$,,AUTO
         1 006053   300000 755100                    STA     0,,PR3

     1480     9414        /**/
     1481     9415    2           DO J = 0 TO %ITS_#MONOPTS;      /* Fill in defaults                 */

   9415  1 006054   200021 450100                    STZ     J,,AUTO

     1482     9416    2              CALL DEFAULT_CHECK ALTRET(NO_DEFAULT);

   9416  1 006055   007735 701000 1                  TSX1    DEFAULT_CHECK
         1 006056   006475 702000 1                  TSX2    NO_DEFAULT
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:247  

     1483     9417        /**/
     1484     9418    3              DO CASE(J);

   9418  1 006057   200021 235100                    LDA     J,,AUTO
         1 006060   000035 115007                    CMPA    29,DL
         1 006061   006063 602005 1                  TNC     s:9418+4,AL
         1 006062   006475 710000 1                  TRA     NO_DEFAULT
         1 006063   006475 710000 1                  TRA     NO_DEFAULT
         1 006064   006120 710000 1                  TRA     s:9425
         1 006065   006120 710000 1                  TRA     s:9425
         1 006066   006120 710000 1                  TRA     s:9425
         1 006067   006475 710000 1                  TRA     NO_DEFAULT
         1 006070   006120 710000 1                  TRA     s:9425
         1 006071   006475 710000 1                  TRA     NO_DEFAULT
         1 006072   006475 710000 1                  TRA     NO_DEFAULT
         1 006073   006120 710000 1                  TRA     s:9425
         1 006074   006475 710000 1                  TRA     NO_DEFAULT
         1 006075   006475 710000 1                  TRA     NO_DEFAULT
         1 006076   006475 710000 1                  TRA     NO_DEFAULT
         1 006077   006120 710000 1                  TRA     s:9425
         1 006100   006475 710000 1                  TRA     NO_DEFAULT
         1 006101   006475 710000 1                  TRA     NO_DEFAULT
         1 006102   006475 710000 1                  TRA     NO_DEFAULT
         1 006103   006120 710000 1                  TRA     s:9425
         1 006104   006475 710000 1                  TRA     NO_DEFAULT
         1 006105   006120 710000 1                  TRA     s:9425
         1 006106   006475 710000 1                  TRA     NO_DEFAULT
         1 006107   006120 710000 1                  TRA     s:9425
         1 006110   006120 710000 1                  TRA     s:9425
         1 006111   006120 710000 1                  TRA     s:9425
         1 006112   006120 710000 1                  TRA     s:9425
         1 006113   006120 710000 1                  TRA     s:9425
         1 006114   006120 710000 1                  TRA     s:9425
         1 006115   006120 710000 1                  TRA     s:9425
         1 006116   006120 710000 1                  TRA     s:9425
         1 006117   006120 710000 1                  TRA     s:9425
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:248  

     1485     9419        /**/
     1486     9420    3               CASE(%ITS_USERS,%ITS_QUEUE,%ITS_DOLIST,%ITS_DEVMAX,

     1487     9421    3                %ITS_IOCACHE,%ITS_STEALPGS,%ITS_DUMPSIZE,%ITS_SPAUTOSPACE,%ITS_CGMAP,
     1488     9422    3               %ITS_SSN_CLIENTS,%ITS_SSN_SERVERS,%ITS_SSN_MAX,%ITS_TCTX,%ITS_OSIROUTE,
     1489     9423    3                %ITS_CGCXTSZ,%ITS_NODES,%ITS_FEPRES);
     1490     9424        /**/
     1491     9425    3                 CMD$->IT$MONOPT = NO;

   9425  1 006120   200004 470500                    LDP0    CMD$,,AUTO
         1 006121   000100 100400                    MLR     fill='000'O
         1 006122   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 006123   000000 000014                    ADSC9   0,,PR0                   cn=0,n=12

     1492     9426    3                 CMD$->IT$MONOPT.CNTWD.OFFSET = SIZEW(IT$MONOPT);

   9426  1 006124   003000 236007                    LDQ     1536,DL
         1 006125   000000 552110                    STBQ    0,'10'O,PR0

     1493     9427    3                 CMD$->IT$MONOPT.CNTWD.TYPE = J;

   9427  1 006126   200021 236100                    LDQ     J,,AUTO
         1 006127   000000 552104                    STBQ    0,'04'O,PR0

     1494     9428        /**/
     1495     9429    4                 DO CASE(J);

   9429  1 006130   000035 116007                    CMPQ    29,DL
         1 006131   006133 602006 1                  TNC     s:9429+3,QL
         1 006132   006467 710000 1                  TRA     s:9513
         1 006133   006467 710000 1                  TRA     s:9513
         1 006134   006302 710000 1                  TRA     s:9461
         1 006135   006256 710000 1                  TRA     s:9451
         1 006136   006170 710000 1                  TRA     s:9432
         1 006137   006467 710000 1                  TRA     s:9513
         1 006140   006173 710000 1                  TRA     s:9435
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:249  
         1 006141   006467 710000 1                  TRA     s:9513
         1 006142   006467 710000 1                  TRA     s:9513
         1 006143   006411 710000 1                  TRA     s:9495
         1 006144   006467 710000 1                  TRA     s:9513
         1 006145   006467 710000 1                  TRA     s:9513
         1 006146   006467 710000 1                  TRA     s:9513
         1 006147   006416 710000 1                  TRA     s:9499
         1 006150   006467 710000 1                  TRA     s:9513
         1 006151   006467 710000 1                  TRA     s:9513
         1 006152   006467 710000 1                  TRA     s:9513
         1 006153   006457 710000 1                  TRA     s:9506
         1 006154   006467 710000 1                  TRA     s:9513
         1 006155   006224 710000 1                  TRA     s:9445
         1 006156   006467 710000 1                  TRA     s:9513
         1 006157   006462 710000 1                  TRA     s:9508
         1 006160   006465 710000 1                  TRA     s:9510
         1 006161   006305 710000 1                  TRA     s:9464
         1 006162   006310 710000 1                  TRA     s:9467
         1 006163   006313 710000 1                  TRA     s:9469
         1 006164   006316 710000 1                  TRA     s:9472
         1 006165   006321 710000 1                  TRA     s:9475
         1 006166   006327 710000 1                  TRA     s:9481
         1 006167   006324 710000 1                  TRA     s:9478

     1496     9430        /**/
     1497     9431    4                  CASE(%ITS_USERS);

     1498     9432    4                    CMD$->IT$MONOPT.OPTS.VAL1 = S_MING;

   9432  1 006170   000000 235000 xsym               LDA     S_MING
         1 006171   000001 755100                    STA     1,,PR0
         1 006172   006467 710000 1                  TRA     s:9513

     1499     9433        /**/
     1500     9434    4                  CASE(%ITS_DOLIST);

     1501     9435    4                    TEMP$ = PINCRW(B$DS5$,SIZEW(IT$CMDWD));
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:250  

   9435  1 006173   000000 236000 xsym               LDQ     B$DS5$
         1 006174   000001 036003                    ADLQ    1,DU
         1 006175   200010 756100                    STQ     TEMP$,,AUTO

     1502     9436    5                    DO WHILE(TEMP$->IT$MONOPT.CNTWD.TYPE ~= %ITS_USERS);

   9436  1 006176   200010 471500                    LDP1    TEMP$,,AUTO
         1 006177   100000 236100                    LDQ     0,,PR1
         1 006200   000777 376007                    ANQ     511,DL
         1 006201   000003 116007                    CMPQ    3,DL
         1 006202   006217 600000 1                  TZE     s:9440

     1503     9437    5                       TEMP$ = PINCRW(TEMP$,TEMP$->IT$MONOPT.CNTWD.OFFSET);

   9437  1 006203   200010 470500                    LDP0    TEMP$,,AUTO
         1 006204   000000 236100                    LDQ     0,,PR0
         1 006205   000011 772000                    QRL     9
         1 006206   000777 376007                    ANQ     511,DL
         1 006207   000022 736000                    QLS     18
         1 006210   200010 036100                    ADLQ    TEMP$,,AUTO
         1 006211   200010 756100                    STQ     TEMP$,,AUTO

     1504     9438    5                       END;

   9438  1 006212   200010 470500                    LDP0    TEMP$,,AUTO
         1 006213   000000 236100                    LDQ     0,,PR0
         1 006214   000777 376007                    ANQ     511,DL
         1 006215   000003 116007                    CMPQ    3,DL
         1 006216   006203 601000 1                  TNZ     s:9437

     1505     9439        /**/
     1506     9440    4                    CMD$->IT$MONOPT.OPTS.VAL1 = TEMP$->

   9440  1 006217   200010 470500                    LDP0    TEMP$,,AUTO
         1 006220   200004 471500                    LDP1    CMD$,,AUTO
         1 006221   000001 235100                    LDA     1,,PR0
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:251  
         1 006222   100001 755100                    STA     1,,PR1
         1 006223   006467 710000 1                  TRA     s:9513

     1507     9441    4                      IT$MONOPT.OPTS.VAL1;
     1508     9442        /**/
     1509     9443        /* Make default the number of user slots divided by four */
     1510     9444    4                  CASE(%ITS_SPAUTOSPACE);

     1511     9445    4                    TEMP$ = PINCRW(B$DS5$,SIZEW(IT$CMDWD)); /* Find users in table */

   9445  1 006224   000000 236000 xsym               LDQ     B$DS5$
         1 006225   000001 036003                    ADLQ    1,DU
         1 006226   200010 756100                    STQ     TEMP$,,AUTO

     1512     9446    5                    DO WHILE(TEMP$->IT$MONOPT.CNTWD.TYPE ~= %ITS_USERS);

   9446  1 006227   200010 471500                    LDP1    TEMP$,,AUTO
         1 006230   100000 236100                    LDQ     0,,PR1
         1 006231   000777 376007                    ANQ     511,DL
         1 006232   000003 116007                    CMPQ    3,DL
         1 006233   006250 600000 1                  TZE     s:9449

     1513     9447    5                       TEMP$ = PINCRW(TEMP$,TEMP$->IT$MONOPT.CNTWD.OFFSET);

   9447  1 006234   200010 470500                    LDP0    TEMP$,,AUTO
         1 006235   000000 236100                    LDQ     0,,PR0
         1 006236   000011 772000                    QRL     9
         1 006237   000777 376007                    ANQ     511,DL
         1 006240   000022 736000                    QLS     18
         1 006241   200010 036100                    ADLQ    TEMP$,,AUTO
         1 006242   200010 756100                    STQ     TEMP$,,AUTO

     1514     9448    5                       END;

   9448  1 006243   200010 470500                    LDP0    TEMP$,,AUTO
         1 006244   000000 236100                    LDQ     0,,PR0
         1 006245   000777 376007                    ANQ     511,DL
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:252  
         1 006246   000003 116007                    CMPQ    3,DL
         1 006247   006234 601000 1                  TNZ     s:9447

     1515     9449    4                    CMD$->IT$MONOPT.OPTS.VAL1 = TEMP$->IT$MONOPT.OPTS.VAL1/4;

   9449  1 006250   200010 470500                    LDP0    TEMP$,,AUTO
         1 006251   000001 236100                    LDQ     1,,PR0
         1 006252   000002 772000                    QRL     2
         1 006253   200004 471500                    LDP1    CMD$,,AUTO
         1 006254   100001 756100                    STQ     1,,PR1
         1 006255   006467 710000 1                  TRA     s:9513

     1516     9450    4                  CASE(%ITS_QUEUE);

     1517     9451    4                    K = 1;                 /* Count local devices         */

   9451  1 006256   000001 235007                    LDA     1,DL
         1 006257   200022 755100                    STA     K,,AUTO

     1518     9452    5                    DO WHILE((K < N_DCTXMAX)AND(N$DCT$$->N$DCT$(K) ~= ADDR(NIL)));

   9452  1 006260   006262 710000 1                  TRA     s:9454

     1519     9453    5                       K = K + 1;          /* Get number of local devices */

   9453  1 006261   200022 054100                    AOS     K,,AUTO

     1520     9454    5                       END;

   9454  1 006262   200022 236100                    LDQ     K,,AUTO
         1 006263   000000 116000 xsym               CMPQ    N_DCTXMAX
         1 006264   006271 605000 1                  TPL     s:9455
         1 006265   000000 470400 xsym               LDP0    N$DCT$$
         1 006266   000000 236106                    LDQ     0,QL,PR0
         1 006267   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 006270   006261 601000 1                  TNZ     s:9453

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:253  
     1521     9455    4                    CMD$->IT$MONOPT.OPTS.VAL1 = 10*N_NDPS +

   9455  1 006271   000000 236000 xsym               LDQ     N_NDPS
         1 006272   000012 402007                    MPY     10,DL
         1 006273   200022 036100                    ADLQ    K,,AUTO
         1 006274   000000 136000 xsym               SBLQ    N_NDPS
         1 006275   200004 470500                    LDP0    CMD$,,AUTO
         1 006276   000001 756100                    STQ     1,,PR0

     1522     9456    4                      K - N_NDPS;          /* 10 per pact + 1 per other dev      */
     1523     9457    4                    CMD$->IT$MONOPT.OPTS.VAL2 = 30 +

   9457  1 006277   000036 036007                    ADLQ    30,DL
         1 006300   000002 756100                    STQ     2,,PR0
         1 006301   006467 710000 1                  TRA     s:9513

     1524     9458    4                      CMD$->IT$MONOPT.OPTS.VAL1;
     1525     9459        /**/
     1526     9460    4                  CASE(%ITS_DEVMAX);

     1527     9461    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DEFDEVMAX;

   9461  1 006302   000400 235007                    LDA     256,DL
         1 006303   000001 755100                    STA     1,,PR0
         1 006304   006467 710000 1                  TRA     s:9513

     1528     9462        /**/
     1529     9463    4                  CASE(%ITS_NODES);

     1530     9464    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DEFNODES;

   9464  1 006305   000020 235007                    LDA     16,DL
         1 006306   000001 755100                    STA     1,,PR0
         1 006307   006467 710000 1                  TRA     s:9513

     1531     9465        /**/
     1532     9466    4                  CASE(%ITS_FEPRES);
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:254  

     1533     9467    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DEFFEPRES;

   9467  1 006310   000012 235007                    LDA     10,DL
         1 006311   000001 755100                    STA     1,,PR0
         1 006312   006467 710000 1                  TRA     s:9513

     1534     9468    4                  CASE(%ITS_SSN_CLIENTS);

     1535     9469    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_SSN_CLIENTS;

   9469  1 006313   000040 235007                    LDA     32,DL
         1 006314   000001 755100                    STA     1,,PR0
         1 006315   006467 710000 1                  TRA     s:9513

     1536     9470
     1537     9471    4                  CASE(%ITS_SSN_SERVERS);

     1538     9472    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_SSN_SERVERS;

   9472  1 006316   000011 235007                    LDA     9,DL
         1 006317   000001 755100                    STA     1,,PR0
         1 006320   006467 710000 1                  TRA     s:9513

     1539     9473
     1540     9474    4                  CASE(%ITS_SSN_MAX);

     1541     9475    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_SSN_MAX;

   9475  1 006321   000040 235007                    LDA     32,DL
         1 006322   000001 755100                    STA     1,,PR0
         1 006323   006467 710000 1                  TRA     s:9513

     1542     9476
     1543     9477    4                  CASE(%ITS_OSIROUTE);

     1544     9478    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_OSIROUTE;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:255  

   9478  1 006324   000012 235007                    LDA     10,DL
         1 006325   000001 755100                    STA     1,,PR0
         1 006326   006467 710000 1                  TRA     s:9513

     1545     9479
     1546     9480    4                  CASE(%ITS_TCTX);

     1547     9481    4                   TEMP$ = PINCRW(B$DS5$,SIZEW(IT$CMDWD)); /* Find max ssn in table */

   9481  1 006327   000000 236000 xsym               LDQ     B$DS5$
         1 006330   000001 036003                    ADLQ    1,DU
         1 006331   200010 756100                    STQ     TEMP$,,AUTO

     1548     9482    5                    DO WHILE(TEMP$->IT$MONOPT.CNTWD.TYPE ~= %ITS_SSN_MAX);

   9482  1 006332   200010 471500                    LDP1    TEMP$,,AUTO
         1 006333   100000 236100                    LDQ     0,,PR1
         1 006334   000777 376007                    ANQ     511,DL
         1 006335   000032 116007                    CMPQ    26,DL
         1 006336   006353 600000 1                  TZE     s:9485

     1549     9483    5                       TEMP$ = PINCRW(TEMP$,TEMP$->IT$MONOPT.CNTWD.OFFSET);

   9483  1 006337   200010 470500                    LDP0    TEMP$,,AUTO
         1 006340   000000 236100                    LDQ     0,,PR0
         1 006341   000011 772000                    QRL     9
         1 006342   000777 376007                    ANQ     511,DL
         1 006343   000022 736000                    QLS     18
         1 006344   200010 036100                    ADLQ    TEMP$,,AUTO
         1 006345   200010 756100                    STQ     TEMP$,,AUTO

     1550     9484    5                       END;

   9484  1 006346   200010 470500                    LDP0    TEMP$,,AUTO
         1 006347   000000 236100                    LDQ     0,,PR0
         1 006350   000777 376007                    ANQ     511,DL
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:256  
         1 006351   000032 116007                    CMPQ    26,DL
         1 006352   006337 601000 1                  TNZ     s:9483

     1551     9485    4                    CMD$->IT$MONOPT.OPTS.VAL1 = TEMP$->IT$MONOPT.OPTS.VAL1;

   9485  1 006353   200010 470500                    LDP0    TEMP$,,AUTO
         1 006354   200004 471500                    LDP1    CMD$,,AUTO
         1 006355   000001 235100                    LDA     1,,PR0
         1 006356   100001 755100                    STA     1,,PR1

     1552     9486
     1553     9487    4                    TEMP$ = PINCRW(B$DS5$,SIZEW(IT$CMDWD)); /* Find nodes in table */

   9487  1 006357   000000 236000 xsym               LDQ     B$DS5$
         1 006360   000001 036003                    ADLQ    1,DU
         1 006361   200010 756100                    STQ     TEMP$,,AUTO

     1554     9488    5                    DO WHILE(TEMP$->IT$MONOPT.CNTWD.TYPE ~= %ITS_NODES);

   9488  1 006362   200010 470500                    LDP0    TEMP$,,AUTO
         1 006363   000000 236100                    LDQ     0,,PR0
         1 006364   000777 376007                    ANQ     511,DL
         1 006365   000026 116007                    CMPQ    22,DL
         1 006366   006403 600000 1                  TZE     s:9491

     1555     9489    5                       TEMP$ = PINCRW(TEMP$,TEMP$->IT$MONOPT.CNTWD.OFFSET);

   9489  1 006367   200010 470500                    LDP0    TEMP$,,AUTO
         1 006370   000000 236100                    LDQ     0,,PR0
         1 006371   000011 772000                    QRL     9
         1 006372   000777 376007                    ANQ     511,DL
         1 006373   000022 736000                    QLS     18
         1 006374   200010 036100                    ADLQ    TEMP$,,AUTO
         1 006375   200010 756100                    STQ     TEMP$,,AUTO

     1556     9490    5                       END;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:257  
   9490  1 006376   200010 470500                    LDP0    TEMP$,,AUTO
         1 006377   000000 236100                    LDQ     0,,PR0
         1 006400   000777 376007                    ANQ     511,DL
         1 006401   000026 116007                    CMPQ    22,DL
         1 006402   006367 601000 1                  TNZ     s:9489

     1557     9491    4                    CMD$->IT$MONOPT.OPTS.VAL1 =

   9491  1 006403   200004 471500                    LDP1    CMD$,,AUTO
         1 006404   100001 236100                    LDQ     1,,PR1
         1 006405   000001 036100                    ADLQ    1,,PR0
         1 006406   000002 136007                    SBLQ    2,DL
         1 006407   100001 756100                    STQ     1,,PR1
         1 006410   006467 710000 1                  TRA     s:9513

     1558     9492    4                      CMD$->IT$MONOPT.OPTS.VAL1 + TEMP$->IT$MONOPT.OPTS.VAL1 -2;
     1559     9493
     1560     9494    4                  CASE(%ITS_STEALPGS);

     1561     9495    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_RSVP;

   9495  1 006411   000017 235007                    LDA     15,DL
         1 006412   000001 755100                    STA     1,,PR0

     1562     9496    4                    CMD$->IT$MONOPT.OPTS.VAL2 = %DFLT_STLM;

   9496  1 006413   000036 235007                    LDA     30,DL
         1 006414   000002 755100                    STA     2,,PR0
         1 006415   006467 710000 1                  TRA     s:9513

     1563     9497        /**/
     1564     9498    4                  CASE(%ITS_IOCACHE);

     1565     9499    4                    TEMP$ = PINCRW(B$DS5$,SIZEW(IT$CMDWD)); /* Find users in table */

   9499  1 006416   000000 236000 xsym               LDQ     B$DS5$
         1 006417   000001 036003                    ADLQ    1,DU
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:258  
         1 006420   200010 756100                    STQ     TEMP$,,AUTO

     1566     9500    5                    DO WHILE(TEMP$->IT$MONOPT.CNTWD.TYPE ~= %ITS_USERS);

   9500  1 006421   200010 471500                    LDP1    TEMP$,,AUTO
         1 006422   100000 236100                    LDQ     0,,PR1
         1 006423   000777 376007                    ANQ     511,DL
         1 006424   000003 116007                    CMPQ    3,DL
         1 006425   006442 600000 1                  TZE     s:9503

     1567     9501    5                       TEMP$ = PINCRW(TEMP$,TEMP$->IT$MONOPT.CNTWD.OFFSET);

   9501  1 006426   200010 470500                    LDP0    TEMP$,,AUTO
         1 006427   000000 236100                    LDQ     0,,PR0
         1 006430   000011 772000                    QRL     9
         1 006431   000777 376007                    ANQ     511,DL
         1 006432   000022 736000                    QLS     18
         1 006433   200010 036100                    ADLQ    TEMP$,,AUTO
         1 006434   200010 756100                    STQ     TEMP$,,AUTO

     1568     9502    5                       END;

   9502  1 006435   200010 470500                    LDP0    TEMP$,,AUTO
         1 006436   000000 236100                    LDQ     0,,PR0
         1 006437   000777 376007                    ANQ     511,DL
         1 006440   000003 116007                    CMPQ    3,DL
         1 006441   006426 601000 1                  TNZ     s:9501

     1569     9503    4                    CMD$->IT$MONOPT.OPTS.VAL1 = MINIMUM(TEMP$->IT$MONOPT.OPTS.VAL1, (
              9503                             MM_PCORE-2048)/4);

   9503  1 006442   000000 236000 xsym               LDQ     MM_PCORE
         1 006443   004000 136007                    SBLQ    2048,DL
         1 006444   000004 506007                    DIV     4,DL
         1 006445   200010 470500                    LDP0    TEMP$,,AUTO
         1 006446   000000 116003                    CMPQ    0,DU
         1 006447   006454 604000 1                  TMI     s:9503+10
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:259  
         1 006450   000001 116100                    CMPQ    1,,PR0
         1 006451   006454 602000 1                  TNC     s:9503+10
         1 006452   006454 600000 1                  TZE     s:9503+10
         1 006453   000001 236100                    LDQ     1,,PR0
         1 006454   200004 471500                    LDP1    CMD$,,AUTO
         1 006455   100001 756100                    STQ     1,,PR1
         1 006456   006467 710000 1                  TRA     s:9513

     1570     9504        /**/
     1571     9505    4                  CASE(%ITS_DUMPSIZE);

     1572     9506    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_DUMPSIZE;

   9506  1 006457   005670 235007                    LDA     3000,DL
         1 006460   000001 755100                    STA     1,,PR0
         1 006461   006467 710000 1                  TRA     s:9513

     1573     9507    4                  CASE(%ITS_CGMAP);

     1574     9508    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_CGMAP;

   9508  1 006462   000001 235007                    LDA     1,DL
         1 006463   000001 755100                    STA     1,,PR0
         1 006464   006467 710000 1                  TRA     s:9513

     1575     9509    4                  CASE(%ITS_CGCXTSZ);

     1576     9510    4                    CMD$->IT$MONOPT.OPTS.VAL1 = %DFLT_CGCXTSZ;

   9510  1 006465   000012 235007                    LDA     10,DL
         1 006466   000001 755100                    STA     1,,PR0

     1577     9511    4                  END;

     1578     9512        /**/
     1579     9513    3                 CMD$ = PINCRW(CMD$,SIZEW(IT$MONOPT));

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:260  
   9513  1 006467   200004 236100                    LDQ     CMD$,,AUTO
         1 006470   000003 036003                    ADLQ    3,DU
         1 006471   200004 756100                    STQ     CMD$,,AUTO

     1580     9514    3                 CMD$->IT$CMDWD = %ITS_ENDCMD;

   9514  1 006472   000145 235007                    LDA     101,DL
         1 006473   200004 470500                    LDP0    CMD$,,AUTO
         1 006474   000000 755100                    STA     0,,PR0

     1581     9515        /**/
     1582     9516    3               END;

     1583     9517    2   NO_DEFAULT:
     1584     9518    2              END;

   9518  1 006475   200021 054100       NO_DEFAULT   AOS     J,,AUTO
         1 006476   200021 235100                    LDA     J,,AUTO
         1 006477   000034 115007                    CMPA    28,DL
         1 006500   006055 604400 1                  TMOZ    s:9416

     1585     9519        /**/
     1586     9520    1           RETURN;

   9520  1 006501   000000 702200 xent               TSX2  ! X66_ARET

     1587     9521        /**/
     1588     9522    1   OPT_ERR:
     1589     9523    1           ALTRETURN;

   9523  1 006502   000000 702200 xent  OPT_ERR      TSX2  ! X66_AALT

     1590     9524        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:261  
     1591     9525        /**/
     1592     9526    1   SPROC_OPT: PROC ALTRET;

   9526  1 006503   200042 741300       SPROC_OPT    STX1  ! FTEXTC+4,,AUTO

     1593     9527        /**/
     1594     9528    2           CMD$->IT$SPROC = NO;

   9528  1 006504   200004 470500                    LDP0    CMD$,,AUTO
         1 006505   000100 100400                    MLR     fill='000'O
         1 006506   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 006507   000000 000050                    ADSC9   0,,PR0                   cn=0,n=40

     1595     9529    2           CMD$->IT$SPROC.CNTWD = SPROC_CNTWD;

   9529  1 006510   000037 236000 0                  LDQ     SPROC_CNTWD
         1 006511   000000 756100                    STQ     0,,PR0

     1596     9530        /**/
     1597     9531    3           DO J = 0 TO BLK$->P$O.NSUBLKS -1;

   9531  1 006512   200021 450100                    STZ     J,,AUTO
         1 006513   006617 710000 1                  TRA     s:9563+1

     1598     9532    3              TEMP$ = BLK$->P$O.SUBLK$(J);

   9532  1 006514   200007 470500                    LDP0    BLK$,,AUTO
         1 006515   200021 720100                    LXL0    J,,AUTO
         1 006516   000003 236110                    LDQ     3,X0,PR0
         1 006517   200010 756100                    STQ     TEMP$,,AUTO

     1599     9533    4              DO CASE(TEMP$->P$O.CODE);

   9533  1 006520   200010 471500                    LDP1    TEMP$,,AUTO
         1 006521   100000 721100                    LXL1    0,,PR1
         1 006522   000004 101003                    CMPX1   4,DU
         1 006523   006525 602011 1                  TNC     s:9533+5,X1
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:262  
         1 006524   006616 710000 1                  TRA     s:9563
         1 006525   006616 710000 1                  TRA     s:9563
         1 006526   006531 710000 1                  TRA     s:9536
         1 006527   006616 710000 1                  TRA     s:9563
         1 006530   006546 710000 1                  TRA     s:9542

     1600     9534        /**/
     1601     9535    4               CASE(%ITS_SPROCNAME);

     1602     9536    4                 CMD$->IT$SPROC.NAME.COUNT = TEMP$->P$O.SUBLK$(0)

   9536  1 006531   100003 473500                    LDP3    3,,PR1
         1 006532   200004 474500                    LDP4    CMD$,,AUTO
         1 006533   000100 100500                    MLR     fill='000'O
         1 006534   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         1 006535   400001 000001                    ADSC9   1,,PR4                   cn=0,n=1

     1603     9537    4                   ->SP_TEXT$C.COUNT;
     1604     9538    4                 CMD$->IT$SPROC.NAME.TEXT = SUBSTR(TEMP$->P$O.SUBLK$(0)

   9538  1 006536   100003 473500                    LDP3    3,,PR1
         1 006537   400001 236100                    LDQ     1,,PR4
         1 006540   000033 772000                    QRL     27
         1 006541   000000 621006                    EAX1    0,QL
         1 006542   040100 100540                    MLR     fill='040'O
         1 006543   300000 200011                    ADSC9   0,,PR3                   cn=1,n=*X1
         1 006544   400001 200037                    ADSC9   1,,PR4                   cn=1,n=31
         1 006545   006616 710000 1                  TRA     s:9563

     1605     9539    4                   ->SP_TEXT$C.TEXT,0,CMD$->IT$SPROC.NAME.COUNT);
     1606     9540        /**/
     1607     9541    4               CASE(%ITS_SPROCFLAGS);

     1608     9542    5                 DO K = 0 TO TEMP$->P$O.NSUBLKS - 1;

   9542  1 006546   200022 450100                    STZ     K,,AUTO
         1 006547   006611 710000 1                  TRA     s:9561+1
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:263  

     1609     9543    6                    DO CASE(TEMP$->P$O.SUBLK$(K)->P$O.CODE);

   9543  1 006550   200010 470500                    LDP0    TEMP$,,AUTO
         1 006551   200022 720100                    LXL0    K,,AUTO
         1 006552   000003 471510                    LDP1    3,X0,PR0
         1 006553   100000 721100                    LXL1    0,,PR1
         1 006554   000006 101003                    CMPX1   6,DU
         1 006555   006557 602011 1                  TNC     s:9543+7,X1
         1 006556   006610 710000 1                  TRA     s:9561
         1 006557   006610 710000 1                  TRA     s:9561
         1 006560   006565 710000 1                  TRA     s:9545
         1 006561   006572 710000 1                  TRA     s:9549
         1 006562   006577 710000 1                  TRA     s:9553
         1 006563   006610 710000 1                  TRA     s:9561
         1 006564   006604 710000 1                  TRA     s:9557

     1610     9544    6                     CASE(%ITS_CP);

     1611     9545    6                       CMD$->IT$SPROC.FLGS =( %P_CP |

   9545  1 006565   200004 473500                    LDP3    CMD$,,AUTO
         1 006566   300011 222100                    LDX2    9,,PR3
         1 006567   400000 262003                    ORX2    -131072,DU
         1 006570   300011 742100                    STX2    9,,PR3
         1 006571   006610 710000 1                  TRA     s:9561

     1612     9546    6                         CMD$->IT$SPROC.FLGS);
     1613     9547        /**/
     1614     9548    6                     CASE(%ITS_AS);

     1615     9549    6                       CMD$->IT$SPROC.FLGS =( %P_ASL |

   9549  1 006572   200004 473500                    LDP3    CMD$,,AUTO
         1 006573   300011 222100                    LDX2    9,,PR3
         1 006574   200000 262003                    ORX2    65536,DU
         1 006575   300011 742100                    STX2    9,,PR3
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:264  
         1 006576   006610 710000 1                  TRA     s:9561

     1616     9550    6                         CMD$->IT$SPROC.FLGS);
     1617     9551        /**/
     1618     9552    6                     CASE(%ITS_LI);

     1619     9553    6                       CMD$->IT$SPROC.FLGS =( %P_LIB |

   9553  1 006577   200004 473500                    LDP3    CMD$,,AUTO
         1 006600   300011 222100                    LDX2    9,,PR3
         1 006601   100000 262003                    ORX2    32768,DU
         1 006602   300011 742100                    STX2    9,,PR3
         1 006603   006610 710000 1                  TRA     s:9561

     1620     9554    6                         CMD$->IT$SPROC.FLGS);
     1621     9555        /**/
     1622     9556    6                     CASE(%ITS_DB);

     1623     9557    6                       CMD$->IT$SPROC.FLGS =( %P_DB |

   9557  1 006604   200004 473500                    LDP3    CMD$,,AUTO
         1 006605   300011 222100                    LDX2    9,,PR3
         1 006606   020000 262003                    ORX2    8192,DU
         1 006607   300011 742100                    STX2    9,,PR3

     1624     9558    6                         CMD$->IT$SPROC.FLGS);
     1625     9559        /**/
     1626     9560    6                     END;

     1627     9561    5                    END;

   9561  1 006610   200022 054100                    AOS     K,,AUTO
         1 006611   200010 470500                    LDP0    TEMP$,,AUTO
         1 006612   000001 236100                    LDQ     1,,PR0
         1 006613   000022 772000                    QRL     18
         1 006614   200022 116100                    CMPQ    K,,AUTO
         1 006615   006550 605400 1                  TPNZ    s:9543
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:265  

     1628     9562    4               END;

     1629     9563    3              END;

   9563  1 006616   200021 054100                    AOS     J,,AUTO
         1 006617   200007 470500                    LDP0    BLK$,,AUTO
         1 006620   000001 236100                    LDQ     1,,PR0
         1 006621   000022 772000                    QRL     18
         1 006622   200021 116100                    CMPQ    J,,AUTO
         1 006623   006514 605400 1                  TPNZ    s:9532

     1630     9564        /**/
     1631     9565        /*
     1632     9566           **** CHECK IF DUPLICATE SPROCS SPEC'D
     1633     9567        */
     1634     9568    2           TEMP$ = B$DS5$;

   9568  1 006624   000000 236000 xsym               LDQ     B$DS5$
         1 006625   200010 756100                    STQ     TEMP$,,AUTO

     1635     9569    2           TEMP$ = PINCRW(TEMP$,SIZEW(IT$CMDWD));

   9569  1 006626   000001 036003                    ADLQ    1,DU
         1 006627   200010 756100                    STQ     TEMP$,,AUTO

     1636     9570    3           DO WHILE(TEMP$ < CMD$);

   9570  1 006630   200004 116100                    CMPQ    CMD$,,AUTO
         1 006631   006671 603000 1                  TRC     s:9583

     1637     9571    4              DO CASE(CMD$->IT$SPROC.CNTWD.TYPE);

   9571  1 006632   200004 470500                    LDP0    CMD$,,AUTO
         1 006633   000000 236100                    LDQ     0,,PR0
         1 006634   000777 376007                    ANQ     511,DL
         1 006635   000013 136007                    SBLQ    11,DL
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:266  
         1 006636   000001 116007                    CMPQ    1,DL
         1 006637   006641 602006 1                  TNC     s:9571+7,QL
         1 006640   006664 710000 1                  TRA     s:9579
         1 006641   006642 710000 1                  TRA     s:9573

     1638     9572    4               CASE(%ITS_SPROC);

     1639     9573    4                 IF TEMP$->IT$SPROC.NAME = CMD$->IT$SPROC.NAME THEN

   9573  1 006642   200010 471500                    LDP1    TEMP$,,AUTO
         1 006643   000100 106500                    CMPC    fill='000'O
         1 006644   100001 000040                    ADSC9   1,,PR1                   cn=0,n=32
         1 006645   000001 000040                    ADSC9   1,,PR0                   cn=0,n=32
         1 006646   006664 601000 1                  TNZ     s:9579

     1640     9574    5                 DO;

     1641     9575    5                    CALL ITE$ERROR(%E$DUPSPROCS,ADDR(CMD$->IT$SPROC.NAME));

   9575  1 006647   200004 236100                    LDQ     CMD$,,AUTO
         1 006650   000001 036003                    ADLQ    1,DU
         1 006651   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 006652   200052 633500                    EPPR3   @FEATURE+2,,AUTO
         1 006653   200055 453500                    STP3    @FEATURE+5,,AUTO
         1 006654   000073 236000 2                  LDQ     59
         1 006655   200054 756100                    STQ     @FEATURE+4,,AUTO
         1 006656   200054 630500                    EPPR0   @FEATURE+4,,AUTO
         1 006657   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 006660   000000 701000 xent               TSX1    ITE$ERROR
         1 006661   000000 011000                    NOP     0

     1642     9576    5                    ALTRETURN;

   9576  1 006662   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 006663   000000 702211                    TSX2  ! 0,X1

     1643     9577    5                    END;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:267  
     1644     9578    4               END;

     1645     9579    3              TEMP$ = PINCRW(TEMP$,SIZEW(IT$CMDWD));

   9579  1 006664   200010 236100                    LDQ     TEMP$,,AUTO
         1 006665   000001 036003                    ADLQ    1,DU
         1 006666   200010 756100                    STQ     TEMP$,,AUTO

     1646     9580    3              END;

   9580  1 006667   200004 116100                    CMPQ    CMD$,,AUTO
         1 006670   006632 602000 1                  TNC     s:9571

     1647     9581        /**/
     1648     9582        /* Check to see if this is one of the processors we install automaticly */
     1649     9583    2           IF CMD$->IT$SPROC.NAME.TEXT ~= 'DELTA' AND

   9583  1 006671   200004 470500                    LDP0    CMD$,,AUTO
         1 006672   040000 106500                    CMPC    fill='040'O
         1 006673   000001 200037                    ADSC9   1,,PR0                   cn=1,n=31
         1 006674   000221 000005 0                  ADSC9   APDEV_CNTWD+109          cn=0,n=5
         1 006675   006721 600000 1                  TZE     s:9590
         1 006676   040000 106500                    CMPC    fill='040'O
         1 006677   000001 200037                    ADSC9   1,,PR0                   cn=1,n=31
         1 006700   000223 000004 0                  ADSC9   APDEV_CNTWD+111          cn=0,n=4
         1 006701   006721 600000 1                  TZE     s:9590
         1 006702   040000 106500                    CMPC    fill='040'O
         1 006703   000001 200037                    ADSC9   1,,PR0                   cn=1,n=31
         1 006704   000224 000017 0                  ADSC9   APDEV_CNTWD+112          cn=0,n=15
         1 006705   006721 600000 1                  TZE     s:9590
         1 006706   040000 106500                    CMPC    fill='040'O
         1 006707   000001 200037                    ADSC9   1,,PR0                   cn=1,n=31
         1 006710   000230 000016 0                  ADSC9   APDEV_CNTWD+116          cn=0,n=14
         1 006711   006721 600000 1                  TZE     s:9590
         1 006712   040000 106500                    CMPC    fill='040'O
         1 006713   000001 200037                    ADSC9   1,,PR0                   cn=1,n=31
         1 006714   000234 000005 0                  ADSC9   APDEV_CNTWD+120          cn=0,n=5
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:268  
         1 006715   006721 600000 1                  TZE     s:9590

     1650     9584    2             CMD$->IT$SPROC.NAME.TEXT ~= 'IBEX' AND
     1651     9585    2             CMD$->IT$SPROC.NAME.TEXT ~= ':SHARED_SPECIAL' AND
     1652     9586    2             CMD$->IT$SPROC.NAME.TEXT ~= ':SHARED_SYSTEM' AND
     1653     9587    2             CMD$->IT$SPROC.NAME.TEXT ~= 'LOGON'
     1654     9588    2           THEN
     1655     9589    2              CMD$ = PINCRW(CMD$,SIZEW(IT$SPROC));

   9589  1 006716   200004 236100                    LDQ     CMD$,,AUTO
         1 006717   000012 036003                    ADLQ    10,DU
         1 006720   200004 756100                    STQ     CMD$,,AUTO

     1656     9590    2           RETURN;

   9590  1 006721   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 006722   000001 702211                    TSX2  ! 1,X1

     1657     9591    2   END;
     1658     9592        /**/
     1659     9593        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:269  
     1660     9594        /**/
     1661     9595    1   RES_OPT: PROC ALTRET;

   9595  1 006723   200042 741300       RES_OPT      STX1  ! FTEXTC+4,,AUTO

     1662     9596        /**/
     1663     9597    2           CMD$->IT$RES = NO;

   9597  1 006724   200004 470500                    LDP0    CMD$,,AUTO
         1 006725   000100 100400                    MLR     fill='000'O
         1 006726   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 006727   000000 000154                    ADSC9   0,,PR0                   cn=0,n=108

     1664     9598    2           CMD$->IT$RES.CNTWD = RES_CNTWD;

   9598  1 006730   000040 236000 0                  LDQ     RES_CNTWD
         1 006731   000000 756100                    STQ     0,,PR0

     1665     9599    2           CMD$->IT$RES.MMTOT = -1;        /* NONE SAID FLAG                     */

   9599  1 006732   000001 335007                    LCA     1,DL
         1 006733   000002 755100                    STA     2,,PR0

     1666     9600        /**/
     1667     9601    2           K = 0;

   9601  1 006734   200022 450100                    STZ     K,,AUTO

     1668     9602    3           DO J = 0 TO BLK$->P$O.NSUBLKS-1;

   9602  1 006735   200021 450100                    STZ     J,,AUTO
         1 006736   007045 710000 1                  TRA     s:9624+1

     1669     9603    3              TEMP$ = BLK$->P$O.SUBLK$(J);

   9603  1 006737   200007 470500                    LDP0    BLK$,,AUTO
         1 006740   200021 720100                    LXL0    J,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:270  
         1 006741   000003 236110                    LDQ     3,X0,PR0
         1 006742   200010 756100                    STQ     TEMP$,,AUTO

     1670     9604    4              IF TEMP$->P$O.SUBLK$(0)->P$S.COUNT > 8 THEN DO;

   9604  1 006743   200010 471500                    LDP1    TEMP$,,AUTO
         1 006744   100003 473500                    LDP3    3,,PR1
         1 006745   300004 236100                    LDQ     4,,PR3
         1 006746   777000 376003                    ANQ     -512,DU
         1 006747   011000 116003                    CMPQ    4608,DU
         1 006750   006757 602000 1                  TNC     s:9609

     1671     9605    4                 CALL ITE$ERROR(%E$BADRESNAME);

   9605  1 006751   000075 630400 2                  EPPR0   61
         1 006752   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 006753   000000 701000 xent               TSX1    ITE$ERROR
         1 006754   000000 011000                    NOP     0

     1672     9606    4                 RETURN;

   9606  1 006755   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 006756   000001 702211                    TSX2  ! 1,X1

     1673     9607    4                 END;
     1674     9608        /**/
     1675     9609    3              CMD$->IT$RES.RES.NAME(K) = TEMP$->P$O.SUBLK$(0)->P$S.TEXT;

   9609  1 006757   200022 236100                    LDQ     K,,AUTO
         1 006760   000003 402007                    MPY     3,DL
         1 006761   000000 621006                    EAX1    0,QL
         1 006762   300004 236100                    LDQ     4,,PR3
         1 006763   000033 772000                    QRL     27
         1 006764   000000 635011                    EAA     0,X1
         1 006765   000020 731000                    ARS     16
         1 006766   000000 622006                    EAX2    0,QL
         1 006767   200004 474500                    LDP4    CMD$,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:271  
         1 006770   040105 100540                    MLR     fill='040'O
         1 006771   300004 200012                    ADSC9   4,,PR3                   cn=1,n=*X2
         1 006772   400003 000010                    ADSC9   3,A,PR4                  cn=0,n=8

     1676     9610        /**/
     1677     9611    3              TEXTC = TEMP$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C;

   9611  1 006773   100004 473500                    LDP3    4,,PR1
         1 006774   300003 475500                    LDP5    3,,PR3
         1 006775   000100 101500                    MRL     fill='000'O
         1 006776   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
         1 006777   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 007000   200052 222100                    LDX2    @FEATURE+2,,AUTO
         1 007001   000001 623012                    EAX3    1,X2
         1 007002   000100 100540                    MLR     fill='000'O
         1 007003   500000 000013                    ADSC9   0,,PR5                   cn=0,n=*X3
         1 007004   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

     1678     9612    3              CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   9612  1 007005   200033 236100                    LDQ     TEXTC,,AUTO
         1 007006   000033 772000                    QRL     27
         1 007007   000000 622006                    EAX2    0,QL
         1 007010   000100 305540                    DTB
         1 007011   200033 230012                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X2
         1 007012   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

     1679     9613    3              CMD$->IT$RES.RES.TOT(J) = TEMP;

   9613  1 007013   200021 236100                    LDQ     J,,AUTO
         1 007014   000003 402007                    MPY     3,DL
         1 007015   200024 235100                    LDA     TEMP,,AUTO
         1 007016   400005 755106                    STA     5,QL,PR4

     1680     9614    3              IF CMD$->IT$RES.RES.NAME(K) = 'MM' THEN /* MM IS SPECIAL       */

   9614  1 007017   200022 236100                    LDQ     K,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:272  
         1 007020   000014 402007                    MPY     12,DL
         1 007021   040000 106506                    CMPC    fill='040'O
         1 007022   400003 000010                    ADSC9   3,Q,PR4                  cn=0,n=8
         1 007023   000236 000002 0                  ADSC9   APDEV_CNTWD+122          cn=0,n=2
         1 007024   007030 601000 1                  TNZ     s:9617

     1681     9615    3                 CMD$->IT$RES.MMTOT = TEMP;

   9615  1 007025   200024 235100                    LDA     TEMP,,AUTO
         1 007026   400002 755100                    STA     2,,PR4
         1 007027   007044 710000 1                  TRA     s:9624

     1682     9616    4              ELSE DO;

     1683     9617    4                 CMD$->IT$RES.RES.TOT(K) = TEMP;

   9617  1 007030   200024 235100                    LDA     TEMP,,AUTO
         1 007031   400005 755111                    STA     5,X1,PR4

     1684     9618    4                 K = K+1;

   9618  1 007032   200022 054100                    AOS     K,,AUTO

     1685     9619    5                 IF K > 8 THEN DO;         /* EIGHT PSUEDOS MAX                  */

   9619  1 007033   200022 235100                    LDA     K,,AUTO
         1 007034   000010 115007                    CMPA    8,DL
         1 007035   007044 604400 1                  TMOZ    s:9624

     1686     9620    5                    CALL ITE$ERROR(%E$2MANYRES);

   9620  1 007036   000077 630400 2                  EPPR0   63
         1 007037   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 007040   000000 701000 xent               TSX1    ITE$ERROR
         1 007041   000000 011000                    NOP     0

     1687     9621    5                    ALTRETURN;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:273  

   9621  1 007042   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 007043   000000 702211                    TSX2  ! 0,X1

     1688     9622    5                    END;
     1689     9623    4                 END;
     1690     9624    3              END;

   9624  1 007044   200021 054100                    AOS     J,,AUTO
         1 007045   200007 470500                    LDP0    BLK$,,AUTO
         1 007046   000001 236100                    LDQ     1,,PR0
         1 007047   000022 772000                    QRL     18
         1 007050   200021 116100                    CMPQ    J,,AUTO
         1 007051   006737 605400 1                  TPNZ    s:9603

     1691     9625        /**/
     1692     9626    2           CMD$->IT$RES.MAXRESX = K-1;

   9626  1 007052   200004 471500                    LDP1    CMD$,,AUTO
         1 007053   200022 235100                    LDA     K,,AUTO
         1 007054   000001 135007                    SBLA    1,DL
         1 007055   100001 755100                    STA     1,,PR1

     1693     9627    2           CMD$ = PINCRW(CMD$,SIZEW(IT$RES));

   9627  1 007056   200004 236100                    LDQ     CMD$,,AUTO
         1 007057   000033 036003                    ADLQ    27,DU
         1 007060   200004 756100                    STQ     CMD$,,AUTO

     1694     9628    2           RETURN;

   9628  1 007061   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 007062   000001 702211                    TSX2  ! 1,X1

     1695     9629    2   END;
     1696     9630        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:274  
     1697     9631        /**/
     1698     9632    1   ONEVAL_OPT: PROC ALTRET;

   9632  1 007063   200044 741300       ONEVAL_OPT   STX1  ! @DEVNAME,,AUTO

     1699     9633        /**/
     1700     9634    2           CMD$->IT$MONOPT = NO;

   9634  1 007064   200004 470500                    LDP0    CMD$,,AUTO
         1 007065   000100 100400                    MLR     fill='000'O
         1 007066   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 007067   000000 000014                    ADSC9   0,,PR0                   cn=0,n=12

     1701     9635    2           CMD$->IT$MONOPT.CNTWD.OFFSET = SIZEW(IT$MONOPT);

   9635  1 007070   003000 236007                    LDQ     1536,DL
         1 007071   000000 552110                    STBQ    0,'10'O,PR0

     1702     9636    2           CMD$->IT$MONOPT.CNTWD.TYPE = BLK$->P$O.CODE;

   9636  1 007072   200007 471500                    LDP1    BLK$,,AUTO
         1 007073   100000 236100                    LDQ     0,,PR1
         1 007074   000000 552104                    STBQ    0,'04'O,PR0

     1703     9637        /**/
     1704     9638    2           TEXTC = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;

   9638  1 007075   100003 473500                    LDP3    3,,PR1
         1 007076   300003 474500                    LDP4    3,,PR3
         1 007077   000100 101500                    MRL     fill='000'O
         1 007100   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 007101   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 007102   200052 220100                    LDX0    @FEATURE+2,,AUTO
         1 007103   000001 621010                    EAX1    1,X0
         1 007104   000100 100540                    MLR     fill='000'O
         1 007105   400000 000011                    ADSC9   0,,PR4                   cn=0,n=*X1
         1 007106   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:275  

     1705     9639    2           CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   9639  1 007107   200033 236100                    LDQ     TEXTC,,AUTO
         1 007110   000033 772000                    QRL     27
         1 007111   000000 620006                    EAX0    0,QL
         1 007112   000100 305540                    DTB
         1 007113   200033 230010                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X0
         1 007114   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

     1706     9640        /**/
     1707     9641    2           CMD$->IT$MONOPT.OPTS.VAL1 = TEMP;

   9641  1 007115   200024 235100                    LDA     TEMP,,AUTO
         1 007116   000001 755100                    STA     1,,PR0

     1708     9642        /**/
     1709     9643    2           CMD$ = PINCRW(CMD$,SIZEW(IT$MONOPT));

   9643  1 007117   200004 236100                    LDQ     CMD$,,AUTO
         1 007120   000003 036003                    ADLQ    3,DU
         1 007121   200004 756100                    STQ     CMD$,,AUTO

     1710     9644    2           RETURN;

   9644  1 007122   200044 221300                    LDX1  ! @DEVNAME,,AUTO
         1 007123   000001 702211                    TSX2  ! 1,X1

     1711     9645    2   END;
     1712     9646        /**/
     1713     9647        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:276  
     1714     9648        /**/
     1715     9649    1   TWOVAL_OPT: PROC ALTRET;

   9649  1 007124   200042 741300       TWOVAL_OPT   STX1  ! FTEXTC+4,,AUTO

     1716     9650        /**/
     1717     9651    2           CMD$->IT$MONOPT = NO;

   9651  1 007125   200004 470500                    LDP0    CMD$,,AUTO
         1 007126   000100 100400                    MLR     fill='000'O
         1 007127   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 007130   000000 000014                    ADSC9   0,,PR0                   cn=0,n=12

     1718     9652    2           CMD$->IT$MONOPT.CNTWD.OFFSET = SIZEW(IT$MONOPT);

   9652  1 007131   003000 236007                    LDQ     1536,DL
         1 007132   000000 552110                    STBQ    0,'10'O,PR0

     1719     9653    2           CMD$->IT$MONOPT.CNTWD.TYPE = BLK$->P$O.CODE;

   9653  1 007133   200007 471500                    LDP1    BLK$,,AUTO
         1 007134   100000 236100                    LDQ     0,,PR1
         1 007135   000000 552104                    STBQ    0,'04'O,PR0

     1720     9654        /**/
     1721     9655    2           TEXTC = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0)->TEXT$C;

   9655  1 007136   100003 473500                    LDP3    3,,PR1
         1 007137   300003 474500                    LDP4    3,,PR3
         1 007140   000100 101500                    MRL     fill='000'O
         1 007141   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 007142   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 007143   200052 220100                    LDX0    @FEATURE+2,,AUTO
         1 007144   000001 621010                    EAX1    1,X0
         1 007145   000100 100540                    MLR     fill='000'O
         1 007146   400000 000011                    ADSC9   0,,PR4                   cn=0,n=*X1
         1 007147   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:277  

     1722     9656    2           CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   9656  1 007150   200033 236100                    LDQ     TEXTC,,AUTO
         1 007151   000033 772000                    QRL     27
         1 007152   000000 620006                    EAX0    0,QL
         1 007153   000100 305540                    DTB
         1 007154   200033 230010                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X0
         1 007155   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4

     1723     9657    2           CMD$->IT$MONOPT.OPTS.VAL1 = TEMP;

   9657  1 007156   200024 235100                    LDA     TEMP,,AUTO
         1 007157   000001 755100                    STA     1,,PR0

     1724     9658        /**/
     1725     9659    2           TEXTC = BLK$->P$O.SUBLK$(1)->P$O.SUBLK$(0)->TEXT$C;

   9659  1 007160   100004 473500                    LDP3    4,,PR1
         1 007161   300003 474500                    LDP4    3,,PR3
         1 007162   000100 101500                    MRL     fill='000'O
         1 007163   400000 000001                    ADSC9   0,,PR4                   cn=0,n=1
         1 007164   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 007165   200052 220100                    LDX0    @FEATURE+2,,AUTO
         1 007166   000001 621010                    EAX1    1,X0
         1 007167   000100 100540                    MLR     fill='000'O
         1 007170   400000 000011                    ADSC9   0,,PR4                   cn=0,n=*X1
         1 007171   200033 000011                    ADSC9   TEXTC,,AUTO              cn=0,n=9

     1726     9660    2           CALL CHARBIN(TEMP,SUBSTR(TEXTC.TEXT,0,TEXTC.COUNT));

   9660  1 007172   200033 236100                    LDQ     TEXTC,,AUTO
         1 007173   000033 772000                    QRL     27
         1 007174   000000 620006                    EAX0    0,QL
         1 007175   000100 305540                    DTB
         1 007176   200033 230010                    NDSC9   TEXTC,,AUTO              cn=1,s=nosgn,sf=0,n=*X0
         1 007177   200024 000004                    NDSC9   TEMP,,AUTO               cn=0,s=lsgnf,sf=0,n=4
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:278  

     1727     9661    2           CMD$->IT$MONOPT.OPTS.VAL2 = TEMP;

   9661  1 007200   200024 235100                    LDA     TEMP,,AUTO
         1 007201   000002 755100                    STA     2,,PR0

     1728     9662        /**/
     1729     9663    2           CMD$ = PINCRW(CMD$,SIZEW(IT$MONOPT));

   9663  1 007202   200004 236100                    LDQ     CMD$,,AUTO
         1 007203   000003 036003                    ADLQ    3,DU
         1 007204   200004 756100                    STQ     CMD$,,AUTO

     1730     9664    2           RETURN;

   9664  1 007205   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 007206   000001 702211                    TSX2  ! 1,X1

     1731     9665    2   END;
     1732     9666        /**/
     1733     9667        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:279  
     1734     9668        /**/
     1735     9669    1   SITE_OPT: PROC ALTRET;

   9669  1 007207   200042 741300       SITE_OPT     STX1  ! FTEXTC+4,,AUTO

     1736     9670        /**/
     1737     9671    2           TEMP$ = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0);

   9671  1 007210   200007 470500                    LDP0    BLK$,,AUTO
         1 007211   000003 471500                    LDP1    3,,PR0
         1 007212   100003 236100                    LDQ     3,,PR1
         1 007213   200010 756100                    STQ     TEMP$,,AUTO

     1738     9672        /**/
     1739     9673    2           IF TEMP$->TEXT$C.COUNT > SIZEC(B_SITEINFO.SITE_NAME#.C) THEN

   9673  1 007214   200010 473500                    LDP3    TEMP$,,AUTO
         1 007215   000100 101500                    MRL     fill='000'O
         1 007216   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         1 007217   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
         1 007220   200052 236100                    LDQ     @FEATURE+2,,AUTO
         1 007221   000170 116007                    CMPQ    120,DL
         1 007222   007226 604000 1                  TMI     s:9676

     1740     9674    2              TEMP$->TEXT$C.COUNT = SIZEC(B_SITEINFO.SITE_NAME#.C);

   9674  1 007223   000100 101400                    MRL     fill='000'O
         1 007224   000066 000004 2                  ADSC9   54                       cn=0,n=4
         1 007225   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1

     1741     9675        /**/
     1742     9676    2           B_SITEINFO.SITE_NAME#.C = SUBSTR(TEMP$->TEXT$C.TEXT,0,TEMP$->TEXT$C.COUNT);

   9676  1 007226   000100 101500                    MRL     fill='000'O
         1 007227   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         1 007230   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 007231   200052 220100                    LDX0    @FEATURE+2,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:280  
         1 007232   000100 101500                    MRL     fill='000'O
         1 007233   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         1 007234   200053 000002                    ADSC9   @FEATURE+3,,AUTO         cn=0,n=2
         1 007235   200053 221100                    LDX1    @FEATURE+3,,AUTO
         1 007236   040000 100540                    MLR     fill='040'O
         1 007237   300000 200011                    ADSC9   0,,PR3                   cn=1,n=*X1
         1 007240   000001 200167 xsym               ADSC9   B_SITEINFO+1             cn=1,n=119

     1743     9677    2           B_SITEINFO.SITE_NAME#.L = TEMP$->TEXT$C.COUNT;

   9677  1 007241   000000 100500                    MLR     fill='000'O
         1 007242   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         1 007243   000001 000001 xsym               ADSC9   B_SITEINFO+1             cn=0,n=1

     1744     9678        /**/
     1745     9679    2           RETURN;

   9679  1 007244   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 007245   000001 702211                    TSX2  ! 1,X1

     1746     9680    2   END;
     1747     9681        /**/
     1748     9682        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:281  
     1749     9683        /**/
     1750     9684    1   HSITE_OPT: PROC ALTRET;

   9684  1 007246   200042 741300       HSITE_OPT    STX1  ! FTEXTC+4,,AUTO

     1751     9685        /**/
     1752     9686    2           TEMP$ = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0);

   9686  1 007247   200007 470500                    LDP0    BLK$,,AUTO
         1 007250   000003 471500                    LDP1    3,,PR0
         1 007251   100003 236100                    LDQ     3,,PR1
         1 007252   200010 756100                    STQ     TEMP$,,AUTO

     1753     9687        /**/
     1754     9688    3           IF TEMP$->TEXT$C.COUNT > %MAX_SITEID THEN DO; /* SIX CHARS. MAX. */

   9688  1 007253   200010 473500                    LDP3    TEMP$,,AUTO
         1 007254   000100 101500                    MRL     fill='000'O
         1 007255   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         1 007256   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
         1 007257   200052 236100                    LDQ     @FEATURE+2,,AUTO
         1 007260   000007 116007                    CMPQ    7,DL
         1 007261   007270 604000 1                  TMI     s:9692

     1755     9689    3              CALL ITE$ERROR(%E$6CHARSITE);

   9689  1 007262   000101 630400 2                  EPPR0   65
         1 007263   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 007264   000000 701000 xent               TSX1    ITE$ERROR
         1 007265   000000 011000                    NOP     0

     1756     9690    3              ALTRETURN;

   9690  1 007266   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 007267   000000 702211                    TSX2  ! 0,X1

     1757     9691    3              END;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:282  
     1758     9692    2           B_SITEINFO.SITE_ID# = SUBSTR(TEMP$->TEXT$C.TEXT,0,TEMP$->TEXT$C.COUNT);

   9692  1 007270   000100 101500                    MRL     fill='000'O
         1 007271   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         1 007272   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 007273   200052 220100                    LDX0    @FEATURE+2,,AUTO
         1 007274   000100 101500                    MRL     fill='000'O
         1 007275   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         1 007276   200053 000002                    ADSC9   @FEATURE+3,,AUTO         cn=0,n=2
         1 007277   200053 222100                    LDX2    @FEATURE+3,,AUTO
         1 007300   040000 100540                    MLR     fill='040'O
         1 007301   300000 200012                    ADSC9   0,,PR3                   cn=1,n=*X2
         1 007302   000066 000006 xsym               ADSC9   B_SITEINFO+54            cn=0,n=6

     1759     9693        /**/
     1760     9694    2           RETURN;

   9694  1 007303   000001 702211                    TSX2  ! 1,X1

     1761     9695    2   END;
     1762     9696        /**/
     1763     9697        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:283  
     1764     9698        /**/
     1765     9699    1   SALUTATION_OPT: PROC ALTRET;

   9699  1 007304   200042 741300       SALUTATION_* STX1  ! FTEXTC+4,,AUTO

     1766     9700        /**/
     1767     9701    2           TEMP$ = BLK$->P$O.SUBLK$(0)->P$O.SUBLK$(0);

   9701  1 007305   200007 470500                    LDP0    BLK$,,AUTO
         1 007306   000003 471500                    LDP1    3,,PR0
         1 007307   100003 236100                    LDQ     3,,PR1
         1 007310   200010 756100                    STQ     TEMP$,,AUTO

     1768     9702        /**/
     1769     9703    2           IF TEMP$->TEXT$C.COUNT > SIZEC(B_SITEINFO.SALUTATION#.C) THEN

   9703  1 007311   200010 473500                    LDP3    TEMP$,,AUTO
         1 007312   000100 101500                    MRL     fill='000'O
         1 007313   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         1 007314   200052 000004                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=4
         1 007315   200052 236100                    LDQ     @FEATURE+2,,AUTO
         1 007316   000120 116007                    CMPQ    80,DL
         1 007317   007323 604000 1                  TMI     s:9706

     1770     9704    2              TEMP$->TEXT$C.COUNT = SIZEC(B_SITEINFO.SALUTATION#.C);

   9704  1 007320   000100 101400                    MRL     fill='000'O
         1 007321   000102 000004 2                  ADSC9   66                       cn=0,n=4
         1 007322   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1

     1771     9705        /**/
     1772     9706    2          B_SITEINFO.SALUTATION#.C = SUBSTR(TEMP$->TEXT$C.TEXT,0,TEMP$->TEXT$C.COUNT);

   9706  1 007323   000100 101500                    MRL     fill='000'O
         1 007324   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         1 007325   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 007326   200052 220100                    LDX0    @FEATURE+2,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:284  
         1 007327   000100 101500                    MRL     fill='000'O
         1 007330   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         1 007331   200053 000002                    ADSC9   @FEATURE+3,,AUTO         cn=0,n=2
         1 007332   200053 221100                    LDX1    @FEATURE+3,,AUTO
         1 007333   040000 100540                    MLR     fill='040'O
         1 007334   300000 200011                    ADSC9   0,,PR3                   cn=1,n=*X1
         1 007335   000037 200117 xsym               ADSC9   B_SITEINFO+31            cn=1,n=79

     1773     9707    2           B_SITEINFO.SALUTATION#.L = TEMP$->TEXT$C.COUNT;

   9707  1 007336   000000 100500                    MLR     fill='000'O
         1 007337   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         1 007340   000037 000001 xsym               ADSC9   B_SITEINFO+31            cn=0,n=1

     1774     9708    2           RETURN;

   9708  1 007341   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 007342   000001 702211                    TSX2  ! 1,X1

     1775     9709    2   END;
     1776     9710        /**/
     1777     9711        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:285  
     1778     9712        /**/
     1779     9713    1   MTDFLT_OPT: PROC ALTRET;

   9713  1 007343   200042 741300       MTDFLT_OPT   STX1  ! FTEXTC+4,,AUTO

     1780     9714        /**/
     1781     9715    2           FR_MTDFLT = NO;

   9715  1 007344   000000 450000 xsym               STZ     FR_MTDFLT

     1782     9716    3           DO J = 0 TO BLK$->P$O.NSUBLKS-1;

   9716  1 007345   200021 450100                    STZ     J,,AUTO
         1 007346   007401 710000 1                  TRA     s:9726+1

     1783     9717    3              TEMP$ = BLK$->P$O.SUBLK$(J);

   9717  1 007347   200007 470500                    LDP0    BLK$,,AUTO
         1 007350   200021 720100                    LXL0    J,,AUTO
         1 007351   000003 236110                    LDQ     3,X0,PR0
         1 007352   200010 756100                    STQ     TEMP$,,AUTO

     1784     9718    4              DO CASE(TEMP$->P$O.CODE);

   9718  1 007353   200010 471500                    LDP1    TEMP$,,AUTO
         1 007354   100000 236100                    LDQ     0,,PR1
         1 007355   777777 376007                    ANQ     -1,DL
         1 007356   000015 136007                    SBLQ    13,DL
         1 007357   000003 116007                    CMPQ    3,DL
         1 007360   007362 602006 1                  TNC     s:9718+7,QL
         1 007361   007400 710000 1                  TRA     s:9726
         1 007362   007365 710000 1                  TRA     s:9720
         1 007363   007371 710000 1                  TRA     s:9722
         1 007364   007375 710000 1                  TRA     s:9724

     1785     9719    4               CASE(%ITS_800);

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:286  
     1786     9720    4                 FR_MTDFLT = FR_MTDFLT | %ATTR_D800#;

   9720  1 007365   000000 236000 xsym               LDQ     FR_MTDFLT
         1 007366   100000 276003                    ORQ     32768,DU
         1 007367   000000 756000 xsym               STQ     FR_MTDFLT
         1 007370   007400 710000 1                  TRA     s:9726

     1787     9721    4               CASE(%ITS_1600);

     1788     9722    4                 FR_MTDFLT = FR_MTDFLT | %ATTR_D1600#;

   9722  1 007371   000000 236000 xsym               LDQ     FR_MTDFLT
         1 007372   200000 276003                    ORQ     65536,DU
         1 007373   000000 756000 xsym               STQ     FR_MTDFLT
         1 007374   007400 710000 1                  TRA     s:9726

     1789     9723    4               CASE(%ITS_6250);

     1790     9724    4                 FR_MTDFLT = FR_MTDFLT | %ATTR_D6250#;

   9724  1 007375   000000 236000 xsym               LDQ     FR_MTDFLT
         1 007376   400000 276003                    ORQ     -131072,DU
         1 007377   000000 756000 xsym               STQ     FR_MTDFLT

     1791     9725    4               END;

     1792     9726    3              END;

   9726  1 007400   200021 054100                    AOS     J,,AUTO
         1 007401   200007 470500                    LDP0    BLK$,,AUTO
         1 007402   000001 236100                    LDQ     1,,PR0
         1 007403   000022 772000                    QRL     18
         1 007404   200021 116100                    CMPQ    J,,AUTO
         1 007405   007347 605400 1                  TPNZ    s:9717

     1793     9727    2           RETURN;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:287  
   9727  1 007406   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 007407   000001 702211                    TSX2  ! 1,X1

     1794     9728    2   END;
     1795     9729        /**/
     1796     9730        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:288  
     1797     9731        /**/
     1798     9732    1   IOCACHE_OPT: PROC ALTRET;

   9732  1 007410   200042 741300       IOCACHE_OPT  STX1  ! FTEXTC+4,,AUTO

     1799     9733        /**/
     1800     9734    2           TEMP$ = CMD$;

   9734  1 007411   200004 236100                    LDQ     CMD$,,AUTO
         1 007412   200010 756100                    STQ     TEMP$,,AUTO

     1801     9735    2           CALL ONEVAL_OPT;

   9735  1 007413   007063 701000 1                  TSX1    ONEVAL_OPT
         1 007414   000000 011000                    NOP     0

     1802     9736    2           IF TEMP$->IT$MONOPT.OPTS.VAL1 = 0 THEN

   9736  1 007415   200010 470500                    LDP0    TEMP$,,AUTO
         1 007416   000001 235100                    LDA     1,,PR0
         1 007417   007422 601000 1                  TNZ     s:9738

     1803     9737    2              RETURN;

   9737  1 007420   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 007421   000001 702211                    TSX2  ! 1,X1

     1804     9738    2           J = 0;

   9738  1 007422   200021 450100                    STZ     J,,AUTO

     1805     9739    3           DO WHILE(BITBIN(FMC_MASKTBL(J))+1 < TEMP$->IT$MONOPT.OPTS.VAL1);

   9739  1 007423   007425 710000 1                  TRA     s:9741

     1806     9740    3              J = J + 1;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:289  
   9740  1 007424   200021 054100                    AOS     J,,AUTO

     1807     9741    3              END;

   9741  1 007425   200010 470500                    LDP0    TEMP$,,AUTO
         1 007426   200021 720100                    LXL0    J,,AUTO
         1 007427   000000 236010 xsym               LDQ     FMC_MASKTBL,X0
         1 007430   000001 036007                    ADLQ    1,DL
         1 007431   000001 116100                    CMPQ    1,,PR0
         1 007432   007424 602000 1                  TNC     s:9740

     1808     9742    3           IF (BITBIN(FMC_MASKTBL(J))+1)*4 > MM_PCORE - 2047 THEN DO;

   9742  1 007433   000000 235000 xsym               LDA     MM_PCORE
         1 007434   003777 135007                    SBLA    2047,DL
         1 007435   200052 755100                    STA     @FEATURE+2,,AUTO
         1 007436   000002 736000                    QLS     2
         1 007437   007442 604000 1                  TMI     s:9743
         1 007440   200052 116100                    CMPQ    @FEATURE+2,,AUTO
         1 007441   007453 604400 1                  TMOZ    s:9746

     1809     9743    3              CALL ITE$ERROR(%E$IOCACHE2BIG);

   9743  1 007442   000104 630400 2                  EPPR0   68
         1 007443   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 007444   000000 701000 xent               TSX1    ITE$ERROR
         1 007445   000000 011000                    NOP     0

     1810     9744    3              TEMP$->IT$MONOPT.OPTS.VAL1 = (MM_PCORE-2047) /4;

   9744  1 007446   000000 236000 xsym               LDQ     MM_PCORE
         1 007447   003777 136007                    SBLQ    2047,DL
         1 007450   000004 506007                    DIV     4,DL
         1 007451   200010 470500                    LDP0    TEMP$,,AUTO
         1 007452   000001 756100                    STQ     1,,PR0

     1811     9745    3              END;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:290  

     1812     9746    2           RETURN;

   9746  1 007453   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 007454   000001 702211                    TSX2  ! 1,X1

     1813     9747    2   END IOCACHE_OPT;
     1814     9748        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:291  
     1815     9749    1   NODES_OPT: PROC ALTRET;

   9749  1 007455   200042 741300       NODES_OPT    STX1  ! FTEXTC+4,,AUTO

     1816     9750
     1817     9751    2           TEMP$ = CMD$;

   9751  1 007456   200004 236100                    LDQ     CMD$,,AUTO
         1 007457   200010 756100                    STQ     TEMP$,,AUTO

     1818     9752    2           CALL ONEVAL_OPT;

   9752  1 007460   007063 701000 1                  TSX1    ONEVAL_OPT
         1 007461   000000 011000                    NOP     0

     1819     9753    3           IF TEMP$->IT$MONOPT.OPTS.VAL1 > 99 THEN DO;

   9753  1 007462   200010 470500                    LDP0    TEMP$,,AUTO
         1 007463   000001 235100                    LDA     1,,PR0
         1 007464   000144 115007                    CMPA    100,DL
         1 007465   007474 602000 1                  TNC     s:9757

     1820     9754    3              CALL ITE$ERROR(%E$NODESGT99);

   9754  1 007466   000106 630400 2                  EPPR0   70
         1 007467   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 007470   000000 701000 xent               TSX1    ITE$ERROR
         1 007471   000000 011000                    NOP     0

     1821     9755    3              ALTRETURN;

   9755  1 007472   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 007473   000000 702211                    TSX2  ! 0,X1

     1822     9756    3              END;
     1823     9757    3           DO J = 1 TO KI_MXFE;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:292  
   9757  1 007474   000001 236007                    LDQ     1,DL
         1 007475   200021 756100                    STQ     J,,AUTO
         1 007476   007520 710000 1                  TRA     s:9763+1

     1824     9758    3              IF IT_FEI$$->KI$FEI$(J)->KI$FEI.FEP# >

   9758  1 007477   000000 470400 xsym               LDP0    IT_FEI$$
         1 007500   200021 720100                    LXL0    J,,AUTO
         1 007501   000000 471510                    LDP1    0,X0,PR0
         1 007502   200010 473500                    LDP3    TEMP$,,AUTO
         1 007503   100012 236100                    LDQ     10,,PR1
         1 007504   000011 772000                    QRL     9
         1 007505   000777 376007                    ANQ     511,DL
         1 007506   300001 116100                    CMPQ    1,,PR3
         1 007507   007517 602000 1                  TNC     s:9763
         1 007510   007517 600000 1                  TZE     s:9763

     1825     9759    4                TEMP$->IT$MONOPT.OPTS.VAL1 THEN DO;

     1826     9760    4                 CALL ITE$ERROR(%E$NODES2BIG);

   9760  1 007511   000110 630400 2                  EPPR0   72
         1 007512   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 007513   000000 701000 xent               TSX1    ITE$ERROR
         1 007514   000000 011000                    NOP     0

     1827     9761    4                 ALTRETURN;

   9761  1 007515   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 007516   000000 702211                    TSX2  ! 0,X1

     1828     9762    4                 END;
     1829     9763    3              END;

   9763  1 007517   200021 054100                    AOS     J,,AUTO
         1 007520   000000 236000 xsym               LDQ     KI_MXFE
         1 007521   007477 604000 1                  TMI     s:9758
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:293  
         1 007522   200021 116100                    CMPQ    J,,AUTO
         1 007523   007477 605000 1                  TPL     s:9758

     1830     9764    2   END NODES_OPT;

   9764  1 007524   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 007525   000001 702211                    TSX2  ! 1,X1

     1831     9765        /**/
     1832     9766    1   GET_TYPE: PROC(MODEL,FEATURE) ALTRET;

   9766  1 007526   200046 741300       GET_TYPE     STX1  ! @DEVNAME+2,,AUTO

     1833     9767        /**/
     1834     9768    2   DCL 1 MODEL,
     1835     9769    2         2 COUNT UBIN(9) UNAL,
     1836     9770    2         2 TEXT CHAR(8) UNAL;
     1837     9771    2   DCL 1 FEATURE,
     1838     9772    2         2 COUNT UBIN(9) UNAL,
     1839     9773    2         2 TEXT CHAR(8) UNAL;
     1840     9774    2           FX = 0;

   9774  1 007527   200027 450100                    STZ     FX,,AUTO

     1841     9775    3           DO DVTX=0 TO NI_NDVTS-1;

   9775  1 007530   200025 450100                    STZ     DVTX,,AUTO
         1 007531   007612 710000 1                  TRA     s:9790+1

     1842     9776    4              DO MODX=0 TO 9;

   9776  1 007532   200026 450100                    STZ     MODX,,AUTO

     1843     9777    4                 IF NI$DVT$(DVTX) ~= ADDR(NIL) THEN

   9777  1 007533   200025 720100                    LXL0    DVTX,,AUTO
         1 007534   000000 236010 xsym               LDQ     NI$DVT$,X0
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:294  
         1 007535   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 007536   007605 600000 1                  TZE     s:9789

     1844     9778    4                    IF SUBSTR(MODEL.TEXT,0,MODEL.COUNT) = NI$DVT$(DVTX)->NI$DVT.MODEL(
              9778                             MODX) THEN

   9778  1 007537   200047 470500                    LDP0    @MODEL,,AUTO
         1 007540   000100 101500                    MRL     fill='000'O
         1 007541   000000 000001                    ADSC9   0,,PR0                   cn=0,n=1
         1 007542   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
         1 007543   200052 221100                    LDX1    @FEATURE+2,,AUTO
         1 007544   000000 471410 xsym               LDP1    NI$DVT$,X0
         1 007545   200026 235100                    LDA     MODX,,AUTO
         1 007546   000003 735000                    ALS     3
         1 007547   040105 106540                    CMPC    fill='040'O
         1 007550   000000 200011                    ADSC9   0,,PR0                   cn=1,n=*X1
         1 007551   100003 000010                    ADSC9   3,A,PR1                  cn=0,n=8
         1 007552   007605 601000 1                  TNZ     s:9789

     1845     9779    5                    DO;

     1846     9780    5                       IF ADDR(FEATURE) ~= ADDR(NIL) THEN

   9780  1 007553   200050 236100                    LDQ     @FEATURE,,AUTO
         1 007554   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 007555   007603 600000 1                  TZE     s:9787

     1847     9781    6                       DO FX = 0 TO 9;

   9781  1 007556   200027 450100                    STZ     FX,,AUTO

     1848     9782    6                          IF SUBSTR(FEATURE.TEXT,0,FEATURE.COUNT) =

   9782  1 007557   200050 470500                    LDP0    @FEATURE,,AUTO
         1 007560   000100 101500                    MRL     fill='000'O
         1 007561   000000 000001                    ADSC9   0,,PR0                   cn=0,n=1
         1 007562   200052 000002                    ADSC9   @FEATURE+2,,AUTO         cn=0,n=2
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:295  
         1 007563   200052 220100                    LDX0    @FEATURE+2,,AUTO
         1 007564   200025 721100                    LXL1    DVTX,,AUTO
         1 007565   000000 471411 xsym               LDP1    NI$DVT$,X1
         1 007566   200027 235100                    LDA     FX,,AUTO
         1 007567   000003 735000                    ALS     3
         1 007570   040105 106540                    CMPC    fill='040'O
         1 007571   000000 200010                    ADSC9   0,,PR0                   cn=1,n=*X0
         1 007572   100027 000010                    ADSC9   23,A,PR1                 cn=0,n=8
         1 007573   007576 601000 1                  TNZ     s:9785

     1849     9783    6                            NI$DVT$(DVTX)->NI$DVT.FEATURE(FX) THEN
     1850     9784    6                             RETURN;

   9784  1 007574   200046 221300                    LDX1  ! @DEVNAME+2,,AUTO
         1 007575   000001 702211                    TSX2  ! 1,X1

     1851     9785    6                          END;

   9785  1 007576   200027 054100                    AOS     FX,,AUTO
         1 007577   200027 235100                    LDA     FX,,AUTO
         1 007600   000011 115007                    CMPA    9,DL
         1 007601   007557 604400 1                  TMOZ    s:9782
         1 007602   007605 710000 1                  TRA     s:9789

     1852     9786    5                       ELSE
     1853     9787    5                          RETURN;

   9787  1 007603   200046 221300                    LDX1  ! @DEVNAME+2,,AUTO
         1 007604   000001 702211                    TSX2  ! 1,X1

     1854     9788    5                       END;
     1855     9789    4                 END;                      /* DO MODX                           */

   9789  1 007605   200026 054100                    AOS     MODX,,AUTO
         1 007606   200026 235100                    LDA     MODX,,AUTO
         1 007607   000011 115007                    CMPA    9,DL
         1 007610   007533 604400 1                  TMOZ    s:9777
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:296  

     1856     9790    3              END;                         /* DO DVTX                           */

   9790  1 007611   200025 054100                    AOS     DVTX,,AUTO
         1 007612   200025 236100                    LDQ     DVTX,,AUTO
         1 007613   007532 604000 1                  TMI     s:9776
         1 007614   000000 116000 xsym               CMPQ    NI_NDVTS
         1 007615   007532 602000 1                  TNC     s:9776

     1857     9791        /**/
     1858     9792    2           CALL ITE$ERROR(%E$BADMODEL#,ADDR(MODEL));

   9792  1 007616   200047 236100                    LDQ     @MODEL,,AUTO
         1 007617   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 007620   200052 630500                    EPPR0   @FEATURE+2,,AUTO
         1 007621   200055 450500                    STP0    @FEATURE+5,,AUTO
         1 007622   000112 236000 2                  LDQ     74
         1 007623   200054 756100                    STQ     @FEATURE+4,,AUTO
         1 007624   200054 630500                    EPPR0   @FEATURE+4,,AUTO
         1 007625   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 007626   000000 701000 xent               TSX1    ITE$ERROR
         1 007627   000000 011000                    NOP     0

     1859     9793    2           ALTRETURN;

   9793  1 007630   200046 221300                    LDX1  ! @DEVNAME+2,,AUTO
         1 007631   000000 702211                    TSX2  ! 0,X1

     1860     9794    2   END;
     1861     9795        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:297  
     1862     9796        /**/
     1863     9797    1   CONSOLE_OPTS: PROC(TEMP);

   9797  1 007632   200042 741300       CONSOLE_OPTS STX1  ! FTEXTC+4,,AUTO

     1864     9798        /**/
     1865     9799    2   DCL TEMP BIT(36) ALIGNED;
     1866     9800    3           DO CASE(BLK$->P$O.SUBLK$(0)->P$O.CODE);

   9800  1 007633   200007 470500                    LDP0    BLK$,,AUTO
         1 007634   000003 471500                    LDP1    3,,PR0
         1 007635   100000 720100                    LXL0    0,,PR1
         1 007636   000005 100003                    CMPX0   5,DU
         1 007637   007641 602010 1                  TNC     s:9800+6,X0
         1 007640   007733 710000 1                  TRA     s:9818
         1 007641   007733 710000 1                  TRA     s:9818
         1 007642   007646 710000 1                  TRA     s:9802
         1 007643   007657 710000 1                  TRA     s:9805
         1 007644   007670 710000 1                  TRA     s:9808
         1 007645   007715 710000 1                  TRA     s:9813

     1867     9801    3            CASE(%ITS_DISPLAY);

     1868     9802    3              CMD$->IT$CONSOLE.OCINFO.CADDR = CMD$->IT$CONSOLE.OCINFO.

   9802  1 007646   200043 473500                    LDP3    @TEMP,,AUTO
         1 007647   200004 474500                    LDP4    CMD$,,AUTO
         1 007650   400010 236100                    LDQ     8,,PR4
         1 007651   777777 376003                    ANQ     -1,DU
         1 007652   300000 276100                    ORQ     0,,PR3
         1 007653   000022 772000                    QRL     18
         1 007654   000000 622006                    EAX2    0,QL
         1 007655   400010 742100                    STX2    8,,PR4
         1 007656   007733 710000 1                  TRA     s:9818

     1869     9803    3                CADDR | TEMP;
     1870     9804    3            CASE(%ITS_KEYIN);
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:298  

     1871     9805    3              CMD$->IT$CONSOLE.OCINFO.KCADDR = CMD$->IT$CONSOLE.OCINFO.

   9805  1 007657   200043 473500                    LDP3    @TEMP,,AUTO
         1 007660   200004 474500                    LDP4    CMD$,,AUTO
         1 007661   400011 236100                    LDQ     9,,PR4
         1 007662   777777 376003                    ANQ     -1,DU
         1 007663   300000 276100                    ORQ     0,,PR3
         1 007664   000022 772000                    QRL     18
         1 007665   000000 622006                    EAX2    0,QL
         1 007666   400011 742100                    STX2    9,,PR4
         1 007667   007733 710000 1                  TRA     s:9818

     1872     9806    3                KCADDR | TEMP;
     1873     9807    3            CASE(%ITS_NO);

     1874     9808    3              CMD$->IT$CONSOLE.OCINFO.CADDR = CMD$->IT$CONSOLE.OCINFO.

   9808  1 007670   200043 473500                    LDP3    @TEMP,,AUTO
         1 007671   300000 236100                    LDQ     0,,PR3
         1 007672   000027 676000 xsym               ERQ     B_VECTNIL+23
         1 007673   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 007674   200004 471500                    LDP1    CMD$,,AUTO
         1 007675   100010 236100                    LDQ     8,,PR1
         1 007676   777777 376003                    ANQ     -1,DU
         1 007677   200052 376100                    ANQ     @FEATURE+2,,AUTO
         1 007700   000022 772000                    QRL     18
         1 007701   000000 620006                    EAX0    0,QL
         1 007702   100010 740100                    STX0    8,,PR1

     1875     9809    3                CADDR & ~TEMP;
     1876     9810    3              CMD$->IT$CONSOLE.OCINFO.KCADDR = CMD$->IT$CONSOLE.OCINFO.

   9810  1 007703   300000 236100                    LDQ     0,,PR3
         1 007704   000027 676000 xsym               ERQ     B_VECTNIL+23
         1 007705   200052 756100                    STQ     @FEATURE+2,,AUTO
         1 007706   100011 236100                    LDQ     9,,PR1
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:299  
         1 007707   777777 376003                    ANQ     -1,DU
         1 007710   200052 376100                    ANQ     @FEATURE+2,,AUTO
         1 007711   000022 772000                    QRL     18
         1 007712   000000 620006                    EAX0    0,QL
         1 007713   100011 740100                    STX0    9,,PR1
         1 007714   007733 710000 1                  TRA     s:9818

     1877     9811    3                KCADDR & ~TEMP;
     1878     9812    3            CASE(%ITS_YES);

     1879     9813    3              CMD$->IT$CONSOLE.OCINFO.CADDR = CMD$->IT$CONSOLE.OCINFO.

   9813  1 007715   200043 473500                    LDP3    @TEMP,,AUTO
         1 007716   200004 474500                    LDP4    CMD$,,AUTO
         1 007717   400010 236100                    LDQ     8,,PR4
         1 007720   777777 376003                    ANQ     -1,DU
         1 007721   300000 276100                    ORQ     0,,PR3
         1 007722   000022 772000                    QRL     18
         1 007723   000000 622006                    EAX2    0,QL
         1 007724   400010 742100                    STX2    8,,PR4

     1880     9814    3                CADDR | TEMP;
     1881     9815    3              CMD$->IT$CONSOLE.OCINFO.KCADDR = CMD$->IT$CONSOLE.OCINFO.

   9815  1 007725   400011 236100                    LDQ     9,,PR4
         1 007726   777777 376003                    ANQ     -1,DU
         1 007727   300000 276100                    ORQ     0,,PR3
         1 007730   000022 772000                    QRL     18
         1 007731   000000 620006                    EAX0    0,QL
         1 007732   400011 740100                    STX0    9,,PR4

     1882     9816    3                KCADDR | TEMP;
     1883     9817    3            END;

     1884     9818    2           RETURN;

   9818  1 007733   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:300  
         1 007734   000001 702211                    TSX2  ! 1,X1

     1885     9819    2   END;
     1886     9820        %EJECT;
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:301  
     1887     9821        /**/
     1888     9822    1   DEFAULT_CHECK: PROC ALTRET;             /* See if option given               */

   9822  1 007735   200042 741300       DEFAULT_CHE* STX1  ! FTEXTC+4,,AUTO

     1889     9823        /**/
     1890     9824    2           TEMP$ = PINCRW(B$DS5$,SIZEW(IT$CMDWD));

   9824  1 007736   000000 236000 xsym               LDQ     B$DS5$
         1 007737   000001 036003                    ADLQ    1,DU
         1 007740   200010 756100                    STQ     TEMP$,,AUTO

     1891     9825        /**/
     1892     9826    3           DO WHILE(TEMP$->IT$CMDWD ~= %ITS_ENDCMD);

   9826  1 007741   200010 470500                    LDP0    TEMP$,,AUTO
         1 007742   000000 235100                    LDA     0,,PR0
         1 007743   000145 115007                    CMPA    101,DL
         1 007744   007766 600000 1                  TZE     s:9831

     1893     9827    3              IF TEMP$->IT$MONOPT.CNTWD.TYPE = J THEN ALTRETURN;
              9827                       /* Found specified option */

   9827  1 007745   200010 470500                    LDP0    TEMP$,,AUTO
         1 007746   000000 236100                    LDQ     0,,PR0
         1 007747   000777 376007                    ANQ     511,DL
         1 007750   200021 116100                    CMPQ    J,,AUTO
         1 007751   007754 601000 1                  TNZ     s:9828

   9827  1 007752   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 007753   000000 702211                    TSX2  ! 0,X1

     1894     9828    3              TEMP$ = PINCRW(TEMP$,TEMP$->IT$MONOPT.CNTWD.OFFSET);

   9828  1 007754   000000 236100                    LDQ     0,,PR0
         1 007755   000011 772000                    QRL     9
         1 007756   000777 376007                    ANQ     511,DL
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:302  
         1 007757   000022 736000                    QLS     18
         1 007760   200010 036100                    ADLQ    TEMP$,,AUTO
         1 007761   200010 756100                    STQ     TEMP$,,AUTO

     1895     9829    3              END;

   9829  1 007762   200010 470500                    LDP0    TEMP$,,AUTO
         1 007763   000000 235100                    LDA     0,,PR0
         1 007764   000145 115007                    CMPA    101,DL
         1 007765   007745 601000 1                  TNZ     s:9827

     1896     9830        /**/
     1897     9831    2           RETURN;

   9831  1 007766   200042 221300                    LDX1  ! FTEXTC+4,,AUTO
         1 007767   000001 702211                    TSX2  ! 1,X1

OC_INFO
 Sect OctLoc
   0     000   000000 040007   000000 000000   114117 103101   114040 040040    .. .....LOCAL
   0     004   114117 103101   114040 040040   000000 000000   000000 000000    LOCAL   ........
   0     010   040040 040040   040040 040040   040040 040040   040040 040040
   0     030*  040040 040040   040040 040040   040040 040040   040040 040040

MPC_CNTWD
 Sect OctLoc
   0     034   000000 021001                                                    ....

DTDEV_CNTWD
 Sect OctLoc
   0     035   000000 010002                                                    ....

UNITDEV_CNTWD
 Sect OctLoc
   0     036   000000 015002                                                    ....

SPROC_CNTWD
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:303  
 Sect OctLoc
   0     037   000000 012013                                                    ....

RES_CNTWD
 Sect OctLoc
   0     040   000000 033016                                                    ....

CONSOLE_CNTWD
 Sect OctLoc
   0     041   000000 046005                                                    ..&.

FEP_CNTWD
 Sect OctLoc
   0     042   000000 011006                                                    ....

APC_CNTWD
 Sect OctLoc
   0     043   ****** 010015                                                    ....

APDEV_CNTWD
 Sect OctLoc
   0     044   ****** 007002                                                    ....

(unnamed)
 Sect OctLoc
   0     045   104103 040040   115123 120060   061071 061040   124103 040040    DC  MSP0191 TC
   0     051   115124 120060   066061 060040   104120 040040   125122 120060    MTP0610 DP  URP0
   0     055   066060 060040   125103 040040   103122 040040   103120 040040    600 UC  CR  CP
   0     061   123124 104052   052040 040040   114120 040040   123124 104114    STD**   LP  STDL
   0     065   120040 040040   065060 060040   101103 040040   101120 040040    P   500 AC  AP
   0     071   123103 040040   103117 116123   117114 105040   077040 040040    SC  CONSOLE ?
   0     075   040040 040040   123103 060061   060060 060060   115061 071061        SC010000M191
   0     101   104065 060060   115123 120060   066060 060040   115123 120070    D500MSP0600 MSP8
   0     105   115123 120070   060062 061040   111111 104113   115123 123070    MSP8021 IIDKMSS8
   0     111   060071 060040   115123 120063   070070 061040   104103 060061    090 MSP3881 DC01
   0     115   060060 060060   104120 060061   060060 060060   115123 125060    0000DP010000MSU0
   0     121   064065 061040   115123 106060   060060 067040   115123 125060    451 MSF0007 MSU0
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:304  
   0     125   065060 061040   115123 106060   060061 065040   115123 125063    501 MSF0015 MSU3
   0     131   063070 060040   115123 125063   063070 061040   115123 125063    380 MSU3381 MSU3
   0     135   063071 060040   115123 125063   063071 061040   115123 125070    390 MSU3391 MSU8
   0     141   060070 062040   115123 125070   060071 062040   115066 060061    082 MSU8092 M601
   0     145   115124 120060   066060 061040   124120 125122   115124 120124    MTP0601 TPURMTPT
   0     151   120125 122040   115066 061060   115124 120070   062061 065040    PUR M610MTP8215
   0     155   124103 060061   060060 060060   115124 060061   060060 060060    TC010000MT010000
   0     161   115124 060062   060060 060060   125103 115116   125122 124120    MT020000UCMNURTP
   0     165   125122 120125   122124 120040   125122 120070   066060 060040    URPURTP URP8600
   0     171   125122 120105   125122 120040   125103 060061   060060 060060    URPEURP UC010000
   0     175   114120 060061   060060 060060   120122 125061   062060 061040    LP010000PRU1201
   0     201   120122 125061   062060 060040   120122 102060   066060 060040    PRU1200 PRB0600
   0     205   103122 060061   060060 060060   103122 125060   065060 061040    CR010000CRU0501
   0     211   115124 125060   066061 060040   115124 106060   066060 070040    MTU0610 MTF0608
   0     215   115124 125070   062060 060040   115124 106070   062060 066040    MTU8200 MTF8206
   0     221   104105 114124   101040 040040   111102 105130   072123 110101    DELTA   IBEX:SHA
   0     225   122105 104137   123120 105103   111101 114040   072123 110101    RED_SPECIAL :SHA
   0     231   122105 104137   123131 123124   105115 040040   114117 107117    RED_SYSTEM  LOGO
   0     235   116040 040040   115115 040040                                    N   MM

(unnamed)
 Sect OctLoc
   2     000   000000 000152   000000 006000   000000 000256   000002 006000    ...j............
   2     004   000002 400000   000000 000221   000005 006000   000000 000162    ...............r
   2     010   000007 006000   000000 000151   000011 006000   000000 000171    .......i.......y
   2     014   000013 006000   000000 000153   000015 006000   000000 006000    .......k........
   2     020   000000 000017   000000 006000   000000 000074   000000 006000    ...........<....
   2     024   000000 000220   000024 006000   000000 000214   000026 006000    ................
   2     030   000000 000215   000030 006000   103040 040040   000000 000240    ........C   ....
   2     034   000033 006000   000000 000154   000035 006000   000000 000166    .......l.......v
   2     040   000037 006000   040000 000000   000041 006000   004000 000000    .... ....!......
   2     044   000043 006000   200000 000000   000045 006000   100000 000000    .#.......%..@...
   2     050   000047 006000   000000 000226   000051 006000   000000 000227    .'.......)......
   2     054   000053 006000   000000 000230   000055 006000   077040 040040    .+.......-..?
   2     060   000000 000233   000060 006000   000157 006000   000017 006000    .....0...o......
   2     064   000161 006000   000020 006000   000000 000167   000066 006000    .q.........w.6..
   2     070   000000 000217   000070 006000   000000 000231   000072 006000    .....8.......:..
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:305  
   2     074   000000 000202   000074 006000   000000 000201   000076 006000    .....<.......>..
   2     100   000000 000223   000100 006000   000000 000117   000000 000247    .....@.....O....
   2     104   000103 006000   000000 000262   000105 006000   000000 000250    .C.......E......
   2     110   000107 006000   000000 000145   000111 006000                    .G.....e.I..
     1898     9832    2   END;
     1899     9833        /**/
     1900     9834    1   END;

PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:306  
--  Include file information  --

   B$P.:E05TOU  cannot be made into a system file and is referenced.
   IT$RES.:E05TOU  cannot be made into a system file and is referenced.
   IT$CPU.:E05TOU  cannot be made into a system file and is referenced.
   IT$FEP.:E05TOU  cannot be made into a system file and is referenced.
   IT$CONFIG.:E05TOU  is referenced.
   OC$INFO.:E05TOU  is referenced.
   IT$CONSOLE.:E05TOU  cannot be made into a system file and is referenced.
   IT$MONOPT.:E05TOU  cannot be made into a system file and is referenced.
   IT$SPROC.:E05TOU  cannot be made into a system file and is referenced.
   IT$IOM.:E05TOU  cannot be made into a system file and is referenced.
   IT$CMDWD.:E05TOU  cannot be made into a system file and is referenced.
   IT$UNITDEV.:E05TOU  cannot be made into a system file and is referenced.
   IT$DTDEV.:E05TOU  cannot be made into a system file and is referenced.
   IT$APDEV.:E05TOU  cannot be made into a system file and is referenced.
   IT$APC.:E05TOU  cannot be made into a system file and is referenced.
   IT$MPC.:E05TOU  cannot be made into a system file and is referenced.
   SS_CNTRLD_R.:E05TOU  cannot be made into a system file and is referenced.
   SS_CNTRL_R.:E05TOU  cannot be made into a system file and is referenced.
   SS_SCHED_R.:E05TOU  cannot be made into a system file and is referenced.
   FM_CACHE_R.:E05TOU  cannot be made into a system file and is referenced.
   HF_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   FR_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   UM_CP6.:E05TOU  is referenced.
   OC_SUBS_C.:E05TOU  is referenced.
   KI_SUBS_C.:E05TOU  is referenced.
   NI$TABLES.:E05TOU  is referenced.
   N$REQ.:E05TOU  is referenced.
   NI_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   KI_MACROS_C.:E05TOU  is referenced.
   KI_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   IT_ERROR_C.:E05TOU  is referenced.
   IT_SUBS_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:307  
      No diagnostics issued in procedure ITC$CHECK_DT.
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:308  

 **** Variables and constants ****

  ****  Section 000 RoData ITC$CHECK_DT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    43-0-0/b STRC        r     1 APC_CNTWD                 44-0-0/b STRC        r     1 APDEV_CNTWD
    41-0-0/b STRC        r     1 CONSOLE_CNTWD             35-0-0/b STRC        r     1 DTDEV_CNTWD
    42-0-0/b STRC        r     1 FEP_CNTWD                 34-0-0/b STRC        r     1 MPC_CNTWD
     0-0-0/w STRC(1008)  r     1 OC_INFO                   40-0-0/b STRC        r     1 RES_CNTWD
    37-0-0/b STRC        r     1 SPROC_CNTWD               36-0-0/b STRC        r     1 UNITDEV_CNTWD

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    44-0-0/w PTR         r     1 @DEVNAME                  43-0-0/w PTR         r     1 @DVN
    50-0-0/w PTR         r     1 @FEATURE                  47-0-0/w PTR         r     1 @MODEL
     3-0-0/w PTR         r     1 @PCB                      43-0-0/w PTR         r     1 @TEMP
     7-0-0/w PTR         r     1 BLK$                       4-0-0/w PTR         r     1 CMD$
     5-0-0/w PTR         r     1 CTLR$                      6-0-0/w PTR         r     1 DEV$
    13-0-0/w PTR         r     1 DEVLIST$                  *0-0-0/c CHAR(8)     r     1 DEVNAME
    12-0-0/w PTR         r     1 DVBLK$                    *0-0-0/w SBIN        r     1 DVN
    25-0-0/w SBIN        r     1 DVTX                      *0-0-0/c STRC(81)    r     1 FEATURE
    36-0-0/c STRC(81)    r     1 FTEXTC                    27-0-0/w SBIN        r     1 FX
    20-0-0/w SBIN        r     1 I                         32-0-0/w SBIN        r     1 IOMCHAN#
    21-0-0/w SBIN        r     1 J                         22-0-0/w SBIN        r     1 K
    23-0-0/w SBIN        r     1 L                         30-0-0/w SBIN        r     1 LA_IOM#
    *0-0-0/c STRC(81)    r     1 MODEL                     26-0-0/w SBIN        r     1 MODX
    14-0-0/w PTR         r     1 MPCLIST$                  17-0-0/w SBIN        r     1 NUM_OLDS
    15-0-0/w PTR         r     1 OLD$                      16-0-0/w SBIN        r     1 OLD_DEVS
    11-0-0/w PTR         r     1 OPT$                      31-0-0/w SBIN        r     1 OPTS#
    *0-0-0/w STRC(504)   r     1 PCB                       24-0-0/w SBIN        r     1 TEMP
    *0-0-0/w BIT         r     1 TEMP                      10-0-0/w PTR         r     1 TEMP$
    33-0-0/c STRC(81)    r     1 TEXTC
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:309  

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$DS5$                     0-0-0/d STRC(2232)  r     1 B_SITEINFO
     0-0-0/w PTR         r     1 FMC_CACHEPGCNT$
     0-0-0/b BIT         r     1 FMC_MASKTBL(0:17)
     0-0-0/b BIT         r     1 FR_MTDFLT                  0-0-0/w BIT         r     1 HW_IMX
     0-0-0/w BIT         r     1 HW_IOP
     0-0-0/w CHAR(40)    r     1 IT_CHAIN500(0:5)
     0-0-0/w CHAR(40)    r     1 IT_CHAIN600(0:5)
     0-0-0/d STRC(936)   r     1 IT_CONFIG                  0-0-0/w PTR         r     1 IT_FEI$$
     0-0-0/c CHAR(4)     r     1 IT_TXT_0000                0-0-0/c CHAR(5)     r     1 IT_TXT_LOCAL
     0-0-0/w BIT         r     1 IT_VFC(0:14)               0-0-0/c STRC(72)    r     1 IT_WSN
     0-0-0/w UBIN        r     1 IT_WSNX                    0-0-0/w PTR         r     1 KI_FEI$$
     0-0-0/w UBIN        r     1 KI_MXFE                    0-0-0/w SBIN        r     1 MM_PCORE
     0-0-0/w PTR         r     1 N$DCT$$                    0-0-0/w PTR         r     1 N$FQ$
     0-0-0/w PTR         r     1 NI$DVT$(0:49)              0-0-0/w PTR         r     1 NI$FQ$
     0-0-0/w PTR         r     1 NI$IBUF$                   0-0-0/w PTR         r     1 NI$RP$
     0-0-0/w SBIN        r     1 NI_IOMS                    0-0-0/w UBIN        r     1 NI_NDVTS
     0-0-0/w SBIN        r     1 N_DCTXMAX                  0-0-0/w SBIN        r     1 N_NDPS
     0-0-0/w UBIN        r     1 S_MING
     0-0-0/w SBIN        r     1 S_PTYPE(0:7)

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(288)   r     1 IT$APC                     0-0-0/w STRC(252)   r     1 IT$APDEV
     0-0-0/w UBIN        r     1 IT$CMDWD                   0-0-0/w STRC(1368)  r     1 IT$CONSOLE
     0-0-0/w STRC        r     1 IT$CPU                     0-0-0/w STRC(261)   r     1 IT$DTDEV
     0-0-0/w STRC(324)   r     1 IT$FEP                     0-0-0/w STRC(72)    r     1 IT$IOM
     0-0-0/w STRC(108)   r     1 IT$MONOPT                  0-0-0/w STRC(594)   r     1 IT$MPC
     0-0-0/w STRC(972)   r     1 IT$RES                     0-0-0/w STRC(360)   r     1 IT$SPROC
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:310  
     0-0-0/w STRC(450)   r     1 IT$UNITDEV                 0-0-0/w STRC(612)   r     1 KI$FEI
     0-0-0/w PTR         r     1 KI$FEI$(0:0)
     0-0-0/w PTR         r     1 N$DCT$(0:0)                0-0-0/w STRC(2844)  r     1 NI$DVT
     0-0-0/w STRC(144)   r     1 P$O                        0-0-0/w ASTR(153)   r     1 P$S
     0-0-0/c STRC(288)   r     1 SP_TEXT$C                  0-0-0/c ASTR(9)     r     1 TEXT$C


   Procedure ITC$CHECK_DT requires 4088 words for executable code.
   Procedure ITC$CHECK_DT requires 46 words of local(AUTO) storage.

    No errors detected in file ITC$CHECK.:E05TSI    .
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:311  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:312  
          MINI XREF LISTING

APC_CNTWD
      7920**DCL      8642>>ASSIGN
APDEV_CNTWD
      7925**DCL      8684>>ASSIGN
B$DS5$
      7934**DCL      8125>>ASSIGN   8176>>IF       8413>>ASSIGN   8634>>ASSIGN   8755>>ASSIGN   8798>>ASSIGN
      8946>>ASSIGN   8972>>ASSIGN   9051>>ASSIGN   9089>>ASSIGN   9171>>ASSIGN   9225>>ASSIGN   9255>>ASSIGN
      9358>>ASSIGN   9435>>ASSIGN   9445>>ASSIGN   9481>>ASSIGN   9487>>ASSIGN   9499>>ASSIGN   9568>>ASSIGN
      9824>>ASSIGN
BADCHAN IN PROCEDURE BUILD_MPC
      8292**LABEL    8297--GOTO
BD_ALT IN PROCEDURE BUILD_DEV
      8349**LABEL    8366--CALLALT  8373--CALLALT  8376--CALLALT
BLK$
      7240**DCL      8169<<ASSIGN   8194>>DOINDEX  8195>>ASSIGN   8235>>DOINDEX  8236>>ASSIGN   8240>>DOINDEX
      8245>>DOINDEX  8246>>ASSIGN   8319<<ASSIGN   8323>>DOINDEX  8324>>ASSIGN   8442<<ASSIGN   8443>>IF
      8444>>DOINDEX  8445>>ASSIGN   8477<<ASSIGN   8489>>DOINDEX  8490>>ASSIGN   8644<<ASSIGN   8645>>DOINDEX
      8646>>ASSIGN   8808<<ASSIGN   8809>>ASSIGN   8810>>DOCASE   8814>>IF       8820>>ASSIGN   8820>>ASSIGN
      8834>>ASSIGN   8834>>ASSIGN   8840>>DOINDEX  8841>>IF       8842>>IF       8863>>ASSIGN   8863>>ASSIGN
      8878>>ASSIGN   8880>>ASSIGN   8880>>ASSIGN   9263<<ASSIGN   9265>>ASSIGN   9271>>CALLBLT  9271>>CALLBLT
      9279<<ASSIGN   9281>>ASSIGN   9281>>ASSIGN   9290>>ASSIGN   9290>>ASSIGN   9307<<ASSIGN   9308>>DOCASE
      9310>>IF       9313>>ASSIGN   9313>>ASSIGN   9318>>DOCASE   9372<<ASSIGN   9373>>DOCASE   9531>>DOINDEX
      9532>>ASSIGN   9602>>DOINDEX  9603>>ASSIGN   9636>>ASSIGN   9638>>ASSIGN   9638>>ASSIGN   9653>>ASSIGN
      9655>>ASSIGN   9655>>ASSIGN   9659>>ASSIGN   9659>>ASSIGN   9671>>ASSIGN   9686>>ASSIGN   9701>>ASSIGN
      9716>>DOINDEX  9717>>ASSIGN   9800>>DOCASE
BM_ALT IN PROCEDURE BUILD_MPC
      8304**LABEL    8187--CALLALT  8215--CALLALT  8225--CALLALT  8259--CALLALT  8265--CALLALT
BUILD_DEV
      8317**PROC     8138--CALL
BUILD_MPC
      8167**PROC     8135--CALL
BUILD_TAPE
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:313  
      9189**PROC     9078--CALL     9083--CALL
B_SITEINFO.CPU_TYPE#
      8107**DCL      9368<<ASSIGN
B_SITEINFO.SALUTATION#.C
      8105**DCL      9703--IF       9704--ASSIGN   9706<<ASSIGN
B_SITEINFO.SALUTATION#.L
      8105**DCL      9365<<ASSIGN   9707<<ASSIGN
B_SITEINFO.SITE_ID#
      8107**DCL      9366<<ASSIGN   9692<<ASSIGN
B_SITEINFO.SITE_NAME#.C
      8104**DCL      9673--IF       9674--ASSIGN   9676<<ASSIGN
B_SITEINFO.SITE_NAME#.L
      8104**DCL      9364<<ASSIGN   9677<<ASSIGN
CA_ALT
      8742**LABEL    8654--CALLALT  8674--CALLALT  8702--CALLALT  8706--CALLALT
CC_ALT
      8926**LABEL    8823--CALLALT  8836--CALLALT  8906--CALLALT
CMD$
      7237**DCL      8125<<ASSIGN   8127>>ASSIGN   8128<<ASSIGN   8128>>ASSIGN   8129>>ASSIGN   8141>>ASSIGN
      8171>>ASSIGN   8172>>ASSIGN   8177>>ASSIGN   8183>>ASSIGN   8188>>ASSIGN   8189>>ASSIGN   8190>>ASSIGN
      8191>>ASSIGN   8192>>ASSIGN   8193>>ASSIGN   8198>>ASSIGN   8203>>ASSIGN   8208>>IF       8209>>ASSIGN
      8215>>CALL     8218>>ASSIGN   8226>>ASSIGN   8227>>ASSIGN   8228>>ASSIGN   8229>>ASSIGN   8241>>ASSIGN
      8255>>ASSIGN   8260>>ASSIGN   8261>>ASSIGN   8266>>IF       8266>>IF       8272>>ASSIGN   8275>>ASSIGN
      8285>>IF       8287>>ASSIGN   8287>>ASSIGN   8290>>IF       8296>>IF       8301<<ASSIGN   8301>>ASSIGN
      8320>>ASSIGN   8329<<ASSIGN   8329>>ASSIGN   8332>>ASSIGN   8333>>ASSIGN   8334>>ASSIGN   8335>>ASSIGN
      8336>>ASSIGN   8340>>ASSIGN   8342>>ASSIGN   8351>>ASSIGN   8353>>ASSIGN   8358>>IF       8359>>ASSIGN
      8366>>CALL     8377>>ASSIGN   8378>>ASSIGN   8379>>ASSIGN   8385>>ASSIGN   8388>>ASSIGN   8392>>ASSIGN
      8396<<ASSIGN   8396>>ASSIGN   8413<<ASSIGN   8414>>ASSIGN   8416<<ASSIGN   8416>>ASSIGN   8418>>ASSIGN
      8419>>ASSIGN   8424>>ASSIGN   8425>>ASSIGN   8426>>ASSIGN   8427>>ASSIGN   8428>>ASSIGN   8429>>ASSIGN
      8430>>ASSIGN   8431>>ASSIGN   8438>>ASSIGN   8440>>CALL     8449>>ASSIGN   8457>>ASSIGN   8458>>ASSIGN
      8459>>ASSIGN   8460>>ASSIGN   8461>>ASSIGN   8462>>ASSIGN   8467<<ASSIGN   8467>>ASSIGN   8468>>ASSIGN
      8478<<ASSIGN   8478>>ASSIGN   8480>>ASSIGN   8481>>ASSIGN   8482>>ASSIGN   8483>>ASSIGN   8484>>ASSIGN
      8485>>ASSIGN   8486>>ASSIGN   8497>>ASSIGN   8500>>ASSIGN   8501>>ASSIGN   8504>>ASSIGN   8505>>ASSIGN
      8514>>ASSIGN   8516>>ASSIGN   8521>>IF       8522>>ASSIGN   8528>>CALL     8540>>ASSIGN   8541>>ASSIGN
      8542>>ASSIGN   8543>>IF       8545>>ASSIGN   8546>>ASSIGN   8549>>ASSIGN   8550>>ASSIGN   8562>>ASSIGN
      8568>>ASSIGN   8573>>ASSIGN   8575>>ASSIGN   8577>>ASSIGN   8579>>ASSIGN   8587>>ASSIGN   8605>>CALLBLT
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:314  
      8611>>CALLBLT  8621<<ASSIGN   8621>>ASSIGN   8622>>ASSIGN   8634<<ASSIGN   8635>>ASSIGN   8637<<ASSIGN
      8637>>ASSIGN   8638>>ASSIGN   8639<<ASSIGN   8639>>ASSIGN   8681>>ASSIGN   8682<<ASSIGN   8682>>ASSIGN
      8740>>ASSIGN   8755<<ASSIGN   8757>>ASSIGN   8759<<ASSIGN   8759>>ASSIGN   8761>>ASSIGN   8776>>ASSIGN
      8778>>ASSIGN   8781>>ASSIGN   8783<<ASSIGN   8783>>ASSIGN   8784>>ASSIGN   8798<<ASSIGN   8799>>ASSIGN
      8801<<ASSIGN   8801>>ASSIGN   8803>>ASSIGN   8804>>ASSIGN   8805>>ASSIGN   8813>>ASSIGN   8820>>ASSIGN
      8822>>ASSIGN   8823>>CALL     8832>>ASSIGN   8837>>ASSIGN   8839>>ASSIGN   8843>>ASSIGN   8857>>ASSIGN
      8863>>ASSIGN   8872>>ASSIGN   8878>>ASSIGN   8880>>ASSIGN   8898>>ASSIGN   8899>>ASSIGN   8900>>ASSIGN
      8907>>ASSIGN   8908>>ASSIGN   8909>>ASSIGN   8914>>IF       8915>>ASSIGN   8915>>ASSIGN   8916>>IF
      8917>>ASSIGN   8917>>ASSIGN   8918>>IF       8919>>ASSIGN   8920>>IF       8921>>ASSIGN   8922<<ASSIGN
      8922>>ASSIGN   8923>>ASSIGN   8946<<ASSIGN   8947>>ASSIGN   8948<<ASSIGN   8948>>ASSIGN   8949>>ASSIGN
      8950>>ASSIGN   8951>>ASSIGN   8952>>ASSIGN   8953>>ASSIGN   8954>>ASSIGN   8955>>ASSIGN   8955>>ASSIGN
      8956>>ASSIGN   8956>>ASSIGN   8957>>ASSIGN   8958>>ASSIGN   8959>>ASSIGN   8963>>ASSIGN   8964>>ASSIGN
      8965>>ASSIGN   8966<<ASSIGN   8966>>ASSIGN   8967>>ASSIGN   8972<<ASSIGN   8973>>ASSIGN   8974<<ASSIGN
      8974>>ASSIGN   8975>>ASSIGN   8976>>ASSIGN   8989>>ASSIGN   8990>>ASSIGN   8991>>ASSIGN   8992>>ASSIGN
      8993>>ASSIGN   8994>>ASSIGN   8995>>ASSIGN   8996>>ASSIGN   9000<<ASSIGN   9000>>ASSIGN   9004>>ASSIGN
      9005>>ASSIGN   9006>>ASSIGN   9007>>ASSIGN   9008>>ASSIGN   9009>>ASSIGN   9010>>ASSIGN   9011>>ASSIGN
      9042>>ASSIGN   9043>>ASSIGN   9044>>ASSIGN   9045<<ASSIGN   9045>>ASSIGN   9046>>ASSIGN   9051<<ASSIGN
      9052>>ASSIGN   9053<<ASSIGN   9053>>ASSIGN   9054>>ASSIGN   9055>>ASSIGN   9066>>ASSIGN   9067>>ASSIGN
      9068>>ASSIGN   9069>>ASSIGN   9070>>ASSIGN   9071>>ASSIGN   9072>>ASSIGN   9073>>ASSIGN   9074<<ASSIGN
      9074>>ASSIGN   9084>>ASSIGN   9089<<ASSIGN   9090>>ASSIGN   9091<<ASSIGN   9091>>ASSIGN   9093>>ASSIGN
      9094>>ASSIGN   9105>>ASSIGN   9106>>ASSIGN   9107>>ASSIGN   9108>>ASSIGN   9109>>ASSIGN   9110>>ASSIGN
      9111>>ASSIGN   9112<<ASSIGN   9112>>ASSIGN   9114>>ASSIGN   9118>>ASSIGN   9119>>ASSIGN   9120>>ASSIGN
      9121>>ASSIGN   9122>>ASSIGN   9124>>ASSIGN   9125>>ASSIGN   9126>>ASSIGN   9133>>ASSIGN   9134>>ASSIGN
      9135>>ASSIGN   9136>>ASSIGN   9137>>ASSIGN   9138>>ASSIGN   9139>>ASSIGN   9140>>ASSIGN   9141>>ASSIGN
      9142>>ASSIGN   9143<<ASSIGN   9143>>ASSIGN   9148>>ASSIGN   9149>>ASSIGN   9150>>ASSIGN   9151>>ASSIGN
      9152>>ASSIGN   9153>>ASSIGN   9154>>ASSIGN   9158>>ASSIGN   9159>>ASSIGN   9160>>ASSIGN   9161>>ASSIGN
      9162>>ASSIGN   9163>>ASSIGN   9164<<ASSIGN   9164>>ASSIGN   9166>>ASSIGN   9171<<ASSIGN   9173>>ASSIGN
      9174<<ASSIGN   9174>>ASSIGN   9175>>ASSIGN   9176>>ASSIGN   9177>>ASSIGN   9178>>ASSIGN   9179>>ASSIGN
      9180>>ASSIGN   9181>>ASSIGN   9182>>ASSIGN   9183<<ASSIGN   9183>>ASSIGN   9184>>ASSIGN   9193>>ASSIGN
      9194>>ASSIGN   9195>>ASSIGN   9196>>ASSIGN   9197>>ASSIGN   9198>>ASSIGN   9199>>ASSIGN   9210>>ASSIGN
      9211>>ASSIGN   9212>>ASSIGN   9213<<ASSIGN   9213>>ASSIGN   9225<<ASSIGN   9226>>ASSIGN   9228<<ASSIGN
      9228>>ASSIGN   9230>>ASSIGN   9232>>ASSIGN   9242>>ASSIGN   9255<<ASSIGN   9256>>ASSIGN   9258<<ASSIGN
      9258>>ASSIGN   9260>>ASSIGN   9261>>ASSIGN   9271>>CALLBLT  9274>>IF       9274>>IF       9288>>ASSIGN
      9294>>ASSIGN   9296>>ASSIGN   9297>>ASSIGN   9298>>ASSIGN   9299>>ASSIGN   9300>>ASSIGN   9301>>ASSIGN
      9302>>ASSIGN   9311>>ASSIGN   9320>>ASSIGN   9322>>ASSIGN   9324>>ASSIGN   9326>>ASSIGN   9328>>ASSIGN
      9330>>ASSIGN   9332>>ASSIGN   9336<<ASSIGN   9336>>ASSIGN   9337>>ASSIGN   9358<<ASSIGN   9360>>ASSIGN
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:315  
      9362<<ASSIGN   9362>>ASSIGN   9388>>ASSIGN   9388>>ASSIGN   9413>>ASSIGN   9425>>ASSIGN   9426>>ASSIGN
      9427>>ASSIGN   9432>>ASSIGN   9440>>ASSIGN   9449>>ASSIGN   9455>>ASSIGN   9457>>ASSIGN   9457>>ASSIGN
      9461>>ASSIGN   9464>>ASSIGN   9467>>ASSIGN   9469>>ASSIGN   9472>>ASSIGN   9475>>ASSIGN   9478>>ASSIGN
      9485>>ASSIGN   9491>>ASSIGN   9491>>ASSIGN   9495>>ASSIGN   9496>>ASSIGN   9503>>ASSIGN   9506>>ASSIGN
      9508>>ASSIGN   9510>>ASSIGN   9513<<ASSIGN   9513>>ASSIGN   9514>>ASSIGN   9528>>ASSIGN   9529>>ASSIGN
      9536>>ASSIGN   9538>>ASSIGN   9538>>ASSIGN   9545>>ASSIGN   9545>>ASSIGN   9549>>ASSIGN   9549>>ASSIGN
      9553>>ASSIGN   9553>>ASSIGN   9557>>ASSIGN   9557>>ASSIGN   9570>>DOWHILE  9571>>DOCASE   9573>>IF
      9575>>CALL     9583>>IF       9583>>IF       9583>>IF       9583>>IF       9583>>IF       9589<<ASSIGN
      9589>>ASSIGN   9597>>ASSIGN   9598>>ASSIGN   9599>>ASSIGN   9609>>ASSIGN   9613>>ASSIGN   9614>>IF
      9615>>ASSIGN   9617>>ASSIGN   9626>>ASSIGN   9627<<ASSIGN   9627>>ASSIGN   9634>>ASSIGN   9635>>ASSIGN
      9636>>ASSIGN   9641>>ASSIGN   9643<<ASSIGN   9643>>ASSIGN   9651>>ASSIGN   9652>>ASSIGN   9653>>ASSIGN
      9657>>ASSIGN   9661>>ASSIGN   9663<<ASSIGN   9663>>ASSIGN   9734>>ASSIGN   9751>>ASSIGN   9802>>ASSIGN
      9802>>ASSIGN   9805>>ASSIGN   9805>>ASSIGN   9808>>ASSIGN   9808>>ASSIGN   9810>>ASSIGN   9810>>ASSIGN
      9813>>ASSIGN   9813>>ASSIGN   9815>>ASSIGN   9815>>ASSIGN
CONSOLE_CNTWD
      7910**DCL      8804>>ASSIGN   8950>>ASSIGN
CONSOLE_OPTS
      9797**PROC     8847--CALL     8849--CALL     8851--CALL     8853--CALL
CTLR$
      7238**DCL      8638<<ASSIGN   8641>>ASSIGN   8642>>ASSIGN   8653>>CALLBLT  8654>>CALL     8663>>ASSIGN
      8664>>ASSIGN   8665>>ASSIGN   8672>>ASSIGN   8675>>ASSIGN   8676>>ASSIGN   8679>>ASSIGN   8685>>ASSIGN
      8704>>ASSIGN   8707>>ASSIGN   8707>>ASSIGN   8708>>IF
CU_ALT
      8473**LABEL    8423--CALLALT  8440--CALLALT  8456--CALLALT  8528--CALLALT  8536--CALLALT  8539--CALLALT
      8566--CALLALT
DEFAULT_CHECK
      9822**PROC     9416--CALL
DEV$
      7239**DCL      8681<<ASSIGN   8683>>ASSIGN   8684>>ASSIGN   8685>>ASSIGN   8689>>ASSIGN   8690>>ASSIGN
      8691>>ASSIGN   8701>>CALLBLT  8702>>CALL     8704>>ASSIGN   8712>>ASSIGN   8718>>ASSIGN   8718>>ASSIGN
      8727>>ASSIGN   8727>>ASSIGN   8730>>ASSIGN
DEVLIST$
      7244**DCL      8320<<ASSIGN   8354>>ASSIGN   8468<<ASSIGN   8517>>ASSIGN
DEVNAME IN PROCEDURE BUILD_TAPE
      9192**DCL      9189--PROC     9199>>ASSIGN
DTDEV_CNTWD
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:316  
      7890**DCL      8336>>ASSIGN   9005>>ASSIGN   9194>>ASSIGN
DVBLK$
      7243**DCL      8694<<ASSIGN   8695>>DOCASE   8697>>IF       8701>>CALLBLT  8701>>CALLBLT  8705>>CALLBLT
      8705>>CALLBLT  8714>>DOINDEX  8715>>ASSIGN
DVN IN PROCEDURE BUILD_TAPE
      9191**DCL      9189--PROC     9198>>ASSIGN
DVTX
      7254**DCL      8188>>ASSIGN   8191>>ASSIGN   8192>>ASSIGN   8193>>ASSIGN   8226>>ASSIGN   8227>>ASSIGN
      8377>>ASSIGN   8424>>ASSIGN   8425>>ASSIGN   8426>>ASSIGN   8427>>ASSIGN   8457>>ASSIGN   8458>>ASSIGN
      8459>>ASSIGN   8460>>ASSIGN   8540>>ASSIGN   8544>>IF       8663>>ASSIGN   8689>>ASSIGN   8907>>ASSIGN
      8963>>ASSIGN   8989>>ASSIGN   9042>>ASSIGN   9066>>ASSIGN   9105>>ASSIGN   9133>>ASSIGN   9158>>ASSIGN
      9210>>ASSIGN   9775<<DOINDEX  9777>>IF       9778>>IF       9782>>IF
ERR_RTN
      8145**LABEL    8135--CALLALT  8138--CALLALT
FC_ALT
      9340**LABEL    9292--CALLALT
FEATURE IN PROCEDURE GET_TYPE
      9771**DCL      9766--PROC     9780--IF
FEATURE.COUNT IN PROCEDURE GET_TYPE
      9772**DCL      9782>>IF
FEATURE.TEXT IN PROCEDURE GET_TYPE
      9773**DCL      9782>>IF
FEP_CNTWD
      7915**DCL      9176>>ASSIGN   9261>>ASSIGN
FMC_CACHEPGCNT$
      6983**DCL      6983--IMP-PTR  6983--REDEF
FMC_MASKTBL
      6984**DCL      9739>>DOWHILE  9742>>IF
FR_MTDFLT
      6926**DCL      9715<<ASSIGN   9720<<ASSIGN   9720>>ASSIGN   9722<<ASSIGN   9722>>ASSIGN   9724<<ASSIGN
      9724>>ASSIGN
FTEXTC
      7263**DCL      8372<<ASSIGN   8373<>CALL     8535<<ASSIGN   8536<>CALL     8660<>CALL     8962<>CALL
      8988<>CALL     9041<>CALL     9065<>CALL     9104<>CALL     9132<>CALL     9157<>CALL     9209<>CALL
FTEXTC.COUNT
      7264**DCL      8659<<ASSIGN   8942<<ASSIGN
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:317  
FTEXTC.TEXT
      7265**DCL      8658<<CALLBLT  8961<<ASSIGN   8987<<ASSIGN   9018<<ASSIGN   9021<<ASSIGN   9024<<ASSIGN
      9027<<ASSIGN   9030<<ASSIGN   9033<<ASSIGN   9036<<ASSIGN   9039<<ASSIGN   9064<<ASSIGN   9103<<ASSIGN
      9131<<ASSIGN   9156<<ASSIGN   9203<<ASSIGN   9207<<ASSIGN
FX
      7256**DCL      8190>>ASSIGN   8229>>ASSIGN   8379>>ASSIGN   8429>>ASSIGN   8462>>ASSIGN   8542>>ASSIGN
      8665>>ASSIGN   8691>>ASSIGN   8909>>ASSIGN   8965>>ASSIGN   8991>>ASSIGN   9044>>ASSIGN   9068>>ASSIGN
      9107>>ASSIGN   9135>>ASSIGN   9160>>ASSIGN   9212>>ASSIGN   9774<<ASSIGN   9781<<DOINDEX  9782>>IF
GET_TYPE
      9766**PROC     8187--CALL     8225--CALL     8373--CALL     8376--CALL     8423--CALL     8456--CALL
      8536--CALL     8539--CALL     8660--CALL     8686--CALL     8906--CALL     8962--CALL     8988--CALL
      9041--CALL     9065--CALL     9104--CALL     9132--CALL     9157--CALL     9209--CALL
HSITE_OPT
      9684**PROC     9399--CALL
HW_IMX
      6973**DCL      9099>>IF       9127>>IF
HW_IOP
      6970**DCL      9095>>IF
I
      7249**DCL      8131<<DOINDEX  8132>>DOCASE   8169>>ASSIGN   8205>>DOINDEX  8319>>ASSIGN   8476<<DOINDEX
      8477>>ASSIGN   8478>>IF       8518>>DOINDEX  8693<<DOINDEX  8694>>ASSIGN   8840<<DOINDEX  8841>>IF
      8842>>IF       9370<<DOINDEX  9372>>ASSIGN
IOCACHE_OPT
      9732**PROC     9408--CALL
IOMCHAN#
      7259**DCL      8487<<ASSIGN   8562>>ASSIGN   8568>>ASSIGN   8569<<ASSIGN
IT$APC
      7317**DCL      7922--DCLINIT  8639--ASSIGN   8641<<ASSIGN
IT$APC.APCNAME
      7326**DCL      7327--REDEF    8653<<CALLBLT  8654<>CALL
IT$APC.APCTYPE
      7322**DCL      8663<<ASSIGN
IT$APC.CNTWD
      7318**DCL      8642<<ASSIGN
IT$APC.FLAGS.DOWN
      7332**DCL      8679<<ASSIGN   8685>>ASSIGN
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:318  
IT$APC.FX
      7324**DCL      8665<<ASSIGN
IT$APC.HI_CHAN
      7336**DCL      8676<<ASSIGN   8707<<ASSIGN   8707>>ASSIGN   8708>>IF
IT$APC.IOM#
      7334**DCL      8672<<ASSIGN   8704>>ASSIGN
IT$APC.LO_CHAN
      7335**DCL      8675<<ASSIGN
IT$APC.MODX
      7323**DCL      8664<<ASSIGN
IT$APDEV
      7345**DCL      7927--DCLINIT  8682--ASSIGN   8683<<ASSIGN
IT$APDEV.ATTR
      7363**DCL      8718<<ASSIGN   8718>>ASSIGN   8727<<ASSIGN   8727>>ASSIGN
IT$APDEV.CHAN
      7366**DCL      8712<<ASSIGN
IT$APDEV.CNTWD
      7346**DCL      8684<<ASSIGN
IT$APDEV.FLAGS.DOWN
      7351**DCL      8685<<ASSIGN   8730<<ASSIGN
IT$APDEV.FX
      7361**DCL      8691<<ASSIGN
IT$APDEV.IOM#
      7365**DCL      8704<<ASSIGN
IT$APDEV.MODX
      7360**DCL      8690<<ASSIGN
IT$APDEV.NAME
      7354**DCL      7355--REDEF    8701<<CALLBLT  8702<>CALL
IT$APDEV.TYPE
      7359**DCL      8689<<ASSIGN
IT$CMDWD
      7447**DCL      8127<<ASSIGN   8128--ASSIGN   8141<<ASSIGN   8176>>IF       8414<<ASSIGN   8416--ASSIGN
      8622<<ASSIGN   8635<<ASSIGN   8637--ASSIGN   8740<<ASSIGN   8757<<ASSIGN   8759--ASSIGN   8784<<ASSIGN
      8799<<ASSIGN   8801--ASSIGN   8923<<ASSIGN   8947<<ASSIGN   8948--ASSIGN   8967<<ASSIGN   8973<<ASSIGN
      8974--ASSIGN   9046<<ASSIGN   9052<<ASSIGN   9053--ASSIGN   9084<<ASSIGN   9090<<ASSIGN   9091--ASSIGN
      9166<<ASSIGN   9173<<ASSIGN   9174--ASSIGN   9184<<ASSIGN   9226<<ASSIGN   9228--ASSIGN   9256<<ASSIGN
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:319  
      9258--ASSIGN   9337<<ASSIGN   9360<<ASSIGN   9362--ASSIGN   9413<<ASSIGN   9435--ASSIGN   9445--ASSIGN
      9481--ASSIGN   9487--ASSIGN   9499--ASSIGN   9514<<ASSIGN   9569--ASSIGN   9579--ASSIGN   9824--ASSIGN
      9826>>DOWHILE
IT$CONSOLE
      7557**DCL      7912--DCLINIT  8803<<ASSIGN   8922--ASSIGN   8949<<ASSIGN   8966--ASSIGN
IT$CONSOLE.CHAN
      7568**DCL      8837<<ASSIGN   8959<<ASSIGN
IT$CONSOLE.CNTWD
      7558**DCL      8804<<ASSIGN   8950<<ASSIGN
IT$CONSOLE.DOWN
      7569**DCL      8839<<ASSIGN   8843<<ASSIGN
IT$CONSOLE.FX
      7572**DCL      8909<<ASSIGN   8965<<ASSIGN
IT$CONSOLE.IOM#
      7567**DCL      8832<<ASSIGN   8958<<ASSIGN
IT$CONSOLE.MODX
      7571**DCL      8908<<ASSIGN   8964<<ASSIGN
IT$CONSOLE.NAME
      7562**DCL      7563--REDEF    8823<>CALL     8957<<ASSIGN
IT$CONSOLE.NM.BLANKS
      7566**DCL      8822<<ASSIGN   8898<<ASSIGN
IT$CONSOLE.NM.MNEM
      7564**DCL      8813<<ASSIGN
IT$CONSOLE.NM.NUM
      7565**DCL      8820<<ASSIGN
IT$CONSOLE.OCINFO
      7589**DCL      8805<<ASSIGN   8951<<ASSIGN
IT$CONSOLE.OCINFO.CADDR
      7591**DCL      8914>>IF       8915<<ASSIGN   8915>>ASSIGN   8955<<ASSIGN   8955>>ASSIGN   9802<<ASSIGN
      9802>>ASSIGN   9808<<ASSIGN   9808>>ASSIGN   9813<<ASSIGN   9813>>ASSIGN
IT$CONSOLE.OCINFO.CMD
      7607**DCL      8880<<ASSIGN
IT$CONSOLE.OCINFO.CMDCNT
      7605**DCL      8878<<ASSIGN
IT$CONSOLE.OCINFO.KCADDR
      7597**DCL      8916>>IF       8917<<ASSIGN   8917>>ASSIGN   8956<<ASSIGN   8956>>ASSIGN   9805<<ASSIGN
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:320  
      9805>>ASSIGN   9810<<ASSIGN   9810>>ASSIGN   9815<<ASSIGN   9815>>ASSIGN
IT$CONSOLE.OCINFO.LANG
      7593**DCL      8857<<ASSIGN   8863<<ASSIGN   8952<<ASSIGN
IT$CONSOLE.OCINFO.MXPRI
      7595**DCL      8872<<ASSIGN   8918>>IF       8919<<ASSIGN   8954<<ASSIGN
IT$CONSOLE.OCINFO.TNAME
      7602**DCL      8900<<ASSIGN
IT$CONSOLE.OCINFO.WSN
      7600**DCL      8899<<ASSIGN   8920>>IF       8921<<ASSIGN   8953<<ASSIGN
IT$CONSOLE.TYPE
      7570**DCL      8907<<ASSIGN   8963<<ASSIGN
IT$CPU
      7714**DCL      9230<<ASSIGN
IT$CPU.MASTER
      7716**DCL      9232<<ASSIGN
IT$CPU.PORT#
      7715**DCL      9242<<ASSIGN
IT$DTDEV
      7375**DCL      7892--DCLINIT  8329--ASSIGN   8332<<ASSIGN   8357--ASSIGN   8396--ASSIGN   9004<<ASSIGN
      9045--ASSIGN   9193<<ASSIGN   9213--ASSIGN
IT$DTDEV.CNTWD
      7376**DCL      8336<<ASSIGN   9005<<ASSIGN   9194<<ASSIGN
IT$DTDEV.DEV#
      7390**DCL      8385<<ASSIGN   9010<<ASSIGN   9198<<ASSIGN
IT$DTDEV.FLAGS.DOWN
      7384**DCL      8392<<ASSIGN
IT$DTDEV.FLAGS.INPUT
      7381**DCL      8333<<ASSIGN   9006<<ASSIGN   9195<<ASSIGN
IT$DTDEV.FLAGS.OUTPUT
      7382**DCL      8334<<ASSIGN   9007<<ASSIGN   9196<<ASSIGN
IT$DTDEV.FLAGS.PSIA
      7386**DCL      8335<<ASSIGN   9008<<ASSIGN   9197<<ASSIGN
IT$DTDEV.FLAGS.SYSTEM
      7387**DCL      8388<<ASSIGN   9009<<ASSIGN
IT$DTDEV.FX
      7398**DCL      8379<<ASSIGN   9044<<ASSIGN   9212<<ASSIGN
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:321  
IT$DTDEV.MODX
      7397**DCL      8378<<ASSIGN   9043<<ASSIGN   9211<<ASSIGN
IT$DTDEV.NAME
      7391**DCL      7392--REDEF    8358>>IF       8358>>IF       8359>>ASSIGN   8366<>CALL     9011<<ASSIGN
      9199<<ASSIGN
IT$DTDEV.NM.BLANKS
      7395**DCL      8353<<ASSIGN
IT$DTDEV.NM.MNEM
      7393**DCL      8340<<ASSIGN   8342<<ASSIGN
IT$DTDEV.NM.NUM
      7394**DCL      8351<<ASSIGN
IT$DTDEV.TYPE
      7396**DCL      8377<<ASSIGN   9042<<ASSIGN   9210<<ASSIGN
IT$FEP
      7688**DCL      7917--DCLINIT  9175<<ASSIGN   9183--ASSIGN   9260<<ASSIGN   9336--ASSIGN
IT$FEP.CHAN
      7694**DCL      9179<<ASSIGN   9294<<ASSIGN
IT$FEP.CNTWD
      7689**DCL      9176<<ASSIGN   9261<<ASSIGN
IT$FEP.FEP#
      7697**DCL      9177<<ASSIGN   9271<<CALLBLT  9274>>IF       9274>>IF
IT$FEP.FLAGS.DOWN
      7696**DCL      9311<<ASSIGN
IT$FEP.INQSZ
      7698**DCL      9180<<ASSIGN   9296<<ASSIGN   9320<<ASSIGN
IT$FEP.IOM#
      7693**DCL      9178<<ASSIGN   9288<<ASSIGN
IT$FEP.OUTQSZ
      7699**DCL      9181<<ASSIGN   9297<<ASSIGN   9322<<ASSIGN
IT$FEP.QOS
      7700**DCL      9182<<ASSIGN   9298<<ASSIGN   9324<<ASSIGN
IT$FEP.TIMEOUT.BOOT
      7702**DCL      9299<<ASSIGN   9326<<ASSIGN
IT$FEP.TIMEOUT.DUMP
      7703**DCL      9300<<ASSIGN   9328<<ASSIGN
IT$FEP.TIMEOUT.INT
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:322  
      7705**DCL      9302<<ASSIGN   9332<<ASSIGN
IT$FEP.TIMEOUT.RUN
      7704**DCL      9301<<ASSIGN   9330<<ASSIGN
IT$IOM
      7456**DCL      8761<<ASSIGN   8783--ASSIGN
IT$IOM.DOWN#
      7458**DCL      8778<<ASSIGN   8781<<ASSIGN
IT$IOM.PORT#
      7457**DCL      8776<<ASSIGN
IT$MONOPT
      7485**DCL      9425<<ASSIGN   9426--ASSIGN   9513--ASSIGN   9634<<ASSIGN   9635--ASSIGN   9643--ASSIGN
      9651<<ASSIGN   9652--ASSIGN   9663--ASSIGN
IT$MONOPT.CNTWD.OFFSET
      7488**DCL      9426<<ASSIGN   9437>>ASSIGN   9447>>ASSIGN   9483>>ASSIGN   9489>>ASSIGN   9501>>ASSIGN
      9635<<ASSIGN   9652<<ASSIGN   9828>>ASSIGN
IT$MONOPT.CNTWD.TYPE
      7489**DCL      9427<<ASSIGN   9436>>DOWHILE  9446>>DOWHILE  9482>>DOWHILE  9488>>DOWHILE  9500>>DOWHILE
      9636<<ASSIGN   9653<<ASSIGN   9827>>IF
IT$MONOPT.OPTS.VAL1
      7491**DCL      9388<<ASSIGN   9388>>ASSIGN   9432<<ASSIGN   9440<<ASSIGN   9440>>ASSIGN   9449<<ASSIGN
      9449>>ASSIGN   9455<<ASSIGN   9457>>ASSIGN   9461<<ASSIGN   9464<<ASSIGN   9467<<ASSIGN   9469<<ASSIGN
      9472<<ASSIGN   9475<<ASSIGN   9478<<ASSIGN   9485<<ASSIGN   9485>>ASSIGN   9491<<ASSIGN   9491>>ASSIGN
      9491>>ASSIGN   9495<<ASSIGN   9503<<ASSIGN   9503>>ASSIGN   9506<<ASSIGN   9508<<ASSIGN   9510<<ASSIGN
      9641<<ASSIGN   9657<<ASSIGN   9736>>IF       9739>>DOWHILE  9744<<ASSIGN   9753>>IF       9758>>IF
IT$MONOPT.OPTS.VAL2
      7492**DCL      9457<<ASSIGN   9496<<ASSIGN   9661<<ASSIGN
IT$MPC
      7283**DCL      7887--DCLINIT  8171<<ASSIGN   8207--ASSIGN   8301--ASSIGN   8418<<ASSIGN   8467--ASSIGN
      8975<<ASSIGN   9000--ASSIGN   9054<<ASSIGN   9074--ASSIGN   9093<<ASSIGN   9112--ASSIGN
IT$MPC.CNTWD
      7284**DCL      8172<<ASSIGN   8419<<ASSIGN   8976<<ASSIGN   9055<<ASSIGN   9094<<ASSIGN
IT$MPC.CRPFWNAME
      7298**DCL      8193<<ASSIGN   8426<<ASSIGN   8459<<ASSIGN   9111<<ASSIGN
IT$MPC.FLAGS.DOWN
      7300**DCL      8218<<ASSIGN   8449<<ASSIGN   9114<<ASSIGN
IT$MPC.FWNAME
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:323  
      7296**DCL      8191<<ASSIGN   8226<<ASSIGN   8424<<ASSIGN   8457<<ASSIGN   8993<<ASSIGN   9070<<ASSIGN
      9109<<ASSIGN
IT$MPC.FX
      7290**DCL      8190<<ASSIGN   8229<<ASSIGN   8429<<ASSIGN   8462<<ASSIGN   8991<<ASSIGN   9068<<ASSIGN
      9107<<ASSIGN
IT$MPC.LA_IOM.DOWN
      7304**DCL      8275<<ASSIGN
IT$MPC.LA_IOM.HI_CHAN
      7308**DCL      8261<<ASSIGN   8272<<ASSIGN   8287>>ASSIGN   8996<<ASSIGN   9073<<ASSIGN
IT$MPC.LA_IOM.IOM#
      7306**DCL      8255<<ASSIGN
IT$MPC.LA_IOM.LO_CHAN
      7307**DCL      8260<<ASSIGN   8266>>IF       8266>>IF       8287>>ASSIGN   8290>>IF       8296>>IF
      8995<<ASSIGN   9072<<ASSIGN
IT$MPC.LA_IOM.PRESENCE
      7303**DCL      8241<<ASSIGN   8285>>IF       8994<<ASSIGN   9071<<ASSIGN
IT$MPC.LPFWNAME
      7297**DCL      8192<<ASSIGN   8425<<ASSIGN   8458<<ASSIGN   9110<<ASSIGN
IT$MPC.MODX
      7289**DCL      8189<<ASSIGN   8228<<ASSIGN   8428<<ASSIGN   8461<<ASSIGN   8990<<ASSIGN   9067<<ASSIGN
      9106<<ASSIGN
IT$MPC.MPCNAME
      7291**DCL      7292--REDEF    8208>>IF       8208>>IF       8209>>ASSIGN   8215<>CALL     8440<>CALL
      8992<<ASSIGN   9069<<ASSIGN   9108<<ASSIGN
IT$MPC.MPCNM.BLANKS
      7295**DCL      8198<<ASSIGN   8431<<ASSIGN
IT$MPC.MPCNM.MNEM
      7293**DCL      8177<<ASSIGN   8183<<ASSIGN   8430<<ASSIGN
IT$MPC.MPCNM.NUM
      7294**DCL      8203<<ASSIGN   8438<<ASSIGN
IT$MPC.MPCTYPE
      7288**DCL      8188<<ASSIGN   8227<<ASSIGN   8427<<ASSIGN   8460<<ASSIGN   8989<<ASSIGN   9066<<ASSIGN
      9105<<ASSIGN
IT$RES
      7726**DCL      7907--DCLINIT  9597<<ASSIGN   9627--ASSIGN
IT$RES.CNTWD
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:324  
      7727**DCL      9598<<ASSIGN
IT$RES.MAXRESX
      7731**DCL      9626<<ASSIGN
IT$RES.MMTOT
      7732**DCL      9599<<ASSIGN   9615<<ASSIGN
IT$RES.RES.NAME
      7734**DCL      9609<<ASSIGN   9614>>IF
IT$RES.RES.TOT
      7735**DCL      9613<<ASSIGN   9617<<ASSIGN
IT$SPROC
      7467**DCL      7902--DCLINIT  9528<<ASSIGN   9589--ASSIGN
IT$SPROC.CNTWD
      7468**DCL      9529<<ASSIGN
IT$SPROC.CNTWD.TYPE
      7471**DCL      9571>>DOCASE
IT$SPROC.FLGS
      7475**DCL      9545<<ASSIGN   9545>>ASSIGN   9549<<ASSIGN   9549>>ASSIGN   9553<<ASSIGN   9553>>ASSIGN
      9557<<ASSIGN   9557>>ASSIGN
IT$SPROC.NAME
      7472**DCL      9573>>IF       9573>>IF       9575--CALL
IT$SPROC.NAME.COUNT
      7473**DCL      9536<<ASSIGN   9538>>ASSIGN
IT$SPROC.NAME.TEXT
      7474**DCL      9538<<ASSIGN   9583>>IF       9583>>IF       9583>>IF       9583>>IF       9583>>IF
IT$UNITDEV
      7409**DCL      7897--DCLINIT  8478--ASSIGN   8480<<ASSIGN   8520--ASSIGN   8621--ASSIGN   9118<<ASSIGN
      9143--ASSIGN   9148<<ASSIGN   9164--ASSIGN
IT$UNITDEV.CHAIN$
      7438**DCL      8545<<ASSIGN   8549<<ASSIGN   9141<<ASSIGN
IT$UNITDEV.CHAINL
      7439**DCL      8546<<ASSIGN   8550<<ASSIGN   9142<<ASSIGN
IT$UNITDEV.CNTWD
      7410**DCL      8482<<ASSIGN   9119<<ASSIGN   9149<<ASSIGN
IT$UNITDEV.DEV#
      7422**DCL      9125<<ASSIGN   9153<<ASSIGN
IT$UNITDEV.FLAGS.DOWN
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:325  
      7418**DCL      8573<<ASSIGN   9124<<ASSIGN
IT$UNITDEV.FLAGS.INPUT
      7415**DCL      8575<<ASSIGN   9150<<ASSIGN
IT$UNITDEV.FLAGS.OUTPUT
      7416**DCL      8577<<ASSIGN   9120<<ASSIGN
IT$UNITDEV.FLAGS.PSIA
      7420**DCL      8486<<ASSIGN   9122<<ASSIGN   9152<<ASSIGN
IT$UNITDEV.FLAGS.SYMBIONT
      7419**DCL      8579<<ASSIGN   9121<<ASSIGN   9151<<ASSIGN
IT$UNITDEV.FORMNAME
      7432**DCL      8481<<ASSIGN   8501<<ASSIGN   8505<<ASSIGN   8587<<ASSIGN   9136<<ASSIGN   9161<<ASSIGN
IT$UNITDEV.FX
      7431**DCL      8542<<ASSIGN   9135<<ASSIGN   9160<<ASSIGN
IT$UNITDEV.IOMCHAN.CHAN
      7435**DCL      8568<<ASSIGN   9137<<ASSIGN   9162<<ASSIGN
IT$UNITDEV.IOMCHAN.IOM#
      7434**DCL      8485<<ASSIGN   8562<<ASSIGN   9138<<ASSIGN   9163<<ASSIGN
IT$UNITDEV.MODX
      7430**DCL      8541<<ASSIGN   9134<<ASSIGN   9159<<ASSIGN
IT$UNITDEV.NAME
      7423**DCL      7424--REDEF    8521>>IF       8521>>IF       8522>>ASSIGN   8528<>CALL     9126<<ASSIGN
      9154<<ASSIGN
IT$UNITDEV.NM.BLANKS
      7427**DCL      8516<<ASSIGN   8605<<CALLBLT  8611<<CALLBLT
IT$UNITDEV.NM.MNEM
      7425**DCL      8497<<ASSIGN   8500<<ASSIGN   8504<<ASSIGN   8543>>IF
IT$UNITDEV.NM.NUM
      7426**DCL      8514<<ASSIGN
IT$UNITDEV.TYPE
      7429**DCL      8540<<ASSIGN   9133<<ASSIGN   9158<<ASSIGN
IT$UNITDEV.VFC$
      7436**DCL      8483<<ASSIGN   9139<<ASSIGN
IT$UNITDEV.VFCL
      7437**DCL      8484<<ASSIGN   9140<<ASSIGN
ITD$DISKTAPE
        20**DCL-ENT  9047--CALL     9085--CALL
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:326  
ITE$ERROR
      7931**DCL-ENT  8200--CALL     8211--CALL     8221--CALL     8252--CALL     8269--CALL     8292--CALL
      8347--CALL     8361--CALL     8434--CALL     8452--CALL     8471--CALL     8511--CALL     8524--CALL
      8558--CALL     8583--CALL     8592--CALL     8614--CALL     8650--CALL     8669--CALL     8698--CALL
      8709--CALL     8764--CALL     8771--CALL     8816--CALL     8828--CALL     8860--CALL     8869--CALL
      8875--CALL     8887--CALL     8893--CALL     9237--CALL     9267--CALL     9275--CALL     9284--CALL
      9316--CALL     9575--CALL     9605--CALL     9620--CALL     9689--CALL     9743--CALL     9754--CALL
      9760--CALL     9792--CALL
ITF$FEP
        23**DCL-ENT  9185--CALL
ITH$CHECK_CHANNUM
        24**DCL-ENT  8259--CALL     8265--CALL     8566--CALL     8674--CALL     8706--CALL     8836--CALL
      9292--CALL
ITH$CHECK_DEVNAME
        25**DCL-ENT  8215--CALL     8366--CALL     8440--CALL     8528--CALL     8654--CALL     8702--CALL
      8823--CALL
ITS$SYSCON
        22**DCL-ENT  8968--CALL
ITU$UNIT
        21**DCL-ENT  9167--CALL
IT_CHAIN500
      8024**DCL      8545--ASSIGN   8546--ASSIGN
IT_CHAIN600
      8025**DCL      8549--ASSIGN   8550--ASSIGN   9141--ASSIGN   9142--ASSIGN
IT_CONFIG.CR01.CHAN
      8070**DCL      9147>>IF       9162>>ASSIGN
IT_CONFIG.DC01.CHAN
      8081**DCL      8995>>ASSIGN   8996>>ASSIGN
IT_CONFIG.DC01.FWNAME
      8082**DCL      8977>>IF       8979>>IF       8981>>IF       8983>>IF       8993>>ASSIGN
IT_CONFIG.DP01.DVC_CODE
      8085**DCL      9015>>DOSELCT
IT_CONFIG.DP01.DVN
      8084**DCL      9010>>ASSIGN
IT_CONFIG.FEP1.CHAN
      8088**DCL      9172>>IF       9179>>ASSIGN
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:327  
IT_CONFIG.LP01.CHAN
      8067**DCL      9123>>IF       9137>>ASSIGN
IT_CONFIG.MT01.DVN
      8076**DCL      9078<>CALL
IT_CONFIG.MT02.DVN
      8078**DCL      9082>>IF       9083<>CALL
IT_CONFIG.SC01.CHAN
      8058**DCL      8959>>ASSIGN
IT_CONFIG.TC01.CHAN
      8073**DCL      9072>>ASSIGN   9073>>ASSIGN
IT_CONFIG.TC01.FWNAME
      8074**DCL      9056>>IF       9058>>IF       9060>>IF       9070>>ASSIGN   9200>>IF       9200>>IF
      9200>>IF
IT_CONFIG.UC01.CHAN
      8061**DCL      9113>>IF
IT_CONFIG.UC01.CRPNAME
      8064**DCL      9111>>ASSIGN
IT_CONFIG.UC01.FWNAME
      8062**DCL      9095>>IF       9097>>IF       9109>>ASSIGN
IT_CONFIG.UC01.LPNAME
      8063**DCL      9110>>ASSIGN
IT_FEI$$
      8026**DCL      9758>>IF
IT_TXT_0000
      8022**DCL      8198>>ASSIGN   8353>>ASSIGN   8431>>ASSIGN   8516>>ASSIGN   8653>>CALLBLT  8701>>CALLBLT
      8822>>ASSIGN   8898>>ASSIGN
IT_TXT_LOCAL
      8021**DCL      8920>>IF
IT_VFC
      8023**DCL      8483--ASSIGN   8484--ASSIGN   9139--ASSIGN   9140--ASSIGN
IT_WSN.NAME
      8029**DCL      8599>>DOWHILE  8610<<ASSIGN
IT_WSNX
      8027**DCL      8599>>DOWHILE  8604>>IF       8608>>IF       8609<<ASSIGN   8609>>ASSIGN   8610>>ASSIGN
J
      7250**DCL      8194<<DOINDEX  8195>>ASSIGN   8235<<DOINDEX  8236>>ASSIGN   8240>>DOINDEX  8245>>DOINDEX
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:328  
      8246>>ASSIGN   8287<<ASSIGN   8290>>IF       8296>>IF       8323<<DOINDEX  8324>>ASSIGN   8328>>IF
      8444<<DOINDEX  8445>>ASSIGN   8489<<DOINDEX  8490>>ASSIGN   8645<<DOINDEX  8646>>ASSIGN   8807<<DOINDEX
      8808>>ASSIGN   9305<<DOINDEX  9307>>ASSIGN   9415<<DOINDEX  9418>>DOCASE   9427>>ASSIGN   9429>>DOCASE
      9531<<DOINDEX  9532>>ASSIGN   9602<<DOINDEX  9603>>ASSIGN   9613>>ASSIGN   9716<<DOINDEX  9717>>ASSIGN
      9738<<ASSIGN   9739>>DOWHILE  9740<<ASSIGN   9740>>ASSIGN   9742>>IF       9757<<DOINDEX  9758>>IF
      9827>>IF
K
      7251**DCL      8240<<DOINDEX  8245>>DOINDEX  8246>>ASSIGN   8284<<DOINDEX  8285>>IF       8287>>ASSIGN
      8287>>ASSIGN   8290>>IF       8296>>IF       8598<<ASSIGN   8599>>DOWHILE  8599>>DOWHILE  8601<<ASSIGN
      8601>>ASSIGN   8604>>IF       8605>>CALLBLT  8611>>CALLBLT  8714<<DOINDEX  8715>>ASSIGN   8890<<CALLBLT
      8891>>IF       8891>>IF       9451<<ASSIGN   9452>>DOWHILE  9452>>DOWHILE  9453<<ASSIGN   9453>>ASSIGN
      9455>>ASSIGN   9542<<DOINDEX  9543>>DOCASE   9601<<ASSIGN   9609>>ASSIGN   9614>>IF       9617>>ASSIGN
      9618<<ASSIGN   9618>>ASSIGN   9619>>IF       9626>>ASSIGN
KI$FEI.BD$
      4167**DCL      4168--REDEF
KI$FEI.BDAD.WADDR
      4169**DCL      4170--REDEF
KI$FEI.FEP#
      4177**DCL      9758>>IF
KI$FEI.RCVPB
      4183**DCL      4184--REDEF
KI$FEI$
      3497**DCL      9758>>IF
KI_FEI$$
      3496**DCL      3497--IMP-PTR
KI_MXFE
      3505**DCL      9757>>DOINDEX
L
      7252**DCL      8245<<DOINDEX  8246>>ASSIGN   8722<<ASSIGN   8723>>DOWHILE  8725<<ASSIGN   8725>>ASSIGN
      8727>>ASSIGN
LA_IOM#
      7257**DCL      8174<<ASSIGN   8241>>ASSIGN   8255>>ASSIGN   8260>>ASSIGN   8261>>ASSIGN   8266>>IF
      8266>>IF       8272>>ASSIGN   8275>>ASSIGN   8278<<ASSIGN   8278>>ASSIGN   8281<<ASSIGN   8281>>ASSIGN
MM_PCORE
      8020**DCL      9503>>ASSIGN   9742>>IF       9744>>ASSIGN
MODEL IN PROCEDURE GET_TYPE
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:329  
      9768**DCL      9766--PROC     9792--CALL
MODEL.COUNT IN PROCEDURE GET_TYPE
      9769**DCL      9778>>IF
MODEL.TEXT IN PROCEDURE GET_TYPE
      9770**DCL      9778>>IF
MODX
      7255**DCL      8189>>ASSIGN   8228>>ASSIGN   8378>>ASSIGN   8428>>ASSIGN   8461>>ASSIGN   8541>>ASSIGN
      8664>>ASSIGN   8690>>ASSIGN   8908>>ASSIGN   8964>>ASSIGN   8990>>ASSIGN   9043>>ASSIGN   9067>>ASSIGN
      9106>>ASSIGN   9134>>ASSIGN   9159>>ASSIGN   9211>>ASSIGN   9776<<DOINDEX  9778>>IF
MPCLIST$
      7245**DCL      8129<<ASSIGN   8204>>ASSIGN
MPC_CNTWD
      7885**DCL      8172>>ASSIGN   8419>>ASSIGN   8976>>ASSIGN   9055>>ASSIGN   9094>>ASSIGN
MTDFLT_OPT
      9713**PROC     9405--CALL
N$DCT$
      4635**DCL      9452>>DOWHILE
N$DCT$$
      4501**DCL      4635--IMP-PTR  9452>>DOWHILE
N$FQ$
      4501**DCL      4636--IMP-PTR
N$REQ_INIT.BUFADDR
      4520**DCL      4521--REDEF    4521--REDEF
N$REQ_INIT.DLA.DRELADDR
      4512**DCL      4512--REDEF
N$REQ_INIT.DVE.EOMCHAR
      4549**DCL      4550--REDEF
N$REQ_INIT.EAINFO
      4543**DCL      4543--REDEF
N$REQ_INIT.EAINFOX
      4543**DCL      4544--REDEF
N$REQ_INIT.EVNTINFO
      4544**DCL      4544--REDEF
N$REQ_INIT.STATUS
      4525**DCL      4531--REDEF
NI$DVT.FEATURE
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:330  
      7839**DCL      9782>>IF
NI$DVT.LP.CHAIN
      7842**DCL      8544>>IF
NI$DVT.MODEL
      7839**DCL      9778>>IF
NI$DVT.MPC
      7841**DCL      7842--REDEF
NI$DVT.MPC.CRPNAME
      7842**DCL      8193>>ASSIGN   8426>>ASSIGN   8459>>ASSIGN
NI$DVT.MPC.FWNAME
      7841**DCL      8191>>ASSIGN   8226>>ASSIGN   8424>>ASSIGN   8457>>ASSIGN
NI$DVT.MPC.LPNAME
      7841**DCL      8192>>ASSIGN   8425>>ASSIGN   8458>>ASSIGN
NI$DVT$
      4560**DCL      8191>>ASSIGN   8192>>ASSIGN   8193>>ASSIGN   8226>>ASSIGN   8424>>ASSIGN   8425>>ASSIGN
      8426>>ASSIGN   8457>>ASSIGN   8458>>ASSIGN   8459>>ASSIGN   8544>>IF       9777>>IF       9778>>IF
      9782>>IF
NI$FQ$
      4561**DCL      4637--IMP-PTR
NI$IBUF$
      4561**DCL      4637--IMP-PTR
NI$IMXMBX_INIT.PAGED_BASE
      4571**DCL      4572--REDEF    4572--REDEF
NI$IMXMBX_INIT.SIZE
      4573**DCL      4573--REDEF
NI$MBX.DCW.CONTROL.AE
      7835**DCL      7835--REDEF
NI$MBX.LPW.CONTROL.AE
      7831**DCL      7831--REDEF
NI$REQ_INIT.DCW
      4595**DCL      4598--REDEF
NI$REQ_INIT.DCW.TALLY
      4596**DCL      4596--REDEF
NI$REQ_INIT.IDCW.EXTA
      4598**DCL      4598--REDEF
NI$REQ_INIT.PCW
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:331  
      4600**DCL      4604--REDEF
NI$REQ_INIT.SEEK
      4605**DCL      4606--REDEF    4607--REDEF
NI$RP$
      4609**DCL      4639--IMP-PTR
NI_IOMS
      4613**DCL      8251>>IF       8557>>IF       8668>>IF       8763>>IF       8827>>IF       9283>>IF
NI_MBX_INIT.DCW.CONTROL.AE
      4631**DCL      4631--REDEF
NI_MBX_INIT.LPW.CONTROL.AE
      4627**DCL      4627--REDEF
NI_NDVTS
      4634**DCL      9775>>DOINDEX
NODES_OPT
      9749**PROC     9410--CALL
NO_DEFAULT
      9518**LABEL    9416--CALLALT
NUM_OLDS
      7248**DCL      8321<<ASSIGN   8355>>DOINDEX  8365<<ASSIGN   8365>>ASSIGN
N_DCTXMAX
      4609**DCL      9452>>DOWHILE
N_NDPS
      4609**DCL      9455>>ASSIGN   9455>>ASSIGN
OC_INFO
      7862**DCL      8805>>ASSIGN   8951>>ASSIGN
OC_INFO.MXPRI
      7870**DCL      8918>>IF
OLD$
      7246**DCL      8204<<ASSIGN   8207<<ASSIGN   8207>>ASSIGN   8208>>IF       8354<<ASSIGN   8357<<ASSIGN
      8357>>ASSIGN   8358>>IF       8517<<ASSIGN   8520<<ASSIGN   8520>>ASSIGN   8521>>IF
OLD_DEVS
      7247**DCL      8205<<DOINDEX  8206>>IF       8355<<DOINDEX  8356>>IF       8518<<DOINDEX  8519>>IF
ONEVAL_OPT
      9632**PROC     9384--CALL     9387--CALL     9735--CALL     9752--CALL
OPT$
      7242**DCL      8715<<ASSIGN   8716>>DOCASE   8720>>CALLBLT  8720>>CALLBLT  8729>>IF
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:332  
OPTS#
      7258**DCL      8236<<ASSIGN   8280>>IF
OPT_ERR
      9523**LABEL    9375--CALLALT  9378--CALLALT  9384--CALLALT  9387--CALLALT  9393--CALLALT  9396--CALLALT
      9399--CALLALT  9402--CALLALT  9405--CALLALT  9408--CALLALT  9410--CALLALT
P$O.CODE
      7750**DCL      8127>>ASSIGN   8132>>DOCASE   8196>>DOSELCT  8217>>IF       8247>>DOSELCT  8274>>IF
      8325>>DOCASE   8338>>DOCASE   8391>>IF       8446>>DOSELCT  8448>>IF       8491>>DOCASE   8494>>DOCASE
      8572>>IF       8647>>DOCASE   8678>>IF       8695>>DOCASE   8716>>DOCASE   8729>>IF       8780>>IF
      8810>>DOCASE   8841>>IF       8842>>IF       8855>>DOCASE   9308>>DOCASE   9310>>IF       9318>>DOCASE
      9373>>DOCASE   9533>>DOCASE   9543>>DOCASE   9636>>ASSIGN   9653>>ASSIGN   9718>>DOCASE   9800>>DOCASE
P$O.NSUBLKS
      7754**DCL      8131>>DOINDEX  8194>>DOINDEX  8235>>DOINDEX  8236>>ASSIGN   8240>>DOINDEX  8245>>DOINDEX
      8323>>DOINDEX  8371>>IF       8443>>IF       8444>>DOINDEX  8470>>IF       8476>>DOINDEX  8489>>DOINDEX
      8533>>IF       8645>>DOINDEX  8693>>DOINDEX  8714>>DOINDEX  8779>>IF       8807>>DOINDEX  8840>>DOINDEX
      9232>>IF       9304>>IF       9305>>DOINDEX  9370>>DOINDEX  9371>>IF       9531>>DOINDEX  9542>>DOINDEX
      9602>>DOINDEX  9716>>DOINDEX
P$O.SUBLK$
      7775**DCL      8132>>DOCASE   8169>>ASSIGN   8194>>DOINDEX  8195>>ASSIGN   8195>>ASSIGN   8217>>IF
      8220>>IF       8224>>ASSIGN   8224>>ASSIGN   8224>>ASSIGN   8224>>ASSIGN   8236>>ASSIGN   8240>>DOINDEX
      8245>>DOINDEX  8245>>DOINDEX  8246>>ASSIGN   8246>>ASSIGN   8246>>ASSIGN   8249>>ASSIGN   8249>>ASSIGN
      8257>>ASSIGN   8257>>ASSIGN   8263>>ASSIGN   8263>>ASSIGN   8274>>IF       8319>>ASSIGN   8324>>ASSIGN
      8338>>DOCASE   8345>>IF       8345>>IF       8351>>ASSIGN   8351>>ASSIGN   8351>>ASSIGN   8351>>ASSIGN
      8370>>ASSIGN   8370>>ASSIGN   8370>>ASSIGN   8370>>ASSIGN   8372>>ASSIGN   8372>>ASSIGN   8372>>ASSIGN
      8372>>ASSIGN   8383>>ASSIGN   8383>>ASSIGN   8383>>ASSIGN   8383>>ASSIGN   8391>>IF       8432>>IF
      8432>>IF       8432>>IF       8438>>ASSIGN   8438>>ASSIGN   8438>>ASSIGN   8438>>ASSIGN   8438>>ASSIGN
      8438>>ASSIGN   8442>>ASSIGN   8445>>ASSIGN   8448>>IF       8451>>IF       8455>>ASSIGN   8455>>ASSIGN
      8455>>ASSIGN   8455>>ASSIGN   8477>>ASSIGN   8490>>ASSIGN   8494>>DOCASE   8494>>DOCASE   8508>>IF
      8508>>IF       8514>>ASSIGN   8514>>ASSIGN   8514>>ASSIGN   8514>>ASSIGN   8532>>ASSIGN   8532>>ASSIGN
      8532>>ASSIGN   8532>>ASSIGN   8535>>ASSIGN   8535>>ASSIGN   8535>>ASSIGN   8535>>ASSIGN   8555>>ASSIGN
      8555>>ASSIGN   8555>>ASSIGN   8555>>ASSIGN   8563>>ASSIGN   8563>>ASSIGN   8563>>ASSIGN   8563>>ASSIGN
      8572>>IF       8581>>IF       8581>>IF       8587>>ASSIGN   8587>>ASSIGN   8587>>ASSIGN   8587>>ASSIGN
      8590>>IF       8590>>IF       8596>>ASSIGN   8596>>ASSIGN   8596>>ASSIGN   8596>>ASSIGN   8646>>ASSIGN
      8649>>IF       8653>>CALLBLT  8653>>CALLBLT  8656>>ASSIGN   8657>>ASSIGN   8657>>ASSIGN   8667>>CALLBLT
      8667>>CALLBLT  8673>>CALLBLT  8673>>CALLBLT  8678>>IF       8694>>ASSIGN   8697>>IF       8701>>CALLBLT
      8701>>CALLBLT  8705>>CALLBLT  8705>>CALLBLT  8715>>ASSIGN   8720>>CALLBLT  8720>>CALLBLT  8768>>ASSIGN
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:333  
      8768>>ASSIGN   8768>>ASSIGN   8768>>ASSIGN   8780>>IF       8780>>IF       8808>>ASSIGN   8809>>ASSIGN
      8814>>IF       8814>>IF       8820>>ASSIGN   8820>>ASSIGN   8820>>ASSIGN   8820>>ASSIGN   8825>>ASSIGN
      8825>>ASSIGN   8834>>ASSIGN   8834>>ASSIGN   8834>>ASSIGN   8834>>ASSIGN   8841>>IF       8842>>IF
      8842>>IF       8863>>ASSIGN   8863>>ASSIGN   8878>>ASSIGN   8880>>ASSIGN   8880>>ASSIGN   8886>>IF
      8890>>CALLBLT  8890>>CALLBLT  8891>>IF       8896>>ASSIGN   8896>>ASSIGN   9234>>ASSIGN   9234>>ASSIGN
      9234>>ASSIGN   9234>>ASSIGN   9263>>ASSIGN   9265>>ASSIGN   9265>>ASSIGN   9271>>CALLBLT  9271>>CALLBLT
      9271>>CALLBLT  9271>>CALLBLT  9279>>ASSIGN   9281>>ASSIGN   9281>>ASSIGN   9281>>ASSIGN   9281>>ASSIGN
      9290>>ASSIGN   9290>>ASSIGN   9290>>ASSIGN   9290>>ASSIGN   9307>>ASSIGN   9310>>IF       9313>>ASSIGN
      9313>>ASSIGN   9313>>ASSIGN   9313>>ASSIGN   9372>>ASSIGN   9532>>ASSIGN   9536>>ASSIGN   9538>>ASSIGN
      9543>>DOCASE   9603>>ASSIGN   9604>>IF       9609>>ASSIGN   9609>>ASSIGN   9611>>ASSIGN   9611>>ASSIGN
      9611>>ASSIGN   9611>>ASSIGN   9638>>ASSIGN   9638>>ASSIGN   9638>>ASSIGN   9638>>ASSIGN   9655>>ASSIGN
      9655>>ASSIGN   9655>>ASSIGN   9655>>ASSIGN   9659>>ASSIGN   9659>>ASSIGN   9659>>ASSIGN   9659>>ASSIGN
      9671>>ASSIGN   9671>>ASSIGN   9686>>ASSIGN   9686>>ASSIGN   9701>>ASSIGN   9701>>ASSIGN   9717>>ASSIGN
      9800>>DOCASE
P$S.COUNT
      7811**DCL      7814--IMP-SIZ  8199>>IF       8203>>ASSIGN   8220>>IF       8451>>IF       8596>>ASSIGN
      8649>>IF       8653>>CALLBLT  8656>>ASSIGN   8657>>ASSIGN   8667>>CALLBLT  8673>>CALLBLT  8697>>IF
      8701>>CALLBLT  8705>>CALLBLT  8720>>CALLBLT  8859>>IF       8863>>ASSIGN   8867>>CALLBLT  8874>>IF
      8878>>ASSIGN   8880>>ASSIGN   8886>>IF       8890>>CALLBLT  8891>>IF       8896>>ASSIGN   9604>>IF
      9609>>ASSIGN
P$S.TEXT
      7814**DCL      8203>>ASSIGN   8596>>ASSIGN   8653>>CALLBLT  8657>>ASSIGN   8667>>CALLBLT  8673>>CALLBLT
      8701>>CALLBLT  8705>>CALLBLT  8720>>CALLBLT  8863>>ASSIGN   8867>>CALLBLT  8880>>ASSIGN   8890>>CALLBLT
      8896>>ASSIGN   9609>>ASSIGN
PCB
      7053**DCL        15--PROC     8411--ENTRY    8632--ENTRY    8753--ENTRY    8796--ENTRY    8940--ENTRY
      8968<>CALL     9047<>CALL     9085<>CALL     9167<>CALL     9185<>CALL     9223--ENTRY    9253--ENTRY
      9356--ENTRY
PCB.OUT$
      7066**DCL      8127>>ASSIGN   8131>>DOINDEX  8132>>DOCASE   8169>>ASSIGN   8319>>ASSIGN   8432>>IF
      8438>>ASSIGN   8438>>ASSIGN   8442>>ASSIGN   8470>>IF       8476>>DOINDEX  8477>>ASSIGN   8644>>ASSIGN
      8768>>ASSIGN   8768>>ASSIGN   8779>>IF       8780>>IF       8807>>DOINDEX  8808>>ASSIGN   9232>>IF
      9234>>ASSIGN   9234>>ASSIGN   9263>>ASSIGN   9279>>ASSIGN   9304>>IF       9305>>DOINDEX  9307>>ASSIGN
      9370>>DOINDEX  9371>>IF       9372>>ASSIGN
RES_CNTWD
      7905**DCL      9598>>ASSIGN
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:334  
RES_OPT
      9595**PROC     9378--CALL
SALUTATION_OPT
      9699**PROC     9402--CALL
SITE_OPT
      9669**PROC     9396--CALL
SPROC_CNTWD
      7900**DCL      9529>>ASSIGN
SPROC_OPT
      9526**PROC     9375--CALL
SP_TEXT$C.COUNT
      7273**DCL      9536>>ASSIGN
SP_TEXT$C.TEXT
      7274**DCL      9538>>ASSIGN
S_MING
      8019**DCL      9432>>ASSIGN
S_PTYPE
      7016**DCL      9368>>ASSIGN
TEMP
      7253**DCL      8250<<CALLBLT  8251>>IF       8255>>ASSIGN   8258<<CALLBLT  8259<>CALL     8260>>ASSIGN
      8261>>ASSIGN   8264<<CALLBLT  8265<>CALL     8266>>IF       8266>>IF       8272>>ASSIGN   8384<<CALLBLT
      8385>>ASSIGN   8556<<CALLBLT  8557>>IF       8562>>ASSIGN   8565<<CALLBLT  8566<>CALL     8568>>ASSIGN
      8667<<CALLBLT  8668>>IF       8672>>ASSIGN   8673<<CALLBLT  8674<>CALL     8675>>ASSIGN   8676>>ASSIGN
      8705<<CALLBLT  8706<>CALL     8708>>IF       8712>>ASSIGN   8720<<CALLBLT  8721<<ASSIGN   8721>>ASSIGN
      8723>>DOWHILE  8724<<ASSIGN   8724>>ASSIGN   8775<<CALLBLT  8776>>ASSIGN   8826<<CALLBLT  8827>>IF
      8832>>ASSIGN   8835<<CALLBLT  8836<>CALL     8837>>ASSIGN   8867<<CALLBLT  8868>>IF       8872>>ASSIGN
      9241<<CALLBLT  9242>>ASSIGN   9265<<ASSIGN   9266>>IF       9266>>IF       9271>>CALLBLT  9282<<CALLBLT
      9283>>IF       9288>>ASSIGN   9291<<CALLBLT  9292<>CALL     9294>>ASSIGN   9314<<CALLBLT  9315>>IF
      9315>>IF       9320>>ASSIGN   9322>>ASSIGN   9324>>ASSIGN   9326>>ASSIGN   9328>>ASSIGN   9330>>ASSIGN
      9332>>ASSIGN   9612<<CALLBLT  9613>>ASSIGN   9615>>ASSIGN   9617>>ASSIGN   9639<<CALLBLT  9641>>ASSIGN
      9656<<CALLBLT  9657>>ASSIGN   9660<<CALLBLT  9661>>ASSIGN
TEMP IN PROCEDURE CONSOLE_OPTS
      9799**DCL      9797--PROC     9802>>ASSIGN   9805>>ASSIGN   9808>>ASSIGN   9810>>ASSIGN   9813>>ASSIGN
      9815>>ASSIGN
TEMP$
      7241**DCL      8195<<ASSIGN   8196>>DOSELCT  8199>>IF       8203>>ASSIGN   8203>>ASSIGN   8217>>IF
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:335  
      8220>>IF       8224>>ASSIGN   8224>>ASSIGN   8246<<ASSIGN   8247>>DOSELCT  8249>>ASSIGN   8249>>ASSIGN
      8257>>ASSIGN   8257>>ASSIGN   8263>>ASSIGN   8263>>ASSIGN   8274>>IF       8324<<ASSIGN   8325>>DOCASE
      8338>>DOCASE   8345>>IF       8351>>ASSIGN   8351>>ASSIGN   8370>>ASSIGN   8370>>ASSIGN   8371>>IF
      8372>>ASSIGN   8372>>ASSIGN   8383>>ASSIGN   8383>>ASSIGN   8391>>IF       8445<<ASSIGN   8446>>DOSELCT
      8448>>IF       8451>>IF       8455>>ASSIGN   8455>>ASSIGN   8490<<ASSIGN   8491>>DOCASE   8494>>DOCASE
      8508>>IF       8514>>ASSIGN   8514>>ASSIGN   8532>>ASSIGN   8532>>ASSIGN   8533>>IF       8535>>ASSIGN
      8535>>ASSIGN   8555>>ASSIGN   8555>>ASSIGN   8563>>ASSIGN   8563>>ASSIGN   8572>>IF       8581>>IF
      8587>>ASSIGN   8587>>ASSIGN   8590>>IF       8596>>ASSIGN   8596>>ASSIGN   8646<<ASSIGN   8647>>DOCASE
      8649>>IF       8653>>CALLBLT  8653>>CALLBLT  8656>>ASSIGN   8657>>ASSIGN   8657>>ASSIGN   8667>>CALLBLT
      8667>>CALLBLT  8673>>CALLBLT  8673>>CALLBLT  8678>>IF       8693>>DOINDEX  8694>>ASSIGN   8809<<ASSIGN
      8825>>ASSIGN   8825>>ASSIGN   8855>>DOCASE   8859>>IF       8867>>CALLBLT  8867>>CALLBLT  8874>>IF
      8886>>IF       8890>>CALLBLT  8890>>CALLBLT  8891>>IF       8896>>ASSIGN   8896>>ASSIGN   9435<<ASSIGN
      9436>>DOWHILE  9437<<ASSIGN   9437>>ASSIGN   9437>>ASSIGN   9440>>ASSIGN   9445<<ASSIGN   9446>>DOWHILE
      9447<<ASSIGN   9447>>ASSIGN   9447>>ASSIGN   9449>>ASSIGN   9481<<ASSIGN   9482>>DOWHILE  9483<<ASSIGN
      9483>>ASSIGN   9483>>ASSIGN   9485>>ASSIGN   9487<<ASSIGN   9488>>DOWHILE  9489<<ASSIGN   9489>>ASSIGN
      9489>>ASSIGN   9491>>ASSIGN   9499<<ASSIGN   9500>>DOWHILE  9501<<ASSIGN   9501>>ASSIGN   9501>>ASSIGN
      9503>>ASSIGN   9532<<ASSIGN   9533>>DOCASE   9536>>ASSIGN   9538>>ASSIGN   9542>>DOINDEX  9543>>DOCASE
      9568<<ASSIGN   9569<<ASSIGN   9569>>ASSIGN   9570>>DOWHILE  9573>>IF       9579<<ASSIGN   9579>>ASSIGN
      9603<<ASSIGN   9604>>IF       9609>>ASSIGN   9609>>ASSIGN   9611>>ASSIGN   9611>>ASSIGN   9671<<ASSIGN
      9673>>IF       9674>>ASSIGN   9676>>ASSIGN   9676>>ASSIGN   9676>>ASSIGN   9677>>ASSIGN   9686<<ASSIGN
      9688>>IF       9692>>ASSIGN   9692>>ASSIGN   9692>>ASSIGN   9701<<ASSIGN   9703>>IF       9704>>ASSIGN
      9706>>ASSIGN   9706>>ASSIGN   9706>>ASSIGN   9707>>ASSIGN   9717<<ASSIGN   9718>>DOCASE   9734<<ASSIGN
      9736>>IF       9739>>DOWHILE  9744>>ASSIGN   9751<<ASSIGN   9753>>IF       9758>>IF       9824<<ASSIGN
      9826>>DOWHILE  9827>>IF       9828<<ASSIGN   9828>>ASSIGN   9828>>ASSIGN
TEXT$C
      7269**DCL      8224>>ASSIGN   8249>>ASSIGN   8257>>ASSIGN   8263>>ASSIGN   8370>>ASSIGN   8372>>ASSIGN
      8383>>ASSIGN   8455>>ASSIGN   8532>>ASSIGN   8535>>ASSIGN   8555>>ASSIGN   8563>>ASSIGN   8768>>ASSIGN
      8825>>ASSIGN   8834>>ASSIGN   9234>>ASSIGN   9281>>ASSIGN   9290>>ASSIGN   9313>>ASSIGN   9611>>ASSIGN
      9638>>ASSIGN   9655>>ASSIGN   9659>>ASSIGN
TEXT$C.COUNT
      7270**DCL      7271--IMP-SIZ  8224>>ASSIGN   8249>>ASSIGN   8257>>ASSIGN   8263>>ASSIGN   8345>>IF
      8351>>ASSIGN   8370>>ASSIGN   8372>>ASSIGN   8383>>ASSIGN   8432>>IF       8438>>ASSIGN   8455>>ASSIGN
      8508>>IF       8514>>ASSIGN   8532>>ASSIGN   8535>>ASSIGN   8555>>ASSIGN   8563>>ASSIGN   8581>>IF
      8587>>ASSIGN   8590>>IF       8768>>ASSIGN   8814>>IF       8820>>ASSIGN   8825>>ASSIGN   8834>>ASSIGN
      9234>>ASSIGN   9265>>ASSIGN   9271>>CALLBLT  9281>>ASSIGN   9290>>ASSIGN   9313>>ASSIGN   9611>>ASSIGN
      9638>>ASSIGN   9655>>ASSIGN   9659>>ASSIGN   9673>>IF       9674<<ASSIGN   9676>>ASSIGN   9676>>ASSIGN
PL6.E3A0      #001=ITC$CHECK_DT File=ITC$CHECK.:E05TSI                           TUE 07/29/97 22:59 Page:336  
      9677>>ASSIGN   9688>>IF       9692>>ASSIGN   9692>>ASSIGN   9703>>IF       9704<<ASSIGN   9706>>ASSIGN
      9706>>ASSIGN   9707>>ASSIGN
TEXT$C.TEXT
      7271**DCL      8351>>ASSIGN   8438>>ASSIGN   8514>>ASSIGN   8587>>ASSIGN   8820>>ASSIGN   9271>>CALLBLT
      9676>>ASSIGN   9692>>ASSIGN   9706>>ASSIGN
TEXTC
      7260**DCL      8187<>CALL     8211--CALL     8224<<ASSIGN   8225<>CALL     8249<<ASSIGN   8257<<ASSIGN
      8263<<ASSIGN   8361--CALL     8370<<ASSIGN   8373<>CALL     8376<>CALL     8383<<ASSIGN   8423<>CALL
      8455<<ASSIGN   8456<>CALL     8524--CALL     8532<<ASSIGN   8536<>CALL     8539<>CALL     8555<<ASSIGN
      8563<<ASSIGN   8686<>CALL     8768<<ASSIGN   8825<<ASSIGN   8834<<ASSIGN   8906<>CALL     8962<>CALL
      8988<>CALL     9041<>CALL     9065<>CALL     9104<>CALL     9132<>CALL     9157<>CALL     9209<>CALL
      9234<<ASSIGN   9281<<ASSIGN   9290<<ASSIGN   9313<<ASSIGN   9611<<ASSIGN   9638<<ASSIGN   9655<<ASSIGN
      9659<<ASSIGN
TEXTC.COUNT
      7261**DCL      8178<<ASSIGN   8184<<ASSIGN   8210<<ASSIGN   8250>>CALLBLT  8258>>CALLBLT  8264>>CALLBLT
      8360<<ASSIGN   8384>>CALLBLT  8421<<ASSIGN   8523<<ASSIGN   8556>>CALLBLT  8565>>CALLBLT  8656<<ASSIGN
      8658>>CALLBLT  8659>>ASSIGN   8770>>IF       8775>>CALLBLT  8826>>CALLBLT  8835>>CALLBLT  8904<<ASSIGN
      8941<<ASSIGN   9236>>IF       9241>>CALLBLT  9282>>CALLBLT  9291>>CALLBLT  9314>>CALLBLT  9612>>CALLBLT
      9639>>CALLBLT  9656>>CALLBLT  9660>>CALLBLT
TEXTC.TEXT
      7262**DCL      8179<<ASSIGN   8185<<ASSIGN   8209<<ASSIGN   8250>>CALLBLT  8258>>CALLBLT  8264>>CALLBLT
      8359<<ASSIGN   8384>>CALLBLT  8422<<ASSIGN   8522<<ASSIGN   8556>>CALLBLT  8565>>CALLBLT  8596<<ASSIGN
      8599>>DOWHILE  8610>>ASSIGN   8657<<ASSIGN   8658>>CALLBLT  8775>>CALLBLT  8826>>CALLBLT  8835>>CALLBLT
      8896<<ASSIGN   8899>>ASSIGN   8900>>ASSIGN   8905<<ASSIGN   8960<<ASSIGN   8978<<ASSIGN   8980<<ASSIGN
      8982<<ASSIGN   8984<<ASSIGN   8986<<ASSIGN   9017<<ASSIGN   9020<<ASSIGN   9023<<ASSIGN   9026<<ASSIGN
      9029<<ASSIGN   9032<<ASSIGN   9035<<ASSIGN   9038<<ASSIGN   9057<<ASSIGN   9059<<ASSIGN   9061<<ASSIGN
      9063<<ASSIGN   9096<<ASSIGN   9098<<ASSIGN   9100<<ASSIGN   9102<<ASSIGN   9128<<ASSIGN   9130<<ASSIGN
      9155<<ASSIGN   9202<<ASSIGN   9206<<ASSIGN   9241>>CALLBLT  9282>>CALLBLT  9291>>CALLBLT  9314>>CALLBLT
      9612>>CALLBLT  9639>>CALLBLT  9656>>CALLBLT  9660>>CALLBLT
TWOVAL_OPT
      9649**PROC     9393--CALL
UNITDEV_CNTWD
      7895**DCL      8482>>ASSIGN   9119>>ASSIGN   9149>>ASSIGN

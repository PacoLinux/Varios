VERSION E05

PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:1    
        1        1        /*M* GHB$TRAP1  Give user trap control                      */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=3,IND=5,ENU=0,ECU=0     */
        8        8
        9        9        GHB$TRAP1: PROC(G$TSA) ALTRET;
       10       10
       11       11        %INCLUDE G_JIT_M;
       12      276        %INCLUDE G_HJIT_M;
       13      421        %INCLUDE GH_SCHD_M;
       14      565 S      %INCLUDE GH_LCP6_M;
       15      566 S      %INCLUDE GU_LCP6_M;
       16      567        %INCLUDE G_ROS_M;
       17      649        %INCLUDE GU_MACROS_M;
       18      808
       19      809        %INCLUDE GH_SCHD_E;
       20      905        %INCLUDE HF_SCODE_C;
       21      988        %INCLUDE J_SCODE_C;
       22     1016                                                /* Input parameters                   */
       23     1017        %G$TSA (STCLASS= );
       24     1405
       25     1406                                                /* AUTO Storage                       */
       26     1407    1   DCL TRAP_NO UBIN;
       27     1408    1   DCL TRAP_IL UBIN;
       28     1409    1   DCL GHT$ECCB$ PTR;
       29     1410
       30     1411                                                /* Parameters for GUE$ENVTCB          */
       31     1412        %GUE_ENVTCB_PARAMS (FPTN=ENVTCB_PARAMS,STCLASS=AUTO);
       32     1537
       33     1538                                                /* External data                      */
       34     1539    1   DCL G$JIT$ PTR SYMREF READONLY;
       35     1540    1   DCL G$U_ECCB$ PTR SYMREF READONLY;
       36     1541    1   DCL G$MHJIT$ PTR SYMREF READONLY;
       37     1542    1   DCL G$UHJIT$ PTR SYMREF READONLY;
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:2    
       38     1543    1   DCL G$ROS$ PTR SYMREF READONLY;
       39     1544
       40     1545                                                /* Based Structures                   */
       41     1546        %G$JIT (STCLASS="BASED(G$JIT$)");
       42     1960        %G$ROS (STCLASS="BASED(G$ROS$)");
       43     2004        %G$ECCB;
       44     2080        %G$ECCB (FPTN=G$UECCB,ARRAYED=YES,STCLASS="BASED(G$U_ECCB$)");
       45     2156        %G$USER (FPTN=G$U);
       46     2167        %G$MHJIT (STCLASS="BASED(G$MHJIT$)");
       47     9041        %G$UHJIT (STCLASS="BASED(G$UHJIT$)");
       48    12015
       49    12016                                                /* External Procedures                */
       50    12017    1   DCL GUE$ENVTCB ENTRY(1) ALTRET;
       51    12018    1   DCL GJS$ABORTM ENTRY(1);
       52    12019    1   DCL GJS$ABORTX ENTRY(1);
       53    12020    1   DCL GJU$GET_DB ENTRY ALTRET;
       54    12021    1   DCL GIR$SCREECH ENTRY(1);
       55    12022
       56    12023                                                /* EQUs                               */
       57    12024 S      %INCLUDE G_LCP6_E;
       58    12025                                                /* Internal data                      */
       59    12026
       60    12027        %INCLUDE HF_ERRORS_C;
       61    12112        %INCLUDE UE_ERRORS_C;
       62    12130        %VLP_ERRCODE (FPTN=ETRAP,ERR#=%E$TRAP,SEV=G_SEV_ERROR#,
       63    12131                            STCLASS=CONSTANT,FCG=GH,MID=B,MON='1'B);
       64    12177
       65    12178        %VLP_ERRCODE (FPTN=ENOCONTROL,ERR#=%E$NOCONTROL,SEV=G_SEV_ERROR#,
       66    12179                            STCLASS=CONSTANT,FCG=GH,MID=B,MON='1'B);
       67    12225
       68    12226        %VLP_ERRCODE (FPTN=GHB_TRAP_MSG,ERR#=%E$TRAP,SEV=G_SEV_CONT#,
       69    12227                            STCLASS=CONSTANT SYMDEF,FCG=GH,MID=B,MON='1'B);
       70    12273
       71    12274
       72    12275        %VLP_SCODE (FPTN=GHH_SCODE,ERR#=%S$NOTLOCKED,SEV=G_SEV_SCREECH#,
       73    12276                    STCLASS=CONSTANT SYMDEF,FCG=GH,MID=H,MON='1'B);
       74    12337
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:3    
       75    12338        /*S* SCREECH_CODE: GHH-S$NOTLOCKED
       76    12339             TYPE: SCREECH
       77    12340             MESSAGE: Attempt to unlock an unlocked gate.
       78    12341             REMARKS:  $B3 -> Offending Gate
       79    12342                       $B5 -> Routine requesting unlock
       80    12343        */
       81    12344        %EJECT;
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:4    
       82    12345
       83    12346        /*F* NAME:   GHB$TRAP1
       84    12347            PURPOSE:  To provide for entry to the user's trap handler.
       85    12348        */
       86    12349
       87    12350        /*D* NAME:   GHB$TRAP1
       88    12351
       89    12352             INPUT:  G$TSA.  The Trap Save Area containing the trap environment.
       90    12353
       91    12354             CALL:   CALL GHB$TRAP1(G$TSA);
       92    12355
       93    12356                     GHB$TRAP1 is called only by GHT$TRAP in the mon entry segment.
       94    12357
       95    12358                     This routine will return normally if the user's trap handler
       96    12359                     is to be entered.  P$ in the TSA will have been set to the
       97    12360                     address of the user's handler and the TSA will have been
       98    12361                     moved to the user's TCB.
       99    12362
      100    12363                     GHB$TRAP1 will take the alternate return with TSA.I.TRAP#
      101    12364                     set to indicate special processing to GHT$TRAP as follows:
      102    12365
      103    12366                      G_MCL#         - enter MCL processing.
      104    12367                      G_FPRG_START#  - enter the debugger.
      105    12368                      G_HOST_INT# - enter the debugger.
      106    12369
      107    12370             DESCRIPTION:
      108    12371        */
      109    12372
      110    12373
      111    12374
      112    12375        %EJECT;
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:5    
      113    12376
      114    12377    1      TRAP_NO = G$TSA.I.TRAP#;
      115    12378    1      TRAP_IL = G$TSA.S.LEVEL;
      116    12379
      117    12380        /*D* If the trap is G_FPRG_MCLTRAP# simply return as that error
      118    12381             number is simply used to force entry to DELTA is an MCL error
      119    12382             frame was put on the TCB and we didn't really want entry to
      120    12383             GHB$TRAP1 in the first place.
      121    12384        */
      122    12385    1      IF (TRAP_NO >= %G_FPRG_EVENT#) AND (TRAP_NO <= %G_FPRG_MCLTRAP#)
      123    12386    2      THEN DO;
      124    12387    2           IF G$JIT$->G$JIT.DB# = 0
      125    12388    3           THEN DO;
      126    12389
      127    12390        /*D* If this is the entry to the trap handler following a call
      128    12391             to GHI$MAKE_TSA it is time to abort the user.  The error
      129    12392             code will already be in G$JIT.ERR.
      130    12393        */
      131    12394    3                IF TRAP_NO ~= %G_FPRG_XCON#
      132    12395    3                THEN RETURN;
      133    12396
      134    12397    4                ELSE DO;
      135    12398    4                     ENVTCB_PARAMS.ECINFO.ERR = G$JIT.ERR;
      136    12399    4   ABORT_USER:       ;
      137    12400    4                     CALL GJS$ABORTX(ENVTCB_PARAMS.ECINFO.ERR);
      138    12401    4                     RETURN;
      139    12402    4                     END;
      140    12403    3                END/*do if JIT.DB# is zero*/;
      141    12404
      142    12405    2           TRAP_NO = TRAP_NO - %G_FPRG_EVENT#;
      143    12406
      144    12407    2           IF G$UECCB.HAND$(TRAP_NO) ~= ENTADDR(NIL)
      145    12408    3           THEN DO;
      146    12409    3                G$TSA.P$$ = G$UECCB.HAND$(TRAP_NO);
      147    12410    3                RETURN;
      148    12411    3                END;
      149    12412
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:6    
      150    12413    3           ELSE DO;
      151    12414    3                ENVTCB_PARAMS.ECINFO.ERR = ENOCONTROL;
      152    12415    3                GOTO ABORT_USER;
      153    12416    3                END;
      154    12417    2           END;
      155    12418
      156    12419
      157    12420        /*D* If this is a 'GOTRAP' to the debugger after an exit type
      158    12421             of MCL, the TSA.TRAP# field is set to G_MCL# which
      159    12422             will cause the trap handler to re-call the MCL handler and
      160    12423             process the MCL now.
      161    12424        */
      162    12425    1      IF (TRAP_NO >= %G_FPRG_EXIT#) AND (TRAP_NO <= %G_FPRG_LDTRC#)
      163    12426    2      THEN DO;
      164    12427    2           G$TSA.I.TRAP# = %G_MCL#;
      165    12428
      166    12429    2           IF G$JIT.DB# ~= 0
      167    12430    2           THEN G$JIT.JUNK.BYPASSD = '1'B;
      168    12431    2           ALTRETURN;
      169    12432    2           END;
      170    12433
      171    12434        /*D* If the debugger wants us to report the DBCONTROL condition
      172    12435             to the FPL interpreter, do it now.
      173    12436        */
      174    12437    1      IF (TRAP_NO = %G_FPRG_XBREAK#)
      175    12438    1        OR ( (G$ROS.U_ECCB$->G$ECCB.DBCONTROL$ ~= ENTADDR(NIL)) AND
      176    12439    1        (TRAP_NO >= %G_FPRG_START#   OR
      177    12440    1        TRAP_NO >= %G_FPRG_START2#  OR
      178    12441    1        TRAP_NO >= %G_HOST_INT#) )
      179    12442    2      THEN DO;
      180    12443    2           ENVTCB_PARAMS.ECC = %G_DBCONTROL#;
      181    12444    2           ENVTCB_PARAMS.ECINFO.ERR = '0'B;
      182    12445    2           ENVTCB_PARAMS.P$$ = G$ROS.U_ECCB$->G$ECCB.DBCONTROL$;
      183    12446    2           ENVTCB_PARAMS.ECINFO.SUBC = 0;
      184    12447    2           GOTO BUILD_TCB;
      185    12448    2           END;
      186    12449
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:7    
      187    12450        /*D* If there is no special code set in TSA.TRAP#, it must
      188    12451             then be a hardware trap.
      189    12452             The program counter is decremented by the instruction
      190    12453             size to point to the offensive instruction, being careful
      191    12454             not to make it a negative number (i.e. if the trap had
      192    12455             been a branch to zero).
      193    12456        */
      194    12457    1      IF G$TSA.P > G$TSA.Z.IS
      195    12458    1      THEN G$TSA.P = G$TSA.P - G$TSA.Z.IS;
      196    12459
      197    12460        /*D* If the domain in word 0 of the user HJIT doesn't indicate
      198    12461             a user or debugger trap, GHB$TRAP1 call cause a SUA.  Otherwise,
      199    12462             the pointer to the ECCB is set to either user or DB as appropriate.
      200    12463        */
      201    12464    1      IF G$UHJIT.DMN.ID = %G_DMN_USR_SVC#
      202    12465    1      THEN GHT$ECCB$ = G$ROS.U_ECCB$;
      203    12466    1      ELSE IF G$UHJIT.DMN.ID = %G_DMN_DB_SVC#
      204    12467    1           THEN GHT$ECCB$ = G$ROS.DB_ECCB$;
      205    12468    1           ELSE CALL GIR$SCREECH(G$TSA);
      206    12469
      207    12470        /*D* If the user has not asked for trap control, the abort logic is
      208    12471             entered by calling GJS$ABORTM.  If this routine returns, it will
      209    12472             first have set up exit control for this user.  A normal return
      210    12473             to the trap handler will cause a RTT to the user's XCON handler.
      211    12474        */
      212    12475    1      ENVTCB_PARAMS.ECINFO.ERR = ETRAP;
      213    12476    1      ENVTCB_PARAMS.ECINFO.ERR.ERR# = ENVTCB_PARAMS.ECINFO.ERR.ERR# + TRAP_NO;
      214    12477
      215    12478    1      IF GHT$ECCB$->G$ECCB.TRAP$ = ENTADDR(NIL)
      216    12479    1        OR GHT$ECCB$->G$ECCB.FLTFLGS(TRAP_NO) ='0'B
      217    12480    2      THEN DO;
      218    12481    2   TCB_FULL: ;
      219    12482    2           CALL GJS$ABORTM(ENVTCB_PARAMS.ECINFO.ERR);
      220    12483    2           RETURN;
      221    12484    2           END;
      222    12485
      223    12486    1      ENVTCB_PARAMS.P$$ = GHT$ECCB$->G$ECCB.TRAP$;
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:8    
      224    12487    1      ENVTCB_PARAMS.ECC = %G_TRAP#;
      225    12488    1      ENVTCB_PARAMS.ECINFO.SUBC = BITBIN(G$TSA.I);
      226    12489
      227    12490
      228    12491        /*D* If the user has asked for trap control, a call is made to
      229    12492             GUE$ENVTCB to move the TSA environment to the TCB.  The address
      230    12493             in TSA.P$ will be set to the address of the user's trap handler.
      231    12494        */
      232    12495    1   BUILD_TCB: ;
      233    12496    1      ENVTCB_PARAMS.ENV$ = ADDR(G$TSA);
      234    12497    1      ENVTCB_PARAMS.TCB$ = ADDR(NIL);
      235    12498    1      ENVTCB_PARAMS.ENVTYPE = %GUE_ENVTCB_TSA#;
      236    12499    1      ENVTCB_PARAMS.ECINFO.EVID = 0;
      237    12500    1      ENVTCB_PARAMS.ECINFO.P# = 0;
      238    12501    1      ENVTCB_PARAMS.MOREINFO$ = ADDR(NIL);
      239    12502
      240    12503    1      CALL GUE$ENVTCB(ENVTCB_PARAMS) ALTRET(TCB_FULL);
      241    12504
      242    12505        /*D* If the ALIBFD bit has been set in the user table, the GJU$GET_DB
      243    12506             routine is called to associate the debugger and set the TRAP#
      244    12507             field in the TSA to G_FPRG_START#, or, if the debugger is already
      245    12508             associated, to simply reset the TRAP# to G_HOST_INT#.
      246    12509        */
      247    12510    1      IF (G$MHJIT.CU$->G$U.ASYNCH & %U_ALIBFD)
      248    12511    2      THEN DO;
      249    12512    2           CALL GJU$GET_DB;
      250    12513    2           ALTRETURN;
      251    12514    2           END;
      252    12515
      253    12516        /*  And, lastly, return to the trap handler.
      254    12517        */
      255    12518    1      RETURN;
      256    12519
      257    12520
      258    12521        %EJECT;
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:9    
      259    12522
      260    12523        /*E* ERROR: GHB-E$MCL-0
      261    12524             MESSAGE: MCL - Monitor Service Request.
      262    12525        */
      263    12526        /*E* ERROR:  GHB-E$TRACE-A
      264    12527             MESSAGE: Trace/Breakpoint Trap
      265    12528        */
      266    12529        /*E* ERROR:  GHB-E$NO_SIP-A
      267    12530             MESSAGE: Uninstalled SIP Trap
      268    12531        */
      269    12532        /*E* ERROR:   GHB-E$TROT-A
      270    12533             MESSAGE: Watch Dog Timer Runout
      271    12534        */
      272    12535        /*E* ERROR:  GHB-E$UNIMPL-A
      273    12536             MESSAGE: Unimplemented Instruction Trap
      274    12537        */
      275    12538        /*E* ERROR:  GHB-E$INT_REG_OV-A
      276    12539             MESSAGE: Integer Register Overflow Trap
      277    12540        */
      278    12541        /*E* ERROR:  GHB-E$S_DBZ-A
      279    12542             MESSAGE: SIP Divide by Zero Trap
      280    12543        */
      281    12544        /*E* ERROR:  GHB-E$S_EXP_OV-A
      282    12545             MESSAGE: SIP Exponent Overflow Trap
      283    12546        */
      284    12547        /*E* ERROR:  GHB-E$STK_UF-A
      285    12548             MESSAGE: Stack Underflow Trap
      286    12549        */
      287    12550        /*E* ERROR:  GHB-E$STK_OV-A
      288    12551             MESSAGE: Stack Overflow Trap
      289    12552        */
      290    12553        /*E* ERROR:  GHB-E$REMOTE_DESC-A
      291    12554             MESSAGE: Remote Data Descriptor Trap
      292    12555        */
      293    12556        /*E* ERROR:  GHB-E$PRIV-A
      294    12557             MESSAGE: Privilege Violation Trap
      295    12558        */
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:10   
      296    12559        /*E* ERROR:  GHB-E$MEM_PROT-A
      297    12560             MESSAGE: Memory Protection Trap
      298    12561        */
      299    12562        /*E* ERROR:  GHB-E$INT_UR-A
      300    12563             MESSAGE: Internal Unavailable Resource Trap
      301    12564        */
      302    12565        /*E* ERROR:  GHB-E$PROG_ERR-A
      303    12566             MESSAGE: Program Error Trap
      304    12567        */
      305    12568        /*E* ERROR:  GHB-E$INT_MBE-A
      306    12569             MESSAGE: Internal Memory or Bus Error Trap
      307    12570        */
      308    12571        /*E* ERROR:  GHB-E$S_EXP_UF-A
      309    12572             MESSAGE: SIP Exponent Underflow Trap
      310    12573        */
      311    12574        /*E* ERROR:  GHB-E$S_PROG_ERR-A
      312    12575             MESSAGE: SIP Program Error Trap
      313    12576        */
      314    12577        /*E* ERROR:  GHB-E$S_SIGNIF-A
      315    12578             MESSAGE: SIP Significance Error Trap
      316    12579        */
      317    12580        /*E* ERROR:  GHB-E$S_PRECISION-A
      318    12581             MESSAGE: SIP Precision Error Trap
      319    12582        */
      320    12583        /*E* ERROR:  GHB-E$EXT_UR-A
      321    12584             MESSAGE: External (CIP or SIP) Unavailable Resource Trap
      322    12585        */
      323    12586        /*E* ERROR:  GHB-E$EXT_MBE-A
      324    12587             MESSAGE: External (CIP or SIP) Memory or Bus Error Trap
      325    12588        */
      326    12589        /*E* ERROR:  GHB-E$C_DBZ-A
      327    12590             MESSAGE: CIP Divide by Zero Trap
      328    12591        */
      329    12592        /*E* ERROR:  GHB-E$C_SPEC-A
      330    12593             MESSAGE: CIP Illegal Specification Trap
      331    12594        */
      332    12595        /*E* ERROR:  GHB-E$C_CHAR-A
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:11   
      333    12596             MESSAGE: CIP Illegal Character Trap
      334    12597        */
      335    12598        /*E* ERROR:  GHB-E$C_TRUNC-A
      336    12599             MESSAGE: CIP Truncation Trap
      337    12600        */
      338    12601        /*E* ERROR:  GHB-E$C_OV-A
      339    12602             MESSAGE: CIP Overflow Trap
      340    12603        */
      341    12604        /*E* ERROR:  GHB-E$CIP_QLT-A
      342    12605             MESSAGE: CIP QLT Fault
      343    12606        */
      344    12607        /*E* ERROR:  GHB-E$SIP_QLT-A
      345    12608             MESSAGE: SIP QLT Fault
      346    12609        */
      347    12610        /*E* ERROR: GHB-E$EXT_PROT-0
      348    12611             MESSAGE: External (CIP or SIP) Memory Protect Trap.
      349    12612        */
      350    12613        /*E* ERROR: GHB-E$S_ARG-0
      351    12614             MESSAGE: SIP Illegal Argument Trap.
      352    12615        */
      353    12616        /*E* ERROR: GHB-E$FPRG_EXIT-0
      354    12617             MESSAGE: FPRG M$EXIT.
      355    12618        */
      356    12619        /*E* ERROR: GHB-E$FPRG_ERR-0
      357    12620             MESSAGE: FPRG M$ERR.
      358    12621        */
      359    12622        /*E* ERROR: GHB-E$FPRG_XXX-0
      360    12623             MESSAGE: FPRG M$XXX.
      361    12624        */
      362    12625        /*E* ERROR: GHB-E$FPRG_LDTRC-0
      363    12626             MESSAGE: FPRG requesting M$LDTRC.
      364    12627        */
      365    12628        /*E* ERROR: GHB-E$FPRG_XBREAK-0
      366    12629             MESSAGE: FPRG (FPL interpreter) M$XBREAK.
      367    12630        */
      368    12631        /*E* ERROR: GHB-E$FPRG_SCREECH-0
      369    12632             MESSAGE: FPRG M$SCREECH
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:12   
      370    12633        */
      371    12634
      372    12635
      373    12636        /*E* ERROR: GHB-E$HOST_INT-0
      374    12637             MESSAGE: FPRG interrupted by Host Debugger.
      375    12638        */
      376    12639        /*E* ERROR: GHB-E$FPRG_EVENT-0
      377    12640             MESSAGE: FPRG event condition.
      378    12641        */
      379    12642        /*E* ERROR: GHB-E$FPRG_BRK-0
      380    12643             MESSAGE: FPRG break condition.
      381    12644        */
      382    12645        /*E* ERROR: GHB-E$FPRG_XCON-0
      383    12646             MESSAGE: FPRG exit/abort condition.
      384    12647        */
      385    12648        /*E* ERROR: GHB-E$FPRG_MCLTRAP-0
      386    12649             MESSAGE: FPRG issued bad MCL with no ALTRET.
      387    12650        */
      388    12651
      389    12652
      390    12653        /*E* ERROR: GHB-E$DB_TIMER-0
      391    12654             MESSAGE: FEP Debugger Timer Runout.
      392    12655             DESCRIPTION: Used for internal LCP-6 flag.
      393    12656                          The user should never see this message.
      394    12657        */
      395    12658        /*E* ERROR: GHB-E$FPRG_START-0
      396    12659             MESSAGE: FPRG started via M$SETFP.
      397    12660        */
      398    12661        /*E* ERROR: GHB-E$FPRG_START2-0
      399    12662             MESSAGE: FPRG started via M$LDTRC.
      400    12663        */
      401    12664        /*E* ERROR: GHB-E$MCL2-0
      402    12665             MESSAGE: MCL - Monitor Service Request.
      403    12666        */
      404    12667        %EJECT;
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:13   
      405    12668
      406    12669
      407    12670
      408    12671
      409    12672        /*S* SCREECH_CODE:  GHH-S$TRACE-A
      410    12673             TYPE:    SUA
      411    12674             MESSAGE: Handler Trap - Trace/Breakpoint
      412    12675        */
      413    12676        /*S* SCREECH_CODE:  GHH-S$NO_SIP-A
      414    12677             TYPE:    SUA
      415    12678             MESSAGE: Handler Trap - Uninstalled SIP
      416    12679        */
      417    12680        /*S* SCREECH_CODE:   GHH-S$TROT-A
      418    12681             TYPE:    SUA
      419    12682             MESSAGE: Handler Abort - Disabled Too Long
      420    12683        */
      421    12684        /*S* SCREECH_CODE:  GHH-S$UNIMPL-A
      422    12685             TYPE:    SUA
      423    12686             MESSAGE: Handler Trap - Unimplemented Instruction
      424    12687        */
      425    12688        /*S* SCREECH_CODE:  GHH-S$INT_REG_OV-A
      426    12689             TYPE:    SUA
      427    12690             MESSAGE: Handler Trap - Integer Register Overflow
      428    12691        */
      429    12692        /*S* SCREECH_CODE:  GHH-S$S_DBZ-A
      430    12693             TYPE:    SUA
      431    12694             MESSAGE: Handler Trap - SIP Divide by Zero
      432    12695        */
      433    12696        /*S* SCREECH_CODE:  GHH-S$S_EXP_OV-A
      434    12697             TYPE:    SUA
      435    12698             MESSAGE: Handler Trap - SIP Exponent Overflow
      436    12699        */
      437    12700        /*S* SCREECH_CODE:  GHH-S$STK_UF-A
      438    12701             TYPE:    SUA
      439    12702             MESSAGE: Handler Trap - Stack Underflow
      440    12703        */
      441    12704        /*S* SCREECH_CODE:  GHH-S$STK_OV-A
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:14   
      442    12705             TYPE:    SUA
      443    12706             MESSAGE: Handler Trap - Stack Overflow
      444    12707        */
      445    12708        /*S* SCREECH_CODE:  GHH-S$REMOTE_DESC-A
      446    12709             TYPE:    SUA
      447    12710             MESSAGE: Handler Trap - Remote Data Descriptor
      448    12711        */
      449    12712        /*S* SCREECH_CODE:  GHH-S$PRIV-A
      450    12713             TYPE:    SUA
      451    12714             MESSAGE: Handler Trap - Privilege Violation
      452    12715        */
      453    12716        /*S* SCREECH_CODE:  GHH-S$MEM_PROT-A
      454    12717             TYPE:    SUA
      455    12718             MESSAGE: Handler Trap - Memory Protection
      456    12719        */
      457    12720        /*S* SCREECH_CODE:  GHH-S$INT_UR-A
      458    12721             TYPE:    SUA
      459    12722             MESSAGE: Handler Trap - Internal Unavailable Resource
      460    12723        */
      461    12724        /*S* SCREECH_CODE:  GHH-S$PROG_ERR-A
      462    12725             TYPE:    SUA
      463    12726             MESSAGE: Handler Trap - Program Error
      464    12727        */
      465    12728        /*S* SCREECH_CODE:  GHH-S$INT_MBE-A
      466    12729             TYPE:    SUA
      467    12730             MESSAGE: Handler Trap - Internal Memory or Bus Error
      468    12731        */
      469    12732        /*S* SCREECH_CODE:  GHH-S$S_EXP_UF-A
      470    12733             TYPE:    SUA
      471    12734             MESSAGE: Handler Trap - SIP Exponent Underflow
      472    12735        */
      473    12736        /*S* SCREECH_CODE:  GHH-S$S_PROG_ERR-A
      474    12737             TYPE:    SUA
      475    12738             MESSAGE: Handler Trap - SIP Program Error
      476    12739        */
      477    12740        /*S* SCREECH_CODE:  GHH-S$S_SIGNIF-A
      478    12741             TYPE:    SUA
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:15   
      479    12742             MESSAGE: Handler Trap - SIP Significance Error
      480    12743        */
      481    12744        /*S* SCREECH_CODE:  GHH-S$S_PRECISION-A
      482    12745             TYPE:    SUA
      483    12746             MESSAGE: Handler Trap - SIP Precision Error
      484    12747        */
      485    12748        /*S* SCREECH_CODE:  GHH-S$EXT_UR-A
      486    12749             TYPE:    SUA
      487    12750             MESSAGE: Handler Trap - External (CIP or SIP) Unavailable Resource
      488    12751        */
      489    12752        /*S* SCREECH_CODE:  GHH-S$EXT_MBE-A
      490    12753             TYPE:    SUA
      491    12754             MESSAGE: Handler Trap - External (CIP or SIP) Memory or Bus Error
      492    12755        */
      493    12756        /*S* SCREECH_CODE:  GHH-S$C_DBZ-A
      494    12757             TYPE:    SUA
      495    12758             MESSAGE: Handler Trap - CIP Divide by Zero
      496    12759        */
      497    12760        /*S* SCREECH_CODE:  GHH-S$C_SPEC-A
      498    12761             TYPE:    SUA
      499    12762             MESSAGE: Handler Trap - CIP Illegal Specification
      500    12763        */
      501    12764        /*S* SCREECH_CODE:  GHH-S$C_CHAR-A
      502    12765             TYPE:    SUA
      503    12766             MESSAGE: Handler Trap - CIP Illegal Character
      504    12767        */
      505    12768        /*S* SCREECH_CODE:  GHH-S$C_TRUNC-A
      506    12769             TYPE:    SUA
      507    12770             MESSAGE: Handler Trap - CIP Truncation
      508    12771        */
      509    12772        /*S* SCREECH_CODE:  GHH-S$C_OV-A
      510    12773             TYPE:    SUA
      511    12774             MESSAGE: Handler Trap - CIP Overflow
      512    12775        */
      513    12776        /*S* SCREECH_CODE:  GHH-S$CIP_QLT-A
      514    12777             TYPE:    SUA
      515    12778             MESSAGE: Handler Trap - CIP QLT Fault
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:16   
      516    12779        */
      517    12780        /*S* SCREECH_CODE:  GHH-S$SIP_QLT-A
      518    12781             TYPE:    SUA
      519    12782             MESSAGE: Handler Trap - SIP QLT Fault
      520    12783        */
      521    12784        /*S* SCREECH_CODE: GHH-S$EXT_PROT-0
      522    12785             TYPE:    SUA
      523    12786             MESSAGE: Handler Trap - External Memory Protect Trap.
      524    12787        */
      525    12788        /*S* SCREECH_CODE: GHH-S$S_ARG-0
      526    12789             TYPE:    SUA
      527    12790             MESSAGE: Handler Trap - SIP Illegal Argument Trap.
      528    12791        */
      529    12792        /*S* SCREECH_CODE: GHH-S$FPRG_EXIT-0
      530    12793             TYPE:    SUA
      531    12794             MESSAGE: Handler Abort - M$EXIT.
      532    12795        */
      533    12796        /*S* SCREECH_CODE: GHH-S$FPRG_ERR-0
      534    12797             TYPE:    SUA
      535    12798             MESSAGE: Handler Abort - M$ERR.
      536    12799        */
      537    12800        /*S* SCREECH_CODE: GHH-S$FPRG_XXX-0
      538    12801             TYPE:    SUA
      539    12802             MESSAGE: Handler Abort - M$XXX.
      540    12803        */
      541    12804        /*S* SCREECH_CODE: GHH-S$FPRG_XCON-0
      542    12805             TYPE:    SUA
      543    12806             MESSAGE: Handler Abort - exit/abort condition.
      544    12807        */
      545    12808        /*S* SCREECH_CODE: GHH-S$FPRG_MCLTRAP-0
      546    12809             TYPE:    SUA
      547    12810             MESSAGE: Handler Abort - MCL with no ALTRET.
      548    12811        */
      549    12812
      550    12813
      551    12814
      552    12815        /*S* SCREECH_CODE:  GHT-S$TRACE-A
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:17   
      553    12816             TYPE:    SCREECH
      554    12817             MESSAGE: LCP6 Trap - Trace/Breakpoint
      555    12818             REMARKS: This screech is often caused by diagnostic patches.
      556    12819        */
      557    12820        /*S* SCREECH_CODE:  GHT-S$NO_SIP-A
      558    12821             TYPE:    SCREECH
      559    12822             MESSAGE: LCP6 Trap - Uninstalled SIP
      560    12823        */
      561    12824        /*S* SCREECH_CODE:   GHT-S$TROT-A
      562    12825             TYPE:    SCREECH
      563    12826             MESSAGE: LCP6 Abort - Disabled Too Long
      564    12827        */
      565    12828        /*S* SCREECH_CODE:  GHT-S$UNIMPL-A
      566    12829             TYPE:    SCREECH
      567    12830             MESSAGE: LCP6 Trap - Unimplemented Instruction
      568    12831        */
      569    12832        /*S* SCREECH_CODE:  GHT-S$INT_REG_OV-A
      570    12833             TYPE:    SCREECH
      571    12834             MESSAGE: LCP6 Trap - Integer Register Overflow
      572    12835        */
      573    12836        /*S* SCREECH_CODE:  GHT-S$S_DBZ-A
      574    12837             TYPE:    SCREECH
      575    12838             MESSAGE: LCP6 Trap - SIP Divide by Zero
      576    12839        */
      577    12840        /*S* SCREECH_CODE:  GHT-S$S_EXP_OV-A
      578    12841             TYPE:    SCREECH
      579    12842             MESSAGE: LCP6 Trap - SIP Exponent Overflow
      580    12843        */
      581    12844        /*S* SCREECH_CODE:  GHT-S$STK_UF-A
      582    12845             TYPE:    SCREECH
      583    12846             MESSAGE: LCP6 Trap - Stack Underflow
      584    12847        */
      585    12848        /*S* SCREECH_CODE:  GHT-S$STK_OV-A
      586    12849             TYPE:    SCREECH
      587    12850             MESSAGE: LCP6 Trap - Stack Overflow
      588    12851        */
      589    12852        /*S* SCREECH_CODE:  GHT-S$REMOTE_DESC-A
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:18   
      590    12853             TYPE:    SCREECH
      591    12854             MESSAGE: LCP6 Trap - Remote Data Descriptor
      592    12855        */
      593    12856        /*S* SCREECH_CODE:  GHT-S$PRIV-A
      594    12857             TYPE:    SCREECH
      595    12858             MESSAGE: LCP6 Trap - Privilege Violation
      596    12859        */
      597    12860        /*S* SCREECH_CODE:  GHT-S$MEM_PROT-A
      598    12861             TYPE:    SCREECH
      599    12862             MESSAGE: LCP6 Trap - Memory Protection
      600    12863        */
      601    12864        /*S* SCREECH_CODE:  GHT-S$INT_UR-A
      602    12865             TYPE:    SCREECH
      603    12866             MESSAGE: LCP6 Trap - Internal Unavailable Resource
      604    12867        */
      605    12868        /*S* SCREECH_CODE:  GHT-S$PROG_ERR-A
      606    12869             TYPE:    SCREECH
      607    12870             MESSAGE: LCP6 Trap - Program Error
      608    12871        */
      609    12872        /*S* SCREECH_CODE:  GHT-S$INT_MBE-A
      610    12873             TYPE:    SCREECH
      611    12874             MESSAGE: LCP6 Trap - Internal Memory or Bus Error
      612    12875        */
      613    12876        /*S* SCREECH_CODE:  GHT-S$S_EXP_UF-A
      614    12877             TYPE:    SCREECH
      615    12878             MESSAGE: LCP6 Trap - SIP Exponent Underflow
      616    12879        */
      617    12880        /*S* SCREECH_CODE:  GHT-S$S_PROG_ERR-A
      618    12881             TYPE:    SCREECH
      619    12882             MESSAGE: LCP6 Trap - SIP Program Error
      620    12883        */
      621    12884        /*S* SCREECH_CODE:  GHT-S$S_SIGNIF-A
      622    12885             TYPE:    SCREECH
      623    12886             MESSAGE: LCP6 Trap - SIP Significance Error
      624    12887        */
      625    12888        /*S* SCREECH_CODE:  GHT-S$S_PRECISION-A
      626    12889             TYPE:    SCREECH
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:19   
      627    12890             MESSAGE: LCP6 Trap - SIP Precision Error
      628    12891        */
      629    12892        /*S* SCREECH_CODE:  GHT-S$EXT_UR-A
      630    12893             TYPE:    SCREECH
      631    12894             MESSAGE: LCP6 Trap - External (CIP or SIP) Unavailable Resource
      632    12895        */
      633    12896        /*S* SCREECH_CODE:  GHT-S$EXT_MBE-A
      634    12897             TYPE:    SCREECH
      635    12898             MESSAGE: LCP6 Trap - External (CIP or SIP) Memory or Bus Error
      636    12899        */
      637    12900        /*S* SCREECH_CODE:  GHT-S$C_DBZ-A
      638    12901             TYPE:    SCREECH
      639    12902             MESSAGE: LCP6 Trap - CIP Divide by Zero
      640    12903        */
      641    12904        /*S* SCREECH_CODE:  GHT-S$C_SPEC-A
      642    12905             TYPE:    SCREECH
      643    12906             MESSAGE: LCP6 Trap - CIP Illegal Specification
      644    12907        */
      645    12908        /*S* SCREECH_CODE:  GHT-S$C_CHAR-A
      646    12909             TYPE:    SCREECH
      647    12910             MESSAGE: LCP6 Trap - CIP Illegal Character
      648    12911        */
      649    12912        /*S* SCREECH_CODE:  GHT-S$C_TRUNC-A
      650    12913             TYPE:    SCREECH
      651    12914             MESSAGE: LCP6 Trap - CIP Truncation
      652    12915        */
      653    12916        /*S* SCREECH_CODE:  GHT-S$C_OV-A
      654    12917             TYPE:    SCREECH
      655    12918             MESSAGE: LCP6 Trap - CIP Overflow
      656    12919        */
      657    12920        /*S* SCREECH_CODE:  GHT-S$CIP_QLT-A
      658    12921             TYPE:    SCREECH
      659    12922             MESSAGE: LCP6 Trap - CIP QLT Fault
      660    12923        */
      661    12924        /*S* SCREECH_CODE:  GHT-S$SIP_QLT-A
      662    12925             TYPE:    SCREECH
      663    12926             MESSAGE: LCP6 Trap - SIP QLT Fault
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:20   
      664    12927        */
      665    12928        /*S* SCREECH_CODE:  GHT-S$EXT_PROT-A
      666    12929             TYPE:    SCREECH
      667    12930             MESSAGE: LCP6 Trap - External Memory Protect Trap.
      668    12931        */
      669    12932        /*S* SCREECH_CODE:  GHT-S$S_ARG-A
      670    12933             TYPE:    SCREECH
      671    12934             MESSAGE: LCP6 Trap - SIP Illegal Argument Trap.
      672    12935        */
      673    12936        /*S* SCREECH_CODE: GHT-S$TSA_OV-A
      674    12937             TYPE: SCREECH
      675    12938             MESSAGE: LCP6 Trap - Trap Save Area Overflow
      676    12939        */
      677    12940    1   END GHB$TRAP1;

PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:21   
--  Include file information  --

   UE_ERRORS_C.:E05TOU  is referenced.
   HF_ERRORS_C.:E05TOU  is referenced.
   J_SCODE_C.:E05TOU  is referenced.
   HF_SCODE_C.:E05TOU  is referenced.
   GH_SCHD_E.:E05TOU  is referenced.
   GU_MACROS_M.:E05TOU  is referenced.
   G_ROS_M.:E05TOU  is referenced.
   GH_SCHD_M.:E05TOU  is referenced.
   G_HJIT_M.:E05TOU  is referenced.
   G_JIT_M.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is never referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure GHB$TRAP1.

   Procedure GHB$TRAP1 requires 310 words for executable code.
   Procedure GHB$TRAP1 requires 28 words of local(AUTO) storage.

    No errors detected in file GHB$TRAP1.:E05TSI    .

PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:22   

 Object Unit name= GHB$TRAP1                                  File name= GHB$TRAP1.:E05TOU
 UTS= JUL 29 '97 21:33:13.40 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_LCP6_SYSTEM                               Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size HexSiz  Section name
    0  RoData even  UTS      9      9  GHB$TRAP1
    1   Proc  even  none   310    136  GHB$TRAP1
    2  RoData even  none     2      2  GHB$TRAP1

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect HexLoc Primary Altret sequence   type   Parms  Name
     1      0   yes    yes     yes      Std        1  GHB$TRAP1

  ****  Data defs  ****

 Sect HexLoc  Name                           Sect HexLoc  Name
    0      4  GHB_TRAP_MSG                       0      6  GHH_SCODE

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       1 GJS$ABORTX
         yes           Std       1 GIR$SCREECH
 yes     yes           Std       1 GUE$ENVTCB
 yes     yes           Std       0 GJU$GET_DB
         yes           Std       1 GJS$ABORTM
                       nStd      0 X6A_AUTO_1
                       nStd      0 X6A_ARET
                       nStd      0 X6A_AALT
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:23   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    G$JIT$                           r    G$U_ECCB$                        r    G$MHJIT$
r    G$UHJIT$                         r    G$ROS$                           r    G$ROS$
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:24   


        1        1        /*M* GHB$TRAP1  Give user trap control                      */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=3,IND=5,ENU=0,ECU=0     */
        8        8
        9        9        GHB$TRAP1: PROC(G$TSA) ALTRET;

      9   1 000000  D380 0000 0000  xent GHB$TRAP1       LNJ,B5   X6A_AUTO_1
          1 000003       001C 0001                       DC       28,1

       10       10
       11       11        %INCLUDE G_JIT_M;
       12      276        %INCLUDE G_HJIT_M;
       13      421        %INCLUDE GH_SCHD_M;
       14      565 S      %INCLUDE GH_LCP6_M;
       15      566 S      %INCLUDE GU_LCP6_M;
       16      567        %INCLUDE G_ROS_M;
       17      649        %INCLUDE GU_MACROS_M;
       18      808
       19      809        %INCLUDE GH_SCHD_E;
       20      905        %INCLUDE HF_SCODE_C;
       21      988        %INCLUDE J_SCODE_C;
       22     1016                                                /* Input parameters                   */
       23     1017        %G$TSA (STCLASS= );
       24     1405
       25     1406                                                /* AUTO Storage                       */
       26     1407    1   DCL TRAP_NO UBIN;
       27     1408    1   DCL TRAP_IL UBIN;
       28     1409    1   DCL GHT$ECCB$ PTR;
       29     1410
       30     1411                                                /* Parameters for GUE$ENVTCB          */
       31     1412        %GUE_ENVTCB_PARAMS (FPTN=ENVTCB_PARAMS,STCLASS=AUTO);
       32     1537
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:25   
       33     1538                                                /* External data                      */
       34     1539    1   DCL G$JIT$ PTR SYMREF READONLY;
       35     1540    1   DCL G$U_ECCB$ PTR SYMREF READONLY;
       36     1541    1   DCL G$MHJIT$ PTR SYMREF READONLY;
       37     1542    1   DCL G$UHJIT$ PTR SYMREF READONLY;
       38     1543    1   DCL G$ROS$ PTR SYMREF READONLY;
       39     1544
       40     1545                                                /* Based Structures                   */
       41     1546        %G$JIT (STCLASS="BASED(G$JIT$)");
       42     1960        %G$ROS (STCLASS="BASED(G$ROS$)");
       43     2004        %G$ECCB;
       44     2080        %G$ECCB (FPTN=G$UECCB,ARRAYED=YES,STCLASS="BASED(G$U_ECCB$)");
       45     2156        %G$USER (FPTN=G$U);
       46     2167        %G$MHJIT (STCLASS="BASED(G$MHJIT$)");
       47     9041        %G$UHJIT (STCLASS="BASED(G$UHJIT$)");
       48    12015
       49    12016                                                /* External Procedures                */
       50    12017    1   DCL GUE$ENVTCB ENTRY(1) ALTRET;
       51    12018    1   DCL GJS$ABORTM ENTRY(1);
       52    12019    1   DCL GJS$ABORTX ENTRY(1);
       53    12020    1   DCL GJU$GET_DB ENTRY ALTRET;
       54    12021    1   DCL GIR$SCREECH ENTRY(1);
       55    12022
       56    12023                                                /* EQUs                               */
       57    12024 S      %INCLUDE G_LCP6_E;
       58    12025                                                /* Internal data                      */
       59    12026
       60    12027        %INCLUDE HF_ERRORS_C;
       61    12112        %INCLUDE UE_ERRORS_C;
       62    12130        %VLP_ERRCODE (FPTN=ETRAP,ERR#=%E$TRAP,SEV=G_SEV_ERROR#,
       63    12131                            STCLASS=CONSTANT,FCG=GH,MID=B,MON='1'B);
       64    12177
       65    12178        %VLP_ERRCODE (FPTN=ENOCONTROL,ERR#=%E$NOCONTROL,SEV=G_SEV_ERROR#,
       66    12179                            STCLASS=CONSTANT,FCG=GH,MID=B,MON='1'B);
       67    12225
       68    12226        %VLP_ERRCODE (FPTN=GHB_TRAP_MSG,ERR#=%E$TRAP,SEV=G_SEV_CONT#,
       69    12227                            STCLASS=CONSTANT SYMDEF,FCG=GH,MID=B,MON='1'B);
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:26   
       70    12273
       71    12274
       72    12275        %VLP_SCODE (FPTN=GHH_SCODE,ERR#=%S$NOTLOCKED,SEV=G_SEV_SCREECH#,
       73    12276                    STCLASS=CONSTANT SYMDEF,FCG=GH,MID=H,MON='1'B);
       74    12337
       75    12338        /*S* SCREECH_CODE: GHH-S$NOTLOCKED
       76    12339             TYPE: SCREECH
       77    12340             MESSAGE: Attempt to unlock an unlocked gate.
       78    12341             REMARKS:  $B3 -> Offending Gate
       79    12342                       $B5 -> Routine requesting unlock
       80    12343        */
       81    12344        %EJECT;
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:27   
       82    12345
       83    12346        /*F* NAME:   GHB$TRAP1
       84    12347            PURPOSE:  To provide for entry to the user's trap handler.
       85    12348        */
       86    12349
       87    12350        /*D* NAME:   GHB$TRAP1
       88    12351
       89    12352             INPUT:  G$TSA.  The Trap Save Area containing the trap environment.
       90    12353
       91    12354             CALL:   CALL GHB$TRAP1(G$TSA);
       92    12355
       93    12356                     GHB$TRAP1 is called only by GHT$TRAP in the mon entry segment.
       94    12357
       95    12358                     This routine will return normally if the user's trap handler
       96    12359                     is to be entered.  P$ in the TSA will have been set to the
       97    12360                     address of the user's handler and the TSA will have been
       98    12361                     moved to the user's TCB.
       99    12362
      100    12363                     GHB$TRAP1 will take the alternate return with TSA.I.TRAP#
      101    12364                     set to indicate special processing to GHT$TRAP as follows:
      102    12365
      103    12366                      G_MCL#         - enter MCL processing.
      104    12367                      G_FPRG_START#  - enter the debugger.
      105    12368                      G_HOST_INT# - enter the debugger.
      106    12369
      107    12370             DESCRIPTION:
      108    12371        */
      109    12372
      110    12373
      111    12374
      112    12375        %EJECT;
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:28   
      113    12376
      114    12377    1      TRAP_NO = G$TSA.I.TRAP#;

  12377   1 000005  ECC7 0004                            LDB,B6   @G$TSA,AUTO
          1 000007  E2C6 0002                            LLH,R6   2,B6
          1 000009  EF47 0006                            STR,R6   TRAP_NO,AUTO

      115    12378    1      TRAP_IL = G$TSA.S.LEVEL;

  12378   1 00000B  D846 000C                            LDR,R5   12,B6
          1 00000D  D570 003F                            AND,R5   63,IMO
          1 00000F  DF47 0007                            STR,R5   TRAP_IL,AUTO

      116    12379
      117    12380        /*D* If the trap is G_FPRG_MCLTRAP# simply return as that error
      118    12381             number is simply used to force entry to DELTA is an MCL error
      119    12382             frame was put on the TCB and we didn't really want entry to
      120    12383             GHB$TRAP1 in the first place.
      121    12384        */
      122    12385    1      IF (TRAP_NO >= %G_FPRG_EVENT#) AND (TRAP_NO <= %G_FPRG_MCLTRAP#)

  12385   1 000011  6D38                                 CMV,R6   56
          1 000012  0201 003C                            BL       s:12425,PREL
          1 000014  6D3B                                 CMV,R6   59
          1 000015  0301 0039                            BG       s:12425,PREL

      123    12386    2      THEN DO;

      124    12387    2           IF G$JIT$->G$JIT.DB# = 0

  12387   1 000017  DC80 0000 0000  xsym                 LDB,B5   G$JIT$
          1 00001A  C2C5 008D                            LLH,R4   141,B5
          1 00001C  4981 001A                            BNEZ,R4  s:12405,PREL

      125    12388    3           THEN DO;

      126    12389
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:29   
      127    12390        /*D* If this is the entry to the trap handler following a call
      128    12391             to GHI$MAKE_TSA it is time to abort the user.  The error
      129    12392             code will already be in G$JIT.ERR.
      130    12393        */
      131    12394    3                IF TRAP_NO ~= %G_FPRG_XCON#

  12394   1 00001E  6D3A                                 CMV,R6   58
          1 00001F  0901 0004                            BE       s:12398,PREL

      132    12395    3                THEN RETURN;

  12395   1 000021  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

      133    12396
      134    12397    4                ELSE DO;

      135    12398    4                     ENVTCB_PARAMS.ECINFO.ERR = G$JIT.ERR;

  12398   1 000024  8CC5 003C                            LDI      60,B5
          1 000026  8D47 000F                            SDI      ENVTCB_PARAMS+5,AUTO

  12398   1                              ABORT_USER      null
      136    12399    4   ABORT_USER:       ;
      137    12400    4                     CALL GJS$ABORTX(ENVTCB_PARAMS.ECINFO.ERR);

  12400   1 000028  EBC7 000F            ABORT_USER      LAB,B6   ENVTCB_PARAMS+5,AUTO
          1 00002A  EFC7 001A                            STB,B6   ENVTCB_PARAMS+16,AUTO
          1 00002C  BBC7 001A                            LAB,B3   ENVTCB_PARAMS+16,AUTO
          1 00002E  CBF0 0100                            LAB,B4   256,IMO
          1 000030  E380 0000 0000  xent                 LNJ,B6   GJS$ABORTX
          1 000033       0001                            DC       s:12401,PREL

      138    12401    4                     RETURN;

  12401   1 000034  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

      139    12402    4                     END;
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:30   
      140    12403    3                END/*do if JIT.DB# is zero*/;
      141    12404
      142    12405    2           TRAP_NO = TRAP_NO - %G_FPRG_EVENT#;

  12405   1 000037  6EC8                                 ADV,R6   -56
          1 000038  EF47 0006                            STR,R6   TRAP_NO,AUTO

      143    12406
      144    12407    2           IF G$UECCB.HAND$(TRAP_NO) ~= ENTADDR(NIL)

  12407   1 00003A  CC80 0000 0000  xsym                 LDB,B4   G$U_ECCB$
          1 00003D  B856                                 LDR,R3   R6
          1 00003E  BCB4                                 LDB,B3   ,B4,R3
          1 00003F  BD80 0000 0000  02                   CMB,B3   0
          1 000042  0901 0006                            BE       s:12414,PREL

      145    12408    3           THEN DO;

      146    12409    3                G$TSA.P$$ = G$UECCB.HAND$(TRAP_NO);

  12409   1 000044  BFC6 0008                            STB,B3   8,B6

      147    12410    3                RETURN;

  12410   1 000046  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

      148    12411    3                END;
      149    12412
      150    12413    3           ELSE DO;

      151    12414    3                ENVTCB_PARAMS.ECINFO.ERR = ENOCONTROL;

  12414   1 000049  8C80 0000 0002  00                   LDI      ENOCONTROL
          1 00004C  8D47 000F                            SDI      ENVTCB_PARAMS+5,AUTO

      152    12415    3                GOTO ABORT_USER;

PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:31   
  12415   1 00004E  0FDA                                 B        s:12398,SPREL

      153    12416    3                END;
      154    12417    2           END;
      155    12418
      156    12419
      157    12420        /*D* If this is a 'GOTRAP' to the debugger after an exit type
      158    12421             of MCL, the TSA.TRAP# field is set to G_MCL# which
      159    12422             will cause the trap handler to re-call the MCL handler and
      160    12423             process the MCL now.
      161    12424        */
      162    12425    1      IF (TRAP_NO >= %G_FPRG_EXIT#) AND (TRAP_NO <= %G_FPRG_LDTRC#)

  12425   1 00004F  6D2F                                 CMV,R6   47
          1 000050  0201 0014                            BL       s:12437,PREL
          1 000052  6D32                                 CMV,R6   50
          1 000053  0301 0011                            BG       s:12437,PREL

      163    12426    2      THEN DO;

      164    12427    2           G$TSA.I.TRAP# = %G_MCL#;

  12427   1 000055  4C01                                 LDV,R4   1
          1 000056  C7C6 0002                            STH,R4   2,B6

      165    12428
      166    12429    2           IF G$JIT.DB# ~= 0

  12429   1 000058  DC80 0000 0000  xsym                 LDB,B5   G$JIT$
          1 00005B  B2C5 008D                            LLH,R3   141,B5
          1 00005D  3901 0004                            BEZ,R3   s:12431,PREL

      167    12430    2           THEN G$JIT.JUNK.BYPASSD = '1'B;

  12430   1 00005F  8945 0098                            LBT,'0200'X       152,B5
  12430   1 000061       0200

PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:32   
      168    12431    2           ALTRETURN;

  12431   1 000062  C380 0000 0000  xent                 LNJ,B4   X6A_AALT

      169    12432    2           END;
      170    12433
      171    12434        /*D* If the debugger wants us to report the DBCONTROL condition
      172    12435             to the FPL interpreter, do it now.
      173    12436        */
      174    12437    1      IF (TRAP_NO = %G_FPRG_XBREAK#)

  12437   1 000065  6D33                                 CMV,R6   51
          1 000066  0901 0016                            BE       s:12443,PREL
          1 000068  DC80 0000 0000  xsym                 LDB,B5   G$ROS$
          1 00006B  CCC5 000C                            LDB,B4   12,B5
          1 00006D  BCC4 0008                            LDB,B3   8,B4
          1 00006F  BD80 0000 0000  02                   CMB,B3   0
          1 000072  0901 001E                            BE       s:12457,PREL
          1 000074  6D3D                                 CMV,R6   61
          1 000075  0281 0007                            BGE      s:12443,PREL
          1 000077  6D3E                                 CMV,R6   62
          1 000078  0281 0004                            BGE      s:12443,PREL
          1 00007A  6D37                                 CMV,R6   55
          1 00007B  0201 0015                            BL       s:12457,PREL

      175    12438    1        OR ( (G$ROS.U_ECCB$->G$ECCB.DBCONTROL$ ~= ENTADDR(NIL)) AND
      176    12439    1        (TRAP_NO >= %G_FPRG_START#   OR
      177    12440    1        TRAP_NO >= %G_FPRG_START2#  OR
      178    12441    1        TRAP_NO >= %G_HOST_INT#) )
      179    12442    2      THEN DO;

      180    12443    2           ENVTCB_PARAMS.ECC = %G_DBCONTROL#;

  12443   1 00007D  4C04                                 LDV,R4   4
          1 00007E  CF47 000C                            STR,R4   ENVTCB_PARAMS+2,AUTO

      181    12444    2           ENVTCB_PARAMS.ECINFO.ERR = '0'B;
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:33   

  12444   1 000080  8747 000F                            CL       ENVTCB_PARAMS+5,AUTO
          1 000082  8747 0010                            CL       ENVTCB_PARAMS+6,AUTO

      182    12445    2           ENVTCB_PARAMS.P$$ = G$ROS.U_ECCB$->G$ECCB.DBCONTROL$;

  12445   1 000084  DC80 0000 0000  xsym                 LDB,B5   G$ROS$
          1 000087  CCC5 000C                            LDB,B4   12,B5
          1 000089  BCC4 0008                            LDB,B3   8,B4
          1 00008B  BFC7 000A                            STB,B3   ENVTCB_PARAMS,AUTO

      183    12446    2           ENVTCB_PARAMS.ECINFO.SUBC = 0;

  12446   1 00008D  8747 000D                            CL       ENVTCB_PARAMS+3,AUTO

      184    12447    2           GOTO BUILD_TCB;

  12447   1 00008F  0F81 006F                            B        s:12488,PREL

      185    12448    2           END;
      186    12449
      187    12450        /*D* If there is no special code set in TSA.TRAP#, it must
      188    12451             then be a hardware trap.
      189    12452             The program counter is decremented by the instruction
      190    12453             size to point to the offensive instruction, being careful
      191    12454             not to make it a negative number (i.e. if the trap had
      192    12455             been a branch to zero).
      193    12456        */
      194    12457    1      IF G$TSA.P > G$TSA.Z.IS

  12457   1 000091  F846 0005                            LDR,R7   5,B6
          1 000093  F570 000F                            AND,R7   15,IMO
          1 000095  6C00                                 LDV,R6   0
          1 000096  84C6 0008                            SID      8,B6
          1 000098  6881 000F                            BGEZ,R6  s:12464,PREL

      195    12458    1      THEN G$TSA.P = G$TSA.P - G$TSA.Z.IS;
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:34   

  12458   1 00009A  F846 0005                            LDR,R7   5,B6
          1 00009C  F570 000F                            AND,R7   15,IMO
          1 00009E  6C00                                 LDV,R6   0
          1 00009F  84C6 0008                            SID      8,B6
          1 0000A1  8656                                 CPL      R6
          1 0000A2  8657                                 CPL      R7
          1 0000A3  8470 0000 0001                       AID      1,IMO
          1 0000A6  8D46 0008                            SDI      8,B6

      196    12459
      197    12460        /*D* If the domain in word 0 of the user HJIT doesn't indicate
      198    12461             a user or debugger trap, GHB$TRAP1 call cause a SUA.  Otherwise,
      199    12462             the pointer to the ECCB is set to either user or DB as appropriate.
      200    12463        */
      201    12464    1      IF G$UHJIT.DMN.ID = %G_DMN_USR_SVC#

  12464   1 0000A8  CC80 0000 0000  xsym                 LDB,B4   G$UHJIT$
          1 0000AB  E844 007E                            LDR,R6   126,B4
          1 0000AD  6D03                                 CMV,R6   3
          1 0000AE  0981 0007                            BNE      s:12466,PREL

      202    12465    1      THEN GHT$ECCB$ = G$ROS.U_ECCB$;

  12465   1 0000B0  BCC5 000C                            LDB,B3   12,B5
          1 0000B2  BFC7 0008                            STB,B3   GHT$ECCB$,AUTO
          1 0000B4  0F81 0012                            B        s:12475,PREL

      203    12466    1      ELSE IF G$UHJIT.DMN.ID = %G_DMN_DB_SVC#

  12466   1 0000B6  6D01                                 CMV,R6   1
          1 0000B7  0981 0007                            BNE      s:12468,PREL

      204    12467    1           THEN GHT$ECCB$ = G$ROS.DB_ECCB$;

  12467   1 0000B9  BCC5 000E                            LDB,B3   14,B5
          1 0000BB  BFC7 0008                            STB,B3   GHT$ECCB$,AUTO
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:35   
          1 0000BD  0F81 0009                            B        s:12475,PREL

      205    12468    1           ELSE CALL GIR$SCREECH(G$TSA);

  12468   1 0000BF  BBC7 0004                            LAB,B3   @G$TSA,AUTO
          1 0000C1  CBF0 0100                            LAB,B4   256,IMO
          1 0000C3  E380 0000 0000  xent                 LNJ,B6   GIR$SCREECH
          1 0000C6       0001                            DC       s:12475,PREL

      206    12469
      207    12470        /*D* If the user has not asked for trap control, the abort logic is
      208    12471             entered by calling GJS$ABORTM.  If this routine returns, it will
      209    12472             first have set up exit control for this user.  A normal return
      210    12473             to the trap handler will cause a RTT to the user's XCON handler.
      211    12474        */
      212    12475    1      ENVTCB_PARAMS.ECINFO.ERR = ETRAP;

  12475   1 0000C7  8C80 0000 0000  00                   LDI      ETRAP
          1 0000CA  8D47 000F                            SDI      ENVTCB_PARAMS+5,AUTO

      213    12476    1      ENVTCB_PARAMS.ECINFO.ERR.ERR# = ENVTCB_PARAMS.ECINFO.ERR.ERR# + TRAP_NO;

  12476   1 0000CC  D847 0010                            LDR,R5   ENVTCB_PARAMS+6,AUTO
          1 0000CE  5043                                 SOR,R5   3
          1 0000CF  DA47 0006                            ADD,R5   TRAP_NO,AUTO
          1 0000D1  5003                                 SOL,R5   3
          1 0000D2  DAC7 0010                            SRM,R5,'FFF8'X    ENVTCB_PARAMS+6,AUTO
          1 0000D4       FFF8

      214    12477
      215    12478    1      IF GHT$ECCB$->G$ECCB.TRAP$ = ENTADDR(NIL)

  12478   1 0000D5  ECC7 0008                            LDB,B6   GHT$ECCB$,AUTO
          1 0000D7  DCC6 0006                            LDB,B5   6,B6
          1 0000D9  DD80 0000 0000  02                   CMB,B5   0
          1 0000DC  0901 0008                            BE       s:12480,PREL
          1 0000DE  CBC6 000B                            LAB,B4   11,B6
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:36   
          1 0000E0  B847 0006                            LDR,R3   TRAP_NO,AUTO
          1 0000E2  82B4                                 LB       ,B4,R3
          1 0000E3  0501 0010                            BBT      s:12486,PREL

      216    12479    1        OR GHT$ECCB$->G$ECCB.FLTFLGS(TRAP_NO) ='0'B
      217    12480    2      THEN DO;

  12478   1                              TCB_FULL        null
      218    12481    2   TCB_FULL: ;
      219    12482    2           CALL GJS$ABORTM(ENVTCB_PARAMS.ECINFO.ERR);

  12482   1 0000E5  EBC7 000F            TCB_FULL        LAB,B6   ENVTCB_PARAMS+5,AUTO
          1 0000E7  EFC7 001A                            STB,B6   ENVTCB_PARAMS+16,AUTO
          1 0000E9  BBC7 001A                            LAB,B3   ENVTCB_PARAMS+16,AUTO
          1 0000EB  CBF0 0100                            LAB,B4   256,IMO
          1 0000ED  E380 0000 0000  xent                 LNJ,B6   GJS$ABORTM
          1 0000F0       0001                            DC       s:12483,PREL

      220    12483    2           RETURN;

  12483   1 0000F1  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

      221    12484    2           END;
      222    12485
      223    12486    1      ENVTCB_PARAMS.P$$ = GHT$ECCB$->G$ECCB.TRAP$;

  12486   1 0000F4  DFC7 000A                            STB,B5   ENVTCB_PARAMS,AUTO

      224    12487    1      ENVTCB_PARAMS.ECC = %G_TRAP#;

  12487   1 0000F6  5C03                                 LDV,R5   3
          1 0000F7  DF47 000C                            STR,R5   ENVTCB_PARAMS+2,AUTO

      225    12488    1      ENVTCB_PARAMS.ECINFO.SUBC = BITBIN(G$TSA.I);

  12488   1 0000F9  CCC7 0004                            LDB,B4   @G$TSA,AUTO
          1 0000FB  C844 0002                            LDR,R4   2,B4
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:37   
          1 0000FD  CF47 000D                            STR,R4   ENVTCB_PARAMS+3,AUTO

  12488   1                              BUILD_TCB       null
      226    12489
      227    12490
      228    12491        /*D* If the user has asked for trap control, a call is made to
      229    12492             GUE$ENVTCB to move the TSA environment to the TCB.  The address
      230    12493             in TSA.P$ will be set to the address of the user's trap handler.
      231    12494        */
      232    12495    1   BUILD_TCB: ;
      233    12496    1      ENVTCB_PARAMS.ENV$ = ADDR(G$TSA);

  12496   1 0000FF  ECC7 0004            BUILD_TCB       LDB,B6   @G$TSA,AUTO
          1 000101  EFC7 0015                            STB,B6   ENVTCB_PARAMS+11,AUTO

      234    12497    1      ENVTCB_PARAMS.TCB$ = ADDR(NIL);

  12497   1 000103  DB80 0000 0000                       LAB,B5   0
          1 000106  DFC7 0017                            STB,B5   ENVTCB_PARAMS+13,AUTO

      235    12498    1      ENVTCB_PARAMS.ENVTYPE = %GUE_ENVTCB_TSA#;

  12498   1 000108  8747 0014                            CL       ENVTCB_PARAMS+10,AUTO

      236    12499    1      ENVTCB_PARAMS.ECINFO.EVID = 0;

  12499   1 00010A  8747 000E                            CL       ENVTCB_PARAMS+4,AUTO

      237    12500    1      ENVTCB_PARAMS.ECINFO.P# = 0;

  12500   1 00010C  8747 0011                            CL       ENVTCB_PARAMS+7,AUTO

      238    12501    1      ENVTCB_PARAMS.MOREINFO$ = ADDR(NIL);

  12501   1 00010E  CB80 0000 0000                       LAB,B4   0
          1 000111  CFC7 0012                            STB,B4   ENVTCB_PARAMS+8,AUTO

PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:38   
      239    12502
      240    12503    1      CALL GUE$ENVTCB(ENVTCB_PARAMS) ALTRET(TCB_FULL);

  12503   1 000113  BBC7 000A                            LAB,B3   ENVTCB_PARAMS,AUTO
          1 000115  BFC7 001A                            STB,B3   ENVTCB_PARAMS+16,AUTO
          1 000117  BBC7 001A                            LAB,B3   ENVTCB_PARAMS+16,AUTO
          1 000119  CBF0 0100                            LAB,B4   256,IMO
          1 00011B  E380 0000 0000  xent                 LNJ,B6   GUE$ENVTCB
          1 00011E       FFC7                            DC       s:12480,PREL

      241    12504
      242    12505        /*D* If the ALIBFD bit has been set in the user table, the GJU$GET_DB
      243    12506             routine is called to associate the debugger and set the TRAP#
      244    12507             field in the TSA to G_FPRG_START#, or, if the debugger is already
      245    12508             associated, to simply reset the TRAP# to G_HOST_INT#.
      246    12509        */
      247    12510    1      IF (G$MHJIT.CU$->G$U.ASYNCH & %U_ALIBFD)

  12510   1 00011F  EC80 0000 0000  xsym                 LDB,B6   G$MHJIT$
          1 000122  DCC6 0352                            LDB,B5   850,B6
          1 000124  E845 0001                            LDR,R6   1,B5
          1 000126  E570 0800                            AND,R6   2048,IMO
          1 000128  6901 000A                            BEZ,R6   s:12518,PREL

      248    12511    2      THEN DO;

      249    12512    2           CALL GJU$GET_DB;

  12512   1 00012A  CBF0 0000                            LAB,B4   0,IMO
          1 00012C  E380 0000 0000  xent                 LNJ,B6   GJU$GET_DB
          1 00012F       0001                            DC       s:12513,PREL

      250    12513    2           ALTRETURN;

  12513   1 000130  C380 0000 0000  xent                 LNJ,B4   X6A_AALT

      251    12514    2           END;
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:39   
      252    12515
      253    12516        /*  And, lastly, return to the trap handler.
      254    12517        */
      255    12518    1      RETURN;

  12518   1 000133  C380 0000 0000  xent                 LNJ,B4   X6A_ARET
      256    12519
      257    12520
      258    12521        %EJECT;
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:40   
      259    12522
      260    12523        /*E* ERROR: GHB-E$MCL-0
      261    12524             MESSAGE: MCL - Monitor Service Request.
      262    12525        */
      263    12526        /*E* ERROR:  GHB-E$TRACE-A
      264    12527             MESSAGE: Trace/Breakpoint Trap
      265    12528        */
      266    12529        /*E* ERROR:  GHB-E$NO_SIP-A
      267    12530             MESSAGE: Uninstalled SIP Trap
      268    12531        */
      269    12532        /*E* ERROR:   GHB-E$TROT-A
      270    12533             MESSAGE: Watch Dog Timer Runout
      271    12534        */
      272    12535        /*E* ERROR:  GHB-E$UNIMPL-A
      273    12536             MESSAGE: Unimplemented Instruction Trap
      274    12537        */
      275    12538        /*E* ERROR:  GHB-E$INT_REG_OV-A
      276    12539             MESSAGE: Integer Register Overflow Trap
      277    12540        */
      278    12541        /*E* ERROR:  GHB-E$S_DBZ-A
      279    12542             MESSAGE: SIP Divide by Zero Trap
      280    12543        */
      281    12544        /*E* ERROR:  GHB-E$S_EXP_OV-A
      282    12545             MESSAGE: SIP Exponent Overflow Trap
      283    12546        */
      284    12547        /*E* ERROR:  GHB-E$STK_UF-A
      285    12548             MESSAGE: Stack Underflow Trap
      286    12549        */
      287    12550        /*E* ERROR:  GHB-E$STK_OV-A
      288    12551             MESSAGE: Stack Overflow Trap
      289    12552        */
      290    12553        /*E* ERROR:  GHB-E$REMOTE_DESC-A
      291    12554             MESSAGE: Remote Data Descriptor Trap
      292    12555        */
      293    12556        /*E* ERROR:  GHB-E$PRIV-A
      294    12557             MESSAGE: Privilege Violation Trap
      295    12558        */
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:41   
      296    12559        /*E* ERROR:  GHB-E$MEM_PROT-A
      297    12560             MESSAGE: Memory Protection Trap
      298    12561        */
      299    12562        /*E* ERROR:  GHB-E$INT_UR-A
      300    12563             MESSAGE: Internal Unavailable Resource Trap
      301    12564        */
      302    12565        /*E* ERROR:  GHB-E$PROG_ERR-A
      303    12566             MESSAGE: Program Error Trap
      304    12567        */
      305    12568        /*E* ERROR:  GHB-E$INT_MBE-A
      306    12569             MESSAGE: Internal Memory or Bus Error Trap
      307    12570        */
      308    12571        /*E* ERROR:  GHB-E$S_EXP_UF-A
      309    12572             MESSAGE: SIP Exponent Underflow Trap
      310    12573        */
      311    12574        /*E* ERROR:  GHB-E$S_PROG_ERR-A
      312    12575             MESSAGE: SIP Program Error Trap
      313    12576        */
      314    12577        /*E* ERROR:  GHB-E$S_SIGNIF-A
      315    12578             MESSAGE: SIP Significance Error Trap
      316    12579        */
      317    12580        /*E* ERROR:  GHB-E$S_PRECISION-A
      318    12581             MESSAGE: SIP Precision Error Trap
      319    12582        */
      320    12583        /*E* ERROR:  GHB-E$EXT_UR-A
      321    12584             MESSAGE: External (CIP or SIP) Unavailable Resource Trap
      322    12585        */
      323    12586        /*E* ERROR:  GHB-E$EXT_MBE-A
      324    12587             MESSAGE: External (CIP or SIP) Memory or Bus Error Trap
      325    12588        */
      326    12589        /*E* ERROR:  GHB-E$C_DBZ-A
      327    12590             MESSAGE: CIP Divide by Zero Trap
      328    12591        */
      329    12592        /*E* ERROR:  GHB-E$C_SPEC-A
      330    12593             MESSAGE: CIP Illegal Specification Trap
      331    12594        */
      332    12595        /*E* ERROR:  GHB-E$C_CHAR-A
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:42   
      333    12596             MESSAGE: CIP Illegal Character Trap
      334    12597        */
      335    12598        /*E* ERROR:  GHB-E$C_TRUNC-A
      336    12599             MESSAGE: CIP Truncation Trap
      337    12600        */
      338    12601        /*E* ERROR:  GHB-E$C_OV-A
      339    12602             MESSAGE: CIP Overflow Trap
      340    12603        */
      341    12604        /*E* ERROR:  GHB-E$CIP_QLT-A
      342    12605             MESSAGE: CIP QLT Fault
      343    12606        */
      344    12607        /*E* ERROR:  GHB-E$SIP_QLT-A
      345    12608             MESSAGE: SIP QLT Fault
      346    12609        */
      347    12610        /*E* ERROR: GHB-E$EXT_PROT-0
      348    12611             MESSAGE: External (CIP or SIP) Memory Protect Trap.
      349    12612        */
      350    12613        /*E* ERROR: GHB-E$S_ARG-0
      351    12614             MESSAGE: SIP Illegal Argument Trap.
      352    12615        */
      353    12616        /*E* ERROR: GHB-E$FPRG_EXIT-0
      354    12617             MESSAGE: FPRG M$EXIT.
      355    12618        */
      356    12619        /*E* ERROR: GHB-E$FPRG_ERR-0
      357    12620             MESSAGE: FPRG M$ERR.
      358    12621        */
      359    12622        /*E* ERROR: GHB-E$FPRG_XXX-0
      360    12623             MESSAGE: FPRG M$XXX.
      361    12624        */
      362    12625        /*E* ERROR: GHB-E$FPRG_LDTRC-0
      363    12626             MESSAGE: FPRG requesting M$LDTRC.
      364    12627        */
      365    12628        /*E* ERROR: GHB-E$FPRG_XBREAK-0
      366    12629             MESSAGE: FPRG (FPL interpreter) M$XBREAK.
      367    12630        */
      368    12631        /*E* ERROR: GHB-E$FPRG_SCREECH-0
      369    12632             MESSAGE: FPRG M$SCREECH
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:43   
      370    12633        */
      371    12634
      372    12635
      373    12636        /*E* ERROR: GHB-E$HOST_INT-0
      374    12637             MESSAGE: FPRG interrupted by Host Debugger.
      375    12638        */
      376    12639        /*E* ERROR: GHB-E$FPRG_EVENT-0
      377    12640             MESSAGE: FPRG event condition.
      378    12641        */
      379    12642        /*E* ERROR: GHB-E$FPRG_BRK-0
      380    12643             MESSAGE: FPRG break condition.
      381    12644        */
      382    12645        /*E* ERROR: GHB-E$FPRG_XCON-0
      383    12646             MESSAGE: FPRG exit/abort condition.
      384    12647        */
      385    12648        /*E* ERROR: GHB-E$FPRG_MCLTRAP-0
      386    12649             MESSAGE: FPRG issued bad MCL with no ALTRET.
      387    12650        */
      388    12651
      389    12652
      390    12653        /*E* ERROR: GHB-E$DB_TIMER-0
      391    12654             MESSAGE: FEP Debugger Timer Runout.
      392    12655             DESCRIPTION: Used for internal LCP-6 flag.
      393    12656                          The user should never see this message.
      394    12657        */
      395    12658        /*E* ERROR: GHB-E$FPRG_START-0
      396    12659             MESSAGE: FPRG started via M$SETFP.
      397    12660        */
      398    12661        /*E* ERROR: GHB-E$FPRG_START2-0
      399    12662             MESSAGE: FPRG started via M$LDTRC.
      400    12663        */
      401    12664        /*E* ERROR: GHB-E$MCL2-0
      402    12665             MESSAGE: MCL - Monitor Service Request.
      403    12666        */
      404    12667        %EJECT;
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:44   
      405    12668
      406    12669
      407    12670
      408    12671
      409    12672        /*S* SCREECH_CODE:  GHH-S$TRACE-A
      410    12673             TYPE:    SUA
      411    12674             MESSAGE: Handler Trap - Trace/Breakpoint
      412    12675        */
      413    12676        /*S* SCREECH_CODE:  GHH-S$NO_SIP-A
      414    12677             TYPE:    SUA
      415    12678             MESSAGE: Handler Trap - Uninstalled SIP
      416    12679        */
      417    12680        /*S* SCREECH_CODE:   GHH-S$TROT-A
      418    12681             TYPE:    SUA
      419    12682             MESSAGE: Handler Abort - Disabled Too Long
      420    12683        */
      421    12684        /*S* SCREECH_CODE:  GHH-S$UNIMPL-A
      422    12685             TYPE:    SUA
      423    12686             MESSAGE: Handler Trap - Unimplemented Instruction
      424    12687        */
      425    12688        /*S* SCREECH_CODE:  GHH-S$INT_REG_OV-A
      426    12689             TYPE:    SUA
      427    12690             MESSAGE: Handler Trap - Integer Register Overflow
      428    12691        */
      429    12692        /*S* SCREECH_CODE:  GHH-S$S_DBZ-A
      430    12693             TYPE:    SUA
      431    12694             MESSAGE: Handler Trap - SIP Divide by Zero
      432    12695        */
      433    12696        /*S* SCREECH_CODE:  GHH-S$S_EXP_OV-A
      434    12697             TYPE:    SUA
      435    12698             MESSAGE: Handler Trap - SIP Exponent Overflow
      436    12699        */
      437    12700        /*S* SCREECH_CODE:  GHH-S$STK_UF-A
      438    12701             TYPE:    SUA
      439    12702             MESSAGE: Handler Trap - Stack Underflow
      440    12703        */
      441    12704        /*S* SCREECH_CODE:  GHH-S$STK_OV-A
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:45   
      442    12705             TYPE:    SUA
      443    12706             MESSAGE: Handler Trap - Stack Overflow
      444    12707        */
      445    12708        /*S* SCREECH_CODE:  GHH-S$REMOTE_DESC-A
      446    12709             TYPE:    SUA
      447    12710             MESSAGE: Handler Trap - Remote Data Descriptor
      448    12711        */
      449    12712        /*S* SCREECH_CODE:  GHH-S$PRIV-A
      450    12713             TYPE:    SUA
      451    12714             MESSAGE: Handler Trap - Privilege Violation
      452    12715        */
      453    12716        /*S* SCREECH_CODE:  GHH-S$MEM_PROT-A
      454    12717             TYPE:    SUA
      455    12718             MESSAGE: Handler Trap - Memory Protection
      456    12719        */
      457    12720        /*S* SCREECH_CODE:  GHH-S$INT_UR-A
      458    12721             TYPE:    SUA
      459    12722             MESSAGE: Handler Trap - Internal Unavailable Resource
      460    12723        */
      461    12724        /*S* SCREECH_CODE:  GHH-S$PROG_ERR-A
      462    12725             TYPE:    SUA
      463    12726             MESSAGE: Handler Trap - Program Error
      464    12727        */
      465    12728        /*S* SCREECH_CODE:  GHH-S$INT_MBE-A
      466    12729             TYPE:    SUA
      467    12730             MESSAGE: Handler Trap - Internal Memory or Bus Error
      468    12731        */
      469    12732        /*S* SCREECH_CODE:  GHH-S$S_EXP_UF-A
      470    12733             TYPE:    SUA
      471    12734             MESSAGE: Handler Trap - SIP Exponent Underflow
      472    12735        */
      473    12736        /*S* SCREECH_CODE:  GHH-S$S_PROG_ERR-A
      474    12737             TYPE:    SUA
      475    12738             MESSAGE: Handler Trap - SIP Program Error
      476    12739        */
      477    12740        /*S* SCREECH_CODE:  GHH-S$S_SIGNIF-A
      478    12741             TYPE:    SUA
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:46   
      479    12742             MESSAGE: Handler Trap - SIP Significance Error
      480    12743        */
      481    12744        /*S* SCREECH_CODE:  GHH-S$S_PRECISION-A
      482    12745             TYPE:    SUA
      483    12746             MESSAGE: Handler Trap - SIP Precision Error
      484    12747        */
      485    12748        /*S* SCREECH_CODE:  GHH-S$EXT_UR-A
      486    12749             TYPE:    SUA
      487    12750             MESSAGE: Handler Trap - External (CIP or SIP) Unavailable Resource
      488    12751        */
      489    12752        /*S* SCREECH_CODE:  GHH-S$EXT_MBE-A
      490    12753             TYPE:    SUA
      491    12754             MESSAGE: Handler Trap - External (CIP or SIP) Memory or Bus Error
      492    12755        */
      493    12756        /*S* SCREECH_CODE:  GHH-S$C_DBZ-A
      494    12757             TYPE:    SUA
      495    12758             MESSAGE: Handler Trap - CIP Divide by Zero
      496    12759        */
      497    12760        /*S* SCREECH_CODE:  GHH-S$C_SPEC-A
      498    12761             TYPE:    SUA
      499    12762             MESSAGE: Handler Trap - CIP Illegal Specification
      500    12763        */
      501    12764        /*S* SCREECH_CODE:  GHH-S$C_CHAR-A
      502    12765             TYPE:    SUA
      503    12766             MESSAGE: Handler Trap - CIP Illegal Character
      504    12767        */
      505    12768        /*S* SCREECH_CODE:  GHH-S$C_TRUNC-A
      506    12769             TYPE:    SUA
      507    12770             MESSAGE: Handler Trap - CIP Truncation
      508    12771        */
      509    12772        /*S* SCREECH_CODE:  GHH-S$C_OV-A
      510    12773             TYPE:    SUA
      511    12774             MESSAGE: Handler Trap - CIP Overflow
      512    12775        */
      513    12776        /*S* SCREECH_CODE:  GHH-S$CIP_QLT-A
      514    12777             TYPE:    SUA
      515    12778             MESSAGE: Handler Trap - CIP QLT Fault
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:47   
      516    12779        */
      517    12780        /*S* SCREECH_CODE:  GHH-S$SIP_QLT-A
      518    12781             TYPE:    SUA
      519    12782             MESSAGE: Handler Trap - SIP QLT Fault
      520    12783        */
      521    12784        /*S* SCREECH_CODE: GHH-S$EXT_PROT-0
      522    12785             TYPE:    SUA
      523    12786             MESSAGE: Handler Trap - External Memory Protect Trap.
      524    12787        */
      525    12788        /*S* SCREECH_CODE: GHH-S$S_ARG-0
      526    12789             TYPE:    SUA
      527    12790             MESSAGE: Handler Trap - SIP Illegal Argument Trap.
      528    12791        */
      529    12792        /*S* SCREECH_CODE: GHH-S$FPRG_EXIT-0
      530    12793             TYPE:    SUA
      531    12794             MESSAGE: Handler Abort - M$EXIT.
      532    12795        */
      533    12796        /*S* SCREECH_CODE: GHH-S$FPRG_ERR-0
      534    12797             TYPE:    SUA
      535    12798             MESSAGE: Handler Abort - M$ERR.
      536    12799        */
      537    12800        /*S* SCREECH_CODE: GHH-S$FPRG_XXX-0
      538    12801             TYPE:    SUA
      539    12802             MESSAGE: Handler Abort - M$XXX.
      540    12803        */
      541    12804        /*S* SCREECH_CODE: GHH-S$FPRG_XCON-0
      542    12805             TYPE:    SUA
      543    12806             MESSAGE: Handler Abort - exit/abort condition.
      544    12807        */
      545    12808        /*S* SCREECH_CODE: GHH-S$FPRG_MCLTRAP-0
      546    12809             TYPE:    SUA
      547    12810             MESSAGE: Handler Abort - MCL with no ALTRET.
      548    12811        */
      549    12812
      550    12813
      551    12814
      552    12815        /*S* SCREECH_CODE:  GHT-S$TRACE-A
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:48   
      553    12816             TYPE:    SCREECH
      554    12817             MESSAGE: LCP6 Trap - Trace/Breakpoint
      555    12818             REMARKS: This screech is often caused by diagnostic patches.
      556    12819        */
      557    12820        /*S* SCREECH_CODE:  GHT-S$NO_SIP-A
      558    12821             TYPE:    SCREECH
      559    12822             MESSAGE: LCP6 Trap - Uninstalled SIP
      560    12823        */
      561    12824        /*S* SCREECH_CODE:   GHT-S$TROT-A
      562    12825             TYPE:    SCREECH
      563    12826             MESSAGE: LCP6 Abort - Disabled Too Long
      564    12827        */
      565    12828        /*S* SCREECH_CODE:  GHT-S$UNIMPL-A
      566    12829             TYPE:    SCREECH
      567    12830             MESSAGE: LCP6 Trap - Unimplemented Instruction
      568    12831        */
      569    12832        /*S* SCREECH_CODE:  GHT-S$INT_REG_OV-A
      570    12833             TYPE:    SCREECH
      571    12834             MESSAGE: LCP6 Trap - Integer Register Overflow
      572    12835        */
      573    12836        /*S* SCREECH_CODE:  GHT-S$S_DBZ-A
      574    12837             TYPE:    SCREECH
      575    12838             MESSAGE: LCP6 Trap - SIP Divide by Zero
      576    12839        */
      577    12840        /*S* SCREECH_CODE:  GHT-S$S_EXP_OV-A
      578    12841             TYPE:    SCREECH
      579    12842             MESSAGE: LCP6 Trap - SIP Exponent Overflow
      580    12843        */
      581    12844        /*S* SCREECH_CODE:  GHT-S$STK_UF-A
      582    12845             TYPE:    SCREECH
      583    12846             MESSAGE: LCP6 Trap - Stack Underflow
      584    12847        */
      585    12848        /*S* SCREECH_CODE:  GHT-S$STK_OV-A
      586    12849             TYPE:    SCREECH
      587    12850             MESSAGE: LCP6 Trap - Stack Overflow
      588    12851        */
      589    12852        /*S* SCREECH_CODE:  GHT-S$REMOTE_DESC-A
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:49   
      590    12853             TYPE:    SCREECH
      591    12854             MESSAGE: LCP6 Trap - Remote Data Descriptor
      592    12855        */
      593    12856        /*S* SCREECH_CODE:  GHT-S$PRIV-A
      594    12857             TYPE:    SCREECH
      595    12858             MESSAGE: LCP6 Trap - Privilege Violation
      596    12859        */
      597    12860        /*S* SCREECH_CODE:  GHT-S$MEM_PROT-A
      598    12861             TYPE:    SCREECH
      599    12862             MESSAGE: LCP6 Trap - Memory Protection
      600    12863        */
      601    12864        /*S* SCREECH_CODE:  GHT-S$INT_UR-A
      602    12865             TYPE:    SCREECH
      603    12866             MESSAGE: LCP6 Trap - Internal Unavailable Resource
      604    12867        */
      605    12868        /*S* SCREECH_CODE:  GHT-S$PROG_ERR-A
      606    12869             TYPE:    SCREECH
      607    12870             MESSAGE: LCP6 Trap - Program Error
      608    12871        */
      609    12872        /*S* SCREECH_CODE:  GHT-S$INT_MBE-A
      610    12873             TYPE:    SCREECH
      611    12874             MESSAGE: LCP6 Trap - Internal Memory or Bus Error
      612    12875        */
      613    12876        /*S* SCREECH_CODE:  GHT-S$S_EXP_UF-A
      614    12877             TYPE:    SCREECH
      615    12878             MESSAGE: LCP6 Trap - SIP Exponent Underflow
      616    12879        */
      617    12880        /*S* SCREECH_CODE:  GHT-S$S_PROG_ERR-A
      618    12881             TYPE:    SCREECH
      619    12882             MESSAGE: LCP6 Trap - SIP Program Error
      620    12883        */
      621    12884        /*S* SCREECH_CODE:  GHT-S$S_SIGNIF-A
      622    12885             TYPE:    SCREECH
      623    12886             MESSAGE: LCP6 Trap - SIP Significance Error
      624    12887        */
      625    12888        /*S* SCREECH_CODE:  GHT-S$S_PRECISION-A
      626    12889             TYPE:    SCREECH
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:50   
      627    12890             MESSAGE: LCP6 Trap - SIP Precision Error
      628    12891        */
      629    12892        /*S* SCREECH_CODE:  GHT-S$EXT_UR-A
      630    12893             TYPE:    SCREECH
      631    12894             MESSAGE: LCP6 Trap - External (CIP or SIP) Unavailable Resource
      632    12895        */
      633    12896        /*S* SCREECH_CODE:  GHT-S$EXT_MBE-A
      634    12897             TYPE:    SCREECH
      635    12898             MESSAGE: LCP6 Trap - External (CIP or SIP) Memory or Bus Error
      636    12899        */
      637    12900        /*S* SCREECH_CODE:  GHT-S$C_DBZ-A
      638    12901             TYPE:    SCREECH
      639    12902             MESSAGE: LCP6 Trap - CIP Divide by Zero
      640    12903        */
      641    12904        /*S* SCREECH_CODE:  GHT-S$C_SPEC-A
      642    12905             TYPE:    SCREECH
      643    12906             MESSAGE: LCP6 Trap - CIP Illegal Specification
      644    12907        */
      645    12908        /*S* SCREECH_CODE:  GHT-S$C_CHAR-A
      646    12909             TYPE:    SCREECH
      647    12910             MESSAGE: LCP6 Trap - CIP Illegal Character
      648    12911        */
      649    12912        /*S* SCREECH_CODE:  GHT-S$C_TRUNC-A
      650    12913             TYPE:    SCREECH
      651    12914             MESSAGE: LCP6 Trap - CIP Truncation
      652    12915        */
      653    12916        /*S* SCREECH_CODE:  GHT-S$C_OV-A
      654    12917             TYPE:    SCREECH
      655    12918             MESSAGE: LCP6 Trap - CIP Overflow
      656    12919        */
      657    12920        /*S* SCREECH_CODE:  GHT-S$CIP_QLT-A
      658    12921             TYPE:    SCREECH
      659    12922             MESSAGE: LCP6 Trap - CIP QLT Fault
      660    12923        */
      661    12924        /*S* SCREECH_CODE:  GHT-S$SIP_QLT-A
      662    12925             TYPE:    SCREECH
      663    12926             MESSAGE: LCP6 Trap - SIP QLT Fault
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:51   
      664    12927        */
      665    12928        /*S* SCREECH_CODE:  GHT-S$EXT_PROT-A
      666    12929             TYPE:    SCREECH
      667    12930             MESSAGE: LCP6 Trap - External Memory Protect Trap.
      668    12931        */
      669    12932        /*S* SCREECH_CODE:  GHT-S$S_ARG-A
      670    12933             TYPE:    SCREECH
      671    12934             MESSAGE: LCP6 Trap - SIP Illegal Argument Trap.
      672    12935        */
      673    12936        /*S* SCREECH_CODE: GHT-S$TSA_OV-A
      674    12937             TYPE: SCREECH
      675    12938             MESSAGE: LCP6 Trap - Trap Save Area Overflow
      676    12939        */
      677    12940    1   END GHB$TRAP1;

PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:52   
--  Include file information  --

   UE_ERRORS_C.:E05TOU  is referenced.
   HF_ERRORS_C.:E05TOU  is referenced.
   J_SCODE_C.:E05TOU  is referenced.
   HF_SCODE_C.:E05TOU  is referenced.
   GH_SCHD_E.:E05TOU  is referenced.
   GU_MACROS_M.:E05TOU  is referenced.
   G_ROS_M.:E05TOU  is referenced.
   GH_SCHD_M.:E05TOU  is referenced.
   G_HJIT_M.:E05TOU  is referenced.
   G_JIT_M.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is never referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure GHB$TRAP1.
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:53   

 **** Variables and constants ****

  ****  Section 000 RoData GHB$TRAP1

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     2-0-0/w STRC(32)    r     1 ENOCONTROL                 0-0-0/w STRC(32)    r     1 ETRAP

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w PTR         r     1 @G$TSA                     A-0-0/w STRC(240)   r     1 ENVTCB_PARAMS
    *0-0-0/w STRC(928)   r     1 G$TSA                      8-0-0/w PTR         r     1 GHT$ECCB$
     7-0-0/w UBIN(16)    r     1 TRAP_IL                    6-0-0/w UBIN(16)    r     1 TRAP_NO

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 G$JIT$                     0-0-0/w PTR         r     1 G$MHJIT$
     0-0-0/w PTR         r     1 G$ROS$                     0-0-0/w PTR         r     1 G$UHJIT$
     0-0-0/w PTR         r     1 G$U_ECCB$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(224)   r     1 G$ECCB                     0-0-0/w STRC(5616)  r     1 G$JIT
     0-0-0/w STRC(27232) r     1 G$MHJIT                    0-0-0/w STRC(928)   r     1 G$ROS
     0-0-0/w STRC(384)   r     1 G$U                        0-0-0/w STRC(224)   r     1 G$UECCB
     0-0-0/w STRC(6480)  r     1 G$UHJIT

PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:54   

   Procedure GHB$TRAP1 requires 310 words for executable code.
   Procedure GHB$TRAP1 requires 28 words of local(AUTO) storage.

    No errors detected in file GHB$TRAP1.:E05TSI    .
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:55   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:56   
          MINI XREF LISTING

ABORT_USER
     12398**LABEL   12415--GOTO
BUILD_TCB
     12488**LABEL   12447--GOTO
ENOCONTROL
     12193**DCL     12414>>ASSIGN
ENVTCB_PARAMS
      1413**DCL     12503<>CALL
ENVTCB_PARAMS.ECC
      1413**DCL     12443<<ASSIGN  12487<<ASSIGN
ENVTCB_PARAMS.ECINFO.ERR
      1499**DCL     12398<<ASSIGN  12400<>CALL    12414<<ASSIGN  12444<<ASSIGN  12475<<ASSIGN  12482<>CALL
ENVTCB_PARAMS.ECINFO.ERR.ERR#
      1526**DCL     12476<<ASSIGN  12476>>ASSIGN
ENVTCB_PARAMS.ECINFO.EVID
      1456**DCL      1474--REDEF    1482--REDEF    1482--REDEF   12499<<ASSIGN
ENVTCB_PARAMS.ECINFO.P#
      1529**DCL     12500<<ASSIGN
ENVTCB_PARAMS.ECINFO.SUBC
      1433**DCL      1433--REDEF    1451--REDEF    1455--REDEF    1455--REDEF   12446<<ASSIGN  12488<<ASSIGN
ENVTCB_PARAMS.ENV$
      1531**DCL     12496<<ASSIGN
ENVTCB_PARAMS.ENVTYPE
      1531**DCL     12498<<ASSIGN
ENVTCB_PARAMS.MOREINFO$
      1531**DCL     12501<<ASSIGN
ENVTCB_PARAMS.P$$
      1413**DCL      1413--REDEF   12445<<ASSIGN  12486<<ASSIGN
ENVTCB_PARAMS.TCB$
      1531**DCL     12497<<ASSIGN
ETRAP
     12145**DCL     12475>>ASSIGN
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:57   
G$ECCB.DBCONTROL$
      2025**DCL     12437>>IF      12445>>ASSIGN
G$ECCB.FLTFLG
      2047**DCL      2078--REDEF
G$ECCB.FLTFLGS
      2078**DCL     12478>>IF
G$ECCB.TRAP$
      2025**DCL     12478>>IF      12486>>ASSIGN
G$JIT.DB#
      1741**DCL     12387>>IF      12429>>IF
G$JIT.ERR
      1648**DCL     12398>>ASSIGN
G$JIT.ERRLOG
      1890**DCL      1893--REDEF
G$JIT.JSUNIT
      1629**DCL      1630--REDEF
G$JIT.JUNK.BYPASSD
      1882**DCL     12430<<ASSIGN
G$JIT.MCLS
      1628**DCL      1628--REDEF
G$JIT.TMRZ
      1897**DCL      1898--REDEF
G$JIT.USER_EXTIME
      1621**DCL      1622--REDEF
G$JIT.USER_MEMTIME
      1624**DCL      1624--REDEF
G$JIT.USER_SVTIME
      1623**DCL      1623--REDEF
G$JIT$
      1539**DCL      1560--IMP-PTR 12387>>IF      12398>>ASSIGN  12429>>IF      12430>>ASSIGN
G$MHJIT.CU$
      8512**DCL     12510>>IF
G$MHJIT.INTCON.HHJIT
      8646**DCL      8646--REDEF
G$MHJIT.INTCON.P$$
      8619**DCL      8619--REDEF
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:58   
G$MHJIT.ISA_BIGFOOT.P$$
      5564**DCL      5564--REDEF
G$MHJIT.ISA_DBINH.P$$
      6778**DCL      6778--REDEF
G$MHJIT.ISA_IDLE.P$$
      3659**DCL      3659--REDEF
G$MHJIT.ISA_LVL10.P$$
      7081**DCL      7081--REDEF
G$MHJIT.ISA_LVL11.P$$
      7384**DCL      7384--REDEF
G$MHJIT.ISA_LVL12.P$$
      7687**DCL      7687--REDEF
G$MHJIT.ISA_LVL5.P$$
      5867**DCL      5867--REDEF
G$MHJIT.ISA_OV.P$$
      5261**DCL      5261--REDEF
G$MHJIT.ISA_PFS.P$$
      4932**DCL      4932--REDEF
G$MHJIT.ISA_RT_CLOCK.P$$
      8294**DCL      8294--REDEF
G$MHJIT.ISA_SATYR_RCV.P$$
      6171**DCL      6171--REDEF
G$MHJIT.ISA_SATYR_TRN.P$$
      6475**DCL      6475--REDEF
G$MHJIT.ISA_SCHD.P$$
      7990**DCL      7990--REDEF
G$MHJIT.ISA_WDOG.P$$
      5040**DCL      5040--REDEF
G$MHJIT.TSA_DB.ISA.P$$
      4262**DCL      4262--REDEF
G$MHJIT.TSA_DB.P$$
      4133**DCL      4133--REDEF    4134--REDEF
G$MHJIT.TSA_HND.ISA.P$$
      8840**DCL      8840--REDEF
G$MHJIT.TSA_HND.P$$
      8711**DCL      8711--REDEF    8712--REDEF
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:59   
G$MHJIT.TSA_MON.ISA.P$$
      3874**DCL      3874--REDEF
G$MHJIT.TSA_MON.P$$
      3745**DCL      3745--REDEF    3746--REDEF
G$MHJIT.TSA_OV.ISA.P$$
      4650**DCL      4650--REDEF
G$MHJIT.TSA_OV.P$$
      4521**DCL      4521--REDEF    4522--REDEF
G$MHJIT$
      1541**DCL      2184--IMP-PTR 12510>>IF
G$ROS.AUTO_DS$
      1983**DCL      1984--REDEF
G$ROS.AUTO_T$
      1984**DCL      1984--REDEF
G$ROS.DB_ECCB$
      1981**DCL     12467>>ASSIGN
G$ROS.U_ECCB$
      1981**DCL     12437>>IF      12445>>ASSIGN  12465>>ASSIGN
G$ROS$
      1543**DCL      1974--IMP-PTR 12437>>IF      12445>>ASSIGN  12465>>ASSIGN  12467>>ASSIGN
G$TSA
      1044**DCL         9--PROC    12468<>CALL    12496--ASSIGN
G$TSA.I
      1066**DCL     12488>>ASSIGN
G$TSA.I.TRAP#
      1068**DCL     12377>>ASSIGN  12427<<ASSIGN
G$TSA.ISA.P$$
      1205**DCL      1205--REDEF
G$TSA.P
      1077**DCL     12457>>IF      12458<<ASSIGN  12458>>ASSIGN
G$TSA.P$$
      1076**DCL      1076--REDEF    1077--REDEF   12409<<ASSIGN
G$TSA.S.LEVEL
      1099**DCL     12378>>ASSIGN
G$TSA.Z.IS
      1075**DCL     12457>>IF      12458>>ASSIGN
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:60   
G$U.ASYNCH
      2162**DCL     12510>>IF
G$U.MISC
      2162**DCL      2162--REDEF
G$UECCB.FLTFLG
      2123**DCL      2154--REDEF
G$UECCB.HAND$
      2103**DCL     12407>>IF      12409>>ASSIGN
G$UHJIT.DMN.ID
     10776**DCL     12464>>IF      12466>>IF
G$UHJIT.ISA_USR
     10481**DCL     10776--REDEF
G$UHJIT.ISA_USR.P$$
     10556**DCL     10556--REDEF
G$UHJIT.TSA_CP.ISA.P$$
     11763**DCL     11763--REDEF
G$UHJIT.TSA_CP.P$$
     11634**DCL     11634--REDEF   11635--REDEF
G$UHJIT.TSA_DB.ISA.P$$
     11375**DCL     11375--REDEF
G$UHJIT.TSA_DB.P$$
     11246**DCL     11246--REDEF   11247--REDEF
G$UHJIT.TSA_RTT.P$$
     12009**DCL     12009--REDEF   12010--REDEF
G$UHJIT.TSA_USR.ISA.P$$
     10965**DCL     10965--REDEF
G$UHJIT.TSA_USR.P$$
     10836**DCL     10836--REDEF   10837--REDEF
G$UHJIT$
      1542**DCL      9058--IMP-PTR 12464>>IF      12466>>IF
G$U_ECCB$
      1540**DCL      2094--IMP-PTR 12407>>IF      12409>>ASSIGN
GHT$ECCB$
      1409**DCL     12465<<ASSIGN  12467<<ASSIGN  12478>>IF      12478>>IF      12486>>ASSIGN
GIR$SCREECH
     12021**DCL-ENT 12468--CALL
PL6.E3A0      #001=GHB$TRAP1 File=GHB$TRAP1.:E05TSI                              TUE 07/29/97 21:33 Page:61   
GJS$ABORTM
     12018**DCL-ENT 12482--CALL
GJS$ABORTX
     12019**DCL-ENT 12400--CALL
GJU$GET_DB
     12020**DCL-ENT 12512--CALL
GUE$ENVTCB
     12017**DCL-ENT 12503--CALL
TCB_FULL
     12478**LABEL   12503--CALLALT
TRAP_IL
      1408**DCL     12378<<ASSIGN
TRAP_NO
      1407**DCL     12377<<ASSIGN  12385>>IF      12385>>IF      12394>>IF      12405<<ASSIGN  12405>>ASSIGN
     12407>>IF      12409>>ASSIGN  12425>>IF      12425>>IF      12437>>IF      12437>>IF      12437>>IF
     12437>>IF      12476>>ASSIGN  12478>>IF

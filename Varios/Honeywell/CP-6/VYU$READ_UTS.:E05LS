VERSION E05

PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:1    
        1        1        /*T***********************************************************/
        2        2        /*T*                                                         */
        3        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        4        4        /*T*                                                         */
        5        5        /*T***********************************************************/
        6        6        /*X* DMR,PLM=6,IND=4,CSU=4,EXM=0,ECU=4,MOC,DCI=4,CRT=4,CTI=8,CCC */
        7        7        VYU$READ_UTS:
        8        8              PROC( DCB#, START$, STOP$, UTS_SIZE )                    ALTRET;
        9        9        %INCLUDE VY_INC_C;
       10     9185        %VY$UTS;

              9198    1   /*******************************************************************************
              9199    1   *                                                                              *
              9200    1   *                          VY$UTS                                                 *
              9201    1   *                                                                              *
              9202    1   *******************************************************************************/

              9207    1   DCL 1 VY$UTS           BASED,
              9208    1         2 I,
              9209    1           3 LEMUR    UBIN(36) ALIGNED,
              9210    1           3 COMPILER UBIN(36) ALIGNED,
              9211    1         2 A(0:1) REDEF I UBIN(36);
       11     9214        %P;

              9222    1   /*******************************************************************************
              9223    1   *                                                                              *
              9224    1   *                          PARAMETERS                                              *
              9225    1   *                                                                              *
              9226    1   *******************************************************************************/

       12     9230    1   DCL DCB#       UBIN(36)  ALIGNED;
       13     9231    1   DCL START$          PTR  ALIGNED;
       14     9232    1   DCL STOP$           PTR  ALIGNED;
       15     9233    1   DCL UTS_SIZE        UBIN(36)  ALIGNED;
       16     9234        %E;

              9242    1   /*******************************************************************************
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:2    
              9243    1   *                                                                              *
              9244    1   *                          ENTRY                                                 *
              9245    1   *                                                                              *
              9246    1   *******************************************************************************/

       17     9250    1   DCL VYA$GET         ENTRY(3);
       18     9251    1   DCL VYF$FREE        ENTRY(3);
       19     9252    1   DCL VYI$READ        ENTRY(5)  ALTRET;
       20     9253    1   DCL VYI$WRITE       ENTRY(5)  ALTRET;
       21     9254        %PTR;

              9262    1   /*******************************************************************************
              9263    1   *                                                                              *
              9264    1   *                          PTR                                                 *
              9265    1   *                                                                              *
              9266    1   *******************************************************************************/

       22     9270    1   DCL P$         PTR  ALIGNED   STATIC/*AUTO*/;
       23     9271    1   DCL WHERE$     PTR  ALIGNED   STATIC/*AUTO*/;
       24     9272        %U;

              9280    1   /*******************************************************************************
              9281    1   *                                                                              *
              9282    1   *                          UBIN                                                 *
              9283    1   *                                                                              *
              9284    1   *******************************************************************************/

       25     9288    1   DCL FIRST_SIZE UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       26     9289    1   DCL DIFF       UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       27     9290        %S;

              9298    1   /*******************************************************************************
              9299    1   *                                                                              *
              9300    1   *                          SBIN                                                 *
              9301    1   *                                                                              *
              9302    1   *******************************************************************************/

PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:3    
       28     9306    1   DCL SIZE       SBIN WORD  ALIGNED   STATIC/*AUTO*/;
       29     9307        %EJECT;
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:4    
       30     9308        /**/
       31     9309        /**/
       32     9310    1         VY_O_KEY_BUF = VY_O_KEY_UTS;
       33     9311    1         SIZE = 0;
       34     9312    1         FIRST_SIZE = 512 * SIZEW( VY$UTS );
       35     9313              %ALLOCATE(
       36     9314              PTR$ = WHERE$,
       37     9315              TYPE = @UTS_DS,
       38     9316              SIZE = FIRST_SIZE );
       39     9323    1   GO_AGAIN:
       40     9324    1         SIZE = SIZE + FIRST_SIZE;
       41     9325    1         CALL VYI$READ(      DCB#,
       42     9326    1                 WHERE$,
       43     9327    1                 SIZE,
       44     9328    1                 0/*@OF*/, '1'B )                         ALTRET(NONE);
       45     9329    1         IF VY_IO_STATUS = 2/*@IO_LD*/ THEN GOTO LOST_DATA;
       46     9330    1         STOP$ = PINCRW( WHERE$, VY_IO_SIZEW - SIZEW( VY$UTS ) );
       47     9331    1         START$ = WHERE$;
       48     9332    1         UTS_SIZE = VY_IO_SIZEW + SIZEW( VY$UTS );
       49     9333    1         SIZE = SIZE - UTS_SIZE;
       50     9334    2         IF SIZE > 0 THEN DO;
       51     9335    2             CALL VYF$FREE( 8/*@UTS_DS*/, SIZE, 0 );
       52     9336    2            END;
       53     9337    2         ELSE DO;
       54     9338    3             IF SIZE < 0 THEN DO;
       55     9339    3                 DIFF = - SIZE;
       56     9340                      %ALLOCATE(
       57     9341                      PTR$=P$,
       58     9342                      TYPE=@UTS_DS,
       59     9343                      SIZE=DIFF);
       60     9350    3                END;                       /* If size < 0 then do; */
       61     9351    2            END;                           /* Else do; */
       62     9352    1         RETURN;
       63     9353        /**/
       64     9354        /**/
       65     9355    1   NONE:
       66     9356    2         DO CASE( VY_IO_STATUS );
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:5    
       67     9357    2         CASE( 0/*@IO_EOF*/,
       68     9358    2                 1/*@IO_NOKEY*/ );
       69     9359    2             CALL VYF$FREE( 8/*@UTS_DS*/, SIZE, 0 );
       70     9360    2             ALTRETURN;
       71     9361    2         CASE( 2/*@IO_LD*/ );
       72     9362    2   LOST_DATA:
       73     9363                  %ALLOCATE(
       74     9364                  PTR$ = P$,
       75     9365                  TYPE = @UTS_DS,
       76     9366                  SIZE = FIRST_SIZE );
       77     9373    2             GOTO GO_AGAIN;
       78     9374    2         END;                              /* Do case( VY_IO_STATUS ); */
       79     9375        %EJECT;
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:6    
       80     9376    1   VYU$WRITE_UTS:
       81     9377    1         ENTRY( DCB#, START$, STOP$, UTS_SIZE ) ALTRET;
       82     9378    1         VY_O_KEY_BUF = VY_O_KEY_UTS;
       83     9379    1         SIZE = POFFW( STOP$, START$ ) + SIZEW( VY$UTS );
       84     9380    1         CALL VYI$WRITE(     DCB#,
       85     9381    1                 START$,
       86     9382    1                 SIZE,
       87     9383    1                 0/*@OF*/,
       88     9384    1                 '1'B );
       89     9385    1         CALL VYF$FREE( 8/*@UTS_DS*/, UTS_SIZE, 0 );
       90     9386    1   END;

PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:7    
--  Include file information  --

   B$OBJECT_C.:E05TOU  is referenced.
   VY_DCB_R.:E05TOU  cannot be made into a system file and is referenced.
   VY_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   VY_FIXED_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   VY_MACRO_C.:E05TOU  is referenced.
   VY_PERR_C.:E05TOU  is referenced.
   VY_SUBS_C.:E05TOU  is referenced.
   VY_INC_NO_C.:E05TOU  is referenced.
   VY_SWITCH_C.:E05TOU  is referenced.
   VY_INC_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure VYU$READ_UTS.

   Procedure VYU$READ_UTS requires 152 words for executable code.
   Procedure VYU$READ_UTS requires 14 words of local(AUTO) storage.

    No errors detected in file VYU$READ_UTS.:E05TSI    .

PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:8    

 Object Unit name= VYU$READ_UTS                               File name= VYU$READ_UTS.:E05TOU
 UTS= JUL 30 '97 09:05:37.00 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none     5      5  VYU$READ_UTS
    2   Proc  even  none   152    230  VYU$READ_UTS
    3  RoData even  none    15     17  VYU$READ_UTS

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes    yes     yes      Std        4  VYU$READ_UTS
     2    164          yes     yes      Std        4  VYU$WRITE_UTS

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       3 VYA$GET
 yes     yes           Std       5 VYI$READ
 yes     yes           Std       5 VYI$WRITE
         yes           Std       3 VYF$FREE
                       nStd      0 X66_AUTO_4
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:9    

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  VY_O_KEY_BUF                          VY_ERRORS
     VY_M_FREE                             VY_M_ALL                              VY_M_BASE_PTR
     VY_IO_STATUS                          VY_IO_SIZEW                           VY_PAR_UNWIND
r    VY_O_KEY_UTS                          B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:10   


        1        1        /*T***********************************************************/
        2        2        /*T*                                                         */
        3        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        4        4        /*T*                                                         */
        5        5        /*T***********************************************************/
        6        6        /*X* DMR,PLM=6,IND=4,CSU=4,EXM=0,ECU=4,MOC,DCI=4,CRT=4,CTI=8,CCC */
        7        7        VYU$READ_UTS:
        8        8              PROC( DCB#, START$, STOP$, UTS_SIZE )                    ALTRET;

      8  2 000000   000000 700200 xent  VYU$READ_UTS TSX0  ! X66_AUTO_4
         2 000001   000016 000004                    ZERO    14,4

        9        9        %INCLUDE VY_INC_C;
       10     9185        %VY$UTS;

              9198    1   /*******************************************************************************
              9199    1   *                                                                              *
              9200    1   *                          VY$UTS                                                 *
              9201    1   *                                                                              *
              9202    1   *******************************************************************************/

              9207    1   DCL 1 VY$UTS           BASED,
              9208    1         2 I,
              9209    1           3 LEMUR    UBIN(36) ALIGNED,
              9210    1           3 COMPILER UBIN(36) ALIGNED,
              9211    1         2 A(0:1) REDEF I UBIN(36);
       11     9214        %P;

              9222    1   /*******************************************************************************
              9223    1   *                                                                              *
              9224    1   *                          PARAMETERS                                             *
              9225    1   *                                                                              *
              9226    1   *******************************************************************************/

       12     9230    1   DCL DCB#       UBIN(36)  ALIGNED;
       13     9231    1   DCL START$          PTR  ALIGNED;
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:11   
       14     9232    1   DCL STOP$           PTR  ALIGNED;
       15     9233    1   DCL UTS_SIZE        UBIN(36)  ALIGNED;
       16     9234        %E;

              9242    1   /*******************************************************************************
              9243    1   *                                                                              *
              9244    1   *                          ENTRY                                                 *
              9245    1   *                                                                              *
              9246    1   *******************************************************************************/

       17     9250    1   DCL VYA$GET         ENTRY(3);
       18     9251    1   DCL VYF$FREE        ENTRY(3);
       19     9252    1   DCL VYI$READ        ENTRY(5)  ALTRET;
       20     9253    1   DCL VYI$WRITE       ENTRY(5)  ALTRET;
       21     9254        %PTR;

              9262    1   /*******************************************************************************
              9263    1   *                                                                              *
              9264    1   *                          PTR                                                 *
              9265    1   *                                                                              *
              9266    1   *******************************************************************************/

       22     9270    1   DCL P$         PTR  ALIGNED   STATIC/*AUTO*/;
       23     9271    1   DCL WHERE$     PTR  ALIGNED   STATIC/*AUTO*/;
       24     9272        %U;

              9280    1   /*******************************************************************************
              9281    1   *                                                                              *
              9282    1   *                          UBIN                                                 *
              9283    1   *                                                                              *
              9284    1   *******************************************************************************/

       25     9288    1   DCL FIRST_SIZE UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       26     9289    1   DCL DIFF       UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       27     9290        %S;

              9298    1   /*******************************************************************************
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:12   
              9299    1   *                                                                              *
              9300    1   *                          SBIN                                                 *
              9301    1   *                                                                              *
              9302    1   *******************************************************************************/

       28     9306    1   DCL SIZE       SBIN WORD  ALIGNED   STATIC/*AUTO*/;
       29     9307        %EJECT;
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:13   
       30     9308        /**/
       31     9309        /**/
       32     9310    1         VY_O_KEY_BUF = VY_O_KEY_UTS;

   9310  2 000002   000000 100400                    MLR     fill='000'O
         2 000003   000000 000003 xsym               ADSC9   VY_O_KEY_UTS             cn=0,n=3
         2 000004   000000 001001 xsym               ADSC9   VY_O_KEY_BUF             cn=0,n=513

       33     9311    1         SIZE = 0;

   9311  2 000005   000004 450000 1                  STZ     SIZE

       34     9312    1         FIRST_SIZE = 512 * SIZEW( VY$UTS );

   9312  2 000006   002000 235007                    LDA     1024,DL
         2 000007   000002 755000 1                  STA     FIRST_SIZE

       35     9313              %ALLOCATE(
       36     9314              PTR$ = WHERE$,
       37     9315              TYPE = @UTS_DS,
       38     9316              SIZE = FIRST_SIZE );

   9317  2 000010   000010 236000 xsym               LDQ     VY_M_ALL+8
         2 000011   000010 136000 xsym               SBLQ    VY_M_FREE+8
         2 000012   000025 604000 2                  TMI     s:9321
         2 000013   000002 116000 1                  CMPQ    FIRST_SIZE
         2 000014   000025 602000 2                  TNC     s:9321

   9318  2 000015   000010 236000 xsym               LDQ     VY_M_FREE+8
         2 000016   000022 736000                    QLS     18
         2 000017   000010 036000 xsym               ADLQ    VY_M_BASE_PTR+8
         2 000020   000001 756000 1                  STQ     WHERE$

   9319  2 000021   000010 236000 xsym               LDQ     VY_M_FREE+8
         2 000022   000002 036000 1                  ADLQ    FIRST_SIZE
         2 000023   000010 756000 xsym               STQ     VY_M_FREE+8

PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:14   
   9320  2 000024   000031 710000 2                  TRA     GO_AGAIN

   9321  2 000025   000000 630400 3                  EPPR0   0
         2 000026   000021 631400 xsym               EPPR1   B_VECTNIL+17
         2 000027   000000 701000 xent               TSX1    VYA$GET
         2 000030   000000 011000                    NOP     0

       39     9323    1   GO_AGAIN:
       40     9324    1         SIZE = SIZE + FIRST_SIZE;

   9324  2 000031   000004 236000 1     GO_AGAIN     LDQ     SIZE
         2 000032   000002 036000 1                  ADLQ    FIRST_SIZE
         2 000033   000004 756000 1                  STQ     SIZE

       41     9325    1         CALL VYI$READ(      DCB#,

   9325  2 000034   000003 236000 3                  LDQ     3
         2 000035   200014 756100                    STQ     @UTS_SIZE+6,,AUTO
         2 000036   000004 237000 3                  LDAQ    4
         2 000037   200012 757100                    STAQ    @UTS_SIZE+4,,AUTO
         2 000040   000000 236000 3                  LDQ     0
         2 000041   200003 235100                    LDA     @DCB#,,AUTO
         2 000042   200010 757100                    STAQ    @UTS_SIZE+2,,AUTO
         2 000043   200010 630500                    EPPR0   @UTS_SIZE+2,,AUTO
         2 000044   000023 631400 xsym               EPPR1   B_VECTNIL+19
         2 000045   000000 701000 xent               TSX1    VYI$READ
         2 000046   000125 702000 2                  TSX2    NONE

       42     9326    1                 WHERE$,
       43     9327    1                 SIZE,
       44     9328    1                 0/*@OF*/, '1'B )                         ALTRET(NONE);
       45     9329    1         IF VY_IO_STATUS = 2/*@IO_LD*/ THEN GOTO LOST_DATA;

   9329  2 000047   000000 235000 xsym               LDA     VY_IO_STATUS
         2 000050   000002 115007                    CMPA    2,DL
         2 000051   000141 600000 2                  TZE     LOST_DATA

PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:15   
       46     9330    1         STOP$ = PINCRW( WHERE$, VY_IO_SIZEW - SIZEW( VY$UTS ) );

   9330  2 000052   000000 236000 xsym               LDQ     VY_IO_SIZEW
         2 000053   000022 736000                    QLS     18
         2 000054   000002 136003                    SBLQ    2,DU
         2 000055   000001 036000 1                  ADLQ    WHERE$
         2 000056   200005 470500                    LDP0    @STOP$,,AUTO
         2 000057   000000 756100                    STQ     0,,PR0

       47     9331    1         START$ = WHERE$;

   9331  2 000060   000001 236000 1                  LDQ     WHERE$
         2 000061   200004 471500                    LDP1    @START$,,AUTO
         2 000062   100000 756100                    STQ     0,,PR1

       48     9332    1         UTS_SIZE = VY_IO_SIZEW + SIZEW( VY$UTS );

   9332  2 000063   000000 235000 xsym               LDA     VY_IO_SIZEW
         2 000064   000002 035007                    ADLA    2,DL
         2 000065   200006 473500                    LDP3    @UTS_SIZE,,AUTO
         2 000066   300000 755100                    STA     0,,PR3

       49     9333    1         SIZE = SIZE - UTS_SIZE;

   9333  2 000067   000004 236000 1                  LDQ     SIZE
         2 000070   300000 136100                    SBLQ    0,,PR3
         2 000071   000004 756000 1                  STQ     SIZE

       50     9334    2         IF SIZE > 0 THEN DO;

   9334  2 000072   000100 604400 2                  TMOZ    s:9338

       51     9335    2             CALL VYF$FREE( 8/*@UTS_DS*/, SIZE, 0 );

   9335  2 000073   000006 630400 3                  EPPR0   6
         2 000074   000021 631400 xsym               EPPR1   B_VECTNIL+17
         2 000075   000000 701000 xent               TSX1    VYF$FREE
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:16   
         2 000076   000000 011000                    NOP     0

       52     9336    2            END;

   9336  2 000077   000124 710000 2                  TRA     s:9352

       53     9337    2         ELSE DO;

       54     9338    3             IF SIZE < 0 THEN DO;

   9338  2 000100   000124 605000 2                  TPL     s:9352

       55     9339    3                 DIFF = - SIZE;

   9339  2 000101   000004 335000 1                  LCA     SIZE
         2 000102   000003 755000 1                  STA     DIFF

       56     9340                      %ALLOCATE(
       57     9341                      PTR$=P$,
       58     9342                      TYPE=@UTS_DS,
       59     9343                      SIZE=DIFF);

   9344  2 000103   000010 236000 xsym               LDQ     VY_M_ALL+8
         2 000104   000010 136000 xsym               SBLQ    VY_M_FREE+8
         2 000105   000120 604000 2                  TMI     s:9348
         2 000106   000003 116000 1                  CMPQ    DIFF
         2 000107   000120 602000 2                  TNC     s:9348

   9345  2 000110   000010 236000 xsym               LDQ     VY_M_FREE+8
         2 000111   000022 736000                    QLS     18
         2 000112   000010 036000 xsym               ADLQ    VY_M_BASE_PTR+8
         2 000113   000000 756000 1                  STQ     P$

   9346  2 000114   000010 236000 xsym               LDQ     VY_M_FREE+8
         2 000115   000003 036000 1                  ADLQ    DIFF
         2 000116   000010 756000 xsym               STQ     VY_M_FREE+8

PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:17   
   9347  2 000117   000124 710000 2                  TRA     s:9352

   9348  2 000120   000011 630400 3                  EPPR0   9
         2 000121   000021 631400 xsym               EPPR1   B_VECTNIL+17
         2 000122   000000 701000 xent               TSX1    VYA$GET
         2 000123   000000 011000                    NOP     0

       60     9350    3                END;                       /* If size < 0 then do; */

       61     9351    2            END;                           /* Else do; */

       62     9352    1         RETURN;

   9352  2 000124   000000 702200 xent               TSX2  ! X66_ARET

       63     9353        /**/
       64     9354        /**/
       65     9355    1   NONE:
       66     9356    2         DO CASE( VY_IO_STATUS );

   9356  2 000125   000000 235000 xsym  NONE         LDA     VY_IO_STATUS
         2 000126   000003 115007                    CMPA    3,DL
         2 000127   000131 602005 2                  TNC     NONE+4,AL
         2 000130   000163 710000 2                  TRA     s:9374
         2 000131   000134 710000 2                  TRA     s:9359
         2 000132   000134 710000 2                  TRA     s:9359
         2 000133   000141 710000 2                  TRA     LOST_DATA

       67     9357    2         CASE( 0/*@IO_EOF*/,

       68     9358    2                 1/*@IO_NOKEY*/ );
       69     9359    2             CALL VYF$FREE( 8/*@UTS_DS*/, SIZE, 0 );

   9359  2 000134   000006 630400 3                  EPPR0   6
         2 000135   000021 631400 xsym               EPPR1   B_VECTNIL+17
         2 000136   000000 701000 xent               TSX1    VYF$FREE
         2 000137   000000 011000                    NOP     0
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:18   

       70     9360    2             ALTRETURN;

   9360  2 000140   000000 702200 xent               TSX2  ! X66_AALT

       71     9361    2         CASE( 2/*@IO_LD*/ );

       72     9362    2   LOST_DATA:
       73     9363                  %ALLOCATE(
       74     9364                  PTR$ = P$,
       75     9365                  TYPE = @UTS_DS,
       76     9366                  SIZE = FIRST_SIZE );

   9367  2 000141   000010 236000 xsym  LOST_DATA    LDQ     VY_M_ALL+8
         2 000142   000010 136000 xsym               SBLQ    VY_M_FREE+8
         2 000143   000156 604000 2                  TMI     s:9371
         2 000144   000002 116000 1                  CMPQ    FIRST_SIZE
         2 000145   000156 602000 2                  TNC     s:9371

   9368  2 000146   000010 236000 xsym               LDQ     VY_M_FREE+8
         2 000147   000022 736000                    QLS     18
         2 000150   000010 036000 xsym               ADLQ    VY_M_BASE_PTR+8
         2 000151   000000 756000 1                  STQ     P$

   9369  2 000152   000010 236000 xsym               LDQ     VY_M_FREE+8
         2 000153   000002 036000 1                  ADLQ    FIRST_SIZE
         2 000154   000010 756000 xsym               STQ     VY_M_FREE+8

   9370  2 000155   000162 710000 2                  TRA     s:9373

   9371  2 000156   000014 630400 3                  EPPR0   12
         2 000157   000021 631400 xsym               EPPR1   B_VECTNIL+17
         2 000160   000000 701000 xent               TSX1    VYA$GET
         2 000161   000000 011000                    NOP     0

       77     9373    2             GOTO GO_AGAIN;

PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:19   
   9373  2 000162   000031 710000 2                  TRA     GO_AGAIN

       78     9374    2         END;                              /* Do case( VY_IO_STATUS ); */

   9374  2 000163   000166 710000 2                  TRA     s:9378

       79     9375        %EJECT;
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:20   
       80     9376    1   VYU$WRITE_UTS:
       81     9377    1         ENTRY( DCB#, START$, STOP$, UTS_SIZE ) ALTRET;

   9377  2 000164   000000 700200 xent  VYU$WRITE_U* TSX0  ! X66_AUTO_4
         2 000165   000016 000004                    ZERO    14,4

       82     9378    1         VY_O_KEY_BUF = VY_O_KEY_UTS;

   9378  2 000166   000000 100400                    MLR     fill='000'O
         2 000167   000000 000003 xsym               ADSC9   VY_O_KEY_UTS             cn=0,n=3
         2 000170   000000 001001 xsym               ADSC9   VY_O_KEY_BUF             cn=0,n=513

       83     9379    1         SIZE = POFFW( STOP$, START$ ) + SIZEW( VY$UTS );

   9379  2 000171   200004 470500                    LDP0    @START$,,AUTO
         2 000172   000000 236100                    LDQ     0,,PR0
         2 000173   000022 772000                    QRL     18
         2 000174   200010 756100                    STQ     @UTS_SIZE+2,,AUTO
         2 000175   200005 471500                    LDP1    @STOP$,,AUTO
         2 000176   100000 236100                    LDQ     0,,PR1
         2 000177   000022 772000                    QRL     18
         2 000200   200010 136100                    SBLQ    @UTS_SIZE+2,,AUTO
         2 000201   000002 036007                    ADLQ    2,DL
         2 000202   000004 756000 1                  STQ     SIZE

       84     9380    1         CALL VYI$WRITE(     DCB#,

   9380  2 000203   000003 236000 3                  LDQ     3
         2 000204   200014 756100                    STQ     @UTS_SIZE+6,,AUTO
         2 000205   000004 237000 3                  LDAQ    4
         2 000206   200012 757100                    STAQ    @UTS_SIZE+4,,AUTO
         2 000207   200004 236100                    LDQ     @START$,,AUTO
         2 000210   200003 235100                    LDA     @DCB#,,AUTO
         2 000211   200010 757100                    STAQ    @UTS_SIZE+2,,AUTO
         2 000212   200010 630500                    EPPR0   @UTS_SIZE+2,,AUTO
         2 000213   000023 631400 xsym               EPPR1   B_VECTNIL+19
         2 000214   000000 701000 xent               TSX1    VYI$WRITE
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:21   
         2 000215   000000 011000                    NOP     0

       85     9381    1                 START$,
       86     9382    1                 SIZE,
       87     9383    1                 0/*@OF*/,
       88     9384    1                 '1'B );
       89     9385    1         CALL VYF$FREE( 8/*@UTS_DS*/, UTS_SIZE, 0 );

   9385  2 000216   000005 236000 3                  LDQ     5
         2 000217   200012 756100                    STQ     @UTS_SIZE+4,,AUTO
         2 000220   200006 236100                    LDQ     @UTS_SIZE,,AUTO
         2 000221   000001 235000 3                  LDA     1
         2 000222   200010 757100                    STAQ    @UTS_SIZE+2,,AUTO
         2 000223   200010 630500                    EPPR0   @UTS_SIZE+2,,AUTO
         2 000224   000021 631400 xsym               EPPR1   B_VECTNIL+17
         2 000225   000000 701000 xent               TSX1    VYF$FREE
         2 000226   000000 011000                    NOP     0

       90     9386    1   END;

   9386  2 000227   000000 702200 xent               TSX2  ! X66_ARET

PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:22   
--  Include file information  --

   B$OBJECT_C.:E05TOU  is referenced.
   VY_DCB_R.:E05TOU  cannot be made into a system file and is referenced.
   VY_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   VY_FIXED_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   VY_MACRO_C.:E05TOU  is referenced.
   VY_PERR_C.:E05TOU  is referenced.
   VY_SUBS_C.:E05TOU  is referenced.
   VY_INC_NO_C.:E05TOU  is referenced.
   VY_SWITCH_C.:E05TOU  is referenced.
   VY_INC_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure VYU$READ_UTS.
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:23   

 **** Variables and constants ****

  ****  Section 001  Data  VYU$READ_UTS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w UBIN        r     1 DIFF                       2-0-0/w UBIN        r     1 FIRST_SIZE
     0-0-0/w PTR         r     1 P$                         4-0-0/w SBIN        r     1 SIZE
     1-0-0/w PTR         r     1 WHERE$

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @DCB#                      4-0-0/w PTR         r     1 @START$
     5-0-0/w PTR         r     1 @STOP$                     6-0-0/w PTR         r     1 @UTS_SIZE
    *0-0-0/w UBIN        r     1 DCB#                      *0-0-0/w PTR         r     1 START$
    *0-0-0/w PTR         r     1 STOP$                     *0-0-0/w UBIN        r     1 UTS_SIZE

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 VY_IO_SIZEW                0-0-0/w SBIN        r     1 VY_IO_STATUS
     0-0-0/w SBIN        r     1 VY_M_ALL(0:8)
     0-0-0/w PTR         r     1 VY_M_BASE_PTR(0:8)
     0-0-0/w SBIN        r     1 VY_M_FREE(0:8)
     0-0-0/w STRC(4617)  r     1 VY_O_KEY_BUF               0-0-0/w STRC(27)    r     1 VY_O_KEY_UTS

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:24   
     0-0-0/w STRC(72)    r     1 VY$UTS


   Procedure VYU$READ_UTS requires 152 words for executable code.
   Procedure VYU$READ_UTS requires 14 words of local(AUTO) storage.

    No errors detected in file VYU$READ_UTS.:E05TSI    .
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:25   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:26   
          MINI XREF LISTING

DCB#
      9230**DCL         7--PROC     9325<>CALL     9376--ENTRY    9380<>CALL
DIFF
      9289**DCL      9339<<ASSIGN   9344>>IF       9346>>ASSIGN   9348<>CALL
FIRST_SIZE
      9288**DCL      9312<<ASSIGN   9317>>IF       9319>>ASSIGN   9321<>CALL     9324>>ASSIGN   9367>>IF
      9369>>ASSIGN   9371<>CALL
GO_AGAIN
      9324**LABEL    9373--GOTO
LOST_DATA
      9367**LABEL    9329--GOTO
NONE
      9356**LABEL    9325--CALLALT
P$
      9270**DCL      9345<<ASSIGN   9348<>CALL     9368<<ASSIGN   9371<>CALL
SIZE
      9306**DCL      9311<<ASSIGN   9324<<ASSIGN   9324>>ASSIGN   9325<>CALL     9333<<ASSIGN   9333>>ASSIGN
      9334>>IF       9335<>CALL     9338>>IF       9339>>ASSIGN   9359<>CALL     9379<<ASSIGN   9380<>CALL
START$
      9231**DCL         7--PROC     9331<<ASSIGN   9376--ENTRY    9379>>ASSIGN   9380<>CALL
STOP$
      9232**DCL         7--PROC     9330<<ASSIGN   9376--ENTRY    9379>>ASSIGN
UTS_SIZE
      9233**DCL         7--PROC     9332<<ASSIGN   9333>>ASSIGN   9376--ENTRY    9385<>CALL
VY$UTS
      9207**DCL      9312--ASSIGN   9330--ASSIGN   9332--ASSIGN   9379--ASSIGN
VY$UTS.I
      9208**DCL      9211--REDEF
VYA$GET
      9250**DCL-ENT  9321--CALL     9348--CALL     9371--CALL
VYF$FREE
      9251**DCL-ENT  9335--CALL     9359--CALL     9385--CALL
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:27   
VYI$READ
      9252**DCL-ENT  9325--CALL
VYI$WRITE
      9253**DCL-ENT  9380--CALL
VY_BIAS.A
      5385**DCL      5385--REDEF
VY_CBUF.CHARS_A
      5376**DCL      5376--REDEF
VY_EBUF.CHARS_A
      5677**DCL      5678--REDEF
VY_EFIELD1.CHARS
      5678**DCL      5678--REDEF
VY_EFIELD2.CHARS
      5679**DCL      5679--REDEF
VY_EFIELD3.CHARS
      5680**DCL      5680--REDEF
VY_ERRORS
      5381**DCL      5383--REDEF
VY_ERRORS.CONFLICT_A
      5382**DCL      5383--REDEF
VY_ERRORS.UNSAT_A
      5381**DCL      5382--REDEF
VY_IMAGE_DATA.CPAGE#_A
      5269**DCL      5270--REDEF
VY_IMAGE_DATA.NODE_A$
      5281**DCL      5282--REDEF
VY_IMAGE_DATA.START_A$
      5273**DCL      5274--REDEF
VY_IMAGE_DATA.STOP_A$
      5277**DCL      5278--REDEF
VY_IMAGE_PROC.CPAGE#_A
      5292**DCL      5293--REDEF
VY_IMAGE_PROC.NODE_A$
      5304**DCL      5305--REDEF
VY_IMAGE_PROC.START_A$
      5296**DCL      5297--REDEF
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:28   
VY_IMAGE_PROC.STOP_A$
      5300**DCL      5301--REDEF
VY_IMAGE_ROS.CPAGE#_A
      5315**DCL      5316--REDEF
VY_IMAGE_ROS.NODE_A$
      5327**DCL      5328--REDEF
VY_IMAGE_ROS.START_A$
      5319**DCL      5320--REDEF
VY_IMAGE_ROS.STOP_A$
      5323**DCL      5324--REDEF
VY_IO_SIZEW
      5683**DCL      9330>>ASSIGN   9332>>ASSIGN
VY_IO_STATUS
      5683**DCL      9329>>IF       9356>>DOCASE
VY_MAP_HDR.CHARS
      5742**DCL      5743--REDEF    5743--REDEF
VY_MAP_LIT_LO_FPT_WRITE.STATION_
      5071**DCL      5071--REDEF
VY_MAP_LIT_LO_FPT_WRITE.V.DVBYTE.VFC#
      5078**DCL      5078--REDEF
VY_MAP_LO_FPT_WRITE.STATION_
      5040**DCL      5040--REDEF
VY_MAP_LO_FPT_WRITE.V.DVBYTE.VFC#
      5047**DCL      5047--REDEF
VY_MBUF.CHARS
      5741**DCL      5742--REDEF    5742--REDEF
VY_M_ALL
      5386**DCL      9317>>IF       9344>>IF       9367>>IF
VY_M_BASE_PTR
      5387**DCL      9318>>ASSIGN   9345>>ASSIGN   9368>>ASSIGN
VY_M_FREE
      5386**DCL      9317>>IF       9318>>ASSIGN   9319<<ASSIGN   9319>>ASSIGN   9344>>IF       9345>>ASSIGN
      9346<<ASSIGN   9346>>ASSIGN   9367>>IF       9368>>ASSIGN   9369<<ASSIGN   9369>>ASSIGN
VY_M_VECTOR.F
      5110**DCL      5114--REDEF
VY_M_VECTOR_DP.F
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:29   
      5145**DCL      5149--REDEF
VY_O.DUPL_ATTCH
      5523**DCL      5527--REDEF
VY_O.MAP_ATTCH
      5511**DCL      5522--REDEF
VY_O.PRIMARY_OPTION
      5505**DCL      5510--REDEF
VY_O.SEV_ATTCH
      5528**DCL      5530--REDEF
VY_OD.DUPL_ATTCH
      5667**DCL      5671--REDEF
VY_OD.MAP_ATTCH
      5655**DCL      5666--REDEF
VY_OD.PRIMARY_OPTION
      5649**DCL      5654--REDEF
VY_OD.SEV_ATTCH
      5672**DCL      5674--REDEF
VY_OL_KEY_BUF.FORM0
      5178**DCL      5181--REDEF    5188--REDEF
VY_OU_HEAD.REC_A
      5366**DCL      5367--REDEF
VY_O_KEY_BUF
      5154**DCL      9310<<ASSIGN   9378<<ASSIGN
VY_O_KEY_BUF.FORM0
      5155**DCL      5158--REDEF    5165--REDEF
VY_O_KEY_BUF_L.FORM0
      5201**DCL      5204--REDEF    5211--REDEF
VY_O_KEY_UTS
      5738**DCL      9310>>ASSIGN   9378>>ASSIGN
VY_PAR_UNWIND
      5736**DCL      5736--REDEF
VY_PASS2_REF.OU.L_START
      5703**DCL      5704--REDEF
VY_PASS2_REF.OU.L_STOP
      5704**DCL      5705--REDEF
VY_PASS2_REF.OU.MAX
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:30   
      5702**DCL      5703--REDEF
VY_PASS2_REF.OU.SIZE
      5705**DCL      5706--REDEF
VY_PASS2_REF.SAT.COUNT
      5709**DCL      5710--REDEF
VY_PASS2_REF.SAT.ENT_SIZE
      5711**DCL      5712--REDEF
VY_PASS2_REF.SAT.L_START
      5707**DCL      5708--REDEF
VY_PASS2_REF.SAT.L_STOP
      5708**DCL      5709--REDEF
VY_PASS2_REF.SAT.MAX
      5706**DCL      5707--REDEF
VY_PASS2_REF.UNSAT.L_START
      5713**DCL      5714--REDEF
VY_PASS2_REF.UNSAT.L_STOP
      5714**DCL      5715--REDEF
VY_PASS2_REF.UNSAT.L_WHERE
      5715**DCL      5716--REDEF
VY_PASS2_REF.UNSAT.MAX
      5712**DCL      5713--REDEF
VY_PASS2_REF.UNSAT.PAGE#
      5717**DCL      5718--REDEF
VY_PASS2_REF.UNSAT.SIZE
      5716**DCL      5717--REDEF
VY_PROGRAM_BIAS.A
      5384**DCL      5384--REDEF
VY_RU_HEAD.DATA_SEGMENT
      5352**DCL      5352--REDEF
VY_RU_HEAD.L
      5348**DCL      5349--REDEF
VY_RU_HEAD.MAP_BITS
      5349**DCL      5351--REDEF
VY_RU_HEAD.PBIT
      5345**DCL      5345--REDEF
VY_RU_HEAD_BUF.DATA_SEGMENT
PL6.E3A0      #001=VYU$READ_UTS File=VYU$READ_UTS.:E05TSI                        WED 07/30/97 09:05 Page:31   
      5362**DCL      5362--REDEF
VY_RU_HEAD_BUF.L
      5357**DCL      5358--REDEF
VY_RU_HEAD_BUF.MAP_BITS
      5359**DCL      5361--REDEF
VY_RU_HEAD_BUF.PBIT
      5354**DCL      5355--REDEF
VY_R_KEY_BUF.FORM0
      5224**DCL      5228--REDEF    5234--REDEF
VY_SI_KEY_BUF.KEY
      5732**DCL      5732--REDEF
VY_SPC.B$.MINE
      5727**DCL      5728--REDEF
VY_SPC.B$.NAME
      5724**DCL      5724--REDEF
VY_SPC.B$.SKIP
      5726**DCL      5727--REDEF
VY_SPC.B$.VALUE
      5725**DCL      5726--REDEF
VY_SPC.SEG.NAME
      5719**DCL      5720--REDEF
VY_SPC.SEG.VALUE
      5720**DCL      5721--REDEF
VY_TSX0_OVERLAY.H
      5691**DCL      5692--REDEF
WHERE$
      9271**DCL      9318<<ASSIGN   9321<>CALL     9325<>CALL     9330>>ASSIGN   9331>>ASSIGN

VERSION E05

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:1    
        1        1        /*M* GIB$BIGFOOT - Main Module for LCP-6 Boot Routine              */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=3,IND=5,ENU=0,ECU=0  */
        8        8        /*F*    NAME:  GIB$BIGFOOT
        9        9                DESCRIPTION:
       10       10                   GIB$BIGFOOT is called from GIR$BEGIN after an AUTO stack
       11       11                has been established.  The coupler boot process is completed
       12       12                by reading in the rest of BIGFOOT beyond the first 8K that
       13       13                we get as a result of the bootload order to the coupler.
       14       14                GIB$BIGFOOT also performs the high level control of the
       15       15                remaining boot/initialization functions such as reading the
       16       16                monitor, GHOST1, etc from the host/link; building the channel
       17       17                table, user tables, PPUT, etc.; and initializing the debug
       18       18                interface.
       19       19                                                                           */
       20       20        GIB$BIGFOOT: PROC;
       21       21        /**/
       22       22    1   DCL GHH$IO_IN ENTRY(1) ALTRET;
       23       23    1   DCL GHH$IO ENTRY(1) ALTRET;
       24       24    1   DCL GHH$HLT ENTRY;
       25       25    1   DCL GHH$ASD ENTRY(2);
       26       26    1   DCL GHH$LEV ENTRY(1);
       27       27    1   DCL GIM$BUILD_CHNTBL ENTRY(1);
       28       28    1   DCL GIM$BUILD_BOBCAT ENTRY(1);
       29       29    1   DCL GIM$FINISH_INIT ENTRY;
       30       30    1   DCL GHT$TRAP ENTRY;
       31       31    1   DCL GHT$MCL ENTRY;
       32       32    1   DCL GIB$CPLRBOOT ENTRY;
       33       33    1   DCL GIB$READCPLR ENTRY(3);
       34       34    1   DCL GIB$INTCPLR ENTRY;
       35       35    1   DCL GIB$SETADP ENTRY;                   /* turn on adp bit if booted from 8000*/
       36       36    1   DCL GID$RDBOOT ENTRY(3);
       37       37    1   DCL GIB$DISKBOOT ENTRY;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:2    
       38       38    1   DCL GDA$BOOT_INIT ENTRY ALTRET;
       39       39    1   DCL GHI$SCHD_INT_SERV ENTRY;
       40       40    1   DCL GHS$ADDUSR ENTRY(5);
       41       41    1   DCL GJI$INIT_USR ENTRY;
       42       42    1   DCL GUD$RING0 ENTRY;
       43       43    1   DCL GUD$RING1 ENTRY;
       44       44    1   DCL X6A_MAUTO ENTRY (2);
       45       45    1   DCL KVB$INT ENTRY(1) ALTRET;
       46       46
       47       47        %INCLUDE G_HJIT_M;
       48      192        %INCLUDE G_JIT_M;
       49      457        %INCLUDE G_ROS_M;
       50      539 S      %INCLUDE GF_LCP6_M;
       51      540        %INCLUDE G_SFILE_M;
       52      600        %INCLUDE GFR_DATA_M;
       53      620 S      %INCLUDE G_LCP6_E;
       54      621        %INCLUDE G$BOBCAT_M;
       55      641        %INCLUDE GH_HARDWARE_M;
       56      739        %INCLUDE GH_IOFNC_E;
       57      808 S      %INCLUDE GH_LCP6_M;
       58      809        %INCLUDE GI_DATA_M;
       59      837        %INCLUDE GM_VIRTUAL_E;
       60     1047        %INCLUDE GD$MSG_M;
       61     1211        %INCLUDE GM_MACRO_M;
       62     1693        %INCLUDE GD_DATA_M;
       63     1755        %INCLUDE GDA_EQUS_E;
       64     1782        %INCLUDE GD_EQUS_E;
       65     1943        %INCLUDE GD$MACS_M;
       66     1981        %INCLUDE GJ_MSG_M;
       67     2294        %INCLUDE GI_BOOT_C;
       68     2405        %INCLUDE GH_SCHD_M;
       69     2549 S      %INCLUDE GU_LCP6_M;
       70     2550        %INCLUDE KV$VDH;
       71     2981
       72     2982        %GH_IO (FPTN=GH_IO,STCLASS=AUTO);
       73     2998        %GH_LEV (FPTN=SUSP62,TYPE=TRIGGER_SUSPEND,LEVEL=62);
       74     3020        %GH_LEV (FPTN=INHIB,TYPE=SUSPEND_INHIBIT,LEVEL=%G_IL_INHIBIT#);
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:3    
       75     3042        %GI$OFFSETS (FPTN=GI$OFFSETS,STCLASS="BASED(GI$OFFSETS$)");
       76     3047        %G$SEGDESC (STCLASS=BASED);
       77     3069        %G$ISA (FPTN=GIR_ISA_REBOOT,STCLASS=SYMREF);
       78     3372        %G$MHJIT (FPTN=G$MHJIT,STCLASS="BASED(MHJIT$)");
       79    10246        %G$UHJIT (FPTN=G$UHJIT,STCLASS="BASED(G$UHJIT$)");
       80    13220        %G$ASDT (STCLASS="BASED(MHJIT$)");
       81    13249        %G$LOW_MEM (FPTN=G$LOW_MEM,STCLASS="BASED(G$LOW_MEM$)");
       82    13298    1   DCL TWO4KSEGS(0:8191) UBIN WORD BASED;
       83    13299    1   DCL TV(0:45) EPTR BASED(TV$);
       84    13300        %G$BOBCAT (FPTN=G$BOBCAT,STCLASS="BASED(G$BOBCAT$)");
       85    13313        %G$STACK_HDR (FPTN=G$STACK_HDR,STCLASS=BASED);
       86    13329        %GD_DATA (STCLASS=BASED);
       87    13375        %G$ROS (STCLASS="BASED(G$WINDOW1$)",FULL=YES);
       88    14326        %G$JIT (FPTN=JIT,STCLASS="BASED(J$)");
       89    14740        %G$JIT_E;
       90    14802        %GFR$ACCT(FPTN=GFR_ACCT,STCLASS="BASED(J$)");
       91    14815        %G_EVBUF(FPTN=G$EVBUF, STCLASS=BASED);
       92    14823        %GD$FD_PROC (FPTN=DB_PROC,STCLASS="BASED(G$DB_PROC$)");
       93    14839        %GD$FD_DS (FPTN=DB_DS,STCLASS="BASED(GD$DELTA_DATA$)");
       94    14894
       95    14895    1   DCL GI_TSTKM_PGSZ UBIN STATIC SYMDEF INIT(3);
       96    14896    1   DCL GI_MEMPGS UBIN WORD STATIC SYMDEF INIT(0);
       97    14897    1   DCL GI_NEXTPAGE UBIN(32) STATIC SYMDEF INIT(0); /* NEXT AVAILABLE PAGE        */
       98    14898    1   DCL GI_READBOOT EPTR STATIC SYMDEF;
       99    14899    1   DCL GI_ENDBOOT EPTR STATIC SYMDEF INIT(ENTADDR(NIL));
      100    14900    1   DCL GI_KEEPDELTA BIT(1) STATIC SYMDEF INIT('1'B);
      101    14901    1   DCL GI$OFFSETS$ PTR STATIC SYMDEF INIT(ADDR(GI@END));
      102    14902        %GJ_SETFP_MSG (FPTN=GI_SETFP,
      103    14903                       BOOT=YES,
      104    14904                       STCLASS=AUTO);
      105    15113        %GJ_SETFP_MSG (FPTN=GI$SETFP,
      106    15114                         BOOT=YES,
      107    15115                         STCLASS=BASED);
      108    15324        %GI$PARAMS (FPTN=GI_PARAMS,
      109    15325                    SYSTEM=LCP6,
      110    15326                    STCLASS="STATIC SYMDEF",
      111    15327                    NUM=GI_BOOT_HI);
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:4    
      112    15330
      113    15331        %GI$PARAMS (FPTN=GI_CNTL,
      114    15332                    SYSTEM=LCP6,
      115    15333                    STCLASS=AUTO,
      116    15334                    NUM=GI_CNTL_BOOTHI);
      117    15337        %GI$PSEUDOS (FPTN=GI_PSEUDOS,
      118    15338                     SYSTEM=LCP6,
      119    15339                     STCLASS="STATIC SYMDEF",
      120    15340                     NUM=7);
      121    15344        %GI$SECTION (FPTN=GI_SECTION,
      122    15345                     SYSTEM=LCP6,
      123    15346                     STCLASS=AUTO,
      124    15347                     NUM=30);
      125    15350    1   DCL 1 SECT_TABLE (0:30) STATIC ALIGNED,
      126    15351    1         2 PADDR UBIN(32),
      127    15352    1         2 PSIZE UBIN WORD,
      128    15353    1         2 SEGSIZE UBIN WORD,
      129    15354    1         2 SEGX UBIN WORD;
      130    15355        /**/
      131    15356        /* Following cells should be temporary */
      132    15357        /**/
      133    15358    1   DCL G$SATYR_RCVISA$ PTR STATIC SYMDEF;
      134    15359    1   DCL G$SATYR_TRNISA$ PTR STATIC SYMDEF;
      135    15360    1   DCL G$ZERO$ PTR CONSTANT INIT(ADDR(NIL));
      136    15361        /**/
      137    15362        /**/
      138    15363    1   DCL GI@END SBIN SYMREF;                 /* ADDRESS OF END OF BIGFOOT          */
      139    15364    1   DCL GIT$TOP PTR SYMREF;
      140    15365    1   DCL GI_BOOTCHAN UBIN SYMREF;
      141    15366    1   DCL GJ_BOOTCHAN UBIN SYMREF;
      142    15367    1   DCL GI_BOOTBASE UBIN(32) SYMREF;
      143    15368    1   DCL GJ_BOOTBASE UBIN(32) SYMREF;
      144    15369    1   DCL GJ_BOOT_HNDLRS UBIN SYMREF;
      145    15370    1   DCL G_MING UBIN SYMREF;
      146    15371    1   DCL G$USRT$ PTR SYMREF;
      147    15372    1   DCL GH_KEEPDELTA BIT(1) SYMREF;
      148    15373    1   DCL GI_LASTTRAP SBIN WORD SYMREF;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:5    
      149    15374    1   DCL GI_TRAPOK UBIN WORD SYMREF;
      150    15375    1   DCL 1 GI_MHJIT SYMREF,
      151    15376    1         2 INST UBIN,
      152    15377    1         2 ASDT BIT(32);
      153    15378    1   DCL GH_QMIN UBIN SYMREF;
      154    15379    1   DCL GH_QUAN UBIN SYMREF;
      155    15380    1   DCL G_XCONTIME UBIN SYMREF;
      156    15381    1   DCL GFR_PSEUDO# UBIN SYMREF;
      157    15382    1   DCL G_MAX_USRS(0:4) UBIN WORD SYMREF;
      158    15383    1   DCL GFR_MAX_MEM(0:4) UBIN WORD SYMREF;
      159    15384    1   DCL GFR_CUR_MEM(0:4) UBIN WORD SYMREF;
      160    15385    1   DCL GJ_SFILE_MAX_DATA UBIN WORD SYMREF;
      161    15386    1   DCL GFR_PSUDO_NM(0:7) CHAR(8) SYMREF;
      162    15387    1   DCL GFR_PSUDO_MAX_SYS(0:7) UBIN WORD SYMREF;
      163    15388    1   DCL GFR_PSUDO_MAX_USR(0:7) UBIN WORD SYMREF;
      164    15389    1   DCL GFR_PSUDO_MAX_CG(0:7) UBIN WORD SYMREF;
      165    15390    1   DCL GFR_PSUDO_MAX_HND(0:7) UBIN WORD SYMREF;
      166    15391    1   DCL GFR_PSUDO_MAX_GST(0:7) UBIN WORD SYMREF;
      167    15392    1   DCL GI_DUMP UBIN(16) SYMREF;
      168    15393    1   DCL GM_MEM_LOW UBIN(16) SYMREF;
      169    15394    1   DCL GM_MEM_HI  UBIN(16) SYMREF;
      170    15395    1   DCL GM_SHUF_HI UBIN(16) SYMREF;
      171    15396    1   DCL GM_ASHUF   UBIN(16) SYMREF;
      172    15397    1   DCL GM_HSHUF   UBIN(16) SYMREF;
      173    15398    1   DCL GM_SHUF_MIN UBIN(16) SYMREF;
      174    15399    1   DCL GM_SHUF    UBIN(16) SYMREF;
      175    15400    1   DCL GM_NSHF    UBIN(16) SYMREF;
      176    15401    1   DCL GM_INIT_PGSZ UBIN SYMREF;
      177    15402    1   DCL GM_TSTKU_PGSZ UBIN SYMREF;
      178    15403    1   DCL 1 GI_FEX SYMREF,
      179    15404    1         2 HOST# UBIN BYTE UNAL,
      180    15405    1         2 FEP# UBIN BYTE UNAL,
      181    15406    1         2 * UBIN BYTE UNAL,
      182    15407    1         2 * UBIN BYTE UNAL;
      183    15408    1   DCL G$SEG(0:30) UBIN(32) CONSTANT INIT(%GM_SEG0000_BASE,
      184    15409    1                                           %GM_SEG0001_BASE,
      185    15410    1                                           %GM_SEG0002_BASE,
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:6    
      186    15411    1                                           %GM_SEG0003_BASE,
      187    15412    1                                           %GM_SEG0004_BASE,
      188    15413    1                                           %GM_SEG0005_BASE,
      189    15414    1                                           %GM_SEG0006_BASE,
      190    15415    1                                           %GM_SEG0007_BASE,
      191    15416    1                                           %GM_SEG0008_BASE,
      192    15417    1                                           %GM_SEG0009_BASE,
      193    15418    1                                           %GM_SEG0010_BASE,
      194    15419    1                                           %GM_SEG0011_BASE,
      195    15420    1                                           %GM_SEG0012_BASE,
      196    15421    1                                           %GM_SEG0013_BASE,
      197    15422    1                                           %GM_SEG0014_BASE,
      198    15423    1                                           %GM_SEG0015_BASE,
      199    15424    1                                           %GM_SEG0100_BASE,
      200    15425    1                                           %GM_SEG0200_BASE,
      201    15426    1                                           %GM_SEG0300_BASE,
      202    15427    1                                           %GM_SEG0400_BASE,
      203    15428    1                                           %GM_SEG0500_BASE,
      204    15429    1                                           %GM_SEG0600_BASE,
      205    15430    1                                           %GM_SEG0700_BASE,
      206    15431    1                                           %GM_SEG0800_BASE,
      207    15432    1                                           %GM_SEG0900_BASE,
      208    15433    1                                           %GM_SEG1000_BASE,
      209    15434    1                                           %GM_SEG1100_BASE,
      210    15435    1                                           %GM_SEG1200_BASE,
      211    15436    1                                           %GM_SEG1300_BASE,
      212    15437    1                                           %GM_SEG1400_BASE,
      213    15438    1                                           %GM_SEG1500_BASE);
      214    15439    1   DCL G$SEG$(0:30) REDEF G$SEG PTR;
      215    15440    1   DCL G$BOBCAT$ PTR SYMREF;
      216    15441    1   DCL G$WINDOW1$ PTR SYMREF;
      217    15442    1   DCL G$ROS$ PTR SYMREF;
      218    15443    1   DCL G$ISA_DBINH$ PTR SYMREF;
      219    15444    1   DCL G$MHJIT$ PTR SYMREF;
      220    15445    1   DCL G$UHJIT$ PTR SYMREF;
      221    15446    1   DCL G$TSTACK$ PTR SYMREF;
      222    15447    1   DCL G$TSTACKM$ PTR SYMREF;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:7    
      223    15448    1   DCL G$TSTACKM REDEF G$TSTACKM$ UBIN(32);
      224    15449    1   DCL G$TSTACKU$ PTR SYMREF;
      225    15450    1   DCL G$TSTACKU REDEF G$TSTACKU$ UBIN(32);
      226    15451    1   DCL G$CBUFFER$ PTR SYMREF;
      227    15452    1   DCL G$PPUT$ PTR SYMREF;
      228    15453    1   DCL KV_B_POOL# UBIN WORD SYMREF;
      229    15454    1   DCL G$ASDT_MCL$ PTR SYMREF READONLY;
      230    15455    1   DCL GHT_L6_9X BIT(16) SYMREF;
      231    15456    1   DCL GH_IGNORE_TRAP SBIN SYMREF;
      232    15457    1   DCL G$LOW_MEM$ PTR SYMREF;
      233    15458    1   DCL GIR$ROOT UBIN WORD SYMREF;
      234    15459    1   DCL G$ISA_SATYR_RCV$ PTR SYMREF;
      235    15460    1   DCL G$ISA_SATYR_TRN$ PTR SYMREF;
      236    15461    1   DCL G$DB_PROC$ PTR SYMREF;
      237    15462    1   DCL GD$DELTA_DATA$ PTR SYMREF;
      238    15463    1   DCL GI_ADDR UBIN(32) SYMREF;
      239    15464    1   DCL GID_MHJIT$ PTR SYMREF;
      240    15465
      241    15466    1   DCL MEMPTR UBIN(32);
      242    15467    1   DCL MEM$ REDEF MEMPTR PTR;
      243    15468    1   DCL BOBCAT_PTR UBIN(32);
      244    15469    1   DCL ONEWORD SBIN WORD BASED;
      245    15470    1   DCL WORDS UBIN;
      246    15471    1   DCL PBASE$ PTR BASED;
      247    15472    1   DCL I UBIN;
      248    15473    1   DCL J UBIN WORD;
      249    15474    1   DCL INDX UBIN;
      250    15475    1   DCL NAK BIT(1);
      251    15476    1   DCL MHJITPTR UBIN(32);
      252    15477    1   DCL MHJIT$ REDEF MHJITPTR PTR;
      253    15478    1   DCL TEMPADDR UBIN(32);
      254    15479    1   DCL TV$ PTR;
      255    15480    1   DCL PAGES UBIN WORD;
      256    15481    1   DCL PAGE# UBIN WORD;
      257    15482    1   DCL WSIZE UBIN(32);
      258    15483        /**/
      259    15484    1   DCL MON_STATIC_ASDTX UBIN;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:8    
      260    15485    1   DCL MON_PROC_ASDTX UBIN;
      261    15486    1   DCL MON_STATIC_SIZE UBIN(32);
      262    15487    1   DCL MON_PROC_SIZE UBIN(32);
      263    15488        /**/
      264    15489    1   DCL USER# UBIN;
      265    15490    1   DCL CODE UBIN;
      266    15491    1   DCL ROSPP UBIN;
      267    15492    1   DCL J$ PTR;
      268    15493    1   DCL DO$ PTR;
      269    15494    1   DCL NEXT$ PTR;
      270    15495    1   DCL NEXT REDEF NEXT$ UBIN(32);
      271    15496    1   DCL BOBCAT_SIZE UBIN WORD;
      272    15497    1   DCL USRT$ PTR;
      273    15498
      274    15499        %GI$PSEUDOS (FPTN=GI$PSEUDOS,
      275    15500                     SYSTEM=LCP6,
      276    15501                     STCLASS=BASED,
      277    15502                     NUM=0);
      278    15506        /**/
      279    15507        %G$USER (FPTN="G$USER(0:0)",STCLASS="BASED(G$USRT$)");
      280    15518        /**/
      281    15519    1   DCL DOUBLEWORD(0:32767) UBIN(32) BASED DALIGNED;
      282    15520        %G$SEGDESC (FPTN=DUMMY_BIGFOOT_ASD,STCLASS=STATIC,SIZE=255,
      283    15521                    V=YES,RP=G_R_MON#,WP=G_R_MON#,EP=G_R_MON#);
      284    15543
      285    15544        %KV$VDH_VDHINT (STCLASS=STATIC, MINBFR=32, MAXPWR2=13);
      286    15563
      287    15564        %EJECT;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:9    
      288    15565        /* Find out how much memory we have. */
      289    15566
      290    15567    1      GI_TRAPOK=15;                        /* Expect non-existent resource       */
      291    15568    1      GI_LASTTRAP=0;
      292    15569    1      INDX = 29;                           /* TO FORCE PTR RELOAD IN MEMORY LOOP */
      293    15570    1      MEMPTR=POFFW(ADDR(GI@END),ADDR(GIR$ROOT))+256;
      294    15571    1      MEMPTR=MEMPTR-MOD(MEMPTR,256);
      295    15572    1      GI_MEMPGS=MEMPTR/256;
      296    15573    2      DO WHILE(GI_LASTTRAP=0 AND GI_MEMPGS<%BITBIN('8000'X));
      297    15574    2           GI_MEMPGS = GI_MEMPGS + 1;
      298    15575    2           DUMMY_BIGFOOT_ASD.BASE = GI_MEMPGS;
      299    15576    2           CALL GHH$ASD(G$SEG$(29),DUMMY_BIGFOOT_ASD);
      300    15577    2           I=G$SEG$(29)->ONEWORD;
      301    15578    2           IF GI_LASTTRAP ~= 0 THEN EXIT;
      302    15579    2           G$SEG$(29)->ONEWORD=-I;
      303    15580    2           INDX = 29;
      304    15581    2           IF G$SEG$(INDX)->ONEWORD~=-I THEN GI_LASTTRAP=-1;
      305    15582    2           G$SEG$(29)->ONEWORD=I;
      306    15583    2           END;
      307    15584    1      GI_TRAPOK=0;
      308    15585
      309    15586        /* Check the device ID of the boot channel.  If it is a coupler
      310    15587           then call the coupler boot routine.  For diskette we will have
      311    15588           to do something later.                                          */
      312    15589
      313    15590    1      GH_IO.CAS.CHN=GI_BOOTCHAN;
      314    15591    1      GH_IO.CAS.FNC=%GH#IO_INPDVCID;
      315    15592    1      CALL GHH$IO_IN(GH_IO) ALTRET(FREEZE);
      316    15593    2      DO SELECT(GH_IO.STATUS);             /* DEVICE ID                          */
      317    15594    2           SELECT('2408'X);                /* COUPLER                            */
      318    15595    2           GI_READBOOT=ENTADDR(GIB$READCPLR);
      319    15596    2           GI_ENDBOOT = ENTADDR(GIB$INTCPLR);
      320    15597    2           CALL GIB$CPLRBOOT;
      321    15598    2           SELECT('2017'X);                /* DISK                               */
      322    15599    2           GI_READBOOT=ENTADDR(GID$RDBOOT);
      323    15600    2           CALL GIB$DISKBOOT;
      324    15601    2           SELECT(ELSE);                   /* UNKNOWN OR UNWANTED                */
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:10   
      325    15602    2      CALL GHH$HLT;
      326    15603    2           END;
      327    15604        /**/
      328    15605        /* Move BIGFOOT up to the top 64K of memory */
      329    15606        /**/
      330    15607    1      DUMMY_BIGFOOT_ASD.BASE=MINIMUM(GI_MEMPGS-256,4096-256);
      331    15608    1      CALL GHH$ASD(G$SEG$(29),DUMMY_BIGFOOT_ASD);
      332    15609    2      DO I=0 TO 32767;
      333    15610    2           G$SEG$(29)->DOUBLEWORD(I)=G$SEG$(30)->DOUBLEWORD(I);
      334    15611    2           END;
      335    15612    1      CALL GHH$ASD(G$SEG$(30),DUMMY_BIGFOOT_ASD);
      336    15613    1      GI_NEXTPAGE=%GM_LOW_MEM_SZ;
      337    15614        /**/
      338    15615        /* Read in GI_SECTION table */
      339    15616        /**/
      340    15617    1      GI_ADDR = POFFW(ADDR(GI_SECTION),ADDR(GIR$ROOT))+DUMMY_BIGFOOT_ASD.BASE*256;
      341    15618    1      WSIZE = GI$OFFSETS.SECTSIZE;
      342    15619    1      CALL GI_READBOOT(GI$OFFSETS.SECTOFFSET,GI_ADDR,WSIZE);
      343    15620
      344    15621        /* Read in control parameters */
      345    15622
      346    15623    1      IF GI$OFFSETS.CNTLOFFSET ~= 0
      347    15624    2      THEN DO;
      348    15625    2           GI_ADDR = POFFW(ADDR(GI_CNTL),ADDR(GIR$ROOT))+DUMMY_BIGFOOT_ASD.BASE*256;
      349    15626    2           WSIZE = SIZEW(GI_CNTL);
      350    15627    2           CALL GI_READBOOT(GI$OFFSETS.CNTLOFFSET,GI_ADDR,WSIZE);
      351    15628    2           IF GI_CNTL.PARAMS(%GI_CNTL_KEEPDELTA) = 0
      352    15629    2           THEN
      353    15630    2                GI_KEEPDELTA = '0'B;
      354    15631    2           END;
      355    15632        /**/
      356    15633        /* Read in the segments */
      357    15634        /**/
      358    15635    2      DO I = 0 TO GI_SECTION.NUMSECTS - 1;
      359    15636    2           MEMPTR = GI_NEXTPAGE * 256;
      360    15637    2           CALL GI_READBOOT(GI_SECTION.SECT.OFFSET(I),MEMPTR,GI_SECTION.SECT.SIZE(I));
      361    15638    2           SECT_TABLE.PADDR(I) = MEMPTR;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:11   
      362    15639    2           SECT_TABLE.PSIZE(I) = (GI_SECTION.SECT.SIZE(I) + 255)/256;
      363    15640    3           IF GI_SECTION.SECT.START(I) >= %BITBIN('10000'X) THEN DO;
      364    15641    3                SECT_TABLE.SEGSIZE(I) = 256;
      365    15642    3                SECT_TABLE.SEGX(I) = GI_SECTION.SECT.START(I)/65536 + 15;
      366    15643    3                END;                       /* IF START > .10000                  */
      367    15644    3           ELSE DO;
      368    15645    3                SECT_TABLE.SEGSIZE(I) = 16;
      369    15646    3                SECT_TABLE.SEGX(I) = GI_SECTION.SECT.START(I)/4096;
      370    15647    3                END;                       /* ELSE                               */
      371    15648    2           IF GI_SECTION.SECT.START(I) = %GM_MHJIT_BASE
      372    15649    2           THEN MHJITPTR = MEMPTR;
      373    15650    3           IF GI_SECTION.SECT.START(I) = %GM_ISR1_BASE THEN DO;
      374    15651    3                MON_STATIC_ASDTX = SECT_TABLE.SEGX(I);
      375    15652    3                MON_STATIC_SIZE = (SECT_TABLE.PSIZE(I)+255)/256; /* # OF SEGMENTS */
      376    15653    3                MON_PROC_ASDTX = MON_STATIC_ASDTX + MON_STATIC_SIZE;
      377    15654    3                MON_PROC_SIZE = (GI_SECTION.SECT.SIZE(I+1)+255)/256; /* PAGE SIZE */
      378    15655    3                MON_PROC_SIZE = (MON_PROC_SIZE + 255)/256; /* # OF SEGMENTS      */
      379    15656    3                END;                       /* IF START = ISR1_BASE               */
      380    15657    2           IF GI_SECTION.SECT.START(I) = %GM_DB_PROC_BASE AND NOT GI_KEEPDELTA
      381    15658    3           THEN DO;
      382    15659    3                GI_SECTION.SECT.SIZE(I) = 0;
      383    15660    3                SECT_TABLE.PSIZE(I) = 0;
      384    15661    3                END;
      385    15662    2           GI_NEXTPAGE = GI_NEXTPAGE + (GI_SECTION.SECT.SIZE(I)+255)/256;
      386    15663    2           END;                            /* DO I                               */
      387    15664        /**/
      388    15665        /* Set the ASDTs for the segments we just read */
      389    15666        /**/
      390    15667    2      DO I = 0 TO GI_SECTION.NUMSECTS - 1;
      391    15668    2           IF SECT_TABLE.PSIZE(I) ~= 0
      392    15669    2           THEN
      393    15670    2                CALL SETASDT(G$ASDT.DESC(SECT_TABLE.SEGX(I)),SECT_TABLE.PADDR(I),
             15670                         SECT_TABLE.PSIZE(I),SECT_TABLE.SEGSIZE(I));
      394    15671    2           END;                            /* DO I                               */
      395    15672        /**/
      396    15673        /* Set up some miscellaneous ASDTs */
      397    15674        /**/
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:12   
      398    15675    1      G$MHJIT.ASDT_MON.BIGFOOT=DUMMY_BIGFOOT_ASD;
      399    15676    1      CALL SETASDT(G$MHJIT.ASDT_MON.LOW_MEM,G$ZERO$,16,16);
      400    15677    1      CALL SETASDT(G$MHJIT.ASDT_MON.WINDOW1,G$ZERO$,256,256);
      401    15678        /**/
      402    15679        /* Set the protectin bits for MON_STATIC and MON_PROC */
      403    15680        /**/
      404    15681    2      DO I = MON_STATIC_ASDTX TO MON_STATIC_ASDTX + MON_STATIC_SIZE - 1;
      405    15682    2           G$ASDT.DESC.RP(I) = %G_R_MON#;
      406    15683    2           G$ASDT.DESC.WP(I) = %G_R_MON#;
      407    15684    2           G$ASDT.DESC.EP(I) = %G_RING0#;
      408    15685    2           END;                            /* DO I                               */
      409    15686    2      DO I = MON_PROC_ASDTX TO MON_PROC_ASDTX + MON_PROC_SIZE - 1;
      410    15687    2           G$ASDT.DESC.RP(I) = %G_R_MON#;
      411    15688    2           G$ASDT.DESC.WP(I) = %G_RING0#;
      412    15689    2           G$ASDT.DESC.EP(I) = %G_R_MON#;
      413    15690    2           END;                            /* DO I                               */
      414    15691        /**/
      415    15692        /* Allocate a TSTACK for MON */
      416    15693        /**/
      417    15694    1      MEMPTR=GI_NEXTPAGE*256;
      418    15695    1      GI_NEXTPAGE=GI_NEXTPAGE + GI_TSTKM_PGSZ;
      419    15696    1      CALL SETASDT(G$MHJIT.ASDT_MON.TSTACKM,MEMPTR,GI_TSTKM_PGSZ,16);
      420    15697        /**/
      421    15698        /* Turn on G$MHJIT first */
      422    15699        /**/
      423    15700    1      CALL GHH$ASD(G$SEG$(%GM_MHJIT#),G$ASDT.DESC(%GM_MHJIT#));
      424    15701    1      MHJITPTR = G$SEG(%GM_MHJIT#);
      425    15702    1      GID_MHJIT$=ADDR(G$MHJIT.ASDT_BIGFOOT);
      426    15703        /**/
      427    15704        /* Map to the segments we have so far */
      428    15705        /**/
      429    15706    2      DO I = 1 TO 29;                      /* Don't do BIGFOOT's segment again   */
      430    15707    2           IF G$ASDT.DESC.V(I) AND I ~= %GM_MHJIT#
      431    15708    2           THEN CALL GHH$ASD(G$SEG$(I),G$ASDT.DESC(I));
      432    15709    2           END;                            /* DO I                               */
      433    15710
      434    15711        /* Initialize the tstack pointers based on the pgsz values.
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:13   
      435    15712        */
      436    15713    1      G$TSTACKM = %GM_TSTACKM_BASE + (GI_TSTKM_PGSZ * 256) - %GM_STKHDR_SZ;
      437    15714    1      G$TSTACKU = %GM_TSTACKU_BASE + (GM_TSTKU_PGSZ * 256) - %GM_STKHDR_SZ;
      438    15715
      439    15716    1      I = GI_TSTKM_PGSZ * 256;
      440    15717    1      CALL X6A_MAUTO (G$TSTACK$ , I);
      441    15718    1      G$MHJIT.ASDT_BIGFOOT=G$MHJIT.ASDT_MON; /* TEMP                             */
      442    15719        /**/
      443    15720        /* Set up Delta's stuff */
      444    15721        /**/
      445    15722    1      IF GI_KEEPDELTA
      446    15723    2      THEN DO;
      447    15724    2           CALL GHH$ASD(G$DB_PROC$,G$MHJIT.ASDT_MON.DB_PROC);
      448    15725    2           WORDS = DB_PROC.STK_SZ + SIZEW(G$STACK_HDR);
      449    15726    2           PAGES = (DB_PROC.DS_SZ + DB_PROC.STK_SZ + SIZEW (G$STACK_HDR) + 255)/256;
      450    15727    2           MEMPTR = GI_NEXTPAGE * 256;
      451    15728    2           GI_NEXTPAGE = GI_NEXTPAGE + PAGES;
      452    15729    2           CALL SETASDT(G$MHJIT.ASDT_MON.RDB_DS,MEMPTR,PAGES,16);
      453    15730    2           CALL SETASDT(G$MHJIT.ASDT_BIGFOOT.RDB_DS,MEMPTR,PAGES,16);
      454    15731    2           CALL GHH$ASD(GD$DELTA_DATA$,G$MHJIT.ASDT_MON.RDB_DS);
      455    15732    2           DB_DS.STK_PTR = PINCRW(GD$DELTA_DATA$ , DB_PROC.DS_SZ);
      456    15733    2           CALL X6A_MAUTO (DB_DS.STK_PTR , WORDS);
      457    15734    2           DB_DS.STK_PTR = DB_DS.STK_PTR -> PBASE$;
      458    15735    2           END;
      459    15736        /**/
      460    15737        /* Set up ISAs */
      461    15738        /**/
      462    15739    1      G$SATYR_RCVISA$=ADDR(G$MHJIT$->G$MHJIT.ISA_SATYR_RCV);
      463    15740    1      G$ISA_SATYR_RCV$=ADDR(G$MHJIT$->G$MHJIT.ISA_SATYR_RCV.DEV);
      464    15741    1      G$SATYR_TRNISA$=ADDR(G$MHJIT$->G$MHJIT.ISA_SATYR_TRN);
      465    15742    1      G$ISA_SATYR_TRN$=ADDR(G$MHJIT$->G$MHJIT.ISA_SATYR_TRN.DEV);
      466    15743        /**/
      467    15744    1      G$MHJIT.ISA_SATYR_RCV.ASV$=ADDR(G$MHJIT$->G$MHJIT.ASDT_MON);
      468    15745    1      IF GI_KEEPDELTA
      469    15746    2      THEN DO;
      470    15747    2           G$MHJIT.ISA_SATYR_RCV.REGS.T$ = DB_DS.STK_PTR;
      471    15748        /**/
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:14   
      472    15749    2           G$MHJIT.ISA_SATYR_TRN.REGS.T$ = DB_DS.STK_PTR;
      473    15750    2           END;
      474    15751
      475    15752    1      GIR_ISA_REBOOT.REGS.R1 = GI_BOOTCHAN*64;
      476    15753        /* Set up level 61 to run Real Time Clock */
      477    15754        /**/
      478    15755    1      G$MHJIT.ISA_RT_CLOCK.REGS.T$ = G$TSTACKM$;
      479    15756        /**/
      480    15757        /* Set up Trap Overflow Interrupt         */
      481    15758        /**/
      482    15759    1      G$MHJIT.ISA_OV.REGS.T$ = G$TSTACKM$;
      483    15760        /**/
      484    15761        /* Set up level 62 to run Execution Scheduler */
      485    15762        /**/
      486    15763    1      G$MHJIT.ISA_SCHD.REGS.T$ = G$TSTACKM$;
      487    15764
      488    15765        /*   Clear out ISM2 for idle ISA */
      489    15766    1      G$MHJIT.ISA_IDLE.ISM2 = '0'B;
      490    15767
      491    15768
      492    15769    1      G$ISA_DBINH$ = ADDR(G$MHJIT$->G$MHJIT.ISA_DBINH.DEV);
      493    15770        /**/
      494    15771        /* Initialize UHJIT */
      495    15772        /**/
      496    15773    1      G$UHJIT.DMN.ID = %G_DMN_USR_SVC#;
      497    15774    1      ADDR(G$UHJIT.ASDT_USR)->G$ASDT.DESC(3) = G$MHJIT.ASDT_MON.LOW_MEM;
      498    15775    1      G$UHJIT.ASDT_USR.UHJIT.SIZE = (SIZEW(G$UHJIT)-1)/256;
      499    15776    1      G$UHJIT.ASDT_MCL = G$MHJIT.ASDT_MON;
      500    15777    1      G$UHJIT.ASDT_USR.MON_ENTRY = G$MHJIT.ASDT_MON.MON_ENTRY;
      501    15778    1      G$UHJIT.ASDT_USR.MON_ENTRY_DATA = G$MHJIT.ASDT_MON.MON_ENTRY_DATA;
      502    15779    1      G$UHJIT.ASDT_USR.MHJIT = G$MHJIT.ASDT_MON.MHJIT;
      503    15780    1      G$UHJIT.ASDT_USR.MHJIT2 = G$MHJIT.ASDT_MON.MHJIT2;
      504    15781    1      G$UHJIT.ISA_USR.REGS.T$ = G$TSTACKU$;
      505    15782    1      G$UHJIT.ISA_USR.P$$ = ENTADDR(GJI$INIT_USR);
      506    15783        /**/
      507    15784        /* Set up Interrupt Vectors */
      508    15785        /**/
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:15   
      509    15786    1      G$LOW_MEM.IV.INT.USER$=ADDR(G$UHJIT$->G$UHJIT.ISA_USR.DEV);
      510    15787    1      G$LOW_MEM.IV.INT.SCHD$=ADDR(G$MHJIT$->G$MHJIT.ISA_SCHD.DEV);
      511    15788    1      G$LOW_MEM.IV.INT.RT_CLOCK$=ADDR(G$MHJIT$->G$MHJIT.ISA_RT_CLOCK.DEV);
      512    15789    1      G$LOW_MEM.IV.INT.TSA_OV$=ADDR(G$MHJIT$->G$MHJIT.ISA_OV.DEV);
      513    15790    1      G$LOW_MEM.IV.INT.WDOG$=ADDR(G$MHJIT$->G$MHJIT.ISA_WDOG.DEV);
      514    15791    1      G$LOW_MEM.IV.INT.PFS$ = ADDR(G$MHJIT$->G$MHJIT.ISA_BIGFOOT.DEV);
      515    15792    2      DO I = 0 TO 48;
      516    15793    2           G$LOW_MEM.IV.IL$(I+12) = ADDR(G$MHJIT.INTCON.DEV(I));
      517    15794    2           END;                            /* DO I                               */
      518    15795        /**/
      519    15796        /* Set up the NATSAPs that are referenced by ISM2 */
      520    15797        /**/
      521    15798    1      G$LOW_MEM.NATSAP0$ = ADDR(G$MHJIT$->G$MHJIT.TSA_MON);
      522    15799    1      G$LOW_MEM.NATSAP1$ = ADDR(G$UHJIT.TSA_USR);
      523    15800    1      G$LOW_MEM.NATSAP2$ = ADDR(G$MHJIT$->G$MHJIT.TSA_MON);
      524    15801        /**/
      525    15802        /* Point Trap Vectors off to the trap handler. */
      526    15803        /**/
      527    15804    1      TV$=ADDR(G$LOW_MEM.TV);
      528    15805    2      DO I=0 TO 44;
      529    15806    2           TV(I)=ENTADDR(GHT$TRAP);
      530    15807    2           END;
      531    15808    1      TV(45) = ENTADDR(GHT$MCL);
      532    15809        /**/
      533    15810    1      IF GI_KEEPDELTA
      534    15811    1      THEN
      535    15812    1           CALL GDA$BOOT_INIT;
      536    15813
      537    15814        /* Save the MHJIT descriptor in low memory */
      538    15815    1      PINCRW(G$LOW_MEM$,POFFW(ADDR(GI_MHJIT.ASDT),G$SEG$(30)))->G$SEGDESC =
      539    15816    1        G$MHJIT.ASDT_MON.MHJIT;
      540    15817        /**/
      541    15818        /**/
      542    15819        /* Read across the boot time parameters */
      543    15820        /**/
      544    15821    1      GI_ADDR = POFFW(ADDR(GI_PARAMS),ADDR(GIR$ROOT))+DUMMY_BIGFOOT_ASD.BASE*256;
      545    15822    1      WSIZE = SIZEW(GI_PARAMS);
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:16   
      546    15823    1      CALL GI_READBOOT(GI$OFFSETS.PARAMOFFSET,GI_ADDR,WSIZE);
      547    15824
      548    15825        /* Begin setup of BOBCAT segment.
      549    15826        */
      550    15827    1      MEMPTR=GI_NEXTPAGE*256;
      551    15828    1      CALL SETASDT(G$MHJIT.ASDT_MON.BOBCAT,MEMPTR,65536/256,256);
      552    15829    1      CALL SETASDT(G$MHJIT.ASDT_BIGFOOT.BOBCAT,MEMPTR,65536/256,256);
      553    15830    1      G$UHJIT.ASDT_MCL.BOBCAT = G$MHJIT.ASDT_MON.BOBCAT;
      554    15831    1      CALL GHH$ASD(G$BOBCAT$,G$MHJIT.ASDT_MON.BOBCAT);
      555    15832    1      G$BOBCAT='0'B;
      556    15833    1      G$BOBCAT.BOOTCHAN = GI_BOOTCHAN;
      557    15834    1      G$BOBCAT.MUIS =  GI_PARAMS.PARAMS(%GI_BOOT_MUIS);
      558    15835    1      G$BOBCAT.LDCT# = GI_PARAMS.PARAMS(%GI_BOOT_LDCT);
      559    15836    1      G$BOBCAT.IOP# = GI_PARAMS.PARAMS(%GI_BOOT_IOP);
      560    15837    1      G$BOBCAT.HMI# = GI_PARAMS.PARAMS(%GI_BOOT_HMI);
      561    15838    1      G$BOBCAT.APESSN# = GI_PARAMS.PARAMS(%GI_BOOT_APESSN);
      562    15839    1      G$BOBCAT.SFILE# = GI_PARAMS.PARAMS(%GI_BOOT_SPROC);
      563    15840    1      G$BOBCAT.ACCT_RES# = GI_PARAMS.PARAMS(%GI_BOOT_ACCTS);
      564    15841    1      G$BOBCAT.TCTX# = GI_PARAMS.PARAMS(%GI_BOOT_TCTX);
      565    15842    1      G$BOBCAT.NODES = GI_PARAMS.PARAMS(%GI_BOOT_NODES);
      566    15843    1      G$BOBCAT.LINKS = GI_PARAMS.PARAMS(%GI_BOOT_LINKS);
      567    15844    1      G$BOBCAT.DEVICES = GI_PARAMS.PARAMS(%GI_BOOT_DEVICES);
      568    15845    1      G$BOBCAT.OSIROUTE# = GI_PARAMS.PARAMS(%GI_BOOT_OSIROUTE);
      569    15846    1      G$BOBCAT.DPS8000FLG = GI_PARAMS.PARAMS(%GI_BOOT_DPS8000FLG);
      570    15847
      571    15848        /* if booted from an 8000 and across a coupler attempt to turn on the adp bit.
      572    15849        */
      573    15850    1      IF G$BOBCAT.DPS8000FLG ~= 0 AND GI_READBOOT = ENTADDR(GIB$READCPLR)
      574    15851    1      THEN CALL GIB$SETADP;
      575    15852
      576    15853        /*
      577    15854           Read in the control parameters.
      578    15855        */
      579    15856    1      IF GI$OFFSETS.CNTLOFFSET ~= 0
      580    15857    2      THEN DO;
      581    15858    2           GI_ADDR = POFFW(ADDR(GI_CNTL),ADDR(GIR$ROOT))+DUMMY_BIGFOOT_ASD.BASE*256;
      582    15859    2           WSIZE = SIZEW(GI_CNTL);
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:17   
      583    15860    2           CALL GI_READBOOT(GI$OFFSETS.CNTLOFFSET,GI_ADDR,WSIZE);
      584    15861
      585    15862    2           GH_QMIN = GI_CNTL.PARAMS(%GI_CNTL_QMIN);
      586    15863    2           GH_QUAN = GI_CNTL.PARAMS(%GI_CNTL_QUAN);
      587    15864    2           G_XCONTIME = GI_CNTL.PARAMS(%GI_CNTL_XCONTIME);
      588    15865
      589    15866    2           G_MAX_USRS(0) = GI_CNTL.PARAMS(%GI_CNTL_MUSR);
      590    15867    2           G_MAX_USRS(1) = GI_CNTL.PARAMS(%GI_CNTL_MUSR_USER);
      591    15868    2           G_MAX_USRS(2) = GI_CNTL.PARAMS(%GI_CNTL_MUSR_CG);
      592    15869    2           G_MAX_USRS(3) = GI_CNTL.PARAMS(%GI_CNTL_MUSR_HAND);
      593    15870    2           G_MAX_USRS(4) = GI_CNTL.PARAMS(%GI_CNTL_MUSR_GHST);
      594    15871
      595    15872    2           GFR_MAX_MEM(0) = GI_CNTL.PARAMS(%GI_CNTL_MMEM);
      596    15873    2           GFR_MAX_MEM(1) = GI_CNTL.PARAMS(%GI_CNTL_MMEM_USER);
      597    15874    2           GFR_MAX_MEM(2) = GI_CNTL.PARAMS(%GI_CNTL_MMEM_CG);
      598    15875    2           GFR_MAX_MEM(3) = GI_CNTL.PARAMS(%GI_CNTL_MMEM_HAND);
      599    15876    2           GFR_MAX_MEM(4) = GI_CNTL.PARAMS(%GI_CNTL_MMEM_GHST);
      600    15877    2           GI_DUMP = GI_CNTL.PARAMS(%GI_CNTL_DUMP);
      601    15878    2           GJ_SFILE_MAX_DATA = GI_CNTL.PARAMS(%GI_CNTL_SFILEDATA);
      602    15879    2           END;
      603    15880
      604    15881        /* Enforce a few minimum values (star 25260)
      605    15882        */
      606    15883    1      IF G$BOBCAT.MUIS <  GI$OFFSETS.NHANDLERS
      607    15884    1      THEN G$BOBCAT.MUIS =  GI$OFFSETS.NHANDLERS;
      608    15885
      609    15886    1      I =                                 4/*for monitor use*/
      610    15887    1        + G$BOBCAT.LINKS
      611    15888    1        + G$BOBCAT.DEVICES
      612    15889    1        + (2 * G$BOBCAT.MUIS)
      613    15890    1        + (4 * G_MAX_USRS(2)/*com gr users*/ );
      614    15891
      615    15892    1      IF G$BOBCAT.LDCT# < I
      616    15893    1      THEN G$BOBCAT.LDCT# = I;
      617    15894
      618    15895    1      IF G$BOBCAT.IOP# <  G$BOBCAT.MUIS
      619    15896    1      THEN G$BOBCAT.IOP# =  G$BOBCAT.MUIS;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:18   
      620    15897
      621    15898    1      IF G$BOBCAT.APESSN# <  G$BOBCAT.MUIS
      622    15899    1      THEN G$BOBCAT.APESSN# =  G$BOBCAT.MUIS;
      623    15900
      624    15901    1      IF G_MAX_USRS(0) <  GI$OFFSETS.NHANDLERS
      625    15902    1      THEN G_MAX_USRS(0) =  GI$OFFSETS.NHANDLERS;
      626    15903
      627    15904    1      IF G_MAX_USRS(3) <  GI$OFFSETS.NHANDLERS
      628    15905    1      THEN G_MAX_USRS(3) = GI$OFFSETS.NHANDLERS;/*handlers*/
      629    15906
      630    15907    1      IF G$BOBCAT.HMI# <      G_MAX_USRS(3)/*handlers*/
      631    15908    1      THEN G$BOBCAT.HMI# = G_MAX_USRS(3);
      632    15909
      633    15910    1      IF G$BOBCAT.SFILE# < 2
      634    15911    1      THEN G$BOBCAT.SFILE# = 2;
      635    15912
      636    15913    1      IF G$BOBCAT.ACCT_RES# < 2
      637    15914    1      THEN G$BOBCAT.ACCT_RES# = 2;
      638    15915
      639    15916    1      IF G$BOBCAT.LINKS < 1
      640    15917    1      THEN G$BOBCAT.LINKS = 1;
      641    15918
      642    15919    1      IF G$BOBCAT.TCTX# < 1
      643    15920    1      THEN G$BOBCAT.TCTX# = 1;
      644    15921
      645    15922        /* Other misc boot parameters.
      646    15923        */
      647    15924
      648    15925    1      G$BOBCAT.MAXCHN=%BITBIN('2000'X);    /*NEEDS FIXIN'                        */
      649    15926    1      IF GI_FEX.FEP# = 0
      650    15927    1      THEN
      651    15928    1           GI_FEX.FEP# = GI$OFFSETS.FEX;
      652    15929    1      G$BOBCAT.FEP# = GI_FEX.FEP#;
      653    15930    1      G$BOBCAT.NODENAME = GI$OFFSETS.NODENAME;
      654    15931    1      G$BOBCAT.HOSTNODE = GI$OFFSETS.HOSTNODE;
      655    15932    1      G$BOBCAT.BOOTFID = GI$OFFSETS.BOOTFID;
      656    15933
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:19   
      657    15934        /*
      658    15935           Read in the pseudo resource definitions.
      659    15936        */
      660    15937    1      GFR_PSEUDO# = GI$OFFSETS.PSEUDO#;
      661    15938    1      IF GFR_PSEUDO# ~= 0
      662    15939    2      THEN DO;
      663    15940    2           GI_ADDR = POFFW(ADDR(GI_PSEUDOS),ADDR(GIR$ROOT))+DUMMY_BIGFOOT_ASD.BASE*256;
      664    15941    2           WSIZE = GFR_PSEUDO# * SIZEW(GI$PSEUDOS);
      665    15942    2           CALL GI_READBOOT(GI$OFFSETS.PSEUDOOFFSET,GI_ADDR,WSIZE);
      666    15943    3           DO I = 0 TO GFR_PSEUDO#-1;
      667    15944    3                GFR_PSUDO_NM(I) = GI_PSEUDOS.NAME(I);
      668    15945    3                GFR_PSUDO_MAX_SYS(I) = GI_PSEUDOS.MAX_SYS(I);
      669    15946    3                GFR_PSUDO_MAX_USR(I) = GI_PSEUDOS.MAX_USR(I);
      670    15947    3                GFR_PSUDO_MAX_CG(I) = GI_PSEUDOS.MAX_CG(I);
      671    15948    3                GFR_PSUDO_MAX_HND(I) = GI_PSEUDOS.MAX_HND(I);
      672    15949    3                GFR_PSUDO_MAX_GST(I) = GI_PSEUDOS.MAX_GHST(I);
      673    15950    3                END;
      674    15951    2           END;                            /* IF PSEUDO# ~= 0                    */
      675    15952
      676    15953    1      G$ROS$->G$ROS.U_ECCB.FLTFLG.IGN_IO = '1'B;
      677    15954    1      G$ROS$->G$ROS.JIT.FEP# = G$BOBCAT.FEP#;
      678    15955
      679    15956        /* Initialize the data in the BOBCAT segment.
      680    15957        */
      681    15958    1      NEXT$ = PINCRW(G$BOBCAT$,SIZEW(G$BOBCAT));
      682    15959    1      NEXT = ( (NEXT+1) /2) * 2;
      683    15960
      684    15961    1      CALL GIM$BUILD_BOBCAT(NEXT$);
      685    15962
      686    15963        /* Initialize the channel table.
      687    15964        */
      688    15965    1      CALL GIM$BUILD_CHNTBL(NEXT$);
      689    15966
      690    15967        /* Now see how much of the segment we used and adjust the segdesc.
      691    15968        */
      692    15969    1      G$BOBCAT.UNUSED$ = NEXT$;
      693    15970    1      BOBCAT_SIZE = POFFW(NEXT$,G$BOBCAT$)+255;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:20   
      694    15971    1      BOBCAT_SIZE = BOBCAT_SIZE/256;
      695    15972    1      IF BOBCAT_SIZE > 256 THEN GOTO FREEZE;
      696    15973    1      NEXT = BOBCAT_SIZE * 256;
      697    15974    1      G$BOBCAT.UNUSED# = POFFW(NEXT$,G$BOBCAT.UNUSED$);
      698    15975    1      BOBCAT_PTR = MEMPTR;
      699    15976
      700    15977    1      GI_NEXTPAGE = GI_NEXTPAGE + BOBCAT_SIZE;
      701    15978    1      MEMPTR = GI_NEXTPAGE*256;
      702    15979
      703    15980        /* Initialize the transport and network buffer pool.
      704    15981        */
      705    15982    1      I = GI_PARAMS.PARAMS(%GI_BOOT_CBUFFER);
      706    15983    1      IF I > 256 THEN GOTO FREEZE;
      707    15984
      708    15985    1      IF I = 0 THEN GOTO SETUP_PPUT;
      709    15986
      710    15987    1      CALL SETASDT(G$MHJIT.ASDT_MON.CBUFFER, MEMPTR, I, 256);
      711    15988    1      CALL SETASDT(G$MHJIT.ASDT_BIGFOOT.CBUFFER, MEMPTR, I, 256);
      712    15989    1      G$UHJIT.ASDT_MCL.CBUFFER = G$MHJIT.ASDT_MON.CBUFFER;
      713    15990    1      CALL GHH$ASD(G$CBUFFER$,G$MHJIT.ASDT_MON.CBUFFER);
      714    15991
      715    15992    1      KV$VDH_VDHINT.BFRBGN$ = G$CBUFFER$;
      716    15993    1      KV$VDH_VDHINT.BFREND$ = PINCRW(G$CBUFFER$, I*256);
      717    15994    1      CALL KVB$INT(KV$VDH_VDHINT) ALTRET(FREEZE);
      718    15995
      719    15996    1      GI_NEXTPAGE = GI_NEXTPAGE + I;
      720    15997
      721    15998        /* Begin setup of PPUT segment.
      722    15999        */
      723    16000    1   SETUP_PPUT:
      724    16001    1      MEMPTR = GI_NEXTPAGE*256;
      725    16002    1      I = GI_MEMPGS/128;
      726    16003    1      CALL SETASDT(G$MHJIT.ASDT_MON.PPUT,MEMPTR,I,256);
      727    16004    1      CALL SETASDT(G$MHJIT.ASDT_BIGFOOT.PPUT,MEMPTR,I,256);
      728    16005    1      G$UHJIT.ASDT_MCL.PPUT = G$MHJIT.ASDT_MON.PPUT;
      729    16006    1      CALL GHH$ASD(G$PPUT$,G$MHJIT.ASDT_MON.PPUT);
      730    16007
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:21   
      731    16008    1      GI_NEXTPAGE = GI_NEXTPAGE + I;
      732    16009
      733    16010        /* All monitor memory is allocated, finish up the memory data initialization.
      734    16011        */
      735    16012    1      GM_MEM_LOW = GI_NEXTPAGE;
      736    16013    1      G$BOBCAT.MMDATA$ = ADDR(GM_MEM_LOW);
      737    16014    1      G$BOBCAT.MEM_LOW = GM_MEM_LOW;
      738    16015    1      GM_MEM_HI = GI_MEMPGS -1;
      739    16016    1      G$BOBCAT.MEM_HI = GM_MEM_HI;
      740    16017    1      GM_SHUF_HI = GM_MEM_HI;
      741    16018    1      GM_ASHUF = GM_SHUF_HI - GM_MEM_LOW + 1;
      742    16019    1      GM_SHUF = GM_ASHUF;
      743    16020    1      GM_SHUF_MIN = GM_ASHUF;
      744    16021
      745    16022    1      IF GI_MEMPGS >= 8192
      746    16023    1      THEN G$MHJIT.WDT_INIT = G$MHJIT.WDT_INIT *2;
      747    16024
      748    16025    1      CALL SETASDT(G$MHJIT.ASDT_MON.BOBCAT,BOBCAT_PTR,BOBCAT_SIZE,256);
      749    16026    1      CALL SETASDT(G$MHJIT.ASDT_BIGFOOT.BOBCAT,BOBCAT_PTR,BOBCAT_SIZE,256);
      750    16027
      751    16028        /* Finish up monitor initialization.
      752    16029        */
      753    16030    1      CALL GIM$FINISH_INIT;
      754    16031
      755    16032
      756    16033    1      GHT_L6_9X = '0'B;                    /* Allow GUD$RING1 to work            */
      757    16034        /*
      758    16035             Try GHH$ASD in RING1 to see if we've got a L6_9X CPU.
      759    16036          */
      760    16037    1      CALL GUD$RING1;
      761    16038    1      GH_IGNORE_TRAP = 13;
      762    16039    1      CALL GHH$ASD (G$WINDOW1$,G$MHJIT.ASDT_MON.WINDOW1);
      763    16040    2      IF G$MHJIT.TSA_MON.I.TRAP#=13 THEN DO;
      764    16041        /*
      765    16042             Got one.  Run mostly in RING0.
      766    16043             ght$trap also returned us to ring0.
      767    16044           */
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:22   
      768    16045    2           GHT_L6_9X = '2000'X;
      769    16046    2           GH_IGNORE_TRAP = -1;
      770    16047    2           G$MHJIT.ISA_SCHD.S.RING = %G_RING0#;
      771    16048    2           G$MHJIT.ISA_RT_CLOCK.S.RING = %G_RING0#;
      772    16049    3           DO I=0 TO 48;
      773    16050    3                G$MHJIT.INTCON.S.RING(I) = %G_RING0#;
      774    16051    3                END;
      775    16052    2           END;
      776    16053    2      ELSE DO;                   /* Run with a real NULLSEG on REAL machines.    */
      777    16054    2           CALL GUD$RING0;                 /* GET BACK TO RING 0*/
      778    16055    2           GH_IGNORE_TRAP = -1;
      779    16056    2           G$MHJIT.ASDT_MON.NULLSEG.V = '0'B;
      780    16057    2           G$MHJIT.ASDT_BIGFOOT.NULLSEG.V = '0'B;
      781    16058    2           G$UHJIT.ASDT_USR.NULLSEG.V = '0'B;
      782    16059    2           G$UHJIT.ASDT_MCL.NULLSEG.V = '0'B;
      783    16060    2           END;
      784    16061
      785    16062                                                /* Get the users across               */
      786    16063    1      GJ_BOOT_HNDLRS = GI$OFFSETS.NHANDLERS;
      787    16064    1      G_MING = GI$OFFSETS.NHANDLERS;
      788    16065    2      DO J = 0 TO GJ_BOOT_HNDLRS - 1;
      789    16066    2           CALL GHS$ADDUSR (0,%G_M_HANDLER#,USER#,ROSPP,CODE);
      790    16067    2           IF CODE ~= 0
      791    16068    2           THEN GOTO FREEZE;
      792    16069    2           G$MHJIT.ASDT_MON.WINDOW1.BASE = G$USER.UHJITPP(USER#);
      793    16070    2           CALL GHH$ASD (G$WINDOW1$,G$MHJIT.ASDT_MON.WINDOW1);
      794    16071    2           G$WINDOW1$->G$UHJIT.ISA_USR.P$$ = ENTADDR(GJI$INIT_USR);
      795    16072    2           G$WINDOW1$->G$UHJIT.ISA_USR.ASV$=ADDR(G$UHJIT$->G$UHJIT.ASDT_MCL);
      796    16073    2           G$MHJIT.ASDT_MON.WINDOW1.BASE=ROSPP;
      797    16074    2           G$MHJIT.ASDT_MON.WINDOW1.SIZE=(SIZEW(G$ROS)+255)/256;
      798    16075    2           CALL GHH$ASD (G$WINDOW1$,G$MHJIT.ASDT_MON.WINDOW1);
      799    16076    2           J$=ADDR(G$ROS.JIT);
      800    16077    2           JIT.MODE=%G_M_HANDLER#;
      801    16078    2           JIT.PROG_ENTRY=%G_PE_BF#;
      802    16079    2           JIT.PRIV.PRC='FFFFFFFF'X; /*N* WHEN FEPLINK WORKS SHOULD COME FROM SETMSG */
      803    16080    2           JIT.PRIV.AUTH='FFFFFFFF'X;
             16080                    /*N* WHEN FEPLINK WORKS SHOULD COME FROM SETMSG */
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:23   
      804    16081    2           JIT.MAXMEM=65535;
      805    16082    2           JIT.MRT = 2147483647;           /* X'7FFFFFFF'                        */
      806    16083    2           GI_ADDR = POFFW(ADDR(GI_SETFP),ADDR(GIR$ROOT))+DUMMY_BIGFOOT_ASD.BASE*256;
      807    16084    2           WSIZE = SIZEW(GI_SETFP);
      808    16085    2           CALL GI_READBOOT(GI$OFFSETS.HANDLER.TBLOFFSET(J),GI_ADDR,WSIZE);
      809    16086    2           ADDR(JIT.CCBUF)->GI$SETFP = GI_SETFP;
      810    16087    2           JIT.UNAME = GI_SETFP.NAME.TEXT;
      811    16088    2           JIT.ACCN = GI_SETFP.ACCT;
      812    16089    2           JIT.MAXLVLS=10;
      813    16090    2           JIT.PCC = GM_INIT_PGSZ;
      814    16091    2           JIT.GFR_ACCT = 1;
      815    16092    2           J$ = G$BOBCAT.ACCT_RES$;
      816    16093    2           GFR_ACCT.CUR_FPRGS(1) = GFR_ACCT.CUR_FPRGS(1) +1;
      817    16094    2           GFR_ACCT.CUR_MEM(1) = GFR_ACCT.CUR_MEM(1) + GM_INIT_PGSZ;
      818    16095    2           GFR_CUR_MEM(%G_M_HANDLER#) = GFR_CUR_MEM(%G_M_HANDLER#) + GM_INIT_PGSZ;
      819    16096    2           GM_ASHUF = GM_ASHUF - GM_INIT_PGSZ;
      820    16097    2           GM_HSHUF = GM_HSHUF + GM_INIT_PGSZ;
      821    16098    2           END;                            /* DO J                               */
      822    16099
      823    16100        /**/
      824    16101        /* Stuff some values so we can release our pages */
      825    16102        /**/
      826    16103    1      GJ_BOOTCHAN = GI_BOOTCHAN;
      827    16104    1      GJ_BOOTBASE = GI_BOOTBASE;
      828    16105    1      GH_KEEPDELTA = GI_KEEPDELTA;
      829    16106
      830    16107        /* Restore PFS$ */
      831    16108        /**/
      832    16109    1      CALL GHH$LEV(INHIB);                 /* After first vacating it            */
      833    16110    1      G$LOW_MEM.IV.INT.PFS$ = ADDR(G$MHJIT$->G$MHJIT.ISA_PFS.DEV);
      834    16111
      835    16112        /* Set ASDT pointer for GID$RDBOOT */
      836    16113    1      GID_MHJIT$ = G$ASDT_MCL$;
      837    16114
      838    16115
      839    16116                                                /* And exit to the scheduler....      */
      840    16117    1      CALL GHH$LEV(SUSP62);
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:24   
      841    16118    1   FREEZE: CALL GHH$HLT;
      842    16119        %EJECT;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:25   
      843    16120    1   SETASDT: PROC(SEGDESC,MEMADR,SIZE,SEGSIZE);
      844    16121        %G$SEGDESC (FPTN="SEGDESC(0:0)",STCLASS="");
      845    16143    2   DCL MEMADR UBIN(32) ALIGNED;
      846    16144    2   DCL SIZE UBIN WORD;                     /* Pages                              */
      847    16145    2   DCL SEGSIZE UBIN;
      848    16146        /**/
      849    16147    2   DCL PAGE UBIN;
      850    16148    2   DCL TSIZE SBIN;
      851    16149    2   DCL I SBIN;
      852    16150        /**/
      853    16151    2      PAGE=MEMADR/256;
      854    16152    2      TSIZE=SIZE;
      855    16153    2      I=0;
      856    16154    3      DO WHILE(TSIZE>0);
      857    16155    3           SEGDESC.V(I)='1'B;
      858    16156    3           SEGDESC.BASE(I)=PAGE;
      859    16157    4           IF TSIZE>SEGSIZE THEN DO;
      860    16158    4                SEGDESC.SIZE(I)=SEGSIZE-1;
      861    16159    4                I = I + 1;
      862    16160    4                END;                       /* IF TSIZE > SEGSIZE                 */
      863    16161    3           ELSE
      864    16162    3                SEGDESC.SIZE(I)=TSIZE-1;
      865    16163    3           PAGE=PAGE+SEGSIZE;
      866    16164    3           TSIZE=TSIZE-SEGSIZE;
      867    16165    3           END;
      868    16166    2      RETURN;
      869    16167    2   END SETASDT;
      870    16168    1   END GIB$BIGFOOT;
      871    16169        %EOD;

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:26   
--  Include file information  --

   KV$VDH.:E05TOU  is referenced.
   GH_SCHD_M.:E05TOU  is referenced.
   GI_BOOT_C.:E05TOU  is referenced.
   GJ_MSG_M.:E05TOU  is referenced.
   GD$MACS_M.:E05TOU  is referenced.
   GD_EQUS_E.:E05TOU  is referenced.
   GDA_EQUS_E.:E05TOU  is referenced.
   GD_DATA_M.:E05TOU  is referenced.
   GM_MACRO_M.:E05TOU  is referenced.
   GD$MSG_M.:E05TOU  is referenced.
   GM_VIRTUAL_E.:E05TOU  is referenced.
   GI_DATA_M.:E05TOU  is referenced.
   GH_IOFNC_E.:E05TOU  is referenced.
   GH_HARDWARE_M.:E05TOU  is referenced.
   G$BOBCAT_M.:E05TOU  is referenced.
   GFR_DATA_M.:E05TOU  is referenced.
   G_SFILE_M.:E05TOU  is referenced.
   G_ROS_M.:E05TOU  is referenced.
   G_JIT_M.:E05TOU  is referenced.
   G_HJIT_M.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is never referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure GIB$BIGFOOT.

   Procedure GIB$BIGFOOT requires 2989 words for executable code.
   Procedure GIB$BIGFOOT requires 386 words of local(AUTO) storage.

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:27   

 Object Unit name= GIB$BIGFOOT                                File name= GIB$BIGFOOT.:E05TOU
 UTS= JUL 29 '97 21:40:50.88 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_LCP6_SYSTEM                               Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size HexSiz  Section name
    0   Data  even  none   326    146  GIB$BIGFOOT
    1  RoData even  UTS     72     48  GIB$BIGFOOT
    2   Proc  even  none  2989    BAD  GIB$BIGFOOT
    3  RoData even  none    16     10  GIB$BIGFOOT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect HexLoc Primary Altret sequence   type   Parms  Name
     2      0   yes            yes      Std        0  GIB$BIGFOOT

  ****  Data defs  ****

 Sect HexLoc  Name                           Sect HexLoc  Name
    0      2  GI_TSTKM_PGSZ                      0      3  GI_MEMPGS
    0      4  GI_NEXTPAGE                        0      6  GI_READBOOT
    0      8  GI_ENDBOOT                         0      A  GI_KEEPDELTA
    0      B  GI$OFFSETS$                        0      D  GI_PARAMS
    0     2D  GI_PSEUDOS                         0    138  G$SATYR_RCVISA$
    0    13A  G$SATYR_TRNISA$
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:28   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       2 GHH$ASD
         yes           Std       3 GIB$READCPLR
         yes           Std       0 GIB$INTCPLR
         yes           Std       0 GIB$DISKBOOT
 yes     yes           Std       1 GHH$IO_IN
         yes           Std       0 GIB$CPLRBOOT
         yes           Std       3 GID$RDBOOT
         yes           Std       0 GJI$INIT_USR
         yes           Std       0 GHT$MCL
 yes     yes           Std       0 GDA$BOOT_INIT
         yes           Std       1 GHH$LEV
         yes           Std       1 GIM$BUILD_CHNTBL
 yes     yes           Std       1 KVB$INT
         yes           Std       0 GUD$RING0
         yes           Std       5 GHS$ADDUSR
         yes           Std       0 GIB$SETADP
         yes           Std       0 GHH$HLT
         yes           Std       2 X6A_MAUTO
         yes           Std       1 GIM$BUILD_BOBCAT
         yes           Std       0 GIM$FINISH_INIT
         yes           Std       0 GHT$TRAP
         yes           Std       0 GUD$RING1
                       nStd      0 X6A_AUTO_0
                       nStd      0 X6D_MID
                       nStd      0 X6A_ARET
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:29   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     GIR_ISA_REBOOT                        GI@END                                GI_BOOTCHAN
     GJ_BOOTCHAN                           GI_BOOTBASE                           GJ_BOOTBASE
     GJ_BOOT_HNDLRS                        G_MING                                G$USRT$
     GH_KEEPDELTA                          GI_LASTTRAP                           GI_TRAPOK
     GI_MHJIT                              GH_QMIN                               GH_QUAN
     G_XCONTIME                            GFR_PSEUDO#                           G_MAX_USRS
     GFR_MAX_MEM                           GFR_CUR_MEM                           GJ_SFILE_MAX_DATA
     GFR_PSUDO_NM                          GFR_PSUDO_MAX_SYS                     GFR_PSUDO_MAX_USR
     GFR_PSUDO_MAX_CG                      GFR_PSUDO_MAX_HND                     GFR_PSUDO_MAX_GST
     GI_DUMP                               GM_MEM_LOW                            GM_MEM_HI
     GM_SHUF_HI                            GM_ASHUF                              GM_HSHUF
     GM_SHUF_MIN                           GM_SHUF                               GM_INIT_PGSZ
     GM_TSTKU_PGSZ                         GI_FEX                                G$BOBCAT$
     G$WINDOW1$                            G$ROS$                                G$ISA_DBINH$
     G$MHJIT$                              G$UHJIT$                              G$TSTACK$
     G$TSTACKM$                            G$TSTACKU$                            G$CBUFFER$
     G$PPUT$                          r    G$ASDT_MCL$                           GHT_L6_9X
     GH_IGNORE_TRAP                        G$LOW_MEM$                            GIR$ROOT
     G$ISA_SATYR_RCV$                      G$ISA_SATYR_TRN$                      G$DB_PROC$
     GD$DELTA_DATA$                        GI_ADDR                               GID_MHJIT$
r    G$ROS$
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:30   


        1        1        /*M* GIB$BIGFOOT - Main Module for LCP-6 Boot Routine              */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=3,IND=5,ENU=0,ECU=0  */
        8        8        /*F*    NAME:  GIB$BIGFOOT
        9        9                DESCRIPTION:
       10       10                   GIB$BIGFOOT is called from GIR$BEGIN after an AUTO stack
       11       11                has been established.  The coupler boot process is completed
       12       12                by reading in the rest of BIGFOOT beyond the first 8K that
       13       13                we get as a result of the bootload order to the coupler.
       14       14                GIB$BIGFOOT also performs the high level control of the
       15       15                remaining boot/initialization functions such as reading the
       16       16                monitor, GHOST1, etc from the host/link; building the channel
       17       17                table, user tables, PPUT, etc.; and initializing the debug
       18       18                interface.
       19       19                                                                           */
       20       20        GIB$BIGFOOT: PROC;

     20   2 000000  D380 0000 0000  xent GIB$BIGFOOT     LNJ,B5   X6A_AUTO_0
          2 000003       0182 0000                       DC       386,0

       21       21        /**/
       22       22    1   DCL GHH$IO_IN ENTRY(1) ALTRET;
       23       23    1   DCL GHH$IO ENTRY(1) ALTRET;
       24       24    1   DCL GHH$HLT ENTRY;
       25       25    1   DCL GHH$ASD ENTRY(2);
       26       26    1   DCL GHH$LEV ENTRY(1);
       27       27    1   DCL GIM$BUILD_CHNTBL ENTRY(1);
       28       28    1   DCL GIM$BUILD_BOBCAT ENTRY(1);
       29       29    1   DCL GIM$FINISH_INIT ENTRY;
       30       30    1   DCL GHT$TRAP ENTRY;
       31       31    1   DCL GHT$MCL ENTRY;
       32       32    1   DCL GIB$CPLRBOOT ENTRY;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:31   
       33       33    1   DCL GIB$READCPLR ENTRY(3);
       34       34    1   DCL GIB$INTCPLR ENTRY;
       35       35    1   DCL GIB$SETADP ENTRY;                   /* turn on adp bit if booted from 8000*/
       36       36    1   DCL GID$RDBOOT ENTRY(3);
       37       37    1   DCL GIB$DISKBOOT ENTRY;
       38       38    1   DCL GDA$BOOT_INIT ENTRY ALTRET;
       39       39    1   DCL GHI$SCHD_INT_SERV ENTRY;
       40       40    1   DCL GHS$ADDUSR ENTRY(5);
       41       41    1   DCL GJI$INIT_USR ENTRY;
       42       42    1   DCL GUD$RING0 ENTRY;
       43       43    1   DCL GUD$RING1 ENTRY;
       44       44    1   DCL X6A_MAUTO ENTRY (2);
       45       45    1   DCL KVB$INT ENTRY(1) ALTRET;
       46       46
       47       47        %INCLUDE G_HJIT_M;
       48      192        %INCLUDE G_JIT_M;
       49      457        %INCLUDE G_ROS_M;
       50      539 S      %INCLUDE GF_LCP6_M;
       51      540        %INCLUDE G_SFILE_M;
       52      600        %INCLUDE GFR_DATA_M;
       53      620 S      %INCLUDE G_LCP6_E;
       54      621        %INCLUDE G$BOBCAT_M;
       55      641        %INCLUDE GH_HARDWARE_M;
       56      739        %INCLUDE GH_IOFNC_E;
       57      808 S      %INCLUDE GH_LCP6_M;
       58      809        %INCLUDE GI_DATA_M;
       59      837        %INCLUDE GM_VIRTUAL_E;
       60     1047        %INCLUDE GD$MSG_M;
       61     1211        %INCLUDE GM_MACRO_M;
       62     1693        %INCLUDE GD_DATA_M;
       63     1755        %INCLUDE GDA_EQUS_E;
       64     1782        %INCLUDE GD_EQUS_E;
       65     1943        %INCLUDE GD$MACS_M;
       66     1981        %INCLUDE GJ_MSG_M;
       67     2294        %INCLUDE GI_BOOT_C;
       68     2405        %INCLUDE GH_SCHD_M;
       69     2549 S      %INCLUDE GU_LCP6_M;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:32   
       70     2550        %INCLUDE KV$VDH;
       71     2981
       72     2982        %GH_IO (FPTN=GH_IO,STCLASS=AUTO);
       73     2998        %GH_LEV (FPTN=SUSP62,TYPE=TRIGGER_SUSPEND,LEVEL=62);
       74     3020        %GH_LEV (FPTN=INHIB,TYPE=SUSPEND_INHIBIT,LEVEL=%G_IL_INHIBIT#);
       75     3042        %GI$OFFSETS (FPTN=GI$OFFSETS,STCLASS="BASED(GI$OFFSETS$)");
       76     3047        %G$SEGDESC (STCLASS=BASED);
       77     3069        %G$ISA (FPTN=GIR_ISA_REBOOT,STCLASS=SYMREF);
       78     3372        %G$MHJIT (FPTN=G$MHJIT,STCLASS="BASED(MHJIT$)");
       79    10246        %G$UHJIT (FPTN=G$UHJIT,STCLASS="BASED(G$UHJIT$)");
       80    13220        %G$ASDT (STCLASS="BASED(MHJIT$)");
       81    13249        %G$LOW_MEM (FPTN=G$LOW_MEM,STCLASS="BASED(G$LOW_MEM$)");
       82    13298    1   DCL TWO4KSEGS(0:8191) UBIN WORD BASED;
       83    13299    1   DCL TV(0:45) EPTR BASED(TV$);
       84    13300        %G$BOBCAT (FPTN=G$BOBCAT,STCLASS="BASED(G$BOBCAT$)");
       85    13313        %G$STACK_HDR (FPTN=G$STACK_HDR,STCLASS=BASED);
       86    13329        %GD_DATA (STCLASS=BASED);
       87    13375        %G$ROS (STCLASS="BASED(G$WINDOW1$)",FULL=YES);
       88    14326        %G$JIT (FPTN=JIT,STCLASS="BASED(J$)");
       89    14740        %G$JIT_E;
       90    14802        %GFR$ACCT(FPTN=GFR_ACCT,STCLASS="BASED(J$)");
       91    14815        %G_EVBUF(FPTN=G$EVBUF, STCLASS=BASED);
       92    14823        %GD$FD_PROC (FPTN=DB_PROC,STCLASS="BASED(G$DB_PROC$)");
       93    14839        %GD$FD_DS (FPTN=DB_DS,STCLASS="BASED(GD$DELTA_DATA$)");
       94    14894
       95    14895    1   DCL GI_TSTKM_PGSZ UBIN STATIC SYMDEF INIT(3);
       96    14896    1   DCL GI_MEMPGS UBIN WORD STATIC SYMDEF INIT(0);
       97    14897    1   DCL GI_NEXTPAGE UBIN(32) STATIC SYMDEF INIT(0); /* NEXT AVAILABLE PAGE        */
       98    14898    1   DCL GI_READBOOT EPTR STATIC SYMDEF;
       99    14899    1   DCL GI_ENDBOOT EPTR STATIC SYMDEF INIT(ENTADDR(NIL));
      100    14900    1   DCL GI_KEEPDELTA BIT(1) STATIC SYMDEF INIT('1'B);
      101    14901    1   DCL GI$OFFSETS$ PTR STATIC SYMDEF INIT(ADDR(GI@END));
      102    14902        %GJ_SETFP_MSG (FPTN=GI_SETFP,
      103    14903                       BOOT=YES,
      104    14904                       STCLASS=AUTO);
      105    15113        %GJ_SETFP_MSG (FPTN=GI$SETFP,
      106    15114                         BOOT=YES,
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:33   
      107    15115                         STCLASS=BASED);
      108    15324        %GI$PARAMS (FPTN=GI_PARAMS,
      109    15325                    SYSTEM=LCP6,
      110    15326                    STCLASS="STATIC SYMDEF",
      111    15327                    NUM=GI_BOOT_HI);
      112    15330
      113    15331        %GI$PARAMS (FPTN=GI_CNTL,
      114    15332                    SYSTEM=LCP6,
      115    15333                    STCLASS=AUTO,
      116    15334                    NUM=GI_CNTL_BOOTHI);
      117    15337        %GI$PSEUDOS (FPTN=GI_PSEUDOS,
      118    15338                     SYSTEM=LCP6,
      119    15339                     STCLASS="STATIC SYMDEF",
      120    15340                     NUM=7);
      121    15344        %GI$SECTION (FPTN=GI_SECTION,
      122    15345                     SYSTEM=LCP6,
      123    15346                     STCLASS=AUTO,
      124    15347                     NUM=30);
      125    15350    1   DCL 1 SECT_TABLE (0:30) STATIC ALIGNED,
      126    15351    1         2 PADDR UBIN(32),
      127    15352    1         2 PSIZE UBIN WORD,
      128    15353    1         2 SEGSIZE UBIN WORD,
      129    15354    1         2 SEGX UBIN WORD;
      130    15355        /**/
      131    15356        /* Following cells should be temporary */
      132    15357        /**/
      133    15358    1   DCL G$SATYR_RCVISA$ PTR STATIC SYMDEF;
      134    15359    1   DCL G$SATYR_TRNISA$ PTR STATIC SYMDEF;
      135    15360    1   DCL G$ZERO$ PTR CONSTANT INIT(ADDR(NIL));
      136    15361        /**/
      137    15362        /**/
      138    15363    1   DCL GI@END SBIN SYMREF;                 /* ADDRESS OF END OF BIGFOOT          */
      139    15364    1   DCL GIT$TOP PTR SYMREF;
      140    15365    1   DCL GI_BOOTCHAN UBIN SYMREF;
      141    15366    1   DCL GJ_BOOTCHAN UBIN SYMREF;
      142    15367    1   DCL GI_BOOTBASE UBIN(32) SYMREF;
      143    15368    1   DCL GJ_BOOTBASE UBIN(32) SYMREF;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:34   
      144    15369    1   DCL GJ_BOOT_HNDLRS UBIN SYMREF;
      145    15370    1   DCL G_MING UBIN SYMREF;
      146    15371    1   DCL G$USRT$ PTR SYMREF;
      147    15372    1   DCL GH_KEEPDELTA BIT(1) SYMREF;
      148    15373    1   DCL GI_LASTTRAP SBIN WORD SYMREF;
      149    15374    1   DCL GI_TRAPOK UBIN WORD SYMREF;
      150    15375    1   DCL 1 GI_MHJIT SYMREF,
      151    15376    1         2 INST UBIN,
      152    15377    1         2 ASDT BIT(32);
      153    15378    1   DCL GH_QMIN UBIN SYMREF;
      154    15379    1   DCL GH_QUAN UBIN SYMREF;
      155    15380    1   DCL G_XCONTIME UBIN SYMREF;
      156    15381    1   DCL GFR_PSEUDO# UBIN SYMREF;
      157    15382    1   DCL G_MAX_USRS(0:4) UBIN WORD SYMREF;
      158    15383    1   DCL GFR_MAX_MEM(0:4) UBIN WORD SYMREF;
      159    15384    1   DCL GFR_CUR_MEM(0:4) UBIN WORD SYMREF;
      160    15385    1   DCL GJ_SFILE_MAX_DATA UBIN WORD SYMREF;
      161    15386    1   DCL GFR_PSUDO_NM(0:7) CHAR(8) SYMREF;
      162    15387    1   DCL GFR_PSUDO_MAX_SYS(0:7) UBIN WORD SYMREF;
      163    15388    1   DCL GFR_PSUDO_MAX_USR(0:7) UBIN WORD SYMREF;
      164    15389    1   DCL GFR_PSUDO_MAX_CG(0:7) UBIN WORD SYMREF;
      165    15390    1   DCL GFR_PSUDO_MAX_HND(0:7) UBIN WORD SYMREF;
      166    15391    1   DCL GFR_PSUDO_MAX_GST(0:7) UBIN WORD SYMREF;
      167    15392    1   DCL GI_DUMP UBIN(16) SYMREF;
      168    15393    1   DCL GM_MEM_LOW UBIN(16) SYMREF;
      169    15394    1   DCL GM_MEM_HI  UBIN(16) SYMREF;
      170    15395    1   DCL GM_SHUF_HI UBIN(16) SYMREF;
      171    15396    1   DCL GM_ASHUF   UBIN(16) SYMREF;
      172    15397    1   DCL GM_HSHUF   UBIN(16) SYMREF;
      173    15398    1   DCL GM_SHUF_MIN UBIN(16) SYMREF;
      174    15399    1   DCL GM_SHUF    UBIN(16) SYMREF;
      175    15400    1   DCL GM_NSHF    UBIN(16) SYMREF;
      176    15401    1   DCL GM_INIT_PGSZ UBIN SYMREF;
      177    15402    1   DCL GM_TSTKU_PGSZ UBIN SYMREF;
      178    15403    1   DCL 1 GI_FEX SYMREF,
      179    15404    1         2 HOST# UBIN BYTE UNAL,
      180    15405    1         2 FEP# UBIN BYTE UNAL,
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:35   
      181    15406    1         2 * UBIN BYTE UNAL,
      182    15407    1         2 * UBIN BYTE UNAL;
      183    15408    1   DCL G$SEG(0:30) UBIN(32) CONSTANT INIT(%GM_SEG0000_BASE,
      184    15409    1                                           %GM_SEG0001_BASE,
      185    15410    1                                           %GM_SEG0002_BASE,
      186    15411    1                                           %GM_SEG0003_BASE,
      187    15412    1                                           %GM_SEG0004_BASE,
      188    15413    1                                           %GM_SEG0005_BASE,
      189    15414    1                                           %GM_SEG0006_BASE,
      190    15415    1                                           %GM_SEG0007_BASE,
      191    15416    1                                           %GM_SEG0008_BASE,
      192    15417    1                                           %GM_SEG0009_BASE,
      193    15418    1                                           %GM_SEG0010_BASE,
      194    15419    1                                           %GM_SEG0011_BASE,
      195    15420    1                                           %GM_SEG0012_BASE,
      196    15421    1                                           %GM_SEG0013_BASE,
      197    15422    1                                           %GM_SEG0014_BASE,
      198    15423    1                                           %GM_SEG0015_BASE,
      199    15424    1                                           %GM_SEG0100_BASE,
      200    15425    1                                           %GM_SEG0200_BASE,
      201    15426    1                                           %GM_SEG0300_BASE,
      202    15427    1                                           %GM_SEG0400_BASE,
      203    15428    1                                           %GM_SEG0500_BASE,
      204    15429    1                                           %GM_SEG0600_BASE,
      205    15430    1                                           %GM_SEG0700_BASE,
      206    15431    1                                           %GM_SEG0800_BASE,
      207    15432    1                                           %GM_SEG0900_BASE,
      208    15433    1                                           %GM_SEG1000_BASE,
      209    15434    1                                           %GM_SEG1100_BASE,
      210    15435    1                                           %GM_SEG1200_BASE,
      211    15436    1                                           %GM_SEG1300_BASE,
      212    15437    1                                           %GM_SEG1400_BASE,
      213    15438    1                                           %GM_SEG1500_BASE);
      214    15439    1   DCL G$SEG$(0:30) REDEF G$SEG PTR;
      215    15440    1   DCL G$BOBCAT$ PTR SYMREF;
      216    15441    1   DCL G$WINDOW1$ PTR SYMREF;
      217    15442    1   DCL G$ROS$ PTR SYMREF;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:36   
      218    15443    1   DCL G$ISA_DBINH$ PTR SYMREF;
      219    15444    1   DCL G$MHJIT$ PTR SYMREF;
      220    15445    1   DCL G$UHJIT$ PTR SYMREF;
      221    15446    1   DCL G$TSTACK$ PTR SYMREF;
      222    15447    1   DCL G$TSTACKM$ PTR SYMREF;
      223    15448    1   DCL G$TSTACKM REDEF G$TSTACKM$ UBIN(32);
      224    15449    1   DCL G$TSTACKU$ PTR SYMREF;
      225    15450    1   DCL G$TSTACKU REDEF G$TSTACKU$ UBIN(32);
      226    15451    1   DCL G$CBUFFER$ PTR SYMREF;
      227    15452    1   DCL G$PPUT$ PTR SYMREF;
      228    15453    1   DCL KV_B_POOL# UBIN WORD SYMREF;
      229    15454    1   DCL G$ASDT_MCL$ PTR SYMREF READONLY;
      230    15455    1   DCL GHT_L6_9X BIT(16) SYMREF;
      231    15456    1   DCL GH_IGNORE_TRAP SBIN SYMREF;
      232    15457    1   DCL G$LOW_MEM$ PTR SYMREF;
      233    15458    1   DCL GIR$ROOT UBIN WORD SYMREF;
      234    15459    1   DCL G$ISA_SATYR_RCV$ PTR SYMREF;
      235    15460    1   DCL G$ISA_SATYR_TRN$ PTR SYMREF;
      236    15461    1   DCL G$DB_PROC$ PTR SYMREF;
      237    15462    1   DCL GD$DELTA_DATA$ PTR SYMREF;
      238    15463    1   DCL GI_ADDR UBIN(32) SYMREF;
      239    15464    1   DCL GID_MHJIT$ PTR SYMREF;
      240    15465
      241    15466    1   DCL MEMPTR UBIN(32);
      242    15467    1   DCL MEM$ REDEF MEMPTR PTR;
      243    15468    1   DCL BOBCAT_PTR UBIN(32);
      244    15469    1   DCL ONEWORD SBIN WORD BASED;
      245    15470    1   DCL WORDS UBIN;
      246    15471    1   DCL PBASE$ PTR BASED;
      247    15472    1   DCL I UBIN;
      248    15473    1   DCL J UBIN WORD;
      249    15474    1   DCL INDX UBIN;
      250    15475    1   DCL NAK BIT(1);
      251    15476    1   DCL MHJITPTR UBIN(32);
      252    15477    1   DCL MHJIT$ REDEF MHJITPTR PTR;
      253    15478    1   DCL TEMPADDR UBIN(32);
      254    15479    1   DCL TV$ PTR;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:37   
      255    15480    1   DCL PAGES UBIN WORD;
      256    15481    1   DCL PAGE# UBIN WORD;
      257    15482    1   DCL WSIZE UBIN(32);
      258    15483        /**/
      259    15484    1   DCL MON_STATIC_ASDTX UBIN;
      260    15485    1   DCL MON_PROC_ASDTX UBIN;
      261    15486    1   DCL MON_STATIC_SIZE UBIN(32);
      262    15487    1   DCL MON_PROC_SIZE UBIN(32);
      263    15488        /**/
      264    15489    1   DCL USER# UBIN;
      265    15490    1   DCL CODE UBIN;
      266    15491    1   DCL ROSPP UBIN;
      267    15492    1   DCL J$ PTR;
      268    15493    1   DCL DO$ PTR;
      269    15494    1   DCL NEXT$ PTR;
      270    15495    1   DCL NEXT REDEF NEXT$ UBIN(32);
      271    15496    1   DCL BOBCAT_SIZE UBIN WORD;
      272    15497    1   DCL USRT$ PTR;
      273    15498
      274    15499        %GI$PSEUDOS (FPTN=GI$PSEUDOS,
      275    15500                     SYSTEM=LCP6,
      276    15501                     STCLASS=BASED,
      277    15502                     NUM=0);
      278    15506        /**/
      279    15507        %G$USER (FPTN="G$USER(0:0)",STCLASS="BASED(G$USRT$)");
      280    15518        /**/
      281    15519    1   DCL DOUBLEWORD(0:32767) UBIN(32) BASED DALIGNED;
      282    15520        %G$SEGDESC (FPTN=DUMMY_BIGFOOT_ASD,STCLASS=STATIC,SIZE=255,
      283    15521                    V=YES,RP=G_R_MON#,WP=G_R_MON#,EP=G_R_MON#);
      284    15543
      285    15544        %KV$VDH_VDHINT (STCLASS=STATIC, MINBFR=32, MAXPWR2=13);
      286    15563
      287    15564        %EJECT;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:38   
      288    15565        /* Find out how much memory we have. */
      289    15566
      290    15567    1      GI_TRAPOK=15;                        /* Expect non-existent resource       */

  15567   2 000005  6C0F                                 LDV,R6   15
          2 000006  EF00 0000 0000  xsym                 STR,R6   GI_TRAPOK

      291    15568    1      GI_LASTTRAP=0;

  15568   2 000009  8700 0000 0000  xsym                 CL       GI_LASTTRAP

      292    15569    1      INDX = 29;                           /* TO FORCE PTR RELOAD IN MEMORY LOOP */

  15569   2 00000C  5C1D                                 LDV,R5   29
          2 00000D  DF47 014B                            STR,R5   INDX,AUTO

      293    15570    1      MEMPTR=POFFW(ADDR(GI@END),ADDR(GIR$ROOT))+256;

  15570   2 00000F  EB80 0000 0000  xsym                 LAB,B6   GIR$ROOT
          2 000012  EFC7 0178                            STB,B6   I+2,AUTO
          2 000014  DB80 0000 0000  xsym                 LAB,B5   GI@END
          2 000017  DFC7 017A                            STB,B5   I+4,AUTO
          2 000019  8CC7 017A                            LDI      I+4,AUTO
          2 00001B  84C7 0178                            SID      I+2,AUTO
          2 00001D  8470 0000 0100                       AID      256,IMO
          2 000020  8D47 0144                            SDI      MEMPTR,AUTO

      294    15571    1      MEMPTR=MEMPTR-MOD(MEMPTR,256);

  15571   2 000022  E857                                 LDR,R6   R7
          2 000023  E570 00FF                            AND,R6   255,IMO
          2 000025  70F0                                 DAR,R7   16
          2 000026  84C7 0144                            SID      MEMPTR,AUTO
          2 000028  8656                                 CPL      R6
          2 000029  8657                                 CPL      R7
          2 00002A  8470 0000 0001                       AID      1,IMO
          2 00002D  8D47 0144                            SDI      MEMPTR,AUTO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:39   

      295    15572    1      GI_MEMPGS=MEMPTR/256;

  15572   2 00002F  70C8                                 DOR,R7   8
          2 000030  E857                                 LDR,R6   R7
          2 000031  EF00 0000 0003  00                   STR,R6   GI_MEMPGS

      296    15573    2      DO WHILE(GI_LASTTRAP=0 AND GI_MEMPGS<%BITBIN('8000'X));

  15573   2 000034  0F81 0035                            B        s:15583,PREL

      297    15574    2           GI_MEMPGS = GI_MEMPGS + 1;

  15574   2 000036  8A80 0000 0003  00                   INC      GI_MEMPGS

      298    15575    2           DUMMY_BIGFOOT_ASD.BASE = GI_MEMPGS;

  15575   2 000039  E800 0000 0003  00                   LDR,R6   GI_MEMPGS
          2 00003C  EA80 0000 013C  00                   SRM,R6,'7FFF'X    DUMMY_BIGFOOT_ASD
          2 00003F       7FFF

      299    15576    2           CALL GHH$ASD(G$SEG$(29),DUMMY_BIGFOOT_ASD);

  15576   2 000040  BB80 0000 0000  03                   LAB,B3   0
          2 000043  CBF0 0200                            LAB,B4   512,IMO
          2 000045  E380 0000 0000  xent                 LNJ,B6   GHH$ASD
          2 000048       0001                            DC       s:15577,PREL

      300    15577    2           I=G$SEG$(29)->ONEWORD;

  15577   2 000049  EC80 0000 003C  01                   LDB,B6   G$SEG+58
          2 00004C  E806                                 LDR,R6   ,B6
          2 00004D  EF47 0149                            STR,R6   I,AUTO

      301    15578    2           IF GI_LASTTRAP ~= 0 THEN EXIT;

  15578   2 00004F  D800 0000 0000  xsym                 LDR,R5   GI_LASTTRAP
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:40   
          2 000052  5981 0022                            BNEZ,R5  s:15584,PREL

      302    15579    2           G$SEG$(29)->ONEWORD=-I;

  15579   2 000054  8256                                 NEG      R6
          2 000055  EF06                                 STR,R6   ,B6

      303    15580    2           INDX = 29;

  15580   2 000056  5C1D                                 LDV,R5   29
          2 000057  DF47 014B                            STR,R5   INDX,AUTO

      304    15581    2           IF G$SEG$(INDX)->ONEWORD~=-I THEN GI_LASTTRAP=-1;

  15581   2 000059  B855                                 LDR,R3   R5
          2 00005A  DCB0 0000 0002  01                   LDB,B5   G$SEG,R3
          2 00005D  C847 0149                            LDR,R4   I,AUTO
          2 00005F  8254                                 NEG      R4
          2 000060  C905                                 CMR,R4   ,B5
          2 000061  0901 0005                            BE       s:15582,PREL

  15581   2 000063  8900 0000 0000  xsym                 LBT,'FFFF'X       GI_LASTTRAP
  15581   2 000066       FFFF

      305    15582    2           G$SEG$(29)->ONEWORD=I;

  15582   2 000067  E847 0149                            LDR,R6   I,AUTO
          2 000069  EF06                                 STR,R6   ,B6

      306    15583    2           END;

  15583   2 00006A  E800 0000 0000  xsym                 LDR,R6   GI_LASTTRAP
          2 00006D  6981 0007                            BNEZ,R6  s:15584,PREL
          2 00006F  C800 0000 0003  00                   LDR,R4   GI_MEMPGS
          2 000072  C970 8000                            CMR,R4   -32768,IMO
          2 000074  0242                                 BL       s:15574,SPREL

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:41   
      307    15584    1      GI_TRAPOK=0;

  15584   2 000075  8700 0000 0000  xsym                 CL       GI_TRAPOK

      308    15585
      309    15586        /* Check the device ID of the boot channel.  If it is a coupler
      310    15587           then call the coupler boot routine.  For diskette we will have
      311    15588           to do something later.                                          */
      312    15589
      313    15590    1      GH_IO.CAS.CHN=GI_BOOTCHAN;

  15590   2 000078  E800 0000 0000  xsym                 LDR,R6   GI_BOOTCHAN
          2 00007B  6006                                 SOL,R6   6
          2 00007C  EAC7 0004                            SRM,R6,'FFC0'X    GH_IO,AUTO
          2 00007E       FFC0

      314    15591    1      GH_IO.CAS.FNC=%GH#IO_INPDVCID;

  15591   2 00007F  6C26                                 LDV,R6   38
          2 000080  EAC7 0004                            SRM,R6,'003F'X    GH_IO,AUTO
          2 000082       003F

      315    15592    1      CALL GHH$IO_IN(GH_IO) ALTRET(FREEZE);

  15592   2 000083  EBC7 0004                            LAB,B6   GH_IO,AUTO
          2 000085  EFC7 0178                            STB,B6   I+2,AUTO
          2 000087  BBC7 0178                            LAB,B3   I+2,AUTO
          2 000089  CBF0 0100                            LAB,B4   256,IMO
          2 00008B  E380 0000 0000  xent                 LNJ,B6   GHH$IO_IN
          2 00008E       0AD2                            DC       s:16118,PREL

      316    15593    2      DO SELECT(GH_IO.STATUS);             /* DEVICE ID                          */

  15593   2 00008F  E847 0005                            LDR,R6   GH_IO+1,AUTO
          2 000091  E970 2408                            CMR,R6   9224,IMO
          2 000093  0201 0005                            BL       s:15593+10,PREL
          2 000095  0901 0009                            BE       s:15595,PREL
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:42   
          2 000097  0F81 0029                            B        s:15602,PREL
          2 000099  E970 2017                            CMR,R6   8215,IMO
          2 00009B  0981 0025                            BNE      s:15602,PREL
          2 00009D  0F81 0015                            B        s:15599,PREL

      317    15594    2           SELECT('2408'X);                /* COUPLER                            */

      318    15595    2           GI_READBOOT=ENTADDR(GIB$READCPLR);

  15595   2 00009F  EB80 0000 0000  xent                 LAB,B6   GIB$READCPLR
          2 0000A2  EF80 0000 0006  00                   STB,B6   GI_READBOOT

      319    15596    2           GI_ENDBOOT = ENTADDR(GIB$INTCPLR);

  15596   2 0000A5  DB80 0000 0000  xent                 LAB,B5   GIB$INTCPLR
          2 0000A8  DF80 0000 0008  00                   STB,B5   GI_ENDBOOT

      320    15597    2           CALL GIB$CPLRBOOT;

  15597   2 0000AB  CBF0 0000                            LAB,B4   0,IMO
          2 0000AD  E380 0000 0000  xent                 LNJ,B6   GIB$CPLRBOOT
          2 0000B0       0001                            DC       s:15597+6,PREL
          2 0000B1  0F81 0015                            B        s:15607,PREL

      321    15598    2           SELECT('2017'X);                /* DISK                               */

      322    15599    2           GI_READBOOT=ENTADDR(GID$RDBOOT);

  15599   2 0000B3  EB80 0000 0000  xent                 LAB,B6   GID$RDBOOT
          2 0000B6  EF80 0000 0006  00                   STB,B6   GI_READBOOT

      323    15600    2           CALL GIB$DISKBOOT;

  15600   2 0000B9  CBF0 0000                            LAB,B4   0,IMO
          2 0000BB  E380 0000 0000  xent                 LNJ,B6   GIB$DISKBOOT
          2 0000BE       0001                            DC       s:15600+6,PREL
          2 0000BF  0F81 0007                            B        s:15607,PREL
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:43   

      324    15601    2           SELECT(ELSE);                   /* UNKNOWN OR UNWANTED                */

      325    15602    2      CALL GHH$HLT;

  15602   2 0000C1  CBF0 0000                            LAB,B4   0,IMO
          2 0000C3  E380 0000 0000  xent                 LNJ,B6   GHH$HLT
          2 0000C6       0001                            DC       s:15607,PREL

      326    15603    2           END;

      327    15604        /**/
      328    15605        /* Move BIGFOOT up to the top 64K of memory */
      329    15606        /**/
      330    15607    1      DUMMY_BIGFOOT_ASD.BASE=MINIMUM(GI_MEMPGS-256,4096-256);

  15607   2 0000C7  E870 0F00                            LDR,R6   3840,IMO
          2 0000C9  D800 0000 0003  00                   LDR,R5   GI_MEMPGS
          2 0000CC  DA70 FF00                            ADD,R5   -256,IMO
          2 0000CE  D956                                 CMR,R5   R6
          2 0000CF  0881 0002                            BAGE     s:15607+11,PREL
          2 0000D1  E855                                 LDR,R6   R5
          2 0000D2  EA80 0000 013C  00                   SRM,R6,'7FFF'X    DUMMY_BIGFOOT_ASD
          2 0000D5       7FFF

      331    15608    1      CALL GHH$ASD(G$SEG$(29),DUMMY_BIGFOOT_ASD);

  15608   2 0000D6  BB80 0000 0000  03                   LAB,B3   0
          2 0000D9  CBF0 0200                            LAB,B4   512,IMO
          2 0000DB  E380 0000 0000  xent                 LNJ,B6   GHH$ASD
          2 0000DE       0001                            DC       s:15609,PREL

      332    15609    2      DO I=0 TO 32767;

  15609   2 0000DF  8747 0149                            CL       I,AUTO

      333    15610    2           G$SEG$(29)->DOUBLEWORD(I)=G$SEG$(30)->DOUBLEWORD(I);
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:44   

  15610   2 0000E1  EC80 0000 003E  01                   LDB,B6   G$SEG+60
          2 0000E4  B847 0149                            LDR,R3   I,AUTO
          2 0000E6  8CB6                                 LDI      ,B6,R3
          2 0000E7  DC80 0000 003C  01                   LDB,B5   G$SEG+58
          2 0000EA  8D35                                 SDI      ,B5,R3

      334    15611    2           END;

  15611   2 0000EB  8AC7 0149                            INC      I,AUTO
          2 0000ED  E847 0149                            LDR,R6   I,AUTO
          2 0000EF  E970 7FFF                            CMR,R6   32767,IMO
          2 0000F1  03F0                                 BLE      s:15610,SPREL

      335    15612    1      CALL GHH$ASD(G$SEG$(30),DUMMY_BIGFOOT_ASD);

  15612   2 0000F2  BB80 0000 0004  03                   LAB,B3   +4
          2 0000F5  CBF0 0200                            LAB,B4   512,IMO
          2 0000F7  E380 0000 0000  xent                 LNJ,B6   GHH$ASD
          2 0000FA       0001                            DC       s:15613,PREL

      336    15613    1      GI_NEXTPAGE=%GM_LOW_MEM_SZ;

  15613   2 0000FB  8CF0 0000 0004                       LDI      4,IMO
          2 0000FE  8D00 0000 0004  00                   SDI      GI_NEXTPAGE

      337    15614        /**/
      338    15615        /* Read in GI_SECTION table */
      339    15616        /**/
      340    15617    1      GI_ADDR = POFFW(ADDR(GI_SECTION),ADDR(GIR$ROOT))+DUMMY_BIGFOOT_ASD.BASE*256;

  15617   2 000101  EB80 0000 0000  xsym                 LAB,B6   GIR$ROOT
          2 000104  EFC7 0178                            STB,B6   I+2,AUTO
          2 000106  DBC7 0088                            LAB,B5   GI_SECTION,AUTO
          2 000108  DFC7 017A                            STB,B5   I+4,AUTO
          2 00010A  8CC7 017A                            LDI      I+4,AUTO
          2 00010C  84C7 0178                            SID      I+2,AUTO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:45   
          2 00010E  8D47 017C                            SDI      I+6,AUTO
          2 000110  F800 0000 013C  00                   LDR,R7   DUMMY_BIGFOOT_ASD
          2 000113  F570 7FFF                            AND,R7   32767,IMO
          2 000115  6C00                                 LDV,R6   0
          2 000116  7088                                 DOL,R7   8
          2 000117  8447 017C                            AID      I+6,AUTO
          2 000119  8D00 0000 0000  xsym                 SDI      GI_ADDR

      341    15618    1      WSIZE = GI$OFFSETS.SECTSIZE;

  15618   2 00011C  CC80 0000 000B  00                   LDB,B4   GI$OFFSETS$
          2 00011F  8CC4 000E                            LDI      14,B4
          2 000121  8D47 0155                            SDI      WSIZE,AUTO

      342    15619    1      CALL GI_READBOOT(GI$OFFSETS.SECTOFFSET,GI_ADDR,WSIZE);

  15619   2 000123  BBC7 0155                            LAB,B3   WSIZE,AUTO
          2 000125  BFC7 017C                            STB,B3   I+6,AUTO
          2 000127  AB80 0000 0000  xsym                 LAB,B2   GI_ADDR
          2 00012A  AFC7 017A                            STB,B2   I+4,AUTO
          2 00012C  DBC4 000C                            LAB,B5   12,B4
          2 00012E  DFC7 0178                            STB,B5   I+2,AUTO
          2 000130  BBC7 0178                            LAB,B3   I+2,AUTO
          2 000132  9C80 0000 0006  00                   LDB,B1   GI_READBOOT
          2 000135  CBF0 0300                            LAB,B4   768,IMO
          2 000137  E381                                 LNJ,B6   ,B1
          2 000138       0001                            DC       s:15623,PREL

      343    15620
      344    15621        /* Read in control parameters */
      345    15622
      346    15623    1      IF GI$OFFSETS.CNTLOFFSET ~= 0

  15623   2 000139  EC80 0000 000B  00                   LDB,B6   GI$OFFSETS$
          2 00013C  8CC6 0004                            LDI      4,B6
          2 00013E  84F0 0000 0000                       SID      0,IMO
          2 000141  6981 0003                            BNEZ,R6  s:15625,PREL
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:46   
          2 000143  7901 0043                            BEZ,R7   s:15635,PREL

      347    15624    2      THEN DO;

      348    15625    2           GI_ADDR = POFFW(ADDR(GI_CNTL),ADDR(GIR$ROOT))+DUMMY_BIGFOOT_ASD.BASE*256;

  15625   2 000145  DB80 0000 0000  xsym                 LAB,B5   GIR$ROOT
          2 000148  DFC7 0178                            STB,B5   I+2,AUTO
          2 00014A  CBC7 005E                            LAB,B4   GI_CNTL,AUTO
          2 00014C  CFC7 017A                            STB,B4   I+4,AUTO
          2 00014E  8CC7 017A                            LDI      I+4,AUTO
          2 000150  84C7 0178                            SID      I+2,AUTO
          2 000152  8D47 017C                            SDI      I+6,AUTO
          2 000154  F800 0000 013C  00                   LDR,R7   DUMMY_BIGFOOT_ASD
          2 000157  F570 7FFF                            AND,R7   32767,IMO
          2 000159  6C00                                 LDV,R6   0
          2 00015A  7088                                 DOL,R7   8
          2 00015B  8447 017C                            AID      I+6,AUTO
          2 00015D  8D00 0000 0000  xsym                 SDI      GI_ADDR

      349    15626    2           WSIZE = SIZEW(GI_CNTL);

  15626   2 000160  8CF0 0000 002A                       LDI      42,IMO
          2 000163  8D47 0155                            SDI      WSIZE,AUTO

      350    15627    2           CALL GI_READBOOT(GI$OFFSETS.CNTLOFFSET,GI_ADDR,WSIZE);

  15627   2 000165  BBC7 0155                            LAB,B3   WSIZE,AUTO
          2 000167  BFC7 017C                            STB,B3   I+6,AUTO
          2 000169  AB80 0000 0000  xsym                 LAB,B2   GI_ADDR
          2 00016C  AFC7 017A                            STB,B2   I+4,AUTO
          2 00016E  CBC6 0004                            LAB,B4   4,B6
          2 000170  CFC7 0178                            STB,B4   I+2,AUTO
          2 000172  BBC7 0178                            LAB,B3   I+2,AUTO
          2 000174  9C80 0000 0006  00                   LDB,B1   GI_READBOOT
          2 000177  CBF0 0300                            LAB,B4   768,IMO
          2 000179  E381                                 LNJ,B6   ,B1
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:47   
          2 00017A       0001                            DC       s:15628,PREL

      351    15628    2           IF GI_CNTL.PARAMS(%GI_CNTL_KEEPDELTA) = 0

  15628   2 00017B  8CC7 007A                            LDI      GI_CNTL+28,AUTO
          2 00017D  84F0 0000 0000                       SID      0,IMO
          2 000180  6981 0006                            BNEZ,R6  s:15635,PREL
          2 000182  7981 0004                            BNEZ,R7  s:15635,PREL

      352    15629    2           THEN
      353    15630    2                GI_KEEPDELTA = '0'B;

  15630   2 000184  8700 0000 000A  00                   CL       GI_KEEPDELTA

      354    15631    2           END;

      355    15632        /**/
      356    15633        /* Read in the segments */
      357    15634        /**/
      358    15635    2      DO I = 0 TO GI_SECTION.NUMSECTS - 1;

  15635   2 000187  8747 0149                            CL       I,AUTO
          2 000189  0F81 00CF                            B        s:15663+2,PREL

      359    15636    2           MEMPTR = GI_NEXTPAGE * 256;

  15636   2 00018B  8C80 0000 0004  00                   LDI      GI_NEXTPAGE
          2 00018E  7088                                 DOL,R7   8
          2 00018F  8D47 0144                            SDI      MEMPTR,AUTO

      360    15637    2           CALL GI_READBOOT(GI_SECTION.SECT.OFFSET(I),MEMPTR,GI_SECTION.SECT.SIZE(I));

  15637   2 000191  B847 0149                            LDR,R3   I,AUTO
          2 000193  3F06                                 MLV,R3   6
          2 000194  BA70 008C                            ADD,R3   140,IMO
          2 000196  EBB7                                 LAB,B6   ,AUTO,R3
          2 000197  EFC7 017C                            STB,B6   I+6,AUTO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:48   
          2 000199  DBC7 0144                            LAB,B5   MEMPTR,AUTO
          2 00019B  DFC7 017A                            STB,B5   I+4,AUTO
          2 00019D  A847 0149                            LDR,R2   I,AUTO
          2 00019F  2F06                                 MLV,R2   6
          2 0001A0  AA70 008A                            ADD,R2   138,IMO
          2 0001A2  CBA7                                 LAB,B4   ,AUTO,R2
          2 0001A3  CFC7 0178                            STB,B4   I+2,AUTO
          2 0001A5  BBC7 0178                            LAB,B3   I+2,AUTO
          2 0001A7  9C80 0000 0006  00                   LDB,B1   GI_READBOOT
          2 0001AA  CBF0 0300                            LAB,B4   768,IMO
          2 0001AC  E381                                 LNJ,B6   ,B1
          2 0001AD       0001                            DC       s:15638,PREL

      361    15638    2           SECT_TABLE.PADDR(I) = MEMPTR;

  15638   2 0001AE  ABC7 0144                            LAB,B2   MEMPTR,AUTO
          2 0001B0  2C00                                 LDV,R2   0
          2 0001B1  6C04                                 LDV,R6   4
          2 0001B2  BB80 0000 009D  00                   LAB,B3   SECT_TABLE
          2 0001B5  B847 0149                            LDR,R3   I,AUTO
          2 0001B7  3F0A                                 MLV,R3   10
          2 0001B8  0008                                 MMM

      362    15639    2           SECT_TABLE.PSIZE(I) = (GI_SECTION.SECT.SIZE(I) + 255)/256;

  15639   2 0001B9  B847 0149                            LDR,R3   I,AUTO
          2 0001BB  3F03                                 MLV,R3   3
          2 0001BC  3E46                                 ADV,R3   70
          2 0001BD  8CB7                                 LDI      ,AUTO,R3
          2 0001BE  8470 0000 00FF                       AID      255,IMO
          2 0001C1  70C8                                 DOR,R7   8
          2 0001C2  A847 0149                            LDR,R2   I,AUTO
          2 0001C4  2F05                                 MLV,R2   5
          2 0001C5  E857                                 LDR,R6   R7
          2 0001C6  EF20 0000 009F  00                   STR,R6   SECT_TABLE+2,R2

      363    15640    3           IF GI_SECTION.SECT.START(I) >= %BITBIN('10000'X) THEN DO;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:49   

  15640   2 0001C9  9847 0149                            LDR,R1   I,AUTO
          2 0001CB  1F03                                 MLV,R1   3
          2 0001CC  1E47                                 ADV,R1   71
          2 0001CD  8C97                                 LDI      ,AUTO,R1
          2 0001CE  84F0 0001 0000                       SID      65536,IMO
          2 0001D1  0681 0011                            BCF      s:15645,PREL

      364    15641    3                SECT_TABLE.SEGSIZE(I) = 256;

  15641   2 0001D3  E870 0100                            LDR,R6   256,IMO
          2 0001D5  EF20 0000 00A0  00                   STR,R6   SECT_TABLE+3,R2

      365    15642    3                SECT_TABLE.SEGX(I) = GI_SECTION.SECT.START(I)/65536 + 15;

  15642   2 0001D8  8C97                                 LDI      ,AUTO,R1
          2 0001D9  70D0                                 DOR,R7   16
          2 0001DA  8470 0000 000F                       AID      15,IMO
          2 0001DD  E857                                 LDR,R6   R7
          2 0001DE  EF20 0000 00A1  00                   STR,R6   SECT_TABLE+4,R2

      366    15643    3                END;                       /* IF START > .10000                  */

  15643   2 0001E1  0F81 000B                            B        s:15648,PREL

      367    15644    3           ELSE DO;

      368    15645    3                SECT_TABLE.SEGSIZE(I) = 16;

  15645   2 0001E3  6C10                                 LDV,R6   16
          2 0001E4  EF20 0000 00A0  00                   STR,R6   SECT_TABLE+3,R2

      369    15646    3                SECT_TABLE.SEGX(I) = GI_SECTION.SECT.START(I)/4096;

  15646   2 0001E7  8C97                                 LDI      ,AUTO,R1
          2 0001E8  70CC                                 DOR,R7   12
          2 0001E9  E857                                 LDR,R6   R7
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:50   
          2 0001EA  EF20 0000 00A1  00                   STR,R6   SECT_TABLE+4,R2

      370    15647    3                END;                       /* ELSE                               */

      371    15648    2           IF GI_SECTION.SECT.START(I) = %GM_MHJIT_BASE

  15648   2 0001ED  8C97                                 LDI      ,AUTO,R1
          2 0001EE  84F0 0000 6000                       SID      24576,IMO
          2 0001F1  6981 0007                            BNEZ,R6  s:15650,PREL
          2 0001F3  7981 0005                            BNEZ,R7  s:15650,PREL

      372    15649    2           THEN MHJITPTR = MEMPTR;

  15649   2 0001F5  8CC7 0144                            LDI      MEMPTR,AUTO
          2 0001F7  8D47 014D                            SDI      MHJITPTR,AUTO

      373    15650    3           IF GI_SECTION.SECT.START(I) = %GM_ISR1_BASE THEN DO;

  15650   2 0001F9  8C97                                 LDI      ,AUTO,R1
          2 0001FA  84F0 0001 0000                       SID      65536,IMO
          2 0001FD  6981 002B                            BNEZ,R6  s:15657,PREL
          2 0001FF  7981 0029                            BNEZ,R7  s:15657,PREL

      374    15651    3                MON_STATIC_ASDTX = SECT_TABLE.SEGX(I);

  15651   2 000201  E820 0000 00A1  00                   LDR,R6   SECT_TABLE+4,R2
          2 000204  EF47 0157                            STR,R6   MON_STATIC_ASDTX,AUTO

      375    15652    3                MON_STATIC_SIZE = (SECT_TABLE.PSIZE(I)+255)/256; /* # OF SEGMENTS */

  15652   2 000206  D820 0000 009F  00                   LDR,R5   SECT_TABLE+2,R2
          2 000209  DA70 00FF                            ADD,R5   255,IMO
          2 00020B  5048                                 SOR,R5   8
          2 00020C  F855                                 LDR,R7   R5
          2 00020D  6C00                                 LDV,R6   0
          2 00020E  8D47 0159                            SDI      MON_STATIC_SIZE,AUTO

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:51   
      376    15653    3                MON_PROC_ASDTX = MON_STATIC_ASDTX + MON_STATIC_SIZE;

  15653   2 000210  F847 0157                            LDR,R7   MON_STATIC_ASDTX,AUTO
          2 000212  6C00                                 LDV,R6   0
          2 000213  8447 0159                            AID      MON_STATIC_SIZE,AUTO
          2 000215  E857                                 LDR,R6   R7
          2 000216  EF47 0158                            STR,R6   MON_PROC_ASDTX,AUTO

      377    15654    3                MON_PROC_SIZE = (GI_SECTION.SECT.SIZE(I+1)+255)/256; /* PAGE SIZE */

  15654   2 000218  B847 0149                            LDR,R3   I,AUTO
          2 00021A  3F03                                 MLV,R3   3
          2 00021B  3E49                                 ADV,R3   73
          2 00021C  8CB7                                 LDI      ,AUTO,R3
          2 00021D  8470 0000 00FF                       AID      255,IMO
          2 000220  70C8                                 DOR,R7   8
          2 000221  8D47 015B                            SDI      MON_PROC_SIZE,AUTO

      378    15655    3                MON_PROC_SIZE = (MON_PROC_SIZE + 255)/256; /* # OF SEGMENTS      */

  15655   2 000223  8470 0000 00FF                       AID      255,IMO
          2 000226  70C8                                 DOR,R7   8
          2 000227  8D47 015B                            SDI      MON_PROC_SIZE,AUTO

      379    15656    3                END;                       /* IF START = ISR1_BASE               */

      380    15657    2           IF GI_SECTION.SECT.START(I) = %GM_DB_PROC_BASE AND NOT GI_KEEPDELTA

  15657   2 000229  8C97                                 LDI      ,AUTO,R1
          2 00022A  84F0 0008 0000                       SID      524288,IMO
          2 00022D  6981 001A                            BNEZ,R6  s:15662,PREL
          2 00022F  7981 0018                            BNEZ,R7  s:15662,PREL
          2 000231  8980 0000 000A  00                   CMZ      GI_KEEPDELTA
          2 000234  0801 0013                            BAL      s:15662,PREL

      381    15658    3           THEN DO;

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:52   
      382    15659    3                GI_SECTION.SECT.SIZE(I) = 0;

  15659   2 000236  EBC7 008C                            LAB,B6   GI_SECTION+4,AUTO
          2 000238  B847 0149                            LDR,R3   I,AUTO
          2 00023A  3F06                                 MLV,R3   6
          2 00023B  8736                                 CL       ,B6,R3
          2 00023C  EBC7 008D                            LAB,B6   GI_SECTION+5,AUTO
          2 00023E  B847 0149                            LDR,R3   I,AUTO
          2 000240  3F06                                 MLV,R3   6
          2 000241  8736                                 CL       ,B6,R3

      383    15660    3                SECT_TABLE.PSIZE(I) = 0;

  15660   2 000242  B847 0149                            LDR,R3   I,AUTO
          2 000244  3F05                                 MLV,R3   5
          2 000245  8730 0000 009F  00                   CL       SECT_TABLE+2,R3

      384    15661    3                END;

      385    15662    2           GI_NEXTPAGE = GI_NEXTPAGE + (GI_SECTION.SECT.SIZE(I)+255)/256;

  15662   2 000248  B847 0149                            LDR,R3   I,AUTO
          2 00024A  3F03                                 MLV,R3   3
          2 00024B  3E46                                 ADV,R3   70
          2 00024C  8CB7                                 LDI      ,AUTO,R3
          2 00024D  8470 0000 00FF                       AID      255,IMO
          2 000250  70C8                                 DOR,R7   8
          2 000251  8400 0000 0004  00                   AID      GI_NEXTPAGE
          2 000254  8D00 0000 0004  00                   SDI      GI_NEXTPAGE

      386    15663    2           END;                            /* DO I                               */

  15663   2 000257  8AC7 0149                            INC      I,AUTO
          2 000259  F847 0149                            LDR,R7   I,AUTO
          2 00025B  6C00                                 LDV,R6   0
          2 00025C  84C7 0088                            SID      GI_SECTION,AUTO
          2 00025E  0681 FF2C                            BCF      s:15636,PREL
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:53   

      387    15664        /**/
      388    15665        /* Set the ASDTs for the segments we just read */
      389    15666        /**/
      390    15667    2      DO I = 0 TO GI_SECTION.NUMSECTS - 1;

  15667   2 000260  8747 0149                            CL       I,AUTO
          2 000262  0F81 0026                            B        s:15671+2,PREL

      391    15668    2           IF SECT_TABLE.PSIZE(I) ~= 0

  15668   2 000264  B847 0149                            LDR,R3   I,AUTO
          2 000266  3F05                                 MLV,R3   5
          2 000267  E830 0000 009F  00                   LDR,R6   SECT_TABLE+2,R3
          2 00026A  6901 001C                            BEZ,R6   s:15671,PREL

      392    15669    2           THEN
      393    15670    2                CALL SETASDT(G$ASDT.DESC(SECT_TABLE.SEGX(I)),SECT_TABLE.PADDR(I),
             15670                         SECT_TABLE.PSIZE(I),SECT_TABLE.SEGSIZE(I));

  15670   2 00026C  A830 0000 00A1  00                   LDR,R2   SECT_TABLE+4,R3
          2 00026F  EBB0 0000 00A0  00                   LAB,B6   SECT_TABLE+3,R3
          2 000272  EFC7 0172                            STB,B6   @SIZE+2,AUTO
          2 000274  DBB0 0000 009F  00                   LAB,B5   SECT_TABLE+2,R3
          2 000277  DFC7 0170                            STB,B5   @MEMADR+2,AUTO
          2 000279  CBB0 0000 009D  00                   LAB,B4   SECT_TABLE,R3
          2 00027C  CFC7 016E                            STB,B4   @SEGDESC+2,AUTO
          2 00027E  BCC7 014D                            LDB,B3   MHJITPTR,AUTO
          2 000280  2001                                 SOL,R2   1
          2 000281  ABA3                                 LAB,B2   ,B3,R2
          2 000282  AFC7 016C                            STB,B2   BOBCAT_SIZE+6,AUTO
          2 000284  E3C0 08E3                            LNJ,B6   s:0,PREL
          2 000286       0001                            DC       s:15671,PREL

      394    15671    2           END;                            /* DO I                               */

  15671   2 000287  8AC7 0149                            INC      I,AUTO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:54   
          2 000289  F847 0149                            LDR,R7   I,AUTO
          2 00028B  6C00                                 LDV,R6   0
          2 00028C  84C7 0088                            SID      GI_SECTION,AUTO
          2 00028E  06D6                                 BCF      s:15668,SPREL

      395    15672        /**/
      396    15673        /* Set up some miscellaneous ASDTs */
      397    15674        /**/
      398    15675    1      G$MHJIT.ASDT_MON.BIGFOOT=DUMMY_BIGFOOT_ASD;

  15675   2 00028F  8C80 0000 013C  00                   LDI      DUMMY_BIGFOOT_ASD
          2 000292  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 000294  8D46 003C                            SDI      60,B6

      399    15676    1      CALL SETASDT(G$MHJIT.ASDT_MON.LOW_MEM,G$ZERO$,16,16);

  15676   2 000296  DBF0 0010                            LAB,B5   16,IMO
          2 000298  CBF0 0010                            LAB,B4   16,IMO
          2 00029A  CFC7 0172                            STB,B4   @SIZE+2,AUTO
          2 00029C  DFC7 0170                            STB,B5   @MEMADR+2,AUTO
          2 00029E  BB80 0000 0000  01                   LAB,B3   G$ZERO$
          2 0002A1  BFC7 016E                            STB,B3   @SEGDESC+2,AUTO
          2 0002A3  ABC6 0006                            LAB,B2   6,B6
          2 0002A5  AFC7 016C                            STB,B2   BOBCAT_SIZE+6,AUTO
          2 0002A7  E3C0 08C0                            LNJ,B6   s:0,PREL
          2 0002A9       0001                            DC       s:15677,PREL

      400    15677    1      CALL SETASDT(G$MHJIT.ASDT_MON.WINDOW1,G$ZERO$,256,256);

  15677   2 0002AA  EBF0 0100                            LAB,B6   256,IMO
          2 0002AC  DBF0 0100                            LAB,B5   256,IMO
          2 0002AE  DFC7 0172                            STB,B5   @SIZE+2,AUTO
          2 0002B0  EFC7 0170                            STB,B6   @MEMADR+2,AUTO
          2 0002B2  CB80 0000 0000  01                   LAB,B4   G$ZERO$
          2 0002B5  CFC7 016E                            STB,B4   @SEGDESC+2,AUTO
          2 0002B7  BCC7 014D                            LDB,B3   MHJITPTR,AUTO
          2 0002B9  ABC3 0030                            LAB,B2   48,B3
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:55   
          2 0002BB  AFC7 016C                            STB,B2   BOBCAT_SIZE+6,AUTO
          2 0002BD  E3C0 08AA                            LNJ,B6   s:0,PREL
          2 0002BF       0001                            DC       s:15681,PREL

      401    15678        /**/
      402    15679        /* Set the protectin bits for MON_STATIC and MON_PROC */
      403    15680        /**/
      404    15681    2      DO I = MON_STATIC_ASDTX TO MON_STATIC_ASDTX + MON_STATIC_SIZE - 1;

  15681   2 0002C0  E847 0157                            LDR,R6   MON_STATIC_ASDTX,AUTO
          2 0002C2  EF47 0149                            STR,R6   I,AUTO
          2 0002C4  0F81 001D                            B        s:15685+2,PREL

      405    15682    2           G$ASDT.DESC.RP(I) = %G_R_MON#;

  15682   2 0002C6  E870 8000                            LDR,R6   -32768,IMO
          2 0002C8  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 0002CA  B847 0149                            LDR,R3   I,AUTO
          2 0002CC  3001                                 SOL,R3   1
          2 0002CD  3E01                                 ADV,R3   1
          2 0002CE  EAB6                                 SRM,R6,'C000'X    ,B6,R3
          2 0002CF       C000

      406    15683    2           G$ASDT.DESC.WP(I) = %G_R_MON#;

  15683   2 0002D0  D870 2000                            LDR,R5   8192,IMO
          2 0002D2  B847 0149                            LDR,R3   I,AUTO
          2 0002D4  3001                                 SOL,R3   1
          2 0002D5  3E01                                 ADV,R3   1
          2 0002D6  DAB6                                 SRM,R5,'3000'X    ,B6,R3
          2 0002D7       3000

      407    15684    2           G$ASDT.DESC.EP(I) = %G_RING0#;

  15684   2 0002D8  C870 0C00                            LDR,R4   3072,IMO
          2 0002DA  B847 0149                            LDR,R3   I,AUTO
          2 0002DC  3001                                 SOL,R3   1
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:56   
          2 0002DD  3E01                                 ADV,R3   1
          2 0002DE  CAB6                                 SRM,R4,'0C00'X    ,B6,R3
          2 0002DF       0C00

      408    15685    2           END;                            /* DO I                               */

  15685   2 0002E0  8AC7 0149                            INC      I,AUTO
          2 0002E2  F847 0157                            LDR,R7   MON_STATIC_ASDTX,AUTO
          2 0002E4  6C00                                 LDV,R6   0
          2 0002E5  8447 0159                            AID      MON_STATIC_SIZE,AUTO
          2 0002E7  8D47 0178                            SDI      I+2,AUTO
          2 0002E9  F847 0149                            LDR,R7   I,AUTO
          2 0002EB  6C00                                 LDV,R6   0
          2 0002EC  84C7 0178                            SID      I+2,AUTO
          2 0002EE  06D8                                 BCF      s:15682,SPREL

      409    15686    2      DO I = MON_PROC_ASDTX TO MON_PROC_ASDTX + MON_PROC_SIZE - 1;

  15686   2 0002EF  E847 0158                            LDR,R6   MON_PROC_ASDTX,AUTO
          2 0002F1  EF47 0149                            STR,R6   I,AUTO
          2 0002F3  0F81 001D                            B        s:15690+2,PREL

      410    15687    2           G$ASDT.DESC.RP(I) = %G_R_MON#;

  15687   2 0002F5  E870 8000                            LDR,R6   -32768,IMO
          2 0002F7  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 0002F9  B847 0149                            LDR,R3   I,AUTO
          2 0002FB  3001                                 SOL,R3   1
          2 0002FC  3E01                                 ADV,R3   1
          2 0002FD  EAB6                                 SRM,R6,'C000'X    ,B6,R3
          2 0002FE       C000

      411    15688    2           G$ASDT.DESC.WP(I) = %G_RING0#;

  15688   2 0002FF  D870 3000                            LDR,R5   12288,IMO
          2 000301  B847 0149                            LDR,R3   I,AUTO
          2 000303  3001                                 SOL,R3   1
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:57   
          2 000304  3E01                                 ADV,R3   1
          2 000305  DAB6                                 SRM,R5,'3000'X    ,B6,R3
          2 000306       3000

      412    15689    2           G$ASDT.DESC.EP(I) = %G_R_MON#;

  15689   2 000307  C870 0800                            LDR,R4   2048,IMO
          2 000309  B847 0149                            LDR,R3   I,AUTO
          2 00030B  3001                                 SOL,R3   1
          2 00030C  3E01                                 ADV,R3   1
          2 00030D  CAB6                                 SRM,R4,'0C00'X    ,B6,R3
          2 00030E       0C00

      413    15690    2           END;                            /* DO I                               */

  15690   2 00030F  8AC7 0149                            INC      I,AUTO
          2 000311  F847 0158                            LDR,R7   MON_PROC_ASDTX,AUTO
          2 000313  6C00                                 LDV,R6   0
          2 000314  8447 015B                            AID      MON_PROC_SIZE,AUTO
          2 000316  8D47 0178                            SDI      I+2,AUTO
          2 000318  F847 0149                            LDR,R7   I,AUTO
          2 00031A  6C00                                 LDV,R6   0
          2 00031B  84C7 0178                            SID      I+2,AUTO
          2 00031D  06D8                                 BCF      s:15687,SPREL

      414    15691        /**/
      415    15692        /* Allocate a TSTACK for MON */
      416    15693        /**/
      417    15694    1      MEMPTR=GI_NEXTPAGE*256;

  15694   2 00031E  8C80 0000 0004  00                   LDI      GI_NEXTPAGE
          2 000321  7088                                 DOL,R7   8
          2 000322  8D47 0144                            SDI      MEMPTR,AUTO

      418    15695    1      GI_NEXTPAGE=GI_NEXTPAGE + GI_TSTKM_PGSZ;

  15695   2 000324  F800 0000 0002  00                   LDR,R7   GI_TSTKM_PGSZ
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:58   
          2 000327  6C00                                 LDV,R6   0
          2 000328  8400 0000 0004  00                   AID      GI_NEXTPAGE
          2 00032B  8D00 0000 0004  00                   SDI      GI_NEXTPAGE

      419    15696    1      CALL SETASDT(G$MHJIT.ASDT_MON.TSTACKM,MEMPTR,GI_TSTKM_PGSZ,16);

  15696   2 00032E  EBF0 0010                            LAB,B6   16,IMO
          2 000330  EFC7 0172                            STB,B6   @SIZE+2,AUTO
          2 000332  DB80 0000 0002  00                   LAB,B5   GI_TSTKM_PGSZ
          2 000335  DFC7 0170                            STB,B5   @MEMADR+2,AUTO
          2 000337  CBC7 0144                            LAB,B4   MEMPTR,AUTO
          2 000339  CFC7 016E                            STB,B4   @SEGDESC+2,AUTO
          2 00033B  BCC7 014D                            LDB,B3   MHJITPTR,AUTO
          2 00033D  ABC3 0008                            LAB,B2   8,B3
          2 00033F  AFC7 016C                            STB,B2   BOBCAT_SIZE+6,AUTO
          2 000341  E3C0 0826                            LNJ,B6   s:0,PREL
          2 000343       0001                            DC       s:15700,PREL

      420    15697        /**/
      421    15698        /* Turn on G$MHJIT first */
      422    15699        /**/
      423    15700    1      CALL GHH$ASD(G$SEG$(%GM_MHJIT#),G$ASDT.DESC(%GM_MHJIT#));

  15700   2 000344  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 000346  DBC6 000C                            LAB,B5   12,B6
          2 000348  DFC7 017A                            STB,B5   I+4,AUTO
          2 00034A  CB80 0000 000E  01                   LAB,B4   G$SEG+12
          2 00034D  CFC7 0178                            STB,B4   I+2,AUTO
          2 00034F  BBC7 0178                            LAB,B3   I+2,AUTO
          2 000351  CBF0 0200                            LAB,B4   512,IMO
          2 000353  E380 0000 0000  xent                 LNJ,B6   GHH$ASD
          2 000356       0001                            DC       s:15701,PREL

      424    15701    1      MHJITPTR = G$SEG(%GM_MHJIT#);

  15701   2 000357  8C80 0000 000E  01                   LDI      G$SEG+12
          2 00035A  8D47 014D                            SDI      MHJITPTR,AUTO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:59   

      425    15702    1      GID_MHJIT$=ADDR(G$MHJIT.ASDT_BIGFOOT);

  15702   2 00035C  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 00035E  DBC6 003E                            LAB,B5   62,B6
          2 000360  DF80 0000 0000  xsym                 STB,B5   GID_MHJIT$

      426    15703        /**/
      427    15704        /* Map to the segments we have so far */
      428    15705        /**/
      429    15706    2      DO I = 1 TO 29;                      /* Don't do BIGFOOT's segment again   */

  15706   2 000363  5C01                                 LDV,R5   1
          2 000364  DF47 0149                            STR,R5   I,AUTO

      430    15707    2           IF G$ASDT.DESC.V(I) AND I ~= %GM_MHJIT#

  15707   2 000366  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 000368  B847 0149                            LDR,R3   I,AUTO
          2 00036A  3001                                 SOL,R3   1
          2 00036B  89B6                                 CMZ      ,B6,R3
          2 00036C  0881 0016                            BAGE     s:15709,PREL
          2 00036E  E847 0149                            LDR,R6   I,AUTO
          2 000370  6D06                                 CMV,R6   6
          2 000371  0901 0011                            BE       s:15709,PREL

      431    15708    2           THEN CALL GHH$ASD(G$SEG$(I),G$ASDT.DESC(I));

  15708   2 000373  DBB6                                 LAB,B5   ,B6,R3
          2 000374  DFC7 017A                            STB,B5   I+4,AUTO
          2 000376  CBB0 0000 0002  01                   LAB,B4   G$SEG,R3
          2 000379  CFC7 0178                            STB,B4   I+2,AUTO
          2 00037B  BBC7 0178                            LAB,B3   I+2,AUTO
          2 00037D  CBF0 0200                            LAB,B4   512,IMO
          2 00037F  E380 0000 0000  xent                 LNJ,B6   GHH$ASD
          2 000382       0001                            DC       s:15709,PREL

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:60   
      432    15709    2           END;                            /* DO I                               */

  15709   2 000383  8AC7 0149                            INC      I,AUTO
          2 000385  E847 0149                            LDR,R6   I,AUTO
          2 000387  6D1D                                 CMV,R6   29
          2 000388  03DE                                 BLE      s:15707,SPREL

      433    15710
      434    15711        /* Initialize the tstack pointers based on the pgsz values.
      435    15712        */
      436    15713    1      G$TSTACKM = %GM_TSTACKM_BASE + (GI_TSTKM_PGSZ * 256) - %GM_STKHDR_SZ;

  15713   2 000389  F800 0000 0002  00                   LDR,R7   GI_TSTKM_PGSZ
          2 00038C  6C00                                 LDV,R6   0
          2 00038D  7088                                 DOL,R7   8
          2 00038E  8470 0000 3FFA                       AID      16378,IMO
          2 000391  8D00 0000 0000  xsym                 SDI      G$TSTACKM$

      437    15714    1      G$TSTACKU = %GM_TSTACKU_BASE + (GM_TSTKU_PGSZ * 256) - %GM_STKHDR_SZ;

  15714   2 000394  F800 0000 0000  xsym                 LDR,R7   GM_TSTKU_PGSZ
          2 000397  6C00                                 LDV,R6   0
          2 000398  7088                                 DOL,R7   8
          2 000399  8470 0000 3FFA                       AID      16378,IMO
          2 00039C  8D00 0000 0000  xsym                 SDI      G$TSTACKU$

      438    15715
      439    15716    1      I = GI_TSTKM_PGSZ * 256;

  15716   2 00039F  D800 0000 0002  00                   LDR,R5   GI_TSTKM_PGSZ
          2 0003A2  5008                                 SOL,R5   8
          2 0003A3  DF47 0149                            STR,R5   I,AUTO

      440    15717    1      CALL X6A_MAUTO (G$TSTACK$ , I);

  15717   2 0003A5  EBC7 0149                            LAB,B6   I,AUTO
          2 0003A7  EFC7 017A                            STB,B6   I+4,AUTO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:61   
          2 0003A9  DB80 0000 0000  xsym                 LAB,B5   G$TSTACK$
          2 0003AC  DFC7 0178                            STB,B5   I+2,AUTO
          2 0003AE  BBC7 0178                            LAB,B3   I+2,AUTO
          2 0003B0  CBF0 0200                            LAB,B4   512,IMO
          2 0003B2  E380 0000 0000  xent                 LNJ,B6   X6A_MAUTO
          2 0003B5       0001                            DC       s:15718,PREL

      441    15718    1      G$MHJIT.ASDT_BIGFOOT=G$MHJIT.ASDT_MON; /* TEMP                             */

  15718   2 0003B6  ACC7 014D                            LDB,B2   MHJITPTR,AUTO
          2 0003B8  2C00                                 LDV,R2   0
          2 0003B9  6C7C                                 LDV,R6   124
          2 0003BA  BB82                                 LAB,B3   ,B2
          2 0003BB  3C7C                                 LDV,R3   124
          2 0003BC  0008                                 MMM

      442    15719        /**/
      443    15720        /* Set up Delta's stuff */
      444    15721        /**/
      445    15722    1      IF GI_KEEPDELTA

  15722   2 0003BD  8980 0000 000A  00                   CMZ      GI_KEEPDELTA
          2 0003C0  0881 0095                            BAGE     s:15739,PREL

      446    15723    2      THEN DO;

      447    15724    2           CALL GHH$ASD(G$DB_PROC$,G$MHJIT.ASDT_MON.DB_PROC);

  15724   2 0003C2  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 0003C4  DBC6 002E                            LAB,B5   46,B6
          2 0003C6  DFC7 017A                            STB,B5   I+4,AUTO
          2 0003C8  CB80 0000 0000  xsym                 LAB,B4   G$DB_PROC$
          2 0003CB  CFC7 0178                            STB,B4   I+2,AUTO
          2 0003CD  BBC7 0178                            LAB,B3   I+2,AUTO
          2 0003CF  CBF0 0200                            LAB,B4   512,IMO
          2 0003D1  E380 0000 0000  xent                 LNJ,B6   GHH$ASD
          2 0003D4       0001                            DC       s:15725,PREL
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:62   

      448    15725    2           WORDS = DB_PROC.STK_SZ + SIZEW(G$STACK_HDR);

  15725   2 0003D5  EC80 0000 0000  xsym                 LDB,B6   G$DB_PROC$
          2 0003D8  E846 0005                            LDR,R6   5,B6
          2 0003DA  6E06                                 ADV,R6   6
          2 0003DB  EF47 0148                            STR,R6   WORDS,AUTO

      449    15726    2           PAGES = (DB_PROC.DS_SZ + DB_PROC.STK_SZ + SIZEW (G$STACK_HDR) + 255)/256;

  15726   2 0003DD  D846 0004                            LDR,R5   4,B6
          2 0003DF  DA46 0005                            ADD,R5   5,B6
          2 0003E1  DA70 0105                            ADD,R5   261,IMO
          2 0003E3  5048                                 SOR,R5   8
          2 0003E4  DF47 0153                            STR,R5   PAGES,AUTO

      450    15727    2           MEMPTR = GI_NEXTPAGE * 256;

  15727   2 0003E6  8C80 0000 0004  00                   LDI      GI_NEXTPAGE
          2 0003E9  7088                                 DOL,R7   8
          2 0003EA  8D47 0144                            SDI      MEMPTR,AUTO

      451    15728    2           GI_NEXTPAGE = GI_NEXTPAGE + PAGES;

  15728   2 0003EC  F855                                 LDR,R7   R5
          2 0003ED  6C00                                 LDV,R6   0
          2 0003EE  8400 0000 0004  00                   AID      GI_NEXTPAGE
          2 0003F1  8D00 0000 0004  00                   SDI      GI_NEXTPAGE

      452    15729    2           CALL SETASDT(G$MHJIT.ASDT_MON.RDB_DS,MEMPTR,PAGES,16);

  15729   2 0003F4  DBF0 0010                            LAB,B5   16,IMO
          2 0003F6  DFC7 0172                            STB,B5   @SIZE+2,AUTO
          2 0003F8  CBC7 0153                            LAB,B4   PAGES,AUTO
          2 0003FA  CFC7 0170                            STB,B4   @MEMADR+2,AUTO
          2 0003FC  BBC7 0144                            LAB,B3   MEMPTR,AUTO
          2 0003FE  BFC7 016E                            STB,B3   @SEGDESC+2,AUTO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:63   
          2 000400  ACC7 014D                            LDB,B2   MHJITPTR,AUTO
          2 000402  9BC2 0004                            LAB,B1   4,B2
          2 000404  9FC7 016C                            STB,B1   BOBCAT_SIZE+6,AUTO
          2 000406  E3C0 0761                            LNJ,B6   s:0,PREL
          2 000408       0001                            DC       s:15730,PREL

      453    15730    2           CALL SETASDT(G$MHJIT.ASDT_BIGFOOT.RDB_DS,MEMPTR,PAGES,16);

  15730   2 000409  EBF0 0010                            LAB,B6   16,IMO
          2 00040B  EFC7 0172                            STB,B6   @SIZE+2,AUTO
          2 00040D  DBC7 0153                            LAB,B5   PAGES,AUTO
          2 00040F  DFC7 0170                            STB,B5   @MEMADR+2,AUTO
          2 000411  CBC7 0144                            LAB,B4   MEMPTR,AUTO
          2 000413  CFC7 016E                            STB,B4   @SEGDESC+2,AUTO
          2 000415  BCC7 014D                            LDB,B3   MHJITPTR,AUTO
          2 000417  ABC3 0042                            LAB,B2   66,B3
          2 000419  AFC7 016C                            STB,B2   BOBCAT_SIZE+6,AUTO
          2 00041B  E3C0 074C                            LNJ,B6   s:0,PREL
          2 00041D       0001                            DC       s:15731,PREL

      454    15731    2           CALL GHH$ASD(GD$DELTA_DATA$,G$MHJIT.ASDT_MON.RDB_DS);

  15731   2 00041E  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 000420  DBC6 0004                            LAB,B5   4,B6
          2 000422  DFC7 017A                            STB,B5   I+4,AUTO
          2 000424  CB80 0000 0000  xsym                 LAB,B4   GD$DELTA_DATA$
          2 000427  CFC7 0178                            STB,B4   I+2,AUTO
          2 000429  BBC7 0178                            LAB,B3   I+2,AUTO
          2 00042B  CBF0 0200                            LAB,B4   512,IMO
          2 00042D  E380 0000 0000  xent                 LNJ,B6   GHH$ASD
          2 000430       0001                            DC       s:15732,PREL

      455    15732    2           DB_DS.STK_PTR = PINCRW(GD$DELTA_DATA$ , DB_PROC.DS_SZ);

  15732   2 000431  EC80 0000 0000  xsym                 LDB,B6   G$DB_PROC$
          2 000434  B846 0004                            LDR,R3   4,B6
          2 000436  F853                                 LDR,R7   R3
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:64   
          2 000437  6C00                                 LDV,R6   0
          2 000438  8400 0000 0000  xsym                 AID      GD$DELTA_DATA$
          2 00043B  DC80 0000 0000  xsym                 LDB,B5   GD$DELTA_DATA$
          2 00043E  8D05                                 SDI      ,B5

      456    15733    2           CALL X6A_MAUTO (DB_DS.STK_PTR , WORDS);

  15733   2 00043F  EBC7 0148                            LAB,B6   WORDS,AUTO
          2 000441  EFC7 017A                            STB,B6   I+4,AUTO
          2 000443  DC80 0000 0000  xsym                 LDB,B5   GD$DELTA_DATA$
          2 000446  DFC7 0178                            STB,B5   I+2,AUTO
          2 000448  BBC7 0178                            LAB,B3   I+2,AUTO
          2 00044A  CBF0 0200                            LAB,B4   512,IMO
          2 00044C  E380 0000 0000  xent                 LNJ,B6   X6A_MAUTO
          2 00044F       0001                            DC       s:15734,PREL

      457    15734    2           DB_DS.STK_PTR = DB_DS.STK_PTR -> PBASE$;

  15734   2 000450  EC80 0000 0000  xsym                 LDB,B6   GD$DELTA_DATA$
          2 000453  DC86                                 LDB,B5   ,B6
          2 000454  CC85                                 LDB,B4   ,B5
          2 000455  CF86                                 STB,B4   ,B6

      458    15735    2           END;

      459    15736        /**/
      460    15737        /* Set up ISAs */
      461    15738        /**/
      462    15739    1      G$SATYR_RCVISA$=ADDR(G$MHJIT$->G$MHJIT.ISA_SATYR_RCV);

  15739   2 000456  EC80 0000 0000  xsym                 LDB,B6   G$MHJIT$
          2 000459  DBC6 01E9                            LAB,B5   489,B6
          2 00045B  DF80 0000 0138  00                   STB,B5   G$SATYR_RCVISA$

      463    15740    1      G$ISA_SATYR_RCV$=ADDR(G$MHJIT$->G$MHJIT.ISA_SATYR_RCV.DEV);

  15740   2 00045E  CBC6 01EE                            LAB,B4   494,B6
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:65   
          2 000460  CF80 0000 0000  xsym                 STB,B4   G$ISA_SATYR_RCV$

      464    15741    1      G$SATYR_TRNISA$=ADDR(G$MHJIT$->G$MHJIT.ISA_SATYR_TRN);

  15741   2 000463  BBC6 0216                            LAB,B3   534,B6
          2 000465  BF80 0000 013A  00                   STB,B3   G$SATYR_TRNISA$

      465    15742    1      G$ISA_SATYR_TRN$=ADDR(G$MHJIT$->G$MHJIT.ISA_SATYR_TRN.DEV);

  15742   2 000468  ABC6 021B                            LAB,B2   539,B6
          2 00046A  AF80 0000 0000  xsym                 STB,B2   G$ISA_SATYR_TRN$

      466    15743        /**/
      467    15744    1      G$MHJIT.ISA_SATYR_RCV.ASV$=ADDR(G$MHJIT$->G$MHJIT.ASDT_MON);

  15744   2 00046D  9CC7 014D                            LDB,B1   MHJITPTR,AUTO
          2 00046F  EFC1 01E9                            STB,B6   489,B1

      468    15745    1      IF GI_KEEPDELTA

  15745   2 000471  8980 0000 000A  00                   CMZ      GI_KEEPDELTA
          2 000474  0881 000A                            BAGE     s:15752,PREL

      469    15746    2      THEN DO;

      470    15747    2           G$MHJIT.ISA_SATYR_RCV.REGS.T$ = DB_DS.STK_PTR;

  15747   2 000476  EC80 0000 0000  xsym                 LDB,B6   GD$DELTA_DATA$
          2 000479  DC86                                 LDB,B5   ,B6
          2 00047A  DFC1 0211                            STB,B5   529,B1

      471    15748        /**/
      472    15749    2           G$MHJIT.ISA_SATYR_TRN.REGS.T$ = DB_DS.STK_PTR;

  15749   2 00047C  DC86                                 LDB,B5   ,B6
          2 00047D  DFC1 023E                            STB,B5   574,B1

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:66   
      473    15750    2           END;

      474    15751
      475    15752    1      GIR_ISA_REBOOT.REGS.R1 = GI_BOOTCHAN*64;

  15752   2 00047F  E800 0000 0000  xsym                 LDR,R6   GI_BOOTCHAN
          2 000482  6006                                 SOL,R6   6
          2 000483  EF00 0000 0020  xsym                 STR,R6   GIR_ISA_REBOOT+32

      476    15753        /* Set up level 61 to run Real Time Clock */
      477    15754        /**/
      478    15755    1      G$MHJIT.ISA_RT_CLOCK.REGS.T$ = G$TSTACKM$;

  15755   2 000486  EC80 0000 0000  xsym                 LDB,B6   G$TSTACKM$
          2 000489  EFC1 034C                            STB,B6   844,B1

      479    15756        /**/
      480    15757        /* Set up Trap Overflow Interrupt         */
      481    15758        /**/
      482    15759    1      G$MHJIT.ISA_OV.REGS.T$ = G$TSTACKM$;

  15759   2 00048B  EFC1 018A                            STB,B6   394,B1

      483    15760        /**/
      484    15761        /* Set up level 62 to run Execution Scheduler */
      485    15762        /**/
      486    15763    1      G$MHJIT.ISA_SCHD.REGS.T$ = G$TSTACKM$;

  15763   2 00048D  EFC1 031F                            STB,B6   799,B1

      487    15764
      488    15765        /*   Clear out ISM2 for idle ISA */
      489    15766    1      G$MHJIT.ISA_IDLE.ISM2 = '0'B;

  15766   2 00048F  8741 0083                            CL       131,B1

      490    15767
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:67   
      491    15768
      492    15769    1      G$ISA_DBINH$ = ADDR(G$MHJIT$->G$MHJIT.ISA_DBINH.DEV);

  15769   2 000491  DC80 0000 0000  xsym                 LDB,B5   G$MHJIT$
          2 000494  BBC5 0248                            LAB,B3   584,B5
          2 000496  BF80 0000 0000  xsym                 STB,B3   G$ISA_DBINH$

      493    15770        /**/
      494    15771        /* Initialize UHJIT */
      495    15772        /**/
      496    15773    1      G$UHJIT.DMN.ID = %G_DMN_USR_SVC#;

  15773   2 000499  EC80 0000 0000  xsym                 LDB,B6   G$UHJIT$
          2 00049C  5C03                                 LDV,R5   3
          2 00049D  DF46 007E                            STR,R5   126,B6

      497    15774    1      ADDR(G$UHJIT.ASDT_USR)->G$ASDT.DESC(3) = G$MHJIT.ASDT_MON.LOW_MEM;

  15774   2 00049F  8CC1 0006                            LDI      6,B1
          2 0004A1  8D46 0006                            SDI      6,B6

      498    15775    1      G$UHJIT.ASDT_USR.UHJIT.SIZE = (SIZEW(G$UHJIT)-1)/256;

  15775   2 0004A3  4C01                                 LDV,R4   1
          2 0004A4  CAC6 000B                            SRM,R4,'01FF'X    11,B6
          2 0004A6       01FF

      499    15776    1      G$UHJIT.ASDT_MCL = G$MHJIT.ASDT_MON;

  15776   2 0004A7  AB81                                 LAB,B2   ,B1
          2 0004A8  2C00                                 LDV,R2   0
          2 0004A9  6C7C                                 LDV,R6   124
          2 0004AA  BB86                                 LAB,B3   ,B6
          2 0004AB  3C7C                                 LDV,R3   124
          2 0004AC  0008                                 MMM

      500    15777    1      G$UHJIT.ASDT_USR.MON_ENTRY = G$MHJIT.ASDT_MON.MON_ENTRY;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:68   

  15777   2 0004AD  DCC7 014D                            LDB,B5   MHJITPTR,AUTO
          2 0004AF  8CC5 0012                            LDI      18,B5
          2 0004B1  CC80 0000 0000  xsym                 LDB,B4   G$UHJIT$
          2 0004B4  8D44 0012                            SDI      18,B4

      501    15778    1      G$UHJIT.ASDT_USR.MON_ENTRY_DATA = G$MHJIT.ASDT_MON.MON_ENTRY_DATA;

  15778   2 0004B6  8CC5 0010                            LDI      16,B5
          2 0004B8  8D44 0010                            SDI      16,B4

      502    15779    1      G$UHJIT.ASDT_USR.MHJIT = G$MHJIT.ASDT_MON.MHJIT;

  15779   2 0004BA  8CC5 000C                            LDI      12,B5
          2 0004BC  8D44 000C                            SDI      12,B4

      503    15780    1      G$UHJIT.ASDT_USR.MHJIT2 = G$MHJIT.ASDT_MON.MHJIT2;

  15780   2 0004BE  8CC5 000E                            LDI      14,B5
          2 0004C0  8D44 000E                            SDI      14,B4

      504    15781    1      G$UHJIT.ISA_USR.REGS.T$ = G$TSTACKU$;

  15781   2 0004C2  EC80 0000 0000  xsym                 LDB,B6   G$TSTACKU$
          2 0004C5  EFC4 00A4                            STB,B6   164,B4

      505    15782    1      G$UHJIT.ISA_USR.P$$ = ENTADDR(GJI$INIT_USR);

  15782   2 0004C7  BB80 0000 0000  xent                 LAB,B3   GJI$INIT_USR
          2 0004CA  BFC4 0084                            STB,B3   132,B4

      506    15783        /**/
      507    15784        /* Set up Interrupt Vectors */
      508    15785        /**/
      509    15786    1      G$LOW_MEM.IV.INT.USER$=ADDR(G$UHJIT$->G$UHJIT.ISA_USR.DEV);

  15786   2 0004CC  EBC4 0081                            LAB,B6   129,B4
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:69   
          2 0004CE  DC80 0000 0000  xsym                 LDB,B5   G$LOW_MEM$
          2 0004D1  EFC5 00FE                            STB,B6   254,B5

      510    15787    1      G$LOW_MEM.IV.INT.SCHD$=ADDR(G$MHJIT$->G$MHJIT.ISA_SCHD.DEV);

  15787   2 0004D3  BC80 0000 0000  xsym                 LDB,B3   G$MHJIT$
          2 0004D6  EBC3 02FC                            LAB,B6   764,B3
          2 0004D8  EFC5 00FC                            STB,B6   252,B5

      511    15788    1      G$LOW_MEM.IV.INT.RT_CLOCK$=ADDR(G$MHJIT$->G$MHJIT.ISA_RT_CLOCK.DEV);

  15788   2 0004DA  EBC3 0329                            LAB,B6   809,B3
          2 0004DC  EFC5 00FA                            STB,B6   250,B5

      512    15789    1      G$LOW_MEM.IV.INT.TSA_OV$=ADDR(G$MHJIT$->G$MHJIT.ISA_OV.DEV);

  15789   2 0004DE  EBC3 0167                            LAB,B6   359,B3
          2 0004E0  EFC5 0084                            STB,B6   132,B5

      513    15790    1      G$LOW_MEM.IV.INT.WDOG$=ADDR(G$MHJIT$->G$MHJIT.ISA_WDOG.DEV);

  15790   2 0004E2  EBC3 0145                            LAB,B6   325,B3
          2 0004E4  EFC5 0082                            STB,B6   130,B5

      514    15791    1      G$LOW_MEM.IV.INT.PFS$ = ADDR(G$MHJIT$->G$MHJIT.ISA_BIGFOOT.DEV);

  15791   2 0004E6  EBC3 0194                            LAB,B6   404,B3
          2 0004E8  EFC5 0080                            STB,B6   128,B5

      515    15792    2      DO I = 0 TO 48;

  15792   2 0004EA  8747 0149                            CL       I,AUTO

      516    15793    2           G$LOW_MEM.IV.IL$(I+12) = ADDR(G$MHJIT.INTCON.DEV(I));

  15793   2 0004EC  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 0004EE  B847 0149                            LDR,R3   I,AUTO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:70   
          2 0004F0  3004                                 SOL,R3   4
          2 0004F1  BA70 0361                            ADD,R3   865,IMO
          2 0004F3  DBB6                                 LAB,B5   ,B6,R3
          2 0004F4  CC80 0000 0000  xsym                 LDB,B4   G$LOW_MEM$
          2 0004F7  A847 0149                            LDR,R2   I,AUTO
          2 0004F9  2E4C                                 ADV,R2   76
          2 0004FA  DFA4                                 STB,B5   ,B4,R2

      517    15794    2           END;                            /* DO I                               */

  15794   2 0004FB  8AC7 0149                            INC      I,AUTO
          2 0004FD  E847 0149                            LDR,R6   I,AUTO
          2 0004FF  6D30                                 CMV,R6   48
          2 000500  03EC                                 BLE      s:15793,SPREL

      518    15795        /**/
      519    15796        /* Set up the NATSAPs that are referenced by ISM2 */
      520    15797        /**/
      521    15798    1      G$LOW_MEM.NATSAP0$ = ADDR(G$MHJIT$->G$MHJIT.TSA_MON);

  15798   2 000501  DC80 0000 0000  xsym                 LDB,B5   G$MHJIT$
          2 000504  CBC5 0087                            LAB,B4   135,B5
          2 000506  BC80 0000 0000  xsym                 LDB,B3   G$LOW_MEM$
          2 000509  CFC3 0010                            STB,B4   16,B3

      522    15799    1      G$LOW_MEM.NATSAP1$ = ADDR(G$UHJIT.TSA_USR);

  15799   2 00050B  AC80 0000 0000  xsym                 LDB,B2   G$UHJIT$
          2 00050E  9BC2 00B6                            LAB,B1   182,B2
          2 000510  9FC3 000E                            STB,B1   14,B3

      523    15800    1      G$LOW_MEM.NATSAP2$ = ADDR(G$MHJIT$->G$MHJIT.TSA_MON);

  15800   2 000512  EBC5 0087                            LAB,B6   135,B5
          2 000514  EFC3 000C                            STB,B6   12,B3

      524    15801        /**/
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:71   
      525    15802        /* Point Trap Vectors off to the trap handler. */
      526    15803        /**/
      527    15804    1      TV$=ADDR(G$LOW_MEM.TV);

  15804   2 000516  EBC3 0024                            LAB,B6   36,B3
          2 000518  EFC7 0151                            STB,B6   TV$,AUTO

      528    15805    2      DO I=0 TO 44;

  15805   2 00051A  8747 0149                            CL       I,AUTO

      529    15806    2           TV(I)=ENTADDR(GHT$TRAP);

  15806   2 00051C  EB80 0000 0000  xent                 LAB,B6   GHT$TRAP
          2 00051F  DCC7 0151                            LDB,B5   TV$,AUTO
          2 000521  B847 0149                            LDR,R3   I,AUTO
          2 000523  EFB5                                 STB,B6   ,B5,R3

      530    15807    2           END;

  15807   2 000524  8AC7 0149                            INC      I,AUTO
          2 000526  E847 0149                            LDR,R6   I,AUTO
          2 000528  6D2C                                 CMV,R6   44
          2 000529  03F3                                 BLE      s:15806,SPREL

      531    15808    1      TV(45) = ENTADDR(GHT$MCL);

  15808   2 00052A  EB80 0000 0000  xent                 LAB,B6   GHT$MCL
          2 00052D  EFC5 005A                            STB,B6   90,B5

      532    15809        /**/
      533    15810    1      IF GI_KEEPDELTA

  15810   2 00052F  8980 0000 000A  00                   CMZ      GI_KEEPDELTA
          2 000532  0881 0007                            BAGE     s:15815,PREL

      534    15811    1      THEN
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:72   
      535    15812    1           CALL GDA$BOOT_INIT;

  15812   2 000534  CBF0 0000                            LAB,B4   0,IMO
          2 000536  E380 0000 0000  xent                 LNJ,B6   GDA$BOOT_INIT
          2 000539       0001                            DC       s:15815,PREL

      536    15813
      537    15814        /* Save the MHJIT descriptor in low memory */
      538    15815    1      PINCRW(G$LOW_MEM$,POFFW(ADDR(GI_MHJIT.ASDT),G$SEG$(30)))->G$SEGDESC =

  15815   2 00053A  EB80 0000 0001  xsym                 LAB,B6   GI_MHJIT+1
          2 00053D  EFC7 0178                            STB,B6   I+2,AUTO
          2 00053F  8CC7 0178                            LDI      I+2,AUTO
          2 000541  8480 0000 003E  01                   SID      G$SEG+60
          2 000544  8400 0000 0000  xsym                 AID      G$LOW_MEM$
          2 000547  DCC7 014D                            LDB,B5   MHJITPTR,AUTO
          2 000549  8D47 017A                            SDI      I+4,AUTO
          2 00054B  8CC5 000C                            LDI      12,B5
          2 00054D  CCC7 017A                            LDB,B4   I+4,AUTO
          2 00054F  8D04                                 SDI      ,B4

      539    15816    1        G$MHJIT.ASDT_MON.MHJIT;
      540    15817        /**/
      541    15818        /**/
      542    15819        /* Read across the boot time parameters */
      543    15820        /**/
      544    15821    1      GI_ADDR = POFFW(ADDR(GI_PARAMS),ADDR(GIR$ROOT))+DUMMY_BIGFOOT_ASD.BASE*256;

  15821   2 000550  EB80 0000 0000  xsym                 LAB,B6   GIR$ROOT
          2 000553  EFC7 0178                            STB,B6   I+2,AUTO
          2 000555  BB80 0000 000D  00                   LAB,B3   GI_PARAMS
          2 000558  BFC7 017A                            STB,B3   I+4,AUTO
          2 00055A  8CC7 017A                            LDI      I+4,AUTO
          2 00055C  84C7 0178                            SID      I+2,AUTO
          2 00055E  8D47 017C                            SDI      I+6,AUTO
          2 000560  F800 0000 013C  00                   LDR,R7   DUMMY_BIGFOOT_ASD
          2 000563  F570 7FFF                            AND,R7   32767,IMO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:73   
          2 000565  6C00                                 LDV,R6   0
          2 000566  7088                                 DOL,R7   8
          2 000567  8447 017C                            AID      I+6,AUTO
          2 000569  8D00 0000 0000  xsym                 SDI      GI_ADDR

      545    15822    1      WSIZE = SIZEW(GI_PARAMS);

  15822   2 00056C  8CF0 0000 0020                       LDI      32,IMO
          2 00056F  8D47 0155                            SDI      WSIZE,AUTO

      546    15823    1      CALL GI_READBOOT(GI$OFFSETS.PARAMOFFSET,GI_ADDR,WSIZE);

  15823   2 000571  CBC7 0155                            LAB,B4   WSIZE,AUTO
          2 000573  CFC7 017C                            STB,B4   I+6,AUTO
          2 000575  AB80 0000 0000  xsym                 LAB,B2   GI_ADDR
          2 000578  AFC7 017A                            STB,B2   I+4,AUTO
          2 00057A  BC80 0000 000B  00                   LDB,B3   GI$OFFSETS$
          2 00057D  BFC7 0178                            STB,B3   I+2,AUTO
          2 00057F  BBC7 0178                            LAB,B3   I+2,AUTO
          2 000581  9C80 0000 0006  00                   LDB,B1   GI_READBOOT
          2 000584  CBF0 0300                            LAB,B4   768,IMO
          2 000586  E381                                 LNJ,B6   ,B1
          2 000587       0001                            DC       s:15827,PREL

      547    15824
      548    15825        /* Begin setup of BOBCAT segment.
      549    15826        */
      550    15827    1      MEMPTR=GI_NEXTPAGE*256;

  15827   2 000588  8C80 0000 0004  00                   LDI      GI_NEXTPAGE
          2 00058B  7088                                 DOL,R7   8
          2 00058C  8D47 0144                            SDI      MEMPTR,AUTO

      551    15828    1      CALL SETASDT(G$MHJIT.ASDT_MON.BOBCAT,MEMPTR,65536/256,256);

  15828   2 00058E  EBF0 0100                            LAB,B6   256,IMO
          2 000590  DBF0 0100                            LAB,B5   256,IMO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:74   
          2 000592  DFC7 0172                            STB,B5   @SIZE+2,AUTO
          2 000594  EFC7 0170                            STB,B6   @MEMADR+2,AUTO
          2 000596  CBC7 0144                            LAB,B4   MEMPTR,AUTO
          2 000598  CFC7 016E                            STB,B4   @SEGDESC+2,AUTO
          2 00059A  BCC7 014D                            LDB,B3   MHJITPTR,AUTO
          2 00059C  ABC3 0036                            LAB,B2   54,B3
          2 00059E  AFC7 016C                            STB,B2   BOBCAT_SIZE+6,AUTO
          2 0005A0  E3C0 05C7                            LNJ,B6   s:0,PREL
          2 0005A2       0001                            DC       s:15829,PREL

      552    15829    1      CALL SETASDT(G$MHJIT.ASDT_BIGFOOT.BOBCAT,MEMPTR,65536/256,256);

  15829   2 0005A3  EBF0 0100                            LAB,B6   256,IMO
          2 0005A5  DBF0 0100                            LAB,B5   256,IMO
          2 0005A7  DFC7 0172                            STB,B5   @SIZE+2,AUTO
          2 0005A9  EFC7 0170                            STB,B6   @MEMADR+2,AUTO
          2 0005AB  CBC7 0144                            LAB,B4   MEMPTR,AUTO
          2 0005AD  CFC7 016E                            STB,B4   @SEGDESC+2,AUTO
          2 0005AF  BCC7 014D                            LDB,B3   MHJITPTR,AUTO
          2 0005B1  ABC3 0074                            LAB,B2   116,B3
          2 0005B3  AFC7 016C                            STB,B2   BOBCAT_SIZE+6,AUTO
          2 0005B5  E3C0 05B2                            LNJ,B6   s:0,PREL
          2 0005B7       0001                            DC       s:15830,PREL

      553    15830    1      G$UHJIT.ASDT_MCL.BOBCAT = G$MHJIT.ASDT_MON.BOBCAT;

  15830   2 0005B8  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 0005BA  8CC6 0036                            LDI      54,B6
          2 0005BC  DC80 0000 0000  xsym                 LDB,B5   G$UHJIT$
          2 0005BF  8D45 0074                            SDI      116,B5

      554    15831    1      CALL GHH$ASD(G$BOBCAT$,G$MHJIT.ASDT_MON.BOBCAT);

  15831   2 0005C1  CBC6 0036                            LAB,B4   54,B6
          2 0005C3  CFC7 017A                            STB,B4   I+4,AUTO
          2 0005C5  BB80 0000 0000  xsym                 LAB,B3   G$BOBCAT$
          2 0005C8  BFC7 0178                            STB,B3   I+2,AUTO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:75   
          2 0005CA  BBC7 0178                            LAB,B3   I+2,AUTO
          2 0005CC  CBF0 0200                            LAB,B4   512,IMO
          2 0005CE  E380 0000 0000  xent                 LNJ,B6   GHH$ASD
          2 0005D1       0001                            DC       s:15832,PREL

      555    15832    1      G$BOBCAT='0'B;

  15832   2 0005D2  EC80 0000 0000  xsym                 LDB,B6   G$BOBCAT$
          2 0005D5  D870 00D4                            LDR,R5   212,IMO
          2 0005D7  0021                                 ALR      ;
          2 0005D8       4178 0000                                ALPHANUM('0000'X,IMO,,1),;
          2 0005DA       4006 0000                                ALPHANUM(0,B6,,R5,FILL)

      556    15833    1      G$BOBCAT.BOOTCHAN = GI_BOOTCHAN;

  15833   2 0005DC  437F                                 CSYNC    s:15832+9,SPREL
          2 0005DD  EC80 0000 0000  xsym                 LDB,B6   G$BOBCAT$
          2 0005E0  E800 0000 0000  xsym                 LDR,R6   GI_BOOTCHAN
          2 0005E3  EF46 0005                            STR,R6   5,B6

      557    15834    1      G$BOBCAT.MUIS =  GI_PARAMS.PARAMS(%GI_BOOT_MUIS);

  15834   2 0005E5  C800 0000 001C  00                   LDR,R4   GI_PARAMS+15
          2 0005E8  CF46 000A                            STR,R4   10,B6

      558    15835    1      G$BOBCAT.LDCT# = GI_PARAMS.PARAMS(%GI_BOOT_LDCT);

  15835   2 0005EA  B800 0000 000E  00                   LDR,R3   GI_PARAMS+1
          2 0005ED  BF46 0010                            STR,R3   16,B6

      559    15836    1      G$BOBCAT.IOP# = GI_PARAMS.PARAMS(%GI_BOOT_IOP);

  15836   2 0005EF  A800 0000 0010  00                   LDR,R2   GI_PARAMS+3
          2 0005F2  AF46 000F                            STR,R2   15,B6

      560    15837    1      G$BOBCAT.HMI# = GI_PARAMS.PARAMS(%GI_BOOT_HMI);

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:76   
  15837   2 0005F4  9800 0000 0012  00                   LDR,R1   GI_PARAMS+5
          2 0005F7  9F46 0011                            STR,R1   17,B6

      561    15838    1      G$BOBCAT.APESSN# = GI_PARAMS.PARAMS(%GI_BOOT_APESSN);

  15838   2 0005F9  E800 0000 0014  00                   LDR,R6   GI_PARAMS+7
          2 0005FC  EF46 0012                            STR,R6   18,B6

      562    15839    1      G$BOBCAT.SFILE# = GI_PARAMS.PARAMS(%GI_BOOT_SPROC);

  15839   2 0005FE  E800 0000 001A  00                   LDR,R6   GI_PARAMS+13
          2 000601  EF46 000B                            STR,R6   11,B6

      563    15840    1      G$BOBCAT.ACCT_RES# = GI_PARAMS.PARAMS(%GI_BOOT_ACCTS);

  15840   2 000603  E800 0000 0026  00                   LDR,R6   GI_PARAMS+25
          2 000606  EF46 000E                            STR,R6   14,B6

      564    15841    1      G$BOBCAT.TCTX# = GI_PARAMS.PARAMS(%GI_BOOT_TCTX);

  15841   2 000608  E800 0000 0016  00                   LDR,R6   GI_PARAMS+9
          2 00060B  EF46 0013                            STR,R6   19,B6

      565    15842    1      G$BOBCAT.NODES = GI_PARAMS.PARAMS(%GI_BOOT_NODES);

  15842   2 00060D  E800 0000 0020  00                   LDR,R6   GI_PARAMS+19
          2 000610  EF46 0015                            STR,R6   21,B6

      566    15843    1      G$BOBCAT.LINKS = GI_PARAMS.PARAMS(%GI_BOOT_LINKS);

  15843   2 000612  E800 0000 0022  00                   LDR,R6   GI_PARAMS+21
          2 000615  EF46 0016                            STR,R6   22,B6

      567    15844    1      G$BOBCAT.DEVICES = GI_PARAMS.PARAMS(%GI_BOOT_DEVICES);

  15844   2 000617  E800 0000 0024  00                   LDR,R6   GI_PARAMS+23
          2 00061A  EF46 0017                            STR,R6   23,B6
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:77   

      568    15845    1      G$BOBCAT.OSIROUTE# = GI_PARAMS.PARAMS(%GI_BOOT_OSIROUTE);

  15845   2 00061C  E800 0000 002A  00                   LDR,R6   GI_PARAMS+29
          2 00061F  EF46 0062                            STR,R6   98,B6

      569    15846    1      G$BOBCAT.DPS8000FLG = GI_PARAMS.PARAMS(%GI_BOOT_DPS8000FLG);

  15846   2 000621  E800 0000 002C  00                   LDR,R6   GI_PARAMS+31
          2 000624  EF46 0067                            STR,R6   103,B6

      570    15847
      571    15848        /* if booted from an 8000 and across a coupler attempt to turn on the adp bit.
      572    15849        */
      573    15850    1      IF G$BOBCAT.DPS8000FLG ~= 0 AND GI_READBOOT = ENTADDR(GIB$READCPLR)

  15850   2 000626  6901 0013                            BEZ,R6   s:15856,PREL
          2 000628  DB80 0000 0000  xent                 LAB,B5   GIB$READCPLR
          2 00062B  CC80 0000 0006  00                   LDB,B4   GI_READBOOT
          2 00062E  DFC7 0178                            STB,B5   I+2,AUTO
          2 000630  CDC7 0178                            CMB,B4   I+2,AUTO
          2 000632  0981 0007                            BNE      s:15856,PREL

      574    15851    1      THEN CALL GIB$SETADP;

  15851   2 000634  CBF0 0000                            LAB,B4   0,IMO
          2 000636  E380 0000 0000  xent                 LNJ,B6   GIB$SETADP
          2 000639       0001                            DC       s:15856,PREL

      575    15852
      576    15853        /*
      577    15854           Read in the control parameters.
      578    15855        */
      579    15856    1      IF GI$OFFSETS.CNTLOFFSET ~= 0

  15856   2 00063A  EC80 0000 000B  00                   LDB,B6   GI$OFFSETS$
          2 00063D  8CC6 0004                            LDI      4,B6
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:78   
          2 00063F  84F0 0000 0000                       SID      0,IMO
          2 000642  6981 0003                            BNEZ,R6  s:15858,PREL
          2 000644  7901 0082                            BEZ,R7   s:15883,PREL

      580    15857    2      THEN DO;

      581    15858    2           GI_ADDR = POFFW(ADDR(GI_CNTL),ADDR(GIR$ROOT))+DUMMY_BIGFOOT_ASD.BASE*256;

  15858   2 000646  DB80 0000 0000  xsym                 LAB,B5   GIR$ROOT
          2 000649  DFC7 0178                            STB,B5   I+2,AUTO
          2 00064B  CBC7 005E                            LAB,B4   GI_CNTL,AUTO
          2 00064D  CFC7 017A                            STB,B4   I+4,AUTO
          2 00064F  8CC7 017A                            LDI      I+4,AUTO
          2 000651  84C7 0178                            SID      I+2,AUTO
          2 000653  8D47 017C                            SDI      I+6,AUTO
          2 000655  F800 0000 013C  00                   LDR,R7   DUMMY_BIGFOOT_ASD
          2 000658  F570 7FFF                            AND,R7   32767,IMO
          2 00065A  6C00                                 LDV,R6   0
          2 00065B  7088                                 DOL,R7   8
          2 00065C  8447 017C                            AID      I+6,AUTO
          2 00065E  8D00 0000 0000  xsym                 SDI      GI_ADDR

      582    15859    2           WSIZE = SIZEW(GI_CNTL);

  15859   2 000661  8CF0 0000 002A                       LDI      42,IMO
          2 000664  8D47 0155                            SDI      WSIZE,AUTO

      583    15860    2           CALL GI_READBOOT(GI$OFFSETS.CNTLOFFSET,GI_ADDR,WSIZE);

  15860   2 000666  BBC7 0155                            LAB,B3   WSIZE,AUTO
          2 000668  BFC7 017C                            STB,B3   I+6,AUTO
          2 00066A  AB80 0000 0000  xsym                 LAB,B2   GI_ADDR
          2 00066D  AFC7 017A                            STB,B2   I+4,AUTO
          2 00066F  CBC6 0004                            LAB,B4   4,B6
          2 000671  CFC7 0178                            STB,B4   I+2,AUTO
          2 000673  BBC7 0178                            LAB,B3   I+2,AUTO
          2 000675  9C80 0000 0006  00                   LDB,B1   GI_READBOOT
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:79   
          2 000678  CBF0 0300                            LAB,B4   768,IMO
          2 00067A  E381                                 LNJ,B6   ,B1
          2 00067B       0001                            DC       s:15862,PREL

      584    15861
      585    15862    2           GH_QMIN = GI_CNTL.PARAMS(%GI_CNTL_QMIN);

  15862   2 00067C  E847 005F                            LDR,R6   GI_CNTL+1,AUTO
          2 00067E  EF00 0000 0000  xsym                 STR,R6   GH_QMIN

      586    15863    2           GH_QUAN = GI_CNTL.PARAMS(%GI_CNTL_QUAN);

  15863   2 000681  D847 0061                            LDR,R5   GI_CNTL+3,AUTO
          2 000683  DF00 0000 0000  xsym                 STR,R5   GH_QUAN

      587    15864    2           G_XCONTIME = GI_CNTL.PARAMS(%GI_CNTL_XCONTIME);

  15864   2 000686  C847 0063                            LDR,R4   GI_CNTL+5,AUTO
          2 000688  CF00 0000 0000  xsym                 STR,R4   G_XCONTIME

      588    15865
      589    15866    2           G_MAX_USRS(0) = GI_CNTL.PARAMS(%GI_CNTL_MUSR);

  15866   2 00068B  B847 0065                            LDR,R3   GI_CNTL+7,AUTO
          2 00068D  BF00 0000 0000  xsym                 STR,R3   G_MAX_USRS

      590    15867    2           G_MAX_USRS(1) = GI_CNTL.PARAMS(%GI_CNTL_MUSR_USER);

  15867   2 000690  A847 0067                            LDR,R2   GI_CNTL+9,AUTO
          2 000692  AF00 0000 0001  xsym                 STR,R2   G_MAX_USRS+1

      591    15868    2           G_MAX_USRS(2) = GI_CNTL.PARAMS(%GI_CNTL_MUSR_CG);

  15868   2 000695  9847 0069                            LDR,R1   GI_CNTL+11,AUTO
          2 000697  9F00 0000 0002  xsym                 STR,R1   G_MAX_USRS+2

      592    15869    2           G_MAX_USRS(3) = GI_CNTL.PARAMS(%GI_CNTL_MUSR_HAND);
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:80   

  15869   2 00069A  E847 006B                            LDR,R6   GI_CNTL+13,AUTO
          2 00069C  EF00 0000 0003  xsym                 STR,R6   G_MAX_USRS+3

      593    15870    2           G_MAX_USRS(4) = GI_CNTL.PARAMS(%GI_CNTL_MUSR_GHST);

  15870   2 00069F  E847 006D                            LDR,R6   GI_CNTL+15,AUTO
          2 0006A1  EF00 0000 0004  xsym                 STR,R6   G_MAX_USRS+4

      594    15871
      595    15872    2           GFR_MAX_MEM(0) = GI_CNTL.PARAMS(%GI_CNTL_MMEM);

  15872   2 0006A4  E847 006F                            LDR,R6   GI_CNTL+17,AUTO
          2 0006A6  EF00 0000 0000  xsym                 STR,R6   GFR_MAX_MEM

      596    15873    2           GFR_MAX_MEM(1) = GI_CNTL.PARAMS(%GI_CNTL_MMEM_USER);

  15873   2 0006A9  E847 0071                            LDR,R6   GI_CNTL+19,AUTO
          2 0006AB  EF00 0000 0001  xsym                 STR,R6   GFR_MAX_MEM+1

      597    15874    2           GFR_MAX_MEM(2) = GI_CNTL.PARAMS(%GI_CNTL_MMEM_CG);

  15874   2 0006AE  E847 0073                            LDR,R6   GI_CNTL+21,AUTO
          2 0006B0  EF00 0000 0002  xsym                 STR,R6   GFR_MAX_MEM+2

      598    15875    2           GFR_MAX_MEM(3) = GI_CNTL.PARAMS(%GI_CNTL_MMEM_HAND);

  15875   2 0006B3  E847 0075                            LDR,R6   GI_CNTL+23,AUTO
          2 0006B5  EF00 0000 0003  xsym                 STR,R6   GFR_MAX_MEM+3

      599    15876    2           GFR_MAX_MEM(4) = GI_CNTL.PARAMS(%GI_CNTL_MMEM_GHST);

  15876   2 0006B8  E847 0077                            LDR,R6   GI_CNTL+25,AUTO
          2 0006BA  EF00 0000 0004  xsym                 STR,R6   GFR_MAX_MEM+4

      600    15877    2           GI_DUMP = GI_CNTL.PARAMS(%GI_CNTL_DUMP);

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:81   
  15877   2 0006BD  E847 0079                            LDR,R6   GI_CNTL+27,AUTO
          2 0006BF  EF00 0000 0000  xsym                 STR,R6   GI_DUMP

      601    15878    2           GJ_SFILE_MAX_DATA = GI_CNTL.PARAMS(%GI_CNTL_SFILEDATA);

  15878   2 0006C2  E847 007D                            LDR,R6   GI_CNTL+31,AUTO
          2 0006C4  EF00 0000 0000  xsym                 STR,R6   GJ_SFILE_MAX_DATA

      602    15879    2           END;

      603    15880
      604    15881        /* Enforce a few minimum values (star 25260)
      605    15882        */
      606    15883    1      IF G$BOBCAT.MUIS <  GI$OFFSETS.NHANDLERS

  15883   2 0006C7  EC80 0000 0000  xsym                 LDB,B6   G$BOBCAT$
          2 0006CA  DC80 0000 000B  00                   LDB,B5   GI$OFFSETS$
          2 0006CD  F846 000A                            LDR,R7   10,B6
          2 0006CF  6C00                                 LDV,R6   0
          2 0006D0  84C5 002C                            SID      44,B5
          2 0006D2  0601 0005                            BCT      s:15886,PREL

      607    15884    1      THEN G$BOBCAT.MUIS =  GI$OFFSETS.NHANDLERS;

  15884   2 0006D4  E845 002D                            LDR,R6   45,B5
          2 0006D6  EF46 000A                            STR,R6   10,B6

      608    15885
      609    15886    1      I =                                 4/*for monitor use*/

  15886   2 0006D8  E846 0016                            LDR,R6   22,B6
          2 0006DA  EA46 0017                            ADD,R6   23,B6
          2 0006DC  D846 000A                            LDR,R5   10,B6
          2 0006DE  5001                                 SOL,R5   1
          2 0006DF  DA56                                 ADD,R5   R6
          2 0006E0  E800 0000 0002  xsym                 LDR,R6   G_MAX_USRS+2
          2 0006E3  6002                                 SOL,R6   2
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:82   
          2 0006E4  EA55                                 ADD,R6   R5
          2 0006E5  6E04                                 ADV,R6   4
          2 0006E6  EF47 0149                            STR,R6   I,AUTO

      610    15887    1        + G$BOBCAT.LINKS
      611    15888    1        + G$BOBCAT.DEVICES
      612    15889    1        + (2 * G$BOBCAT.MUIS)
      613    15890    1        + (4 * G_MAX_USRS(2)/*com gr users*/ );
      614    15891
      615    15892    1      IF G$BOBCAT.LDCT# < I

  15892   2 0006E8  E946 0010                            CMR,R6   16,B6
          2 0006EA  0381 0003                            BLE      s:15895,PREL

      616    15893    1      THEN G$BOBCAT.LDCT# = I;

  15893   2 0006EC  EF46 0010                            STR,R6   16,B6

      617    15894
      618    15895    1      IF G$BOBCAT.IOP# <  G$BOBCAT.MUIS

  15895   2 0006EE  E846 000F                            LDR,R6   15,B6
          2 0006F0  E946 000A                            CMR,R6   10,B6
          2 0006F2  0281 0005                            BGE      s:15898,PREL

      619    15896    1      THEN G$BOBCAT.IOP# =  G$BOBCAT.MUIS;

  15896   2 0006F4  E846 000A                            LDR,R6   10,B6
          2 0006F6  EF46 000F                            STR,R6   15,B6

      620    15897
      621    15898    1      IF G$BOBCAT.APESSN# <  G$BOBCAT.MUIS

  15898   2 0006F8  D846 0012                            LDR,R5   18,B6
          2 0006FA  D946 000A                            CMR,R5   10,B6
          2 0006FC  0281 0005                            BGE      s:15901,PREL

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:83   
      622    15899    1      THEN G$BOBCAT.APESSN# =  G$BOBCAT.MUIS;

  15899   2 0006FE  D846 000A                            LDR,R5   10,B6
          2 000700  DF46 0012                            STR,R5   18,B6

      623    15900
      624    15901    1      IF G_MAX_USRS(0) <  GI$OFFSETS.NHANDLERS

  15901   2 000702  DC80 0000 000B  00                   LDB,B5   GI$OFFSETS$
          2 000705  F800 0000 0000  xsym                 LDR,R7   G_MAX_USRS
          2 000708  6C00                                 LDV,R6   0
          2 000709  84C5 002C                            SID      44,B5
          2 00070B  0601 0006                            BCT      s:15904,PREL

      625    15902    1      THEN G_MAX_USRS(0) =  GI$OFFSETS.NHANDLERS;

  15902   2 00070D  E845 002D                            LDR,R6   45,B5
          2 00070F  EF00 0000 0000  xsym                 STR,R6   G_MAX_USRS

      626    15903
      627    15904    1      IF G_MAX_USRS(3) <  GI$OFFSETS.NHANDLERS

  15904   2 000712  F800 0000 0003  xsym                 LDR,R7   G_MAX_USRS+3
          2 000715  6C00                                 LDV,R6   0
          2 000716  84C5 002C                            SID      44,B5
          2 000718  0601 0006                            BCT      s:15907,PREL

      628    15905    1      THEN G_MAX_USRS(3) = GI$OFFSETS.NHANDLERS;/*handlers*/

  15905   2 00071A  E845 002D                            LDR,R6   45,B5
          2 00071C  EF00 0000 0003  xsym                 STR,R6   G_MAX_USRS+3

      629    15906
      630    15907    1      IF G$BOBCAT.HMI# <      G_MAX_USRS(3)/*handlers*/

  15907   2 00071F  E846 0011                            LDR,R6   17,B6
          2 000721  E900 0000 0003  xsym                 CMR,R6   G_MAX_USRS+3
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:84   
          2 000724  0281 0006                            BGE      s:15910,PREL

      631    15908    1      THEN G$BOBCAT.HMI# = G_MAX_USRS(3);

  15908   2 000726  E800 0000 0003  xsym                 LDR,R6   G_MAX_USRS+3
          2 000729  EF46 0011                            STR,R6   17,B6

      632    15909
      633    15910    1      IF G$BOBCAT.SFILE# < 2

  15910   2 00072B  C846 000B                            LDR,R4   11,B6
          2 00072D  4D02                                 CMV,R4   2
          2 00072E  0281 0004                            BGE      s:15913,PREL

      634    15911    1      THEN G$BOBCAT.SFILE# = 2;

  15911   2 000730  4C02                                 LDV,R4   2
          2 000731  CF46 000B                            STR,R4   11,B6

      635    15912
      636    15913    1      IF G$BOBCAT.ACCT_RES# < 2

  15913   2 000733  B846 000E                            LDR,R3   14,B6
          2 000735  3D02                                 CMV,R3   2
          2 000736  0281 0004                            BGE      s:15916,PREL

      637    15914    1      THEN G$BOBCAT.ACCT_RES# = 2;

  15914   2 000738  3C02                                 LDV,R3   2
          2 000739  BF46 000E                            STR,R3   14,B6

      638    15915
      639    15916    1      IF G$BOBCAT.LINKS < 1

  15916   2 00073B  A846 0016                            LDR,R2   22,B6
          2 00073D  2D01                                 CMV,R2   1
          2 00073E  0281 0004                            BGE      s:15919,PREL
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:85   

      640    15917    1      THEN G$BOBCAT.LINKS = 1;

  15917   2 000740  2C01                                 LDV,R2   1
          2 000741  AF46 0016                            STR,R2   22,B6

      641    15918
      642    15919    1      IF G$BOBCAT.TCTX# < 1

  15919   2 000743  9846 0013                            LDR,R1   19,B6
          2 000745  1D01                                 CMV,R1   1
          2 000746  0281 0004                            BGE      s:15925,PREL

      643    15920    1      THEN G$BOBCAT.TCTX# = 1;

  15920   2 000748  1C01                                 LDV,R1   1
          2 000749  9F46 0013                            STR,R1   19,B6

      644    15921
      645    15922        /* Other misc boot parameters.
      646    15923        */
      647    15924
      648    15925    1      G$BOBCAT.MAXCHN=%BITBIN('2000'X);    /*NEEDS FIXIN'                        */

  15925   2 00074B  E870 2000                            LDR,R6   8192,IMO
          2 00074D  EF46 0036                            STR,R6   54,B6

      649    15926    1      IF GI_FEX.FEP# = 0

  15926   2 00074F  8280 0000 0000  xsym                 LB,'00FF'X        GI_FEX
  15926   2 000752       00FF
          2 000753  0501 000A                            BBT      s:15929,PREL

      650    15927    1      THEN
      651    15928    1           GI_FEX.FEP# = GI$OFFSETS.FEX;

  15928   2 000755  DC80 0000 000B  00                   LDB,B5   GI$OFFSETS$
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:86   
          2 000758  E845 0011                            LDR,R6   17,B5
          2 00075A  EA80 0000 0000  xsym                 SRM,R6,'00FF'X    GI_FEX
          2 00075D       00FF

      652    15929    1      G$BOBCAT.FEP# = GI_FEX.FEP#;

  15929   2 00075E  E800 0000 0000  xsym                 LDR,R6   GI_FEX
          2 000761  E570 00FF                            AND,R6   255,IMO
          2 000763  EF06                                 STR,R6   ,B6

      653    15930    1      G$BOBCAT.NODENAME = GI$OFFSETS.NODENAME;

  15930   2 000764  AC80 0000 000B  00                   LDB,B2   GI$OFFSETS$
          2 000767  2C24                                 LDV,R2   36
          2 000768  6C08                                 LDV,R6   8
          2 000769  BC80 0000 0000  xsym                 LDB,B3   G$BOBCAT$
          2 00076C  3C02                                 LDV,R3   2
          2 00076D  0008                                 MMM

      654    15931    1      G$BOBCAT.HOSTNODE = GI$OFFSETS.HOSTNODE;

  15931   2 00076E  EC80 0000 0000  xsym                 LDB,B6   G$BOBCAT$
          2 000771  DC80 0000 000B  00                   LDB,B5   GI$OFFSETS$
          2 000774  E845 0017                            LDR,R6   23,B5
          2 000776  EF46 0061                            STR,R6   97,B6

      655    15932    1      G$BOBCAT.BOOTFID = GI$OFFSETS.BOOTFID;

  15932   2 000778  AB85                                 LAB,B2   ,B5
          2 000779  2C30                                 LDV,R2   48
          2 00077A  6C28                                 LDV,R6   40
          2 00077B  BBC6 004D                            LAB,B3   77,B6
          2 00077D  3C00                                 LDV,R3   0
          2 00077E  0008                                 MMM

      656    15933
      657    15934        /*
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:87   
      658    15935           Read in the pseudo resource definitions.
      659    15936        */
      660    15937    1      GFR_PSEUDO# = GI$OFFSETS.PSEUDO#;

  15937   2 00077F  EC80 0000 000B  00                   LDB,B6   GI$OFFSETS$
          2 000782  E846 000B                            LDR,R6   11,B6
          2 000784  EF00 0000 0000  xsym                 STR,R6   GFR_PSEUDO#

      661    15938    1      IF GFR_PSEUDO# ~= 0

  15938   2 000787  6901 007F                            BEZ,R6   s:15953,PREL

      662    15939    2      THEN DO;

      663    15940    2          GI_ADDR = POFFW(ADDR(GI_PSEUDOS),ADDR(GIR$ROOT))+DUMMY_BIGFOOT_ASD.BASE*256;

  15940   2 000789  CB80 0000 0000  xsym                 LAB,B4   GIR$ROOT
          2 00078C  CFC7 0178                            STB,B4   I+2,AUTO
          2 00078E  BB80 0000 002D  00                   LAB,B3   GI_PSEUDOS
          2 000791  BFC7 017A                            STB,B3   I+4,AUTO
          2 000793  8CC7 017A                            LDI      I+4,AUTO
          2 000795  84C7 0178                            SID      I+2,AUTO
          2 000797  8D47 017C                            SDI      I+6,AUTO
          2 000799  F800 0000 013C  00                   LDR,R7   DUMMY_BIGFOOT_ASD
          2 00079C  F570 7FFF                            AND,R7   32767,IMO
          2 00079E  6C00                                 LDV,R6   0
          2 00079F  7088                                 DOL,R7   8
          2 0007A0  8447 017C                            AID      I+6,AUTO
          2 0007A2  8D00 0000 0000  xsym                 SDI      GI_ADDR

      664    15941    2           WSIZE = GFR_PSEUDO# * SIZEW(GI$PSEUDOS);

  15941   2 0007A5  F800 0000 0000  xsym                 LDR,R7   GFR_PSEUDO#
          2 0007A8  6C00                                 LDV,R6   0
          2 0007A9  9B80 0000 0008  03                   LAB,B1   +8
          2 0007AC  D380 0000 0000  xent                 LNJ,B5   X6D_MID
          2 0007AF  8D47 0155                            SDI      WSIZE,AUTO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:88   

      665    15942    2           CALL GI_READBOOT(GI$OFFSETS.PSEUDOOFFSET,GI_ADDR,WSIZE);

  15942   2 0007B1  EBC7 0155                            LAB,B6   WSIZE,AUTO
          2 0007B3  EFC7 017C                            STB,B6   I+6,AUTO
          2 0007B5  DB80 0000 0000  xsym                 LAB,B5   GI_ADDR
          2 0007B8  DFC7 017A                            STB,B5   I+4,AUTO
          2 0007BA  CC80 0000 000B  00                   LDB,B4   GI$OFFSETS$
          2 0007BD  BBC4 0008                            LAB,B3   8,B4
          2 0007BF  BFC7 0178                            STB,B3   I+2,AUTO
          2 0007C1  BBC7 0178                            LAB,B3   I+2,AUTO
          2 0007C3  9C80 0000 0006  00                   LDB,B1   GI_READBOOT
          2 0007C6  CBF0 0300                            LAB,B4   768,IMO
          2 0007C8  E381                                 LNJ,B6   ,B1
          2 0007C9       0001                            DC       s:15943,PREL

      666    15943    3           DO I = 0 TO GFR_PSEUDO#-1;

  15943   2 0007CA  8747 0149                            CL       I,AUTO
          2 0007CC  0F81 0034                            B        s:15950+2,PREL

      667    15944    3                GFR_PSUDO_NM(I) = GI_PSEUDOS.NAME(I);

  15944   2 0007CE  AB80 0000 0000  00                   LAB,B2   SUSP62
          2 0007D1  A847 0149                            LDR,R2   I,AUTO
          2 0007D3  2F1C                                 MLV,R2   28
          2 0007D4  2E5A                                 ADV,R2   90
          2 0007D5  6C08                                 LDV,R6   8
          2 0007D6  BB80 0000 0000  xsym                 LAB,B3   GFR_PSUDO_NM
          2 0007D9  B847 0149                            LDR,R3   I,AUTO
          2 0007DB  3003                                 SOL,R3   3
          2 0007DC  0008                                 MMM

      668    15945    3                GFR_PSUDO_MAX_SYS(I) = GI_PSEUDOS.MAX_SYS(I);

  15945   2 0007DD  B847 0149                            LDR,R3   I,AUTO
          2 0007DF  A853                                 LDR,R2   R3
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:89   
          2 0007E0  2F0E                                 MLV,R2   14
          2 0007E1  E820 0000 0032  00                   LDR,R6   GI_PSEUDOS+5,R2
          2 0007E4  EF30 0000 0000  xsym                 STR,R6   GFR_PSUDO_MAX_SYS,R3

      669    15946    3                GFR_PSUDO_MAX_USR(I) = GI_PSEUDOS.MAX_USR(I);

  15946   2 0007E7  D820 0000 0034  00                   LDR,R5   GI_PSEUDOS+7,R2
          2 0007EA  DF30 0000 0000  xsym                 STR,R5   GFR_PSUDO_MAX_USR,R3

      670    15947    3                GFR_PSUDO_MAX_CG(I) = GI_PSEUDOS.MAX_CG(I);

  15947   2 0007ED  C820 0000 0036  00                   LDR,R4   GI_PSEUDOS+9,R2
          2 0007F0  CF30 0000 0000  xsym                 STR,R4   GFR_PSUDO_MAX_CG,R3

      671    15948    3                GFR_PSUDO_MAX_HND(I) = GI_PSEUDOS.MAX_HND(I);

  15948   2 0007F3  9820 0000 0038  00                   LDR,R1   GI_PSEUDOS+11,R2
          2 0007F6  9F30 0000 0000  xsym                 STR,R1   GFR_PSUDO_MAX_HND,R3

      672    15949    3                GFR_PSUDO_MAX_GST(I) = GI_PSEUDOS.MAX_GHST(I);

  15949   2 0007F9  E820 0000 003A  00                   LDR,R6   GI_PSEUDOS+13,R2
          2 0007FC  EF30 0000 0000  xsym                 STR,R6   GFR_PSUDO_MAX_GST,R3

      673    15950    3                END;

  15950   2 0007FF  8AC7 0149                            INC      I,AUTO
          2 000801  E847 0149                            LDR,R6   I,AUTO
          2 000803  E900 0000 0000  xsym                 CMR,R6   GFR_PSEUDO#
          2 000806  0248                                 BL       s:15944,SPREL

      674    15951    2           END;                            /* IF PSEUDO# ~= 0                    */

      675    15952
      676    15953    1      G$ROS$->G$ROS.U_ECCB.FLTFLG.IGN_IO = '1'B;

  15953   2 000807  EC80 0000 0000  xsym                 LDB,B6   G$ROS$
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:90   
          2 00080A  8946 01A4                            LBT,'8000'X       420,B6
          2 00080C       8000

      677    15954    1      G$ROS$->G$ROS.JIT.FEP# = G$BOBCAT.FEP#;

  15954   2 00080D  DC80 0000 0000  xsym                 LDB,B5   G$BOBCAT$
          2 000810  E805                                 LDR,R6   ,B5
          2 000811  EF46 0071                            STR,R6   113,B6

      678    15955
      679    15956        /* Initialize the data in the BOBCAT segment.
      680    15957        */
      681    15958    1      NEXT$ = PINCRW(G$BOBCAT$,SIZEW(G$BOBCAT));

  15958   2 000813  CBC5 006A                            LAB,B4   106,B5
          2 000815  CFC7 0164                            STB,B4   NEXT$,AUTO

      682    15959    1      NEXT = ( (NEXT+1) /2) * 2;

  15959   2 000817  8CC7 0164                            LDI      NEXT$,AUTO
          2 000819  8470 0000 0001                       AID      1,IMO
          2 00081C  70C1                                 DOR,R7   1
          2 00081D  7081                                 DOL,R7   1
          2 00081E  8D47 0164                            SDI      NEXT$,AUTO

      683    15960
      684    15961    1      CALL GIM$BUILD_BOBCAT(NEXT$);

  15961   2 000820  CBC7 0164                            LAB,B4   NEXT$,AUTO
          2 000822  CFC7 0178                            STB,B4   I+2,AUTO
          2 000824  BBC7 0178                            LAB,B3   I+2,AUTO
          2 000826  CBF0 0100                            LAB,B4   256,IMO
          2 000828  E380 0000 0000  xent                 LNJ,B6   GIM$BUILD_BOBCAT
          2 00082B       0001                            DC       s:15965,PREL

      685    15962
      686    15963        /* Initialize the channel table.
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:91   
      687    15964        */
      688    15965    1      CALL GIM$BUILD_CHNTBL(NEXT$);

  15965   2 00082C  EBC7 0164                            LAB,B6   NEXT$,AUTO
          2 00082E  EFC7 0178                            STB,B6   I+2,AUTO
          2 000830  BBC7 0178                            LAB,B3   I+2,AUTO
          2 000832  CBF0 0100                            LAB,B4   256,IMO
          2 000834  E380 0000 0000  xent                 LNJ,B6   GIM$BUILD_CHNTBL
          2 000837       0001                            DC       s:15969,PREL

      689    15966
      690    15967        /* Now see how much of the segment we used and adjust the segdesc.
      691    15968        */
      692    15969    1      G$BOBCAT.UNUSED$ = NEXT$;

  15969   2 000838  ECC7 0164                            LDB,B6   NEXT$,AUTO
          2 00083A  DC80 0000 0000  xsym                 LDB,B5   G$BOBCAT$
          2 00083D  EFC5 0068                            STB,B6   104,B5

      693    15970    1      BOBCAT_SIZE = POFFW(NEXT$,G$BOBCAT$)+255;

  15970   2 00083F  8CC7 0164                            LDI      NEXT$,AUTO
          2 000841  8480 0000 0000  xsym                 SID      G$BOBCAT$
          2 000844  8470 0000 00FF                       AID      255,IMO
          2 000847  E857                                 LDR,R6   R7
          2 000848  EF47 0166                            STR,R6   BOBCAT_SIZE,AUTO

      694    15971    1      BOBCAT_SIZE = BOBCAT_SIZE/256;

  15971   2 00084A  6048                                 SOR,R6   8
          2 00084B  EF47 0166                            STR,R6   BOBCAT_SIZE,AUTO

      695    15972    1      IF BOBCAT_SIZE > 256 THEN GOTO FREEZE;

  15972   2 00084D  E970 0100                            CMR,R6   256,IMO
          2 00084F  0301 0310                            BG       s:16118,PREL

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:92   
      696    15973    1      NEXT = BOBCAT_SIZE * 256;

  15973   2 000851  F856                                 LDR,R7   R6
          2 000852  6C00                                 LDV,R6   0
          2 000853  7088                                 DOL,R7   8
          2 000854  8D47 0164                            SDI      NEXT$,AUTO

      697    15974    1      G$BOBCAT.UNUSED# = POFFW(NEXT$,G$BOBCAT.UNUSED$);

  15974   2 000856  84C5 0068                            SID      104,B5
          2 000858  E857                                 LDR,R6   R7
          2 000859  EF45 0014                            STR,R6   20,B5

      698    15975    1      BOBCAT_PTR = MEMPTR;

  15975   2 00085B  8CC7 0144                            LDI      MEMPTR,AUTO
          2 00085D  8D47 0146                            SDI      BOBCAT_PTR,AUTO

      699    15976
      700    15977    1      GI_NEXTPAGE = GI_NEXTPAGE + BOBCAT_SIZE;

  15977   2 00085F  F847 0166                            LDR,R7   BOBCAT_SIZE,AUTO
          2 000861  6C00                                 LDV,R6   0
          2 000862  8400 0000 0004  00                   AID      GI_NEXTPAGE
          2 000865  8D00 0000 0004  00                   SDI      GI_NEXTPAGE

      701    15978    1      MEMPTR = GI_NEXTPAGE*256;

  15978   2 000868  7088                                 DOL,R7   8
          2 000869  8D47 0144                            SDI      MEMPTR,AUTO

      702    15979
      703    15980        /* Initialize the transport and network buffer pool.
      704    15981        */
      705    15982    1      I = GI_PARAMS.PARAMS(%GI_BOOT_CBUFFER);

  15982   2 00086B  D800 0000 0018  00                   LDR,R5   GI_PARAMS+11
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:93   
          2 00086E  DF47 0149                            STR,R5   I,AUTO

      706    15983    1      IF I > 256 THEN GOTO FREEZE;

  15983   2 000870  D970 0100                            CMR,R5   256,IMO
          2 000872  0301 02ED                            BG       s:16118,PREL

      707    15984
      708    15985    1      IF I = 0 THEN GOTO SETUP_PPUT;

  15985   2 000874  5901 0067                            BEZ,R5   s:16001,PREL

      709    15986
      710    15987    1      CALL SETASDT(G$MHJIT.ASDT_MON.CBUFFER, MEMPTR, I, 256);

  15987   2 000876  EBF0 0100                            LAB,B6   256,IMO
          2 000878  EFC7 0172                            STB,B6   @SIZE+2,AUTO
          2 00087A  CBC7 0149                            LAB,B4   I,AUTO
          2 00087C  CFC7 0170                            STB,B4   @MEMADR+2,AUTO
          2 00087E  BBC7 0144                            LAB,B3   MEMPTR,AUTO
          2 000880  BFC7 016E                            STB,B3   @SEGDESC+2,AUTO
          2 000882  ACC7 014D                            LDB,B2   MHJITPTR,AUTO
          2 000884  9BC2 0034                            LAB,B1   52,B2
          2 000886  9FC7 016C                            STB,B1   BOBCAT_SIZE+6,AUTO
          2 000888  E3C0 02DF                            LNJ,B6   s:0,PREL
          2 00088A       0001                            DC       s:15988,PREL

      711    15988    1      CALL SETASDT(G$MHJIT.ASDT_BIGFOOT.CBUFFER, MEMPTR, I, 256);

  15988   2 00088B  EBF0 0100                            LAB,B6   256,IMO
          2 00088D  EFC7 0172                            STB,B6   @SIZE+2,AUTO
          2 00088F  DBC7 0149                            LAB,B5   I,AUTO
          2 000891  DFC7 0170                            STB,B5   @MEMADR+2,AUTO
          2 000893  CBC7 0144                            LAB,B4   MEMPTR,AUTO
          2 000895  CFC7 016E                            STB,B4   @SEGDESC+2,AUTO
          2 000897  BCC7 014D                            LDB,B3   MHJITPTR,AUTO
          2 000899  ABC3 0072                            LAB,B2   114,B3
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:94   
          2 00089B  AFC7 016C                            STB,B2   BOBCAT_SIZE+6,AUTO
          2 00089D  E3C0 02CA                            LNJ,B6   s:0,PREL
          2 00089F       0001                            DC       s:15989,PREL

      712    15989    1      G$UHJIT.ASDT_MCL.CBUFFER = G$MHJIT.ASDT_MON.CBUFFER;

  15989   2 0008A0  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 0008A2  8CC6 0034                            LDI      52,B6
          2 0008A4  DC80 0000 0000  xsym                 LDB,B5   G$UHJIT$
          2 0008A7  8D45 0072                            SDI      114,B5

      713    15990    1      CALL GHH$ASD(G$CBUFFER$,G$MHJIT.ASDT_MON.CBUFFER);

  15990   2 0008A9  CBC6 0034                            LAB,B4   52,B6
          2 0008AB  CFC7 017A                            STB,B4   I+4,AUTO
          2 0008AD  BB80 0000 0000  xsym                 LAB,B3   G$CBUFFER$
          2 0008B0  BFC7 0178                            STB,B3   I+2,AUTO
          2 0008B2  BBC7 0178                            LAB,B3   I+2,AUTO
          2 0008B4  CBF0 0200                            LAB,B4   512,IMO
          2 0008B6  E380 0000 0000  xent                 LNJ,B6   GHH$ASD
          2 0008B9       0001                            DC       s:15992,PREL

      714    15991
      715    15992    1      KV$VDH_VDHINT.BFRBGN$ = G$CBUFFER$;

  15992   2 0008BA  EC80 0000 0000  xsym                 LDB,B6   G$CBUFFER$
          2 0008BD  EF80 0000 013E  00                   STB,B6   KV$VDH_VDHINT

      716    15993    1      KV$VDH_VDHINT.BFREND$ = PINCRW(G$CBUFFER$, I*256);

  15993   2 0008C0  F847 0149                            LDR,R7   I,AUTO
          2 0008C2  6C00                                 LDV,R6   0
          2 0008C3  7088                                 DOL,R7   8
          2 0008C4  8400 0000 0000  xsym                 AID      G$CBUFFER$
          2 0008C7  8D00 0000 0140  00                   SDI      KV$VDH_VDHINT+2

      717    15994    1      CALL KVB$INT(KV$VDH_VDHINT) ALTRET(FREEZE);
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:95   

  15994   2 0008CA  BB80 0000 000A  03                   LAB,B3   +10
          2 0008CD  CBF0 0100                            LAB,B4   256,IMO
          2 0008CF  E380 0000 0000  xent                 LNJ,B6   KVB$INT
          2 0008D2       028E                            DC       s:16118,PREL

      718    15995
      719    15996    1      GI_NEXTPAGE = GI_NEXTPAGE + I;

  15996   2 0008D3  F847 0149                            LDR,R7   I,AUTO
          2 0008D5  6C00                                 LDV,R6   0
          2 0008D6  8400 0000 0004  00                   AID      GI_NEXTPAGE
          2 0008D9  8D00 0000 0004  00                   SDI      GI_NEXTPAGE

      720    15997
      721    15998        /* Begin setup of PPUT segment.
      722    15999        */
      723    16000    1   SETUP_PPUT:
      724    16001    1      MEMPTR = GI_NEXTPAGE*256;

  16001   2 0008DC  8C80 0000 0004  00   SETUP_PPUT      LDI      GI_NEXTPAGE
          2 0008DF  7088                                 DOL,R7   8
          2 0008E0  8D47 0144                            SDI      MEMPTR,AUTO

      725    16002    1      I = GI_MEMPGS/128;

  16002   2 0008E2  D800 0000 0003  00                   LDR,R5   GI_MEMPGS
          2 0008E5  5047                                 SOR,R5   7
          2 0008E6  DF47 0149                            STR,R5   I,AUTO

      726    16003    1      CALL SETASDT(G$MHJIT.ASDT_MON.PPUT,MEMPTR,I,256);

  16003   2 0008E8  EBF0 0100                            LAB,B6   256,IMO
          2 0008EA  EFC7 0172                            STB,B6   @SIZE+2,AUTO
          2 0008EC  DBC7 0149                            LAB,B5   I,AUTO
          2 0008EE  DFC7 0170                            STB,B5   @MEMADR+2,AUTO
          2 0008F0  CBC7 0144                            LAB,B4   MEMPTR,AUTO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:96   
          2 0008F2  CFC7 016E                            STB,B4   @SEGDESC+2,AUTO
          2 0008F4  BCC7 014D                            LDB,B3   MHJITPTR,AUTO
          2 0008F6  ABC3 0032                            LAB,B2   50,B3
          2 0008F8  AFC7 016C                            STB,B2   BOBCAT_SIZE+6,AUTO
          2 0008FA  E3C0 026D                            LNJ,B6   s:0,PREL
          2 0008FC       0001                            DC       s:16004,PREL

      727    16004    1      CALL SETASDT(G$MHJIT.ASDT_BIGFOOT.PPUT,MEMPTR,I,256);

  16004   2 0008FD  EBF0 0100                            LAB,B6   256,IMO
          2 0008FF  EFC7 0172                            STB,B6   @SIZE+2,AUTO
          2 000901  DBC7 0149                            LAB,B5   I,AUTO
          2 000903  DFC7 0170                            STB,B5   @MEMADR+2,AUTO
          2 000905  CBC7 0144                            LAB,B4   MEMPTR,AUTO
          2 000907  CFC7 016E                            STB,B4   @SEGDESC+2,AUTO
          2 000909  BCC7 014D                            LDB,B3   MHJITPTR,AUTO
          2 00090B  ABC3 0070                            LAB,B2   112,B3
          2 00090D  AFC7 016C                            STB,B2   BOBCAT_SIZE+6,AUTO
          2 00090F  E3C0 0258                            LNJ,B6   s:0,PREL
          2 000911       0001                            DC       s:16005,PREL

      728    16005    1      G$UHJIT.ASDT_MCL.PPUT = G$MHJIT.ASDT_MON.PPUT;

  16005   2 000912  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 000914  8CC6 0032                            LDI      50,B6
          2 000916  DC80 0000 0000  xsym                 LDB,B5   G$UHJIT$
          2 000919  8D45 0070                            SDI      112,B5

      729    16006    1      CALL GHH$ASD(G$PPUT$,G$MHJIT.ASDT_MON.PPUT);

  16006   2 00091B  CBC6 0032                            LAB,B4   50,B6
          2 00091D  CFC7 017A                            STB,B4   I+4,AUTO
          2 00091F  BB80 0000 0000  xsym                 LAB,B3   G$PPUT$
          2 000922  BFC7 0178                            STB,B3   I+2,AUTO
          2 000924  BBC7 0178                            LAB,B3   I+2,AUTO
          2 000926  CBF0 0200                            LAB,B4   512,IMO
          2 000928  E380 0000 0000  xent                 LNJ,B6   GHH$ASD
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:97   
          2 00092B       0001                            DC       s:16008,PREL

      730    16007
      731    16008    1      GI_NEXTPAGE = GI_NEXTPAGE + I;

  16008   2 00092C  F847 0149                            LDR,R7   I,AUTO
          2 00092E  6C00                                 LDV,R6   0
          2 00092F  8400 0000 0004  00                   AID      GI_NEXTPAGE
          2 000932  8D00 0000 0004  00                   SDI      GI_NEXTPAGE

      732    16009
      733    16010        /* All monitor memory is allocated, finish up the memory data initialization.
      734    16011        */
      735    16012    1      GM_MEM_LOW = GI_NEXTPAGE;

  16012   2 000935  D800 0000 0005  00                   LDR,R5   GI_NEXTPAGE+1
          2 000938  DF00 0000 0000  xsym                 STR,R5   GM_MEM_LOW

      736    16013    1      G$BOBCAT.MMDATA$ = ADDR(GM_MEM_LOW);

  16013   2 00093B  EB80 0000 0000  xsym                 LAB,B6   GM_MEM_LOW
          2 00093E  DC80 0000 0000  xsym                 LDB,B5   G$BOBCAT$
          2 000941  EFC5 0006                            STB,B6   6,B5

      737    16014    1      G$BOBCAT.MEM_LOW = GM_MEM_LOW;

  16014   2 000943  DF45 0009                            STR,R5   9,B5

      738    16015    1      GM_MEM_HI = GI_MEMPGS -1;

  16015   2 000945  C800 0000 0003  00                   LDR,R4   GI_MEMPGS
          2 000948  4EFF                                 ADV,R4   -1
          2 000949  CF00 0000 0000  xsym                 STR,R4   GM_MEM_HI

      739    16016    1      G$BOBCAT.MEM_HI = GM_MEM_HI;

  16016   2 00094C  CF45 0008                            STR,R4   8,B5
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:98   

      740    16017    1      GM_SHUF_HI = GM_MEM_HI;

  16017   2 00094E  CF00 0000 0000  xsym                 STR,R4   GM_SHUF_HI

      741    16018    1      GM_ASHUF = GM_SHUF_HI - GM_MEM_LOW + 1;

  16018   2 000951  C255                                 SUB,R4   R5
          2 000952  4E01                                 ADV,R4   1
          2 000953  CF00 0000 0000  xsym                 STR,R4   GM_ASHUF

      742    16019    1      GM_SHUF = GM_ASHUF;

  16019   2 000956  CF00 0000 0000  xsym                 STR,R4   GM_SHUF

      743    16020    1      GM_SHUF_MIN = GM_ASHUF;

  16020   2 000959  CF00 0000 0000  xsym                 STR,R4   GM_SHUF_MIN

      744    16021
      745    16022    1      IF GI_MEMPGS >= 8192

  16022   2 00095C  B800 0000 0003  00                   LDR,R3   GI_MEMPGS
          2 00095F  B970 2000                            CMR,R3   8192,IMO
          2 000961  0201 0008                            BL       s:16025,PREL

      746    16023    1      THEN G$MHJIT.WDT_INIT = G$MHJIT.WDT_INIT *2;

  16023   2 000963  CCC7 014D                            LDB,B4   MHJITPTR,AUTO
          2 000965  A844 0359                            LDR,R2   857,B4
          2 000967  2001                                 SOL,R2   1
          2 000968  AF44 0359                            STR,R2   857,B4

      747    16024
      748    16025    1      CALL SETASDT(G$MHJIT.ASDT_MON.BOBCAT,BOBCAT_PTR,BOBCAT_SIZE,256);

  16025   2 00096A  EBF0 0100                            LAB,B6   256,IMO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:99   
          2 00096C  EFC7 0172                            STB,B6   @SIZE+2,AUTO
          2 00096E  CBC7 0166                            LAB,B4   BOBCAT_SIZE,AUTO
          2 000970  CFC7 0170                            STB,B4   @MEMADR+2,AUTO
          2 000972  BBC7 0146                            LAB,B3   BOBCAT_PTR,AUTO
          2 000974  BFC7 016E                            STB,B3   @SEGDESC+2,AUTO
          2 000976  ACC7 014D                            LDB,B2   MHJITPTR,AUTO
          2 000978  9BC2 0036                            LAB,B1   54,B2
          2 00097A  9FC7 016C                            STB,B1   BOBCAT_SIZE+6,AUTO
          2 00097C  E3C0 01EB                            LNJ,B6   s:0,PREL
          2 00097E       0001                            DC       s:16026,PREL

      749    16026    1      CALL SETASDT(G$MHJIT.ASDT_BIGFOOT.BOBCAT,BOBCAT_PTR,BOBCAT_SIZE,256);

  16026   2 00097F  EBF0 0100                            LAB,B6   256,IMO
          2 000981  EFC7 0172                            STB,B6   @SIZE+2,AUTO
          2 000983  DBC7 0166                            LAB,B5   BOBCAT_SIZE,AUTO
          2 000985  DFC7 0170                            STB,B5   @MEMADR+2,AUTO
          2 000987  CBC7 0146                            LAB,B4   BOBCAT_PTR,AUTO
          2 000989  CFC7 016E                            STB,B4   @SEGDESC+2,AUTO
          2 00098B  BCC7 014D                            LDB,B3   MHJITPTR,AUTO
          2 00098D  ABC3 0074                            LAB,B2   116,B3
          2 00098F  AFC7 016C                            STB,B2   BOBCAT_SIZE+6,AUTO
          2 000991  E3C0 01D6                            LNJ,B6   s:0,PREL
          2 000993       0001                            DC       s:16030,PREL

      750    16027
      751    16028        /* Finish up monitor initialization.
      752    16029        */
      753    16030    1      CALL GIM$FINISH_INIT;

  16030   2 000994  CBF0 0000                            LAB,B4   0,IMO
          2 000996  E380 0000 0000  xent                 LNJ,B6   GIM$FINISH_INIT
          2 000999       0001                            DC       s:16033,PREL

      754    16031
      755    16032
      756    16033    1      GHT_L6_9X = '0'B;                    /* Allow GUD$RING1 to work            */
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:100  

  16033   2 00099A  8700 0000 0000  xsym                 CL       GHT_L6_9X

      757    16034        /*
      758    16035             Try GHH$ASD in RING1 to see if we've got a L6_9X CPU.
      759    16036          */
      760    16037    1      CALL GUD$RING1;

  16037   2 00099D  CBF0 0000                            LAB,B4   0,IMO
          2 00099F  E380 0000 0000  xent                 LNJ,B6   GUD$RING1
          2 0009A2       0001                            DC       s:16038,PREL

      761    16038    1      GH_IGNORE_TRAP = 13;

  16038   2 0009A3  6C0D                                 LDV,R6   13
          2 0009A4  EF00 0000 0000  xsym                 STR,R6   GH_IGNORE_TRAP

      762    16039    1      CALL GHH$ASD (G$WINDOW1$,G$MHJIT.ASDT_MON.WINDOW1);

  16039   2 0009A7  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 0009A9  DBC6 0030                            LAB,B5   48,B6
          2 0009AB  DFC7 017A                            STB,B5   I+4,AUTO
          2 0009AD  CB80 0000 0000  xsym                 LAB,B4   G$WINDOW1$
          2 0009B0  CFC7 0178                            STB,B4   I+2,AUTO
          2 0009B2  BBC7 0178                            LAB,B3   I+2,AUTO
          2 0009B4  CBF0 0200                            LAB,B4   512,IMO
          2 0009B6  E380 0000 0000  xent                 LNJ,B6   GHH$ASD
          2 0009B9       0001                            DC       s:16040,PREL

      763    16040    2      IF G$MHJIT.TSA_MON.I.TRAP#=13 THEN DO;

  16040   2 0009BA  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 0009BC  E2C6 0089                            LLH,R6   137,B6
          2 0009BE  6D0D                                 CMV,R6   13
          2 0009BF  0981 0025                            BNE      s:16054,PREL

      764    16041        /*
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:101  
      765    16042             Got one.  Run mostly in RING0.
      766    16043             ght$trap also returned us to ring0.
      767    16044           */
      768    16045    2           GHT_L6_9X = '2000'X;

  16045   2 0009C1  D870 2000                            LDR,R5   8192,IMO
          2 0009C3  DF00 0000 0000  xsym                 STR,R5   GHT_L6_9X

      769    16046    2           GH_IGNORE_TRAP = -1;

  16046   2 0009C6  8900 0000 0000  xsym                 LBT,'FFFF'X       GH_IGNORE_TRAP
  16046   2 0009C9       FFFF

      770    16047    2           G$MHJIT.ISA_SCHD.S.RING = %G_RING0#;

  16047   2 0009CA  8946 0301                            LBT,'6000'X       769,B6
  16047   2 0009CC       6000

      771    16048    2           G$MHJIT.ISA_RT_CLOCK.S.RING = %G_RING0#;

  16048   2 0009CD  8946 032E                            LBT,'6000'X       814,B6
  16048   2 0009CF       6000

      772    16049    3           DO I=0 TO 48;

  16049   2 0009D0  8747 0149                            CL       I,AUTO

      773    16050    3                G$MHJIT.INTCON.S.RING(I) = %G_RING0#;

  16050   2 0009D2  E870 6000                            LDR,R6   24576,IMO
          2 0009D4  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 0009D6  DBC6 0366                            LAB,B5   870,B6
          2 0009D8  B847 0149                            LDR,R3   I,AUTO
          2 0009DA  3004                                 SOL,R3   4
          2 0009DB  EAB5                                 SRM,R6,'6000'X    ,B5,R3
          2 0009DC       6000

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:102  
      774    16051    3                END;

  16051   2 0009DD  8AC7 0149                            INC      I,AUTO
          2 0009DF  D847 0149                            LDR,R5   I,AUTO
          2 0009E1  5D30                                 CMV,R5   48
          2 0009E2  03F0                                 BLE      s:16050,SPREL

      775    16052    2           END;

  16052   2 0009E3  0F81 001D                            B        s:16063,PREL

      776    16053    2      ELSE DO;                   /* Run with a real NULLSEG on REAL machines.    */

      777    16054    2           CALL GUD$RING0;                 /* GET BACK TO RING 0*/

  16054   2 0009E5  CBF0 0000                            LAB,B4   0,IMO
          2 0009E7  E380 0000 0000  xent                 LNJ,B6   GUD$RING0
          2 0009EA       0001                            DC       s:16055,PREL

      778    16055    2           GH_IGNORE_TRAP = -1;

  16055   2 0009EB  8900 0000 0000  xsym                 LBT,'FFFF'X       GH_IGNORE_TRAP
  16055   2 0009EE       FFFF

      779    16056    2           G$MHJIT.ASDT_MON.NULLSEG.V = '0'B;

  16056   2 0009EF  ECC7 014D                            LDB,B6   MHJITPTR,AUTO
          2 0009F1  8806                                 LBF,'8000'X       ,B6
          2 0009F2       8000

      780    16057    2           G$MHJIT.ASDT_BIGFOOT.NULLSEG.V = '0'B;

  16057   2 0009F3  8846 003E                            LBF,'8000'X       62,B6
  16057   2 0009F5       8000

      781    16058    2           G$UHJIT.ASDT_USR.NULLSEG.V = '0'B;

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:103  
  16058   2 0009F6  DC80 0000 0000  xsym                 LDB,B5   G$UHJIT$
          2 0009F9  8805                                 LBF,'8000'X       ,B5
          2 0009FA       8000

      782    16059    2           G$UHJIT.ASDT_MCL.NULLSEG.V = '0'B;

  16059   2 0009FB  DC80 0000 0000  xsym                 LDB,B5   G$UHJIT$
          2 0009FE  8845 003E                            LBF,'8000'X       62,B5
          2 000A00       8000

      783    16060    2           END;

      784    16061
      785    16062                                                /* Get the users across               */
      786    16063    1      GJ_BOOT_HNDLRS = GI$OFFSETS.NHANDLERS;

  16063   2 000A01  DC80 0000 000B  00                   LDB,B5   GI$OFFSETS$
          2 000A04  E845 002D                            LDR,R6   45,B5
          2 000A06  EF00 0000 0000  xsym                 STR,R6   GJ_BOOT_HNDLRS

      787    16064    1      G_MING = GI$OFFSETS.NHANDLERS;

  16064   2 000A09  EF00 0000 0000  xsym                 STR,R6   G_MING

      788    16065    2      DO J = 0 TO GJ_BOOT_HNDLRS - 1;

  16065   2 000A0C  8747 014A                            CL       J,AUTO
          2 000A0E  0F81 0114                            B        s:16098+2,PREL

      789    16066    2           CALL GHS$ADDUSR (0,%G_M_HANDLER#,USER#,ROSPP,CODE);

  16066   2 000A10  EBF0 0000                            LAB,B6   0,IMO
          2 000A12  DBF0 0003                            LAB,B5   3,IMO
          2 000A14  CBC7 015E                            LAB,B4   CODE,AUTO
          2 000A16  CFC7 0180                            STB,B4   I+10,AUTO
          2 000A18  BBC7 015F                            LAB,B3   ROSPP,AUTO
          2 000A1A  BFC7 017E                            STB,B3   I+8,AUTO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:104  
          2 000A1C  ABC7 015D                            LAB,B2   USER#,AUTO
          2 000A1E  AFC7 017C                            STB,B2   I+6,AUTO
          2 000A20  DFC7 017A                            STB,B5   I+4,AUTO
          2 000A22  EFC7 0178                            STB,B6   I+2,AUTO
          2 000A24  BBC7 0178                            LAB,B3   I+2,AUTO
          2 000A26  CBF0 0500                            LAB,B4   1280,IMO
          2 000A28  E380 0000 0000  xent                 LNJ,B6   GHS$ADDUSR
          2 000A2B       0001                            DC       s:16067,PREL

      790    16067    2           IF CODE ~= 0

  16067   2 000A2C  E847 015E                            LDR,R6   CODE,AUTO
          2 000A2E  6981 0131                            BNEZ,R6  s:16118,PREL

      791    16068    2           THEN GOTO FREEZE;
      792    16069    2           G$MHJIT.ASDT_MON.WINDOW1.BASE = G$USER.UHJITPP(USER#);

  16069   2 000A30  EC80 0000 0000  xsym                 LDB,B6   G$USRT$
          2 000A33  B847 015D                            LDR,R3   USER#,AUTO
          2 000A35  3F18                                 MLV,R3   24
          2 000A36  3E12                                 ADV,R3   18
          2 000A37  D836                                 LDR,R5   ,B6,R3
          2 000A38  DCC7 014D                            LDB,B5   MHJITPTR,AUTO
          2 000A3A  DAC5 0030                            SRM,R5,'7FFF'X    48,B5
          2 000A3C       7FFF

      793    16070    2           CALL GHH$ASD (G$WINDOW1$,G$MHJIT.ASDT_MON.WINDOW1);

  16070   2 000A3D  CBC5 0030                            LAB,B4   48,B5
          2 000A3F  CFC7 017A                            STB,B4   I+4,AUTO
          2 000A41  BB80 0000 0000  xsym                 LAB,B3   G$WINDOW1$
          2 000A44  BFC7 0178                            STB,B3   I+2,AUTO
          2 000A46  BBC7 0178                            LAB,B3   I+2,AUTO
          2 000A48  CBF0 0200                            LAB,B4   512,IMO
          2 000A4A  E380 0000 0000  xent                 LNJ,B6   GHH$ASD
          2 000A4D       0001                            DC       s:16071,PREL

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:105  
      794    16071    2           G$WINDOW1$->G$UHJIT.ISA_USR.P$$ = ENTADDR(GJI$INIT_USR);

  16071   2 000A4E  EB80 0000 0000  xent                 LAB,B6   GJI$INIT_USR
          2 000A51  DC80 0000 0000  xsym                 LDB,B5   G$WINDOW1$
          2 000A54  EFC5 0084                            STB,B6   132,B5

      795    16072    2           G$WINDOW1$->G$UHJIT.ISA_USR.ASV$=ADDR(G$UHJIT$->G$UHJIT.ASDT_MCL);

  16072   2 000A56  CC80 0000 0000  xsym                 LDB,B4   G$UHJIT$
          2 000A59  BBC4 003E                            LAB,B3   62,B4
          2 000A5B  BFC5 007C                            STB,B3   124,B5

      796    16073    2           G$MHJIT.ASDT_MON.WINDOW1.BASE=ROSPP;

  16073   2 000A5D  E847 015F                            LDR,R6   ROSPP,AUTO
          2 000A5F  ACC7 014D                            LDB,B2   MHJITPTR,AUTO
          2 000A61  EAC2 0030                            SRM,R6,'7FFF'X    48,B2
          2 000A63       7FFF

      797    16074    2           G$MHJIT.ASDT_MON.WINDOW1.SIZE=(SIZEW(G$ROS)+255)/256;

  16074   2 000A64  6C03                                 LDV,R6   3
          2 000A65  EAC2 0031                            SRM,R6,'01FF'X    49,B2
          2 000A67       01FF

      798    16075    2           CALL GHH$ASD (G$WINDOW1$,G$MHJIT.ASDT_MON.WINDOW1);

  16075   2 000A68  EBC2 0030                            LAB,B6   48,B2
          2 000A6A  EFC7 017A                            STB,B6   I+4,AUTO
          2 000A6C  BB80 0000 0000  xsym                 LAB,B3   G$WINDOW1$
          2 000A6F  BFC7 0178                            STB,B3   I+2,AUTO
          2 000A71  BBC7 0178                            LAB,B3   I+2,AUTO
          2 000A73  CBF0 0200                            LAB,B4   512,IMO
          2 000A75  E380 0000 0000  xent                 LNJ,B6   GHH$ASD
          2 000A78       0001                            DC       s:16076,PREL

      799    16076    2           J$=ADDR(G$ROS.JIT);
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:106  

  16076   2 000A79  EC80 0000 0000  xsym                 LDB,B6   G$WINDOW1$
          2 000A7C  DBC6 003A                            LAB,B5   58,B6
          2 000A7E  DFC7 0160                            STB,B5   J$,AUTO

      800    16077    2           JIT.MODE=%G_M_HANDLER#;

  16077   2 000A80  6C03                                 LDV,R6   3
          2 000A81  E7C5 0004                            STH,R6   4,B5

      801    16078    2           JIT.PROG_ENTRY=%G_PE_BF#;

  16078   2 000A83  8845 0003                            LBF,'00FF'X       3,B5
  16078   2 000A85       00FF

      802    16079    2          JIT.PRIV.PRC='FFFFFFFF'X; /*N* WHEN FEPLINK WORKS SHOULD COME FROM SETMSG */

  16079   2 000A86  8C80 0000 0040  01                   LDI      G$SEG+62
          2 000A89  8D45 0092                            SDI      146,B5

      803    16080    2           JIT.PRIV.AUTH='FFFFFFFF'X;
             16080                    /*N* WHEN FEPLINK WORKS SHOULD COME FROM SETMSG */

  16080   2 000A8B  8C80 0000 0044  01                   LDI      G$SEG+66
          2 000A8E  8D45 0090                            SDI      144,B5

      804    16081    2           JIT.MAXMEM=65535;

  16081   2 000A90  8945 0089                            LBT,'FFFF'X       137,B5
  16081   2 000A92       FFFF

      805    16082    2           JIT.MRT = 2147483647;           /* X'7FFFFFFF'                        */

  16082   2 000A93  8CF0 7FFF FFFF                       LDI      2147483647,IMO
          2 000A96  8D45 0070                            SDI      112,B5

      806    16083    2           GI_ADDR = POFFW(ADDR(GI_SETFP),ADDR(GIR$ROOT))+DUMMY_BIGFOOT_ASD.BASE*256;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:107  

  16083   2 000A98  CB80 0000 0000  xsym                 LAB,B4   GIR$ROOT
          2 000A9B  CFC7 0178                            STB,B4   I+2,AUTO
          2 000A9D  BBC7 0006                            LAB,B3   GI_SETFP,AUTO
          2 000A9F  BFC7 017A                            STB,B3   I+4,AUTO
          2 000AA1  8CC7 017A                            LDI      I+4,AUTO
          2 000AA3  84C7 0178                            SID      I+2,AUTO
          2 000AA5  8D47 017C                            SDI      I+6,AUTO
          2 000AA7  F800 0000 013C  00                   LDR,R7   DUMMY_BIGFOOT_ASD
          2 000AAA  F570 7FFF                            AND,R7   32767,IMO
          2 000AAC  6C00                                 LDV,R6   0
          2 000AAD  7088                                 DOL,R7   8
          2 000AAE  8447 017C                            AID      I+6,AUTO
          2 000AB0  8D00 0000 0000  xsym                 SDI      GI_ADDR

      807    16084    2           WSIZE = SIZEW(GI_SETFP);

  16084   2 000AB3  8CF0 0000 0058                       LDI      88,IMO
          2 000AB6  8D47 0155                            SDI      WSIZE,AUTO

      808    16085    2           CALL GI_READBOOT(GI$OFFSETS.HANDLER.TBLOFFSET(J),GI_ADDR,WSIZE);

  16085   2 000AB8  ABC7 0155                            LAB,B2   WSIZE,AUTO
          2 000ABA  AFC7 017C                            STB,B2   I+6,AUTO
          2 000ABC  9B80 0000 0000  xsym                 LAB,B1   GI_ADDR
          2 000ABF  9FC7 017A                            STB,B1   I+4,AUTO
          2 000AC1  BC80 0000 000B  00                   LDB,B3   GI$OFFSETS$
          2 000AC4  B847 014A                            LDR,R3   J,AUTO
          2 000AC6  3001                                 SOL,R3   1
          2 000AC7  3E2E                                 ADV,R3   46
          2 000AC8  EBB3                                 LAB,B6   ,B3,R3
          2 000AC9  EFC7 0178                            STB,B6   I+2,AUTO
          2 000ACB  BBC7 0178                            LAB,B3   I+2,AUTO
          2 000ACD  9C80 0000 0006  00                   LDB,B1   GI_READBOOT
          2 000AD0  CBF0 0300                            LAB,B4   768,IMO
          2 000AD2  E381                                 LNJ,B6   ,B1
          2 000AD3       0001                            DC       s:16086,PREL
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:108  

      809    16086    2           ADDR(JIT.CCBUF)->GI$SETFP = GI_SETFP;

  16086   2 000AD4  AB87                                 LAB,B2   ,AUTO
          2 000AD5  2C0C                                 LDV,R2   12
          2 000AD6  E870 00B0                            LDR,R6   176,IMO
          2 000AD8  BCC7 0160                            LDB,B3   J$,AUTO
          2 000ADA  BBC3 00CE                            LAB,B3   206,B3
          2 000ADC  3C00                                 LDV,R3   0
          2 000ADD  0008                                 MMM

      810    16087    2           JIT.UNAME = GI_SETFP.NAME.TEXT;

  16087   2 000ADE  AB87                                 LAB,B2   ,AUTO
          2 000ADF  2C13                                 LDV,R2   19
          2 000AE0  6C0C                                 LDV,R6   12
          2 000AE1  BCC7 0160                            LDB,B3   J$,AUTO
          2 000AE3  3C14                                 LDV,R3   20
          2 000AE4  0008                                 MMM

      811    16088    2           JIT.ACCN = GI_SETFP.ACCT;

  16088   2 000AE5  AB87                                 LAB,B2   ,AUTO
          2 000AE6  2C32                                 LDV,R2   50
          2 000AE7  6C08                                 LDV,R6   8
          2 000AE8  BCC7 0160                            LDB,B3   J$,AUTO
          2 000AEA  3C0C                                 LDV,R3   12
          2 000AEB  0008                                 MMM

      812    16089    2           JIT.MAXLVLS=10;

  16089   2 000AEC  6C0A                                 LDV,R6   10
          2 000AED  ECC7 0160                            LDB,B6   J$,AUTO
          2 000AEF  E7C6 009E                            STH,R6   158,B6

      813    16090    2           JIT.PCC = GM_INIT_PGSZ;

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:109  
  16090   2 000AF1  D800 0000 0000  xsym                 LDR,R5   GM_INIT_PGSZ
          2 000AF4  DF46 0085                            STR,R5   133,B6

      814    16091    2           JIT.GFR_ACCT = 1;

  16091   2 000AF6  4C01                                 LDV,R4   1
          2 000AF7  C7C6 00A7                            STH,R4   167,B6

      815    16092    2           J$ = G$BOBCAT.ACCT_RES$;

  16092   2 000AF9  DC80 0000 0000  xsym                 LDB,B5   G$BOBCAT$
          2 000AFC  CCC5 0020                            LDB,B4   32,B5
          2 000AFE  CFC7 0160                            STB,B4   J$,AUTO

      816    16093    2           GFR_ACCT.CUR_FPRGS(1) = GFR_ACCT.CUR_FPRGS(1) +1;

  16093   2 000B00  8AC4 001B                            INC      27,B4

      817    16094    2           GFR_ACCT.CUR_MEM(1) = GFR_ACCT.CUR_MEM(1) + GM_INIT_PGSZ;

  16094   2 000B02  DA44 0019                            ADD,R5   25,B4
          2 000B04  DF44 0019                            STR,R5   25,B4

      818    16095    2           GFR_CUR_MEM(%G_M_HANDLER#) = GFR_CUR_MEM(%G_M_HANDLER#) + GM_INIT_PGSZ;

  16095   2 000B06  B800 0000 0003  xsym                 LDR,R3   GFR_CUR_MEM+3
          2 000B09  BA00 0000 0000  xsym                 ADD,R3   GM_INIT_PGSZ
          2 000B0C  BF00 0000 0003  xsym                 STR,R3   GFR_CUR_MEM+3

      819    16096    2           GM_ASHUF = GM_ASHUF - GM_INIT_PGSZ;

  16096   2 000B0F  A800 0000 0000  xsym                 LDR,R2   GM_ASHUF
          2 000B12  A200 0000 0000  xsym                 SUB,R2   GM_INIT_PGSZ
          2 000B15  AF00 0000 0000  xsym                 STR,R2   GM_ASHUF

      820    16097    2           GM_HSHUF = GM_HSHUF + GM_INIT_PGSZ;

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:110  
  16097   2 000B18  9800 0000 0000  xsym                 LDR,R1   GM_HSHUF
          2 000B1B  9A00 0000 0000  xsym                 ADD,R1   GM_INIT_PGSZ
          2 000B1E  9F00 0000 0000  xsym                 STR,R1   GM_HSHUF

      821    16098    2           END;                            /* DO J                               */

  16098   2 000B21  8AC7 014A                            INC      J,AUTO
          2 000B23  E847 014A                            LDR,R6   J,AUTO
          2 000B25  E900 0000 0000  xsym                 CMR,R6   GJ_BOOT_HNDLRS
          2 000B28  0201 FEE7                            BL       s:16066,PREL

      822    16099
      823    16100        /**/
      824    16101        /* Stuff some values so we can release our pages */
      825    16102        /**/
      826    16103    1      GJ_BOOTCHAN = GI_BOOTCHAN;

  16103   2 000B2A  D800 0000 0000  xsym                 LDR,R5   GI_BOOTCHAN
          2 000B2D  DF00 0000 0000  xsym                 STR,R5   GJ_BOOTCHAN

      827    16104    1      GJ_BOOTBASE = GI_BOOTBASE;

  16104   2 000B30  8C80 0000 0000  xsym                 LDI      GI_BOOTBASE
          2 000B33  8D00 0000 0000  xsym                 SDI      GJ_BOOTBASE

      828    16105    1      GH_KEEPDELTA = GI_KEEPDELTA;

  16105   2 000B36  C800 0000 000A  00                   LDR,R4   GI_KEEPDELTA
          2 000B39  C570 8000                            AND,R4   -32768,IMO
          2 000B3B  CF00 0000 0000  xsym                 STR,R4   GH_KEEPDELTA

      829    16106
      830    16107        /* Restore PFS$ */
      831    16108        /**/
      832    16109    1      CALL GHH$LEV(INHIB);                 /* After first vacating it            */

  16109   2 000B3E  BB80 0000 000C  03                   LAB,B3   +12
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:111  
          2 000B41  CBF0 0100                            LAB,B4   256,IMO
          2 000B43  E380 0000 0000  xent                 LNJ,B6   GHH$LEV
          2 000B46       0001                            DC       s:16110,PREL

      833    16110    1      G$LOW_MEM.IV.INT.PFS$ = ADDR(G$MHJIT$->G$MHJIT.ISA_PFS.DEV);

  16110   2 000B47  EC80 0000 0000  xsym                 LDB,B6   G$MHJIT$
          2 000B4A  DBC6 013A                            LAB,B5   314,B6
          2 000B4C  CC80 0000 0000  xsym                 LDB,B4   G$LOW_MEM$
          2 000B4F  DFC4 0080                            STB,B5   128,B4

      834    16111
      835    16112        /* Set ASDT pointer for GID$RDBOOT */
      836    16113    1      GID_MHJIT$ = G$ASDT_MCL$;

  16113   2 000B51  BC80 0000 0000  xsym                 LDB,B3   G$ASDT_MCL$
          2 000B54  BF80 0000 0000  xsym                 STB,B3   GID_MHJIT$

      837    16114
      838    16115
      839    16116                                                /* And exit to the scheduler....      */
      840    16117    1      CALL GHH$LEV(SUSP62);

  16117   2 000B57  BB80 0000 000E  03                   LAB,B3   +14
          2 000B5A  CBF0 0100                            LAB,B4   256,IMO
          2 000B5C  E380 0000 0000  xent                 LNJ,B6   GHH$LEV
          2 000B5F       0001                            DC       s:16118,PREL

      841    16118    1   FREEZE: CALL GHH$HLT;

  16118   2 000B60  CBF0 0000            FREEZE          LAB,B4   0,IMO
          2 000B62  E380 0000 0000  xent                 LNJ,B6   GHH$HLT
          2 000B65       0001                            DC       s:16118+6,PREL
          2 000B66  0F81 0043                            B        s:16168,PREL

      842    16119        %EJECT;
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:112  
      843    16120    1   SETASDT: PROC(SEGDESC,MEMADR,SIZE,SEGSIZE);

  16120   2 000B68  EFC7 016A            SETASDT         STB,B6   BOBCAT_SIZE+4,AUTO

      844    16121        %G$SEGDESC (FPTN="SEGDESC(0:0)",STCLASS="");
      845    16143    2   DCL MEMADR UBIN(32) ALIGNED;
      846    16144    2   DCL SIZE UBIN WORD;                     /* Pages                              */
      847    16145    2   DCL SEGSIZE UBIN;
      848    16146        /**/
      849    16147    2   DCL PAGE UBIN;
      850    16148    2   DCL TSIZE SBIN;
      851    16149    2   DCL I SBIN;
      852    16150        /**/
      853    16151    2      PAGE=MEMADR/256;

  16151   2 000B6A  DCC7 016E                            LDB,B5   @MEMADR,AUTO
          2 000B6C  8C85                                 LDI      ,B5
          2 000B6D  70C8                                 DOR,R7   8
          2 000B6E  E857                                 LDR,R6   R7
          2 000B6F  EF47 0174                            STR,R6   PAGE,AUTO

      854    16152    2      TSIZE=SIZE;

  16152   2 000B71  CCC7 0170                            LDB,B4   @SIZE,AUTO
          2 000B73  D804                                 LDR,R5   ,B4
          2 000B74  DF47 0175                            STR,R5   TSIZE,AUTO

      855    16153    2      I=0;

  16153   2 000B76  8747 0176                            CL       I,AUTO

      856    16154    3      DO WHILE(TSIZE>0);

  16154   2 000B78  5A81 002D                            BLEZ,R5  s:16166,PREL

      857    16155    3           SEGDESC.V(I)='1'B;

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:113  
  16155   2 000B7A  ECC7 016C                            LDB,B6   @SEGDESC,AUTO
          2 000B7C  B847 0176                            LDR,R3   I,AUTO
          2 000B7E  3005                                 SOL,R3   5
          2 000B7F  8936                                 LBT      ,B6,R3

      858    16156    3           SEGDESC.BASE(I)=PAGE;

  16156   2 000B80  E847 0174                            LDR,R6   PAGE,AUTO
          2 000B82  A847 0176                            LDR,R2   I,AUTO
          2 000B84  2001                                 SOL,R2   1
          2 000B85  EAA6                                 SRM,R6,'7FFF'X    ,B6,R2
          2 000B86       7FFF

      859    16157    4           IF TSIZE>SEGSIZE THEN DO;

  16157   2 000B87  DCC7 0172                            LDB,B5   @SEGSIZE,AUTO
          2 000B89  D847 0175                            LDR,R5   TSIZE,AUTO
          2 000B8B  5801 000D                            BLZ,R5   s:16162,PREL
          2 000B8D  D905                                 CMR,R5   ,B5
          2 000B8E  0381 000A                            BLE      s:16162,PREL

      860    16158    4                SEGDESC.SIZE(I)=SEGSIZE-1;

  16158   2 000B90  C805                                 LDR,R4   ,B5
          2 000B91  4EFF                                 ADV,R4   -1
          2 000B92  2E01                                 ADV,R2   1
          2 000B93  CAA6                                 SRM,R4,'01FF'X    ,B6,R2
          2 000B94       01FF

      861    16159    4                I = I + 1;

  16159   2 000B95  8AC7 0176                            INC      I,AUTO

      862    16160    4                END;                       /* IF TSIZE > SEGSIZE                 */

  16160   2 000B97  0F81 0005                            B        s:16163,PREL

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:114  
      863    16161    3           ELSE
      864    16162    3                SEGDESC.SIZE(I)=TSIZE-1;

  16162   2 000B99  5EFF                                 ADV,R5   -1
          2 000B9A  2E01                                 ADV,R2   1
          2 000B9B  DAA6                                 SRM,R5,'01FF'X    ,B6,R2
          2 000B9C       01FF

      865    16163    3           PAGE=PAGE+SEGSIZE;

  16163   2 000B9D  EA05                                 ADD,R6   ,B5
          2 000B9E  EF47 0174                            STR,R6   PAGE,AUTO

      866    16164    3           TSIZE=TSIZE-SEGSIZE;

  16164   2 000BA0  D847 0175                            LDR,R5   TSIZE,AUTO
          2 000BA2  D205                                 SUB,R5   ,B5
          2 000BA3  DF47 0175                            STR,R5   TSIZE,AUTO

      867    16165    3           END;

  16165   2 000BA5  5A55                                 BGZ,R5   s:16155,SPREL

      868    16166    2      RETURN;

  16166   2 000BA6  ECC7 016A                            LDB,B6   BOBCAT_SIZE+4,AUTO
          2 000BA8  C3C6 0001                            LNJ,B4   1,B6

      869    16167    2   END SETASDT;
      870    16168    1   END GIB$BIGFOOT;

  16168   2 000BAA  C380 0000 0000  xent                 LNJ,B4   X6A_ARET
      871    16169        %EOD;

PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:115  
--  Include file information  --

   KV$VDH.:E05TOU  is referenced.
   GH_SCHD_M.:E05TOU  is referenced.
   GI_BOOT_C.:E05TOU  is referenced.
   GJ_MSG_M.:E05TOU  is referenced.
   GD$MACS_M.:E05TOU  is referenced.
   GD_EQUS_E.:E05TOU  is referenced.
   GDA_EQUS_E.:E05TOU  is referenced.
   GD_DATA_M.:E05TOU  is referenced.
   GM_MACRO_M.:E05TOU  is referenced.
   GD$MSG_M.:E05TOU  is referenced.
   GM_VIRTUAL_E.:E05TOU  is referenced.
   GI_DATA_M.:E05TOU  is referenced.
   GH_IOFNC_E.:E05TOU  is referenced.
   GH_HARDWARE_M.:E05TOU  is referenced.
   G$BOBCAT_M.:E05TOU  is referenced.
   GFR_DATA_M.:E05TOU  is referenced.
   G_SFILE_M.:E05TOU  is referenced.
   G_ROS_M.:E05TOU  is referenced.
   G_JIT_M.:E05TOU  is referenced.
   G_HJIT_M.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is never referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure GIB$BIGFOOT.
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:116  

 **** Variables and constants ****

  ****  Section 000  Data  GIB$BIGFOOT

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

   13C-0-0/w STRC(32)    r     1 DUMMY_BIGFOOT_ASD        138-0-0/w PTR         r     1 G$SATYR_RCVISA$
   13A-0-0/w PTR         r     1 G$SATYR_TRNISA$            B-0-0/w PTR         r     1 GI$OFFSETS$
     8-0-0/w EPTR        r     1 GI_ENDBOOT                 A-0-0/b BIT         r     1 GI_KEEPDELTA
     3-0-0/w UBIN(16)    r     1 GI_MEMPGS                  4-0-0/w UBIN(32)    r     1 GI_NEXTPAGE
     D-0-0/w STRC(512)   r     1 GI_PARAMS
    2D-0-0/w STRC(224)   r     1 GI_PSEUDOS(0:7)
     6-0-0/w EPTR        r     1 GI_READBOOT                2-0-0/w UBIN(16)    r     1 GI_TSTKM_PGSZ
     1-0-0/w STRC(16)    r     1 INHIB                    13E-0-0/w STRC(128)   r     1 KV$VDH_VDHINT
    9D-0-0/w STRC(80)    r     1 SECT_TABLE(0:30)
     0-0-0/w STRC(16)    r     1 SUSP62

  ****  Section 001 RoData GIB$BIGFOOT

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     2-0-0/w UBIN(32)    r     1 G$SEG(0:30)                2-0-0/w PTR         r     1 G$SEG$(0:30)
     0-0-0/w PTR         r     1 G$ZERO$

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

   16E-0-0/w PTR         r     1 @MEMADR                  16C-0-0/w PTR         r     1 @SEGDESC
   172-0-0/w PTR         r     1 @SEGSIZE                 170-0-0/w PTR         r     1 @SIZE
   146-0-0/w UBIN(32)    r     1 BOBCAT_PTR               166-0-0/w UBIN(16)    r     1 BOBCAT_SIZE
   15E-0-0/w UBIN(16)    r     1 CODE                       4-0-0/w STRC(32)    r     1 GH_IO
    5E-0-0/w STRC(672)   r     1 GI_CNTL                   88-0-0/w STRC(3008)  r     1 GI_SECTION
     6-0-0/w STRC(1408)  r     1 GI_SETFP                 149-0-0/w UBIN(16)    r     1 I
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:117  
   176-0-0/w SBIN(16)    r     1 I                        14B-0-0/w UBIN(16)    r     1 INDX
   14A-0-0/w UBIN(16)    r     1 J                        160-0-0/w PTR         r     1 J$
    *0-0-0/w UBIN(32)    r     1 MEMADR                   144-0-0/w UBIN(32)    r     1 MEMPTR
   14D-0-0/w PTR         r     1 MHJIT$                   14D-0-0/w UBIN(32)    r     1 MHJITPTR
   158-0-0/w UBIN(16)    r     1 MON_PROC_ASDTX           15B-0-0/w UBIN(32)    r     1 MON_PROC_SIZE
   157-0-0/w UBIN(16)    r     1 MON_STATIC_ASDTX         159-0-0/w UBIN(32)    r     1 MON_STATIC_SIZE
   164-0-0/w UBIN(32)    r     1 NEXT                     164-0-0/w PTR         r     1 NEXT$
   174-0-0/w UBIN(16)    r     1 PAGE                     153-0-0/w UBIN(16)    r     1 PAGES
   15F-0-0/w UBIN(16)    r     1 ROSPP
    *0-0-0/w STRC(32)    r     1 SEGDESC(0:0)
    *0-0-0/w UBIN(16)    r     1 SEGSIZE                   *0-0-0/w UBIN(16)    r     1 SIZE
   175-0-0/w SBIN(16)    r     1 TSIZE                    151-0-0/w PTR         r     1 TV$
   15D-0-0/w UBIN(16)    r     1 USER#                    148-0-0/w UBIN(16)    r     1 WORDS
   155-0-0/w UBIN(32)    r     1 WSIZE

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 G$ASDT_MCL$                0-0-0/w PTR         r     1 G$BOBCAT$
     0-0-0/w PTR         r     1 G$CBUFFER$                 0-0-0/w PTR         r     1 G$DB_PROC$
     0-0-0/w PTR         r     1 G$ISA_DBINH$               0-0-0/w PTR         r     1 G$ISA_SATYR_RCV$
     0-0-0/w PTR         r     1 G$ISA_SATYR_TRN$           0-0-0/w PTR         r     1 G$LOW_MEM$
     0-0-0/w PTR         r     1 G$MHJIT$                   0-0-0/w PTR         r     1 G$PPUT$
     0-0-0/w PTR         r     1 G$ROS$                     0-0-0/w PTR         r     1 G$TSTACK$
     0-0-0/w UBIN(32)    r     1 G$TSTACKM                  0-0-0/w PTR         r     1 G$TSTACKM$
     0-0-0/w UBIN(32)    r     1 G$TSTACKU                  0-0-0/w PTR         r     1 G$TSTACKU$
     0-0-0/w PTR         r     1 G$UHJIT$                   0-0-0/w PTR         r     1 G$USRT$
     0-0-0/w PTR         r     1 G$WINDOW1$                 0-0-0/w PTR         r     1 GD$DELTA_DATA$
     0-0-0/w UBIN(16)    r     1 GFR_CUR_MEM(0:4)
     0-0-0/w UBIN(16)    r     1 GFR_MAX_MEM(0:4)
     0-0-0/w UBIN(16)    r     1 GFR_PSEUDO#
     0-0-0/w UBIN(16)    r     1 GFR_PSUDO_MAX_CG(0:7)
     0-0-0/w UBIN(16)    r     1 GFR_PSUDO_MAX_GST(0:7)
     0-0-0/w UBIN(16)    r     1 GFR_PSUDO_MAX_HND(0:7)
     0-0-0/w UBIN(16)    r     1 GFR_PSUDO_MAX_SYS(0:7)
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:118  
     0-0-0/w UBIN(16)    r     1 GFR_PSUDO_MAX_USR(0:7)
     0-0-0/c CHAR(8)     r     1 GFR_PSUDO_NM(0:7)
     0-0-0/b BIT (16)    r     1 GHT_L6_9X                  0-0-0/w SBIN(16)    r     1 GH_IGNORE_TRAP
     0-0-0/b BIT         r     1 GH_KEEPDELTA               0-0-0/w UBIN(16)    r     1 GH_QMIN
     0-0-0/w UBIN(16)    r     1 GH_QUAN                    0-0-0/w SBIN(16)    r     1 GI@END
     0-0-0/w PTR         r     1 GID_MHJIT$                 0-0-0/w UBIN(16)    r     1 GIR$ROOT
     0-0-0/w STRC(720)   r     1 GIR_ISA_REBOOT             0-0-0/w UBIN(32)    r     1 GI_ADDR
     0-0-0/w UBIN(32)    r     1 GI_BOOTBASE                0-0-0/w UBIN(16)    r     1 GI_BOOTCHAN
     0-0-0/w UBIN(16)    r     1 GI_DUMP                    0-0-0/b STRC(32)    r     1 GI_FEX
     0-0-0/w SBIN(16)    r     1 GI_LASTTRAP                0-0-0/w STRC(48)    r     1 GI_MHJIT
     0-0-0/w UBIN(16)    r     1 GI_TRAPOK                  0-0-0/w UBIN(32)    r     1 GJ_BOOTBASE
     0-0-0/w UBIN(16)    r     1 GJ_BOOTCHAN                0-0-0/w UBIN(16)    r     1 GJ_BOOT_HNDLRS
     0-0-0/w UBIN(16)    r     1 GJ_SFILE_MAX_DATA          0-0-0/w UBIN(16)    r     1 GM_ASHUF
     0-0-0/w UBIN(16)    r     1 GM_HSHUF                   0-0-0/w UBIN(16)    r     1 GM_INIT_PGSZ
     0-0-0/w UBIN(16)    r     1 GM_MEM_HI                  0-0-0/w UBIN(16)    r     1 GM_MEM_LOW
     0-0-0/w UBIN(16)    r     1 GM_SHUF                    0-0-0/w UBIN(16)    r     1 GM_SHUF_HI
     0-0-0/w UBIN(16)    r     1 GM_SHUF_MIN                0-0-0/w UBIN(16)    r     1 GM_TSTKU_PGSZ
     0-0-0/w UBIN(16)    r     1 G_MAX_USRS(0:4)
     0-0-0/w UBIN(16)    r     1 G_MING                     0-0-0/w UBIN(16)    r     1 G_XCONTIME

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(96)    r     1 DB_DS                      0-0-0/w STRC(96)    r     1 DB_PROC
     0-0-0/d UBIN(32)    r     1 DOUBLEWORD(0:32767)        0-0-0/w STRC(32)    r     1 G$ASDT(0:30)
     0-0-0/w STRC(1696)  r     1 G$BOBCAT                   0-0-0/w STRC(4096)  r     1 G$LOW_MEM
     0-0-0/w STRC(27232) r     1 G$MHJIT                    0-0-0/w STRC(12000) r     1 G$ROS
     0-0-0/w STRC(32)    r     1 G$SEGDESC                  0-0-0/w STRC(96)    r     1 G$STACK_HDR
     0-0-0/w STRC(6480)  r     1 G$UHJIT                    0-0-0/w STRC(384)   r     1 G$USER(0:0)
     0-0-0/w STRC(224)   r     1 GFR_ACCT(0:0)
     0-0-0/w STRC(768)   r     1 GI$OFFSETS
     0-0-0/w STRC(224)   r     1 GI$PSEUDOS(0:0)
     0-0-0/w STRC(1408)  r     1 GI$SETFP                   0-0-0/w STRC(5616)  r     1 JIT
     0-0-0/w SBIN(16)    r     1 ONEWORD                    0-0-0/w PTR         r     1 PBASE$
     0-0-0/w EPTR        r     1 TV(0:45)
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:119  


   Procedure GIB$BIGFOOT requires 2989 words for executable code.
   Procedure GIB$BIGFOOT requires 386 words of local(AUTO) storage.
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:120  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:121  
          MINI XREF LISTING

BOBCAT_PTR
     15468**DCL     15975<<ASSIGN  16025<>CALL    16026<>CALL
BOBCAT_SIZE
     15496**DCL     15970<<ASSIGN  15971<<ASSIGN  15971>>ASSIGN  15972>>IF      15973>>ASSIGN  15977>>ASSIGN
     16025<>CALL    16026<>CALL
CODE
     15490**DCL     16066<>CALL    16067>>IF
DB_DS.STK_PTR
     14844**DCL     15732<<ASSIGN  15733<>CALL    15734<<ASSIGN  15734>>ASSIGN  15747>>ASSIGN  15749>>ASSIGN
DB_DS.TRAP
     14861**DCL     14892--REDEF   14892--REDEF
DB_PROC.DS_SZ
     14837**DCL     15726>>ASSIGN  15732>>ASSIGN
DB_PROC.STK_SZ
     14837**DCL     15725>>ASSIGN  15726>>ASSIGN
DOUBLEWORD
     15519**DCL     15610<<ASSIGN  15610>>ASSIGN
DUMMY_BIGFOOT_ASD
     15535**DCL     15576<>CALL    15608<>CALL    15612<>CALL    15675>>ASSIGN
DUMMY_BIGFOOT_ASD.BASE
     15539**DCL     15575<<ASSIGN  15607<<ASSIGN  15617>>ASSIGN  15625>>ASSIGN  15821>>ASSIGN  15858>>ASSIGN
     15940>>ASSIGN  16083>>ASSIGN
FREEZE
     16118**LABEL   15592--CALLALT 15972--GOTO    15983--GOTO    15994--CALLALT 16068--GOTO
G$ASDT.DESC
     13242**DCL     15670<>CALL    15700<>CALL    15708<>CALL    15774<<ASSIGN
G$ASDT.DESC.EP
     13245**DCL     15684<<ASSIGN  15689<<ASSIGN
G$ASDT.DESC.RP
     13244**DCL     15682<<ASSIGN  15687<<ASSIGN
G$ASDT.DESC.V
     13244**DCL     15707>>IF
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:122  
G$ASDT.DESC.WP
     13245**DCL     15683<<ASSIGN  15688<<ASSIGN
G$ASDT_MCL$
     15454**DCL     16113>>ASSIGN
G$BOBCAT
     13301**DCL     15832<<ASSIGN  15958--ASSIGN
G$BOBCAT.ACCT_RES#
     13302**DCL     15840<<ASSIGN  15913>>IF      15914<<ASSIGN
G$BOBCAT.ACCT_RES$
     13305**DCL     16092>>ASSIGN
G$BOBCAT.APESSN#
     13303**DCL     15838<<ASSIGN  15898>>IF      15899<<ASSIGN
G$BOBCAT.BOOTCHAN
     13301**DCL     15833<<ASSIGN
G$BOBCAT.BOOTFID
     13310**DCL     15932<<ASSIGN
G$BOBCAT.DEVICES
     13304**DCL     15844<<ASSIGN  15886>>ASSIGN
G$BOBCAT.DPS8000FLG
     13311**DCL     15846<<ASSIGN  15850>>IF
G$BOBCAT.FEP#
     13301**DCL     15929<<ASSIGN  15954>>ASSIGN
G$BOBCAT.HMI#
     13303**DCL     15837<<ASSIGN  15907>>IF      15908<<ASSIGN
G$BOBCAT.HOSTNODE
     13310**DCL     15931<<ASSIGN
G$BOBCAT.IOP#
     13303**DCL     15836<<ASSIGN  15895>>IF      15896<<ASSIGN
G$BOBCAT.LDCT#
     13303**DCL     15835<<ASSIGN  15892>>IF      15893<<ASSIGN
G$BOBCAT.LINKS
     13304**DCL     15843<<ASSIGN  15886>>ASSIGN  15916>>IF      15917<<ASSIGN
G$BOBCAT.MAXCHN
     13307**DCL     15925<<ASSIGN
G$BOBCAT.MEM_HI
     13301**DCL     16016<<ASSIGN
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:123  
G$BOBCAT.MEM_LOW
     13302**DCL     16014<<ASSIGN
G$BOBCAT.MMDATA$
     13301**DCL     16013<<ASSIGN
G$BOBCAT.MUIS
     13302**DCL     15834<<ASSIGN  15883>>IF      15884<<ASSIGN  15886>>ASSIGN  15895>>IF      15896>>ASSIGN
     15898>>IF      15899>>ASSIGN
G$BOBCAT.NODENAME
     13301**DCL     15930<<ASSIGN
G$BOBCAT.NODES
     13304**DCL     15842<<ASSIGN
G$BOBCAT.OSIROUTE#
     13310**DCL     15845<<ASSIGN
G$BOBCAT.SFILE#
     13302**DCL     15839<<ASSIGN  15910>>IF      15911<<ASSIGN
G$BOBCAT.TCTX#
     13303**DCL     15841<<ASSIGN  15919>>IF      15920<<ASSIGN
G$BOBCAT.UNUSED#
     13304**DCL     15974<<ASSIGN
G$BOBCAT.UNUSED$
     13311**DCL     15969<<ASSIGN  15974>>ASSIGN
G$BOBCAT$
     15440**DCL     13301--IMP-PTR 15831<>CALL    15832>>ASSIGN  15833>>ASSIGN  15834>>ASSIGN  15835>>ASSIGN
     15836>>ASSIGN  15837>>ASSIGN  15838>>ASSIGN  15839>>ASSIGN  15840>>ASSIGN  15841>>ASSIGN  15842>>ASSIGN
     15843>>ASSIGN  15844>>ASSIGN  15845>>ASSIGN  15846>>ASSIGN  15850>>IF      15883>>IF      15884>>ASSIGN
     15886>>ASSIGN  15886>>ASSIGN  15886>>ASSIGN  15892>>IF      15893>>ASSIGN  15895>>IF      15895>>IF
     15896>>ASSIGN  15896>>ASSIGN  15898>>IF      15898>>IF      15899>>ASSIGN  15899>>ASSIGN  15907>>IF
     15908>>ASSIGN  15910>>IF      15911>>ASSIGN  15913>>IF      15914>>ASSIGN  15916>>IF      15917>>ASSIGN
     15919>>IF      15920>>ASSIGN  15925>>ASSIGN  15929>>ASSIGN  15930>>ASSIGN  15931>>ASSIGN  15932>>ASSIGN
     15954>>ASSIGN  15958>>ASSIGN  15969>>ASSIGN  15970>>ASSIGN  15974>>ASSIGN  15974>>ASSIGN  16013>>ASSIGN
     16014>>ASSIGN  16016>>ASSIGN  16092>>ASSIGN
G$CBUFFER$
     15451**DCL     15990<>CALL    15992>>ASSIGN  15993>>ASSIGN
G$DB_PROC$
     15461**DCL     14836--IMP-PTR 15724<>CALL    15725>>ASSIGN  15726>>ASSIGN  15726>>ASSIGN  15732>>ASSIGN
G$ISA_DBINH$
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:124  
     15443**DCL     15769<<ASSIGN
G$ISA_SATYR_RCV$
     15459**DCL     15740<<ASSIGN
G$ISA_SATYR_TRN$
     15460**DCL     15742<<ASSIGN
G$LOW_MEM.IV.IL$
     13291**DCL     13291--REDEF   15793<<ASSIGN
G$LOW_MEM.IV.INT.I#00$
     13291**DCL     13291--REDEF
G$LOW_MEM.IV.INT.I#01$
     13291**DCL     13291--REDEF
G$LOW_MEM.IV.INT.I#02$
     13292**DCL     13292--REDEF
G$LOW_MEM.IV.INT.I#03$
     13292**DCL     13292--REDEF
G$LOW_MEM.IV.INT.I#04$
     13292**DCL     13293--REDEF
G$LOW_MEM.IV.INT.I#05$
     13293**DCL     13293--REDEF
G$LOW_MEM.IV.INT.I#61$
     13294**DCL     13294--REDEF
G$LOW_MEM.IV.INT.I#62$
     13294**DCL     13294--REDEF
G$LOW_MEM.IV.INT.I#63$
     13294**DCL     13294--REDEF
G$LOW_MEM.IV.INT.PFS$
     13291**DCL     15791<<ASSIGN  16110<<ASSIGN
G$LOW_MEM.IV.INT.RT_CLOCK$
     13294**DCL     15788<<ASSIGN
G$LOW_MEM.IV.INT.SCHD$
     13294**DCL     15787<<ASSIGN
G$LOW_MEM.IV.INT.TSA_OV$
     13292**DCL     15789<<ASSIGN
G$LOW_MEM.IV.INT.USER$
     13294**DCL     15786<<ASSIGN
G$LOW_MEM.IV.INT.WDOG$
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:125  
     13291**DCL     15790<<ASSIGN
G$LOW_MEM.NATSAP0$
     13255**DCL     15798<<ASSIGN
G$LOW_MEM.NATSAP1$
     13254**DCL     15799<<ASSIGN
G$LOW_MEM.NATSAP2$
     13254**DCL     15800<<ASSIGN
G$LOW_MEM.TV
     13265**DCL     15804--ASSIGN
G$LOW_MEM.TV.T#01$
     13279**DCL     13279--REDEF
G$LOW_MEM.TV.T#02$
     13279**DCL     13279--REDEF
G$LOW_MEM.TV.T#03$
     13278**DCL     13278--REDEF
G$LOW_MEM.TV.T#05$
     13278**DCL     13278--REDEF
G$LOW_MEM.TV.T#06$
     13277**DCL     13277--REDEF
G$LOW_MEM.TV.T#07$
     13277**DCL     13277--REDEF
G$LOW_MEM.TV.T#08$
     13276**DCL     13277--REDEF
G$LOW_MEM.TV.T#09$
     13276**DCL     13276--REDEF
G$LOW_MEM.TV.T#10$
     13276**DCL     13276--REDEF
G$LOW_MEM.TV.T#12$
     13275**DCL     13275--REDEF
G$LOW_MEM.TV.T#13$
     13275**DCL     13275--REDEF
G$LOW_MEM.TV.T#14$
     13274**DCL     13274--REDEF
G$LOW_MEM.TV.T#15$
     13274**DCL     13274--REDEF
G$LOW_MEM.TV.T#16$
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:126  
     13273**DCL     13274--REDEF
G$LOW_MEM.TV.T#17$
     13273**DCL     13273--REDEF
G$LOW_MEM.TV.T#19$
     13272**DCL     13273--REDEF
G$LOW_MEM.TV.T#20$
     13272**DCL     13272--REDEF
G$LOW_MEM.TV.T#21$
     13272**DCL     13272--REDEF
G$LOW_MEM.TV.T#22$
     13271**DCL     13271--REDEF
G$LOW_MEM.TV.T#23$
     13271**DCL     13271--REDEF
G$LOW_MEM.TV.T#24$
     13270**DCL     13271--REDEF
G$LOW_MEM.TV.T#25$
     13270**DCL     13270--REDEF
G$LOW_MEM.TV.T#26$
     13270**DCL     13270--REDEF
G$LOW_MEM.TV.T#27$
     13269**DCL     13269--REDEF
G$LOW_MEM.TV.T#28$
     13269**DCL     13269--REDEF
G$LOW_MEM.TV.T#29$
     13268**DCL     13269--REDEF
G$LOW_MEM.TV.T#30$
     13268**DCL     13268--REDEF
G$LOW_MEM.TV.T#31$
     13268**DCL     13268--REDEF
G$LOW_MEM.TV.T#32$
     13267**DCL     13267--REDEF
G$LOW_MEM.TV.T#33$
     13267**DCL     13267--REDEF
G$LOW_MEM$
     15457**DCL     13254--IMP-PTR 15786>>ASSIGN  15787>>ASSIGN  15788>>ASSIGN  15789>>ASSIGN  15790>>ASSIGN
     15791>>ASSIGN  15793>>ASSIGN  15798>>ASSIGN  15799>>ASSIGN  15800>>ASSIGN  15804>>ASSIGN  15815>>ASSIGN
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:127  
     16110>>ASSIGN
G$MHJIT.ASDT_BIGFOOT
      4096**DCL     15702--ASSIGN  15718<<ASSIGN
G$MHJIT.ASDT_BIGFOOT.BOBCAT
      4709**DCL     15829<>CALL    16026<>CALL
G$MHJIT.ASDT_BIGFOOT.CBUFFER
      4687**DCL     15988<>CALL
G$MHJIT.ASDT_BIGFOOT.NULLSEG.V
      4117**DCL     16057<<ASSIGN
G$MHJIT.ASDT_BIGFOOT.PPUT
      4665**DCL     16004<>CALL
G$MHJIT.ASDT_BIGFOOT.RDB_DS
      4159**DCL     15730<>CALL
G$MHJIT.ASDT_MON
      3402**DCL     15718>>ASSIGN  15744--ASSIGN  15776>>ASSIGN
G$MHJIT.ASDT_MON.BIGFOOT
      4081**DCL     15675<<ASSIGN
G$MHJIT.ASDT_MON.BOBCAT
      4015**DCL     15828<>CALL    15830>>ASSIGN  15831<>CALL    16025<>CALL
G$MHJIT.ASDT_MON.CBUFFER
      3993**DCL     15987<>CALL    15989>>ASSIGN  15990<>CALL
G$MHJIT.ASDT_MON.DB_PROC
      3927**DCL     15724<>CALL
G$MHJIT.ASDT_MON.LOW_MEM
      3487**DCL     15676<>CALL    15774>>ASSIGN
G$MHJIT.ASDT_MON.MHJIT
      3553**DCL     15779>>ASSIGN  15815>>ASSIGN
G$MHJIT.ASDT_MON.MHJIT2
      3575**DCL     15780>>ASSIGN
G$MHJIT.ASDT_MON.MON_ENTRY
      3619**DCL     15777>>ASSIGN
G$MHJIT.ASDT_MON.MON_ENTRY_DATA
      3597**DCL     15778>>ASSIGN
G$MHJIT.ASDT_MON.NULLSEG.V
      3423**DCL     16056<<ASSIGN
G$MHJIT.ASDT_MON.PPUT
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:128  
      3971**DCL     16003<>CALL    16005>>ASSIGN  16006<>CALL
G$MHJIT.ASDT_MON.RDB_DS
      3465**DCL     15729<>CALL    15731<>CALL
G$MHJIT.ASDT_MON.TSTACKM
      3509**DCL     15696<>CALL
G$MHJIT.ASDT_MON.WINDOW1
      3949**DCL     15677<>CALL    16039<>CALL    16070<>CALL    16075<>CALL
G$MHJIT.ASDT_MON.WINDOW1.BASE
      3951**DCL     16069<<ASSIGN  16073<<ASSIGN
G$MHJIT.ASDT_MON.WINDOW1.SIZE
      3953**DCL     16074<<ASSIGN
G$MHJIT.INTCON.DEV
      9794**DCL     15793--ASSIGN
G$MHJIT.INTCON.HHJIT
      9851**DCL      9851--REDEF
G$MHJIT.INTCON.P$$
      9824**DCL      9824--REDEF
G$MHJIT.INTCON.S.RING
      9847**DCL     16050<<ASSIGN
G$MHJIT.ISA_BIGFOOT.DEV
      6716**DCL     15791--ASSIGN
G$MHJIT.ISA_BIGFOOT.P$$
      6769**DCL      6769--REDEF
G$MHJIT.ISA_DBINH.DEV
      7930**DCL     15769--ASSIGN
G$MHJIT.ISA_DBINH.P$$
      7983**DCL      7983--REDEF
G$MHJIT.ISA_IDLE.ISM2
      4856**DCL     15766<<ASSIGN
G$MHJIT.ISA_IDLE.P$$
      4864**DCL      4864--REDEF
G$MHJIT.ISA_LVL10.P$$
      8286**DCL      8286--REDEF
G$MHJIT.ISA_LVL11.P$$
      8589**DCL      8589--REDEF
G$MHJIT.ISA_LVL12.P$$
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:129  
      8892**DCL      8892--REDEF
G$MHJIT.ISA_LVL5.P$$
      7072**DCL      7072--REDEF
G$MHJIT.ISA_OV.DEV
      6413**DCL     15789--ASSIGN
G$MHJIT.ISA_OV.P$$
      6466**DCL      6466--REDEF
G$MHJIT.ISA_OV.REGS.T$
      6631**DCL     15759<<ASSIGN
G$MHJIT.ISA_PFS.DEV
      6107**DCL     16110--ASSIGN
G$MHJIT.ISA_PFS.P$$
      6137**DCL      6137--REDEF
G$MHJIT.ISA_RT_CLOCK.DEV
      9446**DCL     15788--ASSIGN
G$MHJIT.ISA_RT_CLOCK.P$$
      9499**DCL      9499--REDEF
G$MHJIT.ISA_RT_CLOCK.REGS.T$
      9664**DCL     15755<<ASSIGN
G$MHJIT.ISA_RT_CLOCK.S.RING
      9522**DCL     16048<<ASSIGN
G$MHJIT.ISA_SATYR_RCV
      7301**DCL     15739--ASSIGN
G$MHJIT.ISA_SATYR_RCV.ASV$
      7303**DCL     15744<<ASSIGN
G$MHJIT.ISA_SATYR_RCV.DEV
      7323**DCL     15740--ASSIGN
G$MHJIT.ISA_SATYR_RCV.P$$
      7376**DCL      7376--REDEF
G$MHJIT.ISA_SATYR_RCV.REGS.T$
      7541**DCL     15747<<ASSIGN
G$MHJIT.ISA_SATYR_TRN
      7605**DCL     15741--ASSIGN
G$MHJIT.ISA_SATYR_TRN.DEV
      7627**DCL     15742--ASSIGN
G$MHJIT.ISA_SATYR_TRN.P$$
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:130  
      7680**DCL      7680--REDEF
G$MHJIT.ISA_SATYR_TRN.REGS.T$
      7845**DCL     15749<<ASSIGN
G$MHJIT.ISA_SCHD.DEV
      9142**DCL     15787--ASSIGN
G$MHJIT.ISA_SCHD.P$$
      9195**DCL      9195--REDEF
G$MHJIT.ISA_SCHD.REGS.T$
      9360**DCL     15763<<ASSIGN
G$MHJIT.ISA_SCHD.S.RING
      9218**DCL     16047<<ASSIGN
G$MHJIT.ISA_WDOG.DEV
      6215**DCL     15790--ASSIGN
G$MHJIT.ISA_WDOG.P$$
      6245**DCL      6245--REDEF
G$MHJIT.TSA_DB.ISA.P$$
      5467**DCL      5467--REDEF
G$MHJIT.TSA_DB.P$$
      5338**DCL      5338--REDEF    5339--REDEF
G$MHJIT.TSA_HND.ISA.P$$
     10045**DCL     10045--REDEF
G$MHJIT.TSA_HND.P$$
      9916**DCL      9916--REDEF    9917--REDEF
G$MHJIT.TSA_MON
      4920**DCL     15798--ASSIGN  15800--ASSIGN
G$MHJIT.TSA_MON.I.TRAP#
      4942**DCL     16040>>IF
G$MHJIT.TSA_MON.ISA.P$$
      5079**DCL      5079--REDEF
G$MHJIT.TSA_MON.P$$
      4950**DCL      4950--REDEF    4951--REDEF
G$MHJIT.TSA_OV.ISA.P$$
      5855**DCL      5855--REDEF
G$MHJIT.TSA_OV.P$$
      5726**DCL      5726--REDEF    5727--REDEF
G$MHJIT.WDT_INIT
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:131  
      9719**DCL     16023<<ASSIGN  16023>>ASSIGN
G$MHJIT$
     15444**DCL     15739>>ASSIGN  15740>>ASSIGN  15741>>ASSIGN  15742>>ASSIGN  15744>>ASSIGN  15769>>ASSIGN
     15787>>ASSIGN  15788>>ASSIGN  15789>>ASSIGN  15790>>ASSIGN  15791>>ASSIGN  15798>>ASSIGN  15800>>ASSIGN
     16110>>ASSIGN
G$PPUT$
     15452**DCL     16006<>CALL
G$ROS
     13389**DCL     16074--ASSIGN
G$ROS.AUTO_DS$
     13398**DCL     13399--REDEF
G$ROS.AUTO_T$
     13399**DCL     13399--REDEF
G$ROS.CP_ECCB.FLTFLG
     14013**DCL     14044--REDEF
G$ROS.DB_ECCB.FLTFLG
     13937**DCL     13968--REDEF
G$ROS.JIT
     13420**DCL     16076--ASSIGN
G$ROS.JIT.ERRLOG
     13748**DCL     13751--REDEF
G$ROS.JIT.FEP#
     13487**DCL     15954<<ASSIGN
G$ROS.JIT.JSUNIT
     13487**DCL     13488--REDEF
G$ROS.JIT.MCLS
     13486**DCL     13486--REDEF
G$ROS.JIT.TMRZ
     13755**DCL     13756--REDEF
G$ROS.JIT.USER_EXTIME
     13479**DCL     13480--REDEF
G$ROS.JIT.USER_MEMTIME
     13482**DCL     13482--REDEF
G$ROS.JIT.USER_SVTIME
     13481**DCL     13481--REDEF
G$ROS.M$DEBUG.EOMCHAR
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:132  
     14084**DCL     14084--REDEF   14085--REDEF
G$ROS.M$DEBUG.FLDID
     14083**DCL     14083--REDEF
G$ROS.M$DEBUG.RES
     14078**DCL     14079--REDEF
G$ROS.M$DO.EOMCHAR
     14289**DCL     14289--REDEF   14290--REDEF
G$ROS.M$DO.FLDID
     14288**DCL     14288--REDEF
G$ROS.M$DO.RES
     14283**DCL     14284--REDEF
G$ROS.M$HOST.EOMCHAR
     14238**DCL     14238--REDEF   14239--REDEF
G$ROS.M$HOST.FLDID
     14237**DCL     14237--REDEF
G$ROS.M$HOST.RES
     14232**DCL     14233--REDEF
G$ROS.M$LM.EOMCHAR
     14135**DCL     14135--REDEF   14136--REDEF
G$ROS.M$LM.FLDID
     14134**DCL     14134--REDEF
G$ROS.M$LM.RES
     14129**DCL     14130--REDEF
G$ROS.M$ME.EOMCHAR
     14187**DCL     14187--REDEF   14188--REDEF
G$ROS.M$ME.FLDID
     14186**DCL     14186--REDEF
G$ROS.M$ME.RES
     14181**DCL     14182--REDEF
G$ROS.U_ECCB.FLTFLG
     13861**DCL     13892--REDEF
G$ROS.U_ECCB.FLTFLG.IGN_IO
     13863**DCL     15953<<ASSIGN
G$ROS$
     15442**DCL     15953>>ASSIGN  15954>>ASSIGN
G$SATYR_RCVISA$
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:133  
     15358**DCL     15739<<ASSIGN
G$SATYR_TRNISA$
     15359**DCL     15741<<ASSIGN
G$SEG
     15408**DCL     15439--REDEF   15701>>ASSIGN
G$SEG$
     15439**DCL     15576<>CALL    15577>>ASSIGN  15579>>ASSIGN  15581>>IF      15582>>ASSIGN  15608<>CALL
     15610>>ASSIGN  15610>>ASSIGN  15612<>CALL    15700<>CALL    15708<>CALL    15815>>ASSIGN
G$SEGDESC
      3061**DCL     15815<<ASSIGN
G$STACK_HDR
     13326**DCL     15725--ASSIGN  15726--ASSIGN
G$TSTACK$
     15446**DCL     15717<>CALL
G$TSTACKM
     15448**DCL     15713<<ASSIGN
G$TSTACKM$
     15447**DCL     15448--REDEF   15755>>ASSIGN  15759>>ASSIGN  15763>>ASSIGN
G$TSTACKU
     15450**DCL     15714<<ASSIGN
G$TSTACKU$
     15449**DCL     15450--REDEF   15781>>ASSIGN
G$UHJIT
     10263**DCL     15775--ASSIGN
G$UHJIT.ASDT_MCL
     10970**DCL     15776<<ASSIGN  16072--ASSIGN
G$UHJIT.ASDT_MCL.BOBCAT
     11583**DCL     15830<<ASSIGN
G$UHJIT.ASDT_MCL.CBUFFER
     11561**DCL     15989<<ASSIGN
G$UHJIT.ASDT_MCL.NULLSEG.V
     10991**DCL     16059<<ASSIGN
G$UHJIT.ASDT_MCL.PPUT
     11539**DCL     16005<<ASSIGN
G$UHJIT.ASDT_USR
     10276**DCL     15774--ASSIGN
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:134  
G$UHJIT.ASDT_USR.MHJIT
     10427**DCL     15779<<ASSIGN
G$UHJIT.ASDT_USR.MHJIT2
     10449**DCL     15780<<ASSIGN
G$UHJIT.ASDT_USR.MON_ENTRY
     10493**DCL     15777<<ASSIGN
G$UHJIT.ASDT_USR.MON_ENTRY_DATA
     10471**DCL     15778<<ASSIGN
G$UHJIT.ASDT_USR.NULLSEG.V
     10297**DCL     16058<<ASSIGN
G$UHJIT.ASDT_USR.UHJIT.SIZE
     10409**DCL     15775<<ASSIGN
G$UHJIT.DMN.ID
     11981**DCL     15773<<ASSIGN
G$UHJIT.ISA_USR
     11686**DCL     11981--REDEF
G$UHJIT.ISA_USR.ASV$
     11688**DCL     16072<<ASSIGN
G$UHJIT.ISA_USR.DEV
     11708**DCL     15786--ASSIGN
G$UHJIT.ISA_USR.P$$
     11761**DCL     11761--REDEF   15782<<ASSIGN  16071<<ASSIGN
G$UHJIT.ISA_USR.REGS.T$
     11926**DCL     15781<<ASSIGN
G$UHJIT.TSA_CP.ISA.P$$
     12968**DCL     12968--REDEF
G$UHJIT.TSA_CP.P$$
     12839**DCL     12839--REDEF   12840--REDEF
G$UHJIT.TSA_DB.ISA.P$$
     12580**DCL     12580--REDEF
G$UHJIT.TSA_DB.P$$
     12451**DCL     12451--REDEF   12452--REDEF
G$UHJIT.TSA_RTT.P$$
     13214**DCL     13214--REDEF   13215--REDEF
G$UHJIT.TSA_USR
     12011**DCL     15799--ASSIGN
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:135  
G$UHJIT.TSA_USR.ISA.P$$
     12170**DCL     12170--REDEF
G$UHJIT.TSA_USR.P$$
     12041**DCL     12041--REDEF   12042--REDEF
G$UHJIT$
     15445**DCL     10263--IMP-PTR 15773>>ASSIGN  15774>>ASSIGN  15775>>ASSIGN  15776>>ASSIGN  15777>>ASSIGN
     15778>>ASSIGN  15779>>ASSIGN  15780>>ASSIGN  15781>>ASSIGN  15782>>ASSIGN  15786>>ASSIGN  15799>>ASSIGN
     15830>>ASSIGN  15989>>ASSIGN  16005>>ASSIGN  16058>>ASSIGN  16059>>ASSIGN  16072>>ASSIGN
G$USER.MISC
     15513**DCL     15513--REDEF
G$USER.UHJITPP
     15515**DCL     16069>>ASSIGN
G$USRT$
     15371**DCL     15512--IMP-PTR 16069>>ASSIGN
G$WINDOW1$
     15441**DCL     13389--IMP-PTR 16039<>CALL    16070<>CALL    16071>>ASSIGN  16072>>ASSIGN  16075<>CALL
     16076>>ASSIGN
G$ZERO$
     15360**DCL     15676<>CALL    15677<>CALL
GD$DELTA_DATA$
     15462**DCL     14844--IMP-PTR 15731<>CALL    15732>>ASSIGN  15732>>ASSIGN  15733>>CALL    15734>>ASSIGN
     15734>>ASSIGN  15747>>ASSIGN  15749>>ASSIGN
GDA$BOOT_INIT
        38**DCL-ENT 15812--CALL
GD_DATA.GD.DYNSP$
     13355**DCL     13355--REDEF
GD_DATA.GD.STEP_BRKPNT.ADR$
     13356**DCL     13357--REDEF
GD_DATA.GD.STEP_BRKPNT.START$
     13357**DCL     13357--REDEF
GFR_ACCT.CUR_FPRGS
     14812**DCL     16093<<ASSIGN  16093>>ASSIGN
GFR_ACCT.CUR_MEM
     14812**DCL     16094<<ASSIGN  16094>>ASSIGN
GFR_CUR_MEM
     15384**DCL     16095<<ASSIGN  16095>>ASSIGN
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:136  
GFR_MAX_MEM
     15383**DCL     15872<<ASSIGN  15873<<ASSIGN  15874<<ASSIGN  15875<<ASSIGN  15876<<ASSIGN
GFR_PSEUDO#
     15381**DCL     15937<<ASSIGN  15938>>IF      15941>>ASSIGN  15943>>DOINDEX
GFR_PSUDO_MAX_CG
     15389**DCL     15947<<ASSIGN
GFR_PSUDO_MAX_GST
     15391**DCL     15949<<ASSIGN
GFR_PSUDO_MAX_HND
     15390**DCL     15948<<ASSIGN
GFR_PSUDO_MAX_SYS
     15387**DCL     15945<<ASSIGN
GFR_PSUDO_MAX_USR
     15388**DCL     15946<<ASSIGN
GFR_PSUDO_NM
     15386**DCL     15944<<ASSIGN
GHH$ASD
        25**DCL-ENT 15576--CALL    15608--CALL    15612--CALL    15700--CALL    15708--CALL    15724--CALL
     15731--CALL    15831--CALL    15990--CALL    16006--CALL    16039--CALL    16070--CALL    16075--CALL
GHH$HLT
        24**DCL-ENT 15602--CALL    16118--CALL
GHH$IO_IN
        22**DCL-ENT 15592--CALL
GHH$LEV
        26**DCL-ENT 16109--CALL    16117--CALL
GHS$ADDUSR
        40**DCL-ENT 16066--CALL
GHT$MCL
        31**DCL-ENT 15808--ASSIGN
GHT$TRAP
        30**DCL-ENT 15806--ASSIGN
GHT_L6_9X
     15455**DCL     16033<<ASSIGN  16045<<ASSIGN
GH_IGNORE_TRAP
     15456**DCL     16038<<ASSIGN  16046<<ASSIGN  16055<<ASSIGN
GH_IO
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:137  
      2993**DCL     15592<>CALL
GH_IO.CAS.CHN
      2993**DCL      2993--REDEF   15590<<ASSIGN
GH_IO.CAS.FNC
      2994**DCL     15591<<ASSIGN
GH_IO.DAS
      2994**DCL      2995--REDEF    2996--REDEF
GH_IO.STATUS
      2996**DCL     15593>>DOSELCT
GH_KEEPDELTA
     15372**DCL     16105<<ASSIGN
GH_QMIN
     15378**DCL     15862<<ASSIGN
GH_QUAN
     15379**DCL     15863<<ASSIGN
GI$OFFSETS.BOOTFID
      3045**DCL     15932>>ASSIGN
GI$OFFSETS.CNTLOFFSET
      3043**DCL     15623>>IF      15627<>CALL    15856>>IF      15860<>CALL
GI$OFFSETS.FEX
      3044**DCL     15928>>ASSIGN
GI$OFFSETS.HANDLER.TBLOFFSET
      3045**DCL     16085<>CALL
GI$OFFSETS.HOSTNODE
      3045**DCL     15931>>ASSIGN
GI$OFFSETS.NHANDLERS
      3045**DCL     15883>>IF      15884>>ASSIGN  15901>>IF      15902>>ASSIGN  15904>>IF      15905>>ASSIGN
     16063>>ASSIGN  16064>>ASSIGN
GI$OFFSETS.NODENAME
      3044**DCL     15930>>ASSIGN
GI$OFFSETS.PARAMOFFSET
      3043**DCL     15823<>CALL
GI$OFFSETS.PSEUDO#
      3044**DCL     15937>>ASSIGN
GI$OFFSETS.PSEUDOOFFSET
      3043**DCL     15942<>CALL
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:138  
GI$OFFSETS.SECTOFFSET
      3044**DCL     15619<>CALL
GI$OFFSETS.SECTSIZE
      3044**DCL     15618>>ASSIGN
GI$OFFSETS$
     14901**DCL      3043--IMP-PTR 15618>>ASSIGN  15619>>CALL    15623>>IF      15627>>CALL    15823>>CALL
     15856>>IF      15860>>CALL    15883>>IF      15884>>ASSIGN  15901>>IF      15902>>ASSIGN  15904>>IF
     15905>>ASSIGN  15928>>ASSIGN  15930>>ASSIGN  15931>>ASSIGN  15932>>ASSIGN  15937>>ASSIGN  15942>>CALL
     16063>>ASSIGN  16064>>ASSIGN  16085>>CALL
GI$PSEUDOS
     15503**DCL     15941--ASSIGN
GI$SETFP
     15141**DCL     16086<<ASSIGN
GI$SETFP.DATA_BIAS
     15270**DCL     15270--REDEF
GI@END
     15363**DCL     14901--DCLINIT 15570--ASSIGN
GIB$CPLRBOOT
        32**DCL-ENT 15597--CALL
GIB$DISKBOOT
        37**DCL-ENT 15600--CALL
GIB$INTCPLR
        34**DCL-ENT 15596--ASSIGN
GIB$READCPLR
        33**DCL-ENT 15595--ASSIGN  15850--IF
GIB$SETADP
        35**DCL-ENT 15851--CALL
GID$RDBOOT
        36**DCL-ENT 15599--ASSIGN
GID_MHJIT$
     15464**DCL     15702<<ASSIGN  16113<<ASSIGN
GIM$BUILD_BOBCAT
        28**DCL-ENT 15961--CALL
GIM$BUILD_CHNTBL
        27**DCL-ENT 15965--CALL
GIM$FINISH_INIT
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:139  
        29**DCL-ENT 16030--CALL
GIR$ROOT
     15458**DCL     15570--ASSIGN  15617--ASSIGN  15625--ASSIGN  15821--ASSIGN  15858--ASSIGN  15940--ASSIGN
     16083--ASSIGN
GIR_ISA_REBOOT.P$$
      3173**DCL      3173--REDEF
GIR_ISA_REBOOT.REGS.R1
      3245**DCL     15752<<ASSIGN
GI_ADDR
     15463**DCL     15617<<ASSIGN  15619<>CALL    15625<<ASSIGN  15627<>CALL    15821<<ASSIGN  15823<>CALL
     15858<<ASSIGN  15860<>CALL    15940<<ASSIGN  15942<>CALL    16083<<ASSIGN  16085<>CALL
GI_BOOTBASE
     15367**DCL     16104>>ASSIGN
GI_BOOTCHAN
     15365**DCL     15590>>ASSIGN  15752>>ASSIGN  15833>>ASSIGN  16103>>ASSIGN
GI_CNTL
     15335**DCL     15625--ASSIGN  15626--ASSIGN  15858--ASSIGN  15859--ASSIGN
GI_CNTL.PARAMS
     15335**DCL     15628>>IF      15862>>ASSIGN  15863>>ASSIGN  15864>>ASSIGN  15866>>ASSIGN  15867>>ASSIGN
     15868>>ASSIGN  15869>>ASSIGN  15870>>ASSIGN  15872>>ASSIGN  15873>>ASSIGN  15874>>ASSIGN  15875>>ASSIGN
     15876>>ASSIGN  15877>>ASSIGN  15878>>ASSIGN
GI_DUMP
     15392**DCL     15877<<ASSIGN
GI_ENDBOOT
     14899**DCL     15596<<ASSIGN
GI_FEX.FEP#
     15405**DCL     15926>>IF      15928<<ASSIGN  15929>>ASSIGN
GI_KEEPDELTA
     14900**DCL     15630<<ASSIGN  15657>>IF      15722>>IF      15745>>IF      15810>>IF      16105>>ASSIGN
GI_LASTTRAP
     15373**DCL     15568<<ASSIGN  15573>>DOWHILE 15578>>IF      15581<<ASSIGN
GI_MEMPGS
     14896**DCL     15572<<ASSIGN  15573>>DOWHILE 15574<<ASSIGN  15574>>ASSIGN  15575>>ASSIGN  15607>>ASSIGN
     16002>>ASSIGN  16015>>ASSIGN  16022>>IF
GI_MHJIT.ASDT
     15377**DCL     15815--ASSIGN
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:140  
GI_NEXTPAGE
     14897**DCL     15613<<ASSIGN  15636>>ASSIGN  15662<<ASSIGN  15662>>ASSIGN  15694>>ASSIGN  15695<<ASSIGN
     15695>>ASSIGN  15727>>ASSIGN  15728<<ASSIGN  15728>>ASSIGN  15827>>ASSIGN  15977<<ASSIGN  15977>>ASSIGN
     15978>>ASSIGN  15996<<ASSIGN  15996>>ASSIGN  16001>>ASSIGN  16008<<ASSIGN  16008>>ASSIGN  16012>>ASSIGN
GI_PARAMS
     15328**DCL     15821--ASSIGN  15822--ASSIGN
GI_PARAMS.PARAMS
     15328**DCL     15834>>ASSIGN  15835>>ASSIGN  15836>>ASSIGN  15837>>ASSIGN  15838>>ASSIGN  15839>>ASSIGN
     15840>>ASSIGN  15841>>ASSIGN  15842>>ASSIGN  15843>>ASSIGN  15844>>ASSIGN  15845>>ASSIGN  15846>>ASSIGN
     15982>>ASSIGN
GI_PSEUDOS
     15341**DCL     15940--ASSIGN
GI_PSEUDOS.MAX_CG
     15341**DCL     15947>>ASSIGN
GI_PSEUDOS.MAX_GHST
     15342**DCL     15949>>ASSIGN
GI_PSEUDOS.MAX_HND
     15341**DCL     15948>>ASSIGN
GI_PSEUDOS.MAX_SYS
     15341**DCL     15945>>ASSIGN
GI_PSEUDOS.MAX_USR
     15341**DCL     15946>>ASSIGN
GI_PSEUDOS.NAME
     15341**DCL     15944>>ASSIGN
GI_READBOOT
     14898**DCL     15595<<ASSIGN  15599<<ASSIGN  15619>>CALL    15627>>CALL    15637>>CALL    15823>>CALL
     15850>>IF      15860>>CALL    15942>>CALL    16085>>CALL
GI_SECTION
     15348**DCL     15617--ASSIGN
GI_SECTION.NUMSECTS
     15348**DCL     15635>>DOINDEX 15667>>DOINDEX
GI_SECTION.SECT.OFFSET
     15348**DCL     15637<>CALL
GI_SECTION.SECT.SIZE
     15348**DCL     15637<>CALL    15639>>ASSIGN  15654>>ASSIGN  15659<<ASSIGN  15662>>ASSIGN
GI_SECTION.SECT.START
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:141  
     15348**DCL     15640>>IF      15642>>ASSIGN  15646>>ASSIGN  15648>>IF      15650>>IF      15657>>IF
GI_SETFP
     14930**DCL     16083--ASSIGN  16084--ASSIGN  16086>>ASSIGN
GI_SETFP.ACCT
     14987**DCL     16088>>ASSIGN
GI_SETFP.DATA_BIAS
     15059**DCL     15059--REDEF
GI_SETFP.NAME.TEXT
     14987**DCL     16087>>ASSIGN
GI_TRAPOK
     15374**DCL     15567<<ASSIGN  15584<<ASSIGN
GI_TSTKM_PGSZ
     14895**DCL     15695>>ASSIGN  15696<>CALL    15713>>ASSIGN  15716>>ASSIGN
GJI$INIT_USR
        41**DCL-ENT 15782--ASSIGN  16071--ASSIGN
GJ_BOOTBASE
     15368**DCL     16104<<ASSIGN
GJ_BOOTCHAN
     15366**DCL     16103<<ASSIGN
GJ_BOOT_HNDLRS
     15369**DCL     16063<<ASSIGN  16065>>DOINDEX
GJ_SFILE_MAX_DATA
     15385**DCL     15878<<ASSIGN
GM_ASHUF
     15396**DCL     16018<<ASSIGN  16019>>ASSIGN  16020>>ASSIGN  16096<<ASSIGN  16096>>ASSIGN
GM_HSHUF
     15397**DCL     16097<<ASSIGN  16097>>ASSIGN
GM_INIT_PGSZ
     15401**DCL     16090>>ASSIGN  16094>>ASSIGN  16095>>ASSIGN  16096>>ASSIGN  16097>>ASSIGN
GM_MEM_HI
     15394**DCL     16015<<ASSIGN  16016>>ASSIGN  16017>>ASSIGN
GM_MEM_LOW
     15393**DCL     16012<<ASSIGN  16013--ASSIGN  16014>>ASSIGN  16018>>ASSIGN
GM_SHUF
     15399**DCL     16019<<ASSIGN
GM_SHUF_HI
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:142  
     15395**DCL     16017<<ASSIGN  16018>>ASSIGN
GM_SHUF_MIN
     15398**DCL     16020<<ASSIGN
GM_TSTKU_PGSZ
     15402**DCL     15714>>ASSIGN
GUD$RING0
        42**DCL-ENT 16054--CALL
GUD$RING1
        43**DCL-ENT 16037--CALL
G_MAX_USRS
     15382**DCL     15866<<ASSIGN  15867<<ASSIGN  15868<<ASSIGN  15869<<ASSIGN  15870<<ASSIGN  15886>>ASSIGN
     15901>>IF      15902<<ASSIGN  15904>>IF      15905<<ASSIGN  15907>>IF      15908>>ASSIGN
G_MING
     15370**DCL     16064<<ASSIGN
G_XCONTIME
     15380**DCL     15864<<ASSIGN
I
     15472**DCL     15577<<ASSIGN  15579>>ASSIGN  15581>>IF      15582>>ASSIGN  15609<<DOINDEX 15610>>ASSIGN
     15610>>ASSIGN  15635<<DOINDEX 15637>>CALL    15637>>CALL    15638>>ASSIGN  15639>>ASSIGN  15639>>ASSIGN
     15640>>IF      15641>>ASSIGN  15642>>ASSIGN  15642>>ASSIGN  15645>>ASSIGN  15646>>ASSIGN  15646>>ASSIGN
     15648>>IF      15650>>IF      15651>>ASSIGN  15652>>ASSIGN  15654>>ASSIGN  15657>>IF      15659>>ASSIGN
     15660>>ASSIGN  15662>>ASSIGN  15667<<DOINDEX 15668>>IF      15670>>CALL    15670>>CALL    15670>>CALL
     15670>>CALL    15681<<DOINDEX 15682>>ASSIGN  15683>>ASSIGN  15684>>ASSIGN  15686<<DOINDEX 15687>>ASSIGN
     15688>>ASSIGN  15689>>ASSIGN  15706<<DOINDEX 15707>>IF      15707>>IF      15708>>CALL    15708>>CALL
     15716<<ASSIGN  15717<>CALL    15792<<DOINDEX 15793>>ASSIGN  15793>>ASSIGN  15805<<DOINDEX 15806>>ASSIGN
     15886<<ASSIGN  15892>>IF      15893>>ASSIGN  15943<<DOINDEX 15944>>ASSIGN  15944>>ASSIGN  15945>>ASSIGN
     15945>>ASSIGN  15946>>ASSIGN  15946>>ASSIGN  15947>>ASSIGN  15947>>ASSIGN  15948>>ASSIGN  15948>>ASSIGN
     15949>>ASSIGN  15949>>ASSIGN  15982<<ASSIGN  15983>>IF      15985>>IF      15987<>CALL    15988<>CALL
     15993>>ASSIGN  15996>>ASSIGN  16002<<ASSIGN  16003<>CALL    16004<>CALL    16008>>ASSIGN  16049<<DOINDEX
     16050>>ASSIGN
I IN PROCEDURE SETASDT
     16149**DCL     16153<<ASSIGN  16155>>ASSIGN  16156>>ASSIGN  16158>>ASSIGN  16159<<ASSIGN  16159>>ASSIGN
     16162>>ASSIGN
INDX
     15474**DCL     15569<<ASSIGN  15580<<ASSIGN  15581>>IF
INHIB
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:143  
      3039**DCL     16109<>CALL
J
     15473**DCL     16065<<DOINDEX 16085>>CALL
J$
     15492**DCL     14340--IMP-PTR 14808--IMP-PTR 16076<<ASSIGN  16077>>ASSIGN  16078>>ASSIGN  16079>>ASSIGN
     16080>>ASSIGN  16081>>ASSIGN  16082>>ASSIGN  16086>>ASSIGN  16087>>ASSIGN  16088>>ASSIGN  16089>>ASSIGN
     16090>>ASSIGN  16091>>ASSIGN  16092<<ASSIGN  16093>>ASSIGN  16093>>ASSIGN  16094>>ASSIGN  16094>>ASSIGN
JIT.ACCN
     14399**DCL     16088<<ASSIGN
JIT.CCBUF
     14735**DCL     16086--ASSIGN
JIT.ERRLOG
     14670**DCL     14673--REDEF
JIT.GFR_ACCT
     14676**DCL     16091<<ASSIGN
JIT.JSUNIT
     14409**DCL     14410--REDEF
JIT.MAXLVLS
     14674**DCL     16089<<ASSIGN
JIT.MAXMEM
     14519**DCL     16081<<ASSIGN
JIT.MCLS
     14408**DCL     14408--REDEF
JIT.MODE
     14397**DCL     16077<<ASSIGN
JIT.MRT
     14509**DCL     16082<<ASSIGN
JIT.PCC
     14516**DCL     16090<<ASSIGN
JIT.PRIV.AUTH
     14573**DCL     16080<<ASSIGN
JIT.PRIV.PRC
     14606**DCL     16079<<ASSIGN
JIT.PROG_ENTRY
     14397**DCL     16078<<ASSIGN
JIT.TMRZ
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:144  
     14677**DCL     14678--REDEF
JIT.UNAME
     14399**DCL     16087<<ASSIGN
JIT.USER_EXTIME
     14401**DCL     14402--REDEF
JIT.USER_MEMTIME
     14404**DCL     14404--REDEF
JIT.USER_SVTIME
     14403**DCL     14403--REDEF
KV$VDH_VDHINT
     15557**DCL     15994<>CALL
KV$VDH_VDHINT.BFRBGN$
     15557**DCL     15992<<ASSIGN
KV$VDH_VDHINT.BFREND$
     15557**DCL     15993<<ASSIGN
KVB$INT
        45**DCL-ENT 15994--CALL
MEMADR IN PROCEDURE SETASDT
     16143**DCL     16120--PROC    16151>>ASSIGN
MEMPTR
     15466**DCL     15467--REDEF   15570<<ASSIGN  15571<<ASSIGN  15571>>ASSIGN  15571>>ASSIGN  15572>>ASSIGN
     15636<<ASSIGN  15637<>CALL    15638>>ASSIGN  15649>>ASSIGN  15694<<ASSIGN  15696<>CALL    15727<<ASSIGN
     15729<>CALL    15730<>CALL    15827<<ASSIGN  15828<>CALL    15829<>CALL    15975>>ASSIGN  15978<<ASSIGN
     15987<>CALL    15988<>CALL    16001<<ASSIGN  16003<>CALL    16004<>CALL
MHJIT$
     15477**DCL      3389--IMP-PTR 13225--IMP-PTR 15670>>CALL    15675>>ASSIGN  15676>>CALL    15677>>CALL
     15682>>ASSIGN  15683>>ASSIGN  15684>>ASSIGN  15687>>ASSIGN  15688>>ASSIGN  15689>>ASSIGN  15696>>CALL
     15700>>CALL    15702>>ASSIGN  15707>>IF      15708>>CALL    15718>>ASSIGN  15718>>ASSIGN  15724>>CALL
     15729>>CALL    15730>>CALL    15731>>CALL    15744>>ASSIGN  15747>>ASSIGN  15749>>ASSIGN  15755>>ASSIGN
     15759>>ASSIGN  15763>>ASSIGN  15766>>ASSIGN  15774>>ASSIGN  15776>>ASSIGN  15777>>ASSIGN  15778>>ASSIGN
     15779>>ASSIGN  15780>>ASSIGN  15793>>ASSIGN  15815>>ASSIGN  15828>>CALL    15829>>CALL    15830>>ASSIGN
     15831>>CALL    15987>>CALL    15988>>CALL    15989>>ASSIGN  15990>>CALL    16003>>CALL    16004>>CALL
     16005>>ASSIGN  16006>>CALL    16023>>ASSIGN  16023>>ASSIGN  16025>>CALL    16026>>CALL    16039>>CALL
     16040>>IF      16047>>ASSIGN  16048>>ASSIGN  16050>>ASSIGN  16056>>ASSIGN  16057>>ASSIGN  16069>>ASSIGN
     16070>>CALL    16073>>ASSIGN  16074>>ASSIGN  16075>>CALL
MHJITPTR
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:145  
     15476**DCL     15477--REDEF   15649<<ASSIGN  15701<<ASSIGN
MON_PROC_ASDTX
     15485**DCL     15653<<ASSIGN  15686>>DOINDEX 15686>>DOINDEX
MON_PROC_SIZE
     15487**DCL     15654<<ASSIGN  15655<<ASSIGN  15655>>ASSIGN  15686>>DOINDEX
MON_STATIC_ASDTX
     15484**DCL     15651<<ASSIGN  15653>>ASSIGN  15681>>DOINDEX 15681>>DOINDEX
MON_STATIC_SIZE
     15486**DCL     15652<<ASSIGN  15653>>ASSIGN  15681>>DOINDEX
NEXT
     15495**DCL     15959<<ASSIGN  15959>>ASSIGN  15973<<ASSIGN
NEXT$
     15494**DCL     15495--REDEF   15958<<ASSIGN  15961<>CALL    15965<>CALL    15969>>ASSIGN  15970>>ASSIGN
     15974>>ASSIGN
ONEWORD
     15469**DCL     15577>>ASSIGN  15579<<ASSIGN  15581>>IF      15582<<ASSIGN
PAGE IN PROCEDURE SETASDT
     16147**DCL     16151<<ASSIGN  16156>>ASSIGN  16163<<ASSIGN  16163>>ASSIGN
PAGES
     15480**DCL     15726<<ASSIGN  15728>>ASSIGN  15729<>CALL    15730<>CALL
PBASE$
     15471**DCL     15734>>ASSIGN
ROSPP
     15491**DCL     16066<>CALL    16073>>ASSIGN
SECT_TABLE.PADDR
     15351**DCL     15638<<ASSIGN  15670<>CALL
SECT_TABLE.PSIZE
     15352**DCL     15639<<ASSIGN  15652>>ASSIGN  15660<<ASSIGN  15668>>IF      15670<>CALL
SECT_TABLE.SEGSIZE
     15353**DCL     15641<<ASSIGN  15645<<ASSIGN  15670<>CALL
SECT_TABLE.SEGX
     15354**DCL     15642<<ASSIGN  15646<<ASSIGN  15651>>ASSIGN  15670>>CALL
SEGDESC IN PROCEDURE SETASDT
     16135**DCL     16120--PROC
SEGDESC.BASE IN PROCEDURE SETASDT
     16139**DCL     16156<<ASSIGN
PL6.E3A0      #001=GIB$BIGFOOT File=GIB$BIGFOOT.:E05TSI                          TUE 07/29/97 21:40 Page:146  
SEGDESC.SIZE IN PROCEDURE SETASDT
     16141**DCL     16158<<ASSIGN  16162<<ASSIGN
SEGDESC.V IN PROCEDURE SETASDT
     16139**DCL     16155<<ASSIGN
SEGSIZE IN PROCEDURE SETASDT
     16145**DCL     16120--PROC    16157>>IF      16158>>ASSIGN  16163>>ASSIGN  16164>>ASSIGN
SETASDT
     16120**PROC    15670--CALL    15676--CALL    15677--CALL    15696--CALL    15729--CALL    15730--CALL
     15828--CALL    15829--CALL    15987--CALL    15988--CALL    16003--CALL    16004--CALL    16025--CALL
     16026--CALL
SETUP_PPUT
     16001**LABEL   15985--GOTO
SIZE IN PROCEDURE SETASDT
     16144**DCL     16120--PROC    16152>>ASSIGN
SUSP62
      3017**DCL     16117<>CALL
TSIZE IN PROCEDURE SETASDT
     16148**DCL     16152<<ASSIGN  16154>>DOWHILE 16157>>IF      16162>>ASSIGN  16164<<ASSIGN  16164>>ASSIGN
TV
     13299**DCL     15806<<ASSIGN  15808<<ASSIGN
TV$
     15479**DCL     13299--IMP-PTR 15804<<ASSIGN  15806>>ASSIGN  15808>>ASSIGN
USER#
     15489**DCL     16066<>CALL    16069>>ASSIGN
WORDS
     15470**DCL     15725<<ASSIGN  15733<>CALL
WSIZE
     15482**DCL     15618<<ASSIGN  15619<>CALL    15626<<ASSIGN  15627<>CALL    15822<<ASSIGN  15823<>CALL
     15859<<ASSIGN  15860<>CALL    15941<<ASSIGN  15942<>CALL    16084<<ASSIGN  16085<>CALL
X6A_MAUTO
        44**DCL-ENT 15717--CALL    15733--CALL

PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:147  
      872        1        /*T***********************************************************/
      873        2        /*T*                                                         */
      874        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      875        4        /*T*                                                         */
      876        5        /*T***********************************************************/
      877        6        GIB$CPLRIO: PROC(A66,A6,WORDSIZE);
      878        7        /**/
      879        8    1   DCL A66 UBIN(32);
      880        9    1   DCL A6 UBIN(32);                        /* PROBABLY A POINTER                 */
      881       10    1   DCL WORDSIZE UBIN(32);
      882       11        /**/
      883       12        %INCLUDE GH_HARDWARE_M;
      884      110        %INCLUDE GH_IOFNC_E;
      885      179        %INCLUDE GI_DATA_M;
      886      207        /**/
      887      208    1   DCL GHH$IO_IN ENTRY(1) ALTRET;
      888      209    1   DCL GHH$IO ENTRY(1) ALTRET;
      889      210    1   DCL GHH$IOLD ENTRY(1) ALTRET;
      890      211    1   DCL GHH$HLT ENTRY;
      891      212        /**/
      892      213        %SET LISTMAC='1'B;
      893      214    1   DCL 1 XFERL66_L6 STATIC ALIGNED,
      894      215    1         2 SIZE UBIN INIT(SIZEW(XFERL66_L6)),
      895      216                %GH_CPLDCW (FPTN=XFER,LVL=2,STCLASS=STATIC,OC=%GH#CPL_L66_TO_L6,
      896      217                            MODE=%GH#CTM_ASCII,TALLY=0,LAST=",");
               218        %LSET LISTDIR='0'B;
               231    1   2 XFER ALIGNED,
               233    1   3 OC  UBIN BYTE UNAL INIT(62)/**/,3 MODE  UBIN BYTE UNAL INIT(1)
               234    1   /**/,3 TALLY  UBIN WORD UNAL INIT(0)/**/,3 * UBIN(6)UNAL INIT(0)/**/,
               235    1   3 CN  UBIN(2)UNAL INIT(0)/**/,3 A66  UBIN(24)UNAL INIT(0)
               236    1   /**/,3 * UBIN(7)UNAL INIT(0)/**/,3 BN  UBIN(1)UNAL INIT(0)/**/,3
               237    1   * UBIN(1)UNAL INIT(0)/**/,3 A6  UBIN(23)UNAL INIT(0)/**/,
      897      239                %GH_CPLDCW (FPTN=DISC,LVL=2,STCLASS=STATIC,LAST=";",OC=%GH#CPL_DISCONNECT);
               240        %LSET LISTDIR='0'B;
               253    1   2 DISC ALIGNED,
               255    1   3 OC  UBIN BYTE UNAL INIT(48)/**/,3 MODE  UBIN BYTE UNAL INIT(0)
               256    1   /**/,3 TALLY  UBIN WORD UNAL INIT(0)/**/,3 * UBIN(6)UNAL INIT(0)/**/,
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:148  
               257    1   3 CN  UBIN(2)UNAL INIT(0)/**/,3 A66  UBIN(24)UNAL INIT(0)
               258    1   /**/,3 * UBIN(7)UNAL INIT(0)/**/,3 BN  UBIN(1)UNAL INIT(0)/**/,3
               259    1   * UBIN(1)UNAL INIT(0)/**/,3 A6  UBIN(23)UNAL INIT(0)/**/;
      898      261        %SET LISTMAC='0'B;
      899      262        %GH_IO (FPTN=GH_IO,STCLASS=STATIC);
      900      278        %GH_IO (FPTN=GETSTWD,STCLASS=STATIC);
      901      294        %GH_IOLD (FPTN=EXCDCW,STCLASS=STATIC,FNC=%GH#IO_IOLD);
      902      309        /**/
      903      310    1   DCL 1 STATUS ALIGNED,
      904      311    1         2 WD1 BIT(16),
      905      312    1         2 WD2 BIT(16);
      906      313    1   DCL GI_ADDR UBIN(32) STATIC SYMDEF INIT(0);
      907      314    1   DCL 1 GI_L66WD STATIC SYMDEF ALIGNED,
      908      315    1         2 L6DBLWD UBIN(32) UNAL,
      909      316    1         2 * BIT(4) UNAL;
      910      317    1   DCL GI_FEX UBIN(32) STATIC SYMDEF INIT(0);
      911      318        /**/
      912      319        %EQU QSIZOFFSET = 5;                    /* offset to KI$QHDR.QSIZE            */
      913      320        %EQU QHDRSIZE = 16;                     /* size of KI$QHDR in L66 words       */
      914      321        %EQU FEXOFFSET = 3;                     /* offset to KI$QHDR.FEX              */
      915      322    1   DCL WDSLEFT SBIN(32);
      916      323        /**/
      917      324    1   DCL GIT$TOP PTR SYMREF;
      918      325    1   DCL GI_BOOTCHAN UBIN WORD SYMREF;
      919      326    1   DCL GI_BOOTBASE UBIN(32) SYMREF;
      920      327    1   DCL GI_OFFSETS UBIN(32) SYMREF;
      921      328    1   DCL GI$OFFSETS$ PTR SYMREF;
      922      329    1   DCL GIR$ROOT UBIN WORD SYMREF;
      923      330        /**/
      924      331        %GI$OFFSETS (FPTN=GI$OFFSETS,STCLASS="BASED(GI$OFFSETS$)");
      925      336        /**/
      926      337        %EQU K1=1024;
      927      338        %EQU K2=2048;
      928      339        %EQU K4=4096;
      929      340        %EQU K8=8192;
      930      341        %EQU K16=16384;
      931      342        %EQU K32=32768;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:149  
      932      343        %EQU K64=65536;
      933      344        /**/
      934      345        %EJECT;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:150  
      935      346        /*F*    NAME:  GIB$CPLRBOOT
      936      347                DESCRIPTION:
      937      348                   GIB$CPLRBOOT is called to boot BIGFOOT in from the coupler.
      938      349                The bootload order to the coupler has already placed the first
      939      350                8K of BIGFOOT in L6 memory.  The rest of BIGFOOT must be
      940      351                transfered through the coupler via coupler DCW lists.
      941      352                                                                           */
      942      353    1   GIB$CPLRBOOT: ENTRY;
      943      354        /**/
      944      355        /* Initialize the coupler */
      945      356        /**/
      946      357    1      GH_IO.CAS.CHN=GI_BOOTCHAN;
      947      358    1      GH_IO.CAS.FNC=%GH#IO_OTPCTR;
      948      359    1      GH_IO.DAS='8000'X;
      949      360    1      CALL DOIO(GH_IO) ALTRET(FREEZE);
      950      361    1      GH_IO.CAS.CHN=GI_BOOTCHAN+1;
      951      362    1      GH_IO.CAS.FNC=%GH#IO_OTPCNFA;
      952      363    1      GH_IO.DAS='0080'X;
      953      364    1      CALL DOIO(GH_IO) ALTRET(FREEZE);
      954      365        /* Now calculate the boot offset */
      955      366        /* Until we get the correct stuff in the host : */
      956      367    1      GI_ADDR = POFFW(ADDR(GI_L66WD),ADDR(GIR$ROOT));
      957      368    1      XFERL66_L6.XFER.MODE = %GH#CTM_BIN;
      958      369    1      XFERL66_L6.XFER.A66 = %QSIZOFFSET;
      959      370    1      XFERL66_L6.XFER.A6 = GI_ADDR;
      960      371    1      XFERL66_L6.XFER.TALLY = 1;
      961      372    1      CALL COUPLER_IO(XFERL66_L6) ALTRET(FREEZE);
      962      373    1      GI_BOOTBASE = GI_L66WD.L6DBLWD + 2 * %QHDRSIZE;
      963      374    1      XFERL66_L6.XFER.A66 = %QSIZOFFSET + GI_L66WD.L6DBLWD + %QHDRSIZE;
      964      375    1      CALL COUPLER_IO(XFERL66_L6) ALTRET(FREEZE);
      965      376    1      GI_BOOTBASE = GI_BOOTBASE + GI_L66WD.L6DBLWD + 1;
      966      377    1      IF GI_BOOTBASE < %BITBIN('2001'X)
      967      378    1      THEN
      968      379    1           GI_BOOTBASE = %BITBIN('2001'X);
      969      380    1      XFERL66_L6.XFER.A66 = %FEXOFFSET;
      970      381    1      XFERL66_L6.XFER.MODE = %GH#CTM_ASCII;
      971      382    1      XFERL66_L6.XFER.TALLY = 4;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:151  
      972      383    1      CALL COUPLER_IO(XFERL66_L6) ALTRET(FREEZE);
      973      384    1      GI_FEX = GI_L66WD.L6DBLWD;
      974      385    1      XFERL66_L6.XFER.A66=GI_BOOTBASE+%K4; /* Already have first 8K              */
      975      386    1      XFERL66_L6.XFER.A6=%K8;
      976      387    1      XFERL66_L6.XFER.TALLY=0;
      977      388    1      WDSLEFT=POFFW(ADDR(GIT$TOP),ADDR(GIR$ROOT))-%K8;
      978      389    2      DO WHILE(WDSLEFT>0);
      979      390    2           IF WDSLEFT<%K32 THEN
      980      391    2                XFERL66_L6.XFER.TALLY=WDSLEFT*2;
      981      392    2           CALL COUPLER_IO(XFERL66_L6) ALTRET(FREEZE);
      982      393    2           WDSLEFT=WDSLEFT-%K32;
      983      394    2           XFERL66_L6.XFER.A66=XFERL66_L6.XFER.A66+%K16;
      984      395    2           XFERL66_L6.XFER.A6=XFERL66_L6.XFER.A6+%K32;
      985      396    2           END;
      986      397        /**/
      987      398        /* Now get the boot offsets */
      988      399        /**/
      989      400    1      XFERL66_L6.XFER.A66=GI_OFFSETS+GI_BOOTBASE;
      990      401    1      XFERL66_L6.XFER.A6=POFFW(GI$OFFSETS$,ADDR(GIR$ROOT));
      991      402    1      XFERL66_L6.XFER.TALLY=SIZEC(GI$OFFSETS);
      992      403    1      CALL COUPLER_IO(XFERL66_L6) ALTRET(FREEZE);
      993      404    1      XFERL66_L6.XFER.TALLY = SIZEC(GI$OFFSETS) + (GI$OFFSETS.NHANDLERS-1)*SIZEC(
               404               GI$OFFSETS.HANDLER);
      994      405    1      CALL COUPLER_IO (XFERL66_L6) ALTRET(FREEZE);
      995      406    1      RETURN;                              /* FOR NOW                            */
      996      407        /**/
      997      408    1   FREEZE: CALL GHH$HLT;
      998      409        %EJECT;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:152  
      999      410    1   GIB$READCPLR: ENTRY(A66,A6,WORDSIZE);
     1000      411    1      XFERL66_L6.XFER.A66=A66+GI_BOOTBASE;
     1001      412    1      XFERL66_L6.XFER.A6=A6;
     1002      413    1      XFERL66_L6.XFER.TALLY=0;
     1003      414    1      WDSLEFT=WORDSIZE;
     1004      415    2      DO WHILE (WDSLEFT>0);
     1005      416    2           IF WDSLEFT<%K32 THEN
     1006      417    2                XFERL66_L6.XFER.TALLY=WDSLEFT*2;
     1007      418    2           CALL COUPLER_IO(XFERL66_L6) ALTRET(FREEZE);
     1008      419    2           WDSLEFT=WDSLEFT-%K32;
     1009      420    2           XFERL66_L6.XFER.A66=XFERL66_L6.XFER.A66+%K16;
     1010      421    2           XFERL66_L6.XFER.A6=XFERL66_L6.XFER.A6+%K32;
     1011      422    2           END;
     1012      423    1      RETURN;
     1013      424        %EJECT;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:153  
     1014      425    1   GIB$SETADP: ENTRY;
     1015      426        /*
     1016      427             if this fep was booted from an 8000 we need to turn on the
     1017      428             adp bit in the coupler.  if there is one.
     1018      429        */
     1019      430    1      GH_IO.CAS.CHN=GI_BOOTCHAN+1;
     1020      431    1      GH_IO.CAS.FNC=%GH#IO_OTPCNFA;
     1021      432    1      GH_IO.DAS = '2080'X;
     1022      433    1      CALL DOIO(GH_IO) ALTRET(FREEZE);
     1023      434    1      RETURN;
     1024      435        %EJECT;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:154  
     1025      436    1   GIB$INTCPLR: ENTRY;
     1026      437
     1027      438    1      GH_IO.CAS.CHN = GI_BOOTCHAN + 2;
     1028      439    1      GH_IO.CAS.FNC = %GH#IO_OTPINTCTR;
     1029      440    1      GH_IO.RANGE = 3;
     1030      441    1      CALL DOIO (GH_IO);
     1031      442    1      RETURN;
     1032      443
     1033      444        %EJECT;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:155  
     1034      445    1   COUPLER_IO: PROC(DCWLIST) ALTRET;
     1035      446    2   DCL DCWLIST UBIN;
     1036      447        /**/
     1037      448    2   DCL NAK BIT(1) ALIGNED;
     1038      449    2   DCL I SBIN;
     1039      450    2      EXCDCW.CHN=GI_BOOTCHAN+1;            /* DCW LIST FUNCTION                  */
     1040      451    2      EXCDCW.BUF$=PINCRW(ADDR(DCWLIST),1);
     1041      452    2      EXCDCW.BYTX=0;
     1042      453    2      EXCDCW.BUFSIZE=(DCWLIST-1)*2;
     1043      454    2      NAK='1'B;
     1044      455    3      DO WHILE(NAK);
     1045      456    3           CALL GHH$IOLD(EXCDCW) ALTRET(IOLD_NAK);
     1046      457    3           NAK='0'B;
     1047      458    3   IOLD_NAK: END;
     1048      459    2      GETSTWD.CAS.CHN=GI_BOOTCHAN;
     1049      460    2      GETSTWD.CAS.FNC=%GH#IO_INPSTT1;
     1050      461    2      NAK='1'B;
     1051      462    3      DO WHILE(NAK);
     1052      463    4           DO I=0 TO 10000;
     1053      464    4                END;
     1054      465    3           CALL GHH$IO_IN(GETSTWD) ALTRET(ST1_NAK);
     1055      466    3           NAK='0'B;
     1056      467    3   ST1_NAK: END;
     1057      468    2      STATUS.WD1=GETSTWD.STATUS;
     1058      469    2      GETSTWD.CAS.FNC=%GH#IO_INPSTT2;
     1059      470    2      NAK='1'B;
     1060      471    3      DO WHILE(NAK);
     1061      472    3           CALL GHH$IO_IN(GETSTWD) ALTRET(ST2_NAK);
     1062      473    3           NAK='0'B;
     1063      474    3   ST2_NAK: END;
     1064      475    2      STATUS.WD2=GETSTWD.STATUS;
     1065      476    2      IF STATUS.WD1='8000'X THEN
     1066      477    2           RETURN;
     1067      478    2      ELSE
     1068      479    2           ALTRETURN;
     1069      480    2   END COUPLER_IO;
     1070      481        %EJECT;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:156  
     1071      482    1   DOIO: PROC(GH_IO) ALTRET;
     1072      483        %GH_IO (FPTN=GH_IO,STCLASS="");
     1073      499    2   DCL NAK BIT(1) ALIGNED;
     1074      500    2      NAK='1'B;
     1075      501    3      DO WHILE(NAK);
     1076      502    3           CALL GHH$IO(GH_IO) ALTRET(NAKED);
     1077      503    3           NAK='0'B;
     1078      504    3   NAKED:  END;
     1079      505    2      RETURN;
     1080      506    2   END DOIO;
     1081      507    1   END GIB$CPLRIO;
     1082      508        %EOD;

PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:157  
--  Include file information  --

   GI_DATA_M.:E05TOU  is referenced.
   GH_IOFNC_E.:E05TOU  is referenced.
   GH_HARDWARE_M.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is never referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is never referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure GIB$CPLRIO.

   Procedure GIB$CPLRIO requires 868 words for executable code.
   Procedure GIB$CPLRIO requires 24 words of local(AUTO) storage.

PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:158  

 Object Unit name= GIB$CPLRIO                                 File name= GIB$BIGFOOT.:E05TOU
 UTS= JUL 29 '97 21:43:33.32 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_LCP6_SYSTEM                               Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size HexSiz  Section name
    0   Data  even  none    29     1D  GIB$CPLRIO
    1   Proc  even  none   868    364  GIB$CPLRIO
    2  RoData even  none     4      4  GIB$CPLRIO

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect HexLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes      Std        3  GIB$CPLRIO
     1      7                  yes      Std        0  GIB$CPLRBOOT
     1    1E3                  yes      Std        3  GIB$READCPLR
     1    279                  yes      Std        0  GIB$SETADP
     1    29C                  yes      Std        0  GIB$INTCPLR

  ****  Data defs  ****

 Sect HexLoc  Name                           Sect HexLoc  Name
    0     16  GI_ADDR                            0     18  GI_L66WD
    0     1B  GI_FEX
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:159  

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       0 GHH$HLT
 yes     yes           Std       1 GHH$IOLD
 yes     yes           Std       1 GHH$IO_IN
 yes     yes           Std       1 GHH$IO
                       nStd      0 X6A_AUTO_3
                       nStd      0 X6B_BLR
                       nStd      0 X6A_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     GIT$TOP                               GI_BOOTCHAN                           GI_BOOTBASE
     GI_OFFSETS                            GI$OFFSETS$                           GIR$ROOT
r    G$ROS$
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:160  


      872        1        /*T***********************************************************/
      873        2        /*T*                                                         */
      874        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      875        4        /*T*                                                         */
      876        5        /*T***********************************************************/
      877        6        GIB$CPLRIO: PROC(A66,A6,WORDSIZE);

      6   1 000000  D380 0000 0000  xent GIB$CPLRIO      LNJ,B5   X6A_AUTO_3
          1 000003       0018 0003                       DC       24,3
          1 000005  0F81 0006                            B        s:357,PREL

      878        7        /**/
      879        8    1   DCL A66 UBIN(32);
      880        9    1   DCL A6 UBIN(32);                        /* PROBABLY A POINTER                 */
      881       10    1   DCL WORDSIZE UBIN(32);
      882       11        /**/
      883       12        %INCLUDE GH_HARDWARE_M;
      884      110        %INCLUDE GH_IOFNC_E;
      885      179        %INCLUDE GI_DATA_M;
      886      207        /**/
      887      208    1   DCL GHH$IO_IN ENTRY(1) ALTRET;
      888      209    1   DCL GHH$IO ENTRY(1) ALTRET;
      889      210    1   DCL GHH$IOLD ENTRY(1) ALTRET;
      890      211    1   DCL GHH$HLT ENTRY;
      891      212        /**/
      892      213        %SET LISTMAC='1'B;
      893      214    1   DCL 1 XFERL66_L6 STATIC ALIGNED,
      894      215    1         2 SIZE UBIN INIT(SIZEW(XFERL66_L6)),
      895      216                %GH_CPLDCW (FPTN=XFER,LVL=2,STCLASS=STATIC,OC=%GH#CPL_L66_TO_L6,
      896      217                            MODE=%GH#CTM_ASCII,TALLY=0,LAST=",");
               218        %LSET LISTDIR='0'B;
               231    1   2 XFER ALIGNED,
               233    1   3 OC  UBIN BYTE UNAL INIT(62)/**/,3 MODE  UBIN BYTE UNAL INIT(1)
               234    1   /**/,3 TALLY  UBIN WORD UNAL INIT(0)/**/,3 * UBIN(6)UNAL INIT(0)/**/,
               235    1   3 CN  UBIN(2)UNAL INIT(0)/**/,3 A66  UBIN(24)UNAL INIT(0)
               236    1   /**/,3 * UBIN(7)UNAL INIT(0)/**/,3 BN  UBIN(1)UNAL INIT(0)/**/,3
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:161  
               237    1   * UBIN(1)UNAL INIT(0)/**/,3 A6  UBIN(23)UNAL INIT(0)/**/,
      897      239                %GH_CPLDCW (FPTN=DISC,LVL=2,STCLASS=STATIC,LAST=";",OC=%GH#CPL_DISCONNECT);
               240        %LSET LISTDIR='0'B;
               253    1   2 DISC ALIGNED,
               255    1   3 OC  UBIN BYTE UNAL INIT(48)/**/,3 MODE  UBIN BYTE UNAL INIT(0)
               256    1   /**/,3 TALLY  UBIN WORD UNAL INIT(0)/**/,3 * UBIN(6)UNAL INIT(0)/**/,
               257    1   3 CN  UBIN(2)UNAL INIT(0)/**/,3 A66  UBIN(24)UNAL INIT(0)
               258    1   /**/,3 * UBIN(7)UNAL INIT(0)/**/,3 BN  UBIN(1)UNAL INIT(0)/**/,3
               259    1   * UBIN(1)UNAL INIT(0)/**/,3 A6  UBIN(23)UNAL INIT(0)/**/;
      898      261        %SET LISTMAC='0'B;
      899      262        %GH_IO (FPTN=GH_IO,STCLASS=STATIC);
      900      278        %GH_IO (FPTN=GETSTWD,STCLASS=STATIC);
      901      294        %GH_IOLD (FPTN=EXCDCW,STCLASS=STATIC,FNC=%GH#IO_IOLD);
      902      309        /**/
      903      310    1   DCL 1 STATUS ALIGNED,
      904      311    1         2 WD1 BIT(16),
      905      312    1         2 WD2 BIT(16);
      906      313    1   DCL GI_ADDR UBIN(32) STATIC SYMDEF INIT(0);
      907      314    1   DCL 1 GI_L66WD STATIC SYMDEF ALIGNED,
      908      315    1         2 L6DBLWD UBIN(32) UNAL,
      909      316    1         2 * BIT(4) UNAL;
      910      317    1   DCL GI_FEX UBIN(32) STATIC SYMDEF INIT(0);
      911      318        /**/
      912      319        %EQU QSIZOFFSET = 5;                    /* offset to KI$QHDR.QSIZE            */
      913      320        %EQU QHDRSIZE = 16;                     /* size of KI$QHDR in L66 words       */
      914      321        %EQU FEXOFFSET = 3;                     /* offset to KI$QHDR.FEX              */
      915      322    1   DCL WDSLEFT SBIN(32);
      916      323        /**/
      917      324    1   DCL GIT$TOP PTR SYMREF;
      918      325    1   DCL GI_BOOTCHAN UBIN WORD SYMREF;
      919      326    1   DCL GI_BOOTBASE UBIN(32) SYMREF;
      920      327    1   DCL GI_OFFSETS UBIN(32) SYMREF;
      921      328    1   DCL GI$OFFSETS$ PTR SYMREF;
      922      329    1   DCL GIR$ROOT UBIN WORD SYMREF;
      923      330        /**/
      924      331        %GI$OFFSETS (FPTN=GI$OFFSETS,STCLASS="BASED(GI$OFFSETS$)");
      925      336        /**/
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:162  
      926      337        %EQU K1=1024;
      927      338        %EQU K2=2048;
      928      339        %EQU K4=4096;
      929      340        %EQU K8=8192;
      930      341        %EQU K16=16384;
      931      342        %EQU K32=32768;
      932      343        %EQU K64=65536;
      933      344        /**/
      934      345        %EJECT;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:163  
      935      346        /*F*    NAME:  GIB$CPLRBOOT
      936      347                DESCRIPTION:
      937      348                   GIB$CPLRBOOT is called to boot BIGFOOT in from the coupler.
      938      349                The bootload order to the coupler has already placed the first
      939      350                8K of BIGFOOT in L6 memory.  The rest of BIGFOOT must be
      940      351                transfered through the coupler via coupler DCW lists.
      941      352                                                                           */
      942      353    1   GIB$CPLRBOOT: ENTRY;

    353   1 000007  D380 0000 0000  xent GIB$CPLRBOOT    LNJ,B5   X6A_AUTO_3
          1 00000A       0018 0003                       DC       24,3

      943      354        /**/
      944      355        /* Initialize the coupler */
      945      356        /**/
      946      357    1      GH_IO.CAS.CHN=GI_BOOTCHAN;

    357   1 00000C  E800 0000 0000  xsym                 LDR,R6   GI_BOOTCHAN
          1 00000F  6006                                 SOL,R6   6
          1 000010  EA80 0000 000D  00                   SRM,R6,'FFC0'X    GH_IO
          1 000013       FFC0

      947      358    1      GH_IO.CAS.FNC=%GH#IO_OTPCTR;

    358   1 000014  6C01                                 LDV,R6   1
          1 000015  EA80 0000 000D  00                   SRM,R6,'003F'X    GH_IO
          1 000018       003F

      948      359    1      GH_IO.DAS='8000'X;

    359   1 000019  D870 8000                            LDR,R5   -32768,IMO
          1 00001B  DF00 0000 000E  00                   STR,R5   GH_IO+1

      949      360    1      CALL DOIO(GH_IO) ALTRET(FREEZE);

    360   1 00001E  EB80 0000 000D  00                   LAB,B6   GH_IO
          1 000021  EFC7 0010                            STB,B6   WDSLEFT+4,AUTO
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:164  
          1 000023  E3C0 0326                            LNJ,B6   s:0,PREL
          1 000025       01B6                            DC       s:408,PREL

      950      361    1      GH_IO.CAS.CHN=GI_BOOTCHAN+1;

    361   1 000026  E800 0000 0000  xsym                 LDR,R6   GI_BOOTCHAN
          1 000029  6E01                                 ADV,R6   1
          1 00002A  6006                                 SOL,R6   6
          1 00002B  EA80 0000 000D  00                   SRM,R6,'FFC0'X    GH_IO
          1 00002E       FFC0

      951      362    1      GH_IO.CAS.FNC=%GH#IO_OTPCNFA;

    362   1 00002F  6C11                                 LDV,R6   17
          1 000030  EA80 0000 000D  00                   SRM,R6,'003F'X    GH_IO
          1 000033       003F

      952      363    1      GH_IO.DAS='0080'X;

    363   1 000034  D870 0080                            LDR,R5   128,IMO
          1 000036  DF00 0000 000E  00                   STR,R5   GH_IO+1

      953      364    1      CALL DOIO(GH_IO) ALTRET(FREEZE);

    364   1 000039  EB80 0000 000D  00                   LAB,B6   GH_IO
          1 00003C  EFC7 0010                            STB,B6   WDSLEFT+4,AUTO
          1 00003E  E3C0 030B                            LNJ,B6   s:0,PREL
          1 000040       019B                            DC       s:408,PREL

      954      365        /* Now calculate the boot offset */
      955      366        /* Until we get the correct stuff in the host : */
      956      367    1      GI_ADDR = POFFW(ADDR(GI_L66WD),ADDR(GIR$ROOT));

    367   1 000041  EB80 0000 0000  xsym                 LAB,B6   GIR$ROOT
          1 000044  EFC7 0014                            STB,B6   I+1,AUTO
          1 000046  DB80 0000 0018  00                   LAB,B5   GI_L66WD
          1 000049  DFC7 0016                            STB,B5   I+3,AUTO
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:165  
          1 00004B  8CC7 0016                            LDI      I+3,AUTO
          1 00004D  84C7 0014                            SID      I+1,AUTO
          1 00004F  8D00 0000 0016  00                   SDI      GI_ADDR

      957      368    1      XFERL66_L6.XFER.MODE = %GH#CTM_BIN;

    368   1 000052  5C03                                 LDV,R5   3
          1 000053  DA80 0000 0001  00                   SRM,R5,'00FF'X    XFERL66_L6+1
          1 000056       00FF

      958      369    1      XFERL66_L6.XFER.A66 = %QSIZOFFSET;

    369   1 000057  8CF0 0000 0005                       LDI      5,IMO
          1 00005A  7088                                 DOL,R7   8
          1 00005B  8D47 0014                            SDI      I+1,AUTO
          1 00005D  ABC7 0014                            LAB,B2   I+1,AUTO
          1 00005F  2C00                                 LDV,R2   0
          1 000060  6C20                                 LDV,R6   32
          1 000061  BB80 0000 0000  00                   LAB,B3   XFERL66_L6
          1 000064  3C38                                 LDV,R3   56
          1 000065  7C18                                 LDV,R7   24
          1 000066  D380 0000 0000  xent                 LNJ,B5   X6B_BLR

      959      370    1      XFERL66_L6.XFER.A6 = GI_ADDR;

    370   1 000069  8C80 0000 0016  00                   LDI      GI_ADDR
          1 00006C  7089                                 DOL,R7   9
          1 00006D  8D47 0014                            SDI      I+1,AUTO
          1 00006F  ABC7 0014                            LAB,B2   I+1,AUTO
          1 000071  2C00                                 LDV,R2   0
          1 000072  6C20                                 LDV,R6   32
          1 000073  BB80 0000 0000  00                   LAB,B3   XFERL66_L6
          1 000076  3C59                                 LDV,R3   89
          1 000077  7C17                                 LDV,R7   23
          1 000078  D380 0000 0000  xent                 LNJ,B5   X6B_BLR

      960      371    1      XFERL66_L6.XFER.TALLY = 1;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:166  

    371   1 00007B  6C01                                 LDV,R6   1
          1 00007C  EF00 0000 0002  00                   STR,R6   XFERL66_L6+2

      961      372    1      CALL COUPLER_IO(XFERL66_L6) ALTRET(FREEZE);

    372   1 00007F  EB80 0000 0000  00                   LAB,B6   XFERL66_L6
          1 000082  EFC7 0010                            STB,B6   WDSLEFT+4,AUTO
          1 000084  E3C0 0238                            LNJ,B6   s:0,PREL
          1 000086       0155                            DC       s:408,PREL

      962      373    1      GI_BOOTBASE = GI_L66WD.L6DBLWD + 2 * %QHDRSIZE;

    373   1 000087  8C80 0000 0018  00                   LDI      GI_L66WD
          1 00008A  8470 0000 0020                       AID      32,IMO
          1 00008D  8D00 0000 0000  xsym                 SDI      GI_BOOTBASE

      963      374    1      XFERL66_L6.XFER.A66 = %QSIZOFFSET + GI_L66WD.L6DBLWD + %QHDRSIZE;

    374   1 000090  8C80 0000 0018  00                   LDI      GI_L66WD
          1 000093  8470 0000 0015                       AID      21,IMO
          1 000096  7088                                 DOL,R7   8
          1 000097  8D47 0014                            SDI      I+1,AUTO
          1 000099  ABC7 0014                            LAB,B2   I+1,AUTO
          1 00009B  2C00                                 LDV,R2   0
          1 00009C  6C20                                 LDV,R6   32
          1 00009D  BB80 0000 0000  00                   LAB,B3   XFERL66_L6
          1 0000A0  3C38                                 LDV,R3   56
          1 0000A1  7C18                                 LDV,R7   24
          1 0000A2  D380 0000 0000  xent                 LNJ,B5   X6B_BLR

      964      375    1      CALL COUPLER_IO(XFERL66_L6) ALTRET(FREEZE);

    375   1 0000A5  EB80 0000 0000  00                   LAB,B6   XFERL66_L6
          1 0000A8  EFC7 0010                            STB,B6   WDSLEFT+4,AUTO
          1 0000AA  E3C0 0212                            LNJ,B6   s:0,PREL
          1 0000AC       012F                            DC       s:408,PREL
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:167  

      965      376    1      GI_BOOTBASE = GI_BOOTBASE + GI_L66WD.L6DBLWD + 1;

    376   1 0000AD  8C80 0000 0000  xsym                 LDI      GI_BOOTBASE
          1 0000B0  8400 0000 0018  00                   AID      GI_L66WD
          1 0000B3  8470 0000 0001                       AID      1,IMO
          1 0000B6  8D00 0000 0000  xsym                 SDI      GI_BOOTBASE

      966      377    1      IF GI_BOOTBASE < %BITBIN('2001'X)

    377   1 0000B9  84F0 0000 2001                       SID      8193,IMO
          1 0000BC  0601 0007                            BCT      s:380,PREL

      967      378    1      THEN
      968      379    1           GI_BOOTBASE = %BITBIN('2001'X);

    379   1 0000BE  8CF0 0000 2001                       LDI      8193,IMO
          1 0000C1  8D00 0000 0000  xsym                 SDI      GI_BOOTBASE

      969      380    1      XFERL66_L6.XFER.A66 = %FEXOFFSET;

    380   1 0000C4  8CF0 0000 0003                       LDI      3,IMO
          1 0000C7  7088                                 DOL,R7   8
          1 0000C8  8D47 0014                            SDI      I+1,AUTO
          1 0000CA  ABC7 0014                            LAB,B2   I+1,AUTO
          1 0000CC  2C00                                 LDV,R2   0
          1 0000CD  6C20                                 LDV,R6   32
          1 0000CE  BB80 0000 0000  00                   LAB,B3   XFERL66_L6
          1 0000D1  3C38                                 LDV,R3   56
          1 0000D2  7C18                                 LDV,R7   24
          1 0000D3  D380 0000 0000  xent                 LNJ,B5   X6B_BLR

      970      381    1      XFERL66_L6.XFER.MODE = %GH#CTM_ASCII;

    381   1 0000D6  6C01                                 LDV,R6   1
          1 0000D7  EA80 0000 0001  00                   SRM,R6,'00FF'X    XFERL66_L6+1
          1 0000DA       00FF
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:168  

      971      382    1      XFERL66_L6.XFER.TALLY = 4;

    382   1 0000DB  5C04                                 LDV,R5   4
          1 0000DC  DF00 0000 0002  00                   STR,R5   XFERL66_L6+2

      972      383    1      CALL COUPLER_IO(XFERL66_L6) ALTRET(FREEZE);

    383   1 0000DF  EB80 0000 0000  00                   LAB,B6   XFERL66_L6
          1 0000E2  EFC7 0010                            STB,B6   WDSLEFT+4,AUTO
          1 0000E4  E3C0 01D8                            LNJ,B6   s:0,PREL
          1 0000E6       00F5                            DC       s:408,PREL

      973      384    1      GI_FEX = GI_L66WD.L6DBLWD;

    384   1 0000E7  8C80 0000 0018  00                   LDI      GI_L66WD
          1 0000EA  8D00 0000 001B  00                   SDI      GI_FEX

      974      385    1      XFERL66_L6.XFER.A66=GI_BOOTBASE+%K4; /* Already have first 8K              */

    385   1 0000ED  8C80 0000 0000  xsym                 LDI      GI_BOOTBASE
          1 0000F0  8470 0000 1000                       AID      4096,IMO
          1 0000F3  7088                                 DOL,R7   8
          1 0000F4  8D47 0014                            SDI      I+1,AUTO
          1 0000F6  ABC7 0014                            LAB,B2   I+1,AUTO
          1 0000F8  2C00                                 LDV,R2   0
          1 0000F9  6C20                                 LDV,R6   32
          1 0000FA  BB80 0000 0000  00                   LAB,B3   XFERL66_L6
          1 0000FD  3C38                                 LDV,R3   56
          1 0000FE  7C18                                 LDV,R7   24
          1 0000FF  D380 0000 0000  xent                 LNJ,B5   X6B_BLR

      975      386    1      XFERL66_L6.XFER.A6=%K8;

    386   1 000102  8CF0 0000 2000                       LDI      8192,IMO
          1 000105  7089                                 DOL,R7   9
          1 000106  8D47 0014                            SDI      I+1,AUTO
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:169  
          1 000108  ABC7 0014                            LAB,B2   I+1,AUTO
          1 00010A  2C00                                 LDV,R2   0
          1 00010B  6C20                                 LDV,R6   32
          1 00010C  BB80 0000 0000  00                   LAB,B3   XFERL66_L6
          1 00010F  3C59                                 LDV,R3   89
          1 000110  7C17                                 LDV,R7   23
          1 000111  D380 0000 0000  xent                 LNJ,B5   X6B_BLR

      976      387    1      XFERL66_L6.XFER.TALLY=0;

    387   1 000114  8700 0000 0002  00                   CL       XFERL66_L6+2

      977      388    1      WDSLEFT=POFFW(ADDR(GIT$TOP),ADDR(GIR$ROOT))-%K8;

    388   1 000117  EB80 0000 0000  xsym                 LAB,B6   GIR$ROOT
          1 00011A  EFC7 0014                            STB,B6   I+1,AUTO
          1 00011C  DB80 0000 0000  xsym                 LAB,B5   GIT$TOP
          1 00011F  DFC7 0016                            STB,B5   I+3,AUTO
          1 000121  8CC7 0016                            LDI      I+3,AUTO
          1 000123  84C7 0014                            SID      I+1,AUTO
          1 000125  8470 FFFF E000                       AID      -8192,IMO
          1 000128  8D47 000C                            SDI      WDSLEFT,AUTO

      978      389    2      DO WHILE(WDSLEFT>0);

    389   1 00012A  84F0 0000 0000                       SID      0,IMO
          1 00012D  6801 005B                            BLZ,R6   s:400,PREL
          1 00012F  6A01 0003                            BGZ,R6   s:390,PREL
          1 000131  7901 0057                            BEZ,R7   s:400,PREL

      979      390    2           IF WDSLEFT<%K32 THEN

    390   1 000133  8CC7 000C                            LDI      WDSLEFT,AUTO
          1 000135  84F0 0000 8000                       SID      32768,IMO
          1 000138  6881 0008                            BGEZ,R6  s:392,PREL

      980      391    2                XFERL66_L6.XFER.TALLY=WDSLEFT*2;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:170  

    391   1 00013A  8CC7 000C                            LDI      WDSLEFT,AUTO
          1 00013C  7081                                 DOL,R7   1
          1 00013D  E857                                 LDR,R6   R7
          1 00013E  EF00 0000 0002  00                   STR,R6   XFERL66_L6+2

      981      392    2           CALL COUPLER_IO(XFERL66_L6) ALTRET(FREEZE);

    392   1 000141  EB80 0000 0000  00                   LAB,B6   XFERL66_L6
          1 000144  EFC7 0010                            STB,B6   WDSLEFT+4,AUTO
          1 000146  E3C0 0176                            LNJ,B6   s:0,PREL
          1 000148       0093                            DC       s:408,PREL

      982      393    2           WDSLEFT=WDSLEFT-%K32;

    393   1 000149  8CC7 000C                            LDI      WDSLEFT,AUTO
          1 00014B  8470 FFFF 8000                       AID      -32768,IMO
          1 00014E  8D47 000C                            SDI      WDSLEFT,AUTO

      983      394    2           XFERL66_L6.XFER.A66=XFERL66_L6.XFER.A66+%K16;

    394   1 000150  8C80 0000 0003  00                   LDI      XFERL66_L6+3
          1 000153  E570 00FF                            AND,R6   255,IMO
          1 000155  8470 0000 4000                       AID      16384,IMO
          1 000158  7088                                 DOL,R7   8
          1 000159  8D47 0014                            SDI      I+1,AUTO
          1 00015B  ABC7 0014                            LAB,B2   I+1,AUTO
          1 00015D  2C00                                 LDV,R2   0
          1 00015E  6C20                                 LDV,R6   32
          1 00015F  BB80 0000 0000  00                   LAB,B3   XFERL66_L6
          1 000162  3C38                                 LDV,R3   56
          1 000163  7C18                                 LDV,R7   24
          1 000164  D380 0000 0000  xent                 LNJ,B5   X6B_BLR

      984      395    2           XFERL66_L6.XFER.A6=XFERL66_L6.XFER.A6+%K32;

    395   1 000167  8C80 0000 0005  00                   LDI      XFERL66_L6+5
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:171  
          1 00016A  E570 007F                            AND,R6   127,IMO
          1 00016C  8470 0000 8000                       AID      32768,IMO
          1 00016F  7089                                 DOL,R7   9
          1 000170  8D47 0014                            SDI      I+1,AUTO
          1 000172  ABC7 0014                            LAB,B2   I+1,AUTO
          1 000174  2C00                                 LDV,R2   0
          1 000175  6C20                                 LDV,R6   32
          1 000176  BB80 0000 0000  00                   LAB,B3   XFERL66_L6
          1 000179  3C59                                 LDV,R3   89
          1 00017A  7C17                                 LDV,R7   23
          1 00017B  D380 0000 0000  xent                 LNJ,B5   X6B_BLR

      985      396    2           END;

    396   1 00017E  8CC7 000C                            LDI      WDSLEFT,AUTO
          1 000180  84F0 0000 0000                       SID      0,IMO
          1 000183  6A01 FFAF                            BGZ,R6   s:390,PREL
          1 000185  6801 0003                            BLZ,R6   s:400,PREL
          1 000187  7981 FFAB                            BNEZ,R7  s:390,PREL

      986      397        /**/
      987      398        /* Now get the boot offsets */
      988      399        /**/
      989      400    1      XFERL66_L6.XFER.A66=GI_OFFSETS+GI_BOOTBASE;

    400   1 000189  8C80 0000 0000  xsym                 LDI      GI_OFFSETS
          1 00018C  8400 0000 0000  xsym                 AID      GI_BOOTBASE
          1 00018F  7088                                 DOL,R7   8
          1 000190  8D47 0014                            SDI      I+1,AUTO
          1 000192  ABC7 0014                            LAB,B2   I+1,AUTO
          1 000194  2C00                                 LDV,R2   0
          1 000195  6C20                                 LDV,R6   32
          1 000196  BB80 0000 0000  00                   LAB,B3   XFERL66_L6
          1 000199  3C38                                 LDV,R3   56
          1 00019A  7C18                                 LDV,R7   24
          1 00019B  D380 0000 0000  xent                 LNJ,B5   X6B_BLR

PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:172  
      990      401    1      XFERL66_L6.XFER.A6=POFFW(GI$OFFSETS$,ADDR(GIR$ROOT));

    401   1 00019E  EB80 0000 0000  xsym                 LAB,B6   GIR$ROOT
          1 0001A1  EFC7 0014                            STB,B6   I+1,AUTO
          1 0001A3  8C80 0000 0000  xsym                 LDI      GI$OFFSETS$
          1 0001A6  84C7 0014                            SID      I+1,AUTO
          1 0001A8  7089                                 DOL,R7   9
          1 0001A9  8D47 0016                            SDI      I+3,AUTO
          1 0001AB  ABC7 0014                            LAB,B2   I+1,AUTO
          1 0001AD  2C20                                 LDV,R2   32
          1 0001AE  6C20                                 LDV,R6   32
          1 0001AF  BB80 0000 0000  00                   LAB,B3   XFERL66_L6
          1 0001B2  3C59                                 LDV,R3   89
          1 0001B3  7C17                                 LDV,R7   23
          1 0001B4  D380 0000 0000  xent                 LNJ,B5   X6B_BLR

      991      402    1      XFERL66_L6.XFER.TALLY=SIZEC(GI$OFFSETS);

    402   1 0001B7  6C60                                 LDV,R6   96
          1 0001B8  EF00 0000 0002  00                   STR,R6   XFERL66_L6+2

      992      403    1      CALL COUPLER_IO(XFERL66_L6) ALTRET(FREEZE);

    403   1 0001BB  EB80 0000 0000  00                   LAB,B6   XFERL66_L6
          1 0001BE  EFC7 0010                            STB,B6   WDSLEFT+4,AUTO
          1 0001C0  E3C0 00FC                            LNJ,B6   s:0,PREL
          1 0001C2       0019                            DC       s:408,PREL

      993      404    1      XFERL66_L6.XFER.TALLY = SIZEC(GI$OFFSETS) + (GI$OFFSETS.NHANDLERS-1)*SIZEC(
               404               GI$OFFSETS.HANDLER);

    404   1 0001C3  EC80 0000 0000  xsym                 LDB,B6   GI$OFFSETS$
          1 0001C6  8CC6 002C                            LDI      44,B6
          1 0001C8  7082                                 DOL,R7   2
          1 0001C9  8470 0000 005C                       AID      92,IMO
          1 0001CC  E857                                 LDR,R6   R7
          1 0001CD  EF00 0000 0002  00                   STR,R6   XFERL66_L6+2
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:173  

      994      405    1      CALL COUPLER_IO (XFERL66_L6) ALTRET(FREEZE);

    405   1 0001D0  DB80 0000 0000  00                   LAB,B5   XFERL66_L6
          1 0001D3  DFC7 0010                            STB,B5   WDSLEFT+4,AUTO
          1 0001D5  E3C0 00E7                            LNJ,B6   s:0,PREL
          1 0001D7       0004                            DC       s:408,PREL

      995      406    1      RETURN;                              /* FOR NOW                            */

    406   1 0001D8  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

      996      407        /**/
      997      408    1   FREEZE: CALL GHH$HLT;

    408   1 0001DB  CBF0 0000            FREEZE          LAB,B4   0,IMO
          1 0001DD  E380 0000 0000  xent                 LNJ,B6   GHH$HLT
          1 0001E0       0001                            DC       s:408+6,PREL
          1 0001E1  0F81 0006                            B        s:411,PREL

      998      409        %EJECT;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:174  
      999      410    1   GIB$READCPLR: ENTRY(A66,A6,WORDSIZE);

    410   1 0001E3  D380 0000 0000  xent GIB$READCPLR    LNJ,B5   X6A_AUTO_3
          1 0001E6       0018 0003                       DC       24,3

     1000      411    1      XFERL66_L6.XFER.A66=A66+GI_BOOTBASE;

    411   1 0001E8  ECC7 0004                            LDB,B6   @A66,AUTO
          1 0001EA  8C86                                 LDI      ,B6
          1 0001EB  8400 0000 0000  xsym                 AID      GI_BOOTBASE
          1 0001EE  7088                                 DOL,R7   8
          1 0001EF  8D47 0014                            SDI      I+1,AUTO
          1 0001F1  ABC7 0014                            LAB,B2   I+1,AUTO
          1 0001F3  2C00                                 LDV,R2   0
          1 0001F4  6C20                                 LDV,R6   32
          1 0001F5  BB80 0000 0000  00                   LAB,B3   XFERL66_L6
          1 0001F8  3C38                                 LDV,R3   56
          1 0001F9  7C18                                 LDV,R7   24
          1 0001FA  D380 0000 0000  xent                 LNJ,B5   X6B_BLR

     1001      412    1      XFERL66_L6.XFER.A6=A6;

    412   1 0001FD  ECC7 0006                            LDB,B6   @A6,AUTO
          1 0001FF  8C86                                 LDI      ,B6
          1 000200  7089                                 DOL,R7   9
          1 000201  8D47 0014                            SDI      I+1,AUTO
          1 000203  ABC7 0014                            LAB,B2   I+1,AUTO
          1 000205  2C00                                 LDV,R2   0
          1 000206  6C20                                 LDV,R6   32
          1 000207  BB80 0000 0000  00                   LAB,B3   XFERL66_L6
          1 00020A  3C59                                 LDV,R3   89
          1 00020B  7C17                                 LDV,R7   23
          1 00020C  D380 0000 0000  xent                 LNJ,B5   X6B_BLR

     1002      413    1      XFERL66_L6.XFER.TALLY=0;

    413   1 00020F  8700 0000 0002  00                   CL       XFERL66_L6+2
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:175  

     1003      414    1      WDSLEFT=WORDSIZE;

    414   1 000212  ECC7 0008                            LDB,B6   @WORDSIZE,AUTO
          1 000214  8C86                                 LDI      ,B6
          1 000215  8D47 000C                            SDI      WDSLEFT,AUTO

     1004      415    2      DO WHILE (WDSLEFT>0);

    415   1 000217  84F0 0000 0000                       SID      0,IMO
          1 00021A  6801 005B                            BLZ,R6   s:423,PREL
          1 00021C  6A01 0003                            BGZ,R6   s:416,PREL
          1 00021E  7901 0057                            BEZ,R7   s:423,PREL

     1005      416    2           IF WDSLEFT<%K32 THEN

    416   1 000220  8CC7 000C                            LDI      WDSLEFT,AUTO
          1 000222  84F0 0000 8000                       SID      32768,IMO
          1 000225  6881 0008                            BGEZ,R6  s:418,PREL

     1006      417    2                XFERL66_L6.XFER.TALLY=WDSLEFT*2;

    417   1 000227  8CC7 000C                            LDI      WDSLEFT,AUTO
          1 000229  7081                                 DOL,R7   1
          1 00022A  E857                                 LDR,R6   R7
          1 00022B  EF00 0000 0002  00                   STR,R6   XFERL66_L6+2

     1007      418    2           CALL COUPLER_IO(XFERL66_L6) ALTRET(FREEZE);

    418   1 00022E  EB80 0000 0000  00                   LAB,B6   XFERL66_L6
          1 000231  EFC7 0010                            STB,B6   WDSLEFT+4,AUTO
          1 000233  E3C0 0089                            LNJ,B6   s:0,PREL
          1 000235       FFA6                            DC       s:408,PREL

     1008      419    2           WDSLEFT=WDSLEFT-%K32;

    419   1 000236  8CC7 000C                            LDI      WDSLEFT,AUTO
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:176  
          1 000238  8470 FFFF 8000                       AID      -32768,IMO
          1 00023B  8D47 000C                            SDI      WDSLEFT,AUTO

     1009      420    2           XFERL66_L6.XFER.A66=XFERL66_L6.XFER.A66+%K16;

    420   1 00023D  8C80 0000 0003  00                   LDI      XFERL66_L6+3
          1 000240  E570 00FF                            AND,R6   255,IMO
          1 000242  8470 0000 4000                       AID      16384,IMO
          1 000245  7088                                 DOL,R7   8
          1 000246  8D47 0014                            SDI      I+1,AUTO
          1 000248  ABC7 0014                            LAB,B2   I+1,AUTO
          1 00024A  2C00                                 LDV,R2   0
          1 00024B  6C20                                 LDV,R6   32
          1 00024C  BB80 0000 0000  00                   LAB,B3   XFERL66_L6
          1 00024F  3C38                                 LDV,R3   56
          1 000250  7C18                                 LDV,R7   24
          1 000251  D380 0000 0000  xent                 LNJ,B5   X6B_BLR

     1010      421    2           XFERL66_L6.XFER.A6=XFERL66_L6.XFER.A6+%K32;

    421   1 000254  8C80 0000 0005  00                   LDI      XFERL66_L6+5
          1 000257  E570 007F                            AND,R6   127,IMO
          1 000259  8470 0000 8000                       AID      32768,IMO
          1 00025C  7089                                 DOL,R7   9
          1 00025D  8D47 0014                            SDI      I+1,AUTO
          1 00025F  ABC7 0014                            LAB,B2   I+1,AUTO
          1 000261  2C00                                 LDV,R2   0
          1 000262  6C20                                 LDV,R6   32
          1 000263  BB80 0000 0000  00                   LAB,B3   XFERL66_L6
          1 000266  3C59                                 LDV,R3   89
          1 000267  7C17                                 LDV,R7   23
          1 000268  D380 0000 0000  xent                 LNJ,B5   X6B_BLR

     1011      422    2           END;

    422   1 00026B  8CC7 000C                            LDI      WDSLEFT,AUTO
          1 00026D  84F0 0000 0000                       SID      0,IMO
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:177  
          1 000270  6A01 FFAF                            BGZ,R6   s:416,PREL
          1 000272  6801 0003                            BLZ,R6   s:423,PREL
          1 000274  7981 FFAB                            BNEZ,R7  s:416,PREL

     1012      423    1      RETURN;

    423   1 000276  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

     1013      424        %EJECT;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:178  
     1014      425    1   GIB$SETADP: ENTRY;

    425   1 000279  D380 0000 0000  xent GIB$SETADP      LNJ,B5   X6A_AUTO_3
          1 00027C       0018 0003                       DC       24,3

     1015      426        /*
     1016      427             if this fep was booted from an 8000 we need to turn on the
     1017      428             adp bit in the coupler.  if there is one.
     1018      429        */
     1019      430    1      GH_IO.CAS.CHN=GI_BOOTCHAN+1;

    430   1 00027E  E800 0000 0000  xsym                 LDR,R6   GI_BOOTCHAN
          1 000281  6E01                                 ADV,R6   1
          1 000282  6006                                 SOL,R6   6
          1 000283  EA80 0000 000D  00                   SRM,R6,'FFC0'X    GH_IO
          1 000286       FFC0

     1020      431    1      GH_IO.CAS.FNC=%GH#IO_OTPCNFA;

    431   1 000287  6C11                                 LDV,R6   17
          1 000288  EA80 0000 000D  00                   SRM,R6,'003F'X    GH_IO
          1 00028B       003F

     1021      432    1      GH_IO.DAS = '2080'X;

    432   1 00028C  D870 2080                            LDR,R5   8320,IMO
          1 00028E  DF00 0000 000E  00                   STR,R5   GH_IO+1

     1022      433    1      CALL DOIO(GH_IO) ALTRET(FREEZE);

    433   1 000291  EB80 0000 000D  00                   LAB,B6   GH_IO
          1 000294  EFC7 0010                            STB,B6   WDSLEFT+4,AUTO
          1 000296  E3C0 00B3                            LNJ,B6   s:0,PREL
          1 000298       FF43                            DC       s:408,PREL

     1023      434    1      RETURN;

PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:179  
    434   1 000299  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

     1024      435        %EJECT;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:180  
     1025      436    1   GIB$INTCPLR: ENTRY;

    436   1 00029C  D380 0000 0000  xent GIB$INTCPLR     LNJ,B5   X6A_AUTO_3
          1 00029F       0018 0003                       DC       24,3

     1026      437
     1027      438    1      GH_IO.CAS.CHN = GI_BOOTCHAN + 2;

    438   1 0002A1  E800 0000 0000  xsym                 LDR,R6   GI_BOOTCHAN
          1 0002A4  6E02                                 ADV,R6   2
          1 0002A5  6006                                 SOL,R6   6
          1 0002A6  EA80 0000 000D  00                   SRM,R6,'FFC0'X    GH_IO
          1 0002A9       FFC0

     1028      439    1      GH_IO.CAS.FNC = %GH#IO_OTPINTCTR;

    439   1 0002AA  6C03                                 LDV,R6   3
          1 0002AB  EA80 0000 000D  00                   SRM,R6,'003F'X    GH_IO
          1 0002AE       003F

     1029      440    1      GH_IO.RANGE = 3;

    440   1 0002AF  EF00 0000 000E  00                   STR,R6   GH_IO+1

     1030      441    1      CALL DOIO (GH_IO);

    441   1 0002B2  EB80 0000 000D  00                   LAB,B6   GH_IO
          1 0002B5  EFC7 0010                            STB,B6   WDSLEFT+4,AUTO
          1 0002B7  E3C0 0092                            LNJ,B6   s:0,PREL
          1 0002B9       0001                            DC       s:442,PREL

     1031      442    1      RETURN;

    442   1 0002BA  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

     1032      443
     1033      444        %EJECT;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:181  
     1034      445    1   COUPLER_IO: PROC(DCWLIST) ALTRET;

    445   1 0002BD  EFC7 000E            COUPLER_IO      STB,B6   WDSLEFT+2,AUTO

     1035      446    2   DCL DCWLIST UBIN;
     1036      447        /**/
     1037      448    2   DCL NAK BIT(1) ALIGNED;
     1038      449    2   DCL I SBIN;
     1039      450    2      EXCDCW.CHN=GI_BOOTCHAN+1;            /* DCW LIST FUNCTION                  */

    450   1 0002BF  E800 0000 0000  xsym                 LDR,R6   GI_BOOTCHAN
          1 0002C2  6E01                                 ADV,R6   1
          1 0002C3  6006                                 SOL,R6   6
          1 0002C4  EA80 0000 0011  00                   SRM,R6,'FFC0'X    EXCDCW
          1 0002C7       FFC0

     1040      451    2      EXCDCW.BUF$=PINCRW(ADDR(DCWLIST),1);

    451   1 0002C8  DCC7 0010                            LDB,B5   @DCWLIST,AUTO
          1 0002CA  CBC5 0001                            LAB,B4   1,B5
          1 0002CC  CF80 0000 0012  00                   STB,B4   EXCDCW+1

     1041      452    2      EXCDCW.BYTX=0;

    452   1 0002CF  8700 0000 0014  00                   CL       EXCDCW+3

     1042      453    2      EXCDCW.BUFSIZE=(DCWLIST-1)*2;

    453   1 0002D2  E805                                 LDR,R6   ,B5
          1 0002D3  6001                                 SOL,R6   1
          1 0002D4  6EFE                                 ADV,R6   -2
          1 0002D5  EF00 0000 0015  00                   STR,R6   EXCDCW+4

     1043      454    2      NAK='1'B;

    454   1 0002D8  8947 0012                            LBT,'8000'X       NAK,AUTO
    454   1 0002DA       8000
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:182  

     1044      455    3      DO WHILE(NAK);

    455   1 0002DB  89C7 0012                            CMZ      NAK,AUTO
          1 0002DD  0881 000F                            BAGE     s:459,PREL

     1045      456    3           CALL GHH$IOLD(EXCDCW) ALTRET(IOLD_NAK);

    456   1 0002DF  BB80 0000 0000  02                   LAB,B3   0
          1 0002E2  CBF0 0100                            LAB,B4   256,IMO
          1 0002E4  E380 0000 0000  xent                 LNJ,B6   GHH$IOLD
          1 0002E7       0003                            DC       s:458,PREL

     1046      457    3           NAK='0'B;

    457   1 0002E8  8747 0012                            CL       NAK,AUTO

     1047      458    3   IOLD_NAK: END;

    458   1 0002EA  89C7 0012            IOLD_NAK        CMZ      NAK,AUTO
          1 0002EC  0873                                 BAL      s:456,SPREL

     1048      459    2      GETSTWD.CAS.CHN=GI_BOOTCHAN;

    459   1 0002ED  E800 0000 0000  xsym                 LDR,R6   GI_BOOTCHAN
          1 0002F0  6006                                 SOL,R6   6
          1 0002F1  EA80 0000 000F  00                   SRM,R6,'FFC0'X    GETSTWD
          1 0002F4       FFC0

     1049      460    2      GETSTWD.CAS.FNC=%GH#IO_INPSTT1;

    460   1 0002F5  6C18                                 LDV,R6   24
          1 0002F6  EA80 0000 000F  00                   SRM,R6,'003F'X    GETSTWD
          1 0002F9       003F

     1050      461    2      NAK='1'B;

PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:183  
    461   1 0002FA  8947 0012                            LBT,'8000'X       NAK,AUTO
    461   1 0002FC       8000

     1051      462    3      DO WHILE(NAK);

    462   1 0002FD  89C7 0012                            CMZ      NAK,AUTO
          1 0002FF  0881 0018                            BAGE     s:468,PREL

     1052      463    4           DO I=0 TO 10000;

    463   1 000301  8747 0013                            CL       I,AUTO

     1053      464    4                END;

    464   1 000303  8AC7 0013                            INC      I,AUTO
          1 000305  E847 0013                            LDR,R6   I,AUTO
          1 000307  E970 2710                            CMR,R6   10000,IMO
          1 000309  0AFA                                 BALE     s:464,SPREL

     1054      465    3           CALL GHH$IO_IN(GETSTWD) ALTRET(ST1_NAK);

    465   1 00030A  BB80 0000 0002  02                   LAB,B3   +2
          1 00030D  CBF0 0100                            LAB,B4   256,IMO
          1 00030F  E380 0000 0000  xent                 LNJ,B6   GHH$IO_IN
          1 000312       0003                            DC       s:467,PREL

     1055      466    3           NAK='0'B;

    466   1 000313  8747 0012                            CL       NAK,AUTO

     1056      467    3   ST1_NAK: END;

    467   1 000315  89C7 0012            ST1_NAK         CMZ      NAK,AUTO
          1 000317  086A                                 BAL      s:463,SPREL

     1057      468    2      STATUS.WD1=GETSTWD.STATUS;

PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:184  
    468   1 000318  E800 0000 0010  00                   LDR,R6   GETSTWD+1
          1 00031B  EF47 000A                            STR,R6   STATUS,AUTO

     1058      469    2      GETSTWD.CAS.FNC=%GH#IO_INPSTT2;

    469   1 00031D  5C1A                                 LDV,R5   26
          1 00031E  DA80 0000 000F  00                   SRM,R5,'003F'X    GETSTWD
          1 000321       003F

     1059      470    2      NAK='1'B;

    470   1 000322  8947 0012                            LBT,'8000'X       NAK,AUTO
    470   1 000324       8000

     1060      471    3      DO WHILE(NAK);

    471   1 000325  89C7 0012                            CMZ      NAK,AUTO
          1 000327  0881 000F                            BAGE     s:475,PREL

     1061      472    3           CALL GHH$IO_IN(GETSTWD) ALTRET(ST2_NAK);

    472   1 000329  BB80 0000 0002  02                   LAB,B3   +2
          1 00032C  CBF0 0100                            LAB,B4   256,IMO
          1 00032E  E380 0000 0000  xent                 LNJ,B6   GHH$IO_IN
          1 000331       0003                            DC       s:474,PREL

     1062      473    3           NAK='0'B;

    473   1 000332  8747 0012                            CL       NAK,AUTO

     1063      474    3   ST2_NAK: END;

    474   1 000334  89C7 0012            ST2_NAK         CMZ      NAK,AUTO
          1 000336  0873                                 BAL      s:472,SPREL

     1064      475    2      STATUS.WD2=GETSTWD.STATUS;

PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:185  
    475   1 000337  E800 0000 0010  00                   LDR,R6   GETSTWD+1
          1 00033A  EF47 000B                            STR,R6   STATUS+1,AUTO

     1065      476    2      IF STATUS.WD1='8000'X THEN

    476   1 00033C  D847 000A                            LDR,R5   STATUS,AUTO
          1 00033E  D970 8000                            CMR,R5   -32768,IMO
          1 000340  0981 0005                            BNE      s:479,PREL

     1066      477    2           RETURN;

    477   1 000342  ECC7 000E                            LDB,B6   WDSLEFT+2,AUTO
          1 000344  C3C6 0001                            LNJ,B4   1,B6

     1067      478    2      ELSE
     1068      479    2           ALTRETURN;

    479   1 000346  ECC7 000E                            LDB,B6   WDSLEFT+2,AUTO
          1 000348  B806                                 LDR,R3   ,B6
          1 000349  C3B6                                 LNJ,B4   ,B6,R3

     1069      480    2   END COUPLER_IO;
     1070      481        %EJECT;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:186  
     1071      482    1   DOIO: PROC(GH_IO) ALTRET;

    482   1 00034A  EFC7 000E            DOIO            STB,B6   WDSLEFT+2,AUTO

     1072      483        %GH_IO (FPTN=GH_IO,STCLASS="");
     1073      499    2   DCL NAK BIT(1) ALIGNED;
     1074      500    2      NAK='1'B;

    500   1 00034C  8947 0012                            LBT,'8000'X       NAK,AUTO
    500   1 00034E       8000

     1075      501    3      DO WHILE(NAK);

    501   1 00034F  89C7 0012                            CMZ      NAK,AUTO
          1 000351  0881 000E                            BAGE     s:505,PREL

     1076      502    3           CALL GHH$IO(GH_IO) ALTRET(NAKED);

    502   1 000353  BBC7 0010                            LAB,B3   @GH_IO,AUTO
          1 000355  CBF0 0100                            LAB,B4   256,IMO
          1 000357  E380 0000 0000  xent                 LNJ,B6   GHH$IO
          1 00035A       0003                            DC       s:504,PREL

     1077      503    3           NAK='0'B;

    503   1 00035B  8747 0012                            CL       NAK,AUTO

     1078      504    3   NAKED:  END;

    504   1 00035D  89C7 0012            NAKED           CMZ      NAK,AUTO
          1 00035F  0874                                 BAL      s:502,SPREL

     1079      505    2      RETURN;

    505   1 000360  ECC7 000E                            LDB,B6   WDSLEFT+2,AUTO
          1 000362  C3C6 0001                            LNJ,B4   1,B6
     1080      506    2   END DOIO;
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:187  
     1081      507    1   END GIB$CPLRIO;
     1082      508        %EOD;

PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:188  
--  Include file information  --

   GI_DATA_M.:E05TOU  is referenced.
   GH_IOFNC_E.:E05TOU  is referenced.
   GH_HARDWARE_M.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is never referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is never referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure GIB$CPLRIO.
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:189  

 **** Variables and constants ****

  ****  Section 000  Data  GIB$CPLRIO

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

    11-0-0/w STRC(80)    r     1 EXCDCW                     F-0-0/w STRC(32)    r     1 GETSTWD
     D-0-0/w STRC(32)    r     1 GH_IO                     16-0-0/w UBIN(32)    r     1 GI_ADDR
    1B-0-0/w UBIN(32)    r     1 GI_FEX                    18-0-0/w STRC        r     1 GI_L66WD
     0-0-0/w STRC(208)   r     1 XFERL66_L6

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     6-0-0/w PTR         r     1 @A6                        4-0-0/w PTR         r     1 @A66
    10-0-0/w PTR         r     1 @DCWLIST                  10-0-0/w PTR         r     1 @GH_IO
     8-0-0/w PTR         r     1 @WORDSIZE                 *0-0-0/w UBIN(32)    r     1 A6
    *0-0-0/w UBIN(32)    r     1 A66                       *0-0-0/w UBIN(16)    r     1 DCWLIST
    *0-0-0/w STRC(32)    r     1 GH_IO                     13-0-0/w SBIN(16)    r     1 I
    12-0-0/w BIT         r     1 NAK                       12-0-0/w BIT         r     1 NAK
     A-0-0/w STRC(32)    r     1 STATUS                     C-0-0/w SBIN(32)    r     1 WDSLEFT
    *0-0-0/w UBIN(32)    r     1 WORDSIZE

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 GI$OFFSETS$                0-0-0/w UBIN(16)    r     1 GIR$ROOT
     0-0-0/w PTR         r     1 GIT$TOP                    0-0-0/w UBIN(32)    r     1 GI_BOOTBASE
     0-0-0/w UBIN(16)    r     1 GI_BOOTCHAN                0-0-0/w UBIN(32)    r     1 GI_OFFSETS

  ****  BASED and DCB variables  ****

PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:190  
  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(768)   r     1 GI$OFFSETS


   Procedure GIB$CPLRIO requires 868 words for executable code.
   Procedure GIB$CPLRIO requires 24 words of local(AUTO) storage.
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:191  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:192  
          MINI XREF LISTING

A6
         9**DCL         6--PROC      410--ENTRY     412>>ASSIGN
A66
         8**DCL         6--PROC      410--ENTRY     411>>ASSIGN
COUPLER_IO
       445**PROC      372--CALL      375--CALL      383--CALL      392--CALL      403--CALL      405--CALL
       418--CALL
DCWLIST IN PROCEDURE COUPLER_IO
       446**DCL       445--PROC      451--ASSIGN    453>>ASSIGN
DOIO
       482**PROC      360--CALL      364--CALL      433--CALL      441--CALL
EXCDCW
       305**DCL       456<>CALL
EXCDCW.BUF$
       306**DCL       451<<ASSIGN
EXCDCW.BUFSIZE
       307**DCL       453<<ASSIGN
EXCDCW.BYTX
       306**DCL       452<<ASSIGN
EXCDCW.CHN
       305**DCL       305--REDEF     450<<ASSIGN
FREEZE
       408**LABEL     360--CALLALT   364--CALLALT   372--CALLALT   375--CALLALT   383--CALLALT   392--CALLALT
       403--CALLALT   405--CALLALT   418--CALLALT   433--CALLALT
GETSTWD
       289**DCL       465<>CALL      472<>CALL
GETSTWD.CAS.CHN
       289**DCL       289--REDEF     459<<ASSIGN
GETSTWD.CAS.FNC
       290**DCL       460<<ASSIGN    469<<ASSIGN
GETSTWD.DAS
       290**DCL       291--REDEF     292--REDEF
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:193  
GETSTWD.STATUS
       292**DCL       468>>ASSIGN    475>>ASSIGN
GHH$HLT
       211**DCL-ENT   408--CALL
GHH$IO
       209**DCL-ENT   502--CALL
GHH$IOLD
       210**DCL-ENT   456--CALL
GHH$IO_IN
       208**DCL-ENT   465--CALL      472--CALL
GH_IO
       273**DCL       360<>CALL      364<>CALL      433<>CALL      441<>CALL
GH_IO.CAS.CHN
       273**DCL       273--REDEF     357<<ASSIGN    361<<ASSIGN    430<<ASSIGN    438<<ASSIGN
GH_IO.CAS.FNC
       274**DCL       358<<ASSIGN    362<<ASSIGN    431<<ASSIGN    439<<ASSIGN
GH_IO.DAS
       274**DCL       275--REDEF     276--REDEF     359<<ASSIGN    363<<ASSIGN    432<<ASSIGN
GH_IO.RANGE
       275**DCL       440<<ASSIGN
GH_IO IN PROCEDURE DOIO
       494**DCL       482--PROC      502<>CALL
GH_IO.CAS.CHN IN PROCEDURE DOIO
       494**DCL       494--REDEF
GH_IO.DAS IN PROCEDURE DOIO
       495**DCL       496--REDEF     497--REDEF
GI$OFFSETS
       332**DCL       402--ASSIGN    404--ASSIGN
GI$OFFSETS.HANDLER
       334**DCL       404--ASSIGN
GI$OFFSETS.NHANDLERS
       334**DCL       404>>ASSIGN
GI$OFFSETS$
       328**DCL       332--IMP-PTR   401>>ASSIGN    404>>ASSIGN
GIR$ROOT
       329**DCL       367--ASSIGN    388--ASSIGN    401--ASSIGN
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:194  
GIT$TOP
       324**DCL       388--ASSIGN
GI_ADDR
       313**DCL       367<<ASSIGN    370>>ASSIGN
GI_BOOTBASE
       326**DCL       373<<ASSIGN    376<<ASSIGN    376>>ASSIGN    377>>IF        379<<ASSIGN    385>>ASSIGN
       400>>ASSIGN    411>>ASSIGN
GI_BOOTCHAN
       325**DCL       357>>ASSIGN    361>>ASSIGN    430>>ASSIGN    438>>ASSIGN    450>>ASSIGN    459>>ASSIGN
GI_FEX
       317**DCL       384<<ASSIGN
GI_L66WD
       314**DCL       367--ASSIGN
GI_L66WD.L6DBLWD
       315**DCL       373>>ASSIGN    374>>ASSIGN    376>>ASSIGN    384>>ASSIGN
GI_OFFSETS
       327**DCL       400>>ASSIGN
I IN PROCEDURE COUPLER_IO
       449**DCL       463<<DOINDEX
IOLD_NAK IN PROCEDURE COUPLER_IO
       458**LABEL     456--CALLALT
NAK IN PROCEDURE COUPLER_IO
       448**DCL       454<<ASSIGN    455>>DOWHILE   457<<ASSIGN    461<<ASSIGN    462>>DOWHILE   466<<ASSIGN
       470<<ASSIGN    471>>DOWHILE   473<<ASSIGN
NAK IN PROCEDURE DOIO
       499**DCL       500<<ASSIGN    501>>DOWHILE   503<<ASSIGN
NAKED IN PROCEDURE DOIO
       504**LABEL     502--CALLALT
ST1_NAK IN PROCEDURE COUPLER_IO
       467**LABEL     465--CALLALT
ST2_NAK IN PROCEDURE COUPLER_IO
       474**LABEL     472--CALLALT
STATUS.WD1
       311**DCL       468<<ASSIGN    476>>IF
STATUS.WD2
       312**DCL       475<<ASSIGN
PL6.E3A0      #002=GIB$CPLRIO File=GIB$BIGFOOT.:E05TSI                           TUE 07/29/97 21:43 Page:195  
WDSLEFT
       322**DCL       388<<ASSIGN    389>>DOWHILE   390>>IF        391>>ASSIGN    393<<ASSIGN    393>>ASSIGN
       414<<ASSIGN    415>>DOWHILE   416>>IF        417>>ASSIGN    419<<ASSIGN    419>>ASSIGN
WORDSIZE
        10**DCL         6--PROC      410--ENTRY     414>>ASSIGN
XFERL66_L6
       214**DCL       215--DCLINIT   372<>CALL      375<>CALL      383<>CALL      392<>CALL      403<>CALL
       405<>CALL      418<>CALL
XFERL66_L6.XFER.A6
       237**DCL       370<<ASSIGN    386<<ASSIGN    395<<ASSIGN    395>>ASSIGN    401<<ASSIGN    412<<ASSIGN
       421<<ASSIGN    421>>ASSIGN
XFERL66_L6.XFER.A66
       235**DCL       369<<ASSIGN    374<<ASSIGN    380<<ASSIGN    385<<ASSIGN    394<<ASSIGN    394>>ASSIGN
       400<<ASSIGN    411<<ASSIGN    420<<ASSIGN    420>>ASSIGN
XFERL66_L6.XFER.MODE
       233**DCL       368<<ASSIGN    381<<ASSIGN
XFERL66_L6.XFER.TALLY
       234**DCL       371<<ASSIGN    382<<ASSIGN    387<<ASSIGN    391<<ASSIGN    402<<ASSIGN    404<<ASSIGN
       413<<ASSIGN    417<<ASSIGN

PL6.E3A0      #003=GIB$DISKBOOT File=GIB$BIGFOOT.:E05TSI                         TUE 07/29/97 21:43 Page:196  
     1083        1        /*T***********************************************************/
     1084        2        /*T*                                                         */
     1085        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     1086        4        /*T*                                                         */
     1087        5        /*T***********************************************************/
     1088        6        /*F*    Name: GIB$DISKBOOT
     1089        7                Description:
     1090        8                   The disk bootstrap loader reads the first 8K of Bigfoot
     1091        9                into memory.  GID$DISKBOOT read in the remainder of Bigfoot
     1092       10                and the offsets table.
     1093       11        */
     1094       12
     1095       13        GIB$DISKBOOT: PROC;
     1096       14
     1097       15        %INCLUDE GI_DATA_M;
     1098       43
     1099       44        %GI$OFFSETS (FPTN=GI$OFFSETS,STCLASS="BASED(GI$OFFSETS$)");
     1100       49
     1101       50    1   DCL GI_BOOTBASE UBIN(32) SYMREF;
     1102       51    1   DCL GI_OFFSETS UBIN(32) SYMREF;
     1103       52    1   DCL GID_BOOTCHAN UBIN SYMREF;
     1104       53    1   DCL GI_BOOTCHAN UBIN SYMREF;
     1105       54    1   DCL GIT$TOP PTR SYMREF;
     1106       55    1   DCL GIR$ROOT UBIN WORD SYMREF;
     1107       56    1   DCL GI$OFFSETS$ PTR SYMREF;
     1108       57
     1109       58    1   DCL A66 UBIN(32);
     1110       59    1   DCL A6 UBIN(32);
     1111       60    1   DCL WORDS UBIN(32);
     1112       61
     1113       62    1   DCL GID$RDBOOT ENTRY(3);
     1114       63
     1115       64        %EQU K1=1024;
     1116       65        %EQU K2=2048;
     1117       66        %EQU K4=4096;
     1118       67        %EQU K8=8192;
     1119       68        %EQU K16=16384;
PL6.E3A0      #003=GIB$DISKBOOT File=GIB$BIGFOOT.:E05TSI                         TUE 07/29/97 21:43 Page:197  
     1120       69        %EQU K32=32768;
     1121       70        %EQU K64=65536;
     1122       71
     1123       72        %EJECT;
PL6.E3A0      #003=GIB$DISKBOOT File=GIB$BIGFOOT.:E05TSI                         TUE 07/29/97 21:43 Page:198  
     1124       73
     1125       74        /* Set up channel so GID knows about it. */
     1126       75    1      GID_BOOTCHAN = GI_BOOTCHAN;
     1127       76
     1128       77    1      A66=GI_BOOTBASE+%K4;
     1129       78    1      A6=%K8;
     1130       79    1      WORDS=POFFW(ADDR(GIT$TOP),ADDR(GIR$ROOT))-%K8;
     1131       80    1      CALL GID$RDBOOT(A66,A6,WORDS);
     1132       81
     1133       82    1      A66=GI_OFFSETS+GI_BOOTBASE;
     1134       83    1      A6=POFFW(GI$OFFSETS$,ADDR(GIR$ROOT));
     1135       84    1      WORDS=SIZEW(GI$OFFSETS);
     1136       85    1      CALL GID$RDBOOT(A66,A6,WORDS);
     1137       86    1      WORDS = SIZEW(GI$OFFSETS) + (GI$OFFSETS.NHANDLERS-1)*SIZEW(GI$OFFSETS.HANDLER);
     1138       87    1      CALL GID$RDBOOT(A66,A6,WORDS);
     1139       88
     1140       89    1      RETURN;
     1141       90
     1142       91    1   END GIB$DISKBOOT;

PL6.E3A0      #003=GIB$DISKBOOT File=GIB$BIGFOOT.:E05TSI                         TUE 07/29/97 21:43 Page:199  
--  Include file information  --

   GI_DATA_M.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is never referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is never referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure GIB$DISKBOOT.

   Procedure GIB$DISKBOOT requires 142 words for executable code.
   Procedure GIB$DISKBOOT requires 16 words of local(AUTO) storage.

    No errors detected in file GIB$BIGFOOT.:E05TSI    .

PL6.E3A0      #003=GIB$DISKBOOT File=GIB$BIGFOOT.:E05TSI                         TUE 07/29/97 21:43 Page:200  

 Object Unit name= GIB$DISKBOOT                               File name= GIB$BIGFOOT.:E05TOU
 UTS= JUL 29 '97 21:43:51.04 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_LCP6_SYSTEM                               Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size HexSiz  Section name
    0   Proc  even  none   142     8E  GIB$DISKBOOT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect HexLoc Primary Altret sequence   type   Parms  Name
     0      0   yes            yes      Std        0  GIB$DISKBOOT

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       3 GID$RDBOOT
                       nStd      0 X6A_AUTO_0
                       nStd      0 X6A_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     GI_BOOTBASE                           GI_OFFSETS                            GID_BOOTCHAN
     GI_BOOTCHAN                           GIT$TOP                               GIR$ROOT
     GI$OFFSETS$                      r    G$ROS$
PL6.E3A0      #003=GIB$DISKBOOT File=GIB$BIGFOOT.:E05TSI                         TUE 07/29/97 21:43 Page:201  


     1083        1        /*T***********************************************************/
     1084        2        /*T*                                                         */
     1085        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     1086        4        /*T*                                                         */
     1087        5        /*T***********************************************************/
     1088        6        /*F*    Name: GIB$DISKBOOT
     1089        7                Description:
     1090        8                   The disk bootstrap loader reads the first 8K of Bigfoot
     1091        9                into memory.  GID$DISKBOOT read in the remainder of Bigfoot
     1092       10                and the offsets table.
     1093       11        */
     1094       12
     1095       13        GIB$DISKBOOT: PROC;

     13   0 000000  D380 0000 0000  xent GIB$DISKBOOT    LNJ,B5   X6A_AUTO_0
          0 000003       0010 0000                       DC       16,0

     1096       14
     1097       15        %INCLUDE GI_DATA_M;
     1098       43
     1099       44        %GI$OFFSETS (FPTN=GI$OFFSETS,STCLASS="BASED(GI$OFFSETS$)");
     1100       49
     1101       50    1   DCL GI_BOOTBASE UBIN(32) SYMREF;
     1102       51    1   DCL GI_OFFSETS UBIN(32) SYMREF;
     1103       52    1   DCL GID_BOOTCHAN UBIN SYMREF;
     1104       53    1   DCL GI_BOOTCHAN UBIN SYMREF;
     1105       54    1   DCL GIT$TOP PTR SYMREF;
     1106       55    1   DCL GIR$ROOT UBIN WORD SYMREF;
     1107       56    1   DCL GI$OFFSETS$ PTR SYMREF;
     1108       57
     1109       58    1   DCL A66 UBIN(32);
     1110       59    1   DCL A6 UBIN(32);
     1111       60    1   DCL WORDS UBIN(32);
     1112       61
     1113       62    1   DCL GID$RDBOOT ENTRY(3);
     1114       63
PL6.E3A0      #003=GIB$DISKBOOT File=GIB$BIGFOOT.:E05TSI                         TUE 07/29/97 21:43 Page:202  
     1115       64        %EQU K1=1024;
     1116       65        %EQU K2=2048;
     1117       66        %EQU K4=4096;
     1118       67        %EQU K8=8192;
     1119       68        %EQU K16=16384;
     1120       69        %EQU K32=32768;
     1121       70        %EQU K64=65536;
     1122       71
     1123       72        %EJECT;
PL6.E3A0      #003=GIB$DISKBOOT File=GIB$BIGFOOT.:E05TSI                         TUE 07/29/97 21:43 Page:203  
     1124       73
     1125       74        /* Set up channel so GID knows about it. */
     1126       75    1      GID_BOOTCHAN = GI_BOOTCHAN;

     75   0 000005  E800 0000 0000  xsym                 LDR,R6   GI_BOOTCHAN
          0 000008  EF00 0000 0000  xsym                 STR,R6   GID_BOOTCHAN

     1127       76
     1128       77    1      A66=GI_BOOTBASE+%K4;

     77   0 00000B  8C80 0000 0000  xsym                 LDI      GI_BOOTBASE
          0 00000E  8470 0000 1000                       AID      4096,IMO
          0 000011  8D47 0004                            SDI      A66,AUTO

     1129       78    1      A6=%K8;

     78   0 000013  8CF0 0000 2000                       LDI      8192,IMO
          0 000016  8D47 0006                            SDI      A6,AUTO

     1130       79    1      WORDS=POFFW(ADDR(GIT$TOP),ADDR(GIR$ROOT))-%K8;

     79   0 000018  EB80 0000 0000  xsym                 LAB,B6   GIR$ROOT
          0 00001B  EFC7 000A                            STB,B6   WORDS+2,AUTO
          0 00001D  DB80 0000 0000  xsym                 LAB,B5   GIT$TOP
          0 000020  DFC7 000C                            STB,B5   WORDS+4,AUTO
          0 000022  8CC7 000C                            LDI      WORDS+4,AUTO
          0 000024  84C7 000A                            SID      WORDS+2,AUTO
          0 000026  8470 FFFF E000                       AID      -8192,IMO
          0 000029  8D47 0008                            SDI      WORDS,AUTO

     1131       80    1      CALL GID$RDBOOT(A66,A6,WORDS);

     80   0 00002B  CBC7 0008                            LAB,B4   WORDS,AUTO
          0 00002D  CFC7 000E                            STB,B4   WORDS+6,AUTO
          0 00002F  BBC7 0006                            LAB,B3   A6,AUTO
          0 000031  BFC7 000C                            STB,B3   WORDS+4,AUTO
          0 000033  DBC7 0004                            LAB,B5   A66,AUTO
PL6.E3A0      #003=GIB$DISKBOOT File=GIB$BIGFOOT.:E05TSI                         TUE 07/29/97 21:43 Page:204  
          0 000035  DFC7 000A                            STB,B5   WORDS+2,AUTO
          0 000037  BBC7 000A                            LAB,B3   WORDS+2,AUTO
          0 000039  CBF0 0300                            LAB,B4   768,IMO
          0 00003B  E380 0000 0000  xent                 LNJ,B6   GID$RDBOOT
          0 00003E       0001                            DC       s:82,PREL

     1132       81
     1133       82    1      A66=GI_OFFSETS+GI_BOOTBASE;

     82   0 00003F  8C80 0000 0000  xsym                 LDI      GI_OFFSETS
          0 000042  8400 0000 0000  xsym                 AID      GI_BOOTBASE
          0 000045  8D47 0004                            SDI      A66,AUTO

     1134       83    1      A6=POFFW(GI$OFFSETS$,ADDR(GIR$ROOT));

     83   0 000047  EB80 0000 0000  xsym                 LAB,B6   GIR$ROOT
          0 00004A  EFC7 000A                            STB,B6   WORDS+2,AUTO
          0 00004C  8C80 0000 0000  xsym                 LDI      GI$OFFSETS$
          0 00004F  84C7 000A                            SID      WORDS+2,AUTO
          0 000051  8D47 0006                            SDI      A6,AUTO

     1135       84    1      WORDS=SIZEW(GI$OFFSETS);

     84   0 000053  8CF0 0000 0030                       LDI      48,IMO
          0 000056  8D47 0008                            SDI      WORDS,AUTO

     1136       85    1      CALL GID$RDBOOT(A66,A6,WORDS);

     85   0 000058  DBC7 0008                            LAB,B5   WORDS,AUTO
          0 00005A  DFC7 000E                            STB,B5   WORDS+6,AUTO
          0 00005C  CBC7 0006                            LAB,B4   A6,AUTO
          0 00005E  CFC7 000C                            STB,B4   WORDS+4,AUTO
          0 000060  BBC7 0004                            LAB,B3   A66,AUTO
          0 000062  BFC7 000A                            STB,B3   WORDS+2,AUTO
          0 000064  BBC7 000A                            LAB,B3   WORDS+2,AUTO
          0 000066  CBF0 0300                            LAB,B4   768,IMO
          0 000068  E380 0000 0000  xent                 LNJ,B6   GID$RDBOOT
PL6.E3A0      #003=GIB$DISKBOOT File=GIB$BIGFOOT.:E05TSI                         TUE 07/29/97 21:43 Page:205  
          0 00006B       0001                            DC       s:86,PREL

     1137       86    1      WORDS = SIZEW(GI$OFFSETS) + (GI$OFFSETS.NHANDLERS-1)*SIZEW(GI$OFFSETS.HANDLER);

     86   0 00006C  EC80 0000 0000  xsym                 LDB,B6   GI$OFFSETS$
          0 00006F  8CC6 002C                            LDI      44,B6
          0 000071  7081                                 DOL,R7   1
          0 000072  8470 0000 002E                       AID      46,IMO
          0 000075  8D47 0008                            SDI      WORDS,AUTO

     1138       87    1      CALL GID$RDBOOT(A66,A6,WORDS);

     87   0 000077  DBC7 0008                            LAB,B5   WORDS,AUTO
          0 000079  DFC7 000E                            STB,B5   WORDS+6,AUTO
          0 00007B  CBC7 0006                            LAB,B4   A6,AUTO
          0 00007D  CFC7 000C                            STB,B4   WORDS+4,AUTO
          0 00007F  BBC7 0004                            LAB,B3   A66,AUTO
          0 000081  BFC7 000A                            STB,B3   WORDS+2,AUTO
          0 000083  BBC7 000A                            LAB,B3   WORDS+2,AUTO
          0 000085  CBF0 0300                            LAB,B4   768,IMO
          0 000087  E380 0000 0000  xent                 LNJ,B6   GID$RDBOOT
          0 00008A       0001                            DC       s:89,PREL

     1139       88
     1140       89    1      RETURN;

     89   0 00008B  C380 0000 0000  xent                 LNJ,B4   X6A_ARET
     1141       90
     1142       91    1   END GIB$DISKBOOT;

PL6.E3A0      #003=GIB$DISKBOOT File=GIB$BIGFOOT.:E05TSI                         TUE 07/29/97 21:43 Page:206  
--  Include file information  --

   GI_DATA_M.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is never referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is never referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure GIB$DISKBOOT.
PL6.E3A0      #003=GIB$DISKBOOT File=GIB$BIGFOOT.:E05TSI                         TUE 07/29/97 21:43 Page:207  

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     6-0-0/w UBIN(32)    r     1 A6                         4-0-0/w UBIN(32)    r     1 A66
     8-0-0/w UBIN(32)    r     1 WORDS

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 GI$OFFSETS$                0-0-0/w UBIN(16)    r     1 GID_BOOTCHAN
     0-0-0/w UBIN(16)    r     1 GIR$ROOT                   0-0-0/w PTR         r     1 GIT$TOP
     0-0-0/w UBIN(32)    r     1 GI_BOOTBASE                0-0-0/w UBIN(16)    r     1 GI_BOOTCHAN
     0-0-0/w UBIN(32)    r     1 GI_OFFSETS

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(768)   r     1 GI$OFFSETS


   Procedure GIB$DISKBOOT requires 142 words for executable code.
   Procedure GIB$DISKBOOT requires 16 words of local(AUTO) storage.

    No errors detected in file GIB$BIGFOOT.:E05TSI    .
PL6.E3A0      #003=GIB$DISKBOOT File=GIB$BIGFOOT.:E05TSI                         TUE 07/29/97 21:43 Page:208  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #003=GIB$DISKBOOT File=GIB$BIGFOOT.:E05TSI                         TUE 07/29/97 21:43 Page:209  
          MINI XREF LISTING

A6
        59**DCL        78<<ASSIGN     80<>CALL       83<<ASSIGN     85<>CALL       87<>CALL
A66
        58**DCL        77<<ASSIGN     80<>CALL       82<<ASSIGN     85<>CALL       87<>CALL
GI$OFFSETS
        45**DCL        84--ASSIGN     86--ASSIGN
GI$OFFSETS.HANDLER
        47**DCL        86--ASSIGN
GI$OFFSETS.NHANDLERS
        47**DCL        86>>ASSIGN
GI$OFFSETS$
        56**DCL        45--IMP-PTR    83>>ASSIGN     86>>ASSIGN
GID$RDBOOT
        62**DCL-ENT    80--CALL       85--CALL       87--CALL
GID_BOOTCHAN
        52**DCL        75<<ASSIGN
GIR$ROOT
        55**DCL        79--ASSIGN     83--ASSIGN
GIT$TOP
        54**DCL        79--ASSIGN
GI_BOOTBASE
        50**DCL        77>>ASSIGN     82>>ASSIGN
GI_BOOTCHAN
        53**DCL        75>>ASSIGN
GI_OFFSETS
        51**DCL        82>>ASSIGN
WORDS
        60**DCL        79<<ASSIGN     80<>CALL       84<<ASSIGN     85<>CALL       86<<ASSIGN     87<>CALL

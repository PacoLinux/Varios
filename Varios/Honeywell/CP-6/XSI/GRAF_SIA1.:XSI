$COM*T***********************************************************************
$COM*T*                                                                     *
$COM*T*                Copyright (c) Bull HN Information Systems Inc., 1989 *
$COM*T*                                                                     *
$COM*T***********************************************************************
)TERM INPUT 4
 
 
 
;'        Function: COPYRIGHT    '
 
 
    " COPYRIGHT T;O;f;N;I;J;$QIO;V;SM
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $QIO_1
[3]   O_$R T_'$COM*T*  COPYRIGHT, (C) ',T,', ',$FMT1$TAK$QTS
[4]   f_$QNL 3
[5]   I_0 $DMD J_1$TAK$R f
[6]  L:$GO (0$E $R V_$QCR f[I_I+1;])/LX $DMD SM_$QSM f[I;]
[7]   $GO ('$COM*T* '&.=5$TAKV[1+$QIO;])/1+$QLC $DMD V_(1 0,(-1+1$TAK$R V)$R 1)$XP1V $DMD SM[;$QIO]_SM[;$QIO]+SM[;$QIO]$NE0
[8]   $GO (O<-1$TAK$R V)/1+$QLC $DMD V_((1$TAK$R V),O)$TAKV
[9]   V[1+$QIO;]_(-1$TAK$R V)$TAKT
[10]  $QFX V $DMD SM $QSM f[I;]
[11] LX:$GO (J$NEI)/L
    "
 
$COM  $QCR   6
$COM  $QFX  10
$COM  $QIO   0     2_    7     7     7     7     9
$COM  $QLC   7     8
$COM  $QNL   4
$COM  $QSM   6    10
$COM  $QTS   3
$COM  I      0     5_    6_    6     6    10    11
$COM  J      0     5_   11
$COM  L      6:   11
$COM  LX     6    11:
$COM  N      0
$COM  O      0     3_    8     8
$COM  SM     0     6_    7]_   7]    7]   10
$COM  T      0     3_    3     9
$COM  V      0     6_    7]    7_    7     7     8     8_    8     8     9]_
$COM         9    10
$COM  f      0     4_    5     6]    6]   10]
0
 
 
;'        Function: FLDI         '
 
 
    " R_FLDI F
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   R_($MAX/F[;2]),($MAX/F[;3]),($MAX/F[;3]+F[;4]),$MAX/F[;4]
[3]  $COM    Return field information from field definition matrix
[4]  $COM
[5]  $COM    Right argument:  A field definition matrix compatible
[6]  $COM                     with the $QBFLD system function.
[7]  $COM
[8]  $COM    Result:          A 4-element vector containing:
[9]  $COM                     1-Last line referenced by field definition
[10] $COM                     2-Highest field starting column
[11] $COM                     3-Highest column referenced
[12] $COM                     4-Length of longest field
    "
 
$COM  F   0     2]    2]    2]    2]    2]
$COM  R   0_    2_
0
 
 
;'        Function: FORMINPUT    '
 
 
    " R_f FORMINPUT S;A;E;M;N;Q;T;W;X;Y;Z
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   R_W_0 2$R Y_0 $DMD $GO (1$GE$R S_,S)/0 $DMD M_'<$TAKR[>,Q<;2]>I6'
[3]   A_'$Q0$Q1$Q2$Q3$Q4$Q5$Q6$Q7$Q8$Q9'[1+Z_$TAKS] $DMD S_1$DRPS $DMD Q_$R f
[4]  lp:S $QBSFLD Z $DMD R_$XECA
[5]   $GO (Q[2]<11)/0 $DMD R_R,[1](~W[;1]$E R[;1])$RD1W
[6]   T_' '$OR.$NE$"E_f[N_f[;1]$I R[;1];11]
[7]   E_$XEC$",/T$RD1E,M $QFMT$I $TAK$R R
[8]   $GO (0=$R N_(T\X_0$NE($ENC'')$R $"$R $"E)/N)/x
[9]   W_R[R[;1]$I f[N;1];]
[10]  $GO (Q[1]<T_f[;8]$I $ENC'ERROR$_MESSAGE')/q
[11]  $XECA,'_(Y_T),1$TAK X/E' $DMD $GO lp
[12] q:$Q_$TAKX/E $DMD $GO lp
[13] x:$GO (Y=0)/0 $DMD Y $QBXFLD Z 3
    "
 
$COM  $Q       12_
$COM  $QBSFLD   4
$COM  $QBXFLD  13
$COM  $QFMT     7
$COM  A         0     3_    4    11
$COM  E         0     6_    7_    7     8    12
$COM  M         0     2_    7
$COM  N         0     6_    8_    8     9
$COM  Q         0     3_    5]   10]
$COM  R         0_    2_    4_    5_    5     5]    6]    7     9]    9]
$COM  S         0     2_    2     3     3_    3     4
$COM  T         0     6_    7     8    10_
$COM  W         0     2_    5]    5     9_
$COM  X         0     8_   12
$COM  Y         0     2_   13    13
$COM  Z         0     3_    4    13
$COM  f         0     3     6]    6]    9]   10]
$COM  lp        4:   11    12
$COM  q        10    12:
$COM  x         8    13:
0
 
 
;'        Function: FUNCLIST     '
 
 
'FUNCLIST      *** NOT LISTED ***'
0
 
 
;'        Function: GR3DAXIS     '
 
 
    " XY GR3DAXIS N;T;AB;AL;GRID;K;M;MX
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   GRCHSIZE 0.2+0.3$MIN%MX_$MAX/$TAK$"$R $"7$DRPGRlabels
[3]   SI_9%MP_$TAKLBLS $DMD $QGRFONT_13
[4]  $COM      Draw line at (X=1..10),(Y=1) and  (Y=1..$R  GRdata),(X=1)
[5]   $QGRLINE GRTO3D 3 2$R 1 10 1 1,N[1],1     $COM  Hidden: ,N[1],10 1 10
[6]  $COM      Draw Z axis marker
[7]   $QGRLINE AL_AB,[1]N[2]GRTOZ3D AB_GRTO3D 1 2$R 1 10
[8]  $COM      Draw line across back at Z=5
[9]   $QGRLINE T[1;],[1]N[2]GRTOZ3D T_GRTO3D 3 2$R N[1],1,N[1],10 1 10
[10] $COM      Label data names along X-axis
[11]  $QGRCHUP_(1,SVA)#$-$RD1GRTO3D 2 2$R 0 1 0 0 $DMD $QGRCHJUST_'RIGHT,BOTTOM'
[12]  ($ENC[2]GRTO3D 0.75,[1.5]1+(SI#0.3)+SI#$REV-1+$I MP)$QGRTEXT$"T_2$DSCLBLS
[13] $COM      Add dataset names (SUBTITLEs) along Y-axis
[14]  $QGRCHUP_(1,SVA)#$-$RD1GRTO3D 2 2$R 1 0 0 0 $DMD $QGRCHJUST_'LEFT,BOTTOM'
[15]  ($ENC[2]GRTO3D($I $R LOC),[1.5]0.75)$QGRTEXT$"GRlabels[LOC]
[16]  $QGRCHJUST_'CENTER,TOP' $DMD (,GRTO3D 1 2$R (MX%-5),5)$QGRTEXT 4$DSCGRlabels
[17] $COM      Finally label Z axis
[18]  AL_(AL[2;2]$-AL[1;2]) $DMD T_T,[1]SCARR[1]GRTOZ3D T_GRTO3D 1 2$R 1 10
[19]  AL_AL,T[2;2]$-T[1;2]
[20]  GRAXIS(,AB)(5$DSCGRlabels)(AL[1])90 -1,SCARR[2 3],(AL[2]),GRfonts[5],1 100
[21] $COM   Draw the lines which may be hidden by Bars in front
[22] $COM     First check for a GRID
[23]  $GO (~3$E GRopt)/ng $DMD $QGRLS_100
[24]  GRID_(T$R 1 0 0),(3/SCARR[1]#$I T%3)GRTOZ3D GRTO3D((T_3#$MIN-1+%/AL[1 2]),2)$R 1 10,N[1],10,N[1],1
[25]  0 $QGRDRAW XY GRFIXGRID GRID
[26]  $QGRLS_1
[27] ng: $COM   Now draw the platform for the BAR base
[28]  $QGRLINE XY GRFIXVLINE T,[1]N[2]GRTOZ3D T_GRTO3D 1 2$R N[1],10
[29]  0 $QGRDRAW XY GRFIXGRID GRID_1 0 0,GRTO3D 3 2$R 1 10,N[1],10,N[1],1
[30] $COM
    "
 
$COM  $QGRCHJUST   11_   14_   16_
$COM  $QGRCHUP     11_   14_
$COM  $QGRDRAW     25    29
$COM  $QGRFONT      3_
$COM  $QGRLINE      5     7     9    28
$COM  $QGRLS       23_   26_
$COM  $QGRTEXT     12    15    16
$COM  AB            0     7     7_   20
$COM  AL            0     7_   18_   18]   18]   19_   19    20]   20]   24]
$COM  GRAXIS       20
$COM  GRCHSIZE      2
$COM  GRFIXGRID    25    29
$COM  GRFIXVLINE   28
$COM  GRID          0    24_   25    29_
$COM  GRTOZ3D       7     9    18    24    28
$COM  GRTO3D        5     7     9    11    12    14    15    16    18    24
$COM               28    29
$COM  GRfonts      20]
$COM  GRlabels      2    15]   16    20
$COM  GRopt        23
$COM  K             0
$COM  LBLS          3    12
$COM  LOC          15    15
$COM  M             0
$COM  MP            3_   12
$COM  MX            0     2_   16
$COM  N             0     5]    7]    9]    9]    9]   24]   24]   28]   28]
$COM               29]   29]
$COM  SCARR        18]   20]   24]
$COM  SI            3_   12    12
$COM  SVA          11    14
$COM  T             0     9]    9_   12_   18_   18    18_   19]   19]   24
$COM               24    24_   28    28_
$COM  XY            0    25    28    29
$COM  ng           23    27:
0
 
 
;'        Function: GR3DPOLYGON  '
 
 
    " R_Z GR3DPOLYGON XYLOC;TOP;YSIDE;XSIDE;T;Q;P;S
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   Q_$TAK$R XYLOC_XYLOC,XYLOC $DMD S_0.8$MIN0.6#SI
[3]   TOP_Z GRTOZ3D GRTO3D((1 2#T_$R XYLOC)$R S#0 0 0 1 1 1 1 0)+XYLOC,XYLOC
[4]   XSIDE_XSIDE,Z GRTOZ3D 2$REVXSIDE_GRTO3D(T$R S#0 0 0 1)+XYLOC
[5]   YSIDE_YSIDE,Z GRTOZ3D 2$REVYSIDE_GRTO3D(T$R S#1 0 0 0)+XYLOC
[6]   R_(P$R 1 0 0 0),((P_Q#12),2)$R TOP,YSIDE,XSIDE
[7]   $GO 0
[8]  $COM    NAME:    GR3DPOLYGON
[9]  $COM    PURPOSE: To generate the polygons making up a 3D Bar chart.
[10] $COM    DESCRIPTION:
[11] $COM       The three visible faces of the polygons are generated
[12] $COM       at all of the XY positions specified by the right argument
[13] $COM       with the height specified by the left argument.  Note
[14] $COM       that the polygon verticies are generated so they plot in
[15] $COM       clockwise order.
    "
 
$COM  GRTOZ3D   3     4     5
$COM  GRTO3D    3     4     5
$COM  P         0     6     6_
$COM  Q         0     2_    6
$COM  R         0_    6_
$COM  S         0     2_    3     4     5
$COM  SI        2
$COM  T         0     3_    4     5
$COM  TOP       0     3_    6
$COM  XSIDE     0     4_    4     4_    6
$COM  XYLOC     0     2_    2     2     3     3     3     4     5
$COM  YSIDE     0     5_    5     5_    6
$COM  Z         0     3     4     5
0
 
 
;'        Function: GRAF         '
 
 
    " GRAF;ERROR$_MESSAGE
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   ERROR$_MESSAGE_'' $DMD $GO ((0=$R GRdata),~1$E GRf)/d0 nr
[3]   $GO (($R GRloc)$GE$R GRdata)/rr $DMD GRPERR 'Subtitle needed for each set of data' $DMD $GO 0
[4]  rr:(GRf/GRdata)_GRREAD$"GRf/GRdata $DMD GRf[]_0
[5]  nr:((GRlabels$E $ENC,'*')/GRlabels)_$ENC''
[6]   GRdata_(A_0$NE($ENC'')$R $"$R $"GRdata)/GRdata
[7]   $GO (($R GRloc)$NE$R A)/so $DMD GRloc_A/GRloc
[8]  so:GRINIT GRdest $DMD GRdest_'' $DMD $QGRLS_1
[9]   $GO (0=GRform)/nd $DMD RLSWIN 9
[10] nd:$GO (GRtype=0 2 3 4 5 6)/gbar gline gplot gpie gstep gb3d
[11]  GRPERR 'EH?' $DMD $GO exit#1=GRform
[12] d0:GRPERR 'Data must be entered before this command can be executed' $DMD $GO 0
[13] gpie:GRPIE GRdata $DMD $GO exit#1=GRform
[14] gstep:GRSTEP GRdata $DMD $GO exit#1=GRform
[15] gbar:GRBAR GRdata $DMD $GO exit#1=GRform
[16] gline:GRLINE GRdata $DMD $GO exit#1=GRform
[17] gplot:GRPLOT GRdata $DMD $GO exit#1=GRform
[18] gb3d:GRview GRBAR3D GRdata $DMD $GO exit#1=GRform
[19] $COM   If in FORMS mode, wait for output to complete then restore the FORM
[20] exit:'' $QGRESCAPE 1
[21]  GRAF$_FORM PUTWIN 9 $DMD GRFORMCURRENT $DMD $GO (0=$R ERROR$_MESSAGE)/0
[22]  (GRFORMID 'ERROR$_MESSAGE')GRFORMPUT ERROR$_MESSAGE
[23]  $GO 0
    "
 
$COM  $QGRESCAPE      20
$COM  $QGRLS           8_
$COM  A                6_    7     7
$COM  ERROR$_MESSAGE   0     2_   21    22
$COM  GRAF$_FORM      21
$COM  GRBAR           15
$COM  GRBAR3D         18
$COM  GRFORMCURRENT   21
$COM  GRFORMID        22
$COM  GRFORMPUT       22
$COM  GRINIT           8
$COM  GRLINE          16
$COM  GRPERR           3    11    12
$COM  GRPIE           13
$COM  GRPLOT          17
$COM  GRREAD           4
$COM  GRSTEP          14
$COM  GRdata           2     3     4     4     6_    6     6    13    14
$COM                  15    16    17    18
$COM  GRdest           8     8_
$COM  GRf              2     4     4     4]_
$COM  GRform           9    11    13    14    15    16    17    18
$COM  GRlabels         5     5
$COM  GRloc            3     7     7_    7
$COM  GRtype          10
$COM  GRview          18
$COM  PUTWIN          21
$COM  RLSWIN           9
$COM  d0               2    12:
$COM  exit            11    13    14    15    16    17    18    20:
$COM  gbar            10    15:
$COM  gb3d            10    18:
$COM  gline           10    16:
$COM  gpie            10    13:
$COM  gplot           10    17:
$COM  gstep           10    14:
$COM  nd               9    10:
$COM  nr               2     5:
$COM  rr               3     4:
$COM  so               7     8:
0
 
 
;'        Function: GRALABEL     '
 
 
    " A GRALABEL R
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (''''$NE$TAKR)/l
[3]   R_1$DRP-1$DRP$QSSR R '''''' ''''
[4]  l:GRtx_-1 $DMD GRval_R $DMD 13 GRTEXT A
[5]   $GO 0
[6]  $COM  NAME:       GRALABEL
[7]  $COM  PURPOSE:    To cleanup a label and add it to the list of labels.
[8]  $COM  DESCRIPTION:
[9]  $COM     If the label begins with a quote then the leading and
[10] $COM     trailing quotes are removed and any double quotes are
[11] $COM     replaced by single quotes.
[12] $COM
[13] $COM     The label is then added to the end of the vector of labels
[14] $COM     by using the GRTEXT function.
    "
 
$COM  $QSSR     3
$COM  A         0     4
$COM  GRTEXT    4
$COM  GRtx      4_
$COM  GRval     4_
$COM  R         0     2     3_    3     4
$COM  l         2     4:
0
 
 
;'        Function: GRAXCHSIZE   '
 
 
    " GRAXCHSIZE B
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   GRCHSIZE B#0.1#$QGRWINDOW[2]$-$QGRWINDOW[1]
[3]   $GO 0
[4]  $COM  NAME:         GRCHSIZE
[5]  $COM  PURPOSE:      To set the character size and the stroke width.
    "
 
$COM  $QGRWINDOW   2]    2]
$COM  B            0     2
$COM  GRCHSIZE     2
0
 
 
;'        Function: GRAXIS       '
 
 
    " GRAXIS B;LOC;TITLE;AXL;ANGL;COST;TFLG;STRT;SC;TDIS;FONT;INT;TM;K;DV;EX;IZ;T;TL;V1;XX;JUSTS
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   (LOC TITLE AXL ANGL TFLG STRT SC TDIS FONT INT TM)_B
[3]   JUSTS_'RIGHT,CENTER' 'LEFT,CENTER' 'CENTER,BOTTOM' 'CENTER,TOP'
[4]   $QGRLINE 2 2$R LOC,LOC+AXL#2 1$O $O ANGL%180
[5]   $QGRFONT_13 $DMD K_1+$MINAXL%TDIS
[6]   GRAXCHSIZE 0.2 $DMD $QGRCHUP_0 1
[7]   $QGRCHJUST_'CENTER,CENTER'
[8]   EX_0 $DMD $GO (2$GEXX_$MIN10$LOGDV_|SC)/nu $DMD EX_XX$-2
[9]  nu:$GO (-2<XX_$MIN10$LOGDV)/nd $DMD EX_XX+2
[10] nd:V1_STRT#10*$-EX $DMD DV_(|SC)#10*$-EX
[11]  IZ_+/0.01$LE$MAX/($MAX1 10$SC.#T)$-$MIN1 10$SC.#T_V1+DV#-1+$I K
[12]  TL_LOC,[1]((-1+K,3)$R LOC)+(AXL#($I K$-1)%K$-1)$SC.#2 1$O $O ANGL%180
[13]  $GO (ANGL&.$NE0 90 180 270)/nn
[14]  $QGRCHJUST_(1+(2#ANGL$E 0 180)+TFLG$GE0)$DSCJUSTS
[15] nn:
[16]  0 $QGRDRAW((2#$R T),3)$R 1,TL,0,V1_TL+($R TL)$R 0.15#COST_2 1$O $O (ANGL+90 -90 -90[2+TFLG])%180
[17]  ($ENC[2]V1)$QGRTEXT$"GRFIXTEXT$"T_IZ$FMT$"T
[18]  $GO (0=$R TITLE)/0 $DMD K_1 $DMD $QGRFONT_FONT
[19]  $GO (</|$QGRCHUP_2 1$O $O (ANGL+90 90 90[2+TFLG])%180)/ne
[20]  K_0.5+$MAX/($DSC($ENC[2]V1)$QGRTEXTX$"T)[;2]
[21] ne:$QGRCHJUST_(1+90>180|45+ANGL)$DSC'CENTER,TOP' 'CENTER,CENTER'
[22]  ((LOC+(COST#K)+AXL#0.5#2 1$O $O ANGL%180),0.25)GRPUTTEXT TITLE
[23]  $QGRFONT_13
    "
 
$COM  $QGRCHJUST    7_   14_   21_
$COM  $QGRCHUP      6_   19_
$COM  $QGRDRAW     16
$COM  $QGRFONT      5_   18_   23_
$COM  $QGRLINE      4
$COM  $QGRTEXT     17
$COM  $QGRTEXTX    20
$COM  ANGL          0     2     4    12    13    14    16    19    21    22
$COM  AXL           0     2     4     5    12    22
$COM  B             0     2
$COM  COST          0    16_   22
$COM  DV            0     8_    9    10_   11
$COM  EX            0     8_    8_    9_   10    10
$COM  FONT          0     2    18
$COM  GRAXCHSIZE    6
$COM  GRFIXTEXT    17
$COM  GRPUTTEXT    22
$COM  INT           0     2
$COM  IZ            0    11_   17
$COM  JUSTS         0     3_   14
$COM  K             0     5_   11    12    12    12    18_   20_   22
$COM  LOC           0     2     4     4    12    12    22
$COM  SC            0     2     8    10
$COM  STRT          0     2    10
$COM  T             0    11    11_   16    17_   17    20
$COM  TDIS          0     2     5
$COM  TFLG          0     2    14    16    19
$COM  TITLE         0     2    18    22
$COM  TL            0    12_   16    16    16
$COM  TM            0     2
$COM  V1            0    10_   11    16_   17    20
$COM  XX            0     8_    8     9_    9
$COM  nd            9    10:
$COM  ne           19    21:
$COM  nn           13    15:
$COM  nu            8     9:
0
 
 
;'        Function: GRBAR        '
 
 
    " GRBAR GRdata;B;CP;D;H;L;LW;LBLS;LOC;M;MP;MULT;MX;P;Q;S;SCARR;SI;ST;T;Z;ZF;ZI;ZL;C;CI;E
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]  do:$GO ((+/Q_$TAK$"$R $"GRdata)=-7+($R GRlabels)$-$R ST_(ZL_($I $R GRlabels)$E GRloc)/GRlabels)/dt
[3]   GRPERR 'Number of datanames does not equal number of data points' $DMD $GO 0
[4]  dt:ZI_CI_1 $DMD $GO (C_0=$QNC 'GRcols')/nc $DMD CI_1$MAX2$MIN-1+C_1$MAX-1$TAK$R GRcols
[5]  nc:$QGRTSEGC $DMD $QGRWINDOW_0 10 0 7 $DMD $QGRCHPREC_'STROKE' $DMD $QGRFONT_13 $DMD GRINITFILLS
[6]   $QGRLW_LW_.15$MIN4 13$DSC$QGRCAPABILITIES$TAK$QGRSURFACES
[7]   $GO (~ZF_1$E GRopt)/nb $DMD $QGRVIEWPORT_0.05 0.95 0.035 0.665
[8]  nb:$QGRTSEGO $DMD $GO (~2$E GRopt)/nf $DMD $QGRLINE 5 2$R 0 0 0 7 10 7 10 0 0 0
[9]  nf:LBLS_GRNAMED $DMD $GO (10 12$E GRopt)/pc st $DMD MX_$MAX/D_0,T_$TAK,/GRdata $DMD $GO sc
[10] st:MX_$MAX/D_0,+$RD1$DSCGRdata $DMD $GO sc
[11] pc:GRdata_$ENC[2]D_100#D%($R D)$R +$RD1D_$DSCGRdata $DMD MX_100 $DMD D_0 90,,D
[12] sc:SCARR_T,$DSCGRSCALE$"($ENCD 5 1),$"T_5%11$-$I 6
[13]  SCARR_SCARR[T$I $MAX/T_MX%SCARR[;2]+5#SCARR[;3]%SCARR[;1];]
[14]  T_~(($I $R GRlabels)$E GRloc)&GRlabels$E $ENC'DUMMY'
[15]  LOC_T[GRloc]/GRloc $DMD $GO (0=$R GRloc)/ny $DMD GRdata_T[GRloc]/GRdata
[16] ny:GRAXIS(1.5 1.25)(5$DSCGRlabels)5 90 -1,SCARR[2 3 1],GRfonts[5],1 1000
[17]  $GO (~3$E GRopt)/ng $DMD $QGRLINE 3 2$R 1.25 6.25 9.5 6.25 9.5 1.25 $DMD $QGRLS_100
[18]  0 $QGRDRAW(($R T)$R 1 0),(($R T)$R 1.5 9.5),[1.5]T_2/1.25+M#$I $MIN-1+5%M_SCARR[1]
[19] ng:$QGRLS_1 $DMD (SI MP)_(LBLS,1)GRNMAXIS 2 2$R 1.5 1.25 9.5 1.25
[20]  (5.5 0.35)(GRfonts[4])0.25 'CENTER,CENTER'(0 1)GRLABEL 4$DSCGRlabels
[21]  (5 6.825)(GRfonts[1])0.4 'CENTER,CENTER'(0 1)GRLABEL 1$DSCGRlabels
[22]  (9.9 0.01)(GRfonts[3])0.15 'RIGHT,BOTTOM'(0 1)GRLABEL 3$DSCGRlabels
[23]  $GO (0=$R LOC)/nl $DMD $QGRCHJUST_'LEFT,CENTER'
[24]  GRCHSIZE 0.15 $DMD $QGRFONT_13 $DMD $QGRCHUP_0 1 $DMD $QGRFILL_CI $DMD GRSETFILL E_0
[25]  (T_$ENC[2](2#$I $R LOC),[1.5]6.45)$QGRTEXT$"GRlabels[LOC]
[26]  GRFILL$"T+$ENC-0.2 0 $DMD GRSETFILL E_0
[27] nl:$QGRTSEGC $DMD $QGRWINDOW_0 8,(SCARR[2]),SCARR[2]+5#SCARR[3]%SCARR[1]
[28]  $QGRVIEWPORT_4$TAK(ZF/0.185 0.905 0.1475 0.5975),0.15 0.95 0.125 0.625
[29]  $QGRTSEGO $DMD $GO (D&.$GE0)/nz $DMD $QGRLINE 2 2$R 0 0 8 0
[30] nz:ZI_1 $DMD D_$R GRdata $DMD $QGRFILL_CI $DMD GRSETFILL E_0
[31]  B_SI#0 0 0.625 0.625%D_1$MAXD#~12$E GRopt $DMD Q_(MP,2)$R 0+0
[32] blp:CP_((MP#4)$R 1 0 0 0),((SI#0.375)+,(SI#-1+$I MP)$SC.+B+0.625#SI#((D$NE1)#ZI$-1)%D),[1.5],1$REVQ,S_Q+2/(MP,1)$R H_MP$TAKZI$DSCGRdata
[33]  GRBARFILL CP $DMD Q_S#12$E GRopt
[34]  $GO (1$NE$QGRFILL_1$MAXC|$QGRFILL+1)/ble $DMD GRSETFILL E_E+1
[35] ble:$GO (($R GRdata)$GEZI_ZI+1)/blp
[36]  GRRESETFILL
[37]  $GO 0
[38] $COM  NAME:       GRBAR
[39] $COM  PURPOSE:    This function generates bar charts.
[40] $COM  DESCRIPTION:   GRdata contains the data to bar chart.  GRopts
[41] $COM              contains the current options in effect.
    "
 
$COM  $QGRCAPABILITIES   6
$COM  $QGRCHJUST        23_
$COM  $QGRCHPREC         5_
$COM  $QGRCHUP          24_
$COM  $QGRDRAW          18
$COM  $QGRFILL          24_   30_   34_   34
$COM  $QGRFONT           5_   24_
$COM  $QGRLINE           8    17    29
$COM  $QGRLS            17_   19_
$COM  $QGRLW             6_
$COM  $QGRSURFACES       6
$COM  $QGRTEXT          25
$COM  $QGRTSEGC          5    27
$COM  $QGRTSEGO          8    29
$COM  $QGRVIEWPORT       7_   28_
$COM  $QGRWINDOW         5_   27_
$COM  $QNC               4
$COM  B                  0    31_   32
$COM  C                  0     4_    4_   34
$COM  CI                 0     4_    4_   24    30
$COM  CP                 0    32_   33
$COM  D                  0     9_   10_   11_   11    11    11_   11_   11
$COM                    12    29    30_   31_   31    32    32
$COM  E                  0    24_   26_   30_   34_   34
$COM  GRAXIS            16
$COM  GRBARFILL         33
$COM  GRCHSIZE          24
$COM  GRFILL            26
$COM  GRINITFILLS        5
$COM  GRLABEL           20    21    22
$COM  GRNAMED            9
$COM  GRNMAXIS          19
$COM  GRPERR             3
$COM  GRRESETFILL       36
$COM  GRSCALE           12
$COM  GRSETFILL         24    26    30    34
$COM  GRcols             4
$COM  GRdata             0     2     9    10    11_   11    15_   15    30
$COM                    32    35
$COM  GRfonts           16]   20]   21]   22]
$COM  GRlabels           2     2     2    14    14    16    20    21    22
$COM                    25]
$COM  GRloc              2    14    15    15    15    15
$COM  GRopt              7     8     9    17    31    33
$COM  H                  0    32_
$COM  L                  0
$COM  LBLS               0     9_   19
$COM  LOC                0    15_   23    25    25
$COM  LW                 0     6_
$COM  M                  0    18    18_
$COM  MP                 0    19    31    32    32    32    32
$COM  MULT               0
$COM  MX                 0     9_   10_   11_   13
$COM  P                  0
$COM  Q                  0     2_   31_   32    32    33_
$COM  S                  0    32_   33
$COM  SCARR              0    12_   13_   13]   13]   13]   13]   16]   18]
$COM                    27]   27]   27]   27]
$COM  SI                 0    19    31    32    32    32
$COM  ST                 0     2_
$COM  T                  0     9_   12    12_   13    13_   14_   15]   15]
$COM                    18    18    18_   25_   26
$COM  Z                  0
$COM  ZF                 0     7_   28
$COM  ZI                 0     4_   30_   32    32    35_   35
$COM  ZL                 0     2_
$COM  ble               34    35:
$COM  blp               32:   35
$COM  do                 2:
$COM  dt                 2     4:
$COM  nb                 7     8:
$COM  nc                 4     5:
$COM  nf                 8     9:
$COM  ng                17    19:
$COM  nl                23    27:
$COM  ny                15    16:
$COM  nz                29    30:
$COM  pc                 9    11:
$COM  sc                 9    10    12:
$COM  st                 9    10:
0
 
 
;'        Function: GRBAR3D      '
 
 
    " VIEW GRBAR3D GRdata;ST;Q;ZI;CI;C;LW;ZF;LBLS;MX;D;SCARR;T;LOC;SI;MP;ZL;CHA;CHASVA;CVA;SHA;SHASVA;SVA;CP;K
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]  $COM*T* COPYRIGHT, (C)   HONEYWELL BULL INC., 1987
[3]   $GO ((+/Q_$TAK$"$R $"GRdata)=-7+($R GRlabels)$-$R ST_(ZL_($I $R GRlabels)$E GRloc)/GRlabels)/dt
[4]   GRPERR 'Each datapoint must be named'
[5]   $GO 0
[6]  $COM        Check for color availability
[7]  dt:$QGRFILL_1 $DMD $QGRFILL_0 $DMD ZI_CI_1 $DMD $GO (C_0=$QNC 'GRcols')/nc
[8]   $GO (1=CI_1$MAX2$MIN-1+C_1$MAX-1$TAK$R GRcols)/nc $DMD $QGRFILL_2
[9]  $COM        Setup linewidth and window
[10] nc:$QGRLW_.15$MINLW_4 13$DSC$QGRCAPABILITIES$TAK$QGRSURFACES
[11]  $QGRTSEGC $DMD $QGRWINDOW_0 10 0 7 $DMD $QGRTSEGO $DMD $QGRCHPREC_'STROKE'
[12]  (5 6.825)(GRfonts[1])0.4 'CENTER,CENTER'(0 1)GRLABEL 1$DSCGRlabels
[13]  (9.9 0.01)(GRfonts[3])0.15 'RIGHT,BOTTOM'(0 1)GRLABEL 3$DSCGRlabels
[14]  VIEW GRSET3DWINDOW($R GRdata),5 $DMD $QGRTSEGC
[15] $COM       Check to see if we leave a border
[16]  $GO (~ZF_1$E GRopt)/nb $DMD $QGRVIEWPORT_0.05 0.95 0.035 0.665
[17] $COM       Open temporary segment and optionally draw a frame
[18] nb:$QGRTSEGO $DMD $GO (~2$E GRopt)/nf
[19]  $QGRLINE 5 2$R $QGRWINDOW[1 3 1 4 2 4 2 3 1 3]
[20] $COM       Determine Z-axis scaling
[21] nf:LBLS_GRNAMED $DMD MX_$MAX/D_0$MAX0,T_$TAK,/GRdata
[22]  SCARR_T,$DSCGRSCALE$"($ENCD 5 1),$"T_5%11$-$I 6
[23]  SCARR_SCARR[T$I $MAX/T_MX%SCARR[;2]+5#SCARR[;3]%SCARR[;1];]
[24] $COM       Isolate labels and actual data
[25]  T_~(($I $R GRlabels)$E GRloc)&GRlabels$E $ENC'DUMMY'
[26]  LOC_T[GRloc]/GRloc $DMD $GO (0=$R GRloc)/ny $DMD GRdata_T[GRloc]/GRdata
[27] $COM       Now create polygons
[28] ny:K_$TAK$R GRdata $DMD MX_(SCARR[2]+SCARR[3]#5%SCARR[1])%5 $DMD T_0 3$R 0
[29]  SI_9%MP_$TAKLBLS
[30] lp:CP_((K$DSCGRdata)%MX)GR3DPOLYGON K,[1.5]0.3+1+SI#$REV-1+$I MP
[31]  T_T,[1]CP
[32]  $GO (0<K_K$-1)/lp
[33] $COM       Draw axis
[34]  T GR3DAXIS(1+$R GRdata),5
[35] $COM       Output Polygons
[36]  2 $QGRDRAW GRHIDE T
    "
 
$COM  $QGRCAPABILITIES  10
$COM  $QGRCHPREC        11_
$COM  $QGRDRAW          36
$COM  $QGRFILL           7_    7_    8_
$COM  $QGRLINE          19
$COM  $QGRLW            10_
$COM  $QGRSURFACES      10
$COM  $QGRTSEGC         11    14
$COM  $QGRTSEGO         11    18
$COM  $QGRVIEWPORT      16_
$COM  $QGRWINDOW        11_   19]
$COM  $QNC               7
$COM  C                  0     7_    8_
$COM  CHA                0
$COM  CHASVA             0
$COM  CI                 0     7_    8_
$COM  CP                 0    30_   31
$COM  CVA                0
$COM  D                  0    21_   22
$COM  GRHIDE            36
$COM  GRLABEL           12    13
$COM  GRNAMED           21
$COM  GRPERR             4
$COM  GRSCALE           22
$COM  GRSET3DWINDOW     14
$COM  GRcols             8
$COM  GRdata             0     3    14    21    26_   26    28    30    34
$COM  GRfonts           12]   13]
$COM  GRlabels           3     3     3    12    13    25    25
$COM  GRloc              3    25    26    26    26    26
$COM  GRopt             16    18
$COM  GR3DAXIS          34
$COM  GR3DPOLYGON       30
$COM  K                  0    28_   30    30    32_   32
$COM  LBLS               0    21_   29
$COM  LOC                0    26_
$COM  LW                 0    10_
$COM  MP                 0    29_   30
$COM  MX                 0    21_   23    28_   30
$COM  Q                  0     3_
$COM  SCARR              0    22_   23_   23]   23]   23]   23]   28]   28]
$COM                    28]
$COM  SHA                0
$COM  SHASVA             0
$COM  SI                 0    29_   30
$COM  ST                 0     3_
$COM  SVA                0
$COM  T                  0    21_   22    22_   23    23_   25_   26]   26]
$COM                    28_   31_   31    34    36
$COM  VIEW               0    14
$COM  ZF                 0    16_
$COM  ZI                 0     7_
$COM  ZL                 0     3_
$COM  dt                 3     7:
$COM  lp                30:   32
$COM  nb                16    18:
$COM  nc                 7     8    10:
$COM  nf                18    21:
$COM  ny                26    28:
0
 
 
;'        Function: GRBARFILL    '
 
 
    " GRBARFILL Q;C;E;I;J;S
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO ((~'PLAIN'$EQV$QGRPINS),$QGRFILL=0)/fill draw
[3]   2 $QGRDRAW Q $DMD $GO 0
[4]  draw:0 $QGRDRAW Q $DMD $GO 0  $COM  Because $QGRFILL_0 is ignored sometimes
[5]  fill:I_0 $DMD S_4 $DMD J_$TAK$R Q
[6]  lp:$QGRPIXELORG_,$QGRNDC Q[$QIO+,I;2 3]   $COM Position fill pattern at
[7]   $QGRPOLYGON Q[I+$I S;1+$I 2]             $COM lower left corner.
[8]   $GO (J>I_I+S)/lp
[9]   $GO 0
[10] $COM  NAME:       GRBARFILL
[11] $COM  PURPOSE:    To handle filling the bars associated with a
[12] $COM              set of data when the bars have a pixel array
[13] $COM              associated with them.
[14] $COM  DESCRIPTION:
[15] $COM     If there is not a pixel array in use, a normal polygon
[16] $COM     draw function is performed (writing multiple polygons).
[17] $COM     For each polygon, the pixel array origin is set to the
[18] $COM     position of the first point in the polygon and a single
[19] $COM     polygon is drawn.
    "
 
$COM  $QGRDRAW       3     4
$COM  $QGRFILL       2
$COM  $QGRNDC        6
$COM  $QGRPINS       2
$COM  $QGRPIXELORG   6_
$COM  $QGRPOLYGON    7
$COM  $QIO           6
$COM  C              0
$COM  E              0
$COM  I              0     5_    6     7     8_    8
$COM  J              0     5_    8
$COM  Q              0     3     4     5     6]    7]
$COM  S              0     5_    7     8
$COM  draw           2     4:
$COM  fill           2     5:
$COM  lp             6:    8
0
 
 
;'        Function: GRCHSIZE     '
 
 
    " GRCHSIZE B
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   ($MIN260#$TAK$QGRCHSIZE_2$R B)$QGRESCAPE 2
[3]   $GO 0
[4]  $COM  NAME:         GRCHSIZE
[5]  $COM  PURPOSE:      To set the character size and the stroke width.
    "
 
$COM  $QGRCHSIZE   2_
$COM  $QGRESCAPE   2
$COM  B            0     2
0
 
 
;'        Function: GRCITIME     '
 
 
    " R_GRCITIME R
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]  $COM  R_R[7 8 9],':',R[10 11 7 7 2 3],'/',R[4 5],'/',R[0 1]
[3]   R_(':/',R)[10 11 12 1 13 14 10 10 5 6 2 7 8 2 3 4]
    "
 
$COM  R    0_    0     3_    3
0
 
 
;'        Function: GRCMDS       '
 
 
    " CMDS_GRCMDS
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   CMDS_' STATUS'
[3]   CMDS_CMDS,' BAR LINE PLOT PIE STEP BAR3D'       $COM  Types of graphics
[4]   CMDS_CMDS,' TITLE SUBTITLE XNAME YNAME NOTE'    $COM  Labeling
[5]   CMDS_CMDS,' BORDER FRAME GRID PERCENTAGES STACK' $COM Options
[6]   CMDS_CMDS,' HIDE FILL COLOR DATA HELP READ ! RESET STYLE'
[7]   CMDS_CMDS,' END QUIT ?? DONE FORM LOAD SAVE DROP LIB FONTS'
[8]   $GO 0
[9]  $COM  NAME:       GRCMDS
[10] $COM  PURPOSE:    To return the vector of legal command names.
    "
 
$COM  CMDS   0_    2_    3_    3     4_    4     5_    5     6_    6     7_
$COM         7
0
 
 
;'        Function: GRCOLINIT    '
 
 
    " R_R GRCOLINIT N;C
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   C_2 2 2$ECD(8$MIN4 1$DSC$QGRCAPABILITIES N)$TAK0 7 4 2 6 1 5 3
[3]   R_R,(0=-1$TAK$R R)/C
[4]   $GO 0
[5]  $COM  NAME:          GRCOLINIT
[6]  $COM  PURPOSE:       To return the default color list if the
[7]  $COM                 user has not specified which colors to use.
    "
 
$COM  $QGRCAPABILITIES   2
$COM  C                  0     2_    3
$COM  N                  0     2
$COM  R                  0_    0     3_    3     3
0
 
 
;'        Function: GRCOM        '
 
 
    " R_C GRCOM I;CL
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   CL_((C=1$TAKC)/$I $R C),1+$R C
[3]   R_(C[R+1]=1$TAKI)/R_(CL<($R C)+$QIO$-$R I_GRup $QXL I)/CL
[4]   $GO (1>$R R_CL$I (I&.=C[(-1+$I $R I)$SC.+R+1+~$QIO])/R)/0
[5]   CMD_(~$QIO)$DRPC[CL[I]+$I CL[I+1]$-CL[I_$TAKR]+1]
[6]   $GO 0
[7]  $COM
[8]  $COM*I*    NAME:       GRCOM
[9]  $COM       PURPOSE:    To determine the command name.
[10] $COM       DESCRIPTION:
[11] $COM  This function is used to determine if the string
[12] $COM  contained in the right argument is a command or has
[13] $COM  enough characters to make it unique enough to be a
[14] $COM  command.  Every command that it might subset to is returned.
[15] $COM
[16] $COM  The result returned is the command number ($QIO
[17] $COM  independant) of the commands of which this is a subset.
[18] $COM
[19] $COM  A major side effect is that the global variable
[20] $COM  CMD is set to be the full text of the command name if
[21] $COM  there is only one possible command.
    "
 
$COM  $QIO    3     4     5
$COM  $QXL    3
$COM  C       0     2     2     2     2     3]    3     4]    5]
$COM  CL      0     2_    3     3     4     5]    5]    5]
$COM  CMD     5_
$COM  GRup    3
$COM  I       0     3     3_    3     4     4     5     5     5_
$COM  R       0_    3_    3     3_    4_    4     4     5
0
 
 
;'        Function: GRDATE       '
 
 
    " GRDATE
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (3$NE$R GRval)/er
[3]   GRvalm_GRvalm,[1]GRval,GRval
[4]   $GO 0
[5]  er:'*** ERROR ***'
    "
 
$COM  GRval    2     3     3
$COM  GRvalm   3_    3
$COM  er       2     5:
0
 
 
;'        Function: GRDATEE      '
 
 
    " GRDATEE
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   GRvalm[$TAK$R GRvalm;4 5 6]_GRval
    "
 
$COM  GRval    2
$COM  GRvalm   2]_   2
0
 
 
;'        Function: GRDEFCOLS    '
 
 
    " R_GRDEFCOLS;C;V
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   C_'BLUE' 'GREEN' 'RED' 'YELLOW' 'CYAN' 'MAGENTA'
[3]   C_C,'WHITE' 'BLACK' 'GRAY'
[4]   C_C,'ORANGE' 'BROWN' 'PURPLE' 'PINK' 'DRKGREEN' 'LTBLUE'
[5]   V_0 0 1 0 1 0 1 0 0 1 1 0 0 1 1 1 0 1 1 1 1 0 0 0 0.7 0.7 0.7
[6]   V_V,1 0.7 0 0.75 0.25 0.25 0.7 0.4 0.7 1 0.5 0.7 0.3 0.7 0.3 0.4 0.7 0.8
[7]   R_C(15 3$R V)
[8]   $GO 0
[9]  $COM  NAME:          GRDEFCOLS
[10] $COM  PURPOSE:       To define the colors that this package
[11] $COM              understands.
    "
 
$COM  C    0     2_    3_    3     4_    4     7
$COM  R    0_    7_
$COM  V    0     5_    6_    6     7
0
 
 
;'        Function: GRDEFFILLS   '
 
 
    " R_GRDEFFILLS;C;V
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   C_' SOLID VERTICAL HORIZONTAL CROSS BACKSLASH SLASH XCROSS CLEAR'
[3]   V_0 1 2 3 4 5 6 -1,$"200
[4]   R_C V
[5]   $GO 0
[6]  $COM  NAME:          GRDEFFILLS
[7]  $COM  PURPOSE:    To define the fill patterns that this workspace knows.
    "
 
$COM  C     0     2_    4
$COM  R     0_    4_
$COM  V     0     3_    4
0
 
 
;'        Function: GRDEFLINES   '
 
 
    " R_GRDEFLINES;C;V
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   C_'SOLID' 'DASH' 'DOT' 'DOT1' 'DOT2' 'DOT3' 'DOT4'
[3]   C_C,'DASH1' 'DASH2' 'DASH3' 'DASH4' 'SDASH1' 'SDASH2' 'SDASH3' 'SDASH4'
[4]   C_C,'MDASH1' 'MDASH2' 'MDASH3' 'MDASH4' 'LDASH1' 'LDASH2' 'LDASH3'
[5]   C_C,'LDASH4' 'DASH$-DOT' 'SDASH$-DOT' 'MDASH$-DOT' 'LDASH$-DOT'
[6]   C_C,'DASH$-SDASH' 'MDASH$-DASH' 'LDASH$-DASH' 'MDASH$-SDASH'
[7]   C_C,'LDASH$-SDASH' 'LDASH$-MDASH'
[8]   V_1 2 10 12 14 16 18         $COM  SOLID       -> DOT4
[9]   V_V,52 54 56 58 32 34 36 38  $COM  DASH1       -> SDASH4
[10]  V_V,72 74 76 78 92 94 96 98  $COM  MDASH1      -> LDASH4
[11]  V_V,5212 3212 7212 9212      $COM  DASH-DOT    -> LDASH-DOT
[12]  V_V,5232 7252 9252 7232      $COM  SDASH-DASH  -> MDASH-SDASH
[13]  V_V,9232 9272                $COM  LDASH-SDASH -> LDASH-MDASH
[14]  R_C V
[15]  $GO 0
[16] $COM  NAME:       GRDEFLINES
[17] $COM  PURPOSE:    To define the line styles that this workspace knows.
    "
 
$COM  C      0     2_    3_    3     4_    4     5_    5     6_    6     7_
$COM         7    14
$COM  R      0_   14_
$COM  V      0     8_    9_    9    10_   10    11_   11    12_   12    13_
$COM        13    14
0
 
 
;'        Function: GRDONESURF   '
 
 
    " GRDONESURF;T
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   (1 2$R 0 0)$QSM 'GRDONESURF'
[3]   $GO $QGRTSEG$DRPok $DMD $QGRTSEGC
[4]  ok:$QGRUNSURFACE T_$QGRSURFACES
[5]   $QGRTERMSURF T $DMD $GO 0
[6]  $COM  NAME:       GRDONESURF
[7]  $COM  PURPOSE:    To terminate usage of a view surface.  Used by
[8]  $COM              the DONE/END/QUIT commands.
    "
 
$COM  $QGRSURFACES    4
$COM  $QGRTERMSURF    5
$COM  $QGRTSEG        3
$COM  $QGRTSEGC       3
$COM  $QGRUNSURFACE   4
$COM  $QSM            2
$COM  T               0     4_    5
$COM  ok              3     4:
0
 
 
;'        Function: GRFCMDS      '
 
 
    " R_GRFCMDS
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   R_' PIE STEP BAR LINE PLOT BAR3D ENTER QUIT END DEBUG HELP ?? ! LOAD SAVE DROP LIB'
    "
 
$COM  R   0_    2_
0
 
 
;'        Function: GRFILL       '
 
 
    " GRFILL N
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $QGRPOLYGON 4 2$R N[1 2 1 2 1 2 1 2]+0 0 0.17 0 0.17 0.17 0 0.17$-0.076
[3]   $GO (1$NE$QGRFILL_1$MAXC|$QGRFILL+1)/0
[4]   GRSETFILL E_E+1 $DMD $GO 0
[5]  $COM NAME:        GRFILL
[6]  $COM PURPOSE:     To fill a square of size .17 at the position indicated
[7]  $COM              by the right argument and to select the next interior
[8]  $COM              style and color.
    "
 
$COM  $QGRFILL      3_    3
$COM  $QGRPOLYGON   2
$COM  C             3
$COM  E             4_    4
$COM  GRSETFILL     4
$COM  N             0     2]
0
 
 
;'        Function: GRFINPUT     '
 
 
    " R_GRFINPUT F;I;J;K
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $XEC')SET $Q0 ',(1 $QTSQZ F),',FUN=IN' $DMD R_0 0$R K_0
[3]  l:$GO ((0=J),K$GEJ_$R I_$Q0)/x c $DMD R_(($TAK$R R),J)$TAKR $DMD K_J
[4]  c:R_R,[1]K$TAKI $DMD $GO l
[5]  x:$XEC')SET $Q0 ME' $DMD $GO 0
[6]  $COM  NAME:    GRFINPUT
[7]  $COM  PURPOSE: To read the named file and return its contents as a
[8]  $COM           character matrix.
    "
 
$COM  $QTSQZ   2
$COM  F        0     2
$COM  I        0     3_    4
$COM  J        0     3     3_    3     3
$COM  K        0     2_    3     3_    4
$COM  R        0_    2_    3_    3     3     4_    4
$COM  c        3     4:
$COM  l        3:    4
$COM  x        3     5:
0
 
 
;'        Function: GRFIXGRID    '
 
 
    " GRID_XY GRFIXGRID GRID;E;IS;K;M;N;P;Q;S;W
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (~13$E GRopt)/0
[3]   K_,(((($TAK$R XY)%12),36)$R XY)[;,27 3 6 21 12 27$SC.+2 3]
[4]   (W IS)_(,0 1$DRPGRID)GRISECT K
[5]  $COM     W  <==>  #grid_sizes -by- total_polygon_sides
[6]  $COM     IS <==>  #grid_sizes -by- total_polygon_sides -by- 2
[7]   Q_~($I Q)$E 3#$I (Q_$TAK$R W)%3        $COM  Remove side not in grid
[8]   W_Q$RD1W $DMD IS_Q$RD1IS
[9]   IS_0 0 -2$DRP(Q_($R IS)#0.5 0.3333333333333333 6)$R IS
[10]  W_0 0 -2$DRPQ$R 2/W $DMD Q_Q+0 0 -2
[11] $COM     W   <==>   #grid_lines   -by-   #polygons   -by-   10
[12]  W_W&~(Q$R 10/0$MAX-4++/W)$GEW#+\IS=0 0 -2$DRP(Q+0 0 2)$R K
[13] $COM   Remove multiple vertex hits
[14]  N_2=+/W
[15]  W_W&Q$R 10/N=N&(S_Q[2]%2)$REV$OR/W
[16] $COM     W   <==>  Ignore when only hit a vertex (i.e. no exit)
[17]  N_3 1 2$TPSQ[3 1 2]$R 2=+/W
[18]  ((,N&S$REV[2]W)/,IS)_(,N&S$REV[2]W)/,S$REV[2]IS
[19]  W_W$ORN&W$ORS$REV[2]W
[20]  W_W&(Q$R N=0)$OR~(Q$R N_10/0$MAX-4++/W)$GEW#+\IS=0 0 -2$DRP(Q+0 0 2)$R K
[21] $COM     W   <==>  Make an exit for every entry
[22] $COM     IS  <==>  and correct exit/entry location
[23]  Q_$OR$RD1$OR/W                        $COM   Remove un-involved polygons
[24]  W_Q/[2]W $DMD IS_Q/[2]IS
[25]  M_$R IS_(($R W),4)$R (4/,W_$OR/W)\(,W)/,IS
[26]  IS_IS,[2]M[1 3]$R GRID[2/-1+3#$I M[1];2 3] $DMD W_W,[2]1 $DMD M_M+0 1 0
[27]  IS_(2#IS[;;1]>IS[;;3])$REVIS
[28]  IS_M$R (,IS)[(-3+4#K_$GU,IS[;;1]+$TPSM[2 1]$R 100#$I $TAKM)$SC.+0 1 2 3]
[29]  W_($R W)$R (,W)[K]
[30]  Q_($MAX\[2]IS[;;3])>(0 1$DRPIS[;;1]),99999
[31]  N_Q$NEQ$OR-1$REVQ
[32]  K_(N$ORQ)$NE0 -1$DRP0,Q
[33]  P_IS[;;1 2]
[34]  ((,2/N)/,P)_(,2/K)/,P
[35]  IS[;;1 2]_P
[36]  W_W&~Q
[37]  IS_0 1 1 0 1 1\IS $DMD IS[;;4]_1
[38]  IS_(M[1],#/M[2 3]+0 2)$R IS+0
[39]  S_1,GRID[-2+3#$I M[1];2 3]
[40]  K_($R S)$R 1
[41]  GRID_(,K,(6/W),K)/,S,IS,GRID[3#$I M[1];]
[42]  GRID_((($R GRID)%3),3)$R GRID
    "
 
$COM  E                  0
$COM  GRID               0_    0     4    26]   39]   41_   41]   42_   42
$COM                    42
$COM  GRISECT            4
$COM  GRopt              2
$COM  IS                 0     4     8_    8     9_    9     9    12    18
$COM                    18    20    24_   24    25_   25    26_   26    27_
$COM                    27]   27]   27    28_   28    28]   30]   30]   33]
$COM                    35]_  37_   37    37]_  38_   38    41
$COM  K                  0     3_    4    12    20    28_   29    32_   34
$COM                    40_   41    41
$COM  M                  0    25_   26]   26]   26_   26    28    28]   28
$COM                    38]   38]   39]   41]
$COM  N                  0    14_   15    15    17_   18    18    19    20
$COM                    20_   31_   32    34
$COM  P                  0    33_   34    34    35
$COM  Q                  0     7_    7     7_    8     8     9_   10    10_
$COM                    10    12    12    15    15]   17]   20    20    20
$COM                    23_   24    24    30_   31    31    31    32    32
$COM                    36
$COM  S                  0    15_   18    18    18    19    39_   40    41
$COM  W                  0     4     7     8_    8    10_   10    12_   12
$COM                    12    12    14    15_   15    15    17    18    18
$COM                    19_   19    19    19    20_   20    20    20    23
$COM                    24_   24    25    25_   25    25    26_   26    29_
$COM                    29    29    36_   36    41
$COM  XY                 0     3     3
0
 
 
;'        Function: GRFIXTEXT    '
 
 
    " R_GRFIXTEXT R;AV
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   AV_$QAV $DMD AV[$QAV$I '_-"%']_'$_$-$"$R'
[3]   R_AV $QXL R
[4]   $GO 0
[5]  $COM  NAME:    GRFIXTEXT
[6]  $COM  PURPOSE: To change certain internal APL characters so that
[7]  $COM           they display "nicely" when used in graphics output.
    "
 
$COM  $QAV   2     2
$COM  $QXL   3
$COM  AV     0     2_    2]_   3
$COM  R      0_    0     3_    3
0
 
 
;'        Function: GRFIXVLINE   '
 
 
    " LINE_XY GRFIXVLINE LINE;K;W;IS
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (~13$E GRopt)/0
[3]   K_,(((($TAK$R XY)%12),36)$R XY)[;,27 3 6 21 12 27$SC.+2 3]
[4]   (W IS)_(,LINE)GRISECT K
[5]   LINE[1;2]_$MAX/LINE[1;2],(,W)/,IS[;;2]
    "
 
$COM  GRISECT   4
$COM  GRopt     2
$COM  IS        0     4     5]
$COM  K         0     3_    4
$COM  LINE      0_    0     4     5]_   5]
$COM  W         0     4     5
$COM  XY        0     3     3
0
 
 
;'        Function: GRFLABEL     '
 
 
    " R_GRFLABEL R
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (''''$NE$TAKR)/0
[3]   R_1$DRP-1$DRP$QSSR R '''''' ''''
[4]   $GO 0
[5]  $COM  NAME:    GRFLABEL
[6]  $COM  PURPOSE: To remove quotes around labels and embedded double
[7]  $COM           quotes.
    "
 
$COM  $QSSR   3
$COM  R       0_    0     2     3_    3
0
 
 
;'        Function: GRFONTNUM    '
 
 
    " R_GRFONTNUM N;MYNAME;TN
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $QFCLOSE(TN$E $QFNUMS)/TN_71828 $DMD R_$QFI N $DMD $GO ($QVI N)/x
[3]   (1 2$R nf 79)$QSM MYNAME_'GRFONTNUM'
[4]   'XG$FONT.:LIBRARY,ALL' $QFOPEN TN
[5]   $GO (2$NE$R R_$QFREAD TN(10$TAKN)0 3)/nf $DMD $QFCLOSE TN
[6]   R_3 18 $QCVT R $DMD $GO 0
[7]  nf:R_-1
[8]   $QFCLOSE(TN$E $QFNUMS)/TN $DMD $GO 0
[9]  x:$GO ((1$NE$R ,R)$OR(10000000000$OR.<,R)$OR($MAX,R)$OR.$NE$MIN,R)/nf
    "
 
$COM  $QCVT          6
$COM  $QFCLOSE       2     5     8
$COM  $QFI           2
$COM  $QFNUMS        2     8
$COM  $QFOPEN        4
$COM  $QFREAD        5
$COM  $QSM           3
$COM  $QVI           2
$COM  MYNAME         0     3_
$COM  N              0     2     2     5
$COM  R              0_    2_    5_    6_    6     7_    9     9     9     9
$COM  TN             0     2     2_    4     5     5     8     8
$COM  nf             3     5     7:    9
$COM  x              2     9:
0
 
 
;'        Function: GRFORMCMD    '
 
 
    " ERROR$_MESSAGE_GRFORMCMD B;MYNAME;LINE;R;T;CMD
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   ERROR$_MESSAGE_'' $DMD $GO (' '&.=B)/0
[3]   $GO (0=$R R_GRLEX LINE_B)/0     $COM  Stop if already an error
[4]   T_GRfcmds GRCOM$TAKR
[5]   $GO p p p p p p x p p d p p i l p p p[T]
[6]   ERROR$_MESSAGE_'''',($TAKR),''' is not a legal command' $DMD $GO 0
[7]  p:GRPARSE 0 $QTSQZ LINE
[8]   $GO 0
[9]  l:GRPARSE 0 $QTSQZ LINE $DMD GRFORMCURRENT $DMD $GO 0
[10] x:GRtype_100 $DMD $GO 0
[11] i:RLSWIN 9 $DMD GRPARSE 0 $QTSQZ LINE $DMD '' $QSTOP 'GRFORMCMD'
[12]  $GO stop
[13] d:RLSWIN 9 $DMD stop $QSTOP MYNAME_'GRFORMCMD'
[14] stop:GRAF$_FORM PUTWIN 9 $DMD GRFORMCURRENT $DMD GRtype_-1 $DMD $GO 0
    "
 
$COM  $QSTOP          11    13
$COM  $QTSQZ           7     9    11
$COM  B                0     2     3
$COM  CMD              0
$COM  ERROR$_MESSAGE   0_    2_    6_
$COM  GRAF$_FORM      14
$COM  GRCOM            4
$COM  GRFORMCURRENT    9    14
$COM  GRLEX            3
$COM  GRPARSE          7     9    11
$COM  GRfcmds          4
$COM  GRtype          10_   14_
$COM  LINE             0     3_    7     9    11
$COM  MYNAME           0    13_
$COM  PUTWIN          14
$COM  R                0     3_    4     6
$COM  RLSWIN          11    13
$COM  T                0     4_    5
$COM  d                5    13:
$COM  i                5    11:
$COM  l                5     9:
$COM  p                5     5     5     5     5     5     5     5     5
$COM                   5     5     5     5]    7:
$COM  stop            12    13    14:
$COM  x                5    10:
0
 
 
;'        Function: GRFORMCOLOR  '
 
 
    " ERROR$_MESSAGE_GRFORMCOLOR B;LINE;T;GRtype
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   ERROR$_MESSAGE_''
[3]   $GO (' '&.=B)/0
[4]   GRPARSE LINE_'COLOR ',(T/'('),B,(T_~($ENCB)$E 'YES' 'NO')/')'
    "
 
$COM  B                0     3     4     4
$COM  ERROR$_MESSAGE   0_    2_
$COM  GRPARSE          4
$COM  GRtype           0
$COM  LINE             0     4_
$COM  T                0     4     4_
0
 
 
;'        Function: GRFORMCURRENT'
 
 
    " R_GRFORMCURRENT;T;Q;Z;D;I;F;J;S;CR;B
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   T_GRFORMID 'TITLE' 'XNAME' 'YNAME' 'NOTE'
[3]   T GRFORMPUT$"(F_GRfonts[I])GRFORMPFIXLBL$"GRlabels[I_1 4 5 3]
[4]   (T+1)GRFORMPUT$"$FMT$"F
[5]   T_4$TAKGRlabels[GRloc] $DMD F_4$TAKGRfonts[GRloc]
[6]   ((GRFORMID 'SUBTITLE1')+-1+$I 4)GRFORMPUT$"F GRFORMPFIXLBL$"T
[7]   ((GRFORMID 'BORDER')+-1+$I 7)GRFORMPUT$"'NY'[1+2 1 3 10 12 11 13$E GRopt]
[8]   F_T_,' ' $DMD $GO J_(0=$R GRfill)/fx
[9]   Z_($TAK$" S_2$DSC Q_GRDEFFILLS)$I$TAK$" GRfill
[10]  $GO(~1$E F_Z=1+S_$R S)/ff $DMD J_$TAK,/' ',$" 3$DSC$" F/GRfill $DMD (F/Z)_S+$I+/F
[11] ff:F_(0 200&.$NE F)/F_-1$TAK$TAK(0$R$ENC 0 0),(~F)/GRfill
[12]  T_((' '$NE T)/T_1$DRP,',',Z GRVSELECT(1$DSC Q),J)
[12.1] fx:(GRFORMID 'FILLPATTERN')GRFORMPUT T,'  ',$FMT F
[13]  T_,' ' $DMD $GO (GRlines$EQV,1)/sx $DMD Q_GRDEFLINES
[14]  T_((' '$NET)/T_1$DRP,',',$DSC($TAKQ)[(2$DSCQ)$I GRlines])
[15] sx:(GRFORMID 'LINESTYLE')GRFORMPUT T
[16]  T_,' ' $DMD $GO (0=$QNC 'GRcols')/cx $DMD T_,'YES' $DMD $GO (0=$R GRcols)/cx
[17]  Z_(2$DSCQ_GRDEFCOLS)&.=GRcols
[18]  T_((' '$NET)/T_1$DRP,',',$DSC(($OR/Z)/1$DSCQ)[$GU(T$NE0)/T_Z$MAX.#$I -1$TAK$R Z])
[19] cx:(GRFORMID 'COLOR')GRFORMPUT T
    "
 
$COM  $QNC            16
$COM  B                0
$COM  CR               0
$COM  D                0
$COM  F                0     3_    4     5_    6    10_   10    10
$COM  GRDEFCOLS       17
$COM  GRDEFFILLS       9
$COM  GRDEFLINES      13
$COM  GRFORMID         2     6     7    12    15    19
$COM  GRFORMPFIXLBL    3     6
$COM  GRFORMPUT        3     4     6     7    12    15    19
$COM  GRcols          16    17
$COM  GRfill           8     9    10
$COM  GRfonts          3]    5]
$COM  GRlabels         3]    5]
$COM  GRlines         13    14
$COM  GRloc            5     5
$COM  GRopt            7
$COM  I                0     3     3_
$COM  J                0     8_   10_   10    11
$COM  Q                0     9_   11    13_   14    14    17_   18
$COM  R                0_
$COM  S                0     9_   10_   10    10
$COM  T                0     2_    3     4     5_    6     8_   11_   11
$COM                  11_   12    13_   14_   14    14_   15    16_   16_
$COM                  18_   18    18_   18    18_   19
$COM  Z                0     9_   10    10    11    17_   18    18    18
$COM  cx              16    16    19:
$COM  ff              10    11:
$COM  fx               8    12:
$COM  sx              13    15:
0
 
 
;'        Function: GRFORMDRIVER '
 
 
    " GRFORMDRIVER;ERROR$_MESSAGE;MYNAME;LINE;Z;LN;GRfcmds
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   GRform_1 $DMD GRfcmds_GRFCMDS
[3]   GRAF$_FORM PUTWIN 9 $DMD GRFORMCURRENT
[4]  lp:GRtype_-1
[5]   Z_GRAF$_FORM FORMINPUT 9,(GRAF$_FORM[;6]=0)/$I $TAK$R GRAF$_FORM
[6]   (GRFORMID 'COMMAND')GRFORMPUT,' '
[7]   $GO (GRtype=-1 -3 100)/lp exit exit $DMD ERROR$_MESSAGE_''
[8]   GRAF
[9]   $GO (0=$R ERROR$_MESSAGE)/lp
[10]  (GRFORMID 'ERROR$_MESSAGE')GRFORMPUT ERROR$_MESSAGE
[11]  $GO lp
[12] exit:RLSWIN 9 $DMD GRform_0 $DMD $GO 0
    "
 
$COM  ERROR$_MESSAGE   0     7_    9    10
$COM  FORMINPUT        5
$COM  GRAF             8
$COM  GRAF$_FORM       3     5     5]    5
$COM  GRFCMDS          2
$COM  GRFORMCURRENT    3
$COM  GRFORMID         6    10
$COM  GRFORMPUT        6    10
$COM  GRfcmds          0     2_
$COM  GRform           2_   12_
$COM  GRtype           4_    7
$COM  LINE             0
$COM  LN               0
$COM  MYNAME           0
$COM  PUTWIN           3
$COM  RLSWIN          12
$COM  Z                0     5_
$COM  exit             7     7    12:
$COM  lp               4:    7     9    11
0
 
 
;'        Function: GRFORMFILL   '
 
 
    " ERROR$_MESSAGE_GRFORMFILL B;LINE;GRtype
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   ERROR$_MESSAGE_''
[3]   $GO C_(' '&.=B)/0
[4]   $GO(1=$R Q_<\($ENC '')$R$" $QVI$" T_GRLEX B)/do
[5]   C_$TAK Q/T
[6]   B_$TAK,/' ',$"(~Q)/T
[7]  do:GRPARSE LINE_'FILL (',B,') ',C
    "
 
$COM  B                0     3     4
$COM  ERROR$_MESSAGE   0_    2_
$COM  GRPARSE          4
$COM  GRtype           0
$COM  LINE             0     4_
0
 
 
;'        Function: GRFORMFONT   '
 
 
    " R_A GRFORMFONT B;F;T
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (0$NE$R R_(A<0)/'EH?')/0 $DMD F_$QFI B $DMD A_1+A
[3]   $GO ((1=$R T)&~0$E T_$QVI B)/ok
[4]   $GO (-1=F_GRFONTNUM B)/erf
[5]  ok:T_GRfonts[A] $DMD GRfonts[A]_F
[6]   $GO ((T$E 28 29)=F$E 28 29)/0
[7]   (A$DSCGRlabels)_(T$E 28 29)$QTSQZ A$DSCGRlabels
[8]   $GO 0
[9]  erf:R_'Font named: ''',B,''' does not exist!'
    "
 
$COM  $QFI         2
$COM  $QTSQZ       7
$COM  $QVI         3
$COM  A            0     2     2_    2     5     5     7     7
$COM  B            0     2     3     4     9
$COM  F            0     2_    4_    5     6
$COM  GRFONTNUM    4
$COM  GRfonts      5]    5]_
$COM  GRlabels     7     7
$COM  R            0_    2_    9_
$COM  T            0     3     3_    5_    6     7
$COM  erf          4     9:
$COM  ok           3     5:
0
 
 
;'        Function: GRFORMID     '
 
 
    " R_GRFORMID N
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (1$GE$EQVN)/s $DMD R_GRAF$_FORM[;8]$I N $DMD $GO 0
[3]  s:R_GRAF$_FORM[;8]$I $ENCN
    "
 
$COM  GRAF$_FORM   2]    3]
$COM  N            0     2     2     3
$COM  R            0_    2_    3_
$COM  s            2     3:
0
 
 
;'        Function: GRFORMLABEL  '
 
 
    " R_A GRFORMLABEL B;F;GRval;GRtx;T
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   R_'' $DMD $GO (' '&.=B)/erase
[3]   $GO (A<0)/s $DMD GRlabels[1+A]_$ENCB $DMD $GO (~GRfonts[1+A]$E 28 29)/0
[4]   GRlabels[1+A]_$ENC0 $QTSQZ B $DMD $GO 0
[5]  s:$GO (($R GRloc)$GE|A)/m $DMD $GO ((1+$R GRloc)=|A)/n
[6]   R_'You must enter Subtitles in order' $DMD $GO 0
[7]  n:GRtx_-1 $DMD GRval_B $DMD 13 GRTEXT 0 $DMD $GO 0
[8]  m:GRlabels[F_GRloc[|A]]_$ENCB $DMD $GO (~GRfonts[F]$E 28 29)/0
[9]   GRlabels[F]_$ENC0 $QTSQZ B $DMD $GO 0
[10] $COM  An empty vector was entered
[11] erase:$GO (A<0)/es $DMD GRlabels[A+1]_$ENC,'' $DMD $GO 0
[12] es:$GO (($R GRloc)<|A)/0 $DMD T_(|A)$NE$I $R GRloc
[13]  F_(-1+$I 4)+GRFORMID 'SUBTITLE1'
[14]  GRloc_T/GRloc $DMD $GO (0=-1$TAKT)/0
[15]  F GRFORMPUT$"4$TAKGRlabels[GRloc]
[16]  $GO 0
    "
 
$COM  $QTSQZ       4     9
$COM  A            0     3     3     3     4     5     5     8    11    11
$COM              12    12
$COM  B            0     2     3     4     7     8     9
$COM  F            0     8_    8     9    13_   15
$COM  GRFORMID    13
$COM  GRFORMPUT   15
$COM  GRTEXT       7
$COM  GRfonts      3]    8]
$COM  GRlabels     3]_   4]_   8]_   9]_  11]_  15]
$COM  GRloc        5     5     8]   12    12    14_   14    15
$COM  GRtx         0     7_
$COM  GRval        0     7_
$COM  R            0_    2_    6_
$COM  T            0    12_   14    14
$COM  erase        2    11:
$COM  es          11    12:
$COM  m            5     8:
$COM  n            5     7:
$COM  s            3     5:
0
 
 
;'        Function: GRFORMPFIXLBL'
 
 
    " B_A GRFORMPFIXLBL B
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (~A$E 28 29)/0
[3]   B_1 $QTSQZ B
    "
 
$COM  $QTSQZ   3
$COM  A        0     2
$COM  B        0_    0     3_    3
0
 
 
;'        Function: GRFORMPUT    '
 
 
    " A GRFORMPUT B
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $Q9_A((1$MAX$R B)$TAKB_,B)
    "
 
$COM  A   0     2
$COM  B   0     2     2_    2
0
 
 
;'        Function: GRFORMSTYLE  '
 
 
    " ERROR$_MESSAGE_GRFORMSTYLE B;LINE;GRtype
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   ERROR$_MESSAGE_''
[3]   $GO (' '&.=B)/0
[4]   GRPARSE LINE_'STYLE (',(0 $QTSQZ B),')'
    "
 
$COM  $QTSQZ           4
$COM  B                0     3     4
$COM  ERROR$_MESSAGE   0_    2_
$COM  GRPARSE          4
$COM  GRtype           0
$COM  LINE             0     4_
0
 
 
;'        Function: GRFORMYN     '
 
 
    " R_A GRFORMYN B
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   R_(~B$E 'YN')/'Only Y or N may be entered for field: ',(2 1 3 10 12 11 13$I A)$DSC'BORDER' 'FRAME' 'GRID' 'PERCENTAGES' 'FILL' 'STACK' 'HIDE'
[3]   $GO (0$NE$R R)/0
[4]   GRopt_((GRopt$NEA)/GRopt),(B='Y')/A
[5]   $GO 0
    "
 
$COM  A       0     2     4     4
$COM  B       0     2     4
$COM  GRopt   4_    4     4
$COM  R       0_    2_    3
0
 
 
;'        Function: GRFRAME      '
 
 
    " GRFRAME
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $QGRLINE 5 2$R $QGRWINDOW[1 3 1 4 2 4 2 3]
    "
 
$COM  $QGRLINE     2
$COM  $QGRWINDOW   2]
0
 
 
;'        Function: GRGETCOM     '
 
 
    " R_GRGETCOM;P;I;CR
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   P_':' $DMD R_'' $DMD CR_$QAV[14]
[3]  lp:$QQ_P $DMD $GO (0=$R I_$QQ)/x $DMD R_R,($-';'=-1$TAKI)$DRPCR,I
[4]   P_'+ ' $DMD $GO (';'=-1$TAKI)/lp
[5]  x:R_NB(CR=$TAKR)$DRPR
[6]   $GO 0
[7]  $COM     NAME:       GRGETCOM
[8]  $COM     PURPOSE:    To read and return an entire command.
[9]  $COM     DESCRIPTION:
[10] $COM        Quote-quad input is used to obtain input after
[11] $COM        prompting with a ':'.  If the last character input
[12] $COM        is a semi-colon, then more input is requested using
[13] $COM        '+ ' as the prompt.
    "
 
$COM  $QAV   2]
$COM  CR     0     2_    3     5
$COM  I      0     3_    3     3     4
$COM  NB     5
$COM  P      0     2_    3     4_
$COM  R      0_    2_    3_    3     5_    5     5
$COM  lp     3:    4
$COM  x      3     5:
0
 
 
;'        Function: GRHIDE       '
 
 
    " XY_GRHIDE XY;I;MASK;N;Q;T;XH;XL;YH;YL;QH;QL;PH;PL;Z
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (~13$E GRopt)/0
[3]   Z_(12$R 0 1 1)/((($TAK$R XY)%4),12)$R XY $COM  Isolate each polygon
[4]   Q_((($TAK$R XY)%12),36)$R XY             $COM  Isolate each bar
[5]   Q_Q[;,12 21 6 3 27$SC.+2 3]              $COM  Only look at tops of bars
[6]   XH_$MAX/T_Z[;-1+2#$I 4] $DMD XL_$MIN/T
[7]   YH_$MAX/T_Z[;2#$I 4] $DMD YL_$MIN/T
[8]   QH_$MAX/T_Q[;-1+2#$I 5] $DMD QL_$MIN/T
[9]   PH_$MAX/T_Q[;2#$I 5] $DMD PL_$MIN/T
[10]  MASK_(YL$SC.<PH)&(YH$SC.>PL)&(XL$SC.<QH)&(XH$SC.>QL)
[11]  MASK_MASK&($I $R XH)$SC.<1+3#-1+$I $R QH   $COM  Only polygons behind
[12] $COM
[13]  $GO (0=+/,MASK)/0                         $COM  No overlapping polygons
[14] $COM
[15]  MASK_(T_0$NE+$RD1MASK)/MASK             $COM  Release un-hiding bars
[16]  Q_T$RD1Q
[17] $COM
[18]  XY_(4/~T_$OR/MASK)$RD1XY
[19] lp:I_$TAKT$I 1
[20]  N_$TAKGRPOLYCLIP/($ENC[2]MASK[I;]$RD1Q),$ENCZ[I;]
[21]  XY_XY,[1](($TAK$R N)$TAK1),N $DMD T[I]_0
[22]  $GO (1$E T)/lp
    "
 
$COM  GRPOLYCLIP  20
$COM  GRopt        2
$COM  I            0    19_   20    20    21
$COM  MASK         0    10_   11_   11    13    15_   15    15    18    20]
$COM  N            0    20_   21    21
$COM  PH           0     9_   10
$COM  PL           0     9_   10
$COM  Q            0     4_    5_    5]    8]    9]   16_   16    20
$COM  QH           0     8_   10    11
$COM  QL           0     8_   10
$COM  T            0     6_    6     7_    7     8_    8     9_    9    15_
$COM              16    18_   19    21]_  22
$COM  XH           0     6_   10    11
$COM  XL           0     6_   10
$COM  XY           0_    0     3     3     4     4    18_   18    21_   21
$COM  YH           0     7_   10
$COM  YL           0     7_   10
$COM  Z            0     3_    6]    7]   20]
$COM  lp          19:   22
0
 
 
;'        Function: GRINIT       '
 
 
    " GRINIT S;MYNAME;I;J;Df;C
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   (1 2$R dm 4)$QSM MYNAME_'GRINIT' $DMD Df_0
[3]  gt:I_$QGRSURFACES $DMD $GO (~$QGRTSEG)/gv $DMD $QGRTSEGC
[4]  gv:$QGRVIEWPORT_0 1 0 0.7 $DMD $QGRWINDOW_0 1 0 1 $DMD $GO lc
[5]  gi:$QGRINIT I_'' $DMD $QGRSPACE_1 0.7
[6]  lc:$QGRFILL_1 $DMD C_(1+0$NE$QNC 'GRcols')$DSC'INTENSITY' 'COLOR' $DMD $GO (0$NE$R S)/svs
[7]   $GO ((0=$R I)$OR~GRcoln)/ncc $DMD $GO (~$QGRTSEGO)/gsc $DMD $QGRTSEGC
[8]  gsc:$QGRUNSURFACE I $DMD $QGRTERMSURF$"I $DMD I_'' $DMD GRcoln_0
[9]  ncc:$GO (0=$R I)/gs $DMD $GO $QGRTSEG/xf $DMD $QGRTSEGO
[10] xf:$QGRFRAME $DMD $QGRCURRENT $DMD $GO 0
[11] gs:C $QGRINITSURF 2 $DMD $GO (~C$EQV'COLOR')/nct
[12]  _($TPSGRcols_GRcols GRCOLINIT 2)$QGRCOLINDEX 2
[13] nct:$QGRSURFACE 2 $DMD $QGRTSEGO
[14]  $QGRIMMVISIBILITY 'OFF' $DMD $QGRCURRENT $DMD $GO 0
[15] svs:$GO (0=$R I)/vx $DMD $GO (~$QGRTSEG)/su $DMD $QGRTSEGC $DMD $GO sux
[16] su:$GO (~$QGRSEGCURR)/sux $DMD $QGRSEGCLOSE
[17] sux:$QGRUNSURFACE I
[18]  $GO (~2$E I)/vx $DMD $QGRTERMSURF 2
[19] vx:I_C
[20]  $GO ((~','$E S)$OR(J_NB(-1+S$I ',')$TAKS)$E 'COLOR' 'INTENSITY')/si
[21]  C_I_J $DMD S_(S$I ',')$DRPS
[22] si:(I,',',S)$QGRINITSURF 2 $DMD $GO (~'COLOR'$EQVC)/ncv
[23]  _($TPSGRcols_GRcols GRCOLINIT 2)$QGRCOLINDEX 2 $DMD GRcoln_0
[24] ncv:$QGRSURFACE 2 $DMD $QGRTSEGO
[25]  $QGRIMMVISIBILITY 'OFF' $DMD $QGRCURRENT $DMD $GO 0
[26] dm:$GO (gt gi gs svs si=-1$TAK$QERN)/gi e0 e3 e2 e1
[27]  GRPERR ' *** Unexpected DOMAIN error ***'
[28]  $QERM $DMD $QERF,'[',($FMT-1$TAK$QERN),'] ',$QERL $DMD ((-1+$QERP)$R ' '),'&' $DMD $QERS 4
[29] e0:$GO e2
[30] e1:$GO ((C$EQV'COLOR')&si=-1$TAK$QERN)/1+si $DMD $GO e4
[31] e2:GRPERR '*** Graphics initialization problem' $DMD ($XEC')?')$QERS 955
[32] e3:$GO ((C$EQV'COLOR')&gs=-1$TAK$QERN)/1+gs
[33]  GRPERR '*** Graphics view surface initialization error' $DMD ($XEC')?')$QERS 951
[34] e4:GRPERR '*** Can''t output to specified view surface' $DMD ($XEC')?')$QERS 950
[35] $COM
[36] $COM  NAME:       GRINIT
[37] $COM  PURPOSE:    To initialize CP-6 graphics.
[38] $COM  DESCRIPTION: Graphics is initialized to the point of being
[39] $COM              able to produce graphics output.  If graphics
[40] $COM              has already been initialized to this point, a
[41] $COM              simple new frame action occurs.
    "
(1 2$R -1 900)$QSM 'GRINIT       '
 
$COM  $QERF              28
$COM  $QERL              28
$COM  $QERM              28
$COM  $QERN              26    28    30    32
$COM  $QERP              28
$COM  $QERS              28    31    33    34
$COM  $QGRCOLINDEX       12    23
$COM  $QGRCURRENT        10    14    25
$COM  $QGRFILL            6_
$COM  $QGRFRAME          10
$COM  $QGRIMMVISIBILITY  14    25
$COM  $QGRINIT            5
$COM  $QGRINITSURF       11    22
$COM  $QGRSEGCLOSE       16
$COM  $QGRSEGCURR        16
$COM  $QGRSPACE           5_
$COM  $QGRSURFACE        13    24
$COM  $QGRSURFACES        3
$COM  $QGRTERMSURF        8    18
$COM  $QGRTSEG            3     9    15
$COM  $QGRTSEGC           3     7    15
$COM  $QGRTSEGO           7     9    13    24
$COM  $QGRUNSURFACE       8    17
$COM  $QGRVIEWPORT        4_
$COM  $QGRWINDOW          4_
$COM  $QNC                6
$COM  $QSM                2
$COM  C                   0     6_   11    11    19    21_   22    30    32
$COM  Df                  0     2_
$COM  GRCOLINIT          12    23
$COM  GRPERR             27    31    33    34
$COM  GRcoln              7     8_   23_
$COM  GRcols             12_   12    23_   23
$COM  I                   0     3_    5_    7     8     8     8_    9    15
$COM                     17    18    19_   21_   22
$COM  J                   0    20_   21
$COM  MYNAME              0     2_
$COM  NB                 20
$COM  S                   0     6    20    20    20    21_   21    21    22
$COM  dm                  2    26:
$COM  e0                 26    29:
$COM  e1                 26    30:
$COM  e2                 26    29    31:
$COM  e3                 26    32:
$COM  e4                 30    34:
$COM  gi                  5:   26    26
$COM  gs                  9    11:   26    32    32
$COM  gsc                 7     8:
$COM  gt                  3:   26
$COM  gv                  3     4:
$COM  lc                  4     6:
$COM  ncc                 7     9:
$COM  nct                11    13:
$COM  ncv                22    24:
$COM  si                 20    22:   26    30    30
$COM  su                 15    16:
$COM  sux                15    16    17:
$COM  svs                 6    15:   26
$COM  vx                 15    18    19:
$COM  xf                  9    10:
0
 
 
;'        Function: GRINITFILLS  '
 
 
    " GRINITFILLS
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (0$NE$R GRfill)/0
[3]   $GO (0=$QNC 'GRcols')/bw $DMD $GO (2$GE$R GRcols)/bw
[4]   GRfill_0 3 6 4 2 5 1,$"200              $COM  Using colors
[5]   $GO 0
[6]  bw:GRfill_3 6 4 2 5 1 -1,$"200           $COM  Using one color
[7]   $GO 0
[8]  $COM  NAME:    GRINITFILLS
[9]  $COM  PURPOSE: To select the default fill patterns to use if
[10] $COM           the user has not selected a fill pattern.
    "
 
$COM  $QNC      3
$COM  GRcols    3
$COM  GRfill    2     4_    6_
$COM  bw        3     3     6:
0
 
 
;'        Function: GRINSIDE     '
 
 
    " Z_X GRINSIDE V;E;N;M2N2;XMN2;VMN2;R;C
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]  $COM TEST TO SEE IF POINT(S) LIE OUTSIDE POLYGON
[3]  $COM INPUTS:   V = SET OF ORDERED VERTICES
[4]  $COM           (PROCEEDING COUNTER-CLOCKWISE AROUND POLYGON)
[5]  $COM           SHAPE IS N-BY-2.
[6]  $COM        X = SET OF POINTS (M-BY-2) TO BE TESTED.
[7]  $COM OUTPUTS:  Z = BOOLEAN VECTOR (LENGTH M)...
[8]  $COM           Z[I]=1 IFF X[I;] LIES OUTSIDE POLYGON.
[9]   E_(1$RV1V)$-V_$RV1V
[10]  N_E+.#2 2$R 0 -1 1 0
[11]  M2N2_-4$TAK1 1,($R X),$R V
[12]  XMN2_2 1 3$TPSM2N2[3 1 2]$R X
[13]  VMN2_M2N2[1 3 4]$R V
[14]  R_XMN2$-VMN2
[15]  C_+/R#M2N2[1 3 4]$R N
[16]  Z_C$OR.$LE0
    "
 
$COM  C      0    15_   16
$COM  E      0     9_   10
$COM  M2N2   0    11_   12]   13]   15]
$COM  N      0    10_   15
$COM  R      0    14_   15
$COM  V      0     9     9_    9    11    13
$COM  VMN2   0    13_   14
$COM  X      0    11    12
$COM  XMN2   0    12_   14
$COM  Z      0_   16_
0
 
 
;'        Function: GRISECT      '
 
 
    " R_A GRISECT B;C;D;M;N;S;T;U;V;W;Z;CT
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]  $COM   NAME:    GRISECT
[3]  $COM   PURPOSE: To locate the intersection points of polygon A and B.
[4]  $COM   DESCRIPTION:
[5]  $COM         The right and left arguments are vectors of polygon vertices
[6]   N_($R A)%2 $DMD M_($R B)%2 $DMD CT_1E-12
[7]  $COM   C   <--->    (X1 # Y2)$- (X2 # Y1)
[8]  $COM   U   <--->    X1 Y1 $- X2 Y2
[9]   C_(#/0 1$RV1S)$-#/1 0$RV1S_(M,2)$R B
[10]  U_S$-1$RV1S
[11] $COM
[12]  D_(#/0 1$RV1S)$-#/1 0$RV1S_(N,2)$R A
[13]  V_S$-1$RV1S
[14] $COM
[15]  W_V$-.#$TPS$REVU
[16] $COM
[17]  R_((D$SC.#U)$-2 1 3$TPSC$SC.#V)%3 1 2$TPS(2,N,M)$R W+W=0
[18]  W_W$NE0 $DMD C_D_U_V_CT
[19]  T_T#Z_#T_R$-S_2 1 3$TPS(M,N,2)$R A
[20]  W_T_W&&/T$LEZ#((Z#CT)#CT>|S)+S_(1$RV1S)$-S
[21] $COM
[22]  T_T#Z_#T_R$-S_(N,M,2)$R B
[23]  W_W&&/T$LEZ#((Z#CT)#CT>|S)+S_(1$REV[2]S)$-S
[24] $COM
[25]  R_W R
    "
 
$COM  A       0     6    12    19
$COM  B       0     6     9    22
$COM  C       0     9_   17    18_
$COM  CT      0     6_   18    20    20    23    23
$COM  D       0    12_   17    18_
$COM  M       0     6_    9    17    19    22
$COM  N       0     6_   12    17    19    22
$COM  R       0_   17_   19    22    25_   25
$COM  S       0     9     9_   10    10    12    12_   13    13    19_   20
$COM         20_   20    20    22_   23    23_   23    23
$COM  T       0    19_   19    19_   20_   20    22_   22    22_   23
$COM  U       0    10_   15    17    18_
$COM  V       0    13_   15    17    18_
$COM  W       0    15_   17    17    18_   18    20_   20    23_   23    25
$COM  Z       0    19_   20    20    22_   23    23
0
 
 
;'        Function: GRLABEL      '
 
 
    " A GRLABEL LABEL;JUST;CHSIZE;FONT;LOC;UP
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (0=$R LABEL)/0
[3]   (LOC FONT CHSIZE JUST UP)_A
[4]   $QGRCHJUST_JUST $DMD GRCHSIZE CHSIZE $DMD $QGRFONT_FONT $DMD $QGRCHUP_UP
[5]   LOC $QGRTEXT LABEL
    "
 
$COM  $QGRCHJUST   4_
$COM  $QGRCHUP     4_
$COM  $QGRFONT     4_
$COM  $QGRTEXT     5
$COM  A            0     3
$COM  CHSIZE       0     3     4
$COM  FONT         0     3     4
$COM  GRCHSIZE     4
$COM  JUST         0     3     4
$COM  LABEL        0     2     5
$COM  LOC          0     3     5
$COM  UP           0     3     4
0
 
 
;'        Function: GRLEX        '
 
 
    " R_GRLEX L
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   R_$QTLEX(1 $QTSQZ L)(' ,=',$QAV[14])'()!' '$"$"''''' $DMD LN_0
[3]   R_('$"'$NE$TAK$"R)/R $DMD $GO 0
[4]  de:R_0$R '  ' '  '
[5]   GRPERR 'Unbalanced quotes'
[6]   $GO 0
[7]  $COM  NAME:       GRLEX
[8]  $COM  PURPOSE:    To turn the command input into a vector of
[9]  $COM              character vectors where each item represents
[10] $COM              a lex item.
    "
 
$COM  $QAV      2]
$COM  $QTLEX    2
$COM  $QTSQZ    2
$COM  GRPERR    5
$COM  L         0     2
$COM  LN        2_
$COM  R         0_    2_    3_    3     3     4_
$COM  de        4:
0
 
 
;'        Function: GRLINE       '
 
 
    " GRLINE GRdata;B;C;CI;CP;D;H;L;LW;LBLS;LOC;M;MP;MULT;MX;P;Q;S;SCARR;SI;ST;T;Z;ZF;ZI;ZL
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (($R GRdata)=$R GRloc)/do $DMD GRPERR 'Each set of data must be SUBTITLEd' $DMD $GO 0
[3]  do:$GO ((+/Q_$TAK$"$R $"GRdata)=-7+($R GRlabels)$-$R ST_(ZL_($I $R GRlabels)$E GRloc)/GRlabels)/dt
[4]   GRPERR 'Number of datanames does not equal number of data points' $DMD $GO 0
[5]  dt:ZI_CI_$QGRLI_1 $DMD $GO (C_0=$QNC 'GRcols')/nc $DMD CI_1$MAX2$MIN-1+C_1$MAX-1$TAK$R GRcols
[6]  nc:$QGRTSEGC $DMD $QGRWINDOW_0 10 0 7 $DMD $QGRCHPREC_'STROKE' $DMD $QGRFONT_13
[7]   $QGRLW_.12$MINLW_4 13$DSC$QGRCAPABILITIES$TAK$QGRSURFACES
[8]   $GO (~ZF_1$E GRopt)/nb $DMD $QGRVIEWPORT_0.05 0.95 0.035 0.665
[9]  nb:$QGRTSEGO $DMD $GO (~2$E GRopt)/nf $DMD $QGRLINE 5 2$R 0 0 0 7 10 7 10 0 0 0
[10] nf:$GO (12$E GRopt)$DRPns $DMD GRdata_Q$TAK$"$ENC[2]+$XP1$DSCGRdata
[11] ns:MX_$MAX/D_0,(T$GE0)/T_$TAK,/GRdata $DMD LBLS_GRNAMED
[12]  SCARR_T,$DSCGRSCALE$"($ENCD 5 1),$"T_5%11$-$I 6
[13]  SCARR_SCARR[T$I $MAX/T_MX%SCARR[;2]+5#SCARR[;3]%SCARR[;1];]
[14]  T_~(($I $R GRlabels)$E GRloc)&GRlabels$E $ENC'DUMMY'
[15]  LOC_T[GRloc]/GRloc
[16]  GRdata_T[GRloc]/GRdata $DMD B_~GRlabels[LOC]$E $ENC''
[17]  LOC_T[GRloc]/GRloc
[18]  GRAXIS(1.5 1.25)(5$DSCGRlabels)5 90 -1,SCARR[2 3 1],GRfonts[5],1 1000
[19]  $GO (~3$E GRopt)/ng $DMD $QGRLINE 3 2$R 1.25 6.25 9.5 6.25 9.5 1.25 $DMD $QGRLS_10
[20]  0 $QGRDRAW(($R T)$R 1 0),(($R T)$R 1.5 9.5),[1.5]T_2/1.25+M#$I $MIN-1+5%M_SCARR[1]
[21] ng:$QGRLS_1 $DMD (SI MP)_(LBLS,0)GRNMAXIS 2 2$R 1.5 1.25 9.5 1.25
[22]  (5.5 0.35)(GRfonts[4])0.25 'CENTER,CENTER'(0 1)GRLABEL 4$DSCGRlabels
[23]  (5 6.825)(GRfonts[1])0.4 'CENTER,CENTER'(0 1)GRLABEL 1$DSCGRlabels
[24]  (9.9 0.01)(GRfonts[3])0.15 'RIGHT,BOTTOM'(0 1)GRLABEL 3$DSCGRlabels
[25]  GRCHSIZE 0.15 $DMD $QGRCHJUST_'LEFT,CENTER' $DMD $QGRCHUP_0 1 $DMD $QGRFONT_13
[26]  (T_$ENC[2](2#$I +/B),[1.5]6.45)$QGRTEXT$"B/GRlabels[LOC]
[27]  $QGRLI_CI $DMD P_1+$R GRlines $DMD M_0
[28]  (2+$I +/B)GRMARK$"T+$ENC-0.2 0 $DMD ZI_1 $DMD $QGRMARKER_2 $DMD $QGRLI_CI
[29]  $QGRTSEGC $DMD $QGRWINDOW_0 8,(SCARR[2]),SCARR[2]+5#SCARR[3]%SCARR[1]
[30]  $QGRVIEWPORT_4$TAK(ZF/0.185 0.905 0.1475 0.5975),0.15 0.95 0.125 0.625
[31]  $QGRTSEGO $DMD $QGRLW_.25$MINLW
[32] lp:$QGRMARKER_$QGRMARKER+B[ZI] $DMD $QGRLS_GRlines[M_1$MAXP|M+1]
[33]  $QGRLINE T_(SI#-0.5+$I $R D),[1.5]D_ZI$DSCGRdata
[34]  $GO(~11 $E GRopt)/le  $DMD $QGRMARK T
[35] le:$QGRLI_1$MAXC|$QGRLI+1
[36]  $GO (($R GRdata)$GEZI_ZI+1)/lp
[37]  $QGRLI_1 $DMD $QGRLS_1
    "
 
$COM  $QGRCAPABILITIES   7
$COM  $QGRCHJUST        25_
$COM  $QGRCHPREC         6_
$COM  $QGRCHUP          25_
$COM  $QGRDRAW          20
$COM  $QGRFONT           6_   25_
$COM  $QGRLI             5_   27_   28_   35_   35    37_
$COM  $QGRLINE           9    19    33
$COM  $QGRLS            19_   21_   32_   37_
$COM  $QGRLW             7_   31_
$COM  $QGRMARK          34
$COM  $QGRMARKER        28_   32_   32
$COM  $QGRSURFACES       7
$COM  $QGRTEXT          26
$COM  $QGRTSEGC          6    29
$COM  $QGRTSEGO          9    31
$COM  $QGRVIEWPORT       8_   30_
$COM  $QGRWINDOW         6_   29_
$COM  $QNC               5
$COM  B                  0    16_   26    26    28    32]
$COM  C                  0     5_    5_   35
$COM  CI                 0     5_    5_   27    28
$COM  CP                 0
$COM  D                  0    11_   12    33    33    33_   34
$COM  GRAXIS            18
$COM  GRCHSIZE          25
$COM  GRLABEL           22    23    24
$COM  GRMARK            28
$COM  GRNAMED           11
$COM  GRNMAXIS          21
$COM  GRPERR             2     4
$COM  GRSCALE           12
$COM  GRcols             5
$COM  GRdata             0     2     3    10_   10    11    16_   16    33
$COM                    36
$COM  GRfonts           18]   22]   23]   24]
$COM  GRlabels           3     3     3    14    14    16]   18    22    23
$COM                    24    26]
$COM  GRlines           27    32]
$COM  GRloc              2     3    14    15    15    16    17    17
$COM  GRopt              8     9    10    19
$COM  H                  0
$COM  L                  0
$COM  LBLS               0    11_   21
$COM  LOC                0    15_   16    17_   26
$COM  LW                 0     7_   31
$COM  M                  0    20    20_   27_   32_   32
$COM  MP                 0    21
$COM  MULT               0
$COM  MX                 0    11_   13
$COM  P                  0    27_   32
$COM  Q                  0     3_   10
$COM  S                  0
$COM  SCARR              0    12_   13_   13]   13]   13]   13]   18]   20]
$COM                    29]   29]   29]   29]
$COM  SI                 0    21    33
$COM  ST                 0     3_
$COM  T                  0    11    11_   12    12_   13    13_   14_   15]
$COM                    16]   17]   20    20    20_   26_   28    33_   34
$COM  Z                  0
$COM  ZF                 0     8_   30
$COM  ZI                 0     5_   28_   32    33    36_   36
$COM  ZL                 0     3_
$COM  do                 2     3:
$COM  dt                 3     5:
$COM  lp                32:   36
$COM  nb                 8     9:
$COM  nc                 5     6:
$COM  nf                 9    10:
$COM  ng                19    21:
$COM  ns                10    11:
0
 
 
;'        Function: GRMARK       '
 
 
    " A GRMARK B;$QGRMARKER
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $QGRMARKER_A
[3]   $QGRMARK(-2$TAK2,$R B)$R B
[4]   $QGRLI_1$MAXC|$QGRLI+1
    "
 
$COM  $QGRLI       4_    4
$COM  $QGRMARK     3
$COM  $QGRMARKER   0     2_
$COM  A            0     2
$COM  B            0     3     3
$COM  C            4
0
 
 
;'        Function: GRNAMED      '
 
 
    " R_GRNAMED;P;Z;L
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   P_$MAX/Z_$TAK$"$R $"GRdata
[3]   L_((~($I $R GRlabels)$E GRloc,$I 7)/GRlabels)[(+\0,Z)[Z$I P]+$I P]
[4]   R_P L
    "
 
$COM  GRdata     2
$COM  GRlabels   3     3
$COM  GRloc      3
$COM  L          0     3_    4
$COM  P          0     2_    3     3     4
$COM  R          0_    4_
$COM  Z          0     2_    3     3
0
 
 
;'        Function: GRNMAXIS     '
 
 
    " R_LBLS GRNMAXIS A;MP;SI;ST;T;CP;TIC
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $QGRLINE A                $COM DRAW AXIS
[3]   SI_8%MP_$TAKLBLS $DMD $QGRCHUP_0 1 $DMD $QGRCHJUST_'CENTER,TOP'
[4]   GRCHSIZE 0.2$MIN2$R 0.2$MIN0.7#SI $DMD $QGRFONT_13
[5]   ST_+/(SI#1 0.5)$GE1$TAK$MAX$RD1$DSC($ENC0 0)$QGRTEXTX$"T_2$DSCLBLS
[6]   $QGRCHUP_1 0 1[1 2+ST>0] $DMD $QGRCHJUST_(1+ST=0)$DSC'CENTER,TOP' 'LEFT,CENTER'
[7]   CP_1.5+SI#-1+$I MP $DMD $GO (TIC_3$DSCLBLS)/nt     $COM   B/ No tics
[8]   0 $QGRDRAW(2 0+2#MP,1.5)$R (1,CP,1.25,0,CP,[1.5]1),[1]1 9.5 1.25 0 9.5 1
[9]  nt:CP_(CP+0.5 0.6875[1+TIC]#SI),[1.5]1.15$-(0.2#ST=1)#0=2|$I MP
[10]  ($ENC[2]CP)$QGRTEXT$"T
[11]  R_SI MP
    "
 
$COM  $QGRCHJUST   3_    6_
$COM  $QGRCHUP     3_    6_
$COM  $QGRDRAW     8
$COM  $QGRFONT     4_
$COM  $QGRLINE     2
$COM  $QGRTEXT    10
$COM  $QGRTEXTX    5
$COM  A            0     2
$COM  CP           0     7_    8     8     9_    9    10
$COM  GRCHSIZE     4
$COM  LBLS         0     3     5     7
$COM  MP           0     3_    7     8     9    11
$COM  R            0_   11_
$COM  SI           0     3_    4     5     7     9    11
$COM  ST           0     5_    6     6     9
$COM  T            0     5_   10
$COM  TIC          0     7_    9
$COM  nt           7     9:
0
 
 
;'        Function: GRP3DG       '
 
 
    " R_GRP3DG R;P
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   GRview_45 45 1
[3]   $GO (2>$R R)/0
[4]   $GO (2$NE+/(P_,$"'()')$E R)/0
[5]   S_Q$OR$NE\Q_R$E P
[6]   T_1$DRP-1$DRPS/R
[7]   R_(~S)/R
[8]   T_$TAK,/' ',$"T
[9]   $GO ((2>$R T),0$E Q_$QVI T)/er
[10]  T_$QFI T
[11]  $GO ((T>85)$ORT<5)/ev
[12]  GRview_2$TAKT,(($R T)<1 2)/45 45
[13]  GRview_GRview,1$MAXGRview[2]%25
[14]  $GO 0
[15] er:GRPERR '(elevation xy-rotation) must be numeric'
[16]  $GO 0
[17] ev:GRPERR 'Range of elevation and rotation is 5 to 85 degrees'
[18]  $GO 0
    "
 
$COM  $QFI     10
$COM  $QVI      9
$COM  GRPERR   15    17
$COM  GRview    2_   12_   13_   13    13]
$COM  P         0     4_    5
$COM  Q         5     5_    9_
$COM  R         0_    0     3     4     5     6     7_    7
$COM  S         5_    6     7
$COM  T         6_    8_    8     9     9    10_   10    11    11    12
$COM           12
$COM  er        9    15:
$COM  ev       11    17:
0
 
 
;'        Function: GRPARSE      '
 
 
    " GRPARSE LINE;LN;Z;V;T;C;R;CMDS;F;CMD
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   GRtype_-1 $DMD $GO (0=$R R_GRLEX LINE)/0
[3]   Z_GRcmds GRCOM CMD_$TAKR
[4]   $GO s p p p p p p3 t t t t t k k k k k k f c d h i b r l e e h v m a a a a df[Z]
[5]   GRPERR CMD,' is not a legal command' $DMD $GO 0
[6]  $COM
[7]  $COM     Process:  BAR, BAR3D, LINE, PLOT, PIE and STEP commands
[8]  $COM
[9]  p3:R_GRP3DG R
[10] p:GRtype_0 0 2 3 4 5 6[$TAKZ] $DMD $GO (1=$R R)/0
[11]  $GO (0=$R ' OVER' GRCOM 2$DSCR)/perr $DMD GRdest_'ME' $DMD $GO (2=$R R)/0
[12]  $GO (1$NE$DLTname 3$DSCR)/perr $DMD GRdest_GRval $DMD $GO (3=$R R)/0
[13] perr:GRPERR 'Correct form is: ',CMD,' OVER fid' $DMD $GO 0
[14] $COM
[15] $COM     Process:  TITLE, SUBTITLE, XNAME, YNAME and NOTE commands
[16] $COM
[17] t:(0 -1 3 4 2[-7+$TAKZ])GRPLABEL R
[18]  $GO 0
[19] $COM
[20] $COM    Process:  BORDER, FRAME, GRID, PERCENTAGES and STACK
[21] $COM
[22] k:V_2 1 3 10 12 13[-12+$TAKZ] $DMD LN_LN+T_1 $COM   11=FILL
[23]  $GO ((1=$R R),2$NE$R R)/ky ke
[24]  $GO (0$NE$R T_' YES NO' GRCOM 2$DSCR)/ky
[25] ke:GRPERR 'Correct form is: ',($TAKR),'=YES/NO' $DMD $GO 0
[26] ky:GRopt_((GRopt$NEV)/GRopt),(T=1)/V $DMD $GO 0
[27] $COM
[28] $COM    Process:  COLOR, DATA, HELP, STATUS, RESET, END, QUIT, LOAD, SAVE
[29] $COM
[30] c:GRPCOLOR R $DMD $GO 0
[31] f:GRPFILL R $DMD $GO 0
[32] d:GRPDATA R $DMD $GO 0
[33] df:GRPRETTY GRPFONTS R $DMD $GO 0
[34] h:'HELP:GRAF:.X' HELP 1 $QTSQZ(('?'$NE$TAK$TAKR)#-1+$MIN/LINE$I '( ')$DRPLINE $DMD $GO 0
[35] s:GRSTATUS $DMD $GO 0
[36] r:GRRESET $DMD $GO 0
[37] a:(''$R Z$-32)GRPLOADSAVE R $DMD $GO 0
[38] b:$XEC')',1 $QTSQZ LINE $DMD $GO 0
[39] i:$XEC')SET INPUT ',Fid_2$DSCR $DMD $GO 0
[40] l:GRPLINES R $DMD $GO 0
[41] v:GRDONESURF $DMD $GO 0
[42] m:GRtype_-4 $DMD $GO 0
[43] e:GRtype_-3 $DMD $GO (0=$R ' DEBUG' GRCOM($R R)$DSCR)/x $DMD stop $QSTOP 'GRPARSE'
[44] stop:GRtype_-1 $DMD _'' $QSTOP 'GRPARSE' $DMD $GO 0
[45] x:GRDONESURF $DMD $GO 0
[46] $COM  NAME:          GRPARSE
[47] $COM  PURPOSE:       To parse a command.
[48] $COM  DESCRIPTION:
[49] $COM     The result of this command is a setting of the GRtype
[50] $COM     variable that indicates the type of command processed.
[51] $COM     If GRtype is -1, then the command has been successfully
[52] $COM     executed.  If the value is -3 then an END or QUIT command
[53] $COM     has been issued.  All other values indicate the kind of
[54] $COM     graphics output that has been requested.  (see GRtype in
[55] $COM     the GRRESET function).
[56] $COM
[57] $COM     If during the processing of a command, an error is detected,
[58] $COM     the GRPERR function is invoked with the text of the error
[59] $COM     message to be displayed.
[60] $COM
    "
 
$COM  $QSTOP          43    44
$COM  $QTSQZ          34    38
$COM  C                0
$COM  CMD              0     3_    5    13
$COM  CMDS             0
$COM  F                0
$COM  Fid             39_
$COM  GRCOM            3    11    24    43
$COM  GRDONESURF      41    45
$COM  GRLEX            2
$COM  GRPCOLOR        30
$COM  GRPDATA         32
$COM  GRPERR           5    13    25
$COM  GRPFILL         31
$COM  GRPFONTS        33
$COM  GRPLABEL        17
$COM  GRPLINES        40
$COM  GRPLOADSAVE     37
$COM  GRPRETTY        33
$COM  GRP3DG           9
$COM  GRRESET         36
$COM  GRSTATUS        35
$COM  GRcmds           3
$COM  GRdest          11_   12_
$COM  GRopt           26_   26    26
$COM  GRtype           2_   10_   42_   43_   44_
$COM  GRval           12
$COM  HELP            34
$COM  LINE             0     2    34    34    38
$COM  LN               0    22_   22
$COM  R                0     2_    3     9_    9    10    11    11    12
$COM                  12    17    23    23    24    25    30    31    32
$COM                  33    34    37    39    40    43    43
$COM  T                0    22_   24_   26
$COM  V                0    22_   26    26
$COM  Z                0     3_    4    10    17    22    37
$COM  $DLTname        12
$COM  a                4     4     4     4    37:
$COM  b                4    38:
$COM  c                4    30:
$COM  d                4    32:
$COM  df               4]   33:
$COM  e                4     4    43:
$COM  f                4    31:
$COM  h                4     4    34:
$COM  i                4    39:
$COM  k                4     4     4     4     4     4    22:
$COM  ke              23    25:
$COM  ky              23    24    26:
$COM  l                4    40:
$COM  m                4    42:
$COM  p                4     4     4     4     4    10:
$COM  perr            11    12    13:
$COM  p3               4     9:
$COM  r                4    36:
$COM  s                4    35:
$COM  stop            43    44:
$COM  t                4     4     4     4     4    17:
$COM  v                4    41:
$COM  x               43    45:
0
 
 
;'        Function: GRPCOLOR     '
 
 
    " GRPCOLOR R;C;T;V;Z
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   GRcols_3 0$R 0 $DMD GRcoln_1 $DMD $GO (2>$R R)/0
[3]   (C V)_GRDEFCOLS $DMD T_2$DSCR
[4]   $GO ((T_$TAK' YES NO' GRCOM T),(5>$R R)$OR~R[2,$R R]$EQV(,'(')(,')'))/cn ce
[5]   $GO ((1+$R C)$E Z_C$I R_TRUP$"2$DRP-1$DRPR)/cer $DMD GRcols_$TPSV[Z;]
[6]   $GO 0
[7]  ce:GRPERR 'Correct form is: COLOR=(color1,color2,...,colorn)'
[8]   $GO 0
[9]  cer:GRPERR 'Can''t make color',((1<+/V)/'s'),': ',,' ',$DSC(V_Z=1+$R C)/R $DMD $GO 0
[10] cn:$GO ((2$NE$R R),T=1)/ce 0 $DMD R_$QEX 'GRcols' $DMD GRcoln_0
    "
 
$COM  $QEX        10
$COM  C            0     3     5     5     9
$COM  GRCOM        4
$COM  GRDEFCOLS    3
$COM  GRPERR       7     9
$COM  GRcoln       2_   10_
$COM  GRcols       2_    5_
$COM  R            0     2     3     4     4]    4     5_    5     9    10
$COM              10_
$COM  T            0     3_    4_    4    10
$COM  TRUP         5
$COM  V            0     3     5]    9     9_
$COM  Z            0     5_    5     9
$COM  ce           4     7:   10
$COM  cer          5     9:
$COM  cn           4    10:
0
 
 
;'        Function: GRPDATA      '
 
 
    " GRPDATA R;V;Z;D;T;LBLS;K
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (4>$R R)/de $DMD T_$ENCTRUP 2$DSCR
[3]   $GO (((,')')$EQV($R R)$DSCR)&T$EQV$"'READ'(,'('))/dr dv
[4]  de:GRPERR 'Correct form is: DATA=(value,value,...,value)' $DMD $GO 0
[5]  $COM
[6]  $COM        Process:  DATA=(list)
[7]  $COM
[8]  dv:$GO ('='$E (LINE$I '(')$DRPLINE)/dnv
[9]   $GO (0$E Z_$QVI T_0 $QTSQZ,' ',$DSCR_2$DRP-1$DRPR)/der
[10]  GRdata_GRdata,$ENC$QFI T $DMD GRf_GRf,0 $DMD $GO 0
[11] der:GRPERR 'Illegal number: ',,' ',$DSC(Z=0)/R $DMD $GO 0
[12] $COM  Process:  DATA = (label=value,label=value,...,label=value)
[13] dnv:$GO (0$NE2|$R R_2$DRP-1$DRPR)/den
[14]  LBLS_(($R R)$R 1 0)/R
[15]  $GO (0$E Z_$QVI T_0 $QTSQZ,' ',$DSCR_(($R R)$R 0 1)/R)/der
[16]  GRdata_GRdata,$ENC$QFI T $DMD GRf_GRf,0
[17]  1 GRALABEL$"LBLS
[18]  $GO 0
[19] den:GRPERR 'Correct form is: DATA=(label=value,label=value,..)' $DMD $GO 0
[20] dre:GRPERR 'Correct form is: DATA=READ(label=(fid,t,fmt,fmt,fmt),...)'
[21]  $GO 0
[22] dr:$GO (~(,'(')$EQV3$DSCR)/dre $DMD R_-1$DRP3$DRPR
[23] dlp:GRPRDF(K_R$I $ENC,')')$TAKR
[24]  $GO (0$NE$R R_K$DRPR)/dlp
[25]  $GO 0
[26] $COM  NAME:       GRPDATA
[27] $COM  PURPOSE:    To parse the DATA command.
[28] $COM  DESCRIPTION:
[29] $COM     Three forms of this command are accepted.  They forms
[30] $COM     are:
[31] $COM       DATA (number,number,number,...,number)
[32] $COM       DATA (label=number,label=number,...,label=number)
[33] $COM       DATA READ(subtitle(fid,type,fmt,fmt,fmt,...,fmt),subtitle...)
    "
 
$COM  $QFI       10    16
$COM  $QTSQZ      9    15
$COM  $QVI        9    15
$COM  D           0
$COM  GRALABEL   17
$COM  GRPERR      4    11    19    20
$COM  GRPRDF     23
$COM  GRdata     10_   10    16_   16
$COM  GRf        10_   10    16_   16
$COM  K           0    23_   24
$COM  LBLS        0    14_   17
$COM  LINE        8     8
$COM  R           0     2     2     3     3     9_    9    11    13_   13
$COM             14    14    15_   15    15    22    22_   22    23    23
$COM             24_   24
$COM  T           0     2_    3     9_   10    15_   16
$COM  TRUP        2
$COM  V           0
$COM  Z           0     9_   11    15_
$COM  de          2     4:
$COM  den        13    19:
$COM  der         9    11:   15
$COM  dlp        23:   24
$COM  dnv         8    13:
$COM  dr          3    22:
$COM  dre        20:   22
$COM  dv          3     8:
0
 
 
;'        Function: GRPERR       '
 
 
    " GRPERR T
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   (0=GRform)/T $DMD GRtype_-1 $DMD GRerror_1
[3]   $QSTEPCC 4
[4]   $GO (0=GRform)/0 $DMD ERROR$_MESSAGE_T
    "
 
$COM  $QSTEPCC         3
$COM  ERROR$_MESSAGE   4_
$COM  GRerror          2_
$COM  GRform           2     4
$COM  GRtype           2_
$COM  T                0     2     4
0
 
 
;'        Function: GRPFILL      '
 
 
    " GRPFILL R;C;V;Z;F;Q;P;T
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   GRfill_F_0/0 $DMD GRopt_(11$NEGRopt)/GRopt $DMD $GO (2>$R R)/fd
[3]   (C V)_GRDEFFILLS
[4]   $GO (1$OR.$NE$QVI Z_($R R)$DSCR)/ns $DMD V_$DSCV $DMD V[;2]_$QFI Z
[5]   V_$ENC[2]V $DMD R_-1$DRPR
[6]  ns:$GO (($TAKT_' YES NO' GRCOM 2$DSCR),(4>$R R)$OR~R[2,$R R]$EQV,$"'()')/fn fe
[7]   $GO (&/~P_0=Z_$TAK$"($ENCC)GRCOM$"TRUP$"R_2$DRP-1$DRPR)/fx
[8]   $GO (&/Q_$DLTfid$"F_P/R)/ff
[9]   GRPERR(,' ',$DSC(~Q)/F),(Z/' is'),((~Z_1=+/Q)/' are'),' not legal fill pattern or filed patterns'
[10]  $GO 0
[11] fe:GRPERR 'Correct form is: FILL=(pattern,pattern,pattern,...)' $DMD $GO 0
[12] ff:(P/Z)_($R V)+$I $R F_GRPFILLPAT$"P/F
[13] fx:GRfill_(V,F)[Z] $DMD GRopt_GRopt,11
[14]  $GO 0
[15] fn:$GO ((2$NE$R R),2=T)/fe 0
[16] fd:GRopt_GRopt,11 $DMD $GO 0
    "
 
$COM  $QFI            4
$COM  $QVI            4
$COM  C               0     3     7
$COM  F               0     2_    8_    9    12_   12    13
$COM  GRCOM           6     7
$COM  GRDEFFILLS      3
$COM  GRPERR          9    11
$COM  GRPFILLPAT     12
$COM  GRfill          2_   13_
$COM  GRopt           2_    2     2    13_   13    16_   16
$COM  P               0     7_    8    12    12
$COM  Q               0     8_    9     9
$COM  R               0     2     4     4     5_    5     6     6     6]
$COM                  6     7_    7     8    15
$COM  T               0     6_   15
$COM  TRUP            7
$COM  V               0     3     4_    4     4]_   5_    5    12    13
$COM  Z               0     4_    4     7_    9     9_   12    13
$COM  $DLTfid         8
$COM  fd              2    16:
$COM  fe              6    11:   15
$COM  ff              8    12:
$COM  fn              6    15:
$COM  fx              7    13:
$COM  ns              4     6:
0
 
 
;'        Function: GRPFILLPAT   '
 
 
    " R_GRPFILLPAT F;P;Q;RR
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (2>$TAK$R P_GRFINPUT F)/pe
[3]   $GO ((-1$TAK$R P)$E RR_-1+P[1;]$I 1 0$DRPP)$DRPt
[4]   GRPERR 'first record of pattern file <',F,'> does not contain all pattern characters'
[5]   $GO 0
[6]  pe:GRPERR 'pattern file <',F,'> does not contain two or more records'
[7]   $GO 0
[8]  t:$GO (1<$MAX/,R_RR)/x $DMD R_R=1
[9]  x:R_-2 R F $DMD $GO 0
    "
 
$COM  F          0     2     4     6     9
$COM  GRFINPUT   2
$COM  GRPERR     4     6
$COM  P          0     2_    3     3]    3
$COM  Q          0
$COM  R          0_    8_    8_    8     9_    9
$COM  RR         0     3_    8
$COM  pe         2     6:
$COM  t          3     8:
$COM  x          8     9:
0
 
 
;'        Function: GRPFONTS     '
 
 
    " RS_GRPFONTS R;EG;K;MYNAME;NM;NUMS;O;TN;XX
[.001] $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[1]   (1 2$R nf 79)$QSM MYNAME_'GRPFONTS' $DMD $GO ((O_2>$R R),2$NE$R R)/go er
[2]   $GO (0=$R O_' NUMBER NAME' GRCOM 2$DSCR)/er
[3]  go:$QFCLOSE(TN$E $QFNUMS)/TN_71828 $DMD 'XG$FONT.:LIBRARY,ALL' $QFOPEN TN
[4]   K_'' $DMD XX_-1$TAK$QAV $DMD NUMS_'' $DMD RS_0 10$R 0
[5]  lp:EG_seq $DMD K_$QFREAD TN((9$TAKK),XX)0 3
[6]  seq:EG_done $DMD $GO (2$NE$R NM_$QFREAD TN '' 0 3)/seq
[7]   NUMS_NUMS,3 18 $QCVT NM $DMD RS_RS,[1]K_$QFRKEY TN 2
[8]   $GO lp
[9]  done:$QFCLOSE TN
[10]  R_$GUNUMS $DMD $GO (1=O)/std $DMD R_$GURS
[11] std:RS_(('I',($FMT1+$MAX10$LOG$MAX/NUMS),',< >')$QFMT NUMS[R]),RS[R;]
[12]  $GO 0
[13] nf:$GO EG
[14] er:GRPERR 'Correct syntax is: FONTS [NAME | NUMBER]' $DMD $GO 0
    "
 
$COM  $QAV       4
$COM  $QCVT      7
$COM  $QFCLOSE   3     9
$COM  $QFMT     11
$COM  $QFNUMS    3
$COM  $QFOPEN    3
$COM  $QFREAD    5     6
$COM  $QFRKEY    7
$COM  $QSM       1
$COM  EG         0     5_    6_   13
$COM  GRCOM      2
$COM  GRPERR    14
$COM  K          0     4_    5_    5     7_
$COM  MYNAME     0     1_
$COM  NM         0     6_    7
$COM  NUMS       0     4_    7_    7    10    11    11]
$COM  O          0     1_    2_   10
$COM  R          0     1     1     2    10_   10_   11    11
$COM  RS         0_    4_    7_    7    10    11_   11]
$COM  TN         0     3     3_    3     5     6     7     9
$COM  XX         0     4_    5
$COM  done       6     9:
$COM  er         1     2    14:
$COM  go         1     3:
$COM  lp         5:    8
$COM  nf         1    13:
$COM  seq        5     6:    6
$COM  std       10    11:
0
 
 
;'        Function: GRPIE        '
 
 
    " GRPIE GRdata;B;H;L;LW;LBL;M;MULT;P;Q;S;ST;T;Z;ZF;ZI;ZL
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (3>$R GRdata)/do $DMD GRPERR ' Maximum of 2 pies at a time' $DMD $GO 0
[3]  do:$GO ((+/($ENC'')$R $"$R $"GRdata)=-7+($R GRlabels)$-$R ST_(ZL_($I $R GRlabels)$E GRloc)/GRlabels)/dt
[4]   GRPERR 'Number of datanames does not equal number of data points' $DMD $GO 0
[5]  dt:ZI_1 $DMD $GO (11$E GRopt)$DRPsf $DMD GRINITFILLS
[6]  sf:$QGRTSEGC $DMD $QGRWINDOW_-5 5 -3.5 3.5 $DMD $QGRCHPREC_'STROKE' $DMD $QGRFONT_13
[7]   $QGRLW_LW_.30$MIN4 13$DSC$QGRCAPABILITIES$TAK$QGRSURFACES $DMD MULT_1.5
[8]   $GO (~ZF_1$E GRopt)/nb $DMD $QGRVIEWPORT_0.05 0.95 0.035 0.665
[9]  nb:$QGRTSEGO $DMD $GO (~2$E GRopt)/nf $DMD $QGRLINE 5 2$R -5 -3.5 -5 3.5 5 3.5 5 -3.5
[10] nf:(0 3)(GRfonts[1])(0.45$-0.1#35<$R T)'CENTER,CENTER'(0 1)GRLABEL T_1$DSCGRlabels
[11]  (4.95 -3.45)(GRfonts[3])0.15 'RIGHT,BOTTOM'(0 1)GRLABEL 3$DSCGRlabels
[12] nn:$GO (2$NE$R GRdata)/n2 $DMD $QGRTSEGC $DMD $QGRWINDOW_-2.5 2.5 -3.5 3.5
[13]  $QGRVIEWPORT_(4$TAK2$R (0.5$-0.05#ZF)#ZI=2)+4$TAK(ZF/0.05 0.5 0.035 0.665),0 0.5 0 0.7
[14]  $QGRTSEGO $DMD MULT_1
[15] n2:$GO (' '&.=T_$TAK(ZI$-1)$DRPST)/ns
[16]  (0 -3)(GRfonts[$TAK(ZI$-1)$DRPGRloc])0.3 'CENTER,CENTER'(0 1)GRLABEL T
[17] ns:P_ZI$DSCGRdata $DMD Z_($R P)$TAK7$DRP(~ZL)/$I $R GRlabels
[18]  LBL_GRlabels[Z] $DMD ZL_ZL$OR($I $R GRlabels)$E Z
[19]  P_P%+/P $DMD H_'*'=($ENC'')$R $"LBL
[20]  Q_(S/T_0,+\-1$DRPP)+,P$SC.#(-1+$I S)%-1+S_40
[21]  Q_$TPSMULT#1 2$SC.$O ($O 2)#Q
[22]  Q_((Z_($R P)#S_S+2)$R 0,(S$R 1),0)$XP1Q
[23]  M_MULT#1 2$SC.$O ($O 2)#B_(P%2)+T
[24]  Q_(Z$R S$TAK1),Q+S$RD1L_$TPS(M#0.1)#(2,$R P)$R H
[25]  S GRPIEFILL Q
[26]  $GO (~10$E GRopt)/np $DMD LBL_LBL,$"($ENC' ('),$"($FMT$"$MAXP#100),$"$ENC'$R)'
[27] np:$QGRFONT_13 $DMD GRCHSIZE 0.15+0.05#10>$DSC$MAX/$R $"LBL
[28]  B_'LEFT,BOTTOM' 'LEFT,TOP' 'RIGHT,TOP' 'RIGHT,BOTTOM'[1+4|$MIN0.06+B#4]
[29]  (H$DRP$"LBL)GRPUTLBL$"B,$"$ENC[2]L+$TPSM
[30]  $GO (($R GRdata)$GEZI_ZI+1)/nn
[31]  $QGRLI_1 $DMD $QGRLW_0
    "
 
$COM  $QGRCAPABILITIES   7
$COM  $QGRCHPREC         6_
$COM  $QGRFONT           6_   27_
$COM  $QGRLI            31_
$COM  $QGRLINE           9
$COM  $QGRLW             7_   31_
$COM  $QGRSURFACES       7
$COM  $QGRTSEGC          6    12
$COM  $QGRTSEGO          9    14
$COM  $QGRVIEWPORT       8_   13_
$COM  $QGRWINDOW         6_   12_
$COM  B                  0    23_   28_   28    29
$COM  GRCHSIZE          27
$COM  GRINITFILLS        5
$COM  GRLABEL           10    11    16
$COM  GRPERR             2     4
$COM  GRPIEFILL         25
$COM  GRPUTLBL          29
$COM  GRdata             0     2     3    12    17    30
$COM  GRfonts           10]   11]   16]
$COM  GRlabels           3     3     3    10    11    17    18]   18
$COM  GRloc              3    16
$COM  GRopt              5     8     9    26
$COM  H                  0    19_   24    29
$COM  L                  0    24_   29
$COM  LBL                0    18_   19    26_   26    27    29
$COM  LW                 0     7_
$COM  M                  0    23_   24    29
$COM  MULT               0     7_   14_   21    23
$COM  P                  0    17_   17    19_   19    19    20    20    22
$COM                    23    24    26
$COM  Q                  0    20_   21_   21    22_   22    24_   24    25
$COM  S                  0    20    20    20_   22_   22    22    24    24
$COM                    25
$COM  ST                 0     3_   15
$COM  T                  0    10    10_   15_   16    20_   23
$COM  Z                  0    17_   18    18    22_   24
$COM  ZF                 0     8_   13    13
$COM  ZI                 0     5_   13    15    16    17    30_   30
$COM  ZL                 0     3_   17    18_   18
$COM  do                 2     3:
$COM  dt                 3     5:
$COM  nb                 8     9:
$COM  nf                 9    10:
$COM  nn                12:   30
$COM  np                26    27:
$COM  ns                15    17:
$COM  n2                12    15:
$COM  sf                 5     6:
0
 
 
;'        Function: GRPIEFILL    '
 
 
    " S GRPIEFILL Q;C;E;I;J
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   0 $QGRDRAW Q $DMD $GO (~11$E GRopt)/0
[3]  fill:I_0 $DMD GRSETFILL E_0 $DMD J_$TAK$R Q
[4]   $GO (C_0=$QNC 'GRcols')/lp $DMD C_-1$TAK$R GRcols $DMD $QGRFILL_1
[5]  lp:$GO (1$NE$QGRFILL_1$MAXC|$QGRFILL+1)/pd
[6]   GRSETFILL E_E+1
[7]  pd:$QGRPOLYGON Q[I+$I S;1+$I 2]
[8]   $GO (J>I_I+S)/lp
[9]   GRRESETFILL
    "
 
$COM  $QGRDRAW       2
$COM  $QGRFILL       4_    5_    5
$COM  $QGRPOLYGON    7
$COM  $QNC           4
$COM  C              0     4_    4_    5
$COM  E              0     3_    6_    6
$COM  GRRESETFILL    9
$COM  GRSETFILL      3     6
$COM  GRcols         4
$COM  GRopt          2
$COM  I              0     3_    7     8_    8
$COM  J              0     3_    8
$COM  Q              0     2     3     7]
$COM  S              0     7     8
$COM  fill           3:
$COM  lp             4     5:    8
$COM  pd             5     7:
0
 
 
;'        Function: GRPLABEL     '
 
 
    " GRtx GRPLABEL R;GRval;F;P;Q;RL
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   (F Q)_13 2 $DMD $GO ((2>RL),2=RL_$R R)/ers lbl
[3]   $GO ((5>RL),R[2,RL]$EQV$"P_(,'(')(,')'))/erh erh fn $DMD $GO erh
[4]  fn:$GO (~R[-2 0+RL]$EQVP)/erh $DMD $GO ((F<0),~(F_GRFONTNUM(-1+RL)$DSCR)$E 28 29)/erf lbl
[5]   (Q$DSCR)_0 $QTSQZ Q$DSCR
[6]  lbl:GRval_GRFLABEL Q$DSCR $DMD F GRTEXT GRtx$NE-1
[7]   $GO 0
[8]  erh:GRPERR 'Correct form is: ',($TAKR),' = ''label''(font)' $DMD $GO 0
[9]  ers:GRPERR 'Correct form is: ',($TAKR),' = ''label''' $DMD $GO 0
[10] erf:GRPERR 'Font named: ''',((-1+RL)$DSCR),''' does not exist!'
    "
 
$COM  $QTSQZ       5
$COM  F            0     2     4     4_    6
$COM  GRFLABEL     6
$COM  GRFONTNUM    4
$COM  GRPERR       8     9    10
$COM  GRTEXT       6
$COM  GRtx         0     6
$COM  GRval        0     6_
$COM  P            0     3_    4
$COM  Q            0     2     5     5     6
$COM  R            0     2     3]    4]    4     5     5     6     8     9
$COM              10
$COM  RL           0     2     2_    3     3     4     4    10
$COM  erf          4    10:
$COM  erh          3     3     3     4     8:
$COM  ers          2     9:
$COM  fn           3     4:
$COM  lbl          2     4     6:
0
 
 
;'        Function: GRPLINES     '
 
 
    " GRPLINES R;C;V;Z;Q;P
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   GRlines_,1 $DMD $GO (2>$R R)/0
[3]   (C V)_GRDEFLINES
[4]   $GO ((4>$R R)$OR~R[2,$R R]$EQV,$"'()')/ce $DMD LN_3
[5]   $GO (&/~P_(1+$R C)=Z_C$I R_2$DRP-1$DRPR)/fx
[6]   GRPERR 0 $QTSQZ(,' ',$DSCP/R),(Z/' is'),((~Z_1=+/P)/' are'),' not legal'
[7]   $GO 0
[8]  fx:GRlines_V[Z] $DMD $GO 0
[9]  ce:GRPERR 'Correct form is: STYLE=(style,style,style)' $DMD $GO 0
    "
 
$COM  $QTSQZ        6
$COM  C             0     3     5     5
$COM  GRDEFLINES    3
$COM  GRPERR        6     9
$COM  GRlines       2_    8_
$COM  LN            4_
$COM  P             0     5_    6     6
$COM  Q             0
$COM  R             0     2     4     4]    4     5_    5     6
$COM  V             0     3     8]
$COM  Z             0     5_    6     6_    8
$COM  ce            4     9:
$COM  fx            5     8:
0
 
 
;'        Function: GRPLOADSAVE  '
 
 
    " T GRPLOADSAVE R;A;B;C;E;F;MYNAME;TN
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   MYNAME_'GRPLOADSAVE' $DMD C_(T+1)$DSC',IN' ',UPDATE' ',UPDATE' ',IN'
[3]   $GO ((3$NET)&2$NE$R R)/erl $DMD $QFCLOSE(TN$E $QFNUMS)/TN_31415
[4]   F_0$R A_$QFMA $DMD $GO ((2<$R R),B_2>$R R)/erl aok
[5]   $GO (0$NE$R A_(B_F$I '.')$DRPF_2$DSCR)/aok $DMD A_$QFMA
[6]  aok:B_(-1+B)$TAKF
[7]   (ern,[1.5]71 73)$QSM MYNAME
[8]   (':GRAF.',A,C)$QFOPEN TN
[9]  fok:(0 2$R 0)$QSM MYNAME $DMD $GO (0 1 2 3=T)/ld sv dr lb
[10]  GRPERR ' ** SYSTEM ERROR **' $DMD $GO 0
[11] ld:(1 2$R nf 79)$QSM MYNAME
[12]  C_$QFREAD TN B
[13]  $GO (~'GRAF A00'$EQVF_$TAKC)/ve
[14]  $GO (10 11=$R C)/nc c
[15] nc:(GRopt GRlabels GRdata GRvalm GRloc GRfonts GRf GRfill GRlines)_1$DRPC
[16] mx:B,' saved ',GRCITIME $QFRDCI TN B $DMD $QFCLOSE TN $DMD $GO 0
[17] c:(GRopt GRlabels GRdata GRvalm GRloc GRfonts GRf GRfill GRlines GRcols)_1$DRPC
[18]  GRcoln_1 $DMD $GO mx
[19] sv:C_'GRAF A00' GRopt GRlabels GRdata GRvalm GRloc GRfonts GRf GRfill GRlines
[20]  $GO (0=$QNC 'GRcols')/sx $DMD C_C,$ENCGRcols
[21] sx:C $QFWRITE TN B $DMD $GO mx
[22] dr:B,' saved ',GRCITIME $QFREAD TN B 0 3 $DMD $QFDROP TN B $DMD $QFCLOSE TN $DMD $GO 0
[23] lb:(1 2$R d 79)$QSM MYNAME $DMD ' '
[24] nx:F_30$R $QFREAD TN '' 0 3 $DMD (2 9 $QCVT $QFRKEY TN 2),' saved ',GRCITIME F $DMD $GO nx
[25] d:' ' $DMD $QFCLOSE TN $DMD $GO 0
[26] erl:GRPERR 'Correct form is: ',(3 4$R 'LOADSAVEDROP')[1+T;],' name.acct'
[27]  $GO 0
[28] ern:$GO (T$NE1)/erc $DMD 'Creating file: :GRAF.',A
[29]  (erc,[1.5]71 73)$QSM MYNAME
[30]  (':GRAF.',A,',CREATE,CTG')$QFOPEN TN $DMD $GO fok
[31] erc:GRPERR 'Can''t access library: ',A $DMD $XEC')?' $DMD $GO 0
[32] ve:GRPERR 'Graphics file contains illegal records' $DMD $GO 0
[33] nf:GRPERR 'Graphics: ''',B,''' was not found' $DMD $GO 0
    "
 
$COM  $QCVT      24
$COM  $QFCLOSE    3    16    22    25
$COM  $QFDROP    22
$COM  $QFMA       4     5
$COM  $QFNUMS     3
$COM  $QFOPEN     8    30
$COM  $QFRDCI    16
$COM  $QFREAD    12    22    24
$COM  $QFRKEY    24
$COM  $QFWRITE   21
$COM  $QNC       20
$COM  $QSM        7     9    11    23    29
$COM  A           0     4_    5_    5_    8    28    30    31
$COM  B           0     4_    5_    6_    6    12    16    16    21    22
$COM             22    22    33
$COM  C           0     2_    8    12_   13    14    15    17    19_   20_
$COM             20    21
$COM  E           0
$COM  F           0     4_    5     5_    6    13_   24_   24
$COM  GRCITIME   16    22    24
$COM  GRPERR     10    26    31    32    33
$COM  GRcoln     18_
$COM  GRcols     17    20
$COM  GRdata     15    17    19
$COM  GRf        15    17    19
$COM  GRfill     15    17    19
$COM  GRfonts    15    17    19
$COM  GRlabels   15    17    19
$COM  GRlines    15    17    19
$COM  GRloc      15    17    19
$COM  GRopt      15    17    19
$COM  GRvalm     15    17    19
$COM  MYNAME      0     2_    7     9    11    23    29
$COM  R           0     3     4     4     5
$COM  T           0     2     3     9    26    28
$COM  TN          0     3     3_    8    12    16    16    21    22    22
$COM             22    24    24    25    30
$COM  aok         4     5     6:
$COM  c          14    17:
$COM  d          23    25:
$COM  dr          9    22:
$COM  erc        28    29    31:
$COM  erl         3     4    26:
$COM  ern         7    28:
$COM  fok         9:   30
$COM  lb          9    23:
$COM  ld          9    11:
$COM  mx         16:   18    21
$COM  nc         14    15:
$COM  nf         11    33:
$COM  nx         24:   24
$COM  sv          9    19:
$COM  sx         20    21:
$COM  ve         13    32:
0
 
 
;'        Function: GRPLOT       '
 
 
    " GRPLOT GRdata;B;C;CI;CP;D;H;L;LW;LBL;LOC;M;MP;MULT;MN;MX;P;Q;S;SCARX;SCARY;SI;ST;T;Z;ZF;ZI;ZL
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (($R GRdata)=$R GRloc)/dl
[3]   GRPERR 'EACH SET OF DATA MUST BE TITLED' $DMD $GO 0
[4]  dl:$GO (~1$E 2|ST_($ENC'')$R $"$R $"GRdata)/do
[5]   GRPERR 'Data must be entered as X,Y pairs' $DMD $GO 0
[6]  do:D_((0.5#+/ST),2)$R $TAK,/GRdata $DMD ST_ST%2
[7]  dt:ZI_CI_1 $DMD $GO (C_0=$QNC 'GRcols')/nc $DMD CI_1$MAX2$MIN-1+C_1$MAX-1$TAK$R GRcols
[8]  nc:$QGRTSEGC $DMD $QGRWINDOW_0 10 0 7 $DMD $QGRCHPREC_'STROKE' $DMD $QGRFONT_13
[9]   $QGRLW_.12$MINLW_4 13$DSC$QGRCAPABILITIES$TAK$QGRSURFACES
[10]  $GO (~ZF_1$E GRopt)/nb $DMD $QGRVIEWPORT_0.05 0.95 0.035 0.665
[11] nb:$QGRTSEGO $DMD $GO (~2$E GRopt)/nf $DMD $QGRLINE 5 2$R 0 0 0 7 10 7 10 0 0 0
[12] nf:MX_$MAX$RD1D $DMD MN_$MIN$RD1D
[13]  SCARY_T,$DSCGRSCALE$"($ENC(MN[2],MX[2])5 1),$"T_5%11$-$I 6
[14]  SCARY_SCARY[T$I $MAX/T_MX[2]%SCARY[;2]+5#SCARY[;3]%SCARY[;1];]
[15]  SCARX_T,$DSCGRSCALE$"($ENC(MN[1],MX[1])8 1),$"T_8%11$-$I 6
[16]  SCARX_SCARX[T$I $MAX/T_MX[1]%SCARX[;2]+8#SCARX[;3]%SCARX[;1];]
[17]  T_~(($I $R GRlabels)$E GRloc)&GRlabels$E $ENC'DUMMY'
[18]  T_T[GRloc] $DMD D_(ST/T)$RD1D $DMD ST_T/ST $DMD LOC_T/GRloc $DMD B_~GRlabels[LOC]$E $ENC''
[19]  GRAXIS(1.5 1.25)(5$DSCGRlabels)5 90 -1,SCARY[2 3 1],GRfonts[5],1 1000
[20]  GRAXIS(1.5 1.25)(4$DSCGRlabels)8 0 1,SCARX[2 3 1],GRfonts[4],1 1000
[21]  $GO (~3$E GRopt)/nxt $DMD $QGRLINE 3 2$R 1.5 6.25 9.5 6.25 9.5 1.25 $DMD $QGRLS_100
[22]  0 $QGRDRAW(($R T)$R 1 0),(1.5+T#M),[1.5]($R T_2/$I $MIN-1+8%M_$TAKSCARX)$R 1.25 6.25
[23]  0 $QGRDRAW(($R T)$R 1 0),(($R T)$R 1.5 9.5),[1.5]T_2/1.25+M#$I $MIN-1+5%M_SCARY[1]
[24] nxt:$QGRLS_1 $DMD $QGRCHUP_0 1 $DMD $QGRCHJUST_'CENTER,CENTER'
[25]  (5 6.825)(GRfonts[1])0.4 'CENTER,CENTER'(0 1)GRLABEL 1$DSCGRlabels
[26]  (9.9 0.01)(GRfonts[3])0.15 'RIGHT,BOTTOM'(0 1)GRLABEL 3$DSCGRlabels
[27]  GRCHSIZE 0.15 $DMD $QGRCHJUST_'LEFT,CENTER' $DMD $QGRCHUP_0 1 $DMD $QGRFONT_13
[28]  (T_$ENC[2](2#$I +/B),[1.5]6.45)$QGRTEXT$"B/GRlabels[LOC]
[29]  $QGRLI_CI
[30]  (2+$I +/B)GRMARK$"T+$ENC-0.2 0 $DMD ZI_1 $DMD $QGRMARKER_2 $DMD $QGRTSEGC
[31]  $QGRWINDOW_(SCARX[2]+0 8#SCARX[3]%SCARX[1]),SCARY[2]+0 5#SCARY[3]%SCARY[1]
[32]  $QGRVIEWPORT_4$TAK(ZF/0.185 0.905 0.1475 0.5975),0.15 0.95 0.125 0.625
[33]  $QGRTSEGO $DMD $QGRLI_CI
[34]  ST_1,1++\ST $DMD P_1+$R GRlines $DMD M_0 $DMD $QGRLW_.25$MINLW
[35] lp:$QGRLS_GRlines[M_1$MAXP|M+1] $DMD $QGRLINE CP_D[-1+ST[1]+$I ST[2]$-ST[1];]
[36]  $GO (~11$E GRopt)/le $DMD $QGRMARKER_$QGRMARKER+1 $DMD $QGRMARK CP
[37] le:$QGRLI_1$MAXC|$QGRLI+1
[38]  $GO (1<$R ST_1$DRPST)/lp $DMD $QGRLI_$QGRLS_1
    "
 
$COM  $QGRCAPABILITIES   9
$COM  $QGRCHJUST        24_   27_
$COM  $QGRCHPREC         8_
$COM  $QGRCHUP          24_   27_
$COM  $QGRDRAW          22    23
$COM  $QGRFONT           8_   27_
$COM  $QGRLI            29_   33_   37_   37    38_
$COM  $QGRLINE          11    21    35
$COM  $QGRLS            21_   24_   35_   38_
$COM  $QGRLW             9_   34_
$COM  $QGRMARK          36
$COM  $QGRMARKER        30_   36_   36
$COM  $QGRSURFACES       9
$COM  $QGRTEXT          28
$COM  $QGRTSEGC          8    30
$COM  $QGRTSEGO         11    33
$COM  $QGRVIEWPORT      10_   32_
$COM  $QGRWINDOW         8_   31_
$COM  $QNC               7
$COM  B                  0    18_   28    28    30
$COM  C                  0     7_    7_   37
$COM  CI                 0     7_    7_   29    33
$COM  CP                 0    35_   36
$COM  D                  0     6_   12    12    18_   18    35]
$COM  GRAXIS            19    20
$COM  GRCHSIZE          27
$COM  GRLABEL           25    26
$COM  GRMARK            30
$COM  GRPERR             3     5
$COM  GRSCALE           13    15
$COM  GRcols             7
$COM  GRdata             0     2     4     6
$COM  GRfonts           19]   20]   25]   26]
$COM  GRlabels          17    17    18]   19    20    25    26    28]
$COM  GRlines           34    35]
$COM  GRloc              2    17    18    18
$COM  GRopt             10    11    21    36
$COM  H                  0
$COM  L                  0
$COM  LBL                0
$COM  LOC                0    18_   18    28
$COM  LW                 0     9_   34
$COM  M                  0    22    22_   23    23_   34_   35_   35
$COM  MN                 0    12_   13]   15]
$COM  MP                 0
$COM  MULT               0
$COM  MX                 0    12_   13]   14]   15]   16]
$COM  P                  0    34_   35
$COM  Q                  0
$COM  S                  0
$COM  SCARX              0    15_   16_   16]   16]   16]   16]   20]   22
$COM                    31]   31]   31]
$COM  SCARY              0    13_   14_   14]   14]   14]   14]   19]   23]
$COM                    31]   31]   31]
$COM  SI                 0
$COM  ST                 0     4_    6     6_    6    18    18_   18    34_
$COM                    34    35]   35]   35]   38_   38
$COM  T                  0    13    13_   14    14_   15    15_   16    16_
$COM                    17_   18_   18]   18    18    18    22    22    22_
$COM                    23    23    23_   28_   30
$COM  Z                  0
$COM  ZF                 0    10_   32
$COM  ZI                 0     7_   30_
$COM  ZL                 0
$COM  dl                 2     4:
$COM  do                 4     6:
$COM  dt                 7:
$COM  le                36    37:
$COM  lp                35:   38
$COM  nb                10    11:
$COM  nc                 7     8:
$COM  nf                11    12:
$COM  nxt               21    24:
0
 
 
;'        Function: GRPOLYCLIP   '
 
 
    " PC_PF GRPOLYCLIP PC;I;IS;J;K;M;N;W;P;Q;PO
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]  $COM    PC --    Polygon being clipped
[3]  $COM    PF --    Polygon entirely in front of PC
[4]   PC_((N_($R ,PC)%2),2)$R PC
[5]   $GO ((2 1$R 0 1)&.=P_PC GRINSIDE PF_((M_($R PF)%2),2)$R PF)/ni 0
[6]   (W IS)_(,PF)GRISECT,PO_PC            $COM     Obtain intersections
[7]   PC_(I_-1+P$I 1)$RV1PC $DMD W_I$REVW $DMD P_I$REVP $DMD IS_I$REV[2]IS
[8]   IS_(,W)$RD1((M#N),2)$R IS
[9]   Q_-1$DRP$NE\0,Q#0=2|+/Q_$OR/W
[10]  PC_(~($I 2++/P,Q)$E I_(-1+P$I 0)$SC.+$I 2++/Q)$XP1P$RD1PC
[11]  PC[I[1,$R I];]_IS
[12]  PC[1$DRP-1$DRPI;]_Q$RD1PF
[13]  $GO 0
[14] ni: $COM   Polygon is totally obscurred by PF
[15]  PC_0 2$R 0
    "
 
$COM  GRINSIDE   5
$COM  GRISECT    6
$COM  I          0     7_    7     7     7    10_   11]   11    12
$COM  IS         0     6     7_    7     8_    8    11
$COM  J          0
$COM  K          0
$COM  M          0     5_    8
$COM  N          0     4_    8
$COM  P          0     5_    7     7_    7    10    10    10
$COM  PC         0_    0     4_    4     4     5     6     7_    7    10_
$COM            10    11]_  12]_  15_
$COM  PF         0     5_    5     5     6    12
$COM  PO         0     6_
$COM  Q          0     9_    9     9_   10    10    12
$COM  W          0     6     7_    7     8     9
$COM  ni         5    14:
0
 
 
;'        Function: GRPRDF       '
 
 
    " GRPRDF R;FID;FMT;T;LBL
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (4>$R R)/de
[3]   $GO (R[2,$R R]$EQV(,'(')(,')'))/dn
[4]  de:GRPERR 'Correct form is: DATA=READ(label=(fid,t,fmt,fmt,fmt),...)'
[5]   $GO 0
[6]  dn:LBL_$TAKR
[7]   $GO ($DLTfid FID_3$DSCR)/df
[8]   GRPERR$XEC')?' $DMD $GO 0
[9]  df:$GO (3$NET_''$R -1+'IFA'$I 4$DSCR)/dfmt
[10]  GRPERR 'Fid must be followed by I, F, or A' $DMD $GO 0
[11] dfmt:FMT_'' $DMD $GO (0=$R R_-1$DRP4$DRPR)/dd
[12]  $GO (0$OR.>FMT_,$DSCGRPRFMT$"R)/dfer
[13] dd:GRdata_GRdata,$ENCFID T FMT $DMD GRf_GRf,1 $DMD 0 GRALABEL LBL $DMD $GO 0
[14] dfer:GRPERR 'Incorrect Format Specification is: A, D or X'
    "
 
$COM  FID           0     7_   13
$COM  FMT           0    11_   12_   13
$COM  GRALABEL     13
$COM  GRPERR        4     8    10    14
$COM  GRPRFMT      12
$COM  GRdata       13_   13
$COM  GRf          13_   13
$COM  LBL           0     6_   13
$COM  R             0     2     3]    3     6     7     9    11_   11    12
$COM  T             0     9_   13
$COM  $DLTfid       7
$COM  dd           11    13:
$COM  de            2     4:
$COM  df            7     9:
$COM  dfer         12    14:
$COM  dfmt          9    11:
$COM  dn            3     6:
0
 
 
;'        Function: GRPRETTY     '
 
 
    " R_GRPRETTY R;C;RC;W
[.001] $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[1]   $GO (1$GEC_$MIN$QPW%W_4+-1$TAKRC_$R R)/0
[2]   R_(RC,C#W)$R ((C#RC_$MAXRC[1]%C),W)$TAKR
[3]   $GO 0
    "
 
$COM  $QPW   1
$COM  C      0     1_    2     2     2
$COM  R      0_    0     1     2_    2
$COM  RC     0     1_    2     2_    2]
$COM  W      0     1_    2     2
0
 
 
;'        Function: GRPRFMT      '
 
 
    " R_GRPRFMT B;A
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO ((~($TAKB)$E 'XDA')$OR0=$TAK($QVI A_1$DRPB),1)/R_-1 -1
[3]   $GO (0=(A<1000)&($MAXA)=$MINA_1$TAK$QFI A)/0
[4]   R_A,0 1 2['XD'$I $TAKB]
    "
 
$COM  $QFI    3
$COM  $QVI    2
$COM  A       0     2_    3     3     3_    3     4
$COM  B       0     2     2     4
$COM  R       0_    2_    4_
0
 
 
;'        Function: GRPUTLBL     '
 
 
    " A GRPUTLBL B
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $QGRCHJUST_-2$DRPB $DMD (-2$TAKB)$QGRTEXT A
    "
 
$COM  $QGRCHJUST   2_
$COM  $QGRTEXT     2
$COM  A            0     2
$COM  B            0     2     2
0
 
 
;'        Function: GRPUTTEXT    '
 
 
    " A GRPUTTEXT B
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   GRCHSIZE A[3] $DMD A[1 2]$QGRTEXT B
    "
 
$COM  $QGRTEXT    2
$COM  A           0     2]    2]
$COM  B           0     2
$COM  GRCHSIZE    2
0
 
 
;'        Function: GRREAD       '
 
 
    " R_GRREAD F;A;B;C;D;FT;H;I;L;MYNAME;T
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $XEC')SET $Q0 ',($TAKF),',FUN=IN' $DMD R_'' $DMD MYNAME_'GRREAD'
[3]   ' ' $DMD ' ** Reading data from file: ',$TAKF
[4]   B_$QBPRECORD 0 0 $DMD FT_1 1000[1+0$NE$R $QSSS($QUNSET 0)'ORG=KEYED']
[5]   T_$TAK(3 36)(4 72)(2 9)[1+F[2]]              $COM $QCVT argument
[6]   B_1 $DMD $GO (0$NE$R A_3$DSCF)/slow
[7]   $GO (2=$TAKT)/fl $DMD (1 2$R ecvt 6)$QSM MYNAME
[8]  cl:$GO (0=$TAKD_$Q0)/x $DMD R_R,T $QCVT D $DMD B_B+1 $DMD $GO cl
[9]  fl:$GO (0=$TAKD_$Q0)/x $DMD R_R,(C_$QVI D)/$QFI D;B_B+1 $DMD $GO (~0$E C)/fl
[10]  'Ignoring Illegal value in record: ',$FMTB $DMD $GO fl,B_B+1
[11] ecvt:$GO (ecvt=$QERN[2])/esk $DMD R_R,T $QCVT(A#$MIN($R D)%A_T[2]%9)$TAKD
[12]  'Trailing bytes ignored on record: ',$FMTB $DMD $GO cl,B_B+1
[13] esk:'Record: ',($FMT($QBKEY 0)%FT),' skipped' $DMD $GO cl,B_B+1
[14] $COM
[15] slow:A_((($R A)%2),2)$R A $DMD $GO (0$OR.$NEA[;1])/fm $DMD A_A[;2]
[16] fb:$GO (0=$TAKI_$Q0)/x $DMD I_(($R A)$MIN$R I)$TAKI_$QTLEX I ' =,'
[17]  GRlabels_GRlabels,C_(2=F_($R I)$TAKA)/I $DMD B_B+1 $DMD GRfonts_GRfonts,($R C)$R 13
[18]  R_R,(C_$QVI I)/$QFI I_,' ',$DSC(1=F)/I $DMD $GO (~0$E C)/fb
[19]  'Illegal numeric field in record: ',$FMTB$-1 $DMD $GO fb
[20] fm:$GO (0$E A[;1])/ferr $DMD C_-1$DRP+\0,A[;1] $DMD L_$MAX/A[;1]
[21]  T_T[1],$"9#(1=A[;2])/A[;1] $DMD (1 2$R ie 7)$QSM MYNAME
[22] ff:$GO (0=$TAKD_$Q0)/x $DMD D_(' ',D)[1+(C$SC.+$I L)#A[;1]$SC.$GE$I L]
[23] fr:D_A[;1]$TAK$"$ENC[2]D $DMD B_B+1
[24]  GRlabels_GRlabels,H_(2=(F_(($R D),2)$TAKA)[;2])/D $DMD GRfonts_GRfonts,($R H)$R 13 $DMD $GO (2=$TAK$TAKT)/fv
[25]  R_R,(($R D)$TAKT)$QCVT$"(1=F[;2])/D
[26]  $GO ff
[27] fv:R_R,(H_$QVI D)/$QFI D_,' ',$DSC(1=F[;2])/D $DMD $GO (~0$E H)/ff
[28]  'Illegal numeric field in record: ',$FMTB$-1 $DMD $GO ff
[29] ie:$GO ((C+A[;1])$OR.=$R D)/trunc
[30]  $GO ((2$NE$TAK$TAKT)&2$NEA[H_-1+((C+1)$LE$R D)$I 0;2])/trunc
[31]  D_(C[H]+A[H;1])$TAKD
[32] trunc:H_(C+A[;1]$-1)<$R D
[33]  D_(' ',D)[1+H$RD1(C$SC.+$I L)#A[;1]$SC.$GE$I L] $DMD $GO fr
[34] ferr:'All format field lengths must be 0 or none may be 0.'
[35]  $GO $TAKR_$I 0
[36] x:' ** File processing completed after ',($FMT-1+B),' records.'
[37]  ' ' $DMD $XEC')SET $Q0 ME,FUN=U'
    "
 
$COM  $QBKEY      13
$COM  $QBPRECORD   4
$COM  $QCVT        8    11    25
$COM  $QERN       11]
$COM  $QFI         9    18    27
$COM  $QSM         7    21
$COM  $QSSS        4
$COM  $QTLEX      16
$COM  $QTSQZ       2
$COM  $QUNSET      4
$COM  $QVI         9    18    27
$COM  A            0     6_   11    11_   15_   15    15    15]   15_   15]
$COM              16    17    20]   20]   20]   21]   21]   22]   23]   24
$COM              29]   30]   31]   32]   33]
$COM  B            0     4_    6_    8_    8     9_    9    10    10_   10
$COM              12    12_   12    13_   13    17_   17    19    23_   23
$COM              28    36
$COM  C            0     9_    9    17_   17    18_   18    20_   22    29
$COM              30    31]   32    33
$COM  D            0     8_    8     9_    9     9    11    11    22_   22_
$COM              22    23_   23    24    24    25    25    27    27_   27
$COM              29    30    31_   31    32    33_   33
$COM  F            0     2     3     5]    6    17_   18    24_   25]   27]
$COM  FT           0     4_   13
$COM  GRfonts     17_   17    24_   24
$COM  GRlabels    17_   17    24_   24
$COM  H            0    24_   24    27_   27    30_   31    31    32_   33
$COM  I            0    16_   16_   16    16_   16    17    17    18    18_
$COM              18
$COM  L            0    20_   22    22    33    33
$COM  MYNAME       0     2_    7    21
$COM  R            0_    2_    8_    8     9_    9    11_   11    18_   18
$COM              25_   25    27_   27    35_
$COM  T            0     5_    7     8    11    11]   21_   21]   24    25
$COM              30
$COM  cl           8:    8    12    13
$COM  ecvt         7    11:   11
$COM  esk         11    13:
$COM  fb          16:   18    19
$COM  ferr        20    34:
$COM  ff          22:   26    27    28
$COM  fl           7     9:    9    10
$COM  fm          15    20:
$COM  fr          23:   33
$COM  fv          24    27:
$COM  ie          21    29:
$COM  slow         6    15:
$COM  trunc       29    30    32:
$COM  x            8     9    16    22    36:
0
 
 
;'        Function: GRRESET      '
 
 
    " GRRESET;T
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   GRtype_-1
[3]  $COM    TYPE:    0  -  BAR
[4]  $COM             1  -  GANT
[5]  $COM             2  -  LINE
[6]  $COM             3  -  PLOT
[7]  $COM             4  -  PIE
[8]  $COM             5  -  STEP
[9]   GRopt_0/0
[10] $COM    OPTIONS: 1  -  BORDER
[11] $COM             2  -  FRAME
[12] $COM             3  -  GRID
[13] $COM            10  -  PERCENTAGES
[14] $COM            11  -  FILL
[15] $COM            12  -  STACK
[16] $COM            13  -  HIDE
[17]  GRlabels_7$R $ENC'' $DMD GRfonts_7$R 13
[18] $COM    LABEL:   0  -  TITLE
[19] $COM             1  -  SUBTITLE
[20] $COM             2  -  NOTE
[21] $COM             3  -  XNAME
[22] $COM             4  -  YNAME
[23] $COM             5  -  *UNUSED*
[24] $COM             6  -  *UNUSED*
[25] $COM             7  -  *UNUSED*
[26] $COM             8---  NAMES
[27]  GRdata_0/0
[28] $COM    DATA: For PIE, BAR, LINE and STEP graphs,
[29] $COM          GRdata is a simple numeric vector having
[30] $COM          one value for each NAME in 7$DRP GRlabels.
[31]  GRvalm_0 6$R GRloc_GRdest_GRfmt_GRvals_0/0
[32] $COM   GRloc:  Location of first label for each DATA name
[33]  GRtx_-1 $DMD GRrdtype_2
[34]  GRf_0/0
[35] $COM   GRf:  1 if data from file, otherwise 0
[36] $COM   GRcoln:  1 if a color change has been requested
[37]  GRfill_0/0
[38] $COM   FILL:  A vector of fill pattern definitions.
[39] $COM          Each item of this vector is a 2 (or 3) item
[40] $COM          array defining the fill pattern to be used.
[41] $COM          The first item of an item is an integer in
[42] $COM          the range -2 through 6 where -1 means unfilled,
[43] $COM          0 means solid fill, and 1 through 6 and the
[44] $COM          fill patterns associated with device escape 4.
[45] $COM          Finally -2 indicates that a pixel array is
[46] $COM          the second item and its name is the third item.
[47]  GRlines_,1
[48] $COM          A vector of line styles.
[49]  GRcmds_GRCMDS
[50]  GRup_$QAV $DMD GRup[T+$QAV$I 'a']_GRup[(T_-1+$I 26)+$QAV$I 'A']
[51]  $GO (0=GRform)/0
[52]  ((GRFORMID 'BORDER')+-1+$I 7)GRFORMPUT$"'N'
[53]  (T_(GRFORMID 'TITLE')+2#-1+$I 4)GRFORMPUT$"$ENC,' '
[54]  (T+1)GRFORMPUT$"$ENC'13'
[55]  ((GRFORMID 'SUBTITLE1')+-1+$I 4)GRFORMPUT$"$ENC,' '
[56]  ((GRFORMID 'FILLPATTERN')+-1+$I 4)GRFORMPUT$"$ENC,' '
    "
 
$COM  $QAV        50    50    50
$COM  GRCMDS      49
$COM  GRFORMID    52    53    55    56
$COM  GRFORMPUT   52    53    54    55    56
$COM  GRcmds      49_
$COM  GRdata      27_
$COM  GRdest      31_
$COM  GRf         34_
$COM  GRfill      37_
$COM  GRfmt       31_
$COM  GRfonts     17_
$COM  GRform      51
$COM  GRlabels    17_
$COM  GRlines     47_
$COM  GRloc       31_
$COM  GRopt        9_
$COM  GRrdtype    33_
$COM  GRtx        33_
$COM  GRtype       2_
$COM  GRup        50_   50]_  50]
$COM  GRvalm      31_
$COM  GRvals      31_
$COM  T            0    50    50_   53_   54
0
 
 
;'        Function: GRRESETFILL  '
 
 
    " GRRESETFILL
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   (0 200)$QGRESCAPE 4 $DMD $QGRFILL_1 $DMD $QGRPINS_'PLAIN'
    "
 
$COM  $QGRESCAPE   2
$COM  $QGRFILL     2_
$COM  $QGRPINS     2_
0
 
 
;'        Function: GRSCALE      '
 
 
    " R_GRSCALE B;A;DLT;DV;EP;FAC;IDV;MN;MX;RV;V1;XL;NV;INC;STEP
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   (A XL INC STEP)_B $DMD DLT_1 2 2.5 4 5 10 20 20
[3]   MX_$MAX/0,A $DMD RV_-0.99 0.01[1+0$LEMN_$MIN/A]
[4]   $GO (0$GEDV_(MX$-MN)%XL%STEP)/sxz
[5]   DV_DV%-0.01+FAC_10*-1000+$MIN1000+10$LOGDV
[6]   IDV_(DLT$GEDV)$I 1
[7]  st:DV_DLT[IDV]#FAC
[8]   V1_DV#$MINRV+MN%DV
[9]   $GO (MX<EP_V1+DV#0.01+XL%STEP)/sz
[10]  V1_FAC#$MINRV+MN%FAC
[11]  $GO (MX<EP_V1+DV#0.001+XL%STEP)/sz
[12]  $GO st,IDV_IDV+1
[13] sz:V1_V1#0<MN#V1
[14]  $GO (INC>0)/sx $DMD V1_V1+DV#$MIN0.05+XL%STEP $DMD DV_$-DV
[15] sx:R_V1,DV $DMD $GO 0
[16] sxz:DV_|1+(2#V1_MN)%XL
[17]  $GO sx
    "
 
$COM  A       0     2     3     3
$COM  B       0     2
$COM  DLT     0     2_    6     7]
$COM  DV      0     4_    5_    5     5     6     7_    8     8     9    11
$COM         14    14_   14    15    16_
$COM  EP      0     9_   11_
$COM  FAC     0     5_    7    10    10
$COM  IDV     0     6_    7    12_   12
$COM  INC     0     2    14
$COM  MN      0     3_    4     8    10    13    16
$COM  MX      0     3_    4     9    11
$COM  NV      0
$COM  R       0_   15_
$COM  RV      0     3_    8    10
$COM  STEP    0     2     4     9    11    14
$COM  V1      0     8_    9    10_   11    13_   13    13    14_   14    15
$COM         16_
$COM  XL      0     2     4     9    11    14    16
$COM  st      7:   12
$COM  sx     14    15:   17
$COM  sxz     4    16:
$COM  sz      9    11    13:
0
 
 
;'        Function: GRSET3DWINDOW'
 
 
    " VIEW GRSET3DWINDOW N;T
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (0=$QGRTSEG)/nx $DMD $QGRTSEGC
[3]  nx:$GO (0=$QGRSEGCURR)/ns $DMD $QGRSEGCLOSE
[4]  ns:GRSETUPVIEW VIEW
[5]   T_GRTO3D 4 2$R 0 0 0 11,N[1],11,N[1]
[6]   T_T,[1]N[2]GRTOZ3D T
[7]   $QGRWINDOW_(($MIN$RD1T),$MAX$RD1T)[1 3 2 4]+-1 1 -1 1#1 2 1 2
[8]   $QGRTSEGO
    "
 
$COM  $QGRSEGCLOSE   3
$COM  $QGRSEGCURR    3
$COM  $QGRTSEG       2
$COM  $QGRTSEGC      2
$COM  $QGRTSEGO      8
$COM  $QGRWINDOW     7_
$COM  GRSETUPVIEW    4
$COM  GRTOZ3D        6
$COM  GRTO3D         5
$COM  N              0     5]    5]    6]
$COM  T              0     5_    6_    6     6     7     7
$COM  VIEW           0     4
$COM  ns             3     4:
$COM  nx             2     3:
0
 
 
;'        Function: GRSETCHUP    '
 
 
    " GRSETCHUP N
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   N_N$-5 0
[3]   $QGRCHUP_$REVN
    "
 
$COM  $QGRCHUP   3_
$COM  N          0     2_    2     3
0
 
 
;'        Function: GRSETFILL    '
 
 
    " GRSETFILL N;P
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (0=$R GRfill)/0 $DMD N_($R GRfill)|N
[3]   $GO (-1 -2=$TAKP_(N+1)$DSCGRfill)/sc sp
[4]   P $QGRESCAPE 4 $DMD $QGRPINS_'PLAIN'
[5]   $GO 0
[6]  sp:$QGRPINS_'PATTERNED' $DMD $QGRPIXEL_2$DSCP
[7]   $GO 0
[8]  sc:$QGRPINS_'PLAIN' $DMD $QGRFILL_0 $DMD 0 0 $QGRESCAPE 4
    "
 
$COM  $QGRESCAPE   4     8
$COM  $QGRFILL     8_
$COM  $QGRPINS     4_    6_    8_
$COM  $QGRPIXEL    6_
$COM  GRfill       2     2     3
$COM  N            0     2_    2     3
$COM  P            0     3_    4     6
$COM  sc           3     8:
$COM  sp           3     6:
0
 
 
;'        Function: GRSETREAD    '
 
 
    " GRSETREAD
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   GRdata_GRdata,$ENCGRfid GRrdtype GRfmt
[3]   GRfmt_0/0 $DMD GRrdtype_2 $DMD GRf_1
    "
 
$COM  GRdata     2_    2
$COM  GRf        3_
$COM  GRfid      2
$COM  GRfmt      2     3_
$COM  GRrdtype   2     3_
0
 
 
;'        Function: GRSETUPVIEW  '
 
 
    " GRSETUPVIEW N;Z
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   Z_$O N[1 2]%180
[3]   (SVA CVA)_1(N[3])#1 2$O Z[2]
[4]   (SHASVA CHASVA)_SVA#(SHA CHA)_1 2$O Z[1]
[5]   $GO 0
[6]  $COM
[7]  $COM    NAME:    GRSETUPVIEW
[8]  $COM    PURPOSE: To setup 3D viewing variables.
[9]  $COM    INPUT:   N     A simple two element vector containing
[10] $COM                   the viewing elevation (5..85) and the
[11] $COM                   X-Y viewing angle (5..85) in that order.
[12] $COM    OUTPUT:   SVA, CVA, SHA, CHA, SHASVA, CHASVA
    "
 
$COM  CHA      4
$COM  CHASVA   4
$COM  CVA      3
$COM  N        0     2]    3]
$COM  SHA      4
$COM  SHASVA   4
$COM  SVA      3     4
$COM  Z        0     2_    3]    4]
0
 
 
;'        Function: GRSTATLBL    '
 
 
    " R_C GRSTATLBL N;T
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO ((0=$R R_N$DSCGRlabels),(T_GRfonts[N])$E 28 29)/0 af
[3]   R_0 $QTSQZ R
[4]  af:R_C,'''',R,'''',((13$NET)/' (',($FMTT),')'),CR
    "
 
$COM  $QTSQZ      3
$COM  C           0     4
$COM  CR          4
$COM  GRfonts     2]
$COM  GRlabels    2
$COM  N           0     2     2
$COM  R           0_    2_    3_    3     4_    4
$COM  T           0     2_    4     4
$COM  af          2     4:
0
 
 
;'        Function: GRSTATUS     '
 
 
    " R_GRSTATUS;T;Q;Z;D;I;F;J;S;CR;B
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   CR_$QAV[14]
[3]   R_CR,'TITLE = ' GRSTATLBL 1
[4]   R_R,'NOTE  = ' GRSTATLBL 3
[5]   R_R,'XNAME = ' GRSTATLBL 4
[6]   R_R,'YNAME = ' GRSTATLBL 5
[7]   $GO (0=$R Q_GRloc)/sxlp
[8]   R_R,$TAK,/($ENC'SUBTITLE = ')GRSTATLBL$"Q
[9]  sxlp:
[10]  R_R,(2$E GRopt)/'BORDER',CR
[11]  R_R,(1$E GRopt)/'FRAME',CR
[12]  R_R,(3$E GRopt)/'GRID',CR
[13]  R_R,(10$E GRopt)/'PERCENTAGES',CR
[14]  R_R,(13$E GRopt)/'HIDE',CR
[15]  T_'' $DMD $GO J_(0=$R GRfill)/fx
[16]  Z_($TAK$"S_2$DSCQ_GRDEFFILLS)$I $TAK$"GRfill
[17]  $GO (~1$E F_Z=1+S_$R S)/ff $DMD J_$TAK,/' ',$"3$DSC$"F/GRfill $DMD (F/Z)_S+$I +/F
[18] ff:T_' = (',((' '$NET)/T_1$DRP,',',Z GRVSELECT(1$DSCQ),J),')'
[19] fx:R_R,(11$E GRopt)/'FILL ',T,CR
[20]  $GO (GRlines$EQV,1)/sx $DMD Q_GRDEFLINES
[21]  R_R,'STYLE = (',((' '$NET)/T_1$DRP,',',$DSC($TAKQ)[(2$DSCQ)$I GRlines]),')',CR
[22] sx:R_R,(12$E GRopt)/'STACK',CR
[23]  $GO (0=$QNC 'GRcols')/nc $DMD T_'' $DMD $GO (0=$R GRcols)/cx
[24]  Z_(2$DSCQ_GRDEFCOLS)&.=GRcols
[25]  T_'= (',((' '$NET)/T_1$DRP,',',$DSC(($OR/Z)/1$DSCQ)[$GU(T$NE0)/T_Z$MAX.#$I -1$TAK$R Z]),')'
[26] cx:R_R,'COLOR ',T,CR
[27] nc:I_1 $DMD $GO (0=Q_$R B_(~GRf)/GRdata)/dfs
[28]  Z_0 $QTSQZ$"(~($I $R GRlabels)$E GRloc,$I 7)/GRlabels
[29] dlp:D_I$DSCB
[30]  T_$TAK,/(((($R D)$TAKZ),$"1$TAK(0$NE$R Z)/'='),$"$FMT$"D),$"','
[31]  R_R,'DATA = ;',CR
[32]  R_R,'    (',(-1$DRPT),')',CR
[33]  Z_($R D)$DRPZ $DMD $GO (Q$GEI_I+1)/dlp
[34] dfs:$GO (0=Q_$R B_GRf/GRdata)/dx $DMD I_1
[35] df:Z_Q$TAKGRlabels[(($R GRloc)$TAKGRf)/GRloc]
[36]  R_R,'DATA = READ( ;',CR
[37] flp:$GO (3$NE$R D_I$DSCB)/fe $DMD F_3$DSCD
[38]  T_0 $QTSQZ(I$DSCZ),'(',(1$DSCD),',','IFA'[1+2$DSCD]
[39]  T_T,(S$NE' ')/S_,',','XDA'[1+F[J]],'BI3' $QFMT F[-1+J_2#$I 0.5#$R F]
[40]  R_R,'   ',T,')',((I$NEQ)/';'),CR
[41] fe:$GO (Q$GEI_I+1)/flp $DMD R_R,'     )',CR
[42] dx:R_R,CR
    "
 
$COM  $QAV          2]
$COM  $QFMT        39
$COM  $QNC         23
$COM  $QTSQZ       28    38
$COM  B             0    27_   29    34_   37
$COM  CR            0     2_    3    10    11    12    13    14    19    21
$COM               22    26    31    32    36    40    41    42
$COM  D             0    29_   30    30    33    37_   37    38    38
$COM  F             0    17_   17    17    17    37_   39]   39]   39
$COM  GRDEFCOLS    24
$COM  GRDEFFILLS   16
$COM  GRDEFLINES   20
$COM  GRSTATLBL     3     4     5     6     8
$COM  GRVSELECT    18
$COM  GRcols       23    24
$COM  GRdata       27    34
$COM  GRf          27    34    35
$COM  GRfill       15    16    17
$COM  GRlabels     28    28    35]
$COM  GRlines      20    21
$COM  GRloc         7    28    35    35
$COM  GRopt        10    11    12    13    14    19    22
$COM  I             0    27_   29    33_   33    34_   37    38    40    41_
$COM               41
$COM  J             0    15_   17_   18    39    39_
$COM  Q             0     7_    8    16_   18    20_   21    21    24_   25
$COM               27_   33    34_   35    40    41
$COM  R             0_    3_    4_    4     5_    5     6_    6     8_    8
$COM               10_   10    11_   11    12_   12    13_   13    14_   14
$COM               19_   19    21_   21    22_   22    26_   26    31_   31
$COM               32_   32    36_   36    40_   40    41_   41    42_   42
$COM  S             0    16_   17_   17    17    39    39_
$COM  T             0    15_   18_   18    18_   19    21    21_   23_   25_
$COM               25    25_   25    25_   26    30_   32    38_   39_   39
$COM               40
$COM  Z             0    16_   17    17    18    24_   25    25    25    28_
$COM               30    30    33_   33    35_   38
$COM  cx           23    26:
$COM  df           35:
$COM  dfs          27    34:
$COM  dlp          29:   33
$COM  dx           34    42:
$COM  fe           37    41:
$COM  ff           17    18:
$COM  flp          37:   41
$COM  fx           15    19:
$COM  nc           23    27:
$COM  sx           20    22:
$COM  sxlp          7     9:
0
 
 
;'        Function: GRSTEP       '
 
 
    " GRSTEP GRdata;B;C;CI;CP;D;H;L;LW;LBLS;LOC;M;MP;MULT;MX;P;Q;S;SCARR;SI;ST;T;Z;ZF;ZI;ZL
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (($R GRdata)=$R GRloc)/do $DMD GRPERR 'Each set of data must be SUBTITLEd' $DMD $GO 0
[3]  do:$GO ((+/Q_$TAK$"$R $"GRdata)=-7+($R GRlabels)$-$R ST_(ZL_($I $R GRlabels)$E GRloc)/GRlabels)/dt
[4]   GRPERR 'Number of datanames does not equal number of data points' $DMD $GO 0
[5]  dt:ZI_CI_1 $DMD $GO (C_0=$QNC 'GRcols')/nc $DMD CI_1$MAX2$MIN-1+C_1$MAX-1$TAK$R GRcols
[6]  nc:$QGRTSEGC $DMD $QGRWINDOW_0 10 0 7 $DMD $QGRCHPREC_'STROKE' $DMD $QGRFONT_13
[7]   $QGRLW_.12$MINLW_4 13$DSC$QGRCAPABILITIES$TAK$QGRSURFACES
[8]   $GO (~ZF_1$E GRopt)/nb $DMD $QGRVIEWPORT_0.05 0.95 0.035 0.665
[9]  nb:$QGRTSEGO $DMD $GO (~2$E GRopt)/nf $DMD $QGRLINE 5 2$R 0 0 0 7 10 7 10 0 0 0
[10] nf:$GO (12$E GRopt)$DRPns $DMD GRdata_Q$TAK$"$ENC[2]+$XP1$DSCGRdata
[11] ns:MX_$MAX/D_0,(T$GE0)/T_$TAK,/GRdata $DMD LBLS_GRNAMED
[12]  SCARR_T,$DSCGRSCALE$"($ENCD 5 1),$"T_5%11$-$I 6
[13]  SCARR_SCARR[T$I $MAX/T_MX%SCARR[;2]+5#SCARR[;3]%SCARR[;1];]
[14]  T_~(($I $R GRlabels)$E GRloc)&GRlabels$E $ENC'DUMMY'
[15]  GRdata_T[GRloc]/GRdata $DMD B_~GRlabels[LOC_T[GRloc]/GRloc]$E $ENC''
[16]  GRAXIS(1.5 1.25)(5$DSCGRlabels)5 90 -1,SCARR[2 3 1],GRfonts[5],1 1000
[17]  $GO (~3$E GRopt)/ng $DMD $QGRLINE 3 2$R 1.25 6.25 9.5 6.25 9.5 1.25 $DMD $QGRLS_10
[18]  0 $QGRDRAW(($R T)$R 1 0),(($R T)$R 1.5 9.5),[1.5]T_2/1.25+M#$I $MIN-1+5%M_SCARR[1]
[19] ng:$QGRLS_1 $DMD (SI MP)_(LBLS,0)GRNMAXIS 2 2$R 1.5 1.25 9.5 1.25
[20]  (5.5 0.35)(GRfonts[4])0.25 'CENTER,CENTER'(0 1)GRLABEL 4$DSCGRlabels
[21]  (5 6.825)(GRfonts[1])0.4 'CENTER,CENTER'(0 1)GRLABEL 1$DSCGRlabels
[22]  (9.9 0.01)(GRfonts[3])0.15 'RIGHT,BOTTOM'(0 1)GRLABEL 3$DSCGRlabels
[23]  GRCHSIZE 0.15 $DMD $QGRCHJUST_'LEFT,CENTER' $DMD $QGRCHUP_0 1 $DMD $QGRFONT_13
[24]  (T_$ENC[2](2#$I +/B),[1.5]6.45)$QGRTEXT$"B/GRlabels[LOC]
[25]  $QGRLI_CI
[26]  (2+$I +/B)GRMARK$"T+$ENC-0.2 0 $DMD ZI_1 $DMD $QGRMARKER_2 $DMD $QGRLI_CI
[27]  $QGRTSEGC $DMD $QGRWINDOW_0 8,(SCARR[2]),SCARR[2]+5#SCARR[3]%SCARR[1]
[28]  $QGRVIEWPORT_4$TAK(ZF/0.185 0.905 0.1475 0.5975),0.15 0.95 0.125 0.625
[29]  $QGRTSEGO $DMD P_1+$R GRlines $DMD M_0 $DMD $QGRLW_.25$MINLW
[30] lp:$QGRMARKER_$QGRMARKER+B[ZI] $DMD $QGRMARK(D$NE0)$RD1T_(SI#-0.5+$I $R D),[1.5]D_ZI$DSCGRdata
[31]  $QGRLS_GRlines[M_1$MAXP|M+1]
[32]  $QGRLINE (,(SI#$I $R D)$SC.+SI#-1 0),[1.5]2/D
[33]  $QGRLI_1$MAXC|$QGRLI+1
[34]  $GO (($R GRdata)$GEZI_ZI+1)/lp $DMD $QGRLI_$QGRLS_1
    "
 
$COM  $QGRCAPABILITIES   7
$COM  $QGRCHJUST        23_
$COM  $QGRCHPREC         6_
$COM  $QGRCHUP          23_
$COM  $QGRDRAW          18
$COM  $QGRFONT           6_   23_
$COM  $QGRLI            25_   26_   33_   33    34_
$COM  $QGRLINE           9    17    32
$COM  $QGRLS            17_   19_   31_   34_
$COM  $QGRLW             7_   29_
$COM  $QGRMARK          30
$COM  $QGRMARKER        26_   30_   30
$COM  $QGRSURFACES       7
$COM  $QGRTEXT          24
$COM  $QGRTSEGC          6    27
$COM  $QGRTSEGO          9    29
$COM  $QGRVIEWPORT       8_   28_
$COM  $QGRWINDOW         6_   27_
$COM  $QNC               5
$COM  B                  0    15_   24    24    26    30]
$COM  C                  0     5_    5_   33
$COM  CI                 0     5_    5_   25    26
$COM  CP                 0
$COM  D                  0    11_   12    30    30    30_   32    32    32
$COM  GRAXIS            16
$COM  GRCHSIZE          23
$COM  GRLABEL           20    21    22
$COM  GRMARK            26
$COM  GRNAMED           11
$COM  GRNMAXIS          19
$COM  GRPERR             2     4
$COM  GRSCALE           12
$COM  GRcols             5
$COM  GRdata             0     2     3    10_   10    11    15_   15    30
$COM                    34
$COM  GRfonts           16]   20]   21]   22]
$COM  GRlabels           3     3     3    14    14    15]   16    20    21
$COM                    22    24]
$COM  GRlines           29    31]
$COM  GRloc              2     3    14    15    15    15
$COM  GRopt              8     9    10    17
$COM  H                  0
$COM  L                  0
$COM  LBLS               0    11_   19
$COM  LOC                0    15_   24
$COM  LW                 0     7_   29
$COM  M                  0    18    18_   29_   31_   31
$COM  MP                 0    19
$COM  MULT               0
$COM  MX                 0    11_   13
$COM  P                  0    29_   31
$COM  Q                  0     3_   10
$COM  S                  0
$COM  SCARR              0    12_   13_   13]   13]   13]   13]   16]   18]
$COM                    27]   27]   27]   27]
$COM  SI                 0    19    30    32    32
$COM  ST                 0     3_
$COM  T                  0    11    11_   12    12_   13    13_   14_   15]
$COM                    15]   18    18    18_   24_   26    30_
$COM  Z                  0
$COM  ZF                 0     8_   28
$COM  ZI                 0     5_   26_   30    30    34_   34
$COM  ZL                 0     3_
$COM  do                 2     3:
$COM  dt                 3     5:
$COM  lp                30:   34
$COM  nb                 8     9:
$COM  nc                 5     6:
$COM  nf                 9    10:
$COM  ng                17    19:
$COM  ns                10    11:
0
 
 
;'        Function: GRTEXT       '
 
 
    " F GRTEXT B
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (GRtx<0)/ga $DMD GRlabels[1+GRtx]_$ENCGRval $DMD GRfonts[GRtx+1]_F $DMD $GO 0
[3]  ga:GRlabels_GRlabels,$ENCGRval $DMD GRfonts_GRfonts,F
[4]   $GO B/0 $DMD GRloc_GRloc,$R GRlabels
[5]   $GO 0
[6]  $COM  NAME:          GRTEXT
[7]  $COM  PURPOSE:    To add a label to the list of labels.
[8]  $COM  DESCRIPTION:
[9]  $COM     The label to add is in the variable named GRval.
[10] $COM     The label is added to the end of the list of labels
[11] $COM     if the global variable GRtx is less than 0 or it
[12] $COM     replaces an existing label if it is greater than 0.
[13] $COM
[14] $COM     If the right argument B is 0 then the position of
[15] $COM     the newly inserted label is added to the vector
[16] $COM     GRloc.  GRloc is used to hold the names of the
[17] $COM     sets of data.
    "
 
$COM  B          0     4
$COM  F          0     2     3
$COM  GRfonts    2]_   3_    3
$COM  GRlabels   2]_   3_    3     4
$COM  GRloc      4_    4
$COM  GRtx       2     2     2
$COM  GRval      2     3
$COM  ga         2     3:
0
 
 
;'        Function: GRTO3D       '
 
 
    " XY_GRTO3D XY;X;Y;Z
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   Z_2#$I ($R XY)[2]%2
[3]   XY[;Z]_(SHA#X_XY[;-1+Z])$-CHA#$-Y_XY[;Z]
[4]   XY[;-1+Z]_6+(CHASVA#X)+SHASVA#$-Y
[5]   $GO 0
[6]  $COM    NAME:    GRTO3D
[7]  $COM    PURPOSE: To map X,Y 3D value into a 2D X,Y value.
    "
 
$COM  CHA      3
$COM  CHASVA   4
$COM  SHA      3
$COM  SHASVA   4
$COM  X        0     3_    4
$COM  XY       0_    0     2     3]_   3]    3]    4]_
$COM  Y        0     3_    4
$COM  Z        0     2_    3     3     3     4
0
 
 
;'        Function: GRTOZ3D      '
 
 
    " XY_Z GRTOZ3D XY;P;Q;T
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   XY[;T]_XY[;T_2#$I Q]+(P[1],Q)$R (Q_(-1$TAKP_$R XY)%2)/CVA#0$MAXZ
    "
 
$COM  CVA   2
$COM  P     0     2]    2_
$COM  Q     0     2     2     2_
$COM  T     0     2     2_
$COM  XY    0_    0     2]_   2]    2
$COM  Z     0     2
0
 
 
;'        Function: GRVAL        '
 
 
    " GRVAL
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]  sv:GRvals_GRvals,$QFI GRval $DMD $GO 0
    "
 
$COM  $QFI      2
$COM  GRval     2
$COM  GRvals    2_    2
$COM  sv        2:
0
 
 
;'        Function: GRVSELECT    '
 
 
    " R_I GRVSELECT V;A;B;M
[.001] $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[1]   A_((' '=V)/$I $R V),1+$R V
[2]   M_$MAX/B_(1$DRPA)$--1$DRPA
[3]   R_V[1+(B[I]$SC.>$I M)#A[I]$SC.+-1+$I M]
    "
 
$COM  A    0     1_    2     2     3]
$COM  B    0     2_    3]
$COM  I    0     3     3
$COM  M    0     2_    3     3
$COM  R    0_    3_
$COM  V    0     1     1     1     3]
0
 
 
;'        Function: HELP         '
 
 
    " HFID HELP N;$QIO;NOKEY;AV;CNTR;CR;K;KEY;KV;L;PKEY;POS;PX;RKEY;RPK;STREAM
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $QIO_1 $DMD STREAM_282144 $DMD (1 2$R KEYERR,79)$QSM 'HELP'
[3]   AV_$QAV $DMD AV[96+$I 26]_AV[64+(32#$QTT$NE1)+$I 26]
[4]   AV[36 96,($QTT$NE1)/46 35]_$QAV[198 217,($QTT$NE1)/207 206]
[5]   $GO (0$NE$QNC 'HFID')/f $DMD HFID_'HELP:APLANAR:.X' $COM Get HELP process name
[6]  f:HFID_HFID,',IN,DIRECT'
[7]   K_+\(N='(')$-N=')'
[8]   $GO (((K$OR.>1)$ORK$OR.<0),~$OR/K)/ER,NOFID
[9]   $QFCLOSE(STREAM$E $QFNUMS)/STREAM
[10]  PX_1$DRP(K&N$NE' ')/N
[11]  HFID_'HELP:',(L$TAKPX),':',((L_-1+PX$I '.')$DRPPX),',IN,DIRECT'
[12]  N_(~K$OR0,-1$DRPK)/N
[13] NOFID:$GO (STREAM$E $QFNUMS)/GOTFID $DMD HFID $QFOPEN STREAM
[14] $COM Obtain TOPIC and possibly Sub-TOPIC
[15] GOTFID:N_(1$-(' '=$REVN)$I 0)$DRP(-1+(' '=N)$I 0)$DRPN
[16]  PKEY_(-1+N$I ' ')$TAKN_(K$OR1$REVK_N$NE' ')/N
[17]  $GO (('?'=1$TAKN),'TOPICS '&.=7$TAKN)/QU,TOPICS
[18]  CNTR_3$R ''$R $QAV $DMD PX_512
[19] $COM  Process TOPIC, determine True KEY in file
[20]  NOKEY_SU $DMD RPK_-3+$R RKEY_PKEY,CNTR
[21]  L_$QFREAD(STREAM;PKEY,(0=$R PKEY)/0;0 3) $DMD $GO ((0=$R PKEY),1)/SB,GS
[22] SU:NOKEY_NOT $DMD L_$QFREAD STREAM '' 0 3
[23]  $GO (PKEY$OR.$NERPK$TAKK_-3$DRPKEY_2 9 $QCVT $QFRKEY STREAM,2)/NOT
[24]  RPK_$R PKEY_K $DMD RKEY_KEY
[25]  $GO (0=3 27 $QCVT -3$TAKKEY)/SB
[26] GS: $COM  Topic is a Synonym.
[27]  NOKEY_NOT $DMD RPK_$R PKEY_-3$DRPRKEY_L,CNTR
[28]  L_$QFREAD(STREAM;RKEY;0 3)
[29] SB: $COM  Locate Sub-topic if specified
[30]  $GO (0=$R N_(-1+N$I ' ')$DRPN)/START
[31]  NOKEY_NST $DMD KV_$R K_PKEY,N
[32]  L_$QFI 5$TAK$QFREAD(STREAM;K;0 3) $DMD $GO GST
[33] NST:NOKEY_EST $DMD L_$QFI 5$TAK$QFREAD STREAM '' 0 3
[34]  $GO (K$OR.$NEKV$TAK2 9 $QCVT $QFRKEY STREAM,2)/EST
[35] GST:PX_512#1+1$TAKL $DMD NOKEY_EST
[36]  L_$QFREAD(STREAM;PKEY,1$DRP2 9 $QCVT PX$-512;0 3) $DMD $GO START
[37] EST:AV $QXL ' No such Sub-topic.' $DMD PX_512
[38]  NOKEY_ER $DMD L_$QFREAD(STREAM;RKEY;0 3)
[39] START: $COM Main LOOP Start, L := 1st line, PKEY := Topic
[40]  NOKEY_DONE $DMD RPK_$R PKEY_-3$DRP2 9 $QCVT $QFRKEY STREAM,2
[41] LP:AV $QXL L
[42]  L_$QFREAD STREAM '' 0 3
[43]  KV_3 -27 $QCVT -3$TAKKEY_2 9 $QCVT $QFRKEY STREAM,2
[44]  $GO ((PKEY$OR.$NERPK$TAKKEY)$OR(PX$LEKV)$ORRPK$NE-3+$R KEY)/DONE
[45]  RKEY_$QFRKEY STREAM,2 $DMD $GO LP
[46] DONE:' ' $DMD NOKEY_0
[47]  L_$QFREAD STREAM RKEY 0 3
[48]  $GO 0
[49] QU: $COM Handle ? and ??
[50]  RPK_$R PKEY_-3$DRPKEY_2 9 $QCVT RKEY_$QFRKEY STREAM,2
[51]  PX_1024+512#$MIN(3 -27 $QCVT -3$TAKKEY)%512
[52]  NOKEY_NOMORE $DMD L_$QFREAD STREAM '' 0 3
[53]  KV_3 -27 $QCVT -3$TAKKEY_2 9 $QCVT $QFRKEY STREAM,2
[54]  $GO ((PKEY$OR.$NERPK$TAKKEY)$ORRPK$NE-3+$R KEY)/NOMORE
[55]  RKEY_$QFRKEY STREAM,2 $DMD NOKEY_DONE
[56]  PX_PX+100000000#'?'=K_1$TAK1$DRPN
[57]  $GO (' ?'$OR.=K)/LP $DMD $GO ER
[58] TOPICS:K_0$R KV_' ' $DMD CR_$QAV[14] $DMD PX_10+N_POS_0
[59] TL:NOKEY_ET $DMD L_$QFREAD(STREAM;KV,N/3$R -1$TAK$QAV;0 3)
[60] ET:NOKEY_TD $DMD L_$QFREAD STREAM '' 0 3 $DMD KV_$QFRKEY STREAM,2
[61]  $GO (0$NE3 -27 $QCVT -3$TAKKV_((N_0)=1$TAK0$R KV)$DRP2 9 $QCVT KV)/TL
[62]  K_K,((L_$QPW<POS+RPK+6)/CR),(RPK_PX#$MAX(1+$R KV)%PX)$TAKKV_-3$DRPKV
[63]  POS_RPK+POS#~L $DMD N_1 $DMD $GO TL
[64] TD:K[($QTT$NE1)/(K='$_')/$I $R K]_'_' $DMD K
[65]  $GO 0
[66] KEYERR:$GO NOKEY
[67] NOT:AV $QXL ' No such topic.' $DMD $GO 0
[68] NOMORE:AV $QXL ' No further HELP exists for that topic' $DMD $GO DONE
[69] ER:AV $QXL ' Syntax error' $DMD $GO 0
    "
 
$COM  $QAV         3     4]   18    58]   59
$COM  $QCVT       23    25    34    36    40    43    43    50    51    53
$COM              53    61    61
$COM  $QFCLOSE     9
$COM  $QFI        32    33
$COM  $QFNUMS      9    13
$COM  $QFOPEN     13
$COM  $QFREAD     21    22    28    32    33    36    38    42    47    52
$COM              59    60
$COM  $QFRKEY     23    34    40    43    45    50    53    55    60
$COM  $QIO         0     2_
$COM  $QNC         5
$COM  $QPW        62
$COM  $QSM         2
$COM  $QTT         3     4     4    64
$COM  $QXL        37    41    67    68    69
$COM  AV           0     3_    3]_   3]    4]_  37    41    67    68    69
$COM  CNTR         0    18_   20    27
$COM  CR           0    58_   62
$COM  DONE        40    44    46:   55    68
$COM  ER           8    38    57    69:
$COM  EST         33    34    35    37:
$COM  ET          59    60:
$COM  GOTFID      13    15:
$COM  GS          21    26:
$COM  GST         32    35:
$COM  HFID         0     5_    6_    6    11_   13
$COM  K            0     7_    8     8     8    10    12    12    16    16_
$COM              23_   24    31_   32    34    56_   57    58_   62_   62
$COM              64]_  64    64    64
$COM  KEY          0    23_   24    25    43_   44    44    50_   51    53_
$COM              54    54
$COM  KEYERR       2    66:
$COM  KV           0    31_   34    43_   44    53_   58_   59    60_   61_
$COM              61    61    62    62_   62
$COM  L            0    11    11_   21_   22_   27    28_   32_   33_   35
$COM              36_   38_   41    42_   47_   52_   59_   60_   62_   63
$COM  LP          41:   45    57
$COM  N            0     7     7    10    10    12_   12    15_   15    15
$COM              15    16    16_   16    16    17    17    30_   30    30
$COM              31    56    58_   59    61_   63_
$COM  NOFID        8    13:
$COM  NOKEY        0    20_   22_   27_   31_   33_   35_   38_   40_   46_
$COM              52_   55_   59_   60_   66
$COM  NOMORE      52    54    68:
$COM  NOT         22    23    27    67:
$COM  NST         31    33:
$COM  PKEY         0    16_   20    21    21    21    23    24_   27_   31
$COM              36    40_   44    50_   54
$COM  POS          0    58_   62    63_   63
$COM  PX           0    10_   11    11    11    18_   35_   36    37_   44
$COM              51_   56_   56    58_   62    62
$COM  QU          17    49:
$COM  RKEY         0    20_   24_   27_   28    38    45_   47    50_   55_
$COM  RPK          0    20_   23    24_   27_   40_   44    44    50_   54
$COM              54    62    62_   63
$COM  SB          21    25    29:
$COM  START       30    36    39:
$COM  STREAM       0     2_    9     9    13    13    21    22    23    28
$COM              32    33    34    36    38    40    42    43    45    47
$COM              50    52    53    55    59    60    60
$COM  SU          20    22:
$COM  TD          60    64:
$COM  TL          59:   61    63
$COM  TOPICS      17    58:
$COM  f            5     6:
0
 
 
;'        Function: NB           '
 
 
    " R_NB R
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   R_(1$-(' '=$REVR)$I 0)$DRP(-1+(R=' ')$I 0)$DRPR
    "
 
$COM  R    0_    0     2_    2     2     2
0
 
 
;'        Function: PUTWIN       '
 
 
    " F PUTWIN N;P;Q
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   P_'$Q1$Q2$Q3$Q4$Q5$Q6$Q7$Q8$Q9$Q0'[N]
[3]   $XEC')SET ',P,' UC',(,'ZI2' $QFMT N+10),',WLEN=',($FMT$TAKFLDI F),',FWIN=UC01,ORG=FORM'
[4]   ((($TAK$R F),7)$TAKF)$QBFLD N
[5]   $GO 0
[6]  $COM    PUTWIN   Creates a window for a form and defines it
[7]  $COM
[8]  $COM    Right argument:   Blind I/O stream  (also opens UCnn, where
[9]  $COM                      nn is 10+the stream number).
[10] $COM
[11] $COM    Left argument:   Form to be used
    "
 
$COM  $QBFLD   4
$COM  $QFMT    3
$COM  F        0     3     4     4
$COM  FLDI     3
$COM  N        0     2     3     4
$COM  P        0     2_    3
$COM  Q        0
0
 
 
;'        Function: RLSWIN       '
 
 
    " RLSWIN N;P;Q
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   P_'$Q1$Q2$Q3$Q4$Q5$Q6$Q7$Q8$Q9$Q0'[N]
[3]  lp:$XEC')SET ',($TAKP),' ME' $DMD $GO (0$NE$R P_1$DRPP)/lp
[4]  $COM    RLSWIN   Resets a blind I/O stream to ME
    "
 
$COM  N    0     2
$COM  P    0     2_    3     3_    3
$COM  Q    0
$COM  lp   3:    3
0
 
 
;'        Function: RUN          '
 
 
    " RUN LINE;GRtype;GRtx;GRerror;GRrr;GRopt;GRrdtype;GRlabels;GRloc;GRdata;GRval;GRvals;GRcols;GRcoln;GRfmt;GRvalm;GRdest;GRfid;GRf;A;Fid;GRfill;GRlines;GRfonts;GRform;GRview;GRup;GRcmds
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   (brk io err,[1.5]100 30 0)$QSM 'RUN' $DMD GRform_GRcoln_GRerror_0 $DMD GRrr_Fid_''
[3]   GRRESET $DMD GRcmds_GRCMDS $DMD $GO (0=$R LINE)/lp $DMD $GO lpp
[4]  lp:$GO (0=$R LINE_GRGETCOM)/lp
[5]  lpp:GRPARSE LINE
[6]   $GO ((GRtype=-3 -4),GRtype<0)/0 f lp
[7]   GRAF
[8]   $GO lp
[9]  f:GRFORMDRIVER $DMD $GO lp#GRtype$NE-3
[10] err:$QERM,': ',$XEC')?' $DMD $QERF,'[',($FMT-1$TAK$QERN),']  ',$QERL
[11]  $QSTEPCC 8 $DMD $GO ((GRform=1),1)/rls lp
[12] brk:' ' $DMD 'Break @ ',(2#'GR'&.=2$TAK$QERF)$DRP$QERF $DMD $GO ((GRform=1),1)/rls lp
[13] io:(A Fid)_Fid '' $DMD $GO ((0=$R A)&0 1=$QONL)/abort err
[14]  $GO (~'00006'$EQV$QERX[5+$I 5])/err
[15]  'End of file on ',A $DMD $GO ((GRform=1),1)/rls lp
[16] rls:RLSWIN 9 $DMD $GO lp
[17] abort:'End of command stream' $DMD $GO 0
[18] $COM    NAME:       RUN
[19] $COM    PURPOSE:    Main driver for GRAF.X
[20] $COM    DESCRIPTION:
[21] $COM        This function handles getting commands, handing them
[22] $COM        off to be parsed and if graphic output is to be started
[23] $COM        by this command, initializing graphics, causing the data
[24] $COM        to be read, calling the correct routine to generate output,
[25] $COM        and finally  handling exceptional conditions such as
[26] $COM        uncontrolled errors.
    "
 
$COM  $QERF          10    12    12
$COM  $QERL          10
$COM  $QERM          10
$COM  $QERN          10
$COM  $QERX          14]
$COM  $QONL          13
$COM  $QSM            2
$COM  $QSTEPCC       11
$COM  A               0    13    13    15
$COM  Fid             0     2_   13    13
$COM  GRAF            7
$COM  GRCMDS          3
$COM  GRFORMDRIVER    9
$COM  GRGETCOM        4
$COM  GRPARSE         5
$COM  GRRESET         3
$COM  GRcmds          0     3_
$COM  GRcoln          0     2_
$COM  GRcols          0
$COM  GRdata          0
$COM  GRdest          0
$COM  GRerror         0     2_
$COM  GRf             0
$COM  GRfid           0
$COM  GRfill          0
$COM  GRfmt           0
$COM  GRfonts         0
$COM  GRform          0     2_   11    12    15
$COM  GRlabels        0
$COM  GRlines         0
$COM  GRloc           0
$COM  GRopt           0
$COM  GRrdtype        0
$COM  GRrr            0     2_
$COM  GRtx            0
$COM  GRtype          0     6     6     9
$COM  GRup            0
$COM  GRval           0
$COM  GRvalm          0
$COM  GRvals          0
$COM  GRview          0
$COM  LINE            0     3     4_    5
$COM  RLSWIN         16
$COM  abort          13    17:
$COM  brk             2    12:
$COM  err             2    10:   13    14
$COM  f               6     9:
$COM  io              2    13:
$COM  lp              3     4:    4     6     8     9    11    12    15
$COM                 16
$COM  lpp             3     5:
$COM  rls            11    12    15    16:
0
 
 
;'        Function: TRUP         '
 
 
    " R_TRUP R
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   R_GRup $QXL R
    "
 
$COM  $QXL    2
$COM  GRup    2
$COM  R       0_    0     2_    2
0
 
 
;'        Function: XREF         '
 
 
    " R_XREF F;$QIO;A;B;C;D;E;G;H;I;J;K
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $QIO_1
[3]   $GO (0$E $R R_(''$R -1$TAK$QAV),$QCR F_(' '$NEF)/F)$DRPLF
[4]   '<',F,'> IS ',(B/'LOCKED.'),(~B_3=$QNC F)/'NOT A FUNCTION.'
[5]   R_0 0$R '' $DMD $GO 0
[6]  LF:E_1$DRPR[1;]
[7]   E_(1$-(' '=$REVE)$I 0)$DRPE
[8]   I_$REV(-1+E$I ';')$TAKE
[9]   E[($I $R F)+($R I)$-($R F)+(' '$E I)#I$I ' ']_' '
[10]  B_$NE\R$E ''''
[11]  B_B$NOR$OR\B<R$E '$COM'
[12]  H_' $QABCDEFGHIJKLMNOPQRSTUVWXYZ$DLT$_abcdefghijklmnopqrstuvwxyz$UDL-0123456789'
[13]  R_E,(1$DRP$R R)$DRP((,B)/,R),' '
[14]  I_R$E 1$DRPH
[15]  R_(I$OR(-1$REVI)$OR(R$E '[',-1$TAK$QAV)$ORC$OR-1$REVC_R$E ']')/R
[16]  I_R$E 1$DRPH
[17]  G_(0,-1$DRPR[G]$E 1$DRP-11$DRPH)/G_(I$NE-1$REVI)/$I $R R
[18]  D_+\(R$E '[')$-R$E ']'
[19]  K_R[($R R)$MIN1++/$OR\$REV<\(B$SC.<$I $R R)&(D[B_(R[G]='[')/G]$-1)$SC.=D]
[20]  A_((R$E -1$TAK$QAV)/$I $R R)+.<(1,($R G),1)$R G
[21]  A_2$REV':]_ '[':[_'$I R[G],[1.5](G$E B)\K],4 0$FMTA
[22]  R_-1$DRP(I$OR0,-1$DRPI)/R
[23]  K_(~B_R$E 1$DRPH)/$I $R R
[24]  I_-1+$MAX/K_(K,1+$R R)$-0,K
[25]  $GO (0$E $R R_(($R K),I)$R (,K$SC.>$I I)\B/R)/0
[26]  B_$I 1$TAK$R R_(R[;1]$E -11$DRPH)/[1]R
[27]  J_$R I_$I I
[28] LS:B_B[$GU68$DCD-1+$TPSH$I R[B;($-J$MIN8)$TAKI]]
[29]  $GO (0$NEJ_$R I_-8$DRPI)/LS
[30]  R_R[B;] $DMD A_A[B;]
[31]  K_$MAX/0,E_(1$DRPB,1+$R C)$-B_C/$I $R C_$OR/R$NE' ',[1]-1 0$DRPR
[32] $COM MAKE RESULT PRINT PRETTY
[33]  H_(31$R 0),481$R 1
[34]  H[$QAV$I '$_$Q$DLT$UDL']_2 2 4 4
[35] LT:G_K$MIN$MIN($QPW$-1+D_$MAX/0,+/H[$QAV$I R])%6
[36]  B_$MAXE%G
[37]  R_(($I +/B)$E +\-1$DRP1,B)$XP1C$RD1R
[38]  I_B/G$MINE
[39]  I[(+\B)]_(G#0=K)+K_G|E
[40]  K_$MAX/0,I
[41]  A_,(($I K#$R I)$E (,(K$-I)$SC.<$I K)/,(K#-1+$I $R I)$SC.+$REV$I K)$XP1A
[42]  A_A[(6#K#-1+$I $R I)$SC.+$I K#6]
[43]  I_D$-+/-1+I_H[$QAV$I R]
[44]  D_($R R)[1] $DMD H_($R A)[2]
[45]  G_I+(-1+$I K[1])#-1$TAKK_$R R_(D,H+$MAX/I)$TAKR
[46]  R_,R
[47]  R[,G$SC.+$I H]_,A
[48]  R_K$R R
    "
 
$COM  $QAV   3    15    20    34    35    43
$COM  $QCR   3
$COM  $QIO   0     2_
$COM  $QNC   4
$COM  $QPW  35
$COM  A      0    20_   21_   21    30_   30]   41_   41    42_   42]   44
$COM        47
$COM  B      0     4     4_   10_   11_   11    11    13    19    19_   21
$COM        23_   25    26_   28_   28]   28    30    30    31    31_   36_
$COM        37    37    38    39
$COM  C      0    15    15_   31    31    31_   37
$COM  D      0    18_   19]   19    35_   43    44_   45
$COM  E      0     6_    7_    7     7     8     8     9]_  13    31_   36
$COM        38    39
$COM  F      0     3_    3     3     4     4     9     9
$COM  G      0    17_   17    17_   19    19    20    20    21    21    35_
$COM        36    38    39    39    45_   47
$COM  H      0    12_   14    16    17    23    26    28    33_   34]_  35]
$COM        43]   44_   45    47
$COM  I      0     8_    9     9     9    14_   15    15    16_   17    17
$COM        22    22    24_   25    25    27_   27    28    29_   29    38_
$COM        39]_  40    41    41    41    42    43_   43_   45    45
$COM  J      0    27_   28    29_
$COM  K      0    19_   21    23_   24_   24    24    25    25    31_   35
$COM        39    39_   40_   41    41    41    41    41    42    42    45]
$COM        45_   48
$COM  LF     3     6:
$COM  LS    28:   29
$COM  LT    35:
$COM  R      0_    3_    5_    6]   10    11    13_   13    13    14    15_
$COM        15    15    15    16    17]   17    18    18    19]   19    19
$COM        19]   20    20    21]   22_   22    23    23    24    25_   25
$COM        26_   26]   26    28]   30_   30]   31    31    35    37_   37
$COM        43    44    45_   45    46_   46    47]_  48_   48
0
 
 
;'        Function: $DLTfid         '
 
 
    " R_$DLTfid B;A;C
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   $GO (R_($ENCGRval_B)$E 'ME' 'UC' 'CR')/0
[3]   (1 2$R err 0)$QSM '$DLTfid'
[4]   $XEC')SET $Q0 ',B,',FUN=IN'
[5]   R_$TAK1,0/$Q0
[6]  err:$XEC')SET $Q0 ME'
    "
 
$COM  $QSM     3
$COM  $QTSQZ   4
$COM  A        0
$COM  B        0     2     4
$COM  C        0
$COM  GRval    2_
$COM  R        0_    2_    5_
$COM  err      3     6:
0
 
 
;'        Function: $DLTname        '
 
 
    " R_$DLTname B;A
[1]  $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
[2]   GRval_B $DMD R_1
[3]   $GO (''''$NE$TAKB)/0
[4]   GRval_1$DRP-1$DRP$QSSR GRval '''''' ''''
    "
 
$COM  $QSSR    4
$COM  A        0
$COM  B        0     2     3
$COM  GRval    2_    4_    4
$COM  R        0_    2_
0
 
 
$QLX_' ''GRAF A00'' $DMD RUN '''' $DMD $XEC'')END'''
 
 
 
"FUNCLIST;X;$QIO;I;J;n;s;V;$QPW;$QPP
[1] $COM*T* Copyright (c) Bull HN Information Systems Inc., 1989
 $QIO_1$DMD$QPW_300$DMDJ_1$TAK$R X_$QNL 3$DMDI_0$DMDs_3 1$R ' '
 (1 2$R E,35)$QSM 'FUNCLIST' $COM  SIDETRACK ON DEFN ERROR
 V_$XEC')TERM OUTPUT 4'$DMD')TERM INPUT 4'$DMD$QPP_16
 L:$GO (J<I_I+1)/xx$DMDs$DMD';''        Function: ',X[I;],''''$DMD' '$DMD' '
 V_$XEC'"',X[I;],'[$Q]"'
 (~($I ($R V)+$R n)$E ($I $R n)+n_((~$NE\''''=V)&V$E '$E$O$I$R$GO')/$I $R V)\V
 (0$NE$R ($QSSS(V;'$QERS')),$QSSS(V;'CHECK '))/'(1 2$R -1 900)$QSM ','''',X[I;],''''
 $QPW_73$DMDV_' ',[$QIO]'$COM',' ',' ',XREF X[I;]$DMD$QPW_300$DMDV
 $QVFC '0'$DMD$GO L
 E:'''',X[I;],' *** NOT LISTED ***'''$DMD$QVFC '0'$DMD$GO L
 xx:s$DMD'$QLX_'' ''''GRAF A00'''' $DMD RUN '''''''' $DMD $XEC'''')END'''''''
 V_((1$TAK$R V)$TAK'"'),V_($QCR 'FUNCLIST')$DMDs
 V_(,(((' '$NEV)$MAX.#$I -1$TAK$R V)$SC.$GE$I -1$TAK$R V),1)/,V,$QAV[14]
 (~($I ($R V)+$R n)$E ($I $R n)+n_((~$NE\''''=V)&V$E '$E$O$I$R$GO')/$I $R V)\V
 '"'$DMDs$DMD'$QPW_80'
 '$XEC '')TERM INPUT '',$FMT $QTT'$DMDV_$XEC')TERM OUTPUT ',$FMT$QTT
 ')SET INPUT ME'
"
 
 
$COM***********************************************************
$COM*                                                         *
$COM*          The I/O Fields in the FORM: GRAF$_FORM         *
$COM*                                                         *
$COM***********************************************************
 
Z_1 11$R1  3 10 69 0 0  ''    'COMMAND'        0 ''  'GRFORMCMD'
Z_Z,[1] 2  5 12 32 0 0  ''    'TITLE'          0 ''  '0 GRFORMLABEL'
Z_Z,[1] 3  5 49 10 0 0  '13'  'TITLEFONT'      0 ''  '0 GRFORMFONT'
Z_Z,[1] 4  6 12 32 0 0  ''    'XNAME'          0 ''  '3 GRFORMLABEL'
Z_Z,[1] 5  6 49 10 0 0  '13'  'XNAMEFONT'      0 ''  '3 GRFORMFONT'
Z_Z,[1] 6  7 12 32 0 0  ''    'YNAME'          0 ''  '4 GRFORMLABEL'
Z_Z,[1] 7  7 49 10 0 0  '13'  'YNAMEFONT'      0 ''  '4 GRFORMFONT'
Z_Z,[1] 8  8 12 32 0 0  ''    'NOTE'           0 ''  '2 GRFORMLABEL'
Z_Z,[1] 9  8 49 10 0 0  '13'  'NOTEFONT'       0 ''  '2 GRFORMFONT'
Z_Z,[1]10 10 14 13 0 0  ''    'SUBTITLE1'      0 ''  '-1 GRFORMLABEL'
Z_Z,[1]11 10 31 13 0 0  ''    'SUBTITLE2'      0 ''  '-2 GRFORMLABEL'
Z_Z,[1]12 10 48 13 0 0  ''    'SUBTITLE3'      0 ''  '-3 GRFORMLABEL'
Z_Z,[1]13 10 65 13 0 0  ''    'SUBTITLE4'      0 ''  '-4 GRFORMLABEL'
Z_Z,[1]14 12  9  1 0 0  (,'N')'BORDER'         0 ''  '2 GRFORMYN'
Z_Z,[1]15 12 20  1 0 0  (,'N')'FRAME'          0 ''  '1 GRFORMYN'
Z_Z,[1]16 12 30  1 0 0  (,'N')'GRID'           0 ''  '3 GRFORMYN'
Z_Z,[1]17 12 47  1 0 0  (,'N')'PERCENTAGES'    0 ''  '10 GRFORMYN'
Z_Z,[1]18 12 58  1 0 0  (,'N')'STACK'          0 ''  '12 GRFORMYN'
Z_Z,[1]19 12 68  1 0 0  (,'N')'FILL'           0 ''  '11 GRFORMYN'
Z_Z,[1]20 12 78  1 0 0  (,'Y')'HIDE'           0 ''  '13 GRFORMYN'
Z_Z,[1]21 14 16 63 0 0  ''    'FILLPATTERN'    0 ''  'GRFORMFILL'
Z_Z,[1]22 15 16 63 0 0  ''    'LINESTYLE'      0 ''  'GRFORMSTYLE'
Z_Z,[1]23 16 16 63 0 0  ''    'COLOR'          0 ''  'GRFORMCOLOR'
Z_Z,[1]24 18  1 78 0 8  ''    'ERROR$_MESSAGE' 0 ''  ''
 
$COM***********************************************************
$COM*                                                         *
$COM*        The Fixed portion of the FORM: GRAF$_FORM        *
$COM*                                                         *
$COM***********************************************************
 
Z_Z,[1]25  1 27  8 0 2  'GRAF A00'        ''      0 ''  ''
Z_Z,[1]26  3  1  9 0 2  'Command:'        ''      0 ''  ''
Z_Z,[1]27  5  1  6 0 2  'Title:'          ''      0 ''  ''
Z_Z,[1]28  5 48  1 0 2  '('               ''      0 ''  ''
Z_Z,[1]29  5 59  1 0 2  ')'               ''      0 ''  ''
Z_Z,[1]30  6  1  8 0 2  'X$-Label:'       ''      0 ''  ''
Z_Z,[1]31  6 48  1 0 2  '('               ''      0 ''  ''
Z_Z,[1]32  6 59  1 0 2  ')'               ''      0 ''  ''
Z_Z,[1]33  7  1  8 0 2  'Y$-Label:'       ''      0 ''  ''
Z_Z,[1]34  7 48  1 0 2  '('               ''      0 ''  ''
Z_Z,[1]35  7 59  1 0 2  ')'               ''      0 ''  ''
Z_Z,[1]36  8  1  5 0 2  'Note:'           ''      0 ''  ''
Z_Z,[1]37  8 48  1 0 2  '('               ''      0 ''  ''
Z_Z,[1]38  8 59  1 0 2  ')'               ''      0 ''  ''
Z_Z,[1]39 10  1 13 0 2  'Subtitle: 1 '    ''      0 ''  ''
Z_Z,[1]40 10 27  4 0 2  ', 2'             ''      0 ''  ''
Z_Z,[1]41 10 44  4 0 2  ', 3'             ''      0 ''  ''
Z_Z,[1]42 10 61  4 0 2  ', 4'             ''      0 ''  ''
Z_Z,[1]43 10 78  1 0 2  '.'               ''      0 ''  ''
Z_Z,[1]44 12  1  8 0 2  'Border:'         ''      0 ''  ''
Z_Z,[1]45 12 13  7 0 2  'Frame:'          ''      0 ''  ''
Z_Z,[1]46 12 24  6 0 2  'Grid:'           ''      0 ''  ''
Z_Z,[1]47 12 34 13 0 2  'Percentages:'    ''      0 ''  ''
Z_Z,[1]48 12 51  7 0 2  'Stack:'          ''      0 ''  ''
Z_Z,[1]49 12 62  6 0 2  'Fill:'           ''      0 ''  ''
Z_Z,[1]50 12 72  5 0 2  'Hide:'           ''      0 ''  ''
Z_Z,[1]51 14  1 15 0 2  'Fill Patterns:'  ''      0 ''  ''
Z_Z,[1]52 15  1 12 0 2  'Line Styles:'    ''      0 ''  ''
Z_Z,[1]53 16  1  7 0 2  'Colors:'         ''      0 ''  ''
Z_Z,[1]54 19  1 78 0 2  (78$R'$-')        ''      0 ''  ''
 
GRAF$_FORM_Z $DMD _$QEX 'Z'
 
 
$QPW_80
$XEC ')TERM INPUT ',$FMT $QTT
)SET INPUT ME

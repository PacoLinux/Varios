VERSION E05

PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:1    
        1        1        /*M* KNB$BABOON - Centralized point of I/O to node admin */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CTI=5,SDI=5,MCL=10,CSI=0,ECI=0,ENU=0,ECU=0 */
        8        8
        9        9        /*F* NAME: KNB$INIT
       10       10
       11       11        KNB$INIT is called from KNH$OPEN when that routine sees
       12       12        that user# 1, which is assumed to be NODEADMN, has just
       13       13        opened his circular queue.  This routine will open a
       14       14        session connection between BABOON and NODEADMN.
       15       15        */
       16       16
       17       17        KNB$INIT: PROC;
       18       18
       19       19        /* Include files */
       20       20        %INCLUDE LCP_6;
       21     4299        %INCLUDE K_SCODE_C;
       22     4384        %INCLUDE KN_DATA_M;
       23     6170        %INCLUDE KNH_MACRO_C;
       24     6453        %INCLUDE KL_MACRO_C;
       25     9805
       26     9806        /* Auto */
       27     9807        %FPT_CONNECT;
       28     9876        %KN$NETPARM;
       29    10029    1   DCL LDCT$ PTR;
       30    10030
       31    10031        /* Based structures */
       32    10032        %KN$LDCT (STCLASS="BASED(LDCT$)");
       33    10277
       34    10278        /* Data References */
       35    10279        %KN$NETPARM (NAME=KN_NETPARM_INIT,STCLASS=SYMREF);
       36    10432    1   DCL KN_NODE# UBIN SYMREF;
       37    10433
PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:2    
       38    10434        /* Entry references */
       39    10435    1   DCL KNA$GETLDCT ENTRY(1) ALTRET;
       40    10436    1   DCL KNS$SEND ENTRY(1) ALTRET;
       41    10437    1   DCL KNB$ACTION ENTRY(1) ALTRET;
       42    10438    1   DCL SCREECH ENTRY (1);
       43    10439
       44    10440        %VLP_SCODE (FPTN=SCR_UNEXP,FCG=KN,MID=B,ERR#=%S$UNEXPRESP,
       45    10441                       MON='1'B,SEV=G_SEV_SCREECH#,STCLASS=CONSTANT);
       46    10502        /*S* SCREECH_CODE: KNB-S$UNEXPRESP
       47    10503             TYPE: Screech
       48    10504             MESSAGE: Baboon received something unexpected.
       49    10505         */
       50    10506        %EJECT;
PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:3    
       51    10507        /* Get an LDCT for the monitor */
       52    10508    2        CALL KNA$GETLDCT (LDCT$) WHENALTRETURN DO;
       53    10509    2             CALL SCREECH (SCR_UNEXP);
       54    10510    2             END;
       55    10511
       56    10512        /* Initialize FPT_CONNECT */
       57    10513    1        FPT_CONNECT = '0'B;
       58    10514    1        FPT_CONNECT.RLCID.NODE = KN_NODE#;
       59    10515    1        FPT_CONNECT.TERMINAL_ID.TERMID = 'BABOON';
       60    10516    1        FPT_CONNECT.RESOURCE = 'NODADM';
       61    10517
       62    10518    1        KN$LDCT.CONN_TYPE = %KN_CNTYPE_SESS;
       63    10519    1        KN$LDCT.USER_ENTRY$ = ENTADDR(KNB$ACTION);
       64    10520
       65    10521        /* Call session */
       66    10522    1        KN$NETPARM = KN_NETPARM_INIT;
       67    10523    1        KN$NETPARM.FUNCTION = %KN_FCN_INIT;
       68    10524    1        KN$NETPARM.FPT$ = ADDR(FPT_CONNECT);
       69    10525    1        KN$NETPARM.LDCT$ = LDCT$;
       70    10526    1        KN$NETPARM.SLDCT$ = LDCT$;
       71    10527    2        CALL KNS$SEND (KN$NETPARM) WHENALTRETURN DO;
       72    10528    2             CALL SCREECH (SCR_UNEXP);
       73    10529    2             END;
       74    10530    1        RETURN;
       75    10531
       76    10532    1   END KNB$INIT;
       77    10533        %EOD;

PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:4    
--  Include file information  --

   KL_MACRO_C.:E05TOU  is referenced.
   KNH_MACRO_C.:E05TOU  is referenced.
   KN_DATA_M.:E05TOU  is referenced.
   K_SCODE_C.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  is referenced.
   GT_LCP6_M.:E05TOU  is referenced.
   KI_CP6.:E05TOU  is referenced.
   GF_LCP6_M.:E05TOU  is referenced.
   GM_LCP6_M.:E05TOU  is referenced.
   GU_LCP6_M.:E05TOU  is referenced.
   GJ_LCP6_M.:E05TOU  is referenced.
   GH_LCP6_M.:E05TOU  is referenced.
   LCP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure KNB$INIT.

   Procedure KNB$INIT requires 115 words for executable code.
   Procedure KNB$INIT requires 60 words of local(AUTO) storage.

PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:5    

 Object Unit name= KNB$INIT                                   File name= KNB$BABOON.:E05TOU
 UTS= JUL 30 '97 01:00:04.64 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_LCP6_SYSTEM                               Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size HexSiz  Section name
    0  RoData even  UTS      9      9  KNB$INIT
    1   Proc  even  none   115     73  KNB$INIT
    2  RoData even  none     2      2  KNB$INIT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect HexLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes      Std        0  KNB$INIT

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       1 KNA$GETLDCT
         yes           Std       1 SCREECH
 yes     yes           Std       1 KNB$ACTION
 yes     yes           Std       1 KNS$SEND
                       nStd      0 X6A_AUTO_0
                       nStd      0 X6A_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     KN_NETPARM_INIT                       KN_NODE#                         r    G$ROS$
PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:6    


        1        1        /*M* KNB$BABOON - Centralized point of I/O to node admin */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CTI=5,SDI=5,MCL=10,CSI=0,ECI=0,ENU=0,ECU=0 */
        8        8
        9        9        /*F* NAME: KNB$INIT
       10       10
       11       11        KNB$INIT is called from KNH$OPEN when that routine sees
       12       12        that user# 1, which is assumed to be NODEADMN, has just
       13       13        opened his circular queue.  This routine will open a
       14       14        session connection between BABOON and NODEADMN.
       15       15        */
       16       16
       17       17        KNB$INIT: PROC;

     17   1 000000  D380 0000 0000  xent KNB$INIT        LNJ,B5   X6A_AUTO_0
          1 000003       003C 0000                       DC       60,0

       18       18
       19       19        /* Include files */
       20       20        %INCLUDE LCP_6;
       21     4299        %INCLUDE K_SCODE_C;
       22     4384        %INCLUDE KN_DATA_M;
       23     6170        %INCLUDE KNH_MACRO_C;
       24     6453        %INCLUDE KL_MACRO_C;
       25     9805
       26     9806        /* Auto */
       27     9807        %FPT_CONNECT;
       28     9876        %KN$NETPARM;
       29    10029    1   DCL LDCT$ PTR;
       30    10030
       31    10031        /* Based structures */
       32    10032        %KN$LDCT (STCLASS="BASED(LDCT$)");
PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:7    
       33    10277
       34    10278        /* Data References */
       35    10279        %KN$NETPARM (NAME=KN_NETPARM_INIT,STCLASS=SYMREF);
       36    10432    1   DCL KN_NODE# UBIN SYMREF;
       37    10433
       38    10434        /* Entry references */
       39    10435    1   DCL KNA$GETLDCT ENTRY(1) ALTRET;
       40    10436    1   DCL KNS$SEND ENTRY(1) ALTRET;
       41    10437    1   DCL KNB$ACTION ENTRY(1) ALTRET;
       42    10438    1   DCL SCREECH ENTRY (1);
       43    10439
       44    10440        %VLP_SCODE (FPTN=SCR_UNEXP,FCG=KN,MID=B,ERR#=%S$UNEXPRESP,
       45    10441                       MON='1'B,SEV=G_SEV_SCREECH#,STCLASS=CONSTANT);
       46    10502        /*S* SCREECH_CODE: KNB-S$UNEXPRESP
       47    10503             TYPE: Screech
       48    10504             MESSAGE: Baboon received something unexpected.
       49    10505         */
       50    10506        %EJECT;
PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:8    
       51    10507        /* Get an LDCT for the monitor */
       52    10508    2        CALL KNA$GETLDCT (LDCT$) WHENALTRETURN DO;

  10508   1 000005  EBC7 0038                            LAB,B6   LDCT$,AUTO
          1 000007  EFC7 003A                            STB,B6   LDCT$+2,AUTO
          1 000009  BBC7 003A                            LAB,B3   LDCT$+2,AUTO
          1 00000B  CBF0 0100                            LAB,B4   256,IMO
          1 00000D  E380 0000 0000  xent                 LNJ,B6   KNA$GETLDCT
          1 000010       0003                            DC       s:10509,PREL
          1 000011  0F81 000A                            B        s:10513,PREL

       53    10509    2             CALL SCREECH (SCR_UNEXP);

  10509   1 000013  BB80 0000 0000  02                   LAB,B3   0
          1 000016  CBF0 0100                            LAB,B4   256,IMO
          1 000018  E380 0000 0000  xent                 LNJ,B6   SCREECH
          1 00001B       0001                            DC       s:10513,PREL

       54    10510    2             END;

       55    10511
       56    10512        /* Initialize FPT_CONNECT */
       57    10513    1        FPT_CONNECT = '0'B;

  10513   1 00001C  5C26                                 LDV,R5   38
          1 00001D  0021                                 ALR      ;
          1 00001E       4178 0000                                ALPHANUM('0000'X,IMO,,1),;
          1 000020       4007 0004                                ALPHANUM(FPT_CONNECT,AUTO,,R5,FILL)

       58    10514    1        FPT_CONNECT.RLCID.NODE = KN_NODE#;

  10514   1 000022  E800 0000 0000  xsym                 LDR,R6   KN_NODE#
          1 000025  437F                                 CSYNC    s:10514+2,SPREL
          1 000026  E7C7 0011                            STH,R6   FPT_CONNECT+13,AUTO

       59    10515    1        FPT_CONNECT.TERMINAL_ID.TERMID = 'BABOON';

PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:9    
  10515   1 000028  EB80 0000 0000  00                   LAB,B6   SCR_UNEXP
          1 00002B  0021                                 ALR      ;
          1 00002C       4606 0003                                ALPHANUM(3,B6,,6),;
          1 00002E       4E07 000A                                ALPHANUM(FPT_CONNECT+6,AUTO,,14,FILL)

       60    10516    1        FPT_CONNECT.RESOURCE = 'NODADM';

  10516   1 000030  EB80 0000 0000  00                   LAB,B6   SCR_UNEXP
          1 000033  0021                                 ALR      ;
          1 000034       4606 0006                                ALPHANUM(6,B6,,6),;
          1 000036       4807 0005                                ALPHANUM(FPT_CONNECT+1,AUTO,,8,FILL)

       61    10517
       62    10518    1        KN$LDCT.CONN_TYPE = %KN_CNTYPE_SESS;

  10518   1 000038  4C02                                 LDV,R4   2
          1 000039  ECC7 0038                            LDB,B6   LDCT$,AUTO
          1 00003B  437F                                 CSYNC    s:10518+2,SPREL
          1 00003C  C786                                 STH,R4   ,B6

       63    10519    1        KN$LDCT.USER_ENTRY$ = ENTADDR(KNB$ACTION);

  10519   1 00003D  EB80 0000 0000  xent                 LAB,B6   KNB$ACTION
          1 000040  DCC7 0038                            LDB,B5   LDCT$,AUTO
          1 000042  EFC5 000C                            STB,B6   12,B5

       64    10520
       65    10521        /* Call session */
       66    10522    1        KN$NETPARM = KN_NETPARM_INIT;

  10522   1 000044  AB80 0000 0000  xsym                 LAB,B2   KN_NETPARM_INIT
          1 000047  2C00                                 LDV,R2   0
          1 000048  6C42                                 LDV,R6   66
          1 000049  BB87                                 LAB,B3   ,AUTO
          1 00004A  3C2E                                 LDV,R3   46
          1 00004B  0008                                 MMM

PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:10   
       67    10523    1        KN$NETPARM.FUNCTION = %KN_FCN_INIT;

  10523   1 00004C  6C01                                 LDV,R6   1
          1 00004D  EF47 002B                            STR,R6   KN$NETPARM+20,AUTO

       68    10524    1        KN$NETPARM.FPT$ = ADDR(FPT_CONNECT);

  10524   1 00004F  EBC7 0004                            LAB,B6   FPT_CONNECT,AUTO
          1 000051  EFC7 0030                            STB,B6   KN$NETPARM+25,AUTO

       69    10525    1        KN$NETPARM.LDCT$ = LDCT$;

  10525   1 000053  DCC7 0038                            LDB,B5   LDCT$,AUTO
          1 000055  DFC7 0017                            STB,B5   KN$NETPARM,AUTO

       70    10526    1        KN$NETPARM.SLDCT$ = LDCT$;

  10526   1 000057  DFC7 002E                            STB,B5   KN$NETPARM+23,AUTO

       71    10527    2        CALL KNS$SEND (KN$NETPARM) WHENALTRETURN DO;

  10527   1 000059  CBC7 0017                            LAB,B4   KN$NETPARM,AUTO
          1 00005B  CFC7 003A                            STB,B4   LDCT$+2,AUTO
          1 00005D  BBC7 003A                            LAB,B3   LDCT$+2,AUTO
          1 00005F  CBF0 0100                            LAB,B4   256,IMO
          1 000061  E380 0000 0000  xent                 LNJ,B6   KNS$SEND
          1 000064       0003                            DC       s:10528,PREL
          1 000065  0F81 000A                            B        s:10530,PREL

       72    10528    2             CALL SCREECH (SCR_UNEXP);

  10528   1 000067  BB80 0000 0000  02                   LAB,B3   0
          1 00006A  CBF0 0100                            LAB,B4   256,IMO
          1 00006C  E380 0000 0000  xent                 LNJ,B6   SCREECH
          1 00006F       0001                            DC       s:10530,PREL

       73    10529    2             END;
PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:11   

       74    10530    1        RETURN;

  10530   1 000070  C380 0000 0000  xent                 LNJ,B4   X6A_ARET
       75    10531
       76    10532    1   END KNB$INIT;
       77    10533        %EOD;

PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:12   
--  Include file information  --

   KL_MACRO_C.:E05TOU  is referenced.
   KNH_MACRO_C.:E05TOU  is referenced.
   KN_DATA_M.:E05TOU  is referenced.
   K_SCODE_C.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  is referenced.
   GT_LCP6_M.:E05TOU  is referenced.
   KI_CP6.:E05TOU  is referenced.
   GF_LCP6_M.:E05TOU  is referenced.
   GM_LCP6_M.:E05TOU  is referenced.
   GU_LCP6_M.:E05TOU  is referenced.
   GJ_LCP6_M.:E05TOU  is referenced.
   GH_LCP6_M.:E05TOU  is referenced.
   LCP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure KNB$INIT.
PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:13   

 **** Variables and constants ****

  ****  Section 000 RoData KNB$INIT

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(48)    r     1 SCR_UNEXP

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w STRC(304)   r     1 FPT_CONNECT               17-0-0/w STRC(528)   r     1 KN$NETPARM
    38-0-0/w PTR         r     1 LDCT$

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(528)   r     1 KN_NETPARM_INIT            0-0-0/w UBIN(16)    r     1 KN_NODE#

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(256)   r     1 KN$LDCT


   Procedure KNB$INIT requires 115 words for executable code.
   Procedure KNB$INIT requires 60 words of local(AUTO) storage.
PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:14   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:15   
          MINI XREF LISTING

FPT_CONNECT
      9821**DCL     10513<<ASSIGN  10524--ASSIGN
FPT_CONNECT.RESOURCE
      9827**DCL     10516<<ASSIGN
FPT_CONNECT.RLCID.GENERATION
      9857**DCL      9858--REDEF
FPT_CONNECT.RLCID.LDCTX
      9858**DCL      9858--REDEF
FPT_CONNECT.RLCID.NODE
      9857**DCL     10514<<ASSIGN
FPT_CONNECT.TERMINAL_ID.TERM
      9846**DCL      9855--REDEF
FPT_CONNECT.TERMINAL_ID.TERMID
      9855**DCL     10515<<ASSIGN
KN$LDCT.CONN_TYPE
     10048**DCL     10518<<ASSIGN
KN$LDCT.RLCID.LDCTX
     10108**DCL     10115--REDEF   10123--REDEF
KN$LDCT.TRANSPORT_ID
     10142**DCL     10150--REDEF
KN$LDCT.UID
     10172**DCL     10173--REDEF   10182--REDEF
KN$LDCT.USER_ENTRY$
     10253**DCL     10519<<ASSIGN
KN$NETPARM
      9889**DCL     10522<<ASSIGN  10527<>CALL
KN$NETPARM.FPT$
     10008**DCL     10524<<ASSIGN
KN$NETPARM.FUNCTION
      9984**DCL     10523<<ASSIGN
KN$NETPARM.LDCT$
      9890**DCL     10525<<ASSIGN
PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:16   
KN$NETPARM.MSG$
      9896**DCL      9901--REDEF
KN$NETPARM.NHDR$
      9948**DCL      9949--REDEF
KN$NETPARM.SHDR$
      9926**DCL      9927--REDEF
KN$NETPARM.SLDCT$
     10003**DCL     10526<<ASSIGN
KN$NETPARM.THDR$
      9937**DCL      9938--REDEF
KN$NETPARM.UHDR$
      9912**DCL      9913--REDEF
KNA$GETLDCT
     10435**DCL-ENT 10508--CALL
KNB$ACTION
     10437**DCL-ENT 10519--ASSIGN
KNS$SEND
     10436**DCL-ENT 10527--CALL
KN_NETPARM_INIT
     10292**DCL     10522>>ASSIGN
KN_NETPARM_INIT.MSG$
     10299**DCL     10304--REDEF
KN_NETPARM_INIT.NHDR$
     10351**DCL     10352--REDEF
KN_NETPARM_INIT.SHDR$
     10329**DCL     10330--REDEF
KN_NETPARM_INIT.THDR$
     10340**DCL     10341--REDEF
KN_NETPARM_INIT.UHDR$
     10315**DCL     10316--REDEF
KN_NODE#
     10432**DCL     10514>>ASSIGN
LDCT$
     10029**DCL     10047--IMP-PTR 10508<>CALL    10518>>ASSIGN  10519>>ASSIGN  10525>>ASSIGN  10526>>ASSIGN
SCREECH
     10438**DCL-ENT 10509--CALL    10528--CALL
PL6.E3A0      #001=KNB$INIT File=KNB$BABOON.:E05TSI                              WED 07/30/97 01:00 Page:17   
SCR_UNEXP
     10468**DCL     10509<>CALL    10528<>CALL

PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:18   
       78        1        /*T***********************************************************/
       79        2        /*T*                                                         */
       80        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
       81        4        /*T*                                                         */
       82        5        /*T***********************************************************/
       83        6        KNB$ACTION: PROC (KN$NETPARM) ALTRET;
       84        7
       85        8        /* Include files */
       86        9        %INCLUDE KN_DATA_M;
       87     1795        %INCLUDE KNH_MACRO_C;
       88     2078        %INCLUDE KL_MACRO_C;
       89     5430        %INCLUDE KL_AFCN_C;
       90     5531        %INCLUDE KL_CONTROL_C;
       91     5911        %INCLUDE GI_BOOT_C;
       92     6022        %INCLUDE G_CNTRL_M;
       93     6095        %INCLUDE GH_SCHD_E;
       94     6191        %INCLUDE GH_GATE_M;
       95     6232        %INCLUDE P_FEP_M;
       96     6670        %INCLUDE G_JIT_M;
       97     6935        %G$JIT_E;
       98     6997        %INCLUDE K_ID_E;
       99     7047        %K#ENTID_E;
      100     7066        %K#LYRID_E;
      101     7073        %INCLUDE K_SCODE_C;
      102     7158        %INCLUDE LCP_6;
      103    11437        %INCLUDE K_ADDRESS_M;
      104    11940        %INCLUDE G$BOBCAT_M;
      105    11960
      106    11961        /* Parameters */
      107    11962        %KN$NETPARM (STCLASS="");
      108    12115
      109    12116        /* Constant */
      110    12117        %VLP_SCODE (FPTN=SCR_UNEXP,FCG=KN,MID=B,ERR#=%S$UNEXPRESP,
      111    12118                       MON='1'B,SEV=G_SEV_SCREECH#,STCLASS=CONSTANT);
      112    12179        %VLP_SCODE (FPTN=SCR_NODECHG,FCG=KN,MID=B,ERR#=%S$NODECHG,
      113    12180                       MON='1'B,SEV=G_SEV_SCREECH#,STCLASS=CONSTANT);
      114    12241        /*S* SCREECH_CODE: KNB-S$NODECHG
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:19   
      115    12242             TYPE: screech
      116    12243             MESSAGE: Baboon could not deliver an upd route message to nodeadmn
      117    12244        */
      118    12245
      119    12246        /* Based structures */
      120    12247        %KN$LDCT (STCLASS="BASED(KN$NETPARM.LDCT$)");
      121    12492        %KL_MES (FPTN=KL$MES,STCLASS="BASED(KN$NETPARM.UHDR$)");
      122    12515        %KL_CONTROL (FPTN=KL$CONTROL,STCLASS="BASED(KN$NETPARM.UHDR$)");
      123    12652        %KL_CONTROL_INIT (FPTN=KL$CONTROL_INIT,STCLASS="BASED(KN$NETPARM.UHDR$)");
      124    12778        %KL_REQSTATS(NAME=KL$REQSTATS,STCLASS="BASED(KN$NETPARM.UHDR$)");
      125    13072        %KL_ACQUIRE(FPTN=KL$ACQUIRE,STCLASS=BASED);
      126    13154        %KL_RELEASE(FPTN=KL$RELEASE,STCLASS=BASED);
      127    13209        %KL_ERRMSG_RSP (FPTN=KL$ERRMSG_RSP,STCLASS=BASED);
      128    13285        %KL_SGNRSP (FPTN=KL$SGNRSP,STCLASS="BASED(KN_BUFFER$)");
      129    13421        %KL_TIME (FPTN=KL$TIME,STCLASS="BASED(KN$NETPARM.UHDR$)");
      130    13445        %KL_NODECHG(FPTN=KL$NODECHG,STCLASS="BASED(KN$NETPARM.UHDR$)");
      131    13469        %KL_UPDOSI(FPTN=KL$UPDOSI,STCLASS="BASED(KN$NETPARM.UHDR$)");
      132    13678        %KL_OSILINKCHG(FPTN=KL$OSILINKCHG,STCLASS="BASED(KN$NETPARM.UHDR$)");
      133    13801        %FPT_CONNECT_ACK(STCLASS="BASED(KN$NETPARM.FPT$)");
      134    13850        %G$BOBCAT(STCLASS="BASED(G$BOBCAT$)");
      135    13863    1   DCL ONEWORD UBIN BASED;
      136    13864    1   DCL MSG CHAR(KN$NETPARM.UHDRSZ) BASED;
      137    13865
      138    13866        /* Variables */
      139    13867    1   DCL I UBIN;
      140    13868    1   DCL UTS UBIN(32);
      141    13869    1   DCL B$UBIN32 UBIN(32) BASED;
      142    13870
      143    13871        /* Symrefs */
      144    13872    1   DCL KN_NODEADMIN$ PTR SYMREF;
      145    13873    1   DCL KN_BUFFER$ PTR SYMREF;
      146    13874    1   DCL KN_BUFFER CHAR(200) SYMREF;
      147    13875    1   DCL KN_BUSY BIT(1)SYMREF;
      148    13876    1   DCL GJ_BOOT_HNDLRS SBIN SYMREF;
      149    13877    1   DCL KJ_INTLVL_SCREECH UBIN SYMREF ;
      150    13878    1   DCL GFR_CUR_MEM(0:4) UBIN WORD SYMREF;
      151    13879    1   DCL G_CUR_USRS(0:4) UBIN WORD SYMREF;
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:20   
      152    13880    1   DCL GM_MEM_LOW UBIN(16) SYMREF;
      153    13881    1   DCL GM_MEM_HI  UBIN(16) SYMREF;
      154    13882    1   DCL GM_ASHUF   UBIN(16) SYMREF;
      155    13883    1   DCL GM_SHUF    UBIN(16) SYMREF;
      156    13884    1   DCL GM_NSHF_CURR UBIN(16) SYMREF;
      157    13885    1   DCL GM_SHUF_HI   UBIN(16) SYMREF;
      158    13886    1   DCL GM_NSHF    UBIN(16) SYMREF;
      159    13887    1   DCL KN_LDCT_USE# UBIN(16) SYMREF;
      160    13888    1   DCL KN_SSN_USE# UBIN(16) SYMREF;
      161    13889    1   DCL KN_IOP_USE# UBIN(16) SYMREF;
      162    13890    1   DCL KN_LDCT_PEAK# UBIN(16) SYMREF;
      163    13891    1   DCL KN_SSN_PEAK# UBIN(16) SYMREF;
      164    13892    1   DCL KN_IOP_PEAK# UBIN(16) SYMREF;
      165    13893        %PS_LCP6STT (STCLASS=SYMREF);
      166    14397        %G_CNTRL_TBL (FPTN=G_CNTRL_TBL,
      167    14398                      STCLASS=SYMREF);
      168    14464        %GATE (FPTN=KNB_LOCK,STCLASS=SYMREF);
      169    14483    1   DCL G$BOBCAT$ PTR SYMREF READONLY;
      170    14484    1   DCL G$CBUFFER$ PTR SYMREF READONLY;
      171    14485
      172    14486        /* Entry references */
      173    14487    1   DCL SCREECH ENTRY (1);
      174    14488    1   DCL KNB$WRITE ENTRY(4) ALTRET;
      175    14489    1   DCL GHE$TIME ENTRY;
      176    14490    1   DCL GHI$UTS ENTRY(1);
      177    14491    1   DCL GHS$RUE ENTRY(4) ALTRET;
      178    14492    1   DCL GUS$SETTIME ENTRY(1);
      179    14493    1   DCL KNN$NODECHG ENTRY(1) ALTRET;
      180    14494    1   DCL KNN$OSICHG ENTRY(1) ALTRET;
      181    14495    1   DCL KNN$OSILINKCHG ENTRY(1) ALTRET;
      182    14496
      183    14497        %EJECT;
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:21   
      184    14498
      185    14499    2        DO CASE (KN$NETPARM.FUNCTION);
      186    14500    2        CASE (%KN_FCN_INIT_ACK);
      187    14501    2           KN_NODEADMIN$ = KN$NETPARM.LDCT$;
      188    14502    2           IF FPT_CONNECT_ACK.REASON ~= 0
      189    14503    2           THEN
      190    14504    2                CALL SCREECH(SCR_UNEXP);
      191    14505
      192    14506    2        CASE (%KN_FCN_DATA);
      193    14507
      194    14508    2        CASE (%KN_FCN_UNQ);
      195    14509
      196    14510    2        CASE (ELSE);
      197    14511    2           CALL SCREECH(SCR_UNEXP);
      198    14512
      199    14513    2           END;                            /* End Case on functions */
      200    14514
      201    14515    1        IF KN$NETPARM.UHDRSZ ~= 0          /* A function was passed */
      202    14516    1        THEN
      203    14517    2        DO CASE(KL$MES.CODE);
      204    14518
      205    14519    2        CASE (IGA_INIT_DONE);              /* Node admin is done initializing */
      206    14520
      207    14521    2           GJ_BOOT_HNDLRS = -1;
      208    14522    2           CALL GHE$TIME;
      209    14523
      210    14524    2        CASE (IGA_CONTROL_INIT);
      211    14525    2           IF KL$CONTROL_INIT.TYPE = 1     /* There are parameters               */
      212    14526    2           THEN
      213    14527    3           DO I = 0 TO KL$CONTROL_INIT.NUM_FPARAM;
      214    14528    3                IF G_CNTRL_TBL.PTR$(I) ~= ADDR(NIL)
      215    14529    4                THEN DO;
      216    14530    4                     G_CNTRL_TBL.PTR$(I)->ONEWORD = KL$CONTROL_INIT.FPARAM(I);
      217    14531    4                     END;                  /* IF PTR$ ~= ADDR(NIL) */
      218    14532    3                END;                       /* DO I */
      219    14533        %EJECT;
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:22   
      220    14534    2        CASE ( IGA_CHSCRLVL ) ;
      221    14535    2           KJ_INTLVL_SCREECH = 3 ;
      222    14536    2        CASE(IGA_CONTROL);
      223    14537    2           IF (KL$CONTROL.PARMX <= G_CNTRL_TBL.HI_DISP AND
      224    14538    2                G_CNTRL_TBL.PTR$(KL$CONTROL.PARMX) = ADDR(NIL)) OR
      225    14539    2                (KL$CONTROL.PARMX > G_CNTRL_TBL.HI_DISP + 1 + %GI_BOOT_HI)
      226    14540    3           THEN DO;
      227    14541    3                KL$CONTROL.TYPE = 0;       /* NAK */
      228    14542    3                KL$CONTROL.VALUE = %KL_ERR_UNDEF; /* VALUE HAS ERROR CODE ON NAK */
      229    14543    3                END;
      230    14544
      231    14545    3           ELSE DO;
      232    14546    3                KL$CONTROL.TYPE = 1;       /* ACK */
      233    14547    4                DO CASE(KL$CONTROL.CMD);
      234    14548
      235    14549    4                CASE(%KL_CONTROL_SET);
      236    14550    4                   IF KL$CONTROL.PARMX <= G_CNTRL_TBL.HI_MODIFY
      237    14551    4                   THEN G_CNTRL_TBL.PTR$(KL$CONTROL.PARMX)->ONEWORD = KL$CONTROL.VALUE;
      238    14552
      239    14553    5                   ELSE DO;
      240    14554    5                        KL$CONTROL.TYPE = 0; /* NAK */
      241    14555    5                        KL$CONTROL.VALUE = %KL_ERR_DISP_ONLY;
      242    14556    5                        END;               /* ELSE */
      243    14557
      244    14558    4                CASE(%KL_CONTROL_DISPLAY);
      245    14559    4                   IF (KL$CONTROL.PARMX > %GI_CNTL_DISPHI) THEN
      246    14560                                                /* boot params */
      247    14561    5                   DO CASE(KL$CONTROL.PARMX - %GI_CNTL_DISPHI - 1);
      248    14562    5                   CASE(%GI_BOOT_LDCT);
      249    14563    5                      KL$CONTROL.VALUE = G$BOBCAT.LDCT#;
      250    14564    5                   CASE(%GI_BOOT_IOP);
      251    14565    5                      KL$CONTROL.VALUE = G$BOBCAT.IOP#;
      252    14566    5                   CASE(%GI_BOOT_HMI);
      253    14567    5                      KL$CONTROL.VALUE = G$BOBCAT.HMI#;
      254    14568    5                   CASE(%GI_BOOT_APESSN);
      255    14569    5                      KL$CONTROL.VALUE = G$BOBCAT.APESSN#;
      256    14570    5                   CASE(%GI_BOOT_TCTX);
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:23   
      257    14571    5                      KL$CONTROL.VALUE = G$BOBCAT.TCTX#;
      258    14572    5                   CASE(%GI_BOOT_CBUFFER);
      259    14573    5                      KL$CONTROL.VALUE = G$CBUFFER$->B$UBIN32/256;
      260    14574    5                   CASE(%GI_BOOT_SPROC);
      261    14575    5                      KL$CONTROL.VALUE = G$BOBCAT.SFILE#;
      262    14576    5                   CASE(%GI_BOOT_MUIS );
      263    14577    5                      KL$CONTROL.VALUE = G$BOBCAT.MUIS;
      264    14578    5                   CASE(%GI_BOOT_NSHUF);
      265    14579    5                   CASE(%GI_BOOT_NODES);
      266    14580    5                      KL$CONTROL.VALUE = G$BOBCAT.NODES;
      267    14581    5                   CASE(%GI_BOOT_LINKS);
      268    14582    5                      KL$CONTROL.VALUE = G$BOBCAT.LINKS;
      269    14583    5                   CASE(%GI_BOOT_DEVICES);
      270    14584    5                      KL$CONTROL.VALUE = G$BOBCAT.DEVICES;
      271    14585    5                   CASE(%GI_BOOT_ACCTS  );
      272    14586    5                      KL$CONTROL.VALUE = G$BOBCAT.ACCT_RES#;
      273    14587    5                   CASE(%GI_BOOT_PCHANS );
      274    14588    5                   CASE(%GI_BOOT_OSIROUTE);
      275    14589    5                      KL$CONTROL.VALUE = G$BOBCAT.OSIROUTE#;
      276    14590    5                   CASE(%GI_BOOT_DPS8000FLG);
      277    14591    5                      KL$CONTROL.VALUE = G$BOBCAT.DPS8000FLG;
      278    14592    5                      END;                 /* case parmx */
      279    14593    4                   ELSE
      280    14594    4                        KL$CONTROL.VALUE = G_CNTRL_TBL.PTR$(KL$CONTROL.PARMX)->ONEWORD;
      281    14595    4                   END;                    /* DO CASE(CMD) */
      282    14596    3                END;                       /* ELSE */
      283    14597
      284    14598    2           CALL KNB$WRITE(ADDR(KL$CONTROL),SIZEC(KL$CONTROL))
      285    14599    3           WHENALTRETURN DO;
      286    14600                         /*N* WHAT DO WE DO??????? */
      287    14601    3                END;
      288    14602
      289    14603
      290    14604    2        CASE (IGA_LINE_ACQUIRE);
      291    14605
      292    14606
      293    14607                %LOCK (G=KNB_LOCK);
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:24   
      294    14614    2           IF KN_BUSY
      295    14615    3           THEN DO;
      296    14616    3                KN$NETPARM.ERRCODE= %KN_ERR_NOQ;
      297    14617                     %UNLOCK (G=KNB_LOCK);
      298    14624    3                ALTRETURN;
      299    14625    3                END;
      300    14626    2           KN_BUSY = '1'B;
      301    14627                %UNLOCK (G=KNB_LOCK);
      302    14634    2           KN_BUFFER$->KL$ACQUIRE=KN$NETPARM.UHDR$->KL$ACQUIRE;
      303    14635    2           CALL GHS$RUE(%GH_EVUQA,KN$NETPARM.UHDR$->KL$ACQUIRE.USER#)
      304    14636    3           WHENALTRETURN DO;
      305    14637    3                END;
      306    14638
      307    14639
      308    14640    2        CASE (IGA_LINE_RELEASE);
      309    14641
      310    14642
      311    14643                %LOCK (G=KNB_LOCK);
      312    14650    2           IF KN_BUSY
      313    14651    3           THEN DO;
      314    14652    3                KN$NETPARM.ERRCODE= %KN_ERR_NOQ;
      315    14653                     %UNLOCK (G=KNB_LOCK);
      316    14660    3                ALTRETURN;
      317    14661    3                END;
      318    14662    2           KN_BUSY = '1'B;
      319    14663                %UNLOCK (G=KNB_LOCK);
      320    14670    2           KN_BUFFER$->KL$RELEASE=KN$NETPARM.UHDR$->KL$RELEASE;
      321    14671    2           CALL GHS$RUE(%GH_EVUQA,KN$NETPARM.UHDR$->KL$RELEASE.USER#)
      322    14672    3           WHENALTRETURN DO;
      323    14673    3                END;
      324    14674
      325    14675
      326    14676
      327    14677    2        CASE (IGA_SGNRSP);
      328    14678                %LOCK (G=KNB_LOCK);
      329    14685    2           IF KN_BUSY
      330    14686    3           THEN DO;
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:25   
      331    14687                     %UNLOCK (G=KNB_LOCK);
      332    14694    3                KN$NETPARM.ERRCODE= %KN_ERR_NOQ;
      333    14695    3                ALTRETURN;
      334    14696    3                END;
      335    14697    2           KN_BUSY = '1'B;
      336    14698                %UNLOCK (G=KNB_LOCK);
      337    14705
      338    14706    2           KN_BUFFER = KN$NETPARM.UHDR$->MSG;
      339    14707    2           I = KL$SGNRSP.NMID;
      340    14708    2           CALL GHS$RUE(%GH_EVUQA,I);
      341    14709
      342    14710
      343    14711    2        CASE (IGA_NODECHG);
      344    14712    2           KN$NETPARM.FPT$ = ADDR(KL$NODECHG);
      345    14713    2           CALL KNN$NODECHG(KN$NETPARM)
      346    14714    3           WHENALTRETURN DO;
      347    14715    3                CALL SCREECH(SCR_NODECHG);
      348    14716    3                ALTRETURN;
      349    14717    3                END;
      350    14718    2        CASE(IGA_UPDOSI,IGA_DELOSI);
      351    14719    2           KN$NETPARM.FPT$ = ADDR(KL$UPDOSI);
      352    14720    3           CALL KNN$OSICHG(KN$NETPARM) WHENALTRETURN DO;
      353    14721    3                CALL SCREECH(SCR_NODECHG); /* this is just to catch errors */
      354    14722    3                END;
      355    14723
      356    14724    2        CASE(IGA_OSILINKCHG);
      357    14725    2           KN$NETPARM.FPT$ = ADDR(KL$OSILINKCHG);
      358    14726    3           CALL KNN$OSILINKCHG(KN$NETPARM) WHENALTRETURN DO;
      359    14727    3                CALL SCREECH(SCR_NODECHG);
      360    14728    3                END;
      361    14729
      362    14730
      363    14731    2        CASE (IGA_TIME);
      364    14732    2           UTS = KL$TIME.UTS;
      365    14733    2           CALL GUS$SETTIME(UTS);
      366    14734
      367    14735    2        CASE (ELSE);
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:26   
      368    14736    2           CALL SCREECH(SCR_UNEXP);
      369    14737
      370    14738    2        CASE (IGA_REQSTATS);
      371    14739    2           PS_LCP6STT.REQSTATS.FEPNAME = KL$REQSTATS.FEPNAME;
      372    14740    2           PS_LCP6STT.REQSTATS.HANDLER = KL$REQSTATS.HANDLER;
      373    14741    2           PS_LCP6STT.REQSTATS.NODE_NUM = KL$REQSTATS.NODE_NUM;
      374    14742    2           PS_LCP6STT.REQSTATS.STATSSTA = KL$REQSTATS.STATSSTA;
      375    14743    2           PS_LCP6STT.REQSTATS.SRCE_NODE = KL$REQSTATS.SRCE_NODE;
      376    14744    2           PS_LCP6STT.PAGES_FRESHF = GM_SHUF;
      377    14745    2           PS_LCP6STT.PAGES_FRENONSHF = GM_NSHF;
      378    14746    2           PS_LCP6STT.PAGES_TOTNONSHF = GM_NSHF_CURR;
      379    14747    2           PS_LCP6STT.PAGES_AVLSHF = GM_ASHUF;
      380    14748    2           PS_LCP6STT.PAGES_TOTSHF = GM_SHUF_HI - GM_MEM_LOW + 1;
      381    14749    2           PS_LCP6STT.PAGES_TOTAL = GM_MEM_HI + 1;
      382    14750    2           PS_LCP6STT.PAGES_MONITOR = GM_MEM_LOW;
      383    14751    2           PS_LCP6STT.PAGES_CG_FPRG = GFR_CUR_MEM(%G_M_CG#);
      384    14752    2           PS_LCP6STT.PAGES_TS_FPRG = GFR_CUR_MEM(%G_M_USER#);
      385    14753    2           PS_LCP6STT.PAGES_GHOST = GFR_CUR_MEM(%G_M_GHOST#);
      386    14754    2           PS_LCP6STT.PAGES_HANDLER = GFR_CUR_MEM(%G_M_HANDLER#);
      387    14755    2           PS_LCP6STT.USERS_CG_FPRG = G_CUR_USRS(%G_M_CG#);
      388    14756    2           PS_LCP6STT.USERS_TS_FPRG = G_CUR_USRS(%G_M_USER#);
      389    14757    2           PS_LCP6STT.USERS_GHOST = G_CUR_USRS(%G_M_GHOST#);
      390    14758    2           PS_LCP6STT.USERS_HANDLER = G_CUR_USRS(%G_M_HANDLER#);
      391    14759    2           PS_LCP6STT.CURR_USERS = G_CUR_USRS(0);
      392    14760    2           PS_LCP6STT.PEAK_LDCT = KN_LDCT_PEAK#;
      393    14761    2           PS_LCP6STT.PEAK_IOP  = KN_IOP_PEAK#;
      394    14762    2           PS_LCP6STT.PEAK_SSN  = KN_SSN_PEAK#;
      395    14763    2           PS_LCP6STT.CURR_LDCT = KN_LDCT_USE#;
      396    14764    2           PS_LCP6STT.CURR_IOP  = KN_IOP_USE#;
      397    14765    2           PS_LCP6STT.CURR_SSN  = KN_SSN_USE#;
      398    14766    2           CALL GHI$UTS(PS_LCP6STT.CURR_UTS);
      399    14767    2           CALL KNB$WRITE (ADDR(PS_LCP6STT),SIZEC(PS_LCP6STT))
      400    14768    3           WHENALTRETURN DO;
      401    14769    3                ALTRETURN;
      402    14770    3                END;
      403    14771
      404    14772    2        CASE (IGA_ERRMSG_RSP);
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:27   
      405    14773                %LOCK (G=KNB_LOCK);
      406    14780    2           IF KN_BUSY
      407    14781    3           THEN DO;
      408    14782                     %UNLOCK (G=KNB_LOCK);
      409    14789    3                KN$NETPARM.ERRCODE= %KN_ERR_NOQ;
      410    14790    3                ALTRETURN;
      411    14791    3                END;
      412    14792    2           KN_BUSY = '1'B;
      413    14793                %UNLOCK (G=KNB_LOCK);
      414    14800
      415    14801    2           KN_BUFFER = KN$NETPARM.UHDR$->MSG;
      416    14802    2           I = KN$NETPARM.UHDR$->KL$ERRMSG_RSP.USR#;
      417    14803    2           CALL GHS$RUE(%GH_EVUQA,I);
      418    14804
      419    14805
      420    14806
      421    14807    2           END;                            /* End cases */
      422    14808
      423    14809    1        RETURN;
      424    14810
      425    14811    1   END KNB$ACTION;
      426    14812        %EOD;

PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:28   
--  Include file information  --

   G$BOBCAT_M.:E05TOU  is referenced.
   K_ADDRESS_M.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  is referenced.
   GT_LCP6_M.:E05TOU  is referenced.
   KI_CP6.:E05TOU  is referenced.
   GF_LCP6_M.:E05TOU  is referenced.
   GM_LCP6_M.:E05TOU  is referenced.
   GU_LCP6_M.:E05TOU  is referenced.
   GJ_LCP6_M.:E05TOU  is referenced.
   GH_LCP6_M.:E05TOU  is referenced.
   LCP_6.:E05TOU  cannot be made into a system file and is referenced.
   K_SCODE_C.:E05TOU  is referenced.
   K_ID_E.:E05TOU  is referenced.
   G_JIT_M.:E05TOU  is referenced.
   P_FEP_M.:E05TOU  is referenced.
   GH_GATE_M.:E05TOU  cannot be made into a system file and is referenced.
   GH_SCHD_E.:E05TOU  is referenced.
   G_CNTRL_M.:E05TOU  is referenced.
   GI_BOOT_C.:E05TOU  is referenced.
   KL_CONTROL_C.:E05TOU  is referenced.
   KL_AFCN_C.:E05TOU  is referenced.
   KL_MACRO_C.:E05TOU  is referenced.
   KNH_MACRO_C.:E05TOU  is referenced.
   KN_DATA_M.:E05TOU  is referenced.
      No diagnostics issued in procedure KNB$ACTION.

   Procedure KNB$ACTION requires 1158 words for executable code.
   Procedure KNB$ACTION requires 16 words of local(AUTO) storage.

PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:29   

 Object Unit name= KNB$ACTION                                 File name= KNB$BABOON.:E05TOU
 UTS= JUL 30 '97 01:01:00.64 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_LCP6_SYSTEM                               Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size HexSiz  Section name
    0  RoData even  UTS      6      6  KNB$ACTION
    1   Proc  even  none  1158    486  KNB$ACTION
    2  RoData even  none     8      8  KNB$ACTION

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect HexLoc Primary Altret sequence   type   Parms  Name
     1      0   yes    yes     yes      Std        1  KNB$ACTION
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:30   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       1 SCREECH
 yes     yes           Std       1 GHH$UNLOCK
 yes     yes           Std       1 KNN$NODECHG
         yes           Std       0 GHE$TIME
 yes     yes           Std       4 KNB$WRITE
 yes     yes           Std       4 GHS$RUE
 yes     yes           Std       1 GHH$LOCK
 yes     yes           Std       1 KNN$OSICHG
 yes     yes           Std       1 KNN$OSILINKCHG
         yes           Std       1 GUS$SETTIME
         yes           Std       1 GHI$UTS
                       nStd      0 X6A_AUTO_1
                       nStd      0 X6A_AALT
                       nStd      0 X6C_ALR
                       nStd      0 X6A_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     KN_NODEADMIN$                         KN_BUFFER$                            KN_BUFFER
     KN_BUSY                               GJ_BOOT_HNDLRS                        KJ_INTLVL_SCREECH
     GFR_CUR_MEM                           G_CUR_USRS                            GM_MEM_LOW
     GM_MEM_HI                             GM_ASHUF                              GM_SHUF
     GM_NSHF_CURR                          GM_SHUF_HI                            GM_NSHF
     KN_LDCT_USE#                          KN_SSN_USE#                           KN_IOP_USE#
     KN_LDCT_PEAK#                         KN_SSN_PEAK#                          KN_IOP_PEAK#
     PS_LCP6STT                            G_CNTRL_TBL                           KNB_LOCK
r    G$BOBCAT$                        r    G$CBUFFER$                       r    G$ROS$
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:31   


       78        1        /*T***********************************************************/
       79        2        /*T*                                                         */
       80        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
       81        4        /*T*                                                         */
       82        5        /*T***********************************************************/
       83        6        KNB$ACTION: PROC (KN$NETPARM) ALTRET;

      6   1 000000  D380 0000 0000  xent KNB$ACTION      LNJ,B5   X6A_AUTO_1
          1 000003       0010 0001                       DC       16,1

       84        7
       85        8        /* Include files */
       86        9        %INCLUDE KN_DATA_M;
       87     1795        %INCLUDE KNH_MACRO_C;
       88     2078        %INCLUDE KL_MACRO_C;
       89     5430        %INCLUDE KL_AFCN_C;
       90     5531        %INCLUDE KL_CONTROL_C;
       91     5911        %INCLUDE GI_BOOT_C;
       92     6022        %INCLUDE G_CNTRL_M;
       93     6095        %INCLUDE GH_SCHD_E;
       94     6191        %INCLUDE GH_GATE_M;
       95     6232        %INCLUDE P_FEP_M;
       96     6670        %INCLUDE G_JIT_M;
       97     6935        %G$JIT_E;
       98     6997        %INCLUDE K_ID_E;
       99     7047        %K#ENTID_E;
      100     7066        %K#LYRID_E;
      101     7073        %INCLUDE K_SCODE_C;
      102     7158        %INCLUDE LCP_6;
      103    11437        %INCLUDE K_ADDRESS_M;
      104    11940        %INCLUDE G$BOBCAT_M;
      105    11960
      106    11961        /* Parameters */
      107    11962        %KN$NETPARM (STCLASS="");
      108    12115
      109    12116        /* Constant */
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:32   
      110    12117        %VLP_SCODE (FPTN=SCR_UNEXP,FCG=KN,MID=B,ERR#=%S$UNEXPRESP,
      111    12118                       MON='1'B,SEV=G_SEV_SCREECH#,STCLASS=CONSTANT);
      112    12179        %VLP_SCODE (FPTN=SCR_NODECHG,FCG=KN,MID=B,ERR#=%S$NODECHG,
      113    12180                       MON='1'B,SEV=G_SEV_SCREECH#,STCLASS=CONSTANT);
      114    12241        /*S* SCREECH_CODE: KNB-S$NODECHG
      115    12242             TYPE: screech
      116    12243             MESSAGE: Baboon could not deliver an upd route message to nodeadmn
      117    12244        */
      118    12245
      119    12246        /* Based structures */
      120    12247        %KN$LDCT (STCLASS="BASED(KN$NETPARM.LDCT$)");
      121    12492        %KL_MES (FPTN=KL$MES,STCLASS="BASED(KN$NETPARM.UHDR$)");
      122    12515        %KL_CONTROL (FPTN=KL$CONTROL,STCLASS="BASED(KN$NETPARM.UHDR$)");
      123    12652        %KL_CONTROL_INIT (FPTN=KL$CONTROL_INIT,STCLASS="BASED(KN$NETPARM.UHDR$)");
      124    12778        %KL_REQSTATS(NAME=KL$REQSTATS,STCLASS="BASED(KN$NETPARM.UHDR$)");
      125    13072        %KL_ACQUIRE(FPTN=KL$ACQUIRE,STCLASS=BASED);
      126    13154        %KL_RELEASE(FPTN=KL$RELEASE,STCLASS=BASED);
      127    13209        %KL_ERRMSG_RSP (FPTN=KL$ERRMSG_RSP,STCLASS=BASED);
      128    13285        %KL_SGNRSP (FPTN=KL$SGNRSP,STCLASS="BASED(KN_BUFFER$)");
      129    13421        %KL_TIME (FPTN=KL$TIME,STCLASS="BASED(KN$NETPARM.UHDR$)");
      130    13445        %KL_NODECHG(FPTN=KL$NODECHG,STCLASS="BASED(KN$NETPARM.UHDR$)");
      131    13469        %KL_UPDOSI(FPTN=KL$UPDOSI,STCLASS="BASED(KN$NETPARM.UHDR$)");
      132    13678        %KL_OSILINKCHG(FPTN=KL$OSILINKCHG,STCLASS="BASED(KN$NETPARM.UHDR$)");
      133    13801        %FPT_CONNECT_ACK(STCLASS="BASED(KN$NETPARM.FPT$)");
      134    13850        %G$BOBCAT(STCLASS="BASED(G$BOBCAT$)");
      135    13863    1   DCL ONEWORD UBIN BASED;
      136    13864    1   DCL MSG CHAR(KN$NETPARM.UHDRSZ) BASED;
      137    13865
      138    13866        /* Variables */
      139    13867    1   DCL I UBIN;
      140    13868    1   DCL UTS UBIN(32);
      141    13869    1   DCL B$UBIN32 UBIN(32) BASED;
      142    13870
      143    13871        /* Symrefs */
      144    13872    1   DCL KN_NODEADMIN$ PTR SYMREF;
      145    13873    1   DCL KN_BUFFER$ PTR SYMREF;
      146    13874    1   DCL KN_BUFFER CHAR(200) SYMREF;
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:33   
      147    13875    1   DCL KN_BUSY BIT(1)SYMREF;
      148    13876    1   DCL GJ_BOOT_HNDLRS SBIN SYMREF;
      149    13877    1   DCL KJ_INTLVL_SCREECH UBIN SYMREF ;
      150    13878    1   DCL GFR_CUR_MEM(0:4) UBIN WORD SYMREF;
      151    13879    1   DCL G_CUR_USRS(0:4) UBIN WORD SYMREF;
      152    13880    1   DCL GM_MEM_LOW UBIN(16) SYMREF;
      153    13881    1   DCL GM_MEM_HI  UBIN(16) SYMREF;
      154    13882    1   DCL GM_ASHUF   UBIN(16) SYMREF;
      155    13883    1   DCL GM_SHUF    UBIN(16) SYMREF;
      156    13884    1   DCL GM_NSHF_CURR UBIN(16) SYMREF;
      157    13885    1   DCL GM_SHUF_HI   UBIN(16) SYMREF;
      158    13886    1   DCL GM_NSHF    UBIN(16) SYMREF;
      159    13887    1   DCL KN_LDCT_USE# UBIN(16) SYMREF;
      160    13888    1   DCL KN_SSN_USE# UBIN(16) SYMREF;
      161    13889    1   DCL KN_IOP_USE# UBIN(16) SYMREF;
      162    13890    1   DCL KN_LDCT_PEAK# UBIN(16) SYMREF;
      163    13891    1   DCL KN_SSN_PEAK# UBIN(16) SYMREF;
      164    13892    1   DCL KN_IOP_PEAK# UBIN(16) SYMREF;
      165    13893        %PS_LCP6STT (STCLASS=SYMREF);
      166    14397        %G_CNTRL_TBL (FPTN=G_CNTRL_TBL,
      167    14398                      STCLASS=SYMREF);
      168    14464        %GATE (FPTN=KNB_LOCK,STCLASS=SYMREF);
      169    14483    1   DCL G$BOBCAT$ PTR SYMREF READONLY;
      170    14484    1   DCL G$CBUFFER$ PTR SYMREF READONLY;
      171    14485
      172    14486        /* Entry references */
      173    14487    1   DCL SCREECH ENTRY (1);
      174    14488    1   DCL KNB$WRITE ENTRY(4) ALTRET;
      175    14489    1   DCL GHE$TIME ENTRY;
      176    14490    1   DCL GHI$UTS ENTRY(1);
      177    14491    1   DCL GHS$RUE ENTRY(4) ALTRET;
      178    14492    1   DCL GUS$SETTIME ENTRY(1);
      179    14493    1   DCL KNN$NODECHG ENTRY(1) ALTRET;
      180    14494    1   DCL KNN$OSICHG ENTRY(1) ALTRET;
      181    14495    1   DCL KNN$OSILINKCHG ENTRY(1) ALTRET;
      182    14496
      183    14497        %EJECT;
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:34   
      184    14498
      185    14499    2        DO CASE (KN$NETPARM.FUNCTION);

  14499   1 000005  ECC7 0004                            LDB,B6   @KN$NETPARM,AUTO
          1 000007  B846 0014                            LDR,R3   20,B6
          1 000009  3D09                                 CMV,R3   9
          1 00000A  0281 0024                            BGE      s:14511,PREL
          1 00000C  A830 0000 0012  01                   LDR,R2   s:14499+13,R3
          1 00000F  83A0 0000 001B  01                   JMP      s:14501,R2
          1 000012       0014                            DC       s:14511,PREL
          1 000013       0014                            DC       s:14511,PREL
          1 000014       0000                            DC       s:14501,PREL
          1 000015       0014                            DC       s:14511,PREL
          1 000016       0014                            DC       s:14511,PREL
          1 000017       001D                            DC       s:14515,PREL
          1 000018       0014                            DC       s:14511,PREL
          1 000019       0014                            DC       s:14511,PREL
          1 00001A       001D                            DC       s:14515,PREL

      186    14500    2        CASE (%KN_FCN_INIT_ACK);

      187    14501    2           KN_NODEADMIN$ = KN$NETPARM.LDCT$;

  14501   1 00001B  DC86                                 LDB,B5   ,B6
          1 00001C  DF80 0000 0000  xsym                 STB,B5   KN_NODEADMIN$

      188    14502    2           IF FPT_CONNECT_ACK.REASON ~= 0

  14502   1 00001F  CCC6 0019                            LDB,B4   25,B6
          1 000021  E804                                 LDR,R6   ,B4
          1 000022  6901 0015                            BEZ,R6   s:14515,PREL

      189    14503    2           THEN
      190    14504    2                CALL SCREECH(SCR_UNEXP);

  14504   1 000024  BB80 0000 0000  02                   LAB,B3   0
          1 000027  CBF0 0100                            LAB,B4   256,IMO
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:35   
          1 000029  E380 0000 0000  xent                 LNJ,B6   SCREECH
          1 00002C       0001                            DC       s:14504+9,PREL
          1 00002D  0F81 000A                            B        s:14515,PREL

      191    14505
      192    14506    2        CASE (%KN_FCN_DATA);

      193    14507
      194    14508    2        CASE (%KN_FCN_UNQ);

      195    14509
      196    14510    2        CASE (ELSE);

      197    14511    2           CALL SCREECH(SCR_UNEXP);

  14511   1 00002F  BB80 0000 0000  02                   LAB,B3   0
          1 000032  CBF0 0100                            LAB,B4   256,IMO
          1 000034  E380 0000 0000  xent                 LNJ,B6   SCREECH
          1 000037       0001                            DC       s:14515,PREL

      198    14512
      199    14513    2           END;                            /* End Case on functions */

      200    14514
      201    14515    1        IF KN$NETPARM.UHDRSZ ~= 0          /* A function was passed */

  14515   1 000038  ECC7 0004                            LDB,B6   @KN$NETPARM,AUTO
          1 00003A  E846 0007                            LDR,R6   7,B6
          1 00003C  6901 0446                            BEZ,R6   s:14809,PREL

      202    14516    1        THEN
      203    14517    2        DO CASE(KL$MES.CODE);

  14517   1 00003E  DCC6 0005                            LDB,B5   5,B6
          1 000040  B285                                 LLH,R3   ,B5
          1 000041  3EEF                                 ADV,R3   -17
          1 000042  3D4A                                 CMV,R3   74
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:36   
          1 000043  0281 02E9                            BGE      s:14736,PREL
          1 000045  A830 0000 004B  01                   LDR,R2   s:14517+13,R3
          1 000048  83A0 0000 0095  01                   JMP      s:14521,R2
          1 00004B       027F                            DC       s:14732,PREL
          1 00004C       0298                            DC       s:14736,PREL
          1 00004D       0298                            DC       s:14736,PREL
          1 00004E       0298                            DC       s:14736,PREL
          1 00004F       0298                            DC       s:14736,PREL
          1 000050       0298                            DC       s:14736,PREL
          1 000051       0298                            DC       s:14736,PREL
          1 000052       0298                            DC       s:14736,PREL
          1 000053       0298                            DC       s:14736,PREL
          1 000054       0298                            DC       s:14736,PREL
          1 000055       0298                            DC       s:14736,PREL
          1 000056       0298                            DC       s:14736,PREL
          1 000057       0298                            DC       s:14736,PREL
          1 000058       0298                            DC       s:14736,PREL
          1 000059       0298                            DC       s:14736,PREL
          1 00005A       0298                            DC       s:14736,PREL
          1 00005B       003A                            DC       s:14537,PREL
          1 00005C       000C                            DC       s:14525,PREL
          1 00005D       0298                            DC       s:14736,PREL
          1 00005E       02A3                            DC       s:14739,PREL
          1 00005F       0298                            DC       s:14736,PREL
          1 000060       0298                            DC       s:14736,PREL
          1 000061       0298                            DC       s:14736,PREL
          1 000062       0298                            DC       s:14736,PREL
          1 000063       0237                            DC       s:14712,PREL
          1 000064       0298                            DC       s:14736,PREL
          1 000065       018F                            DC       s:14648,PREL
          1 000066       0141                            DC       s:14612,PREL
          1 000067       0298                            DC       s:14736,PREL
          1 000068       0394                            DC       s:14778,PREL
          1 000069       0298                            DC       s:14736,PREL
          1 00006A       0298                            DC       s:14736,PREL
          1 00006B       0298                            DC       s:14736,PREL
          1 00006C       0000                            DC       s:14521,PREL
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:37   
          1 00006D       0298                            DC       s:14736,PREL
          1 00006E       0034                            DC       s:14535,PREL
          1 00006F       0298                            DC       s:14736,PREL
          1 000070       0298                            DC       s:14736,PREL
          1 000071       0298                            DC       s:14736,PREL
          1 000072       0298                            DC       s:14736,PREL
          1 000073       0298                            DC       s:14736,PREL
          1 000074       0298                            DC       s:14736,PREL
          1 000075       0298                            DC       s:14736,PREL
          1 000076       0298                            DC       s:14736,PREL
          1 000077       0298                            DC       s:14736,PREL
          1 000078       0298                            DC       s:14736,PREL
          1 000079       0298                            DC       s:14736,PREL
          1 00007A       01DD                            DC       s:14683,PREL
          1 00007B       0298                            DC       s:14736,PREL
          1 00007C       0298                            DC       s:14736,PREL
          1 00007D       0298                            DC       s:14736,PREL
          1 00007E       0298                            DC       s:14736,PREL
          1 00007F       0298                            DC       s:14736,PREL
          1 000080       0298                            DC       s:14736,PREL
          1 000081       0298                            DC       s:14736,PREL
          1 000082       0298                            DC       s:14736,PREL
          1 000083       0298                            DC       s:14736,PREL
          1 000084       0298                            DC       s:14736,PREL
          1 000085       0298                            DC       s:14736,PREL
          1 000086       0298                            DC       s:14736,PREL
          1 000087       0298                            DC       s:14736,PREL
          1 000088       0298                            DC       s:14736,PREL
          1 000089       0298                            DC       s:14736,PREL
          1 00008A       0298                            DC       s:14736,PREL
          1 00008B       0298                            DC       s:14736,PREL
          1 00008C       0298                            DC       s:14736,PREL
          1 00008D       0298                            DC       s:14736,PREL
          1 00008E       0298                            DC       s:14736,PREL
          1 00008F       0298                            DC       s:14736,PREL
          1 000090       0251                            DC       s:14719,PREL
          1 000091       0251                            DC       s:14719,PREL
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:38   
          1 000092       0298                            DC       s:14736,PREL
          1 000093       0298                            DC       s:14736,PREL
          1 000094       0268                            DC       s:14725,PREL

      204    14518
      205    14519    2        CASE (IGA_INIT_DONE);              /* Node admin is done initializing */

      206    14520
      207    14521    2           GJ_BOOT_HNDLRS = -1;

  14521   1 000095  8900 0000 0000  xsym                 LBT,'FFFF'X       GJ_BOOT_HNDLRS
  14521   1 000098       FFFF

      208    14522    2           CALL GHE$TIME;

  14522   1 000099  CBF0 0000                            LAB,B4   0,IMO
          1 00009B  E380 0000 0000  xent                 LNJ,B6   GHE$TIME
          1 00009E       0001                            DC       s:14522+6,PREL
          1 00009F  0F81 03E3                            B        s:14809,PREL

      209    14523
      210    14524    2        CASE (IGA_CONTROL_INIT);

      211    14525    2           IF KL$CONTROL_INIT.TYPE = 1     /* There are parameters               */

  14525   1 0000A1  D805                                 LDR,R5   ,B5
          1 0000A2  D570 00FF                            AND,R5   255,IMO
          1 0000A4  5D01                                 CMV,R5   1
          1 0000A5  0981 03DD                            BNE      s:14809,PREL

      212    14526    2           THEN
      213    14527    3           DO I = 0 TO KL$CONTROL_INIT.NUM_FPARAM;

  14527   1 0000A7  8747 0006                            CL       I,AUTO
          1 0000A9  0F81 0014                            B        s:14532+2,PREL

      214    14528    3                IF G_CNTRL_TBL.PTR$(I) ~= ADDR(NIL)
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:39   

  14528   1 0000AB  B847 0006                            LDR,R3   I,AUTO
          1 0000AD  8DB0 0000 0002  xsym                 CMN      G_CNTRL_TBL+2,R3
          1 0000B0  0901 000B                            BE       s:14532,PREL

      215    14529    4                THEN DO;

      216    14530    4                     G_CNTRL_TBL.PTR$(I)->ONEWORD = KL$CONTROL_INIT.FPARAM(I);

  14530   1 0000B2  ECB0 0000 0002  xsym                 LDB,B6   G_CNTRL_TBL+2,R3
          1 0000B5  DCC7 0004                            LDB,B5   @KN$NETPARM,AUTO
          1 0000B7  CCC5 0005                            LDB,B4   5,B5
          1 0000B9  3E14                                 ADV,R3   20
          1 0000BA  E834                                 LDR,R6   ,B4,R3
          1 0000BB  EF06                                 STR,R6   ,B6

      217    14531    4                     END;                  /* IF PTR$ ~= ADDR(NIL) */

      218    14532    3                END;                       /* DO I */

  14532   1 0000BC  8AC7 0006                            INC      I,AUTO
          1 0000BE  ECC7 0004                            LDB,B6   @KN$NETPARM,AUTO
          1 0000C0  DCC6 0005                            LDB,B5   5,B6
          1 0000C2  E847 0006                            LDR,R6   I,AUTO
          1 0000C4  E945 0012                            CMR,R6   18,B5
          1 0000C6  03E5                                 BLE      s:14528,SPREL
          1 0000C7  0F81 03BB                            B        s:14809,PREL

      219    14533        %EJECT;
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:40   
      220    14534    2        CASE ( IGA_CHSCRLVL ) ;

      221    14535    2           KJ_INTLVL_SCREECH = 3 ;

  14535   1 0000C9  5C03                                 LDV,R5   3
          1 0000CA  DF00 0000 0000  xsym                 STR,R5   KJ_INTLVL_SCREECH
          1 0000CD  0F81 03B5                            B        s:14809,PREL

      222    14536    2        CASE(IGA_CONTROL);

      223    14537    2           IF (KL$CONTROL.PARMX <= G_CNTRL_TBL.HI_DISP AND

  14537   1 0000CF  D845 0012                            LDR,R5   18,B5
          1 0000D1  D900 0000 0001  xsym                 CMR,R5   G_CNTRL_TBL+1
          1 0000D4  0301 0007                            BG       s:14537+13,PREL
          1 0000D6  9855                                 LDR,R1   R5
          1 0000D7  8D90 0000 0002  xsym                 CMN      G_CNTRL_TBL+2,R1
          1 0000DA  0901 0008                            BE       s:14541,PREL
          1 0000DC  C800 0000 0001  xsym                 LDR,R4   G_CNTRL_TBL+1
          1 0000DF  4E10                                 ADV,R4   16
          1 0000E0  C955                                 CMR,R4   R5
          1 0000E1  0281 000A                            BGE      s:14546,PREL

      224    14538    2                G_CNTRL_TBL.PTR$(KL$CONTROL.PARMX) = ADDR(NIL)) OR
      225    14539    2                (KL$CONTROL.PARMX > G_CNTRL_TBL.HI_DISP + 1 + %GI_BOOT_HI)
      226    14540    3           THEN DO;

      227    14541    3                KL$CONTROL.TYPE = 0;       /* NAK */

  14541   1 0000E3  8805                                 LBF,'00FF'X       ,B5
  14541   1 0000E4       00FF

      228    14542    3                KL$CONTROL.VALUE = %KL_ERR_UNDEF; /* VALUE HAS ERROR CODE ON NAK */

  14542   1 0000E5  DCC6 0005                            LDB,B5   5,B6
          1 0000E7  6C01                                 LDV,R6   1
          1 0000E8  EF45 0014                            STR,R6   20,B5
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:41   

      229    14543    3                END;

  14543   1 0000EA  0F81 00D3                            B        s:14598,PREL

      230    14544
      231    14545    3           ELSE DO;

      232    14546    3                KL$CONTROL.TYPE = 1;       /* ACK */

  14546   1 0000EC  1C01                                 LDV,R1   1
          1 0000ED  9A85                                 SRM,R1,'00FF'X    ,B5
          1 0000EE       00FF

      233    14547    4                DO CASE(KL$CONTROL.CMD);

  14547   1 0000EF  DCC6 0005                            LDB,B5   5,B6
          1 0000F1  B845 0011                            LDR,R3   17,B5
          1 0000F3  3D03                                 CMV,R3   3
          1 0000F4  0281 00C9                            BGE      s:14598,PREL
          1 0000F6  A830 0000 00FC  01                   LDR,R2   s:14547+13,R3
          1 0000F9  83A0 0000 00FF  01                   JMP      s:14550,R2
          1 0000FC       00BF                            DC       s:14598,PREL
          1 0000FD       0000                            DC       s:14550,PREL
          1 0000FE       0019                            DC       s:14559,PREL

      234    14548
      235    14549    4                CASE(%KL_CONTROL_SET);

      236    14550    4                   IF KL$CONTROL.PARMX <= G_CNTRL_TBL.HI_MODIFY

  14550   1 0000FF  E845 0012                            LDR,R6   18,B5
          1 000101  E900 0000 0000  xsym                 CMR,R6   G_CNTRL_TBL
          1 000104  0301 000A                            BG       s:14554,PREL

      237    14551    4                  THEN G_CNTRL_TBL.PTR$(KL$CONTROL.PARMX)->ONEWORD = KL$CONTROL.VALUE;

PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:42   
  14551   1 000106  B856                                 LDR,R3   R6
          1 000107  CCB0 0000 0002  xsym                 LDB,B4   G_CNTRL_TBL+2,R3
          1 00010A  D845 0014                            LDR,R5   20,B5
          1 00010C  DF04                                 STR,R5   ,B4
          1 00010D  0F81 00B0                            B        s:14598,PREL

      238    14552
      239    14553    5                   ELSE DO;

      240    14554    5                        KL$CONTROL.TYPE = 0; /* NAK */

  14554   1 00010F  8805                                 LBF,'00FF'X       ,B5
  14554   1 000110       00FF

      241    14555    5                        KL$CONTROL.VALUE = %KL_ERR_DISP_ONLY;

  14555   1 000111  DCC6 0005                            LDB,B5   5,B6
          1 000113  6C04                                 LDV,R6   4
          1 000114  EF45 0014                            STR,R6   20,B5

      242    14556    5                        END;               /* ELSE */

  14556   1 000116  0F81 00A7                            B        s:14598,PREL

      243    14557
      244    14558    4                CASE(%KL_CONTROL_DISPLAY);

      245    14559    4                   IF (KL$CONTROL.PARMX > %GI_CNTL_DISPHI) THEN

  14559   1 000118  E845 0012                            LDR,R6   18,B5
          1 00011A  6D1D                                 CMV,R6   29
          1 00011B  0381 009B                            BLE      s:14594,PREL

      246    14560                                                /* boot params */
      247    14561    5                   DO CASE(KL$CONTROL.PARMX - %GI_CNTL_DISPHI - 1);

  14561   1 00011D  B856                                 LDR,R3   R6
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:43   
          1 00011E  3EE2                                 ADV,R3   -30
          1 00011F  3D10                                 CMV,R3   16
          1 000120  0281 009D                            BGE      s:14598,PREL
          1 000122  A830 0000 0128  01                   LDR,R2   s:14561+11,R3
          1 000125  83A0 0000 0138  01                   JMP      s:14563,R2
          1 000128       0000                            DC       s:14563,PREL
          1 000129       0009                            DC       s:14565,PREL
          1 00012A       0012                            DC       s:14567,PREL
          1 00012B       001B                            DC       s:14569,PREL
          1 00012C       0024                            DC       s:14571,PREL
          1 00012D       002D                            DC       s:14573,PREL
          1 00012E       0037                            DC       s:14575,PREL
          1 00012F       0040                            DC       s:14577,PREL
          1 000130       007D                            DC       s:14592,PREL
          1 000131       0049                            DC       s:14580,PREL
          1 000132       0052                            DC       s:14582,PREL
          1 000133       005B                            DC       s:14584,PREL
          1 000134       0064                            DC       s:14586,PREL
          1 000135       007D                            DC       s:14592,PREL
          1 000136       006D                            DC       s:14589,PREL
          1 000137       0076                            DC       s:14591,PREL

      248    14562    5                   CASE(%GI_BOOT_LDCT);

      249    14563    5                      KL$CONTROL.VALUE = G$BOBCAT.LDCT#;

  14563   1 000138  CC80 0000 0000  xsym                 LDB,B4   G$BOBCAT$
          1 00013B  D844 0010                            LDR,R5   16,B4
          1 00013D  DF45 0014                            STR,R5   20,B5
          1 00013F  0F81 007E                            B        s:14598,PREL

      250    14564    5                   CASE(%GI_BOOT_IOP);

      251    14565    5                      KL$CONTROL.VALUE = G$BOBCAT.IOP#;

  14565   1 000141  CC80 0000 0000  xsym                 LDB,B4   G$BOBCAT$
          1 000144  D844 000F                            LDR,R5   15,B4
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:44   
          1 000146  DF45 0014                            STR,R5   20,B5
          1 000148  0F81 0075                            B        s:14598,PREL

      252    14566    5                   CASE(%GI_BOOT_HMI);

      253    14567    5                      KL$CONTROL.VALUE = G$BOBCAT.HMI#;

  14567   1 00014A  CC80 0000 0000  xsym                 LDB,B4   G$BOBCAT$
          1 00014D  D844 0011                            LDR,R5   17,B4
          1 00014F  DF45 0014                            STR,R5   20,B5
          1 000151  0F81 006C                            B        s:14598,PREL

      254    14568    5                   CASE(%GI_BOOT_APESSN);

      255    14569    5                      KL$CONTROL.VALUE = G$BOBCAT.APESSN#;

  14569   1 000153  CC80 0000 0000  xsym                 LDB,B4   G$BOBCAT$
          1 000156  D844 0012                            LDR,R5   18,B4
          1 000158  DF45 0014                            STR,R5   20,B5
          1 00015A  0F81 0063                            B        s:14598,PREL

      256    14570    5                   CASE(%GI_BOOT_TCTX);

      257    14571    5                      KL$CONTROL.VALUE = G$BOBCAT.TCTX#;

  14571   1 00015C  CC80 0000 0000  xsym                 LDB,B4   G$BOBCAT$
          1 00015F  D844 0013                            LDR,R5   19,B4
          1 000161  DF45 0014                            STR,R5   20,B5
          1 000163  0F81 005A                            B        s:14598,PREL

      258    14572    5                   CASE(%GI_BOOT_CBUFFER);

      259    14573    5                      KL$CONTROL.VALUE = G$CBUFFER$->B$UBIN32/256;

  14573   1 000165  CC80 0000 0000  xsym                 LDB,B4   G$CBUFFER$
          1 000168  8C84                                 LDI      ,B4
          1 000169  70C8                                 DOR,R7   8
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:45   
          1 00016A  E857                                 LDR,R6   R7
          1 00016B  EF45 0014                            STR,R6   20,B5
          1 00016D  0F81 0050                            B        s:14598,PREL

      260    14574    5                   CASE(%GI_BOOT_SPROC);

      261    14575    5                      KL$CONTROL.VALUE = G$BOBCAT.SFILE#;

  14575   1 00016F  CC80 0000 0000  xsym                 LDB,B4   G$BOBCAT$
          1 000172  D844 000B                            LDR,R5   11,B4
          1 000174  DF45 0014                            STR,R5   20,B5
          1 000176  0F81 0047                            B        s:14598,PREL

      262    14576    5                   CASE(%GI_BOOT_MUIS );

      263    14577    5                      KL$CONTROL.VALUE = G$BOBCAT.MUIS;

  14577   1 000178  CC80 0000 0000  xsym                 LDB,B4   G$BOBCAT$
          1 00017B  D844 000A                            LDR,R5   10,B4
          1 00017D  DF45 0014                            STR,R5   20,B5
          1 00017F  0F81 003E                            B        s:14598,PREL

      264    14578    5                   CASE(%GI_BOOT_NSHUF);

      265    14579    5                   CASE(%GI_BOOT_NODES);

      266    14580    5                      KL$CONTROL.VALUE = G$BOBCAT.NODES;

  14580   1 000181  CC80 0000 0000  xsym                 LDB,B4   G$BOBCAT$
          1 000184  D844 0015                            LDR,R5   21,B4
          1 000186  DF45 0014                            STR,R5   20,B5
          1 000188  0F81 0035                            B        s:14598,PREL

      267    14581    5                   CASE(%GI_BOOT_LINKS);

      268    14582    5                      KL$CONTROL.VALUE = G$BOBCAT.LINKS;

PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:46   
  14582   1 00018A  CC80 0000 0000  xsym                 LDB,B4   G$BOBCAT$
          1 00018D  D844 0016                            LDR,R5   22,B4
          1 00018F  DF45 0014                            STR,R5   20,B5
          1 000191  0F81 002C                            B        s:14598,PREL

      269    14583    5                   CASE(%GI_BOOT_DEVICES);

      270    14584    5                      KL$CONTROL.VALUE = G$BOBCAT.DEVICES;

  14584   1 000193  CC80 0000 0000  xsym                 LDB,B4   G$BOBCAT$
          1 000196  D844 0017                            LDR,R5   23,B4
          1 000198  DF45 0014                            STR,R5   20,B5
          1 00019A  0F81 0023                            B        s:14598,PREL

      271    14585    5                   CASE(%GI_BOOT_ACCTS  );

      272    14586    5                      KL$CONTROL.VALUE = G$BOBCAT.ACCT_RES#;

  14586   1 00019C  CC80 0000 0000  xsym                 LDB,B4   G$BOBCAT$
          1 00019F  D844 000E                            LDR,R5   14,B4
          1 0001A1  DF45 0014                            STR,R5   20,B5
          1 0001A3  0F81 001A                            B        s:14598,PREL

      273    14587    5                   CASE(%GI_BOOT_PCHANS );

      274    14588    5                   CASE(%GI_BOOT_OSIROUTE);

      275    14589    5                      KL$CONTROL.VALUE = G$BOBCAT.OSIROUTE#;

  14589   1 0001A5  CC80 0000 0000  xsym                 LDB,B4   G$BOBCAT$
          1 0001A8  D844 0062                            LDR,R5   98,B4
          1 0001AA  DF45 0014                            STR,R5   20,B5
          1 0001AC  0F81 0011                            B        s:14598,PREL

      276    14590    5                   CASE(%GI_BOOT_DPS8000FLG);

      277    14591    5                      KL$CONTROL.VALUE = G$BOBCAT.DPS8000FLG;
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:47   

  14591   1 0001AE  CC80 0000 0000  xsym                 LDB,B4   G$BOBCAT$
          1 0001B1  D844 0067                            LDR,R5   103,B4
          1 0001B3  DF45 0014                            STR,R5   20,B5

      278    14592    5                      END;                 /* case parmx */

  14592   1 0001B5  0F81 0008                            B        s:14598,PREL

      279    14593    4                   ELSE
      280    14594    4                       KL$CONTROL.VALUE = G_CNTRL_TBL.PTR$(KL$CONTROL.PARMX)->ONEWORD;

  14594   1 0001B7  B856                                 LDR,R3   R6
          1 0001B8  CCB0 0000 0002  xsym                 LDB,B4   G_CNTRL_TBL+2,R3
          1 0001BB  D804                                 LDR,R5   ,B4
          1 0001BC  DF45 0014                            STR,R5   20,B5

      281    14595    4                   END;                    /* DO CASE(CMD) */

      282    14596    3                END;                       /* ELSE */

      283    14597
      284    14598    2           CALL KNB$WRITE(ADDR(KL$CONTROL),SIZEC(KL$CONTROL))

  14598   1 0001BE  DCC6 0005                            LDB,B5   5,B6
          1 0001C0  DFC7 000A                            STB,B5   UTS+3,AUTO
          1 0001C2  CBF0 002C                            LAB,B4   44,IMO
          1 0001C4  CFC7 000E                            STB,B4   UTS+7,AUTO
          1 0001C6  BBC7 000A                            LAB,B3   UTS+3,AUTO
          1 0001C8  BFC7 000C                            STB,B3   UTS+5,AUTO
          1 0001CA  BBC7 000C                            LAB,B3   UTS+5,AUTO
          1 0001CC  CBF0 0200                            LAB,B4   512,IMO
          1 0001CE  E380 0000 0000  xent                 LNJ,B6   KNB$WRITE
          1 0001D1       0003                            DC       s:14601,PREL
          1 0001D2  0F81 0001                            B        s:14601,PREL

      285    14599    3           WHENALTRETURN DO;
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:48   

      286    14600                         /*N* WHAT DO WE DO??????? */
      287    14601    3                END;

  14601   1 0001D4  0F81 02AE                            B        s:14809,PREL

      288    14602
      289    14603
      290    14604    2        CASE (IGA_LINE_ACQUIRE);

      291    14605
      292    14606
      293    14607                %LOCK (G=KNB_LOCK);

  14612   1 0001D6  BB80 0000 0002  02                   LAB,B3   +2
          1 0001D9  CBF0 0100                            LAB,B4   256,IMO
          1 0001DB  E380 0000 0000  xent                 LNJ,B6   GHH$LOCK
          1 0001DE       0001                            DC       s:14614,PREL

      294    14614    2           IF KN_BUSY

  14614   1 0001DF  8980 0000 0000  xsym                 CMZ      KN_BUSY
          1 0001E2  0881 0012                            BAGE     s:14626,PREL

      295    14615    3           THEN DO;

      296    14616    3                KN$NETPARM.ERRCODE= %KN_ERR_NOQ;

  14616   1 0001E4  ECC7 0004                            LDB,B6   @KN$NETPARM,AUTO
          1 0001E6  6C01                                 LDV,R6   1
          1 0001E7  EF46 0016                            STR,R6   22,B6

      297    14617                     %UNLOCK (G=KNB_LOCK);

  14622   1 0001E9  BB80 0000 0002  02                   LAB,B3   +2
          1 0001EC  CBF0 0100                            LAB,B4   256,IMO
          1 0001EE  E380 0000 0000  xent                 LNJ,B6   GHH$UNLOCK
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:49   
          1 0001F1       0001                            DC       s:14624,PREL

      298    14624    3                ALTRETURN;

  14624   1 0001F2  C380 0000 0000  xent                 LNJ,B4   X6A_AALT

      299    14625    3                END;
      300    14626    2           KN_BUSY = '1'B;

  14626   1 0001F5  8900 0000 0000  xsym                 LBT,'8000'X       KN_BUSY
  14626   1 0001F8       8000

      301    14627                %UNLOCK (G=KNB_LOCK);

  14632   1 0001F9  BB80 0000 0002  02                   LAB,B3   +2
          1 0001FC  CBF0 0100                            LAB,B4   256,IMO
          1 0001FE  E380 0000 0000  xent                 LNJ,B6   GHH$UNLOCK
          1 000201       0001                            DC       s:14634,PREL

      302    14634    2           KN_BUFFER$->KL$ACQUIRE=KN$NETPARM.UHDR$->KL$ACQUIRE;

  14634   1 000202  ECC7 0004                            LDB,B6   @KN$NETPARM,AUTO
          1 000204  DCC6 0005                            LDB,B5   5,B6
          1 000206  AB85                                 LAB,B2   ,B5
          1 000207  2C00                                 LDV,R2   0
          1 000208  6C18                                 LDV,R6   24
          1 000209  BC80 0000 0000  xsym                 LDB,B3   KN_BUFFER$
          1 00020C  3C00                                 LDV,R3   0
          1 00020D  0008                                 MMM

      303    14635    2           CALL GHS$RUE(%GH_EVUQA,KN$NETPARM.UHDR$->KL$ACQUIRE.USER#)

  14635   1 00020E  CCC6 0005                            LDB,B4   5,B6
          1 000210  BBF0 000E                            LAB,B3   14,IMO
          1 000212  9BC4 000B                            LAB,B1   11,B4
          1 000214  9FC7 000C                            STB,B1   UTS+5,AUTO
          1 000216  BFC7 000A                            STB,B3   UTS+3,AUTO
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:50   
          1 000218  BBC7 000A                            LAB,B3   UTS+3,AUTO
          1 00021A  CBF0 0200                            LAB,B4   512,IMO
          1 00021C  E380 0000 0000  xent                 LNJ,B6   GHS$RUE
          1 00021F       0003                            DC       s:14637,PREL
          1 000220  0F81 0001                            B        s:14637,PREL

      304    14636    3           WHENALTRETURN DO;

      305    14637    3                END;

  14637   1 000222  0F81 0260                            B        s:14809,PREL

      306    14638
      307    14639
      308    14640    2        CASE (IGA_LINE_RELEASE);

      309    14641
      310    14642
      311    14643                %LOCK (G=KNB_LOCK);

  14648   1 000224  BB80 0000 0002  02                   LAB,B3   +2
          1 000227  CBF0 0100                            LAB,B4   256,IMO
          1 000229  E380 0000 0000  xent                 LNJ,B6   GHH$LOCK
          1 00022C       0001                            DC       s:14650,PREL

      312    14650    2           IF KN_BUSY

  14650   1 00022D  8980 0000 0000  xsym                 CMZ      KN_BUSY
          1 000230  0881 0012                            BAGE     s:14662,PREL

      313    14651    3           THEN DO;

      314    14652    3                KN$NETPARM.ERRCODE= %KN_ERR_NOQ;

  14652   1 000232  ECC7 0004                            LDB,B6   @KN$NETPARM,AUTO
          1 000234  6C01                                 LDV,R6   1
          1 000235  EF46 0016                            STR,R6   22,B6
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:51   

      315    14653                     %UNLOCK (G=KNB_LOCK);

  14658   1 000237  BB80 0000 0002  02                   LAB,B3   +2
          1 00023A  CBF0 0100                            LAB,B4   256,IMO
          1 00023C  E380 0000 0000  xent                 LNJ,B6   GHH$UNLOCK
          1 00023F       0001                            DC       s:14660,PREL

      316    14660    3                ALTRETURN;

  14660   1 000240  C380 0000 0000  xent                 LNJ,B4   X6A_AALT

      317    14661    3                END;
      318    14662    2           KN_BUSY = '1'B;

  14662   1 000243  8900 0000 0000  xsym                 LBT,'8000'X       KN_BUSY
  14662   1 000246       8000

      319    14663                %UNLOCK (G=KNB_LOCK);

  14668   1 000247  BB80 0000 0002  02                   LAB,B3   +2
          1 00024A  CBF0 0100                            LAB,B4   256,IMO
          1 00024C  E380 0000 0000  xent                 LNJ,B6   GHH$UNLOCK
          1 00024F       0001                            DC       s:14670,PREL

      320    14670    2           KN_BUFFER$->KL$RELEASE=KN$NETPARM.UHDR$->KL$RELEASE;

  14670   1 000250  ECC7 0004                            LDB,B6   @KN$NETPARM,AUTO
          1 000252  DCC6 0005                            LDB,B5   5,B6
          1 000254  AB85                                 LAB,B2   ,B5
          1 000255  2C00                                 LDV,R2   0
          1 000256  6C0C                                 LDV,R6   12
          1 000257  BC80 0000 0000  xsym                 LDB,B3   KN_BUFFER$
          1 00025A  3C00                                 LDV,R3   0
          1 00025B  0008                                 MMM

      321    14671    2           CALL GHS$RUE(%GH_EVUQA,KN$NETPARM.UHDR$->KL$RELEASE.USER#)
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:52   

  14671   1 00025C  CCC6 0005                            LDB,B4   5,B6
          1 00025E  BBF0 000E                            LAB,B3   14,IMO
          1 000260  9BC4 0003                            LAB,B1   3,B4
          1 000262  9FC7 000C                            STB,B1   UTS+5,AUTO
          1 000264  BFC7 000A                            STB,B3   UTS+3,AUTO
          1 000266  BBC7 000A                            LAB,B3   UTS+3,AUTO
          1 000268  CBF0 0200                            LAB,B4   512,IMO
          1 00026A  E380 0000 0000  xent                 LNJ,B6   GHS$RUE
          1 00026D       0003                            DC       s:14673,PREL
          1 00026E  0F81 0001                            B        s:14673,PREL

      322    14672    3           WHENALTRETURN DO;

      323    14673    3                END;

  14673   1 000270  0F81 0212                            B        s:14809,PREL

      324    14674
      325    14675
      326    14676
      327    14677    2        CASE (IGA_SGNRSP);

      328    14678                %LOCK (G=KNB_LOCK);

  14683   1 000272  BB80 0000 0002  02                   LAB,B3   +2
          1 000275  CBF0 0100                            LAB,B4   256,IMO
          1 000277  E380 0000 0000  xent                 LNJ,B6   GHH$LOCK
          1 00027A       0001                            DC       s:14685,PREL

      329    14685    2           IF KN_BUSY

  14685   1 00027B  8980 0000 0000  xsym                 CMZ      KN_BUSY
          1 00027E  0881 0012                            BAGE     s:14697,PREL

      330    14686    3           THEN DO;

PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:53   
      331    14687                     %UNLOCK (G=KNB_LOCK);

  14692   1 000280  BB80 0000 0002  02                   LAB,B3   +2
          1 000283  CBF0 0100                            LAB,B4   256,IMO
          1 000285  E380 0000 0000  xent                 LNJ,B6   GHH$UNLOCK
          1 000288       0001                            DC       s:14694,PREL

      332    14694    3                KN$NETPARM.ERRCODE= %KN_ERR_NOQ;

  14694   1 000289  ECC7 0004                            LDB,B6   @KN$NETPARM,AUTO
          1 00028B  6C01                                 LDV,R6   1
          1 00028C  EF46 0016                            STR,R6   22,B6

      333    14695    3                ALTRETURN;

  14695   1 00028E  C380 0000 0000  xent                 LNJ,B4   X6A_AALT

      334    14696    3                END;
      335    14697    2           KN_BUSY = '1'B;

  14697   1 000291  8900 0000 0000  xsym                 LBT,'8000'X       KN_BUSY
  14697   1 000294       8000

      336    14698                %UNLOCK (G=KNB_LOCK);

  14703   1 000295  BB80 0000 0002  02                   LAB,B3   +2
          1 000298  CBF0 0100                            LAB,B4   256,IMO
          1 00029A  E380 0000 0000  xent                 LNJ,B6   GHH$UNLOCK
          1 00029D       0001                            DC       s:14706,PREL

      337    14705
      338    14706    2           KN_BUFFER = KN$NETPARM.UHDR$->MSG;

  14706   1 00029E  ECC7 0004                            LDB,B6   @KN$NETPARM,AUTO
          1 0002A0  DCC6 0005                            LDB,B5   5,B6
          1 0002A2  E846 0007                            LDR,R6   7,B6
          1 0002A4  EF47 000A                            STR,R6   UTS+3,AUTO
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:54   
          1 0002A6  DFC7 000B                            STB,B5   UTS+4,AUTO
          1 0002A8  AB85                                 LAB,B2   ,B5
          1 0002A9  2C00                                 LDV,R2   0
          1 0002AA  BB80 0000 0000  xsym                 LAB,B3   KN_BUFFER
          1 0002AD  3C00                                 LDV,R3   0
          1 0002AE  F870 00C8                            LDR,R7   200,IMO
          1 0002B0  D380 0000 0000  xent                 LNJ,B5   X6C_ALR

      339    14707    2           I = KL$SGNRSP.NMID;

  14707   1 0002B3  EC80 0000 0000  xsym                 LDB,B6   KN_BUFFER$
          1 0002B6  E846 0002                            LDR,R6   2,B6
          1 0002B8  EF47 0006                            STR,R6   I,AUTO

      340    14708    2           CALL GHS$RUE(%GH_EVUQA,I);

  14708   1 0002BA  DBF0 000E                            LAB,B5   14,IMO
          1 0002BC  CBC7 0006                            LAB,B4   I,AUTO
          1 0002BE  CFC7 000C                            STB,B4   UTS+5,AUTO
          1 0002C0  DFC7 000A                            STB,B5   UTS+3,AUTO
          1 0002C2  BBC7 000A                            LAB,B3   UTS+3,AUTO
          1 0002C4  CBF0 0200                            LAB,B4   512,IMO
          1 0002C6  E380 0000 0000  xent                 LNJ,B6   GHS$RUE
          1 0002C9       0001                            DC       s:14708+16,PREL
          1 0002CA  0F81 01B8                            B        s:14809,PREL

      341    14709
      342    14710
      343    14711    2        CASE (IGA_NODECHG);

      344    14712    2           KN$NETPARM.FPT$ = ADDR(KL$NODECHG);

  14712   1 0002CC  DFC6 0019                            STB,B5   25,B6

      345    14713    2           CALL KNN$NODECHG(KN$NETPARM)

  14713   1 0002CE  BBC7 0004                            LAB,B3   @KN$NETPARM,AUTO
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:55   
          1 0002D0  CBF0 0100                            LAB,B4   256,IMO
          1 0002D2  E380 0000 0000  xent                 LNJ,B6   KNN$NODECHG
          1 0002D5       0003                            DC       s:14715,PREL
          1 0002D6  0F81 000D                            B        s:14716+3,PREL

      346    14714    3           WHENALTRETURN DO;

      347    14715    3                CALL SCREECH(SCR_NODECHG);

  14715   1 0002D8  BB80 0000 0004  02                   LAB,B3   +4
          1 0002DB  CBF0 0100                            LAB,B4   256,IMO
          1 0002DD  E380 0000 0000  xent                 LNJ,B6   SCREECH
          1 0002E0       0001                            DC       s:14716,PREL

      348    14716    3                ALTRETURN;

  14716   1 0002E1  C380 0000 0000  xent                 LNJ,B4   X6A_AALT
          1 0002E4  0F81 019E                            B        s:14809,PREL

      349    14717    3                END;
      350    14718    2        CASE(IGA_UPDOSI,IGA_DELOSI);

      351    14719    2           KN$NETPARM.FPT$ = ADDR(KL$UPDOSI);

  14719   1 0002E6  DFC6 0019                            STB,B5   25,B6

      352    14720    3           CALL KNN$OSICHG(KN$NETPARM) WHENALTRETURN DO;

  14720   1 0002E8  BBC7 0004                            LAB,B3   @KN$NETPARM,AUTO
          1 0002EA  CBF0 0100                            LAB,B4   256,IMO
          1 0002EC  E380 0000 0000  xent                 LNJ,B6   KNN$OSICHG
          1 0002EF       0003                            DC       s:14721,PREL
          1 0002F0  0F81 000A                            B        s:14722,PREL

      353    14721    3                CALL SCREECH(SCR_NODECHG); /* this is just to catch errors */

  14721   1 0002F2  BB80 0000 0004  02                   LAB,B3   +4
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:56   
          1 0002F5  CBF0 0100                            LAB,B4   256,IMO
          1 0002F7  E380 0000 0000  xent                 LNJ,B6   SCREECH
          1 0002FA       0001                            DC       s:14722,PREL

      354    14722    3                END;

  14722   1 0002FB  0F81 0187                            B        s:14809,PREL

      355    14723
      356    14724    2        CASE(IGA_OSILINKCHG);

      357    14725    2           KN$NETPARM.FPT$ = ADDR(KL$OSILINKCHG);

  14725   1 0002FD  DFC6 0019                            STB,B5   25,B6

      358    14726    3           CALL KNN$OSILINKCHG(KN$NETPARM) WHENALTRETURN DO;

  14726   1 0002FF  BBC7 0004                            LAB,B3   @KN$NETPARM,AUTO
          1 000301  CBF0 0100                            LAB,B4   256,IMO
          1 000303  E380 0000 0000  xent                 LNJ,B6   KNN$OSILINKCHG
          1 000306       0003                            DC       s:14727,PREL
          1 000307  0F81 000A                            B        s:14728,PREL

      359    14727    3                CALL SCREECH(SCR_NODECHG);

  14727   1 000309  BB80 0000 0004  02                   LAB,B3   +4
          1 00030C  CBF0 0100                            LAB,B4   256,IMO
          1 00030E  E380 0000 0000  xent                 LNJ,B6   SCREECH
          1 000311       0001                            DC       s:14728,PREL

      360    14728    3                END;

  14728   1 000312  0F81 0170                            B        s:14809,PREL

      361    14729
      362    14730
      363    14731    2        CASE (IGA_TIME);
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:57   

      364    14732    2           UTS = KL$TIME.UTS;

  14732   1 000314  5C04                                 LDV,R5   4
          1 000315  0021                                 ALR      ;
          1 000316       C405 0000                                ALPHANUM(0,B5,1,4),;
          1 000318       4007 000A                                ALPHANUM(UTS+3,AUTO,,R5,FILL)
          1 00031A  437F                                 CSYNC    s:14732+5,SPREL
          1 00031B  8CC7 000A                            LDI      UTS+3,AUTO
          1 00031D  8D47 0007                            SDI      UTS,AUTO

      365    14733    2           CALL GUS$SETTIME(UTS);

  14733   1 00031F  DBC7 0007                            LAB,B5   UTS,AUTO
          1 000321  DFC7 000A                            STB,B5   UTS+3,AUTO
          1 000323  BBC7 000A                            LAB,B3   UTS+3,AUTO
          1 000325  CBF0 0100                            LAB,B4   256,IMO
          1 000327  E380 0000 0000  xent                 LNJ,B6   GUS$SETTIME
          1 00032A       0001                            DC       s:14733+12,PREL
          1 00032B  0F81 0157                            B        s:14809,PREL

      366    14734
      367    14735    2        CASE (ELSE);

      368    14736    2           CALL SCREECH(SCR_UNEXP);

  14736   1 00032D  BB80 0000 0000  02                   LAB,B3   0
          1 000330  CBF0 0100                            LAB,B4   256,IMO
          1 000332  E380 0000 0000  xent                 LNJ,B6   SCREECH
          1 000335       0001                            DC       s:14736+9,PREL
          1 000336  0F81 014C                            B        s:14809,PREL

      369    14737
      370    14738    2        CASE (IGA_REQSTATS);

      371    14739    2           PS_LCP6STT.REQSTATS.FEPNAME = KL$REQSTATS.FEPNAME;

PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:58   
  14739   1 000338  AB85                                 LAB,B2   ,B5
          1 000339  2C10                                 LDV,R2   16
          1 00033A  6C08                                 LDV,R6   8
          1 00033B  BB80 0000 0000  xsym                 LAB,B3   PS_LCP6STT
          1 00033E  3C10                                 LDV,R3   16
          1 00033F  0008                                 MMM

      372    14740    2           PS_LCP6STT.REQSTATS.HANDLER = KL$REQSTATS.HANDLER;

  14740   1 000340  CCC6 0005                            LDB,B4   5,B6
          1 000342  AB84                                 LAB,B2   ,B4
          1 000343  2C18                                 LDV,R2   24
          1 000344  6C08                                 LDV,R6   8
          1 000345  BB80 0000 0000  xsym                 LAB,B3   PS_LCP6STT
          1 000348  3C18                                 LDV,R3   24
          1 000349  0008                                 MMM

      373    14741    2           PS_LCP6STT.REQSTATS.NODE_NUM = KL$REQSTATS.NODE_NUM;

  14741   1 00034A  BCC6 0005                            LDB,B3   5,B6
          1 00034C  E803                                 LDR,R6   ,B3
          1 00034D  EA80 0000 0000  xsym                 SRM,R6,'00FF'X    PS_LCP6STT
          1 000350       00FF

      374    14742    2           PS_LCP6STT.REQSTATS.STATSSTA = KL$REQSTATS.STATSSTA;

  14742   1 000351  AB83                                 LAB,B2   ,B3
          1 000352  2C08                                 LDV,R2   8
          1 000353  6C08                                 LDV,R6   8
          1 000354  BB80 0000 0000  xsym                 LAB,B3   PS_LCP6STT
          1 000357  3C08                                 LDV,R3   8
          1 000358  0008                                 MMM

      375    14743    2           PS_LCP6STT.REQSTATS.SRCE_NODE = KL$REQSTATS.SRCE_NODE;

  14743   1 000359  BCC6 0005                            LDB,B3   5,B6
          1 00035B  E2C3 0001                            LLH,R6   1,B3
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:59   
          1 00035D  E780 0000 0001  xsym                 STH,R6   PS_LCP6STT+1

      376    14744    2           PS_LCP6STT.PAGES_FRESHF = GM_SHUF;

  14744   1 000360  F800 0000 0000  xsym                 LDR,R7   GM_SHUF
          1 000363  6C00                                 LDV,R6   0
          1 000364  8D00 0000 003C  xsym                 SDI      PS_LCP6STT+60

      377    14745    2           PS_LCP6STT.PAGES_FRENONSHF = GM_NSHF;

  14745   1 000367  F800 0000 0000  xsym                 LDR,R7   GM_NSHF
          1 00036A  6C00                                 LDV,R6   0
          1 00036B  8D00 0000 003E  xsym                 SDI      PS_LCP6STT+62

      378    14746    2           PS_LCP6STT.PAGES_TOTNONSHF = GM_NSHF_CURR;

  14746   1 00036E  F800 0000 0000  xsym                 LDR,R7   GM_NSHF_CURR
          1 000371  6C00                                 LDV,R6   0
          1 000372  8D00 0000 003A  xsym                 SDI      PS_LCP6STT+58

      379    14747    2           PS_LCP6STT.PAGES_AVLSHF = GM_ASHUF;

  14747   1 000375  F800 0000 0000  xsym                 LDR,R7   GM_ASHUF
          1 000378  6C00                                 LDV,R6   0
          1 000379  8D00 0000 0040  xsym                 SDI      PS_LCP6STT+64

      380    14748    2           PS_LCP6STT.PAGES_TOTSHF = GM_SHUF_HI - GM_MEM_LOW + 1;

  14748   1 00037C  D800 0000 0000  xsym                 LDR,R5   GM_SHUF_HI
          1 00037F  D200 0000 0000  xsym                 SUB,R5   GM_MEM_LOW
          1 000382  E855                                 LDR,R6   R5
          1 000383  70F0                                 DAR,R7   16
          1 000384  8470 0000 0001                       AID      1,IMO
          1 000387  8D00 0000 0038  xsym                 SDI      PS_LCP6STT+56

      381    14749    2           PS_LCP6STT.PAGES_TOTAL = GM_MEM_HI + 1;

PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:60   
  14749   1 00038A  F800 0000 0000  xsym                 LDR,R7   GM_MEM_HI
          1 00038D  6C00                                 LDV,R6   0
          1 00038E  8470 0000 0001                       AID      1,IMO
          1 000391  8D00 0000 004C  xsym                 SDI      PS_LCP6STT+76

      382    14750    2           PS_LCP6STT.PAGES_MONITOR = GM_MEM_LOW;

  14750   1 000394  F800 0000 0000  xsym                 LDR,R7   GM_MEM_LOW
          1 000397  6C00                                 LDV,R6   0
          1 000398  8D00 0000 004A  xsym                 SDI      PS_LCP6STT+74

      383    14751    2           PS_LCP6STT.PAGES_CG_FPRG = GFR_CUR_MEM(%G_M_CG#);

  14751   1 00039B  F800 0000 0002  xsym                 LDR,R7   GFR_CUR_MEM+2
          1 00039E  6C00                                 LDV,R6   0
          1 00039F  8D00 0000 0042  xsym                 SDI      PS_LCP6STT+66

      384    14752    2           PS_LCP6STT.PAGES_TS_FPRG = GFR_CUR_MEM(%G_M_USER#);

  14752   1 0003A2  F800 0000 0001  xsym                 LDR,R7   GFR_CUR_MEM+1
          1 0003A5  6C00                                 LDV,R6   0
          1 0003A6  8D00 0000 0044  xsym                 SDI      PS_LCP6STT+68

      385    14753    2           PS_LCP6STT.PAGES_GHOST = GFR_CUR_MEM(%G_M_GHOST#);

  14753   1 0003A9  F800 0000 0004  xsym                 LDR,R7   GFR_CUR_MEM+4
          1 0003AC  6C00                                 LDV,R6   0
          1 0003AD  8D00 0000 0048  xsym                 SDI      PS_LCP6STT+72

      386    14754    2           PS_LCP6STT.PAGES_HANDLER = GFR_CUR_MEM(%G_M_HANDLER#);

  14754   1 0003B0  F800 0000 0003  xsym                 LDR,R7   GFR_CUR_MEM+3
          1 0003B3  6C00                                 LDV,R6   0
          1 0003B4  8D00 0000 0046  xsym                 SDI      PS_LCP6STT+70

      387    14755    2           PS_LCP6STT.USERS_CG_FPRG = G_CUR_USRS(%G_M_CG#);

PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:61   
  14755   1 0003B7  F800 0000 0002  xsym                 LDR,R7   G_CUR_USRS+2
          1 0003BA  6C00                                 LDV,R6   0
          1 0003BB  8D00 0000 004E  xsym                 SDI      PS_LCP6STT+78

      388    14756    2           PS_LCP6STT.USERS_TS_FPRG = G_CUR_USRS(%G_M_USER#);

  14756   1 0003BE  F800 0000 0001  xsym                 LDR,R7   G_CUR_USRS+1
          1 0003C1  6C00                                 LDV,R6   0
          1 0003C2  8D00 0000 0050  xsym                 SDI      PS_LCP6STT+80

      389    14757    2           PS_LCP6STT.USERS_GHOST = G_CUR_USRS(%G_M_GHOST#);

  14757   1 0003C5  F800 0000 0004  xsym                 LDR,R7   G_CUR_USRS+4
          1 0003C8  6C00                                 LDV,R6   0
          1 0003C9  8D00 0000 0054  xsym                 SDI      PS_LCP6STT+84

      390    14758    2           PS_LCP6STT.USERS_HANDLER = G_CUR_USRS(%G_M_HANDLER#);

  14758   1 0003CC  F800 0000 0003  xsym                 LDR,R7   G_CUR_USRS+3
          1 0003CF  6C00                                 LDV,R6   0
          1 0003D0  8D00 0000 0052  xsym                 SDI      PS_LCP6STT+82

      391    14759    2           PS_LCP6STT.CURR_USERS = G_CUR_USRS(0);

  14759   1 0003D3  F800 0000 0000  xsym                 LDR,R7   G_CUR_USRS
          1 0003D6  6C00                                 LDV,R6   0
          1 0003D7  8D00 0000 0076  xsym                 SDI      PS_LCP6STT+118

      392    14760    2           PS_LCP6STT.PEAK_LDCT = KN_LDCT_PEAK#;

  14760   1 0003DA  F800 0000 0000  xsym                 LDR,R7   KN_LDCT_PEAK#
          1 0003DD  6C00                                 LDV,R6   0
          1 0003DE  8D00 0000 0082  xsym                 SDI      PS_LCP6STT+130

      393    14761    2           PS_LCP6STT.PEAK_IOP  = KN_IOP_PEAK#;

  14761   1 0003E1  F800 0000 0000  xsym                 LDR,R7   KN_IOP_PEAK#
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:62   
          1 0003E4  6C00                                 LDV,R6   0
          1 0003E5  8D00 0000 0084  xsym                 SDI      PS_LCP6STT+132

      394    14762    2           PS_LCP6STT.PEAK_SSN  = KN_SSN_PEAK#;

  14762   1 0003E8  F800 0000 0000  xsym                 LDR,R7   KN_SSN_PEAK#
          1 0003EB  6C00                                 LDV,R6   0
          1 0003EC  8D00 0000 0080  xsym                 SDI      PS_LCP6STT+128

      395    14763    2           PS_LCP6STT.CURR_LDCT = KN_LDCT_USE#;

  14763   1 0003EF  F800 0000 0000  xsym                 LDR,R7   KN_LDCT_USE#
          1 0003F2  6C00                                 LDV,R6   0
          1 0003F3  8D00 0000 007A  xsym                 SDI      PS_LCP6STT+122

      396    14764    2           PS_LCP6STT.CURR_IOP  = KN_IOP_USE#;

  14764   1 0003F6  F800 0000 0000  xsym                 LDR,R7   KN_IOP_USE#
          1 0003F9  6C00                                 LDV,R6   0
          1 0003FA  8D00 0000 007C  xsym                 SDI      PS_LCP6STT+124

      397    14765    2           PS_LCP6STT.CURR_SSN  = KN_SSN_USE#;

  14765   1 0003FD  F800 0000 0000  xsym                 LDR,R7   KN_SSN_USE#
          1 000400  6C00                                 LDV,R6   0
          1 000401  8D00 0000 0078  xsym                 SDI      PS_LCP6STT+120

      398    14766    2           CALL GHI$UTS(PS_LCP6STT.CURR_UTS);

  14766   1 000404  BB80 0000 0006  02                   LAB,B3   +6
          1 000407  CBF0 0100                            LAB,B4   256,IMO
          1 000409  E380 0000 0000  xent                 LNJ,B6   GHI$UTS
          1 00040C       0001                            DC       s:14767,PREL

      399    14767    2           CALL KNB$WRITE (ADDR(PS_LCP6STT),SIZEC(PS_LCP6STT))

  14767   1 00040D  EB80 0000 0000  xsym                 LAB,B6   PS_LCP6STT
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:63   
          1 000410  EFC7 000A                            STB,B6   UTS+3,AUTO
          1 000412  DBF0 0114                            LAB,B5   276,IMO
          1 000414  DFC7 000E                            STB,B5   UTS+7,AUTO
          1 000416  CBC7 000A                            LAB,B4   UTS+3,AUTO
          1 000418  CFC7 000C                            STB,B4   UTS+5,AUTO
          1 00041A  BBC7 000C                            LAB,B3   UTS+5,AUTO
          1 00041C  CBF0 0200                            LAB,B4   512,IMO
          1 00041E  E380 0000 0000  xent                 LNJ,B6   KNB$WRITE
          1 000421       0003                            DC       s:14769,PREL
          1 000422  0F81 0004                            B        s:14769+3,PREL

      400    14768    3           WHENALTRETURN DO;

      401    14769    3                ALTRETURN;

  14769   1 000424  C380 0000 0000  xent                 LNJ,B4   X6A_AALT
          1 000427  0F81 005B                            B        s:14809,PREL

      402    14770    3                END;
      403    14771
      404    14772    2        CASE (IGA_ERRMSG_RSP);

      405    14773                %LOCK (G=KNB_LOCK);

  14778   1 000429  BB80 0000 0002  02                   LAB,B3   +2
          1 00042C  CBF0 0100                            LAB,B4   256,IMO
          1 00042E  E380 0000 0000  xent                 LNJ,B6   GHH$LOCK
          1 000431       0001                            DC       s:14780,PREL

      406    14780    2           IF KN_BUSY

  14780   1 000432  8980 0000 0000  xsym                 CMZ      KN_BUSY
          1 000435  0881 0012                            BAGE     s:14792,PREL

      407    14781    3           THEN DO;

      408    14782                     %UNLOCK (G=KNB_LOCK);
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:64   

  14787   1 000437  BB80 0000 0002  02                   LAB,B3   +2
          1 00043A  CBF0 0100                            LAB,B4   256,IMO
          1 00043C  E380 0000 0000  xent                 LNJ,B6   GHH$UNLOCK
          1 00043F       0001                            DC       s:14789,PREL

      409    14789    3                KN$NETPARM.ERRCODE= %KN_ERR_NOQ;

  14789   1 000440  ECC7 0004                            LDB,B6   @KN$NETPARM,AUTO
          1 000442  6C01                                 LDV,R6   1
          1 000443  EF46 0016                            STR,R6   22,B6

      410    14790    3                ALTRETURN;

  14790   1 000445  C380 0000 0000  xent                 LNJ,B4   X6A_AALT

      411    14791    3                END;
      412    14792    2           KN_BUSY = '1'B;

  14792   1 000448  8900 0000 0000  xsym                 LBT,'8000'X       KN_BUSY
  14792   1 00044B       8000

      413    14793                %UNLOCK (G=KNB_LOCK);

  14798   1 00044C  BB80 0000 0002  02                   LAB,B3   +2
          1 00044F  CBF0 0100                            LAB,B4   256,IMO
          1 000451  E380 0000 0000  xent                 LNJ,B6   GHH$UNLOCK
          1 000454       0001                            DC       s:14801,PREL

      414    14800
      415    14801    2           KN_BUFFER = KN$NETPARM.UHDR$->MSG;

  14801   1 000455  ECC7 0004                            LDB,B6   @KN$NETPARM,AUTO
          1 000457  DCC6 0005                            LDB,B5   5,B6
          1 000459  E846 0007                            LDR,R6   7,B6
          1 00045B  EF47 000A                            STR,R6   UTS+3,AUTO
          1 00045D  DFC7 000B                            STB,B5   UTS+4,AUTO
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:65   
          1 00045F  AB85                                 LAB,B2   ,B5
          1 000460  2C00                                 LDV,R2   0
          1 000461  BB80 0000 0000  xsym                 LAB,B3   KN_BUFFER
          1 000464  3C00                                 LDV,R3   0
          1 000465  F870 00C8                            LDR,R7   200,IMO
          1 000467  D380 0000 0000  xent                 LNJ,B5   X6C_ALR

      416    14802    2           I = KN$NETPARM.UHDR$->KL$ERRMSG_RSP.USR#;

  14802   1 00046A  ECC7 0004                            LDB,B6   @KN$NETPARM,AUTO
          1 00046C  DCC6 0005                            LDB,B5   5,B6
          1 00046E  E805                                 LDR,R6   ,B5
          1 00046F  E570 00FF                            AND,R6   255,IMO
          1 000471  EF47 0006                            STR,R6   I,AUTO

      417    14803    2           CALL GHS$RUE(%GH_EVUQA,I);

  14803   1 000473  DBF0 000E                            LAB,B5   14,IMO
          1 000475  CBC7 0006                            LAB,B4   I,AUTO
          1 000477  CFC7 000C                            STB,B4   UTS+5,AUTO
          1 000479  DFC7 000A                            STB,B5   UTS+3,AUTO
          1 00047B  BBC7 000A                            LAB,B3   UTS+3,AUTO
          1 00047D  CBF0 0200                            LAB,B4   512,IMO
          1 00047F  E380 0000 0000  xent                 LNJ,B6   GHS$RUE
          1 000482       0001                            DC       s:14809,PREL

      418    14804
      419    14805
      420    14806
      421    14807    2           END;                            /* End cases */

      422    14808
      423    14809    1        RETURN;

  14809   1 000483  C380 0000 0000  xent                 LNJ,B4   X6A_ARET
      424    14810
      425    14811    1   END KNB$ACTION;
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:66   
      426    14812        %EOD;

PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:67   
--  Include file information  --

   G$BOBCAT_M.:E05TOU  is referenced.
   K_ADDRESS_M.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  is referenced.
   GT_LCP6_M.:E05TOU  is referenced.
   KI_CP6.:E05TOU  is referenced.
   GF_LCP6_M.:E05TOU  is referenced.
   GM_LCP6_M.:E05TOU  is referenced.
   GU_LCP6_M.:E05TOU  is referenced.
   GJ_LCP6_M.:E05TOU  is referenced.
   GH_LCP6_M.:E05TOU  is referenced.
   LCP_6.:E05TOU  cannot be made into a system file and is referenced.
   K_SCODE_C.:E05TOU  is referenced.
   K_ID_E.:E05TOU  is referenced.
   G_JIT_M.:E05TOU  is referenced.
   P_FEP_M.:E05TOU  is referenced.
   GH_GATE_M.:E05TOU  cannot be made into a system file and is referenced.
   GH_SCHD_E.:E05TOU  is referenced.
   G_CNTRL_M.:E05TOU  is referenced.
   GI_BOOT_C.:E05TOU  is referenced.
   KL_CONTROL_C.:E05TOU  is referenced.
   KL_AFCN_C.:E05TOU  is referenced.
   KL_MACRO_C.:E05TOU  is referenced.
   KNH_MACRO_C.:E05TOU  is referenced.
   KN_DATA_M.:E05TOU  is referenced.
      No diagnostics issued in procedure KNB$ACTION.
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:68   

 **** Variables and constants ****

  ****  Section 000 RoData KNB$ACTION

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w STRC(48)    r     1 SCR_NODECHG                0-0-0/w STRC(48)    r     1 SCR_UNEXP

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w PTR         r     1 @KN$NETPARM                6-0-0/w UBIN(16)    r     1 I
    *0-0-0/w STRC(528)   r     1 KN$NETPARM                 7-0-0/w UBIN(32)    r     1 UTS

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 G$BOBCAT$                  0-0-0/w PTR         r     1 G$CBUFFER$
     0-0-0/w UBIN(16)    r     1 GFR_CUR_MEM(0:4)
     0-0-0/w SBIN(16)    r     1 GJ_BOOT_HNDLRS             0-0-0/w UBIN(16)    r     1 GM_ASHUF
     0-0-0/w UBIN(16)    r     1 GM_MEM_HI                  0-0-0/w UBIN(16)    r     1 GM_MEM_LOW
     0-0-0/w UBIN(16)    r     1 GM_NSHF                    0-0-0/w UBIN(16)    r     1 GM_NSHF_CURR
     0-0-0/w UBIN(16)    r     1 GM_SHUF                    0-0-0/w UBIN(16)    r     1 GM_SHUF_HI
     0-0-0/w STRC(64)    r     1 G_CNTRL_TBL
     0-0-0/w UBIN(16)    r     1 G_CUR_USRS(0:4)
     0-0-0/w UBIN(16)    r     1 KJ_INTLVL_SCREECH          0-0-0/w STRC(48)    r     1 KNB_LOCK
     0-0-0/c CHAR(200)   r     1 KN_BUFFER                  0-0-0/w PTR         r     1 KN_BUFFER$
     0-0-0/b BIT         r     1 KN_BUSY                    0-0-0/w UBIN(16)    r     1 KN_IOP_PEAK#
     0-0-0/w UBIN(16)    r     1 KN_IOP_USE#                0-0-0/w UBIN(16)    r     1 KN_LDCT_PEAK#
     0-0-0/w UBIN(16)    r     1 KN_LDCT_USE#               0-0-0/w PTR         r     1 KN_NODEADMIN$
     0-0-0/w UBIN(16)    r     1 KN_SSN_PEAK#               0-0-0/w UBIN(16)    r     1 KN_SSN_USE#
     0-0-0/w STRC(2208)  r     1 PS_LCP6STT
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:69   

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w UBIN(32)    r     1 B$UBIN32                   0-0-0/w STRC(96)    r     1 FPT_CONNECT_ACK
     0-0-0/w STRC(1696)  r     1 G$BOBCAT                   0-0-0/w STRC(192)   r     1 KL$ACQUIRE
     0-0-0/w STRC(352)   r     1 KL$CONTROL                 0-0-0/w STRC(768)   r     1 KL$CONTROL_INIT
     0-0-0/w STRC(1024)  r     1 KL$ERRMSG_RSP              0-0-0/w STRC(16)    r     1 KL$MES
     0-0-0/w STRC(56)    r     1 KL$NODECHG                 0-0-0/w STRC(256)   r     1 KL$OSILINKCHG
     0-0-0/w STRC(96)    r     1 KL$RELEASE                 0-0-0/w STRC(320)   r     1 KL$REQSTATS
     0-0-0/w STRC(264)   r     1 KL$SGNRSP                  0-0-0/w STRC(40)    r     1 KL$TIME
     0-0-0/w STRC(480)   r     1 KL$UPDOSI                  0-0-0/c ACHR        r     1 MSG
     0-0-0/w UBIN(16)    r     1 ONEWORD


   Procedure KNB$ACTION requires 1158 words for executable code.
   Procedure KNB$ACTION requires 16 words of local(AUTO) storage.
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:70   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:71   
          MINI XREF LISTING

B$UBIN32
     13869**DCL     14573>>ASSIGN
FPT_CONNECT_ACK.REASON
     13819**DCL     14502>>IF
FPT_CONNECT_ACK.UID.UID
     13845**DCL     13845--REDEF   13845--REDEF
G$BOBCAT.ACCT_RES#
     13852**DCL     14586>>ASSIGN
G$BOBCAT.APESSN#
     13853**DCL     14569>>ASSIGN
G$BOBCAT.DEVICES
     13854**DCL     14584>>ASSIGN
G$BOBCAT.DPS8000FLG
     13861**DCL     14591>>ASSIGN
G$BOBCAT.HMI#
     13853**DCL     14567>>ASSIGN
G$BOBCAT.IOP#
     13853**DCL     14565>>ASSIGN
G$BOBCAT.LDCT#
     13853**DCL     14563>>ASSIGN
G$BOBCAT.LINKS
     13854**DCL     14582>>ASSIGN
G$BOBCAT.MUIS
     13852**DCL     14577>>ASSIGN
G$BOBCAT.NODES
     13854**DCL     14580>>ASSIGN
G$BOBCAT.OSIROUTE#
     13860**DCL     14589>>ASSIGN
G$BOBCAT.SFILE#
     13852**DCL     14575>>ASSIGN
G$BOBCAT.TCTX#
     13853**DCL     14571>>ASSIGN
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:72   
G$BOBCAT$
     14483**DCL     13851--IMP-PTR 14563>>ASSIGN  14565>>ASSIGN  14567>>ASSIGN  14569>>ASSIGN  14571>>ASSIGN
     14575>>ASSIGN  14577>>ASSIGN  14580>>ASSIGN  14582>>ASSIGN  14584>>ASSIGN  14586>>ASSIGN  14589>>ASSIGN
     14591>>ASSIGN
G$CBUFFER$
     14484**DCL     14573>>ASSIGN
GFR_CUR_MEM
     13878**DCL     14751>>ASSIGN  14752>>ASSIGN  14753>>ASSIGN  14754>>ASSIGN
GHE$TIME
     14489**DCL-ENT 14522--CALL
GHH$LOCK
      6231**DCL-ENT 14612--CALL    14648--CALL    14683--CALL    14778--CALL
GHH$UNLOCK
      6231**DCL-ENT 14622--CALL    14632--CALL    14658--CALL    14668--CALL    14692--CALL    14703--CALL
     14787--CALL    14798--CALL
GHI$UTS
     14490**DCL-ENT 14766--CALL
GHS$RUE
     14491**DCL-ENT 14635--CALL    14671--CALL    14708--CALL    14803--CALL
GJ_BOOT_HNDLRS
     13876**DCL     14521<<ASSIGN
GM_ASHUF
     13882**DCL     14747>>ASSIGN
GM_MEM_HI
     13881**DCL     14749>>ASSIGN
GM_MEM_LOW
     13880**DCL     14748>>ASSIGN  14750>>ASSIGN
GM_NSHF
     13886**DCL     14745>>ASSIGN
GM_NSHF_CURR
     13884**DCL     14746>>ASSIGN
GM_SHUF
     13883**DCL     14744>>ASSIGN
GM_SHUF_HI
     13885**DCL     14748>>ASSIGN
GUS$SETTIME
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:73   
     14492**DCL-ENT 14733--CALL
G_CNTRL_TBL.HI_DISP
     14417**DCL     14537>>IF      14537>>IF
G_CNTRL_TBL.HI_MODIFY
     14412**DCL     14550>>IF
G_CNTRL_TBL.PTR$
     14423**DCL     14528>>IF      14530>>ASSIGN  14537>>IF      14551>>ASSIGN  14594>>ASSIGN
G_CUR_USRS
     13879**DCL     14755>>ASSIGN  14756>>ASSIGN  14757>>ASSIGN  14758>>ASSIGN  14759>>ASSIGN
I
     13867**DCL     14527<<DOINDEX 14528>>IF      14530>>ASSIGN  14530>>ASSIGN  14707<<ASSIGN  14708<>CALL
     14802<<ASSIGN  14803<>CALL
KJ_INTLVL_SCREECH
     13877**DCL     14535<<ASSIGN
KL$ACQUIRE
     13103**DCL     14634<<ASSIGN  14634>>ASSIGN
KL$ACQUIRE.USER#
     13148**DCL     14635<>CALL
KL$CONTROL
     12546**DCL     14598--CALL    14598--CALL
KL$CONTROL.CMD
     12612**DCL     14547>>DOCASE
KL$CONTROL.PARMX
     12613**DCL     14537>>IF      14537>>IF      14537>>IF      14550>>IF      14551>>ASSIGN  14559>>IF
     14561>>DOCASE  14594>>ASSIGN
KL$CONTROL.TYPE
     12552**DCL     14541<<ASSIGN  14546<<ASSIGN  14554<<ASSIGN
KL$CONTROL.VALUE
     12615**DCL     14542<<ASSIGN  14551>>ASSIGN  14555<<ASSIGN  14563<<ASSIGN  14565<<ASSIGN  14567<<ASSIGN
     14569<<ASSIGN  14571<<ASSIGN  14573<<ASSIGN  14575<<ASSIGN  14577<<ASSIGN  14580<<ASSIGN  14582<<ASSIGN
     14584<<ASSIGN  14586<<ASSIGN  14589<<ASSIGN  14591<<ASSIGN  14594<<ASSIGN
KL$CONTROL_INIT.FPARAM
     12763**DCL     14530>>ASSIGN
KL$CONTROL_INIT.NUM_FPARAM
     12756**DCL     14527>>DOINDEX
KL$CONTROL_INIT.TYPE
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:74   
     12691**DCL     14525>>IF
KL$ERRMSG_RSP.USR#
     13231**DCL     14802>>ASSIGN
KL$MES.CODE
     12512**DCL     14517>>DOCASE
KL$NODECHG
     13460**DCL     14712--ASSIGN
KL$OSILINKCHG
     13695**DCL     14725--ASSIGN
KL$OSILINKCHG.TERMID.TERM
     13787**DCL     13796--REDEF
KL$RELEASE
     13185**DCL     14670<<ASSIGN  14670>>ASSIGN
KL$RELEASE.USER#
     13200**DCL     14671<>CALL
KL$REQSTATS.DSPMSK
     13020**DCL     13026--REDEF
KL$REQSTATS.FEPNAME
     13001**DCL     14739>>ASSIGN
KL$REQSTATS.HANDLER
     13007**DCL     14740>>ASSIGN
KL$REQSTATS.NODE_NUM
     12943**DCL     14741>>ASSIGN
KL$REQSTATS.SLCMSK
     13061**DCL     13068--REDEF
KL$REQSTATS.SRCE_NODE
     12944**DCL     14743>>ASSIGN
KL$REQSTATS.STATSSTA
     12997**DCL     14742>>ASSIGN
KL$SGNRSP.NMID
     13318**DCL     14707>>ASSIGN
KL$SGNRSP.TERMID.TERM
     13404**DCL     13413--REDEF
KL$TIME.UTS
     13439**DCL     14732>>ASSIGN
KL$UPDOSI
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:75   
     13486**DCL     14719--ASSIGN
KL$UPDOSI.LNSAP.ADDRESS_N
     13640**DCL     13641--REDEF
KL$UPDOSI.MYNODE#
     13521**DCL     13523--REDEF
KL$UPDOSI.NODE#
     13524**DCL     13526--REDEF
KL$UPDOSI.NSAP.ADDRESS_N
     13584**DCL     13585--REDEF
KN$LDCT.RLCID.LDCTX
     12323**DCL     12330--REDEF   12338--REDEF
KN$LDCT.TRANSPORT_ID
     12357**DCL     12365--REDEF
KN$LDCT.UID
     12387**DCL     12388--REDEF   12397--REDEF
KN$NETPARM
     11975**DCL         6--PROC    14713<>CALL    14720<>CALL    14726<>CALL
KN$NETPARM.ERRCODE
     12082**DCL     14616<<ASSIGN  14652<<ASSIGN  14694<<ASSIGN  14789<<ASSIGN
KN$NETPARM.FPT$
     12094**DCL     13815--IMP-PTR 14502>>IF      14712<<ASSIGN  14719<<ASSIGN  14725<<ASSIGN
KN$NETPARM.FUNCTION
     12070**DCL     14499>>DOCASE
KN$NETPARM.LDCT$
     11976**DCL     12262--IMP-PTR 14501>>ASSIGN
KN$NETPARM.MSG$
     11982**DCL     11987--REDEF
KN$NETPARM.NHDR$
     12034**DCL     12035--REDEF
KN$NETPARM.SHDR$
     12012**DCL     12013--REDEF
KN$NETPARM.THDR$
     12023**DCL     12024--REDEF
KN$NETPARM.UHDR$
     11998**DCL     11999--REDEF   12508--IMP-PTR 12546--IMP-PTR 12685--IMP-PTR 12930--IMP-PTR 13436--IMP-PTR
     13460--IMP-PTR 13486--IMP-PTR 13695--IMP-PTR 14517>>DOCASE  14525>>IF      14527>>DOINDEX 14530>>ASSIGN
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:76   
     14537>>IF      14537>>IF      14537>>IF      14541>>ASSIGN  14542>>ASSIGN  14546>>ASSIGN  14547>>DOCASE
     14550>>IF      14551>>ASSIGN  14551>>ASSIGN  14554>>ASSIGN  14555>>ASSIGN  14559>>IF      14561>>DOCASE
     14563>>ASSIGN  14565>>ASSIGN  14567>>ASSIGN  14569>>ASSIGN  14571>>ASSIGN  14573>>ASSIGN  14575>>ASSIGN
     14577>>ASSIGN  14580>>ASSIGN  14582>>ASSIGN  14584>>ASSIGN  14586>>ASSIGN  14589>>ASSIGN  14591>>ASSIGN
     14594>>ASSIGN  14594>>ASSIGN  14598>>CALL    14634>>ASSIGN  14635>>CALL    14670>>ASSIGN  14671>>CALL
     14706>>ASSIGN  14712>>ASSIGN  14719>>ASSIGN  14725>>ASSIGN  14732>>ASSIGN  14739>>ASSIGN  14740>>ASSIGN
     14741>>ASSIGN  14742>>ASSIGN  14743>>ASSIGN  14801>>ASSIGN  14802>>ASSIGN
KN$NETPARM.UHDRSZ
     12007**DCL     13864--IMP-SIZ 14515>>IF      14706>>ASSIGN  14801>>ASSIGN
KNB$WRITE
     14488**DCL-ENT 14598--CALL    14767--CALL
KNB_LOCK
     14476**DCL     14612<>CALL    14622<>CALL    14632<>CALL    14648<>CALL    14658<>CALL    14668<>CALL
     14683<>CALL    14692<>CALL    14703<>CALL    14778<>CALL    14787<>CALL    14798<>CALL
KNN$NODECHG
     14493**DCL-ENT 14713--CALL
KNN$OSICHG
     14494**DCL-ENT 14720--CALL
KNN$OSILINKCHG
     14495**DCL-ENT 14726--CALL
KN_BUFFER
     13874**DCL     14706<<ASSIGN  14801<<ASSIGN
KN_BUFFER$
     13873**DCL     13300--IMP-PTR 14634>>ASSIGN  14670>>ASSIGN  14707>>ASSIGN
KN_BUSY
     13875**DCL     14614>>IF      14626<<ASSIGN  14650>>IF      14662<<ASSIGN  14685>>IF      14697<<ASSIGN
     14780>>IF      14792<<ASSIGN
KN_IOP_PEAK#
     13892**DCL     14761>>ASSIGN
KN_IOP_USE#
     13889**DCL     14764>>ASSIGN
KN_LDCT_PEAK#
     13890**DCL     14760>>ASSIGN
KN_LDCT_USE#
     13887**DCL     14763>>ASSIGN
KN_NODEADMIN$
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:77   
     13872**DCL     14501<<ASSIGN
KN_SSN_PEAK#
     13891**DCL     14762>>ASSIGN
KN_SSN_USE#
     13888**DCL     14765>>ASSIGN
MSG
     13864**DCL     14706>>ASSIGN  14801>>ASSIGN
ONEWORD
     13863**DCL     14530<<ASSIGN  14551<<ASSIGN  14594>>ASSIGN
PS_LCP6STT
     13913**DCL     14767--CALL    14767--CALL
PS_LCP6STT.CURR_IOP
     14359**DCL     14764<<ASSIGN
PS_LCP6STT.CURR_LDCT
     14354**DCL     14763<<ASSIGN
PS_LCP6STT.CURR_SSN
     14349**DCL     14765<<ASSIGN
PS_LCP6STT.CURR_USERS
     14344**DCL     14759<<ASSIGN
PS_LCP6STT.CURR_UTS
     14233**DCL     14766<>CALL
PS_LCP6STT.PAGES_AVLSHF
     14243**DCL     14747<<ASSIGN
PS_LCP6STT.PAGES_CG_FPRG
     14245**DCL     14751<<ASSIGN
PS_LCP6STT.PAGES_FRENONSHF
     14241**DCL     14745<<ASSIGN
PS_LCP6STT.PAGES_FRESHF
     14239**DCL     14744<<ASSIGN
PS_LCP6STT.PAGES_GHOST
     14251**DCL     14753<<ASSIGN
PS_LCP6STT.PAGES_HANDLER
     14249**DCL     14754<<ASSIGN
PS_LCP6STT.PAGES_MONITOR
     14253**DCL     14750<<ASSIGN
PS_LCP6STT.PAGES_TOTAL
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:78   
     14255**DCL     14749<<ASSIGN
PS_LCP6STT.PAGES_TOTNONSHF
     14237**DCL     14746<<ASSIGN
PS_LCP6STT.PAGES_TOTSHF
     14235**DCL     14748<<ASSIGN
PS_LCP6STT.PAGES_TS_FPRG
     14247**DCL     14752<<ASSIGN
PS_LCP6STT.PEAK_IOP
     14379**DCL     14761<<ASSIGN
PS_LCP6STT.PEAK_LDCT
     14374**DCL     14760<<ASSIGN
PS_LCP6STT.PEAK_SSN
     14369**DCL     14762<<ASSIGN
PS_LCP6STT.REQSTATS.DSPMSK
     14159**DCL     14165--REDEF
PS_LCP6STT.REQSTATS.FEPNAME
     14140**DCL     14739<<ASSIGN
PS_LCP6STT.REQSTATS.HANDLER
     14146**DCL     14740<<ASSIGN
PS_LCP6STT.REQSTATS.NODE_NUM
     14082**DCL     14741<<ASSIGN
PS_LCP6STT.REQSTATS.SLCMSK
     14200**DCL     14207--REDEF
PS_LCP6STT.REQSTATS.SRCE_NODE
     14083**DCL     14743<<ASSIGN
PS_LCP6STT.REQSTATS.STATSSTA
     14136**DCL     14742<<ASSIGN
PS_LCP6STT.USERS_CG_FPRG
     14257**DCL     14755<<ASSIGN
PS_LCP6STT.USERS_GHOST
     14263**DCL     14757<<ASSIGN
PS_LCP6STT.USERS_HANDLER
     14261**DCL     14758<<ASSIGN
PS_LCP6STT.USERS_TS_FPRG
     14259**DCL     14756<<ASSIGN
SCREECH
PL6.E3A0      #002=KNB$ACTION File=KNB$BABOON.:E05TSI                            WED 07/30/97 01:01 Page:79   
     14487**DCL-ENT 14504--CALL    14511--CALL    14715--CALL    14721--CALL    14727--CALL    14736--CALL
SCR_NODECHG
     12207**DCL     14715<>CALL    14721<>CALL    14727<>CALL
SCR_UNEXP
     12145**DCL     14504<>CALL    14511<>CALL    14736<>CALL
UTS
     13868**DCL     14732<<ASSIGN  14733<>CALL

PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:80   
      427        1        /*T***********************************************************/
      428        2        /*T*                                                         */
      429        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      430        4        /*T*                                                         */
      431        5        /*T***********************************************************/
      432        6        KNB$WRITE: PROC (MSG$,MSGSZ,RSP$,RSPSZ) ALTRET;
      433        7
      434        8        /* Include files */
      435        9        %INCLUDE KN_DATA_M;
      436     1795        %INCLUDE KNH_MACRO_C;
      437     2078        %INCLUDE K$RWPARM;
      438     2464        %INCLUDE KV$VDO;
      439     3479        %KV_VDO_ALL_E;
      440     3558        %INCLUDE GH_GATE_M;
      441     3599        %INCLUDE GH_SCHD_E;
      442     3695        %INCLUDE LCP_6;
      443     7974        %INCLUDE K_SCODE_C;
      444     8059
      445     8060        /* Parameters */
      446     8061    1   DCL MSG$ PTR;
      447     8062    1   DCL MSGSZ UBIN;
      448     8063    1   DCL RSP$ PTR;
      449     8064    1   DCL RSPSZ UBIN;
      450     8065
      451     8066        /* Symref */
      452     8067        %K$RWPARM (NAME=KNA_RWPARM_CON,STCLASS=SYMREF);
      453     8383        %KN$NETPARM (NAME=KN_NETPARM_INIT,STCLASS=SYMREF);
      454     8536    1   DCL KN_NODEADMIN$ PTR SYMREF;
      455     8537    1   DCL KN_BUFFER CHAR(200) SYMREF;
      456     8538    1   DCL KN_BUSY BIT(1)SYMREF;
      457     8539
      458     8540        /* Auto */
      459     8541        %KN$NETPARM(STCLASS="");
      460     8694        %K$RWPARM (NAME=K$RWPARM);
      461     9010    1   DCL HDR CHAR(20);
      462     9011    1   DCL RESP CHAR(RSPSZ) BASED;
      463     9012
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:81   
      464     9013        /* Entry references */
      465     9014    1   DCL KNS$SEND ENTRY(1) ALTRET;
      466     9015    1   DCL KNA$BUILD_VDO ENTRY(3);
      467     9016    1   DCL GHS$REG ENTRY(2) ALTRET;
      468     9017
      469     9018        /* Static */
      470     9019        %GATE (FPTN=KNB_LOCK,STCLASS="STATIC SYMDEF");
      471     9038
      472     9039    1        K$RWPARM = KNA_RWPARM_CON;
      473     9040    1        K$RWPARM.MSG$ = MSG$;
      474     9041    1        K$RWPARM.MSGSZ = MSGSZ;
      475     9042    1        CALL KNA$BUILD_VDO(%KV_VDO_FNC_DAT,K$RWPARM,HDR);
      476     9043    1        KN$NETPARM = KN_NETPARM_INIT;
      477     9044    1        KN$NETPARM.FUNCTION = %KN_FCN_DATA;
      478     9045    1        KN$NETPARM.UHDR$ = K$RWPARM.UHDR$;
      479     9046    1        KN$NETPARM.UHDRSZ = K$RWPARM.UHDRSZ;
      480     9047    1        KN$NETPARM.MSG$ = MSG$;
      481     9048    1        KN$NETPARM.MSGSZ = MSGSZ;
      482     9049    1        KN$NETPARM.LDCT$ = KN_NODEADMIN$;
      483     9050    1        KN$NETPARM.SLDCT$ = KN_NODEADMIN$;
      484     9051    2        CALL KNS$SEND (KN$NETPARM) WHENALTRETURN DO;
      485     9052    2             ALTRETURN;
      486     9053    2             END;
      487     9054    1        RETURN;
      488     9055
      489     9056        %EJECT;
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:82   
      490     9057    1   KNB$GETRESP: ENTRY (MSG$,MSGSZ,RSP$,RSPSZ) ALTRET;
      491     9058
      492     9059
      493     9060             %LOCK (G=KNB_LOCK);
      494     9067    2   WRTLP: DO WHILE('1'B);
      495     9068    2             CALL KNB$WRITE (MSG$,MSGSZ)
      496     9069    3             WHENRETURN DO;
      497     9070    3                  EXIT WRTLP;
      498     9071    3                  END;
      499     9072                  %UNLOCK (G=KNB_LOCK);
      500     9079    2             CALL GHS$REG (%GH_EVSL,1);
      501     9080                  %LOCK (G=KNB_LOCK);
      502     9087    2             END;
      503     9088
      504     9089             %UNLOCK (G=KNB_LOCK);
      505     9096    1        IF ADDR(RSP$) = ADDR(NIL)
      506     9097    1        THEN
      507     9098    1             RETURN;
      508     9099    1        CALL GHS$REG (%GH_EVQA);
      509     9100    1        RSP$->RESP = KN_BUFFER;
      510     9101    1        KN_BUSY = '0'B;
      511     9102    1        RETURN;
      512     9103    1   END KNB$WRITE;

PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:83   
--  Include file information  --

   K_SCODE_C.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  is referenced.
   GT_LCP6_M.:E05TOU  is referenced.
   KI_CP6.:E05TOU  is referenced.
   GF_LCP6_M.:E05TOU  is referenced.
   GM_LCP6_M.:E05TOU  is referenced.
   GU_LCP6_M.:E05TOU  is referenced.
   GJ_LCP6_M.:E05TOU  is referenced.
   GH_LCP6_M.:E05TOU  is referenced.
   LCP_6.:E05TOU  cannot be made into a system file and is referenced.
   GH_SCHD_E.:E05TOU  is referenced.
   GH_GATE_M.:E05TOU  cannot be made into a system file and is referenced.
   KV$VDO.:E05TOU  is referenced.
   K$RWPARM.:E05TOU  is referenced.
   KNH_MACRO_C.:E05TOU  is referenced.
   KN_DATA_M.:E05TOU  is referenced.
      No diagnostics issued in procedure KNB$WRITE.

   Procedure KNB$WRITE requires 205 words for executable code.
   Procedure KNB$WRITE requires 102 words of local(AUTO) storage.

    No errors detected in file KNB$BABOON.:E05TSI    .

PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:84   

 Object Unit name= KNB$WRITE                                  File name= KNB$BABOON.:E05TOU
 UTS= JUL 30 '97 01:03:05.68 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_LCP6_SYSTEM                               Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size HexSiz  Section name
    0   Data  even  none     3      3  KNB$WRITE
    1   Proc  even  none   205     CD  KNB$WRITE
    2  RoData even  none    10      A  KNB$WRITE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect HexLoc Primary Altret sequence   type   Parms  Name
     1      0   yes    yes     yes      Std        4  KNB$WRITE
     1     63          yes     yes      Std        4  KNB$GETRESP

  ****  Data defs  ****

 Sect HexLoc  Name                           Sect HexLoc  Name
    0      0  KNB_LOCK
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:85   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       3 KNA$BUILD_VDO
 yes     yes           Std       1 KNS$SEND
 yes     yes           Std       1 GHH$LOCK
 yes     yes           Std       1 GHH$UNLOCK
 yes     yes           Std       2 GHS$REG
                       nStd      0 X6A_AUTO_N
                       nStd      0 X6A_AALT
                       nStd      0 X6A_ARET
                       nStd      0 X6C_ALR

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     KNA_RWPARM_CON                        KN_NETPARM_INIT                       KN_NODEADMIN$
     KN_BUFFER                             KN_BUSY                          r    G$ROS$
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:86   


      427        1        /*T***********************************************************/
      428        2        /*T*                                                         */
      429        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      430        4        /*T*                                                         */
      431        5        /*T***********************************************************/
      432        6        KNB$WRITE: PROC (MSG$,MSGSZ,RSP$,RSPSZ) ALTRET;

      6   1 000000  D380 0000 0000  xent KNB$WRITE       LNJ,B5   X6A_AUTO_N
          1 000003       0066 0004                       DC       102,4

      433        7
      434        8        /* Include files */
      435        9        %INCLUDE KN_DATA_M;
      436     1795        %INCLUDE KNH_MACRO_C;
      437     2078        %INCLUDE K$RWPARM;
      438     2464        %INCLUDE KV$VDO;
      439     3479        %KV_VDO_ALL_E;
      440     3558        %INCLUDE GH_GATE_M;
      441     3599        %INCLUDE GH_SCHD_E;
      442     3695        %INCLUDE LCP_6;
      443     7974        %INCLUDE K_SCODE_C;
      444     8059
      445     8060        /* Parameters */
      446     8061    1   DCL MSG$ PTR;
      447     8062    1   DCL MSGSZ UBIN;
      448     8063    1   DCL RSP$ PTR;
      449     8064    1   DCL RSPSZ UBIN;
      450     8065
      451     8066        /* Symref */
      452     8067        %K$RWPARM (NAME=KNA_RWPARM_CON,STCLASS=SYMREF);
      453     8383        %KN$NETPARM (NAME=KN_NETPARM_INIT,STCLASS=SYMREF);
      454     8536    1   DCL KN_NODEADMIN$ PTR SYMREF;
      455     8537    1   DCL KN_BUFFER CHAR(200) SYMREF;
      456     8538    1   DCL KN_BUSY BIT(1)SYMREF;
      457     8539
      458     8540        /* Auto */
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:87   
      459     8541        %KN$NETPARM(STCLASS="");
      460     8694        %K$RWPARM (NAME=K$RWPARM);
      461     9010    1   DCL HDR CHAR(20);
      462     9011    1   DCL RESP CHAR(RSPSZ) BASED;
      463     9012
      464     9013        /* Entry references */
      465     9014    1   DCL KNS$SEND ENTRY(1) ALTRET;
      466     9015    1   DCL KNA$BUILD_VDO ENTRY(3);
      467     9016    1   DCL GHS$REG ENTRY(2) ALTRET;
      468     9017
      469     9018        /* Static */
      470     9019        %GATE (FPTN=KNB_LOCK,STCLASS="STATIC SYMDEF");
      471     9038
      472     9039    1        K$RWPARM = KNA_RWPARM_CON;

   9039   1 000005  AB80 0000 0000  xsym                 LAB,B2   KNA_RWPARM_CON
          1 000008  2C00                                 LDV,R2   0
          1 000009  6C52                                 LDV,R6   82
          1 00000A  BB87                                 LAB,B3   ,AUTO
          1 00000B  3C5A                                 LDV,R3   90
          1 00000C  0008                                 MMM

      473     9040    1        K$RWPARM.MSG$ = MSG$;

   9040   1 00000D  ECC7 0004                            LDB,B6   @MSG$,AUTO
          1 00000F  DC86                                 LDB,B5   ,B6
          1 000010  DFC7 002D                            STB,B5   K$RWPARM,AUTO

      474     9041    1        K$RWPARM.MSGSZ = MSGSZ;

   9041   1 000012  CCC7 0006                            LDB,B4   @MSGSZ,AUTO
          1 000014  E804                                 LDR,R6   ,B4
          1 000015  EF47 002F                            STR,R6   K$RWPARM+2,AUTO

      475     9042    1        CALL KNA$BUILD_VDO(%KV_VDO_FNC_DAT,K$RWPARM,HDR);

   9042   1 000017  ABF0 0005                            LAB,B2   5,IMO
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:88   
          1 000019  9BC7 0056                            LAB,B1   HDR,AUTO
          1 00001B  9FC7 0064                            STB,B1   HDR+14,AUTO
          1 00001D  EBC7 002D                            LAB,B6   K$RWPARM,AUTO
          1 00001F  EFC7 0062                            STB,B6   HDR+12,AUTO
          1 000021  AFC7 0060                            STB,B2   HDR+10,AUTO
          1 000023  BBC7 0060                            LAB,B3   HDR+10,AUTO
          1 000025  CBF0 0300                            LAB,B4   768,IMO
          1 000027  E380 0000 0000  xent                 LNJ,B6   KNA$BUILD_VDO
          1 00002A       0001                            DC       s:9043,PREL

      476     9043    1        KN$NETPARM = KN_NETPARM_INIT;

   9043   1 00002B  AB80 0000 0000  xsym                 LAB,B2   KN_NETPARM_INIT
          1 00002E  2C00                                 LDV,R2   0
          1 00002F  6C42                                 LDV,R6   66
          1 000030  BB87                                 LAB,B3   ,AUTO
          1 000031  3C18                                 LDV,R3   24
          1 000032  0008                                 MMM

      477     9044    1        KN$NETPARM.FUNCTION = %KN_FCN_DATA;

   9044   1 000033  6C05                                 LDV,R6   5
          1 000034  EF47 0020                            STR,R6   KN$NETPARM+20,AUTO

      478     9045    1        KN$NETPARM.UHDR$ = K$RWPARM.UHDR$;

   9045   1 000036  ECC7 0044                            LDB,B6   K$RWPARM+23,AUTO
          1 000038  EFC7 0011                            STB,B6   KN$NETPARM+5,AUTO

      479     9046    1        KN$NETPARM.UHDRSZ = K$RWPARM.UHDRSZ;

   9046   1 00003A  D847 0046                            LDR,R5   K$RWPARM+25,AUTO
          1 00003C  DF47 0013                            STR,R5   KN$NETPARM+7,AUTO

      480     9047    1        KN$NETPARM.MSG$ = MSG$;

   9047   1 00003E  DCC7 0004                            LDB,B5   @MSG$,AUTO
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:89   
          1 000040  CC85                                 LDB,B4   ,B5
          1 000041  CFC7 000E                            STB,B4   KN$NETPARM+2,AUTO

      481     9048    1        KN$NETPARM.MSGSZ = MSGSZ;

   9048   1 000043  ACC7 0006                            LDB,B2   @MSGSZ,AUTO
          1 000045  C802                                 LDR,R4   ,B2
          1 000046  CF47 0010                            STR,R4   KN$NETPARM+4,AUTO

      482     9049    1        KN$NETPARM.LDCT$ = KN_NODEADMIN$;

   9049   1 000048  9C80 0000 0000  xsym                 LDB,B1   KN_NODEADMIN$
          1 00004B  9FC7 000C                            STB,B1   KN$NETPARM,AUTO

      483     9050    1        KN$NETPARM.SLDCT$ = KN_NODEADMIN$;

   9050   1 00004D  9FC7 0023                            STB,B1   KN$NETPARM+23,AUTO

      484     9051    2        CALL KNS$SEND (KN$NETPARM) WHENALTRETURN DO;

   9051   1 00004F  EBC7 000C                            LAB,B6   KN$NETPARM,AUTO
          1 000051  EFC7 0060                            STB,B6   HDR+10,AUTO
          1 000053  BBC7 0060                            LAB,B3   HDR+10,AUTO
          1 000055  CBF0 0100                            LAB,B4   256,IMO
          1 000057  E380 0000 0000  xent                 LNJ,B6   KNS$SEND
          1 00005A       0003                            DC       s:9052,PREL
          1 00005B  0F81 0004                            B        s:9054,PREL

      485     9052    2             ALTRETURN;

   9052   1 00005D  C380 0000 0000  xent                 LNJ,B4   X6A_AALT

      486     9053    2             END;
      487     9054    1        RETURN;

   9054   1 000060  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:90   
      488     9055
      489     9056        %EJECT;
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:91   
      490     9057    1   KNB$GETRESP: ENTRY (MSG$,MSGSZ,RSP$,RSPSZ) ALTRET;

   9057   1 000063  D380 0000 0000  xent KNB$GETRESP     LNJ,B5   X6A_AUTO_N
          1 000066       0066 0004                       DC       102,4

      491     9058
      492     9059
      493     9060             %LOCK (G=KNB_LOCK);

   9065   1 000068  BB80 0000 0000  02                   LAB,B3   0
          1 00006B  CBF0 0100                            LAB,B4   256,IMO
          1 00006D  E380 0000 0000  xent                 LNJ,B6   GHH$LOCK
          1 000070       0001                            DC       s:9067,PREL

      494     9067    2   WRTLP: DO WHILE('1'B);

   9067   1                              WRTLP           null
      495     9068    2             CALL KNB$WRITE (MSG$,MSGSZ)

   9068   1 000071  BBC7 0004            WRTLP           LAB,B3   @MSG$,AUTO
          1 000073  CBF0 0200                            LAB,B4   512,IMO
          1 000075  E3C0 FF8A                            LNJ,B6   s:6,PREL
          1 000077       0003                            DC       s:9077,PREL

      496     9069    3             WHENRETURN DO;

      497     9070    3                  EXIT WRTLP;

   9070   1 000078  0F81 001D                            B        s:9094,PREL

      498     9071    3                  END;
      499     9072                  %UNLOCK (G=KNB_LOCK);

   9077   1 00007A  BB80 0000 0000  02                   LAB,B3   0
          1 00007D  CBF0 0100                            LAB,B4   256,IMO
          1 00007F  E380 0000 0000  xent                 LNJ,B6   GHH$UNLOCK
          1 000082       0001                            DC       s:9079,PREL
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:92   

      500     9079    2             CALL GHS$REG (%GH_EVSL,1);

   9079   1 000083  BB80 0000 0003  02                   LAB,B3   +3
          1 000086  CBF0 0200                            LAB,B4   512,IMO
          1 000088  E380 0000 0000  xent                 LNJ,B6   GHS$REG
          1 00008B       0001                            DC       s:9085,PREL

      501     9080                  %LOCK (G=KNB_LOCK);

   9085   1 00008C  BB80 0000 0000  02                   LAB,B3   0
          1 00008F  CBF0 0100                            LAB,B4   256,IMO
          1 000091  E380 0000 0000  xent                 LNJ,B6   GHH$LOCK
          1 000094       0001                            DC       s:9087,PREL

      502     9087    2             END;

   9087   1 000095  0FDC                                 B        s:9067,SPREL

      503     9088
      504     9089             %UNLOCK (G=KNB_LOCK);

   9094   1 000096  BB80 0000 0000  02                   LAB,B3   0
          1 000099  CBF0 0100                            LAB,B4   256,IMO
          1 00009B  E380 0000 0000  xent                 LNJ,B6   GHH$UNLOCK
          1 00009E       0001                            DC       s:9096,PREL

      505     9096    1        IF ADDR(RSP$) = ADDR(NIL)

   9096   1 00009F  ECC7 0008                            LDB,B6   @RSP$,AUTO
          1 0000A1  8DD6                                 CMN      B6
          1 0000A2  0981 0004                            BNE      s:9099,PREL

      506     9097    1        THEN
      507     9098    1             RETURN;

   9098   1 0000A4  C380 0000 0000  xent                 LNJ,B4   X6A_ARET
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:93   

      508     9099    1        CALL GHS$REG (%GH_EVQA);

   9099   1 0000A7  BB80 0000 0008  02                   LAB,B3   +8
          1 0000AA  CBF0 0100                            LAB,B4   256,IMO
          1 0000AC  E380 0000 0000  xent                 LNJ,B6   GHS$REG
          1 0000AF       0001                            DC       s:9100,PREL

      509     9100    1        RSP$->RESP = KN_BUFFER;

   9100   1 0000B0  ECC7 0008                            LDB,B6   @RSP$,AUTO
          1 0000B2  DC86                                 LDB,B5   ,B6
          1 0000B3  CCC7 000A                            LDB,B4   @RSPSZ,AUTO
          1 0000B5  E804                                 LDR,R6   ,B4
          1 0000B6  EF47 0060                            STR,R6   HDR+10,AUTO
          1 0000B8  DFC7 0061                            STB,B5   HDR+11,AUTO
          1 0000BA  AB80 0000 0000  xsym                 LAB,B2   KN_BUFFER
          1 0000BD  2C00                                 LDV,R2   0
          1 0000BE  E870 00C8                            LDR,R6   200,IMO
          1 0000C0  BB85                                 LAB,B3   ,B5
          1 0000C1  3C00                                 LDV,R3   0
          1 0000C2  F847 0060                            LDR,R7   HDR+10,AUTO
          1 0000C4  D380 0000 0000  xent                 LNJ,B5   X6C_ALR

      510     9101    1        KN_BUSY = '0'B;

   9101   1 0000C7  8700 0000 0000  xsym                 CL       KN_BUSY

      511     9102    1        RETURN;

   9102   1 0000CA  C380 0000 0000  xent                 LNJ,B4   X6A_ARET
      512     9103    1   END KNB$WRITE;

PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:94   
--  Include file information  --

   K_SCODE_C.:E05TOU  is referenced.
   G_LCP6_E.:E05TOU  is referenced.
   GT_LCP6_M.:E05TOU  is referenced.
   KI_CP6.:E05TOU  is referenced.
   GF_LCP6_M.:E05TOU  is referenced.
   GM_LCP6_M.:E05TOU  is referenced.
   GU_LCP6_M.:E05TOU  is referenced.
   GJ_LCP6_M.:E05TOU  is referenced.
   GH_LCP6_M.:E05TOU  is referenced.
   LCP_6.:E05TOU  cannot be made into a system file and is referenced.
   GH_SCHD_E.:E05TOU  is referenced.
   GH_GATE_M.:E05TOU  cannot be made into a system file and is referenced.
   KV$VDO.:E05TOU  is referenced.
   K$RWPARM.:E05TOU  is referenced.
   KNH_MACRO_C.:E05TOU  is referenced.
   KN_DATA_M.:E05TOU  is referenced.
      No diagnostics issued in procedure KNB$WRITE.
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:95   

 **** Variables and constants ****

  ****  Section 000  Data  KNB$WRITE

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(48)    r     1 KNB_LOCK

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w PTR         r     1 @MSG$                      6-0-0/w PTR         r     1 @MSGSZ
     8-0-0/w PTR         r     1 @RSP$                      A-0-0/w PTR         r     1 @RSPSZ
    56-0-0/c CHAR(20)    r     1 HDR                       2D-0-0/w STRC(656)   r     1 K$RWPARM
     C-0-0/w STRC(528)   r     1 KN$NETPARM                *0-0-0/w PTR         r     1 MSG$
    *0-0-0/w UBIN(16)    r     1 MSGSZ                     *0-0-0/w PTR         r     1 RSP$
    *0-0-0/w UBIN(16)    r     1 RSPSZ

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(656)   r     1 KNA_RWPARM_CON             0-0-0/c CHAR(200)   r     1 KN_BUFFER
     0-0-0/b BIT         r     1 KN_BUSY                    0-0-0/w STRC(528)   r     1 KN_NETPARM_INIT
     0-0-0/w PTR         r     1 KN_NODEADMIN$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c ACHR        r     1 RESP

PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:96   

   Procedure KNB$WRITE requires 205 words for executable code.
   Procedure KNB$WRITE requires 102 words of local(AUTO) storage.

    No errors detected in file KNB$BABOON.:E05TSI    .
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:97   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:98   
          MINI XREF LISTING

GHH$LOCK
      3598**DCL-ENT  9065--CALL     9085--CALL
GHH$UNLOCK
      3598**DCL-ENT  9077--CALL     9094--CALL
GHS$REG
      9016**DCL-ENT  9079--CALL     9099--CALL
HDR
      9010**DCL      9042<>CALL
K$RWPARM
      8711**DCL      9039<<ASSIGN   9042<>CALL
K$RWPARM.BLKREC
      8741**DCL      8766--REDEF
K$RWPARM.DVE.DVBYTE.VFC
      8781**DCL      8782--REDEF
K$RWPARM.DVE.EOMCHAR
      8789**DCL      8793--REDEF
K$RWPARM.ERR
      8853**DCL      8858--REDEF
K$RWPARM.FC
      8817**DCL      8818--REDEF
K$RWPARM.FLDID
      8999**DCL      9000--REDEF
K$RWPARM.KEYTYPE
      9006**DCL      9007--REDEF
K$RWPARM.MSG$
      8712**DCL      8713--REDEF    8722--REDEF    9040<<ASSIGN
K$RWPARM.MSGID
      8828**DCL      8833--REDEF
K$RWPARM.MSGIDXT
      8841**DCL      8845--REDEF
K$RWPARM.MSGSZ
      8723**DCL      9041<<ASSIGN
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:99   
K$RWPARM.ORG
      8977**DCL      8978--REDEF
K$RWPARM.UHDR$
      8866**DCL      9045>>ASSIGN
K$RWPARM.UHDRSZ
      8871**DCL      9046>>ASSIGN
K$RWPARM.VDOFLGS
      8979**DCL      8990--REDEF
KN$NETPARM
      8554**DCL      9043<<ASSIGN   9051<>CALL
KN$NETPARM.FUNCTION
      8649**DCL      9044<<ASSIGN
KN$NETPARM.LDCT$
      8555**DCL      9049<<ASSIGN
KN$NETPARM.MSG$
      8561**DCL      8566--REDEF    9047<<ASSIGN
KN$NETPARM.MSGSZ
      8572**DCL      9048<<ASSIGN
KN$NETPARM.NHDR$
      8613**DCL      8614--REDEF
KN$NETPARM.SHDR$
      8591**DCL      8592--REDEF
KN$NETPARM.SLDCT$
      8668**DCL      9050<<ASSIGN
KN$NETPARM.THDR$
      8602**DCL      8603--REDEF
KN$NETPARM.UHDR$
      8577**DCL      8578--REDEF    9045<<ASSIGN
KN$NETPARM.UHDRSZ
      8586**DCL      9046<<ASSIGN
KNA$BUILD_VDO
      9015**DCL-ENT  9042--CALL
KNA_RWPARM_CON
      8084**DCL      9039>>ASSIGN
KNA_RWPARM_CON.BLKREC
      8114**DCL      8139--REDEF
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:100  
KNA_RWPARM_CON.DVE.DVBYTE.VFC
      8154**DCL      8155--REDEF
KNA_RWPARM_CON.DVE.EOMCHAR
      8162**DCL      8166--REDEF
KNA_RWPARM_CON.ERR
      8226**DCL      8231--REDEF
KNA_RWPARM_CON.FC
      8190**DCL      8191--REDEF
KNA_RWPARM_CON.FLDID
      8372**DCL      8373--REDEF
KNA_RWPARM_CON.KEYTYPE
      8379**DCL      8380--REDEF
KNA_RWPARM_CON.MSG$
      8085**DCL      8086--REDEF    8095--REDEF
KNA_RWPARM_CON.MSGID
      8201**DCL      8206--REDEF
KNA_RWPARM_CON.MSGIDXT
      8214**DCL      8218--REDEF
KNA_RWPARM_CON.ORG
      8350**DCL      8351--REDEF
KNA_RWPARM_CON.VDOFLGS
      8352**DCL      8363--REDEF
KNB$WRITE
         6**PROC     9068--CALL
KNB_LOCK
      9031**DCL      9065<>CALL     9077<>CALL     9085<>CALL     9094<>CALL
KNS$SEND
      9014**DCL-ENT  9051--CALL
KN_BUFFER
      8537**DCL      9100>>ASSIGN
KN_BUSY
      8538**DCL      9101<<ASSIGN
KN_NETPARM_INIT
      8396**DCL      9043>>ASSIGN
KN_NETPARM_INIT.MSG$
      8403**DCL      8408--REDEF
PL6.E3A0      #003=KNB$WRITE File=KNB$BABOON.:E05TSI                             WED 07/30/97 01:03 Page:101  
KN_NETPARM_INIT.NHDR$
      8455**DCL      8456--REDEF
KN_NETPARM_INIT.SHDR$
      8433**DCL      8434--REDEF
KN_NETPARM_INIT.THDR$
      8444**DCL      8445--REDEF
KN_NETPARM_INIT.UHDR$
      8419**DCL      8420--REDEF
KN_NODEADMIN$
      8536**DCL      9049>>ASSIGN   9050>>ASSIGN
MSG$
      8061**DCL         6--PROC     9040>>ASSIGN   9047>>ASSIGN   9057--ENTRY    9068<>CALL
MSGSZ
      8062**DCL         6--PROC     9041>>ASSIGN   9048>>ASSIGN   9057--ENTRY    9068<>CALL
RESP
      9011**DCL      9100<<ASSIGN
RSP$
      8063**DCL         6--PROC     9057--ENTRY    9096--IF       9100>>ASSIGN
RSPSZ
      8064**DCL         6--PROC     9011--IMP-SIZ  9057--ENTRY    9100>>ASSIGN
WRTLP
      9067**LABEL    9070--EXIT

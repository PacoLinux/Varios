VERSION E05

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   1    BMAP - B00     
                                         1  *M*    CSEQM   CALLING SEQUENCE ROUTINES FOR MONITOR(ET AL.)
                                         2  *T***********************************************************
                                         3  *T*                                                         *
                                         4  *T* Copyright (c) Bull HN Information Systems Inc., 1997    *
                                         5  *T*                                                         *
                                         6  *T***********************************************************
                                         7  *
                                         8  *
                                         9  *        THE CALLING SEQUENCE ROUTINES ASSUME THAT THE BASE OF THE
                                        10  *        AUTOMATIC STORAGE SEGMENT HAS THE FOLLOWING LAYOUT:
                                        11  *
                                        12  *        _________________________________________
                                        13  *        |                   |                   |
                                        14  *        |XXX                |NEG CURR OFFSET -1 |
                                        15  *        -----------------------------------------
                                        16  *        |                   |                   |
                                        17  *        |0                  |-1                 |
                                        18  *        -----------------------------------------
                                        19  *        |                   |                   |
                                        20  *        |LIMIT OFFSET       |0                  |
                                        21  *        _________________________________________
                                        22  *
                                        23  *
                                        24  *        EACH FRAME IS ASSUMED TO HAVE THE FOLLOWING FORMAT:
                                        25  *
                                        26  *        ________________________________________
                                        27  *        |                   |                   |
                                        28  *        |RETURN ADDRESS(ALT)|NEG PREV OFFSET -1 |
                                        29  *        -----------------------------------------
                                        30  *        |                   |                   |
                                        31  *        |EXTENSION(0)       |LANG FLAG (-1)     |
                                        32  *        -----------------------------------------
                                        33  *        |                   |                   |
                                        34  *        |NEXT FRAME OFFSET+1|LOC OF ENTRY(M+A)  |
                                        35  *        _________________________________________
                                        36  *
                                        37  *

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   2    BMAP - B00     
                                        38           EJECT
             000000000000               39  PTRLISTPR EQU      0
             000000000001               40  DESCLISTPR EQU     1
             000000000002               41  AUTOPR   EQU       2
                                        42  *
                                        43           SEGREF    NULLSID

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   3    BMAP - B00     
                                        44           EJECT
                                        45  *                                      OFFSETS IN AUTO FRAME HDR
             000000000000               46  RET_     EQU       0
             000000000000               47  PREV_    EQU       0
             000000000000               48  RET_PREV_ EQU      0
             000000000002               49  NEXT_    EQU       2
             000000000002               50  LOCOFENT_ EQU      2
             000000000003               51  PARMS_   EQU       3
                                        52  *                                      OFFSETS IN AUTO BASE
             000000000000               53  CURR_    EQU       0
             000000000002               54  LIMIT_   EQU       2
                                        55  *                                      REGISTERS
             000000000001               56  PARMREG1 EQU       1
             000000000003               57  PARMREG2 EQU       3
             000000000004               58  PARMREG3 EQU       4

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   4    BMAP - B00     
                                        59           EJECT
                                        60  ALIGN    MACRO
                                        61  _1       SET       *-X66_ARET
                                        62  _2       SET       _1/4*4
                                        63  _2       SET       _1-_2
                                        64  _2       SET       4+#1-_2
                                        65           IFE       _2,1
                                        66           BSS       1
                                        67           IFE       _2,2
                                        68           BSS       2
                                        69           IFE       _2,3
                                        70           BSS       3
                                        71           IFE       _2,5
                                        72           BSS       1
                                        73           IFE       _2,6
                                        74           BSS       2
                                        75           IFE       _2,7
                                        76           BSS       3
                                        77           ENDM

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   5    BMAP - B00     
                                        78           EJECT
                                        79  *
                                        80           ENTDEF    X66
                                        81  *
                                        82           ENTDEF    X66_AUTO_0,X66_AUTO_1,X66_AUTO_2
                                        83           ENTDEF    X66_AUTO_3,X66_AUTO_N
                                        84           ENTDEF    X66_AUTO_4,X66_AUTO_5
                                        85  *
                                        86           ENTDEF    X66_STATIC_0,X66_STATIC_1,X66_STATIC_2
                                        87           ENTDEF    X66_STATIC_3,X66_STATIC_N
                                        88           ENTDEF    X66_STATIC_4,X66_STATIC_5
                                        89  *
                                        90           ENTDEF    X66_ARET,X66_AALT
                                        91  *
                                        92           ENTDEF    X66_FARET,X66_FAALT
                                        93  *
                                        94           ENTDEF    X66_MSTATIC
                                        95           ENTDEF    X66_AUNWIND
                                        96  *
                                        97           ENTDEF    X66_PREGS_1,X66_PREGS_2,X66_PREGS_3
                                        98  *
                                        99           ENTDEF    X66_INDEX
                                       100  *
                                       101           ENTDEF    X66_FRAME_EXT,X66_FRAME_KEXT
                                       102  *
                                       103           ENTDEF    6XSO$BREF$$$$$$$$$$$$$$$$$$$$$
                                       104  *
                                       105          SYMREF    B$KRASNY_DEF
                                       106           SYMREF    B$SEGTBL$
                                       107           SYMREF    B$MPT$
                                       108           SYMREF    S_CNODE
                                       109  *
                                       110            ENTREF    B$COLLINS
                                       111            ENTREF    B$KRASNY
                                       112            ENTREF    B$KEYS
                                       113            ENTREF    B$MARTNER
                                       114            ENTREF    B$ROGERS
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   6    BMAP - B00     
                                       115            ENTREF    B$BJERKE
                                       116            ENTREF    B$ANDERSON
                                       117            ENTREF    B$SHAMMEL
                                       118            ENTREF    B$PHOENIX

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   7    BMAP - B00     
                                       119           EJECT
                                       120           INHIB     ON
 0 000000                              121           USE       X66_JUNK,1
   000000    112125116113              122           ASCII     1,JUNK              TO MAKE SURE XDELTA FINDS RIGHT DEF FOR X66
 2 000000                              123           USE       X66_PROCED,1
   000000                              124  X66      NULL
                                       125  *
                                       126           EIGHT                         NEEDED TO MAKE ALIGN WORK
   000000                              127  X66_ARET NULL
   000000    2 00000 2373 00           128          LDAQ     0,,AUTOPR
   000001  X 000000 1152 03            129          CMPA     B$KRASNY_DEF,DU
   000002 (2)000005 6022 00            130          TNC      ARET10
   000003  X 000000 1162 00            131          CMPQ     S_CNODE
   000004 (2)000020 6012 00            132          TNZ      OLYRET
                                       133  *
   000005                              134  ARET10  NULL
   000005    2 00001 5276 05           135          SWDX     1+0,AL,AUTOPR
   000006    2 00001 7553 05           136          STA      1+CURR_,AL,AUTOPR
   000007    000001 7102 01            137          TRA      1,AU
                                       138  *
   000010                              139  X66_AALT NULL
   000010    2 00000 2373 00           140          LDAQ     0,,AUTOPR
   000011  X 000000 1152 03            141          CMPA     B$KRASNY_DEF,DU
   000012 (2)000015 6022 00            142          TNC      AALT10
   000013  X 000000 1162 00            143          CMPQ     S_CNODE
   000014 (2)000024 6012 00            144          TNZ      OLYALT
                                       145  *
   000015    2 00001 5276 05           146  AALT10  SWDX     1+0,AL,AUTOPR
   000016    2 00001 7553 05           147          STA      1+CURR_,AL,AUTOPR
   000017    000000 7102 01            148          TRA      0,AU
                                       149  *
   000020                              150  OLYRET  NULL
   000020 (2)000030 7012 06            151          TSX1     OLAY,QL
   000021    000000 0112 00            152          NOP
   000022    2 00000 2373 00           153          LDAQ     0,,AUTOPR
   000023 (2)000005 7102 00            154          TRA      ARET10
                                       155  *
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   8    BMAP - B00     
   000024                              156  OLYALT  NULL
   000024 (2)000030 7012 06            157          TSX1     OLAY,QL
   000025    000000 0112 00            158          NOP
   000026    2 00000 2373 00           159          LDAQ     0,,AUTOPR
   000027 (2)000015 7102 00            160          TRA      AALT10
                                       161  *
   000030                              162  OLAY    NULL
   000030    000001 7102 11            163          TRA      1,X1
   000031  X 000000 7102 00            164          TRA      B$COLLINS
   000032  X 000000 7102 00            165          TRA      B$KRASNY
   000033  X 000000 7102 00            166          TRA      B$KEYS
   000034  X 000000 7102 00            167          TRA      B$MARTNER
   000035  X 000000 7102 00            168          TRA      B$ROGERS
   000036  X 000000 7102 00            169          TRA      B$BJERKE
   000037  X 000000 7102 00            170          TRA      B$ANDERSON
   000040  X 000000 7102 00            171          TRA      B$SHAMMEL
   000041  X 000000 7102 00            172          TRA      B$PHOENIX

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   9    BMAP - B00     
                                       173           EJECT
                                       174  *
                                       175           ALIGN     4
   000044                              176  X66_AUTO_0 NULL
   000044    2 00002 3223 00           177           LCX2      NEXT_,,AUTOPR       NEG NEXT FRAME OFFSET
   000045    2 00001 5276 12           178           SWDX      1+0,2,AUTOPR        'NEXT' IS NOW CURRENT
   000046    2 00001 2373 12           179           LDAQ      1+CURR_,2,AUTOPR    GET OLD 'NEG CURRENT' ->A
                                       180  *                                      0, PL6 FLAG ->Q
   000047  X 000000 2362 00            181           LDQ       S_CNODE             *** TEMP SET CURRENT NODE
   000050    2 00000 7573 00           182           STAQ      PREV_,,AUTOPR       'NEG CURRENT'->'NEG PREV'
                                       183  *                                      SET EXTENSION, FLAG
   000051    000000 2232 10            184           LDX3      0,0                 SIZE OF THIS FRAME
   000052    2 00000 7413 00           185           STX1      RET_,,AUTOPR        SAVE ALTRET ADDR
   000053    2 00001 6353 13           186           EAA       1+0,3,AUTOPR        CALCULATE NEW 'NEXT'
   000054    2 00001 4423 12           187           SXL2      1+CURR_,2,AUTOPR    SET 'NEG CURRENT'
   000055    2 00002 7553 00           188           STA       NEXT_,,AUTOPR       SET NEXT FRAME
   000056    000001 7102 10            189           TRA       1,0

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   10   BMAP - B00     
                                       190           EJECT
                                       191  *
                                       192           ALIGN     4
   000060                              193  X66_AUTO_1 NULL
   000060    2 00002 3223 00           194           LCX2      NEXT_,,AUTOPR       NEG NEXT FRAME OFFSET
   000061    2 00001 5276 12           195           SWDX      1+0,2,AUTOPR        'NEXT' IS NOW CURRENT
   000062    2 00001 2373 12           196           LDAQ      1+CURR_,2,AUTOPR    GET OLD 'NEG CURRENT' ->A
                                       197  *                                      0, PL6 FLAG ->Q
   000063  X 000000 2362 00            198           LDQ       S_CNODE             *** TEMP SET CURRENT NODE
   000064    2 00000 7573 00           199           STAQ      0,,AUTOPR           'NEG CURRENT'->'NEG PREV'
                                       200  *                                      SET EXTENSION, FLAG
   000065    2 00000 7413 00           201           STX1      RET_,,AUTOPR        SAVE ALTRET ADDR
   000066    000000 2232 10            202           LDX3      0,0                 SIZE OF THIS FRAME
   000067    1 00000 2243 00           203           LDX4      0,,DESCLISTPR       # OF ARGS PASSED
   000070    2 00001 4423 12           204           SXL2      1+CURR_,2,AUTOPR    SET 'NEG CURRENT'
   000071 (2)000100 6002 00            205           TZE       NULL1               GIVE ADDR(NIL)
   000072    0 00000 2363 00           206           LDQ       0,,PTRLISTPR        ADDR(ARG1)
   000073    2 00001 6353 13           207           EAA       1+0,3,AUTOPR        CALCULATE NEW 'NEXT'
   000074    2 00002 7573 00           208           STAQ      NEXT_,,AUTOPR       STORE NEXT FRAME,ADDR(ARG1)
   000075    000001 7102 10            209           TRA       1,0
                                       210  *
                                       211           ALIGN     4
   000100                              212  NULL1    NULL
   000100  X 000000 2362 07            213           LDQ       NULLSID,DL
   000101    2 00001 6353 13           214           EAA       1+0,3,AUTOPR        CALCULATE NEW 'NEXT'
   000102    2 00002 7573 00           215           STAQ      NEXT_,,AUTOPR
   000103    000001 7102 10            216           TRA       1,0

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   11   BMAP - B00     
                                       217           EJECT
                                       218  *
                                       219           ALIGN     4
   000104                              220  X66_AUTO_2 NULL
   000104    2 00002 3223 00           221           LCX2      2,,AUTOPR           NEG NEXT FRAME OFFSET
   000105    2 00001 5276 12           222           SWDX      1+0,2,AUTOPR        'NEXT' IS NOW CURRENT
   000106    2 00001 2373 12           223           LDAQ      1+0,2,AUTOPR        GET OLD 'NEG CURRENT' ->A
                                       224  *                                      0, PL6 FLAG ->Q
   000107  X 000000 2362 00            225           LDQ       S_CNODE             *** TEMP SET CURRENT NODE
   000110    2 00000 7573 00           226           STAQ      0,,AUTOPR           'NEG CURRENT'->'NEG PREV'
                                       227  *                                      SET EXTENSION, FLAG
   000111    2 00000 7413 00           228           STX1      0,,AUTOPR           SAVE ALTRET ADDR
   000112    1 00000 2243 00           229           LDX4      0,,DESCLISTPR       # OF ARGS PASSED
   000113    000001 1042 03            230           CMPX4     1,DU
   000114    2 00001 4423 12           231           SXL2      1+0,2,AUTOPR        SET 'NEG CURRENT'
   000115 (2)000130 6046 14            232           TMOZ      NULL2,4             GIVE 1 OR 2 ADDR(NIL)
   000116    000000 2232 10            233           LDX3      0,0                 SIZE OF THIS FRAME
   000117    0 00001 2363 00           234           LDQ       1,,PTRLISTPR        ADDR(ARG2)
   000120    2 00004 7563 00           235           STQ       4,,AUTOPR
   000121    0 00000 2363 00           236           LDQ       0,,PTRLISTPR        ADDR(ARG1)
   000122    2 00001 6353 13           237           EAA       1+0,3,AUTOPR        CALCULATE NEW 'NEXT'
   000123    2 00002 7573 00           238           STAQ      2,,AUTOPR
   000124    000001 7102 10            239           TRA       1,0
                                       240  *
                                       241           ALIGN     4
   000130                              242  NULL2    NULL
   000130 (2)000140 7102 00            243           TRA       NULL20              GIVE 2 NIL'S
   000131    000000 2232 10            244           LDX3      0,0                 SIZE OF THIS FRAME
   000132  X 000000 2362 07            245           LDQ       NULLSID,DL
   000133    2 00004 7563 00           246           STQ       4,,AUTOPR
   000134    0 00000 2363 00           247           LDQ       0,,PTRLISTPR        ADDR(ARG1)
   000135    2 00001 6353 13           248           EAA       1+0,3,AUTOPR        CALCULATE NEW 'NEXT'
   000136    2 00002 7573 00           249           STAQ      2,,AUTOPR
   000137    000001 7102 10            250           TRA       1,0
                                       251  *
                                       252           ALIGN     4
   000140                              253  NULL20   NULL
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   12   BMAP - B00     
   000140    000000 2232 10            254           LDX3      0,0                 SIZE OF THIS FRAME
   000141  X 000000 2362 07            255           LDQ       NULLSID,DL
   000142    2 00001 6353 13           256           EAA       1+0,3,AUTOPR        CALCULATE NEW 'NEXT'
   000143    2 00004 7563 00           257           STQ       4,,AUTOPR
   000144    2 00002 7573 00           258           STAQ      2,,AUTOPR
   000145    000001 7102 10            259           TRA       1,0

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   13   BMAP - B00     
                                       260           EJECT
                                       261  *
                                       262           ALIGN     4
   000150                              263  X66_AUTO_3 NULL
   000150    2 00002 3223 00           264           LCX2      2,,AUTOPR           NEG NEXT FRAME OFFSET
   000151    2 00001 5276 12           265           SWDX      1+0,2,AUTOPR        'NEXT' IS NOW CURRENT
   000152    2 00001 2373 12           266           LDAQ      1+0,2,AUTOPR        GET OLD 'NEG CURRENT' ->A
                                       267  *                                      0, PL6 FLAG ->Q
   000153  X 000000 2362 00            268           LDQ       S_CNODE             *** TEMP SET CURRENT NODE
   000154    2 00000 7573 00           269           STAQ      0,,AUTOPR           'NEG CURRENT'->'NEG PREV'
                                       270  *                                      SET EXTENSION, FLAG
   000155    2 00000 7413 00           271           STX1      0,,AUTOPR           SAVE ALTRET ADDR
   000156    1 00000 2243 00           272           LDX4      0,,DESCLISTPR       # OF ARGS PASSED
   000157    000002 1042 03            273           CMPX4     2,DU
   000160    2 00001 4423 12           274           SXL2      1+0,2,AUTOPR        SET 'NEG CURRENT'
   000161 (2)000172 6046 14            275           TMOZ      NULL3,4             GIVE 1,2, OR 3 ADDR(NIL)
   000162    0 00001 2353 00           276           LDA       1,,PTRLISTPR        ADDR(ARG2)
   000163    0 00002 2363 00           277           LDQ       2,,PTRLISTPR        ADDR(ARG3)
   000164    2 00004 7573 00           278           STAQ      4,,AUTOPR
   000165    000000 2232 10            279           LDX3      0,0                 SIZE OF THIS FRAME
   000166    0 00000 2363 00           280           LDQ       0,,PTRLISTPR        ADDR(ARG1)
   000167    2 00001 6353 13           281           EAA       1+0,3,AUTOPR        CALCULATE NEW 'NEXT'
   000170    2 00002 7573 00           282           STAQ      2,,AUTOPR
   000171    000001 7102 10            283           TRA       1,0
                                       284  *
                                       285           ALIGN     2
   000172                              286  NULL3    NULL
   000172 (2)000215 7102 00            287           TRA       NULL30
   000173 (2)000204 7102 00            288           TRA       NULL31
   000174    000000 2232 10            289           LDX3      0,0                 SIZE OF THIS FRAME
   000175    0 00001 2353 00           290           LDA       1,,PTRLISTPR        ADDR(ARG2)
   000176  X 000000 2362 07            291           LDQ       NULLSID,DL
   000177    2 00004 7573 00           292           STAQ      4,,AUTOPR
   000200    0 00000 2363 00           293           LDQ       0,,PTRLISTPR        ADDR(ARG1)
   000201    2 00001 6353 13           294           EAA       1+0,3,AUTOPR        CALCULATE NEW 'NEXT'
   000202    2 00002 7573 00           295           STAQ      2,,AUTOPR
   000203    000001 7102 10            296           TRA       1,0
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   14   BMAP - B00     
                                       297  *
                                       298           ALIGN     4
   000204                              299  NULL31   NULL
   000204    000000 2232 10            300           LDX3      0,0
   000205    0 00000 2363 00           301           LDQ       0,,PTRLISTPR
   000206    2 00001 6353 13           302           EAA       1+0,3,AUTOPR
   000207    2 00002 7573 00           303           STAQ      2,,AUTOPR
   000210 (2)000462 2372 00            304           LDAQ      NILPTR
   000211    2 00004 7573 00           305           STAQ      4,,AUTOPR
   000212    000001 7102 10            306           TRA       1,0
                                       307           ALIGN     1
   000215                              308  NULL30   NULL
   000215    000000 2232 10            309           LDX3      0,0
   000216 (2)000462 2372 00            310           LDAQ      NILPTR
   000217    2 00004 7573 00           311           STAQ      4,,AUTOPR
   000220    2 00001 6353 13           312           EAA       1+0,3,AUTOPR
   000221    2 00002 7573 00           313           STAQ      2,,AUTOPR
   000222    000001 7102 10            314           TRA       1,0

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   15   BMAP - B00     
                                       315           EJECT
                                       316  *
                                       317           ALIGN     4
   000224                              318  X66_AUTO_4 NULL
   000224    2 00002 3223 00           319           LCX2      2,,AUTOPR           NEG NEXT FRAME OFFSET
   000225    2 00001 5276 12           320           SWDX      1+0,2,AUTOPR        'NEXT' IS NOW CURRENT
   000226    2 00001 2373 12           321           LDAQ      1+0,2,AUTOPR        GET OLD 'NEG CURRENT' ->A
                                       322  *                                      0, PL6 FLAG ->Q
   000227  X 000000 2362 00            323           LDQ       S_CNODE             *** TEMP SET CURRENT NODE
   000230    2 00000 7573 00           324           STAQ      0,,AUTOPR           'NEG CURRENT'->'NEG PREV'
                                       325  *                                      SET EXTENSION, FLAG
   000231    2 00000 7413 00           326           STX1      0,,AUTOPR           SAVE ALTRET ADDR
   000232    1 00000 2243 00           327           LDX4      0,,DESCLISTPR       # OF ARGS PASSED
   000233    000003 1042 03            328           CMPX4     3,DU
   000234    2 00001 4423 12           329           SXL2      1+0,2,AUTOPR        SET 'NEG CURRENT'
   000235 (2)000253 6046 14            330           TMOZ      NULL4,4             GIVE 1,2, OR 3 ADDR(NIL)
   000236    0 00001 2353 00           331           LDA       1,,PTRLISTPR        ADDR(ARG2)
   000237    0 00002 2363 00           332           LDQ       2,,PTRLISTPR        ADDR(ARG3)
   000240    2 00004 7573 00           333           STAQ      4,,AUTOPR
   000241    000000 2232 10            334           LDX3      0,0                 SIZE OF THIS FRAME
   000242    0 00000 2363 00           335           LDQ       0,,PTRLISTPR        ADDR(ARG1)
   000243    0 00003 2353 00           336           LDA       3,,PTRLISTPR
   000244    2 00006 7553 00           337           STA       6,,AUTOPR
   000245    2 00001 6353 13           338           EAA       1+0,3,AUTOPR        CALCULATE NEW 'NEXT'
   000246    2 00002 7573 00           339           STAQ      2,,AUTOPR
   000247    000001 7102 10            340           TRA          1,0
                                       341  *
                                       342           ALIGN     3
   000253                              343  NULL4    NULL
   000253 (2)000303 7102 00            344           TRA       NULL40
   000254 (2)000301 7102 00            345           TRA       NULL41
   000255 (2)000270 7102 00            346           TRA       NULL42
   000256    000000 2232 10            347           LDX3      0,0
   000257    0 00001 2353 00           348           LDA       1,,PTRLISTPR
   000260    0 00002 2363 00           349           LDQ       2,,PTRLISTPR
   000261    2 00004 7573 00           350           STAQ      4,,AUTOPR
   000262  X 000000 2362 07            351           LDQ       NULLSID,DL
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   16   BMAP - B00     
   000263    2 00006 7563 00           352           STQ       6,,AUTOPR
   000264    2 00001 6353 13           353           EAA       1+0,3,AUTOPR
   000265    0 00000 2363 00           354           LDQ       0,,PTRLISTPR
   000266    2 00002 7573 00           355           STAQ      2,,AUTOPR
   000267    000001 7102 10            356           TRA          1,0
                                       357  *
                                       358           ALIGN     4
   000270                              359  NULL42   NULL
   000270  X 000000 2362 07            360           LDQ       NULLSID,DL
   000271    0 00001 2353 00           361           LDA       1,,PTRLISTPR
   000272                              362  NULL4C1  NULL
   000272    000000 2232 10            363           LDX3      0,0
   000273    2 00006 7563 00           364           STQ       6,,AUTOPR
   000274    2 00004 7573 00           365           STAQ      4,,AUTOPR
   000275    0 00000 2363 00           366           LDQ       0,,PTRLISTPR
   000276                              367  NULL4C2  NULL
   000276    2 00001 6353 13           368           EAA       1+0,3,AUTOPR
   000277    2 00002 7573 00           369           STAQ      2,,AUTOPR
   000300    000001 7102 10            370           TRA       1,0
                                       371  *
                                       372           ALIGN     1
   000301                              373  NULL41   NULL
   000301 (2)000462 2372 00            374           LDAQ      NILPTR
   000302 (2)000272 7102 00            375           TRA       NULL4C1
                                       376  *
                                       377           ALIGN     3
   000303                              378  NULL40   NULL
   000303 (2)000462 2372 00            379           LDAQ      NILPTR
   000304    000000 2232 10            380           LDX3      0,0
   000305    2 00006 7563 00           381           STQ       6,,AUTOPR
   000306    2 00004 7573 00           382           STAQ      4,,AUTOPR
   000307 (2)000276 7102 00            383           TRA       NULL4C2

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   17   BMAP - B00     
                                       384           EJECT
                                       385  *
                                       386           ALIGN     4
   000310                              387  X66_AUTO_5 NULL
   000310    2 00002 3223 00           388           LCX2      2,,AUTOPR           NEG NEXT FRAME OFFSET
   000311    2 00001 5276 12           389           SWDX      1+0,2,AUTOPR        'NEXT' IS NOW CURRENT
   000312    2 00001 2373 12           390           LDAQ      1+0,2,AUTOPR        GET OLD 'NEG CURRENT' ->A
                                       391  *                                      0, PL6 FLAG ->Q
   000313  X 000000 2362 00            392           LDQ       S_CNODE             *** TEMP SET CURRENT NODE
   000314    2 00000 7573 00           393           STAQ      0,,AUTOPR           'NEG CURRENT'->'NEG PREV'
                                       394  *                                      SET EXTENSION, FLAG
   000315    2 00000 7413 00           395           STX1      0,,AUTOPR           SAVE ALTRET ADDR
   000316    1 00000 2243 00           396           LDX4      0,,DESCLISTPR       # OF ARGS PASSED
   000317    000004 1042 03            397           CMPX4     4,DU
   000320    2 00001 4423 12           398           SXL2      1+0,2,AUTOPR        SET 'NEG CURRENT'
   000321 (2)000340 6046 14            399           TMOZ      NULL5,4             GIVE 1,2, OR 3 ADDR(NIL)
   000322    0 00004 2363 00           400           LDQ       4,,PTRLISTPR
   000323                              401  NULL5C0  NULL
   000323    0 00003 2353 00           402           LDA       3,,PTRLISTPR
   000324                              403  NULL5C1  NULL
   000324    2 00006 7573 00           404           STAQ      6,,AUTOPR
   000325    0 00002 2363 00           405           LDQ       2,,PTRLISTPR        ADDR(ARG3)
   000326                              406  NULL5C2  NULL
   000326    0 00001 2353 00           407           LDA       1,,PTRLISTPR        ADDR(ARG2)
   000327                              408  NULL5C3  NULL
   000327    000000 2232 10            409           LDX3      0,0                 SIZE OF THIS FRAME
   000330    2 00004 7573 00           410           STAQ      4,,AUTOPR
   000331    0 00000 2363 00           411           LDQ       0,,PTRLISTPR        ADDR(ARG1)
   000332                              412  NULL5C4  NULL
   000332    2 00001 6353 13           413           EAA       1+0,3,AUTOPR        CALCULATE NEW 'NEXT'
   000333    2 00002 7573 00           414           STAQ      2,,AUTOPR
   000334    000001 7102 10            415           TRA          1,0
                                       416  *
                                       417           ALIGN     4
   000340                              418  NULL5    NULL
   000340 (2)000361 7102 00            419           TRA       NULL50
   000341 (2)000354 7102 00            420           TRA       NULL51
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   18   BMAP - B00     
   000342 (2)000350 7102 00            421           TRA       NULL52
   000343 (2)000346 7102 00            422           TRA       NULL53
   000344  X 000000 2362 07            423           LDQ       NULLSID,DL
   000345 (2)000323 7102 00            424           TRA       NULL5C0
                                       425  *
                                       426           EVEN
   000346                              427  NULL53   NULL
   000346 (2)000462 2372 00            428           LDAQ      NILPTR
   000347 (2)000324 7102 00            429           TRA       NULL5C1
                                       430  *
                                       431           ALIGN     4
   000350                              432  NULL52   NULL
   000350 (2)000462 2372 00            433           LDAQ      NILPTR
   000351    2 00006 7573 00           434           STAQ      6,,AUTOPR
   000352 (2)000326 7102 00            435           TRA       NULL5C2
                                       436  *
                                       437           ALIGN     4
   000354                              438  NULL51   NULL
   000354 (2)000462 2372 00            439           LDAQ      NILPTR
   000355    2 00006 7573 00           440           STAQ      6,,AUTOPR
   000356 (2)000327 7102 00            441           TRA       NULL5C3
                                       442  *
                                       443           ALIGN     1
   000361                              444  NULL50   NULL
   000361 (2)000462 2372 00            445           LDAQ      NILPTR
   000362    000000 2232 10            446           LDX3      0,0
   000363    2 00006 7573 00           447           STAQ      6,,AUTOPR
   000364    2 00004 7573 00           448           STAQ      4,,AUTOPR
   000365 (2)000332 7102 00            449           TRA       NULL5C4

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   19   BMAP - B00     
                                       450           EJECT
                                       451  *
                                       452           ALIGN     4
   000370                              453  X66_AUTO_N NULL
   000370    2 00002 3223 00           454           LCX2      2,,AUTOPR           NEG NEXT FRAME OFFSET
   000371    2 00001 5276 12           455           SWDX      1+0,2,AUTOPR        'NEXT' IS NOW CURRENT
   000372    2 00001 2373 12           456           LDAQ      1+0,2,AUTOPR        GET OLD 'NEG CURRENT' ->A
                                       457  *                                      0, PL6 FLAG ->Q
   000373  X 000000 2362 00            458           LDQ       S_CNODE             *** TEMP SET CURRENT NODE
   000374    2 00000 7573 00           459           STAQ      0,,AUTOPR           'NEG CURRENT'->'NEG PREV'
                                       460  *                                      SET EXTENSION, FLAG
   000375    000000 2362 10            461           LDQ       0,0                 SIZE OF THIS FRAME,#PARMS
   000376    2 00000 7413 00           462           STX1      0,,AUTOPR           SAVE ALTRET ADDR
   000377    2 00001 6353 02           463           EAA       1+0,QU,AUTOPR       CALCULATE NEW 'NEXT'
   000400    2 00001 4423 12           464           SXL2      1+0,2,AUTOPR        SET 'NEG CURRENT'
   000401    2 00002 7553 00           465           STA       2,,AUTOPR           SET NEXT FRAME
   000402    000000 6232 06            466           EAX3      0,QL                # PARAMS EXPECTED
   000403    1 00000 1233 00           467           SBLX3     0,,DESCLISTPR       CHECK AGAINST # OF ARGS
   000404 (2)000415 6056 00            468           TPNZ      NULLN
   000405    000002 7362 00            469           QLS       2                   BYTES TO MOVE TO Q
   000406    000 0 140 1007 40         470           MLR       (1,1),(1,1)
   000407    0 00000 0 0 0 0006        471           ADSC9     0,,Q,PTRLISTPR
   000410    2 00003 0 0 0 0006        472           ADSC9     3,,Q,AUTOPR
   000411    000001 7102 10            473           TRA       1,0
                                       474  *
                                       475           ALIGN     1
   000415                              476  NULLN    NULL
   000415    1 00000 2363 00           477           LDQ       0,,DESCLISTPR
   000416    1 00000 2353 00           478           LDA       0,,DESCLISTPR
   000417    000020 7322 00            479           QRS       16
   000420    000 0 140 1007 40         480           MLR       (1,1),(1,1)
   000421    0 00000 0 0 0 0006        481           ADSC9     0,,Q,PTRLISTPR
   000422    2 00003 0 0 0 0006        482           ADSC9     3,,Q,AUTOPR
   000423  X 000000 2362 07            483           LDQ       NULLSID,DL
   000424    2 00003 7563 01           484           STQ       1+2,AU,AUTOPR
   000425    000002 1032 03            485           CMPX3     2,DU
   000426    000001 6042 10            486           TMI       1,0
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   20   BMAP - B00     
   000427    2 00004 7563 01           487           STQ       2+2,AU,AUTOPR
   000430    000001 6002 10            488           TZE       1,0
   000431    2 00005 7563 01           489           STQ       3+2,AU,AUTOPR
   000432    000004 1032 03            490           CMPX3     4,DU
   000433    000001 6042 10            491           TMI       1,0
   000434    2 00006 7563 01           492           STQ       4+2,AU,AUTOPR
   000435    000001 6002 10            493           TZE       1,0
   000436    2 00007 7563 01           494           STQ       5+2,AU,AUTOPR
   000437    000006 1232 03            495           SBLX3     6,DU
   000440    000001 6042 10            496           TMI       1,0
   000441    2 00010 7563 01           497           STQ       6+2,AU,AUTOPR
   000442    000001 6002 10            498           TZE       1,0
   000443    2 00002 6317 01           499           EPPR      DESCLISTPR,2,AU,AUTOPR
   000444    1 00006 7563 13           500           STQ       6,3,DESCLISTPR
   000445    000001 1232 03            501           SBLX3     1,DU
   000446    777776 6056 04            502           TPNZ      -2,IC
   000447    000001 7102 10            503           TRA       1,0

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   21   BMAP - B00     
                                       504           EJECT
                                       505  *
   000450                              506  X66_STATIC_0 NULL
   000450    000000 2222 10            507           LDX2      0,0                 ADDR('STATIC AUTO' FRAME)
   000451    000000 7412 12            508           STX1      0,2                 RET ADDR
   000452    000001 7102 10            509           TRA       1,0

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   22   BMAP - B00     
                                       510           EJECT
                                       511  *
                                       512           ALIGN     4
   000454                              513  X66_STATIC_1 NULL
   000454    000000 6352 11            514           EAA       0,1
   000455    000000 2222 10            515           LDX2      0,0
   000456    0 00000 2363 00           516           LDQ       0,,PTRLISTPR        ADDR(ARG1)
   000457    000000 7572 12            517           STAQ      0,2
   000460    000001 7102 10            518           TRA       1,0
                                       519  *
                                       520  *
   000461    000000 0112 00            521           EVEN
   000462
   000462    000000 X 000000           522  NILPTR   ZERO      0,NULLSID
   000463    000000 X 000000           523           ZERO      0,NULLSID

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   23   BMAP - B00     
                                       524           EJECT
                                       525  *
                                       526           ALIGN     4
   000464                              527  X66_STATIC_2 NULL
   000464    0 00000 2363 00           528           LDQ       0,,PTRLISTPR
   000465    000000 2222 10            529           LDX2      0,0
   000466    000000 6352 11            530           EAA       0,1
   000467    000000 7572 12            531           STAQ      0,2
   000470    0 00001 2363 00           532           LDQ       1,,PTRLISTPR
   000471    000002 7562 12            533           STQ       2,2
   000472    000001 7102 10            534           TRA       1,0
                                       535  *

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   24   BMAP - B00     
                                       536           EJECT
                                       537  *
                                       538           ALIGN     4
   000474                              539  X66_STATIC_3 NULL
   000474    0 00000 2363 00           540           LDQ       0,,PTRLISTPR
   000475    000000 2222 10            541           LDX2      0,0
   000476    000000 6352 11            542           EAA       0,1
   000477    000000 7572 12            543           STAQ      0,2
   000500    0 00001 2353 00           544           LDA       1,,PTRLISTPR
   000501    0 00002 2363 00           545           LDQ       2,,PTRLISTPR
   000502    000002 7572 12            546           STAQ      2,2
   000503    000001 7102 10            547           TRA       1,0
                                       548  *

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   25   BMAP - B00     
                                       549           EJECT
                                       550  *
                                       551           ALIGN     4
   000504                              552  X66_STATIC_4 NULL
   000504    0 00000 2363 00           553           LDQ       0,,PTRLISTPR
   000505    000000 2222 10            554           LDX2      0,0
   000506    000000 6352 11            555           EAA       0,1
   000507    000000 7572 12            556           STAQ      0,2
   000510    0 00003 2353 00           557           LDA       3,,PTRLISTPR
   000511    000004 7552 12            558           STA       4,2
   000512    0 00001 2353 00           559           LDA       1,,PTRLISTPR
   000513    0 00002 2363 00           560           LDQ       2,,PTRLISTPR
   000514    000002 7572 12            561           STAQ      2,2
   000515    000001 7102 10            562           TRA       1,0
                                       563  *

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   26   BMAP - B00     
                                       564           EJECT
                                       565  *
                                       566           ALIGN     4
   000520                              567  X66_STATIC_5 NULL
   000520    0 00000 2363 00           568           LDQ       0,,PTRLISTPR
   000521    000000 2222 10            569           LDX2      0,0
   000522    000000 6352 11            570           EAA       0,1
   000523    000000 7572 12            571           STAQ      0,2
   000524    0 00001 2353 00           572           LDA       1,,PTRLISTPR
   000525    0 00002 2363 00           573           LDQ       2,,PTRLISTPR
   000526    000002 7572 12            574           STAQ      2,2
   000527    0 00003 2353 00           575           LDA       3,,PTRLISTPR
   000530    0 00004 2363 00           576           LDQ       4,,PTRLISTPR
   000531    000004 7572 12            577           STAQ      4,2
   000532    000001 7102 10            578           TRA       1,0
                                       579  *

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   27   BMAP - B00     
                                       580           EJECT
                                       581  *
                                       582           ALIGN     4
   000534                              583  X66_STATIC_N NULL
   000534    000000 2362 10            584           LDQ       0,0                 LOC OF FRAME,#PARAMS
   000535    000000 7412 02            585           STX1      0,QU                PUT AWAY RETURN
   000536    000024 7762 00            586           QLR       20
   000537    000 0 046 1007 40         587           MLR       (1,1),(,1,,Q)
   000540    0 00000 0 0 0 0002        588           ADSC9     0,,QU,PTRLISTPR
   000541    000001 0 0 0 0002         589           ADSC9     1,,QU
   000542    000001 7102 10            590           TRA       1,0
                                       591  *

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   28   BMAP - B00     
                                       592           EJECT
                                       593  *
                                       594  *
   000543                              595  X66_PREGS_1 NULL
   000543    0 00000 4717 00           596           LDP1      0,,PTRLISTPR
   000544    000001 7102 10            597           TRA       1,0
                                       598  *
                                       599  *
   000545                              600  X66_PREGS_2 NULL
   000545    0 00000 4717 00           601           LDP1      0,,PTRLISTPR
   000546    0 00001 4737 00           602           LDP3      1,,PTRLISTPR
   000547    000001 7102 10            603           TRA       1,0
                                       604  *
                                       605  *
   000550                              606  X66_PREGS_3 NULL
   000550    0 00000 4717 00           607           LDP1      0,,PTRLISTPR
   000551    0 00001 4737 00           608           LDP3      1,,PTRLISTPR
   000552    0 00002 4747 00           609           LDP4      2,,PTRLISTPR
   000553    000001 7102 10            610           TRA       1,0

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   29   BMAP - B00     
                                       611           EJECT
                                       612  *D*
                                       613  *D* X66_FARET,X66_FAALT Normal and alternate return routines for
                                       614  *D*                function procedures which require that EAQ and
                                       615  *D*                X0 be returned to caller. Uses X1 and X3.
                                       616  *D*
                                       617  *
                                       618           ALIGN     4
   000554                              619  X66_FARET NULL
   000554    2 00000 7233 00           620           LXL3      0,,AUTOPR
   000555    2 00000 2213 00           621           LDX1      0,,AUTOPR
   000556    2 00001 5276 13           622           SWDX      1+0,3,AUTOPR
   000557    2 00001 4433 13           623           SXL3      1+0,3,AUTOPR
   000560    000001 7102 11            624           TRA       1,1
                                       625  *
   000561                              626  X66_FAALT NULL
   000561    2 00000 7233 00           627           LXL3      0,,AUTOPR
   000562    2 00000 2213 00           628           LDX1      0,,AUTOPR
   000563    2 00001 5276 13           629           SWDX      1+0,3,AUTOPR
   000564    2 00001 4433 13           630           SXL3      1+0,3,AUTOPR
   000565    000000 7102 11            631           TRA       0,1

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   30   BMAP - B00     
                                       632           EJECT
                                       633  *D*
                                       634  *D* X66_MAUNWIND,X66_MSUNWIND,X66_AAUNWIND,X66_ASUNWIND,
                                       635  *D* X66_AUNWIND,X66_SUNWIND
                                       636  *D*                MAIN, ASYNC, and callable procedure entries
                                       637  *D*                to do UNWIND.
                                       638  *
                                       639  *D*      A HAS AUTO PTR TO FRAME TO WHICH TO UNWIND
                                       640  *D*      Q HAS EPTR FORM OF ADDRESS OF WHERE TO GO
                                       641  *D*
                                       642  *D*                Call:TSX0 X66_xxUNWIND
                                       643  *D*                     ZERO return here if bad unwind variable.
                                       644  *D*
                                       645  *
   000566                              646  X66_MAUNWIND NULL
   000566                              647  X66_MSUNWIND NULL
   000566                              648  X66_AAUNWIND NULL
   000566                              649  X66_ASUNWIND NULL
   000566                              650  X66_AUNWIND NULL
   000566                              651  X66_SUNWIND NULL
   000566    2 00002 2223 00           652           LDX2      2,,AUTOPR       NEXT FRAME HDR SPACE
   000567    2 00000 6307 00           653           EPPR0     0,,AUTOPR
   000570    0 00000 5076 12           654           AWDX      0,2,0
   000571    0 00000 4527 00           655           STP       AUTOPR,0,,0
   000572    0 00001 7553 00           656           STA       1,,0
   000573    0 00000 1753 00           657           SBA       0,,0            VERIFY IF OK
   000574 (2)000574 6056 00            658           TPNZ      *               BAD IF NON-NEG
   000575    0 00001 3223 00           659           LCX2      1,,0
   000576    000001 1222 03            660           SBLX2     1,DU
   000577    2 00001 5276 12           661           SWDX      1+0,2,AUTOPR
   000600    2 00001 4423 12           662           SXL2      1+0,2,AUTOPR        SET CURRENT FRAME
   000601    000000 7102 02            663           TRA       0,QU
                                       664  *

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   31   BMAP - B00     
                                       665           EJECT
                                       666  *
   000602                              667  X66_MSTATIC NULL
   000602    0 00000 4737 00           668           LDP3      0,,0                ADDR (AUTO$)
   000603    3 00000 4737 00           669           LDP3      0,,3                AUTO$
   000604    0 00001 4717 00           670           LDP1      1,,0                ADDR (SIZE)
   000605    1 00000 2353 00           671           LDA       0,,1
   000606    000002 7352 00            672           ALS       2                   BYTES IN SEG
   000607    000 0 140 1006 00         673           MLR       ,(1,1,,)            MOVE IN BASE AND FIRST FRAME
   000610 (2)000621 0 0 0 0040         674           ADSC9     AUTO_INIT,0,32
   000611    3 00000 0 0 0 0005        675           ADSC9     0,0,A,3             FILL WITH 0'S
   000612    000020 7352 00            676           ALS       16                  DONT REACCESS INCASE IN AUTO
   000613    3 00002 7553 00           677           STA       2,,3                PUT IT IN BASE
   000614    0 00002 4717 00           678           LDP1      2,,0                ADDR (PR2$)
   000615    3 00004 5077 00           679           AWD       4,,3                ADJUST TO FIRST FRAME
   000616    1 00000 4537 00           680           STP3      0,,1
   000617    3 00002 4413 00           681           SXL1      2,,3                SET MAIN ADDRESS
   000620    000001 7102 11            682           TRA       1,1
                                       683  *
   000621                              684  AUTO_INIT NULL
   000621    000000 777773             685           ZERO      0,-5                , -CUR - 1
   000622    000000 777777             686           ZERO      0,-1                , PL6FLAG
   000623    000000 000000             687           ZERO                          LIMIT,
   000624    000000 000000             688           ZERO                          XXX
   000625    000000 777773             689           ZERO      0,-5                , -PREV - 1
   000626    000000 777777             690           ZERO      0,-1                EXT , PL6FLAG
   000627    000011 000000             691           ZERO      9,0                 NEXT + 1 , MAIN
   000630    000000 000000             692           ZERO                          XXX

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   32   BMAP - B00     
                                       693           EJECT
                                       694  *D*
                                       695  *D* X66_FRAME_EXT  Extend the current AUTO frame.
                                       696  *D*                Desired size in X1 (may be even or odd).
                                       697  *D*                Put the offset into left half of word 1.
                                       698  *D*                Return 1,X0.
                                       699  *D*                Return 0,X0 if cannot allocate.
                                       700  *D*                Use X1, X2, X3, X4, A.
                                       701  *D*                CAUTION: Multiple extensions lose value of previous
                                       702  *D*                (no automatic nest) but all storage goes away when
                                       703  *D*                current active procedure exits.
                                       704  *D*
                                       705  *D* X66_FRAME_KEXT Undo current frame extension.
                                       706  *D*                Put ext offset back as next frame offset.
                                       707  *D*                Put 0 in ext offset
                                       708  *D*
   000631                              709  X66_FRAME_EXT NULL
   000631    000000 6352 11            710           EAA       0,1
   000632    2 00002 2213 00           711           LDX1      2,,AUTOPR
   000633    000001 1212 03            712           SBLX1     1,DU
   000634    2 00001 7413 00           713           STX1      1,,AUTOPR           SAVE EXTENSION OFFSET
   000635    2 00002 0353 00           714           ADLA      2,,AUTOPR
   000636    000001 2752 03            715           ORA       =1,DU               INSURE NEXT FRAME EVEN, ODDLY
   000637    2 00002 7553 00           716           STA       2,,AUTOPR           SET NEXT FRAME ADDR
   000640    000001 7102 10            717           TRA       1,0
                                       718  *
   000641                              719  X66_FRAME_KEXT NULL
   000641    2 00001 2213 00           720           LDX1      1,,AUTOPR
   000642    2 00001 1413 00           721           SSX1      1,,AUTOPR
   000643    000001 0212 03            722           ADLX1     1,DU
   000644    2 00002 7413 00           723           STX1      2,,AUTOPR
   000645    000001 7102 10            724           TRA       1,0

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   33   BMAP - B00     
                                       725         EJECT
                                       726  *D*
                                       727  *D* X66_INDEX      Routine to execute INDEX built in subroutine.
                                       728  *D*
                                       729         INHIB   OFF
                                       730  *D*                            CALL INDEX PL-6 INTRINSIC HIT.
                                       731  *D*                            CALL INDEX(RSLT,TINYSTR,BIGSTR,START)
                                       732  *D*                            ALTRET(NOTFOUND);
                                       733  *D*                            PL-6 GENERATED IN-LINE CODE WILL
                                       734  *D*                            SET UP ARGUMENTS, PTR-S, IN REGS--
                                       735  *D*                            LDP3  ADDR(TINYSTR)
                                       736  *D*                            LDX3  LENGTHC(TINYSTR)
                                       737  *D*                            LDP0  ADDR(BIGSTR)
                                       738  *D*                            LDX0  LENGTHC(BIGSTR)
                                       739  *D*                            LDQ   START
                                       740  *D*                            LDP1  ADDR(RSLT)
                                       741  *D*                            TSX1  6INDEX -- INTIMATE CODE ENTRY.
                                       742  *D*                            TRA   NOTFOUND
                                       743  *D*                            ...   NORMAL EXIT, OCCURANCE OF TINYSTR
                                       744  *D*                                  FOUND WITHIN SUBSTR(BIGSTR,START)
                                       745  *D*                                  AT CHAR NUMBER (RSLT).
                                       746  *D*
             000000000003              747  TINYADDR EQU       3
             000000000003              748  TINYLEN  EQU       3
             000000000000              749  BIGADDR  EQU       0
             000000000000              750  BIGLEN   EQU       0
             000000000001              751  RSLTADDR EQU       1
                                       752  *
                                       753  *                              ROUTINE USES, DESTROYS A-REG, Q-REG.
                                       754  *                              PR5,PR6,PR7, X5,X6,X7 -- UNTOUCHED.
                                       755  *                              OTHER PRN -- UNCHANGED.
                                       756  *                              OTHER XN  -- UNCHANGED.
                                       757  *
   000646                              758  X66_INDEX NULL
                                       759  *                              INITIALIZE CONDITION --
                                       760  *                              Q-REG -- CURRENT -START- VALUE,
                                       761  *                                    0 .LE. START .LE. LENC(BIGSTR)-1
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   34   BMAP - B00     
                                       762  *                              A-REG + Q-REG = LENC(BIGSTR)
                                       763  *                              A-REG -- CHAR-COUNT REMAINING IN BIGSTR
                                       764  *                                    0 .LE. A-REG .LE. LENC(BIGSTR)
                                       765  *                              ALSO, INIT -RSLT- TO -START-
   000646    1 00000 7561 00           766         STQ     0,,RSLTADDR
   000647    000000 6350 10            767         EAA     ,BIGLEN
   000650    000022 7710 00            768         ARL     18
   000651    1 00000 1351 00           769         SBLA    0,,RSLTADDR
                                       770  *                              BRANCH BASED ON LENC(TINYSTR)
   000652    000003 1030 03            771         CMPX    TINYLEN,=3,DU
   000653 (2)000700 6030 00            772         TRC     6IND3           LENC(TINYSTR) .GE. 3
   000654    000001 1030 03            773         CMPX    TINYLEN,=1,DU
   000655 (2)000666 6054 00            774         TPNZ    6IND2           LENC(TINYSTR) .EQ. 2
                                       775  *                              FOR STRANGE CASE LENC(TINYSTR) .EQ. 0,
                                       776  *                              SEARCH FOR 0-LENGTH NULL STRING,
                                       777  *                              ASSUME FOUND IMMEDIATELY, AT START.
                                       778  *                              -RSLT- ALREADY SET TO -START-
                                       779  *                              NORMAL RETURN, FOUND.
   000656    000001 6040 11            780         TMI     1,1
                                       781  *                              LENC(TINYSTR) .EQ. 1.
                                       782  *                              -SCM- INSTRUC ON SUBSTR(BIGSTR,START)
   000657                              783  6IND1  NULL
   000657    000 0 100 1245 46         784         SCM     (1,1,,Q),(1,,,)
   000660    0 00000 0 0 0 0005        785         ADSC9   0,0,A,BIGADDR   SUBSTR(BIGSTR,START)=0-0,QL,BIGADDR
   000661    3 00000 0 0 0 0001        786         ADSC9   0,0,1,TINYADDR  TINYSTR=0-0,,TINYADDR LEN=1
   000662    1 00000 0001 00           787         ARG     0,,RSLTADDR     RSLT=0,,RSLTADDR
                                       788  *                              0 .LE. RSLT .LE. LENC(SUB(BIGSTR,STRT))
                                       789  *                              ADJUST SO THAT
                                       790  *                              START .LE. RSLT .LE. LENC(BIGSTR)
   000663    1 00000 0561 00           791         ASQ     0,,RSLTADDR
   000664    000001 6070 11            792         TTF     1,1             IF FOUND, MAKE NORMAL EXIT.
   000665    000000 7100 11            793         TRA     0,1             IF NOT FOUND, MAKE ALTRETURN EXIT.
                                       794  *
                                       795  *                              LENC(TINYSTR) .EQ. 2.
                                       796  *                              -SCD- INSTRUC ON SUBSTR(BIGSTR,START)
   000666                              797  6IND2  NULL
   000666    000 0 100 1205 46         798         SCD     (1,1,,Q),(1,,,)
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   35   BMAP - B00     
   000667    0 00000 0 0 0 0005        799         ADSC9   0,0,A,BIGADDR   SUBSTR(BIGSTR,START)=0-0,QL,BIGADDR
   000670    3 00000 0 0 0 0002        800         ADSC9   0,0,2,TINYADDR  TINYSTR=0-0,,TINYADDR LEN=2
   000671    1 00000 0001 00           801         ARG     0,,RSLTADDR     RSLT=0,,RSLTADDR
                                       802  *                              0.LE. RSLT .LE.LENC(SUB(BIGSTR,STRT))-1
                                       803  *                              ADJUST SO THAT
                                       804  *                              START .LE. RSLT .LE. LENC(BIGSTR)-1
                                       805  *                              IF FOUND,
                                       806  *                              START .LE. RSLT .LE. LENC(BIGSTR)-2
   000672    1 00000 0561 00           807         ASQ     0,,RSLTADDR
   000673    000001 6070 11            808         TTF     1,1             IF FOUND, MAKE NORMAL EXIT.
                                       809  *                              IF LENC(SUBSTR(BIGSTR,START)) .GE. 1,
                                       810  *                              THEN -RSLT- .EQ. LENC(BIGSTR)-1.
                                       811  *                              ADJUST TO PROPER NOT-FOUND VALUE.
   000674    1 00000 0541 00           812         AOS     0,,RSLTADDR
                                       813  *                              NOTE -- BUG OCCURS IF
                                       814  *                              LENC(SUBSTR(BIGSTR,START)) .EQ. 0,
                                       815  *                              SINCE -SCD- INSTRUC SETS -RSLT- TO 0,
                                       816  *                              INSTEAD OF LENC(SUBSTR(BIGSTR,START))-1
                                       817  *                              AND ABOVE CODE MAKES LENC(BIGSTR)+1.
                                       818  *                              POSSIBLE FIX -- USE CODE SEQUENCE --
                                       819  *                              ASQ  0,,RSLTADDR
                                       820  *                              TTF  1,1   NORMAL RETURN, FOUND
                                       821  *                              STA  0,,RSLTADDR
                                       822  *                              ASQ  0,,RSLTADDR A+Q .EQ. LENC(BIGSTR)
                                       823  *                              TRA  0,1   ALTRETURN, NOT FOUND
                                       824  *                              HOWEVER, THIS WOULD PRODUCE RESULTS
                                       825  *                              WHICH DIFFER FROM THE IN-LINE CODE
                                       826  *                              FOR -CALL-INDEX2-, WHICH IS MORE
                                       827  *                              DIFFICULT TO PATCH UP.
   000675    000000 7100 11            828         TRA     0,1             MAKE ALTRETURN, NOT FOUND.
                                       829  *
                                       830  *                              LOOP TO SCAN THRU SUBSTR(BIGSTR,START).
                                       831  *                              -TINYSTR- DOES NOT OCCUR AT
                                       832  *                              CURRENT POINT WITHIN -BIGSTR-
                                       833  *                              STEP CURRENT POINT BY 1 CHAR.
   000676                              834  6IND3L NULL
   000676    000001 0360 07            835         ADLQ    =1,DL
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   36   BMAP - B00     
   000677    000001 1350 07            836         SBLA    =1,DL
                                       837  *
                                       838  *                              LENC(TINYSTR) .GE. 3.
                                       839  *                              Q-REG -- CURRENT POINT WITHIN BIGSTR.
                                       840  *                              A-REG + Q-REG .EQ. LENC(BIGSTR).
   000700                              841  6IND3  NULL
                                       842  *
                                       843  *                              FIND CANDIDATE -TINYSTR- OCCURANCE.
                                       844  *                              USE -SCD- TO FIND NEXT OCCURANCE,
                                       845  *                              STARTING FROM -CURRENT-POINT IN BIGSTR
                                       846  *                              WHERE FIRST 2 CHARS OF -TINYSTR- ARE.
   000700    000 0 100 1205 46         847         SCD     (1,1,,Q),(1,,,)
   000701    0 00000 0 0 0 0005        848         ADSC9   0,0,A,BIGADDR   SUBSTR(BIGSTR,START)=0-0,QL,BIGADDR
   000702    3 00000 0 0 0 0002        849         ADSC9   0,0,2,TINYADDR  TINYSTR=0-0,,TINYADDR LEN=2
   000703    1 00000 0001 00           850         ARG     0,,RSLTADDR     RSLT=0,,RSLTADDR
                                       851  *                              IF END-OF-BIGSTR HIT,
                                       852  *                              THEN NO OCCURANCES OF TINYSTR.
   000704 (2)000720 6064 00            853         TTN     6IND3X
                                       854  *                              FIRST TWO CHARS OF TINYSTR FOUND.
                                       855  *                              0.LE. RSLT .LE.LENC(SUB(BIGSTR,CURR))-2
                                       856  *                              STEP CURRENT POSITION IN STRING
                                       857  *                              TO CHAR WHERE -SCD- STOPPED.
   000705    1 00000 0361 00           858         ADLQ    0,,RSLTADDR
   000706    1 00000 1351 00           859         SBLA    0,,RSLTADDR
                                       860  *                              Q-REG IS CURRENT POINT --
                                       861  *                              START .LE. CURR .LE. LENC(BIGSTR)
                                       862  *                              A-REG IS CHAR-COUNT REMAINING --
                                       863  *                              0.LE. A-REG .LE.LENC(SUB(BIGSTR,STRT0))
                                       864  *                              CHECK IF ENOUGH CHARS LEFT IN STRING
                                       865  *                              TO HOLD A FULL COPY OF -TINYSTR-
   000707    1 00000 4431 00           866         SXL     TINYLEN,0,,RSLTADDR
   000710    1 00000 1151 00           867         CMPA    0,,RSLTADDR
   000711 (2)000720 6040 00            868         TMI     6IND3X          LENC(STRING-LEFT) .LT. LENC(TINYSTR)
                                       869  *                              LENC(STRING-LEFT) .GE. LENC(TINYSTR)
                                       870  *                              CHECK FOR FULL -TINYSTR- OCCURANCE.
                                       871  *                              FILL-CHAR NOT NEEDED,
                                       872  *                              SINCE COMPARE LENGTH MATCH EXACTLY.
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   37   BMAP - B00     
   000712    000 0 140 1065 46         873         CMPC    (1,1,,Q),(1,1,,)
   000713    0 00000 0 0 0 0013        874         ADSC9   0,0,TINYLEN,BIGADDR  SUBSTR(BIGSTR,CURR)=0-0,QL,BIGADDR
   000714    3 00000 0 0 0 0013        875         ADSC9   0,0,TINYLEN,TINYADDR TINYSTR=0-0,,TINYADDR
   000715 (2)000676 6010 00            876         TNZ     6IND3L          IF NOT FOUND HERE, LOOP.
                                       877  *                              -FOUND-
                                       878  *                              OCCURANCE OF -TINYSTR- FOUND IN BIGSTR
                                       879  *                              AT CURRENT POINT.
                                       880  *                              SET -RSLT-
                                       881  *                              MAKE -NORMAL- RETURN.
   000716    1 00000 7561 00           882         STQ     0,,RSLTADDR
   000717    000001 7100 11            883         TRA     1,1
                                       884  *                              -NOT-FOUND-
                                       885  *                              POINT IN -BIGSTR- REACHED WITH
                                       886  *                              INSUFFICENT CHARS LEFT TO HOLD TINYSTR.
                                       887  *                              SET -RSLT- TO LENGTHC(BIGSTR),
                                       888  *                              (WITH A-REG + Q-REG GIVING LENGTH),
                                       889  *                              MAKE -ALTRETURN- RETURN, NOT FOUND.
   000720                              890  6IND3X NULL
   000720    1 00000 7551 00           891         STA     0,,RSLTADDR
   000721    1 00000 0561 00           892         ASQ     0,,RSLTADDR
   000722    000000 7100 11            893         TRA     0,1

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   38   BMAP - B00     
                                       894         EJECT
                                       895  *
                                       896  * BREF Loader for CP-6 Monitor
                                       897  *
                                       898  * A call from PL-6 is assumed and registers are not preserved.
                                       899  *  PR6, PR7, A, X0, X2 and X3 are clobbered.
                                       900  *
                                       901  *
                                       902         ALIGN   4
                                       903  *
   000724                              904  6XSO$BREF$$$$$$$$$$$$$$$$$$$$$ NULL
                                       905  *
                                       906         INHIB ON
   000724    000000 2352 10            907         LDA     0,X0            GET WORD CONTAINING NODE NUMBER
   000725    000000 6202 01            908         EAX0    0,AU            SAVE ADDRESS TO CALL
   000726    000010 7312 00            909         ARS     8               RIGHT JUSTIFY NODE NUMBER
   000727    001777 3752 07            910         ANA     =O1777,DL       MASK NODE NUMBER
   000730  X 000000 1152 00            911         CMPA    S_CNODE         IS IT CURRENT NODE
   000731    000000 6002 10            912         TZE     0,X0            YES, GO TO THE OVERLAY
   000732  X 000000 7552 00            913         STA     S_CNODE         SAVE NEW CURRENT NODE NUMBER
   000733  X 000000 4776 00            914         LDP7    B$SEGTBL$       GET POINTER TO SEGMENT TABLE
   000734  X 000000 4766 00            915         LDP6    B$MPT$          GET POINTER TO MON PAGE TABLE
   000735    7 00000 7223 00           916         LXL2    0,,7            GET OFFSET INTO MPT TO X2
   000736    7 00000 2353 05           917         LDA     0,AL,7          GET SEGMENT DESCRIPTOR WORD
   000737    000000 6232 05            918         EAX3    0,AL            LENGTH OF PT SEGMENT TO X3
   000740    000 0 152 1007 41         919         MLR     (1,1,,AU),(1,1,,X2),0
   000741    7 00000 0 0 0 0013        920         ADSC9   0,0,X3,7        SOURCE = SEGMENT TABLE
   000742    6 00000 0 0 0 0013        921         ADSC9   0,0,X3,6        DEST = MONITOR PAGE TABLE
   000743    000002 5326 00            922         CAMP    2               CLEAR PTWAM
   000744    000000 7102 10            923         TRA     0,X0            GO TO THE INTENDED LOCATION
                                       924         INHIB OFF
                                       925  *
                                       926           END

  CONTROL SECTION TABLE

   0 CODE   EVEN  000001 X66_JUNK
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI                                                                   39   BMAP - B00     
   1 RODATA EVEN  000000 LITERALS
   2 CODE   EIGHT 000745 X66_PROCED

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI        SYMBOL TABLE                                               40   BMAP - B00     
 00101002 000000000657 6IND1         *783
 01101002 000000000666 6IND2          774      *797
 01101002 000000000700 6IND3          772      *841
 01101002 000000000676 6IND3L        *834       876
 01101002 000000000720 6IND3X         853       868      *890
 12101002 000000000724 6XSO$BREF$$$$$$$$$$$$$$$$$$$$$     103      *904
 01101002 000000000015 AALT10         142      *146       160
 01101002 000000000005 ARET10         130      *134       154
 41000000 000000000002 AUTOPR         *41       128       135       136       140       146       147
                                      153       159       177       178       179       182       185
                                      186       187       188       194       195       196       199
                                      201       204       207       208       214       215       221
                                      222       223       226       228       231       235       237
                                      238       246       248       249       256       257       258
                                      264       265       266       269       271       274       278
                                      281       282       292       294       295       302       303
                                      305       311       312       313       319       320       321
                                      324       326       329       333       337       338       339
                                      350       352       353       355       364       365       368
                                      369       381       382       388       389       390       393
                                      395       398       404       410       413       414       434
                                      440       447       448       454       455       456       459
                                      462       463       464       465       472       482       484
                                      487       489       492       494       497       499       620
                                      621       622       623       627       628       629       630
                                      652       653       655       661       662       711       713
                                      714       716       720       721       723
 01101002 000000000621 AUTO_INIT      674      *684
 03201006 000000000000 B$ANDERSON    *116       170
 03201005 000000000000 B$BJERKE      *115       169
 03201000 000000000000 B$COLLINS     *110       164
 03201002 000000000000 B$KEYS        *112       166
 03201001 000000000000 B$KRASNY      *111       165
 03301000 000000000000 B$KRASNY_DEF  *105       129       141
 03201003 000000000000 B$MARTNER     *113       167
 03301002 000000000000 B$MPT$        *107       915
 03201008 000000000000 B$PHOENIX     *118       172
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI        SYMBOL TABLE                                               41   BMAP - B00     
 03201004 000000000000 B$ROGERS      *114       168
 03301001 000000000000 B$SEGTBL$     *106       914
 03201007 000000000000 B$SHAMMEL     *117       171
 41000000 000000000000 BIGADDR       *749       785       799       848       874
 41000000 000000000000 BIGLEN        *750       767
 41000000 000000000000 CURR_          *53       136       147       179       187       196       204
 41000000 000000000001 DESCLISTPR     *40       203       229       272       327       396       467
                                      477       478       499       500
 40000000 000000000002 LIMIT_         *54
 40000000 000000000002 LOCOFENT_      *50
 41000000 000000000002 NEXT_          *49       177       188       194       208       215
 01101002 000000000462 NILPTR         304       310       374       379       428       433       439
                                      445      *522
 01101002 000000000100 NULL1          205      *212
 01101002 000000000130 NULL2          232      *242
 01101002 000000000140 NULL20         243      *253
 01101002 000000000172 NULL3          275      *286
 01101002 000000000215 NULL30         287      *308
 01101002 000000000204 NULL31         288      *299
 01101002 000000000253 NULL4          330      *343
 01101002 000000000303 NULL40         344      *378
 01101002 000000000301 NULL41         345      *373
 01101002 000000000270 NULL42         346      *359
 01101002 000000000272 NULL4C1       *362       375
 01101002 000000000276 NULL4C2       *367       383
 01101002 000000000340 NULL5          399      *418
 01101002 000000000361 NULL50         419      *444
 01101002 000000000354 NULL51         420      *438
 01101002 000000000350 NULL52         421      *432
 01101002 000000000346 NULL53         422      *427
 01101002 000000000323 NULL5C0       *401       424
 01101002 000000000324 NULL5C1       *403       429
 01101002 000000000326 NULL5C2       *406       435
 01101002 000000000327 NULL5C3       *408       441
 01101002 000000000332 NULL5C4       *412       449
 01101002 000000000415 NULLN          468      *476
 03601000 000000000000 NULLSID        *43       213       245       255       291       351       360
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI        SYMBOL TABLE                                               42   BMAP - B00     
                                      423       483       522       523
 01101002 000000000030 OLAY           151       157      *162
 01101002 000000000024 OLYALT         144      *156
 01101002 000000000020 OLYRET         132      *150
 40000000 000000000001 PARMREG1       *56
 40000000 000000000003 PARMREG2       *57
 40000000 000000000004 PARMREG3       *58
 40000000 000000000003 PARMS_         *51
 41000000 000000000000 PREV_          *47       182
 41000000 000000000000 PTRLISTPR      *39       206       234       236       247       276       277
                                      280       290       293       301       331       332       335
                                      336       348       349       354       361       366       400
                                      402       405       407       411       471       481       516
                                      528       532       540       544       545       553       557
                                      559       560       568       572       573       575       576
                                      588       596       601       602       607       608       609
 41000000 000000000000 RET_           *46       185       201
 40000000 000000000000 RET_PREV_      *48
 41000000 000000000001 RSLTADDR      *751       766       769       787       791       801       807
                                      812       850       858       859       866       867       882
                                      891       892
 03301003 000000000000 S_CNODE       *108       131       143       181       198       225       268
                                      323       392       458       911       913
 41000000 000000000003 TINYADDR      *747       786       800       849       875
 41000000 000000000003 TINYLEN       *748       771       773       866       874       875
 12101002 000000000000 X66             80      *124
 12101002 000000000010 X66_AALT        90      *139
 00101002 000000000566 X66_AAUNWIND  *648
 13101002 000000000000 X66_ARET        90      *127       175       192       211       219       241
                                      252       262       285       298       307       317       342
                                      358       372       377       386       417       431       437
                                      443       452       475       512       526       538       551
                                      566       582       618       902
 00101002 000000000566 X66_ASUNWIND  *649
 12101002 000000000566 X66_AUNWIND     95      *650
 12101002 000000000044 X66_AUTO_0      82      *176
 12101002 000000000060 X66_AUTO_1      82      *193
 09:08 07/30/97  FILE=X6M$BREF.:E05TSI        SYMBOL TABLE                                               43   BMAP - B00     
 12101002 000000000104 X66_AUTO_2      82      *220
 12101002 000000000150 X66_AUTO_3      83      *263
 12101002 000000000224 X66_AUTO_4      84      *318
 12101002 000000000310 X66_AUTO_5      84      *387
 12101002 000000000370 X66_AUTO_N      83      *453
 12101002 000000000561 X66_FAALT       92      *626
 12101002 000000000554 X66_FARET       92      *619
 12101002 000000000631 X66_FRAME_EXT  101      *709
 12101002 000000000641 X66_FRAME_KEXT           101      *719
 12101002 000000000646 X66_INDEX       99      *758
 00101002 000000000566 X66_MAUNWIND  *646
 12101002 000000000602 X66_MSTATIC     94      *667
 00101002 000000000566 X66_MSUNWIND  *647
 12101002 000000000543 X66_PREGS_1     97      *595
 12101002 000000000545 X66_PREGS_2     97      *600
 12101002 000000000550 X66_PREGS_3     97      *606
 12101002 000000000450 X66_STATIC_0    86      *506
 12101002 000000000454 X66_STATIC_1    86      *513
 12101002 000000000464 X66_STATIC_2    86      *527
 12101002 000000000474 X66_STATIC_3    87      *539
 12101002 000000000504 X66_STATIC_4    88      *552
 12101002 000000000520 X66_STATIC_5    88      *567
 12101002 000000000534 X66_STATIC_N    87      *583
 00101002 000000000566 X66_SUNWIND   *651
 61000000 000000000723 _1            *175      *192      *211      *219      *241      *252      *262
                                     *285      *298      *307      *317      *342      *358      *372
                                     *377      *386      *417      *431      *437      *443      *452
                                     *475      *512      *526      *538      *551      *566      *582
                                     *618      *902
 61000000 000000000005 _2            *175      *192      *211      *219      *241      *252      *262
                                     *285      *298      *307      *317      *342      *358      *372
                                     *377      *386      *417      *431      *437      *443      *452
                                     *475      *512      *526      *538      *551      *566      *582
                                     *618      *902

     103 SYMBOLS

 09:08 07/30/97  FILE=X6M$BREF.:E05TSI        MACRO TABLE                                                44   BMAP - B00     
 ALIGN          175       192       211       219       241       252       262       285       298
                307       317       342       358       372       377       386       417       431
                437       443       452       475       512       526       538       551       566
                582       618       902

       1 MACRO

    SYMBOL SPACE USED  1916 WORDS
     MACRO SPACE USED    65 WORDS
   INPUT RECORDS READ  1852
 STATEMENTS PROCESSED  1391
         ELAPSED TIME  0:16.24
             CPU TIME     7.53 SEC.
        ASSEMBLY RATE 11084 STATEMENTS/CPU MIN.

      NO ERRORS


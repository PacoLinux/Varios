VERSION E05

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:1    
        1        1        /*M* DDS$BLD Build routines for common DELTA commands */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        %SET LISTSUB='1'B;
        9        9        /*F* NAME: DDS$BLD
       10       10             PURPOSE: To build command frames for common DELTA commands.
       11       11             DESCRIPTION: This module contains the common DELTA build routines.
       12       12                          The commands that are built here are the common commands
       13       13                          between User DELTA and Exec DELTA */
       14       14        /*D* NAME: DDS$BLD
       15       15             ENVIRONMENT: Delta common, DDS$SCAN active.
       16       16             INPUT: CMDCODE - Code of which command to build.
       17       17                    S_D.NCMD$ - Ptr to root of parse output tree for command to
       18       18                                be built.
       19       19                    S_D.LASTBLT$ - Ptr to build frame, where to build command.
       20       20                    S_D.REMACTIVE - Modify active build control flag.
       21       21             OUTPUT: The appropriate frame built where specified.
       22       22             CALL: CALL DDS$BLD( CMDCODE ) ALTRET( error );
       23       23             DESCRIPTION: This module contains the common DELTA build routines.
       24       24                          The commands that are built here have identical syntax
       25       25                          in User DELTA and Exec DELTA. The routines that reside
       26       26                          in DUS$BLD are the User DELTA only build routines, and
       27       27                          the Exec DELTA only build routines reside in DXS$BLD. */
       28       28
       29       29        DDS$BLD: PROC( CMDCODE ) ALTRET;
       30       30
       31       31        %INCLUDE B$OBJECT_C;
       32     3461        %INCLUDE DD$BASED;
       33     4764        %INCLUDE DD_ERR_C;
       34     5161        %INCLUDE DD_PSUBS_C;
       35     5636        %INCLUDE DD_SUBS_C;
       36     5907        %INCLUDE XU_MACRO_C;
       37     9013        %INCLUDE XU_SUBS_C;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:2    
       38     9105        %INCLUDE M_INFO_C;
       39     9245        %INCLUDE B$JIT;
       40     9535    1   DCL B$JIT$ PTR SYMREF;
       41     9536        %SUB FIXCOMSIZE="(SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1";
       42     9537        %FPRG$CONTEXT;
       43     9600        /* Parm */
       44     9601    1   DCL CMDCODE UBIN;
       45     9602        /* Auto */
       46     9603    1   DCL NCMD$ PTR;
       47     9604    1   DCL LASTBLT$ PTR;
       48     9605        /* Based */
       49     9606        %U$SE;
       50     9614        %PARSE$OUT (NAME=POB,STCLASS=BASED,NSUBLKS=NSB);
       51     9659        %PARSE$SYM (NAME=SYM,STCLASS=BASED);
       52     9697        %TEXT$C;
       53     9702        %INCLUDE DD$DITEM;
       12+    9805             %LIST;
       13+    9806    1        DCL SDD$ PTR;
       14+    9807    1        DCL ZITEM$ PTR;
       15+    9808    1        DCL SDD_L6$ PTR;
       16+    9809    1        DCL ZITEM_L6$ PTR;
       54    10383        %ZITEM;
       55    10455        %INCLUDE XUH_MACRO_C;
       56    10539        %INCLUDE DD_SD_M;
       57    11875        %S_D;
       58    13193        /* Symref */
       59    13194    1   DCL D_XDELTA BIT(1) ALIGNED SYMREF;     /* EXEC DELTA/USER DELTA FLAG */
       60    13195    1   DCL D_SYMBOLS BIT(1) ALIGNED SYMREF;
       61    13196    1   DCL USE$ PTR SYMREF;                    /* POINTER TO CURRENT USE FRAME */
       62    13197        /* Entrys */
       63    13198    1   DCL DDA$TRACEON ENTRY;                  /* TURN TRACE ON FOR ONCALLS */
       64    13199    1   DCL DDD$SIMEXP ENTRY(3) ALTRET;
       65    13200    1   DCL DDE$NOTYET ENTRY(0) ALTRET;         /* INTERIM ONLY */
       66    13201    1   DCL DDS$ATTDIRA ENTRY(2) ALTRET;   /* ATTACHABLE | DIRECT COMMAND COMMON CODE */
       67    13202    1   DCL DDS$CNSNT ENTRY(4) ALTRET;          /* EVALUATES "CNSNT_REF" NODE */
       68    13203    1   DCL DDS$DECIMAL ENTRY(2) ALTRET;        /* HANDLES DECIMALS NODE */
       69    13204    1   DCL DDS$DUBREAK ENTRY(0) ALTRET;        /* CHECKS FOR DUPLICATE BREAKPOINTS */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:3    
       70    13205    1   DCL DDS$ED_SRCH ENTRY(2) ALTRET;        /* FINDS ENTDEFS */
       71    13206    1   DCL DDS$ES_INQ ENTRY(1) ALTRET;         /* ESTABLISHES SCHEMA IN "Q" */
       72    13207    1   DCL DDS$IE_SRCH ENTRY(2) ALTRET;        /* FINDS INTERNAL ENTRYS */
       73    13208    1   DCL DDS$INSTR ENTRY(1) ALTRET;          /* Assembles instruction */
       74    13209    1   DCL DFS$INSTR ENTRY(4) ALTRET;          /* Assembles L6 instruction */
       75    13210    1   DCL DDS$ND_SRCH ENTRY(2) ALTRET;        /* FINDS NODES NAMES */
       76    13211    1   DCL DDS$OCTAL ENTRY(2) ALTRET;          /* HANDLES OCTALS NODE */
       77    13212    1   DCL DDS$HEX ENTRY(2) ALTRET;            /* HANDLES HEX NODE */
       78    13213    1   DCL DDS$POSIMX ENTRY(2) ALTRET;         /* EVALUATES "SIMEXP" NODE */
       79    13214    1   DCL DDS$POSITION ENTRY(2) ALTRET;       /* HANDLES POSITION NODE */
       80    13215    1   DCL DDS$QUAL_SRCH ENTRY(1) ALTRET;      /* HANDLES QUAL11 NODE */
       81    13216    1   DCL DDS$SDO ENTRY(2) ALTRET;            /* EVALUATES "SDO[X]" NODE */
       82    13217    1   DCL DDS$SET_Q2D ENTRY ALTRET;           /* ESTABLISHES SCHEMA ACCESS */
       83    13218    1   DCL DDS$STOREDA ENTRY(2) ALTRET;        /* COMMON STORED COMMAND CODE */
       84    13219    1   DCL DDS$VREFCOM ENTRY(2) ALTRET;        /* BUILDS DATA DESCRIPTOR */
       85    13220    1   DCL DUA$RUM_COMM ENTRY(0);              /* RECORDS COMMENTS FOR RUM MODE */
       86    13221    1   DCL DDB$CHECK_ADDR ENTRY(2) ALTRET;     /* ROUTINE TO ACCESS LOCATION    */
       87    13222    1   DCL DDE$ERROR ENTRY;
       88    13223    1   DCL DDR$BINTXT ENTRY(4);
       89    13224    1   DCL DDQ$WRITE ENTRY(2);
       90    13225    1   DCL DFA$ONCALL ENTRY(3) ALTRET;
       91    13226    1   DCL DFA$ONCALLS ENTRY(3) ALTRET;
       92    13227    1   DCL DFA$SET_AT ENTRY(3) ALTRET;
       93    13228        /*D* External build routines */
       94    13229    1   DCL DDS$BLD_DUMP ENTRY(0) ALTRET;
       95    13230    1   DCL DDS$BLD_ECHO ENTRY(0) ALTRET;
       96    13231    1   DCL DDS$BLD_KEEP ENTRY(0) ALTRET;
       97    13232    1   DCL DDS$BLD_TRAP ENTRY(0) ALTRET;
       98    13233    1   DCL DDS$BLD_IGNORE ENTRY(0) ALTRET;
       99    13234    1   DCL DDS$BLD_OUTPUT ENTRY(0) ALTRET;
      100    13235    1   DCL DDS$BLD_READ ENTRY(0) ALTRET;
      101    13236    1   DCL DDK$EVAL ENTRY(6) ALTRET;
      102    13237        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:4    
      103    13238    1        NCMD$ = S_D.NCMD$;
      104    13239    1        LASTBLT$ = S_D.LASTBLT$;
      105    13240    2        DO CASE ( CMDCODE );
      106    13241    2          CASE( 1);                 /* ABBREV */
      107    13242    2             S_D.ERROR = 34;         /* E@NOTYET */
      108    13243    2             GOTO USERRERR;
      109    13244    2          CASE( 19);                 /* ACTIVE */
      110    13245    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      111    13246    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      112    13247    2             THEN GOTO USERNDE;
      113    13248    2             CALL DDS$BLD_ACTIVE ALTRET( USERRERR );
      114    13249    2          CASE( 58);                   /* ALIB */
      115    13250    2             IF D_XDELTA THEN GOTO USERR7;
      116    13251    2             CALL DDS$BLD_ALIB ALTRET( USERRERR );
      117    13252    2          CASE( 74);                 /* ALTVAR */
      118    13253    2             CALL DDS$BLD_ALTVAR ALTRET( USERRERR );
      119    13254    2          CASE( 59 );                  /* ANLZ */
      120    13255    2             IF D_XDELTA THEN GOTO USERR7;
      121    13256    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;
      122    13257    2             CALL DDS$BLD_ANLZ ALTRET( USERRERR );
      123    13258    2          CASE( 2);                     /* AT */
      124    13259    2             CALL DDS$BLD_AT ALTRET( USERRERR );
      125    13260    2          CASE( 3);                  /* BREAK */
      126    13261    2             IF D_XDELTA THEN GOTO USERR7; /* USER DELTA ONLY */
      127    13262    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      128    13263    2             IF NOT S_D.CAN_I_DO_BREAK THEN GOTO USERR341;
      129    13264    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      130    13265    2             THEN GOTO USERNDE;
      131    13266    2             CALL DDS$BLD_BREAK ALTRET( USERRERR );
      132    13267    2          CASE( 21);                 /* BYPASS */
      133    13268    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      134    13269    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      135    13270    2             THEN GOTO USERNDE;
      136    13271    2             CALL DDS$BLD_BYPASS ALTRET( USERRERR );
      137    13272    2          CASE( 41);                  /* CACHE */
      138    13273    2             IF D_XDELTA THEN GOTO USERR7;
      139    13274    2             CALL DDS$BLD_CACHE ALTRET(USERRERR);
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:5    
      140    13275    2          CASE( 15);                   /* COPY */
      141    13276    2             IF D_XDELTA THEN GOTO USERR7;
      142    13277    2             CALL DDS$BLD_COPY ALTRET( USERRERR );
      143    13278    2          CASE( 82);                  /* CRASH */
      144    13279    2             IF NOT (S_D.FPRG AND
      145    13280    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA)
      146    13281    2             THEN GOTO USERNFEPXDELTA;
      147    13282    2             CALL DDS$BLD_CRASH ALTRET(USERRERR);
      148    13283    2          CASE( 78);                  /* DBOOT */
      149    13284    2             IF NOT D_XDELTA THEN GOTO USERR8;
      150    13285    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;
      151    13286    2             CALL DDS$BLD_DBOOT ALTRET( USERRERR );
      152    13287    2          CASE( 89);                  /* DEBUG */
      153    13288    2             CALL DDS$BLD_DEBUG ALTRET( USERRERR );
      154    13289    2          CASE( 63);                 /* DELETE */
      155    13290    2             IF D_XDELTA THEN GOTO USERR7;
      156    13291    2             IF NOT S_D.RUM THEN GOTO USERNRU;
      157    13292    2             CALL DDS$BLD_DELETE ALTRET( USERRERR );
      158    13293    2          CASE( 4);                    /* DEF */
      159    13294    2             CALL DDS$BLD_DEF ALTRET( USERRERR );
      160    13295    2          CASE( 60);                   /* DLCT */
      161    13296    2             IF NOT (S_D.FPRG AND
      162    13297    2               (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
      163    13298    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ))
      164    13299    2             THEN GOTO USERNFEPXDELTA;
      165    13300    2             CALL DDS$BLD_DLCT ALTRET(USERRERR);
      166    13301    2          CASE( 5);                     /* DO */
      167    13302    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      168    13303    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      169    13304    2             THEN GOTO USERNDE;
      170    13305    2             CALL DDS$BLD_DO ALTRET( USERRERR );
      171    13306    2          CASE( 37);                    /* DIC */
      172    13307    2             CALL DDS$BLD_DIC ALTRET( USERRERR );
      173    13308    2          CASE( 6);                /* DISPLAY */
      174    13309    2             CALL DDS$BLD_DISP ALTRET( USERRERR );
      175    13310    2          CASE( 7);                   /* DUMP */
      176    13311    2             CALL DDS$BLD_DUMP ALTRET( USERRERR );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:6    
      177    13312    2          CASE( 33);                   /* ECHO */
      178    13313    2             CALL DDS$BLD_ECHO ALTRET( USERRERR );
      179    13314    2          CASE( 8);                   /* EVAL */
      180    13315    2             CALL DDS$BLD_EVAL ALTRET( USERRERR );
      181    13316    2          CASE( 35);                    /* EOM */
      182    13317    2             IF D_XDELTA THEN GOTO USERR7;
      183    13318    2             CALL DDS$BLD_EOM ALTRET( USERRERR );
      184    13319    2          CASE( 86 );                /* ERRFID */
      185    13320    2             IF D_XDELTA THEN GOTO USERR7;
      186    13321    2             CALL DDS$BLD_ERRFID ALTRET( USERRERR );
      187    13322    2          CASE( 76);                   /* EXIT */
      188    13323    2             IF D_XDELTA THEN GOTO USERR7;
      189    13324    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      190    13325    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      191    13326    2             THEN GOTO USERNDE;
      192    13327    2             CALL DDS$BLD_EXIT ALTRET( USERRERR );
      193    13328    2          CASE( 10);                   /* FIND */
      194    13329    2             CALL DDS$BLD_FIND ALTRET( USERRERR );
      195    13330    2          CASE( 16);                 /* FORMAT */
      196    13331    2             CALL DDS$BLD_FORMAT ALTRET( USERRERR );
      197    13332    2          CASE( 50);               /* INACTIVE */
      198    13333    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      199    13334    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      200    13335    2             THEN GOTO USERNDE;
      201    13336    2             CALL DDS$BLD_INACTIVE ALTRET( USERRERR );
      202    13337    2          CASE( 17);                 /* IGNORE */
      203    13338    2             IF D_XDELTA THEN GOTO USERR7;
      204    13339    2             IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6 AND
      205    13340    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA
      206    13341    2             THEN GOTO USERL6XDELTA;
      207    13342    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      208    13343    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      209    13344    2             THEN GOTO USERNDE;
      210    13345    2             CALL DDS$BLD_IGNORE ALTRET( USERRERR );
      211    13346    2          CASE( 11);                   /* GOTO */
      212    13347    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      213    13348    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:7    
      214    13349    2             THEN GOTO USERNDE;
      215    13350    2             CALL DDS$BLD_GO ALTRET( USERRERR );
      216    13351    2          CASE( 12);                   /* HELP */
      217    13352    2             IF S_D.IFSPEC$ ~= ADDR( NIL ) THEN GOTO USERIF;
      218    13353    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;
      219    13354    2             CALL DDS$BLD_HELP ALTRET( USERRERR );
      220    13355    2          CASE( 13);                /* HISTORY */
      221    13356    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      222    13357    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      223    13358    2             THEN GOTO USERNDE;
      224    13359    2             CALL DDS$BLD_HISTORY ALTRET( USERRERR );
      225    13360    2          CASE( 20);                   /* KILL */
      226    13361    2             CALL DDS$BLD_KILL ALTRET( USERRERR );
      227    13362    2          CASE( 22);                   /* KEEP */
      228    13363    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      229    13364    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      230    13365    2             THEN GOTO USERNDE;
      231    13366    2             CALL DDS$BLD_KEEP ALTRET( USERRERR );
      232    13367    2          CASE( 27);                    /* LET */
      233    13368    2             IF S_D.ANLZ_FILE THEN GOTO USERNAN;
      234    13369    2             CALL DDS$BLD_LET ALTRET( USERRERR );
      235    13370    2          CASE( 62);                   /* LIST */
      236    13371    2             IF D_XDELTA THEN GOTO USERR7;
      237    13372    2             IF S_D.ANLZ THEN GOTO USERNAN;
      238    13373    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      239    13374    2             THEN GOTO USERNAN;
      240    13375    2             CALL DDS$BLD_LIST ALTRET( USERRERR );
      241    13376    2          CASE( 14);                /* MACLOSE */
      242    13377    2             CALL DDS$BLD_MACLOSE ALTRET( USERRERR );
      243    13378    2          CASE( 29);                /* MACTIVE */
      244    13379    2             S_D.REMACTIVE = '0'B;         /* NOT M> MODE */
      245    13380    2             CALL DDS$BLD_MACTIVE ALTRET( USERRERR );
      246    13381    2          CASE( 69);               /* MACTIVE1 */
      247    13382    2             CALL DDS$BLD_MACTIVE ALTRET( USERRERR );
      248    13383    2          CASE( 70);                   /* MINI */
      249    13384    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;
      250    13385    3             IF NOT S_D.LADC AND NOT D_XDELTA THEN DO;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:8    
      251    13386    3                  S_D.ERROR = 34;
      252    13387    3                  GOTO USERRERR;
      253    13388    3                END;
      254    13389    2             CALL DDS$BLD_MINI ALTRET( USERRERR );
      255    13390    2          CASE( 38);               /* MODIFY DW */
      256    13391    2             CALL DDS$BLD_MODIFYDW ALTRET( USERRERR );
      257    13392    2          CASE( 28);                 /* MODIFY */
      258    13393    2             CALL DDS$BLD_MODIFY ALTRET( USERRERR );
      259    13394    2          CASE( 65);                   /* MLCT */
      260    13395    2             IF NOT (S_D.FPRG AND
      261    13396    2               (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
      262    13397    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ))
      263    13398    2             THEN GOTO USERNFEPXDELTA;
      264    13399    2             CALL DDS$BLD_MLCT ALTRET(USERRERR);
      265    13400    2          CASE( 91);                   /* NAME */
      266    13401    2             CALL DDS$BLD_NAME ALTRET (USERRERR);
      267    13402    2          CASE( 30);                     /* OA */
      268    13403    2             IF D_XDELTA THEN GOTO USERR7; /* USER DELTA ONLY */
      269    13404    2             CALL DDS$BLD_OA ALTRET( USERRERR );
      270    13405    2          CASE( 31);                     /* OC */
      271    13406    2             IF ( NOT D_SYMBOLS ) THEN GOTO USERR3; /* USE_MON */
      272    13407    2             CALL DDS$BLD_OC ALTRET( USERRERR );
      273    13408    2          CASE( 53);                /* ONCALLS */
      274    13409    2             CALL DDS$BLD_ONCALLS ALTRET( USERRERR );
      275    13410    2          CASE( 32);                     /* OE */
      276    13411    2             IF D_XDELTA THEN GOTO USERR7; /* USER DELTA ONLY */
      277    13412    2             CALL DDS$BLD_OE ALTRET( USERRERR );
      278    13413    2          CASE( 34);                    /* ONN */
      279    13414    2             IF D_XDELTA='1'B THEN GOTO USERR7; /* USER DELTA ONLY */
      280    13415    2             IF NOT S_D.OVERLAID THEN GOTO USEROV;
      281    13416    2             CALL DDS$BLD_ONN ALTRET( USERRERR );
      282    13417    2          CASE( 54);                /* ONNODES */
      283    13418    2             IF D_XDELTA THEN GOTO USERR7;
      284    13419    2             IF NOT S_D.OVERLAID THEN GOTO USEROV;
      285    13420    2             CALL DDS$BLD_ONNODES ALTRET( USERRERR );
      286    13421    2          CASE( 36);                 /* OUTPUT */
      287    13422    2             CALL DDS$BLD_OUTPUT ALTRET( USERRERR );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:9    
      288    13423    2          CASE( 24);                  /* PLUGH */
      289    13424    2             CALL DDS$BLD_PLUGH ALTRET( USERRERR );
      290    13425    2          CASE( 73);                    /* PMD */
      291    13426    2             CALL DDS$BLD_PMD ALTRET( USERRERR );
      292    13427    2          CASE( 88);                /* PROTECT */
      293    13428    2             CALL DDS$BLD_PROTECT ALTRET( USERRERR );
      294    13429    2          CASE( 25);                 /* PROMPT */
      295    13430    2             CALL DDS$BLD_PROMPT ALTRET( USERRERR );
      296    13431    2          CASE( 80);                 /* QMARK1 */
      297    13432    2             IF S_D.IFSPEC$ ~= ADDR( NIL ) THEN GOTO USERIF;
      298    13433    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;
      299    13434    2             CALL DDS$BLD_QMARK1 ALTRET( USERRERR );
      300    13435    2          CASE( 81);                 /* QMARK2 */
      301    13436    2             IF S_D.IFSPEC$ ~= ADDR( NIL ) THEN GOTO USERIF;
      302    13437    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;
      303    13438    2             CALL DDS$BLD_QMARK2 ALTRET( USERRERR );
      304    13439    2          CASE( 39);                   /* QUIT */
      305    13440    2             IF D_XDELTA AND S_D.DO_ATTACH ~= 0
      306    13441    2             THEN GOTO USERAT;
      307    13442    2             CALL DDS$BLD_QUIT ALTRET( USERRERR );
      308    13443    2          CASE( 56);                  /* RANGE */
      309    13444    2             CALL DDS$BLD_RANGE ALTRET( USERRERR );
      310    13445    2          CASE( 42);                   /* READ */
      311    13446    2             CALL DDS$BLD_READ ALTRET( USERRERR );
      312    13447    2          CASE( 55);                 /* REPORT */
      313    13448    2             CALL DDS$BLD_REPORT ALTRET( USERRERR );
      314    13449    2          CASE( 72);                    /* RUM */
      315    13450    2             IF D_XDELTA THEN GOTO USERR7;
      316    13451    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;
      317    13452    2             CALL DDS$BLD_RUM ALTRET( USERRERR );
      318    13453    2          CASE( 77);                    /* SAD */
      319    13454    2             IF D_XDELTA THEN GOTO USERR7;
      320    13455    2             CALL DDS$BLD_SAD ALTRET( USERRERR );
      321    13456    2          CASE( 43);                 /* SCHEMA */
      322    13457    2             CALL DDS$BLD_SCHEMA ALTRET( USERRERR );
      323    13458    2          CASE( 66);                /* SELCHAN */
      324    13459    2             IF NOT (S_D.FPRG AND
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:10   
      325    13460    2               (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
      326    13461    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ))
      327    13462    2             THEN GOTO USERNFEPXDELTA;
      328    13463    2             CALL DDS$BLD_SELCHAN ALTRET(USERRERR);
      329    13464    2          CASE( 44);                   /* SHOW */
      330    13465    2             CALL DDS$BLD_SHOW ALTRET( USERRERR );
      331    13466    2          CASE (85);                 /* STATUS */
      332    13467    2             IF D_XDELTA THEN GOTO USERR7;
      333    13468    2             CALL DDS$BLD_STATUS ALTRET( USERRERR );
      334    13469    2          CASE( 57);                   /* STEP */
      335    13470    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;
      336    13471    2             IF S_D.PATCH THEN GOTO USERPA;
      337    13472    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      338    13473    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      339    13474    2             THEN GOTO USERNDE;
      340    13475    2             CALL DDS$BLD_STEP ALTRET( USERRERR );
      341    13476    2          CASE( 45);                   /* SAVE */
      342    13477    2             IF S_D.IFSPEC$ ~= ADDR( NIL ) THEN GOTO USERIF;
      343    13478    2             CALL DDS$BLD_SAVE ALTRET( USERRERR );
      344    13479    2          CASE( 51);                 /* SILENT */
      345    13480    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      346    13481    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      347    13482    2             THEN GOTO USERNDE;
      348    13483    2             CALL DDS$BLD_SILENT ALTRET( USERRERR );
      349    13484    2          CASE( 83);                   /* STOP */
      350    13485    2             IF D_XDELTA THEN GOTO USERR7;
      351    13486    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      352    13487    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      353    13488    2             THEN GOTO USERNDE;
      354    13489    2             IF S_D.FPRG_CONTEXT$ = ADDR(NIL) THEN GOTO USERNFS;
      355    13490    2             CALL DDS$BLD_STOP ALTRET( USERRERR );
      356    13491    2          CASE( 18);                  /* STORE */
      357    13492    2             CALL DDS$BLD_STORE ALTRET( USERRERR );
      358    13493    2          CASE( 79);                 /* SYNTAX */
      359    13494    2             CALL DDS$BLD_SYNTAX ALTRET( USERRERR );
      360    13495    2          CASE( 26);                      /* T */
      361    13496    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:11   
      362    13497    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      363    13498    2             THEN GOTO USERNDE;
      364    13499    2             CALL DDS$BLD_TRACE ALTRET( USERRERR );
      365    13500    2          CASE( 61 );                 /* TBOOT */
      366    13501    2             IF NOT D_XDELTA THEN GOTO USERR8;
      367    13502    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;
      368    13503    2             CALL DDS$BLD_TBOOT ALTRET( USERRERR );
      369    13504    2          CASE( 71 );                  /* TRAP */
      370    13505    2             IF D_XDELTA THEN GOTO USERR7;
      371    13506    2             IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6 AND
      372    13507    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA
      373    13508    2             THEN GOTO USERL6XDELTA;
      374    13509    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      375    13510    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      376    13511    2             THEN GOTO USERNDE;
      377    13512    2             CALL DDS$BLD_TRAP ALTRET( USERRERR );
      378    13513    2          CASE( 84);                    /* TSA */
      379    13514    2             IF D_XDELTA THEN GOTO USERR7; /* USER DELTA ONLY */
      380    13515    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      381    13516    2             IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST THEN GOTO USERNHOST;
      382    13517    2             CALL DDS$BLD_TSA ALTRET(USERRERR);
      383    13518    2          CASE( 64);                    /* USE */
      384    13519    2             CALL DDS$BLD_USE ALTRET( USERRERR );
      385    13520    2          CASE( 87);                  /* UNFID */
      386    13521    2             IF D_XDELTA THEN GOTO USERR7;
      387    13522    2             CALL DDS$BLD_UNFID ALTRET( USERRERR );
      388    13523    2          CASE( 90);                /* UNSHARE */
      389    13524    2             IF D_XDELTA THEN GOTO USERR7;
      390    13525    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      391    13526    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      392    13527    2             THEN GOTO USERNDE;
      393    13528    2             IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6 AND
      394    13529    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA
      395    13530    2             THEN GOTO USERL6XDELTA;
      396    13531    2             CALL DDS$BLD_UNSHARE ALTRET( USERRERR );
      397    13532    2          CASE( 52);               /* UNSILENT */
      398    13533    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:12   
      399    13534    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      400    13535    2             THEN GOTO USERNDE;
      401    13536    2             CALL DDS$BLD_UNSILENT ALTRET( USERRERR );
      402    13537    2          CASE( 75);                 /* UPDATE */
      403    13538    2             IF D_XDELTA THEN GOTO USERR7; /* USER DELTA ONLY */
      404    13539    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;
      405    13540    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      406    13541    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      407    13542    2             THEN GOTO USERNDE;
      408    13543    2             IF S_D.BATCH
      409    13544    2             THEN GOTO USERNBA;
      410    13545    2             CALL DDS$BLD_UPDATE ALTRET( USERRERR );
      411    13546    2          CASE( 40);                   /* WAIT */
      412    13547    2             IF D_XDELTA THEN GOTO USERR7; /* USER DELTA only */
      413    13548    2             IF S_D.RUM OR S_D.ANLZ
      414    13549    2             THEN GOTO USERNDE;
      415    13550    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      416    13551    2             THEN GOTO USERNDE;
      417    13552    2             CALL DDS$BLD_WAIT ALTRET(USERRERR);
      418    13553    2          CASE( 9);                   /* XCON */
      419    13554    2             IF D_XDELTA THEN GOTO USERR7;
      420    13555    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      421    13556    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      422    13557    2             THEN GOTO USERNDE;
      423    13558    2             CALL DDS$BLD_XCON ALTRET( USERRERR );
      424    13559    2          CASE( 68);                    /* XEQ */
      425    13560    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;
      426    13561    2             IF S_D.PATCH THEN GOTO USERPA;
      427    13562    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;
      428    13563    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
      429    13564    2             THEN GOTO USERNDE;
      430    13565    2             CALL DDS$BLD_XEQ ALTRET( USERRERR );
      431    13566    2          CASE ( ELSE );
      432    13567    2             GOTO UDERR1;
      433    13568    2          END;                             /* "DO CASE" */
      434    13569
      435    13570    1        RETURN;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:13   
      436    13571
      437    13572    1   USERR3: S_D.ERROR = 54; GOTO USERRERR; /* E@NOTMON */
      438    13573    1   USERR7: S_D.ERROR = 18; GOTO USERRERR; /* E@UERR7 */
      439    13574    1   USERR8: S_D.ERROR = 19; GOTO USERRERR; /* E@UERR8 */
      440    13575    1   USERR341: S_D.ERROR = 341; GOTO USERRERR; /* E@UERR341 */
      441    13576    1   UDERR1: S_D.ERROR = 501; GOTO USERRERR; /* E@DERR1 */
      442    13577    1   USERIF: S_D.ERROR = 56; GOTO USERRERR; /* E@NOTIFSPEC */
      443    13578    1   USERAT: S_D.ERROR = 47; GOTO USERRERR; /* E@NOTATT */
      444    13579    1   USEROV: S_D.ERROR = 117; GOTO USERRERR; /* E@NOT_OVERLAID */
      445    13580    1   USERPA: S_D.ERROR = 115; GOTO USERRERR; /* E@NOT_IN_PATCH */
      446    13581    1   USERNBA: S_D.ERROR = 254; GOTO USERRERR; /* E@NOTBATCH */
      447    13582    1   USERNRU: S_D.ERROR = 124; GOTO USERRERR; /* E@NOTRUM */
      448    13583    1   USERNDE: S_D.ERROR = 125; GOTO USERRERR; /* E@NOTDELTA */
      449    13584    1   USERNAN: S_D.ERROR = 250; GOTO USERRERR; /* E@NOTANLZMODE */
      450    13585    1   USERL6XDELTA: S_D.ERROR = 329; GOTO USERRERR; /* E@NOTL6XDELTA */
      451    13586    1   USERNFEPXDELTA: S_D.ERROR = 335; GOTO USERRERR; /* E@FEPXDELTAONLY */
      452    13587    1   USERNFS: S_D.ERROR = 345; GOTO USERRERR; /* E@NOFPRGSSTOP */
      453    13588    1   USERNHOST: S_D.ERROR = 347; GOTO USERRERR; /* E@CMD_ONLY_FPRG */
      454    13589
      455    13590    1   USERRERR:
      456    13591    1        ALTRETURN;
      457    13592
      458    13593        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:14   
      459    13594        /*F* NAME: DDS$BLD_ACTIVE
      460    13595             PURPOSE: TO BUILD THE ACTIVE COMMAND.
      461    13596             DESCRIPTION: BUILDS THE ACTIVE COMMAND. */
      462    13597        /*D* NAME: DDS$BLD_ACTIVE
      463    13598             CALL: CALL DDS$BLD_ACTIVE ALTRET( ERROR );
      464    13599             INTERFACE: DDS$ATTDIRA
      465    13600             ENVIRONMENT: DDS$SCAN ACTIVE
      466    13601             INPUT: NCMD$ - PTR TO "ACTIVE" NODE.
      467    13602             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      468    13603             SCRATCH: LOCAL AUTO ONLY.
      469    13604             DESCRIPTION: */
      470    13605
      471    13606    1   DDS$BLD_ACTIVE: PROC ALTRET;
      472    13607
      473    13608    2   DCL N$ PTR;
      474    13609    2   DCL V UBIN;
      475    13610    2   DCL V1 UBIN;
      476    13611    2   DCL T1 UBIN;
      477    13612        %ACTIVE$CMD (NAME=ACTIVE$CMD,STCLASS="BASED(LASTBLT$)");
      478    13625
      479    13626    2        T1 = 19;                     /* C_ACTIVE */
      480    13627    2        GOTO SETUP;
      481    13628
      482    13629    2   DDS$BLD_INACTIVE: ENTRY ALTRET;
      483    13630
      484    13631    2        T1 = 50;                   /* C_INACTIVE */
      485    13632    2        GOTO SETUP;
      486    13633
      487    13634    2   DDS$BLD_SILENT: ENTRY ALTRET;
      488    13635
      489    13636    2        T1 = 51;                     /* C_SILENT */
      490    13637    2        GOTO SETUP;
      491    13638
      492    13639    2   DDS$BLD_UNSILENT: ENTRY ALTRET;
      493    13640
      494    13641    2        T1 = 52;                   /* C_UNSILENT */
      495    13642    2        GOTO SETUP;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:15   
      496    13643
      497    13644    2   DDS$BLD_LIST: ENTRY ALTRET;
      498    13645
      499    13646    2        T1 = 62;                       /* C_LIST */
      500    13647    2        GOTO SETUP;
      501    13648
      502    13649    2   SETUP:
      503    13650    2        CALL DDS$ATTDIRA( SIZEW( ACTIVE$CMD ), T1 ) ALTRET( ARET );
      504    13651    2        ACTIVE$CMD.ID_FROM = 0;
      505    13652    2        ACTIVE$CMD.ID_TO = 0;
      506    13653    2        ACTIVE$CMD.LIST_ALL = '0'B;
      507    13654    3        IF NCMD$->POB.NSB = 0 AND T1=62 THEN DO;
      508    13655    3             ACTIVE$CMD.LIST_ALL = '1'B;
      509    13656    3             RETURN;
      510    13657    3           END;
      511    13658    2        N$ = NCMD$ -> POB.SUBLK$( 0 );
      512    13659    2        CALL DDS$DECIMAL( N$ -> POB.SUBLK$( 0 ), V ) ALTRET( ARET );
      513    13660    2        ACTIVE$CMD.ID_FROM = V;
      514    13661    2        ACTIVE$CMD.ID_TO = V;
      515    13662    2        IF (( V < 1 ) OR ( V > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1 )) AND T1~=62
             13662                 THEN GOTO ERR1;
      516    13663    2        IF ( N$ -> POB.NSB > 1 )
      517    13664    3        THEN DO;
      518    13665    3             CALL DDS$DECIMAL( N$ -> POB.SUBLK$( 1 ), V1 ) ALTRET( ARET );
      519    13666    3             ACTIVE$CMD.ID_TO = V1;
      520    13667    3             IF (( V1 < 1 ) OR ( V1 > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1 )) AND
             13667                      T1~=62 THEN GOTO ERR1;
      521    13668    3             IF ( V1 < V ) THEN GOTO EFTO;
      522    13669    3           END;
      523    13670
      524    13671    2        RETURN;
      525    13672
      526    13673    2   EFTO: S_D.ERROR = 63; GOTO ARET; /* E@FROM_TO */
      527    13674    2   ERR1: S_D.ERROR = 12;              /* E@UERR1 */
      528    13675
      529    13676    2   ARET: ALTRETURN;
      530    13677
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:16   
      531    13678    2   END DDS$BLD_ACTIVE;
      532    13679        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:17   
      533    13680        /*F* NAME: DDS$BLD_ALIB
      534    13681             PURPOSE: TO BUILD THE ALIB COMMAND.
      535    13682             DESCRIPTION: BUILDS THE ALIB COMMAND. */
      536    13683        /*D* NAME: DDS$BLD_ALIB
      537    13684             CALL: CALL DDS$BLD_ALIB ALTRET( ERROR );
      538    13685             INTERFACE: DDS$ATTDIRA
      539    13686             ENVIRONMENT: DDS$SCAN ACTIVE
      540    13687             INPUT: NCMD$ - PTR TO "ALIB" NODE.
      541    13688             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      542    13689             SCRATCH: LOCAL AUTO ONLY.
      543    13690             DESCRIPTION: */
      544    13691
      545    13692    1   DDS$BLD_ALIB: PROC ALTRET;
      546    13693
      547    13694    2   DCL NSB SBIN;
      548    13695    2   DCL IX SBIN;
      549    13696    2   DCL CODE SBIN;
      550    13697    2   DCL NC$ PTR;
      551    13698        %ALIB$CMD (NAME=ALIB$CMD,STCLASS="BASED(LASTBLT$)");
      552    13710
      553    13711    2        CALL DDS$ATTDIRA( SIZEW( ALIB$CMD ), 58 ) ALTRET( ARET ); /* C_ALIB */
      554    13712    2        NSB = NCMD$ -> POB.NSB - 1;
      555    13713    3        DO IX = 0 TO NSB;
      556    13714    3             NC$ = NCMD$ -> POB.SUBLK$( IX );
      557    13715    3             CODE = NC$ -> POB.CODE;
      558    13716    3             IF ( CODE = 85 ) OR ( CODE = 86 ) /* C@RETURN, C@ALTRETURN */
      559    13717    3             THEN ALIB$CMD.CODE = CODE;
      560    13718    3             ELSE IF CODE = 53         /* C@KEEP */
      561    13719    3                  THEN ALIB$CMD.SUBCODE = CODE; /* C@KEEP */
      562    13720    4                  ELSE DO;
      563    13721    4                       S_D.ERROR = 501; /* E@DERR1 */
      564    13722    4                       GOTO ARET;
      565    13723    4                     END;
      566    13724    3           END;
      567    13725
      568    13726    2        RETURN;
      569    13727
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:18   
      570    13728    2   ARET: ALTRETURN;
      571    13729
      572    13730    2   END DDS$BLD_ALIB;
      573    13731        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:19   
      574    13732        /*F* NAME: DDS$BLD_ALTVAR
      575    13733             PURPOSE: TO BUILD THE ALTVAR COMMAND.
      576    13734             DESCRIPTION: BUILDS THE ALTVAR COMMAND. */
      577    13735        /*D* NAME: DDS$BLD_ALTVAR
      578    13736             CALL: CALL DDS$BLD_ALTVAR ALTRET( ERROR );
      579    13737             ENVIRONMENT: DDS$SCAN ACTIVE
      580    13738             INPUT: NCMD$ - PTR TO "ALTVAR" NODE.
      581    13739             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      582    13740             SCRATCH: LOCAL AUTO ONLY.
      583    13741             DESCRIPTION: */
      584    13742
      585    13743    1   DDS$BLD_ALTVAR: PROC ALTRET;
      586    13744
      587    13745    2   DCL V UBIN;
      588    13746    2   DCL T$ PTR;
      589    13747        %DEF$CMD (NAME=ALTVAR$CMD,STCLASS="BASED(LASTBLT$)");
      590    13761
      591    13762    2        CALL DDS$ATTDIRA( SIZEW( ALTVAR$CMD ), 74 ) ALTRET( ARET ); /* C_ALTVAR */
      592    13763    2        IF NCMD$ -> POB.NSB > 0
      593    13764    3        THEN DO;
      594    13765    3             ALTVAR$CMD.ALTVAR = '1'B;
      595    13766    3             T$ = NCMD$ -> POB.SUBLK$( 0 ) -> POB.SUBLK$( 0 );
      596    13767    3             V = T$ -> TEXT$C.SIZE;
      597    13768    3             IF V > LENGTHC( ALTVAR$CMD.TEXTC.TEXT )
      598    13769    4             THEN DO;
      599    13770    4                  S_D.ERROR = 48;  /* E@SYM2LONG */
      600    13771    4                  GOTO ARET;
      601    13772    4                END;
      602    13773    3             ALTVAR$CMD.TEXTC.SIZE = V;
      603    13774    3             ALTVAR$CMD.TEXTC.TEXT = T$ -> TEXT$C.TXT;
      604    13775    3           END;
      605    13776
      606    13777    2        RETURN;
      607    13778
      608    13779    2   ARET: ALTRETURN;
      609    13780
      610    13781    2   END DDS$BLD_ALTVAR;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:20   
      611    13782        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:21   
      612    13783        /*F* NAME: DDS$BLD_ANLZ
      613    13784             PURPOSE: TO BUILD THE ANLZ COMMAND.
      614    13785             DESCRIPTION: BUILDS THE ANLZ COMMAND. */
      615    13786        /*D* NAME: DDS$BLD_ANLZ
      616    13787             CALL: CALL DDS$BLD_ANLZ ALTRET( ERROR );
      617    13788             INTERFACE: DDS$ATTDIRA
      618    13789             ENVIRONMENT: DDS$SCAN ACTIVE
      619    13790             INPUT: NCMD$ - PTR TO "ANLZ" NODE.
      620    13791             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      621    13792             SCRATCH: LOCAL AUTO ONLY.
      622    13793             DESCRIPTION: */
      623    13794
      624    13795    1   DDS$BLD_ANLZ: PROC ALTRET;
      625    13796
      626    13797    2   DCL NSB SBIN;
      627    13798    2   DCL IX SBIN;
      628    13799    2   DCL CODE SBIN;
      629    13800    2   DCL SIZE UBIN;
      630    13801    2   DCL TEXT$ PTR;
      631    13802    2   DCL NC$ PTR;
      632    13803    2   DCL I UBIN;
      633    13804    2   DCL NCC$ PTR;
      634    13805    2   DCL NCD UBIN;
      635    13806    2   DCL FEP# UBIN;
      636    13807    2   DCL CHAR2 CHAR(2) ALIGNED;
      637    13808        %ANLZ$CMD (NAME=ANLZ$CMD,STCLASS="BASED(LASTBLT$)");
      638    13831
      639    13832    2        CALL DDS$ATTDIRA( SIZEW( ANLZ$CMD ), 59 ) ALTRET( ARET ); /* C_ANLZ */
      640    13833    2        NSB = NCMD$ -> POB.NSB - 1;
      641    13834    2        ANLZ$CMD.RUNNING = '0'B;
      642    13835    2        ANLZ$CMD.FILE = '0'B;
      643    13836    2        ANLZ$CMD.FILESCH = '0'B;
      644    13837    3        DO IX = 0 TO NSB;
      645    13838    3             NC$ = NCMD$ -> POB.SUBLK$( IX );
      646    13839    3             CODE = NC$ -> POB.CODE;
      647    13840    4             DO CASE (CODE);
      648    13841    4               CASE (9);           /* C@RUNNING */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:22   
      649    13842    4                  ;
      650    13843    4               CASE (95);                 /* C@@ */
      651    13844    4                  ANLZ$CMD.RUNNING = '1'B;
      652    13845    4                  ANLZ$CMD.FID.SIZE = LENGTHC('@');
      653    13846    4                  ANLZ$CMD.FID.TEXT = '@';
      654    13847    4               CASE (96);             /* C@AFID1 */
      655    13848    4                  ANLZ$CMD.FILE = '1'B;
      656    13849    4                  TEXT$ = NC$ -> POB.SUBLK$ (0);
      657    13850    4                  SIZE = TEXT$ -> TEXT$C.SIZE;
      658    13851    4                  IF SIZE > LENGTHC(ANLZ$CMD.FID.TEXT)
      659    13852    4                  THEN GOTO ERRTL;
      660    13853    4                  ANLZ$CMD.FID = TEXT$ -> TEXT$C;
      661    13854    4               CASE (97);             /* C@AFID2 */
      662    13855    4                  ANLZ$CMD.FILESCH = '1'B;
      663    13856    4                  TEXT$ = NC$ -> POB.SUBLK$ (0);
      664    13857    4                  SIZE = TEXT$ -> TEXT$C.SIZE;
      665    13858    4                  IF SIZE > LENGTHC(ANLZ$CMD.FIDSCH.TEXT)
      666    13859    4                  THEN GOTO ERRTL;
      667    13860    4                  ANLZ$CMD.FIDSCH = TEXT$ -> TEXT$C;
      668    13861    4               CASE(118);              /* C@FANLZ */
      669    13862    4                  ANLZ$CMD.FANLZ = '1'B;
      670    13863    5                  DO I = 0 TO NC$ -> POB.NSB - 1;
      671    13864    5                       NCC$ = NC$ -> POB.SUBLK$(I);
      672    13865    5                       NCD = NCC$ -> POB.CODE;
      673    13866    5                       IF NCD = 8   /* DEC_CODE */
      674    13867    6                       THEN DO;
      675    13868    6                            CALL DDS$DECIMAL(NCC$, FEP#) ALTRET(ARET);
      676    13869    6                            IF FEP# > 99
      677    13870    6                            THEN GOTO ARETLARG;
      678    13871    6                            CALL BINCHAR(CHAR2, FEP#);
      679    13872    6                            CALL CONCAT(ANLZ$CMD.RES.RES#, 'FE', CHAR2);
      680    13873    6                          END;
      681    13874    5                       IF NCD = 115      /* DBG_U */
      682    13875    6                       THEN DO;
      683    13876    6                            NCC$ = NCC$ -> POB.SUBLK$(0);
      684    13877    6                            TEXT$ = NCC$ -> POB.SUBLK$(0);
      685    13878    6                            ANLZ$CMD.FIDSCH.SIZE = TEXT$ -> TEXT$C.SIZE;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:23   
      686    13879    6                            ANLZ$CMD.FIDSCH.TEXT = TEXT$ -> TEXT$C.TXT;
      687    13880    6                          END;
      688    13881    5                     END;
      689    13882    4               CASE (ELSE);                /* UNKNOWN COMMAND */
      690    13883    4                  S_D.ERROR = 501;     /* E@DERR1 */
      691    13884    4                  GOTO ARET;
      692    13885    4               END;
      693    13886    3           END;
      694    13887    2        RETURN;
      695    13888
      696    13889    2   ARETLARG: S_D.ERROR = 46; GOTO ARET; /* E@TOOLARGE */
      697    13890    2   ERRTL: S_D.ERROR = 48;          /* E@SYM2LONG */
      698    13891
      699    13892    2   ARET: ALTRETURN;
      700    13893
      701    13894    2   END DDS$BLD_ANLZ;
      702    13895        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:24   
      703    13896        /*F* NAME: DDS$BLD_AT
      704    13897             PURPOSE: TO BUILD THE AT COMMAND.
      705    13898             DESCRIPTION: BUILDS THE AT STORED COMMAND "FIRST ATTACHMENT"
      706    13899             IN VARCOM. SETS UP THE FIELDS IN THE FIXCOM SLOT. BUILDS THE
      707    13900             OPTIONAL BYPASS COUNT (#) AND IFSPEC FIELDS IN THE FIRST
      708    13901             ATTACHMENT. EVALUATES & BUILDS THE POSITION. RETURNS IF BUILD
      709    13902             IS SUCCESSFUL, ELSE ALTRETURNS. */
      710    13903        /*D* NAME: DDS$BLD_AT
      711    13904             INTERFACE:
      712    13905             ENVIRONMENT: DDS$SCAN ACTIVE.
      713    13906             INPUT: S_D.STORED - COMMAND ID.
      714    13907                    NCMD$ - POINTER TO N_AT NODE.
      715    13908             OUTPUT: S_D.D$ - POINTER TO NEXT FREE WORD IN VARCOM.
      716    13909             SCRATCH: LOCAL AUTO ONLY
      717    13910             DESCRIPTION: BUILDS THE AT STORED COMMAND "FIRST ATTACHMENT"
      718    13911             IN VARCOM. SETS UP THE FIELDS IN THE FIXCOM SLOT. BUILDS THE
      719    13912             OPTIONAL BYPASS COUNT (#) AND IFSPEC FIELDS IN THE FIRST
      720    13913             ATTACHMENT. EVALUATES & BUILDS THE POSITION. RETURNS IF BUILD
      721    13914             IS SUCCESSFUL, ELSE ALTRETURNS. */
      722    13915
      723    13916    1   DDS$BLD_AT: PROC ALTRET;
      724    13917
      725    13918    2   DCL IXX SBIN;                           /* INDEX FOR DO LOOP */
      726    13919    2   DCL TCODE SBIN;                         /* TEMP FOR NODE CODE */
      727    13920    2   DCL IC UBIN;                            /* POSITION ADDRESS */
      728    13921    2   DCL CHAR22 CHAR(22) BASED;
      729    13922    2   DCL BB$ PTR;
      730    13923    2   DCL SIZE UBIN;
      731    13924    2   DCL NNC$ PTR;                           /* TEMP NODE POINTER */
      732    13925    2   DCL I UBIN;
      733    13926        %B$TREE_TABLE (HDR_NAME=B$TREEHDR,NODE_NAME="B$NODE(0:0)");
      734    13984        %AT_FIRST (STCLASS="BASED(LASTBLT$)");
      735    14012        %FPRG$CONTEXT;
      736    14075
      737    14076        /* BYPASS COUNT & CURRENT COUNT INITIALIZED TO ZERO IN DDS$STOREDA */
      738    14077        /* PICK UP EACH RETURNED NODE & PROCESS IT */
      739    14078    3        DO IXX = 0 TO NCMD$->POB.NSB-1;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:25   
      740    14079    3             NNC$ = NCMD$->POB.SUBLK$(IXX); /* GET POINTER TO NEXT LEVEL NODE */
      741    14080    3             TCODE = NNC$->POB.CODE;       /* PICK UP CODE */
      742    14081    3             IF ( TCODE = 24 )     /* C@POSITION */
      743    14082    4             THEN DO;                      /* POSITION */
      744    14083    4                  CALL DDS$POSITION(NNC$,IC) ALTRET(ALTRT); /* GET POSITION (IC) */
      745    14084    4                  IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
      746    14085    5                  THEN DO;
      747    14086    5                       IF ( IC > BITBIN('777777'O) )
      748    14087    6                       THEN DO;            /* TRUNCATION - INVALID IS ADDRESS */
      749    14088    6                            S_D.ERROR = 25; /* E@UERR25 */
      750    14089    6                            GOTO ALTRT;
      751    14090    6                          END;
      752    14091    5                     END;
      753    14092    5                  ELSE DO;
      754    14093    5                       IF ( IC > BITBIN('3777777'O) )
      755    14094    6                       THEN DO;            /* TRUNCATION - INVALID IS ADDRESS */
      756    14095    6                            S_D.ERROR = 25; /* E@UERR25 */
      757    14096    6                            GOTO ALTRT;
      758    14097    6                          END;
      759    14098    5                     END;
      760    14099    4                  CALL DDS$ES_INQ( IC );   /* IGNORE ALTRET */
      761    14100    4                  CALL DDS$SET_Q2D; /* ESTABLISH DEFAULT SCHEMA FOR ATTACHMENTS */
      762    14101    4                  S_D.QUALIFIED = '0'B;
      763    14102        /* DEFAULT SCHEMA HAS BEEN SETUP - INITIALIZE FRAME & BUILD IFSPEC */
      764    14103    4                  CALL DDS$STOREDA( SIZEW(AT_FIRST), 2 ) ALTRET(ALTRT); /* C_AT */
      765    14104    4                  IF NOT D_XDELTA
      766    14105    4                  THEN IF IC >= %LIBLO * 1024 - %ISEGLO * 1024 AND
      767    14106    4                         B$JIT.TDP <= %LIBLO
      768    14107    4                       THEN AT_FIRST.NODE = 0;
      769    14108    4                       ELSE AT_FIRST.NODE = S_D.NODE;
      770    14109    4                  ELSE AT_FIRST.NODE = S_D.NODE;
      771    14110    4                  IF S_D.OVERLAID AND NOT D_XDELTA
      772    14111    4                  THEN IF NOT S_D.B$TREE$ -> B$NODE.FLGS.NOW_IN( S_D.NODE )
      773    14112    4                       THEN S_D.FIXCOM.NOT_IN( S_D.STORED ) = '1'B;
      774    14113    4                  S_D.FIXCOM.CDF(S_D.STORED) = IC; /* SET IC IN S_D.FIXCOM */
      775    14114    4                END;
      776    14115    3             ELSE IF ( TCODE = 42 )  /* C@N_AT11 */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:26   
      777    14116    4                  THEN DO;                 /* N_AT11 - BYPASS COUNT */
      778    14117    4                       NNC$ = NNC$->POB.SUBLK$(0); /* POINT TO TEXT (DECIMAL LEXEME) */
      779    14118    4                       CALL DDS$DECIMAL(NNC$,TCODE) ALTRET(ALTRT); /* GET THE NUMBER */
      780    14119    4                       AT_FIRST.BYPASS_COUNT = TCODE;
      781    14120    4                       AT_FIRST.CURRENT_COUNT = TCODE;
      782    14121    4                     END;
      783    14122    3                  ELSE IF ( TCODE = 100 ) /* C@SILENT */
      784    14123    3                       THEN S_D.FIXCOM.SILENT( S_D.STORED ) = '1'B;
      785    14124    3                       ELSE IF ( TCODE = 101 ) /* C@INACTIVE */
      786    14125    3                            THEN S_D.FIXCOM.INACTIVE( S_D.STORED ) = '1'B;
      787    14126    4                            ELSE DO;       /* UNKNOWN COMMAND */
      788    14127    4                                 S_D.ERROR = 501; /* E@DERR1 */
      789    14128    4                                 GOTO ALTRT; /* SPLIT */
      790    14129    4                               END;
      791    14130    3           END;                            /* END "DO IX" */
      792    14131    2        CALL DDS$DUBREAK ALTRET( ALTRT );
      793    14132    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
      794    14133    2        THEN CALL DDB$CHECK_ADDR (IC, 0) ALTRET(S_FAULT);
      795    14134    2        ELSE IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6
      796    14135    3             THEN DO;
      797    14136    3                  I = 1;
      798    14137    4                  DO WHILE (S_D.CURRENT_FPRG_CONTEXT$->FPRG$CONTEXT.FIXCOM_INDEX(I) ~=
             14137                           0
      799    14138    4                    AND I <= 20);
      800    14139    4                       I = I + 1;
      801    14140    4                     END;
      802    14141    3                  IF I > 20
      803    14142    4                  THEN DO;
      804    14143    4                       S_D.ERROR = 288; /* E@TOOMANYBKPNTS */
      805    14144    4                       GOTO ALTRT;
      806    14145    4                     END;
      807    14146    3                  S_D.FIXCOM.FPRG(S_D.STORED) = '1'B;
      808    14147    3                  S_D.FIXCOM.FPRG_RES(S_D.STORED) =
      809    14148    3                    S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES;
      810    14149    3                  S_D.FIXCOM.FPRG_RES_SIZE(S_D.STORED) =
      811    14150    3                    S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES_SIZE;
      812    14151    3                  IF S_D.FIXCOM.INACTIVE(S_D.STORED)
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:27   
      813    14152    3                  THEN GOTO RET;
      814    14153    3                  S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FIXCOM_INDEX(I) = S_D.
             14153                           STORED;
      815    14154    3                  CALL DFA$SET_AT(I, AT_FIRST.BYPASS_COUNT, S_D.STORED) ALTRET(ALTRT);
      816    14155    3                END;
      817    14156    3             ELSE DO;
      818    14157    3                  S_D.ERROR = 502;    /* E@DELBUG */
      819    14158    3                  CALL DDE$ERROR;
      820    14159    3                  GOTO ALTRT;
      821    14160    3                END;
      822    14161    2   RET:
      823    14162    2        RETURN;                            /* DONE - RETURN */
      824    14163    2   ALTRT:
      825    14164    2        ALTRETURN;
      826    14165    2   S_FAULT: ;
      827    14166    2        IF S_D.OVERLAID AND S_D.UNODE.USENODE ~=0
      828    14167    2        THEN RETURN;
      829    14168    2        S_D.ERROR = 237;          /* E@CANTACCESS */
      830    14169    2        CALL DDE$ERROR;
      831    14170    2        S_D.OUTPUT = 'Breakpoint ';
      832    14171    2        BB$ = PINCRC(ADDR(S_D.OUTPUT), SIZEC('Breakpoint '));
      833    14172    2        CALL DDR$BINTXT(BB$, S_D.STORED, %UINT_FMT, SIZE);
      834    14173    2        BB$ = PINCRC(BB$, SIZE);
      835    14174    2        BB$ -> CHAR22 = ' set inactive by DELTA';
      836    14175    2        CALL DDQ$WRITE(ADDR(S_D.OUTPUT), SIZEC('Breakpoint ')+22+SIZE);
      837    14176    2        S_D.FIXCOM.INACTIVE(S_D.STORED) = '1'B;
      838    14177    2        RETURN;
      839    14178
      840    14179    2   END DDS$BLD_AT;
      841    14180        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:28   
      842    14181        /*F* NAME: DDS$BLD_BREAK
      843    14182             PURPOSE: TO BUILD THE BREAK COMMAND.
      844    14183             DESCRIPTION: BUILDS THE BREAK COMMAND. */
      845    14184        /*D* NAME: DDS$BLD_BREAK
      846    14185             CALL: CALL DDS$BLD_BREAK ALTRET( ERROR );
      847    14186             INTERFACE: DDS$ATTDIRA
      848    14187             ENVIRONMENT: DDS$SCAN ACTIVE
      849    14188             INPUT: NCMD$ - PTR TO "BREAK" NODE.
      850    14189             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      851    14190             SCRATCH: LOCAL AUTO ONLY.
      852    14191             DESCRIPTION: */
      853    14192
      854    14193    1   DDS$BLD_BREAK: PROC ALTRET;
      855    14194
      856    14195    2   DCL T1 UBIN;
      857    14196        %ALL_ATTACH (STCLASS="BASED(LASTBLT$)");
      858    14211
      859    14212    2        T1 = 3;                      /* C_BREAK */
      860    14213    2        GOTO SETUP;
      861    14214
      862    14215    2   DDS$BLD_BYPASS: ENTRY ALTRET;
      863    14216
      864    14217    2        T1 = 21;                     /* C_BYPASS */
      865    14218    2        GOTO SETUP;
      866    14219
      867    14220    2   DDS$BLD_CRASH: ENTRY ALTRET;
      868    14221
      869    14222    2        T1 = 82;                      /* C_CRASH */
      870    14223    2        GOTO SETUP;
      871    14224
      872    14225    2   DDS$BLD_COPY: ENTRY ALTRET;
      873    14226
      874    14227    2        T1 = 15;                       /* C_COPY */
      875    14228    2        GOTO SETUP;
      876    14229
      877    14230    2   DDS$BLD_DBOOT: ENTRY ALTRET;
      878    14231
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:29   
      879    14232    2        T1 = 78;                      /* C_DBOOT */
      880    14233    2        GOTO SETUP;
      881    14234
      882    14235    2   DDS$BLD_DELETE: ENTRY ALTRET;
      883    14236
      884    14237    2        T1 = 63;                     /* C_DELETE */
      885    14238    2        GOTO SETUP;
      886    14239
      887    14240    2   DDS$BLD_DIC: ENTRY ALTRET;
      888    14241
      889    14242    2        T1 = 37;                        /* C_DIC */
      890    14243    2        GOTO SETUP;
      891    14244
      892    14245    2   DDS$BLD_DLCT: ENTRY ALTRET;
      893    14246
      894    14247    2        T1 = 60;                       /* C_DLCT */
      895    14248    2        GOTO SETUP;
      896    14249
      897    14250    2   DDS$BLD_EOM: ENTRY ALTRET;
      898    14251
      899    14252    2        T1 = 35;                        /* C_EOM */
      900    14253    2        GOTO SETUP;
      901    14254
      902    14255    2   DDS$BLD_EXIT: ENTRY ALTRET;
      903    14256
      904    14257    2        T1 = 76;                       /* C_EXIT */
      905    14258    2        GOTO SETUP;
      906    14259
      907    14260    2   DDS$BLD_MINI: ENTRY ALTRET;
      908    14261
      909    14262    2        T1 = 70;                       /* C_MINI */
      910    14263    2        GOTO SETUP;
      911    14264
      912    14265    2   DDS$BLD_PROTECT: ENTRY ALTRET;
      913    14266
      914    14267    2        T1 = 88;                    /* C_PROTECT */
      915    14268    2        GOTO SETUP;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:30   
      916    14269
      917    14270    2   DDS$BLD_QMARK1: ENTRY ALTRET;
      918    14271
      919    14272    2        T1 = 80;                     /* C_QMARK1 */
      920    14273    2        GOTO SETUP;
      921    14274
      922    14275    2   DDS$BLD_QMARK2: ENTRY ALTRET;
      923    14276
      924    14277    2        T1 = 81;                     /* C_QMARK2 */
      925    14278    2        GOTO SETUP;
      926    14279
      927    14280    2   DDS$BLD_STATUS: ENTRY ALTRET;
      928    14281
      929    14282    2        T1 = 85;                     /* C_STATUS */
      930    14283    2        GOTO SETUP;
      931    14284
      932    14285    2   DDS$BLD_TBOOT: ENTRY ALTRET;
      933    14286
      934    14287    2        T1 = 61;                      /* C_TBOOT */
      935    14288    2        GOTO SETUP;
      936    14289
      937    14290    2   DDS$BLD_CACHE: ENTRY ALTRET;
      938    14291
      939    14292    2        T1 = 41;                      /* C_CACHE */
      940    14293    2        GOTO SETUP;
      941    14294
      942    14295    2   DDS$BLD_XCON: ENTRY ALTRET;
      943    14296
      944    14297    2        T1 = 9;                       /* C_XCON  */
      945    14298        /*   GOTO SETUP; */
      946    14299    2   SETUP:
      947    14300    2        CALL DDS$ATTDIRA( SIZEW( ALL_ATTACH ), T1 ) ALTRET( ARET );
      948    14301
      949    14302    2        RETURN;
      950    14303
      951    14304    2   ARET: ALTRETURN;
      952    14305
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:31   
      953    14306    2   END DDS$BLD_BREAK;
      954    14307        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:32   
      955    14308        /*F* NAME: DDS$BLD_DEBUG
      956    14309             PURPOSE: TO BUILD THE DEBUG COMMAND.
      957    14310             DESCRIPTION: BUILDS THE DEBUG COMMAND. */
      958    14311        /*D* NAME: DDS$BLD_DEBUG
      959    14312             CALL: CALL DDS$BLD_DEBUG ALTRET( ERROR );
      960    14313             INTERFACE: DDS$ATTDIRA
      961    14314             ENVIRONMENT: DDS$SCAN ACTIVE
      962    14315             INPUT: NCMD$ - PTR TO "DEBUG" NODE.
      963    14316             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      964    14317             SCRATCH: LOCAL AUTO ONLY.
      965    14318             DESCRIPTION: */
      966    14319
      967    14320    1   DDS$BLD_DEBUG: PROC ALTRET;
      968    14321
      969    14322    2   DCL NSB SBIN;
      970    14323    2   DCL IX SBIN;
      971    14324    2   DCL CODE SBIN;
      972    14325    2   DCL NC$ PTR;
      973    14326    2   DCL NCD UBIN;
      974    14327    2   DCL NCC$ PTR;
      975    14328    2   DCL TEXT$ PTR;
      976    14329    2   DCL SIZE UBIN;
      977    14330    2   DCL I UBIN;
      978    14331        %DEBUG$CMD (NAME=DEBUG$CMD,STCLASS="BASED(LASTBLT$)");
      979    14354
      980    14355    2        CALL DDS$ATTDIRA( SIZEW( DEBUG$CMD ), 89 ) ALTRET( ARET ); /* C_DEBUG */
      981    14356    2        NSB = NCMD$ -> POB.NSB - 1;
      982    14357    2        IF NSB < 0
      983    14358    3        THEN DO;                           /* Nothing */
      984    14359    3           END;
      985    14360    3        ELSE DO IX = 0 TO NSB;
      986    14361    3             NC$ = NCMD$ -> POB.SUBLK$( IX );
      987    14362    3             CODE = NC$ -> POB.CODE;
      988    14363    3             IF CODE = 530               /* C@ALL */
      989    14364    3             THEN DEBUG$CMD.OPTIONS = '777777777777'O;
      990    14365    3             ELSE IF CODE = 531         /* C@NONE */
      991    14366    4                  THEN DO;                 /* Nothing */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:33   
      992    14367    4                     END;
      993    14368    3                  ELSE IF CODE = 8  /* DECIMALS */
      994    14369    4                       THEN DO;
      995    14370    4                            CALL DDS$DECIMAL( NC$, CODE ) ALTRET( ARET );
      996    14371    4                            IF CODE > SIZEB( CODE ) -1
      997    14372    4                            THEN GOTO ARETLARG;
      998    14373    4                            DEBUG$CMD.OPTARRY( CODE ) = '1'B;
      999    14374    4                          END;
     1000    14375    3                       ELSE IF CODE = 108 /* DBG_CG */
     1001    14376    4                            THEN DO;
     1002    14377    4                                 NCC$ = NC$ -> POB.SUBLK$(0);
     1003    14378    4                                 TEXT$ = NCC$ -> POB.SUBLK$(0);
     1004    14379    4                                 DEBUG$CMD.STATION_FID.SIZE = TEXT$ -> TEXT$C.SIZE;
     1005    14380    4                                 DEBUG$CMD.STATION_FID.TEXT = TEXT$ -> TEXT$C.TXT;
     1006    14381    4                                 NCC$ = NC$ -> POB.SUBLK$(1);
     1007    14382    4                                 NCD = NCC$ -> POB.CODE;
     1008    14383    4                                 NCC$ = NCC$ -> POB.SUBLK$(0);
     1009    14384    4                                 TEXT$ = NCC$ -> POB.SUBLK$(0);
     1010    14385    4                                 SIZE = TEXT$ -> TEXT$C.SIZE + 3;
     1011    14386    4                                 IF SIZE > LENGTHC(DEBUG$CMD.CG_FID)
     1012    14387    5                                 THEN DO;
     1013    14388    5                                      S_D.ERROR = 48; /* E@SYM2LONG */
     1014    14389    5                                      GOTO ARET;
     1015    14390    5                                    END;
     1016    14391    4                                 IF NCD = 111 /* CG_CODE */
     1017    14392    5                                 THEN DO;
     1018    14393    5                                      NCD = NCC$ -> POB.CODE;
     1019    14394    5                                      NCC$ = NCC$ -> POB.SUBLK$(0);
     1020    14395    5                                      TEXT$ = NCC$ -> POB.SUBLK$(0);
     1021    14396    5                                      DEBUG$CMD.CG = '1'B;
     1022    14397    5                                      IF NCD = 117
     1023    14398    6                                      THEN DO;
     1024    14399    6                                           DEBUG$CMD.CG_FID.SIZE = TEXT$ -> TEXT$C.SIZE
             14399                                                    ;
     1025    14400    6                                           DEBUG$CMD.CG_FID.TEXT = TEXT$ -> TEXT$C.TXT;
     1026    14401    6                                         END;
     1027    14402    6                                      ELSE DO;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:34   
     1028    14403    6                                           DEBUG$CMD.CG_FID.SIZE = TEXT$ -> TEXT$C.SIZE
             14403                                                    + 3;
     1029    14404    6                                           CALL CONCAT(DEBUG$CMD.CG_FID.TEXT, 'CG/',
             14404                                                    TEXT$ -> TEXT$C.TXT);
     1030    14405    6                                         END;
     1031    14406    5                                    END;
     1032    14407    5                                 ELSE DO;
     1033    14408    5                                      DEBUG$CMD.TPACCT = '1'B;
     1034    14409    5                                      DEBUG$CMD.CG_FID.SIZE = TEXT$ -> TEXT$C.SIZE;
     1035    14410    5                                      DEBUG$CMD.CG_FID.TEXT = TEXT$ -> TEXT$C.TXT;
     1036    14411    5                                    END;
     1037    14412    4                               END;
     1038    14413    3                            ELSE IF CODE = 109 /* DBG_SYSID */
     1039    14414    4                                 THEN DO;
     1040    14415    4                                      NCC$ = NC$ -> POB.SUBLK$(0);
     1041    14416    4                                      CALL DDS$DECIMAL (NCC$, NCD) ALTRET(ARET);
     1042    14417    4                                      DEBUG$CMD.SYSID# = NCD;
     1043    14418    4                                      NCC$ = NC$ -> POB.SUBLK$(1);
     1044    14419    4                                      TEXT$ = NCC$ -> POB.SUBLK$(0);
     1045    14420    4                                      DEBUG$CMD.STATION_FID.SIZE = TEXT$ -> TEXT$C.SIZE
             14420                                               ;
     1046    14421    4                                      DEBUG$CMD.STATION_FID.TEXT = TEXT$ -> TEXT$C.TXT;
     1047    14422    4                                      DEBUG$CMD.SYSID = '1'B;
     1048    14423    4                                    END;
     1049    14424    3                                 ELSE IF CODE = 113 /* DBG_FEP */
     1050    14425    4                                      THEN DO;
     1051    14426    4                                           DEBUG$CMD.FEP = '1'B;
     1052    14427    5                                           DO I = 0 TO NC$ -> POB.NSB - 1;
     1053    14428    5                                                NCC$ = NC$ -> POB.SUBLK$(I);
     1054    14429    5                                                NCD = NCC$ -> POB.CODE;
     1055    14430    5                                                IF NCD = 114 /* DBG_@ */
     1056    14431    6                                                THEN DO;
     1057    14432    6                                                     NCC$ = NCC$ -> POB.SUBLK$(0);
     1058    14433    6                                                     TEXT$ = NCC$ -> POB.SUBLK$(0);
     1059    14434    6                                                     DEBUG$CMD.STATION_FID.SIZE = TEXT$
             14434                                                              -> TEXT$C.SIZE;
     1060    14435    6                                                     DEBUG$CMD.STATION_FID.TEXT = TEXT$
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:35   
             14435                                                              -> TEXT$C.TXT;
     1061    14436    6                                                   END;
     1062    14437    5                                                IF NCD = 115 /* DBG_U */
     1063    14438    6                                                THEN DO;
     1064    14439    6                                                     NCC$ = NCC$ -> POB.SUBLK$(0);
     1065    14440    6                                                     TEXT$ = NCC$ -> POB.SUBLK$(0);
     1066    14441    6                                                     DEBUG$CMD.CG_FID.SIZE = TEXT$ ->
             14441                                                              TEXT$C.SIZE;
     1067    14442    6                                                     DEBUG$CMD.CG_FID.TEXT = TEXT$ ->
             14442                                                              TEXT$C.TXT;
     1068    14443    6                                                   END;
     1069    14444    5                                              END;
     1070    14445    4                                         END;
     1071    14446    3           END;
     1072    14447
     1073    14448    2        RETURN;
     1074    14449
     1075    14450    2   ARETLARG: S_D.ERROR = 46; GOTO ARET; /* E@TOOLARGE */
     1076    14451
     1077    14452    2   ARET:
     1078    14453    2        ALTRETURN;
     1079    14454
     1080    14455    2   END DDS$BLD_DEBUG;
     1081    14456        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:36   
     1082    14457        /*F* NAME: DDS$BLD_DEF
     1083    14458             PURPOSE: TO BUILD THE DEF COMMAND.
     1084    14459             DESCRIPTION: BUILDS THE DEF COMMAND. */
     1085    14460        /*D* NAME: DDS$BLD_DEF
     1086    14461             CALL: CALL DDS$BLD_DEF ALTRET( ERROR );
     1087    14462             INTERFACE: DDS$INSTR
     1088    14463                        DDS$VREFCOM
     1089    14464             ENVIRONMENT: DDS$SCAN ACTIVE
     1090    14465             INPUT: NCMD$ - PTR TO "DEF" NODE.
     1091    14466             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1092    14467             SCRATCH: LOCAL AUTO ONLY.
     1093    14468             DESCRIPTION: GETS "DEF"INED SYMBOLIC TEXT, WHICH MUST BE LESS THAN
     1094    14469             31 CHARACTERS LONG. BUILDS DATA DESCRIPTOR BY CALLING DDS$VREFCOM.
     1095    14470             RETURNS IF OK, ELSE ALTRETURNS. */
     1096    14471
     1097    14472    1   DDS$BLD_DEF: PROC ALTRET;
     1098    14473
     1099    14474    2   DCL TEXT$ PTR;
     1100    14475        %DEF$CMD (STCLASS="BASED(LASTBLT$)");
     1101    14489
     1102    14490    2        CALL DDS$ATTDIRA( SIZEW( DEF$CMD ), 4 ) ALTRET( ARET ); /* C_DEF */
     1103    14491    2        TEXT$ = NCMD$ -> POB.SUBLK$( 0 ) -> POB.SUBLK$( 0 );
     1104    14492    2        IF ( TEXT$ -> TEXT$C.SIZE > 31 )
     1105    14493    3        THEN DO;
     1106    14494    3             S_D.ERROR = 48;       /* E@SYM2LONG */
     1107    14495    3             GOTO ARET;
     1108    14496    3           END;
     1109    14497    2        DEF$CMD.TEXTC = TEXT$ -> TEXT$C;
     1110    14498    2        ZITEM$ = S_D.D$;
     1111    14499    2        CALL DDS$VREFCOM( NCMD$ -> POB.SUBLK$( 1 ) ) ALTRET( ARET );
     1112    14500    2        IF ( NOT ZITEM.FLAGS.MDSE.E )
     1113    14501    3        THEN DO;
     1114    14502    3             S_D.ERROR = 43;         /* E@NOEVAL */
     1115    14503    3             GOTO ARET;
     1116    14504    3           END;
     1117    14505
     1118    14506    2        RETURN;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:37   
     1119    14507
     1120    14508    2   ARET: ALTRETURN;
     1121    14509
     1122    14510    2   END DDS$BLD_DEF;
     1123    14511        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:38   
     1124    14512        /*F* NAME: DDS$BLD_DO
     1125    14513             PURPOSE: TO BUILD THE DO COMMAND.
     1126    14514             DESCRIPTION: BUILDS THE DO ATTACHMENT. */
     1127    14515        /*D* NAME: DDS$BLD_DO
     1128    14516             INTERFACE:
     1129    14517             ENVIRONMENT: DDS$SCAN ACTIVE.
     1130    14518             INPUT: NCMD$ - POINTER TO N_DO NODE.
     1131    14519             OUTPUT: S_D.D$ - POINTER TO NEXT FREE WORD IN VARCOM.
     1132    14520             SCRATCH: LOCAL AUTO ONLY
     1133    14521             DESCRIPTION: BUILDS THE DO ATTACHMENT. */
     1134    14522
     1135    14523    1   DDS$BLD_DO: PROC ALTRET;
     1136    14524
     1137    14525    2   DCL TCODE SBIN;                         /* TEMP FOR ID */
     1138    14526        %DOO (STCLASS="BASED(LASTBLT$)");
     1139    14541
     1140    14542        /* INITIAL PROCESSING */
     1141    14543    2        CALL DDS$ATTDIRA( SIZEW(DOO), 5 ) /* C_DO */ ALTRET(ALTRT);
     1142    14544        /* GET THE ID & SPLIT */
     1143    14545    2        CALL DDS$DECIMAL(NCMD$->POB.SUBLK$(0),TCODE) ALTRET(ALTRT);
             14545                 /* GET THE ID TO DOO */
     1144    14546        /* MAKE SURE ID IS IN RANGE */
     1145    14547    2        IF (TCODE < 1) OR (TCODE > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1)
     1146    14548    3        THEN DO;                           /* OUT OF RANGE */
     1147    14549    3             S_D.ERROR = 12;          /* E@UERR1 */
     1148    14550    3             GOTO ALTRT;
     1149    14551    3           END;                            /* OUT OF RANGE */
     1150    14552    2        ELSE ;
     1151    14553    2        DOO.ID = TCODE;
     1152    14554    2        RETURN;                            /* DONE - RETURN */
     1153    14555    2   ALTRT:
     1154    14556    2        ALTRETURN;
     1155    14557
     1156    14558    2   END DDS$BLD_DO;
     1157    14559        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:39   
     1158    14560        /*F* NAME: DDS$BLD_DISP
     1159    14561             PURPOSE: TO BUILD THE DISPLAY COMMAND.
     1160    14562             DESCRIPTION: BUILDS THE DISPLAY ATTACHMENT. */
     1161    14563        /*D* NAME: DDS$BLD_DISPLAY
     1162    14564             INTERFACE:
     1163    14565             ENVIRONMENT: DDS$SCAN ACTIVE.
     1164    14566             INPUT: NCMD$ - POINTER TO N_DISPLAY NODE.
     1165    14567             OUTPUT: S_D.D$ - POINTER TO NEXT FREE WORD IN VARCOM.
     1166    14568             SCRATCH: LOCAL AUTO ONLY
     1167    14569             DESCRIPTION: BUILDS THE DISPLAY ATTACHMENT. */
     1168    14570
     1169    14571    1   DDS$BLD_DISP: PROC ALTRET;
     1170    14572
     1171    14573    2   DCL VREF SBIN;
     1172    14574    2   DCL NVREF$ PTR;
     1173    14575    2   DCL VREF$ PTR;
     1174    14576    2   DCL NUM SBIN;
     1175    14577        %DISPLAY (STCLASS="BASED(LASTBLT$)");
     1176    14588
     1177    14589    2        S_D.ERROR_SYM$ = ADDR(NIL);
     1178    14590    2        CALL DDS$ATTDIRA(SIZEW(DISPLAY),6) ALTRET(ARET); /*C_DISPLAY */
     1179    14591    2        NVREF$ = NCMD$ -> POB.SUBLK$(0);
     1180    14592    2        NUM = NVREF$ -> POB.NSB;
     1181    14593    2        DISPLAY.NUM = NUM;
     1182    14594    3        DO VREF = 0 TO NUM - 1;
     1183    14595        /*D* LEAVE "Q" AS IS (DON'T COPY D2Q) */
     1184    14596    3             VREF$ = NVREF$ -> POB.SUBLK$( VREF ); /* VREF_CODE */
     1185    14597    3             ZITEM$ = S_D.D$;         /* REMEMBER BEGINNING OF DATA DESCRIPTOR */
     1186    14598    3             CALL DDS$VREFCOM( VREF$ ) ALTRET( ARET );
     1187    14599    3             IF NOT ZITEM.FLAGS.MDSE.D
     1188    14600    4             THEN DO;
     1189    14601    4                  S_D.ERROR = 41;    /* E@NODISP */
     1190    14602    4                  ALTRETURN;
     1191    14603    4                END;
     1192    14604    3           END;                            /* DO VREF = 0 TO NCMD$ -> ... */
     1193    14605    2        RETURN;
     1194    14606    2   ARET:
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:40   
     1195    14607    2        ALTRETURN;
     1196    14608
     1197    14609    2   END DDS$BLD_DISP;
     1198    14610        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:41   
     1199    14611        /*F* NAME: DDS$BLD_ERRFID
     1200    14612             PURPOSE: TO BUILD THE ERRFID COMMAND.
     1201    14613             DESCRIPTION: BUILDS THE ERRFID COMMAND. */
     1202    14614        /*D* NAME: DDS$BLD_ERRFID
     1203    14615             CALL: CALL DDS$BLD_ERRFID ALTRET( ERROR );
     1204    14616             ENVIRONMENT: DDS$SCAN ACTIVE
     1205    14617             INPUT: NCMD$ - PTR TO "ERRFID" NODE.
     1206    14618             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1207    14619             SCRATCH: LOCAL AUTO ONLY.
     1208    14620             DESCRIPTION: BUILDS THE ERRFID COMMAND, USE THE RUM$CMD
     1209    14621             STRUCTURE BUT JUST THE FID IS USED. */
     1210    14622
     1211    14623    1   DDS$BLD_ERRFID: PROC ALTRET;
     1212    14624
     1213    14625        %RUM$CMD (NAME=ERRFID$CMD, STCLASS="BASED(LASTBLT$)");
     1214    14649
     1215    14650    2        CALL DDS$ATTDIRA( SIZEW( ERRFID$CMD ), 86 ) ALTRET( ARET ); /* C_ERRFID */
     1216    14651
     1217    14652    2        ERRFID$CMD.FID = NCMD$->POB.SUBLK$(0)->POB.SUBLK$(0)->TEXT$C;
     1218    14653    2        RETURN;
     1219    14654
     1220    14655    2   ARET: ALTRETURN;
     1221    14656
     1222    14657    2   END DDS$BLD_ERRFID;
     1223    14658        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:42   
     1224    14659        /*F* NAME: DDS$BLD_EVAL
     1225    14660             PURPOSE: TO BUILD THE EVAL COMMAND.
     1226    14661             DESCRIPTION: BUILDS THE EVAL COMMAND. */
     1227    14662        /*D* NAME: DDS$BLD_EVAL
     1228    14663             CALL: CALL DDS$BLD_EVAL ALTRET( ERROR );
     1229    14664             INTERFACE: DDS$INSTR
     1230    14665                        DDS$VREFCOM
     1231    14666             ENVIRONMENT: DDS$SCAN ACTIVE
     1232    14667             INPUT: NCMD$ - PTR TO "EVAL" NODE.
     1233    14668             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1234    14669             SCRATCH: LOCAL AUTO ONLY.
     1235    14670             DESCRIPTION: BUILDS A DATA DESCRIPTOR FOR THE ITEM TO BE EVALUATED.
     1236    14671             FOR A STANDARD TYPE DATA DESCRIPTOR, DDS$VREFCOM IS CALLED TO DO THE
     1237    14672             WORK, ELSE, DDS$INSTR IS CALLED TO BUILD AN INSTRUCTION TEMPLATE
     1238    14673             FOLLOWED BY A DATA DESCRIPTOR. IN THE LATTER CASE, THE INSTR BIT
     1239    14674             IS SET IN EVAL$CMD, THE FORMAT CODE IS SET IN THE DATA DESCRIPTOR
     1240    14675             AS INSTRUCTION, UNLESS AN EXPLICIT FORMAT CODE WAS SPECIFIED. RETURNS
     1241    14676             IF NO ERROR CONDITION ENCOUNTERED, ELSE ALTRETURNS. */
     1242    14677
     1243    14678    1   DDS$BLD_EVAL: PROC ALTRET;
     1244    14679
     1245    14680    2   DCL N$ PTR;
     1246    14681    2   DCL CODE UBIN;
     1247    14682    2   DCL IX SBIN;
     1248    14683    2   DCL NSB SBIN;
     1249    14684        /*D* IX and NSB must be SBIN */
     1250    14685    2   DCL NCD UBIN;
     1251    14686    2   DCL GOTVREF BIT(1) ALIGNED;
     1252    14687    2   DCL GOTFMT BIT(1) ALIGNED;
     1253    14688        %EVAL$CMD (STCLASS="BASED(LASTBLT$)");
     1254    14703
     1255    14704    2        CALL DDS$ATTDIRA( SIZEW( EVAL$CMD ), 8 ) ALTRET( ARET ); /* C_EVAL */
     1256    14705    2        IF S_D.SACT
     1257    14706    2        THEN EVAL$CMD.SACT = '1'B;
     1258    14707    2        GOTVREF = '0'B;                    /* ASSUME NOT ENCOUNTERED */
     1259    14708    2        CODE = %DEFAULT_FMT;               /* DEFAULT_FMT */
     1260    14709    2        NSB = NCMD$ -> POB.NSB - 1;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:43   
     1261    14710    3        DO IX = 0 TO NSB;
     1262    14711    3             N$ = NCMD$ -> POB.SUBLK$( IX );
     1263    14712    3             NCD = N$ -> POB.CODE;
     1264    14713    3             IF ( NCD = 38 )        /* VREF_CODE */
     1265    14714    4             THEN DO;                      /* MAKE SURE IT'S EVALUATE-ABLE */
     1266    14715    4                  GOTVREF = '1'B;          /* GOT IT */
     1267    14716    4                  ZITEM$ = S_D.D$;
     1268    14717    4                  CALL DDS$VREFCOM( N$, GOTFMT ) ALTRET( ARET );
     1269    14718    4                  IF ( NOT ZITEM.FLAGS.MDSE.E )
     1270    14719    5                  THEN DO;
     1271    14720    5                       S_D.ERROR = 43; /* E@NOEVAL */
     1272    14721    5                       GOTO ARET;
     1273    14722    5                     END;
     1274    14723    4                  IF ( NOT GOTFMT )
     1275    14724    4                  THEN CODE = %DEFAULT_FMT;
     1276    14725    4                  ELSE CODE = ZITEM.FMT_SPEC;
     1277    14726    4                END;
     1278    14727    3             ELSE IF ( NCD = 49 )  /* INSTR_CODE */
     1279    14728    4                  THEN DO;
     1280    14729    4                       GOTVREF = '1'B;
     1281    14730    4                       EVAL$CMD.INSTR = '1'B;
     1282    14731    5                       DO CASE ( S_D.ONE_TO_TWO.EXEC_DOMAIN );
     1283    14732    5                         CASE ( %HOST );
     1284    14733    5                            CALL DDS$INSTR( N$ ) ALTRET( ARET );
     1285    14734    5                         CASE ( %L6 );
     1286    14735    5                            CALL DDS$SAVE_L6INSTR_PTR ( N$ );
     1287    14736    5                         CASE ( ELSE );
     1288    14737    5                            S_D.ERROR = 502;
     1289    14738    5                            GOTO ARET;
     1290    14739    5                         END;
     1291    14740    4                       EVAL$CMD.IGNPR = S_D.IGNPR;
     1292    14741    4                       EVAL$CMD.AWDX = S_D.AWDX;
     1293    14742    4                     END;
     1294    14743    3                  ELSE CODE = N$ -> POB.SUBLK$( 0 ) -> POB.CODE - 340;
             14743                           /* FMTFIRST_CODE */
     1295    14744    3           END;
     1296    14745    2        IF GOTVREF
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:44   
     1297    14746    2        THEN EVAL$CMD.DDESC = '1'B;
     1298    14747    2        ELSE S_D.MACTIVE = S_D.REMACTIVE;
     1299    14748    2        EVAL$CMD.FMT = CODE;
     1300    14749
     1301    14750    2        RETURN;
     1302    14751
     1303    14752    2   ARET: ALTRETURN;
     1304    14753
     1305    14754    2   END DDS$BLD_EVAL;
     1306    14755        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:45   
     1307    14756        /*F* NAME: DDS$BLD_FIND
     1308    14757             PURPOSE: TO BUILD THE FIND COMMAND.
     1309    14758             DESCRIPTION: BUILDS THE FIND COMMAND. */
     1310    14759        /*D* NAME: DDS$BLD_FIND
     1311    14760             CALL: CALL DDS$BLD_FIND ALTRET( ERROR );
     1312    14761             INTERFACE: DDS$INSTR
     1313    14762                        DDS$SDO
     1314    14763                        DDS$POSIMX
     1315    14764                        DDS$VREFCOM
     1316    14765             ENVIRONMENT: DDS$SCAN ACTIVE
     1317    14766             INPUT: NCMD$ - PTR TO "FIND" NODE.
     1318    14767             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1319    14768             SCRATCH: LOCAL AUTO ONLY.
     1320    14769             DESCRIPTION: */
     1321    14770
     1322    14771    1   DDS$BLD_FIND: PROC ALTRET;
     1323    14772
     1324    14773    2   DCL V SBIN;
     1325    14774    2   DCL NSUB SBIN;
     1326    14775    2   DCL IX UBIN;
     1327    14776    2   DCL NC$ PTR;
     1328    14777    2   DCL NCC$ PTR;
     1329    14778    2   DCL NCD UBIN;
     1330    14779    2   DCL FROMX UBIN;
     1331    14780    2   DCL TEMP_FLAG BIT(1) ALIGNED;
     1332    14781    2   DCL SUBSX UBIN;
     1333    14782        %FIND$CMD (STCLASS="BASED(LASTBLT$)");
     1334    14808
     1335    14809    2        V = 10;                        /* C_FIND */
     1336    14810    2        GOTO SETUP;
     1337    14811
     1338    14812    2   DDS$BLD_STORE: ENTRY ALTRET;
     1339    14813
     1340    14814    2        V = 18;                       /* C_STORE */
     1341    14815        /*   GOTO SETUP; */
     1342    14816    2   SETUP:
     1343    14817    2        CALL DDS$ATTDIRA( SIZEW( FIND$CMD ), V ) ALTRET( ARET );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:46   
     1344    14818    2        NSUB = NCMD$ -> POB.NSB - 1;
     1345    14819    2        FROMX = NSUB;
     1346    14820    2        SUBSX = NSUB;
     1347    14821    3        DO IX = 0 TO NSUB;
     1348    14822    3             ZITEM$ = S_D.D$;
     1349    14823    3             NC$ = NCMD$ -> POB.SUBLK$ ( IX );
     1350    14824    3             NCD = NC$ -> POB.CODE;
     1351    14825    3             V = 0;
     1352    14826    3             IF ( NCD = 84 )            /* C@NOT */
     1353    14827    3             THEN FIND$CMD.NOTFLAG = '1'B;
     1354    14828    3             ELSE IF ( NCD = 38 )   /* VREF_CODE */
     1355    14829    4                  THEN DO;
     1356    14830    4                       CALL DDS$VREFCOM( NC$ ) ALTRET( ARET );
     1357    14831    4                       IF ( NOT ZITEM.FLAGS.MDSE.E )
     1358    14832    4                       THEN GOTO USEREV;
     1359    14833    4                     END;
     1360    14834    3                  ELSE IF ( NCD = 49 ) /* INSTR_CODE */
     1361    14835    4                       THEN DO;
     1362    14836    4                            FIND$CMD.INSTR = '1'B;
     1363    14837    4                            CALL DDS$INSTR( NC$ ) ALTRET( ARET );
     1364    14838    4                            FIND$CMD.IGNPR = S_D.IGNPR;
     1365    14839    4                            FIND$CMD.AWDX = S_D.AWDX;
     1366    14840    4                          END;
     1367    14841    3                       ELSE IF ( NCD = 57 ) /* FROM_CODE */
     1368    14842    4                            THEN DO;
     1369    14843    4                                 FROMX = IX;
     1370    14844    4                                 FIND$CMD.FROM = '1'B;
     1371    14845    4                                 FIND$CMD.NUM = 17000000/*DD_BIGNUM*/;
             14845                                          /* > 16 MEGAWORDS */
     1372    14846    4                                 NCC$ = NC$ -> POB.SUBLK$( 0 );
     1373    14847    4                                 CALL DDS$VREFCOM( NCC$ ) ALTRET( ARET );
     1374    14848    4                                 IF ( NOT ZITEM.FLAGS.MDSE.E )
     1375    14849    4                                 THEN GOTO USEREV;
     1376    14850    4                                 IF NC$ -> POB.NSB > 1
     1377    14851    5                                 THEN DO;
     1378    14852    5                                      NCC$ = NC$ -> POB.SUBLK$( 1 );
     1379    14853    5                                      CALL DDD$SIMEXP( NCC$, V,TEMP_FLAG ) ALTRET( ARET
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:47   
             14853                                               );
     1380    14854    5                                      FIND$CMD.NUM = V;
     1381    14855    5                                    END;
     1382    14856    4                               END;
     1383    14857    3                            ELSE IF ( NCD = 58 ) /* UNDER_CODE */
     1384    14858    4                                 THEN DO;
     1385    14859    4                                      FIND$CMD.UNDER = '1'B;
     1386    14860    4                                      CALL DDS$POSIMX( NC$, V ) ALTRET( ARET );
     1387    14861    4                                      FIND$CMD.UNDER_V = V;
     1388    14862    4                                    END;
     1389    14863    3                                 ELSE IF ( NCD = 59 ) /* SUBS_CODE */
     1390    14864    4                                      THEN DO;
     1391    14865    4                                           SUBSX = IX;
     1392    14866    4                                           FIND$CMD.SUBS = '1'B;
     1393    14867    4                                           NCC$ = NC$ -> POB.SUBLK$( 0 );
     1394    14868    4                                           NCD = NCC$ -> POB.CODE;
     1395    14869    4                                           IF ( NCD = 38 ) /* VREF_CODE */
     1396    14870    5                                           THEN DO;
     1397    14871    5                                                CALL DDS$VREFCOM( NCC$ ) ALTRET( ARET )
             14871                                                         ;
     1398    14872    5                                                IF ( NOT ZITEM.FLAGS.MDSE.E )
     1399    14873    5                                                THEN GOTO USEREV;
     1400    14874    5                                              END;
     1401    14875    4                                           ELSE IF ( NCD = 49 ) /* INSTR_CODE */
     1402    14876    5                                                THEN DO;
     1403    14877    5                                                     FIND$CMD.SUBSINSTR = '1'B;
     1404    14878    5                                                     CALL DDS$INSTR( NCC$ ) ALTRET(
             14878                                                              ARET );
     1405    14879    5                                                     FIND$CMD.IGNPR = S_D.IGNPR;
     1406    14880    5                                                     FIND$CMD.AWDX = S_D.AWDX;
     1407    14881    5                                                   END;
     1408    14882    4                                                ELSE GOTO USERNH;
     1409    14883    4                                           IF NC$ -> POB.NSB > 1
     1410    14884    5                                           THEN DO;
     1411    14885    5                                                FIND$CMD.SUBSUNDER = '1'B;
     1412    14886    5                                                NC$ -> POB.SUBLK$( 0 ) = NC$ -> POB.
             14886                                                         SUBLK$( 1 );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:48   
     1413    14887    5                                                V = 0;
     1414    14888    5                                                CALL DDS$POSIMX( NC$, V ) ALTRET( ARET
             14888                                                         );
     1415    14889    5                                                FIND$CMD.SUBSUNDER_V = V;
     1416    14890    5                                              END;
     1417    14891    4                                         END;
     1418    14892    3                                      ELSE GOTO USERNH;
     1419    14893    3           END;                            /* "DO IX" */
     1420    14894    2        IF SUBSX ~= FROMX
     1421    14895    2        THEN IF SUBSX < FROMX
     1422    14896    2             THEN FIND$CMD.SUBSFIRST = '1'B;
     1423    14897    2             ELSE FIND$CMD.FROMFIRST = '1'B;
     1424    14898
     1425    14899    2        RETURN;
     1426    14900
     1427    14901    2   USEREV: S_D.ERROR = 43; GOTO ARET; /* E@NOEVAL */
     1428    14902    2   USERNH: S_D.ERROR = 501; GOTO ARET; /* E@DERR1 */
     1429    14903
     1430    14904    2   ARET: ALTRETURN;
     1431    14905
     1432    14906    2   END DDS$BLD_FIND;
     1433    14907        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:49   
     1434    14908        /*F* NAME: DDS$BLD_FORMAT
     1435    14909             PURPOSE: TO BUILD THE FORMAT COMMAND.
     1436    14910             DESCRIPTION: BUILDS THE FORMAT COMMAND. */
     1437    14911        /*D* NAME: DDS$BLD_FORMAT
     1438    14912             CALL: CALL DDS$BLD_FORMAT ALTRET( ERROR );
     1439    14913             INTERFACE: DDS$ATTDIRA
     1440    14914             ENVIRONMENT: DDS$SCAN ACTIVE
     1441    14915             INPUT: NCMD$ - PTR TO "FORMAT" NODE.
     1442    14916             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1443    14917             SCRATCH: LOCAL AUTO ONLY.
     1444    14918             DESCRIPTION: */
     1445    14919
     1446    14920    1   DDS$BLD_FORMAT: PROC ALTRET;
     1447    14921
     1448    14922        %FORMAT$CMD (NAME=FORMAT$CMD,STCLASS="BASED(LASTBLT$)");
     1449    14934
     1450    14935    2        CALL DDS$ATTDIRA( SIZEW( FORMAT$CMD ), 16 ) ALTRET( ARET ); /* C_FORMAT */
     1451    14936    2        FORMAT$CMD.TYPE = NCMD$ -> POB.SUBLK$( 0 ) -> POB.CODE;
     1452    14937    2        FORMAT$CMD.FORMAT = NCMD$ -> POB.SUBLK$( 1 ) -> POB.SUBLK$( 0 ) -> POB.CODE -
             14937                 340; /* FMTFIRST_CODE */
     1453    14938
     1454    14939    2        RETURN;
     1455    14940
     1456    14941    2   ARET: ALTRETURN;
     1457    14942
     1458    14943    2   END DDS$BLD_FORMAT;
     1459    14944        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:50   
     1460    14945        /*F* NAME: DDS$BLD_GO
     1461    14946             PURPOSE: TO BUILD THE GO COMMAND.
     1462    14947             DESCRIPTION: BUILDS THE GO COMMAND. */
     1463    14948        /*D* NAME: DDS$BLD_GO
     1464    14949             CALL: CALL DDS$BLD_GO ALTRET( ERROR );
     1465    14950             INTERFACE: DDS$ATTDIRA
     1466    14951             ENVIRONMENT: DDS$SCAN ACTIVE
     1467    14952             INPUT: NCMD$ - PTR TO "GO" NODE.
     1468    14953             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1469    14954             SCRATCH: LOCAL AUTO ONLY.
     1470    14955             DESCRIPTION: */
     1471    14956
     1472    14957    1   DDS$BLD_GO: PROC ALTRET;
     1473    14958                                                /* LOCAL TEMPS */
     1474    14959    2   DCL NSB SBIN;
     1475    14960    2   DCL IX SBIN;
     1476    14961        /*D* NSB & IX must be SBIN */
     1477    14962    2   DCL NC$ PTR;
     1478    14963    2   DCL CODE UBIN;
     1479    14964    2   DCL NCC$ PTR;
     1480    14965    2   DCL TCODE UBIN;
     1481    14966    2   DCL TFPRG$ PTR;
     1482    14967    2   DCL GOTIT BIT(1) ALIGNED;
     1483    14968        /*D* V must be UBIN */
     1484    14969    2   DCL V UBIN;
     1485    14970    2   DCL T1 UBIN;
     1486    14971    2   DCL TEXT$ PTR;
     1487    14972        %GO (NAME=GO$CMD,STCLASS="BASED(LASTBLT$)");
     1488    14992        %FPRG$CONTEXT;
     1489    15055
     1490    15056    2        T1 = 11;                       /* C_GOTO */
     1491    15057    2        CALL DDS$ATTDIRA( SIZEW( GO$CMD ), T1 ) ALTRET( ARET );
     1492    15058    2        GO$CMD.ALL = '1'B;
     1493    15059    2        NSB = NCMD$ -> POB.NSB - 1;
     1494    15060    3        DO IX = 0 TO NSB;
     1495    15061    3             NC$ = NCMD$ -> POB.SUBLK$( IX );
     1496    15062    3             CODE = NC$ -> POB.CODE;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:51   
     1497    15063    3             IF CODE = 24          /* C@POSITION */
     1498    15064    4             THEN DO;
     1499    15065    4                  GOTIT = '0'B;
     1500    15066    4                  IF S_D.FPRG_CONTEXT$ ~= ADDR(NIL) AND
     1501    15067    4                    T1 = 11            /* C_GOTO */
     1502    15068    5                  THEN DO;
     1503    15069                                      /* Check to see if this could be an FPRG RES */
     1504    15070    5                       NCC$ = NC$ -> POB.SUBLK$(0);
     1505    15071    5                       IF NCC$ -> POB.CODE = 13 /* C@POS11 */
     1506    15072    6                       THEN DO;
     1507    15073    6                            NCC$ = NCC$ -> POB.SUBLK$(0);
     1508    15074    6                            IF NCC$ -> POB.CODE = 16 /* C@STMT_SPEC1 */
     1509    15075    7                            THEN DO;
     1510    15076    7                                 NCC$ = NCC$ -> POB.SUBLK$(0);
     1511    15077    7                                 IF NCC$ -> POB.CODE = 14 /* SYM_CODE */
     1512    15078    8                                 THEN DO;
     1513    15079    8                                      TEXT$ = NCC$ -> POB.SUBLK$(0);
     1514    15080    8                                      TFPRG$ = S_D.FPRG_CONTEXT$;
     1515    15081    9                                      DO WHILE (TFPRG$ ~= ADDR(NIL) AND
     1516    15082    9                                        NOT GOTIT);
     1517    15083    9                                           IF TFPRG$ -> FPRG$CONTEXT.RES  =
     1518    15084    9                                             TEXT$ -> TEXT$C.TXT
     1519    15085    9                                           THEN GOTIT = '1'B;
     1520    15086    9                                           TFPRG$ = TFPRG$ -> FPRG$CONTEXT.NEXT$;
     1521    15087    9                                         END;
     1522    15088    8                                    END;
     1523    15089    7                               END;
     1524    15090    6                          END;
     1525    15091    5                     END;
     1526    15092    4                  IF GOTIT
     1527    15093    5                  THEN DO;
     1528    15094    5                       GO$CMD.ALL = '0'B;
     1529    15095    5                       GO$CMD.FPRG = '1'B;
     1530    15096    5                       GO$CMD.FPRG_RES = TEXT$ -> TEXT$C.TXT;
     1531    15097    5                     END;
     1532    15098    5                  ELSE DO;
     1533    15099    5                       GO$CMD.GOPOS = '1'B;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:52   
     1534    15100    5                       CALL DDS$POSITION( NC$, V ) ALTRET( ARET );
     1535    15101    5                       IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
     1536    15102    6                       THEN DO;
     1537    15103    6                            IF ( V > BITBIN('777777'O) )
     1538    15104    6                            THEN GOTO ERR25; /* TRUNCATION - INVALID IS ADDRESS */
     1539    15105    6                          END;
     1540    15106    6                       ELSE DO;
     1541    15107    6                            IF ( V > BITBIN('3777777'O) )
     1542    15108    6                            THEN GOTO ERR25; /* TRUNCATION - INVALID IS ADDRESS */
     1543    15109    6                          END;
     1544    15110    5                       GO$CMD.POSITION = V;
     1545    15111    5                     END;
     1546    15112    4                END;
     1547    15113    3             ELSE IF CODE = 76         /* C@STEP */
     1548    15114    3                  THEN GO$CMD.STEP = '1'B;
     1549    15115    3                  ELSE IF CODE = 78    /* C@TRAP */
     1550    15116    4                       THEN DO;
     1551    15117    4                            GO$CMD.TRAP = '1'B;
     1552    15118    4                          END;
     1553    15119    3                       ELSE IF CODE = 280 /* S@ALL */
     1554    15120    3                            THEN GO$CMD.ALL = '1'B;
     1555    15121    3                            ELSE IF CODE = 106 /* C@HOST */
     1556    15122    4                                 THEN DO;
     1557    15123    4                                      GO$CMD.ALL = '0'B;
     1558    15124    4                                      GO$CMD.HOST = '1'B;
     1559    15125    4                                    END;
     1560    15126    4                                 ELSE DO;
     1561    15127    4                                      S_D.ERROR = 501; /* E@DERR1 */
     1562    15128    4                                      GOTO ARET;
     1563    15129    4                                    END;
     1564    15130    3           END;
     1565    15131    2        IF GO$CMD.ALL AND
     1566    15132    2          (GO$CMD.GOPOS OR
     1567    15133    2          GO$CMD.STEP OR
     1568    15134    2          GO$CMD.TRAP)
     1569    15135    3        THEN DO;
     1570    15136    3             IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:53   
     1571    15137    4             THEN DO;
     1572    15138    4                  GO$CMD.ALL = '0'B;
     1573    15139    4                  GO$CMD.HOST = '1'B;
     1574    15140    4                END;
     1575    15141    4             ELSE DO;
     1576    15142    4                  GO$CMD.ALL = '0'B;
     1577    15143    4                  GO$CMD.FPRG = '1'B;
     1578    15144    4                  GO$CMD.FPRG_RES = S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES;
     1579    15145    4                END;
     1580    15146    3           END;
     1581    15147    2        IF D_XDELTA AND GO$CMD.TRAP AND (GO$CMD.STEP OR GO$CMD.GOPOS)
     1582    15148    2        THEN GOTO ERR7;
     1583    15149
     1584    15150    2        RETURN;
     1585    15151
     1586    15152    2   ERR25: S_D.ERROR = 25; GOTO ARET; /* E@UERR25 */
     1587    15153    2   ERR7: S_D.ERROR = 18;              /* E@UERR7 */
     1588    15154    2   ARET: ALTRETURN;
     1589    15155
     1590    15156    2   END DDS$BLD_GO;
     1591    15157             %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:54   
     1592    15158        /*F* NAME: DDS$BLD_HELP
     1593    15159             PURPOSE: TO BUILD THE HELP COMMAND.
     1594    15160             DESCRIPTION: BUILDS THE HELP COMMAND. */
     1595    15161        /*D* NAME: DDS$BLD_HELP
     1596    15162             CALL: CALL DDS$BLD_HELP ALTRET( ERROR );
     1597    15163             INTERFACE: DDS$ATTDIRA
     1598    15164             ENVIRONMENT: DDS$SCAN ACTIVE
     1599    15165             INPUT: NCMD$ - PTR TO "HELP" NODE.
     1600    15166             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1601    15167             SCRATCH: LOCAL AUTO ONLY.
     1602    15168             DESCRIPTION: */
     1603    15169
     1604    15170    1   DDS$BLD_HELP: PROC ALTRET;
     1605    15171
     1606    15172        %HELP$CMD (NAME=HELP$CMD,STCLASS="BASED(LASTBLT$)");
     1607    15183
     1608    15184    2        CALL DDS$ATTDIRA( SIZEW( HELP$CMD ), 12 ) ALTRET( ARET );
     1609    15185    2        HELP$CMD.ASYM$ = NCMD$ -> POB.SUBLK$( 0 ) -> POB.SUBLK$( 0 );
     1610    15186
     1611    15187    2        RETURN;
     1612    15188
     1613    15189    2   ARET: ALTRETURN;
     1614    15190
     1615    15191    2   END DDS$BLD_HELP;
     1616    15192        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:55   
     1617    15193        /*F* NAME: DDS$BLD_HISTORY
     1618    15194             PURPOSE: TO BUILD THE HISTORY COMMAND.
     1619    15195             DESCRIPTION: BUILDS THE HISTORY COMMAND. */
     1620    15196        /*D* NAME: DDS$BLD_HISTORY
     1621    15197             CALL: CALL DDS$BLD_HISTORY ALTRET( ERROR );
     1622    15198             INTERFACE: DDS$ATTDIRA
     1623    15199             ENVIRONMENT: DDS$SCAN ACTIVE
     1624    15200             INPUT: NCMD$ - PTR TO "HISTORY" NODE.
     1625    15201             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1626    15202             SCRATCH: LOCAL AUTO ONLY.
     1627    15203             DESCRIPTION: */
     1628    15204
     1629    15205    1   DDS$BLD_HISTORY: PROC ALTRET;
     1630    15206
     1631    15207    2   DCL NSB SBIN;
     1632    15208    2   DCL IX SBIN;
     1633    15209        /*D* NSB & IX must be SBIN */
     1634    15210    2   DCL NC$ PTR;
     1635    15211    2   DCL CODE UBIN;
     1636    15212    2   DCL V UBIN;
     1637    15213        %HIST$CMD (NAME=HISTORY$CMD,STCLASS="BASED(LASTBLT$)");
     1638    15226
     1639    15227    2        CALL DDS$ATTDIRA( SIZEW( HISTORY$CMD ), 13 ) ALTRET( ARET ); /* C_HISTORY */
     1640    15228    2        HISTORY$CMD.COUNT = 17000000/*DD_BIGNUM*/;     /* DD_BIGNUM */
     1641    15229    2        NSB = NCMD$ -> POB.NSB - 1;
     1642    15230    3        DO IX = 0 TO NSB;
     1643    15231    3             NC$ = NCMD$ -> POB.SUBLK$( IX );
     1644    15232    3             CODE = NC$ -> POB.CODE;
     1645    15233    3             IF CODE = 530               /* C@ALL */
     1646    15234    3             THEN HISTORY$CMD.COUNT = 17000000/*DD_BIGNUM*/; /* DD_BIGNUM */
     1647    15235    3             ELSE IF CODE = 67          /* C@SDO */
     1648    15236    4                  THEN DO;
     1649    15237    4                       CALL DDS$SDO( NC$, V ) ALTRET( ARET );
     1650    15238    4                       HISTORY$CMD.COUNT = V;
     1651    15239    4                     END;
     1652    15240    3                  ELSE IF CODE = 62    /* C@MORE */
     1653    15241    3                       THEN HISTORY$CMD.MORE = '1'B;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:56   
     1654    15242    3                       ELSE IF CODE = 102 /* C@CLEAR */
     1655    15243    3                            THEN HISTORY$CMD.CLEAR = '1'B;
     1656    15244    4                            ELSE DO;
     1657    15245    4                                 S_D.ERROR = 501; /* E@DERR1 */
     1658    15246    4                                 GOTO ARET;
     1659    15247    4                               END;
     1660    15248    3           END;
     1661    15249
     1662    15250    2        RETURN;
     1663    15251
     1664    15252    2   ARET: ALTRETURN;
     1665    15253
     1666    15254    2   END DDS$BLD_HISTORY;
     1667    15255        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:57   
     1668    15256        /*F* NAME: DDS$BLD_KILL
     1669    15257             PURPOSE: TO BUILD THE KILL COMMAND.
     1670    15258             DESCRIPTION: BUILDS THE KILL COMMAND. */
     1671    15259        /*D* NAME: DDS$BLD_KILL
     1672    15260             CALL: CALL DDS$BLD_KILL ALTRET( ERROR );
     1673    15261             INTERFACE: DDS$DECIMAL
     1674    15262             ENVIRONMENT: DDS$SCAN ACTIVE
     1675    15263             INPUT: NCMD$ - PTR TO "KILL" NODE.
     1676    15264             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1677    15265             SCRATCH: LOCAL AUTO ONLY.
     1678    15266             DESCRIPTION: */
     1679    15267
     1680    15268    1   DDS$BLD_KILL: PROC ALTRET;
     1681    15269
     1682    15270    2   DCL N$ PTR;
     1683    15271    2   DCL V UBIN;
     1684    15272    2   DCL V1 UBIN;
     1685    15273    2   DCL NC$ PTR;
     1686    15274    2   DCL TEXT$ PTR;
     1687    15275        %SHOW$CMD (NAME=KILL$CMD,STCLASS="BASED(LASTBLT$)");
     1688    15297
     1689    15298    2        CALL DDS$ATTDIRA( SIZEW( KILL$CMD ), 20 ) ALTRET( ARET ); /* C_KILL */
     1690    15299    2        N$ = NCMD$ -> POB.SUBLK$( 0 );
     1691    15300    2        KILL$CMD.TYPE = N$ -> POB.CODE;
     1692    15301    3        DO CASE( KILL$CMD.TYPE );
     1693    15302    3          CASE ( 280 );                  /* ALL */
     1694    15303    3          CASE ( 281 );                  /* ATS */
     1695    15304    3          CASE ( 282 );                 /* DEFS */
     1696    15305    3          CASE ( 283 );                 /* STEP */
     1697    15306    3          CASE ( 284 );               /* SCHEMA */
     1698    15307    3          CASE ( 313 );                  /* SAD */
     1699    15308    3          CASE ( 286 );                /* SAVES */
     1700    15309    3          CASE ( 287 );                /* TRACE */
     1701    15310    3          CASE ( 288 );                /* WHENS */
     1702    15311    3          CASE ( 291 );                /* ON CALLS */
     1703    15312    3          CASE ( 292 );                /* ON ABORT */
     1704    15313    3             IF D_XDELTA THEN GOTO ERR7;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:58   
     1705    15314    3          CASE ( 293 );                 /* ON EXIT */
     1706    15315    3             IF D_XDELTA THEN GOTO ERR7;
     1707    15316    3          CASE ( 294 );                /* ON NODES */
     1708    15317    3             IF D_XDELTA THEN GOTO ERR7;
     1709    15318    3             IF NOT S_D.OVERLAID THEN GOTO ENOV;
     1710    15319    3          CASE ( 295 );              /* ABBREVS */
     1711    15320    3             S_D.ERROR = 34;         /* E@NOTYET */
     1712    15321    3             GOTO ARET;
     1713    15322    3          CASE ( 296 );               /* id TO id */
     1714    15323    3             CALL DDS$DECIMAL( N$ -> POB.SUBLK$( 0 ), V ) ALTRET( ARET );
     1715    15324    3             KILL$CMD.ID_FROM = V;
     1716    15325    3             KILL$CMD.ID_TO = V;
     1717    15326    3             IF ( V < 1 ) OR ( V > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1 ) THEN
             15326                      GOTO ERR1;
     1718    15327    3             IF ( N$ -> POB.NSB > 1 )
     1719    15328    4             THEN DO;
     1720    15329    4                  CALL DDS$DECIMAL( N$ -> POB.SUBLK$( 1 ), V1 ) ALTRET( ARET );
     1721    15330    4                  KILL$CMD.ID_TO = V1;
     1722    15331    4                  IF ( V1 < 1 ) OR ( V1 > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1 )
             15331                           THEN GOTO ERR1;
     1723    15332    4                  IF ( V1 < V ) THEN GOTO EFTO;
     1724    15333    4                END;
     1725    15334    3          CASE( 297 );                /* BYPASS */
     1726    15335    3          CASE ( 298 );               /* DEF name */
     1727    15336    3             N$ = N$ -> POB.SUBLK$( 0 ) -> POB.SUBLK$( 0 );
     1728    15337    3             IF ( N$ -> TEXT$C.SIZE > 31 ) THEN GOTO ESYM;
     1729    15338    3             KILL$CMD.TEXTC = N$ -> TEXT$C;
     1730    15339    3          CASE ( 299 );                  /* DIC */
     1731    15340    3          CASE ( 302 );                  /* EOM */
     1732    15341    3             IF D_XDELTA THEN GOTO ERR7;
     1733    15342    3          CASE ( 303 );               /* FORMAT */
     1734    15343    3             IF N$ -> POB.NSB > 0
     1735    15344    3             THEN KILL$CMD.ID_FROM = N$ -> POB.SUBLK$( 0 ) -> POB.CODE;
     1736    15345        /*********ELSE KILL$CMD.ID_FROM = 0;*********/
     1737    15346    3          CASE ( 304 );                 /* COPY */
     1738    15347    3             IF D_XDELTA THEN GOTO ERR7;
     1739    15348    3          CASE ( 305 );                 /* ECHO */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:59   
     1740    15349    3             IF D_XDELTA THEN GOTO ERR7;
     1741    15350    3          CASE ( 308 );                  /* RUM */
     1742    15351    3             IF D_XDELTA THEN GOTO ERR7;
     1743    15352    3          CASE ( 309 );               /* ALTVAR */
     1744    15353    3          CASE ( 310 );                 /* ANLZ */
     1745    15354    3             IF D_XDELTA THEN GOTO ERR7;
     1746    15355    3          CASE ( 317 );            /* DELTA */
     1747    15356    3             IF D_XDELTA THEN GOTO ERR7;
     1748    15357    3             IF N$ -> POB.NSB > 1
     1749    15358    4             THEN DO;
     1750    15359    4                  NC$ = N$ -> POB.SUBLK$(1);
     1751    15360    4                  KILL$CMD.FPRG_RES = NC$ -> SYM.TEXT;
     1752    15361    4                  KILL$CMD.FPRG = '1'B;
     1753    15362    4                END;
     1754    15363    3          CASE ( 314 );              /* PROTECT */
     1755    15364    3          CASE ( 320 );                /* CACHE */
     1756    15365    3          CASE ( 321 );         /* INTERPRETIVE */
     1757    15366    3          CASE ( 322 );               /* STATUS */
     1758    15367    3             IF D_XDELTA THEN GOTO ERR7;
     1759    15368    3          CASE ( ELSE );
     1760    15369    3             S_D.ERROR = 606;       /* E@KILLCASE */
     1761    15370    3             GOTO ARET;
     1762    15371    3          END;
     1763    15372
     1764    15373    2        RETURN;
     1765    15374
     1766    15375    2   ENOV: S_D.ERROR = 117; GOTO ARET; /* E@NOT_OVERLAID */
     1767    15376    2   EFTO: S_D.ERROR = 63; GOTO ARET; /* E@FROM_TO */
     1768    15377    2   ESYM: S_D.ERROR = 48; GOTO ARET; /* E@SYM2LONG */
     1769    15378    2   ERR1: S_D.ERROR = 12; GOTO ARET;   /* E@UERR1 */
     1770    15379    2   ERR7: S_D.ERROR = 18;              /* E@UERR7 */
     1771    15380    2   ARET: ALTRETURN;
     1772    15381
     1773    15382    2   END DDS$BLD_KILL;
     1774    15383        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:60   
     1775    15384        /*F* NAME: DDS$BLD_LET
     1776    15385             PURPOSE: TO BUILD THE LET COMMAND.
     1777    15386             DESCRIPTION: BUILDS THE LET COMMAND. */
     1778    15387        /*D* NAME: DDS$BLD_LET
     1779    15388             CALL: CALL DDS$BLD_LET ALTRET( ERROR );
     1780    15389             INTERFACE: DDS$INSTR
     1781    15390                        DDS$VREFCOM
     1782    15391             ENVIRONMENT: DDS$SCAN ACTIVE
     1783    15392             INPUT: NCMD$ - PTR TO "LET" NODE.
     1784    15393             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1785    15394             SCRATCH: LOCAL AUTO ONLY.
     1786    15395             DESCRIPTION: */
     1787    15396
     1788    15397    1   DDS$BLD_LET: PROC ALTRET;
     1789    15398
     1790    15399        %LET$CMD (STCLASS="BASED(LASTBLT$)");
     1791    15449    2   DCL TYPE UBIN;
     1792    15450    2   DCL FMT UBIN;
     1793    15451
     1794    15452    2        CALL DDS$ATTDIRA( SIZEW( LET$CMD ), 27 ) ALTRET( ARET ); /* C_LET */
     1795    15453    2        ZITEM$ = S_D.D$;
     1796    15454    2        CALL DDS$VREFCOM( NCMD$ -> POB.SUBLK$( 0 ) ) ALTRET( ARET );
     1797    15455    2        IF (NOT ZITEM.FLAGS.MDSE.M )
     1798    15456    3        THEN DO;
     1799    15457    3             S_D.ERROR = 42;          /* E@NOMOD */
     1800    15458    3             GOTO ARET;
     1801    15459    3           END;
     1802    15460    2        IF ( NOT ZITEM.FLAGS.MDSE.E ) AND ( ZITEM.FLAGS.ADDREXP )
     1803    15461    3        THEN DO;       /* CAN'T HAVE NON-MODIFYABLE SPECIAL SYMBOL IN EXPRESSION */
     1804    15462    3             S_D.ERROR = 87;    /* E@EXPNOTVALID */
     1805    15463    3             GOTO ARET;
     1806    15464    3           END;
     1807    15465    2        FMT = ZITEM.FMT_SPEC;
     1808    15466    2        CALL DDS$CNSNT( NCMD$ -> POB.SUBLK$( 1 ), LET$CMD.TEXTC, TYPE, FMT ) ALTRET(
             15466                 ARET );
     1809    15467    2        LET$CMD.TYPE = TYPE;
     1810    15468
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:61   
     1811    15469    2        RETURN;
     1812    15470
     1813    15471    2   ARET: ALTRETURN;
     1814    15472
     1815    15473    2   END DDS$BLD_LET;
     1816    15474        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:62   
     1817    15475        /*F* NAME: DDS$BLD_MACTIVE
     1818    15476             PURPOSE: TO BUILD THE INTERACTIVE MODIFY FRAME.
     1819    15477             DESCRIPTION: BUILDS THE INTERACTIVE MODIFY FRAME. */
     1820    15478        /*D* NAME: DDS$BLD_MACTIVE
     1821    15479             CALL: CALL DDS$BLD_MACTIVE ALTRET( ERROR );
     1822    15480             INTERFACE: DDS$INSTR
     1823    15481                        DDS$VREFCOM
     1824    15482                        DDS$ATTDIRA
     1825    15483             ENVIRONMENT: DDS$SCAN ACTIVE.
     1826    15484             INPUT: PCB - PARSE CONTROL BLOCK
     1827    15485             OUTPUT: INTERACTIVE MODIFY BUILD FRAME.
     1828    15486             SCRATCH: LOCAL AUTO ONLY.
     1829    15487             DESCRIPTION: SETS UP TO BUILD A COMMAND IN THE DIRECT COMMAND BUFFER.
     1830    15488             PICKS UP EACH NODE HUNG OFF THE OUTPUT TREE. ENCOUNTERING A "VREF"
     1831    15489             OR "INSTR" CAUSES THE APPROPRIATE DATA DESCRIPTOR TO BE BUILT, AND
     1832    15490             THE CORRESPONDING CONTROL BITS SET IN THE MACTIVE$CMD BUILD FRAME.
     1833    15491             AN EXPLICIT FORMAT CODE HUNG OFF "INSTR" CAUSES THE FORMAT CODE TO
     1834    15492             BE SET IN MACTIVE$CMD. THE SUBCODE FIELD IS SET TO REFLECT THE PSUEDO
     1835    15493             ACTIVATION CHARACTER, UNLESS THERE WAS NONE, WHICH IS AN IMPLICIT
     1836    15494             CARRIAGE RETURN (END MACTIVE MODE). A FORMAT CODE ONLY IS DETECTED
     1837    15495             AS AN ERROR CONDITION. RETURNS IF NO ERRORS, ELSE ALTRETURNS. */
     1838    15496
     1839    15497    1   DDS$BLD_MACTIVE: PROC ALTRET;
     1840    15498
     1841    15499    2   DCL NSUB SBIN;
     1842    15500    2   DCL N$ PTR;
     1843    15501    2   DCL NCD UBIN;
     1844    15502    2   DCL CODE UBIN;
     1845    15503    2   DCL IX SBIN;
     1846    15504    2   DCL GOTVREF BIT(1) ALIGNED;
     1847    15505    2   DCL GOTFMT BIT(1) ALIGNED;
     1848    15506    2   DCL DUMVAR1 (0:17) UBIN WORD;
     1849    15507    2   DCL TEMP_FLAG BIT(1) ALIGNED;
     1850    15508    2   DCL V UBIN;
     1851    15509        %MACTIVE$CMD (STCLASS="BASED(LASTBLT$)");
     1852    15528
     1853    15529    2        CALL DDS$ATTDIRA( SIZEW( MACTIVE$CMD ), 29 ) ALTRET( ARET );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:63   
     1854    15530    2        IF S_D.SACT
     1855    15531    2        THEN MACTIVE$CMD.SACT = '1'B;
     1856    15532    2        GOTVREF = '0'B;
     1857    15533
     1858    15534                                                /* BLIP THROUGH THE NODES */
     1859    15535                                                /* TIP-TOE THROUGH THE TULIPS */
     1860    15536
     1861    15537    2        NSUB = NCMD$ -> POB.NSB -1;
     1862    15538    2        ZITEM$ = S_D.D$;
     1863    15539    2        CODE = %DEFAULT_FMT;
     1864    15540    3        DO IX = 0 TO NSUB;
     1865    15541    3             N$ = NCMD$ -> POB.SUBLK$( IX );
     1866    15542    3             NCD = N$ -> POB.CODE;
     1867    15543    3             IF ( NCD = 38 )        /* VREF_CODE */
     1868    15544    4             THEN DO;
     1869    15545    4                  IF NOT S_D.REMACTIVE
     1870    15546    4                  THEN GOTVREF = '1'B;
     1871    15547    4                  IF S_D.MLCT
     1872    15548    5                  THEN DO;
     1873    15549    5                       N$ = N$ -> POB.SUBLK$(0) -> POB.SUBLK$(0) -> POB.SUBLK$(0);
     1874    15550    5                       IF N$ -> POB.CODE = 47 /* SIMEXP_CODE */
     1875    15551    6                       THEN DO;
     1876    15552    6                            CALL DDD$SIMEXP (N$, V, TEMP_FLAG) ALTRET(ARET);
     1877    15553    6                            IF ( V > BITBIN('FF'X))
     1878    15554    7                            THEN DO;
     1879    15555    7                                 S_D.ERROR = 46; /* E@TOOLARGE */
     1880    15556    7                                 GOTO ARET;
     1881    15557    7                               END;
     1882    15558    6                            MACTIVE$CMD.LCT_NEW_VALUE = V;
     1883    15559    6                            RETURN;
     1884    15560    6                          END;
     1885    15561    6                       ELSE DO;
     1886    15562    6                            S_D.ERROR = 53; /* E@SYNTAX */
     1887    15563    6                            GOTO ARET;
     1888    15564    6                          END;
     1889    15565    5                     END;
     1890    15566    4                  MACTIVE$CMD.DDESC = '1'B;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:64   
     1891    15567    4                  CALL DDS$VREFCOM( N$, GOTFMT ) ALTRET( ARET );
     1892    15568    4                  IF ( GOTFMT )
     1893    15569    4                  THEN CODE = ZITEM.FMT_SPEC;
     1894    15570    4                  IF ( NOT ZITEM.FLAGS.MDSE.E )
     1895    15571    5                  THEN DO;
     1896    15572    5                       S_D.ERROR = 43; /* E@NOEVAL */
     1897    15573    5                       GOTO ARET;
     1898    15574    5                     END;
     1899    15575    4                END;
     1900    15576    3             ELSE IF ( NCD = 49 )  /* INSTR_CODE */
     1901    15577    4                  THEN DO;
     1902    15578    4                       IF NOT S_D.REMACTIVE
     1903    15579    4                       THEN GOTVREF = '1'B;
     1904    15580    4                       MACTIVE$CMD.DDESC = '1'B;
     1905    15581    4                       MACTIVE$CMD.INSTR = '1'B;
     1906    15582    4                       IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
     1907    15583    4                       THEN CALL DDS$INSTR( N$ ) ALTRET( ARET );
     1908    15584    4                       ELSE IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6
     1909    15585    5                            THEN DO;
     1910    15586    5                                 CALL DDS$SAVE_L6INSTR_PTR( N$ );
     1911    15587                                                /* Test if the input really contains
     1912    15588                                                   a valid L6 opcode, if not,
     1913    15589                                              altret and parse it by another tree */
     1914    15590    5                                 CALL DFS$INSTR ( DUMVAR1, 0, '1'B, N$ ->
     1915    15591    5                                   POB.SUBLK$(0) ) ALTRET ( ARET );
     1916    15592    5                               END;
     1917    15593    5                            ELSE DO;
     1918    15594    5                                 S_D.ERROR = 502; /* E@DELBUG */
     1919    15595    5                                 GOTO ARET;
     1920    15596    5                               END;
     1921    15597    4                       MACTIVE$CMD.IGNPR = S_D.IGNPR;
     1922    15598    4                       MACTIVE$CMD.AWDX = S_D.AWDX;
     1923    15599    4                       CODE = %INST_FMT;   /* INST_FMT - DEFAULT */
     1924    15600    4                     END;
     1925    15601    3                  ELSE IF ( NCD = 48 ) /* FMTSPEC_CODE */
     1926    15602    4                       THEN DO;
     1927    15603    4                            CODE = N$ -> POB.SUBLK$( 0 ) -> POB.CODE - 340;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:65   
             15603                                     /* FMTFIRST_CODE */
     1928    15604    4                            IF ( NSUB = 0 )
     1929    15605    5                            THEN DO;
     1930    15606    5                                 S_D.ERROR = 53; /* E@SYNTAX */
     1931    15607    5                                 GOTO ARET;
     1932    15608    5                               END;
     1933    15609    4                          END;
     1934    15610    3                       ELSE IF ( NCD >= 393 ) AND ( NCD <= 400 ) /* M@FIRST, M@LAST */
     1935    15611    4                            THEN DO;
     1936    15612    4                                 IF GOTVREF
     1937    15613    4                                 THEN GOTO SYNERR;
     1938    15614    4                                 MACTIVE$CMD.SUBCODE = NCD;
     1939    15615    4                               END;
     1940    15616    3                            ELSE IF ( NCD = 23 ) /* C_COMMENTS */
     1941    15617    4                                 THEN DO;
     1942    15618    4                                      IF S_D.RUM
     1943    15619    4                                      THEN CALL DUA$RUM_COMM;
     1944    15620    4                                    END;
     1945    15621    3                                 ELSE IF ( NCD = 43 ) /* C@SLASH */
     1946    15622    4                                      THEN DO;
     1947    15623    4                                           MACTIVE$CMD.NMSLASH = '1'B;
     1948    15624    4                                           IF MACTIVE$CMD.SUBCODE = 0
     1949    15625    4                                           THEN MACTIVE$CMD.SUBCODE = 395;
             15625                                                    /* M@INDIRECT */
     1950    15626    4                                         END;
     1951    15627    4                                      ELSE DO;
     1952    15628    4                                           S_D.ERROR = 501; /* E@DERR1 */
     1953    15629    4                                           GOTO ARET;
     1954    15630    4                                         END;
     1955    15631    3           END;                            /* "DO IX" */
     1956    15632    2        MACTIVE$CMD.FORMAT = CODE;
     1957    15633
     1958    15634    2        RETURN;
     1959    15635
     1960    15636    2   DDS$BLD_MACLOSE: ENTRY ALTRET;
     1961    15637
     1962    15638    2        CALL DDS$ATTDIRA( SIZEW( MACTIVE$CMD ), 29 ) ALTRET( ARET );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:66   
     1963    15639    2        MACTIVE$CMD.FORMAT = %DEFAULT_FMT;
     1964    15640
     1965    15641    2        RETURN;
     1966    15642
     1967    15643    2   SYNERR:
     1968    15644    2        S_D.ERROR = 53;              /* E@SYNTAX */
     1969    15645
     1970    15646    2   ARET: ALTRETURN;
     1971    15647
     1972    15648    2   END DDS$BLD_MACTIVE;
     1973    15649        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:67   
     1974    15650        /*F* NAME: DDS$BLD_MODIFY
     1975    15651             PURPOSE: TO BUILD THE MODIFY COMMAND.
     1976    15652             DESCRIPTION: BUILDS THE MODIFY COMMAND. */
     1977    15653        /*D* NAME: DDS$BLD_MODIFY
     1978    15654             CALL: CALL DDS$BLD_MODIFY ALTRET( ERROR );
     1979    15655             INTERFACE: DDS$INSTR
     1980    15656                        DDS$VREFCOM
     1981    15657             ENVIRONMENT: DDS$SCAN ACTIVE
     1982    15658             INPUT: NCMD$ - PTR TO "MODIFY" NODE.
     1983    15659             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1984    15660             SCRATCH: LOCAL AUTO ONLY.
     1985    15661             DESCRIPTION: DISALLOWS MODIFY loc IF WORKING ON A STORED COMMAND.
     1986    15662             USES DDS$VREFCOM & DDS$INSTR TO DO THE ACTUAL BUILDING. SETS THE
     1987    15663             APPROPRIATE CONTROL BITS DEPENDENT UPON WHETHER new contents, old
     1988    15664             contents, WERE SPECIFIED, & WHAT FORM (INSTRUCTION OR NOT) WERE
     1989    15665             SPECIFIED. RETURNS IF BUILD WENT OK, ELSE ALTRETURNS. */
     1990    15666
     1991    15667    1   DDS$BLD_MODIFYDW: PROC ALTRET;
     1992    15668
     1993    15669        %MODIFY$CMD (STCLASS="BASED(LASTBLT$)");
     1994    15685    2   DCL NSUB SBIN;
     1995    15686    2   DCL IX SBIN;
     1996    15687    2   DCL N$ PTR;
     1997    15688    2   DCL GOTFMT BIT(1) ALIGNED;
     1998    15689    2   DCL DUM1 UBIN ALIGNED;
     1999    15690    2   DCL DUM2 UBIN ALIGNED;
     2000    15691    2   DCL DUM3 BIT(1) ALIGNED;
     2001    15692
     2002    15693    2        CALL DDS$ATTDIRA( SIZEW( MODIFY$CMD ), 28 ) ALTRET( ARET );/* C_MODIFY */
     2003    15694    2        MODIFY$CMD.DW = '1'B;
     2004    15695    2        GOTO L1;
     2005    15696
     2006    15697    2   DDS$BLD_MODIFY: ENTRY ALTRET;
     2007    15698
     2008    15699    2        CALL DDS$ATTDIRA( SIZEW( MODIFY$CMD ), 28 ) ALTRET( ARET ); /* C_MODIFY */
     2009    15700    2   L1:  IF S_D.SACT
     2010    15701    2        THEN MODIFY$CMD.SACT = '1'B;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:68   
     2011    15702    2        NSUB = NCMD$ -> POB.NSB -1;
     2012    15703    2        ZITEM$ = S_D.D$;
     2013    15704    2        CALL DDS$VREFCOM( NCMD$ -> POB.SUBLK$(0), GOTFMT ) ALTRET( ARET );
     2014    15705    2        IF ( NOT GOTFMT ) AND ( ZITEM.DTYP ~= %SPEC_DTYP )
     2015    15706    2        THEN ZITEM.FMT_SPEC = %DEFAULT_FMT;
     2016    15707    2        IF ( NOT ZITEM.FLAGS.MDSE.M )
     2017    15708    3        THEN DO;                           /* LOCATION NOT MODIFYABLE */
     2018    15709    3             S_D.ERROR = 42;          /*E@NOMOD */
     2019    15710    3             GOTO ARET;
     2020    15711    3           END;
     2021    15712    3        CALL DDK$EVAL(S_D.TEMP$O, DUM1, DUM2, DUM3) WHENRETURN DO;
     2022    15713    3             S_D.TEMP$O_ACTIVE = '1'B;
     2023    15714    3           END;
     2024    15715    3        DO IX = 1 TO NSUB;
     2025    15716    3             N$ = NCMD$ -> POB.SUBLK$( IX );
     2026    15717    3             ZITEM$ = S_D.D$;              /* ASSUME NOT INSTRUCTION */
     2027    15718    3             IF IX < 3 AND N$ -> POB.CODE ~= 1 /* C@NWARN_OPT */
     2028    15719    3             THEN MODIFY$CMD.DDESC( IX-1 ) = '1'B; /* DATA DESCRIPTOR PRESENT */
     2029    15720    3             IF N$ -> POB.CODE = 49 /* INSTR_CODE */
     2030    15721    4             THEN DO;
     2031    15722    4                  IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
     2032    15723    4                  THEN CALL DDS$INSTR( N$ ) ALTRET( ARET );
     2033    15724    4                  ELSE IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6
     2034    15725    4                       THEN CALL DDS$SAVE_L6INSTR_PTR( N$ );
     2035    15726    5                       ELSE DO;
     2036    15727    5                            S_D.ERROR = 502; /* E@DELBUG */
     2037    15728    5                            GOTO ARET;
     2038    15729    5                          END;
     2039    15730    4                  MODIFY$CMD.IGNPR( IX-1 ) = S_D.IGNPR;
     2040    15731    4                  MODIFY$CMD.AWDX( IX-1 ) = S_D.AWDX;
     2041    15732    4                  MODIFY$CMD.INSTR( IX-1 ) = '1'B;
     2042    15733    4                  IF ( NOT GOTFMT )
     2043    15734    4                  THEN ZITEM.FMT_SPEC = %INST_FMT;
     2044    15735    4                END;
     2045    15736    3             ELSE IF N$ -> POB.CODE = 1 /* C@NWARN_OPT */
     2046    15737    3                  THEN MODIFY$CMD.NWARN = '1'B;
     2047    15738    4                  ELSE DO;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:69   
     2048    15739    4                       CALL DDS$VREFCOM( N$ ) ALTRET( ARET ); /* ASSUME VREF_CODE */
     2049    15740    4                       IF ( NOT ZITEM.FLAGS.MDSE.E )
     2050    15741    5                       THEN DO;            /* LOCATION NOT EVALUATABLE */
     2051    15742    5                            S_D.ERROR = 43; /*E@NOEVAL */
     2052    15743    5                            GOTO ARET;
     2053    15744    5                          END;
     2054    15745    4                     END;
     2055    15746    3           END;                            /* "DO IX" */
     2056    15747
     2057    15748    2        S_D.TEMP$O_ACTIVE = '0'B;
     2058    15749    2        RETURN;
     2059    15750
     2060    15751    2   ARET: S_D.TEMP$O_ACTIVE = '0'B;
     2061    15752    2        ALTRETURN;
     2062    15753
     2063    15754    2   END DDS$BLD_MODIFYDW;
     2064    15755        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:70   
     2065    15756        /*F* NAME: DDS$BLD_MLCT
     2066    15757             PURPOSE: TO BUILD THE MLCT COMMAND.
     2067    15758             DESCRIPTION: BUILDS THE MLCT COMMAND. */
     2068    15759        /*D* NAME: DDS$BLD_MLCT
     2069    15760             CALL: CALL DDS$BLD_MLCT ALTRET( ERROR );
     2070    15761             INTERFACE: DDS$ATTDIRA
     2071    15762             ENVIRONMENT: DDS$SCAN ACTIVE
     2072    15763             INPUT: NCMD$ - PTR TO "MLCT" NODE.
     2073    15764             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2074    15765             SCRATCH: LOCAL AUTO ONLY.
     2075    15766             DESCRIPTION: */
     2076    15767
     2077    15768    1   DDS$BLD_MLCT:PROC ALTRET;
     2078    15769
     2079    15770    2   DCL NSUB SBIN;
     2080    15771    2   DCL NC$ PTR;
     2081    15772    2   DCL V UBIN;
     2082    15773    2   DCL T1 UBIN;
     2083    15774        %LCT$CMD(NAME=LCT$CMD,STCLASS="BASED(LASTBLT$)");
     2084    15788
     2085    15789    2        T1 = 65;                       /* C_MLCT */
     2086    15790    2        CALL DDS$ATTDIRA ( SIZEW(LCT$CMD), T1 ) ALTRET(ARET);
     2087    15791    2        NSUB = NCMD$ -> POB.NSB - 1;
     2088    15792    2        NC$ = NCMD$ -> POB.SUBLK$(0);
     2089    15793    2        CALL DDS$HEX( NC$, V ) ALTRET(ARET);
     2090    15794    2        IF V > 255
     2091    15795    2        THEN GOTO TOOLARGE;
     2092    15796    2        LCT$CMD.LCT# = V;
     2093    15797    2        IF NSUB > 0
     2094    15798    3        THEN DO;
     2095    15799    3             NC$ = NCMD$ -> POB.SUBLK$(1);
     2096    15800    3             CALL DDS$HEX( NC$, V ) ALTRET(ARET);
     2097    15801    3             IF ( V > BITBIN('FF'X))
     2098    15802    3             THEN GOTO TOOLARGE;
     2099    15803    3             LCT$CMD.NEW_VALUE = '1'B;
     2100    15804    3             LCT$CMD.LCT_NEW_VALUE = V;
     2101    15805    3           END;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:71   
     2102    15806    2        RETURN;
     2103    15807
     2104    15808    2   TOOLARGE: S_D.ERROR = 46;       /* E@TOOLARGE */
     2105    15809    2   ARET: ALTRETURN;
     2106    15810
     2107    15811    2   END DDS$BLD_MLCT;
     2108    15812        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:72   
     2109    15813        /*F* NAME: DDS$BLD_NAME
     2110    15814              PURPOSE: TO BUILD THE "NAME" COMMAND */
     2111    15815        /*D* NAME: DDS$BLD_NAME
     2112    15816              CALL: CALL DDS$BLD_NAME ALTRET (ERROR)
     2113    15817              */
     2114    15818    1   DDS$BLD_NAME: PROC ALTRET;
     2115    15819
     2116    15820    2   DCL 1 QUEST CONSTANT,
     2117    15821    2         2 * UBIN BYTE UNAL INIT(1),
     2118    15822    2         2 * CHAR(1) UNAL INIT('?');
     2119    15823
     2120    15824        %NAME$CMD (STCLASS="BASED(LASTBLT$)");
     2121    15838
     2122    15839    2        CALL DDS$ATTDIRA( SIZEW( NAME$CMD ), 91 ) ALTRET( ARET ); /* C_NAME */
     2123    15840
     2124    15841    2        IF NCMD$->POB.SUBLK$(0)->POB.CODE = 122 THEN
     2125    15842    2             NAME$CMD.ENTDEFS = '1'B;
     2126    15843    2        ELSE
     2127    15844    2             NAME$CMD.ENTDEFS = '0'B;
     2128    15845
     2129    15846    3        IF NCMD$->POB.NSB > 1 THEN DO;
     2130    15847    3             NAME$CMD.TEXTC = NCMD$->POB.SUBLK$(1)->POB.SUBLK$(0)->TEXT$C;
     2131    15848    3           END;
     2132    15849    3        ELSE DO;
     2133    15850    3             NAME$CMD.TEXTC = QUEST;
     2134    15851    3           END;
     2135    15852
     2136    15853    2        RETURN;
     2137    15854
     2138    15855    2   ARET: ALTRETURN;
     2139    15856
     2140    15857    2   END DDS$BLD_NAME;
     2141    15858        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:73   
     2142    15859        /*F* NAME: DDS$BLD_OA
     2143    15860             PURPOSE: TO BUILD THE "ON ABORT" COMMAND.
     2144    15861             DESCRIPTION: BUILDS THE "ON ABORT" COMMAND. */
     2145    15862        /*D* NAME: DDS$BLD_OA
     2146    15863             CALL: CALL DDS$BLD_OA ALTRET( ERROR );
     2147    15864             INTERFACE: DDS$ATTDIRA
     2148    15865             ENVIRONMENT: DDS$SCAN ACTIVE
     2149    15866             INPUT: NCMD$ - PTR TO "OA" NODE.
     2150    15867             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2151    15868             SCRATCH: LOCAL AUTO ONLY.
     2152    15869             DESCRIPTION: */
     2153    15870
     2154    15871    1   DDS$BLD_OA: PROC ALTRET;
     2155    15872
     2156    15873    2   DCL V UBIN;
     2157    15874    2   DCL I UBIN;
     2158    15875        %AT_FIRST (NAME=ONABORT$CMD,STCLASS="BASED(LASTBLT$)");
     2159    15903        %FPRG$CONTEXT;
     2160    15966
     2161    15967    2        V = 30;                          /* C_OA */
     2162    15968    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
     2163    15969    3        THEN DO;
     2164    15970    3             IF S_D.ONABORT ~= 0
     2165    15971    3             THEN GOTO ARET1;
     2166    15972    3           END;
     2167    15973    2        ELSE GOTO NOTIMPFPRG;
     2168    15974    2        GOTO SETUP;
     2169    15975
     2170    15976    2   DDS$BLD_OE: ENTRY ALTRET;
     2171    15977
     2172    15978    2        V = 32;                          /* C_OE */
     2173    15979    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
     2174    15980    3        THEN DO;
     2175    15981    3             IF S_D.ONEXIT ~= 0
     2176    15982    3             THEN GOTO ARET1;
     2177    15983    3           END;
     2178    15984    3        ELSE DO;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:74   
     2179    15985    3             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.ONEXIT ~= 0
     2180    15986    3             THEN GOTO ARET1;
     2181    15987    3           END;
     2182    15988        /*   GOTO SETUP; */
     2183    15989    2   SETUP:
     2184    15990    2        CALL DDS$STOREDA( SIZEW( ONABORT$CMD ), V ) ALTRET( ARET );
     2185    15991    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
     2186    15992    3        THEN DO;
     2187    15993    3             IF V = 30                   /* C_OA */
     2188    15994    3             THEN S_D.ONABORT = S_D.STORED;
     2189    15995    3             ELSE S_D.ONEXIT = S_D.STORED;
     2190    15996    3           END;
     2191    15997    3        ELSE DO;
     2192    15998    3             I = 1;
     2193    15999    4             DO WHILE (S_D.CURRENT_FPRG_CONTEXT$->FPRG$CONTEXT.FIXCOM_INDEX(I) ~= 0
     2194    16000    4               AND I <= 20);
     2195    16001    4                  I = I + 1;
     2196    16002    4                END;
     2197    16003    3             IF I > 20
     2198    16004    4             THEN DO;
     2199    16005    4                  S_D.ERROR = 288; /* E@TOOMANYBKPNTS */
     2200    16006    4                  GOTO ARET;
     2201    16007    4                END;
     2202    16008    3             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FIXCOM_INDEX(I) = S_D.STORED;
     2203    16009    3             S_D.FIXCOM.FPRG(S_D.STORED) = '1'B;
     2204    16010    3             S_D.FIXCOM.FPRG_RES(S_D.STORED) =
     2205    16011    3               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES;
     2206    16012    3             S_D.FIXCOM.FPRG_RES_SIZE(S_D.STORED) =
     2207    16013    3               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES_SIZE;
     2208    16014    3             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.ONEXIT = I;
     2209    16015    3           END;
     2210    16016    2        RETURN;
     2211    16017
     2212    16018    2   NOTIMPFPRG: ;
     2213    16019    2        S_D.ERROR = 315;          /* E@NOTIMPFPRG */
     2214    16020    2        GOTO ARET;
     2215    16021    2   ARET1:
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:75   
     2216    16022    2        S_D.ERROR = 91;               /* E@ONLY1 */
     2217    16023    2   ARET: ALTRETURN;
     2218    16024
     2219    16025    2   END DDS$BLD_OA;
     2220    16026        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:76   
     2221    16027        /*F* NAME: DDS$BLD_OC
     2222    16028             PURPOSE: TO BUILD THE OC COMMAND.
     2223    16029             DESCRIPTION: BUILDS THE OC STORED COMMAND "FIRST ATTACHMENT"
     2224    16030             IN VARCOM. SETS UP THE FIELDS IN THE FIXCOM SLOT. BUILDS THE
     2225    16031             OPTIONAL BYPASS COUNT (#) AND IFSPEC FIELDS IN THE FIRST
     2226    16032             ATTACHMENT. EVALUATES & BUILDS THE POSITION. RETURNS IF BUILD
     2227    16033             IS SUCCESSFUL, ELSE ALTRETURNS. */
     2228    16034        /*D* NAME: DDS$BLD_OC
     2229    16035             INTERFACE:
     2230    16036             ENVIRONMENT: DDS$SCAN ACTIVE.
     2231    16037             INPUT: S_D.STORED - COMMAND ID.
     2232    16038                    NCMD$ - POINTER TO N_OC NODE.
     2233    16039             OUTPUT: S_D.D$ - POINTER TO NEXT FREE WORD IN VARCOM.
     2234    16040             SCRATCH: LOCAL AUTO ONLY
     2235    16041             DESCRIPTION: BUILDS THE OC STORED COMMAND "FIRST ATTACHMENT"
     2236    16042             IN VARCOM. SETS UP THE FIELDS IN THE FIXCOM SLOT. BUILDS THE
     2237    16043             OPTIONAL BYPASS COUNT (#) AND IFSPEC FIELDS IN THE FIRST
     2238    16044             ATTACHMENT. EVALUATES & BUILDS THE POSITION. RETURNS IF BUILD
     2239    16045             IS SUCCESSFUL, ELSE ALTRETURNS. */
     2240    16046
     2241    16047    1   DDS$BLD_OC: PROC ALTRET;
     2242    16048
     2243    16049    2   DCL IXX SBIN;                           /* INDEX FOR DO LOOP */
     2244    16050    2   DCL TCODE SBIN;                         /* TEMP FOR NODE CODE */
     2245    16051    2   DCL IC SBIN;                            /* POSITION ADDRESS */
     2246    16052    2   DCL I UBIN;
     2247    16053    2   DCL CHAR22 CHAR(22) BASED;
     2248    16054    2   DCL BB$ PTR;
     2249    16055    2   DCL SIZE UBIN;
     2250    16056    2   DCL NCC$ PTR;                           /* TEMP NODE POINTER */
     2251    16057    2   DCL ERR$ PTR;
     2252    16058    2   DCL ENTRY$ PTR;
     2253    16059        %B$TREE_TABLE (HDR_NAME=B$TREEHDR,NODE_NAME="B$NODE(0:0)");
     2254    16117        %B$EDEF;
     2255    16187        %B$INTNTRY;
     2256    16245        %AT_FIRST (NAME=OC$CMD,STCLASS="BASED(LASTBLT$)");
     2257    16273        %FPRG$CONTEXT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:77   
     2258    16336
     2259    16337    2        IF S_D.EDEF$ = ADDR(NIL)
     2260    16338    3        THEN DO;
     2261    16339    3             S_D.ERROR = 286;   /* E@NODEFS_NOONC */
     2262    16340    3             GOTO ALTRT;
     2263    16341    3           END;
     2264    16342        /* BYPASS COUNT & CURRENT COUNT INITIALIZED TO ZERO IN DDS$STOREDA */
     2265    16343        /* PICK UP EACH RETURNED NODE & PROCESS IT */
     2266    16344    3        DO IXX = 0 TO NCMD$->POB.NSB-1;
     2267    16345    3             NCC$ = NCMD$->POB.SUBLK$(IXX); /* GET POINTER TO NEXT LEVEL NODE */
     2268    16346    3             TCODE = NCC$->POB.CODE;       /* PICK UP CODE */
     2269    16347    3             IF ( TCODE = 14 ) OR ( TCODE = 15 ) /* SYM_CODE, QTSTRING_CODE */
     2270    16348    4             THEN DO;                      /* "SIMBLE" */
     2271    16349    4                  NCC$ = NCC$ -> POB.SUBLK$( 0 ); /* GET TEXTC POINTER */
     2272    16350    4                  ERR$ = NCC$;
     2273    16351    4                  CALL DDS$IE_SRCH( NCC$, ENTRY$ ) ALTRET( GOTIE );
     2274    16352    4                  IF NOT S_D.QUALIFIED
     2275    16353    4                  THEN CALL DDS$ED_SRCH( NCC$, ENTRY$ ) ALTRET( GOTED );
     2276    16354    4                  S_D.ERROR = 21;    /* E@UERR10 */
     2277    16355    4                  GOTO ALTRT1;
     2278    16356    4   GOTIE:
     2279    16357    4                  IC = ENTRY$ -> B$INTNTRY.ISADDR;
     2280    16358    4                  GOTO GOTIT;
     2281    16359    4   GOTED:
     2282    16360    4                  IC = ENTRY$ -> B$EDEF.ISADDR;
     2283    16361        /*             GOTO GOTIT; */
     2284    16362    4   GOTIT:
     2285    16363    4                  CALL DDS$ES_INQ( IC );   /* Ignore altret */
     2286    16364    4                  CALL DDS$SET_Q2D; /* ESTABLISH DEFAULT SCHEMA FOR ATTACHMENTS */
     2287    16365    4                  S_D.QUALIFIED = '0'B;
     2288    16366        /* DEFAULT SCHEMA HAS BEEN SETUP - INITIALIZE FRAME & BUILD IFSPEC */
     2289    16367    4                  CALL DDS$STOREDA( SIZEW(OC$CMD), 31 ) ALTRET(ALTRT); /* C_OC */
     2290    16368    4                  OC$CMD.NODE = S_D.NODE;
     2291    16369    4                  IF S_D.OVERLAID
     2292    16370    4                  THEN IF NOT S_D.B$TREE$ -> B$NODE.FLGS.NOW_IN( S_D.NODE )
     2293    16371    4                       THEN S_D.FIXCOM.NOT_IN( S_D.STORED ) = '1'B;
     2294    16372    4                  S_D.FIXCOM.CDF(S_D.STORED) = IC; /* SET IC IN S_D.FIXCOM */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:78   
     2295    16373    4                END;
     2296    16374    3             ELSE IF ( TCODE = 23 )    /* C@QUAL */
     2297    16375    3                  THEN CALL DDS$QUAL_SRCH( NCC$ ) ALTRET( ALTRT );
     2298    16376    3                  ELSE IF ( TCODE = 42 ) /* C@N_AT11 */
     2299    16377    4                       THEN DO;            /* N_OC11 - BYPASS COUNT */
     2300    16378    4                            NCC$ = NCC$->POB.SUBLK$(0);
             16378                                     /* POINT TO TEXT (DECIMAL LEXEME) */
     2301    16379    4                            CALL DDS$DECIMAL(NCC$,TCODE) ALTRET(ALTRT);
             16379                                     /* GET THE NUMBER */
     2302    16380    4                            OC$CMD.BYPASS_COUNT = TCODE;
     2303    16381    4                            OC$CMD.CURRENT_COUNT = TCODE;
     2304    16382    4                          END;
     2305    16383    3                       ELSE IF ( TCODE = 100 ) /* C@SILENT */
     2306    16384    3                            THEN S_D.FIXCOM.SILENT( S_D.STORED ) = '1'B;
     2307    16385    3                            ELSE IF ( TCODE = 101 ) /* C@INACTIVE */
     2308    16386    3                                 THEN S_D.FIXCOM.INACTIVE( S_D.STORED ) = '1'B;
     2309    16387    4                                 ELSE DO;  /* UNKNOWN COMMAND */
     2310    16388    4                                      S_D.ERROR = 501; /* E@DERR1 */
     2311    16389    4                                      GOTO ALTRT; /* SPLIT */
     2312    16390    4                                    END;
     2313    16391    3           END;                            /* END "DO IX" */
     2314    16392    2        CALL DDS$DUBREAK ALTRET( ALTRT1 );
     2315    16393    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
     2316    16394    2        THEN CALL DDB$CHECK_ADDR (IC, 0) ALTRET(S_FAULT);
     2317    16395    2        ELSE IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6
     2318    16396    3             THEN DO;
     2319    16397    3                  I = 1;
     2320    16398    4                  DO WHILE (S_D.CURRENT_FPRG_CONTEXT$->FPRG$CONTEXT.FIXCOM_INDEX(I) ~=
             16398                           0
     2321    16399    4                    AND I <= 20);
     2322    16400    4                       I = I + 1;
     2323    16401    4                     END;
     2324    16402    3                  IF I > 20
     2325    16403    4                  THEN DO;
     2326    16404    4                       S_D.ERROR = 288; /* E@TOOMANYBKPNTS */
     2327    16405    4                       GOTO ALTRT;
     2328    16406    4                     END;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:79   
     2329    16407    3                  S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FIXCOM_INDEX(I) = S_D.
             16407                           STORED;
     2330    16408    3                  S_D.FIXCOM.FPRG(S_D.STORED) = '1'B;
     2331    16409    3                  S_D.FIXCOM.FPRG_RES(S_D.STORED) =
     2332    16410    3                    S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES;
     2333    16411    3                  S_D.FIXCOM.FPRG_RES_SIZE(S_D.STORED) =
     2334    16412    3                    S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES_SIZE;
     2335    16413    3                  CALL DFA$ONCALL(I, OC$CMD.BYPASS_COUNT, S_D.STORED) ALTRET(ALTRT);
     2336    16414    3                END;
     2337    16415    3             ELSE DO;
     2338    16416    3                  S_D.ERROR = 502;    /* E@DELBUG */
     2339    16417    3                  CALL DDE$ERROR;
     2340    16418    3                  GOTO ALTRT;
     2341    16419    3                END;
     2342    16420    2        RETURN;                            /* DONE - RETURN */
     2343    16421
     2344    16422    2   ALTRT1:
     2345    16423    2        S_D.ERROR_SYM$ = ERR$;
     2346    16424    2   ALTRT:
     2347    16425    2        ALTRETURN;
     2348    16426    2   S_FAULT: ;
     2349    16427    2        IF S_D.OVERLAID AND S_D.UNODE.USENODE ~=0
     2350    16428    2        THEN RETURN;
     2351    16429    2        S_D.ERROR = 237;          /* E@CANTACCESS */
     2352    16430    2        CALL DDE$ERROR;
     2353    16431    2        S_D.OUTPUT = 'On Call Breakpoint ';
     2354    16432    2        BB$ = PINCRC(ADDR(S_D.OUTPUT), SIZEC('On Call Breakpoint '));
     2355    16433    2        CALL DDR$BINTXT(BB$, S_D.STORED, %UINT_FMT, SIZE);
     2356    16434    2        BB$ = PINCRC(BB$, SIZE);
     2357    16435    2        BB$ -> CHAR22 = ' set inactive by DELTA';
     2358    16436    2        CALL DDQ$WRITE(ADDR(S_D.OUTPUT), SIZEC('On Call Breakpoint ')+22+SIZE);
     2359    16437    2        S_D.FIXCOM.INACTIVE(S_D.STORED) = '1'B;
     2360    16438    2        RETURN;
     2361    16439
     2362    16440    2   END DDS$BLD_OC;
     2363    16441        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:80   
     2364    16442        /*F* NAME: DDS$BLD_ONN
     2365    16443             PURPOSE: TO BUILD THE ONN COMMAND.
     2366    16444             DESCRIPTION: BUILDS THE ONN STORED COMMAND "FIRST ATTACHMENT"
     2367    16445             IN VARCOM. SETS UP THE FIELDS IN THE FIXCOM SLOT. BUILDS THE
     2368    16446             OPTIONAL BYPASS COUNT (#) AND IFSPEC FIELDS IN THE FIRST
     2369    16447             ATTACHMENT. EVALUATES & BUILDS THE POSITION. RETURNS IF BUILD
     2370    16448             IS SUCCESSFUL, ELSE ALTRETURNS. */
     2371    16449        /*D* NAME: DDS$BLD_ONN
     2372    16450             INTERFACE:
     2373    16451             ENVIRONMENT: DDS$SCAN ACTIVE.
     2374    16452             INPUT: S_D.STORED - COMMAND ID.
     2375    16453                    NCMD$ - POINTER TO N_ONN NODE.
     2376    16454             OUTPUT: S_D.D$ - POINTER TO NEXT FREE WORD IN VARCOM.
     2377    16455             SCRATCH: LONNAL AUTO ONLY
     2378    16456             DESCRIPTION: BUILDS THE ONN STORED COMMAND "FIRST ATTACHMENT"
     2379    16457             IN VARCOM. SETS UP THE FIELDS IN THE FIXCOM SLOT. BUILDS THE
     2380    16458             OPTIONAL BYPASS COUNT (#) AND IFSPEC FIELDS IN THE FIRST
     2381    16459             ATTACHMENT. EVALUATES & BUILDS THE POSITION. RETURNS IF BUILD
     2382    16460             IS SUCCESSFUL, ELSE ALTRETURNS. */
     2383    16461
     2384    16462    1   DDS$BLD_ONN: PROC ALTRET;
     2385    16463
     2386    16464    2   DCL IXX SBIN;                           /* INDEX FOR DO LOOP */
     2387    16465    2   DCL TCODE SBIN;                         /* TEMP FOR NODE CODE */
     2388    16466    2   DCL NCC$ PTR;                           /* TEMP NODE POINTER */
     2389    16467    2   DCL ERR$ PTR;
     2390    16468        %AT_FIRST (NAME=ONN$CMD,STCLASS="BASED(LASTBLT$)");
     2391    16496        %FPRG$CONTEXT;
     2392    16559
     2393    16560    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6
     2394    16561    2        THEN GOTO NOTIMPFPRG;
     2395    16562        /* BYPASS COUNT & CURRENT COUNT INITIALIZED TO ZERO IN DDS$STOREDA */
     2396    16563        /* PICK UP EACH RETURNED NODE & PROCESS IT */
     2397    16564    2        IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ ~= ADDR(NIL)
     2398    16565    3        THEN DO;
     2399    16566    3             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.INTERPRETIVE
     2400    16567    4             THEN DO;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:81   
     2401    16568    4                  S_D.ERROR = 309; /* E@NOT_INTERPRETIVE */
     2402    16569    4                  GOTO ALTRT;
     2403    16570    4                END;
     2404    16571    3           END;
     2405    16572    2        ELSE IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ = ADDR(NIL)
     2406    16573    3             THEN DO;
     2407    16574    3                  S_D.ERROR = 502;
     2408    16575    3                  GOTO ALTRT;
     2409    16576    3                END;
     2410    16577    3        DO IXX = 0 TO NCMD$->POB.NSB-1;
     2411    16578    3             NCC$ = NCMD$->POB.SUBLK$(IXX); /* GET POINTER TO NEXT LEVEL NODE */
     2412    16579    3             TCODE = NCC$->POB.CODE;       /* PICK UP CODE */
     2413    16580    3             IF ( TCODE = 77 ) OR ( TCODE = 15 ) /* SYM_CODE, QTSTRING_CODE */
     2414    16581    4             THEN DO;                      /* "SIMBLE" */
     2415    16582    4                  NCC$ = NCC$ -> POB.SUBLK$( 0 ); /* GET TEXTC POINTER */
     2416    16583    4                  ERR$ = NCC$;
     2417    16584    4                  CALL DDS$ND_SRCH( NCC$, TCODE ) ALTRET( ALTRT1 );
     2418    16585    4                  IF TCODE = 0
     2419    16586    5                  THEN DO;
     2420    16587    5                       S_D.ERROR = 121; /* E@NOTROOT */
     2421    16588    5                       GOTO ALTRT1;
     2422    16589    5                     END;
     2423    16590    4                  CALL DDS$STOREDA( SIZEW(ONN$CMD), 34 ) ALTRET(ALTRT); /* C_ONN */
     2424    16591    4                  ONN$CMD.NODE = TCODE;
     2425    16592    4                  S_D.FIXCOM.CDF(S_D.STORED) = TCODE; /* SET NODE IN S_D.FIXCOM */
     2426    16593    4                END;
     2427    16594    3             ELSE IF ( TCODE = 42 )  /* C@N_AT11 */
     2428    16595    4                  THEN DO;                 /* N_ONN11 - BYPASS COUNT */
     2429    16596    4                       NCC$ = NCC$->POB.SUBLK$(0); /* POINT TO TEXT (DECIMAL LEXEME) */
     2430    16597    4                       CALL DDS$DECIMAL(NCC$,TCODE) ALTRET(ALTRT); /* GET THE NUMBER */
     2431    16598    4                       ONN$CMD.BYPASS_COUNT = TCODE;
     2432    16599    4                       ONN$CMD.CURRENT_COUNT = TCODE;
     2433    16600    4                     END;
     2434    16601    3                  ELSE IF ( TCODE = 100 ) /* C@SILENT */
     2435    16602    3                       THEN S_D.FIXCOM.SILENT( S_D.STORED ) = '1'B;
     2436    16603    3                       ELSE IF ( TCODE = 101 ) /* C@INACTIVE */
     2437    16604    3                            THEN S_D.FIXCOM.INACTIVE( S_D.STORED ) = '1'B;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:82   
     2438    16605    4                            ELSE DO;       /* UNKNOWN COMMAND */
     2439    16606    4                                 S_D.ERROR = 501; /* E@DERR1 */
     2440    16607    4                                 GOTO ALTRT; /* SPLIT */
     2441    16608    4                               END;
     2442    16609    3           END;                            /* END "DO IX" */
     2443    16610    2        CALL DDS$DUBREAK ALTRET( ALTRT1 );
     2444    16611    2        RETURN;
     2445    16612
     2446    16613    2   ALTRT1:
     2447    16614    2        S_D.ERROR_SYM$ = ERR$;
     2448    16615    2   ALTRT:
     2449    16616    2        ALTRETURN;
     2450    16617    2   NOTIMPFPRG: ;
     2451    16618    2        S_D.ERROR = 315;          /* E@NOTIMPFPRG */
     2452    16619    2        GOTO ALTRT;
     2453    16620
     2454    16621    2   END DDS$BLD_ONN;
     2455    16622        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:83   
     2456    16623        /*F* NAME: DDS$BLD_ONCALLS
     2457    16624             PURPOSE: TO BUILD THE ONCALLS COMMAND.
     2458    16625             DESCRIPTION: BUILDS THE ONCALLS COMMAND. */
     2459    16626        /*D* NAME: DDS$BLD_ONCALLS
     2460    16627             CALL: CALL DDS$BLD_ONCALLS ALTRET( ERROR );
     2461    16628             INTERFACE: DDS$ATTDIRA
     2462    16629             ENVIRONMENT: DDS$SCAN ACTIVE
     2463    16630             INPUT: NCMD$ - PTR TO "ONCALLS" NODE.
     2464    16631             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2465    16632             SCRATCH: LOCAL AUTO ONLY.
     2466    16633             DESCRIPTION: */
     2467    16634
     2468    16635    1   DDS$BLD_ONCALLS: PROC ALTRET;
     2469    16636
     2470    16637    2   DCL NSB SBIN;
     2471    16638    2   DCL IX SBIN;
     2472    16639        /*D* NSB & IX must be SBIN */
     2473    16640    2   DCL NC$ PTR;
     2474    16641    2   DCL CODE UBIN;
     2475    16642    2   DCL V UBIN;
     2476    16643    2   DCL CMD UBIN;
     2477    16644    2   DCL I UBIN;
     2478    16645        %AT_FIRST (NAME=ONCALLS$CMD,STCLASS="BASED(LASTBLT$)");
     2479    16673        %FPRG$CONTEXT;
     2480    16736
     2481    16737    2        CMD = 53;                   /* C_ONCALLS */
     2482    16738    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
     2483    16739    3        THEN DO;
     2484    16740    3             IF S_D.ONCALLS ~= 0
     2485    16741    3             THEN GOTO ARET1;
     2486    16742    3             IF S_D.TR$INFO.SET
     2487    16743    4             THEN DO;
     2488    16744    4                  S_D.ERROR = 227; /* E@CANT_ONCALLS_TR */
     2489    16745    4                  GOTO ARET;
     2490    16746    4                END;
     2491    16747    3           END;
     2492    16748    3        ELSE DO;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:84   
     2493    16749    3             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.ONCALLS ~= 0
     2494    16750    3             THEN GOTO ARET1;
     2495    16751    3             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.SET
     2496    16752    4             THEN DO;
     2497    16753    4                  S_D.ERROR = 227; /* E@CANT_ONCALLS_TR */
     2498    16754    4                  GOTO ARET;
     2499    16755    4                END;
     2500    16756    3           END;
     2501    16757    2        GOTO SETUP;
     2502    16758
     2503    16759    2   DDS$BLD_ONNODES: ENTRY ALTRET;
     2504    16760
     2505    16761    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6
     2506    16762    2        THEN GOTO NOTIMPFPRG;
     2507    16763    2        CMD = 54;                   /* C_ONNODES */
     2508    16764    2        IF S_D.ONNODES ~= 0
     2509    16765    2        THEN GOTO ARET1;
     2510    16766        /*   GOTO SETUP; */
     2511    16767    2   SETUP:
     2512    16768    2        CALL DDS$STOREDA( SIZEW( ONCALLS$CMD ), CMD ) ALTRET( ARET );
     2513    16769    2        NSB = NCMD$ -> POB.NSB - 1;
     2514    16770    3        DO IX = 0 TO NSB;
     2515    16771    3             NC$ = NCMD$ -> POB.SUBLK$( IX );
     2516    16772    3             CODE = NC$ -> POB.CODE;
     2517    16773    3             IF CODE = 26                 /* C@X */
     2518    16774    3             THEN ONCALLS$CMD.XTERNAL = '1'B;
     2519    16775    3             ELSE IF CODE = 100       /* C@SILENT */
     2520    16776    3                  THEN S_D.FIXCOM.SILENT( S_D.STORED ) = '1'B;
     2521    16777    3                  ELSE IF CODE = 101 /* C@INACTIVE */
     2522    16778    3                       THEN S_D.FIXCOM.INACTIVE( S_D.STORED ) = '1'B;
     2523    16779    4                       ELSE DO;
     2524    16780    4                            S_D.ERROR = 501; /* E@DERR1 */
     2525    16781    4                            GOTO ARET;
     2526    16782    4                          END;
     2527    16783    3           END;
     2528    16784
     2529    16785    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:85   
     2530    16786    3        THEN DO;
     2531    16787    3             IF CMD = 53            /* C_ONCALLS */
     2532    16788    4             THEN DO;
     2533    16789    4                  S_D.ONCALLS = S_D.STORED;
     2534    16790    4                  S_D.TR$INFO.SET = '1'B;
     2535    16791    4                  S_D.TR$INFO.TYPE= 46;  /* C_TC */
     2536    16792    4                  S_D.TR$INFO.X = ONCALLS$CMD.XTERNAL;
     2537    16793    4                  IF S_D.FIXCOM.INACTIVE( S_D.STORED ) = '0'B
     2538    16794    4                  THEN CALL DDA$TRACEON;
     2539    16795    4                END;
     2540    16796    3             ELSE S_D.ONNODES = S_D.STORED;
     2541    16797    3           END;
     2542    16798    3        ELSE DO;
     2543    16799    3             I = 1;
     2544    16800    4             DO WHILE (S_D.CURRENT_FPRG_CONTEXT$->FPRG$CONTEXT.FIXCOM_INDEX(I) ~= 0
     2545    16801    4               AND I <= 20);
     2546    16802    4                  I = I + 1;
     2547    16803    4                END;
     2548    16804    3             IF I > 20
     2549    16805    4             THEN DO;
     2550    16806    4                  S_D.ERROR = 288; /* E@TOOMANYBKPNTS */
     2551    16807    4                  GOTO ARET;
     2552    16808    4                END;
     2553    16809    3             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FIXCOM_INDEX(I) = S_D.STORED;
     2554    16810    3             S_D.FIXCOM.FPRG(S_D.STORED) = '1'B;
     2555    16811    3             S_D.FIXCOM.FPRG_RES(S_D.STORED) =
     2556    16812    3               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES;
     2557    16813    3             S_D.FIXCOM.FPRG_RES_SIZE(S_D.STORED) =
     2558    16814    3               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES_SIZE;
     2559    16815    3             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.ONCALLS = I;
     2560    16816    3             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.ONCALLS_X = ONCALLS$CMD.XTERNAL;
     2561    16817    3             CALL DFA$ONCALLS(I, 0, S_D.STORED) ALTRET(ARET);
     2562    16818    3           END;
     2563    16819    2        RETURN;
     2564    16820
     2565    16821    2   ARET1:
     2566    16822    2        S_D.ERROR = 91;               /* E@ONLY1 */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:86   
     2567    16823    2   ARET: ALTRETURN;
     2568    16824    2   NOTIMPFPRG: ;
     2569    16825    2        S_D.ERROR = 315;          /* E@NOTIMPFPRG */
     2570    16826    2        GOTO ARET;
     2571    16827
     2572    16828    2   END DDS$BLD_ONCALLS;
     2573    16829        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:87   
     2574    16830        /*F* NAME: DDS$BLD_PLUGH
     2575    16831             PURPOSE: TO BUILD THE PLUGH COMMAND.
     2576    16832             DESCRIPTION: BUILDS THE PLUGH COMMAND. */
     2577    16833        /*D* NAME: DDS$BLD_PLUGH
     2578    16834             CALL: CALL DDS$BLD_PLUGH ALTRET( ERROR );
     2579    16835             INTERFACE: DDS$VREFCOM
     2580    16836             ENVIRONMENT: DDS$SCAN ACTIVE
     2581    16837             INPUT: NCMD$ - PTR TO "PLUGH" NODE.
     2582    16838             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2583    16839             SCRATCH: LOCAL AUTO ONLY.
     2584    16840             DESCRIPTION: */
     2585    16841
     2586    16842    1   DDS$BLD_PLUGH: PROC ALTRET;
     2587    16843
     2588    16844        %DOO (NAME=PLUGH$CMD,STCLASS="BASED(LASTBLT$)");
     2589    16859    2   DCL DDESC BIT(1) ALIGNED;
     2590    16860
     2591    16861    2        CALL DDS$ATTDIRA( SIZEW( PLUGH$CMD ), 24 ) ALTRET( ARET ); /* C_PLUGH */
     2592    16862    2        IF NCMD$ -> POB.NSB ~= 0
     2593    16863    3        THEN DO;                           /* PLUGH loc */
     2594    16864    3             IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6 AND
     2595    16865    3               S_D.FPRG AND
     2596    16866    3               NOT S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA AND
     2597    16867    3               NOT S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
     2598    16868    4             THEN DO;
     2599    16869    4                  S_D.ERROR = 87; /* EXPNOTVALID */
     2600    16870    4                  GOTO ARET;
     2601    16871    4                END;
     2602    16872    3             DDESC = '1'B;
     2603    16873    3             ZITEM$ = S_D.D$;
     2604    16874    3             CALL DDS$VREFCOM( NCMD$ -> POB.SUBLK$( 0 ) ) ALTRET( ARET );
     2605    16875    3             IF NOT ZITEM.FLAGS.MDSE.M
     2606    16876    4             THEN DO;
     2607    16877    4                  S_D.ERROR = 42;     /* E@NOMOD */
     2608    16878    4                  GOTO ARET;
     2609    16879    4                END;
     2610    16880    3           END;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:88   
     2611    16881    2        ELSE DDESC = '0'B;
     2612    16882    2        PLUGH$CMD.DDESC = DDESC;
     2613    16883
     2614    16884    2        RETURN;
     2615    16885
     2616    16886    2   ARET: ALTRETURN;
     2617    16887
     2618    16888    2   END DDS$BLD_PLUGH;
     2619    16889        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:89   
     2620    16890        /*F* NAME: DDS$BLD_PMD
     2621    16891             PURPOSE: TO BUILD THE PMD COMMAND.
     2622    16892             DESCRIPTION: BUILDS THE PMD COMMAND. */
     2623    16893        /*D* NAME: DDS$BLD_PMD
     2624    16894             CALL: CALL DDS$BLD_PMD ALTRET( ERROR );
     2625    16895             INTERFACE: DDS$ATTDIRA
     2626    16896             ENVIRONMENT: DDS$SCAN ACTIVE
     2627    16897             INPUT: NCMD$ - PTR TO "PMD" NODE.
     2628    16898             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2629    16899             SCRATCH: LOCAL AUTO ONLY.
     2630    16900             DESCRIPTION: */
     2631    16901
     2632    16902    1   DDS$BLD_PMD: PROC ALTRET;
     2633    16903
     2634    16904    2   DCL NSB SBIN;
     2635    16905    2   DCL IX SBIN;
     2636    16906    2   DCL CODE SBIN;
     2637    16907    2   DCL NC$ PTR;
     2638    16908        %KEEP$CMD (NAME=PMD$CMD,STCLASS="BASED(LASTBLT$)");
     2639    16927
     2640    16928    2        CALL DDS$ATTDIRA( SIZEW( PMD$CMD ), 73 ) ALTRET( ARET ); /* C_PMD */
     2641    16929    2        NSB = NCMD$ -> POB.NSB - 1;
     2642    16930    2        IF NSB < 0
     2643    16931    2        THEN PMD$CMD.OPTARRY( 0 ) = '1'B;  /* Default is ALL */
     2644    16932    3        ELSE DO IX = 0 TO NSB;
     2645    16933    3             NC$ = NCMD$ -> POB.SUBLK$( IX );
     2646    16934    3             CODE = NC$ -> POB.CODE - 490; /* P@ALL */
     2647    16935    3             PMD$CMD.OPTARRY( CODE ) = '1'B;
     2648    16936    3           END;
     2649    16937
     2650    16938    2        RETURN;
     2651    16939
     2652    16940    2   ARET:
     2653    16941    2        ALTRETURN;
     2654    16942
     2655    16943    2   END DDS$BLD_PMD;
     2656    16944        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:90   
     2657    16945        /*F* NAME: DDS$BLD_PROMPT
     2658    16946             PURPOSE: TO BUILD THE PROMPT COMMAND.
     2659    16947             DESCRIPTION: BUILDS THE PROMPT COMMAND. */
     2660    16948        /*D* NAME: DDS$BLD_PROMPT
     2661    16949             CALL: CALL DDS$BLD_PROMPT ALTRET( ERROR );
     2662    16950             INTERFACE: DDS$ATTDIRA
     2663    16951             ENVIRONMENT: DDS$SCAN ACTIVE
     2664    16952             INPUT: NCMD$ - PTR TO "PROMPT" NODE.
     2665    16953             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2666    16954             SCRATCH: LOCAL AUTO ONLY.
     2667    16955             DESCRIPTION: */
     2668    16956
     2669    16957    1   DDS$BLD_PROMPT: PROC ALTRET;
     2670    16958
     2671    16959    2   DCL TEXT$ PTR;
     2672    16960        %DEF$CMD (NAME=PROMPT$CMD,STCLASS="BASED(LASTBLT$)");
     2673    16974
     2674    16975    2        CALL DDS$ATTDIRA( SIZEW( PROMPT$CMD ), 25 ) ALTRET( ARET ); /* C_PROMPT */
     2675    16976    2        TEXT$ = NCMD$ -> POB.SUBLK$( 0 ) -> POB.SUBLK$( 0 );
     2676    16977    2        IF ( TEXT$ -> TEXT$C.SIZE > LENGTHC( S_D.UPROMPT ) )
     2677    16978    3        THEN DO;
     2678    16979    3             S_D.ERROR = 48;       /* E@SYM2LONG */
     2679    16980    3             GOTO ARET;
     2680    16981    3           END;
     2681    16982    2        PROMPT$CMD.TEXTC = TEXT$ -> TEXT$C;
     2682    16983
     2683    16984    2        RETURN;
     2684    16985
     2685    16986    2   ARET: ALTRETURN;
     2686    16987
     2687    16988    2   END DDS$BLD_PROMPT;
     2688    16989        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:91   
     2689    16990        /*F* NAME: DDS$BLD_QUIT
     2690    16991             PURPOSE: TO BUILD THE QUIT COMMAND
     2691    16992             DESCRIPTION: BUILDS THE QUIT COMMAND */
     2692    16993
     2693    16994    1   DDS$BLD_QUIT: PROC ALTRET;
     2694    16995        %QUIT$CMD (NAME=QUIT$CMD,STCLASS="BASED(LASTBLT$)");
     2695    17007    2   DCL NSB SBIN;
     2696    17008    2   DCL IX SBIN;
     2697    17009        /* NSB and IX must be SBIN */
     2698    17010    2   DCL NC$ PTR;
     2699    17011    2   DCL CODE UBIN;
     2700    17012    2   DCL TEXT$ PTR;
     2701    17013    2   DCL V UBIN;
     2702    17014
     2703    17015    2        IF S_D.DO_ATTACH ~= 0 AND D_XDELTA
     2704    17016    3        THEN DO;                           /* 'QUIT' IS NOT ATTACHABLE */
     2705    17017    3             S_D.ERROR = 47;         /* E@NOTATT */
     2706    17018    3             GOTO ALTRT;
     2707    17019    3           END;
     2708    17020    2        CALL DDS$ATTDIRA(SIZEW(QUIT$CMD), 39) /* C_QUIT */
     2709    17021    2          ALTRET(ALTRT);
     2710    17022    2        NSB = NCMD$ -> POB.NSB - 1;
     2711    17023    3        DO IX = 0 TO NSB;
     2712    17024    3             NC$ = NCMD$ -> POB.SUBLK$( IX );
     2713    17025    3             CODE = NC$ -> POB.CODE;
     2714    17026    3             IF CODE = 112            /* RES_CODE */
     2715    17027    4             THEN DO;
     2716    17028    4                  QUIT$CMD.FPRG = '1'B;
     2717    17029    4                  QUIT$CMD.FPRG_RES = NC$ -> SYM.TEXT;
     2718    17030    4                END;
     2719    17031    4             ELSE DO;
     2720    17032    4                  S_D.ERROR = 501;     /* E@DERR1 */
     2721    17033    4                  GOTO ALTRT;
     2722    17034    4                END;
     2723    17035    3           END;
     2724    17036    2        RETURN;
     2725    17037    2   ALTRT:
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:92   
     2726    17038    2        ALTRETURN;
     2727    17039    2   END DDS$BLD_QUIT;
     2728    17040        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:93   
     2729    17041        /*F* NAME: DDS$BLD_RANGE
     2730    17042             PURPOSE: TO BUILD THE RANGE COMMAND.
     2731    17043             DESCRIPTION: BUILDS THE RANGE COMMAND. */
     2732    17044        /*D* NAME: DDS$BLD_RANGE
     2733    17045             CALL: CALL DDS$BLD_RANGE ALTRET( ERROR );
     2734    17046             INTERFACE: DDS$ATTDIRA
     2735    17047             ENVIRONMENT: DDS$SCAN ACTIVE
     2736    17048             INPUT: NCMD$ - PTR TO "RANGE" NODE.
     2737    17049             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2738    17050             SCRATCH: LOCAL AUTO ONLY.
     2739    17051             DESCRIPTION: */
     2740    17052
     2741    17053    1   DDS$BLD_RANGE: PROC ALTRET;
     2742    17054
     2743    17055        %DOO (NAME=RANGE$CMD,STCLASS="BASED(LASTBLT$)");
     2744    17070    2   DCL V UBIN;
     2745    17071
     2746    17072    2        CALL DDS$ATTDIRA( SIZEW( RANGE$CMD ), 56 ) ALTRET( ARET ); /* C_RANGE */
     2747    17073    2        V = 0;                             /* ASSUME ZERO */
     2748    17074    2        IF ( NCMD$ -> POB.NSB = 1 )
     2749    17075    2        THEN CALL DDS$SDO( NCMD$ -> POB.SUBLK$( 0 ), V ) ALTRET( ARET );
     2750    17076    2        RANGE$CMD.ID = V;
     2751    17077
     2752    17078    2        RETURN;
     2753    17079
     2754    17080    2   ARET: ALTRETURN;
     2755    17081
     2756    17082    2   END DDS$BLD_RANGE;
     2757    17083        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:94   
     2758    17084        /*F* NAME: DDS$BLD_REPORT
     2759    17085             PURPOSE: TO BUILD THE REPORT COMMAND.
     2760    17086             DESCRIPTION: BUILDS THE REPORT COMMAND. */
     2761    17087        /*D* NAME: DDS$BLD_REPORT
     2762    17088             CALL: CALL DDS$BLD_REPORT ALTRET( ERROR );
     2763    17089             INTERFACE: DDS$ATTDIRA
     2764    17090             ENVIRONMENT: DDS$SCAN ACTIVE
     2765    17091             INPUT: NCMD$ - PTR TO "REPORT" NODE.
     2766    17092             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2767    17093             SCRATCH: LOCAL AUTO ONLY.
     2768    17094             DESCRIPTION: */
     2769    17095
     2770    17096    1   DDS$BLD_REPORT: PROC ALTRET;
     2771    17097
     2772    17098    2   DCL NSB SBIN;
     2773    17099    2   DCL IX SBIN;
     2774    17100    2   DCL CODE SBIN;
     2775    17101    2   DCL DEFAULT BIT(1) ALIGNED;
     2776    17102        %REPORT$CMD (NAME=REPORT$CMD,STCLASS="BASED(LASTBLT$)");
     2777    17118
     2778    17119    2        CALL DDS$ATTDIRA( SIZEW( REPORT$CMD ), 55 ) ALTRET( ARET ); /* C_REPORT */
     2779    17120    2        DEFAULT = '1'B;
     2780    17121    2        NSB = NCMD$ -> POB.NSB - 1;
     2781    17122    3        DO IX = 0 TO NSB;
     2782    17123    3             CODE = NCMD$ -> POB.SUBLK$( IX ) -> POB.CODE;
     2783    17124    3             IF CODE = 530               /* C@ALL */
     2784    17125    4             THEN DO;
     2785    17126    4                  REPORT$CMD.OFFSET = '1'B;
     2786    17127    4                  REPORT$CMD.LINE = '1'B;
     2787    17128    4                  REPORT$CMD.TYPE = '1'B;
     2788    17129    4                  DEFAULT = '0'B;
     2789    17130    4                END;
     2790    17131    3             ELSE IF CODE = 83      /* C@DEFAULT */
     2791    17132    4                  THEN DO;                 /* Nothing */
     2792    17133    4                     END;
     2793    17134    3                  ELSE IF CODE = 73  /* C@OFFSET */
     2794    17135    4                       THEN DO;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:95   
     2795    17136    4                            REPORT$CMD.OFFSET = '1'B;
     2796    17137    4                            DEFAULT = '0'B;
     2797    17138    4                          END;
     2798    17139    3                       ELSE IF CODE = 74 /* C@LINE */
     2799    17140    4                            THEN DO;
     2800    17141    4                                 REPORT$CMD.LINE = '1'B;
     2801    17142    4                                 DEFAULT = '0'B;
     2802    17143    4                               END;
     2803    17144    3                            ELSE IF CODE = 75 /* C@TYPE */
     2804    17145    4                                 THEN DO;
     2805    17146    4                                      REPORT$CMD.TYPE = '1'B;
     2806    17147    4                                      DEFAULT = '0'B;
     2807    17148    4                                    END;
     2808    17149    4                                 ELSE DO;  /* MUST BE COMPILER TYPE */
     2809    17150    4                                      REPORT$CMD.COMPILER_SPF = '1'B;
     2810    17151    4                                      REPORT$CMD.COMPILER = CODE;
     2811    17152    4                                    END;
     2812    17153    3           END;
     2813    17154    2        REPORT$CMD.DEFAULT = DEFAULT;
     2814    17155
     2815    17156    2        RETURN;
     2816    17157
     2817    17158    2   ARET:
     2818    17159    2        ALTRETURN;
     2819    17160
     2820    17161    2   END DDS$BLD_REPORT;
     2821    17162        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:96   
     2822    17163        /*F* NAME: DDS$BLD_RUM
     2823    17164             PURPOSE: TO BUILD THE RUM COMMAND.
     2824    17165             DESCRIPTION: BUILDS THE RUM COMMAND. */
     2825    17166        /*D* NAME: DDS$BLD_RUM
     2826    17167             CALL: CALL DDS$BLD_RUM ALTRET( ERROR );
     2827    17168             INTERFACE: DDS$ATTDIRA
     2828    17169             ENVIRONMENT: DDS$SCAN ACTIVE
     2829    17170             INPUT: NCMD$ - PTR TO "RUM" NODE.
     2830    17171             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2831    17172             SCRATCH: LOCAL AUTO ONLY.
     2832    17173             DESCRIPTION: */
     2833    17174
     2834    17175    1   DDS$BLD_RUM: PROC ALTRET;
     2835    17176
     2836    17177    2   DCL NSB SBIN;
     2837    17178    2   DCL IX SBIN;
     2838    17179    2   DCL CODE SBIN;
     2839    17180    2   DCL SIZE UBIN;
     2840    17181    2   DCL TEXT$ PTR;
     2841    17182    2   DCL NC$ PTR;
     2842    17183    2   DCL IXX UBIN;
     2843    17184    2   DCL V UBIN;
     2844    17185    2   DCL NCC$ PTR;
     2845    17186    2   DCL CHAR2 CHAR(2);
     2846    17187    2   DCL UTSP CHAR(0) CONSTANT INIT( 'MM/DD/YY HH:MM:SS.TT' );
     2847    17188    2   DCL UTSM(0:6) UBIN CONSTANT INIT( 12, 31, 99, 23, 59, 59, 99 );
     2848    17189    2   DCL UTSX(0:6) UBIN CONSTANT INIT(  0,  3,  6,  9, 12, 15, 18 );
     2849    17190        %RUM$CMD (NAME=RUM$CMD,STCLASS="BASED(LASTBLT$)");
     2850    17214
     2851    17215    2        CALL DDS$ATTDIRA( SIZEW( RUM$CMD ), 72 ) ALTRET( ARET ); /* C_RUM */
     2852    17216    2        NSB = NCMD$ -> POB.NSB - 1;
     2853    17217    3        DO IX = 0 TO NSB;
     2854    17218    3             NC$ = NCMD$ -> POB.SUBLK$( IX );
     2855    17219    3             CODE = NC$ -> POB.CODE;
     2856    17220    3             IF CODE = 77            /* FID_CODE */
     2857    17221    4             THEN DO;
     2858    17222    4                  TEXT$ = NC$ -> POB.SUBLK$( 0 );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:97   
     2859    17223    4                  SIZE = TEXT$ -> TEXT$C.SIZE;
     2860    17224    4                  IF SIZE > LENGTHC( RUM$CMD.FID.TEXT )
     2861    17225    5                  THEN DO;
     2862    17226    5                       S_D.ERROR = 48; /* E@SYM2LONG */
     2863    17227    5                       GOTO ARET;
     2864    17228    5                     END;
     2865    17229    4                  RUM$CMD.FID = TEXT$ -> TEXT$C;
     2866    17230    4                END;
     2867    17231    3             ELSE IF CODE = 79         /* C@NUTS */
     2868    17232    3                  THEN RUM$CMD.NUTS = '1'B;
     2869    17233    3                  ELSE IF CODE = 54  /* C@RUMUTS */
     2870    17234    4                       THEN DO;
     2871    17235    4                            RUM$CMD.GOTUTS = '1'B;
     2872    17236    4                            RUM$CMD.UTS = UTSP;
     2873    17237    5                            DO IXX = 0 TO LENGTHW( UTSX ) -1;
     2874    17238    5                                 NCC$ = NC$ -> POB.SUBLK$( IXX );
     2875    17239    5                                 CALL DDS$DECIMAL( NCC$, V ) ALTRET( ARET );
     2876    17240    5                                 IF V > UTSM( IXX )
     2877    17241    6                                 THEN DO;
     2878    17242    6                                      S_D.ERROR = 225; /* E@UTSFIELD */
     2879    17243    6                                      S_D.ERROR_SYM$ = NCC$ -> POB.SUBLK$( 0 );
     2880    17244    6                                      GOTO ARET;
     2881    17245    6                                    END;
     2882    17246    5                                 CALL BINCHAR( CHAR2, V );
     2883    17247    5                                 CALL INSERT( RUM$CMD.UTS, UTSX( IXX ), LENGTHC( CHAR2
             17247                                          ), CHAR2 );
     2884    17248    5                               END;
     2885    17249    4                          END;
     2886    17250    3                       ELSE IF ( CODE = 82 ) OR /* C@COPY */
     2887    17251    3                              ( CODE = 81 ) OR /* C@INPUT */
     2888    17252    3                              ( CODE = 98 ) /* C@TEST */
     2889    17253    3                            THEN RUM$CMD.CODE = CODE;
     2890    17254    3                            ELSE IF CODE = 99 /* C@RUMBUF */
     2891    17255    4                                 THEN DO;
     2892    17256    4                                      NCC$ = NC$ -> POB.SUBLK$( 0 );
     2893    17257    4                                      CALL DDS$DECIMAL( NCC$, V ) ALTRET( ARET );
     2894    17258    4                                      IF V > SIZEW(S_D.RCBC.BUF$)/SIZEW(S_D.RCBC.BUF$(0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:98   
             17258                                               )) OR
     2895    17259    4                                        V = 0
     2896    17260    5                                      THEN DO;
     2897    17261    5                                           S_D.ERROR = 235; /* E@RUMBUFS */
     2898    17262    5                                           S_D.ERROR_SYM$ = NCC$ -> POB.SUBLK$( 0 );
     2899    17263    5                                           GOTO ARET;
     2900    17264    5                                         END;
     2901    17265    4                                      RUM$CMD.BUFFERS = V;
     2902    17266    4                                    END;
     2903    17267    4                                 ELSE DO;
     2904    17268    4                                      S_D.ERROR = 502; /* E@DELBUG */
     2905    17269    4                                      CALL DDE$ERROR;
     2906    17270    4                                      GOTO ARET;
     2907    17271    4                                    END;
     2908    17272    3           END;
     2909    17273
     2910    17274    2        RETURN;
     2911    17275
     2912    17276    2   ARET:
     2913    17277    2        IF S_D.GHOST1
     2914    17278    2        THEN S_D.RUM_SKIP = '1'B;
     2915    17279    2        ALTRETURN;
     2916    17280
     2917    17281    2   END DDS$BLD_RUM;
     2918    17282        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:99   
     2919    17283        /*F* NAME: DDS$BLD_SAD
     2920    17284             PURPOSE: TO BUILD THE SAD COMMAND.
     2921    17285             DESCRIPTION: BUILDS THE SAD COMMAND. */
     2922    17286        /*D* NAME: DDS$BLD_SAD
     2923    17287             CALL: CALL DDS$BLD_SAD ALTRET( ERROR );
     2924    17288             INTERFACE: DDS$ATTDIRA
     2925    17289             ENVIRONMENT: DDS$SCAN ACTIVE
     2926    17290             INPUT: NCMD$ - PTR TO "SAD" NODE.
     2927    17291             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2928    17292             SCRATCH: LOCAL AUTO ONLY.
     2929    17293             DESCRIPTION: */
     2930    17294
     2931    17295    1   DDS$BLD_SAD: PROC ALTRET;
     2932    17296
     2933    17297        %DOO (NAME=SAD$CMD,STCLASS="BASED(LASTBLT$)");
     2934    17312    2   DCL V UBIN;
     2935    17313
     2936    17314    2        CALL DDS$ATTDIRA( SIZEW( SAD$CMD ), 77 ) ALTRET( ARET ); /* C_SAD */
     2937    17315    2        CALL DDS$SDO( NCMD$ -> POB.SUBLK$( 0 ), V ) ALTRET( ARET );
     2938    17316    2        SAD$CMD.ID = V;
     2939    17317
     2940    17318    2        RETURN;
     2941    17319
     2942    17320    2   ARET: ALTRETURN;
     2943    17321
     2944    17322    2   END DDS$BLD_SAD;
     2945    17323        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:100  
     2946    17324        /*F* NAME: DDS$BLD_SAVE
     2947    17325             PURPOSE: TO BUILD THE SAVE COMMAND.
     2948    17326             DESCRIPTION: BUILDS THE SAVE FIRST ATTACHMENT. */
     2949    17327        /*D* NAME: DDS$BLD_SAVE
     2950    17328             INTERFACE:
     2951    17329             ENVIRONMENT: DDS$SCAN ACTIVE.
     2952    17330             INPUT: NCMD$ - POINTER TO N_SAVE NODE.
     2953    17331             OUTPUT: S_D.D$ - POINTER TO NEXT FREE WORD IN VARCOM.
     2954    17332             SCRATCH: LOCAL AUTO ONLY
     2955    17333             DESCRIPTION: BUILDS THE SAVE FIRST ATTACHMENT. */
     2956    17334
     2957    17335    1   DDS$BLD_SAVE: PROC ALTRET;
     2958    17336
     2959    17337        %AT_FIRST (NAME=SAVE$CMD,STCLASS="BASED(LASTBLT$)");
     2960    17365
     2961    17366    2        CALL DDS$STOREDA( SIZEW(SAVE$CMD), 45 ) /* C_SAVE */ ALTRET(ALTRT);
     2962    17367    2        RETURN;                            /* DONE - RETURN */
     2963    17368    2   ALTRT:
     2964    17369    2        ALTRETURN;
     2965    17370
     2966    17371    2   END DDS$BLD_SAVE;
     2967    17372        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:101  
     2968    17373    1   DDS$BLD_SCHEMA: PROC ALTRET;
     2969    17374                                                /* LOCAL TEMPS */
     2970    17375    2   DCL NSB SBIN;
     2971    17376    2   DCL IX SBIN;
     2972    17377        /*D* NSB & IX must be SBIN */
     2973    17378    2   DCL NC$ PTR;
     2974    17379    2   DCL CODE UBIN;
     2975    17380    2   DCL NCC$ PTR;
     2976    17381    2   DCL TCODE UBIN;
     2977    17382        /*D* V must be UBIN */
     2978    17383    2   DCL V UBIN;
     2979    17384    2   DCL T1 UBIN;
     2980    17385    2   DCL TEXT$ PTR;
     2981    17386        %SCHEMA$CMD(NAME=SCHEMA$CMD,STCLASS="BASED(LASTBLT$)");
     2982    17402
     2983    17403    2        T1 = 43;                     /* C_SCHEMA */
     2984    17404    2        CALL DDS$ATTDIRA( SIZEW( SCHEMA$CMD ), T1 ) ALTRET( ARET );
     2985    17405    2        NSB = NCMD$ -> POB.NSB - 1;
     2986    17406    3        DO IX = 0 TO NSB;
     2987    17407    3             NC$ = NCMD$ -> POB.SUBLK$( IX );
     2988    17408    3             CODE = NC$ -> POB.CODE;
     2989    17409    3             IF CODE = 24          /* C@POSITION */
     2990    17410    4             THEN DO;
     2991    17411    4                  SCHEMA$CMD.GOTPOS = '1'B;
     2992    17412    4                  CALL DDS$POSITION( NC$, V ) ALTRET( ARET );
     2993    17413    4                  IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST AND
     2994    17414    4                    ( V > BITBIN('777777'O) )
     2995    17415    4                  THEN GOTO ERR25;         /* TRUNCATION - INVALID IS ADDRESS */
     2996    17416    4                  ELSE IF (V > BITBIN('3777777'O) )
     2997    17417    4                       THEN GOTO ERR25;
     2998    17418    4                  SCHEMA$CMD.POSITION = V;
     2999    17419    4                END;
     3000    17420    3             ELSE IF CODE = 77       /* FID_CODE */
     3001    17421    4                  THEN DO;
     3002    17422    4                       SCHEMA$CMD.GOTFID = '1'B;
     3003    17423    4                       TEXT$ = NC$ -> POB.SUBLK$(0);
     3004    17424    4                       SCHEMA$CMD.FID.SIZE = TEXT$ -> TEXT$C.SIZE;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:102  
     3005    17425    4                       SCHEMA$CMD.FID.TEXT = TEXT$ -> TEXT$C.TXT;
     3006    17426    4                     END;
     3007    17427    3           END;
     3008    17428    2        RETURN;
     3009    17429
     3010    17430    2   ERR25: S_D.ERROR = 25; GOTO ARET; /* E@UERR25 */
     3011    17431    2   ARET: ALTRETURN;
     3012    17432
     3013    17433    2   END DDS$BLD_SCHEMA;
     3014    17434        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:103  
     3015    17435        /*F* NAME: DDS$BLD_SELCHAN
     3016    17436             PURPOSE: TO BUILD THE SELCHAN COMMAND.
     3017    17437             DESCRIPTION: BUILDS THE SELCHAN COMMAND. */
     3018    17438        /*D* NAME: DDS$BLD_SELCHAN
     3019    17439             CALL: CALL DDS$BLD_SELCHAN ALTRET( ERROR );
     3020    17440             INTERFACE: DDS$ATTDIRA
     3021    17441             ENVIRONMENT: DDS$SCAN ACTIVE
     3022    17442             INPUT: NCMD$ - PTR TO "SELCHAN" NODE.
     3023    17443             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3024    17444             SCRATCH: LOCAL AUTO ONLY.
     3025    17445             DESCRIPTION: */
     3026    17446
     3027    17447    1   DDS$BLD_SELCHAN:PROC ALTRET;
     3028    17448
     3029    17449    2   DCL NC$ PTR;
     3030    17450    2   DCL V UBIN;
     3031    17451    2   DCL T1 UBIN;
     3032    17452        %LCT$CMD(NAME=LCT$CMD,STCLASS="BASED(LASTBLT$)");
     3033    17466
     3034    17467    2        T1 = 66;                    /* C_SELCHAN */
     3035    17468    2        CALL DDS$ATTDIRA ( SIZEW(LCT$CMD), T1 ) ALTRET(ARET);
     3036    17469    2        NC$ = NCMD$ -> POB.SUBLK$(0);
     3037    17470    2        CALL DDS$HEX( NC$, V ) ALTRET(ARET);
     3038    17471    2        IF ( V > BITBIN('FF80'X))
     3039    17472    2        THEN GOTO TOOLARGE;
     3040    17473    2        LCT$CMD.CHAN# = V;
     3041    17474    2        RETURN;
     3042    17475
     3043    17476    2   TOOLARGE: S_D.ERROR = 46;       /* E@TOOLARGE */
     3044    17477    2   ARET: ALTRETURN;
     3045    17478
     3046    17479    2   END DDS$BLD_SELCHAN;
     3047    17480        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:104  
     3048    17481        /*F* NAME: DDS$BLD_SHOW
     3049    17482             PURPOSE: TO BUILD THE SHOW COMMAND.
     3050    17483             DESCRIPTION: BUILDS THE SHOW COMMAND. */
     3051    17484        /*D* NAME: DDS$BLD_SHOW
     3052    17485             CALL: CALL DDS$BLD_SHOW ALTRET( ERROR );
     3053    17486             INTERFACE: DDS$DECIMAL
     3054    17487             ENVIRONMENT: DDS$SCAN ACTIVE
     3055    17488             INPUT: NCMD$ - PTR TO "SHOW" NODE.
     3056    17489             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3057    17490             SCRATCH: LOCAL AUTO ONLY.
     3058    17491             DESCRIPTION: */
     3059    17492
     3060    17493    1   DDS$BLD_SHOW: PROC ALTRET;
     3061    17494
     3062    17495    2   DCL N$ PTR;
     3063    17496    2   DCL V UBIN;
     3064    17497    2   DCL V1 UBIN;
     3065    17498    2   DCL NC$ PTR;
     3066    17499    2   DCL TEXT$ PTR;
     3067    17500        %SHOW$CMD (STCLASS="BASED(LASTBLT$)");
     3068    17522
     3069    17523    2        CALL DDS$ATTDIRA( SIZEW( SHOW$CMD ), 44 ) ALTRET( ARET ); /* C_SHOW */
     3070    17524    2        IF ( NCMD$ -> POB.NSB = 0 )
     3071    17525    3        THEN DO;
     3072    17526    3   ASML:     SHOW$CMD.TYPE = 301;   /* S@ALLSMALL */
     3073    17527    3             GOTO RETN;
     3074    17528    3           END;
     3075    17529    2        SHOW$CMD.DESTCODE = 0;
     3076    17530    2        N$ = NCMD$ -> POB.SUBLK$( 0 );
     3077    17531    3        IF N$->POB.CODE = 390 OR N$->POB.CODE = 392 OR N$->POB.CODE = 391 THEN DO;
     3078    17532    3             SHOW$CMD.DESTCODE = N$->POB.CODE;
     3079    17533    3             SHOW$CMD.FID = NCMD$->POB.SUBLK$(1)->POB.SUBLK$(0)->TEXT$C;
     3080    17534    3             GOTO ASML;
     3081    17535    3           END;
     3082    17536    2        SHOW$CMD.TYPE = N$ -> POB.CODE;
     3083    17537    3        DO CASE( SHOW$CMD.TYPE );
     3084    17538    3          CASE ( 280 );                  /* ALL */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:105  
     3085    17539    3          CASE ( 281 );                  /* ATS */
     3086    17540    3          CASE ( 282 );                 /* DEFS */
     3087    17541    3          CASE ( 283 );                 /* STEP */
     3088    17542    3          CASE ( 284 );               /* SCHEMA */
     3089    17543    3          CASE ( 285 );               /* REPORT */
     3090    17544    3          CASE ( 286 );                /* SAVES */
     3091    17545    3          CASE ( 322 );               /* STATUS */
     3092    17546    3             IF D_XDELTA THEN GOTO ERR7;
     3093    17547    3          CASE ( 287 );                /* TRACE */
     3094    17548    3          CASE ( 288 );                /* WHENS */
     3095    17549    3          CASE ( 289 );                 /* KEEP */
     3096    17550    3          CASE ( 290 );                  /* USE */
     3097    17551    3          CASE ( 291 );                /* ON CALLS */
     3098    17552    3          CASE ( 292 );                /* ON ABORT */
     3099    17553    3             IF D_XDELTA THEN GOTO ERR7;
     3100    17554    3          CASE ( 293 );                 /* ON EXIT */
     3101    17555    3             IF D_XDELTA THEN GOTO ERR7;
     3102    17556    3          CASE ( 294 );                /* ON NODES */
     3103    17557    3             IF D_XDELTA THEN GOTO ERR7;
     3104    17558    3             IF NOT S_D.OVERLAID THEN GOTO ENOV;
     3105    17559    3          CASE ( 295 );              /* ABBREVS */
     3106    17560    3             S_D.ERROR = 34;         /* E@NOTYET */
     3107    17561    3             GOTO ARET;
     3108    17562    3          CASE ( 296 );               /* id TO id */
     3109    17563    3             CALL DDS$DECIMAL( N$ -> POB.SUBLK$( 0 ), V ) ALTRET( ARET );
     3110    17564    3             SHOW$CMD.ID_FROM = V;
     3111    17565    3             SHOW$CMD.ID_TO = V;
     3112    17566    3             IF ( V < 1 ) OR ( V > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1 ) THEN
             17566                      GOTO ERR1;
     3113    17567    3             IF ( N$ -> POB.NSB > 1 )
     3114    17568    4             THEN DO;
     3115    17569    4                  CALL DDS$DECIMAL( N$ -> POB.SUBLK$( 1 ), V1 ) ALTRET( ARET );
     3116    17570    4                  SHOW$CMD.ID_TO = V1;
     3117    17571    4                  IF ( V1 < 1 ) OR ( V1 > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1 )
             17571                           THEN GOTO ERR1;
     3118    17572    4                  IF ( V1 < V ) THEN GOTO EFTO;
     3119    17573    4                END;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:106  
     3120    17574    3          CASE( 297 );                /* BYPASS */
     3121    17575    3          CASE( 299 );                   /* DIC */
     3122    17576    3          CASE( 300 );                 /* RANGE */
     3123    17577    3          CASE ( 302 );                  /* EOM */
     3124    17578    3             IF D_XDELTA THEN GOTO ERR7;
     3125    17579    3          CASE ( 303 );               /* FORMAT */
     3126    17580    3             IF N$ -> POB.NSB > 0
     3127    17581    3             THEN SHOW$CMD.ID_FROM = N$ -> POB.SUBLK$( 0 ) -> POB.CODE;
     3128    17582        /*********ELSE SHOW$CMD.ID_FROM = 0;*********/
     3129    17583    3          CASE ( 304 );                 /* COPY */
     3130    17584    3             IF D_XDELTA THEN GOTO ERR7;
     3131    17585    3          CASE ( 305 );                 /* ECHO */
     3132    17586    3          CASE ( 306 );               /* IGNORE */
     3133    17587    3             IF D_XDELTA THEN GOTO ERR7;
     3134    17588    3          CASE ( 307 );                 /* TRAP */
     3135    17589    3             IF D_XDELTA THEN GOTO ERR7;
     3136    17590    3          CASE ( 308 );                  /* RUM */
     3137    17591    3             IF D_XDELTA THEN GOTO ERR7;
     3138    17592    3          CASE ( 309 );               /* ALTVAR */
     3139    17593    3          CASE ( 310 );                 /* ANLZ */
     3140    17594    3             IF D_XDELTA THEN GOTO ERR7;
     3141    17595    3          CASE ( 311 );               /* SYNTAX */
     3142    17596    3          CASE ( 313 );                  /* SAD */
     3143    17597    3             IF D_XDELTA THEN GOTO ERR7;
     3144    17598    3          CASE ( 314 );              /* PROTECT */
     3145    17599    3          CASE ( 315 );                /* DEBUG */
     3146    17600    3          CASE ( 318 );                /* FPRGS */
     3147    17601    3          CASE ( 319 );            /* FPRG-Res */
     3148    17602    3             NC$ = N$  -> POB.SUBLK$(0);
     3149    17603    3             SHOW$CMD.FPRG_RES = NC$ -> SYM.TEXT;
     3150    17604    3             SHOW$CMD.FPRG = '1'B;
     3151    17605    3          CASE ( ELSE );
     3152    17606    3             S_D.ERROR = 607;       /* E@SHOWCASE */
     3153    17607    3             GOTO ARET;
     3154    17608    3          END;
     3155    17609    3        IF NCMD$->POB.NSB > 1 THEN DO;
     3156    17610    3             SHOW$CMD.DESTCODE = NCMD$->POB.SUBLK$(1)->POB.CODE;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:107  
     3157    17611    3             SHOW$CMD.FID = NCMD$->POB.SUBLK$(2)->POB.SUBLK$(0)->TEXT$C;
     3158    17612    3           END;
     3159    17613
     3160    17614    2   RETN: RETURN;
     3161    17615
     3162    17616    2   ENOV: S_D.ERROR = 117; GOTO ARET; /* E@NOT_OVERLAID */
     3163    17617    2   EFTO: S_D.ERROR = 63; GOTO ARET; /* E@FROM_TO */
     3164    17618    2   ERR1: S_D.ERROR = 12; GOTO ARET;   /* E@UERR1 */
     3165    17619    2   ERR7: S_D.ERROR = 18; GOTO ARET;   /* E@UERR7 */
     3166    17620    2   ARET: ALTRETURN;
     3167    17621
     3168    17622    2   END DDS$BLD_SHOW;
     3169    17623        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:108  
     3170    17624        /*F* NAME: DDS$BLD_STEP
     3171    17625             PURPOSE: TO BUILD THE STEP ATTACHMENT
     3172    17626             DESCRIPTION: BUILDS THE STEP ATTACHMENT  */
     3173    17627
     3174    17628    1   DDS$BLD_STEP: PROC ALTRET;
     3175    17629                                                /* LOCAL TEMPS */
     3176    17630    2   DCL TEMP SBIN;
     3177    17631    2   DCL NC$ PTR;
     3178    17632    2   DCL NCD UBIN;
     3179    17633        %DOO (NAME=STEP$CMD,STCLASS="BASED(LASTBLT$)");
     3180    17648
     3181    17649    2        CALL DDS$ATTDIRA(SIZEW(STEP$CMD), 57) /* C_STEP */
     3182    17650    2          ALTRET(ALTRT);
     3183    17651    2        IF S_D.SACT
     3184    17652    2        THEN STEP$CMD.SACT = '1'B;
     3185    17653    2        TEMP = 1;
     3186    17654    2        IF NCMD$ -> POB.NSB > 0
     3187    17655    3        THEN DO;
     3188    17656    3             NC$ = NCMD$ -> POB.SUBLK$( 0 );
     3189    17657    3             NCD = NC$ -> POB.CODE;
     3190    17658    3             IF NCD = 8             /* DEC_CODE */
     3191    17659    3             THEN CALL DDS$DECIMAL( NC$, TEMP ) ALTRET( ALTRT );
     3192    17660    4             ELSE DO;
     3193    17661    4                  STEP$CMD.SETTYPE = '1'B;
     3194    17662    4                  TEMP = NCD;
     3195    17663    4                END;
     3196    17664    3           END;
     3197    17665    2        STEP$CMD.ID = TEMP;
     3198    17666    2        RETURN;
     3199    17667    2   ALTRT:
     3200    17668    2        ALTRETURN;
     3201    17669    2   END DDS$BLD_STEP;
     3202    17670        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:109  
     3203    17671        /*F* NAME: DDS$BLD_STOP
     3204    17672             PURPOSE: TO BUILD THE STOP COMMAND
     3205    17673             DESCRIPTION: BUILDS THE STOP COMMAND */
     3206    17674
     3207    17675    1   DDS$BLD_STOP: PROC ALTRET;
     3208    17676        %QUIT$CMD (NAME=STOP$CMD,STCLASS="BASED(LASTBLT$)");
     3209    17688    2   DCL NSB SBIN;
     3210    17689    2   DCL IX SBIN;
     3211    17690        /* NSB and IX must be SBIN */
     3212    17691    2   DCL NC$ PTR;
     3213    17692    2   DCL CODE UBIN;
     3214    17693    2   DCL TEXT$ PTR;
     3215    17694    2   DCL V UBIN;
     3216    17695
     3217    17696    2        IF S_D.DO_ATTACH ~= 0 AND D_XDELTA
     3218    17697    3        THEN DO;                           /* 'STOP' IS NOT ATTACHABLE */
     3219    17698    3             S_D.ERROR = 47;         /* E@NOTATT */
     3220    17699    3             GOTO ALTRT;
     3221    17700    3           END;
     3222    17701    2        CALL DDS$ATTDIRA(SIZEW(STOP$CMD), 83) /* C_STOP */
     3223    17702    2          ALTRET(ALTRT);
     3224    17703    2        NSB = NCMD$ -> POB.NSB - 1;
     3225    17704    3        DO IX = 0 TO NSB;
     3226    17705    3             NC$ = NCMD$ -> POB.SUBLK$( IX );
     3227    17706    3             CODE = NC$ -> POB.CODE;
     3228    17707    3             IF CODE = 112            /* RES_CODE */
     3229    17708    4             THEN DO;
     3230    17709    4                  STOP$CMD.FPRG = '1'B;
     3231    17710    4                  STOP$CMD.FPRG_RES = NC$ -> SYM.TEXT;
     3232    17711    4                END;
     3233    17712    3             ELSE IF CODE = 530
     3234    17713    3                  THEN
     3235    17714    3                       STOP$CMD.FPRG = '0'B;
     3236    17715    4                  ELSE DO;
     3237    17716    4                       S_D.ERROR = 501; /* E@DERR1 */
     3238    17717    4                       GOTO ALTRT;
     3239    17718    4                     END;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:110  
     3240    17719    3           END;
     3241    17720    2        RETURN;
     3242    17721    2   ALTRT:
     3243    17722    2        ALTRETURN;
     3244    17723    2   END DDS$BLD_STOP;
     3245    17724        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:111  
     3246    17725        /*F* NAME: DDS$BLD_SYNTAX
     3247    17726             PURPOSE: TO BUILD THE SYNTAX COMMAND.
     3248    17727             DESCRIPTION: BUILDS THE SYNTAX COMMAND. */
     3249    17728        /*D* NAME: DDS$BLD_SYNTAX
     3250    17729             CALL: CALL DDS$BLD_SYNTAX ALTRET( ERROR );
     3251    17730             INTERFACE: DDS$ATTDIRA
     3252    17731             ENVIRONMENT: DDS$SCAN ACTIVE
     3253    17732             INPUT: NCMD$ - PTR TO "SYNTAX" NODE.
     3254    17733             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3255    17734             SCRATCH: LOCAL AUTO ONLY.
     3256    17735             DESCRIPTION: */
     3257    17736
     3258    17737    1   DDS$BLD_SYNTAX: PROC ALTRET;
     3259    17738
     3260    17739        %DOO (NAME=SYNTAX$CMD,STCLASS="BASED(LASTBLT$)");
     3261    17754    2        CALL DDS$ATTDIRA( SIZEW( SYNTAX$CMD ), 79 ) ALTRET( ARET );
     3262    17755    2        IF NCMD$ -> POB.NSB > 0
     3263    17756    2        THEN SYNTAX$CMD.ID = NCMD$ -> POB.SUBLK$( 0) -> POB.CODE;
     3264    17757        /****ELSE SYNTAX$CMD.ID = 0;****/
     3265    17758
     3266    17759    2        RETURN;
     3267    17760
     3268    17761    2   ARET: ALTRETURN;
     3269    17762
     3270    17763    2   END DDS$BLD_SYNTAX;
     3271    17764             %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:112  
     3272    17765        /*F* NAME: DDS$BLD_TRACE
     3273    17766             PURPOSE: TO BUILD THE TRACE COMMAND.
     3274    17767             DESCRIPTION: BUILDS THE TRACE COMMAND. */
     3275    17768        /*D* NAME: DDS$BLD_TRACE
     3276    17769             CALL: CALL DDS$BLD_TRACE ALTRET( ERROR );
     3277    17770             INTERFACE: DDS$ATTDIRA
     3278    17771             ENVIRONMENT: DDS$SCAN ACTIVE
     3279    17772             INPUT: NCMD$ - PTR TO "TRACE" NODE.
     3280    17773             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3281    17774             SCRATCH: LOCAL AUTO ONLY.
     3282    17775             DESCRIPTION: */
     3283    17776
     3284    17777    1   DDS$BLD_TRACE: PROC ALTRET;
     3285    17778
     3286    17779    2   DCL NSB SBIN;
     3287    17780    2   DCL IX SBIN;
     3288    17781        /*D* NSB & IX must be SBIN */
     3289    17782    2   DCL NC$ PTR;
     3290    17783    2   DCL CODE UBIN;
     3291    17784    2   DCL V UBIN;
     3292    17785    2   DCL TCODE UBIN;
     3293    17786    2   DCL SILENT BIT(1) ALIGNED;
     3294    17787    2   DCL ON BIT(1) ALIGNED;
     3295    17788        %FPRG$CONTEXT;
     3296    17851        %TR$CMD (NAME=TRACE$CMD,STCLASS="BASED(LASTBLT$)");
     3297    17867
     3298    17868    2        CALL DDS$ATTDIRA( SIZEW( TRACE$CMD ), 26 ) ALTRET( ARET ); /* C_T */
     3299    17869    2        TCODE = 49;                     /* C_TON - DEFAULT */
     3300    17870    2        ON = '0'B;
     3301    17871    2        SILENT = '0'B;
     3302    17872    2        NSB = NCMD$ -> POB.NSB - 1;
     3303    17873    3        DO IX = 0 TO NSB;
     3304    17874    3             NC$ = NCMD$ -> POB.SUBLK$( IX );
     3305    17875    3             CODE = NC$ -> POB.CODE;
     3306    17876    3             IF CODE = 49               /* C_TON */
     3307    17877    3             THEN ON = '1'B;
     3308    17878    3             IF ( CODE = 46 ) OR         /* C_TC */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:113  
     3309    17879    3               ( CODE = 48 ) OR          /* C_TO */
     3310    17880    3               ( CODE = 49 ) OR         /* C_TON */
     3311    17881    3               ( CODE = 47 ) OR          /* C_TT */
     3312    17882    3               ( CODE = 581 ) OR /* C_C@INSTRUCTIONS */
     3313    17883    3               ( CODE = 582 ) OR  /* C_C@PARAGRAPHS */
     3314    17884    3               ( CODE = 583 ) OR  /* C_C@STATEMENTS */
     3315    17885    3               ( CODE = 584 )  /* C_C@SUBSTATEMENTS */
     3316    17886    3             THEN TCODE = CODE;
     3317    17887    3             ELSE IF CODE = 100       /* C@SILENT */
     3318    17888    4                  THEN DO;
     3319    17889    4                       SILENT = '1'B;
     3320    17890    4                       TRACE$CMD.SILENT = '1'B;
     3321    17891    4                     END;
     3322    17892    3                  ELSE IF CODE = 26       /* C@X */
     3323    17893    3                       THEN TRACE$CMD.XTERNAL = '1'B;
     3324    17894    4                       ELSE DO;            /* MUST BE "SIMBLE" */
     3325    17895    4                            TRACE$CMD.PREFIX = '1'B;
     3326    17896    4                            NC$ = NC$ -> POB.SUBLK$( 0 ); /* PTR TO TEXTC */
     3327    17897    4                            V = NC$ -> TEXT$C.SIZE;
     3328    17898    4                            IF V > LENGTHC( TRACE$CMD.PTXT )
     3329    17899    5                            THEN DO;
     3330    17900    5                                 S_D.ERROR = 48; /* E@SYM2LONG */
     3331    17901    5                                 GOTO ARET;
     3332    17902    5                               END;
     3333    17903    4                            TRACE$CMD.PSIZ = V;
     3334    17904    4                            TRACE$CMD.PTXT = NC$ -> TEXT$C.TXT;
     3335    17905    4                          END;
     3336    17906    3           END;
     3337    17907    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
     3338    17908    3        THEN DO;
     3339    17909    3             IF ON AND S_D.TR$INFO.SET AND (NOT SILENT)
     3340    17910    3             THEN TRACE$CMD.SILENT = S_D.TR$INFO.SILENT;
     3341    17911    3           END;
     3342    17912    3        ELSE DO;
     3343    17913    3             IF ON AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.SET AND (NOT
             17913                      SILENT)
     3344    17914    3             THEN TRACE$CMD.SILENT = S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:114  
             17914                      SILENT;
     3345    17915    3           END;
     3346    17916    2        TRACE$CMD.TYPE = TCODE;
     3347    17917    2        IF ( D_XDELTA ) AND
     3348    17918    2          ( TCODE = 46 ) AND             /* C_TC */
     3349    17919    2          ( NOT TRACE$CMD.PREFIX )
     3350    17920    2        THEN GOTO ARETTCP;
     3351    17921
     3352    17922    2        RETURN;
     3353    17923
     3354    17924    2   ARETTCP: S_D.ERROR = 172; GOTO ARET; /* E@TC_XDPREFIX */
     3355    17925
     3356    17926    2   ARET: ALTRETURN;
     3357    17927
     3358    17928    2   END DDS$BLD_TRACE;
     3359    17929        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:115  
     3360    17930        /*F* NAME: DDS$BLD_TSA
     3361    17931             PURPOSE: TO BUILD THE TSA COMMAND.
     3362    17932             DESCRIPTION: BUILDS THE TSA COMMAND. */
     3363    17933        /*D* NAME: DDS$BLD_TSA
     3364    17934             CALL: CALL DDS$BLD_TSA ALTRET( ERROR );
     3365    17935             INTERFACE: DDS$ATTDIRA
     3366    17936             ENVIRONMENT: DDS$SCAN ACTIVE
     3367    17937             INPUT: NCMD$ - PTR TO "TSA" NODE.
     3368    17938             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3369    17939             SCRATCH: LOCAL AUTO ONLY.
     3370    17940             DESCRIPTION: */
     3371    17941
     3372    17942    1   DDS$BLD_TSA:PROC ALTRET;
     3373    17943
     3374    17944    2   DCL NSUB SBIN;
     3375    17945    2   DCL NC$ PTR;
     3376    17946    2   DCL V UBIN;
     3377    17947    2   DCL T1 UBIN;
     3378    17948        %TSA$CMD(NAME=TSA$CMD,STCLASS="BASED(LASTBLT$)");
     3379    17959
     3380    17960    2        T1 = 84;                        /* C_TSA */
     3381    17961    2        CALL DDS$ATTDIRA ( SIZEW(TSA$CMD), T1 ) ALTRET(ARET);
     3382    17962    3        IF NCMD$ -> POB.NSB = 0 THEN DO;
     3383    17963    3             V = 65536;
     3384    17964    3             GOTO TL;
     3385    17965    3           END;
     3386    17966    2        NC$ = NCMD$ -> POB.SUBLK$(0);
     3387    17967    2        CALL DDS$HEX( NC$, V ) ALTRET(ARET);
     3388    17968    2        IF V > 65535
     3389    17969    2        THEN GOTO TOOLARGE;
     3390    17970    2   TL:  TSA$CMD.ADDRESS = V;
     3391    17971    2        RETURN;
     3392    17972
     3393    17973    2   TOOLARGE: S_D.ERROR = 46;       /* E@TOOLARGE */
     3394    17974    2   ARET: ALTRETURN;
     3395    17975
     3396    17976    2   END DDS$BLD_TSA;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:116  
     3397    17977        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:117  
     3398    17978        /*F* NAME: DDS$BLD_UNFID
     3399    17979             PURPOSE: TO BUILD THE UNFID COMMAND.
     3400    17980             DESCRIPTION: BUILDS THE UNFID COMMAND. */
     3401    17981        /*D* NAME: DDS$BLD_UNFID
     3402    17982             CALL: CALL DDS$BLD_UNFID ALTRET( ERROR );
     3403    17983             INTERFACE: DDS$ATTDIRA
     3404    17984             ENVIRONMENT: DDS$SCAN ACTIVE
     3405    17985             INPUT: NCMD$ - PTR TO "UNFID" NODE.
     3406    17986             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3407    17987             SCRATCH: LOCAL AUTO ONLY.
     3408    17988             DESCRIPTION: */
     3409    17989
     3410    17990    1   DDS$BLD_UNFID: PROC ALTRET;
     3411    17991
     3412    17992    2   DCL N$ PTR;
     3413    17993    2   DCL V UBIN;
     3414    17994        %UNFID$CMD (NAME=UNFID$CMD,STCLASS="BASED(LASTBLT$)");
     3415    18012
     3416    18013    2        CALL DDS$ATTDIRA( SIZEW( UNFID$CMD ), 87 ) ALTRET( ARET ); /* C_UNFID */
     3417    18014
     3418    18015    2        UNFID$CMD.OPEN = '1'B;
     3419    18016    2        UNFID$CMD.CLOSED = '1'B;
     3420    18017    2        UNFID$CMD.K13 = '1'B;
     3421    18018    2        UNFID$CMD.ID_FROM = 0;
     3422    18019    2        UNFID$CMD.ID_TO = 99;
     3423    18020    2        UNFID$CMD.DCBN.C = ' ';
     3424    18021    2        IF NCMD$->POB.NSB = 0 THEN RETURN;
     3425    18022    2        N$ = NCMD$->POB.SUBLK$(0);
     3426    18023    3        IF N$->POB.CODE = 121 THEN DO;  /* C@UNFO */
     3427    18024    3             UNFID$CMD.CLOSED = '0'B;
     3428    18025    3             IF NCMD$->POB.NSB = 1 THEN RETURN;
     3429    18026    3             N$ = NCMD$->POB.SUBLK$(1);
     3430    18027    3           END;
     3431    18028    2        ELSE
     3432    18029    3             IF N$->POB.CODE = 120 THEN DO; /* C@UNFC */
     3433    18030    3                  UNFID$CMD.OPEN = '0'B;
     3434    18031    3                  IF NCMD$->POB.NSB = 1 THEN RETURN;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:118  
     3435    18032    3                  N$ = NCMD$->POB.SUBLK$(1);
     3436    18033    3                END;
     3437    18034    2        IF N$ = ADDR(NIL) THEN RETURN;
     3438    18035    3        IF N$->POB.CODE = 296 THEN DO; /* S@KILLID */
     3439    18036    3             UNFID$CMD.K13 = '1'B;
     3440    18037    3             CALL DDS$DECIMAL (N$->POB.SUBLK$(0), V);
     3441    18038    3             UNFID$CMD.ID_FROM = V;
     3442    18039    3             IF N$->POB.NSB > 1 THEN
     3443    18040    3                  CALL DDS$DECIMAL (N$->POB.SUBLK$(1), V);
     3444    18041    3             UNFID$CMD.ID_TO = V;
     3445    18042    3           END;
     3446    18043    3        ELSE DO;
     3447    18044    3             UNFID$CMD.K13 = '0'B;
     3448    18045    3             UNFID$CMD.DCBN = N$->POB.SUBLK$(0)->TEXT$C;
     3449    18046    3           END;
     3450    18047
     3451    18048    2        RETURN;
     3452    18049
     3453    18050    2   ARET: ALTRETURN;
     3454    18051
     3455    18052    2   END DDS$BLD_UNFID;
     3456    18053
     3457    18054        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:119  
     3458    18055        /*F* NAME: DDS$BLD_UNSHARE
     3459    18056             PURPOSE: TO BUILD THE UNSHARE COMMAND.
     3460    18057             DESCRIPTION: BUILDS THE UNSHARE COMMAND. */
     3461    18058        /*D* NAME: DDS$BLD_UNSHARE
     3462    18059             CALL: CALL DDS$BLD_UNSHARE ALTRET( ERROR );
     3463    18060             INTERFACE: DDS$ATTDIRA
     3464    18061             ENVIRONMENT: DDS$SCAN ACTIVE
     3465    18062             INPUT: NCMD$ - PTR TO "UNSHARE" NODE.
     3466    18063             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3467    18064             SCRATCH: LOCAL AUTO ONLY.
     3468    18065             DESCRIPTION: */
     3469    18066
     3470    18067    1   DDS$BLD_UNSHARE: PROC ALTRET;
     3471    18068
     3472    18069    2   DCL NSB SBIN;
     3473    18070    2   DCL IX SBIN;
     3474    18071    2   DCL CODE SBIN;
     3475    18072    2   DCL PROGRAM BIT(1) ALIGNED;
     3476    18073    2   DCL LIBRARY BIT(1) ALIGNED;
     3477    18074        %UNSHARE$CMD (STCLASS="BASED(LASTBLT$)");
     3478    18086
     3479    18087    2        CALL DDS$ATTDIRA( SIZEW( UNSHARE$CMD ), 90 ) ALTRET( ARET ); /* C_UNSHARE */
     3480    18088    2        NSB = NCMD$ -> POB.NSB - 1;
     3481    18089    2        IF NSB < 0
     3482    18090    3        THEN DO;                           /* Default is PROGRAM */
     3483    18091    3             PROGRAM = '1'B;
     3484    18092    3             LIBRARY = '0'B;
     3485    18093    3           END;
     3486    18094    3        ELSE DO;
     3487    18095    3             PROGRAM = '0'B;
     3488    18096    3             LIBRARY = '0'B;
     3489    18097    4             DO IX = 0 TO NSB;
     3490    18098    4                  CODE = NCMD$ -> POB.SUBLK$( IX ) ->  POB.CODE;
     3491    18099    4                  IF CODE = 530          /* C@ALL */
     3492    18100    5                  THEN DO;
     3493    18101    5                       LIBRARY = '1'B;
     3494    18102    5                       PROGRAM = '1'B;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:120  
     3495    18103    5                     END;
     3496    18104    4                  ELSE IF CODE = 72 /* C@LIBRARY */
     3497    18105    4                       THEN LIBRARY = '1'B;
     3498    18106    4                       ELSE IF CODE = 71 /* C@PROGRAM */
     3499    18107    4                            THEN PROGRAM = '1'B;
     3500    18108    4                END;
     3501    18109    3           END;
     3502    18110    2        UNSHARE$CMD.PROGRAM = PROGRAM;
     3503    18111    2        UNSHARE$CMD.LIBRARY = LIBRARY;
     3504    18112
     3505    18113    2        RETURN;
     3506    18114
     3507    18115    2   ARET: ALTRETURN;
     3508    18116
     3509    18117    2   END DDS$BLD_UNSHARE;
     3510    18118        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:121  
     3511    18119        /*F* NAME:  DDS$BLD_UPDATE
     3512    18120             PURPOSE:  TO BUILD THE UPDATE COMMAND
     3513    18121             DESCRIPTION:  BUILDS THE UPDATE COMMAND */
     3514    18122        /*D* NAME:  DDS$BLD_UPDATE
     3515    18123             CALL:  CALL DDS$BLD_UPDATE ALTRET(ERROR);
     3516    18124             INTERFACE:  DDS$ATTDIRA
     3517    18125             ENVIRONMENT:  DDS$SCAN ACTIVE
     3518    18126             INPUT:  NCMD$ - POINTER TO N_UPDATE NODE
     3519    18127             OUTPUT:  COMMAND BUILT IN BUILD BUFFER
     3520    18128             SCRATCH:  LOCAL AUTO ONLY
     3521    18129             DESCRIPTION:  BUILDS THE UPDATE COMMAND     */
     3522    18130
     3523    18131    1   DDS$BLD_UPDATE: PROC ALTRET;
     3524    18132
     3525    18133    2   DCL NC$ PTR;
     3526    18134    2   DCL CODE SBIN;
     3527    18135    2   DCL ATTACH_AT_TIME BIT(1) ALIGNED;
     3528    18136    2   DCL V UBIN;
     3529    18137    2   DCL V1 SBIN;
     3530    18138        %UPDATE$CMD(NAME=UPDATE$CMD,STCLASS="BASED(LASTBLT$)");
     3531    18153
     3532    18154    2        ATTACH_AT_TIME = '0'B;
     3533    18155    2        UPDATE$CMD.ATTACHMENT = '0'B;
     3534    18156    2        CALL DDS$ATTDIRA (SIZEW( UPDATE$CMD ), 75) ALTRET (ARET);
     3535    18157    2        NC$ = NCMD$ -> POB.SUBLK$(0);
     3536    18158    2        CODE = NC$ -> POB.CODE;
     3537    18159    3        DO CASE ( CODE );
     3538    18160    3          CASE ( 610, 613 ); /* C@UPDATE1, C@ATTACHMENT */
     3539    18161    3             IF CODE = 613        /* C@ATTACHMENT */
     3540    18162    4             THEN DO;
     3541    18163    4                  ATTACH_AT_TIME = '1'B;
     3542    18164    4                  NC$ = NCMD$ -> POB.SUBLK$(1);
     3543    18165    4                END;
     3544    18166    3             UPDATE$CMD.UPDATE# = 610; /* C@UPDATE1 */
     3545    18167    3             NC$ = NC$ -> POB.SUBLK$(0);
     3546    18168    3             CALL DDS$DECIMAL (NC$ -> POB.SUBLK$(0), V) ALTRET (ARET);
     3547    18169    3             UPDATE$CMD.ID_FROM = V;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:122  
     3548    18170    3             UPDATE$CMD.ID_TO = V;
     3549    18171    3             IF (V < 1) OR (V > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0))) -1)
     3550    18172    3             THEN GOTO ERR1;
     3551    18173    3             IF (NC$ -> POB.NSB > 1)
     3552    18174    4             THEN DO;
     3553    18175    4                  CALL DDS$DECIMAL (NC$ -> POB.SUBLK$(1), V1) ALTRET (ARET);
     3554    18176    4                  UPDATE$CMD.ID_TO = V1;
     3555    18177    4                  IF (V1 < 1) OR (V1 > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0))) -1)
     3556    18178    4                  THEN GOTO ERR1;
     3557    18179    4                  IF V1 < V
     3558    18180    4                  THEN GOTO ERR_FROM_TO;
     3559    18181    4                END;
     3560    18182    3          CASE ( 611 );              /* C@UPDATE2 */
     3561    18183    3             UPDATE$CMD.UPDATE# = 611; /* C@UPDATE2 */
     3562    18184    3             CALL DDS$DECIMAL (NC$ -> POB.SUBLK$(0), V) ALTRET (ARET);
     3563    18185    3             UPDATE$CMD.ID_FROM = V;
     3564    18186    3             UPDATE$CMD.ID_TO = V;
     3565    18187    3             IF (V <  1) OR (V > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0))) -1)
     3566    18188    3             THEN GOTO ERR1;
     3567    18189    3             CALL DDS$DECIMAL (NC$ -> POB.SUBLK$(1), V1) ALTRET (ARET);
     3568    18190    3             UPDATE$CMD.ATTACHMENT# = V1;
     3569    18191    3             IF (V1 < 0)
     3570    18192    3             THEN GOTO ERR_ATTACH;
     3571    18193    3          CASE ( 612 );              /* C@UPDATE3 */
     3572    18194    3             UPDATE$CMD.UPDATE# = 612; /* C@UPDATE3 */
     3573    18195    3             CALL DDS$DECIMAL (NC$ -> POB.SUBLK$(0), V) ALTRET (ARET);
     3574    18196    3             UPDATE$CMD.ID_FROM = V;
     3575    18197    3             UPDATE$CMD.ID_TO = V;
     3576    18198    3             IF (V < 1) OR (V > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0))) -1)
     3577    18199    3             THEN GOTO ERR1;
     3578    18200    3             IF NC$ -> POB.SUBLK$(1) -> POB.CODE = 8 /* DEC_CODE */
     3579    18201    4             THEN DO;
     3580    18202    4                  CALL DDS$DECIMAL (NC$ -> POB.SUBLK$(1), V1) ALTRET (ARET);
     3581    18203    4                  UPDATE$CMD.ATTACHMENT# = V1;
     3582    18204    4                  UPDATE$CMD.ATTACHMENT = '1'B;
     3583    18205    4                  IF (V1 < 0)
     3584    18206    4                  THEN GOTO ERR_ATTACH;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:123  
     3585    18207    4                  UPDATE$CMD.ASYM$ = NC$ -> POB.SUBLK$(2) -> POB.SUBLK$(0);
     3586    18208    4                END;
     3587    18209    3             ELSE UPDATE$CMD.ASYM$ = NC$ -> POB.SUBLK$(1) -> POB.SUBLK$(0);
     3588    18210    3          END;
     3589    18211    2        UPDATE$CMD.ATTACH_AT_TIME = ATTACH_AT_TIME;
     3590    18212    2        RETURN;
     3591    18213
     3592    18214    2   ERR1: S_D.ERROR = 12; GOTO ARET;   /* E@UERR1 */
     3593    18215    2   ERR_FROM_TO: S_D.ERROR = 63; GOTO ARET; /* E@FROM_TO */
     3594    18216    2   ERR_ATTACH: S_D.ERROR = 255; /* E@ILLEGAL_ATT# */
     3595    18217
     3596    18218    2   ARET: ALTRETURN;
     3597    18219
     3598    18220    2   END DDS$BLD_UPDATE;
     3599    18221        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:124  
     3600    18222        /*F* NAME: DDS$BLD_USE
     3601    18223             PURPOSE: TO BUILD THE USE COMMAND
     3602    18224             DESCRIPTION: BUILDS THE USE COMMAND (IN DIRECT BUFFER ONLY) */
     3603    18225
     3604    18226    1   DDS$BLD_USE: PROC ALTRET;
     3605    18227                                                /* LOCAL TEMPS */
     3606    18228    2   DCL TYPE SBIN;
     3607    18229    2   DCL TEMP SBIN;
     3608    18230    2   DCL TEMP1 UBIN;
     3609    18231    2   DCL TEMP$ PTR;
     3610    18232    2   DCL V UBIN;
     3611    18233    2   DCL XDEL BIT(1) ALIGNED;
     3612    18234        %FPRG$CONTEXT;
     3613    18297        %USE$CMD (STCLASS="BASED(LASTBLT$)");
     3614    18320
     3615    18321    2        CALL DDS$ATTDIRA(SIZEW(USE$CMD), 64) /* C_USE */
     3616    18322    2          ALTRET(ALTRT);
     3617    18323    2        IF D_XDELTA OR S_D.ANLZ
     3618    18324    2        THEN XDEL = '1'B;
     3619    18325    2        ELSE XDEL = '0'B;
     3620    18326    2        IF  S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR S_D.
             18326                 CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)
     3621    18327    2        THEN XDEL = '1'B;
     3622    18328    2        USE$CMD.LS = 0;              /* LS_NONE */
     3623    18329    2        IF NCMD$ -> POB.NSB = 0
     3624    18330    2        THEN TYPE = 260;               /* C@UCURR - DEFAULT */
     3625    18331    2        ELSE TYPE = NCMD$ -> POB.SUBLK$(0) -> POB.CODE;
     3626    18332    3        DO CASE( TYPE );
     3627    18333    3          CASE( 260 );                 /* C@UCURR */
     3628    18334    3             IF NOT XDEL AND NOT S_D.OVERLAID
     3629    18335    3             THEN GOTO USEROV;
     3630    18336    3             USE$CMD.TYPE = 5;   /* USE_CURRENT */
     3631    18337    3          CASE( 261 );                 /* C@UREAL */
     3632    18338    3             IF NOT XDEL
     3633    18339    3             THEN GOTO USERSY;
     3634    18340    3             USE$CMD.TYPE = 1;      /* USE_REAL */
     3635    18341    3             TEMP$ = NCMD$ -> POB.SUBLK$( 0 );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:125  
     3636    18342    3             TEMP = 0;             /* TYPE_REAL */
     3637    18343    3             IF TEMP$ -> POB.NSB > 0
     3638    18344    4             THEN DO;
     3639    18345    4                  IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18345                           S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)
     3640    18346    4                  THEN GOTO USERSY;
     3641    18347    4                  TEMP$ = TEMP$ -> POB.SUBLK$( 0 );
     3642    18348    4                  TEMP1 = TEMP$ -> POB.CODE;
     3643    18349    4                  IF TEMP1 = 63    /* C@AARDVARK */
     3644    18350    4                  THEN TEMP = 1;   /* TYPE_AARD */
     3645    18351    4                  ELSE IF TEMP1 = 64 /* C@XDELTA */
     3646    18352    4                       THEN TEMP = 2; /* TYPE_XDEL */
     3647    18353    5                       ELSE DO;            /* Must be octil */
     3648    18354    5                            CALL DDS$OCTAL( TEMP$, TEMP1 ) ALTRET( ALTRT );
     3649    18355    5                            USE$CMD.BASE = TEMP1;
     3650    18356    5                          END;
     3651    18357    4                END;
     3652    18358    3             USE$CMD.SUBTYPE = TEMP;
     3653    18359    3          CASE( 262 );                  /* C@UMON */
     3654    18360    3             IF NOT XDEL
     3655    18361    3             THEN GOTO USERSY;
     3656    18362    3             USE$CMD.TYPE = 0;       /* USE_MON */
     3657    18363    3             TEMP$ = NCMD$ -> POB.SUBLK$( 0 );
     3658    18364    3             IF TEMP$ -> POB.NSB = 0
     3659    18365    3             THEN TYPE = 0;          /* USE_MON */
     3660    18366    4             ELSE DO;
     3661    18367    4                  IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18367                           S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)
     3662    18368    4                  THEN GOTO USERSY;
     3663    18369    4                  TEMP$ = TEMP$ -> POB.SUBLK$( 0 );
     3664    18370    4                  IF TEMP$ -> POB.CODE = 8 /* DEC_CODE */
     3665    18371    5                  THEN DO;
     3666    18372    5                       TYPE = 7;    /* USE_CPU# */
     3667    18373    5                       CALL DDS$DECIMAL( TEMP$, TEMP ) ALTRET( ALTRT );
     3668    18374    5                     END;
     3669    18375    5                  ELSE DO;
     3670    18376    5                       TYPE = 8;    /* USE_CPU@ */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:126  
     3671    18377    5                       CALL DDS$OCTAL( TEMP$, TEMP ) ALTRET( ALTRT );
     3672    18378    5                     END;
     3673    18379    4                  USE$CMD.PTA = TEMP;
     3674    18380    4                END;
     3675    18381    3             USE$CMD.SUBTYPE = TYPE;
     3676    18382    3          CASE( 263 );                   /* C@UPT - PT */
     3677    18383    3             IF NOT XDEL
     3678    18384    3             THEN GOTO USERSY;
     3679    18385    3             IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR S_D.
             18385                      CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)
     3680    18386    3             THEN GOTO USERSY;
     3681    18387    3             CALL DDS$OCTAL(NCMD$ -> POB.SUBLK$(0) -> POB.SUBLK$(0), TEMP)
     3682    18388    3               ALTRET(ALTRT);
     3683    18389    3             USE$CMD.TYPE = 2;        /* USE_PT */
     3684    18390    3             USE$CMD.PTA = TEMP;
     3685    18391    3          CASE( 264, 265, 266 ); /* C@UU@, C@UU#, C@UU - USER@, USER#, USER */
     3686    18392    3             IF NOT XDEL
     3687    18393    3             THEN GOTO USERSY;
     3688    18394    3             TEMP$ = NCMD$ -> POB.SUBLK$(0);
     3689    18395    3             IF TYPE ~= 266               /* C@UU */
     3690    18396    3             THEN IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
     3691    18397    4                  THEN DO;
     3692    18398    4                       CALL DDS$OCTAL(TEMP$ -> POB.SUBLK$(0), TEMP)
     3693    18399    4                         ALTRET(ALTRT);
     3694    18400    4                     END;
     3695    18401    4                  ELSE DO;
     3696    18402    4                       CALL DDS$HEX(TEMP$ -> POB.SUBLK$(0), TEMP)
     3697    18403    4                         ALTRET(ALTRT);
     3698    18404    4                     END;
     3699    18405    3             ELSE TEMP = 0;                /* INDICATES USE CURRENT USER */
     3700    18406    3             IF TYPE = 264               /* C@UU@ */
     3701    18407    4             THEN DO;
     3702    18408    4                  IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18408                           S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)
     3703    18409    4                  THEN GOTO USERSY;
     3704    18410    4                  USE$CMD.TYPE = 3; /* USE_USER@ */
     3705    18411    4                  USE$CMD.PTA = TEMP;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:127  
     3706    18412    4                END;
     3707    18413    4             ELSE DO;
     3708    18414    4                  USE$CMD.TYPE = 4; /* USE_USER# */
     3709    18415    4                  USE$CMD.USERNO = TEMP;
     3710    18416    4                END;
     3711    18417    3             IF TYPE ~= 266 AND TEMP$ -> POB.NSB = 1 /* C@UU */
     3712    18418    3               OR TYPE = 266 AND TEMP$ -> POB.NSB = 0 /* C@UU */
     3713    18419    3             THEN TEMP = 450;           /* C@USER DEFAULT LS */
     3714    18420    3             ELSE TEMP = TEMP$ -> POB.SUBLK$(TEMP$ -> POB.NSB - 1) -> POB.CODE;
     3715    18421    4             DO CASE( TEMP );
     3716    18422    4               CASE( 450 );             /* C@USER - USER LS */
     3717    18423    4                  USE$CMD.LS = 1;    /* LS_USER */
     3718    18424    4               CASE( 451 );              /* C@ICP - ICP LS */
     3719    18425    4                  IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18425                           S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)
     3720    18426    4                  THEN GOTO USERSY;
     3721    18427    4                  USE$CMD.LS = 4;     /* LS_ICP */
     3722    18428    4               CASE( 452 );              /* C@IDB - IDB LS */
     3723    18429    4                  IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18429                           S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)
     3724    18430    4                  THEN GOTO USERSY;
     3725    18431    4                  USE$CMD.LS = 2;     /* LS_IDB */
     3726    18432    4               CASE( 453 );              /* C@ASL - ASL LS */
     3727    18433    4                  IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18433                           S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)
     3728    18434    4                  THEN GOTO USERSY;
     3729    18435    4                  USE$CMD.LS = 3;     /* LS_ASL */
     3730    18436    4               CASE( 454 );            /* C@LSMON - MONITOR LS */
     3731    18437    4                  USE$CMD.SUBTYPE = USE$CMD.TYPE; /* UU,UU#,UU@ */
     3732    18438    4                  USE$CMD.TYPE = 0;  /* Change type to USE_MON */
     3733    18439    4               END;                        /* DO CASE( TEMP - C@USER ) */
     3734    18440    3          CASE( 267 );                 /* C@UNODE - NODE */
     3735    18441        /*        IF S_D.ANLZ
     3736    18442                  THEN GOTO USERNAN;    */
     3737    18443    3             IF NOT S_D.OVERLAID
     3738    18444    3             THEN GOTO USEROV;
     3739    18445    3             TEMP$ = NCMD$ -> POB.SUBLK$( 0 ) -> POB.SUBLK$( 0 ) -> POB.SUBLK$( 0 );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:128  
     3740    18446    3             CALL DDS$ND_SRCH( TEMP$, TEMP ) ALTRET( ALTRT );
     3741    18447    3             USE$CMD.TYPE = 6;      /* USE_NODE */
     3742    18448    3             USE$CMD.NODE = TEMP;
     3743    18449    3          CASE( 268 );                   /* C@UG1 */
     3744    18450    3             IF NOT XDEL
     3745    18451    3             THEN GOTO USERSY;
     3746    18452    3             IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR S_D.
             18452                      CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)
     3747    18453    3             THEN GOTO USERSY;
     3748    18454        /*N* PUT CODE FOR BUILD USE GHOST1 HERE */
     3749    18455    3             S_D.ERROR = 23;         /* E@UERR12 */
     3750    18456    3             GOTO ALTRT;
     3751    18457    3          CASE(269);
     3752    18458    3             IF XDEL
     3753    18459    3             THEN GOTO USERSY;
     3754    18460    3             TEMP$ = NCMD$ -> POB.SUBLK$(0) -> POB.SUBLK$(0);
     3755    18461    3             TEMP1 = TEMP$ -> POB.CODE;
     3756    18462    3             IF TEMP1 = 106             /* C@HOST */
     3757    18463    3             THEN USE$CMD.HOST = '1'B;
     3758    18464    4             ELSE DO;                      /* RES_CODE */
     3759    18465    4                  USE$CMD.FPRG = '1'B;
     3760    18466    4                  USE$CMD.FPRG_RES = TEMP$ -> SYM.TEXT;
     3761    18467    4                END;
     3762    18468    3          CASE(270);                /* C@USECTION */
     3763    18469    3             IF NOT S_D.RUM AND NOT(S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ ->
             18469                      FPRG$CONTEXT.XDELTA
     3764    18470    3               OR S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ))
     3765    18471    3             THEN GOTO USERNRUM;
     3766    18472    3             IF NOT S_D.RUM_FEP
     3767    18473    3             THEN GOTO USERSY;
     3768    18474    3             USE$CMD.TYPE = 9;   /* USE_SECTION */
     3769    18475    3             IF NCMD$ -> POB.SUBLK$(0) -> POB.NSB = 0
     3770    18476    3             THEN USE$CMD.SECTION = 0;
     3771    18477    3             ELSE USE$CMD.SECTION = NCMD$ -> POB.SUBLK$(0) -> POB.SUBLK$(0) -> POB.CODE
             18477                      ;
     3772    18478    3          CASE(271);                 /* C@USEASDT */
     3773    18479    3             IF NOT (S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:129  
             18479                      S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ))
     3774    18480    3             THEN GOTO USERSY;
     3775    18481    3             USE$CMD.TYPE = 10;      /* USE_ASDT */
     3776    18482    3             TEMP$ = NCMD$ -> POB.SUBLK$(0) -> POB.SUBLK$(0);
     3777    18483    3             TEMP1 = TEMP$ -> POB.CODE;
     3778    18484    3             CALL DDS$POSITION(TEMP$, V) ALTRET(ALTRT);
     3779    18485    3             IF (V > BITBIN('3777777'O) )
     3780    18486    3             THEN GOTO ERR25;
     3781    18487    3             USE$CMD.POSITION = V;
     3782    18488    3          CASE(272);                  /* C@USELVL */
     3783    18489    3             IF NOT (S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18489                      S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ))
     3784    18490    3             THEN GOTO USERSY;
     3785    18491    3             USE$CMD.TYPE = 10;      /* USE_ASDT */
     3786    18492    3             TEMP$ = NCMD$ -> POB.SUBLK$(0) -> POB.SUBLK$(0);
     3787    18493    3             TEMP1 = TEMP$ -> POB.CODE;
     3788    18494    3             CALL DDS$HEX(TEMP$, V) ALTRET(ALTRT);
     3789    18495    3             IF (V > 64)
     3790    18496    3             THEN GOTO USERCONS;
     3791    18497    3             USE$CMD.LEVEL = V;
     3792    18498    3          END;                             /* DO CASE( TYPE - C@UCURR) */
     3793    18499    2        RETURN;
     3794    18500
     3795    18501    2   USEROV: S_D.ERROR = 117; GOTO ALTRT; /* E@NOT_OVERLAID */
     3796    18502    2   USERSY: S_D.ERROR = 53; GOTO ALTRT; /* E@SYNTAX */
     3797    18503        /* USERNAN: S_D.ERROR = E@NOTANLZMODE; GOTO ALTRT;    E@NOTANLZMODE */
     3798    18504    2   USERNRUM: S_D.ERROR = 321; GOTO ALTRT; /* E@RUMONLY_DIR */
     3799    18505    2   ERR25: S_D.ERROR = 25; GOTO ALTRT; /* E@UERR25 */
     3800    18506    2   USERCONS: S_D.ERROR = 64; GOTO ALTRT; /* E@CONSTOOBIG */
     3801    18507
     3802    18508    2   ALTRT:
     3803    18509    2        ALTRETURN;
     3804    18510    2   END DDS$BLD_USE;
     3805    18511        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:130  
     3806    18512        /*F* NAME: DDS$BLD_WAIT
     3807    18513             PURPOSE: TO BUILD THE WAIT COMMAND.
     3808    18514             DESCRIPTION: BUILDS THE WAIT COMMAND. */
     3809    18515        /*D* NAME: DDS$BLD_WAIT
     3810    18516             CALL: CALL DDS$BLD_WAIT ALTRET( ERROR );
     3811    18517             ENVIRONMENT: DDS$SCAN ACTIVE
     3812    18518             INPUT: NCMD$ - PTR TO "WAIT" NODE.
     3813    18519             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3814    18520             SCRATCH: LOCAL AUTO ONLY.
     3815    18521             DESCRIPTION: */
     3816    18522
     3817    18523    1   DDS$BLD_WAIT: PROC ALTRET;
     3818    18524
     3819    18525        %ALL_ATTACH(NAME=WAIT$CMD,STCLASS="BASED(LASTBLT$)");
     3820    18540
     3821    18541    2        CALL DDS$ATTDIRA(SIZEW(WAIT$CMD), 40) /* C_WAIT */
     3822    18542    2          ALTRET(ALTRT);
     3823    18543    2        RETURN;
     3824    18544
     3825    18545    2   ALTRT:
     3826    18546    2        ALTRETURN;
     3827    18547    2   END DDS$BLD_WAIT;
     3828    18548        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:131  
     3829    18549        /*F* NAME: DDS$BLD_XEQ
     3830    18550             PURPOSE: TO BUILD THE XEQ COMMAND.
     3831    18551             DESCRIPTION: BUILDS THE XEQ COMMAND. */
     3832    18552        /*D* NAME: DDS$BLD_XEQ
     3833    18553             CALL: CALL DDS$BLD_XEQ ALTRET( ERROR );
     3834    18554             INTERFACE: DDS$INSTR
     3835    18555                        DDS$VREFCOM
     3836    18556             ENVIRONMENT: DDS$SCAN ACTIVE
     3837    18557             INPUT: NCMD$ - PTR TO "XEQ" NODE.
     3838    18558             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3839    18559             SCRATCH: LOCAL AUTO ONLY.
     3840    18560             DESCRIPTION: */
     3841    18561
     3842    18562    1   DDS$BLD_XEQ: PROC ALTRET;
     3843    18563
     3844    18564    2   DCL N$ PTR;
     3845    18565        %XEQ$CMD (STCLASS="BASED(LASTBLT$)");
     3846    18579
     3847    18580    2        CALL DDS$ATTDIRA( SIZEW( XEQ$CMD ), 68 ) ALTRET( ARET ); /* C_XEQ */
     3848    18581    2        ZITEM$ = S_D.D$;                   /* ASSUME NOT INSTRUCTION */
     3849    18582    2        N$ = NCMD$ -> POB.SUBLK$( 0 );
     3850    18583    2        IF N$ -> POB.CODE = 49     /* INSTR_CODE */
     3851    18584    3        THEN DO;
     3852    18585    3             CALL DDS$INSTR( N$ ) ALTRET( ARET );
     3853    18586    3             XEQ$CMD.IGNPR = S_D.IGNPR;
     3854    18587    3             XEQ$CMD.AWDX = S_D.AWDX;
     3855    18588    3             XEQ$CMD.INSTR = '1'B;
     3856    18589    3           END;
     3857    18590    3        ELSE DO;
     3858    18591    3             CALL DDS$VREFCOM( N$ ) ALTRET( ARET ); /* ASSUME VREF_CODE */
     3859    18592    3             IF ( NOT ZITEM.FLAGS.MDSE.E )
     3860    18593    4             THEN DO;                      /* LOCATION NOT EVALUATABLE */
     3861    18594    4                  S_D.ERROR = 43;    /*E@NOEVAL */
     3862    18595    4                  GOTO ARET;
     3863    18596    4                END;
     3864    18597    3           END;
     3865    18598    2        XEQ$CMD.NUM = 1;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:132  
     3866    18599
     3867    18600    2        RETURN;
     3868    18601
     3869    18602    2   ARET: ALTRETURN;
     3870    18603
     3871    18604    2   END DDS$BLD_XEQ;
     3872    18605        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:133  
     3873    18606    1   DDS$SAVE_L6INSTR_PTR: PROC( ND_PTR );
     3874    18607
     3875    18608    2   DCL ND_PTR PTR;
     3876    18609    2   DCL UBIN36 PTR BASED;
     3877    18610        %PARSE$OUT ( NAME = L6_OUT$BLK, STCLASS = BASED );
     3878    18655
     3879    18656    2        S_D.D$->UBIN36 = ND_PTR -> L6_OUT$BLK.SUBLK$(0);
     3880    18657    2        S_D.D$ = PINCRW( S_D.D$,1 );
     3881    18658    2        RETURN;
     3882    18659
     3883    18660    2   END DDS$SAVE_L6INSTR_PTR;
     3884    18661
     3885    18662    1   END DDS$BLD;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:134  
--  Include file information  --

   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   DD_SRTN_C.:E05TOU  is referenced.
   DD_ACODE_C.:E05TOU  is referenced.
   DD_ICODE_C.:E05TOU  is referenced.
   DD$DITEM.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT.:E05TOU  cannot be made into a system file and is referenced.
   M_INFO_C.:E05TOU  is referenced.
   XU_SUBS_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_PSUBS_C.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DDS$BLD.

   Procedure DDS$BLD requires 6234 words for executable code.
   Procedure DDS$BLD requires 44 words of local(AUTO) storage.

    No errors detected in file DDS$BLD.:E05TSI    .

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:135  

 Object Unit name= DDS$BLD                                    File name= DDS$BLD.:E05TOU
 UTS= JUL 29 '97 14:11:42.16 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS     37     45  DDS$BLD
    1   Proc  even  none  6234  14132  DDS$BLD
    2  RoData even  none   131    203  DDS$BLD

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes    yes     yes      Std        1  DDS$BLD
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:136  

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       0 DDS$BLD_KEEP
 yes     yes           Std       0 DDS$BLD_OUTPUT
 yes     yes           Std       0 DDS$BLD_DUMP
 yes     yes           Std       0 DDS$BLD_ECHO
 yes     yes           Std       0 DDS$BLD_TRAP
 yes     yes           Std       0 DDS$BLD_IGNORE
 yes     yes           Std       0 DDS$BLD_READ
 yes     yes           Std       2 DDS$ATTDIRA
 yes     yes           Std       2 DDS$DECIMAL
 yes     yes           Std       2 DDS$POSITION
 yes     yes           Std       0 DDS$SET_Q2D
 yes     yes           Std       2 DDB$CHECK_ADDR
 yes     yes           Std       0 DDS$DUBREAK
 yes     yes           Std       1 DDS$ES_INQ
         yes           Std       2 DDQ$WRITE
 yes     yes           Std       2 DDS$STOREDA
 yes     yes           Std       3 DFA$SET_AT
         yes           Std       0 DDE$ERROR
         yes           Std       4 DDR$BINTXT
 yes     yes           Std       2 DDS$VREFCOM
 yes     yes           Std       1 DDS$INSTR
 yes     yes           Std       3 DDD$SIMEXP
 yes     yes           Std       2 DDS$POSIMX
 yes     yes           Std       2 DDS$SDO
 yes     yes           Std       4 DDS$CNSNT
 yes     yes           Std       4 DFS$INSTR
         yes           Std       0 DUA$RUM_COMM
 yes     yes           Std       6 DDK$EVAL
 yes     yes           Std       2 DDS$HEX
 yes     yes           Std       2 DDS$IE_SRCH
 yes     yes           Std       1 DDS$QUAL_SRCH
 yes     yes           Std       2 DDS$ED_SRCH
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:137  
 yes     yes           Std       3 DFA$ONCALL
 yes     yes           Std       2 DDS$ND_SRCH
         yes           Std       0 DDA$TRACEON
 yes     yes           Std       3 DFA$ONCALLS
 yes     yes           Std       2 DDS$OCTAL
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AUTO_1
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     B$JIT$                           r    S_D$                                  D_XDELTA
     D_SYMBOLS                             USE$                                  B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:138  


        1        1        /*M* DDS$BLD Build routines for common DELTA commands */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        %SET LISTSUB='1'B;
        9        9        /*F* NAME: DDS$BLD
       10       10             PURPOSE: To build command frames for common DELTA commands.
       11       11             DESCRIPTION: This module contains the common DELTA build routines.
       12       12                          The commands that are built here are the common commands
       13       13                          between User DELTA and Exec DELTA */
       14       14        /*D* NAME: DDS$BLD
       15       15             ENVIRONMENT: Delta common, DDS$SCAN active.
       16       16             INPUT: CMDCODE - Code of which command to build.
       17       17                    S_D.NCMD$ - Ptr to root of parse output tree for command to
       18       18                                be built.
       19       19                    S_D.LASTBLT$ - Ptr to build frame, where to build command.
       20       20                    S_D.REMACTIVE - Modify active build control flag.
       21       21             OUTPUT: The appropriate frame built where specified.
       22       22             CALL: CALL DDS$BLD( CMDCODE ) ALTRET( error );
       23       23             DESCRIPTION: This module contains the common DELTA build routines.
       24       24                          The commands that are built here have identical syntax
       25       25                          in User DELTA and Exec DELTA. The routines that reside
       26       26                          in DUS$BLD are the User DELTA only build routines, and
       27       27                          the Exec DELTA only build routines reside in DXS$BLD. */
       28       28
       29       29        DDS$BLD: PROC( CMDCODE ) ALTRET;

     29  1 000000   000000 700200 xent  DDS$BLD      TSX0  ! X66_AUTO_1
         1 000001   000054 000001                    ZERO    44,1

       30       30
       31       31        %INCLUDE B$OBJECT_C;
       32     3461        %INCLUDE DD$BASED;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:139  
       33     4764        %INCLUDE DD_ERR_C;
       34     5161        %INCLUDE DD_PSUBS_C;
       35     5636        %INCLUDE DD_SUBS_C;
       36     5907        %INCLUDE XU_MACRO_C;
       37     9013        %INCLUDE XU_SUBS_C;
       38     9105        %INCLUDE M_INFO_C;
       39     9245        %INCLUDE B$JIT;
       40     9535    1   DCL B$JIT$ PTR SYMREF;
       41     9536        %SUB FIXCOMSIZE="(SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1";
       42     9537        %FPRG$CONTEXT;
       43     9600        /* Parm */
       44     9601    1   DCL CMDCODE UBIN;
       45     9602        /* Auto */
       46     9603    1   DCL NCMD$ PTR;
       47     9604    1   DCL LASTBLT$ PTR;
       48     9605        /* Based */
       49     9606        %U$SE;
       50     9614        %PARSE$OUT (NAME=POB,STCLASS=BASED,NSUBLKS=NSB);
       51     9659        %PARSE$SYM (NAME=SYM,STCLASS=BASED);
       52     9697        %TEXT$C;
       53     9702        %INCLUDE DD$DITEM;
       12+    9805             %LIST;
       13+    9806    1        DCL SDD$ PTR;
       14+    9807    1        DCL ZITEM$ PTR;
       15+    9808    1        DCL SDD_L6$ PTR;
       16+    9809    1        DCL ZITEM_L6$ PTR;
       54    10383        %ZITEM;
       55    10455        %INCLUDE XUH_MACRO_C;
       56    10539        %INCLUDE DD_SD_M;
       57    11875        %S_D;
       58    13193        /* Symref */
       59    13194    1   DCL D_XDELTA BIT(1) ALIGNED SYMREF;     /* EXEC DELTA/USER DELTA FLAG */
       60    13195    1   DCL D_SYMBOLS BIT(1) ALIGNED SYMREF;
       61    13196    1   DCL USE$ PTR SYMREF;                    /* POINTER TO CURRENT USE FRAME */
       62    13197        /* Entrys */
       63    13198    1   DCL DDA$TRACEON ENTRY;                  /* TURN TRACE ON FOR ONCALLS */
       64    13199    1   DCL DDD$SIMEXP ENTRY(3) ALTRET;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:140  
       65    13200    1   DCL DDE$NOTYET ENTRY(0) ALTRET;         /* INTERIM ONLY */
       66    13201    1   DCL DDS$ATTDIRA ENTRY(2) ALTRET;   /* ATTACHABLE | DIRECT COMMAND COMMON CODE */
       67    13202    1   DCL DDS$CNSNT ENTRY(4) ALTRET;          /* EVALUATES "CNSNT_REF" NODE */
       68    13203    1   DCL DDS$DECIMAL ENTRY(2) ALTRET;        /* HANDLES DECIMALS NODE */
       69    13204    1   DCL DDS$DUBREAK ENTRY(0) ALTRET;        /* CHECKS FOR DUPLICATE BREAKPOINTS */
       70    13205    1   DCL DDS$ED_SRCH ENTRY(2) ALTRET;        /* FINDS ENTDEFS */
       71    13206    1   DCL DDS$ES_INQ ENTRY(1) ALTRET;         /* ESTABLISHES SCHEMA IN "Q" */
       72    13207    1   DCL DDS$IE_SRCH ENTRY(2) ALTRET;        /* FINDS INTERNAL ENTRYS */
       73    13208    1   DCL DDS$INSTR ENTRY(1) ALTRET;          /* Assembles instruction */
       74    13209    1   DCL DFS$INSTR ENTRY(4) ALTRET;          /* Assembles L6 instruction */
       75    13210    1   DCL DDS$ND_SRCH ENTRY(2) ALTRET;        /* FINDS NODES NAMES */
       76    13211    1   DCL DDS$OCTAL ENTRY(2) ALTRET;          /* HANDLES OCTALS NODE */
       77    13212    1   DCL DDS$HEX ENTRY(2) ALTRET;            /* HANDLES HEX NODE */
       78    13213    1   DCL DDS$POSIMX ENTRY(2) ALTRET;         /* EVALUATES "SIMEXP" NODE */
       79    13214    1   DCL DDS$POSITION ENTRY(2) ALTRET;       /* HANDLES POSITION NODE */
       80    13215    1   DCL DDS$QUAL_SRCH ENTRY(1) ALTRET;      /* HANDLES QUAL11 NODE */
       81    13216    1   DCL DDS$SDO ENTRY(2) ALTRET;            /* EVALUATES "SDO[X]" NODE */
       82    13217    1   DCL DDS$SET_Q2D ENTRY ALTRET;           /* ESTABLISHES SCHEMA ACCESS */
       83    13218    1   DCL DDS$STOREDA ENTRY(2) ALTRET;        /* COMMON STORED COMMAND CODE */
       84    13219    1   DCL DDS$VREFCOM ENTRY(2) ALTRET;        /* BUILDS DATA DESCRIPTOR */
       85    13220    1   DCL DUA$RUM_COMM ENTRY(0);              /* RECORDS COMMENTS FOR RUM MODE */
       86    13221    1   DCL DDB$CHECK_ADDR ENTRY(2) ALTRET;     /* ROUTINE TO ACCESS LOCATION    */
       87    13222    1   DCL DDE$ERROR ENTRY;
       88    13223    1   DCL DDR$BINTXT ENTRY(4);
       89    13224    1   DCL DDQ$WRITE ENTRY(2);
       90    13225    1   DCL DFA$ONCALL ENTRY(3) ALTRET;
       91    13226    1   DCL DFA$ONCALLS ENTRY(3) ALTRET;
       92    13227    1   DCL DFA$SET_AT ENTRY(3) ALTRET;
       93    13228        /*D* External build routines */
       94    13229    1   DCL DDS$BLD_DUMP ENTRY(0) ALTRET;
       95    13230    1   DCL DDS$BLD_ECHO ENTRY(0) ALTRET;
       96    13231    1   DCL DDS$BLD_KEEP ENTRY(0) ALTRET;
       97    13232    1   DCL DDS$BLD_TRAP ENTRY(0) ALTRET;
       98    13233    1   DCL DDS$BLD_IGNORE ENTRY(0) ALTRET;
       99    13234    1   DCL DDS$BLD_OUTPUT ENTRY(0) ALTRET;
      100    13235    1   DCL DDS$BLD_READ ENTRY(0) ALTRET;
      101    13236    1   DCL DDK$EVAL ENTRY(6) ALTRET;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:141  
      102    13237        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:142  
      103    13238    1        NCMD$ = S_D.NCMD$;

  13238  1 000002   000000 470400 xsym               LDP0    S_D$
         1 000003   004750 236100                    LDQ     2536,,PR0
         1 000004   200004 756100                    STQ     NCMD$,,AUTO

      104    13239    1        LASTBLT$ = S_D.LASTBLT$;

  13239  1 000005   000134 236100                    LDQ     92,,PR0
         1 000006   200005 756100                    STQ     LASTBLT$,,AUTO

      105    13240    2        DO CASE ( CMDCODE );

  13240  1 000007   200003 471500                    LDP1    @CMDCODE,,AUTO
         1 000010   100000 235100                    LDA     0,,PR1
         1 000011   000134 115007                    CMPA    92,DL
         1 000012   000014 602005 1                  TNC     s:13240+5,AL
         1 000013   001347 710000 1                  TRA     s:13567
         1 000014   001347 710000 1                  TRA     s:13567
         1 000015   000150 710000 1                  TRA     s:13242
         1 000016   000206 710000 1                  TRA     s:13259
         1 000017   000211 710000 1                  TRA     s:13261
         1 000020   000311 710000 1                  TRA     s:13294
         1 000021   000327 710000 1                  TRA     s:13302
         1 000022   000346 710000 1                  TRA     s:13309
         1 000023   000351 710000 1                  TRA     s:13311
         1 000024   000361 710000 1                  TRA     s:13315
         1 000025   001311 710000 1                  TRA     s:13554
         1 000026   000414 710000 1                  TRA     s:13329
         1 000027   000464 710000 1                  TRA     s:13347
         1 000030   000500 710000 1                  TRA     s:13352
         1 000031   000510 710000 1                  TRA     s:13356
         1 000032   000565 710000 1                  TRA     s:13377
         1 000033   000252 710000 1                  TRA     s:13276
         1 000034   000417 710000 1                  TRA     s:13331
         1 000035   000436 710000 1                  TRA     s:13338
         1 000036   001105 710000 1                  TRA     s:13492
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:143  
         1 000037   000153 710000 1                  TRA     s:13245
         1 000040   000524 710000 1                  TRA     s:13361
         1 000041   000231 710000 1                  TRA     s:13268
         1 000042   000527 710000 1                  TRA     s:13363
         1 000043   001347 710000 1                  TRA     s:13567
         1 000044   000703 710000 1                  TRA     s:13424
         1 000045   000714 710000 1                  TRA     s:13430
         1 000046   001113 710000 1                  TRA     s:13496
         1 000047   000544 710000 1                  TRA     s:13368
         1 000050   000616 710000 1                  TRA     s:13393
         1 000051   000570 710000 1                  TRA     s:13379
         1 000052   000637 710000 1                  TRA     s:13403
         1 000053   000644 710000 1                  TRA     s:13406
         1 000054   000654 710000 1                  TRA     s:13411
         1 000055   000355 710000 1                  TRA     s:13313
         1 000056   000661 710000 1                  TRA     s:13414
         1 000057   000364 710000 1                  TRA     s:13317
         1 000060   000677 710000 1                  TRA     s:13422
         1 000061   000343 710000 1                  TRA     s:13307
         1 000062   000613 710000 1                  TRA     s:13391
         1 000063   000737 710000 1                  TRA     s:13440
         1 000064   001273 710000 1                  TRA     s:13547
         1 000065   000245 710000 1                  TRA     s:13273
         1 000066   000751 710000 1                  TRA     s:13446
         1 000067   000774 710000 1                  TRA     s:13457
         1 000070   001012 710000 1                  TRA     s:13465
         1 000071   001042 710000 1                  TRA     s:13477
         1 000072   001347 710000 1                  TRA     s:13567
         1 000073   001347 710000 1                  TRA     s:13567
         1 000074   001347 710000 1                  TRA     s:13567
         1 000075   001347 710000 1                  TRA     s:13567
         1 000076   000422 710000 1                  TRA     s:13333
         1 000077   001050 710000 1                  TRA     s:13480
         1 000100   001235 710000 1                  TRA     s:13533
         1 000101   000651 710000 1                  TRA     s:13409
         1 000102   000670 710000 1                  TRA     s:13418
         1 000103   000755 710000 1                  TRA     s:13448
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:144  
         1 000104   000746 710000 1                  TRA     s:13444
         1 000105   001022 710000 1                  TRA     s:13470
         1 000106   000167 710000 1                  TRA     s:13250
         1 000107   000177 710000 1                  TRA     s:13255
         1 000110   000314 710000 1                  TRA     s:13296
         1 000111   001127 710000 1                  TRA     s:13501
         1 000112   000551 710000 1                  TRA     s:13371
         1 000113   000302 710000 1                  TRA     s:13290
         1 000114   001200 710000 1                  TRA     s:13519
         1 000115   000621 710000 1                  TRA     s:13395
         1 000116   000777 710000 1                  TRA     s:13459
         1 000117   001347 710000 1                  TRA     s:13567
         1 000120   001327 710000 1                  TRA     s:13560
         1 000121   000574 710000 1                  TRA     s:13382
         1 000122   000577 710000 1                  TRA     s:13384
         1 000123   001136 710000 1                  TRA     s:13505
         1 000124   000760 710000 1                  TRA     s:13450
         1 000125   000706 710000 1                  TRA     s:13426
         1 000126   000174 710000 1                  TRA     s:13253
         1 000127   001251 710000 1                  TRA     s:13538
         1 000130   000376 710000 1                  TRA     s:13323
         1 000131   000767 710000 1                  TRA     s:13454
         1 000132   000270 710000 1                  TRA     s:13284
         1 000133   001110 710000 1                  TRA     s:13494
         1 000134   000717 710000 1                  TRA     s:13432
         1 000135   000727 710000 1                  TRA     s:13436
         1 000136   000257 710000 1                  TRA     s:13279
         1 000137   001064 710000 1                  TRA     s:13485
         1 000140   001164 710000 1                  TRA     s:13514
         1 000141   001015 710000 1                  TRA     s:13467
         1 000142   000371 710000 1                  TRA     s:13320
         1 000143   001203 710000 1                  TRA     s:13521
         1 000144   000711 710000 1                  TRA     s:13428
         1 000145   000277 710000 1                  TRA     s:13288
         1 000146   001210 710000 1                  TRA     s:13524
         1 000147   000634 710000 1                  TRA     s:13401

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:145  
      106    13241    2          CASE( 1);                 /* ABBREV */

      107    13242    2             S_D.ERROR = 34;         /* E@NOTYET */

  13242  1 000150   000042 235007                    LDA     34,DL
         1 000151   000013 755100                    STA     11,,PR0

      108    13243    2             GOTO USERRERR;

  13243  1 000152   001434 710000 1                  TRA     USERRERR

      109    13244    2          CASE( 19);                 /* ACTIVE */

      110    13245    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13245  1 000153   004755 234100                    SZN     2541,,PR0
         1 000154   001412 604000 1                  TMI     USERNDE
         1 000155   004756 234100                    SZN     2542,,PR0
         1 000156   001412 604000 1                  TMI     USERNDE

      111    13246    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13246  1 000157   000101 234100                    SZN     65,,PR0
         1 000160   000164 605000 1                  TPL     s:13248
         1 000161   000102 473500                    LDP3    66,,PR0
         1 000162   300001 430100                    FSZN    1,,PR3
         1 000163   001412 604000 1                  TMI     USERNDE

      112    13247    2             THEN GOTO USERNDE;
      113    13248    2             CALL DDS$BLD_ACTIVE ALTRET( USERRERR );

  13248  1 000164   001435 701000 1                  TSX1    DDS$BLD_ACTIVE
         1 000165   001434 702000 1                  TSX2    USERRERR
         1 000166   001350 710000 1                  TRA     s:13570

      114    13249    2          CASE( 58);                   /* ALIB */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:146  
      115    13250    2             IF D_XDELTA THEN GOTO USERR7;

  13250  1 000167   000000 234000 xsym               SZN     D_XDELTA
         1 000170   001354 604000 1                  TMI     USERR7

      116    13251    2             CALL DDS$BLD_ALIB ALTRET( USERRERR );

  13251  1 000171   001607 701000 1                  TSX1    DDS$BLD_ALIB
         1 000172   001434 702000 1                  TSX2    USERRERR
         1 000173   001350 710000 1                  TRA     s:13570

      117    13252    2          CASE( 74);                 /* ALTVAR */

      118    13253    2             CALL DDS$BLD_ALTVAR ALTRET( USERRERR );

  13253  1 000174   001665 701000 1                  TSX1    DDS$BLD_ALTVAR
         1 000175   001434 702000 1                  TSX2    USERRERR
         1 000176   001350 710000 1                  TRA     s:13570

      119    13254    2          CASE( 59 );                  /* ANLZ */

      120    13255    2             IF D_XDELTA THEN GOTO USERR7;

  13255  1 000177   000000 234000 xsym               SZN     D_XDELTA
         1 000200   001354 604000 1                  TMI     USERR7

      121    13256    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;

  13256  1 000201   000512 235100                    LDA     330,,PR0
         1 000202   001373 601000 1                  TNZ     USERAT

      122    13257    2             CALL DDS$BLD_ANLZ ALTRET( USERRERR );

  13257  1 000203   001731 701000 1                  TSX1    DDS$BLD_ANLZ
         1 000204   001434 702000 1                  TSX2    USERRERR
         1 000205   001350 710000 1                  TRA     s:13570

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:147  
      123    13258    2          CASE( 2);                     /* AT */

      124    13259    2             CALL DDS$BLD_AT ALTRET( USERRERR );

  13259  1 000206   002343 701000 1                  TSX1    DDS$BLD_AT
         1 000207   001434 702000 1                  TSX2    USERRERR
         1 000210   001350 710000 1                  TRA     s:13570

      125    13260    2          CASE( 3);                  /* BREAK */

      126    13261    2             IF D_XDELTA THEN GOTO USERR7; /* USER DELTA ONLY */

  13261  1 000211   000000 234000 xsym               SZN     D_XDELTA
         1 000212   001354 604000 1                  TMI     USERR7

      127    13262    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13262  1 000213   004755 234100                    SZN     2541,,PR0
         1 000214   001412 604000 1                  TMI     USERNDE
         1 000215   004756 234100                    SZN     2542,,PR0
         1 000216   001412 604000 1                  TMI     USERNDE

      128    13263    2             IF NOT S_D.CAN_I_DO_BREAK THEN GOTO USERR341;

  13263  1 000217   006736 234100                    SZN     3550,,PR0
         1 000220   001362 605000 1                  TPL     USERR341

      129    13264    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13264  1 000221   000101 234100                    SZN     65,,PR0
         1 000222   000226 605000 1                  TPL     s:13266
         1 000223   000102 473500                    LDP3    66,,PR0
         1 000224   300001 430100                    FSZN    1,,PR3
         1 000225   001412 604000 1                  TMI     USERNDE

      130    13265    2             THEN GOTO USERNDE;
      131    13266    2             CALL DDS$BLD_BREAK ALTRET( USERRERR );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:148  

  13266  1 000226   003016 701000 1                  TSX1    DDS$BLD_BREAK
         1 000227   001434 702000 1                  TSX2    USERRERR
         1 000230   001350 710000 1                  TRA     s:13570

      132    13267    2          CASE( 21);                 /* BYPASS */

      133    13268    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13268  1 000231   004755 234100                    SZN     2541,,PR0
         1 000232   001412 604000 1                  TMI     USERNDE
         1 000233   004756 234100                    SZN     2542,,PR0
         1 000234   001412 604000 1                  TMI     USERNDE

      134    13269    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13269  1 000235   000101 234100                    SZN     65,,PR0
         1 000236   000242 605000 1                  TPL     s:13271
         1 000237   000102 473500                    LDP3    66,,PR0
         1 000240   300001 430100                    FSZN    1,,PR3
         1 000241   001412 604000 1                  TMI     USERNDE

      135    13270    2             THEN GOTO USERNDE;
      136    13271    2             CALL DDS$BLD_BYPASS ALTRET( USERRERR );

  13271  1 000242   003022 701000 1                  TSX1    DDS$BLD_BYPASS
         1 000243   001434 702000 1                  TSX2    USERRERR
         1 000244   001350 710000 1                  TRA     s:13570

      137    13272    2          CASE( 41);                  /* CACHE */

      138    13273    2             IF D_XDELTA THEN GOTO USERR7;

  13273  1 000245   000000 234000 xsym               SZN     D_XDELTA
         1 000246   001354 604000 1                  TMI     USERR7

      139    13274    2             CALL DDS$BLD_CACHE ALTRET(USERRERR);
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:149  

  13274  1 000247   003116 701000 1                  TSX1    DDS$BLD_CACHE
         1 000250   001434 702000 1                  TSX2    USERRERR
         1 000251   001350 710000 1                  TRA     s:13570

      140    13275    2          CASE( 15);                   /* COPY */

      141    13276    2             IF D_XDELTA THEN GOTO USERR7;

  13276  1 000252   000000 234000 xsym               SZN     D_XDELTA
         1 000253   001354 604000 1                  TMI     USERR7

      142    13277    2             CALL DDS$BLD_COPY ALTRET( USERRERR );

  13277  1 000254   003032 701000 1                  TSX1    DDS$BLD_COPY
         1 000255   001434 702000 1                  TSX2    USERRERR
         1 000256   001350 710000 1                  TRA     s:13570

      143    13278    2          CASE( 82);                  /* CRASH */

      144    13279    2             IF NOT (S_D.FPRG AND

  13279  1 000257   000101 234100                    SZN     65,,PR0
         1 000260   001423 605000 1                  TPL     USERNFEPXDELTA
         1 000261   000102 473500                    LDP3    66,,PR0
         1 000262   300001 236100                    LDQ     1,,PR3
         1 000263   002000 316003                    CANQ    1024,DU
         1 000264   001423 600000 1                  TZE     USERNFEPXDELTA

      145    13280    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA)
      146    13281    2             THEN GOTO USERNFEPXDELTA;
      147    13282    2             CALL DDS$BLD_CRASH ALTRET(USERRERR);

  13282  1 000265   003026 701000 1                  TSX1    DDS$BLD_CRASH
         1 000266   001434 702000 1                  TSX2    USERRERR
         1 000267   001350 710000 1                  TRA     s:13570

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:150  
      148    13283    2          CASE( 78);                  /* DBOOT */

      149    13284    2             IF NOT D_XDELTA THEN GOTO USERR8;

  13284  1 000270   000000 234000 xsym               SZN     D_XDELTA
         1 000271   001357 605000 1                  TPL     USERR8

      150    13285    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;

  13285  1 000272   000512 235100                    LDA     330,,PR0
         1 000273   001373 601000 1                  TNZ     USERAT

      151    13286    2             CALL DDS$BLD_DBOOT ALTRET( USERRERR );

  13286  1 000274   003036 701000 1                  TSX1    DDS$BLD_DBOOT
         1 000275   001434 702000 1                  TSX2    USERRERR
         1 000276   001350 710000 1                  TRA     s:13570

      152    13287    2          CASE( 89);                  /* DEBUG */

      153    13288    2             CALL DDS$BLD_DEBUG ALTRET( USERRERR );

  13288  1 000277   003141 701000 1                  TSX1    DDS$BLD_DEBUG
         1 000300   001434 702000 1                  TSX2    USERRERR
         1 000301   001350 710000 1                  TRA     s:13570

      154    13289    2          CASE( 63);                 /* DELETE */

      155    13290    2             IF D_XDELTA THEN GOTO USERR7;

  13290  1 000302   000000 234000 xsym               SZN     D_XDELTA
         1 000303   001354 604000 1                  TMI     USERR7

      156    13291    2             IF NOT S_D.RUM THEN GOTO USERNRU;

  13291  1 000304   004755 234100                    SZN     2541,,PR0
         1 000305   001407 605000 1                  TPL     USERNRU
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:151  

      157    13292    2             CALL DDS$BLD_DELETE ALTRET( USERRERR );

  13292  1 000306   003042 701000 1                  TSX1    DDS$BLD_DELETE
         1 000307   001434 702000 1                  TSX2    USERRERR
         1 000310   001350 710000 1                  TRA     s:13570

      158    13293    2          CASE( 4);                    /* DEF */

      159    13294    2             CALL DDS$BLD_DEF ALTRET( USERRERR );

  13294  1 000311   003536 701000 1                  TSX1    DDS$BLD_DEF
         1 000312   001434 702000 1                  TSX2    USERRERR
         1 000313   001350 710000 1                  TRA     s:13570

      160    13295    2          CASE( 60);                   /* DLCT */

      161    13296    2             IF NOT (S_D.FPRG AND

  13296  1 000314   000101 234100                    SZN     65,,PR0
         1 000315   001423 605000 1                  TPL     USERNFEPXDELTA
         1 000316   000102 473500                    LDP3    66,,PR0
         1 000317   300001 236100                    LDQ     1,,PR3
         1 000320   002000 316003                    CANQ    1024,DU
         1 000321   000324 601000 1                  TNZ     s:13300
         1 000322   300001 430100                    FSZN    1,,PR3
         1 000323   001423 605000 1                  TPL     USERNFEPXDELTA

      162    13297    2               (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
      163    13298    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ))
      164    13299    2             THEN GOTO USERNFEPXDELTA;
      165    13300    2             CALL DDS$BLD_DLCT ALTRET(USERRERR);

  13300  1 000324   003052 701000 1                  TSX1    DDS$BLD_DLCT
         1 000325   001434 702000 1                  TSX2    USERRERR
         1 000326   001350 710000 1                  TRA     s:13570

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:152  
      166    13301    2          CASE( 5);                     /* DO */

      167    13302    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13302  1 000327   004755 234100                    SZN     2541,,PR0
         1 000330   001412 604000 1                  TMI     USERNDE
         1 000331   004756 234100                    SZN     2542,,PR0
         1 000332   001412 604000 1                  TMI     USERNDE

      168    13303    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13303  1 000333   000101 234100                    SZN     65,,PR0
         1 000334   000340 605000 1                  TPL     s:13305
         1 000335   000102 473500                    LDP3    66,,PR0
         1 000336   300001 430100                    FSZN    1,,PR3
         1 000337   001412 604000 1                  TMI     USERNDE

      169    13304    2             THEN GOTO USERNDE;
      170    13305    2             CALL DDS$BLD_DO ALTRET( USERRERR );

  13305  1 000340   003615 701000 1                  TSX1    DDS$BLD_DO
         1 000341   001434 702000 1                  TSX2    USERRERR
         1 000342   001350 710000 1                  TRA     s:13570

      171    13306    2          CASE( 37);                    /* DIC */

      172    13307    2             CALL DDS$BLD_DIC ALTRET( USERRERR );

  13307  1 000343   003046 701000 1                  TSX1    DDS$BLD_DIC
         1 000344   001434 702000 1                  TSX2    USERRERR
         1 000345   001350 710000 1                  TRA     s:13570

      173    13308    2          CASE( 6);                /* DISPLAY */

      174    13309    2             CALL DDS$BLD_DISP ALTRET( USERRERR );

  13309  1 000346   003652 701000 1                  TSX1    DDS$BLD_DISP
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:153  
         1 000347   001434 702000 1                  TSX2    USERRERR
         1 000350   001350 710000 1                  TRA     s:13570

      175    13310    2          CASE( 7);                   /* DUMP */

      176    13311    2             CALL DDS$BLD_DUMP ALTRET( USERRERR );

  13311  1 000351   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000352   000000 701000 xent               TSX1    DDS$BLD_DUMP
         1 000353   001434 702000 1                  TSX2    USERRERR
         1 000354   001350 710000 1                  TRA     s:13570

      177    13312    2          CASE( 33);                   /* ECHO */

      178    13313    2             CALL DDS$BLD_ECHO ALTRET( USERRERR );

  13313  1 000355   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000356   000000 701000 xent               TSX1    DDS$BLD_ECHO
         1 000357   001434 702000 1                  TSX2    USERRERR
         1 000360   001350 710000 1                  TRA     s:13570

      179    13314    2          CASE( 8);                   /* EVAL */

      180    13315    2             CALL DDS$BLD_EVAL ALTRET( USERRERR );

  13315  1 000361   003757 701000 1                  TSX1    DDS$BLD_EVAL
         1 000362   001434 702000 1                  TSX2    USERRERR
         1 000363   001350 710000 1                  TRA     s:13570

      181    13316    2          CASE( 35);                    /* EOM */

      182    13317    2             IF D_XDELTA THEN GOTO USERR7;

  13317  1 000364   000000 234000 xsym               SZN     D_XDELTA
         1 000365   001354 604000 1                  TMI     USERR7

      183    13318    2             CALL DDS$BLD_EOM ALTRET( USERRERR );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:154  

  13318  1 000366   003056 701000 1                  TSX1    DDS$BLD_EOM
         1 000367   001434 702000 1                  TSX2    USERRERR
         1 000370   001350 710000 1                  TRA     s:13570

      184    13319    2          CASE( 86 );                /* ERRFID */

      185    13320    2             IF D_XDELTA THEN GOTO USERR7;

  13320  1 000371   000000 234000 xsym               SZN     D_XDELTA
         1 000372   001354 604000 1                  TMI     USERR7

      186    13321    2             CALL DDS$BLD_ERRFID ALTRET( USERRERR );

  13321  1 000373   003734 701000 1                  TSX1    DDS$BLD_ERRFID
         1 000374   001434 702000 1                  TSX2    USERRERR
         1 000375   001350 710000 1                  TRA     s:13570

      187    13322    2          CASE( 76);                   /* EXIT */

      188    13323    2             IF D_XDELTA THEN GOTO USERR7;

  13323  1 000376   000000 234000 xsym               SZN     D_XDELTA
         1 000377   001354 604000 1                  TMI     USERR7

      189    13324    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13324  1 000400   004755 234100                    SZN     2541,,PR0
         1 000401   001412 604000 1                  TMI     USERNDE
         1 000402   004756 234100                    SZN     2542,,PR0
         1 000403   001412 604000 1                  TMI     USERNDE

      190    13325    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13325  1 000404   000101 234100                    SZN     65,,PR0
         1 000405   000411 605000 1                  TPL     s:13327
         1 000406   000102 473500                    LDP3    66,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:155  
         1 000407   300001 430100                    FSZN    1,,PR3
         1 000410   001412 604000 1                  TMI     USERNDE

      191    13326    2             THEN GOTO USERNDE;
      192    13327    2             CALL DDS$BLD_EXIT ALTRET( USERRERR );

  13327  1 000411   003062 701000 1                  TSX1    DDS$BLD_EXIT
         1 000412   001434 702000 1                  TSX2    USERRERR
         1 000413   001350 710000 1                  TRA     s:13570

      193    13328    2          CASE( 10);                   /* FIND */

      194    13329    2             CALL DDS$BLD_FIND ALTRET( USERRERR );

  13329  1 000414   004162 701000 1                  TSX1    DDS$BLD_FIND
         1 000415   001434 702000 1                  TSX2    USERRERR
         1 000416   001350 710000 1                  TRA     s:13570

      195    13330    2          CASE( 16);                 /* FORMAT */

      196    13331    2             CALL DDS$BLD_FORMAT ALTRET( USERRERR );

  13331  1 000417   004542 701000 1                  TSX1    DDS$BLD_FORMAT
         1 000420   001434 702000 1                  TSX2    USERRERR
         1 000421   001350 710000 1                  TRA     s:13570

      197    13332    2          CASE( 50);               /* INACTIVE */

      198    13333    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13333  1 000422   004755 234100                    SZN     2541,,PR0
         1 000423   001412 604000 1                  TMI     USERNDE
         1 000424   004756 234100                    SZN     2542,,PR0
         1 000425   001412 604000 1                  TMI     USERNDE

      199    13334    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:156  
  13334  1 000426   000101 234100                    SZN     65,,PR0
         1 000427   000433 605000 1                  TPL     s:13336
         1 000430   000102 473500                    LDP3    66,,PR0
         1 000431   300001 430100                    FSZN    1,,PR3
         1 000432   001412 604000 1                  TMI     USERNDE

      200    13335    2             THEN GOTO USERNDE;
      201    13336    2             CALL DDS$BLD_INACTIVE ALTRET( USERRERR );

  13336  1 000433   001441 701000 1                  TSX1    DDS$BLD_INACTIVE
         1 000434   001434 702000 1                  TSX2    USERRERR
         1 000435   001350 710000 1                  TRA     s:13570

      202    13337    2          CASE( 17);                 /* IGNORE */

      203    13338    2             IF D_XDELTA THEN GOTO USERR7;

  13338  1 000436   000000 234000 xsym               SZN     D_XDELTA
         1 000437   001354 604000 1                  TMI     USERR7

      204    13339    2             IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6 AND

  13339  1 000440   006714 235100                    LDA     3532,,PR0
         1 000441   000002 115007                    CMPA    2,DL
         1 000442   000447 601000 1                  TNZ     s:13342
         1 000443   000102 473500                    LDP3    66,,PR0
         1 000444   300001 236100                    LDQ     1,,PR3
         1 000445   002000 316003                    CANQ    1024,DU
         1 000446   001420 601000 1                  TNZ     USERL6XDELTA

      205    13340    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA
      206    13341    2             THEN GOTO USERL6XDELTA;
      207    13342    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13342  1 000447   004755 234100                    SZN     2541,,PR0
         1 000450   001412 604000 1                  TMI     USERNDE
         1 000451   004756 234100                    SZN     2542,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:157  
         1 000452   001412 604000 1                  TMI     USERNDE

      208    13343    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13343  1 000453   000101 234100                    SZN     65,,PR0
         1 000454   000460 605000 1                  TPL     s:13345
         1 000455   000102 473500                    LDP3    66,,PR0
         1 000456   300001 430100                    FSZN    1,,PR3
         1 000457   001412 604000 1                  TMI     USERNDE

      209    13344    2             THEN GOTO USERNDE;
      210    13345    2             CALL DDS$BLD_IGNORE ALTRET( USERRERR );

  13345  1 000460   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000461   000000 701000 xent               TSX1    DDS$BLD_IGNORE
         1 000462   001434 702000 1                  TSX2    USERRERR
         1 000463   001350 710000 1                  TRA     s:13570

      211    13346    2          CASE( 11);                   /* GOTO */

      212    13347    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13347  1 000464   004755 234100                    SZN     2541,,PR0
         1 000465   001412 604000 1                  TMI     USERNDE
         1 000466   004756 234100                    SZN     2542,,PR0
         1 000467   001412 604000 1                  TMI     USERNDE

      213    13348    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13348  1 000470   000101 234100                    SZN     65,,PR0
         1 000471   000475 605000 1                  TPL     s:13350
         1 000472   000102 473500                    LDP3    66,,PR0
         1 000473   300001 430100                    FSZN    1,,PR3
         1 000474   001412 604000 1                  TMI     USERNDE

      214    13349    2             THEN GOTO USERNDE;
      215    13350    2             CALL DDS$BLD_GO ALTRET( USERRERR );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:158  

  13350  1 000475   004570 701000 1                  TSX1    DDS$BLD_GO
         1 000476   001434 702000 1                  TSX2    USERRERR
         1 000477   001350 710000 1                  TRA     s:13570

      216    13351    2          CASE( 12);                   /* HELP */

      217    13352    2             IF S_D.IFSPEC$ ~= ADDR( NIL ) THEN GOTO USERIF;

  13352  1 000500   000055 236100                    LDQ     45,,PR0
         1 000501   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000502   001370 601000 1                  TNZ     USERIF

      218    13353    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;

  13353  1 000503   000512 235100                    LDA     330,,PR0
         1 000504   001373 601000 1                  TNZ     USERAT

      219    13354    2             CALL DDS$BLD_HELP ALTRET( USERRERR );

  13354  1 000505   005101 701000 1                  TSX1    DDS$BLD_HELP
         1 000506   001434 702000 1                  TSX2    USERRERR
         1 000507   001350 710000 1                  TRA     s:13570

      220    13355    2          CASE( 13);                /* HISTORY */

      221    13356    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13356  1 000510   004755 234100                    SZN     2541,,PR0
         1 000511   001412 604000 1                  TMI     USERNDE
         1 000512   004756 234100                    SZN     2542,,PR0
         1 000513   001412 604000 1                  TMI     USERNDE

      222    13357    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13357  1 000514   000101 234100                    SZN     65,,PR0
         1 000515   000521 605000 1                  TPL     s:13359
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:159  
         1 000516   000102 473500                    LDP3    66,,PR0
         1 000517   300001 430100                    FSZN    1,,PR3
         1 000520   001412 604000 1                  TMI     USERNDE

      223    13358    2             THEN GOTO USERNDE;
      224    13359    2             CALL DDS$BLD_HISTORY ALTRET( USERRERR );

  13359  1 000521   005117 701000 1                  TSX1    DDS$BLD_HISTORY
         1 000522   001434 702000 1                  TSX2    USERRERR
         1 000523   001350 710000 1                  TRA     s:13570

      225    13360    2          CASE( 20);                   /* KILL */

      226    13361    2             CALL DDS$BLD_KILL ALTRET( USERRERR );

  13361  1 000524   005222 701000 1                  TSX1    DDS$BLD_KILL
         1 000525   001434 702000 1                  TSX2    USERRERR
         1 000526   001350 710000 1                  TRA     s:13570

      227    13362    2          CASE( 22);                   /* KEEP */

      228    13363    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13363  1 000527   004755 234100                    SZN     2541,,PR0
         1 000530   001412 604000 1                  TMI     USERNDE
         1 000531   004756 234100                    SZN     2542,,PR0
         1 000532   001412 604000 1                  TMI     USERNDE

      229    13364    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13364  1 000533   000101 234100                    SZN     65,,PR0
         1 000534   000540 605000 1                  TPL     s:13366
         1 000535   000102 473500                    LDP3    66,,PR0
         1 000536   300001 430100                    FSZN    1,,PR3
         1 000537   001412 604000 1                  TMI     USERNDE

      230    13365    2             THEN GOTO USERNDE;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:160  
      231    13366    2             CALL DDS$BLD_KEEP ALTRET( USERRERR );

  13366  1 000540   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000541   000000 701000 xent               TSX1    DDS$BLD_KEEP
         1 000542   001434 702000 1                  TSX2    USERRERR
         1 000543   001350 710000 1                  TRA     s:13570

      232    13367    2          CASE( 27);                    /* LET */

      233    13368    2             IF S_D.ANLZ_FILE THEN GOTO USERNAN;

  13368  1 000544   005052 234100                    SZN     2602,,PR0
         1 000545   001415 604000 1                  TMI     USERNAN

      234    13369    2             CALL DDS$BLD_LET ALTRET( USERRERR );

  13369  1 000546   005540 701000 1                  TSX1    DDS$BLD_LET
         1 000547   001434 702000 1                  TSX2    USERRERR
         1 000550   001350 710000 1                  TRA     s:13570

      235    13370    2          CASE( 62);                   /* LIST */

      236    13371    2             IF D_XDELTA THEN GOTO USERR7;

  13371  1 000551   000000 234000 xsym               SZN     D_XDELTA
         1 000552   001354 604000 1                  TMI     USERR7

      237    13372    2             IF S_D.ANLZ THEN GOTO USERNAN;

  13372  1 000553   004756 234100                    SZN     2542,,PR0
         1 000554   001415 604000 1                  TMI     USERNAN

      238    13373    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13373  1 000555   000101 234100                    SZN     65,,PR0
         1 000556   000562 605000 1                  TPL     s:13375
         1 000557   000102 473500                    LDP3    66,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:161  
         1 000560   300001 430100                    FSZN    1,,PR3
         1 000561   001415 604000 1                  TMI     USERNAN

      239    13374    2             THEN GOTO USERNAN;
      240    13375    2             CALL DDS$BLD_LIST ALTRET( USERRERR );

  13375  1 000562   001455 701000 1                  TSX1    DDS$BLD_LIST
         1 000563   001434 702000 1                  TSX2    USERRERR
         1 000564   001350 710000 1                  TRA     s:13570

      241    13376    2          CASE( 14);                /* MACLOSE */

      242    13377    2             CALL DDS$BLD_MACLOSE ALTRET( USERRERR );

  13377  1 000565   006161 701000 1                  TSX1    DDS$BLD_MACLOSE
         1 000566   001434 702000 1                  TSX2    USERRERR
         1 000567   001350 710000 1                  TRA     s:13570

      243    13378    2          CASE( 29);                /* MACTIVE */

      244    13379    2             S_D.REMACTIVE = '0'B;         /* NOT M> MODE */

  13379  1 000570   000506 450100                    STZ     326,,PR0

      245    13380    2             CALL DDS$BLD_MACTIVE ALTRET( USERRERR );

  13380  1 000571   005631 701000 1                  TSX1    DDS$BLD_MACTIVE
         1 000572   001434 702000 1                  TSX2    USERRERR
         1 000573   001350 710000 1                  TRA     s:13570

      246    13381    2          CASE( 69);               /* MACTIVE1 */

      247    13382    2             CALL DDS$BLD_MACTIVE ALTRET( USERRERR );

  13382  1 000574   005631 701000 1                  TSX1    DDS$BLD_MACTIVE
         1 000575   001434 702000 1                  TSX2    USERRERR
         1 000576   001350 710000 1                  TRA     s:13570
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:162  

      248    13383    2          CASE( 70);                   /* MINI */

      249    13384    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;

  13384  1 000577   000512 235100                    LDA     330,,PR0
         1 000600   001373 601000 1                  TNZ     USERAT

      250    13385    3             IF NOT S_D.LADC AND NOT D_XDELTA THEN DO;

  13385  1 000601   006745 234100                    SZN     3557,,PR0
         1 000602   000610 604000 1                  TMI     s:13389
         1 000603   000000 234000 xsym               SZN     D_XDELTA
         1 000604   000610 604000 1                  TMI     s:13389

      251    13386    3                  S_D.ERROR = 34;

  13386  1 000605   000042 235007                    LDA     34,DL
         1 000606   000013 755100                    STA     11,,PR0

      252    13387    3                  GOTO USERRERR;

  13387  1 000607   001434 710000 1                  TRA     USERRERR

      253    13388    3                END;
      254    13389    2             CALL DDS$BLD_MINI ALTRET( USERRERR );

  13389  1 000610   003066 701000 1                  TSX1    DDS$BLD_MINI
         1 000611   001434 702000 1                  TSX2    USERRERR
         1 000612   001350 710000 1                  TRA     s:13570

      255    13390    2          CASE( 38);               /* MODIFY DW */

      256    13391    2             CALL DDS$BLD_MODIFYDW ALTRET( USERRERR );

  13391  1 000613   006200 701000 1                  TSX1    DDS$BLD_MODIFYDW
         1 000614   001434 702000 1                  TSX2    USERRERR
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:163  
         1 000615   001350 710000 1                  TRA     s:13570

      257    13392    2          CASE( 28);                 /* MODIFY */

      258    13393    2             CALL DDS$BLD_MODIFY ALTRET( USERRERR );

  13393  1 000616   006211 701000 1                  TSX1    DDS$BLD_MODIFY
         1 000617   001434 702000 1                  TSX2    USERRERR
         1 000620   001350 710000 1                  TRA     s:13570

      259    13394    2          CASE( 65);                   /* MLCT */

      260    13395    2             IF NOT (S_D.FPRG AND

  13395  1 000621   000101 234100                    SZN     65,,PR0
         1 000622   001423 605000 1                  TPL     USERNFEPXDELTA
         1 000623   000102 473500                    LDP3    66,,PR0
         1 000624   300001 236100                    LDQ     1,,PR3
         1 000625   002000 316003                    CANQ    1024,DU
         1 000626   000631 601000 1                  TNZ     s:13399
         1 000627   300001 430100                    FSZN    1,,PR3
         1 000630   001423 605000 1                  TPL     USERNFEPXDELTA

      261    13396    2               (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
      262    13397    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ))
      263    13398    2             THEN GOTO USERNFEPXDELTA;
      264    13399    2             CALL DDS$BLD_MLCT ALTRET(USERRERR);

  13399  1 000631   006456 701000 1                  TSX1    DDS$BLD_MLCT
         1 000632   001434 702000 1                  TSX2    USERRERR
         1 000633   001350 710000 1                  TRA     s:13570

      265    13400    2          CASE( 91);                   /* NAME */

      266    13401    2             CALL DDS$BLD_NAME ALTRET (USERRERR);

  13401  1 000634   006551 701000 1                  TSX1    DDS$BLD_NAME
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:164  
         1 000635   001434 702000 1                  TSX2    USERRERR
         1 000636   001350 710000 1                  TRA     s:13570

      267    13402    2          CASE( 30);                     /* OA */

      268    13403    2             IF D_XDELTA THEN GOTO USERR7; /* USER DELTA ONLY */

  13403  1 000637   000000 234000 xsym               SZN     D_XDELTA
         1 000640   001354 604000 1                  TMI     USERR7

      269    13404    2             CALL DDS$BLD_OA ALTRET( USERRERR );

  13404  1 000641   006614 701000 1                  TSX1    DDS$BLD_OA
         1 000642   001434 702000 1                  TSX2    USERRERR
         1 000643   001350 710000 1                  TRA     s:13570

      270    13405    2          CASE( 31);                     /* OC */

      271    13406    2             IF ( NOT D_SYMBOLS ) THEN GOTO USERR3; /* USE_MON */

  13406  1 000644   000000 234000 xsym               SZN     D_SYMBOLS
         1 000645   001351 605000 1                  TPL     USERR3

      272    13407    2             CALL DDS$BLD_OC ALTRET( USERRERR );

  13407  1 000646   006764 701000 1                  TSX1    DDS$BLD_OC
         1 000647   001434 702000 1                  TSX2    USERRERR
         1 000650   001350 710000 1                  TRA     s:13570

      273    13408    2          CASE( 53);                /* ONCALLS */

      274    13409    2             CALL DDS$BLD_ONCALLS ALTRET( USERRERR );

  13409  1 000651   007644 701000 1                  TSX1    DDS$BLD_ONCALLS
         1 000652   001434 702000 1                  TSX2    USERRERR
         1 000653   001350 710000 1                  TRA     s:13570

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:165  
      275    13410    2          CASE( 32);                     /* OE */

      276    13411    2             IF D_XDELTA THEN GOTO USERR7; /* USER DELTA ONLY */

  13411  1 000654   000000 234000 xsym               SZN     D_XDELTA
         1 000655   001354 604000 1                  TMI     USERR7

      277    13412    2             CALL DDS$BLD_OE ALTRET( USERRERR );

  13412  1 000656   006627 701000 1                  TSX1    DDS$BLD_OE
         1 000657   001434 702000 1                  TSX2    USERRERR
         1 000660   001350 710000 1                  TRA     s:13570

      278    13413    2          CASE( 34);                    /* ONN */

      279    13414    2             IF D_XDELTA='1'B THEN GOTO USERR7; /* USER DELTA ONLY */

  13414  1 000661   000000 234000 xsym               SZN     D_XDELTA
         1 000662   001354 604000 1                  TMI     USERR7

      280    13415    2             IF NOT S_D.OVERLAID THEN GOTO USEROV;

  13415  1 000663   004764 234100                    SZN     2548,,PR0
         1 000664   001376 605000 1                  TPL     USEROV

      281    13416    2             CALL DDS$BLD_ONN ALTRET( USERRERR );

  13416  1 000665   007441 701000 1                  TSX1    DDS$BLD_ONN
         1 000666   001434 702000 1                  TSX2    USERRERR
         1 000667   001350 710000 1                  TRA     s:13570

      282    13417    2          CASE( 54);                /* ONNODES */

      283    13418    2             IF D_XDELTA THEN GOTO USERR7;

  13418  1 000670   000000 234000 xsym               SZN     D_XDELTA
         1 000671   001354 604000 1                  TMI     USERR7
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:166  

      284    13419    2             IF NOT S_D.OVERLAID THEN GOTO USEROV;

  13419  1 000672   004764 234100                    SZN     2548,,PR0
         1 000673   001376 605000 1                  TPL     USEROV

      285    13420    2             CALL DDS$BLD_ONNODES ALTRET( USERRERR );

  13420  1 000674   007674 701000 1                  TSX1    DDS$BLD_ONNODES
         1 000675   001434 702000 1                  TSX2    USERRERR
         1 000676   001350 710000 1                  TRA     s:13570

      286    13421    2          CASE( 36);                 /* OUTPUT */

      287    13422    2             CALL DDS$BLD_OUTPUT ALTRET( USERRERR );

  13422  1 000677   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000700   000000 701000 xent               TSX1    DDS$BLD_OUTPUT
         1 000701   001434 702000 1                  TSX2    USERRERR
         1 000702   001350 710000 1                  TRA     s:13570

      288    13423    2          CASE( 24);                  /* PLUGH */

      289    13424    2             CALL DDS$BLD_PLUGH ALTRET( USERRERR );

  13424  1 000703   010150 701000 1                  TSX1    DDS$BLD_PLUGH
         1 000704   001434 702000 1                  TSX2    USERRERR
         1 000705   001350 710000 1                  TRA     s:13570

      290    13425    2          CASE( 73);                    /* PMD */

      291    13426    2             CALL DDS$BLD_PMD ALTRET( USERRERR );

  13426  1 000706   010234 701000 1                  TSX1    DDS$BLD_PMD
         1 000707   001434 702000 1                  TSX2    USERRERR
         1 000710   001350 710000 1                  TRA     s:13570

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:167  
      292    13427    2          CASE( 88);                /* PROTECT */

      293    13428    2             CALL DDS$BLD_PROTECT ALTRET( USERRERR );

  13428  1 000711   003072 701000 1                  TSX1    DDS$BLD_PROTECT
         1 000712   001434 702000 1                  TSX2    USERRERR
         1 000713   001350 710000 1                  TRA     s:13570

      294    13429    2          CASE( 25);                 /* PROMPT */

      295    13430    2             CALL DDS$BLD_PROMPT ALTRET( USERRERR );

  13430  1 000714   010304 701000 1                  TSX1    DDS$BLD_PROMPT
         1 000715   001434 702000 1                  TSX2    USERRERR
         1 000716   001350 710000 1                  TRA     s:13570

      296    13431    2          CASE( 80);                 /* QMARK1 */

      297    13432    2             IF S_D.IFSPEC$ ~= ADDR( NIL ) THEN GOTO USERIF;

  13432  1 000717   000055 236100                    LDQ     45,,PR0
         1 000720   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000721   001370 601000 1                  TNZ     USERIF

      298    13433    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;

  13433  1 000722   000512 235100                    LDA     330,,PR0
         1 000723   001373 601000 1                  TNZ     USERAT

      299    13434    2             CALL DDS$BLD_QMARK1 ALTRET( USERRERR );

  13434  1 000724   003076 701000 1                  TSX1    DDS$BLD_QMARK1
         1 000725   001434 702000 1                  TSX2    USERRERR
         1 000726   001350 710000 1                  TRA     s:13570

      300    13435    2          CASE( 81);                 /* QMARK2 */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:168  
      301    13436    2             IF S_D.IFSPEC$ ~= ADDR( NIL ) THEN GOTO USERIF;

  13436  1 000727   000055 236100                    LDQ     45,,PR0
         1 000730   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000731   001370 601000 1                  TNZ     USERIF

      302    13437    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;

  13437  1 000732   000512 235100                    LDA     330,,PR0
         1 000733   001373 601000 1                  TNZ     USERAT

      303    13438    2             CALL DDS$BLD_QMARK2 ALTRET( USERRERR );

  13438  1 000734   003102 701000 1                  TSX1    DDS$BLD_QMARK2
         1 000735   001434 702000 1                  TSX2    USERRERR
         1 000736   001350 710000 1                  TRA     s:13570

      304    13439    2          CASE( 39);                   /* QUIT */

      305    13440    2             IF D_XDELTA AND S_D.DO_ATTACH ~= 0

  13440  1 000737   000000 234000 xsym               SZN     D_XDELTA
         1 000740   000743 605000 1                  TPL     s:13442
         1 000741   000512 235100                    LDA     330,,PR0
         1 000742   001373 601000 1                  TNZ     USERAT

      306    13441    2             THEN GOTO USERAT;
      307    13442    2             CALL DDS$BLD_QUIT ALTRET( USERRERR );

  13442  1 000743   010341 701000 1                  TSX1    DDS$BLD_QUIT
         1 000744   001434 702000 1                  TSX2    USERRERR
         1 000745   001350 710000 1                  TRA     s:13570

      308    13443    2          CASE( 56);                  /* RANGE */

      309    13444    2             CALL DDS$BLD_RANGE ALTRET( USERRERR );

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:169  
  13444  1 000746   010425 701000 1                  TSX1    DDS$BLD_RANGE
         1 000747   001434 702000 1                  TSX2    USERRERR
         1 000750   001350 710000 1                  TRA     s:13570

      310    13445    2          CASE( 42);                   /* READ */

      311    13446    2             CALL DDS$BLD_READ ALTRET( USERRERR );

  13446  1 000751   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000752   000000 701000 xent               TSX1    DDS$BLD_READ
         1 000753   001434 702000 1                  TSX2    USERRERR
         1 000754   001350 710000 1                  TRA     s:13570

      312    13447    2          CASE( 55);                 /* REPORT */

      313    13448    2             CALL DDS$BLD_REPORT ALTRET( USERRERR );

  13448  1 000755   010457 701000 1                  TSX1    DDS$BLD_REPORT
         1 000756   001434 702000 1                  TSX2    USERRERR
         1 000757   001350 710000 1                  TRA     s:13570

      314    13449    2          CASE( 72);                    /* RUM */

      315    13450    2             IF D_XDELTA THEN GOTO USERR7;

  13450  1 000760   000000 234000 xsym               SZN     D_XDELTA
         1 000761   001354 604000 1                  TMI     USERR7

      316    13451    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;

  13451  1 000762   000512 235100                    LDA     330,,PR0
         1 000763   001373 601000 1                  TNZ     USERAT

      317    13452    2             CALL DDS$BLD_RUM ALTRET( USERRERR );

  13452  1 000764   010571 701000 1                  TSX1    DDS$BLD_RUM
         1 000765   001434 702000 1                  TSX2    USERRERR
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:170  
         1 000766   001350 710000 1                  TRA     s:13570

      318    13453    2          CASE( 77);                    /* SAD */

      319    13454    2             IF D_XDELTA THEN GOTO USERR7;

  13454  1 000767   000000 234000 xsym               SZN     D_XDELTA
         1 000770   001354 604000 1                  TMI     USERR7

      320    13455    2             CALL DDS$BLD_SAD ALTRET( USERRERR );

  13455  1 000771   011025 701000 1                  TSX1    DDS$BLD_SAD
         1 000772   001434 702000 1                  TSX2    USERRERR
         1 000773   001350 710000 1                  TRA     s:13570

      321    13456    2          CASE( 43);                 /* SCHEMA */

      322    13457    2             CALL DDS$BLD_SCHEMA ALTRET( USERRERR );

  13457  1 000774   011063 701000 1                  TSX1    DDS$BLD_SCHEMA
         1 000775   001434 702000 1                  TSX2    USERRERR
         1 000776   001350 710000 1                  TRA     s:13570

      323    13458    2          CASE( 66);                /* SELCHAN */

      324    13459    2             IF NOT (S_D.FPRG AND

  13459  1 000777   000101 234100                    SZN     65,,PR0
         1 001000   001423 605000 1                  TPL     USERNFEPXDELTA
         1 001001   000102 473500                    LDP3    66,,PR0
         1 001002   300001 236100                    LDQ     1,,PR3
         1 001003   002000 316003                    CANQ    1024,DU
         1 001004   001007 601000 1                  TNZ     s:13463
         1 001005   300001 430100                    FSZN    1,,PR3
         1 001006   001423 605000 1                  TPL     USERNFEPXDELTA

      325    13460    2               (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:171  
      326    13461    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ))
      327    13462    2             THEN GOTO USERNFEPXDELTA;
      328    13463    2             CALL DDS$BLD_SELCHAN ALTRET(USERRERR);

  13463  1 001007   011210 701000 1                  TSX1    DDS$BLD_SELCHAN
         1 001010   001434 702000 1                  TSX2    USERRERR
         1 001011   001350 710000 1                  TRA     s:13570

      329    13464    2          CASE( 44);                   /* SHOW */

      330    13465    2             CALL DDS$BLD_SHOW ALTRET( USERRERR );

  13465  1 001012   011252 701000 1                  TSX1    DDS$BLD_SHOW
         1 001013   001434 702000 1                  TSX2    USERRERR
         1 001014   001350 710000 1                  TRA     s:13570

      331    13466    2          CASE (85);                 /* STATUS */

      332    13467    2             IF D_XDELTA THEN GOTO USERR7;

  13467  1 001015   000000 234000 xsym               SZN     D_XDELTA
         1 001016   001354 604000 1                  TMI     USERR7

      333    13468    2             CALL DDS$BLD_STATUS ALTRET( USERRERR );

  13468  1 001017   003106 701000 1                  TSX1    DDS$BLD_STATUS
         1 001020   001434 702000 1                  TSX2    USERRERR
         1 001021   001350 710000 1                  TRA     s:13570

      334    13469    2          CASE( 57);                   /* STEP */

      335    13470    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;

  13470  1 001022   000512 235100                    LDA     330,,PR0
         1 001023   001373 601000 1                  TNZ     USERAT

      336    13471    2             IF S_D.PATCH THEN GOTO USERPA;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:172  

  13471  1 001024   004754 234100                    SZN     2540,,PR0
         1 001025   001401 604000 1                  TMI     USERPA

      337    13472    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13472  1 001026   004755 234100                    SZN     2541,,PR0
         1 001027   001412 604000 1                  TMI     USERNDE
         1 001030   004756 234100                    SZN     2542,,PR0
         1 001031   001412 604000 1                  TMI     USERNDE

      338    13473    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13473  1 001032   000101 234100                    SZN     65,,PR0
         1 001033   001037 605000 1                  TPL     s:13475
         1 001034   000102 473500                    LDP3    66,,PR0
         1 001035   300001 430100                    FSZN    1,,PR3
         1 001036   001412 604000 1                  TMI     USERNDE

      339    13474    2             THEN GOTO USERNDE;
      340    13475    2             CALL DDS$BLD_STEP ALTRET( USERRERR );

  13475  1 001037   011622 701000 1                  TSX1    DDS$BLD_STEP
         1 001040   001434 702000 1                  TSX2    USERRERR
         1 001041   001350 710000 1                  TRA     s:13570

      341    13476    2          CASE( 45);                   /* SAVE */

      342    13477    2             IF S_D.IFSPEC$ ~= ADDR( NIL ) THEN GOTO USERIF;

  13477  1 001042   000055 236100                    LDQ     45,,PR0
         1 001043   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 001044   001370 601000 1                  TNZ     USERIF

      343    13478    2             CALL DDS$BLD_SAVE ALTRET( USERRERR );

  13478  1 001045   011052 701000 1                  TSX1    DDS$BLD_SAVE
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:173  
         1 001046   001434 702000 1                  TSX2    USERRERR
         1 001047   001350 710000 1                  TRA     s:13570

      344    13479    2          CASE( 51);                 /* SILENT */

      345    13480    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13480  1 001050   004755 234100                    SZN     2541,,PR0
         1 001051   001412 604000 1                  TMI     USERNDE
         1 001052   004756 234100                    SZN     2542,,PR0
         1 001053   001412 604000 1                  TMI     USERNDE

      346    13481    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13481  1 001054   000101 234100                    SZN     65,,PR0
         1 001055   001061 605000 1                  TPL     s:13483
         1 001056   000102 473500                    LDP3    66,,PR0
         1 001057   300001 430100                    FSZN    1,,PR3
         1 001060   001412 604000 1                  TMI     USERNDE

      347    13482    2             THEN GOTO USERNDE;
      348    13483    2             CALL DDS$BLD_SILENT ALTRET( USERRERR );

  13483  1 001061   001445 701000 1                  TSX1    DDS$BLD_SILENT
         1 001062   001434 702000 1                  TSX2    USERRERR
         1 001063   001350 710000 1                  TRA     s:13570

      349    13484    2          CASE( 83);                   /* STOP */

      350    13485    2             IF D_XDELTA THEN GOTO USERR7;

  13485  1 001064   000000 234000 xsym               SZN     D_XDELTA
         1 001065   001354 604000 1                  TMI     USERR7

      351    13486    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13486  1 001066   004755 234100                    SZN     2541,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:174  
         1 001067   001412 604000 1                  TMI     USERNDE
         1 001070   004756 234100                    SZN     2542,,PR0
         1 001071   001412 604000 1                  TMI     USERNDE

      352    13487    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13487  1 001072   000101 234100                    SZN     65,,PR0
         1 001073   001077 605000 1                  TPL     s:13489
         1 001074   000102 473500                    LDP3    66,,PR0
         1 001075   300001 430100                    FSZN    1,,PR3
         1 001076   001412 604000 1                  TMI     USERNDE

      353    13488    2             THEN GOTO USERNDE;
      354    13489    2             IF S_D.FPRG_CONTEXT$ = ADDR(NIL) THEN GOTO USERNFS;

  13489  1 001077   000076 236100                    LDQ     62,,PR0
         1 001100   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 001101   001426 600000 1                  TZE     USERNFS

      355    13490    2             CALL DDS$BLD_STOP ALTRET( USERRERR );

  13490  1 001102   011677 701000 1                  TSX1    DDS$BLD_STOP
         1 001103   001434 702000 1                  TSX2    USERRERR
         1 001104   001350 710000 1                  TRA     s:13570

      356    13491    2          CASE( 18);                  /* STORE */

      357    13492    2             CALL DDS$BLD_STORE ALTRET( USERRERR );

  13492  1 001105   004166 701000 1                  TSX1    DDS$BLD_STORE
         1 001106   001434 702000 1                  TSX2    USERRERR
         1 001107   001350 710000 1                  TRA     s:13570

      358    13493    2          CASE( 79);                 /* SYNTAX */

      359    13494    2             CALL DDS$BLD_SYNTAX ALTRET( USERRERR );

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:175  
  13494  1 001110   011771 701000 1                  TSX1    DDS$BLD_SYNTAX
         1 001111   001434 702000 1                  TSX2    USERRERR
         1 001112   001350 710000 1                  TRA     s:13570

      360    13495    2          CASE( 26);                      /* T */

      361    13496    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13496  1 001113   004755 234100                    SZN     2541,,PR0
         1 001114   001412 604000 1                  TMI     USERNDE
         1 001115   004756 234100                    SZN     2542,,PR0
         1 001116   001412 604000 1                  TMI     USERNDE

      362    13497    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13497  1 001117   000101 234100                    SZN     65,,PR0
         1 001120   001124 605000 1                  TPL     s:13499
         1 001121   000102 473500                    LDP3    66,,PR0
         1 001122   300001 430100                    FSZN    1,,PR3
         1 001123   001412 604000 1                  TMI     USERNDE

      363    13498    2             THEN GOTO USERNDE;
      364    13499    2             CALL DDS$BLD_TRACE ALTRET( USERRERR );

  13499  1 001124   012011 701000 1                  TSX1    DDS$BLD_TRACE
         1 001125   001434 702000 1                  TSX2    USERRERR
         1 001126   001350 710000 1                  TRA     s:13570

      365    13500    2          CASE( 61 );                 /* TBOOT */

      366    13501    2             IF NOT D_XDELTA THEN GOTO USERR8;

  13501  1 001127   000000 234000 xsym               SZN     D_XDELTA
         1 001130   001357 605000 1                  TPL     USERR8

      367    13502    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:176  
  13502  1 001131   000512 235100                    LDA     330,,PR0
         1 001132   001373 601000 1                  TNZ     USERAT

      368    13503    2             CALL DDS$BLD_TBOOT ALTRET( USERRERR );

  13503  1 001133   003112 701000 1                  TSX1    DDS$BLD_TBOOT
         1 001134   001434 702000 1                  TSX2    USERRERR
         1 001135   001350 710000 1                  TRA     s:13570

      369    13504    2          CASE( 71 );                  /* TRAP */

      370    13505    2             IF D_XDELTA THEN GOTO USERR7;

  13505  1 001136   000000 234000 xsym               SZN     D_XDELTA
         1 001137   001354 604000 1                  TMI     USERR7

      371    13506    2             IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6 AND

  13506  1 001140   006714 235100                    LDA     3532,,PR0
         1 001141   000002 115007                    CMPA    2,DL
         1 001142   001147 601000 1                  TNZ     s:13509
         1 001143   000102 473500                    LDP3    66,,PR0
         1 001144   300001 236100                    LDQ     1,,PR3
         1 001145   002000 316003                    CANQ    1024,DU
         1 001146   001420 601000 1                  TNZ     USERL6XDELTA

      372    13507    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA
      373    13508    2             THEN GOTO USERL6XDELTA;
      374    13509    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13509  1 001147   004755 234100                    SZN     2541,,PR0
         1 001150   001412 604000 1                  TMI     USERNDE
         1 001151   004756 234100                    SZN     2542,,PR0
         1 001152   001412 604000 1                  TMI     USERNDE

      375    13510    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:177  
  13510  1 001153   000101 234100                    SZN     65,,PR0
         1 001154   001160 605000 1                  TPL     s:13512
         1 001155   000102 473500                    LDP3    66,,PR0
         1 001156   300001 430100                    FSZN    1,,PR3
         1 001157   001412 604000 1                  TMI     USERNDE

      376    13511    2             THEN GOTO USERNDE;
      377    13512    2             CALL DDS$BLD_TRAP ALTRET( USERRERR );

  13512  1 001160   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 001161   000000 701000 xent               TSX1    DDS$BLD_TRAP
         1 001162   001434 702000 1                  TSX2    USERRERR
         1 001163   001350 710000 1                  TRA     s:13570

      378    13513    2          CASE( 84);                    /* TSA */

      379    13514    2             IF D_XDELTA THEN GOTO USERR7; /* USER DELTA ONLY */

  13514  1 001164   000000 234000 xsym               SZN     D_XDELTA
         1 001165   001354 604000 1                  TMI     USERR7

      380    13515    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13515  1 001166   004755 234100                    SZN     2541,,PR0
         1 001167   001412 604000 1                  TMI     USERNDE
         1 001170   004756 234100                    SZN     2542,,PR0
         1 001171   001412 604000 1                  TMI     USERNDE

      381    13516    2             IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST THEN GOTO USERNHOST;

  13516  1 001172   006714 235100                    LDA     3532,,PR0
         1 001173   000001 115007                    CMPA    1,DL
         1 001174   001431 600000 1                  TZE     USERNHOST

      382    13517    2             CALL DDS$BLD_TSA ALTRET(USERRERR);

  13517  1 001175   012221 701000 1                  TSX1    DDS$BLD_TSA
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:178  
         1 001176   001434 702000 1                  TSX2    USERRERR
         1 001177   001350 710000 1                  TRA     s:13570

      383    13518    2          CASE( 64);                    /* USE */

      384    13519    2             CALL DDS$BLD_USE ALTRET( USERRERR );

  13519  1 001200   013043 701000 1                  TSX1    DDS$BLD_USE
         1 001201   001434 702000 1                  TSX2    USERRERR
         1 001202   001350 710000 1                  TRA     s:13570

      385    13520    2          CASE( 87);                  /* UNFID */

      386    13521    2             IF D_XDELTA THEN GOTO USERR7;

  13521  1 001203   000000 234000 xsym               SZN     D_XDELTA
         1 001204   001354 604000 1                  TMI     USERR7

      387    13522    2             CALL DDS$BLD_UNFID ALTRET( USERRERR );

  13522  1 001205   012270 701000 1                  TSX1    DDS$BLD_UNFID
         1 001206   001434 702000 1                  TSX2    USERRERR
         1 001207   001350 710000 1                  TRA     s:13570

      388    13523    2          CASE( 90);                /* UNSHARE */

      389    13524    2             IF D_XDELTA THEN GOTO USERR7;

  13524  1 001210   000000 234000 xsym               SZN     D_XDELTA
         1 001211   001354 604000 1                  TMI     USERR7

      390    13525    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13525  1 001212   004755 234100                    SZN     2541,,PR0
         1 001213   001412 604000 1                  TMI     USERNDE
         1 001214   004756 234100                    SZN     2542,,PR0
         1 001215   001412 604000 1                  TMI     USERNDE
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:179  

      391    13526    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13526  1 001216   000101 234100                    SZN     65,,PR0
         1 001217   001223 605000 1                  TPL     s:13528
         1 001220   000102 473500                    LDP3    66,,PR0
         1 001221   300001 430100                    FSZN    1,,PR3
         1 001222   001412 604000 1                  TMI     USERNDE

      392    13527    2             THEN GOTO USERNDE;
      393    13528    2             IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6 AND

  13528  1 001223   006714 235100                    LDA     3532,,PR0
         1 001224   000002 115007                    CMPA    2,DL
         1 001225   001232 601000 1                  TNZ     s:13531
         1 001226   000102 473500                    LDP3    66,,PR0
         1 001227   300001 236100                    LDQ     1,,PR3
         1 001230   002000 316003                    CANQ    1024,DU
         1 001231   001420 601000 1                  TNZ     USERL6XDELTA

      394    13529    2               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA
      395    13530    2             THEN GOTO USERL6XDELTA;
      396    13531    2             CALL DDS$BLD_UNSHARE ALTRET( USERRERR );

  13531  1 001232   012441 701000 1                  TSX1    DDS$BLD_UNSHARE
         1 001233   001434 702000 1                  TSX2    USERRERR
         1 001234   001350 710000 1                  TRA     s:13570

      397    13532    2          CASE( 52);               /* UNSILENT */

      398    13533    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13533  1 001235   004755 234100                    SZN     2541,,PR0
         1 001236   001412 604000 1                  TMI     USERNDE
         1 001237   004756 234100                    SZN     2542,,PR0
         1 001240   001412 604000 1                  TMI     USERNDE

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:180  
      399    13534    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13534  1 001241   000101 234100                    SZN     65,,PR0
         1 001242   001246 605000 1                  TPL     s:13536
         1 001243   000102 473500                    LDP3    66,,PR0
         1 001244   300001 430100                    FSZN    1,,PR3
         1 001245   001412 604000 1                  TMI     USERNDE

      400    13535    2             THEN GOTO USERNDE;
      401    13536    2             CALL DDS$BLD_UNSILENT ALTRET( USERRERR );

  13536  1 001246   001451 701000 1                  TSX1    DDS$BLD_UNSILENT
         1 001247   001434 702000 1                  TSX2    USERRERR
         1 001250   001350 710000 1                  TRA     s:13570

      402    13537    2          CASE( 75);                 /* UPDATE */

      403    13538    2             IF D_XDELTA THEN GOTO USERR7; /* USER DELTA ONLY */

  13538  1 001251   000000 234000 xsym               SZN     D_XDELTA
         1 001252   001354 604000 1                  TMI     USERR7

      404    13539    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;

  13539  1 001253   000512 235100                    LDA     330,,PR0
         1 001254   001373 601000 1                  TNZ     USERAT

      405    13540    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13540  1 001255   004755 234100                    SZN     2541,,PR0
         1 001256   001412 604000 1                  TMI     USERNDE
         1 001257   004756 234100                    SZN     2542,,PR0
         1 001260   001412 604000 1                  TMI     USERNDE

      406    13541    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13541  1 001261   000101 234100                    SZN     65,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:181  
         1 001262   001266 605000 1                  TPL     s:13543
         1 001263   000102 473500                    LDP3    66,,PR0
         1 001264   300001 430100                    FSZN    1,,PR3
         1 001265   001412 604000 1                  TMI     USERNDE

      407    13542    2             THEN GOTO USERNDE;
      408    13543    2             IF S_D.BATCH

  13543  1 001266   004625 234100                    SZN     2453,,PR0
         1 001267   001404 604000 1                  TMI     USERNBA

      409    13544    2             THEN GOTO USERNBA;
      410    13545    2             CALL DDS$BLD_UPDATE ALTRET( USERRERR );

  13545  1 001270   012533 701000 1                  TSX1    DDS$BLD_UPDATE
         1 001271   001434 702000 1                  TSX2    USERRERR
         1 001272   001350 710000 1                  TRA     s:13570

      411    13546    2          CASE( 40);                   /* WAIT */

      412    13547    2             IF D_XDELTA THEN GOTO USERR7; /* USER DELTA only */

  13547  1 001273   000000 234000 xsym               SZN     D_XDELTA
         1 001274   001354 604000 1                  TMI     USERR7

      413    13548    2             IF S_D.RUM OR S_D.ANLZ

  13548  1 001275   004755 234100                    SZN     2541,,PR0
         1 001276   001412 604000 1                  TMI     USERNDE
         1 001277   004756 234100                    SZN     2542,,PR0
         1 001300   001412 604000 1                  TMI     USERNDE

      414    13549    2             THEN GOTO USERNDE;
      415    13550    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13550  1 001301   000101 234100                    SZN     65,,PR0
         1 001302   001306 605000 1                  TPL     s:13552
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:182  
         1 001303   000102 473500                    LDP3    66,,PR0
         1 001304   300001 430100                    FSZN    1,,PR3
         1 001305   001412 604000 1                  TMI     USERNDE

      416    13551    2             THEN GOTO USERNDE;
      417    13552    2             CALL DDS$BLD_WAIT ALTRET(USERRERR);

  13552  1 001306   014014 701000 1                  TSX1    DDS$BLD_WAIT
         1 001307   001434 702000 1                  TSX2    USERRERR
         1 001310   001350 710000 1                  TRA     s:13570

      418    13553    2          CASE( 9);                   /* XCON */

      419    13554    2             IF D_XDELTA THEN GOTO USERR7;

  13554  1 001311   000000 234000 xsym               SZN     D_XDELTA
         1 001312   001354 604000 1                  TMI     USERR7

      420    13555    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13555  1 001313   004755 234100                    SZN     2541,,PR0
         1 001314   001412 604000 1                  TMI     USERNDE
         1 001315   004756 234100                    SZN     2542,,PR0
         1 001316   001412 604000 1                  TMI     USERNDE

      421    13556    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13556  1 001317   000101 234100                    SZN     65,,PR0
         1 001320   001324 605000 1                  TPL     s:13558
         1 001321   000102 473500                    LDP3    66,,PR0
         1 001322   300001 430100                    FSZN    1,,PR3
         1 001323   001412 604000 1                  TMI     USERNDE

      422    13557    2             THEN GOTO USERNDE;
      423    13558    2             CALL DDS$BLD_XCON ALTRET( USERRERR );

  13558  1 001324   003122 701000 1                  TSX1    DDS$BLD_XCON
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:183  
         1 001325   001434 702000 1                  TSX2    USERRERR
         1 001326   001350 710000 1                  TRA     s:13570

      424    13559    2          CASE( 68);                    /* XEQ */

      425    13560    2             IF S_D.DO_ATTACH ~= 0 THEN GOTO USERAT;

  13560  1 001327   000512 235100                    LDA     330,,PR0
         1 001330   001373 601000 1                  TNZ     USERAT

      426    13561    2             IF S_D.PATCH THEN GOTO USERPA;

  13561  1 001331   004754 234100                    SZN     2540,,PR0
         1 001332   001401 604000 1                  TMI     USERPA

      427    13562    2             IF S_D.RUM OR S_D.ANLZ THEN GOTO USERNDE;

  13562  1 001333   004755 234100                    SZN     2541,,PR0
         1 001334   001412 604000 1                  TMI     USERNDE
         1 001335   004756 234100                    SZN     2542,,PR0
         1 001336   001412 604000 1                  TMI     USERNDE

      428    13563    2             IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ

  13563  1 001337   000101 234100                    SZN     65,,PR0
         1 001340   001344 605000 1                  TPL     s:13565
         1 001341   000102 473500                    LDP3    66,,PR0
         1 001342   300001 430100                    FSZN    1,,PR3
         1 001343   001412 604000 1                  TMI     USERNDE

      429    13564    2             THEN GOTO USERNDE;
      430    13565    2             CALL DDS$BLD_XEQ ALTRET( USERRERR );

  13565  1 001344   014025 701000 1                  TSX1    DDS$BLD_XEQ
         1 001345   001434 702000 1                  TSX2    USERRERR
         1 001346   001350 710000 1                  TRA     s:13570

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:184  
      431    13566    2          CASE ( ELSE );

      432    13567    2             GOTO UDERR1;

  13567  1 001347   001365 710000 1                  TRA     UDERR1

      433    13568    2          END;                             /* "DO CASE" */

      434    13569
      435    13570    1        RETURN;

  13570  1 001350   000000 702200 xent               TSX2  ! X66_ARET

      436    13571
      437    13572    1   USERR3: S_D.ERROR = 54; GOTO USERRERR; /* E@NOTMON */

  13572  1 001351   000066 235007       USERR3       LDA     54,DL
         1 001352   000013 755100                    STA     11,,PR0

  13572  1 001353   001434 710000 1                  TRA     USERRERR

      438    13573    1   USERR7: S_D.ERROR = 18; GOTO USERRERR; /* E@UERR7 */

  13573  1 001354   000022 235007       USERR7       LDA     18,DL
         1 001355   000013 755100                    STA     11,,PR0

  13573  1 001356   001434 710000 1                  TRA     USERRERR

      439    13574    1   USERR8: S_D.ERROR = 19; GOTO USERRERR; /* E@UERR8 */

  13574  1 001357   000023 235007       USERR8       LDA     19,DL
         1 001360   000013 755100                    STA     11,,PR0

  13574  1 001361   001434 710000 1                  TRA     USERRERR

      440    13575    1   USERR341: S_D.ERROR = 341; GOTO USERRERR; /* E@UERR341 */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:185  
  13575  1 001362   000525 235007       USERR341     LDA     341,DL
         1 001363   000013 755100                    STA     11,,PR0

  13575  1 001364   001434 710000 1                  TRA     USERRERR

      441    13576    1   UDERR1: S_D.ERROR = 501; GOTO USERRERR; /* E@DERR1 */

  13576  1 001365   000765 235007       UDERR1       LDA     501,DL
         1 001366   000013 755100                    STA     11,,PR0

  13576  1 001367   001434 710000 1                  TRA     USERRERR

      442    13577    1   USERIF: S_D.ERROR = 56; GOTO USERRERR; /* E@NOTIFSPEC */

  13577  1 001370   000070 235007       USERIF       LDA     56,DL
         1 001371   000013 755100                    STA     11,,PR0

  13577  1 001372   001434 710000 1                  TRA     USERRERR

      443    13578    1   USERAT: S_D.ERROR = 47; GOTO USERRERR; /* E@NOTATT */

  13578  1 001373   000057 236007       USERAT       LDQ     47,DL
         1 001374   000013 756100                    STQ     11,,PR0

  13578  1 001375   001434 710000 1                  TRA     USERRERR

      444    13579    1   USEROV: S_D.ERROR = 117; GOTO USERRERR; /* E@NOT_OVERLAID */

  13579  1 001376   000165 235007       USEROV       LDA     117,DL
         1 001377   000013 755100                    STA     11,,PR0

  13579  1 001400   001434 710000 1                  TRA     USERRERR

      445    13580    1   USERPA: S_D.ERROR = 115; GOTO USERRERR; /* E@NOT_IN_PATCH */

  13580  1 001401   000163 235007       USERPA       LDA     115,DL
         1 001402   000013 755100                    STA     11,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:186  

  13580  1 001403   001434 710000 1                  TRA     USERRERR

      446    13581    1   USERNBA: S_D.ERROR = 254; GOTO USERRERR; /* E@NOTBATCH */

  13581  1 001404   000376 235007       USERNBA      LDA     254,DL
         1 001405   000013 755100                    STA     11,,PR0

  13581  1 001406   001434 710000 1                  TRA     USERRERR

      447    13582    1   USERNRU: S_D.ERROR = 124; GOTO USERRERR; /* E@NOTRUM */

  13582  1 001407   000174 235007       USERNRU      LDA     124,DL
         1 001410   000013 755100                    STA     11,,PR0

  13582  1 001411   001434 710000 1                  TRA     USERRERR

      448    13583    1   USERNDE: S_D.ERROR = 125; GOTO USERRERR; /* E@NOTDELTA */

  13583  1 001412   000175 235007       USERNDE      LDA     125,DL
         1 001413   000013 755100                    STA     11,,PR0

  13583  1 001414   001434 710000 1                  TRA     USERRERR

      449    13584    1   USERNAN: S_D.ERROR = 250; GOTO USERRERR; /* E@NOTANLZMODE */

  13584  1 001415   000372 235007       USERNAN      LDA     250,DL
         1 001416   000013 755100                    STA     11,,PR0

  13584  1 001417   001434 710000 1                  TRA     USERRERR

      450    13585    1   USERL6XDELTA: S_D.ERROR = 329; GOTO USERRERR; /* E@NOTL6XDELTA */

  13585  1 001420   000511 235007       USERL6XDELTA LDA     329,DL
         1 001421   000013 755100                    STA     11,,PR0

  13585  1 001422   001434 710000 1                  TRA     USERRERR
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:187  

      451    13586    1   USERNFEPXDELTA: S_D.ERROR = 335; GOTO USERRERR; /* E@FEPXDELTAONLY */

  13586  1 001423   000517 236007       USERNFEPXDE* LDQ     335,DL
         1 001424   000013 756100                    STQ     11,,PR0

  13586  1 001425   001434 710000 1                  TRA     USERRERR

      452    13587    1   USERNFS: S_D.ERROR = 345; GOTO USERRERR; /* E@NOFPRGSSTOP */

  13587  1 001426   000531 235007       USERNFS      LDA     345,DL
         1 001427   000013 755100                    STA     11,,PR0

  13587  1 001430   001434 710000 1                  TRA     USERRERR

      453    13588    1   USERNHOST: S_D.ERROR = 347; GOTO USERRERR; /* E@CMD_ONLY_FPRG */

  13588  1 001431   000533 235007       USERNHOST    LDA     347,DL
         1 001432   000013 755100                    STA     11,,PR0

  13588  1 001433   001434 710000 1                  TRA     USERRERR

      454    13589
      455    13590    1   USERRERR:
      456    13591    1        ALTRETURN;

  13591  1 001434   000000 702200 xent  USERRERR     TSX2  ! X66_AALT

      457    13592
      458    13593        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:188  
      459    13594        /*F* NAME: DDS$BLD_ACTIVE
      460    13595             PURPOSE: TO BUILD THE ACTIVE COMMAND.
      461    13596             DESCRIPTION: BUILDS THE ACTIVE COMMAND. */
      462    13597        /*D* NAME: DDS$BLD_ACTIVE
      463    13598             CALL: CALL DDS$BLD_ACTIVE ALTRET( ERROR );
      464    13599             INTERFACE: DDS$ATTDIRA
      465    13600             ENVIRONMENT: DDS$SCAN ACTIVE
      466    13601             INPUT: NCMD$ - PTR TO "ACTIVE" NODE.
      467    13602             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      468    13603             SCRATCH: LOCAL AUTO ONLY.
      469    13604             DESCRIPTION: */
      470    13605
      471    13606    1   DDS$BLD_ACTIVE: PROC ALTRET;

  13606  1 001435   200012 741300       DDS$BLD_ACT* STX1  ! ZITEM$+3,,AUTO

      472    13607
      473    13608    2   DCL N$ PTR;
      474    13609    2   DCL V UBIN;
      475    13610    2   DCL V1 UBIN;
      476    13611    2   DCL T1 UBIN;
      477    13612        %ACTIVE$CMD (NAME=ACTIVE$CMD,STCLASS="BASED(LASTBLT$)");
      478    13625
      479    13626    2        T1 = 19;                     /* C_ACTIVE */

  13626  1 001436   000023 235007                    LDA     19,DL
         1 001437   200016 755100                    STA     T1,,AUTO

      480    13627    2        GOTO SETUP;

  13627  1 001440   001461 710000 1                  TRA     SETUP

      481    13628
      482    13629    2   DDS$BLD_INACTIVE: ENTRY ALTRET;

  13629  1 001441   200012 741300       DDS$BLD_INA* STX1  ! ZITEM$+3,,AUTO

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:189  
      483    13630
      484    13631    2        T1 = 50;                   /* C_INACTIVE */

  13631  1 001442   000062 235007                    LDA     50,DL
         1 001443   200016 755100                    STA     T1,,AUTO

      485    13632    2        GOTO SETUP;

  13632  1 001444   001461 710000 1                  TRA     SETUP

      486    13633
      487    13634    2   DDS$BLD_SILENT: ENTRY ALTRET;

  13634  1 001445   200012 741300       DDS$BLD_SIL* STX1  ! ZITEM$+3,,AUTO

      488    13635
      489    13636    2        T1 = 51;                     /* C_SILENT */

  13636  1 001446   000063 235007                    LDA     51,DL
         1 001447   200016 755100                    STA     T1,,AUTO

      490    13637    2        GOTO SETUP;

  13637  1 001450   001461 710000 1                  TRA     SETUP

      491    13638
      492    13639    2   DDS$BLD_UNSILENT: ENTRY ALTRET;

  13639  1 001451   200012 741300       DDS$BLD_UNS* STX1  ! ZITEM$+3,,AUTO

      493    13640
      494    13641    2        T1 = 52;                   /* C_UNSILENT */

  13641  1 001452   000064 235007                    LDA     52,DL
         1 001453   200016 755100                    STA     T1,,AUTO

      495    13642    2        GOTO SETUP;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:190  

  13642  1 001454   001461 710000 1                  TRA     SETUP

      496    13643
      497    13644    2   DDS$BLD_LIST: ENTRY ALTRET;

  13644  1 001455   200012 741300       DDS$BLD_LIST STX1  ! ZITEM$+3,,AUTO

      498    13645
      499    13646    2        T1 = 62;                       /* C_LIST */

  13646  1 001456   000076 235007                    LDA     62,DL
         1 001457   200016 755100                    STA     T1,,AUTO

      500    13647    2        GOTO SETUP;

  13647  1 001460   001461 710000 1                  TRA     SETUP

      501    13648
      502    13649    2   SETUP:
      503    13650    2        CALL DDS$ATTDIRA( SIZEW( ACTIVE$CMD ), T1 ) ALTRET( ARET );

  13650  1 001461   200016 630500       SETUP        EPPR0   T1,,AUTO
         1 001462   200051 450500                    STP0    @ND_PTR+2,,AUTO
         1 001463   000000 236000 2                  LDQ     0
         1 001464   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 001465   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 001466   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 001467   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 001470   001605 702000 1                  TSX2    ARET

      504    13651    2        ACTIVE$CMD.ID_FROM = 0;

  13651  1 001471   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 001472   000000 236003                    LDQ     0,DU
         1 001473   000001 552140                    STBQ    1,'40'O,PR0

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:191  
      505    13652    2        ACTIVE$CMD.ID_TO = 0;

  13652  1 001474   000001 552120                    STBQ    1,'20'O,PR0

      506    13653    2        ACTIVE$CMD.LIST_ALL = '0'B;

  13653  1 001475   000001 236000 2                  LDQ     1
         1 001476   000001 356100                    ANSQ    1,,PR0

      507    13654    3        IF NCMD$->POB.NSB = 0 AND T1=62 THEN DO;

  13654  1 001477   200004 471500                    LDP1    NCMD$,,AUTO
         1 001500   100001 220100                    LDX0    1,,PR1
         1 001501   001511 601000 1                  TNZ     s:13658
         1 001502   200016 235100                    LDA     T1,,AUTO
         1 001503   000076 115007                    CMPA    62,DL
         1 001504   001511 601000 1                  TNZ     s:13658

      508    13655    3             ACTIVE$CMD.LIST_ALL = '1'B;

  13655  1 001505   400000 236007                    LDQ     -131072,DL
         1 001506   000001 256100                    ORSQ    1,,PR0

      509    13656    3             RETURN;

  13656  1 001507   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 001510   000001 702211                    TSX2  ! 1,X1

      510    13657    3           END;
      511    13658    2        N$ = NCMD$ -> POB.SUBLK$( 0 );

  13658  1 001511   100003 236100                    LDQ     3,,PR1
         1 001512   200013 756100                    STQ     N$,,AUTO

      512    13659    2        CALL DDS$DECIMAL( N$ -> POB.SUBLK$( 0 ), V ) ALTRET( ARET );

  13659  1 001513   200014 633500                    EPPR3   V,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:192  
         1 001514   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 001515   000003 036003                    ADLQ    3,DU
         1 001516   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 001517   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 001520   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 001521   000000 701000 xent               TSX1    DDS$DECIMAL
         1 001522   001605 702000 1                  TSX2    ARET

      513    13660    2        ACTIVE$CMD.ID_FROM = V;

  13660  1 001523   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 001524   200014 236100                    LDQ     V,,AUTO
         1 001525   000033 736000                    QLS     27
         1 001526   000001 552140                    STBQ    1,'40'O,PR0

      514    13661    2        ACTIVE$CMD.ID_TO = V;

  13661  1 001527   200014 236100                    LDQ     V,,AUTO
         1 001530   000022 736000                    QLS     18
         1 001531   000001 552120                    STBQ    1,'20'O,PR0

      515    13662    2       IF (( V < 1 ) OR ( V > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1 )) AND T1~=62
             13662                 THEN GOTO ERR1;

  13662  1 001532   200014 235100                    LDA     V,,AUTO
         1 001533   001536 600000 1                  TZE     s:13662+4
         1 001534   000454 115007                    CMPA    300,DL
         1 001535   001541 602000 1                  TNC     s:13663
         1 001536   200016 236100                    LDQ     T1,,AUTO
         1 001537   000076 116007                    CMPQ    62,DL
         1 001540   001602 601000 1                  TNZ     ERR1

      516    13663    2        IF ( N$ -> POB.NSB > 1 )

  13663  1 001541   200013 471500                    LDP1    N$,,AUTO
         1 001542   100001 220100                    LDX0    1,,PR1
         1 001543   000002 100003                    CMPX0   2,DU
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:193  
         1 001544   001574 602000 1                  TNC     s:13671

      517    13664    3        THEN DO;

      518    13665    3             CALL DDS$DECIMAL( N$ -> POB.SUBLK$( 1 ), V1 ) ALTRET( ARET );

  13665  1 001545   200015 633500                    EPPR3   V1,,AUTO
         1 001546   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 001547   200013 236100                    LDQ     N$,,AUTO
         1 001550   000004 036003                    ADLQ    4,DU
         1 001551   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 001552   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 001553   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 001554   000000 701000 xent               TSX1    DDS$DECIMAL
         1 001555   001605 702000 1                  TSX2    ARET

      519    13666    3             ACTIVE$CMD.ID_TO = V1;

  13666  1 001556   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 001557   200015 236100                    LDQ     V1,,AUTO
         1 001560   000022 736000                    QLS     18
         1 001561   000001 552120                    STBQ    1,'20'O,PR0

      520    13667    3            IF (( V1 < 1 ) OR ( V1 > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1 )) AND
             13667                      T1~=62 THEN GOTO ERR1;

  13667  1 001562   200015 235100                    LDA     V1,,AUTO
         1 001563   001566 600000 1                  TZE     s:13667+4
         1 001564   000454 115007                    CMPA    300,DL
         1 001565   001571 602000 1                  TNC     s:13668
         1 001566   200016 236100                    LDQ     T1,,AUTO
         1 001567   000076 116007                    CMPQ    62,DL
         1 001570   001602 601000 1                  TNZ     ERR1

      521    13668    3             IF ( V1 < V ) THEN GOTO EFTO;

  13668  1 001571   200015 236100                    LDQ     V1,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:194  
         1 001572   200014 116100                    CMPQ    V,,AUTO
         1 001573   001576 602000 1                  TNC     EFTO

      522    13669    3           END;

      523    13670
      524    13671    2        RETURN;

  13671  1 001574   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 001575   000001 702211                    TSX2  ! 1,X1

      525    13672
      526    13673    2   EFTO: S_D.ERROR = 63; GOTO ARET; /* E@FROM_TO */

  13673  1 001576   000077 235007       EFTO         LDA     63,DL
         1 001577   000000 471400 xsym               LDP1    S_D$
         1 001600   100013 755100                    STA     11,,PR1

  13673  1 001601   001605 710000 1                  TRA     ARET

      527    13674    2   ERR1: S_D.ERROR = 12;              /* E@UERR1 */

  13674  1 001602   000014 235007       ERR1         LDA     12,DL
         1 001603   000000 471400 xsym               LDP1    S_D$
         1 001604   100013 755100                    STA     11,,PR1

      528    13675
      529    13676    2   ARET: ALTRETURN;

  13676  1 001605   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 001606   000000 702211                    TSX2  ! 0,X1

      530    13677
      531    13678    2   END DDS$BLD_ACTIVE;
      532    13679        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:195  
      533    13680        /*F* NAME: DDS$BLD_ALIB
      534    13681             PURPOSE: TO BUILD THE ALIB COMMAND.
      535    13682             DESCRIPTION: BUILDS THE ALIB COMMAND. */
      536    13683        /*D* NAME: DDS$BLD_ALIB
      537    13684             CALL: CALL DDS$BLD_ALIB ALTRET( ERROR );
      538    13685             INTERFACE: DDS$ATTDIRA
      539    13686             ENVIRONMENT: DDS$SCAN ACTIVE
      540    13687             INPUT: NCMD$ - PTR TO "ALIB" NODE.
      541    13688             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      542    13689             SCRATCH: LOCAL AUTO ONLY.
      543    13690             DESCRIPTION: */
      544    13691
      545    13692    1   DDS$BLD_ALIB: PROC ALTRET;

  13692  1 001607   200012 741300       DDS$BLD_ALIB STX1  ! ZITEM$+3,,AUTO

      546    13693
      547    13694    2   DCL NSB SBIN;
      548    13695    2   DCL IX SBIN;
      549    13696    2   DCL CODE SBIN;
      550    13697    2   DCL NC$ PTR;
      551    13698        %ALIB$CMD (NAME=ALIB$CMD,STCLASS="BASED(LASTBLT$)");
      552    13710
      553    13711    2        CALL DDS$ATTDIRA( SIZEW( ALIB$CMD ), 58 ) ALTRET( ARET ); /* C_ALIB */

  13711  1 001610   000003 630400 2                  EPPR0   3
         1 001611   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 001612   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 001613   001663 702000 1                  TSX2    ARET

      554    13712    2        NSB = NCMD$ -> POB.NSB - 1;

  13712  1 001614   200004 470500                    LDP0    NCMD$,,AUTO
         1 001615   000001 236100                    LDQ     1,,PR0
         1 001616   000022 772000                    QRL     18
         1 001617   000001 136007                    SBLQ    1,DL
         1 001620   200013 756100                    STQ     NSB,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:196  

      555    13713    3        DO IX = 0 TO NSB;

  13713  1 001621   200014 450100                    STZ     IX,,AUTO
         1 001622   001656 710000 1                  TRA     s:13724+1

      556    13714    3             NC$ = NCMD$ -> POB.SUBLK$( IX );

  13714  1 001623   200004 470500                    LDP0    NCMD$,,AUTO
         1 001624   200014 720100                    LXL0    IX,,AUTO
         1 001625   000003 236110                    LDQ     3,X0,PR0
         1 001626   200016 756100                    STQ     NC$,,AUTO

      557    13715    3             CODE = NC$ -> POB.CODE;

  13715  1 001627   200016 471500                    LDP1    NC$,,AUTO
         1 001630   100000 236100                    LDQ     0,,PR1
         1 001631   777777 376007                    ANQ     -1,DL
         1 001632   200015 756100                    STQ     CODE,,AUTO

      558    13716    3             IF ( CODE = 85 ) OR ( CODE = 86 ) /* C@RETURN, C@ALTRETURN */

  13716  1 001633   000125 116007                    CMPQ    85,DL
         1 001634   001637 600000 1                  TZE     s:13717
         1 001635   000126 116007                    CMPQ    86,DL
         1 001636   001643 601000 1                  TNZ     s:13718

      559    13717    3             THEN ALIB$CMD.CODE = CODE;

  13717  1 001637   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 001640   000033 736000                    QLS     27
         1 001641   300001 552140                    STBQ    1,'40'O,PR3
         1 001642   001655 710000 1                  TRA     s:13724

      560    13718    3             ELSE IF CODE = 53         /* C@KEEP */

  13718  1 001643   000065 116007                    CMPQ    53,DL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:197  
         1 001644   001651 601000 1                  TNZ     s:13721

      561    13719    3                  THEN ALIB$CMD.SUBCODE = CODE; /* C@KEEP */

  13719  1 001645   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 001646   000022 736000                    QLS     18
         1 001647   300001 552120                    STBQ    1,'20'O,PR3
         1 001650   001655 710000 1                  TRA     s:13724

      562    13720    4                  ELSE DO;

      563    13721    4                       S_D.ERROR = 501; /* E@DERR1 */

  13721  1 001651   000765 235007                    LDA     501,DL
         1 001652   000000 473400 xsym               LDP3    S_D$
         1 001653   300013 755100                    STA     11,,PR3

      564    13722    4                       GOTO ARET;

  13722  1 001654   001663 710000 1                  TRA     ARET

      565    13723    4                     END;
      566    13724    3           END;

  13724  1 001655   200014 054100                    AOS     IX,,AUTO
         1 001656   200014 236100                    LDQ     IX,,AUTO
         1 001657   200013 116100                    CMPQ    NSB,,AUTO
         1 001660   001623 604400 1                  TMOZ    s:13714

      567    13725
      568    13726    2        RETURN;

  13726  1 001661   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 001662   000001 702211                    TSX2  ! 1,X1

      569    13727
      570    13728    2   ARET: ALTRETURN;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:198  

  13728  1 001663   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 001664   000000 702211                    TSX2  ! 0,X1

      571    13729
      572    13730    2   END DDS$BLD_ALIB;
      573    13731        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:199  
      574    13732        /*F* NAME: DDS$BLD_ALTVAR
      575    13733             PURPOSE: TO BUILD THE ALTVAR COMMAND.
      576    13734             DESCRIPTION: BUILDS THE ALTVAR COMMAND. */
      577    13735        /*D* NAME: DDS$BLD_ALTVAR
      578    13736             CALL: CALL DDS$BLD_ALTVAR ALTRET( ERROR );
      579    13737             ENVIRONMENT: DDS$SCAN ACTIVE
      580    13738             INPUT: NCMD$ - PTR TO "ALTVAR" NODE.
      581    13739             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      582    13740             SCRATCH: LOCAL AUTO ONLY.
      583    13741             DESCRIPTION: */
      584    13742
      585    13743    1   DDS$BLD_ALTVAR: PROC ALTRET;

  13743  1 001665   200012 741300       DDS$BLD_ALT* STX1  ! ZITEM$+3,,AUTO

      586    13744
      587    13745    2   DCL V UBIN;
      588    13746    2   DCL T$ PTR;
      589    13747        %DEF$CMD (NAME=ALTVAR$CMD,STCLASS="BASED(LASTBLT$)");
      590    13761
      591    13762    2        CALL DDS$ATTDIRA( SIZEW( ALTVAR$CMD ), 74 ) ALTRET( ARET ); /* C_ALTVAR */

  13762  1 001666   000006 630400 2                  EPPR0   6
         1 001667   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 001670   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 001671   001727 702000 1                  TSX2    ARET

      592    13763    2        IF NCMD$ -> POB.NSB > 0

  13763  1 001672   200004 470500                    LDP0    NCMD$,,AUTO
         1 001673   000001 220100                    LDX0    1,,PR0
         1 001674   001725 600000 1                  TZE     s:13777

      593    13764    3        THEN DO;

      594    13765    3             ALTVAR$CMD.ALTVAR = '1'B;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:200  
  13765  1 001675   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 001676   400000 236003                    LDQ     -131072,DU
         1 001677   100001 256100                    ORSQ    1,,PR1

      595    13766    3             T$ = NCMD$ -> POB.SUBLK$( 0 ) -> POB.SUBLK$( 0 );

  13766  1 001700   000003 473500                    LDP3    3,,PR0
         1 001701   300003 236100                    LDQ     3,,PR3
         1 001702   200014 756100                    STQ     T$,,AUTO

      596    13767    3             V = T$ -> TEXT$C.SIZE;

  13767  1 001703   200014 474500                    LDP4    T$,,AUTO
         1 001704   400000 236100                    LDQ     0,,PR4
         1 001705   000033 772000                    QRL     27
         1 001706   200013 756100                    STQ     V,,AUTO

      597    13768    3             IF V > LENGTHC( ALTVAR$CMD.TEXTC.TEXT )

  13768  1 001707   000040 116007                    CMPQ    32,DL
         1 001710   001715 602000 1                  TNC     s:13773

      598    13769    4             THEN DO;

      599    13770    4                  S_D.ERROR = 48;  /* E@SYM2LONG */

  13770  1 001711   000060 235007                    LDA     48,DL
         1 001712   000000 475400 xsym               LDP5    S_D$
         1 001713   500013 755100                    STA     11,,PR5

      600    13771    4                  GOTO ARET;

  13771  1 001714   001727 710000 1                  TRA     ARET

      601    13772    4                END;
      602    13773    3             ALTVAR$CMD.TEXTC.SIZE = V;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:201  
  13773  1 001715   000033 736000                    QLS     27
         1 001716   100002 552140                    STBQ    2,'40'O,PR1

      603    13774    3             ALTVAR$CMD.TEXTC.TEXT = T$ -> TEXT$C.TXT;

  13774  1 001717   400000 236100                    LDQ     0,,PR4
         1 001720   000033 772000                    QRL     27
         1 001721   000000 620006                    EAX0    0,QL
         1 001722   040100 100540                    MLR     fill='040'O
         1 001723   400000 200010                    ADSC9   0,,PR4                   cn=1,n=*X0
         1 001724   100002 200037                    ADSC9   2,,PR1                   cn=1,n=31

      604    13775    3           END;

      605    13776
      606    13777    2        RETURN;

  13777  1 001725   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 001726   000001 702211                    TSX2  ! 1,X1

      607    13778
      608    13779    2   ARET: ALTRETURN;

  13779  1 001727   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 001730   000000 702211                    TSX2  ! 0,X1

      609    13780
      610    13781    2   END DDS$BLD_ALTVAR;
      611    13782        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:202  
      612    13783        /*F* NAME: DDS$BLD_ANLZ
      613    13784             PURPOSE: TO BUILD THE ANLZ COMMAND.
      614    13785             DESCRIPTION: BUILDS THE ANLZ COMMAND. */
      615    13786        /*D* NAME: DDS$BLD_ANLZ
      616    13787             CALL: CALL DDS$BLD_ANLZ ALTRET( ERROR );
      617    13788             INTERFACE: DDS$ATTDIRA
      618    13789             ENVIRONMENT: DDS$SCAN ACTIVE
      619    13790             INPUT: NCMD$ - PTR TO "ANLZ" NODE.
      620    13791             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      621    13792             SCRATCH: LOCAL AUTO ONLY.
      622    13793             DESCRIPTION: */
      623    13794
      624    13795    1   DDS$BLD_ANLZ: PROC ALTRET;

  13795  1 001731   200012 741300       DDS$BLD_ANLZ STX1  ! ZITEM$+3,,AUTO

      625    13796
      626    13797    2   DCL NSB SBIN;
      627    13798    2   DCL IX SBIN;
      628    13799    2   DCL CODE SBIN;
      629    13800    2   DCL SIZE UBIN;
      630    13801    2   DCL TEXT$ PTR;
      631    13802    2   DCL NC$ PTR;
      632    13803    2   DCL I UBIN;
      633    13804    2   DCL NCC$ PTR;
      634    13805    2   DCL NCD UBIN;
      635    13806    2   DCL FEP# UBIN;
      636    13807    2   DCL CHAR2 CHAR(2) ALIGNED;
      637    13808        %ANLZ$CMD (NAME=ANLZ$CMD,STCLASS="BASED(LASTBLT$)");
      638    13831
      639    13832    2        CALL DDS$ATTDIRA( SIZEW( ANLZ$CMD ), 59 ) ALTRET( ARET ); /* C_ANLZ */

  13832  1 001732   000012 630400 2                  EPPR0   10
         1 001733   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 001734   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 001735   002341 702000 1                  TSX2    ARET

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:203  
      640    13833    2        NSB = NCMD$ -> POB.NSB - 1;

  13833  1 001736   200004 470500                    LDP0    NCMD$,,AUTO
         1 001737   000001 236100                    LDQ     1,,PR0
         1 001740   000022 772000                    QRL     18
         1 001741   000001 136007                    SBLQ    1,DL
         1 001742   200013 756100                    STQ     NSB,,AUTO

      641    13834    2        ANLZ$CMD.RUNNING = '0'B;

  13834  1 001743   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 001744   000014 236000 2                  LDQ     12
         1 001745   100001 356100                    ANSQ    1,,PR1

      642    13835    2        ANLZ$CMD.FILE = '0'B;

  13835  1 001746   000031 236000 xsym               LDQ     B_VECTNIL+25
         1 001747   100001 356100                    ANSQ    1,,PR1

      643    13836    2        ANLZ$CMD.FILESCH = '0'B;

  13836  1 001750   000015 236000 2                  LDQ     13
         1 001751   100001 356100                    ANSQ    1,,PR1

      644    13837    3        DO IX = 0 TO NSB;

  13837  1 001752   200014 450100                    STZ     IX,,AUTO
         1 001753   002325 710000 1                  TRA     s:13886+1

      645    13838    3             NC$ = NCMD$ -> POB.SUBLK$( IX );

  13838  1 001754   200004 470500                    LDP0    NCMD$,,AUTO
         1 001755   200014 720100                    LXL0    IX,,AUTO
         1 001756   000003 236110                    LDQ     3,X0,PR0
         1 001757   200020 756100                    STQ     NC$,,AUTO

      646    13839    3             CODE = NC$ -> POB.CODE;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:204  

  13839  1 001760   200020 471500                    LDP1    NC$,,AUTO
         1 001761   100000 236100                    LDQ     0,,PR1
         1 001762   777777 376007                    ANQ     -1,DL
         1 001763   200015 756100                    STQ     CODE,,AUTO

      647    13840    4             DO CASE (CODE);

  13840  1 001764   000011 136007                    SBLQ    9,DL
         1 001765   000156 116007                    CMPQ    110,DL
         1 001766   001770 602006 1                  TNC     s:13840+4,QL
         1 001767   002320 710000 1                  TRA     s:13883
         1 001770   002324 710000 1                  TRA     s:13886
         1 001771   002320 710000 1                  TRA     s:13883
         1 001772   002320 710000 1                  TRA     s:13883
         1 001773   002320 710000 1                  TRA     s:13883
         1 001774   002320 710000 1                  TRA     s:13883
         1 001775   002320 710000 1                  TRA     s:13883
         1 001776   002320 710000 1                  TRA     s:13883
         1 001777   002320 710000 1                  TRA     s:13883
         1 002000   002320 710000 1                  TRA     s:13883
         1 002001   002320 710000 1                  TRA     s:13883
         1 002002   002320 710000 1                  TRA     s:13883
         1 002003   002320 710000 1                  TRA     s:13883
         1 002004   002320 710000 1                  TRA     s:13883
         1 002005   002320 710000 1                  TRA     s:13883
         1 002006   002320 710000 1                  TRA     s:13883
         1 002007   002320 710000 1                  TRA     s:13883
         1 002010   002320 710000 1                  TRA     s:13883
         1 002011   002320 710000 1                  TRA     s:13883
         1 002012   002320 710000 1                  TRA     s:13883
         1 002013   002320 710000 1                  TRA     s:13883
         1 002014   002320 710000 1                  TRA     s:13883
         1 002015   002320 710000 1                  TRA     s:13883
         1 002016   002320 710000 1                  TRA     s:13883
         1 002017   002320 710000 1                  TRA     s:13883
         1 002020   002320 710000 1                  TRA     s:13883
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:205  
         1 002021   002320 710000 1                  TRA     s:13883
         1 002022   002320 710000 1                  TRA     s:13883
         1 002023   002320 710000 1                  TRA     s:13883
         1 002024   002320 710000 1                  TRA     s:13883
         1 002025   002320 710000 1                  TRA     s:13883
         1 002026   002320 710000 1                  TRA     s:13883
         1 002027   002320 710000 1                  TRA     s:13883
         1 002030   002320 710000 1                  TRA     s:13883
         1 002031   002320 710000 1                  TRA     s:13883
         1 002032   002320 710000 1                  TRA     s:13883
         1 002033   002320 710000 1                  TRA     s:13883
         1 002034   002320 710000 1                  TRA     s:13883
         1 002035   002320 710000 1                  TRA     s:13883
         1 002036   002320 710000 1                  TRA     s:13883
         1 002037   002320 710000 1                  TRA     s:13883
         1 002040   002320 710000 1                  TRA     s:13883
         1 002041   002320 710000 1                  TRA     s:13883
         1 002042   002320 710000 1                  TRA     s:13883
         1 002043   002320 710000 1                  TRA     s:13883
         1 002044   002320 710000 1                  TRA     s:13883
         1 002045   002320 710000 1                  TRA     s:13883
         1 002046   002320 710000 1                  TRA     s:13883
         1 002047   002320 710000 1                  TRA     s:13883
         1 002050   002320 710000 1                  TRA     s:13883
         1 002051   002320 710000 1                  TRA     s:13883
         1 002052   002320 710000 1                  TRA     s:13883
         1 002053   002320 710000 1                  TRA     s:13883
         1 002054   002320 710000 1                  TRA     s:13883
         1 002055   002320 710000 1                  TRA     s:13883
         1 002056   002320 710000 1                  TRA     s:13883
         1 002057   002320 710000 1                  TRA     s:13883
         1 002060   002320 710000 1                  TRA     s:13883
         1 002061   002320 710000 1                  TRA     s:13883
         1 002062   002320 710000 1                  TRA     s:13883
         1 002063   002320 710000 1                  TRA     s:13883
         1 002064   002320 710000 1                  TRA     s:13883
         1 002065   002320 710000 1                  TRA     s:13883
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:206  
         1 002066   002320 710000 1                  TRA     s:13883
         1 002067   002320 710000 1                  TRA     s:13883
         1 002070   002320 710000 1                  TRA     s:13883
         1 002071   002320 710000 1                  TRA     s:13883
         1 002072   002320 710000 1                  TRA     s:13883
         1 002073   002320 710000 1                  TRA     s:13883
         1 002074   002320 710000 1                  TRA     s:13883
         1 002075   002320 710000 1                  TRA     s:13883
         1 002076   002320 710000 1                  TRA     s:13883
         1 002077   002320 710000 1                  TRA     s:13883
         1 002100   002320 710000 1                  TRA     s:13883
         1 002101   002320 710000 1                  TRA     s:13883
         1 002102   002320 710000 1                  TRA     s:13883
         1 002103   002320 710000 1                  TRA     s:13883
         1 002104   002320 710000 1                  TRA     s:13883
         1 002105   002320 710000 1                  TRA     s:13883
         1 002106   002320 710000 1                  TRA     s:13883
         1 002107   002320 710000 1                  TRA     s:13883
         1 002110   002320 710000 1                  TRA     s:13883
         1 002111   002320 710000 1                  TRA     s:13883
         1 002112   002320 710000 1                  TRA     s:13883
         1 002113   002320 710000 1                  TRA     s:13883
         1 002114   002320 710000 1                  TRA     s:13883
         1 002115   002320 710000 1                  TRA     s:13883
         1 002116   002146 710000 1                  TRA     s:13844
         1 002117   002157 710000 1                  TRA     s:13848
         1 002120   002177 710000 1                  TRA     s:13855
         1 002121   002320 710000 1                  TRA     s:13883
         1 002122   002320 710000 1                  TRA     s:13883
         1 002123   002320 710000 1                  TRA     s:13883
         1 002124   002320 710000 1                  TRA     s:13883
         1 002125   002320 710000 1                  TRA     s:13883
         1 002126   002320 710000 1                  TRA     s:13883
         1 002127   002320 710000 1                  TRA     s:13883
         1 002130   002320 710000 1                  TRA     s:13883
         1 002131   002320 710000 1                  TRA     s:13883
         1 002132   002320 710000 1                  TRA     s:13883
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:207  
         1 002133   002320 710000 1                  TRA     s:13883
         1 002134   002320 710000 1                  TRA     s:13883
         1 002135   002320 710000 1                  TRA     s:13883
         1 002136   002320 710000 1                  TRA     s:13883
         1 002137   002320 710000 1                  TRA     s:13883
         1 002140   002320 710000 1                  TRA     s:13883
         1 002141   002320 710000 1                  TRA     s:13883
         1 002142   002320 710000 1                  TRA     s:13883
         1 002143   002320 710000 1                  TRA     s:13883
         1 002144   002320 710000 1                  TRA     s:13883
         1 002145   002217 710000 1                  TRA     s:13862

      648    13841    4               CASE (9);           /* C@RUNNING */

      649    13842    4                  ;
      650    13843    4               CASE (95);                 /* C@@ */

      651    13844    4                  ANLZ$CMD.RUNNING = '1'B;

  13844  1 002146   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 002147   100000 236003                    LDQ     32768,DU
         1 002150   300001 256100                    ORSQ    1,,PR3

      652    13845    4                  ANLZ$CMD.FID.SIZE = LENGTHC('@');

  13845  1 002151   001000 236003                    LDQ     512,DU
         1 002152   300002 552140                    STBQ    2,'40'O,PR3

      653    13846    4                  ANLZ$CMD.FID.TEXT = '@';

  13846  1 002153   040100 100400                    MLR     fill='040'O
         1 002154   000016 000001 2                  ADSC9   14                       cn=0,n=1
         1 002155   300002 200077                    ADSC9   2,,PR3                   cn=1,n=63
         1 002156   002324 710000 1                  TRA     s:13886

      654    13847    4               CASE (96);             /* C@AFID1 */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:208  
      655    13848    4                  ANLZ$CMD.FILE = '1'B;

  13848  1 002157   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 002160   400000 236003                    LDQ     -131072,DU
         1 002161   300001 256100                    ORSQ    1,,PR3

      656    13849    4                  TEXT$ = NC$ -> POB.SUBLK$ (0);

  13849  1 002162   100003 236100                    LDQ     3,,PR1
         1 002163   200017 756100                    STQ     TEXT$,,AUTO

      657    13850    4                  SIZE = TEXT$ -> TEXT$C.SIZE;

  13850  1 002164   200017 474500                    LDP4    TEXT$,,AUTO
         1 002165   400000 236100                    LDQ     0,,PR4
         1 002166   000033 772000                    QRL     27
         1 002167   200016 756100                    STQ     SIZE,,AUTO

      658    13851    4                  IF SIZE > LENGTHC(ANLZ$CMD.FID.TEXT)

  13851  1 002170   000100 116007                    CMPQ    64,DL
         1 002171   002336 603000 1                  TRC     ERRTL

      659    13852    4                  THEN GOTO ERRTL;
      660    13853    4                  ANLZ$CMD.FID = TEXT$ -> TEXT$C;

  13853  1 002172   000001 621006                    EAX1    1,QL
         1 002173   000100 100540                    MLR     fill='000'O
         1 002174   400000 000011                    ADSC9   0,,PR4                   cn=0,n=*X1
         1 002175   300002 000100                    ADSC9   2,,PR3                   cn=0,n=64
         1 002176   002324 710000 1                  TRA     s:13886

      661    13854    4               CASE (97);             /* C@AFID2 */

      662    13855    4                  ANLZ$CMD.FILESCH = '1'B;

  13855  1 002177   200005 473500                    LDP3    LASTBLT$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:209  
         1 002200   200000 236003                    LDQ     65536,DU
         1 002201   300001 256100                    ORSQ    1,,PR3

      663    13856    4                  TEXT$ = NC$ -> POB.SUBLK$ (0);

  13856  1 002202   100003 236100                    LDQ     3,,PR1
         1 002203   200017 756100                    STQ     TEXT$,,AUTO

      664    13857    4                  SIZE = TEXT$ -> TEXT$C.SIZE;

  13857  1 002204   200017 474500                    LDP4    TEXT$,,AUTO
         1 002205   400000 236100                    LDQ     0,,PR4
         1 002206   000033 772000                    QRL     27
         1 002207   200016 756100                    STQ     SIZE,,AUTO

      665    13858    4                  IF SIZE > LENGTHC(ANLZ$CMD.FIDSCH.TEXT)

  13858  1 002210   000100 116007                    CMPQ    64,DL
         1 002211   002336 603000 1                  TRC     ERRTL

      666    13859    4                  THEN GOTO ERRTL;
      667    13860    4                  ANLZ$CMD.FIDSCH = TEXT$ -> TEXT$C;

  13860  1 002212   000001 621006                    EAX1    1,QL
         1 002213   000100 100540                    MLR     fill='000'O
         1 002214   400000 000011                    ADSC9   0,,PR4                   cn=0,n=*X1
         1 002215   300022 000100                    ADSC9   18,,PR3                  cn=0,n=64
         1 002216   002324 710000 1                  TRA     s:13886

      668    13861    4               CASE(118);              /* C@FANLZ */

      669    13862    4                  ANLZ$CMD.FANLZ = '1'B;

  13862  1 002217   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 002220   040000 236003                    LDQ     16384,DU
         1 002221   300001 256100                    ORSQ    1,,PR3

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:210  
      670    13863    5                  DO I = 0 TO NC$ -> POB.NSB - 1;

  13863  1 002222   200021 450100                    STZ     I,,AUTO
         1 002223   002311 710000 1                  TRA     s:13881+3

      671    13864    5                       NCC$ = NC$ -> POB.SUBLK$(I);

  13864  1 002224   200020 470500                    LDP0    NC$,,AUTO
         1 002225   200021 720100                    LXL0    I,,AUTO
         1 002226   000003 236110                    LDQ     3,X0,PR0
         1 002227   200022 756100                    STQ     NCC$,,AUTO

      672    13865    5                       NCD = NCC$ -> POB.CODE;

  13865  1 002230   200022 471500                    LDP1    NCC$,,AUTO
         1 002231   100000 236100                    LDQ     0,,PR1
         1 002232   777777 376007                    ANQ     -1,DL
         1 002233   200023 756100                    STQ     NCD,,AUTO

      673    13866    5                       IF NCD = 8   /* DEC_CODE */

  13866  1 002234   000010 116007                    CMPQ    8,DL
         1 002235   002263 601000 1                  TNZ     s:13874

      674    13867    6                       THEN DO;

      675    13868    6                            CALL DDS$DECIMAL(NCC$, FEP#) ALTRET(ARET);

  13868  1 002236   200024 633500                    EPPR3   FEP#,,AUTO
         1 002237   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 002240   200022 634500                    EPPR4   NCC$,,AUTO
         1 002241   200050 454500                    STP4    @ND_PTR+1,,AUTO
         1 002242   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 002243   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 002244   000000 701000 xent               TSX1    DDS$DECIMAL
         1 002245   002341 702000 1                  TSX2    ARET

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:211  
      676    13869    6                            IF FEP# > 99

  13869  1 002246   200024 235100                    LDA     FEP#,,AUTO
         1 002247   000144 115007                    CMPA    100,DL
         1 002250   002332 603000 1                  TRC     ARETLARG

      677    13870    6                            THEN GOTO ARETLARG;
      678    13871    6                            CALL BINCHAR(CHAR2, FEP#);

  13871  1 002251   000044 773000                    LRL     36
         1 002252   200050 757100                    STAQ    @ND_PTR+1,,AUTO
         1 002253   000100 301500                    BTD
         1 002254   200050 000010                    NDSC9   @ND_PTR+1,,AUTO          cn=0,s=lsgnf,sf=0,n=8
         1 002255   200025 030002                    NDSC9   CHAR2,,AUTO              cn=0,s=nosgn,sf=0,n=2

      679    13872    6                            CALL CONCAT(ANLZ$CMD.RES.RES#, 'FE', CHAR2);

  13872  1 002256   000024 220000 0                  LDX0    UTSX+7
         1 002257   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 002260   000002 740100                    STX0    2,,PR0
         1 002261   200025 221100                    LDX1    CHAR2,,AUTO
         1 002262   000002 441100                    SXL1    2,,PR0

      680    13873    6                          END;

      681    13874    5                       IF NCD = 115      /* DBG_U */

  13874  1 002263   200023 235100                    LDA     NCD,,AUTO
         1 002264   000163 115007                    CMPA    115,DL
         1 002265   002306 601000 1                  TNZ     s:13881

      682    13875    6                       THEN DO;

      683    13876    6                            NCC$ = NCC$ -> POB.SUBLK$(0);

  13876  1 002266   200022 470500                    LDP0    NCC$,,AUTO
         1 002267   000003 236100                    LDQ     3,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:212  
         1 002270   200022 756100                    STQ     NCC$,,AUTO

      684    13877    6                            TEXT$ = NCC$ -> POB.SUBLK$(0);

  13877  1 002271   200022 470500                    LDP0    NCC$,,AUTO
         1 002272   000003 236100                    LDQ     3,,PR0
         1 002273   200017 756100                    STQ     TEXT$,,AUTO

      685    13878    6                            ANLZ$CMD.FIDSCH.SIZE = TEXT$ -> TEXT$C.SIZE;

  13878  1 002274   200017 471500                    LDP1    TEXT$,,AUTO
         1 002275   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 002276   100000 236100                    LDQ     0,,PR1
         1 002277   300022 552140                    STBQ    18,'40'O,PR3

      686    13879    6                            ANLZ$CMD.FIDSCH.TEXT = TEXT$ -> TEXT$C.TXT;

  13879  1 002300   100000 236100                    LDQ     0,,PR1
         1 002301   000033 772000                    QRL     27
         1 002302   000000 620006                    EAX0    0,QL
         1 002303   040100 100540                    MLR     fill='040'O
         1 002304   100000 200010                    ADSC9   0,,PR1                   cn=1,n=*X0
         1 002305   300022 200077                    ADSC9   18,,PR3                  cn=1,n=63

      687    13880    6                          END;

      688    13881    5                     END;

  13881  1 002306   200021 236100                    LDQ     I,,AUTO
         1 002307   000001 036007                    ADLQ    1,DL
         1 002310   200021 756100                    STQ     I,,AUTO
         1 002311   200020 470500                    LDP0    NC$,,AUTO
         1 002312   000001 236100                    LDQ     1,,PR0
         1 002313   000022 772000                    QRL     18
         1 002314   200021 116100                    CMPQ    I,,AUTO
         1 002315   002317 600000 1                  TZE     s:13881+9
         1 002316   002224 603000 1                  TRC     s:13864
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:213  
         1 002317   002324 710000 1                  TRA     s:13886

      689    13882    4               CASE (ELSE);                /* UNKNOWN COMMAND */

      690    13883    4                  S_D.ERROR = 501;     /* E@DERR1 */

  13883  1 002320   000765 235007                    LDA     501,DL
         1 002321   000000 473400 xsym               LDP3    S_D$
         1 002322   300013 755100                    STA     11,,PR3

      691    13884    4                  GOTO ARET;

  13884  1 002323   002341 710000 1                  TRA     ARET

      692    13885    4               END;

      693    13886    3           END;

  13886  1 002324   200014 054100                    AOS     IX,,AUTO
         1 002325   200014 236100                    LDQ     IX,,AUTO
         1 002326   200013 116100                    CMPQ    NSB,,AUTO
         1 002327   001754 604400 1                  TMOZ    s:13838

      694    13887    2        RETURN;

  13887  1 002330   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 002331   000001 702211                    TSX2  ! 1,X1

      695    13888
      696    13889    2   ARETLARG: S_D.ERROR = 46; GOTO ARET; /* E@TOOLARGE */

  13889  1 002332   000056 236007       ARETLARG     LDQ     46,DL
         1 002333   000000 470400 xsym               LDP0    S_D$
         1 002334   000013 756100                    STQ     11,,PR0

  13889  1 002335   002341 710000 1                  TRA     ARET

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:214  
      697    13890    2   ERRTL: S_D.ERROR = 48;          /* E@SYM2LONG */

  13890  1 002336   000060 235007       ERRTL        LDA     48,DL
         1 002337   000000 475400 xsym               LDP5    S_D$
         1 002340   500013 755100                    STA     11,,PR5

      698    13891
      699    13892    2   ARET: ALTRETURN;

  13892  1 002341   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 002342   000000 702211                    TSX2  ! 0,X1

      700    13893
      701    13894    2   END DDS$BLD_ANLZ;
      702    13895        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:215  
      703    13896        /*F* NAME: DDS$BLD_AT
      704    13897             PURPOSE: TO BUILD THE AT COMMAND.
      705    13898             DESCRIPTION: BUILDS THE AT STORED COMMAND "FIRST ATTACHMENT"
      706    13899             IN VARCOM. SETS UP THE FIELDS IN THE FIXCOM SLOT. BUILDS THE
      707    13900             OPTIONAL BYPASS COUNT (#) AND IFSPEC FIELDS IN THE FIRST
      708    13901             ATTACHMENT. EVALUATES & BUILDS THE POSITION. RETURNS IF BUILD
      709    13902             IS SUCCESSFUL, ELSE ALTRETURNS. */
      710    13903        /*D* NAME: DDS$BLD_AT
      711    13904             INTERFACE:
      712    13905             ENVIRONMENT: DDS$SCAN ACTIVE.
      713    13906             INPUT: S_D.STORED - COMMAND ID.
      714    13907                    NCMD$ - POINTER TO N_AT NODE.
      715    13908             OUTPUT: S_D.D$ - POINTER TO NEXT FREE WORD IN VARCOM.
      716    13909             SCRATCH: LOCAL AUTO ONLY
      717    13910             DESCRIPTION: BUILDS THE AT STORED COMMAND "FIRST ATTACHMENT"
      718    13911             IN VARCOM. SETS UP THE FIELDS IN THE FIXCOM SLOT. BUILDS THE
      719    13912             OPTIONAL BYPASS COUNT (#) AND IFSPEC FIELDS IN THE FIRST
      720    13913             ATTACHMENT. EVALUATES & BUILDS THE POSITION. RETURNS IF BUILD
      721    13914             IS SUCCESSFUL, ELSE ALTRETURNS. */
      722    13915
      723    13916    1   DDS$BLD_AT: PROC ALTRET;

  13916  1 002343   200012 741300       DDS$BLD_AT   STX1  ! ZITEM$+3,,AUTO

      724    13917
      725    13918    2   DCL IXX SBIN;                           /* INDEX FOR DO LOOP */
      726    13919    2   DCL TCODE SBIN;                         /* TEMP FOR NODE CODE */
      727    13920    2   DCL IC UBIN;                            /* POSITION ADDRESS */
      728    13921    2   DCL CHAR22 CHAR(22) BASED;
      729    13922    2   DCL BB$ PTR;
      730    13923    2   DCL SIZE UBIN;
      731    13924    2   DCL NNC$ PTR;                           /* TEMP NODE POINTER */
      732    13925    2   DCL I UBIN;
      733    13926        %B$TREE_TABLE (HDR_NAME=B$TREEHDR,NODE_NAME="B$NODE(0:0)");
      734    13984        %AT_FIRST (STCLASS="BASED(LASTBLT$)");
      735    14012        %FPRG$CONTEXT;
      736    14075
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:216  
      737    14076        /* BYPASS COUNT & CURRENT COUNT INITIALIZED TO ZERO IN DDS$STOREDA */
      738    14077        /* PICK UP EACH RETURNED NODE & PROCESS IT */
      739    14078    3        DO IXX = 0 TO NCMD$->POB.NSB-1;

  14078  1 002344   200013 450100                    STZ     IXX,,AUTO
         1 002345   002557 710000 1                  TRA     s:14130+1

      740    14079    3             NNC$ = NCMD$->POB.SUBLK$(IXX); /* GET POINTER TO NEXT LEVEL NODE */

  14079  1 002346   200004 470500                    LDP0    NCMD$,,AUTO
         1 002347   200013 720100                    LXL0    IXX,,AUTO
         1 002350   000003 236110                    LDQ     3,X0,PR0
         1 002351   200020 756100                    STQ     NNC$,,AUTO

      741    14080    3             TCODE = NNC$->POB.CODE;       /* PICK UP CODE */

  14080  1 002352   200020 471500                    LDP1    NNC$,,AUTO
         1 002353   100000 236100                    LDQ     0,,PR1
         1 002354   777777 376007                    ANQ     -1,DL
         1 002355   200014 756100                    STQ     TCODE,,AUTO

      742    14081    3             IF ( TCODE = 24 )     /* C@POSITION */

  14081  1 002356   000030 116007                    CMPQ    24,DL
         1 002357   002504 601000 1                  TNZ     s:14115

      743    14082    4             THEN DO;                      /* POSITION */

      744    14083    4                  CALL DDS$POSITION(NNC$,IC) ALTRET(ALTRT); /* GET POSITION (IC) */

  14083  1 002360   200015 633500                    EPPR3   IC,,AUTO
         1 002361   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 002362   200020 634500                    EPPR4   NNC$,,AUTO
         1 002363   200050 454500                    STP4    @ND_PTR+1,,AUTO
         1 002364   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 002365   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 002366   000000 701000 xent               TSX1    DDS$POSITION
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:217  
         1 002367   002715 702000 1                  TSX2    ALTRT

      745    14084    4                  IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

  14084  1 002370   000000 470400 xsym               LDP0    S_D$
         1 002371   006714 235100                    LDA     3532,,PR0
         1 002372   000001 115007                    CMPA    1,DL
         1 002373   002402 601000 1                  TNZ     s:14093

      746    14085    5                  THEN DO;

      747    14086    5                       IF ( IC > BITBIN('777777'O) )

  14086  1 002374   200015 236100                    LDQ     IC,,AUTO
         1 002375   000001 116003                    CMPQ    1,DU
         1 002376   002411 602000 1                  TNC     s:14099

      748    14087    6                       THEN DO;            /* TRUNCATION - INVALID IS ADDRESS */

      749    14088    6                            S_D.ERROR = 25; /* E@UERR25 */

  14088  1 002377   000031 235007                    LDA     25,DL
         1 002400   000013 755100                    STA     11,,PR0

      750    14089    6                            GOTO ALTRT;

  14089  1 002401   002715 710000 1                  TRA     ALTRT

      751    14090    6                          END;
      752    14091    5                     END;
      753    14092    5                  ELSE DO;

      754    14093    5                       IF ( IC > BITBIN('3777777'O) )

  14093  1 002402   000025 236000 0                  LDQ     UTSX+8
         1 002403   000017 772000                    QRL     15
         1 002404   200015 116100                    CMPQ    IC,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:218  
         1 002405   002411 603000 1                  TRC     s:14099

      755    14094    6                       THEN DO;            /* TRUNCATION - INVALID IS ADDRESS */

      756    14095    6                            S_D.ERROR = 25; /* E@UERR25 */

  14095  1 002406   000031 235007                    LDA     25,DL
         1 002407   000013 755100                    STA     11,,PR0

      757    14096    6                            GOTO ALTRT;

  14096  1 002410   002715 710000 1                  TRA     ALTRT

      758    14097    6                          END;
      759    14098    5                     END;
      760    14099    4                  CALL DDS$ES_INQ( IC );   /* IGNORE ALTRET */

  14099  1 002411   200015 631500                    EPPR1   IC,,AUTO
         1 002412   200050 451500                    STP1    @ND_PTR+1,,AUTO
         1 002413   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 002414   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 002415   000000 701000 xent               TSX1    DDS$ES_INQ
         1 002416   000000 011000                    NOP     0

      761    14100    4                  CALL DDS$SET_Q2D; /* ESTABLISH DEFAULT SCHEMA FOR ATTACHMENTS */

  14100  1 002417   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 002420   000000 701000 xent               TSX1    DDS$SET_Q2D
         1 002421   000000 011000                    NOP     0

      762    14101    4                  S_D.QUALIFIED = '0'B;

  14101  1 002422   000000 470400 xsym               LDP0    S_D$
         1 002423   000712 450100                    STZ     458,,PR0

      763    14102        /* DEFAULT SCHEMA HAS BEEN SETUP - INITIALIZE FRAME & BUILD IFSPEC */
      764    14103    4                  CALL DDS$STOREDA( SIZEW(AT_FIRST), 2 ) ALTRET(ALTRT); /* C_AT */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:219  

  14103  1 002424   000017 630400 2                  EPPR0   15
         1 002425   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 002426   000000 701000 xent               TSX1    DDS$STOREDA
         1 002427   002715 702000 1                  TSX2    ALTRT

      765    14104    4                  IF NOT D_XDELTA

  14104  1 002430   000000 234000 xsym               SZN     D_XDELTA
         1 002431   002452 604000 1                  TMI     s:14109

      766    14105    4                  THEN IF IC >= %LIBLO * 1024 - %ISEGLO * 1024 AND

  14105  1 002432   200015 235100                    LDA     IC,,AUTO
         1 002433   700000 115007                    CMPA    -32768,DL
         1 002434   002445 602000 1                  TNC     s:14108
         1 002435   000000 470400 xsym               LDP0    B$JIT$
         1 002436   000204 220100                    LDX0    132,,PR0
         1 002437   000441 100003                    CMPX0   289,DU
         1 002440   002445 603000 1                  TRC     s:14108

      767    14106    4                         B$JIT.TDP <= %LIBLO
      768    14107    4                       THEN AT_FIRST.NODE = 0;

  14107  1 002441   000000 221003                    LDX1    0,DU
         1 002442   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 002443   100003 741100                    STX1    3,,PR1
         1 002444   002456 710000 1                  TRA     s:14110

      769    14108    4                       ELSE AT_FIRST.NODE = S_D.NODE;

  14108  1 002445   000000 470400 xsym               LDP0    S_D$
         1 002446   004706 720100                    LXL0    2502,,PR0
         1 002447   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 002450   100003 740100                    STX0    3,,PR1
         1 002451   002456 710000 1                  TRA     s:14110

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:220  
      770    14109    4                  ELSE AT_FIRST.NODE = S_D.NODE;

  14109  1 002452   000000 470400 xsym               LDP0    S_D$
         1 002453   004706 720100                    LXL0    2502,,PR0
         1 002454   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 002455   100003 740100                    STX0    3,,PR1

      771    14110    4                  IF S_D.OVERLAID AND NOT D_XDELTA

  14110  1 002456   000000 470400 xsym               LDP0    S_D$
         1 002457   004764 234100                    SZN     2548,,PR0
         1 002460   002476 605000 1                  TPL     s:14113
         1 002461   000000 234000 xsym               SZN     D_XDELTA
         1 002462   002476 604000 1                  TMI     s:14113

      772    14111    4                  THEN IF NOT S_D.B$TREE$ -> B$NODE.FLGS.NOW_IN( S_D.NODE )

  14111  1 002463   004767 473500                    LDP3    2551,,PR0
         1 002464   004706 236100                    LDQ     2502,,PR0
         1 002465   000006 402007                    MPY     6,DL
         1 002466   300001 234106                    SZN     1,QL,PR3
         1 002467   002476 604000 1                  TMI     s:14113

      773    14112    4                       THEN S_D.FIXCOM.NOT_IN( S_D.STORED ) = '1'B;

  14112  1 002470   000135 236100                    LDQ     93,,PR0
         1 002471   000003 402007                    MPY     3,DL
         1 002472   000001 736000                    QLS     1
         1 002473   000000 620006                    EAX0    0,QL
         1 002474   000100 236003                    LDQ     64,DU
         1 002475   001212 256110                    ORSQ    650,X0,PR0

      774    14113    4                  S_D.FIXCOM.CDF(S_D.STORED) = IC; /* SET IC IN S_D.FIXCOM */

  14113  1 002476   000135 236100                    LDQ     93,,PR0
         1 002477   000003 402007                    MPY     3,DL
         1 002500   000001 736000                    QLS     1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:221  
         1 002501   200015 235100                    LDA     IC,,AUTO
         1 002502   001213 755106                    STA     651,QL,PR0

      775    14114    4                END;

  14114  1 002503   002556 710000 1                  TRA     s:14130

      776    14115    3             ELSE IF ( TCODE = 42 )  /* C@N_AT11 */

  14115  1 002504   000052 116007                    CMPQ    42,DL
         1 002505   002526 601000 1                  TNZ     s:14122

      777    14116    4                  THEN DO;                 /* N_AT11 - BYPASS COUNT */

      778    14117    4                      NNC$ = NNC$->POB.SUBLK$(0); /* POINT TO TEXT (DECIMAL LEXEME) */

  14117  1 002506   100003 236100                    LDQ     3,,PR1
         1 002507   200020 756100                    STQ     NNC$,,AUTO

      779    14118    4                      CALL DDS$DECIMAL(NNC$,TCODE) ALTRET(ALTRT); /* GET THE NUMBER */

  14118  1 002510   200014 631500                    EPPR1   TCODE,,AUTO
         1 002511   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 002512   200020 633500                    EPPR3   NNC$,,AUTO
         1 002513   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 002514   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 002515   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 002516   000000 701000 xent               TSX1    DDS$DECIMAL
         1 002517   002715 702000 1                  TSX2    ALTRT

      780    14119    4                       AT_FIRST.BYPASS_COUNT = TCODE;

  14119  1 002520   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 002521   200014 235100                    LDA     TCODE,,AUTO
         1 002522   000004 755100                    STA     4,,PR0

      781    14120    4                       AT_FIRST.CURRENT_COUNT = TCODE;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:222  

  14120  1 002523   200014 236100                    LDQ     TCODE,,AUTO
         1 002524   000005 756100                    STQ     5,,PR0

      782    14121    4                     END;

  14121  1 002525   002556 710000 1                  TRA     s:14130

      783    14122    3                  ELSE IF ( TCODE = 100 ) /* C@SILENT */

  14122  1 002526   000144 116007                    CMPQ    100,DL
         1 002527   002540 601000 1                  TNZ     s:14124

      784    14123    3                       THEN S_D.FIXCOM.SILENT( S_D.STORED ) = '1'B;

  14123  1 002530   000000 473400 xsym               LDP3    S_D$
         1 002531   300135 236100                    LDQ     93,,PR3
         1 002532   000003 402007                    MPY     3,DL
         1 002533   000001 736000                    QLS     1
         1 002534   000000 621006                    EAX1    0,QL
         1 002535   000200 236003                    LDQ     128,DU
         1 002536   301212 256111                    ORSQ    650,X1,PR3
         1 002537   002556 710000 1                  TRA     s:14130

      785    14124    3                       ELSE IF ( TCODE = 101 ) /* C@INACTIVE */

  14124  1 002540   000145 116007                    CMPQ    101,DL
         1 002541   002552 601000 1                  TNZ     s:14127

      786    14125    3                            THEN S_D.FIXCOM.INACTIVE( S_D.STORED ) = '1'B;

  14125  1 002542   000000 473400 xsym               LDP3    S_D$
         1 002543   300135 236100                    LDQ     93,,PR3
         1 002544   000003 402007                    MPY     3,DL
         1 002545   000001 736000                    QLS     1
         1 002546   000000 621006                    EAX1    0,QL
         1 002547   000400 236003                    LDQ     256,DU
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:223  
         1 002550   301212 256111                    ORSQ    650,X1,PR3
         1 002551   002556 710000 1                  TRA     s:14130

      787    14126    4                            ELSE DO;       /* UNKNOWN COMMAND */

      788    14127    4                                 S_D.ERROR = 501; /* E@DERR1 */

  14127  1 002552   000765 235007                    LDA     501,DL
         1 002553   000000 473400 xsym               LDP3    S_D$
         1 002554   300013 755100                    STA     11,,PR3

      789    14128    4                                 GOTO ALTRT; /* SPLIT */

  14128  1 002555   002715 710000 1                  TRA     ALTRT

      790    14129    4                               END;
      791    14130    3           END;                            /* END "DO IX" */

  14130  1 002556   200013 054100                    AOS     IXX,,AUTO
         1 002557   200004 470500                    LDP0    NCMD$,,AUTO
         1 002560   000001 236100                    LDQ     1,,PR0
         1 002561   000022 772000                    QRL     18
         1 002562   200013 116100                    CMPQ    IXX,,AUTO
         1 002563   002346 605400 1                  TPNZ    s:14079

      792    14131    2        CALL DDS$DUBREAK ALTRET( ALTRT );

  14131  1 002564   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 002565   000000 701000 xent               TSX1    DDS$DUBREAK
         1 002566   002715 702000 1                  TSX2    ALTRT

      793    14132    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

  14132  1 002567   000000 470400 xsym               LDP0    S_D$
         1 002570   006714 235100                    LDA     3532,,PR0
         1 002571   000001 115007                    CMPA    1,DL
         1 002572   002604 601000 1                  TNZ     s:14134
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:224  

      794    14133    2        THEN CALL DDB$CHECK_ADDR (IC, 0) ALTRET(S_FAULT);

  14133  1 002573   000021 236000 2                  LDQ     17
         1 002574   200051 756100                    STQ     @ND_PTR+2,,AUTO
         1 002575   200015 631500                    EPPR1   IC,,AUTO
         1 002576   200050 451500                    STP1    @ND_PTR+1,,AUTO
         1 002577   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 002600   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 002601   000000 701000 xent               TSX1    DDB$CHECK_ADDR
         1 002602   002717 702000 1                  TSX2    S_FAULT
         1 002603   002713 710000 1                  TRA     RET

      795    14134    2        ELSE IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6

  14134  1 002604   000002 115007                    CMPA    2,DL
         1 002605   002705 601000 1                  TNZ     s:14157

      796    14135    3             THEN DO;

      797    14136    3                  I = 1;

  14136  1 002606   000001 236007                    LDQ     1,DL
         1 002607   200021 756100                    STQ     I,,AUTO

      798    14137    4                  DO WHILE (S_D.CURRENT_FPRG_CONTEXT$->FPRG$CONTEXT.FIXCOM_INDEX(I) ~=
             14137                           0

  14137  1 002610   002614 710000 1                  TRA     s:14140

      799    14138    4                    AND I <= 20);
      800    14139    4                       I = I + 1;

  14139  1 002611   200021 235100                    LDA     I,,AUTO
         1 002612   000001 035007                    ADLA    1,DL
         1 002613   200021 755100                    STA     I,,AUTO

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:225  
      801    14140    4                     END;

  14140  1 002614   000000 470400 xsym               LDP0    S_D$
         1 002615   000102 471500                    LDP1    66,,PR0
         1 002616   200021 720100                    LXL0    I,,AUTO
         1 002617   100034 235110                    LDA     28,X0,PR1
         1 002620   002624 600000 1                  TZE     s:14141
         1 002621   200021 236100                    LDQ     I,,AUTO
         1 002622   000025 116007                    CMPQ    21,DL
         1 002623   002611 602000 1                  TNC     s:14139

      802    14141    3                  IF I > 20

  14141  1 002624   200021 236100                    LDQ     I,,AUTO
         1 002625   000025 116007                    CMPQ    21,DL
         1 002626   002632 602000 1                  TNC     s:14146

      803    14142    4                  THEN DO;

      804    14143    4                       S_D.ERROR = 288; /* E@TOOMANYBKPNTS */

  14143  1 002627   000440 235007                    LDA     288,DL
         1 002630   000013 755100                    STA     11,,PR0

      805    14144    4                       GOTO ALTRT;

  14144  1 002631   002715 710000 1                  TRA     ALTRT

      806    14145    4                     END;
      807    14146    3                  S_D.FIXCOM.FPRG(S_D.STORED) = '1'B;

  14146  1 002632   000135 236100                    LDQ     93,,PR0
         1 002633   000003 402007                    MPY     3,DL
         1 002634   000001 736000                    QLS     1
         1 002635   000000 621006                    EAX1    0,QL
         1 002636   000002 236003                    LDQ     2,DU
         1 002637   001212 256111                    ORSQ    650,X1,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:226  

      808    14147    3                  S_D.FIXCOM.FPRG_RES(S_D.STORED) =

  14147  1 002640   000135 236100                    LDQ     93,,PR0
         1 002641   000003 402007                    MPY     3,DL
         1 002642   000001 736000                    QLS     1
         1 002643   000102 471500                    LDP1    66,,PR0
         1 002644   000002 736000                    QLS     2
         1 002645   040106 100500                    MLR     fill='040'O
         1 002646   100002 000010                    ADSC9   2,,PR1                   cn=0,n=8
         1 002647   001215 000010                    ADSC9   653,Q,PR0                cn=0,n=8

      809    14148    3                    S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES;
      810    14149    3                  S_D.FIXCOM.FPRG_RES_SIZE(S_D.STORED) =

  14149  1 002650   000135 236100                    LDQ     93,,PR0
         1 002651   000003 402007                    MPY     3,DL
         1 002652   000001 736000                    QLS     1
         1 002653   000102 471500                    LDP1    66,,PR0
         1 002654   100004 235100                    LDA     4,,PR1
         1 002655   001217 755106                    STA     655,QL,PR0

      811    14150    3                    S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES_SIZE;
      812    14151    3                  IF S_D.FIXCOM.INACTIVE(S_D.STORED)

  14151  1 002656   000135 236100                    LDQ     93,,PR0
         1 002657   000003 402007                    MPY     3,DL
         1 002660   000001 736000                    QLS     1
         1 002661   001212 236106                    LDQ     650,QL,PR0
         1 002662   000400 316003                    CANQ    256,DU
         1 002663   002713 601000 1                  TNZ     RET

      813    14152    3                  THEN GOTO RET;
      814    14153    3                  S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FIXCOM_INDEX(I) = S_D.
             14153                           STORED;

  14153  1 002664   000102 471500                    LDP1    66,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:227  
         1 002665   000135 235100                    LDA     93,,PR0
         1 002666   200021 720100                    LXL0    I,,AUTO
         1 002667   100034 755110                    STA     28,X0,PR1

      815    14154    3                  CALL DFA$SET_AT(I, AT_FIRST.BYPASS_COUNT, S_D.STORED) ALTRET(ALTRT);

  14154  1 002670   000000 236000 xsym               LDQ     S_D$
         1 002671   000135 036003                    ADLQ    93,DU
         1 002672   200052 756100                    STQ     @ND_PTR+3,,AUTO
         1 002673   200005 236100                    LDQ     LASTBLT$,,AUTO
         1 002674   000004 036003                    ADLQ    4,DU
         1 002675   200051 756100                    STQ     @ND_PTR+2,,AUTO
         1 002676   200021 631500                    EPPR1   I,,AUTO
         1 002677   200050 451500                    STP1    @ND_PTR+1,,AUTO
         1 002700   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 002701   000021 631400 xsym               EPPR1   B_VECTNIL+17
         1 002702   000000 701000 xent               TSX1    DFA$SET_AT
         1 002703   002715 702000 1                  TSX2    ALTRT

      816    14155    3                END;

  14155  1 002704   002713 710000 1                  TRA     RET

      817    14156    3             ELSE DO;

      818    14157    3                  S_D.ERROR = 502;    /* E@DELBUG */

  14157  1 002705   000766 236007                    LDQ     502,DL
         1 002706   000013 756100                    STQ     11,,PR0

      819    14158    3                  CALL DDE$ERROR;

  14158  1 002707   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 002710   000000 701000 xent               TSX1    DDE$ERROR
         1 002711   000000 011000                    NOP     0

      820    14159    3                  GOTO ALTRT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:228  

  14159  1 002712   002715 710000 1                  TRA     ALTRT

      821    14160    3                END;
      822    14161    2   RET:
      823    14162    2        RETURN;                            /* DONE - RETURN */

  14162  1 002713   200012 221300       RET          LDX1  ! ZITEM$+3,,AUTO
         1 002714   000001 702211                    TSX2  ! 1,X1

      824    14163    2   ALTRT:
      825    14164    2        ALTRETURN;

  14164  1 002715   200012 221300       ALTRT        LDX1  ! ZITEM$+3,,AUTO
         1 002716   000000 702211                    TSX2  ! 0,X1

  14162  1 002717                       S_FAULT      null
      826    14165    2   S_FAULT: ;
      827    14166    2        IF S_D.OVERLAID AND S_D.UNODE.USENODE ~=0

  14166  1 002717   000000 470400 xsym               LDP0    S_D$
         1 002720   004764 234100                    SZN     2548,,PR0
         1 002721   002726 605000 1                  TPL     s:14168
         1 002722   004760 235100                    LDA     2544,,PR0
         1 002723   002726 600000 1                  TZE     s:14168

      828    14167    2        THEN RETURN;

  14167  1 002724   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 002725   000001 702211                    TSX2  ! 1,X1

      829    14168    2        S_D.ERROR = 237;          /* E@CANTACCESS */

  14168  1 002726   000355 235007                    LDA     237,DL
         1 002727   000013 755100                    STA     11,,PR0

      830    14169    2        CALL DDE$ERROR;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:229  

  14169  1 002730   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 002731   000000 701000 xent               TSX1    DDE$ERROR
         1 002732   000000 011000                    NOP     0

      831    14170    2        S_D.OUTPUT = 'Breakpoint ';

  14170  1 002733   000000 470400 xsym               LDP0    S_D$
         1 002734   040100 100400                    MLR     fill='040'O
         1 002735   000026 000013 0                  ADSC9   UTSX+9                   cn=0,n=11
         1 002736   005335 004000                    ADSC9   2781,,PR0                cn=0,n=2048

      832    14171    2        BB$ = PINCRC(ADDR(S_D.OUTPUT), SIZEC('Breakpoint '));

  14171  1 002737   000000 236000 xsym               LDQ     S_D$
         1 002740   000022 036000 2                  ADLQ    18
         1 002741   200016 756100                    STQ     BB$,,AUTO

      833    14172    2        CALL DDR$BINTXT(BB$, S_D.STORED, %UINT_FMT, SIZE);

  14172  1 002742   200017 631500                    EPPR1   SIZE,,AUTO
         1 002743   200053 451500                    STP1    @ND_PTR+4,,AUTO
         1 002744   000020 236000 2                  LDQ     16
         1 002745   200052 756100                    STQ     @ND_PTR+3,,AUTO
         1 002746   000000 236000 xsym               LDQ     S_D$
         1 002747   000135 036003                    ADLQ    93,DU
         1 002750   200051 756100                    STQ     @ND_PTR+2,,AUTO
         1 002751   200016 633500                    EPPR3   BB$,,AUTO
         1 002752   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 002753   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 002754   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 002755   000000 701000 xent               TSX1    DDR$BINTXT
         1 002756   000000 011000                    NOP     0

      834    14173    2        BB$ = PINCRC(BB$, SIZE);

  14173  1 002757   200017 236100                    LDQ     SIZE,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:230  
         1 002760   000020 736000                    QLS     16
         1 002761   200016 036100                    ADLQ    BB$,,AUTO
         1 002762   200016 756100                    STQ     BB$,,AUTO

      835    14174    2        BB$ -> CHAR22 = ' set inactive by DELTA';

  14174  1 002763   200016 470500                    LDP0    BB$,,AUTO
         1 002764   040100 100400                    MLR     fill='040'O
         1 002765   000031 000026 0                  ADSC9   UTSX+12                  cn=0,n=22
         1 002766   000000 000026                    ADSC9   0,,PR0                   cn=0,n=22

      836    14175    2        CALL DDQ$WRITE(ADDR(S_D.OUTPUT), SIZEC('Breakpoint ')+22+SIZE);

  14175  1 002767   000000 236000 xsym               LDQ     S_D$
         1 002770   005335 036003                    ADLQ    2781,DU
         1 002771   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 002772   200017 235100                    LDA     SIZE,,AUTO
         1 002773   000041 035007                    ADLA    33,DL
         1 002774   200051 755100                    STA     @ND_PTR+2,,AUTO
         1 002775   200051 630500                    EPPR0   @ND_PTR+2,,AUTO
         1 002776   200053 450500                    STP0    @ND_PTR+4,,AUTO
         1 002777   200050 631500                    EPPR1   @ND_PTR+1,,AUTO
         1 003000   200052 451500                    STP1    @ND_PTR+3,,AUTO
         1 003001   200052 630500                    EPPR0   @ND_PTR+3,,AUTO
         1 003002   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 003003   000000 701000 xent               TSX1    DDQ$WRITE
         1 003004   000000 011000                    NOP     0

      837    14176    2        S_D.FIXCOM.INACTIVE(S_D.STORED) = '1'B;

  14176  1 003005   000000 470400 xsym               LDP0    S_D$
         1 003006   000135 236100                    LDQ     93,,PR0
         1 003007   000003 402007                    MPY     3,DL
         1 003010   000001 736000                    QLS     1
         1 003011   000000 620006                    EAX0    0,QL
         1 003012   000400 236003                    LDQ     256,DU
         1 003013   001212 256110                    ORSQ    650,X0,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:231  

      838    14177    2        RETURN;

  14177  1 003014   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 003015   000001 702211                    TSX2  ! 1,X1

      839    14178
      840    14179    2   END DDS$BLD_AT;
      841    14180        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:232  
      842    14181        /*F* NAME: DDS$BLD_BREAK
      843    14182             PURPOSE: TO BUILD THE BREAK COMMAND.
      844    14183             DESCRIPTION: BUILDS THE BREAK COMMAND. */
      845    14184        /*D* NAME: DDS$BLD_BREAK
      846    14185             CALL: CALL DDS$BLD_BREAK ALTRET( ERROR );
      847    14186             INTERFACE: DDS$ATTDIRA
      848    14187             ENVIRONMENT: DDS$SCAN ACTIVE
      849    14188             INPUT: NCMD$ - PTR TO "BREAK" NODE.
      850    14189             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      851    14190             SCRATCH: LOCAL AUTO ONLY.
      852    14191             DESCRIPTION: */
      853    14192
      854    14193    1   DDS$BLD_BREAK: PROC ALTRET;

  14193  1 003016   200012 741300       DDS$BLD_BRE* STX1  ! ZITEM$+3,,AUTO

      855    14194
      856    14195    2   DCL T1 UBIN;
      857    14196        %ALL_ATTACH (STCLASS="BASED(LASTBLT$)");
      858    14211
      859    14212    2        T1 = 3;                      /* C_BREAK */

  14212  1 003017   000003 235007                    LDA     3,DL
         1 003020   200013 755100                    STA     T1,,AUTO

      860    14213    2        GOTO SETUP;

  14213  1 003021   003125 710000 1                  TRA     SETUP

      861    14214
      862    14215    2   DDS$BLD_BYPASS: ENTRY ALTRET;

  14215  1 003022   200012 741300       DDS$BLD_BYP* STX1  ! ZITEM$+3,,AUTO

      863    14216
      864    14217    2        T1 = 21;                     /* C_BYPASS */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:233  
  14217  1 003023   000025 235007                    LDA     21,DL
         1 003024   200013 755100                    STA     T1,,AUTO

      865    14218    2        GOTO SETUP;

  14218  1 003025   003125 710000 1                  TRA     SETUP

      866    14219
      867    14220    2   DDS$BLD_CRASH: ENTRY ALTRET;

  14220  1 003026   200012 741300       DDS$BLD_CRA* STX1  ! ZITEM$+3,,AUTO

      868    14221
      869    14222    2        T1 = 82;                      /* C_CRASH */

  14222  1 003027   000122 235007                    LDA     82,DL
         1 003030   200013 755100                    STA     T1,,AUTO

      870    14223    2        GOTO SETUP;

  14223  1 003031   003125 710000 1                  TRA     SETUP

      871    14224
      872    14225    2   DDS$BLD_COPY: ENTRY ALTRET;

  14225  1 003032   200012 741300       DDS$BLD_COPY STX1  ! ZITEM$+3,,AUTO

      873    14226
      874    14227    2        T1 = 15;                       /* C_COPY */

  14227  1 003033   000017 235007                    LDA     15,DL
         1 003034   200013 755100                    STA     T1,,AUTO

      875    14228    2        GOTO SETUP;

  14228  1 003035   003125 710000 1                  TRA     SETUP

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:234  
      876    14229
      877    14230    2   DDS$BLD_DBOOT: ENTRY ALTRET;

  14230  1 003036   200012 741300       DDS$BLD_DBO* STX1  ! ZITEM$+3,,AUTO

      878    14231
      879    14232    2        T1 = 78;                      /* C_DBOOT */

  14232  1 003037   000116 235007                    LDA     78,DL
         1 003040   200013 755100                    STA     T1,,AUTO

      880    14233    2        GOTO SETUP;

  14233  1 003041   003125 710000 1                  TRA     SETUP

      881    14234
      882    14235    2   DDS$BLD_DELETE: ENTRY ALTRET;

  14235  1 003042   200012 741300       DDS$BLD_DEL* STX1  ! ZITEM$+3,,AUTO

      883    14236
      884    14237    2        T1 = 63;                     /* C_DELETE */

  14237  1 003043   000077 235007                    LDA     63,DL
         1 003044   200013 755100                    STA     T1,,AUTO

      885    14238    2        GOTO SETUP;

  14238  1 003045   003125 710000 1                  TRA     SETUP

      886    14239
      887    14240    2   DDS$BLD_DIC: ENTRY ALTRET;

  14240  1 003046   200012 741300       DDS$BLD_DIC  STX1  ! ZITEM$+3,,AUTO

      888    14241
      889    14242    2        T1 = 37;                        /* C_DIC */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:235  

  14242  1 003047   000045 235007                    LDA     37,DL
         1 003050   200013 755100                    STA     T1,,AUTO

      890    14243    2        GOTO SETUP;

  14243  1 003051   003125 710000 1                  TRA     SETUP

      891    14244
      892    14245    2   DDS$BLD_DLCT: ENTRY ALTRET;

  14245  1 003052   200012 741300       DDS$BLD_DLCT STX1  ! ZITEM$+3,,AUTO

      893    14246
      894    14247    2        T1 = 60;                       /* C_DLCT */

  14247  1 003053   000074 235007                    LDA     60,DL
         1 003054   200013 755100                    STA     T1,,AUTO

      895    14248    2        GOTO SETUP;

  14248  1 003055   003125 710000 1                  TRA     SETUP

      896    14249
      897    14250    2   DDS$BLD_EOM: ENTRY ALTRET;

  14250  1 003056   200012 741300       DDS$BLD_EOM  STX1  ! ZITEM$+3,,AUTO

      898    14251
      899    14252    2        T1 = 35;                        /* C_EOM */

  14252  1 003057   000043 235007                    LDA     35,DL
         1 003060   200013 755100                    STA     T1,,AUTO

      900    14253    2        GOTO SETUP;

  14253  1 003061   003125 710000 1                  TRA     SETUP
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:236  

      901    14254
      902    14255    2   DDS$BLD_EXIT: ENTRY ALTRET;

  14255  1 003062   200012 741300       DDS$BLD_EXIT STX1  ! ZITEM$+3,,AUTO

      903    14256
      904    14257    2        T1 = 76;                       /* C_EXIT */

  14257  1 003063   000114 235007                    LDA     76,DL
         1 003064   200013 755100                    STA     T1,,AUTO

      905    14258    2        GOTO SETUP;

  14258  1 003065   003125 710000 1                  TRA     SETUP

      906    14259
      907    14260    2   DDS$BLD_MINI: ENTRY ALTRET;

  14260  1 003066   200012 741300       DDS$BLD_MINI STX1  ! ZITEM$+3,,AUTO

      908    14261
      909    14262    2        T1 = 70;                       /* C_MINI */

  14262  1 003067   000106 235007                    LDA     70,DL
         1 003070   200013 755100                    STA     T1,,AUTO

      910    14263    2        GOTO SETUP;

  14263  1 003071   003125 710000 1                  TRA     SETUP

      911    14264
      912    14265    2   DDS$BLD_PROTECT: ENTRY ALTRET;

  14265  1 003072   200012 741300       DDS$BLD_PRO* STX1  ! ZITEM$+3,,AUTO

      913    14266
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:237  
      914    14267    2        T1 = 88;                    /* C_PROTECT */

  14267  1 003073   000130 235007                    LDA     88,DL
         1 003074   200013 755100                    STA     T1,,AUTO

      915    14268    2        GOTO SETUP;

  14268  1 003075   003125 710000 1                  TRA     SETUP

      916    14269
      917    14270    2   DDS$BLD_QMARK1: ENTRY ALTRET;

  14270  1 003076   200012 741300       DDS$BLD_QMA* STX1  ! ZITEM$+3,,AUTO

      918    14271
      919    14272    2        T1 = 80;                     /* C_QMARK1 */

  14272  1 003077   000120 235007                    LDA     80,DL
         1 003100   200013 755100                    STA     T1,,AUTO

      920    14273    2        GOTO SETUP;

  14273  1 003101   003125 710000 1                  TRA     SETUP

      921    14274
      922    14275    2   DDS$BLD_QMARK2: ENTRY ALTRET;

  14275  1 003102   200012 741300       DDS$BLD_QMA* STX1  ! ZITEM$+3,,AUTO

      923    14276
      924    14277    2        T1 = 81;                     /* C_QMARK2 */

  14277  1 003103   000121 235007                    LDA     81,DL
         1 003104   200013 755100                    STA     T1,,AUTO

      925    14278    2        GOTO SETUP;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:238  
  14278  1 003105   003125 710000 1                  TRA     SETUP

      926    14279
      927    14280    2   DDS$BLD_STATUS: ENTRY ALTRET;

  14280  1 003106   200012 741300       DDS$BLD_STA* STX1  ! ZITEM$+3,,AUTO

      928    14281
      929    14282    2        T1 = 85;                     /* C_STATUS */

  14282  1 003107   000125 235007                    LDA     85,DL
         1 003110   200013 755100                    STA     T1,,AUTO

      930    14283    2        GOTO SETUP;

  14283  1 003111   003125 710000 1                  TRA     SETUP

      931    14284
      932    14285    2   DDS$BLD_TBOOT: ENTRY ALTRET;

  14285  1 003112   200012 741300       DDS$BLD_TBO* STX1  ! ZITEM$+3,,AUTO

      933    14286
      934    14287    2        T1 = 61;                      /* C_TBOOT */

  14287  1 003113   000075 235007                    LDA     61,DL
         1 003114   200013 755100                    STA     T1,,AUTO

      935    14288    2        GOTO SETUP;

  14288  1 003115   003125 710000 1                  TRA     SETUP

      936    14289
      937    14290    2   DDS$BLD_CACHE: ENTRY ALTRET;

  14290  1 003116   200012 741300       DDS$BLD_CAC* STX1  ! ZITEM$+3,,AUTO

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:239  
      938    14291
      939    14292    2        T1 = 41;                      /* C_CACHE */

  14292  1 003117   000051 235007                    LDA     41,DL
         1 003120   200013 755100                    STA     T1,,AUTO

      940    14293    2        GOTO SETUP;

  14293  1 003121   003125 710000 1                  TRA     SETUP

      941    14294
      942    14295    2   DDS$BLD_XCON: ENTRY ALTRET;

  14295  1 003122   200012 741300       DDS$BLD_XCON STX1  ! ZITEM$+3,,AUTO

      943    14296
      944    14297    2        T1 = 9;                       /* C_XCON  */

  14297  1 003123   000011 235007                    LDA     9,DL
         1 003124   200013 755100                    STA     T1,,AUTO

      945    14298        /*   GOTO SETUP; */
      946    14299    2   SETUP:
      947    14300    2        CALL DDS$ATTDIRA( SIZEW( ALL_ATTACH ), T1 ) ALTRET( ARET );

  14300  1 003125   200013 630500       SETUP        EPPR0   T1,,AUTO
         1 003126   200051 450500                    STP0    @ND_PTR+2,,AUTO
         1 003127   000020 236000 2                  LDQ     16
         1 003130   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 003131   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 003132   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 003133   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 003134   003137 702000 1                  TSX2    ARET

      948    14301
      949    14302    2        RETURN;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:240  
  14302  1 003135   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 003136   000001 702211                    TSX2  ! 1,X1

      950    14303
      951    14304    2   ARET: ALTRETURN;

  14304  1 003137   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 003140   000000 702211                    TSX2  ! 0,X1

      952    14305
      953    14306    2   END DDS$BLD_BREAK;
      954    14307        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:241  
      955    14308        /*F* NAME: DDS$BLD_DEBUG
      956    14309             PURPOSE: TO BUILD THE DEBUG COMMAND.
      957    14310             DESCRIPTION: BUILDS THE DEBUG COMMAND. */
      958    14311        /*D* NAME: DDS$BLD_DEBUG
      959    14312             CALL: CALL DDS$BLD_DEBUG ALTRET( ERROR );
      960    14313             INTERFACE: DDS$ATTDIRA
      961    14314             ENVIRONMENT: DDS$SCAN ACTIVE
      962    14315             INPUT: NCMD$ - PTR TO "DEBUG" NODE.
      963    14316             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      964    14317             SCRATCH: LOCAL AUTO ONLY.
      965    14318             DESCRIPTION: */
      966    14319
      967    14320    1   DDS$BLD_DEBUG: PROC ALTRET;

  14320  1 003141   200012 741300       DDS$BLD_DEB* STX1  ! ZITEM$+3,,AUTO

      968    14321
      969    14322    2   DCL NSB SBIN;
      970    14323    2   DCL IX SBIN;
      971    14324    2   DCL CODE SBIN;
      972    14325    2   DCL NC$ PTR;
      973    14326    2   DCL NCD UBIN;
      974    14327    2   DCL NCC$ PTR;
      975    14328    2   DCL TEXT$ PTR;
      976    14329    2   DCL SIZE UBIN;
      977    14330    2   DCL I UBIN;
      978    14331        %DEBUG$CMD (NAME=DEBUG$CMD,STCLASS="BASED(LASTBLT$)");
      979    14354
      980    14355    2        CALL DDS$ATTDIRA( SIZEW( DEBUG$CMD ), 89 ) ALTRET( ARET ); /* C_DEBUG */

  14355  1 003142   000025 630400 2                  EPPR0   21
         1 003143   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 003144   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 003145   003534 702000 1                  TSX2    ARET

      981    14356    2        NSB = NCMD$ -> POB.NSB - 1;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:242  
  14356  1 003146   200004 470500                    LDP0    NCMD$,,AUTO
         1 003147   000001 236100                    LDQ     1,,PR0
         1 003150   000022 772000                    QRL     18
         1 003151   000001 136007                    SBLQ    1,DL
         1 003152   200013 756100                    STQ     NSB,,AUTO

      982    14357    2        IF NSB < 0

  14357  1 003153   003155 605000 1                  TPL     s:14360

      983    14358    3        THEN DO;                           /* Nothing */

      984    14359    3           END;

  14359  1 003154   003526 710000 1                  TRA     s:14448

      985    14360    3        ELSE DO IX = 0 TO NSB;

  14360  1 003155   200014 450100                    STZ     IX,,AUTO
         1 003156   003523 710000 1                  TRA     s:14446+1

      986    14361    3             NC$ = NCMD$ -> POB.SUBLK$( IX );

  14361  1 003157   200004 470500                    LDP0    NCMD$,,AUTO
         1 003160   200014 720100                    LXL0    IX,,AUTO
         1 003161   000003 236110                    LDQ     3,X0,PR0
         1 003162   200016 756100                    STQ     NC$,,AUTO

      987    14362    3             CODE = NC$ -> POB.CODE;

  14362  1 003163   200016 471500                    LDP1    NC$,,AUTO
         1 003164   100000 236100                    LDQ     0,,PR1
         1 003165   777777 376007                    ANQ     -1,DL
         1 003166   200015 756100                    STQ     CODE,,AUTO

      988    14363    3             IF CODE = 530               /* C@ALL */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:243  
  14363  1 003167   001022 116007                    CMPQ    530,DL
         1 003170   003175 601000 1                  TNZ     s:14365

      989    14364    3             THEN DEBUG$CMD.OPTIONS = '777777777777'O;

  14364  1 003171   000027 236000 xsym               LDQ     B_VECTNIL+23
         1 003172   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 003173   300002 756100                    STQ     2,,PR3
         1 003174   003522 710000 1                  TRA     s:14446

      990    14365    3             ELSE IF CODE = 531         /* C@NONE */

  14365  1 003175   001023 116007                    CMPQ    531,DL
         1 003176   003200 601000 1                  TNZ     s:14368

      991    14366    4                  THEN DO;                 /* Nothing */

      992    14367    4                     END;

  14367  1 003177   003522 710000 1                  TRA     s:14446

      993    14368    3                  ELSE IF CODE = 8  /* DECIMALS */

  14368  1 003200   000010 116007                    CMPQ    8,DL
         1 003201   003225 601000 1                  TNZ     s:14375

      994    14369    4                       THEN DO;

      995    14370    4                            CALL DDS$DECIMAL( NC$, CODE ) ALTRET( ARET );

  14370  1 003202   200015 633500                    EPPR3   CODE,,AUTO
         1 003203   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 003204   200016 634500                    EPPR4   NC$,,AUTO
         1 003205   200050 454500                    STP4    @ND_PTR+1,,AUTO
         1 003206   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 003207   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 003210   000000 701000 xent               TSX1    DDS$DECIMAL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:244  
         1 003211   003534 702000 1                  TSX2    ARET

      996    14371    4                            IF CODE > SIZEB( CODE ) -1

  14371  1 003212   200015 235100                    LDA     CODE,,AUTO
         1 003213   000043 115007                    CMPA    35,DL
         1 003214   003530 605400 1                  TPNZ    ARETLARG

      997    14372    4                            THEN GOTO ARETLARG;
      998    14373    4                            DEBUG$CMD.OPTARRY( CODE ) = '1'B;

  14373  1 003215   000000 115003                    CMPA    0,DU
         1 003216   003220 605000 1                  TPL     s:14373+3
         1 003217   000044 035003                    ADLA    36,DU
         1 003220   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 003221   003105 060400                    CSL     bolr='003'O
         1 003222   000030 000001 xsym               BDSC    B_VECTNIL+24             by=0,bit=0,n=1
         1 003223   000002 000001                    BDSC    2,A,PR0                  by=0,bit=0,n=1

      999    14374    4                          END;

  14374  1 003224   003522 710000 1                  TRA     s:14446

     1000    14375    3                       ELSE IF CODE = 108 /* DBG_CG */

  14375  1 003225   000154 116007                    CMPQ    108,DL
         1 003226   003364 601000 1                  TNZ     s:14413

     1001    14376    4                            THEN DO;

     1002    14377    4                                 NCC$ = NC$ -> POB.SUBLK$(0);

  14377  1 003227   100003 236100                    LDQ     3,,PR1
         1 003230   200020 756100                    STQ     NCC$,,AUTO

     1003    14378    4                                 TEXT$ = NCC$ -> POB.SUBLK$(0);

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:245  
  14378  1 003231   200020 473500                    LDP3    NCC$,,AUTO
         1 003232   300003 236100                    LDQ     3,,PR3
         1 003233   200021 756100                    STQ     TEXT$,,AUTO

     1004    14379    4                                 DEBUG$CMD.STATION_FID.SIZE = TEXT$ -> TEXT$C.SIZE;

  14379  1 003234   200021 474500                    LDP4    TEXT$,,AUTO
         1 003235   200005 475500                    LDP5    LASTBLT$,,AUTO
         1 003236   400000 236100                    LDQ     0,,PR4
         1 003237   500003 552140                    STBQ    3,'40'O,PR5

     1005    14380    4                                 DEBUG$CMD.STATION_FID.TEXT = TEXT$ -> TEXT$C.TXT;

  14380  1 003240   400000 236100                    LDQ     0,,PR4
         1 003241   000033 772000                    QRL     27
         1 003242   000000 621006                    EAX1    0,QL
         1 003243   040100 100540                    MLR     fill='040'O
         1 003244   400000 200011                    ADSC9   0,,PR4                   cn=1,n=*X1
         1 003245   500003 200010                    ADSC9   3,,PR5                   cn=1,n=8

     1006    14381    4                                 NCC$ = NC$ -> POB.SUBLK$(1);

  14381  1 003246   200016 471500                    LDP1    NC$,,AUTO
         1 003247   100004 236100                    LDQ     4,,PR1
         1 003250   200020 756100                    STQ     NCC$,,AUTO

     1007    14382    4                                 NCD = NCC$ -> POB.CODE;

  14382  1 003251   200020 473500                    LDP3    NCC$,,AUTO
         1 003252   300000 236100                    LDQ     0,,PR3
         1 003253   777777 376007                    ANQ     -1,DL
         1 003254   200017 756100                    STQ     NCD,,AUTO

     1008    14383    4                                 NCC$ = NCC$ -> POB.SUBLK$(0);

  14383  1 003255   300003 236100                    LDQ     3,,PR3
         1 003256   200020 756100                    STQ     NCC$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:246  

     1009    14384    4                                 TEXT$ = NCC$ -> POB.SUBLK$(0);

  14384  1 003257   200020 473500                    LDP3    NCC$,,AUTO
         1 003260   300003 236100                    LDQ     3,,PR3
         1 003261   200021 756100                    STQ     TEXT$,,AUTO

     1010    14385    4                                 SIZE = TEXT$ -> TEXT$C.SIZE + 3;

  14385  1 003262   200021 474500                    LDP4    TEXT$,,AUTO
         1 003263   400000 236100                    LDQ     0,,PR4
         1 003264   000033 772000                    QRL     27
         1 003265   000003 036007                    ADLQ    3,DL
         1 003266   200022 756100                    STQ     SIZE,,AUTO

     1011    14386    4                                 IF SIZE > LENGTHC(DEBUG$CMD.CG_FID)

  14386  1 003267   000101 116007                    CMPQ    65,DL
         1 003270   003275 602000 1                  TNC     s:14391

     1012    14387    5                                 THEN DO;

     1013    14388    5                                      S_D.ERROR = 48; /* E@SYM2LONG */

  14388  1 003271   000060 235007                    LDA     48,DL
         1 003272   000000 476400 xsym               LDP6    S_D$
         1 003273   600013 755100                    STA     11,,PR6

     1014    14389    5                                      GOTO ARET;

  14389  1 003274   003534 710000 1                  TRA     ARET

     1015    14390    5                                    END;
     1016    14391    4                                 IF NCD = 111 /* CG_CODE */

  14391  1 003275   200017 235100                    LDA     NCD,,AUTO
         1 003276   000157 115007                    CMPA    111,DL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:247  
         1 003277   003350 601000 1                  TNZ     s:14408

     1017    14392    5                                 THEN DO;

     1018    14393    5                                      NCD = NCC$ -> POB.CODE;

  14393  1 003300   300000 236100                    LDQ     0,,PR3
         1 003301   777777 376007                    ANQ     -1,DL
         1 003302   200017 756100                    STQ     NCD,,AUTO

     1019    14394    5                                      NCC$ = NCC$ -> POB.SUBLK$(0);

  14394  1 003303   300003 236100                    LDQ     3,,PR3
         1 003304   200020 756100                    STQ     NCC$,,AUTO

     1020    14395    5                                      TEXT$ = NCC$ -> POB.SUBLK$(0);

  14395  1 003305   200020 473500                    LDP3    NCC$,,AUTO
         1 003306   300003 236100                    LDQ     3,,PR3
         1 003307   200021 756100                    STQ     TEXT$,,AUTO

     1021    14396    5                                      DEBUG$CMD.CG = '1'B;

  14396  1 003310   002000 236007                    LDQ     1024,DL
         1 003311   500001 256100                    ORSQ    1,,PR5

     1022    14397    5                                      IF NCD = 117

  14397  1 003312   200017 235100                    LDA     NCD,,AUTO
         1 003313   000165 115007                    CMPA    117,DL
         1 003314   003330 601000 1                  TNZ     s:14403

     1023    14398    6                                      THEN DO;

     1024    14399    6                                          DEBUG$CMD.CG_FID.SIZE = TEXT$ -> TEXT$C.SIZE
             14399                                                    ;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:248  
  14399  1 003315   200021 471500                    LDP1    TEXT$,,AUTO
         1 003316   100000 236100                    LDQ     0,,PR1
         1 003317   000011 772000                    QRL     9
         1 003320   500005 552120                    STBQ    5,'20'O,PR5

     1025    14400    6                                          DEBUG$CMD.CG_FID.TEXT = TEXT$ -> TEXT$C.TXT;

  14400  1 003321   100000 236100                    LDQ     0,,PR1
         1 003322   000033 772000                    QRL     27
         1 003323   000000 621006                    EAX1    0,QL
         1 003324   040100 100540                    MLR     fill='040'O
         1 003325   100000 200011                    ADSC9   0,,PR1                   cn=1,n=*X1
         1 003326   500005 400077                    ADSC9   5,,PR5                   cn=2,n=63

     1026    14401    6                                         END;

  14401  1 003327   003522 710000 1                  TRA     s:14446

     1027    14402    6                                      ELSE DO;

     1028    14403    6                                          DEBUG$CMD.CG_FID.SIZE = TEXT$ -> TEXT$C.SIZE
             14403                                                    + 3;

  14403  1 003330   200021 471500                    LDP1    TEXT$,,AUTO
         1 003331   100000 236100                    LDQ     0,,PR1
         1 003332   000033 772000                    QRL     27
         1 003333   000003 036007                    ADLQ    3,DL
         1 003334   000022 736000                    QLS     18
         1 003335   500005 552120                    STBQ    5,'20'O,PR5

     1029    14404    6                                           CALL CONCAT(DEBUG$CMD.CG_FID.TEXT, 'CG/',
             14404                                                    TEXT$ -> TEXT$C.TXT);

  14404  1 003336   100000 236100                    LDQ     0,,PR1
         1 003337   000033 772000                    QRL     27
         1 003340   040100 100400                    MLR     fill='040'O
         1 003341   000037 000003 0                  ADSC9   UTSX+18                  cn=0,n=3
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:249  
         1 003342   500005 400003                    ADSC9   5,,PR5                   cn=2,n=3
         1 003343   000000 621006                    EAX1    0,QL
         1 003344   040100 100540                    MLR     fill='040'O
         1 003345   100000 200011                    ADSC9   0,,PR1                   cn=1,n=*X1
         1 003346   500006 200074                    ADSC9   6,,PR5                   cn=1,n=60

     1030    14405    6                                         END;

     1031    14406    5                                    END;

  14406  1 003347   003522 710000 1                  TRA     s:14446

     1032    14407    5                                 ELSE DO;

     1033    14408    5                                      DEBUG$CMD.TPACCT = '1'B;

  14408  1 003350   001000 236007                    LDQ     512,DL
         1 003351   500001 256100                    ORSQ    1,,PR5

     1034    14409    5                                      DEBUG$CMD.CG_FID.SIZE = TEXT$ -> TEXT$C.SIZE;

  14409  1 003352   400000 236100                    LDQ     0,,PR4
         1 003353   000011 772000                    QRL     9
         1 003354   500005 552120                    STBQ    5,'20'O,PR5

     1035    14410    5                                      DEBUG$CMD.CG_FID.TEXT = TEXT$ -> TEXT$C.TXT;

  14410  1 003355   400000 236100                    LDQ     0,,PR4
         1 003356   000033 772000                    QRL     27
         1 003357   000000 621006                    EAX1    0,QL
         1 003360   040100 100540                    MLR     fill='040'O
         1 003361   400000 200011                    ADSC9   0,,PR4                   cn=1,n=*X1
         1 003362   500005 400077                    ADSC9   5,,PR5                   cn=2,n=63

     1036    14411    5                                    END;

     1037    14412    4                               END;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:250  

  14412  1 003363   003522 710000 1                  TRA     s:14446

     1038    14413    3                            ELSE IF CODE = 109 /* DBG_SYSID */

  14413  1 003364   000155 116007                    CMPQ    109,DL
         1 003365   003425 601000 1                  TNZ     s:14424

     1039    14414    4                                 THEN DO;

     1040    14415    4                                      NCC$ = NC$ -> POB.SUBLK$(0);

  14415  1 003366   100003 236100                    LDQ     3,,PR1
         1 003367   200020 756100                    STQ     NCC$,,AUTO

     1041    14416    4                                      CALL DDS$DECIMAL (NCC$, NCD) ALTRET(ARET);

  14416  1 003370   200017 633500                    EPPR3   NCD,,AUTO
         1 003371   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 003372   200020 634500                    EPPR4   NCC$,,AUTO
         1 003373   200050 454500                    STP4    @ND_PTR+1,,AUTO
         1 003374   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 003375   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 003376   000000 701000 xent               TSX1    DDS$DECIMAL
         1 003377   003534 702000 1                  TSX2    ARET

     1042    14417    4                                      DEBUG$CMD.SYSID# = NCD;

  14417  1 003400   200017 720100                    LXL0    NCD,,AUTO
         1 003401   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 003402   000001 740100                    STX0    1,,PR0

     1043    14418    4                                      NCC$ = NC$ -> POB.SUBLK$(1);

  14418  1 003403   200016 471500                    LDP1    NC$,,AUTO
         1 003404   100004 236100                    LDQ     4,,PR1
         1 003405   200020 756100                    STQ     NCC$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:251  

     1044    14419    4                                      TEXT$ = NCC$ -> POB.SUBLK$(0);

  14419  1 003406   200020 473500                    LDP3    NCC$,,AUTO
         1 003407   300003 236100                    LDQ     3,,PR3
         1 003410   200021 756100                    STQ     TEXT$,,AUTO

     1045    14420    4                                     DEBUG$CMD.STATION_FID.SIZE = TEXT$ -> TEXT$C.SIZE
             14420                                               ;

  14420  1 003411   200021 474500                    LDP4    TEXT$,,AUTO
         1 003412   400000 236100                    LDQ     0,,PR4
         1 003413   000003 552140                    STBQ    3,'40'O,PR0

     1046    14421    4                                     DEBUG$CMD.STATION_FID.TEXT = TEXT$ -> TEXT$C.TXT;

  14421  1 003414   400000 236100                    LDQ     0,,PR4
         1 003415   000033 772000                    QRL     27
         1 003416   000000 620006                    EAX0    0,QL
         1 003417   040100 100540                    MLR     fill='040'O
         1 003420   400000 200010                    ADSC9   0,,PR4                   cn=1,n=*X0
         1 003421   000003 200010                    ADSC9   3,,PR0                   cn=1,n=8

     1047    14422    4                                      DEBUG$CMD.SYSID = '1'B;

  14422  1 003422   004000 236007                    LDQ     2048,DL
         1 003423   000001 256100                    ORSQ    1,,PR0

     1048    14423    4                                    END;

  14423  1 003424   003522 710000 1                  TRA     s:14446

     1049    14424    3                                 ELSE IF CODE = 113 /* DBG_FEP */

  14424  1 003425   000161 116007                    CMPQ    113,DL
         1 003426   003522 601000 1                  TNZ     s:14446

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:252  
     1050    14425    4                                      THEN DO;

     1051    14426    4                                           DEBUG$CMD.FEP = '1'B;

  14426  1 003427   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 003430   010000 236007                    LDQ     4096,DL
         1 003431   300001 256100                    ORSQ    1,,PR3

     1052    14427    5                                           DO I = 0 TO NC$ -> POB.NSB - 1;

  14427  1 003432   200023 450100                    STZ     I,,AUTO
         1 003433   003514 710000 1                  TRA     s:14444+3

     1053    14428    5                                                NCC$ = NC$ -> POB.SUBLK$(I);

  14428  1 003434   200016 470500                    LDP0    NC$,,AUTO
         1 003435   200023 720100                    LXL0    I,,AUTO
         1 003436   000003 236110                    LDQ     3,X0,PR0
         1 003437   200020 756100                    STQ     NCC$,,AUTO

     1054    14429    5                                                NCD = NCC$ -> POB.CODE;

  14429  1 003440   200020 471500                    LDP1    NCC$,,AUTO
         1 003441   100000 236100                    LDQ     0,,PR1
         1 003442   777777 376007                    ANQ     -1,DL
         1 003443   200017 756100                    STQ     NCD,,AUTO

     1055    14430    5                                                IF NCD = 114 /* DBG_@ */

  14430  1 003444   000162 116007                    CMPQ    114,DL
         1 003445   003465 601000 1                  TNZ     s:14437

     1056    14431    6                                                THEN DO;

     1057    14432    6                                                     NCC$ = NCC$ -> POB.SUBLK$(0);

  14432  1 003446   100003 236100                    LDQ     3,,PR1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:253  
         1 003447   200020 756100                    STQ     NCC$,,AUTO

     1058    14433    6                                                     TEXT$ = NCC$ -> POB.SUBLK$(0);

  14433  1 003450   200020 471500                    LDP1    NCC$,,AUTO
         1 003451   100003 236100                    LDQ     3,,PR1
         1 003452   200021 756100                    STQ     TEXT$,,AUTO

     1059    14434    6                                                    DEBUG$CMD.STATION_FID.SIZE = TEXT$
             14434                                                              -> TEXT$C.SIZE;

  14434  1 003453   200021 473500                    LDP3    TEXT$,,AUTO
         1 003454   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 003455   300000 236100                    LDQ     0,,PR3
         1 003456   400003 552140                    STBQ    3,'40'O,PR4

     1060    14435    6                                                    DEBUG$CMD.STATION_FID.TEXT = TEXT$
             14435                                                              -> TEXT$C.TXT;

  14435  1 003457   300000 236100                    LDQ     0,,PR3
         1 003460   000033 772000                    QRL     27
         1 003461   000000 621006                    EAX1    0,QL
         1 003462   040100 100540                    MLR     fill='040'O
         1 003463   300000 200011                    ADSC9   0,,PR3                   cn=1,n=*X1
         1 003464   400003 200010                    ADSC9   3,,PR4                   cn=1,n=8

     1061    14436    6                                                   END;

     1062    14437    5                                                IF NCD = 115 /* DBG_U */

  14437  1 003465   200017 235100                    LDA     NCD,,AUTO
         1 003466   000163 115007                    CMPA    115,DL
         1 003467   003511 601000 1                  TNZ     s:14444

     1063    14438    6                                                THEN DO;

     1064    14439    6                                                     NCC$ = NCC$ -> POB.SUBLK$(0);
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:254  

  14439  1 003470   200020 470500                    LDP0    NCC$,,AUTO
         1 003471   000003 236100                    LDQ     3,,PR0
         1 003472   200020 756100                    STQ     NCC$,,AUTO

     1065    14440    6                                                     TEXT$ = NCC$ -> POB.SUBLK$(0);

  14440  1 003473   200020 470500                    LDP0    NCC$,,AUTO
         1 003474   000003 236100                    LDQ     3,,PR0
         1 003475   200021 756100                    STQ     TEXT$,,AUTO

     1066    14441    6                                                     DEBUG$CMD.CG_FID.SIZE = TEXT$ ->
             14441                                                              TEXT$C.SIZE;

  14441  1 003476   200021 471500                    LDP1    TEXT$,,AUTO
         1 003477   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 003500   100000 236100                    LDQ     0,,PR1
         1 003501   000011 772000                    QRL     9
         1 003502   300005 552120                    STBQ    5,'20'O,PR3

     1067    14442    6                                                     DEBUG$CMD.CG_FID.TEXT = TEXT$ ->
             14442                                                              TEXT$C.TXT;

  14442  1 003503   100000 236100                    LDQ     0,,PR1
         1 003504   000033 772000                    QRL     27
         1 003505   000000 621006                    EAX1    0,QL
         1 003506   040100 100540                    MLR     fill='040'O
         1 003507   100000 200011                    ADSC9   0,,PR1                   cn=1,n=*X1
         1 003510   300005 400077                    ADSC9   5,,PR3                   cn=2,n=63

     1068    14443    6                                                   END;

     1069    14444    5                                              END;

  14444  1 003511   200023 235100                    LDA     I,,AUTO
         1 003512   000001 035007                    ADLA    1,DL
         1 003513   200023 755100                    STA     I,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:255  
         1 003514   200016 470500                    LDP0    NC$,,AUTO
         1 003515   000001 236100                    LDQ     1,,PR0
         1 003516   000022 772000                    QRL     18
         1 003517   200023 116100                    CMPQ    I,,AUTO
         1 003520   003522 600000 1                  TZE     s:14446
         1 003521   003434 603000 1                  TRC     s:14428

     1070    14445    4                                         END;

     1071    14446    3           END;

  14446  1 003522   200014 054100                    AOS     IX,,AUTO
         1 003523   200014 236100                    LDQ     IX,,AUTO
         1 003524   200013 116100                    CMPQ    NSB,,AUTO
         1 003525   003157 604400 1                  TMOZ    s:14361

     1072    14447
     1073    14448    2        RETURN;

  14448  1 003526   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 003527   000001 702211                    TSX2  ! 1,X1

     1074    14449
     1075    14450    2   ARETLARG: S_D.ERROR = 46; GOTO ARET; /* E@TOOLARGE */

  14450  1 003530   000056 236007       ARETLARG     LDQ     46,DL
         1 003531   000000 470400 xsym               LDP0    S_D$
         1 003532   000013 756100                    STQ     11,,PR0

  14450  1 003533   003534 710000 1                  TRA     ARET

     1076    14451
     1077    14452    2   ARET:
     1078    14453    2        ALTRETURN;

  14453  1 003534   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 003535   000000 702211                    TSX2  ! 0,X1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:256  

     1079    14454
     1080    14455    2   END DDS$BLD_DEBUG;
     1081    14456        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:257  
     1082    14457        /*F* NAME: DDS$BLD_DEF
     1083    14458             PURPOSE: TO BUILD THE DEF COMMAND.
     1084    14459             DESCRIPTION: BUILDS THE DEF COMMAND. */
     1085    14460        /*D* NAME: DDS$BLD_DEF
     1086    14461             CALL: CALL DDS$BLD_DEF ALTRET( ERROR );
     1087    14462             INTERFACE: DDS$INSTR
     1088    14463                        DDS$VREFCOM
     1089    14464             ENVIRONMENT: DDS$SCAN ACTIVE
     1090    14465             INPUT: NCMD$ - PTR TO "DEF" NODE.
     1091    14466             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1092    14467             SCRATCH: LOCAL AUTO ONLY.
     1093    14468             DESCRIPTION: GETS "DEF"INED SYMBOLIC TEXT, WHICH MUST BE LESS THAN
     1094    14469             31 CHARACTERS LONG. BUILDS DATA DESCRIPTOR BY CALLING DDS$VREFCOM.
     1095    14470             RETURNS IF OK, ELSE ALTRETURNS. */
     1096    14471
     1097    14472    1   DDS$BLD_DEF: PROC ALTRET;

  14472  1 003536   200012 741300       DDS$BLD_DEF  STX1  ! ZITEM$+3,,AUTO

     1098    14473
     1099    14474    2   DCL TEXT$ PTR;
     1100    14475        %DEF$CMD (STCLASS="BASED(LASTBLT$)");
     1101    14489
     1102    14490    2        CALL DDS$ATTDIRA( SIZEW( DEF$CMD ), 4 ) ALTRET( ARET ); /* C_DEF */

  14490  1 003537   000027 630400 2                  EPPR0   23
         1 003540   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 003541   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 003542   003613 702000 1                  TSX2    ARET

     1103    14491    2        TEXT$ = NCMD$ -> POB.SUBLK$( 0 ) -> POB.SUBLK$( 0 );

  14491  1 003543   200004 470500                    LDP0    NCMD$,,AUTO
         1 003544   000003 471500                    LDP1    3,,PR0
         1 003545   100003 236100                    LDQ     3,,PR1
         1 003546   200013 756100                    STQ     TEXT$,,AUTO

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:258  
     1104    14492    2        IF ( TEXT$ -> TEXT$C.SIZE > 31 )

  14492  1 003547   200013 473500                    LDP3    TEXT$,,AUTO
         1 003550   300000 236100                    LDQ     0,,PR3
         1 003551   777000 376003                    ANQ     -512,DU
         1 003552   040000 116003                    CMPQ    16384,DU
         1 003553   003560 602000 1                  TNC     s:14497

     1105    14493    3        THEN DO;

     1106    14494    3             S_D.ERROR = 48;       /* E@SYM2LONG */

  14494  1 003554   000060 235007                    LDA     48,DL
         1 003555   000000 474400 xsym               LDP4    S_D$
         1 003556   400013 755100                    STA     11,,PR4

     1107    14495    3             GOTO ARET;

  14495  1 003557   003613 710000 1                  TRA     ARET

     1108    14496    3           END;
     1109    14497    2        DEF$CMD.TEXTC = TEXT$ -> TEXT$C;

  14497  1 003560   300000 236100                    LDQ     0,,PR3
         1 003561   000033 772000                    QRL     27
         1 003562   000001 620006                    EAX0    1,QL
         1 003563   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 003564   000100 100540                    MLR     fill='000'O
         1 003565   300000 000010                    ADSC9   0,,PR3                   cn=0,n=*X0
         1 003566   400002 000040                    ADSC9   2,,PR4                   cn=0,n=32

     1110    14498    2        ZITEM$ = S_D.D$;

  14498  1 003567   000000 471400 xsym               LDP1    S_D$
         1 003570   100044 236100                    LDQ     36,,PR1
         1 003571   200007 756100                    STQ     ZITEM$,,AUTO

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:259  
     1111    14499    2        CALL DDS$VREFCOM( NCMD$ -> POB.SUBLK$( 1 ) ) ALTRET( ARET );

  14499  1 003572   200004 236100                    LDQ     NCMD$,,AUTO
         1 003573   000004 036003                    ADLQ    4,DU
         1 003574   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 003575   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 003576   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 003577   000000 701000 xent               TSX1    DDS$VREFCOM
         1 003600   003613 702000 1                  TSX2    ARET

     1112    14500    2        IF ( NOT ZITEM.FLAGS.MDSE.E )

  14500  1 003601   200007 470500                    LDP0    ZITEM$,,AUTO
         1 003602   000001 236100                    LDQ     1,,PR0
         1 003603   040000 316003                    CANQ    16384,DU
         1 003604   003611 601000 1                  TNZ     s:14506

     1113    14501    3        THEN DO;

     1114    14502    3             S_D.ERROR = 43;         /* E@NOEVAL */

  14502  1 003605   000053 235007                    LDA     43,DL
         1 003606   000000 471400 xsym               LDP1    S_D$
         1 003607   100013 755100                    STA     11,,PR1

     1115    14503    3             GOTO ARET;

  14503  1 003610   003613 710000 1                  TRA     ARET

     1116    14504    3           END;
     1117    14505
     1118    14506    2        RETURN;

  14506  1 003611   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 003612   000001 702211                    TSX2  ! 1,X1

     1119    14507
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:260  
     1120    14508    2   ARET: ALTRETURN;

  14508  1 003613   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 003614   000000 702211                    TSX2  ! 0,X1

     1121    14509
     1122    14510    2   END DDS$BLD_DEF;
     1123    14511        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:261  
     1124    14512        /*F* NAME: DDS$BLD_DO
     1125    14513             PURPOSE: TO BUILD THE DO COMMAND.
     1126    14514             DESCRIPTION: BUILDS THE DO ATTACHMENT. */
     1127    14515        /*D* NAME: DDS$BLD_DO
     1128    14516             INTERFACE:
     1129    14517             ENVIRONMENT: DDS$SCAN ACTIVE.
     1130    14518             INPUT: NCMD$ - POINTER TO N_DO NODE.
     1131    14519             OUTPUT: S_D.D$ - POINTER TO NEXT FREE WORD IN VARCOM.
     1132    14520             SCRATCH: LOCAL AUTO ONLY
     1133    14521             DESCRIPTION: BUILDS THE DO ATTACHMENT. */
     1134    14522
     1135    14523    1   DDS$BLD_DO: PROC ALTRET;

  14523  1 003615   200012 741300       DDS$BLD_DO   STX1  ! ZITEM$+3,,AUTO

     1136    14524
     1137    14525    2   DCL TCODE SBIN;                         /* TEMP FOR ID */
     1138    14526        %DOO (STCLASS="BASED(LASTBLT$)");
     1139    14541
     1140    14542        /* INITIAL PROCESSING */
     1141    14543    2        CALL DDS$ATTDIRA( SIZEW(DOO), 5 ) /* C_DO */ ALTRET(ALTRT);

  14543  1 003616   000031 630400 2                  EPPR0   25
         1 003617   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 003620   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 003621   003650 702000 1                  TSX2    ALTRT

     1142    14544        /* GET THE ID & SPLIT */
     1143    14545    2        CALL DDS$DECIMAL(NCMD$->POB.SUBLK$(0),TCODE) ALTRET(ALTRT);
             14545                 /* GET THE ID TO DOO */

  14545  1 003622   200013 630500                    EPPR0   TCODE,,AUTO
         1 003623   200051 450500                    STP0    @ND_PTR+2,,AUTO
         1 003624   200004 236100                    LDQ     NCMD$,,AUTO
         1 003625   000003 036003                    ADLQ    3,DU
         1 003626   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 003627   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:262  
         1 003630   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 003631   000000 701000 xent               TSX1    DDS$DECIMAL
         1 003632   003650 702000 1                  TSX2    ALTRT

     1144    14546        /* MAKE SURE ID IS IN RANGE */
     1145    14547    2        IF (TCODE < 1) OR (TCODE > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1)

  14547  1 003633   200013 235100                    LDA     TCODE,,AUTO
         1 003634   003637 604400 1                  TMOZ    s:14549
         1 003635   000453 115007                    CMPA    299,DL
         1 003636   003643 604400 1                  TMOZ    s:14553

     1146    14548    3        THEN DO;                           /* OUT OF RANGE */

     1147    14549    3             S_D.ERROR = 12;          /* E@UERR1 */

  14549  1 003637   000014 236007                    LDQ     12,DL
         1 003640   000000 470400 xsym               LDP0    S_D$
         1 003641   000013 756100                    STQ     11,,PR0

     1148    14550    3             GOTO ALTRT;

  14550  1 003642   003650 710000 1                  TRA     ALTRT

     1149    14551    3           END;                            /* OUT OF RANGE */
     1150    14552    2        ELSE ;
     1151    14553    2        DOO.ID = TCODE;

  14553  1 003643   000000 620005                    EAX0    0,AL
         1 003644   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 003645   000001 740100                    STX0    1,,PR0

     1152    14554    2        RETURN;                            /* DONE - RETURN */

  14554  1 003646   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 003647   000001 702211                    TSX2  ! 1,X1

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:263  
     1153    14555    2   ALTRT:
     1154    14556    2        ALTRETURN;

  14556  1 003650   200012 221300       ALTRT        LDX1  ! ZITEM$+3,,AUTO
         1 003651   000000 702211                    TSX2  ! 0,X1

     1155    14557
     1156    14558    2   END DDS$BLD_DO;
     1157    14559        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:264  
     1158    14560        /*F* NAME: DDS$BLD_DISP
     1159    14561             PURPOSE: TO BUILD THE DISPLAY COMMAND.
     1160    14562             DESCRIPTION: BUILDS THE DISPLAY ATTACHMENT. */
     1161    14563        /*D* NAME: DDS$BLD_DISPLAY
     1162    14564             INTERFACE:
     1163    14565             ENVIRONMENT: DDS$SCAN ACTIVE.
     1164    14566             INPUT: NCMD$ - POINTER TO N_DISPLAY NODE.
     1165    14567             OUTPUT: S_D.D$ - POINTER TO NEXT FREE WORD IN VARCOM.
     1166    14568             SCRATCH: LOCAL AUTO ONLY
     1167    14569             DESCRIPTION: BUILDS THE DISPLAY ATTACHMENT. */
     1168    14570
     1169    14571    1   DDS$BLD_DISP: PROC ALTRET;

  14571  1 003652   200012 741300       DDS$BLD_DISP STX1  ! ZITEM$+3,,AUTO

     1170    14572
     1171    14573    2   DCL VREF SBIN;
     1172    14574    2   DCL NVREF$ PTR;
     1173    14575    2   DCL VREF$ PTR;
     1174    14576    2   DCL NUM SBIN;
     1175    14577        %DISPLAY (STCLASS="BASED(LASTBLT$)");
     1176    14588
     1177    14589    2        S_D.ERROR_SYM$ = ADDR(NIL);

  14589  1 003653   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 003654   000000 470400 xsym               LDP0    S_D$
         1 003655   000032 756100                    STQ     26,,PR0

     1178    14590    2        CALL DDS$ATTDIRA(SIZEW(DISPLAY),6) ALTRET(ARET); /*C_DISPLAY */

  14590  1 003656   000033 630400 2                  EPPR0   27
         1 003657   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 003660   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 003661   003732 702000 1                  TSX2    ARET

     1179    14591    2        NVREF$ = NCMD$ -> POB.SUBLK$(0);

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:265  
  14591  1 003662   200004 470500                    LDP0    NCMD$,,AUTO
         1 003663   000003 236100                    LDQ     3,,PR0
         1 003664   200014 756100                    STQ     NVREF$,,AUTO

     1180    14592    2        NUM = NVREF$ -> POB.NSB;

  14592  1 003665   200014 471500                    LDP1    NVREF$,,AUTO
         1 003666   100001 236100                    LDQ     1,,PR1
         1 003667   000022 772000                    QRL     18
         1 003670   200016 756100                    STQ     NUM,,AUTO

     1181    14593    2        DISPLAY.NUM = NUM;

  14593  1 003671   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 003672   000011 736000                    QLS     9
         1 003673   300001 552110                    STBQ    1,'10'O,PR3

     1182    14594    3        DO VREF = 0 TO NUM - 1;

  14594  1 003674   200013 450100                    STZ     VREF,,AUTO
         1 003675   003725 710000 1                  TRA     s:14604+1

     1183    14595        /*D* LEAVE "Q" AS IS (DON'T COPY D2Q) */
     1184    14596    3             VREF$ = NVREF$ -> POB.SUBLK$( VREF ); /* VREF_CODE */

  14596  1 003676   200014 470500                    LDP0    NVREF$,,AUTO
         1 003677   200013 720100                    LXL0    VREF,,AUTO
         1 003700   000003 236110                    LDQ     3,X0,PR0
         1 003701   200015 756100                    STQ     VREF$,,AUTO

     1185    14597    3             ZITEM$ = S_D.D$;         /* REMEMBER BEGINNING OF DATA DESCRIPTOR */

  14597  1 003702   000000 471400 xsym               LDP1    S_D$
         1 003703   100044 236100                    LDQ     36,,PR1
         1 003704   200007 756100                    STQ     ZITEM$,,AUTO

     1186    14598    3             CALL DDS$VREFCOM( VREF$ ) ALTRET( ARET );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:266  

  14598  1 003705   200015 633500                    EPPR3   VREF$,,AUTO
         1 003706   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 003707   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 003710   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 003711   000000 701000 xent               TSX1    DDS$VREFCOM
         1 003712   003732 702000 1                  TSX2    ARET

     1187    14599    3             IF NOT ZITEM.FLAGS.MDSE.D

  14599  1 003713   200007 470500                    LDP0    ZITEM$,,AUTO
         1 003714   000001 236100                    LDQ     1,,PR0
         1 003715   200000 316003                    CANQ    65536,DU
         1 003716   003724 601000 1                  TNZ     s:14604

     1188    14600    4             THEN DO;

     1189    14601    4                  S_D.ERROR = 41;    /* E@NODISP */

  14601  1 003717   000051 235007                    LDA     41,DL
         1 003720   000000 471400 xsym               LDP1    S_D$
         1 003721   100013 755100                    STA     11,,PR1

     1190    14602    4                  ALTRETURN;

  14602  1 003722   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 003723   000000 702211                    TSX2  ! 0,X1

     1191    14603    4                END;
     1192    14604    3           END;                            /* DO VREF = 0 TO NCMD$ -> ... */

  14604  1 003724   200013 054100                    AOS     VREF,,AUTO
         1 003725   200013 236100                    LDQ     VREF,,AUTO
         1 003726   200016 116100                    CMPQ    NUM,,AUTO
         1 003727   003676 604000 1                  TMI     s:14596

     1193    14605    2        RETURN;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:267  

  14605  1 003730   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 003731   000001 702211                    TSX2  ! 1,X1

     1194    14606    2   ARET:
     1195    14607    2        ALTRETURN;

  14607  1 003732   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 003733   000000 702211                    TSX2  ! 0,X1

     1196    14608
     1197    14609    2   END DDS$BLD_DISP;
     1198    14610        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:268  
     1199    14611        /*F* NAME: DDS$BLD_ERRFID
     1200    14612             PURPOSE: TO BUILD THE ERRFID COMMAND.
     1201    14613             DESCRIPTION: BUILDS THE ERRFID COMMAND. */
     1202    14614        /*D* NAME: DDS$BLD_ERRFID
     1203    14615             CALL: CALL DDS$BLD_ERRFID ALTRET( ERROR );
     1204    14616             ENVIRONMENT: DDS$SCAN ACTIVE
     1205    14617             INPUT: NCMD$ - PTR TO "ERRFID" NODE.
     1206    14618             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1207    14619             SCRATCH: LOCAL AUTO ONLY.
     1208    14620             DESCRIPTION: BUILDS THE ERRFID COMMAND, USE THE RUM$CMD
     1209    14621             STRUCTURE BUT JUST THE FID IS USED. */
     1210    14622
     1211    14623    1   DDS$BLD_ERRFID: PROC ALTRET;

  14623  1 003734   200012 741300       DDS$BLD_ERR* STX1  ! ZITEM$+3,,AUTO

     1212    14624
     1213    14625        %RUM$CMD (NAME=ERRFID$CMD, STCLASS="BASED(LASTBLT$)");
     1214    14649
     1215    14650    2        CALL DDS$ATTDIRA( SIZEW( ERRFID$CMD ), 86 ) ALTRET( ARET ); /* C_ERRFID */

  14650  1 003735   000037 630400 2                  EPPR0   31
         1 003736   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 003737   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 003740   003755 702000 1                  TSX2    ARET

     1216    14651
     1217    14652    2        ERRFID$CMD.FID = NCMD$->POB.SUBLK$(0)->POB.SUBLK$(0)->TEXT$C;

  14652  1 003741   200004 470500                    LDP0    NCMD$,,AUTO
         1 003742   000003 471500                    LDP1    3,,PR0
         1 003743   100003 473500                    LDP3    3,,PR1
         1 003744   300000 236100                    LDQ     0,,PR3
         1 003745   000033 772000                    QRL     27
         1 003746   000001 620006                    EAX0    1,QL
         1 003747   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 003750   000100 100540                    MLR     fill='000'O
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:269  
         1 003751   300000 000010                    ADSC9   0,,PR3                   cn=0,n=*X0
         1 003752   400010 000100                    ADSC9   8,,PR4                   cn=0,n=64

     1218    14653    2        RETURN;

  14653  1 003753   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 003754   000001 702211                    TSX2  ! 1,X1

     1219    14654
     1220    14655    2   ARET: ALTRETURN;

  14655  1 003755   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 003756   000000 702211                    TSX2  ! 0,X1

     1221    14656
     1222    14657    2   END DDS$BLD_ERRFID;
     1223    14658        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:270  
     1224    14659        /*F* NAME: DDS$BLD_EVAL
     1225    14660             PURPOSE: TO BUILD THE EVAL COMMAND.
     1226    14661             DESCRIPTION: BUILDS THE EVAL COMMAND. */
     1227    14662        /*D* NAME: DDS$BLD_EVAL
     1228    14663             CALL: CALL DDS$BLD_EVAL ALTRET( ERROR );
     1229    14664             INTERFACE: DDS$INSTR
     1230    14665                        DDS$VREFCOM
     1231    14666             ENVIRONMENT: DDS$SCAN ACTIVE
     1232    14667             INPUT: NCMD$ - PTR TO "EVAL" NODE.
     1233    14668             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1234    14669             SCRATCH: LOCAL AUTO ONLY.
     1235    14670             DESCRIPTION: BUILDS A DATA DESCRIPTOR FOR THE ITEM TO BE EVALUATED.
     1236    14671             FOR A STANDARD TYPE DATA DESCRIPTOR, DDS$VREFCOM IS CALLED TO DO THE
     1237    14672             WORK, ELSE, DDS$INSTR IS CALLED TO BUILD AN INSTRUCTION TEMPLATE
     1238    14673             FOLLOWED BY A DATA DESCRIPTOR. IN THE LATTER CASE, THE INSTR BIT
     1239    14674             IS SET IN EVAL$CMD, THE FORMAT CODE IS SET IN THE DATA DESCRIPTOR
     1240    14675             AS INSTRUCTION, UNLESS AN EXPLICIT FORMAT CODE WAS SPECIFIED. RETURNS
     1241    14676             IF NO ERROR CONDITION ENCOUNTERED, ELSE ALTRETURNS. */
     1242    14677
     1243    14678    1   DDS$BLD_EVAL: PROC ALTRET;

  14678  1 003757   200012 741300       DDS$BLD_EVAL STX1  ! ZITEM$+3,,AUTO

     1244    14679
     1245    14680    2   DCL N$ PTR;
     1246    14681    2   DCL CODE UBIN;
     1247    14682    2   DCL IX SBIN;
     1248    14683    2   DCL NSB SBIN;
     1249    14684        /*D* IX and NSB must be SBIN */
     1250    14685    2   DCL NCD UBIN;
     1251    14686    2   DCL GOTVREF BIT(1) ALIGNED;
     1252    14687    2   DCL GOTFMT BIT(1) ALIGNED;
     1253    14688        %EVAL$CMD (STCLASS="BASED(LASTBLT$)");
     1254    14703
     1255    14704    2        CALL DDS$ATTDIRA( SIZEW( EVAL$CMD ), 8 ) ALTRET( ARET ); /* C_EVAL */

  14704  1 003760   000041 630400 2                  EPPR0   33
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:271  
         1 003761   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 003762   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 003763   004160 702000 1                  TSX2    ARET

     1256    14705    2        IF S_D.SACT

  14705  1 003764   000000 470400 xsym               LDP0    S_D$
         1 003765   000501 234100                    SZN     321,,PR0
         1 003766   003772 605000 1                  TPL     s:14707

     1257    14706    2        THEN EVAL$CMD.SACT = '1'B;

  14706  1 003767   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 003770   000400 236007                    LDQ     256,DL
         1 003771   100001 256100                    ORSQ    1,,PR1

     1258    14707    2        GOTVREF = '0'B;                    /* ASSUME NOT ENCOUNTERED */

  14707  1 003772   200020 450100                    STZ     GOTVREF,,AUTO

     1259    14708    2        CODE = %DEFAULT_FMT;               /* DEFAULT_FMT */

  14708  1 003773   000037 235007                    LDA     31,DL
         1 003774   200014 755100                    STA     CODE,,AUTO

     1260    14709    2        NSB = NCMD$ -> POB.NSB - 1;

  14709  1 003775   200004 471500                    LDP1    NCMD$,,AUTO
         1 003776   100001 236100                    LDQ     1,,PR1
         1 003777   000022 772000                    QRL     18
         1 004000   000001 136007                    SBLQ    1,DL
         1 004001   200016 756100                    STQ     NSB,,AUTO

     1261    14710    3        DO IX = 0 TO NSB;

  14710  1 004002   200015 450100                    STZ     IX,,AUTO
         1 004003   004135 710000 1                  TRA     s:14744+1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:272  

     1262    14711    3             N$ = NCMD$ -> POB.SUBLK$( IX );

  14711  1 004004   200004 470500                    LDP0    NCMD$,,AUTO
         1 004005   200015 720100                    LXL0    IX,,AUTO
         1 004006   000003 236110                    LDQ     3,X0,PR0
         1 004007   200013 756100                    STQ     N$,,AUTO

     1263    14712    3             NCD = N$ -> POB.CODE;

  14712  1 004010   200013 471500                    LDP1    N$,,AUTO
         1 004011   100000 236100                    LDQ     0,,PR1
         1 004012   777777 376007                    ANQ     -1,DL
         1 004013   200017 756100                    STQ     NCD,,AUTO

     1264    14713    3             IF ( NCD = 38 )        /* VREF_CODE */

  14713  1 004014   000046 116007                    CMPQ    38,DL
         1 004015   004055 601000 1                  TNZ     s:14727

     1265    14714    4             THEN DO;                      /* MAKE SURE IT'S EVALUATE-ABLE */

     1266    14715    4                  GOTVREF = '1'B;          /* GOT IT */

  14715  1 004016   400000 236003                    LDQ     -131072,DU
         1 004017   200020 756100                    STQ     GOTVREF,,AUTO

     1267    14716    4                  ZITEM$ = S_D.D$;

  14716  1 004020   000000 473400 xsym               LDP3    S_D$
         1 004021   300044 236100                    LDQ     36,,PR3
         1 004022   200007 756100                    STQ     ZITEM$,,AUTO

     1268    14717    4                  CALL DDS$VREFCOM( N$, GOTFMT ) ALTRET( ARET );

  14717  1 004023   200021 634500                    EPPR4   GOTFMT,,AUTO
         1 004024   200051 454500                    STP4    @ND_PTR+2,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:273  
         1 004025   200013 635500                    EPPR5   N$,,AUTO
         1 004026   200050 455500                    STP5    @ND_PTR+1,,AUTO
         1 004027   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 004030   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 004031   000000 701000 xent               TSX1    DDS$VREFCOM
         1 004032   004160 702000 1                  TSX2    ARET

     1269    14718    4                  IF ( NOT ZITEM.FLAGS.MDSE.E )

  14718  1 004033   200007 470500                    LDP0    ZITEM$,,AUTO
         1 004034   000001 236100                    LDQ     1,,PR0
         1 004035   040000 316003                    CANQ    16384,DU
         1 004036   004043 601000 1                  TNZ     s:14723

     1270    14719    5                  THEN DO;

     1271    14720    5                       S_D.ERROR = 43; /* E@NOEVAL */

  14720  1 004037   000053 235007                    LDA     43,DL
         1 004040   000000 471400 xsym               LDP1    S_D$
         1 004041   100013 755100                    STA     11,,PR1

     1272    14721    5                       GOTO ARET;

  14721  1 004042   004160 710000 1                  TRA     ARET

     1273    14722    5                     END;
     1274    14723    4                  IF ( NOT GOTFMT )

  14723  1 004043   200021 234100                    SZN     GOTFMT,,AUTO
         1 004044   004050 604000 1                  TMI     s:14725

     1275    14724    4                  THEN CODE = %DEFAULT_FMT;

  14724  1 004045   000037 235007                    LDA     31,DL
         1 004046   200014 755100                    STA     CODE,,AUTO
         1 004047   004134 710000 1                  TRA     s:14744
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:274  

     1276    14725    4                  ELSE CODE = ZITEM.FMT_SPEC;

  14725  1 004050   000006 236100                    LDQ     6,,PR0
         1 004051   000011 772000                    QRL     9
         1 004052   000777 376007                    ANQ     511,DL
         1 004053   200014 756100                    STQ     CODE,,AUTO

     1277    14726    4                END;

  14726  1 004054   004134 710000 1                  TRA     s:14744

     1278    14727    3             ELSE IF ( NCD = 49 )  /* INSTR_CODE */

  14727  1 004055   000061 116007                    CMPQ    49,DL
         1 004056   004127 601000 1                  TNZ     s:14743

     1279    14728    4                  THEN DO;

     1280    14729    4                       GOTVREF = '1'B;

  14729  1 004057   400000 236003                    LDQ     -131072,DU
         1 004060   200020 756100                    STQ     GOTVREF,,AUTO

     1281    14730    4                       EVAL$CMD.INSTR = '1'B;

  14730  1 004061   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 004062   300001 256100                    ORSQ    1,,PR3

     1282    14731    5                       DO CASE ( S_D.ONE_TO_TWO.EXEC_DOMAIN );

  14731  1 004063   000000 471400 xsym               LDP1    S_D$
         1 004064   106714 235100                    LDA     3532,,PR1
         1 004065   000003 115007                    CMPA    3,DL
         1 004066   004070 602005 1                  TNC     s:14731+5,AL
         1 004067   004107 710000 1                  TRA     s:14737
         1 004070   004107 710000 1                  TRA     s:14737
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:275  
         1 004071   004073 710000 1                  TRA     s:14733
         1 004072   004102 710000 1                  TRA     s:14735

     1283    14732    5                         CASE ( %HOST );

     1284    14733    5                            CALL DDS$INSTR( N$ ) ALTRET( ARET );

  14733  1 004073   200013 634500                    EPPR4   N$,,AUTO
         1 004074   200050 454500                    STP4    @ND_PTR+1,,AUTO
         1 004075   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 004076   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 004077   000000 701000 xent               TSX1    DDS$INSTR
         1 004100   004160 702000 1                  TSX2    ARET
         1 004101   004112 710000 1                  TRA     s:14740

     1285    14734    5                         CASE ( %L6 );

     1286    14735    5                            CALL DDS$SAVE_L6INSTR_PTR ( N$ );

  14735  1 004102   200013 634500                    EPPR4   N$,,AUTO
         1 004103   200047 454500                    STP4    V+2,,AUTO
         1 004104   014116 701000 1                  TSX1    DDS$SAVE_L6INSTR_PTR
         1 004105   000000 011000                    NOP     0
         1 004106   004112 710000 1                  TRA     s:14740

     1287    14736    5                         CASE ( ELSE );

     1288    14737    5                            S_D.ERROR = 502;

  14737  1 004107   000766 235007                    LDA     502,DL
         1 004110   100013 755100                    STA     11,,PR1

     1289    14738    5                            GOTO ARET;

  14738  1 004111   004160 710000 1                  TRA     ARET

     1290    14739    5                         END;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:276  

     1291    14740    4                       EVAL$CMD.IGNPR = S_D.IGNPR;

  14740  1 004112   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 004113   000000 471400 xsym               LDP1    S_D$
         1 004114   100504 236100                    LDQ     324,,PR1
         1 004115   000002 772000                    QRL     2
         1 004116   000001 676100                    ERQ     1,,PR0
         1 004117   100000 376003                    ANQ     32768,DU
         1 004120   000001 656100                    ERSQ    1,,PR0

     1292    14741    4                       EVAL$CMD.AWDX = S_D.AWDX;

  14741  1 004121   100505 236100                    LDQ     325,,PR1
         1 004122   000003 772000                    QRL     3
         1 004123   000001 676100                    ERQ     1,,PR0
         1 004124   040000 376003                    ANQ     16384,DU
         1 004125   000001 656100                    ERSQ    1,,PR0

     1293    14742    4                     END;

  14742  1 004126   004134 710000 1                  TRA     s:14744

     1294    14743    3                  ELSE CODE = N$ -> POB.SUBLK$( 0 ) -> POB.CODE - 340;
             14743                           /* FMTFIRST_CODE */

  14743  1 004127   100003 473500                    LDP3    3,,PR1
         1 004130   300000 236100                    LDQ     0,,PR3
         1 004131   777777 376007                    ANQ     -1,DL
         1 004132   000524 136007                    SBLQ    340,DL
         1 004133   200014 756100                    STQ     CODE,,AUTO

     1295    14744    3           END;

  14744  1 004134   200015 054100                    AOS     IX,,AUTO
         1 004135   200015 236100                    LDQ     IX,,AUTO
         1 004136   200016 116100                    CMPQ    NSB,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:277  
         1 004137   004004 604400 1                  TMOZ    s:14711

     1296    14745    2        IF GOTVREF

  14745  1 004140   200020 234100                    SZN     GOTVREF,,AUTO
         1 004141   004146 605000 1                  TPL     s:14747

     1297    14746    2        THEN EVAL$CMD.DDESC = '1'B;

  14746  1 004142   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 004143   200000 236003                    LDQ     65536,DU
         1 004144   000001 256100                    ORSQ    1,,PR0
         1 004145   004152 710000 1                  TRA     s:14748

     1298    14747    2        ELSE S_D.MACTIVE = S_D.REMACTIVE;

  14747  1 004146   000000 470400 xsym               LDP0    S_D$
         1 004147   000506 236100                    LDQ     326,,PR0
         1 004150   400000 376003                    ANQ     -131072,DU
         1 004151   000713 756100                    STQ     459,,PR0

     1299    14748    2        EVAL$CMD.FMT = CODE;

  14748  1 004152   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 004153   200014 236100                    LDQ     CODE,,AUTO
         1 004154   000011 736000                    QLS     9
         1 004155   000001 552110                    STBQ    1,'10'O,PR0

     1300    14749
     1301    14750    2        RETURN;

  14750  1 004156   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 004157   000001 702211                    TSX2  ! 1,X1

     1302    14751
     1303    14752    2   ARET: ALTRETURN;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:278  
  14752  1 004160   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 004161   000000 702211                    TSX2  ! 0,X1

     1304    14753
     1305    14754    2   END DDS$BLD_EVAL;
     1306    14755        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:279  
     1307    14756        /*F* NAME: DDS$BLD_FIND
     1308    14757             PURPOSE: TO BUILD THE FIND COMMAND.
     1309    14758             DESCRIPTION: BUILDS THE FIND COMMAND. */
     1310    14759        /*D* NAME: DDS$BLD_FIND
     1311    14760             CALL: CALL DDS$BLD_FIND ALTRET( ERROR );
     1312    14761             INTERFACE: DDS$INSTR
     1313    14762                        DDS$SDO
     1314    14763                        DDS$POSIMX
     1315    14764                        DDS$VREFCOM
     1316    14765             ENVIRONMENT: DDS$SCAN ACTIVE
     1317    14766             INPUT: NCMD$ - PTR TO "FIND" NODE.
     1318    14767             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1319    14768             SCRATCH: LOCAL AUTO ONLY.
     1320    14769             DESCRIPTION: */
     1321    14770
     1322    14771    1   DDS$BLD_FIND: PROC ALTRET;

  14771  1 004162   200012 741300       DDS$BLD_FIND STX1  ! ZITEM$+3,,AUTO

     1323    14772
     1324    14773    2   DCL V SBIN;
     1325    14774    2   DCL NSUB SBIN;
     1326    14775    2   DCL IX UBIN;
     1327    14776    2   DCL NC$ PTR;
     1328    14777    2   DCL NCC$ PTR;
     1329    14778    2   DCL NCD UBIN;
     1330    14779    2   DCL FROMX UBIN;
     1331    14780    2   DCL TEMP_FLAG BIT(1) ALIGNED;
     1332    14781    2   DCL SUBSX UBIN;
     1333    14782        %FIND$CMD (STCLASS="BASED(LASTBLT$)");
     1334    14808
     1335    14809    2        V = 10;                        /* C_FIND */

  14809  1 004163   000012 235007                    LDA     10,DL
         1 004164   200013 755100                    STA     V,,AUTO

     1336    14810    2        GOTO SETUP;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:280  

  14810  1 004165   004171 710000 1                  TRA     SETUP

     1337    14811
     1338    14812    2   DDS$BLD_STORE: ENTRY ALTRET;

  14812  1 004166   200012 741300       DDS$BLD_STO* STX1  ! ZITEM$+3,,AUTO

     1339    14813
     1340    14814    2        V = 18;                       /* C_STORE */

  14814  1 004167   000022 235007                    LDA     18,DL
         1 004170   200013 755100                    STA     V,,AUTO

     1341    14815        /*   GOTO SETUP; */
     1342    14816    2   SETUP:
     1343    14817    2        CALL DDS$ATTDIRA( SIZEW( FIND$CMD ), V ) ALTRET( ARET );

  14817  1 004171   200013 630500       SETUP        EPPR0   V,,AUTO
         1 004172   200051 450500                    STP0    @ND_PTR+2,,AUTO
         1 004173   000032 236000 2                  LDQ     26
         1 004174   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 004175   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 004176   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 004177   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 004200   004540 702000 1                  TSX2    ARET

     1344    14818    2        NSUB = NCMD$ -> POB.NSB - 1;

  14818  1 004201   200004 470500                    LDP0    NCMD$,,AUTO
         1 004202   000001 236100                    LDQ     1,,PR0
         1 004203   000022 772000                    QRL     18
         1 004204   000001 136007                    SBLQ    1,DL
         1 004205   200014 756100                    STQ     NSUB,,AUTO

     1345    14819    2        FROMX = NSUB;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:281  
  14819  1 004206   200021 756100                    STQ     FROMX,,AUTO

     1346    14820    2        SUBSX = NSUB;

  14820  1 004207   200023 756100                    STQ     SUBSX,,AUTO

     1347    14821    3        DO IX = 0 TO NSUB;

  14821  1 004210   200015 450100                    STZ     IX,,AUTO
         1 004211   004510 710000 1                  TRA     s:14893+3

     1348    14822    3             ZITEM$ = S_D.D$;

  14822  1 004212   000000 470400 xsym               LDP0    S_D$
         1 004213   000044 236100                    LDQ     36,,PR0
         1 004214   200007 756100                    STQ     ZITEM$,,AUTO

     1349    14823    3             NC$ = NCMD$ -> POB.SUBLK$ ( IX );

  14823  1 004215   200004 471500                    LDP1    NCMD$,,AUTO
         1 004216   200015 720100                    LXL0    IX,,AUTO
         1 004217   100003 236110                    LDQ     3,X0,PR1
         1 004220   200016 756100                    STQ     NC$,,AUTO

     1350    14824    3             NCD = NC$ -> POB.CODE;

  14824  1 004221   200016 473500                    LDP3    NC$,,AUTO
         1 004222   300000 236100                    LDQ     0,,PR3
         1 004223   777777 376007                    ANQ     -1,DL
         1 004224   200020 756100                    STQ     NCD,,AUTO

     1351    14825    3             V = 0;

  14825  1 004225   200013 450100                    STZ     V,,AUTO

     1352    14826    3             IF ( NCD = 84 )            /* C@NOT */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:282  
  14826  1 004226   000124 116007                    CMPQ    84,DL
         1 004227   004234 601000 1                  TNZ     s:14828

     1353    14827    3             THEN FIND$CMD.NOTFLAG = '1'B;

  14827  1 004230   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 004231   001000 236003                    LDQ     512,DU
         1 004232   400001 256100                    ORSQ    1,,PR4
         1 004233   004505 710000 1                  TRA     s:14893

     1354    14828    3             ELSE IF ( NCD = 38 )   /* VREF_CODE */

  14828  1 004234   000046 116007                    CMPQ    38,DL
         1 004235   004251 601000 1                  TNZ     s:14834

     1355    14829    4                  THEN DO;

     1356    14830    4                       CALL DDS$VREFCOM( NC$ ) ALTRET( ARET );

  14830  1 004236   200016 634500                    EPPR4   NC$,,AUTO
         1 004237   200050 454500                    STP4    @ND_PTR+1,,AUTO
         1 004240   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 004241   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 004242   000000 701000 xent               TSX1    DDS$VREFCOM
         1 004243   004540 702000 1                  TSX2    ARET

     1357    14831    4                       IF ( NOT ZITEM.FLAGS.MDSE.E )

  14831  1 004244   200007 470500                    LDP0    ZITEM$,,AUTO
         1 004245   000001 236100                    LDQ     1,,PR0
         1 004246   040000 316003                    CANQ    16384,DU
         1 004247   004531 600000 1                  TZE     USEREV

     1358    14832    4                       THEN GOTO USEREV;
     1359    14833    4                     END;

  14833  1 004250   004505 710000 1                  TRA     s:14893
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:283  

     1360    14834    3                  ELSE IF ( NCD = 49 ) /* INSTR_CODE */

  14834  1 004251   000061 116007                    CMPQ    49,DL
         1 004252   004301 601000 1                  TNZ     s:14841

     1361    14835    4                       THEN DO;

     1362    14836    4                            FIND$CMD.INSTR = '1'B;

  14836  1 004253   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 004254   400000 236003                    LDQ     -131072,DU
         1 004255   400001 256100                    ORSQ    1,,PR4

     1363    14837    4                            CALL DDS$INSTR( NC$ ) ALTRET( ARET );

  14837  1 004256   200016 633500                    EPPR3   NC$,,AUTO
         1 004257   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 004260   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 004261   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 004262   000000 701000 xent               TSX1    DDS$INSTR
         1 004263   004540 702000 1                  TSX2    ARET

     1364    14838    4                            FIND$CMD.IGNPR = S_D.IGNPR;

  14838  1 004264   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 004265   000000 471400 xsym               LDP1    S_D$
         1 004266   100504 236100                    LDQ     324,,PR1
         1 004267   000011 772000                    QRL     9
         1 004270   000001 676100                    ERQ     1,,PR0
         1 004271   000400 376003                    ANQ     256,DU
         1 004272   000001 656100                    ERSQ    1,,PR0

     1365    14839    4                            FIND$CMD.AWDX = S_D.AWDX;

  14839  1 004273   100505 236100                    LDQ     325,,PR1
         1 004274   000013 772000                    QRL     11
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:284  
         1 004275   000001 676100                    ERQ     1,,PR0
         1 004276   000100 376003                    ANQ     64,DU
         1 004277   000001 656100                    ERSQ    1,,PR0

     1366    14840    4                          END;

  14840  1 004300   004505 710000 1                  TRA     s:14893

     1367    14841    3                       ELSE IF ( NCD = 57 ) /* FROM_CODE */

  14841  1 004301   000071 116007                    CMPQ    57,DL
         1 004302   004353 601000 1                  TNZ     s:14857

     1368    14842    4                            THEN DO;

     1369    14843    4                                 FROMX = IX;

  14843  1 004303   200015 235100                    LDA     IX,,AUTO
         1 004304   200021 755100                    STA     FROMX,,AUTO

     1370    14844    4                                 FIND$CMD.FROM = '1'B;

  14844  1 004305   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 004306   200000 236003                    LDQ     65536,DU
         1 004307   400001 256100                    ORSQ    1,,PR4

     1371    14845    4                                 FIND$CMD.NUM = 17000000/*DD_BIGNUM*/;
             14845                                          /* > 16 MEGAWORDS */

  14845  1 004310   000043 235000 2                  LDA     35
         1 004311   400002 755100                    STA     2,,PR4

     1372    14846    4                                 NCC$ = NC$ -> POB.SUBLK$( 0 );

  14846  1 004312   200016 473500                    LDP3    NC$,,AUTO
         1 004313   300003 236100                    LDQ     3,,PR3
         1 004314   200017 756100                    STQ     NCC$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:285  

     1373    14847    4                                 CALL DDS$VREFCOM( NCC$ ) ALTRET( ARET );

  14847  1 004315   200017 635500                    EPPR5   NCC$,,AUTO
         1 004316   200050 455500                    STP5    @ND_PTR+1,,AUTO
         1 004317   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 004320   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 004321   000000 701000 xent               TSX1    DDS$VREFCOM
         1 004322   004540 702000 1                  TSX2    ARET

     1374    14848    4                                 IF ( NOT ZITEM.FLAGS.MDSE.E )

  14848  1 004323   200007 470500                    LDP0    ZITEM$,,AUTO
         1 004324   000001 236100                    LDQ     1,,PR0
         1 004325   040000 316003                    CANQ    16384,DU
         1 004326   004531 600000 1                  TZE     USEREV

     1375    14849    4                                 THEN GOTO USEREV;
     1376    14850    4                                 IF NC$ -> POB.NSB > 1

  14850  1 004327   200016 471500                    LDP1    NC$,,AUTO
         1 004330   100001 220100                    LDX0    1,,PR1
         1 004331   000002 100003                    CMPX0   2,DU
         1 004332   004505 602000 1                  TNC     s:14893

     1377    14851    5                                 THEN DO;

     1378    14852    5                                      NCC$ = NC$ -> POB.SUBLK$( 1 );

  14852  1 004333   100004 236100                    LDQ     4,,PR1
         1 004334   200017 756100                    STQ     NCC$,,AUTO

     1379    14853    5                                     CALL DDD$SIMEXP( NCC$, V,TEMP_FLAG ) ALTRET( ARET
             14853                                               );

  14853  1 004335   200022 633500                    EPPR3   TEMP_FLAG,,AUTO
         1 004336   200052 453500                    STP3    @ND_PTR+3,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:286  
         1 004337   200013 634500                    EPPR4   V,,AUTO
         1 004340   200051 454500                    STP4    @ND_PTR+2,,AUTO
         1 004341   200017 635500                    EPPR5   NCC$,,AUTO
         1 004342   200050 455500                    STP5    @ND_PTR+1,,AUTO
         1 004343   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 004344   000021 631400 xsym               EPPR1   B_VECTNIL+17
         1 004345   000000 701000 xent               TSX1    DDD$SIMEXP
         1 004346   004540 702000 1                  TSX2    ARET

     1380    14854    5                                      FIND$CMD.NUM = V;

  14854  1 004347   200013 235100                    LDA     V,,AUTO
         1 004350   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 004351   000002 755100                    STA     2,,PR0

     1381    14855    5                                    END;

     1382    14856    4                               END;

  14856  1 004352   004505 710000 1                  TRA     s:14893

     1383    14857    3                            ELSE IF ( NCD = 58 ) /* UNDER_CODE */

  14857  1 004353   000072 116007                    CMPQ    58,DL
         1 004354   004374 601000 1                  TNZ     s:14863

     1384    14858    4                                 THEN DO;

     1385    14859    4                                      FIND$CMD.UNDER = '1'B;

  14859  1 004355   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 004356   100000 236003                    LDQ     32768,DU
         1 004357   400001 256100                    ORSQ    1,,PR4

     1386    14860    4                                      CALL DDS$POSIMX( NC$, V ) ALTRET( ARET );

  14860  1 004360   200013 633500                    EPPR3   V,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:287  
         1 004361   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 004362   200016 635500                    EPPR5   NC$,,AUTO
         1 004363   200050 455500                    STP5    @ND_PTR+1,,AUTO
         1 004364   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 004365   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 004366   000000 701000 xent               TSX1    DDS$POSIMX
         1 004367   004540 702000 1                  TSX2    ARET

     1387    14861    4                                      FIND$CMD.UNDER_V = V;

  14861  1 004370   200013 235100                    LDA     V,,AUTO
         1 004371   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 004372   000003 755100                    STA     3,,PR0

     1388    14862    4                                    END;

  14862  1 004373   004505 710000 1                  TRA     s:14893

     1389    14863    3                                 ELSE IF ( NCD = 59 ) /* SUBS_CODE */

  14863  1 004374   000073 116007                    CMPQ    59,DL
         1 004375   004535 601000 1                  TNZ     USERNH

     1390    14864    4                                      THEN DO;

     1391    14865    4                                           SUBSX = IX;

  14865  1 004376   200015 235100                    LDA     IX,,AUTO
         1 004377   200023 755100                    STA     SUBSX,,AUTO

     1392    14866    4                                           FIND$CMD.SUBS = '1'B;

  14866  1 004400   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 004401   040000 236003                    LDQ     16384,DU
         1 004402   400001 256100                    ORSQ    1,,PR4

     1393    14867    4                                           NCC$ = NC$ -> POB.SUBLK$( 0 );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:288  

  14867  1 004403   200016 473500                    LDP3    NC$,,AUTO
         1 004404   300003 236100                    LDQ     3,,PR3
         1 004405   200017 756100                    STQ     NCC$,,AUTO

     1394    14868    4                                           NCD = NCC$ -> POB.CODE;

  14868  1 004406   200017 475500                    LDP5    NCC$,,AUTO
         1 004407   500000 236100                    LDQ     0,,PR5
         1 004410   777777 376007                    ANQ     -1,DL
         1 004411   200020 756100                    STQ     NCD,,AUTO

     1395    14869    4                                           IF ( NCD = 38 ) /* VREF_CODE */

  14869  1 004412   000046 116007                    CMPQ    38,DL
         1 004413   004427 601000 1                  TNZ     s:14875

     1396    14870    5                                           THEN DO;

     1397    14871    5                                               CALL DDS$VREFCOM( NCC$ ) ALTRET( ARET )
             14871                                                         ;

  14871  1 004414   200017 636500                    EPPR6   NCC$,,AUTO
         1 004415   200050 456500                    STP6    @ND_PTR+1,,AUTO
         1 004416   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 004417   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 004420   000000 701000 xent               TSX1    DDS$VREFCOM
         1 004421   004540 702000 1                  TSX2    ARET

     1398    14872    5                                                IF ( NOT ZITEM.FLAGS.MDSE.E )

  14872  1 004422   200007 470500                    LDP0    ZITEM$,,AUTO
         1 004423   000001 236100                    LDQ     1,,PR0
         1 004424   040000 316003                    CANQ    16384,DU
         1 004425   004531 600000 1                  TZE     USEREV

     1399    14873    5                                                THEN GOTO USEREV;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:289  
     1400    14874    5                                              END;

  14874  1 004426   004456 710000 1                  TRA     s:14883

     1401    14875    4                                           ELSE IF ( NCD = 49 ) /* INSTR_CODE */

  14875  1 004427   000061 116007                    CMPQ    49,DL
         1 004430   004535 601000 1                  TNZ     USERNH

     1402    14876    5                                                THEN DO;

     1403    14877    5                                                     FIND$CMD.SUBSINSTR = '1'B;

  14877  1 004431   010000 236003                    LDQ     4096,DU
         1 004432   400001 256100                    ORSQ    1,,PR4

     1404    14878    5                                                     CALL DDS$INSTR( NCC$ ) ALTRET(
             14878                                                              ARET );

  14878  1 004433   200017 633500                    EPPR3   NCC$,,AUTO
         1 004434   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 004435   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 004436   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 004437   000000 701000 xent               TSX1    DDS$INSTR
         1 004440   004540 702000 1                  TSX2    ARET

     1405    14879    5                                                     FIND$CMD.IGNPR = S_D.IGNPR;

  14879  1 004441   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 004442   000000 471400 xsym               LDP1    S_D$
         1 004443   100504 236100                    LDQ     324,,PR1
         1 004444   000011 772000                    QRL     9
         1 004445   000001 676100                    ERQ     1,,PR0
         1 004446   000400 376003                    ANQ     256,DU
         1 004447   000001 656100                    ERSQ    1,,PR0

     1406    14880    5                                                     FIND$CMD.AWDX = S_D.AWDX;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:290  

  14880  1 004450   100505 236100                    LDQ     325,,PR1
         1 004451   000013 772000                    QRL     11
         1 004452   000001 676100                    ERQ     1,,PR0
         1 004453   000100 376003                    ANQ     64,DU
         1 004454   000001 656100                    ERSQ    1,,PR0

     1407    14881    5                                                   END;

  14881  1 004455   004456 710000 1                  TRA     s:14883

     1408    14882    4                                                ELSE GOTO USERNH;
     1409    14883    4                                           IF NC$ -> POB.NSB > 1

  14883  1 004456   200016 470500                    LDP0    NC$,,AUTO
         1 004457   000001 220100                    LDX0    1,,PR0
         1 004460   000002 100003                    CMPX0   2,DU
         1 004461   004505 602000 1                  TNC     s:14893

     1410    14884    5                                           THEN DO;

     1411    14885    5                                                FIND$CMD.SUBSUNDER = '1'B;

  14885  1 004462   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 004463   020000 236003                    LDQ     8192,DU
         1 004464   100001 256100                    ORSQ    1,,PR1

     1412    14886    5                                                NC$ -> POB.SUBLK$( 0 ) = NC$ -> POB.
             14886                                                         SUBLK$( 1 );

  14886  1 004465   200016 470500                    LDP0    NC$,,AUTO
         1 004466   000004 236100                    LDQ     4,,PR0
         1 004467   000003 756100                    STQ     3,,PR0

     1413    14887    5                                                V = 0;

  14887  1 004470   200013 450100                    STZ     V,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:291  

     1414    14888    5                                                CALL DDS$POSIMX( NC$, V ) ALTRET( ARET
             14888                                                         );

  14888  1 004471   200013 630500                    EPPR0   V,,AUTO
         1 004472   200051 450500                    STP0    @ND_PTR+2,,AUTO
         1 004473   200016 633500                    EPPR3   NC$,,AUTO
         1 004474   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 004475   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 004476   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 004477   000000 701000 xent               TSX1    DDS$POSIMX
         1 004500   004540 702000 1                  TSX2    ARET

     1415    14889    5                                                FIND$CMD.SUBSUNDER_V = V;

  14889  1 004501   200013 235100                    LDA     V,,AUTO
         1 004502   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 004503   000004 755100                    STA     4,,PR0

     1416    14890    5                                              END;

     1417    14891    4                                         END;

  14891  1 004504   004505 710000 1                  TRA     s:14893

     1418    14892    3                                      ELSE GOTO USERNH;
     1419    14893    3           END;                            /* "DO IX" */

  14893  1 004505   200015 235100                    LDA     IX,,AUTO
         1 004506   000001 035007                    ADLA    1,DL
         1 004507   200015 755100                    STA     IX,,AUTO
         1 004510   200015 236100                    LDQ     IX,,AUTO
         1 004511   004514 604000 1                  TMI     s:14894
         1 004512   200014 116100                    CMPQ    NSUB,,AUTO
         1 004513   004212 604400 1                  TMOZ    s:14822

     1420    14894    2        IF SUBSX ~= FROMX
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:292  

  14894  1 004514   200023 236100                    LDQ     SUBSX,,AUTO
         1 004515   200021 116100                    CMPQ    FROMX,,AUTO
         1 004516   004527 600000 1                  TZE     s:14899

     1421    14895    2        THEN IF SUBSX < FROMX

  14895  1 004517   004524 603000 1                  TRC     s:14897

     1422    14896    2             THEN FIND$CMD.SUBSFIRST = '1'B;

  14896  1 004520   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 004521   004000 236003                    LDQ     2048,DU
         1 004522   000001 256100                    ORSQ    1,,PR0
         1 004523   004527 710000 1                  TRA     s:14899

     1423    14897    2             ELSE FIND$CMD.FROMFIRST = '1'B;

  14897  1 004524   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 004525   002000 236003                    LDQ     1024,DU
         1 004526   000001 256100                    ORSQ    1,,PR0

     1424    14898
     1425    14899    2        RETURN;

  14899  1 004527   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 004530   000001 702211                    TSX2  ! 1,X1

     1426    14900
     1427    14901    2   USEREV: S_D.ERROR = 43; GOTO ARET; /* E@NOEVAL */

  14901  1 004531   000053 235007       USEREV       LDA     43,DL
         1 004532   000000 471400 xsym               LDP1    S_D$
         1 004533   100013 755100                    STA     11,,PR1

  14901  1 004534   004540 710000 1                  TRA     ARET

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:293  
     1428    14902    2   USERNH: S_D.ERROR = 501; GOTO ARET; /* E@DERR1 */

  14902  1 004535   000765 235007       USERNH       LDA     501,DL
         1 004536   000013 755100                    STA     11,,PR0

  14902  1 004537   004540 710000 1                  TRA     ARET

     1429    14903
     1430    14904    2   ARET: ALTRETURN;

  14904  1 004540   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 004541   000000 702211                    TSX2  ! 0,X1

     1431    14905
     1432    14906    2   END DDS$BLD_FIND;
     1433    14907        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:294  
     1434    14908        /*F* NAME: DDS$BLD_FORMAT
     1435    14909             PURPOSE: TO BUILD THE FORMAT COMMAND.
     1436    14910             DESCRIPTION: BUILDS THE FORMAT COMMAND. */
     1437    14911        /*D* NAME: DDS$BLD_FORMAT
     1438    14912             CALL: CALL DDS$BLD_FORMAT ALTRET( ERROR );
     1439    14913             INTERFACE: DDS$ATTDIRA
     1440    14914             ENVIRONMENT: DDS$SCAN ACTIVE
     1441    14915             INPUT: NCMD$ - PTR TO "FORMAT" NODE.
     1442    14916             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1443    14917             SCRATCH: LOCAL AUTO ONLY.
     1444    14918             DESCRIPTION: */
     1445    14919
     1446    14920    1   DDS$BLD_FORMAT: PROC ALTRET;

  14920  1 004542   200012 741300       DDS$BLD_FOR* STX1  ! ZITEM$+3,,AUTO

     1447    14921
     1448    14922        %FORMAT$CMD (NAME=FORMAT$CMD,STCLASS="BASED(LASTBLT$)");
     1449    14934
     1450    14935    2        CALL DDS$ATTDIRA( SIZEW( FORMAT$CMD ), 16 ) ALTRET( ARET ); /* C_FORMAT */

  14935  1 004543   000045 630400 2                  EPPR0   37
         1 004544   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 004545   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 004546   004566 702000 1                  TSX2    ARET

     1451    14936    2        FORMAT$CMD.TYPE = NCMD$ -> POB.SUBLK$( 0 ) -> POB.CODE;

  14936  1 004547   200004 470500                    LDP0    NCMD$,,AUTO
         1 004550   000003 471500                    LDP1    3,,PR0
         1 004551   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 004552   100000 236100                    LDQ     0,,PR1
         1 004553   000033 736000                    QLS     27
         1 004554   300001 552140                    STBQ    1,'40'O,PR3

     1452    14937    2        FORMAT$CMD.FORMAT = NCMD$ -> POB.SUBLK$( 1 ) -> POB.SUBLK$( 0 ) -> POB.CODE -
             14937                 340; /* FMTFIRST_CODE */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:295  

  14937  1 004555   000004 471500                    LDP1    4,,PR0
         1 004556   100003 474500                    LDP4    3,,PR1
         1 004557   400000 236100                    LDQ     0,,PR4
         1 004560   777777 376007                    ANQ     -1,DL
         1 004561   000524 136007                    SBLQ    340,DL
         1 004562   000022 736000                    QLS     18
         1 004563   300001 552120                    STBQ    1,'20'O,PR3

     1453    14938
     1454    14939    2        RETURN;

  14939  1 004564   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 004565   000001 702211                    TSX2  ! 1,X1

     1455    14940
     1456    14941    2   ARET: ALTRETURN;

  14941  1 004566   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 004567   000000 702211                    TSX2  ! 0,X1

     1457    14942
     1458    14943    2   END DDS$BLD_FORMAT;
     1459    14944        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:296  
     1460    14945        /*F* NAME: DDS$BLD_GO
     1461    14946             PURPOSE: TO BUILD THE GO COMMAND.
     1462    14947             DESCRIPTION: BUILDS THE GO COMMAND. */
     1463    14948        /*D* NAME: DDS$BLD_GO
     1464    14949             CALL: CALL DDS$BLD_GO ALTRET( ERROR );
     1465    14950             INTERFACE: DDS$ATTDIRA
     1466    14951             ENVIRONMENT: DDS$SCAN ACTIVE
     1467    14952             INPUT: NCMD$ - PTR TO "GO" NODE.
     1468    14953             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1469    14954             SCRATCH: LOCAL AUTO ONLY.
     1470    14955             DESCRIPTION: */
     1471    14956
     1472    14957    1   DDS$BLD_GO: PROC ALTRET;

  14957  1 004570   200012 741300       DDS$BLD_GO   STX1  ! ZITEM$+3,,AUTO

     1473    14958                                                /* LOCAL TEMPS */
     1474    14959    2   DCL NSB SBIN;
     1475    14960    2   DCL IX SBIN;
     1476    14961        /*D* NSB & IX must be SBIN */
     1477    14962    2   DCL NC$ PTR;
     1478    14963    2   DCL CODE UBIN;
     1479    14964    2   DCL NCC$ PTR;
     1480    14965    2   DCL TCODE UBIN;
     1481    14966    2   DCL TFPRG$ PTR;
     1482    14967    2   DCL GOTIT BIT(1) ALIGNED;
     1483    14968        /*D* V must be UBIN */
     1484    14969    2   DCL V UBIN;
     1485    14970    2   DCL T1 UBIN;
     1486    14971    2   DCL TEXT$ PTR;
     1487    14972        %GO (NAME=GO$CMD,STCLASS="BASED(LASTBLT$)");
     1488    14992        %FPRG$CONTEXT;
     1489    15055
     1490    15056    2        T1 = 11;                       /* C_GOTO */

  15056  1 004571   000013 235007                    LDA     11,DL
         1 004572   200024 755100                    STA     T1,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:297  

     1491    15057    2        CALL DDS$ATTDIRA( SIZEW( GO$CMD ), T1 ) ALTRET( ARET );

  15057  1 004573   200024 630500                    EPPR0   T1,,AUTO
         1 004574   200051 450500                    STP0    @ND_PTR+2,,AUTO
         1 004575   000032 236000 2                  LDQ     26
         1 004576   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 004577   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 004600   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 004601   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 004602   005077 702000 1                  TSX2    ARET

     1492    15058    2        GO$CMD.ALL = '1'B;

  15058  1 004603   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 004604   040000 236007                    LDQ     16384,DL
         1 004605   000001 256100                    ORSQ    1,,PR0

     1493    15059    2        NSB = NCMD$ -> POB.NSB - 1;

  15059  1 004606   200004 471500                    LDP1    NCMD$,,AUTO
         1 004607   100001 236100                    LDQ     1,,PR1
         1 004610   000022 772000                    QRL     18
         1 004611   000001 136007                    SBLQ    1,DL
         1 004612   200013 756100                    STQ     NSB,,AUTO

     1494    15060    3        DO IX = 0 TO NSB;

  15060  1 004613   200014 450100                    STZ     IX,,AUTO
         1 004614   005020 710000 1                  TRA     s:15130+1

     1495    15061    3             NC$ = NCMD$ -> POB.SUBLK$( IX );

  15061  1 004615   200004 470500                    LDP0    NCMD$,,AUTO
         1 004616   200014 720100                    LXL0    IX,,AUTO
         1 004617   000003 236110                    LDQ     3,X0,PR0
         1 004620   200015 756100                    STQ     NC$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:298  

     1496    15062    3             CODE = NC$ -> POB.CODE;

  15062  1 004621   200015 471500                    LDP1    NC$,,AUTO
         1 004622   100000 236100                    LDQ     0,,PR1
         1 004623   777777 376007                    ANQ     -1,DL
         1 004624   200016 756100                    STQ     CODE,,AUTO

     1497    15063    3             IF CODE = 24          /* C@POSITION */

  15063  1 004625   000030 116007                    CMPQ    24,DL
         1 004626   004761 601000 1                  TNZ     s:15113

     1498    15064    4             THEN DO;

     1499    15065    4                  GOTIT = '0'B;

  15065  1 004627   200022 450100                    STZ     GOTIT,,AUTO

     1500    15066    4                  IF S_D.FPRG_CONTEXT$ ~= ADDR(NIL) AND

  15066  1 004630   000000 473400 xsym               LDP3    S_D$
         1 004631   300076 236100                    LDQ     62,,PR3
         1 004632   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 004633   004707 600000 1                  TZE     s:15092
         1 004634   200024 235100                    LDA     T1,,AUTO
         1 004635   000013 115007                    CMPA    11,DL
         1 004636   004707 601000 1                  TNZ     s:15092

     1501    15067    4                    T1 = 11            /* C_GOTO */
     1502    15068    5                  THEN DO;

     1503    15069                                      /* Check to see if this could be an FPRG RES */
     1504    15070    5                       NCC$ = NC$ -> POB.SUBLK$(0);

  15070  1 004637   100003 236100                    LDQ     3,,PR1
         1 004640   200017 756100                    STQ     NCC$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:299  

     1505    15071    5                       IF NCC$ -> POB.CODE = 13 /* C@POS11 */

  15071  1 004641   200017 474500                    LDP4    NCC$,,AUTO
         1 004642   400000 721100                    LXL1    0,,PR4
         1 004643   000015 101003                    CMPX1   13,DU
         1 004644   004707 601000 1                  TNZ     s:15092

     1506    15072    6                       THEN DO;

     1507    15073    6                            NCC$ = NCC$ -> POB.SUBLK$(0);

  15073  1 004645   400003 236100                    LDQ     3,,PR4
         1 004646   200017 756100                    STQ     NCC$,,AUTO

     1508    15074    6                            IF NCC$ -> POB.CODE = 16 /* C@STMT_SPEC1 */

  15074  1 004647   200017 474500                    LDP4    NCC$,,AUTO
         1 004650   400000 721100                    LXL1    0,,PR4
         1 004651   000020 101003                    CMPX1   16,DU
         1 004652   004707 601000 1                  TNZ     s:15092

     1509    15075    7                            THEN DO;

     1510    15076    7                                 NCC$ = NCC$ -> POB.SUBLK$(0);

  15076  1 004653   400003 236100                    LDQ     3,,PR4
         1 004654   200017 756100                    STQ     NCC$,,AUTO

     1511    15077    7                                 IF NCC$ -> POB.CODE = 14 /* SYM_CODE */

  15077  1 004655   200017 474500                    LDP4    NCC$,,AUTO
         1 004656   400000 721100                    LXL1    0,,PR4
         1 004657   000016 101003                    CMPX1   14,DU
         1 004660   004707 601000 1                  TNZ     s:15092

     1512    15078    8                                 THEN DO;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:300  

     1513    15079    8                                      TEXT$ = NCC$ -> POB.SUBLK$(0);

  15079  1 004661   400003 236100                    LDQ     3,,PR4
         1 004662   200025 756100                    STQ     TEXT$,,AUTO

     1514    15080    8                                      TFPRG$ = S_D.FPRG_CONTEXT$;

  15080  1 004663   300076 236100                    LDQ     62,,PR3
         1 004664   200021 756100                    STQ     TFPRG$,,AUTO

     1515    15081    9                                      DO WHILE (TFPRG$ ~= ADDR(NIL) AND

  15081  1 004665   004703 710000 1                  TRA     s:15087

     1516    15082    9                                        NOT GOTIT);
     1517    15083    9                                           IF TFPRG$ -> FPRG$CONTEXT.RES  =

  15083  1 004666   200025 470500                    LDP0    TEXT$,,AUTO
         1 004667   000000 236100                    LDQ     0,,PR0
         1 004670   000033 772000                    QRL     27
         1 004671   200021 471500                    LDP1    TFPRG$,,AUTO
         1 004672   000000 620006                    EAX0    0,QL
         1 004673   040140 106500                    CMPC    fill='040'O
         1 004674   100002 000010                    ADSC9   2,,PR1                   cn=0,n=8
         1 004675   000000 200010                    ADSC9   0,,PR0                   cn=1,n=*X0
         1 004676   004701 601000 1                  TNZ     s:15086

     1518    15084    9                                             TEXT$ -> TEXT$C.TXT
     1519    15085    9                                           THEN GOTIT = '1'B;

  15085  1 004677   400000 236003                    LDQ     -131072,DU
         1 004700   200022 756100                    STQ     GOTIT,,AUTO

     1520    15086    9                                           TFPRG$ = TFPRG$ -> FPRG$CONTEXT.NEXT$;

  15086  1 004701   100000 236100                    LDQ     0,,PR1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:301  
         1 004702   200021 756100                    STQ     TFPRG$,,AUTO

     1521    15087    9                                         END;

  15087  1 004703   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 004704   004707 600000 1                  TZE     s:15092
         1 004705   200022 234100                    SZN     GOTIT,,AUTO
         1 004706   004666 605000 1                  TPL     s:15083

     1522    15088    8                                    END;

     1523    15089    7                               END;

     1524    15090    6                          END;

     1525    15091    5                     END;

     1526    15092    4                  IF GOTIT

  15092  1 004707   200022 234100                    SZN     GOTIT,,AUTO
         1 004710   004726 605000 1                  TPL     s:15099

     1527    15093    5                  THEN DO;

     1528    15094    5                       GO$CMD.ALL = '0'B;

  15094  1 004711   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 004712   000047 236000 2                  LDQ     39
         1 004713   000001 356100                    ANSQ    1,,PR0

     1529    15095    5                       GO$CMD.FPRG = '1'B;

  15095  1 004714   010000 236007                    LDQ     4096,DL
         1 004715   000001 256100                    ORSQ    1,,PR0

     1530    15096    5                       GO$CMD.FPRG_RES = TEXT$ -> TEXT$C.TXT;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:302  
  15096  1 004716   200025 471500                    LDP1    TEXT$,,AUTO
         1 004717   100000 236100                    LDQ     0,,PR1
         1 004720   000033 772000                    QRL     27
         1 004721   000000 620006                    EAX0    0,QL
         1 004722   040100 100540                    MLR     fill='040'O
         1 004723   100000 200010                    ADSC9   0,,PR1                   cn=1,n=*X0
         1 004724   000003 000010                    ADSC9   3,,PR0                   cn=0,n=8

     1531    15097    5                     END;

  15097  1 004725   005017 710000 1                  TRA     s:15130

     1532    15098    5                  ELSE DO;

     1533    15099    5                       GO$CMD.GOPOS = '1'B;

  15099  1 004726   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 004727   400000 236007                    LDQ     -131072,DL
         1 004730   000001 256100                    ORSQ    1,,PR0

     1534    15100    5                       CALL DDS$POSITION( NC$, V ) ALTRET( ARET );

  15100  1 004731   200023 631500                    EPPR1   V,,AUTO
         1 004732   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 004733   200015 633500                    EPPR3   NC$,,AUTO
         1 004734   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 004735   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 004736   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 004737   000000 701000 xent               TSX1    DDS$POSITION
         1 004740   005077 702000 1                  TSX2    ARET

     1535    15101    5                       IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

  15101  1 004741   000000 470400 xsym               LDP0    S_D$
         1 004742   006714 235100                    LDA     3532,,PR0
         1 004743   000001 115007                    CMPA    1,DL
         1 004744   004751 601000 1                  TNZ     s:15107
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:303  

     1536    15102    6                       THEN DO;

     1537    15103    6                            IF ( V > BITBIN('777777'O) )

  15103  1 004745   200023 236100                    LDQ     V,,AUTO
         1 004746   000001 116003                    CMPQ    1,DU
         1 004747   005071 603000 1                  TRC     ERR25

     1538    15104    6                            THEN GOTO ERR25; /* TRUNCATION - INVALID IS ADDRESS */
     1539    15105    6                          END;

  15105  1 004750   004755 710000 1                  TRA     s:15110

     1540    15106    6                       ELSE DO;

     1541    15107    6                            IF ( V > BITBIN('3777777'O) )

  15107  1 004751   000025 236000 0                  LDQ     UTSX+8
         1 004752   000017 772000                    QRL     15
         1 004753   200023 116100                    CMPQ    V,,AUTO
         1 004754   005071 602000 1                  TNC     ERR25

     1542    15108    6                            THEN GOTO ERR25; /* TRUNCATION - INVALID IS ADDRESS */
     1543    15109    6                          END;

     1544    15110    5                       GO$CMD.POSITION = V;

  15110  1 004755   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 004756   200023 236100                    LDQ     V,,AUTO
         1 004757   100002 756100                    STQ     2,,PR1

     1545    15111    5                     END;

     1546    15112    4                END;

  15112  1 004760   005017 710000 1                  TRA     s:15130
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:304  

     1547    15113    3             ELSE IF CODE = 76         /* C@STEP */

  15113  1 004761   000114 116007                    CMPQ    76,DL
         1 004762   004767 601000 1                  TNZ     s:15115

     1548    15114    3                  THEN GO$CMD.STEP = '1'B;

  15114  1 004763   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 004764   200000 236007                    LDQ     65536,DL
         1 004765   300001 256100                    ORSQ    1,,PR3
         1 004766   005017 710000 1                  TRA     s:15130

     1549    15115    3                  ELSE IF CODE = 78    /* C@TRAP */

  15115  1 004767   000116 116007                    CMPQ    78,DL
         1 004770   004775 601000 1                  TNZ     s:15119

     1550    15116    4                       THEN DO;

     1551    15117    4                            GO$CMD.TRAP = '1'B;

  15117  1 004771   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 004772   100000 236007                    LDQ     32768,DL
         1 004773   300001 256100                    ORSQ    1,,PR3

     1552    15118    4                          END;

  15118  1 004774   005017 710000 1                  TRA     s:15130

     1553    15119    3                       ELSE IF CODE = 280 /* S@ALL */

  15119  1 004775   000430 116007                    CMPQ    280,DL
         1 004776   005003 601000 1                  TNZ     s:15121

     1554    15120    3                            THEN GO$CMD.ALL = '1'B;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:305  
  15120  1 004777   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 005000   040000 236007                    LDQ     16384,DL
         1 005001   300001 256100                    ORSQ    1,,PR3
         1 005002   005017 710000 1                  TRA     s:15130

     1555    15121    3                            ELSE IF CODE = 106 /* C@HOST */

  15121  1 005003   000152 116007                    CMPQ    106,DL
         1 005004   005013 601000 1                  TNZ     s:15127

     1556    15122    4                                 THEN DO;

     1557    15123    4                                      GO$CMD.ALL = '0'B;

  15123  1 005005   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 005006   000047 236000 2                  LDQ     39
         1 005007   300001 356100                    ANSQ    1,,PR3

     1558    15124    4                                      GO$CMD.HOST = '1'B;

  15124  1 005010   020000 236007                    LDQ     8192,DL
         1 005011   300001 256100                    ORSQ    1,,PR3

     1559    15125    4                                    END;

  15125  1 005012   005017 710000 1                  TRA     s:15130

     1560    15126    4                                 ELSE DO;

     1561    15127    4                                      S_D.ERROR = 501; /* E@DERR1 */

  15127  1 005013   000765 235007                    LDA     501,DL
         1 005014   000000 473400 xsym               LDP3    S_D$
         1 005015   300013 755100                    STA     11,,PR3

     1562    15128    4                                      GOTO ARET;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:306  
  15128  1 005016   005077 710000 1                  TRA     ARET

     1563    15129    4                                    END;
     1564    15130    3           END;

  15130  1 005017   200014 054100                    AOS     IX,,AUTO
         1 005020   200014 236100                    LDQ     IX,,AUTO
         1 005021   200013 116100                    CMPQ    NSB,,AUTO
         1 005022   004615 604400 1                  TMOZ    s:15061

     1565    15131    2        IF GO$CMD.ALL AND

  15131  1 005023   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 005024   000001 236100                    LDQ     1,,PR0
         1 005025   040000 316007                    CANQ    16384,DL
         1 005026   005056 600000 1                  TZE     s:15147
         1 005027   400000 316007                    CANQ    -131072,DL
         1 005030   005035 601000 1                  TNZ     s:15136
         1 005031   200000 316007                    CANQ    65536,DL
         1 005032   005035 601000 1                  TNZ     s:15136
         1 005033   100000 316007                    CANQ    32768,DL
         1 005034   005056 600000 1                  TZE     s:15147

     1566    15132    2          (GO$CMD.GOPOS OR
     1567    15133    2          GO$CMD.STEP OR
     1568    15134    2          GO$CMD.TRAP)
     1569    15135    3        THEN DO;

     1570    15136    3             IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

  15136  1 005035   000000 471400 xsym               LDP1    S_D$
         1 005036   106714 235100                    LDA     3532,,PR1
         1 005037   000001 115007                    CMPA    1,DL
         1 005040   005046 601000 1                  TNZ     s:15142

     1571    15137    4             THEN DO;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:307  
     1572    15138    4                  GO$CMD.ALL = '0'B;

  15138  1 005041   000047 236000 2                  LDQ     39
         1 005042   000001 356100                    ANSQ    1,,PR0

     1573    15139    4                  GO$CMD.HOST = '1'B;

  15139  1 005043   020000 236007                    LDQ     8192,DL
         1 005044   000001 256100                    ORSQ    1,,PR0

     1574    15140    4                END;

  15140  1 005045   005056 710000 1                  TRA     s:15147

     1575    15141    4             ELSE DO;

     1576    15142    4                  GO$CMD.ALL = '0'B;

  15142  1 005046   000047 236000 2                  LDQ     39
         1 005047   000001 356100                    ANSQ    1,,PR0

     1577    15143    4                  GO$CMD.FPRG = '1'B;

  15143  1 005050   010000 236007                    LDQ     4096,DL
         1 005051   000001 256100                    ORSQ    1,,PR0

     1578    15144    4                  GO$CMD.FPRG_RES = S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES;

  15144  1 005052   100102 473500                    LDP3    66,,PR1
         1 005053   040100 100500                    MLR     fill='040'O
         1 005054   300002 000010                    ADSC9   2,,PR3                   cn=0,n=8
         1 005055   000003 000010                    ADSC9   3,,PR0                   cn=0,n=8

     1579    15145    4                END;

     1580    15146    3           END;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:308  
     1581    15147    2        IF D_XDELTA AND GO$CMD.TRAP AND (GO$CMD.STEP OR GO$CMD.GOPOS)

  15147  1 005056   000000 234000 xsym               SZN     D_XDELTA
         1 005057   005067 605000 1                  TPL     s:15150
         1 005060   000001 236100                    LDQ     1,,PR0
         1 005061   100000 316007                    CANQ    32768,DL
         1 005062   005067 600000 1                  TZE     s:15150
         1 005063   200000 316007                    CANQ    65536,DL
         1 005064   005074 601000 1                  TNZ     ERR7
         1 005065   400000 316007                    CANQ    -131072,DL
         1 005066   005074 601000 1                  TNZ     ERR7

     1582    15148    2        THEN GOTO ERR7;
     1583    15149
     1584    15150    2        RETURN;

  15150  1 005067   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 005070   000001 702211                    TSX2  ! 1,X1

     1585    15151
     1586    15152    2   ERR25: S_D.ERROR = 25; GOTO ARET; /* E@UERR25 */

  15152  1 005071   000031 236007       ERR25        LDQ     25,DL
         1 005072   000013 756100                    STQ     11,,PR0

  15152  1 005073   005077 710000 1                  TRA     ARET

     1587    15153    2   ERR7: S_D.ERROR = 18;              /* E@UERR7 */

  15153  1 005074   000022 235007       ERR7         LDA     18,DL
         1 005075   000000 471400 xsym               LDP1    S_D$
         1 005076   100013 755100                    STA     11,,PR1

     1588    15154    2   ARET: ALTRETURN;

  15154  1 005077   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 005100   000000 702211                    TSX2  ! 0,X1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:309  

     1589    15155
     1590    15156    2   END DDS$BLD_GO;
     1591    15157             %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:310  
     1592    15158        /*F* NAME: DDS$BLD_HELP
     1593    15159             PURPOSE: TO BUILD THE HELP COMMAND.
     1594    15160             DESCRIPTION: BUILDS THE HELP COMMAND. */
     1595    15161        /*D* NAME: DDS$BLD_HELP
     1596    15162             CALL: CALL DDS$BLD_HELP ALTRET( ERROR );
     1597    15163             INTERFACE: DDS$ATTDIRA
     1598    15164             ENVIRONMENT: DDS$SCAN ACTIVE
     1599    15165             INPUT: NCMD$ - PTR TO "HELP" NODE.
     1600    15166             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1601    15167             SCRATCH: LOCAL AUTO ONLY.
     1602    15168             DESCRIPTION: */
     1603    15169
     1604    15170    1   DDS$BLD_HELP: PROC ALTRET;

  15170  1 005101   200012 741300       DDS$BLD_HELP STX1  ! ZITEM$+3,,AUTO

     1605    15171
     1606    15172        %HELP$CMD (NAME=HELP$CMD,STCLASS="BASED(LASTBLT$)");
     1607    15183
     1608    15184    2        CALL DDS$ATTDIRA( SIZEW( HELP$CMD ), 12 ) ALTRET( ARET );

  15184  1 005102   000051 630400 2                  EPPR0   41
         1 005103   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 005104   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 005105   005115 702000 1                  TSX2    ARET

     1609    15185    2        HELP$CMD.ASYM$ = NCMD$ -> POB.SUBLK$( 0 ) -> POB.SUBLK$( 0 );

  15185  1 005106   200004 470500                    LDP0    NCMD$,,AUTO
         1 005107   000003 471500                    LDP1    3,,PR0
         1 005110   100003 236100                    LDQ     3,,PR1
         1 005111   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 005112   300002 756100                    STQ     2,,PR3

     1610    15186
     1611    15187    2        RETURN;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:311  
  15187  1 005113   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 005114   000001 702211                    TSX2  ! 1,X1

     1612    15188
     1613    15189    2   ARET: ALTRETURN;

  15189  1 005115   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 005116   000000 702211                    TSX2  ! 0,X1

     1614    15190
     1615    15191    2   END DDS$BLD_HELP;
     1616    15192        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:312  
     1617    15193        /*F* NAME: DDS$BLD_HISTORY
     1618    15194             PURPOSE: TO BUILD THE HISTORY COMMAND.
     1619    15195             DESCRIPTION: BUILDS THE HISTORY COMMAND. */
     1620    15196        /*D* NAME: DDS$BLD_HISTORY
     1621    15197             CALL: CALL DDS$BLD_HISTORY ALTRET( ERROR );
     1622    15198             INTERFACE: DDS$ATTDIRA
     1623    15199             ENVIRONMENT: DDS$SCAN ACTIVE
     1624    15200             INPUT: NCMD$ - PTR TO "HISTORY" NODE.
     1625    15201             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1626    15202             SCRATCH: LOCAL AUTO ONLY.
     1627    15203             DESCRIPTION: */
     1628    15204
     1629    15205    1   DDS$BLD_HISTORY: PROC ALTRET;

  15205  1 005117   200012 741300       DDS$BLD_HIS* STX1  ! ZITEM$+3,,AUTO

     1630    15206
     1631    15207    2   DCL NSB SBIN;
     1632    15208    2   DCL IX SBIN;
     1633    15209        /*D* NSB & IX must be SBIN */
     1634    15210    2   DCL NC$ PTR;
     1635    15211    2   DCL CODE UBIN;
     1636    15212    2   DCL V UBIN;
     1637    15213        %HIST$CMD (NAME=HISTORY$CMD,STCLASS="BASED(LASTBLT$)");
     1638    15226
     1639    15227    2        CALL DDS$ATTDIRA( SIZEW( HISTORY$CMD ), 13 ) ALTRET( ARET ); /* C_HISTORY */

  15227  1 005120   000054 630400 2                  EPPR0   44
         1 005121   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 005122   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 005123   005220 702000 1                  TSX2    ARET

     1640    15228    2        HISTORY$CMD.COUNT = 17000000/*DD_BIGNUM*/;     /* DD_BIGNUM */

  15228  1 005124   000043 235000 2                  LDA     35
         1 005125   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 005126   000002 755100                    STA     2,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:313  

     1641    15229    2        NSB = NCMD$ -> POB.NSB - 1;

  15229  1 005127   200004 471500                    LDP1    NCMD$,,AUTO
         1 005130   100001 236100                    LDQ     1,,PR1
         1 005131   000022 772000                    QRL     18
         1 005132   000001 136007                    SBLQ    1,DL
         1 005133   200013 756100                    STQ     NSB,,AUTO

     1642    15230    3        DO IX = 0 TO NSB;

  15230  1 005134   200014 450100                    STZ     IX,,AUTO
         1 005135   005213 710000 1                  TRA     s:15248+1

     1643    15231    3             NC$ = NCMD$ -> POB.SUBLK$( IX );

  15231  1 005136   200004 470500                    LDP0    NCMD$,,AUTO
         1 005137   200014 720100                    LXL0    IX,,AUTO
         1 005140   000003 236110                    LDQ     3,X0,PR0
         1 005141   200015 756100                    STQ     NC$,,AUTO

     1644    15232    3             CODE = NC$ -> POB.CODE;

  15232  1 005142   200015 471500                    LDP1    NC$,,AUTO
         1 005143   100000 236100                    LDQ     0,,PR1
         1 005144   777777 376007                    ANQ     -1,DL
         1 005145   200016 756100                    STQ     CODE,,AUTO

     1645    15233    3             IF CODE = 530               /* C@ALL */

  15233  1 005146   001022 116007                    CMPQ    530,DL
         1 005147   005154 601000 1                  TNZ     s:15235

     1646    15234    3             THEN HISTORY$CMD.COUNT = 17000000/*DD_BIGNUM*/; /* DD_BIGNUM */

  15234  1 005150   000043 235000 2                  LDA     35
         1 005151   200005 473500                    LDP3    LASTBLT$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:314  
         1 005152   300002 755100                    STA     2,,PR3
         1 005153   005212 710000 1                  TRA     s:15248

     1647    15235    3             ELSE IF CODE = 67          /* C@SDO */

  15235  1 005154   000103 116007                    CMPQ    67,DL
         1 005155   005172 601000 1                  TNZ     s:15240

     1648    15236    4                  THEN DO;

     1649    15237    4                       CALL DDS$SDO( NC$, V ) ALTRET( ARET );

  15237  1 005156   200017 633500                    EPPR3   V,,AUTO
         1 005157   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 005160   200015 634500                    EPPR4   NC$,,AUTO
         1 005161   200050 454500                    STP4    @ND_PTR+1,,AUTO
         1 005162   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 005163   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 005164   000000 701000 xent               TSX1    DDS$SDO
         1 005165   005220 702000 1                  TSX2    ARET

     1650    15238    4                       HISTORY$CMD.COUNT = V;

  15238  1 005166   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 005167   200017 235100                    LDA     V,,AUTO
         1 005170   000002 755100                    STA     2,,PR0

     1651    15239    4                     END;

  15239  1 005171   005212 710000 1                  TRA     s:15248

     1652    15240    3                  ELSE IF CODE = 62    /* C@MORE */

  15240  1 005172   000076 116007                    CMPQ    62,DL
         1 005173   005200 601000 1                  TNZ     s:15242

     1653    15241    3                       THEN HISTORY$CMD.MORE = '1'B;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:315  

  15241  1 005174   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 005175   400000 236003                    LDQ     -131072,DU
         1 005176   300001 256100                    ORSQ    1,,PR3
         1 005177   005212 710000 1                  TRA     s:15248

     1654    15242    3                       ELSE IF CODE = 102 /* C@CLEAR */

  15242  1 005200   000146 116007                    CMPQ    102,DL
         1 005201   005206 601000 1                  TNZ     s:15245

     1655    15243    3                            THEN HISTORY$CMD.CLEAR = '1'B;

  15243  1 005202   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 005203   200000 236003                    LDQ     65536,DU
         1 005204   300001 256100                    ORSQ    1,,PR3
         1 005205   005212 710000 1                  TRA     s:15248

     1656    15244    4                            ELSE DO;

     1657    15245    4                                 S_D.ERROR = 501; /* E@DERR1 */

  15245  1 005206   000765 235007                    LDA     501,DL
         1 005207   000000 473400 xsym               LDP3    S_D$
         1 005210   300013 755100                    STA     11,,PR3

     1658    15246    4                                 GOTO ARET;

  15246  1 005211   005220 710000 1                  TRA     ARET

     1659    15247    4                               END;
     1660    15248    3           END;

  15248  1 005212   200014 054100                    AOS     IX,,AUTO
         1 005213   200014 236100                    LDQ     IX,,AUTO
         1 005214   200013 116100                    CMPQ    NSB,,AUTO
         1 005215   005136 604400 1                  TMOZ    s:15231
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:316  

     1661    15249
     1662    15250    2        RETURN;

  15250  1 005216   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 005217   000001 702211                    TSX2  ! 1,X1

     1663    15251
     1664    15252    2   ARET: ALTRETURN;

  15252  1 005220   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 005221   000000 702211                    TSX2  ! 0,X1

     1665    15253
     1666    15254    2   END DDS$BLD_HISTORY;
     1667    15255        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:317  
     1668    15256        /*F* NAME: DDS$BLD_KILL
     1669    15257             PURPOSE: TO BUILD THE KILL COMMAND.
     1670    15258             DESCRIPTION: BUILDS THE KILL COMMAND. */
     1671    15259        /*D* NAME: DDS$BLD_KILL
     1672    15260             CALL: CALL DDS$BLD_KILL ALTRET( ERROR );
     1673    15261             INTERFACE: DDS$DECIMAL
     1674    15262             ENVIRONMENT: DDS$SCAN ACTIVE
     1675    15263             INPUT: NCMD$ - PTR TO "KILL" NODE.
     1676    15264             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1677    15265             SCRATCH: LOCAL AUTO ONLY.
     1678    15266             DESCRIPTION: */
     1679    15267
     1680    15268    1   DDS$BLD_KILL: PROC ALTRET;

  15268  1 005222   200012 741300       DDS$BLD_KILL STX1  ! ZITEM$+3,,AUTO

     1681    15269
     1682    15270    2   DCL N$ PTR;
     1683    15271    2   DCL V UBIN;
     1684    15272    2   DCL V1 UBIN;
     1685    15273    2   DCL NC$ PTR;
     1686    15274    2   DCL TEXT$ PTR;
     1687    15275        %SHOW$CMD (NAME=KILL$CMD,STCLASS="BASED(LASTBLT$)");
     1688    15297
     1689    15298    2        CALL DDS$ATTDIRA( SIZEW( KILL$CMD ), 20 ) ALTRET( ARET ); /* C_KILL */

  15298  1 005223   000060 630400 2                  EPPR0   48
         1 005224   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 005225   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 005226   005536 702000 1                  TSX2    ARET

     1690    15299    2        N$ = NCMD$ -> POB.SUBLK$( 0 );

  15299  1 005227   200004 470500                    LDP0    NCMD$,,AUTO
         1 005230   000003 236100                    LDQ     3,,PR0
         1 005231   200013 756100                    STQ     N$,,AUTO

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:318  
     1691    15300    2        KILL$CMD.TYPE = N$ -> POB.CODE;

  15300  1 005232   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 005233   200013 473500                    LDP3    N$,,AUTO
         1 005234   300000 236100                    LDQ     0,,PR3
         1 005235   000033 736000                    QLS     27
         1 005236   100001 552140                    STBQ    1,'40'O,PR1

     1692    15301    3        DO CASE( KILL$CMD.TYPE );

  15301  1 005237   100001 236100                    LDQ     1,,PR1
         1 005240   000033 772000                    QRL     27
         1 005241   000430 136007                    SBLQ    280,DL
         1 005242   000053 116007                    CMPQ    43,DL
         1 005243   005245 602006 1                  TNC     s:15301+6,QL
         1 005244   005506 710000 1                  TRA     s:15369
         1 005245   005512 710000 1                  TRA     s:15373
         1 005246   005512 710000 1                  TRA     s:15373
         1 005247   005512 710000 1                  TRA     s:15373
         1 005250   005512 710000 1                  TRA     s:15373
         1 005251   005512 710000 1                  TRA     s:15373
         1 005252   005506 710000 1                  TRA     s:15369
         1 005253   005512 710000 1                  TRA     s:15373
         1 005254   005512 710000 1                  TRA     s:15373
         1 005255   005512 710000 1                  TRA     s:15373
         1 005256   005506 710000 1                  TRA     s:15369
         1 005257   005506 710000 1                  TRA     s:15369
         1 005260   005512 710000 1                  TRA     s:15373
         1 005261   005320 710000 1                  TRA     s:15313
         1 005262   005323 710000 1                  TRA     s:15315
         1 005263   005326 710000 1                  TRA     s:15317
         1 005264   005334 710000 1                  TRA     s:15320
         1 005265   005340 710000 1                  TRA     s:15323
         1 005266   005512 710000 1                  TRA     s:15373
         1 005267   005415 710000 1                  TRA     s:15336
         1 005270   005512 710000 1                  TRA     s:15373
         1 005271   005506 710000 1                  TRA     s:15369
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:319  
         1 005272   005506 710000 1                  TRA     s:15369
         1 005273   005434 710000 1                  TRA     s:15341
         1 005274   005437 710000 1                  TRA     s:15343
         1 005275   005446 710000 1                  TRA     s:15347
         1 005276   005451 710000 1                  TRA     s:15349
         1 005277   005506 710000 1                  TRA     s:15369
         1 005300   005506 710000 1                  TRA     s:15369
         1 005301   005454 710000 1                  TRA     s:15351
         1 005302   005512 710000 1                  TRA     s:15373
         1 005303   005457 710000 1                  TRA     s:15354
         1 005304   005506 710000 1                  TRA     s:15369
         1 005305   005506 710000 1                  TRA     s:15369
         1 005306   005512 710000 1                  TRA     s:15373
         1 005307   005512 710000 1                  TRA     s:15373
         1 005310   005506 710000 1                  TRA     s:15369
         1 005311   005506 710000 1                  TRA     s:15369
         1 005312   005462 710000 1                  TRA     s:15356
         1 005313   005506 710000 1                  TRA     s:15369
         1 005314   005506 710000 1                  TRA     s:15369
         1 005315   005512 710000 1                  TRA     s:15373
         1 005316   005512 710000 1                  TRA     s:15373
         1 005317   005503 710000 1                  TRA     s:15367

     1693    15302    3          CASE ( 280 );                  /* ALL */

     1694    15303    3          CASE ( 281 );                  /* ATS */

     1695    15304    3          CASE ( 282 );                 /* DEFS */

     1696    15305    3          CASE ( 283 );                 /* STEP */

     1697    15306    3          CASE ( 284 );               /* SCHEMA */

     1698    15307    3          CASE ( 313 );                  /* SAD */

     1699    15308    3          CASE ( 286 );                /* SAVES */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:320  
     1700    15309    3          CASE ( 287 );                /* TRACE */

     1701    15310    3          CASE ( 288 );                /* WHENS */

     1702    15311    3          CASE ( 291 );                /* ON CALLS */

     1703    15312    3          CASE ( 292 );                /* ON ABORT */

     1704    15313    3             IF D_XDELTA THEN GOTO ERR7;

  15313  1 005320   000000 234000 xsym               SZN     D_XDELTA
         1 005321   005533 604000 1                  TMI     ERR7
         1 005322   005512 710000 1                  TRA     s:15373

     1705    15314    3          CASE ( 293 );                 /* ON EXIT */

     1706    15315    3             IF D_XDELTA THEN GOTO ERR7;

  15315  1 005323   000000 234000 xsym               SZN     D_XDELTA
         1 005324   005533 604000 1                  TMI     ERR7
         1 005325   005512 710000 1                  TRA     s:15373

     1707    15316    3          CASE ( 294 );                /* ON NODES */

     1708    15317    3             IF D_XDELTA THEN GOTO ERR7;

  15317  1 005326   000000 234000 xsym               SZN     D_XDELTA
         1 005327   005533 604000 1                  TMI     ERR7

     1709    15318    3             IF NOT S_D.OVERLAID THEN GOTO ENOV;

  15318  1 005330   000000 474400 xsym               LDP4    S_D$
         1 005331   404764 234100                    SZN     2548,,PR4
         1 005332   005514 605000 1                  TPL     ENOV
         1 005333   005512 710000 1                  TRA     s:15373

     1710    15319    3          CASE ( 295 );              /* ABBREVS */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:321  

     1711    15320    3             S_D.ERROR = 34;         /* E@NOTYET */

  15320  1 005334   000042 235007                    LDA     34,DL
         1 005335   000000 474400 xsym               LDP4    S_D$
         1 005336   400013 755100                    STA     11,,PR4

     1712    15321    3             GOTO ARET;

  15321  1 005337   005536 710000 1                  TRA     ARET

     1713    15322    3          CASE ( 296 );               /* id TO id */

     1714    15323    3             CALL DDS$DECIMAL( N$ -> POB.SUBLK$( 0 ), V ) ALTRET( ARET );

  15323  1 005340   200014 634500                    EPPR4   V,,AUTO
         1 005341   200051 454500                    STP4    @ND_PTR+2,,AUTO
         1 005342   200013 236100                    LDQ     N$,,AUTO
         1 005343   000003 036003                    ADLQ    3,DU
         1 005344   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 005345   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 005346   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 005347   000000 701000 xent               TSX1    DDS$DECIMAL
         1 005350   005536 702000 1                  TSX2    ARET

     1715    15324    3             KILL$CMD.ID_FROM = V;

  15324  1 005351   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 005352   200014 236100                    LDQ     V,,AUTO
         1 005353   000022 736000                    QLS     18
         1 005354   000001 552120                    STBQ    1,'20'O,PR0

     1716    15325    3             KILL$CMD.ID_TO = V;

  15325  1 005355   200014 236100                    LDQ     V,,AUTO
         1 005356   000011 736000                    QLS     9
         1 005357   000001 552110                    STBQ    1,'10'O,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:322  

     1717    15326    3             IF ( V < 1 ) OR ( V > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1 ) THEN
             15326                      GOTO ERR1;

  15326  1 005360   200014 235100                    LDA     V,,AUTO
         1 005361   005527 600000 1                  TZE     ERR1
         1 005362   000454 115007                    CMPA    300,DL
         1 005363   005527 603000 1                  TRC     ERR1

     1718    15327    3             IF ( N$ -> POB.NSB > 1 )

  15327  1 005364   200013 471500                    LDP1    N$,,AUTO
         1 005365   100001 220100                    LDX0    1,,PR1
         1 005366   000002 100003                    CMPX0   2,DU
         1 005367   005512 602000 1                  TNC     s:15373

     1719    15328    4             THEN DO;

     1720    15329    4                  CALL DDS$DECIMAL( N$ -> POB.SUBLK$( 1 ), V1 ) ALTRET( ARET );

  15329  1 005370   200015 633500                    EPPR3   V1,,AUTO
         1 005371   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 005372   200013 236100                    LDQ     N$,,AUTO
         1 005373   000004 036003                    ADLQ    4,DU
         1 005374   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 005375   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 005376   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 005377   000000 701000 xent               TSX1    DDS$DECIMAL
         1 005400   005536 702000 1                  TSX2    ARET

     1721    15330    4                  KILL$CMD.ID_TO = V1;

  15330  1 005401   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 005402   200015 236100                    LDQ     V1,,AUTO
         1 005403   000011 736000                    QLS     9
         1 005404   000001 552110                    STBQ    1,'10'O,PR0

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:323  
     1722    15331    4                  IF ( V1 < 1 ) OR ( V1 > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1 )
             15331                           THEN GOTO ERR1;

  15331  1 005405   200015 235100                    LDA     V1,,AUTO
         1 005406   005527 600000 1                  TZE     ERR1
         1 005407   000454 115007                    CMPA    300,DL
         1 005410   005527 603000 1                  TRC     ERR1

     1723    15332    4                  IF ( V1 < V ) THEN GOTO EFTO;

  15332  1 005411   200015 236100                    LDQ     V1,,AUTO
         1 005412   200014 116100                    CMPQ    V,,AUTO
         1 005413   005517 602000 1                  TNC     EFTO

     1724    15333    4                END;

  15333  1 005414   005512 710000 1                  TRA     s:15373

     1725    15334    3          CASE( 297 );                /* BYPASS */

     1726    15335    3          CASE ( 298 );               /* DEF name */

     1727    15336    3             N$ = N$ -> POB.SUBLK$( 0 ) -> POB.SUBLK$( 0 );

  15336  1 005415   300003 474500                    LDP4    3,,PR3
         1 005416   400003 236100                    LDQ     3,,PR4
         1 005417   200013 756100                    STQ     N$,,AUTO

     1728    15337    3             IF ( N$ -> TEXT$C.SIZE > 31 ) THEN GOTO ESYM;

  15337  1 005420   200013 473500                    LDP3    N$,,AUTO
         1 005421   300000 236100                    LDQ     0,,PR3
         1 005422   777000 376003                    ANQ     -512,DU
         1 005423   040000 116003                    CMPQ    16384,DU
         1 005424   005523 603000 1                  TRC     ESYM

     1729    15338    3             KILL$CMD.TEXTC = N$ -> TEXT$C;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:324  

  15338  1 005425   300000 236100                    LDQ     0,,PR3
         1 005426   000033 772000                    QRL     27
         1 005427   000001 620006                    EAX0    1,QL
         1 005430   000100 100540                    MLR     fill='000'O
         1 005431   300000 000010                    ADSC9   0,,PR3                   cn=0,n=*X0
         1 005432   100005 000040                    ADSC9   5,,PR1                   cn=0,n=32
         1 005433   005512 710000 1                  TRA     s:15373

     1730    15339    3          CASE ( 299 );                  /* DIC */

     1731    15340    3          CASE ( 302 );                  /* EOM */

     1732    15341    3             IF D_XDELTA THEN GOTO ERR7;

  15341  1 005434   000000 234000 xsym               SZN     D_XDELTA
         1 005435   005533 604000 1                  TMI     ERR7
         1 005436   005512 710000 1                  TRA     s:15373

     1733    15342    3          CASE ( 303 );               /* FORMAT */

     1734    15343    3             IF N$ -> POB.NSB > 0

  15343  1 005437   300001 220100                    LDX0    1,,PR3
         1 005440   005512 600000 1                  TZE     s:15373

     1735    15344    3             THEN KILL$CMD.ID_FROM = N$ -> POB.SUBLK$( 0 ) -> POB.CODE;

  15344  1 005441   300003 474500                    LDP4    3,,PR3
         1 005442   400000 236100                    LDQ     0,,PR4
         1 005443   000022 736000                    QLS     18
         1 005444   100001 552120                    STBQ    1,'20'O,PR1
         1 005445   005512 710000 1                  TRA     s:15373

     1736    15345        /*********ELSE KILL$CMD.ID_FROM = 0;*********/
     1737    15346    3          CASE ( 304 );                 /* COPY */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:325  
     1738    15347    3             IF D_XDELTA THEN GOTO ERR7;

  15347  1 005446   000000 234000 xsym               SZN     D_XDELTA
         1 005447   005533 604000 1                  TMI     ERR7
         1 005450   005512 710000 1                  TRA     s:15373

     1739    15348    3          CASE ( 305 );                 /* ECHO */

     1740    15349    3             IF D_XDELTA THEN GOTO ERR7;

  15349  1 005451   000000 234000 xsym               SZN     D_XDELTA
         1 005452   005533 604000 1                  TMI     ERR7
         1 005453   005512 710000 1                  TRA     s:15373

     1741    15350    3          CASE ( 308 );                  /* RUM */

     1742    15351    3             IF D_XDELTA THEN GOTO ERR7;

  15351  1 005454   000000 234000 xsym               SZN     D_XDELTA
         1 005455   005533 604000 1                  TMI     ERR7
         1 005456   005512 710000 1                  TRA     s:15373

     1743    15352    3          CASE ( 309 );               /* ALTVAR */

     1744    15353    3          CASE ( 310 );                 /* ANLZ */

     1745    15354    3             IF D_XDELTA THEN GOTO ERR7;

  15354  1 005457   000000 234000 xsym               SZN     D_XDELTA
         1 005460   005533 604000 1                  TMI     ERR7
         1 005461   005512 710000 1                  TRA     s:15373

     1746    15355    3          CASE ( 317 );            /* DELTA */

     1747    15356    3             IF D_XDELTA THEN GOTO ERR7;

  15356  1 005462   000000 234000 xsym               SZN     D_XDELTA
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:326  
         1 005463   005533 604000 1                  TMI     ERR7

     1748    15357    3             IF N$ -> POB.NSB > 1

  15357  1 005464   300001 220100                    LDX0    1,,PR3
         1 005465   000002 100003                    CMPX0   2,DU
         1 005466   005512 602000 1                  TNC     s:15373

     1749    15358    4             THEN DO;

     1750    15359    4                  NC$ = N$ -> POB.SUBLK$(1);

  15359  1 005467   300004 236100                    LDQ     4,,PR3
         1 005470   200016 756100                    STQ     NC$,,AUTO

     1751    15360    4                  KILL$CMD.FPRG_RES = NC$ -> SYM.TEXT;

  15360  1 005471   200016 474500                    LDP4    NC$,,AUTO
         1 005472   400004 236100                    LDQ     4,,PR4
         1 005473   000033 772000                    QRL     27
         1 005474   000000 621006                    EAX1    0,QL
         1 005475   040100 100540                    MLR     fill='040'O
         1 005476   400004 200011                    ADSC9   4,,PR4                   cn=1,n=*X1
         1 005477   100003 000010                    ADSC9   3,,PR1                   cn=0,n=8

     1752    15361    4                  KILL$CMD.FPRG = '1'B;

  15361  1 005500   400000 236003                    LDQ     -131072,DU
         1 005501   100002 256100                    ORSQ    2,,PR1

     1753    15362    4                END;

  15362  1 005502   005512 710000 1                  TRA     s:15373

     1754    15363    3          CASE ( 314 );              /* PROTECT */

     1755    15364    3          CASE ( 320 );                /* CACHE */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:327  

     1756    15365    3          CASE ( 321 );         /* INTERPRETIVE */

     1757    15366    3          CASE ( 322 );               /* STATUS */

     1758    15367    3             IF D_XDELTA THEN GOTO ERR7;

  15367  1 005503   000000 234000 xsym               SZN     D_XDELTA
         1 005504   005533 604000 1                  TMI     ERR7
         1 005505   005512 710000 1                  TRA     s:15373

     1759    15368    3          CASE ( ELSE );

     1760    15369    3             S_D.ERROR = 606;       /* E@KILLCASE */

  15369  1 005506   001136 235007                    LDA     606,DL
         1 005507   000000 474400 xsym               LDP4    S_D$
         1 005510   400013 755100                    STA     11,,PR4

     1761    15370    3             GOTO ARET;

  15370  1 005511   005536 710000 1                  TRA     ARET

     1762    15371    3          END;

     1763    15372
     1764    15373    2        RETURN;

  15373  1 005512   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 005513   000001 702211                    TSX2  ! 1,X1

     1765    15374
     1766    15375    2   ENOV: S_D.ERROR = 117; GOTO ARET; /* E@NOT_OVERLAID */

  15375  1 005514   000165 235007       ENOV         LDA     117,DL
         1 005515   400013 755100                    STA     11,,PR4

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:328  
  15375  1 005516   005536 710000 1                  TRA     ARET

     1767    15376    2   EFTO: S_D.ERROR = 63; GOTO ARET; /* E@FROM_TO */

  15376  1 005517   000077 235007       EFTO         LDA     63,DL
         1 005520   000000 471400 xsym               LDP1    S_D$
         1 005521   100013 755100                    STA     11,,PR1

  15376  1 005522   005536 710000 1                  TRA     ARET

     1768    15377    2   ESYM: S_D.ERROR = 48; GOTO ARET; /* E@SYM2LONG */

  15377  1 005523   000060 235007       ESYM         LDA     48,DL
         1 005524   000000 474400 xsym               LDP4    S_D$
         1 005525   400013 755100                    STA     11,,PR4

  15377  1 005526   005536 710000 1                  TRA     ARET

     1769    15378    2   ERR1: S_D.ERROR = 12; GOTO ARET;   /* E@UERR1 */

  15378  1 005527   000014 235007       ERR1         LDA     12,DL
         1 005530   000000 471400 xsym               LDP1    S_D$
         1 005531   100013 755100                    STA     11,,PR1

  15378  1 005532   005536 710000 1                  TRA     ARET

     1770    15379    2   ERR7: S_D.ERROR = 18;              /* E@UERR7 */

  15379  1 005533   000022 235007       ERR7         LDA     18,DL
         1 005534   000000 474400 xsym               LDP4    S_D$
         1 005535   400013 755100                    STA     11,,PR4

     1771    15380    2   ARET: ALTRETURN;

  15380  1 005536   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 005537   000000 702211                    TSX2  ! 0,X1

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:329  
     1772    15381
     1773    15382    2   END DDS$BLD_KILL;
     1774    15383        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:330  
     1775    15384        /*F* NAME: DDS$BLD_LET
     1776    15385             PURPOSE: TO BUILD THE LET COMMAND.
     1777    15386             DESCRIPTION: BUILDS THE LET COMMAND. */
     1778    15387        /*D* NAME: DDS$BLD_LET
     1779    15388             CALL: CALL DDS$BLD_LET ALTRET( ERROR );
     1780    15389             INTERFACE: DDS$INSTR
     1781    15390                        DDS$VREFCOM
     1782    15391             ENVIRONMENT: DDS$SCAN ACTIVE
     1783    15392             INPUT: NCMD$ - PTR TO "LET" NODE.
     1784    15393             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1785    15394             SCRATCH: LOCAL AUTO ONLY.
     1786    15395             DESCRIPTION: */
     1787    15396
     1788    15397    1   DDS$BLD_LET: PROC ALTRET;

  15397  1 005540   200012 741300       DDS$BLD_LET  STX1  ! ZITEM$+3,,AUTO

     1789    15398
     1790    15399        %LET$CMD (STCLASS="BASED(LASTBLT$)");
     1791    15449    2   DCL TYPE UBIN;
     1792    15450    2   DCL FMT UBIN;
     1793    15451
     1794    15452    2        CALL DDS$ATTDIRA( SIZEW( LET$CMD ), 27 ) ALTRET( ARET ); /* C_LET */

  15452  1 005541   000064 630400 2                  EPPR0   52
         1 005542   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 005543   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 005544   005627 702000 1                  TSX2    ARET

     1795    15453    2        ZITEM$ = S_D.D$;

  15453  1 005545   000000 470400 xsym               LDP0    S_D$
         1 005546   000044 236100                    LDQ     36,,PR0
         1 005547   200007 756100                    STQ     ZITEM$,,AUTO

     1796    15454    2        CALL DDS$VREFCOM( NCMD$ -> POB.SUBLK$( 0 ) ) ALTRET( ARET );

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:331  
  15454  1 005550   200004 236100                    LDQ     NCMD$,,AUTO
         1 005551   000003 036003                    ADLQ    3,DU
         1 005552   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 005553   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 005554   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 005555   000000 701000 xent               TSX1    DDS$VREFCOM
         1 005556   005627 702000 1                  TSX2    ARET

     1797    15455    2        IF (NOT ZITEM.FLAGS.MDSE.M )

  15455  1 005557   200007 470500                    LDP0    ZITEM$,,AUTO
         1 005560   000001 234100                    SZN     1,,PR0
         1 005561   005566 604000 1                  TMI     s:15460

     1798    15456    3        THEN DO;

     1799    15457    3             S_D.ERROR = 42;          /* E@NOMOD */

  15457  1 005562   000052 235007                    LDA     42,DL
         1 005563   000000 471400 xsym               LDP1    S_D$
         1 005564   100013 755100                    STA     11,,PR1

     1800    15458    3             GOTO ARET;

  15458  1 005565   005627 710000 1                  TRA     ARET

     1801    15459    3           END;
     1802    15460    2        IF ( NOT ZITEM.FLAGS.MDSE.E ) AND ( ZITEM.FLAGS.ADDREXP )

  15460  1 005566   000001 236100                    LDQ     1,,PR0
         1 005567   040000 316003                    CANQ    16384,DU
         1 005570   005577 601000 1                  TNZ     s:15465
         1 005571   020000 316003                    CANQ    8192,DU
         1 005572   005577 600000 1                  TZE     s:15465

     1803    15461    3        THEN DO;       /* CAN'T HAVE NON-MODIFYABLE SPECIAL SYMBOL IN EXPRESSION */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:332  
     1804    15462    3             S_D.ERROR = 87;    /* E@EXPNOTVALID */

  15462  1 005573   000127 235007                    LDA     87,DL
         1 005574   000000 471400 xsym               LDP1    S_D$
         1 005575   100013 755100                    STA     11,,PR1

     1805    15463    3             GOTO ARET;

  15463  1 005576   005627 710000 1                  TRA     ARET

     1806    15464    3           END;
     1807    15465    2        FMT = ZITEM.FMT_SPEC;

  15465  1 005577   000006 236100                    LDQ     6,,PR0
         1 005600   000011 772000                    QRL     9
         1 005601   000777 376007                    ANQ     511,DL
         1 005602   200014 756100                    STQ     FMT,,AUTO

     1808    15466    2        CALL DDS$CNSNT( NCMD$ -> POB.SUBLK$( 1 ), LET$CMD.TEXTC, TYPE, FMT ) ALTRET(
             15466                 ARET );

  15466  1 005603   200014 631500                    EPPR1   FMT,,AUTO
         1 005604   200053 451500                    STP1    @ND_PTR+4,,AUTO
         1 005605   200013 633500                    EPPR3   TYPE,,AUTO
         1 005606   200052 453500                    STP3    @ND_PTR+3,,AUTO
         1 005607   200005 236100                    LDQ     LASTBLT$,,AUTO
         1 005610   000002 036003                    ADLQ    2,DU
         1 005611   200051 756100                    STQ     @ND_PTR+2,,AUTO
         1 005612   200004 236100                    LDQ     NCMD$,,AUTO
         1 005613   000004 036003                    ADLQ    4,DU
         1 005614   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 005615   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 005616   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 005617   000000 701000 xent               TSX1    DDS$CNSNT
         1 005620   005627 702000 1                  TSX2    ARET

     1809    15467    2        LET$CMD.TYPE = TYPE;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:333  

  15467  1 005621   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 005622   200013 236100                    LDQ     TYPE,,AUTO
         1 005623   000011 736000                    QLS     9
         1 005624   000001 552110                    STBQ    1,'10'O,PR0

     1810    15468
     1811    15469    2        RETURN;

  15469  1 005625   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 005626   000001 702211                    TSX2  ! 1,X1

     1812    15470
     1813    15471    2   ARET: ALTRETURN;

  15471  1 005627   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 005630   000000 702211                    TSX2  ! 0,X1

     1814    15472
     1815    15473    2   END DDS$BLD_LET;
     1816    15474        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:334  
     1817    15475        /*F* NAME: DDS$BLD_MACTIVE
     1818    15476             PURPOSE: TO BUILD THE INTERACTIVE MODIFY FRAME.
     1819    15477             DESCRIPTION: BUILDS THE INTERACTIVE MODIFY FRAME. */
     1820    15478        /*D* NAME: DDS$BLD_MACTIVE
     1821    15479             CALL: CALL DDS$BLD_MACTIVE ALTRET( ERROR );
     1822    15480             INTERFACE: DDS$INSTR
     1823    15481                        DDS$VREFCOM
     1824    15482                        DDS$ATTDIRA
     1825    15483             ENVIRONMENT: DDS$SCAN ACTIVE.
     1826    15484             INPUT: PCB - PARSE CONTROL BLOCK
     1827    15485             OUTPUT: INTERACTIVE MODIFY BUILD FRAME.
     1828    15486             SCRATCH: LOCAL AUTO ONLY.
     1829    15487             DESCRIPTION: SETS UP TO BUILD A COMMAND IN THE DIRECT COMMAND BUFFER.
     1830    15488             PICKS UP EACH NODE HUNG OFF THE OUTPUT TREE. ENCOUNTERING A "VREF"
     1831    15489             OR "INSTR" CAUSES THE APPROPRIATE DATA DESCRIPTOR TO BE BUILT, AND
     1832    15490             THE CORRESPONDING CONTROL BITS SET IN THE MACTIVE$CMD BUILD FRAME.
     1833    15491             AN EXPLICIT FORMAT CODE HUNG OFF "INSTR" CAUSES THE FORMAT CODE TO
     1834    15492             BE SET IN MACTIVE$CMD. THE SUBCODE FIELD IS SET TO REFLECT THE PSUEDO
     1835    15493             ACTIVATION CHARACTER, UNLESS THERE WAS NONE, WHICH IS AN IMPLICIT
     1836    15494             CARRIAGE RETURN (END MACTIVE MODE). A FORMAT CODE ONLY IS DETECTED
     1837    15495             AS AN ERROR CONDITION. RETURNS IF NO ERRORS, ELSE ALTRETURNS. */
     1838    15496
     1839    15497    1   DDS$BLD_MACTIVE: PROC ALTRET;

  15497  1 005631   200012 741300       DDS$BLD_MAC* STX1  ! ZITEM$+3,,AUTO

     1840    15498
     1841    15499    2   DCL NSUB SBIN;
     1842    15500    2   DCL N$ PTR;
     1843    15501    2   DCL NCD UBIN;
     1844    15502    2   DCL CODE UBIN;
     1845    15503    2   DCL IX SBIN;
     1846    15504    2   DCL GOTVREF BIT(1) ALIGNED;
     1847    15505    2   DCL GOTFMT BIT(1) ALIGNED;
     1848    15506    2   DCL DUMVAR1 (0:17) UBIN WORD;
     1849    15507    2   DCL TEMP_FLAG BIT(1) ALIGNED;
     1850    15508    2   DCL V UBIN;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:335  
     1851    15509        %MACTIVE$CMD (STCLASS="BASED(LASTBLT$)");
     1852    15528
     1853    15529    2        CALL DDS$ATTDIRA( SIZEW( MACTIVE$CMD ), 29 ) ALTRET( ARET );

  15529  1 005632   000067 630400 2                  EPPR0   55
         1 005633   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 005634   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 005635   006176 702000 1                  TSX2    ARET

     1854    15530    2        IF S_D.SACT

  15530  1 005636   000000 470400 xsym               LDP0    S_D$
         1 005637   000501 234100                    SZN     321,,PR0
         1 005640   005644 605000 1                  TPL     s:15532

     1855    15531    2        THEN MACTIVE$CMD.SACT = '1'B;

  15531  1 005641   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 005642   000400 236007                    LDQ     256,DL
         1 005643   100001 256100                    ORSQ    1,,PR1

     1856    15532    2        GOTVREF = '0'B;

  15532  1 005644   200020 450100                    STZ     GOTVREF,,AUTO

     1857    15533
     1858    15534                                                /* BLIP THROUGH THE NODES */
     1859    15535                                                /* TIP-TOE THROUGH THE TULIPS */
     1860    15536
     1861    15537    2        NSUB = NCMD$ -> POB.NSB -1;

  15537  1 005645   200004 471500                    LDP1    NCMD$,,AUTO
         1 005646   100001 236100                    LDQ     1,,PR1
         1 005647   000022 772000                    QRL     18
         1 005650   000001 136007                    SBLQ    1,DL
         1 005651   200013 756100                    STQ     NSUB,,AUTO

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:336  
     1862    15538    2        ZITEM$ = S_D.D$;

  15538  1 005652   000044 236100                    LDQ     36,,PR0
         1 005653   200007 756100                    STQ     ZITEM$,,AUTO

     1863    15539    2        CODE = %DEFAULT_FMT;

  15539  1 005654   000037 235007                    LDA     31,DL
         1 005655   200016 755100                    STA     CODE,,AUTO

     1864    15540    3        DO IX = 0 TO NSUB;

  15540  1 005656   200017 450100                    STZ     IX,,AUTO
         1 005657   006150 710000 1                  TRA     s:15631+1

     1865    15541    3             N$ = NCMD$ -> POB.SUBLK$( IX );

  15541  1 005660   200004 470500                    LDP0    NCMD$,,AUTO
         1 005661   200017 720100                    LXL0    IX,,AUTO
         1 005662   000003 236110                    LDQ     3,X0,PR0
         1 005663   200014 756100                    STQ     N$,,AUTO

     1866    15542    3             NCD = N$ -> POB.CODE;

  15542  1 005664   200014 471500                    LDP1    N$,,AUTO
         1 005665   100000 236100                    LDQ     0,,PR1
         1 005666   777777 376007                    ANQ     -1,DL
         1 005667   200015 756100                    STQ     NCD,,AUTO

     1867    15543    3             IF ( NCD = 38 )        /* VREF_CODE */

  15543  1 005670   000046 116007                    CMPQ    38,DL
         1 005671   005775 601000 1                  TNZ     s:15576

     1868    15544    4             THEN DO;

     1869    15545    4                  IF NOT S_D.REMACTIVE
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:337  

  15545  1 005672   000000 473400 xsym               LDP3    S_D$
         1 005673   300506 234100                    SZN     326,,PR3
         1 005674   005677 604000 1                  TMI     s:15547

     1870    15546    4                  THEN GOTVREF = '1'B;

  15546  1 005675   400000 236003                    LDQ     -131072,DU
         1 005676   200020 756100                    STQ     GOTVREF,,AUTO

     1871    15547    4                  IF S_D.MLCT

  15547  1 005677   305323 234100                    SZN     2771,,PR3
         1 005700   005743 605000 1                  TPL     s:15566

     1872    15548    5                  THEN DO;

     1873    15549    5                       N$ = N$ -> POB.SUBLK$(0) -> POB.SUBLK$(0) -> POB.SUBLK$(0);

  15549  1 005701   100003 474500                    LDP4    3,,PR1
         1 005702   400003 475500                    LDP5    3,,PR4
         1 005703   500003 236100                    LDQ     3,,PR5
         1 005704   200014 756100                    STQ     N$,,AUTO

     1874    15550    5                       IF N$ -> POB.CODE = 47 /* SIMEXP_CODE */

  15550  1 005705   200014 471500                    LDP1    N$,,AUTO
         1 005706   100000 721100                    LXL1    0,,PR1
         1 005707   000057 101003                    CMPX1   47,DU
         1 005710   005740 601000 1                  TNZ     s:15562

     1875    15551    6                       THEN DO;

     1876    15552    6                            CALL DDD$SIMEXP (N$, V, TEMP_FLAG) ALTRET(ARET);

  15552  1 005711   200044 634500                    EPPR4   TEMP_FLAG,,AUTO
         1 005712   200052 454500                    STP4    @ND_PTR+3,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:338  
         1 005713   200045 635500                    EPPR5   V,,AUTO
         1 005714   200051 455500                    STP5    @ND_PTR+2,,AUTO
         1 005715   200014 636500                    EPPR6   N$,,AUTO
         1 005716   200050 456500                    STP6    @ND_PTR+1,,AUTO
         1 005717   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 005720   000021 631400 xsym               EPPR1   B_VECTNIL+17
         1 005721   000000 701000 xent               TSX1    DDD$SIMEXP
         1 005722   006176 702000 1                  TSX2    ARET

     1877    15553    6                            IF ( V > BITBIN('FF'X))

  15553  1 005723   200045 235100                    LDA     V,,AUTO
         1 005724   000400 115007                    CMPA    256,DL
         1 005725   005732 602000 1                  TNC     s:15558

     1878    15554    7                            THEN DO;

     1879    15555    7                                 S_D.ERROR = 46; /* E@TOOLARGE */

  15555  1 005726   000056 236007                    LDQ     46,DL
         1 005727   000000 470400 xsym               LDP0    S_D$
         1 005730   000013 756100                    STQ     11,,PR0

     1880    15556    7                                 GOTO ARET;

  15556  1 005731   006176 710000 1                  TRA     ARET

     1881    15557    7                               END;
     1882    15558    6                            MACTIVE$CMD.LCT_NEW_VALUE = V;

  15558  1 005732   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 005733   200045 236100                    LDQ     V,,AUTO
         1 005734   000033 736000                    QLS     27
         1 005735   000002 552140                    STBQ    2,'40'O,PR0

     1883    15559    6                            RETURN;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:339  
  15559  1 005736   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 005737   000001 702211                    TSX2  ! 1,X1

     1884    15560    6                          END;
     1885    15561    6                       ELSE DO;

     1886    15562    6                            S_D.ERROR = 53; /* E@SYNTAX */

  15562  1 005740   000065 235007                    LDA     53,DL
         1 005741   300013 755100                    STA     11,,PR3

     1887    15563    6                            GOTO ARET;

  15563  1 005742   006176 710000 1                  TRA     ARET

     1888    15564    6                          END;
     1889    15565    5                     END;
     1890    15566    4                  MACTIVE$CMD.DDESC = '1'B;

  15566  1 005743   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 005744   400000 236003                    LDQ     -131072,DU
         1 005745   400001 256100                    ORSQ    1,,PR4

     1891    15567    4                  CALL DDS$VREFCOM( N$, GOTFMT ) ALTRET( ARET );

  15567  1 005746   200021 631500                    EPPR1   GOTFMT,,AUTO
         1 005747   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 005750   200014 635500                    EPPR5   N$,,AUTO
         1 005751   200050 455500                    STP5    @ND_PTR+1,,AUTO
         1 005752   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 005753   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 005754   000000 701000 xent               TSX1    DDS$VREFCOM
         1 005755   006176 702000 1                  TSX2    ARET

     1892    15568    4                  IF ( GOTFMT )

  15568  1 005756   200021 234100                    SZN     GOTFMT,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:340  
         1 005757   005765 605000 1                  TPL     s:15570

     1893    15569    4                  THEN CODE = ZITEM.FMT_SPEC;

  15569  1 005760   200007 470500                    LDP0    ZITEM$,,AUTO
         1 005761   000006 236100                    LDQ     6,,PR0
         1 005762   000011 772000                    QRL     9
         1 005763   000777 376007                    ANQ     511,DL
         1 005764   200016 756100                    STQ     CODE,,AUTO

     1894    15570    4                  IF ( NOT ZITEM.FLAGS.MDSE.E )

  15570  1 005765   200007 470500                    LDP0    ZITEM$,,AUTO
         1 005766   000001 236100                    LDQ     1,,PR0
         1 005767   040000 316003                    CANQ    16384,DU
         1 005770   006147 601000 1                  TNZ     s:15631

     1895    15571    5                  THEN DO;

     1896    15572    5                       S_D.ERROR = 43; /* E@NOEVAL */

  15572  1 005771   000053 235007                    LDA     43,DL
         1 005772   000000 471400 xsym               LDP1    S_D$
         1 005773   100013 755100                    STA     11,,PR1

     1897    15573    5                       GOTO ARET;

  15573  1 005774   006176 710000 1                  TRA     ARET

     1898    15574    5                     END;
     1899    15575    4                END;
     1900    15576    3             ELSE IF ( NCD = 49 )  /* INSTR_CODE */

  15576  1 005775   000061 116007                    CMPQ    49,DL
         1 005776   006070 601000 1                  TNZ     s:15601

     1901    15577    4                  THEN DO;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:341  

     1902    15578    4                       IF NOT S_D.REMACTIVE

  15578  1 005777   000000 473400 xsym               LDP3    S_D$
         1 006000   300506 234100                    SZN     326,,PR3
         1 006001   006004 604000 1                  TMI     s:15580

     1903    15579    4                       THEN GOTVREF = '1'B;

  15579  1 006002   400000 236003                    LDQ     -131072,DU
         1 006003   200020 756100                    STQ     GOTVREF,,AUTO

     1904    15580    4                       MACTIVE$CMD.DDESC = '1'B;

  15580  1 006004   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 006005   400000 236003                    LDQ     -131072,DU
         1 006006   400001 256100                    ORSQ    1,,PR4

     1905    15581    4                       MACTIVE$CMD.INSTR = '1'B;

  15581  1 006007   200000 236003                    LDQ     65536,DU
         1 006010   400001 256100                    ORSQ    1,,PR4

     1906    15582    4                       IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

  15582  1 006011   306714 235100                    LDA     3532,,PR3
         1 006012   000001 115007                    CMPA    1,DL
         1 006013   006023 601000 1                  TNZ     s:15584

     1907    15583    4                       THEN CALL DDS$INSTR( N$ ) ALTRET( ARET );

  15583  1 006014   200014 631500                    EPPR1   N$,,AUTO
         1 006015   200050 451500                    STP1    @ND_PTR+1,,AUTO
         1 006016   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 006017   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 006020   000000 701000 xent               TSX1    DDS$INSTR
         1 006021   006176 702000 1                  TSX2    ARET
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:342  
         1 006022   006051 710000 1                  TRA     s:15597

     1908    15584    4                       ELSE IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6

  15584  1 006023   000002 115007                    CMPA    2,DL
         1 006024   006046 601000 1                  TNZ     s:15594

     1909    15585    5                            THEN DO;

     1910    15586    5                                 CALL DDS$SAVE_L6INSTR_PTR( N$ );

  15586  1 006025   200014 631500                    EPPR1   N$,,AUTO
         1 006026   200047 451500                    STP1    V+2,,AUTO
         1 006027   014116 701000 1                  TSX1    DDS$SAVE_L6INSTR_PTR
         1 006030   000000 011000                    NOP     0

     1911    15587                                                /* Test if the input really contains
     1912    15588                                                   a valid L6 opcode, if not,
     1913    15589                                              altret and parse it by another tree */
     1914    15590    5                                 CALL DFS$INSTR ( DUMVAR1, 0, '1'B, N$ ->

  15590  1 006031   200014 236100                    LDQ     N$,,AUTO
         1 006032   000003 036003                    ADLQ    3,DU
         1 006033   000071 235000 2                  LDA     57
         1 006034   200052 757100                    STAQ    @ND_PTR+3,,AUTO
         1 006035   000021 236000 2                  LDQ     17
         1 006036   200051 756100                    STQ     @ND_PTR+2,,AUTO
         1 006037   200022 630500                    EPPR0   DUMVAR1,,AUTO
         1 006040   200050 450500                    STP0    @ND_PTR+1,,AUTO
         1 006041   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 006042   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 006043   000000 701000 xent               TSX1    DFS$INSTR
         1 006044   006176 702000 1                  TSX2    ARET

     1915    15591    5                                   POB.SUBLK$(0) ) ALTRET ( ARET );
     1916    15592    5                               END;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:343  
  15592  1 006045   006051 710000 1                  TRA     s:15597

     1917    15593    5                            ELSE DO;

     1918    15594    5                                 S_D.ERROR = 502; /* E@DELBUG */

  15594  1 006046   000766 235007                    LDA     502,DL
         1 006047   300013 755100                    STA     11,,PR3

     1919    15595    5                                 GOTO ARET;

  15595  1 006050   006176 710000 1                  TRA     ARET

     1920    15596    5                               END;
     1921    15597    4                       MACTIVE$CMD.IGNPR = S_D.IGNPR;

  15597  1 006051   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 006052   000000 471400 xsym               LDP1    S_D$
         1 006053   100504 236100                    LDQ     324,,PR1
         1 006054   000003 772000                    QRL     3
         1 006055   000001 676100                    ERQ     1,,PR0
         1 006056   040000 376003                    ANQ     16384,DU
         1 006057   000001 656100                    ERSQ    1,,PR0

     1922    15598    4                       MACTIVE$CMD.AWDX = S_D.AWDX;

  15598  1 006060   100505 236100                    LDQ     325,,PR1
         1 006061   000004 772000                    QRL     4
         1 006062   000001 676100                    ERQ     1,,PR0
         1 006063   020000 376003                    ANQ     8192,DU
         1 006064   000001 656100                    ERSQ    1,,PR0

     1923    15599    4                       CODE = %INST_FMT;   /* INST_FMT - DEFAULT */

  15599  1 006065   000006 235007                    LDA     6,DL
         1 006066   200016 755100                    STA     CODE,,AUTO

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:344  
     1924    15600    4                     END;

  15600  1 006067   006147 710000 1                  TRA     s:15631

     1925    15601    3                  ELSE IF ( NCD = 48 ) /* FMTSPEC_CODE */

  15601  1 006070   000060 116007                    CMPQ    48,DL
         1 006071   006105 601000 1                  TNZ     s:15610

     1926    15602    4                       THEN DO;

     1927    15603    4                            CODE = N$ -> POB.SUBLK$( 0 ) -> POB.CODE - 340;
             15603                                     /* FMTFIRST_CODE */

  15603  1 006072   100003 473500                    LDP3    3,,PR1
         1 006073   300000 236100                    LDQ     0,,PR3
         1 006074   777777 376007                    ANQ     -1,DL
         1 006075   000524 136007                    SBLQ    340,DL
         1 006076   200016 756100                    STQ     CODE,,AUTO

     1928    15604    4                            IF ( NSUB = 0 )

  15604  1 006077   200013 235100                    LDA     NSUB,,AUTO
         1 006100   006147 601000 1                  TNZ     s:15631

     1929    15605    5                            THEN DO;

     1930    15606    5                                 S_D.ERROR = 53; /* E@SYNTAX */

  15606  1 006101   000065 235007                    LDA     53,DL
         1 006102   000000 474400 xsym               LDP4    S_D$
         1 006103   400013 755100                    STA     11,,PR4

     1931    15607    5                                 GOTO ARET;

  15607  1 006104   006176 710000 1                  TRA     ARET

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:345  
     1932    15608    5                               END;
     1933    15609    4                          END;
     1934    15610    3                       ELSE IF ( NCD >= 393 ) AND ( NCD <= 400 ) /* M@FIRST, M@LAST */

  15610  1 006105   000611 116007                    CMPQ    393,DL
         1 006106   006117 602000 1                  TNC     s:15616
         1 006107   000621 116007                    CMPQ    401,DL
         1 006110   006117 603000 1                  TRC     s:15616

     1935    15611    4                            THEN DO;

     1936    15612    4                                 IF GOTVREF

  15612  1 006111   200020 234100                    SZN     GOTVREF,,AUTO
         1 006112   006173 604000 1                  TMI     SYNERR

     1937    15613    4                                 THEN GOTO SYNERR;
     1938    15614    4                                 MACTIVE$CMD.SUBCODE = NCD;

  15614  1 006113   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 006114   000022 736000                    QLS     18
         1 006115   300002 552120                    STBQ    2,'20'O,PR3

     1939    15615    4                               END;

  15615  1 006116   006147 710000 1                  TRA     s:15631

     1940    15616    3                            ELSE IF ( NCD = 23 ) /* C_COMMENTS */

  15616  1 006117   000027 116007                    CMPQ    23,DL
         1 006120   006130 601000 1                  TNZ     s:15621

     1941    15617    4                                 THEN DO;

     1942    15618    4                                      IF S_D.RUM

  15618  1 006121   000000 473400 xsym               LDP3    S_D$
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:346  
         1 006122   304755 234100                    SZN     2541,,PR3
         1 006123   006147 605000 1                  TPL     s:15631

     1943    15619    4                                      THEN CALL DUA$RUM_COMM;

  15619  1 006124   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 006125   000000 701000 xent               TSX1    DUA$RUM_COMM
         1 006126   000000 011000                    NOP     0

     1944    15620    4                                    END;

  15620  1 006127   006147 710000 1                  TRA     s:15631

     1945    15621    3                                 ELSE IF ( NCD = 43 ) /* C@SLASH */

  15621  1 006130   000053 116007                    CMPQ    43,DL
         1 006131   006143 601000 1                  TNZ     s:15628

     1946    15622    4                                      THEN DO;

     1947    15623    4                                           MACTIVE$CMD.NMSLASH = '1'B;

  15623  1 006132   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 006133   100000 236003                    LDQ     32768,DU
         1 006134   300001 256100                    ORSQ    1,,PR3

     1948    15624    4                                           IF MACTIVE$CMD.SUBCODE = 0

  15624  1 006135   300002 236100                    LDQ     2,,PR3
         1 006136   000777 316003                    CANQ    511,DU
         1 006137   006147 601000 1                  TNZ     s:15631

     1949    15625    4                                           THEN MACTIVE$CMD.SUBCODE = 395;
             15625                                                    /* M@INDIRECT */

  15625  1 006140   000613 236003                    LDQ     395,DU
         1 006141   300002 552120                    STBQ    2,'20'O,PR3
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:347  

     1950    15626    4                                         END;

  15626  1 006142   006147 710000 1                  TRA     s:15631

     1951    15627    4                                      ELSE DO;

     1952    15628    4                                           S_D.ERROR = 501; /* E@DERR1 */

  15628  1 006143   000765 235007                    LDA     501,DL
         1 006144   000000 473400 xsym               LDP3    S_D$
         1 006145   300013 755100                    STA     11,,PR3

     1953    15629    4                                           GOTO ARET;

  15629  1 006146   006176 710000 1                  TRA     ARET

     1954    15630    4                                         END;
     1955    15631    3           END;                            /* "DO IX" */

  15631  1 006147   200017 054100                    AOS     IX,,AUTO
         1 006150   200017 236100                    LDQ     IX,,AUTO
         1 006151   200013 116100                    CMPQ    NSUB,,AUTO
         1 006152   005660 604400 1                  TMOZ    s:15541

     1956    15632    2        MACTIVE$CMD.FORMAT = CODE;

  15632  1 006153   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 006154   200016 236100                    LDQ     CODE,,AUTO
         1 006155   000033 736000                    QLS     27
         1 006156   000002 552140                    STBQ    2,'40'O,PR0

     1957    15633
     1958    15634    2        RETURN;

  15634  1 006157   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 006160   000001 702211                    TSX2  ! 1,X1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:348  

     1959    15635
     1960    15636    2   DDS$BLD_MACLOSE: ENTRY ALTRET;

  15636  1 006161   200012 741300       DDS$BLD_MAC* STX1  ! ZITEM$+3,,AUTO

     1961    15637
     1962    15638    2        CALL DDS$ATTDIRA( SIZEW( MACTIVE$CMD ), 29 ) ALTRET( ARET );

  15638  1 006162   000067 630400 2                  EPPR0   55
         1 006163   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 006164   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 006165   006176 702000 1                  TSX2    ARET

     1963    15639    2        MACTIVE$CMD.FORMAT = %DEFAULT_FMT;

  15639  1 006166   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 006167   037000 236003                    LDQ     15872,DU
         1 006170   000002 552140                    STBQ    2,'40'O,PR0

     1964    15640
     1965    15641    2        RETURN;

  15641  1 006171   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 006172   000001 702211                    TSX2  ! 1,X1

     1966    15642
     1967    15643    2   SYNERR:
     1968    15644    2        S_D.ERROR = 53;              /* E@SYNTAX */

  15644  1 006173   000065 235007       SYNERR       LDA     53,DL
         1 006174   000000 473400 xsym               LDP3    S_D$
         1 006175   300013 755100                    STA     11,,PR3

     1969    15645
     1970    15646    2   ARET: ALTRETURN;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:349  
  15646  1 006176   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 006177   000000 702211                    TSX2  ! 0,X1

     1971    15647
     1972    15648    2   END DDS$BLD_MACTIVE;
     1973    15649        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:350  
     1974    15650        /*F* NAME: DDS$BLD_MODIFY
     1975    15651             PURPOSE: TO BUILD THE MODIFY COMMAND.
     1976    15652             DESCRIPTION: BUILDS THE MODIFY COMMAND. */
     1977    15653        /*D* NAME: DDS$BLD_MODIFY
     1978    15654             CALL: CALL DDS$BLD_MODIFY ALTRET( ERROR );
     1979    15655             INTERFACE: DDS$INSTR
     1980    15656                        DDS$VREFCOM
     1981    15657             ENVIRONMENT: DDS$SCAN ACTIVE
     1982    15658             INPUT: NCMD$ - PTR TO "MODIFY" NODE.
     1983    15659             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     1984    15660             SCRATCH: LOCAL AUTO ONLY.
     1985    15661             DESCRIPTION: DISALLOWS MODIFY loc IF WORKING ON A STORED COMMAND.
     1986    15662             USES DDS$VREFCOM & DDS$INSTR TO DO THE ACTUAL BUILDING. SETS THE
     1987    15663             APPROPRIATE CONTROL BITS DEPENDENT UPON WHETHER new contents, old
     1988    15664             contents, WERE SPECIFIED, & WHAT FORM (INSTRUCTION OR NOT) WERE
     1989    15665             SPECIFIED. RETURNS IF BUILD WENT OK, ELSE ALTRETURNS. */
     1990    15666
     1991    15667    1   DDS$BLD_MODIFYDW: PROC ALTRET;

  15667  1 006200   200012 741300       DDS$BLD_MOD* STX1  ! ZITEM$+3,,AUTO

     1992    15668
     1993    15669        %MODIFY$CMD (STCLASS="BASED(LASTBLT$)");
     1994    15685    2   DCL NSUB SBIN;
     1995    15686    2   DCL IX SBIN;
     1996    15687    2   DCL N$ PTR;
     1997    15688    2   DCL GOTFMT BIT(1) ALIGNED;
     1998    15689    2   DCL DUM1 UBIN ALIGNED;
     1999    15690    2   DCL DUM2 UBIN ALIGNED;
     2000    15691    2   DCL DUM3 BIT(1) ALIGNED;
     2001    15692
     2002    15693    2        CALL DDS$ATTDIRA( SIZEW( MODIFY$CMD ), 28 ) ALTRET( ARET );/* C_MODIFY */

  15693  1 006201   000073 630400 2                  EPPR0   59
         1 006202   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 006203   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 006204   006452 702000 1                  TSX2    ARET
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:351  

     2003    15694    2        MODIFY$CMD.DW = '1'B;

  15694  1 006205   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 006206   001000 236003                    LDQ     512,DU
         1 006207   000001 256100                    ORSQ    1,,PR0

     2004    15695    2        GOTO L1;

  15695  1 006210   006216 710000 1                  TRA     L1

     2005    15696
     2006    15697    2   DDS$BLD_MODIFY: ENTRY ALTRET;

  15697  1 006211   200012 741300       DDS$BLD_MOD* STX1  ! ZITEM$+3,,AUTO

     2007    15698
     2008    15699    2        CALL DDS$ATTDIRA( SIZEW( MODIFY$CMD ), 28 ) ALTRET( ARET ); /* C_MODIFY */

  15699  1 006212   000073 630400 2                  EPPR0   59
         1 006213   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 006214   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 006215   006452 702000 1                  TSX2    ARET

     2009    15700    2   L1:  IF S_D.SACT

  15700  1 006216   000000 470400 xsym  L1           LDP0    S_D$
         1 006217   000501 234100                    SZN     321,,PR0
         1 006220   006224 605000 1                  TPL     s:15702

     2010    15701    2        THEN MODIFY$CMD.SACT = '1'B;

  15701  1 006221   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 006222   000400 236007                    LDQ     256,DL
         1 006223   100001 256100                    ORSQ    1,,PR1

     2011    15702    2        NSUB = NCMD$ -> POB.NSB -1;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:352  

  15702  1 006224   200004 471500                    LDP1    NCMD$,,AUTO
         1 006225   100001 236100                    LDQ     1,,PR1
         1 006226   000022 772000                    QRL     18
         1 006227   000001 136007                    SBLQ    1,DL
         1 006230   200013 756100                    STQ     NSUB,,AUTO

     2012    15703    2        ZITEM$ = S_D.D$;

  15703  1 006231   000044 236100                    LDQ     36,,PR0
         1 006232   200007 756100                    STQ     ZITEM$,,AUTO

     2013    15704    2        CALL DDS$VREFCOM( NCMD$ -> POB.SUBLK$(0), GOTFMT ) ALTRET( ARET );

  15704  1 006233   200016 633500                    EPPR3   GOTFMT,,AUTO
         1 006234   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 006235   200004 236100                    LDQ     NCMD$,,AUTO
         1 006236   000003 036003                    ADLQ    3,DU
         1 006237   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 006240   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 006241   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 006242   000000 701000 xent               TSX1    DDS$VREFCOM
         1 006243   006452 702000 1                  TSX2    ARET

     2014    15705    2        IF ( NOT GOTFMT ) AND ( ZITEM.DTYP ~= %SPEC_DTYP )

  15705  1 006244   200016 234100                    SZN     GOTFMT,,AUTO
         1 006245   006255 604000 1                  TMI     s:15707
         1 006246   200007 470500                    LDP0    ZITEM$,,AUTO
         1 006247   000001 236100                    LDQ     1,,PR0
         1 006250   000777 376003                    ANQ     511,DU
         1 006251   000003 116003                    CMPQ    3,DU
         1 006252   006255 600000 1                  TZE     s:15707

     2015    15706    2        THEN ZITEM.FMT_SPEC = %DEFAULT_FMT;

  15706  1 006253   037000 236007                    LDQ     15872,DL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:353  
         1 006254   000006 552110                    STBQ    6,'10'O,PR0

     2016    15707    2        IF ( NOT ZITEM.FLAGS.MDSE.M )

  15707  1 006255   200007 470500                    LDP0    ZITEM$,,AUTO
         1 006256   000001 234100                    SZN     1,,PR0
         1 006257   006264 604000 1                  TMI     s:15712

     2017    15708    3        THEN DO;                           /* LOCATION NOT MODIFYABLE */

     2018    15709    3             S_D.ERROR = 42;          /*E@NOMOD */

  15709  1 006260   000052 235007                    LDA     42,DL
         1 006261   000000 471400 xsym               LDP1    S_D$
         1 006262   100013 755100                    STA     11,,PR1

     2019    15710    3             GOTO ARET;

  15710  1 006263   006452 710000 1                  TRA     ARET

     2020    15711    3           END;
     2021    15712    3        CALL DDK$EVAL(S_D.TEMP$O, DUM1, DUM2, DUM3) WHENRETURN DO;

  15712  1 006264   200021 631500                    EPPR1   DUM3,,AUTO
         1 006265   200053 451500                    STP1    @ND_PTR+4,,AUTO
         1 006266   200020 633500                    EPPR3   DUM2,,AUTO
         1 006267   200052 453500                    STP3    @ND_PTR+3,,AUTO
         1 006270   200017 634500                    EPPR4   DUM1,,AUTO
         1 006271   200051 454500                    STP4    @ND_PTR+2,,AUTO
         1 006272   000000 236000 xsym               LDQ     S_D$
         1 006273   007105 036003                    ADLQ    3653,DU
         1 006274   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 006275   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 006276   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 006277   000000 701000 xent               TSX1    DDK$EVAL
         1 006300   006304 702000 1                  TSX2    s:15715

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:354  
     2022    15713    3             S_D.TEMP$O_ACTIVE = '1'B;

  15713  1 006301   400000 236003                    LDQ     -131072,DU
         1 006302   000000 470400 xsym               LDP0    S_D$
         1 006303   007106 756100                    STQ     3654,,PR0

     2023    15714    3           END;

     2024    15715    3        DO IX = 1 TO NSUB;

  15715  1 006304   000001 235007                    LDA     1,DL
         1 006305   200014 755100                    STA     IX,,AUTO
         1 006306   006443 710000 1                  TRA     s:15746+1

     2025    15716    3             N$ = NCMD$ -> POB.SUBLK$( IX );

  15716  1 006307   200004 470500                    LDP0    NCMD$,,AUTO
         1 006310   200014 720100                    LXL0    IX,,AUTO
         1 006311   000003 236110                    LDQ     3,X0,PR0
         1 006312   200015 756100                    STQ     N$,,AUTO

     2026    15717    3             ZITEM$ = S_D.D$;              /* ASSUME NOT INSTRUCTION */

  15717  1 006313   000000 471400 xsym               LDP1    S_D$
         1 006314   100044 236100                    LDQ     36,,PR1
         1 006315   200007 756100                    STQ     ZITEM$,,AUTO

     2027    15718    3             IF IX < 3 AND N$ -> POB.CODE ~= 1 /* C@NWARN_OPT */

  15718  1 006316   200014 235100                    LDA     IX,,AUTO
         1 006317   000003 115007                    CMPA    3,DL
         1 006320   006334 605000 1                  TPL     s:15720
         1 006321   200015 473500                    LDP3    N$,,AUTO
         1 006322   300000 721100                    LXL1    0,,PR3
         1 006323   000001 101003                    CMPX1   1,DU
         1 006324   006334 600000 1                  TZE     s:15720

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:355  
     2028    15719    3             THEN MODIFY$CMD.DDESC( IX-1 ) = '1'B; /* DATA DESCRIPTOR PRESENT */

  15719  1 006325   000000 115003                    CMPA    0,DU
         1 006326   006330 605000 1                  TPL     s:15719+3
         1 006327   000044 035003                    ADLA    36,DU
         1 006330   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 006331   003105 060400                    CSL     bolr='003'O
         1 006332   000030 000001 xsym               BDSC    B_VECTNIL+24             by=0,bit=0,n=1
         1 006333   400000 700001                    BDSC    0,A,PR4                  by=3,bit=8,n=1

     2029    15720    3             IF N$ -> POB.CODE = 49 /* INSTR_CODE */

  15720  1 006334   200015 473500                    LDP3    N$,,AUTO
         1 006335   300000 721100                    LXL1    0,,PR3
         1 006336   000061 101003                    CMPX1   49,DU
         1 006337   006416 601000 1                  TNZ     s:15736

     2030    15721    4             THEN DO;

     2031    15722    4                  IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

  15722  1 006340   106714 235100                    LDA     3532,,PR1
         1 006341   000001 115007                    CMPA    1,DL
         1 006342   006352 601000 1                  TNZ     s:15724

     2032    15723    4                  THEN CALL DDS$INSTR( N$ ) ALTRET( ARET );

  15723  1 006343   200015 634500                    EPPR4   N$,,AUTO
         1 006344   200050 454500                    STP4    @ND_PTR+1,,AUTO
         1 006345   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 006346   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 006347   000000 701000 xent               TSX1    DDS$INSTR
         1 006350   006452 702000 1                  TSX2    ARET
         1 006351   006364 710000 1                  TRA     s:15730

     2033    15724    4                  ELSE IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:356  
  15724  1 006352   000002 115007                    CMPA    2,DL
         1 006353   006361 601000 1                  TNZ     s:15727

     2034    15725    4                       THEN CALL DDS$SAVE_L6INSTR_PTR( N$ );

  15725  1 006354   200015 634500                    EPPR4   N$,,AUTO
         1 006355   200047 454500                    STP4    V+2,,AUTO
         1 006356   014116 701000 1                  TSX1    DDS$SAVE_L6INSTR_PTR
         1 006357   000000 011000                    NOP     0
         1 006360   006364 710000 1                  TRA     s:15730

     2035    15726    5                       ELSE DO;

     2036    15727    5                            S_D.ERROR = 502; /* E@DELBUG */

  15727  1 006361   000766 235007                    LDA     502,DL
         1 006362   100013 755100                    STA     11,,PR1

     2037    15728    5                            GOTO ARET;

  15728  1 006363   006452 710000 1                  TRA     ARET

     2038    15729    5                          END;
     2039    15730    4                  MODIFY$CMD.IGNPR( IX-1 ) = S_D.IGNPR;

  15730  1 006364   200014 235100                    LDA     IX,,AUTO
         1 006365   006367 605000 1                  TPL     s:15730+3
         1 006366   000044 035003                    ADLA    36,DU
         1 006367   000000 470400 xsym               LDP0    S_D$
         1 006370   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 006371   003105 060500                    CSL     bolr='003'O
         1 006372   000504 000001                    BDSC    324,,PR0                 by=0,bit=0,n=1
         1 006373   100001 030001                    BDSC    1,A,PR1                  by=0,bit=3,n=1

     2040    15731    4                  MODIFY$CMD.AWDX( IX-1 ) = S_D.AWDX;

  15731  1 006374   200014 235100                    LDA     IX,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:357  
         1 006375   006377 605000 1                  TPL     s:15731+3
         1 006376   000044 035003                    ADLA    36,DU
         1 006377   003105 060500                    CSL     bolr='003'O
         1 006400   000505 000001                    BDSC    325,,PR0                 by=0,bit=0,n=1
         1 006401   100001 050001                    BDSC    1,A,PR1                  by=0,bit=5,n=1

     2041    15732    4                  MODIFY$CMD.INSTR( IX-1 ) = '1'B;

  15732  1 006402   200014 235100                    LDA     IX,,AUTO
         1 006403   006405 605000 1                  TPL     s:15732+3
         1 006404   000044 035003                    ADLA    36,DU
         1 006405   003105 060400                    CSL     bolr='003'O
         1 006406   000030 000001 xsym               BDSC    B_VECTNIL+24             by=0,bit=0,n=1
         1 006407   100001 010001                    BDSC    1,A,PR1                  by=0,bit=1,n=1

     2042    15733    4                  IF ( NOT GOTFMT )

  15733  1 006410   200016 234100                    SZN     GOTFMT,,AUTO
         1 006411   006442 604000 1                  TMI     s:15746

     2043    15734    4                  THEN ZITEM.FMT_SPEC = %INST_FMT;

  15734  1 006412   200007 473500                    LDP3    ZITEM$,,AUTO
         1 006413   006000 236007                    LDQ     3072,DL
         1 006414   300006 552110                    STBQ    6,'10'O,PR3

     2044    15735    4                END;

  15735  1 006415   006442 710000 1                  TRA     s:15746

     2045    15736    3             ELSE IF N$ -> POB.CODE = 1 /* C@NWARN_OPT */

  15736  1 006416   000001 101003                    CMPX1   1,DU
         1 006417   006424 601000 1                  TNZ     s:15739

     2046    15737    3                  THEN MODIFY$CMD.NWARN = '1'B;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:358  
  15737  1 006420   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 006421   000400 236003                    LDQ     256,DU
         1 006422   400001 256100                    ORSQ    1,,PR4
         1 006423   006442 710000 1                  TRA     s:15746

     2047    15738    4                  ELSE DO;

     2048    15739    4                       CALL DDS$VREFCOM( N$ ) ALTRET( ARET ); /* ASSUME VREF_CODE */

  15739  1 006424   200015 634500                    EPPR4   N$,,AUTO
         1 006425   200050 454500                    STP4    @ND_PTR+1,,AUTO
         1 006426   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 006427   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 006430   000000 701000 xent               TSX1    DDS$VREFCOM
         1 006431   006452 702000 1                  TSX2    ARET

     2049    15740    4                       IF ( NOT ZITEM.FLAGS.MDSE.E )

  15740  1 006432   200007 470500                    LDP0    ZITEM$,,AUTO
         1 006433   000001 236100                    LDQ     1,,PR0
         1 006434   040000 316003                    CANQ    16384,DU
         1 006435   006442 601000 1                  TNZ     s:15746

     2050    15741    5                       THEN DO;            /* LOCATION NOT EVALUATABLE */

     2051    15742    5                            S_D.ERROR = 43; /*E@NOEVAL */

  15742  1 006436   000053 235007                    LDA     43,DL
         1 006437   000000 471400 xsym               LDP1    S_D$
         1 006440   100013 755100                    STA     11,,PR1

     2052    15743    5                            GOTO ARET;

  15743  1 006441   006452 710000 1                  TRA     ARET

     2053    15744    5                          END;
     2054    15745    4                     END;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:359  
     2055    15746    3           END;                            /* "DO IX" */

  15746  1 006442   200014 054100                    AOS     IX,,AUTO
         1 006443   200014 236100                    LDQ     IX,,AUTO
         1 006444   200013 116100                    CMPQ    NSUB,,AUTO
         1 006445   006307 604400 1                  TMOZ    s:15716

     2056    15747
     2057    15748    2        S_D.TEMP$O_ACTIVE = '0'B;

  15748  1 006446   000000 470400 xsym               LDP0    S_D$
         1 006447   007106 450100                    STZ     3654,,PR0

     2058    15749    2        RETURN;

  15749  1 006450   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 006451   000001 702211                    TSX2  ! 1,X1

     2059    15750
     2060    15751    2   ARET: S_D.TEMP$O_ACTIVE = '0'B;

  15751  1 006452   000000 470400 xsym  ARET         LDP0    S_D$
         1 006453   007106 450100                    STZ     3654,,PR0

     2061    15752    2        ALTRETURN;

  15752  1 006454   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 006455   000000 702211                    TSX2  ! 0,X1

     2062    15753
     2063    15754    2   END DDS$BLD_MODIFYDW;
     2064    15755        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:360  
     2065    15756        /*F* NAME: DDS$BLD_MLCT
     2066    15757             PURPOSE: TO BUILD THE MLCT COMMAND.
     2067    15758             DESCRIPTION: BUILDS THE MLCT COMMAND. */
     2068    15759        /*D* NAME: DDS$BLD_MLCT
     2069    15760             CALL: CALL DDS$BLD_MLCT ALTRET( ERROR );
     2070    15761             INTERFACE: DDS$ATTDIRA
     2071    15762             ENVIRONMENT: DDS$SCAN ACTIVE
     2072    15763             INPUT: NCMD$ - PTR TO "MLCT" NODE.
     2073    15764             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2074    15765             SCRATCH: LOCAL AUTO ONLY.
     2075    15766             DESCRIPTION: */
     2076    15767
     2077    15768    1   DDS$BLD_MLCT:PROC ALTRET;

  15768  1 006456   200012 741300       DDS$BLD_MLCT STX1  ! ZITEM$+3,,AUTO

     2078    15769
     2079    15770    2   DCL NSUB SBIN;
     2080    15771    2   DCL NC$ PTR;
     2081    15772    2   DCL V UBIN;
     2082    15773    2   DCL T1 UBIN;
     2083    15774        %LCT$CMD(NAME=LCT$CMD,STCLASS="BASED(LASTBLT$)");
     2084    15788
     2085    15789    2        T1 = 65;                       /* C_MLCT */

  15789  1 006457   000101 235007                    LDA     65,DL
         1 006460   200016 755100                    STA     T1,,AUTO

     2086    15790    2        CALL DDS$ATTDIRA ( SIZEW(LCT$CMD), T1 ) ALTRET(ARET);

  15790  1 006461   200016 630500                    EPPR0   T1,,AUTO
         1 006462   200051 450500                    STP0    @ND_PTR+2,,AUTO
         1 006463   000030 236000 2                  LDQ     24
         1 006464   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 006465   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 006466   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 006467   000000 701000 xent               TSX1    DDS$ATTDIRA
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:361  
         1 006470   006547 702000 1                  TSX2    ARET

     2087    15791    2        NSUB = NCMD$ -> POB.NSB - 1;

  15791  1 006471   200004 470500                    LDP0    NCMD$,,AUTO
         1 006472   000001 236100                    LDQ     1,,PR0
         1 006473   000022 772000                    QRL     18
         1 006474   000001 136007                    SBLQ    1,DL
         1 006475   200013 756100                    STQ     NSUB,,AUTO

     2088    15792    2        NC$ = NCMD$ -> POB.SUBLK$(0);

  15792  1 006476   000003 236100                    LDQ     3,,PR0
         1 006477   200014 756100                    STQ     NC$,,AUTO

     2089    15793    2        CALL DDS$HEX( NC$, V ) ALTRET(ARET);

  15793  1 006500   200015 631500                    EPPR1   V,,AUTO
         1 006501   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 006502   200014 633500                    EPPR3   NC$,,AUTO
         1 006503   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 006504   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 006505   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 006506   000000 701000 xent               TSX1    DDS$HEX
         1 006507   006547 702000 1                  TSX2    ARET

     2090    15794    2        IF V > 255

  15794  1 006510   200015 235100                    LDA     V,,AUTO
         1 006511   000400 115007                    CMPA    256,DL
         1 006512   006544 603000 1                  TRC     TOOLARGE

     2091    15795    2        THEN GOTO TOOLARGE;
     2092    15796    2        LCT$CMD.LCT# = V;

  15796  1 006513   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 006514   000002 755100                    STA     2,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:362  

     2093    15797    2        IF NSUB > 0

  15797  1 006515   200013 236100                    LDQ     NSUB,,AUTO
         1 006516   006542 604400 1                  TMOZ    s:15806

     2094    15798    3        THEN DO;

     2095    15799    3             NC$ = NCMD$ -> POB.SUBLK$(1);

  15799  1 006517   200004 471500                    LDP1    NCMD$,,AUTO
         1 006520   100004 236100                    LDQ     4,,PR1
         1 006521   200014 756100                    STQ     NC$,,AUTO

     2096    15800    3             CALL DDS$HEX( NC$, V ) ALTRET(ARET);

  15800  1 006522   200015 633500                    EPPR3   V,,AUTO
         1 006523   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 006524   200014 634500                    EPPR4   NC$,,AUTO
         1 006525   200050 454500                    STP4    @ND_PTR+1,,AUTO
         1 006526   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 006527   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 006530   000000 701000 xent               TSX1    DDS$HEX
         1 006531   006547 702000 1                  TSX2    ARET

     2097    15801    3             IF ( V > BITBIN('FF'X))

  15801  1 006532   200015 235100                    LDA     V,,AUTO
         1 006533   000400 115007                    CMPA    256,DL
         1 006534   006544 603000 1                  TRC     TOOLARGE

     2098    15802    3             THEN GOTO TOOLARGE;
     2099    15803    3             LCT$CMD.NEW_VALUE = '1'B;

  15803  1 006535   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 006536   400000 236003                    LDQ     -131072,DU
         1 006537   000001 256100                    ORSQ    1,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:363  

     2100    15804    3             LCT$CMD.LCT_NEW_VALUE = V;

  15804  1 006540   200015 235100                    LDA     V,,AUTO
         1 006541   000003 755100                    STA     3,,PR0

     2101    15805    3           END;

     2102    15806    2        RETURN;

  15806  1 006542   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 006543   000001 702211                    TSX2  ! 1,X1

     2103    15807
     2104    15808    2   TOOLARGE: S_D.ERROR = 46;       /* E@TOOLARGE */

  15808  1 006544   000056 236007       TOOLARGE     LDQ     46,DL
         1 006545   000000 470400 xsym               LDP0    S_D$
         1 006546   000013 756100                    STQ     11,,PR0

     2105    15809    2   ARET: ALTRETURN;

  15809  1 006547   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 006550   000000 702211                    TSX2  ! 0,X1

     2106    15810
     2107    15811    2   END DDS$BLD_MLCT;
     2108    15812        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:364  
     2109    15813        /*F* NAME: DDS$BLD_NAME
     2110    15814              PURPOSE: TO BUILD THE "NAME" COMMAND */
     2111    15815        /*D* NAME: DDS$BLD_NAME
     2112    15816              CALL: CALL DDS$BLD_NAME ALTRET (ERROR)
     2113    15817              */
     2114    15818    1   DDS$BLD_NAME: PROC ALTRET;

  15818  1 006551   200012 741300       DDS$BLD_NAME STX1  ! ZITEM$+3,,AUTO

     2115    15819
     2116    15820    2   DCL 1 QUEST CONSTANT,
     2117    15821    2         2 * UBIN BYTE UNAL INIT(1),
     2118    15822    2         2 * CHAR(1) UNAL INIT('?');
     2119    15823
     2120    15824        %NAME$CMD (STCLASS="BASED(LASTBLT$)");
     2121    15838
     2122    15839    2        CALL DDS$ATTDIRA( SIZEW( NAME$CMD ), 91 ) ALTRET( ARET ); /* C_NAME */

  15839  1 006552   000076 630400 2                  EPPR0   62
         1 006553   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 006554   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 006555   006612 702000 1                  TSX2    ARET

     2123    15840
     2124    15841    2        IF NCMD$->POB.SUBLK$(0)->POB.CODE = 122 THEN

  15841  1 006556   200004 470500                    LDP0    NCMD$,,AUTO
         1 006557   000003 471500                    LDP1    3,,PR0
         1 006560   100000 720100                    LXL0    0,,PR1
         1 006561   000172 100003                    CMPX0   122,DU
         1 006562   006567 601000 1                  TNZ     s:15844

     2125    15842    2             NAME$CMD.ENTDEFS = '1'B;

  15842  1 006563   400000 236003                    LDQ     -131072,DU
         1 006564   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 006565   300002 756100                    STQ     2,,PR3
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:365  
         1 006566   006571 710000 1                  TRA     s:15846

     2126    15843    2        ELSE
     2127    15844    2             NAME$CMD.ENTDEFS = '0'B;

  15844  1 006567   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 006570   300002 450100                    STZ     2,,PR3

     2128    15845
     2129    15846    3        IF NCMD$->POB.NSB > 1 THEN DO;

  15846  1 006571   000001 220100                    LDX0    1,,PR0
         1 006572   000002 100003                    CMPX0   2,DU
         1 006573   006605 602000 1                  TNC     s:15850

     2130    15847    3             NAME$CMD.TEXTC = NCMD$->POB.SUBLK$(1)->POB.SUBLK$(0)->TEXT$C;

  15847  1 006574   000004 471500                    LDP1    4,,PR0
         1 006575   100003 474500                    LDP4    3,,PR1
         1 006576   400000 236100                    LDQ     0,,PR4
         1 006577   000033 772000                    QRL     27
         1 006600   000001 621006                    EAX1    1,QL
         1 006601   000100 100540                    MLR     fill='000'O
         1 006602   400000 000011                    ADSC9   0,,PR4                   cn=0,n=*X1
         1 006603   300003 000040                    ADSC9   3,,PR3                   cn=0,n=32

     2131    15848    3           END;

  15848  1 006604   006610 710000 1                  TRA     s:15853

     2132    15849    3        ELSE DO;

     2133    15850    3             NAME$CMD.TEXTC = QUEST;

  15850  1 006605   000100 100400                    MLR     fill='000'O
         1 006606   000000 000002 0                  ADSC9   QUEST                    cn=0,n=2
         1 006607   300003 000040                    ADSC9   3,,PR3                   cn=0,n=32
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:366  

     2134    15851    3           END;

     2135    15852
     2136    15853    2        RETURN;

  15853  1 006610   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 006611   000001 702211                    TSX2  ! 1,X1

     2137    15854
     2138    15855    2   ARET: ALTRETURN;

  15855  1 006612   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 006613   000000 702211                    TSX2  ! 0,X1

     2139    15856
     2140    15857    2   END DDS$BLD_NAME;
     2141    15858        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:367  
     2142    15859        /*F* NAME: DDS$BLD_OA
     2143    15860             PURPOSE: TO BUILD THE "ON ABORT" COMMAND.
     2144    15861             DESCRIPTION: BUILDS THE "ON ABORT" COMMAND. */
     2145    15862        /*D* NAME: DDS$BLD_OA
     2146    15863             CALL: CALL DDS$BLD_OA ALTRET( ERROR );
     2147    15864             INTERFACE: DDS$ATTDIRA
     2148    15865             ENVIRONMENT: DDS$SCAN ACTIVE
     2149    15866             INPUT: NCMD$ - PTR TO "OA" NODE.
     2150    15867             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2151    15868             SCRATCH: LOCAL AUTO ONLY.
     2152    15869             DESCRIPTION: */
     2153    15870
     2154    15871    1   DDS$BLD_OA: PROC ALTRET;

  15871  1 006614   200012 741300       DDS$BLD_OA   STX1  ! ZITEM$+3,,AUTO

     2155    15872
     2156    15873    2   DCL V UBIN;
     2157    15874    2   DCL I UBIN;
     2158    15875        %AT_FIRST (NAME=ONABORT$CMD,STCLASS="BASED(LASTBLT$)");
     2159    15903        %FPRG$CONTEXT;
     2160    15966
     2161    15967    2        V = 30;                          /* C_OA */

  15967  1 006615   000036 235007                    LDA     30,DL
         1 006616   200013 755100                    STA     V,,AUTO

     2162    15968    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

  15968  1 006617   000000 470400 xsym               LDP0    S_D$
         1 006620   006714 235100                    LDA     3532,,PR0
         1 006621   000001 115007                    CMPA    1,DL
         1 006622   006755 601000 1                  TNZ     NOTIMPFPRG

     2163    15969    3        THEN DO;

     2164    15970    3             IF S_D.ONABORT ~= 0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:368  

  15970  1 006623   004744 235100                    LDA     2532,,PR0
         1 006624   006760 601000 1                  TNZ     ARET1

     2165    15971    3             THEN GOTO ARET1;
     2166    15972    3           END;

  15972  1 006625   006626 710000 1                  TRA     s:15974

     2167    15973    2        ELSE GOTO NOTIMPFPRG;
     2168    15974    2        GOTO SETUP;

  15974  1 006626   006650 710000 1                  TRA     SETUP

     2169    15975
     2170    15976    2   DDS$BLD_OE: ENTRY ALTRET;

  15976  1 006627   200012 741300       DDS$BLD_OE   STX1  ! ZITEM$+3,,AUTO

     2171    15977
     2172    15978    2        V = 32;                          /* C_OE */

  15978  1 006630   000040 235007                    LDA     32,DL
         1 006631   200013 755100                    STA     V,,AUTO

     2173    15979    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

  15979  1 006632   000000 470400 xsym               LDP0    S_D$
         1 006633   006714 235100                    LDA     3532,,PR0
         1 006634   000001 115007                    CMPA    1,DL
         1 006635   006641 601000 1                  TNZ     s:15985

     2174    15980    3        THEN DO;

     2175    15981    3             IF S_D.ONEXIT ~= 0

  15981  1 006636   004746 235100                    LDA     2534,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:369  
         1 006637   006760 601000 1                  TNZ     ARET1

     2176    15982    3             THEN GOTO ARET1;
     2177    15983    3           END;

  15983  1 006640   006650 710000 1                  TRA     SETUP

     2178    15984    3        ELSE DO;

     2179    15985    3             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.ONEXIT ~= 0

  15985  1 006641   000102 471500                    LDP1    66,,PR0
         1 006642   100061 235100                    LDA     49,,PR1
         1 006643   100062 236100                    LDQ     50,,PR1
         1 006644   000034 773000                    LRL     28
         1 006645   000777 376007                    ANQ     511,DL
         1 006646   000000 116003                    CMPQ    0,DU
         1 006647   006760 601000 1                  TNZ     ARET1

     2180    15986    3             THEN GOTO ARET1;
     2181    15987    3           END;

     2182    15988        /*   GOTO SETUP; */
     2183    15989    2   SETUP:
     2184    15990    2        CALL DDS$STOREDA( SIZEW( ONABORT$CMD ), V ) ALTRET( ARET );

  15990  1 006650   200013 631500       SETUP        EPPR1   V,,AUTO
         1 006651   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 006652   000017 236000 2                  LDQ     15
         1 006653   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 006654   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 006655   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 006656   000000 701000 xent               TSX1    DDS$STOREDA
         1 006657   006762 702000 1                  TSX2    ARET

     2185    15991    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:370  
  15991  1 006660   000000 470400 xsym               LDP0    S_D$
         1 006661   006714 235100                    LDA     3532,,PR0
         1 006662   000001 115007                    CMPA    1,DL
         1 006663   006675 601000 1                  TNZ     s:15998

     2186    15992    3        THEN DO;

     2187    15993    3             IF V = 30                   /* C_OA */

  15993  1 006664   200013 236100                    LDQ     V,,AUTO
         1 006665   000036 116007                    CMPQ    30,DL
         1 006666   006672 601000 1                  TNZ     s:15995

     2188    15994    3             THEN S_D.ONABORT = S_D.STORED;

  15994  1 006667   000135 235100                    LDA     93,,PR0
         1 006670   004744 755100                    STA     2532,,PR0
         1 006671   006753 710000 1                  TRA     s:16016

     2189    15995    3             ELSE S_D.ONEXIT = S_D.STORED;

  15995  1 006672   000135 235100                    LDA     93,,PR0
         1 006673   004746 755100                    STA     2534,,PR0

     2190    15996    3           END;

  15996  1 006674   006753 710000 1                  TRA     s:16016

     2191    15997    3        ELSE DO;

     2192    15998    3             I = 1;

  15998  1 006675   000001 236007                    LDQ     1,DL
         1 006676   200014 756100                    STQ     I,,AUTO

     2193    15999    4             DO WHILE (S_D.CURRENT_FPRG_CONTEXT$->FPRG$CONTEXT.FIXCOM_INDEX(I) ~= 0

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:371  
  15999  1 006677   006703 710000 1                  TRA     s:16002

     2194    16000    4               AND I <= 20);
     2195    16001    4                  I = I + 1;

  16001  1 006700   200014 235100                    LDA     I,,AUTO
         1 006701   000001 035007                    ADLA    1,DL
         1 006702   200014 755100                    STA     I,,AUTO

     2196    16002    4                END;

  16002  1 006703   000000 470400 xsym               LDP0    S_D$
         1 006704   000102 471500                    LDP1    66,,PR0
         1 006705   200014 720100                    LXL0    I,,AUTO
         1 006706   100034 235110                    LDA     28,X0,PR1
         1 006707   006713 600000 1                  TZE     s:16003
         1 006710   200014 236100                    LDQ     I,,AUTO
         1 006711   000025 116007                    CMPQ    21,DL
         1 006712   006700 602000 1                  TNC     s:16001

     2197    16003    3             IF I > 20

  16003  1 006713   200014 236100                    LDQ     I,,AUTO
         1 006714   000025 116007                    CMPQ    21,DL
         1 006715   006721 602000 1                  TNC     s:16008

     2198    16004    4             THEN DO;

     2199    16005    4                  S_D.ERROR = 288; /* E@TOOMANYBKPNTS */

  16005  1 006716   000440 235007                    LDA     288,DL
         1 006717   000013 755100                    STA     11,,PR0

     2200    16006    4                  GOTO ARET;

  16006  1 006720   006762 710000 1                  TRA     ARET

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:372  
     2201    16007    4                END;
     2202    16008    3             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FIXCOM_INDEX(I) = S_D.STORED;

  16008  1 006721   000135 235100                    LDA     93,,PR0
         1 006722   100034 755110                    STA     28,X0,PR1

     2203    16009    3             S_D.FIXCOM.FPRG(S_D.STORED) = '1'B;

  16009  1 006723   000135 236100                    LDQ     93,,PR0
         1 006724   000003 402007                    MPY     3,DL
         1 006725   000001 736000                    QLS     1
         1 006726   000000 621006                    EAX1    0,QL
         1 006727   000002 236003                    LDQ     2,DU
         1 006730   001212 256111                    ORSQ    650,X1,PR0

     2204    16010    3             S_D.FIXCOM.FPRG_RES(S_D.STORED) =

  16010  1 006731   000135 236100                    LDQ     93,,PR0
         1 006732   000003 402007                    MPY     3,DL
         1 006733   000001 736000                    QLS     1
         1 006734   000102 471500                    LDP1    66,,PR0
         1 006735   000002 736000                    QLS     2
         1 006736   040106 100500                    MLR     fill='040'O
         1 006737   100002 000010                    ADSC9   2,,PR1                   cn=0,n=8
         1 006740   001215 000010                    ADSC9   653,Q,PR0                cn=0,n=8

     2205    16011    3               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES;
     2206    16012    3             S_D.FIXCOM.FPRG_RES_SIZE(S_D.STORED) =

  16012  1 006741   000135 236100                    LDQ     93,,PR0
         1 006742   000003 402007                    MPY     3,DL
         1 006743   000001 736000                    QLS     1
         1 006744   000102 471500                    LDP1    66,,PR0
         1 006745   100004 235100                    LDA     4,,PR1
         1 006746   001217 755106                    STA     655,QL,PR0

     2207    16013    3               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES_SIZE;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:373  
     2208    16014    3             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.ONEXIT = I;

  16014  1 006747   000102 471500                    LDP1    66,,PR0
         1 006750   003100 061500                    CSR     bolr='003'O
         1 006751   200014 000044                    BDSC    I,,AUTO                  by=0,bit=0,n=36
         1 006752   100061 700011                    BDSC    49,,PR1                  by=3,bit=8,n=9

     2209    16015    3           END;

     2210    16016    2        RETURN;

  16016  1 006753   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 006754   000001 702211                    TSX2  ! 1,X1

  16013  1 006755                       NOTIMPFPRG   null
     2211    16017
     2212    16018    2   NOTIMPFPRG: ;
     2213    16019    2        S_D.ERROR = 315;          /* E@NOTIMPFPRG */

  16019  1 006755   000473 236007                    LDQ     315,DL
         1 006756   000013 756100                    STQ     11,,PR0

     2214    16020    2        GOTO ARET;

  16020  1 006757   006762 710000 1                  TRA     ARET

     2215    16021    2   ARET1:
     2216    16022    2        S_D.ERROR = 91;               /* E@ONLY1 */

  16022  1 006760   000133 235007       ARET1        LDA     91,DL
         1 006761   000013 755100                    STA     11,,PR0

     2217    16023    2   ARET: ALTRETURN;

  16023  1 006762   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 006763   000000 702211                    TSX2  ! 0,X1

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:374  
     2218    16024
     2219    16025    2   END DDS$BLD_OA;
     2220    16026        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:375  
     2221    16027        /*F* NAME: DDS$BLD_OC
     2222    16028             PURPOSE: TO BUILD THE OC COMMAND.
     2223    16029             DESCRIPTION: BUILDS THE OC STORED COMMAND "FIRST ATTACHMENT"
     2224    16030             IN VARCOM. SETS UP THE FIELDS IN THE FIXCOM SLOT. BUILDS THE
     2225    16031             OPTIONAL BYPASS COUNT (#) AND IFSPEC FIELDS IN THE FIRST
     2226    16032             ATTACHMENT. EVALUATES & BUILDS THE POSITION. RETURNS IF BUILD
     2227    16033             IS SUCCESSFUL, ELSE ALTRETURNS. */
     2228    16034        /*D* NAME: DDS$BLD_OC
     2229    16035             INTERFACE:
     2230    16036             ENVIRONMENT: DDS$SCAN ACTIVE.
     2231    16037             INPUT: S_D.STORED - COMMAND ID.
     2232    16038                    NCMD$ - POINTER TO N_OC NODE.
     2233    16039             OUTPUT: S_D.D$ - POINTER TO NEXT FREE WORD IN VARCOM.
     2234    16040             SCRATCH: LOCAL AUTO ONLY
     2235    16041             DESCRIPTION: BUILDS THE OC STORED COMMAND "FIRST ATTACHMENT"
     2236    16042             IN VARCOM. SETS UP THE FIELDS IN THE FIXCOM SLOT. BUILDS THE
     2237    16043             OPTIONAL BYPASS COUNT (#) AND IFSPEC FIELDS IN THE FIRST
     2238    16044             ATTACHMENT. EVALUATES & BUILDS THE POSITION. RETURNS IF BUILD
     2239    16045             IS SUCCESSFUL, ELSE ALTRETURNS. */
     2240    16046
     2241    16047    1   DDS$BLD_OC: PROC ALTRET;

  16047  1 006764   200012 741300       DDS$BLD_OC   STX1  ! ZITEM$+3,,AUTO

     2242    16048
     2243    16049    2   DCL IXX SBIN;                           /* INDEX FOR DO LOOP */
     2244    16050    2   DCL TCODE SBIN;                         /* TEMP FOR NODE CODE */
     2245    16051    2   DCL IC SBIN;                            /* POSITION ADDRESS */
     2246    16052    2   DCL I UBIN;
     2247    16053    2   DCL CHAR22 CHAR(22) BASED;
     2248    16054    2   DCL BB$ PTR;
     2249    16055    2   DCL SIZE UBIN;
     2250    16056    2   DCL NCC$ PTR;                           /* TEMP NODE POINTER */
     2251    16057    2   DCL ERR$ PTR;
     2252    16058    2   DCL ENTRY$ PTR;
     2253    16059        %B$TREE_TABLE (HDR_NAME=B$TREEHDR,NODE_NAME="B$NODE(0:0)");
     2254    16117        %B$EDEF;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:376  
     2255    16187        %B$INTNTRY;
     2256    16245        %AT_FIRST (NAME=OC$CMD,STCLASS="BASED(LASTBLT$)");
     2257    16273        %FPRG$CONTEXT;
     2258    16336
     2259    16337    2        IF S_D.EDEF$ = ADDR(NIL)

  16337  1 006765   000000 470400 xsym               LDP0    S_D$
         1 006766   001042 236100                    LDQ     546,,PR0
         1 006767   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 006770   006774 601000 1                  TNZ     s:16344

     2260    16338    3        THEN DO;

     2261    16339    3             S_D.ERROR = 286;   /* E@NODEFS_NOONC */

  16339  1 006771   000436 235007                    LDA     286,DL
         1 006772   000013 755100                    STA     11,,PR0

     2262    16340    3             GOTO ALTRT;

  16340  1 006773   007340 710000 1                  TRA     ALTRT

     2263    16341    3           END;
     2264    16342        /* BYPASS COUNT & CURRENT COUNT INITIALIZED TO ZERO IN DDS$STOREDA */
     2265    16343        /* PICK UP EACH RETURNED NODE & PROCESS IT */
     2266    16344    3        DO IXX = 0 TO NCMD$->POB.NSB-1;

  16344  1 006774   200013 450100                    STZ     IXX,,AUTO
         1 006775   007207 710000 1                  TRA     s:16391+1

     2267    16345    3             NCC$ = NCMD$->POB.SUBLK$(IXX); /* GET POINTER TO NEXT LEVEL NODE */

  16345  1 006776   200004 470500                    LDP0    NCMD$,,AUTO
         1 006777   200013 720100                    LXL0    IXX,,AUTO
         1 007000   000003 236110                    LDQ     3,X0,PR0
         1 007001   200021 756100                    STQ     NCC$,,AUTO

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:377  
     2268    16346    3             TCODE = NCC$->POB.CODE;       /* PICK UP CODE */

  16346  1 007002   200021 471500                    LDP1    NCC$,,AUTO
         1 007003   100000 236100                    LDQ     0,,PR1
         1 007004   777777 376007                    ANQ     -1,DL
         1 007005   200014 756100                    STQ     TCODE,,AUTO

     2269    16347    3             IF ( TCODE = 14 ) OR ( TCODE = 15 ) /* SYM_CODE, QTSTRING_CODE */

  16347  1 007006   000016 116007                    CMPQ    14,DL
         1 007007   007012 600000 1                  TZE     s:16349
         1 007010   000017 116007                    CMPQ    15,DL
         1 007011   007123 601000 1                  TNZ     s:16374

     2270    16348    4             THEN DO;                      /* "SIMBLE" */

     2271    16349    4                  NCC$ = NCC$ -> POB.SUBLK$( 0 ); /* GET TEXTC POINTER */

  16349  1 007012   100003 236100                    LDQ     3,,PR1
         1 007013   200021 756100                    STQ     NCC$,,AUTO

     2272    16350    4                  ERR$ = NCC$;

  16350  1 007014   200022 756100                    STQ     ERR$,,AUTO

     2273    16351    4                  CALL DDS$IE_SRCH( NCC$, ENTRY$ ) ALTRET( GOTIE );

  16351  1 007015   200023 631500                    EPPR1   ENTRY$,,AUTO
         1 007016   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 007017   200021 633500                    EPPR3   NCC$,,AUTO
         1 007020   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 007021   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 007022   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 007023   000000 701000 xent               TSX1    DDS$IE_SRCH
         1 007024   007044 702000 1                  TSX2    GOTIE

     2274    16352    4                  IF NOT S_D.QUALIFIED
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:378  

  16352  1 007025   000000 470400 xsym               LDP0    S_D$
         1 007026   000712 234100                    SZN     458,,PR0
         1 007027   007040 604000 1                  TMI     s:16354

     2275    16353    4                  THEN CALL DDS$ED_SRCH( NCC$, ENTRY$ ) ALTRET( GOTED );

  16353  1 007030   200023 631500                    EPPR1   ENTRY$,,AUTO
         1 007031   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 007032   200021 633500                    EPPR3   NCC$,,AUTO
         1 007033   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 007034   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 007035   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 007036   000000 701000 xent               TSX1    DDS$ED_SRCH
         1 007037   007051 702000 1                  TSX2    GOTED

     2276    16354    4                  S_D.ERROR = 21;    /* E@UERR10 */

  16354  1 007040   000025 235007                    LDA     21,DL
         1 007041   000000 470400 xsym               LDP0    S_D$
         1 007042   000013 755100                    STA     11,,PR0

     2277    16355    4                  GOTO ALTRT1;

  16355  1 007043   007335 710000 1                  TRA     ALTRT1

     2278    16356    4   GOTIE:
     2279    16357    4                  IC = ENTRY$ -> B$INTNTRY.ISADDR;

  16357  1 007044   200023 470500       GOTIE        LDP0    ENTRY$,,AUTO
         1 007045   000000 236100                    LDQ     0,,PR0
         1 007046   000032 376000 xsym               ANQ     B_VECTNIL+26
         1 007047   200015 756100                    STQ     IC,,AUTO

     2280    16358    4                  GOTO GOTIT;

  16358  1 007050   007055 710000 1                  TRA     GOTIT
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:379  

     2281    16359    4   GOTED:
     2282    16360    4                  IC = ENTRY$ -> B$EDEF.ISADDR;

  16360  1 007051   200023 470500       GOTED        LDP0    ENTRY$,,AUTO
         1 007052   000000 236100                    LDQ     0,,PR0
         1 007053   000032 376000 xsym               ANQ     B_VECTNIL+26
         1 007054   200015 756100                    STQ     IC,,AUTO

     2283    16361        /*             GOTO GOTIT; */
     2284    16362    4   GOTIT:
     2285    16363    4                  CALL DDS$ES_INQ( IC );   /* Ignore altret */

  16363  1 007055   200015 631500       GOTIT        EPPR1   IC,,AUTO
         1 007056   200050 451500                    STP1    @ND_PTR+1,,AUTO
         1 007057   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 007060   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 007061   000000 701000 xent               TSX1    DDS$ES_INQ
         1 007062   000000 011000                    NOP     0

     2286    16364    4                  CALL DDS$SET_Q2D; /* ESTABLISH DEFAULT SCHEMA FOR ATTACHMENTS */

  16364  1 007063   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 007064   000000 701000 xent               TSX1    DDS$SET_Q2D
         1 007065   000000 011000                    NOP     0

     2287    16365    4                  S_D.QUALIFIED = '0'B;

  16365  1 007066   000000 470400 xsym               LDP0    S_D$
         1 007067   000712 450100                    STZ     458,,PR0

     2288    16366        /* DEFAULT SCHEMA HAS BEEN SETUP - INITIALIZE FRAME & BUILD IFSPEC */
     2289    16367    4                  CALL DDS$STOREDA( SIZEW(OC$CMD), 31 ) ALTRET(ALTRT); /* C_OC */

  16367  1 007070   000101 630400 2                  EPPR0   65
         1 007071   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 007072   000000 701000 xent               TSX1    DDS$STOREDA
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:380  
         1 007073   007340 702000 1                  TSX2    ALTRT

     2290    16368    4                  OC$CMD.NODE = S_D.NODE;

  16368  1 007074   000000 470400 xsym               LDP0    S_D$
         1 007075   004706 720100                    LXL0    2502,,PR0
         1 007076   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 007077   100003 740100                    STX0    3,,PR1

     2291    16369    4                  IF S_D.OVERLAID

  16369  1 007100   004764 234100                    SZN     2548,,PR0
         1 007101   007115 605000 1                  TPL     s:16372

     2292    16370    4                  THEN IF NOT S_D.B$TREE$ -> B$NODE.FLGS.NOW_IN( S_D.NODE )

  16370  1 007102   004767 473500                    LDP3    2551,,PR0
         1 007103   004706 236100                    LDQ     2502,,PR0
         1 007104   000006 402007                    MPY     6,DL
         1 007105   300001 234106                    SZN     1,QL,PR3
         1 007106   007115 604000 1                  TMI     s:16372

     2293    16371    4                       THEN S_D.FIXCOM.NOT_IN( S_D.STORED ) = '1'B;

  16371  1 007107   000135 236100                    LDQ     93,,PR0
         1 007110   000003 402007                    MPY     3,DL
         1 007111   000001 736000                    QLS     1
         1 007112   000000 621006                    EAX1    0,QL
         1 007113   000100 236003                    LDQ     64,DU
         1 007114   001212 256111                    ORSQ    650,X1,PR0

     2294    16372    4                  S_D.FIXCOM.CDF(S_D.STORED) = IC; /* SET IC IN S_D.FIXCOM */

  16372  1 007115   000135 236100                    LDQ     93,,PR0
         1 007116   000003 402007                    MPY     3,DL
         1 007117   000001 736000                    QLS     1
         1 007120   200015 235100                    LDA     IC,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:381  
         1 007121   001213 755106                    STA     651,QL,PR0

     2295    16373    4                END;

  16373  1 007122   007206 710000 1                  TRA     s:16391

     2296    16374    3             ELSE IF ( TCODE = 23 )    /* C@QUAL */

  16374  1 007123   000027 116007                    CMPQ    23,DL
         1 007124   007134 601000 1                  TNZ     s:16376

     2297    16375    3                  THEN CALL DDS$QUAL_SRCH( NCC$ ) ALTRET( ALTRT );

  16375  1 007125   200021 633500                    EPPR3   NCC$,,AUTO
         1 007126   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 007127   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 007130   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 007131   000000 701000 xent               TSX1    DDS$QUAL_SRCH
         1 007132   007340 702000 1                  TSX2    ALTRT
         1 007133   007206 710000 1                  TRA     s:16391

     2298    16376    3                  ELSE IF ( TCODE = 42 ) /* C@N_AT11 */

  16376  1 007134   000052 116007                    CMPQ    42,DL
         1 007135   007156 601000 1                  TNZ     s:16383

     2299    16377    4                       THEN DO;            /* N_OC11 - BYPASS COUNT */

     2300    16378    4                            NCC$ = NCC$->POB.SUBLK$(0);
             16378                                     /* POINT TO TEXT (DECIMAL LEXEME) */

  16378  1 007136   100003 236100                    LDQ     3,,PR1
         1 007137   200021 756100                    STQ     NCC$,,AUTO

     2301    16379    4                            CALL DDS$DECIMAL(NCC$,TCODE) ALTRET(ALTRT);
             16379                                     /* GET THE NUMBER */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:382  
  16379  1 007140   200014 631500                    EPPR1   TCODE,,AUTO
         1 007141   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 007142   200021 633500                    EPPR3   NCC$,,AUTO
         1 007143   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 007144   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 007145   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 007146   000000 701000 xent               TSX1    DDS$DECIMAL
         1 007147   007340 702000 1                  TSX2    ALTRT

     2302    16380    4                            OC$CMD.BYPASS_COUNT = TCODE;

  16380  1 007150   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 007151   200014 235100                    LDA     TCODE,,AUTO
         1 007152   000004 755100                    STA     4,,PR0

     2303    16381    4                            OC$CMD.CURRENT_COUNT = TCODE;

  16381  1 007153   200014 236100                    LDQ     TCODE,,AUTO
         1 007154   000005 756100                    STQ     5,,PR0

     2304    16382    4                          END;

  16382  1 007155   007206 710000 1                  TRA     s:16391

     2305    16383    3                       ELSE IF ( TCODE = 100 ) /* C@SILENT */

  16383  1 007156   000144 116007                    CMPQ    100,DL
         1 007157   007170 601000 1                  TNZ     s:16385

     2306    16384    3                            THEN S_D.FIXCOM.SILENT( S_D.STORED ) = '1'B;

  16384  1 007160   000000 473400 xsym               LDP3    S_D$
         1 007161   300135 236100                    LDQ     93,,PR3
         1 007162   000003 402007                    MPY     3,DL
         1 007163   000001 736000                    QLS     1
         1 007164   000000 621006                    EAX1    0,QL
         1 007165   000200 236003                    LDQ     128,DU
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:383  
         1 007166   301212 256111                    ORSQ    650,X1,PR3
         1 007167   007206 710000 1                  TRA     s:16391

     2307    16385    3                            ELSE IF ( TCODE = 101 ) /* C@INACTIVE */

  16385  1 007170   000145 116007                    CMPQ    101,DL
         1 007171   007202 601000 1                  TNZ     s:16388

     2308    16386    3                                 THEN S_D.FIXCOM.INACTIVE( S_D.STORED ) = '1'B;

  16386  1 007172   000000 473400 xsym               LDP3    S_D$
         1 007173   300135 236100                    LDQ     93,,PR3
         1 007174   000003 402007                    MPY     3,DL
         1 007175   000001 736000                    QLS     1
         1 007176   000000 621006                    EAX1    0,QL
         1 007177   000400 236003                    LDQ     256,DU
         1 007200   301212 256111                    ORSQ    650,X1,PR3
         1 007201   007206 710000 1                  TRA     s:16391

     2309    16387    4                                 ELSE DO;  /* UNKNOWN COMMAND */

     2310    16388    4                                      S_D.ERROR = 501; /* E@DERR1 */

  16388  1 007202   000765 235007                    LDA     501,DL
         1 007203   000000 473400 xsym               LDP3    S_D$
         1 007204   300013 755100                    STA     11,,PR3

     2311    16389    4                                      GOTO ALTRT; /* SPLIT */

  16389  1 007205   007340 710000 1                  TRA     ALTRT

     2312    16390    4                                    END;
     2313    16391    3           END;                            /* END "DO IX" */

  16391  1 007206   200013 054100                    AOS     IXX,,AUTO
         1 007207   200004 470500                    LDP0    NCMD$,,AUTO
         1 007210   000001 236100                    LDQ     1,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:384  
         1 007211   000022 772000                    QRL     18
         1 007212   200013 116100                    CMPQ    IXX,,AUTO
         1 007213   006776 605400 1                  TPNZ    s:16345

     2314    16392    2        CALL DDS$DUBREAK ALTRET( ALTRT1 );

  16392  1 007214   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 007215   000000 701000 xent               TSX1    DDS$DUBREAK
         1 007216   007335 702000 1                  TSX2    ALTRT1

     2315    16393    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

  16393  1 007217   000000 470400 xsym               LDP0    S_D$
         1 007220   006714 235100                    LDA     3532,,PR0
         1 007221   000001 115007                    CMPA    1,DL
         1 007222   007234 601000 1                  TNZ     s:16395

     2316    16394    2        THEN CALL DDB$CHECK_ADDR (IC, 0) ALTRET(S_FAULT);

  16394  1 007223   000021 236000 2                  LDQ     17
         1 007224   200051 756100                    STQ     @ND_PTR+2,,AUTO
         1 007225   200015 631500                    EPPR1   IC,,AUTO
         1 007226   200050 451500                    STP1    @ND_PTR+1,,AUTO
         1 007227   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 007230   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 007231   000000 701000 xent               TSX1    DDB$CHECK_ADDR
         1 007232   007342 702000 1                  TSX2    S_FAULT
         1 007233   007333 710000 1                  TRA     s:16420

     2317    16395    2        ELSE IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6

  16395  1 007234   000002 115007                    CMPA    2,DL
         1 007235   007325 601000 1                  TNZ     s:16416

     2318    16396    3             THEN DO;

     2319    16397    3                  I = 1;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:385  

  16397  1 007236   000001 236007                    LDQ     1,DL
         1 007237   200016 756100                    STQ     I,,AUTO

     2320    16398    4                  DO WHILE (S_D.CURRENT_FPRG_CONTEXT$->FPRG$CONTEXT.FIXCOM_INDEX(I) ~=
             16398                           0

  16398  1 007240   007244 710000 1                  TRA     s:16401

     2321    16399    4                    AND I <= 20);
     2322    16400    4                       I = I + 1;

  16400  1 007241   200016 235100                    LDA     I,,AUTO
         1 007242   000001 035007                    ADLA    1,DL
         1 007243   200016 755100                    STA     I,,AUTO

     2323    16401    4                     END;

  16401  1 007244   000000 470400 xsym               LDP0    S_D$
         1 007245   000102 471500                    LDP1    66,,PR0
         1 007246   200016 720100                    LXL0    I,,AUTO
         1 007247   100034 235110                    LDA     28,X0,PR1
         1 007250   007254 600000 1                  TZE     s:16402
         1 007251   200016 236100                    LDQ     I,,AUTO
         1 007252   000025 116007                    CMPQ    21,DL
         1 007253   007241 602000 1                  TNC     s:16400

     2324    16402    3                  IF I > 20

  16402  1 007254   200016 236100                    LDQ     I,,AUTO
         1 007255   000025 116007                    CMPQ    21,DL
         1 007256   007262 602000 1                  TNC     s:16407

     2325    16403    4                  THEN DO;

     2326    16404    4                       S_D.ERROR = 288; /* E@TOOMANYBKPNTS */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:386  
  16404  1 007257   000440 235007                    LDA     288,DL
         1 007260   000013 755100                    STA     11,,PR0

     2327    16405    4                       GOTO ALTRT;

  16405  1 007261   007340 710000 1                  TRA     ALTRT

     2328    16406    4                     END;
     2329    16407    3                  S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FIXCOM_INDEX(I) = S_D.
             16407                           STORED;

  16407  1 007262   000135 235100                    LDA     93,,PR0
         1 007263   100034 755110                    STA     28,X0,PR1

     2330    16408    3                  S_D.FIXCOM.FPRG(S_D.STORED) = '1'B;

  16408  1 007264   000135 236100                    LDQ     93,,PR0
         1 007265   000003 402007                    MPY     3,DL
         1 007266   000001 736000                    QLS     1
         1 007267   000000 620006                    EAX0    0,QL
         1 007270   000002 236003                    LDQ     2,DU
         1 007271   001212 256110                    ORSQ    650,X0,PR0

     2331    16409    3                  S_D.FIXCOM.FPRG_RES(S_D.STORED) =

  16409  1 007272   000135 236100                    LDQ     93,,PR0
         1 007273   000003 402007                    MPY     3,DL
         1 007274   000001 736000                    QLS     1
         1 007275   000102 471500                    LDP1    66,,PR0
         1 007276   000002 736000                    QLS     2
         1 007277   040106 100500                    MLR     fill='040'O
         1 007300   100002 000010                    ADSC9   2,,PR1                   cn=0,n=8
         1 007301   001215 000010                    ADSC9   653,Q,PR0                cn=0,n=8

     2332    16410    3                    S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES;
     2333    16411    3                  S_D.FIXCOM.FPRG_RES_SIZE(S_D.STORED) =

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:387  
  16411  1 007302   000135 236100                    LDQ     93,,PR0
         1 007303   000003 402007                    MPY     3,DL
         1 007304   000001 736000                    QLS     1
         1 007305   000102 471500                    LDP1    66,,PR0
         1 007306   100004 235100                    LDA     4,,PR1
         1 007307   001217 755106                    STA     655,QL,PR0

     2334    16412    3                    S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES_SIZE;
     2335    16413    3                  CALL DFA$ONCALL(I, OC$CMD.BYPASS_COUNT, S_D.STORED) ALTRET(ALTRT);

  16413  1 007310   000000 236000 xsym               LDQ     S_D$
         1 007311   000135 036003                    ADLQ    93,DU
         1 007312   200052 756100                    STQ     @ND_PTR+3,,AUTO
         1 007313   200005 236100                    LDQ     LASTBLT$,,AUTO
         1 007314   000004 036003                    ADLQ    4,DU
         1 007315   200051 756100                    STQ     @ND_PTR+2,,AUTO
         1 007316   200016 631500                    EPPR1   I,,AUTO
         1 007317   200050 451500                    STP1    @ND_PTR+1,,AUTO
         1 007320   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 007321   000021 631400 xsym               EPPR1   B_VECTNIL+17
         1 007322   000000 701000 xent               TSX1    DFA$ONCALL
         1 007323   007340 702000 1                  TSX2    ALTRT

     2336    16414    3                END;

  16414  1 007324   007333 710000 1                  TRA     s:16420

     2337    16415    3             ELSE DO;

     2338    16416    3                  S_D.ERROR = 502;    /* E@DELBUG */

  16416  1 007325   000766 236007                    LDQ     502,DL
         1 007326   000013 756100                    STQ     11,,PR0

     2339    16417    3                  CALL DDE$ERROR;

  16417  1 007327   000002 631400 xsym               EPPR1   B_VECTNIL+2
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:388  
         1 007330   000000 701000 xent               TSX1    DDE$ERROR
         1 007331   000000 011000                    NOP     0

     2340    16418    3                  GOTO ALTRT;

  16418  1 007332   007340 710000 1                  TRA     ALTRT

     2341    16419    3                END;
     2342    16420    2        RETURN;                            /* DONE - RETURN */

  16420  1 007333   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 007334   000001 702211                    TSX2  ! 1,X1

     2343    16421
     2344    16422    2   ALTRT1:
     2345    16423    2        S_D.ERROR_SYM$ = ERR$;

  16423  1 007335   200022 236100       ALTRT1       LDQ     ERR$,,AUTO
         1 007336   000000 470400 xsym               LDP0    S_D$
         1 007337   000032 756100                    STQ     26,,PR0

     2346    16424    2   ALTRT:
     2347    16425    2        ALTRETURN;

  16425  1 007340   200012 221300       ALTRT        LDX1  ! ZITEM$+3,,AUTO
         1 007341   000000 702211                    TSX2  ! 0,X1

  16413  1 007342                       S_FAULT      null
     2348    16426    2   S_FAULT: ;
     2349    16427    2        IF S_D.OVERLAID AND S_D.UNODE.USENODE ~=0

  16427  1 007342   000000 470400 xsym               LDP0    S_D$
         1 007343   004764 234100                    SZN     2548,,PR0
         1 007344   007351 605000 1                  TPL     s:16429
         1 007345   004760 235100                    LDA     2544,,PR0
         1 007346   007351 600000 1                  TZE     s:16429

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:389  
     2350    16428    2        THEN RETURN;

  16428  1 007347   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 007350   000001 702211                    TSX2  ! 1,X1

     2351    16429    2        S_D.ERROR = 237;          /* E@CANTACCESS */

  16429  1 007351   000355 235007                    LDA     237,DL
         1 007352   000013 755100                    STA     11,,PR0

     2352    16430    2        CALL DDE$ERROR;

  16430  1 007353   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 007354   000000 701000 xent               TSX1    DDE$ERROR
         1 007355   000000 011000                    NOP     0

     2353    16431    2        S_D.OUTPUT = 'On Call Breakpoint ';

  16431  1 007356   000000 470400 xsym               LDP0    S_D$
         1 007357   040100 100400                    MLR     fill='040'O
         1 007360   000040 000023 0                  ADSC9   UTSX+19                  cn=0,n=19
         1 007361   005335 004000                    ADSC9   2781,,PR0                cn=0,n=2048

     2354    16432    2        BB$ = PINCRC(ADDR(S_D.OUTPUT), SIZEC('On Call Breakpoint '));

  16432  1 007362   000000 236000 xsym               LDQ     S_D$
         1 007363   000103 036000 2                  ADLQ    67
         1 007364   200017 756100                    STQ     BB$,,AUTO

     2355    16433    2        CALL DDR$BINTXT(BB$, S_D.STORED, %UINT_FMT, SIZE);

  16433  1 007365   200020 631500                    EPPR1   SIZE,,AUTO
         1 007366   200053 451500                    STP1    @ND_PTR+4,,AUTO
         1 007367   000020 236000 2                  LDQ     16
         1 007370   200052 756100                    STQ     @ND_PTR+3,,AUTO
         1 007371   000000 236000 xsym               LDQ     S_D$
         1 007372   000135 036003                    ADLQ    93,DU
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:390  
         1 007373   200051 756100                    STQ     @ND_PTR+2,,AUTO
         1 007374   200017 633500                    EPPR3   BB$,,AUTO
         1 007375   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 007376   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 007377   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 007400   000000 701000 xent               TSX1    DDR$BINTXT
         1 007401   000000 011000                    NOP     0

     2356    16434    2        BB$ = PINCRC(BB$, SIZE);

  16434  1 007402   200020 236100                    LDQ     SIZE,,AUTO
         1 007403   000020 736000                    QLS     16
         1 007404   200017 036100                    ADLQ    BB$,,AUTO
         1 007405   200017 756100                    STQ     BB$,,AUTO

     2357    16435    2        BB$ -> CHAR22 = ' set inactive by DELTA';

  16435  1 007406   200017 470500                    LDP0    BB$,,AUTO
         1 007407   040100 100400                    MLR     fill='040'O
         1 007410   000031 000026 0                  ADSC9   UTSX+12                  cn=0,n=22
         1 007411   000000 000026                    ADSC9   0,,PR0                   cn=0,n=22

     2358    16436    2        CALL DDQ$WRITE(ADDR(S_D.OUTPUT), SIZEC('On Call Breakpoint ')+22+SIZE);

  16436  1 007412   000000 236000 xsym               LDQ     S_D$
         1 007413   005335 036003                    ADLQ    2781,DU
         1 007414   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 007415   200020 235100                    LDA     SIZE,,AUTO
         1 007416   000051 035007                    ADLA    41,DL
         1 007417   200051 755100                    STA     @ND_PTR+2,,AUTO
         1 007420   200051 630500                    EPPR0   @ND_PTR+2,,AUTO
         1 007421   200053 450500                    STP0    @ND_PTR+4,,AUTO
         1 007422   200050 631500                    EPPR1   @ND_PTR+1,,AUTO
         1 007423   200052 451500                    STP1    @ND_PTR+3,,AUTO
         1 007424   200052 630500                    EPPR0   @ND_PTR+3,,AUTO
         1 007425   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 007426   000000 701000 xent               TSX1    DDQ$WRITE
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:391  
         1 007427   000000 011000                    NOP     0

     2359    16437    2        S_D.FIXCOM.INACTIVE(S_D.STORED) = '1'B;

  16437  1 007430   000000 470400 xsym               LDP0    S_D$
         1 007431   000135 236100                    LDQ     93,,PR0
         1 007432   000003 402007                    MPY     3,DL
         1 007433   000001 736000                    QLS     1
         1 007434   000000 620006                    EAX0    0,QL
         1 007435   000400 236003                    LDQ     256,DU
         1 007436   001212 256110                    ORSQ    650,X0,PR0

     2360    16438    2        RETURN;

  16438  1 007437   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 007440   000001 702211                    TSX2  ! 1,X1

     2361    16439
     2362    16440    2   END DDS$BLD_OC;
     2363    16441        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:392  
     2364    16442        /*F* NAME: DDS$BLD_ONN
     2365    16443             PURPOSE: TO BUILD THE ONN COMMAND.
     2366    16444             DESCRIPTION: BUILDS THE ONN STORED COMMAND "FIRST ATTACHMENT"
     2367    16445             IN VARCOM. SETS UP THE FIELDS IN THE FIXCOM SLOT. BUILDS THE
     2368    16446             OPTIONAL BYPASS COUNT (#) AND IFSPEC FIELDS IN THE FIRST
     2369    16447             ATTACHMENT. EVALUATES & BUILDS THE POSITION. RETURNS IF BUILD
     2370    16448             IS SUCCESSFUL, ELSE ALTRETURNS. */
     2371    16449        /*D* NAME: DDS$BLD_ONN
     2372    16450             INTERFACE:
     2373    16451             ENVIRONMENT: DDS$SCAN ACTIVE.
     2374    16452             INPUT: S_D.STORED - COMMAND ID.
     2375    16453                    NCMD$ - POINTER TO N_ONN NODE.
     2376    16454             OUTPUT: S_D.D$ - POINTER TO NEXT FREE WORD IN VARCOM.
     2377    16455             SCRATCH: LONNAL AUTO ONLY
     2378    16456             DESCRIPTION: BUILDS THE ONN STORED COMMAND "FIRST ATTACHMENT"
     2379    16457             IN VARCOM. SETS UP THE FIELDS IN THE FIXCOM SLOT. BUILDS THE
     2380    16458             OPTIONAL BYPASS COUNT (#) AND IFSPEC FIELDS IN THE FIRST
     2381    16459             ATTACHMENT. EVALUATES & BUILDS THE POSITION. RETURNS IF BUILD
     2382    16460             IS SUCCESSFUL, ELSE ALTRETURNS. */
     2383    16461
     2384    16462    1   DDS$BLD_ONN: PROC ALTRET;

  16462  1 007441   200012 741300       DDS$BLD_ONN  STX1  ! ZITEM$+3,,AUTO

     2385    16463
     2386    16464    2   DCL IXX SBIN;                           /* INDEX FOR DO LOOP */
     2387    16465    2   DCL TCODE SBIN;                         /* TEMP FOR NODE CODE */
     2388    16466    2   DCL NCC$ PTR;                           /* TEMP NODE POINTER */
     2389    16467    2   DCL ERR$ PTR;
     2390    16468        %AT_FIRST (NAME=ONN$CMD,STCLASS="BASED(LASTBLT$)");
     2391    16496        %FPRG$CONTEXT;
     2392    16559
     2393    16560    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6

  16560  1 007442   000000 470400 xsym               LDP0    S_D$
         1 007443   006714 235100                    LDA     3532,,PR0
         1 007444   000002 115007                    CMPA    2,DL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:393  
         1 007445   007641 600000 1                  TZE     NOTIMPFPRG

     2394    16561    2        THEN GOTO NOTIMPFPRG;
     2395    16562        /* BYPASS COUNT & CURRENT COUNT INITIALIZED TO ZERO IN DDS$STOREDA */
     2396    16563        /* PICK UP EACH RETURNED NODE & PROCESS IT */
     2397    16564    2        IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ ~= ADDR(NIL)

  16564  1 007446   000101 234100                    SZN     65,,PR0
         1 007447   007462 605000 1                  TPL     s:16572
         1 007450   000102 236100                    LDQ     66,,PR0
         1 007451   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 007452   007462 600000 1                  TZE     s:16572

     2398    16565    3        THEN DO;

     2399    16566    3             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.INTERPRETIVE

  16566  1 007453   000102 471500                    LDP1    66,,PR0
         1 007454   100001 236100                    LDQ     1,,PR1
         1 007455   200000 316003                    CANQ    65536,DU
         1 007456   007472 600000 1                  TZE     s:16577

     2400    16567    4             THEN DO;

     2401    16568    4                  S_D.ERROR = 309; /* E@NOT_INTERPRETIVE */

  16568  1 007457   000465 235007                    LDA     309,DL
         1 007460   000013 755100                    STA     11,,PR0

     2402    16569    4                  GOTO ALTRT;

  16569  1 007461   007637 710000 1                  TRA     ALTRT

     2403    16570    4                END;
     2404    16571    3           END;
     2405    16572    2        ELSE IF S_D.FPRG AND S_D.CURRENT_FPRG_CONTEXT$ = ADDR(NIL)

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:394  
  16572  1 007462   000101 234100                    SZN     65,,PR0
         1 007463   007472 605000 1                  TPL     s:16577
         1 007464   000102 236100                    LDQ     66,,PR0
         1 007465   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 007466   007472 601000 1                  TNZ     s:16577

     2406    16573    3             THEN DO;

     2407    16574    3                  S_D.ERROR = 502;

  16574  1 007467   000766 235007                    LDA     502,DL
         1 007470   000013 755100                    STA     11,,PR0

     2408    16575    3                  GOTO ALTRT;

  16575  1 007471   007637 710000 1                  TRA     ALTRT

     2409    16576    3                END;
     2410    16577    3        DO IXX = 0 TO NCMD$->POB.NSB-1;

  16577  1 007472   200013 450100                    STZ     IXX,,AUTO
         1 007473   007622 710000 1                  TRA     s:16609+1

     2411    16578    3             NCC$ = NCMD$->POB.SUBLK$(IXX); /* GET POINTER TO NEXT LEVEL NODE */

  16578  1 007474   200004 470500                    LDP0    NCMD$,,AUTO
         1 007475   200013 720100                    LXL0    IXX,,AUTO
         1 007476   000003 236110                    LDQ     3,X0,PR0
         1 007477   200015 756100                    STQ     NCC$,,AUTO

     2412    16579    3             TCODE = NCC$->POB.CODE;       /* PICK UP CODE */

  16579  1 007500   200015 471500                    LDP1    NCC$,,AUTO
         1 007501   100000 236100                    LDQ     0,,PR1
         1 007502   777777 376007                    ANQ     -1,DL
         1 007503   200014 756100                    STQ     TCODE,,AUTO

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:395  
     2413    16580    3             IF ( TCODE = 77 ) OR ( TCODE = 15 ) /* SYM_CODE, QTSTRING_CODE */

  16580  1 007504   000115 116007                    CMPQ    77,DL
         1 007505   007510 600000 1                  TZE     s:16582
         1 007506   000017 116007                    CMPQ    15,DL
         1 007507   007547 601000 1                  TNZ     s:16594

     2414    16581    4             THEN DO;                      /* "SIMBLE" */

     2415    16582    4                  NCC$ = NCC$ -> POB.SUBLK$( 0 ); /* GET TEXTC POINTER */

  16582  1 007510   100003 236100                    LDQ     3,,PR1
         1 007511   200015 756100                    STQ     NCC$,,AUTO

     2416    16583    4                  ERR$ = NCC$;

  16583  1 007512   200016 756100                    STQ     ERR$,,AUTO

     2417    16584    4                  CALL DDS$ND_SRCH( NCC$, TCODE ) ALTRET( ALTRT1 );

  16584  1 007513   200014 631500                    EPPR1   TCODE,,AUTO
         1 007514   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 007515   200015 633500                    EPPR3   NCC$,,AUTO
         1 007516   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 007517   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 007520   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 007521   000000 701000 xent               TSX1    DDS$ND_SRCH
         1 007522   007634 702000 1                  TSX2    ALTRT1

     2418    16585    4                  IF TCODE = 0

  16585  1 007523   200014 235100                    LDA     TCODE,,AUTO
         1 007524   007531 601000 1                  TNZ     s:16590

     2419    16586    5                  THEN DO;

     2420    16587    5                       S_D.ERROR = 121; /* E@NOTROOT */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:396  

  16587  1 007525   000171 236007                    LDQ     121,DL
         1 007526   000000 470400 xsym               LDP0    S_D$
         1 007527   000013 756100                    STQ     11,,PR0

     2421    16588    5                       GOTO ALTRT1;

  16588  1 007530   007634 710000 1                  TRA     ALTRT1

     2422    16589    5                     END;
     2423    16590    4                  CALL DDS$STOREDA( SIZEW(ONN$CMD), 34 ) ALTRET(ALTRT); /* C_ONN */

  16590  1 007531   000104 630400 2                  EPPR0   68
         1 007532   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 007533   000000 701000 xent               TSX1    DDS$STOREDA
         1 007534   007637 702000 1                  TSX2    ALTRT

     2424    16591    4                  ONN$CMD.NODE = TCODE;

  16591  1 007535   200014 720100                    LXL0    TCODE,,AUTO
         1 007536   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 007537   000003 740100                    STX0    3,,PR0

     2425    16592    4                  S_D.FIXCOM.CDF(S_D.STORED) = TCODE; /* SET NODE IN S_D.FIXCOM */

  16592  1 007540   000000 471400 xsym               LDP1    S_D$
         1 007541   100135 236100                    LDQ     93,,PR1
         1 007542   000003 402007                    MPY     3,DL
         1 007543   000001 736000                    QLS     1
         1 007544   200014 235100                    LDA     TCODE,,AUTO
         1 007545   101213 755106                    STA     651,QL,PR1

     2426    16593    4                END;

  16593  1 007546   007621 710000 1                  TRA     s:16609

     2427    16594    3             ELSE IF ( TCODE = 42 )  /* C@N_AT11 */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:397  

  16594  1 007547   000052 116007                    CMPQ    42,DL
         1 007550   007571 601000 1                  TNZ     s:16601

     2428    16595    4                  THEN DO;                 /* N_ONN11 - BYPASS COUNT */

     2429    16596    4                      NCC$ = NCC$->POB.SUBLK$(0); /* POINT TO TEXT (DECIMAL LEXEME) */

  16596  1 007551   100003 236100                    LDQ     3,,PR1
         1 007552   200015 756100                    STQ     NCC$,,AUTO

     2430    16597    4                      CALL DDS$DECIMAL(NCC$,TCODE) ALTRET(ALTRT); /* GET THE NUMBER */

  16597  1 007553   200014 631500                    EPPR1   TCODE,,AUTO
         1 007554   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 007555   200015 633500                    EPPR3   NCC$,,AUTO
         1 007556   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 007557   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 007560   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 007561   000000 701000 xent               TSX1    DDS$DECIMAL
         1 007562   007637 702000 1                  TSX2    ALTRT

     2431    16598    4                       ONN$CMD.BYPASS_COUNT = TCODE;

  16598  1 007563   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 007564   200014 235100                    LDA     TCODE,,AUTO
         1 007565   000004 755100                    STA     4,,PR0

     2432    16599    4                       ONN$CMD.CURRENT_COUNT = TCODE;

  16599  1 007566   200014 236100                    LDQ     TCODE,,AUTO
         1 007567   000005 756100                    STQ     5,,PR0

     2433    16600    4                     END;

  16600  1 007570   007621 710000 1                  TRA     s:16609

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:398  
     2434    16601    3                  ELSE IF ( TCODE = 100 ) /* C@SILENT */

  16601  1 007571   000144 116007                    CMPQ    100,DL
         1 007572   007603 601000 1                  TNZ     s:16603

     2435    16602    3                       THEN S_D.FIXCOM.SILENT( S_D.STORED ) = '1'B;

  16602  1 007573   000000 473400 xsym               LDP3    S_D$
         1 007574   300135 236100                    LDQ     93,,PR3
         1 007575   000003 402007                    MPY     3,DL
         1 007576   000001 736000                    QLS     1
         1 007577   000000 621006                    EAX1    0,QL
         1 007600   000200 236003                    LDQ     128,DU
         1 007601   301212 256111                    ORSQ    650,X1,PR3
         1 007602   007621 710000 1                  TRA     s:16609

     2436    16603    3                       ELSE IF ( TCODE = 101 ) /* C@INACTIVE */

  16603  1 007603   000145 116007                    CMPQ    101,DL
         1 007604   007615 601000 1                  TNZ     s:16606

     2437    16604    3                            THEN S_D.FIXCOM.INACTIVE( S_D.STORED ) = '1'B;

  16604  1 007605   000000 473400 xsym               LDP3    S_D$
         1 007606   300135 236100                    LDQ     93,,PR3
         1 007607   000003 402007                    MPY     3,DL
         1 007610   000001 736000                    QLS     1
         1 007611   000000 621006                    EAX1    0,QL
         1 007612   000400 236003                    LDQ     256,DU
         1 007613   301212 256111                    ORSQ    650,X1,PR3
         1 007614   007621 710000 1                  TRA     s:16609

     2438    16605    4                            ELSE DO;       /* UNKNOWN COMMAND */

     2439    16606    4                                 S_D.ERROR = 501; /* E@DERR1 */

  16606  1 007615   000765 235007                    LDA     501,DL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:399  
         1 007616   000000 473400 xsym               LDP3    S_D$
         1 007617   300013 755100                    STA     11,,PR3

     2440    16607    4                                 GOTO ALTRT; /* SPLIT */

  16607  1 007620   007637 710000 1                  TRA     ALTRT

     2441    16608    4                               END;
     2442    16609    3           END;                            /* END "DO IX" */

  16609  1 007621   200013 054100                    AOS     IXX,,AUTO
         1 007622   200004 470500                    LDP0    NCMD$,,AUTO
         1 007623   000001 236100                    LDQ     1,,PR0
         1 007624   000022 772000                    QRL     18
         1 007625   200013 116100                    CMPQ    IXX,,AUTO
         1 007626   007474 605400 1                  TPNZ    s:16578

     2443    16610    2        CALL DDS$DUBREAK ALTRET( ALTRT1 );

  16610  1 007627   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 007630   000000 701000 xent               TSX1    DDS$DUBREAK
         1 007631   007634 702000 1                  TSX2    ALTRT1

     2444    16611    2        RETURN;

  16611  1 007632   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 007633   000001 702211                    TSX2  ! 1,X1

     2445    16612
     2446    16613    2   ALTRT1:
     2447    16614    2        S_D.ERROR_SYM$ = ERR$;

  16614  1 007634   200016 236100       ALTRT1       LDQ     ERR$,,AUTO
         1 007635   000000 470400 xsym               LDP0    S_D$
         1 007636   000032 756100                    STQ     26,,PR0

     2448    16615    2   ALTRT:
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:400  
     2449    16616    2        ALTRETURN;

  16616  1 007637   200012 221300       ALTRT        LDX1  ! ZITEM$+3,,AUTO
         1 007640   000000 702211                    TSX2  ! 0,X1

  16605  1 007641                       NOTIMPFPRG   null
     2450    16617    2   NOTIMPFPRG: ;
     2451    16618    2        S_D.ERROR = 315;          /* E@NOTIMPFPRG */

  16618  1 007641   000473 236007                    LDQ     315,DL
         1 007642   000013 756100                    STQ     11,,PR0

     2452    16619    2        GOTO ALTRT;

  16619  1 007643   007637 710000 1                  TRA     ALTRT

     2453    16620
     2454    16621    2   END DDS$BLD_ONN;
     2455    16622        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:401  
     2456    16623        /*F* NAME: DDS$BLD_ONCALLS
     2457    16624             PURPOSE: TO BUILD THE ONCALLS COMMAND.
     2458    16625             DESCRIPTION: BUILDS THE ONCALLS COMMAND. */
     2459    16626        /*D* NAME: DDS$BLD_ONCALLS
     2460    16627             CALL: CALL DDS$BLD_ONCALLS ALTRET( ERROR );
     2461    16628             INTERFACE: DDS$ATTDIRA
     2462    16629             ENVIRONMENT: DDS$SCAN ACTIVE
     2463    16630             INPUT: NCMD$ - PTR TO "ONCALLS" NODE.
     2464    16631             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2465    16632             SCRATCH: LOCAL AUTO ONLY.
     2466    16633             DESCRIPTION: */
     2467    16634
     2468    16635    1   DDS$BLD_ONCALLS: PROC ALTRET;

  16635  1 007644   200012 741300       DDS$BLD_ONC* STX1  ! ZITEM$+3,,AUTO

     2469    16636
     2470    16637    2   DCL NSB SBIN;
     2471    16638    2   DCL IX SBIN;
     2472    16639        /*D* NSB & IX must be SBIN */
     2473    16640    2   DCL NC$ PTR;
     2474    16641    2   DCL CODE UBIN;
     2475    16642    2   DCL V UBIN;
     2476    16643    2   DCL CMD UBIN;
     2477    16644    2   DCL I UBIN;
     2478    16645        %AT_FIRST (NAME=ONCALLS$CMD,STCLASS="BASED(LASTBLT$)");
     2479    16673        %FPRG$CONTEXT;
     2480    16736
     2481    16737    2        CMD = 53;                   /* C_ONCALLS */

  16737  1 007645   000065 235007                    LDA     53,DL
         1 007646   200020 755100                    STA     CMD,,AUTO

     2482    16738    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

  16738  1 007647   000000 470400 xsym               LDP0    S_D$
         1 007650   006714 235100                    LDA     3532,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:402  
         1 007651   000001 115007                    CMPA    1,DL
         1 007652   007662 601000 1                  TNZ     s:16749

     2483    16739    3        THEN DO;

     2484    16740    3             IF S_D.ONCALLS ~= 0

  16740  1 007653   004745 235100                    LDA     2533,,PR0
         1 007654   010141 601000 1                  TNZ     ARET1

     2485    16741    3             THEN GOTO ARET1;
     2486    16742    3             IF S_D.TR$INFO.SET

  16742  1 007655   004627 234100                    SZN     2455,,PR0
         1 007656   007673 605000 1                  TPL     s:16757

     2487    16743    4             THEN DO;

     2488    16744    4                  S_D.ERROR = 227; /* E@CANT_ONCALLS_TR */

  16744  1 007657   000343 236007                    LDQ     227,DL
         1 007660   000013 756100                    STQ     11,,PR0

     2489    16745    4                  GOTO ARET;

  16745  1 007661   010143 710000 1                  TRA     ARET

     2490    16746    4                END;
     2491    16747    3           END;
     2492    16748    3        ELSE DO;

     2493    16749    3             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.ONCALLS ~= 0

  16749  1 007662   000102 471500                    LDP1    66,,PR0
         1 007663   100062 236100                    LDQ     50,,PR1
         1 007664   001776 316003                    CANQ    1022,DU
         1 007665   010141 601000 1                  TNZ     ARET1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:403  

     2494    16750    3             THEN GOTO ARET1;
     2495    16751    3             IF S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.SET

  16751  1 007666   400000 316007                    CANQ    -131072,DL
         1 007667   007673 600000 1                  TZE     s:16757

     2496    16752    4             THEN DO;

     2497    16753    4                  S_D.ERROR = 227; /* E@CANT_ONCALLS_TR */

  16753  1 007670   000343 235007                    LDA     227,DL
         1 007671   000013 755100                    STA     11,,PR0

     2498    16754    4                  GOTO ARET;

  16754  1 007672   010143 710000 1                  TRA     ARET

     2499    16755    4                END;
     2500    16756    3           END;
     2501    16757    2        GOTO SETUP;

  16757  1 007673   007705 710000 1                  TRA     SETUP

     2502    16758
     2503    16759    2   DDS$BLD_ONNODES: ENTRY ALTRET;

  16759  1 007674   200012 741300       DDS$BLD_ONN* STX1  ! ZITEM$+3,,AUTO

     2504    16760
     2505    16761    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6

  16761  1 007675   000000 470400 xsym               LDP0    S_D$
         1 007676   006714 235100                    LDA     3532,,PR0
         1 007677   000002 115007                    CMPA    2,DL
         1 007700   010145 600000 1                  TZE     NOTIMPFPRG

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:404  
     2506    16762    2        THEN GOTO NOTIMPFPRG;
     2507    16763    2        CMD = 54;                   /* C_ONNODES */

  16763  1 007701   000066 236007                    LDQ     54,DL
         1 007702   200020 756100                    STQ     CMD,,AUTO

     2508    16764    2        IF S_D.ONNODES ~= 0

  16764  1 007703   004747 235100                    LDA     2535,,PR0
         1 007704   010141 601000 1                  TNZ     ARET1

     2509    16765    2        THEN GOTO ARET1;
     2510    16766        /*   GOTO SETUP; */
     2511    16767    2   SETUP:
     2512    16768    2        CALL DDS$STOREDA( SIZEW( ONCALLS$CMD ), CMD ) ALTRET( ARET );

  16768  1 007705   200020 631500       SETUP        EPPR1   CMD,,AUTO
         1 007706   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 007707   000017 236000 2                  LDQ     15
         1 007710   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 007711   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 007712   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 007713   000000 701000 xent               TSX1    DDS$STOREDA
         1 007714   010143 702000 1                  TSX2    ARET

     2513    16769    2        NSB = NCMD$ -> POB.NSB - 1;

  16769  1 007715   200004 470500                    LDP0    NCMD$,,AUTO
         1 007716   000001 236100                    LDQ     1,,PR0
         1 007717   000022 772000                    QRL     18
         1 007720   000001 136007                    SBLQ    1,DL
         1 007721   200013 756100                    STQ     NSB,,AUTO

     2514    16770    3        DO IX = 0 TO NSB;

  16770  1 007722   200014 450100                    STZ     IX,,AUTO
         1 007723   007773 710000 1                  TRA     s:16783+1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:405  

     2515    16771    3             NC$ = NCMD$ -> POB.SUBLK$( IX );

  16771  1 007724   200004 470500                    LDP0    NCMD$,,AUTO
         1 007725   200014 720100                    LXL0    IX,,AUTO
         1 007726   000003 236110                    LDQ     3,X0,PR0
         1 007727   200015 756100                    STQ     NC$,,AUTO

     2516    16772    3             CODE = NC$ -> POB.CODE;

  16772  1 007730   200015 471500                    LDP1    NC$,,AUTO
         1 007731   100000 236100                    LDQ     0,,PR1
         1 007732   777777 376007                    ANQ     -1,DL
         1 007733   200016 756100                    STQ     CODE,,AUTO

     2517    16773    3             IF CODE = 26                 /* C@X */

  16773  1 007734   000032 116007                    CMPQ    26,DL
         1 007735   007742 601000 1                  TNZ     s:16775

     2518    16774    3             THEN ONCALLS$CMD.XTERNAL = '1'B;

  16774  1 007736   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 007737   400000 236007                    LDQ     -131072,DL
         1 007740   300003 256100                    ORSQ    3,,PR3
         1 007741   007772 710000 1                  TRA     s:16783

     2519    16775    3             ELSE IF CODE = 100       /* C@SILENT */

  16775  1 007742   000144 116007                    CMPQ    100,DL
         1 007743   007754 601000 1                  TNZ     s:16777

     2520    16776    3                  THEN S_D.FIXCOM.SILENT( S_D.STORED ) = '1'B;

  16776  1 007744   000000 473400 xsym               LDP3    S_D$
         1 007745   300135 236100                    LDQ     93,,PR3
         1 007746   000003 402007                    MPY     3,DL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:406  
         1 007747   000001 736000                    QLS     1
         1 007750   000000 621006                    EAX1    0,QL
         1 007751   000200 236003                    LDQ     128,DU
         1 007752   301212 256111                    ORSQ    650,X1,PR3
         1 007753   007772 710000 1                  TRA     s:16783

     2521    16777    3                  ELSE IF CODE = 101 /* C@INACTIVE */

  16777  1 007754   000145 116007                    CMPQ    101,DL
         1 007755   007766 601000 1                  TNZ     s:16780

     2522    16778    3                       THEN S_D.FIXCOM.INACTIVE( S_D.STORED ) = '1'B;

  16778  1 007756   000000 473400 xsym               LDP3    S_D$
         1 007757   300135 236100                    LDQ     93,,PR3
         1 007760   000003 402007                    MPY     3,DL
         1 007761   000001 736000                    QLS     1
         1 007762   000000 621006                    EAX1    0,QL
         1 007763   000400 236003                    LDQ     256,DU
         1 007764   301212 256111                    ORSQ    650,X1,PR3
         1 007765   007772 710000 1                  TRA     s:16783

     2523    16779    4                       ELSE DO;

     2524    16780    4                            S_D.ERROR = 501; /* E@DERR1 */

  16780  1 007766   000765 235007                    LDA     501,DL
         1 007767   000000 473400 xsym               LDP3    S_D$
         1 007770   300013 755100                    STA     11,,PR3

     2525    16781    4                            GOTO ARET;

  16781  1 007771   010143 710000 1                  TRA     ARET

     2526    16782    4                          END;
     2527    16783    3           END;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:407  
  16783  1 007772   200014 054100                    AOS     IX,,AUTO
         1 007773   200014 236100                    LDQ     IX,,AUTO
         1 007774   200013 116100                    CMPQ    NSB,,AUTO
         1 007775   007724 604400 1                  TMOZ    s:16771

     2528    16784
     2529    16785    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

  16785  1 007776   000000 471400 xsym               LDP1    S_D$
         1 007777   106714 235100                    LDA     3532,,PR1
         1 010000   000001 115007                    CMPA    1,DL
         1 010001   010035 601000 1                  TNZ     s:16799

     2530    16786    3        THEN DO;

     2531    16787    3             IF CMD = 53            /* C_ONCALLS */

  16787  1 010002   200020 235100                    LDA     CMD,,AUTO
         1 010003   000065 115007                    CMPA    53,DL
         1 010004   010032 601000 1                  TNZ     s:16796

     2532    16788    4             THEN DO;

     2533    16789    4                  S_D.ONCALLS = S_D.STORED;

  16789  1 010005   100135 235100                    LDA     93,,PR1
         1 010006   104745 755100                    STA     2533,,PR1

     2534    16790    4                  S_D.TR$INFO.SET = '1'B;

  16790  1 010007   400000 236003                    LDQ     -131072,DU
         1 010010   104627 756100                    STQ     2455,,PR1

     2535    16791    4                  S_D.TR$INFO.TYPE= 46;  /* C_TC */

  16791  1 010011   000056 235007                    LDA     46,DL
         1 010012   104634 755100                    STA     2460,,PR1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:408  

     2536    16792    4                  S_D.TR$INFO.X = ONCALLS$CMD.XTERNAL;

  16792  1 010013   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 010014   300003 236100                    LDQ     3,,PR3
         1 010015   000022 736000                    QLS     18
         1 010016   400000 376003                    ANQ     -131072,DU
         1 010017   104632 756100                    STQ     2458,,PR1

     2537    16793    4                  IF S_D.FIXCOM.INACTIVE( S_D.STORED ) = '0'B

  16793  1 010020   100135 236100                    LDQ     93,,PR1
         1 010021   000003 402007                    MPY     3,DL
         1 010022   000001 736000                    QLS     1
         1 010023   101212 236106                    LDQ     650,QL,PR1
         1 010024   000400 316003                    CANQ    256,DU
         1 010025   010137 601000 1                  TNZ     s:16819

     2538    16794    4                  THEN CALL DDA$TRACEON;

  16794  1 010026   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 010027   000000 701000 xent               TSX1    DDA$TRACEON
         1 010030   000000 011000                    NOP     0

     2539    16795    4                END;

  16795  1 010031   010137 710000 1                  TRA     s:16819

     2540    16796    3             ELSE S_D.ONNODES = S_D.STORED;

  16796  1 010032   100135 235100                    LDA     93,,PR1
         1 010033   104747 755100                    STA     2535,,PR1

     2541    16797    3           END;

  16797  1 010034   010137 710000 1                  TRA     s:16819

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:409  
     2542    16798    3        ELSE DO;

     2543    16799    3             I = 1;

  16799  1 010035   000001 235007                    LDA     1,DL
         1 010036   200021 755100                    STA     I,,AUTO

     2544    16800    4             DO WHILE (S_D.CURRENT_FPRG_CONTEXT$->FPRG$CONTEXT.FIXCOM_INDEX(I) ~= 0

  16800  1 010037   010043 710000 1                  TRA     s:16803

     2545    16801    4               AND I <= 20);
     2546    16802    4                  I = I + 1;

  16802  1 010040   200021 235100                    LDA     I,,AUTO
         1 010041   000001 035007                    ADLA    1,DL
         1 010042   200021 755100                    STA     I,,AUTO

     2547    16803    4                END;

  16803  1 010043   000000 470400 xsym               LDP0    S_D$
         1 010044   000102 471500                    LDP1    66,,PR0
         1 010045   100034 235105                    LDA     28,AL,PR1
         1 010046   010052 600000 1                  TZE     s:16804
         1 010047   200021 235100                    LDA     I,,AUTO
         1 010050   000025 115007                    CMPA    21,DL
         1 010051   010040 602000 1                  TNC     s:16802

     2548    16804    3             IF I > 20

  16804  1 010052   200021 235100                    LDA     I,,AUTO
         1 010053   000025 115007                    CMPA    21,DL
         1 010054   010060 602000 1                  TNC     s:16809

     2549    16805    4             THEN DO;

     2550    16806    4                  S_D.ERROR = 288; /* E@TOOMANYBKPNTS */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:410  

  16806  1 010055   000440 236007                    LDQ     288,DL
         1 010056   000013 756100                    STQ     11,,PR0

     2551    16807    4                  GOTO ARET;

  16807  1 010057   010143 710000 1                  TRA     ARET

     2552    16808    4                END;
     2553    16809    3             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FIXCOM_INDEX(I) = S_D.STORED;

  16809  1 010060   000135 235100                    LDA     93,,PR0
         1 010061   200021 720100                    LXL0    I,,AUTO
         1 010062   100034 755110                    STA     28,X0,PR1

     2554    16810    3             S_D.FIXCOM.FPRG(S_D.STORED) = '1'B;

  16810  1 010063   000135 236100                    LDQ     93,,PR0
         1 010064   000003 402007                    MPY     3,DL
         1 010065   000001 736000                    QLS     1
         1 010066   000000 620006                    EAX0    0,QL
         1 010067   000002 236003                    LDQ     2,DU
         1 010070   001212 256110                    ORSQ    650,X0,PR0

     2555    16811    3             S_D.FIXCOM.FPRG_RES(S_D.STORED) =

  16811  1 010071   000135 236100                    LDQ     93,,PR0
         1 010072   000003 402007                    MPY     3,DL
         1 010073   000001 736000                    QLS     1
         1 010074   000102 471500                    LDP1    66,,PR0
         1 010075   000002 736000                    QLS     2
         1 010076   040106 100500                    MLR     fill='040'O
         1 010077   100002 000010                    ADSC9   2,,PR1                   cn=0,n=8
         1 010100   001215 000010                    ADSC9   653,Q,PR0                cn=0,n=8

     2556    16812    3               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES;
     2557    16813    3             S_D.FIXCOM.FPRG_RES_SIZE(S_D.STORED) =
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:411  

  16813  1 010101   000135 236100                    LDQ     93,,PR0
         1 010102   000003 402007                    MPY     3,DL
         1 010103   000001 736000                    QLS     1
         1 010104   000102 471500                    LDP1    66,,PR0
         1 010105   100004 235100                    LDA     4,,PR1
         1 010106   001217 755106                    STA     655,QL,PR0

     2558    16814    3               S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.RES_SIZE;
     2559    16815    3             S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.ONCALLS = I;

  16815  1 010107   000102 471500                    LDP1    66,,PR0
         1 010110   200021 236100                    LDQ     I,,AUTO
         1 010111   000023 736000                    QLS     19
         1 010112   100062 676100                    ERQ     50,,PR1
         1 010113   001776 376003                    ANQ     1022,DU
         1 010114   100062 656100                    ERSQ    50,,PR1

     2560    16816    3            S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.ONCALLS_X = ONCALLS$CMD.XTERNAL;

  16816  1 010115   000102 471500                    LDP1    66,,PR0
         1 010116   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 010117   300003 236100                    LDQ     3,,PR3
         1 010120   000017 736000                    QLS     15
         1 010121   100001 676100                    ERQ     1,,PR1
         1 010122   040000 376003                    ANQ     16384,DU
         1 010123   100001 656100                    ERSQ    1,,PR1

     2561    16817    3             CALL DFA$ONCALLS(I, 0, S_D.STORED) ALTRET(ARET);

  16817  1 010124   000000 236000 xsym               LDQ     S_D$
         1 010125   000135 036003                    ADLQ    93,DU
         1 010126   200052 756100                    STQ     @ND_PTR+3,,AUTO
         1 010127   000021 236000 2                  LDQ     17
         1 010130   200051 756100                    STQ     @ND_PTR+2,,AUTO
         1 010131   200021 631500                    EPPR1   I,,AUTO
         1 010132   200050 451500                    STP1    @ND_PTR+1,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:412  
         1 010133   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 010134   000021 631400 xsym               EPPR1   B_VECTNIL+17
         1 010135   000000 701000 xent               TSX1    DFA$ONCALLS
         1 010136   010143 702000 1                  TSX2    ARET

     2562    16818    3           END;

     2563    16819    2        RETURN;

  16819  1 010137   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 010140   000001 702211                    TSX2  ! 1,X1

     2564    16820
     2565    16821    2   ARET1:
     2566    16822    2        S_D.ERROR = 91;               /* E@ONLY1 */

  16822  1 010141   000133 235007       ARET1        LDA     91,DL
         1 010142   000013 755100                    STA     11,,PR0

     2567    16823    2   ARET: ALTRETURN;

  16823  1 010143   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 010144   000000 702211                    TSX2  ! 0,X1

     2568    16824    2   NOTIMPFPRG: ;

  16824  1 010145                       NOTIMPFPRG   null
     2569    16825    2        S_D.ERROR = 315;          /* E@NOTIMPFPRG */

  16825  1 010145   000473 236007                    LDQ     315,DL
         1 010146   000013 756100                    STQ     11,,PR0

     2570    16826    2        GOTO ARET;

  16826  1 010147   010143 710000 1                  TRA     ARET

     2571    16827
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:413  
     2572    16828    2   END DDS$BLD_ONCALLS;
     2573    16829        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:414  
     2574    16830        /*F* NAME: DDS$BLD_PLUGH
     2575    16831             PURPOSE: TO BUILD THE PLUGH COMMAND.
     2576    16832             DESCRIPTION: BUILDS THE PLUGH COMMAND. */
     2577    16833        /*D* NAME: DDS$BLD_PLUGH
     2578    16834             CALL: CALL DDS$BLD_PLUGH ALTRET( ERROR );
     2579    16835             INTERFACE: DDS$VREFCOM
     2580    16836             ENVIRONMENT: DDS$SCAN ACTIVE
     2581    16837             INPUT: NCMD$ - PTR TO "PLUGH" NODE.
     2582    16838             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2583    16839             SCRATCH: LOCAL AUTO ONLY.
     2584    16840             DESCRIPTION: */
     2585    16841
     2586    16842    1   DDS$BLD_PLUGH: PROC ALTRET;

  16842  1 010150   200012 741300       DDS$BLD_PLU* STX1  ! ZITEM$+3,,AUTO

     2587    16843
     2588    16844        %DOO (NAME=PLUGH$CMD,STCLASS="BASED(LASTBLT$)");
     2589    16859    2   DCL DDESC BIT(1) ALIGNED;
     2590    16860
     2591    16861    2        CALL DDS$ATTDIRA( SIZEW( PLUGH$CMD ), 24 ) ALTRET( ARET ); /* C_PLUGH */

  16861  1 010151   000106 630400 2                  EPPR0   70
         1 010152   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 010153   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 010154   010232 702000 1                  TSX2    ARET

     2592    16862    2        IF NCMD$ -> POB.NSB ~= 0

  16862  1 010155   200004 470500                    LDP0    NCMD$,,AUTO
         1 010156   000001 220100                    LDX0    1,,PR0
         1 010157   010221 600000 1                  TZE     s:16881

     2593    16863    3        THEN DO;                           /* PLUGH loc */

     2594    16864    3             IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6 AND

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:415  
  16864  1 010160   000000 471400 xsym               LDP1    S_D$
         1 010161   106714 235100                    LDA     3532,,PR1
         1 010162   000002 115007                    CMPA    2,DL
         1 010163   010177 601000 1                  TNZ     s:16872
         1 010164   100101 234100                    SZN     65,,PR1
         1 010165   010177 605000 1                  TPL     s:16872
         1 010166   100102 473500                    LDP3    66,,PR1
         1 010167   300001 236100                    LDQ     1,,PR3
         1 010170   002000 316003                    CANQ    1024,DU
         1 010171   010177 601000 1                  TNZ     s:16872
         1 010172   300001 430100                    FSZN    1,,PR3
         1 010173   010177 604000 1                  TMI     s:16872

     2595    16865    3               S_D.FPRG AND
     2596    16866    3               NOT S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA AND
     2597    16867    3               NOT S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ
     2598    16868    4             THEN DO;

     2599    16869    4                  S_D.ERROR = 87; /* EXPNOTVALID */

  16869  1 010174   000127 235007                    LDA     87,DL
         1 010175   100013 755100                    STA     11,,PR1

     2600    16870    4                  GOTO ARET;

  16870  1 010176   010232 710000 1                  TRA     ARET

     2601    16871    4                END;
     2602    16872    3             DDESC = '1'B;

  16872  1 010177   400000 236003                    LDQ     -131072,DU
         1 010200   200013 756100                    STQ     DDESC,,AUTO

     2603    16873    3             ZITEM$ = S_D.D$;

  16873  1 010201   100044 236100                    LDQ     36,,PR1
         1 010202   200007 756100                    STQ     ZITEM$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:416  

     2604    16874    3             CALL DDS$VREFCOM( NCMD$ -> POB.SUBLK$( 0 ) ) ALTRET( ARET );

  16874  1 010203   200004 236100                    LDQ     NCMD$,,AUTO
         1 010204   000003 036003                    ADLQ    3,DU
         1 010205   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 010206   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 010207   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 010210   000000 701000 xent               TSX1    DDS$VREFCOM
         1 010211   010232 702000 1                  TSX2    ARET

     2605    16875    3             IF NOT ZITEM.FLAGS.MDSE.M

  16875  1 010212   200007 470500                    LDP0    ZITEM$,,AUTO
         1 010213   000001 234100                    SZN     1,,PR0
         1 010214   010222 604000 1                  TMI     s:16882

     2606    16876    4             THEN DO;

     2607    16877    4                  S_D.ERROR = 42;     /* E@NOMOD */

  16877  1 010215   000052 235007                    LDA     42,DL
         1 010216   000000 471400 xsym               LDP1    S_D$
         1 010217   100013 755100                    STA     11,,PR1

     2608    16878    4                  GOTO ARET;

  16878  1 010220   010232 710000 1                  TRA     ARET

     2609    16879    4                END;
     2610    16880    3           END;
     2611    16881    2        ELSE DDESC = '0'B;

  16881  1 010221   200013 450100                    STZ     DDESC,,AUTO

     2612    16882    2        PLUGH$CMD.DDESC = DDESC;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:417  
  16882  1 010222   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 010223   200013 236100                    LDQ     DDESC,,AUTO
         1 010224   000023 772000                    QRL     19
         1 010225   000001 676100                    ERQ     1,,PR0
         1 010226   200000 376007                    ANQ     65536,DL
         1 010227   000001 656100                    ERSQ    1,,PR0

     2613    16883
     2614    16884    2        RETURN;

  16884  1 010230   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 010231   000001 702211                    TSX2  ! 1,X1

     2615    16885
     2616    16886    2   ARET: ALTRETURN;

  16886  1 010232   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 010233   000000 702211                    TSX2  ! 0,X1

     2617    16887
     2618    16888    2   END DDS$BLD_PLUGH;
     2619    16889        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:418  
     2620    16890        /*F* NAME: DDS$BLD_PMD
     2621    16891             PURPOSE: TO BUILD THE PMD COMMAND.
     2622    16892             DESCRIPTION: BUILDS THE PMD COMMAND. */
     2623    16893        /*D* NAME: DDS$BLD_PMD
     2624    16894             CALL: CALL DDS$BLD_PMD ALTRET( ERROR );
     2625    16895             INTERFACE: DDS$ATTDIRA
     2626    16896             ENVIRONMENT: DDS$SCAN ACTIVE
     2627    16897             INPUT: NCMD$ - PTR TO "PMD" NODE.
     2628    16898             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2629    16899             SCRATCH: LOCAL AUTO ONLY.
     2630    16900             DESCRIPTION: */
     2631    16901
     2632    16902    1   DDS$BLD_PMD: PROC ALTRET;

  16902  1 010234   200012 741300       DDS$BLD_PMD  STX1  ! ZITEM$+3,,AUTO

     2633    16903
     2634    16904    2   DCL NSB SBIN;
     2635    16905    2   DCL IX SBIN;
     2636    16906    2   DCL CODE SBIN;
     2637    16907    2   DCL NC$ PTR;
     2638    16908        %KEEP$CMD (NAME=PMD$CMD,STCLASS="BASED(LASTBLT$)");
     2639    16927
     2640    16928    2        CALL DDS$ATTDIRA( SIZEW( PMD$CMD ), 73 ) ALTRET( ARET ); /* C_PMD */

  16928  1 010235   000111 630400 2                  EPPR0   73
         1 010236   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 010237   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 010240   010302 702000 1                  TSX2    ARET

     2641    16929    2        NSB = NCMD$ -> POB.NSB - 1;

  16929  1 010241   200004 470500                    LDP0    NCMD$,,AUTO
         1 010242   000001 236100                    LDQ     1,,PR0
         1 010243   000022 772000                    QRL     18
         1 010244   000001 136007                    SBLQ    1,DL
         1 010245   200013 756100                    STQ     NSB,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:419  

     2642    16930    2        IF NSB < 0

  16930  1 010246   010253 605000 1                  TPL     s:16932

     2643    16931    2        THEN PMD$CMD.OPTARRY( 0 ) = '1'B;  /* Default is ALL */

  16931  1 010247   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 010250   400000 236003                    LDQ     -131072,DU
         1 010251   100002 256100                    ORSQ    2,,PR1
         1 010252   010300 710000 1                  TRA     s:16938

     2644    16932    3        ELSE DO IX = 0 TO NSB;

  16932  1 010253   200014 450100                    STZ     IX,,AUTO
         1 010254   010275 710000 1                  TRA     s:16936+1

     2645    16933    3             NC$ = NCMD$ -> POB.SUBLK$( IX );

  16933  1 010255   200004 470500                    LDP0    NCMD$,,AUTO
         1 010256   200014 720100                    LXL0    IX,,AUTO
         1 010257   000003 236110                    LDQ     3,X0,PR0
         1 010260   200016 756100                    STQ     NC$,,AUTO

     2646    16934    3             CODE = NC$ -> POB.CODE - 490; /* P@ALL */

  16934  1 010261   200016 471500                    LDP1    NC$,,AUTO
         1 010262   100000 236100                    LDQ     0,,PR1
         1 010263   777777 376007                    ANQ     -1,DL
         1 010264   000752 136007                    SBLQ    490,DL
         1 010265   200015 756100                    STQ     CODE,,AUTO

     2647    16935    3             PMD$CMD.OPTARRY( CODE ) = '1'B;

  16935  1 010266   010270 605000 1                  TPL     s:16935+2
         1 010267   000044 036003                    ADLQ    36,DU
         1 010270   200005 473500                    LDP3    LASTBLT$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:420  
         1 010271   003106 060400                    CSL     bolr='003'O
         1 010272   000030 000001 xsym               BDSC    B_VECTNIL+24             by=0,bit=0,n=1
         1 010273   300002 000001                    BDSC    2,Q,PR3                  by=0,bit=0,n=1

     2648    16936    3           END;

  16936  1 010274   200014 054100                    AOS     IX,,AUTO
         1 010275   200014 236100                    LDQ     IX,,AUTO
         1 010276   200013 116100                    CMPQ    NSB,,AUTO
         1 010277   010255 604400 1                  TMOZ    s:16933

     2649    16937
     2650    16938    2        RETURN;

  16938  1 010300   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 010301   000001 702211                    TSX2  ! 1,X1

     2651    16939
     2652    16940    2   ARET:
     2653    16941    2        ALTRETURN;

  16941  1 010302   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 010303   000000 702211                    TSX2  ! 0,X1

     2654    16942
     2655    16943    2   END DDS$BLD_PMD;
     2656    16944        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:421  
     2657    16945        /*F* NAME: DDS$BLD_PROMPT
     2658    16946             PURPOSE: TO BUILD THE PROMPT COMMAND.
     2659    16947             DESCRIPTION: BUILDS THE PROMPT COMMAND. */
     2660    16948        /*D* NAME: DDS$BLD_PROMPT
     2661    16949             CALL: CALL DDS$BLD_PROMPT ALTRET( ERROR );
     2662    16950             INTERFACE: DDS$ATTDIRA
     2663    16951             ENVIRONMENT: DDS$SCAN ACTIVE
     2664    16952             INPUT: NCMD$ - PTR TO "PROMPT" NODE.
     2665    16953             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2666    16954             SCRATCH: LOCAL AUTO ONLY.
     2667    16955             DESCRIPTION: */
     2668    16956
     2669    16957    1   DDS$BLD_PROMPT: PROC ALTRET;

  16957  1 010304   200012 741300       DDS$BLD_PRO* STX1  ! ZITEM$+3,,AUTO

     2670    16958
     2671    16959    2   DCL TEXT$ PTR;
     2672    16960        %DEF$CMD (NAME=PROMPT$CMD,STCLASS="BASED(LASTBLT$)");
     2673    16974
     2674    16975    2        CALL DDS$ATTDIRA( SIZEW( PROMPT$CMD ), 25 ) ALTRET( ARET ); /* C_PROMPT */

  16975  1 010305   000114 630400 2                  EPPR0   76
         1 010306   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 010307   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 010310   010337 702000 1                  TSX2    ARET

     2675    16976    2        TEXT$ = NCMD$ -> POB.SUBLK$( 0 ) -> POB.SUBLK$( 0 );

  16976  1 010311   200004 470500                    LDP0    NCMD$,,AUTO
         1 010312   000003 471500                    LDP1    3,,PR0
         1 010313   100003 236100                    LDQ     3,,PR1
         1 010314   200013 756100                    STQ     TEXT$,,AUTO

     2676    16977    2        IF ( TEXT$ -> TEXT$C.SIZE > LENGTHC( S_D.UPROMPT ) )

  16977  1 010315   200013 473500                    LDP3    TEXT$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:422  
         1 010316   300000 236100                    LDQ     0,,PR3
         1 010317   777000 376003                    ANQ     -512,DU
         1 010320   031000 116003                    CMPQ    12800,DU
         1 010321   010326 602000 1                  TNC     s:16982

     2677    16978    3        THEN DO;

     2678    16979    3             S_D.ERROR = 48;       /* E@SYM2LONG */

  16979  1 010322   000060 235007                    LDA     48,DL
         1 010323   000000 474400 xsym               LDP4    S_D$
         1 010324   400013 755100                    STA     11,,PR4

     2679    16980    3             GOTO ARET;

  16980  1 010325   010337 710000 1                  TRA     ARET

     2680    16981    3           END;
     2681    16982    2        PROMPT$CMD.TEXTC = TEXT$ -> TEXT$C;

  16982  1 010326   300000 236100                    LDQ     0,,PR3
         1 010327   000033 772000                    QRL     27
         1 010330   000001 620006                    EAX0    1,QL
         1 010331   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 010332   000100 100540                    MLR     fill='000'O
         1 010333   300000 000010                    ADSC9   0,,PR3                   cn=0,n=*X0
         1 010334   400002 000040                    ADSC9   2,,PR4                   cn=0,n=32

     2682    16983
     2683    16984    2        RETURN;

  16984  1 010335   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 010336   000001 702211                    TSX2  ! 1,X1

     2684    16985
     2685    16986    2   ARET: ALTRETURN;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:423  
  16986  1 010337   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 010340   000000 702211                    TSX2  ! 0,X1

     2686    16987
     2687    16988    2   END DDS$BLD_PROMPT;
     2688    16989        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:424  
     2689    16990        /*F* NAME: DDS$BLD_QUIT
     2690    16991             PURPOSE: TO BUILD THE QUIT COMMAND
     2691    16992             DESCRIPTION: BUILDS THE QUIT COMMAND */
     2692    16993
     2693    16994    1   DDS$BLD_QUIT: PROC ALTRET;

  16994  1 010341   200012 741300       DDS$BLD_QUIT STX1  ! ZITEM$+3,,AUTO

     2694    16995        %QUIT$CMD (NAME=QUIT$CMD,STCLASS="BASED(LASTBLT$)");
     2695    17007    2   DCL NSB SBIN;
     2696    17008    2   DCL IX SBIN;
     2697    17009        /* NSB and IX must be SBIN */
     2698    17010    2   DCL NC$ PTR;
     2699    17011    2   DCL CODE UBIN;
     2700    17012    2   DCL TEXT$ PTR;
     2701    17013    2   DCL V UBIN;
     2702    17014
     2703    17015    2        IF S_D.DO_ATTACH ~= 0 AND D_XDELTA

  17015  1 010342   000000 470400 xsym               LDP0    S_D$
         1 010343   000512 235100                    LDA     330,,PR0
         1 010344   010352 600000 1                  TZE     s:17020
         1 010345   000000 234000 xsym               SZN     D_XDELTA
         1 010346   010352 605000 1                  TPL     s:17020

     2704    17016    3        THEN DO;                           /* 'QUIT' IS NOT ATTACHABLE */

     2705    17017    3             S_D.ERROR = 47;         /* E@NOTATT */

  17017  1 010347   000057 236007                    LDQ     47,DL
         1 010350   000013 756100                    STQ     11,,PR0

     2706    17018    3             GOTO ALTRT;

  17018  1 010351   010423 710000 1                  TRA     ALTRT

     2707    17019    3           END;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:425  
     2708    17020    2        CALL DDS$ATTDIRA(SIZEW(QUIT$CMD), 39) /* C_QUIT */

  17020  1 010352   000117 630400 2                  EPPR0   79
         1 010353   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 010354   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 010355   010423 702000 1                  TSX2    ALTRT

     2709    17021    2          ALTRET(ALTRT);
     2710    17022    2        NSB = NCMD$ -> POB.NSB - 1;

  17022  1 010356   200004 470500                    LDP0    NCMD$,,AUTO
         1 010357   000001 236100                    LDQ     1,,PR0
         1 010360   000022 772000                    QRL     18
         1 010361   000001 136007                    SBLQ    1,DL
         1 010362   200013 756100                    STQ     NSB,,AUTO

     2711    17023    3        DO IX = 0 TO NSB;

  17023  1 010363   200014 450100                    STZ     IX,,AUTO
         1 010364   010416 710000 1                  TRA     s:17035+1

     2712    17024    3             NC$ = NCMD$ -> POB.SUBLK$( IX );

  17024  1 010365   200004 470500                    LDP0    NCMD$,,AUTO
         1 010366   200014 720100                    LXL0    IX,,AUTO
         1 010367   000003 236110                    LDQ     3,X0,PR0
         1 010370   200015 756100                    STQ     NC$,,AUTO

     2713    17025    3             CODE = NC$ -> POB.CODE;

  17025  1 010371   200015 471500                    LDP1    NC$,,AUTO
         1 010372   100000 236100                    LDQ     0,,PR1
         1 010373   777777 376007                    ANQ     -1,DL
         1 010374   200016 756100                    STQ     CODE,,AUTO

     2714    17026    3             IF CODE = 112            /* RES_CODE */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:426  
  17026  1 010375   000160 116007                    CMPQ    112,DL
         1 010376   010411 601000 1                  TNZ     s:17032

     2715    17027    4             THEN DO;

     2716    17028    4                  QUIT$CMD.FPRG = '1'B;

  17028  1 010377   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 010400   400000 236003                    LDQ     -131072,DU
         1 010401   300001 256100                    ORSQ    1,,PR3

     2717    17029    4                  QUIT$CMD.FPRG_RES = NC$ -> SYM.TEXT;

  17029  1 010402   100004 236100                    LDQ     4,,PR1
         1 010403   000033 772000                    QRL     27
         1 010404   000000 621006                    EAX1    0,QL
         1 010405   040100 100540                    MLR     fill='040'O
         1 010406   100004 200011                    ADSC9   4,,PR1                   cn=1,n=*X1
         1 010407   300002 000010                    ADSC9   2,,PR3                   cn=0,n=8

     2718    17030    4                END;

  17030  1 010410   010415 710000 1                  TRA     s:17035

     2719    17031    4             ELSE DO;

     2720    17032    4                  S_D.ERROR = 501;     /* E@DERR1 */

  17032  1 010411   000765 235007                    LDA     501,DL
         1 010412   000000 473400 xsym               LDP3    S_D$
         1 010413   300013 755100                    STA     11,,PR3

     2721    17033    4                  GOTO ALTRT;

  17033  1 010414   010423 710000 1                  TRA     ALTRT

     2722    17034    4                END;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:427  
     2723    17035    3           END;

  17035  1 010415   200014 054100                    AOS     IX,,AUTO
         1 010416   200014 236100                    LDQ     IX,,AUTO
         1 010417   200013 116100                    CMPQ    NSB,,AUTO
         1 010420   010365 604400 1                  TMOZ    s:17024

     2724    17036    2        RETURN;

  17036  1 010421   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 010422   000001 702211                    TSX2  ! 1,X1

     2725    17037    2   ALTRT:
     2726    17038    2        ALTRETURN;

  17038  1 010423   200012 221300       ALTRT        LDX1  ! ZITEM$+3,,AUTO
         1 010424   000000 702211                    TSX2  ! 0,X1

     2727    17039    2   END DDS$BLD_QUIT;
     2728    17040        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:428  
     2729    17041        /*F* NAME: DDS$BLD_RANGE
     2730    17042             PURPOSE: TO BUILD THE RANGE COMMAND.
     2731    17043             DESCRIPTION: BUILDS THE RANGE COMMAND. */
     2732    17044        /*D* NAME: DDS$BLD_RANGE
     2733    17045             CALL: CALL DDS$BLD_RANGE ALTRET( ERROR );
     2734    17046             INTERFACE: DDS$ATTDIRA
     2735    17047             ENVIRONMENT: DDS$SCAN ACTIVE
     2736    17048             INPUT: NCMD$ - PTR TO "RANGE" NODE.
     2737    17049             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2738    17050             SCRATCH: LOCAL AUTO ONLY.
     2739    17051             DESCRIPTION: */
     2740    17052
     2741    17053    1   DDS$BLD_RANGE: PROC ALTRET;

  17053  1 010425   200012 741300       DDS$BLD_RAN* STX1  ! ZITEM$+3,,AUTO

     2742    17054
     2743    17055        %DOO (NAME=RANGE$CMD,STCLASS="BASED(LASTBLT$)");
     2744    17070    2   DCL V UBIN;
     2745    17071
     2746    17072    2        CALL DDS$ATTDIRA( SIZEW( RANGE$CMD ), 56 ) ALTRET( ARET ); /* C_RANGE */

  17072  1 010426   000122 630400 2                  EPPR0   82
         1 010427   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 010430   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 010431   010455 702000 1                  TSX2    ARET

     2747    17073    2        V = 0;                             /* ASSUME ZERO */

  17073  1 010432   200013 450100                    STZ     V,,AUTO

     2748    17074    2        IF ( NCMD$ -> POB.NSB = 1 )

  17074  1 010433   200004 470500                    LDP0    NCMD$,,AUTO
         1 010434   000001 220100                    LDX0    1,,PR0
         1 010435   000001 100003                    CMPX0   1,DU
         1 010436   010450 601000 1                  TNZ     s:17076
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:429  

     2749    17075    2        THEN CALL DDS$SDO( NCMD$ -> POB.SUBLK$( 0 ), V ) ALTRET( ARET );

  17075  1 010437   200013 631500                    EPPR1   V,,AUTO
         1 010440   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 010441   200004 236100                    LDQ     NCMD$,,AUTO
         1 010442   000003 036003                    ADLQ    3,DU
         1 010443   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 010444   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 010445   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 010446   000000 701000 xent               TSX1    DDS$SDO
         1 010447   010455 702000 1                  TSX2    ARET

     2750    17076    2        RANGE$CMD.ID = V;

  17076  1 010450   200013 720100                    LXL0    V,,AUTO
         1 010451   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 010452   000001 740100                    STX0    1,,PR0

     2751    17077
     2752    17078    2        RETURN;

  17078  1 010453   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 010454   000001 702211                    TSX2  ! 1,X1

     2753    17079
     2754    17080    2   ARET: ALTRETURN;

  17080  1 010455   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 010456   000000 702211                    TSX2  ! 0,X1

     2755    17081
     2756    17082    2   END DDS$BLD_RANGE;
     2757    17083        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:430  
     2758    17084        /*F* NAME: DDS$BLD_REPORT
     2759    17085             PURPOSE: TO BUILD THE REPORT COMMAND.
     2760    17086             DESCRIPTION: BUILDS THE REPORT COMMAND. */
     2761    17087        /*D* NAME: DDS$BLD_REPORT
     2762    17088             CALL: CALL DDS$BLD_REPORT ALTRET( ERROR );
     2763    17089             INTERFACE: DDS$ATTDIRA
     2764    17090             ENVIRONMENT: DDS$SCAN ACTIVE
     2765    17091             INPUT: NCMD$ - PTR TO "REPORT" NODE.
     2766    17092             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2767    17093             SCRATCH: LOCAL AUTO ONLY.
     2768    17094             DESCRIPTION: */
     2769    17095
     2770    17096    1   DDS$BLD_REPORT: PROC ALTRET;

  17096  1 010457   200012 741300       DDS$BLD_REP* STX1  ! ZITEM$+3,,AUTO

     2771    17097
     2772    17098    2   DCL NSB SBIN;
     2773    17099    2   DCL IX SBIN;
     2774    17100    2   DCL CODE SBIN;
     2775    17101    2   DCL DEFAULT BIT(1) ALIGNED;
     2776    17102        %REPORT$CMD (NAME=REPORT$CMD,STCLASS="BASED(LASTBLT$)");
     2777    17118
     2778    17119    2        CALL DDS$ATTDIRA( SIZEW( REPORT$CMD ), 55 ) ALTRET( ARET ); /* C_REPORT */

  17119  1 010460   000125 630400 2                  EPPR0   85
         1 010461   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 010462   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 010463   010567 702000 1                  TSX2    ARET

     2779    17120    2        DEFAULT = '1'B;

  17120  1 010464   400000 236003                    LDQ     -131072,DU
         1 010465   200016 756100                    STQ     DEFAULT,,AUTO

     2780    17121    2        NSB = NCMD$ -> POB.NSB - 1;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:431  
  17121  1 010466   200004 470500                    LDP0    NCMD$,,AUTO
         1 010467   000001 236100                    LDQ     1,,PR0
         1 010470   000022 772000                    QRL     18
         1 010471   000001 136007                    SBLQ    1,DL
         1 010472   200013 756100                    STQ     NSB,,AUTO

     2781    17122    3        DO IX = 0 TO NSB;

  17122  1 010473   200014 450100                    STZ     IX,,AUTO
         1 010474   010554 710000 1                  TRA     s:17153+1

     2782    17123    3             CODE = NCMD$ -> POB.SUBLK$( IX ) -> POB.CODE;

  17123  1 010475   200004 470500                    LDP0    NCMD$,,AUTO
         1 010476   200014 720100                    LXL0    IX,,AUTO
         1 010477   000003 471510                    LDP1    3,X0,PR0
         1 010500   100000 236100                    LDQ     0,,PR1
         1 010501   777777 376007                    ANQ     -1,DL
         1 010502   200015 756100                    STQ     CODE,,AUTO

     2783    17124    3             IF CODE = 530               /* C@ALL */

  17124  1 010503   001022 116007                    CMPQ    530,DL
         1 010504   010516 601000 1                  TNZ     s:17131

     2784    17125    4             THEN DO;

     2785    17126    4                  REPORT$CMD.OFFSET = '1'B;

  17126  1 010505   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 010506   100000 236007                    LDQ     32768,DL
         1 010507   300001 256100                    ORSQ    1,,PR3

     2786    17127    4                  REPORT$CMD.LINE = '1'B;

  17127  1 010510   040000 236007                    LDQ     16384,DL
         1 010511   300001 256100                    ORSQ    1,,PR3
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:432  

     2787    17128    4                  REPORT$CMD.TYPE = '1'B;

  17128  1 010512   020000 236007                    LDQ     8192,DL
         1 010513   300001 256100                    ORSQ    1,,PR3

     2788    17129    4                  DEFAULT = '0'B;

  17129  1 010514   200016 450100                    STZ     DEFAULT,,AUTO

     2789    17130    4                END;

  17130  1 010515   010553 710000 1                  TRA     s:17153

     2790    17131    3             ELSE IF CODE = 83      /* C@DEFAULT */

  17131  1 010516   000123 116007                    CMPQ    83,DL
         1 010517   010521 601000 1                  TNZ     s:17134

     2791    17132    4                  THEN DO;                 /* Nothing */

     2792    17133    4                     END;

  17133  1 010520   010553 710000 1                  TRA     s:17153

     2793    17134    3                  ELSE IF CODE = 73  /* C@OFFSET */

  17134  1 010521   000111 116007                    CMPQ    73,DL
         1 010522   010530 601000 1                  TNZ     s:17139

     2794    17135    4                       THEN DO;

     2795    17136    4                            REPORT$CMD.OFFSET = '1'B;

  17136  1 010523   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 010524   100000 236007                    LDQ     32768,DL
         1 010525   300001 256100                    ORSQ    1,,PR3
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:433  

     2796    17137    4                            DEFAULT = '0'B;

  17137  1 010526   200016 450100                    STZ     DEFAULT,,AUTO

     2797    17138    4                          END;

  17138  1 010527   010553 710000 1                  TRA     s:17153

     2798    17139    3                       ELSE IF CODE = 74 /* C@LINE */

  17139  1 010530   000112 116007                    CMPQ    74,DL
         1 010531   010537 601000 1                  TNZ     s:17144

     2799    17140    4                            THEN DO;

     2800    17141    4                                 REPORT$CMD.LINE = '1'B;

  17141  1 010532   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 010533   040000 236007                    LDQ     16384,DL
         1 010534   300001 256100                    ORSQ    1,,PR3

     2801    17142    4                                 DEFAULT = '0'B;

  17142  1 010535   200016 450100                    STZ     DEFAULT,,AUTO

     2802    17143    4                               END;

  17143  1 010536   010553 710000 1                  TRA     s:17153

     2803    17144    3                            ELSE IF CODE = 75 /* C@TYPE */

  17144  1 010537   000113 116007                    CMPQ    75,DL
         1 010540   010546 601000 1                  TNZ     s:17150

     2804    17145    4                                 THEN DO;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:434  
     2805    17146    4                                      REPORT$CMD.TYPE = '1'B;

  17146  1 010541   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 010542   020000 236007                    LDQ     8192,DL
         1 010543   300001 256100                    ORSQ    1,,PR3

     2806    17147    4                                      DEFAULT = '0'B;

  17147  1 010544   200016 450100                    STZ     DEFAULT,,AUTO

     2807    17148    4                                    END;

  17148  1 010545   010553 710000 1                  TRA     s:17153

     2808    17149    4                                 ELSE DO;  /* MUST BE COMPILER TYPE */

     2809    17150    4                                      REPORT$CMD.COMPILER_SPF = '1'B;

  17150  1 010546   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 010547   400000 236007                    LDQ     -131072,DL
         1 010550   300001 256100                    ORSQ    1,,PR3

     2810    17151    4                                      REPORT$CMD.COMPILER = CODE;

  17151  1 010551   200015 721100                    LXL1    CODE,,AUTO
         1 010552   300001 741100                    STX1    1,,PR3

     2811    17152    4                                    END;

     2812    17153    3           END;

  17153  1 010553   200014 054100                    AOS     IX,,AUTO
         1 010554   200014 236100                    LDQ     IX,,AUTO
         1 010555   200013 116100                    CMPQ    NSB,,AUTO
         1 010556   010475 604400 1                  TMOZ    s:17123

     2813    17154    2        REPORT$CMD.DEFAULT = DEFAULT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:435  

  17154  1 010557   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 010560   200016 236100                    LDQ     DEFAULT,,AUTO
         1 010561   000023 772000                    QRL     19
         1 010562   100001 676100                    ERQ     1,,PR1
         1 010563   200000 376007                    ANQ     65536,DL
         1 010564   100001 656100                    ERSQ    1,,PR1

     2814    17155
     2815    17156    2        RETURN;

  17156  1 010565   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 010566   000001 702211                    TSX2  ! 1,X1

     2816    17157
     2817    17158    2   ARET:
     2818    17159    2        ALTRETURN;

  17159  1 010567   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 010570   000000 702211                    TSX2  ! 0,X1

     2819    17160
     2820    17161    2   END DDS$BLD_REPORT;
     2821    17162        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:436  
     2822    17163        /*F* NAME: DDS$BLD_RUM
     2823    17164             PURPOSE: TO BUILD THE RUM COMMAND.
     2824    17165             DESCRIPTION: BUILDS THE RUM COMMAND. */
     2825    17166        /*D* NAME: DDS$BLD_RUM
     2826    17167             CALL: CALL DDS$BLD_RUM ALTRET( ERROR );
     2827    17168             INTERFACE: DDS$ATTDIRA
     2828    17169             ENVIRONMENT: DDS$SCAN ACTIVE
     2829    17170             INPUT: NCMD$ - PTR TO "RUM" NODE.
     2830    17171             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2831    17172             SCRATCH: LOCAL AUTO ONLY.
     2832    17173             DESCRIPTION: */
     2833    17174
     2834    17175    1   DDS$BLD_RUM: PROC ALTRET;

  17175  1 010571   200012 741300       DDS$BLD_RUM  STX1  ! ZITEM$+3,,AUTO

     2835    17176
     2836    17177    2   DCL NSB SBIN;
     2837    17178    2   DCL IX SBIN;
     2838    17179    2   DCL CODE SBIN;
     2839    17180    2   DCL SIZE UBIN;
     2840    17181    2   DCL TEXT$ PTR;
     2841    17182    2   DCL NC$ PTR;
     2842    17183    2   DCL IXX UBIN;
     2843    17184    2   DCL V UBIN;
     2844    17185    2   DCL NCC$ PTR;
     2845    17186    2   DCL CHAR2 CHAR(2);
     2846    17187    2   DCL UTSP CHAR(0) CONSTANT INIT( 'MM/DD/YY HH:MM:SS.TT' );
     2847    17188    2   DCL UTSM(0:6) UBIN CONSTANT INIT( 12, 31, 99, 23, 59, 59, 99 );
     2848    17189    2   DCL UTSX(0:6) UBIN CONSTANT INIT(  0,  3,  6,  9, 12, 15, 18 );
     2849    17190        %RUM$CMD (NAME=RUM$CMD,STCLASS="BASED(LASTBLT$)");
     2850    17214
     2851    17215    2        CALL DDS$ATTDIRA( SIZEW( RUM$CMD ), 72 ) ALTRET( ARET ); /* C_RUM */

  17215  1 010572   000130 630400 2                  EPPR0   88
         1 010573   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 010574   000000 701000 xent               TSX1    DDS$ATTDIRA
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:437  
         1 010575   011016 702000 1                  TSX2    ARET

     2852    17216    2        NSB = NCMD$ -> POB.NSB - 1;

  17216  1 010576   200004 470500                    LDP0    NCMD$,,AUTO
         1 010577   000001 236100                    LDQ     1,,PR0
         1 010600   000022 772000                    QRL     18
         1 010601   000001 136007                    SBLQ    1,DL
         1 010602   200013 756100                    STQ     NSB,,AUTO

     2853    17217    3        DO IX = 0 TO NSB;

  17217  1 010603   200014 450100                    STZ     IX,,AUTO
         1 010604   011011 710000 1                  TRA     s:17272+1

     2854    17218    3             NC$ = NCMD$ -> POB.SUBLK$( IX );

  17218  1 010605   200004 470500                    LDP0    NCMD$,,AUTO
         1 010606   200014 720100                    LXL0    IX,,AUTO
         1 010607   000003 236110                    LDQ     3,X0,PR0
         1 010610   200020 756100                    STQ     NC$,,AUTO

     2855    17219    3             CODE = NC$ -> POB.CODE;

  17219  1 010611   200020 471500                    LDP1    NC$,,AUTO
         1 010612   100000 236100                    LDQ     0,,PR1
         1 010613   777777 376007                    ANQ     -1,DL
         1 010614   200015 756100                    STQ     CODE,,AUTO

     2856    17220    3             IF CODE = 77            /* FID_CODE */

  17220  1 010615   000115 116007                    CMPQ    77,DL
         1 010616   010641 601000 1                  TNZ     s:17231

     2857    17221    4             THEN DO;

     2858    17222    4                  TEXT$ = NC$ -> POB.SUBLK$( 0 );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:438  

  17222  1 010617   100003 236100                    LDQ     3,,PR1
         1 010620   200017 756100                    STQ     TEXT$,,AUTO

     2859    17223    4                  SIZE = TEXT$ -> TEXT$C.SIZE;

  17223  1 010621   200017 473500                    LDP3    TEXT$,,AUTO
         1 010622   300000 236100                    LDQ     0,,PR3
         1 010623   000033 772000                    QRL     27
         1 010624   200016 756100                    STQ     SIZE,,AUTO

     2860    17224    4                  IF SIZE > LENGTHC( RUM$CMD.FID.TEXT )

  17224  1 010625   000100 116007                    CMPQ    64,DL
         1 010626   010633 602000 1                  TNC     s:17229

     2861    17225    5                  THEN DO;

     2862    17226    5                       S_D.ERROR = 48; /* E@SYM2LONG */

  17226  1 010627   000060 235007                    LDA     48,DL
         1 010630   000000 474400 xsym               LDP4    S_D$
         1 010631   400013 755100                    STA     11,,PR4

     2863    17227    5                       GOTO ARET;

  17227  1 010632   011016 710000 1                  TRA     ARET

     2864    17228    5                     END;
     2865    17229    4                  RUM$CMD.FID = TEXT$ -> TEXT$C;

  17229  1 010633   000001 621006                    EAX1    1,QL
         1 010634   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 010635   000100 100540                    MLR     fill='000'O
         1 010636   300000 000011                    ADSC9   0,,PR3                   cn=0,n=*X1
         1 010637   400010 000100                    ADSC9   8,,PR4                   cn=0,n=64

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:439  
     2866    17230    4                END;

  17230  1 010640   011010 710000 1                  TRA     s:17272

     2867    17231    3             ELSE IF CODE = 79         /* C@NUTS */

  17231  1 010641   000117 116007                    CMPQ    79,DL
         1 010642   010647 601000 1                  TNZ     s:17233

     2868    17232    3                  THEN RUM$CMD.NUTS = '1'B;

  17232  1 010643   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 010644   200000 236003                    LDQ     65536,DU
         1 010645   300001 256100                    ORSQ    1,,PR3
         1 010646   011010 710000 1                  TRA     s:17272

     2869    17233    3                  ELSE IF CODE = 54  /* C@RUMUTS */

  17233  1 010647   000066 116007                    CMPQ    54,DL
         1 010650   010732 601000 1                  TNZ     s:17250

     2870    17234    4                       THEN DO;

     2871    17235    4                            RUM$CMD.GOTUTS = '1'B;

  17235  1 010651   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 010652   400000 236003                    LDQ     -131072,DU
         1 010653   300001 256100                    ORSQ    1,,PR3

     2872    17236    4                            RUM$CMD.UTS = UTSP;

  17236  1 010654   040100 100400                    MLR     fill='040'O
         1 010655   000001 000024 0                  ADSC9   UTSP                     cn=0,n=20
         1 010656   300002 000024                    ADSC9   2,,PR3                   cn=0,n=20

     2873    17237    5                            DO IXX = 0 TO LENGTHW( UTSX ) -1;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:440  
  17237  1 010657   200021 450100                    STZ     IXX,,AUTO
         1 010660   010726 710000 1                  TRA     s:17248+3

     2874    17238    5                                 NCC$ = NC$ -> POB.SUBLK$( IXX );

  17238  1 010661   200020 470500                    LDP0    NC$,,AUTO
         1 010662   200021 720100                    LXL0    IXX,,AUTO
         1 010663   000003 236110                    LDQ     3,X0,PR0
         1 010664   200023 756100                    STQ     NCC$,,AUTO

     2875    17239    5                                 CALL DDS$DECIMAL( NCC$, V ) ALTRET( ARET );

  17239  1 010665   200022 631500                    EPPR1   V,,AUTO
         1 010666   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 010667   200023 633500                    EPPR3   NCC$,,AUTO
         1 010670   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 010671   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 010672   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 010673   000000 701000 xent               TSX1    DDS$DECIMAL
         1 010674   011016 702000 1                  TSX2    ARET

     2876    17240    5                                 IF V > UTSM( IXX )

  17240  1 010675   200021 720100                    LXL0    IXX,,AUTO
         1 010676   000006 236010 0                  LDQ     UTSM,X0
         1 010677   200022 116100                    CMPQ    V,,AUTO
         1 010700   010710 603000 1                  TRC     s:17246

     2877    17241    6                                 THEN DO;

     2878    17242    6                                      S_D.ERROR = 225; /* E@UTSFIELD */

  17242  1 010701   000341 235007                    LDA     225,DL
         1 010702   000000 470400 xsym               LDP0    S_D$
         1 010703   000013 755100                    STA     11,,PR0

     2879    17243    6                                      S_D.ERROR_SYM$ = NCC$ -> POB.SUBLK$( 0 );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:441  

  17243  1 010704   200023 471500                    LDP1    NCC$,,AUTO
         1 010705   100003 236100                    LDQ     3,,PR1
         1 010706   000032 756100                    STQ     26,,PR0

     2880    17244    6                                      GOTO ARET;

  17244  1 010707   011016 710000 1                  TRA     ARET

     2881    17245    6                                    END;
     2882    17246    5                                 CALL BINCHAR( CHAR2, V );

  17246  1 010710   200022 235100                    LDA     V,,AUTO
         1 010711   000044 773000                    LRL     36
         1 010712   200050 757100                    STAQ    @ND_PTR+1,,AUTO
         1 010713   000100 301500                    BTD
         1 010714   200050 000010                    NDSC9   @ND_PTR+1,,AUTO          cn=0,s=lsgnf,sf=0,n=8
         1 010715   200024 030002                    NDSC9   CHAR2,,AUTO              cn=0,s=nosgn,sf=0,n=2

     2883    17247    5                                 CALL INSERT( RUM$CMD.UTS, UTSX( IXX ), LENGTHC( CHAR2
             17247                                          ), CHAR2 );

  17247  1 010716   000015 235010 0                  LDA     UTSX,X0
         1 010717   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 010720   040105 100500                    MLR     fill='040'O
         1 010721   200024 000002                    ADSC9   CHAR2,,AUTO              cn=0,n=2
         1 010722   000002 000002                    ADSC9   2,A,PR0                  cn=0,n=2

     2884    17248    5                               END;

  17248  1 010723   200021 236100                    LDQ     IXX,,AUTO
         1 010724   000001 036007                    ADLQ    1,DL
         1 010725   200021 756100                    STQ     IXX,,AUTO
         1 010726   200021 235100                    LDA     IXX,,AUTO
         1 010727   000007 115007                    CMPA    7,DL
         1 010730   010661 602000 1                  TNC     s:17238

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:442  
     2885    17249    4                          END;

  17249  1 010731   011010 710000 1                  TRA     s:17272

     2886    17250    3                       ELSE IF ( CODE = 82 ) OR /* C@COPY */

  17250  1 010732   000122 116007                    CMPQ    82,DL
         1 010733   010740 600000 1                  TZE     s:17253
         1 010734   000121 116007                    CMPQ    81,DL
         1 010735   010740 600000 1                  TZE     s:17253
         1 010736   000142 116007                    CMPQ    98,DL
         1 010737   010744 601000 1                  TNZ     s:17254

     2887    17251    3                              ( CODE = 81 ) OR /* C@INPUT */
     2888    17252    3                              ( CODE = 98 ) /* C@TEST */
     2889    17253    3                            THEN RUM$CMD.CODE = CODE;

  17253  1 010740   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 010741   000011 736000                    QLS     9
         1 010742   300001 552110                    STBQ    1,'10'O,PR3
         1 010743   011010 710000 1                  TRA     s:17272

     2890    17254    3                            ELSE IF CODE = 99 /* C@RUMBUF */

  17254  1 010744   000143 116007                    CMPQ    99,DL
         1 010745   011001 601000 1                  TNZ     s:17268

     2891    17255    4                                 THEN DO;

     2892    17256    4                                      NCC$ = NC$ -> POB.SUBLK$( 0 );

  17256  1 010746   100003 236100                    LDQ     3,,PR1
         1 010747   200023 756100                    STQ     NCC$,,AUTO

     2893    17257    4                                      CALL DDS$DECIMAL( NCC$, V ) ALTRET( ARET );

  17257  1 010750   200022 633500                    EPPR3   V,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:443  
         1 010751   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 010752   200023 634500                    EPPR4   NCC$,,AUTO
         1 010753   200050 454500                    STP4    @ND_PTR+1,,AUTO
         1 010754   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 010755   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 010756   000000 701000 xent               TSX1    DDS$DECIMAL
         1 010757   011016 702000 1                  TSX2    ARET

     2894    17258    4                                     IF V > SIZEW(S_D.RCBC.BUF$)/SIZEW(S_D.RCBC.BUF$(0
             17258                                               )) OR

  17258  1 010760   200022 235100                    LDA     V,,AUTO
         1 010761   000013 115007                    CMPA    11,DL
         1 010762   010765 603000 1                  TRC     s:17261
         1 010763   000000 115003                    CMPA    0,DU
         1 010764   010774 601000 1                  TNZ     s:17265

     2895    17259    4                                        V = 0
     2896    17260    5                                      THEN DO;

     2897    17261    5                                           S_D.ERROR = 235; /* E@RUMBUFS */

  17261  1 010765   000353 236007                    LDQ     235,DL
         1 010766   000000 470400 xsym               LDP0    S_D$
         1 010767   000013 756100                    STQ     11,,PR0

     2898    17262    5                                           S_D.ERROR_SYM$ = NCC$ -> POB.SUBLK$( 0 );

  17262  1 010770   200023 471500                    LDP1    NCC$,,AUTO
         1 010771   100003 236100                    LDQ     3,,PR1
         1 010772   000032 756100                    STQ     26,,PR0

     2899    17263    5                                           GOTO ARET;

  17263  1 010773   011016 710000 1                  TRA     ARET

     2900    17264    5                                         END;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:444  
     2901    17265    4                                      RUM$CMD.BUFFERS = V;

  17265  1 010774   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 010775   200022 236100                    LDQ     V,,AUTO
         1 010776   000022 736000                    QLS     18
         1 010777   000001 552120                    STBQ    1,'20'O,PR0

     2902    17266    4                                    END;

  17266  1 011000   011010 710000 1                  TRA     s:17272

     2903    17267    4                                 ELSE DO;

     2904    17268    4                                      S_D.ERROR = 502; /* E@DELBUG */

  17268  1 011001   000766 235007                    LDA     502,DL
         1 011002   000000 473400 xsym               LDP3    S_D$
         1 011003   300013 755100                    STA     11,,PR3

     2905    17269    4                                      CALL DDE$ERROR;

  17269  1 011004   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 011005   000000 701000 xent               TSX1    DDE$ERROR
         1 011006   000000 011000                    NOP     0

     2906    17270    4                                      GOTO ARET;

  17270  1 011007   011016 710000 1                  TRA     ARET

     2907    17271    4                                    END;
     2908    17272    3           END;

  17272  1 011010   200014 054100                    AOS     IX,,AUTO
         1 011011   200014 236100                    LDQ     IX,,AUTO
         1 011012   200013 116100                    CMPQ    NSB,,AUTO
         1 011013   010605 604400 1                  TMOZ    s:17218

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:445  
     2909    17273
     2910    17274    2        RETURN;

  17274  1 011014   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 011015   000001 702211                    TSX2  ! 1,X1

     2911    17275
     2912    17276    2   ARET:
     2913    17277    2        IF S_D.GHOST1

  17277  1 011016   000000 470400 xsym  ARET         LDP0    S_D$
         1 011017   000605 234100                    SZN     389,,PR0
         1 011020   011023 605000 1                  TPL     s:17279

     2914    17278    2        THEN S_D.RUM_SKIP = '1'B;

  17278  1 011021   400000 236003                    LDQ     -131072,DU
         1 011022   000051 756100                    STQ     41,,PR0

     2915    17279    2        ALTRETURN;

  17279  1 011023   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 011024   000000 702211                    TSX2  ! 0,X1

     2916    17280
     2917    17281    2   END DDS$BLD_RUM;
     2918    17282        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:446  
     2919    17283        /*F* NAME: DDS$BLD_SAD
     2920    17284             PURPOSE: TO BUILD THE SAD COMMAND.
     2921    17285             DESCRIPTION: BUILDS THE SAD COMMAND. */
     2922    17286        /*D* NAME: DDS$BLD_SAD
     2923    17287             CALL: CALL DDS$BLD_SAD ALTRET( ERROR );
     2924    17288             INTERFACE: DDS$ATTDIRA
     2925    17289             ENVIRONMENT: DDS$SCAN ACTIVE
     2926    17290             INPUT: NCMD$ - PTR TO "SAD" NODE.
     2927    17291             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     2928    17292             SCRATCH: LOCAL AUTO ONLY.
     2929    17293             DESCRIPTION: */
     2930    17294
     2931    17295    1   DDS$BLD_SAD: PROC ALTRET;

  17295  1 011025   200012 741300       DDS$BLD_SAD  STX1  ! ZITEM$+3,,AUTO

     2932    17296
     2933    17297        %DOO (NAME=SAD$CMD,STCLASS="BASED(LASTBLT$)");
     2934    17312    2   DCL V UBIN;
     2935    17313
     2936    17314    2        CALL DDS$ATTDIRA( SIZEW( SAD$CMD ), 77 ) ALTRET( ARET ); /* C_SAD */

  17314  1 011026   000133 630400 2                  EPPR0   91
         1 011027   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 011030   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 011031   011050 702000 1                  TSX2    ARET

     2937    17315    2        CALL DDS$SDO( NCMD$ -> POB.SUBLK$( 0 ), V ) ALTRET( ARET );

  17315  1 011032   200013 630500                    EPPR0   V,,AUTO
         1 011033   200051 450500                    STP0    @ND_PTR+2,,AUTO
         1 011034   200004 236100                    LDQ     NCMD$,,AUTO
         1 011035   000003 036003                    ADLQ    3,DU
         1 011036   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 011037   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 011040   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 011041   000000 701000 xent               TSX1    DDS$SDO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:447  
         1 011042   011050 702000 1                  TSX2    ARET

     2938    17316    2        SAD$CMD.ID = V;

  17316  1 011043   200013 720100                    LXL0    V,,AUTO
         1 011044   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 011045   000001 740100                    STX0    1,,PR0

     2939    17317
     2940    17318    2        RETURN;

  17318  1 011046   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 011047   000001 702211                    TSX2  ! 1,X1

     2941    17319
     2942    17320    2   ARET: ALTRETURN;

  17320  1 011050   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 011051   000000 702211                    TSX2  ! 0,X1

     2943    17321
     2944    17322    2   END DDS$BLD_SAD;
     2945    17323        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:448  
     2946    17324        /*F* NAME: DDS$BLD_SAVE
     2947    17325             PURPOSE: TO BUILD THE SAVE COMMAND.
     2948    17326             DESCRIPTION: BUILDS THE SAVE FIRST ATTACHMENT. */
     2949    17327        /*D* NAME: DDS$BLD_SAVE
     2950    17328             INTERFACE:
     2951    17329             ENVIRONMENT: DDS$SCAN ACTIVE.
     2952    17330             INPUT: NCMD$ - POINTER TO N_SAVE NODE.
     2953    17331             OUTPUT: S_D.D$ - POINTER TO NEXT FREE WORD IN VARCOM.
     2954    17332             SCRATCH: LOCAL AUTO ONLY
     2955    17333             DESCRIPTION: BUILDS THE SAVE FIRST ATTACHMENT. */
     2956    17334
     2957    17335    1   DDS$BLD_SAVE: PROC ALTRET;

  17335  1 011052   200012 741300       DDS$BLD_SAVE STX1  ! ZITEM$+3,,AUTO

     2958    17336
     2959    17337        %AT_FIRST (NAME=SAVE$CMD,STCLASS="BASED(LASTBLT$)");
     2960    17365
     2961    17366    2        CALL DDS$STOREDA( SIZEW(SAVE$CMD), 45 ) /* C_SAVE */ ALTRET(ALTRT);

  17366  1 011053   000136 630400 2                  EPPR0   94
         1 011054   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 011055   000000 701000 xent               TSX1    DDS$STOREDA
         1 011056   011061 702000 1                  TSX2    ALTRT

     2962    17367    2        RETURN;                            /* DONE - RETURN */

  17367  1 011057   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 011060   000001 702211                    TSX2  ! 1,X1

     2963    17368    2   ALTRT:
     2964    17369    2        ALTRETURN;

  17369  1 011061   200012 221300       ALTRT        LDX1  ! ZITEM$+3,,AUTO
         1 011062   000000 702211                    TSX2  ! 0,X1

     2965    17370
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:449  
     2966    17371    2   END DDS$BLD_SAVE;
     2967    17372        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:450  
     2968    17373    1   DDS$BLD_SCHEMA: PROC ALTRET;

  17373  1 011063   200012 741300       DDS$BLD_SCH* STX1  ! ZITEM$+3,,AUTO

     2969    17374                                                /* LOCAL TEMPS */
     2970    17375    2   DCL NSB SBIN;
     2971    17376    2   DCL IX SBIN;
     2972    17377        /*D* NSB & IX must be SBIN */
     2973    17378    2   DCL NC$ PTR;
     2974    17379    2   DCL CODE UBIN;
     2975    17380    2   DCL NCC$ PTR;
     2976    17381    2   DCL TCODE UBIN;
     2977    17382        /*D* V must be UBIN */
     2978    17383    2   DCL V UBIN;
     2979    17384    2   DCL T1 UBIN;
     2980    17385    2   DCL TEXT$ PTR;
     2981    17386        %SCHEMA$CMD(NAME=SCHEMA$CMD,STCLASS="BASED(LASTBLT$)");
     2982    17402
     2983    17403    2        T1 = 43;                     /* C_SCHEMA */

  17403  1 011064   000053 235007                    LDA     43,DL
         1 011065   200022 755100                    STA     T1,,AUTO

     2984    17404    2        CALL DDS$ATTDIRA( SIZEW( SCHEMA$CMD ), T1 ) ALTRET( ARET );

  17404  1 011066   200022 630500                    EPPR0   T1,,AUTO
         1 011067   200051 450500                    STP0    @ND_PTR+2,,AUTO
         1 011070   000064 236000 2                  LDQ     52
         1 011071   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 011072   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 011073   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 011074   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 011075   011206 702000 1                  TSX2    ARET

     2985    17405    2        NSB = NCMD$ -> POB.NSB - 1;

  17405  1 011076   200004 470500                    LDP0    NCMD$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:451  
         1 011077   000001 236100                    LDQ     1,,PR0
         1 011100   000022 772000                    QRL     18
         1 011101   000001 136007                    SBLQ    1,DL
         1 011102   200013 756100                    STQ     NSB,,AUTO

     2986    17406    3        DO IX = 0 TO NSB;

  17406  1 011103   200014 450100                    STZ     IX,,AUTO
         1 011104   011176 710000 1                  TRA     s:17427+1

     2987    17407    3             NC$ = NCMD$ -> POB.SUBLK$( IX );

  17407  1 011105   200004 470500                    LDP0    NCMD$,,AUTO
         1 011106   200014 720100                    LXL0    IX,,AUTO
         1 011107   000003 236110                    LDQ     3,X0,PR0
         1 011110   200015 756100                    STQ     NC$,,AUTO

     2988    17408    3             CODE = NC$ -> POB.CODE;

  17408  1 011111   200015 471500                    LDP1    NC$,,AUTO
         1 011112   100000 236100                    LDQ     0,,PR1
         1 011113   777777 376007                    ANQ     -1,DL
         1 011114   200016 756100                    STQ     CODE,,AUTO

     2989    17409    3             IF CODE = 24          /* C@POSITION */

  17409  1 011115   000030 116007                    CMPQ    24,DL
         1 011116   011154 601000 1                  TNZ     s:17420

     2990    17410    4             THEN DO;

     2991    17411    4                  SCHEMA$CMD.GOTPOS = '1'B;

  17411  1 011117   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 011120   100000 236007                    LDQ     32768,DL
         1 011121   300001 256100                    ORSQ    1,,PR3

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:452  
     2992    17412    4                  CALL DDS$POSITION( NC$, V ) ALTRET( ARET );

  17412  1 011122   200021 631500                    EPPR1   V,,AUTO
         1 011123   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 011124   200015 634500                    EPPR4   NC$,,AUTO
         1 011125   200050 454500                    STP4    @ND_PTR+1,,AUTO
         1 011126   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 011127   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 011130   000000 701000 xent               TSX1    DDS$POSITION
         1 011131   011206 702000 1                  TSX2    ARET

     2993    17413    4                  IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST AND

  17413  1 011132   000000 470400 xsym               LDP0    S_D$
         1 011133   006714 235100                    LDA     3532,,PR0
         1 011134   000001 115007                    CMPA    1,DL
         1 011135   011141 601000 1                  TNZ     s:17416
         1 011136   200021 236100                    LDQ     V,,AUTO
         1 011137   000001 116003                    CMPQ    1,DU
         1 011140   011203 603000 1                  TRC     ERR25

     2994    17414    4                    ( V > BITBIN('777777'O) )
     2995    17415    4                  THEN GOTO ERR25;         /* TRUNCATION - INVALID IS ADDRESS */
     2996    17416    4                  ELSE IF (V > BITBIN('3777777'O) )

  17416  1 011141   000025 236000 0                  LDQ     UTSX+8
         1 011142   000017 772000                    QRL     15
         1 011143   200021 116100                    CMPQ    V,,AUTO
         1 011144   011203 602000 1                  TNC     ERR25

     2997    17417    4                       THEN GOTO ERR25;
     2998    17418    4                  SCHEMA$CMD.POSITION = V;

  17418  1 011145   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 011146   200021 236100                    LDQ     V,,AUTO
         1 011147   000020 736000                    QLS     16
         1 011150   100001 676100                    ERQ     1,,PR1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:453  
         1 011151   000034 376000 xsym               ANQ     B_VECTNIL+28
         1 011152   100001 656100                    ERSQ    1,,PR1

     2999    17419    4                END;

  17419  1 011153   011175 710000 1                  TRA     s:17427

     3000    17420    3             ELSE IF CODE = 77       /* FID_CODE */

  17420  1 011154   000115 116007                    CMPQ    77,DL
         1 011155   011175 601000 1                  TNZ     s:17427

     3001    17421    4                  THEN DO;

     3002    17422    4                       SCHEMA$CMD.GOTFID = '1'B;

  17422  1 011156   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 011157   040000 236007                    LDQ     16384,DL
         1 011160   300001 256100                    ORSQ    1,,PR3

     3003    17423    4                       TEXT$ = NC$ -> POB.SUBLK$(0);

  17423  1 011161   200015 471500                    LDP1    NC$,,AUTO
         1 011162   100003 236100                    LDQ     3,,PR1
         1 011163   200023 756100                    STQ     TEXT$,,AUTO

     3004    17424    4                       SCHEMA$CMD.FID.SIZE = TEXT$ -> TEXT$C.SIZE;

  17424  1 011164   200023 474500                    LDP4    TEXT$,,AUTO
         1 011165   400000 236100                    LDQ     0,,PR4
         1 011166   300002 552140                    STBQ    2,'40'O,PR3

     3005    17425    4                       SCHEMA$CMD.FID.TEXT = TEXT$ -> TEXT$C.TXT;

  17425  1 011167   400000 236100                    LDQ     0,,PR4
         1 011170   000033 772000                    QRL     27
         1 011171   000000 621006                    EAX1    0,QL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:454  
         1 011172   040100 100540                    MLR     fill='040'O
         1 011173   400000 200011                    ADSC9   0,,PR4                   cn=1,n=*X1
         1 011174   300002 200077                    ADSC9   2,,PR3                   cn=1,n=63

     3006    17426    4                     END;

     3007    17427    3           END;

  17427  1 011175   200014 054100                    AOS     IX,,AUTO
         1 011176   200014 236100                    LDQ     IX,,AUTO
         1 011177   200013 116100                    CMPQ    NSB,,AUTO
         1 011200   011105 604400 1                  TMOZ    s:17407

     3008    17428    2        RETURN;

  17428  1 011201   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 011202   000001 702211                    TSX2  ! 1,X1

     3009    17429
     3010    17430    2   ERR25: S_D.ERROR = 25; GOTO ARET; /* E@UERR25 */

  17430  1 011203   000031 236007       ERR25        LDQ     25,DL
         1 011204   000013 756100                    STQ     11,,PR0

  17430  1 011205   011206 710000 1                  TRA     ARET

     3011    17431    2   ARET: ALTRETURN;

  17431  1 011206   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 011207   000000 702211                    TSX2  ! 0,X1

     3012    17432
     3013    17433    2   END DDS$BLD_SCHEMA;
     3014    17434        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:455  
     3015    17435        /*F* NAME: DDS$BLD_SELCHAN
     3016    17436             PURPOSE: TO BUILD THE SELCHAN COMMAND.
     3017    17437             DESCRIPTION: BUILDS THE SELCHAN COMMAND. */
     3018    17438        /*D* NAME: DDS$BLD_SELCHAN
     3019    17439             CALL: CALL DDS$BLD_SELCHAN ALTRET( ERROR );
     3020    17440             INTERFACE: DDS$ATTDIRA
     3021    17441             ENVIRONMENT: DDS$SCAN ACTIVE
     3022    17442             INPUT: NCMD$ - PTR TO "SELCHAN" NODE.
     3023    17443             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3024    17444             SCRATCH: LOCAL AUTO ONLY.
     3025    17445             DESCRIPTION: */
     3026    17446
     3027    17447    1   DDS$BLD_SELCHAN:PROC ALTRET;

  17447  1 011210   200012 741300       DDS$BLD_SEL* STX1  ! ZITEM$+3,,AUTO

     3028    17448
     3029    17449    2   DCL NC$ PTR;
     3030    17450    2   DCL V UBIN;
     3031    17451    2   DCL T1 UBIN;
     3032    17452        %LCT$CMD(NAME=LCT$CMD,STCLASS="BASED(LASTBLT$)");
     3033    17466
     3034    17467    2        T1 = 66;                    /* C_SELCHAN */

  17467  1 011211   000102 235007                    LDA     66,DL
         1 011212   200015 755100                    STA     T1,,AUTO

     3035    17468    2        CALL DDS$ATTDIRA ( SIZEW(LCT$CMD), T1 ) ALTRET(ARET);

  17468  1 011213   200015 630500                    EPPR0   T1,,AUTO
         1 011214   200051 450500                    STP0    @ND_PTR+2,,AUTO
         1 011215   000030 236000 2                  LDQ     24
         1 011216   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 011217   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 011220   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 011221   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 011222   011250 702000 1                  TSX2    ARET
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:456  

     3036    17469    2        NC$ = NCMD$ -> POB.SUBLK$(0);

  17469  1 011223   200004 470500                    LDP0    NCMD$,,AUTO
         1 011224   000003 236100                    LDQ     3,,PR0
         1 011225   200013 756100                    STQ     NC$,,AUTO

     3037    17470    2        CALL DDS$HEX( NC$, V ) ALTRET(ARET);

  17470  1 011226   200014 631500                    EPPR1   V,,AUTO
         1 011227   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 011230   200013 633500                    EPPR3   NC$,,AUTO
         1 011231   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 011232   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 011233   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 011234   000000 701000 xent               TSX1    DDS$HEX
         1 011235   011250 702000 1                  TSX2    ARET

     3038    17471    2        IF ( V > BITBIN('FF80'X))

  17471  1 011236   200014 235100                    LDA     V,,AUTO
         1 011237   177601 115007                    CMPA    65409,DL
         1 011240   011245 603000 1                  TRC     TOOLARGE

     3039    17472    2        THEN GOTO TOOLARGE;
     3040    17473    2        LCT$CMD.CHAN# = V;

  17473  1 011241   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 011242   000002 755100                    STA     2,,PR0

     3041    17474    2        RETURN;

  17474  1 011243   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 011244   000001 702211                    TSX2  ! 1,X1

     3042    17475
     3043    17476    2   TOOLARGE: S_D.ERROR = 46;       /* E@TOOLARGE */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:457  

  17476  1 011245   000056 236007       TOOLARGE     LDQ     46,DL
         1 011246   000000 470400 xsym               LDP0    S_D$
         1 011247   000013 756100                    STQ     11,,PR0

     3044    17477    2   ARET: ALTRETURN;

  17477  1 011250   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 011251   000000 702211                    TSX2  ! 0,X1

     3045    17478
     3046    17479    2   END DDS$BLD_SELCHAN;
     3047    17480        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:458  
     3048    17481        /*F* NAME: DDS$BLD_SHOW
     3049    17482             PURPOSE: TO BUILD THE SHOW COMMAND.
     3050    17483             DESCRIPTION: BUILDS THE SHOW COMMAND. */
     3051    17484        /*D* NAME: DDS$BLD_SHOW
     3052    17485             CALL: CALL DDS$BLD_SHOW ALTRET( ERROR );
     3053    17486             INTERFACE: DDS$DECIMAL
     3054    17487             ENVIRONMENT: DDS$SCAN ACTIVE
     3055    17488             INPUT: NCMD$ - PTR TO "SHOW" NODE.
     3056    17489             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3057    17490             SCRATCH: LOCAL AUTO ONLY.
     3058    17491             DESCRIPTION: */
     3059    17492
     3060    17493    1   DDS$BLD_SHOW: PROC ALTRET;

  17493  1 011252   200012 741300       DDS$BLD_SHOW STX1  ! ZITEM$+3,,AUTO

     3061    17494
     3062    17495    2   DCL N$ PTR;
     3063    17496    2   DCL V UBIN;
     3064    17497    2   DCL V1 UBIN;
     3065    17498    2   DCL NC$ PTR;
     3066    17499    2   DCL TEXT$ PTR;
     3067    17500        %SHOW$CMD (STCLASS="BASED(LASTBLT$)");
     3068    17522
     3069    17523    2        CALL DDS$ATTDIRA( SIZEW( SHOW$CMD ), 44 ) ALTRET( ARET ); /* C_SHOW */

  17523  1 011253   000141 630400 2                  EPPR0   97
         1 011254   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 011255   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 011256   011620 702000 1                  TSX2    ARET

     3070    17524    2        IF ( NCMD$ -> POB.NSB = 0 )

  17524  1 011257   200004 470500                    LDP0    NCMD$,,AUTO
         1 011260   000001 220100                    LDX0    1,,PR0
         1 011261   011266 601000 1                  TNZ     s:17529

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:459  
     3071    17525    3        THEN DO;

     3072    17526    3   ASML:     SHOW$CMD.TYPE = 301;   /* S@ALLSMALL */

  17526  1 011262   200005 470500       ASML         LDP0    LASTBLT$,,AUTO
         1 011263   455000 236003                    LDQ     -108032,DU
         1 011264   000001 552140                    STBQ    1,'40'O,PR0

     3073    17527    3             GOTO RETN;

  17527  1 011265   011577 710000 1                  TRA     RETN

     3074    17528    3           END;
     3075    17529    2        SHOW$CMD.DESTCODE = 0;

  17529  1 011266   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 011267   100015 450100                    STZ     13,,PR1

     3076    17530    2        N$ = NCMD$ -> POB.SUBLK$( 0 );

  17530  1 011270   000003 236100                    LDQ     3,,PR0
         1 011271   200013 756100                    STQ     N$,,AUTO

     3077    17531    3        IF N$->POB.CODE = 390 OR N$->POB.CODE = 392 OR N$->POB.CODE = 391 THEN DO;

  17531  1 011272   200013 473500                    LDP3    N$,,AUTO
         1 011273   300000 720100                    LXL0    0,,PR3
         1 011274   000606 100003                    CMPX0   390,DU
         1 011275   011302 600000 1                  TZE     s:17532
         1 011276   000610 100003                    CMPX0   392,DU
         1 011277   011302 600000 1                  TZE     s:17532
         1 011300   000607 100003                    CMPX0   391,DU
         1 011301   011316 601000 1                  TNZ     s:17536

     3078    17532    3             SHOW$CMD.DESTCODE = N$->POB.CODE;

  17532  1 011302   300000 236100                    LDQ     0,,PR3
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:460  
         1 011303   777777 376007                    ANQ     -1,DL
         1 011304   100015 756100                    STQ     13,,PR1

     3079    17533    3             SHOW$CMD.FID = NCMD$->POB.SUBLK$(1)->POB.SUBLK$(0)->TEXT$C;

  17533  1 011305   000004 474500                    LDP4    4,,PR0
         1 011306   400003 475500                    LDP5    3,,PR4
         1 011307   500000 236100                    LDQ     0,,PR5
         1 011310   000033 772000                    QRL     27
         1 011311   000001 620006                    EAX0    1,QL
         1 011312   000100 100540                    MLR     fill='000'O
         1 011313   500000 000010                    ADSC9   0,,PR5                   cn=0,n=*X0
         1 011314   100016 000100                    ADSC9   14,,PR1                  cn=0,n=64

     3080    17534    3             GOTO ASML;

  17534  1 011315   011262 710000 1                  TRA     ASML

     3081    17535    3           END;
     3082    17536    2        SHOW$CMD.TYPE = N$ -> POB.CODE;

  17536  1 011316   300000 236100                    LDQ     0,,PR3
         1 011317   000033 736000                    QLS     27
         1 011320   100001 552140                    STBQ    1,'40'O,PR1

     3083    17537    3        DO CASE( SHOW$CMD.TYPE );

  17537  1 011321   100001 236100                    LDQ     1,,PR1
         1 011322   000033 772000                    QRL     27
         1 011323   000430 136007                    SBLQ    280,DL
         1 011324   000053 116007                    CMPQ    43,DL
         1 011325   011327 602006 1                  TNC     s:17537+6,QL
         1 011326   011552 710000 1                  TRA     s:17606
         1 011327   011556 710000 1                  TRA     s:17609
         1 011330   011556 710000 1                  TRA     s:17609
         1 011331   011556 710000 1                  TRA     s:17609
         1 011332   011556 710000 1                  TRA     s:17609
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:461  
         1 011333   011556 710000 1                  TRA     s:17609
         1 011334   011556 710000 1                  TRA     s:17609
         1 011335   011556 710000 1                  TRA     s:17609
         1 011336   011556 710000 1                  TRA     s:17609
         1 011337   011556 710000 1                  TRA     s:17609
         1 011340   011556 710000 1                  TRA     s:17609
         1 011341   011556 710000 1                  TRA     s:17609
         1 011342   011556 710000 1                  TRA     s:17609
         1 011343   011405 710000 1                  TRA     s:17553
         1 011344   011410 710000 1                  TRA     s:17555
         1 011345   011413 710000 1                  TRA     s:17557
         1 011346   011421 710000 1                  TRA     s:17560
         1 011347   011425 710000 1                  TRA     s:17563
         1 011350   011556 710000 1                  TRA     s:17609
         1 011351   011552 710000 1                  TRA     s:17606
         1 011352   011556 710000 1                  TRA     s:17609
         1 011353   011556 710000 1                  TRA     s:17609
         1 011354   011552 710000 1                  TRA     s:17606
         1 011355   011502 710000 1                  TRA     s:17578
         1 011356   011505 710000 1                  TRA     s:17580
         1 011357   011514 710000 1                  TRA     s:17584
         1 011360   011556 710000 1                  TRA     s:17609
         1 011361   011517 710000 1                  TRA     s:17587
         1 011362   011522 710000 1                  TRA     s:17589
         1 011363   011525 710000 1                  TRA     s:17591
         1 011364   011556 710000 1                  TRA     s:17609
         1 011365   011530 710000 1                  TRA     s:17594
         1 011366   011556 710000 1                  TRA     s:17609
         1 011367   011552 710000 1                  TRA     s:17606
         1 011370   011533 710000 1                  TRA     s:17597
         1 011371   011556 710000 1                  TRA     s:17609
         1 011372   011556 710000 1                  TRA     s:17609
         1 011373   011552 710000 1                  TRA     s:17606
         1 011374   011552 710000 1                  TRA     s:17606
         1 011375   011556 710000 1                  TRA     s:17609
         1 011376   011536 710000 1                  TRA     s:17602
         1 011377   011552 710000 1                  TRA     s:17606
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:462  
         1 011400   011552 710000 1                  TRA     s:17606
         1 011401   011402 710000 1                  TRA     s:17546

     3084    17538    3          CASE ( 280 );                  /* ALL */

     3085    17539    3          CASE ( 281 );                  /* ATS */

     3086    17540    3          CASE ( 282 );                 /* DEFS */

     3087    17541    3          CASE ( 283 );                 /* STEP */

     3088    17542    3          CASE ( 284 );               /* SCHEMA */

     3089    17543    3          CASE ( 285 );               /* REPORT */

     3090    17544    3          CASE ( 286 );                /* SAVES */

     3091    17545    3          CASE ( 322 );               /* STATUS */

     3092    17546    3             IF D_XDELTA THEN GOTO ERR7;

  17546  1 011402   000000 234000 xsym               SZN     D_XDELTA
         1 011403   011614 604000 1                  TMI     ERR7
         1 011404   011556 710000 1                  TRA     s:17609

     3093    17547    3          CASE ( 287 );                /* TRACE */

     3094    17548    3          CASE ( 288 );                /* WHENS */

     3095    17549    3          CASE ( 289 );                 /* KEEP */

     3096    17550    3          CASE ( 290 );                  /* USE */

     3097    17551    3          CASE ( 291 );                /* ON CALLS */

     3098    17552    3          CASE ( 292 );                /* ON ABORT */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:463  
     3099    17553    3             IF D_XDELTA THEN GOTO ERR7;

  17553  1 011405   000000 234000 xsym               SZN     D_XDELTA
         1 011406   011614 604000 1                  TMI     ERR7
         1 011407   011556 710000 1                  TRA     s:17609

     3100    17554    3          CASE ( 293 );                 /* ON EXIT */

     3101    17555    3             IF D_XDELTA THEN GOTO ERR7;

  17555  1 011410   000000 234000 xsym               SZN     D_XDELTA
         1 011411   011614 604000 1                  TMI     ERR7
         1 011412   011556 710000 1                  TRA     s:17609

     3102    17556    3          CASE ( 294 );                /* ON NODES */

     3103    17557    3             IF D_XDELTA THEN GOTO ERR7;

  17557  1 011413   000000 234000 xsym               SZN     D_XDELTA
         1 011414   011614 604000 1                  TMI     ERR7

     3104    17558    3             IF NOT S_D.OVERLAID THEN GOTO ENOV;

  17558  1 011415   000000 474400 xsym               LDP4    S_D$
         1 011416   404764 234100                    SZN     2548,,PR4
         1 011417   011601 605000 1                  TPL     ENOV
         1 011420   011556 710000 1                  TRA     s:17609

     3105    17559    3          CASE ( 295 );              /* ABBREVS */

     3106    17560    3             S_D.ERROR = 34;         /* E@NOTYET */

  17560  1 011421   000042 235007                    LDA     34,DL
         1 011422   000000 474400 xsym               LDP4    S_D$
         1 011423   400013 755100                    STA     11,,PR4

     3107    17561    3             GOTO ARET;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:464  

  17561  1 011424   011620 710000 1                  TRA     ARET

     3108    17562    3          CASE ( 296 );               /* id TO id */

     3109    17563    3             CALL DDS$DECIMAL( N$ -> POB.SUBLK$( 0 ), V ) ALTRET( ARET );

  17563  1 011425   200014 634500                    EPPR4   V,,AUTO
         1 011426   200051 454500                    STP4    @ND_PTR+2,,AUTO
         1 011427   200013 236100                    LDQ     N$,,AUTO
         1 011430   000003 036003                    ADLQ    3,DU
         1 011431   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 011432   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 011433   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 011434   000000 701000 xent               TSX1    DDS$DECIMAL
         1 011435   011620 702000 1                  TSX2    ARET

     3110    17564    3             SHOW$CMD.ID_FROM = V;

  17564  1 011436   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 011437   200014 236100                    LDQ     V,,AUTO
         1 011440   000022 736000                    QLS     18
         1 011441   000001 552120                    STBQ    1,'20'O,PR0

     3111    17565    3             SHOW$CMD.ID_TO = V;

  17565  1 011442   200014 236100                    LDQ     V,,AUTO
         1 011443   000011 736000                    QLS     9
         1 011444   000001 552110                    STBQ    1,'10'O,PR0

     3112    17566    3             IF ( V < 1 ) OR ( V > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1 ) THEN
             17566                      GOTO ERR1;

  17566  1 011445   200014 235100                    LDA     V,,AUTO
         1 011446   011610 600000 1                  TZE     ERR1
         1 011447   000454 115007                    CMPA    300,DL
         1 011450   011610 603000 1                  TRC     ERR1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:465  

     3113    17567    3             IF ( N$ -> POB.NSB > 1 )

  17567  1 011451   200013 471500                    LDP1    N$,,AUTO
         1 011452   100001 220100                    LDX0    1,,PR1
         1 011453   000002 100003                    CMPX0   2,DU
         1 011454   011556 602000 1                  TNC     s:17609

     3114    17568    4             THEN DO;

     3115    17569    4                  CALL DDS$DECIMAL( N$ -> POB.SUBLK$( 1 ), V1 ) ALTRET( ARET );

  17569  1 011455   200015 633500                    EPPR3   V1,,AUTO
         1 011456   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 011457   200013 236100                    LDQ     N$,,AUTO
         1 011460   000004 036003                    ADLQ    4,DU
         1 011461   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 011462   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 011463   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 011464   000000 701000 xent               TSX1    DDS$DECIMAL
         1 011465   011620 702000 1                  TSX2    ARET

     3116    17570    4                  SHOW$CMD.ID_TO = V1;

  17570  1 011466   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 011467   200015 236100                    LDQ     V1,,AUTO
         1 011470   000011 736000                    QLS     9
         1 011471   000001 552110                    STBQ    1,'10'O,PR0

     3117    17571    4                  IF ( V1 < 1 ) OR ( V1 > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0)))-1 )
             17571                           THEN GOTO ERR1;

  17571  1 011472   200015 235100                    LDA     V1,,AUTO
         1 011473   011610 600000 1                  TZE     ERR1
         1 011474   000454 115007                    CMPA    300,DL
         1 011475   011610 603000 1                  TRC     ERR1

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:466  
     3118    17572    4                  IF ( V1 < V ) THEN GOTO EFTO;

  17572  1 011476   200015 236100                    LDQ     V1,,AUTO
         1 011477   200014 116100                    CMPQ    V,,AUTO
         1 011500   011604 602000 1                  TNC     EFTO

     3119    17573    4                END;

  17573  1 011501   011556 710000 1                  TRA     s:17609

     3120    17574    3          CASE( 297 );                /* BYPASS */

     3121    17575    3          CASE( 299 );                   /* DIC */

     3122    17576    3          CASE( 300 );                 /* RANGE */

     3123    17577    3          CASE ( 302 );                  /* EOM */

     3124    17578    3             IF D_XDELTA THEN GOTO ERR7;

  17578  1 011502   000000 234000 xsym               SZN     D_XDELTA
         1 011503   011614 604000 1                  TMI     ERR7
         1 011504   011556 710000 1                  TRA     s:17609

     3125    17579    3          CASE ( 303 );               /* FORMAT */

     3126    17580    3             IF N$ -> POB.NSB > 0

  17580  1 011505   300001 220100                    LDX0    1,,PR3
         1 011506   011556 600000 1                  TZE     s:17609

     3127    17581    3             THEN SHOW$CMD.ID_FROM = N$ -> POB.SUBLK$( 0 ) -> POB.CODE;

  17581  1 011507   300003 474500                    LDP4    3,,PR3
         1 011510   400000 236100                    LDQ     0,,PR4
         1 011511   000022 736000                    QLS     18
         1 011512   100001 552120                    STBQ    1,'20'O,PR1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:467  
         1 011513   011556 710000 1                  TRA     s:17609

     3128    17582        /*********ELSE SHOW$CMD.ID_FROM = 0;*********/
     3129    17583    3          CASE ( 304 );                 /* COPY */

     3130    17584    3             IF D_XDELTA THEN GOTO ERR7;

  17584  1 011514   000000 234000 xsym               SZN     D_XDELTA
         1 011515   011614 604000 1                  TMI     ERR7
         1 011516   011556 710000 1                  TRA     s:17609

     3131    17585    3          CASE ( 305 );                 /* ECHO */

     3132    17586    3          CASE ( 306 );               /* IGNORE */

     3133    17587    3             IF D_XDELTA THEN GOTO ERR7;

  17587  1 011517   000000 234000 xsym               SZN     D_XDELTA
         1 011520   011614 604000 1                  TMI     ERR7
         1 011521   011556 710000 1                  TRA     s:17609

     3134    17588    3          CASE ( 307 );                 /* TRAP */

     3135    17589    3             IF D_XDELTA THEN GOTO ERR7;

  17589  1 011522   000000 234000 xsym               SZN     D_XDELTA
         1 011523   011614 604000 1                  TMI     ERR7
         1 011524   011556 710000 1                  TRA     s:17609

     3136    17590    3          CASE ( 308 );                  /* RUM */

     3137    17591    3             IF D_XDELTA THEN GOTO ERR7;

  17591  1 011525   000000 234000 xsym               SZN     D_XDELTA
         1 011526   011614 604000 1                  TMI     ERR7
         1 011527   011556 710000 1                  TRA     s:17609

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:468  
     3138    17592    3          CASE ( 309 );               /* ALTVAR */

     3139    17593    3          CASE ( 310 );                 /* ANLZ */

     3140    17594    3             IF D_XDELTA THEN GOTO ERR7;

  17594  1 011530   000000 234000 xsym               SZN     D_XDELTA
         1 011531   011614 604000 1                  TMI     ERR7
         1 011532   011556 710000 1                  TRA     s:17609

     3141    17595    3          CASE ( 311 );               /* SYNTAX */

     3142    17596    3          CASE ( 313 );                  /* SAD */

     3143    17597    3             IF D_XDELTA THEN GOTO ERR7;

  17597  1 011533   000000 234000 xsym               SZN     D_XDELTA
         1 011534   011614 604000 1                  TMI     ERR7
         1 011535   011556 710000 1                  TRA     s:17609

     3144    17598    3          CASE ( 314 );              /* PROTECT */

     3145    17599    3          CASE ( 315 );                /* DEBUG */

     3146    17600    3          CASE ( 318 );                /* FPRGS */

     3147    17601    3          CASE ( 319 );            /* FPRG-Res */

     3148    17602    3             NC$ = N$  -> POB.SUBLK$(0);

  17602  1 011536   300003 236100                    LDQ     3,,PR3
         1 011537   200016 756100                    STQ     NC$,,AUTO

     3149    17603    3             SHOW$CMD.FPRG_RES = NC$ -> SYM.TEXT;

  17603  1 011540   200016 474500                    LDP4    NC$,,AUTO
         1 011541   400004 236100                    LDQ     4,,PR4
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:469  
         1 011542   000033 772000                    QRL     27
         1 011543   000000 620006                    EAX0    0,QL
         1 011544   040100 100540                    MLR     fill='040'O
         1 011545   400004 200010                    ADSC9   4,,PR4                   cn=1,n=*X0
         1 011546   100003 000010                    ADSC9   3,,PR1                   cn=0,n=8

     3150    17604    3             SHOW$CMD.FPRG = '1'B;

  17604  1 011547   400000 236003                    LDQ     -131072,DU
         1 011550   100002 256100                    ORSQ    2,,PR1
         1 011551   011556 710000 1                  TRA     s:17609

     3151    17605    3          CASE ( ELSE );

     3152    17606    3             S_D.ERROR = 607;       /* E@SHOWCASE */

  17606  1 011552   001137 235007                    LDA     607,DL
         1 011553   000000 474400 xsym               LDP4    S_D$
         1 011554   400013 755100                    STA     11,,PR4

     3153    17607    3             GOTO ARET;

  17607  1 011555   011620 710000 1                  TRA     ARET

     3154    17608    3          END;

     3155    17609    3        IF NCMD$->POB.NSB > 1 THEN DO;

  17609  1 011556   200004 470500                    LDP0    NCMD$,,AUTO
         1 011557   000001 220100                    LDX0    1,,PR0
         1 011560   000002 100003                    CMPX0   2,DU
         1 011561   011577 602000 1                  TNC     RETN

     3156    17610    3             SHOW$CMD.DESTCODE = NCMD$->POB.SUBLK$(1)->POB.CODE;

  17610  1 011562   000004 471500                    LDP1    4,,PR0
         1 011563   100000 236100                    LDQ     0,,PR1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:470  
         1 011564   777777 376007                    ANQ     -1,DL
         1 011565   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 011566   300015 756100                    STQ     13,,PR3

     3157    17611    3             SHOW$CMD.FID = NCMD$->POB.SUBLK$(2)->POB.SUBLK$(0)->TEXT$C;

  17611  1 011567   000005 471500                    LDP1    5,,PR0
         1 011570   100003 474500                    LDP4    3,,PR1
         1 011571   400000 236100                    LDQ     0,,PR4
         1 011572   000033 772000                    QRL     27
         1 011573   000001 620006                    EAX0    1,QL
         1 011574   000100 100540                    MLR     fill='000'O
         1 011575   400000 000010                    ADSC9   0,,PR4                   cn=0,n=*X0
         1 011576   300016 000100                    ADSC9   14,,PR3                  cn=0,n=64

     3158    17612    3           END;

     3159    17613
     3160    17614    2   RETN: RETURN;

  17614  1 011577   200012 221300       RETN         LDX1  ! ZITEM$+3,,AUTO
         1 011600   000001 702211                    TSX2  ! 1,X1

     3161    17615
     3162    17616    2   ENOV: S_D.ERROR = 117; GOTO ARET; /* E@NOT_OVERLAID */

  17616  1 011601   000165 235007       ENOV         LDA     117,DL
         1 011602   400013 755100                    STA     11,,PR4

  17616  1 011603   011620 710000 1                  TRA     ARET

     3163    17617    2   EFTO: S_D.ERROR = 63; GOTO ARET; /* E@FROM_TO */

  17617  1 011604   000077 235007       EFTO         LDA     63,DL
         1 011605   000000 471400 xsym               LDP1    S_D$
         1 011606   100013 755100                    STA     11,,PR1

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:471  
  17617  1 011607   011620 710000 1                  TRA     ARET

     3164    17618    2   ERR1: S_D.ERROR = 12; GOTO ARET;   /* E@UERR1 */

  17618  1 011610   000014 235007       ERR1         LDA     12,DL
         1 011611   000000 471400 xsym               LDP1    S_D$
         1 011612   100013 755100                    STA     11,,PR1

  17618  1 011613   011620 710000 1                  TRA     ARET

     3165    17619    2   ERR7: S_D.ERROR = 18; GOTO ARET;   /* E@UERR7 */

  17619  1 011614   000022 235007       ERR7         LDA     18,DL
         1 011615   000000 474400 xsym               LDP4    S_D$
         1 011616   400013 755100                    STA     11,,PR4

  17619  1 011617   011620 710000 1                  TRA     ARET

     3166    17620    2   ARET: ALTRETURN;

  17620  1 011620   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 011621   000000 702211                    TSX2  ! 0,X1

     3167    17621
     3168    17622    2   END DDS$BLD_SHOW;
     3169    17623        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:472  
     3170    17624        /*F* NAME: DDS$BLD_STEP
     3171    17625             PURPOSE: TO BUILD THE STEP ATTACHMENT
     3172    17626             DESCRIPTION: BUILDS THE STEP ATTACHMENT  */
     3173    17627
     3174    17628    1   DDS$BLD_STEP: PROC ALTRET;

  17628  1 011622   200012 741300       DDS$BLD_STEP STX1  ! ZITEM$+3,,AUTO

     3175    17629                                                /* LOCAL TEMPS */
     3176    17630    2   DCL TEMP SBIN;
     3177    17631    2   DCL NC$ PTR;
     3178    17632    2   DCL NCD UBIN;
     3179    17633        %DOO (NAME=STEP$CMD,STCLASS="BASED(LASTBLT$)");
     3180    17648
     3181    17649    2        CALL DDS$ATTDIRA(SIZEW(STEP$CMD), 57) /* C_STEP */

  17649  1 011623   000144 630400 2                  EPPR0   100
         1 011624   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 011625   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 011626   011675 702000 1                  TSX2    ALTRT

     3182    17650    2          ALTRET(ALTRT);
     3183    17651    2        IF S_D.SACT

  17651  1 011627   000000 470400 xsym               LDP0    S_D$
         1 011630   000501 234100                    SZN     321,,PR0
         1 011631   011635 605000 1                  TPL     s:17653

     3184    17652    2        THEN STEP$CMD.SACT = '1'B;

  17652  1 011632   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 011633   000400 236007                    LDQ     256,DL
         1 011634   100001 256100                    ORSQ    1,,PR1

     3185    17653    2        TEMP = 1;

  17653  1 011635   000001 235007                    LDA     1,DL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:473  
         1 011636   200013 755100                    STA     TEMP,,AUTO

     3186    17654    2        IF NCMD$ -> POB.NSB > 0

  17654  1 011637   200004 471500                    LDP1    NCMD$,,AUTO
         1 011640   100001 220100                    LDX0    1,,PR1
         1 011641   011670 600000 1                  TZE     s:17665

     3187    17655    3        THEN DO;

     3188    17656    3             NC$ = NCMD$ -> POB.SUBLK$( 0 );

  17656  1 011642   100003 236100                    LDQ     3,,PR1
         1 011643   200014 756100                    STQ     NC$,,AUTO

     3189    17657    3             NCD = NC$ -> POB.CODE;

  17657  1 011644   200014 473500                    LDP3    NC$,,AUTO
         1 011645   300000 236100                    LDQ     0,,PR3
         1 011646   777777 376007                    ANQ     -1,DL
         1 011647   200015 756100                    STQ     NCD,,AUTO

     3190    17658    3             IF NCD = 8             /* DEC_CODE */

  17658  1 011650   000010 116007                    CMPQ    8,DL
         1 011651   011663 601000 1                  TNZ     s:17661

     3191    17659    3             THEN CALL DDS$DECIMAL( NC$, TEMP ) ALTRET( ALTRT );

  17659  1 011652   200013 634500                    EPPR4   TEMP,,AUTO
         1 011653   200051 454500                    STP4    @ND_PTR+2,,AUTO
         1 011654   200014 635500                    EPPR5   NC$,,AUTO
         1 011655   200050 455500                    STP5    @ND_PTR+1,,AUTO
         1 011656   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 011657   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 011660   000000 701000 xent               TSX1    DDS$DECIMAL
         1 011661   011675 702000 1                  TSX2    ALTRT
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:474  
         1 011662   011670 710000 1                  TRA     s:17665

     3192    17660    4             ELSE DO;

     3193    17661    4                  STEP$CMD.SETTYPE = '1'B;

  17661  1 011663   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 011664   400000 236007                    LDQ     -131072,DL
         1 011665   400001 256100                    ORSQ    1,,PR4

     3194    17662    4                  TEMP = NCD;

  17662  1 011666   200015 235100                    LDA     NCD,,AUTO
         1 011667   200013 755100                    STA     TEMP,,AUTO

     3195    17663    4                END;

     3196    17664    3           END;

     3197    17665    2        STEP$CMD.ID = TEMP;

  17665  1 011670   200013 720100                    LXL0    TEMP,,AUTO
         1 011671   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 011672   000001 740100                    STX0    1,,PR0

     3198    17666    2        RETURN;

  17666  1 011673   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 011674   000001 702211                    TSX2  ! 1,X1

     3199    17667    2   ALTRT:
     3200    17668    2        ALTRETURN;

  17668  1 011675   200012 221300       ALTRT        LDX1  ! ZITEM$+3,,AUTO
         1 011676   000000 702211                    TSX2  ! 0,X1

     3201    17669    2   END DDS$BLD_STEP;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:475  
     3202    17670        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:476  
     3203    17671        /*F* NAME: DDS$BLD_STOP
     3204    17672             PURPOSE: TO BUILD THE STOP COMMAND
     3205    17673             DESCRIPTION: BUILDS THE STOP COMMAND */
     3206    17674
     3207    17675    1   DDS$BLD_STOP: PROC ALTRET;

  17675  1 011677   200012 741300       DDS$BLD_STOP STX1  ! ZITEM$+3,,AUTO

     3208    17676        %QUIT$CMD (NAME=STOP$CMD,STCLASS="BASED(LASTBLT$)");
     3209    17688    2   DCL NSB SBIN;
     3210    17689    2   DCL IX SBIN;
     3211    17690        /* NSB and IX must be SBIN */
     3212    17691    2   DCL NC$ PTR;
     3213    17692    2   DCL CODE UBIN;
     3214    17693    2   DCL TEXT$ PTR;
     3215    17694    2   DCL V UBIN;
     3216    17695
     3217    17696    2        IF S_D.DO_ATTACH ~= 0 AND D_XDELTA

  17696  1 011700   000000 470400 xsym               LDP0    S_D$
         1 011701   000512 235100                    LDA     330,,PR0
         1 011702   011710 600000 1                  TZE     s:17701
         1 011703   000000 234000 xsym               SZN     D_XDELTA
         1 011704   011710 605000 1                  TPL     s:17701

     3218    17697    3        THEN DO;                           /* 'STOP' IS NOT ATTACHABLE */

     3219    17698    3             S_D.ERROR = 47;         /* E@NOTATT */

  17698  1 011705   000057 236007                    LDQ     47,DL
         1 011706   000013 756100                    STQ     11,,PR0

     3220    17699    3             GOTO ALTRT;

  17699  1 011707   011767 710000 1                  TRA     ALTRT

     3221    17700    3           END;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:477  
     3222    17701    2        CALL DDS$ATTDIRA(SIZEW(STOP$CMD), 83) /* C_STOP */

  17701  1 011710   000147 630400 2                  EPPR0   103
         1 011711   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 011712   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 011713   011767 702000 1                  TSX2    ALTRT

     3223    17702    2          ALTRET(ALTRT);
     3224    17703    2        NSB = NCMD$ -> POB.NSB - 1;

  17703  1 011714   200004 470500                    LDP0    NCMD$,,AUTO
         1 011715   000001 236100                    LDQ     1,,PR0
         1 011716   000022 772000                    QRL     18
         1 011717   000001 136007                    SBLQ    1,DL
         1 011720   200013 756100                    STQ     NSB,,AUTO

     3225    17704    3        DO IX = 0 TO NSB;

  17704  1 011721   200014 450100                    STZ     IX,,AUTO
         1 011722   011762 710000 1                  TRA     s:17719+1

     3226    17705    3             NC$ = NCMD$ -> POB.SUBLK$( IX );

  17705  1 011723   200004 470500                    LDP0    NCMD$,,AUTO
         1 011724   200014 720100                    LXL0    IX,,AUTO
         1 011725   000003 236110                    LDQ     3,X0,PR0
         1 011726   200015 756100                    STQ     NC$,,AUTO

     3227    17706    3             CODE = NC$ -> POB.CODE;

  17706  1 011727   200015 471500                    LDP1    NC$,,AUTO
         1 011730   100000 236100                    LDQ     0,,PR1
         1 011731   777777 376007                    ANQ     -1,DL
         1 011732   200016 756100                    STQ     CODE,,AUTO

     3228    17707    3             IF CODE = 112            /* RES_CODE */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:478  
  17707  1 011733   000160 116007                    CMPQ    112,DL
         1 011734   011747 601000 1                  TNZ     s:17712

     3229    17708    4             THEN DO;

     3230    17709    4                  STOP$CMD.FPRG = '1'B;

  17709  1 011735   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 011736   400000 236003                    LDQ     -131072,DU
         1 011737   300001 256100                    ORSQ    1,,PR3

     3231    17710    4                  STOP$CMD.FPRG_RES = NC$ -> SYM.TEXT;

  17710  1 011740   100004 236100                    LDQ     4,,PR1
         1 011741   000033 772000                    QRL     27
         1 011742   000000 621006                    EAX1    0,QL
         1 011743   040100 100540                    MLR     fill='040'O
         1 011744   100004 200011                    ADSC9   4,,PR1                   cn=1,n=*X1
         1 011745   300002 000010                    ADSC9   2,,PR3                   cn=0,n=8

     3232    17711    4                END;

  17711  1 011746   011761 710000 1                  TRA     s:17719

     3233    17712    3             ELSE IF CODE = 530

  17712  1 011747   001022 116007                    CMPQ    530,DL
         1 011750   011755 601000 1                  TNZ     s:17716

     3234    17713    3                  THEN
     3235    17714    3                       STOP$CMD.FPRG = '0'B;

  17714  1 011751   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 011752   000031 236000 xsym               LDQ     B_VECTNIL+25
         1 011753   300001 356100                    ANSQ    1,,PR3
         1 011754   011761 710000 1                  TRA     s:17719

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:479  
     3236    17715    4                  ELSE DO;

     3237    17716    4                       S_D.ERROR = 501; /* E@DERR1 */

  17716  1 011755   000765 235007                    LDA     501,DL
         1 011756   000000 473400 xsym               LDP3    S_D$
         1 011757   300013 755100                    STA     11,,PR3

     3238    17717    4                       GOTO ALTRT;

  17717  1 011760   011767 710000 1                  TRA     ALTRT

     3239    17718    4                     END;
     3240    17719    3           END;

  17719  1 011761   200014 054100                    AOS     IX,,AUTO
         1 011762   200014 236100                    LDQ     IX,,AUTO
         1 011763   200013 116100                    CMPQ    NSB,,AUTO
         1 011764   011723 604400 1                  TMOZ    s:17705

     3241    17720    2        RETURN;

  17720  1 011765   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 011766   000001 702211                    TSX2  ! 1,X1

     3242    17721    2   ALTRT:
     3243    17722    2        ALTRETURN;

  17722  1 011767   200012 221300       ALTRT        LDX1  ! ZITEM$+3,,AUTO
         1 011770   000000 702211                    TSX2  ! 0,X1

     3244    17723    2   END DDS$BLD_STOP;
     3245    17724        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:480  
     3246    17725        /*F* NAME: DDS$BLD_SYNTAX
     3247    17726             PURPOSE: TO BUILD THE SYNTAX COMMAND.
     3248    17727             DESCRIPTION: BUILDS THE SYNTAX COMMAND. */
     3249    17728        /*D* NAME: DDS$BLD_SYNTAX
     3250    17729             CALL: CALL DDS$BLD_SYNTAX ALTRET( ERROR );
     3251    17730             INTERFACE: DDS$ATTDIRA
     3252    17731             ENVIRONMENT: DDS$SCAN ACTIVE
     3253    17732             INPUT: NCMD$ - PTR TO "SYNTAX" NODE.
     3254    17733             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3255    17734             SCRATCH: LOCAL AUTO ONLY.
     3256    17735             DESCRIPTION: */
     3257    17736
     3258    17737    1   DDS$BLD_SYNTAX: PROC ALTRET;

  17737  1 011771   200012 741300       DDS$BLD_SYN* STX1  ! ZITEM$+3,,AUTO

     3259    17738
     3260    17739        %DOO (NAME=SYNTAX$CMD,STCLASS="BASED(LASTBLT$)");
     3261    17754    2        CALL DDS$ATTDIRA( SIZEW( SYNTAX$CMD ), 79 ) ALTRET( ARET );

  17754  1 011772   000152 630400 2                  EPPR0   106
         1 011773   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 011774   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 011775   012007 702000 1                  TSX2    ARET

     3262    17755    2        IF NCMD$ -> POB.NSB > 0

  17755  1 011776   200004 470500                    LDP0    NCMD$,,AUTO
         1 011777   000001 220100                    LDX0    1,,PR0
         1 012000   012005 600000 1                  TZE     s:17759

     3263    17756    2        THEN SYNTAX$CMD.ID = NCMD$ -> POB.SUBLK$( 0) -> POB.CODE;

  17756  1 012001   000003 471500                    LDP1    3,,PR0
         1 012002   100000 721100                    LXL1    0,,PR1
         1 012003   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 012004   300001 741100                    STX1    1,,PR3
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:481  

     3264    17757        /****ELSE SYNTAX$CMD.ID = 0;****/
     3265    17758
     3266    17759    2        RETURN;

  17759  1 012005   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 012006   000001 702211                    TSX2  ! 1,X1

     3267    17760
     3268    17761    2   ARET: ALTRETURN;

  17761  1 012007   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 012010   000000 702211                    TSX2  ! 0,X1

     3269    17762
     3270    17763    2   END DDS$BLD_SYNTAX;
     3271    17764             %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:482  
     3272    17765        /*F* NAME: DDS$BLD_TRACE
     3273    17766             PURPOSE: TO BUILD THE TRACE COMMAND.
     3274    17767             DESCRIPTION: BUILDS THE TRACE COMMAND. */
     3275    17768        /*D* NAME: DDS$BLD_TRACE
     3276    17769             CALL: CALL DDS$BLD_TRACE ALTRET( ERROR );
     3277    17770             INTERFACE: DDS$ATTDIRA
     3278    17771             ENVIRONMENT: DDS$SCAN ACTIVE
     3279    17772             INPUT: NCMD$ - PTR TO "TRACE" NODE.
     3280    17773             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3281    17774             SCRATCH: LOCAL AUTO ONLY.
     3282    17775             DESCRIPTION: */
     3283    17776
     3284    17777    1   DDS$BLD_TRACE: PROC ALTRET;

  17777  1 012011   200012 741300       DDS$BLD_TRA* STX1  ! ZITEM$+3,,AUTO

     3285    17778
     3286    17779    2   DCL NSB SBIN;
     3287    17780    2   DCL IX SBIN;
     3288    17781        /*D* NSB & IX must be SBIN */
     3289    17782    2   DCL NC$ PTR;
     3290    17783    2   DCL CODE UBIN;
     3291    17784    2   DCL V UBIN;
     3292    17785    2   DCL TCODE UBIN;
     3293    17786    2   DCL SILENT BIT(1) ALIGNED;
     3294    17787    2   DCL ON BIT(1) ALIGNED;
     3295    17788        %FPRG$CONTEXT;
     3296    17851        %TR$CMD (NAME=TRACE$CMD,STCLASS="BASED(LASTBLT$)");
     3297    17867
     3298    17868    2        CALL DDS$ATTDIRA( SIZEW( TRACE$CMD ), 26 ) ALTRET( ARET ); /* C_T */

  17868  1 012012   000155 630400 2                  EPPR0   109
         1 012013   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 012014   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 012015   012217 702000 1                  TSX2    ARET

     3299    17869    2        TCODE = 49;                     /* C_TON - DEFAULT */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:483  

  17869  1 012016   000061 235007                    LDA     49,DL
         1 012017   200020 755100                    STA     TCODE,,AUTO

     3300    17870    2        ON = '0'B;

  17870  1 012020   200022 450100                    STZ     ON,,AUTO

     3301    17871    2        SILENT = '0'B;

  17871  1 012021   200021 450100                    STZ     SILENT,,AUTO

     3302    17872    2        NSB = NCMD$ -> POB.NSB - 1;

  17872  1 012022   200004 470500                    LDP0    NCMD$,,AUTO
         1 012023   000001 236100                    LDQ     1,,PR0
         1 012024   000022 772000                    QRL     18
         1 012025   000001 136007                    SBLQ    1,DL
         1 012026   200013 756100                    STQ     NSB,,AUTO

     3303    17873    3        DO IX = 0 TO NSB;

  17873  1 012027   200014 450100                    STZ     IX,,AUTO
         1 012030   012136 710000 1                  TRA     s:17906+1

     3304    17874    3             NC$ = NCMD$ -> POB.SUBLK$( IX );

  17874  1 012031   200004 470500                    LDP0    NCMD$,,AUTO
         1 012032   200014 720100                    LXL0    IX,,AUTO
         1 012033   000003 236110                    LDQ     3,X0,PR0
         1 012034   200015 756100                    STQ     NC$,,AUTO

     3305    17875    3             CODE = NC$ -> POB.CODE;

  17875  1 012035   200015 471500                    LDP1    NC$,,AUTO
         1 012036   100000 236100                    LDQ     0,,PR1
         1 012037   777777 376007                    ANQ     -1,DL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:484  
         1 012040   200016 756100                    STQ     CODE,,AUTO

     3306    17876    3             IF CODE = 49               /* C_TON */

  17876  1 012041   000061 116007                    CMPQ    49,DL
         1 012042   012045 601000 1                  TNZ     s:17878

     3307    17877    3             THEN ON = '1'B;

  17877  1 012043   400000 236003                    LDQ     -131072,DU
         1 012044   200022 756100                    STQ     ON,,AUTO

     3308    17878    3             IF ( CODE = 46 ) OR         /* C_TC */

  17878  1 012045   200016 235100                    LDA     CODE,,AUTO
         1 012046   000056 115007                    CMPA    46,DL
         1 012047   012066 600000 1                  TZE     s:17886
         1 012050   000060 115007                    CMPA    48,DL
         1 012051   012066 600000 1                  TZE     s:17886
         1 012052   000061 115007                    CMPA    49,DL
         1 012053   012066 600000 1                  TZE     s:17886
         1 012054   000057 115007                    CMPA    47,DL
         1 012055   012066 600000 1                  TZE     s:17886
         1 012056   001105 115007                    CMPA    581,DL
         1 012057   012066 600000 1                  TZE     s:17886
         1 012060   001106 115007                    CMPA    582,DL
         1 012061   012066 600000 1                  TZE     s:17886
         1 012062   001107 115007                    CMPA    583,DL
         1 012063   012066 600000 1                  TZE     s:17886
         1 012064   001110 115007                    CMPA    584,DL
         1 012065   012070 601000 1                  TNZ     s:17887

     3309    17879    3               ( CODE = 48 ) OR          /* C_TO */
     3310    17880    3               ( CODE = 49 ) OR         /* C_TON */
     3311    17881    3               ( CODE = 47 ) OR          /* C_TT */
     3312    17882    3               ( CODE = 581 ) OR /* C_C@INSTRUCTIONS */
     3313    17883    3               ( CODE = 582 ) OR  /* C_C@PARAGRAPHS */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:485  
     3314    17884    3               ( CODE = 583 ) OR  /* C_C@STATEMENTS */
     3315    17885    3               ( CODE = 584 )  /* C_C@SUBSTATEMENTS */
     3316    17886    3             THEN TCODE = CODE;

  17886  1 012066   200020 755100                    STA     TCODE,,AUTO
         1 012067   012135 710000 1                  TRA     s:17906

     3317    17887    3             ELSE IF CODE = 100       /* C@SILENT */

  17887  1 012070   000144 115007                    CMPA    100,DL
         1 012071   012100 601000 1                  TNZ     s:17892

     3318    17888    4                  THEN DO;

     3319    17889    4                       SILENT = '1'B;

  17889  1 012072   400000 236003                    LDQ     -131072,DU
         1 012073   200021 756100                    STQ     SILENT,,AUTO

     3320    17890    4                       TRACE$CMD.SILENT = '1'B;

  17890  1 012074   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 012075   100000 236003                    LDQ     32768,DU
         1 012076   300001 256100                    ORSQ    1,,PR3

     3321    17891    4                     END;

  17891  1 012077   012135 710000 1                  TRA     s:17906

     3322    17892    3                  ELSE IF CODE = 26       /* C@X */

  17892  1 012100   000032 115007                    CMPA    26,DL
         1 012101   012106 601000 1                  TNZ     s:17895

     3323    17893    3                       THEN TRACE$CMD.XTERNAL = '1'B;

  17893  1 012102   200005 473500                    LDP3    LASTBLT$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:486  
         1 012103   200000 236003                    LDQ     65536,DU
         1 012104   300001 256100                    ORSQ    1,,PR3
         1 012105   012135 710000 1                  TRA     s:17906

     3324    17894    4                       ELSE DO;            /* MUST BE "SIMBLE" */

     3325    17895    4                            TRACE$CMD.PREFIX = '1'B;

  17895  1 012106   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 012107   400000 236003                    LDQ     -131072,DU
         1 012110   300001 256100                    ORSQ    1,,PR3

     3326    17896    4                            NC$ = NC$ -> POB.SUBLK$( 0 ); /* PTR TO TEXTC */

  17896  1 012111   100003 236100                    LDQ     3,,PR1
         1 012112   200015 756100                    STQ     NC$,,AUTO

     3327    17897    4                            V = NC$ -> TEXT$C.SIZE;

  17897  1 012113   200015 471500                    LDP1    NC$,,AUTO
         1 012114   100000 236100                    LDQ     0,,PR1
         1 012115   000033 772000                    QRL     27
         1 012116   200017 756100                    STQ     V,,AUTO

     3328    17898    4                            IF V > LENGTHC( TRACE$CMD.PTXT )

  17898  1 012117   000031 116007                    CMPQ    25,DL
         1 012120   012125 602000 1                  TNC     s:17903

     3329    17899    5                            THEN DO;

     3330    17900    5                                 S_D.ERROR = 48; /* E@SYM2LONG */

  17900  1 012121   000060 235007                    LDA     48,DL
         1 012122   000000 474400 xsym               LDP4    S_D$
         1 012123   400013 755100                    STA     11,,PR4

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:487  
     3331    17901    5                                 GOTO ARET;

  17901  1 012124   012217 710000 1                  TRA     ARET

     3332    17902    5                               END;
     3333    17903    4                            TRACE$CMD.PSIZ = V;

  17903  1 012125   000033 736000                    QLS     27
         1 012126   300002 552140                    STBQ    2,'40'O,PR3

     3334    17904    4                            TRACE$CMD.PTXT = NC$ -> TEXT$C.TXT;

  17904  1 012127   100000 236100                    LDQ     0,,PR1
         1 012130   000033 772000                    QRL     27
         1 012131   000000 621006                    EAX1    0,QL
         1 012132   040100 100540                    MLR     fill='040'O
         1 012133   100000 200011                    ADSC9   0,,PR1                   cn=1,n=*X1
         1 012134   300002 200030                    ADSC9   2,,PR3                   cn=1,n=24

     3335    17905    4                          END;

     3336    17906    3           END;

  17906  1 012135   200014 054100                    AOS     IX,,AUTO
         1 012136   200014 236100                    LDQ     IX,,AUTO
         1 012137   200013 116100                    CMPQ    NSB,,AUTO
         1 012140   012031 604400 1                  TMOZ    s:17874

     3337    17907    2        IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

  17907  1 012141   000000 471400 xsym               LDP1    S_D$
         1 012142   106714 235100                    LDA     3532,,PR1
         1 012143   000001 115007                    CMPA    1,DL
         1 012144   012162 601000 1                  TNZ     s:17913

     3338    17908    3        THEN DO;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:488  
     3339    17909    3             IF ON AND S_D.TR$INFO.SET AND (NOT SILENT)

  17909  1 012145   200022 234100                    SZN     ON,,AUTO
         1 012146   012177 605000 1                  TPL     s:17916
         1 012147   104627 234100                    SZN     2455,,PR1
         1 012150   012177 605000 1                  TPL     s:17916
         1 012151   200021 234100                    SZN     SILENT,,AUTO
         1 012152   012177 604000 1                  TMI     s:17916

     3340    17910    3             THEN TRACE$CMD.SILENT = S_D.TR$INFO.SILENT;

  17910  1 012153   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 012154   104631 236100                    LDQ     2457,,PR1
         1 012155   000002 772000                    QRL     2
         1 012156   300001 676100                    ERQ     1,,PR3
         1 012157   100000 376003                    ANQ     32768,DU
         1 012160   300001 656100                    ERSQ    1,,PR3

     3341    17911    3           END;

  17911  1 012161   012177 710000 1                  TRA     s:17916

     3342    17912    3        ELSE DO;

     3343    17913    3             IF ON AND S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.SET AND (NOT
             17913                      SILENT)

  17913  1 012162   200022 234100                    SZN     ON,,AUTO
         1 012163   012177 605000 1                  TPL     s:17916
         1 012164   100102 473500                    LDP3    66,,PR1
         1 012165   300062 236100                    LDQ     50,,PR3
         1 012166   400000 316007                    CANQ    -131072,DL
         1 012167   012177 600000 1                  TZE     s:17916
         1 012170   200021 234100                    SZN     SILENT,,AUTO
         1 012171   012177 604000 1                  TMI     s:17916

     3344    17914    3            THEN TRACE$CMD.SILENT = S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.TR$INFO.
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:489  
             17914                      SILENT;

  17914  1 012172   200005 474500                    LDP4    LASTBLT$,,AUTO
         1 012173   000024 736000                    QLS     20
         1 012174   400001 676100                    ERQ     1,,PR4
         1 012175   100000 376003                    ANQ     32768,DU
         1 012176   400001 656100                    ERSQ    1,,PR4

     3345    17915    3           END;

     3346    17916    2        TRACE$CMD.TYPE = TCODE;

  17916  1 012177   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 012200   200020 236100                    LDQ     TCODE,,AUTO
         1 012201   000011 736000                    QLS     9
         1 012202   300001 552130                    STBQ    1,'30'O,PR3

     3347    17917    2        IF ( D_XDELTA ) AND

  17917  1 012203   000000 234000 xsym               SZN     D_XDELTA
         1 012204   012212 605000 1                  TPL     s:17922
         1 012205   200020 235100                    LDA     TCODE,,AUTO
         1 012206   000056 115007                    CMPA    46,DL
         1 012207   012212 601000 1                  TNZ     s:17922
         1 012210   300001 234100                    SZN     1,,PR3
         1 012211   012214 605000 1                  TPL     ARETTCP

     3348    17918    2          ( TCODE = 46 ) AND             /* C_TC */
     3349    17919    2          ( NOT TRACE$CMD.PREFIX )
     3350    17920    2        THEN GOTO ARETTCP;
     3351    17921
     3352    17922    2        RETURN;

  17922  1 012212   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 012213   000001 702211                    TSX2  ! 1,X1

     3353    17923
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:490  
     3354    17924    2   ARETTCP: S_D.ERROR = 172; GOTO ARET; /* E@TC_XDPREFIX */

  17924  1 012214   000254 236007       ARETTCP      LDQ     172,DL
         1 012215   100013 756100                    STQ     11,,PR1

  17924  1 012216   012217 710000 1                  TRA     ARET

     3355    17925
     3356    17926    2   ARET: ALTRETURN;

  17926  1 012217   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 012220   000000 702211                    TSX2  ! 0,X1

     3357    17927
     3358    17928    2   END DDS$BLD_TRACE;
     3359    17929        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:491  
     3360    17930        /*F* NAME: DDS$BLD_TSA
     3361    17931             PURPOSE: TO BUILD THE TSA COMMAND.
     3362    17932             DESCRIPTION: BUILDS THE TSA COMMAND. */
     3363    17933        /*D* NAME: DDS$BLD_TSA
     3364    17934             CALL: CALL DDS$BLD_TSA ALTRET( ERROR );
     3365    17935             INTERFACE: DDS$ATTDIRA
     3366    17936             ENVIRONMENT: DDS$SCAN ACTIVE
     3367    17937             INPUT: NCMD$ - PTR TO "TSA" NODE.
     3368    17938             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3369    17939             SCRATCH: LOCAL AUTO ONLY.
     3370    17940             DESCRIPTION: */
     3371    17941
     3372    17942    1   DDS$BLD_TSA:PROC ALTRET;

  17942  1 012221   200012 741300       DDS$BLD_TSA  STX1  ! ZITEM$+3,,AUTO

     3373    17943
     3374    17944    2   DCL NSUB SBIN;
     3375    17945    2   DCL NC$ PTR;
     3376    17946    2   DCL V UBIN;
     3377    17947    2   DCL T1 UBIN;
     3378    17948        %TSA$CMD(NAME=TSA$CMD,STCLASS="BASED(LASTBLT$)");
     3379    17959
     3380    17960    2        T1 = 84;                        /* C_TSA */

  17960  1 012222   000124 235007                    LDA     84,DL
         1 012223   200016 755100                    STA     T1,,AUTO

     3381    17961    2        CALL DDS$ATTDIRA ( SIZEW(TSA$CMD), T1 ) ALTRET(ARET);

  17961  1 012224   200016 630500                    EPPR0   T1,,AUTO
         1 012225   200051 450500                    STP0    @ND_PTR+2,,AUTO
         1 012226   000000 236000 2                  LDQ     0
         1 012227   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 012230   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 012231   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 012232   000000 701000 xent               TSX1    DDS$ATTDIRA
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:492  
         1 012233   012266 702000 1                  TSX2    ARET

     3382    17962    3        IF NCMD$ -> POB.NSB = 0 THEN DO;

  17962  1 012234   200004 470500                    LDP0    NCMD$,,AUTO
         1 012235   000001 220100                    LDX0    1,,PR0
         1 012236   012242 601000 1                  TNZ     s:17966

     3383    17963    3             V = 65536;

  17963  1 012237   200000 235007                    LDA     65536,DL
         1 012240   200015 755100                    STA     V,,AUTO

     3384    17964    3             GOTO TL;

  17964  1 012241   012257 710000 1                  TRA     TL

     3385    17965    3           END;
     3386    17966    2        NC$ = NCMD$ -> POB.SUBLK$(0);

  17966  1 012242   000003 236100                    LDQ     3,,PR0
         1 012243   200014 756100                    STQ     NC$,,AUTO

     3387    17967    2        CALL DDS$HEX( NC$, V ) ALTRET(ARET);

  17967  1 012244   200015 631500                    EPPR1   V,,AUTO
         1 012245   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 012246   200014 633500                    EPPR3   NC$,,AUTO
         1 012247   200050 453500                    STP3    @ND_PTR+1,,AUTO
         1 012250   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 012251   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 012252   000000 701000 xent               TSX1    DDS$HEX
         1 012253   012266 702000 1                  TSX2    ARET

     3388    17968    2        IF V > 65535

  17968  1 012254   200015 235100                    LDA     V,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:493  
         1 012255   200000 115007                    CMPA    65536,DL
         1 012256   012263 603000 1                  TRC     TOOLARGE

     3389    17969    2        THEN GOTO TOOLARGE;
     3390    17970    2   TL:  TSA$CMD.ADDRESS = V;

  17970  1 012257   200005 470500       TL           LDP0    LASTBLT$,,AUTO
         1 012260   000002 755100                    STA     2,,PR0

     3391    17971    2        RETURN;

  17971  1 012261   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 012262   000001 702211                    TSX2  ! 1,X1

     3392    17972
     3393    17973    2   TOOLARGE: S_D.ERROR = 46;       /* E@TOOLARGE */

  17973  1 012263   000056 236007       TOOLARGE     LDQ     46,DL
         1 012264   000000 470400 xsym               LDP0    S_D$
         1 012265   000013 756100                    STQ     11,,PR0

     3394    17974    2   ARET: ALTRETURN;

  17974  1 012266   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 012267   000000 702211                    TSX2  ! 0,X1

     3395    17975
     3396    17976    2   END DDS$BLD_TSA;
     3397    17977        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:494  
     3398    17978        /*F* NAME: DDS$BLD_UNFID
     3399    17979             PURPOSE: TO BUILD THE UNFID COMMAND.
     3400    17980             DESCRIPTION: BUILDS THE UNFID COMMAND. */
     3401    17981        /*D* NAME: DDS$BLD_UNFID
     3402    17982             CALL: CALL DDS$BLD_UNFID ALTRET( ERROR );
     3403    17983             INTERFACE: DDS$ATTDIRA
     3404    17984             ENVIRONMENT: DDS$SCAN ACTIVE
     3405    17985             INPUT: NCMD$ - PTR TO "UNFID" NODE.
     3406    17986             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3407    17987             SCRATCH: LOCAL AUTO ONLY.
     3408    17988             DESCRIPTION: */
     3409    17989
     3410    17990    1   DDS$BLD_UNFID: PROC ALTRET;

  17990  1 012270   200012 741300       DDS$BLD_UNF* STX1  ! ZITEM$+3,,AUTO

     3411    17991
     3412    17992    2   DCL N$ PTR;
     3413    17993    2   DCL V UBIN;
     3414    17994        %UNFID$CMD (NAME=UNFID$CMD,STCLASS="BASED(LASTBLT$)");
     3415    18012
     3416    18013    2        CALL DDS$ATTDIRA( SIZEW( UNFID$CMD ), 87 ) ALTRET( ARET ); /* C_UNFID */

  18013  1 012271   000160 630400 2                  EPPR0   112
         1 012272   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 012273   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 012274   012437 702000 1                  TSX2    ARET

     3417    18014
     3418    18015    2        UNFID$CMD.OPEN = '1'B;

  18015  1 012275   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 012276   100000 236007                    LDQ     32768,DL
         1 012277   000001 256100                    ORSQ    1,,PR0

     3419    18016    2        UNFID$CMD.CLOSED = '1'B;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:495  
  18016  1 012300   200000 236007                    LDQ     65536,DL
         1 012301   000001 256100                    ORSQ    1,,PR0

     3420    18017    2        UNFID$CMD.K13 = '1'B;

  18017  1 012302   400000 236007                    LDQ     -131072,DL
         1 012303   000001 256100                    ORSQ    1,,PR0

     3421    18018    2        UNFID$CMD.ID_FROM = 0;

  18018  1 012304   000000 236003                    LDQ     0,DU
         1 012305   000001 552140                    STBQ    1,'40'O,PR0

     3422    18019    2        UNFID$CMD.ID_TO = 99;

  18019  1 012306   000143 236003                    LDQ     99,DU
         1 012307   000001 552120                    STBQ    1,'20'O,PR0

     3423    18020    2        UNFID$CMD.DCBN.C = ' ';

  18020  1 012310   040100 100400                    MLR     fill='040'O
         1 012311   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 012312   000002 200037                    ADSC9   2,,PR0                   cn=1,n=31

     3424    18021    2        IF NCMD$->POB.NSB = 0 THEN RETURN;

  18021  1 012313   200004 471500                    LDP1    NCMD$,,AUTO
         1 012314   100001 220100                    LDX0    1,,PR1
         1 012315   012320 601000 1                  TNZ     s:18022

  18021  1 012316   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 012317   000001 702211                    TSX2  ! 1,X1

     3425    18022    2        N$ = NCMD$->POB.SUBLK$(0);

  18022  1 012320   100003 236100                    LDQ     3,,PR1
         1 012321   200013 756100                    STQ     N$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:496  

     3426    18023    3        IF N$->POB.CODE = 121 THEN DO;  /* C@UNFO */

  18023  1 012322   200013 473500                    LDP3    N$,,AUTO
         1 012323   300000 721100                    LXL1    0,,PR3
         1 012324   000171 101003                    CMPX1   121,DU
         1 012325   012340 601000 1                  TNZ     s:18029

     3427    18024    3             UNFID$CMD.CLOSED = '0'B;

  18024  1 012326   000162 236000 2                  LDQ     114
         1 012327   000001 356100                    ANSQ    1,,PR0

     3428    18025    3             IF NCMD$->POB.NSB = 1 THEN RETURN;

  18025  1 012330   100001 220100                    LDX0    1,,PR1
         1 012331   000001 100003                    CMPX0   1,DU
         1 012332   012335 601000 1                  TNZ     s:18026

  18025  1 012333   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 012334   000001 702211                    TSX2  ! 1,X1

     3429    18026    3             N$ = NCMD$->POB.SUBLK$(1);

  18026  1 012335   100004 236100                    LDQ     4,,PR1
         1 012336   200013 756100                    STQ     N$,,AUTO

     3430    18027    3           END;

  18027  1 012337   012353 710000 1                  TRA     s:18034

     3431    18028    2        ELSE
     3432    18029    3             IF N$->POB.CODE = 120 THEN DO; /* C@UNFC */

  18029  1 012340   000170 101003                    CMPX1   120,DU
         1 012341   012353 601000 1                  TNZ     s:18034

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:497  
     3433    18030    3                  UNFID$CMD.OPEN = '0'B;

  18030  1 012342   000163 236000 2                  LDQ     115
         1 012343   000001 356100                    ANSQ    1,,PR0

     3434    18031    3                  IF NCMD$->POB.NSB = 1 THEN RETURN;

  18031  1 012344   100001 220100                    LDX0    1,,PR1
         1 012345   000001 100003                    CMPX0   1,DU
         1 012346   012351 601000 1                  TNZ     s:18032

  18031  1 012347   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 012350   000001 702211                    TSX2  ! 1,X1

     3435    18032    3                  N$ = NCMD$->POB.SUBLK$(1);

  18032  1 012351   100004 236100                    LDQ     4,,PR1
         1 012352   200013 756100                    STQ     N$,,AUTO

     3436    18033    3                END;

     3437    18034    2        IF N$ = ADDR(NIL) THEN RETURN;

  18034  1 012353   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 012354   012357 601000 1                  TNZ     s:18035

  18034  1 012355   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 012356   000001 702211                    TSX2  ! 1,X1

     3438    18035    3        IF N$->POB.CODE = 296 THEN DO; /* S@KILLID */

  18035  1 012357   200013 473500                    LDP3    N$,,AUTO
         1 012360   300000 721100                    LXL1    0,,PR3
         1 012361   000450 101003                    CMPX1   296,DU
         1 012362   012424 601000 1                  TNZ     s:18044

     3439    18036    3             UNFID$CMD.K13 = '1'B;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:498  

  18036  1 012363   400000 236007                    LDQ     -131072,DL
         1 012364   000001 256100                    ORSQ    1,,PR0

     3440    18037    3             CALL DDS$DECIMAL (N$->POB.SUBLK$(0), V);

  18037  1 012365   200014 634500                    EPPR4   V,,AUTO
         1 012366   200051 454500                    STP4    @ND_PTR+2,,AUTO
         1 012367   200013 236100                    LDQ     N$,,AUTO
         1 012370   000003 036003                    ADLQ    3,DU
         1 012371   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 012372   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 012373   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 012374   000000 701000 xent               TSX1    DDS$DECIMAL
         1 012375   000000 011000                    NOP     0

     3441    18038    3             UNFID$CMD.ID_FROM = V;

  18038  1 012376   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 012377   200014 236100                    LDQ     V,,AUTO
         1 012400   000033 736000                    QLS     27
         1 012401   000001 552140                    STBQ    1,'40'O,PR0

     3442    18039    3             IF N$->POB.NSB > 1 THEN

  18039  1 012402   200013 471500                    LDP1    N$,,AUTO
         1 012403   100001 220100                    LDX0    1,,PR1
         1 012404   000002 100003                    CMPX0   2,DU
         1 012405   012417 602000 1                  TNC     s:18041

     3443    18040    3                  CALL DDS$DECIMAL (N$->POB.SUBLK$(1), V);

  18040  1 012406   200014 633500                    EPPR3   V,,AUTO
         1 012407   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 012410   200013 236100                    LDQ     N$,,AUTO
         1 012411   000004 036003                    ADLQ    4,DU
         1 012412   200050 756100                    STQ     @ND_PTR+1,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:499  
         1 012413   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 012414   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 012415   000000 701000 xent               TSX1    DDS$DECIMAL
         1 012416   000000 011000                    NOP     0

     3444    18041    3             UNFID$CMD.ID_TO = V;

  18041  1 012417   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 012420   200014 236100                    LDQ     V,,AUTO
         1 012421   000022 736000                    QLS     18
         1 012422   000001 552120                    STBQ    1,'20'O,PR0

     3445    18042    3           END;

  18042  1 012423   012435 710000 1                  TRA     s:18048

     3446    18043    3        ELSE DO;

     3447    18044    3             UNFID$CMD.K13 = '0'B;

  18044  1 012424   000001 236000 2                  LDQ     1
         1 012425   000001 356100                    ANSQ    1,,PR0

     3448    18045    3             UNFID$CMD.DCBN = N$->POB.SUBLK$(0)->TEXT$C;

  18045  1 012426   300003 474500                    LDP4    3,,PR3
         1 012427   400000 236100                    LDQ     0,,PR4
         1 012430   000033 772000                    QRL     27
         1 012431   000001 620006                    EAX0    1,QL
         1 012432   000100 100540                    MLR     fill='000'O
         1 012433   400000 000010                    ADSC9   0,,PR4                   cn=0,n=*X0
         1 012434   000002 000040                    ADSC9   2,,PR0                   cn=0,n=32

     3449    18046    3           END;

     3450    18047
     3451    18048    2        RETURN;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:500  

  18048  1 012435   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 012436   000001 702211                    TSX2  ! 1,X1

     3452    18049
     3453    18050    2   ARET: ALTRETURN;

  18050  1 012437   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 012440   000000 702211                    TSX2  ! 0,X1

     3454    18051
     3455    18052    2   END DDS$BLD_UNFID;
     3456    18053
     3457    18054        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:501  
     3458    18055        /*F* NAME: DDS$BLD_UNSHARE
     3459    18056             PURPOSE: TO BUILD THE UNSHARE COMMAND.
     3460    18057             DESCRIPTION: BUILDS THE UNSHARE COMMAND. */
     3461    18058        /*D* NAME: DDS$BLD_UNSHARE
     3462    18059             CALL: CALL DDS$BLD_UNSHARE ALTRET( ERROR );
     3463    18060             INTERFACE: DDS$ATTDIRA
     3464    18061             ENVIRONMENT: DDS$SCAN ACTIVE
     3465    18062             INPUT: NCMD$ - PTR TO "UNSHARE" NODE.
     3466    18063             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3467    18064             SCRATCH: LOCAL AUTO ONLY.
     3468    18065             DESCRIPTION: */
     3469    18066
     3470    18067    1   DDS$BLD_UNSHARE: PROC ALTRET;

  18067  1 012441   200012 741300       DDS$BLD_UNS* STX1  ! ZITEM$+3,,AUTO

     3471    18068
     3472    18069    2   DCL NSB SBIN;
     3473    18070    2   DCL IX SBIN;
     3474    18071    2   DCL CODE SBIN;
     3475    18072    2   DCL PROGRAM BIT(1) ALIGNED;
     3476    18073    2   DCL LIBRARY BIT(1) ALIGNED;
     3477    18074        %UNSHARE$CMD (STCLASS="BASED(LASTBLT$)");
     3478    18086
     3479    18087    2        CALL DDS$ATTDIRA( SIZEW( UNSHARE$CMD ), 90 ) ALTRET( ARET ); /* C_UNSHARE */

  18087  1 012442   000165 630400 2                  EPPR0   117
         1 012443   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 012444   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 012445   012531 702000 1                  TSX2    ARET

     3480    18088    2        NSB = NCMD$ -> POB.NSB - 1;

  18088  1 012446   200004 470500                    LDP0    NCMD$,,AUTO
         1 012447   000001 236100                    LDQ     1,,PR0
         1 012450   000022 772000                    QRL     18
         1 012451   000001 136007                    SBLQ    1,DL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:502  
         1 012452   200013 756100                    STQ     NSB,,AUTO

     3481    18089    2        IF NSB < 0

  18089  1 012453   012460 605000 1                  TPL     s:18095

     3482    18090    3        THEN DO;                           /* Default is PROGRAM */

     3483    18091    3             PROGRAM = '1'B;

  18091  1 012454   400000 236003                    LDQ     -131072,DU
         1 012455   200016 756100                    STQ     PROGRAM,,AUTO

     3484    18092    3             LIBRARY = '0'B;

  18092  1 012456   200017 450100                    STZ     LIBRARY,,AUTO

     3485    18093    3           END;

  18093  1 012457   012515 710000 1                  TRA     s:18110

     3486    18094    3        ELSE DO;

     3487    18095    3             PROGRAM = '0'B;

  18095  1 012460   200016 450100                    STZ     PROGRAM,,AUTO

     3488    18096    3             LIBRARY = '0'B;

  18096  1 012461   200017 450100                    STZ     LIBRARY,,AUTO

     3489    18097    4             DO IX = 0 TO NSB;

  18097  1 012462   200014 450100                    STZ     IX,,AUTO
         1 012463   012512 710000 1                  TRA     s:18108+1

     3490    18098    4                  CODE = NCMD$ -> POB.SUBLK$( IX ) ->  POB.CODE;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:503  

  18098  1 012464   200004 470500                    LDP0    NCMD$,,AUTO
         1 012465   200014 720100                    LXL0    IX,,AUTO
         1 012466   000003 471510                    LDP1    3,X0,PR0
         1 012467   100000 236100                    LDQ     0,,PR1
         1 012470   777777 376007                    ANQ     -1,DL
         1 012471   200015 756100                    STQ     CODE,,AUTO

     3491    18099    4                  IF CODE = 530          /* C@ALL */

  18099  1 012472   001022 116007                    CMPQ    530,DL
         1 012473   012500 601000 1                  TNZ     s:18104

     3492    18100    5                  THEN DO;

     3493    18101    5                       LIBRARY = '1'B;

  18101  1 012474   400000 236003                    LDQ     -131072,DU
         1 012475   200017 756100                    STQ     LIBRARY,,AUTO

     3494    18102    5                       PROGRAM = '1'B;

  18102  1 012476   200016 756100                    STQ     PROGRAM,,AUTO

     3495    18103    5                     END;

  18103  1 012477   012511 710000 1                  TRA     s:18108

     3496    18104    4                  ELSE IF CODE = 72 /* C@LIBRARY */

  18104  1 012500   000110 116007                    CMPQ    72,DL
         1 012501   012505 601000 1                  TNZ     s:18106

     3497    18105    4                       THEN LIBRARY = '1'B;

  18105  1 012502   400000 236003                    LDQ     -131072,DU
         1 012503   200017 756100                    STQ     LIBRARY,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:504  
         1 012504   012511 710000 1                  TRA     s:18108

     3498    18106    4                       ELSE IF CODE = 71 /* C@PROGRAM */

  18106  1 012505   000107 116007                    CMPQ    71,DL
         1 012506   012511 601000 1                  TNZ     s:18108

     3499    18107    4                            THEN PROGRAM = '1'B;

  18107  1 012507   400000 236003                    LDQ     -131072,DU
         1 012510   200016 756100                    STQ     PROGRAM,,AUTO

     3500    18108    4                END;

  18108  1 012511   200014 054100                    AOS     IX,,AUTO
         1 012512   200014 236100                    LDQ     IX,,AUTO
         1 012513   200013 116100                    CMPQ    NSB,,AUTO
         1 012514   012464 604400 1                  TMOZ    s:18098

     3501    18109    3           END;

     3502    18110    2        UNSHARE$CMD.PROGRAM = PROGRAM;

  18110  1 012515   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 012516   200016 236100                    LDQ     PROGRAM,,AUTO
         1 012517   100001 676100                    ERQ     1,,PR1
         1 012520   400000 376003                    ANQ     -131072,DU
         1 012521   100001 656100                    ERSQ    1,,PR1

     3503    18111    2        UNSHARE$CMD.LIBRARY = LIBRARY;

  18111  1 012522   200017 236100                    LDQ     LIBRARY,,AUTO
         1 012523   000001 772000                    QRL     1
         1 012524   100001 676100                    ERQ     1,,PR1
         1 012525   200000 376003                    ANQ     65536,DU
         1 012526   100001 656100                    ERSQ    1,,PR1

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:505  
     3504    18112
     3505    18113    2        RETURN;

  18113  1 012527   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 012530   000001 702211                    TSX2  ! 1,X1

     3506    18114
     3507    18115    2   ARET: ALTRETURN;

  18115  1 012531   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 012532   000000 702211                    TSX2  ! 0,X1

     3508    18116
     3509    18117    2   END DDS$BLD_UNSHARE;
     3510    18118        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:506  
     3511    18119        /*F* NAME:  DDS$BLD_UPDATE
     3512    18120             PURPOSE:  TO BUILD THE UPDATE COMMAND
     3513    18121             DESCRIPTION:  BUILDS THE UPDATE COMMAND */
     3514    18122        /*D* NAME:  DDS$BLD_UPDATE
     3515    18123             CALL:  CALL DDS$BLD_UPDATE ALTRET(ERROR);
     3516    18124             INTERFACE:  DDS$ATTDIRA
     3517    18125             ENVIRONMENT:  DDS$SCAN ACTIVE
     3518    18126             INPUT:  NCMD$ - POINTER TO N_UPDATE NODE
     3519    18127             OUTPUT:  COMMAND BUILT IN BUILD BUFFER
     3520    18128             SCRATCH:  LOCAL AUTO ONLY
     3521    18129             DESCRIPTION:  BUILDS THE UPDATE COMMAND     */
     3522    18130
     3523    18131    1   DDS$BLD_UPDATE: PROC ALTRET;

  18131  1 012533   200012 741300       DDS$BLD_UPD* STX1  ! ZITEM$+3,,AUTO

     3524    18132
     3525    18133    2   DCL NC$ PTR;
     3526    18134    2   DCL CODE SBIN;
     3527    18135    2   DCL ATTACH_AT_TIME BIT(1) ALIGNED;
     3528    18136    2   DCL V UBIN;
     3529    18137    2   DCL V1 SBIN;
     3530    18138        %UPDATE$CMD(NAME=UPDATE$CMD,STCLASS="BASED(LASTBLT$)");
     3531    18153
     3532    18154    2        ATTACH_AT_TIME = '0'B;

  18154  1 012534   200015 450100                    STZ     ATTACH_AT_TIME,,AUTO

     3533    18155    2        UPDATE$CMD.ATTACHMENT = '0'B;

  18155  1 012535   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 012536   000162 236000 2                  LDQ     114
         1 012537   000000 356100                    ANSQ    0,,PR0

     3534    18156    2        CALL DDS$ATTDIRA (SIZEW( UPDATE$CMD ), 75) ALTRET (ARET);

  18156  1 012540   000170 630400 2                  EPPR0   120
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:507  
         1 012541   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 012542   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 012543   013041 702000 1                  TSX2    ARET

     3535    18157    2        NC$ = NCMD$ -> POB.SUBLK$(0);

  18157  1 012544   200004 470500                    LDP0    NCMD$,,AUTO
         1 012545   000003 236100                    LDQ     3,,PR0
         1 012546   200013 756100                    STQ     NC$,,AUTO

     3536    18158    2        CODE = NC$ -> POB.CODE;

  18158  1 012547   200013 471500                    LDP1    NC$,,AUTO
         1 012550   100000 236100                    LDQ     0,,PR1
         1 012551   777777 376007                    ANQ     -1,DL
         1 012552   200014 756100                    STQ     CODE,,AUTO

     3537    18159    3        DO CASE ( CODE );

  18159  1 012553   001142 136007                    SBLQ    610,DL
         1 012554   000004 116007                    CMPQ    4,DL
         1 012555   012557 602006 1                  TNC     s:18159+4,QL
         1 012556   013016 710000 1                  TRA     s:18211
         1 012557   012563 710000 1                  TRA     s:18161
         1 012560   012657 710000 1                  TRA     s:18183
         1 012561   012730 710000 1                  TRA     s:18194
         1 012562   012563 710000 1                  TRA     s:18161

     3538    18160    3          CASE ( 610, 613 ); /* C@UPDATE1, C@ATTACHMENT */

     3539    18161    3             IF CODE = 613        /* C@ATTACHMENT */

  18161  1 012563   200014 235100                    LDA     CODE,,AUTO
         1 012564   001145 115007                    CMPA    613,DL
         1 012565   012572 601000 1                  TNZ     s:18166

     3540    18162    4             THEN DO;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:508  

     3541    18163    4                  ATTACH_AT_TIME = '1'B;

  18163  1 012566   400000 236003                    LDQ     -131072,DU
         1 012567   200015 756100                    STQ     ATTACH_AT_TIME,,AUTO

     3542    18164    4                  NC$ = NCMD$ -> POB.SUBLK$(1);

  18164  1 012570   000004 236100                    LDQ     4,,PR0
         1 012571   200013 756100                    STQ     NC$,,AUTO

     3543    18165    4                END;

     3544    18166    3             UPDATE$CMD.UPDATE# = 610; /* C@UPDATE1 */

  18166  1 012572   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 012573   100000 236100                    LDQ     0,,PR1
         1 012574   000034 376000 xsym               ANQ     B_VECTNIL+28
         1 012575   001142 276007                    ORQ     610,DL
         1 012576   100000 756100                    STQ     0,,PR1

     3545    18167    3             NC$ = NC$ -> POB.SUBLK$(0);

  18167  1 012577   200013 473500                    LDP3    NC$,,AUTO
         1 012600   300003 236100                    LDQ     3,,PR3
         1 012601   200013 756100                    STQ     NC$,,AUTO

     3546    18168    3             CALL DDS$DECIMAL (NC$ -> POB.SUBLK$(0), V) ALTRET (ARET);

  18168  1 012602   200016 633500                    EPPR3   V,,AUTO
         1 012603   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 012604   000003 036003                    ADLQ    3,DU
         1 012605   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 012606   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 012607   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 012610   000000 701000 xent               TSX1    DDS$DECIMAL
         1 012611   013041 702000 1                  TSX2    ARET
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:509  

     3547    18169    3             UPDATE$CMD.ID_FROM = V;

  18169  1 012612   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 012613   200016 236100                    LDQ     V,,AUTO
         1 012614   000033 736000                    QLS     27
         1 012615   000001 552140                    STBQ    1,'40'O,PR0

     3548    18170    3             UPDATE$CMD.ID_TO = V;

  18170  1 012616   200016 236100                    LDQ     V,,AUTO
         1 012617   000022 736000                    QLS     18
         1 012620   000001 552120                    STBQ    1,'20'O,PR0

     3549    18171    3             IF (V < 1) OR (V > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0))) -1)

  18171  1 012621   200016 235100                    LDA     V,,AUTO
         1 012622   013026 600000 1                  TZE     ERR1
         1 012623   000454 115007                    CMPA    300,DL
         1 012624   013026 603000 1                  TRC     ERR1

     3550    18172    3             THEN GOTO ERR1;
     3551    18173    3             IF (NC$ -> POB.NSB > 1)

  18173  1 012625   200013 471500                    LDP1    NC$,,AUTO
         1 012626   100001 220100                    LDX0    1,,PR1
         1 012627   000002 100003                    CMPX0   2,DU
         1 012630   013016 602000 1                  TNC     s:18211

     3552    18174    4             THEN DO;

     3553    18175    4                  CALL DDS$DECIMAL (NC$ -> POB.SUBLK$(1), V1) ALTRET (ARET);

  18175  1 012631   200017 633500                    EPPR3   V1,,AUTO
         1 012632   200051 453500                    STP3    @ND_PTR+2,,AUTO
         1 012633   200013 236100                    LDQ     NC$,,AUTO
         1 012634   000004 036003                    ADLQ    4,DU
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:510  
         1 012635   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 012636   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 012637   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 012640   000000 701000 xent               TSX1    DDS$DECIMAL
         1 012641   013041 702000 1                  TSX2    ARET

     3554    18176    4                  UPDATE$CMD.ID_TO = V1;

  18176  1 012642   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 012643   200017 236100                    LDQ     V1,,AUTO
         1 012644   000022 736000                    QLS     18
         1 012645   000001 552120                    STBQ    1,'20'O,PR0

     3555    18177    4                  IF (V1 < 1) OR (V1 > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0))) -1)

  18177  1 012646   200017 235100                    LDA     V1,,AUTO
         1 012647   013026 604400 1                  TMOZ    ERR1
         1 012650   000453 115007                    CMPA    299,DL
         1 012651   013026 605400 1                  TPNZ    ERR1

     3556    18178    4                  THEN GOTO ERR1;
     3557    18179    4                  IF V1 < V

  18179  1 012652   200017 236100                    LDQ     V1,,AUTO
         1 012653   013032 604000 1                  TMI     ERR_FROM_TO
         1 012654   200016 116100                    CMPQ    V,,AUTO
         1 012655   013032 602000 1                  TNC     ERR_FROM_TO

     3558    18180    4                  THEN GOTO ERR_FROM_TO;
     3559    18181    4                END;

  18181  1 012656   013016 710000 1                  TRA     s:18211

     3560    18182    3          CASE ( 611 );              /* C@UPDATE2 */

     3561    18183    3             UPDATE$CMD.UPDATE# = 611; /* C@UPDATE2 */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:511  
  18183  1 012657   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 012660   300000 236100                    LDQ     0,,PR3
         1 012661   000034 376000 xsym               ANQ     B_VECTNIL+28
         1 012662   001143 276007                    ORQ     611,DL
         1 012663   300000 756100                    STQ     0,,PR3

     3562    18184    3             CALL DDS$DECIMAL (NC$ -> POB.SUBLK$(0), V) ALTRET (ARET);

  18184  1 012664   200016 634500                    EPPR4   V,,AUTO
         1 012665   200051 454500                    STP4    @ND_PTR+2,,AUTO
         1 012666   200013 236100                    LDQ     NC$,,AUTO
         1 012667   000003 036003                    ADLQ    3,DU
         1 012670   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 012671   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 012672   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 012673   000000 701000 xent               TSX1    DDS$DECIMAL
         1 012674   013041 702000 1                  TSX2    ARET

     3563    18185    3             UPDATE$CMD.ID_FROM = V;

  18185  1 012675   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 012676   200016 236100                    LDQ     V,,AUTO
         1 012677   000033 736000                    QLS     27
         1 012700   000001 552140                    STBQ    1,'40'O,PR0

     3564    18186    3             UPDATE$CMD.ID_TO = V;

  18186  1 012701   200016 236100                    LDQ     V,,AUTO
         1 012702   000022 736000                    QLS     18
         1 012703   000001 552120                    STBQ    1,'20'O,PR0

     3565    18187    3             IF (V <  1) OR (V > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0))) -1)

  18187  1 012704   200016 235100                    LDA     V,,AUTO
         1 012705   013026 600000 1                  TZE     ERR1
         1 012706   000454 115007                    CMPA    300,DL
         1 012707   013026 603000 1                  TRC     ERR1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:512  

     3566    18188    3             THEN GOTO ERR1;
     3567    18189    3             CALL DDS$DECIMAL (NC$ -> POB.SUBLK$(1), V1) ALTRET (ARET);

  18189  1 012710   200017 631500                    EPPR1   V1,,AUTO
         1 012711   200051 451500                    STP1    @ND_PTR+2,,AUTO
         1 012712   200013 236100                    LDQ     NC$,,AUTO
         1 012713   000004 036003                    ADLQ    4,DU
         1 012714   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 012715   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 012716   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 012717   000000 701000 xent               TSX1    DDS$DECIMAL
         1 012720   013041 702000 1                  TSX2    ARET

     3568    18190    3             UPDATE$CMD.ATTACHMENT# = V1;

  18190  1 012721   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 012722   200017 236100                    LDQ     V1,,AUTO
         1 012723   000011 736000                    QLS     9
         1 012724   000001 552110                    STBQ    1,'10'O,PR0

     3569    18191    3             IF (V1 < 0)

  18191  1 012725   200017 235100                    LDA     V1,,AUTO
         1 012726   013036 604000 1                  TMI     ERR_ATTACH
         1 012727   013016 710000 1                  TRA     s:18211

     3570    18192    3             THEN GOTO ERR_ATTACH;
     3571    18193    3          CASE ( 612 );              /* C@UPDATE3 */

     3572    18194    3             UPDATE$CMD.UPDATE# = 612; /* C@UPDATE3 */

  18194  1 012730   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 012731   300000 236100                    LDQ     0,,PR3
         1 012732   000034 376000 xsym               ANQ     B_VECTNIL+28
         1 012733   001144 276007                    ORQ     612,DL
         1 012734   300000 756100                    STQ     0,,PR3
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:513  

     3573    18195    3             CALL DDS$DECIMAL (NC$ -> POB.SUBLK$(0), V) ALTRET (ARET);

  18195  1 012735   200016 634500                    EPPR4   V,,AUTO
         1 012736   200051 454500                    STP4    @ND_PTR+2,,AUTO
         1 012737   200013 236100                    LDQ     NC$,,AUTO
         1 012740   000003 036003                    ADLQ    3,DU
         1 012741   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 012742   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 012743   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 012744   000000 701000 xent               TSX1    DDS$DECIMAL
         1 012745   013041 702000 1                  TSX2    ARET

     3574    18196    3             UPDATE$CMD.ID_FROM = V;

  18196  1 012746   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 012747   200016 236100                    LDQ     V,,AUTO
         1 012750   000033 736000                    QLS     27
         1 012751   000001 552140                    STBQ    1,'40'O,PR0

     3575    18197    3             UPDATE$CMD.ID_TO = V;

  18197  1 012752   200016 236100                    LDQ     V,,AUTO
         1 012753   000022 736000                    QLS     18
         1 012754   000001 552120                    STBQ    1,'20'O,PR0

     3576    18198    3             IF (V < 1) OR (V > (SIZEW(S_D.FIXCOM)/SIZEW(S_D.FIXCOM(0))) -1)

  18198  1 012755   200016 235100                    LDA     V,,AUTO
         1 012756   013026 600000 1                  TZE     ERR1
         1 012757   000454 115007                    CMPA    300,DL
         1 012760   013026 603000 1                  TRC     ERR1

     3577    18199    3             THEN GOTO ERR1;
     3578    18200    3             IF NC$ -> POB.SUBLK$(1) -> POB.CODE = 8 /* DEC_CODE */

  18200  1 012761   200013 471500                    LDP1    NC$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:514  
         1 012762   100004 473500                    LDP3    4,,PR1
         1 012763   300000 720100                    LXL0    0,,PR3
         1 012764   000010 100003                    CMPX0   8,DU
         1 012765   013014 601000 1                  TNZ     s:18209

     3579    18201    4             THEN DO;

     3580    18202    4                  CALL DDS$DECIMAL (NC$ -> POB.SUBLK$(1), V1) ALTRET (ARET);

  18202  1 012766   200017 634500                    EPPR4   V1,,AUTO
         1 012767   200051 454500                    STP4    @ND_PTR+2,,AUTO
         1 012770   200013 236100                    LDQ     NC$,,AUTO
         1 012771   000004 036003                    ADLQ    4,DU
         1 012772   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 012773   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 012774   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 012775   000000 701000 xent               TSX1    DDS$DECIMAL
         1 012776   013041 702000 1                  TSX2    ARET

     3581    18203    4                  UPDATE$CMD.ATTACHMENT# = V1;

  18203  1 012777   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 013000   200017 236100                    LDQ     V1,,AUTO
         1 013001   000011 736000                    QLS     9
         1 013002   000001 552110                    STBQ    1,'10'O,PR0

     3582    18204    4                  UPDATE$CMD.ATTACHMENT = '1'B;

  18204  1 013003   200000 236007                    LDQ     65536,DL
         1 013004   000000 256100                    ORSQ    0,,PR0

     3583    18205    4                  IF (V1 < 0)

  18205  1 013005   200017 235100                    LDA     V1,,AUTO
         1 013006   013036 604000 1                  TMI     ERR_ATTACH

     3584    18206    4                  THEN GOTO ERR_ATTACH;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:515  
     3585    18207    4                  UPDATE$CMD.ASYM$ = NC$ -> POB.SUBLK$(2) -> POB.SUBLK$(0);

  18207  1 013007   200013 471500                    LDP1    NC$,,AUTO
         1 013010   100005 473500                    LDP3    5,,PR1
         1 013011   300003 236100                    LDQ     3,,PR3
         1 013012   000002 756100                    STQ     2,,PR0

     3586    18208    4                END;

  18208  1 013013   013016 710000 1                  TRA     s:18211

     3587    18209    3             ELSE UPDATE$CMD.ASYM$ = NC$ -> POB.SUBLK$(1) -> POB.SUBLK$(0);

  18209  1 013014   300003 236100                    LDQ     3,,PR3
         1 013015   000002 756100                    STQ     2,,PR0

     3588    18210    3          END;

     3589    18211    2        UPDATE$CMD.ATTACH_AT_TIME = ATTACH_AT_TIME;

  18211  1 013016   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 013017   200015 236100                    LDQ     ATTACH_AT_TIME,,AUTO
         1 013020   000022 772000                    QRL     18
         1 013021   000000 676100                    ERQ     0,,PR0
         1 013022   400000 376007                    ANQ     -131072,DL
         1 013023   000000 656100                    ERSQ    0,,PR0

     3590    18212    2        RETURN;

  18212  1 013024   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 013025   000001 702211                    TSX2  ! 1,X1

     3591    18213
     3592    18214    2   ERR1: S_D.ERROR = 12; GOTO ARET;   /* E@UERR1 */

  18214  1 013026   000014 235007       ERR1         LDA     12,DL
         1 013027   000000 471400 xsym               LDP1    S_D$
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:516  
         1 013030   100013 755100                    STA     11,,PR1

  18214  1 013031   013041 710000 1                  TRA     ARET

     3593    18215    2   ERR_FROM_TO: S_D.ERROR = 63; GOTO ARET; /* E@FROM_TO */

  18215  1 013032   000077 235007       ERR_FROM_TO  LDA     63,DL
         1 013033   000000 471400 xsym               LDP1    S_D$
         1 013034   100013 755100                    STA     11,,PR1

  18215  1 013035   013041 710000 1                  TRA     ARET

     3594    18216    2   ERR_ATTACH: S_D.ERROR = 255; /* E@ILLEGAL_ATT# */

  18216  1 013036   000377 236007       ERR_ATTACH   LDQ     255,DL
         1 013037   000000 471400 xsym               LDP1    S_D$
         1 013040   100013 756100                    STQ     11,,PR1

     3595    18217
     3596    18218    2   ARET: ALTRETURN;

  18218  1 013041   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 013042   000000 702211                    TSX2  ! 0,X1

     3597    18219
     3598    18220    2   END DDS$BLD_UPDATE;
     3599    18221        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:517  
     3600    18222        /*F* NAME: DDS$BLD_USE
     3601    18223             PURPOSE: TO BUILD THE USE COMMAND
     3602    18224             DESCRIPTION: BUILDS THE USE COMMAND (IN DIRECT BUFFER ONLY) */
     3603    18225
     3604    18226    1   DDS$BLD_USE: PROC ALTRET;

  18226  1 013043   200012 741300       DDS$BLD_USE  STX1  ! ZITEM$+3,,AUTO

     3605    18227                                                /* LOCAL TEMPS */
     3606    18228    2   DCL TYPE SBIN;
     3607    18229    2   DCL TEMP SBIN;
     3608    18230    2   DCL TEMP1 UBIN;
     3609    18231    2   DCL TEMP$ PTR;
     3610    18232    2   DCL V UBIN;
     3611    18233    2   DCL XDEL BIT(1) ALIGNED;
     3612    18234        %FPRG$CONTEXT;
     3613    18297        %USE$CMD (STCLASS="BASED(LASTBLT$)");
     3614    18320
     3615    18321    2        CALL DDS$ATTDIRA(SIZEW(USE$CMD), 64) /* C_USE */

  18321  1 013044   000173 630400 2                  EPPR0   123
         1 013045   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 013046   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 013047   014012 702000 1                  TSX2    ALTRT

     3616    18322    2          ALTRET(ALTRT);
     3617    18323    2        IF D_XDELTA OR S_D.ANLZ

  18323  1 013050   000000 234000 xsym               SZN     D_XDELTA
         1 013051   013055 604000 1                  TMI     s:18324
         1 013052   000000 470400 xsym               LDP0    S_D$
         1 013053   004756 234100                    SZN     2542,,PR0
         1 013054   013060 605000 1                  TPL     s:18325

     3618    18324    2        THEN XDEL = '1'B;

  18324  1 013055   400000 236003                    LDQ     -131072,DU
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:518  
         1 013056   200020 756100                    STQ     XDEL,,AUTO
         1 013057   013061 710000 1                  TRA     s:18326

     3619    18325    2        ELSE XDEL = '0'B;

  18325  1 013060   200020 450100                    STZ     XDEL,,AUTO

     3620    18326    2        IF  S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR S_D.
             18326                 CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)

  18326  1 013061   000000 470400 xsym               LDP0    S_D$
         1 013062   000101 234100                    SZN     65,,PR0
         1 013063   013074 605000 1                  TPL     s:18328
         1 013064   000102 471500                    LDP1    66,,PR0
         1 013065   100001 236100                    LDQ     1,,PR1
         1 013066   002000 316003                    CANQ    1024,DU
         1 013067   013072 601000 1                  TNZ     s:18327
         1 013070   100001 430100                    FSZN    1,,PR1
         1 013071   013074 605000 1                  TPL     s:18328

     3621    18327    2        THEN XDEL = '1'B;

  18327  1 013072   400000 236003                    LDQ     -131072,DU
         1 013073   200020 756100                    STQ     XDEL,,AUTO

     3622    18328    2        USE$CMD.LS = 0;              /* LS_NONE */

  18328  1 013074   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 013075   000000 236003                    LDQ     0,DU
         1 013076   100001 552110                    STBQ    1,'10'O,PR1

     3623    18329    2        IF NCMD$ -> POB.NSB = 0

  18329  1 013077   200004 473500                    LDP3    NCMD$,,AUTO
         1 013100   300001 220100                    LDX0    1,,PR3
         1 013101   013105 601000 1                  TNZ     s:18331

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:519  
     3624    18330    2        THEN TYPE = 260;               /* C@UCURR - DEFAULT */

  18330  1 013102   000404 235007                    LDA     260,DL
         1 013103   200013 755100                    STA     TYPE,,AUTO
         1 013104   013111 710000 1                  TRA     s:18332

     3625    18331    2        ELSE TYPE = NCMD$ -> POB.SUBLK$(0) -> POB.CODE;

  18331  1 013105   300003 474500                    LDP4    3,,PR3
         1 013106   400000 236100                    LDQ     0,,PR4
         1 013107   777777 376007                    ANQ     -1,DL
         1 013110   200013 756100                    STQ     TYPE,,AUTO

     3626    18332    3        DO CASE( TYPE );

  18332  1 013111   200013 235100                    LDA     TYPE,,AUTO
         1 013112   000404 135007                    SBLA    260,DL
         1 013113   000015 115007                    CMPA    13,DL
         1 013114   013116 602005 1                  TNC     s:18332+5,AL
         1 013115   013766 710000 1                  TRA     s:18499
         1 013116   013133 710000 1                  TRA     s:18334
         1 013117   013142 710000 1                  TRA     s:18338
         1 013120   013224 710000 1                  TRA     s:18360
         1 013121   013312 710000 1                  TRA     s:18383
         1 013122   013343 710000 1                  TRA     s:18392
         1 013123   013343 710000 1                  TRA     s:18392
         1 013124   013343 710000 1                  TRA     s:18392
         1 013125   013546 710000 1                  TRA     s:18443
         1 013126   013572 710000 1                  TRA     s:18450
         1 013127   013607 710000 1                  TRA     s:18458
         1 013130   013637 710000 1                  TRA     s:18469
         1 013131   013667 710000 1                  TRA     s:18479
         1 013132   013730 710000 1                  TRA     s:18489

     3627    18333    3          CASE( 260 );                 /* C@UCURR */

     3628    18334    3             IF NOT XDEL AND NOT S_D.OVERLAID
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:520  

  18334  1 013133   200020 234100                    SZN     XDEL,,AUTO
         1 013134   013137 604000 1                  TMI     s:18336
         1 013135   004764 234100                    SZN     2548,,PR0
         1 013136   013770 605000 1                  TPL     USEROV

     3629    18335    3             THEN GOTO USEROV;
     3630    18336    3             USE$CMD.TYPE = 5;   /* USE_CURRENT */

  18336  1 013137   000005 221003                    LDX1    5,DU
         1 013140   100001 741100                    STX1    1,,PR1
         1 013141   013766 710000 1                  TRA     s:18499

     3631    18337    3          CASE( 261 );                 /* C@UREAL */

     3632    18338    3             IF NOT XDEL

  18338  1 013142   200020 234100                    SZN     XDEL,,AUTO
         1 013143   013773 605000 1                  TPL     USERSY

     3633    18339    3             THEN GOTO USERSY;
     3634    18340    3             USE$CMD.TYPE = 1;      /* USE_REAL */

  18340  1 013144   000001 221003                    LDX1    1,DU
         1 013145   100001 741100                    STX1    1,,PR1

     3635    18341    3             TEMP$ = NCMD$ -> POB.SUBLK$( 0 );

  18341  1 013146   300003 236100                    LDQ     3,,PR3
         1 013147   200016 756100                    STQ     TEMP$,,AUTO

     3636    18342    3             TEMP = 0;             /* TYPE_REAL */

  18342  1 013150   200014 450100                    STZ     TEMP,,AUTO

     3637    18343    3             IF TEMP$ -> POB.NSB > 0

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:521  
  18343  1 013151   200016 474500                    LDP4    TEMP$,,AUTO
         1 013152   400001 220100                    LDX0    1,,PR4
         1 013153   013217 600000 1                  TZE     s:18358

     3638    18344    4             THEN DO;

     3639    18345    4                  IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18345                           S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)

  18345  1 013154   000101 234100                    SZN     65,,PR0
         1 013155   013164 605000 1                  TPL     s:18347
         1 013156   000102 475500                    LDP5    66,,PR0
         1 013157   500001 236100                    LDQ     1,,PR5
         1 013160   002000 316003                    CANQ    1024,DU
         1 013161   013773 601000 1                  TNZ     USERSY
         1 013162   500001 430100                    FSZN    1,,PR5
         1 013163   013773 604000 1                  TMI     USERSY

     3640    18346    4                  THEN GOTO USERSY;
     3641    18347    4                  TEMP$ = TEMP$ -> POB.SUBLK$( 0 );

  18347  1 013164   400003 236100                    LDQ     3,,PR4
         1 013165   200016 756100                    STQ     TEMP$,,AUTO

     3642    18348    4                  TEMP1 = TEMP$ -> POB.CODE;

  18348  1 013166   200016 474500                    LDP4    TEMP$,,AUTO
         1 013167   400000 236100                    LDQ     0,,PR4
         1 013170   777777 376007                    ANQ     -1,DL
         1 013171   200015 756100                    STQ     TEMP1,,AUTO

     3643    18349    4                  IF TEMP1 = 63    /* C@AARDVARK */

  18349  1 013172   000077 116007                    CMPQ    63,DL
         1 013173   013177 601000 1                  TNZ     s:18351

     3644    18350    4                  THEN TEMP = 1;   /* TYPE_AARD */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:522  

  18350  1 013174   000001 235007                    LDA     1,DL
         1 013175   200014 755100                    STA     TEMP,,AUTO
         1 013176   013217 710000 1                  TRA     s:18358

     3645    18351    4                  ELSE IF TEMP1 = 64 /* C@XDELTA */

  18351  1 013177   000100 116007                    CMPQ    64,DL
         1 013200   013204 601000 1                  TNZ     s:18354

     3646    18352    4                       THEN TEMP = 2; /* TYPE_XDEL */

  18352  1 013201   000002 235007                    LDA     2,DL
         1 013202   200014 755100                    STA     TEMP,,AUTO
         1 013203   013217 710000 1                  TRA     s:18358

     3647    18353    5                       ELSE DO;            /* Must be octil */

     3648    18354    5                            CALL DDS$OCTAL( TEMP$, TEMP1 ) ALTRET( ALTRT );

  18354  1 013204   200015 635500                    EPPR5   TEMP1,,AUTO
         1 013205   200051 455500                    STP5    @ND_PTR+2,,AUTO
         1 013206   200016 636500                    EPPR6   TEMP$,,AUTO
         1 013207   200050 456500                    STP6    @ND_PTR+1,,AUTO
         1 013210   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 013211   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 013212   000000 701000 xent               TSX1    DDS$OCTAL
         1 013213   014012 702000 1                  TSX2    ALTRT

     3649    18355    5                            USE$CMD.BASE = TEMP1;

  18355  1 013214   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 013215   200015 235100                    LDA     TEMP1,,AUTO
         1 013216   000002 755100                    STA     2,,PR0

     3650    18356    5                          END;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:523  
     3651    18357    4                END;

     3652    18358    3             USE$CMD.SUBTYPE = TEMP;

  18358  1 013217   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 013220   200014 236100                    LDQ     TEMP,,AUTO
         1 013221   000011 736000                    QLS     9
         1 013222   000001 552110                    STBQ    1,'10'O,PR0
         1 013223   013766 710000 1                  TRA     s:18499

     3653    18359    3          CASE( 262 );                  /* C@UMON */

     3654    18360    3             IF NOT XDEL

  18360  1 013224   200020 234100                    SZN     XDEL,,AUTO
         1 013225   013773 605000 1                  TPL     USERSY

     3655    18361    3             THEN GOTO USERSY;
     3656    18362    3             USE$CMD.TYPE = 0;       /* USE_MON */

  18362  1 013226   000000 221003                    LDX1    0,DU
         1 013227   100001 741100                    STX1    1,,PR1

     3657    18363    3             TEMP$ = NCMD$ -> POB.SUBLK$( 0 );

  18363  1 013230   300003 236100                    LDQ     3,,PR3
         1 013231   200016 756100                    STQ     TEMP$,,AUTO

     3658    18364    3             IF TEMP$ -> POB.NSB = 0

  18364  1 013232   200016 474500                    LDP4    TEMP$,,AUTO
         1 013233   400001 220100                    LDX0    1,,PR4
         1 013234   013237 601000 1                  TNZ     s:18367

     3659    18365    3             THEN TYPE = 0;          /* USE_MON */

  18365  1 013235   200013 450100                    STZ     TYPE,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:524  
         1 013236   013305 710000 1                  TRA     s:18381

     3660    18366    4             ELSE DO;

     3661    18367    4                  IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18367                           S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)

  18367  1 013237   000101 234100                    SZN     65,,PR0
         1 013240   013247 605000 1                  TPL     s:18369
         1 013241   000102 475500                    LDP5    66,,PR0
         1 013242   500001 236100                    LDQ     1,,PR5
         1 013243   002000 316003                    CANQ    1024,DU
         1 013244   013773 601000 1                  TNZ     USERSY
         1 013245   500001 430100                    FSZN    1,,PR5
         1 013246   013773 604000 1                  TMI     USERSY

     3662    18368    4                  THEN GOTO USERSY;
     3663    18369    4                  TEMP$ = TEMP$ -> POB.SUBLK$( 0 );

  18369  1 013247   400003 236100                    LDQ     3,,PR4
         1 013250   200016 756100                    STQ     TEMP$,,AUTO

     3664    18370    4                  IF TEMP$ -> POB.CODE = 8 /* DEC_CODE */

  18370  1 013251   200016 474500                    LDP4    TEMP$,,AUTO
         1 013252   400000 720100                    LXL0    0,,PR4
         1 013253   000010 100003                    CMPX0   8,DU
         1 013254   013270 601000 1                  TNZ     s:18376

     3665    18371    5                  THEN DO;

     3666    18372    5                       TYPE = 7;    /* USE_CPU# */

  18372  1 013255   000007 235007                    LDA     7,DL
         1 013256   200013 755100                    STA     TYPE,,AUTO

     3667    18373    5                       CALL DDS$DECIMAL( TEMP$, TEMP ) ALTRET( ALTRT );
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:525  

  18373  1 013257   200014 635500                    EPPR5   TEMP,,AUTO
         1 013260   200051 455500                    STP5    @ND_PTR+2,,AUTO
         1 013261   200016 636500                    EPPR6   TEMP$,,AUTO
         1 013262   200050 456500                    STP6    @ND_PTR+1,,AUTO
         1 013263   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 013264   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 013265   000000 701000 xent               TSX1    DDS$DECIMAL
         1 013266   014012 702000 1                  TSX2    ALTRT

     3668    18374    5                     END;

  18374  1 013267   013302 710000 1                  TRA     s:18379

     3669    18375    5                  ELSE DO;

     3670    18376    5                       TYPE = 8;    /* USE_CPU@ */

  18376  1 013270   000010 235007                    LDA     8,DL
         1 013271   200013 755100                    STA     TYPE,,AUTO

     3671    18377    5                       CALL DDS$OCTAL( TEMP$, TEMP ) ALTRET( ALTRT );

  18377  1 013272   200014 635500                    EPPR5   TEMP,,AUTO
         1 013273   200051 455500                    STP5    @ND_PTR+2,,AUTO
         1 013274   200016 636500                    EPPR6   TEMP$,,AUTO
         1 013275   200050 456500                    STP6    @ND_PTR+1,,AUTO
         1 013276   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 013277   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 013300   000000 701000 xent               TSX1    DDS$OCTAL
         1 013301   014012 702000 1                  TSX2    ALTRT

     3672    18378    5                     END;

     3673    18379    4                  USE$CMD.PTA = TEMP;

  18379  1 013302   200014 235100                    LDA     TEMP,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:526  
         1 013303   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 013304   000002 755100                    STA     2,,PR0

     3674    18380    4                END;

     3675    18381    3             USE$CMD.SUBTYPE = TYPE;

  18381  1 013305   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 013306   200013 236100                    LDQ     TYPE,,AUTO
         1 013307   000011 736000                    QLS     9
         1 013310   000001 552110                    STBQ    1,'10'O,PR0
         1 013311   013766 710000 1                  TRA     s:18499

     3676    18382    3          CASE( 263 );                   /* C@UPT - PT */

     3677    18383    3             IF NOT XDEL

  18383  1 013312   200020 234100                    SZN     XDEL,,AUTO
         1 013313   013773 605000 1                  TPL     USERSY

     3678    18384    3             THEN GOTO USERSY;
     3679    18385    3             IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR S_D.
             18385                      CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)

  18385  1 013314   000101 234100                    SZN     65,,PR0
         1 013315   013324 605000 1                  TPL     s:18387
         1 013316   000102 474500                    LDP4    66,,PR0
         1 013317   400001 236100                    LDQ     1,,PR4
         1 013320   002000 316003                    CANQ    1024,DU
         1 013321   013773 601000 1                  TNZ     USERSY
         1 013322   400001 430100                    FSZN    1,,PR4
         1 013323   013773 604000 1                  TMI     USERSY

     3680    18386    3             THEN GOTO USERSY;
     3681    18387    3             CALL DDS$OCTAL(NCMD$ -> POB.SUBLK$(0) -> POB.SUBLK$(0), TEMP)

  18387  1 013324   300003 474500                    LDP4    3,,PR3
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:527  
         1 013325   200014 635500                    EPPR5   TEMP,,AUTO
         1 013326   200051 455500                    STP5    @ND_PTR+2,,AUTO
         1 013327   400003 636500                    EPPR6   3,,PR4
         1 013330   200050 456500                    STP6    @ND_PTR+1,,AUTO
         1 013331   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 013332   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 013333   000000 701000 xent               TSX1    DDS$OCTAL
         1 013334   014012 702000 1                  TSX2    ALTRT

     3682    18388    3               ALTRET(ALTRT);
     3683    18389    3             USE$CMD.TYPE = 2;        /* USE_PT */

  18389  1 013335   000002 220003                    LDX0    2,DU
         1 013336   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 013337   000001 740100                    STX0    1,,PR0

     3684    18390    3             USE$CMD.PTA = TEMP;

  18390  1 013340   200014 235100                    LDA     TEMP,,AUTO
         1 013341   000002 755100                    STA     2,,PR0
         1 013342   013766 710000 1                  TRA     s:18499

     3685    18391    3          CASE( 264, 265, 266 ); /* C@UU@, C@UU#, C@UU - USER@, USER#, USER */

     3686    18392    3             IF NOT XDEL

  18392  1 013343   200020 234100                    SZN     XDEL,,AUTO
         1 013344   013773 605000 1                  TPL     USERSY

     3687    18393    3             THEN GOTO USERSY;
     3688    18394    3             TEMP$ = NCMD$ -> POB.SUBLK$(0);

  18394  1 013345   300003 236100                    LDQ     3,,PR3
         1 013346   200016 756100                    STQ     TEMP$,,AUTO

     3689    18395    3             IF TYPE ~= 266               /* C@UU */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:528  
  18395  1 013347   200013 235100                    LDA     TYPE,,AUTO
         1 013350   000412 115007                    CMPA    266,DL
         1 013351   013377 600000 1                  TZE     s:18405

     3690    18396    3             THEN IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

  18396  1 013352   006714 235100                    LDA     3532,,PR0
         1 013353   000001 115007                    CMPA    1,DL
         1 013354   013366 601000 1                  TNZ     s:18402

     3691    18397    4                  THEN DO;

     3692    18398    4                       CALL DDS$OCTAL(TEMP$ -> POB.SUBLK$(0), TEMP)

  18398  1 013355   200014 634500                    EPPR4   TEMP,,AUTO
         1 013356   200051 454500                    STP4    @ND_PTR+2,,AUTO
         1 013357   000003 036003                    ADLQ    3,DU
         1 013360   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 013361   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 013362   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 013363   000000 701000 xent               TSX1    DDS$OCTAL
         1 013364   014012 702000 1                  TSX2    ALTRT

     3693    18399    4                         ALTRET(ALTRT);
     3694    18400    4                     END;

  18400  1 013365   013400 710000 1                  TRA     s:18406

     3695    18401    4                  ELSE DO;

     3696    18402    4                       CALL DDS$HEX(TEMP$ -> POB.SUBLK$(0), TEMP)

  18402  1 013366   200014 634500                    EPPR4   TEMP,,AUTO
         1 013367   200051 454500                    STP4    @ND_PTR+2,,AUTO
         1 013370   000003 036003                    ADLQ    3,DU
         1 013371   200050 756100                    STQ     @ND_PTR+1,,AUTO
         1 013372   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:529  
         1 013373   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 013374   000000 701000 xent               TSX1    DDS$HEX
         1 013375   014012 702000 1                  TSX2    ALTRT

     3697    18403    4                         ALTRET(ALTRT);
     3698    18404    4                     END;

  18404  1 013376   013400 710000 1                  TRA     s:18406

     3699    18405    3             ELSE TEMP = 0;                /* INDICATES USE CURRENT USER */

  18405  1 013377   200014 450100                    STZ     TEMP,,AUTO

     3700    18406    3             IF TYPE = 264               /* C@UU@ */

  18406  1 013400   200013 235100                    LDA     TYPE,,AUTO
         1 013401   000410 115007                    CMPA    264,DL
         1 013402   013422 601000 1                  TNZ     s:18414

     3701    18407    4             THEN DO;

     3702    18408    4                  IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18408                           S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)

  18408  1 013403   000000 470400 xsym               LDP0    S_D$
         1 013404   000101 234100                    SZN     65,,PR0
         1 013405   013414 605000 1                  TPL     s:18410
         1 013406   000102 471500                    LDP1    66,,PR0
         1 013407   100001 236100                    LDQ     1,,PR1
         1 013410   002000 316003                    CANQ    1024,DU
         1 013411   013773 601000 1                  TNZ     USERSY
         1 013412   100001 430100                    FSZN    1,,PR1
         1 013413   013773 604000 1                  TMI     USERSY

     3703    18409    4                  THEN GOTO USERSY;
     3704    18410    4                  USE$CMD.TYPE = 3; /* USE_USER@ */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:530  
  18410  1 013414   000003 220003                    LDX0    3,DU
         1 013415   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 013416   100001 740100                    STX0    1,,PR1

     3705    18411    4                  USE$CMD.PTA = TEMP;

  18411  1 013417   200014 236100                    LDQ     TEMP,,AUTO
         1 013420   100002 756100                    STQ     2,,PR1

     3706    18412    4                END;

  18412  1 013421   013427 710000 1                  TRA     s:18417

     3707    18413    4             ELSE DO;

     3708    18414    4                  USE$CMD.TYPE = 4; /* USE_USER# */

  18414  1 013422   000004 220003                    LDX0    4,DU
         1 013423   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 013424   000001 740100                    STX0    1,,PR0

     3709    18415    4                  USE$CMD.USERNO = TEMP;

  18415  1 013425   200014 236100                    LDQ     TEMP,,AUTO
         1 013426   000002 756100                    STQ     2,,PR0

     3710    18416    4                END;

     3711    18417    3             IF TYPE ~= 266 AND TEMP$ -> POB.NSB = 1 /* C@UU */

  18417  1 013427   000412 115007                    CMPA    266,DL
         1 013430   013435 600000 1                  TZE     s:18417+6
         1 013431   200016 470500                    LDP0    TEMP$,,AUTO
         1 013432   000001 220100                    LDX0    1,,PR0
         1 013433   000001 100003                    CMPX0   1,DU
         1 013434   013442 600000 1                  TZE     s:18419
         1 013435   000412 115007                    CMPA    266,DL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:531  
         1 013436   013445 601000 1                  TNZ     s:18420
         1 013437   200016 470500                    LDP0    TEMP$,,AUTO
         1 013440   000001 220100                    LDX0    1,,PR0
         1 013441   013445 601000 1                  TNZ     s:18420

     3712    18418    3               OR TYPE = 266 AND TEMP$ -> POB.NSB = 0 /* C@UU */
     3713    18419    3             THEN TEMP = 450;           /* C@USER DEFAULT LS */

  18419  1 013442   000702 236007                    LDQ     450,DL
         1 013443   200014 756100                    STQ     TEMP,,AUTO
         1 013444   013453 710000 1                  TRA     s:18421

     3714    18420    3             ELSE TEMP = TEMP$ -> POB.SUBLK$(TEMP$ -> POB.NSB - 1) -> POB.CODE;

  18420  1 013445   200016 470500                    LDP0    TEMP$,,AUTO
         1 013446   000001 220100                    LDX0    1,,PR0
         1 013447   000002 471510                    LDP1    2,X0,PR0
         1 013450   100000 236100                    LDQ     0,,PR1
         1 013451   777777 376007                    ANQ     -1,DL
         1 013452   200014 756100                    STQ     TEMP,,AUTO

     3715    18421    4             DO CASE( TEMP );

  18421  1 013453   000702 136007                    SBLQ    450,DL
         1 013454   000005 116007                    CMPQ    5,DL
         1 013455   013457 602006 1                  TNC     s:18421+4,QL
         1 013456   013766 710000 1                  TRA     s:18499
         1 013457   013464 710000 1                  TRA     s:18423
         1 013460   013470 710000 1                  TRA     s:18425
         1 013461   013505 710000 1                  TRA     s:18429
         1 013462   013522 710000 1                  TRA     s:18433
         1 013463   013537 710000 1                  TRA     s:18437

     3716    18422    4               CASE( 450 );             /* C@USER - USER LS */

     3717    18423    4                  USE$CMD.LS = 1;    /* LS_USER */

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:532  
  18423  1 013464   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 013465   001000 236007                    LDQ     512,DL
         1 013466   100001 552110                    STBQ    1,'10'O,PR1
         1 013467   013766 710000 1                  TRA     s:18499

     3718    18424    4               CASE( 451 );              /* C@ICP - ICP LS */

     3719    18425    4                  IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18425                           S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)

  18425  1 013470   000000 471400 xsym               LDP1    S_D$
         1 013471   100101 234100                    SZN     65,,PR1
         1 013472   013501 605000 1                  TPL     s:18427
         1 013473   100102 473500                    LDP3    66,,PR1
         1 013474   300001 236100                    LDQ     1,,PR3
         1 013475   002000 316003                    CANQ    1024,DU
         1 013476   013773 601000 1                  TNZ     USERSY
         1 013477   300001 430100                    FSZN    1,,PR3
         1 013500   013773 604000 1                  TMI     USERSY

     3720    18426    4                  THEN GOTO USERSY;
     3721    18427    4                  USE$CMD.LS = 4;     /* LS_ICP */

  18427  1 013501   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 013502   004000 236007                    LDQ     2048,DL
         1 013503   300001 552110                    STBQ    1,'10'O,PR3
         1 013504   013766 710000 1                  TRA     s:18499

     3722    18428    4               CASE( 452 );              /* C@IDB - IDB LS */

     3723    18429    4                  IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18429                           S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)

  18429  1 013505   000000 471400 xsym               LDP1    S_D$
         1 013506   100101 234100                    SZN     65,,PR1
         1 013507   013516 605000 1                  TPL     s:18431
         1 013510   100102 473500                    LDP3    66,,PR1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:533  
         1 013511   300001 236100                    LDQ     1,,PR3
         1 013512   002000 316003                    CANQ    1024,DU
         1 013513   013773 601000 1                  TNZ     USERSY
         1 013514   300001 430100                    FSZN    1,,PR3
         1 013515   013773 604000 1                  TMI     USERSY

     3724    18430    4                  THEN GOTO USERSY;
     3725    18431    4                  USE$CMD.LS = 2;     /* LS_IDB */

  18431  1 013516   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 013517   002000 236007                    LDQ     1024,DL
         1 013520   300001 552110                    STBQ    1,'10'O,PR3
         1 013521   013766 710000 1                  TRA     s:18499

     3726    18432    4               CASE( 453 );              /* C@ASL - ASL LS */

     3727    18433    4                  IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18433                           S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)

  18433  1 013522   000000 471400 xsym               LDP1    S_D$
         1 013523   100101 234100                    SZN     65,,PR1
         1 013524   013533 605000 1                  TPL     s:18435
         1 013525   100102 473500                    LDP3    66,,PR1
         1 013526   300001 236100                    LDQ     1,,PR3
         1 013527   002000 316003                    CANQ    1024,DU
         1 013530   013773 601000 1                  TNZ     USERSY
         1 013531   300001 430100                    FSZN    1,,PR3
         1 013532   013773 604000 1                  TMI     USERSY

     3728    18434    4                  THEN GOTO USERSY;
     3729    18435    4                  USE$CMD.LS = 3;     /* LS_ASL */

  18435  1 013533   200005 473500                    LDP3    LASTBLT$,,AUTO
         1 013534   003000 236007                    LDQ     1536,DL
         1 013535   300001 552110                    STBQ    1,'10'O,PR3
         1 013536   013766 710000 1                  TRA     s:18499

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:534  
     3730    18436    4               CASE( 454 );            /* C@LSMON - MONITOR LS */

     3731    18437    4                  USE$CMD.SUBTYPE = USE$CMD.TYPE; /* UU,UU#,UU@ */

  18437  1 013537   200005 471500                    LDP1    LASTBLT$,,AUTO
         1 013540   100001 236100                    LDQ     1,,PR1
         1 013541   000011 772000                    QRL     9
         1 013542   100001 552110                    STBQ    1,'10'O,PR1

     3732    18438    4                  USE$CMD.TYPE = 0;  /* Change type to USE_MON */

  18438  1 013543   000000 220003                    LDX0    0,DU
         1 013544   100001 740100                    STX0    1,,PR1

     3733    18439    4               END;                        /* DO CASE( TEMP - C@USER ) */

  18439  1 013545   013766 710000 1                  TRA     s:18499

     3734    18440    3          CASE( 267 );                 /* C@UNODE - NODE */

     3735    18441        /*        IF S_D.ANLZ
     3736    18442                  THEN GOTO USERNAN;    */
     3737    18443    3             IF NOT S_D.OVERLAID

  18443  1 013546   004764 234100                    SZN     2548,,PR0
         1 013547   013770 605000 1                  TPL     USEROV

     3738    18444    3             THEN GOTO USEROV;
     3739    18445    3             TEMP$ = NCMD$ -> POB.SUBLK$( 0 ) -> POB.SUBLK$( 0 ) -> POB.SUBLK$( 0 );

  18445  1 013550   300003 474500                    LDP4    3,,PR3
         1 013551   400003 475500                    LDP5    3,,PR4
         1 013552   500003 236100                    LDQ     3,,PR5
         1 013553   200016 756100                    STQ     TEMP$,,AUTO

     3740    18446    3             CALL DDS$ND_SRCH( TEMP$, TEMP ) ALTRET( ALTRT );

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:535  
  18446  1 013554   200014 634500                    EPPR4   TEMP,,AUTO
         1 013555   200051 454500                    STP4    @ND_PTR+2,,AUTO
         1 013556   200016 635500                    EPPR5   TEMP$,,AUTO
         1 013557   200050 455500                    STP5    @ND_PTR+1,,AUTO
         1 013560   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 013561   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 013562   000000 701000 xent               TSX1    DDS$ND_SRCH
         1 013563   014012 702000 1                  TSX2    ALTRT

     3741    18447    3             USE$CMD.TYPE = 6;      /* USE_NODE */

  18447  1 013564   000006 220003                    LDX0    6,DU
         1 013565   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 013566   000001 740100                    STX0    1,,PR0

     3742    18448    3             USE$CMD.NODE = TEMP;

  18448  1 013567   200014 235100                    LDA     TEMP,,AUTO
         1 013570   000002 755100                    STA     2,,PR0
         1 013571   013766 710000 1                  TRA     s:18499

     3743    18449    3          CASE( 268 );                   /* C@UG1 */

     3744    18450    3             IF NOT XDEL

  18450  1 013572   200020 234100                    SZN     XDEL,,AUTO
         1 013573   013773 605000 1                  TPL     USERSY

     3745    18451    3             THEN GOTO USERSY;
     3746    18452    3             IF S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR S_D.
             18452                      CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ)

  18452  1 013574   000101 234100                    SZN     65,,PR0
         1 013575   013604 605000 1                  TPL     s:18455
         1 013576   000102 474500                    LDP4    66,,PR0
         1 013577   400001 236100                    LDQ     1,,PR4
         1 013600   002000 316003                    CANQ    1024,DU
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:536  
         1 013601   013773 601000 1                  TNZ     USERSY
         1 013602   400001 430100                    FSZN    1,,PR4
         1 013603   013773 604000 1                  TMI     USERSY

     3747    18453    3             THEN GOTO USERSY;
     3748    18454        /*N* PUT CODE FOR BUILD USE GHOST1 HERE */
     3749    18455    3             S_D.ERROR = 23;         /* E@UERR12 */

  18455  1 013604   000027 236007                    LDQ     23,DL
         1 013605   000013 756100                    STQ     11,,PR0

     3750    18456    3             GOTO ALTRT;

  18456  1 013606   014012 710000 1                  TRA     ALTRT

     3751    18457    3          CASE(269);

     3752    18458    3             IF XDEL

  18458  1 013607   200020 234100                    SZN     XDEL,,AUTO
         1 013610   013773 604000 1                  TMI     USERSY

     3753    18459    3             THEN GOTO USERSY;
     3754    18460    3             TEMP$ = NCMD$ -> POB.SUBLK$(0) -> POB.SUBLK$(0);

  18460  1 013611   300003 474500                    LDP4    3,,PR3
         1 013612   400003 236100                    LDQ     3,,PR4
         1 013613   200016 756100                    STQ     TEMP$,,AUTO

     3755    18461    3             TEMP1 = TEMP$ -> POB.CODE;

  18461  1 013614   200016 474500                    LDP4    TEMP$,,AUTO
         1 013615   400000 236100                    LDQ     0,,PR4
         1 013616   777777 376007                    ANQ     -1,DL
         1 013617   200015 756100                    STQ     TEMP1,,AUTO

     3756    18462    3             IF TEMP1 = 106             /* C@HOST */
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:537  

  18462  1 013620   000152 116007                    CMPQ    106,DL
         1 013621   013625 601000 1                  TNZ     s:18465

     3757    18463    3             THEN USE$CMD.HOST = '1'B;

  18463  1 013622   400000 236003                    LDQ     -131072,DU
         1 013623   100003 256100                    ORSQ    3,,PR1
         1 013624   013766 710000 1                  TRA     s:18499

     3758    18464    4             ELSE DO;                      /* RES_CODE */

     3759    18465    4                  USE$CMD.FPRG = '1'B;

  18465  1 013625   200000 236003                    LDQ     65536,DU
         1 013626   100003 256100                    ORSQ    3,,PR1

     3760    18466    4                  USE$CMD.FPRG_RES = TEMP$ -> SYM.TEXT;

  18466  1 013627   200016 474500                    LDP4    TEMP$,,AUTO
         1 013630   400004 236100                    LDQ     4,,PR4
         1 013631   000033 772000                    QRL     27
         1 013632   000000 620006                    EAX0    0,QL
         1 013633   040100 100540                    MLR     fill='040'O
         1 013634   400004 200010                    ADSC9   4,,PR4                   cn=1,n=*X0
         1 013635   100004 000010                    ADSC9   4,,PR1                   cn=0,n=8

     3761    18467    4                END;

  18467  1 013636   013766 710000 1                  TRA     s:18499

     3762    18468    3          CASE(270);                /* C@USECTION */

     3763    18469    3             IF NOT S_D.RUM AND NOT(S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ ->
             18469                      FPRG$CONTEXT.XDELTA

  18469  1 013637   004755 234100                    SZN     2541,,PR0
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:538  
         1 013640   013651 604000 1                  TMI     s:18472
         1 013641   000101 234100                    SZN     65,,PR0
         1 013642   013777 605000 1                  TPL     USERNRUM
         1 013643   000102 474500                    LDP4    66,,PR0
         1 013644   400001 236100                    LDQ     1,,PR4
         1 013645   002000 316003                    CANQ    1024,DU
         1 013646   013651 601000 1                  TNZ     s:18472
         1 013647   400001 430100                    FSZN    1,,PR4
         1 013650   013777 605000 1                  TPL     USERNRUM

     3764    18470    3               OR S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ))
     3765    18471    3             THEN GOTO USERNRUM;
     3766    18472    3             IF NOT S_D.RUM_FEP

  18472  1 013651   007017 234100                    SZN     3599,,PR0
         1 013652   013773 605000 1                  TPL     USERSY

     3767    18473    3             THEN GOTO USERSY;
     3768    18474    3             USE$CMD.TYPE = 9;   /* USE_SECTION */

  18474  1 013653   000011 221003                    LDX1    9,DU
         1 013654   100001 741100                    STX1    1,,PR1

     3769    18475    3             IF NCMD$ -> POB.SUBLK$(0) -> POB.NSB = 0

  18475  1 013655   300003 474500                    LDP4    3,,PR3
         1 013656   400001 220100                    LDX0    1,,PR4
         1 013657   013662 601000 1                  TNZ     s:18477

     3770    18476    3             THEN USE$CMD.SECTION = 0;

  18476  1 013660   100002 450100                    STZ     2,,PR1
         1 013661   013766 710000 1                  TRA     s:18499

     3771    18477    3            ELSE USE$CMD.SECTION = NCMD$ -> POB.SUBLK$(0) -> POB.SUBLK$(0) -> POB.CODE
             18477                      ;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:539  
  18477  1 013662   400003 475500                    LDP5    3,,PR4
         1 013663   500000 236100                    LDQ     0,,PR5
         1 013664   777777 376007                    ANQ     -1,DL
         1 013665   100002 756100                    STQ     2,,PR1
         1 013666   013766 710000 1                  TRA     s:18499

     3772    18478    3          CASE(271);                 /* C@USEASDT */

     3773    18479    3             IF NOT (S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18479                      S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ))

  18479  1 013667   000101 234100                    SZN     65,,PR0
         1 013670   013773 605000 1                  TPL     USERSY
         1 013671   000102 474500                    LDP4    66,,PR0
         1 013672   400001 236100                    LDQ     1,,PR4
         1 013673   002000 316003                    CANQ    1024,DU
         1 013674   013677 601000 1                  TNZ     s:18481
         1 013675   400001 430100                    FSZN    1,,PR4
         1 013676   013773 605000 1                  TPL     USERSY

     3774    18480    3             THEN GOTO USERSY;
     3775    18481    3             USE$CMD.TYPE = 10;      /* USE_ASDT */

  18481  1 013677   000012 221003                    LDX1    10,DU
         1 013700   100001 741100                    STX1    1,,PR1

     3776    18482    3             TEMP$ = NCMD$ -> POB.SUBLK$(0) -> POB.SUBLK$(0);

  18482  1 013701   300003 474500                    LDP4    3,,PR3
         1 013702   400003 236100                    LDQ     3,,PR4
         1 013703   200016 756100                    STQ     TEMP$,,AUTO

     3777    18483    3             TEMP1 = TEMP$ -> POB.CODE;

  18483  1 013704   200016 474500                    LDP4    TEMP$,,AUTO
         1 013705   400000 236100                    LDQ     0,,PR4
         1 013706   777777 376007                    ANQ     -1,DL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:540  
         1 013707   200015 756100                    STQ     TEMP1,,AUTO

     3778    18484    3             CALL DDS$POSITION(TEMP$, V) ALTRET(ALTRT);

  18484  1 013710   200017 635500                    EPPR5   V,,AUTO
         1 013711   200051 455500                    STP5    @ND_PTR+2,,AUTO
         1 013712   200016 636500                    EPPR6   TEMP$,,AUTO
         1 013713   200050 456500                    STP6    @ND_PTR+1,,AUTO
         1 013714   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 013715   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 013716   000000 701000 xent               TSX1    DDS$POSITION
         1 013717   014012 702000 1                  TSX2    ALTRT

     3779    18485    3             IF (V > BITBIN('3777777'O) )

  18485  1 013720   000025 236000 0                  LDQ     UTSX+8
         1 013721   000017 772000                    QRL     15
         1 013722   200017 116100                    CMPQ    V,,AUTO
         1 013723   014002 602000 1                  TNC     ERR25

     3780    18486    3             THEN GOTO ERR25;
     3781    18487    3             USE$CMD.POSITION = V;

  18487  1 013724   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 013725   200017 235100                    LDA     V,,AUTO
         1 013726   000002 755100                    STA     2,,PR0
         1 013727   013766 710000 1                  TRA     s:18499

     3782    18488    3          CASE(272);                  /* C@USELVL */

     3783    18489    3             IF NOT (S_D.FPRG AND (S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.XDELTA OR
             18489                      S_D.CURRENT_FPRG_CONTEXT$ -> FPRG$CONTEXT.FANLZ))

  18489  1 013730   000101 234100                    SZN     65,,PR0
         1 013731   013773 605000 1                  TPL     USERSY
         1 013732   000102 474500                    LDP4    66,,PR0
         1 013733   400001 236100                    LDQ     1,,PR4
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:541  
         1 013734   002000 316003                    CANQ    1024,DU
         1 013735   013740 601000 1                  TNZ     s:18491
         1 013736   400001 430100                    FSZN    1,,PR4
         1 013737   013773 605000 1                  TPL     USERSY

     3784    18490    3             THEN GOTO USERSY;
     3785    18491    3             USE$CMD.TYPE = 10;      /* USE_ASDT */

  18491  1 013740   000012 221003                    LDX1    10,DU
         1 013741   100001 741100                    STX1    1,,PR1

     3786    18492    3             TEMP$ = NCMD$ -> POB.SUBLK$(0) -> POB.SUBLK$(0);

  18492  1 013742   300003 474500                    LDP4    3,,PR3
         1 013743   400003 236100                    LDQ     3,,PR4
         1 013744   200016 756100                    STQ     TEMP$,,AUTO

     3787    18493    3             TEMP1 = TEMP$ -> POB.CODE;

  18493  1 013745   200016 474500                    LDP4    TEMP$,,AUTO
         1 013746   400000 236100                    LDQ     0,,PR4
         1 013747   777777 376007                    ANQ     -1,DL
         1 013750   200015 756100                    STQ     TEMP1,,AUTO

     3788    18494    3             CALL DDS$HEX(TEMP$, V) ALTRET(ALTRT);

  18494  1 013751   200017 635500                    EPPR5   V,,AUTO
         1 013752   200051 455500                    STP5    @ND_PTR+2,,AUTO
         1 013753   200016 636500                    EPPR6   TEMP$,,AUTO
         1 013754   200050 456500                    STP6    @ND_PTR+1,,AUTO
         1 013755   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 013756   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 013757   000000 701000 xent               TSX1    DDS$HEX
         1 013760   014012 702000 1                  TSX2    ALTRT

     3789    18495    3             IF (V > 64)

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:542  
  18495  1 013761   200017 235100                    LDA     V,,AUTO
         1 013762   000101 115007                    CMPA    65,DL
         1 013763   014006 603000 1                  TRC     USERCONS

     3790    18496    3             THEN GOTO USERCONS;
     3791    18497    3             USE$CMD.LEVEL = V;

  18497  1 013764   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 013765   000002 755100                    STA     2,,PR0

     3792    18498    3          END;                             /* DO CASE( TYPE - C@UCURR) */

     3793    18499    2        RETURN;

  18499  1 013766   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 013767   000001 702211                    TSX2  ! 1,X1

     3794    18500
     3795    18501    2   USEROV: S_D.ERROR = 117; GOTO ALTRT; /* E@NOT_OVERLAID */

  18501  1 013770   000165 236007       USEROV       LDQ     117,DL
         1 013771   000013 756100                    STQ     11,,PR0

  18501  1 013772   014012 710000 1                  TRA     ALTRT

     3796    18502    2   USERSY: S_D.ERROR = 53; GOTO ALTRT; /* E@SYNTAX */

  18502  1 013773   000065 235007       USERSY       LDA     53,DL
         1 013774   000000 470400 xsym               LDP0    S_D$
         1 013775   000013 755100                    STA     11,,PR0

  18502  1 013776   014012 710000 1                  TRA     ALTRT

     3797    18503        /* USERNAN: S_D.ERROR = E@NOTANLZMODE; GOTO ALTRT;    E@NOTANLZMODE */
     3798    18504    2   USERNRUM: S_D.ERROR = 321; GOTO ALTRT; /* E@RUMONLY_DIR */

  18504  1 013777   000501 236007       USERNRUM     LDQ     321,DL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:543  
         1 014000   000013 756100                    STQ     11,,PR0

  18504  1 014001   014012 710000 1                  TRA     ALTRT

     3799    18505    2   ERR25: S_D.ERROR = 25; GOTO ALTRT; /* E@UERR25 */

  18505  1 014002   000031 235007       ERR25        LDA     25,DL
         1 014003   000000 470400 xsym               LDP0    S_D$
         1 014004   000013 755100                    STA     11,,PR0

  18505  1 014005   014012 710000 1                  TRA     ALTRT

     3800    18506    2   USERCONS: S_D.ERROR = 64; GOTO ALTRT; /* E@CONSTOOBIG */

  18506  1 014006   000100 236007       USERCONS     LDQ     64,DL
         1 014007   000000 470400 xsym               LDP0    S_D$
         1 014010   000013 756100                    STQ     11,,PR0

  18506  1 014011   014012 710000 1                  TRA     ALTRT

     3801    18507
     3802    18508    2   ALTRT:
     3803    18509    2        ALTRETURN;

  18509  1 014012   200012 221300       ALTRT        LDX1  ! ZITEM$+3,,AUTO
         1 014013   000000 702211                    TSX2  ! 0,X1

     3804    18510    2   END DDS$BLD_USE;
     3805    18511        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:544  
     3806    18512        /*F* NAME: DDS$BLD_WAIT
     3807    18513             PURPOSE: TO BUILD THE WAIT COMMAND.
     3808    18514             DESCRIPTION: BUILDS THE WAIT COMMAND. */
     3809    18515        /*D* NAME: DDS$BLD_WAIT
     3810    18516             CALL: CALL DDS$BLD_WAIT ALTRET( ERROR );
     3811    18517             ENVIRONMENT: DDS$SCAN ACTIVE
     3812    18518             INPUT: NCMD$ - PTR TO "WAIT" NODE.
     3813    18519             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3814    18520             SCRATCH: LOCAL AUTO ONLY.
     3815    18521             DESCRIPTION: */
     3816    18522
     3817    18523    1   DDS$BLD_WAIT: PROC ALTRET;

  18523  1 014014   200012 741300       DDS$BLD_WAIT STX1  ! ZITEM$+3,,AUTO

     3818    18524
     3819    18525        %ALL_ATTACH(NAME=WAIT$CMD,STCLASS="BASED(LASTBLT$)");
     3820    18540
     3821    18541    2        CALL DDS$ATTDIRA(SIZEW(WAIT$CMD), 40) /* C_WAIT */

  18541  1 014015   000176 630400 2                  EPPR0   126
         1 014016   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 014017   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 014020   014023 702000 1                  TSX2    ALTRT

     3822    18542    2          ALTRET(ALTRT);
     3823    18543    2        RETURN;

  18543  1 014021   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 014022   000001 702211                    TSX2  ! 1,X1

     3824    18544
     3825    18545    2   ALTRT:
     3826    18546    2        ALTRETURN;

  18546  1 014023   200012 221300       ALTRT        LDX1  ! ZITEM$+3,,AUTO
         1 014024   000000 702211                    TSX2  ! 0,X1
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:545  

     3827    18547    2   END DDS$BLD_WAIT;
     3828    18548        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:546  
     3829    18549        /*F* NAME: DDS$BLD_XEQ
     3830    18550             PURPOSE: TO BUILD THE XEQ COMMAND.
     3831    18551             DESCRIPTION: BUILDS THE XEQ COMMAND. */
     3832    18552        /*D* NAME: DDS$BLD_XEQ
     3833    18553             CALL: CALL DDS$BLD_XEQ ALTRET( ERROR );
     3834    18554             INTERFACE: DDS$INSTR
     3835    18555                        DDS$VREFCOM
     3836    18556             ENVIRONMENT: DDS$SCAN ACTIVE
     3837    18557             INPUT: NCMD$ - PTR TO "XEQ" NODE.
     3838    18558             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
     3839    18559             SCRATCH: LOCAL AUTO ONLY.
     3840    18560             DESCRIPTION: */
     3841    18561
     3842    18562    1   DDS$BLD_XEQ: PROC ALTRET;

  18562  1 014025   200012 741300       DDS$BLD_XEQ  STX1  ! ZITEM$+3,,AUTO

     3843    18563
     3844    18564    2   DCL N$ PTR;
     3845    18565        %XEQ$CMD (STCLASS="BASED(LASTBLT$)");
     3846    18579
     3847    18580    2        CALL DDS$ATTDIRA( SIZEW( XEQ$CMD ), 68 ) ALTRET( ARET ); /* C_XEQ */

  18580  1 014026   000201 630400 2                  EPPR0   129
         1 014027   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 014030   000000 701000 xent               TSX1    DDS$ATTDIRA
         1 014031   014114 702000 1                  TSX2    ARET

     3848    18581    2        ZITEM$ = S_D.D$;                   /* ASSUME NOT INSTRUCTION */

  18581  1 014032   000000 470400 xsym               LDP0    S_D$
         1 014033   000044 236100                    LDQ     36,,PR0
         1 014034   200007 756100                    STQ     ZITEM$,,AUTO

     3849    18582    2        N$ = NCMD$ -> POB.SUBLK$( 0 );

  18582  1 014035   200004 471500                    LDP1    NCMD$,,AUTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:547  
         1 014036   100003 236100                    LDQ     3,,PR1
         1 014037   200013 756100                    STQ     N$,,AUTO

     3850    18583    2        IF N$ -> POB.CODE = 49     /* INSTR_CODE */

  18583  1 014040   200013 473500                    LDP3    N$,,AUTO
         1 014041   300000 720100                    LXL0    0,,PR3
         1 014042   000061 100003                    CMPX0   49,DU
         1 014043   014071 601000 1                  TNZ     s:18591

     3851    18584    3        THEN DO;

     3852    18585    3             CALL DDS$INSTR( N$ ) ALTRET( ARET );

  18585  1 014044   200013 634500                    EPPR4   N$,,AUTO
         1 014045   200050 454500                    STP4    @ND_PTR+1,,AUTO
         1 014046   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 014047   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 014050   000000 701000 xent               TSX1    DDS$INSTR
         1 014051   014114 702000 1                  TSX2    ARET

     3853    18586    3             XEQ$CMD.IGNPR = S_D.IGNPR;

  18586  1 014052   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 014053   000000 471400 xsym               LDP1    S_D$
         1 014054   100504 236100                    LDQ     324,,PR1
         1 014055   000023 772000                    QRL     19
         1 014056   000001 676100                    ERQ     1,,PR0
         1 014057   200000 376007                    ANQ     65536,DL
         1 014060   000001 656100                    ERSQ    1,,PR0

     3854    18587    3             XEQ$CMD.AWDX = S_D.AWDX;

  18587  1 014061   100505 236100                    LDQ     325,,PR1
         1 014062   000024 772000                    QRL     20
         1 014063   000001 676100                    ERQ     1,,PR0
         1 014064   100000 376007                    ANQ     32768,DL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:548  
         1 014065   000001 656100                    ERSQ    1,,PR0

     3855    18588    3             XEQ$CMD.INSTR = '1'B;

  18588  1 014066   400000 236007                    LDQ     -131072,DL
         1 014067   000001 256100                    ORSQ    1,,PR0

     3856    18589    3           END;

  18589  1 014070   014107 710000 1                  TRA     s:18598

     3857    18590    3        ELSE DO;

     3858    18591    3             CALL DDS$VREFCOM( N$ ) ALTRET( ARET ); /* ASSUME VREF_CODE */

  18591  1 014071   200013 634500                    EPPR4   N$,,AUTO
         1 014072   200050 454500                    STP4    @ND_PTR+1,,AUTO
         1 014073   200050 630500                    EPPR0   @ND_PTR+1,,AUTO
         1 014074   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 014075   000000 701000 xent               TSX1    DDS$VREFCOM
         1 014076   014114 702000 1                  TSX2    ARET

     3859    18592    3             IF ( NOT ZITEM.FLAGS.MDSE.E )

  18592  1 014077   200007 470500                    LDP0    ZITEM$,,AUTO
         1 014100   000001 236100                    LDQ     1,,PR0
         1 014101   040000 316003                    CANQ    16384,DU
         1 014102   014107 601000 1                  TNZ     s:18598

     3860    18593    4             THEN DO;                      /* LOCATION NOT EVALUATABLE */

     3861    18594    4                  S_D.ERROR = 43;    /*E@NOEVAL */

  18594  1 014103   000053 235007                    LDA     43,DL
         1 014104   000000 471400 xsym               LDP1    S_D$
         1 014105   100013 755100                    STA     11,,PR1

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:549  
     3862    18595    4                  GOTO ARET;

  18595  1 014106   014114 710000 1                  TRA     ARET

     3863    18596    4                END;
     3864    18597    3           END;
     3865    18598    2        XEQ$CMD.NUM = 1;

  18598  1 014107   000001 220003                    LDX0    1,DU
         1 014110   200005 470500                    LDP0    LASTBLT$,,AUTO
         1 014111   000001 740100                    STX0    1,,PR0

     3866    18599
     3867    18600    2        RETURN;

  18600  1 014112   200012 221300                    LDX1  ! ZITEM$+3,,AUTO
         1 014113   000001 702211                    TSX2  ! 1,X1

     3868    18601
     3869    18602    2   ARET: ALTRETURN;

  18602  1 014114   200012 221300       ARET         LDX1  ! ZITEM$+3,,AUTO
         1 014115   000000 702211                    TSX2  ! 0,X1

     3870    18603
     3871    18604    2   END DDS$BLD_XEQ;
     3872    18605        %EJECT;
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:550  
     3873    18606    1   DDS$SAVE_L6INSTR_PTR: PROC( ND_PTR );

  18606  1 014116   200046 741300       DDS$SAVE_L6* STX1  ! V+1,,AUTO

     3874    18607
     3875    18608    2   DCL ND_PTR PTR;
     3876    18609    2   DCL UBIN36 PTR BASED;
     3877    18610        %PARSE$OUT ( NAME = L6_OUT$BLK, STCLASS = BASED );
     3878    18655
     3879    18656    2        S_D.D$->UBIN36 = ND_PTR -> L6_OUT$BLK.SUBLK$(0);

  18656  1 014117   000000 470400 xsym               LDP0    S_D$
         1 014120   000044 471500                    LDP1    36,,PR0
         1 014121   200047 473500                    LDP3    @ND_PTR,,AUTO
         1 014122   300000 474500                    LDP4    0,,PR3
         1 014123   400003 236100                    LDQ     3,,PR4
         1 014124   100000 756100                    STQ     0,,PR1

     3880    18657    2        S_D.D$ = PINCRW( S_D.D$,1 );

  18657  1 014125   000044 236100                    LDQ     36,,PR0
         1 014126   000001 036003                    ADLQ    1,DU
         1 014127   000044 756100                    STQ     36,,PR0

     3881    18658    2        RETURN;

  18658  1 014130   200046 221300                    LDX1  ! V+1,,AUTO
         1 014131   000001 702211                    TSX2  ! 1,X1

QUEST
 Sect OctLoc
   0     000   001077 ******                                                    .?..

UTSP
 Sect OctLoc
   0     001   115115 057104   104057 131131   040110 110072   115115 072123    MM/DD/YY HH:MM:S
   0     005   123056 124124                                                    S.TT
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:551  

UTSM
 Sect OctLoc
   0     006   000000 000014   000000 000037   000000 000143   000000 000027    ...........c....
   0     012   000000 000073   000000 000073   000000 000143                    ...;...;...c

UTSX
 Sect OctLoc
   0     015   000000 000000   000000 000003   000000 000006   000000 000011    ................
   0     021   000000 000014   000000 000017   000000 000022                    ............

(unnamed)
 Sect OctLoc
   0     024   106105 040040   377777 700000   102162 145141   153160 157151    FE  ....Breakpoi
   0     030   156164 040040   040163 145164   040151 156141   143164 151166    nt   set inactiv
   0     034   145040 142171   040104 105114   124101 040040   103107 057040    e by DELTA  CG/
   0     040   117156 040103   141154 154040   102162 145141   153160 157151    On Call Breakpoi
   0     044   156164 040040                                                    nt

(unnamed)
 Sect OctLoc
   2     000   000005 006000   777777 377777   000000 000072   000005 006000    ...........:....
   2     004   000002 006000   000000 000112   000014 006000   000005 006000    .......J........
   2     010   000000 000042   000000 000073   000010 006000   000011 006000    ..."...;........
   2     014   677777 777777   577777 777777   100040 040040   000012 006000    ........@   ....
   2     020   000004 006000   000002 006000   005337 600000   000000 000026    ................
   2     024   000000 000131   000023 006000   000024 006000   000014 006000    ...Y............
   2     030   000006 006000   000004 006000   000007 006000   000004 006000    ................
   2     034   000010 006000   000000 000030   000000 000126   000035 006000    ...........V....
   2     040   000036 006000   000004 006000   000012 006000   000100 663100    .............@.@
   2     044   000000 000020   000004 006000   000044 006000   777777 737777    .........$......
   2     050   000000 000014   000005 006000   000050 006000   000000 000015    .........(......
   2     054   000005 006000   000053 006000   000000 000036   000000 000024    .....+..........
   2     060   000056 006000   000057 006000   000000 000022   000000 000033    ...../..........
   2     064   000062 006000   000063 006000   000000 000035   000005 006000    .2...3..........
   2     070   000066 006000   000030 006000   000000 000034   000004 006000    .6..............
   2     074   000072 006000   000000 000133   000015 006000   000075 006000    .:.....[.....=..
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:552  
   2     100   000000 000037   000012 006000   000100 006000   005341 600000    .........@......
   2     104   000012 006000   000010 006000   000004 006000   000035 006000    ................
   2     110   000000 000111   000007 006000   000110 006000   000000 000031    ...I.....H......
   2     114   000014 006000   000113 006000   000000 000047   000006 006000    .....K.....'....
   2     120   000116 006000   000000 000070   000004 006000   000121 006000    .N.....8.....Q..
   2     124   000000 000067   000004 006000   000124 006000   000000 000110    ...7.....T.....H
   2     130   000035 006000   000127 006000   000000 000115   000004 006000    .....W.....M....
   2     134   000132 006000   000000 000055   000012 006000   000135 006000    .Z.....-.....]..
   2     140   000000 000054   000056 006000   000140 006000   000000 000071    ...,.....`.....9
   2     144   000004 006000   000143 006000   000000 000123   000006 006000    .....c.....S....
   2     150   000146 006000   000000 000117   000004 006000   000151 006000    .f.....O.....i..
   2     154   000000 000032   000013 006000   000154 006000   000000 000127    .........l.....W
   2     160   000014 006000   000157 006000   777777 577777   777777 677777    .....o..........
   2     164   000000 000132   000004 006000   000164 006000   000000 000113    ...Z.....t.....K
   2     170   000005 006000   000167 006000   000000 000100   000010 006000    .....w.....@....
   2     174   000172 006000   000000 000050   000004 006000   000175 006000    .z.....(.....}..
   2     200   000000 000104   000004 006000   000200 006000                    ...D........
     3882    18659
     3883    18660    2   END DDS$SAVE_L6INSTR_PTR;
     3884    18661
     3885    18662    1   END DDS$BLD;

PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:553  
--  Include file information  --

   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   DD_SRTN_C.:E05TOU  is referenced.
   DD_ACODE_C.:E05TOU  is referenced.
   DD_ICODE_C.:E05TOU  is referenced.
   DD$DITEM.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT.:E05TOU  cannot be made into a system file and is referenced.
   M_INFO_C.:E05TOU  is referenced.
   XU_SUBS_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_PSUBS_C.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DDS$BLD.

   Procedure DDS$BLD requires 6234 words for executable code.
   Procedure DDS$BLD requires 44 words of local(AUTO) storage.

    No errors detected in file DDS$BLD.:E05TSI    .
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:554  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:555  
          MINI XREF LISTING

ACTIVE$CMD IN PROCEDURE DDS$BLD_ACTIVE
     13613**DCL     13650--CALL
ACTIVE$CMD.ID_FROM IN PROCEDURE DDS$BLD_ACTIVE
     13617**DCL     13651<<ASSIGN  13660<<ASSIGN
ACTIVE$CMD.ID_TO IN PROCEDURE DDS$BLD_ACTIVE
     13618**DCL     13652<<ASSIGN  13661<<ASSIGN  13666<<ASSIGN
ACTIVE$CMD.LIST_ALL IN PROCEDURE DDS$BLD_ACTIVE
     13619**DCL     13653<<ASSIGN  13655<<ASSIGN
ALIB$CMD IN PROCEDURE DDS$BLD_ALIB
     13699**DCL     13711--CALL
ALIB$CMD.CODE IN PROCEDURE DDS$BLD_ALIB
     13703**DCL     13717<<ASSIGN
ALIB$CMD.SUBCODE IN PROCEDURE DDS$BLD_ALIB
     13704**DCL     13719<<ASSIGN
ALL_ATTACH IN PROCEDURE DDS$BLD_BREAK
     14197**DCL     14300--CALL
ALL_ATTACH.UNUSED IN PROCEDURE DDS$BLD_BREAK
     14201**DCL     14202--REDEF   14206--REDEF
ALTRT IN PROCEDURE DDS$BLD_AT
     14164**LABEL   14083--CALLALT 14089--GOTO    14096--GOTO    14103--CALLALT 14118--CALLALT 14128--GOTO
     14131--CALLALT 14144--GOTO    14154--CALLALT 14159--GOTO
ALTRT IN PROCEDURE DDS$BLD_DO
     14556**LABEL   14543--CALLALT 14545--CALLALT 14550--GOTO
ALTRT IN PROCEDURE DDS$BLD_OC
     16425**LABEL   16340--GOTO    16367--CALLALT 16375--CALLALT 16379--CALLALT 16389--GOTO    16405--GOTO
     16413--CALLALT 16418--GOTO
ALTRT IN PROCEDURE DDS$BLD_ONN
     16616**LABEL   16569--GOTO    16575--GOTO    16590--CALLALT 16597--CALLALT 16607--GOTO    16619--GOTO
ALTRT IN PROCEDURE DDS$BLD_QUIT
     17038**LABEL   17018--GOTO    17020--CALLALT 17033--GOTO
ALTRT IN PROCEDURE DDS$BLD_SAVE
     17369**LABEL   17366--CALLALT
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:556  
ALTRT IN PROCEDURE DDS$BLD_STEP
     17668**LABEL   17649--CALLALT 17659--CALLALT
ALTRT IN PROCEDURE DDS$BLD_STOP
     17722**LABEL   17699--GOTO    17701--CALLALT 17717--GOTO
ALTRT IN PROCEDURE DDS$BLD_USE
     18509**LABEL   18321--CALLALT 18354--CALLALT 18373--CALLALT 18377--CALLALT 18387--CALLALT 18398--CALLALT
     18402--CALLALT 18446--CALLALT 18456--GOTO    18484--CALLALT 18494--CALLALT 18501--GOTO    18502--GOTO
     18504--GOTO    18505--GOTO    18506--GOTO
ALTRT IN PROCEDURE DDS$BLD_WAIT
     18546**LABEL   18541--CALLALT
ALTRT1 IN PROCEDURE DDS$BLD_OC
     16423**LABEL   16355--GOTO    16392--CALLALT
ALTRT1 IN PROCEDURE DDS$BLD_ONN
     16614**LABEL   16584--CALLALT 16588--GOTO    16610--CALLALT
ALTVAR$CMD IN PROCEDURE DDS$BLD_ALTVAR
     13748**DCL     13762--CALL
ALTVAR$CMD.ALTVAR IN PROCEDURE DDS$BLD_ALTVAR
     13752**DCL     13765<<ASSIGN
ALTVAR$CMD.TEXTC.SIZE IN PROCEDURE DDS$BLD_ALTVAR
     13758**DCL     13773<<ASSIGN
ALTVAR$CMD.TEXTC.TEXT IN PROCEDURE DDS$BLD_ALTVAR
     13759**DCL     13768--IF      13774<<ASSIGN
ANLZ$CMD IN PROCEDURE DDS$BLD_ANLZ
     13809**DCL     13832--CALL
ANLZ$CMD.FANLZ IN PROCEDURE DDS$BLD_ANLZ
     13816**DCL     13862<<ASSIGN
ANLZ$CMD.FID IN PROCEDURE DDS$BLD_ANLZ
     13821**DCL     13824--REDEF   13853<<ASSIGN
ANLZ$CMD.FID.SIZE IN PROCEDURE DDS$BLD_ANLZ
     13822**DCL     13845<<ASSIGN
ANLZ$CMD.FID.TEXT IN PROCEDURE DDS$BLD_ANLZ
     13823**DCL     13846<<ASSIGN  13851--IF
ANLZ$CMD.FIDSCH IN PROCEDURE DDS$BLD_ANLZ
     13827**DCL     13860<<ASSIGN
ANLZ$CMD.FIDSCH.SIZE IN PROCEDURE DDS$BLD_ANLZ
     13828**DCL     13878<<ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:557  
ANLZ$CMD.FIDSCH.TEXT IN PROCEDURE DDS$BLD_ANLZ
     13829**DCL     13858--IF      13879<<ASSIGN
ANLZ$CMD.FILE IN PROCEDURE DDS$BLD_ANLZ
     13813**DCL     13835<<ASSIGN  13848<<ASSIGN
ANLZ$CMD.FILESCH IN PROCEDURE DDS$BLD_ANLZ
     13814**DCL     13836<<ASSIGN  13855<<ASSIGN
ANLZ$CMD.RES.RES# IN PROCEDURE DDS$BLD_ANLZ
     13825**DCL     13872<<CALLBLT
ANLZ$CMD.RUNNING IN PROCEDURE DDS$BLD_ANLZ
     13815**DCL     13834<<ASSIGN  13844<<ASSIGN
ARET IN PROCEDURE DDS$BLD_ACTIVE
     13676**LABEL   13650--CALLALT 13659--CALLALT 13665--CALLALT 13673--GOTO
ARET IN PROCEDURE DDS$BLD_ALIB
     13728**LABEL   13711--CALLALT 13722--GOTO
ARET IN PROCEDURE DDS$BLD_ALTVAR
     13779**LABEL   13762--CALLALT 13771--GOTO
ARET IN PROCEDURE DDS$BLD_ANLZ
     13892**LABEL   13832--CALLALT 13868--CALLALT 13884--GOTO    13889--GOTO
ARET IN PROCEDURE DDS$BLD_BREAK
     14304**LABEL   14300--CALLALT
ARET IN PROCEDURE DDS$BLD_DEBUG
     14453**LABEL   14355--CALLALT 14370--CALLALT 14389--GOTO    14416--CALLALT 14450--GOTO
ARET IN PROCEDURE DDS$BLD_DEF
     14508**LABEL   14490--CALLALT 14495--GOTO    14499--CALLALT 14503--GOTO
ARET IN PROCEDURE DDS$BLD_DISP
     14607**LABEL   14590--CALLALT 14598--CALLALT
ARET IN PROCEDURE DDS$BLD_ERRFID
     14655**LABEL   14650--CALLALT
ARET IN PROCEDURE DDS$BLD_EVAL
     14752**LABEL   14704--CALLALT 14717--CALLALT 14721--GOTO    14733--CALLALT 14738--GOTO
ARET IN PROCEDURE DDS$BLD_FIND
     14904**LABEL   14817--CALLALT 14830--CALLALT 14837--CALLALT 14847--CALLALT 14853--CALLALT 14860--CALLALT
     14871--CALLALT 14878--CALLALT 14888--CALLALT 14901--GOTO    14902--GOTO
ARET IN PROCEDURE DDS$BLD_FORMAT
     14941**LABEL   14935--CALLALT
ARET IN PROCEDURE DDS$BLD_GO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:558  
     15154**LABEL   15057--CALLALT 15100--CALLALT 15128--GOTO    15152--GOTO
ARET IN PROCEDURE DDS$BLD_HELP
     15189**LABEL   15184--CALLALT
ARET IN PROCEDURE DDS$BLD_HISTORY
     15252**LABEL   15227--CALLALT 15237--CALLALT 15246--GOTO
ARET IN PROCEDURE DDS$BLD_KILL
     15380**LABEL   15298--CALLALT 15321--GOTO    15323--CALLALT 15329--CALLALT 15370--GOTO    15375--GOTO
     15376--GOTO    15377--GOTO    15378--GOTO
ARET IN PROCEDURE DDS$BLD_LET
     15471**LABEL   15452--CALLALT 15454--CALLALT 15458--GOTO    15463--GOTO    15466--CALLALT
ARET IN PROCEDURE DDS$BLD_MACTIVE
     15646**LABEL   15529--CALLALT 15552--CALLALT 15556--GOTO    15563--GOTO    15567--CALLALT 15573--GOTO
     15583--CALLALT 15590--CALLALT 15595--GOTO    15607--GOTO    15629--GOTO    15638--CALLALT
ARET IN PROCEDURE DDS$BLD_MLCT
     15809**LABEL   15790--CALLALT 15793--CALLALT 15800--CALLALT
ARET IN PROCEDURE DDS$BLD_MODIFYDW
     15751**LABEL   15693--CALLALT 15699--CALLALT 15704--CALLALT 15710--GOTO    15723--CALLALT 15728--GOTO
     15739--CALLALT 15743--GOTO
ARET IN PROCEDURE DDS$BLD_NAME
     15855**LABEL   15839--CALLALT
ARET IN PROCEDURE DDS$BLD_OA
     16023**LABEL   15990--CALLALT 16006--GOTO    16020--GOTO
ARET IN PROCEDURE DDS$BLD_ONCALLS
     16823**LABEL   16745--GOTO    16754--GOTO    16768--CALLALT 16781--GOTO    16807--GOTO    16817--CALLALT
     16826--GOTO
ARET IN PROCEDURE DDS$BLD_PLUGH
     16886**LABEL   16861--CALLALT 16870--GOTO    16874--CALLALT 16878--GOTO
ARET IN PROCEDURE DDS$BLD_PMD
     16941**LABEL   16928--CALLALT
ARET IN PROCEDURE DDS$BLD_PROMPT
     16986**LABEL   16975--CALLALT 16980--GOTO
ARET IN PROCEDURE DDS$BLD_RANGE
     17080**LABEL   17072--CALLALT 17075--CALLALT
ARET IN PROCEDURE DDS$BLD_REPORT
     17159**LABEL   17119--CALLALT
ARET IN PROCEDURE DDS$BLD_RUM
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:559  
     17277**LABEL   17215--CALLALT 17227--GOTO    17239--CALLALT 17244--GOTO    17257--CALLALT 17263--GOTO
     17270--GOTO
ARET IN PROCEDURE DDS$BLD_SAD
     17320**LABEL   17314--CALLALT 17315--CALLALT
ARET IN PROCEDURE DDS$BLD_SCHEMA
     17431**LABEL   17404--CALLALT 17412--CALLALT 17430--GOTO
ARET IN PROCEDURE DDS$BLD_SELCHAN
     17477**LABEL   17468--CALLALT 17470--CALLALT
ARET IN PROCEDURE DDS$BLD_SHOW
     17620**LABEL   17523--CALLALT 17561--GOTO    17563--CALLALT 17569--CALLALT 17607--GOTO    17616--GOTO
     17617--GOTO    17618--GOTO    17619--GOTO
ARET IN PROCEDURE DDS$BLD_SYNTAX
     17761**LABEL   17754--CALLALT
ARET IN PROCEDURE DDS$BLD_TRACE
     17926**LABEL   17868--CALLALT 17901--GOTO    17924--GOTO
ARET IN PROCEDURE DDS$BLD_TSA
     17974**LABEL   17961--CALLALT 17967--CALLALT
ARET IN PROCEDURE DDS$BLD_UNFID
     18050**LABEL   18013--CALLALT
ARET IN PROCEDURE DDS$BLD_UNSHARE
     18115**LABEL   18087--CALLALT
ARET IN PROCEDURE DDS$BLD_UPDATE
     18218**LABEL   18156--CALLALT 18168--CALLALT 18175--CALLALT 18184--CALLALT 18189--CALLALT 18195--CALLALT
     18202--CALLALT 18214--GOTO    18215--GOTO
ARET IN PROCEDURE DDS$BLD_XEQ
     18602**LABEL   18580--CALLALT 18585--CALLALT 18591--CALLALT 18595--GOTO
ARET1 IN PROCEDURE DDS$BLD_OA
     16022**LABEL   15971--GOTO    15982--GOTO    15986--GOTO
ARET1 IN PROCEDURE DDS$BLD_ONCALLS
     16822**LABEL   16741--GOTO    16750--GOTO    16765--GOTO
ARETLARG IN PROCEDURE DDS$BLD_ANLZ
     13889**LABEL   13870--GOTO
ARETLARG IN PROCEDURE DDS$BLD_DEBUG
     14450**LABEL   14372--GOTO
ARETTCP IN PROCEDURE DDS$BLD_TRACE
     17924**LABEL   17920--GOTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:560  
ASML IN PROCEDURE DDS$BLD_SHOW
     17526**LABEL   17534--GOTO
ATTACH_AT_TIME IN PROCEDURE DDS$BLD_UPDATE
     18135**DCL     18154<<ASSIGN  18163<<ASSIGN  18211>>ASSIGN
AT_FIRST IN PROCEDURE DDS$BLD_AT
     13985**DCL     14103--CALL
AT_FIRST.BYPASS_COUNT IN PROCEDURE DDS$BLD_AT
     14004**DCL     14119<<ASSIGN  14154<>CALL
AT_FIRST.CURRENT_COUNT IN PROCEDURE DDS$BLD_AT
     14005**DCL     14120<<ASSIGN
AT_FIRST.NODE IN PROCEDURE DDS$BLD_AT
     14000**DCL     14107<<ASSIGN  14108<<ASSIGN  14109<<ASSIGN
AT_FIRST.UNUSED IN PROCEDURE DDS$BLD_AT
     13989**DCL     13990--REDEF   13994--REDEF
B$EDEF.ISADDR IN PROCEDURE DDS$BLD_OC
     16141**DCL     16360>>ASSIGN
B$EDEF.OU IN PROCEDURE DDS$BLD_OC
     16135**DCL     16141--REDEF
B$INTNTRY.ISADDR IN PROCEDURE DDS$BLD_OC
     16199**DCL     16357>>ASSIGN
B$INTNTRY.OU IN PROCEDURE DDS$BLD_OC
     16192**DCL     16199--REDEF
B$JIT.CPFLAGS1.SLEAZE
      9353**DCL      9353--REDEF
B$JIT.ERR.MID
      9260**DCL      9260--REDEF
B$JIT.JRESPEAK
      9421**DCL      9422--REDEF
B$JIT.ORIGINATOR_PORT.FROM_CR
      9530**DCL      9530--REDEF    9531--REDEF
B$JIT.PNR
      9434**DCL      9434--REDEF
B$JIT.TDP
      9419**DCL     14105>>IF
B$JIT.TSLINE
      9528**DCL      9529--REDEF
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:561  
B$JIT$
      9535**DCL      9254--IMP-PTR 14105>>IF
B$NODE.FLGS.NOW_IN IN PROCEDURE DDS$BLD_AT
     13949**DCL     14111>>IF
B$NODE.FLGS.NOW_IN IN PROCEDURE DDS$BLD_OC
     16082**DCL     16370>>IF
BB$ IN PROCEDURE DDS$BLD_AT
     13922**DCL     14171<<ASSIGN  14172<>CALL    14173<<ASSIGN  14173>>ASSIGN  14174>>ASSIGN
BB$ IN PROCEDURE DDS$BLD_OC
     16054**DCL     16432<<ASSIGN  16433<>CALL    16434<<ASSIGN  16434>>ASSIGN  16435>>ASSIGN
CHAR2 IN PROCEDURE DDS$BLD_ANLZ
     13807**DCL     13871<<CALLBLT 13872>>CALLBLT
CHAR2 IN PROCEDURE DDS$BLD_RUM
     17186**DCL     17246<<CALLBLT 17247--CALLBLT 17247>>CALLBLT
CHAR22 IN PROCEDURE DDS$BLD_AT
     13921**DCL     14174<<ASSIGN
CHAR22 IN PROCEDURE DDS$BLD_OC
     16053**DCL     16435<<ASSIGN
CMD IN PROCEDURE DDS$BLD_ONCALLS
     16643**DCL     16737<<ASSIGN  16763<<ASSIGN  16768<>CALL    16787>>IF
CMDCODE
      9601**DCL        29--PROC    13240>>DOCASE
CODE IN PROCEDURE DDS$BLD_ALIB
     13696**DCL     13715<<ASSIGN  13716>>IF      13716>>IF      13717>>ASSIGN  13718>>IF      13719>>ASSIGN
CODE IN PROCEDURE DDS$BLD_ANLZ
     13799**DCL     13839<<ASSIGN  13840>>DOCASE
CODE IN PROCEDURE DDS$BLD_DEBUG
     14324**DCL     14362<<ASSIGN  14363>>IF      14365>>IF      14368>>IF      14370<>CALL    14371>>IF
     14371--IF      14373>>ASSIGN  14375>>IF      14413>>IF      14424>>IF
CODE IN PROCEDURE DDS$BLD_EVAL
     14681**DCL     14708<<ASSIGN  14724<<ASSIGN  14725<<ASSIGN  14743<<ASSIGN  14748>>ASSIGN
CODE IN PROCEDURE DDS$BLD_GO
     14963**DCL     15062<<ASSIGN  15063>>IF      15113>>IF      15115>>IF      15119>>IF      15121>>IF
CODE IN PROCEDURE DDS$BLD_HISTORY
     15211**DCL     15232<<ASSIGN  15233>>IF      15235>>IF      15240>>IF      15242>>IF
CODE IN PROCEDURE DDS$BLD_MACTIVE
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:562  
     15502**DCL     15539<<ASSIGN  15569<<ASSIGN  15599<<ASSIGN  15603<<ASSIGN  15632>>ASSIGN
CODE IN PROCEDURE DDS$BLD_ONCALLS
     16641**DCL     16772<<ASSIGN  16773>>IF      16775>>IF      16777>>IF
CODE IN PROCEDURE DDS$BLD_PMD
     16906**DCL     16934<<ASSIGN  16935>>ASSIGN
CODE IN PROCEDURE DDS$BLD_QUIT
     17011**DCL     17025<<ASSIGN  17026>>IF
CODE IN PROCEDURE DDS$BLD_REPORT
     17100**DCL     17123<<ASSIGN  17124>>IF      17131>>IF      17134>>IF      17139>>IF      17144>>IF
     17151>>ASSIGN
CODE IN PROCEDURE DDS$BLD_RUM
     17179**DCL     17219<<ASSIGN  17220>>IF      17231>>IF      17233>>IF      17250>>IF      17250>>IF
     17250>>IF      17253>>ASSIGN  17254>>IF
CODE IN PROCEDURE DDS$BLD_SCHEMA
     17379**DCL     17408<<ASSIGN  17409>>IF      17420>>IF
CODE IN PROCEDURE DDS$BLD_STOP
     17692**DCL     17706<<ASSIGN  17707>>IF      17712>>IF
CODE IN PROCEDURE DDS$BLD_TRACE
     17783**DCL     17875<<ASSIGN  17876>>IF      17878>>IF      17878>>IF      17878>>IF      17878>>IF
     17878>>IF      17878>>IF      17878>>IF      17878>>IF      17886>>ASSIGN  17887>>IF      17892>>IF
CODE IN PROCEDURE DDS$BLD_UNSHARE
     18071**DCL     18098<<ASSIGN  18099>>IF      18104>>IF      18106>>IF
CODE IN PROCEDURE DDS$BLD_UPDATE
     18134**DCL     18158<<ASSIGN  18159>>DOCASE  18161>>IF
DDA$TRACEON
     13198**DCL-ENT 16794--CALL
DDB$CHECK_ADDR
     13221**DCL-ENT 14133--CALL    16394--CALL
DDD$SIMEXP
     13199**DCL-ENT 14853--CALL    15552--CALL
DDE$ERROR
     13222**DCL-ENT 14158--CALL    14169--CALL    16417--CALL    16430--CALL    17269--CALL
DDESC IN PROCEDURE DDS$BLD_PLUGH
     16859**DCL     16872<<ASSIGN  16881<<ASSIGN  16882>>ASSIGN
DDK$EVAL
     13236**DCL-ENT 15712--CALL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:563  
DDQ$WRITE
     13224**DCL-ENT 14175--CALL    16436--CALL
DDR$BINTXT
     13223**DCL-ENT 14172--CALL    16433--CALL
DDS$ATTDIRA
     13201**DCL-ENT 13650--CALL    13711--CALL    13762--CALL    13832--CALL    14300--CALL    14355--CALL
     14490--CALL    14543--CALL    14590--CALL    14650--CALL    14704--CALL    14817--CALL    14935--CALL
     15057--CALL    15184--CALL    15227--CALL    15298--CALL    15452--CALL    15529--CALL    15638--CALL
     15693--CALL    15699--CALL    15790--CALL    15839--CALL    16861--CALL    16928--CALL    16975--CALL
     17020--CALL    17072--CALL    17119--CALL    17215--CALL    17314--CALL    17404--CALL    17468--CALL
     17523--CALL    17649--CALL    17701--CALL    17754--CALL    17868--CALL    17961--CALL    18013--CALL
     18087--CALL    18156--CALL    18321--CALL    18541--CALL    18580--CALL
DDS$BLD_ACTIVE
     13606**PROC    13248--CALL
DDS$BLD_ALIB
     13692**PROC    13251--CALL
DDS$BLD_ALTVAR
     13743**PROC    13253--CALL
DDS$BLD_ANLZ
     13795**PROC    13257--CALL
DDS$BLD_AT
     13916**PROC    13259--CALL
DDS$BLD_BREAK
     14193**PROC    13266--CALL
DDS$BLD_BYPASS IN PROCEDURE DDS$BLD_BREAK
     14215**ENTRY   13271--CALL
DDS$BLD_CACHE IN PROCEDURE DDS$BLD_BREAK
     14290**ENTRY   13274--CALL
DDS$BLD_COPY IN PROCEDURE DDS$BLD_BREAK
     14225**ENTRY   13277--CALL
DDS$BLD_CRASH IN PROCEDURE DDS$BLD_BREAK
     14220**ENTRY   13282--CALL
DDS$BLD_DBOOT IN PROCEDURE DDS$BLD_BREAK
     14230**ENTRY   13286--CALL
DDS$BLD_DEBUG
     14320**PROC    13288--CALL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:564  
DDS$BLD_DEF
     14472**PROC    13294--CALL
DDS$BLD_DELETE IN PROCEDURE DDS$BLD_BREAK
     14235**ENTRY   13292--CALL
DDS$BLD_DIC IN PROCEDURE DDS$BLD_BREAK
     14240**ENTRY   13307--CALL
DDS$BLD_DISP
     14571**PROC    13309--CALL
DDS$BLD_DLCT IN PROCEDURE DDS$BLD_BREAK
     14245**ENTRY   13300--CALL
DDS$BLD_DO
     14523**PROC    13305--CALL
DDS$BLD_DUMP
     13229**DCL-ENT 13311--CALL
DDS$BLD_ECHO
     13230**DCL-ENT 13313--CALL
DDS$BLD_EOM IN PROCEDURE DDS$BLD_BREAK
     14250**ENTRY   13318--CALL
DDS$BLD_ERRFID
     14623**PROC    13321--CALL
DDS$BLD_EVAL
     14678**PROC    13315--CALL
DDS$BLD_EXIT IN PROCEDURE DDS$BLD_BREAK
     14255**ENTRY   13327--CALL
DDS$BLD_FIND
     14771**PROC    13329--CALL
DDS$BLD_FORMAT
     14920**PROC    13331--CALL
DDS$BLD_GO
     14957**PROC    13350--CALL
DDS$BLD_HELP
     15170**PROC    13354--CALL
DDS$BLD_HISTORY
     15205**PROC    13359--CALL
DDS$BLD_IGNORE
     13233**DCL-ENT 13345--CALL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:565  
DDS$BLD_INACTIVE IN PROCEDURE DDS$BLD_ACTIVE
     13629**ENTRY   13336--CALL
DDS$BLD_KEEP
     13231**DCL-ENT 13366--CALL
DDS$BLD_KILL
     15268**PROC    13361--CALL
DDS$BLD_LET
     15397**PROC    13369--CALL
DDS$BLD_LIST IN PROCEDURE DDS$BLD_ACTIVE
     13644**ENTRY   13375--CALL
DDS$BLD_MACLOSE IN PROCEDURE DDS$BLD_MACTIVE
     15636**ENTRY   13377--CALL
DDS$BLD_MACTIVE
     15497**PROC    13380--CALL    13382--CALL
DDS$BLD_MINI IN PROCEDURE DDS$BLD_BREAK
     14260**ENTRY   13389--CALL
DDS$BLD_MLCT
     15768**PROC    13399--CALL
DDS$BLD_MODIFY IN PROCEDURE DDS$BLD_MODIFYDW
     15697**ENTRY   13393--CALL
DDS$BLD_MODIFYDW
     15667**PROC    13391--CALL
DDS$BLD_NAME
     15818**PROC    13401--CALL
DDS$BLD_OA
     15871**PROC    13404--CALL
DDS$BLD_OC
     16047**PROC    13407--CALL
DDS$BLD_OE IN PROCEDURE DDS$BLD_OA
     15976**ENTRY   13412--CALL
DDS$BLD_ONCALLS
     16635**PROC    13409--CALL
DDS$BLD_ONN
     16462**PROC    13416--CALL
DDS$BLD_ONNODES IN PROCEDURE DDS$BLD_ONCALLS
     16759**ENTRY   13420--CALL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:566  
DDS$BLD_OUTPUT
     13234**DCL-ENT 13422--CALL
DDS$BLD_PLUGH
     16842**PROC    13424--CALL
DDS$BLD_PMD
     16902**PROC    13426--CALL
DDS$BLD_PROMPT
     16957**PROC    13430--CALL
DDS$BLD_PROTECT IN PROCEDURE DDS$BLD_BREAK
     14265**ENTRY   13428--CALL
DDS$BLD_QMARK1 IN PROCEDURE DDS$BLD_BREAK
     14270**ENTRY   13434--CALL
DDS$BLD_QMARK2 IN PROCEDURE DDS$BLD_BREAK
     14275**ENTRY   13438--CALL
DDS$BLD_QUIT
     16994**PROC    13442--CALL
DDS$BLD_RANGE
     17053**PROC    13444--CALL
DDS$BLD_READ
     13235**DCL-ENT 13446--CALL
DDS$BLD_REPORT
     17096**PROC    13448--CALL
DDS$BLD_RUM
     17175**PROC    13452--CALL
DDS$BLD_SAD
     17295**PROC    13455--CALL
DDS$BLD_SAVE
     17335**PROC    13478--CALL
DDS$BLD_SCHEMA
     17373**PROC    13457--CALL
DDS$BLD_SELCHAN
     17447**PROC    13463--CALL
DDS$BLD_SHOW
     17493**PROC    13465--CALL
DDS$BLD_SILENT IN PROCEDURE DDS$BLD_ACTIVE
     13634**ENTRY   13483--CALL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:567  
DDS$BLD_STATUS IN PROCEDURE DDS$BLD_BREAK
     14280**ENTRY   13468--CALL
DDS$BLD_STEP
     17628**PROC    13475--CALL
DDS$BLD_STOP
     17675**PROC    13490--CALL
DDS$BLD_STORE IN PROCEDURE DDS$BLD_FIND
     14812**ENTRY   13492--CALL
DDS$BLD_SYNTAX
     17737**PROC    13494--CALL
DDS$BLD_TBOOT IN PROCEDURE DDS$BLD_BREAK
     14285**ENTRY   13503--CALL
DDS$BLD_TRACE
     17777**PROC    13499--CALL
DDS$BLD_TRAP
     13232**DCL-ENT 13512--CALL
DDS$BLD_TSA
     17942**PROC    13517--CALL
DDS$BLD_UNFID
     17990**PROC    13522--CALL
DDS$BLD_UNSHARE
     18067**PROC    13531--CALL
DDS$BLD_UNSILENT IN PROCEDURE DDS$BLD_ACTIVE
     13639**ENTRY   13536--CALL
DDS$BLD_UPDATE
     18131**PROC    13545--CALL
DDS$BLD_USE
     18226**PROC    13519--CALL
DDS$BLD_WAIT
     18523**PROC    13552--CALL
DDS$BLD_XCON IN PROCEDURE DDS$BLD_BREAK
     14295**ENTRY   13558--CALL
DDS$BLD_XEQ
     18562**PROC    13565--CALL
DDS$CNSNT
     13202**DCL-ENT 15466--CALL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:568  
DDS$DECIMAL
     13203**DCL-ENT 13659--CALL    13665--CALL    13868--CALL    14118--CALL    14370--CALL    14416--CALL
     14545--CALL    15323--CALL    15329--CALL    16379--CALL    16597--CALL    17239--CALL    17257--CALL
     17563--CALL    17569--CALL    17659--CALL    18037--CALL    18040--CALL    18168--CALL    18175--CALL
     18184--CALL    18189--CALL    18195--CALL    18202--CALL    18373--CALL
DDS$DUBREAK
     13204**DCL-ENT 14131--CALL    16392--CALL    16610--CALL
DDS$ED_SRCH
     13205**DCL-ENT 16353--CALL
DDS$ES_INQ
     13206**DCL-ENT 14099--CALL    16363--CALL
DDS$HEX
     13212**DCL-ENT 15793--CALL    15800--CALL    17470--CALL    17967--CALL    18402--CALL    18494--CALL
DDS$IE_SRCH
     13207**DCL-ENT 16351--CALL
DDS$INSTR
     13208**DCL-ENT 14733--CALL    14837--CALL    14878--CALL    15583--CALL    15723--CALL    18585--CALL
DDS$ND_SRCH
     13210**DCL-ENT 16584--CALL    18446--CALL
DDS$OCTAL
     13211**DCL-ENT 18354--CALL    18377--CALL    18387--CALL    18398--CALL
DDS$POSIMX
     13213**DCL-ENT 14860--CALL    14888--CALL
DDS$POSITION
     13214**DCL-ENT 14083--CALL    15100--CALL    17412--CALL    18484--CALL
DDS$QUAL_SRCH
     13215**DCL-ENT 16375--CALL
DDS$SAVE_L6INSTR_PTR
     18606**PROC    14735--CALL    15586--CALL    15725--CALL
DDS$SDO
     13216**DCL-ENT 15237--CALL    17075--CALL    17315--CALL
DDS$SET_Q2D
     13217**DCL-ENT 14100--CALL    16364--CALL
DDS$STOREDA
     13218**DCL-ENT 14103--CALL    15990--CALL    16367--CALL    16590--CALL    16768--CALL    17366--CALL
DDS$VREFCOM
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:569  
     13219**DCL-ENT 14499--CALL    14598--CALL    14717--CALL    14830--CALL    14847--CALL    14871--CALL
     15454--CALL    15567--CALL    15704--CALL    15739--CALL    16874--CALL    18591--CALL
DEBUG$CMD IN PROCEDURE DDS$BLD_DEBUG
     14332**DCL     14355--CALL
DEBUG$CMD.CG IN PROCEDURE DDS$BLD_DEBUG
     14340**DCL     14396<<ASSIGN
DEBUG$CMD.CG_FID IN PROCEDURE DDS$BLD_DEBUG
     14350**DCL     14386--IF
DEBUG$CMD.CG_FID.SIZE IN PROCEDURE DDS$BLD_DEBUG
     14351**DCL     14399<<ASSIGN  14403<<ASSIGN  14409<<ASSIGN  14441<<ASSIGN
DEBUG$CMD.CG_FID.TEXT IN PROCEDURE DDS$BLD_DEBUG
     14352**DCL     14400<<ASSIGN  14404<<CALLBLT 14410<<ASSIGN  14442<<ASSIGN
DEBUG$CMD.FEP IN PROCEDURE DDS$BLD_DEBUG
     14338**DCL     14426<<ASSIGN
DEBUG$CMD.OPTARRY IN PROCEDURE DDS$BLD_DEBUG
     14345**DCL     14346--REDEF   14373<<ASSIGN
DEBUG$CMD.OPTIONS IN PROCEDURE DDS$BLD_DEBUG
     14346**DCL     14364<<ASSIGN
DEBUG$CMD.STATION_FID.SIZE IN PROCEDURE DDS$BLD_DEBUG
     14348**DCL     14379<<ASSIGN  14420<<ASSIGN  14434<<ASSIGN
DEBUG$CMD.STATION_FID.TEXT IN PROCEDURE DDS$BLD_DEBUG
     14349**DCL     14380<<ASSIGN  14421<<ASSIGN  14435<<ASSIGN
DEBUG$CMD.SYSID IN PROCEDURE DDS$BLD_DEBUG
     14339**DCL     14422<<ASSIGN
DEBUG$CMD.SYSID# IN PROCEDURE DDS$BLD_DEBUG
     14336**DCL     14417<<ASSIGN
DEBUG$CMD.TPACCT IN PROCEDURE DDS$BLD_DEBUG
     14341**DCL     14408<<ASSIGN
DEF$CMD IN PROCEDURE DDS$BLD_DEF
     14476**DCL     14490--CALL
DEF$CMD.TEXTC IN PROCEDURE DDS$BLD_DEF
     14485**DCL     14497<<ASSIGN
DEFAULT IN PROCEDURE DDS$BLD_REPORT
     17101**DCL     17120<<ASSIGN  17129<<ASSIGN  17137<<ASSIGN  17142<<ASSIGN  17147<<ASSIGN  17154>>ASSIGN
DFA$ONCALL
     13225**DCL-ENT 16413--CALL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:570  
DFA$ONCALLS
     13226**DCL-ENT 16817--CALL
DFA$SET_AT
     13227**DCL-ENT 14154--CALL
DFS$INSTR
     13209**DCL-ENT 15590--CALL
DISPLAY IN PROCEDURE DDS$BLD_DISP
     14578**DCL     14590--CALL
DISPLAY.NUM IN PROCEDURE DDS$BLD_DISP
     14583**DCL     14593<<ASSIGN
DOO IN PROCEDURE DDS$BLD_DO
     14527**DCL     14543--CALL
DOO.ID IN PROCEDURE DDS$BLD_DO
     14531**DCL     14553<<ASSIGN
DUA$RUM_COMM
     13220**DCL-ENT 15619--CALL
DUM1 IN PROCEDURE DDS$BLD_MODIFYDW
     15689**DCL     15712<>CALL
DUM2 IN PROCEDURE DDS$BLD_MODIFYDW
     15690**DCL     15712<>CALL
DUM3 IN PROCEDURE DDS$BLD_MODIFYDW
     15691**DCL     15712<>CALL
DUMVAR1 IN PROCEDURE DDS$BLD_MACTIVE
     15506**DCL     15590<>CALL
D_SYMBOLS
     13195**DCL     13406>>IF
D_XDELTA
     13194**DCL     13250>>IF      13255>>IF      13261>>IF      13273>>IF      13276>>IF      13284>>IF
     13290>>IF      13317>>IF      13320>>IF      13323>>IF      13338>>IF      13371>>IF      13385>>IF
     13403>>IF      13411>>IF      13414>>IF      13418>>IF      13440>>IF      13450>>IF      13454>>IF
     13467>>IF      13485>>IF      13501>>IF      13505>>IF      13514>>IF      13521>>IF      13524>>IF
     13538>>IF      13547>>IF      13554>>IF      14104>>IF      14110>>IF      15147>>IF      15313>>IF
     15315>>IF      15317>>IF      15341>>IF      15347>>IF      15349>>IF      15351>>IF      15354>>IF
     15356>>IF      15367>>IF      17015>>IF      17546>>IF      17553>>IF      17555>>IF      17557>>IF
     17578>>IF      17584>>IF      17587>>IF      17589>>IF      17591>>IF      17594>>IF      17597>>IF
     17696>>IF      17917>>IF      18323>>IF
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:571  
EFTO IN PROCEDURE DDS$BLD_ACTIVE
     13673**LABEL   13668--GOTO
EFTO IN PROCEDURE DDS$BLD_KILL
     15376**LABEL   15332--GOTO
EFTO IN PROCEDURE DDS$BLD_SHOW
     17617**LABEL   17572--GOTO
ENOV IN PROCEDURE DDS$BLD_KILL
     15375**LABEL   15318--GOTO
ENOV IN PROCEDURE DDS$BLD_SHOW
     17616**LABEL   17558--GOTO
ENTRY$ IN PROCEDURE DDS$BLD_OC
     16058**DCL     16351<>CALL    16353<>CALL    16357>>ASSIGN  16360>>ASSIGN
ERR$ IN PROCEDURE DDS$BLD_OC
     16057**DCL     16350<<ASSIGN  16423>>ASSIGN
ERR$ IN PROCEDURE DDS$BLD_ONN
     16467**DCL     16583<<ASSIGN  16614>>ASSIGN
ERR1 IN PROCEDURE DDS$BLD_ACTIVE
     13674**LABEL   13662--GOTO    13667--GOTO
ERR1 IN PROCEDURE DDS$BLD_KILL
     15378**LABEL   15326--GOTO    15331--GOTO
ERR1 IN PROCEDURE DDS$BLD_SHOW
     17618**LABEL   17566--GOTO    17571--GOTO
ERR1 IN PROCEDURE DDS$BLD_UPDATE
     18214**LABEL   18172--GOTO    18178--GOTO    18188--GOTO    18199--GOTO
ERR25 IN PROCEDURE DDS$BLD_GO
     15152**LABEL   15104--GOTO    15108--GOTO
ERR25 IN PROCEDURE DDS$BLD_SCHEMA
     17430**LABEL   17415--GOTO    17417--GOTO
ERR25 IN PROCEDURE DDS$BLD_USE
     18505**LABEL   18486--GOTO
ERR7 IN PROCEDURE DDS$BLD_GO
     15153**LABEL   15148--GOTO
ERR7 IN PROCEDURE DDS$BLD_KILL
     15379**LABEL   15313--GOTO    15315--GOTO    15317--GOTO    15341--GOTO    15347--GOTO    15349--GOTO
     15351--GOTO    15354--GOTO    15356--GOTO    15367--GOTO
ERR7 IN PROCEDURE DDS$BLD_SHOW
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:572  
     17619**LABEL   17546--GOTO    17553--GOTO    17555--GOTO    17557--GOTO    17578--GOTO    17584--GOTO
     17587--GOTO    17589--GOTO    17591--GOTO    17594--GOTO    17597--GOTO
ERRFID$CMD IN PROCEDURE DDS$BLD_ERRFID
     14626**DCL     14650--CALL
ERRFID$CMD.FID IN PROCEDURE DDS$BLD_ERRFID
     14645**DCL     14652<<ASSIGN
ERRFID$CMD.GOTUTS IN PROCEDURE DDS$BLD_ERRFID
     14630**DCL     14631--REDEF
ERRFID$CMD.UTS IN PROCEDURE DDS$BLD_ERRFID
     14639**DCL     14640--REDEF
ERRTL IN PROCEDURE DDS$BLD_ANLZ
     13890**LABEL   13852--GOTO    13859--GOTO
ERR_ATTACH IN PROCEDURE DDS$BLD_UPDATE
     18216**LABEL   18192--GOTO    18206--GOTO
ERR_FROM_TO IN PROCEDURE DDS$BLD_UPDATE
     18215**LABEL   18180--GOTO
ESYM IN PROCEDURE DDS$BLD_KILL
     15377**LABEL   15337--GOTO
EVAL$CMD IN PROCEDURE DDS$BLD_EVAL
     14689**DCL     14704--CALL
EVAL$CMD.AWDX IN PROCEDURE DDS$BLD_EVAL
     14696**DCL     14741<<ASSIGN
EVAL$CMD.DDESC IN PROCEDURE DDS$BLD_EVAL
     14694**DCL     14746<<ASSIGN
EVAL$CMD.FMT IN PROCEDURE DDS$BLD_EVAL
     14698**DCL     14748<<ASSIGN
EVAL$CMD.IGNPR IN PROCEDURE DDS$BLD_EVAL
     14695**DCL     14740<<ASSIGN
EVAL$CMD.INSTR IN PROCEDURE DDS$BLD_EVAL
     14693**DCL     14730<<ASSIGN
EVAL$CMD.SACT IN PROCEDURE DDS$BLD_EVAL
     14699**DCL     14706<<ASSIGN
FEP# IN PROCEDURE DDS$BLD_ANLZ
     13806**DCL     13868<>CALL    13869>>IF      13871>>CALLBLT
FIND$CMD IN PROCEDURE DDS$BLD_FIND
     14783**DCL     14817--CALL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:573  
FIND$CMD.AWDX IN PROCEDURE DDS$BLD_FIND
     14798**DCL     14839<<ASSIGN  14880<<ASSIGN
FIND$CMD.FROM IN PROCEDURE DDS$BLD_FIND
     14788**DCL     14844<<ASSIGN
FIND$CMD.FROMFIRST IN PROCEDURE DDS$BLD_FIND
     14794**DCL     14897<<ASSIGN
FIND$CMD.IGNPR IN PROCEDURE DDS$BLD_FIND
     14796**DCL     14838<<ASSIGN  14879<<ASSIGN
FIND$CMD.INSTR IN PROCEDURE DDS$BLD_FIND
     14787**DCL     14836<<ASSIGN
FIND$CMD.NOTFLAG IN PROCEDURE DDS$BLD_FIND
     14795**DCL     14827<<ASSIGN
FIND$CMD.NUM IN PROCEDURE DDS$BLD_FIND
     14804**DCL     14845<<ASSIGN  14854<<ASSIGN
FIND$CMD.SUBS IN PROCEDURE DDS$BLD_FIND
     14790**DCL     14866<<ASSIGN
FIND$CMD.SUBSFIRST IN PROCEDURE DDS$BLD_FIND
     14793**DCL     14896<<ASSIGN
FIND$CMD.SUBSINSTR IN PROCEDURE DDS$BLD_FIND
     14792**DCL     14877<<ASSIGN
FIND$CMD.SUBSUNDER IN PROCEDURE DDS$BLD_FIND
     14791**DCL     14885<<ASSIGN
FIND$CMD.SUBSUNDER_V IN PROCEDURE DDS$BLD_FIND
     14806**DCL     14889<<ASSIGN
FIND$CMD.UNDER IN PROCEDURE DDS$BLD_FIND
     14789**DCL     14859<<ASSIGN
FIND$CMD.UNDER_V IN PROCEDURE DDS$BLD_FIND
     14805**DCL     14861<<ASSIGN
FMT IN PROCEDURE DDS$BLD_LET
     15450**DCL     15465<<ASSIGN  15466<>CALL
FORMAT$CMD IN PROCEDURE DDS$BLD_FORMAT
     14923**DCL     14935--CALL
FORMAT$CMD.FORMAT IN PROCEDURE DDS$BLD_FORMAT
     14928**DCL     14937<<ASSIGN
FORMAT$CMD.TYPE IN PROCEDURE DDS$BLD_FORMAT
     14927**DCL     14936<<ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:574  
FPRG$CONTEXT.FANLZ
      9552**DCL     13246>>IF      13264>>IF      13269>>IF      13296>>IF      13303>>IF      13325>>IF
     13334>>IF      13343>>IF      13348>>IF      13357>>IF      13364>>IF      13373>>IF      13395>>IF
     13459>>IF      13473>>IF      13481>>IF      13487>>IF      13497>>IF      13510>>IF      13526>>IF
     13534>>IF      13541>>IF      13550>>IF      13556>>IF      13563>>IF      16864>>IF
FPRG$CONTEXT.XDELTA
      9551**DCL     13279>>IF      13296>>IF      13339>>IF      13395>>IF      13459>>IF      13506>>IF
     13528>>IF      16864>>IF
FPRG$CONTEXT.FIXCOM_INDEX IN PROCEDURE DDS$BLD_AT
     14053**DCL     14137>>DOWHILE 14153<<ASSIGN
FPRG$CONTEXT.RES IN PROCEDURE DDS$BLD_AT
     14033**DCL     14147>>ASSIGN
FPRG$CONTEXT.RES_SIZE IN PROCEDURE DDS$BLD_AT
     14035**DCL     14149>>ASSIGN
FPRG$CONTEXT.NEXT$ IN PROCEDURE DDS$BLD_GO
     14994**DCL     15086>>ASSIGN
FPRG$CONTEXT.RES IN PROCEDURE DDS$BLD_GO
     15013**DCL     15083>>IF      15144>>ASSIGN
FPRG$CONTEXT.FIXCOM_INDEX IN PROCEDURE DDS$BLD_OA
     15944**DCL     15999>>DOWHILE 16008<<ASSIGN
FPRG$CONTEXT.ONEXIT IN PROCEDURE DDS$BLD_OA
     15952**DCL     15985>>IF      16014<<ASSIGN
FPRG$CONTEXT.RES IN PROCEDURE DDS$BLD_OA
     15924**DCL     16010>>ASSIGN
FPRG$CONTEXT.RES_SIZE IN PROCEDURE DDS$BLD_OA
     15926**DCL     16012>>ASSIGN
FPRG$CONTEXT.FIXCOM_INDEX IN PROCEDURE DDS$BLD_OC
     16314**DCL     16398>>DOWHILE 16407<<ASSIGN
FPRG$CONTEXT.RES IN PROCEDURE DDS$BLD_OC
     16294**DCL     16409>>ASSIGN
FPRG$CONTEXT.RES_SIZE IN PROCEDURE DDS$BLD_OC
     16296**DCL     16411>>ASSIGN
FPRG$CONTEXT.FIXCOM_INDEX IN PROCEDURE DDS$BLD_ONCALLS
     16714**DCL     16800>>DOWHILE 16809<<ASSIGN
FPRG$CONTEXT.ONCALLS IN PROCEDURE DDS$BLD_ONCALLS
     16723**DCL     16749>>IF      16815<<ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:575  
FPRG$CONTEXT.ONCALLS_X IN PROCEDURE DDS$BLD_ONCALLS
     16683**DCL     16816<<ASSIGN
FPRG$CONTEXT.RES IN PROCEDURE DDS$BLD_ONCALLS
     16694**DCL     16811>>ASSIGN
FPRG$CONTEXT.RES_SIZE IN PROCEDURE DDS$BLD_ONCALLS
     16696**DCL     16813>>ASSIGN
FPRG$CONTEXT.TR$INFO.SET IN PROCEDURE DDS$BLD_ONCALLS
     16725**DCL     16751>>IF
FPRG$CONTEXT.INTERPRETIVE IN PROCEDURE DDS$BLD_ONN
     16502**DCL     16566>>IF
FPRG$CONTEXT.TR$INFO.SET IN PROCEDURE DDS$BLD_TRACE
     17840**DCL     17913>>IF
FPRG$CONTEXT.TR$INFO.SILENT IN PROCEDURE DDS$BLD_TRACE
     17844**DCL     17914>>ASSIGN
FPRG$CONTEXT.FANLZ IN PROCEDURE DDS$BLD_USE
     18249**DCL     18326>>IF      18345>>IF      18367>>IF      18385>>IF      18408>>IF      18425>>IF
     18429>>IF      18433>>IF      18452>>IF      18469>>IF      18479>>IF      18489>>IF
FPRG$CONTEXT.XDELTA IN PROCEDURE DDS$BLD_USE
     18248**DCL     18326>>IF      18345>>IF      18367>>IF      18385>>IF      18408>>IF      18425>>IF
     18429>>IF      18433>>IF      18452>>IF      18469>>IF      18479>>IF      18489>>IF
FROMX IN PROCEDURE DDS$BLD_FIND
     14779**DCL     14819<<ASSIGN  14843<<ASSIGN  14894>>IF      14895>>IF
GO$CMD IN PROCEDURE DDS$BLD_GO
     14973**DCL     15057--CALL
GO$CMD.ALL IN PROCEDURE DDS$BLD_GO
     14981**DCL     15058<<ASSIGN  15094<<ASSIGN  15120<<ASSIGN  15123<<ASSIGN  15131>>IF      15138<<ASSIGN
     15142<<ASSIGN
GO$CMD.FPRG IN PROCEDURE DDS$BLD_GO
     14983**DCL     15095<<ASSIGN  15143<<ASSIGN
GO$CMD.FPRG_RES IN PROCEDURE DDS$BLD_GO
     14989**DCL     15096<<ASSIGN  15144<<ASSIGN
GO$CMD.GOPOS IN PROCEDURE DDS$BLD_GO
     14978**DCL     15099<<ASSIGN  15131>>IF      15147>>IF
GO$CMD.HOST IN PROCEDURE DDS$BLD_GO
     14982**DCL     15124<<ASSIGN  15139<<ASSIGN
GO$CMD.POSITION IN PROCEDURE DDS$BLD_GO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:576  
     14988**DCL     15110<<ASSIGN
GO$CMD.STEP IN PROCEDURE DDS$BLD_GO
     14979**DCL     15114<<ASSIGN  15131>>IF      15147>>IF
GO$CMD.TRAP IN PROCEDURE DDS$BLD_GO
     14980**DCL     15117<<ASSIGN  15131>>IF      15147>>IF
GOTED IN PROCEDURE DDS$BLD_OC
     16360**LABEL   16353--CALLALT
GOTFMT IN PROCEDURE DDS$BLD_EVAL
     14687**DCL     14717<>CALL    14723>>IF
GOTFMT IN PROCEDURE DDS$BLD_MACTIVE
     15505**DCL     15567<>CALL    15568>>IF
GOTFMT IN PROCEDURE DDS$BLD_MODIFYDW
     15688**DCL     15704<>CALL    15705>>IF      15733>>IF
GOTIE IN PROCEDURE DDS$BLD_OC
     16357**LABEL   16351--CALLALT
GOTIT IN PROCEDURE DDS$BLD_GO
     14967**DCL     15065<<ASSIGN  15081>>DOWHILE 15085<<ASSIGN  15092>>IF
GOTIT IN PROCEDURE DDS$BLD_OC
     16363**LABEL   16358--GOTO
GOTVREF IN PROCEDURE DDS$BLD_EVAL
     14686**DCL     14707<<ASSIGN  14715<<ASSIGN  14729<<ASSIGN  14745>>IF
GOTVREF IN PROCEDURE DDS$BLD_MACTIVE
     15504**DCL     15532<<ASSIGN  15546<<ASSIGN  15579<<ASSIGN  15612>>IF
HELP$CMD IN PROCEDURE DDS$BLD_HELP
     15173**DCL     15184--CALL
HELP$CMD.ASYM$ IN PROCEDURE DDS$BLD_HELP
     15181**DCL     15185<<ASSIGN
HISTORY$CMD IN PROCEDURE DDS$BLD_HISTORY
     15214**DCL     15227--CALL
HISTORY$CMD.CLEAR IN PROCEDURE DDS$BLD_HISTORY
     15219**DCL     15243<<ASSIGN
HISTORY$CMD.COUNT IN PROCEDURE DDS$BLD_HISTORY
     15224**DCL     15228<<ASSIGN  15234<<ASSIGN  15238<<ASSIGN
HISTORY$CMD.MORE IN PROCEDURE DDS$BLD_HISTORY
     15218**DCL     15241<<ASSIGN
I IN PROCEDURE DDS$BLD_ANLZ
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:577  
     13803**DCL     13863<<DOINDEX 13864>>ASSIGN
I IN PROCEDURE DDS$BLD_AT
     13925**DCL     14136<<ASSIGN  14137>>DOWHILE 14137>>DOWHILE 14139<<ASSIGN  14139>>ASSIGN  14141>>IF
     14153>>ASSIGN  14154<>CALL
I IN PROCEDURE DDS$BLD_DEBUG
     14330**DCL     14427<<DOINDEX 14428>>ASSIGN
I IN PROCEDURE DDS$BLD_OA
     15874**DCL     15998<<ASSIGN  15999>>DOWHILE 15999>>DOWHILE 16001<<ASSIGN  16001>>ASSIGN  16003>>IF
     16008>>ASSIGN  16014>>ASSIGN
I IN PROCEDURE DDS$BLD_OC
     16052**DCL     16397<<ASSIGN  16398>>DOWHILE 16398>>DOWHILE 16400<<ASSIGN  16400>>ASSIGN  16402>>IF
     16407>>ASSIGN  16413<>CALL
I IN PROCEDURE DDS$BLD_ONCALLS
     16644**DCL     16799<<ASSIGN  16800>>DOWHILE 16800>>DOWHILE 16802<<ASSIGN  16802>>ASSIGN  16804>>IF
     16809>>ASSIGN  16815>>ASSIGN  16817<>CALL
IC IN PROCEDURE DDS$BLD_AT
     13920**DCL     14083<>CALL    14086>>IF      14093>>IF      14099<>CALL    14105>>IF      14113>>ASSIGN
     14133<>CALL
IC IN PROCEDURE DDS$BLD_OC
     16051**DCL     16357<<ASSIGN  16360<<ASSIGN  16363<>CALL    16372>>ASSIGN  16394<>CALL
IX IN PROCEDURE DDS$BLD_ALIB
     13695**DCL     13713<<DOINDEX 13714>>ASSIGN
IX IN PROCEDURE DDS$BLD_ANLZ
     13798**DCL     13837<<DOINDEX 13838>>ASSIGN
IX IN PROCEDURE DDS$BLD_DEBUG
     14323**DCL     14360<<DOINDEX 14361>>ASSIGN
IX IN PROCEDURE DDS$BLD_EVAL
     14682**DCL     14710<<DOINDEX 14711>>ASSIGN
IX IN PROCEDURE DDS$BLD_FIND
     14775**DCL     14821<<DOINDEX 14823>>ASSIGN  14843>>ASSIGN  14865>>ASSIGN
IX IN PROCEDURE DDS$BLD_GO
     14960**DCL     15060<<DOINDEX 15061>>ASSIGN
IX IN PROCEDURE DDS$BLD_HISTORY
     15208**DCL     15230<<DOINDEX 15231>>ASSIGN
IX IN PROCEDURE DDS$BLD_MACTIVE
     15503**DCL     15540<<DOINDEX 15541>>ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:578  
IX IN PROCEDURE DDS$BLD_MODIFYDW
     15686**DCL     15715<<DOINDEX 15716>>ASSIGN  15718>>IF      15719>>ASSIGN  15730>>ASSIGN  15731>>ASSIGN
     15732>>ASSIGN
IX IN PROCEDURE DDS$BLD_ONCALLS
     16638**DCL     16770<<DOINDEX 16771>>ASSIGN
IX IN PROCEDURE DDS$BLD_PMD
     16905**DCL     16932<<DOINDEX 16933>>ASSIGN
IX IN PROCEDURE DDS$BLD_QUIT
     17008**DCL     17023<<DOINDEX 17024>>ASSIGN
IX IN PROCEDURE DDS$BLD_REPORT
     17099**DCL     17122<<DOINDEX 17123>>ASSIGN
IX IN PROCEDURE DDS$BLD_RUM
     17178**DCL     17217<<DOINDEX 17218>>ASSIGN
IX IN PROCEDURE DDS$BLD_SCHEMA
     17376**DCL     17406<<DOINDEX 17407>>ASSIGN
IX IN PROCEDURE DDS$BLD_STOP
     17689**DCL     17704<<DOINDEX 17705>>ASSIGN
IX IN PROCEDURE DDS$BLD_TRACE
     17780**DCL     17873<<DOINDEX 17874>>ASSIGN
IX IN PROCEDURE DDS$BLD_UNSHARE
     18070**DCL     18097<<DOINDEX 18098>>ASSIGN
IXX IN PROCEDURE DDS$BLD_AT
     13918**DCL     14078<<DOINDEX 14079>>ASSIGN
IXX IN PROCEDURE DDS$BLD_OC
     16049**DCL     16344<<DOINDEX 16345>>ASSIGN
IXX IN PROCEDURE DDS$BLD_ONN
     16464**DCL     16577<<DOINDEX 16578>>ASSIGN
IXX IN PROCEDURE DDS$BLD_RUM
     17183**DCL     17237<<DOINDEX 17238>>ASSIGN  17240>>IF      17247>>CALLBLT
KILL$CMD IN PROCEDURE DDS$BLD_KILL
     15276**DCL     15298--CALL
KILL$CMD.FPRG IN PROCEDURE DDS$BLD_KILL
     15286**DCL     15361<<ASSIGN
KILL$CMD.FPRG_RES IN PROCEDURE DDS$BLD_KILL
     15288**DCL     15360<<ASSIGN
KILL$CMD.ID_FROM IN PROCEDURE DDS$BLD_KILL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:579  
     15281**DCL     15324<<ASSIGN  15344<<ASSIGN
KILL$CMD.ID_TO IN PROCEDURE DDS$BLD_KILL
     15282**DCL     15325<<ASSIGN  15330<<ASSIGN
KILL$CMD.TEXTC IN PROCEDURE DDS$BLD_KILL
     15289**DCL     15338<<ASSIGN
KILL$CMD.TYPE IN PROCEDURE DDS$BLD_KILL
     15280**DCL     15300<<ASSIGN  15301>>DOCASE
L1 IN PROCEDURE DDS$BLD_MODIFYDW
     15700**LABEL   15695--GOTO
L6_OUT$BLK.SUBLK$ IN PROCEDURE DDS$SAVE_L6INSTR_PTR
     18649**DCL     18656>>ASSIGN
LASTBLT$
      9604**DCL     13239<<ASSIGN  13613--IMP-PTR 13651>>ASSIGN  13652>>ASSIGN  13653>>ASSIGN  13655>>ASSIGN
     13660>>ASSIGN  13661>>ASSIGN  13666>>ASSIGN  13699--IMP-PTR 13717>>ASSIGN  13719>>ASSIGN  13748--IMP-PTR
     13765>>ASSIGN  13773>>ASSIGN  13774>>ASSIGN  13809--IMP-PTR 13834>>ASSIGN  13835>>ASSIGN  13836>>ASSIGN
     13844>>ASSIGN  13845>>ASSIGN  13846>>ASSIGN  13848>>ASSIGN  13853>>ASSIGN  13855>>ASSIGN  13860>>ASSIGN
     13862>>ASSIGN  13872>>CALLBLT 13878>>ASSIGN  13879>>ASSIGN  13985--IMP-PTR 14107>>ASSIGN  14108>>ASSIGN
     14109>>ASSIGN  14119>>ASSIGN  14120>>ASSIGN  14154>>CALL    14197--IMP-PTR 14332--IMP-PTR 14364>>ASSIGN
     14373>>ASSIGN  14379>>ASSIGN  14380>>ASSIGN  14396>>ASSIGN  14399>>ASSIGN  14400>>ASSIGN  14403>>ASSIGN
     14404>>CALLBLT 14408>>ASSIGN  14409>>ASSIGN  14410>>ASSIGN  14417>>ASSIGN  14420>>ASSIGN  14421>>ASSIGN
     14422>>ASSIGN  14426>>ASSIGN  14434>>ASSIGN  14435>>ASSIGN  14441>>ASSIGN  14442>>ASSIGN  14476--IMP-PTR
     14497>>ASSIGN  14527--IMP-PTR 14553>>ASSIGN  14578--IMP-PTR 14593>>ASSIGN  14626--IMP-PTR 14652>>ASSIGN
     14689--IMP-PTR 14706>>ASSIGN  14730>>ASSIGN  14740>>ASSIGN  14741>>ASSIGN  14746>>ASSIGN  14748>>ASSIGN
     14783--IMP-PTR 14827>>ASSIGN  14836>>ASSIGN  14838>>ASSIGN  14839>>ASSIGN  14844>>ASSIGN  14845>>ASSIGN
     14854>>ASSIGN  14859>>ASSIGN  14861>>ASSIGN  14866>>ASSIGN  14877>>ASSIGN  14879>>ASSIGN  14880>>ASSIGN
     14885>>ASSIGN  14889>>ASSIGN  14896>>ASSIGN  14897>>ASSIGN  14923--IMP-PTR 14936>>ASSIGN  14937>>ASSIGN
     14973--IMP-PTR 15058>>ASSIGN  15094>>ASSIGN  15095>>ASSIGN  15096>>ASSIGN  15099>>ASSIGN  15110>>ASSIGN
     15114>>ASSIGN  15117>>ASSIGN  15120>>ASSIGN  15123>>ASSIGN  15124>>ASSIGN  15131>>IF      15131>>IF
     15131>>IF      15131>>IF      15138>>ASSIGN  15139>>ASSIGN  15142>>ASSIGN  15143>>ASSIGN  15144>>ASSIGN
     15147>>IF      15147>>IF      15147>>IF      15173--IMP-PTR 15185>>ASSIGN  15214--IMP-PTR 15228>>ASSIGN
     15234>>ASSIGN  15238>>ASSIGN  15241>>ASSIGN  15243>>ASSIGN  15276--IMP-PTR 15300>>ASSIGN  15301>>DOCASE
     15324>>ASSIGN  15325>>ASSIGN  15330>>ASSIGN  15338>>ASSIGN  15344>>ASSIGN  15360>>ASSIGN  15361>>ASSIGN
     15400--IMP-PTR 15466>>CALL    15467>>ASSIGN  15510--IMP-PTR 15531>>ASSIGN  15558>>ASSIGN  15566>>ASSIGN
     15580>>ASSIGN  15581>>ASSIGN  15597>>ASSIGN  15598>>ASSIGN  15614>>ASSIGN  15623>>ASSIGN  15624>>IF
     15625>>ASSIGN  15632>>ASSIGN  15639>>ASSIGN  15670--IMP-PTR 15694>>ASSIGN  15701>>ASSIGN  15719>>ASSIGN
     15730>>ASSIGN  15731>>ASSIGN  15732>>ASSIGN  15737>>ASSIGN  15775--IMP-PTR 15796>>ASSIGN  15803>>ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:580  
     15804>>ASSIGN  15825--IMP-PTR 15842>>ASSIGN  15844>>ASSIGN  15847>>ASSIGN  15850>>ASSIGN  15876--IMP-PTR
     16246--IMP-PTR 16368>>ASSIGN  16380>>ASSIGN  16381>>ASSIGN  16413>>CALL    16469--IMP-PTR 16591>>ASSIGN
     16598>>ASSIGN  16599>>ASSIGN  16646--IMP-PTR 16774>>ASSIGN  16792>>ASSIGN  16816>>ASSIGN  16845--IMP-PTR
     16882>>ASSIGN  16909--IMP-PTR 16931>>ASSIGN  16935>>ASSIGN  16961--IMP-PTR 16982>>ASSIGN  16996--IMP-PTR
     17028>>ASSIGN  17029>>ASSIGN  17056--IMP-PTR 17076>>ASSIGN  17103--IMP-PTR 17126>>ASSIGN  17127>>ASSIGN
     17128>>ASSIGN  17136>>ASSIGN  17141>>ASSIGN  17146>>ASSIGN  17150>>ASSIGN  17151>>ASSIGN  17154>>ASSIGN
     17191--IMP-PTR 17229>>ASSIGN  17232>>ASSIGN  17235>>ASSIGN  17236>>ASSIGN  17247>>CALLBLT 17253>>ASSIGN
     17265>>ASSIGN  17298--IMP-PTR 17316>>ASSIGN  17338--IMP-PTR 17387--IMP-PTR 17411>>ASSIGN  17418>>ASSIGN
     17422>>ASSIGN  17424>>ASSIGN  17425>>ASSIGN  17453--IMP-PTR 17473>>ASSIGN  17501--IMP-PTR 17526>>ASSIGN
     17529>>ASSIGN  17532>>ASSIGN  17533>>ASSIGN  17536>>ASSIGN  17537>>DOCASE  17564>>ASSIGN  17565>>ASSIGN
     17570>>ASSIGN  17581>>ASSIGN  17603>>ASSIGN  17604>>ASSIGN  17610>>ASSIGN  17611>>ASSIGN  17634--IMP-PTR
     17652>>ASSIGN  17661>>ASSIGN  17665>>ASSIGN  17677--IMP-PTR 17709>>ASSIGN  17710>>ASSIGN  17714>>ASSIGN
     17740--IMP-PTR 17756>>ASSIGN  17852--IMP-PTR 17890>>ASSIGN  17893>>ASSIGN  17895>>ASSIGN  17903>>ASSIGN
     17904>>ASSIGN  17910>>ASSIGN  17914>>ASSIGN  17916>>ASSIGN  17917>>IF      17949--IMP-PTR 17970>>ASSIGN
     17995--IMP-PTR 18015>>ASSIGN  18016>>ASSIGN  18017>>ASSIGN  18018>>ASSIGN  18019>>ASSIGN  18020>>ASSIGN
     18024>>ASSIGN  18030>>ASSIGN  18036>>ASSIGN  18038>>ASSIGN  18041>>ASSIGN  18044>>ASSIGN  18045>>ASSIGN
     18075--IMP-PTR 18110>>ASSIGN  18111>>ASSIGN  18139--IMP-PTR 18155>>ASSIGN  18166>>ASSIGN  18169>>ASSIGN
     18170>>ASSIGN  18176>>ASSIGN  18183>>ASSIGN  18185>>ASSIGN  18186>>ASSIGN  18190>>ASSIGN  18194>>ASSIGN
     18196>>ASSIGN  18197>>ASSIGN  18203>>ASSIGN  18204>>ASSIGN  18207>>ASSIGN  18209>>ASSIGN  18211>>ASSIGN
     18298--IMP-PTR 18328>>ASSIGN  18336>>ASSIGN  18340>>ASSIGN  18355>>ASSIGN  18358>>ASSIGN  18362>>ASSIGN
     18379>>ASSIGN  18381>>ASSIGN  18389>>ASSIGN  18390>>ASSIGN  18410>>ASSIGN  18411>>ASSIGN  18414>>ASSIGN
     18415>>ASSIGN  18423>>ASSIGN  18427>>ASSIGN  18431>>ASSIGN  18435>>ASSIGN  18437>>ASSIGN  18437>>ASSIGN
     18438>>ASSIGN  18447>>ASSIGN  18448>>ASSIGN  18463>>ASSIGN  18465>>ASSIGN  18466>>ASSIGN  18474>>ASSIGN
     18476>>ASSIGN  18477>>ASSIGN  18481>>ASSIGN  18487>>ASSIGN  18491>>ASSIGN  18497>>ASSIGN  18526--IMP-PTR
     18566--IMP-PTR 18586>>ASSIGN  18587>>ASSIGN  18588>>ASSIGN  18598>>ASSIGN
LCT$CMD IN PROCEDURE DDS$BLD_MLCT
     15775**DCL     15790--CALL
LCT$CMD.LCT# IN PROCEDURE DDS$BLD_MLCT
     15784**DCL     15785--REDEF   15796<<ASSIGN
LCT$CMD.LCT_NEW_VALUE IN PROCEDURE DDS$BLD_MLCT
     15786**DCL     15804<<ASSIGN
LCT$CMD.NEW_VALUE IN PROCEDURE DDS$BLD_MLCT
     15779**DCL     15803<<ASSIGN
LCT$CMD IN PROCEDURE DDS$BLD_SELCHAN
     17453**DCL     17468--CALL
LCT$CMD.CHAN# IN PROCEDURE DDS$BLD_SELCHAN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:581  
     17463**DCL     17473<<ASSIGN
LCT$CMD.LCT# IN PROCEDURE DDS$BLD_SELCHAN
     17462**DCL     17463--REDEF
LET$CMD IN PROCEDURE DDS$BLD_LET
     15400**DCL     15452--CALL
LET$CMD.CONS.TANT IN PROCEDURE DDS$BLD_LET
     15420**DCL     15421--REDEF
LET$CMD.P.ADR IN PROCEDURE DDS$BLD_LET
     15431**DCL     15435--REDEF
LET$CMD.TEXTC IN PROCEDURE DDS$BLD_LET
     15409**DCL     15417--REDEF   15423--REDEF   15428--REDEF   15442--REDEF   15466<>CALL
LET$CMD.TEXTC.SIZE IN PROCEDURE DDS$BLD_LET
     15410**DCL     15411--REDEF
LET$CMD.TEXTC.TEXT IN PROCEDURE DDS$BLD_LET
     15412**DCL     15413--REDEF   15414--REDEF
LET$CMD.TYPE IN PROCEDURE DDS$BLD_LET
     15405**DCL     15467<<ASSIGN
LIBRARY IN PROCEDURE DDS$BLD_UNSHARE
     18073**DCL     18092<<ASSIGN  18096<<ASSIGN  18101<<ASSIGN  18105<<ASSIGN  18111>>ASSIGN
MACTIVE$CMD IN PROCEDURE DDS$BLD_MACTIVE
     15510**DCL     15529--CALL    15638--CALL
MACTIVE$CMD.AWDX IN PROCEDURE DDS$BLD_MACTIVE
     15518**DCL     15598<<ASSIGN
MACTIVE$CMD.DDESC IN PROCEDURE DDS$BLD_MACTIVE
     15514**DCL     15566<<ASSIGN  15580<<ASSIGN
MACTIVE$CMD.FORMAT IN PROCEDURE DDS$BLD_MACTIVE
     15523**DCL     15524--REDEF   15632<<ASSIGN  15639<<ASSIGN
MACTIVE$CMD.IGNPR IN PROCEDURE DDS$BLD_MACTIVE
     15517**DCL     15597<<ASSIGN
MACTIVE$CMD.INSTR IN PROCEDURE DDS$BLD_MACTIVE
     15515**DCL     15581<<ASSIGN
MACTIVE$CMD.LCT_NEW_VALUE IN PROCEDURE DDS$BLD_MACTIVE
     15524**DCL     15558<<ASSIGN
MACTIVE$CMD.NMSLASH IN PROCEDURE DDS$BLD_MACTIVE
     15516**DCL     15623<<ASSIGN
MACTIVE$CMD.SACT IN PROCEDURE DDS$BLD_MACTIVE
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:582  
     15520**DCL     15531<<ASSIGN
MACTIVE$CMD.SUBCODE IN PROCEDURE DDS$BLD_MACTIVE
     15525**DCL     15614<<ASSIGN  15624>>IF      15625<<ASSIGN
MODIFY$CMD IN PROCEDURE DDS$BLD_MODIFYDW
     15670**DCL     15693--CALL    15699--CALL
MODIFY$CMD.AWDX IN PROCEDURE DDS$BLD_MODIFYDW
     15677**DCL     15731<<ASSIGN
MODIFY$CMD.DDESC IN PROCEDURE DDS$BLD_MODIFYDW
     15674**DCL     15719<<ASSIGN
MODIFY$CMD.DW IN PROCEDURE DDS$BLD_MODIFYDW
     15678**DCL     15694<<ASSIGN
MODIFY$CMD.IGNPR IN PROCEDURE DDS$BLD_MODIFYDW
     15676**DCL     15730<<ASSIGN
MODIFY$CMD.INSTR IN PROCEDURE DDS$BLD_MODIFYDW
     15675**DCL     15732<<ASSIGN
MODIFY$CMD.NWARN IN PROCEDURE DDS$BLD_MODIFYDW
     15679**DCL     15737<<ASSIGN
MODIFY$CMD.SACT IN PROCEDURE DDS$BLD_MODIFYDW
     15681**DCL     15701<<ASSIGN
N$ IN PROCEDURE DDS$BLD_ACTIVE
     13608**DCL     13658<<ASSIGN  13659>>CALL    13663>>IF      13665>>CALL
N$ IN PROCEDURE DDS$BLD_EVAL
     14680**DCL     14711<<ASSIGN  14712>>ASSIGN  14717<>CALL    14733<>CALL    14735<>CALL    14743>>ASSIGN
N$ IN PROCEDURE DDS$BLD_KILL
     15270**DCL     15299<<ASSIGN  15300>>ASSIGN  15323>>CALL    15327>>IF      15329>>CALL    15336<<ASSIGN
     15336>>ASSIGN  15337>>IF      15338>>ASSIGN  15338>>ASSIGN  15343>>IF      15344>>ASSIGN  15357>>IF
     15359>>ASSIGN
N$ IN PROCEDURE DDS$BLD_MACTIVE
     15500**DCL     15541<<ASSIGN  15542>>ASSIGN  15549<<ASSIGN  15549>>ASSIGN  15550>>IF      15552<>CALL
     15567<>CALL    15583<>CALL    15586<>CALL    15590>>CALL    15603>>ASSIGN
N$ IN PROCEDURE DDS$BLD_MODIFYDW
     15687**DCL     15716<<ASSIGN  15718>>IF      15720>>IF      15723<>CALL    15725<>CALL    15736>>IF
     15739<>CALL
N$ IN PROCEDURE DDS$BLD_SHOW
     17495**DCL     17530<<ASSIGN  17531>>IF      17531>>IF      17531>>IF      17532>>ASSIGN  17536>>ASSIGN
     17563>>CALL    17567>>IF      17569>>CALL    17580>>IF      17581>>ASSIGN  17602>>ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:583  
N$ IN PROCEDURE DDS$BLD_UNFID
     17992**DCL     18022<<ASSIGN  18023>>IF      18026<<ASSIGN  18029>>IF      18032<<ASSIGN  18034>>IF
     18035>>IF      18037>>CALL    18039>>IF      18040>>CALL    18045>>ASSIGN  18045>>ASSIGN
N$ IN PROCEDURE DDS$BLD_XEQ
     18564**DCL     18582<<ASSIGN  18583>>IF      18585<>CALL    18591<>CALL
NAME$CMD IN PROCEDURE DDS$BLD_NAME
     15825**DCL     15839--CALL
NAME$CMD.ENTDEFS IN PROCEDURE DDS$BLD_NAME
     15833**DCL     15842<<ASSIGN  15844<<ASSIGN
NAME$CMD.TEXTC IN PROCEDURE DDS$BLD_NAME
     15834**DCL     15847<<ASSIGN  15850<<ASSIGN
NC$ IN PROCEDURE DDS$BLD_ALIB
     13697**DCL     13714<<ASSIGN  13715>>ASSIGN
NC$ IN PROCEDURE DDS$BLD_ANLZ
     13802**DCL     13838<<ASSIGN  13839>>ASSIGN  13849>>ASSIGN  13856>>ASSIGN  13863>>DOINDEX 13864>>ASSIGN
NC$ IN PROCEDURE DDS$BLD_DEBUG
     14325**DCL     14361<<ASSIGN  14362>>ASSIGN  14370<>CALL    14377>>ASSIGN  14381>>ASSIGN  14415>>ASSIGN
     14418>>ASSIGN  14427>>DOINDEX 14428>>ASSIGN
NC$ IN PROCEDURE DDS$BLD_FIND
     14776**DCL     14823<<ASSIGN  14824>>ASSIGN  14830<>CALL    14837<>CALL    14846>>ASSIGN  14850>>IF
     14852>>ASSIGN  14860<>CALL    14867>>ASSIGN  14883>>IF      14886>>ASSIGN  14886>>ASSIGN  14888<>CALL
NC$ IN PROCEDURE DDS$BLD_GO
     14962**DCL     15061<<ASSIGN  15062>>ASSIGN  15070>>ASSIGN  15100<>CALL
NC$ IN PROCEDURE DDS$BLD_HISTORY
     15210**DCL     15231<<ASSIGN  15232>>ASSIGN  15237<>CALL
NC$ IN PROCEDURE DDS$BLD_KILL
     15273**DCL     15359<<ASSIGN  15360>>ASSIGN  15360>>ASSIGN
NC$ IN PROCEDURE DDS$BLD_MLCT
     15771**DCL     15792<<ASSIGN  15793<>CALL    15799<<ASSIGN  15800<>CALL
NC$ IN PROCEDURE DDS$BLD_ONCALLS
     16640**DCL     16771<<ASSIGN  16772>>ASSIGN
NC$ IN PROCEDURE DDS$BLD_PMD
     16907**DCL     16933<<ASSIGN  16934>>ASSIGN
NC$ IN PROCEDURE DDS$BLD_QUIT
     17010**DCL     17024<<ASSIGN  17025>>ASSIGN  17029>>ASSIGN  17029>>ASSIGN
NC$ IN PROCEDURE DDS$BLD_RUM
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:584  
     17182**DCL     17218<<ASSIGN  17219>>ASSIGN  17222>>ASSIGN  17238>>ASSIGN  17256>>ASSIGN
NC$ IN PROCEDURE DDS$BLD_SCHEMA
     17378**DCL     17407<<ASSIGN  17408>>ASSIGN  17412<>CALL    17423>>ASSIGN
NC$ IN PROCEDURE DDS$BLD_SELCHAN
     17449**DCL     17469<<ASSIGN  17470<>CALL
NC$ IN PROCEDURE DDS$BLD_SHOW
     17498**DCL     17602<<ASSIGN  17603>>ASSIGN  17603>>ASSIGN
NC$ IN PROCEDURE DDS$BLD_STEP
     17631**DCL     17656<<ASSIGN  17657>>ASSIGN  17659<>CALL
NC$ IN PROCEDURE DDS$BLD_STOP
     17691**DCL     17705<<ASSIGN  17706>>ASSIGN  17710>>ASSIGN  17710>>ASSIGN
NC$ IN PROCEDURE DDS$BLD_TRACE
     17782**DCL     17874<<ASSIGN  17875>>ASSIGN  17896<<ASSIGN  17896>>ASSIGN  17897>>ASSIGN  17904>>ASSIGN
     17904>>ASSIGN
NC$ IN PROCEDURE DDS$BLD_TSA
     17945**DCL     17966<<ASSIGN  17967<>CALL
NC$ IN PROCEDURE DDS$BLD_UPDATE
     18133**DCL     18157<<ASSIGN  18158>>ASSIGN  18164<<ASSIGN  18167<<ASSIGN  18167>>ASSIGN  18168>>CALL
     18173>>IF      18175>>CALL    18184>>CALL    18189>>CALL    18195>>CALL    18200>>IF      18202>>CALL
     18207>>ASSIGN  18209>>ASSIGN
NCC$ IN PROCEDURE DDS$BLD_ANLZ
     13804**DCL     13864<<ASSIGN  13865>>ASSIGN  13868<>CALL    13876<<ASSIGN  13876>>ASSIGN  13877>>ASSIGN
NCC$ IN PROCEDURE DDS$BLD_DEBUG
     14327**DCL     14377<<ASSIGN  14378>>ASSIGN  14381<<ASSIGN  14382>>ASSIGN  14383<<ASSIGN  14383>>ASSIGN
     14384>>ASSIGN  14393>>ASSIGN  14394<<ASSIGN  14394>>ASSIGN  14395>>ASSIGN  14415<<ASSIGN  14416<>CALL
     14418<<ASSIGN  14419>>ASSIGN  14428<<ASSIGN  14429>>ASSIGN  14432<<ASSIGN  14432>>ASSIGN  14433>>ASSIGN
     14439<<ASSIGN  14439>>ASSIGN  14440>>ASSIGN
NCC$ IN PROCEDURE DDS$BLD_FIND
     14777**DCL     14846<<ASSIGN  14847<>CALL    14852<<ASSIGN  14853<>CALL    14867<<ASSIGN  14868>>ASSIGN
     14871<>CALL    14878<>CALL
NCC$ IN PROCEDURE DDS$BLD_GO
     14964**DCL     15070<<ASSIGN  15071>>IF      15073<<ASSIGN  15073>>ASSIGN  15074>>IF      15076<<ASSIGN
     15076>>ASSIGN  15077>>IF      15079>>ASSIGN
NCC$ IN PROCEDURE DDS$BLD_OC
     16056**DCL     16345<<ASSIGN  16346>>ASSIGN  16349<<ASSIGN  16349>>ASSIGN  16350>>ASSIGN  16351<>CALL
     16353<>CALL    16375<>CALL    16378<<ASSIGN  16378>>ASSIGN  16379<>CALL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:585  
NCC$ IN PROCEDURE DDS$BLD_ONN
     16466**DCL     16578<<ASSIGN  16579>>ASSIGN  16582<<ASSIGN  16582>>ASSIGN  16583>>ASSIGN  16584<>CALL
     16596<<ASSIGN  16596>>ASSIGN  16597<>CALL
NCC$ IN PROCEDURE DDS$BLD_RUM
     17185**DCL     17238<<ASSIGN  17239<>CALL    17243>>ASSIGN  17256<<ASSIGN  17257<>CALL    17262>>ASSIGN
NCD IN PROCEDURE DDS$BLD_ANLZ
     13805**DCL     13865<<ASSIGN  13866>>IF      13874>>IF
NCD IN PROCEDURE DDS$BLD_DEBUG
     14326**DCL     14382<<ASSIGN  14391>>IF      14393<<ASSIGN  14397>>IF      14416<>CALL    14417>>ASSIGN
     14429<<ASSIGN  14430>>IF      14437>>IF
NCD IN PROCEDURE DDS$BLD_EVAL
     14685**DCL     14712<<ASSIGN  14713>>IF      14727>>IF
NCD IN PROCEDURE DDS$BLD_FIND
     14778**DCL     14824<<ASSIGN  14826>>IF      14828>>IF      14834>>IF      14841>>IF      14857>>IF
     14863>>IF      14868<<ASSIGN  14869>>IF      14875>>IF
NCD IN PROCEDURE DDS$BLD_MACTIVE
     15501**DCL     15542<<ASSIGN  15543>>IF      15576>>IF      15601>>IF      15610>>IF      15610>>IF
     15614>>ASSIGN  15616>>IF      15621>>IF
NCD IN PROCEDURE DDS$BLD_STEP
     17632**DCL     17657<<ASSIGN  17658>>IF      17662>>ASSIGN
NCMD$
      9603**DCL     13238<<ASSIGN  13654>>IF      13658>>ASSIGN  13712>>ASSIGN  13714>>ASSIGN  13763>>IF
     13766>>ASSIGN  13833>>ASSIGN  13838>>ASSIGN  14078>>DOINDEX 14079>>ASSIGN  14356>>ASSIGN  14361>>ASSIGN
     14491>>ASSIGN  14499>>CALL    14545>>CALL    14591>>ASSIGN  14652>>ASSIGN  14652>>ASSIGN  14709>>ASSIGN
     14711>>ASSIGN  14818>>ASSIGN  14823>>ASSIGN  14936>>ASSIGN  14937>>ASSIGN  15059>>ASSIGN  15061>>ASSIGN
     15185>>ASSIGN  15229>>ASSIGN  15231>>ASSIGN  15299>>ASSIGN  15454>>CALL    15466>>CALL    15537>>ASSIGN
     15541>>ASSIGN  15702>>ASSIGN  15704>>CALL    15716>>ASSIGN  15791>>ASSIGN  15792>>ASSIGN  15799>>ASSIGN
     15841>>IF      15846>>IF      15847>>ASSIGN  15847>>ASSIGN  16344>>DOINDEX 16345>>ASSIGN  16577>>DOINDEX
     16578>>ASSIGN  16769>>ASSIGN  16771>>ASSIGN  16862>>IF      16874>>CALL    16929>>ASSIGN  16933>>ASSIGN
     16976>>ASSIGN  17022>>ASSIGN  17024>>ASSIGN  17074>>IF      17075>>CALL    17121>>ASSIGN  17123>>ASSIGN
     17216>>ASSIGN  17218>>ASSIGN  17315>>CALL    17405>>ASSIGN  17407>>ASSIGN  17469>>ASSIGN  17524>>IF
     17530>>ASSIGN  17533>>ASSIGN  17533>>ASSIGN  17609>>IF      17610>>ASSIGN  17611>>ASSIGN  17611>>ASSIGN
     17654>>IF      17656>>ASSIGN  17703>>ASSIGN  17705>>ASSIGN  17755>>IF      17756>>ASSIGN  17872>>ASSIGN
     17874>>ASSIGN  17962>>IF      17966>>ASSIGN  18021>>IF      18022>>ASSIGN  18025>>IF      18026>>ASSIGN
     18031>>IF      18032>>ASSIGN  18088>>ASSIGN  18098>>ASSIGN  18157>>ASSIGN  18164>>ASSIGN  18329>>IF
     18331>>ASSIGN  18341>>ASSIGN  18363>>ASSIGN  18387>>CALL    18394>>ASSIGN  18445>>ASSIGN  18460>>ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:586  
     18475>>IF      18477>>ASSIGN  18482>>ASSIGN  18492>>ASSIGN  18582>>ASSIGN
ND_PTR IN PROCEDURE DDS$SAVE_L6INSTR_PTR
     18608**DCL     18606--PROC    18656>>ASSIGN
NNC$ IN PROCEDURE DDS$BLD_AT
     13924**DCL     14079<<ASSIGN  14080>>ASSIGN  14083<>CALL    14117<<ASSIGN  14117>>ASSIGN  14118<>CALL
NOTIMPFPRG IN PROCEDURE DDS$BLD_OA
     16013**LABEL   15973--GOTO
NOTIMPFPRG IN PROCEDURE DDS$BLD_ONCALLS
     16824**LABEL   16762--GOTO
NOTIMPFPRG IN PROCEDURE DDS$BLD_ONN
     16605**LABEL   16561--GOTO
NSB IN PROCEDURE DDS$BLD_ALIB
     13694**DCL     13712<<ASSIGN  13713>>DOINDEX
NSB IN PROCEDURE DDS$BLD_ANLZ
     13797**DCL     13833<<ASSIGN  13837>>DOINDEX
NSB IN PROCEDURE DDS$BLD_DEBUG
     14322**DCL     14356<<ASSIGN  14357>>IF      14360>>DOINDEX
NSB IN PROCEDURE DDS$BLD_EVAL
     14683**DCL     14709<<ASSIGN  14710>>DOINDEX
NSB IN PROCEDURE DDS$BLD_GO
     14959**DCL     15059<<ASSIGN  15060>>DOINDEX
NSB IN PROCEDURE DDS$BLD_HISTORY
     15207**DCL     15229<<ASSIGN  15230>>DOINDEX
NSB IN PROCEDURE DDS$BLD_ONCALLS
     16637**DCL     16769<<ASSIGN  16770>>DOINDEX
NSB IN PROCEDURE DDS$BLD_PMD
     16904**DCL     16929<<ASSIGN  16930>>IF      16932>>DOINDEX
NSB IN PROCEDURE DDS$BLD_QUIT
     17007**DCL     17022<<ASSIGN  17023>>DOINDEX
NSB IN PROCEDURE DDS$BLD_REPORT
     17098**DCL     17121<<ASSIGN  17122>>DOINDEX
NSB IN PROCEDURE DDS$BLD_RUM
     17177**DCL     17216<<ASSIGN  17217>>DOINDEX
NSB IN PROCEDURE DDS$BLD_SCHEMA
     17375**DCL     17405<<ASSIGN  17406>>DOINDEX
NSB IN PROCEDURE DDS$BLD_STOP
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:587  
     17688**DCL     17703<<ASSIGN  17704>>DOINDEX
NSB IN PROCEDURE DDS$BLD_TRACE
     17779**DCL     17872<<ASSIGN  17873>>DOINDEX
NSB IN PROCEDURE DDS$BLD_UNSHARE
     18069**DCL     18088<<ASSIGN  18089>>IF      18097>>DOINDEX
NSUB IN PROCEDURE DDS$BLD_FIND
     14774**DCL     14818<<ASSIGN  14819>>ASSIGN  14820>>ASSIGN  14821>>DOINDEX
NSUB IN PROCEDURE DDS$BLD_MACTIVE
     15499**DCL     15537<<ASSIGN  15540>>DOINDEX 15604>>IF
NSUB IN PROCEDURE DDS$BLD_MLCT
     15770**DCL     15791<<ASSIGN  15797>>IF
NSUB IN PROCEDURE DDS$BLD_MODIFYDW
     15685**DCL     15702<<ASSIGN  15715>>DOINDEX
NUM IN PROCEDURE DDS$BLD_DISP
     14576**DCL     14592<<ASSIGN  14593>>ASSIGN  14594>>DOINDEX
NVREF$ IN PROCEDURE DDS$BLD_DISP
     14574**DCL     14591<<ASSIGN  14592>>ASSIGN  14596>>ASSIGN
OC$CMD IN PROCEDURE DDS$BLD_OC
     16246**DCL     16367--CALL
OC$CMD.BYPASS_COUNT IN PROCEDURE DDS$BLD_OC
     16265**DCL     16380<<ASSIGN  16413<>CALL
OC$CMD.CURRENT_COUNT IN PROCEDURE DDS$BLD_OC
     16266**DCL     16381<<ASSIGN
OC$CMD.NODE IN PROCEDURE DDS$BLD_OC
     16261**DCL     16368<<ASSIGN
OC$CMD.UNUSED IN PROCEDURE DDS$BLD_OC
     16250**DCL     16251--REDEF   16255--REDEF
ON IN PROCEDURE DDS$BLD_TRACE
     17787**DCL     17870<<ASSIGN  17877<<ASSIGN  17909>>IF      17913>>IF
ONABORT$CMD IN PROCEDURE DDS$BLD_OA
     15876**DCL     15990--CALL
ONABORT$CMD.UNUSED IN PROCEDURE DDS$BLD_OA
     15880**DCL     15881--REDEF   15885--REDEF
ONCALLS$CMD IN PROCEDURE DDS$BLD_ONCALLS
     16646**DCL     16768--CALL
ONCALLS$CMD.UNUSED IN PROCEDURE DDS$BLD_ONCALLS
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:588  
     16650**DCL     16651--REDEF   16655--REDEF
ONCALLS$CMD.XTERNAL IN PROCEDURE DDS$BLD_ONCALLS
     16662**DCL     16774<<ASSIGN  16792>>ASSIGN  16816>>ASSIGN
ONN$CMD IN PROCEDURE DDS$BLD_ONN
     16469**DCL     16590--CALL
ONN$CMD.BYPASS_COUNT IN PROCEDURE DDS$BLD_ONN
     16488**DCL     16598<<ASSIGN
ONN$CMD.CURRENT_COUNT IN PROCEDURE DDS$BLD_ONN
     16489**DCL     16599<<ASSIGN
ONN$CMD.NODE IN PROCEDURE DDS$BLD_ONN
     16484**DCL     16591<<ASSIGN
ONN$CMD.UNUSED IN PROCEDURE DDS$BLD_ONN
     16473**DCL     16474--REDEF   16478--REDEF
PLUGH$CMD IN PROCEDURE DDS$BLD_PLUGH
     16845**DCL     16861--CALL
PLUGH$CMD.DDESC IN PROCEDURE DDS$BLD_PLUGH
     16853**DCL     16882<<ASSIGN
PMD$CMD IN PROCEDURE DDS$BLD_PMD
     16909**DCL     16928--CALL
PMD$CMD.L6_OPTIONS IN PROCEDURE DDS$BLD_PMD
     16916**DCL     16917--REDEF
PMD$CMD.OPTARRY IN PROCEDURE DDS$BLD_PMD
     16923**DCL     16924--REDEF   16931<<ASSIGN  16935<<ASSIGN
POB.CODE
      9628**DCL     13715>>ASSIGN  13839>>ASSIGN  13865>>ASSIGN  14080>>ASSIGN  14362>>ASSIGN  14382>>ASSIGN
     14393>>ASSIGN  14429>>ASSIGN  14712>>ASSIGN  14743>>ASSIGN  14824>>ASSIGN  14868>>ASSIGN  14936>>ASSIGN
     14937>>ASSIGN  15062>>ASSIGN  15071>>IF      15074>>IF      15077>>IF      15232>>ASSIGN  15300>>ASSIGN
     15344>>ASSIGN  15542>>ASSIGN  15550>>IF      15603>>ASSIGN  15718>>IF      15720>>IF      15736>>IF
     15841>>IF      16346>>ASSIGN  16579>>ASSIGN  16772>>ASSIGN  16934>>ASSIGN  17025>>ASSIGN  17123>>ASSIGN
     17219>>ASSIGN  17408>>ASSIGN  17531>>IF      17531>>IF      17531>>IF      17532>>ASSIGN  17536>>ASSIGN
     17581>>ASSIGN  17610>>ASSIGN  17657>>ASSIGN  17706>>ASSIGN  17756>>ASSIGN  17875>>ASSIGN  18023>>IF
     18029>>IF      18035>>IF      18098>>ASSIGN  18158>>ASSIGN  18200>>IF      18331>>ASSIGN  18348>>ASSIGN
     18370>>IF      18420>>ASSIGN  18461>>ASSIGN  18477>>ASSIGN  18483>>ASSIGN  18493>>ASSIGN  18583>>IF
POB.NSB
      9632**DCL     13654>>IF      13663>>IF      13712>>ASSIGN  13763>>IF      13833>>ASSIGN  13863>>DOINDEX
     14078>>DOINDEX 14356>>ASSIGN  14427>>DOINDEX 14592>>ASSIGN  14709>>ASSIGN  14818>>ASSIGN  14850>>IF
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:589  
     14883>>IF      15059>>ASSIGN  15229>>ASSIGN  15327>>IF      15343>>IF      15357>>IF      15537>>ASSIGN
     15702>>ASSIGN  15791>>ASSIGN  15846>>IF      16344>>DOINDEX 16577>>DOINDEX 16769>>ASSIGN  16862>>IF
     16929>>ASSIGN  17022>>ASSIGN  17074>>IF      17121>>ASSIGN  17216>>ASSIGN  17405>>ASSIGN  17524>>IF
     17567>>IF      17580>>IF      17609>>IF      17654>>IF      17703>>ASSIGN  17755>>IF      17872>>ASSIGN
     17962>>IF      18021>>IF      18025>>IF      18031>>IF      18039>>IF      18088>>ASSIGN  18173>>IF
     18329>>IF      18343>>IF      18364>>IF      18417>>IF      18417>>IF      18420>>ASSIGN  18475>>IF
POB.SUBLK$
      9653**DCL     13658>>ASSIGN  13659<>CALL    13665<>CALL    13714>>ASSIGN  13766>>ASSIGN  13766>>ASSIGN
     13838>>ASSIGN  13849>>ASSIGN  13856>>ASSIGN  13864>>ASSIGN  13876>>ASSIGN  13877>>ASSIGN  14079>>ASSIGN
     14117>>ASSIGN  14361>>ASSIGN  14377>>ASSIGN  14378>>ASSIGN  14381>>ASSIGN  14383>>ASSIGN  14384>>ASSIGN
     14394>>ASSIGN  14395>>ASSIGN  14415>>ASSIGN  14418>>ASSIGN  14419>>ASSIGN  14428>>ASSIGN  14432>>ASSIGN
     14433>>ASSIGN  14439>>ASSIGN  14440>>ASSIGN  14491>>ASSIGN  14491>>ASSIGN  14499<>CALL    14545<>CALL
     14591>>ASSIGN  14596>>ASSIGN  14652>>ASSIGN  14652>>ASSIGN  14652>>ASSIGN  14652>>ASSIGN  14711>>ASSIGN
     14743>>ASSIGN  14823>>ASSIGN  14846>>ASSIGN  14852>>ASSIGN  14867>>ASSIGN  14886<<ASSIGN  14886>>ASSIGN
     14936>>ASSIGN  14937>>ASSIGN  14937>>ASSIGN  15061>>ASSIGN  15070>>ASSIGN  15073>>ASSIGN  15076>>ASSIGN
     15079>>ASSIGN  15185>>ASSIGN  15185>>ASSIGN  15231>>ASSIGN  15299>>ASSIGN  15323<>CALL    15329<>CALL
     15336>>ASSIGN  15336>>ASSIGN  15344>>ASSIGN  15359>>ASSIGN  15454<>CALL    15466<>CALL    15541>>ASSIGN
     15549>>ASSIGN  15549>>ASSIGN  15549>>ASSIGN  15590<>CALL    15603>>ASSIGN  15704<>CALL    15716>>ASSIGN
     15792>>ASSIGN  15799>>ASSIGN  15841>>IF      15847>>ASSIGN  15847>>ASSIGN  15847>>ASSIGN  15847>>ASSIGN
     16345>>ASSIGN  16349>>ASSIGN  16378>>ASSIGN  16578>>ASSIGN  16582>>ASSIGN  16596>>ASSIGN  16771>>ASSIGN
     16874<>CALL    16933>>ASSIGN  16976>>ASSIGN  16976>>ASSIGN  17024>>ASSIGN  17075<>CALL    17123>>ASSIGN
     17218>>ASSIGN  17222>>ASSIGN  17238>>ASSIGN  17243>>ASSIGN  17256>>ASSIGN  17262>>ASSIGN  17315<>CALL
     17407>>ASSIGN  17423>>ASSIGN  17469>>ASSIGN  17530>>ASSIGN  17533>>ASSIGN  17533>>ASSIGN  17533>>ASSIGN
     17533>>ASSIGN  17563<>CALL    17569<>CALL    17581>>ASSIGN  17602>>ASSIGN  17610>>ASSIGN  17611>>ASSIGN
     17611>>ASSIGN  17611>>ASSIGN  17611>>ASSIGN  17656>>ASSIGN  17705>>ASSIGN  17756>>ASSIGN  17874>>ASSIGN
     17896>>ASSIGN  17966>>ASSIGN  18022>>ASSIGN  18026>>ASSIGN  18032>>ASSIGN  18037<>CALL    18040<>CALL
     18045>>ASSIGN  18045>>ASSIGN  18098>>ASSIGN  18157>>ASSIGN  18164>>ASSIGN  18167>>ASSIGN  18168<>CALL
     18175<>CALL    18184<>CALL    18189<>CALL    18195<>CALL    18200>>IF      18202<>CALL    18207>>ASSIGN
     18207>>ASSIGN  18209>>ASSIGN  18209>>ASSIGN  18331>>ASSIGN  18341>>ASSIGN  18347>>ASSIGN  18363>>ASSIGN
     18369>>ASSIGN  18387>>CALL    18387<>CALL    18394>>ASSIGN  18398<>CALL    18402<>CALL    18420>>ASSIGN
     18445>>ASSIGN  18445>>ASSIGN  18445>>ASSIGN  18460>>ASSIGN  18460>>ASSIGN  18475>>IF      18477>>ASSIGN
     18477>>ASSIGN  18482>>ASSIGN  18482>>ASSIGN  18492>>ASSIGN  18492>>ASSIGN  18582>>ASSIGN
PROGRAM IN PROCEDURE DDS$BLD_UNSHARE
     18072**DCL     18091<<ASSIGN  18095<<ASSIGN  18102<<ASSIGN  18107<<ASSIGN  18110>>ASSIGN
PROMPT$CMD IN PROCEDURE DDS$BLD_PROMPT
     16961**DCL     16975--CALL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:590  
PROMPT$CMD.TEXTC IN PROCEDURE DDS$BLD_PROMPT
     16970**DCL     16982<<ASSIGN
QUEST IN PROCEDURE DDS$BLD_NAME
     15820**DCL     15850>>ASSIGN
QUIT$CMD IN PROCEDURE DDS$BLD_QUIT
     16996**DCL     17020--CALL
QUIT$CMD.FPRG IN PROCEDURE DDS$BLD_QUIT
     17000**DCL     17028<<ASSIGN
QUIT$CMD.FPRG_RES IN PROCEDURE DDS$BLD_QUIT
     17005**DCL     17029<<ASSIGN
RANGE$CMD IN PROCEDURE DDS$BLD_RANGE
     17056**DCL     17072--CALL
RANGE$CMD.ID IN PROCEDURE DDS$BLD_RANGE
     17060**DCL     17076<<ASSIGN
REPORT$CMD IN PROCEDURE DDS$BLD_REPORT
     17103**DCL     17119--CALL
REPORT$CMD.COMPILER IN PROCEDURE DDS$BLD_REPORT
     17107**DCL     17151<<ASSIGN
REPORT$CMD.COMPILER_SPF IN PROCEDURE DDS$BLD_REPORT
     17108**DCL     17150<<ASSIGN
REPORT$CMD.DEFAULT IN PROCEDURE DDS$BLD_REPORT
     17109**DCL     17154<<ASSIGN
REPORT$CMD.LINE IN PROCEDURE DDS$BLD_REPORT
     17111**DCL     17127<<ASSIGN  17141<<ASSIGN
REPORT$CMD.OFFSET IN PROCEDURE DDS$BLD_REPORT
     17110**DCL     17126<<ASSIGN  17136<<ASSIGN
REPORT$CMD.TYPE IN PROCEDURE DDS$BLD_REPORT
     17112**DCL     17128<<ASSIGN  17146<<ASSIGN
RET IN PROCEDURE DDS$BLD_AT
     14162**LABEL   14152--GOTO
RETN IN PROCEDURE DDS$BLD_SHOW
     17614**LABEL   17527--GOTO
RUM$CMD IN PROCEDURE DDS$BLD_RUM
     17191**DCL     17215--CALL
RUM$CMD.BUFFERS IN PROCEDURE DDS$BLD_RUM
     17199**DCL     17265<<ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:591  
RUM$CMD.CODE IN PROCEDURE DDS$BLD_RUM
     17200**DCL     17253<<ASSIGN
RUM$CMD.FID IN PROCEDURE DDS$BLD_RUM
     17210**DCL     17229<<ASSIGN
RUM$CMD.FID.TEXT IN PROCEDURE DDS$BLD_RUM
     17212**DCL     17224--IF
RUM$CMD.GOTUTS IN PROCEDURE DDS$BLD_RUM
     17195**DCL     17196--REDEF   17235<<ASSIGN
RUM$CMD.NUTS IN PROCEDURE DDS$BLD_RUM
     17197**DCL     17232<<ASSIGN
RUM$CMD.UTS IN PROCEDURE DDS$BLD_RUM
     17204**DCL     17205--REDEF   17236<<ASSIGN  17247<<CALLBLT
SAD$CMD IN PROCEDURE DDS$BLD_SAD
     17298**DCL     17314--CALL
SAD$CMD.ID IN PROCEDURE DDS$BLD_SAD
     17302**DCL     17316<<ASSIGN
SAVE$CMD IN PROCEDURE DDS$BLD_SAVE
     17338**DCL     17366--CALL
SAVE$CMD.UNUSED IN PROCEDURE DDS$BLD_SAVE
     17342**DCL     17343--REDEF   17347--REDEF
SCHEMA$CMD IN PROCEDURE DDS$BLD_SCHEMA
     17387**DCL     17404--CALL
SCHEMA$CMD.FID.SIZE IN PROCEDURE DDS$BLD_SCHEMA
     17399**DCL     17424<<ASSIGN
SCHEMA$CMD.FID.TEXT IN PROCEDURE DDS$BLD_SCHEMA
     17400**DCL     17425<<ASSIGN
SCHEMA$CMD.GOTFID IN PROCEDURE DDS$BLD_SCHEMA
     17393**DCL     17422<<ASSIGN
SCHEMA$CMD.GOTPOS IN PROCEDURE DDS$BLD_SCHEMA
     17392**DCL     17411<<ASSIGN
SCHEMA$CMD.POSITION IN PROCEDURE DDS$BLD_SCHEMA
     17391**DCL     17418<<ASSIGN
SETUP IN PROCEDURE DDS$BLD_ACTIVE
     13650**LABEL   13627--GOTO    13632--GOTO    13637--GOTO    13642--GOTO    13647--GOTO
SETUP IN PROCEDURE DDS$BLD_BREAK
     14300**LABEL   14213--GOTO    14218--GOTO    14223--GOTO    14228--GOTO    14233--GOTO    14238--GOTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:592  
     14243--GOTO    14248--GOTO    14253--GOTO    14258--GOTO    14263--GOTO    14268--GOTO    14273--GOTO
     14278--GOTO    14283--GOTO    14288--GOTO    14293--GOTO
SETUP IN PROCEDURE DDS$BLD_FIND
     14817**LABEL   14810--GOTO
SETUP IN PROCEDURE DDS$BLD_OA
     15990**LABEL   15974--GOTO
SETUP IN PROCEDURE DDS$BLD_ONCALLS
     16768**LABEL   16757--GOTO
SHOW$CMD IN PROCEDURE DDS$BLD_SHOW
     17501**DCL     17523--CALL
SHOW$CMD.DESTCODE IN PROCEDURE DDS$BLD_SHOW
     17517**DCL     17529<<ASSIGN  17532<<ASSIGN  17610<<ASSIGN
SHOW$CMD.FID IN PROCEDURE DDS$BLD_SHOW
     17518**DCL     17533<<ASSIGN  17611<<ASSIGN
SHOW$CMD.FPRG IN PROCEDURE DDS$BLD_SHOW
     17511**DCL     17604<<ASSIGN
SHOW$CMD.FPRG_RES IN PROCEDURE DDS$BLD_SHOW
     17513**DCL     17603<<ASSIGN
SHOW$CMD.ID_FROM IN PROCEDURE DDS$BLD_SHOW
     17506**DCL     17564<<ASSIGN  17581<<ASSIGN
SHOW$CMD.ID_TO IN PROCEDURE DDS$BLD_SHOW
     17507**DCL     17565<<ASSIGN  17570<<ASSIGN
SHOW$CMD.TYPE IN PROCEDURE DDS$BLD_SHOW
     17505**DCL     17526<<ASSIGN  17536<<ASSIGN  17537>>DOCASE
SILENT IN PROCEDURE DDS$BLD_TRACE
     17786**DCL     17871<<ASSIGN  17889<<ASSIGN  17909>>IF      17913>>IF
SIZE IN PROCEDURE DDS$BLD_ANLZ
     13800**DCL     13850<<ASSIGN  13851>>IF      13857<<ASSIGN  13858>>IF
SIZE IN PROCEDURE DDS$BLD_AT
     13923**DCL     14172<>CALL    14173>>ASSIGN  14175>>CALL
SIZE IN PROCEDURE DDS$BLD_DEBUG
     14329**DCL     14385<<ASSIGN  14386>>IF
SIZE IN PROCEDURE DDS$BLD_OC
     16055**DCL     16433<>CALL    16434>>ASSIGN  16436>>CALL
SIZE IN PROCEDURE DDS$BLD_RUM
     17180**DCL     17223<<ASSIGN  17224>>IF
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:593  
STEP$CMD IN PROCEDURE DDS$BLD_STEP
     17634**DCL     17649--CALL
STEP$CMD.ID IN PROCEDURE DDS$BLD_STEP
     17638**DCL     17665<<ASSIGN
STEP$CMD.SACT IN PROCEDURE DDS$BLD_STEP
     17644**DCL     17652<<ASSIGN
STEP$CMD.SETTYPE IN PROCEDURE DDS$BLD_STEP
     17639**DCL     17661<<ASSIGN
STOP$CMD IN PROCEDURE DDS$BLD_STOP
     17677**DCL     17701--CALL
STOP$CMD.FPRG IN PROCEDURE DDS$BLD_STOP
     17681**DCL     17709<<ASSIGN  17714<<ASSIGN
STOP$CMD.FPRG_RES IN PROCEDURE DDS$BLD_STOP
     17686**DCL     17710<<ASSIGN
SUBSX IN PROCEDURE DDS$BLD_FIND
     14781**DCL     14820<<ASSIGN  14865<<ASSIGN  14894>>IF      14895>>IF
SYM.COUNT
      9689**DCL      9692--IMP-SIZ 15360>>ASSIGN  17029>>ASSIGN  17603>>ASSIGN  17710>>ASSIGN  18466>>ASSIGN
SYM.TEXT
      9692**DCL     15360>>ASSIGN  17029>>ASSIGN  17603>>ASSIGN  17710>>ASSIGN  18466>>ASSIGN
SYNERR IN PROCEDURE DDS$BLD_MACTIVE
     15644**LABEL   15613--GOTO
SYNTAX$CMD IN PROCEDURE DDS$BLD_SYNTAX
     17740**DCL     17754--CALL
SYNTAX$CMD.ID IN PROCEDURE DDS$BLD_SYNTAX
     17744**DCL     17756<<ASSIGN
S_D.ANLZ
     12527**DCL     13245>>IF      13262>>IF      13268>>IF      13302>>IF      13324>>IF      13333>>IF
     13342>>IF      13347>>IF      13356>>IF      13363>>IF      13372>>IF      13472>>IF      13480>>IF
     13486>>IF      13496>>IF      13509>>IF      13515>>IF      13525>>IF      13533>>IF      13540>>IF
     13548>>IF      13555>>IF      13562>>IF      18323>>IF
S_D.ANLZ_FILE
     12591**DCL     13368>>IF
S_D.AWDX
     12092**DCL     14741>>ASSIGN  14839>>ASSIGN  14880>>ASSIGN  15598>>ASSIGN  15731>>ASSIGN  18587>>ASSIGN
S_D.B$TREE$
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:594  
     12547**DCL     14111>>IF      16370>>IF
S_D.BATCH
     12354**DCL     13543>>IF
S_D.CAN_I_DO_BREAK
     12933**DCL     13263>>IF
S_D.CURRENT_CHANNEL
     12827**DCL     12829--REDEF
S_D.CURRENT_FPRG_CONTEXT$
     12027**DCL     13246>>IF      13264>>IF      13269>>IF      13279>>IF      13296>>IF      13296>>IF
     13303>>IF      13325>>IF      13334>>IF      13339>>IF      13343>>IF      13348>>IF      13357>>IF
     13364>>IF      13373>>IF      13395>>IF      13395>>IF      13459>>IF      13459>>IF      13473>>IF
     13481>>IF      13487>>IF      13497>>IF      13506>>IF      13510>>IF      13526>>IF      13528>>IF
     13534>>IF      13541>>IF      13550>>IF      13556>>IF      13563>>IF      14137>>DOWHILE 14147>>ASSIGN
     14149>>ASSIGN  14153>>ASSIGN  15144>>ASSIGN  15985>>IF      15999>>DOWHILE 16008>>ASSIGN  16010>>ASSIGN
     16012>>ASSIGN  16014>>ASSIGN  16398>>DOWHILE 16407>>ASSIGN  16409>>ASSIGN  16411>>ASSIGN  16564>>IF
     16566>>IF      16572>>IF      16749>>IF      16751>>IF      16800>>DOWHILE 16809>>ASSIGN  16811>>ASSIGN
     16813>>ASSIGN  16815>>ASSIGN  16816>>ASSIGN  16864>>IF      16864>>IF      17913>>IF      17914>>ASSIGN
     18326>>IF      18326>>IF      18345>>IF      18345>>IF      18367>>IF      18367>>IF      18385>>IF
     18385>>IF      18408>>IF      18408>>IF      18425>>IF      18425>>IF      18429>>IF      18429>>IF
     18433>>IF      18433>>IF      18452>>IF      18452>>IF      18469>>IF      18469>>IF      18479>>IF
     18479>>IF      18489>>IF      18489>>IF
S_D.D$
     11965**DCL     14498>>ASSIGN  14597>>ASSIGN  14716>>ASSIGN  14822>>ASSIGN  15453>>ASSIGN  15538>>ASSIGN
     15703>>ASSIGN  15717>>ASSIGN  16873>>ASSIGN  18581>>ASSIGN  18656>>ASSIGN  18657<<ASSIGN  18657>>ASSIGN
S_D.DEBUGA
     11979**DCL     11981--REDEF
S_D.DO_ATTACH
     12102**DCL     13256>>IF      13285>>IF      13353>>IF      13384>>IF      13433>>IF      13437>>IF
     13440>>IF      13451>>IF      13470>>IF      13502>>IF      13539>>IF      13560>>IF      17015>>IF
     17696>>IF
S_D.EDEF$
     12323**DCL     16337>>IF
S_D.EIS
     12937**DCL     12966--REDEF
S_D.ERROR
     11908**DCL     13242<<ASSIGN  13386<<ASSIGN  13572<<ASSIGN  13573<<ASSIGN  13574<<ASSIGN  13575<<ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:595  
     13576<<ASSIGN  13577<<ASSIGN  13578<<ASSIGN  13579<<ASSIGN  13580<<ASSIGN  13581<<ASSIGN  13582<<ASSIGN
     13583<<ASSIGN  13584<<ASSIGN  13585<<ASSIGN  13586<<ASSIGN  13587<<ASSIGN  13588<<ASSIGN  13673<<ASSIGN
     13674<<ASSIGN  13721<<ASSIGN  13770<<ASSIGN  13883<<ASSIGN  13889<<ASSIGN  13890<<ASSIGN  14088<<ASSIGN
     14095<<ASSIGN  14127<<ASSIGN  14143<<ASSIGN  14157<<ASSIGN  14168<<ASSIGN  14388<<ASSIGN  14450<<ASSIGN
     14494<<ASSIGN  14502<<ASSIGN  14549<<ASSIGN  14601<<ASSIGN  14720<<ASSIGN  14737<<ASSIGN  14901<<ASSIGN
     14902<<ASSIGN  15127<<ASSIGN  15152<<ASSIGN  15153<<ASSIGN  15245<<ASSIGN  15320<<ASSIGN  15369<<ASSIGN
     15375<<ASSIGN  15376<<ASSIGN  15377<<ASSIGN  15378<<ASSIGN  15379<<ASSIGN  15457<<ASSIGN  15462<<ASSIGN
     15555<<ASSIGN  15562<<ASSIGN  15572<<ASSIGN  15594<<ASSIGN  15606<<ASSIGN  15628<<ASSIGN  15644<<ASSIGN
     15709<<ASSIGN  15727<<ASSIGN  15742<<ASSIGN  15808<<ASSIGN  16005<<ASSIGN  16019<<ASSIGN  16022<<ASSIGN
     16339<<ASSIGN  16354<<ASSIGN  16388<<ASSIGN  16404<<ASSIGN  16416<<ASSIGN  16429<<ASSIGN  16568<<ASSIGN
     16574<<ASSIGN  16587<<ASSIGN  16606<<ASSIGN  16618<<ASSIGN  16744<<ASSIGN  16753<<ASSIGN  16780<<ASSIGN
     16806<<ASSIGN  16822<<ASSIGN  16825<<ASSIGN  16869<<ASSIGN  16877<<ASSIGN  16979<<ASSIGN  17017<<ASSIGN
     17032<<ASSIGN  17226<<ASSIGN  17242<<ASSIGN  17261<<ASSIGN  17268<<ASSIGN  17430<<ASSIGN  17476<<ASSIGN
     17560<<ASSIGN  17606<<ASSIGN  17616<<ASSIGN  17617<<ASSIGN  17618<<ASSIGN  17619<<ASSIGN  17698<<ASSIGN
     17716<<ASSIGN  17900<<ASSIGN  17924<<ASSIGN  17973<<ASSIGN  18214<<ASSIGN  18215<<ASSIGN  18216<<ASSIGN
     18455<<ASSIGN  18501<<ASSIGN  18502<<ASSIGN  18504<<ASSIGN  18505<<ASSIGN  18506<<ASSIGN  18594<<ASSIGN
S_D.ERROR_SYM$
     11932**DCL     14589<<ASSIGN  16423<<ASSIGN  16614<<ASSIGN  17243<<ASSIGN  17262<<ASSIGN
S_D.FIXCOM
     12333**DCL     13662--IF      13662--IF      13667--IF      13667--IF      14547--IF      14547--IF
     15326--IF      15326--IF      15331--IF      15331--IF      17566--IF      17566--IF      17571--IF
     17571--IF      18171--IF      18171--IF      18177--IF      18177--IF      18187--IF      18187--IF
     18198--IF      18198--IF
S_D.FIXCOM.CDF
     12343**DCL     14113<<ASSIGN  16372<<ASSIGN  16592<<ASSIGN
S_D.FIXCOM.FPRG
     12340**DCL     14146<<ASSIGN  16009<<ASSIGN  16408<<ASSIGN  16810<<ASSIGN
S_D.FIXCOM.FPRG_RES
     12346**DCL     14147<<ASSIGN  16010<<ASSIGN  16409<<ASSIGN  16811<<ASSIGN
S_D.FIXCOM.FPRG_RES_SIZE
     12347**DCL     14149<<ASSIGN  16012<<ASSIGN  16411<<ASSIGN  16813<<ASSIGN
S_D.FIXCOM.INACTIVE
     12336**DCL     14125<<ASSIGN  14151>>IF      14176<<ASSIGN  16386<<ASSIGN  16437<<ASSIGN  16604<<ASSIGN
     16778<<ASSIGN  16793>>IF
S_D.FIXCOM.NOT_IN
     12338**DCL     14112<<ASSIGN  16371<<ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:596  
S_D.FIXCOM.SILENT
     12337**DCL     14123<<ASSIGN  16384<<ASSIGN  16602<<ASSIGN  16776<<ASSIGN
S_D.FPRG
     12025**DCL     13246>>IF      13264>>IF      13269>>IF      13279>>IF      13296>>IF      13303>>IF
     13325>>IF      13334>>IF      13343>>IF      13348>>IF      13357>>IF      13364>>IF      13373>>IF
     13395>>IF      13459>>IF      13473>>IF      13481>>IF      13487>>IF      13497>>IF      13510>>IF
     13526>>IF      13534>>IF      13541>>IF      13550>>IF      13556>>IF      13563>>IF      16564>>IF
     16572>>IF      16864>>IF      18326>>IF      18345>>IF      18367>>IF      18385>>IF      18408>>IF
     18425>>IF      18429>>IF      18433>>IF      18452>>IF      18469>>IF      18479>>IF      18489>>IF
S_D.FPRG_CONTEXT$
     12019**DCL     13489>>IF      15066>>IF      15080>>ASSIGN
S_D.GHOST1
     12134**DCL     17277>>IF
S_D.HOST_MESSAGE_BUF_REMOTE
     12870**DCL     12871--REDEF   12885--REDEF
S_D.IFSPEC$
     11985**DCL     13352>>IF      13432>>IF      13436>>IF      13477>>IF
S_D.IGNPR
     12090**DCL     14740>>ASSIGN  14838>>ASSIGN  14879>>ASSIGN  15597>>ASSIGN  15730>>ASSIGN  18586>>ASSIGN
S_D.JDE
     12484**DCL     12485--REDEF
S_D.L$.VALUE
     12037**DCL     12043--REDEF   12051--REDEF   12054--REDEF   12057--REDEF   12060--REDEF
S_D.L$.VALUE.L
     12038**DCL     12039--REDEF   12040--REDEF
S_D.L6_MESSAGE_BUF
     12891**DCL     12893--REDEF
S_D.LADC
     12977**DCL     13385>>IF
S_D.LASTBLT$
     12071**DCL     13239>>ASSIGN
S_D.MACTIVE
     12148**DCL     14747<<ASSIGN
S_D.MLCT
     12834**DCL     15547>>IF
S_D.NCMD$
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:597  
     12515**DCL     13238>>ASSIGN
S_D.NODE
     12436**DCL     14108>>ASSIGN  14109>>ASSIGN  14111>>IF      16368>>ASSIGN  16370>>IF
S_D.ONABORT
     12507**DCL     15970>>IF      15994<<ASSIGN
S_D.ONCALLS
     12509**DCL     16740>>IF      16789<<ASSIGN
S_D.ONEXIT
     12511**DCL     15981>>IF      15995<<ASSIGN
S_D.ONE_TO_TWO.EXEC_DOMAIN
     12902**DCL     13339>>IF      13506>>IF      13516>>IF      13528>>IF      14084>>IF      14132>>IF
     14134>>IF      14731>>DOCASE  15101>>IF      15136>>IF      15582>>IF      15584>>IF      15722>>IF
     15724>>IF      15968>>IF      15979>>IF      15991>>IF      16393>>IF      16395>>IF      16560>>IF
     16738>>IF      16761>>IF      16785>>IF      16864>>IF      17413>>IF      17907>>IF      18396>>IF
S_D.ONNODES
     12513**DCL     16764>>IF      16796<<ASSIGN
S_D.OUTPUT
     12857**DCL     12859--REDEF   14170<<ASSIGN  14171--ASSIGN  14175--CALL    16431<<ASSIGN  16432--ASSIGN
     16436--CALL
S_D.OVERLAID
     12541**DCL     13415>>IF      13419>>IF      14110>>IF      14166>>IF      15318>>IF      16369>>IF
     16427>>IF      17558>>IF      18334>>IF      18443>>IF
S_D.PATCH
     12523**DCL     13471>>IF      13561>>IF
S_D.QUALIFIED
     12146**DCL     14101<<ASSIGN  16352>>IF      16365<<ASSIGN
S_D.RCBC.BUF$
     12120**DCL     17258--IF      17258--IF
S_D.REMACTIVE
     12094**DCL     13379<<ASSIGN  14747>>ASSIGN  15545>>IF      15578>>IF
S_D.REMOTE_MSG.FNCC
     12876**DCL     12877--REDEF
S_D.REMOTE_MSG.STXC
     12872**DCL     12873--REDEF
S_D.REMOTE_MSG.SUBFNCC
     12880**DCL     12881--REDEF
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:598  
S_D.RUM
     12525**DCL     13245>>IF      13262>>IF      13268>>IF      13291>>IF      13302>>IF      13324>>IF
     13333>>IF      13342>>IF      13347>>IF      13356>>IF      13363>>IF      13472>>IF      13480>>IF
     13486>>IF      13496>>IF      13509>>IF      13515>>IF      13525>>IF      13533>>IF      13540>>IF
     13548>>IF      13555>>IF      13562>>IF      15618>>IF      18469>>IF
S_D.RUM_FEP
     13007**DCL     18472>>IF
S_D.RUM_SKIP
     11975**DCL     17278<<ASSIGN
S_D.SACT
     12084**DCL     14705>>IF      15530>>IF      15700>>IF      17651>>IF
S_D.STORED
     12073**DCL     14112>>ASSIGN  14113>>ASSIGN  14123>>ASSIGN  14125>>ASSIGN  14146>>ASSIGN  14147>>ASSIGN
     14149>>ASSIGN  14151>>IF      14153>>ASSIGN  14154<>CALL    14172<>CALL    14176>>ASSIGN  15994>>ASSIGN
     15995>>ASSIGN  16008>>ASSIGN  16009>>ASSIGN  16010>>ASSIGN  16012>>ASSIGN  16371>>ASSIGN  16372>>ASSIGN
     16384>>ASSIGN  16386>>ASSIGN  16407>>ASSIGN  16408>>ASSIGN  16409>>ASSIGN  16411>>ASSIGN  16413<>CALL
     16433<>CALL    16437>>ASSIGN  16592>>ASSIGN  16602>>ASSIGN  16604>>ASSIGN  16776>>ASSIGN  16778>>ASSIGN
     16789>>ASSIGN  16793>>IF      16796>>ASSIGN  16809>>ASSIGN  16810>>ASSIGN  16811>>ASSIGN  16813>>ASSIGN
     16817<>CALL
S_D.SV
     11936**DCL     11957--REDEF
S_D.TEMP$O
     13118**DCL     15712<>CALL
S_D.TEMP$O_ACTIVE
     13120**DCL     15713<<ASSIGN  15748<<ASSIGN  15751<<ASSIGN
S_D.TR$INFO.SET
     12361**DCL     16742>>IF      16790<<ASSIGN  17909>>IF
S_D.TR$INFO.SILENT
     12365**DCL     17910>>ASSIGN
S_D.TR$INFO.TYPE
     12371**DCL     16791<<ASSIGN
S_D.TR$INFO.X
     12367**DCL     16792<<ASSIGN
S_D.UNODE.USENODE
     12533**DCL     14166>>IF      16427>>IF
S_D.UPROMPT
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:599  
     12663**DCL     16977--IF
S_D$
     13188**DCL     11884--IMP-PTR 13238>>ASSIGN  13239>>ASSIGN  13242>>ASSIGN  13245>>IF      13245>>IF
     13246>>IF      13246>>IF      13256>>IF      13262>>IF      13262>>IF      13263>>IF      13264>>IF
     13264>>IF      13268>>IF      13268>>IF      13269>>IF      13269>>IF      13279>>IF      13279>>IF
     13285>>IF      13291>>IF      13296>>IF      13296>>IF      13296>>IF      13302>>IF      13302>>IF
     13303>>IF      13303>>IF      13324>>IF      13324>>IF      13325>>IF      13325>>IF      13333>>IF
     13333>>IF      13334>>IF      13334>>IF      13339>>IF      13339>>IF      13342>>IF      13342>>IF
     13343>>IF      13343>>IF      13347>>IF      13347>>IF      13348>>IF      13348>>IF      13352>>IF
     13353>>IF      13356>>IF      13356>>IF      13357>>IF      13357>>IF      13363>>IF      13363>>IF
     13364>>IF      13364>>IF      13368>>IF      13372>>IF      13373>>IF      13373>>IF      13379>>ASSIGN
     13384>>IF      13385>>IF      13386>>ASSIGN  13395>>IF      13395>>IF      13395>>IF      13415>>IF
     13419>>IF      13432>>IF      13433>>IF      13436>>IF      13437>>IF      13440>>IF      13451>>IF
     13459>>IF      13459>>IF      13459>>IF      13470>>IF      13471>>IF      13472>>IF      13472>>IF
     13473>>IF      13473>>IF      13477>>IF      13480>>IF      13480>>IF      13481>>IF      13481>>IF
     13486>>IF      13486>>IF      13487>>IF      13487>>IF      13489>>IF      13496>>IF      13496>>IF
     13497>>IF      13497>>IF      13502>>IF      13506>>IF      13506>>IF      13509>>IF      13509>>IF
     13510>>IF      13510>>IF      13515>>IF      13515>>IF      13516>>IF      13525>>IF      13525>>IF
     13526>>IF      13526>>IF      13528>>IF      13528>>IF      13533>>IF      13533>>IF      13534>>IF
     13534>>IF      13539>>IF      13540>>IF      13540>>IF      13541>>IF      13541>>IF      13543>>IF
     13548>>IF      13548>>IF      13550>>IF      13550>>IF      13555>>IF      13555>>IF      13556>>IF
     13556>>IF      13560>>IF      13561>>IF      13562>>IF      13562>>IF      13563>>IF      13563>>IF
     13572>>ASSIGN  13573>>ASSIGN  13574>>ASSIGN  13575>>ASSIGN  13576>>ASSIGN  13577>>ASSIGN  13578>>ASSIGN
     13579>>ASSIGN  13580>>ASSIGN  13581>>ASSIGN  13582>>ASSIGN  13583>>ASSIGN  13584>>ASSIGN  13585>>ASSIGN
     13586>>ASSIGN  13587>>ASSIGN  13588>>ASSIGN  13673>>ASSIGN  13674>>ASSIGN  13721>>ASSIGN  13770>>ASSIGN
     13883>>ASSIGN  13889>>ASSIGN  13890>>ASSIGN  14084>>IF      14088>>ASSIGN  14095>>ASSIGN  14101>>ASSIGN
     14108>>ASSIGN  14109>>ASSIGN  14110>>IF      14111>>IF      14111>>IF      14112>>ASSIGN  14112>>ASSIGN
     14113>>ASSIGN  14113>>ASSIGN  14123>>ASSIGN  14123>>ASSIGN  14125>>ASSIGN  14125>>ASSIGN  14127>>ASSIGN
     14132>>IF      14134>>IF      14137>>DOWHILE 14143>>ASSIGN  14146>>ASSIGN  14146>>ASSIGN  14147>>ASSIGN
     14147>>ASSIGN  14147>>ASSIGN  14149>>ASSIGN  14149>>ASSIGN  14149>>ASSIGN  14151>>IF      14151>>IF
     14153>>ASSIGN  14153>>ASSIGN  14154>>CALL    14157>>ASSIGN  14166>>IF      14166>>IF      14168>>ASSIGN
     14170>>ASSIGN  14171>>ASSIGN  14172>>CALL    14175>>CALL    14176>>ASSIGN  14176>>ASSIGN  14388>>ASSIGN
     14450>>ASSIGN  14494>>ASSIGN  14498>>ASSIGN  14502>>ASSIGN  14549>>ASSIGN  14589>>ASSIGN  14597>>ASSIGN
     14601>>ASSIGN  14705>>IF      14716>>ASSIGN  14720>>ASSIGN  14731>>DOCASE  14737>>ASSIGN  14740>>ASSIGN
     14741>>ASSIGN  14747>>ASSIGN  14747>>ASSIGN  14822>>ASSIGN  14838>>ASSIGN  14839>>ASSIGN  14879>>ASSIGN
     14880>>ASSIGN  14901>>ASSIGN  14902>>ASSIGN  15066>>IF      15080>>ASSIGN  15101>>IF      15127>>ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:600  
     15136>>IF      15144>>ASSIGN  15152>>ASSIGN  15153>>ASSIGN  15245>>ASSIGN  15318>>IF      15320>>ASSIGN
     15369>>ASSIGN  15375>>ASSIGN  15376>>ASSIGN  15377>>ASSIGN  15378>>ASSIGN  15379>>ASSIGN  15453>>ASSIGN
     15457>>ASSIGN  15462>>ASSIGN  15530>>IF      15538>>ASSIGN  15545>>IF      15547>>IF      15555>>ASSIGN
     15562>>ASSIGN  15572>>ASSIGN  15578>>IF      15582>>IF      15584>>IF      15594>>ASSIGN  15597>>ASSIGN
     15598>>ASSIGN  15606>>ASSIGN  15618>>IF      15628>>ASSIGN  15644>>ASSIGN  15700>>IF      15703>>ASSIGN
     15709>>ASSIGN  15712>>CALL    15713>>ASSIGN  15717>>ASSIGN  15722>>IF      15724>>IF      15727>>ASSIGN
     15730>>ASSIGN  15731>>ASSIGN  15742>>ASSIGN  15748>>ASSIGN  15751>>ASSIGN  15808>>ASSIGN  15968>>IF
     15970>>IF      15979>>IF      15981>>IF      15985>>IF      15991>>IF      15994>>ASSIGN  15994>>ASSIGN
     15995>>ASSIGN  15995>>ASSIGN  15999>>DOWHILE 16005>>ASSIGN  16008>>ASSIGN  16008>>ASSIGN  16009>>ASSIGN
     16009>>ASSIGN  16010>>ASSIGN  16010>>ASSIGN  16010>>ASSIGN  16012>>ASSIGN  16012>>ASSIGN  16012>>ASSIGN
     16014>>ASSIGN  16019>>ASSIGN  16022>>ASSIGN  16337>>IF      16339>>ASSIGN  16352>>IF      16354>>ASSIGN
     16365>>ASSIGN  16368>>ASSIGN  16369>>IF      16370>>IF      16370>>IF      16371>>ASSIGN  16371>>ASSIGN
     16372>>ASSIGN  16372>>ASSIGN  16384>>ASSIGN  16384>>ASSIGN  16386>>ASSIGN  16386>>ASSIGN  16388>>ASSIGN
     16393>>IF      16395>>IF      16398>>DOWHILE 16404>>ASSIGN  16407>>ASSIGN  16407>>ASSIGN  16408>>ASSIGN
     16408>>ASSIGN  16409>>ASSIGN  16409>>ASSIGN  16409>>ASSIGN  16411>>ASSIGN  16411>>ASSIGN  16411>>ASSIGN
     16413>>CALL    16416>>ASSIGN  16423>>ASSIGN  16427>>IF      16427>>IF      16429>>ASSIGN  16431>>ASSIGN
     16432>>ASSIGN  16433>>CALL    16436>>CALL    16437>>ASSIGN  16437>>ASSIGN  16560>>IF      16564>>IF
     16564>>IF      16566>>IF      16568>>ASSIGN  16572>>IF      16572>>IF      16574>>ASSIGN  16587>>ASSIGN
     16592>>ASSIGN  16592>>ASSIGN  16602>>ASSIGN  16602>>ASSIGN  16604>>ASSIGN  16604>>ASSIGN  16606>>ASSIGN
     16614>>ASSIGN  16618>>ASSIGN  16738>>IF      16740>>IF      16742>>IF      16744>>ASSIGN  16749>>IF
     16751>>IF      16753>>ASSIGN  16761>>IF      16764>>IF      16776>>ASSIGN  16776>>ASSIGN  16778>>ASSIGN
     16778>>ASSIGN  16780>>ASSIGN  16785>>IF      16789>>ASSIGN  16789>>ASSIGN  16790>>ASSIGN  16791>>ASSIGN
     16792>>ASSIGN  16793>>IF      16793>>IF      16796>>ASSIGN  16796>>ASSIGN  16800>>DOWHILE 16806>>ASSIGN
     16809>>ASSIGN  16809>>ASSIGN  16810>>ASSIGN  16810>>ASSIGN  16811>>ASSIGN  16811>>ASSIGN  16811>>ASSIGN
     16813>>ASSIGN  16813>>ASSIGN  16813>>ASSIGN  16815>>ASSIGN  16816>>ASSIGN  16817>>CALL    16822>>ASSIGN
     16825>>ASSIGN  16864>>IF      16864>>IF      16864>>IF      16864>>IF      16869>>ASSIGN  16873>>ASSIGN
     16877>>ASSIGN  16979>>ASSIGN  17015>>IF      17017>>ASSIGN  17032>>ASSIGN  17226>>ASSIGN  17242>>ASSIGN
     17243>>ASSIGN  17261>>ASSIGN  17262>>ASSIGN  17268>>ASSIGN  17277>>IF      17278>>ASSIGN  17413>>IF
     17430>>ASSIGN  17476>>ASSIGN  17558>>IF      17560>>ASSIGN  17606>>ASSIGN  17616>>ASSIGN  17617>>ASSIGN
     17618>>ASSIGN  17619>>ASSIGN  17651>>IF      17696>>IF      17698>>ASSIGN  17716>>ASSIGN  17900>>ASSIGN
     17907>>IF      17909>>IF      17910>>ASSIGN  17913>>IF      17914>>ASSIGN  17924>>ASSIGN  17973>>ASSIGN
     18214>>ASSIGN  18215>>ASSIGN  18216>>ASSIGN  18323>>IF      18326>>IF      18326>>IF      18326>>IF
     18334>>IF      18345>>IF      18345>>IF      18345>>IF      18367>>IF      18367>>IF      18367>>IF
     18385>>IF      18385>>IF      18385>>IF      18396>>IF      18408>>IF      18408>>IF      18408>>IF
     18425>>IF      18425>>IF      18425>>IF      18429>>IF      18429>>IF      18429>>IF      18433>>IF
     18433>>IF      18433>>IF      18443>>IF      18452>>IF      18452>>IF      18452>>IF      18455>>ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:601  
     18469>>IF      18469>>IF      18469>>IF      18469>>IF      18472>>IF      18479>>IF      18479>>IF
     18479>>IF      18489>>IF      18489>>IF      18489>>IF      18501>>ASSIGN  18502>>ASSIGN  18504>>ASSIGN
     18505>>ASSIGN  18506>>ASSIGN  18581>>ASSIGN  18586>>ASSIGN  18587>>ASSIGN  18594>>ASSIGN  18656>>ASSIGN
     18657>>ASSIGN  18657>>ASSIGN
S_FAULT IN PROCEDURE DDS$BLD_AT
     14162**LABEL   14133--CALLALT
S_FAULT IN PROCEDURE DDS$BLD_OC
     16413**LABEL   16394--CALLALT
T$ IN PROCEDURE DDS$BLD_ALTVAR
     13746**DCL     13766<<ASSIGN  13767>>ASSIGN  13774>>ASSIGN  13774>>ASSIGN
T1 IN PROCEDURE DDS$BLD_ACTIVE
     13611**DCL     13626<<ASSIGN  13631<<ASSIGN  13636<<ASSIGN  13641<<ASSIGN  13646<<ASSIGN  13650<>CALL
     13654>>IF      13662>>IF      13667>>IF
T1 IN PROCEDURE DDS$BLD_BREAK
     14195**DCL     14212<<ASSIGN  14217<<ASSIGN  14222<<ASSIGN  14227<<ASSIGN  14232<<ASSIGN  14237<<ASSIGN
     14242<<ASSIGN  14247<<ASSIGN  14252<<ASSIGN  14257<<ASSIGN  14262<<ASSIGN  14267<<ASSIGN  14272<<ASSIGN
     14277<<ASSIGN  14282<<ASSIGN  14287<<ASSIGN  14292<<ASSIGN  14297<<ASSIGN  14300<>CALL
T1 IN PROCEDURE DDS$BLD_GO
     14970**DCL     15056<<ASSIGN  15057<>CALL    15066>>IF
T1 IN PROCEDURE DDS$BLD_MLCT
     15773**DCL     15789<<ASSIGN  15790<>CALL
T1 IN PROCEDURE DDS$BLD_SCHEMA
     17384**DCL     17403<<ASSIGN  17404<>CALL
T1 IN PROCEDURE DDS$BLD_SELCHAN
     17451**DCL     17467<<ASSIGN  17468<>CALL
T1 IN PROCEDURE DDS$BLD_TSA
     17947**DCL     17960<<ASSIGN  17961<>CALL
TCODE IN PROCEDURE DDS$BLD_AT
     13919**DCL     14080<<ASSIGN  14081>>IF      14115>>IF      14118<>CALL    14119>>ASSIGN  14120>>ASSIGN
     14122>>IF      14124>>IF
TCODE IN PROCEDURE DDS$BLD_DO
     14525**DCL     14545<>CALL    14547>>IF      14547>>IF      14553>>ASSIGN
TCODE IN PROCEDURE DDS$BLD_OC
     16050**DCL     16346<<ASSIGN  16347>>IF      16347>>IF      16374>>IF      16376>>IF      16379<>CALL
     16380>>ASSIGN  16381>>ASSIGN  16383>>IF      16385>>IF
TCODE IN PROCEDURE DDS$BLD_ONN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:602  
     16465**DCL     16579<<ASSIGN  16580>>IF      16580>>IF      16584<>CALL    16585>>IF      16591>>ASSIGN
     16592>>ASSIGN  16594>>IF      16597<>CALL    16598>>ASSIGN  16599>>ASSIGN  16601>>IF      16603>>IF
TCODE IN PROCEDURE DDS$BLD_TRACE
     17785**DCL     17869<<ASSIGN  17886<<ASSIGN  17916>>ASSIGN  17917>>IF
TEMP IN PROCEDURE DDS$BLD_STEP
     17630**DCL     17653<<ASSIGN  17659<>CALL    17662<<ASSIGN  17665>>ASSIGN
TEMP IN PROCEDURE DDS$BLD_USE
     18229**DCL     18342<<ASSIGN  18350<<ASSIGN  18352<<ASSIGN  18358>>ASSIGN  18373<>CALL    18377<>CALL
     18379>>ASSIGN  18387<>CALL    18390>>ASSIGN  18398<>CALL    18402<>CALL    18405<<ASSIGN  18411>>ASSIGN
     18415>>ASSIGN  18419<<ASSIGN  18420<<ASSIGN  18421>>DOCASE  18446<>CALL    18448>>ASSIGN
TEMP$ IN PROCEDURE DDS$BLD_USE
     18231**DCL     18341<<ASSIGN  18343>>IF      18347<<ASSIGN  18347>>ASSIGN  18348>>ASSIGN  18354<>CALL
     18363<<ASSIGN  18364>>IF      18369<<ASSIGN  18369>>ASSIGN  18370>>IF      18373<>CALL    18377<>CALL
     18394<<ASSIGN  18398>>CALL    18402>>CALL    18417>>IF      18417>>IF      18420>>ASSIGN  18420>>ASSIGN
     18445<<ASSIGN  18446<>CALL    18460<<ASSIGN  18461>>ASSIGN  18466>>ASSIGN  18466>>ASSIGN  18482<<ASSIGN
     18483>>ASSIGN  18484<>CALL    18492<<ASSIGN  18493>>ASSIGN  18494<>CALL
TEMP1 IN PROCEDURE DDS$BLD_USE
     18230**DCL     18348<<ASSIGN  18349>>IF      18351>>IF      18354<>CALL    18355>>ASSIGN  18461<<ASSIGN
     18462>>IF      18483<<ASSIGN  18493<<ASSIGN
TEMP_FLAG IN PROCEDURE DDS$BLD_FIND
     14780**DCL     14853<>CALL
TEMP_FLAG IN PROCEDURE DDS$BLD_MACTIVE
     15507**DCL     15552<>CALL
TEXT$ IN PROCEDURE DDS$BLD_ANLZ
     13801**DCL     13849<<ASSIGN  13850>>ASSIGN  13853>>ASSIGN  13853>>ASSIGN  13856<<ASSIGN  13857>>ASSIGN
     13860>>ASSIGN  13860>>ASSIGN  13877<<ASSIGN  13878>>ASSIGN  13879>>ASSIGN  13879>>ASSIGN
TEXT$ IN PROCEDURE DDS$BLD_DEBUG
     14328**DCL     14378<<ASSIGN  14379>>ASSIGN  14380>>ASSIGN  14380>>ASSIGN  14384<<ASSIGN  14385>>ASSIGN
     14395<<ASSIGN  14399>>ASSIGN  14400>>ASSIGN  14400>>ASSIGN  14403>>ASSIGN  14404>>CALLBLT 14404>>CALLBLT
     14409>>ASSIGN  14410>>ASSIGN  14410>>ASSIGN  14419<<ASSIGN  14420>>ASSIGN  14421>>ASSIGN  14421>>ASSIGN
     14433<<ASSIGN  14434>>ASSIGN  14435>>ASSIGN  14435>>ASSIGN  14440<<ASSIGN  14441>>ASSIGN  14442>>ASSIGN
     14442>>ASSIGN
TEXT$ IN PROCEDURE DDS$BLD_DEF
     14474**DCL     14491<<ASSIGN  14492>>IF      14497>>ASSIGN  14497>>ASSIGN
TEXT$ IN PROCEDURE DDS$BLD_GO
     14971**DCL     15079<<ASSIGN  15083>>IF      15083>>IF      15096>>ASSIGN  15096>>ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:603  
TEXT$ IN PROCEDURE DDS$BLD_PROMPT
     16959**DCL     16976<<ASSIGN  16977>>IF      16982>>ASSIGN  16982>>ASSIGN
TEXT$ IN PROCEDURE DDS$BLD_RUM
     17181**DCL     17222<<ASSIGN  17223>>ASSIGN  17229>>ASSIGN  17229>>ASSIGN
TEXT$ IN PROCEDURE DDS$BLD_SCHEMA
     17385**DCL     17423<<ASSIGN  17424>>ASSIGN  17425>>ASSIGN  17425>>ASSIGN
TEXT$C
      9698**DCL     13853>>ASSIGN  13860>>ASSIGN  14497>>ASSIGN  14652>>ASSIGN  15338>>ASSIGN  15847>>ASSIGN
     16982>>ASSIGN  17229>>ASSIGN  17533>>ASSIGN  17611>>ASSIGN  18045>>ASSIGN
TEXT$C.SIZE
      9699**DCL      9700--IMP-SIZ 13767>>ASSIGN  13774>>ASSIGN  13850>>ASSIGN  13853>>ASSIGN  13857>>ASSIGN
     13860>>ASSIGN  13878>>ASSIGN  13879>>ASSIGN  14379>>ASSIGN  14380>>ASSIGN  14385>>ASSIGN  14399>>ASSIGN
     14400>>ASSIGN  14403>>ASSIGN  14404>>CALLBLT 14409>>ASSIGN  14410>>ASSIGN  14420>>ASSIGN  14421>>ASSIGN
     14434>>ASSIGN  14435>>ASSIGN  14441>>ASSIGN  14442>>ASSIGN  14492>>IF      14497>>ASSIGN  14652>>ASSIGN
     15083>>IF      15096>>ASSIGN  15337>>IF      15338>>ASSIGN  15847>>ASSIGN  16977>>IF      16982>>ASSIGN
     17223>>ASSIGN  17229>>ASSIGN  17424>>ASSIGN  17425>>ASSIGN  17533>>ASSIGN  17611>>ASSIGN  17897>>ASSIGN
     17904>>ASSIGN  18045>>ASSIGN
TEXT$C.TXT
      9700**DCL     13774>>ASSIGN  13879>>ASSIGN  14380>>ASSIGN  14400>>ASSIGN  14404>>CALLBLT 14410>>ASSIGN
     14421>>ASSIGN  14435>>ASSIGN  14442>>ASSIGN  15083>>IF      15096>>ASSIGN  17425>>ASSIGN  17904>>ASSIGN
TFPRG$ IN PROCEDURE DDS$BLD_GO
     14966**DCL     15080<<ASSIGN  15081>>DOWHILE 15083>>IF      15086<<ASSIGN  15086>>ASSIGN
TL IN PROCEDURE DDS$BLD_TSA
     17970**LABEL   17964--GOTO
TOOLARGE IN PROCEDURE DDS$BLD_MLCT
     15808**LABEL   15795--GOTO    15802--GOTO
TOOLARGE IN PROCEDURE DDS$BLD_SELCHAN
     17476**LABEL   17472--GOTO
TOOLARGE IN PROCEDURE DDS$BLD_TSA
     17973**LABEL   17969--GOTO
TRACE$CMD IN PROCEDURE DDS$BLD_TRACE
     17852**DCL     17868--CALL
TRACE$CMD.PREFIX IN PROCEDURE DDS$BLD_TRACE
     17856**DCL     17895<<ASSIGN  17917>>IF
TRACE$CMD.PSIZ IN PROCEDURE DDS$BLD_TRACE
     17864**DCL     17903<<ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:604  
TRACE$CMD.PTXT IN PROCEDURE DDS$BLD_TRACE
     17865**DCL     17898--IF      17904<<ASSIGN
TRACE$CMD.SILENT IN PROCEDURE DDS$BLD_TRACE
     17858**DCL     17890<<ASSIGN  17910<<ASSIGN  17914<<ASSIGN
TRACE$CMD.TYPE IN PROCEDURE DDS$BLD_TRACE
     17860**DCL     17916<<ASSIGN
TRACE$CMD.XTERNAL IN PROCEDURE DDS$BLD_TRACE
     17857**DCL     17893<<ASSIGN
TSA$CMD IN PROCEDURE DDS$BLD_TSA
     17949**DCL     17961--CALL
TSA$CMD.ADDRESS IN PROCEDURE DDS$BLD_TSA
     17957**DCL     17970<<ASSIGN
TYPE IN PROCEDURE DDS$BLD_LET
     15449**DCL     15466<>CALL    15467>>ASSIGN
TYPE IN PROCEDURE DDS$BLD_USE
     18228**DCL     18330<<ASSIGN  18331<<ASSIGN  18332>>DOCASE  18365<<ASSIGN  18372<<ASSIGN  18376<<ASSIGN
     18381>>ASSIGN  18395>>IF      18406>>IF      18417>>IF      18417>>IF
UBIN36 IN PROCEDURE DDS$SAVE_L6INSTR_PTR
     18609**DCL     18656<<ASSIGN
UDERR1
     13576**LABEL   13567--GOTO
UNFID$CMD IN PROCEDURE DDS$BLD_UNFID
     17995**DCL     18013--CALL
UNFID$CMD.CLOSED IN PROCEDURE DDS$BLD_UNFID
     18002**DCL     18016<<ASSIGN  18024<<ASSIGN
UNFID$CMD.DCBN IN PROCEDURE DDS$BLD_UNFID
     18008**DCL     18045<<ASSIGN
UNFID$CMD.DCBN.C IN PROCEDURE DDS$BLD_UNFID
     18010**DCL     18020<<ASSIGN
UNFID$CMD.ID_FROM IN PROCEDURE DDS$BLD_UNFID
     17999**DCL     18018<<ASSIGN  18038<<ASSIGN
UNFID$CMD.ID_TO IN PROCEDURE DDS$BLD_UNFID
     18000**DCL     18019<<ASSIGN  18041<<ASSIGN
UNFID$CMD.K13 IN PROCEDURE DDS$BLD_UNFID
     18001**DCL     18017<<ASSIGN  18036<<ASSIGN  18044<<ASSIGN
UNFID$CMD.OPEN IN PROCEDURE DDS$BLD_UNFID
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:605  
     18003**DCL     18015<<ASSIGN  18030<<ASSIGN
UNSHARE$CMD IN PROCEDURE DDS$BLD_UNSHARE
     18075**DCL     18087--CALL
UNSHARE$CMD.LIBRARY IN PROCEDURE DDS$BLD_UNSHARE
     18080**DCL     18111<<ASSIGN
UNSHARE$CMD.PROGRAM IN PROCEDURE DDS$BLD_UNSHARE
     18079**DCL     18110<<ASSIGN
UPDATE$CMD IN PROCEDURE DDS$BLD_UPDATE
     18139**DCL     18156--CALL
UPDATE$CMD.ASYM$ IN PROCEDURE DDS$BLD_UPDATE
     18151**DCL     18207<<ASSIGN  18209<<ASSIGN
UPDATE$CMD.ATTACHMENT IN PROCEDURE DDS$BLD_UPDATE
     18143**DCL     18155<<ASSIGN  18204<<ASSIGN
UPDATE$CMD.ATTACHMENT# IN PROCEDURE DDS$BLD_UPDATE
     18147**DCL     18190<<ASSIGN  18203<<ASSIGN
UPDATE$CMD.ATTACH_AT_TIME IN PROCEDURE DDS$BLD_UPDATE
     18142**DCL     18211<<ASSIGN
UPDATE$CMD.ID_FROM IN PROCEDURE DDS$BLD_UPDATE
     18145**DCL     18169<<ASSIGN  18185<<ASSIGN  18196<<ASSIGN
UPDATE$CMD.ID_TO IN PROCEDURE DDS$BLD_UPDATE
     18146**DCL     18170<<ASSIGN  18176<<ASSIGN  18186<<ASSIGN  18197<<ASSIGN
UPDATE$CMD.UPDATE# IN PROCEDURE DDS$BLD_UPDATE
     18144**DCL     18166<<ASSIGN  18183<<ASSIGN  18194<<ASSIGN
USE$
     13196**DCL      9607--IMP-PTR
USE$CMD IN PROCEDURE DDS$BLD_USE
     18298**DCL     18321--CALL
USE$CMD.BASE IN PROCEDURE DDS$BLD_USE
     18308**DCL     18309--REDEF   18310--REDEF   18311--REDEF   18312--REDEF   18313--REDEF   18314--REDEF
     18355<<ASSIGN
USE$CMD.FPRG IN PROCEDURE DDS$BLD_USE
     18316**DCL     18465<<ASSIGN
USE$CMD.FPRG_RES IN PROCEDURE DDS$BLD_USE
     18318**DCL     18466<<ASSIGN
USE$CMD.HOST IN PROCEDURE DDS$BLD_USE
     18315**DCL     18463<<ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:606  
USE$CMD.LEVEL IN PROCEDURE DDS$BLD_USE
     18314**DCL     18497<<ASSIGN
USE$CMD.LS IN PROCEDURE DDS$BLD_USE
     18304**DCL     18328<<ASSIGN  18423<<ASSIGN  18427<<ASSIGN  18431<<ASSIGN  18435<<ASSIGN
USE$CMD.NODE IN PROCEDURE DDS$BLD_USE
     18310**DCL     18448<<ASSIGN
USE$CMD.POSITION IN PROCEDURE DDS$BLD_USE
     18313**DCL     18487<<ASSIGN
USE$CMD.PTA IN PROCEDURE DDS$BLD_USE
     18311**DCL     18379<<ASSIGN  18390<<ASSIGN  18411<<ASSIGN
USE$CMD.SECTION IN PROCEDURE DDS$BLD_USE
     18312**DCL     18476<<ASSIGN  18477<<ASSIGN
USE$CMD.SUBTYPE IN PROCEDURE DDS$BLD_USE
     18303**DCL     18304--REDEF   18358<<ASSIGN  18381<<ASSIGN  18437<<ASSIGN
USE$CMD.TYPE IN PROCEDURE DDS$BLD_USE
     18302**DCL     18336<<ASSIGN  18340<<ASSIGN  18362<<ASSIGN  18389<<ASSIGN  18410<<ASSIGN  18414<<ASSIGN
     18437>>ASSIGN  18438<<ASSIGN  18447<<ASSIGN  18474<<ASSIGN  18481<<ASSIGN  18491<<ASSIGN
USE$CMD.USERNO IN PROCEDURE DDS$BLD_USE
     18309**DCL     18415<<ASSIGN
USERAT
     13578**LABEL   13256--GOTO    13285--GOTO    13353--GOTO    13384--GOTO    13433--GOTO    13437--GOTO
     13441--GOTO    13451--GOTO    13470--GOTO    13502--GOTO    13539--GOTO    13560--GOTO
USERCONS IN PROCEDURE DDS$BLD_USE
     18506**LABEL   18496--GOTO
USEREV IN PROCEDURE DDS$BLD_FIND
     14901**LABEL   14832--GOTO    14849--GOTO    14873--GOTO
USERIF
     13577**LABEL   13352--GOTO    13432--GOTO    13436--GOTO    13477--GOTO
USERL6XDELTA
     13585**LABEL   13341--GOTO    13508--GOTO    13530--GOTO
USERNAN
     13584**LABEL   13368--GOTO    13372--GOTO    13374--GOTO
USERNBA
     13581**LABEL   13544--GOTO
USERNDE
     13583**LABEL   13245--GOTO    13247--GOTO    13262--GOTO    13265--GOTO    13268--GOTO    13270--GOTO
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:607  
     13302--GOTO    13304--GOTO    13324--GOTO    13326--GOTO    13333--GOTO    13335--GOTO    13342--GOTO
     13344--GOTO    13347--GOTO    13349--GOTO    13356--GOTO    13358--GOTO    13363--GOTO    13365--GOTO
     13472--GOTO    13474--GOTO    13480--GOTO    13482--GOTO    13486--GOTO    13488--GOTO    13496--GOTO
     13498--GOTO    13509--GOTO    13511--GOTO    13515--GOTO    13525--GOTO    13527--GOTO    13533--GOTO
     13535--GOTO    13540--GOTO    13542--GOTO    13549--GOTO    13551--GOTO    13555--GOTO    13557--GOTO
     13562--GOTO    13564--GOTO
USERNFEPXDELTA
     13586**LABEL   13281--GOTO    13299--GOTO    13398--GOTO    13462--GOTO
USERNFS
     13587**LABEL   13489--GOTO
USERNH IN PROCEDURE DDS$BLD_FIND
     14902**LABEL   14882--GOTO    14892--GOTO
USERNHOST
     13588**LABEL   13516--GOTO
USERNRU
     13582**LABEL   13291--GOTO
USERNRUM IN PROCEDURE DDS$BLD_USE
     18504**LABEL   18471--GOTO
USEROV
     13579**LABEL   13415--GOTO    13419--GOTO
USEROV IN PROCEDURE DDS$BLD_USE
     18501**LABEL   18335--GOTO    18444--GOTO
USERPA
     13580**LABEL   13471--GOTO    13561--GOTO
USERR3
     13572**LABEL   13406--GOTO
USERR341
     13575**LABEL   13263--GOTO
USERR7
     13573**LABEL   13250--GOTO    13255--GOTO    13261--GOTO    13273--GOTO    13276--GOTO    13290--GOTO
     13317--GOTO    13320--GOTO    13323--GOTO    13338--GOTO    13371--GOTO    13403--GOTO    13411--GOTO
     13414--GOTO    13418--GOTO    13450--GOTO    13454--GOTO    13467--GOTO    13485--GOTO    13505--GOTO
     13514--GOTO    13521--GOTO    13524--GOTO    13538--GOTO    13547--GOTO    13554--GOTO
USERR8
     13574**LABEL   13284--GOTO    13501--GOTO
USERRERR
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:608  
     13591**LABEL   13243--GOTO    13248--CALLALT 13251--CALLALT 13253--CALLALT 13257--CALLALT 13259--CALLALT
     13266--CALLALT 13271--CALLALT 13274--CALLALT 13277--CALLALT 13282--CALLALT 13286--CALLALT 13288--CALLALT
     13292--CALLALT 13294--CALLALT 13300--CALLALT 13305--CALLALT 13307--CALLALT 13309--CALLALT 13311--CALLALT
     13313--CALLALT 13315--CALLALT 13318--CALLALT 13321--CALLALT 13327--CALLALT 13329--CALLALT 13331--CALLALT
     13336--CALLALT 13345--CALLALT 13350--CALLALT 13354--CALLALT 13359--CALLALT 13361--CALLALT 13366--CALLALT
     13369--CALLALT 13375--CALLALT 13377--CALLALT 13380--CALLALT 13382--CALLALT 13387--GOTO    13389--CALLALT
     13391--CALLALT 13393--CALLALT 13399--CALLALT 13401--CALLALT 13404--CALLALT 13407--CALLALT 13409--CALLALT
     13412--CALLALT 13416--CALLALT 13420--CALLALT 13422--CALLALT 13424--CALLALT 13426--CALLALT 13428--CALLALT
     13430--CALLALT 13434--CALLALT 13438--CALLALT 13442--CALLALT 13444--CALLALT 13446--CALLALT 13448--CALLALT
     13452--CALLALT 13455--CALLALT 13457--CALLALT 13463--CALLALT 13465--CALLALT 13468--CALLALT 13475--CALLALT
     13478--CALLALT 13483--CALLALT 13490--CALLALT 13492--CALLALT 13494--CALLALT 13499--CALLALT 13503--CALLALT
     13512--CALLALT 13517--CALLALT 13519--CALLALT 13522--CALLALT 13531--CALLALT 13536--CALLALT 13545--CALLALT
     13552--CALLALT 13558--CALLALT 13565--CALLALT 13572--GOTO    13573--GOTO    13574--GOTO    13575--GOTO
     13576--GOTO    13577--GOTO    13578--GOTO    13579--GOTO    13580--GOTO    13581--GOTO    13582--GOTO
     13583--GOTO    13584--GOTO    13585--GOTO    13586--GOTO    13587--GOTO    13588--GOTO
USERSY IN PROCEDURE DDS$BLD_USE
     18502**LABEL   18339--GOTO    18346--GOTO    18361--GOTO    18368--GOTO    18384--GOTO    18386--GOTO
     18393--GOTO    18409--GOTO    18426--GOTO    18430--GOTO    18434--GOTO    18451--GOTO    18453--GOTO
     18459--GOTO    18473--GOTO    18480--GOTO    18490--GOTO
UTSM IN PROCEDURE DDS$BLD_RUM
     17188**DCL     17240>>IF
UTSP IN PROCEDURE DDS$BLD_RUM
     17187**DCL     17236>>ASSIGN
UTSX IN PROCEDURE DDS$BLD_RUM
     17189**DCL     17237--DOINDEX 17247>>CALLBLT
V IN PROCEDURE DDS$BLD_ACTIVE
     13609**DCL     13659<>CALL    13660>>ASSIGN  13661>>ASSIGN  13662>>IF      13662>>IF      13668>>IF
V IN PROCEDURE DDS$BLD_ALTVAR
     13745**DCL     13767<<ASSIGN  13768>>IF      13773>>ASSIGN
V IN PROCEDURE DDS$BLD_FIND
     14773**DCL     14809<<ASSIGN  14814<<ASSIGN  14817<>CALL    14825<<ASSIGN  14853<>CALL    14854>>ASSIGN
     14860<>CALL    14861>>ASSIGN  14887<<ASSIGN  14888<>CALL    14889>>ASSIGN
V IN PROCEDURE DDS$BLD_GO
     14969**DCL     15100<>CALL    15103>>IF      15107>>IF      15110>>ASSIGN
V IN PROCEDURE DDS$BLD_HISTORY
     15212**DCL     15237<>CALL    15238>>ASSIGN
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:609  
V IN PROCEDURE DDS$BLD_KILL
     15271**DCL     15323<>CALL    15324>>ASSIGN  15325>>ASSIGN  15326>>IF      15326>>IF      15332>>IF
V IN PROCEDURE DDS$BLD_MACTIVE
     15508**DCL     15552<>CALL    15553>>IF      15558>>ASSIGN
V IN PROCEDURE DDS$BLD_MLCT
     15772**DCL     15793<>CALL    15794>>IF      15796>>ASSIGN  15800<>CALL    15801>>IF      15804>>ASSIGN
V IN PROCEDURE DDS$BLD_OA
     15873**DCL     15967<<ASSIGN  15978<<ASSIGN  15990<>CALL    15993>>IF
V IN PROCEDURE DDS$BLD_RANGE
     17070**DCL     17073<<ASSIGN  17075<>CALL    17076>>ASSIGN
V IN PROCEDURE DDS$BLD_RUM
     17184**DCL     17239<>CALL    17240>>IF      17246>>CALLBLT 17257<>CALL    17258>>IF      17258>>IF
     17265>>ASSIGN
V IN PROCEDURE DDS$BLD_SAD
     17312**DCL     17315<>CALL    17316>>ASSIGN
V IN PROCEDURE DDS$BLD_SCHEMA
     17383**DCL     17412<>CALL    17413>>IF      17416>>IF      17418>>ASSIGN
V IN PROCEDURE DDS$BLD_SELCHAN
     17450**DCL     17470<>CALL    17471>>IF      17473>>ASSIGN
V IN PROCEDURE DDS$BLD_SHOW
     17496**DCL     17563<>CALL    17564>>ASSIGN  17565>>ASSIGN  17566>>IF      17566>>IF      17572>>IF
V IN PROCEDURE DDS$BLD_TRACE
     17784**DCL     17897<<ASSIGN  17898>>IF      17903>>ASSIGN
V IN PROCEDURE DDS$BLD_TSA
     17946**DCL     17963<<ASSIGN  17967<>CALL    17968>>IF      17970>>ASSIGN
V IN PROCEDURE DDS$BLD_UNFID
     17993**DCL     18037<>CALL    18038>>ASSIGN  18040<>CALL    18041>>ASSIGN
V IN PROCEDURE DDS$BLD_UPDATE
     18136**DCL     18168<>CALL    18169>>ASSIGN  18170>>ASSIGN  18171>>IF      18171>>IF      18179>>IF
     18184<>CALL    18185>>ASSIGN  18186>>ASSIGN  18187>>IF      18187>>IF      18195<>CALL    18196>>ASSIGN
     18197>>ASSIGN  18198>>IF      18198>>IF
V IN PROCEDURE DDS$BLD_USE
     18232**DCL     18484<>CALL    18485>>IF      18487>>ASSIGN  18494<>CALL    18495>>IF      18497>>ASSIGN
V1 IN PROCEDURE DDS$BLD_ACTIVE
     13610**DCL     13665<>CALL    13666>>ASSIGN  13667>>IF      13667>>IF      13668>>IF
V1 IN PROCEDURE DDS$BLD_KILL
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:610  
     15272**DCL     15329<>CALL    15330>>ASSIGN  15331>>IF      15331>>IF      15332>>IF
V1 IN PROCEDURE DDS$BLD_SHOW
     17497**DCL     17569<>CALL    17570>>ASSIGN  17571>>IF      17571>>IF      17572>>IF
V1 IN PROCEDURE DDS$BLD_UPDATE
     18137**DCL     18175<>CALL    18176>>ASSIGN  18177>>IF      18177>>IF      18179>>IF      18189<>CALL
     18190>>ASSIGN  18191>>IF      18202<>CALL    18203>>ASSIGN  18205>>IF
VREF IN PROCEDURE DDS$BLD_DISP
     14573**DCL     14594<<DOINDEX 14596>>ASSIGN
VREF$ IN PROCEDURE DDS$BLD_DISP
     14575**DCL     14596<<ASSIGN  14598<>CALL
WAIT$CMD IN PROCEDURE DDS$BLD_WAIT
     18526**DCL     18541--CALL
WAIT$CMD.UNUSED IN PROCEDURE DDS$BLD_WAIT
     18530**DCL     18531--REDEF   18535--REDEF
XDEL IN PROCEDURE DDS$BLD_USE
     18233**DCL     18324<<ASSIGN  18325<<ASSIGN  18327<<ASSIGN  18334>>IF      18338>>IF      18360>>IF
     18383>>IF      18392>>IF      18450>>IF      18458>>IF
XEQ$CMD IN PROCEDURE DDS$BLD_XEQ
     18566**DCL     18580--CALL
XEQ$CMD.AWDX IN PROCEDURE DDS$BLD_XEQ
     18573**DCL     18587<<ASSIGN
XEQ$CMD.IGNPR IN PROCEDURE DDS$BLD_XEQ
     18572**DCL     18586<<ASSIGN
XEQ$CMD.INSTR IN PROCEDURE DDS$BLD_XEQ
     18571**DCL     18588<<ASSIGN
XEQ$CMD.NUM IN PROCEDURE DDS$BLD_XEQ
     18570**DCL     18598<<ASSIGN
ZITEM.ADDRESS
     10418**DCL     10423--REDEF   10424--REDEF   10425--REDEF
ZITEM.DTYP
     10400**DCL     15705>>IF
ZITEM.FLAGS.ADDREXP
     10397**DCL     15460>>IF
ZITEM.FLAGS.MDSE.D
     10391**DCL     14599>>IF
ZITEM.FLAGS.MDSE.E
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:611  
     10395**DCL     14500>>IF      14718>>IF      14831>>IF      14848>>IF      14872>>IF      15460>>IF
     15570>>IF      15740>>IF      18592>>IF
ZITEM.FLAGS.MDSE.M
     10389**DCL     15455>>IF      15707>>IF      16875>>IF
ZITEM.FMT_SPEC
     10414**DCL     14725>>ASSIGN  15465>>ASSIGN  15569>>ASSIGN  15706<<ASSIGN  15734<<ASSIGN
ZITEM.SP.VD
     10426**DCL     10430--REDEF   10433--REDEF
ZITEM$
      9807**DCL     10384--IMP-PTR 14498<<ASSIGN  14500>>IF      14597<<ASSIGN  14599>>IF      14716<<ASSIGN
     14718>>IF      14725>>ASSIGN  14822<<ASSIGN  14831>>IF      14848>>IF      14872>>IF      15453<<ASSIGN
     15455>>IF      15460>>IF      15460>>IF      15465>>ASSIGN  15538<<ASSIGN  15569>>ASSIGN  15570>>IF
     15703<<ASSIGN  15705>>IF      15706>>ASSIGN  15707>>IF      15717<<ASSIGN  15734>>ASSIGN  15740>>IF
     16873<<ASSIGN  16875>>IF      18581<<ASSIGN  18592>>IF
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:612  
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DDS$BLD File=DDS$BLD.:E05TSI                                  TUE 07/29/97 14:11 Page:613  
              MINI UREF LISTING

B$TREEHDR IN PROCEDURE DDS$BLD_AT  13927**DCL
B$TREEHDR IN PROCEDURE DDS$BLD_OC  16060**DCL
DDE$NOTYET   13200**DCL-ENT
DDS$BLD      29**PROC
NCC$ IN PROCEDURE DDS$BLD_SCHEMA  17380**DCL
NSUB IN PROCEDURE DDS$BLD_TSA  17944**DCL
SDD$    9806**DCL
SDD_L6$    9808**DCL
TCODE IN PROCEDURE DDS$BLD_GO  14965**DCL
TCODE IN PROCEDURE DDS$BLD_SCHEMA  17381**DCL
TEXT$ IN PROCEDURE DDS$BLD_KILL  15274**DCL
TEXT$ IN PROCEDURE DDS$BLD_QUIT  17012**DCL
TEXT$ IN PROCEDURE DDS$BLD_SHOW  17499**DCL
TEXT$ IN PROCEDURE DDS$BLD_STOP  17693**DCL
U$SE    9607**DCL
V IN PROCEDURE DDS$BLD_ONCALLS  16642**DCL
V IN PROCEDURE DDS$BLD_QUIT  17013**DCL
V IN PROCEDURE DDS$BLD_STOP  17694**DCL
ZITEM_L6$    9809**DCL

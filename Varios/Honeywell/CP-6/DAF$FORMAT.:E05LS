VERSION E05

PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:1    
        1        1        /*M* DAF$FORMAT - ANLZ INTERFACE TO X$FORMAT */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR */
        8        8        /*D*    NAME: DAF$INIT
        9        9                CALL: CALL DAF$INIT(REPORT) ALTRET;
       10       10                INPUT:   REPORT - STRUCTURE DESCRIBING THE TITLE, HEADERS
       11       11                                  AND FOOTERS FOR THIS REPORT.
       12       12                DESCRIPTION:
       13       13                   This routine initializes the ANLZ formatter interface to
       14       14                provide the proper title, headers and footers for the current
       15       15                report.  The display routines must call DAF$INIT before
       16       16                producing any output.  The REPORT structure is generated with
       17       17                the REPORT macro in DA_FORMAT_C. The parameters used in this
       18       18                macro are:
       19       19                      NAME        The level 1 name of the strucure to be
       20       20                                  generated.
       21       21                      STCLASS     Storage class.
       22       22                      TITLE       The text of the title of this report.
       23       23                      TITLEADR    The location of a TEXTC string that is the
       24       24                                  title of this report.  The TITLE and TITLEADR
       25       25                                  parameters are mutually exclusive.
       26       26                                     The maximum title length for the table
       27       27                                     of contents is 42 characters.  The title
       28       28                                     will be put in the page header beginning
       29       29                                     at the character position specified in
       30       30                                     the SYMDEF DA_FMT_TITLEX for the length
       31       31                                     specified in DA_FMT_TLEN.  Defaults for
       32       32                                     TITLEX and TLEN are 36 and 42 respectivly.
       33       33                      HEADER      Are there page headers (YES/NO)?
       34       34                      FOOTER      Are there page footers (YES/NO)?
       35       35                                     The actual headers and footers are
       36       36                                     generated with HEADER and FOOTER macro
       37       37                                     invocations following the REPORT macro
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:2    
       38       38                                     invocation.  Default is NO.
       39       39                      LENGTH      Number of lines per page.
       40       40                      WIDTH       Columns per line.
       41       41                                     The defaults for LENGTH and WIDTH are
       42       42                                     obtained from the output DCB.  It is best
       43       43                                     not to specify these parameters.  Headers
       44       44                                     and footers are truncated at width.
       45       45                                     Output lines are folded or truncated based
       46       46                                     on REPORT.TRUNC# (see below).
       47       47                      CONTENTS    Put this report into table of contents (YES/NO)?
       48       48                                     Default is YES.
       49       49
       50       50                The following parameters to the REPORT macro are duplicates
       51       51                of parameters to the F_FDS macro in XU_FORMAT_C.  They are
       52       52                documented in XUF$FORMAT.
       53       53                      DVFC        Default is 'A'.
       54       54                      WRAPTAB     Default is 1.
       55       55                      TABDFLT     Default is 10.
       56       56                      TRUNC       Default is NO.
       57       57                      EDIT        Default is NIL.
       58       58
       59       59                   Headers and footers are generated with the HEADER and
       60       60                FOOTER macros.  The parameters for these macros are:
       61       61                      NAME        Level 1 name of structure.  This parameter
       62       62                                  should only be used when generating based
       63       63                                  header and footer strucures.
       64       64                      TEXT        Text of header or footer.
       65       65                      TEXTADR     Location of TEXTC header or footer.
       66       66                                     TEXT and TEXTADR are mutually exclusive.
       67       67                      ROUTINE     Optional routine to be called with this
       68       68                                  header or footer block as the argument
       69       69                                  before this header or footer is output.
       70       70                      CODE        An SBIN WORD to be used by ROUTINE.
       71       71                                     Level 2 name is COD.
       72       72                      LAST        Is this the last header or footer for this
       73       73                                  report (YES/NO)?  Default is YES.
       74       74                   If the altreturn is taken from DAF$INIT the error code
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:3    
       75       75                appears in DA_FMTERR.
       76       76                                                                           */
       77       77        /*D*    NAME: DAF$WRITE
       78       78                CALL: CALL DAF$WRITE(FMTV[,V1[,V2...,V20]]);
       79       79                INPUT:   FMTV - VECTOR FRAMING FORMAT TEXT.
       80       80                         Vn - VECTOR FRAMING SOME DATA.
       81       81                DESCRIPTION:
       82       82                   This routine is called as the interface to X$FORMAT.  The
       83       83                call is the same as X$WRITE (q.v.) except the FDS argument
       84       84                is omitted.  The documentation for X$WRITE is in the module
       85       85                XUF$FORMAT.  DAF$WRITE must be declared EPTR SYMREF instead of
       86       86                ENTRY.
       87       87                                                                           */
       88       88        /*D*    NAME: DAF$NEWPAGE
       89       89                CALL: CALL DAF$NEWPAGE;
       90       90                DESCRIPTION:
       91       91                   Causes subsequently printed lines to appear on a new page.
       92       92                This call is the same as using a VFC code of '0'.
       93       93                                                                           */
       94       94        /*D*    NAME: DAF$OUTPUT
       95       95                CALL: Called as output routine by X$FORMAT.
       96       96                DESCRIPTION:
       97       97                   This routine is called by X$FORMAT before each line is
       98       98                printed.  If the line to be printed should appear on a new
       99       99                page then the footers for the current page are printed and
      100      100                the headers for the new page printed.
      101      101                                                                           */
      102      102        /*D*
      103      103                NAME: DAF$CONTENTS
      104      104                CALL: CALL DAF$CONTENTS
      105      105                DESCRIPTION:
      106      106                   Prints the table of contents information saved by previous
      107      107                calls to DAF$INIT then clears the table of contents.
      108      108                                                                           */
      109      109        DAF$INIT: PROC(REPORT) ALTRET;
      110      110        %INCLUDE DA_FORMAT_C;
      111      352        %REPORT (NAME=REPORT,STCLASS="");
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:4    
      112      418        /**/
      113      419    1   DCL DAF$OUTPUT ENTRY(2) ALTRET;
      114      420        /**/
      115      421        /**/
      116      422        %INCLUDE DA_FORMAT_R;
      117      434        %INCLUDE DA_PERR_C;
      118      498        %INCLUDE CP_6;
      119      579        %INCLUDE XU_FORMAT_C;
      120      741        /**/
      121      742        %F$DCB;
      122      799    1   DCL B$TCB$ PTR SYMREF;
      123      800        %B$TCB;
      124      803        %B$ALT;
      125      811        %FPT_OPEN (FPTN=FPT_OPENLO,
      126      812                   FUN=CREATE);
      127      921        %FPT_GDS (RESULTS=DA_FMTSEG,SEGSIZE=2048);
      128      937        %F_FDS (NAME=DA_FDS,STCLASS="STATIC SYMDEF",TRUNC=NO,
      129      938                OUTPUT=DAF$OUTPUT);
      130     1051        %F_FDS (NAME=DA_XFDS,STCLASS="STATIC SYMDEF",TRUNC=YES);
      131     1164        %FPT_DEVICE (PAGE=YES);
      132     1182        %DA_HDR (NAME=DA_HDR,STCLASS=SYMREF);
      133     1213    1   DCL 1 HDRB BASED,
      134     1214    1         2 CTL UBIN,
      135     1215    1         2 TITLE,
      136     1216    1           3 L UBIN BYTE UNAL,
      137     1217    1           3 C CHAR(HDRB.TITLE.L);
      138     1218        %FPT_LINES (LINES=VLR_LINES);
      139     1232        %VLR_LINES;
      140     1246        %CONTENTS (STCLASS="BASED(DA_CONTENTS$)");
      141     1253        %HEADER (NAME=HDR,STCLASS=BASED);
      142     1295        %FOOTER (NAME=FTR,STCLASS=BASED);
      143     1337        /**/
      144     1338    1   DCL P$ PTR;
      145     1339    1   DCL I SBIN;
      146     1340    1   DCL TXT$ PTR;
      147     1341    1   DCL 1 TEXTC BASED(TXT$),
      148     1342    1         2 L UBIN BYTE UNAL,
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:5    
      149     1343    1         2 C CHAR(TEXTC.L);
      150     1344        %EQU BUFSIZE=256;
      151     1345    1   DCL FMTBUF CHAR(%BUFSIZE) BASED(P$);
      152     1346        %EJECT;
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:6    
      153     1347    1           FPT_OPENLO.V.DCB#=DAF_DCB#;
      154     1348    1           DA_FDS.DCB#=DAF_DCB#;
      155     1349    1           DA_XFDS.DCB#=DAF_DCB#;
      156     1350    1           FPT_DEVICE.V.DCB#=DAF_DCB#;
      157     1351    1           FPT_LINES.V.DCB#=DAF_DCB#;
      158     1352    2           IF DA_REPORT$=ADDR(NIL) THEN DO;
      159     1353    2              DA_LO$=DCBADDR(DAF_DCB#);
      160     1354    2              IF NOT DA_LO$->F$DCB.FCD# THEN
      161     1355    2                 CALL M$OPEN(FPT_OPENLO) ALTRET(PMMEALT);
      162     1356    3              IF DA_FMTSEG='0'B THEN DO;
      163     1357    3                 CALL M$GDS(FPT_GDS) ALTRET(PMMEALT);
      164     1358    3                 P$=DA_FMTSEG.P$;
      165     1359    3                 DA_FDS.BUF_=VECTOR(P$->FMTBUF);
      166     1360    3                 P$=PINCRW(P$,SIZEW(FMTBUF));
      167     1361    3                 DA_XFDS.BUF_=VECTOR(P$->FMTBUF);
      168     1362    3                 DA_CONTENTS$=PINCRW(P$,SIZEW(FMTBUF));
      169     1363    3                 CONTENTS.N=0;
      170     1364    3                 END;
      171     1365    2              END;
      172     1366    1           DA_REPORT$=ADDR(REPORT);
      173     1367    2           IF NOT REPORT.PAGELEN.I THEN DO;
      174     1368    2              REPORT.PAGELEN.N=DA_LO$->F$DCB.LINES#;
      175     1369    2              END;
      176     1370    2           IF NOT REPORT.PAGEWID.I THEN DO;
      177     1371    2              REPORT.PAGEWID.N=MINIMUM(DA_LO$->F$DCB.WIDTH#,%BUFSIZE-1);
      178     1372    2              IF REPORT.PAGEWID.N=0 THEN REPORT.PAGEWID.N=132;
      179     1373    2              END;
      180     1374    1           IF REPORT.PAGEWID.N>=%BUFSIZE THEN
      181     1375    1              CALL SETERR(%E$DA_TOO_WIDE) ALTRET(ALT);
      182     1376        /*E*    ERROR:   DAF-E$DA_TOO_WIDE
      183     1377                MESSAGE: Maximum line length is 255 characters.
      184     1378                                                                           */
      185     1379    1           DA_FDS.BUF_.BOUND=REPORT.PAGEWID.N;
      186     1380    1           DA_XFDS.BUF_.BOUND=REPORT.PAGEWID.N;
      187     1381    1           REPORT.CURLINE=1;
      188     1382    1           REPORT.FTRLINE=0;
      189     1383    1           P$=REPORT.HEAD$;
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:7    
      190     1384    1           REPORT.HDRLEN=0;
      191     1385    2           DO WHILE(P$~=ADDR(NIL));
      192     1386    2              REPORT.HDRLEN=REPORT.HDRLEN+1;
      193     1387    2              P$=P$->HDR.NXT$;
      194     1388    2              END;
      195     1389    2           IF REPORT.FOOT$=ADDR(NIL) THEN DO;
      196     1390    2              REPORT.FTRLEN=0;
      197     1391    2              REPORT.FTRLINE=REPORT.PAGELEN.N;
      198     1392    2              END;
      199     1393    2           ELSE DO;
      200     1394    2              REPORT.FTRLEN=1;
      201     1395    2              P$=REPORT.FOOT$;
      202     1396    3              DO WHILE(P$~=ADDR(NIL));
      203     1397    3                 REPORT.FTRLEN=REPORT.FTRLEN+1;
      204     1398    3                 P$=P$->FTR.NXT$;
      205     1399    3                 END;
      206     1400    2              IF REPORT.PAGELEN.N~=0 THEN
      207     1401    2                 REPORT.FTRLINE=REPORT.PAGELEN.N-REPORT.FTRLEN;
      208     1402    2              END;
      209     1403    1           TXT$=REPORT.TITLE$;
      210     1404    1           IF TXT$=ADDR(NIL) THEN
      211     1405    1              CALL SETERR(%E$DA_NO_TITLE) ALTRET(ALT);
      212     1406        /*E*    ERROR:   DAF-E$DA_NO_TITLE
      213     1407                MESSAGE: Title of report must be specified by report
      214     1408                         initialization time.
      215     1409                                                                           */
      216     1410    1           IF DA_FMT_TLEN>0 THEN
      217     1411    1              CALL INSERT(ADDR(DA_HDR)->HDRB.TITLE.C,DA_FMT_TITLEX,DA_FMT_TLEN,
      218     1412    1                TEXTC.C);
      219     1413    1           FPT_DEVICE.V.PAGE#=~DA_LO$->F$DCB.DDEV.UCOUT#;
      220     1414    1           FPT_DEVICE.HDR_=VECTOR(ADDR(DA_HDR)->HDRB);
      221     1415    1           CALL M$DEVICE(FPT_DEVICE) ALTRET(PMMEALT);
      222     1416    1           CALL M$LINES(FPT_LINES) ALTRET(PMMEALT);
      223     1417    2           IF REPORT.CONTENTS# THEN DO;
      224     1418    2              I=CONTENTS.N;
      225     1419    3              IF POFFC(ADDR(CONTENTS.TITLE(I+1)),DA_FMTSEG.P$)>=DA_FMTSEG.BOUND THEN DO
              1419                       ;
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:8    
      226     1420    3                 CALL M$GDS(FPT_GDS);
      227     1421    3                 END;
      228     1422    2              CALL CONCAT(CONTENTS.TITLE.TEXT(I),TEXTC.C,
      229     1423    2                '..........................................');
      230     1424    2              CONTENTS.TITLE.PAGE(I)=VLR_LINES.PAGE#+1;
      231     1425    2              IF CONTENTS.TITLE.TEXT(I)~=CONTENTS.TITLE.TEXT(I-1) AND
      232     1426    2                CONTENTS.TITLE.PAGE(I)~=CONTENTS.TITLE.PAGE(I-1) THEN
      233     1427    2                 CONTENTS.N=I+1;
      234     1428    2              END;
      235     1429    1           DA_FDS.DVFC#=REPORT.DVFC#;
      236     1430    1           DA_FDS.BUFX=1;
      237     1431    1           DA_FMTSEG.P$->FMTBUF=DA_FDS.DVFC#;
      238     1432    1           DA_FDS.WRAPTAB#=REPORT.WRAPTAB#;
      239     1433    1           DA_FDS.TABDFLT#=REPORT.TABDFLT#;
      240     1434    1           DA_FDS.TRUNC#=REPORT.TRUNC#;
      241     1435    1           DA_FDS.EDIT#=REPORT.EDIT#;
      242     1436    1           RETURN;
      243     1437    1   PMMEALT: ;
      244     1438    1           DA_FMTERR=B$TCB$->B$TCB.ALT$->B$ALT.ERR;
      245     1439    1   ALT:    ALTRETURN;
      246     1440        %EJECT;
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:9    
      247     1441    1   SETERR: PROC(CODE) ALTRET;
      248     1442    2   DCL CODE SBIN;
      249     1443    2           DA_FMTERR='040106000000'O;
      250     1444    2           DA_FMTERR.CODE=CODE;
      251     1445    2           ALTRETURN;
      252     1446    2   END SETERR;
      253     1447    1   END DAF$INIT;
      254     1448        %EOD;

PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:10   
--  Include file information  --

   XU_FORMAT_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   DA_PERR_C.:E05TOU  is referenced.
   DA_FORMAT_R.:E05TOU  cannot be made into a system file and is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DAF$INIT.

   Procedure DAF$INIT requires 313 words for executable code.
   Procedure DAF$INIT requires 14 words of local(AUTO) storage.

PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:11   

 Object Unit name= DAF$INIT                                   File name= DAF$FORMAT.:E05TOU
 UTS= JUL 29 '97 12:50:35.04 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none   142    216  DAF$INIT
    2  RoData even  UTS     12     14  DAF$INIT
    3   Proc  even  none   313    471  DAF$INIT
    4  RoData even  none     6      6  DAF$INIT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes    yes     yes      Std        1  DAF$INIT

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    1    100  DA_FDS                             1    136  DA_XFDS

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 DAF$OUTPUT
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:12   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     DA_REPORT$                            DAF_DCB#                              DA_LO$
     DA_FMTSEG                             DA_FMT_TITLEX                         DA_FMT_TLEN
     DA_CONTENTS$                          DA_FMTERR                             M$UC
     B$TCB$                                DA_HDR                                B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID                               ROSID
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:13   


        1        1        /*M* DAF$FORMAT - ANLZ INTERFACE TO X$FORMAT */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR */
        8        8        /*D*    NAME: DAF$INIT
        9        9                CALL: CALL DAF$INIT(REPORT) ALTRET;
       10       10                INPUT:   REPORT - STRUCTURE DESCRIBING THE TITLE, HEADERS
       11       11                                  AND FOOTERS FOR THIS REPORT.
       12       12                DESCRIPTION:
       13       13                   This routine initializes the ANLZ formatter interface to
       14       14                provide the proper title, headers and footers for the current
       15       15                report.  The display routines must call DAF$INIT before
       16       16                producing any output.  The REPORT structure is generated with
       17       17                the REPORT macro in DA_FORMAT_C. The parameters used in this
       18       18                macro are:
       19       19                      NAME        The level 1 name of the strucure to be
       20       20                                  generated.
       21       21                      STCLASS     Storage class.
       22       22                      TITLE       The text of the title of this report.
       23       23                      TITLEADR    The location of a TEXTC string that is the
       24       24                                  title of this report.  The TITLE and TITLEADR
       25       25                                  parameters are mutually exclusive.
       26       26                                     The maximum title length for the table
       27       27                                     of contents is 42 characters.  The title
       28       28                                     will be put in the page header beginning
       29       29                                     at the character position specified in
       30       30                                     the SYMDEF DA_FMT_TITLEX for the length
       31       31                                     specified in DA_FMT_TLEN.  Defaults for
       32       32                                     TITLEX and TLEN are 36 and 42 respectivly.
       33       33                      HEADER      Are there page headers (YES/NO)?
       34       34                      FOOTER      Are there page footers (YES/NO)?
       35       35                                     The actual headers and footers are
       36       36                                     generated with HEADER and FOOTER macro
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:14   
       37       37                                     invocations following the REPORT macro
       38       38                                     invocation.  Default is NO.
       39       39                      LENGTH      Number of lines per page.
       40       40                      WIDTH       Columns per line.
       41       41                                     The defaults for LENGTH and WIDTH are
       42       42                                     obtained from the output DCB.  It is best
       43       43                                     not to specify these parameters.  Headers
       44       44                                     and footers are truncated at width.
       45       45                                     Output lines are folded or truncated based
       46       46                                     on REPORT.TRUNC# (see below).
       47       47                      CONTENTS    Put this report into table of contents (YES/NO)?
       48       48                                     Default is YES.
       49       49
       50       50                The following parameters to the REPORT macro are duplicates
       51       51                of parameters to the F_FDS macro in XU_FORMAT_C.  They are
       52       52                documented in XUF$FORMAT.
       53       53                      DVFC        Default is 'A'.
       54       54                      WRAPTAB     Default is 1.
       55       55                      TABDFLT     Default is 10.
       56       56                      TRUNC       Default is NO.
       57       57                      EDIT        Default is NIL.
       58       58
       59       59                   Headers and footers are generated with the HEADER and
       60       60                FOOTER macros.  The parameters for these macros are:
       61       61                      NAME        Level 1 name of structure.  This parameter
       62       62                                  should only be used when generating based
       63       63                                  header and footer strucures.
       64       64                      TEXT        Text of header or footer.
       65       65                      TEXTADR     Location of TEXTC header or footer.
       66       66                                     TEXT and TEXTADR are mutually exclusive.
       67       67                      ROUTINE     Optional routine to be called with this
       68       68                                  header or footer block as the argument
       69       69                                  before this header or footer is output.
       70       70                      CODE        An SBIN WORD to be used by ROUTINE.
       71       71                                     Level 2 name is COD.
       72       72                      LAST        Is this the last header or footer for this
       73       73                                  report (YES/NO)?  Default is YES.
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:15   
       74       74                   If the altreturn is taken from DAF$INIT the error code
       75       75                appears in DA_FMTERR.
       76       76                                                                           */
       77       77        /*D*    NAME: DAF$WRITE
       78       78                CALL: CALL DAF$WRITE(FMTV[,V1[,V2...,V20]]);
       79       79                INPUT:   FMTV - VECTOR FRAMING FORMAT TEXT.
       80       80                         Vn - VECTOR FRAMING SOME DATA.
       81       81                DESCRIPTION:
       82       82                   This routine is called as the interface to X$FORMAT.  The
       83       83                call is the same as X$WRITE (q.v.) except the FDS argument
       84       84                is omitted.  The documentation for X$WRITE is in the module
       85       85                XUF$FORMAT.  DAF$WRITE must be declared EPTR SYMREF instead of
       86       86                ENTRY.
       87       87                                                                           */
       88       88        /*D*    NAME: DAF$NEWPAGE
       89       89                CALL: CALL DAF$NEWPAGE;
       90       90                DESCRIPTION:
       91       91                   Causes subsequently printed lines to appear on a new page.
       92       92                This call is the same as using a VFC code of '0'.
       93       93                                                                           */
       94       94        /*D*    NAME: DAF$OUTPUT
       95       95                CALL: Called as output routine by X$FORMAT.
       96       96                DESCRIPTION:
       97       97                   This routine is called by X$FORMAT before each line is
       98       98                printed.  If the line to be printed should appear on a new
       99       99                page then the footers for the current page are printed and
      100      100                the headers for the new page printed.
      101      101                                                                           */
      102      102        /*D*
      103      103                NAME: DAF$CONTENTS
      104      104                CALL: CALL DAF$CONTENTS
      105      105                DESCRIPTION:
      106      106                   Prints the table of contents information saved by previous
      107      107                calls to DAF$INIT then clears the table of contents.
      108      108                                                                           */
      109      109        DAF$INIT: PROC(REPORT) ALTRET;

PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:16   
    109  3 000000   000000 700200 xent  DAF$INIT     TSX0  ! X66_AUTO_1
         3 000001   000016 000001                    ZERO    14,1

      110      110        %INCLUDE DA_FORMAT_C;
      111      352        %REPORT (NAME=REPORT,STCLASS="");
      112      418        /**/
      113      419    1   DCL DAF$OUTPUT ENTRY(2) ALTRET;
      114      420        /**/
      115      421        /**/
      116      422        %INCLUDE DA_FORMAT_R;
      117      434        %INCLUDE DA_PERR_C;
      118      498        %INCLUDE CP_6;
      119      579        %INCLUDE XU_FORMAT_C;
      120      741        /**/
      121      742        %F$DCB;
      122      799    1   DCL B$TCB$ PTR SYMREF;
      123      800        %B$TCB;
      124      803        %B$ALT;
      125      811        %FPT_OPEN (FPTN=FPT_OPENLO,
      126      812                   FUN=CREATE);
      127      921        %FPT_GDS (RESULTS=DA_FMTSEG,SEGSIZE=2048);
      128      937        %F_FDS (NAME=DA_FDS,STCLASS="STATIC SYMDEF",TRUNC=NO,
      129      938                OUTPUT=DAF$OUTPUT);
      130     1051        %F_FDS (NAME=DA_XFDS,STCLASS="STATIC SYMDEF",TRUNC=YES);
      131     1164        %FPT_DEVICE (PAGE=YES);
      132     1182        %DA_HDR (NAME=DA_HDR,STCLASS=SYMREF);
      133     1213    1   DCL 1 HDRB BASED,
      134     1214    1         2 CTL UBIN,
      135     1215    1         2 TITLE,
      136     1216    1           3 L UBIN BYTE UNAL,
      137     1217    1           3 C CHAR(HDRB.TITLE.L);
      138     1218        %FPT_LINES (LINES=VLR_LINES);
      139     1232        %VLR_LINES;
      140     1246        %CONTENTS (STCLASS="BASED(DA_CONTENTS$)");
      141     1253        %HEADER (NAME=HDR,STCLASS=BASED);
      142     1295        %FOOTER (NAME=FTR,STCLASS=BASED);
      143     1337        /**/
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:17   
      144     1338    1   DCL P$ PTR;
      145     1339    1   DCL I SBIN;
      146     1340    1   DCL TXT$ PTR;
      147     1341    1   DCL 1 TEXTC BASED(TXT$),
      148     1342    1         2 L UBIN BYTE UNAL,
      149     1343    1         2 C CHAR(TEXTC.L);
      150     1344        %EQU BUFSIZE=256;
      151     1345    1   DCL FMTBUF CHAR(%BUFSIZE) BASED(P$);
      152     1346        %EJECT;
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:18   
      153     1347    1           FPT_OPENLO.V.DCB#=DAF_DCB#;

   1347  3 000002   000000 720000 xsym               LXL0    DAF_DCB#
         3 000003   000044 740000 1                  STX0    FPT_OPENLO+36

      154     1348    1           DA_FDS.DCB#=DAF_DCB#;

   1348  3 000004   000113 740000 1                  STX0    DA_FDS+11

      155     1349    1           DA_XFDS.DCB#=DAF_DCB#;

   1349  3 000005   000151 740000 1                  STX0    DA_XFDS+11

      156     1350    1           FPT_DEVICE.V.DCB#=DAF_DCB#;

   1350  3 000006   000202 740000 1                  STX0    FPT_DEVICE+6

      157     1351    1           FPT_LINES.V.DCB#=DAF_DCB#;

   1351  3 000007   000212 740000 1                  STX0    FPT_LINES+4

      158     1352    2           IF DA_REPORT$=ADDR(NIL) THEN DO;

   1352  3 000010   000000 236000 xsym               LDQ     DA_REPORT$
         3 000011   000001 116000 xsym               CMPQ    B_VECTNIL+1
         3 000012   000057 601000 3                  TNZ     s:1366

      159     1353    2              DA_LO$=DCBADDR(DAF_DCB#);

   1353  3 000013   000000 470400 4                  LDP0    0
         3 000014   000000 471500                    LDP1    0,,PR0
         3 000015   100000 236110                    LDQ     0,X0,PR1
         3 000016   000000 756000 xsym               STQ     DA_LO$

      160     1354    2              IF NOT DA_LO$->F$DCB.FCD# THEN

   1354  3 000017   000000 473400 xsym               LDP3    DA_LO$
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:19   
         3 000020   300031 236100                    LDQ     25,,PR3
         3 000021   020000 316007                    CANQ    8192,DL
         3 000022   000027 601000 3                  TNZ     s:1356

      161     1355    2                 CALL M$OPEN(FPT_OPENLO) ALTRET(PMMEALT);

   1355  3 000023   000000 630400 1                  EPPR0   FPT_OPENLO
         3 000024   450000 713400                    CLIMB   alt,open
         3 000025   410400 401760                    pmme    nvectors=18
         3 000026   000452 702000 3                  TSX2    PMMEALT

      162     1356    3              IF DA_FMTSEG='0'B THEN DO;

   1356  3 000027   000000 106400                    CMPC    fill='000'O
         3 000030   000000 000010 xsym               ADSC9   DA_FMTSEG                cn=0,n=8
         3 000031   000002 000002 xsym               ADSC9   B_VECTNIL+2              cn=0,n=2
         3 000032   000057 601000 3                  TNZ     s:1366

      163     1357    3                 CALL M$GDS(FPT_GDS) ALTRET(PMMEALT);

   1357  3 000033   000072 630400 1                  EPPR0   FPT_GDS
         3 000034   430001 713400                    CLIMB   alt,gds
         3 000035   400400 401760                    pmme    nvectors=2
         3 000036   000452 702000 3                  TSX2    PMMEALT

      164     1358    3                 P$=DA_FMTSEG.P$;

   1358  3 000037   000001 236000 xsym               LDQ     DA_FMTSEG+1
         3 000040   200004 756100                    STQ     P$,,AUTO

      165     1359    3                 DA_FDS.BUF_=VECTOR(P$->FMTBUF);

   1359  3 000041   000001 235000 4                  LDA     1
         3 000042   000105 755000 1                  STA     DA_FDS+5
         3 000043   000106 756000 1                  STQ     DA_FDS+6

      166     1360    3                 P$=PINCRW(P$,SIZEW(FMTBUF));
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:20   

   1360  3 000044   200004 236100                    LDQ     P$,,AUTO
         3 000045   000100 036003                    ADLQ    64,DU
         3 000046   200004 756100                    STQ     P$,,AUTO

      167     1361    3                 DA_XFDS.BUF_=VECTOR(P$->FMTBUF);

   1361  3 000047   000001 235000 4                  LDA     1
         3 000050   000143 755000 1                  STA     DA_XFDS+5
         3 000051   000144 756000 1                  STQ     DA_XFDS+6

      168     1362    3                 DA_CONTENTS$=PINCRW(P$,SIZEW(FMTBUF));

   1362  3 000052   200004 236100                    LDQ     P$,,AUTO
         3 000053   000100 036003                    ADLQ    64,DU
         3 000054   000000 756000 xsym               STQ     DA_CONTENTS$

      169     1363    3                 CONTENTS.N=0;

   1363  3 000055   000000 470400 xsym               LDP0    DA_CONTENTS$
         3 000056   000000 450100                    STZ     0,,PR0

      170     1364    3                 END;

      171     1365    2              END;

      172     1366    1           DA_REPORT$=ADDR(REPORT);

   1366  3 000057   200003 236100                    LDQ     @REPORT,,AUTO
         3 000060   000000 756000 xsym               STQ     DA_REPORT$

      173     1367    2           IF NOT REPORT.PAGELEN.I THEN DO;

   1367  3 000061   200003 470500                    LDP0    @REPORT,,AUTO
         3 000062   000000 234100                    SZN     0,,PR0
         3 000063   000071 604000 3                  TMI     s:1370

PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:21   
      174     1368    2              REPORT.PAGELEN.N=DA_LO$->F$DCB.LINES#;

   1368  3 000064   000000 471400 xsym               LDP1    DA_LO$
         3 000065   100044 236100                    LDQ     36,,PR1
         3 000066   000000 676100                    ERQ     0,,PR0
         3 000067   377777 376003                    ANQ     131071,DU
         3 000070   000000 656100                    ERSQ    0,,PR0

      175     1369    2              END;

      176     1370    2           IF NOT REPORT.PAGEWID.I THEN DO;

   1370  3 000071   000000 236100                    LDQ     0,,PR0
         3 000072   400000 316007                    CANQ    -131072,DL
         3 000073   000114 601000 3                  TNZ     s:1374

      177     1371    2              REPORT.PAGEWID.N=MINIMUM(DA_LO$->F$DCB.WIDTH#,%BUFSIZE-1);

   1371  3 000074   000000 471400 xsym               LDP1    DA_LO$
         3 000075   100004 236100                    LDQ     4,,PR1
         3 000076   000777 376007                    ANQ     511,DL
         3 000077   000377 116007                    CMPQ    255,DL
         3 000100   000103 602000 3                  TNC     s:1371+7
         3 000101   000103 600000 3                  TZE     s:1371+7
         3 000102   000377 236007                    LDQ     255,DL
         3 000103   000000 676100                    ERQ     0,,PR0
         3 000104   377777 376007                    ANQ     131071,DL
         3 000105   000000 656100                    ERSQ    0,,PR0

      178     1372    2              IF REPORT.PAGEWID.N=0 THEN REPORT.PAGEWID.N=132;

   1372  3 000106   000000 236100                    LDQ     0,,PR0
         3 000107   377777 316007                    CANQ    131071,DL
         3 000110   000114 601000 3                  TNZ     s:1374

   1372  3 000111   000002 376000 4                  ANQ     2
         3 000112   000204 276007                    ORQ     132,DL
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:22   
         3 000113   000000 756100                    STQ     0,,PR0

      179     1373    2              END;

      180     1374    1           IF REPORT.PAGEWID.N>=%BUFSIZE THEN

   1374  3 000114   000000 236100                    LDQ     0,,PR0
         3 000115   377777 376007                    ANQ     131071,DL
         3 000116   000400 116007                    CMPQ    256,DL
         3 000117   000124 602000 3                  TNC     s:1379

      181     1375    1              CALL SETERR(%E$DA_TOO_WIDE) ALTRET(ALT);

   1375  3 000120   000003 236000 4                  LDQ     3
         3 000121   200011 756100                    STQ     TXT$+3,,AUTO
         3 000122   000457 701000 3                  TSX1    SETERR
         3 000123   000456 702000 3                  TSX2    ALT

      182     1376        /*E*    ERROR:   DAF-E$DA_TOO_WIDE
      183     1377                MESSAGE: Maximum line length is 255 characters.
      184     1378                                                                           */
      185     1379    1           DA_FDS.BUF_.BOUND=REPORT.PAGEWID.N;

   1379  3 000124   200003 470500                    LDP0    @REPORT,,AUTO
         3 000125   000000 236100                    LDQ     0,,PR0
         3 000126   377777 376007                    ANQ     131071,DL
         3 000127   000020 736000                    QLS     16
         3 000130   000105 676000 1                  ERQ     DA_FDS+5
         3 000131   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 000132   000105 656000 1                  ERSQ    DA_FDS+5

      186     1380    1           DA_XFDS.BUF_.BOUND=REPORT.PAGEWID.N;

   1380  3 000133   000000 236100                    LDQ     0,,PR0
         3 000134   377777 376007                    ANQ     131071,DL
         3 000135   000020 736000                    QLS     16
         3 000136   000143 676000 1                  ERQ     DA_XFDS+5
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:23   
         3 000137   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 000140   000143 656000 1                  ERSQ    DA_XFDS+5

      187     1381    1           REPORT.CURLINE=1;

   1381  3 000141   000001 220003                    LDX0    1,DU
         3 000142   000001 740100                    STX0    1,,PR0

      188     1382    1           REPORT.FTRLINE=0;

   1382  3 000143   000000 221003                    LDX1    0,DU
         3 000144   000002 441100                    SXL1    2,,PR0

      189     1383    1           P$=REPORT.HEAD$;

   1383  3 000145   000006 236100                    LDQ     6,,PR0
         3 000146   200004 756100                    STQ     P$,,AUTO

      190     1384    1           REPORT.HDRLEN=0;

   1384  3 000147   000001 441100                    SXL1    1,,PR0

      191     1385    2           DO WHILE(P$~=ADDR(NIL));

   1385  3 000150   000160 710000 3                  TRA     s:1388

      192     1386    2              REPORT.HDRLEN=REPORT.HDRLEN+1;

   1386  3 000151   200003 470500                    LDP0    @REPORT,,AUTO
         3 000152   000001 720100                    LXL0    1,,PR0
         3 000153   000001 621010                    EAX1    1,X0
         3 000154   000001 441100                    SXL1    1,,PR0

      193     1387    2              P$=P$->HDR.NXT$;

   1387  3 000155   200004 471500                    LDP1    P$,,AUTO
         3 000156   100003 236100                    LDQ     3,,PR1
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:24   
         3 000157   200004 756100                    STQ     P$,,AUTO

      194     1388    2              END;

   1388  3 000160   000001 116000 xsym               CMPQ    B_VECTNIL+1
         3 000161   000151 601000 3                  TNZ     s:1386

      195     1389    2           IF REPORT.FOOT$=ADDR(NIL) THEN DO;

   1389  3 000162   000007 236100                    LDQ     7,,PR0
         3 000163   000001 116000 xsym               CMPQ    B_VECTNIL+1
         3 000164   000173 601000 3                  TNZ     s:1394

      196     1390    2              REPORT.FTRLEN=0;

   1390  3 000165   000000 220003                    LDX0    0,DU
         3 000166   000002 740100                    STX0    2,,PR0

      197     1391    2              REPORT.FTRLINE=REPORT.PAGELEN.N;

   1391  3 000167   000000 222100                    LDX2    0,,PR0
         3 000170   377777 362003                    ANX2    131071,DU
         3 000171   000002 442100                    SXL2    2,,PR0

      198     1392    2              END;

   1392  3 000172   000224 710000 3                  TRA     s:1403

      199     1393    2           ELSE DO;

      200     1394    2              REPORT.FTRLEN=1;

   1394  3 000173   000001 220003                    LDX0    1,DU
         3 000174   000002 740100                    STX0    2,,PR0

      201     1395    2              P$=REPORT.FOOT$;

PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:25   
   1395  3 000175   200004 756100                    STQ     P$,,AUTO

      202     1396    3              DO WHILE(P$~=ADDR(NIL));

   1396  3 000176   000206 710000 3                  TRA     s:1399

      203     1397    3                 REPORT.FTRLEN=REPORT.FTRLEN+1;

   1397  3 000177   200003 470500                    LDP0    @REPORT,,AUTO
         3 000200   000002 220100                    LDX0    2,,PR0
         3 000201   000001 621010                    EAX1    1,X0
         3 000202   000002 741100                    STX1    2,,PR0

      204     1398    3                 P$=P$->FTR.NXT$;

   1398  3 000203   200004 471500                    LDP1    P$,,AUTO
         3 000204   100003 236100                    LDQ     3,,PR1
         3 000205   200004 756100                    STQ     P$,,AUTO

      205     1399    3                 END;

   1399  3 000206   000001 116000 xsym               CMPQ    B_VECTNIL+1
         3 000207   000177 601000 3                  TNZ     s:1397

      206     1400    2              IF REPORT.PAGELEN.N~=0 THEN

   1400  3 000210   000000 236100                    LDQ     0,,PR0
         3 000211   377777 316003                    CANQ    131071,DU
         3 000212   000224 600000 3                  TZE     s:1403

      207     1401    2                 REPORT.FTRLINE=REPORT.PAGELEN.N-REPORT.FTRLEN;

   1401  3 000213   000002 236100                    LDQ     2,,PR0
         3 000214   000022 732000                    QRS     18
         3 000215   200012 756100                    STQ     @CODE+1,,AUTO
         3 000216   000000 236100                    LDQ     0,,PR0
         3 000217   000022 772000                    QRL     18
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:26   
         3 000220   377777 376007                    ANQ     131071,DL
         3 000221   200012 136100                    SBLQ    @CODE+1,,AUTO
         3 000222   000000 620006                    EAX0    0,QL
         3 000223   000002 440100                    SXL0    2,,PR0

      208     1402    2              END;

      209     1403    1           TXT$=REPORT.TITLE$;

   1403  3 000224   000005 236100                    LDQ     5,,PR0
         3 000225   200006 756100                    STQ     TXT$,,AUTO

      210     1404    1           IF TXT$=ADDR(NIL) THEN

   1404  3 000226   000001 116000 xsym               CMPQ    B_VECTNIL+1
         3 000227   000234 601000 3                  TNZ     s:1410

      211     1405    1              CALL SETERR(%E$DA_NO_TITLE) ALTRET(ALT);

   1405  3 000230   000004 236000 4                  LDQ     4
         3 000231   200011 756100                    STQ     TXT$+3,,AUTO
         3 000232   000457 701000 3                  TSX1    SETERR
         3 000233   000456 702000 3                  TSX2    ALT

      212     1406        /*E*    ERROR:   DAF-E$DA_NO_TITLE
      213     1407                MESSAGE: Title of report must be specified by report
      214     1408                         initialization time.
      215     1409                                                                           */
      216     1410    1           IF DA_FMT_TLEN>0 THEN

   1410  3 000234   000000 235000 xsym               LDA     DA_FMT_TLEN
         3 000235   000252 604400 3                  TMOZ    s:1413

      217     1411    1              CALL INSERT(ADDR(DA_HDR)->HDRB.TITLE.C,DA_FMT_TITLEX,DA_FMT_TLEN,

   1411  3 000236   000001 236000 xsym               LDQ     DA_HDR+1
         3 000237   000033 772000                    QRL     27
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:27   
         3 000240   200006 470500                    LDP0    TXT$,,AUTO
         3 000241   000100 101500                    MRL     fill='000'O
         3 000242   000000 000001                    ADSC9   0,,PR0                   cn=0,n=1
         3 000243   200012 000002                    ADSC9   @CODE+1,,AUTO            cn=0,n=2
         3 000244   200012 220100                    LDX0    @CODE+1,,AUTO
         3 000245   000000 621005                    EAX1    0,AL
         3 000246   000000 235000 xsym               LDA     DA_FMT_TITLEX
         3 000247   040045 100540                    MLR     fill='040'O
         3 000250   000000 200010                    ADSC9   0,,PR0                   cn=1,n=*X0
         3 000251   000001 200011 xsym               ADSC9   DA_HDR+1,A               cn=1,n=*X1

      218     1412    1                TEXTC.C);
      219     1413    1           FPT_DEVICE.V.PAGE#=~DA_LO$->F$DCB.DDEV.UCOUT#;

   1413  3 000252   000000 470400 xsym               LDP0    DA_LO$
         3 000253   000004 236100                    LDQ     4,,PR0
         3 000254   000026 736000                    QLS     22
         3 000255   400000 376003                    ANQ     -131072,DU
         3 000256   400000 676003                    ERQ     -131072,DU
         3 000257   000024 772000                    QRL     20
         3 000260   000202 676000 1                  ERQ     FPT_DEVICE+6
         3 000261   100000 376007                    ANQ     32768,DL
         3 000262   000202 656000 1                  ERSQ    FPT_DEVICE+6

      220     1414    1           FPT_DEVICE.HDR_=VECTOR(ADDR(DA_HDR)->HDRB);

   1414  3 000263   000001 236000 xsym               LDQ     DA_HDR+1
         3 000264   000033 772000                    QRL     27
         3 000265   000005 620006                    EAX0    5,QL
         3 000266   000000 635010                    EAA     0,X0
         3 000267   000002 771000                    ARL     2
         3 000270   000140 135007                    SBLA    96,DL
         3 000271   000005 236000 4                  LDQ     5
         3 000272   000200 757000 1                  STAQ    FPT_DEVICE+4

      221     1415    1           CALL M$DEVICE(FPT_DEVICE) ALTRET(PMMEALT);

PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:28   
   1415  3 000273   000174 630400 1                  EPPR0   FPT_DEVICE
         3 000274   450006 713400                    CLIMB   alt,+20486
         3 000275   401000 401760                    pmme    nvectors=3
         3 000276   000452 702000 3                  TSX2    PMMEALT

      222     1416    1           CALL M$LINES(FPT_LINES) ALTRET(PMMEALT);

   1416  3 000277   000206 630400 1                  EPPR0   FPT_LINES
         3 000300   450005 713400                    CLIMB   alt,+20485
         3 000301   400400 401760                    pmme    nvectors=2
         3 000302   000452 702000 3                  TSX2    PMMEALT

      223     1417    2           IF REPORT.CONTENTS# THEN DO;

   1417  3 000303   200003 470500                    LDP0    @REPORT,,AUTO
         3 000304   000003 236100                    LDQ     3,,PR0
         3 000305   000200 316007                    CANQ    128,DL
         3 000306   000421 600000 3                  TZE     s:1429

      224     1418    2              I=CONTENTS.N;

   1418  3 000307   000000 471400 xsym               LDP1    DA_CONTENTS$
         3 000310   100000 235100                    LDA     0,,PR1
         3 000311   200005 755100                    STA     I,,AUTO

      225     1419    3             IF POFFC(ADDR(CONTENTS.TITLE(I+1)),DA_FMTSEG.P$)>=DA_FMTSEG.BOUND THEN DO
              1419                       ;

   1419  3 000312   200005 236100                    LDQ     I,,AUTO
         3 000313   000013 402003                    MPY     11,DU
         3 000314   000014 036003                    ADLQ    12,DU
         3 000315   000000 036000 xsym               ADLQ    DA_CONTENTS$
         3 000316   000020 772000                    QRL     16
         3 000317   200012 756100                    STQ     @CODE+1,,AUTO
         3 000320   000001 236000 xsym               LDQ     DA_FMTSEG+1
         3 000321   000020 772000                    QRL     16
         3 000322   200013 756100                    STQ     @CODE+2,,AUTO
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:29   
         3 000323   200012 236100                    LDQ     @CODE+1,,AUTO
         3 000324   200013 136100                    SBLQ    @CODE+2,,AUTO
         3 000325   200014 756100                    STQ     @CODE+3,,AUTO
         3 000326   000000 236000 xsym               LDQ     DA_FMTSEG
         3 000327   000020 772000                    QRL     16
         3 000330   200015 756100                    STQ     @CODE+4,,AUTO
         3 000331   200014 236100                    LDQ     @CODE+3,,AUTO
         3 000332   200015 116100                    CMPQ    @CODE+4,,AUTO
         3 000333   000337 604000 3                  TMI     s:1422

      226     1420    3                 CALL M$GDS(FPT_GDS);

   1420  3 000334   000072 630400 1                  EPPR0   FPT_GDS
         3 000335   030001 713400                    CLIMB   gds
         3 000336   400400 401760                    pmme    nvectors=2

      227     1421    3                 END;

      228     1422    2              CALL CONCAT(CONTENTS.TITLE.TEXT(I),TEXTC.C,

   1422  3 000337   200006 470500                    LDP0    TXT$,,AUTO
         3 000340   000100 101500                    MRL     fill='000'O
         3 000341   000000 000001                    ADSC9   0,,PR0                   cn=0,n=1
         3 000342   200012 000002                    ADSC9   @CODE+1,,AUTO            cn=0,n=2
         3 000343   200012 220100                    LDX0    @CODE+1,,AUTO
         3 000344   200005 236100                    LDQ     I,,AUTO
         3 000345   000054 402007                    MPY     44,DL
         3 000346   000000 471400 xsym               LDP1    DA_CONTENTS$
         3 000347   040106 100540                    MLR     fill='040'O
         3 000350   000000 200010                    ADSC9   0,,PR0                   cn=1,n=*X0
         3 000351   100001 000052                    ADSC9   1,Q,PR1                  cn=0,n=42
         3 000352   000000 636010                    EAQ     0,X0
         3 000353   000022 772000                    QRL     18
         3 000354   000052 116007                    CMPQ    42,DL
         3 000355   000372 603000 3                  TRC     s:1424
         3 000356   000000 635010                    EAA     0,X0
         3 000357   000022 771000                    ARL     18
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:30   
         3 000360   200013 755100                    STA     @CODE+2,,AUTO
         3 000361   200005 236100                    LDQ     I,,AUTO
         3 000362   000054 402007                    MPY     44,DL
         3 000363   200013 036100                    ADLQ    @CODE+2,,AUTO
         3 000364   777725 620010                    EAX0    -43,X0
         3 000365   777777 660003                    ERX0    -1,DU
         3 000366   000000 471400 xsym               LDP1    DA_CONTENTS$
         3 000367   040146 100400                    MLR     fill='040'O
         3 000370   000000 000052 2                  ADSC9   0                        cn=0,n=42
         3 000371   100001 000010                    ADSC9   1,Q,PR1                  cn=0,n=*X0

      229     1423    2                '..........................................');
      230     1424    2              CONTENTS.TITLE.PAGE(I)=VLR_LINES.PAGE#+1;

   1424  3 000372   200005 236100                    LDQ     I,,AUTO
         3 000373   000013 402007                    MPY     11,DL
         3 000374   000214 720000 1                  LXL0    VLR_LINES
         3 000375   000001 621010                    EAX1    1,X0
         3 000376   000000 471400 xsym               LDP1    DA_CONTENTS$
         3 000377   100013 441106                    SXL1    11,QL,PR1

      231     1425    2              IF CONTENTS.TITLE.TEXT(I)~=CONTENTS.TITLE.TEXT(I-1) AND

   1425  3 000400   200005 236100                    LDQ     I,,AUTO
         3 000401   000054 402007                    MPY     44,DL
         3 000402   000000 471400 xsym               LDP1    DA_CONTENTS$
         3 000403   040106 106506                    CMPC    fill='040'O
         3 000404   100001 000052                    ADSC9   1,Q,PR1                  cn=0,n=42
         3 000405   177766 000052                    ADSC9   -10,Q,PR1                cn=0,n=42
         3 000406   000421 600000 3                  TZE     s:1429
         3 000407   200005 236100                    LDQ     I,,AUTO
         3 000410   000013 402007                    MPY     11,DL
         3 000411   000000 620006                    EAX0    0,QL
         3 000412   100013 236110                    LDQ     11,X0,PR1
         3 000413   100000 676110                    ERQ     0,X0,PR1
         3 000414   777777 376007                    ANQ     -1,DL
         3 000415   000421 600000 3                  TZE     s:1429
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:31   

      232     1426    2                CONTENTS.TITLE.PAGE(I)~=CONTENTS.TITLE.PAGE(I-1) THEN
      233     1427    2                 CONTENTS.N=I+1;

   1427  3 000416   200005 235100                    LDA     I,,AUTO
         3 000417   000001 035007                    ADLA    1,DL
         3 000420   100000 755100                    STA     0,,PR1

      234     1428    2              END;

      235     1429    1           DA_FDS.DVFC#=REPORT.DVFC#;

   1429  3 000421   200003 470500                    LDP0    @REPORT,,AUTO
         3 000422   000003 236100                    LDQ     3,,PR0
         3 000423   000022 772000                    QRL     18
         3 000424   000113 552010 1                  STBQ    DA_FDS+11,'10'O

      236     1430    1           DA_FDS.BUFX=1;

   1430  3 000425   000001 235007                    LDA     1,DL
         3 000426   000107 755000 1                  STA     DA_FDS+7

      237     1431    1           DA_FMTSEG.P$->FMTBUF=DA_FDS.DVFC#;

   1431  3 000427   000001 471400 xsym               LDP1    DA_FMTSEG+1
         3 000430   040100 100400                    MLR     fill='040'O
         3 000431   000113 400001 1                  ADSC9   DA_FDS+11                cn=2,n=1
         3 000432   100000 000400                    ADSC9   0,,PR1                   cn=0,n=256

      238     1432    1           DA_FDS.WRAPTAB#=REPORT.WRAPTAB#;

   1432  3 000433   000003 236100                    LDQ     3,,PR0
         3 000434   000022 772000                    QRL     18
         3 000435   000777 376007                    ANQ     511,DL
         3 000436   000116 756000 1                  STQ     DA_FDS+14

      239     1433    1           DA_FDS.TABDFLT#=REPORT.TABDFLT#;
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:32   

   1433  3 000437   000003 236100                    LDQ     3,,PR0
         3 000440   000011 772000                    QRL     9
         3 000441   000777 376007                    ANQ     511,DL
         3 000442   000117 756000 1                  STQ     DA_FDS+15

      240     1434    1           DA_FDS.TRUNC#=REPORT.TRUNC#;

   1434  3 000443   000003 236100                    LDQ     3,,PR0
         3 000444   000113 676000 1                  ERQ     DA_FDS+11
         3 000445   000400 376007                    ANQ     256,DL
         3 000446   000113 656000 1                  ERSQ    DA_FDS+11

      241     1435    1           DA_FDS.EDIT#=REPORT.EDIT#;

   1435  3 000447   000004 236100                    LDQ     4,,PR0
         3 000450   000115 756000 1                  STQ     DA_FDS+13

      242     1436    1           RETURN;

   1436  3 000451   000000 702200 xent               TSX2  ! X66_ARET

   1435  3 000452                       PMMEALT      null
      243     1437    1   PMMEALT: ;
      244     1438    1           DA_FMTERR=B$TCB$->B$TCB.ALT$->B$ALT.ERR;

   1438  3 000452   000000 470400 xsym               LDP0    B$TCB$
         3 000453   000000 471500                    LDP1    0,,PR0
         3 000454   100102 236100                    LDQ     66,,PR1
         3 000455   000000 756000 xsym               STQ     DA_FMTERR

      245     1439    1   ALT:    ALTRETURN;

   1439  3 000456   000000 702200 xent  ALT          TSX2  ! X66_AALT

      246     1440        %EJECT;
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:33   
      247     1441    1   SETERR: PROC(CODE) ALTRET;

   1441  3 000457   200010 741300       SETERR       STX1  ! TXT$+2,,AUTO

      248     1442    2   DCL CODE SBIN;
      249     1443    2           DA_FMTERR='040106000000'O;

   1443  3 000460   000013 236000 2                  LDQ     11
         3 000461   000000 756000 xsym               STQ     DA_FMTERR

      250     1444    2           DA_FMTERR.CODE=CODE;

   1444  3 000462   200011 470500                    LDP0    @CODE,,AUTO
         3 000463   000000 236100                    LDQ     0,,PR0
         3 000464   000003 736000                    QLS     3
         3 000465   000000 676000 xsym               ERQ     DA_FMTERR
         3 000466   377770 376007                    ANQ     131064,DL
         3 000467   000000 656000 xsym               ERSQ    DA_FMTERR

      251     1445    2           ALTRETURN;

   1445  3 000470   000000 702211                    TSX2  ! 0,X1
      252     1446    2   END SETERR;
      253     1447    1   END DAF$INIT;
      254     1448        %EOD;

PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:34   
--  Include file information  --

   XU_FORMAT_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   DA_PERR_C.:E05TOU  is referenced.
   DA_FORMAT_R.:E05TOU  cannot be made into a system file and is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DAF$INIT.
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:35   

 **** Variables and constants ****

  ****  Section 001  Data  DAF$INIT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   100-0-0/w STRC(1080)  r     1 DA_FDS                   136-0-0/w STRC(1080)  r     1 DA_XFDS
   174-0-0/d STRC(360)   r     1 FPT_DEVICE                72-0-0/d STRC(216)   r     1 FPT_GDS
   206-0-0/d STRC(216)   r     1 FPT_LINES                  0-0-0/d STRC(2088)  r     1 FPT_OPENLO
   214-0-0/d STRC(72)    r     1 VLR_LINES

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    11-0-0/w PTR         r     1 @CODE                      3-0-0/w PTR         r     1 @REPORT
    *0-0-0/w SBIN        r     1 CODE                       5-0-0/w SBIN        r     1 I
     4-0-0/w PTR         r     1 P$                        *0-0-0/w STRC(288)   r     1 REPORT
     6-0-0/w PTR         r     1 TXT$

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$TCB$                     0-0-0/w UBIN        r     1 DAF_DCB#
     0-0-0/w PTR         r     1 DA_CONTENTS$               0-0-0/w STRC        r     1 DA_FMTERR
     0-0-0/w STRC(72)    r     1 DA_FMTSEG                  0-0-0/w SBIN        r     1 DA_FMT_TITLEX
     0-0-0/w SBIN        r     1 DA_FMT_TLEN                0-0-0/w STRC(1125)  r     1 DA_HDR
     0-0-0/w PTR         r     1 DA_LO$                     0-0-0/w PTR         r     1 DA_REPORT$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:36   

     0-0-0/w STRC(2448)  r     1 B$ALT                      0-0-0/w STRC(144)   r     1 B$TCB
     0-0-0/w STRC(432)   r     1 CONTENTS                   0-0-0/d ASTR(3528)  r     1 F$DCB
     0-0-0/c CHAR(256)   r     1 FMTBUF                     0-0-0/w STRC(144)   r     1 FTR
     0-0-0/w STRC(144)   r     1 HDR                        0-0-0/w ASTR(45)    r     1 HDRB
     0-0-0/c ASTR(9)     r     1 TEXTC


   Procedure DAF$INIT requires 313 words for executable code.
   Procedure DAF$INIT requires 14 words of local(AUTO) storage.
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:37   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:38   
          MINI XREF LISTING

ALT
      1439**LABEL    1375--CALLALT  1405--CALLALT
B$ALT.CODE
       805**DCL       805--REDEF     806--REDEF     806--REDEF
B$ALT.ERR
       806**DCL      1438>>ASSIGN
B$ALT.ERR.ERR#
       807**DCL       807--REDEF
B$ALT.EVID
       806**DCL       806--REDEF     806--REDEF
B$TCB.ALT$
       801**DCL      1438>>ASSIGN
B$TCB$
       799**DCL      1438>>ASSIGN
CODE IN PROCEDURE SETERR
      1442**DCL      1441--PROC     1444>>ASSIGN
CONTENTS.N
      1248**DCL      1363<<ASSIGN   1418>>ASSIGN   1427<<ASSIGN
CONTENTS.TITLE
      1249**DCL      1419--IF
CONTENTS.TITLE.PAGE
      1251**DCL      1424<<ASSIGN   1425>>IF       1425>>IF
CONTENTS.TITLE.TEXT
      1250**DCL      1422<<CALLBLT  1425>>IF       1425>>IF
DAF$OUTPUT
       419**DCL-ENT  1006--DCLINIT
DAF_DCB#
       430**DCL      1347>>ASSIGN   1348>>ASSIGN   1349>>ASSIGN   1350>>ASSIGN   1351>>ASSIGN   1353--ASSIGN
DA_CONTENTS$
       432**DCL      1247--IMP-PTR  1362<<ASSIGN   1363>>ASSIGN   1418>>ASSIGN   1419>>IF       1422>>CALLBLT
      1424>>ASSIGN   1425>>IF       1425>>IF       1425>>IF       1425>>IF       1427>>ASSIGN
DA_FDS.BUFX
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:39   
       976**DCL      1430<<ASSIGN
DA_FDS.BUF_
       969**DCL      1359<<ASSIGN
DA_FDS.BUF_.BOUND
       970**DCL      1379<<ASSIGN
DA_FDS.DCB#
       985**DCL      1348<<ASSIGN
DA_FDS.DVFC#
       988**DCL      1429<<ASSIGN   1431>>ASSIGN
DA_FDS.EDIT#
      1011**DCL      1435<<ASSIGN
DA_FDS.TABDFLT#
      1018**DCL      1433<<ASSIGN
DA_FDS.TRUNC#
       992**DCL      1434<<ASSIGN
DA_FDS.WRAPTAB#
      1015**DCL      1432<<ASSIGN
DA_FMTERR
       432**DCL      1438<<ASSIGN   1443<<ASSIGN
DA_FMTERR.CODE
       433**DCL      1444<<ASSIGN
DA_FMTSEG
       430**DCL       932--DCLINIT  1356>>IF
DA_FMTSEG.BOUND
       430**DCL      1419>>IF
DA_FMTSEG.P
       431**DCL       431--REDEF
DA_FMTSEG.P$
       431**DCL      1358>>ASSIGN   1419>>IF       1431>>ASSIGN
DA_FMT_TITLEX
       432**DCL      1411>>CALLBLT
DA_FMT_TLEN
       432**DCL      1410>>IF       1411>>CALLBLT
DA_HDR
      1183**DCL      1411--CALLBLT  1411--CALLBLT  1414--ASSIGN   1414--ASSIGN
DA_HDR.TITLE
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:40   
      1185**DCL      1211--REDEF
DA_HDR.TITLE.SCODE
      1191**DCL      1198--REDEF
DA_LO$
       430**DCL      1353<<ASSIGN   1354>>IF       1368>>ASSIGN   1371>>ASSIGN   1413>>ASSIGN
DA_REPORT$
       430**DCL      1352>>IF       1366<<ASSIGN
DA_XFDS.BUF_
      1082**DCL      1361<<ASSIGN
DA_XFDS.BUF_.BOUND
      1083**DCL      1380<<ASSIGN
DA_XFDS.DCB#
      1098**DCL      1349<<ASSIGN
F$DCB.ACTPOS
       775**DCL       775--REDEF
F$DCB.ARS#
       749**DCL       749--REDEF
F$DCB.ATTR
       768**DCL       769--REDEF
F$DCB.BORROW
       783**DCL       783--REDEF     783--REDEF     783--REDEF
F$DCB.DCBNAME.L
       797**DCL       797--IMP-SIZ
F$DCB.DDEV.UCOUT#
       756**DCL      1413>>ASSIGN
F$DCB.EOMCHAR#
       753**DCL       753--REDEF
F$DCB.FCD#
       762**DCL      1354>>IF
F$DCB.FLDID
       778**DCL       778--REDEF
F$DCB.FORM$
       772**DCL       772--REDEF
F$DCB.FSECT
       788**DCL       788--REDEF
F$DCB.FSN#
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:41   
       765**DCL       765--REDEF     765--REDEF     766--REDEF
F$DCB.HEADER$
       771**DCL       771--REDEF
F$DCB.IXTNSIZE#
       769**DCL       769--REDEF
F$DCB.LASTSTA$
       758**DCL       758--REDEF
F$DCB.LINES#
       771**DCL      1368>>ASSIGN
F$DCB.LVL
       784**DCL       784--REDEF
F$DCB.NAME#.C
       759**DCL       759--REDEF
F$DCB.NOEOF
       781**DCL       781--REDEF
F$DCB.NRECS#
       770**DCL       770--REDEF
F$DCB.NRECX
       789**DCL       789--REDEF
F$DCB.OHDR
       781**DCL       781--REDEF
F$DCB.ORG#
       764**DCL       764--REDEF
F$DCB.PRECNO
       787**DCL       787--REDEF
F$DCB.RCSZ
       793**DCL       793--REDEF
F$DCB.RES#
       760**DCL       760--REDEF
F$DCB.SETX
       772**DCL       772--REDEF
F$DCB.TAB$
       772**DCL       772--REDEF
F$DCB.TDA
       786**DCL       787--REDEF
F$DCB.WIDTH#
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:42   
       756**DCL      1371>>ASSIGN
F$DCB.WSN#
       760**DCL       760--REDEF
FMTBUF
      1345**DCL      1359--ASSIGN   1360--ASSIGN   1361--ASSIGN   1362--ASSIGN   1431<<ASSIGN
FPT_DEVICE
      1175**DCL      1415<>CALL
FPT_DEVICE.HDR_
      1175**DCL      1414<<ASSIGN
FPT_DEVICE.V
      1176**DCL      1175--DCLINIT
FPT_DEVICE.V.DCB#
      1176**DCL      1350<<ASSIGN
FPT_DEVICE.V.PAGE#
      1177**DCL      1413<<ASSIGN
FPT_GDS
       932**DCL      1357<>CALL     1420<>CALL
FPT_GDS.V
       932**DCL       932--DCLINIT
FPT_LINES
      1229**DCL      1416<>CALL
FPT_LINES.V
      1229**DCL      1229--DCLINIT
FPT_LINES.V.DCB#
      1230**DCL      1351<<ASSIGN
FPT_OPENLO
       877**DCL      1355<>CALL
FPT_OPENLO.ACSVEH_
       879**DCL       880--REDEF
FPT_OPENLO.ALTKEYS_
       885**DCL       886--REDEF     886--REDEF
FPT_OPENLO.HDR_
       884**DCL       885--REDEF
FPT_OPENLO.TAB_
       883**DCL       884--REDEF
FPT_OPENLO.UHL_
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:43   
       877**DCL       878--REDEF     878--REDEF
FPT_OPENLO.V
       886**DCL       877--DCLINIT
FPT_OPENLO.V.DCB#
       886**DCL      1347<<ASSIGN
FPT_OPENLO.V.FSN#
       917**DCL       917--REDEF     917--REDEF
FPT_OPENLO.WSN_
       883**DCL       883--REDEF
FTR.NXT$
      1325**DCL      1398>>ASSIGN
HDR.NXT$
      1283**DCL      1387>>ASSIGN
HDRB
      1213**DCL      1414--ASSIGN
HDRB.TITLE.C
      1217**DCL      1411<<CALLBLT
HDRB.TITLE.L
      1216**DCL      1217--IMP-SIZ  1411>>CALLBLT  1414>>ASSIGN
I
      1339**DCL      1418<<ASSIGN   1419>>IF       1422>>CALLBLT  1424>>ASSIGN   1425>>IF       1425>>IF
      1425>>IF       1425>>IF       1427>>ASSIGN
M$DEVICE
       511**DCL-ENT  1415--CALL
M$GDS
       542**DCL-ENT  1357--CALL     1420--CALL
M$LINES
       512**DCL-ENT  1416--CALL
M$OPEN
       507**DCL-ENT  1355--CALL
P$
      1338**DCL      1345--IMP-PTR  1358<<ASSIGN   1359>>ASSIGN   1360<<ASSIGN   1360>>ASSIGN   1361>>ASSIGN
      1362>>ASSIGN   1383<<ASSIGN   1385>>DOWHILE  1387<<ASSIGN   1387>>ASSIGN   1395<<ASSIGN   1396>>DOWHILE
      1398<<ASSIGN   1398>>ASSIGN
PMMEALT
      1435**LABEL    1355--CALLALT  1357--CALLALT  1415--CALLALT  1416--CALLALT
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:44   
REPORT
       369**DCL       109--PROC     1366--ASSIGN
REPORT.CONTENTS#
       394**DCL      1417>>IF
REPORT.CURLINE
       386**DCL      1381<<ASSIGN
REPORT.DVFC#
       390**DCL      1429>>ASSIGN
REPORT.EDIT#
       395**DCL      1435>>ASSIGN
REPORT.FOOT$
       407**DCL      1389>>IF       1395>>ASSIGN
REPORT.FTRLEN
       388**DCL      1390<<ASSIGN   1394<<ASSIGN   1397<<ASSIGN   1397>>ASSIGN   1401>>ASSIGN
REPORT.FTRLINE
       389**DCL      1382<<ASSIGN   1391<<ASSIGN   1401<<ASSIGN
REPORT.HDRLEN
       387**DCL      1384<<ASSIGN   1386<<ASSIGN   1386>>ASSIGN
REPORT.HEAD$
       402**DCL      1383>>ASSIGN
REPORT.PAGELEN.I
       376**DCL      1367>>IF
REPORT.PAGELEN.N
       377**DCL      1368<<ASSIGN   1391>>ASSIGN   1400>>IF       1401>>ASSIGN
REPORT.PAGEWID.I
       384**DCL      1370>>IF
REPORT.PAGEWID.N
       385**DCL      1371<<ASSIGN   1372>>IF       1372<<ASSIGN   1374>>IF       1379>>ASSIGN   1380>>ASSIGN
REPORT.TABDFLT#
       392**DCL      1433>>ASSIGN
REPORT.TITLE$
       397**DCL      1403>>ASSIGN
REPORT.TRUNC#
       393**DCL      1434>>ASSIGN
REPORT.WRAPTAB#
       391**DCL      1432>>ASSIGN
PL6.E3A0      #001=DAF$INIT File=DAF$FORMAT.:E05TSI                              TUE 07/29/97 12:50 Page:45   
SETERR
      1441**PROC     1375--CALL     1405--CALL
TEXTC.C
      1343**DCL      1411>>CALLBLT  1422>>CALLBLT
TEXTC.L
      1342**DCL      1343--IMP-SIZ  1411>>CALLBLT  1422>>CALLBLT
TXT$
      1340**DCL      1341--IMP-PTR  1403<<ASSIGN   1404>>IF       1411>>CALLBLT  1411>>CALLBLT  1422>>CALLBLT
      1422>>CALLBLT
VLR_LINES
      1243**DCL      1229--DCLINIT
VLR_LINES.PAGE#
      1243**DCL      1424>>ASSIGN

PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:46   
      255        1        /*T***********************************************************/
      256        2        /*T*                                                         */
      257        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      258        4        /*T*                                                         */
      259        5        /*T***********************************************************/
      260        6        DAF$ADDHDR: PROC(HDR);
      261        7    1   DCL HDR SBIN;
      262        8        /**/
      263        9    1   DCL DAF$NEWPAGE ENTRY;
      264       10        /**/
      265       11        %INCLUDE DA_FORMAT_C;
      266      253        %INCLUDE DA_FORMAT_R;
      267      265        %INCLUDE XU_FORMAT_C;
      268      427        %INCLUDE XUF_ENTRY;
      269      435        /**/
      270      436    1   DCL TC$ PTR;
      271      437    1   DCL 1 TC BASED(TC$) CALIGNED,
      272      438    1         2 L UBIN BYTE CALIGNED,
      273      439    1         2 C CHAR(TC.L);
      274      440        %F_FDS (NAME=DA_XFDS,STCLASS=SYMREF);
      275      553        %REPORT (NAME=REPORT,STCLASS="BASED(DA_REPORT$)");
      276      619    1   DCL P$ PTR;
      277      620        %HEADER (NAME=HEADER,STCLASS="BASED(P$)");
      278      662    1   DCL BLANKLINE CHAR(1) CONSTANT INIT(' ');
      279      663        %EJECT;
PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:47   
      280      664    1           REPORT.HEAD$=ADDR(HDR);
      281      665    1           REPORT.HDRLEN=0;
      282      666    1           P$=ADDR(HDR);
      283      667    2           DO WHILE(P$~=ADDR(NIL));
      284      668    2              REPORT.HDRLEN=REPORT.HDRLEN+1;
      285      669    2              P$=P$->HEADER.NXT$;
      286      670    2              END;
      287      671    1           IF REPORT.PAGELEN.N-(REPORT.CURLINE+REPORT.HDRLEN+REPORT.FTRLEN)>10
      288      672    2             OR REPORT.PAGELEN.N=0 THEN DO;
      289      673    2              CALL X$WRITE(DA_XFDS,VECTOR(BLANKLINE));
      290      674    2              P$=REPORT.HEAD$;
      291      675    3              DO WHILE(P$~=ADDR(NIL));
      292      676    3                 TC$=HEADER.TXT$;
      293      677    3                 CALL X$WRITE(DA_XFDS,VECTOR(TC.C));
      294      678    3                 P$=HEADER.NXT$;
      295      679    3                 END;
      296      680    2              REPORT.CURLINE=REPORT.CURLINE+REPORT.HDRLEN+1;
      297      681    2              END;
      298      682    1           ELSE IF REPORT.HEAD$~=ADDR(NIL) THEN CALL DAF$NEWPAGE;
      299      683    1           RETURN;
      300      684    1   END DAF$ADDHDR;
      301      685        %EOD;

PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:48   
--  Include file information  --

   XUF_ENTRY.:E05TOU  cannot be made into a system file and is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   DA_FORMAT_R.:E05TOU  cannot be made into a system file and is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DAF$ADDHDR.

   Procedure DAF$ADDHDR requires 93 words for executable code.
   Procedure DAF$ADDHDR requires 12 words of local(AUTO) storage.

PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:49   

 Object Unit name= DAF$ADDHDR                                 File name= DAF$FORMAT.:E05TOU
 UTS= JUL 29 '97 12:50:47.68 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS      1      1  DAF$ADDHDR
    1   Proc  even  none    93    135  DAF$ADDHDR
    2  RoData even  none     4      4  DAF$ADDHDR

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes      Std        1  DAF$ADDHDR

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std      22 X$WRITE
         yes           Std       0 DAF$NEWPAGE
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     DA_REPORT$                            DA_XFDS                               B_VECTNIL
PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:50   

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:51   


      255        1        /*T***********************************************************/
      256        2        /*T*                                                         */
      257        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      258        4        /*T*                                                         */
      259        5        /*T***********************************************************/
      260        6        DAF$ADDHDR: PROC(HDR);

      6  1 000000   000000 700200 xent  DAF$ADDHDR   TSX0  ! X66_AUTO_1
         1 000001   000014 000001                    ZERO    12,1

      261        7    1   DCL HDR SBIN;
      262        8        /**/
      263        9    1   DCL DAF$NEWPAGE ENTRY;
      264       10        /**/
      265       11        %INCLUDE DA_FORMAT_C;
      266      253        %INCLUDE DA_FORMAT_R;
      267      265        %INCLUDE XU_FORMAT_C;
      268      427        %INCLUDE XUF_ENTRY;
      269      435        /**/
      270      436    1   DCL TC$ PTR;
      271      437    1   DCL 1 TC BASED(TC$) CALIGNED,
      272      438    1         2 L UBIN BYTE CALIGNED,
      273      439    1         2 C CHAR(TC.L);
      274      440        %F_FDS (NAME=DA_XFDS,STCLASS=SYMREF);
      275      553        %REPORT (NAME=REPORT,STCLASS="BASED(DA_REPORT$)");
      276      619    1   DCL P$ PTR;
      277      620        %HEADER (NAME=HEADER,STCLASS="BASED(P$)");
      278      662    1   DCL BLANKLINE CHAR(1) CONSTANT INIT(' ');
      279      663        %EJECT;
PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:52   
      280      664    1           REPORT.HEAD$=ADDR(HDR);

    664  1 000002   200003 236100                    LDQ     @HDR,,AUTO
         1 000003   000000 470400 xsym               LDP0    DA_REPORT$
         1 000004   000006 756100                    STQ     6,,PR0

      281      665    1           REPORT.HDRLEN=0;

    665  1 000005   000000 220003                    LDX0    0,DU
         1 000006   000001 440100                    SXL0    1,,PR0

      282      666    1           P$=ADDR(HDR);

    666  1 000007   200005 756100                    STQ     P$,,AUTO

      283      667    2           DO WHILE(P$~=ADDR(NIL));

    667  1 000010   000020 710000 1                  TRA     s:670

      284      668    2              REPORT.HDRLEN=REPORT.HDRLEN+1;

    668  1 000011   000000 470400 xsym               LDP0    DA_REPORT$
         1 000012   000001 720100                    LXL0    1,,PR0
         1 000013   000001 621010                    EAX1    1,X0
         1 000014   000001 441100                    SXL1    1,,PR0

      285      669    2              P$=P$->HEADER.NXT$;

    669  1 000015   200005 471500                    LDP1    P$,,AUTO
         1 000016   100003 236100                    LDQ     3,,PR1
         1 000017   200005 756100                    STQ     P$,,AUTO

      286      670    2              END;

    670  1 000020   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000021   000011 601000 1                  TNZ     s:668

PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:53   
      287      671    1           IF REPORT.PAGELEN.N-(REPORT.CURLINE+REPORT.HDRLEN+REPORT.FTRLEN)>10

    671  1 000022   000001 236100                    LDQ     1,,PR0
         1 000023   000022 736000                    QLS     18
         1 000024   000022 732000                    QRS     18
         1 000025   200006 756100                    STQ     P$+1,,AUTO
         1 000026   000001 236100                    LDQ     1,,PR0
         1 000027   000022 732000                    QRS     18
         1 000030   200006 036100                    ADLQ    P$+1,,AUTO
         1 000031   200007 756100                    STQ     P$+2,,AUTO
         1 000032   000002 236100                    LDQ     2,,PR0
         1 000033   000022 732000                    QRS     18
         1 000034   200010 756100                    STQ     P$+3,,AUTO
         1 000035   200007 236100                    LDQ     P$+2,,AUTO
         1 000036   200010 036100                    ADLQ    P$+3,,AUTO
         1 000037   200011 756100                    STQ     P$+4,,AUTO
         1 000040   000000 236100                    LDQ     0,,PR0
         1 000041   000022 772000                    QRL     18
         1 000042   377777 376007                    ANQ     131071,DL
         1 000043   200011 136100                    SBLQ    P$+4,,AUTO
         1 000044   000012 116007                    CMPQ    10,DL
         1 000045   000051 605400 1                  TPNZ    s:673
         1 000046   000000 236100                    LDQ     0,,PR0
         1 000047   377777 316003                    CANQ    131071,DU
         1 000050   000126 601000 1                  TNZ     s:682

      288      672    2             OR REPORT.PAGELEN.N=0 THEN DO;

      289      673    2              CALL X$WRITE(DA_XFDS,VECTOR(BLANKLINE));

    673  1 000051   000002 630400 2                  EPPR0   2
         1 000052   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000053   000000 701000 xent               TSX1    X$WRITE
         1 000054   000000 011000                    NOP     0

      290      674    2              P$=REPORT.HEAD$;

PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:54   
    674  1 000055   000000 470400 xsym               LDP0    DA_REPORT$
         1 000056   000006 236100                    LDQ     6,,PR0
         1 000057   200005 756100                    STQ     P$,,AUTO

      291      675    3              DO WHILE(P$~=ADDR(NIL));

    675  1 000060   000111 710000 1                  TRA     s:679

      292      676    3                 TC$=HEADER.TXT$;

    676  1 000061   200005 470500                    LDP0    P$,,AUTO
         1 000062   000000 236100                    LDQ     0,,PR0
         1 000063   200004 756100                    STQ     TC$,,AUTO

      293      677    3                 CALL X$WRITE(DA_XFDS,VECTOR(TC.C));

    677  1 000064   200004 471500                    LDP1    TC$,,AUTO
         1 000065   000100 101500                    MRL     fill='000'O
         1 000066   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1
         1 000067   200006 000002                    ADSC9   P$+1,,AUTO               cn=0,n=2
         1 000070   200006 220100                    LDX0    P$+1,,AUTO
         1 000071   000000 635010                    EAA     0,X0
         1 000072   000002 771000                    ARL     2
         1 000073   000140 135007                    SBLA    96,DL
         1 000074   200000 036007                    ADLQ    65536,DL
         1 000075   200010 757100                    STAQ    P$+3,,AUTO
         1 000076   200010 633500                    EPPR3   P$+3,,AUTO
         1 000077   200013 453500                    STP3    P$+6,,AUTO
         1 000100   000002 236000 2                  LDQ     2
         1 000101   200012 756100                    STQ     P$+5,,AUTO
         1 000102   200012 630500                    EPPR0   P$+5,,AUTO
         1 000103   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000104   000000 701000 xent               TSX1    X$WRITE
         1 000105   000000 011000                    NOP     0

      294      678    3                 P$=HEADER.NXT$;

PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:55   
    678  1 000106   200005 470500                    LDP0    P$,,AUTO
         1 000107   000003 236100                    LDQ     3,,PR0
         1 000110   200005 756100                    STQ     P$,,AUTO

      295      679    3                 END;

    679  1 000111   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000112   000061 601000 1                  TNZ     s:676

      296      680    2              REPORT.CURLINE=REPORT.CURLINE+REPORT.HDRLEN+1;

    680  1 000113   000000 470400 xsym               LDP0    DA_REPORT$
         1 000114   000001 236100                    LDQ     1,,PR0
         1 000115   000022 736000                    QLS     18
         1 000116   000022 732000                    QRS     18
         1 000117   200006 756100                    STQ     P$+1,,AUTO
         1 000120   000001 236100                    LDQ     1,,PR0
         1 000121   000022 732000                    QRS     18
         1 000122   200006 036100                    ADLQ    P$+1,,AUTO
         1 000123   000001 620006                    EAX0    1,QL
         1 000124   000001 740100                    STX0    1,,PR0

      297      681    2              END;

    681  1 000125   000134 710000 1                  TRA     s:683

      298      682    1           ELSE IF REPORT.HEAD$~=ADDR(NIL) THEN CALL DAF$NEWPAGE;

    682  1 000126   000006 236100                    LDQ     6,,PR0
         1 000127   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000130   000134 600000 1                  TZE     s:683

    682  1 000131   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000132   000000 701000 xent               TSX1    DAF$NEWPAGE
         1 000133   000000 011000                    NOP     0

      299      683    1           RETURN;
PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:56   

    683  1 000134   000000 702200 xent               TSX2  ! X66_ARET
      300      684    1   END DAF$ADDHDR;
      301      685        %EOD;

PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:57   
--  Include file information  --

   XUF_ENTRY.:E05TOU  cannot be made into a system file and is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   DA_FORMAT_R.:E05TOU  cannot be made into a system file and is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DAF$ADDHDR.
PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:58   

 **** Variables and constants ****

  ****  Section 000 RoData DAF$ADDHDR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR        r     1 BLANKLINE

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @HDR                      *0-0-0/w SBIN        r     1 HDR
     5-0-0/w PTR         r     1 P$                         4-0-0/w PTR         r     1 TC$

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 DA_REPORT$                 0-0-0/w STRC(1080)  r     1 DA_XFDS

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(144)   r     1 HEADER                     0-0-0/w STRC(288)   r     1 REPORT
     0-0-0/c ASTR(9)     r     1 TC


   Procedure DAF$ADDHDR requires 93 words for executable code.
   Procedure DAF$ADDHDR requires 12 words of local(AUTO) storage.
PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:59   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:60   
          MINI XREF LISTING

BLANKLINE
       662**DCL       673--CALL
DAF$NEWPAGE
         9**DCL-ENT   682--CALL
DA_FMTSEG.P
       262**DCL       262--REDEF
DA_REPORT$
       261**DCL       570--IMP-PTR   664>>ASSIGN    665>>ASSIGN    668>>ASSIGN    668>>ASSIGN    671>>IF
       671>>IF        671>>IF        671>>IF        671>>IF        674>>ASSIGN    680>>ASSIGN    680>>ASSIGN
       680>>ASSIGN    682>>IF
DA_XFDS
       454**DCL       673<>CALL      677<>CALL
HDR
         7**DCL         6--PROC      664--ASSIGN    666--ASSIGN
HEADER.NXT$
       650**DCL       669>>ASSIGN    678>>ASSIGN
HEADER.TXT$
       643**DCL       676>>ASSIGN
P$
       619**DCL       639--IMP-PTR   666<<ASSIGN    667>>DOWHILE   669<<ASSIGN    669>>ASSIGN    674<<ASSIGN
       675>>DOWHILE   676>>ASSIGN    678<<ASSIGN    678>>ASSIGN
REPORT.CURLINE
       587**DCL       671>>IF        680<<ASSIGN    680>>ASSIGN
REPORT.FTRLEN
       589**DCL       671>>IF
REPORT.HDRLEN
       588**DCL       665<<ASSIGN    668<<ASSIGN    668>>ASSIGN    671>>IF        680>>ASSIGN
REPORT.HEAD$
       603**DCL       664<<ASSIGN    674>>ASSIGN    682>>IF
REPORT.PAGELEN.N
       578**DCL       671>>IF        671>>IF
TC.C
PL6.E3A0      #002=DAF$ADDHDR File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:61   
       439**DCL       677--CALL
TC.L
       438**DCL       439--IMP-SIZ   677>>CALL
TC$
       436**DCL       437--IMP-PTR   676<<ASSIGN    677>>CALL      677>>CALL
X$WRITE
       433**DCL-ENT   673--CALL      677--CALL

PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:62   
      302        1        /*T***********************************************************/
      303        2        /*T*                                                         */
      304        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      305        4        /*T*                                                         */
      306        5        /*T***********************************************************/
      307        6        DAF$FORMAT: PROC(FMT,V1,V2,V3,V4,V5,V6,V7,V8,V9,V10,V11,V12,V13,V14,V15,V16,V17,V18,
                 6            V19,V20);
      308        7    1   DCL FMT BIT(72) ALIGNED;
      309        8    1   DCL V1 BIT(72) ALIGNED;
      310        9    1   DCL V2 BIT(72) ALIGNED;
      311       10    1   DCL V3 BIT(72) ALIGNED;
      312       11    1   DCL V4 BIT(72) ALIGNED;
      313       12    1   DCL V5 BIT(72) ALIGNED;
      314       13    1   DCL V6 BIT(72) ALIGNED;
      315       14    1   DCL V7 BIT(72) ALIGNED;
      316       15    1   DCL V8 BIT(72) ALIGNED;
      317       16    1   DCL V9 BIT(72) ALIGNED;
      318       17    1   DCL V10 BIT(72) ALIGNED;
      319       18    1   DCL V11 BIT(72) ALIGNED;
      320       19    1   DCL V12 BIT(72) ALIGNED;
      321       20    1   DCL V13 BIT(72) ALIGNED;
      322       21    1   DCL V14 BIT(72) ALIGNED;
      323       22    1   DCL V15 BIT(72) ALIGNED;
      324       23    1   DCL V16 BIT(72) ALIGNED;
      325       24    1   DCL V17 BIT(72) ALIGNED;
      326       25    1   DCL V18 BIT(72) ALIGNED;
      327       26    1   DCL V19 BIT(72) ALIGNED;
      328       27    1   DCL V20 BIT(72) ALIGNED;
      329       28        /**/
      330       29    1   DCL DAF$WRITE EPTR CONSTANT SYMDEF INIT(ENTADDR(DAF$FORMAT));
      331       30        %INCLUDE XU_FORMAT_C;
      332      192        %F_FDS (NAME=DA_FDS,STCLASS=SYMREF);
      333      305    1   DCL X$FORMAT ENTRY(1);
      334      306        %INCLUDE B_SEGIDS_C;
      335      845    1   DCL 1 X1 CONSTANT ALIGNED,
      336      846    1         2 * UBIN(24) UNAL INIT(0),
      337      847    1         2 * BIT(12) INIT(%AUTOSID);
PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:63   
      338      848    1   DCL AUTO$ REDEF X1 PTR;
      339      849    1   DCL ARG$ PTR;
      340      850    1   DCL 1 AFRAME BASED(ARG$),
      341      851    1         2 *(0:2) SBIN,
      342      852    1         2 FMT$ PTR,
      343      853    1         2 VEC$(0:19) PTR;
      344      854    1   DCL DATAVEC BIT(72) ALIGNED BASED;
      345      855    1   DCL 1 STACK BASED(AUTO$),
      346      856    1         2 * SBIN HALF HALIGNED,
      347      857    1         2 OFFSET SBIN HALF HALIGNED;
      348      858    1   DCL I SBIN;
      349      859    1   DCL VECTR(0:19) BIT(72);
      350      860        %EJECT;
PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:64   
      351      861    1           ARG$=PINCRW(AUTO$,-1-STACK.OFFSET);
      352      862    1           DA_FDS.FMT_=FMT;
      353      863    1           I=0;
      354      864    2           DO WHILE(I<20 AND AFRAME.VEC$(I)~=ADDR(NIL));
      355      865    2              VECTR(I)=AFRAME.VEC$(I)->DATAVEC;
      356      866    2              I=I+1;
      357      867    2              END;
      358      868    1           DA_FDS.VECTR$=ADDR(VECTR);
      359      869    1           DA_FDS.NVECS#=I;
      360      870    1           CALL X$FORMAT(DA_FDS);
      361      871    1           RETURN;
      362      872    1   END DAF$FORMAT;
      363      873        %EOD;

PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:65   
--  Include file information  --

   B_SEGIDS_C.:E05TOU  is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DAF$FORMAT.

   Procedure DAF$FORMAT requires 45 words for executable code.
   Procedure DAF$FORMAT requires 68 words of local(AUTO) storage.

PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:66   

 Object Unit name= DAF$FORMAT                                 File name= DAF$FORMAT.:E05TOU
 UTS= JUL 29 '97 12:50:51.12 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS      2      2  DAF$FORMAT
    1   Proc  even  none    45     55  DAF$FORMAT
    2  RoData even  none     1      1  DAF$FORMAT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes      Std       21  DAF$FORMAT

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    0      0  DAF$WRITE

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       1 X$FORMAT
         yes           Std      21 DAF$FORMAT
                       nStd      0 X66_AUTO_N
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:67   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     DA_FDS                                B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:68   


      302        1        /*T***********************************************************/
      303        2        /*T*                                                         */
      304        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      305        4        /*T*                                                         */
      306        5        /*T***********************************************************/
      307        6       DAF$FORMAT: PROC(FMT,V1,V2,V3,V4,V5,V6,V7,V8,V9,V10,V11,V12,V13,V14,V15,V16,V17,V18,
                 6            V19,V20);

      6  1 000000   000000 700200 xent  DAF$FORMAT   TSX0  ! X66_AUTO_N
         1 000001   000104 000025                    ZERO    68,21

      308        7    1   DCL FMT BIT(72) ALIGNED;
      309        8    1   DCL V1 BIT(72) ALIGNED;
      310        9    1   DCL V2 BIT(72) ALIGNED;
      311       10    1   DCL V3 BIT(72) ALIGNED;
      312       11    1   DCL V4 BIT(72) ALIGNED;
      313       12    1   DCL V5 BIT(72) ALIGNED;
      314       13    1   DCL V6 BIT(72) ALIGNED;
      315       14    1   DCL V7 BIT(72) ALIGNED;
      316       15    1   DCL V8 BIT(72) ALIGNED;
      317       16    1   DCL V9 BIT(72) ALIGNED;
      318       17    1   DCL V10 BIT(72) ALIGNED;
      319       18    1   DCL V11 BIT(72) ALIGNED;
      320       19    1   DCL V12 BIT(72) ALIGNED;
      321       20    1   DCL V13 BIT(72) ALIGNED;
      322       21    1   DCL V14 BIT(72) ALIGNED;
      323       22    1   DCL V15 BIT(72) ALIGNED;
      324       23    1   DCL V16 BIT(72) ALIGNED;
      325       24    1   DCL V17 BIT(72) ALIGNED;
      326       25    1   DCL V18 BIT(72) ALIGNED;
      327       26    1   DCL V19 BIT(72) ALIGNED;
      328       27    1   DCL V20 BIT(72) ALIGNED;
      329       28        /**/
      330       29    1   DCL DAF$WRITE EPTR CONSTANT SYMDEF INIT(ENTADDR(DAF$FORMAT));
      331       30        %INCLUDE XU_FORMAT_C;
      332      192        %F_FDS (NAME=DA_FDS,STCLASS=SYMREF);
PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:69   
      333      305    1   DCL X$FORMAT ENTRY(1);
      334      306        %INCLUDE B_SEGIDS_C;
      335      845    1   DCL 1 X1 CONSTANT ALIGNED,
      336      846    1         2 * UBIN(24) UNAL INIT(0),
      337      847    1         2 * BIT(12) INIT(%AUTOSID);
      338      848    1   DCL AUTO$ REDEF X1 PTR;
      339      849    1   DCL ARG$ PTR;
      340      850    1   DCL 1 AFRAME BASED(ARG$),
      341      851    1         2 *(0:2) SBIN,
      342      852    1         2 FMT$ PTR,
      343      853    1         2 VEC$(0:19) PTR;
      344      854    1   DCL DATAVEC BIT(72) ALIGNED BASED;
      345      855    1   DCL 1 STACK BASED(AUTO$),
      346      856    1         2 * SBIN HALF HALIGNED,
      347      857    1         2 OFFSET SBIN HALF HALIGNED;
      348      858    1   DCL I SBIN;
      349      859    1   DCL VECTR(0:19) BIT(72);
      350      860        %EJECT;
PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:70   
      351      861    1           ARG$=PINCRW(AUTO$,-1-STACK.OFFSET);

    861  1 000002   000001 470400 0                  LDP0    X1
         1 000003   000100 100500                    MLR     fill='000'O
         1 000004   000000 400002                    ADSC9   0,,PR0                   cn=2,n=2
         1 000005   200102 000004                    ADSC9   VECTR+40,,AUTO           cn=0,n=4
         1 000006   200102 236100                    LDQ     VECTR+40,,AUTO
         1 000007   000022 732000                    QRS     18
         1 000010   000022 736000                    QLS     18
         1 000011   000027 676000 xsym               ERQ     B_VECTNIL+23
         1 000012   777777 136007                    SBLQ    -1,DL
         1 000013   000001 036000 0                  ADLQ    X1
         1 000014   200030 756100                    STQ     ARG$,,AUTO

      352      862    1           DA_FDS.FMT_=FMT;

    862  1 000015   200003 471500                    LDP1    @FMT,,AUTO
         1 000016   000000 100500                    MLR     fill='000'O
         1 000017   100000 000010                    ADSC9   0,,PR1                   cn=0,n=8
         1 000020   000000 000010 xsym               ADSC9   DA_FDS                   cn=0,n=8

      353      863    1           I=0;

    863  1 000021   200031 450100                    STZ     I,,AUTO

      354      864    2           DO WHILE(I<20 AND AFRAME.VEC$(I)~=ADDR(NIL));

    864  1 000022   000035 710000 1                  TRA     s:867

      355      865    2              VECTR(I)=AFRAME.VEC$(I)->DATAVEC;

    865  1 000023   200031 235100                    LDA     I,,AUTO
         1 000024   000001 735000                    ALS     1
         1 000025   200030 470500                    LDP0    ARG$,,AUTO
         1 000026   200031 720100                    LXL0    I,,AUTO
         1 000027   000004 471510                    LDP1    4,X0,PR0
         1 000030   000002 735000                    ALS     2
PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:71   
         1 000031   000105 100500                    MLR     fill='000'O
         1 000032   100000 000010                    ADSC9   0,,PR1                   cn=0,n=8
         1 000033   200032 000010                    ADSC9   VECTR,A,AUTO             cn=0,n=8

      356      866    2              I=I+1;

    866  1 000034   200031 054100                    AOS     I,,AUTO

      357      867    2              END;

    867  1 000035   200031 235100                    LDA     I,,AUTO
         1 000036   000024 115007                    CMPA    20,DL
         1 000037   000044 605000 1                  TPL     s:868
         1 000040   200030 470500                    LDP0    ARG$,,AUTO
         1 000041   000004 236105                    LDQ     4,AL,PR0
         1 000042   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000043   000023 601000 1                  TNZ     s:865

      358      868    1           DA_FDS.VECTR$=ADDR(VECTR);

    868  1 000044   200032 630500                    EPPR0   VECTR,,AUTO
         1 000045   000012 450400 xsym               STP0    DA_FDS+10

      359      869    1           DA_FDS.NVECS#=I;

    869  1 000046   200031 235100                    LDA     I,,AUTO
         1 000047   000011 755000 xsym               STA     DA_FDS+9

      360      870    1           CALL X$FORMAT(DA_FDS);

    870  1 000050   000000 630400 2                  EPPR0   0
         1 000051   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000052   000000 701000 xent               TSX1    X$FORMAT
         1 000053   000000 011000                    NOP     0

      361      871    1           RETURN;

PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:72   
    871  1 000054   000000 702200 xent               TSX2  ! X66_ARET
      362      872    1   END DAF$FORMAT;
      363      873        %EOD;

PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:73   
--  Include file information  --

   B_SEGIDS_C.:E05TOU  is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DAF$FORMAT.
PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:74   

 **** Variables and constants ****

  ****  Section 000 RoData DAF$FORMAT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     1-0-0/w PTR         r     1 AUTO$                      0-0-0/w EPTR        r     1 DAF$WRITE
     1-0-0/w STRC        r     1 X1

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @FMT                       4-0-0/w PTR         r     1 @V1
    15-0-0/w PTR         r     1 @V10                      16-0-0/w PTR         r     1 @V11
    17-0-0/w PTR         r     1 @V12                      20-0-0/w PTR         r     1 @V13
    21-0-0/w PTR         r     1 @V14                      22-0-0/w PTR         r     1 @V15
    23-0-0/w PTR         r     1 @V16                      24-0-0/w PTR         r     1 @V17
    25-0-0/w PTR         r     1 @V18                      26-0-0/w PTR         r     1 @V19
     5-0-0/w PTR         r     1 @V2                       27-0-0/w PTR         r     1 @V20
     6-0-0/w PTR         r     1 @V3                        7-0-0/w PTR         r     1 @V4
    10-0-0/w PTR         r     1 @V5                       11-0-0/w PTR         r     1 @V6
    12-0-0/w PTR         r     1 @V7                       13-0-0/w PTR         r     1 @V8
    14-0-0/w PTR         r     1 @V9                       30-0-0/w PTR         r     1 ARG$
    *0-0-0/w BIT (72)    r     1 FMT                       31-0-0/w SBIN        r     1 I
    *0-0-0/w BIT (72)    r     1 V1                        *0-0-0/w BIT (72)    r     1 V10
    *0-0-0/w BIT (72)    r     1 V11                       *0-0-0/w BIT (72)    r     1 V12
    *0-0-0/w BIT (72)    r     1 V13                       *0-0-0/w BIT (72)    r     1 V14
    *0-0-0/w BIT (72)    r     1 V15                       *0-0-0/w BIT (72)    r     1 V16
    *0-0-0/w BIT (72)    r     1 V17                       *0-0-0/w BIT (72)    r     1 V18
    *0-0-0/w BIT (72)    r     1 V19                       *0-0-0/w BIT (72)    r     1 V2
    *0-0-0/w BIT (72)    r     1 V20                       *0-0-0/w BIT (72)    r     1 V3
    *0-0-0/w BIT (72)    r     1 V4                        *0-0-0/w BIT (72)    r     1 V5
    *0-0-0/w BIT (72)    r     1 V6                        *0-0-0/w BIT (72)    r     1 V7
    *0-0-0/w BIT (72)    r     1 V8                        *0-0-0/w BIT (72)    r     1 V9
PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:75   
    32-0-0/b BIT (72)    r     1 VECTR(0:19)

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(1080)  r     1 DA_FDS

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(864)   r     1 AFRAME                     0-0-0/w BIT (72)    r     1 DATAVEC
     0-0-0/h STRC        r     1 STACK


   Procedure DAF$FORMAT requires 45 words for executable code.
   Procedure DAF$FORMAT requires 68 words of local(AUTO) storage.
PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:76   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:77   
          MINI XREF LISTING

AFRAME.VEC$
       853**DCL       864>>DOWHILE   865>>ASSIGN
ARG$
       849**DCL       850--IMP-PTR   861<<ASSIGN    864>>DOWHILE   865>>ASSIGN
AUTO$
       848**DCL       855--IMP-PTR   861>>ASSIGN    861>>ASSIGN
DAF$FORMAT
         6**PROC       29--DCLINIT
DATAVEC
       854**DCL       865>>ASSIGN
DA_FDS
       206**DCL       870<>CALL
DA_FDS.FMT_
       210**DCL       862<<ASSIGN
DA_FDS.NVECS#
       234**DCL       869<<ASSIGN
DA_FDS.VECTR$
       236**DCL       868<<ASSIGN
FMT
         7**DCL         6--PROC      862>>ASSIGN
I
       858**DCL       863<<ASSIGN    864>>DOWHILE   864>>DOWHILE   865>>ASSIGN    865>>ASSIGN    866<<ASSIGN
       866>>ASSIGN    869>>ASSIGN
STACK.OFFSET
       857**DCL       861>>ASSIGN
V1
         8**DCL         6--PROC
V10
        17**DCL         6--PROC
V11
        18**DCL         6--PROC
V12
PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:78   
        19**DCL         6--PROC
V13
        20**DCL         6--PROC
V14
        21**DCL         6--PROC
V15
        22**DCL         6--PROC
V16
        23**DCL         6--PROC
V17
        24**DCL         6--PROC
V18
        25**DCL         6--PROC
V19
        26**DCL         6--PROC
V2
         9**DCL         6--PROC
V20
        27**DCL         6--PROC
V3
        10**DCL         6--PROC
V4
        11**DCL         6--PROC
V5
        12**DCL         6--PROC
V6
        13**DCL         6--PROC
V7
        14**DCL         6--PROC
V8
        15**DCL         6--PROC
V9
        16**DCL         6--PROC
VECTR
       859**DCL       865<<ASSIGN    868--ASSIGN
X$FORMAT
PL6.E3A0      #003=DAF$FORMAT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:50 Page:79   
       305**DCL-ENT   870--CALL
X1
       845**DCL       848--REDEF

PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:80   
      364        1        /*T***********************************************************/
      365        2        /*T*                                                         */
      366        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      367        4        /*T*                                                         */
      368        5        /*T***********************************************************/
      369        6        DAF$NEWPAGE: PROC;
      370        7        /**/
      371        8        %INCLUDE DA_FORMAT_R;
      372       20        %INCLUDE DA_FORMAT_C;
      373      262        %INCLUDE XU_FORMAT_C;
      374      424        %INCLUDE CP_6;
      375      505        %F$DCB;
      376      562        /**/
      377      563        %REPORT (NAME=REPORT,STCLASS="BASED(DA_REPORT$)");
      378      629        %FOOTER (NAME=FTR,STCLASS="BASED(P$)");
      379      671        %F_FDS (NAME=DA_XFDS,STCLASS=SYMREF);
      380      784        %FPT_DEVICE (PAGE=YES);
      381      802        %FPT_LINES (LINES=VLR_LINES);
      382      816        %VLR_LINES;
      383      830        /**/
      384      831    1   DCL P$ PTR;
      385      832    1   DCL T$ PTR;
      386      833    1   DCL 1 TEXTC BASED(T$),
      387      834    1         2 L UBIN BYTE UNAL,
      388      835    1         2 C CHAR(TEXTC.L);
      389      836    1   DCL TXTFMT CHAR(0) CONSTANT INIT('%T');
      390      837    1   DCL BLANKLINE CHAR(0) CONSTANT INIT(' ');
      391      838        %INCLUDE XUF_ENTRY;
      392      846        %EJECT;
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:81   
      393      847    2           IF REPORT.FOOT$~=ADDR(NIL) THEN DO;
      394      848    2              CALL X$WRITE(DA_XFDS,VECTOR(BLANKLINE));
      395      849    2              P$=REPORT.FOOT$;
      396      850    3              DO WHILE(P$~=ADDR(NIL));
      397      851    3                 IF FTR.RTN~=ENTADDR(NIL) THEN
      398      852    3                    CALL FTR.RTN(FTR) ALTRET(NXTFTR);
      399      853    3                 T$=FTR.TXT$;
      400      854    3                 CALL X$WRITE(DA_XFDS,VECTOR(TXTFMT),VECTOR(TEXTC));
      401      855    3   NXTFTR:       P$=FTR.NXT$;
      402      856    3                 END;
      403      857    2              END;
      404      858    1           FPT_DEVICE.V.PAGE#=~DA_LO$->F$DCB.DDEV.UCOUT#;
      405      859    1           FPT_DEVICE.V.DCB#=DAF_DCB#;
      406      860    1           CALL M$DEVICE(FPT_DEVICE);
      407      861    1           REPORT.CURLINE=1;
      408      862    1           RETURN;
      409      863        %EJECT;
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:82   
      410      864    1   DAF$UPDLNCNT: ENTRY;
      411      865    1           FPT_LINES.V.DCB#=DAF_DCB#;
      412      866    1           CALL M$LINES(FPT_LINES);
      413      867    1           IF VLR_LINES.RLINES#=-1 THEN RETURN;
      414      868    2           IF VLR_LINES.RLINES#<=REPORT.FTRLEN THEN DO;
      415      869    2              REPORT.CURLINE=1;
      416      870    2              FPT_DEVICE.V.DCB#=DAF_DCB#;
      417      871    2              FPT_DEVICE.V.PAGE#=~DA_LO$->F$DCB.DDEV.UCOUT#;
      418      872    2              CALL M$DEVICE(FPT_DEVICE);
      419      873    2              RETURN;
      420      874    2              END;
      421      875    1           REPORT.CURLINE=REPORT.PAGELEN.N-VLR_LINES.RLINES#+1;
      422      876    1           RETURN;
      423      877    1   END DAF$NEWPAGE;
      424      878        %EOD;

PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:83   
--  Include file information  --

   XUF_ENTRY.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   DA_FORMAT_R.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DAF$NEWPAGE.

   Procedure DAF$NEWPAGE requires 109 words for executable code.
   Procedure DAF$NEWPAGE requires 14 words of local(AUTO) storage.

PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:84   

 Object Unit name= DAF$NEWPAGE                                File name= DAF$FORMAT.:E05TOU
 UTS= JUL 29 '97 12:50:54.56 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none    18     22  DAF$NEWPAGE
    2  RoData even  UTS      2      2  DAF$NEWPAGE
    3   Proc  even  none   109    155  DAF$NEWPAGE
    4  RoData even  none     8     10  DAF$NEWPAGE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes            yes      Std        0  DAF$NEWPAGE
     3    104                  yes      Std        0  DAF$UPDLNCNT

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std      22 X$WRITE
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:85   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     DA_REPORT$                            DAF_DCB#                              DA_LO$
     M$UC                                  DA_XFDS                               B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:86   


      364        1        /*T***********************************************************/
      365        2        /*T*                                                         */
      366        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      367        4        /*T*                                                         */
      368        5        /*T***********************************************************/
      369        6        DAF$NEWPAGE: PROC;

      6  3 000000   000000 700200 xent  DAF$NEWPAGE  TSX0  ! X66_AUTO_0
         3 000001   000016 000000                    ZERO    14,0

      370        7        /**/
      371        8        %INCLUDE DA_FORMAT_R;
      372       20        %INCLUDE DA_FORMAT_C;
      373      262        %INCLUDE XU_FORMAT_C;
      374      424        %INCLUDE CP_6;
      375      505        %F$DCB;
      376      562        /**/
      377      563        %REPORT (NAME=REPORT,STCLASS="BASED(DA_REPORT$)");
      378      629        %FOOTER (NAME=FTR,STCLASS="BASED(P$)");
      379      671        %F_FDS (NAME=DA_XFDS,STCLASS=SYMREF);
      380      784        %FPT_DEVICE (PAGE=YES);
      381      802        %FPT_LINES (LINES=VLR_LINES);
      382      816        %VLR_LINES;
      383      830        /**/
      384      831    1   DCL P$ PTR;
      385      832    1   DCL T$ PTR;
      386      833    1   DCL 1 TEXTC BASED(T$),
      387      834    1         2 L UBIN BYTE UNAL,
      388      835    1         2 C CHAR(TEXTC.L);
      389      836    1   DCL TXTFMT CHAR(0) CONSTANT INIT('%T');
      390      837    1   DCL BLANKLINE CHAR(0) CONSTANT INIT(' ');
      391      838        %INCLUDE XUF_ENTRY;
      392      846        %EJECT;
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:87   
      393      847    2           IF REPORT.FOOT$~=ADDR(NIL) THEN DO;

    847  3 000002   000000 470400 xsym               LDP0    DA_REPORT$
         3 000003   000007 236100                    LDQ     7,,PR0
         3 000004   000001 116000 xsym               CMPQ    B_VECTNIL+1
         3 000005   000062 600000 3                  TZE     s:858

      394      848    2              CALL X$WRITE(DA_XFDS,VECTOR(BLANKLINE));

    848  3 000006   000002 630400 4                  EPPR0   2
         3 000007   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000010   000000 701000 xent               TSX1    X$WRITE
         3 000011   000000 011000                    NOP     0

      395      849    2              P$=REPORT.FOOT$;

    849  3 000012   000000 470400 xsym               LDP0    DA_REPORT$
         3 000013   000007 236100                    LDQ     7,,PR0
         3 000014   200003 756100                    STQ     P$,,AUTO

      396      850    3              DO WHILE(P$~=ADDR(NIL));

    850  3 000015   000060 710000 3                  TRA     s:856

      397      851    3                 IF FTR.RTN~=ENTADDR(NIL) THEN

    851  3 000016   200003 470500                    LDP0    P$,,AUTO
         3 000017   000001 236100                    LDQ     1,,PR0
         3 000020   000002 116000 xsym               CMPQ    B_VECTNIL+2
         3 000021   000030 600000 3                  TZE     s:853

      398      852    3                    CALL FTR.RTN(FTR) ALTRET(NXTFTR);

    852  3 000022   200003 630500                    EPPR0   P$,,AUTO
         3 000023   200003 471500                    LDP1    P$,,AUTO
         3 000024   100001 220100                    LDX0    1,,PR1
         3 000025   000017 631400 xsym               EPPR1   B_VECTNIL+15
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:88   
         3 000026   000000 701010                    TSX1    0,X0
         3 000027   000055 702000 3                  TSX2    NXTFTR

      399      853    3                 T$=FTR.TXT$;

    853  3 000030   200003 470500                    LDP0    P$,,AUTO
         3 000031   000000 236100                    LDQ     0,,PR0
         3 000032   200004 756100                    STQ     T$,,AUTO

      400      854    3                 CALL X$WRITE(DA_XFDS,VECTOR(TXTFMT),VECTOR(TEXTC));

    854  3 000033   200004 471500                    LDP1    T$,,AUTO
         3 000034   000100 101500                    MRL     fill='000'O
         3 000035   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1
         3 000036   200006 000002                    ADSC9   T$+2,,AUTO               cn=0,n=2
         3 000037   200006 220100                    LDX0    T$+2,,AUTO
         3 000040   000001 621010                    EAX1    1,X0
         3 000041   000000 635011                    EAA     0,X1
         3 000042   000002 771000                    ARL     2
         3 000043   000140 135007                    SBLA    96,DL
         3 000044   200010 757100                    STAQ    T$+4,,AUTO
         3 000045   200010 633500                    EPPR3   T$+4,,AUTO
         3 000046   200014 453500                    STP3    T$+8,,AUTO
         3 000047   000006 237000 4                  LDAQ    6
         3 000050   200012 757100                    STAQ    T$+6,,AUTO
         3 000051   200012 630500                    EPPR0   T$+6,,AUTO
         3 000052   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000053   000000 701000 xent               TSX1    X$WRITE
         3 000054   000000 011000                    NOP     0

      401      855    3   NXTFTR:       P$=FTR.NXT$;

    855  3 000055   200003 470500       NXTFTR       LDP0    P$,,AUTO
         3 000056   000003 236100                    LDQ     3,,PR0
         3 000057   200003 756100                    STQ     P$,,AUTO

      402      856    3                 END;
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:89   

    856  3 000060   000001 116000 xsym               CMPQ    B_VECTNIL+1
         3 000061   000016 601000 3                  TNZ     s:851

      403      857    2              END;

      404      858    1           FPT_DEVICE.V.PAGE#=~DA_LO$->F$DCB.DDEV.UCOUT#;

    858  3 000062   000000 470400 xsym               LDP0    DA_LO$
         3 000063   000004 236100                    LDQ     4,,PR0
         3 000064   000026 736000                    QLS     22
         3 000065   400000 376003                    ANQ     -131072,DU
         3 000066   400000 676003                    ERQ     -131072,DU
         3 000067   000024 772000                    QRL     20
         3 000070   000006 676000 1                  ERQ     FPT_DEVICE+6
         3 000071   100000 376007                    ANQ     32768,DL
         3 000072   000006 656000 1                  ERSQ    FPT_DEVICE+6

      405      859    1           FPT_DEVICE.V.DCB#=DAF_DCB#;

    859  3 000073   000000 720000 xsym               LXL0    DAF_DCB#
         3 000074   000006 740000 1                  STX0    FPT_DEVICE+6

      406      860    1           CALL M$DEVICE(FPT_DEVICE);

    860  3 000075   000000 630400 1                  EPPR0   FPT_DEVICE
         3 000076   050006 713400                    CLIMB   20486
         3 000077   401000 401760                    pmme    nvectors=3

      407      861    1           REPORT.CURLINE=1;

    861  3 000100   000001 220003                    LDX0    1,DU
         3 000101   000000 470400 xsym               LDP0    DA_REPORT$
         3 000102   000001 740100                    STX0    1,,PR0

      408      862    1           RETURN;

PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:90   
    862  3 000103   000000 702200 xent               TSX2  ! X66_ARET

      409      863        %EJECT;
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:91   
      410      864    1   DAF$UPDLNCNT: ENTRY;

    864  3 000104   000000 700200 xent  DAF$UPDLNCNT TSX0  ! X66_AUTO_0
         3 000105   000016 000000                    ZERO    14,0

      411      865    1           FPT_LINES.V.DCB#=DAF_DCB#;

    865  3 000106   000000 720000 xsym               LXL0    DAF_DCB#
         3 000107   000016 740000 1                  STX0    FPT_LINES+4

      412      866    1           CALL M$LINES(FPT_LINES);

    866  3 000110   000012 630400 1                  EPPR0   FPT_LINES
         3 000111   050005 713400                    CLIMB   20485
         3 000112   400400 401760                    pmme    nvectors=2

      413      867    1           IF VLR_LINES.RLINES#=-1 THEN RETURN;

    867  3 000113   000020 220000 1                  LDX0    VLR_LINES
         3 000114   777777 100003                    CMPX0   -1,DU
         3 000115   000117 601000 3                  TNZ     s:868

    867  3 000116   000000 702200 xent               TSX2  ! X66_ARET

      414      868    2           IF VLR_LINES.RLINES#<=REPORT.FTRLEN THEN DO;

    868  3 000117   000000 470400 xsym               LDP0    DA_REPORT$
         3 000120   000002 100100                    CMPX0   2,,PR0
         3 000121   000143 605400 3                  TPNZ    s:875

      415      869    2              REPORT.CURLINE=1;

    869  3 000122   000001 221003                    LDX1    1,DU
         3 000123   000001 741100                    STX1    1,,PR0

      416      870    2              FPT_DEVICE.V.DCB#=DAF_DCB#;

PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:92   
    870  3 000124   000000 720000 xsym               LXL0    DAF_DCB#
         3 000125   000006 740000 1                  STX0    FPT_DEVICE+6

      417      871    2              FPT_DEVICE.V.PAGE#=~DA_LO$->F$DCB.DDEV.UCOUT#;

    871  3 000126   000000 471400 xsym               LDP1    DA_LO$
         3 000127   100004 236100                    LDQ     4,,PR1
         3 000130   000026 736000                    QLS     22
         3 000131   400000 376003                    ANQ     -131072,DU
         3 000132   400000 676003                    ERQ     -131072,DU
         3 000133   000024 772000                    QRL     20
         3 000134   000006 676000 1                  ERQ     FPT_DEVICE+6
         3 000135   100000 376007                    ANQ     32768,DL
         3 000136   000006 656000 1                  ERSQ    FPT_DEVICE+6

      418      872    2              CALL M$DEVICE(FPT_DEVICE);

    872  3 000137   000000 630400 1                  EPPR0   FPT_DEVICE
         3 000140   050006 713400                    CLIMB   20486
         3 000141   401000 401760                    pmme    nvectors=3

      419      873    2              RETURN;

    873  3 000142   000000 702200 xent               TSX2  ! X66_ARET

      420      874    2              END;
      421      875    1           REPORT.CURLINE=REPORT.PAGELEN.N-VLR_LINES.RLINES#+1;

    875  3 000143   000020 235000 1                  LDA     VLR_LINES
         3 000144   000022 731000                    ARS     18
         3 000145   200006 755100                    STA     T$+2,,AUTO
         3 000146   000000 236100                    LDQ     0,,PR0
         3 000147   000022 772000                    QRL     18
         3 000150   377777 376007                    ANQ     131071,DL
         3 000151   200006 136100                    SBLQ    T$+2,,AUTO
         3 000152   000001 621006                    EAX1    1,QL
         3 000153   000001 741100                    STX1    1,,PR0
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:93   

      422      876    1           RETURN;

    876  3 000154   000000 702200 xent               TSX2  ! X66_ARET
      423      877    1   END DAF$NEWPAGE;
      424      878        %EOD;

PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:94   
--  Include file information  --

   XUF_ENTRY.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   DA_FORMAT_R.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DAF$NEWPAGE.
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:95   

 **** Variables and constants ****

  ****  Section 001  Data  DAF$NEWPAGE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(360)   r     1 FPT_DEVICE                12-0-0/d STRC(216)   r     1 FPT_LINES
    20-0-0/d STRC(72)    r     1 VLR_LINES

  ****  Section 002 RoData DAF$NEWPAGE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     1-0-0/c CHAR        r     1 BLANKLINE                  0-0-0/c CHAR(2)     r     1 TXTFMT

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 P$                         4-0-0/w PTR         r     1 T$

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w UBIN        r     1 DAF_DCB#                   0-0-0/w PTR         r     1 DA_LO$
     0-0-0/w PTR         r     1 DA_REPORT$                 0-0-0/w STRC(1080)  r     1 DA_XFDS

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:96   
     0-0-0/d ASTR(3528)  r     1 F$DCB                      0-0-0/w STRC(144)   r     1 FTR
     0-0-0/w STRC(288)   r     1 REPORT                     0-0-0/c ASTR(9)     r     1 TEXTC


   Procedure DAF$NEWPAGE requires 109 words for executable code.
   Procedure DAF$NEWPAGE requires 14 words of local(AUTO) storage.
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:97   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:98   
          MINI XREF LISTING

BLANKLINE
       837**DCL       848--CALL
DAF_DCB#
        16**DCL       859>>ASSIGN    865>>ASSIGN    870>>ASSIGN
DA_FMTSEG.P
        17**DCL        17--REDEF
DA_LO$
        16**DCL       858>>ASSIGN    871>>ASSIGN
DA_REPORT$
        16**DCL       580--IMP-PTR   847>>IF        849>>ASSIGN    861>>ASSIGN    868>>IF        869>>ASSIGN
       875>>ASSIGN    875>>ASSIGN
DA_XFDS
       685**DCL       848<>CALL      854<>CALL
F$DCB.ACTPOS
       538**DCL       538--REDEF
F$DCB.ARS#
       512**DCL       512--REDEF
F$DCB.ATTR
       531**DCL       532--REDEF
F$DCB.BORROW
       546**DCL       546--REDEF     546--REDEF     546--REDEF
F$DCB.DCBNAME.L
       560**DCL       560--IMP-SIZ
F$DCB.DDEV.UCOUT#
       519**DCL       858>>ASSIGN    871>>ASSIGN
F$DCB.EOMCHAR#
       516**DCL       516--REDEF
F$DCB.FLDID
       541**DCL       541--REDEF
F$DCB.FORM$
       535**DCL       535--REDEF
F$DCB.FSECT
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:99   
       551**DCL       551--REDEF
F$DCB.FSN#
       528**DCL       528--REDEF     528--REDEF     529--REDEF
F$DCB.HEADER$
       534**DCL       534--REDEF
F$DCB.IXTNSIZE#
       532**DCL       532--REDEF
F$DCB.LASTSTA$
       521**DCL       521--REDEF
F$DCB.LVL
       547**DCL       547--REDEF
F$DCB.NAME#.C
       522**DCL       522--REDEF
F$DCB.NOEOF
       544**DCL       544--REDEF
F$DCB.NRECS#
       533**DCL       533--REDEF
F$DCB.NRECX
       552**DCL       552--REDEF
F$DCB.OHDR
       544**DCL       544--REDEF
F$DCB.ORG#
       527**DCL       527--REDEF
F$DCB.PRECNO
       550**DCL       550--REDEF
F$DCB.RCSZ
       556**DCL       556--REDEF
F$DCB.RES#
       523**DCL       523--REDEF
F$DCB.SETX
       535**DCL       535--REDEF
F$DCB.TAB$
       535**DCL       535--REDEF
F$DCB.TDA
       549**DCL       550--REDEF
F$DCB.WSN#
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:100  
       523**DCL       523--REDEF
FPT_DEVICE
       795**DCL       860<>CALL      872<>CALL
FPT_DEVICE.V
       796**DCL       795--DCLINIT
FPT_DEVICE.V.DCB#
       796**DCL       859<<ASSIGN    870<<ASSIGN
FPT_DEVICE.V.PAGE#
       797**DCL       858<<ASSIGN    871<<ASSIGN
FPT_LINES
       813**DCL       866<>CALL
FPT_LINES.V
       813**DCL       813--DCLINIT
FPT_LINES.V.DCB#
       814**DCL       865<<ASSIGN
FTR
       648**DCL       852<>CALL
FTR.NXT$
       659**DCL       855>>ASSIGN
FTR.RTN
       656**DCL       851>>IF        852>>CALL
FTR.TXT$
       652**DCL       853>>ASSIGN
M$DEVICE
       437**DCL-ENT   860--CALL      872--CALL
M$LINES
       438**DCL-ENT   866--CALL
NXTFTR
       855**LABEL     852--CALLALT
P$
       831**DCL       648--IMP-PTR   849<<ASSIGN    850>>DOWHILE   851>>IF        852>>CALL      852>>CALL
       853>>ASSIGN    855<<ASSIGN    855>>ASSIGN
REPORT.CURLINE
       597**DCL       861<<ASSIGN    869<<ASSIGN    875<<ASSIGN
REPORT.FOOT$
       618**DCL       847>>IF        849>>ASSIGN
PL6.E3A0      #004=DAF$NEWPAGE File=DAF$FORMAT.:E05TSI                           TUE 07/29/97 12:50 Page:101  
REPORT.FTRLEN
       599**DCL       868>>IF
REPORT.PAGELEN.N
       588**DCL       875>>ASSIGN
T$
       832**DCL       833--IMP-PTR   853<<ASSIGN    854>>CALL      854>>CALL
TEXTC
       833**DCL       854--CALL
TEXTC.L
       834**DCL       835--IMP-SIZ   854>>CALL
TXTFMT
       836**DCL       854--CALL
VLR_LINES
       827**DCL       813--DCLINIT
VLR_LINES.RLINES#
       827**DCL       867>>IF        868>>IF        875>>ASSIGN
X$WRITE
       844**DCL-ENT   848--CALL      854--CALL

PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:102  
      425        1        /*T***********************************************************/
      426        2        /*T*                                                         */
      427        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      428        4        /*T*                                                         */
      429        5        /*T***********************************************************/
      430        6        DAF$OUTPUT: PROC(BUF,FDS) ALTRET;
      431        7        /**/
      432        8        %INCLUDE XU_FORMAT_C;
      433      170    1   DCL 1 BUF ALIGNED,
      434      171    1         2 BOUND UBIN(20) UNAL,
      435      172    1         2 FLAGS BIT(16),
      436      173    1         2 P$ PTR;
      437      174        %F_FDS (NAME=FDS,STCLASS="");
      438      287        /**/
      439      288    1   DCL DAF$NEWPAGE ENTRY;
      440      289    1   DCL DAF$UPDLNCNT ENTRY;
      441      290        /**/
      442      291        %INCLUDE DA_FORMAT_R;
      443      303        %INCLUDE NK_VFC_C;
      444      377        %INCLUDE DA_FORMAT_C;
      445      619        %INCLUDE CP_6;
      446      700        %F$DCB;
      447      757        /**/
      448      758        %F_FDS (NAME=DA_XFDS,STCLASS=SYMREF);
      449      871        %REPORT (NAME=REPORT,STCLASS="BASED(DA_REPORT$)");
      450      937        %HEADER (NAME=HDR,STCLASS="BASED(P$)");
      451      979        %FOOTER (NAME=FTR,STCLASS="BASED(P$)");
      452     1021        %NK$VFC (NAME=VFC,STCLASS="BASED(BUF.P$)");
      453     1039    1   DCL VFCC CHAR(1) BASED(BUF.P$);
      454     1040    1   DCL 1 TEXTC BASED(T$),
      455     1041    1         2 L UBIN BYTE UNAL,
      456     1042    1         2 C CHAR(TEXTC.L);
      457     1043        /**/
      458     1044    1   DCL I SBIN;
      459     1045    1   DCL P$ PTR;
      460     1046    1   DCL T$ PTR;
      461     1047        /**/
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:103  
      462     1048    1   DCL BLANKLINE CHAR(1) CONSTANT INIT(' ');
      463     1049    1   DCL TXTFMT CHAR(0) CONSTANT INIT('%T');
      464     1050        %INCLUDE XUF_ENTRY;
      465     1058        %FPT_DEVICE (PAGE=YES);
      466     1076        %EJECT;
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:104  
      467     1077    1           FPT_DEVICE.V.DCB#=DAF_DCB#;
      468     1078    2           IF VFCC=%VFC_TOF THEN DO;
      469     1079    2              CALL DAF$NEWPAGE;
      470     1080    2              VFCC=%VFC_S1A;
      471     1081    2              END;
      472     1082    2           ELSE IF VFC.FCN=%VFCF_SPA THEN DO;
      473     1083    2                 IF VFC.COUNT+REPORT.CURLINE>REPORT.FTRLINE AND REPORT.CURLINE<REPORT.
              1083                          FTRLINE THEN
      474     1084    2                    VFC.COUNT=REPORT.FTRLINE-REPORT.CURLINE;
      475     1085    2                 END;
      476     1086    1              ELSE VFCC=%VFC_S1A;
      477     1087    1           IF REPORT.CURLINE=REPORT.FTRLINE THEN CALL DAF$UPDLNCNT;
      478     1088    2           IF REPORT.CURLINE=REPORT.FTRLINE THEN DO;
      479     1089    2              P$=REPORT.FOOT$;
      480     1090    2              IF REPORT.FTRLEN>0 THEN
      481     1091    2                 CALL X$WRITE(DA_XFDS,VECTOR(BLANKLINE));
      482     1092    3              DO WHILE(P$~=ADDR(NIL));
      483     1093    3                 IF FTR.RTN~=ENTADDR(NIL) THEN
      484     1094    3                    CALL FTR.RTN(FTR) ALTRET(NXTFTR);
      485     1095    3                 T$=FTR.TXT$;
      486     1096    3                 CALL X$WRITE(DA_XFDS,VECTOR(TXTFMT),VECTOR(TEXTC));
      487     1097    3   NXTFTR:       P$=FTR.NXT$;
      488     1098    3                 END;
      489     1099    2              FPT_DEVICE.V.PAGE#=~DA_LO$->F$DCB.DDEV.UCOUT#;
      490     1100    2              CALL M$DEVICE(FPT_DEVICE);
      491     1101    2              REPORT.CURLINE=1;
      492     1102    2              END;
      493     1103    2           IF REPORT.CURLINE=1 THEN DO;
      494     1104    2              REPORT.CURLINE=2;
      495     1105    3              IF REPORT.PAGELEN.N=0 AND NOT DA_FMT_NEWCMD THEN DO;
      496     1106    3                 CALL X$WRITE(DA_XFDS,VECTOR(BLANKLINE));
      497     1107    3                 END;
      498     1108    2              DA_FMT_NEWCMD='0'B;
      499     1109    2              P$=REPORT.HEAD$;
      500     1110    3              DO WHILE(P$~=ADDR(NIL));
      501     1111    3                 IF HDR.RTN~=ENTADDR(NIL) THEN
      502     1112    3                    CALL HDR.RTN(HDR) ALTRET(NXTHDR);
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:105  
      503     1113    3                 T$=HDR.TXT$;
      504     1114    4                 IF TEXTC.L>0 THEN DO;
      505     1115    4                    CALL X$WRITE(DA_XFDS,VECTOR(TXTFMT),VECTOR(TEXTC));
      506     1116    4                    REPORT.CURLINE=REPORT.CURLINE+1;
      507     1117    4                    END;
      508     1118    3   NXTHDR:       P$=HDR.NXT$;
      509     1119    3                 END;
      510     1120    2              END;
      511     1121    1           REPORT.CURLINE=REPORT.CURLINE+VFC.COUNT;
      512     1122    1           RETURN;
      513     1123    1   END DAF$OUTPUT;
      514     1124        %EOD;

PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:106  
--  Include file information  --

   XUF_ENTRY.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   NK_VFC_C.:E05TOU  is referenced.
   DA_FORMAT_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DAF$OUTPUT.

   Procedure DAF$OUTPUT requires 213 words for executable code.
   Procedure DAF$OUTPUT requires 16 words of local(AUTO) storage.

PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:107  

 Object Unit name= DAF$OUTPUT                                 File name= DAF$FORMAT.:E05TOU
 UTS= JUL 29 '97 12:51:00.80 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1  RoData even  UTS      2      2  DAF$OUTPUT
    2   Data  even  none    10     12  DAF$OUTPUT
    3   Proc  even  none   213    325  DAF$OUTPUT
    4  RoData even  none    10     12  DAF$OUTPUT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes    yes     yes      Std        2  DAF$OUTPUT

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       0 DAF$NEWPAGE
         yes           Std       0 DAF$UPDLNCNT
         yes           Std      22 X$WRITE
                       nStd      0 X66_AUTO_2
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:108  

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     DA_REPORT$                            DAF_DCB#                              DA_LO$
     DA_FMT_NEWCMD                         M$UC                                  DA_XFDS
     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:109  


      425        1        /*T***********************************************************/
      426        2        /*T*                                                         */
      427        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      428        4        /*T*                                                         */
      429        5        /*T***********************************************************/
      430        6        DAF$OUTPUT: PROC(BUF,FDS) ALTRET;

      6  3 000000   000000 700200 xent  DAF$OUTPUT   TSX0  ! X66_AUTO_2
         3 000001   000020 000002                    ZERO    16,2

      431        7        /**/
      432        8        %INCLUDE XU_FORMAT_C;
      433      170    1   DCL 1 BUF ALIGNED,
      434      171    1         2 BOUND UBIN(20) UNAL,
      435      172    1         2 FLAGS BIT(16),
      436      173    1         2 P$ PTR;
      437      174        %F_FDS (NAME=FDS,STCLASS="");
      438      287        /**/
      439      288    1   DCL DAF$NEWPAGE ENTRY;
      440      289    1   DCL DAF$UPDLNCNT ENTRY;
      441      290        /**/
      442      291        %INCLUDE DA_FORMAT_R;
      443      303        %INCLUDE NK_VFC_C;
      444      377        %INCLUDE DA_FORMAT_C;
      445      619        %INCLUDE CP_6;
      446      700        %F$DCB;
      447      757        /**/
      448      758        %F_FDS (NAME=DA_XFDS,STCLASS=SYMREF);
      449      871        %REPORT (NAME=REPORT,STCLASS="BASED(DA_REPORT$)");
      450      937        %HEADER (NAME=HDR,STCLASS="BASED(P$)");
      451      979        %FOOTER (NAME=FTR,STCLASS="BASED(P$)");
      452     1021        %NK$VFC (NAME=VFC,STCLASS="BASED(BUF.P$)");
      453     1039    1   DCL VFCC CHAR(1) BASED(BUF.P$);
      454     1040    1   DCL 1 TEXTC BASED(T$),
      455     1041    1         2 L UBIN BYTE UNAL,
      456     1042    1         2 C CHAR(TEXTC.L);
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:110  
      457     1043        /**/
      458     1044    1   DCL I SBIN;
      459     1045    1   DCL P$ PTR;
      460     1046    1   DCL T$ PTR;
      461     1047        /**/
      462     1048    1   DCL BLANKLINE CHAR(1) CONSTANT INIT(' ');
      463     1049    1   DCL TXTFMT CHAR(0) CONSTANT INIT('%T');
      464     1050        %INCLUDE XUF_ENTRY;
      465     1058        %FPT_DEVICE (PAGE=YES);
      466     1076        %EJECT;
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:111  
      467     1077    1           FPT_DEVICE.V.DCB#=DAF_DCB#;

   1077  3 000002   000000 720000 xsym               LXL0    DAF_DCB#
         3 000003   000006 740000 2                  STX0    FPT_DEVICE+6

      468     1078    2           IF VFCC=%VFC_TOF THEN DO;

   1078  3 000004   200003 470500                    LDP0    @BUF,,AUTO
         3 000005   000001 471500                    LDP1    1,,PR0
         3 000006   040000 106500                    CMPC    fill='040'O
         3 000007   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1
         3 000010   000000 000001 4                  ADSC9   0                        cn=0,n=1
         3 000011   000023 601000 3                  TNZ     s:1082

      469     1079    2              CALL DAF$NEWPAGE;

   1079  3 000012   000002 631400 xsym               EPPR1   B_VECTNIL+2
         3 000013   000000 701000 xent               TSX1    DAF$NEWPAGE
         3 000014   000000 011000                    NOP     0

      470     1080    2              VFCC=%VFC_S1A;

   1080  3 000015   200003 470500                    LDP0    @BUF,,AUTO
         3 000016   000001 471500                    LDP1    1,,PR0
         3 000017   040100 100400                    MLR     fill='040'O
         3 000020   000001 000001 4                  ADSC9   1                        cn=0,n=1
         3 000021   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1

      471     1081    2              END;

   1081  3 000022   000077 710000 3                  TRA     s:1087

      472     1082    2           ELSE IF VFC.FCN=%VFCF_SPA THEN DO;

   1082  3 000023   003100 061500                    CSR     bolr='003'O
         3 000024   100000 020003                    BDSC    0,,PR1                   by=0,bit=2,n=3
         3 000025   200010 000044                    BDSC    T$+1,,AUTO               by=0,bit=0,n=36
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:112  
         3 000026   200010 236100                    LDQ     T$+1,,AUTO
         3 000027   000004 116007                    CMPQ    4,DL
         3 000030   000073 601000 3                  TNZ     s:1086

      473     1083    2                 IF VFC.COUNT+REPORT.CURLINE>REPORT.FTRLINE AND REPORT.CURLINE<REPORT.
              1083                          FTRLINE THEN

   1083  3 000031   000001 471500                    LDP1    1,,PR0
         3 000032   000000 473400 xsym               LDP3    DA_REPORT$
         3 000033   300001 236100                    LDQ     1,,PR3
         3 000034   000022 732000                    QRS     18
         3 000035   200010 756100                    STQ     T$+1,,AUTO
         3 000036   003100 061500                    CSR     bolr='003'O
         3 000037   100000 050004                    BDSC    0,,PR1                   by=0,bit=5,n=4
         3 000040   200011 000044                    BDSC    T$+2,,AUTO               by=0,bit=0,n=36
         3 000041   200011 236100                    LDQ     T$+2,,AUTO
         3 000042   200010 036100                    ADLQ    T$+1,,AUTO
         3 000043   200012 756100                    STQ     T$+3,,AUTO
         3 000044   300002 236100                    LDQ     2,,PR3
         3 000045   000022 736000                    QLS     18
         3 000046   000022 732000                    QRS     18
         3 000047   200013 756100                    STQ     T$+4,,AUTO
         3 000050   200012 236100                    LDQ     T$+3,,AUTO
         3 000051   200013 116100                    CMPQ    T$+4,,AUTO
         3 000052   000077 604400 3                  TMOZ    s:1087
         3 000053   300002 721100                    LXL1    2,,PR3
         3 000054   300001 101100                    CMPX1   1,,PR3
         3 000055   000077 604400 3                  TMOZ    s:1087

      474     1084    2                    VFC.COUNT=REPORT.FTRLINE-REPORT.CURLINE;

   1084  3 000056   000001 471500                    LDP1    1,,PR0
         3 000057   300001 236100                    LDQ     1,,PR3
         3 000060   000022 732000                    QRS     18
         3 000061   200010 756100                    STQ     T$+1,,AUTO
         3 000062   300002 236100                    LDQ     2,,PR3
         3 000063   000022 736000                    QLS     18
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:113  
         3 000064   000022 732000                    QRS     18
         3 000065   200010 136100                    SBLQ    T$+1,,AUTO
         3 000066   200011 756100                    STQ     T$+2,,AUTO
         3 000067   003100 061500                    CSR     bolr='003'O
         3 000070   200011 000044                    BDSC    T$+2,,AUTO               by=0,bit=0,n=36
         3 000071   100000 050004                    BDSC    0,,PR1                   by=0,bit=5,n=4

      475     1085    2                 END;

   1085  3 000072   000077 710000 3                  TRA     s:1087

      476     1086    1              ELSE VFCC=%VFC_S1A;

   1086  3 000073   000001 471500                    LDP1    1,,PR0
         3 000074   040100 100400                    MLR     fill='040'O
         3 000075   000001 000001 4                  ADSC9   1                        cn=0,n=1
         3 000076   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1

      477     1087    1           IF REPORT.CURLINE=REPORT.FTRLINE THEN CALL DAF$UPDLNCNT;

   1087  3 000077   000000 471400 xsym               LDP1    DA_REPORT$
         3 000100   100002 720100                    LXL0    2,,PR1
         3 000101   100001 100100                    CMPX0   1,,PR1
         3 000102   000106 601000 3                  TNZ     s:1088

   1087  3 000103   000002 631400 xsym               EPPR1   B_VECTNIL+2
         3 000104   000000 701000 xent               TSX1    DAF$UPDLNCNT
         3 000105   000000 011000                    NOP     0

      478     1088    2           IF REPORT.CURLINE=REPORT.FTRLINE THEN DO;

   1088  3 000106   000000 470400 xsym               LDP0    DA_REPORT$
         3 000107   000002 720100                    LXL0    2,,PR0
         3 000110   000001 100100                    CMPX0   1,,PR0
         3 000111   000207 601000 3                  TNZ     s:1103

      479     1089    2              P$=REPORT.FOOT$;
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:114  

   1089  3 000112   000007 236100                    LDQ     7,,PR0
         3 000113   200006 756100                    STQ     P$,,AUTO

      480     1090    2              IF REPORT.FTRLEN>0 THEN

   1090  3 000114   000002 221100                    LDX1    2,,PR0
         3 000115   000122 604400 3                  TMOZ    s:1092

      481     1091    2                 CALL X$WRITE(DA_XFDS,VECTOR(BLANKLINE));

   1091  3 000116   000004 630400 4                  EPPR0   4
         3 000117   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000120   000000 701000 xent               TSX1    X$WRITE
         3 000121   000000 011000                    NOP     0

      482     1092    3              DO WHILE(P$~=ADDR(NIL));

   1092  3 000122   000165 710000 3                  TRA     s:1098

      483     1093    3                 IF FTR.RTN~=ENTADDR(NIL) THEN

   1093  3 000123   200006 470500                    LDP0    P$,,AUTO
         3 000124   000001 236100                    LDQ     1,,PR0
         3 000125   000002 116000 xsym               CMPQ    B_VECTNIL+2
         3 000126   000135 600000 3                  TZE     s:1095

      484     1094    3                    CALL FTR.RTN(FTR) ALTRET(NXTFTR);

   1094  3 000127   200006 630500                    EPPR0   P$,,AUTO
         3 000130   200006 471500                    LDP1    P$,,AUTO
         3 000131   100001 220100                    LDX0    1,,PR1
         3 000132   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000133   000000 701010                    TSX1    0,X0
         3 000134   000162 702000 3                  TSX2    NXTFTR

      485     1095    3                 T$=FTR.TXT$;
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:115  

   1095  3 000135   200006 470500                    LDP0    P$,,AUTO
         3 000136   000000 236100                    LDQ     0,,PR0
         3 000137   200007 756100                    STQ     T$,,AUTO

      486     1096    3                 CALL X$WRITE(DA_XFDS,VECTOR(TXTFMT),VECTOR(TEXTC));

   1096  3 000140   200007 471500                    LDP1    T$,,AUTO
         3 000141   000100 101500                    MRL     fill='000'O
         3 000142   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1
         3 000143   200010 000002                    ADSC9   T$+1,,AUTO               cn=0,n=2
         3 000144   200010 220100                    LDX0    T$+1,,AUTO
         3 000145   000001 621010                    EAX1    1,X0
         3 000146   000000 635011                    EAA     0,X1
         3 000147   000002 771000                    ARL     2
         3 000150   000140 135007                    SBLA    96,DL
         3 000151   200012 757100                    STAQ    T$+3,,AUTO
         3 000152   200012 633500                    EPPR3   T$+3,,AUTO
         3 000153   200016 453500                    STP3    T$+7,,AUTO
         3 000154   000010 237000 4                  LDAQ    8
         3 000155   200014 757100                    STAQ    T$+5,,AUTO
         3 000156   200014 630500                    EPPR0   T$+5,,AUTO
         3 000157   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000160   000000 701000 xent               TSX1    X$WRITE
         3 000161   000000 011000                    NOP     0

      487     1097    3   NXTFTR:       P$=FTR.NXT$;

   1097  3 000162   200006 470500       NXTFTR       LDP0    P$,,AUTO
         3 000163   000003 236100                    LDQ     3,,PR0
         3 000164   200006 756100                    STQ     P$,,AUTO

      488     1098    3                 END;

   1098  3 000165   200006 236100                    LDQ     P$,,AUTO
         3 000166   000001 116000 xsym               CMPQ    B_VECTNIL+1
         3 000167   000123 601000 3                  TNZ     s:1093
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:116  

      489     1099    2              FPT_DEVICE.V.PAGE#=~DA_LO$->F$DCB.DDEV.UCOUT#;

   1099  3 000170   000000 470400 xsym               LDP0    DA_LO$
         3 000171   000004 236100                    LDQ     4,,PR0
         3 000172   000026 736000                    QLS     22
         3 000173   400000 376003                    ANQ     -131072,DU
         3 000174   400000 676003                    ERQ     -131072,DU
         3 000175   000024 772000                    QRL     20
         3 000176   000006 676000 2                  ERQ     FPT_DEVICE+6
         3 000177   100000 376007                    ANQ     32768,DL
         3 000200   000006 656000 2                  ERSQ    FPT_DEVICE+6

      490     1100    2              CALL M$DEVICE(FPT_DEVICE);

   1100  3 000201   000000 630400 2                  EPPR0   FPT_DEVICE
         3 000202   050006 713400                    CLIMB   20486
         3 000203   401000 401760                    pmme    nvectors=3

      491     1101    2              REPORT.CURLINE=1;

   1101  3 000204   000001 220003                    LDX0    1,DU
         3 000205   000000 470400 xsym               LDP0    DA_REPORT$
         3 000206   000001 740100                    STX0    1,,PR0

      492     1102    2              END;

      493     1103    2           IF REPORT.CURLINE=1 THEN DO;

   1103  3 000207   000001 220100                    LDX0    1,,PR0
         3 000210   000001 100003                    CMPX0   1,DU
         3 000211   000311 601000 3                  TNZ     s:1121

      494     1104    2              REPORT.CURLINE=2;

   1104  3 000212   000002 221003                    LDX1    2,DU
         3 000213   000001 741100                    STX1    1,,PR0
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:117  

      495     1105    3              IF REPORT.PAGELEN.N=0 AND NOT DA_FMT_NEWCMD THEN DO;

   1105  3 000214   000000 236100                    LDQ     0,,PR0
         3 000215   377777 316003                    CANQ    131071,DU
         3 000216   000225 601000 3                  TNZ     s:1108
         3 000217   000000 234000 xsym               SZN     DA_FMT_NEWCMD
         3 000220   000225 604000 3                  TMI     s:1108

      496     1106    3                 CALL X$WRITE(DA_XFDS,VECTOR(BLANKLINE));

   1106  3 000221   000004 630400 4                  EPPR0   4
         3 000222   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000223   000000 701000 xent               TSX1    X$WRITE
         3 000224   000000 011000                    NOP     0

      497     1107    3                 END;

      498     1108    2              DA_FMT_NEWCMD='0'B;

   1108  3 000225   000000 450000 xsym               STZ     DA_FMT_NEWCMD

      499     1109    2              P$=REPORT.HEAD$;

   1109  3 000226   000000 470400 xsym               LDP0    DA_REPORT$
         3 000227   000006 236100                    LDQ     6,,PR0
         3 000230   200006 756100                    STQ     P$,,AUTO

      500     1110    3              DO WHILE(P$~=ADDR(NIL));

   1110  3 000231   000307 710000 3                  TRA     s:1119

      501     1111    3                 IF HDR.RTN~=ENTADDR(NIL) THEN

   1111  3 000232   200006 470500                    LDP0    P$,,AUTO
         3 000233   000001 236100                    LDQ     1,,PR0
         3 000234   000002 116000 xsym               CMPQ    B_VECTNIL+2
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:118  
         3 000235   000244 600000 3                  TZE     s:1113

      502     1112    3                    CALL HDR.RTN(HDR) ALTRET(NXTHDR);

   1112  3 000236   200006 630500                    EPPR0   P$,,AUTO
         3 000237   200006 471500                    LDP1    P$,,AUTO
         3 000240   100001 220100                    LDX0    1,,PR1
         3 000241   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000242   000000 701010                    TSX1    0,X0
         3 000243   000304 702000 3                  TSX2    NXTHDR

      503     1113    3                 T$=HDR.TXT$;

   1113  3 000244   200006 470500                    LDP0    P$,,AUTO
         3 000245   000000 236100                    LDQ     0,,PR0
         3 000246   200007 756100                    STQ     T$,,AUTO

      504     1114    4                 IF TEXTC.L>0 THEN DO;

   1114  3 000247   200007 471500                    LDP1    T$,,AUTO
         3 000250   000100 101500                    MRL     fill='000'O
         3 000251   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1
         3 000252   200010 000004                    ADSC9   T$+1,,AUTO               cn=0,n=4
         3 000253   200010 236100                    LDQ     T$+1,,AUTO
         3 000254   000000 116003                    CMPQ    0,DU
         3 000255   000304 600000 3                  TZE     NXTHDR

      505     1115    4                    CALL X$WRITE(DA_XFDS,VECTOR(TXTFMT),VECTOR(TEXTC));

   1115  3 000256   000100 101500                    MRL     fill='000'O
         3 000257   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1
         3 000260   200010 000002                    ADSC9   T$+1,,AUTO               cn=0,n=2
         3 000261   200010 220100                    LDX0    T$+1,,AUTO
         3 000262   000001 621010                    EAX1    1,X0
         3 000263   000000 635011                    EAA     0,X1
         3 000264   000002 771000                    ARL     2
         3 000265   000140 135007                    SBLA    96,DL
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:119  
         3 000266   200007 236100                    LDQ     T$,,AUTO
         3 000267   200012 757100                    STAQ    T$+3,,AUTO
         3 000270   200012 633500                    EPPR3   T$+3,,AUTO
         3 000271   200016 453500                    STP3    T$+7,,AUTO
         3 000272   000010 237000 4                  LDAQ    8
         3 000273   200014 757100                    STAQ    T$+5,,AUTO
         3 000274   200014 630500                    EPPR0   T$+5,,AUTO
         3 000275   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000276   000000 701000 xent               TSX1    X$WRITE
         3 000277   000000 011000                    NOP     0

      506     1116    4                    REPORT.CURLINE=REPORT.CURLINE+1;

   1116  3 000300   000000 470400 xsym               LDP0    DA_REPORT$
         3 000301   000001 220100                    LDX0    1,,PR0
         3 000302   000001 621010                    EAX1    1,X0
         3 000303   000001 741100                    STX1    1,,PR0

      507     1117    4                    END;

      508     1118    3   NXTHDR:       P$=HDR.NXT$;

   1118  3 000304   200006 470500       NXTHDR       LDP0    P$,,AUTO
         3 000305   000003 236100                    LDQ     3,,PR0
         3 000306   200006 756100                    STQ     P$,,AUTO

      509     1119    3                 END;

   1119  3 000307   000001 116000 xsym               CMPQ    B_VECTNIL+1
         3 000310   000232 601000 3                  TNZ     s:1111

      510     1120    2              END;

      511     1121    1           REPORT.CURLINE=REPORT.CURLINE+VFC.COUNT;

   1121  3 000311   200003 470500                    LDP0    @BUF,,AUTO
         3 000312   000001 471500                    LDP1    1,,PR0
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:120  
         3 000313   003100 061500                    CSR     bolr='003'O
         3 000314   100000 050004                    BDSC    0,,PR1                   by=0,bit=5,n=4
         3 000315   200010 000044                    BDSC    T$+1,,AUTO               by=0,bit=0,n=36
         3 000316   000000 471400 xsym               LDP1    DA_REPORT$
         3 000317   100001 236100                    LDQ     1,,PR1
         3 000320   000022 732000                    QRS     18
         3 000321   200010 036100                    ADLQ    T$+1,,AUTO
         3 000322   000000 620006                    EAX0    0,QL
         3 000323   100001 740100                    STX0    1,,PR1

      512     1122    1           RETURN;

   1122  3 000324   000000 702200 xent               TSX2  ! X66_ARET
      513     1123    1   END DAF$OUTPUT;
      514     1124        %EOD;

PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:121  
--  Include file information  --

   XUF_ENTRY.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   NK_VFC_C.:E05TOU  is referenced.
   DA_FORMAT_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DAF$OUTPUT.
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:122  

 **** Variables and constants ****

  ****  Section 001 RoData DAF$OUTPUT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR        r     1 BLANKLINE                  1-0-0/c CHAR(2)     r     1 TXTFMT

  ****  Section 002  Data  DAF$OUTPUT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(360)   r     1 FPT_DEVICE

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @BUF                       4-0-0/w PTR         r     1 @FDS
    *0-0-0/w STRC(72)    r     1 BUF                       *0-0-0/w STRC(1080)  r     1 FDS
     6-0-0/w PTR         r     1 P$                         7-0-0/w PTR         r     1 T$

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w UBIN        r     1 DAF_DCB#                   0-0-0/b BIT         r     1 DA_FMT_NEWCMD
     0-0-0/w PTR         r     1 DA_LO$                     0-0-0/w PTR         r     1 DA_REPORT$
     0-0-0/w STRC(1080)  r     1 DA_XFDS

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:123  
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d ASTR(3528)  r     1 F$DCB                      0-0-0/w STRC(144)   r     1 FTR
     0-0-0/w STRC(144)   r     1 HDR                        0-0-0/w STRC(288)   r     1 REPORT
     0-0-0/c ASTR(9)     r     1 TEXTC                      0-0-0/c STRC(9)     r     1 VFC
     0-0-0/c CHAR        r     1 VFCC


   Procedure DAF$OUTPUT requires 213 words for executable code.
   Procedure DAF$OUTPUT requires 16 words of local(AUTO) storage.
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:124  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:125  
          MINI XREF LISTING

BLANKLINE
      1048**DCL      1091--CALL     1106--CALL
BUF
       170**DCL         6--PROC
BUF.P$
       173**DCL      1032--IMP-PTR  1039--IMP-PTR  1078>>IF       1080>>ASSIGN   1082>>IF       1083>>IF
      1084>>ASSIGN   1086>>ASSIGN   1121>>ASSIGN
DAF$NEWPAGE
       288**DCL-ENT  1079--CALL
DAF$UPDLNCNT
       289**DCL-ENT  1087--CALL
DAF_DCB#
       299**DCL      1077>>ASSIGN
DA_FMTSEG.P
       300**DCL       300--REDEF
DA_FMT_NEWCMD
       300**DCL      1105>>IF       1108<<ASSIGN
DA_LO$
       299**DCL      1099>>ASSIGN
DA_REPORT$
       299**DCL       888--IMP-PTR  1083>>IF       1083>>IF       1083>>IF       1083>>IF       1084>>ASSIGN
      1084>>ASSIGN   1087>>IF       1087>>IF       1088>>IF       1088>>IF       1089>>ASSIGN   1090>>IF
      1101>>ASSIGN   1103>>IF       1104>>ASSIGN   1105>>IF       1109>>ASSIGN   1116>>ASSIGN   1116>>ASSIGN
      1121>>ASSIGN   1121>>ASSIGN
DA_XFDS
       772**DCL      1091<>CALL     1096<>CALL     1106<>CALL     1115<>CALL
F$DCB.ACTPOS
       733**DCL       733--REDEF
F$DCB.ARS#
       707**DCL       707--REDEF
F$DCB.ATTR
       726**DCL       727--REDEF
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:126  
F$DCB.BORROW
       741**DCL       741--REDEF     741--REDEF     741--REDEF
F$DCB.DCBNAME.L
       755**DCL       755--IMP-SIZ
F$DCB.DDEV.UCOUT#
       714**DCL      1099>>ASSIGN
F$DCB.EOMCHAR#
       711**DCL       711--REDEF
F$DCB.FLDID
       736**DCL       736--REDEF
F$DCB.FORM$
       730**DCL       730--REDEF
F$DCB.FSECT
       746**DCL       746--REDEF
F$DCB.FSN#
       723**DCL       723--REDEF     723--REDEF     724--REDEF
F$DCB.HEADER$
       729**DCL       729--REDEF
F$DCB.IXTNSIZE#
       727**DCL       727--REDEF
F$DCB.LASTSTA$
       716**DCL       716--REDEF
F$DCB.LVL
       742**DCL       742--REDEF
F$DCB.NAME#.C
       717**DCL       717--REDEF
F$DCB.NOEOF
       739**DCL       739--REDEF
F$DCB.NRECS#
       728**DCL       728--REDEF
F$DCB.NRECX
       747**DCL       747--REDEF
F$DCB.OHDR
       739**DCL       739--REDEF
F$DCB.ORG#
       722**DCL       722--REDEF
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:127  
F$DCB.PRECNO
       745**DCL       745--REDEF
F$DCB.RCSZ
       751**DCL       751--REDEF
F$DCB.RES#
       718**DCL       718--REDEF
F$DCB.SETX
       730**DCL       730--REDEF
F$DCB.TAB$
       730**DCL       730--REDEF
F$DCB.TDA
       744**DCL       745--REDEF
F$DCB.WSN#
       718**DCL       718--REDEF
FDS
       188**DCL         6--PROC
FPT_DEVICE
      1069**DCL      1100<>CALL
FPT_DEVICE.V
      1070**DCL      1069--DCLINIT
FPT_DEVICE.V.DCB#
      1070**DCL      1077<<ASSIGN
FPT_DEVICE.V.PAGE#
      1071**DCL      1099<<ASSIGN
FTR
       998**DCL      1094<>CALL
FTR.NXT$
      1009**DCL      1097>>ASSIGN
FTR.RTN
      1006**DCL      1093>>IF       1094>>CALL
FTR.TXT$
      1002**DCL      1095>>ASSIGN
HDR
       956**DCL      1112<>CALL
HDR.NXT$
       967**DCL      1118>>ASSIGN
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:128  
HDR.RTN
       964**DCL      1111>>IF       1112>>CALL
HDR.TXT$
       960**DCL      1113>>ASSIGN
M$DEVICE
       632**DCL-ENT  1100--CALL
NXTFTR
      1097**LABEL    1094--CALLALT
NXTHDR
      1118**LABEL    1112--CALLALT
P$
      1045**DCL       956--IMP-PTR   998--IMP-PTR  1089<<ASSIGN   1092>>DOWHILE  1093>>IF       1094>>CALL
      1094>>CALL     1095>>ASSIGN   1097<<ASSIGN   1097>>ASSIGN   1109<<ASSIGN   1110>>DOWHILE  1111>>IF
      1112>>CALL     1112>>CALL     1113>>ASSIGN   1118<<ASSIGN   1118>>ASSIGN
REPORT.CURLINE
       905**DCL      1083>>IF       1083>>IF       1084>>ASSIGN   1087>>IF       1088>>IF       1101<<ASSIGN
      1103>>IF       1104<<ASSIGN   1116<<ASSIGN   1116>>ASSIGN   1121<<ASSIGN   1121>>ASSIGN
REPORT.FOOT$
       926**DCL      1089>>ASSIGN
REPORT.FTRLEN
       907**DCL      1090>>IF
REPORT.FTRLINE
       908**DCL      1083>>IF       1083>>IF       1084>>ASSIGN   1087>>IF       1088>>IF
REPORT.HEAD$
       921**DCL      1109>>ASSIGN
REPORT.PAGELEN.N
       896**DCL      1105>>IF
T$
      1046**DCL      1040--IMP-PTR  1095<<ASSIGN   1096>>CALL     1096>>CALL     1113<<ASSIGN   1114>>IF
      1115>>CALL     1115>>CALL
TEXTC
      1040**DCL      1096--CALL     1115--CALL
TEXTC.L
      1041**DCL      1042--IMP-SIZ  1096>>CALL     1114>>IF       1115>>CALL
TXTFMT
      1049**DCL      1096--CALL     1115--CALL
PL6.E3A0      #005=DAF$OUTPUT File=DAF$FORMAT.:E05TSI                            TUE 07/29/97 12:51 Page:129  
VFC.COUNT
      1036**DCL      1083>>IF       1084<<ASSIGN   1121>>ASSIGN
VFC.FCN
      1036**DCL      1082>>IF
VFCC
      1039**DCL      1078>>IF       1080<<ASSIGN   1086<<ASSIGN
X$WRITE
      1056**DCL-ENT  1091--CALL     1096--CALL     1106--CALL     1115--CALL

PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:130  
      515        1        /*T***********************************************************/
      516        2        /*T*                                                         */
      517        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      518        4        /*T*                                                         */
      519        5        /*T***********************************************************/
      520        6        DAF$CONTENTS: PROC;
      521        7        /**/
      522        8    1   DCL DAF$INIT ENTRY(1) ALTRET;
      523        9        %INCLUDE XUF_ENTRY;
      524       17        /**/
      525       18        %INCLUDE DA_FORMAT_C;
      526      260        %INCLUDE DA_FORMAT_R;
      527      272        %INCLUDE XU_FORMAT_C;
      528      434        /**/
      529      435        %REPORT (NAME=TBLOFCNTNTS,CONTENTS=NO,
      530      436                 TITLE='TABLE OF CONTENTS');
      531      502        %F_FDS (NAME=DA_XFDS,STCLASS=SYMREF);
      532      615        %CONTENTS (NAME=CONTENTS,STCLASS="BASED(DA_CONTENTS$)");
      533      622    1   DCL I SBIN;
      534      623    1   DCL J SBIN;
      535      624    1   DCL SRT(0:2047) UBIN HALF HALIGNED;
      536      625    1   DCL N SBIN;
      537      626    1   DCL X SBIN;
      538      627    1   DCL CONTENTSFMT CHAR(0) CONSTANT INIT(' %A..%.18D');
      539      628    1   DCL CONTENTSFMT2 CHAR(0) CONSTANT INIT(' %A..%.18D%52-%A..%.18D');
      540      629        %EJECT;
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:131  
      541      630    1           CALL DAF$INIT(TBLOFCNTNTS);
      542      631    1           N=CONTENTS.N-1;
      543      632    2           IF TBLOFCNTNTS.PAGEWID.N>=100 THEN DO;
      544      633    3              DO I=0 TO N;
      545      634    3                 SRT(I)=I;
      546      635    3                 END;
      547      636    3              DO I=0 TO N-1;
      548      637    4                 DO J=I+1 TO N;
      549      638    5                    IF CONTENTS.TITLE.TEXT(SRT(J))<CONTENTS.TITLE.TEXT(SRT(I)) THEN DO;
      550      639    5                       X=SRT(I);
      551      640    5                       SRT(I)=SRT(J);
      552      641    5                       SRT(J)=X;
      553      642    5                       END;
      554      643    4                    END;
      555      644    3                 END;
      556      645    3              DO I=0 TO N;
      557      646    3                 CALL X$WRITE(DA_XFDS,VECTOR(CONTENTSFMT2),
      558      647    3                   VECTOR(CONTENTS.TITLE.TEXT(I)),
      559      648    3                   VECTOR(CONTENTS.TITLE.PAGE(I)),
      560      649    3                   VECTOR(CONTENTS.TITLE.TEXT(SRT(I))),
      561      650    3                   VECTOR(CONTENTS.TITLE.PAGE(SRT(I))));
      562      651    3                 END;
      563      652    2              END;
      564      653    2           ELSE DO;
      565      654    3              DO I=0 TO N;
      566      655    3                 CALL X$WRITE(DA_XFDS,VECTOR(CONTENTSFMT),
      567      656    3                   VECTOR(CONTENTS.TITLE.TEXT(I)),
      568      657    3                   VECTOR(CONTENTS.TITLE.PAGE(I)));
      569      658    3                 END;
      570      659    2              END;
      571      660    1           CONTENTS.N=0;
      572      661    1           RETURN;
      573      662    1   END DAF$CONTENTS;

PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:132  
--  Include file information  --

   XU_FORMAT_C.:E05TOU  is referenced.
   DA_FORMAT_R.:E05TOU  cannot be made into a system file and is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   XUF_ENTRY.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DAF$CONTENTS.

   Procedure DAF$CONTENTS requires 183 words for executable code.
   Procedure DAF$CONTENTS requires 1060 words of local(AUTO) storage.

    No errors detected in file DAF$FORMAT.:E05TSI    .

PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:133  

 Object Unit name= DAF$CONTENTS                               File name= DAF$FORMAT.:E05TOU
 UTS= JUL 29 '97 12:51:08.64 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none    13     15  DAF$CONTENTS
    1  RoData even  UTS      9     11  DAF$CONTENTS
    2   Proc  even  none   183    267  DAF$CONTENTS
    3  RoData even  none    12     14  DAF$CONTENTS

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes            yes      Std        0  DAF$CONTENTS

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       1 DAF$INIT
         yes           Std      22 X$WRITE
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     DA_CONTENTS$                          DA_XFDS                               B_VECTNIL
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:134  

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:135  


      515        1        /*T***********************************************************/
      516        2        /*T*                                                         */
      517        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      518        4        /*T*                                                         */
      519        5        /*T***********************************************************/
      520        6        DAF$CONTENTS: PROC;

      6  2 000000   000000 700200 xent  DAF$CONTENTS TSX0  ! X66_AUTO_0
         2 000001   002044 000000                    ZERO    1060,0

      521        7        /**/
      522        8    1   DCL DAF$INIT ENTRY(1) ALTRET;
      523        9        %INCLUDE XUF_ENTRY;
      524       17        /**/
      525       18        %INCLUDE DA_FORMAT_C;
      526      260        %INCLUDE DA_FORMAT_R;
      527      272        %INCLUDE XU_FORMAT_C;
      528      434        /**/
      529      435        %REPORT (NAME=TBLOFCNTNTS,CONTENTS=NO,
      530      436                 TITLE='TABLE OF CONTENTS');
      531      502        %F_FDS (NAME=DA_XFDS,STCLASS=SYMREF);
      532      615        %CONTENTS (NAME=CONTENTS,STCLASS="BASED(DA_CONTENTS$)");
      533      622    1   DCL I SBIN;
      534      623    1   DCL J SBIN;
      535      624    1   DCL SRT(0:2047) UBIN HALF HALIGNED;
      536      625    1   DCL N SBIN;
      537      626    1   DCL X SBIN;
      538      627    1   DCL CONTENTSFMT CHAR(0) CONSTANT INIT(' %A..%.18D');
      539      628    1   DCL CONTENTSFMT2 CHAR(0) CONSTANT INIT(' %A..%.18D%52-%A..%.18D');
      540      629        %EJECT;
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:136  
      541      630    1           CALL DAF$INIT(TBLOFCNTNTS);

    630  2 000002   000000 630400 3                  EPPR0   0
         2 000003   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000004   000000 701000 xent               TSX1    DAF$INIT
         2 000005   000000 011000                    NOP     0

      542      631    1           N=CONTENTS.N-1;

    631  2 000006   000000 470400 xsym               LDP0    DA_CONTENTS$
         2 000007   000000 235100                    LDA     0,,PR0
         2 000010   000001 135007                    SBLA    1,DL
         2 000011   202005 755100                    STA     N,,AUTO

      543      632    2           IF TBLOFCNTNTS.PAGEWID.N>=100 THEN DO;

    632  2 000012   000000 236000 0                  LDQ     TBLOFCNTNTS
         2 000013   377777 376007                    ANQ     131071,DL
         2 000014   000144 116007                    CMPQ    100,DL
         2 000015   000220 602000 2                  TNC     s:654

      544      633    3              DO I=0 TO N;

    633  2 000016   200003 450100                    STZ     I,,AUTO
         2 000017   000026 710000 2                  TRA     s:635+1

      545      634    3                 SRT(I)=I;

    634  2 000020   200003 235100                    LDA     I,,AUTO
         2 000021   000001 735000                    ALS     1
         2 000022   000105 101500                    MRL     fill='000'O
         2 000023   200003 000004                    ADSC9   I,,AUTO                  cn=0,n=4
         2 000024   200005 000002                    ADSC9   SRT,A,AUTO               cn=0,n=2

      546      635    3                 END;

    635  2 000025   200003 054100                    AOS     I,,AUTO
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:137  
         2 000026   200003 236100                    LDQ     I,,AUTO
         2 000027   202005 116100                    CMPQ    N,,AUTO
         2 000030   000020 604400 2                  TMOZ    s:634

      547      636    3              DO I=0 TO N-1;

    636  2 000031   200003 450100                    STZ     I,,AUTO
         2 000032   000110 710000 2                  TRA     s:644+1

      548      637    4                 DO J=I+1 TO N;

    637  2 000033   200003 235100                    LDA     I,,AUTO
         2 000034   000001 035007                    ADLA    1,DL
         2 000035   200004 755100                    STA     J,,AUTO
         2 000036   000104 710000 2                  TRA     s:643+1

      549      638    5                   IF CONTENTS.TITLE.TEXT(SRT(J))<CONTENTS.TITLE.TEXT(SRT(I)) THEN DO;

    638  2 000037   200004 235100                    LDA     J,,AUTO
         2 000040   000001 735000                    ALS     1
         2 000041   000100 101505                    MRL     fill='000'O
         2 000042   200005 000002                    ADSC9   SRT,A,AUTO               cn=0,n=2
         2 000043   202010 000004                    ADSC9   X+2,,AUTO                cn=0,n=4
         2 000044   202010 236100                    LDQ     X+2,,AUTO
         2 000045   000013 402007                    MPY     11,DL
         2 000046   200003 235100                    LDA     I,,AUTO
         2 000047   000001 735000                    ALS     1
         2 000050   000100 101505                    MRL     fill='000'O
         2 000051   200005 000002                    ADSC9   SRT,A,AUTO               cn=0,n=2
         2 000052   202011 000004                    ADSC9   X+3,,AUTO                cn=0,n=4
         2 000053   000000 620006                    EAX0    0,QL
         2 000054   202011 236100                    LDQ     X+3,,AUTO
         2 000055   000013 402007                    MPY     11,DL
         2 000056   000000 635010                    EAA     0,X0
         2 000057   000020 771000                    ARL     16
         2 000060   000002 736000                    QLS     2
         2 000061   000000 470400 xsym               LDP0    DA_CONTENTS$
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:138  
         2 000062   040106 106505                    CMPC    fill='040'O
         2 000063   000001 000052                    ADSC9   1,A,PR0                  cn=0,n=42
         2 000064   000001 000052                    ADSC9   1,Q,PR0                  cn=0,n=42
         2 000065   000103 603000 2                  TRC     s:643

      550      639    5                       X=SRT(I);

    639  2 000066   200003 235100                    LDA     I,,AUTO
         2 000067   000001 735000                    ALS     1
         2 000070   000100 101505                    MRL     fill='000'O
         2 000071   200005 000002                    ADSC9   SRT,A,AUTO               cn=0,n=2
         2 000072   202006 000004                    ADSC9   X,,AUTO                  cn=0,n=4

      551      640    5                       SRT(I)=SRT(J);

    640  2 000073   200004 236100                    LDQ     J,,AUTO
         2 000074   000001 736000                    QLS     1
         2 000075   000105 100506                    MLR     fill='000'O
         2 000076   200005 000002                    ADSC9   SRT,Q,AUTO               cn=0,n=2
         2 000077   200005 000002                    ADSC9   SRT,A,AUTO               cn=0,n=2

      552      641    5                       SRT(J)=X;

    641  2 000100   000106 101500                    MRL     fill='000'O
         2 000101   202006 000004                    ADSC9   X,,AUTO                  cn=0,n=4
         2 000102   200005 000002                    ADSC9   SRT,Q,AUTO               cn=0,n=2

      553      642    5                       END;

      554      643    4                    END;

    643  2 000103   200004 054100                    AOS     J,,AUTO
         2 000104   200004 236100                    LDQ     J,,AUTO
         2 000105   202005 116100                    CMPQ    N,,AUTO
         2 000106   000037 604400 2                  TMOZ    s:638

      555      644    3                 END;
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:139  

    644  2 000107   200003 054100                    AOS     I,,AUTO
         2 000110   200003 236100                    LDQ     I,,AUTO
         2 000111   202005 116100                    CMPQ    N,,AUTO
         2 000112   000033 604000 2                  TMI     s:637

      556      645    3              DO I=0 TO N;

    645  2 000113   200003 450100                    STZ     I,,AUTO
         2 000114   000214 710000 2                  TRA     s:651+1

      557      646    3                 CALL X$WRITE(DA_XFDS,VECTOR(CONTENTSFMT2),
      558      647    3                   VECTOR(CONTENTS.TITLE.TEXT(I)),
      559      648    3                   VECTOR(CONTENTS.TITLE.PAGE(I)),
      560      649    3                   VECTOR(CONTENTS.TITLE.TEXT(SRT(I))),
      561      650    3                   VECTOR(CONTENTS.TITLE.PAGE(SRT(I))));

    650  2 000115   000004 235000 3                  LDA     4
         2 000116   200003 236100                    LDQ     I,,AUTO
         2 000117   202010 755100                    STA     X+2,,AUTO
         2 000120   000013 402003                    MPY     11,DU
         2 000121   000001 036003                    ADLQ    1,DU
         2 000122   000000 036000 xsym               ADLQ    DA_CONTENTS$
         2 000123   202010 235100                    LDA     X+2,,AUTO
         2 000124   202012 757100                    STAQ    X+4,,AUTO
         2 000125   377640 235007                    LDA     130976,DL
         2 000126   200003 236100                    LDQ     I,,AUTO
         2 000127   202014 755100                    STA     X+6,,AUTO
         2 000130   000013 402003                    MPY     11,DU
         2 000131   000005 036000 3                  ADLQ    5
         2 000132   000000 036000 xsym               ADLQ    DA_CONTENTS$
         2 000133   202014 235100                    LDA     X+6,,AUTO
         2 000134   202016 757100                    STAQ    X+8,,AUTO
         2 000135   200003 235100                    LDA     I,,AUTO
         2 000136   000001 735000                    ALS     1
         2 000137   000100 101505                    MRL     fill='000'O
         2 000140   200005 000002                    ADSC9   SRT,A,AUTO               cn=0,n=2
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:140  
         2 000141   202015 000004                    ADSC9   X+7,,AUTO                cn=0,n=4
         2 000142   202015 236100                    LDQ     X+7,,AUTO
         2 000143   000013 402007                    MPY     11,DL
         2 000144   000004 235000 3                  LDA     4
         2 000145   000022 736000                    QLS     18
         2 000146   000001 036003                    ADLQ    1,DU
         2 000147   000000 036000 xsym               ADLQ    DA_CONTENTS$
         2 000150   202022 757100                    STAQ    X+12,,AUTO
         2 000151   200003 235100                    LDA     I,,AUTO
         2 000152   000001 735000                    ALS     1
         2 000153   000100 101505                    MRL     fill='000'O
         2 000154   200005 000002                    ADSC9   SRT,A,AUTO               cn=0,n=2
         2 000155   202020 000004                    ADSC9   X+10,,AUTO               cn=0,n=4
         2 000156   202020 236100                    LDQ     X+10,,AUTO
         2 000157   000013 402007                    MPY     11,DL
         2 000160   377640 235007                    LDA     130976,DL
         2 000161   000022 736000                    QLS     18
         2 000162   000005 036000 3                  ADLQ    5
         2 000163   000000 036000 xsym               ADLQ    DA_CONTENTS$
         2 000164   202026 757100                    STAQ    X+16,,AUTO
         2 000165   202012 237100                    LDAQ    X+4,,AUTO
         2 000166   202024 757100                    STAQ    X+14,,AUTO
         2 000167   202016 237100                    LDAQ    X+8,,AUTO
         2 000170   202030 757100                    STAQ    X+18,,AUTO
         2 000171   202022 237100                    LDAQ    X+12,,AUTO
         2 000172   202032 757100                    STAQ    X+20,,AUTO
         2 000173   202026 237100                    LDAQ    X+16,,AUTO
         2 000174   202034 757100                    STAQ    X+22,,AUTO
         2 000175   202034 630500                    EPPR0   X+22,,AUTO
         2 000176   202043 450500                    STP0    X+29,,AUTO
         2 000177   202032 631500                    EPPR1   X+20,,AUTO
         2 000200   202042 451500                    STP1    X+28,,AUTO
         2 000201   202030 633500                    EPPR3   X+18,,AUTO
         2 000202   202041 453500                    STP3    X+27,,AUTO
         2 000203   202024 634500                    EPPR4   X+14,,AUTO
         2 000204   202040 454500                    STP4    X+26,,AUTO
         2 000205   000006 237000 3                  LDAQ    6
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:141  
         2 000206   202036 757100                    STAQ    X+24,,AUTO
         2 000207   202036 630500                    EPPR0   X+24,,AUTO
         2 000210   000024 631400 xsym               EPPR1   B_VECTNIL+20
         2 000211   000000 701000 xent               TSX1    X$WRITE
         2 000212   000000 011000                    NOP     0

      562      651    3                 END;

    651  2 000213   200003 054100                    AOS     I,,AUTO
         2 000214   200003 236100                    LDQ     I,,AUTO
         2 000215   202005 116100                    CMPQ    N,,AUTO
         2 000216   000115 604400 2                  TMOZ    s:650

      563      652    2              END;

    652  2 000217   000264 710000 2                  TRA     s:660

      564      653    2           ELSE DO;

      565      654    3              DO I=0 TO N;

    654  2 000220   200003 450100                    STZ     I,,AUTO
         2 000221   000261 710000 2                  TRA     s:658+1

      566      655    3                 CALL X$WRITE(DA_XFDS,VECTOR(CONTENTSFMT),

    655  2 000222   000004 235000 3                  LDA     4
         2 000223   200003 236100                    LDQ     I,,AUTO
         2 000224   202010 755100                    STA     X+2,,AUTO
         2 000225   000013 402003                    MPY     11,DU
         2 000226   000001 036003                    ADLQ    1,DU
         2 000227   000000 036000 xsym               ADLQ    DA_CONTENTS$
         2 000230   202010 235100                    LDA     X+2,,AUTO
         2 000231   202012 757100                    STAQ    X+4,,AUTO
         2 000232   377640 235007                    LDA     130976,DL
         2 000233   200003 236100                    LDQ     I,,AUTO
         2 000234   202014 755100                    STA     X+6,,AUTO
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:142  
         2 000235   000013 402003                    MPY     11,DU
         2 000236   000005 036000 3                  ADLQ    5
         2 000237   000000 036000 xsym               ADLQ    DA_CONTENTS$
         2 000240   202014 235100                    LDA     X+6,,AUTO
         2 000241   202020 757100                    STAQ    X+10,,AUTO
         2 000242   202012 237100                    LDAQ    X+4,,AUTO
         2 000243   202016 757100                    STAQ    X+8,,AUTO
         2 000244   202020 237100                    LDAQ    X+10,,AUTO
         2 000245   202022 757100                    STAQ    X+12,,AUTO
         2 000246   202022 630500                    EPPR0   X+12,,AUTO
         2 000247   202027 450500                    STP0    X+17,,AUTO
         2 000250   202016 631500                    EPPR1   X+8,,AUTO
         2 000251   202026 451500                    STP1    X+16,,AUTO
         2 000252   000012 237000 3                  LDAQ    10
         2 000253   202024 757100                    STAQ    X+14,,AUTO
         2 000254   202024 630500                    EPPR0   X+14,,AUTO
         2 000255   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 000256   000000 701000 xent               TSX1    X$WRITE
         2 000257   000000 011000                    NOP     0

      567      656    3                   VECTOR(CONTENTS.TITLE.TEXT(I)),
      568      657    3                   VECTOR(CONTENTS.TITLE.PAGE(I)));
      569      658    3                 END;

    658  2 000260   200003 054100                    AOS     I,,AUTO
         2 000261   200003 236100                    LDQ     I,,AUTO
         2 000262   202005 116100                    CMPQ    N,,AUTO
         2 000263   000222 604400 2                  TMOZ    s:655

      570      659    2              END;

      571      660    1           CONTENTS.N=0;

    660  2 000264   000000 470400 xsym               LDP0    DA_CONTENTS$
         2 000265   000000 450100                    STZ     0,,PR0

      572      661    1           RETURN;
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:143  

    661  2 000266   000000 702200 xent               TSX2  ! X66_ARET
      573      662    1   END DAF$CONTENTS;

PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:144  
--  Include file information  --

   XU_FORMAT_C.:E05TOU  is referenced.
   DA_FORMAT_R.:E05TOU  cannot be made into a system file and is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   XUF_ENTRY.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DAF$CONTENTS.
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:145  

 **** Variables and constants ****

  ****  Section 000  Data  DAF$CONTENTS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(288)   r     1 TBLOFCNTNTS               10-0-0/c STRC(162)   r     1 TBLOFCNTNTSTX00

  ****  Section 001 RoData DAF$CONTENTS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(10)    r     1 CONTENTSFMT                3-0-0/c CHAR(23)    r     1 CONTENTSFMT2

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w SBIN        r     1 I                          4-0-0/w SBIN        r     1 J
  2005-0-0/w SBIN        r     1 N                          5-0-0/h UBIN(18)    r     1 SRT(0:2047)
  2006-0-0/w SBIN        r     1 X

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 DA_CONTENTS$               0-0-0/w STRC(1080)  r     1 DA_XFDS

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:146  
     0-0-0/w STRC(432)   r     1 CONTENTS


   Procedure DAF$CONTENTS requires 183 words for executable code.
   Procedure DAF$CONTENTS requires 1060 words of local(AUTO) storage.

    No errors detected in file DAF$FORMAT.:E05TSI    .
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:147  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:148  
          MINI XREF LISTING

CONTENTS.N
       617**DCL       631>>ASSIGN    660<<ASSIGN
CONTENTS.TITLE.PAGE
       620**DCL       650--CALL      650--CALL      655--CALL
CONTENTS.TITLE.TEXT
       619**DCL       638>>IF        638>>IF        650--CALL      650--CALL      655--CALL
CONTENTSFMT
       627**DCL       655--CALL
CONTENTSFMT2
       628**DCL       650--CALL
DAF$INIT
         8**DCL-ENT   630--CALL
DA_CONTENTS$
       270**DCL       616--IMP-PTR   631>>ASSIGN    638>>IF        638>>IF        650>>CALL      650>>CALL
       650>>CALL      650>>CALL      655>>CALL      655>>CALL      660>>ASSIGN
DA_FMTSEG.P
       269**DCL       269--REDEF
DA_XFDS
       516**DCL       650<>CALL      655<>CALL
I
       622**DCL       633<<DOINDEX   634>>ASSIGN    634>>ASSIGN    636<<DOINDEX   637>>DOINDEX   638>>IF
       639>>ASSIGN    640>>ASSIGN    645<<DOINDEX   650>>CALL      650>>CALL      650>>CALL      650>>CALL
       654<<DOINDEX   655>>CALL      655>>CALL
J
       623**DCL       637<<DOINDEX   638>>IF        640>>ASSIGN    641>>ASSIGN
N
       625**DCL       631<<ASSIGN    633>>DOINDEX   636>>DOINDEX   637>>DOINDEX   645>>DOINDEX   654>>DOINDEX
SRT
       624**DCL       634<<ASSIGN    638>>IF        638>>IF        639>>ASSIGN    640<<ASSIGN    640>>ASSIGN
       641<<ASSIGN    650>>CALL      650>>CALL
TBLOFCNTNTS
       453**DCL       630<>CALL
PL6.E3A0      #006=DAF$CONTENTS File=DAF$FORMAT.:E05TSI                          TUE 07/29/97 12:51 Page:149  
TBLOFCNTNTS.PAGEWID.N
       469**DCL       632>>IF
TBLOFCNTNTSTX00
       496**DCL       483--DCLINIT
X
       626**DCL       639<<ASSIGN    641>>ASSIGN
X$WRITE
        15**DCL-ENT   650--CALL      655--CALL

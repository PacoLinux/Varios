
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:1    
        1        1        /*M*     ZIM$ABORT - Abort routine */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        ZIM$ABORT: PROC
        8        8         /* USE($PR5 FOR GLOBAL$) */
        9        9               AVOID($PR5,$PR6,$PR7);
       10       10    1   DCL B$TCB$ PTR SYMREF;
       11       11    1   DCL PSR$ PTR SYMREF;
       12       12    1   DCL VLP$ PTR SYMREF;
       13       13    1   DCL AUTOSEG$ PTR SYMREF;
       14       14    1   DCL ZI_FPTCHKR_DUMP BIT(1) SYMREF;
       15       15    1   DCL ZI_TEST BIT(1) SYMREF;
       16       16    1   DCL M$DO DCB;
       17       17    1   DCL J SBIN;
       18       18    1   DCL 1 P BASED,
       19       19    1         2 OFFSET UBIN(18) UNAL,
       20       20    1         2 * UBIN(6) UNAL,
       21       21    1         2 SEGID UBIN(12) UNAL;
       22       22    1   DCL SIZE UBIN(36);
       23       23    1   DCL PBOUND UBIN(36);
       24       24    1   DCL ZIB$SEGSIZE ENTRY(2);
       25       25    1   DCL ZID$MOVN ENTRY;
       26       26    1   DCL ZIM$ERRMSG ENTRY(1);
       27       27    1   DCL ZID$DUMP ENTRY (3);
       28       28    1   DCL 1 SCREECHMSG CHAR(27) INIT('0IDS SCREECH.  DUMP FILE IS') CONSTANT;
       29       29    1   DCL 1 IDTCB CONSTANT,
       30       30    1         2 * UBIN(9) UNAL INIT(31),
       31       31    1         2 * CHAR(31) INIT('0 IDS DUMP - Task Control Block');
       32       32    1   DCL 1 IDAUTO CONSTANT,
       33       33    1         2 * UBIN(9) UNAL INIT(36),
       34       34    1         2 * CHAR(36) INIT('0 IDS DUMP - Automatic Storage stack');
       35       35    1   DCL 1 IDGLBL CONSTANT,
       36       36    1         2 * UBIN(9) UNAL INIT(28),
       37       37    1         2 * CHAR(28) INIT('0 IDS DUMP - Global Context');
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:2    
       38       38    1   DCL 1 IDBUFS CONSTANT,
       39       39    1         2 * UBIN(9) UNAL INIT(32),
       40       40    1         2 * CHAR(32) INIT('0 IDS DUMP - Global Buffer Pool');
       41       41    1   DCL 1 IDVLP CONSTANT,
       42       42    1         2 * UBIN(9) UNAL INIT(38),
       43       43    1         2 * CHAR(38) INIT('0 IDS DUMP - Vector Located Parameters');
       44       44    1   DCL 1 IDRVA CONSTANT,
       45       45    1         2 * UBIN(9) UNAL INIT(29),
       46       46    1         2 * CHAR(29) INIT('0 IDS DUMP - Reference Vector');
       47       47    1   DCL 1 IDUPT CONSTANT,
       48       48    1         2 * UBIN(9) UNAL INIT(32),
       49       49    1         2 * CHAR(32) INIT('0 IDS DUMP - Use Procedure Table');
       50       50    1   DCL 1 DUMPID CONSTANT,
       51       51    1         2 * UBIN(9) UNAL INIT(70),
       52       52    1         2 * CHAR(39) INIT('0 IDS DUMP -      frame of sub-schema:');
       53       53    1   DCL 1 TTLFRM,
       54       54    1         2 * CHAR(14) UNAL,
       55       55    1         2 CONTENT CHAR(4) UNAL,
       56       56    1         2 * CHAR(22) UNAL,
       57       57    1         2 SSNAME CHAR(30) UNAL;
       58       58    1   DCL OCTDIG(0:11) UBIN(3) BASED UNAL;
       59       59    1   DCL ERROR CHAR(12) CONSTANT INIT('0DBCS error ');
       60       60    1   DCL ULOC CHAR(12) CONSTANT INIT('aCall Loc = ');
       61       61        %INCLUDE ZI_ERRORS_C;
       62      387        %INCLUDE CP_6;
       63      468        %INCLUDE CP_6_SUBS;
       64     1008         %FPT_WRITE(FPTN=FPT$WRITE,STCLASS=BASED);
       65     1039         %FPT_ERRMSG(FPTN=FPT$ERRMSG,STCLASS=BASED);
       66     1066         %FPT_SCREECH(FPTN=FPT$SCREECH,STCLASS=BASED);
       67     1080        %B$TCB;
       68     1083        %B$XCON;
       69     1093        %INCLUDE ZI$GLOBAL;
       70     1579        %INCLUDE ZI$USER;
       71     1724         %IA;
       72     1773         %RVA;
       73     1786         %UPT;
       74     1816        %GLOBALS;
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:3    
       75     2124        %EJECT;
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:4    
       76     2125    1       IF GLOBAL.SHANY>0 AND
       77     2126    1          (GLOBAL.RET.ERROR#=ERR#PR#E1 OR
       78     2127    1          GLOBAL.RET.ERROR#=ERR#PR#E3 OR
       79     2128    1          GLOBAL.RET.ERROR#=ERR#DL#E2 OR
       80     2129    1          GLOBAL.RET.ERROR#=ERR#MR#E5 OR
       81     2130    1          GLOBAL.RET.ERROR#=ERR#CN#E1 OR
       82     2131    1          GLOBAL.RET.ERROR#=ERR#DS#E1) THEN
       83     2132    1           GLOBAL.RET.ERROR#=ERR#IO#SHANY;
       84     2133    2       IF GLOBAL.RET.ERROR#~=ERR#X#UNEX THEN DO;
       85     2134    2           GLOBAL.WRITE$->FPT$WRITE.V.DCB#=DCBNUM(M$DO);
       86     2135    2           GLOBAL.PRINTBUF.ERR.TITLE=ERROR;
       87     2136    2           GLOBAL.PRINTBUF.ERR.VAR=' ';
       88     2137    2           CALL BINCHAR(GLOBAL.PRINTBUF.ERR.V1.DBST,GLOBAL.RET.ERROR#);
       89     2138    2           CALL M$WRITE(GLOBAL.WRITE$->FPT$WRITE) ALTRET(ERRDUMP);
       90     2139    2           END;
       91     2140    1       CALL ZIM$ERRMSG(GLOBAL.RET.ERROR#);
       92     2141    2       IF GLOBAL.RET.SYSERR#~='0'B THEN DO;
       93     2142        /*           Save more valid error and print */
       94     2143    2           GLOBAL.PARAN.IDSERR=GLOBAL.RET.SYSERR#;
       95     2144    2           GLOBAL.ERRMSG$->FPT$ERRMSG.V.DCB#=GLOBAL.RET.DCB#;
       96     2145    2           CALL M$ERRMSG(GLOBAL.ERRMSG$->FPT$ERRMSG) ALTRET(ERRDUMP);
       97     2146    2           END;
       98     2147    1       IF GLOBAL.PENDING.XCON THEN
       99     2148    1           GOTO ERRDUMP;
      100     2149    1       CALL ZID$MOVN;
      101     2150    1       GLOBAL.PRINTBUF.ERRMSG = ULOC;
      102     2151    2       DO J = 0 TO 5;
      103     2152    2           GLOBAL.PRINTBUF.ERR.VCHAR(J) = BINASC(ADDR(IA.UCALL_LOC)->OCTDIG(J)+48);
      104     2153    2           END;
      105     2154    1       CALL M$WRITE(GLOBAL.WRITE$->FPT$WRITE) ALTRET(ERRDUMP);
      106     2155    1   ERRDUMP:
      107     2156    1       IF GLOBAL.RET.ERROR#<FTL#ERR#INCR AND
      108     2157    1          NOT GLOBAL.PENDING.ROLL AND
      109     2158    1          NOT (GLOBAL.RET.ERROR# = %ERR#FPT#BADVEC AND
      110     2159    1          ZI_FPTCHKR_DUMP) THEN
      111     2160    1           GOTO RET;
      112     2161    2       IF ~ZI_TEST THEN DO;
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:5    
      113     2162    2           CALL M$SCREECH(GLOBAL.SCREECH$->FPT$SCREECH) ALTRET(MYDUMP);
      114     2163    2           GLOBAL.PRINTBUF.BUFFER=SCREECHMSG;
      115     2164    2           CALL INSERT(GLOBAL.PRINTBUF.BUFFER,SIZEC(SCREECHMSG)+1,
      116     2165    2              GLOBAL.FILENAME.LENGTH,GLOBAL.FILENAME.TEXT);
      117     2166    2           CALL M$WRITE(GLOBAL.WRITE$->FPT$WRITE) ALTRET(RET);
      118     2167    2           GOTO RET;
      119     2168    2           END;
      120     2169    1   MYDUMP: ;
      121     2170    1       CALL ZID$DUMP(B$TCB$,
      122     2171    1          POFFW(B$TCB$->B$TCB.STK$,B$TCB$)+B$TCB$->B$TCB.CURRSZ,IDTCB);
      123     2172    1       CALL ZIB$SEGSIZE(AUTOSEG$,SIZE);
      124     2173    1       CALL ZID$DUMP(AUTOSEG$,SIZE,IDAUTO);
      125     2174    1       CALL ZIB$SEGSIZE(PSR$,PBOUND);
      126     2175    1       IF PBOUND~=0 THEN
      127     2176    2       DO;
      128     2177    2           PBOUND=PBOUND/2-1; /* Bound on # of Parameters */
      129     2178    2           IF ADDR(VLP$)->P.SEGID<=PBOUND THEN
      130     2179    3           DO;
      131     2180    3               CALL ZIB$SEGSIZE(VLP$,SIZE);
      132     2181    3               CALL ZID$DUMP(VLP$,SIZE,IDVLP);
      133     2182    3               END;
      134     2183    2           IF ADDR(RVA$)->P.SEGID<=PBOUND THEN
      135     2184    3           DO;
      136     2185    3               CALL ZIB$SEGSIZE(RVA$,SIZE);
      137     2186    3               CALL ZID$DUMP(RVA$,SIZE,IDRVA);
      138     2187    3               END;
      139     2188    2           IF ADDR(UPT$)->P.SEGID<=PBOUND THEN
      140     2189    3           DO;
      141     2190    3               CALL ZIB$SEGSIZE(UPT$,SIZE);
      142     2191    3               CALL ZID$DUMP(UPT$,SIZE,IDUPT);
      143     2192    3               END;
      144     2193    2           END;
      145     2194    1       CALL ZID$DUMP(GLOBAL$,POFFW(GLOBAL.BCB.LASTP$,GLOBAL$)+1024,IDGLBL);
      146     2195    2       DO J = 1 TO DB#MAX;
      147     2196    2           IF ( GLOBAL.DB.SSS$(J) ~= ADDR(NIL) )
      148     2197    3           THEN DO;
      149     2198    3               TTLFRM = DUMPID;
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:6    
      150     2199    3               TTLFRM.SSNAME = GLOBAL.DB.SSNAME(J);
      151     2200    3               TTLFRM.CONTENT='DBCB';
      152     2201    3               CALL ZIB$SEGSIZE(GLOBAL.DB.DBCB$(J),SIZE);
      153     2202    3               CALL ZID$DUMP(GLOBAL.DB.DBCB$(J),SIZE,TTLFRM);
      154     2203    3               TTLFRM.CONTENT = ' SSS';
      155     2204    3               CALL ZIB$SEGSIZE(GLOBAL.DB.SSS$(J),SIZE);
      156     2205    3               CALL ZID$DUMP(GLOBAL.DB.SSS$(J),SIZE,TTLFRM);
      157     2206    3               END;
      158     2207    2           END;
      159     2208    1       CALL ZID$DUMP(PINCRW(GLOBAL.BCB.LASTP$,1024),
      160     2209    1          GLOBAL.BCB.COUNT*1024,IDBUFS);
      161     2210    1   RET: RETURN;
      162     2211    1   END ZIM$ABORT;
      163     2212        %EOD;

PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:7    
--  Include file information  --

   ZI$USER.:ZIC0TOU  is referenced.
   ZI$GLOBAL.:ZIC0TOU  is referenced.
   CP_6_SUBS.:LIB_E05  is referenced.
   CP_6.:LIB_E05  cannot be made into a system file and is referenced.
   ZI_ERRORS_C.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure ZIM$ABORT.

   Procedure ZIM$ABORT requires 374 words for executable code.
   Procedure ZIM$ABORT requires 32 words of local(AUTO) storage.

PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:8    

 Object Unit name= ZIM$ABORT                                  File name= ZIM$ABORT.:ZIC0TOU
 UTS= SEP 05 '97 12:34:06.32 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$DO
    1  RoData even  UTS     87    127  ZIM$ABORT
    2   DCB   even  none     0      0  M$UC
    3   Proc  even  none   374    566  ZIM$ABORT
    4  RoData even  none    21     25  ZIM$ABORT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes            yes      XStd       0  ZIM$ABORT

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           XStd      1 ZIM$ERRMSG
         yes           XStd      3 ZID$DUMP
         yes           XStd      2 ZIB$SEGSIZE
         yes           XStd      0 ZID$MOVN
                       nStd      0 X66_AUTO_0
                       nStd      0 X66_ARET
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:9    

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     B$TCB$                                PSR$                                  VLP$
     AUTOSEG$                              ZI_FPTCHKR_DUMP                       ZI_TEST
     M$DO                                  M$UC                                  IA$
     RVA$                                  UPT$                             r    GLOBAL$

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:10   


        1        1        /*M*     ZIM$ABORT - Abort routine */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        ZIM$ABORT: PROC

      7  3 000000   000000 700200 xent  ZIM$ABORT    TSX0  ! X66_AUTO_0
         3 000001   000040 000000                    ZERO    32,0

        8        8         /* USE($PR5 FOR GLOBAL$) */
        9        9               AVOID($PR5,$PR6,$PR7);
       10       10    1   DCL B$TCB$ PTR SYMREF;
       11       11    1   DCL PSR$ PTR SYMREF;
       12       12    1   DCL VLP$ PTR SYMREF;
       13       13    1   DCL AUTOSEG$ PTR SYMREF;
       14       14    1   DCL ZI_FPTCHKR_DUMP BIT(1) SYMREF;
       15       15    1   DCL ZI_TEST BIT(1) SYMREF;
       16       16    1   DCL M$DO DCB;
       17       17    1   DCL J SBIN;
       18       18    1   DCL 1 P BASED,
       19       19    1         2 OFFSET UBIN(18) UNAL,
       20       20    1         2 * UBIN(6) UNAL,
       21       21    1         2 SEGID UBIN(12) UNAL;
       22       22    1   DCL SIZE UBIN(36);
       23       23    1   DCL PBOUND UBIN(36);
       24       24    1   DCL ZIB$SEGSIZE ENTRY(2);
       25       25    1   DCL ZID$MOVN ENTRY;
       26       26    1   DCL ZIM$ERRMSG ENTRY(1);
       27       27    1   DCL ZID$DUMP ENTRY (3);
       28       28    1   DCL 1 SCREECHMSG CHAR(27) INIT('0IDS SCREECH.  DUMP FILE IS') CONSTANT;
       29       29    1   DCL 1 IDTCB CONSTANT,
       30       30    1         2 * UBIN(9) UNAL INIT(31),
       31       31    1         2 * CHAR(31) INIT('0 IDS DUMP - Task Control Block');
       32       32    1   DCL 1 IDAUTO CONSTANT,
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:11   
       33       33    1         2 * UBIN(9) UNAL INIT(36),
       34       34    1         2 * CHAR(36) INIT('0 IDS DUMP - Automatic Storage stack');
       35       35    1   DCL 1 IDGLBL CONSTANT,
       36       36    1         2 * UBIN(9) UNAL INIT(28),
       37       37    1         2 * CHAR(28) INIT('0 IDS DUMP - Global Context');
       38       38    1   DCL 1 IDBUFS CONSTANT,
       39       39    1         2 * UBIN(9) UNAL INIT(32),
       40       40    1         2 * CHAR(32) INIT('0 IDS DUMP - Global Buffer Pool');
       41       41    1   DCL 1 IDVLP CONSTANT,
       42       42    1         2 * UBIN(9) UNAL INIT(38),
       43       43    1         2 * CHAR(38) INIT('0 IDS DUMP - Vector Located Parameters');
       44       44    1   DCL 1 IDRVA CONSTANT,
       45       45    1         2 * UBIN(9) UNAL INIT(29),
       46       46    1         2 * CHAR(29) INIT('0 IDS DUMP - Reference Vector');
       47       47    1   DCL 1 IDUPT CONSTANT,
       48       48    1         2 * UBIN(9) UNAL INIT(32),
       49       49    1         2 * CHAR(32) INIT('0 IDS DUMP - Use Procedure Table');
       50       50    1   DCL 1 DUMPID CONSTANT,
       51       51    1         2 * UBIN(9) UNAL INIT(70),
       52       52    1         2 * CHAR(39) INIT('0 IDS DUMP -      frame of sub-schema:');
       53       53    1   DCL 1 TTLFRM,
       54       54    1         2 * CHAR(14) UNAL,
       55       55    1         2 CONTENT CHAR(4) UNAL,
       56       56    1         2 * CHAR(22) UNAL,
       57       57    1         2 SSNAME CHAR(30) UNAL;
       58       58    1   DCL OCTDIG(0:11) UBIN(3) BASED UNAL;
       59       59    1   DCL ERROR CHAR(12) CONSTANT INIT('0DBCS error ');
       60       60    1   DCL ULOC CHAR(12) CONSTANT INIT('aCall Loc = ');
       61       61        %INCLUDE ZI_ERRORS_C;
       62      387        %INCLUDE CP_6;
       63      468        %INCLUDE CP_6_SUBS;
       64     1008         %FPT_WRITE(FPTN=FPT$WRITE,STCLASS=BASED);
       65     1039         %FPT_ERRMSG(FPTN=FPT$ERRMSG,STCLASS=BASED);
       66     1066         %FPT_SCREECH(FPTN=FPT$SCREECH,STCLASS=BASED);
       67     1080        %B$TCB;
       68     1083        %B$XCON;
       69     1093        %INCLUDE ZI$GLOBAL;
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:12   
       70     1579        %INCLUDE ZI$USER;
       71     1724         %IA;
       72     1773         %RVA;
       73     1786         %UPT;
       74     1816        %GLOBALS;
       75     2124        %EJECT;
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:13   
       76     2125    1       IF GLOBAL.SHANY>0 AND

   2125  3 000002   000000 470400 xsym               LDP0    GLOBAL$
         3 000003   002615 235100                    LDA     1421,,PR0
         3 000004   000024 600000 3                  TZE     s:2133
         3 000005   000006 235100                    LDA     6,,PR0
         3 000006   303267 115007                    CMPA    100023,DL
         3 000007   000022 600000 3                  TZE     s:2132
         3 000010   303270 115007                    CMPA    100024,DL
         3 000011   000022 600000 3                  TZE     s:2132
         3 000012   303310 115007                    CMPA    100040,DL
         3 000013   000022 600000 3                  TZE     s:2132
         3 000014   303313 115007                    CMPA    100043,DL
         3 000015   000022 600000 3                  TZE     s:2132
         3 000016   303315 115007                    CMPA    100045,DL
         3 000017   000022 600000 3                  TZE     s:2132
         3 000020   303316 115007                    CMPA    100046,DL
         3 000021   000024 601000 3                  TNZ     s:2133

       77     2126    1          (GLOBAL.RET.ERROR#=ERR#PR#E1 OR
       78     2127    1          GLOBAL.RET.ERROR#=ERR#PR#E3 OR
       79     2128    1          GLOBAL.RET.ERROR#=ERR#DL#E2 OR
       80     2129    1          GLOBAL.RET.ERROR#=ERR#MR#E5 OR
       81     2130    1          GLOBAL.RET.ERROR#=ERR#CN#E1 OR
       82     2131    1          GLOBAL.RET.ERROR#=ERR#DS#E1) THEN
       83     2132    1           GLOBAL.RET.ERROR#=ERR#IO#SHANY;

   2132  3 000022   210747 236007                    LDQ     70119,DL
         3 000023   000006 756100                    STQ     6,,PR0

       84     2133    2       IF GLOBAL.RET.ERROR#~=ERR#X#UNEX THEN DO;

   2133  3 000024   000006 235100                    LDA     6,,PR0
         3 000025   210664 115007                    CMPA    70068,DL
         3 000026   000054 600000 3                  TZE     s:2140

       85     2134    2           GLOBAL.WRITE$->FPT$WRITE.V.DCB#=DCBNUM(M$DO);
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:14   

   2134  3 000027   005113 471500                    LDP1    2635,,PR0
         3 000030   000000 236007 xsym               LDQ     M$DO,DL
         3 000031   000000 620006                    EAX0    0,QL
         3 000032   100010 740100                    STX0    8,,PR1

       86     2135    2           GLOBAL.PRINTBUF.ERR.TITLE=ERROR;

   2135  3 000033   040100 100400                    MLR     fill='040'O
         3 000034   000117 000014 1                  ADSC9   ERROR                    cn=0,n=12
         3 000035   005025 000014                    ADSC9   2581,,PR0                cn=0,n=12

       87     2136    2           GLOBAL.PRINTBUF.ERR.VAR=' ';

   2136  3 000036   040100 100400                    MLR     fill='040'O
         3 000037   000000 000001 4                  ADSC9   0                        cn=0,n=1
         3 000040   005030 000170                    ADSC9   2584,,PR0                cn=0,n=120

       88     2137    2           CALL BINCHAR(GLOBAL.PRINTBUF.ERR.V1.DBST,GLOBAL.RET.ERROR#);

   2137  3 000041   000006 235100                    LDA     6,,PR0
         3 000042   000044 773000                    LRL     36
         3 000043   200030 757100                    STAQ    TTLFRM+18,,AUTO
         3 000044   000100 301500                    BTD
         3 000045   200030 000010                    NDSC9   TTLFRM+18,,AUTO          cn=0,s=lsgnf,sf=0,n=8
         3 000046   005030 030007                    NDSC9   2584,,PR0                cn=0,s=nosgn,sf=0,n=7

       89     2138    2           CALL M$WRITE(GLOBAL.WRITE$->FPT$WRITE) ALTRET(ERRDUMP);

   2138  3 000047   005113 471500                    LDP1    2635,,PR0
         3 000050   100000 630500                    EPPR0   0,,PR1
         3 000051   440001 713400                    CLIMB   alt,write
         3 000052   401400 401760                    pmme    nvectors=4
         3 000053   000147 702000 3                  TSX2    ERRDUMP

       90     2139    2           END;

PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:15   
       91     2140    1       CALL ZIM$ERRMSG(GLOBAL.RET.ERROR#);

   2140  3 000054   000000 236000 xsym               LDQ     GLOBAL$
         3 000055   000006 036003                    ADLQ    6,DU
         3 000056   200030 756100                    STQ     TTLFRM+18,,AUTO
         3 000057   200030 630500                    EPPR0   TTLFRM+18,,AUTO
         3 000060   000001 631400 4                  EPPR1   1
         3 000061   000000 701000 xent               TSX1    ZIM$ERRMSG
         3 000062   000000 011000                    NOP     0

       92     2141    2       IF GLOBAL.RET.SYSERR#~='0'B THEN DO;

   2141  3 000063   000000 470400 xsym               LDP0    GLOBAL$
         3 000064   000007 235100                    LDA     7,,PR0
         3 000065   000100 600000 3                  TZE     s:2147

       93     2142        /*           Save more valid error and print */
       94     2143    2           GLOBAL.PARAN.IDSERR=GLOBAL.RET.SYSERR#;

   2143  3 000066   000007 236100                    LDQ     7,,PR0
         3 000067   000074 756100                    STQ     60,,PR0

       95     2144    2           GLOBAL.ERRMSG$->FPT$ERRMSG.V.DCB#=GLOBAL.RET.DCB#;

   2144  3 000070   005122 471500                    LDP1    2642,,PR0
         3 000071   000014 220100                    LDX0    12,,PR0
         3 000072   100026 740100                    STX0    22,,PR1

       96     2145    2           CALL M$ERRMSG(GLOBAL.ERRMSG$->FPT$ERRMSG) ALTRET(ERRDUMP);

   2145  3 000073   005122 471500                    LDP1    2642,,PR0
         3 000074   100000 630500                    EPPR0   0,,PR1
         3 000075   420000 713400                    CLIMB   alt,+8192
         3 000076   405000 401760                    pmme    nvectors=11
         3 000077   000147 702000 3                  TSX2    ERRDUMP

       97     2146    2           END;
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:16   

       98     2147    1       IF GLOBAL.PENDING.XCON THEN

   2147  3 000100   000000 470400 xsym               LDP0    GLOBAL$
         3 000101   000017 236100                    LDQ     15,,PR0
         3 000102   004000 316003                    CANQ    2048,DU
         3 000103   000147 601000 3                  TNZ     ERRDUMP

       99     2148    1           GOTO ERRDUMP;
      100     2149    1       CALL ZID$MOVN;

   2149  3 000104   000002 631400 4                  EPPR1   2
         3 000105   000000 701000 xent               TSX1    ZID$MOVN
         3 000106   000000 011000                    NOP     0

      101     2150    1       GLOBAL.PRINTBUF.ERRMSG = ULOC;

   2150  3 000107   000000 470400 xsym               LDP0    GLOBAL$
         3 000110   040100 100400                    MLR     fill='040'O
         3 000111   000122 000014 1                  ADSC9   ULOC                     cn=0,n=12
         3 000112   005025 000204                    ADSC9   2581,,PR0                cn=0,n=132

      102     2151    2       DO J = 0 TO 5;

   2151  3 000113   200003 450100                    STZ     J,,AUTO

      103     2152    2           GLOBAL.PRINTBUF.ERR.VCHAR(J) = BINASC(ADDR(IA.UCALL_LOC)->OCTDIG(J)+48);

   2152  3 000114   200003 236100                    LDQ     J,,AUTO
         3 000115   000003 402007                    MPY     3,DL
         3 000116   000000 116003                    CMPQ    0,DU
         3 000117   000121 605000 3                  TPL     s:2152+5
         3 000120   000044 036003                    ADLQ    36,DU
         3 000121   000000 470400 xsym               LDP0    IA$
         3 000122   003100 061506                    CSR     bolr='003'O
         3 000123   000006 400003                    BDSC    6,Q,PR0                  by=2,bit=0,n=3
         3 000124   200030 000044                    BDSC    TTLFRM+18,,AUTO          by=0,bit=0,n=36
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:17   
         3 000125   200030 236100                    LDQ     TTLFRM+18,,AUTO
         3 000126   000060 036007                    ADLQ    48,DL
         3 000127   000033 736000                    QLS     27
         3 000130   000003 276000 4                  ORQ     3
         3 000131   200031 756100                    STQ     TTLFRM+19,,AUTO
         3 000132   000000 471400 xsym               LDP1    GLOBAL$
         3 000133   200003 235100                    LDA     J,,AUTO
         3 000134   040105 100500                    MLR     fill='040'O
         3 000135   200031 000004                    ADSC9   TTLFRM+19,,AUTO          cn=0,n=4
         3 000136   105030 000001                    ADSC9   2584,A,PR1               cn=0,n=1

      104     2153    2           END;

   2153  3 000137   200003 054100                    AOS     J,,AUTO
         3 000140   200003 235100                    LDA     J,,AUTO
         3 000141   000005 115007                    CMPA    5,DL
         3 000142   000114 604400 3                  TMOZ    s:2152

      105     2154    1       CALL M$WRITE(GLOBAL.WRITE$->FPT$WRITE) ALTRET(ERRDUMP);

   2154  3 000143   105113 470500                    LDP0    2635,,PR1
         3 000144   440001 713400                    CLIMB   alt,write
         3 000145   401400 401760                    pmme    nvectors=4
         3 000146   000147 702000 3                  TSX2    ERRDUMP

      106     2155    1   ERRDUMP:
      107     2156    1       IF GLOBAL.RET.ERROR#<FTL#ERR#INCR AND

   2156  3 000147   000000 470400 xsym  ERRDUMP      LDP0    GLOBAL$
         3 000150   000006 235100                    LDA     6,,PR0
         3 000151   303240 115007                    CMPA    100000,DL
         3 000152   000161 603000 3                  TRC     s:2161
         3 000153   000017 430100                    FSZN    15,,PR0
         3 000154   000161 604000 3                  TMI     s:2161
         3 000155   210722 115007                    CMPA    70098,DL
         3 000156   000565 601000 3                  TNZ     RET
         3 000157   000000 234000 xsym               SZN     ZI_FPTCHKR_DUMP
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:18   
         3 000160   000565 605000 3                  TPL     RET

      108     2157    1          NOT GLOBAL.PENDING.ROLL AND
      109     2158    1          NOT (GLOBAL.RET.ERROR# = %ERR#FPT#BADVEC AND
      110     2159    1          ZI_FPTCHKR_DUMP) THEN
      111     2160    1           GOTO RET;
      112     2161    2       IF ~ZI_TEST THEN DO;

   2161  3 000161   000000 236000 xsym               LDQ     ZI_TEST
         3 000162   400000 376003                    ANQ     -131072,DU
         3 000163   400000 676003                    ERQ     -131072,DU
         3 000164   000212 600000 3                  TZE     MYDUMP

      113     2162    2           CALL M$SCREECH(GLOBAL.SCREECH$->FPT$SCREECH) ALTRET(MYDUMP);

   2162  3 000165   005130 471500                    LDP1    2648,,PR0
         3 000166   100000 630500                    EPPR0   0,,PR1
         3 000167   400013 713400                    CLIMB   alt,+11
         3 000170   401000 401760                    pmme    nvectors=3
         3 000171   000212 702000 3                  TSX2    MYDUMP

      114     2163    2           GLOBAL.PRINTBUF.BUFFER=SCREECHMSG;

   2163  3 000172   000000 470400 xsym               LDP0    GLOBAL$
         3 000173   040100 100400                    MLR     fill='040'O
         3 000174   000000 000033 1                  ADSC9   SCREECHMSG               cn=0,n=27
         3 000175   005025 000204                    ADSC9   2581,,PR0                cn=0,n=132

      115     2164    2           CALL INSERT(GLOBAL.PRINTBUF.BUFFER,SIZEC(SCREECHMSG)+1,

   2164  3 000176   004724 236100                    LDQ     2516,,PR0
         3 000177   000033 772000                    QRL     27
         3 000200   000000 620006                    EAX0    0,QL
         3 000201   040140 100500                    MLR     fill='040'O
         3 000202   004724 200037                    ADSC9   2516,,PR0                cn=1,n=31
         3 000203   005034 000010                    ADSC9   2588,,PR0                cn=0,n=*X0

PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:19   
      116     2165    2              GLOBAL.FILENAME.LENGTH,GLOBAL.FILENAME.TEXT);
      117     2166    2           CALL M$WRITE(GLOBAL.WRITE$->FPT$WRITE) ALTRET(RET);

   2166  3 000204   005113 471500                    LDP1    2635,,PR0
         3 000205   100000 630500                    EPPR0   0,,PR1
         3 000206   440001 713400                    CLIMB   alt,write
         3 000207   401400 401760                    pmme    nvectors=4
         3 000210   000565 702000 3                  TSX2    RET

      118     2167    2           GOTO RET;

   2167  3 000211   000565 710000 3                  TRA     RET

   2165  3 000212                       MYDUMP       null
      119     2168    2           END;
      120     2169    1   MYDUMP: ;
      121     2170    1       CALL ZID$DUMP(B$TCB$,

   2170  3 000212   000000 235000 xsym               LDA     B$TCB$
         3 000213   000022 771000                    ARL     18
         3 000214   200030 755100                    STA     TTLFRM+18,,AUTO
         3 000215   000000 470400 xsym               LDP0    B$TCB$
         3 000216   000001 236100                    LDQ     1,,PR0
         3 000217   000022 772000                    QRL     18
         3 000220   200030 136100                    SBLQ    TTLFRM+18,,AUTO
         3 000221   200031 756100                    STQ     TTLFRM+19,,AUTO
         3 000222   000002 236100                    LDQ     2,,PR0
         3 000223   777777 376007                    ANQ     -1,DL
         3 000224   200032 756100                    STQ     TTLFRM+20,,AUTO
         3 000225   200031 236100                    LDQ     TTLFRM+19,,AUTO
         3 000226   200032 036100                    ADLQ    TTLFRM+20,,AUTO
         3 000227   200033 756100                    STQ     TTLFRM+21,,AUTO
         3 000230   000005 236000 4                  LDQ     5
         3 000231   200036 756100                    STQ     TTLFRM+24,,AUTO
         3 000232   200033 631500                    EPPR1   TTLFRM+21,,AUTO
         3 000233   200035 451500                    STP1    TTLFRM+23,,AUTO
         3 000234   000006 236000 4                  LDQ     6
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:20   
         3 000235   200034 756100                    STQ     TTLFRM+22,,AUTO
         3 000236   200034 630500                    EPPR0   TTLFRM+22,,AUTO
         3 000237   000004 631400 4                  EPPR1   4
         3 000240   000000 701000 xent               TSX1    ZID$DUMP
         3 000241   000000 011000                    NOP     0

      122     2171    1          POFFW(B$TCB$->B$TCB.STK$,B$TCB$)+B$TCB$->B$TCB.CURRSZ,IDTCB);
      123     2172    1       CALL ZIB$SEGSIZE(AUTOSEG$,SIZE);

   2172  3 000242   200004 630500                    EPPR0   SIZE,,AUTO
         3 000243   200031 450500                    STP0    TTLFRM+19,,AUTO
         3 000244   000010 236000 4                  LDQ     8
         3 000245   200030 756100                    STQ     TTLFRM+18,,AUTO
         3 000246   200030 630500                    EPPR0   TTLFRM+18,,AUTO
         3 000247   000007 631400 4                  EPPR1   7
         3 000250   000000 701000 xent               TSX1    ZIB$SEGSIZE
         3 000251   000000 011000                    NOP     0

      124     2173    1       CALL ZID$DUMP(AUTOSEG$,SIZE,IDAUTO);

   2173  3 000252   000011 236000 4                  LDQ     9
         3 000253   200032 756100                    STQ     TTLFRM+20,,AUTO
         3 000254   200004 630500                    EPPR0   SIZE,,AUTO
         3 000255   200031 450500                    STP0    TTLFRM+19,,AUTO
         3 000256   000010 236000 4                  LDQ     8
         3 000257   200030 756100                    STQ     TTLFRM+18,,AUTO
         3 000260   200030 630500                    EPPR0   TTLFRM+18,,AUTO
         3 000261   000004 631400 4                  EPPR1   4
         3 000262   000000 701000 xent               TSX1    ZID$DUMP
         3 000263   000000 011000                    NOP     0

      125     2174    1       CALL ZIB$SEGSIZE(PSR$,PBOUND);

   2174  3 000264   200005 630500                    EPPR0   PBOUND,,AUTO
         3 000265   200031 450500                    STP0    TTLFRM+19,,AUTO
         3 000266   000012 236000 4                  LDQ     10
         3 000267   200030 756100                    STQ     TTLFRM+18,,AUTO
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:21   
         3 000270   200030 630500                    EPPR0   TTLFRM+18,,AUTO
         3 000271   000007 631400 4                  EPPR1   7
         3 000272   000000 701000 xent               TSX1    ZIB$SEGSIZE
         3 000273   000000 011000                    NOP     0

      126     2175    1       IF PBOUND~=0 THEN

   2175  3 000274   200005 235100                    LDA     PBOUND,,AUTO
         3 000275   000407 600000 3                  TZE     s:2194

      127     2176    2       DO;

      128     2177    2           PBOUND=PBOUND/2-1; /* Bound on # of Parameters */

   2177  3 000276   200005 236100                    LDQ     PBOUND,,AUTO
         3 000277   000001 772000                    QRL     1
         3 000300   000001 136007                    SBLQ    1,DL
         3 000301   200005 756100                    STQ     PBOUND,,AUTO

      129     2178    2           IF ADDR(VLP$)->P.SEGID<=PBOUND THEN

   2178  3 000302   000000 236000 xsym               LDQ     VLP$
         3 000303   007777 376007                    ANQ     4095,DL
         3 000304   200005 116100                    CMPQ    PBOUND,,AUTO
         3 000305   000307 600000 3                  TZE     s:2180
         3 000306   000331 603000 3                  TRC     s:2183

      130     2179    3           DO;

      131     2180    3               CALL ZIB$SEGSIZE(VLP$,SIZE);

   2180  3 000307   200004 630500                    EPPR0   SIZE,,AUTO
         3 000310   200031 450500                    STP0    TTLFRM+19,,AUTO
         3 000311   000013 236000 4                  LDQ     11
         3 000312   200030 756100                    STQ     TTLFRM+18,,AUTO
         3 000313   200030 630500                    EPPR0   TTLFRM+18,,AUTO
         3 000314   000007 631400 4                  EPPR1   7
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:22   
         3 000315   000000 701000 xent               TSX1    ZIB$SEGSIZE
         3 000316   000000 011000                    NOP     0

      132     2181    3               CALL ZID$DUMP(VLP$,SIZE,IDVLP);

   2181  3 000317   000014 236000 4                  LDQ     12
         3 000320   200032 756100                    STQ     TTLFRM+20,,AUTO
         3 000321   200004 630500                    EPPR0   SIZE,,AUTO
         3 000322   200031 450500                    STP0    TTLFRM+19,,AUTO
         3 000323   000013 236000 4                  LDQ     11
         3 000324   200030 756100                    STQ     TTLFRM+18,,AUTO
         3 000325   200030 630500                    EPPR0   TTLFRM+18,,AUTO
         3 000326   000004 631400 4                  EPPR1   4
         3 000327   000000 701000 xent               TSX1    ZID$DUMP
         3 000330   000000 011000                    NOP     0

      133     2182    3               END;

      134     2183    2           IF ADDR(RVA$)->P.SEGID<=PBOUND THEN

   2183  3 000331   000000 236000 xsym               LDQ     RVA$
         3 000332   007777 376007                    ANQ     4095,DL
         3 000333   200005 116100                    CMPQ    PBOUND,,AUTO
         3 000334   000336 600000 3                  TZE     s:2185
         3 000335   000360 603000 3                  TRC     s:2188

      135     2184    3           DO;

      136     2185    3               CALL ZIB$SEGSIZE(RVA$,SIZE);

   2185  3 000336   200004 630500                    EPPR0   SIZE,,AUTO
         3 000337   200031 450500                    STP0    TTLFRM+19,,AUTO
         3 000340   000015 236000 4                  LDQ     13
         3 000341   200030 756100                    STQ     TTLFRM+18,,AUTO
         3 000342   200030 630500                    EPPR0   TTLFRM+18,,AUTO
         3 000343   000007 631400 4                  EPPR1   7
         3 000344   000000 701000 xent               TSX1    ZIB$SEGSIZE
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:23   
         3 000345   000000 011000                    NOP     0

      137     2186    3               CALL ZID$DUMP(RVA$,SIZE,IDRVA);

   2186  3 000346   000016 236000 4                  LDQ     14
         3 000347   200032 756100                    STQ     TTLFRM+20,,AUTO
         3 000350   200004 630500                    EPPR0   SIZE,,AUTO
         3 000351   200031 450500                    STP0    TTLFRM+19,,AUTO
         3 000352   000015 236000 4                  LDQ     13
         3 000353   200030 756100                    STQ     TTLFRM+18,,AUTO
         3 000354   200030 630500                    EPPR0   TTLFRM+18,,AUTO
         3 000355   000004 631400 4                  EPPR1   4
         3 000356   000000 701000 xent               TSX1    ZID$DUMP
         3 000357   000000 011000                    NOP     0

      138     2187    3               END;

      139     2188    2           IF ADDR(UPT$)->P.SEGID<=PBOUND THEN

   2188  3 000360   000000 236000 xsym               LDQ     UPT$
         3 000361   007777 376007                    ANQ     4095,DL
         3 000362   200005 116100                    CMPQ    PBOUND,,AUTO
         3 000363   000365 600000 3                  TZE     s:2190
         3 000364   000407 603000 3                  TRC     s:2194

      140     2189    3           DO;

      141     2190    3               CALL ZIB$SEGSIZE(UPT$,SIZE);

   2190  3 000365   200004 630500                    EPPR0   SIZE,,AUTO
         3 000366   200031 450500                    STP0    TTLFRM+19,,AUTO
         3 000367   000017 236000 4                  LDQ     15
         3 000370   200030 756100                    STQ     TTLFRM+18,,AUTO
         3 000371   200030 630500                    EPPR0   TTLFRM+18,,AUTO
         3 000372   000007 631400 4                  EPPR1   7
         3 000373   000000 701000 xent               TSX1    ZIB$SEGSIZE
         3 000374   000000 011000                    NOP     0
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:24   

      142     2191    3               CALL ZID$DUMP(UPT$,SIZE,IDUPT);

   2191  3 000375   000020 236000 4                  LDQ     16
         3 000376   200032 756100                    STQ     TTLFRM+20,,AUTO
         3 000377   200004 630500                    EPPR0   SIZE,,AUTO
         3 000400   200031 450500                    STP0    TTLFRM+19,,AUTO
         3 000401   000017 236000 4                  LDQ     15
         3 000402   200030 756100                    STQ     TTLFRM+18,,AUTO
         3 000403   200030 630500                    EPPR0   TTLFRM+18,,AUTO
         3 000404   000004 631400 4                  EPPR1   4
         3 000405   000000 701000 xent               TSX1    ZID$DUMP
         3 000406   000000 011000                    NOP     0

      143     2192    3               END;

      144     2193    2           END;

      145     2194    1       CALL ZID$DUMP(GLOBAL$,POFFW(GLOBAL.BCB.LASTP$,GLOBAL$)+1024,IDGLBL);

   2194  3 000407   000000 235000 xsym               LDA     GLOBAL$
         3 000410   000022 771000                    ARL     18
         3 000411   200030 755100                    STA     TTLFRM+18,,AUTO
         3 000412   000000 470400 xsym               LDP0    GLOBAL$
         3 000413   000201 236100                    LDQ     129,,PR0
         3 000414   000022 772000                    QRL     18
         3 000415   200030 136100                    SBLQ    TTLFRM+18,,AUTO
         3 000416   002000 036007                    ADLQ    1024,DL
         3 000417   200031 756100                    STQ     TTLFRM+19,,AUTO
         3 000420   000021 236000 4                  LDQ     17
         3 000421   200034 756100                    STQ     TTLFRM+22,,AUTO
         3 000422   200031 631500                    EPPR1   TTLFRM+19,,AUTO
         3 000423   200033 451500                    STP1    TTLFRM+21,,AUTO
         3 000424   000022 236000 4                  LDQ     18
         3 000425   200032 756100                    STQ     TTLFRM+20,,AUTO
         3 000426   200032 630500                    EPPR0   TTLFRM+20,,AUTO
         3 000427   000004 631400 4                  EPPR1   4
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:25   
         3 000430   000000 701000 xent               TSX1    ZID$DUMP
         3 000431   000000 011000                    NOP     0

      146     2195    2       DO J = 1 TO DB#MAX;

   2195  3 000432   000001 235007                    LDA     1,DL
         3 000433   200003 755100                    STA     J,,AUTO
         3 000434   000541 710000 3                  TRA     s:2207+1

      147     2196    2           IF ( GLOBAL.DB.SSS$(J) ~= ADDR(NIL) )

   2196  3 000435   000000 470400 xsym               LDP0    GLOBAL$
         3 000436   200003 720100                    LXL0    J,,AUTO
         3 000437   000153 236110                    LDQ     107,X0,PR0
         3 000440   000023 116000 4                  CMPQ    19
         3 000441   000540 600000 3                  TZE     s:2207

      148     2197    3           THEN DO;

      149     2198    3               TTLFRM = DUMPID;

   2198  3 000442   000100 100400                    MLR     fill='000'O
         3 000443   000105 000050 1                  ADSC9   DUMPID                   cn=0,n=40
         3 000444   200006 000106                    ADSC9   TTLFRM,,AUTO             cn=0,n=70

      150     2199    3               TTLFRM.SSNAME = GLOBAL.DB.SSNAME(J);

   2199  3 000445   200003 236100                    LDQ     J,,AUTO
         3 000446   000036 402007                    MPY     30,DL
         3 000447   040100 100506                    MLR     fill='040'O
         3 000450   000076 000036                    ADSC9   62,Q,PR0                 cn=0,n=30
         3 000451   200020 000036                    ADSC9   TTLFRM+10,,AUTO          cn=0,n=30

      151     2200    3               TTLFRM.CONTENT='DBCB';

   2200  3 000452   040100 100400                    MLR     fill='040'O
         3 000453   000125 000004 1                  ADSC9   ULOC+3                   cn=0,n=4
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:26   
         3 000454   200011 400004                    ADSC9   TTLFRM+3,,AUTO           cn=2,n=4

      152     2201    3               CALL ZIB$SEGSIZE(GLOBAL.DB.DBCB$(J),SIZE);

   2201  3 000455   200004 631500                    EPPR1   SIZE,,AUTO
         3 000456   200031 451500                    STP1    TTLFRM+19,,AUTO
         3 000457   200003 236100                    LDQ     J,,AUTO
         3 000460   000022 736000                    QLS     18
         3 000461   000161 036003                    ADLQ    113,DU
         3 000462   000000 036000 xsym               ADLQ    GLOBAL$
         3 000463   200030 756100                    STQ     TTLFRM+18,,AUTO
         3 000464   200030 630500                    EPPR0   TTLFRM+18,,AUTO
         3 000465   000007 631400 4                  EPPR1   7
         3 000466   000000 701000 xent               TSX1    ZIB$SEGSIZE
         3 000467   000000 011000                    NOP     0

      153     2202    3               CALL ZID$DUMP(GLOBAL.DB.DBCB$(J),SIZE,TTLFRM);

   2202  3 000470   200006 630500                    EPPR0   TTLFRM,,AUTO
         3 000471   200032 450500                    STP0    TTLFRM+20,,AUTO
         3 000472   200004 631500                    EPPR1   SIZE,,AUTO
         3 000473   200031 451500                    STP1    TTLFRM+19,,AUTO
         3 000474   200003 236100                    LDQ     J,,AUTO
         3 000475   000022 736000                    QLS     18
         3 000476   000161 036003                    ADLQ    113,DU
         3 000477   000000 036000 xsym               ADLQ    GLOBAL$
         3 000500   200030 756100                    STQ     TTLFRM+18,,AUTO
         3 000501   200030 630500                    EPPR0   TTLFRM+18,,AUTO
         3 000502   000004 631400 4                  EPPR1   4
         3 000503   000000 701000 xent               TSX1    ZID$DUMP
         3 000504   000000 011000                    NOP     0

      154     2203    3               TTLFRM.CONTENT = ' SSS';

   2203  3 000505   040100 100400                    MLR     fill='040'O
         3 000506   000126 000004 1                  ADSC9   ULOC+4                   cn=0,n=4
         3 000507   200011 400004                    ADSC9   TTLFRM+3,,AUTO           cn=2,n=4
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:27   

      155     2204    3               CALL ZIB$SEGSIZE(GLOBAL.DB.SSS$(J),SIZE);

   2204  3 000510   200004 630500                    EPPR0   SIZE,,AUTO
         3 000511   200031 450500                    STP0    TTLFRM+19,,AUTO
         3 000512   200003 236100                    LDQ     J,,AUTO
         3 000513   000022 736000                    QLS     18
         3 000514   000153 036003                    ADLQ    107,DU
         3 000515   000000 036000 xsym               ADLQ    GLOBAL$
         3 000516   200030 756100                    STQ     TTLFRM+18,,AUTO
         3 000517   200030 630500                    EPPR0   TTLFRM+18,,AUTO
         3 000520   000007 631400 4                  EPPR1   7
         3 000521   000000 701000 xent               TSX1    ZIB$SEGSIZE
         3 000522   000000 011000                    NOP     0

      156     2205    3               CALL ZID$DUMP(GLOBAL.DB.SSS$(J),SIZE,TTLFRM);

   2205  3 000523   200006 630500                    EPPR0   TTLFRM,,AUTO
         3 000524   200032 450500                    STP0    TTLFRM+20,,AUTO
         3 000525   200004 631500                    EPPR1   SIZE,,AUTO
         3 000526   200031 451500                    STP1    TTLFRM+19,,AUTO
         3 000527   200003 236100                    LDQ     J,,AUTO
         3 000530   000022 736000                    QLS     18
         3 000531   000153 036003                    ADLQ    107,DU
         3 000532   000000 036000 xsym               ADLQ    GLOBAL$
         3 000533   200030 756100                    STQ     TTLFRM+18,,AUTO
         3 000534   200030 630500                    EPPR0   TTLFRM+18,,AUTO
         3 000535   000004 631400 4                  EPPR1   4
         3 000536   000000 701000 xent               TSX1    ZID$DUMP
         3 000537   000000 011000                    NOP     0

      157     2206    3               END;

      158     2207    2           END;

   2207  3 000540   200003 054100                    AOS     J,,AUTO
         3 000541   200003 235100                    LDA     J,,AUTO
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:28   
         3 000542   000005 115007                    CMPA    5,DL
         3 000543   000435 604400 3                  TMOZ    s:2196

      159     2208    1       CALL ZID$DUMP(PINCRW(GLOBAL.BCB.LASTP$,1024),

   2208  3 000544   000000 470400 xsym               LDP0    GLOBAL$
         3 000545   000201 236100                    LDQ     129,,PR0
         3 000546   002000 036003                    ADLQ    1024,DU
         3 000547   200030 756100                    STQ     TTLFRM+18,,AUTO
         3 000550   000177 235100                    LDA     127,,PR0
         3 000551   000012 735000                    ALS     10
         3 000552   200031 755100                    STA     TTLFRM+19,,AUTO
         3 000553   000024 236000 4                  LDQ     20
         3 000554   200034 756100                    STQ     TTLFRM+22,,AUTO
         3 000555   200031 631500                    EPPR1   TTLFRM+19,,AUTO
         3 000556   200033 451500                    STP1    TTLFRM+21,,AUTO
         3 000557   200030 633500                    EPPR3   TTLFRM+18,,AUTO
         3 000560   200032 453500                    STP3    TTLFRM+20,,AUTO
         3 000561   200032 630500                    EPPR0   TTLFRM+20,,AUTO
         3 000562   000004 631400 4                  EPPR1   4
         3 000563   000000 701000 xent               TSX1    ZID$DUMP
         3 000564   000000 011000                    NOP     0

      160     2209    1          GLOBAL.BCB.COUNT*1024,IDBUFS);
      161     2210    1   RET: RETURN;

   2210  3 000565   000000 702200 xent  RET          TSX2  ! X66_ARET

SCREECHMSG
 Sect OctLoc
   1     000   060111 104123   040123 103122   105105 103110   056040 040104    0IDS SCREECH.  D
   1     004   125115 120040   106111 114105   040111 123***                    UMP FILE IS.

IDTCB
 Sect OctLoc
   1     007   037060 040111   104123 040104   125115 120040   055040 124141    .0 IDS DUMP - Ta
   1     013   163153 040103   157156 164162   157154 040102   154157 143153    sk Control Block
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:29   

IDAUTO
 Sect OctLoc
   1     017   044060 040111   104123 040104   125115 120040   055040 101165    $0 IDS DUMP - Au
   1     023   164157 155141   164151 143040   123164 157162   141147 145040    tomatic Storage
   1     027   163164 141143   153*** ******                                    stack...

IDGLBL
 Sect OctLoc
   1     031   034060 040111   104123 040104   125115 120040   055040 107154    .0 IDS DUMP - Gl
   1     035   157142 141154   040103 157156   164145 170164   040*** ******    obal Context ...

IDBUFS
 Sect OctLoc
   1     041   040060 040111   104123 040104   125115 120040   055040 107154     0 IDS DUMP - Gl
   1     045   157142 141154   040102 165146   146145 162040   120157 157154    obal Buffer Pool
   1     051   040*** ******                                                     ...

IDVLP
 Sect OctLoc
   1     052   046060 040111   104123 040104   125115 120040   055040 126145    &0 IDS DUMP - Ve
   1     056   143164 157162   040114 157143   141164 145144   040120 141162    ctor Located Par
   1     062   141155 145164   145162 163***                                    ameters.

IDRVA
 Sect OctLoc
   1     064   035060 040111   104123 040104   125115 120040   055040 122145    .0 IDS DUMP - Re
   1     070   146145 162145   156143 145040   126145 143164   157162 ******    ference Vector..

IDUPT
 Sect OctLoc
   1     074   040060 040111   104123 040104   125115 120040   055040 125163     0 IDS DUMP - Us
   1     100   145040 120162   157143 145144   165162 145040   124141 142154    e Procedure Tabl
   1     104   145*** ******                                                    e...

DUMPID
 Sect OctLoc
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:30   
   1     105   106060 040111   104123 040104   125115 120040   055040 040040    F0 IDS DUMP -
   1     111   040040 040146   162141 155145   040157 146040   163165 142055       frame of sub-
   1     115   163143 150145   155141 072040                                    schema:

ERROR
 Sect OctLoc
   1     117   060104 102103   123040 145162   162157 162040                    0DBCS error

ULOC
 Sect OctLoc
   1     122   141103 141154   154040 114157   143040 075040                    aCall Loc =

(unnamed)
 Sect OctLoc
   1     125   104102 103102   040123 123123                                    DBCB SSS

(unnamed)
 Sect OctLoc
   4     000   040040 040040   000001 000000   000000 000000   000040 040040        .........
   4     004   000003 000000   000007 006000   000000 006000   000002 000000    ................
   4     010   000000 006000   000017 006000   000000 006000   000000 006000    ................
   4     014   000052 006000   000000 006000   000064 006000   000000 006000    .*.......4......
   4     020   000074 006000   000031 006000   000000 006000   000000 006014    .<..............
   4     024   000041 006000                                                    .!..
      162     2211    1   END ZIM$ABORT;
      163     2212        %EOD;

PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:31   
--  Include file information  --

   ZI$USER.:ZIC0TOU  is referenced.
   ZI$GLOBAL.:ZIC0TOU  is referenced.
   CP_6_SUBS.:LIB_E05  is referenced.
   CP_6.:LIB_E05  cannot be made into a system file and is referenced.
   ZI_ERRORS_C.:ZIC0TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure ZIM$ABORT.

   Procedure ZIM$ABORT requires 374 words for executable code.
   Procedure ZIM$ABORT requires 32 words of local(AUTO) storage.
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:32   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:33   
          MINI XREF LISTING

AUTOSEG$
        13**DCL      2172<>CALL     2173<>CALL
B$TCB.CURRSZ
      1081**DCL      2170>>CALL
B$TCB.STK$
      1081**DCL      2170>>CALL
B$TCB$
        10**DCL      2170<>CALL     2170>>CALL     2170>>CALL     2170>>CALL
B$XCON.ERR.ERR#
      1090**DCL      1090--REDEF
B$XCON.LIMIT.MEM
      1088**DCL      1088--REDEF
DUMPID
        50**DCL      2198>>ASSIGN
ERRDUMP
      2156**LABEL    2138--CALLALT  2145--CALLALT  2148--GOTO     2154--CALLALT
ERROR
        59**DCL      2135>>ASSIGN
FPT$ERRMSG
      1050**DCL      2145<>CALL
FPT$ERRMSG.V.DCB#
      1054**DCL      2144<<ASSIGN
FPT$SCREECH
      1077**DCL      2162<>CALL
FPT$WRITE
      1025**DCL      2138<>CALL     2154<>CALL     2166<>CALL
FPT$WRITE.STATION_
      1027**DCL      1027--REDEF
FPT$WRITE.V.DCB#
      1028**DCL      2134<<ASSIGN
FPT$WRITE.V.DVBYTE.VFC#
      1034**DCL      1034--REDEF
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:34   
GLOBAL.ACTIVE.DBCB$
      1823**DCL      1824--REDEF
GLOBAL.ACTIVE.SSS$
      1819**DCL      1820--REDEF
GLOBAL.BCB.COUNT
      1926**DCL      2208>>CALL
GLOBAL.BCB.LASTP$
      1928**DCL      2194>>CALL     2208>>CALL
GLOBAL.DB.DBCB$
      1917**DCL      2201<>CALL     2202<>CALL
GLOBAL.DB.SSNAME
      1915**DCL      2199>>ASSIGN
GLOBAL.DB.SSS$
      1916**DCL      2195--DOINDEX  2195--DOINDEX  2196>>IF       2204<>CALL     2205<>CALL
GLOBAL.ERRMSG$
      2102**DCL      2144>>ASSIGN   2145>>CALL
GLOBAL.FILENAME.LENGTH
      2035**DCL      2164>>CALLBLT
GLOBAL.FILENAME.TEXT
      2036**DCL      2164>>CALLBLT
GLOBAL.KEY
      2027**DCL      2030--REDEF
GLOBAL.PARAN.IDSERR
      1912**DCL      2143<<ASSIGN
GLOBAL.PARAN.TRACE.MODE
      1902**DCL      1909--REDEF
GLOBAL.PENDING.ROLL
      1858**DCL      2156>>IF
GLOBAL.PENDING.XCON
      1856**DCL      2147>>IF
GLOBAL.PRINTBUF.BUFFER
      2061**DCL      2062--REDEF    2063--REDEF    2064--REDEF    2163<<ASSIGN   2164<<CALLBLT
GLOBAL.PRINTBUF.ERR.TITLE
      2065**DCL      2135<<ASSIGN
GLOBAL.PRINTBUF.ERR.V
      2066**DCL      2069--REDEF    2070--REDEF    2071--REDEF
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:35   
GLOBAL.PRINTBUF.ERR.V1.DBST
      2072**DCL      2137<<CALLBLT
GLOBAL.PRINTBUF.ERR.VAR
      2069**DCL      2136<<ASSIGN
GLOBAL.PRINTBUF.ERR.VCHAR
      2070**DCL      2152<<ASSIGN
GLOBAL.PRINTBUF.ERRMSG
      2063**DCL      2150<<ASSIGN
GLOBAL.RET.DCB#
      1843**DCL      2144>>ASSIGN
GLOBAL.RET.ERROR#
      1837**DCL      2125>>IF       2125>>IF       2125>>IF       2125>>IF       2125>>IF       2125>>IF
      2132<<ASSIGN   2133>>IF       2137>>CALLBLT  2140<>CALL     2156>>IF       2156>>IF
GLOBAL.RET.SYSERR#
      1838**DCL      2141>>IF       2143>>ASSIGN
GLOBAL.SCREECH$
      2108**DCL      2162>>CALL
GLOBAL.SHANY
      2019**DCL      2125>>IF
GLOBAL.WRITE$
      2095**DCL      2134>>ASSIGN   2138>>CALL     2154>>CALL     2166>>CALL
GLOBAL$
      2121**DCL      1817--IMP-PTR  2125>>IF       2125>>IF       2125>>IF       2125>>IF       2125>>IF
      2125>>IF       2125>>IF       2132>>ASSIGN   2133>>IF       2134>>ASSIGN   2135>>ASSIGN   2136>>ASSIGN
      2137>>CALLBLT  2137>>CALLBLT  2138>>CALL     2140>>CALL     2141>>IF       2143>>ASSIGN   2143>>ASSIGN
      2144>>ASSIGN   2144>>ASSIGN   2145>>CALL     2147>>IF       2150>>ASSIGN   2152>>ASSIGN   2154>>CALL
      2156>>IF       2156>>IF       2156>>IF       2162>>CALL     2163>>ASSIGN   2164>>CALLBLT  2164>>CALLBLT
      2164>>CALLBLT  2166>>CALL     2194<>CALL     2194>>CALL     2194>>CALL     2196>>IF       2199>>ASSIGN
      2201>>CALL     2202>>CALL     2204>>CALL     2205>>CALL     2208>>CALL     2208>>CALL
IA.SNAME
      1749**DCL      1750--REDEF
IA.SSDT
      1761**DCL      1762--REDEF
IA.SSNAME
      1752**DCL      1753--REDEF
IA.UCALL_LOC
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:36   
      1737**DCL      2152--ASSIGN
IA$
      1763**DCL      1728--IMP-PTR  2152>>ASSIGN
IDAUTO
        32**DCL      2173<>CALL
IDBUFS
        38**DCL      2208<>CALL
IDGLBL
        35**DCL      2194<>CALL
IDRVA
        44**DCL      2186<>CALL
IDTCB
        29**DCL      2170<>CALL
IDUPT
        47**DCL      2191<>CALL
IDVLP
        41**DCL      2181<>CALL
J
        17**DCL      2151<<DOINDEX  2152>>ASSIGN   2152>>ASSIGN   2195<<DOINDEX  2196>>IF       2199>>ASSIGN
      2201>>CALL     2202>>CALL     2204>>CALL     2205>>CALL
M$DO
        16**DCL      2134>>ASSIGN
M$ERRMSG
       459**DCL-ENT  2145--CALL
M$SCREECH
       410**DCL-ENT  2162--CALL
M$WRITE
       397**DCL-ENT  2138--CALL     2154--CALL     2166--CALL
MYDUMP
      2165**LABEL    2162--CALLALT
OCTDIG
        58**DCL      2152>>ASSIGN
P.SEGID
        21**DCL      2178>>IF       2183>>IF       2188>>IF
PBOUND
        23**DCL      2174<>CALL     2175>>IF       2177<<ASSIGN   2177>>ASSIGN   2178>>IF       2183>>IF
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:37   
      2188>>IF
PSR$
        11**DCL      2174<>CALL
RET
      2210**LABEL    2160--GOTO     2166--CALLALT  2167--GOTO
RVA.RVE.EO
      1782**DCL      1783--REDEF
RVA$
      1775**DCL      1776--IMP-PTR  2183--IF       2185<>CALL     2186<>CALL
SCREECHMSG
        28**DCL      2163>>ASSIGN   2164--CALLBLT
SIZE
        22**DCL      2172<>CALL     2173<>CALL     2180<>CALL     2181<>CALL     2185<>CALL     2186<>CALL
      2190<>CALL     2191<>CALL     2201<>CALL     2202<>CALL     2204<>CALL     2205<>CALL
TTLFRM
        53**DCL      2198<<ASSIGN   2202<>CALL     2205<>CALL
TTLFRM.CONTENT
        55**DCL      2200<<ASSIGN   2203<<ASSIGN
TTLFRM.SSNAME
        57**DCL      2199<<ASSIGN
ULOC
        60**DCL      2150>>ASSIGN
UPT.UPTE.UCW
      1794**DCL      1809--REDEF
UPT.UPTE.UCW.PB.PG
      1797**DCL      1798--REDEF
UPT.UPTE.UCW.PB.PM
      1799**DCL      1800--REDEF
UPT$
      1787**DCL      1788--IMP-PTR  2188--IF       2190<>CALL     2191<>CALL
VLP$
        12**DCL      2178--IF       2180<>CALL     2181<>CALL
ZIB$SEGSIZE
        24**DCL-ENT  2172--CALL     2174--CALL     2180--CALL     2185--CALL     2190--CALL     2201--CALL
      2204--CALL
ZID$DUMP
PL6.E3A0      #001=ZIM$ABORT File=ZIM$ABORT.:ZIC0TSI                             FRI 09/05/97 12:34 Page:38   
        27**DCL-ENT  2170--CALL     2173--CALL     2181--CALL     2186--CALL     2191--CALL     2194--CALL
      2202--CALL     2205--CALL     2208--CALL
ZID$MOVN
        25**DCL-ENT  2149--CALL
ZIM$ERRMSG
        26**DCL-ENT  2140--CALL
ZI_FPTCHKR_DUMP
        14**DCL      2156>>IF
ZI_TEST
        15**DCL      2161>>IF

PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:39   
      164        1        /*T***********************************************************/
      165        2        /*T*                                                         */
      166        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      167        4        /*T*                                                         */
      168        5        /*T***********************************************************/
      169        6        ZIM$ERRMSG: PROC(ERROR)
      170        7        /*          USE($PR5 FOR GLOBAL$) */
      171        8               AVOID($PR5,$PR6,$PR7);
      172        9        %INCLUDE CP_6;
      173       90            %FPT_ERRMSG(FPTN=FPT$ERRMSG,STCLASS=BASED);
      174      117            %VLP_ERRCODE(STCLASS=AUTO);
      175      162        %INCLUDE CP_6_SUBS;
      176      702        %INCLUDE ZI$GLOBAL;
      177     1188            %GLOBALS;
      178     1496        %INCLUDE ZI_ERRORS_C;
      179     1822    1   DCL 1 CDIGIT CHAR(1);
      180     1823    1   DCL 1 DIGIT REDEF CDIGIT,
      181     1824    1         2 * BIT(3) UNAL,
      182     1825    1         2 LAST6 BIT(6) UNAL;
      183     1826    1   DCL 1 NAME CONSTANT,
      184     1827    1         2 * UBIN(9) UNAL INIT(9),
      185     1828    1         2 * CHAR(9) UNAL INIT(':ZIERRMSG');
      186     1829    1   DCL ERROR UBIN(36);
      187     1830    1   DCL ZI_EMACCT CHAR(8) CONSTANT SYMDEF INIT(':SYS    ');
      188     1831    1       GLOBAL.ERRMSG$->FPT$ERRMSG.CODE_=VECTOR(VLP_ERRCODE);
      189     1832    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FILENAME_=VECTOR(NAME);
      190     1833    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FILEACCT_=VECTOR(ZI_EMACCT);
      191     1834    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FIELD1_=VECTOR(GLOBAL.ERRFIELD_INSERT(0));
      192     1835    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FIELD2_=VECTOR(GLOBAL.ERRFIELD_INSERT(1));
      193     1836    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FIELD3_=VECTOR(GLOBAL.ERRFIELD_INSERT(2));
      194     1837    1       GLOBAL.ERRMSG$->FPT$ERRMSG.V.INCLCODE#=%NO#;
      195     1838    1       GLOBAL.ERRMSG$->FPT$ERRMSG.V.DCB#=0;
      196     1839    1       VLP_ERRCODE.FCG='011010001001'B;
      197     1840    1       IF ERROR<FTL#ERR#INCR THEN
      198     1841    1           CALL BINCHAR(CDIGIT,MOD(ERROR,FTL#ERR#INCR)/10000);
      199     1842    1       ELSE
      200     1843    1           CALL BINCHAR(CDIGIT,0);
PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:40   
      201     1844    1       VLP_ERRCODE.MID=DIGIT.LAST6;
      202     1845    1       VLP_ERRCODE.MON=%NO#;
      203     1846    1       VLP_ERRCODE.ERR#=MOD(ERROR,10000);
      204     1847    1       VLP_ERRCODE.SEV=0;
      205     1848    1       IF ERROR~=ERR#X#UNEX THEN
      206     1849    1           CALL M$ERRMSG(GLOBAL.ERRMSG$->FPT$ERRMSG);
      207     1850    1       GLOBAL.PARAN.IDSERR=VLP_ERRCODE;
      208     1851    1       GLOBAL.ERRMSG$->FPT$ERRMSG.CODE_=VECTOR(GLOBAL.RET.SYSERR#);
      209     1852    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FILENAME_=VECTOR(NIL);
      210     1853    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FILEACCT_=VECTOR(NIL);
      211     1854    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FIELD1_=VECTOR(NIL);
      212     1855    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FIELD2_=VECTOR(NIL);
      213     1856    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FIELD3_=VECTOR(NIL);
      214     1857    1       GLOBAL.ERRMSG$->FPT$ERRMSG.V.INCLCODE#=%YES#;
      215     1858    1   RET: RETURN;
      216     1859    1   END ZIM$ERRMSG;

PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:41   
--  Include file information  --

   ZI_ERRORS_C.:ZIC0TOU  is referenced.
   ZI$GLOBAL.:ZIC0TOU  is referenced.
   CP_6_SUBS.:LIB_E05  is referenced.
   CP_6.:LIB_E05  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure ZIM$ERRMSG.

   Procedure ZIM$ERRMSG requires 106 words for executable code.
   Procedure ZIM$ERRMSG requires 8 words of local(AUTO) storage.

    No errors detected in file ZIM$ABORT.:ZIC0TSI    .

PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:42   

 Object Unit name= ZIM$ERRMSG                                 File name= ZIM$ABORT.:ZIC0TOU
 UTS= SEP 05 '97 12:34:27.16 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1  RoData even  UTS      5      5  ZIM$ERRMSG
    2   Proc  even  none   106    152  ZIM$ERRMSG
    3  RoData even  none    10     12  ZIM$ERRMSG

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes            yes      XStd       1  ZIM$ERRMSG

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    1      3  ZI_EMACCT

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X66_AUTO_1
                       nStd      0 X66_ARET
PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:43   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                             r    GLOBAL$

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:44   


      164        1        /*T***********************************************************/
      165        2        /*T*                                                         */
      166        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      167        4        /*T*                                                         */
      168        5        /*T***********************************************************/
      169        6        ZIM$ERRMSG: PROC(ERROR)

      6  2 000000   000000 700200 xent  ZIM$ERRMSG   TSX0  ! X66_AUTO_1
         2 000001   000010 000001                    ZERO    8,1

      170        7        /*          USE($PR5 FOR GLOBAL$) */
      171        8               AVOID($PR5,$PR6,$PR7);
      172        9        %INCLUDE CP_6;
      173       90            %FPT_ERRMSG(FPTN=FPT$ERRMSG,STCLASS=BASED);
      174      117            %VLP_ERRCODE(STCLASS=AUTO);
      175      162        %INCLUDE CP_6_SUBS;
      176      702        %INCLUDE ZI$GLOBAL;
      177     1188            %GLOBALS;
      178     1496        %INCLUDE ZI_ERRORS_C;
      179     1822    1   DCL 1 CDIGIT CHAR(1);
      180     1823    1   DCL 1 DIGIT REDEF CDIGIT,
      181     1824    1         2 * BIT(3) UNAL,
      182     1825    1         2 LAST6 BIT(6) UNAL;
      183     1826    1   DCL 1 NAME CONSTANT,
      184     1827    1         2 * UBIN(9) UNAL INIT(9),
      185     1828    1         2 * CHAR(9) UNAL INIT(':ZIERRMSG');
      186     1829    1   DCL ERROR UBIN(36);
      187     1830    1   DCL ZI_EMACCT CHAR(8) CONSTANT SYMDEF INIT(':SYS    ');
      188     1831    1       GLOBAL.ERRMSG$->FPT$ERRMSG.CODE_=VECTOR(VLP_ERRCODE);

   1831  2 000002   000000 470400 xsym               LDP0    GLOBAL$
         2 000003   005122 471500                    LDP1    2642,,PR0
         2 000004   777640 235007                    LDA     -96,DL
         2 000005   200006 452500                    STP2    CDIGIT+1,,AUTO
         2 000006   200006 236100                    LDQ     CDIGIT+1,,AUTO
         2 000007   000004 036003                    ADLQ    4,DU
PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:45   
         2 000010   100002 757100                    STAQ    2,,PR1

      189     1832    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FILENAME_=VECTOR(NAME);

   1832  2 000011   005122 471500                    LDP1    2642,,PR0
         2 000012   000000 237000 3                  LDAQ    0
         2 000013   100006 757100                    STAQ    6,,PR1

      190     1833    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FILEACCT_=VECTOR(ZI_EMACCT);

   1833  2 000014   005122 471500                    LDP1    2642,,PR0
         2 000015   000002 237000 3                  LDAQ    2
         2 000016   100010 757100                    STAQ    8,,PR1

      191     1834    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FIELD1_=VECTOR(GLOBAL.ERRFIELD_INSERT(0));

   1834  2 000017   005122 471500                    LDP1    2642,,PR0
         2 000020   000004 235000 3                  LDA     4
         2 000021   000000 236000 xsym               LDQ     GLOBAL$
         2 000022   004746 036003                    ADLQ    2534,DU
         2 000023   100014 757100                    STAQ    12,,PR1

      192     1835    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FIELD2_=VECTOR(GLOBAL.ERRFIELD_INSERT(1));

   1835  2 000024   005122 471500                    LDP1    2642,,PR0
         2 000025   000004 235000 3                  LDA     4
         2 000026   000000 236000 xsym               LDQ     GLOBAL$
         2 000027   004756 036003                    ADLQ    2542,DU
         2 000030   100016 757100                    STAQ    14,,PR1

      193     1836    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FIELD3_=VECTOR(GLOBAL.ERRFIELD_INSERT(2));

   1836  2 000031   005122 471500                    LDP1    2642,,PR0
         2 000032   000004 235000 3                  LDA     4
         2 000033   000000 236000 xsym               LDQ     GLOBAL$
         2 000034   004766 036003                    ADLQ    2550,DU
         2 000035   100020 757100                    STAQ    16,,PR1
PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:46   

      194     1837    1       GLOBAL.ERRMSG$->FPT$ERRMSG.V.INCLCODE#=%NO#;

   1837  2 000036   005122 471500                    LDP1    2642,,PR0
         2 000037   000005 236000 3                  LDQ     5
         2 000040   100030 356100                    ANSQ    24,,PR1

      195     1838    1       GLOBAL.ERRMSG$->FPT$ERRMSG.V.DCB#=0;

   1838  2 000041   005122 471500                    LDP1    2642,,PR0
         2 000042   000000 220003                    LDX0    0,DU
         2 000043   100026 740100                    STX0    22,,PR1

      196     1839    1       VLP_ERRCODE.FCG='011010001001'B;

   1839  2 000044   321100 236003                    LDQ     107072,DU
         2 000045   200004 752160                    STCQ    VLP_ERRCODE,'60'O,AUTO

      197     1840    1       IF ERROR<FTL#ERR#INCR THEN

   1840  2 000046   200003 471500                    LDP1    @ERROR,,AUTO
         2 000047   100000 235100                    LDA     0,,PR1
         2 000050   303240 115007                    CMPA    100000,DL
         2 000051   000064 603000 2                  TRC     s:1843

      198     1841    1           CALL BINCHAR(CDIGIT,MOD(ERROR,FTL#ERR#INCR)/10000);

   1841  2 000052   000043 773000                    LRL     35
         2 000053   303240 507007                    DVF     100000,DL
         2 000054   000001 772000                    QRL     1
         2 000055   011610 506007                    DIV     5000,DL
         2 000056   000000 235003                    LDA     0,DU
         2 000057   200006 757100                    STAQ    CDIGIT+1,,AUTO
         2 000060   000100 301500                    BTD
         2 000061   200006 000010                    NDSC9   CDIGIT+1,,AUTO           cn=0,s=lsgnf,sf=0,n=8
         2 000062   200005 030001                    NDSC9   CDIGIT,,AUTO             cn=0,s=nosgn,sf=0,n=1
         2 000063   000072 710000 2                  TRA     s:1844
PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:47   

      199     1842    1       ELSE
      200     1843    1           CALL BINCHAR(CDIGIT,0);

   1843  2 000064   000000 235003                    LDA     0,DU
         2 000065   000044 773000                    LRL     36
         2 000066   200006 757100                    STAQ    CDIGIT+1,,AUTO
         2 000067   000100 301500                    BTD
         2 000070   200006 000010                    NDSC9   CDIGIT+1,,AUTO           cn=0,s=lsgnf,sf=0,n=8
         2 000071   200005 030001                    NDSC9   CDIGIT,,AUTO             cn=0,s=nosgn,sf=0,n=1

      201     1844    1       VLP_ERRCODE.MID=DIGIT.LAST6;

   1844  2 000072   200005 236100                    LDQ     CDIGIT,,AUTO
         2 000073   000011 772000                    QRL     9
         2 000074   200004 752110                    STCQ    VLP_ERRCODE,'10'O,AUTO

      202     1845    1       VLP_ERRCODE.MON=%NO#;

   1845  2 000075   000006 236000 3                  LDQ     6
         2 000076   200004 356100                    ANSQ    VLP_ERRCODE,,AUTO

      203     1846    1       VLP_ERRCODE.ERR#=MOD(ERROR,10000);

   1846  2 000077   100000 235100                    LDA     0,,PR1
         2 000100   000043 773000                    LRL     35
         2 000101   023420 507007                    DVF     10000,DL
         2 000102   000003 736000                    QLS     3
         2 000103   200004 676100                    ERQ     VLP_ERRCODE,,AUTO
         2 000104   377770 376007                    ANQ     131064,DL
         2 000105   200004 656100                    ERSQ    VLP_ERRCODE,,AUTO

      204     1847    1       VLP_ERRCODE.SEV=0;

   1847  2 000106   000007 236000 3                  LDQ     7
         2 000107   200004 356100                    ANSQ    VLP_ERRCODE,,AUTO

PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:48   
      205     1848    1       IF ERROR~=ERR#X#UNEX THEN

   1848  2 000110   100000 235100                    LDA     0,,PR1
         2 000111   210664 115007                    CMPA    70068,DL
         2 000112   000117 600000 2                  TZE     s:1850

      206     1849    1           CALL M$ERRMSG(GLOBAL.ERRMSG$->FPT$ERRMSG);

   1849  2 000113   005122 473500                    LDP3    2642,,PR0
         2 000114   300000 630500                    EPPR0   0,,PR3
         2 000115   020000 713400                    CLIMB   8192
         2 000116   405000 401760                    pmme    nvectors=11

      207     1850    1       GLOBAL.PARAN.IDSERR=VLP_ERRCODE;

   1850  2 000117   200004 236100                    LDQ     VLP_ERRCODE,,AUTO
         2 000120   000000 470400 xsym               LDP0    GLOBAL$
         2 000121   000074 756100                    STQ     60,,PR0

      208     1851    1       GLOBAL.ERRMSG$->FPT$ERRMSG.CODE_=VECTOR(GLOBAL.RET.SYSERR#);

   1851  2 000122   005122 471500                    LDP1    2642,,PR0
         2 000123   777640 235007                    LDA     -96,DL
         2 000124   000000 236000 xsym               LDQ     GLOBAL$
         2 000125   000007 036003                    ADLQ    7,DU
         2 000126   100002 757100                    STAQ    2,,PR1

      209     1852    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FILENAME_=VECTOR(NIL);

   1852  2 000127   005122 471500                    LDP1    2642,,PR0
         2 000130   000010 237000 3                  LDAQ    8
         2 000131   100006 757100                    STAQ    6,,PR1

      210     1853    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FILEACCT_=VECTOR(NIL);

   1853  2 000132   005122 471500                    LDP1    2642,,PR0
         2 000133   000010 237000 3                  LDAQ    8
PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:49   
         2 000134   100010 757100                    STAQ    8,,PR1

      211     1854    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FIELD1_=VECTOR(NIL);

   1854  2 000135   005122 471500                    LDP1    2642,,PR0
         2 000136   000010 237000 3                  LDAQ    8
         2 000137   100014 757100                    STAQ    12,,PR1

      212     1855    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FIELD2_=VECTOR(NIL);

   1855  2 000140   005122 471500                    LDP1    2642,,PR0
         2 000141   000010 237000 3                  LDAQ    8
         2 000142   100016 757100                    STAQ    14,,PR1

      213     1856    1       GLOBAL.ERRMSG$->FPT$ERRMSG.FIELD3_=VECTOR(NIL);

   1856  2 000143   005122 471500                    LDP1    2642,,PR0
         2 000144   000010 237000 3                  LDAQ    8
         2 000145   100020 757100                    STAQ    16,,PR1

      214     1857    1       GLOBAL.ERRMSG$->FPT$ERRMSG.V.INCLCODE#=%YES#;

   1857  2 000146   005122 471500                    LDP1    2642,,PR0
         2 000147   004000 236003                    LDQ     2048,DU
         2 000150   100030 256100                    ORSQ    24,,PR1

      215     1858    1   RET: RETURN;

   1858  2 000151   000000 702200 xent  RET          TSX2  ! X66_ARET

NAME
 Sect OctLoc
   1     000   011072 132111   105122 122115   123107 ******                    .:ZIERRMSG..

ZI_EMACCT
 Sect OctLoc
   1     003   072123 131123   040040 040040                                    :SYS
PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:50   

(unnamed)
 Sect OctLoc
   3     000   000002 377640   000000 006000   000001 777640   000003 006000    ................
   3     004   000007 777640   773777 777777   777777 377777   777777 777770    ................
   3     010   000000 177640   000000 006014                                    ........
      216     1859    1   END ZIM$ERRMSG;

PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:51   
--  Include file information  --

   ZI_ERRORS_C.:ZIC0TOU  is referenced.
   ZI$GLOBAL.:ZIC0TOU  is referenced.
   CP_6_SUBS.:LIB_E05  is referenced.
   CP_6.:LIB_E05  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure ZIM$ERRMSG.

   Procedure ZIM$ERRMSG requires 106 words for executable code.
   Procedure ZIM$ERRMSG requires 8 words of local(AUTO) storage.

    No errors detected in file ZIM$ABORT.:ZIC0TSI    .
PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:52   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:53   
          MINI XREF LISTING

CDIGIT
      1822**DCL      1823--REDEF    1841<<CALLBLT  1843<<CALLBLT
DIGIT.LAST6
      1825**DCL      1844>>ASSIGN
ERROR
      1829**DCL         6--PROC     1840>>IF       1841>>CALLBLT  1846>>ASSIGN   1848>>IF
FPT$ERRMSG
       101**DCL      1849<>CALL
FPT$ERRMSG.CODE_
       101**DCL      1831<<ASSIGN   1851<<ASSIGN
FPT$ERRMSG.FIELD1_
       103**DCL      1834<<ASSIGN   1854<<ASSIGN
FPT$ERRMSG.FIELD2_
       104**DCL      1835<<ASSIGN   1855<<ASSIGN
FPT$ERRMSG.FIELD3_
       104**DCL      1836<<ASSIGN   1856<<ASSIGN
FPT$ERRMSG.FILEACCT_
       102**DCL      1833<<ASSIGN   1853<<ASSIGN
FPT$ERRMSG.FILENAME_
       102**DCL      1832<<ASSIGN   1852<<ASSIGN
FPT$ERRMSG.V.DCB#
       105**DCL      1838<<ASSIGN
FPT$ERRMSG.V.INCLCODE#
       110**DCL      1837<<ASSIGN   1857<<ASSIGN
GLOBAL.ACTIVE.DBCB$
      1195**DCL      1196--REDEF
GLOBAL.ACTIVE.SSS$
      1191**DCL      1192--REDEF
GLOBAL.ERRFIELD_INSERT
      1413**DCL      1834--ASSIGN   1835--ASSIGN   1836--ASSIGN
GLOBAL.ERRMSG$
      1474**DCL      1831>>ASSIGN   1832>>ASSIGN   1833>>ASSIGN   1834>>ASSIGN   1835>>ASSIGN   1836>>ASSIGN
PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:54   
      1837>>ASSIGN   1838>>ASSIGN   1849>>CALL     1851>>ASSIGN   1852>>ASSIGN   1853>>ASSIGN   1854>>ASSIGN
      1855>>ASSIGN   1856>>ASSIGN   1857>>ASSIGN
GLOBAL.KEY
      1399**DCL      1402--REDEF
GLOBAL.PARAN.IDSERR
      1284**DCL      1850<<ASSIGN
GLOBAL.PARAN.TRACE.MODE
      1274**DCL      1281--REDEF
GLOBAL.PRINTBUF.BUFFER
      1433**DCL      1434--REDEF    1435--REDEF    1436--REDEF
GLOBAL.PRINTBUF.ERR.V
      1438**DCL      1441--REDEF    1442--REDEF    1443--REDEF
GLOBAL.RET.SYSERR#
      1210**DCL      1851--ASSIGN
GLOBAL$
      1493**DCL      1189--IMP-PTR  1831>>ASSIGN   1832>>ASSIGN   1833>>ASSIGN   1834>>ASSIGN   1834>>ASSIGN
      1835>>ASSIGN   1835>>ASSIGN   1836>>ASSIGN   1836>>ASSIGN   1837>>ASSIGN   1838>>ASSIGN   1849>>CALL
      1850>>ASSIGN   1851>>ASSIGN   1851>>ASSIGN   1852>>ASSIGN   1853>>ASSIGN   1854>>ASSIGN   1855>>ASSIGN
      1856>>ASSIGN   1857>>ASSIGN
M$ERRMSG
        81**DCL-ENT  1849--CALL
NAME
      1826**DCL      1832--ASSIGN
VLP_ERRCODE
       129**DCL      1831--ASSIGN   1850>>ASSIGN
VLP_ERRCODE.ERR#
       159**DCL      1846<<ASSIGN
VLP_ERRCODE.FCG
       145**DCL      1839<<ASSIGN
VLP_ERRCODE.MID
       158**DCL      1844<<ASSIGN
VLP_ERRCODE.MON
       158**DCL      1845<<ASSIGN
VLP_ERRCODE.SEV
       159**DCL      1847<<ASSIGN
ZI_EMACCT
PL6.E3A0      #002=ZIM$ERRMSG File=ZIM$ABORT.:ZIC0TSI                            FRI 09/05/97 12:34 Page:55   
      1830**DCL      1833--ASSIGN

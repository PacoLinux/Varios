

09:10 AUG 09 '97 SCDPDA_SUBS.:Z8A6SI                                       1    
    1      /*T***********************************************************/
    2      /*T*                                                         */
    3      /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
    4      /*T*                                                         */
    5      /*T***********************************************************/
    6      /* Actions */
    7
    8      %EQU FINISH_PROGRAM=1;
    9      %EQU PUT_PROG_INFO=2;
   10      %EQU SET_OPTIONS=3;
   11      %EQU ADD_XREF=4;
   12      %EQU ADD_LOCAL_XREF=5;
   13      %EQU PUT_LABEL=6;
   14      %EQU GENERATE_P_CODE=7;
   15      %EQU AHEAD_OT_POS1=8;
   16      %EQU AHEAD_OT_POS2=9;
   17      %EQU PUT_SIMPLE_DIR=10;
   18      %EQU PUT_OPERAND_MOD=11;
   19      %EQU PUT_ZERO_OPERAND=12;
   20      %EQU PUT_JMP_DEST=13;
   21      %EQU PUT_UNSPECIFIC_REG=14;
   22      %EQU PUT_SPECIFIC_REG=15;
   23      %EQU PUT_OPCODE=16;
   24      %EQU PUT_NULL_MODFIELD=17;
   25      %EQU SET_EIS_OP1=18;
   26      %EQU SET_EIS_OP2=19;
   27      %EQU SET_EIS_OP3=20;
   28      %EQU PUT_MODFIELD=21;
   29      %EQU PUT_DECIMAL_LITERAL=22;
   30      %EQU CLEAR_SIGN_FLAG=23;
   31      %EQU PUT_UNSIGNED_DECIMAL_LITERAL=24;
   32      %EQU PUT_YFIELD_ARITH=25;
   33      %EQU PUT_OCTAL_LITERAL=26;
   34      %EQU PUT_FLOAT_LITERAL=27;
   35      %EQU PUT_SCALED_LITERAL=28;
   36      %EQU PUT_IR=29;
   37      %EQU PUT_RI=30;
09:10 AUG 09 '97 SCDPDA_SUBS.:Z8A6SI                                       2    
   38      %EQU PUT_MOD_TYPE=31;
   39      %EQU LOAD_VFD_FIELD=32;
   40      %EQU PUT_BASE_SPECIFIER=33;
   41      %EQU PUT_INTEGER_OPERAND=34;
   42      %EQU PUT_OPERAND_UNMOD=35;
   43      %EQU HANDLE_EQU_LABEL=36;
   44      %EQU HANDLE_EQU_INT=37;
   45      %EQU EJECT_A_PAGE=38;
   46      %EQU SKIP_PL6=39;
   47      %EQU PUT_START_PEPD=40;
   48      %EQU PUT_START_DEP=41;
   49      %EQU PUT_BURST=42;
   50      %EQU PUT_SIGNED_INTEGER_OPERAND=43;
   51
   52      %EQU TERM_EOF_SYM = 56;
   53      %EQU TERM_ERROR_SYM = 0;
   54      %EQU ACTIONS_NUMERIC_OPT = '0'B;
   55      %EQU PRODR_LEN = 399;
   56      %EQU ACTION_COL_LEN = 548;
   57      %EQU ACTION_ROW_LEN = 1904;
   58      %EQU GOTO_COL_LEN = 183;
   59      %EQU GOTO_ROW_LEN = 194;
   60      %EQU TERM_STRING_LEN = 209;
   61      %EQU TSTRING_SPACE_LEN = 21;
   62      %EQU TSTRING_SPACE_LEN_CHARS = 880;
   63      %EQU MIN_GOAL = 0;
   64      %EQU MAX_GOAL = 183;
   65      %EQU BITS_GOAL = 18;
   66      %EQU MIN_PSS = 0;
   67      %EQU MAX_PSS = 12;
   68      %EQU BITS_PSS = 18;
   69      %EQU MIN_SEM = 0;
   70      %EQU MAX_SEM = 43;
   71      %EQU BITS_SEM = 18;
   72      %EQU BITS_PRODR = 54;
   73      %MACRO START_TABLE_PRODR;
   74      DCL 1 PRODR(0:%PRODR_LEN) BIT(%BITS_PRODR) UNAL CONSTANT SYMDEF INIT('0'B
09:10 AUG 09 '97 SCDPDA_SUBS.:Z8A6SI                                       3    
   75      %MEND;
   76      %MACRO PRODM(GOAL=0, PSS=0, SEM=0);
   77      ,%(CONCAT(BINBIT(GOAL,%BITS_GOAL),BINBIT(PSS,%BITS_PSS),BINBIT(SEM,%BITS_SEM)))
   78      %MEND;
   79      %MACRO END_TABLE_PRODR;
   80          );
   81      %MEND;
   82      %EQU MIN_ASDEF = -397;
   83      %EQU MAX_ASDEF = 0;
   84      %EQU BITS_ASDEF = 18;
   85      %EQU MIN_ASBAS = 0;
   86      %EQU MAX_ASBAS = 1695;
   87      %EQU BITS_ASBAS = 18;
   88      %EQU BITS_ACTION_COL = 36;
   89      %MACRO START_TABLE_ACTION_COL;
   90      DCL 1 ACTION_COL(0:%ACTION_COL_LEN) BIT(%BITS_ACTION_COL) UNAL CONSTANT SYMDEF INIT('0'B
   91      %MEND;
   92      %MACRO ASDEFBASM(DFL=0, BAS=0);
   93      ,%(CONCAT(BINBIT(DFL,%BITS_ASDEF),BINBIT(BAS,%BITS_ASBAS)))
   94      %MEND;
   95      %MACRO END_TABLE_ACTION_COL;
   96          );
   97      %MEND;
   98      %EQU MIN_ANCNXT = -399;
   99      %EQU MAX_ANCNXT = 548;
  100      %EQU BITS_ANCNXT = 18;
  101      %EQU MIN_ANCCHK = 0;
  102      %EQU MAX_ANCCHK = 192;
  103      %EQU BITS_ANCCHK = 18;
  104      %EQU BITS_ACTION_ROW = 36;
  105      %MACRO START_TABLE_ACTION_ROW;
  106      DCL 1 ACTION_ROW(0:%ACTION_ROW_LEN) BIT(%BITS_ACTION_ROW) UNAL CONSTANT SYMDEF INIT('0'B,'0'B
  107      %MEND;
  108      %MACRO ANCM(NXT=0, CHK=0);
  109      ,%(CONCAT(BINBIT(NXT,%BITS_ANCNXT),BINBIT(CHK,%BITS_ANCCHK)))
  110      %MEND;
  111      %MACRO END_TABLE_ACTION_ROW;
09:10 AUG 09 '97 SCDPDA_SUBS.:Z8A6SI                                       4    
  112          );
  113      %MEND;
  114      %EQU MIN_GTDEF = 0;
  115      %EQU MAX_GTDEF = 545;
  116      %EQU BITS_GTDEF = 18;
  117      %EQU MIN_GTBAS = 0;
  118      %EQU MAX_GTBAS = 19;
  119      %EQU BITS_GTBAS = 18;
  120      %EQU BITS_GOTO_COL = 36;
  121      %MACRO START_TABLE_GOTO_COL;
  122      DCL 1 GOTO_COL(0:%GOTO_COL_LEN) BIT(%BITS_GOTO_COL) UNAL CONSTANT SYMDEF INIT('0'B
  123      %MEND;
  124      %MACRO GTDEFBASM(DFL=0, BAS=0);
  125      ,%(CONCAT(BINBIT(DFL,%BITS_GTDEF),BINBIT(BAS,%BITS_GTBAS)))
  126      %MEND;
  127      %MACRO END_TABLE_GOTO_COL;
  128          );
  129      %MEND;
  130      %EQU MIN_GNCNXT = 0;
  131      %EQU MAX_GNCNXT = 538;
  132      %EQU BITS_GNCNXT = 18;
  133      %EQU MIN_GNCCHK = 0;
  134      %EQU MAX_GNCCHK = 182;
  135      %EQU BITS_GNCCHK = 18;
  136      %EQU BITS_GOTO_ROW = 36;
  137      %MACRO START_TABLE_GOTO_ROW;
  138      DCL 1 GOTO_ROW(0:%GOTO_ROW_LEN) BIT(%BITS_GOTO_ROW) UNAL CONSTANT SYMDEF INIT('0'B,'0'B
  139      %MEND;
  140      %MACRO GNCM(NXT=0, CHK=0);
  141      ,%(CONCAT(BINBIT(NXT,%BITS_GNCNXT),BINBIT(CHK,%BITS_GNCCHK)))
  142      %MEND;
  143      %MACRO END_TABLE_GOTO_ROW;
  144          );
  145      %MEND;
  146      %EQU DTS_OPTION = '0'B;
  147      %EQU MIN_T_S_INDX = 0;
  148      %EQU MAX_T_S_INDX = 864;
09:10 AUG 09 '97 SCDPDA_SUBS.:Z8A6SI                                       5    
  149      %EQU BITS_T_S_INDX = 10;
  150      %EQU MIN_T_S_LEN = 0;
  151      %EQU MAX_T_S_LEN = 19;
  152      %EQU BITS_T_S_LEN = 5;
  153      %EQU BITS_TERM_STRING = 15;
  154      %MACRO START_TABLE_TERM_STRING;
  155      DCL 1 TERM_STRING(0:%TERM_STRING_LEN) BIT(%BITS_TERM_STRING) UNAL CONSTANT SYMDEF INIT('0'B
  156      %MEND;
  157      %MACRO TSTRING(I=0, L=0);
  158      ,%(CONCAT(BINBIT(I,%BITS_T_S_INDX),BINBIT(L,%BITS_T_S_LEN)))
  159      %MEND;
  160      %MACRO END_TABLE_TERM_STRING;
  161          );
  162      %MEND;
  163      %MACRO START_TABLE_TSTRING_SPACE;
  164      DCL TSTRING_SPACE(0:%TSTRING_SPACE_LEN) CHAR(40) CONSTANT SYMDEF
  165               INIT('                                        '
  166      %MEND;
  167      %MACRO TSPACE(S=);
  168      ,S
  169      %MEND;
  170      %MACRO END_TABLE_TSTRING_SPACE;
  171          );
  172      %MEND;
  173      %MACRO PARSE_SYMREFS;
  174      DCL 1 PRODR(0:%PRODR_LEN) UNAL SYMREF READONLY,
  175            2 GOAL UBIN(%BITS_GOAL) UNAL,
  176            2 POPSTACK UBIN(%BITS_PSS) UNAL,
  177            2 SEMANTIC UBIN(%BITS_SEM) UNAL;
  178      DCL 1 ACTION_COL(0:%ACTION_COL_LEN) UNAL SYMREF READONLY,
  179            2 DEFAULT SBIN(%BITS_ASDEF) UNAL,
  180            2 BASE UBIN(%BITS_ASBAS) UNAL;
  181      DCL 1 ACTION_ROW(0:%ACTION_ROW_LEN) UNAL SYMREF READONLY,
  182            2 NEXT SBIN(%BITS_ANCNXT) UNAL,
  183            2 CHECK UBIN(%BITS_ANCCHK) UNAL;
  184      DCL 1 GOTO_COL(0:%GOTO_COL_LEN) UNAL SYMREF READONLY,
  185            2 DEFAULT UBIN(%BITS_GTDEF) UNAL,
09:10 AUG 09 '97 SCDPDA_SUBS.:Z8A6SI                                       6    
  186            2 BASE UBIN(%BITS_GTBAS) UNAL;
  187      DCL 1 GOTO_ROW(0:%GOTO_ROW_LEN) UNAL SYMREF READONLY,
  188            2 NEXT UBIN(%BITS_GNCNXT) UNAL,
  189            2 CHECK UBIN(%BITS_GNCCHK) UNAL;
  190      %MEND;
  191      %MACRO TSTRING_SYMREFS;
  192      DCL 1 TERM_STRING(0:%TERM_STRING_LEN) UNAL SYMREF READONLY,
  193            2 INDX UBIN(%BITS_T_S_INDX) UNAL,
  194            2 LEN UBIN(%BITS_T_S_LEN) UNAL;
  195      DCL TSTRING_SPACE SYMREF READONLY CHAR(%TSTRING_SPACE_LEN_CHARS);
  196      %MEND;
  197      %EQU LOCALLY_LEAST_COST_RECOVERY = '1'B;
  198      %EQU DEL_COST_LEN = 209;
  199      %EQU LCS_LEN = 392;
  200      %EQU LCS_ELEM_LEN = 317;
  201      %EQU LCP_LEN = 3477;
  202      %EQU LCP_UBOUND_LEN = 209;
  203      %EQU LCP_ELEM_LEN = 337;
  204      %EQU INFINITE_COST = 99999;
  205      %EQU NR_BASIS_MAX = 5;
  206      %EQU MIN_DEL_COST = 0;
  207      %EQU MAX_DEL_COST = 99999;
  208      %EQU BITS_DEL_COST = 17;
  209      %MACRO START_TABLE_DEL_COST;
  210      DCL DEL_COST(0:%DEL_COST_LEN) UBIN(%BITS_DEL_COST) UNAL CONSTANT SYMDEF INIT(0
  211      %MEND;
  212      %MACRO DELC(C=0);
  213      ,C
  214      %MEND;
  215      %MACRO END_TABLE_DEL_COST;
  216          );
  217      %MEND;
  218      %EQU MIN_LCS_COST = 0;
  219      %EQU MAX_LCS_COST = 99999;
  220      %EQU BITS_LCS_COST = 17;
  221      %EQU MIN_LCS_INDX = 0;
  222      %EQU MAX_LCS_INDX = 317;
09:10 AUG 09 '97 SCDPDA_SUBS.:Z8A6SI                                       7    
  223      %EQU BITS_LCS_INDX = 9;
  224      %EQU MIN_LCS_LEN = 0;
  225      %EQU MAX_LCS_LEN = 10;
  226      %EQU BITS_LCS_LEN = 4;
  227      %EQU BITS_LCS = 30;
  228      %MACRO START_TABLE_LCS;
  229      DCL 1 LCS(0:%LCS_LEN) BIT(%BITS_LCS) UNAL CONSTANT SYMDEF INIT('0'B
  230      %MEND;
  231      %MACRO LCS(C=0,I=0,L=0);
  232      ,%(CONCAT(BINBIT(C,%BITS_LCS_COST),BINBIT(I,%BITS_LCS_INDX),BINBIT(L,%BITS_LCS_LEN)))
  233      %MEND;
  234      %MACRO END_TABLE_LCS;
  235          );
  236      %MEND;
  237      %EQU MIN_LCS_ELEM = 0;
  238      %EQU MAX_LCS_ELEM = 209;
  239      %EQU BITS_LCS_ELEM = 8;
  240      %MACRO START_TABLE_LCS_ELEM;
  241      DCL LCS_ELEM(0:%LCS_ELEM_LEN) UBIN(%BITS_LCS_ELEM) UNAL CONSTANT SYMDEF INIT(0
  242      %MEND;
  243      %MACRO LCSE(E=0);
  244      ,E
  245      %MEND;
  246      %MACRO END_TABLE_LCS_ELEM;
  247          );
  248      %MEND;
  249      %EQU MIN_LCP_NT = 0;
  250      %EQU MAX_LCP_NT = 392;
  251      %EQU BITS_LCP_NT = 18;
  252      %EQU MIN_LCP_COST = 0;
  253      %EQU MAX_LCP_COST = 160;
  254      %EQU BITS_LCP_COST = 8;
  255      %EQU MIN_LCP_LEN = 0;
  256      %EQU MAX_LCP_LEN = 15;
  257      %EQU BITS_LCP_LEN = 4;
  258      %EQU MIN_LCP_INDX = 0;
  259      %EQU MAX_LCP_INDX = 335;
09:10 AUG 09 '97 SCDPDA_SUBS.:Z8A6SI                                       8    
  260      %EQU BITS_LCP_INDX = 9;
  261      %EQU BITS_LCP = 39;
  262      %MACRO START_TABLE_LCP;
  263      DCL 1 LCP(0:%LCP_LEN) BIT(%BITS_LCP) UNAL CONSTANT SYMDEF INIT('0'B
  264      %MEND;
  265      %MACRO LCP(NT=0,C=0,I=0,L=0);
  266      ,%(CONCAT(BINBIT(NT,%BITS_LCP_NT),BINBIT(C,%BITS_LCP_COST),BINBIT(I,%BITS_LCP_INDX),BINBIT(L,%BITS_LCP_LEN)))
  267      %MEND;
  268      %MACRO END_TABLE_LCP;
  269          );
  270      %MEND;
  271      %EQU MIN_LCP_UBOUND = 0;
  272      %EQU MAX_LCP_UBOUND = 3477;
  273      %EQU BITS_LCP_UBOUND = 12;
  274      %MACRO START_TABLE_LCP_UBOUND;
  275      DCL LCP_UBOUND(0:%LCP_UBOUND_LEN) UBIN(%BITS_LCP_UBOUND) UNAL CONSTANT SYMDEF INIT(0
  276      %MEND;
  277      %MACRO LCPUB(U=0);
  278      ,U
  279      %MEND;
  280      %MACRO END_TABLE_LCP_UBOUND;
  281          );
  282      %MEND;
  283      %EQU MIN_LCP_ELEM = 0;
  284      %EQU MAX_LCP_ELEM = 391;
  285      %EQU BITS_LCP_ELEM = 9;
  286      %MACRO START_TABLE_LCP_ELEM;
  287      DCL LCP_ELEM(0:%LCP_ELEM_LEN) UBIN(%BITS_LCP_ELEM) UNAL CONSTANT SYMDEF INIT(0
  288      %MEND;
  289      %MACRO LCPE(E=0);
  290      ,E
  291      %MEND;
  292      %MACRO END_TABLE_LCP_ELEM;
  293          );
  294      %MEND;
  295      %MACRO ERROR_COST_SYMREFS;
  296      DCL DEL_COST(0:%DEL_COST_LEN) UBIN(%BITS_DEL_COST) UNAL SYMREF READONLY;
09:10 AUG 09 '97 SCDPDA_SUBS.:Z8A6SI                                       9    
  297      DCL 1 LCS(0:%LCS_LEN) UNAL SYMREF READONLY,
  298            2 COST UBIN(%BITS_LCS_COST) UNAL,
  299            2 INDX UBIN(%BITS_LCS_INDX) UNAL,
  300            2 LEN UBIN(%BITS_LCS_LEN) UNAL;
  301      DCL LCS_ELEM(0:%LCS_ELEM_LEN) UBIN(%BITS_LCS_ELEM) UNAL SYMREF READONLY;
  302      DCL 1 LCP(0:%LCP_LEN) UNAL SYMREF READONLY,
  303            2 NT UBIN(%BITS_LCP_NT) UNAL,
  304            2 COST UBIN(%BITS_LCP_COST) UNAL,
  305            2 INDX UBIN(%BITS_LCP_INDX) UNAL,
  306            2 LEN UBIN(%BITS_LCP_LEN) UNAL;
  307      DCL LCP_UBOUND(0:%LCP_UBOUND_LEN) UBIN(%BITS_LCP_UBOUND) UNAL SYMREF READONLY;
  308      DCL LCP_ELEM(0:%LCP_ELEM_LEN) UBIN(%BITS_LCP_ELEM) UNAL SYMREF READONLY;
  309      %MEND;
  310      %EQU STATE_ITEM_LEN = 548;
  311      %EQU ITEM_LEN = 2330;
  312      %EQU PATH_LEN = 205;
  313      %EQU PATH_ELEM_LEN = 279;
  314      %EQU MIN_SSTATE = -1;
  315      %EQU MAX_SSTATE = 548;
  316      %EQU BITS_SSTATE = 11;
  317      %EQU MIN_SITEM = 0;
  318      %EQU MAX_SITEM = 4;
  319      %EQU BITS_SITEM = 3;
  320      %EQU MIN_IINDX = 0;
  321      %EQU MAX_IINDX = 279;
  322      %EQU BITS_IINDX = 9;
  323      %EQU MIN_ILEN = 0;
  324      %EQU MAX_ILEN = 11;
  325      %EQU BITS_ILEN = 4;
  326      %EQU BITS_ITEM = 27;
  327      %MACRO START_TABLE_ITEM;
  328      DCL 1 ITEM(0:%ITEM_LEN) BIT(%BITS_ITEM) UNAL CONSTANT SYMDEF INIT('0'B
  329      %MEND;
  330      %MACRO ITEM(SS=0,SI=0,I=0,L=0);
  331      ,%(CONCAT(BINBIT(SS,%BITS_SSTATE),BINBIT(SI,%BITS_SITEM),BINBIT(I,%BITS_IINDX),BINBIT(L,%BITS_ILEN)))
  332      %MEND;
  333      %MACRO END_TABLE_ITEM;
09:10 AUG 09 '97 SCDPDA_SUBS.:Z8A6SI                                       10   
  334          );
  335      %MEND;
  336      %EQU MIN_SI_BASIS = 0;
  337      %EQU MAX_SI_BASIS = 2330;
  338      %EQU BITS_SI_BASIS = 12;
  339      %EQU MIN_SI_CLOSURE = 0;
  340      %EQU MAX_SI_CLOSURE = 2330;
  341      %EQU BITS_SI_CLOSURE = 12;
  342      %EQU BITS_STATE_ITEM = 24;
  343      %MACRO START_TABLE_STATE_ITEM;
  344      DCL 1 STATE_ITEM(0:%STATE_ITEM_LEN) BIT(%BITS_STATE_ITEM) UNAL CONSTANT SYMDEF INIT('0'B
  345      %MEND;
  346      %MACRO STINDX(B=0,C=0);
  347      ,%(CONCAT(BINBIT(B,%BITS_SI_BASIS),BINBIT(C,%BITS_SI_CLOSURE)))
  348      %MEND;
  349      %MACRO END_TABLE_STATE_ITEM;
  350          );
  351      %MEND;
  352      %EQU MIN_P_INDX = -1;
  353      %EQU MAX_P_INDX = 279;
  354      %EQU BITS_P_INDX = 10;
  355      %EQU MIN_P_LEN = 0;
  356      %EQU MAX_P_LEN = 11;
  357      %EQU BITS_P_LEN = 4;
  358      %EQU BITS_PATH = 14;
  359      %MACRO START_TABLE_PATH;
  360      DCL  PATH(0:%PATH_LEN) BIT(%BITS_PATH) UNAL CONSTANT SYMDEF INIT('0'B
  361      %MEND;
  362      %MACRO PATH(I=0,L=0);
  363      ,%(CONCAT(BINBIT(I,%BITS_P_INDX),BINBIT(L,%BITS_P_LEN)))
  364      %MEND;
  365      %MACRO END_TABLE_PATH;
  366          );
  367      %MEND;
  368      %EQU MIN_PATH_ELEM = 0;
  369      %EQU MAX_PATH_ELEM = 392;
  370      %EQU BITS_PATH_ELEM = 9;
09:10 AUG 09 '97 SCDPDA_SUBS.:Z8A6SI                                       11   
  371      %MACRO START_TABLE_PATH_ELEM;
  372      DCL PATH_ELEM(0:%PATH_ELEM_LEN) UBIN(%BITS_PATH_ELEM) UNAL CONSTANT SYMDEF INIT(0
  373      %MEND;
  374      %MACRO PATHE(E=0);
  375      ,E
  376      %MEND;
  377      %MACRO END_TABLE_PATH_ELEM;
  378          );
  379      %MEND;
  380      %MACRO ERROR_PATH_SYMREFS;
  381      DCL 1 ITEM(0:%ITEM_LEN) UNAL SYMREF READONLY,
  382            2 SUCC_STATE SBIN(%BITS_SSTATE) UNAL,
  383            2 SUCC_ITEM UBIN(%BITS_SITEM) UNAL,
  384            2 INDX UBIN(%BITS_IINDX) UNAL,
  385            2 LEN UBIN(%BITS_ILEN) UNAL;
  386      DCL 1 STATE_ITEM(0:%STATE_ITEM_LEN) UNAL SYMREF READONLY,
  387            2 BASIS UBIN(%BITS_SI_BASIS) UNAL,
  388            2 CLOSURE UBIN(%BITS_SI_CLOSURE) UNAL;
  389      DCL 1 PATH(0:%PATH_LEN) UNAL SYMREF READONLY,
  390            2 INDX SBIN(%BITS_P_INDX) UNAL,
  391            2 LEN UBIN(%BITS_P_LEN) UNAL;
  392      DCL PATH_ELEM(0:%PATH_ELEM_LEN) UBIN(%BITS_PATH_ELEM) UNAL SYMREF READONLY;
  393      %MEND;


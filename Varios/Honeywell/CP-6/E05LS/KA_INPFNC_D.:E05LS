VERSION E05

PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:1    
        1        1        /*M* GA_INPFNC_D ASYNC HANDLER INPUT FUNCTION DATA */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* NSO,DFC */
        8        8        KA_INPFNC_D: PROC;
        9        9        /*
       10       10           Standard (generally CP-5 compatible) input functions.
       11       11        */
       12       12 S      %INCLUDE KV_GLBCNS_E;
       13       13        %INCLUDE KV_ASCCHR_E;
       14      150 S      %INCLUDE KV_PRMID_E;
       15      151        %KV_CMPCOD_E;
       16      165        %KV_INPOPRX_E;
       17      177        %KV_PRMID_E;
       18      333        %INCLUDE KA_GLBASM_E;
       19      415        %INCLUDE KA_GLB_E;
       20      493        %KA_INPFNC_E;
       21      538        %INCLUDE KV$INPFNC;
       22     1097 S      %INCLUDE KV$GLB;
       23     1098 S      %INCLUDE KV$VDH;
       24     1099        %KV_INPPRC_E;
       25     1151    1   DCL KA_INPFNCTBLHED$ PTR CONSTANT SYMDEF INIT(ADDR(KA_INPFNC.CP5));
       26     1152        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:2    
       27     1153        /*
       28     1154           CP-5 compatible (almost) system input function table.
       29     1155           Contains all of the CP-5 ESCAPE and control sequences, with
       30     1156           the following changes:
       31     1157
       32     1158           ESC-STX (ESC-CTRL-B) is the same as ESC-B except
       33     1159           that type-ahead is not deleted.
       34     1160
       35     1161           ESC-EOT (ESC-D) is the same as ESC-D except that the last
       36     1162           saved edit buffer for the current stream is recalled.
       37     1163           Host 'domain' is mapped into stream in B02.
       38     1164
       39     1165           ESC-A in CP5 is ESC-$ in CP6.
       40     1166
       41     1167           ESC-D in CP-6 always recalls the last saved input edit buffer.
       42     1168
       43     1169           ESC-G in CP-6 displays internal communications processor
       44     1170           information.
       45     1171
       46     1172           ESC-K in CP-6 deletes from the edit point thru the end of the
       47     1173           input record.
       48     1174
       49     1175           ESC-M (enter column replacement mode) resets ESC-O (enter
       50     1176           logical overstrike mode).  Since the architecture of the
       51     1177           CP-6 ASYNC handler is significantly different than the CP-5
       52     1178           COC handler, input editing in CP-6 is much more powerful.
       53     1179           As a result, the meaning of ESC-O has changed significantly.
       54     1180
       55     1181           ESC-N in CP-6 positions to the end of the input record.  ESC-D
       56     1182           in CP-5 did this, under some circumstances.
       57     1183
       58     1184           ESC-O has changed.  See ESC-M.
       59     1185
       60     1186           ESC-P (half-duplex paper tape mode) is exited upon receipt of
       61     1187           BREAK, CTRL-Y, ESC-ESC, or ESC-Y.
       62     1188
       63     1189           ESC-Q issues a response from the communications processor
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:3    
       64     1190           (!HI!) and also (if logged on) from the host (E.G., !SCU!).
       65     1191
       66     1192           ESC-V-CHARACTER in CP-6 positions to the specified character in
       67     1193           the input record.
       68     1194
       69     1195           ESC-Z is not in CP-6 because coupling isn't.
       70     1196
       71     1197           ESC-$ selects the proper translate table.  CP-6 supports
       72     1198           bit-paired APL terminals, in addition to the normal ASCII and
       73     1199           and typewriter-paired APL terminals supported by CP-5.
       74     1200           As a result of ESC-$, two 'other' escapes appear to the normal
       75     1201           ASCII terminal user; they are ESC-X'7C' (ESC-VERTICAL-LINE)
       76     1202           and ESC-X'7E' (ESC-TILDE).  They will put the line into
       77     1203           one of the APL modes.  ESC-$ will return the line to normal
       78     1204           ASCII mode.
       79     1205
       80     1206           ESC-HYPHEN in CP-6 tells the handler that the terminal is
       81     1207           positioned at the perf.
       82     1208        */
       83     1209        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:4    
       84     1210        %KV_INPOPR (NAME=KA_INPFNC, TYP=MSC, RED=); /* Dummy to get started           */
       85     1248        /*
       86     1249          INPOPRs used by routines that directly call the
       87     1250          input function interpreter with INPOPR indexes. These INPOPRs couldn't
       88     1251          be expressed in one word; these are "branched to" via
       89     1252          JMP INPOPRs below.
       90     1253        */
       91     1254        %EQU Y#INPOPR_PRTERR =KV_INPOPRX;
       92     1255        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_PRTERR, CHN=);
       93     1293        %KV_INPOPR (TYP=TXT, IMD=, DSP=WRT,
       94     1294                       TXT="%CONCAT (BITASC (ASCIIBEL), BITASC (ASCIINMB))", CHN=);
       95     1332        %KV_INPOPR (TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_PRTERR);
       96     1370        %EQU Y#INPOPR_RE_RED =KV_INPOPRX;
       97     1371        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_COPSTREDTBFR, CHN=);
       98     1409        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RE_TYP);
       99     1447        %EQU Y#INPOPR_RSTINSMOD =KV_INPOPRX;
      100     1448        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RSTINSMOD, CHN=);
      101     1486        %EQU Y#INPOPR_RE_TYP =KV_INPOPRX;
      102     1487        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RE_PSTRED, CHN=);
      103     1525        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RE_TYP);
      104     1563        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:5    
      105     1564        /*
      106     1565          INPOPRs for special characters that couldn't
      107     1566          be expressed in one word; these are "branched to" via
      108     1567          JMP INPOPRs below.
      109     1568        */
      110     1569        %EQU Y#ASCIIEM =KV_INPOPRX;
      111     1570        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_MNTATN, CHN=);
      112     1608        %KV_INPOPR (TYP=MSC, IMD=, DLTINP=, DLTOTP=, ABRRED=, CHN=);
      113     1646        %KV_INPOPR (TYP=RSTPRM, IMD=, PRMID=KV_PRMID_HALFDUPLEXPAPERTAPE);
      114     1684        %EQU Y#F_MNTATN=KV_INPOPRX;
      115     1685        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_MNTATN, CHN=);
      116     1723        %KV_INPOPR (TYP=MSC, IMD=, DLTINP=, ABRRED=);
      117     1761        %EQU Y#INPOPR_FLWON =KV_INPOPRX;
      118     1762        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_FLWON);
      119     1800        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:6    
      120     1801        %SET KV_INPOPR0=KV_INPOPRX-1;
      121     1802        /*
      122     1803          Input operators (INPOPRs) used by routines that directly call the
      123     1804          input function interpreter with INPOPR indexes.
      124     1805          These INPOPRs must have fixed (non-floating) displacements
      125     1806          from the start of the INPOPR table (KV_INPOPR0).
      126     1807        */
      127     1808        %KV_INPOPR (TEST=KV_INPOPRX_INT,
      128     1809           TYP=MSC, IMD=);            /* Initialization (after switching inpfnctbl's) */
      129     1847        %KV_INPOPR (TEST=KV_INPOPRX_PRGINP,
      130     1848           TYP=MSC, IMD=, DLTINP=);             /* M$PURGE input                      */
      131     1886        %KV_INPOPR (TEST=KV_INPOPRX_PRGOTP,
      132     1887           TYP=MSC, IMD=, DLTOTP=);             /* M$PURGE output                     */
      133     1925        %KV_INPOPR (TEST=KV_INPOPRX_PRTERR,
      134     1926        TYP=JMP, RED=, INPOPRX=Y#INPOPR_PRTERR); /*                                   */
      135     1964        %KV_INPOPR (TEST=KV_INPOPRX_RE_RED,
      136     1965        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RE_RED); /*M$READ w/reread              */
      137     2003        %KV_INPOPR (TEST=KV_INPOPRX_RE_TYP,
      138     2004        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RE_TYP); /*G#FNCWRTIMD in read          */
      139     2042        %KV_INPOPR (TEST=KV_INPOPRX_PRGRED,
      140     2043           TYP=MSC, RED=, DLTRED=);             /* Spare                              */
      141     2081        %KV_INPOPR (TEST=KV_INPOPRX_REDDATLST,
      142     2082        TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_BFROVRRUN); /*                             */
      143     2120        %KV_INPOPR (TEST=KV_INPOPRX_RSTINSMOD,
      144     2121        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RSTINSMOD); /*Reset insert mode         */
      145     2159        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 1                            */
      146     2197        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 2                            */
      147     2235        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 3                            */
      148     2273        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 4                            */
      149     2311        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:7    
      150     2312        /*
      151     2313           Input operators (INPOPRs) for special characters (SPCCHRs).
      152     2314           These INPOPRs must have fixed (non-floating) displacements
      153     2315           from the start of the INPOPR table (KV_INPOPR0).
      154     2316        */
      155     2317        %EQU Y#ASCIIBS =KV_INPOPRX;
      156     2318        %KV_INPOPR (TEST=KA#SPCCHR_BS,
      157     2319        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTLFT); /* Ascii bs (backspace)            */
      158     2357        %KV_INPOPR (TEST=KA#SPCCHR_CAN,
      159     2358        TYP=MSC, IMD=, DLTINP=, DLTRED=, DLTOTP=); /* Ascii can (ctr-x)               */
      160     2396        %KV_INPOPR (TEST=KA#SPCCHR_CR,
      161     2397         TYP=VDHINPPRC, RED=, ID=KV_INPPRC_CR); /*Ascii cr (carriage return)          */
      162     2435        %KV_INPOPR (TEST=KA#SPCCHR_DC1,
      163     2436        TYP=SETPRM, RED=, PRMID=KV_PRMID_FULLDUPLEXPAPERTAPE); /*Ascii DC1 (xon)      */
      164     2474        %EQU Y#ASCIIDC2 =KV_INPOPRX;
      165     2475        %KV_INPOPR (TEST=KA#SPCCHR_DC2,
      166     2476        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTRHT); /* Ascii DC2                       */
      167     2514        %KV_INPOPR (TEST=KA#SPCCHR_DC3,
      168     2515        TYP=RSTPRM, RED=, PRMID=KV_PRMID_FULLDUPLEXPAPERTAPE); /*Ascii DC3 (xoff)     */
      169     2553        %KV_INPOPR (TEST=KA#SPCCHR_DEL,
      170     2554        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_DEL); /*Ascii del (rubout)                  */
      171     2592        %KV_INPOPR (TEST=KA#SPCCHR_EM,
      172     2593           TYP=JMP, IMD=, INPOPRX=Y#ASCIIEM);   /* Ascii em (ctr-y)                   */
      173     2631        %KV_INPOPR (TEST=KA#SPCCHR_ESC,
      174     2632        TYP=VDHINPPRC, IMD=, RED=, ID=KV_INPPRC_ESC); /*Ascii ESC                     */
      175     2670        %KV_INPOPR (TEST=KA#SPCCHR_FF,
      176     2671        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SCREND); /*Ascii ff (ctr-l)                 */
      177     2709        %EQU Y#ASCIIHT =KV_INPOPRX;
      178     2710        %KV_INPOPR (TEST=KA#SPCCHR_HT,
      179     2711        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_TAB); /* Ascii ht, ESC-I, ESC-HT            */
      180     2749        %KV_INPOPR (TEST=KA#SPCCHR_LF,
      181     2750         TYP=VDHINPPRC, RED=, ID=KV_INPPRC_LF); /* Ascii lf (line feed)               */
      182     2788        %KV_INPOPR (TEST=KA#SPCCHR_FLWON,
      183     2789        TYP=FLWON, IMD=, INPOPRX=Y#INPOPR_FLWON); /* for telnet negotiation           */
      184     2827        /*
      185     2828           End of INPOPRs which must have fixed displacements.
      186     2829        */
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:8    
      187     2830        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:9    
      188     2831        /*
      189     2832           Now we'll reproduce the fixed displacement ones for the forms table,
      190     2833           since ther'ye a little different.
      191     2834        */
      192     2835        /* First save and re-establish the zero point. */
      193     2836        %EQU KA_CP5_0=KV_INPOPR0;
      194     2837        %SET KV_INPOPR0=KV_INPOPRX-1;
      195     2838        /*
      196     2839          Input operators (INPOPRs) used by routines that directly call the
      197     2840          input function interpreter with INPOPR indexes.
      198     2841          These INPOPRs must have fixed (non-floating) displacements
      199     2842          from the start of the INPOPR table (KV_INPOPR0).
      200     2843        */
      201     2844        %KV_INPOPR (TEST=KV_INPOPRX_INT,
      202     2845           TYP=MSC, IMD=);            /* Initialization (after switching inpfnctbl's) */
      203     2883        %KV_INPOPR (TEST=KV_INPOPRX_PRGINP,
      204     2884           TYP=MSC, IMD=, DLTINP=);             /* M$PURGE input                      */
      205     2922        %KV_INPOPR (TEST=KV_INPOPRX_PRGOTP,
      206     2923           TYP=MSC, IMD=, DLTOTP=);             /* M$PURGE output                     */
      207     2961        %KV_INPOPR (TEST=KV_INPOPRX_PRTERR,
      208     2962        TYP=JMP, RED=, INPOPRX=Y#INPOPR_PRTERR); /*                                   */
      209     3000        %KV_INPOPR (TEST=KV_INPOPRX_RE_RED,
      210     3001        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RE_RED); /*M$READ w/reread              */
      211     3039        %KV_INPOPR (TEST=KV_INPOPRX_RE_TYP,
      212     3040        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RE_TYP); /*G#FNCWRTIMD in read          */
      213     3078        %KV_INPOPR (TYP=MSC, RED=);             /* Spare                              */
      214     3116        %KV_INPOPR (TEST=KV_INPOPRX_REDDATLST,
      215     3117        TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_BFROVRRUN); /*                             */
      216     3155        %KV_INPOPR (TEST=KV_INPOPRX_RSTINSMOD,
      217     3156        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RSTINSMOD); /*Reset insert mode         */
      218     3194        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 1                            */
      219     3232        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 2                            */
      220     3270        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 3                            */
      221     3308        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 4                            */
      222     3346        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:10   
      223     3347        /*
      224     3348           Input operators (INPOPRs) for special characters (SPCCHRs).
      225     3349           These INPOPRs must have fixed (non-floating) displacements
      226     3350           from the start of the INPOPR table (KV_INPOPR0).
      227     3351        */
      228     3352        %KV_INPOPR (TEST=KA#SPCCHR_BS,
      229     3353        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTLFT); /* Ascii bs (backspace)            */
      230     3391        %KV_INPOPR (TEST=KA#SPCCHR_CAN,
      231     3392           TYP=MSC, IMD=, DLTINP=, DLTRED=);    /* Ascii can (ctr-x)                  */
      232     3430        %KV_INPOPR (TEST=KA#SPCCHR_CR,
      233     3431        TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_NRM); /*Ascii cr (carriage return)         */
      234     3469        %KV_INPOPR (TEST=KA#SPCCHR_DC1,
      235     3470           TYP=MSC, IMD=);
      236     3508        %KV_INPOPR (TEST=KA#SPCCHR_DC2,
      237     3509        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTRHT); /* Ascii DC2                       */
      238     3547        %KV_INPOPR (TEST=KA#SPCCHR_DC3,
      239     3548           TYP=MSC, IMD=);
      240     3586        %KV_INPOPR (TEST=KA#SPCCHR_DEL,
      241     3587        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_DEL); /*Ascii del (rubout)                  */
      242     3625        %KV_INPOPR (TEST=KA#SPCCHR_EM,
      243     3626           TYP=JMP, IMD=, INPOPRX=Y#F_MNTATN);  /* Ascii em (ctr-y)                   */
      244     3664        %KV_INPOPR (TEST=KA#SPCCHR_ESC,
      245     3665        TYP=VDHINPPRC, IMD=, RED=, ID=KV_INPPRC_ESC); /*Ascii ESC                     */
      246     3703        %KV_INPOPR (TEST=KA#SPCCHR_FF,
      247     3704           TYP=MSC, IMD=);
      248     3742        %KV_INPOPR (TEST=KA#SPCCHR_HT,
      249     3743        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_TAB); /* Ascii ht, ESC-I, ESC-HT            */
      250     3781        %KV_INPOPR (TEST=KA#SPCCHR_LF,
      251     3782        TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_NRM); /* Ascii lf (line feed)              */
      252     3820        %KV_INPOPR (TEST=KA#SPCCHR_FLWON,
      253     3821        TYP=FLWON, IMD=, INPOPRX=Y#INPOPR_FLWON); /* for telnet negotiation           */
      254     3859        %EQU KA_FRM1_0=KV_INPOPR0;
      255     3860        /*
      256     3861           End of INPOPRs which must have fixed displacements.
      257     3862        */
      258     3863        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:11   
      259     3864        /*
      260     3865           Now we'll reproduce the fixed displacement ones for the editor table,
      261     3866           since they too are a little different.
      262     3867        */
      263     3868        %EQU Y#SE_MNTATN=KV_INPOPRX;
      264     3869        %KV_INPOPR (TYP=ACTRED, IMD=, CHN=);
      265     3907        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_MNTATN, CHN=);
      266     3945        %KV_INPOPR (TYP=MSC, IMD=, DLTINP=);
      267     3983        %EQU Y#SE_BRK=KV_INPOPRX;
      268     3984        %KV_INPOPR (TYP=ACTRED, IMD=, CHN=);
      269     4022        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_BRK, CHN=);
      270     4060        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_DVCOTPBFRCLR, CHN=);
      271     4098        %KV_INPOPR (TYP=MSC, IMD=, DLTINP=, CHN=);
      272     4136        %KV_INPOPR (TYP=RSTPRM, IMD=, PRMID=KV_PRMID_HALFDUPLEXPAPERTAPE);
      273     4174        %EQU Y#SE_NEWLIN=KV_INPOPRX;
      274     4175        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RSTINSMOD, CHN=);
      275     4213        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTBGNRED, CHN=);
      276     4251        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SE_DWN);
      277     4289        %EQU Y#SE_CLAOVRRUN=KV_INPOPRX;
      278     4290        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_CLAOVRRUN, CHN=);
      279     4328        %KV_INPOPR (TYP=TXT, CHN=, IMD=, DSP=WRT, TXT="%BITASC(ASCIIBEL)");
      280     4366        %KV_INPOPR (TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_RATERR);
      281     4404        %EQU Y#SE_PRTERR=KV_INPOPRX;
      282     4405        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_PRTERR, CHN=);
      283     4443        %KV_INPOPR (TYP=TXT, CHN=, IMD=, DSP=WRT, TXT="%BITASC(ASCIIBEL)");
      284     4481        %KV_INPOPR (TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_PRTERR);
      285     4519        /* Again, re-establish the zero point. */
      286     4520        %SET KV_INPOPR0=KV_INPOPRX-1;
      287     4521        /*
      288     4522          Input operators (INPOPRs) used by routines that directly call the
      289     4523          input function interpreter with INPOPR indexes.
      290     4524          These INPOPRs must have fixed (non-floating) displacements
      291     4525          from the start of the INPOPR table (KV_INPOPR0).
      292     4526        */
      293     4527        %KV_INPOPR (TEST=KV_INPOPRX_INT,
      294     4528           TYP=MSC, IMD=);            /* Initialization (after switching inpfnctbl's) */
      295     4566        %KV_INPOPR (TEST=KV_INPOPRX_PRGINP,
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:12   
      296     4567           TYP=MSC, IMD=, DLTINP=);             /* M$PURGE input                      */
      297     4605        %KV_INPOPR (TEST=KV_INPOPRX_PRGOTP,
      298     4606           TYP=MSC, IMD=, DLTOTP=);             /* M$PURGE output                     */
      299     4644        %KV_INPOPR (TEST=KV_INPOPRX_PRTERR,
      300     4645           TYP=JMP, RED=, INPOPRX=Y#SE_PRTERR); /*                                    */
      301     4683        %KV_INPOPR (TEST=KV_INPOPRX_RE_RED,
      302     4684        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RE_RED); /*M$READ w/reread              */
      303     4722        %KV_INPOPR (TEST=KV_INPOPRX_RE_TYP,
      304     4723        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RE_TYP); /*G#FNCWRTIMD in read          */
      305     4761        %KV_INPOPR (TYP=MSC, RED=);             /* Spare                              */
      306     4799        %KV_INPOPR (TEST=KV_INPOPRX_REDDATLST,
      307     4800        TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_BFROVRRUN); /*                             */
      308     4838        %KV_INPOPR (TEST=KV_INPOPRX_RSTINSMOD,
      309     4839        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RSTINSMOD); /*Reset insert mode         */
      310     4877        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 1                            */
      311     4915        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 2                            */
      312     4953        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 3                            */
      313     4991        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 4                            */
      314     5029        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:13   
      315     5030        /*
      316     5031           Input operators (INPOPRs) for special characters (SPCCHRs).
      317     5032           These INPOPRs must have fixed (non-floating) displacements
      318     5033           from the start of the INPOPR table (KV_INPOPR0).
      319     5034        */
      320     5035        %KV_INPOPR (TEST=KA#SPCCHR_BS,
      321     5036        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTLFT); /* Ascii bs (backspace)            */
      322     5074        %KV_INPOPR (TEST=KA#SPCCHR_CAN,
      323     5075           TYP=MSC, IMD=, DLTINP=, DLTRED=);    /* Ascii can (ctr-x)                  */
      324     5113        %KV_INPOPR (TEST=KA#SPCCHR_CR,
      325     5114           TYP=JMP, RED=, INPOPRX=Y#SE_NEWLIN); /*Ascii cr (carriage return)          */
      326     5152        %KV_INPOPR (TEST=KA#SPCCHR_DC1,
      327     5153           TYP=MSC, IMD=);
      328     5191        %KV_INPOPR (TEST=KA#SPCCHR_DC2,
      329     5192        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTRHT); /* Ascii DC2                       */
      330     5230        %KV_INPOPR (TEST=KA#SPCCHR_DC3,
      331     5231           TYP=MSC, IMD=);
      332     5269        %KV_INPOPR (TEST=KA#SPCCHR_DEL,
      333     5270        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_DEL); /*Ascii del (rubout)                  */
      334     5308        %KV_INPOPR (TEST=KA#SPCCHR_EM,
      335     5309           TYP=JMP, IMD=, INPOPRX=Y#SE_MNTATN); /* Ascii em (ctr-y)                   */
      336     5347        %KV_INPOPR (TEST=KA#SPCCHR_ESC,
      337     5348        TYP=VDHINPPRC, IMD=, RED=, ID=KV_INPPRC_ESC); /*Ascii ESC                     */
      338     5386        %KV_INPOPR (TEST=KA#SPCCHR_FF,
      339     5387           TYP=MSC, IMD=);
      340     5425        %KV_INPOPR (TEST=KA#SPCCHR_HT,
      341     5426        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_TAB); /* Ascii ht, ESC-I, ESC-HT            */
      342     5464        %KV_INPOPR (TEST=KA#SPCCHR_LF,
      343     5465        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SE_DWN); /* Ascii lf (line feed)            */
      344     5503        %KV_INPOPR (TEST=KA#SPCCHR_FLWON,
      345     5504        TYP=FLWON, IMD=, INPOPRX=Y#INPOPR_FLWON); /* for telnet negotiation           */
      346     5542        %EQU KA_SE1_0=KV_INPOPR0;
      347     5543        %SET KV_INPOPR0=KA_CP5_0;
      348     5544        /*
      349     5545           End of INPOPRs which must have fixed displacements.
      350     5546        */
      351     5547        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:14   
      352     5548        /*
      353     5549           INPOPRs for control strings
      354     5550        */
      355     5551        %EQU Y#INPCTRSTR_BRK=KV_INPOPRX;
      356     5552        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_BRK, CHN=);
      357     5590        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_DVCOTPBFRCLR, CHN=);
      358     5628        %KV_INPOPR (TYP=MSC,       IMD=, DLTINP=, DLTOTP=, ABRRED=, CHN=);
      359     5666        %KV_INPOPR (TYP=RSTPRM,    IMD=, PRMID=KV_PRMID_HALFDUPLEXPAPERTAPE);
      360     5704        %EQU Y#INPCTRSTR_CLAOVRRUN=KV_INPOPRX;
      361     5705        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_CLAOVRRUN, CHN=);
      362     5743        %KV_INPOPR (TYP=TXT,       IMD=, DSP=WRT,
      363     5744                    TXT="%CONCAT (BITASC (ASCIIBEL), BITASC (ASCIINMB))", CHN=);
      364     5782        %KV_INPOPR (TYP=ACTRED,    RED=, CMPCOD=KV_CMPCOD_RATERR);
      365     5820        %EQU Y#INPCTRSTR_DSCLCL = KV_INPOPRX;
      366     5821        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_TGLLCLMOD, CHN=);
      367     5859        %EQU Y#INPCTRSTR_DSC=KV_INPOPRX;
      368     5860        %KV_INPOPR (TYP=MSC,       IMD=, DLTINP=, DLTOTP=, ABRRED=, CHN=);
      369     5898        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_DSC);
      370     5936        %EQU Y#INPCTRSTR_IAC =KV_INPOPRX;
      371     5937        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_IAC);
      372     5975        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:15   
      373     5976        /*
      374     5977           Input operators (INPOPRs) for ESCAPE sequences (INPFNCs).
      375     5978        */
      376     5979        %EQU Y#ESC_SOH=KV_INPOPRX;
      377     5980        %KV_INPOPR (TYP=TGLPRM,    IMD=, ACK=, PRMID=KV_PRMID_WRPPAG);
      378     6018        %EQU Y#ESC_STX=KV_INPOPRX;
      379     6019        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_BRK, CHN=);
      380     6057        %KV_INPOPR (TYP=MSC,       IMD=, ABRRED=);
      381     6095        %EQU Y#ESC_EOT=KV_INPOPRX;
      382     6096        %KV_INPOPR (TYP=VDHINPPRC, RED=, ACK=, ID=KV_INPPRC_COPSTREDTBFR, CHN=);
      383     6134        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RE_PSTRED, CHN=);
      384     6172        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RE_TYP);
      385     6210        %EQU Y#ESC_LF=KV_INPOPRX;
      386     6211        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_LCLLF);
      387     6249        %EQU Y#ESC_VT=KV_INPOPRX;
      388     6250        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_DLTTO_BGN);
      389     6288        %EQU Y#ESC_CR=KV_INPOPRX;
      390     6289        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTBGNRED);
      391     6327        %EQU Y#ESC_DC2=KV_INPOPRX;
      392     6328        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RSTINSMOD);
      393     6366        %EQU Y#ESC_DC4=KV_INPOPRX;
      394     6367        %KV_INPOPR (TYP=TGLPRM,    IMD=, ACK=, PRMID=KV_PRMID_TRUNCATE);
      395     6405        %EQU Y#ESC_LFTPRN=KV_INPOPRX;
      396     6406        %KV_INPOPR (TYP=RSTPRM,    RED=, ACK=, PRMID=KV_PRMID_LOWERCASE);
      397     6444        %EQU Y#ESC_RHTPRN=KV_INPOPRX;
      398     6445        %KV_INPOPR (TYP=SETPRM,    RED=, ACK=, PRMID=KV_PRMID_LOWERCASE);
      399     6483        %EQU Y#ESC_APLDLR=KV_INPOPRX;
      400     6484        %KV_INPOPR (TYP=USRINPPRC, IMD=, ACK=, ID=KA#INPPRC_SETTRNTBL);
      401     6522        %EQU Y#ESC_HPH=KV_INPOPRX;
      402     6523        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_AT_PRF);
      403     6561        %EQU Y#ESC_LFTARW=KV_INPOPRX;
      404     6562        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SETINSLOWX);
      405     6600        %EQU Y#ESC_RHTARW=KV_INPOPRX;
      406     6601        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SETINSHI_X);
      407     6639        %EQU Y#ESC_A=KV_INPOPRX;
      408     6640        %KV_INPOPR (TYP=TGLPRM,    IMD=, ACK=, PRMID=KV_PRMID_PAGEHALT);
      409     6678        %EQU Y#ESC_B=KV_INPOPRX;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:16   
      410     6679        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_BRK, CHN=);
      411     6717        %KV_INPOPR (TYP=MSC,       IMD=, DLTINP=, ABRRED=);
      412     6755        %EQU Y#ESC_C=KV_INPOPRX;
      413     6756        %KV_INPOPR (TYP=TGLPRM,    RED=, ACK=, PRMID=KV_PRMID_TABRELATIVE);
      414     6794        %EQU Y#ESC_D=KV_INPOPRX;
      415     6795        %KV_INPOPR (TYP=VDHINPPRC, RED=, ACK=, ID=KV_INPPRC_COPSSNEDTBFR, CHN=);
      416     6833        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RE_PSTRED, CHN=);
      417     6871        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RE_TYP);
      418     6909        %EQU Y#ESC_E=KV_INPOPRX;
      419     6910        %KV_INPOPR (TYP=TGLPRM,    RED=, ACK=, PRMID=KV_PRMID_DISPINPUT);
      420     6948        %EQU Y#ESC_F=KV_INPOPRX;
      421     6949        %KV_INPOPR (TYP=ACTRED,    RED=, ACK=, CMPCOD=KV_CMPCOD_EOF);
      422     6987        %EQU Y#ESC_G=KV_INPOPRX;
      423     6988        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_OTPPRTID);
      424     7026        %EQU Y#ESC_H=KV_INPOPRX;
      425     7027        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_HLTOTP);
      426     7065        %EQU Y#ESC_J=KV_INPOPRX;
      427     7066        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_TGLINSMOD);
      428     7104        %EQU Y#ESC_K=KV_INPOPRX;
      429     7105        %KV_INPOPR (TYP=VDHINPPRC, RED=, ACK=, ID=KV_INPPRC_DLTTO_END);
      430     7143        %EQU Y#ESC_L=KV_INPOPRX;
      431     7144        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PAGBRK);
      432     7182        %EQU Y#ESC_M=KV_INPOPRX;
      433     7183        %KV_INPOPR (TYP=RSTPRM,    RED=, PRMID=KV_PRMID_INSMOD, CHN=);
      434     7221        %KV_INPOPR (TYP=RSTPRM,    RED=, PRMID=KV_PRMID_OVRSTR);
      435     7259        %EQU Y#ESC_N=KV_INPOPRX;
      436     7260        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTENDRED);
      437     7298        %EQU Y#ESC_O=KV_INPOPRX;
      438     7299        %KV_INPOPR (TYP=RSTPRM,    RED=, PRMID=KV_PRMID_INSMOD, CHN=);
      439     7337        %KV_INPOPR (TYP=SETPRM,    RED=, PRMID=KV_PRMID_OVRSTR);
      440     7375        %EQU Y#ESC_P=KV_INPOPRX;
      441     7376        %KV_INPOPR (TYP=TGLPRM,    RED=, ACK=, PRMID=KV_PRMID_HALFDUPLEXPAPERTAPE);
      442     7414        %EQU Y#ESC_Q=KV_INPOPRX;
      443     7415        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_OTPSTT);
      444     7453        %EQU Y#ESC_R=KV_INPOPRX;
      445     7454        %KV_INPOPR (TYP=JMP,       RED=, ACK=, INPOPRX=Y#INPOPR_RSTINSMOD);
      446     7492        %EQU Y#ESC_S=KV_INPOPRX;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:17   
      447     7493        %KV_INPOPR (TYP=TGLPRM,    RED=, ACK=, PRMID=KV_PRMID_SPACEINSERT);
      448     7531        %EQU Y#ESC_T=KV_INPOPRX;
      449     7532        %KV_INPOPR (TYP=TGLPRM,    RED=, ACK=, PRMID=KV_PRMID_TABSIM);
      450     7570        %EQU Y#ESC_U=KV_INPOPRX;
      451     7571        %KV_INPOPR (TYP=TGLPRM,    RED=, ACK=, PRMID=KV_PRMID_UPPERCASE);
      452     7609        %EQU Y#ESC_V=KV_INPOPRX;
      453     7610        %KV_INPOPR (TYP=FLWON,     IMD=, RED=);
      454     7648        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_FNDPSTCHR);
      455     7686        %EQU Y#ESC_W=KV_INPOPRX;
      456     7687        %KV_INPOPR (TYP=MSC,       IMD=, DLTOTP=, CHN=);
      457     7725        %KV_INPOPR (TYP=TGLPRM,    IMD=, ACK=, PRMID=KV_PRMID_OUTPUTDISCARD);
      458     7763        %EQU Y#ESC_X=KV_INPOPRX;
      459     7764        %KV_INPOPR (TYP=MSC,       RED=, ACK=, DLTRED=);
      460     7802        %EQU Y#ESC_Y=KV_INPOPRX;
      461     7803        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_MNTATN, CHN=);
      462     7841        %KV_INPOPR (TYP=MSC,       IMD=, DLTINP=, ABRRED=, CHN=);
      463     7879        %KV_INPOPR (TYP=RSTPRM,    IMD=, PRMID=KV_PRMID_HALFDUPLEXPAPERTAPE);
      464     7917        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:18   
      465     7918        /*
      466     7919           A couple of items just for forms.
      467     7920        */
      468     7921        %EQU Y#F_PSTUP =KV_INPOPRX;
      469     7922        %KV_INPOPR (TYP=PST,       RED=, VRTPSTUNT=FLD, VRTPSTVAL=-1, HRZPSTVAL=1);
      470     8033        %EQU Y#F_PSTDWN=KV_INPOPRX;
      471     8034        %KV_INPOPR (TYP=PST,       RED=, VRTPSTUNT=FLD, VRTPSTVAL=1, HRZPSTVAL=1);
      472     8145        %EQU Y#F_RE_DSP=KV_INPOPRX;
      473     8146        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_RE_TYPFRM);
      474     8184        /* Spares for patching */
      475     8185    1      2 *(0:20) UBIN INIT(0*0),
      476     8186        %SET KV_INPOPRX=KV_INPOPRX+21;
      477     8187        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:19   
      478     8188        /*
      479     8189           First the necessary control strings so that FNC=NONE is ok.
      480     8190        */
      481     8191        %IF KA#INPCTRSTRCHR_INT = 254;
      482     8192        %KV_FNCID (ID=KA#INPCTRSTRCHR_DSC, INPOPRX=Y#INPCTRSTR_DSC, TYP=CTRSTR);
      483     8279        %ELSE;
      491     8287        %ENDIF;
      492     8288        /*
      493     8289           Save the current status. That's all we need for FNC=NONE.
      494     8290        */
      495     8291        %EQU KA_NUL_FNCID_SAV = KV_FNCID_SAV;
      496     8292
      497     8293        /*
      498     8294           Input function identifiers declaring system primary
      499     8295           ESCAPE sequences for the smallest subset of the CP-5 compatible table.
      500     8296        */
      501     8297        %KV_FNCID (ID=ASCIIEOT, INPOPRX=Y#ESC_EOT, TYP=PRMESC);
      502     8384        %KV_FNCID (ID=ASCIILF, INPOPRX=Y#ESC_LF);
      503     8471        %KV_FNCID (ID=ASCIIVT, INPOPRX=Y#ESC_VT);
      504     8558        %KV_FNCID (ID=ASCIICR, INPOPRX=Y#ESC_CR);
      505     8645        %KV_FNCID (ID=ASCIIDC2, INPOPRX=Y#ESC_DC2);
      506     8732        %KV_FNCID (ID=ASCIIDC4, INPOPRX=Y#ESC_DC4);
      507     8819        %KV_FNCID (ID='<', INPOPRX=Y#ESC_LFTARW);
      508     8906        %KV_FNCID (ID='>', INPOPRX=Y#ESC_RHTARW);
      509     8993        %EQU Y#ESC_QOT=KV_INPOPRX;
      510     8994        %KV_INPOPR (TYP=SETPRM, RED=, PRMID=KV_PRMID_INSMOD, FNCID=ASCIISNGQOT);
      511     9118        %EQU Y#ESC_ETB=KV_INPOPRX;
      512     9119        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_DELWRD, FNCID=ASCIIETB);
      513     9243        %EQU Y#ESC_DEL=KV_INPOPRX;
      514     9244        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_DELLFT, FNCID=ASCIIDEL);
      515     9368        %EQU Y#ESC_AST=KV_INPOPRX;
      516     9369        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SAVEDTWND, FNCID=ASCIIAST);
      517     9493        %EQU Y#ESC_CLN=KV_INPOPRX;
      518     9494        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RCLEDTWND, FNCID=ASCIICLN);
      519     9618        %KV_FNCID (ID='D', INPOPRX=Y#ESC_D);
      520     9705        %KV_FNCID (ID='F', INPOPRX=Y#ESC_F);
      521     9792        %KV_FNCID (ID='G', INPOPRX=Y#ESC_G);
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:20   
      522     9879        %KV_FNCID (ID='J', INPOPRX=Y#ESC_J);
      523     9966        %KV_FNCID (ID='K', INPOPRX=Y#ESC_K);
      524    10053        %KV_FNCID (ID='N', INPOPRX=Y#ESC_N);
      525    10140        %KV_FNCID (ID='Q', INPOPRX=Y#ESC_Q);
      526    10227        %KV_FNCID (ID='R', INPOPRX=Y#ESC_R);
      527    10314        %KV_FNCID (ID='V', INPOPRX=Y#ESC_V);
      528    10401        %KV_FNCID (ID='X', INPOPRX=Y#ESC_X);
      529    10488        %EQU Y#ESC_Z = KV_INPOPRX;
      530    10489        %KV_INPOPR (TYP=VDHINPPRC, RED=, IMD=, ID=KV_INPPRC_TGLLCLMOD, FNCID='Z');
      531    10613        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:21   
      532    10614        /*
      533    10615           Secondary ESCAPE functions (permitting numbers) for the smallest subset.
      534    10616           That's the generic set/reset/toggle parameter ones, pstlft-rht, and tab.
      535    10617        */
      536    10618
      537    10619        %EQU Y#SET_PRM=KV_INPOPRX;
      538    10620        %KV_INPOPR (TYP=SETPRM, IMD=, PRMID=0, FNCID='S', FNCTYP=SCNESC);
      539    10744        %EQU Y#RST_PRM=KV_INPOPRX;
      540    10745        %KV_INPOPR (TYP=RSTPRM, IMD=, PRMID=0, FNCID='R');
      541    10869        %EQU Y#TGL_PRM=KV_INPOPRX;
      542    10870        %KV_INPOPR (TYP=TGLPRM, IMD=, ACK=, PRMID=0, FNCID='T');
      543    10994        %KV_FNCID (ID='C', INPOPRX=Y#ASCIIDC2);
      544    11081        %KV_FNCID (ID='D', INPOPRX=Y#ASCIIBS);
      545    11168        %KV_FNCID (ID='I', INPOPRX=Y#ASCIIHT);
      546    11255        %EQU Y#ESC_HT=KV_INPOPRX;
      547    11256        %KV_INPOPR (TYP=SETPRM, RED=, PRMID=KV_PRMID_AUTTABCLM, FNCID=ASCIIHT);
      548    11380        %EQU Y#ESC_UP_ARW=KV_INPOPRX;
      549    11381        %KV_INPOPR (TYP=SETPRM, RED=, PRMID=KV_PRMID_WRDWRPCLM, FNCID=ASCIIUP_ARW);
      550    11505        %EQU Y#ESC_PRD = KV_INPOPRX;
      551    11506        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_NXTSSN, FNCID='.');
      552    11630
      553    11631        /*
      554    11632           Input function identifiers declaring special characters (SPCCHRs).
      555    11633           for the smallest CP-5 subset.
      556    11634        */
      557    11635        %KV_FNCID (ID=ASCIIBS, INPOPRX=KA_CP5_0+KA#SPCCHR_BS, TYP=SPCCHR);
      558    11722        %KV_FNCID (ID=ASCIIHT, INPOPRX=KA_CP5_0+KA#SPCCHR_HT);
      559    11809        %KV_FNCID (ID=ASCIILF, INPOPRX=KA_CP5_0+KA#SPCCHR_LF);
      560    11896        %KV_FNCID (ID=ASCIIFF, INPOPRX=KA_CP5_0+KA#SPCCHR_FF);
      561    11983        %KV_FNCID (ID=ASCIICR, INPOPRX=KA_CP5_0+KA#SPCCHR_CR);
      562    12070        %KV_FNCID (ID=ASCIIDC2, INPOPRX=KA_CP5_0+KA#SPCCHR_DC2);
      563    12157        %KV_FNCID (ID=ASCIICAN, INPOPRX=KA_CP5_0+KA#SPCCHR_CAN);
      564    12244        %KV_FNCID (ID=ASCIIESC, INPOPRX=KA_CP5_0+KA#SPCCHR_ESC);
      565    12331        %KV_FNCID (ID=ASCIIDEL, INPOPRX=KA_CP5_0+KA#SPCCHR_DEL);
      566    12418        %EQU Y#ASCIIETB=KV_INPOPRX;
      567    12419        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_FNDPSTWRD, FNCID=ASCIIETB);
      568    12543        %EQU Y#ASCIINAK=KV_INPOPRX;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:22   
      569    12544        %KV_INPOPR (TYP=SETPRM, RED=, CHN=, PRMID=KV_PRMID_CHNCAS, FNCID=ASCIINAK);
      570    12668        %KV_INPOPR (TYP=VDHINPPRC, RED=, CHN=, ID=KV_INPPRC_PSTRHT);
      571    12706        %KV_INPOPR (TYP=RSTPRM, RED=, PRMID=KV_PRMID_CHNCAS);
      572    12744        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:23   
      573    12745        /*
      574    12746           And the rest of the ids for async input control strings.
      575    12747        */
      576    12748        %IF KA#INPCTRSTRCHR_INT = 254;
      577    12749        %KV_FNCID (ID=KA#INPCTRSTRCHR_BRK, INPOPRX=Y#INPCTRSTR_BRK, TYP=CTRSTR);
      578    12836        %KV_FNCID (ID=KA#INPCTRSTRCHR_CLAOVRRUN, INPOPRX=Y#INPCTRSTR_CLAOVRRUN);
      579    12923        %KV_FNCID (ID=KA#INPCTRSTRCHR_PRTERR, INPOPRX=Y#INPOPR_PRTERR);
      580    13010        %ELSE;
      586    13016        %ENDIF;
      587    13017        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:24   
      588    13018        /*
      589    13019           Now let's save those id counts, and add the ones for CP5S1.
      590    13020        */
      591    13021        %SET KA_CP5S2_FNCID_SAV=KV_FNCID_SAV;
      592    13022        %KV_FNCID (ID=ASCIISOH, INPOPRX=Y#ESC_SOH, TYP=PRMESC);
      593    13109        %KV_FNCID (ID=ASCIISTX, INPOPRX=Y#ESC_STX);
      594    13196        %KV_FNCID (ID=ASCIIESC, INPOPRX=Y#ESC_Y);
      595    13283        %KV_FNCID (ID='$', INPOPRX=Y#ESC_APLDLR);
      596    13370        %KV_FNCID (ID='-', INPOPRX=Y#ESC_HPH);
      597    13457        %KV_FNCID (ID='A', INPOPRX=Y#ESC_A);
      598    13544        %KV_FNCID (ID='B', INPOPRX=Y#ESC_B);
      599    13631        %KV_FNCID (ID='E', INPOPRX=Y#ESC_E);
      600    13718        %KV_FNCID (ID='H', INPOPRX=Y#ESC_H);
      601    13805        %KV_FNCID (ID='L', INPOPRX=Y#ESC_L);
      602    13892        %KV_FNCID (ID='M', INPOPRX=Y#ESC_M);
      603    13979        %KV_FNCID (ID='O', INPOPRX=Y#ESC_O);
      604    14066        %KV_FNCID (ID='U', INPOPRX=Y#ESC_U);
      605    14153        %KV_FNCID (ID='W', INPOPRX=Y#ESC_W);
      606    14240        %KV_FNCID (ID='Y', INPOPRX=Y#ESC_Y);
      607    14327        %KV_FNCID (ID='7C'X, INPOPRX=Y#ESC_APLDLR);
      608    14414        %KV_FNCID (ID='7E'X, INPOPRX=Y#ESC_APLDLR);
      609    14501        %KV_FNCID (ID='C6'X, INPOPRX=Y#ESC_APLDLR);
      610    14588        %KV_FNCID (ID='CF'X, INPOPRX=Y#ESC_APLDLR);
      611    14675        %KV_FNCID (ID='D4'X, INPOPRX=Y#ESC_APLDLR);
      612    14762        %EQU Y#SET_HSS=KV_INPOPRX;
      613    14763        %KV_INPOPR (TYP=SETPRM, RED=, PRMID=KV_PRMID_HRZSCRSHF, FNCID='H',
      614    14764                    FNCTYP=SCNESC);
      615    14888        %EQU Y#SET_HSM=KV_INPOPRX;
      616    14889        %KV_INPOPR (TYP=SETPRM, RED=, PRMID=KV_PRMID_HRZSCRMRG, FNCID='M');
      617    15013        %KV_FNCID (ID=ASCIIEM, INPOPRX=KA_CP5_0+KA#SPCCHR_EM, TYP=SPCCHR);
      618    15100        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:25   
      619    15101        /*
      620    15102           Now we'll save those, and add the rest, to make the full table.
      621    15103        */
      622    15104        %SET KA_CP5S1_FNCID_SAV=KV_FNCID_SAV;
      623    15105        %KV_FNCID (ID='(', INPOPRX=Y#ESC_LFTPRN, TYP=PRMESC);
      624    15192        %KV_FNCID (ID="')'", INPOPRX=Y#ESC_RHTPRN);
      625    15279        %KV_FNCID (ID='C', INPOPRX=Y#ESC_C);
      626    15366        %KV_FNCID (ID='P', INPOPRX=Y#ESC_P);
      627    15453        %KV_FNCID (ID='S', INPOPRX=Y#ESC_S);
      628    15540        %KV_FNCID (ID='T', INPOPRX=Y#ESC_T);
      629    15627        %KV_FNCID (ID=ASCIIDC1, INPOPRX=KA_CP5_0+KA#SPCCHR_DC1, TYP=SPCCHR);
      630    15714        %KV_FNCID (ID=ASCIIDC3, INPOPRX=KA_CP5_0+KA#SPCCHR_DC3);
      631    15801        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:26   
      632    15802        /*
      633    15803           Now lets make some tables.
      634    15804        */
      635    15805        %LIST;
      636    15806        %KV$INPFNCTBL (NAME=NUL, NAM='NO', STCLASS=CONSTANT,
      637    15807                       LNK=KA_INPFNC.CP5S1, LAST=",", FNCID_SAV=KA_NUL_FNCID_SAV);
             15808        %LSET LISTDIR='0'B;
             15857    1   2 NUL,
             15859    1   3 LNK$ PTR INIT(ADDR(KA_INPFNC.CP5S1)),
             15864    1   3 BYTSIZ UBIN(16)ALIGNED INIT(92),
             15868    1   3 USRCNT UBIN(16)ALIGNED INIT(32767) ,3 NAM CHAR(8)INIT('NO') ,
             15876    1   3 * CHAR(38)INIT('                                      '),3 * UBIN BYTE CALIGNED
             15876            INIT(0),3 * BIT(2)INIT('00'B),3 * BIT(1)INIT('0'B),3 * BIT(5)INIT
             15877    1   ('0'B),3 *(0:11)SBIN INIT(101,90,151,86,86,86,107,96,157,92,92,92),3 *(0:3)BIT(16)
             15877            INIT(
             15878    1   '1111111111111111'B,'1111111111111111'B,'1111111111111111'B,'1111111111111111'B),3 *
             15878            (0:1)SBIN INIT
             15879    1   (-211,0)
             15884    1   ,2 * CHAR(0)INIT(
             15884    1    '    SRTCDI	^.HM      <>''  *:DFGJKNQRVXZ   $-ABEHLMOUWY|~FOT()CPST 	             '
             15884            ),2 * CHAR(0)INIT(' l b f q G H I       J K L Q R r u v w x y ~   A B C D E     
             15884        	               F o p   | }                     | | | | | z {                       
             15884            M N      ')
             15887    1   ,
      638    15891        %KV$INPFNCTBL (NAME=CP5, NAM='CP5', PRMINTCHR1=ASCIIESC, STCLASS=CONSTANT,
      639    15892                       SCNINTCHR1=ASCIIESC, ESCCNTOK=S,
      640    15893                       LNK=KA_INPFNC.NUL, LAST=",");
             15894        %LSET LISTDIR='0'B;
             15943    1   2 CP5,
             15945    1   3 LNK$ PTR INIT(ADDR(KA_INPFNC.NUL)),
             15950    1   3 BYTSIZ UBIN(16)ALIGNED INIT(92),
             15954    1   3 USRCNT UBIN(16)ALIGNED INIT(32767) ,3 NAM CHAR(8)INIT('CP5') ,
             15962    1   3 * CHAR(38)INIT('2      luP                            '),3 * UBIN BYTE CALIGNED
             15962            INIT(0),3 * BIT(2)INIT('01'B),3 * BIT(1)INIT('0'B),3 * BIT(5)INIT
             15963    1   ('0'B),3 *(0:11)SBIN INIT(-64,-75,-14,-79,-79,-79,-223,-234,-173,-238,-238,-238),3 *
             15963            (0:3)BIT(16)INIT(
             15964    1   '0000000000011011'B,'0000000000011011'B,'1111111111111111'B,'1111111111111111'B),3 *
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:27   
             15964            (0:1)SBIN INIT
             15965    1   (-376,0)
             15973    1   ,
      641    15977        %KV$INPFNCTBL (NAME=CP5S1, NAM='CP5S1', PRMINTCHR1=ASCIIESC, STCLASS=CONSTANT,
      642    15978                       SCNINTCHR1=ASCIIESC, SBSLVL=1, ESCCNTOK=S,
      643    15979                       LNK=KA_INPFNC.CP5S2, LAST=",", FNCID_SAV=KA_CP5S1_FNCID_SAV);
             15980        %LSET LISTDIR='0'B;
             16029    1   2 CP5S1,
             16031    1   3 LNK$ PTR INIT(ADDR(KA_INPFNC.CP5S2)),
             16036    1   3 BYTSIZ UBIN(16)ALIGNED INIT(92),
             16040    1   3 USRCNT UBIN(16)ALIGNED INIT(32767) ,3 NAM CHAR(8)INIT('CP5S1') ,
             16048    1   3 * CHAR(38)INIT(',      l%P                            '),3 * UBIN BYTE CALIGNED
             16048            INIT(1),3 * BIT(2)INIT('01'B),3 * BIT(1)INIT('0'B),3 * BIT(5)INIT
             16049    1   ('0'B),3 *(0:11)SBIN INIT(-110,-121,-60,-125,-125,-125,-315,-326,-265,-330,-330,-330
             16049            ),3 *(0:3)BIT(16)INIT(
             16050    1   '0000000000011011'B,'0000000000011011'B,'1111111111111111'B,'1111111111111111'B),3 *
             16050            (0:1)SBIN INIT
             16051    1   (-422,0)
             16059    1   ,
      644    16063        %KV$INPFNCTBL (NAME=CP5S2, NAM='CP5S2', PRMINTCHR1=ASCIIESC, STCLASS=CONSTANT,
      645    16064                       SCNINTCHR1=ASCIIESC, SBSLVL=2, ESCCNTOK=S,
      646    16065                       LNK=KA_INPFNC.FRM1, LAST=",", FNCID_SAV=KA_CP5S2_FNCID_SAV);
             16066        %LSET LISTDIR='0'B;
             16115    1   2 CP5S2,
             16117    1   3 LNK$ PTR INIT(ADDR(KA_INPFNC.FRM1)),
             16122    1   3 BYTSIZ UBIN(16)ALIGNED INIT(92),
             16126    1   3 USRCNT UBIN(16)ALIGNED INIT(32767) ,3 NAM CHAR(8)INIT('CP5S2') ,
             16134    1   3 * CHAR(38)INIT(' 	     l%                             '),3 * UBIN BYTE CALIGNED
             16134            INIT(2),3 * BIT(2)INIT('01'B),3 * BIT(1)INIT('0'B),3 * BIT(5)INIT
             16135    1   ('0'B),3 *(0:11)SBIN INIT(-156,-167,-106,-171,-171,-171,-407,-418,-357,-422,-422,
             16135            -422),3 *(0:3)BIT(16)INIT(
             16136    1   '0000000000011011'B,'0000000000011011'B,'1111111111111111'B,'1111111111111111'B),3 *
             16136            (0:1)SBIN INIT
             16137    1   (-468,0)
             16145    1   ,
      647    16149        %PLIST;
      648    16150        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:28   
      649    16151        /*
      650    16152           Input function identifiers declaring system primary
      651    16153           ESCAPE sequences for the forms input function table.
      652    16154        */
      653    16155        %SET KV_INPOPR0=KA_FRM1_0;
      654    16156        %KV_FNCID (ID=ASCIILF, INPOPRX=Y#ESC_CR, TYP=PRMESC);
      655    16243        %KV_FNCID (ID=ASCIIVT, INPOPRX=Y#ESC_VT);
      656    16330        %KV_FNCID (ID=ASCIICR, INPOPRX=Y#ESC_CR);
      657    16417        %KV_FNCID (ID=ASCIIDC2, INPOPRX=Y#ESC_DC2);
      658    16504        %KV_FNCID (ID=ASCIIETB, INPOPRX=Y#ESC_ETB);
      659    16591        %KV_FNCID (ID=ASCIIEOT, INPOPRX=Y#ESC_D);
      660    16678        %KV_FNCID (ID=ASCIIESC, INPOPRX=Y#F_MNTATN);
      661    16765        %KV_FNCID (ID='(', INPOPRX=Y#ESC_LFTPRN);
      662    16852        %KV_FNCID (ID="')'", INPOPRX=Y#ESC_RHTPRN);
      663    16939        %KV_FNCID (ID='<', INPOPRX=Y#ESC_LFTARW);
      664    17026        %KV_FNCID (ID='>', INPOPRX=Y#ESC_RHTARW);
      665    17113        %KV_FNCID (ID='-', INPOPRX=Y#F_RE_DSP);
      666    17200        %KV_FNCID (ID='A', INPOPRX=Y#F_PSTUP);
      667    17287        %KV_FNCID (ID='B', INPOPRX=Y#F_PSTDWN);
      668    17374        %KV_FNCID (ID='D', INPOPRX=Y#ESC_EOT);
      669    17461        %KV_FNCID (ID='G', INPOPRX=Y#ESC_G);
      670    17548        %KV_FNCID (ID='H', INPOPRX=Y#ESC_H);
      671    17635        %KV_FNCID (ID='J', INPOPRX=Y#ESC_J);
      672    17722        %KV_FNCID (ID='K', INPOPRX=Y#ESC_K);
      673    17809        %KV_FNCID (ID='M', INPOPRX=Y#ESC_M);
      674    17896        %KV_FNCID (ID='N', INPOPRX=Y#ESC_N);
      675    17983        %KV_FNCID (ID='O', INPOPRX=Y#ESC_O);
      676    18070        %KV_FNCID (ID='Q', INPOPRX=Y#ESC_Q);
      677    18157        %KV_FNCID (ID='R', INPOPRX=Y#ESC_R);
      678    18244        %KV_FNCID (ID='U', INPOPRX=Y#ESC_U);
      679    18331        %KV_FNCID (ID='V', INPOPRX=Y#ESC_V);
      680    18418        %KV_FNCID (ID='X', INPOPRX=Y#ESC_X);
      681    18505        %KV_FNCID (ID='Y', INPOPRX=Y#F_MNTATN);
      682    18592        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_BRK, CHN=, FNCID=ASCIISTX);
      683    18716        %KV_INPOPR (TYP=MSC, IMD=, DLTINP=, ABRRED=);
      684    18754        %KV_FNCID (ID='i', INPOPRX=KA#SPCCHR_CR+KA_FRM1_0); /* Often xmit key         */
      685    18841        %KV_FNCID (ID='Z', INPOPRX=Y#ESC_Z);
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:29   
      686    18928        %KV_FNCID (ID=ASCIISNGQOT, INPOPRX=Y#ESC_QOT);
      687    19015        %KV_FNCID (ID=ASCIIAST, INPOPRX=Y#ESC_AST);
      688    19102        %KV_FNCID (ID=ASCIICLN, INPOPRX=Y#ESC_CLN);
      689    19189        %KV_FNCID (ID=ASCIIDEL, INPOPRX=Y#ESC_DEL);
      690    19276        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:30   
      691    19277        /*
      692    19278           Secondary input function for forms.  Put tab here to get a backtab.
      693    19279        */
      694    19280        %KV_FNCID (ID='I', INPOPRX=Y#ASCIIHT, TYP=SCNESC);
      695    19367        %KV_FNCID (ID='.', INPOPRX=Y#ESC_PRD);
      696    19454        %KV_FNCID (ID='R', INPOPRX=Y#RST_PRM);
      697    19541        %KV_FNCID (ID='S', INPOPRX=Y#SET_PRM);
      698    19628        %KV_FNCID (ID='T', INPOPRX=Y#TGL_PRM);
      699    19715        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:31   
      700    19716        /*
      701    19717           Input function identifiers declaring special characters (SPCCHRs).
      702    19718           for the forms function table.
      703    19719        */
      704    19720        %KV_FNCID (ID=ASCIIBS, INPOPRX=KA_FRM1_0+KA#SPCCHR_BS, TYP=SPCCHR);
      705    19807        %KV_FNCID (ID=ASCIIHT, INPOPRX=KA_FRM1_0+KA#SPCCHR_HT);
      706    19894        %KV_FNCID (ID=ASCIILF, INPOPRX=KA_FRM1_0+KA#SPCCHR_LF);
      707    19981        %KV_FNCID (ID=ASCIICR, INPOPRX=KA_FRM1_0+KA#SPCCHR_CR);
      708    20068        %KV_FNCID (ID=ASCIIDC2, INPOPRX=KA_FRM1_0+KA#SPCCHR_DC2);
      709    20155        %KV_FNCID (ID=ASCIIETB, INPOPRX=Y#ASCIIETB);
      710    20242        %KV_FNCID (ID=ASCIICAN, INPOPRX=KA_FRM1_0+KA#SPCCHR_CAN);
      711    20329        %KV_FNCID (ID=ASCIIEM, INPOPRX=KA_FRM1_0+KA#SPCCHR_EM);
      712    20416        %KV_FNCID (ID=ASCIIESC, INPOPRX=KA_FRM1_0+KA#SPCCHR_ESC);
      713    20503        %KV_FNCID (ID=ASCIIDEL, INPOPRX=KA_FRM1_0+KA#SPCCHR_DEL);
      714    20590        %KV_FNCID (ID=ASCIINAK, INPOPRX=Y#ASCIINAK);
      715    20677        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:32   
      716    20678        /*
      717    20679           Now the forms control strings.  Except for break, they're the same as CP5.
      718    20680        */
      719    20681        %IF KA#INPCTRSTRCHR_INT = 254;
      720    20682        %KV_FNCID (ID=KA#INPCTRSTRCHR_BRK, INPOPRX=KA_FRM1_0+KA#SPCCHR_DC1, TYP=CTRSTR);
      721    20769        %KV_FNCID (ID=KA#INPCTRSTRCHR_CLAOVRRUN, INPOPRX=Y#INPCTRSTR_CLAOVRRUN);
      722    20856        %KV_FNCID (ID=KA#INPCTRSTRCHR_DSC, INPOPRX=Y#INPCTRSTR_DSC);
      723    20943        %KV_FNCID (ID=KA#INPCTRSTRCHR_PRTERR, INPOPRX=Y#INPOPR_PRTERR);
      724    21030        %ELSE;
      735    21041        %ENDIF;
      736    21042        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:33   
      737    21043        /*
      738    21044            Now let's build the FRM1 table.
      739    21045        */
      740    21046        %LIST;
      741    21047        %KV$INPFNCTBL (NAME=FRM1, NAM='FRM1', PRMINTCHR1=ASCIIESC, STCLASS=CONSTANT,
      742    21048                       SCNINTCHR1=ASCIIESC, ESCCNTOK=S,
      743    21049                       LNK=KA_INPFNC.SE1, LAST=",");
             21050        %LSET LISTDIR='0'B;
             21099    1   2 FRM1,
             21101    1   3 LNK$ PTR INIT(ADDR(KA_INPFNC.SE1)),
             21106    1   3 BYTSIZ UBIN(16)ALIGNED INIT(92),
             21110    1   3 USRCNT UBIN(16)ALIGNED INIT(32767) ,3 NAM CHAR(8)INIT('FRM1') ,
             21118    1   3 * CHAR(38)INIT('#      d%P                            '),3 * UBIN BYTE CALIGNED
             21118            INIT(0),3 * BIT(2)INIT('01'B),3 * BIT(1)INIT('0'B),3 * BIT(5)INIT
             21119    1   ('0'B),3 *(0:11)SBIN INIT(74,109,114,125,74,74,92,127,132,143,92,92),3 *(0:3)BIT(16)
             21119            INIT(
             21120    1   '0000000000011011'B,'0000000000011011'B,'1111111111111111'B,'1111111111111111'B),3 *
             21120            (0:1)SBIN INIT
             21121    1   (-490,0)
             21126    1   ,2 * CHAR(0)INIT('       ()<>-ABDGHJKMNOQRUVXY iZ''*: I.RST 	              '),2 *
             21126            CHAR(0)INIT(' ] \ ] ^ ( j d ` a d e       X o p q r t v w z { ~     d h   , ' * 
             21126        + ) ~ 2 . - /           3         4   L R W')
             21129    1   ,
      744    21133        %PLIST;
      745    21134        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:34   
      746    21135        /*
      747    21136           Input function identifiers declaring system primary
      748    21137           ESCAPE sequences for the editor input function table.
      749    21138        */
      750    21139        %SET KV_INPOPR0=KA_SE1_0;
      751    21140        %KV_FNCID (ID=ASCIIETB, INPOPRX=Y#ESC_ETB, TYP=PRMESC);
      752    21227        %KV_FNCID (ID=ASCIIDEL, INPOPRX=Y#ESC_DEL);
      753    21314        %KV_FNCID (ID=ASCIICR, INPOPRX=Y#ESC_CR);
      754    21401        %EQU Y#SE_UP=KV_INPOPRX;
      755    21402        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SE_UP, FNCID='A');
      756    21526        %KV_FNCID (ID='B', INPOPRX=KA_SE1_0+KA#SPCCHR_LF);
      757    21613        %KV_FNCID (ID='C', INPOPRX=KA_SE1_0+KA#SPCCHR_DC2);
      758    21700        %KV_FNCID (ID='D', INPOPRX=KA_SE1_0+KA#SPCCHR_BS);
      759    21787        %KV_FNCID (ID=ASCIIVT, INPOPRX=Y#ESC_VT);
      760    21874        %KV_INPOPR (TYP=MSC,       RED=, DLTRED=, CHN=, FNCID=ASCIIFF);
      761    21998        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_JOIN, FNCID=ASCIIBS);
      762    22122        %KV_FNCID (ID='J', INPOPRX=Y#ESC_J);
      763    22209        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_DLTTO_END, FNCID='K');
      764    22333        %KV_FNCID (ID='M', INPOPRX=Y#ESC_M);
      765    22420        %KV_FNCID (ID='N', INPOPRX=Y#ESC_N);
      766    22507        %KV_FNCID (ID='O', INPOPRX=Y#ESC_O);
      767    22594        %KV_FNCID (ID='V', INPOPRX=Y#ESC_V);
      768    22681        %KV_FNCID (ID='X', INPOPRX=Y#ESC_X);
      769    22768        %KV_FNCID (ID='Y', INPOPRX=Y#SE_MNTATN);
      770    22855        %KV_FNCID (ID=ASCIISNGQOT, INPOPRX=Y#ESC_QOT);
      771    22942        %KV_FNCID (ID='^', INPOPRX=Y#ESC_UP_ARW);
      772    23029        %KV_FNCID (ID='*', INPOPRX=Y#ESC_AST);
      773    23116        %KV_FNCID (ID=':', INPOPRX=Y#ESC_CLN);
      774    23203        %KV_FNCID (ID='I', INPOPRX=Y#ASCIIHT);
      775    23290        %KV_FNCID (ID=ASCIIHT, INPOPRX=Y#ESC_HT);
      776    23377        %KV_FNCID (ID=ASCIIDC2, INPOPRX=Y#ESC_DC2);
      777    23464        %KV_FNCID (ID=ASCIIEOT, INPOPRX=Y#ESC_D);
      778    23551        %KV_FNCID (ID=ASCIIESC, INPOPRX=Y#SE_MNTATN);
      779    23638        %KV_FNCID (ID='(', INPOPRX=Y#ESC_LFTPRN);
      780    23725        %KV_FNCID (ID="')'", INPOPRX=Y#ESC_RHTPRN);
      781    23812        %KV_FNCID (ID='<', INPOPRX=Y#ESC_LFTARW);
      782    23899        %KV_FNCID (ID='>', INPOPRX=Y#ESC_RHTARW);
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:35   
      783    23986        %KV_FNCID (ID='-', INPOPRX=Y#F_RE_DSP);
      784    24073        %KV_FNCID (ID='G', INPOPRX=Y#ESC_G);
      785    24160        %KV_FNCID (ID='H', INPOPRX=Y#ESC_H);
      786    24247        %KV_FNCID (ID='Q', INPOPRX=Y#ESC_Q);
      787    24334        %KV_FNCID (ID='R', INPOPRX=Y#ESC_R);
      788    24421        %KV_FNCID (ID='U', INPOPRX=Y#ESC_U);
      789    24508        %KV_FNCID (ID=ASCIISTX, INPOPRX=Y#SE_BRK);
      790    24595        %KV_FNCID (ID='Z', INPOPRX=Y#ESC_Z);
      791    24682        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:36   
      792    24683        /*
      793    24684           Now the ones that accept a count in the middle.
      794    24685        */
      795    24686        %KV_FNCID (ID='A', INPOPRX=Y#SE_UP, TYP=SCNESC);
      796    24773        %KV_FNCID (ID='B', INPOPRX=KA_SE1_0+KA#SPCCHR_LF);
      797    24860        %KV_FNCID (ID='C', INPOPRX=KA_SE1_0+KA#SPCCHR_DC2);
      798    24947        %KV_FNCID (ID='D', INPOPRX=KA_SE1_0+KA#SPCCHR_BS);
      799    25034        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SPLIT, FNCID=ASCIILF);
      800    25158        %EQU Y#SE_CRSHOM = KV_INPOPRX;
      801    25159        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SE_CRSHOM, FNCID='E');
      802    25283        %KV_FNCID (ID='P', INPOPRX=Y#ESC_EOT);
      803    25370        %KV_FNCID (ID='R', INPOPRX=Y#RST_PRM);
      804    25457        %KV_FNCID (ID='S', INPOPRX=Y#SET_PRM);
      805    25544        %KV_FNCID (ID='T', INPOPRX=Y#TGL_PRM);
      806    25631        %KV_FNCID (ID='I', INPOPRX=Y#ASCIIHT);
      807    25718        %KV_FNCID (ID=ASCIIHT, INPOPRX=Y#ESC_HT);
      808    25805        %KV_FNCID (ID=ASCIIUP_ARW, INPOPRX=Y#ESC_UP_ARW);
      809    25892        %KV_FNCID (ID='H', INPOPRX=Y#SET_HSS);
      810    25979        %KV_FNCID (ID='M', INPOPRX=Y#SET_HSM);
      811    26066        %KV_FNCID (ID='.', INPOPRX=Y#ESC_PRD);
      812    26153        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:37   
      813    26154        /*
      814    26155           Input function identifiers declaring special characters (SPCCHRs).
      815    26156           for the editor function table.
      816    26157        */
      817    26158        %KV_FNCID (ID=ASCIIBS, INPOPRX=KA_SE1_0+KA#SPCCHR_BS, TYP=SPCCHR);
      818    26245        %KV_FNCID (ID=ASCIIHT, INPOPRX=KA_SE1_0+KA#SPCCHR_HT);
      819    26332        %KV_FNCID (ID=ASCIILF, INPOPRX=KA_SE1_0+KA#SPCCHR_LF);
      820    26419        %KV_FNCID (ID=ASCIICR, INPOPRX=KA_SE1_0+KA#SPCCHR_CR);
      821    26506        %KV_FNCID (ID=ASCIIDC2, INPOPRX=KA_SE1_0+KA#SPCCHR_DC2);
      822    26593        %KV_FNCID (ID=ASCIIETB, INPOPRX=Y#ASCIIETB);
      823    26680        %KV_FNCID (ID=ASCIICAN, INPOPRX=KA_SE1_0+KA#SPCCHR_CAN);
      824    26767        %KV_FNCID (ID=ASCIIEM, INPOPRX=KA_SE1_0+KA#SPCCHR_EM);
      825    26854        %KV_FNCID (ID=ASCIIESC, INPOPRX=KA_SE1_0+KA#SPCCHR_ESC);
      826    26941        %KV_FNCID (ID=ASCIIDEL, INPOPRX=KA_SE1_0+KA#SPCCHR_DEL);
      827    27028        %KV_FNCID (ID=ASCIINAK, INPOPRX=Y#ASCIINAK);
      828    27115        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:38   
      829    27116        /*
      830    27117           Now the editor control strings.  Except for break, they're the same as CP5.
      831    27118        */
      832    27119        %IF KA#INPCTRSTRCHR_INT = 254;
      833    27120        %KV_FNCID (ID=KA#INPCTRSTRCHR_BRK, INPOPRX=Y#SE_BRK, TYP=CTRSTR);
      834    27207        %KV_FNCID (ID=KA#INPCTRSTRCHR_CLAOVRRUN, INPOPRX=Y#SE_CLAOVRRUN);
      835    27294        %KV_FNCID (ID=KA#INPCTRSTRCHR_DSC, INPOPRX=Y#INPCTRSTR_DSC);
      836    27381        %ELSE;
      849    27394        %ENDIF;
      850    27395        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:39   
      851    27396        /*
      852    27397            Now let's build the SE1 table.
      853    27398        */
      854    27399        %KV$INPFNCTBL (NAME=SE1, NAM='SE1', PRMINTCHR1=ASCIIESC, STCLASS=CONSTANT,
      855    27400                       SCNINTCHR1=ASCIIESC, SBSLVL=2, ESCCNTOK=S,
      856    27401                       LNK=KA_INPFNC.SE2, LAST=",");
      857    27485        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:40   
      858    27486        /*
      859    27487           Input function identifiers declaring system primary
      860    27488           ESCAPE sequences for the read-only editor input function table.
      861    27489        */
      862    27490        %SET KV_INPOPR0=KA_SE1_0;
      863    27491        %KV_FNCID (ID=ASCIICR, INPOPRX=Y#ESC_CR, TYP=PRMESC);
      864    27578        %KV_FNCID (ID='J', INPOPRX=Y#ESC_J);
      865    27665        %KV_FNCID (ID='N', INPOPRX=Y#ESC_N);
      866    27752        %KV_FNCID (ID='V', INPOPRX=Y#ESC_V);
      867    27839        %KV_FNCID (ID='Y', INPOPRX=Y#SE_MNTATN);
      868    27926        %KV_FNCID (ID='^', INPOPRX=Y#ESC_UP_ARW);
      869    28013        %KV_FNCID (ID='*', INPOPRX=Y#ESC_AST);
      870    28100        %KV_FNCID (ID='I', INPOPRX=Y#ASCIIHT);
      871    28187        %KV_FNCID (ID=ASCIIHT, INPOPRX=Y#ESC_HT);
      872    28274        %KV_FNCID (ID=ASCIIDC2, INPOPRX=Y#ESC_DC2);
      873    28361        %KV_FNCID (ID=ASCIIESC, INPOPRX=Y#SE_MNTATN);
      874    28448        %KV_FNCID (ID='<', INPOPRX=Y#ESC_LFTARW);
      875    28535        %KV_FNCID (ID='>', INPOPRX=Y#ESC_RHTARW);
      876    28622        %KV_FNCID (ID='-', INPOPRX=Y#F_RE_DSP);
      877    28709        %KV_FNCID (ID='G', INPOPRX=Y#ESC_G);
      878    28796        %KV_FNCID (ID='H', INPOPRX=Y#ESC_H);
      879    28883        %KV_FNCID (ID='Q', INPOPRX=Y#ESC_Q);
      880    28970        %KV_FNCID (ID='R', INPOPRX=Y#ESC_R);
      881    29057        %KV_FNCID (ID=ASCIISTX, INPOPRX=Y#SE_BRK);
      882    29144        %KV_FNCID (ID='Z', INPOPRX=Y#ESC_Z);
      883    29231        %EQU Y#SE_NULINP=KV_INPOPRX;
      884    29232        %KV_INPOPR (TYP=TXT, RED=, DSP=REDBFR, TXT='X', FNCID=ASCIIBS);
      885    29356        %KV_FNCID (ID=ASCIIDEL, INPOPRX=Y#SE_NULINP);
      886    29443        %KV_FNCID (ID=ASCIIEOT, INPOPRX=Y#SE_NULINP);
      887    29530        %KV_FNCID (ID=ASCIIETB, INPOPRX=Y#SE_NULINP);
      888    29617        %KV_FNCID (ID=ASCIIFF, INPOPRX=Y#SE_NULINP);
      889    29704        %KV_FNCID (ID=ASCIIVT, INPOPRX=Y#SE_NULINP);
      890    29791        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:41   
      891    29792        /*
      892    29793           Now the read-only editor ones that accept a count in the middle.
      893    29794        */
      894    29795        %KV_FNCID (ID='A', INPOPRX=Y#SE_UP, TYP=SCNESC);
      895    29882        %KV_FNCID (ID='B', INPOPRX=KA_SE1_0+KA#SPCCHR_LF);
      896    29969        %KV_FNCID (ID='C', INPOPRX=KA_SE1_0+KA#SPCCHR_DC2);
      897    30056        %KV_FNCID (ID='D', INPOPRX=KA_SE1_0+KA#SPCCHR_BS);
      898    30143        %KV_FNCID (ID='E', INPOPRX=Y#SE_CRSHOM);
      899    30230        %KV_FNCID (ID='R', INPOPRX=Y#RST_PRM);
      900    30317        %KV_FNCID (ID='S', INPOPRX=Y#SET_PRM);
      901    30404        %KV_FNCID (ID='T', INPOPRX=Y#TGL_PRM);
      902    30491        %KV_FNCID (ID='I', INPOPRX=Y#ASCIIHT);
      903    30578        %KV_FNCID (ID=ASCIIHT, INPOPRX=Y#ESC_HT);
      904    30665        %KV_FNCID (ID=ASCIIUP_ARW, INPOPRX=Y#ESC_UP_ARW);
      905    30752        %KV_FNCID (ID='H', INPOPRX=Y#SET_HSS);
      906    30839        %KV_FNCID (ID='M', INPOPRX=Y#SET_HSM);
      907    30926        %KV_FNCID (ID='.', INPOPRX=Y#ESC_PRD);
      908    31013        %KV_FNCID (ID=ASCIILF, INPOPRX=Y#SE_NULINP);
      909    31100        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:42   
      910    31101        /*
      911    31102           Input function identifiers declaring special characters (SPCCHRs).
      912    31103           for the read-only editor function table.
      913    31104        */
      914    31105        %KV_FNCID (ID=ASCIIBS, INPOPRX=KA_SE1_0+KA#SPCCHR_BS, TYP=SPCCHR);
      915    31192        %KV_INPOPR (TYP=TXT, RED=, DSP=WRT, TRN=YES, FNCID=ASCIINUL,
      916    31193                    TXT="%BITASC(ASCIIBEL)");
      917    31317        %KV_FNCID (ID=ASCIISP, INPOPRX=KA_SE1_0+KA#SPCCHR_DC2);
      918    31404        %KV_FNCID (ID=ASCIIHT, INPOPRX=KA_SE1_0+KA#SPCCHR_HT);
      919    31491        %KV_FNCID (ID=ASCIILF, INPOPRX=KA_SE1_0+KA#SPCCHR_LF);
      920    31578        %KV_FNCID (ID=ASCIICR, INPOPRX=KA_SE1_0+KA#SPCCHR_CR);
      921    31665        %KV_FNCID (ID=ASCIIDC2, INPOPRX=KA_SE1_0+KA#SPCCHR_DC2);
      922    31752        %KV_FNCID (ID=ASCIIETB, INPOPRX=Y#ASCIIETB);
      923    31839        %KV_FNCID (ID=ASCIIEM, INPOPRX=KA_SE1_0+KA#SPCCHR_EM);
      924    31926        %KV_FNCID (ID=ASCIIESC, INPOPRX=KA_SE1_0+KA#SPCCHR_ESC);
      925    32013        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:43   
      926    32014        /*
      927    32015           Now the read-only editor control strings.  They're the same as SE1.
      928    32016        */
      929    32017        %IF KA#INPCTRSTRCHR_INT = 254;
      930    32018        %KV_FNCID (ID=KA#INPCTRSTRCHR_BRK, INPOPRX=Y#SE_BRK, TYP=CTRSTR);
      931    32105        %KV_FNCID (ID=KA#INPCTRSTRCHR_CLAOVRRUN, INPOPRX=Y#SE_CLAOVRRUN);
      932    32192        %KV_FNCID (ID=KA#INPCTRSTRCHR_DSC, INPOPRX=Y#INPCTRSTR_DSC);
      933    32279        %ELSE;
      946    32292        %ENDIF;
      947    32293        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:44   
      948    32294        /*
      949    32295            Now let's build the SE2 table.
      950    32296        */
      951    32297        %KV$INPFNCTBL (NAME=SE2, NAM='SE2', PRMINTCHR1=ASCIIESC, STCLASS=CONSTANT,
      952    32298                       SCNINTCHR1=ASCIIESC, SBSLVL=2, ESCCNTOK=S,
      953    32299                       REDONLY=YES, LAST=",");
      954    32383        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:45   
      955    32384        /*
      956    32385           Finally, a small table of functions for local mode.
      957    32386        */
      958    32387        %KV_FNCID (ID=KA#INPCTRSTRCHR_DSC, INPOPRX=Y#INPCTRSTR_DSCLCL, TYP=CTRSTR);
      959    32474        %KV_FNCID (ID='Z', INPOPRX=Y#ESC_Z, TYP=PRMESC);
      960    32561        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_ADJWND, FNCID=ASCIIESC);
      961    32685        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_PSTWND_UP, FNCID='A');
      962    32809        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_PSTWND_DWN, FNCID='B');
      963    32933        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_PSTWND_LFT, FNCID='D');
      964    33057        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_PSTWND_RHT, FNCID='C');
      965    33181        %KV_FNCID (ID='^', INPOPRX=KV_INPOPRX-4, TYP=SPCCHR);
      966    33268        %KV_FNCID (ID=ASCIILF, INPOPRX=KV_INPOPRX-4);
      967    33355        %KV_FNCID (ID=ASCIIBS, INPOPRX=KV_INPOPRX-4);
      968    33442        %KV_FNCID (ID=ASCIIDC2, INPOPRX=KV_INPOPRX-4);
      969    33529        /*
      970    33530           Make the table.
      971    33531        */
      972    33532        %KV$INPFNCTBL (NAME=LCLMOD, PRMINTCHR1=ASCIIESC, STCLASS=CONSTANT);
      973    33616    1   END;

PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:46   
--  Include file information  --

   KV$INPFNC.:E05TOU  is referenced.
   KA_GLB_E.:E05TOU  is referenced.
   KA_GLBASM_E.:E05TOU  is referenced.
   KV_ASCCHR_E.:E05TOU  is referenced.
   KV_PRMID_E.:E05TOU  was found in the system file and is referenced.
   KV_GLBCNS_E.:E05TOU  was found in the system file and is referenced.
   KV$VDO.:E05TOU  was found in the system file and is never referenced.
   KV$VDH.:E05TOU  was found in the system file and is referenced.
   KV$USR.:E05TOU  was found in the system file and is never referenced.
   KV$SND.:E05TOU  was found in the system file and is never referenced.
   KV$INT.:E05TOU  was found in the system file and is never referenced.
   KV$GLBCTX.:E05TOU  was found in the system file and is never referenced.
   KV$GLB.:E05TOU  was found in the system file and is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is never referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is never referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure KA_INPFNC_D.

   No code generated for procedure KA_INPFNC_D .
   Procedure KA_INPFNC_D requires 4 words of local(AUTO) storage.

    No errors detected in file KA_INPFNC_D.:E05TSI    .

PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:47   

 Object Unit name= KA_INPFNC_D                                File name= KA_INPFNC_D.:E05TOU
 UTS= OCT 03 '97 11:39:09.44 FRI                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_LCP6_SYSTEM                               Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size HexSiz  Section name
    0  RoData even  UTS   1018    3FA  KA_INPFNC_D
    1   Proc  even  none     0      0  KA_INPFNC_D

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect HexLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes     ~proc       0  KA_INPFNC_D

  ****  Data defs  ****

 Sect HexLoc  Name                           Sect HexLoc  Name
    0      0  KA_INPFNCTBLHED$

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    G$ROS$
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:48   

        1        1        /*M* GA_INPFNC_D ASYNC HANDLER INPUT FUNCTION DATA */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* NSO,DFC */
        8        8        KA_INPFNC_D: PROC;
        9        9        /*
       10       10           Standard (generally CP-5 compatible) input functions.
       11       11        */
       12       12 S      %INCLUDE KV_GLBCNS_E;
       13       13        %INCLUDE KV_ASCCHR_E;
       14      150 S      %INCLUDE KV_PRMID_E;
       15      151        %KV_CMPCOD_E;
       16      165        %KV_INPOPRX_E;
       17      177        %KV_PRMID_E;
       18      333        %INCLUDE KA_GLBASM_E;
       19      415        %INCLUDE KA_GLB_E;
       20      493        %KA_INPFNC_E;
       21      538        %INCLUDE KV$INPFNC;
       22     1097 S      %INCLUDE KV$GLB;
       23     1098 S      %INCLUDE KV$VDH;
       24     1099        %KV_INPPRC_E;
       25     1151    1   DCL KA_INPFNCTBLHED$ PTR CONSTANT SYMDEF INIT(ADDR(KA_INPFNC.CP5));
       26     1152        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:49   
       27     1153        /*
       28     1154           CP-5 compatible (almost) system input function table.
       29     1155           Contains all of the CP-5 ESCAPE and control sequences, with
       30     1156           the following changes:
       31     1157
       32     1158           ESC-STX (ESC-CTRL-B) is the same as ESC-B except
       33     1159           that type-ahead is not deleted.
       34     1160
       35     1161           ESC-EOT (ESC-D) is the same as ESC-D except that the last
       36     1162           saved edit buffer for the current stream is recalled.
       37     1163           Host 'domain' is mapped into stream in B02.
       38     1164
       39     1165           ESC-A in CP5 is ESC-$ in CP6.
       40     1166
       41     1167           ESC-D in CP-6 always recalls the last saved input edit buffer.
       42     1168
       43     1169           ESC-G in CP-6 displays internal communications processor
       44     1170           information.
       45     1171
       46     1172           ESC-K in CP-6 deletes from the edit point thru the end of the
       47     1173           input record.
       48     1174
       49     1175           ESC-M (enter column replacement mode) resets ESC-O (enter
       50     1176           logical overstrike mode).  Since the architecture of the
       51     1177           CP-6 ASYNC handler is significantly different than the CP-5
       52     1178           COC handler, input editing in CP-6 is much more powerful.
       53     1179           As a result, the meaning of ESC-O has changed significantly.
       54     1180
       55     1181           ESC-N in CP-6 positions to the end of the input record.  ESC-D
       56     1182           in CP-5 did this, under some circumstances.
       57     1183
       58     1184           ESC-O has changed.  See ESC-M.
       59     1185
       60     1186           ESC-P (half-duplex paper tape mode) is exited upon receipt of
       61     1187           BREAK, CTRL-Y, ESC-ESC, or ESC-Y.
       62     1188
       63     1189           ESC-Q issues a response from the communications processor
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:50   
       64     1190           (!HI!) and also (if logged on) from the host (E.G., !SCU!).
       65     1191
       66     1192           ESC-V-CHARACTER in CP-6 positions to the specified character in
       67     1193           the input record.
       68     1194
       69     1195           ESC-Z is not in CP-6 because coupling isn't.
       70     1196
       71     1197           ESC-$ selects the proper translate table.  CP-6 supports
       72     1198           bit-paired APL terminals, in addition to the normal ASCII and
       73     1199           and typewriter-paired APL terminals supported by CP-5.
       74     1200           As a result of ESC-$, two 'other' escapes appear to the normal
       75     1201           ASCII terminal user; they are ESC-X'7C' (ESC-VERTICAL-LINE)
       76     1202           and ESC-X'7E' (ESC-TILDE).  They will put the line into
       77     1203           one of the APL modes.  ESC-$ will return the line to normal
       78     1204           ASCII mode.
       79     1205
       80     1206           ESC-HYPHEN in CP-6 tells the handler that the terminal is
       81     1207           positioned at the perf.
       82     1208        */
       83     1209        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:51   
       84     1210        %KV_INPOPR (NAME=KA_INPFNC, TYP=MSC, RED=); /* Dummy to get started           */
       85     1248        /*
       86     1249          INPOPRs used by routines that directly call the
       87     1250          input function interpreter with INPOPR indexes. These INPOPRs couldn't
       88     1251          be expressed in one word; these are "branched to" via
       89     1252          JMP INPOPRs below.
       90     1253        */
       91     1254        %EQU Y#INPOPR_PRTERR =KV_INPOPRX;
       92     1255        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_PRTERR, CHN=);
       93     1293        %KV_INPOPR (TYP=TXT, IMD=, DSP=WRT,
       94     1294                       TXT="%CONCAT (BITASC (ASCIIBEL), BITASC (ASCIINMB))", CHN=);
       95     1332        %KV_INPOPR (TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_PRTERR);
       96     1370        %EQU Y#INPOPR_RE_RED =KV_INPOPRX;
       97     1371        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_COPSTREDTBFR, CHN=);
       98     1409        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RE_TYP);
       99     1447        %EQU Y#INPOPR_RSTINSMOD =KV_INPOPRX;
      100     1448        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RSTINSMOD, CHN=);
      101     1486        %EQU Y#INPOPR_RE_TYP =KV_INPOPRX;
      102     1487        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RE_PSTRED, CHN=);
      103     1525        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RE_TYP);
      104     1563        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:52   
      105     1564        /*
      106     1565          INPOPRs for special characters that couldn't
      107     1566          be expressed in one word; these are "branched to" via
      108     1567          JMP INPOPRs below.
      109     1568        */
      110     1569        %EQU Y#ASCIIEM =KV_INPOPRX;
      111     1570        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_MNTATN, CHN=);
      112     1608        %KV_INPOPR (TYP=MSC, IMD=, DLTINP=, DLTOTP=, ABRRED=, CHN=);
      113     1646        %KV_INPOPR (TYP=RSTPRM, IMD=, PRMID=KV_PRMID_HALFDUPLEXPAPERTAPE);
      114     1684        %EQU Y#F_MNTATN=KV_INPOPRX;
      115     1685        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_MNTATN, CHN=);
      116     1723        %KV_INPOPR (TYP=MSC, IMD=, DLTINP=, ABRRED=);
      117     1761        %EQU Y#INPOPR_FLWON =KV_INPOPRX;
      118     1762        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_FLWON);
      119     1800        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:53   
      120     1801        %SET KV_INPOPR0=KV_INPOPRX-1;
      121     1802        /*
      122     1803          Input operators (INPOPRs) used by routines that directly call the
      123     1804          input function interpreter with INPOPR indexes.
      124     1805          These INPOPRs must have fixed (non-floating) displacements
      125     1806          from the start of the INPOPR table (KV_INPOPR0).
      126     1807        */
      127     1808        %KV_INPOPR (TEST=KV_INPOPRX_INT,
      128     1809           TYP=MSC, IMD=);            /* Initialization (after switching inpfnctbl's) */
      129     1847        %KV_INPOPR (TEST=KV_INPOPRX_PRGINP,
      130     1848           TYP=MSC, IMD=, DLTINP=);             /* M$PURGE input                      */
      131     1886        %KV_INPOPR (TEST=KV_INPOPRX_PRGOTP,
      132     1887           TYP=MSC, IMD=, DLTOTP=);             /* M$PURGE output                     */
      133     1925        %KV_INPOPR (TEST=KV_INPOPRX_PRTERR,
      134     1926        TYP=JMP, RED=, INPOPRX=Y#INPOPR_PRTERR); /*                                   */
      135     1964        %KV_INPOPR (TEST=KV_INPOPRX_RE_RED,
      136     1965        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RE_RED); /*M$READ w/reread              */
      137     2003        %KV_INPOPR (TEST=KV_INPOPRX_RE_TYP,
      138     2004        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RE_TYP); /*G#FNCWRTIMD in read          */
      139     2042        %KV_INPOPR (TEST=KV_INPOPRX_PRGRED,
      140     2043           TYP=MSC, RED=, DLTRED=);             /* Spare                              */
      141     2081        %KV_INPOPR (TEST=KV_INPOPRX_REDDATLST,
      142     2082        TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_BFROVRRUN); /*                             */
      143     2120        %KV_INPOPR (TEST=KV_INPOPRX_RSTINSMOD,
      144     2121        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RSTINSMOD); /*Reset insert mode         */
      145     2159        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 1                            */
      146     2197        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 2                            */
      147     2235        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 3                            */
      148     2273        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 4                            */
      149     2311        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:54   
      150     2312        /*
      151     2313           Input operators (INPOPRs) for special characters (SPCCHRs).
      152     2314           These INPOPRs must have fixed (non-floating) displacements
      153     2315           from the start of the INPOPR table (KV_INPOPR0).
      154     2316        */
      155     2317        %EQU Y#ASCIIBS =KV_INPOPRX;
      156     2318        %KV_INPOPR (TEST=KA#SPCCHR_BS,
      157     2319        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTLFT); /* Ascii bs (backspace)            */
      158     2357        %KV_INPOPR (TEST=KA#SPCCHR_CAN,
      159     2358        TYP=MSC, IMD=, DLTINP=, DLTRED=, DLTOTP=); /* Ascii can (ctr-x)               */
      160     2396        %KV_INPOPR (TEST=KA#SPCCHR_CR,
      161     2397         TYP=VDHINPPRC, RED=, ID=KV_INPPRC_CR); /*Ascii cr (carriage return)          */
      162     2435        %KV_INPOPR (TEST=KA#SPCCHR_DC1,
      163     2436        TYP=SETPRM, RED=, PRMID=KV_PRMID_FULLDUPLEXPAPERTAPE); /*Ascii DC1 (xon)      */
      164     2474        %EQU Y#ASCIIDC2 =KV_INPOPRX;
      165     2475        %KV_INPOPR (TEST=KA#SPCCHR_DC2,
      166     2476        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTRHT); /* Ascii DC2                       */
      167     2514        %KV_INPOPR (TEST=KA#SPCCHR_DC3,
      168     2515        TYP=RSTPRM, RED=, PRMID=KV_PRMID_FULLDUPLEXPAPERTAPE); /*Ascii DC3 (xoff)     */
      169     2553        %KV_INPOPR (TEST=KA#SPCCHR_DEL,
      170     2554        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_DEL); /*Ascii del (rubout)                  */
      171     2592        %KV_INPOPR (TEST=KA#SPCCHR_EM,
      172     2593           TYP=JMP, IMD=, INPOPRX=Y#ASCIIEM);   /* Ascii em (ctr-y)                   */
      173     2631        %KV_INPOPR (TEST=KA#SPCCHR_ESC,
      174     2632        TYP=VDHINPPRC, IMD=, RED=, ID=KV_INPPRC_ESC); /*Ascii ESC                     */
      175     2670        %KV_INPOPR (TEST=KA#SPCCHR_FF,
      176     2671        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SCREND); /*Ascii ff (ctr-l)                 */
      177     2709        %EQU Y#ASCIIHT =KV_INPOPRX;
      178     2710        %KV_INPOPR (TEST=KA#SPCCHR_HT,
      179     2711        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_TAB); /* Ascii ht, ESC-I, ESC-HT            */
      180     2749        %KV_INPOPR (TEST=KA#SPCCHR_LF,
      181     2750         TYP=VDHINPPRC, RED=, ID=KV_INPPRC_LF); /* Ascii lf (line feed)               */
      182     2788        %KV_INPOPR (TEST=KA#SPCCHR_FLWON,
      183     2789        TYP=FLWON, IMD=, INPOPRX=Y#INPOPR_FLWON); /* for telnet negotiation           */
      184     2827        /*
      185     2828           End of INPOPRs which must have fixed displacements.
      186     2829        */
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:55   
      187     2830        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:56   
      188     2831        /*
      189     2832           Now we'll reproduce the fixed displacement ones for the forms table,
      190     2833           since ther'ye a little different.
      191     2834        */
      192     2835        /* First save and re-establish the zero point. */
      193     2836        %EQU KA_CP5_0=KV_INPOPR0;
      194     2837        %SET KV_INPOPR0=KV_INPOPRX-1;
      195     2838        /*
      196     2839          Input operators (INPOPRs) used by routines that directly call the
      197     2840          input function interpreter with INPOPR indexes.
      198     2841          These INPOPRs must have fixed (non-floating) displacements
      199     2842          from the start of the INPOPR table (KV_INPOPR0).
      200     2843        */
      201     2844        %KV_INPOPR (TEST=KV_INPOPRX_INT,
      202     2845           TYP=MSC, IMD=);            /* Initialization (after switching inpfnctbl's) */
      203     2883        %KV_INPOPR (TEST=KV_INPOPRX_PRGINP,
      204     2884           TYP=MSC, IMD=, DLTINP=);             /* M$PURGE input                      */
      205     2922        %KV_INPOPR (TEST=KV_INPOPRX_PRGOTP,
      206     2923           TYP=MSC, IMD=, DLTOTP=);             /* M$PURGE output                     */
      207     2961        %KV_INPOPR (TEST=KV_INPOPRX_PRTERR,
      208     2962        TYP=JMP, RED=, INPOPRX=Y#INPOPR_PRTERR); /*                                   */
      209     3000        %KV_INPOPR (TEST=KV_INPOPRX_RE_RED,
      210     3001        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RE_RED); /*M$READ w/reread              */
      211     3039        %KV_INPOPR (TEST=KV_INPOPRX_RE_TYP,
      212     3040        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RE_TYP); /*G#FNCWRTIMD in read          */
      213     3078        %KV_INPOPR (TYP=MSC, RED=);             /* Spare                              */
      214     3116        %KV_INPOPR (TEST=KV_INPOPRX_REDDATLST,
      215     3117        TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_BFROVRRUN); /*                             */
      216     3155        %KV_INPOPR (TEST=KV_INPOPRX_RSTINSMOD,
      217     3156        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RSTINSMOD); /*Reset insert mode         */
      218     3194        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 1                            */
      219     3232        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 2                            */
      220     3270        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 3                            */
      221     3308        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 4                            */
      222     3346        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:57   
      223     3347        /*
      224     3348           Input operators (INPOPRs) for special characters (SPCCHRs).
      225     3349           These INPOPRs must have fixed (non-floating) displacements
      226     3350           from the start of the INPOPR table (KV_INPOPR0).
      227     3351        */
      228     3352        %KV_INPOPR (TEST=KA#SPCCHR_BS,
      229     3353        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTLFT); /* Ascii bs (backspace)            */
      230     3391        %KV_INPOPR (TEST=KA#SPCCHR_CAN,
      231     3392           TYP=MSC, IMD=, DLTINP=, DLTRED=);    /* Ascii can (ctr-x)                  */
      232     3430        %KV_INPOPR (TEST=KA#SPCCHR_CR,
      233     3431        TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_NRM); /*Ascii cr (carriage return)         */
      234     3469        %KV_INPOPR (TEST=KA#SPCCHR_DC1,
      235     3470           TYP=MSC, IMD=);
      236     3508        %KV_INPOPR (TEST=KA#SPCCHR_DC2,
      237     3509        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTRHT); /* Ascii DC2                       */
      238     3547        %KV_INPOPR (TEST=KA#SPCCHR_DC3,
      239     3548           TYP=MSC, IMD=);
      240     3586        %KV_INPOPR (TEST=KA#SPCCHR_DEL,
      241     3587        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_DEL); /*Ascii del (rubout)                  */
      242     3625        %KV_INPOPR (TEST=KA#SPCCHR_EM,
      243     3626           TYP=JMP, IMD=, INPOPRX=Y#F_MNTATN);  /* Ascii em (ctr-y)                   */
      244     3664        %KV_INPOPR (TEST=KA#SPCCHR_ESC,
      245     3665        TYP=VDHINPPRC, IMD=, RED=, ID=KV_INPPRC_ESC); /*Ascii ESC                     */
      246     3703        %KV_INPOPR (TEST=KA#SPCCHR_FF,
      247     3704           TYP=MSC, IMD=);
      248     3742        %KV_INPOPR (TEST=KA#SPCCHR_HT,
      249     3743        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_TAB); /* Ascii ht, ESC-I, ESC-HT            */
      250     3781        %KV_INPOPR (TEST=KA#SPCCHR_LF,
      251     3782        TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_NRM); /* Ascii lf (line feed)              */
      252     3820        %KV_INPOPR (TEST=KA#SPCCHR_FLWON,
      253     3821        TYP=FLWON, IMD=, INPOPRX=Y#INPOPR_FLWON); /* for telnet negotiation           */
      254     3859        %EQU KA_FRM1_0=KV_INPOPR0;
      255     3860        /*
      256     3861           End of INPOPRs which must have fixed displacements.
      257     3862        */
      258     3863        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:58   
      259     3864        /*
      260     3865           Now we'll reproduce the fixed displacement ones for the editor table,
      261     3866           since they too are a little different.
      262     3867        */
      263     3868        %EQU Y#SE_MNTATN=KV_INPOPRX;
      264     3869        %KV_INPOPR (TYP=ACTRED, IMD=, CHN=);
      265     3907        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_MNTATN, CHN=);
      266     3945        %KV_INPOPR (TYP=MSC, IMD=, DLTINP=);
      267     3983        %EQU Y#SE_BRK=KV_INPOPRX;
      268     3984        %KV_INPOPR (TYP=ACTRED, IMD=, CHN=);
      269     4022        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_BRK, CHN=);
      270     4060        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_DVCOTPBFRCLR, CHN=);
      271     4098        %KV_INPOPR (TYP=MSC, IMD=, DLTINP=, CHN=);
      272     4136        %KV_INPOPR (TYP=RSTPRM, IMD=, PRMID=KV_PRMID_HALFDUPLEXPAPERTAPE);
      273     4174        %EQU Y#SE_NEWLIN=KV_INPOPRX;
      274     4175        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RSTINSMOD, CHN=);
      275     4213        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTBGNRED, CHN=);
      276     4251        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SE_DWN);
      277     4289        %EQU Y#SE_CLAOVRRUN=KV_INPOPRX;
      278     4290        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_CLAOVRRUN, CHN=);
      279     4328        %KV_INPOPR (TYP=TXT, CHN=, IMD=, DSP=WRT, TXT="%BITASC(ASCIIBEL)");
      280     4366        %KV_INPOPR (TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_RATERR);
      281     4404        %EQU Y#SE_PRTERR=KV_INPOPRX;
      282     4405        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_PRTERR, CHN=);
      283     4443        %KV_INPOPR (TYP=TXT, CHN=, IMD=, DSP=WRT, TXT="%BITASC(ASCIIBEL)");
      284     4481        %KV_INPOPR (TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_PRTERR);
      285     4519        /* Again, re-establish the zero point. */
      286     4520        %SET KV_INPOPR0=KV_INPOPRX-1;
      287     4521        /*
      288     4522          Input operators (INPOPRs) used by routines that directly call the
      289     4523          input function interpreter with INPOPR indexes.
      290     4524          These INPOPRs must have fixed (non-floating) displacements
      291     4525          from the start of the INPOPR table (KV_INPOPR0).
      292     4526        */
      293     4527        %KV_INPOPR (TEST=KV_INPOPRX_INT,
      294     4528           TYP=MSC, IMD=);            /* Initialization (after switching inpfnctbl's) */
      295     4566        %KV_INPOPR (TEST=KV_INPOPRX_PRGINP,
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:59   
      296     4567           TYP=MSC, IMD=, DLTINP=);             /* M$PURGE input                      */
      297     4605        %KV_INPOPR (TEST=KV_INPOPRX_PRGOTP,
      298     4606           TYP=MSC, IMD=, DLTOTP=);             /* M$PURGE output                     */
      299     4644        %KV_INPOPR (TEST=KV_INPOPRX_PRTERR,
      300     4645           TYP=JMP, RED=, INPOPRX=Y#SE_PRTERR); /*                                    */
      301     4683        %KV_INPOPR (TEST=KV_INPOPRX_RE_RED,
      302     4684        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RE_RED); /*M$READ w/reread              */
      303     4722        %KV_INPOPR (TEST=KV_INPOPRX_RE_TYP,
      304     4723        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RE_TYP); /*G#FNCWRTIMD in read          */
      305     4761        %KV_INPOPR (TYP=MSC, RED=);             /* Spare                              */
      306     4799        %KV_INPOPR (TEST=KV_INPOPRX_REDDATLST,
      307     4800        TYP=ACTRED, RED=, CMPCOD=KV_CMPCOD_BFROVRRUN); /*                             */
      308     4838        %KV_INPOPR (TEST=KV_INPOPRX_RSTINSMOD,
      309     4839        TYP=JMP, IMD=, RED=, INPOPRX=Y#INPOPR_RSTINSMOD); /*Reset insert mode         */
      310     4877        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 1                            */
      311     4915        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 2                            */
      312     4953        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 3                            */
      313     4991        %KV_INPOPR (TYP=MSC, IMD=);             /* Spare 4                            */
      314     5029        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:60   
      315     5030        /*
      316     5031           Input operators (INPOPRs) for special characters (SPCCHRs).
      317     5032           These INPOPRs must have fixed (non-floating) displacements
      318     5033           from the start of the INPOPR table (KV_INPOPR0).
      319     5034        */
      320     5035        %KV_INPOPR (TEST=KA#SPCCHR_BS,
      321     5036        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTLFT); /* Ascii bs (backspace)            */
      322     5074        %KV_INPOPR (TEST=KA#SPCCHR_CAN,
      323     5075           TYP=MSC, IMD=, DLTINP=, DLTRED=);    /* Ascii can (ctr-x)                  */
      324     5113        %KV_INPOPR (TEST=KA#SPCCHR_CR,
      325     5114           TYP=JMP, RED=, INPOPRX=Y#SE_NEWLIN); /*Ascii cr (carriage return)          */
      326     5152        %KV_INPOPR (TEST=KA#SPCCHR_DC1,
      327     5153           TYP=MSC, IMD=);
      328     5191        %KV_INPOPR (TEST=KA#SPCCHR_DC2,
      329     5192        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTRHT); /* Ascii DC2                       */
      330     5230        %KV_INPOPR (TEST=KA#SPCCHR_DC3,
      331     5231           TYP=MSC, IMD=);
      332     5269        %KV_INPOPR (TEST=KA#SPCCHR_DEL,
      333     5270        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_DEL); /*Ascii del (rubout)                  */
      334     5308        %KV_INPOPR (TEST=KA#SPCCHR_EM,
      335     5309           TYP=JMP, IMD=, INPOPRX=Y#SE_MNTATN); /* Ascii em (ctr-y)                   */
      336     5347        %KV_INPOPR (TEST=KA#SPCCHR_ESC,
      337     5348        TYP=VDHINPPRC, IMD=, RED=, ID=KV_INPPRC_ESC); /*Ascii ESC                     */
      338     5386        %KV_INPOPR (TEST=KA#SPCCHR_FF,
      339     5387           TYP=MSC, IMD=);
      340     5425        %KV_INPOPR (TEST=KA#SPCCHR_HT,
      341     5426        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_TAB); /* Ascii ht, ESC-I, ESC-HT            */
      342     5464        %KV_INPOPR (TEST=KA#SPCCHR_LF,
      343     5465        TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SE_DWN); /* Ascii lf (line feed)            */
      344     5503        %KV_INPOPR (TEST=KA#SPCCHR_FLWON,
      345     5504        TYP=FLWON, IMD=, INPOPRX=Y#INPOPR_FLWON); /* for telnet negotiation           */
      346     5542        %EQU KA_SE1_0=KV_INPOPR0;
      347     5543        %SET KV_INPOPR0=KA_CP5_0;
      348     5544        /*
      349     5545           End of INPOPRs which must have fixed displacements.
      350     5546        */
      351     5547        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:61   
      352     5548        /*
      353     5549           INPOPRs for control strings
      354     5550        */
      355     5551        %EQU Y#INPCTRSTR_BRK=KV_INPOPRX;
      356     5552        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_BRK, CHN=);
      357     5590        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_DVCOTPBFRCLR, CHN=);
      358     5628        %KV_INPOPR (TYP=MSC,       IMD=, DLTINP=, DLTOTP=, ABRRED=, CHN=);
      359     5666        %KV_INPOPR (TYP=RSTPRM,    IMD=, PRMID=KV_PRMID_HALFDUPLEXPAPERTAPE);
      360     5704        %EQU Y#INPCTRSTR_CLAOVRRUN=KV_INPOPRX;
      361     5705        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_CLAOVRRUN, CHN=);
      362     5743        %KV_INPOPR (TYP=TXT,       IMD=, DSP=WRT,
      363     5744                    TXT="%CONCAT (BITASC (ASCIIBEL), BITASC (ASCIINMB))", CHN=);
      364     5782        %KV_INPOPR (TYP=ACTRED,    RED=, CMPCOD=KV_CMPCOD_RATERR);
      365     5820        %EQU Y#INPCTRSTR_DSCLCL = KV_INPOPRX;
      366     5821        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_TGLLCLMOD, CHN=);
      367     5859        %EQU Y#INPCTRSTR_DSC=KV_INPOPRX;
      368     5860        %KV_INPOPR (TYP=MSC,       IMD=, DLTINP=, DLTOTP=, ABRRED=, CHN=);
      369     5898        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_DSC);
      370     5936        %EQU Y#INPCTRSTR_IAC =KV_INPOPRX;
      371     5937        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_IAC);
      372     5975        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:62   
      373     5976        /*
      374     5977           Input operators (INPOPRs) for ESCAPE sequences (INPFNCs).
      375     5978        */
      376     5979        %EQU Y#ESC_SOH=KV_INPOPRX;
      377     5980        %KV_INPOPR (TYP=TGLPRM,    IMD=, ACK=, PRMID=KV_PRMID_WRPPAG);
      378     6018        %EQU Y#ESC_STX=KV_INPOPRX;
      379     6019        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_BRK, CHN=);
      380     6057        %KV_INPOPR (TYP=MSC,       IMD=, ABRRED=);
      381     6095        %EQU Y#ESC_EOT=KV_INPOPRX;
      382     6096        %KV_INPOPR (TYP=VDHINPPRC, RED=, ACK=, ID=KV_INPPRC_COPSTREDTBFR, CHN=);
      383     6134        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RE_PSTRED, CHN=);
      384     6172        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RE_TYP);
      385     6210        %EQU Y#ESC_LF=KV_INPOPRX;
      386     6211        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_LCLLF);
      387     6249        %EQU Y#ESC_VT=KV_INPOPRX;
      388     6250        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_DLTTO_BGN);
      389     6288        %EQU Y#ESC_CR=KV_INPOPRX;
      390     6289        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTBGNRED);
      391     6327        %EQU Y#ESC_DC2=KV_INPOPRX;
      392     6328        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RSTINSMOD);
      393     6366        %EQU Y#ESC_DC4=KV_INPOPRX;
      394     6367        %KV_INPOPR (TYP=TGLPRM,    IMD=, ACK=, PRMID=KV_PRMID_TRUNCATE);
      395     6405        %EQU Y#ESC_LFTPRN=KV_INPOPRX;
      396     6406        %KV_INPOPR (TYP=RSTPRM,    RED=, ACK=, PRMID=KV_PRMID_LOWERCASE);
      397     6444        %EQU Y#ESC_RHTPRN=KV_INPOPRX;
      398     6445        %KV_INPOPR (TYP=SETPRM,    RED=, ACK=, PRMID=KV_PRMID_LOWERCASE);
      399     6483        %EQU Y#ESC_APLDLR=KV_INPOPRX;
      400     6484        %KV_INPOPR (TYP=USRINPPRC, IMD=, ACK=, ID=KA#INPPRC_SETTRNTBL);
      401     6522        %EQU Y#ESC_HPH=KV_INPOPRX;
      402     6523        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_AT_PRF);
      403     6561        %EQU Y#ESC_LFTARW=KV_INPOPRX;
      404     6562        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SETINSLOWX);
      405     6600        %EQU Y#ESC_RHTARW=KV_INPOPRX;
      406     6601        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SETINSHI_X);
      407     6639        %EQU Y#ESC_A=KV_INPOPRX;
      408     6640        %KV_INPOPR (TYP=TGLPRM,    IMD=, ACK=, PRMID=KV_PRMID_PAGEHALT);
      409     6678        %EQU Y#ESC_B=KV_INPOPRX;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:63   
      410     6679        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_BRK, CHN=);
      411     6717        %KV_INPOPR (TYP=MSC,       IMD=, DLTINP=, ABRRED=);
      412     6755        %EQU Y#ESC_C=KV_INPOPRX;
      413     6756        %KV_INPOPR (TYP=TGLPRM,    RED=, ACK=, PRMID=KV_PRMID_TABRELATIVE);
      414     6794        %EQU Y#ESC_D=KV_INPOPRX;
      415     6795        %KV_INPOPR (TYP=VDHINPPRC, RED=, ACK=, ID=KV_INPPRC_COPSSNEDTBFR, CHN=);
      416     6833        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RE_PSTRED, CHN=);
      417     6871        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RE_TYP);
      418     6909        %EQU Y#ESC_E=KV_INPOPRX;
      419     6910        %KV_INPOPR (TYP=TGLPRM,    RED=, ACK=, PRMID=KV_PRMID_DISPINPUT);
      420     6948        %EQU Y#ESC_F=KV_INPOPRX;
      421     6949        %KV_INPOPR (TYP=ACTRED,    RED=, ACK=, CMPCOD=KV_CMPCOD_EOF);
      422     6987        %EQU Y#ESC_G=KV_INPOPRX;
      423     6988        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_OTPPRTID);
      424     7026        %EQU Y#ESC_H=KV_INPOPRX;
      425     7027        %KV_INPOPR (TYP=USRINPPRC, IMD=, ID=KA#INPPRC_HLTOTP);
      426     7065        %EQU Y#ESC_J=KV_INPOPRX;
      427     7066        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_TGLINSMOD);
      428     7104        %EQU Y#ESC_K=KV_INPOPRX;
      429     7105        %KV_INPOPR (TYP=VDHINPPRC, RED=, ACK=, ID=KV_INPPRC_DLTTO_END);
      430     7143        %EQU Y#ESC_L=KV_INPOPRX;
      431     7144        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PAGBRK);
      432     7182        %EQU Y#ESC_M=KV_INPOPRX;
      433     7183        %KV_INPOPR (TYP=RSTPRM,    RED=, PRMID=KV_PRMID_INSMOD, CHN=);
      434     7221        %KV_INPOPR (TYP=RSTPRM,    RED=, PRMID=KV_PRMID_OVRSTR);
      435     7259        %EQU Y#ESC_N=KV_INPOPRX;
      436     7260        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_PSTENDRED);
      437     7298        %EQU Y#ESC_O=KV_INPOPRX;
      438     7299        %KV_INPOPR (TYP=RSTPRM,    RED=, PRMID=KV_PRMID_INSMOD, CHN=);
      439     7337        %KV_INPOPR (TYP=SETPRM,    RED=, PRMID=KV_PRMID_OVRSTR);
      440     7375        %EQU Y#ESC_P=KV_INPOPRX;
      441     7376        %KV_INPOPR (TYP=TGLPRM,    RED=, ACK=, PRMID=KV_PRMID_HALFDUPLEXPAPERTAPE);
      442     7414        %EQU Y#ESC_Q=KV_INPOPRX;
      443     7415        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_OTPSTT);
      444     7453        %EQU Y#ESC_R=KV_INPOPRX;
      445     7454        %KV_INPOPR (TYP=JMP,       RED=, ACK=, INPOPRX=Y#INPOPR_RSTINSMOD);
      446     7492        %EQU Y#ESC_S=KV_INPOPRX;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:64   
      447     7493        %KV_INPOPR (TYP=TGLPRM,    RED=, ACK=, PRMID=KV_PRMID_SPACEINSERT);
      448     7531        %EQU Y#ESC_T=KV_INPOPRX;
      449     7532        %KV_INPOPR (TYP=TGLPRM,    RED=, ACK=, PRMID=KV_PRMID_TABSIM);
      450     7570        %EQU Y#ESC_U=KV_INPOPRX;
      451     7571        %KV_INPOPR (TYP=TGLPRM,    RED=, ACK=, PRMID=KV_PRMID_UPPERCASE);
      452     7609        %EQU Y#ESC_V=KV_INPOPRX;
      453     7610        %KV_INPOPR (TYP=FLWON,     IMD=, RED=);
      454     7648        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_FNDPSTCHR);
      455     7686        %EQU Y#ESC_W=KV_INPOPRX;
      456     7687        %KV_INPOPR (TYP=MSC,       IMD=, DLTOTP=, CHN=);
      457     7725        %KV_INPOPR (TYP=TGLPRM,    IMD=, ACK=, PRMID=KV_PRMID_OUTPUTDISCARD);
      458     7763        %EQU Y#ESC_X=KV_INPOPRX;
      459     7764        %KV_INPOPR (TYP=MSC,       RED=, ACK=, DLTRED=);
      460     7802        %EQU Y#ESC_Y=KV_INPOPRX;
      461     7803        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_MNTATN, CHN=);
      462     7841        %KV_INPOPR (TYP=MSC,       IMD=, DLTINP=, ABRRED=, CHN=);
      463     7879        %KV_INPOPR (TYP=RSTPRM,    IMD=, PRMID=KV_PRMID_HALFDUPLEXPAPERTAPE);
      464     7917        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:65   
      465     7918        /*
      466     7919           A couple of items just for forms.
      467     7920        */
      468     7921        %EQU Y#F_PSTUP =KV_INPOPRX;
      469     7922        %KV_INPOPR (TYP=PST,       RED=, VRTPSTUNT=FLD, VRTPSTVAL=-1, HRZPSTVAL=1);
      470     8033        %EQU Y#F_PSTDWN=KV_INPOPRX;
      471     8034        %KV_INPOPR (TYP=PST,       RED=, VRTPSTUNT=FLD, VRTPSTVAL=1, HRZPSTVAL=1);
      472     8145        %EQU Y#F_RE_DSP=KV_INPOPRX;
      473     8146        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_RE_TYPFRM);
      474     8184        /* Spares for patching */
      475     8185    1      2 *(0:20) UBIN INIT(0*0),
      476     8186        %SET KV_INPOPRX=KV_INPOPRX+21;
      477     8187        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:66   
      478     8188        /*
      479     8189           First the necessary control strings so that FNC=NONE is ok.
      480     8190        */
      481     8191        %IF KA#INPCTRSTRCHR_INT = 254;
      482     8192        %KV_FNCID (ID=KA#INPCTRSTRCHR_DSC, INPOPRX=Y#INPCTRSTR_DSC, TYP=CTRSTR);
      483     8279        %ELSE;
      491     8287        %ENDIF;
      492     8288        /*
      493     8289           Save the current status. That's all we need for FNC=NONE.
      494     8290        */
      495     8291        %EQU KA_NUL_FNCID_SAV = KV_FNCID_SAV;
      496     8292
      497     8293        /*
      498     8294           Input function identifiers declaring system primary
      499     8295           ESCAPE sequences for the smallest subset of the CP-5 compatible table.
      500     8296        */
      501     8297        %KV_FNCID (ID=ASCIIEOT, INPOPRX=Y#ESC_EOT, TYP=PRMESC);
      502     8384        %KV_FNCID (ID=ASCIILF, INPOPRX=Y#ESC_LF);
      503     8471        %KV_FNCID (ID=ASCIIVT, INPOPRX=Y#ESC_VT);
      504     8558        %KV_FNCID (ID=ASCIICR, INPOPRX=Y#ESC_CR);
      505     8645        %KV_FNCID (ID=ASCIIDC2, INPOPRX=Y#ESC_DC2);
      506     8732        %KV_FNCID (ID=ASCIIDC4, INPOPRX=Y#ESC_DC4);
      507     8819        %KV_FNCID (ID='<', INPOPRX=Y#ESC_LFTARW);
      508     8906        %KV_FNCID (ID='>', INPOPRX=Y#ESC_RHTARW);
      509     8993        %EQU Y#ESC_QOT=KV_INPOPRX;
      510     8994        %KV_INPOPR (TYP=SETPRM, RED=, PRMID=KV_PRMID_INSMOD, FNCID=ASCIISNGQOT);
      511     9118        %EQU Y#ESC_ETB=KV_INPOPRX;
      512     9119        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_DELWRD, FNCID=ASCIIETB);
      513     9243        %EQU Y#ESC_DEL=KV_INPOPRX;
      514     9244        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_DELLFT, FNCID=ASCIIDEL);
      515     9368        %EQU Y#ESC_AST=KV_INPOPRX;
      516     9369        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SAVEDTWND, FNCID=ASCIIAST);
      517     9493        %EQU Y#ESC_CLN=KV_INPOPRX;
      518     9494        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_RCLEDTWND, FNCID=ASCIICLN);
      519     9618        %KV_FNCID (ID='D', INPOPRX=Y#ESC_D);
      520     9705        %KV_FNCID (ID='F', INPOPRX=Y#ESC_F);
      521     9792        %KV_FNCID (ID='G', INPOPRX=Y#ESC_G);
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:67   
      522     9879        %KV_FNCID (ID='J', INPOPRX=Y#ESC_J);
      523     9966        %KV_FNCID (ID='K', INPOPRX=Y#ESC_K);
      524    10053        %KV_FNCID (ID='N', INPOPRX=Y#ESC_N);
      525    10140        %KV_FNCID (ID='Q', INPOPRX=Y#ESC_Q);
      526    10227        %KV_FNCID (ID='R', INPOPRX=Y#ESC_R);
      527    10314        %KV_FNCID (ID='V', INPOPRX=Y#ESC_V);
      528    10401        %KV_FNCID (ID='X', INPOPRX=Y#ESC_X);
      529    10488        %EQU Y#ESC_Z = KV_INPOPRX;
      530    10489        %KV_INPOPR (TYP=VDHINPPRC, RED=, IMD=, ID=KV_INPPRC_TGLLCLMOD, FNCID='Z');
      531    10613        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:68   
      532    10614        /*
      533    10615           Secondary ESCAPE functions (permitting numbers) for the smallest subset.
      534    10616           That's the generic set/reset/toggle parameter ones, pstlft-rht, and tab.
      535    10617        */
      536    10618
      537    10619        %EQU Y#SET_PRM=KV_INPOPRX;
      538    10620        %KV_INPOPR (TYP=SETPRM, IMD=, PRMID=0, FNCID='S', FNCTYP=SCNESC);
      539    10744        %EQU Y#RST_PRM=KV_INPOPRX;
      540    10745        %KV_INPOPR (TYP=RSTPRM, IMD=, PRMID=0, FNCID='R');
      541    10869        %EQU Y#TGL_PRM=KV_INPOPRX;
      542    10870        %KV_INPOPR (TYP=TGLPRM, IMD=, ACK=, PRMID=0, FNCID='T');
      543    10994        %KV_FNCID (ID='C', INPOPRX=Y#ASCIIDC2);
      544    11081        %KV_FNCID (ID='D', INPOPRX=Y#ASCIIBS);
      545    11168        %KV_FNCID (ID='I', INPOPRX=Y#ASCIIHT);
      546    11255        %EQU Y#ESC_HT=KV_INPOPRX;
      547    11256        %KV_INPOPR (TYP=SETPRM, RED=, PRMID=KV_PRMID_AUTTABCLM, FNCID=ASCIIHT);
      548    11380        %EQU Y#ESC_UP_ARW=KV_INPOPRX;
      549    11381        %KV_INPOPR (TYP=SETPRM, RED=, PRMID=KV_PRMID_WRDWRPCLM, FNCID=ASCIIUP_ARW);
      550    11505        %EQU Y#ESC_PRD = KV_INPOPRX;
      551    11506        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_NXTSSN, FNCID='.');
      552    11630
      553    11631        /*
      554    11632           Input function identifiers declaring special characters (SPCCHRs).
      555    11633           for the smallest CP-5 subset.
      556    11634        */
      557    11635        %KV_FNCID (ID=ASCIIBS, INPOPRX=KA_CP5_0+KA#SPCCHR_BS, TYP=SPCCHR);
      558    11722        %KV_FNCID (ID=ASCIIHT, INPOPRX=KA_CP5_0+KA#SPCCHR_HT);
      559    11809        %KV_FNCID (ID=ASCIILF, INPOPRX=KA_CP5_0+KA#SPCCHR_LF);
      560    11896        %KV_FNCID (ID=ASCIIFF, INPOPRX=KA_CP5_0+KA#SPCCHR_FF);
      561    11983        %KV_FNCID (ID=ASCIICR, INPOPRX=KA_CP5_0+KA#SPCCHR_CR);
      562    12070        %KV_FNCID (ID=ASCIIDC2, INPOPRX=KA_CP5_0+KA#SPCCHR_DC2);
      563    12157        %KV_FNCID (ID=ASCIICAN, INPOPRX=KA_CP5_0+KA#SPCCHR_CAN);
      564    12244        %KV_FNCID (ID=ASCIIESC, INPOPRX=KA_CP5_0+KA#SPCCHR_ESC);
      565    12331        %KV_FNCID (ID=ASCIIDEL, INPOPRX=KA_CP5_0+KA#SPCCHR_DEL);
      566    12418        %EQU Y#ASCIIETB=KV_INPOPRX;
      567    12419        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_FNDPSTWRD, FNCID=ASCIIETB);
      568    12543        %EQU Y#ASCIINAK=KV_INPOPRX;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:69   
      569    12544        %KV_INPOPR (TYP=SETPRM, RED=, CHN=, PRMID=KV_PRMID_CHNCAS, FNCID=ASCIINAK);
      570    12668        %KV_INPOPR (TYP=VDHINPPRC, RED=, CHN=, ID=KV_INPPRC_PSTRHT);
      571    12706        %KV_INPOPR (TYP=RSTPRM, RED=, PRMID=KV_PRMID_CHNCAS);
      572    12744        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:70   
      573    12745        /*
      574    12746           And the rest of the ids for async input control strings.
      575    12747        */
      576    12748        %IF KA#INPCTRSTRCHR_INT = 254;
      577    12749        %KV_FNCID (ID=KA#INPCTRSTRCHR_BRK, INPOPRX=Y#INPCTRSTR_BRK, TYP=CTRSTR);
      578    12836        %KV_FNCID (ID=KA#INPCTRSTRCHR_CLAOVRRUN, INPOPRX=Y#INPCTRSTR_CLAOVRRUN);
      579    12923        %KV_FNCID (ID=KA#INPCTRSTRCHR_PRTERR, INPOPRX=Y#INPOPR_PRTERR);
      580    13010        %ELSE;
      586    13016        %ENDIF;
      587    13017        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:71   
      588    13018        /*
      589    13019           Now let's save those id counts, and add the ones for CP5S1.
      590    13020        */
      591    13021        %SET KA_CP5S2_FNCID_SAV=KV_FNCID_SAV;
      592    13022        %KV_FNCID (ID=ASCIISOH, INPOPRX=Y#ESC_SOH, TYP=PRMESC);
      593    13109        %KV_FNCID (ID=ASCIISTX, INPOPRX=Y#ESC_STX);
      594    13196        %KV_FNCID (ID=ASCIIESC, INPOPRX=Y#ESC_Y);
      595    13283        %KV_FNCID (ID='$', INPOPRX=Y#ESC_APLDLR);
      596    13370        %KV_FNCID (ID='-', INPOPRX=Y#ESC_HPH);
      597    13457        %KV_FNCID (ID='A', INPOPRX=Y#ESC_A);
      598    13544        %KV_FNCID (ID='B', INPOPRX=Y#ESC_B);
      599    13631        %KV_FNCID (ID='E', INPOPRX=Y#ESC_E);
      600    13718        %KV_FNCID (ID='H', INPOPRX=Y#ESC_H);
      601    13805        %KV_FNCID (ID='L', INPOPRX=Y#ESC_L);
      602    13892        %KV_FNCID (ID='M', INPOPRX=Y#ESC_M);
      603    13979        %KV_FNCID (ID='O', INPOPRX=Y#ESC_O);
      604    14066        %KV_FNCID (ID='U', INPOPRX=Y#ESC_U);
      605    14153        %KV_FNCID (ID='W', INPOPRX=Y#ESC_W);
      606    14240        %KV_FNCID (ID='Y', INPOPRX=Y#ESC_Y);
      607    14327        %KV_FNCID (ID='7C'X, INPOPRX=Y#ESC_APLDLR);
      608    14414        %KV_FNCID (ID='7E'X, INPOPRX=Y#ESC_APLDLR);
      609    14501        %KV_FNCID (ID='C6'X, INPOPRX=Y#ESC_APLDLR);
      610    14588        %KV_FNCID (ID='CF'X, INPOPRX=Y#ESC_APLDLR);
      611    14675        %KV_FNCID (ID='D4'X, INPOPRX=Y#ESC_APLDLR);
      612    14762        %EQU Y#SET_HSS=KV_INPOPRX;
      613    14763        %KV_INPOPR (TYP=SETPRM, RED=, PRMID=KV_PRMID_HRZSCRSHF, FNCID='H',
      614    14764                    FNCTYP=SCNESC);
      615    14888        %EQU Y#SET_HSM=KV_INPOPRX;
      616    14889        %KV_INPOPR (TYP=SETPRM, RED=, PRMID=KV_PRMID_HRZSCRMRG, FNCID='M');
      617    15013        %KV_FNCID (ID=ASCIIEM, INPOPRX=KA_CP5_0+KA#SPCCHR_EM, TYP=SPCCHR);
      618    15100        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:72   
      619    15101        /*
      620    15102           Now we'll save those, and add the rest, to make the full table.
      621    15103        */
      622    15104        %SET KA_CP5S1_FNCID_SAV=KV_FNCID_SAV;
      623    15105        %KV_FNCID (ID='(', INPOPRX=Y#ESC_LFTPRN, TYP=PRMESC);
      624    15192        %KV_FNCID (ID="')'", INPOPRX=Y#ESC_RHTPRN);
      625    15279        %KV_FNCID (ID='C', INPOPRX=Y#ESC_C);
      626    15366        %KV_FNCID (ID='P', INPOPRX=Y#ESC_P);
      627    15453        %KV_FNCID (ID='S', INPOPRX=Y#ESC_S);
      628    15540        %KV_FNCID (ID='T', INPOPRX=Y#ESC_T);
      629    15627        %KV_FNCID (ID=ASCIIDC1, INPOPRX=KA_CP5_0+KA#SPCCHR_DC1, TYP=SPCCHR);
      630    15714        %KV_FNCID (ID=ASCIIDC3, INPOPRX=KA_CP5_0+KA#SPCCHR_DC3);
      631    15801        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:73   
      632    15802        /*
      633    15803           Now lets make some tables.
      634    15804        */
      635    15805        %LIST;
      636    15806        %KV$INPFNCTBL (NAME=NUL, NAM='NO', STCLASS=CONSTANT,
      637    15807                       LNK=KA_INPFNC.CP5S1, LAST=",", FNCID_SAV=KA_NUL_FNCID_SAV);
             15808        %LSET LISTDIR='0'B;
             15857    1   2 NUL,
             15859    1   3 LNK$ PTR INIT(ADDR(KA_INPFNC.CP5S1)),
             15864    1   3 BYTSIZ UBIN(16)ALIGNED INIT(92),
             15868    1   3 USRCNT UBIN(16)ALIGNED INIT(32767) ,3 NAM CHAR(8)INIT('NO') ,
             15876    1   3 * CHAR(38)INIT('                                      '),3 * UBIN BYTE CALIGNED
             15876            INIT(0),3 * BIT(2)INIT('00'B),3 * BIT(1)INIT('0'B),3 * BIT(5)INIT
             15877    1   ('0'B),3 *(0:11)SBIN INIT(101,90,151,86,86,86,107,96,157,92,92,92),3 *(0:3)BIT(16)
             15877            INIT(
             15878    1  '1111111111111111'B,'1111111111111111'B,'1111111111111111'B,'1111111111111111'B),3 *
             15878            (0:1)SBIN INIT
             15879    1   (-211,0)
             15884    1   ,2 * CHAR(0)INIT(
             15884    1   '    SRTCDI	^.HM      <>''  *:DFGJKNQRVXZ   $-ABEHLMOUWY|~FOT()CPST 	             '
             15884           ),2 * CHAR(0)INIT(' l b f q G H I       J K L Q R r u v w x y ~   A B C D E     
             15884       	               F o p   | }                     | | | | | z {                       
             15884            M N      ')
             15887    1   ,
      638    15891        %KV$INPFNCTBL (NAME=CP5, NAM='CP5', PRMINTCHR1=ASCIIESC, STCLASS=CONSTANT,
      639    15892                       SCNINTCHR1=ASCIIESC, ESCCNTOK=S,
      640    15893                       LNK=KA_INPFNC.NUL, LAST=",");
             15894        %LSET LISTDIR='0'B;
             15943    1   2 CP5,
             15945    1   3 LNK$ PTR INIT(ADDR(KA_INPFNC.NUL)),
             15950    1   3 BYTSIZ UBIN(16)ALIGNED INIT(92),
             15954    1   3 USRCNT UBIN(16)ALIGNED INIT(32767) ,3 NAM CHAR(8)INIT('CP5') ,
             15962    1   3 * CHAR(38)INIT('2      luP                            '),3 * UBIN BYTE CALIGNED
             15962            INIT(0),3 * BIT(2)INIT('01'B),3 * BIT(1)INIT('0'B),3 * BIT(5)INIT
             15963    1  ('0'B),3 *(0:11)SBIN INIT(-64,-75,-14,-79,-79,-79,-223,-234,-173,-238,-238,-238),3 *
             15963            (0:3)BIT(16)INIT(
             15964    1  '0000000000011011'B,'0000000000011011'B,'1111111111111111'B,'1111111111111111'B),3 *
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:74   
             15964            (0:1)SBIN INIT
             15965    1   (-376,0)
             15973    1   ,
      641    15977        %KV$INPFNCTBL (NAME=CP5S1, NAM='CP5S1', PRMINTCHR1=ASCIIESC, STCLASS=CONSTANT,
      642    15978                       SCNINTCHR1=ASCIIESC, SBSLVL=1, ESCCNTOK=S,
      643    15979                       LNK=KA_INPFNC.CP5S2, LAST=",", FNCID_SAV=KA_CP5S1_FNCID_SAV);
             15980        %LSET LISTDIR='0'B;
             16029    1   2 CP5S1,
             16031    1   3 LNK$ PTR INIT(ADDR(KA_INPFNC.CP5S2)),
             16036    1   3 BYTSIZ UBIN(16)ALIGNED INIT(92),
             16040    1   3 USRCNT UBIN(16)ALIGNED INIT(32767) ,3 NAM CHAR(8)INIT('CP5S1') ,
             16048    1   3 * CHAR(38)INIT(',      l%P                            '),3 * UBIN BYTE CALIGNED
             16048            INIT(1),3 * BIT(2)INIT('01'B),3 * BIT(1)INIT('0'B),3 * BIT(5)INIT
             16049    1  ('0'B),3 *(0:11)SBIN INIT(-110,-121,-60,-125,-125,-125,-315,-326,-265,-330,-330,-330
             16049            ),3 *(0:3)BIT(16)INIT(
             16050    1  '0000000000011011'B,'0000000000011011'B,'1111111111111111'B,'1111111111111111'B),3 *
             16050            (0:1)SBIN INIT
             16051    1   (-422,0)
             16059    1   ,
      644    16063        %KV$INPFNCTBL (NAME=CP5S2, NAM='CP5S2', PRMINTCHR1=ASCIIESC, STCLASS=CONSTANT,
      645    16064                       SCNINTCHR1=ASCIIESC, SBSLVL=2, ESCCNTOK=S,
      646    16065                       LNK=KA_INPFNC.FRM1, LAST=",", FNCID_SAV=KA_CP5S2_FNCID_SAV);
             16066        %LSET LISTDIR='0'B;
             16115    1   2 CP5S2,
             16117    1   3 LNK$ PTR INIT(ADDR(KA_INPFNC.FRM1)),
             16122    1   3 BYTSIZ UBIN(16)ALIGNED INIT(92),
             16126    1   3 USRCNT UBIN(16)ALIGNED INIT(32767) ,3 NAM CHAR(8)INIT('CP5S2') ,
             16134    1   3 * CHAR(38)INIT(' 	     l%                             '),3 * UBIN BYTE CALIGNED
             16134            INIT(2),3 * BIT(2)INIT('01'B),3 * BIT(1)INIT('0'B),3 * BIT(5)INIT
             16135    1   ('0'B),3 *(0:11)SBIN INIT(-156,-167,-106,-171,-171,-171,-407,-418,-357,-422,-422,
             16135            -422),3 *(0:3)BIT(16)INIT(
             16136    1  '0000000000011011'B,'0000000000011011'B,'1111111111111111'B,'1111111111111111'B),3 *
             16136            (0:1)SBIN INIT
             16137    1   (-468,0)
             16145    1   ,
      647    16149        %PLIST;
      648    16150        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:75   
      649    16151        /*
      650    16152           Input function identifiers declaring system primary
      651    16153           ESCAPE sequences for the forms input function table.
      652    16154        */
      653    16155        %SET KV_INPOPR0=KA_FRM1_0;
      654    16156        %KV_FNCID (ID=ASCIILF, INPOPRX=Y#ESC_CR, TYP=PRMESC);
      655    16243        %KV_FNCID (ID=ASCIIVT, INPOPRX=Y#ESC_VT);
      656    16330        %KV_FNCID (ID=ASCIICR, INPOPRX=Y#ESC_CR);
      657    16417        %KV_FNCID (ID=ASCIIDC2, INPOPRX=Y#ESC_DC2);
      658    16504        %KV_FNCID (ID=ASCIIETB, INPOPRX=Y#ESC_ETB);
      659    16591        %KV_FNCID (ID=ASCIIEOT, INPOPRX=Y#ESC_D);
      660    16678        %KV_FNCID (ID=ASCIIESC, INPOPRX=Y#F_MNTATN);
      661    16765        %KV_FNCID (ID='(', INPOPRX=Y#ESC_LFTPRN);
      662    16852        %KV_FNCID (ID="')'", INPOPRX=Y#ESC_RHTPRN);
      663    16939        %KV_FNCID (ID='<', INPOPRX=Y#ESC_LFTARW);
      664    17026        %KV_FNCID (ID='>', INPOPRX=Y#ESC_RHTARW);
      665    17113        %KV_FNCID (ID='-', INPOPRX=Y#F_RE_DSP);
      666    17200        %KV_FNCID (ID='A', INPOPRX=Y#F_PSTUP);
      667    17287        %KV_FNCID (ID='B', INPOPRX=Y#F_PSTDWN);
      668    17374        %KV_FNCID (ID='D', INPOPRX=Y#ESC_EOT);
      669    17461        %KV_FNCID (ID='G', INPOPRX=Y#ESC_G);
      670    17548        %KV_FNCID (ID='H', INPOPRX=Y#ESC_H);
      671    17635        %KV_FNCID (ID='J', INPOPRX=Y#ESC_J);
      672    17722        %KV_FNCID (ID='K', INPOPRX=Y#ESC_K);
      673    17809        %KV_FNCID (ID='M', INPOPRX=Y#ESC_M);
      674    17896        %KV_FNCID (ID='N', INPOPRX=Y#ESC_N);
      675    17983        %KV_FNCID (ID='O', INPOPRX=Y#ESC_O);
      676    18070        %KV_FNCID (ID='Q', INPOPRX=Y#ESC_Q);
      677    18157        %KV_FNCID (ID='R', INPOPRX=Y#ESC_R);
      678    18244        %KV_FNCID (ID='U', INPOPRX=Y#ESC_U);
      679    18331        %KV_FNCID (ID='V', INPOPRX=Y#ESC_V);
      680    18418        %KV_FNCID (ID='X', INPOPRX=Y#ESC_X);
      681    18505        %KV_FNCID (ID='Y', INPOPRX=Y#F_MNTATN);
      682    18592        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_BRK, CHN=, FNCID=ASCIISTX);
      683    18716        %KV_INPOPR (TYP=MSC, IMD=, DLTINP=, ABRRED=);
      684    18754        %KV_FNCID (ID='i', INPOPRX=KA#SPCCHR_CR+KA_FRM1_0); /* Often xmit key         */
      685    18841        %KV_FNCID (ID='Z', INPOPRX=Y#ESC_Z);
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:76   
      686    18928        %KV_FNCID (ID=ASCIISNGQOT, INPOPRX=Y#ESC_QOT);
      687    19015        %KV_FNCID (ID=ASCIIAST, INPOPRX=Y#ESC_AST);
      688    19102        %KV_FNCID (ID=ASCIICLN, INPOPRX=Y#ESC_CLN);
      689    19189        %KV_FNCID (ID=ASCIIDEL, INPOPRX=Y#ESC_DEL);
      690    19276        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:77   
      691    19277        /*
      692    19278           Secondary input function for forms.  Put tab here to get a backtab.
      693    19279        */
      694    19280        %KV_FNCID (ID='I', INPOPRX=Y#ASCIIHT, TYP=SCNESC);
      695    19367        %KV_FNCID (ID='.', INPOPRX=Y#ESC_PRD);
      696    19454        %KV_FNCID (ID='R', INPOPRX=Y#RST_PRM);
      697    19541        %KV_FNCID (ID='S', INPOPRX=Y#SET_PRM);
      698    19628        %KV_FNCID (ID='T', INPOPRX=Y#TGL_PRM);
      699    19715        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:78   
      700    19716        /*
      701    19717           Input function identifiers declaring special characters (SPCCHRs).
      702    19718           for the forms function table.
      703    19719        */
      704    19720        %KV_FNCID (ID=ASCIIBS, INPOPRX=KA_FRM1_0+KA#SPCCHR_BS, TYP=SPCCHR);
      705    19807        %KV_FNCID (ID=ASCIIHT, INPOPRX=KA_FRM1_0+KA#SPCCHR_HT);
      706    19894        %KV_FNCID (ID=ASCIILF, INPOPRX=KA_FRM1_0+KA#SPCCHR_LF);
      707    19981        %KV_FNCID (ID=ASCIICR, INPOPRX=KA_FRM1_0+KA#SPCCHR_CR);
      708    20068        %KV_FNCID (ID=ASCIIDC2, INPOPRX=KA_FRM1_0+KA#SPCCHR_DC2);
      709    20155        %KV_FNCID (ID=ASCIIETB, INPOPRX=Y#ASCIIETB);
      710    20242        %KV_FNCID (ID=ASCIICAN, INPOPRX=KA_FRM1_0+KA#SPCCHR_CAN);
      711    20329        %KV_FNCID (ID=ASCIIEM, INPOPRX=KA_FRM1_0+KA#SPCCHR_EM);
      712    20416        %KV_FNCID (ID=ASCIIESC, INPOPRX=KA_FRM1_0+KA#SPCCHR_ESC);
      713    20503        %KV_FNCID (ID=ASCIIDEL, INPOPRX=KA_FRM1_0+KA#SPCCHR_DEL);
      714    20590        %KV_FNCID (ID=ASCIINAK, INPOPRX=Y#ASCIINAK);
      715    20677        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:79   
      716    20678        /*
      717    20679           Now the forms control strings.  Except for break, they're the same as CP5.
      718    20680        */
      719    20681        %IF KA#INPCTRSTRCHR_INT = 254;
      720    20682        %KV_FNCID (ID=KA#INPCTRSTRCHR_BRK, INPOPRX=KA_FRM1_0+KA#SPCCHR_DC1, TYP=CTRSTR);
      721    20769        %KV_FNCID (ID=KA#INPCTRSTRCHR_CLAOVRRUN, INPOPRX=Y#INPCTRSTR_CLAOVRRUN);
      722    20856        %KV_FNCID (ID=KA#INPCTRSTRCHR_DSC, INPOPRX=Y#INPCTRSTR_DSC);
      723    20943        %KV_FNCID (ID=KA#INPCTRSTRCHR_PRTERR, INPOPRX=Y#INPOPR_PRTERR);
      724    21030        %ELSE;
      735    21041        %ENDIF;
      736    21042        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:80   
      737    21043        /*
      738    21044            Now let's build the FRM1 table.
      739    21045        */
      740    21046        %LIST;
      741    21047        %KV$INPFNCTBL (NAME=FRM1, NAM='FRM1', PRMINTCHR1=ASCIIESC, STCLASS=CONSTANT,
      742    21048                       SCNINTCHR1=ASCIIESC, ESCCNTOK=S,
      743    21049                       LNK=KA_INPFNC.SE1, LAST=",");
             21050        %LSET LISTDIR='0'B;
             21099    1   2 FRM1,
             21101    1   3 LNK$ PTR INIT(ADDR(KA_INPFNC.SE1)),
             21106    1   3 BYTSIZ UBIN(16)ALIGNED INIT(92),
             21110    1   3 USRCNT UBIN(16)ALIGNED INIT(32767) ,3 NAM CHAR(8)INIT('FRM1') ,
             21118    1   3 * CHAR(38)INIT('#      d%P                            '),3 * UBIN BYTE CALIGNED
             21118            INIT(0),3 * BIT(2)INIT('01'B),3 * BIT(1)INIT('0'B),3 * BIT(5)INIT
             21119    1  ('0'B),3 *(0:11)SBIN INIT(74,109,114,125,74,74,92,127,132,143,92,92),3 *(0:3)BIT(16)
             21119            INIT(
             21120    1  '0000000000011011'B,'0000000000011011'B,'1111111111111111'B,'1111111111111111'B),3 *
             21120            (0:1)SBIN INIT
             21121    1   (-490,0)
             21126    1   ,2 * CHAR(0)INIT('       ()<>-ABDGHJKMNOQRUVXY iZ''*: I.RST 	              '),2 *
             21126           CHAR(0)INIT(' ] \ ] ^ ( j d ` a d e       X o p q r t v w z { ~     d h   , ' * 
             21126        + ) ~ 2 . - /           3         4   L R W')
             21129    1   ,
      744    21133        %PLIST;
      745    21134        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:81   
      746    21135        /*
      747    21136           Input function identifiers declaring system primary
      748    21137           ESCAPE sequences for the editor input function table.
      749    21138        */
      750    21139        %SET KV_INPOPR0=KA_SE1_0;
      751    21140        %KV_FNCID (ID=ASCIIETB, INPOPRX=Y#ESC_ETB, TYP=PRMESC);
      752    21227        %KV_FNCID (ID=ASCIIDEL, INPOPRX=Y#ESC_DEL);
      753    21314        %KV_FNCID (ID=ASCIICR, INPOPRX=Y#ESC_CR);
      754    21401        %EQU Y#SE_UP=KV_INPOPRX;
      755    21402        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SE_UP, FNCID='A');
      756    21526        %KV_FNCID (ID='B', INPOPRX=KA_SE1_0+KA#SPCCHR_LF);
      757    21613        %KV_FNCID (ID='C', INPOPRX=KA_SE1_0+KA#SPCCHR_DC2);
      758    21700        %KV_FNCID (ID='D', INPOPRX=KA_SE1_0+KA#SPCCHR_BS);
      759    21787        %KV_FNCID (ID=ASCIIVT, INPOPRX=Y#ESC_VT);
      760    21874        %KV_INPOPR (TYP=MSC,       RED=, DLTRED=, CHN=, FNCID=ASCIIFF);
      761    21998        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_JOIN, FNCID=ASCIIBS);
      762    22122        %KV_FNCID (ID='J', INPOPRX=Y#ESC_J);
      763    22209        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_DLTTO_END, FNCID='K');
      764    22333        %KV_FNCID (ID='M', INPOPRX=Y#ESC_M);
      765    22420        %KV_FNCID (ID='N', INPOPRX=Y#ESC_N);
      766    22507        %KV_FNCID (ID='O', INPOPRX=Y#ESC_O);
      767    22594        %KV_FNCID (ID='V', INPOPRX=Y#ESC_V);
      768    22681        %KV_FNCID (ID='X', INPOPRX=Y#ESC_X);
      769    22768        %KV_FNCID (ID='Y', INPOPRX=Y#SE_MNTATN);
      770    22855        %KV_FNCID (ID=ASCIISNGQOT, INPOPRX=Y#ESC_QOT);
      771    22942        %KV_FNCID (ID='^', INPOPRX=Y#ESC_UP_ARW);
      772    23029        %KV_FNCID (ID='*', INPOPRX=Y#ESC_AST);
      773    23116        %KV_FNCID (ID=':', INPOPRX=Y#ESC_CLN);
      774    23203        %KV_FNCID (ID='I', INPOPRX=Y#ASCIIHT);
      775    23290        %KV_FNCID (ID=ASCIIHT, INPOPRX=Y#ESC_HT);
      776    23377        %KV_FNCID (ID=ASCIIDC2, INPOPRX=Y#ESC_DC2);
      777    23464        %KV_FNCID (ID=ASCIIEOT, INPOPRX=Y#ESC_D);
      778    23551        %KV_FNCID (ID=ASCIIESC, INPOPRX=Y#SE_MNTATN);
      779    23638        %KV_FNCID (ID='(', INPOPRX=Y#ESC_LFTPRN);
      780    23725        %KV_FNCID (ID="')'", INPOPRX=Y#ESC_RHTPRN);
      781    23812        %KV_FNCID (ID='<', INPOPRX=Y#ESC_LFTARW);
      782    23899        %KV_FNCID (ID='>', INPOPRX=Y#ESC_RHTARW);
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:82   
      783    23986        %KV_FNCID (ID='-', INPOPRX=Y#F_RE_DSP);
      784    24073        %KV_FNCID (ID='G', INPOPRX=Y#ESC_G);
      785    24160        %KV_FNCID (ID='H', INPOPRX=Y#ESC_H);
      786    24247        %KV_FNCID (ID='Q', INPOPRX=Y#ESC_Q);
      787    24334        %KV_FNCID (ID='R', INPOPRX=Y#ESC_R);
      788    24421        %KV_FNCID (ID='U', INPOPRX=Y#ESC_U);
      789    24508        %KV_FNCID (ID=ASCIISTX, INPOPRX=Y#SE_BRK);
      790    24595        %KV_FNCID (ID='Z', INPOPRX=Y#ESC_Z);
      791    24682        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:83   
      792    24683        /*
      793    24684           Now the ones that accept a count in the middle.
      794    24685        */
      795    24686        %KV_FNCID (ID='A', INPOPRX=Y#SE_UP, TYP=SCNESC);
      796    24773        %KV_FNCID (ID='B', INPOPRX=KA_SE1_0+KA#SPCCHR_LF);
      797    24860        %KV_FNCID (ID='C', INPOPRX=KA_SE1_0+KA#SPCCHR_DC2);
      798    24947        %KV_FNCID (ID='D', INPOPRX=KA_SE1_0+KA#SPCCHR_BS);
      799    25034        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SPLIT, FNCID=ASCIILF);
      800    25158        %EQU Y#SE_CRSHOM = KV_INPOPRX;
      801    25159        %KV_INPOPR (TYP=VDHINPPRC, RED=, ID=KV_INPPRC_SE_CRSHOM, FNCID='E');
      802    25283        %KV_FNCID (ID='P', INPOPRX=Y#ESC_EOT);
      803    25370        %KV_FNCID (ID='R', INPOPRX=Y#RST_PRM);
      804    25457        %KV_FNCID (ID='S', INPOPRX=Y#SET_PRM);
      805    25544        %KV_FNCID (ID='T', INPOPRX=Y#TGL_PRM);
      806    25631        %KV_FNCID (ID='I', INPOPRX=Y#ASCIIHT);
      807    25718        %KV_FNCID (ID=ASCIIHT, INPOPRX=Y#ESC_HT);
      808    25805        %KV_FNCID (ID=ASCIIUP_ARW, INPOPRX=Y#ESC_UP_ARW);
      809    25892        %KV_FNCID (ID='H', INPOPRX=Y#SET_HSS);
      810    25979        %KV_FNCID (ID='M', INPOPRX=Y#SET_HSM);
      811    26066        %KV_FNCID (ID='.', INPOPRX=Y#ESC_PRD);
      812    26153        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:84   
      813    26154        /*
      814    26155           Input function identifiers declaring special characters (SPCCHRs).
      815    26156           for the editor function table.
      816    26157        */
      817    26158        %KV_FNCID (ID=ASCIIBS, INPOPRX=KA_SE1_0+KA#SPCCHR_BS, TYP=SPCCHR);
      818    26245        %KV_FNCID (ID=ASCIIHT, INPOPRX=KA_SE1_0+KA#SPCCHR_HT);
      819    26332        %KV_FNCID (ID=ASCIILF, INPOPRX=KA_SE1_0+KA#SPCCHR_LF);
      820    26419        %KV_FNCID (ID=ASCIICR, INPOPRX=KA_SE1_0+KA#SPCCHR_CR);
      821    26506        %KV_FNCID (ID=ASCIIDC2, INPOPRX=KA_SE1_0+KA#SPCCHR_DC2);
      822    26593        %KV_FNCID (ID=ASCIIETB, INPOPRX=Y#ASCIIETB);
      823    26680        %KV_FNCID (ID=ASCIICAN, INPOPRX=KA_SE1_0+KA#SPCCHR_CAN);
      824    26767        %KV_FNCID (ID=ASCIIEM, INPOPRX=KA_SE1_0+KA#SPCCHR_EM);
      825    26854        %KV_FNCID (ID=ASCIIESC, INPOPRX=KA_SE1_0+KA#SPCCHR_ESC);
      826    26941        %KV_FNCID (ID=ASCIIDEL, INPOPRX=KA_SE1_0+KA#SPCCHR_DEL);
      827    27028        %KV_FNCID (ID=ASCIINAK, INPOPRX=Y#ASCIINAK);
      828    27115        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:85   
      829    27116        /*
      830    27117           Now the editor control strings.  Except for break, they're the same as CP5.
      831    27118        */
      832    27119        %IF KA#INPCTRSTRCHR_INT = 254;
      833    27120        %KV_FNCID (ID=KA#INPCTRSTRCHR_BRK, INPOPRX=Y#SE_BRK, TYP=CTRSTR);
      834    27207        %KV_FNCID (ID=KA#INPCTRSTRCHR_CLAOVRRUN, INPOPRX=Y#SE_CLAOVRRUN);
      835    27294        %KV_FNCID (ID=KA#INPCTRSTRCHR_DSC, INPOPRX=Y#INPCTRSTR_DSC);
      836    27381        %ELSE;
      849    27394        %ENDIF;
      850    27395        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:86   
      851    27396        /*
      852    27397            Now let's build the SE1 table.
      853    27398        */
      854    27399        %KV$INPFNCTBL (NAME=SE1, NAM='SE1', PRMINTCHR1=ASCIIESC, STCLASS=CONSTANT,
      855    27400                       SCNINTCHR1=ASCIIESC, SBSLVL=2, ESCCNTOK=S,
      856    27401                       LNK=KA_INPFNC.SE2, LAST=",");
      857    27485        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:87   
      858    27486        /*
      859    27487           Input function identifiers declaring system primary
      860    27488           ESCAPE sequences for the read-only editor input function table.
      861    27489        */
      862    27490        %SET KV_INPOPR0=KA_SE1_0;
      863    27491        %KV_FNCID (ID=ASCIICR, INPOPRX=Y#ESC_CR, TYP=PRMESC);
      864    27578        %KV_FNCID (ID='J', INPOPRX=Y#ESC_J);
      865    27665        %KV_FNCID (ID='N', INPOPRX=Y#ESC_N);
      866    27752        %KV_FNCID (ID='V', INPOPRX=Y#ESC_V);
      867    27839        %KV_FNCID (ID='Y', INPOPRX=Y#SE_MNTATN);
      868    27926        %KV_FNCID (ID='^', INPOPRX=Y#ESC_UP_ARW);
      869    28013        %KV_FNCID (ID='*', INPOPRX=Y#ESC_AST);
      870    28100        %KV_FNCID (ID='I', INPOPRX=Y#ASCIIHT);
      871    28187        %KV_FNCID (ID=ASCIIHT, INPOPRX=Y#ESC_HT);
      872    28274        %KV_FNCID (ID=ASCIIDC2, INPOPRX=Y#ESC_DC2);
      873    28361        %KV_FNCID (ID=ASCIIESC, INPOPRX=Y#SE_MNTATN);
      874    28448        %KV_FNCID (ID='<', INPOPRX=Y#ESC_LFTARW);
      875    28535        %KV_FNCID (ID='>', INPOPRX=Y#ESC_RHTARW);
      876    28622        %KV_FNCID (ID='-', INPOPRX=Y#F_RE_DSP);
      877    28709        %KV_FNCID (ID='G', INPOPRX=Y#ESC_G);
      878    28796        %KV_FNCID (ID='H', INPOPRX=Y#ESC_H);
      879    28883        %KV_FNCID (ID='Q', INPOPRX=Y#ESC_Q);
      880    28970        %KV_FNCID (ID='R', INPOPRX=Y#ESC_R);
      881    29057        %KV_FNCID (ID=ASCIISTX, INPOPRX=Y#SE_BRK);
      882    29144        %KV_FNCID (ID='Z', INPOPRX=Y#ESC_Z);
      883    29231        %EQU Y#SE_NULINP=KV_INPOPRX;
      884    29232        %KV_INPOPR (TYP=TXT, RED=, DSP=REDBFR, TXT='X', FNCID=ASCIIBS);
      885    29356        %KV_FNCID (ID=ASCIIDEL, INPOPRX=Y#SE_NULINP);
      886    29443        %KV_FNCID (ID=ASCIIEOT, INPOPRX=Y#SE_NULINP);
      887    29530        %KV_FNCID (ID=ASCIIETB, INPOPRX=Y#SE_NULINP);
      888    29617        %KV_FNCID (ID=ASCIIFF, INPOPRX=Y#SE_NULINP);
      889    29704        %KV_FNCID (ID=ASCIIVT, INPOPRX=Y#SE_NULINP);
      890    29791        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:88   
      891    29792        /*
      892    29793           Now the read-only editor ones that accept a count in the middle.
      893    29794        */
      894    29795        %KV_FNCID (ID='A', INPOPRX=Y#SE_UP, TYP=SCNESC);
      895    29882        %KV_FNCID (ID='B', INPOPRX=KA_SE1_0+KA#SPCCHR_LF);
      896    29969        %KV_FNCID (ID='C', INPOPRX=KA_SE1_0+KA#SPCCHR_DC2);
      897    30056        %KV_FNCID (ID='D', INPOPRX=KA_SE1_0+KA#SPCCHR_BS);
      898    30143        %KV_FNCID (ID='E', INPOPRX=Y#SE_CRSHOM);
      899    30230        %KV_FNCID (ID='R', INPOPRX=Y#RST_PRM);
      900    30317        %KV_FNCID (ID='S', INPOPRX=Y#SET_PRM);
      901    30404        %KV_FNCID (ID='T', INPOPRX=Y#TGL_PRM);
      902    30491        %KV_FNCID (ID='I', INPOPRX=Y#ASCIIHT);
      903    30578        %KV_FNCID (ID=ASCIIHT, INPOPRX=Y#ESC_HT);
      904    30665        %KV_FNCID (ID=ASCIIUP_ARW, INPOPRX=Y#ESC_UP_ARW);
      905    30752        %KV_FNCID (ID='H', INPOPRX=Y#SET_HSS);
      906    30839        %KV_FNCID (ID='M', INPOPRX=Y#SET_HSM);
      907    30926        %KV_FNCID (ID='.', INPOPRX=Y#ESC_PRD);
      908    31013        %KV_FNCID (ID=ASCIILF, INPOPRX=Y#SE_NULINP);
      909    31100        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:89   
      910    31101        /*
      911    31102           Input function identifiers declaring special characters (SPCCHRs).
      912    31103           for the read-only editor function table.
      913    31104        */
      914    31105        %KV_FNCID (ID=ASCIIBS, INPOPRX=KA_SE1_0+KA#SPCCHR_BS, TYP=SPCCHR);
      915    31192        %KV_INPOPR (TYP=TXT, RED=, DSP=WRT, TRN=YES, FNCID=ASCIINUL,
      916    31193                    TXT="%BITASC(ASCIIBEL)");
      917    31317        %KV_FNCID (ID=ASCIISP, INPOPRX=KA_SE1_0+KA#SPCCHR_DC2);
      918    31404        %KV_FNCID (ID=ASCIIHT, INPOPRX=KA_SE1_0+KA#SPCCHR_HT);
      919    31491        %KV_FNCID (ID=ASCIILF, INPOPRX=KA_SE1_0+KA#SPCCHR_LF);
      920    31578        %KV_FNCID (ID=ASCIICR, INPOPRX=KA_SE1_0+KA#SPCCHR_CR);
      921    31665        %KV_FNCID (ID=ASCIIDC2, INPOPRX=KA_SE1_0+KA#SPCCHR_DC2);
      922    31752        %KV_FNCID (ID=ASCIIETB, INPOPRX=Y#ASCIIETB);
      923    31839        %KV_FNCID (ID=ASCIIEM, INPOPRX=KA_SE1_0+KA#SPCCHR_EM);
      924    31926        %KV_FNCID (ID=ASCIIESC, INPOPRX=KA_SE1_0+KA#SPCCHR_ESC);
      925    32013        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:90   
      926    32014        /*
      927    32015           Now the read-only editor control strings.  They're the same as SE1.
      928    32016        */
      929    32017        %IF KA#INPCTRSTRCHR_INT = 254;
      930    32018        %KV_FNCID (ID=KA#INPCTRSTRCHR_BRK, INPOPRX=Y#SE_BRK, TYP=CTRSTR);
      931    32105        %KV_FNCID (ID=KA#INPCTRSTRCHR_CLAOVRRUN, INPOPRX=Y#SE_CLAOVRRUN);
      932    32192        %KV_FNCID (ID=KA#INPCTRSTRCHR_DSC, INPOPRX=Y#INPCTRSTR_DSC);
      933    32279        %ELSE;
      946    32292        %ENDIF;
      947    32293        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:91   
      948    32294        /*
      949    32295            Now let's build the SE2 table.
      950    32296        */
      951    32297        %KV$INPFNCTBL (NAME=SE2, NAM='SE2', PRMINTCHR1=ASCIIESC, STCLASS=CONSTANT,
      952    32298                       SCNINTCHR1=ASCIIESC, SBSLVL=2, ESCCNTOK=S,
      953    32299                       REDONLY=YES, LAST=",");
      954    32383        %EJECT;
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:92   
      955    32384        /*
      956    32385           Finally, a small table of functions for local mode.
      957    32386        */
      958    32387        %KV_FNCID (ID=KA#INPCTRSTRCHR_DSC, INPOPRX=Y#INPCTRSTR_DSCLCL, TYP=CTRSTR);
      959    32474        %KV_FNCID (ID='Z', INPOPRX=Y#ESC_Z, TYP=PRMESC);
      960    32561        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_ADJWND, FNCID=ASCIIESC);
      961    32685        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_PSTWND_UP, FNCID='A');
      962    32809        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_PSTWND_DWN, FNCID='B');
      963    32933        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_PSTWND_LFT, FNCID='D');
      964    33057        %KV_INPOPR (TYP=VDHINPPRC, IMD=, ID=KV_INPPRC_PSTWND_RHT, FNCID='C');
      965    33181        %KV_FNCID (ID='^', INPOPRX=KV_INPOPRX-4, TYP=SPCCHR);
      966    33268        %KV_FNCID (ID=ASCIILF, INPOPRX=KV_INPOPRX-4);
      967    33355        %KV_FNCID (ID=ASCIIBS, INPOPRX=KV_INPOPRX-4);
      968    33442        %KV_FNCID (ID=ASCIIDC2, INPOPRX=KV_INPOPRX-4);
      969    33529        /*
      970    33530           Make the table.
      971    33531        */
      972    33532        %KV$INPFNCTBL (NAME=LCLMOD, PRMINTCHR1=ASCIIESC, STCLASS=CONSTANT);
      973    33616    1   END;

PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:93   
--  Include file information  --

   KV$INPFNC.:E05TOU  is referenced.
   KA_GLB_E.:E05TOU  is referenced.
   KA_GLBASM_E.:E05TOU  is referenced.
   KV_ASCCHR_E.:E05TOU  is referenced.
   KV_PRMID_E.:E05TOU  was found in the system file and is referenced.
   KV_GLBCNS_E.:E05TOU  was found in the system file and is referenced.
   KV$VDO.:E05TOU  was found in the system file and is never referenced.
   KV$VDH.:E05TOU  was found in the system file and is referenced.
   KV$USR.:E05TOU  was found in the system file and is never referenced.
   KV$SND.:E05TOU  was found in the system file and is never referenced.
   KV$INT.:E05TOU  was found in the system file and is never referenced.
   KV$GLBCTX.:E05TOU  was found in the system file and is never referenced.
   KV$GLB.:E05TOU  was found in the system file and is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is never referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is never referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure KA_INPFNC_D.
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:94   

 **** Variables and constants ****

  ****  Section 000 RoData KA_INPFNC_D

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     2-0-0/w STRC(16256) r     1 KA_INPFNC


   No code generated for procedure KA_INPFNC_D .
   Procedure KA_INPFNC_D requires 4 words of local(AUTO) storage.

    No errors detected in file KA_INPFNC_D.:E05TSI    .
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:95   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=KA_INPFNC_D File=KA_INPFNC_D.:E05TSI                          FRI 10/03/97 11:39 Page:96   
          MINI XREF LISTING

KA_INPFNC.*.PSTVAL
      8127**DCL      8020--REDEF    8132--REDEF
KA_INPFNC.CP5
     15943**DCL      1151--DCLINIT
KA_INPFNC.CP5S1
     16029**DCL     15859--DCLINIT
KA_INPFNC.CP5S2
     16115**DCL     16031--DCLINIT
KA_INPFNC.FRM1
     21099**DCL     16117--DCLINIT
KA_INPFNC.NUL
     15857**DCL     15945--DCLINIT
KA_INPFNC.SE1
     27451**DCL     21101--DCLINIT
KA_INPFNC.SE2
     32349**DCL     27453--DCLINIT

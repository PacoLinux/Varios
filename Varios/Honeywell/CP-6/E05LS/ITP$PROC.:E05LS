VERSION E05

PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:1    
        1        1        /*M*     Initialize each secondary processor */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /**/
        8        8        /*X*/
        9        9        /*P*     NAME:     ITP$PROC
       10       10                 PURPOSE:  ITP$PROC does the initialization for any slave
       11       11                           processors (CPUs) specified in the configuration commands */
       12       12        ITP$PROC: PROC;
       13       13        /**/
       14       14        /*  INCLUDE FILES  */
       15       15        /**/
       16       16        %INCLUDE IT_ERROR_C;
       17       99        %INCLUDE IT_SUBS_C;
       18      366        %INCLUDE IT$CPU;
       19      378        %INCLUDE B$MAP;
       20      477        %INCLUDE B$JIT;
       21     1080        %INCLUDE B_UHJMAC_C;
       22     1409        %INCLUDE B_ULSMAC_C;
       23     2518        %INCLUDE M_INFO_C;
       24     2658        %INCLUDE SS_SCHED_R;
       25     2701        %INCLUDE S_WSPTD_R;
       26     2717        %INCLUDE S$WSPTD;
       27     2726        %INCLUDE B_SEGIDS_C;
       28     3265        %INCLUDE HF_DATA_R;
       29     3308        %SUB YES = '1'B/*YES*/;
       30     3309        %SUB NO = '0'B/*NO*/;
       31     3310        /**/
       32     3311        /* BASED STRUCTURES */
       33     3312        /**/
       34     3313        %B_UHJIT (FPTN=B$UHJIT,STCLASS=BASED);
       35     4284        /**/
       36     4285        /*  AUTOMATIC  */
       37     4286        /**/
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:2    
       38     4287    1   DCL CMD$ PTR;
       39     4288    1   DCL CVM$ PTR;
       40     4289    1   DCL CVM_PAGES(0:5) UBIN WORD;
       41     4290    1   DCL I SBIN WORD;
       42     4291    1   DCL PHYS_PAGE# SBIN WORD;
       43     4292    1   DCL CVM_ERR SBIN WORD;
       44     4293    1   DCL SLVIC EPTR;
       45     4294    1   DCL 1 SLVENT REDEF SLVIC,
       46     4295    1         2 IC UBIN(18) UNAL,
       47     4296    1         2 * BIT(18) UNAL;
       48     4297    1   DCL MASTER_GIVEN BIT(1) ALIGNED SYMREF;
       49     4298        /**/
       50     4299        /*  ENTRY DECLARES  */
       51     4300        /**/
       52     4301    1   DCL ITE$ERROR ENTRY(2);
       53     4302    1   DCL ITH$FIND_CONNECT_INDEX ENTRY(2) ALTRET;
       54     4303    1   DCL MMB$GPP ENTRY(2) ALTRET;
       55     4304    1   DCL MME$CVM ENTRY(4) ALTRET;
       56     4305    1   DCL SSS$SLVIC ENTRY;
       57     4306        /**/
       58     4307        /*  SYMREFS  */
       59     4308    1   DCL B$JIT$ PTR SYMREF;
       60     4309    1   DCL B$MONJIT$ PTR SYMREF;
       61     4310    1   DCL B$WINDOW$ PTR SYMREF;
       62     4311    1   DCL B$IS$ PTR SYMREF;
       63     4312    1   DCL B$DS5$ PTR SYMREF;
       64     4313    1   DCL B$MPT$ PTR SYMREF;
       65     4314    1   DCL B$MONHJIT$ PTR SYMREF;
       66     4315    1   DCL B$WSQ0PT$ PTR SYMREF;
       67     4316    1   DCL H_GATECNT UBIN WORD SYMREF;
       68     4317    1   DCL S_PNO UBIN WORD SYMREF;             /* PROCESSOR NUMBER                   */
       69     4318    1   DCL IT_SCPUWSPTD (0:%NUM_CPUS) UBIN WORD SYMREF;
              4318            /* WSPTD PAGE ADDRESSES FOR SLAVES   */
       70     4319    1   DCL IT_SCPUJIT(0:%NUM_CPUS) UBIN WORD SYMREF;
       71     4320    1   DCL IT_SCPUHJIT(0:%NUM_CPUS) UBIN WORD SYMREF;
       72     4321    1   DCL 1 IT_MMDSMAX(0:7) UBIN BYTE SYMREF UNAL;
       73     4322        %EJECT;
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:3    
       74     4323        /*D*     NAME:     ITP$PROC
       75     4324                 PURPOSE:  To initialize the tables needed by slave CPUs.
       76     4325        *
       77     4326                 INPUT:    Command table - Built in DS5 by ITC$CHECK_CPU
       78     4327        *
       79     4328                 OUTPUT:   Initialized tables for slave processor
       80     4329        *
       81     4330                 DESCRIPTION: ITP$PROc first checks to see whetehr the processor
       82     4331                           defined by the data in the frame IT$CPU in the
       83     4332                           command table refers to the master CPU. If it
       84     4333                           does, nothing is done.
       85     4334                              If this is a slave processos S_NSCPU is incremented
       86     4335                           and S_PORTNR(x) is set to the port number for slave
       87     4336                           processor x. Then 6 physical pages are obtained and
       88     4337                           mapped as the page table,JIT,AJIT,HJIT and processor data page
       89     4338                           for this processor. These pages are initialized and
       90     4339                           IT_SCPUWSPTD(x) is set to the page address of the
       91     4340                           processor data page for slave x, for future use
       92     4341                           in locating the WSPTD when starting the salve.    */
       93     4342        /**/
       94     4343        /**/
       95     4344        /*  PROCEDURE  */
       96     4345        /**/
       97     4346    1           CMD$ = PINCRW(B$DS5$,1);
       98     4347        /**/
       99     4348    1           IF CMD$->IT$CPU.PORT# = S_PORTNR(0) THEN
      100     4349    1              IF MASTER_GIVEN THEN GOTO BADPORTNR;
      101     4350    2               ELSE DO;
      102     4351    2                  MASTER_GIVEN = '1'B;
      103     4352    3                  IF H_RPM_FLG THEN DO;
      104     4353    3                     CVM_ERR = CMD$->IT$CPU.PORT#;
      105     4354    3                     CALL ITH$FIND_CONNECT_INDEX(CVM_ERR,H_DPS8000_CI_TABLE(0));
      106     4355    3                     END;
      107     4356    2                  RETURN;
      108     4357    2                  END;
      109     4358        /**/
      110     4359    1           IF (S_NSCPU = 5) OR (H_RPM_FLG AND S_NSCPU = 3)
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:4    
      111     4360    2           THEN DO;
      112     4361    2             CALL ITE$ERROR(%E$TOOMANYSLAVES#);
      113     4362    2             RETURN;
      114     4363    2             END;
      115     4364        /**/
      116     4365    1           IF S_NSCPU = 0 THEN;
      117     4366    2           ELSE DO I = 1 TO S_NSCPU;
      118     4367    3              IF CMD$->IT$CPU.PORT# = S_PORTNR(I) THEN DO;
      119     4368    3   BADPORTNR:
      120     4369    3                 CALL ITE$ERROR(%E$BADPORTNR#);
      121     4370    3                 RETURN;
      122     4371    3                 END;
      123     4372    2              END;
      124     4373        /**/
      125     4374    1           S_NSCPU = S_NSCPU + 1;          /* NUMBER OF SLAVES                   */
      126     4375        /**/
      127     4376    1           S_PORTNR(S_NSCPU) = CMD$ -> IT$CPU.PORT#;
      128     4377    2           IF H_RPM_FLG THEN DO;
      129     4378    2              CVM_ERR = CMD$->IT$CPU.PORT#;
      130     4379    2              CALL ITH$FIND_CONNECT_INDEX(CVM_ERR,H_DPS8000_CI_TABLE(S_NSCPU));
      131     4380    2              END;
      132     4381    1           RETURN;
      133     4382        /**/
      134     4383    1   ITP$PROCREC: ENTRY;                     /* RECOVERY REINIT ENTRY POINT        */
      135     4384        /**/
      136     4385    2           DO I = 0 TO 5;                  /* GET SIX PAGES                      */
      137     4386    2              CALL MMB$GPP(PHYS_PAGE#,%MON_WSQ);
      138     4387    2              CALL MME$CVM(%MON_WSQ,%WINDOWLO+I,PHYS_PAGE#,CVM_ERR);
      139     4388    2              CVM_PAGES(I) = PHYS_PAGE#;
      140     4389    2              END;
      141     4390        /**/
      142     4391    1           CVM$ = B$WINDOW$;
      143     4392        /**/
      144     4393    1           CVM$ -> B$PAGE = B$MPT$ -> B$PAGE; /* Set up slave page table         */
      145     4394    2         IF HW_WSQ0PT THEN DO;
      146     4395    2           CVM$ -> B$MAP.RPN(%PGTBLLO) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(0));
              4395                    /* PGTBL PAGE             */
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:5    
      147     4396    2           CVM$ -> B$MAP.RPN(%JITPG) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(1));
              4396                    /* JIT PAGE                 */
      148     4397    2           CVM$ -> B$MAP.RPN(%AJITPG) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(2));
              4397                    /* AJIT PAGE               */
      149     4398    2           CVM$ -> B$MAP.RPN(%HJITPG) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(3));
              4398                    /* HJIT PAGE               */
      150     4399    2           CVM$ -> B$MAP.RPN(%ISEGLO) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(4));
              4399                    /* PROCESSOR DATA PAGE     */
      151     4400    2           CVM$ -> B$MAP.RPN(%HJITPG+1) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(5));
              4400                    /* ADDITIONAL HJIT PAGE  */
      152     4401    2           END;
      153     4402    2         ELSE DO;
      154     4403    2           CVM$ -> B$MAP.RPN(%PGTBLLO) = CVM_PAGES(0); /* PGTBL PAGE             */
      155     4404    2           CVM$ -> B$MAP.RPN(%JITPG) = CVM_PAGES(1); /* JIT PAGE                 */
      156     4405    2           CVM$ -> B$MAP.RPN(%AJITPG) = CVM_PAGES(2); /* AJIT PAGE               */
      157     4406    2           CVM$ -> B$MAP.RPN(%HJITPG) = CVM_PAGES(3); /* HJIT PAGE               */
      158     4407    2           CVM$ -> B$MAP.RPN(%ISEGLO) = CVM_PAGES(4); /* PROCESSOR DATA PAGE     */
      159     4408    2           CVM$ -> B$MAP.RPN(%HJITPG+1) = CVM_PAGES(5); /* ADDITIONAL HJIT PAGE  */
      160     4409    2           END;
      161     4410        /**/
      162     4411    1           CVM$ = PINCRW(CVM$,1024);       /* Point to JIT                       */
      163     4412        /**/
      164     4413    1           CVM$ -> B$JIT = B$MONJIT$ -> B$JIT;
      165     4414        /**/
      166     4415    1           CVM$ = PINCRW(CVM$,1024);       /* Point to AJIT                      */
      167     4416        /**/
      168     4417    1           CVM$ -> B$PAGE = NO;
      169     4418        /**/
      170     4419    1           CVM$ = PINCRW(CVM$,1024);       /* HJIT                               */
      171     4420        /**/
      172     4421    1           CVM$ -> B$PAGE = B$MONHJIT$ -> B$PAGE;
      173     4422
      174     4423        /* For the slaves, the bound of the data segments in the monitor is
      175     4424                  set to the max */
      176     4425    1        CVM$->B$UHJIT.ULNK.DS1.BOUND = IT_MMDSMAX(0) * 4096 - 1;
      177     4426    1        CVM$->B$UHJIT.ULNK.DS2.BOUND = IT_MMDSMAX(1) * 4096 - 1;
      178     4427    1        CVM$->B$UHJIT.ULNK.DS3.BOUND = IT_MMDSMAX(2) * 4096 - 1;
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:6    
      179     4428    1        CVM$->B$UHJIT.ULNK.DS4.BOUND = IT_MMDSMAX(3) * 4096 - 1;
      180     4429    1        CVM$->B$UHJIT.ULNK.DS5.BOUND = IT_MMDSMAX(4) * 4096 - 1;
      181     4430    1        CVM$->B$UHJIT.ULNK.DS6.BOUND = IT_MMDSMAX(5) * 4096 - 1;
      182     4431    1        CVM$->B$UHJIT.ULNK.DS7.BOUND = IT_MMDSMAX(6) * 4096 - 1;
      183     4432    1        CVM$->B$UHJIT.ULNK.DS8.BOUND = IT_MMDSMAX(7) * 4096 - 1;
      184     4433    1        CVM$->B$UHJIT.ULNK.DS1.FLGS = '703'O;;
      185     4434    1        CVM$->B$UHJIT.ULNK.DS2.FLGS = '703'O;;
      186     4435    1        CVM$->B$UHJIT.ULNK.DS3.FLGS = '703'O;;
      187     4436    1        CVM$->B$UHJIT.ULNK.DS4.FLGS = '703'O;;
      188     4437    1        CVM$->B$UHJIT.ULNK.DS5.FLGS = '703'O;;
      189     4438    1        CVM$->B$UHJIT.ULNK.DS6.FLGS = '703'O;;
      190     4439    1        CVM$->B$UHJIT.ULNK.DS7.FLGS = '703'O;;
      191     4440    1        CVM$->B$UHJIT.ULNK.DS8.FLGS = '703'O;;
      192     4441    1           SLVIC = ENTADDR(SSS$SLVIC);
      193     4442    1           CVM$ -> B$UHJIT.SSS.FRAME2.IC = SLVENT.IC; /* SET SLAVE ENTRY POINT   */
      194     4443        /**/
      195     4444    1           CVM$ = PINCRW(CVM$,1024);       /* DATA                               */
      196     4445        /**/
      197     4446    1           CVM$ -> B$PAGE = B$IS$ -> B$PAGE;
      198     4447        /**/
      199     4448    2           IF HW_WSQ0PT THEN DO;
      200     4449    2               CVM$ -> S$WSPTD.BLKNO(1) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(0)) * (1024/
              4449                        HW_PTB_UNITS);
      201     4450    2               CVM$ -> S$WSPTD.BLKNO(2) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(0)) * (1024/
              4450                        HW_PTB_UNITS);
      202     4451    2               END;
      203     4452    2           ELSE DO;
      204     4453    2               CVM$->S$WSPTD.BLKNO(1) = CVM_PAGES(0)* (1024/HW_PTB_UNITS);
      205     4454    2               CVM$->S$WSPTD.BLKNO(2) = CVM_PAGES(0)* (1024/HW_PTB_UNITS);
      206     4455    2               END;
      207     4456        /**/
      208     4457    1           CVM$ = PINCRW(CVM$,POFFW(ADDR(S_PNO),ADDR(S_WSPTD)));
      209     4458    1           CVM$ -> B$PAGE.WRD(0) = S_NSCPU; /* SET PNO                           */
      210     4459        /**/
      211     4460    1           CVM$ = PINCRW(CVM$,POFFW(ADDR(H_GATECNT),ADDR(S_PNO)));
      212     4461    1           CVM$ -> B$PAGE.WRD(0) = 0;      /* ZERO GATE COUNT                    */
      213     4462        /**/
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:7    
      214     4463    2           DO I = 0 TO 5;                  /* UNMAP SIX PAGES                    */
      215     4464    2              CALL MME$CVM(%MON_WSQ,%WINDOWLO+I,-1,CVM_ERR) ALTRET(CVM_ALT);
      216     4465    2              END;
      217     4466        /**/
      218     4467    1           IT_SCPUWSPTD(S_NSCPU) = CVM_PAGES(4); /* ADDR OF WSPTD (REAL)         */
      219     4468    1           IT_SCPUJIT(S_NSCPU) = CVM_PAGES(0);
      220     4469    1           IT_SCPUHJIT(S_NSCPU) = CVM_PAGES(3);
      221     4470        /**/
      222     4471    1           RETURN;
      223     4472        /**/
      224     4473    1   CVM_ALT:
      225     4474    1           CALL ITE$ERROR(%E$CVMERR);
      226     4475    1           RETURN;
      227     4476    1   END;

PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:8    
--  Include file information  --

   HF_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   B_SEGIDS_C.:E05TOU  is referenced.
   S$WSPTD.:E05TOU  cannot be made into a system file and is referenced.
   S_WSPTD_R.:E05TOU  cannot be made into a system file and is referenced.
   SS_CNTRLD_R.:E05TOU  cannot be made into a system file and is referenced.
   SS_CNTRL_R.:E05TOU  cannot be made into a system file and is referenced.
   SS_SCHED_R.:E05TOU  cannot be made into a system file and is referenced.
   M_INFO_C.:E05TOU  is referenced.
   B_ULSMAC_C.:E05TOU  is referenced.
   B_UHJMAC_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  is referenced.
   B$JIT.:E05TOU  cannot be made into a system file and is referenced.
   B$MAP.:E05TOU  cannot be made into a system file and is referenced.
   IT$CPU.:E05TOU  cannot be made into a system file and is referenced.
   IT_SUBS_C.:E05TOU  is referenced.
   IT_ERROR_C.:E05TOU  is referenced.
      No diagnostics issued in procedure ITP$PROC.

   Procedure ITP$PROC requires 374 words for executable code.
   Procedure ITP$PROC requires 22 words of local(AUTO) storage.

    No errors detected in file ITP$PROC.:E05TSI    .

PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:9    

 Object Unit name= ITP$PROC                                   File name= ITP$PROC.:E05TOU
 UTS= JUL 29 '97 23:06:41.32 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none   374    566  ITP$PROC
    1  RoData even  none    14     16  ITP$PROC

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes            yes      Std        0  ITP$PROC
     0    122                  yes      Std        0  ITP$PROCREC

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 ITH$FIND_CONNECT_INDEX
         yes           Std       2 ITE$ERROR
         yes           Std       0 SSS$SLVIC
 yes     yes           Std       2 MMB$GPP
 yes     yes           Std       4 MME$CVM
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:10   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     S_PORTNR                              S_NSCPU                               S_WSPTD
     H_RPM_FLG                             H_DPS8000_CI_TABLE                    HW_PTB_UNITS
     HW_WSQ0PT                             MASTER_GIVEN                          B$JIT$
     B$MONJIT$                             B$WINDOW$                             B$IS$
     B$DS5$                                B$MPT$                                B$MONHJIT$
     B$WSQ0PT$                             H_GATECNT                             S_PNO
     IT_SCPUWSPTD                          IT_SCPUJIT                            IT_SCPUHJIT
     IT_MMDSMAX                            B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:11   


        1        1        /*M*     Initialize each secondary processor */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /**/
        8        8        /*X*/
        9        9        /*P*     NAME:     ITP$PROC
       10       10                 PURPOSE:  ITP$PROC does the initialization for any slave
       11       11                           processors (CPUs) specified in the configuration commands */
       12       12        ITP$PROC: PROC;

     12  0 000000   000000 700200 xent  ITP$PROC     TSX0  ! X66_AUTO_0
         0 000001   000026 000000                    ZERO    22,0

       13       13        /**/
       14       14        /*  INCLUDE FILES  */
       15       15        /**/
       16       16        %INCLUDE IT_ERROR_C;
       17       99        %INCLUDE IT_SUBS_C;
       18      366        %INCLUDE IT$CPU;
       19      378        %INCLUDE B$MAP;
       20      477        %INCLUDE B$JIT;
       21     1080        %INCLUDE B_UHJMAC_C;
       22     1409        %INCLUDE B_ULSMAC_C;
       23     2518        %INCLUDE M_INFO_C;
       24     2658        %INCLUDE SS_SCHED_R;
       25     2701        %INCLUDE S_WSPTD_R;
       26     2717        %INCLUDE S$WSPTD;
       27     2726        %INCLUDE B_SEGIDS_C;
       28     3265        %INCLUDE HF_DATA_R;
       29     3308        %SUB YES = '1'B/*YES*/;
       30     3309        %SUB NO = '0'B/*NO*/;
       31     3310        /**/
       32     3311        /* BASED STRUCTURES */
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:12   
       33     3312        /**/
       34     3313        %B_UHJIT (FPTN=B$UHJIT,STCLASS=BASED);
       35     4284        /**/
       36     4285        /*  AUTOMATIC  */
       37     4286        /**/
       38     4287    1   DCL CMD$ PTR;
       39     4288    1   DCL CVM$ PTR;
       40     4289    1   DCL CVM_PAGES(0:5) UBIN WORD;
       41     4290    1   DCL I SBIN WORD;
       42     4291    1   DCL PHYS_PAGE# SBIN WORD;
       43     4292    1   DCL CVM_ERR SBIN WORD;
       44     4293    1   DCL SLVIC EPTR;
       45     4294    1   DCL 1 SLVENT REDEF SLVIC,
       46     4295    1         2 IC UBIN(18) UNAL,
       47     4296    1         2 * BIT(18) UNAL;
       48     4297    1   DCL MASTER_GIVEN BIT(1) ALIGNED SYMREF;
       49     4298        /**/
       50     4299        /*  ENTRY DECLARES  */
       51     4300        /**/
       52     4301    1   DCL ITE$ERROR ENTRY(2);
       53     4302    1   DCL ITH$FIND_CONNECT_INDEX ENTRY(2) ALTRET;
       54     4303    1   DCL MMB$GPP ENTRY(2) ALTRET;
       55     4304    1   DCL MME$CVM ENTRY(4) ALTRET;
       56     4305    1   DCL SSS$SLVIC ENTRY;
       57     4306        /**/
       58     4307        /*  SYMREFS  */
       59     4308    1   DCL B$JIT$ PTR SYMREF;
       60     4309    1   DCL B$MONJIT$ PTR SYMREF;
       61     4310    1   DCL B$WINDOW$ PTR SYMREF;
       62     4311    1   DCL B$IS$ PTR SYMREF;
       63     4312    1   DCL B$DS5$ PTR SYMREF;
       64     4313    1   DCL B$MPT$ PTR SYMREF;
       65     4314    1   DCL B$MONHJIT$ PTR SYMREF;
       66     4315    1   DCL B$WSQ0PT$ PTR SYMREF;
       67     4316    1   DCL H_GATECNT UBIN WORD SYMREF;
       68     4317    1   DCL S_PNO UBIN WORD SYMREF;             /* PROCESSOR NUMBER                   */
       69     4318    1   DCL IT_SCPUWSPTD (0:%NUM_CPUS) UBIN WORD SYMREF;
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:13   
              4318            /* WSPTD PAGE ADDRESSES FOR SLAVES   */
       70     4319    1   DCL IT_SCPUJIT(0:%NUM_CPUS) UBIN WORD SYMREF;
       71     4320    1   DCL IT_SCPUHJIT(0:%NUM_CPUS) UBIN WORD SYMREF;
       72     4321    1   DCL 1 IT_MMDSMAX(0:7) UBIN BYTE SYMREF UNAL;
       73     4322        %EJECT;
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:14   
       74     4323        /*D*     NAME:     ITP$PROC
       75     4324                 PURPOSE:  To initialize the tables needed by slave CPUs.
       76     4325        *
       77     4326                 INPUT:    Command table - Built in DS5 by ITC$CHECK_CPU
       78     4327        *
       79     4328                 OUTPUT:   Initialized tables for slave processor
       80     4329        *
       81     4330                 DESCRIPTION: ITP$PROc first checks to see whetehr the processor
       82     4331                           defined by the data in the frame IT$CPU in the
       83     4332                           command table refers to the master CPU. If it
       84     4333                           does, nothing is done.
       85     4334                              If this is a slave processos S_NSCPU is incremented
       86     4335                           and S_PORTNR(x) is set to the port number for slave
       87     4336                           processor x. Then 6 physical pages are obtained and
       88     4337                           mapped as the page table,JIT,AJIT,HJIT and processor data page
       89     4338                           for this processor. These pages are initialized and
       90     4339                           IT_SCPUWSPTD(x) is set to the page address of the
       91     4340                           processor data page for slave x, for future use
       92     4341                           in locating the WSPTD when starting the salve.    */
       93     4342        /**/
       94     4343        /**/
       95     4344        /*  PROCEDURE  */
       96     4345        /**/
       97     4346    1           CMD$ = PINCRW(B$DS5$,1);

   4346  0 000002   000000 236000 xsym               LDQ     B$DS5$
         0 000003   000001 036003                    ADLQ    1,DU
         0 000004   200003 756100                    STQ     CMD$,,AUTO

       98     4347        /**/
       99     4348    1           IF CMD$->IT$CPU.PORT# = S_PORTNR(0) THEN

   4348  0 000005   200003 470500                    LDP0    CMD$,,AUTO
         0 000006   000000 236100                    LDQ     0,,PR0
         0 000007   000022 772000                    QRL     18
         0 000010   000000 116000 xsym               CMPQ    S_PORTNR
         0 000011   000034 601000 0                  TNZ     s:4359
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:15   

      100     4349    1              IF MASTER_GIVEN THEN GOTO BADPORTNR;

   4349  0 000012   000000 234000 xsym               SZN     MASTER_GIVEN
         0 000013   000063 604000 0                  TMI     BADPORTNR

      101     4350    2               ELSE DO;

      102     4351    2                  MASTER_GIVEN = '1'B;

   4351  0 000014   400000 236003                    LDQ     -131072,DU
         0 000015   000000 756000 xsym               STQ     MASTER_GIVEN

      103     4352    3                  IF H_RPM_FLG THEN DO;

   4352  0 000016   000000 234000 xsym               SZN     H_RPM_FLG
         0 000017   000033 605000 0                  TPL     s:4356

      104     4353    3                     CVM_ERR = CMD$->IT$CPU.PORT#;

   4353  0 000020   000000 236100                    LDQ     0,,PR0
         0 000021   000022 772000                    QRL     18
         0 000022   200015 756100                    STQ     CVM_ERR,,AUTO

      105     4354    3                     CALL ITH$FIND_CONNECT_INDEX(CVM_ERR,H_DPS8000_CI_TABLE(0));

   4354  0 000023   000000 236000 1                  LDQ     0
         0 000024   200021 756100                    STQ     SLVIC+3,,AUTO
         0 000025   200015 631500                    EPPR1   CVM_ERR,,AUTO
         0 000026   200020 451500                    STP1    SLVIC+2,,AUTO
         0 000027   200020 630500                    EPPR0   SLVIC+2,,AUTO
         0 000030   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000031   000000 701000 xent               TSX1    ITH$FIND_CONNECT_INDEX
         0 000032   000000 011000                    NOP     0

      106     4355    3                     END;

PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:16   
      107     4356    2                  RETURN;

   4356  0 000033   000000 702200 xent               TSX2  ! X66_ARET

      108     4357    2                  END;
      109     4358        /**/
      110     4359    1           IF (S_NSCPU = 5) OR (H_RPM_FLG AND S_NSCPU = 3)

   4359  0 000034   000000 235000 xsym               LDA     S_NSCPU
         0 000035   000005 115007                    CMPA    5,DL
         0 000036   000043 600000 0                  TZE     s:4361
         0 000037   000000 234000 xsym               SZN     H_RPM_FLG
         0 000040   000050 605000 0                  TPL     s:4365
         0 000041   000003 115007                    CMPA    3,DL
         0 000042   000050 601000 0                  TNZ     s:4365

      111     4360    2           THEN DO;

      112     4361    2             CALL ITE$ERROR(%E$TOOMANYSLAVES#);

   4361  0 000043   000002 630400 1                  EPPR0   2
         0 000044   000017 631400 xsym               EPPR1   B_VECTNIL+15
         0 000045   000000 701000 xent               TSX1    ITE$ERROR
         0 000046   000000 011000                    NOP     0

      113     4362    2             RETURN;

   4362  0 000047   000000 702200 xent               TSX2  ! X66_ARET

      114     4363    2             END;
      115     4364        /**/
      116     4365    1           IF S_NSCPU = 0 THEN;

   4365  0 000050   000000 115003                    CMPA    0,DU
         0 000051   000075 600000 0                  TZE     s:4374

      117     4366    2           ELSE DO I = 1 TO S_NSCPU;
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:17   

   4366  0 000052   000001 235007                    LDA     1,DL
         0 000053   200013 755100                    STA     I,,AUTO
         0 000054   000071 710000 0                  TRA     s:4372+1

      118     4367    3              IF CMD$->IT$CPU.PORT# = S_PORTNR(I) THEN DO;

   4367  0 000055   200013 720100                    LXL0    I,,AUTO
         0 000056   200003 470500                    LDP0    CMD$,,AUTO
         0 000057   000000 236100                    LDQ     0,,PR0
         0 000060   000022 772000                    QRL     18
         0 000061   000000 116010 xsym               CMPQ    S_PORTNR,X0
         0 000062   000070 601000 0                  TNZ     s:4372

      119     4368    3   BADPORTNR:
      120     4369    3                 CALL ITE$ERROR(%E$BADPORTNR#);

   4369  0 000063   000004 630400 1     BADPORTNR    EPPR0   4
         0 000064   000017 631400 xsym               EPPR1   B_VECTNIL+15
         0 000065   000000 701000 xent               TSX1    ITE$ERROR
         0 000066   000000 011000                    NOP     0

      121     4370    3                 RETURN;

   4370  0 000067   000000 702200 xent               TSX2  ! X66_ARET

      122     4371    3                 END;
      123     4372    2              END;

   4372  0 000070   200013 054100                    AOS     I,,AUTO
         0 000071   000000 236000 xsym               LDQ     S_NSCPU
         0 000072   000055 604000 0                  TMI     s:4367
         0 000073   200013 116100                    CMPQ    I,,AUTO
         0 000074   000055 605000 0                  TPL     s:4367

      124     4373        /**/
      125     4374    1           S_NSCPU = S_NSCPU + 1;          /* NUMBER OF SLAVES                   */
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:18   

   4374  0 000075   000000 235000 xsym               LDA     S_NSCPU
         0 000076   000001 035007                    ADLA    1,DL
         0 000077   000000 755000 xsym               STA     S_NSCPU

      126     4375        /**/
      127     4376    1           S_PORTNR(S_NSCPU) = CMD$ -> IT$CPU.PORT#;

   4376  0 000100   000000 236100                    LDQ     0,,PR0
         0 000101   000022 772000                    QRL     18
         0 000102   000000 756005 xsym               STQ     S_PORTNR,AL

      128     4377    2           IF H_RPM_FLG THEN DO;

   4377  0 000103   000000 234000 xsym               SZN     H_RPM_FLG
         0 000104   000121 605000 0                  TPL     s:4381

      129     4378    2              CVM_ERR = CMD$->IT$CPU.PORT#;

   4378  0 000105   000000 236100                    LDQ     0,,PR0
         0 000106   000022 772000                    QRL     18
         0 000107   200015 756100                    STQ     CVM_ERR,,AUTO

      130     4379    2              CALL ITH$FIND_CONNECT_INDEX(CVM_ERR,H_DPS8000_CI_TABLE(S_NSCPU));

   4379  0 000110   000000 720000 xsym               LXL0    S_NSCPU
         0 000111   000000 631410 xsym               EPPR1   H_DPS8000_CI_TABLE,X0
         0 000112   200021 451500                    STP1    SLVIC+3,,AUTO
         0 000113   200015 633500                    EPPR3   CVM_ERR,,AUTO
         0 000114   200020 453500                    STP3    SLVIC+2,,AUTO
         0 000115   200020 630500                    EPPR0   SLVIC+2,,AUTO
         0 000116   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000117   000000 701000 xent               TSX1    ITH$FIND_CONNECT_INDEX
         0 000120   000000 011000                    NOP     0

      131     4380    2              END;

PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:19   
      132     4381    1           RETURN;

   4381  0 000121   000000 702200 xent               TSX2  ! X66_ARET

      133     4382        /**/
      134     4383    1   ITP$PROCREC: ENTRY;                     /* RECOVERY REINIT ENTRY POINT        */

   4383  0 000122   000000 700200 xent  ITP$PROCREC  TSX0  ! X66_AUTO_0
         0 000123   000026 000000                    ZERO    22,0

      135     4384        /**/
      136     4385    2           DO I = 0 TO 5;                  /* GET SIX PAGES                      */

   4385  0 000124   200013 450100                    STZ     I,,AUTO

      137     4386    2              CALL MMB$GPP(PHYS_PAGE#,%MON_WSQ);

   4386  0 000125   000005 236000 1                  LDQ     5
         0 000126   200021 756100                    STQ     SLVIC+3,,AUTO
         0 000127   200014 630500                    EPPR0   PHYS_PAGE#,,AUTO
         0 000130   200020 450500                    STP0    SLVIC+2,,AUTO
         0 000131   200020 630500                    EPPR0   SLVIC+2,,AUTO
         0 000132   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000133   000000 701000 xent               TSX1    MMB$GPP
         0 000134   000000 011000                    NOP     0

      138     4387    2              CALL MME$CVM(%MON_WSQ,%WINDOWLO+I,PHYS_PAGE#,CVM_ERR);

   4387  0 000135   200013 235100                    LDA     I,,AUTO
         0 000136   000063 035007                    ADLA    51,DL
         0 000137   200020 755100                    STA     SLVIC+2,,AUTO
         0 000140   200015 630500                    EPPR0   CVM_ERR,,AUTO
         0 000141   200025 450500                    STP0    SLVIC+7,,AUTO
         0 000142   200014 631500                    EPPR1   PHYS_PAGE#,,AUTO
         0 000143   200024 451500                    STP1    SLVIC+6,,AUTO
         0 000144   200020 633500                    EPPR3   SLVIC+2,,AUTO
         0 000145   200023 453500                    STP3    SLVIC+5,,AUTO
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:20   
         0 000146   000005 236000 1                  LDQ     5
         0 000147   200022 756100                    STQ     SLVIC+4,,AUTO
         0 000150   200022 630500                    EPPR0   SLVIC+4,,AUTO
         0 000151   000022 631400 xsym               EPPR1   B_VECTNIL+18
         0 000152   000000 701000 xent               TSX1    MME$CVM
         0 000153   000000 011000                    NOP     0

      139     4388    2              CVM_PAGES(I) = PHYS_PAGE#;

   4388  0 000154   200014 235100                    LDA     PHYS_PAGE#,,AUTO
         0 000155   200013 720100                    LXL0    I,,AUTO
         0 000156   200005 755110                    STA     CVM_PAGES,X0,AUTO

      140     4389    2              END;

   4389  0 000157   200013 054100                    AOS     I,,AUTO
         0 000160   200013 236100                    LDQ     I,,AUTO
         0 000161   000005 116007                    CMPQ    5,DL
         0 000162   000125 604400 0                  TMOZ    s:4386

      141     4390        /**/
      142     4391    1           CVM$ = B$WINDOW$;

   4391  0 000163   000000 236000 xsym               LDQ     B$WINDOW$
         0 000164   200004 756100                    STQ     CVM$,,AUTO

      143     4392        /**/
      144     4393    1           CVM$ -> B$PAGE = B$MPT$ -> B$PAGE; /* Set up slave page table         */

   4393  0 000165   000000 470400 xsym               LDP0    B$MPT$
         0 000166   010000 220003                    LDX0    4096,DU
         0 000167   200004 471500                    LDP1    CVM$,,AUTO
         0 000170   000140 100540                    MLR     fill='000'O
         0 000171   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         0 000172   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

      145     4394    2         IF HW_WSQ0PT THEN DO;
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:21   

   4394  0 000173   000000 234000 xsym               SZN     HW_WSQ0PT
         0 000174   000222 605000 0                  TPL     s:4403

      146     4395    2           CVM$ -> B$MAP.RPN(%PGTBLLO) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(0));
              4395                    /* PGTBL PAGE             */

   4395  0 000175   000000 470400 xsym               LDP0    B$WSQ0PT$
         0 000176   200005 721100                    LXL1    CVM_PAGES,,AUTO
         0 000177   000000 222111                    LDX2    0,X1,PR0
         0 000200   100000 742100                    STX2    0,,PR1

      147     4396    2           CVM$ -> B$MAP.RPN(%JITPG) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(1));
              4396                    /* JIT PAGE                 */

   4396  0 000201   000000 470400 xsym               LDP0    B$WSQ0PT$
         0 000202   200006 723100                    LXL3    CVM_PAGES+1,,AUTO
         0 000203   000000 224113                    LDX4    0,X3,PR0
         0 000204   100013 744100                    STX4    11,,PR1

      148     4397    2           CVM$ -> B$MAP.RPN(%AJITPG) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(2));
              4397                    /* AJIT PAGE               */

   4397  0 000205   200007 725100                    LXL5    CVM_PAGES+2,,AUTO
         0 000206   000000 226115                    LDX6    0,X5,PR0
         0 000207   100014 746100                    STX6    12,,PR1

      149     4398    2           CVM$ -> B$MAP.RPN(%HJITPG) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(3));
              4398                    /* HJIT PAGE               */

   4398  0 000210   200010 727100                    LXL7    CVM_PAGES+3,,AUTO
         0 000211   000000 220117                    LDX0    0,X7,PR0
         0 000212   100015 740100                    STX0    13,,PR1

      150     4399    2           CVM$ -> B$MAP.RPN(%ISEGLO) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(4));
              4399                    /* PROCESSOR DATA PAGE     */

PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:22   
   4399  0 000213   200011 720100                    LXL0    CVM_PAGES+4,,AUTO
         0 000214   000000 221110                    LDX1    0,X0,PR0
         0 000215   100100 741100                    STX1    64,,PR1

      151     4400    2           CVM$ -> B$MAP.RPN(%HJITPG+1) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(5));
              4400                    /* ADDITIONAL HJIT PAGE  */

   4400  0 000216   200012 720100                    LXL0    CVM_PAGES+5,,AUTO
         0 000217   000000 221110                    LDX1    0,X0,PR0
         0 000220   100016 741100                    STX1    14,,PR1

      152     4401    2           END;

   4401  0 000221   000236 710000 0                  TRA     s:4411

      153     4402    2         ELSE DO;

      154     4403    2           CVM$ -> B$MAP.RPN(%PGTBLLO) = CVM_PAGES(0); /* PGTBL PAGE             */

   4403  0 000222   200005 721100                    LXL1    CVM_PAGES,,AUTO
         0 000223   100000 741100                    STX1    0,,PR1

      155     4404    2           CVM$ -> B$MAP.RPN(%JITPG) = CVM_PAGES(1); /* JIT PAGE                 */

   4404  0 000224   200006 722100                    LXL2    CVM_PAGES+1,,AUTO
         0 000225   100013 742100                    STX2    11,,PR1

      156     4405    2           CVM$ -> B$MAP.RPN(%AJITPG) = CVM_PAGES(2); /* AJIT PAGE               */

   4405  0 000226   200007 723100                    LXL3    CVM_PAGES+2,,AUTO
         0 000227   100014 743100                    STX3    12,,PR1

      157     4406    2           CVM$ -> B$MAP.RPN(%HJITPG) = CVM_PAGES(3); /* HJIT PAGE               */

   4406  0 000230   200010 724100                    LXL4    CVM_PAGES+3,,AUTO
         0 000231   100015 744100                    STX4    13,,PR1

PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:23   
      158     4407    2           CVM$ -> B$MAP.RPN(%ISEGLO) = CVM_PAGES(4); /* PROCESSOR DATA PAGE     */

   4407  0 000232   200011 725100                    LXL5    CVM_PAGES+4,,AUTO
         0 000233   100100 745100                    STX5    64,,PR1

      159     4408    2           CVM$ -> B$MAP.RPN(%HJITPG+1) = CVM_PAGES(5); /* ADDITIONAL HJIT PAGE  */

   4408  0 000234   200012 726100                    LXL6    CVM_PAGES+5,,AUTO
         0 000235   100016 746100                    STX6    14,,PR1

      160     4409    2           END;

      161     4410        /**/
      162     4411    1           CVM$ = PINCRW(CVM$,1024);       /* Point to JIT                       */

   4411  0 000236   002000 036003                    ADLQ    1024,DU
         0 000237   200004 756100                    STQ     CVM$,,AUTO

      163     4412        /**/
      164     4413    1           CVM$ -> B$JIT = B$MONJIT$ -> B$JIT;

   4413  0 000240   000000 470400 xsym               LDP0    B$MONJIT$
         0 000241   200004 471500                    LDP1    CVM$,,AUTO
         0 000242   000100 100500                    MLR     fill='000'O
         0 000243   000000 001730                    ADSC9   0,,PR0                   cn=0,n=984
         0 000244   100000 001730                    ADSC9   0,,PR1                   cn=0,n=984

      165     4414        /**/
      166     4415    1           CVM$ = PINCRW(CVM$,1024);       /* Point to AJIT                      */

   4415  0 000245   002000 036003                    ADLQ    1024,DU
         0 000246   200004 756100                    STQ     CVM$,,AUTO

      167     4416        /**/
      168     4417    1           CVM$ -> B$PAGE = NO;

   4417  0 000247   200004 470500                    LDP0    CVM$,,AUTO
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:24   
         0 000250   010000 220003                    LDX0    4096,DU
         0 000251   000140 100400                    MLR     fill='000'O
         0 000252   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         0 000253   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0

      169     4418        /**/
      170     4419    1           CVM$ = PINCRW(CVM$,1024);       /* HJIT                               */

   4419  0 000254   002000 036003                    ADLQ    1024,DU
         0 000255   200004 756100                    STQ     CVM$,,AUTO

      171     4420        /**/
      172     4421    1           CVM$ -> B$PAGE = B$MONHJIT$ -> B$PAGE;

   4421  0 000256   000000 470400 xsym               LDP0    B$MONHJIT$
         0 000257   200004 471500                    LDP1    CVM$,,AUTO
         0 000260   000140 100540                    MLR     fill='000'O
         0 000261   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         0 000262   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

      173     4422
      174     4423        /* For the slaves, the bound of the data segments in the monitor is
      175     4424                  set to the max */
      176     4425    1        CVM$->B$UHJIT.ULNK.DS1.BOUND = IT_MMDSMAX(0) * 4096 - 1;

   4425  0 000263   000000 236000 xsym               LDQ     IT_MMDSMAX
         0 000264   000017 772000                    QRL     15
         0 000265   000006 376000 1                  ANQ     6
         0 000266   000001 136007                    SBLQ    1,DL
         0 000267   000020 736000                    QLS     16
         0 000270   100010 676100                    ERQ     8,,PR1
         0 000271   000034 376000 xsym               ANQ     B_VECTNIL+28
         0 000272   100010 656100                    ERSQ    8,,PR1

      177     4426    1        CVM$->B$UHJIT.ULNK.DS2.BOUND = IT_MMDSMAX(1) * 4096 - 1;

   4426  0 000273   000000 236000 xsym               LDQ     IT_MMDSMAX
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:25   
         0 000274   000006 772000                    QRL     6
         0 000275   000006 376000 1                  ANQ     6
         0 000276   000001 136007                    SBLQ    1,DL
         0 000277   000020 736000                    QLS     16
         0 000300   100012 676100                    ERQ     10,,PR1
         0 000301   000034 376000 xsym               ANQ     B_VECTNIL+28
         0 000302   100012 656100                    ERSQ    10,,PR1

      178     4427    1        CVM$->B$UHJIT.ULNK.DS3.BOUND = IT_MMDSMAX(2) * 4096 - 1;

   4427  0 000303   000000 236000 xsym               LDQ     IT_MMDSMAX
         0 000304   000003 736000                    QLS     3
         0 000305   000006 376000 1                  ANQ     6
         0 000306   000001 136007                    SBLQ    1,DL
         0 000307   000020 736000                    QLS     16
         0 000310   100014 676100                    ERQ     12,,PR1
         0 000311   000034 376000 xsym               ANQ     B_VECTNIL+28
         0 000312   100014 656100                    ERSQ    12,,PR1

      179     4428    1        CVM$->B$UHJIT.ULNK.DS4.BOUND = IT_MMDSMAX(3) * 4096 - 1;

   4428  0 000313   000000 236000 xsym               LDQ     IT_MMDSMAX
         0 000314   000014 736000                    QLS     12
         0 000315   000006 376000 1                  ANQ     6
         0 000316   000001 136007                    SBLQ    1,DL
         0 000317   000020 736000                    QLS     16
         0 000320   100016 676100                    ERQ     14,,PR1
         0 000321   000034 376000 xsym               ANQ     B_VECTNIL+28
         0 000322   100016 656100                    ERSQ    14,,PR1

      180     4429    1        CVM$->B$UHJIT.ULNK.DS5.BOUND = IT_MMDSMAX(4) * 4096 - 1;

   4429  0 000323   000001 236000 xsym               LDQ     IT_MMDSMAX+1
         0 000324   000017 772000                    QRL     15
         0 000325   000006 376000 1                  ANQ     6
         0 000326   000001 136007                    SBLQ    1,DL
         0 000327   000020 736000                    QLS     16
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:26   
         0 000330   100020 676100                    ERQ     16,,PR1
         0 000331   000034 376000 xsym               ANQ     B_VECTNIL+28
         0 000332   100020 656100                    ERSQ    16,,PR1

      181     4430    1        CVM$->B$UHJIT.ULNK.DS6.BOUND = IT_MMDSMAX(5) * 4096 - 1;

   4430  0 000333   000001 236000 xsym               LDQ     IT_MMDSMAX+1
         0 000334   000006 772000                    QRL     6
         0 000335   000006 376000 1                  ANQ     6
         0 000336   000001 136007                    SBLQ    1,DL
         0 000337   000020 736000                    QLS     16
         0 000340   100022 676100                    ERQ     18,,PR1
         0 000341   000034 376000 xsym               ANQ     B_VECTNIL+28
         0 000342   100022 656100                    ERSQ    18,,PR1

      182     4431    1        CVM$->B$UHJIT.ULNK.DS7.BOUND = IT_MMDSMAX(6) * 4096 - 1;

   4431  0 000343   000001 236000 xsym               LDQ     IT_MMDSMAX+1
         0 000344   000003 736000                    QLS     3
         0 000345   000006 376000 1                  ANQ     6
         0 000346   000001 136007                    SBLQ    1,DL
         0 000347   000020 736000                    QLS     16
         0 000350   100024 676100                    ERQ     20,,PR1
         0 000351   000034 376000 xsym               ANQ     B_VECTNIL+28
         0 000352   100024 656100                    ERSQ    20,,PR1

      183     4432    1        CVM$->B$UHJIT.ULNK.DS8.BOUND = IT_MMDSMAX(7) * 4096 - 1;

   4432  0 000353   000001 236000 xsym               LDQ     IT_MMDSMAX+1
         0 000354   000014 736000                    QLS     12
         0 000355   000006 376000 1                  ANQ     6
         0 000356   000001 136007                    SBLQ    1,DL
         0 000357   000020 736000                    QLS     16
         0 000360   100026 676100                    ERQ     22,,PR1
         0 000361   000034 376000 xsym               ANQ     B_VECTNIL+28
         0 000362   100026 656100                    ERSQ    22,,PR1

PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:27   
      184     4433    1        CVM$->B$UHJIT.ULNK.DS1.FLGS = '703'O;;

   4433  0 000363   100010 236100                    LDQ     8,,PR1
         0 000364   000007 376000 1                  ANQ     7
         0 000365   160600 276007                    ORQ     57728,DL
         0 000366   100010 756100                    STQ     8,,PR1

      185     4434    1        CVM$->B$UHJIT.ULNK.DS2.FLGS = '703'O;;

   4434  0 000367   100012 236100                    LDQ     10,,PR1
         0 000370   000007 376000 1                  ANQ     7
         0 000371   160600 276007                    ORQ     57728,DL
         0 000372   100012 756100                    STQ     10,,PR1

      186     4435    1        CVM$->B$UHJIT.ULNK.DS3.FLGS = '703'O;;

   4435  0 000373   100014 236100                    LDQ     12,,PR1
         0 000374   000007 376000 1                  ANQ     7
         0 000375   160600 276007                    ORQ     57728,DL
         0 000376   100014 756100                    STQ     12,,PR1

      187     4436    1        CVM$->B$UHJIT.ULNK.DS4.FLGS = '703'O;;

   4436  0 000377   100016 236100                    LDQ     14,,PR1
         0 000400   000007 376000 1                  ANQ     7
         0 000401   160600 276007                    ORQ     57728,DL
         0 000402   100016 756100                    STQ     14,,PR1

      188     4437    1        CVM$->B$UHJIT.ULNK.DS5.FLGS = '703'O;;

   4437  0 000403   100020 236100                    LDQ     16,,PR1
         0 000404   000007 376000 1                  ANQ     7
         0 000405   160600 276007                    ORQ     57728,DL
         0 000406   100020 756100                    STQ     16,,PR1

      189     4438    1        CVM$->B$UHJIT.ULNK.DS6.FLGS = '703'O;;

PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:28   
   4438  0 000407   100022 236100                    LDQ     18,,PR1
         0 000410   000007 376000 1                  ANQ     7
         0 000411   160600 276007                    ORQ     57728,DL
         0 000412   100022 756100                    STQ     18,,PR1

      190     4439    1        CVM$->B$UHJIT.ULNK.DS7.FLGS = '703'O;;

   4439  0 000413   100024 236100                    LDQ     20,,PR1
         0 000414   000007 376000 1                  ANQ     7
         0 000415   160600 276007                    ORQ     57728,DL
         0 000416   100024 756100                    STQ     20,,PR1

      191     4440    1        CVM$->B$UHJIT.ULNK.DS8.FLGS = '703'O;;

   4440  0 000417   100026 236100                    LDQ     22,,PR1
         0 000420   000007 376000 1                  ANQ     7
         0 000421   160600 276007                    ORQ     57728,DL
         0 000422   100026 756100                    STQ     22,,PR1

      192     4441    1           SLVIC = ENTADDR(SSS$SLVIC);

   4441  0 000423   000000 636000 xent               EAQ     SSS$SLVIC
         0 000424   200016 756100                    STQ     SLVIC,,AUTO

      193     4442    1           CVM$ -> B$UHJIT.SSS.FRAME2.IC = SLVENT.IC; /* SET SLAVE ENTRY POINT   */

   4442  0 000425   200016 221100                    LDX1    SLVIC,,AUTO
         0 000426   100504 741100                    STX1    324,,PR1

      194     4443        /**/
      195     4444    1           CVM$ = PINCRW(CVM$,1024);       /* DATA                               */

   4444  0 000427   200004 236100                    LDQ     CVM$,,AUTO
         0 000430   002000 036003                    ADLQ    1024,DU
         0 000431   200004 756100                    STQ     CVM$,,AUTO

      196     4445        /**/
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:29   
      197     4446    1           CVM$ -> B$PAGE = B$IS$ -> B$PAGE;

   4446  0 000432   000000 470400 xsym               LDP0    B$IS$
         0 000433   200004 471500                    LDP1    CVM$,,AUTO
         0 000434   000140 100540                    MLR     fill='000'O
         0 000435   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         0 000436   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

      198     4447        /**/
      199     4448    2           IF HW_WSQ0PT THEN DO;

   4448  0 000437   000000 234000 xsym               SZN     HW_WSQ0PT
         0 000440   000464 605000 0                  TPL     s:4453

      200     4449    2               CVM$ -> S$WSPTD.BLKNO(1) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(0)) * (1024/
              4449                        HW_PTB_UNITS);

   4449  0 000441   002000 236007                    LDQ     1024,DL
         0 000442   000000 506000 xsym               DIV     HW_PTB_UNITS
         0 000443   200020 756100                    STQ     SLVIC+2,,AUTO
         0 000444   000000 470400 xsym               LDP0    B$WSQ0PT$
         0 000445   200005 722100                    LXL2    CVM_PAGES,,AUTO
         0 000446   000000 236112                    LDQ     0,X2,PR0
         0 000447   000022 772000                    QRL     18
         0 000450   200020 402100                    MPY     SLVIC+2,,AUTO
         0 000451   000000 623006                    EAX3    0,QL
         0 000452   100001 743100                    STX3    1,,PR1

      201     4450    2               CVM$ -> S$WSPTD.BLKNO(2) = B$WSQ0PT$->B$MAP.RPN(CVM_PAGES(0)) * (1024/
              4450                        HW_PTB_UNITS);

   4450  0 000453   002000 236007                    LDQ     1024,DL
         0 000454   000000 506000 xsym               DIV     HW_PTB_UNITS
         0 000455   200020 756100                    STQ     SLVIC+2,,AUTO
         0 000456   000000 236112                    LDQ     0,X2,PR0
         0 000457   000022 772000                    QRL     18
         0 000460   200020 402100                    MPY     SLVIC+2,,AUTO
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:30   
         0 000461   000000 623006                    EAX3    0,QL
         0 000462   100002 743100                    STX3    2,,PR1

      202     4451    2               END;

   4451  0 000463   000476 710000 0                  TRA     s:4457

      203     4452    2           ELSE DO;

      204     4453    2               CVM$->S$WSPTD.BLKNO(1) = CVM_PAGES(0)* (1024/HW_PTB_UNITS);

   4453  0 000464   002000 236007                    LDQ     1024,DL
         0 000465   000000 506000 xsym               DIV     HW_PTB_UNITS
         0 000466   200005 402100                    MPY     CVM_PAGES,,AUTO
         0 000467   000000 622006                    EAX2    0,QL
         0 000470   100001 742100                    STX2    1,,PR1

      205     4454    2               CVM$->S$WSPTD.BLKNO(2) = CVM_PAGES(0)* (1024/HW_PTB_UNITS);

   4454  0 000471   002000 236007                    LDQ     1024,DL
         0 000472   000000 506000 xsym               DIV     HW_PTB_UNITS
         0 000473   200005 402100                    MPY     CVM_PAGES,,AUTO
         0 000474   000000 623006                    EAX3    0,QL
         0 000475   100002 743100                    STX3    2,,PR1

      206     4455    2               END;

      207     4456        /**/
      208     4457    1           CVM$ = PINCRW(CVM$,POFFW(ADDR(S_PNO),ADDR(S_WSPTD)));

   4457  0 000476   000010 236000 1                  LDQ     8
         0 000477   000022 772000                    QRL     18
         0 000500   200020 756100                    STQ     SLVIC+2,,AUTO
         0 000501   000011 236000 1                  LDQ     9
         0 000502   000022 772000                    QRL     18
         0 000503   200020 136100                    SBLQ    SLVIC+2,,AUTO
         0 000504   000022 736000                    QLS     18
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:31   
         0 000505   200004 036100                    ADLQ    CVM$,,AUTO
         0 000506   200004 756100                    STQ     CVM$,,AUTO

      209     4458    1           CVM$ -> B$PAGE.WRD(0) = S_NSCPU; /* SET PNO                           */

   4458  0 000507   200004 470500                    LDP0    CVM$,,AUTO
         0 000510   000000 235000 xsym               LDA     S_NSCPU
         0 000511   000000 755100                    STA     0,,PR0

      210     4459        /**/
      211     4460    1           CVM$ = PINCRW(CVM$,POFFW(ADDR(H_GATECNT),ADDR(S_PNO)));

   4460  0 000512   000011 236000 1                  LDQ     9
         0 000513   000022 772000                    QRL     18
         0 000514   200020 756100                    STQ     SLVIC+2,,AUTO
         0 000515   000012 236000 1                  LDQ     10
         0 000516   000022 772000                    QRL     18
         0 000517   200020 136100                    SBLQ    SLVIC+2,,AUTO
         0 000520   000022 736000                    QLS     18
         0 000521   200004 036100                    ADLQ    CVM$,,AUTO
         0 000522   200004 756100                    STQ     CVM$,,AUTO

      212     4461    1           CVM$ -> B$PAGE.WRD(0) = 0;      /* ZERO GATE COUNT                    */

   4461  0 000523   200004 470500                    LDP0    CVM$,,AUTO
         0 000524   000000 450100                    STZ     0,,PR0

      213     4462        /**/
      214     4463    2           DO I = 0 TO 5;                  /* UNMAP SIX PAGES                    */

   4463  0 000525   200013 450100                    STZ     I,,AUTO

      215     4464    2              CALL MME$CVM(%MON_WSQ,%WINDOWLO+I,-1,CVM_ERR) ALTRET(CVM_ALT);

   4464  0 000526   200013 235100                    LDA     I,,AUTO
         0 000527   000063 035007                    ADLA    51,DL
         0 000530   200020 755100                    STA     SLVIC+2,,AUTO
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:32   
         0 000531   200015 630500                    EPPR0   CVM_ERR,,AUTO
         0 000532   200025 450500                    STP0    SLVIC+7,,AUTO
         0 000533   000013 236000 1                  LDQ     11
         0 000534   200024 756100                    STQ     SLVIC+6,,AUTO
         0 000535   200020 631500                    EPPR1   SLVIC+2,,AUTO
         0 000536   200023 451500                    STP1    SLVIC+5,,AUTO
         0 000537   000005 236000 1                  LDQ     5
         0 000540   200022 756100                    STQ     SLVIC+4,,AUTO
         0 000541   200022 630500                    EPPR0   SLVIC+4,,AUTO
         0 000542   000022 631400 xsym               EPPR1   B_VECTNIL+18
         0 000543   000000 701000 xent               TSX1    MME$CVM
         0 000544   000561 702000 0                  TSX2    CVM_ALT

      216     4465    2              END;

   4465  0 000545   200013 054100                    AOS     I,,AUTO
         0 000546   200013 235100                    LDA     I,,AUTO
         0 000547   000005 115007                    CMPA    5,DL
         0 000550   000526 604400 0                  TMOZ    s:4464

      217     4466        /**/
      218     4467    1           IT_SCPUWSPTD(S_NSCPU) = CVM_PAGES(4); /* ADDR OF WSPTD (REAL)         */

   4467  0 000551   000000 720000 xsym               LXL0    S_NSCPU
         0 000552   200011 236100                    LDQ     CVM_PAGES+4,,AUTO
         0 000553   000000 756010 xsym               STQ     IT_SCPUWSPTD,X0

      219     4468    1           IT_SCPUJIT(S_NSCPU) = CVM_PAGES(0);

   4468  0 000554   200005 235100                    LDA     CVM_PAGES,,AUTO
         0 000555   000000 755010 xsym               STA     IT_SCPUJIT,X0

      220     4469    1           IT_SCPUHJIT(S_NSCPU) = CVM_PAGES(3);

   4469  0 000556   200010 235100                    LDA     CVM_PAGES+3,,AUTO
         0 000557   000000 755010 xsym               STA     IT_SCPUHJIT,X0

PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:33   
      221     4470        /**/
      222     4471    1           RETURN;

   4471  0 000560   000000 702200 xent               TSX2  ! X66_ARET

      223     4472        /**/
      224     4473    1   CVM_ALT:
      225     4474    1           CALL ITE$ERROR(%E$CVMERR);

   4474  0 000561   000015 630400 1     CVM_ALT      EPPR0   13
         0 000562   000017 631400 xsym               EPPR1   B_VECTNIL+15
         0 000563   000000 701000 xent               TSX1    ITE$ERROR
         0 000564   000000 011000                    NOP     0

      226     4475    1           RETURN;

   4475  0 000565   000000 702200 xent               TSX2  ! X66_ARET

(unnamed)
 Sect OctLoc
   1     000   000000 006000   000000 000146   000001 006000   000000 000242    .......f........
   1     004   000003 006000   000003 006000   000007 770000   777777 600177    ................
   1     010   000000 006000   000000 006000   000000 006000   000027 006000    ................
   1     014   000000 000170   000014 006000                                    ...x....
      227     4476    1   END;

PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:34   
--  Include file information  --

   HF_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   B_SEGIDS_C.:E05TOU  is referenced.
   S$WSPTD.:E05TOU  cannot be made into a system file and is referenced.
   S_WSPTD_R.:E05TOU  cannot be made into a system file and is referenced.
   SS_CNTRLD_R.:E05TOU  cannot be made into a system file and is referenced.
   SS_CNTRL_R.:E05TOU  cannot be made into a system file and is referenced.
   SS_SCHED_R.:E05TOU  cannot be made into a system file and is referenced.
   M_INFO_C.:E05TOU  is referenced.
   B_ULSMAC_C.:E05TOU  is referenced.
   B_UHJMAC_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  is referenced.
   B$JIT.:E05TOU  cannot be made into a system file and is referenced.
   B$MAP.:E05TOU  cannot be made into a system file and is referenced.
   IT$CPU.:E05TOU  cannot be made into a system file and is referenced.
   IT_SUBS_C.:E05TOU  is referenced.
   IT_ERROR_C.:E05TOU  is referenced.
      No diagnostics issued in procedure ITP$PROC.
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:35   

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 CMD$                       4-0-0/w PTR         r     1 CVM$
    15-0-0/w SBIN        r     1 CVM_ERR
     5-0-0/w UBIN        r     1 CVM_PAGES(0:5)
    13-0-0/w SBIN        r     1 I                         14-0-0/w SBIN        r     1 PHYS_PAGE#
    16-0-0/w STRC        r     1 SLVENT                    16-0-0/w EPTR        r     1 SLVIC

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$DS5$                     0-0-0/w PTR         r     1 B$IS$
     0-0-0/w PTR         r     1 B$JIT$                     0-0-0/w PTR         r     1 B$MONHJIT$
     0-0-0/w PTR         r     1 B$MONJIT$                  0-0-0/w PTR         r     1 B$MPT$
     0-0-0/w PTR         r     1 B$WINDOW$                  0-0-0/w PTR         r     1 B$WSQ0PT$
     0-0-0/w SBIN        r     1 HW_PTB_UNITS               0-0-0/w BIT         r     1 HW_WSQ0PT
     0-0-0/w UBIN        r     1 H_DPS8000_CI_TABLE(0:3)
     0-0-0/w UBIN        r     1 H_GATECNT                  0-0-0/w BIT         r     1 H_RPM_FLG
     0-0-0/b UBIN(9)     r     1 IT_MMDSMAX(0:7)
     0-0-0/w UBIN        r     1 IT_SCPUHJIT(0:7)
     0-0-0/w UBIN        r     1 IT_SCPUJIT(0:7)
     0-0-0/w UBIN        r     1 IT_SCPUWSPTD(0:7)
     0-0-0/w BIT         r     1 MASTER_GIVEN               0-0-0/w UBIN        r     1 S_NSCPU
     0-0-0/w UBIN        r     1 S_PNO
     0-0-0/w UBIN        r     1 S_PORTNR(0:7)
     0-0-0/w STRC        r     1 S_WSPTD(0:28)

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:36   
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(8856)  r     1 B$JIT                      0-0-0/w STRC        r     1 B$MAP(0:1023)
     0-0-0/w STRC(36864) r     1 B$PAGE                     0-0-0/d STRC(36864) r     1 B$UHJIT
     0-0-0/w STRC        r     1 IT$CPU                     0-0-0/w STRC        r     1 S$WSPTD(0:28)


   Procedure ITP$PROC requires 374 words for executable code.
   Procedure ITP$PROC requires 22 words of local(AUTO) storage.

    No errors detected in file ITP$PROC.:E05TSI    .
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:37   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:38   
          MINI XREF LISTING

B$DS5$
      4312**DCL      4346>>ASSIGN
B$IS$
      4311**DCL      4446>>ASSIGN
B$JIT
       799**DCL      4413<<ASSIGN   4413>>ASSIGN
B$JIT.CPFLAGS1.SLEAZE
       898**DCL       898--REDEF
B$JIT.ERR.MID
       805**DCL       805--REDEF
B$JIT.JRESPEAK
       966**DCL       967--REDEF
B$JIT.ORIGINATOR_PORT.FROM_CR
      1075**DCL      1075--REDEF    1076--REDEF
B$JIT.PNR
       979**DCL       979--REDEF
B$JIT.TSLINE
      1073**DCL      1074--REDEF
B$JIT$
      4308**DCL       799--IMP-PTR
B$MAP.RPN
       420**DCL      4395<<ASSIGN   4395>>ASSIGN   4396<<ASSIGN   4396>>ASSIGN   4397<<ASSIGN   4397>>ASSIGN
      4398<<ASSIGN   4398>>ASSIGN   4399<<ASSIGN   4399>>ASSIGN   4400<<ASSIGN   4400>>ASSIGN   4403<<ASSIGN
      4404<<ASSIGN   4405<<ASSIGN   4406<<ASSIGN   4407<<ASSIGN   4408<<ASSIGN   4449>>ASSIGN   4450>>ASSIGN
B$MAP.SCTRL
       421**DCL       422--REDEF
B$MONHJIT$
      4314**DCL      4421>>ASSIGN
B$MONJIT$
      4309**DCL      4413>>ASSIGN
B$MPT$
      4313**DCL      4393>>ASSIGN
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:39   
B$PAGE
       470**DCL      4393<<ASSIGN   4393>>ASSIGN   4417<<ASSIGN   4421<<ASSIGN   4421>>ASSIGN   4446<<ASSIGN
      4446>>ASSIGN
B$PAGE.WRD
       471**DCL      4458<<ASSIGN   4461<<ASSIGN
B$UHJIT.SSS.FRAME2.IC
      4170**DCL      4442<<ASSIGN
B$UHJIT.ULNK.DS1.BOUND
      3370**DCL      4425<<ASSIGN
B$UHJIT.ULNK.DS1.FLGS
      3371**DCL      4433<<ASSIGN
B$UHJIT.ULNK.DS2.BOUND
      3376**DCL      4426<<ASSIGN
B$UHJIT.ULNK.DS2.FLGS
      3377**DCL      4434<<ASSIGN
B$UHJIT.ULNK.DS3.BOUND
      3382**DCL      4427<<ASSIGN
B$UHJIT.ULNK.DS3.FLGS
      3383**DCL      4435<<ASSIGN
B$UHJIT.ULNK.DS4.BOUND
      3388**DCL      4428<<ASSIGN
B$UHJIT.ULNK.DS4.FLGS
      3389**DCL      4436<<ASSIGN
B$UHJIT.ULNK.DS5.BOUND
      3394**DCL      4429<<ASSIGN
B$UHJIT.ULNK.DS5.FLGS
      3395**DCL      4437<<ASSIGN
B$UHJIT.ULNK.DS6.BOUND
      3400**DCL      4430<<ASSIGN
B$UHJIT.ULNK.DS6.FLGS
      3401**DCL      4438<<ASSIGN
B$UHJIT.ULNK.DS7.BOUND
      3406**DCL      4431<<ASSIGN
B$UHJIT.ULNK.DS7.FLGS
      3407**DCL      4439<<ASSIGN
B$UHJIT.ULNK.DS8.BOUND
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:40   
      3412**DCL      4432<<ASSIGN
B$UHJIT.ULNK.DS8.FLGS
      3413**DCL      4440<<ASSIGN
B$WINDOW$
      4310**DCL      4391>>ASSIGN
B$WSQ0PT$
      4315**DCL      4395>>ASSIGN   4396>>ASSIGN   4397>>ASSIGN   4398>>ASSIGN   4399>>ASSIGN   4400>>ASSIGN
      4449>>ASSIGN   4450>>ASSIGN
BADPORTNR
      4369**LABEL    4349--GOTO
CMD$
      4287**DCL      4346<<ASSIGN   4348>>IF       4353>>ASSIGN   4367>>IF       4376>>ASSIGN   4378>>ASSIGN
CVM$
      4288**DCL      4391<<ASSIGN   4393>>ASSIGN   4395>>ASSIGN   4396>>ASSIGN   4397>>ASSIGN   4398>>ASSIGN
      4399>>ASSIGN   4400>>ASSIGN   4403>>ASSIGN   4404>>ASSIGN   4405>>ASSIGN   4406>>ASSIGN   4407>>ASSIGN
      4408>>ASSIGN   4411<<ASSIGN   4411>>ASSIGN   4413>>ASSIGN   4415<<ASSIGN   4415>>ASSIGN   4417>>ASSIGN
      4419<<ASSIGN   4419>>ASSIGN   4421>>ASSIGN   4425>>ASSIGN   4426>>ASSIGN   4427>>ASSIGN   4428>>ASSIGN
      4429>>ASSIGN   4430>>ASSIGN   4431>>ASSIGN   4432>>ASSIGN   4433>>ASSIGN   4434>>ASSIGN   4435>>ASSIGN
      4436>>ASSIGN   4437>>ASSIGN   4438>>ASSIGN   4439>>ASSIGN   4440>>ASSIGN   4442>>ASSIGN   4444<<ASSIGN
      4444>>ASSIGN   4446>>ASSIGN   4449>>ASSIGN   4450>>ASSIGN   4453>>ASSIGN   4454>>ASSIGN   4457<<ASSIGN
      4457>>ASSIGN   4458>>ASSIGN   4460<<ASSIGN   4460>>ASSIGN   4461>>ASSIGN
CVM_ALT
      4474**LABEL    4464--CALLALT
CVM_ERR
      4292**DCL      4353<<ASSIGN   4354<>CALL     4378<<ASSIGN   4379<>CALL     4387<>CALL     4464<>CALL
CVM_PAGES
      4289**DCL      4388<<ASSIGN   4395>>ASSIGN   4396>>ASSIGN   4397>>ASSIGN   4398>>ASSIGN   4399>>ASSIGN
      4400>>ASSIGN   4403>>ASSIGN   4404>>ASSIGN   4405>>ASSIGN   4406>>ASSIGN   4407>>ASSIGN   4408>>ASSIGN
      4449>>ASSIGN   4450>>ASSIGN   4453>>ASSIGN   4454>>ASSIGN   4467>>ASSIGN   4468>>ASSIGN   4469>>ASSIGN
HW_PTB_UNITS
      3302**DCL      4449>>ASSIGN   4450>>ASSIGN   4453>>ASSIGN   4454>>ASSIGN
HW_WSQ0PT
      3303**DCL      4394>>IF       4448>>IF
H_DPS8000_CI_TABLE
      3298**DCL      4354<>CALL     4379<>CALL
H_GATECNT
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:41   
      4316**DCL      4460--ASSIGN
H_RPM_FLG
      3277**DCL      4352>>IF       4359>>IF       4377>>IF
I
      4290**DCL      4366<<DOINDEX  4367>>IF       4385<<DOINDEX  4387>>CALL     4388>>ASSIGN   4463<<DOINDEX
      4464>>CALL
IT$CPU.PORT#
       375**DCL      4348>>IF       4353>>ASSIGN   4367>>IF       4376>>ASSIGN   4378>>ASSIGN
ITE$ERROR
      4301**DCL-ENT  4361--CALL     4369--CALL     4474--CALL
ITH$FIND_CONNECT_INDEX
      4302**DCL-ENT  4354--CALL     4379--CALL
IT_MMDSMAX
      4321**DCL      4425>>ASSIGN   4426>>ASSIGN   4427>>ASSIGN   4428>>ASSIGN   4429>>ASSIGN   4430>>ASSIGN
      4431>>ASSIGN   4432>>ASSIGN
IT_SCPUHJIT
      4320**DCL      4469<<ASSIGN
IT_SCPUJIT
      4319**DCL      4468<<ASSIGN
IT_SCPUWSPTD
      4318**DCL      4467<<ASSIGN
MASTER_GIVEN
      4297**DCL      4349>>IF       4351<<ASSIGN
MMB$GPP
      4303**DCL-ENT  4386--CALL
MME$CVM
      4304**DCL-ENT  4387--CALL     4464--CALL
PHYS_PAGE#
      4291**DCL      4386<>CALL     4387<>CALL     4388>>ASSIGN
S$WSPTD.BLKNO
      2725**DCL      4449<<ASSIGN   4450<<ASSIGN   4453<<ASSIGN   4454<<ASSIGN
SLVENT.IC
      4295**DCL      4442>>ASSIGN
SLVIC
      4293**DCL      4294--REDEF    4441<<ASSIGN
SSS$SLVIC
PL6.E3A0      #001=ITP$PROC File=ITP$PROC.:E05TSI                                TUE 07/29/97 23:06 Page:42   
      4305**DCL-ENT  4441--ASSIGN
S_NSCPU
      2688**DCL      4359>>IF       4359>>IF       4365>>IF       4366>>DOINDEX  4374<<ASSIGN   4374>>ASSIGN
      4376>>ASSIGN   4379>>CALL     4458>>ASSIGN   4467>>ASSIGN   4468>>ASSIGN   4469>>ASSIGN
S_PNO
      4317**DCL      4457--ASSIGN   4460--ASSIGN
S_PORTNR
      2687**DCL      4348>>IF       4367>>IF       4376<<ASSIGN
S_WSPTD
      2709**DCL      4457--ASSIGN

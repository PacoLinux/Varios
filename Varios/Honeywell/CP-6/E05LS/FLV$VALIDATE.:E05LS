VERSION E05

PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:1    
        1        1        /*M* FLV$VALIDATE Performs VALIDATE command */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*P*  NAME: FLV$VALIDATE
        8        8              PURPOSE: Process VALIDATE  command
        9        9        */
       10       10        FLV$VALIDATE: PROC( COMMAND ) ALTRET;
       11       11
       12       12        /***
       13       13         *** Parameters
       14       14         ***/
       15       15
       16       16    1   DCL COMMAND SBIN ALIGNED;
       17       17
       18       18        /***/
       19       19        /** Includes **/
       20       20        /***/
       21       21        %INCLUDE CP_6;
       22     5580        %INCLUDE CP_6_SUBS;
       23     6120        %INCLUDE B_ERRORS_C;
       24     7247        %INCLUDE XU_MACRO_C;
       25    10353        %INCLUDE XU_SUBS_C;
       26    10445        %INCLUDE FLI_DATA_R;
       27    11859        %INCLUDE FM$GRAN;
       28    11928        %INCLUDE FM$FIT;
       29    12149        %INCLUDE FLN_DATA_R;
       30    12886        %INCLUDE FLE_DATA_R;
       31    18837        /***/
       32    18838        /** External procedures  **/
       33    18839        /***/
       34    18840    1   DCL FLC$CRIT_CHECK ENTRY (2) ALTRET;
       35    18841    1   DCL FLN$DISK_IO_INIT ENTRY;
       36    18842    1   DCL FLP$WR_FILE_INFO ENTRY(9) ALTRET;
       37    18843    1   DCL FLN$DISK_OPEN_NEXT ENTRY(5) ALTRET;
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:2    
       38    18844    1   DCL FLN$DISK_CLOSE_NEXT ENTRY(1);
       39    18845    1   DCL FLN$DISK_CLOSE_ALL ENTRY;
       40    18846    1   DCL FLI$RPT_ERR ENTRY(5);
       41    18847    1   DCL FLI$DISK_READ_INIT ENTRY(1);
       42    18848    1   DCL FLI$DISK_READ ENTRY(5) ALTRET;
       43    18849    1   DCL FLI$RETURN_BUF ENTRY(1);
       44    18850    1   DCL FLI$DISK_READ_FILE_INIT ENTRY(1);
       45    18851    1   DCL XSF$LOCCODP ENTRY(2) ALTRET;
       46    18852        %FM$GRAN;
       47    18856        %CODE03(BASED="BASED(CODE3$)");
       48    18863        %CODE06 ( BASED = "BASED ( CODE6$ )", CODE06 = CODE6 );
       49    18867        %F$DCB (STCLASS = "BASED(DCB$)");
       50    18924        %VLP_VECTOR (FPTN=FIT_,
       51    18925                     STCLASS = STATIC);
       52    18940
       53    18941        %VLP_VECTOR (FPTN = BUF_,
       54    18942                     STCLASS = STATIC);
       55    18957
       56    18958        %VLP_ERRCODE (FPTN = ERR);
       57    19003
       58    19004    1   DCL BLANK6 CHAR(0) STATIC INIT('      ');
       59    19005    1   DCL DCB# UBIN ;
       60    19006    1   DCL DCB_NUM UBIN WORD;
       61    19007    1   DCL CODE3$ PTR;
       62    19008    1   DCL CODE6$ PTR;
       63    19009    1   DCL DCB$ PTR STATIC;
       64    19010    1   DCL ARS SBIN STATIC;
       65    19011    1   DCL BIX SBIN STATIC;
       66    19012    1   DCL NBR_GRANS SBIN STATIC;
       67    19013    1   DCL FLAG BIT(1);
       68    19014    1   DCL BREAK_COUNT SBIN SYMREF;
       69    19015    1   DCL SCAN BIT(1) AUTO;
       70    19016    1   DCL ANY_FILES_FOUND BIT(1) AUTO;
       71    19017         %EJECT;
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:3    
       72    19018        /***/
       73    19019        /** Process validate commnad  **/
       74    19020        /***/
       75    19021    1           IF COMMAND = %SCAN OR COMMAND = %RETRIEVE
       76    19022    2           THEN DO;
       77    19023    2              DISK_OPEN_NEXT.V.OPER.TEST# = %YES#;
       78    19024    2              SCAN = '1'B;
       79    19025    2              END;
       80    19026    2           ELSE DO;
       81    19027    2              DISK_OPEN_NEXT.V.OPER.TEST# = %NO#;
       82    19028    2              SCAN = '0'B;
       83    19029    2              CALL FLI$DISK_READ_INIT( DEFAULT_GRANS_PER_DISK_BUF );
       84    19030    2              END;
       85    19031
       86    19032    1           CALL FLP$WR_FILE_INFO;
       87    19033    1           CALL FLN$DISK_IO_INIT;
       88    19034    1           ANY_FILES_FOUND = '0'B;
       89    19035    1           IF COMMAND = %RETRIEVE
       90    19036    2           THEN DO;
       91    19037    2                PRE_RET_OPEN.V.FUN# = %CREATE#;
       92    19038    2                CALL M$OPEN ( PRE_RET_OPEN )
       93    19039    3                 WHENALTRETURN DO;
       94    19040    3                   CALL FLI$RPT_ERR;
       95    19041    3                   RETURN;
       96    19042    3                   END;
       97    19043    2                PRE_RET_KEY.KL = LENGTHV(PRE_RET_KEY);
       98    19044    2              END;
       99    19045
      100    19046    2           DO WHILE('1'B);
      101    19047    2              FLAG = '0'B;
      102    19048    2              CALL FLN$DISK_OPEN_NEXT(DCB$,DCB_NUM,DCB#,FIT_,ERR) ALTRET(DONE);
      103    19049    2              IF BREAK_COUNT > 0
      104    19050    2              THEN
      105    19051    3              DO;
      106    19052    3                 CALL FLN$DISK_CLOSE_ALL;
      107    19053    3               IF COMMAND = %RETRIEVE
      108    19054    3                THEN CALL M$CLOSE( PRE_RET_CLOSE )
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:4    
      109    19055    4                   WHENALTRETURN DO;
      110    19056    4                     END;
      111    19057    3                 RETURN;
      112    19058    3                 END;
      113    19059    2              IF ERR
      114    19060    2              THEN
      115    19061    3              DO;
      116    19062    3                 IF ERR.ERR# = %E$ADEOF
      117    19063    3                 THEN ;
      118    19064    3                 ELSE
      119    19065    3                    IF ERR.ERR# = %E$NOKEY OR ERR.ERR# = %E$FDEOF
      120    19066    4                    THEN DO;
      121    19067    4                       CALL FLP$WR_FILE_INFO(DCB$, ,BLANK6,0,' ','1'B,ERR,'1'B,'0'B);
      122    19068    4                       ANY_FILES_FOUND = '1'B;
      123    19069    4                       END;
      124    19070    3                    ELSE
      125    19071    4                    DO;
      126    19072    4                       CALL FLP$WR_FILE_INFO(DCB$,ADDR(NIL),BLANK6,0,' ', ,ERR,'1'B,
             19072                                '0'B);
      127    19073    4                       ANY_FILES_FOUND = '1'B;
      128    19074    4                       CALL FLI$RPT_ERR(ERR,DCB_NUM);
      129    19075    4                       IF ERR.ERR# = %E$FILEBUSY OR ERR.ERR# = %E$NOACCESS
      130    19076    4                       OR ERR.ERR# = %E$JRNLERR OR ERR.ERR# = %E$NOSHRDS
      131    19077    4                         OR ERR.ERR# = %E$BADFIT OR ERR.ERR# = %E$IOERR
      132    19078    4                       THEN IF FPT_EXIT.V.STEPCC# < %MINOR_ERROR
      133    19079    4                            THEN FPT_EXIT.V.STEPCC# = %MINOR_ERROR;
      134    19080    4                            ELSE ;
      135    19081    4                       ELSE
      136    19082    5                       DO;
      137    19083    5                          CALL FLN$DISK_CLOSE_ALL;
      138    19084    5                          IF COMMAND = %RETRIEVE
      139    19085    5                           THEN CALL M$CLOSE( PRE_RET_CLOSE )
      140    19086    6                              WHENALTRETURN DO;
      141    19087    6                                END;
      142    19088    5                          RETURN;
      143    19089    5                          END;
      144    19090    4                       END;
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:5    
      145    19091    3                 END;
      146    19092    2              ELSE
      147    19093    3              DO;                          /* NOT ERR                            */
      148    19094    3                 CALL FLC$CRIT_CHECK(DCB$,FIT_.PTR$)
      149    19095    3                 WHENRETURN
      150    19096    4                 DO;
      151    19097    4                    IF SCAN
      152    19098    5                    THEN DO;
      153    19099    5                       IF COMMAND ~= %RETRIEVE
      154    19100    5                       THEN CALL FLP$WR_FILE_INFO(DCB$,FIT_.PTR$,BLANK6,0,' ', ,ERR,
             19100                                '1'B,'0'B);
      155    19101    5                       ANY_FILES_FOUND = '1'B;
      156    19102    5                       IF COMMAND = %RETRIEVE
      157    19103    6                       THEN DO;
      158    19104    6                            CODE6$ = PINCRW ( FIT_.PTR$, SIZEW ( FM$GRAN ) );
      159    19105    6                            CALL XSF$LOCCODP ( CODE6$, 06 )
      160    19106    6                            WHENRETURN
      161    19107    7                            DO;
      162    19108    7                               IF F$DCB.DESC.ODSTOW#
      163    19109    8                                THEN DO;
      164    19110    8                                   PRE_RET_KEY.RES = 'CD';
      165    19111    8                                   PRE_RET_KEY.FSN = CODE6.STOW.ODFSN;
      166    19112    8                                   END;
      167    19113    8                                ELSE DO;
      168    19114    8                                   PRE_RET_KEY.RES = 'CT';
      169    19115    8                                   PRE_RET_KEY.FSN = CODE6.STOW.EFT.FSN;
      170    19116    8                                   END;
      171    19117    7                               PRE_RET_KEY.SN = CODE6.STOW.REEL;
      172    19118    7                               PRE_RET_KEY.PSN = F$DCB.PSN#;
      173    19119    7                               PRE_RET_KEY.ACCT = F$DCB.ACCT#;
      174    19120    7                               PRE_RET_KEY.FNAME.L = F$DCB.NAME#.L;
      175    19121    7                               PRE_RET_KEY.FNAME.C = F$DCB.NAME#.C;
      176    19122    7                               EFTWORD = CODE6.STOW.EFT;
      177    19123    7                               PRE_RET_REC.CROSS = EFTWORD.CROSS;
      178    19124    7                               PRE_RET_REC.IOERRORC = TAPE_OPTION.IOERRORC;
      179    19125    7                               CALL M$WRITE ( PRE_RET_WRITE )
      180    19126    7                                 WHENALTRETURN
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:6    
      181    19127    8                                 DO;
      182    19128    8                                    CALL FLI$RPT_ERR;
      183    19129    8                                    CALL M$CLOSE ( PRE_RET_CLOSE )
      184    19130    8                                     WHENALTRETURN
      185    19131    9                                     DO;
      186    19132    9                                       END;
      187    19133    8                                    ALTRETURN;
      188    19134    8                                   END;
      189    19135    7                              END;
      190    19136    6                            WHENALTRETURN
      191    19137    7                            DO;
      192    19138    7                             END;
      193    19139    6                           END;
      194    19140    5                       END;
      195    19141    5                    ELSE DO;
      196    19142    5                       IF NOT F$DCB.DESC.DELF#
      197    19143    5                       THEN
      198    19144    6                       DO;
      199    19145    6                          CODE3$ = PINCRW(FIT_.PTR$,SIZEW(FM$GRAN));
      200    19146    6                          CALL XSF$LOCCODP(CODE3$,03)
      201    19147    6                          WHENRETURN
      202    19148    7                          DO;
      203    19149    7                             NBR_GRANS = CODE03.UGRANS;
      204    19150    7                             CALL FLI$DISK_READ_FILE_INIT(NBR_GRANS - 1);
      205    19151    8                             DO WHILE('1'B);
      206    19152    8                                CALL FLI$DISK_READ(BUF_,BIX,ARS,ERR,DCB_NUM) ALTRET(
             19152                                         CHECK_ERR);
      207    19153    8                                CALL FLI$RETURN_BUF(BIX);
      208    19154    8                                IF ERR
      209    19155    8                                THEN
      210    19156    9                                DO;
      211    19157    9                                   IF (ERR.ERR# = %E$DI AND F$DCB.ORG# ~= %RANDOM#
      212    19158    9                                       AND F$DCB.ORG# ~= %RELATIVE#
      213    19159    9                                       AND F$DCB.ORG# ~= %IDS#
      214    19160    9                                       AND F$DCB.ORG# ~= %CG#)
      215    19161    9                                       AND NOT FLAG
      216    19162    9                                   THEN
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:7    
      217    19163   10                                   DO;
      218    19164   10                                      CALL FLP$WR_FILE_INFO(DCB$,FIT_.PTR$,BLANK6,0,' '
             19164                                               , ,ERR,'1'B,'0'B);
      219    19165   10                                      ANY_FILES_FOUND = '1'B;
      220    19166   10                                      CALL FLI$RPT_ERR(ERR,DCB_NUM);
      221    19167   10                                      IF FPT_EXIT.V.STEPCC# < %MINOR_ERROR
      222    19168   10                                       THEN FPT_EXIT.V.STEPCC# = %MINOR_ERROR;
      223    19169   10                                      FLAG = '1'B;
      224    19170   10                                      END;
      225    19171    9                                   END;
      226    19172    8                                END;
      227    19173    7                             END;
      228    19174    6                          WHENALTRETURN
      229    19175    7                          DO;
      230    19176                                           /* CALL FLI$RPT_ERR(E_NO_CODE3,DCB_NUM);   */
      231    19177    7                             END;
      232    19178    6                          END;             /* NOT F$DCB.DESC.DELF#               */
      233    19179    5                       END;
      234    19180    4                    END;                   /* WHENRETURN                         */
      235    19181    4                 DO WHILE('0'B);
      236    19182    4   CHECK_ERR:
      237    19183    4                    IF ERR.ERR# ~= %E$EOF
      238    19184    4                    THEN
      239    19185    5                    DO;
      240    19186    5                       IF FPT_EXIT.V.STEPCC# < %DISK_ERROR
      241    19187    5                        THEN FPT_EXIT.V.STEPCC# = %DISK_ERROR;
      242    19188    5                       CALL FLI$RETURN_BUF(BIX);
      243    19189    5                       IF NOT FLAG
      244    19190    6                       THEN DO;
      245    19191    6                          CALL FLP$WR_FILE_INFO(DCB$,FIT_.PTR$,BLANK6,0,' ', ,ERR,'1'B,
             19191                                   '0'B);
      246    19192    6                          ANY_FILES_FOUND = '1'B;
      247    19193    6                          END;
      248    19194    5                       CALL FLI$RPT_ERR(ERR,DCB_NUM);
      249    19195    5                       CALL FLN$DISK_CLOSE_ALL;
      250    19196    5                       RETURN;
      251    19197    5                       END;
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:8    
      252    19198    4                    ELSE
      253    19199    5                    DO;
      254    19200    5                       IF F$DCB.DESC.BAD# AND  NOT FLAG
      255    19201    5                       THEN
      256    19202    6                       DO;
      257    19203    6                          CALL FLP$WR_FILE_INFO(DCB$,FIT_.PTR$,BLANK6,0,' ', ,ERR,'1'B,
             19203                                   '0'B);
      258    19204    6                          ANY_FILES_FOUND = '1'B;
      259    19205    6                          END;
      260    19206    5                       ELSE
      261    19207    5                          IF NOT FLAG
      262    19208    6                          THEN DO;
      263    19209    6                             CALL FLP$WR_FILE_INFO(DCB$,FIT_.PTR$,BLANK6,0,' ', ,
             19209                                      '000000000000'O,'1'B,'0'B);
      264    19210    6                             ANY_FILES_FOUND = '1'B;
      265    19211    6                             END;
      266    19212    5                       END;
      267    19213    4                    END;                   /* DO WHILE ('0'B)                    */
      268    19214    3                 END;                      /* NOT ERR                            */
      269    19215    2              CALL FLN$DISK_CLOSE_NEXT(DCB#);
      270    19216    2              END;                         /* DO WHILE ('1'B)                    */
      271    19217    1   DONE:
      272    19218    1           CALL FLN$DISK_CLOSE_ALL;
      273    19219    1           IF COMMAND = %RETRIEVE
      274    19220    1           THEN CALL M$CLOSE ( PRE_RET_CLOSE )
      275    19221    1                  WHENALTRETURN
      276    19222    2                  DO;
      277    19223    2                    CALL FLI$RPT_ERR;
      278    19224    2                    ALTRETURN;
      279    19225    2                   END;
      280    19226    1           IF NOT ANY_FILES_FOUND
      281    19227    1           THEN CALL FLI$RPT_ERR( E_NOTHING_FOUND );
      282    19228    1           RETURN;
      283    19229    1   END FLV$VALIDATE;

PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:9    
--  Include file information  --

   FL_PERR_C.:E05TOU  is referenced.
   FLE_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   FLN_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   FM$FIT.:E05TOU  is referenced.
   FM$GRAN.:E05TOU  is referenced.
   B_MICROPS_C.:E05TOU  is referenced.
   FLB_SUBS_C.:E05TOU  is referenced.
   FLI_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_SUBS_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   B_ERRORS_C.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure FLV$VALIDATE.

   Procedure FLV$VALIDATE requires 479 words for executable code.
   Procedure FLV$VALIDATE requires 22 words of local(AUTO) storage.

    No errors detected in file FLV$VALIDATE.:E05TSI    .

PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:10   

 Object Unit name= FLV$VALIDATE                               File name= FLV$VALIDATE.:E05TOU
 UTS= JUL 29 '97 16:29:08.04 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none     0      0  M$PRE_RET
    2   Data  even  none   105    151  FLV$VALIDATE
    3   DCB   even  none     0      0  M$DISK_IN
    4   DCB   even  none     0      0  M$DISK00
    5   DCB   even  none     0      0  M$DISK01
    6   DCB   even  none     0      0  M$DISK02
    7   DCB   even  none     0      0  M$DISK03
    8  RoData even  UTS      2      2  FLV$VALIDATE
    9   Proc  even  none   479    737  FLV$VALIDATE
   10  RoData even  none    27     33  FLV$VALIDATE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     9      0   yes    yes     yes      Std        1  FLV$VALIDATE
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:11   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       1 FLI$DISK_READ_INIT
         yes           Std       1 FLI$RETURN_BUF
 yes     yes           Std       9 FLP$WR_FILE_INFO
         yes           Std       0 FLN$DISK_IO_INIT
         yes           Std       5 FLI$RPT_ERR
 yes     yes           Std       5 FLN$DISK_OPEN_NEXT
 yes     yes           Std       2 FLC$CRIT_CHECK
 yes     yes           Std       2 XSF$LOCCODP
         yes           Std       0 FLN$DISK_CLOSE_ALL
         yes           Std       1 FLI$DISK_READ_FILE_INIT
         yes           Std       1 FLN$DISK_CLOSE_NEXT
 yes     yes           Std       5 FLI$DISK_READ
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AUTO_1
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  TAPE_DCBLIST$                         FPT_EXIT
     SNVECLIST$                            DEFAULT_GRANS_PER_DISK_BUF            DPLIST$
     DPRESLIST$                            DISK_FILE_SPEC$                       SPECCHARS
     EFTWORD                               TAPE_OPTION                           M$PRE_RET
     PRE_RET_KEY                           PRE_RET_REC                           PRE_RET_WRITE
     PRE_RET_OPEN                          PRE_RET_CLOSE                         RET_CMDS_NAME
     M$DISK_IN                             M$DISK00                              M$DISK01
     M$DISK02                              M$DISK03                              FROM_DISK_NAME
     FROM_DISK_ACCT                        FROM_DISK_SN                          DISK_OPEN_NEXT
r    E_NOTHING_FOUND                       BREAK_COUNT                           B_VECTNIL
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:12   

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:13   


        1        1        /*M* FLV$VALIDATE Performs VALIDATE command */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*P*  NAME: FLV$VALIDATE
        8        8              PURPOSE: Process VALIDATE  command
        9        9        */
       10       10        FLV$VALIDATE: PROC( COMMAND ) ALTRET;

     10  9 000000   000000 700200 xent  FLV$VALIDATE TSX0  ! X66_AUTO_1
         9 000001   000026 000001                    ZERO    22,1

       11       11
       12       12        /***
       13       13         *** Parameters
       14       14         ***/
       15       15
       16       16    1   DCL COMMAND SBIN ALIGNED;
       17       17
       18       18        /***/
       19       19        /** Includes **/
       20       20        /***/
       21       21        %INCLUDE CP_6;
       22     5580        %INCLUDE CP_6_SUBS;
       23     6120        %INCLUDE B_ERRORS_C;
       24     7247        %INCLUDE XU_MACRO_C;
       25    10353        %INCLUDE XU_SUBS_C;
       26    10445        %INCLUDE FLI_DATA_R;
       27    11859        %INCLUDE FM$GRAN;
       28    11928        %INCLUDE FM$FIT;
       29    12149        %INCLUDE FLN_DATA_R;
       30    12886        %INCLUDE FLE_DATA_R;
       31    18837        /***/
       32    18838        /** External procedures  **/
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:14   
       33    18839        /***/
       34    18840    1   DCL FLC$CRIT_CHECK ENTRY (2) ALTRET;
       35    18841    1   DCL FLN$DISK_IO_INIT ENTRY;
       36    18842    1   DCL FLP$WR_FILE_INFO ENTRY(9) ALTRET;
       37    18843    1   DCL FLN$DISK_OPEN_NEXT ENTRY(5) ALTRET;
       38    18844    1   DCL FLN$DISK_CLOSE_NEXT ENTRY(1);
       39    18845    1   DCL FLN$DISK_CLOSE_ALL ENTRY;
       40    18846    1   DCL FLI$RPT_ERR ENTRY(5);
       41    18847    1   DCL FLI$DISK_READ_INIT ENTRY(1);
       42    18848    1   DCL FLI$DISK_READ ENTRY(5) ALTRET;
       43    18849    1   DCL FLI$RETURN_BUF ENTRY(1);
       44    18850    1   DCL FLI$DISK_READ_FILE_INIT ENTRY(1);
       45    18851    1   DCL XSF$LOCCODP ENTRY(2) ALTRET;
       46    18852        %FM$GRAN;
       47    18856        %CODE03(BASED="BASED(CODE3$)");
       48    18863        %CODE06 ( BASED = "BASED ( CODE6$ )", CODE06 = CODE6 );
       49    18867        %F$DCB (STCLASS = "BASED(DCB$)");
       50    18924        %VLP_VECTOR (FPTN=FIT_,
       51    18925                     STCLASS = STATIC);
       52    18940
       53    18941        %VLP_VECTOR (FPTN = BUF_,
       54    18942                     STCLASS = STATIC);
       55    18957
       56    18958        %VLP_ERRCODE (FPTN = ERR);
       57    19003
       58    19004    1   DCL BLANK6 CHAR(0) STATIC INIT('      ');
       59    19005    1   DCL DCB# UBIN ;
       60    19006    1   DCL DCB_NUM UBIN WORD;
       61    19007    1   DCL CODE3$ PTR;
       62    19008    1   DCL CODE6$ PTR;
       63    19009    1   DCL DCB$ PTR STATIC;
       64    19010    1   DCL ARS SBIN STATIC;
       65    19011    1   DCL BIX SBIN STATIC;
       66    19012    1   DCL NBR_GRANS SBIN STATIC;
       67    19013    1   DCL FLAG BIT(1);
       68    19014    1   DCL BREAK_COUNT SBIN SYMREF;
       69    19015    1   DCL SCAN BIT(1) AUTO;
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:15   
       70    19016    1   DCL ANY_FILES_FOUND BIT(1) AUTO;
       71    19017         %EJECT;
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:16   
       72    19018        /***/
       73    19019        /** Process validate commnad  **/
       74    19020        /***/
       75    19021    1           IF COMMAND = %SCAN OR COMMAND = %RETRIEVE

  19021  9 000002   200003 470500                    LDP0    @COMMAND,,AUTO
         9 000003   000000 235100                    LDA     0,,PR0
         9 000004   000004 115007                    CMPA    4,DL
         9 000005   000010 600000 9                  TZE     s:19023
         9 000006   000034 115007                    CMPA    28,DL
         9 000007   000015 601000 9                  TNZ     s:19027

       76    19022    2           THEN DO;

       77    19023    2              DISK_OPEN_NEXT.V.OPER.TEST# = %YES#;

  19023  9 000010   020000 236007                    LDQ     8192,DL
         9 000011   000044 256000 xsym               ORSQ    DISK_OPEN_NEXT+36

       78    19024    2              SCAN = '1'B;

  19024  9 000012   400000 236003                    LDQ     -131072,DU
         9 000013   200011 756100                    STQ     SCAN,,AUTO

       79    19025    2              END;

  19025  9 000014   000024 710000 9                  TRA     s:19032

       80    19026    2           ELSE DO;

       81    19027    2              DISK_OPEN_NEXT.V.OPER.TEST# = %NO#;

  19027  9 000015   000000 236000 10                 LDQ     0
         9 000016   000044 356000 xsym               ANSQ    DISK_OPEN_NEXT+36

       82    19028    2              SCAN = '0'B;

PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:17   
  19028  9 000017   200011 450100                    STZ     SCAN,,AUTO

       83    19029    2              CALL FLI$DISK_READ_INIT( DEFAULT_GRANS_PER_DISK_BUF );

  19029  9 000020   000001 630400 10                 EPPR0   1
         9 000021   000017 631400 xsym               EPPR1   B_VECTNIL+15
         9 000022   000000 701000 xent               TSX1    FLI$DISK_READ_INIT
         9 000023   000000 011000                    NOP     0

       84    19030    2              END;

       85    19031
       86    19032    1           CALL FLP$WR_FILE_INFO;

  19032  9 000024   000002 631400 xsym               EPPR1   B_VECTNIL+2
         9 000025   000000 701000 xent               TSX1    FLP$WR_FILE_INFO
         9 000026   000000 011000                    NOP     0

       87    19033    1           CALL FLN$DISK_IO_INIT;

  19033  9 000027   000002 631400 xsym               EPPR1   B_VECTNIL+2
         9 000030   000000 701000 xent               TSX1    FLN$DISK_IO_INIT
         9 000031   000000 011000                    NOP     0

       88    19034    1           ANY_FILES_FOUND = '0'B;

  19034  9 000032   200012 450100                    STZ     ANY_FILES_FOUND,,AUTO

       89    19035    1           IF COMMAND = %RETRIEVE

  19035  9 000033   200003 470500                    LDP0    @COMMAND,,AUTO
         9 000034   000000 235100                    LDA     0,,PR0
         9 000035   000034 115007                    CMPA    28,DL
         9 000036   000054 601000 9                  TNZ     s:19047

       90    19036    2           THEN DO;

PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:18   
       91    19037    2                PRE_RET_OPEN.V.FUN# = %CREATE#;

  19037  9 000037   003000 236007                    LDQ     1536,DL
         9 000040   000045 552010 xsym               STBQ    PRE_RET_OPEN+37,'10'O

       92    19038    2                CALL M$OPEN ( PRE_RET_OPEN )

  19038  9 000041   000000 630400 xsym               EPPR0   PRE_RET_OPEN
         9 000042   450000 713400                    CLIMB   alt,open
         9 000043   410400 401760                    pmme    nvectors=18
         9 000044   000046 702000 9                  TSX2    s:19040
         9 000045   000052 710000 9                  TRA     s:19043

       93    19039    3                 WHENALTRETURN DO;

       94    19040    3                   CALL FLI$RPT_ERR;

  19040  9 000046   000002 631400 xsym               EPPR1   B_VECTNIL+2
         9 000047   000000 701000 xent               TSX1    FLI$RPT_ERR
         9 000050   000000 011000                    NOP     0

       95    19041    3                   RETURN;

  19041  9 000051   000000 702200 xent               TSX2  ! X66_ARET

       96    19042    3                   END;
       97    19043    2                PRE_RET_KEY.KL = LENGTHV(PRE_RET_KEY);

  19043  9 000052   070000 236003                    LDQ     28672,DU
         9 000053   000000 552040 xsym               STBQ    PRE_RET_KEY,'40'O

       98    19044    2              END;

       99    19045
      100    19046    2           DO WHILE('1'B);

      101    19047    2              FLAG = '0'B;
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:19   

  19047  9 000054   200010 450100                    STZ     FLAG,,AUTO

      102    19048    2              CALL FLN$DISK_OPEN_NEXT(DCB$,DCB_NUM,DCB#,FIT_,ERR) ALTRET(DONE);

  19048  9 000055   000002 236000 10                 LDQ     2
         9 000056   200020 756100                    STQ     ANY_FILES_FOUND+6,,AUTO
         9 000057   000003 236000 10                 LDQ     3
         9 000060   200017 756100                    STQ     ANY_FILES_FOUND+5,,AUTO
         9 000061   200004 630500                    EPPR0   DCB#,,AUTO
         9 000062   200016 450500                    STP0    ANY_FILES_FOUND+4,,AUTO
         9 000063   200005 631500                    EPPR1   DCB_NUM,,AUTO
         9 000064   200015 451500                    STP1    ANY_FILES_FOUND+3,,AUTO
         9 000065   000004 236000 10                 LDQ     4
         9 000066   200014 756100                    STQ     ANY_FILES_FOUND+2,,AUTO
         9 000067   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000070   000023 631400 xsym               EPPR1   B_VECTNIL+19
         9 000071   000000 701000 xent               TSX1    FLN$DISK_OPEN_NEXT
         9 000072   000710 702000 9                  TSX2    DONE

      103    19049    2              IF BREAK_COUNT > 0

  19049  9 000073   000000 235000 xsym               LDA     BREAK_COUNT
         9 000074   000112 604400 9                  TMOZ    s:19059

      104    19050    2              THEN
      105    19051    3              DO;

      106    19052    3                 CALL FLN$DISK_CLOSE_ALL;

  19052  9 000075   000002 631400 xsym               EPPR1   B_VECTNIL+2
         9 000076   000000 701000 xent               TSX1    FLN$DISK_CLOSE_ALL
         9 000077   000000 011000                    NOP     0

      107    19053    3               IF COMMAND = %RETRIEVE

  19053  9 000100   200003 470500                    LDP0    @COMMAND,,AUTO
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:20   
         9 000101   000000 235100                    LDA     0,,PR0
         9 000102   000034 115007                    CMPA    28,DL
         9 000103   000111 601000 9                  TNZ     s:19057

      108    19054    3                THEN CALL M$CLOSE( PRE_RET_CLOSE )

  19054  9 000104   000000 630400 xsym               EPPR0   PRE_RET_CLOSE
         9 000105   450001 713400                    CLIMB   alt,close
         9 000106   406000 401760                    pmme    nvectors=13
         9 000107   000111 702000 9                  TSX2    s:19057
         9 000110   000111 710000 9                  TRA     s:19057

      109    19055    4                   WHENALTRETURN DO;

      110    19056    4                     END;

      111    19057    3                 RETURN;

  19057  9 000111   000000 702200 xent               TSX2  ! X66_ARET

      112    19058    3                 END;
      113    19059    2              IF ERR

  19059  9 000112   000142 236000 2                  LDQ     ERR
         9 000113   000244 600000 9                  TZE     s:19094

      114    19060    2              THEN
      115    19061    3              DO;

      116    19062    3                 IF ERR.ERR# = %E$ADEOF

  19062  9 000114   000142 236000 2                  LDQ     ERR
         9 000115   377770 376007                    ANQ     131064,DL
         9 000116   001750 116007                    CMPQ    1000,DL
         9 000117   000701 600000 9                  TZE     s:19215

      117    19063    3                 THEN ;
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:21   
      118    19064    3                 ELSE
      119    19065    3                    IF ERR.ERR# = %E$NOKEY OR ERR.ERR# = %E$FDEOF

  19065  9 000120   001020 116007                    CMPQ    528,DL
         9 000121   000124 600000 9                  TZE     s:19067
         9 000122   001540 116007                    CMPQ    864,DL
         9 000123   000146 601000 9                  TNZ     s:19072

      120    19066    4                    THEN DO;

      121    19067    4                       CALL FLP$WR_FILE_INFO(DCB$, ,BLANK6,0,' ','1'B,ERR,'1'B,'0'B);

  19067  9 000124   000006 236000 10                 LDQ     6
         9 000125   200024 756100                    STQ     ANY_FILES_FOUND+10,,AUTO
         9 000126   000010 237000 10                 LDAQ    8
         9 000127   200022 757100                    STAQ    ANY_FILES_FOUND+8,,AUTO
         9 000130   000012 237000 10                 LDAQ    10
         9 000131   200020 757100                    STAQ    ANY_FILES_FOUND+6,,AUTO
         9 000132   000014 237000 10                 LDAQ    12
         9 000133   200016 757100                    STAQ    ANY_FILES_FOUND+4,,AUTO
         9 000134   000001 236000 xsym               LDQ     B_VECTNIL+1
         9 000135   000004 235000 10                 LDA     4
         9 000136   200014 757100                    STAQ    ANY_FILES_FOUND+2,,AUTO
         9 000137   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000140   000005 631400 10                 EPPR1   5
         9 000141   000000 701000 xent               TSX1    FLP$WR_FILE_INFO
         9 000142   000000 011000                    NOP     0

      122    19068    4                       ANY_FILES_FOUND = '1'B;

  19068  9 000143   400000 236003                    LDQ     -131072,DU
         9 000144   200012 756100                    STQ     ANY_FILES_FOUND,,AUTO

      123    19069    4                       END;

  19069  9 000145   000701 710000 9                  TRA     s:19215

PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:22   
      124    19070    3                    ELSE
      125    19071    4                    DO;

      126    19072    4                       CALL FLP$WR_FILE_INFO(DCB$,ADDR(NIL),BLANK6,0,' ', ,ERR,'1'B,
             19072                                '0'B);

  19072  9 000146   000001 236000 xsym               LDQ     B_VECTNIL+1
         9 000147   200014 756100                    STQ     ANY_FILES_FOUND+2,,AUTO
         9 000150   000016 237000 10                 LDAQ    14
         9 000151   200024 757100                    STAQ    ANY_FILES_FOUND+10,,AUTO
         9 000152   000002 236000 10                 LDQ     2
         9 000153   000001 235000 xsym               LDA     B_VECTNIL+1
         9 000154   200022 757100                    STAQ    ANY_FILES_FOUND+8,,AUTO
         9 000155   000006 237000 10                 LDAQ    6
         9 000156   200020 757100                    STAQ    ANY_FILES_FOUND+6,,AUTO
         9 000157   000014 236000 10                 LDQ     12
         9 000160   200017 756100                    STQ     ANY_FILES_FOUND+5,,AUTO
         9 000161   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000162   200016 450500                    STP0    ANY_FILES_FOUND+4,,AUTO
         9 000163   000004 236000 10                 LDQ     4
         9 000164   200015 756100                    STQ     ANY_FILES_FOUND+3,,AUTO
         9 000165   200015 630500                    EPPR0   ANY_FILES_FOUND+3,,AUTO
         9 000166   000005 631400 10                 EPPR1   5
         9 000167   000000 701000 xent               TSX1    FLP$WR_FILE_INFO
         9 000170   000000 011000                    NOP     0

      127    19073    4                       ANY_FILES_FOUND = '1'B;

  19073  9 000171   400000 236003                    LDQ     -131072,DU
         9 000172   200012 756100                    STQ     ANY_FILES_FOUND,,AUTO

      128    19074    4                       CALL FLI$RPT_ERR(ERR,DCB_NUM);

  19074  9 000173   200005 630500                    EPPR0   DCB_NUM,,AUTO
         9 000174   200015 450500                    STP0    ANY_FILES_FOUND+3,,AUTO
         9 000175   000002 236000 10                 LDQ     2
         9 000176   200014 756100                    STQ     ANY_FILES_FOUND+2,,AUTO
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:23   
         9 000177   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000200   000020 631400 xsym               EPPR1   B_VECTNIL+16
         9 000201   000000 701000 xent               TSX1    FLI$RPT_ERR
         9 000202   000000 011000                    NOP     0

      129    19075    4                       IF ERR.ERR# = %E$FILEBUSY OR ERR.ERR# = %E$NOACCESS

  19075  9 000203   000142 236000 2                  LDQ     ERR
         9 000204   377770 376007                    ANQ     131064,DL
         9 000205   001550 116007                    CMPQ    872,DL
         9 000206   000221 600000 9                  TZE     s:19078
         9 000207   001640 116007                    CMPQ    928,DL
         9 000210   000221 600000 9                  TZE     s:19078
         9 000211   001710 116007                    CMPQ    968,DL
         9 000212   000221 600000 9                  TZE     s:19078
         9 000213   001740 116007                    CMPQ    992,DL
         9 000214   000221 600000 9                  TZE     s:19078
         9 000215   002570 116007                    CMPQ    1400,DL
         9 000216   000221 600000 9                  TZE     s:19078
         9 000217   000100 116007                    CMPQ    64,DL
         9 000220   000227 601000 9                  TNZ     s:19083

      130    19076    4                       OR ERR.ERR# = %E$JRNLERR OR ERR.ERR# = %E$NOSHRDS
      131    19077    4                         OR ERR.ERR# = %E$BADFIT OR ERR.ERR# = %E$IOERR
      132    19078    4                       THEN IF FPT_EXIT.V.STEPCC# < %MINOR_ERROR

  19078  9 000221   000004 236000 xsym               LDQ     FPT_EXIT+4
         9 000222   777000 316003                    CANQ    -512,DU
         9 000223   000701 601000 9                  TNZ     s:19215

      133    19079    4                            THEN FPT_EXIT.V.STEPCC# = %MINOR_ERROR;

  19079  9 000224   001000 236003                    LDQ     512,DU
         9 000225   000004 552040 xsym               STBQ    FPT_EXIT+4,'40'O
         9 000226   000701 710000 9                  TRA     s:19215

      134    19080    4                            ELSE ;
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:24   
      135    19081    4                       ELSE
      136    19082    5                       DO;

      137    19083    5                          CALL FLN$DISK_CLOSE_ALL;

  19083  9 000227   000002 631400 xsym               EPPR1   B_VECTNIL+2
         9 000230   000000 701000 xent               TSX1    FLN$DISK_CLOSE_ALL
         9 000231   000000 011000                    NOP     0

      138    19084    5                          IF COMMAND = %RETRIEVE

  19084  9 000232   200003 470500                    LDP0    @COMMAND,,AUTO
         9 000233   000000 235100                    LDA     0,,PR0
         9 000234   000034 115007                    CMPA    28,DL
         9 000235   000243 601000 9                  TNZ     s:19088

      139    19085    5                           THEN CALL M$CLOSE( PRE_RET_CLOSE )

  19085  9 000236   000000 630400 xsym               EPPR0   PRE_RET_CLOSE
         9 000237   450001 713400                    CLIMB   alt,close
         9 000240   406000 401760                    pmme    nvectors=13
         9 000241   000243 702000 9                  TSX2    s:19088
         9 000242   000243 710000 9                  TRA     s:19088

      140    19086    6                              WHENALTRETURN DO;

      141    19087    6                                END;

      142    19088    5                          RETURN;

  19088  9 000243   000000 702200 xent               TSX2  ! X66_ARET

      143    19089    5                          END;
      144    19090    4                       END;
      145    19091    3                 END;
      146    19092    2              ELSE
      147    19093    3              DO;                          /* NOT ERR                            */
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:25   

      148    19094    3                 CALL FLC$CRIT_CHECK(DCB$,FIT_.PTR$)

  19094  9 000244   000020 630400 10                 EPPR0   16
         9 000245   000020 631400 xsym               EPPR1   B_VECTNIL+16
         9 000246   000000 701000 xent               TSX1    FLC$CRIT_CHECK
         9 000247   000550 702000 9                  TSX2    s:19181

      149    19095    3                 WHENRETURN
      150    19096    4                 DO;

      151    19097    4                    IF SCAN

  19097  9 000250   200011 234100                    SZN     SCAN,,AUTO
         9 000251   000413 605000 9                  TPL     s:19142

      152    19098    5                    THEN DO;

      153    19099    5                       IF COMMAND ~= %RETRIEVE

  19099  9 000252   200003 470500                    LDP0    @COMMAND,,AUTO
         9 000253   000000 235100                    LDA     0,,PR0
         9 000254   000034 115007                    CMPA    28,DL
         9 000255   000275 600000 9                  TZE     s:19101

      154    19100    5                       THEN CALL FLP$WR_FILE_INFO(DCB$,FIT_.PTR$,BLANK6,0,' ', ,ERR,
             19100                                '1'B,'0'B);

  19100  9 000256   000006 236000 10                 LDQ     6
         9 000257   200024 756100                    STQ     ANY_FILES_FOUND+10,,AUTO
         9 000260   000010 237000 10                 LDAQ    8
         9 000261   200022 757100                    STAQ    ANY_FILES_FOUND+8,,AUTO
         9 000262   000001 236000 xsym               LDQ     B_VECTNIL+1
         9 000263   000007 235000 10                 LDA     7
         9 000264   200020 757100                    STAQ    ANY_FILES_FOUND+6,,AUTO
         9 000265   000014 237000 10                 LDAQ    12
         9 000266   200016 757100                    STAQ    ANY_FILES_FOUND+4,,AUTO
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:26   
         9 000267   000020 237000 10                 LDAQ    16
         9 000270   200014 757100                    STAQ    ANY_FILES_FOUND+2,,AUTO
         9 000271   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000272   000005 631400 10                 EPPR1   5
         9 000273   000000 701000 xent               TSX1    FLP$WR_FILE_INFO
         9 000274   000000 011000                    NOP     0

      155    19101    5                       ANY_FILES_FOUND = '1'B;

  19101  9 000275   400000 236003                    LDQ     -131072,DU
         9 000276   200012 756100                    STQ     ANY_FILES_FOUND,,AUTO

      156    19102    5                       IF COMMAND = %RETRIEVE

  19102  9 000277   200003 470500                    LDP0    @COMMAND,,AUTO
         9 000300   000000 235100                    LDA     0,,PR0
         9 000301   000034 115007                    CMPA    28,DL
         9 000302   000550 601000 9                  TNZ     s:19181

      157    19103    6                       THEN DO;

      158    19104    6                            CODE6$ = PINCRW ( FIT_.PTR$, SIZEW ( FM$GRAN ) );

  19104  9 000303   000137 236000 2                  LDQ     FIT_+1
         9 000304   000005 036003                    ADLQ    5,DU
         9 000305   200007 756100                    STQ     CODE6$,,AUTO

      159    19105    6                            CALL XSF$LOCCODP ( CODE6$, 06 )

  19105  9 000306   000022 236000 10                 LDQ     18
         9 000307   200015 756100                    STQ     ANY_FILES_FOUND+3,,AUTO
         9 000310   200007 631500                    EPPR1   CODE6$,,AUTO
         9 000311   200014 451500                    STP1    ANY_FILES_FOUND+2,,AUTO
         9 000312   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000313   000020 631400 xsym               EPPR1   B_VECTNIL+16
         9 000314   000000 701000 xent               TSX1    XSF$LOCCODP
         9 000315   000412 702000 9                  TSX2    s:19140
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:27   

      160    19106    6                            WHENRETURN
      161    19107    7                            DO;

      162    19108    7                               IF F$DCB.DESC.ODSTOW#

  19108  9 000316   000145 470400 2                  LDP0    DCB$
         9 000317   000005 236100                    LDQ     5,,PR0
         9 000320   040000 316007                    CANQ    16384,DL
         9 000321   000332 600000 9                  TZE     s:19114

      163    19109    8                                THEN DO;

      164    19110    8                                   PRE_RET_KEY.RES = 'CD';

  19110  9 000322   000000 236000 8                  LDQ     0
         9 000323   000011 772000                    QRL     9
         9 000324   000000 552030 xsym               STBQ    PRE_RET_KEY,'30'O

      165    19111    8                                   PRE_RET_KEY.FSN = CODE6.STOW.ODFSN;

  19111  9 000325   200007 471500                    LDP1    CODE6$,,AUTO
         9 000326   100002 236100                    LDQ     2,,PR1
         9 000327   000011 736000                    QLS     9
         9 000330   000002 552030 xsym               STBQ    PRE_RET_KEY+2,'30'O

      166    19112    8                                   END;

  19112  9 000331   000342 710000 9                  TRA     s:19117

      167    19113    8                                ELSE DO;

      168    19114    8                                   PRE_RET_KEY.RES = 'CT';

  19114  9 000332   000001 236000 8                  LDQ     1
         9 000333   000011 772000                    QRL     9
         9 000334   000000 552030 xsym               STBQ    PRE_RET_KEY,'30'O
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:28   

      169    19115    8                                   PRE_RET_KEY.FSN = CODE6.STOW.EFT.FSN;

  19115  9 000335   200007 471500                    LDP1    CODE6$,,AUTO
         9 000336   100002 236100                    LDQ     2,,PR1
         9 000337   037777 376007                    ANQ     16383,DL
         9 000340   000011 736000                    QLS     9
         9 000341   000002 552030 xsym               STBQ    PRE_RET_KEY+2,'30'O

      170    19116    8                                   END;

      171    19117    7                               PRE_RET_KEY.SN = CODE6.STOW.REEL;

  19117  9 000342   040000 100500                    MLR     fill='040'O
         9 000343   100001 000006                    ADSC9   1,,PR1                   cn=0,n=6
         9 000344   000000 600006 xsym               ADSC9   PRE_RET_KEY              cn=3,n=6

      172    19118    7                               PRE_RET_KEY.PSN = F$DCB.PSN#;

  19118  9 000345   040000 100500                    MLR     fill='040'O
         9 000346   000024 000006                    ADSC9   20,,PR0                  cn=0,n=6
         9 000347   000002 600006 xsym               ADSC9   PRE_RET_KEY+2            cn=3,n=6

      173    19119    7                               PRE_RET_KEY.ACCT = F$DCB.ACCT#;

  19119  9 000350   040000 100500                    MLR     fill='040'O
         9 000351   000020 000010                    ADSC9   16,,PR0                  cn=0,n=8
         9 000352   000004 200010 xsym               ADSC9   PRE_RET_KEY+4            cn=1,n=8

      174    19120    7                               PRE_RET_KEY.FNAME.L = F$DCB.NAME#.L;

  19120  9 000353   000010 236100                    LDQ     8,,PR0
         9 000354   000016 552040 xsym               STBQ    PRE_RET_KEY+14,'40'O

      175    19121    7                               PRE_RET_KEY.FNAME.C = F$DCB.NAME#.C;

  19121  9 000355   040000 100500                    MLR     fill='040'O
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:29   
         9 000356   000010 200037                    ADSC9   8,,PR0                   cn=1,n=31
         9 000357   000006 200037 xsym               ADSC9   PRE_RET_KEY+6            cn=1,n=31

      176    19122    7                               EFTWORD = CODE6.STOW.EFT;

  19122  9 000360   100002 720100                    LXL0    2,,PR1
         9 000361   000000 740000 xsym               STX0    EFTWORD

      177    19123    7                               PRE_RET_REC.CROSS = EFTWORD.CROSS;

  19123  9 000362   000000 236000 xsym               LDQ     EFTWORD
         9 000363   000000 676000 xsym               ERQ     PRE_RET_REC
         9 000364   400000 376003                    ANQ     -131072,DU
         9 000365   000000 656000 xsym               ERSQ    PRE_RET_REC

      178    19124    7                               PRE_RET_REC.IOERRORC = TAPE_OPTION.IOERRORC;

  19124  9 000366   000002 236000 xsym               LDQ     TAPE_OPTION+2
         9 000367   000004 736000                    QLS     4
         9 000370   000000 676000 xsym               ERQ     PRE_RET_REC
         9 000371   200000 376003                    ANQ     65536,DU
         9 000372   000000 656000 xsym               ERSQ    PRE_RET_REC

      179    19125    7                               CALL M$WRITE ( PRE_RET_WRITE )

  19125  9 000373   000000 630400 xsym               EPPR0   PRE_RET_WRITE
         9 000374   440001 713400                    CLIMB   alt,write
         9 000375   401400 401760                    pmme    nvectors=4
         9 000376   000400 702000 9                  TSX2    s:19128
         9 000377   000411 710000 9                  TRA     s:19135

      180    19126    7                                 WHENALTRETURN
      181    19127    8                                 DO;

      182    19128    8                                    CALL FLI$RPT_ERR;

  19128  9 000400   000002 631400 xsym               EPPR1   B_VECTNIL+2
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:30   
         9 000401   000000 701000 xent               TSX1    FLI$RPT_ERR
         9 000402   000000 011000                    NOP     0

      183    19129    8                                    CALL M$CLOSE ( PRE_RET_CLOSE )

  19129  9 000403   000000 630400 xsym               EPPR0   PRE_RET_CLOSE
         9 000404   450001 713400                    CLIMB   alt,close
         9 000405   406000 401760                    pmme    nvectors=13
         9 000406   000410 702000 9                  TSX2    s:19133
         9 000407   000410 710000 9                  TRA     s:19133

      184    19130    8                                     WHENALTRETURN
      185    19131    9                                     DO;

      186    19132    9                                       END;

      187    19133    8                                    ALTRETURN;

  19133  9 000410   000000 702200 xent               TSX2  ! X66_AALT

      188    19134    8                                   END;
      189    19135    7                              END;

  19135  9 000411   000412 710000 9                  TRA     s:19140

      190    19136    6                            WHENALTRETURN
      191    19137    7                            DO;

      192    19138    7                             END;

      193    19139    6                           END;

      194    19140    5                       END;

  19140  9 000412   000550 710000 9                  TRA     s:19181

      195    19141    5                    ELSE DO;
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:31   

      196    19142    5                       IF NOT F$DCB.DESC.DELF#

  19142  9 000413   000145 470400 2                  LDP0    DCB$
         9 000414   000005 236100                    LDQ     5,,PR0
         9 000415   400000 316007                    CANQ    -131072,DL
         9 000416   000550 601000 9                  TNZ     s:19181

      197    19143    5                       THEN
      198    19144    6                       DO;

      199    19145    6                          CODE3$ = PINCRW(FIT_.PTR$,SIZEW(FM$GRAN));

  19145  9 000417   000137 236000 2                  LDQ     FIT_+1
         9 000420   000005 036003                    ADLQ    5,DU
         9 000421   200006 756100                    STQ     CODE3$,,AUTO

      200    19146    6                          CALL XSF$LOCCODP(CODE3$,03)

  19146  9 000422   000023 236000 10                 LDQ     19
         9 000423   200015 756100                    STQ     ANY_FILES_FOUND+3,,AUTO
         9 000424   200006 631500                    EPPR1   CODE3$,,AUTO
         9 000425   200014 451500                    STP1    ANY_FILES_FOUND+2,,AUTO
         9 000426   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000427   000020 631400 xsym               EPPR1   B_VECTNIL+16
         9 000430   000000 701000 xent               TSX1    XSF$LOCCODP
         9 000431   000550 702000 9                  TSX2    s:19181

      201    19147    6                          WHENRETURN
      202    19148    7                          DO;

      203    19149    7                             NBR_GRANS = CODE03.UGRANS;

  19149  9 000432   200006 470500                    LDP0    CODE3$,,AUTO
         9 000433   000000 236100                    LDQ     0,,PR0
         9 000434   000032 376000 xsym               ANQ     B_VECTNIL+26
         9 000435   000150 756000 2                  STQ     NBR_GRANS
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:32   

      204    19150    7                             CALL FLI$DISK_READ_FILE_INIT(NBR_GRANS - 1);

  19150  9 000436   000001 136007                    SBLQ    1,DL
         9 000437   200014 756100                    STQ     ANY_FILES_FOUND+2,,AUTO
         9 000440   200014 631500                    EPPR1   ANY_FILES_FOUND+2,,AUTO
         9 000441   200015 451500                    STP1    ANY_FILES_FOUND+3,,AUTO
         9 000442   200015 630500                    EPPR0   ANY_FILES_FOUND+3,,AUTO
         9 000443   000017 631400 xsym               EPPR1   B_VECTNIL+15
         9 000444   000000 701000 xent               TSX1    FLI$DISK_READ_FILE_INIT
         9 000445   000000 011000                    NOP     0

      205    19151    8                             DO WHILE('1'B);

      206    19152    8                                CALL FLI$DISK_READ(BUF_,BIX,ARS,ERR,DCB_NUM) ALTRET(
             19152                                         CHECK_ERR);

  19152  9 000446   200005 630500                    EPPR0   DCB_NUM,,AUTO
         9 000447   200020 450500                    STP0    ANY_FILES_FOUND+6,,AUTO
         9 000450   000024 237000 10                 LDAQ    20
         9 000451   200016 757100                    STAQ    ANY_FILES_FOUND+4,,AUTO
         9 000452   000026 237000 10                 LDAQ    22
         9 000453   200014 757100                    STAQ    ANY_FILES_FOUND+2,,AUTO
         9 000454   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000455   000023 631400 xsym               EPPR1   B_VECTNIL+19
         9 000456   000000 701000 xent               TSX1    FLI$DISK_READ
         9 000457   000551 702000 9                  TSX2    CHECK_ERR

      207    19153    8                                CALL FLI$RETURN_BUF(BIX);

  19153  9 000460   000027 630400 10                 EPPR0   23
         9 000461   000017 631400 xsym               EPPR1   B_VECTNIL+15
         9 000462   000000 701000 xent               TSX1    FLI$RETURN_BUF
         9 000463   000000 011000                    NOP     0

      208    19154    8                                IF ERR

PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:33   
  19154  9 000464   000142 235000 2                  LDA     ERR
         9 000465   000446 600000 9                  TZE     s:19152

      209    19155    8                                THEN
      210    19156    9                                DO;

      211    19157    9                                   IF (ERR.ERR# = %E$DI AND F$DCB.ORG# ~= %RANDOM#

  19157  9 000466   000142 236000 2                  LDQ     ERR
         9 000467   377770 376007                    ANQ     131064,DL
         9 000470   000110 116007                    CMPQ    72,DL
         9 000471   000446 601000 9                  TNZ     s:19152
         9 000472   000145 470400 2                  LDP0    DCB$
         9 000473   000032 236100                    LDQ     26,,PR0
         9 000474   777000 376003                    ANQ     -512,DU
         9 000475   003000 116003                    CMPQ    1536,DU
         9 000476   000446 600000 9                  TZE     s:19152
         9 000477   005000 116003                    CMPQ    2560,DU
         9 000500   000446 600000 9                  TZE     s:19152
         9 000501   007000 116003                    CMPQ    3584,DU
         9 000502   000446 600000 9                  TZE     s:19152
         9 000503   013000 116003                    CMPQ    5632,DU
         9 000504   000446 600000 9                  TZE     s:19152
         9 000505   200010 234100                    SZN     FLAG,,AUTO
         9 000506   000446 604000 9                  TMI     s:19152

      212    19158    9                                       AND F$DCB.ORG# ~= %RELATIVE#
      213    19159    9                                       AND F$DCB.ORG# ~= %IDS#
      214    19160    9                                       AND F$DCB.ORG# ~= %CG#)
      215    19161    9                                       AND NOT FLAG
      216    19162    9                                   THEN
      217    19163   10                                   DO;

      218    19164   10                                     CALL FLP$WR_FILE_INFO(DCB$,FIT_.PTR$,BLANK6,0,' '
             19164                                               , ,ERR,'1'B,'0'B);

  19164  9 000507   000006 236000 10                 LDQ     6
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:34   
         9 000510   200024 756100                    STQ     ANY_FILES_FOUND+10,,AUTO
         9 000511   000010 237000 10                 LDAQ    8
         9 000512   200022 757100                    STAQ    ANY_FILES_FOUND+8,,AUTO
         9 000513   000001 236000 xsym               LDQ     B_VECTNIL+1
         9 000514   000007 235000 10                 LDA     7
         9 000515   200020 757100                    STAQ    ANY_FILES_FOUND+6,,AUTO
         9 000516   000014 237000 10                 LDAQ    12
         9 000517   200016 757100                    STAQ    ANY_FILES_FOUND+4,,AUTO
         9 000520   000020 237000 10                 LDAQ    16
         9 000521   200014 757100                    STAQ    ANY_FILES_FOUND+2,,AUTO
         9 000522   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000523   000005 631400 10                 EPPR1   5
         9 000524   000000 701000 xent               TSX1    FLP$WR_FILE_INFO
         9 000525   000000 011000                    NOP     0

      219    19165   10                                      ANY_FILES_FOUND = '1'B;

  19165  9 000526   400000 236003                    LDQ     -131072,DU
         9 000527   200012 756100                    STQ     ANY_FILES_FOUND,,AUTO

      220    19166   10                                      CALL FLI$RPT_ERR(ERR,DCB_NUM);

  19166  9 000530   200005 630500                    EPPR0   DCB_NUM,,AUTO
         9 000531   200015 450500                    STP0    ANY_FILES_FOUND+3,,AUTO
         9 000532   000002 236000 10                 LDQ     2
         9 000533   200014 756100                    STQ     ANY_FILES_FOUND+2,,AUTO
         9 000534   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000535   000020 631400 xsym               EPPR1   B_VECTNIL+16
         9 000536   000000 701000 xent               TSX1    FLI$RPT_ERR
         9 000537   000000 011000                    NOP     0

      221    19167   10                                      IF FPT_EXIT.V.STEPCC# < %MINOR_ERROR

  19167  9 000540   000004 236000 xsym               LDQ     FPT_EXIT+4
         9 000541   777000 316003                    CANQ    -512,DU
         9 000542   000545 601000 9                  TNZ     s:19169

PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:35   
      222    19168   10                                       THEN FPT_EXIT.V.STEPCC# = %MINOR_ERROR;

  19168  9 000543   001000 236003                    LDQ     512,DU
         9 000544   000004 552040 xsym               STBQ    FPT_EXIT+4,'40'O

      223    19169   10                                      FLAG = '1'B;

  19169  9 000545   400000 236003                    LDQ     -131072,DU
         9 000546   200010 756100                    STQ     FLAG,,AUTO

      224    19170   10                                      END;

      225    19171    9                                   END;

      226    19172    8                                END;

  19172  9 000547   000446 710000 9                  TRA     s:19152

      227    19173    7                             END;
      228    19174    6                          WHENALTRETURN
      229    19175    7                          DO;

      230    19176                                           /* CALL FLI$RPT_ERR(E_NO_CODE3,DCB_NUM);   */
      231    19177    7                             END;

      232    19178    6                          END;             /* NOT F$DCB.DESC.DELF#               */

      233    19179    5                       END;

      234    19180    4                    END;                   /* WHENRETURN                         */

      235    19181    4                 DO WHILE('0'B);

  19181  9 000550   000701 710000 9                  TRA     s:19215

      236    19182    4   CHECK_ERR:
      237    19183    4                    IF ERR.ERR# ~= %E$EOF
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:36   

  19183  9 000551   000142 236000 2     CHECK_ERR    LDQ     ERR
         9 000552   377770 376007                    ANQ     131064,DL
         9 000553   000060 116007                    CMPQ    48,DL
         9 000554   000626 600000 9                  TZE     s:19200

      238    19184    4                    THEN
      239    19185    5                    DO;

      240    19186    5                       IF FPT_EXIT.V.STEPCC# < %DISK_ERROR

  19186  9 000555   000004 236000 xsym               LDQ     FPT_EXIT+4
         9 000556   777000 376003                    ANQ     -512,DU
         9 000557   003000 116003                    CMPQ    1536,DU
         9 000560   000563 603000 9                  TRC     s:19188

      241    19187    5                        THEN FPT_EXIT.V.STEPCC# = %DISK_ERROR;

  19187  9 000561   003000 236003                    LDQ     1536,DU
         9 000562   000004 552040 xsym               STBQ    FPT_EXIT+4,'40'O

      242    19188    5                       CALL FLI$RETURN_BUF(BIX);

  19188  9 000563   000027 630400 10                 EPPR0   23
         9 000564   000017 631400 xsym               EPPR1   B_VECTNIL+15
         9 000565   000000 701000 xent               TSX1    FLI$RETURN_BUF
         9 000566   000000 011000                    NOP     0

      243    19189    5                       IF NOT FLAG

  19189  9 000567   200010 234100                    SZN     FLAG,,AUTO
         9 000570   000612 604000 9                  TMI     s:19194

      244    19190    6                       THEN DO;

      245    19191    6                         CALL FLP$WR_FILE_INFO(DCB$,FIT_.PTR$,BLANK6,0,' ', ,ERR,'1'B,
             19191                                   '0'B);
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:37   

  19191  9 000571   000006 236000 10                 LDQ     6
         9 000572   200024 756100                    STQ     ANY_FILES_FOUND+10,,AUTO
         9 000573   000010 237000 10                 LDAQ    8
         9 000574   200022 757100                    STAQ    ANY_FILES_FOUND+8,,AUTO
         9 000575   000001 236000 xsym               LDQ     B_VECTNIL+1
         9 000576   000007 235000 10                 LDA     7
         9 000577   200020 757100                    STAQ    ANY_FILES_FOUND+6,,AUTO
         9 000600   000014 237000 10                 LDAQ    12
         9 000601   200016 757100                    STAQ    ANY_FILES_FOUND+4,,AUTO
         9 000602   000020 237000 10                 LDAQ    16
         9 000603   200014 757100                    STAQ    ANY_FILES_FOUND+2,,AUTO
         9 000604   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000605   000005 631400 10                 EPPR1   5
         9 000606   000000 701000 xent               TSX1    FLP$WR_FILE_INFO
         9 000607   000000 011000                    NOP     0

      246    19192    6                          ANY_FILES_FOUND = '1'B;

  19192  9 000610   400000 236003                    LDQ     -131072,DU
         9 000611   200012 756100                    STQ     ANY_FILES_FOUND,,AUTO

      247    19193    6                          END;

      248    19194    5                       CALL FLI$RPT_ERR(ERR,DCB_NUM);

  19194  9 000612   200005 630500                    EPPR0   DCB_NUM,,AUTO
         9 000613   200015 450500                    STP0    ANY_FILES_FOUND+3,,AUTO
         9 000614   000002 236000 10                 LDQ     2
         9 000615   200014 756100                    STQ     ANY_FILES_FOUND+2,,AUTO
         9 000616   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000617   000020 631400 xsym               EPPR1   B_VECTNIL+16
         9 000620   000000 701000 xent               TSX1    FLI$RPT_ERR
         9 000621   000000 011000                    NOP     0

      249    19195    5                       CALL FLN$DISK_CLOSE_ALL;

PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:38   
  19195  9 000622   000002 631400 xsym               EPPR1   B_VECTNIL+2
         9 000623   000000 701000 xent               TSX1    FLN$DISK_CLOSE_ALL
         9 000624   000000 011000                    NOP     0

      250    19196    5                       RETURN;

  19196  9 000625   000000 702200 xent               TSX2  ! X66_ARET

      251    19197    5                       END;
      252    19198    4                    ELSE
      253    19199    5                    DO;

      254    19200    5                       IF F$DCB.DESC.BAD# AND  NOT FLAG

  19200  9 000626   000145 470400 2                  LDP0    DCB$
         9 000627   000005 236100                    LDQ     5,,PR0
         9 000630   020000 316007                    CANQ    8192,DL
         9 000631   000656 600000 9                  TZE     s:19207
         9 000632   200010 234100                    SZN     FLAG,,AUTO
         9 000633   000656 604000 9                  TMI     s:19207

      255    19201    5                       THEN
      256    19202    6                       DO;

      257    19203    6                         CALL FLP$WR_FILE_INFO(DCB$,FIT_.PTR$,BLANK6,0,' ', ,ERR,'1'B,
             19203                                   '0'B);

  19203  9 000634   000006 236000 10                 LDQ     6
         9 000635   200024 756100                    STQ     ANY_FILES_FOUND+10,,AUTO
         9 000636   000010 237000 10                 LDAQ    8
         9 000637   200022 757100                    STAQ    ANY_FILES_FOUND+8,,AUTO
         9 000640   000001 236000 xsym               LDQ     B_VECTNIL+1
         9 000641   000007 235000 10                 LDA     7
         9 000642   200020 757100                    STAQ    ANY_FILES_FOUND+6,,AUTO
         9 000643   000014 237000 10                 LDAQ    12
         9 000644   200016 757100                    STAQ    ANY_FILES_FOUND+4,,AUTO
         9 000645   000020 237000 10                 LDAQ    16
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:39   
         9 000646   200014 757100                    STAQ    ANY_FILES_FOUND+2,,AUTO
         9 000647   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000650   000005 631400 10                 EPPR1   5
         9 000651   000000 701000 xent               TSX1    FLP$WR_FILE_INFO
         9 000652   000000 011000                    NOP     0

      258    19204    6                          ANY_FILES_FOUND = '1'B;

  19204  9 000653   400000 236003                    LDQ     -131072,DU
         9 000654   200012 756100                    STQ     ANY_FILES_FOUND,,AUTO

      259    19205    6                          END;

  19205  9 000655   000701 710000 9                  TRA     s:19215

      260    19206    5                       ELSE
      261    19207    5                          IF NOT FLAG

  19207  9 000656   200010 234100                    SZN     FLAG,,AUTO
         9 000657   000701 604000 9                  TMI     s:19215

      262    19208    6                          THEN DO;

      263    19209    6                             CALL FLP$WR_FILE_INFO(DCB$,FIT_.PTR$,BLANK6,0,' ', ,
             19209                                      '000000000000'O,'1'B,'0'B);

  19209  9 000660   000006 236000 10                 LDQ     6
         9 000661   200024 756100                    STQ     ANY_FILES_FOUND+10,,AUTO
         9 000662   000030 237000 10                 LDAQ    24
         9 000663   200022 757100                    STAQ    ANY_FILES_FOUND+8,,AUTO
         9 000664   000001 236000 xsym               LDQ     B_VECTNIL+1
         9 000665   000007 235000 10                 LDA     7
         9 000666   200020 757100                    STAQ    ANY_FILES_FOUND+6,,AUTO
         9 000667   000014 237000 10                 LDAQ    12
         9 000670   200016 757100                    STAQ    ANY_FILES_FOUND+4,,AUTO
         9 000671   000020 237000 10                 LDAQ    16
         9 000672   200014 757100                    STAQ    ANY_FILES_FOUND+2,,AUTO
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:40   
         9 000673   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000674   000005 631400 10                 EPPR1   5
         9 000675   000000 701000 xent               TSX1    FLP$WR_FILE_INFO
         9 000676   000000 011000                    NOP     0

      264    19210    6                             ANY_FILES_FOUND = '1'B;

  19210  9 000677   400000 236003                    LDQ     -131072,DU
         9 000700   200012 756100                    STQ     ANY_FILES_FOUND,,AUTO

      265    19211    6                             END;

      266    19212    5                       END;

      267    19213    4                    END;                   /* DO WHILE ('0'B)                    */

      268    19214    3                 END;                      /* NOT ERR                            */

      269    19215    2              CALL FLN$DISK_CLOSE_NEXT(DCB#);

  19215  9 000701   200004 630500                    EPPR0   DCB#,,AUTO
         9 000702   200014 450500                    STP0    ANY_FILES_FOUND+2,,AUTO
         9 000703   200014 630500                    EPPR0   ANY_FILES_FOUND+2,,AUTO
         9 000704   000017 631400 xsym               EPPR1   B_VECTNIL+15
         9 000705   000000 701000 xent               TSX1    FLN$DISK_CLOSE_NEXT
         9 000706   000000 011000                    NOP     0

      270    19216    2              END;                         /* DO WHILE ('1'B)                    */

  19216  9 000707   000054 710000 9                  TRA     s:19047

      271    19217    1   DONE:
      272    19218    1           CALL FLN$DISK_CLOSE_ALL;

  19218  9 000710   000002 631400 xsym  DONE         EPPR1   B_VECTNIL+2
         9 000711   000000 701000 xent               TSX1    FLN$DISK_CLOSE_ALL
         9 000712   000000 011000                    NOP     0
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:41   

      273    19219    1           IF COMMAND = %RETRIEVE

  19219  9 000713   200003 470500                    LDP0    @COMMAND,,AUTO
         9 000714   000000 235100                    LDA     0,,PR0
         9 000715   000034 115007                    CMPA    28,DL
         9 000716   000730 601000 9                  TNZ     s:19226

      274    19220    1           THEN CALL M$CLOSE ( PRE_RET_CLOSE )

  19220  9 000717   000000 630400 xsym               EPPR0   PRE_RET_CLOSE
         9 000720   450001 713400                    CLIMB   alt,close
         9 000721   406000 401760                    pmme    nvectors=13
         9 000722   000724 702000 9                  TSX2    s:19223
         9 000723   000730 710000 9                  TRA     s:19226

      275    19221    1                  WHENALTRETURN
      276    19222    2                  DO;

      277    19223    2                    CALL FLI$RPT_ERR;

  19223  9 000724   000002 631400 xsym               EPPR1   B_VECTNIL+2
         9 000725   000000 701000 xent               TSX1    FLI$RPT_ERR
         9 000726   000000 011000                    NOP     0

      278    19224    2                    ALTRETURN;

  19224  9 000727   000000 702200 xent               TSX2  ! X66_AALT

      279    19225    2                   END;
      280    19226    1           IF NOT ANY_FILES_FOUND

  19226  9 000730   200012 234100                    SZN     ANY_FILES_FOUND,,AUTO
         9 000731   000736 604000 9                  TMI     s:19228

      281    19227    1           THEN CALL FLI$RPT_ERR( E_NOTHING_FOUND );

PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:42   
  19227  9 000732   000032 630400 10                 EPPR0   26
         9 000733   000017 631400 xsym               EPPR1   B_VECTNIL+15
         9 000734   000000 701000 xent               TSX1    FLI$RPT_ERR
         9 000735   000000 011000                    NOP     0

      282    19228    1           RETURN;

  19228  9 000736   000000 702200 xent               TSX2  ! X66_ARET
      283    19229    1   END FLV$VALIDATE;

PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:43   
--  Include file information  --

   FL_PERR_C.:E05TOU  is referenced.
   FLE_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   FLN_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   FM$FIT.:E05TOU  is referenced.
   FM$GRAN.:E05TOU  is referenced.
   B_MICROPS_C.:E05TOU  is referenced.
   FLB_SUBS_C.:E05TOU  is referenced.
   FLI_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_SUBS_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   B_ERRORS_C.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure FLV$VALIDATE.
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:44   

 **** Variables and constants ****

  ****  Section 002  Data  FLV$VALIDATE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   146-0-0/w SBIN        r     1 ARS                      147-0-0/w SBIN        r     1 BIX
   143-0-0/c CHAR(6)     r     1 BLANK6                   140-0-0/d STRC(72)    r     1 BUF_
   100-0-0/d STRC(1080)  r     1 CLOSE_BLOCK_FILE         145-0-0/w PTR         r     1 DCB$
   142-0-0/w STRC        r     1 ERR                      136-0-0/d STRC(72)    r     1 FIT_
   150-0-0/w SBIN        r     1 NBR_GRANS                  6-0-0/d STRC(2088)  r     1 OPEN_BLOCK_FILE

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @COMMAND                  12-0-0/b BIT         r     1 ANY_FILES_FOUND
     6-0-0/w PTR         r     1 CODE3$                     7-0-0/w PTR         r     1 CODE6$
    *0-0-0/w SBIN        r     1 COMMAND                    4-0-0/w UBIN        r     1 DCB#
     5-0-0/w UBIN        r     1 DCB_NUM                   10-0-0/b BIT         r     1 FLAG
    11-0-0/b BIT         r     1 SCAN

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 BREAK_COUNT
     0-0-0/w SBIN        r     1 DEFAULT_GRANS_PER_DISK_BUF
     0-0-0/w PTR         r     1 DISK_FILE_SPEC$            0-0-0/d STRC(2088)  r     1 DISK_OPEN_NEXT
     0-0-0/w PTR         r     1 DPLIST$                    0-0-0/w PTR         r     1 DPRESLIST$
     0-0-0/b STRC(18)    r     1 EFTWORD                    0-0-0/w STRC        r     1 E_NOTHING_FOUND
     0-0-0/d STRC(216)   r     1 FPT_EXIT                   0-0-0/c STRC(72)    r     1 FROM_DISK_ACCT
     0-0-0/c STRC(288)   r     1 FROM_DISK_NAME             0-0-0/d STRC(90)    r     1 FROM_DISK_SN
     0-0-0/d STRC(1080)  r     1 PRE_RET_CLOSE              0-0-0/c STRC(513)   r     1 PRE_RET_KEY
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:45   
     0-0-0/d STRC(2088)  r     1 PRE_RET_OPEN               0-0-0/b STRC(9)     r     1 PRE_RET_REC
     0-0-0/d STRC(432)   r     1 PRE_RET_WRITE              0-0-0/c ASTR(9)     r     1 RET_CMDS_NAME
     0-0-0/w PTR         r     1 SNVECLIST$                 0-0-0/w PTR         r     1 TAPE_DCBLIST$
     0-0-0/w STRC(144)   r     1 TAPE_OPTION

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(324)   r     1 CODE03                     0-0-0/w STRC(108)   r     1 CODE6
     0-0-0/d ASTR(3528)  r     1 F$DCB                      0-0-0/w STRC(180)   r     1 FM$GRAN
     0-0-0N  NULL        r     1 M$DISK_IN


   Procedure FLV$VALIDATE requires 479 words for executable code.
   Procedure FLV$VALIDATE requires 22 words of local(AUTO) storage.

    No errors detected in file FLV$VALIDATE.:E05TSI    .
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:46   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:47   
          MINI XREF LISTING

ANY_FILES_FOUND
     19016**DCL     19034<<ASSIGN  19068<<ASSIGN  19073<<ASSIGN  19101<<ASSIGN  19165<<ASSIGN  19192<<ASSIGN
     19204<<ASSIGN  19210<<ASSIGN  19226>>IF
ARS
     19010**DCL     19152<>CALL
BIX
     19011**DCL     19152<>CALL    19153<>CALL    19188<>CALL
BLANK6
     19004**DCL     19067<>CALL    19072<>CALL    19100<>CALL    19164<>CALL    19191<>CALL    19203<>CALL
     19209<>CALL
BREAK_COUNT
     19014**DCL     19049>>IF
BUF_
     18953**DCL     19152<>CALL
BUF_.W2
     18954**DCL     18955--REDEF
CHECK_ERR
     19183**LABEL   19152--CALLALT
CLOSE_BLOCK_FILE.SN_
     12828**DCL     12828--REDEF
CLOSE_BLOCK_FILE.UTL_
     12829**DCL     12829--REDEF
CLOSE_BLOCK_FILE.V
     12833**DCL     12828--DCLINIT
CLOSE_BLOCK_FILE.V.EXPIRE#
     12843**DCL     12843--REDEF
CLOSE_BLOCK_FILE.V.TYPE#
     12841**DCL     12841--REDEF
CLOSE_BLOCK_FILE.V.XTNSIZE#
     12838**DCL     12838--REDEF   12840--REDEF
CODE03.UGRANS
     18857**DCL     19149>>ASSIGN
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:48   
CODE3$
     19007**DCL     18857--IMP-PTR 19145<<ASSIGN  19146<>CALL    19149>>ASSIGN
CODE6.STOW.EFT
     18864**DCL     18865--REDEF   19122>>ASSIGN
CODE6.STOW.EFT.FSN
     18864**DCL     19115>>ASSIGN
CODE6.STOW.ODFSN
     18865**DCL     19111>>ASSIGN
CODE6.STOW.REEL
     18864**DCL     19117>>ASSIGN
CODE6$
     19008**DCL     18864--IMP-PTR 19104<<ASSIGN  19105<>CALL    19111>>ASSIGN  19115>>ASSIGN  19117>>ASSIGN
     19122>>ASSIGN
COMMAND
        16**DCL        10--PROC    19021>>IF      19021>>IF      19035>>IF      19053>>IF      19084>>IF
     19099>>IF      19102>>IF      19219>>IF
DCB#
     19005**DCL     19048<>CALL    19215<>CALL
DCB$
     19009**DCL     18868--IMP-PTR 19048<>CALL    19067<>CALL    19072<>CALL    19094<>CALL    19100<>CALL
     19108>>IF      19118>>ASSIGN  19119>>ASSIGN  19120>>ASSIGN  19121>>ASSIGN  19142>>IF      19157>>IF
     19157>>IF      19157>>IF      19157>>IF      19164<>CALL    19191<>CALL    19200>>IF      19203<>CALL
     19209<>CALL
DCB_NUM
     19006**DCL     19048<>CALL    19074<>CALL    19152<>CALL    19166<>CALL    19194<>CALL
DEFAULT_GRANS_PER_DISK_BUF
     11379**DCL     19029<>CALL
DISK_CLOSE.SN_
     11056**DCL     11056--REDEF
DISK_CLOSE.UTL_
     11057**DCL     11057--REDEF
DISK_CLOSE.V.EXPIRE#
     11071**DCL     11071--REDEF
DISK_CLOSE.V.TYPE#
     11069**DCL     11069--REDEF
DISK_CLOSE.V.XTNSIZE#
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:49   
     11066**DCL     11066--REDEF   11068--REDEF
DISK_CLOSE_NEXT.SN_
     12525**DCL     12525--REDEF
DISK_CLOSE_NEXT.UTL_
     12526**DCL     12526--REDEF
DISK_CLOSE_NEXT.V.EXPIRE#
     12540**DCL     12540--REDEF
DISK_CLOSE_NEXT.V.TYPE#
     12538**DCL     12538--REDEF
DISK_CLOSE_NEXT.V.XTNSIZE#
     12535**DCL     12535--REDEF   12537--REDEF
DISK_CLOSE_ORDINARY.SN_
     12567**DCL     12567--REDEF
DISK_CLOSE_ORDINARY.UTL_
     12568**DCL     12568--REDEF
DISK_CLOSE_ORDINARY.V.EXPIRE#
     12582**DCL     12582--REDEF
DISK_CLOSE_ORDINARY.V.TYPE#
     12580**DCL     12580--REDEF
DISK_CLOSE_ORDINARY.V.XTNSIZE#
     12577**DCL     12577--REDEF   12579--REDEF
DISK_FILE_SPEC.SPEC
     11421**DCL     11423--REDEF
DISK_FILE_SPEC.SPEC.START
     11422**DCL     11422--REDEF
DISK_FILE_SPEC.SPEC.STOP
     11423**DCL     11423--REDEF
DISK_FILE_SPEC$
     11420**DCL     11421--IMP-PTR
DISK_OPEN.ACSVEH_
     10921**DCL     10922--REDEF
DISK_OPEN.ALTKEYS_
     10927**DCL     10928--REDEF   10928--REDEF
DISK_OPEN.HDR_
     10926**DCL     10927--REDEF
DISK_OPEN.TAB_
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:50   
     10925**DCL     10926--REDEF
DISK_OPEN.UHL_
     10919**DCL     10920--REDEF   10920--REDEF
DISK_OPEN.V.FSN#
     10959**DCL     10959--REDEF   10959--REDEF
DISK_OPEN.WSN_
     10925**DCL     10925--REDEF
DISK_OPEN_NEXT.ACSVEH_
     12351**DCL     12352--REDEF
DISK_OPEN_NEXT.ALTKEYS_
     12357**DCL     12358--REDEF   12358--REDEF
DISK_OPEN_NEXT.HDR_
     12356**DCL     12357--REDEF
DISK_OPEN_NEXT.TAB_
     12355**DCL     12356--REDEF
DISK_OPEN_NEXT.UHL_
     12349**DCL     12350--REDEF   12350--REDEF
DISK_OPEN_NEXT.V.FSN#
     12389**DCL     12389--REDEF   12389--REDEF
DISK_OPEN_NEXT.V.OPER.TEST#
     12360**DCL     19023<<ASSIGN  19027<<ASSIGN
DISK_OPEN_NEXT.WSN_
     12355**DCL     12355--REDEF
DISK_OPEN_ORDINARY.ACSVEH_
     12460**DCL     12461--REDEF
DISK_OPEN_ORDINARY.ALTKEYS_
     12466**DCL     12467--REDEF   12467--REDEF
DISK_OPEN_ORDINARY.HDR_
     12465**DCL     12466--REDEF
DISK_OPEN_ORDINARY.TAB_
     12464**DCL     12465--REDEF
DISK_OPEN_ORDINARY.UHL_
     12458**DCL     12459--REDEF   12459--REDEF
DISK_OPEN_ORDINARY.V.FSN#
     12498**DCL     12498--REDEF   12498--REDEF
DISK_OPEN_ORDINARY.WSN_
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:51   
     12464**DCL     12464--REDEF
DISK_READ.STATION_
     10983**DCL     10984--REDEF
DISK_READ.V.DVBYTE.REREAD#
     10995**DCL     10995--REDEF
DISK_READ.V.INDX#
     10993**DCL     10993--REDEF
DISK_WRITE.STATION_
     11021**DCL     11021--REDEF
DISK_WRITE.V.DVBYTE.VFC#
     11028**DCL     11028--REDEF
DONE
     19218**LABEL   19048--CALLALT
DPLIST$
     11406**DCL     11418--IMP-PTR
DPRESLIST$
     11420**DCL     11420--IMP-PTR
EFTWORD
     11541**DCL     11541--REDEF   19122<<ASSIGN
EFTWORD.CROSS
     11541**DCL     19123>>ASSIGN
ERR
     18970**DCL     19048<>CALL    19059>>IF      19067<>CALL    19072<>CALL    19074<>CALL    19100<>CALL
     19152<>CALL    19154>>IF      19164<>CALL    19166<>CALL    19191<>CALL    19194<>CALL    19203<>CALL
ERR.ERR#
     19000**DCL     19062>>IF      19065>>IF      19065>>IF      19075>>IF      19075>>IF      19075>>IF
     19075>>IF      19075>>IF      19075>>IF      19157>>IF      19183>>IF
E_NOTHING_FOUND
     16058**DCL     19227<>CALL
F$DCB.ACCT#
     18884**DCL     19119>>ASSIGN
F$DCB.ACTPOS
     18900**DCL     18900--REDEF
F$DCB.ARS#
     18874**DCL     18874--REDEF
F$DCB.ATTR
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:52   
     18893**DCL     18894--REDEF
F$DCB.BORROW
     18908**DCL     18908--REDEF   18908--REDEF   18908--REDEF
F$DCB.DCBNAME.L
     18922**DCL     18922--IMP-SIZ
F$DCB.DESC.BAD#
     18882**DCL     19200>>IF
F$DCB.DESC.DELF#
     18881**DCL     19142>>IF
F$DCB.DESC.ODSTOW#
     18882**DCL     19108>>IF
F$DCB.EOMCHAR#
     18878**DCL     18878--REDEF
F$DCB.FLDID
     18903**DCL     18903--REDEF
F$DCB.FORM$
     18897**DCL     18897--REDEF
F$DCB.FSECT
     18913**DCL     18913--REDEF
F$DCB.FSN#
     18890**DCL     18890--REDEF   18890--REDEF   18891--REDEF
F$DCB.HEADER$
     18896**DCL     18896--REDEF
F$DCB.IXTNSIZE#
     18894**DCL     18894--REDEF
F$DCB.LASTSTA$
     18883**DCL     18883--REDEF
F$DCB.LVL
     18909**DCL     18909--REDEF
F$DCB.NAME#.C
     18884**DCL     18884--REDEF   19121>>ASSIGN
F$DCB.NAME#.L
     18884**DCL     19120>>ASSIGN
F$DCB.NOEOF
     18906**DCL     18906--REDEF
F$DCB.NRECS#
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:53   
     18895**DCL     18895--REDEF
F$DCB.NRECX
     18914**DCL     18914--REDEF
F$DCB.OHDR
     18906**DCL     18906--REDEF
F$DCB.ORG#
     18889**DCL     18889--REDEF   19157>>IF      19157>>IF      19157>>IF      19157>>IF
F$DCB.PRECNO
     18912**DCL     18912--REDEF
F$DCB.PSN#
     18884**DCL     19118>>ASSIGN
F$DCB.RCSZ
     18918**DCL     18918--REDEF
F$DCB.RES#
     18885**DCL     18885--REDEF
F$DCB.SETX
     18897**DCL     18897--REDEF
F$DCB.TAB$
     18897**DCL     18897--REDEF
F$DCB.TDA
     18911**DCL     18912--REDEF
F$DCB.WSN#
     18885**DCL     18885--REDEF
FIT_
     18936**DCL     19048<>CALL
FIT_.PTR$
     18938**DCL     19094<>CALL    19100<>CALL    19104>>ASSIGN  19145>>ASSIGN  19164<>CALL    19191<>CALL
     19203<>CALL    19209<>CALL
FIT_.W2
     18937**DCL     18938--REDEF
FLAG
     19013**DCL     19047<<ASSIGN  19157>>IF      19169<<ASSIGN  19189>>IF      19200>>IF      19207>>IF
FLC$CRIT_CHECK
     18840**DCL-ENT 19094--CALL
FLI$DISK_READ
     18848**DCL-ENT 19152--CALL
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:54   
FLI$DISK_READ_FILE_INIT
     18850**DCL-ENT 19150--CALL
FLI$DISK_READ_INIT
     18847**DCL-ENT 19029--CALL
FLI$RETURN_BUF
     18849**DCL-ENT 19153--CALL    19188--CALL
FLI$RPT_ERR
     18846**DCL-ENT 19040--CALL    19074--CALL    19128--CALL    19166--CALL    19194--CALL    19223--CALL
     19227--CALL
FLN$DISK_CLOSE_ALL
     18845**DCL-ENT 19052--CALL    19083--CALL    19195--CALL    19218--CALL
FLN$DISK_CLOSE_NEXT
     18844**DCL-ENT 19215--CALL
FLN$DISK_IO_INIT
     18841**DCL-ENT 19033--CALL
FLN$DISK_OPEN_NEXT
     18843**DCL-ENT 19048--CALL
FLP$WR_FILE_INFO
     18842**DCL-ENT 19032--CALL    19067--CALL    19072--CALL    19100--CALL    19164--CALL    19191--CALL
     19203--CALL    19209--CALL
FM$GRAN
     18853**DCL     19104--ASSIGN  19145--ASSIGN
FPT_EXIT.V.STEPCC#
     10846**DCL     10846--REDEF   19078>>IF      19079<<ASSIGN  19167>>IF      19168<<ASSIGN  19186>>IF
     19187<<ASSIGN
FROM_DISK_ACCT
     12242**DCL     12766--DCLINIT
FROM_DISK_NAME
     12216**DCL     12762--DCLINIT
FROM_DISK_SN
     12268**DCL     12761--DCLINIT
M$CLOSE
      5508**DCL-ENT 19054--CALL    19085--CALL    19129--CALL    19220--CALL
M$OPEN
      5508**DCL-ENT 19038--CALL
M$WRITE
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:55   
      5509**DCL-ENT 19125--CALL
NBR_GRANS
     19012**DCL     19149<<ASSIGN  19150>>CALL
OPEN_BLOCK_FILE.ACSVEH_
     12763**DCL     12764--REDEF
OPEN_BLOCK_FILE.ALTKEYS_
     12769**DCL     12770--REDEF   12770--REDEF
OPEN_BLOCK_FILE.HDR_
     12768**DCL     12769--REDEF
OPEN_BLOCK_FILE.TAB_
     12767**DCL     12768--REDEF
OPEN_BLOCK_FILE.UHL_
     12761**DCL     12762--REDEF   12762--REDEF
OPEN_BLOCK_FILE.V
     12770**DCL     12761--DCLINIT
OPEN_BLOCK_FILE.V.FSN#
     12801**DCL     12801--REDEF   12801--REDEF
OPEN_BLOCK_FILE.WSN_
     12767**DCL     12767--REDEF
PRE_RET_CLOSE
     11784**DCL     19054<>CALL    19085<>CALL    19129<>CALL    19220<>CALL
PRE_RET_CLOSE.SN_
     11784**DCL     11784--REDEF
PRE_RET_CLOSE.UTL_
     11785**DCL     11785--REDEF
PRE_RET_CLOSE.V.EXPIRE#
     11799**DCL     11799--REDEF
PRE_RET_CLOSE.V.TYPE#
     11797**DCL     11797--REDEF
PRE_RET_CLOSE.V.XTNSIZE#
     11794**DCL     11794--REDEF   11796--REDEF
PRE_RET_KEY
     11551**DCL     19043--ASSIGN
PRE_RET_KEY.ACCT
     11552**DCL     19119<<ASSIGN
PRE_RET_KEY.FNAME.C
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:56   
     11552**DCL     19121<<ASSIGN
PRE_RET_KEY.FNAME.L
     11552**DCL     19120<<ASSIGN
PRE_RET_KEY.FSN
     11552**DCL     19111<<ASSIGN  19115<<ASSIGN
PRE_RET_KEY.KL
     11551**DCL     19043<<ASSIGN
PRE_RET_KEY.PSN
     11552**DCL     19118<<ASSIGN
PRE_RET_KEY.RES
     11551**DCL     19110<<ASSIGN  19114<<ASSIGN
PRE_RET_KEY.SN
     11552**DCL     19117<<ASSIGN
PRE_RET_OPEN
     11717**DCL     19038<>CALL
PRE_RET_OPEN.ACSVEH_
     11719**DCL     11720--REDEF
PRE_RET_OPEN.ALTKEYS_
     11725**DCL     11726--REDEF   11726--REDEF
PRE_RET_OPEN.HDR_
     11724**DCL     11725--REDEF
PRE_RET_OPEN.TAB_
     11723**DCL     11724--REDEF
PRE_RET_OPEN.UHL_
     11717**DCL     11718--REDEF   11718--REDEF
PRE_RET_OPEN.V.FSN#
     11757**DCL     11757--REDEF   11757--REDEF
PRE_RET_OPEN.V.FUN#
     11736**DCL     19037<<ASSIGN
PRE_RET_OPEN.WSN_
     11723**DCL     11723--REDEF
PRE_RET_READ.STATION_
     11574**DCL     11575--REDEF
PRE_RET_READ.V.DVBYTE.REREAD#
     11586**DCL     11586--REDEF
PRE_RET_READ.V.INDX#
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:57   
     11584**DCL     11584--REDEF
PRE_RET_REC.CROSS
     11553**DCL     19123<<ASSIGN
PRE_RET_REC.IOERRORC
     11553**DCL     19124<<ASSIGN
PRE_RET_WRITE
     11610**DCL     19125<>CALL
PRE_RET_WRITE.STATION_
     11612**DCL     11612--REDEF
PRE_RET_WRITE.V.DVBYTE.VFC#
     11619**DCL     11619--REDEF
READ_AD_OR_FD.ACSVEH_
     12653**DCL     12654--REDEF
READ_AD_OR_FD.ALTKEYS_
     12659**DCL     12660--REDEF   12660--REDEF
READ_AD_OR_FD.HDR_
     12658**DCL     12659--REDEF
READ_AD_OR_FD.TAB_
     12657**DCL     12658--REDEF
READ_AD_OR_FD.UHL_
     12651**DCL     12652--REDEF   12652--REDEF
READ_AD_OR_FD.V.FSN#
     12691**DCL     12691--REDEF   12691--REDEF
READ_AD_OR_FD.WSN_
     12657**DCL     12657--REDEF
RET_CMDS_NAME.L#
     11828**DCL     11828--IMP-SIZ
SCAN
     19015**DCL     19024<<ASSIGN  19028<<ASSIGN  19097>>IF
SNVECLIST$
     11360**DCL     11360--IMP-PTR
SPEC.START
     11424**DCL     11425--REDEF
SPEC.STOP
     11425**DCL     11426--REDEF
SPECCHARS
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:58   
     11424**DCL     11424--REDEF
TAPE_CLOSE.SN_
     11277**DCL     11277--REDEF
TAPE_CLOSE.UTL_
     11278**DCL     11278--REDEF
TAPE_CLOSE.V.EXPIRE#
     11292**DCL     11292--REDEF
TAPE_CLOSE.V.TYPE#
     11290**DCL     11290--REDEF
TAPE_CLOSE.V.XTNSIZE#
     11287**DCL     11287--REDEF   11289--REDEF
TAPE_DCBLIST$
     10833**DCL     10833--IMP-PTR
TAPE_OPEN.ACSVEH_
     11142**DCL     11143--REDEF
TAPE_OPEN.ALTKEYS_
     11148**DCL     11149--REDEF   11149--REDEF
TAPE_OPEN.HDR_
     11147**DCL     11148--REDEF
TAPE_OPEN.TAB_
     11146**DCL     11147--REDEF
TAPE_OPEN.UHL_
     11140**DCL     11141--REDEF   11141--REDEF
TAPE_OPEN.V.FSN#
     11180**DCL     11180--REDEF   11180--REDEF
TAPE_OPEN.WSN_
     11146**DCL     11146--REDEF
TAPE_OPTION.IOERRORC
     11545**DCL     19124>>ASSIGN
TAPE_READ.STATION_
     11204**DCL     11205--REDEF
TAPE_READ.V.DVBYTE.REREAD#
     11216**DCL     11216--REDEF
TAPE_READ.V.INDX#
     11214**DCL     11214--REDEF
TAPE_WRITE.STATION_
PL6.E3A0      #001=FLV$VALIDATE File=FLV$VALIDATE.:E05TSI                        TUE 07/29/97 16:29 Page:59   
     11242**DCL     11242--REDEF
TAPE_WRITE.V.DVBYTE.VFC#
     11249**DCL     11249--REDEF
TVECTOR.W2
     11373**DCL     11374--REDEF
XSF$LOCCODP
     18851**DCL-ENT 19105--CALL    19146--CALL

VERSION E05

PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:1    
        1        1        /*T***********************************************************/
        2        2        /*T*                                                         */
        3        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        4        4        /*T*                                                         */
        5        5        /*T***********************************************************/
        6        6        /*X* DMR,PLM=6,IND=4,CSU=2,EXM=0,ECU=2,MOC,DCI=4,CRT=4,CTI=8,CCC */
        7        7        VYO$DEL_UNIT:
        8        8              PROC( DCB#, DEL_INVERSION, DEL_HEAD, ISSUE_MESSAGE, LEMUR_UTS, COMPILE_UTS );
        9        9        %INCLUDE VY_INC_C;
       10     9185        %VY$NODE;

              9197    1   /*******************************************************************************
              9198    1   *                                                                              *
              9199    1   *                          VY$NODE                                                 *
              9200    1   *                                                                              *
              9201    1   *******************************************************************************/

              9217    1   DCL 1 VY$NODE      ALIGNED    BASED,
              9218    1         2 SON$ PTR /*(ADDR(NIL))*/, /* Son pointer                      */
              9219    1         2 BROTHER$ PTR /*(ADDR(NIL))*/, /* Brother pointer              */
              9220    1         2 FATHER$ PTR /*(ADDR(NIL))*/, /* Father pointer                */
              9221    1         2 PATH$ PTR /*(ADDR(NIL))*/, /* Path   pointer                  */
              9222    1         2 HEAD$       PTR /*(ADDR(NIL))*/, /* Head pointer to
              9223                              to list of file nodes for this node            */
              9224    1         2 TAIL$ PTR /*(ADDR(NIL))*/, /* Tail pointer to list            */
              9225    1         2 SHARED_LIB_HEAD$ PTR /*(ADDR(NIL))*/,
              9225                  /* Head pointer to shared library list */
              9226    1         2 LIB_HEAD$         PTR /*(ADDR(NIL))*/,
              9226                  /* Head pointer to list of shared libraries
              9227                                          which have been mapped to included libraries */
              9228    1         2 NUM          UBIN(36)  UNAL,    /* Node number                        */
              9229    1         2 DEPTH          UBIN(36)  UNAL,  /* Depth; ROOT=0*/
              9230    1         2 ADDR_START_A(0:2/*@ROS*/) SBIN WORD /*(0*3)*/, /* Array            */
              9231    1         2 ADDR_START REDEF  ADDR_START_A,
              9232    1           3 RDATA       SBIN WORD,   /* First address for this node in data     */
              9233    1           3 RPROC       SBIN WORD,   /* First address for this node in proc     */
              9234    1           3 ROS       SBIN WORD,          /* Last address for program in ros    */
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:2    
              9235    1         2 ADDR_STOP_A(0:2/*@ROS*/) SBIN WORD /*(-1*3)*/, /* Array            */
              9236    1         2 ADDR_STOP  REDEF  ADDR_STOP_A,
              9237    1           3 RDATA       SBIN WORD,        /* Last address for this node in data */
              9238    1           3 RPROC       SBIN WORD,        /* Last address for this node in proc */
              9239    1           3 ROS       SBIN WORD,          /* Last address for program in ros    */
              9240    1         2 START_PAGE#_A(0:2/*@ROS*/) SBIN WORD /*(0*3)*/, /* Array           */
              9241    1         2 START_PAGE# REDEF START_PAGE#_A,
              9242    1           3 RDATA       SBIN WORD,   /* First page    for this node in data     */
              9243    1           3 RPROC       SBIN WORD,   /* First page    for this node in proc     */
              9244    1           3 ROS       SBIN WORD,          /* First page   for program in ros    */
              9245    1         2 STOP_PAGE#_A(0:2/*@ROS*/) SBIN WORD /*(-1*3)*/, /* Array*/
              9246    1         2 STOP_PAGE#  REDEF STOP_PAGE#_A,
              9247    1           3 RDATA       SBIN WORD,   /* Last  page    for this node in data     */
              9248    1           3 RPROC       SBIN WORD,   /* Last  page    for this node in proc     */
              9249    1           3 ROS       SBIN WORD,          /* Last  page   for program in ros    */
              9250    1         2 START_SC_ALL$ PTR /*(ADDR(NIL))*/,
              9250                  /* Starting pointer for common sections for this node */
              9251    1         2 STOP_SC_ALL$ PTR /*(ADDR(NIL))*/,
              9251                  /* Stopping pointer for common sections for this node */
              9252    1         2 L_START,
              9253    1           3 SN$ PTR /*(ADDR(NIL))*/, /* Segment definition names        */
              9254    1           3 DN$ PTR /*(ADDR(NIL))*/, /* Def names                       */
              9255    1           3 RN$ PTR /*(ADDR(NIL))*/, /* Ref names                       */
              9256    1           3 SC$ PTR /*(ADDR(NIL))*/, /* Sections                        */
              9257    1           3 ED$ PTR /*(ADDR(NIL))*/, /* Entry defs*/
              9258    1           3 ER$ PTR /*(ADDR(NIL))*/, /* Entry refs*/
              9259    1           3 DD$ PTR /*(ADDR(NIL))*/, /* Data defs                       */
              9260    1           3 DR$ PTR /*(ADDR(NIL))*/, /* Data refs                       */
              9261    1           3 SD$ PTR /*(ADDR(NIL))*/, /* Seg defs                        */
              9262    1           3 SR$ PTR /*(ADDR(NIL))*/, /* Seg refs                        */
              9263    1         2 L_START_A$(0:9)     REDEF L_START PTR,
              9264    1         2 L_STOP,
              9265    1           3 SN$ PTR /*(ADDR(NIL))*/, /* Segment definition names        */
              9266    1           3 DN$ PTR /*(ADDR(NIL))*/, /* Def names                       */
              9267    1           3 RN$ PTR /*(ADDR(NIL))*/, /* Ref names                       */
              9268    1           3 SC$ PTR /*(ADDR(NIL))*/, /* Sections                        */
              9269    1           3 ED$ PTR /*(ADDR(NIL))*/, /* Entry defs*/
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:3    
              9270    1           3 ER$ PTR /*(ADDR(NIL))*/, /* Entry refs*/
              9271    1           3 DD$ PTR /*(ADDR(NIL))*/, /* Data defs                       */
              9272    1           3 DR$ PTR /*(ADDR(NIL))*/, /* Data refs                       */
              9273    1           3 SD$ PTR /*(ADDR(NIL))*/, /* Seg defs                        */
              9274    1           3 SR$ PTR /*(ADDR(NIL))*/, /* Seg refs                        */
              9275    1         2 L_STOP_A$(0:9) REDEF   L_STOP    PTR,
              9276    1         2 L_SIZE,
              9277    1           3 SN      UBIN /*(0)*/, /* Segment definition names           */
              9278    1           3 DN      UBIN /*(0)*/, /* Def names                          */
              9279    1           3 RN      UBIN /*(0)*/, /* Ref names                          */
              9280    1           3 SC      UBIN /*(0)*/, /* Sections                           */
              9281    1           3 ED      UBIN /*(0)*/, /* Entry defs*/
              9282    1           3 ER      UBIN /*(0)*/, /* Entry refs*/
              9283    1           3 DD      UBIN /*(0)*/, /* Data defs                          */
              9284    1           3 DR      UBIN /*(0)*/, /* Data refs                          */
              9285    1           3 SD      UBIN /*(0)*/, /* Seg defs                           */
              9286    1           3 SR      UBIN /*(0)*/, /* Seg refs                           */
              9287    1         2 L_SIZE_A(0:9)  REDEF   L_SIZE    UBIN,
              9288    1         2 L_PREV_SIZE,
              9289    1           3 SN      UBIN /*(0)*/, /* Segment definition names           */
              9290    1           3 DN      UBIN /*(0)*/, /* Def names                          */
              9291    1           3 RN      UBIN /*(0)*/, /* Ref names                          */
              9292    1           3 SC      UBIN /*(0)*/, /* Sections                           */
              9293    1           3 ED      UBIN /*(0)*/, /* Entry defs*/
              9294    1           3 ER      UBIN /*(0)*/, /* Entry refs*/
              9295    1           3 DD      UBIN /*(0)*/, /* Data defs                          */
              9296    1           3 DR      UBIN /*(0)*/, /* Data refs                          */
              9297    1           3 SD      UBIN /*(0)*/, /* Seg defs                           */
              9298    1           3 SR      UBIN /*(0)*/, /* Seg refs                           */
              9299    1         2 L_PREV_SIZE_A(0:9)  REDEF   L_PREV_SIZE    UBIN,
              9300    1         2 BIT_MAP                ALIGNED,
              9301    1           3 DATA                  ALIGNED,
              9302    1             4 BITS(0:255)          BIT(1)    UNAL /*('0'B*256)*/,
              9303    1           3 RPROC                 ALIGNED,
              9304    1             4 BITS(0:255)          BIT(1)    UNAL /*('0'B*256)*/,
              9305    1           3 ROS                   ALIGNED,
              9306    1             4 BITS(0:255)          BIT(1)    UNAL /*('0'B*256)*/,
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:4    
              9307    1         2 L_SC_START,
              9308    1           3 SC_BLK_COM$ PTR /*(ADDR(NIL))*/, /* Blank common            */
              9309    1           3 SC_ROOT_LBL_COM$ PTR /*(ADDR(NIL))*/, /* Root labelled common */
              9310    1           3 SC_LBL_COM$ PTR /*(ADDR(NIL))*/, /* Labelled common         */
              9311    1           3 SC_DCB$ PTR /*(ADDR(NIL))*/, /* Dcbs                        */
              9312    1         2 L_SC_START_A$(0:3)  REDEF L_SC_START PTR,
              9313    1         2 L_SC_STOP,
              9314    1           3 SC_BLK_COM$ PTR /*(ADDR(NIL))*/, /* Blank common            */
              9315    1           3 SC_ROOT_LBL_COM$ PTR /*(ADDR(NIL))*/, /* Root labelled common */
              9316    1           3 SC_LBL_COM$ PTR /*(ADDR(NIL))*/, /* Labelled common         */
              9317    1           3 SC_DCB$ PTR /*(ADDR(NIL))*/, /* Dcbs                        */
              9318    1         2 L_SC_STOP_A$(0:3)   REDEF L_SC_STOP  PTR,
              9319    1         2 PROMOTE_HEAD,
              9320    1           3 BLK_COM$              PTR /*(ADDR(NIL))*/,
              9321    1           3 LBL_COM$              PTR /*(ADDR(NIL))*/,
              9322    1         2 PROMOTE_HEAD_A$(0:1) REDEF PROMOTE_HEAD     PTR,
              9323    1         2 PROMOTE_TAIL,
              9324    1           3 BLK_COM$              PTR /*(ADDR(NIL))*/,
              9325    1           3 LBL_COM$              PTR /*(ADDR(NIL))*/,
              9326    1         2 PROMOTE_TAIL_A$(0:1) REDEF PROMOTE_TAIL     PTR,
              9327    1         2 HAVE_ASL          BIT(1)    UNAL /*('0'B)*/,
              9328    1         2 ALL_BLK_COM          BIT(1)    UNAL /*('0'B)*/,
              9329    1         2 *                 BIT(34)   UNAL /*('0'B)*/,
              9330    1         2 BLANK_COMMON$     PTR       ALIGNED /*(ADDR(NIL))*/;

       11     9334        %VYD$TMPLT;

              9346    1   /*******************************************************************************
              9347    1   *                                                                              *
              9348    1   *                          VYD$TMPLT                                               *
              9349    1   *                                                                              *
              9350    1   *******************************************************************************/

              9355    1   DCL 1 VYD$TMPLT          ALIGNED BASED, /* Template for defs                  */
              9356    1         2 A(0:3)       UBIN(18)  UNAL,    /* Array ...                          */
              9357    1         2 A_SBIN(0:3) REDEF A    SBIN HALF UNAL,
              9358    1         2 I       REDEF     A,            /* Items                              */
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:5    
              9359    1           3 WHERE        UBIN( 3) UNAL,   /* Source of def                      */
              9360                                                                /* Value from
              9361                                                                     0   object
              9362                                                                     1   library */
              9363    1           3 DEFINED      BIT( 1) UNAL,    /* Defined or not                     */
              9364    1           3 B                      UNAL,
              9365    1             4 MULTIPLY    BIT(1) UNAL,    /* Multiply defined                   */
              9366    1           3 SC#          UBIN(13) UNAL,   /* Section #                          */
              9367    1           3 AFTER        REDEF SC#      UNAL,
              9368    1             4 USED        BIT(1) UNAL,    /* Used or not                        */
              9369    1             4 *           BIT(12) UNAL,
              9370    1           3 OFFSET      UBIN(18) UNAL,    /* Offset/address                     */
              9371    1           3 NAME_DISP   UBIN(18) UNAL,    /* Displacement to name(in words)     */
              9372    1           3 NAME_DISP_SBIN REDEF NAME_DISP   SBIN HALF UNAL,
              9373    1           3 P           UBIN( 1) UNAL,    /* Primary entdef                     */
              9374    1           3 C REDEF P   BIT(  1) UNAL,    /* Constant bit for symdefs           */
              9375    1           3 A           UBIN( 1) UNAL,    /* Altret specified                   */
              9376    1           3 MULTIPLY REDEF A BIT(1) UNAL, /* Multiply defined for constant sym defs */
              9377    1           3 I           BIT(  1) UNAL,    /* Argument/parameter check           */
              9378    1           3 USED    REDEF I  BIT(1) UNAL, /* Used or not for constant sym defs  */
              9379    1           3 CST         UBIN( 4) UNAL,    /* Calling sequence type              */
              9380    1           3 WHERE_C REDEF CST UBIN(4) UNAL, /* Source of def for constant sym defs */
              9381    1           3 NP          UBIN(11) UNAL,    /* # of parameters                    */
              9382    1           3 IS_DCB  REDEF     NP,
              9383    1             4 DCB_BIT     BIT(1)    UNAL,
              9384    1             4 *           BIT(10)   UNAL,
              9385    1         2 SEG REDEF A,
              9386    1           3 *             UBIN      UNAL,
              9387    1           3 NPOINTER      UBIN(18)  UNAL,
              9388    1           3 CONSTNT       BIT(1)    UNAL,
              9389    1           3 TYPE          UBIN(5)   UNAL,
              9390    1           3 SEGID         UBIN(12)  UNAL,
              9391    1         2 V REDEF A,
              9392    1           3 VALUE       UBIN(36) UNAL,    /* Value if C=1                       */
              9393    1           3 *           UBIN(36) UNAL,
              9394    1         2 S  REDEF  A,                    /* Value if C=1                       */
              9395    1           3 *         UBIN(24) UNAL,
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:6    
              9396    1           3 SEGID     UBIN(12) UNAL,
              9397    1           3 *         UBIN     UNAL;
       12     9400        %B$DNAME( NAME=B$DNAME, STCLASS=BASED );
       13     9419        %P;

              9427    1   /*******************************************************************************
              9428    1   *                                                                              *
              9429    1   *                          PARAMETERS                                              *
              9430    1   *                                                                              *
              9431    1   *******************************************************************************/

       14     9435    1   DCL DCB#       UBIN(36)  ALIGNED;
       15     9436    1   DCL DEL_INVERSION   BIT(1)    ALIGNED;
       16     9437    1   DCL DEL_HEAD        BIT(1)    ALIGNED;
       17     9438    1   DCL ISSUE_MESSAGE  BIT(1)    ALIGNED;
       18     9439    1   DCL LEMUR_UTS  UBIN(36)  ALIGNED;
       19     9440    1   DCL COMPILE_UTS     UBIN(36)  ALIGNED;
       20     9441        %BANNER( ARG=SUBS );

              9449    1   /*******************************************************************************
              9450    1   *                                                                              *
              9451    1   *                          SUBS                                                 *
              9452    1   *                                                                              *
              9453    1   *******************************************************************************/

       21     9457        %B$RECORDSUBS;
       22     9485        %BANNER( ARG=KEYS );

              9493    1   /*******************************************************************************
              9494    1   *                                                                              *
              9495    1   *                          KEYS                                                 *
              9496    1   *                                                                              *
              9497    1   *******************************************************************************/

       23     9501        %B$PLOVERKEY( NAME=PLOVER_KEY, STCLASS=STATIC );
       24     9531        %B$PLOVERBIRTHKEY( NAME=PLOVER_BIRTH_KEY, STCLASS=STATIC );
       25     9554        %O_KEY_BUF(KEYBUF=KEY_BUF, STCLASS="STATIC SYMDEF", INT="INIT(0)");
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:7    
       26     9577        %O_KEY_BUF(KEYBUF=KEY_BUF_L, STCLASS="STATIC SYMDEF", INT="INIT(0)");
       27     9600        %BANNER( ARG="FPTs and DCBs" );

              9608    1   /*******************************************************************************
              9609    1   *                                                                              *
              9610    1   *                          FPTs and DCBs                                           *
              9611    1   *                                                                              *
              9612    1   *******************************************************************************/

       28     9616        %FPT_DELREC(FPTN=FPT_DELREC,
       29     9617                          STCLASS=STATIC,
       30     9618                          DCB=M$OF,
       31     9619                          KEY=KEY_BUF);
       32     9638    1   DCL M$OF       DCB;
       33     9639    1   DCL M$RF       DCB;
       34     9640        %E;

              9648    1   /*******************************************************************************
              9649    1   *                                                                              *
              9650    1   *                          ENTRY                                                 *
              9651    1   *                                                                              *
              9652    1   *******************************************************************************/

       35     9656        %ENTRIES;
       36     9671        %ENTRIES_IO;
       37     9680    1   DCL VYU$DELETE_UTS     ENTRY(3)       ALTRET;
       38     9681        %PTR;

              9689    1   /*******************************************************************************
              9690    1   *                                                                              *
              9691    1   *                          PTR                                                 *
              9692    1   *                                                                              *
              9693    1   *******************************************************************************/

       39     9697        %POINTER;
       40     9702    1   DCL  WHERE$         PTR  ALIGNED   STATIC/*AUTO*/;
       41     9703    1   DCL  PP$            PTR  ALIGNED   STATIC/*AUTO*/;
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:8    
       42     9704    1   DCL  NAME$          PTR  ALIGNED   STATIC/*AUTO*/;
       43     9705    1   DCL  DNAME$          PTR  ALIGNED   STATIC/*AUTO*/;
       44     9706    1   DCL  START$          PTR  ALIGNED   STATIC/*AUTO*/;
       45     9707    1   DCL  BUFFER$        PTR  ALIGNED   STATIC/*AUTO*/;
       46     9708        %U;

              9716    1   /*******************************************************************************
              9717    1   *                                                                              *
              9718    1   *                          UBIN                                                 *
              9719    1   *                                                                              *
              9720    1   *******************************************************************************/

       47     9724        %INDEX;
       48     9734    1   DCL ALL_TYPE        UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       49     9735    1   DCL HEAD_INX        UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       50     9736    1   DCL TSIZE           UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       51     9737    1   DCL PAGE            UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       52     9738    1   DCL GET             UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       53     9739    1   DCL NPAGE           UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       54     9740    1   DCL TSIZE_READ      UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       55     9741    1   DCL ALL_A(0:6/*@DD*/)      SBIN WORD ALIGNED   STATIC/*AUTO*/;
       56     9742    1   DCL  REC_TYPE       UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       57     9743    1   DCL WSIZE           UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       58     9744    1   DCL SIZE           UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       59     9745        /**/
       60     9746        /**/
       61     9747        /**/
       62     9748    1   DCL CHAR$CHAR  CHAR(VY_IO_SIZEC)   BASED(BUFFER$);
       63     9749    1   DCL SAVE_START$(0:4)   PTR  ALIGNED   STATIC/*AUTO*/;
       64     9750    1   DCL SAVE_STOP$(0:4)    PTR  ALIGNED   STATIC/*AUTO*/;
       65     9751    1   DCL SAVE_SIZE(0:4)     UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       66     9752    1   DCL SAVE_PREV_SIZE(0:4)     UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       67     9753    1   DCL VYI_ROLLBACK BIT(1) SYMREF;
       68     9754    1   DCL DN_START$ PTR;
       69     9755        %EJECT;
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:9    
       70     9756        /*Delete head record */
       71     9757    1         FPT_DELREC.LKEY_ = VECTOR(NIL);
       72     9758    2         DO CASE( DCB# );
       73     9759    2           CASE( 0/*@OF*/ );
       74     9760    2             FPT_DELREC.V.DCB# = DCBNUM(M$OF);
       75     9761    2           CASE( 1/*@RF*/ );
       76     9762    2             FPT_DELREC.V.DCB# = DCBNUM( M$RF );
       77     9763    2           END;                            /* Do case( DCB# ); */
       78     9764    2         IF DEL_INVERSION OR VYI_ROLLBACK THEN DO;
       79     9765    3             IF DEL_INVERSION THEN DO;
       80     9766    3                 VY_ED_START$ = ADDR(NIL);
       81     9767    3                 DN_START$ = ADDR(NIL);
       82     9768    4                 DO I = 0 TO SIZEW( VY_DEF_REC_A ) -2;
       83     9769    4                     REC_TYPE = VY_DEF_REC_A(I); /* Get record type */
       84     9770    4                     SAVE_START$(I) = VY_CURR$ -> VY$NODE.L_START_A$(REC_TYPE);
       85     9771    4                     SAVE_STOP$(I) = VY_CURR$ -> VY$NODE.L_STOP_A$(REC_TYPE);
       86     9772    4                     SAVE_SIZE(I) = VY_CURR$ -> VY$NODE.L_SIZE_A(REC_TYPE);
       87     9773    4                     SAVE_PREV_SIZE(I) = VY_CURR$ -> VY$NODE.L_PREV_SIZE_A(REC_TYPE);
       88     9774    4                     ALL_A(REC_TYPE) = 0;
       89     9775    4                     ALL_TYPE = VY_PASS1_ALL_TYPE(REC_TYPE);
       90     9776    4                     HEAD_INX = VY_HEAD_INX(REC_TYPE); /* Get index into head record */
       91     9777    4                     TSIZE = VY_OU_HEAD.REC_A.SIZE(HEAD_INX);
              9777                              /* Get total size for this record type */
       92     9778    4                     PAGE = VY_OU_HEAD.REC_A.PAGE(HEAD_INX); /* Get the page size */
       93     9779    4                     GET = TSIZE;
       94     9780    5                     IF TSIZE > 0 THEN DO;
       95     9781    6                         IF REC_TYPE = 4/*@ED*/ THEN DO;
       96     9782    7                             IF MOD( PAGE, 2 ) ~= 0 THEN DO;
              9782                                      /* Not an even page size - bitch */
       97     9783                                      %NUMBER(
       98     9784                                      NUM1=PAGE, SIZE1=6, BASE1=10,
       99     9785                                      NUM2=REC_TYPE, SIZE2=3, BASE2=10 );
      100     9802                                      %SCREAM(
      101     9803                                      ERR#=%E$ODD_PAGE_SIZE_VY,
      102     9804                                      MID="'O'",
      103     9805                                      LEVEL=%@E$F_VY,
      104     9806                                      AUX=%@E$OUOF_VY);
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:10   
      105     9809    7                                 RETURN;
      106     9810    7                                END;
      107     9811    6                            END;
      108     9812                              %ALLOCATE(
      109     9813                              PTR$=START$,
      110     9814                              TYPE=ALL_TYPE,
      111     9815                              SIZE=GET);
      112     9822    5                         CALL VYU$PREAD(
      113     9823    5                                 NPAGE,
      114     9824    5                                 TSIZE_READ,
      115     9825    5                                 DCB#,
      116     9826    5                                 1/*@RF*/,
      117     9827    5                                 REC_TYPE,
      118     9828    5                                 START$,
      119     9829    5                                 PAGE,
      120     9830    5                                 TSIZE,
      121     9831    5                                 ALL_TYPE,
      122     9832    5                                 GET,
      123     9833    5                                 VY_CURR$,
      124     9834    5                                 0/*@SOURCE_OBJECT*/
      125     9835    5                                 );
      126     9836    5                         ALL_A(REC_TYPE) = TSIZE_READ;
      127     9837    6                         IF TSIZE_READ > 0 THEN DO ;
      128     9838    7                             IF REC_TYPE = 4/*@ED*/ THEN DO;
      129     9839    7                                 VY_ED_START$ = START$;
      130     9840    7                                 VY_ED_STOP$ = PINCRW( START$, TSIZE_READ - SIZEW(
              9840                                          VYD$TMPLT ) );
      131     9841    7                                END;
      132     9842    6                             IF REC_TYPE = 1/*@DN*/ THEN
      133     9843    6                                 DN_START$ = START$;
      134     9844    6                            END ;
      135     9845    5                         IF TSIZE_READ < GET THEN CALL VYF$FREE( ALL_TYPE, GET -
              9845                                  TSIZE_READ, 1 );
      136     9846    5                        END;
      137     9847    4                    END;
      138     9848    3                END;
      139     9849    2             P$ = VY_ED_START$;
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:11   
      140     9850    3             IF P$ ~= ADDR(NIL) THEN DO;
      141     9851    3                 IF DN_START$ ~= ADDR(NIL)
      142     9852    3                 THEN
      143     9853    3                     DNAME$ = DN_START$;
      144     9854    3                 ELSE
      145     9855    3                     DNAME$ = VY_ROOT$ -> VY$NODE.L_START.DN$;
      146     9856                      %ALLOCATE(
      147     9857                      PTR$=BUFFER$,
      148     9858                      TYPE=@GDP,
      149     9859                      SIZE=8);
      150     9866    4                 DO WHILE( P$ <= VY_ED_STOP$ );
      151     9867    4                     NAME$ = PINCRW( DNAME$, P$ -> VYD$TMPLT.I.NAME_DISP );
      152     9868    4                     VY_O_KEY_BUF.FORM0.COUNT = NAME$ -> B$DNAME.COUNT;
      153     9869    4                     VY_O_KEY_BUF.FORM0.CHARS = NAME$ -> B$DNAME.TEXT;
      154     9870    4                     CALL VYI$READ(      DCB#,
      155     9871    4                             BUFFER$,
      156     9872    4                             8,
      157     9873    4                             0/*@OF*/,
      158     9874    4                             '1'B )    ALTRET(INC_P);
      159     9875    5                     IF BUFFER$ -> CHAR$CHAR = VY_OK.OUNAME.CHARS THEN DO;
      160     9876    5                         KEY_BUF = VY_O_KEY_BUF;
      161     9877    5                         CALL M$DELREC( FPT_DELREC ) ALTRET(IGNORE1);
      162     9878    5   IGNORE1:              ;
      163     9879    5                        END;               /* If BUFFER$ -> .... */
      164     9880    4   INC_P:
      165     9881    4                     P$ = PINCRW( P$, SIZEW( VYD$TMPLT ) );
      166     9882    4                    END;                   /* Do while( P$ <= VY_ED_STOP$ ); */
      167     9883    3                 CALL VYF$FREE( 8/*@GDP*/, 8, 0 );
      168     9884    3                END;                       /* If P$ ~= addr(nil) then do; */
      169     9885    2             IF DEL_INVERSION
      170     9886    3             THEN DO I = 0 TO SIZEW(VY_DEF_REC_A)-2;
      171     9887    3                 REC_TYPE = VY_DEF_REC_A(I); /* Get record type */
      172     9888    3                 VY_CURR$ -> VY$NODE.L_START_A$(REC_TYPE) = SAVE_START$(I);
      173     9889    3                 VY_CURR$ -> VY$NODE.L_STOP_A$(REC_TYPE) = SAVE_STOP$(I);
      174     9890    3                 VY_CURR$ -> VY$NODE.L_SIZE_A(REC_TYPE) = SAVE_SIZE(I);
      175     9891    3                 VY_CURR$ -> VY$NODE.L_PREV_SIZE_A(REC_TYPE) = SAVE_PREV_SIZE(I);
      176     9892    3                 ALL_TYPE = VY_PASS1_ALL_TYPE(REC_TYPE);
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:12   
      177     9893    3                 IF ALL_A(REC_TYPE) >0 THEN
      178     9894    3                     CALL VYF$FREE( ALL_TYPE, ALL_A(REC_TYPE), 0 );
      179     9895    3                END;                       /* Do i = 0 to 1; */
      180     9896    2            END;                           /* If DEL_INVERSION then do; */
      181     9897        %EJECT;
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:13   
      182     9898        /**/
      183     9899        /**/
      184     9900        /**/
      185     9901        /*    Delete entire object unit                                   */
      186     9902        /**/
      187     9903        /**/
      188     9904        /**/
      189     9905    1         KEY_BUF.FORM0.COUNT = 7;
      190     9906    1         KEY_BUF.FORM1.O777 = BITBIN( '777'O );
      191     9907    1         KEY_BUF.FORM1.REC_TYPE = 1/*@DN*/;
      192     9908    1         KEY_BUF.FORM1.PAGE# = 0;
      193     9909    1         KEY_BUF.FORM1.UTS = LEMUR_UTS;
      194     9910        /**/
      195     9911    1         KEY_BUF_L.FORM0.COUNT = 7;
      196     9912    1         KEY_BUF_L.FORM1.O777 = BITBIN( '777'O );
      197     9913    1         KEY_BUF_L.FORM1.REC_TYPE = 15/*@PN*/;
      198     9914    1         KEY_BUF_L.FORM1.PAGE# = BITBIN( '777'O );
      199     9915    1         KEY_BUF_L.FORM1.UTS = LEMUR_UTS;
      200     9916        /**/
      201     9917    1         FPT_DELREC.LKEY_ = VECTOR( KEY_BUF_L );
      202     9918        /**/
      203     9919        /**/
      204     9920    1         CALL M$DELREC( FPT_DELREC ) ALTRET(IGNORE2);
      205     9921    1   IGNORE2:;
      206     9922        /**/
      207     9923        /**/
      208     9924        /*        Delete plover records for the object unit               */
      209     9925        /**/
      210     9926        /**/
      211     9927    1         PLOVER_BIRTH_KEY.UTS = LEMUR_UTS;
      212     9928    1         PLOVER_KEY.UTS = LEMUR_UTS;
      213     9929    1         PLOVER_KEY.PUTS = BITBIN('777777777777'O);
      214     9930    1         KEY_BUF = PLOVER_BIRTH_KEY;
      215     9931    1         KEY_BUF_L = PLOVER_KEY;
      216     9932    1         CALL M$DELREC( FPT_DELREC ) ALTRET(IGNORE3);
      217     9933    1   IGNORE3:;
      218     9934        /**/
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:14   
      219     9935        /**/
      220     9936        /**/
      221     9937        /**/
      222     9938    2         IF DEL_HEAD THEN DO;
      223     9939    2             FPT_DELREC.LKEY_ = VECTOR(NIL);
      224     9940    2             KEY_BUF.FORM0.COUNT = VY_OK.OUNAME.COUNT + 1;
      225     9941    2             CALL CONCAT(        KEY_BUF.FORM0.CHARS,
      226     9942    2                     '"',
      227     9943    2                     VY_OK.OUNAME.CHARS);
      228     9944    2             CALL M$DELREC( FPT_DELREC ) ALTRET(IGNORE4);
      229     9945    2   IGNORE4:  ;
      230     9946    2            END;
      231     9947        /**/
      232     9948        /**/
      233     9949    2         IF ISSUE_MESSAGE THEN DO;
      234     9950        /*E*  ERROR: VYO-E$DEL_UNIT_VY-0
      235     9951              MESSAGE: Object unit %U2 in file %U1 deleted.
      236     9952              DESCRIPTION: Self-explanatory.
      237     9953        */
      238     9954    2             VY_EFIELD1.COUNT = VY_OK.FILE.OFNAME.COUNT;
      239     9955    2             VY_EFIELD1.CHARS = VY_OK.FILE.OFNAME.CHARS;
      240     9956        /**/
      241     9957    2             VY_EFIELD2.COUNT = VY_OK.OUNAME.COUNT;
      242     9958    2             VY_EFIELD2.CHARS = VY_OK.OUNAME.CHARS;
      243     9959                  %SCREAM(
      244     9960                  ERR#=%E$DEL_UNIT_VY,
      245     9961                  LEVEL=%@E$I_VY,
      246     9962                  MID="'O'");
      247     9965    2            END;
      248     9966        /**/
      249     9967    1   END VYO$DEL_UNIT;

PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:15   
--  Include file information  --

   B$OBJECT_C.:E05TOU  is referenced.
   VY_DCB_R.:E05TOU  cannot be made into a system file and is referenced.
   VY_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   VY_FIXED_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   VY_MACRO_C.:E05TOU  is referenced.
   VY_PERR_C.:E05TOU  is referenced.
   VY_SUBS_C.:E05TOU  is referenced.
   VY_INC_NO_C.:E05TOU  is referenced.
   VY_SWITCH_C.:E05TOU  is referenced.
   VY_INC_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure VYO$DEL_UNIT.

   Procedure VYO$DEL_UNIT requires 361 words for executable code.
   Procedure VYO$DEL_UNIT requires 22 words of local(AUTO) storage.

    No errors detected in file VYO$DEL_UNIT.:E05TSI    .

PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:16   

 Object Unit name= VYO$DEL_UNIT                               File name= VYO$DEL_UNIT.:E05TOU
 UTS= JUL 30 '97 08:57:35.88 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none   324    504  VYO$DEL_UNIT
    2   DCB   even  none     0      0  M$OF
    3   DCB   even  none     0      0  M$RF
    4   Proc  even  none   361    551  VYO$DEL_UNIT
    5  RoData even  none    49     61  VYO$DEL_UNIT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     4      0   yes            yes      Std        6  VYO$DEL_UNIT

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    1      6  KEY_BUF                            1    207  KEY_BUF_L
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:17   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       5 VYD$B2C
         yes           Std       3 VYA$GET
 yes     yes           Std      12 VYU$PREAD
         yes           Std       3 VYF$FREE
 yes     yes           Std       5 VYI$READ
         yes           Std       4 VYE$ERROR
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AUTO_N
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  VY_O_KEY_BUF                          VY_OK
     VY_OU_HEAD                            VY_ROOT$                              VY_CURR$
     VY_ERRORS                             VY_M_FREE                             VY_M_ALL
     VY_M_BASE_PTR                         VY_EFIELD1                            VY_EFIELD2
     VY_IO_SIZEC                      r    VY_PASS1_ALL_TYPE                r    VY_HEAD_INX
r    VY_DEF_REC_A                          VY_PAR_UNWIND                         VY_ED_START$
     VY_ED_STOP$                           M$OF                                  M$RF
     VYI_ROLLBACK                          B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:18   


        1        1        /*T***********************************************************/
        2        2        /*T*                                                         */
        3        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        4        4        /*T*                                                         */
        5        5        /*T***********************************************************/
        6        6        /*X* DMR,PLM=6,IND=4,CSU=2,EXM=0,ECU=2,MOC,DCI=4,CRT=4,CTI=8,CCC */
        7        7        VYO$DEL_UNIT:
        8        8              PROC( DCB#, DEL_INVERSION, DEL_HEAD, ISSUE_MESSAGE, LEMUR_UTS, COMPILE_UTS );

      8  4 000000   000000 700200 xent  VYO$DEL_UNIT TSX0  ! X66_AUTO_N
         4 000001   000026 000006                    ZERO    22,6

        9        9        %INCLUDE VY_INC_C;
       10     9185        %VY$NODE;

              9197    1   /*******************************************************************************
              9198    1   *                                                                              *
              9199    1   *                          VY$NODE                                                *
              9200    1   *                                                                              *
              9201    1   *******************************************************************************/

              9217    1   DCL 1 VY$NODE      ALIGNED    BASED,
              9218    1         2 SON$ PTR /*(ADDR(NIL))*/, /* Son pointer                      */
              9219    1         2 BROTHER$ PTR /*(ADDR(NIL))*/, /* Brother pointer              */
              9220    1         2 FATHER$ PTR /*(ADDR(NIL))*/, /* Father pointer                */
              9221    1         2 PATH$ PTR /*(ADDR(NIL))*/, /* Path   pointer                  */
              9222    1         2 HEAD$       PTR /*(ADDR(NIL))*/, /* Head pointer to
              9223                              to list of file nodes for this node            */
              9224    1         2 TAIL$ PTR /*(ADDR(NIL))*/, /* Tail pointer to list            */
              9225    1         2 SHARED_LIB_HEAD$ PTR /*(ADDR(NIL))*/,
              9225                  /* Head pointer to shared library list */
              9226    1         2 LIB_HEAD$         PTR /*(ADDR(NIL))*/,
              9226                  /* Head pointer to list of shared libraries
              9227                                          which have been mapped to included libraries */
              9228    1         2 NUM          UBIN(36)  UNAL,    /* Node number                        */
              9229    1         2 DEPTH          UBIN(36)  UNAL,  /* Depth; ROOT=0*/
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:19   
              9230    1         2 ADDR_START_A(0:2/*@ROS*/) SBIN WORD /*(0*3)*/, /* Array            */
              9231    1         2 ADDR_START REDEF  ADDR_START_A,
              9232    1           3 RDATA       SBIN WORD,   /* First address for this node in data     */
              9233    1           3 RPROC       SBIN WORD,   /* First address for this node in proc     */
              9234    1           3 ROS       SBIN WORD,          /* Last address for program in ros    */
              9235    1         2 ADDR_STOP_A(0:2/*@ROS*/) SBIN WORD /*(-1*3)*/, /* Array            */
              9236    1         2 ADDR_STOP  REDEF  ADDR_STOP_A,
              9237    1           3 RDATA       SBIN WORD,        /* Last address for this node in data */
              9238    1           3 RPROC       SBIN WORD,        /* Last address for this node in proc */
              9239    1           3 ROS       SBIN WORD,          /* Last address for program in ros    */
              9240    1         2 START_PAGE#_A(0:2/*@ROS*/) SBIN WORD /*(0*3)*/, /* Array           */
              9241    1         2 START_PAGE# REDEF START_PAGE#_A,
              9242    1           3 RDATA       SBIN WORD,   /* First page    for this node in data     */
              9243    1           3 RPROC       SBIN WORD,   /* First page    for this node in proc     */
              9244    1           3 ROS       SBIN WORD,          /* First page   for program in ros    */
              9245    1         2 STOP_PAGE#_A(0:2/*@ROS*/) SBIN WORD /*(-1*3)*/, /* Array*/
              9246    1         2 STOP_PAGE#  REDEF STOP_PAGE#_A,
              9247    1           3 RDATA       SBIN WORD,   /* Last  page    for this node in data     */
              9248    1           3 RPROC       SBIN WORD,   /* Last  page    for this node in proc     */
              9249    1           3 ROS       SBIN WORD,          /* Last  page   for program in ros    */
              9250    1         2 START_SC_ALL$ PTR /*(ADDR(NIL))*/,
              9250                  /* Starting pointer for common sections for this node */
              9251    1         2 STOP_SC_ALL$ PTR /*(ADDR(NIL))*/,
              9251                  /* Stopping pointer for common sections for this node */
              9252    1         2 L_START,
              9253    1           3 SN$ PTR /*(ADDR(NIL))*/, /* Segment definition names        */
              9254    1           3 DN$ PTR /*(ADDR(NIL))*/, /* Def names                       */
              9255    1           3 RN$ PTR /*(ADDR(NIL))*/, /* Ref names                       */
              9256    1           3 SC$ PTR /*(ADDR(NIL))*/, /* Sections                        */
              9257    1           3 ED$ PTR /*(ADDR(NIL))*/, /* Entry defs*/
              9258    1           3 ER$ PTR /*(ADDR(NIL))*/, /* Entry refs*/
              9259    1           3 DD$ PTR /*(ADDR(NIL))*/, /* Data defs                       */
              9260    1           3 DR$ PTR /*(ADDR(NIL))*/, /* Data refs                       */
              9261    1           3 SD$ PTR /*(ADDR(NIL))*/, /* Seg defs                        */
              9262    1           3 SR$ PTR /*(ADDR(NIL))*/, /* Seg refs                        */
              9263    1         2 L_START_A$(0:9)     REDEF L_START PTR,
              9264    1         2 L_STOP,
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:20   
              9265    1           3 SN$ PTR /*(ADDR(NIL))*/, /* Segment definition names        */
              9266    1           3 DN$ PTR /*(ADDR(NIL))*/, /* Def names                       */
              9267    1           3 RN$ PTR /*(ADDR(NIL))*/, /* Ref names                       */
              9268    1           3 SC$ PTR /*(ADDR(NIL))*/, /* Sections                        */
              9269    1           3 ED$ PTR /*(ADDR(NIL))*/, /* Entry defs*/
              9270    1           3 ER$ PTR /*(ADDR(NIL))*/, /* Entry refs*/
              9271    1           3 DD$ PTR /*(ADDR(NIL))*/, /* Data defs                       */
              9272    1           3 DR$ PTR /*(ADDR(NIL))*/, /* Data refs                       */
              9273    1           3 SD$ PTR /*(ADDR(NIL))*/, /* Seg defs                        */
              9274    1           3 SR$ PTR /*(ADDR(NIL))*/, /* Seg refs                        */
              9275    1         2 L_STOP_A$(0:9) REDEF   L_STOP    PTR,
              9276    1         2 L_SIZE,
              9277    1           3 SN      UBIN /*(0)*/, /* Segment definition names           */
              9278    1           3 DN      UBIN /*(0)*/, /* Def names                          */
              9279    1           3 RN      UBIN /*(0)*/, /* Ref names                          */
              9280    1           3 SC      UBIN /*(0)*/, /* Sections                           */
              9281    1           3 ED      UBIN /*(0)*/, /* Entry defs*/
              9282    1           3 ER      UBIN /*(0)*/, /* Entry refs*/
              9283    1           3 DD      UBIN /*(0)*/, /* Data defs                          */
              9284    1           3 DR      UBIN /*(0)*/, /* Data refs                          */
              9285    1           3 SD      UBIN /*(0)*/, /* Seg defs                           */
              9286    1           3 SR      UBIN /*(0)*/, /* Seg refs                           */
              9287    1         2 L_SIZE_A(0:9)  REDEF   L_SIZE    UBIN,
              9288    1         2 L_PREV_SIZE,
              9289    1           3 SN      UBIN /*(0)*/, /* Segment definition names           */
              9290    1           3 DN      UBIN /*(0)*/, /* Def names                          */
              9291    1           3 RN      UBIN /*(0)*/, /* Ref names                          */
              9292    1           3 SC      UBIN /*(0)*/, /* Sections                           */
              9293    1           3 ED      UBIN /*(0)*/, /* Entry defs*/
              9294    1           3 ER      UBIN /*(0)*/, /* Entry refs*/
              9295    1           3 DD      UBIN /*(0)*/, /* Data defs                          */
              9296    1           3 DR      UBIN /*(0)*/, /* Data refs                          */
              9297    1           3 SD      UBIN /*(0)*/, /* Seg defs                           */
              9298    1           3 SR      UBIN /*(0)*/, /* Seg refs                           */
              9299    1         2 L_PREV_SIZE_A(0:9)  REDEF   L_PREV_SIZE    UBIN,
              9300    1         2 BIT_MAP                ALIGNED,
              9301    1           3 DATA                  ALIGNED,
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:21   
              9302    1             4 BITS(0:255)          BIT(1)    UNAL /*('0'B*256)*/,
              9303    1           3 RPROC                 ALIGNED,
              9304    1             4 BITS(0:255)          BIT(1)    UNAL /*('0'B*256)*/,
              9305    1           3 ROS                   ALIGNED,
              9306    1             4 BITS(0:255)          BIT(1)    UNAL /*('0'B*256)*/,
              9307    1         2 L_SC_START,
              9308    1           3 SC_BLK_COM$ PTR /*(ADDR(NIL))*/, /* Blank common            */
              9309    1           3 SC_ROOT_LBL_COM$ PTR /*(ADDR(NIL))*/, /* Root labelled common */
              9310    1           3 SC_LBL_COM$ PTR /*(ADDR(NIL))*/, /* Labelled common         */
              9311    1           3 SC_DCB$ PTR /*(ADDR(NIL))*/, /* Dcbs                        */
              9312    1         2 L_SC_START_A$(0:3)  REDEF L_SC_START PTR,
              9313    1         2 L_SC_STOP,
              9314    1           3 SC_BLK_COM$ PTR /*(ADDR(NIL))*/, /* Blank common            */
              9315    1           3 SC_ROOT_LBL_COM$ PTR /*(ADDR(NIL))*/, /* Root labelled common */
              9316    1           3 SC_LBL_COM$ PTR /*(ADDR(NIL))*/, /* Labelled common         */
              9317    1           3 SC_DCB$ PTR /*(ADDR(NIL))*/, /* Dcbs                        */
              9318    1         2 L_SC_STOP_A$(0:3)   REDEF L_SC_STOP  PTR,
              9319    1         2 PROMOTE_HEAD,
              9320    1           3 BLK_COM$              PTR /*(ADDR(NIL))*/,
              9321    1           3 LBL_COM$              PTR /*(ADDR(NIL))*/,
              9322    1         2 PROMOTE_HEAD_A$(0:1) REDEF PROMOTE_HEAD     PTR,
              9323    1         2 PROMOTE_TAIL,
              9324    1           3 BLK_COM$              PTR /*(ADDR(NIL))*/,
              9325    1           3 LBL_COM$              PTR /*(ADDR(NIL))*/,
              9326    1         2 PROMOTE_TAIL_A$(0:1) REDEF PROMOTE_TAIL     PTR,
              9327    1         2 HAVE_ASL          BIT(1)    UNAL /*('0'B)*/,
              9328    1         2 ALL_BLK_COM          BIT(1)    UNAL /*('0'B)*/,
              9329    1         2 *                 BIT(34)   UNAL /*('0'B)*/,
              9330    1         2 BLANK_COMMON$     PTR       ALIGNED /*(ADDR(NIL))*/;

       11     9334        %VYD$TMPLT;

              9346    1   /*******************************************************************************
              9347    1   *                                                                              *
              9348    1   *                          VYD$TMPLT                                              *
              9349    1   *                                                                              *
              9350    1   *******************************************************************************/
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:22   

              9355    1   DCL 1 VYD$TMPLT          ALIGNED BASED, /* Template for defs                  */
              9356    1         2 A(0:3)       UBIN(18)  UNAL,    /* Array ...                          */
              9357    1         2 A_SBIN(0:3) REDEF A    SBIN HALF UNAL,
              9358    1         2 I       REDEF     A,            /* Items                              */
              9359    1           3 WHERE        UBIN( 3) UNAL,   /* Source of def                      */
              9360                                                                /* Value from
              9361                                                                     0   object
              9362                                                                     1   library */
              9363    1           3 DEFINED      BIT( 1) UNAL,    /* Defined or not                     */
              9364    1           3 B                      UNAL,
              9365    1             4 MULTIPLY    BIT(1) UNAL,    /* Multiply defined                   */
              9366    1           3 SC#          UBIN(13) UNAL,   /* Section #                          */
              9367    1           3 AFTER        REDEF SC#      UNAL,
              9368    1             4 USED        BIT(1) UNAL,    /* Used or not                        */
              9369    1             4 *           BIT(12) UNAL,
              9370    1           3 OFFSET      UBIN(18) UNAL,    /* Offset/address                     */
              9371    1           3 NAME_DISP   UBIN(18) UNAL,    /* Displacement to name(in words)     */
              9372    1           3 NAME_DISP_SBIN REDEF NAME_DISP   SBIN HALF UNAL,
              9373    1           3 P           UBIN( 1) UNAL,    /* Primary entdef                     */
              9374    1           3 C REDEF P   BIT(  1) UNAL,    /* Constant bit for symdefs           */
              9375    1           3 A           UBIN( 1) UNAL,    /* Altret specified                   */
              9376    1          3 MULTIPLY REDEF A BIT(1) UNAL, /* Multiply defined for constant sym defs */
              9377    1           3 I           BIT(  1) UNAL,    /* Argument/parameter check           */
              9378    1           3 USED    REDEF I  BIT(1) UNAL, /* Used or not for constant sym defs  */
              9379    1           3 CST         UBIN( 4) UNAL,    /* Calling sequence type              */
              9380    1           3 WHERE_C REDEF CST UBIN(4) UNAL, /* Source of def for constant sym defs */
              9381    1           3 NP          UBIN(11) UNAL,    /* # of parameters                    */
              9382    1           3 IS_DCB  REDEF     NP,
              9383    1             4 DCB_BIT     BIT(1)    UNAL,
              9384    1             4 *           BIT(10)   UNAL,
              9385    1         2 SEG REDEF A,
              9386    1           3 *             UBIN      UNAL,
              9387    1           3 NPOINTER      UBIN(18)  UNAL,
              9388    1           3 CONSTNT       BIT(1)    UNAL,
              9389    1           3 TYPE          UBIN(5)   UNAL,
              9390    1           3 SEGID         UBIN(12)  UNAL,
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:23   
              9391    1         2 V REDEF A,
              9392    1           3 VALUE       UBIN(36) UNAL,    /* Value if C=1                       */
              9393    1           3 *           UBIN(36) UNAL,
              9394    1         2 S  REDEF  A,                    /* Value if C=1                       */
              9395    1           3 *         UBIN(24) UNAL,
              9396    1           3 SEGID     UBIN(12) UNAL,
              9397    1           3 *         UBIN     UNAL;
       12     9400        %B$DNAME( NAME=B$DNAME, STCLASS=BASED );
       13     9419        %P;

              9427    1   /*******************************************************************************
              9428    1   *                                                                              *
              9429    1   *                          PARAMETERS                                             *
              9430    1   *                                                                              *
              9431    1   *******************************************************************************/

       14     9435    1   DCL DCB#       UBIN(36)  ALIGNED;
       15     9436    1   DCL DEL_INVERSION   BIT(1)    ALIGNED;
       16     9437    1   DCL DEL_HEAD        BIT(1)    ALIGNED;
       17     9438    1   DCL ISSUE_MESSAGE  BIT(1)    ALIGNED;
       18     9439    1   DCL LEMUR_UTS  UBIN(36)  ALIGNED;
       19     9440    1   DCL COMPILE_UTS     UBIN(36)  ALIGNED;
       20     9441        %BANNER( ARG=SUBS );

              9449    1   /*******************************************************************************
              9450    1   *                                                                              *
              9451    1   *                          SUBS                                                 *
              9452    1   *                                                                              *
              9453    1   *******************************************************************************/

       21     9457        %B$RECORDSUBS;
       22     9485        %BANNER( ARG=KEYS );

              9493    1   /*******************************************************************************
              9494    1   *                                                                              *
              9495    1   *                          KEYS                                                 *
              9496    1   *                                                                              *
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:24   
              9497    1   *******************************************************************************/

       23     9501        %B$PLOVERKEY( NAME=PLOVER_KEY, STCLASS=STATIC );
       24     9531        %B$PLOVERBIRTHKEY( NAME=PLOVER_BIRTH_KEY, STCLASS=STATIC );
       25     9554        %O_KEY_BUF(KEYBUF=KEY_BUF, STCLASS="STATIC SYMDEF", INT="INIT(0)");
       26     9577        %O_KEY_BUF(KEYBUF=KEY_BUF_L, STCLASS="STATIC SYMDEF", INT="INIT(0)");
       27     9600        %BANNER( ARG="FPTs and DCBs" );

              9608    1   /*******************************************************************************
              9609    1   *                                                                              *
              9610    1   *                          FPTs and DCBs                                          *
              9611    1   *                                                                              *
              9612    1   *******************************************************************************/

       28     9616        %FPT_DELREC(FPTN=FPT_DELREC,
       29     9617                          STCLASS=STATIC,
       30     9618                          DCB=M$OF,
       31     9619                          KEY=KEY_BUF);
       32     9638    1   DCL M$OF       DCB;
       33     9639    1   DCL M$RF       DCB;
       34     9640        %E;

              9648    1   /*******************************************************************************
              9649    1   *                                                                              *
              9650    1   *                          ENTRY                                                 *
              9651    1   *                                                                              *
              9652    1   *******************************************************************************/

       35     9656        %ENTRIES;
       36     9671        %ENTRIES_IO;
       37     9680    1   DCL VYU$DELETE_UTS     ENTRY(3)       ALTRET;
       38     9681        %PTR;

              9689    1   /*******************************************************************************
              9690    1   *                                                                              *
              9691    1   *                          PTR                                                 *
              9692    1   *                                                                              *
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:25   
              9693    1   *******************************************************************************/

       39     9697        %POINTER;
       40     9702    1   DCL  WHERE$         PTR  ALIGNED   STATIC/*AUTO*/;
       41     9703    1   DCL  PP$            PTR  ALIGNED   STATIC/*AUTO*/;
       42     9704    1   DCL  NAME$          PTR  ALIGNED   STATIC/*AUTO*/;
       43     9705    1   DCL  DNAME$          PTR  ALIGNED   STATIC/*AUTO*/;
       44     9706    1   DCL  START$          PTR  ALIGNED   STATIC/*AUTO*/;
       45     9707    1   DCL  BUFFER$        PTR  ALIGNED   STATIC/*AUTO*/;
       46     9708        %U;

              9716    1   /*******************************************************************************
              9717    1   *                                                                              *
              9718    1   *                          UBIN                                                 *
              9719    1   *                                                                              *
              9720    1   *******************************************************************************/

       47     9724        %INDEX;
       48     9734    1   DCL ALL_TYPE        UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       49     9735    1   DCL HEAD_INX        UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       50     9736    1   DCL TSIZE           UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       51     9737    1   DCL PAGE            UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       52     9738    1   DCL GET             UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       53     9739    1   DCL NPAGE           UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       54     9740    1   DCL TSIZE_READ      UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       55     9741    1   DCL ALL_A(0:6/*@DD*/)      SBIN WORD ALIGNED   STATIC/*AUTO*/;
       56     9742    1   DCL  REC_TYPE       UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       57     9743    1   DCL WSIZE           UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       58     9744    1   DCL SIZE           UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       59     9745        /**/
       60     9746        /**/
       61     9747        /**/
       62     9748    1   DCL CHAR$CHAR  CHAR(VY_IO_SIZEC)   BASED(BUFFER$);
       63     9749    1   DCL SAVE_START$(0:4)   PTR  ALIGNED   STATIC/*AUTO*/;
       64     9750    1   DCL SAVE_STOP$(0:4)    PTR  ALIGNED   STATIC/*AUTO*/;
       65     9751    1   DCL SAVE_SIZE(0:4)     UBIN(36)  ALIGNED   STATIC/*AUTO*/;
       66     9752    1   DCL SAVE_PREV_SIZE(0:4)     UBIN(36)  ALIGNED   STATIC/*AUTO*/;
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:26   
       67     9753    1   DCL VYI_ROLLBACK BIT(1) SYMREF;
       68     9754    1   DCL DN_START$ PTR;
       69     9755        %EJECT;
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:27   
       70     9756        /*Delete head record */
       71     9757    1         FPT_DELREC.LKEY_ = VECTOR(NIL);

   9757  4 000002   000000 237000 5                  LDAQ    0
         4 000003   000414 757000 1                  STAQ    FPT_DELREC+4

       72     9758    2         DO CASE( DCB# );

   9758  4 000004   200003 470500                    LDP0    @DCB#,,AUTO
         4 000005   000000 235100                    LDA     0,,PR0
         4 000006   000002 115007                    CMPA    2,DL
         4 000007   000011 602005 4                  TNC     s:9758+5,AL
         4 000010   000022 710000 4                  TRA     s:9764
         4 000011   000013 710000 4                  TRA     s:9760
         4 000012   000017 710000 4                  TRA     s:9762

       73     9759    2           CASE( 0/*@OF*/ );

       74     9760    2             FPT_DELREC.V.DCB# = DCBNUM(M$OF);

   9760  4 000013   000000 236007 xsym               LDQ     M$OF,DL
         4 000014   000000 620006                    EAX0    0,QL
         4 000015   000420 740000 1                  STX0    FPT_DELREC+8
         4 000016   000022 710000 4                  TRA     s:9764

       75     9761    2           CASE( 1/*@RF*/ );

       76     9762    2             FPT_DELREC.V.DCB# = DCBNUM( M$RF );

   9762  4 000017   000000 236007 xsym               LDQ     M$RF,DL
         4 000020   000000 620006                    EAX0    0,QL
         4 000021   000420 740000 1                  STX0    FPT_DELREC+8

       77     9763    2           END;                            /* Do case( DCB# ); */

       78     9764    2         IF DEL_INVERSION OR VYI_ROLLBACK THEN DO;

PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:28   
   9764  4 000022   200004 471500                    LDP1    @DEL_INVERSION,,AUTO
         4 000023   100000 234100                    SZN     0,,PR1
         4 000024   000027 604000 4                  TMI     s:9765
         4 000025   000000 234000 xsym               SZN     VYI_ROLLBACK
         4 000026   000423 605000 4                  TPL     s:9905

       79     9765    3             IF DEL_INVERSION THEN DO;

   9765  4 000027   100000 234100                    SZN     0,,PR1
         4 000030   000232 605000 4                  TPL     s:9849

       80     9766    3                 VY_ED_START$ = ADDR(NIL);

   9766  4 000031   000001 236000 xsym               LDQ     B_VECTNIL+1
         4 000032   000000 756000 xsym               STQ     VY_ED_START$

       81     9767    3                 DN_START$ = ADDR(NIL);

   9767  4 000033   200011 756100                    STQ     DN_START$,,AUTO

       82     9768    4                 DO I = 0 TO SIZEW( VY_DEF_REC_A ) -2;

   9768  4 000034   000433 450000 1                  STZ     I
         4 000035   000227 710000 4                  TRA     s:9847+3

       83     9769    4                     REC_TYPE = VY_DEF_REC_A(I); /* Get record type */

   9769  4 000036   000433 720000 1                  LXL0    I
         4 000037   000000 235010 xsym               LDA     VY_DEF_REC_A,X0
         4 000040   000455 755000 1                  STA     REC_TYPE

       84     9770    4                     SAVE_START$(I) = VY_CURR$ -> VY$NODE.L_START_A$(REC_TYPE);

   9770  4 000041   000000 470400 xsym               LDP0    VY_CURR$
         4 000042   000030 236105                    LDQ     24,AL,PR0
         4 000043   000460 756010 1                  STQ     SAVE_START$,X0

PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:29   
       85     9771    4                     SAVE_STOP$(I) = VY_CURR$ -> VY$NODE.L_STOP_A$(REC_TYPE);

   9771  4 000044   000455 721000 1                  LXL1    REC_TYPE
         4 000045   000042 236111                    LDQ     34,X1,PR0
         4 000046   000465 756010 1                  STQ     SAVE_STOP$,X0

       86     9772    4                     SAVE_SIZE(I) = VY_CURR$ -> VY$NODE.L_SIZE_A(REC_TYPE);

   9772  4 000047   000054 235111                    LDA     44,X1,PR0
         4 000050   000472 755010 1                  STA     SAVE_SIZE,X0

       87     9773    4                     SAVE_PREV_SIZE(I) = VY_CURR$ -> VY$NODE.L_PREV_SIZE_A(REC_TYPE);

   9773  4 000051   000066 235111                    LDA     54,X1,PR0
         4 000052   000477 755010 1                  STA     SAVE_PREV_SIZE,X0

       88     9774    4                     ALL_A(REC_TYPE) = 0;

   9774  4 000053   000446 450011 1                  STZ     ALL_A,X1

       89     9775    4                     ALL_TYPE = VY_PASS1_ALL_TYPE(REC_TYPE);

   9775  4 000054   000455 721000 1                  LXL1    REC_TYPE
         4 000055   000000 235011 xsym               LDA     VY_PASS1_ALL_TYPE,X1
         4 000056   000437 755000 1                  STA     ALL_TYPE

       90     9776    4                    HEAD_INX = VY_HEAD_INX(REC_TYPE); /* Get index into head record */

   9776  4 000057   000000 235011 xsym               LDA     VY_HEAD_INX,X1
         4 000060   000440 755000 1                  STA     HEAD_INX

       91     9777    4                     TSIZE = VY_OU_HEAD.REC_A.SIZE(HEAD_INX);
              9777                              /* Get total size for this record type */

   9777  4 000061   000005 236005 xsym               LDQ     VY_OU_HEAD+5,AL
         4 000062   000022 772000                    QRL     18
         4 000063   000441 756000 1                  STQ     TSIZE
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:30   

       92     9778    4                     PAGE = VY_OU_HEAD.REC_A.PAGE(HEAD_INX); /* Get the page size */

   9778  4 000064   000440 722000 1                  LXL2    HEAD_INX
         4 000065   000005 236012 xsym               LDQ     VY_OU_HEAD+5,X2
         4 000066   777777 376007                    ANQ     -1,DL
         4 000067   000442 756000 1                  STQ     PAGE

       93     9779    4                     GET = TSIZE;

   9779  4 000070   000441 235000 1                  LDA     TSIZE
         4 000071   000443 755000 1                  STA     GET

       94     9780    5                     IF TSIZE > 0 THEN DO;

   9780  4 000072   000224 600000 4                  TZE     s:9847

       95     9781    6                         IF REC_TYPE = 4/*@ED*/ THEN DO;

   9781  4 000073   000455 235000 1                  LDA     REC_TYPE
         4 000074   000004 115007                    CMPA    4,DL
         4 000075   000115 601000 4                  TNZ     s:9816

       96     9782    7                             IF MOD( PAGE, 2 ) ~= 0 THEN DO;
              9782                                      /* Not an even page size - bitch */

   9782  4 000076   000001 376007                    ANQ     1,DL
         4 000077   000115 600000 4                  TZE     s:9816

       97     9783                                      %NUMBER(
       98     9784                                      NUM1=PAGE, SIZE1=6, BASE1=10,
       99     9785                                      NUM2=REC_TYPE, SIZE2=3, BASE2=10 );

   9791  4 000100   000002 630400 5                  EPPR0   2
         4 000101   000023 631400 xsym               EPPR1   B_VECTNIL+19
         4 000102   000000 701000 xent               TSX1    VYD$B2C
         4 000103   000000 011000                    NOP     0
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:31   

   9795  4 000104   000010 630400 5                  EPPR0   8
         4 000105   000023 631400 xsym               EPPR1   B_VECTNIL+19
         4 000106   000000 701000 xent               TSX1    VYD$B2C
         4 000107   000000 011000                    NOP     0

      100     9802                                      %SCREAM(
      101     9803                                      ERR#=%E$ODD_PAGE_SIZE_VY,
      102     9804                                      MID="'O'",
      103     9805                                      LEVEL=%@E$F_VY,
      104     9806                                      AUX=%@E$OUOF_VY);

   9807  4 000110   000017 630400 5                  EPPR0   15
         4 000111   000022 631400 xsym               EPPR1   B_VECTNIL+18
         4 000112   000000 701000 xent               TSX1    VYE$ERROR
         4 000113   000000 011000                    NOP     0

      105     9809    7                                 RETURN;

   9809  4 000114   000000 702200 xent               TSX2  ! X66_ARET

      106     9810    7                                END;
      107     9811    6                            END;
      108     9812                              %ALLOCATE(
      109     9813                              PTR$=START$,
      110     9814                              TYPE=ALL_TYPE,
      111     9815                              SIZE=GET);

   9816  4 000115   000437 723000 1                  LXL3    ALL_TYPE
         4 000116   000000 236013 xsym               LDQ     VY_M_ALL,X3
         4 000117   000000 136013 xsym               SBLQ    VY_M_FREE,X3
         4 000120   000133 604000 4                  TMI     s:9820
         4 000121   000443 116000 1                  CMPQ    GET
         4 000122   000133 602000 4                  TNC     s:9820

   9817  4 000123   000000 236013 xsym               LDQ     VY_M_FREE,X3
         4 000124   000000 471413 xsym               LDP1    VY_M_BASE_PTR,X3
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:32   
         4 000125   100000 633506                    EPPR3   0,QL,PR1
         4 000126   000431 453400 1                  STP3    START$

   9818  4 000127   000000 236013 xsym               LDQ     VY_M_FREE,X3
         4 000130   000443 036000 1                  ADLQ    GET
         4 000131   000000 756013 xsym               STQ     VY_M_FREE,X3

   9819  4 000132   000137 710000 4                  TRA     s:9822

   9820  4 000133   000023 630400 5                  EPPR0   19
         4 000134   000021 631400 xsym               EPPR1   B_VECTNIL+17
         4 000135   000000 701000 xent               TSX1    VYA$GET
         4 000136   000000 011000                    NOP     0

      112     9822    5                         CALL VYU$PREAD(

   9822  4 000137   000030 237000 5                  LDAQ    24
         4 000140   200024 757100                    STAQ    DN_START$+11,,AUTO
         4 000141   000024 237000 5                  LDAQ    20
         4 000142   200022 757100                    STAQ    DN_START$+9,,AUTO
         4 000143   000032 237000 5                  LDAQ    26
         4 000144   200020 757100                    STAQ    DN_START$+7,,AUTO
         4 000145   000034 237000 5                  LDAQ    28
         4 000146   200016 757100                    STAQ    DN_START$+5,,AUTO
         4 000147   000027 236000 5                  LDQ     23
         4 000150   200003 235100                    LDA     @DCB#,,AUTO
         4 000151   200014 757100                    STAQ    DN_START$+3,,AUTO
         4 000152   000036 237000 5                  LDAQ    30
         4 000153   200012 757100                    STAQ    DN_START$+1,,AUTO
         4 000154   200012 630500                    EPPR0   DN_START$+1,,AUTO
         4 000155   000026 631400 5                  EPPR1   22
         4 000156   000000 701000 xent               TSX1    VYU$PREAD
         4 000157   000000 011000                    NOP     0

      113     9823    5                                 NPAGE,
      114     9824    5                                 TSIZE_READ,
      115     9825    5                                 DCB#,
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:33   
      116     9826    5                                 1/*@RF*/,
      117     9827    5                                 REC_TYPE,
      118     9828    5                                 START$,
      119     9829    5                                 PAGE,
      120     9830    5                                 TSIZE,
      121     9831    5                                 ALL_TYPE,
      122     9832    5                                 GET,
      123     9833    5                                 VY_CURR$,
      124     9834    5                                 0/*@SOURCE_OBJECT*/
      125     9835    5                                 );
      126     9836    5                         ALL_A(REC_TYPE) = TSIZE_READ;

   9836  4 000160   000445 235000 1                  LDA     TSIZE_READ
         4 000161   000455 720000 1                  LXL0    REC_TYPE
         4 000162   000446 755010 1                  STA     ALL_A,X0

      127     9837    6                         IF TSIZE_READ > 0 THEN DO ;

   9837  4 000163   000445 235000 1                  LDA     TSIZE_READ
         4 000164   000204 600000 4                  TZE     s:9845

      128     9838    7                             IF REC_TYPE = 4/*@ED*/ THEN DO;

   9838  4 000165   000455 236000 1                  LDQ     REC_TYPE
         4 000166   000004 116007                    CMPQ    4,DL
         4 000167   000177 601000 4                  TNZ     s:9842

      129     9839    7                                 VY_ED_START$ = START$;

   9839  4 000170   000431 236000 1                  LDQ     START$
         4 000171   000000 756000 xsym               STQ     VY_ED_START$

      130     9840    7                                 VY_ED_STOP$ = PINCRW( START$, TSIZE_READ - SIZEW(
              9840                                          VYD$TMPLT ) );

   9840  4 000172   000445 236000 1                  LDQ     TSIZE_READ
         4 000173   000022 736000                    QLS     18
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:34   
         4 000174   000002 136003                    SBLQ    2,DU
         4 000175   000431 036000 1                  ADLQ    START$
         4 000176   000000 756000 xsym               STQ     VY_ED_STOP$

      131     9841    7                                END;

      132     9842    6                             IF REC_TYPE = 1/*@DN*/ THEN

   9842  4 000177   000455 236000 1                  LDQ     REC_TYPE
         4 000200   000001 116007                    CMPQ    1,DL
         4 000201   000204 601000 4                  TNZ     s:9845

      133     9843    6                                 DN_START$ = START$;

   9843  4 000202   000431 236000 1                  LDQ     START$
         4 000203   200011 756100                    STQ     DN_START$,,AUTO

      134     9844    6                            END ;

      135     9845    5                         IF TSIZE_READ < GET THEN CALL VYF$FREE( ALL_TYPE, GET -
              9845                                  TSIZE_READ, 1 );

   9845  4 000204   000445 236000 1                  LDQ     TSIZE_READ
         4 000205   000443 116000 1                  CMPQ    GET
         4 000206   000224 603000 4                  TRC     s:9847

   9845  4 000207   000443 236000 1                  LDQ     GET
         4 000210   000445 136000 1                  SBLQ    TSIZE_READ
         4 000211   200012 756100                    STQ     DN_START$+1,,AUTO
         4 000212   000027 236000 5                  LDQ     23
         4 000213   200015 756100                    STQ     DN_START$+4,,AUTO
         4 000214   200012 630500                    EPPR0   DN_START$+1,,AUTO
         4 000215   200014 450500                    STP0    DN_START$+3,,AUTO
         4 000216   000024 236000 5                  LDQ     20
         4 000217   200013 756100                    STQ     DN_START$+2,,AUTO
         4 000220   200013 630500                    EPPR0   DN_START$+2,,AUTO
         4 000221   000021 631400 xsym               EPPR1   B_VECTNIL+17
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:35   
         4 000222   000000 701000 xent               TSX1    VYF$FREE
         4 000223   000000 011000                    NOP     0

      136     9846    5                        END;

      137     9847    4                    END;

   9847  4 000224   000433 235000 1                  LDA     I
         4 000225   000001 035007                    ADLA    1,DL
         4 000226   000433 755000 1                  STA     I
         4 000227   000433 235000 1                  LDA     I
         4 000230   000002 115007                    CMPA    2,DL
         4 000231   000036 602000 4                  TNC     s:9769

      138     9848    3                END;

      139     9849    2             P$ = VY_ED_START$;

   9849  4 000232   000000 236000 xsym               LDQ     VY_ED_START$
         4 000233   000422 756000 1                  STQ     P$

      140     9850    3             IF P$ ~= ADDR(NIL) THEN DO;

   9850  4 000234   000001 116000 xsym               CMPQ    B_VECTNIL+1
         4 000235   000347 600000 4                  TZE     s:9885

      141     9851    3                 IF DN_START$ ~= ADDR(NIL)

   9851  4 000236   200011 236100                    LDQ     DN_START$,,AUTO
         4 000237   000001 116000 xsym               CMPQ    B_VECTNIL+1
         4 000240   000243 600000 4                  TZE     s:9855

      142     9852    3                 THEN
      143     9853    3                     DNAME$ = DN_START$;

   9853  4 000241   000430 756000 1                  STQ     DNAME$
         4 000242   000246 710000 4                  TRA     s:9860
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:36   

      144     9854    3                 ELSE
      145     9855    3                     DNAME$ = VY_ROOT$ -> VY$NODE.L_START.DN$;

   9855  4 000243   000000 470400 xsym               LDP0    VY_ROOT$
         4 000244   000031 236100                    LDQ     25,,PR0
         4 000245   000430 756000 1                  STQ     DNAME$

      146     9856                      %ALLOCATE(
      147     9857                      PTR$=BUFFER$,
      148     9858                      TYPE=@GDP,
      149     9859                      SIZE=8);

   9860  4 000246   000010 236000 xsym               LDQ     VY_M_ALL+8
         4 000247   000010 136000 xsym               SBLQ    VY_M_FREE+8
         4 000250   000010 116007                    CMPQ    8,DL
         4 000251   000261 604000 4                  TMI     s:9864

   9861  4 000252   000010 236000 xsym               LDQ     VY_M_FREE+8
         4 000253   000022 736000                    QLS     18
         4 000254   000010 036000 xsym               ADLQ    VY_M_BASE_PTR+8
         4 000255   000432 756000 1                  STQ     BUFFER$

   9862  4 000256   000010 236007                    LDQ     8,DL
         4 000257   000010 056000 xsym               ASQ     VY_M_FREE+8

   9863  4 000260   000265 710000 4                  TRA     s:9866

   9864  4 000261   000040 630400 5                  EPPR0   32
         4 000262   000021 631400 xsym               EPPR1   B_VECTNIL+17
         4 000263   000000 701000 xent               TSX1    VYA$GET
         4 000264   000000 011000                    NOP     0

      150     9866    4                 DO WHILE( P$ <= VY_ED_STOP$ );

   9866  4 000265   000000 236000 xsym               LDQ     VY_ED_STOP$
         4 000266   000422 116000 1                  CMPQ    P$
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:37   
         4 000267   000343 602000 4                  TNC     s:9883

      151     9867    4                     NAME$ = PINCRW( DNAME$, P$ -> VYD$TMPLT.I.NAME_DISP );

   9867  4 000270   000422 470400 1                  LDP0    P$
         4 000271   000001 220100                    LDX0    1,,PR0
         4 000272   000000 636010                    EAQ     0,X0
         4 000273   000430 036000 1                  ADLQ    DNAME$
         4 000274   000427 756000 1                  STQ     NAME$

      152     9868    4                     VY_O_KEY_BUF.FORM0.COUNT = NAME$ -> B$DNAME.COUNT;

   9868  4 000275   000427 471400 1                  LDP1    NAME$
         4 000276   100000 236100                    LDQ     0,,PR1
         4 000277   000011 736000                    QLS     9
         4 000300   000000 552040 xsym               STBQ    VY_O_KEY_BUF,'40'O

      153     9869    4                     VY_O_KEY_BUF.FORM0.CHARS = NAME$ -> B$DNAME.TEXT;

   9869  4 000301   100000 221100                    LDX1    0,,PR1
         4 000302   040000 100540                    MLR     fill='040'O
         4 000303   100000 400011                    ADSC9   0,,PR1                   cn=2,n=*X1
         4 000304   000000 201000 xsym               ADSC9   VY_O_KEY_BUF             cn=1,n=512

      154     9870    4                     CALL VYI$READ(      DCB#,

   9870  4 000305   000043 236000 5                  LDQ     35
         4 000306   200016 756100                    STQ     DN_START$+5,,AUTO
         4 000307   000044 237000 5                  LDAQ    36
         4 000310   200014 757100                    STAQ    DN_START$+3,,AUTO
         4 000311   000040 236000 5                  LDQ     32
         4 000312   200003 235100                    LDA     @DCB#,,AUTO
         4 000313   200012 757100                    STAQ    DN_START$+1,,AUTO
         4 000314   200012 630500                    EPPR0   DN_START$+1,,AUTO
         4 000315   000023 631400 xsym               EPPR1   B_VECTNIL+19
         4 000316   000000 701000 xent               TSX1    VYI$READ
         4 000317   000335 702000 4                  TSX2    IGNORE1
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:38   

      155     9871    4                             BUFFER$,
      156     9872    4                             8,
      157     9873    4                             0/*@OF*/,
      158     9874    4                             '1'B )    ALTRET(INC_P);
      159     9875    5                     IF BUFFER$ -> CHAR$CHAR = VY_OK.OUNAME.CHARS THEN DO;

   9875  4 000320   000432 470400 1                  LDP0    BUFFER$
         4 000321   000000 720000 xsym               LXL0    VY_IO_SIZEC
         4 000322   040000 106540                    CMPC    fill='040'O
         4 000323   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         4 000324   000013 200777 xsym               ADSC9   VY_OK+11                 cn=1,n=511
         4 000325   000335 601000 4                  TNZ     IGNORE1

      160     9876    5                         KEY_BUF = VY_O_KEY_BUF;

   9876  4 000326   000000 100400                    MLR     fill='000'O
         4 000327   000000 001001 xsym               ADSC9   VY_O_KEY_BUF             cn=0,n=513
         4 000330   000006 001001 1                  ADSC9   KEY_BUF                  cn=0,n=513

      161     9877    5                         CALL M$DELREC( FPT_DELREC ) ALTRET(IGNORE1);

   9877  4 000331   000410 630400 1                  EPPR0   FPT_DELREC
         4 000332   440002 713400                    CLIMB   alt,+16386
         4 000333   401400 401760                    pmme    nvectors=4
         4 000334   000335 702000 4                  TSX2    IGNORE1

   9876  4 000335                       IGNORE1      null
      162     9878    5   IGNORE1:              ;
      163     9879    5                        END;               /* If BUFFER$ -> .... */

      164     9880    4   INC_P:
      165     9881    4                     P$ = PINCRW( P$, SIZEW( VYD$TMPLT ) );

   9881  4 000335   000422 236000 1     INC_P        LDQ     P$
         4 000336   000002 036003                    ADLQ    2,DU
         4 000337   000422 756000 1                  STQ     P$
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:39   

      166     9882    4                    END;                   /* Do while( P$ <= VY_ED_STOP$ ); */

   9882  4 000340   000000 116000 xsym               CMPQ    VY_ED_STOP$
         4 000341   000270 602000 4                  TNC     s:9867
         4 000342   000270 600000 4                  TZE     s:9867

      167     9883    3                 CALL VYF$FREE( 8/*@GDP*/, 8, 0 );

   9883  4 000343   000046 630400 5                  EPPR0   38
         4 000344   000021 631400 xsym               EPPR1   B_VECTNIL+17
         4 000345   000000 701000 xent               TSX1    VYF$FREE
         4 000346   000000 011000                    NOP     0

      168     9884    3                END;                       /* If P$ ~= addr(nil) then do; */

      169     9885    2             IF DEL_INVERSION

   9885  4 000347   200004 470500                    LDP0    @DEL_INVERSION,,AUTO
         4 000350   000000 234100                    SZN     0,,PR0
         4 000351   000423 605000 4                  TPL     s:9905

      170     9886    3             THEN DO I = 0 TO SIZEW(VY_DEF_REC_A)-2;

   9886  4 000352   000433 450000 1                  STZ     I
         4 000353   000420 710000 4                  TRA     s:9895+3

      171     9887    3                 REC_TYPE = VY_DEF_REC_A(I); /* Get record type */

   9887  4 000354   000433 720000 1                  LXL0    I
         4 000355   000000 235010 xsym               LDA     VY_DEF_REC_A,X0
         4 000356   000455 755000 1                  STA     REC_TYPE

      172     9888    3                 VY_CURR$ -> VY$NODE.L_START_A$(REC_TYPE) = SAVE_START$(I);

   9888  4 000357   000460 236010 1                  LDQ     SAVE_START$,X0
         4 000360   000000 470400 xsym               LDP0    VY_CURR$
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:40   
         4 000361   000030 756105                    STQ     24,AL,PR0

      173     9889    3                 VY_CURR$ -> VY$NODE.L_STOP_A$(REC_TYPE) = SAVE_STOP$(I);

   9889  4 000362   000465 236010 1                  LDQ     SAVE_STOP$,X0
         4 000363   000000 470400 xsym               LDP0    VY_CURR$
         4 000364   000455 721000 1                  LXL1    REC_TYPE
         4 000365   000042 756111                    STQ     34,X1,PR0

      174     9890    3                 VY_CURR$ -> VY$NODE.L_SIZE_A(REC_TYPE) = SAVE_SIZE(I);

   9890  4 000366   000000 470400 xsym               LDP0    VY_CURR$
         4 000367   000455 721000 1                  LXL1    REC_TYPE
         4 000370   000472 235010 1                  LDA     SAVE_SIZE,X0
         4 000371   000054 755111                    STA     44,X1,PR0

      175     9891    3                 VY_CURR$ -> VY$NODE.L_PREV_SIZE_A(REC_TYPE) = SAVE_PREV_SIZE(I);

   9891  4 000372   000000 470400 xsym               LDP0    VY_CURR$
         4 000373   000455 721000 1                  LXL1    REC_TYPE
         4 000374   000477 235010 1                  LDA     SAVE_PREV_SIZE,X0
         4 000375   000066 755111                    STA     54,X1,PR0

      176     9892    3                 ALL_TYPE = VY_PASS1_ALL_TYPE(REC_TYPE);

   9892  4 000376   000455 721000 1                  LXL1    REC_TYPE
         4 000377   000000 235011 xsym               LDA     VY_PASS1_ALL_TYPE,X1
         4 000400   000437 755000 1                  STA     ALL_TYPE

      177     9893    3                 IF ALL_A(REC_TYPE) >0 THEN

   9893  4 000401   000446 235011 1                  LDA     ALL_A,X1
         4 000402   000415 604400 4                  TMOZ    s:9895

      178     9894    3                     CALL VYF$FREE( ALL_TYPE, ALL_A(REC_TYPE), 0 );

   9894  4 000403   000003 236000 5                  LDQ     3
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:41   
         4 000404   200014 756100                    STQ     DN_START$+3,,AUTO
         4 000405   000446 630411 1                  EPPR0   ALL_A,X1
         4 000406   200013 450500                    STP0    DN_START$+2,,AUTO
         4 000407   000024 236000 5                  LDQ     20
         4 000410   200012 756100                    STQ     DN_START$+1,,AUTO
         4 000411   200012 630500                    EPPR0   DN_START$+1,,AUTO
         4 000412   000021 631400 xsym               EPPR1   B_VECTNIL+17
         4 000413   000000 701000 xent               TSX1    VYF$FREE
         4 000414   000000 011000                    NOP     0

      179     9895    3                END;                       /* Do i = 0 to 1; */

   9895  4 000415   000433 235000 1                  LDA     I
         4 000416   000001 035007                    ADLA    1,DL
         4 000417   000433 755000 1                  STA     I
         4 000420   000433 235000 1                  LDA     I
         4 000421   000002 115007                    CMPA    2,DL
         4 000422   000354 602000 4                  TNC     s:9887

      180     9896    2            END;                           /* If DEL_INVERSION then do; */

      181     9897        %EJECT;
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:42   
      182     9898        /**/
      183     9899        /**/
      184     9900        /**/
      185     9901        /*    Delete entire object unit                                   */
      186     9902        /**/
      187     9903        /**/
      188     9904        /**/
      189     9905    1         KEY_BUF.FORM0.COUNT = 7;

   9905  4 000423   007000 236003                    LDQ     3584,DU
         4 000424   000006 552040 1                  STBQ    KEY_BUF,'40'O

      190     9906    1         KEY_BUF.FORM1.O777 = BITBIN( '777'O );

   9906  4 000425   000777 236003                    LDQ     511,DU
         4 000426   000006 552020 1                  STBQ    KEY_BUF,'20'O

      191     9907    1         KEY_BUF.FORM1.REC_TYPE = 1/*@DN*/;

   9907  4 000427   001000 236007                    LDQ     512,DL
         4 000430   000007 552010 1                  STBQ    KEY_BUF+1,'10'O

      192     9908    1         KEY_BUF.FORM1.PAGE# = 0;

   9908  4 000431   000000 236003                    LDQ     0,DU
         4 000432   000007 552004 1                  STBQ    KEY_BUF+1,'04'O

      193     9909    1         KEY_BUF.FORM1.UTS = LEMUR_UTS;

   9909  4 000433   200007 470500                    LDP0    @LEMUR_UTS,,AUTO
         4 000434   000000 100500                    MLR     fill='000'O
         4 000435   000000 000004                    ADSC9   0,,PR0                   cn=0,n=4
         4 000436   000006 400004 1                  ADSC9   KEY_BUF                  cn=2,n=4

      194     9910        /**/
      195     9911    1         KEY_BUF_L.FORM0.COUNT = 7;

PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:43   
   9911  4 000437   007000 236003                    LDQ     3584,DU
         4 000440   000207 552040 1                  STBQ    KEY_BUF_L,'40'O

      196     9912    1         KEY_BUF_L.FORM1.O777 = BITBIN( '777'O );

   9912  4 000441   000777 236003                    LDQ     511,DU
         4 000442   000207 552020 1                  STBQ    KEY_BUF_L,'20'O

      197     9913    1         KEY_BUF_L.FORM1.REC_TYPE = 15/*@PN*/;

   9913  4 000443   017000 236007                    LDQ     7680,DL
         4 000444   000210 552010 1                  STBQ    KEY_BUF_L+1,'10'O

      198     9914    1         KEY_BUF_L.FORM1.PAGE# = BITBIN( '777'O );

   9914  4 000445   000777 236007                    LDQ     511,DL
         4 000446   000210 552004 1                  STBQ    KEY_BUF_L+1,'04'O

      199     9915    1         KEY_BUF_L.FORM1.UTS = LEMUR_UTS;

   9915  4 000447   000000 100500                    MLR     fill='000'O
         4 000450   000000 000004                    ADSC9   0,,PR0                   cn=0,n=4
         4 000451   000207 400004 1                  ADSC9   KEY_BUF_L                cn=2,n=4

      200     9916        /**/
      201     9917    1         FPT_DELREC.LKEY_ = VECTOR( KEY_BUF_L );

   9917  4 000452   000052 237000 5                  LDAQ    42
         4 000453   000414 757000 1                  STAQ    FPT_DELREC+4

      202     9918        /**/
      203     9919        /**/
      204     9920    1         CALL M$DELREC( FPT_DELREC ) ALTRET(IGNORE2);

   9920  4 000454   000410 630400 1                  EPPR0   FPT_DELREC
         4 000455   440002 713400                    CLIMB   alt,+16386
         4 000456   401400 401760                    pmme    nvectors=4
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:44   
         4 000457   000460 702000 4                  TSX2    IGNORE2

   9917  4 000460                       IGNORE2      null
      205     9921    1   IGNORE2:;
      206     9922        /**/
      207     9923        /**/
      208     9924        /*        Delete plover records for the object unit               */
      209     9925        /**/
      210     9926        /**/
      211     9927    1         PLOVER_BIRTH_KEY.UTS = LEMUR_UTS;

   9927  4 000460   200007 470500                    LDP0    @LEMUR_UTS,,AUTO
         4 000461   000000 100500                    MLR     fill='000'O
         4 000462   000000 000004                    ADSC9   0,,PR0                   cn=0,n=4
         4 000463   000004 400004 1                  ADSC9   PLOVER_BIRTH_KEY         cn=2,n=4

      212     9928    1         PLOVER_KEY.UTS = LEMUR_UTS;

   9928  4 000464   000000 100500                    MLR     fill='000'O
         4 000465   000000 000004                    ADSC9   0,,PR0                   cn=0,n=4
         4 000466   000000 400004 1                  ADSC9   PLOVER_KEY               cn=2,n=4

      213     9929    1         PLOVER_KEY.PUTS = BITBIN('777777777777'O);

   9929  4 000467   000000 100400                    MLR     fill='000'O
         4 000470   000027 000004 xsym               ADSC9   B_VECTNIL+23             cn=0,n=4
         4 000471   000001 600004 1                  ADSC9   PLOVER_KEY+1             cn=3,n=4

      214     9930    1         KEY_BUF = PLOVER_BIRTH_KEY;

   9930  4 000472   000000 100400                    MLR     fill='000'O
         4 000473   000004 000006 1                  ADSC9   PLOVER_BIRTH_KEY         cn=0,n=6
         4 000474   000006 001001 1                  ADSC9   KEY_BUF                  cn=0,n=513

      215     9931    1         KEY_BUF_L = PLOVER_KEY;

   9931  4 000475   000000 100400                    MLR     fill='000'O
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:45   
         4 000476   000000 000015 1                  ADSC9   PLOVER_KEY               cn=0,n=13
         4 000477   000207 001001 1                  ADSC9   KEY_BUF_L                cn=0,n=513

      216     9932    1         CALL M$DELREC( FPT_DELREC ) ALTRET(IGNORE3);

   9932  4 000500   000410 630400 1                  EPPR0   FPT_DELREC
         4 000501   440002 713400                    CLIMB   alt,+16386
         4 000502   401400 401760                    pmme    nvectors=4
         4 000503   000504 702000 4                  TSX2    IGNORE3

   9931  4 000504                       IGNORE3      null
      217     9933    1   IGNORE3:;
      218     9934        /**/
      219     9935        /**/
      220     9936        /**/
      221     9937        /**/
      222     9938    2         IF DEL_HEAD THEN DO;

   9938  4 000504   200005 470500                    LDP0    @DEL_HEAD,,AUTO
         4 000505   000000 234100                    SZN     0,,PR0
         4 000506   000527 605000 4                  TPL     IGNORE4

      223     9939    2             FPT_DELREC.LKEY_ = VECTOR(NIL);

   9939  4 000507   000000 237000 5                  LDAQ    0
         4 000510   000414 757000 1                  STAQ    FPT_DELREC+4

      224     9940    2             KEY_BUF.FORM0.COUNT = VY_OK.OUNAME.COUNT + 1;

   9940  4 000511   000013 236000 xsym               LDQ     VY_OK+11
         4 000512   000033 772000                    QRL     27
         4 000513   000001 036007                    ADLQ    1,DL
         4 000514   000033 736000                    QLS     27
         4 000515   000006 552040 1                  STBQ    KEY_BUF,'40'O

      225     9941    2             CALL CONCAT(        KEY_BUF.FORM0.CHARS,

PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:46   
   9941  4 000516   000042 236003                    LDQ     34,DU
         4 000517   000006 552020 1                  STBQ    KEY_BUF,'20'O
         4 000520   040000 100400                    MLR     fill='040'O
         4 000521   000013 200777 xsym               ADSC9   VY_OK+11                 cn=1,n=511
         4 000522   000006 400777 1                  ADSC9   KEY_BUF                  cn=2,n=511

      226     9942    2                     '"',
      227     9943    2                     VY_OK.OUNAME.CHARS);
      228     9944    2             CALL M$DELREC( FPT_DELREC ) ALTRET(IGNORE4);

   9944  4 000523   000410 630400 1                  EPPR0   FPT_DELREC
         4 000524   440002 713400                    CLIMB   alt,+16386
         4 000525   401400 401760                    pmme    nvectors=4
         4 000526   000527 702000 4                  TSX2    IGNORE4

   9941  4 000527                       IGNORE4      null
      229     9945    2   IGNORE4:  ;
      230     9946    2            END;

      231     9947        /**/
      232     9948        /**/
      233     9949    2         IF ISSUE_MESSAGE THEN DO;

   9949  4 000527   200006 470500                    LDP0    @ISSUE_MESSAGE,,AUTO
         4 000530   000000 234100                    SZN     0,,PR0
         4 000531   000550 605000 4                  TPL     s:9967

      234     9950        /*E*  ERROR: VYO-E$DEL_UNIT_VY-0
      235     9951              MESSAGE: Object unit %U2 in file %U1 deleted.
      236     9952              DESCRIPTION: Self-explanatory.
      237     9953        */
      238     9954    2             VY_EFIELD1.COUNT = VY_OK.FILE.OFNAME.COUNT;

   9954  4 000532   000213 236000 xsym               LDQ     VY_OK+139
         4 000533   000000 552040 xsym               STBQ    VY_EFIELD1,'40'O

      239     9955    2             VY_EFIELD1.CHARS = VY_OK.FILE.OFNAME.CHARS;
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:47   

   9955  4 000534   040000 100400                    MLR     fill='040'O
         4 000535   000213 200050 xsym               ADSC9   VY_OK+139                cn=1,n=40
         4 000536   000000 200117 xsym               ADSC9   VY_EFIELD1               cn=1,n=79

      240     9956        /**/
      241     9957    2             VY_EFIELD2.COUNT = VY_OK.OUNAME.COUNT;

   9957  4 000537   000013 236000 xsym               LDQ     VY_OK+11
         4 000540   000000 552040 xsym               STBQ    VY_EFIELD2,'40'O

      242     9958    2             VY_EFIELD2.CHARS = VY_OK.OUNAME.CHARS;

   9958  4 000541   040000 100400                    MLR     fill='040'O
         4 000542   000013 200117 xsym               ADSC9   VY_OK+11                 cn=1,n=79
         4 000543   000000 200117 xsym               ADSC9   VY_EFIELD2               cn=1,n=79

      243     9959                  %SCREAM(
      244     9960                  ERR#=%E$DEL_UNIT_VY,
      245     9961                  LEVEL=%@E$I_VY,
      246     9962                  MID="'O'");

   9963  4 000544   000055 630400 5                  EPPR0   45
         4 000545   000022 631400 xsym               EPPR1   B_VECTNIL+18
         4 000546   000000 701000 xent               TSX1    VYE$ERROR
         4 000547   000000 011000                    NOP     0

      247     9965    2            END;

      248     9966        /**/
      249     9967    1   END VYO$DEL_UNIT;

   9967  4 000550   000000 702200 xent               TSX2  ! X66_ARET

PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:48   
--  Include file information  --

   B$OBJECT_C.:E05TOU  is referenced.
   VY_DCB_R.:E05TOU  cannot be made into a system file and is referenced.
   VY_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   VY_FIXED_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   VY_MACRO_C.:E05TOU  is referenced.
   VY_PERR_C.:E05TOU  is referenced.
   VY_SUBS_C.:E05TOU  is referenced.
   VY_INC_NO_C.:E05TOU  is referenced.
   VY_SWITCH_C.:E05TOU  is referenced.
   VY_INC_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure VYO$DEL_UNIT.
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:49   

 **** Variables and constants ****

  ****  Section 001  Data  VYO$DEL_UNIT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   446-0-0/w SBIN        r     1 ALL_A(0:6)               437-0-0/w UBIN        r     1 ALL_TYPE
   432-0-0/w PTR         r     1 BUFFER$                  430-0-0/w PTR         r     1 DNAME$
   410-0-0/d STRC(360)   r     1 FPT_DELREC               443-0-0/w UBIN        r     1 GET
   440-0-0/w UBIN        r     1 HEAD_INX                 433-0-0/w UBIN        r     1 I
     6-0-0/w STRC(4617)  r     1 KEY_BUF                  207-0-0/w STRC(4617)  r     1 KEY_BUF_L
   427-0-0/w PTR         r     1 NAME$                    444-0-0/w UBIN        r     1 NPAGE
   422-0-0/w PTR         r     1 P$                       442-0-0/w UBIN        r     1 PAGE
     4-0-0/w STRC(54)    r     1 PLOVER_BIRTH_KEY           0-0-0/w STRC(117)   r     1 PLOVER_KEY
   455-0-0/w UBIN        r     1 REC_TYPE
   477-0-0/w UBIN        r     1 SAVE_PREV_SIZE(0:4)
   472-0-0/w UBIN        r     1 SAVE_SIZE(0:4)
   460-0-0/w PTR         r     1 SAVE_START$(0:4)
   465-0-0/w PTR         r     1 SAVE_STOP$(0:4)
   431-0-0/w PTR         r     1 START$                   441-0-0/w UBIN        r     1 TSIZE
   445-0-0/w UBIN        r     1 TSIZE_READ

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    10-0-0/w PTR         r     1 @COMPILE_UTS               3-0-0/w PTR         r     1 @DCB#
     5-0-0/w PTR         r     1 @DEL_HEAD                  4-0-0/w PTR         r     1 @DEL_INVERSION
     6-0-0/w PTR         r     1 @ISSUE_MESSAGE             7-0-0/w PTR         r     1 @LEMUR_UTS
    *0-0-0/w UBIN        r     1 COMPILE_UTS               *0-0-0/w UBIN        r     1 DCB#
    *0-0-0/w BIT         r     1 DEL_HEAD                  *0-0-0/w BIT         r     1 DEL_INVERSION
    11-0-0/w PTR         r     1 DN_START$                 *0-0-0/w BIT         r     1 ISSUE_MESSAGE
    *0-0-0/w UBIN        r     1 LEMUR_UTS

  ****  SYMREF variables  ****
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:50   

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT         r     1 VYI_ROLLBACK               0-0-0/w PTR         r     1 VY_CURR$
     0-0-0/w UBIN        r     1 VY_DEF_REC_A(0:2)
     0-0-0/w PTR         r     1 VY_ED_START$               0-0-0/w PTR         r     1 VY_ED_STOP$
     0-0-0/w STRC(720)   r     1 VY_EFIELD1                 0-0-0/w STRC(720)   r     1 VY_EFIELD2
     0-0-0/w SBIN        r     1 VY_HEAD_INX(0:9)
     0-0-0/w SBIN        r     1 VY_IO_SIZEC
     0-0-0/w SBIN        r     1 VY_M_ALL(0:8)
     0-0-0/w PTR         r     1 VY_M_BASE_PTR(0:8)
     0-0-0/w SBIN        r     1 VY_M_FREE(0:8)
     0-0-0/w STRC(5796)  r     1 VY_OK                      0-0-0/c STRC(1044)  r     1 VY_OU_HEAD
     0-0-0/w STRC(4617)  r     1 VY_O_KEY_BUF
     0-0-0/w SBIN        r     1 VY_PASS1_ALL_TYPE(0:9)
     0-0-0/w PTR         r     1 VY_ROOT$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w ASTR(18)    r     1 B$DNAME                    0-0-0/c ACHR        r     1 CHAR$CHAR
     0-0-0N  NULL        r     1 M$OF                       0-0-0N  NULL        r     1 M$RF
     0-0-0/w STRC(3672)  r     1 VY$NODE                    0-0-0/w STRC(72)    r     1 VYD$TMPLT


   Procedure VYO$DEL_UNIT requires 361 words for executable code.
   Procedure VYO$DEL_UNIT requires 22 words of local(AUTO) storage.

    No errors detected in file VYO$DEL_UNIT.:E05TSI    .
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:51   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:52   
          MINI XREF LISTING

ALL_A
      9741**DCL      9774<<ASSIGN   9836<<ASSIGN   9893>>IF       9894<>CALL
ALL_TYPE
      9734**DCL      9775<<ASSIGN   9816>>IF       9816>>IF       9817>>ASSIGN   9817>>ASSIGN   9818>>ASSIGN
      9818>>ASSIGN   9820<>CALL     9822<>CALL     9845<>CALL     9892<<ASSIGN   9894<>CALL
B$DNAME.COUNT
      9409**DCL      9416--IMP-SIZ  9868>>ASSIGN   9869>>ASSIGN
B$DNAME.TEXT
      9416**DCL      9869>>ASSIGN
BUFFER$
      9707**DCL      9748--IMP-PTR  9861<<ASSIGN   9864<>CALL     9870<>CALL     9875>>IF
CHAR$CHAR
      9748**DCL      9875>>IF
COMPILE_UTS
      9440**DCL         7--PROC
DCB#
      9435**DCL         7--PROC     9758>>DOCASE   9822<>CALL     9870<>CALL
DEL_HEAD
      9437**DCL         7--PROC     9938>>IF
DEL_INVERSION
      9436**DCL         7--PROC     9764>>IF       9765>>IF       9885>>IF
DNAME$
      9705**DCL      9853<<ASSIGN   9855<<ASSIGN   9867>>ASSIGN
DN_START$
      9754**DCL      9767<<ASSIGN   9843<<ASSIGN   9851>>IF       9853>>ASSIGN
FPT_DELREC
      9630**DCL      9877<>CALL     9920<>CALL     9932<>CALL     9944<>CALL
FPT_DELREC.LKEY_
      9632**DCL      9757<<ASSIGN   9917<<ASSIGN   9939<<ASSIGN
FPT_DELREC.V
      9633**DCL      9630--DCLINIT
FPT_DELREC.V.DCB#
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:53   
      9634**DCL      9760<<ASSIGN   9762<<ASSIGN
GET
      9738**DCL      9779<<ASSIGN   9816>>IF       9818>>ASSIGN   9820<>CALL     9822<>CALL     9845>>IF
      9845>>CALL
HEAD_INX
      9735**DCL      9776<<ASSIGN   9777>>ASSIGN   9778>>ASSIGN
I
      9725**DCL      9726--REDEF    9768<<DOINDEX  9769>>ASSIGN   9770>>ASSIGN   9771>>ASSIGN   9772>>ASSIGN
      9773>>ASSIGN   9886<<DOINDEX  9887>>ASSIGN   9888>>ASSIGN   9889>>ASSIGN   9890>>ASSIGN   9891>>ASSIGN
IGNORE1
      9876**LABEL    9877--CALLALT
IGNORE2
      9917**LABEL    9920--CALLALT
IGNORE3
      9931**LABEL    9932--CALLALT
IGNORE4
      9941**LABEL    9944--CALLALT
INC_P
      9881**LABEL    9870--CALLALT
ISSUE_MESSAGE
      9438**DCL         7--PROC     9949>>IF
J
      9727**DCL      9728--REDEF
K
      9729**DCL      9730--REDEF
KEY_BUF
      9555**DCL      9630--DCLINIT  9631--DCLINIT  9876<<ASSIGN   9930<<ASSIGN
KEY_BUF.FORM0
      9556**DCL      9559--REDEF    9566--REDEF
KEY_BUF.FORM0.CHARS
      9558**DCL      9941<<CALLBLT
KEY_BUF.FORM0.COUNT
      9557**DCL      9905<<ASSIGN   9940<<ASSIGN
KEY_BUF.FORM1.O777
      9561**DCL      9906<<ASSIGN
KEY_BUF.FORM1.PAGE#
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:54   
      9564**DCL      9908<<ASSIGN
KEY_BUF.FORM1.REC_TYPE
      9563**DCL      9907<<ASSIGN
KEY_BUF.FORM1.UTS
      9562**DCL      9909<<ASSIGN
KEY_BUF_L
      9578**DCL      9917--ASSIGN   9931<<ASSIGN
KEY_BUF_L.FORM0
      9579**DCL      9582--REDEF    9589--REDEF
KEY_BUF_L.FORM0.COUNT
      9580**DCL      9911<<ASSIGN
KEY_BUF_L.FORM1.O777
      9584**DCL      9912<<ASSIGN
KEY_BUF_L.FORM1.PAGE#
      9587**DCL      9914<<ASSIGN
KEY_BUF_L.FORM1.REC_TYPE
      9586**DCL      9913<<ASSIGN
KEY_BUF_L.FORM1.UTS
      9585**DCL      9915<<ASSIGN
L
      9731**DCL      9732--REDEF
LEMUR_UTS
      9439**DCL         7--PROC     9909>>ASSIGN   9915>>ASSIGN   9927>>ASSIGN   9928>>ASSIGN
M$DELREC
      1608**DCL-ENT  9877--CALL     9920--CALL     9932--CALL     9944--CALL
M$OF
      9638**DCL      9760>>ASSIGN
M$RF
      9639**DCL      9762>>ASSIGN
NAME$
      9704**DCL      9867<<ASSIGN   9868>>ASSIGN   9869>>ASSIGN   9869>>ASSIGN
NPAGE
      9739**DCL      9822<>CALL
P$
      9698**DCL      9849<<ASSIGN   9850>>IF       9866>>DOWHILE  9867>>ASSIGN   9881<<ASSIGN   9881>>ASSIGN
PAGE
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:55   
      9737**DCL      9778<<ASSIGN   9782>>IF       9791<>CALL     9822<>CALL
PLOVER_BIRTH_KEY
      9544**DCL      9930>>ASSIGN
PLOVER_BIRTH_KEY.UTS
      9550**DCL      9927<<ASSIGN
PLOVER_KEY
      9514**DCL      9931>>ASSIGN
PLOVER_KEY.PUTS
      9525**DCL      9929<<ASSIGN
PLOVER_KEY.UTS
      9520**DCL      9928<<ASSIGN
REC_TYPE
      9742**DCL      9769<<ASSIGN   9770>>ASSIGN   9771>>ASSIGN   9772>>ASSIGN   9773>>ASSIGN   9774>>ASSIGN
      9775>>ASSIGN   9776>>ASSIGN   9781>>IF       9795<>CALL     9822<>CALL     9836>>ASSIGN   9838>>IF
      9842>>IF       9887<<ASSIGN   9888>>ASSIGN   9889>>ASSIGN   9890>>ASSIGN   9891>>ASSIGN   9892>>ASSIGN
      9893>>IF       9894>>CALL
SAVE_PREV_SIZE
      9752**DCL      9773<<ASSIGN   9891>>ASSIGN
SAVE_SIZE
      9751**DCL      9772<<ASSIGN   9890>>ASSIGN
SAVE_START$
      9749**DCL      9770<<ASSIGN   9888>>ASSIGN
SAVE_STOP$
      9750**DCL      9771<<ASSIGN   9889>>ASSIGN
START$
      9706**DCL      9817<<ASSIGN   9820<>CALL     9822<>CALL     9839>>ASSIGN   9840>>ASSIGN   9843>>ASSIGN
TSIZE
      9736**DCL      9777<<ASSIGN   9779>>ASSIGN   9780>>IF       9822<>CALL
TSIZE_READ
      9740**DCL      9822<>CALL     9836>>ASSIGN   9837>>IF       9840>>ASSIGN   9845>>IF       9845>>CALL
VY$NODE.ADDR_START_A
      9230**DCL      9231--REDEF
VY$NODE.ADDR_STOP_A
      9235**DCL      9236--REDEF
VY$NODE.L_PREV_SIZE
      9288**DCL      9299--REDEF
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:56   
VY$NODE.L_PREV_SIZE_A
      9299**DCL      9773>>ASSIGN   9891<<ASSIGN
VY$NODE.L_SC_START
      9307**DCL      9312--REDEF
VY$NODE.L_SC_STOP
      9313**DCL      9318--REDEF
VY$NODE.L_SIZE
      9276**DCL      9287--REDEF
VY$NODE.L_SIZE_A
      9287**DCL      9772>>ASSIGN   9890<<ASSIGN
VY$NODE.L_START
      9252**DCL      9263--REDEF
VY$NODE.L_START.DN$
      9254**DCL      9855>>ASSIGN
VY$NODE.L_START_A$
      9263**DCL      9770>>ASSIGN   9888<<ASSIGN
VY$NODE.L_STOP
      9264**DCL      9275--REDEF
VY$NODE.L_STOP_A$
      9275**DCL      9771>>ASSIGN   9889<<ASSIGN
VY$NODE.PROMOTE_HEAD
      9319**DCL      9322--REDEF
VY$NODE.PROMOTE_TAIL
      9323**DCL      9326--REDEF
VY$NODE.START_PAGE#_A
      9240**DCL      9241--REDEF
VY$NODE.STOP_PAGE#_A
      9245**DCL      9246--REDEF
VYA$GET
      9666**DCL-ENT  9820--CALL     9864--CALL
VYD$B2C
      9664**DCL-ENT  9791--CALL     9795--CALL
VYD$TMPLT
      9355**DCL      9840--ASSIGN   9881--ASSIGN
VYD$TMPLT.A
      9356**DCL      9357--REDEF    9358--REDEF    9385--REDEF    9391--REDEF    9394--REDEF
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:57   
VYD$TMPLT.I.A
      9375**DCL      9376--REDEF
VYD$TMPLT.I.CST
      9379**DCL      9380--REDEF
VYD$TMPLT.I.I
      9377**DCL      9378--REDEF
VYD$TMPLT.I.NAME_DISP
      9371**DCL      9372--REDEF    9867>>ASSIGN
VYD$TMPLT.I.NP
      9381**DCL      9382--REDEF
VYD$TMPLT.I.P
      9373**DCL      9374--REDEF
VYD$TMPLT.I.SC#
      9366**DCL      9367--REDEF
VYE$ERROR
      9657**DCL-ENT  9807--CALL     9963--CALL
VYF$FREE
      9667**DCL-ENT  9845--CALL     9883--CALL     9894--CALL
VYI$READ
      9676**DCL-ENT  9870--CALL
VYI_ROLLBACK
      9753**DCL      9764>>IF
VYU$PREAD
      9674**DCL-ENT  9822--CALL
VY_BIAS.A
      5385**DCL      5385--REDEF
VY_CBUF.CHARS_A
      5376**DCL      5376--REDEF
VY_CURR$
      5380**DCL      9770>>ASSIGN   9771>>ASSIGN   9772>>ASSIGN   9773>>ASSIGN   9822<>CALL     9888>>ASSIGN
      9889>>ASSIGN   9890>>ASSIGN   9891>>ASSIGN
VY_DEF_REC_A
      5698**DCL      9768--DOINDEX  9769>>ASSIGN   9886--DOINDEX  9887>>ASSIGN
VY_EBUF.CHARS_A
      5677**DCL      5678--REDEF
VY_ED_START$
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:58   
      5737**DCL      9766<<ASSIGN   9839<<ASSIGN   9849>>ASSIGN
VY_ED_STOP$
      5737**DCL      9840<<ASSIGN   9866>>DOWHILE
VY_EFIELD1.CHARS
      5678**DCL      5678--REDEF    9955<<ASSIGN
VY_EFIELD1.CHARS_A
      5678**DCL      9791<>CALL
VY_EFIELD1.COUNT
      5678**DCL      9954<<ASSIGN
VY_EFIELD2.CHARS
      5679**DCL      5679--REDEF    9958<<ASSIGN
VY_EFIELD2.CHARS_A
      5679**DCL      9795<>CALL
VY_EFIELD2.COUNT
      5679**DCL      9957<<ASSIGN
VY_EFIELD3.CHARS
      5680**DCL      5680--REDEF
VY_ERRORS
      5381**DCL      5383--REDEF
VY_ERRORS.CONFLICT_A
      5382**DCL      5383--REDEF
VY_ERRORS.UNSAT_A
      5381**DCL      5382--REDEF
VY_HEAD_INX
      5697**DCL      9776>>ASSIGN
VY_IMAGE_DATA.CPAGE#_A
      5269**DCL      5270--REDEF
VY_IMAGE_DATA.NODE_A$
      5281**DCL      5282--REDEF
VY_IMAGE_DATA.START_A$
      5273**DCL      5274--REDEF
VY_IMAGE_DATA.STOP_A$
      5277**DCL      5278--REDEF
VY_IMAGE_PROC.CPAGE#_A
      5292**DCL      5293--REDEF
VY_IMAGE_PROC.NODE_A$
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:59   
      5304**DCL      5305--REDEF
VY_IMAGE_PROC.START_A$
      5296**DCL      5297--REDEF
VY_IMAGE_PROC.STOP_A$
      5300**DCL      5301--REDEF
VY_IMAGE_ROS.CPAGE#_A
      5315**DCL      5316--REDEF
VY_IMAGE_ROS.NODE_A$
      5327**DCL      5328--REDEF
VY_IMAGE_ROS.START_A$
      5319**DCL      5320--REDEF
VY_IMAGE_ROS.STOP_A$
      5323**DCL      5324--REDEF
VY_IO_SIZEC
      5683**DCL      9748--IMP-SIZ  9875>>IF
VY_MAP_HDR.CHARS
      5742**DCL      5743--REDEF    5743--REDEF
VY_MAP_LIT_LO_FPT_WRITE.STATION_
      5071**DCL      5071--REDEF
VY_MAP_LIT_LO_FPT_WRITE.V.DVBYTE.VFC#
      5078**DCL      5078--REDEF
VY_MAP_LO_FPT_WRITE.STATION_
      5040**DCL      5040--REDEF
VY_MAP_LO_FPT_WRITE.V.DVBYTE.VFC#
      5047**DCL      5047--REDEF
VY_MBUF.CHARS
      5741**DCL      5742--REDEF    5742--REDEF
VY_M_ALL
      5386**DCL      9816>>IF       9860>>IF
VY_M_BASE_PTR
      5387**DCL      9817>>ASSIGN   9861>>ASSIGN
VY_M_FREE
      5386**DCL      9816>>IF       9817>>ASSIGN   9818<<ASSIGN   9818>>ASSIGN   9860>>IF       9861>>ASSIGN
      9862<<ASSIGN   9862>>ASSIGN
VY_M_VECTOR.F
      5110**DCL      5114--REDEF
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:60   
VY_M_VECTOR_DP.F
      5145**DCL      5149--REDEF
VY_O.DUPL_ATTCH
      5523**DCL      5527--REDEF
VY_O.MAP_ATTCH
      5511**DCL      5522--REDEF
VY_O.PRIMARY_OPTION
      5505**DCL      5510--REDEF
VY_O.SEV_ATTCH
      5528**DCL      5530--REDEF
VY_OD.DUPL_ATTCH
      5667**DCL      5671--REDEF
VY_OD.MAP_ATTCH
      5655**DCL      5666--REDEF
VY_OD.PRIMARY_OPTION
      5649**DCL      5654--REDEF
VY_OD.SEV_ATTCH
      5672**DCL      5674--REDEF
VY_OK.FILE.OFNAME.CHARS
      5262**DCL      9955>>ASSIGN
VY_OK.FILE.OFNAME.COUNT
      5261**DCL      9954>>ASSIGN
VY_OK.OUNAME.CHARS
      5258**DCL      9875>>IF       9941>>CALLBLT  9958>>ASSIGN
VY_OK.OUNAME.COUNT
      5257**DCL      9940>>ASSIGN   9957>>ASSIGN
VY_OL_KEY_BUF.FORM0
      5178**DCL      5181--REDEF    5188--REDEF
VY_OU_HEAD.REC_A
      5366**DCL      5367--REDEF
VY_OU_HEAD.REC_A.PAGE
      5367**DCL      9778>>ASSIGN
VY_OU_HEAD.REC_A.SIZE
      5366**DCL      9777>>ASSIGN
VY_O_KEY_BUF
      5154**DCL      9876>>ASSIGN
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:61   
VY_O_KEY_BUF.FORM0
      5155**DCL      5158--REDEF    5165--REDEF
VY_O_KEY_BUF.FORM0.CHARS
      5157**DCL      9869<<ASSIGN
VY_O_KEY_BUF.FORM0.COUNT
      5156**DCL      9868<<ASSIGN
VY_O_KEY_BUF_L.FORM0
      5201**DCL      5204--REDEF    5211--REDEF
VY_PAR_UNWIND
      5736**DCL      5736--REDEF
VY_PASS1_ALL_TYPE
      5696**DCL      9775>>ASSIGN   9892>>ASSIGN
VY_PASS2_REF.OU.L_START
      5703**DCL      5704--REDEF
VY_PASS2_REF.OU.L_STOP
      5704**DCL      5705--REDEF
VY_PASS2_REF.OU.MAX
      5702**DCL      5703--REDEF
VY_PASS2_REF.OU.SIZE
      5705**DCL      5706--REDEF
VY_PASS2_REF.SAT.COUNT
      5709**DCL      5710--REDEF
VY_PASS2_REF.SAT.ENT_SIZE
      5711**DCL      5712--REDEF
VY_PASS2_REF.SAT.L_START
      5707**DCL      5708--REDEF
VY_PASS2_REF.SAT.L_STOP
      5708**DCL      5709--REDEF
VY_PASS2_REF.SAT.MAX
      5706**DCL      5707--REDEF
VY_PASS2_REF.UNSAT.L_START
      5713**DCL      5714--REDEF
VY_PASS2_REF.UNSAT.L_STOP
      5714**DCL      5715--REDEF
VY_PASS2_REF.UNSAT.L_WHERE
      5715**DCL      5716--REDEF
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:62   
VY_PASS2_REF.UNSAT.MAX
      5712**DCL      5713--REDEF
VY_PASS2_REF.UNSAT.PAGE#
      5717**DCL      5718--REDEF
VY_PASS2_REF.UNSAT.SIZE
      5716**DCL      5717--REDEF
VY_PROGRAM_BIAS.A
      5384**DCL      5384--REDEF
VY_ROOT$
      5379**DCL      9855>>ASSIGN
VY_RU_HEAD.DATA_SEGMENT
      5352**DCL      5352--REDEF
VY_RU_HEAD.L
      5348**DCL      5349--REDEF
VY_RU_HEAD.MAP_BITS
      5349**DCL      5351--REDEF
VY_RU_HEAD.PBIT
      5345**DCL      5345--REDEF
VY_RU_HEAD_BUF.DATA_SEGMENT
      5362**DCL      5362--REDEF
VY_RU_HEAD_BUF.L
      5357**DCL      5358--REDEF
VY_RU_HEAD_BUF.MAP_BITS
      5359**DCL      5361--REDEF
VY_RU_HEAD_BUF.PBIT
      5354**DCL      5355--REDEF
VY_R_KEY_BUF.FORM0
      5224**DCL      5228--REDEF    5234--REDEF
VY_SI_KEY_BUF.KEY
      5732**DCL      5732--REDEF
VY_SPC.B$.MINE
      5727**DCL      5728--REDEF
VY_SPC.B$.NAME
      5724**DCL      5724--REDEF
VY_SPC.B$.SKIP
      5726**DCL      5727--REDEF
PL6.E3A0      #001=VYO$DEL_UNIT File=VYO$DEL_UNIT.:E05TSI                        WED 07/30/97 08:57 Page:63   
VY_SPC.B$.VALUE
      5725**DCL      5726--REDEF
VY_SPC.SEG.NAME
      5719**DCL      5720--REDEF
VY_SPC.SEG.VALUE
      5720**DCL      5721--REDEF
VY_TSX0_OVERLAY.H
      5691**DCL      5692--REDEF

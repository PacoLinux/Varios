VERSION E05

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:1    
        1        1        /*M* IDU$BOOT - WRITE UNLABELED PORTION OF PO TAPE */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* */
        8        8        /**/
        9        9        IDU$BOOT: PROC;
       10       10        /**/
       11       11        %INCLUDE CP_6;
       12       92        %INCLUDE CP_6_SUBS;
       13      632        %INCLUDE ID_DATA_C;
       14      693        %INCLUDE B$OBJECT_C;
       15     4123        %INCLUDE B$ROSEG;
       16     4186        %INCLUDE ID_PERR_C;
       17     4228        %INCLUDE B_ERRORS_C;
       18     5355        %INCLUDE F_DCB_D;
       19     5443        %INCLUDE M_INFO_C;
       20     5583        %INCLUDE B_LSDATA_C;
       21     8789    1   DCL B$TCB$ PTR SYMREF;
       22     8790        %B$TCB;
       23     8793        %B$ALT;
       24     8801        %INCLUDE XU_FORMAT_C;
       25     8963        %F_FDS (STCLASS=SYMREF);
       26     9076        %FIDBLK (NAME=BOOTSTRAP,STCLASS=SYMREF);
       27     9128        %FIDBLK (NAME=FIRMWARE,STCLASS=SYMREF);
       28     9180        %FIDBLK (NAME=MONSTER,STCLASS=SYMREF);
       29     9232        %FIDBLK (NAME=MHJIT,STCLASS=SYMREF);
       30     9284        %FIDBLK (NAME=GHOST1,STCLASS=SYMREF);
       31     9336        %FIDBLK (NAME=G1HJIT,STCLASS=SYMREF);
       32     9388        %FIDBLK (NAME=XDLT,STCLASS=SYMREF);
       33     9440        %FIDBLK (NAME=XDLTLS,STCLASS=SYMREF);
       34     9492        %FIDBLK (NAME=PATCH,STCLASS=STATIC);
       35     9544        %FIDBLK (NAME=ASCHEMA,STCLASS=SYMREF);
       36     9596    1   DCL PTCH$ PTR;
       37     9597    1   DCL ID_PTCHHEAD$ PTR SYMREF;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:2    
       38     9598        %FIDBLK (NAME=PTCH,STCLASS="BASED(PTCH$)",LINKED=YES);
       39     9650    1   DCL TAPEID CHAR(28) SYMREF;
       40     9651        %VLR_SITEINFO (FPTN=ID_SITEINFO,STCLASS=SYMREF);
       41     9670        %SUB BOOTBIAS='20000'O/*BOOTBIAS*/;
       42     9671        %SUB PROCMAX='777777'O/*PROCMAX*/;
       43     9672        %SUB XDLTLSTC=0/*XDLTLSTC*/;
       44     9673        %SUB XDLTTC=1/*XDLTTC*/;
       45     9674        %SUB MHJITTC=2/*MHJITTC*/;
       46     9675        %SUB MDATATC=3/*MDATATC*/;
       47     9676        %SUB MPROCTC=4/*MPROCTC*/;
       48     9677        %SUB MEDEFTC=5/*MEDEFTC*/;
       49     9678        %SUB MSDEFTC=6/*MSDEFTC*/;
       50     9679        %SUB MDNAMTC=7/*MDNAMTC*/;
       51     9680        %SUB MSCHEMTC=8/*MSCHEMTC*/;
       52     9681        %SUB G1ROTC=9/*G1ROTC*/;
       53     9682        %SUB G1DATATC=10/*G1DATATC*/;
       54     9683        %SUB G1PROCTC=11/*G1PROCTC*/;
       55     9684        %SUB AEDEFTC=12;
       56     9685        %SUB ASDEFTC=13;
       57     9686        %SUB ADNAMTC=14;
       58     9687        %SUB ASCHEMTC=15;
       59     9688        %SUB SITEINFOTC=16;
       60     9689        %SUB MROSEGTC=17;
       61     9690        %SUB PATCHTC=18;
       62     9691        %SUB NUMTC=19;
       63     9692        %SUB ASCII=0/*ASCII*/;
       64     9693        %SUB BINARY=1/*BINARY*/;
       65     9694        %SUB NEVER="WHILE ('0'B)";
       66     9695        %SUB FOREVER="WHILE ('1'B)";
       67     9696        %MACRO ERRCODE (NAME=OOPS,SEV#=0,CODE#=0,FCG#='1104'O,MID#='25'O);
       68     9697        DCL 1 NAME CONSTANT ALIGNED,
       69     9698              2 FCG BIT(12) INIT(FCG#),
       70     9699              2 MID BIT(6) INIT(MID#),
       71     9700              2 CODE UBIN(15) UNAL INIT(CODE#),
       72     9701              2 SEV UBIN(3) UNAL INIT(SEV#);
       73     9702        %MEND;
       74     9703        /**/
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:3    
       75     9704        %ERRCODE (NAME=NO_BOOT_CODE,CODE#=%E$NO_BOOT);
       76     9711        %ERRCODE (NAME=NO_FIRMWARE_CODE,CODE#=%E$NO_FIRMWARE);
       77     9718        %ERRCODE (NAME=NO_XDELTA_CODE,CODE#=%E$NO_XDELTA);
       78     9725        %ERRCODE (NAME=NO_MHJIT_CODE,CODE#=%E$NO_MHJIT);
       79     9732        %ERRCODE (NAME=NO_MONSTER_CODE,CODE#=%E$NO_MONSTER);
       80     9739        %ERRCODE (NAME=NO_G1RO_CODE,CODE#=%E$NO_G1RO);
       81     9746        %ERRCODE (NAME=NO_GHOST1_CODE,CODE#=%E$NO_GHOST1);
       82     9753        %ERRCODE (NAME=OPN_PO_CODE,CODE#=%E$PO_OPN);
       83     9760        %ERRCODE (NAME=NO_BUFFER_CODE,CODE#=%E$NO_BUFFER);
       84     9767        %ERRCODE (NAME=BAD_READ_CODE,CODE#=%E$BAD_READ);
       85     9774        %ERRCODE (NAME=NO_PATCH_CODE,CODE#=%E$NOPATCH);
       86     9781        %ERRCODE (NAME=NO_ROS_CODE,CODE#=%E$NO_ROS);
       87     9788        %ERRCODE (NAME=VERIFY_CODE,CODE#=%E$VERIFY);
       88     9795        %ERRCODE (NAME=TRUNC_CODE,CODE#=%E$ID_PTRUNC);
       89     9802        %ERRCODE (NAME=OPN_AS_CODE,CODE#=%E$AS_OPN);
       90     9809        %ERRCODE (NAME=BAD_AS_WRITE_CODE,CODE#=%E$AS_WRITE);
       91     9816        %ERRCODE (NAME=AS_VERIFY_CODE,CODE#=%E$AS_VERIFY);
       92     9823        %ERRCODE (NAME=NO_ASCHEMA_CODE,CODE#=%E$NO_ASCHEMA);
       93     9830    1   DCL OPEN_ERR_CODE BIT(36) ALIGNED;
       94     9831        /**/
       95     9832        %INCLUDE F$DCB;
       96     9881    1   DCL M$PO DCB;
       97     9882    1   DCL M$PO$ PTR;
       98     9883    1   DCL M$AS DCB;
       99     9884    1   DCL M$AS$ PTR;
      100     9885    1   DCL POAS SBIN STATIC INIT(0);
      101     9886    1   DCL ASCHEMA_TYP UBIN SYMREF ALIGNED;
      102     9887    1   DCL ASCHEMA_FLG BIT(1) SYMREF ALIGNED;
      103     9888    1   DCL ASCH20 UBIN(20) UNAL;
      104     9889    1   DCL M$INPUT DCB;
      105     9890    1   DCL M$INPUT$ PTR;
      106     9891    1   DCL M$LO DCB;
      107     9892        /**/
      108     9893    1   DCL IDD$GETSEG ENTRY(2) ALTRET;
      109     9894    1   DCL IDO$OPENFILE ENTRY(4) ALTRET;
      110     9895    1   DCL XUR$ERRMSG ENTRY(7) ALTRET;
      111     9896        %INCLUDE XUF_ENTRY;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:4    
      112     9904        /**/
      113     9905        %B$HEAD (NAME=HEADREC,STCLASS=STATIC);
      114    10105        %B$RUBIRTH (NAME=BIRTHREC,STCLASS=AUTO,COUNTINIT="");
      115    10114        %B$RU_DEF;
      116    10171        %B$TREE_TABLE;
      117    10229    1   DCL 1 BIRTHKEY CONSTANT ALIGNED,
      118    10230    1         2 L UBIN BYTE UNAL INIT(SIZEC('BIRTH')),
      119    10231    1         2 C CHAR(0) INIT('BIRTH');
      120    10232    1   DCL 1 IOBUF STATIC,
      121    10233    1         2 BOUND UBIN(20) UNAL,
      122    10234    1         2 FLAGS BIT(16) UNAL,
      123    10235    1         2 PTR$ PTR;
      124    10236    1   DCL TEMP SBIN;
      125    10237    1   DCL I SBIN;
      126    10238    1   DCL TRUNCATED SBIN;
      127    10239    1   DCL RES CHAR(2);
      128    10240    1   DCL READONLY# BIT(1) ALIGNED;
      129    10241    1   DCL 1 ID_SNLIST SYMREF ALIGNED,
      130    10242    1         2 N SBIN,
      131    10243    1         2 C(0:8) CHAR(6) UNAL;
      132    10244    1   DCL 1 ID_ASLIST ALIGNED SYMREF,
      133    10245    1         2 N SBIN,
      134    10246    1         2 C(0:1) CHAR(6) UNAL;
      135    10247    1   DCL ID_DENSITY SBIN SYMREF;
      136    10248        %FPT_OPEN (FPTN=FPT_OPENPO,
      137    10249                  DCB=M$PO,
      138    10250                SN=ID_SNLIST,
      139    10251                CNVRT=YES,EBCDIC=NO,
      140    10252                VOL=1,
      141    10253                MNTONLY=YES,
      142    10254                ORG=FREE,
      143    10255                EXPIRE=NEVER,
      144    10256                DENSITY=D800);
      145    10365        %FPT_OPEN (FPTN=FPT_OPENAS,
      146    10366                   DCB=M$AS,
      147    10367                   SN=ID_ASLIST,
      148    10368                   CNVRT=YES,EBCDIC=NO,
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:5    
      149    10369                   VOL=1,
      150    10370                   MNTONLY=YES,
      151    10371                   ORG=FREE,
      152    10372                   EXPIRE=NEVER,
      153    10373                   DENSITY=D800);
      154    10482        %FPT_REW;
      155    10497        %FPT_EXIT (STCLASS=EXT);
      156    10512        %FPT_CLOSE (FPTN=FPT_CLOSEPO,DCB=M$PO,DISP=SAVE);
      157    10554        %FPT_CLOSE (FPTN=FPT_CLOSEAS,DCB=M$AS,DISP=SAVE);
      158    10596        %FPT_PRECORD (FPTN=FPT_PRECORDM1,DCB=M$INPUT,N=-1);
      159    10617    1   DCL NFCG SBIN WORD;
      160    10618    1   DCL 1 BOOTSTUFF(0:19) STATIC,
      161    10619    1         2 ITEM CHAR(12) INIT('AARDVARK','XDELTA LS','XDELTA','MONSTER HJIT',
      162    10620    1           'MONSTER DATA','MONSTER PROC','ENTRY DEFS',
      163    10621    1           'DATA DEFS','DEF NAMES','DEBUG SCHEMA','GHOST1 RO','GHOST1 DATA',
      164    10622    1           'GHOST1 PROC','ALT EDEF','ALT SDEF','ALT DNAME',
      165    10623    1           'ALT SCHEMA','TIGR STUFF','MON DEF DIR','PATCHES'),
      166    10624    1         2 BIAS SBIN WORD UNAL,
      167    10625    1         2 CBIAS REDEF BIAS CHAR(4) UNAL,
      168    10626    1         2 SIZE UBIN WORD UNAL INIT(0*0),
      169    10627    1         2 START UBIN WORD UNAL;
      170    10628    1   DCL 1 MONNODESTUFF(0:13) STATIC,
      171    10629    1         2 ITEM CHAR(12) INIT('MON PNODE 1','MON PNODE 2','MON PNODE 3',
      172    10630    1           'MON PNODE 4','MON PNODE 5','MON PNODE 6','MON PNODE 7',
      173    10631    1           'MON PNODE 8','MON PNODE 9','MON PNODE 10','MON PNODE 11',
      174    10632    1           'MON PNODE 12','MON PNODE 13','MON PNODE 14'),
      175    10633    1         2 BIAS SBIN WORD UNAL INIT(0*0),
      176    10634    1         2 CBIAS REDEF BIAS CHAR(4) UNAL,
      177    10635    1         2 SIZE UBIN WORD UNAL INIT(0*0),
      178    10636    1         2 PADDR UBIN WORD UNAL INIT(0*0),
      179    10637    1         2 NODE_NAME CHAR(32) UNAL INIT(' '*0);
      180    10638    1   DCL 1 SCHEMASTUFF(0:100),
      181    10639    1         2 FCG CHAR(2),
      182    10640    1         2 RECS SBIN UNAL,
      183    10641    1         2 OUS SBIN UNAL,
      184    10642    1         2 SIZE SBIN UNAL;
      185    10643    1   DCL SCH_FCGS SBIN STATIC INIT(0);
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:6    
      186    10644    1   DCL SCH_IDX SBIN;
      187    10645    1   DCL PTCHFMT1 CHAR(0) CONSTANT INIT('%/   PATCH FILE: %>A%/');
      188    10646    1   DCL PTCHFMT CHAR(0) CONSTANT INIT('   >%A');
      189    10647    1   DCL PTRUNCFMT CHAR(0) CONSTANT INIT('***>%A');
      190    10648    1   DCL TRUNCFMT CHAR(0) CONSTANT INIT(
             10648            '%/**** %D PATCH CARDS WERE TRUNCATED TO 80 CHARACTERS');
      191    10649    1   DCL PATCHCARDS CHAR(0) CONSTANT INIT('%/ %D PATCH CARDS');
      192    10650    1   DCL 1 LAST_KEY_READ STATIC ALIGNED,
      193    10651    1         2 CNT UBIN BYTE UNAL,
      194    10652    1         2 TXT CHAR(31);
      195    10653    1   DCL 1 DBKEY REDEF LAST_KEY_READ,
      196    10654    1         2 CNT UBIN BYTE UNAL,
      197    10655    1         2 SEVENS BIT(9),
      198    10656    1         2 NODE UBIN HALF UNAL,
      199    10657    1         2 NPTR UBIN HALF UNAL,
      200    10658    1         2 TYPE UBIN BYTE UNAL,
      201    10659    1         2 PAGE# UBIN BYTE UNAL,
      202    10660    1         2 * CHAR(24);
      203    10661    1   DCL 1 RUMKEY REDEF LAST_KEY_READ,
      204    10662    1         2 CNT UBIN BYTE UNAL,
      205    10663    1         2 SEVENS BIT(9),
      206    10664    1         2 TYPE UBIN BYTE UNAL,
      207    10665    1         2 UTS UBIN UNAL,
      208    10666    1         2 SEQ UBIN HALF UNAL,
      209    10667    1         2 NODE UBIN HALF UNAL,
      210    10668    1         2 * CHAR(21);
      211    10669    1   DCL 1 PRKEY REDEF LAST_KEY_READ,
      212    10670    1         2 CNT UBIN BYTE UNAL,
      213    10671    1         2 TYPE UBIN BYTE UNAL,
      214    10672    1         2 NODE UBIN HALF UNAL,
      215    10673    1         2 PAGE# UBIN HALF UNAL,
      216    10674    1         2 * CHAR(26);
      217    10675    1   DCL 1 ERRCODE,
      218    10676    1         2 FCG BIT(12),
      219    10677    1         2 MID BIT(6),
      220    10678    1         2 M BIT(1),
      221    10679    1         2 CODE UBIN(14) UNAL,
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:7    
      222    10680    1         2 SEV UBIN(3) UNAL;
      223    10681    1   DCL SCHEMA_FLAG BIT(1) ALIGNED SYMREF;
      224    10682    1   DCL 1 MEDEFKEY STATIC,2 * UBIN BYTE UNAL INIT(5),2 * UBIN BYTE UNAL INIT(4),2 NODE
             10682            UBIN HALF UNAL INIT(0),2 * UBIN HALF UNAL INIT(0);
      225    10683    1   DCL 1 MSDEFKEY STATIC,2 * UBIN BYTE UNAL INIT(5),2 * UBIN BYTE UNAL INIT(6),2 NODE
             10683            UBIN HALF UNAL INIT(0),2 * UBIN HALF UNAL INIT(0);
      226    10684    1   DCL 1 MDNAMKEY STATIC,2 * UBIN BYTE UNAL INIT(5),2 * UBIN BYTE UNAL INIT(1),2 NODE
             10684            UBIN HALF UNAL INIT(0),2 * UBIN HALF UNAL INIT(0);
      227    10685    1   DCL 1 MROSEGKEY CONSTANT,2 * UBIN BYTE UNAL INIT(5),2 * UBIN BYTE UNAL INIT(30),2 *
             10685            UBIN WORD UNAL INIT(0);
      228    10686    1   DCL FOUR_ZEROS(0:3) SBIN CONSTANT INIT(0*0);
      229    10687    1   DCL 1 OUTBUF ALIGNED,
      230    10688    1         2 BOUND UBIN(20) UNAL,
      231    10689    1         2 * BIT(16),
      232    10690    1         2 PTR$ PTR;
      233    10691    1   DCL CARDIMAGE CHAR(80) BASED;
      234    10692    1   DCL X1 BIT(72) STATIC ALIGNED INIT('0'B);
      235    10693    1   DCL 1 SVIOBUF REDEF X1,
      236    10694    1         2 BOUND UBIN(20) UNAL,
      237    10695    1         2 * BIT(16),
      238    10696    1         2 PTR$ PTR;
      239    10697    1   DCL START SBIN;
      240    10698    1   DCL BIAS SBIN;
      241    10699    1   DCL RECCNT SBIN;
      242    10700    1   DCL NODES SBIN;
      243    10701    1   DCL J SBIN;
      244    10702    1   DCL 1 TEXTC BASED ALIGNED,
      245    10703    1         2 LEN UBIN BYTE UNAL,
      246    10704    1         2 TXT CHAR(31) UNAL;
      247    10705    1   DCL B$TREE$ PTR;
      248    10706    1   DCL TEMP$ PTR;
      249    10707    1   DCL 1 MROBUF ALIGNED,
      250    10708    1         2 BOUND UBIN(20) UNAL,
      251    10709    1         2 * BIT(16),
      252    10710    1         2 PTR$ PTR;
      253    10711    1   DCL 1 MROREC STATIC ALIGNED,
      254    10712    1         2 NODES UBIN INIT(0),
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:8    
      255    10713    1         2 PADDR UBIN INIT(0),
      256    10714    1         2 NINFO(0:29) UNAL,
      257    10715    1           3 NODE_NAME UNAL,
      258    10716    1             4 LEN UBIN BYTE UNAL INIT(0*0),
      259    10717    1             4 TXT CHAR(31) UNAL INIT(' '*0),
      260    10718    1           3 EDEF UNAL,
      261    10719    1             4 OFFSET UBIN HALF UNAL INIT(0*0),
      262    10720    1             4 * UBIN HALF UNAL INIT(0*0),
      263    10721    1           3 SDEF UNAL,
      264    10722    1             4 OFFSET UBIN HALF UNAL INIT(0*0),
      265    10723    1             4 * UBIN HALF UNAL INIT(0*0),
      266    10724    1           3 DNAM UNAL,
      267    10725    1             4 OFFSET UBIN HALF UNAL INIT(0*0),
      268    10726    1             4 * UBIN HALF UNAL INIT(0*0);
      269    10727    1   DCL 1 PROG_RECORD_KEY STATIC,
      270    10728    1         2 COUNT UBIN BYTE UNAL INIT(5),
      271    10729    1         2 TYPE UBIN BYTE UNAL INIT(10),
      272    10730    1         2 NODE_NUMBER UBIN HALF UNAL INIT(0),
      273    10731    1         2 PAGE# UBIN HALF UNAL INIT(0);
      274    10732    1   DCL TOFFSET SBIN;
      275    10733    1   DCL 1 MDNAMBUF ALIGNED,
      276    10734    1         2 BOUND UBIN(20) UNAL,
      277    10735    1         2 * UBIN(16) UNAL,
      278    10736    1         2 PTR$ PTR;
      279    10737    1   DCL 1 BASEDWORD BASED ALIGNED,
      280    10738    1         2 UH SBIN HALF UNAL,
      281    10739    1         2 LH SBIN HALF UNAL;
      282    10740    1   DCL 1 G1HJITKEY CONSTANT,
      283    10741    1         2 COUNT UBIN BYTE UNAL INIT(5),
      284    10742    1         2 TYPE UBIN BYTE UNAL INIT(10),
      285    10743    1         2 NODE_NUMBER UBIN HALF UNAL INIT(0),
      286    10744    1         2 PAGE# UBIN HALF UNAL INIT(0);
      287    10745        %M$MDCB (DCBN=DUMMY_DCB,STCLASS="STATIC");
      288    10819    1   DCL 1 G1ROSEG DALIGNED STATIC SYMDEF,
      289    10820    1         2 DCBPTR$ PTR INIT(ADDR(NIL)),
      290    10821    1         2 TREE$ PTR INIT(ADDR(G1TCB)),    /* TEMP TCB PTR FOR AARDVARK          */
      291    10822    1         2 NUMDCBS UBIN(18) UNAL INIT(0),
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:9    
      292    10823    1         2 * UBIN(18) UNAL INIT(0),
      293    10824    1         2 AVAIL$ PTR INIT(ADDR(NIL)),
      294    10825    1         2 CPPIA(0:15) UBIN WORD INIT(0*16),
      295    10826    1         2 ECCB (0:3),
      296    10827    1           3 * BIT(72) INIT('0'B*4),
      297    10828    1           3 * BIT(72) INIT('0'B*4),
      298    10829    1           3 * BIT(72) INIT('0'B*4),
      299    10830    1         2 LDEVNAME (0:15) CHAR(4) INIT('LP01','CP01',' '*14),
      300    10831    1         2 STREAMID (0:15),
      301    10832    1           3 FLG UBIN(2) UNAL INIT(0*16),
      302    10833    1           3 * UBIN(16) UNAL INIT(0*16),
      303    10834    1           3 IDENT UBIN(18) UNAL INIT(0*16),
      304    10835    1         2 CR01ID,
      305    10836    1           3 FLG UBIN(2)UNAL INIT(3),
      306    10837    1           3 * UBIN(16)UNAL INIT(0),
      307    10838    1           3 POSN UBIN(18)UNAL INIT(0),
      308    10839    1         2 CR01DCB UBIN(18)UNAL INIT(1),
      309    10840    1         2 STREAMFILENO UBIN(18)UNAL INIT(1),
      310    10841    1         2 DRIBLM$ PTR INIT(ADDR(NIL)),    /* DRIBBLE saves DCBADDR(M$LM) here*/
      311    10842    1         2 SPARE5(0:4) UBIN WORD INIT(0*0);
      312    10843    1   DCL 1 G1TCB STATIC SYMDEF DALIGNED,
      313    10844    1         2 ALT$,
      314    10845    1           3 OFFSET UBIN(18) UNAL INIT(4),
      315    10846    1           3 * UBIN(6) UNAL INIT(0),
      316    10847    1           3 SID BIT(12) UNAL INIT('6017'O),
      317    10848    1         2 STK$,
      318    10849    1           3 OFFSET UBIN(18) UNAL INIT(72),
      319    10850    1           3 * UBIN(6) UNAL INIT(0),
      320    10851    1           3 SID BIT(12) UNAL INIT('6017'O),
      321    10852    1         2 TCBAVSZ UBIN(18) UNAL INIT(150),
      322    10853    1         2 CURSZ UBIN(18) UNAL INIT(0),
      323    10854    1         2 * UBIN WORD INIT(0),
      324    10855    1         2 ALTFRM,
      325    10856    1           3 UNUSED SBIN HALF UNAL INIT(-1),
      326    10857    1           3 CODE UBIN(18) UNAL INIT(0),
      327    10858    1           3 REST (0:66) UBIN WORD INIT(0*67),
      328    10859    1         2 FRMSPACE (0:149) UBIN WORD INIT(0*150);
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:10   
      329    10860    1   DCL M_STAR SBIN SYMREF;
      330    10861    1   DCL M_LM SBIN SYMREF;
      331    10862    1   DCL M_UC SBIN SYMREF;
      332    10863    1   DCL M_DO SBIN SYMREF;
      333    10864    1   DCL M_DUMMY SBIN SYMREF;
      334    10865        %MACRO DCBNAME(NM=N,NAME='N');
      335    10866        DCL 1 NM STATIC ALIGNED,
      336    10867              2 L UBIN BYTE UNAL INIT(SIZEC(NAME)),
      337    10868              2 C CHAR(0) INIT(NAME);
      338    10869        %MEND;
      339    10870        %DCBNAME (NM=STAR,NAME='M$*');
      340    10875        %DCBNAME (NM=LM,NAME='M$LM');
      341    10880        %DCBNAME (NM=UC,NAME='M$UC');
      342    10885        %DCBNAME (NM=DOH,NAME='M$DO');
      343    10890        %VLP_TAB (FPTN=UCTABS,STCLASS="STATIC SYMDEF");
      344    10904    1   DCL 1 SCHEMA_TBL SYMREF,
      345    10905    1         2 N SBIN,
      346    10906    1         2 FCG(0:99) CHAR(2);
      347    10907    1   DCL ID_VERIFLG BIT(1) ALIGNED SYMREF;
      348    10908    1   DCL 1 ID_VERISEG ALIGNED SYMREF,
      349    10909    1         2 BOUND UBIN(20) UNAL,
      350    10910    1         2 * BIT(16) UNAL,
      351    10911    1         2 P$ PTR;
      352    10912    1   DCL ID_LISTFLG BIT(1) ALIGNED SYMREF;
      353    10913        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:11   
      354    10914        /**/
      355    10915        /* BEGIN PROCEDURE */
      356    10916        /**/
      357    10917    1           SVIOBUF='0'B;
      358    10918    1           CALL IDD$GETSEG(SVIOBUF,1024) ALTRET(NO_MEM);
      359    10919    2           IF ID_VERIFLG THEN DO;
      360    10920    2              IF ID_VERISEG.BOUND=0 THEN ID_VERISEG='0'B;
      361    10921    2              CALL IDD$GETSEG(ID_VERISEG,1024) ALTRET(NO_MEM);
      362    10922    2              END;
      363    10923    1           IOBUF=SVIOBUF;
      364    10924    1           RECCNT=0;
      365    10925    1           READONLY#='0'B;
      366    10926    1           M$PO$=DCBADDR(DCBNUM(M$PO));
      367    10927    1           M$INPUT$=DCBADDR(DCBNUM(M$INPUT));
      368    10928    1           FPT_OPENPO.V.DENSITY#=ID_DENSITY;
      369    10929    1           IF ID_VERIFLG THEN
      370    10930    1              FPT_OPENPO.V.FUN#=%IN#;
      371    10931    1           ELSE
      372    10932    1              FPT_OPENPO.V.FUN#=%CREATE#;
      373    10933    1           RES=M$PO$->F$DCB.RES;
      374    10934    2           IF RES='MT' OR RES='FT' THEN DO;
      375    10935    2              CALL M$OPEN(FPT_OPENPO) ALTRET(OPN_PO_ERROR);
      376    10936    2              FPT_REW.V.PSN#=ID_SNLIST.C(0);
      377    10937    2              CALL M$REW(FPT_REW) ALTRET(OPN_PO_ERROR);
      378    10938    2              END;
      379    10939    1           FPT_OPENPO.V.OPER.MNTONLY#='0'B;
      380    10940    1           FPT_OPENPO.V.INITZ='11'B;       /* SCRUB AND REASSIGN                 */
      381    10941    1           CALL M$OPEN (FPT_OPENPO) ALTRET(OPN_PO_ERROR);
      382    10942        /**/
      383    10943        /* WRITE THE BOOTSTRAP */
      384    10944        /**/
      385    10945    2           IF NOT BOOTSTRAP.FLAGS.SKIP THEN DO;
      386    10946    2              OPEN_ERR_CODE=NO_BOOT_CODE;
      387    10947    2              CALL IDO$OPENFILE(BOOTSTRAP,DCBNUM(M$INPUT),ERRCODE) ALTRET(OPN_ERR);
      388    10948    2              CALL RDHEAD;
      389    10949    2              BOOTSTUFF.BIAS(0)=BITBIN(BOOTBIAS);
      390    10950    2              BOOTSTUFF.SIZE(0)=HEADREC.RDATA+HEADREC.RPROC;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:12   
      391    10951    2              BOOTSTUFF.START(0)=HEADREC.START;
      392    10952    2              I=HEADREC.BIAS;
      393    10953    2              CALL READ_WRITE(I,I+128);
      394    10954    2              CALL READ_WRITE(BITBIN(BOOTBIAS),(HEADREC.VDPGS+HEADREC.VPPGS+1)*1024);
      395    10955    2              END;
      396    10956        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:13   
      397    10957        /**/
      398    10958        /* WRITE FIRMWARE TO TAPE */
      399    10959        /**/
      400    10960    2           IF NOT FIRMWARE.FLAGS.SKIP THEN DO;
      401    10961    2              OPEN_ERR_CODE=NO_FIRMWARE_CODE;
      402    10962    2              CALL IDO$OPENFILE(FIRMWARE,DCBNUM(M$INPUT),ERRCODE) ALTRET(OPN_ERR);
      403    10963    3              DO WHILE('1'B);
      404    10964    3                 CALL READ_SEQUENTIAL ALTRET(GOT_FIRMWARE);
      405    10965    3                 START=OUTBUF.BOUND+1;
      406    10966    3                 OUTBUF.BOUND=4096;
      407    10967    4                 DO WHILE(START>0);
      408    10968    4                    IF START<4096 THEN OUTBUF.BOUND=START-1;
      409    10969    4                    CALL WRITE_PO(BINARY);
      410    10970    4                    OUTBUF.PTR$=PINCRC(OUTBUF.PTR$,4096);
      411    10971    4                    START=START-4096;
      412    10972    4                    END;
      413    10973    3                 END;
      414    10974    2              END;
      415    10975    1   GOT_FIRMWARE:
      416    10976        /**/
      417    10977        /* WRITE TAPE ID RECORD */
      418    10978        /**/
      419    10979    1           READONLY#='1'B;
      420    10980    1           CALL WRITE_PO(ASCII,VECTOR(TAPEID));
      421    10981    1           READONLY#='0'B;
      422    10982        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:14   
      423    10983        /**/
      424    10984        /* WRITE XDELTA LINKAGE SEGMENT */
      425    10985        /**/
      426    10986    2           IF NOT XDLT.FLAGS.SKIP THEN DO;
      427    10987    2              OPEN_ERR_CODE=NO_XDELTA_CODE;
      428    10988    2              CALL IDO$OPENFILE(XDLTLS,DCBNUM(M$INPUT),ERRCODE) ALTRET(OPN_ERR);
      429    10989    2              CALL RDHEAD;
      430    10990    2              CALL WRITE_HEADER(0,XDLTLSTC,HEADREC.VDPGS*1024,BINARY,0);
      431    10991    2              I=HEADREC.RDATA;
      432    10992    2              CALL READ_WRITE(0,I);
      433    10993        /**/
      434    10994        /* WRITE XDELTA TO TAPE */
      435    10995        /**/
      436    10996    2              CALL IDO$OPENFILE(XDLT,DCBNUM(M$INPUT),ERRCODE) ALTRET(OPN_ERR);
      437    10997    2              CALL RDHEAD;
      438    10998    2              CALL WRITE_HEADER(-2,XDLTTC,(HEADREC.VPPGS+HEADREC.VDPGS)*1024,BINARY,
             10998                       HEADREC.START);
      439    10999    2              CALL READ_WRITE(0,(HEADREC.VDPGS+HEADREC.VPPGS)*1024);
      440    11000    2              END;
      441    11001        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:15   
      442    11002        /**/
      443    11003        /* MONITOR HJIT */
      444    11004        /**/
      445    11005    2           IF NOT MONSTER.FLAGS.SKIP THEN DO;
      446    11006    2              CALL IDO$OPENFILE(MHJIT,DCBNUM(M$INPUT),ERRCODE) ALTRET(NO_MHJIT);
      447    11007    2              CALL RDHEAD;
      448    11008    2              CALL WRITE_HEADER(0,MHJITTC,HEADREC.VDPGS*1024,BINARY,0);
      449    11009    2              CALL READ_WRITE(0,HEADREC.VDPGS*1024);
      450    11010        /**/
      451    11011        /* MONITOR DATA */
      452    11012        /**/
      453    11013    2              CALL IDO$OPENFILE(MONSTER,DCBNUM(M$INPUT),ERRCODE) ALTRET(NO_MONSTER);
      454    11014    2              IOBUF=VECTOR(BIRTHREC);
      455    11015    2              CALL READ_KEYED(BIRTHKEY);
      456    11016    2              ID_SITEINFO.MON_UTS#=BIRTHREC.CREATE_UTS;
      457    11017    2              IOBUF=SVIOBUF;
      458    11018    2              CALL RDHEAD;
      459    11019    2              CALL WRITE_HEADER(0,MDATATC,HEADREC.VDPGS*1024,BINARY,0);
      460    11020    2              CALL READ_WRITE(0,HEADREC.VDPGS*1024);
      461    11021        /**/
      462    11022        /* MONITOR PROCEDURE */
      463    11023        /**/
      464    11024    2              CALL IDD$GETSEG(SVIOBUF,0);
      465    11025    2              SVIOBUF = '0'B;
      466    11026    2              CALL IDD$GETSEG(SVIOBUF,1024) ALTRET(NO_MEM);
      467    11027    2              IOBUF = SVIOBUF;
      468    11028    2              CALL READ_KEYED(MROSEGKEY);
      469    11029    2              MROBUF = SVIOBUF;
      470    11030    2              B$TREE$ = PINCRW(MROBUF.PTR$,HEADREC.TREEDISP);
      471    11031    2              NODES = B$TREE$->B$TREE_HEADER.NODES;
      472    11032    2              MROREC.NODES = NODES;
      473    11033    2              B$TREE$ = PINCRW(B$TREE$,SIZEW(B$TREE_HEADER));
      474    11034    2              SVIOBUF = '0'B;
      475    11035    2              CALL IDD$GETSEG(SVIOBUF,1024) ALTRET(NO_MEM);
      476    11036    2              IOBUF = SVIOBUF;
      477    11037    3              DO I = 0 TO NODES - 1;
      478    11038    3                 TEMP$ = PINCRW(B$TREE$,B$TREE$->BASEDWORD.UH-(I*SIZEW(B$TREE_NODE))-
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:16   
             11038                          SIZEW(B$TREE_HEADER));
      479    11039    3                 MROREC.NINFO.NODE_NAME.LEN(I) = TEMP$->TEXTC.LEN;
      480    11040    3                 MROREC.NINFO.NODE_NAME.TXT(I) = SUBSTR(TEMP$->TEXTC.TXT,0,TEMP$->TEXTC
             11040                          .LEN);
      481    11041    3                 MROREC.PADDR = ((B$TREE$->B$TREE_NODE.PADDR+1023)/1024)*1024;
      482    11042    3                 TEMP = MROREC.PADDR - B$TREE$->B$TREE_NODE.PADDR;
      483    11043    3                 TEMP = ((B$TREE$->B$TREE_NODE.PSIZE-TEMP+1023)/1024)*1024;
      484    11044    3                 CALL WRITE_HEADER(0,MPROCTC,TEMP,BINARY,HEADREC.START);
      485    11045    3                 TEMP = MROREC.PADDR+TEMP;
      486    11046    3                 PROG_RECORD_KEY.NODE_NUMBER = I;
      487    11047    3                 CALL READ_WRITE(MROREC.PADDR,TEMP);
      488    11048    3                 B$TREE$ = PINCRW(B$TREE$,SIZEW(B$TREE_NODE));
      489    11049    3                 END;
      490    11050        /**/
      491    11051        /* MONITOR DEFNAMES */
      492    11052        /**/
      493    11053    2              CALL IDD$GETSEG(SVIOBUF,0);
      494    11054    2              SVIOBUF = '0'B;
      495    11055    2              CALL IDD$GETSEG(SVIOBUF,1024) ALTRET(NO_MEM);
      496    11056    2              IOBUF = SVIOBUF;
      497    11057    3              DO I = 0 TO NODES - 1;
      498    11058    3                 MDNAMKEY.NODE = I;
      499    11059    3                 CALL READ_KEYED(MDNAMKEY);
      500    11060    3                 TEMP = M$INPUT$->F$DCB.ARS/4;
      501    11061    3                 IOBUF.PTR$ = PINCRW(IOBUF.PTR$,TEMP);
      502    11062    3                 IOBUF.BOUND = IOBUF.BOUND - TEMP*4;
      503    11063    3                 MROREC.NINFO.DNAM.OFFSET(I+1) = MROREC.NINFO.DNAM.OFFSET(I)+TEMP;
      504    11064    3                 END;
      505    11065    2              TOFFSET = MROREC.NINFO.DNAM.OFFSET(NODES);
      506    11066    2              CALL WRITE_HEADER(-1,MDNAMTC,TOFFSET,ASCII,0);
      507    11067    2              IOBUF = SVIOBUF;
      508    11068    2              CALL WRITE_PAGE_SIZE_CHUNKS(ASCII,IOBUF);
      509    11069    2              MDNAMBUF = SVIOBUF;
      510    11070        /**/
      511    11071        /* MONITOR ENTDEFS AND SYMDEFS */
      512    11072        /**/
      513    11073    2              SVIOBUF = '0'B;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:17   
      514    11074    2              CALL IDD$GETSEG(SVIOBUF,1024) ALTRET(NO_MEM);
      515    11075    2              IOBUF = SVIOBUF;
      516    11076    2              TOFFSET = 0;
      517    11077    3              DO I = 0 TO NODES - 1;
      518    11078    3                 MEDEFKEY.NODE = I;
      519    11079    3                 CALL READ_KEYED(MEDEFKEY);
      520    11080    3                 TEMP = M$INPUT$->F$DCB.ARS/4;
      521    11081    3                 TOFFSET = TOFFSET + TEMP;
      522    11082    3                 MROREC.NINFO.EDEF.OFFSET(I+1) = TOFFSET;
      523    11083    3                 TEMP$ = IOBUF.PTR$;
      524    11084    3                 IOBUF.PTR$ = PINCRW(IOBUF.PTR$,TEMP);
      525    11085    3                 IOBUF.BOUND = IOBUF.BOUND - TEMP*4;
      526    11086    4                 DO J = 0 TO (TEMP/SIZEW(B$RU_DEF) - 1);
      527    11087    4                    TEMP$->B$RU_DEF.NPOINTER=TEMP$->B$RU_DEF.NPOINTER+MROREC.NINFO.DNAM
             11087                             .OFFSET(I);
      528    11088    4                    TEMP$->B$RU_DEF.AD.SECTNUM=0;
      529    11089    4                    TEMP$ = PINCRW(TEMP$,SIZEW(B$RU_DEF));
      530    11090    4                    END;
      531    11091    3                 END;
      532    11092    2              CALL WRITE_HEADER(0,MEDEFTC,TOFFSET,BINARY,0);
      533    11093    2              IOBUF = SVIOBUF;
      534    11094    2              CALL WRITE_PAGE_SIZE_CHUNKS(BINARY,IOBUF);
      535    11095    2              TOFFSET = 0;
      536    11096    3              DO I = 0 TO NODES - 1;
      537    11097    3                 MSDEFKEY.NODE = I;
      538    11098    3                 CALL READ_KEYED(MSDEFKEY);
      539    11099    3                 TEMP = M$INPUT$->F$DCB.ARS/4;
      540    11100    3                 TOFFSET = TOFFSET + TEMP;
      541    11101    3                 MROREC.NINFO.SDEF.OFFSET(I+1) = TOFFSET;
      542    11102    3                 TEMP$ = IOBUF.PTR$;
      543    11103    3                 IOBUF.PTR$ = PINCRW(IOBUF.PTR$,TEMP);
      544    11104    3                 IOBUF.BOUND = IOBUF.BOUND - TEMP*4;
      545    11105    4                 DO J = 0 TO (TEMP/SIZEW(B$RU_DEF) - 1);
      546    11106    4                    TEMP$->B$RU_DEF.NPOINTER=TEMP$->B$RU_DEF.NPOINTER+MROREC.NINFO.DNAM
             11106                             .OFFSET(I);
      547    11107    4                    TEMP$->B$RU_DEF.AD.SECTNUM=0;
      548    11108    4                    TEMP$ = PINCRW(TEMP$,SIZEW(B$RU_DEF));
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:18   
      549    11109    4                    END;
      550    11110    3                 END;
      551    11111    2              CALL WRITE_HEADER(0,MSDEFTC,TOFFSET,BINARY,0);
      552    11112    2              IOBUF = SVIOBUF;
      553    11113    2              IOBUF.BOUND = TOFFSET*4 - 1;
      554    11114    2              CALL WRITE_PAGE_SIZE_CHUNKS(BINARY,IOBUF);
      555    11115        /**/
      556    11116        /* MONITOR SCHEMA */
      557    11117        /**/
      558    11118    2              IF SCHEMA_FLAG THEN CALL WRITE_MONITOR_SCHEMA;
      559    11119    2              END;
      560    11120        /**/
      561    11121        /* WRITE OUT NODE INFORMATION */
      562    11122        /**/
      563    11123    1           IOBUF = VECTOR(MROREC);
      564    11124    1           TEMP = (IOBUF.BOUND+1)/4;
      565    11125    1           CALL WRITE_HEADER(0,MROSEGTC,TEMP,BINARY,0);
      566    11126    1           CALL WRITE_PAGE_SIZE_CHUNKS(BINARY,IOBUF);
      567    11127    1           CALL IDD$GETSEG(SVIOBUF,0);
      568    11128    1           SVIOBUF = MDNAMBUF;
      569    11129    1           CALL IDD$GETSEG(SVIOBUF,0);
      570    11130    1           SVIOBUF = '0'B;
      571    11131    1           CALL IDD$GETSEG(SVIOBUF,1024) ALTRET(NO_MEM);
      572    11132    1           IOBUF = SVIOBUF;
      573    11133        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:19   
      574    11134        /**/
      575    11135        /* GHOST1 READ ONLY SEGMENT */
      576    11136        /**/
      577    11137    1           PROG_RECORD_KEY.NODE_NUMBER = 0;
      578    11138    2           IF NOT GHOST1.FLAGS.SKIP THEN DO;
      579    11139    2              CALL IDO$OPENFILE(G1HJIT,DCBNUM(M$INPUT),ERRCODE) ALTRET(NO_G1RO);
      580    11140    2              CALL READ_KEYED(G1HJITKEY) ALTRET(NO_G1RO);
      581    11141    2              CALL IDO$OPENFILE(GHOST1,DCBNUM(M$INPUT),ERRCODE) ALTRET(NO_GHOST1);
      582    11142    2              CALL RDHEAD;
      583    11143    2              CALL BUILD_G1RO;
      584    11144    2              CALL WRITE_HEADER(0,G1ROTC,(OUTBUF.BOUND+1)/4,BINARY,0);
      585    11145    2              READONLY#='1'B;
      586    11146    2              CALL WRITE_PAGE_SIZE_CHUNKS(BINARY,OUTBUF);
      587    11147    2              READONLY#='0'B;
      588    11148        /**/
      589    11149        /* GHOST1 DATA */
      590    11150    2              CALL WRITE_HEADER(0,G1DATATC,HEADREC.VDPGS*1024,BINARY,0);
      591    11151    2              CALL READ_WRITE(0,HEADREC.VDPGS*1024);
      592    11152        /**/
      593    11153        /* GHOST1 PROCEDURE */
      594    11154    2              CALL WRITE_HEADER(0,G1PROCTC,HEADREC.VPPGS*1024,BINARY,HEADREC.START);
      595    11155    2              CALL READ_WRITE(HEADREC.VDPGS*1024,(HEADREC.VDPGS+HEADREC.VPPGS)*1024);
      596    11156    2              END;
      597    11157    1           CALL WRITE_HEADER(-1,SITEINFOTC,SIZEW(ID_SITEINFO),BINARY,0);
      598    11158    1           READONLY#='1'B;
      599    11159    1           CALL WRITE_PAGE_SIZE_CHUNKS(BINARY,VECTOR(ID_SITEINFO));
      600    11160    1           READONLY#='0'B;
      601    11161        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:20   
      602    11162        /* PATCH FILE */
      603    11163        /**/
      604    11164    1           CALL WRITE_HEADER(0,PATCHTC,20,ASCII,0);
      605    11165    1           CALL WRITE_BOOT_STUFF;
      606    11166    1           I=0;
      607    11167    1           TRUNCATED=0;
      608    11168    1           PTCH$=ID_PTCHHEAD$;
      609    11169    2           DO WHILE(PTCH$~=ADDR(NIL));
      610    11170    2              CALL IDO$OPENFILE(PTCH.FNAME,DCBNUM(M$INPUT),TEMP,VECTOR(NIL)) ALTRET(
             11170                       PTCH_OPN_ERR);
      611    11171    2              CALL X$WRITE(F_FDS,VECTOR(PTCHFMT1),
      612    11172    2                VECTOR(M$INPUT$->F$DCB.NAME.C));
      613    11173    2              CALL WRITE_PATCH;
      614    11174    3              DO NEVER;
      615    11175    3   PTCH_OPN_ERR: CALL XUR$ERRMSG(B$TCB$->B$TCB.ALT$->B$ALT.ERR,DCBNUM(M$INPUT));
      616    11176    3                 FPT_EXIT.V.STEPCC# = 4;
      617    11177    3                 END;
      618    11178    2              PTCH$=PTCH.FL$;
      619    11179    2              END;
      620    11180    1           CALL X$WRITE(F_FDS,VECTOR(PATCHCARDS),VECTOR(I));
      621    11181    1           IF TRUNCATED>0 THEN CALL X$WRITE(F_FDS,VECTOR(TRUNCFMT),VECTOR(TRUNCATED));
      622    11182    1           IOBUF.PTR$->CARDIMAGE='!FIN';
      623    11183    1           CALL WRITE_PO(ASCII,VECTOR(IOBUF.PTR$->CARDIMAGE));
      624    11184    1           CALL M$CLOSE(FPT_CLOSEPO);
      625    11185    1           RETURN;
      626    11186        /**/
      627    11187    1   OPN_PO_ERROR:
      628    11188    1           IF B$TCB$->B$TCB.ALT$->B$ALT.ERR.ERR# = %E$MNTBRK THEN CALL M$RETRY;
      629    11189    1           CALL ABORT_DEF(OPN_PO_CODE,DCBNUM(M$PO));
      630    11190    1   NO_MHJIT:
      631    11191    1           CALL ABORT_DEF(NO_MHJIT_CODE,DCBNUM(M$INPUT));
      632    11192    1   NO_MONSTER:
      633    11193    1           CALL ABORT_DEF(NO_MONSTER_CODE,DCBNUM(M$INPUT));
      634    11194    1   NO_G1RO:
      635    11195    1           CALL ABORT_DEF(NO_G1RO_CODE,DCBNUM(M$INPUT));
      636    11196    1   NO_GHOST1:
      637    11197    1           CALL ABORT_DEF(NO_GHOST1_CODE,DCBNUM(M$INPUT));
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:21   
      638    11198    1   OPN_ERR:
      639    11199    1           CALL ABORT_DEF(OPEN_ERR_CODE,DCBNUM(M$INPUT));
      640    11200    1   NO_MEM:
      641    11201    1           CALL ABORT_DEF(NO_BUFFER_CODE);
      642    11202        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:22   
      643    11203        /**/
      644    11204        /* INTERNAL PROCEDURES */
      645    11205        /**/
      646    11206    1   ABORT_DEF: PROC(CODE1,DCB#);
      647    11207        /**/
      648    11208    2   DCL CODE1 BIT(36) UNAL;
      649    11209    2   DCL DCB# SBIN;
      650    11210        /**/
      651    11211    2           ERRCODE=B$TCB$->B$TCB.ALT$->B$ALT.ERR;
      652    11212    2           CALL XUR$ERRMSG(CODE1,DCB#);
      653    11213    2           CALL XUR$ERRMSG(ERRCODE,DCB#);
      654    11214    2           CALL M$XXX;
      655    11215    2   END ABORT_DEF;
      656    11216        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:23   
      657    11217    1   RDHEAD: PROC;
      658    11218        /**/
      659    11219    2   DCL 1 HEAD_KEY STATIC,
      660    11220    2         2 CNT UBIN BYTE UNAL INIT(4),
      661    11221    2         2 TXT CHAR(4) INIT('HEAD');
      662    11222        %FPT_READ (FPTN=FPT_READ_HEAD,BUF=HEADREC,KEY=HEAD_KEY,
      663    11223                   KEYS=YES,WAIT=YES,DCB=M$INPUT);
      664    11262        %ERRCODE (NAME=NO_HEAD_CODE,CODE#=%E$NO_HEAD);
      665    11269        /**/
      666    11270    2           CALL M$READ(FPT_READ_HEAD) ALTRET(NO_HEAD);
      667    11271    2           RETURN;
      668    11272    2   NO_HEAD:
      669    11273    2           CALL ABORT_DEF(NO_HEAD_CODE,DCBNUM(M$INPUT));
      670    11274    2   END RDHEAD;
      671    11275        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:24   
      672    11276    1   READ_WRITE: PROC(FIRST,LAST);
      673    11277    2   DCL FIRST SBIN;
      674    11278    2   DCL LAST SBIN;
      675    11279    2   DCL FADR SBIN;
      676    11280    2   DCL PAGE# SBIN;
      677    11281    2   DCL LITTLEBASE CHAR(32) BASED;
      678    11282    2   DCL BIGBASE CHAR(4064) BASED;
      679    11283        %FPT_PRECORD (DCB=M$INPUT,KEY=PROG_RECORD_KEY,KEYS=YES);
      680    11304        /**/
      681    11305    2           PROG_RECORD_KEY.PAGE#=FIRST-MOD(FIRST,1024);
      682    11306    2           PAGE# = PROG_RECORD_KEY.PAGE#;
      683    11307    3           DO WHILE(PAGE#<LAST);
      684    11308    3              CALL READ_KEYED(PROG_RECORD_KEY) ALTRET(CREATE_A_REC);
      685    11309    4              DO NEVER;
      686    11310    4   CREATE_A_REC: ;
      687    11311    4                 CALL READ_SEQUENTIAL;
      688    11312    5                 IF PRKEY.TYPE~=10 OR PRKEY.PAGE#>PROG_RECORD_KEY.PAGE#+1023 OR PRKEY.
             11312                          NODE~=PROG_RECORD_KEY.NODE_NUMBER THEN DO;
      689    11313    5                    OUTBUF=IOBUF;
      690    11314    5                    OUTBUF.BOUND=4095;
      691    11315    5                    OUTBUF.PTR$->LITTLEBASE='FASHIONS BY JT ANDERSON, SWENG';
      692    11316    5                    PINCRW(OUTBUF.PTR$,8)->BIGBASE=OUTBUF.PTR$->BIGBASE;
      693    11317    5                    PRKEY=PROG_RECORD_KEY;
      694    11318    5                    END;
      695    11319    4                 END;
      696    11320    3              FADR=PRKEY.PAGE#;
      697    11321    4              IF PRKEY.PAGE#<FIRST THEN DO;
      698    11322    4                 OUTBUF.PTR$=PINCRW(OUTBUF.PTR$,FIRST-PRKEY.PAGE#);
      699    11323    4                 OUTBUF.BOUND=OUTBUF.BOUND-(FIRST-PRKEY.PAGE#)*4;
      700    11324    4                 FADR=FIRST;
      701    11325    4                 END;
      702    11326    4              IF FADR+(OUTBUF.BOUND+1)/4 > LAST THEN DO;
      703    11327    4                 OUTBUF.BOUND=(LAST-FADR)*4-1;
      704    11328    4                 END;
      705    11329    3              CALL WRITE_PO(BINARY);
      706    11330    3              PROG_RECORD_KEY.PAGE#=PROG_RECORD_KEY.PAGE#+1024;
      707    11331    3              PAGE# = PAGE# + 1024;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:25   
      708    11332    3              END;
      709    11333    2           RETURN;
      710    11334    2   END READ_WRITE;
      711    11335        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:26   
      712    11336    1   READ_SEQUENTIAL: PROC ALTRET;
      713    11337        %FPT_READ (DCB=M$INPUT,KEY=LAST_KEY_READ,KEYR=YES,WAIT=YES);
      714    11376        /**/
      715    11377    2           FPT_READ.BUF_=IOBUF;
      716    11378    2           CALL M$READ(FPT_READ) ALTRET(BAD_READ);
      717    11379    2           OUTBUF=IOBUF;
      718    11380    2           OUTBUF.BOUND=M$INPUT$->F$DCB.ARS-1;
      719    11381    2           CALL ZAP_TRAILING_BYTES;
      720    11382    2           RETURN;
      721    11383    2   BAD_READ:
      722    11384    3           IF B$TCB$->B$TCB.ALT$->B$ALT.ERR.CODE=%E$LD THEN DO;
      723    11385    3              CALL GET_MORE_SPACE;
      724    11386    3              FPT_READ.BUF_=IOBUF;
      725    11387    3              CALL M$RETRY;
      726    11388    3              END;
      727    11389    3           IF B$TCB$->B$TCB.ALT$->B$ALT.ERR.CODE=%E$EOF THEN DO;
      728    11390    3              LAST_KEY_READ='0'B;
      729    11391    3              ALTRETURN;
      730    11392    3              END;
      731    11393    2           CALL ABORT_DEF(BAD_READ_CODE,DCBNUM(M$INPUT));
      732    11394    2   END READ_SEQUENTIAL;
      733    11395        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:27   
      734    11396    1   WRITE_PO: PROC(MODE,BUFVEC);
      735    11397    2   DCL MODE SBIN;
      736    11398    2   DCL BUFVEC BIT(72) UNAL;
      737    11399        %FPT_WRITE (DCB=M$PO);
      738    11430        %FPT_READ (DCB=M$PO);
      739    11469    2   DCL RECSIZE SBIN;
      740    11470    2   DCL TAPEREC CHAR(RECSIZE) BASED(FPT_READ.BUF_.BUF$);
      741    11471    2   DCL FILEREC CHAR(RECSIZE) BASED(FPT_WRITE.BUF_.BUF$);
      742    11472        %ERRCODE (NAME=BAD_PO_WRITE_CODE,CODE#=%E$BAD_PO_WRITE);
      743    11479        /**/
      744    11480    2           IF POAS=0 THEN;
      745    11481    2           ELSE FPT_WRITE.V.DCB#=POAS;
      746    11482    2           IF ADDR(BUFVEC)=ADDR(NIL) THEN FPT_WRITE.BUF_=OUTBUF;
      747    11483    2           ELSE FPT_WRITE.BUF_=BUFVEC;
      748    11484    2           FPT_WRITE.V.DVBYTE.BIN#=BINBIT(MODE,1);
      749    11485    3           IF ID_VERIFLG THEN DO;
      750    11486    3              FPT_READ.BUF_=ID_VERISEG;
      751    11487    3              FPT_READ.V.DVBYTE.BIN#=BINBIT(MODE,1);
      752    11488    3              RECSIZE=FPT_WRITE.BUF_.BOUND+1;
      753    11489    3              CALL M$READ(FPT_READ) ALTRET(VERIFY_ERR);
      754    11490    3              IF NOT READONLY# AND TAPEREC~=FILEREC THEN GOTO VERIFY_ERR;
      755    11491    3              END;
      756    11492    3           ELSE DO;
      757    11493    3              CALL M$WRITE(FPT_WRITE) ALTRET(BAD_WRITE);
      758    11494    3              END;
      759    11495    2           RECCNT=RECCNT+1;
      760    11496    2           RETURN;
      761    11497    2   BAD_WRITE:
      762    11498    2           IF POAS=0
      763    11499    2           THEN CALL ABORT_DEF(BAD_PO_WRITE_CODE,DCBNUM(M$PO));
      764    11500    2           ELSE CALL ABORT_DEF(BAD_AS_WRITE_CODE,POAS);
      765    11501    2   VERIFY_ERR: ;
      766    11502    2           IF POAS=0
      767    11503    2           THEN CALL ABORT_DEF(VERIFY_CODE,DCBNUM(M$PO));
      768    11504    2           ELSE CALL ABORT_DEF(AS_VERIFY_CODE,POAS);
      769    11505        /*E*    ERROR:   IDU-E$VERIFY
      770    11506                MESSAGE: Verification error on unlabeled portion of PO tape.
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:28   
      771    11507                                                                           */
      772    11508        /*E*    ERROR:   IDU-E$AS_VERIFY
      773    11509                MESSAGE: Verification error on Alternate Schema tape.
      774    11510                                                                          */
      775    11511    2   END WRITE_PO;
      776    11512        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:29   
      777    11513    1   WRITE_PAGE_SIZE_CHUNKS: PROC(MODE,INVEC);
      778    11514    2   DCL MODE SBIN;
      779    11515    2   DCL 1 INVEC,
      780    11516    2         2 BOUND UBIN(20) UNAL,
      781    11517    2         2 * BIT(16),
      782    11518    2         2 PTR$ PTR;
      783    11519    2   DCL 1 OUTVEC,
      784    11520    2         2 BOUND UBIN(20) UNAL,
      785    11521    2         2 * BIT(16),
      786    11522    2         2 PTR$ PTR;
      787    11523    2   DCL SIZE SBIN;
      788    11524        /**/
      789    11525    2           OUTVEC=INVEC;
      790    11526    2           SIZE=INVEC.BOUND+1;
      791    11527    3           DO WHILE (SIZE>4096);
      792    11528    3              OUTVEC.BOUND=4095;
      793    11529    3              CALL WRITE_PO(MODE,OUTVEC);
      794    11530    3              OUTVEC.PTR$=PINCRC(OUTVEC.PTR$,4096);
      795    11531    3              SIZE=SIZE-4096;
      796    11532    3              END;
      797    11533    3           DO WHILE (SIZE>0);
      798    11534    3              OUTVEC.BOUND=SIZE-1;
      799    11535    3              CALL WRITE_PO(MODE,OUTVEC);
      800    11536    3              SIZE=SIZE-4096;
      801    11537    3              END;
      802    11538    2           RETURN;
      803    11539    2   END WRITE_PAGE_SIZE_CHUNKS;
      804    11540        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:30   
      805    11541    1   WRITE_HEADER: PROC(BIAS,TYPE,SIZE,MODE,START);
      806    11542    2   DCL BIAS SBIN;
      807    11543    2   DCL TYPE SBIN;
      808    11544    2   DCL SIZE SBIN;
      809    11545    2   DCL MODE SBIN;
      810    11546    2   DCL START UBIN(20) UNAL;
      811    11547        /**/
      812    11548    2   DCL 1 HEADER,
      813    11549    2         2 BASE SBIN WORD,
      814    11550    2         2 TYPE SBIN WORD,
      815    11551    2         2 LSIZE SBIN WORD,
      816    11552    2         2 MODE BIT(1),
      817    11553    2         2 START SBIN(35) UNAL;
      818    11554        /**/
      819    11555    3           IF TYPE = %MPROCTC AND I > 0 THEN DO;
      820    11556    3              IF BIAS = 0 THEN MONNODESTUFF.CBIAS(I-1) = 'Page';
      821    11557    3              ELSE IF BIAS = -2 THEN MONNODESTUFF.CBIAS(I-1) = '8 Wd';
      822    11558    3                 ELSE IF BIAS = - 1 THEN MONNODESTUFF.CBIAS(I-1) = 'Even';
      823    11559    3                    ELSE MONNODESTUFF.BIAS(I-1) = BIAS;
      824    11560    3              MONNODESTUFF.SIZE(I-1)=SIZE;
      825    11561    3              MONNODESTUFF.PADDR(I-1)=MROREC.PADDR;
      826    11562    3              MONNODESTUFF.NODE_NAME(I-1)=MROREC.NINFO.NODE_NAME.TXT(I);
      827    11563    3              END;
      828    11564    3           ELSE DO;
      829    11565    3              IF BIAS = 0 THEN BOOTSTUFF.CBIAS(TYPE+1) = 'Page';
      830    11566    3              ELSE IF BIAS = -2 THEN BOOTSTUFF.CBIAS(TYPE+1) = '8 Wd';
      831    11567    3                 ELSE IF BIAS = -1 THEN BOOTSTUFF.CBIAS(TYPE+1) = 'Even';
      832    11568    3                    ELSE BOOTSTUFF.BIAS(TYPE+1) = BIAS;
      833    11569    3              BOOTSTUFF.SIZE(TYPE+1)=SIZE;
      834    11570    3              BOOTSTUFF.START(TYPE+1)=START;
      835    11571    3              END;
      836    11572    2           HEADER.BASE=BIAS;
      837    11573    2           HEADER.TYPE=TYPE;
      838    11574    2           HEADER.LSIZE=SIZE;
      839    11575    2           HEADER.START=START;
      840    11576    2           HEADER.MODE=~BINBIT(MODE,1);
      841    11577    2           CALL WRITE_PO(BINARY,VECTOR(HEADER));
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:31   
      842    11578    2           RETURN;
      843    11579    2   END WRITE_HEADER;
      844    11580        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:32   
      845    11581    1   READ_KEYED: PROC(KEY) ALTRET;
      846    11582    2   DCL 1 KEY,
      847    11583    2         2 CNT UBIN BYTE UNAL,
      848    11584    2         2 TXT CHAR(31);
      849    11585        %FPT_READ (DCB=M$INPUT,KEY=LAST_KEY_READ,KEYS=YES,KEYR=YES,WAIT=YES);
      850    11624        /**/
      851    11625    2           LAST_KEY_READ=KEY;
      852    11626    2           IF IOBUF.BOUND = BITBIN('3777777'O) THEN
      853    11627    2              CALL GET_MORE_SPACE(0);
      854    11628    2           FPT_READ.BUF_=IOBUF;
      855    11629    2           CALL M$READ(FPT_READ) ALTRET(BAD_READ);
      856    11630    2           OUTBUF=IOBUF;
      857    11631    2           OUTBUF.BOUND=M$INPUT$->F$DCB.ARS-1;
      858    11632    2           CALL ZAP_TRAILING_BYTES;
      859    11633    2           RETURN;
      860    11634    2   BAD_READ:
      861    11635    2           ERRCODE=B$TCB$->B$TCB.ALT$->B$ALT.ERR;
      862    11636    3           IF ERRCODE.CODE=%E$NOKEY THEN DO;
      863    11637    3              OUTBUF=VECTOR(ERASE);
      864    11638    3              ALTRETURN;
      865    11639    3              END;
      866    11640    3           IF ERRCODE.CODE=%E$LD THEN DO;
      867    11641    3              CALL GET_MORE_SPACE;
      868    11642    3              FPT_READ.BUF_=IOBUF;
      869    11643    3              CALL M$RETRY;
      870    11644    3              END;
      871    11645    2           CALL ABORT_DEF(BAD_READ_CODE,DCBNUM(M$INPUT));
      872    11646    2   END READ_KEYED;
      873    11647        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:33   
      874    11648    1   GET_MORE_SPACE: PROC (GMS_JUNK);
      875    11649        /**/
      876    11650    2   DCL GMS_JUNK BIT(1) ALIGNED;
      877    11651        /**/
      878    11652    2   DCL SZ SBIN;
      879    11653        /**/
      880    11654    2           IF ADDR(GMS_JUNK) = ADDR(NIL) THEN CALL M$SENV;
      881    11655    2           SZ=SVIOBUF.BOUND/4+1025;
      882    11656    2           CALL IDD$GETSEG(SVIOBUF,SZ) ALTRET(ABRT);
      883    11657    2           IF ID_VERIFLG THEN
      884    11658    2              CALL IDD$GETSEG(ID_VERISEG,SZ) ALTRET(ABRT);
      885    11659    2           IOBUF.BOUND=SVIOBUF.BOUND+POFFC(SVIOBUF.PTR$,IOBUF.PTR$);
      886    11660    2           IF ADDR(GMS_JUNK) = ADDR(NIL) THEN CALL M$PRECORD(FPT_PRECORDM1) ALTRET(ABRT
             11660                    );
      887    11661    2           IF ADDR(GMS_JUNK) = ADDR(NIL) THEN CALL M$RENV;
      888    11662    2           RETURN;
      889    11663    2   ABRT:
      890    11664    2           CALL ABORT_DEF(NO_BUFFER_CODE,DCBNUM(M$INPUT));
      891    11665    2   END GET_MORE_SPACE;
      892    11666        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:34   
      893    11667    1   WRITE_PATCH: PROC;
      894    11668    3           DO WHILE('1'B);
      895    11669    3              IOBUF.PTR$->CARDIMAGE=' ';
      896    11670    3              CALL READ_SEQUENTIAL ALTRET(PATCH_DONE);
      897    11671    3              CALL WRITE_PO(ASCII,VECTOR(IOBUF.PTR$->CARDIMAGE));
      898    11672    4              IF OUTBUF.BOUND>79 THEN DO;
      899    11673    4                 TRUNCATED=TRUNCATED+1;
      900    11674    4                 CALL X$WRITE(F_FDS,VECTOR(PTRUNCFMT),OUTBUF);
      901    11675    4                 FPT_EXIT.V.STEPCC# = 4;
      902    11676    4                 CALL XUR$ERRMSG(TRUNC_CODE);
      903    11677        /*E*    ERROR:   IDU-E$ID_PTRUNC
      904    11678                MESSAGE: Above patch card truncated to 80 characters.
      905    11679                                                                           */
      906    11680    4                 END;
      907    11681    4              ELSE DO;
      908    11682    4                 IF ID_LISTFLG THEN
      909    11683    4                    CALL X$WRITE(F_FDS,VECTOR(PTCHFMT),OUTBUF);
      910    11684    4                 END;
      911    11685    3              I=I+1;
      912    11686    3              END;
      913    11687    2   PATCH_DONE:
      914    11688    2           RETURN;
      915    11689    2   END WRITE_PATCH;
      916    11690        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:35   
      917    11691    1   WRITE_LO: PROC(BUFVEC);
      918    11692    2   DCL BUFVEC BIT(72) UNAL;
      919    11693        %FPT_WRITE (DCB=M$LO,VFC=NO);
      920    11724        /**/
      921    11725    2           FPT_WRITE.BUF_=BUFVEC;
      922    11726    2           CALL M$WRITE(FPT_WRITE);
      923    11727    2           RETURN;
      924    11728    2   END WRITE_LO;
      925    11729        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:36   
      926    11730    1   ZAP_TRAILING_BYTES: PROC;
      927    11731        /**/
      928    11732    2   DCL Z$ PTR;
      929    11733    2   DCL 1 Z REDEF Z$,
      930    11734    2         2 W UBIN(18) UNAL,
      931    11735    2         2 B UBIN(2) UNAL,
      932    11736    2         2 BT UBIN(4) UNAL,
      933    11737    2         2 SEGID BIT(12);
      934    11738    2   DCL CBASE CHAR(CSIZ) BASED;
      935    11739    2   DCL CSIZ SBIN;
      936    11740    2   DCL BLANKS CHAR(4) CONSTANT INIT('    ');
      937    11741        /**/
      938    11742    2           Z$=PINCRC(OUTBUF.PTR$,OUTBUF.BOUND+1);
      939    11743    2           CSIZ=MOD(4-Z.B,4);
      940    11744    2           IF CSIZ>0 THEN Z$->CBASE=BLANKS;
      941    11745    2           RETURN;
      942    11746    2   END ZAP_TRAILING_BYTES;
      943    11747        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:37   
      944    11748    1   WRITE_MONITOR_SCHEMA: PROC;
      945    11749        /**/
      946    11750    2   DCL 1 DNAMBUF,
      947    11751    2         2 BOUND UBIN(20) UNAL,
      948    11752    2         2 FLAGS BIT(16),
      949    11753    2         2 PTR$ PTR;
      950    11754    2   DCL 1 DNAMEREC(0:0) BASED(DNAMBUF.PTR$),
      951    11755    2         2 CNT UBIN HALF UNAL,
      952    11756    2         2 FCG CHAR(2);
      953    11757    2   DCL 1 FCGHDR STATIC,
      954    11758    2         2 FCG CHAR(2),
      955    11759    2         2 * UBIN HALF UNAL INIT(0),
      956    11760    2         2 NPR UBIN WORD,
      957    11761    2         2 NOU UBIN WORD INIT(1);
      958    11762    2   DCL 1 DBHDR,
      959    11763    2         2 NPTR SBIN WORD UNAL,
      960    11764    2         2 RECS (0:4),
      961    11765    2           3 * SBIN WORD UNAL,
      962    11766    2           3 SIZE SBIN WORD UNAL;
      963    11767    2   DCL 1 FIRST_DEBUG_KEY CONSTANT ALIGNED,
      964    11768    2         2 * UBIN BYTE UNAL INIT(7),
      965    11769    2         2 * BIT(9) INIT('777'O),
      966    11770    2         2 * UBIN HALF UNAL INIT(0),
      967    11771    2         2 * UBIN HALF UNAL INIT(0),
      968    11772    2         2 * UBIN BYTE UNAL INIT(0),
      969    11773    2         2 * UBIN BYTE UNAL INIT(0);
      970    11774        %ERRCODE (NAME=SCHEMA_ERR_CODE,CODE#=%E$SCHEMA_ERR);
      971    11781        /**/
      972    11782    2           CALL WRITE_HEADER(0,MSCHEMTC,0,BINARY,0);
      973    11783    2           CALL READ_KEYED(FIRST_DEBUG_KEY);
      974    11784    2           DNAMBUF = MDNAMBUF;
      975    11785    2           DBKEY.CNT=7;
      976    11786    3           DO WHILE (DBKEY.SEVENS='777'O AND DBKEY.CNT=7 AND RUMKEY.TYPE~=20
             11786                    /* TYPE=RUM */ );
      977    11787    3              CALL READ_SEQUENTIAL;
      978    11788    3              DBHDR='0'B;
      979    11789    3              DBHDR.NPTR=DBKEY.NPTR + MROREC.NINFO.DNAM.OFFSET(DBKEY.NODE);
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:38   
      980    11790    3              FCGHDR.FCG=DNAMEREC.FCG(DBHDR.NPTR);
      981    11791    3              FCGHDR.NPR=1;
      982    11792    3              DBHDR.RECS.SIZE(DBKEY.TYPE-11)=M$INPUT$->F$DCB.ARS/4;
      983    11793    3              IOBUF.PTR$=PINCRC(IOBUF.PTR$,M$INPUT$->F$DCB.ARS);
      984    11794    3              IOBUF.BOUND=IOBUF.BOUND-M$INPUT$->F$DCB.ARS;
      985    11795    3              CALL READ_SEQUENTIAL ALTRET(END_DB);
      986    11796    4              DO WHILE (DBKEY.CNT=7 AND DBKEY.NPTR+MROREC.NINFO.DNAM.OFFSET(DBKEY.NODE)
             11796                       =DBHDR.NPTR);
      987    11797    4                 DBHDR.RECS.SIZE(DBKEY.TYPE-11)=DBHDR.RECS.SIZE(DBKEY.TYPE-11)+M$INPUT$
             11797                          ->F$DCB.ARS/4;
      988    11798    4                 IOBUF.PTR$=PINCRC(IOBUF.PTR$,M$INPUT$->F$DCB.ARS);
      989    11799    4                 IOBUF.BOUND=IOBUF.BOUND-M$INPUT$->F$DCB.ARS;
      990    11800    5                 IF IOBUF.BOUND=%BITBIN(%CONCAT('777777'O,'11'B)) THEN DO;
      991    11801    5                    I=SVIOBUF.BOUND/4+1025;
      992    11802    5                    CALL IDD$GETSEG(SVIOBUF,I) ALTRET(IOERR);
      993    11803    5                    IOBUF.BOUND=SVIOBUF.BOUND+POFFC(SVIOBUF.PTR$,IOBUF.PTR$);
      994    11804    5                    END;
      995    11805    4                 CALL READ_SEQUENTIAL ALTRET(END_DB);
      996    11806    4                 END;
      997    11807    3   END_DB:    IF DBKEY.SEVENS='777'O THEN CALL M$PRECORD(FPT_PRECORDM1);
      998    11808    4              IF SCHEMA_TBL.N>0 THEN DO;
      999    11809    5                 DO I=0 TO SCHEMA_TBL.N-1;
     1000    11810    5                    IF FCGHDR.FCG=SCHEMA_TBL.FCG(I) THEN GOTO SCHEMA_IN_LIST;
     1001    11811    5                    IF SUBSTR(SCHEMA_TBL.FCG(I),1,1)=' ' AND
     1002    11812    5                      SUBSTR(SCHEMA_TBL.FCG(I),0,1)=SUBSTR(FCGHDR.FCG,0,1)
     1003    11813    5                    THEN GOTO SCHEMA_IN_LIST;
     1004    11814    5                    END;
     1005    11815    4                 GOTO SKIP_THIS_FCG;
     1006    11816    4   SCHEMA_IN_LIST: ;
     1007    11817    4                 END;
     1008    11818    3              IOBUF=SVIOBUF;
     1009    11819    4              DO I=0 TO 4;
     1010    11820    4                 FCGHDR.NPR=FCGHDR.NPR+(DBHDR.RECS.SIZE(I)+1023)/1024;
     1011    11821    4                 END;
     1012    11822    4              DO SCH_IDX=1 TO SCH_FCGS;
     1013    11823    4                 IF FCGHDR.FCG=SCHEMASTUFF.FCG(SCH_IDX) THEN GOTO FCGFND;
     1014    11824    4                 END;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:39   
     1015    11825    3              SCH_FCGS=SCH_FCGS+1;
     1016    11826    3              SCH_IDX=SCH_FCGS;
     1017    11827    3              SCHEMASTUFF(SCH_IDX)='0'B;
     1018    11828    3              SCHEMASTUFF.FCG(SCH_IDX)=FCGHDR.FCG;
     1019    11829    3   FCGFND:    SCHEMASTUFF.RECS(SCH_IDX)=SCHEMASTUFF.RECS(SCH_IDX)+FCGHDR.NPR;
     1020    11830    3              SCHEMASTUFF.OUS(SCH_IDX)=SCHEMASTUFF.OUS(SCH_IDX)+FCGHDR.NOU;
     1021    11831    3              CALL WRITE_PO(BINARY,VECTOR(FCGHDR));
     1022    11832    3              CALL WRITE_PO(BINARY,VECTOR(DBHDR));
     1023    11833    4              DO I=0 TO 4;
     1024    11834    4                 SCHEMASTUFF.SIZE(SCH_IDX)=SCHEMASTUFF.SIZE(SCH_IDX)+DBHDR.RECS.SIZE(I)
             11834                          ;
     1025    11835    5                 DO WHILE (DBHDR.RECS.SIZE(I)>1024);
     1026    11836    5                    IOBUF.BOUND=4095;
     1027    11837    5                    IF I=4 THEN CALL WRITE_PO(ASCII,IOBUF);
     1028    11838    5                    ELSE CALL WRITE_PO(BINARY,IOBUF);
     1029    11839    5                    IOBUF.PTR$=PINCRW(IOBUF.PTR$,1024);
     1030    11840    5                    DBHDR.RECS.SIZE(I)=DBHDR.RECS.SIZE(I)-1024;
     1031    11841    5                    END;
     1032    11842    5                 DO WHILE (DBHDR.RECS.SIZE(I)>0);
     1033    11843    5                    IOBUF.BOUND=DBHDR.RECS.SIZE(I)*4-1;
     1034    11844    5                    IF I=4 THEN CALL WRITE_PO(ASCII,IOBUF);
     1035    11845    5                    ELSE CALL WRITE_PO(BINARY,IOBUF);
     1036    11846    5                    IOBUF.PTR$=PINCRW(IOBUF.PTR$,DBHDR.RECS.SIZE(I));
     1037    11847    5                    DBHDR.RECS.SIZE(I)=0;
     1038    11848    5                    END;
     1039    11849    4                 END;
     1040    11850    3   SKIP_THIS_FCG: ;
     1041    11851    3              IOBUF=SVIOBUF;
     1042    11852    3              END;
     1043    11853    2           CALL WRITE_PO(BINARY,VECTOR(FOUR_ZEROS));
     1044    11854    2           CALL IDD$GETSEG(DNAMBUF,0);
     1045    11855    2           RETURN;
     1046    11856    2   IOERR:
     1047    11857    2           CALL ABORT_DEF(SCHEMA_ERR_CODE);
     1048    11858    2   END WRITE_MONITOR_SCHEMA;
     1049    11859        /**/
     1050    11860        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:40   
     1051    11861    1   WRITE_BOOT_STUFF: PROC;
     1052    11862        /* PROCEDURE TO WRITE CONTENTS OF PO TAPE TO M$LO */
     1053    11863    2   DCL WRHDR CHAR(0) CONSTANT INIT(
     1054    11864    2         '%!%5-CONTENTS OF PO TAPE%2/%X%A%/');
     1055    11865    2   DCL HDR1 CHAR(0) CONSTANT INIT(
     1056    11866    2         '   ITEM         BIAS    SIZE  S.ADDR');
     1057    11867    2   DCL FMT1 CHAR(0) CONSTANT INIT(
     1058    11868    2         '%12A%2X%6+O%2X%6+O%2X%6+O');
     1059    11869    2   DCL FMT1A CHAR(0) CONSTANT INIT(
     1060    11870    2         '%12A%4X%4A%2X%6+O%2X%6+O');
     1061    11871    2   DCL HDR3 CHAR(0) CONSTANT INIT(
     1062    11872    2         '%/   ITEM         BIAS    SIZE   PADDR   NODE NAME');
     1063    11873    2   DCL FMT3 CHAR(0) CONSTANT INIT(
     1064    11874    2         '%12A%2X%6+O%2X%6+O%2X%6+O%3X%A');
     1065    11875    2   DCL FMT3A CHAR(0) CONSTANT INIT(
     1066    11876    2         '%12A%4X%4A%2X%6+O%2X%6+O%3X%A');
     1067    11877    2   DCL HDR2 CHAR(0) CONSTANT INIT(
     1068    11878    2         '%/    DEBUG SCHEMA%/FCG  #REC  #OU    SIZE');
     1069    11879    2   DCL FMT2 CHAR(0) CONSTANT INIT(
     1070    11880    2         '%X%2A%2X%4D%2X%3D%2X%6O');
     1071    11881        /**/
     1072    11882    2           CALL X$WRITE(F_FDS,VECTOR(WRHDR),VECTOR(TAPEID));
     1073    11883    2           CALL X$WRITE(F_FDS,VECTOR(HDR1));
     1074    11884    3           DO I=0 TO NUMTC;
     1075    11885    4              IF BOOTSTUFF.SIZE(I)>0 THEN DO;
     1076    11886    5                 DO SELECT(BOOTSTUFF.CBIAS(I));
     1077    11887    5                    SELECT('Page','8 Wd','Even');
     1078    11888    5                    CALL X$WRITE(F_FDS,VECTOR(FMT1A),VECTOR(BOOTSTUFF(I)));
     1079    11889    5                    SELECT(ELSE);
     1080    11890    5                 CALL X$WRITE(F_FDS,VECTOR(FMT1),VECTOR(BOOTSTUFF(I)));
     1081    11891    5                    END;
     1082    11892    4                 END;
     1083    11893    3              END;
     1084    11894    2           CALL X$WRITE(F_FDS,VECTOR(HDR3));
     1085    11895    3           DO I=0 TO 13;
     1086    11896    4              IF MONNODESTUFF.SIZE(I)>0 THEN DO;
     1087    11897    5                 DO SELECT(MONNODESTUFF.CBIAS(I));
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:41   
     1088    11898    5                    SELECT('Page','8 Wd','Even');
     1089    11899    5                    CALL X$WRITE(F_FDS,VECTOR(FMT3A),VECTOR(MONNODESTUFF(I)));
     1090    11900    5                    SELECT(ELSE);
     1091    11901    5                 CALL X$WRITE(F_FDS,VECTOR(FMT3),VECTOR(MONNODESTUFF(I)));
     1092    11902    5                    END;
     1093    11903    4                 END;
     1094    11904    3              END;
     1095    11905    2           CALL X$WRITE(F_FDS,VECTOR(HDR2));
     1096    11906    3           DO I=1 TO SCH_FCGS;
     1097    11907    3              CALL X$WRITE(F_FDS,VECTOR(FMT2),VECTOR(SCHEMASTUFF(I)));
     1098    11908    3              END;
     1099    11909    2   END WRITE_BOOT_STUFF;
     1100    11910        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:42   
     1101    11911    1   BUILD_G1RO: PROC;
     1102    11912        /**/
     1103    11913    2   DCL NEXT$ PTR;
     1104    11914    2   DCL 1 NEXT REDEF NEXT$,
     1105    11915    2         2 CHR UBIN(20) UNAL,
     1106    11916    2         2 BT UBIN(4) UNAL,
     1107    11917    2         2 SEGID BIT(12);
     1108    11918    2   DCL LAST$ PTR;
     1109    11919    2   DCL 1 LAST REDEF LAST$,
     1110    11920    2         2 WA UBIN(18) UNAL,
     1111    11921    2         2 * UBIN(18) UNAL;
     1112    11922    2   DCL ROS$ PTR;
     1113    11923    2   DCL M_STAR$ PTR;
     1114    11924    2   DCL M_LM$ PTR;
     1115    11925    2   DCL M_UC$ PTR;
     1116    11926    2   DCL M_DO$ PTR;
     1117    11927    2   DCL 1 PBASE(0:0) BASED UNAL,
     1118    11928    2         2 WA UBIN(18) UNAL,
     1119    11929    2         2 * UBIN(18) UNAL;
     1120    11930    2   DCL PBASE$(0:0) PTR BASED;
     1121    11931    2   DCL 1 DESC(0:0) BASED ALIGNED,
     1122    11932    2         2 BOUND UBIN(20) UNAL,
     1123    11933    2         2 TYPE0,
     1124    11934    2           3 FLAGS BIT(9),
     1125    11935    2           3 WSR UBIN(3) UNAL,
     1126    11936    2         2 TYPE2 REDEF TYPE0,
     1127    11937    2           3 FLAGS BIT(3),
     1128    11938    2           3 WSQ UBIN(9) UNAL,
     1129    11939    2         2 TYPE UBIN(4) UNAL,
     1130    11940    2         2 BASE UBIN;
     1131    11941    2   DCL 1 ROSEG_KEY ALIGNED CONSTANT,
     1132    11942    2         2 * UBIN BYTE UNAL INIT(5),
     1133    11943    2         2 * UBIN BYTE UNAL INIT(30),
     1134    11944    2         2 * UBIN WORD UNAL INIT(0);
     1135    11945    2   DCL STUFF CHAR(SIZE) BASED;
     1136    11946    2   DCL SIZE SBIN;
     1137    11947    2   DCL DCB$ PTR;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:43   
     1138    11948        /**/
     1139    11949    2           NEXT$=PINCRW(SVIOBUF.PTR$,1024); /* FIRST PAGE IS G1HJIT              */
     1140    11950    2           CALL MOVE(G1ROSEG,SIZEC(G1ROSEG),8);
     1141    11951    2           ROS$=LAST$;
     1142    11952    2           CALL MOVE(M_STAR,SIZEC(DUMMY_DCB),8);
     1143    11953    2           M_STAR$=LAST$;
     1144    11954    2           CALL MOVE(STAR,SIZEC(STAR),8);
     1145    11955    2           CALL MOVE(M_LM,SIZEC(DUMMY_DCB),8);
     1146    11956    2           M_LM$=LAST$;
     1147    11957    2           CALL MOVE(LM,SIZEC(LM),8);
     1148    11958    2           CALL MOVE(M_UC,SIZEC(DUMMY_DCB),8);
     1149    11959    2           M_UC$=LAST$;
     1150    11960    2           CALL MOVE(UC,SIZEC(UC),8);
     1151    11961    2           CALL MOVE(M_DO,SIZEC(DUMMY_DCB),8);
     1152    11962    2           M_DO$=LAST$;
     1153    11963    2           CALL MOVE(DOH,SIZEC(DOH),8);
     1154    11964    2           CALL MOVE(UCTABS,SIZEC(UCTABS),8);
     1155    11965    3           DO I=1 TO -%M$MAXNEG#;          /* MAKE SPACE FOR HIDDEN DCB PTRS     */
     1156    11966    3              CALL MOVE(ADDR(NIL),4,4);
     1157    11967    3              END;
     1158    11968    2           ROS$->B$ROSEG.DCBPTR$=NEXT$;    /* SETUP POINTER TO DCB TABLE         */
     1159    11969    2           CALL MOVE(ADDR(NIL),4,4);       /* DCB0 POINTER                       */
     1160    11970    2           CALL MOVE(M_STAR$,4,4);
     1161    11971    2           CALL MOVE(M_LM$,4,4);
     1162    11972    2           CALL MOVE(M_UC$,4,4);
     1163    11973    2           CALL MOVE(M_DO$,4,4);
     1164    11974    3           DO I=1 TO 5;
     1165    11975    3              CALL MOVE(ADDR(NIL),4,4);    /* 5 RESERVED DCB SLOTS               */
     1166    11976    3              END;
     1167    11977    2           CALL MOVE(,HEADREC.ROSIZE*4,4); /* RESERVE SPACE FOR ROSEG
     1168    11978                                                   FROM RUN UNIT */
     1169    11979    2           IOBUF.PTR$=LAST$;
     1170    11980    2           IOBUF.BOUND=SVIOBUF.BOUND+POFFC(SVIOBUF.PTR$,LAST$)-1;
     1171    11981    2           CALL READ_KEYED(ROSEG_KEY) ALTRET(NO_ROSEG);
     1172    11982    2           DCB$=SVIOBUF.PTR$;
     1173    11983    2           SIZE=SIZEC(DUMMY_DCB);
     1174    11984    3           DO I=0 TO HEADREC.UDCBNUM-1;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:44   
     1175    11985    3              LAST$->PBASE.WA(I)=LAST$->PBASE.WA(I)+LAST.WA;
     1176    11986    3              ADDR(DCB$)->PBASE.WA(0)=LAST$->PBASE.WA(I);
     1177    11987    3              DCB$->STUFF=ADDR(M_DUMMY)->STUFF;
     1178    11988    3              END;
     1179    11989    2           TEMP=HEADREC.UDCBNUM+HEADREC.DCBRES-1;
     1180    11990    3           DO I=HEADREC.UDCBNUM TO TEMP;
     1181    11991    3              LAST$->PBASE$(I)=ADDR(NIL);  /* IN CASE LINKER MESSES UP           */
     1182    11992    3              END;
     1183    11993    2           ROS$->B$ROSEG.NUMDCBS=HEADREC.UDCBNUM+HEADREC.DCBRES+9;
     1184    11994    2           CALL MOVE(G1TCB,SIZEC(G1TCB),8);
     1185    11995    2           ROS$->B$ROSEG.TREE$=LAST$;      /* POINTER TO TCB FOR AARDVARK        */
     1186    11996    2           SVIOBUF.PTR$->DESC.BASE(15)=ROS_BASE%+(LAST.WA-1024)*4;
     1187    11997    2           SVIOBUF.PTR$->DESC.BOUND(15)=4095-MOD(SVIOBUF.PTR$->DESC.BASE(15),4096);
     1188    11998    2           SVIOBUF.PTR$->DESC.TYPE0.FLAGS(15)='563'O;
     1189    11999    2           SVIOBUF.PTR$->DESC.TYPE0.FLAGS(1)='763'O;
     1190    12000    2           OUTBUF=SVIOBUF;
     1191    12001    2           OUTBUF.BOUND=POFFC(NEXT$,SVIOBUF.PTR$)-1;
     1192    12002    2           IOBUF=SVIOBUF; /* LEAVE THINGS AS THEY WERE */;
     1193    12003    2           RETURN;
     1194    12004    2   NO_ROSEG: ;
     1195    12005    2           CALL ABORT_DEF(NO_ROS_CODE,DCBNUM(NIL));
     1196    12006        /*E*       ERROR:      IDU-E$NO_ROS
     1197    12007                   MESSAGE: GHOST1 run unit has no ROSEG record(s).
     1198    12008        */
     1199    12009    2   MOVE:   PROC(STUFF,SIZE,BOUND);
     1200    12010    3   DCL STUFF CHAR(SIZE);
     1201    12011    3   DCL SIZE SBIN;
     1202    12012    3   DCL BOUND SBIN;
     1203    12013    3   DCL MBASE CHAR(SIZE) BASED(LAST$);
     1204    12014    3   DCL X SBIN;
     1205    12015        /**/
     1206    12016    3           IF MOD(NEXT.CHR,BOUND)~=0 THEN
     1207    12017    3              NEXT.CHR=NEXT.CHR+BOUND-MOD(NEXT.CHR,BOUND);
     1208    12018    3           LAST$=NEXT$;
     1209    12019    3           NEXT$=PINCRC(NEXT$,SIZE);
     1210    12020    3           IF MOD(NEXT.CHR,BOUND)~=0 THEN
     1211    12021    3              NEXT.CHR=NEXT.CHR+BOUND-MOD(NEXT.CHR,BOUND);
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:45   
     1212    12022    3           X=1+POFFW(NEXT$,SVIOBUF.PTR$)/1024;
     1213    12023    3           CALL IDD$GETSEG(SVIOBUF,X*1024) ALTRET(NO_MEM);
     1214    12024    3           IF ADDR(STUFF)~=ADDR(NIL) THEN
     1215    12025    3              MBASE=STUFF;
     1216    12026    3           RETURN;
     1217    12027    3   NO_MEM: ;
     1218    12028    3           CALL ABORT_DEF(NO_BUFFER_CODE,DCBNUM(NIL));
     1219    12029    3   END MOVE;
     1220    12030    2   END BUILD_G1RO;
     1221    12031        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:46   
     1222    12032    1   IDU$ALTSCH: ENTRY;
     1223    12033    1           CALL WRITE_AS_SCHEMA;
     1224    12034    1           RETURN;
     1225    12035    1   WRITE_AS_SCHEMA: PROC;
     1226    12036    2   DCL 1 DNAMBUF,
     1227    12037    2         2 BOUND UBIN(20) UNAL,
     1228    12038    2         2 FLAGS BIT(16),
     1229    12039    2         2 PTR$ PTR;
     1230    12040    2   DCL 1 DNAMEREC(0:0) BASED(DNAMBUF.PTR$),
     1231    12041    2         2 CNT UBIN HALF UNAL,
     1232    12042    2         2 FCG CHAR(2);
     1233    12043    2   DCL 1 FCGHDR STATIC,
     1234    12044    2         2 FCG CHAR(2),
     1235    12045    2         2 * UBIN HALF UNAL INIT(0),
     1236    12046    2         2 NPR UBIN WORD,
     1237    12047    2         2 NOU UBIN WORD INIT(1);
     1238    12048    2   DCL 1 DBHDR,
     1239    12049    2         2 NPTR SBIN WORD UNAL,
     1240    12050    2         2 RECS (0:4),
     1241    12051    2           3 * SBIN WORD UNAL,
     1242    12052    2           3 SIZE SBIN WORD UNAL;
     1243    12053    2   DCL 1 FIRST_DEBUG_KEY CONSTANT ALIGNED,
     1244    12054    2         2 * UBIN BYTE UNAL INIT(7),
     1245    12055    2         2 * BIT(9) INIT('777'O),
     1246    12056    2         2 * UBIN HALF UNAL INIT(0),
     1247    12057    2         2 * UBIN HALF UNAL INIT(0),
     1248    12058    2         2 * UBIN BYTE UNAL INIT(0),
     1249    12059    2         2 * UBIN BYTE UNAL INIT(0);
     1250    12060        %ERRCODE (NAME=ASCHEMA_ERR_CODE,CODE#=%E$ASCHEMA_ERR);
     1251    12067    2   DCL AHDR1 CHAR(0) CONSTANT INIT(
     1252    12068    2         '%/    ALTER SCHEMA%/FCG  #REC  #OU    SIZE');
     1253    12069    2   DCL AFMT1 CHAR(0) CONSTANT INIT(
     1254    12070    2         '%X%2A%2X%4D%2X%3D%2X%6O');
     1255    12071        /**/
     1256    12072    2           SVIOBUF='0'B;
     1257    12073    2           CALL   IDD$GETSEG(SVIOBUF,1024);/* ALTRET(NO_MEM);                    */
     1258    12074    2           IOBUF=SVIOBUF;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:47   
     1259    12075    2           POAS=DCBNUM(M$AS);
     1260    12076    2           M$AS$=DCBADDR(DCBNUM(M$AS));
     1261    12077    2           M$INPUT$=DCBADDR(DCBNUM(M$INPUT));
     1262    12078    2           FPT_OPENAS.V.DENSITY#=ID_DENSITY;
     1263    12079    2           IF ID_VERIFLG THEN
     1264    12080    2              FPT_OPENAS.V.FUN#=%IN#;
     1265    12081    2           ELSE
     1266    12082    2              FPT_OPENAS.V.FUN#=%CREATE#;
     1267    12083    2           RES=M$AS$->F$DCB.RES;
     1268    12084    3           IF RES='FT' OR RES='MT' THEN DO;
     1269    12085    3              CALL M$OPEN(FPT_OPENAS) ALTRET(OPN_AS_ERROR);
     1270    12086    3              FPT_REW.V.PSN#=ID_ASLIST.C(0);
     1271    12087    3              CALL M$REW(FPT_REW) ALTRET(OPN_AS_ERROR);
     1272    12088    3              END;
     1273    12089    2           FPT_OPENAS.V.OPER.MNTONLY#='0'B;
     1274    12090    2           FPT_OPENAS.V.INITZ='11'B;       /* SCRUB AND REASSIGN                 */
     1275    12091    2           CALL M$OPEN (FPT_OPENAS) ALTRET(OPN_AS_ERROR);
     1276    12092    2           CALL IDO$OPENFILE(ASCHEMA,DCBNUM(M$INPUT),ERRCODE) ALTRET(NO_ASCHEMA);
     1277    12093    2           CALL RDHEAD;
     1278    12094    2           SCH_FCGS=0;
     1279    12095    2           TEMP=HEADREC.EPRECSIZE;
     1280    12096    2           ASCH20=ASCHEMA_TYP;
     1281    12097    2           CALL WRITE_HEADER(0,AEDEFTC,TEMP,BINARY,ASCH20);
     1282    12098    2           CALL READ_KEYED(MEDEFKEY);
     1283    12099    2           CALL WRITE_PAGE_SIZE_CHUNKS(BINARY,OUTBUF);
     1284    12100    2           TEMP=HEADREC.EDRECSIZE;
     1285    12101    2           CALL WRITE_HEADER(-1,ASDEFTC,TEMP,BINARY,0);
     1286    12102    2           CALL READ_KEYED(MSDEFKEY);
     1287    12103    2           CALL WRITE_PAGE_SIZE_CHUNKS(BINARY,OUTBUF);
     1288    12104    2           TEMP=HEADREC.NRECSIZE;
     1289    12105    2           CALL WRITE_HEADER(-1,ADNAMTC,TEMP,ASCII,0);
     1290    12106    2           CALL READ_KEYED(MDNAMKEY);
     1291    12107    2           CALL WRITE_PAGE_SIZE_CHUNKS(ASCII,OUTBUF);
     1292    12108    2           DNAMBUF=OUTBUF;
     1293    12109    2           CALL IDD$GETSEG(SVIOBUF,(DNAMBUF.BOUND+1)/4);
     1294    12110    2           SVIOBUF='0'B;
     1295    12111    2           CALL IDD$GETSEG(SVIOBUF,1024);
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:48   
     1296    12112    2           IOBUF=SVIOBUF;
     1297    12113    2           CALL WRITE_HEADER(0,ASCHEMTC,0,BINARY,0);
     1298    12114    2           CALL READ_KEYED(FIRST_DEBUG_KEY);
     1299    12115    2           DBKEY.CNT=7;
     1300    12116    3           DO WHILE (DBKEY.SEVENS='777'O AND DBKEY.CNT=7 AND RUMKEY.TYPE~=20
             12116                    /* TYPE=RUM */ );
     1301    12117    3              CALL READ_SEQUENTIAL;
     1302    12118    3              DBHDR='0'B;
     1303    12119    3              DBHDR.NPTR=DBKEY.NPTR;
     1304    12120    3              FCGHDR.FCG=DNAMEREC.FCG(DBHDR.NPTR);
     1305    12121    3              FCGHDR.NPR=1;
     1306    12122    3              DBHDR.RECS.SIZE(DBKEY.TYPE-11)=M$INPUT$->F$DCB.ARS/4;
     1307    12123    3              IOBUF.PTR$=PINCRC(IOBUF.PTR$,M$INPUT$->F$DCB.ARS);
     1308    12124    3              IOBUF.BOUND=IOBUF.BOUND-M$INPUT$->F$DCB.ARS;
     1309    12125    3              CALL READ_SEQUENTIAL ALTRET(END_DB);
     1310    12126    4              DO WHILE (DBKEY.NPTR=DBHDR.NPTR);
     1311    12127    4                 DBHDR.RECS.SIZE(DBKEY.TYPE-11)=DBHDR.RECS.SIZE(DBKEY.TYPE-11)+M$INPUT$
             12127                          ->F$DCB.ARS/4;
     1312    12128    4                 IOBUF.PTR$=PINCRC(IOBUF.PTR$,M$INPUT$->F$DCB.ARS);
     1313    12129    4                 IOBUF.BOUND=IOBUF.BOUND-M$INPUT$->F$DCB.ARS;
     1314    12130    5                 IF IOBUF.BOUND=%BITBIN(%CONCAT('777777'O,'11'B)) THEN DO;
     1315    12131    5                    I=SVIOBUF.BOUND/4+1025;
     1316    12132    5                    CALL IDD$GETSEG(SVIOBUF,I) ALTRET(IOERR);
     1317    12133    5                    IOBUF.BOUND=SVIOBUF.BOUND+POFFC(SVIOBUF.PTR$,IOBUF.PTR$);
     1318    12134    5                    END;
     1319    12135    4                 CALL READ_SEQUENTIAL ALTRET(END_DB);
     1320    12136    4                 END;
     1321    12137    3   END_DB:    IF DBKEY.SEVENS='777'O THEN CALL M$PRECORD(FPT_PRECORDM1);
     1322    12138    3              IOBUF=SVIOBUF;
     1323    12139    4              DO I=0 TO 4;
     1324    12140    4                 FCGHDR.NPR=FCGHDR.NPR+(DBHDR.RECS.SIZE(I)+1023)/1024;
     1325    12141    4                 END;
     1326    12142    4              DO SCH_IDX=1 TO SCH_FCGS;
     1327    12143    4                 IF FCGHDR.FCG=SCHEMASTUFF.FCG(SCH_IDX) THEN GOTO FCGFND;
     1328    12144    4                 END;
     1329    12145    3              SCH_FCGS=SCH_FCGS+1;
     1330    12146    3              SCH_IDX=SCH_FCGS;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:49   
     1331    12147    3              SCHEMASTUFF(SCH_IDX)='0'B;
     1332    12148    3              SCHEMASTUFF.FCG(SCH_IDX)=FCGHDR.FCG;
     1333    12149    3   FCGFND:    SCHEMASTUFF.RECS(SCH_IDX)=SCHEMASTUFF.RECS(SCH_IDX)+FCGHDR.NPR;
     1334    12150    3              SCHEMASTUFF.OUS(SCH_IDX)=SCHEMASTUFF.OUS(SCH_IDX)+FCGHDR.NOU;
     1335    12151    3              CALL WRITE_PO(BINARY,VECTOR(FCGHDR));
     1336    12152    3              CALL WRITE_PO(BINARY,VECTOR(DBHDR));
     1337    12153    4              DO I=0 TO 4;
     1338    12154    4                 SCHEMASTUFF.SIZE(SCH_IDX)=SCHEMASTUFF.SIZE(SCH_IDX)+DBHDR.RECS.SIZE(I)
             12154                          ;
     1339    12155    5                 DO WHILE (DBHDR.RECS.SIZE(I)>1024);
     1340    12156    5                    IOBUF.BOUND=4095;
     1341    12157    5                    IF I=4 THEN CALL WRITE_PO(ASCII,IOBUF);
     1342    12158    5                    ELSE CALL WRITE_PO(BINARY,IOBUF);
     1343    12159    5                    IOBUF.PTR$=PINCRW(IOBUF.PTR$,1024);
     1344    12160    5                    DBHDR.RECS.SIZE(I)=DBHDR.RECS.SIZE(I)-1024;
     1345    12161    5                    END;
     1346    12162    5                 DO WHILE (DBHDR.RECS.SIZE(I)>0);
     1347    12163    5                    IOBUF.BOUND=DBHDR.RECS.SIZE(I)*4-1;
     1348    12164    5                    IF I=4 THEN CALL WRITE_PO(ASCII,IOBUF);
     1349    12165    5                    ELSE CALL WRITE_PO(BINARY,IOBUF);
     1350    12166    5                    IOBUF.PTR$=PINCRW(IOBUF.PTR$,DBHDR.RECS.SIZE(I));
     1351    12167    5                    DBHDR.RECS.SIZE(I)=0;
     1352    12168    5                    END;
     1353    12169    4                 END;
     1354    12170    3              IOBUF=SVIOBUF;
     1355    12171    3              END;
     1356    12172    2           CALL WRITE_PO(BINARY,VECTOR(FOUR_ZEROS));
     1357    12173    2           CALL X$WRITE(F_FDS,VECTOR(AHDR1));
     1358    12174    3           DO I=1 TO SCH_FCGS;
     1359    12175    3              CALL X$WRITE(F_FDS,VECTOR(AFMT1),VECTOR(SCHEMASTUFF(I)));
     1360    12176    3              END;
     1361    12177    2           CALL IDD$GETSEG(DNAMBUF,0);
     1362    12178    2           RETURN;
     1363    12179    2   IOERR:
     1364    12180    2           CALL ABORT_DEF(ASCHEMA_ERR_CODE);
     1365    12181    2   OPN_AS_ERROR:
     1366    12182    2           CALL ABORT_DEF(OPN_AS_CODE,DCBNUM(M$AS));
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:50   
     1367    12183    2   NO_ASCHEMA:
     1368    12184    2           CALL ABORT_DEF(NO_ASCHEMA_CODE,DCBNUM(M$INPUT));
     1369    12185    2   END WRITE_AS_SCHEMA;
     1370    12186    1   END IDU$BOOT;

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:51   
--  Include file information  --

   XUF_ENTRY.:E05TOU  cannot be made into a system file and is referenced.
   F$DCB.:E05TOU  cannot be made into a system file and is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   B_MLSMAC_C.:E05TOU  is referenced.
   B_ULSMAC_C.:E05TOU  is referenced.
   B_LSDATA_C.:E05TOU  cannot be made into a system file and is referenced.
   M_INFO_C.:E05TOU  is referenced.
   F_DCB_D.:E05TOU  is referenced.
   B_ERRORS_C.:E05TOU  is referenced.
   ID_PERR_C.:E05TOU  is referenced.
   B$ROSEG.:E05TOU  cannot be made into a system file and is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
   ID_DATA_C.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure IDU$BOOT.

   Procedure IDU$BOOT requires 3305 words for executable code.
   Procedure IDU$BOOT requires 472 words of local(AUTO) storage.

    No errors detected in file IDU$BOOT.:E05TSI    .

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:52   

 Object Unit name= IDU$BOOT                                   File name= IDU$BOOT.:E05TOU
 UTS= JUL 29 '97 22:31:28.04 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none  1452   2654  IDU$BOOT
    2  RoData even  UTS    177    261  IDU$BOOT
    3   DCB   even  none     0      0  M$PO
    4   DCB   even  none     0      0  M$AS
    5   DCB   even  none     0      0  M$INPUT
    6   DCB   even  none     0      0  M$LO
    7  LblCom even  none     6      6  FPT_EXIT
    8   Proc  even  none  3305   6351  IDU$BOOT
    9  RoData even  none   231    347  IDU$BOOT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     8      0   yes            yes      Std        0  IDU$BOOT
     8   5266                  yes      Std        0  IDU$ALTSCH

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    1   2010  G1ROSEG                            1   2134  G1TCB
    1   2501  UCTABS
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:53   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 IDD$GETSEG
 yes     yes           Std       4 IDO$OPENFILE
         yes           Std      22 X$WRITE
 yes     yes           Std       7 XUR$ERRMSG
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  B$TCB$                                F_FDS
     BOOTSTRAP                             FIRMWARE                              MONSTER
     MHJIT                                 GHOST1                                G1HJIT
     XDLT                                  XDLTLS                                ASCHEMA
     ID_PTCHHEAD$                          TAPEID                                ID_SITEINFO
     M$PO                                  M$AS                                  ASCHEMA_TYP
     M$INPUT                               M$LO                                  ID_SNLIST
     ID_ASLIST                             ID_DENSITY                            SCHEMA_FLAG
     M_STAR                                M_LM                                  M_UC
     M_DO                                  M_DUMMY                               SCHEMA_TBL
     ID_VERIFLG                            ID_VERISEG                            ID_LISTFLG
     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID                               ROSID
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:54   


        1        1        /*M* IDU$BOOT - WRITE UNLABELED PORTION OF PO TAPE */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* */
        8        8        /**/
        9        9        IDU$BOOT: PROC;

      9  8 000000   000000 700200 xent  IDU$BOOT     TSX0  ! X66_AUTO_0
         8 000001   000730 000000                    ZERO    472,0

       10       10        /**/
       11       11        %INCLUDE CP_6;
       12       92        %INCLUDE CP_6_SUBS;
       13      632        %INCLUDE ID_DATA_C;
       14      693        %INCLUDE B$OBJECT_C;
       15     4123        %INCLUDE B$ROSEG;
       16     4186        %INCLUDE ID_PERR_C;
       17     4228        %INCLUDE B_ERRORS_C;
       18     5355        %INCLUDE F_DCB_D;
       19     5443        %INCLUDE M_INFO_C;
       20     5583        %INCLUDE B_LSDATA_C;
       21     8789    1   DCL B$TCB$ PTR SYMREF;
       22     8790        %B$TCB;
       23     8793        %B$ALT;
       24     8801        %INCLUDE XU_FORMAT_C;
       25     8963        %F_FDS (STCLASS=SYMREF);
       26     9076        %FIDBLK (NAME=BOOTSTRAP,STCLASS=SYMREF);
       27     9128        %FIDBLK (NAME=FIRMWARE,STCLASS=SYMREF);
       28     9180        %FIDBLK (NAME=MONSTER,STCLASS=SYMREF);
       29     9232        %FIDBLK (NAME=MHJIT,STCLASS=SYMREF);
       30     9284        %FIDBLK (NAME=GHOST1,STCLASS=SYMREF);
       31     9336        %FIDBLK (NAME=G1HJIT,STCLASS=SYMREF);
       32     9388        %FIDBLK (NAME=XDLT,STCLASS=SYMREF);
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:55   
       33     9440        %FIDBLK (NAME=XDLTLS,STCLASS=SYMREF);
       34     9492        %FIDBLK (NAME=PATCH,STCLASS=STATIC);
       35     9544        %FIDBLK (NAME=ASCHEMA,STCLASS=SYMREF);
       36     9596    1   DCL PTCH$ PTR;
       37     9597    1   DCL ID_PTCHHEAD$ PTR SYMREF;
       38     9598        %FIDBLK (NAME=PTCH,STCLASS="BASED(PTCH$)",LINKED=YES);
       39     9650    1   DCL TAPEID CHAR(28) SYMREF;
       40     9651        %VLR_SITEINFO (FPTN=ID_SITEINFO,STCLASS=SYMREF);
       41     9670        %SUB BOOTBIAS='20000'O/*BOOTBIAS*/;
       42     9671        %SUB PROCMAX='777777'O/*PROCMAX*/;
       43     9672        %SUB XDLTLSTC=0/*XDLTLSTC*/;
       44     9673        %SUB XDLTTC=1/*XDLTTC*/;
       45     9674        %SUB MHJITTC=2/*MHJITTC*/;
       46     9675        %SUB MDATATC=3/*MDATATC*/;
       47     9676        %SUB MPROCTC=4/*MPROCTC*/;
       48     9677        %SUB MEDEFTC=5/*MEDEFTC*/;
       49     9678        %SUB MSDEFTC=6/*MSDEFTC*/;
       50     9679        %SUB MDNAMTC=7/*MDNAMTC*/;
       51     9680        %SUB MSCHEMTC=8/*MSCHEMTC*/;
       52     9681        %SUB G1ROTC=9/*G1ROTC*/;
       53     9682        %SUB G1DATATC=10/*G1DATATC*/;
       54     9683        %SUB G1PROCTC=11/*G1PROCTC*/;
       55     9684        %SUB AEDEFTC=12;
       56     9685        %SUB ASDEFTC=13;
       57     9686        %SUB ADNAMTC=14;
       58     9687        %SUB ASCHEMTC=15;
       59     9688        %SUB SITEINFOTC=16;
       60     9689        %SUB MROSEGTC=17;
       61     9690        %SUB PATCHTC=18;
       62     9691        %SUB NUMTC=19;
       63     9692        %SUB ASCII=0/*ASCII*/;
       64     9693        %SUB BINARY=1/*BINARY*/;
       65     9694        %SUB NEVER="WHILE ('0'B)";
       66     9695        %SUB FOREVER="WHILE ('1'B)";
       67     9696        %MACRO ERRCODE (NAME=OOPS,SEV#=0,CODE#=0,FCG#='1104'O,MID#='25'O);
       68     9697        DCL 1 NAME CONSTANT ALIGNED,
       69     9698              2 FCG BIT(12) INIT(FCG#),
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:56   
       70     9699              2 MID BIT(6) INIT(MID#),
       71     9700              2 CODE UBIN(15) UNAL INIT(CODE#),
       72     9701              2 SEV UBIN(3) UNAL INIT(SEV#);
       73     9702        %MEND;
       74     9703        /**/
       75     9704        %ERRCODE (NAME=NO_BOOT_CODE,CODE#=%E$NO_BOOT);
       76     9711        %ERRCODE (NAME=NO_FIRMWARE_CODE,CODE#=%E$NO_FIRMWARE);
       77     9718        %ERRCODE (NAME=NO_XDELTA_CODE,CODE#=%E$NO_XDELTA);
       78     9725        %ERRCODE (NAME=NO_MHJIT_CODE,CODE#=%E$NO_MHJIT);
       79     9732        %ERRCODE (NAME=NO_MONSTER_CODE,CODE#=%E$NO_MONSTER);
       80     9739        %ERRCODE (NAME=NO_G1RO_CODE,CODE#=%E$NO_G1RO);
       81     9746        %ERRCODE (NAME=NO_GHOST1_CODE,CODE#=%E$NO_GHOST1);
       82     9753        %ERRCODE (NAME=OPN_PO_CODE,CODE#=%E$PO_OPN);
       83     9760        %ERRCODE (NAME=NO_BUFFER_CODE,CODE#=%E$NO_BUFFER);
       84     9767        %ERRCODE (NAME=BAD_READ_CODE,CODE#=%E$BAD_READ);
       85     9774        %ERRCODE (NAME=NO_PATCH_CODE,CODE#=%E$NOPATCH);
       86     9781        %ERRCODE (NAME=NO_ROS_CODE,CODE#=%E$NO_ROS);
       87     9788        %ERRCODE (NAME=VERIFY_CODE,CODE#=%E$VERIFY);
       88     9795        %ERRCODE (NAME=TRUNC_CODE,CODE#=%E$ID_PTRUNC);
       89     9802        %ERRCODE (NAME=OPN_AS_CODE,CODE#=%E$AS_OPN);
       90     9809        %ERRCODE (NAME=BAD_AS_WRITE_CODE,CODE#=%E$AS_WRITE);
       91     9816        %ERRCODE (NAME=AS_VERIFY_CODE,CODE#=%E$AS_VERIFY);
       92     9823        %ERRCODE (NAME=NO_ASCHEMA_CODE,CODE#=%E$NO_ASCHEMA);
       93     9830    1   DCL OPEN_ERR_CODE BIT(36) ALIGNED;
       94     9831        /**/
       95     9832        %INCLUDE F$DCB;
       96     9881    1   DCL M$PO DCB;
       97     9882    1   DCL M$PO$ PTR;
       98     9883    1   DCL M$AS DCB;
       99     9884    1   DCL M$AS$ PTR;
      100     9885    1   DCL POAS SBIN STATIC INIT(0);
      101     9886    1   DCL ASCHEMA_TYP UBIN SYMREF ALIGNED;
      102     9887    1   DCL ASCHEMA_FLG BIT(1) SYMREF ALIGNED;
      103     9888    1   DCL ASCH20 UBIN(20) UNAL;
      104     9889    1   DCL M$INPUT DCB;
      105     9890    1   DCL M$INPUT$ PTR;
      106     9891    1   DCL M$LO DCB;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:57   
      107     9892        /**/
      108     9893    1   DCL IDD$GETSEG ENTRY(2) ALTRET;
      109     9894    1   DCL IDO$OPENFILE ENTRY(4) ALTRET;
      110     9895    1   DCL XUR$ERRMSG ENTRY(7) ALTRET;
      111     9896        %INCLUDE XUF_ENTRY;
      112     9904        /**/
      113     9905        %B$HEAD (NAME=HEADREC,STCLASS=STATIC);
      114    10105        %B$RUBIRTH (NAME=BIRTHREC,STCLASS=AUTO,COUNTINIT="");
      115    10114        %B$RU_DEF;
      116    10171        %B$TREE_TABLE;
      117    10229    1   DCL 1 BIRTHKEY CONSTANT ALIGNED,
      118    10230    1         2 L UBIN BYTE UNAL INIT(SIZEC('BIRTH')),
      119    10231    1         2 C CHAR(0) INIT('BIRTH');
      120    10232    1   DCL 1 IOBUF STATIC,
      121    10233    1         2 BOUND UBIN(20) UNAL,
      122    10234    1         2 FLAGS BIT(16) UNAL,
      123    10235    1         2 PTR$ PTR;
      124    10236    1   DCL TEMP SBIN;
      125    10237    1   DCL I SBIN;
      126    10238    1   DCL TRUNCATED SBIN;
      127    10239    1   DCL RES CHAR(2);
      128    10240    1   DCL READONLY# BIT(1) ALIGNED;
      129    10241    1   DCL 1 ID_SNLIST SYMREF ALIGNED,
      130    10242    1         2 N SBIN,
      131    10243    1         2 C(0:8) CHAR(6) UNAL;
      132    10244    1   DCL 1 ID_ASLIST ALIGNED SYMREF,
      133    10245    1         2 N SBIN,
      134    10246    1         2 C(0:1) CHAR(6) UNAL;
      135    10247    1   DCL ID_DENSITY SBIN SYMREF;
      136    10248        %FPT_OPEN (FPTN=FPT_OPENPO,
      137    10249                  DCB=M$PO,
      138    10250                SN=ID_SNLIST,
      139    10251                CNVRT=YES,EBCDIC=NO,
      140    10252                VOL=1,
      141    10253                MNTONLY=YES,
      142    10254                ORG=FREE,
      143    10255                EXPIRE=NEVER,
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:58   
      144    10256                DENSITY=D800);
      145    10365        %FPT_OPEN (FPTN=FPT_OPENAS,
      146    10366                   DCB=M$AS,
      147    10367                   SN=ID_ASLIST,
      148    10368                   CNVRT=YES,EBCDIC=NO,
      149    10369                   VOL=1,
      150    10370                   MNTONLY=YES,
      151    10371                   ORG=FREE,
      152    10372                   EXPIRE=NEVER,
      153    10373                   DENSITY=D800);
      154    10482        %FPT_REW;
      155    10497        %FPT_EXIT (STCLASS=EXT);
      156    10512        %FPT_CLOSE (FPTN=FPT_CLOSEPO,DCB=M$PO,DISP=SAVE);
      157    10554        %FPT_CLOSE (FPTN=FPT_CLOSEAS,DCB=M$AS,DISP=SAVE);
      158    10596        %FPT_PRECORD (FPTN=FPT_PRECORDM1,DCB=M$INPUT,N=-1);
      159    10617    1   DCL NFCG SBIN WORD;
      160    10618    1   DCL 1 BOOTSTUFF(0:19) STATIC,
      161    10619    1         2 ITEM CHAR(12) INIT('AARDVARK','XDELTA LS','XDELTA','MONSTER HJIT',
      162    10620    1           'MONSTER DATA','MONSTER PROC','ENTRY DEFS',
      163    10621    1           'DATA DEFS','DEF NAMES','DEBUG SCHEMA','GHOST1 RO','GHOST1 DATA',
      164    10622    1           'GHOST1 PROC','ALT EDEF','ALT SDEF','ALT DNAME',
      165    10623    1           'ALT SCHEMA','TIGR STUFF','MON DEF DIR','PATCHES'),
      166    10624    1         2 BIAS SBIN WORD UNAL,
      167    10625    1         2 CBIAS REDEF BIAS CHAR(4) UNAL,
      168    10626    1         2 SIZE UBIN WORD UNAL INIT(0*0),
      169    10627    1         2 START UBIN WORD UNAL;
      170    10628    1   DCL 1 MONNODESTUFF(0:13) STATIC,
      171    10629    1         2 ITEM CHAR(12) INIT('MON PNODE 1','MON PNODE 2','MON PNODE 3',
      172    10630    1           'MON PNODE 4','MON PNODE 5','MON PNODE 6','MON PNODE 7',
      173    10631    1           'MON PNODE 8','MON PNODE 9','MON PNODE 10','MON PNODE 11',
      174    10632    1           'MON PNODE 12','MON PNODE 13','MON PNODE 14'),
      175    10633    1         2 BIAS SBIN WORD UNAL INIT(0*0),
      176    10634    1         2 CBIAS REDEF BIAS CHAR(4) UNAL,
      177    10635    1         2 SIZE UBIN WORD UNAL INIT(0*0),
      178    10636    1         2 PADDR UBIN WORD UNAL INIT(0*0),
      179    10637    1         2 NODE_NAME CHAR(32) UNAL INIT(' '*0);
      180    10638    1   DCL 1 SCHEMASTUFF(0:100),
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:59   
      181    10639    1         2 FCG CHAR(2),
      182    10640    1         2 RECS SBIN UNAL,
      183    10641    1         2 OUS SBIN UNAL,
      184    10642    1         2 SIZE SBIN UNAL;
      185    10643    1   DCL SCH_FCGS SBIN STATIC INIT(0);
      186    10644    1   DCL SCH_IDX SBIN;
      187    10645    1   DCL PTCHFMT1 CHAR(0) CONSTANT INIT('%/   PATCH FILE: %>A%/');
      188    10646    1   DCL PTCHFMT CHAR(0) CONSTANT INIT('   >%A');
      189    10647    1   DCL PTRUNCFMT CHAR(0) CONSTANT INIT('***>%A');
      190    10648    1   DCL TRUNCFMT CHAR(0) CONSTANT INIT(
             10648            '%/**** %D PATCH CARDS WERE TRUNCATED TO 80 CHARACTERS');
      191    10649    1   DCL PATCHCARDS CHAR(0) CONSTANT INIT('%/ %D PATCH CARDS');
      192    10650    1   DCL 1 LAST_KEY_READ STATIC ALIGNED,
      193    10651    1         2 CNT UBIN BYTE UNAL,
      194    10652    1         2 TXT CHAR(31);
      195    10653    1   DCL 1 DBKEY REDEF LAST_KEY_READ,
      196    10654    1         2 CNT UBIN BYTE UNAL,
      197    10655    1         2 SEVENS BIT(9),
      198    10656    1         2 NODE UBIN HALF UNAL,
      199    10657    1         2 NPTR UBIN HALF UNAL,
      200    10658    1         2 TYPE UBIN BYTE UNAL,
      201    10659    1         2 PAGE# UBIN BYTE UNAL,
      202    10660    1         2 * CHAR(24);
      203    10661    1   DCL 1 RUMKEY REDEF LAST_KEY_READ,
      204    10662    1         2 CNT UBIN BYTE UNAL,
      205    10663    1         2 SEVENS BIT(9),
      206    10664    1         2 TYPE UBIN BYTE UNAL,
      207    10665    1         2 UTS UBIN UNAL,
      208    10666    1         2 SEQ UBIN HALF UNAL,
      209    10667    1         2 NODE UBIN HALF UNAL,
      210    10668    1         2 * CHAR(21);
      211    10669    1   DCL 1 PRKEY REDEF LAST_KEY_READ,
      212    10670    1         2 CNT UBIN BYTE UNAL,
      213    10671    1         2 TYPE UBIN BYTE UNAL,
      214    10672    1         2 NODE UBIN HALF UNAL,
      215    10673    1         2 PAGE# UBIN HALF UNAL,
      216    10674    1         2 * CHAR(26);
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:60   
      217    10675    1   DCL 1 ERRCODE,
      218    10676    1         2 FCG BIT(12),
      219    10677    1         2 MID BIT(6),
      220    10678    1         2 M BIT(1),
      221    10679    1         2 CODE UBIN(14) UNAL,
      222    10680    1         2 SEV UBIN(3) UNAL;
      223    10681    1   DCL SCHEMA_FLAG BIT(1) ALIGNED SYMREF;
      224    10682    1   DCL 1 MEDEFKEY STATIC,2 * UBIN BYTE UNAL INIT(5),2 * UBIN BYTE UNAL INIT(4),2 NODE
             10682            UBIN HALF UNAL INIT(0),2 * UBIN HALF UNAL INIT(0);
      225    10683    1   DCL 1 MSDEFKEY STATIC,2 * UBIN BYTE UNAL INIT(5),2 * UBIN BYTE UNAL INIT(6),2 NODE
             10683            UBIN HALF UNAL INIT(0),2 * UBIN HALF UNAL INIT(0);
      226    10684    1   DCL 1 MDNAMKEY STATIC,2 * UBIN BYTE UNAL INIT(5),2 * UBIN BYTE UNAL INIT(1),2 NODE
             10684            UBIN HALF UNAL INIT(0),2 * UBIN HALF UNAL INIT(0);
      227    10685    1   DCL 1 MROSEGKEY CONSTANT,2 * UBIN BYTE UNAL INIT(5),2 * UBIN BYTE UNAL INIT(30),2 *
             10685            UBIN WORD UNAL INIT(0);
      228    10686    1   DCL FOUR_ZEROS(0:3) SBIN CONSTANT INIT(0*0);
      229    10687    1   DCL 1 OUTBUF ALIGNED,
      230    10688    1         2 BOUND UBIN(20) UNAL,
      231    10689    1         2 * BIT(16),
      232    10690    1         2 PTR$ PTR;
      233    10691    1   DCL CARDIMAGE CHAR(80) BASED;
      234    10692    1   DCL X1 BIT(72) STATIC ALIGNED INIT('0'B);
      235    10693    1   DCL 1 SVIOBUF REDEF X1,
      236    10694    1         2 BOUND UBIN(20) UNAL,
      237    10695    1         2 * BIT(16),
      238    10696    1         2 PTR$ PTR;
      239    10697    1   DCL START SBIN;
      240    10698    1   DCL BIAS SBIN;
      241    10699    1   DCL RECCNT SBIN;
      242    10700    1   DCL NODES SBIN;
      243    10701    1   DCL J SBIN;
      244    10702    1   DCL 1 TEXTC BASED ALIGNED,
      245    10703    1         2 LEN UBIN BYTE UNAL,
      246    10704    1         2 TXT CHAR(31) UNAL;
      247    10705    1   DCL B$TREE$ PTR;
      248    10706    1   DCL TEMP$ PTR;
      249    10707    1   DCL 1 MROBUF ALIGNED,
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:61   
      250    10708    1         2 BOUND UBIN(20) UNAL,
      251    10709    1         2 * BIT(16),
      252    10710    1         2 PTR$ PTR;
      253    10711    1   DCL 1 MROREC STATIC ALIGNED,
      254    10712    1         2 NODES UBIN INIT(0),
      255    10713    1         2 PADDR UBIN INIT(0),
      256    10714    1         2 NINFO(0:29) UNAL,
      257    10715    1           3 NODE_NAME UNAL,
      258    10716    1             4 LEN UBIN BYTE UNAL INIT(0*0),
      259    10717    1             4 TXT CHAR(31) UNAL INIT(' '*0),
      260    10718    1           3 EDEF UNAL,
      261    10719    1             4 OFFSET UBIN HALF UNAL INIT(0*0),
      262    10720    1             4 * UBIN HALF UNAL INIT(0*0),
      263    10721    1           3 SDEF UNAL,
      264    10722    1             4 OFFSET UBIN HALF UNAL INIT(0*0),
      265    10723    1             4 * UBIN HALF UNAL INIT(0*0),
      266    10724    1           3 DNAM UNAL,
      267    10725    1             4 OFFSET UBIN HALF UNAL INIT(0*0),
      268    10726    1             4 * UBIN HALF UNAL INIT(0*0);
      269    10727    1   DCL 1 PROG_RECORD_KEY STATIC,
      270    10728    1         2 COUNT UBIN BYTE UNAL INIT(5),
      271    10729    1         2 TYPE UBIN BYTE UNAL INIT(10),
      272    10730    1         2 NODE_NUMBER UBIN HALF UNAL INIT(0),
      273    10731    1         2 PAGE# UBIN HALF UNAL INIT(0);
      274    10732    1   DCL TOFFSET SBIN;
      275    10733    1   DCL 1 MDNAMBUF ALIGNED,
      276    10734    1         2 BOUND UBIN(20) UNAL,
      277    10735    1         2 * UBIN(16) UNAL,
      278    10736    1         2 PTR$ PTR;
      279    10737    1   DCL 1 BASEDWORD BASED ALIGNED,
      280    10738    1         2 UH SBIN HALF UNAL,
      281    10739    1         2 LH SBIN HALF UNAL;
      282    10740    1   DCL 1 G1HJITKEY CONSTANT,
      283    10741    1         2 COUNT UBIN BYTE UNAL INIT(5),
      284    10742    1         2 TYPE UBIN BYTE UNAL INIT(10),
      285    10743    1         2 NODE_NUMBER UBIN HALF UNAL INIT(0),
      286    10744    1         2 PAGE# UBIN HALF UNAL INIT(0);
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:62   
      287    10745        %M$MDCB (DCBN=DUMMY_DCB,STCLASS="STATIC");
      288    10819    1   DCL 1 G1ROSEG DALIGNED STATIC SYMDEF,
      289    10820    1         2 DCBPTR$ PTR INIT(ADDR(NIL)),
      290    10821    1         2 TREE$ PTR INIT(ADDR(G1TCB)),    /* TEMP TCB PTR FOR AARDVARK          */
      291    10822    1         2 NUMDCBS UBIN(18) UNAL INIT(0),
      292    10823    1         2 * UBIN(18) UNAL INIT(0),
      293    10824    1         2 AVAIL$ PTR INIT(ADDR(NIL)),
      294    10825    1         2 CPPIA(0:15) UBIN WORD INIT(0*16),
      295    10826    1         2 ECCB (0:3),
      296    10827    1           3 * BIT(72) INIT('0'B*4),
      297    10828    1           3 * BIT(72) INIT('0'B*4),
      298    10829    1           3 * BIT(72) INIT('0'B*4),
      299    10830    1         2 LDEVNAME (0:15) CHAR(4) INIT('LP01','CP01',' '*14),
      300    10831    1         2 STREAMID (0:15),
      301    10832    1           3 FLG UBIN(2) UNAL INIT(0*16),
      302    10833    1           3 * UBIN(16) UNAL INIT(0*16),
      303    10834    1           3 IDENT UBIN(18) UNAL INIT(0*16),
      304    10835    1         2 CR01ID,
      305    10836    1           3 FLG UBIN(2)UNAL INIT(3),
      306    10837    1           3 * UBIN(16)UNAL INIT(0),
      307    10838    1           3 POSN UBIN(18)UNAL INIT(0),
      308    10839    1         2 CR01DCB UBIN(18)UNAL INIT(1),
      309    10840    1         2 STREAMFILENO UBIN(18)UNAL INIT(1),
      310    10841    1         2 DRIBLM$ PTR INIT(ADDR(NIL)),    /* DRIBBLE saves DCBADDR(M$LM) here*/
      311    10842    1         2 SPARE5(0:4) UBIN WORD INIT(0*0);
      312    10843    1   DCL 1 G1TCB STATIC SYMDEF DALIGNED,
      313    10844    1         2 ALT$,
      314    10845    1           3 OFFSET UBIN(18) UNAL INIT(4),
      315    10846    1           3 * UBIN(6) UNAL INIT(0),
      316    10847    1           3 SID BIT(12) UNAL INIT('6017'O),
      317    10848    1         2 STK$,
      318    10849    1           3 OFFSET UBIN(18) UNAL INIT(72),
      319    10850    1           3 * UBIN(6) UNAL INIT(0),
      320    10851    1           3 SID BIT(12) UNAL INIT('6017'O),
      321    10852    1         2 TCBAVSZ UBIN(18) UNAL INIT(150),
      322    10853    1         2 CURSZ UBIN(18) UNAL INIT(0),
      323    10854    1         2 * UBIN WORD INIT(0),
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:63   
      324    10855    1         2 ALTFRM,
      325    10856    1           3 UNUSED SBIN HALF UNAL INIT(-1),
      326    10857    1           3 CODE UBIN(18) UNAL INIT(0),
      327    10858    1           3 REST (0:66) UBIN WORD INIT(0*67),
      328    10859    1         2 FRMSPACE (0:149) UBIN WORD INIT(0*150);
      329    10860    1   DCL M_STAR SBIN SYMREF;
      330    10861    1   DCL M_LM SBIN SYMREF;
      331    10862    1   DCL M_UC SBIN SYMREF;
      332    10863    1   DCL M_DO SBIN SYMREF;
      333    10864    1   DCL M_DUMMY SBIN SYMREF;
      334    10865        %MACRO DCBNAME(NM=N,NAME='N');
      335    10866        DCL 1 NM STATIC ALIGNED,
      336    10867              2 L UBIN BYTE UNAL INIT(SIZEC(NAME)),
      337    10868              2 C CHAR(0) INIT(NAME);
      338    10869        %MEND;
      339    10870        %DCBNAME (NM=STAR,NAME='M$*');
      340    10875        %DCBNAME (NM=LM,NAME='M$LM');
      341    10880        %DCBNAME (NM=UC,NAME='M$UC');
      342    10885        %DCBNAME (NM=DOH,NAME='M$DO');
      343    10890        %VLP_TAB (FPTN=UCTABS,STCLASS="STATIC SYMDEF");
      344    10904    1   DCL 1 SCHEMA_TBL SYMREF,
      345    10905    1         2 N SBIN,
      346    10906    1         2 FCG(0:99) CHAR(2);
      347    10907    1   DCL ID_VERIFLG BIT(1) ALIGNED SYMREF;
      348    10908    1   DCL 1 ID_VERISEG ALIGNED SYMREF,
      349    10909    1         2 BOUND UBIN(20) UNAL,
      350    10910    1         2 * BIT(16) UNAL,
      351    10911    1         2 P$ PTR;
      352    10912    1   DCL ID_LISTFLG BIT(1) ALIGNED SYMREF;
      353    10913        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:64   
      354    10914        /**/
      355    10915        /* BEGIN PROCEDURE */
      356    10916        /**/
      357    10917    1           SVIOBUF='0'B;

  10917  8 000002   001127 450000 1                  STZ     X1
         8 000003   001130 450000 1                  STZ     X1+1

      358    10918    1           CALL IDD$GETSEG(SVIOBUF,1024) ALTRET(NO_MEM);

  10918  8 000004   000001 630400 9                  EPPR0   1
         8 000005   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 000006   000000 701000 xent               TSX1    IDD$GETSEG
         8 000007   002075 702000 8                  TSX2    NO_MEM

      359    10919    2           IF ID_VERIFLG THEN DO;

  10919  8 000010   000000 234000 xsym               SZN     ID_VERIFLG
         8 000011   000023 605000 8                  TPL     s:10923

      360    10920    2              IF ID_VERISEG.BOUND=0 THEN ID_VERISEG='0'B;

  10920  8 000012   000000 236000 xsym               LDQ     ID_VERISEG
         8 000013   000034 316000 xsym               CANQ    B_VECTNIL+28
         8 000014   000017 601000 8                  TNZ     s:10921

  10920  8 000015   000000 450000 xsym               STZ     ID_VERISEG
         8 000016   000001 450000 xsym               STZ     ID_VERISEG+1

      361    10921    2              CALL IDD$GETSEG(ID_VERISEG,1024) ALTRET(NO_MEM);

  10921  8 000017   000003 630400 9                  EPPR0   3
         8 000020   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 000021   000000 701000 xent               TSX1    IDD$GETSEG
         8 000022   002075 702000 8                  TSX2    NO_MEM

      362    10922    2              END;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:65   

      363    10923    1           IOBUF=SVIOBUF;

  10923  8 000023   000000 100400                    MLR     fill='000'O
         8 000024   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 000025   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

      364    10924    1           RECCNT=0;

  10924  8 000026   200572 450100                    STZ     RECCNT,,AUTO

      365    10925    1           READONLY#='0'B;

  10925  8 000027   200020 450100                    STZ     READONLY#,,AUTO

      366    10926    1           M$PO$=DCBADDR(DCBNUM(M$PO));

  10926  8 000030   000000 236007 xsym               LDQ     M$PO,DL
         8 000031   000005 470400 9                  LDP0    5
         8 000032   000000 471500                    LDP1    0,,PR0
         8 000033   100000 236106                    LDQ     0,QL,PR1
         8 000034   200005 756100                    STQ     M$PO$,,AUTO

      367    10927    1           M$INPUT$=DCBADDR(DCBNUM(M$INPUT));

  10927  8 000035   000000 236007 xsym               LDQ     M$INPUT,DL
         8 000036   100000 236106                    LDQ     0,QL,PR1
         8 000037   200010 756100                    STQ     M$INPUT$,,AUTO

      368    10928    1           FPT_OPENPO.V.DENSITY#=ID_DENSITY;

  10928  8 000040   000000 236000 xsym               LDQ     ID_DENSITY
         8 000041   000202 552004 1                  STBQ    FPT_OPENPO+54,'04'O

      369    10929    1           IF ID_VERIFLG THEN

  10929  8 000042   000000 234000 xsym               SZN     ID_VERIFLG
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:66   
         8 000043   000047 605000 8                  TPL     s:10932

      370    10930    1              FPT_OPENPO.V.FUN#=%IN#;

  10930  8 000044   002000 236007                    LDQ     1024,DL
         8 000045   000161 552010 1                  STBQ    FPT_OPENPO+37,'10'O
         8 000046   000051 710000 8                  TRA     s:10933

      371    10931    1           ELSE
      372    10932    1              FPT_OPENPO.V.FUN#=%CREATE#;

  10932  8 000047   003000 236007                    LDQ     1536,DL
         8 000050   000161 552010 1                  STBQ    FPT_OPENPO+37,'10'O

      373    10933    1           RES=M$PO$->F$DCB.RES;

  10933  8 000051   200005 473500                    LDP3    M$PO$,,AUTO
         8 000052   300026 220100                    LDX0    22,,PR3
         8 000053   200017 740100                    STX0    RES,,AUTO

      374    10934    2           IF RES='MT' OR RES='FT' THEN DO;

  10934  8 000054   000242 100000 2                  CMPX0   AFMT1+6
         8 000055   000060 600000 8                  TZE     s:10935
         8 000056   000243 100000 2                  CMPX0   AFMT1+7
         8 000057   000073 601000 8                  TNZ     s:10939

      375    10935    2              CALL M$OPEN(FPT_OPENPO) ALTRET(OPN_PO_ERROR);

  10935  8 000060   000114 630400 1                  EPPR0   FPT_OPENPO
         8 000061   450000 713400                    CLIMB   alt,open
         8 000062   410400 401760                    pmme    nvectors=18
         8 000063   002005 702000 8                  TSX2    OPN_PO_ERROR

      376    10936    2              FPT_REW.V.PSN#=ID_SNLIST.C(0);

  10936  8 000064   040000 100400                    MLR     fill='040'O
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:67   
         8 000065   000001 000006 xsym               ADSC9   ID_SNLIST+1              cn=0,n=6
         8 000066   000303 400006 1                  ADSC9   FPT_REW+3                cn=2,n=6

      377    10937    2              CALL M$REW(FPT_REW) ALTRET(OPN_PO_ERROR);

  10937  8 000067   000300 630400 1                  EPPR0   FPT_REW
         8 000070   440006 713400                    CLIMB   alt,+16390
         8 000071   400000 401760                    pmme    nvectors=1
         8 000072   002005 702000 8                  TSX2    OPN_PO_ERROR

      378    10938    2              END;

      379    10939    1           FPT_OPENPO.V.OPER.MNTONLY#='0'B;

  10939  8 000073   000006 236000 9                  LDQ     6
         8 000074   000160 356000 1                  ANSQ    FPT_OPENPO+36

      380    10940    1           FPT_OPENPO.V.INITZ='11'B;       /* SCRUB AND REASSIGN                 */

  10940  8 000075   600000 236007                    LDQ     -65536,DL
         8 000076   000160 256000 1                  ORSQ    FPT_OPENPO+36

      381    10941    1           CALL M$OPEN (FPT_OPENPO) ALTRET(OPN_PO_ERROR);

  10941  8 000077   000114 630400 1                  EPPR0   FPT_OPENPO
         8 000100   450000 713400                    CLIMB   alt,open
         8 000101   410400 401760                    pmme    nvectors=18
         8 000102   002005 702000 8                  TSX2    OPN_PO_ERROR

      382    10942        /**/
      383    10943        /* WRITE THE BOOTSTRAP */
      384    10944        /**/
      385    10945    2           IF NOT BOOTSTRAP.FLAGS.SKIP THEN DO;

  10945  8 000103   000030 236000 xsym               LDQ     BOOTSTRAP+24
         8 000104   040000 316003                    CANQ    16384,DU
         8 000105   000174 601000 8                  TNZ     s:10960
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:68   

      386    10946    2              OPEN_ERR_CODE=NO_BOOT_CODE;

  10946  8 000106   000000 236000 2                  LDQ     NO_BOOT_CODE
         8 000107   200004 756100                    STQ     OPEN_ERR_CODE,,AUTO

      387    10947    2              CALL IDO$OPENFILE(BOOTSTRAP,DCBNUM(M$INPUT),ERRCODE) ALTRET(OPN_ERR);

  10947  8 000110   000000 236007 xsym               LDQ     M$INPUT,DL
         8 000111   200644 756100                    STQ     @DCB#+2,,AUTO
         8 000112   200565 630500                    EPPR0   ERRCODE,,AUTO
         8 000113   200647 450500                    STP0    @DCB#+5,,AUTO
         8 000114   200644 631500                    EPPR1   @DCB#+2,,AUTO
         8 000115   200646 451500                    STP1    @DCB#+4,,AUTO
         8 000116   000007 236000 9                  LDQ     7
         8 000117   200645 756100                    STQ     @DCB#+3,,AUTO
         8 000120   200645 630500                    EPPR0   @DCB#+3,,AUTO
         8 000121   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 000122   000000 701000 xent               TSX1    IDO$OPENFILE
         8 000123   002065 702000 8                  TSX2    OPN_ERR

      388    10948    2              CALL RDHEAD;

  10948  8 000124   002131 701000 8                  TSX1    RDHEAD
         8 000125   000000 011000                    NOP     0

      389    10949    2              BOOTSTUFF.BIAS(0)=BITBIN(BOOTBIAS);

  10949  8 000126   020000 235007                    LDA     8192,DL
         8 000127   000417 755000 1                  STA     BOOTSTUFF+3

      390    10950    2              BOOTSTUFF.SIZE(0)=HEADREC.RDATA+HEADREC.RPROC;

  10950  8 000130   000043 236000 1                  LDQ     HEADREC+1
         8 000131   000010 376000 9                  ANQ     8
         8 000132   200644 756100                    STQ     @DCB#+2,,AUTO
         8 000133   000044 236000 1                  LDQ     HEADREC+2
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:69   
         8 000134   000010 376000 9                  ANQ     8
         8 000135   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 000136   000420 756000 1                  STQ     BOOTSTUFF+4

      391    10951    2              BOOTSTUFF.START(0)=HEADREC.START;

  10951  8 000137   000045 236000 1                  LDQ     HEADREC+3
         8 000140   000010 376000 9                  ANQ     8
         8 000141   000421 756000 1                  STQ     BOOTSTUFF+5

      392    10952    2              I=HEADREC.BIAS;

  10952  8 000142   000065 236000 1                  LDQ     HEADREC+19
         8 000143   000010 376000 9                  ANQ     8
         8 000144   200015 756100                    STQ     I,,AUTO

      393    10953    2              CALL READ_WRITE(I,I+128);

  10953  8 000145   000200 036007                    ADLQ    128,DL
         8 000146   200654 756100                    STQ     @DCB#+10,,AUTO
         8 000147   200654 630500                    EPPR0   @DCB#+10,,AUTO
         8 000150   200606 450500                    STP0    DNAMBUF+1,,AUTO
         8 000151   200015 631500                    EPPR1   I,,AUTO
         8 000152   200605 451500                    STP1    MDNAMBUF+3,,AUTO
         8 000153   002152 701000 8                  TSX1    READ_WRITE
         8 000154   000000 011000                    NOP     0

      394    10954    2              CALL READ_WRITE(BITBIN(BOOTBIAS),(HEADREC.VDPGS+HEADREC.VPPGS+1)*1024);

  10954  8 000155   000043 236000 1                  LDQ     HEADREC+1
         8 000156   000026 772000                    QRL     22
         8 000157   200644 756100                    STQ     @DCB#+2,,AUTO
         8 000160   000044 236000 1                  LDQ     HEADREC+2
         8 000161   000026 772000                    QRL     22
         8 000162   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 000163   000012 736000                    QLS     10
         8 000164   002000 036007                    ADLQ    1024,DL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:70   
         8 000165   200655 756100                    STQ     @DCB#+11,,AUTO
         8 000166   200655 630500                    EPPR0   @DCB#+11,,AUTO
         8 000167   200606 450500                    STP0    DNAMBUF+1,,AUTO
         8 000170   000012 236000 9                  LDQ     10
         8 000171   200605 756100                    STQ     MDNAMBUF+3,,AUTO
         8 000172   002152 701000 8                  TSX1    READ_WRITE
         8 000173   000000 011000                    NOP     0

      395    10955    2              END;

      396    10956        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:71   
      397    10957        /**/
      398    10958        /* WRITE FIRMWARE TO TAPE */
      399    10959        /**/
      400    10960    2           IF NOT FIRMWARE.FLAGS.SKIP THEN DO;

  10960  8 000174   000030 236000 xsym               LDQ     FIRMWARE+24
         8 000175   040000 316003                    CANQ    16384,DU
         8 000176   000257 601000 8                  TNZ     GOT_FIRMWARE

      401    10961    2              OPEN_ERR_CODE=NO_FIRMWARE_CODE;

  10961  8 000177   000001 236000 2                  LDQ     NO_FIRMWARE_CODE
         8 000200   200004 756100                    STQ     OPEN_ERR_CODE,,AUTO

      402    10962    2              CALL IDO$OPENFILE(FIRMWARE,DCBNUM(M$INPUT),ERRCODE) ALTRET(OPN_ERR);

  10962  8 000201   000000 236007 xsym               LDQ     M$INPUT,DL
         8 000202   200644 756100                    STQ     @DCB#+2,,AUTO
         8 000203   200565 630500                    EPPR0   ERRCODE,,AUTO
         8 000204   200647 450500                    STP0    @DCB#+5,,AUTO
         8 000205   200644 631500                    EPPR1   @DCB#+2,,AUTO
         8 000206   200646 451500                    STP1    @DCB#+4,,AUTO
         8 000207   000013 236000 9                  LDQ     11
         8 000210   200645 756100                    STQ     @DCB#+3,,AUTO
         8 000211   200645 630500                    EPPR0   @DCB#+3,,AUTO
         8 000212   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 000213   000000 701000 xent               TSX1    IDO$OPENFILE
         8 000214   002065 702000 8                  TSX2    OPN_ERR

      403    10963    3              DO WHILE('1'B);

      404    10964    3                 CALL READ_SEQUENTIAL ALTRET(GOT_FIRMWARE);

  10964  8 000215   002335 701000 8                  TSX1    READ_SEQUENTIAL
         8 000216   000257 702000 8                  TSX2    GOT_FIRMWARE

      405    10965    3                 START=OUTBUF.BOUND+1;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:72   

  10965  8 000217   200566 236100                    LDQ     OUTBUF,,AUTO
         8 000220   000020 772000                    QRL     16
         8 000221   000001 036007                    ADLQ    1,DL
         8 000222   200570 756100                    STQ     START,,AUTO

      406    10966    3                 OUTBUF.BOUND=4096;

  10966  8 000223   200566 236100                    LDQ     OUTBUF,,AUTO
         8 000224   177777 376007                    ANQ     65535,DL
         8 000225   002000 276003                    ORQ     1024,DU
         8 000226   200566 756100                    STQ     OUTBUF,,AUTO

      407    10967    4                 DO WHILE(START>0);

  10967  8 000227   200570 235100                    LDA     START,,AUTO
         8 000230   000215 604400 8                  TMOZ    s:10964

      408    10968    4                    IF START<4096 THEN OUTBUF.BOUND=START-1;

  10968  8 000231   200570 235100                    LDA     START,,AUTO
         8 000232   010000 115007                    CMPA    4096,DL
         8 000233   000242 605000 8                  TPL     s:10969

  10968  8 000234   200570 236100                    LDQ     START,,AUTO
         8 000235   000001 136007                    SBLQ    1,DL
         8 000236   000020 736000                    QLS     16
         8 000237   200566 676100                    ERQ     OUTBUF,,AUTO
         8 000240   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 000241   200566 656100                    ERSQ    OUTBUF,,AUTO

      409    10969    4                    CALL WRITE_PO(BINARY);

  10969  8 000242   000001 236000 xsym               LDQ     B_VECTNIL+1
         8 000243   200636 756100                    STQ     @MODE+1,,AUTO
         8 000244   000014 236000 9                  LDQ     12
         8 000245   200635 756100                    STQ     HEADER+5,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:73   
         8 000246   002424 701000 8                  TSX1    WRITE_PO
         8 000247   000000 011000                    NOP     0

      410    10970    4                    OUTBUF.PTR$=PINCRC(OUTBUF.PTR$,4096);

  10970  8 000250   200567 236100                    LDQ     OUTBUF+1,,AUTO
         8 000251   002000 036003                    ADLQ    1024,DU
         8 000252   200567 756100                    STQ     OUTBUF+1,,AUTO

      411    10971    4                    START=START-4096;

  10971  8 000253   010000 336007                    LCQ     4096,DL
         8 000254   200570 056100                    ASQ     START,,AUTO

      412    10972    4                    END;

  10972  8 000255   000231 605400 8                  TPNZ    s:10968

      413    10973    3                 END;

  10973  8 000256   000215 710000 8                  TRA     s:10964

      414    10974    2              END;
      415    10975    1   GOT_FIRMWARE:
      416    10976        /**/
      417    10977        /* WRITE TAPE ID RECORD */
      418    10978        /**/
      419    10979    1           READONLY#='1'B;

  10979  8 000257   400000 236003       GOT_FIRMWARE LDQ     -131072,DU
         8 000260   200020 756100                    STQ     READONLY#,,AUTO

      420    10980    1           CALL WRITE_PO(ASCII,VECTOR(TAPEID));

  10980  8 000261   000020 236000 9                  LDQ     16
         8 000262   200636 756100                    STQ     @MODE+1,,AUTO
         8 000263   000021 236000 9                  LDQ     17
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:74   
         8 000264   200635 756100                    STQ     HEADER+5,,AUTO
         8 000265   002424 701000 8                  TSX1    WRITE_PO
         8 000266   000000 011000                    NOP     0

      421    10981    1           READONLY#='0'B;

  10981  8 000267   200020 450100                    STZ     READONLY#,,AUTO

      422    10982        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:75   
      423    10983        /**/
      424    10984        /* WRITE XDELTA LINKAGE SEGMENT */
      425    10985        /**/
      426    10986    2           IF NOT XDLT.FLAGS.SKIP THEN DO;

  10986  8 000270   000030 236000 xsym               LDQ     XDLT+24
         8 000271   040000 316003                    CANQ    16384,DU
         8 000272   000417 601000 8                  TNZ     s:11005

      427    10987    2              OPEN_ERR_CODE=NO_XDELTA_CODE;

  10987  8 000273   000002 236000 2                  LDQ     NO_XDELTA_CODE
         8 000274   200004 756100                    STQ     OPEN_ERR_CODE,,AUTO

      428    10988    2              CALL IDO$OPENFILE(XDLTLS,DCBNUM(M$INPUT),ERRCODE) ALTRET(OPN_ERR);

  10988  8 000275   000000 236007 xsym               LDQ     M$INPUT,DL
         8 000276   200644 756100                    STQ     @DCB#+2,,AUTO
         8 000277   200565 630500                    EPPR0   ERRCODE,,AUTO
         8 000300   200647 450500                    STP0    @DCB#+5,,AUTO
         8 000301   200644 631500                    EPPR1   @DCB#+2,,AUTO
         8 000302   200646 451500                    STP1    @DCB#+4,,AUTO
         8 000303   000022 236000 9                  LDQ     18
         8 000304   200645 756100                    STQ     @DCB#+3,,AUTO
         8 000305   200645 630500                    EPPR0   @DCB#+3,,AUTO
         8 000306   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 000307   000000 701000 xent               TSX1    IDO$OPENFILE
         8 000310   002065 702000 8                  TSX2    OPN_ERR

      429    10989    2              CALL RDHEAD;

  10989  8 000311   002131 701000 8                  TSX1    RDHEAD
         8 000312   000000 011000                    NOP     0

      430    10990    2              CALL WRITE_HEADER(0,XDLTLSTC,HEADREC.VDPGS*1024,BINARY,0);

  10990  8 000313   000044 236000 1                  LDQ     HEADREC+2
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:76   
         8 000314   000014 772000                    QRL     12
         8 000315   000023 376000 9                  ANQ     19
         8 000316   200656 756100                    STQ     @DCB#+12,,AUTO
         8 000317   000014 237000 9                  LDAQ    12
         8 000320   200626 757100                    STAQ    Z$+1,,AUTO
         8 000321   200656 630500                    EPPR0   @DCB#+12,,AUTO
         8 000322   200625 450500                    STP0    @TYPE+1,,AUTO
         8 000323   000015 236000 9                  LDQ     13
         8 000324   200624 756100                    STQ     @KEY+1,,AUTO
         8 000325   200623 756100                    STQ     X+1,,AUTO
         8 000326   002642 701000 8                  TSX1    WRITE_HEADER
         8 000327   000000 011000                    NOP     0

      431    10991    2              I=HEADREC.RDATA;

  10991  8 000330   000044 236000 1                  LDQ     HEADREC+2
         8 000331   000010 376000 9                  ANQ     8
         8 000332   200015 756100                    STQ     I,,AUTO

      432    10992    2              CALL READ_WRITE(0,I);

  10992  8 000333   200015 630500                    EPPR0   I,,AUTO
         8 000334   200606 450500                    STP0    DNAMBUF+1,,AUTO
         8 000335   000015 236000 9                  LDQ     13
         8 000336   200605 756100                    STQ     MDNAMBUF+3,,AUTO
         8 000337   002152 701000 8                  TSX1    READ_WRITE
         8 000340   000000 011000                    NOP     0

      433    10993        /**/
      434    10994        /* WRITE XDELTA TO TAPE */
      435    10995        /**/
      436    10996    2              CALL IDO$OPENFILE(XDLT,DCBNUM(M$INPUT),ERRCODE) ALTRET(OPN_ERR);

  10996  8 000341   000000 236007 xsym               LDQ     M$INPUT,DL
         8 000342   200644 756100                    STQ     @DCB#+2,,AUTO
         8 000343   200565 630500                    EPPR0   ERRCODE,,AUTO
         8 000344   200647 450500                    STP0    @DCB#+5,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:77   
         8 000345   200644 631500                    EPPR1   @DCB#+2,,AUTO
         8 000346   200646 451500                    STP1    @DCB#+4,,AUTO
         8 000347   000024 236000 9                  LDQ     20
         8 000350   200645 756100                    STQ     @DCB#+3,,AUTO
         8 000351   200645 630500                    EPPR0   @DCB#+3,,AUTO
         8 000352   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 000353   000000 701000 xent               TSX1    IDO$OPENFILE
         8 000354   002065 702000 8                  TSX2    OPN_ERR

      437    10997    2              CALL RDHEAD;

  10997  8 000355   002131 701000 8                  TSX1    RDHEAD
         8 000356   000000 011000                    NOP     0

      438    10998    2              CALL WRITE_HEADER(-2,XDLTTC,(HEADREC.VPPGS+HEADREC.VDPGS)*1024,BINARY,
             10998                       HEADREC.START);

  10998  8 000357   000044 236000 1                  LDQ     HEADREC+2
         8 000360   000026 772000                    QRL     22
         8 000361   200644 756100                    STQ     @DCB#+2,,AUTO
         8 000362   000043 236000 1                  LDQ     HEADREC+1
         8 000363   000026 772000                    QRL     22
         8 000364   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 000365   000012 736000                    QLS     10
         8 000366   200657 756100                    STQ     @DCB#+13,,AUTO
         8 000367   000026 237000 9                  LDAQ    22
         8 000370   200626 757100                    STAQ    Z$+1,,AUTO
         8 000371   200657 630500                    EPPR0   @DCB#+13,,AUTO
         8 000372   200625 450500                    STP0    @TYPE+1,,AUTO
         8 000373   000014 236000 9                  LDQ     12
         8 000374   200624 756100                    STQ     @KEY+1,,AUTO
         8 000375   000030 236000 9                  LDQ     24
         8 000376   200623 756100                    STQ     X+1,,AUTO
         8 000377   002642 701000 8                  TSX1    WRITE_HEADER
         8 000400   000000 011000                    NOP     0

      439    10999    2              CALL READ_WRITE(0,(HEADREC.VDPGS+HEADREC.VPPGS)*1024);
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:78   

  10999  8 000401   000043 236000 1                  LDQ     HEADREC+1
         8 000402   000026 772000                    QRL     22
         8 000403   200644 756100                    STQ     @DCB#+2,,AUTO
         8 000404   000044 236000 1                  LDQ     HEADREC+2
         8 000405   000026 772000                    QRL     22
         8 000406   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 000407   000012 736000                    QLS     10
         8 000410   200660 756100                    STQ     @DCB#+14,,AUTO
         8 000411   200660 630500                    EPPR0   @DCB#+14,,AUTO
         8 000412   200606 450500                    STP0    DNAMBUF+1,,AUTO
         8 000413   000015 236000 9                  LDQ     13
         8 000414   200605 756100                    STQ     MDNAMBUF+3,,AUTO
         8 000415   002152 701000 8                  TSX1    READ_WRITE
         8 000416   000000 011000                    NOP     0

      440    11000    2              END;

      441    11001        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:79   
      442    11002        /**/
      443    11003        /* MONITOR HJIT */
      444    11004        /**/
      445    11005    2           IF NOT MONSTER.FLAGS.SKIP THEN DO;

  11005  8 000417   000030 236000 xsym               LDQ     MONSTER+24
         8 000420   040000 316003                    CANQ    16384,DU
         8 000421   001345 601000 8                  TNZ     s:11123

      446    11006    2              CALL IDO$OPENFILE(MHJIT,DCBNUM(M$INPUT),ERRCODE) ALTRET(NO_MHJIT);

  11006  8 000422   000000 236007 xsym               LDQ     M$INPUT,DL
         8 000423   200644 756100                    STQ     @DCB#+2,,AUTO
         8 000424   200565 630500                    EPPR0   ERRCODE,,AUTO
         8 000425   200647 450500                    STP0    @DCB#+5,,AUTO
         8 000426   200644 631500                    EPPR1   @DCB#+2,,AUTO
         8 000427   200646 451500                    STP1    @DCB#+4,,AUTO
         8 000430   000031 236000 9                  LDQ     25
         8 000431   200645 756100                    STQ     @DCB#+3,,AUTO
         8 000432   200645 630500                    EPPR0   @DCB#+3,,AUTO
         8 000433   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 000434   000000 701000 xent               TSX1    IDO$OPENFILE
         8 000435   002025 702000 8                  TSX2    NO_MHJIT

      447    11007    2              CALL RDHEAD;

  11007  8 000436   002131 701000 8                  TSX1    RDHEAD
         8 000437   000000 011000                    NOP     0

      448    11008    2              CALL WRITE_HEADER(0,MHJITTC,HEADREC.VDPGS*1024,BINARY,0);

  11008  8 000440   000044 236000 1                  LDQ     HEADREC+2
         8 000441   000014 772000                    QRL     12
         8 000442   000023 376000 9                  ANQ     19
         8 000443   200661 756100                    STQ     @DCB#+15,,AUTO
         8 000444   000014 237000 9                  LDAQ    12
         8 000445   200626 757100                    STAQ    Z$+1,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:80   
         8 000446   200661 630500                    EPPR0   @DCB#+15,,AUTO
         8 000447   200625 450500                    STP0    @TYPE+1,,AUTO
         8 000450   000032 236000 9                  LDQ     26
         8 000451   200624 756100                    STQ     @KEY+1,,AUTO
         8 000452   000015 236000 9                  LDQ     13
         8 000453   200623 756100                    STQ     X+1,,AUTO
         8 000454   002642 701000 8                  TSX1    WRITE_HEADER
         8 000455   000000 011000                    NOP     0

      449    11009    2              CALL READ_WRITE(0,HEADREC.VDPGS*1024);

  11009  8 000456   000044 236000 1                  LDQ     HEADREC+2
         8 000457   000014 772000                    QRL     12
         8 000460   000023 376000 9                  ANQ     19
         8 000461   200662 756100                    STQ     @DCB#+16,,AUTO
         8 000462   200662 630500                    EPPR0   @DCB#+16,,AUTO
         8 000463   200606 450500                    STP0    DNAMBUF+1,,AUTO
         8 000464   000015 236000 9                  LDQ     13
         8 000465   200605 756100                    STQ     MDNAMBUF+3,,AUTO
         8 000466   002152 701000 8                  TSX1    READ_WRITE
         8 000467   000000 011000                    NOP     0

      450    11010        /**/
      451    11011        /* MONITOR DATA */
      452    11012        /**/
      453    11013    2              CALL IDO$OPENFILE(MONSTER,DCBNUM(M$INPUT),ERRCODE) ALTRET(NO_MONSTER);

  11013  8 000470   000000 236007 xsym               LDQ     M$INPUT,DL
         8 000471   200644 756100                    STQ     @DCB#+2,,AUTO
         8 000472   200565 630500                    EPPR0   ERRCODE,,AUTO
         8 000473   200647 450500                    STP0    @DCB#+5,,AUTO
         8 000474   200644 631500                    EPPR1   @DCB#+2,,AUTO
         8 000475   200646 451500                    STP1    @DCB#+4,,AUTO
         8 000476   000033 236000 9                  LDQ     27
         8 000477   200645 756100                    STQ     @DCB#+3,,AUTO
         8 000500   200645 630500                    EPPR0   @DCB#+3,,AUTO
         8 000501   000021 631400 xsym               EPPR1   B_VECTNIL+17
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:81   
         8 000502   000000 701000 xent               TSX1    IDO$OPENFILE
         8 000503   002035 702000 8                  TSX2    NO_MONSTER

      454    11014    2              IOBUF=VECTOR(BIRTHREC);

  11014  8 000504   000034 235000 9                  LDA     28
         8 000505   200644 452500                    STP2    @DCB#+2,,AUTO
         8 000506   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 000507   000011 036003                    ADLQ    9,DU
         8 000510   000112 757000 1                  STAQ    IOBUF

      455    11015    2              CALL READ_KEYED(BIRTHKEY);

  11015  8 000511   000035 236000 9                  LDQ     29
         8 000512   200623 756100                    STQ     X+1,,AUTO
         8 000513   003043 701000 8                  TSX1    READ_KEYED
         8 000514   000000 011000                    NOP     0

      456    11016    2              ID_SITEINFO.MON_UTS#=BIRTHREC.CREATE_UTS;

  11016  8 000515   200011 235100                    LDA     BIRTHREC,,AUTO
         8 000516   000065 755000 xsym               STA     ID_SITEINFO+53

      457    11017    2              IOBUF=SVIOBUF;

  11017  8 000517   000000 100400                    MLR     fill='000'O
         8 000520   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 000521   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

      458    11018    2              CALL RDHEAD;

  11018  8 000522   002131 701000 8                  TSX1    RDHEAD
         8 000523   000000 011000                    NOP     0

      459    11019    2              CALL WRITE_HEADER(0,MDATATC,HEADREC.VDPGS*1024,BINARY,0);

  11019  8 000524   000044 236000 1                  LDQ     HEADREC+2
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:82   
         8 000525   000014 772000                    QRL     12
         8 000526   000023 376000 9                  ANQ     19
         8 000527   200663 756100                    STQ     @DCB#+17,,AUTO
         8 000530   000014 237000 9                  LDAQ    12
         8 000531   200626 757100                    STAQ    Z$+1,,AUTO
         8 000532   200663 630500                    EPPR0   @DCB#+17,,AUTO
         8 000533   200625 450500                    STP0    @TYPE+1,,AUTO
         8 000534   000036 236000 9                  LDQ     30
         8 000535   200624 756100                    STQ     @KEY+1,,AUTO
         8 000536   000015 236000 9                  LDQ     13
         8 000537   200623 756100                    STQ     X+1,,AUTO
         8 000540   002642 701000 8                  TSX1    WRITE_HEADER
         8 000541   000000 011000                    NOP     0

      460    11020    2              CALL READ_WRITE(0,HEADREC.VDPGS*1024);

  11020  8 000542   000044 236000 1                  LDQ     HEADREC+2
         8 000543   000014 772000                    QRL     12
         8 000544   000023 376000 9                  ANQ     19
         8 000545   200664 756100                    STQ     @DCB#+18,,AUTO
         8 000546   200664 630500                    EPPR0   @DCB#+18,,AUTO
         8 000547   200606 450500                    STP0    DNAMBUF+1,,AUTO
         8 000550   000015 236000 9                  LDQ     13
         8 000551   200605 756100                    STQ     MDNAMBUF+3,,AUTO
         8 000552   002152 701000 8                  TSX1    READ_WRITE
         8 000553   000000 011000                    NOP     0

      461    11021        /**/
      462    11022        /* MONITOR PROCEDURE */
      463    11023        /**/
      464    11024    2              CALL IDD$GETSEG(SVIOBUF,0);

  11024  8 000554   000037 630400 9                  EPPR0   31
         8 000555   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 000556   000000 701000 xent               TSX1    IDD$GETSEG
         8 000557   000000 011000                    NOP     0

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:83   
      465    11025    2              SVIOBUF = '0'B;

  11025  8 000560   001127 450000 1                  STZ     X1
         8 000561   001130 450000 1                  STZ     X1+1

      466    11026    2              CALL IDD$GETSEG(SVIOBUF,1024) ALTRET(NO_MEM);

  11026  8 000562   000001 630400 9                  EPPR0   1
         8 000563   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 000564   000000 701000 xent               TSX1    IDD$GETSEG
         8 000565   002075 702000 8                  TSX2    NO_MEM

      467    11027    2              IOBUF = SVIOBUF;

  11027  8 000566   000000 100400                    MLR     fill='000'O
         8 000567   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 000570   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

      468    11028    2              CALL READ_KEYED(MROSEGKEY);

  11028  8 000571   000041 236000 9                  LDQ     33
         8 000572   200623 756100                    STQ     X+1,,AUTO
         8 000573   003043 701000 8                  TSX1    READ_KEYED
         8 000574   000000 011000                    NOP     0

      469    11029    2              MROBUF = SVIOBUF;

  11029  8 000575   000100 100400                    MLR     fill='000'O
         8 000576   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 000577   200577 000010                    ADSC9   MROBUF,,AUTO             cn=0,n=8

      470    11030    2              B$TREE$ = PINCRW(MROBUF.PTR$,HEADREC.TREEDISP);

  11030  8 000600   000047 236000 1                  LDQ     HEADREC+5
         8 000601   777777 376003                    ANQ     -1,DU
         8 000602   200600 036100                    ADLQ    MROBUF+1,,AUTO
         8 000603   200575 756100                    STQ     B$TREE$,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:84   

      471    11031    2              NODES = B$TREE$->B$TREE_HEADER.NODES;

  11031  8 000604   200575 470500                    LDP0    B$TREE$,,AUTO
         8 000605   000000 236100                    LDQ     0,,PR0
         8 000606   000022 772000                    QRL     18
         8 000607   200573 756100                    STQ     NODES,,AUTO

      472    11032    2              MROREC.NODES = NODES;

  11032  8 000610   001131 756000 1                  STQ     MROREC

      473    11033    2              B$TREE$ = PINCRW(B$TREE$,SIZEW(B$TREE_HEADER));

  11033  8 000611   200575 236100                    LDQ     B$TREE$,,AUTO
         8 000612   000003 036003                    ADLQ    3,DU
         8 000613   200575 756100                    STQ     B$TREE$,,AUTO

      474    11034    2              SVIOBUF = '0'B;

  11034  8 000614   001127 450000 1                  STZ     X1
         8 000615   001130 450000 1                  STZ     X1+1

      475    11035    2              CALL IDD$GETSEG(SVIOBUF,1024) ALTRET(NO_MEM);

  11035  8 000616   000001 630400 9                  EPPR0   1
         8 000617   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 000620   000000 701000 xent               TSX1    IDD$GETSEG
         8 000621   002075 702000 8                  TSX2    NO_MEM

      476    11036    2              IOBUF = SVIOBUF;

  11036  8 000622   000000 100400                    MLR     fill='000'O
         8 000623   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 000624   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

      477    11037    3              DO I = 0 TO NODES - 1;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:85   

  11037  8 000625   200015 450100                    STZ     I,,AUTO
         8 000626   000737 710000 8                  TRA     s:11049+1

      478    11038    3                 TEMP$ = PINCRW(B$TREE$,B$TREE$->BASEDWORD.UH-(I*SIZEW(B$TREE_NODE))-
             11038                          SIZEW(B$TREE_HEADER));

  11038  8 000627   200575 470500                    LDP0    B$TREE$,,AUTO
         8 000630   000000 236100                    LDQ     0,,PR0
         8 000631   000022 732000                    QRS     18
         8 000632   200644 756100                    STQ     @DCB#+2,,AUTO
         8 000633   000000 236003                    LDQ     0,DU
         8 000634   200015 136100                    SBLQ    I,,AUTO
         8 000635   000006 402007                    MPY     6,DL
         8 000636   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 000637   000022 736000                    QLS     18
         8 000640   000003 136003                    SBLQ    3,DU
         8 000641   200575 036100                    ADLQ    B$TREE$,,AUTO
         8 000642   200576 756100                    STQ     TEMP$,,AUTO

      479    11039    3                 MROREC.NINFO.NODE_NAME.LEN(I) = TEMP$->TEXTC.LEN;

  11039  8 000643   200015 236100                    LDQ     I,,AUTO
         8 000644   000013 402007                    MPY     11,DL
         8 000645   200576 471500                    LDP1    TEMP$,,AUTO
         8 000646   000000 620006                    EAX0    0,QL
         8 000647   100000 236100                    LDQ     0,,PR1
         8 000650   001133 676010 1                  ERQ     MROREC+2,X0
         8 000651   777000 376003                    ANQ     -512,DU
         8 000652   001133 656010 1                  ERSQ    MROREC+2,X0

      480    11040    3                MROREC.NINFO.NODE_NAME.TXT(I) = SUBSTR(TEMP$->TEXTC.TXT,0,TEMP$->TEXTC
             11040                          .LEN);

  11040  8 000653   100000 236100                    LDQ     0,,PR1
         8 000654   000033 772000                    QRL     27
         8 000655   000000 621006                    EAX1    0,QL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:86   
         8 000656   200015 236100                    LDQ     I,,AUTO
         8 000657   000054 402007                    MPY     44,DL
         8 000660   040006 100540                    MLR     fill='040'O
         8 000661   100000 200011                    ADSC9   0,,PR1                   cn=1,n=*X1
         8 000662   001133 200037 1                  ADSC9   MROREC+2,Q               cn=1,n=31

      481    11041    3                 MROREC.PADDR = ((B$TREE$->B$TREE_NODE.PADDR+1023)/1024)*1024;

  11041  8 000663   000003 236100                    LDQ     3,,PR0
         8 000664   000022 772000                    QRL     18
         8 000665   001777 036007                    ADLQ    1023,DL
         8 000666   000012 772000                    QRL     10
         8 000667   000012 736000                    QLS     10
         8 000670   001132 756000 1                  STQ     MROREC+1

      482    11042    3                 TEMP = MROREC.PADDR - B$TREE$->B$TREE_NODE.PADDR;

  11042  8 000671   000003 236100                    LDQ     3,,PR0
         8 000672   000022 772000                    QRL     18
         8 000673   200644 756100                    STQ     @DCB#+2,,AUTO
         8 000674   001132 236000 1                  LDQ     MROREC+1
         8 000675   200644 136100                    SBLQ    @DCB#+2,,AUTO
         8 000676   200014 756100                    STQ     TEMP,,AUTO

      483    11043    3                 TEMP = ((B$TREE$->B$TREE_NODE.PSIZE-TEMP+1023)/1024)*1024;

  11043  8 000677   000003 236100                    LDQ     3,,PR0
         8 000700   777777 376007                    ANQ     -1,DL
         8 000701   200014 136100                    SBLQ    TEMP,,AUTO
         8 000702   001777 036007                    ADLQ    1023,DL
         8 000703   002000 506007                    DIV     1024,DL
         8 000704   000012 736000                    QLS     10
         8 000705   200014 756100                    STQ     TEMP,,AUTO

      484    11044    3                 CALL WRITE_HEADER(0,MPROCTC,TEMP,BINARY,HEADREC.START);

  11044  8 000706   000026 237000 9                  LDAQ    22
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:87   
         8 000707   200626 757100                    STAQ    Z$+1,,AUTO
         8 000710   200014 633500                    EPPR3   TEMP,,AUTO
         8 000711   200625 453500                    STP3    @TYPE+1,,AUTO
         8 000712   000042 236000 9                  LDQ     34
         8 000713   200624 756100                    STQ     @KEY+1,,AUTO
         8 000714   000015 236000 9                  LDQ     13
         8 000715   200623 756100                    STQ     X+1,,AUTO
         8 000716   002642 701000 8                  TSX1    WRITE_HEADER
         8 000717   000000 011000                    NOP     0

      485    11045    3                 TEMP = MROREC.PADDR+TEMP;

  11045  8 000720   001132 236000 1                  LDQ     MROREC+1
         8 000721   200014 036100                    ADLQ    TEMP,,AUTO
         8 000722   200014 756100                    STQ     TEMP,,AUTO

      486    11046    3                 PROG_RECORD_KEY.NODE_NUMBER = I;

  11046  8 000723   200015 720100                    LXL0    I,,AUTO
         8 000724   001645 440000 1                  SXL0    PROG_RECORD_KEY

      487    11047    3                 CALL READ_WRITE(MROREC.PADDR,TEMP);

  11047  8 000725   200014 630500                    EPPR0   TEMP,,AUTO
         8 000726   200606 450500                    STP0    DNAMBUF+1,,AUTO
         8 000727   000043 236000 9                  LDQ     35
         8 000730   200605 756100                    STQ     MDNAMBUF+3,,AUTO
         8 000731   002152 701000 8                  TSX1    READ_WRITE
         8 000732   000000 011000                    NOP     0

      488    11048    3                 B$TREE$ = PINCRW(B$TREE$,SIZEW(B$TREE_NODE));

  11048  8 000733   200575 236100                    LDQ     B$TREE$,,AUTO
         8 000734   000006 036003                    ADLQ    6,DU
         8 000735   200575 756100                    STQ     B$TREE$,,AUTO

      489    11049    3                 END;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:88   

  11049  8 000736   200015 054100                    AOS     I,,AUTO
         8 000737   200015 236100                    LDQ     I,,AUTO
         8 000740   200573 116100                    CMPQ    NODES,,AUTO
         8 000741   000627 604000 8                  TMI     s:11038

      490    11050        /**/
      491    11051        /* MONITOR DEFNAMES */
      492    11052        /**/
      493    11053    2              CALL IDD$GETSEG(SVIOBUF,0);

  11053  8 000742   000037 630400 9                  EPPR0   31
         8 000743   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 000744   000000 701000 xent               TSX1    IDD$GETSEG
         8 000745   000000 011000                    NOP     0

      494    11054    2              SVIOBUF = '0'B;

  11054  8 000746   001127 450000 1                  STZ     X1
         8 000747   001130 450000 1                  STZ     X1+1

      495    11055    2              CALL IDD$GETSEG(SVIOBUF,1024) ALTRET(NO_MEM);

  11055  8 000750   000001 630400 9                  EPPR0   1
         8 000751   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 000752   000000 701000 xent               TSX1    IDD$GETSEG
         8 000753   002075 702000 8                  TSX2    NO_MEM

      496    11056    2              IOBUF = SVIOBUF;

  11056  8 000754   000000 100400                    MLR     fill='000'O
         8 000755   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 000756   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

      497    11057    3              DO I = 0 TO NODES - 1;

  11057  8 000757   200015 450100                    STZ     I,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:89   
         8 000760   001021 710000 8                  TRA     s:11064+1

      498    11058    3                 MDNAMKEY.NODE = I;

  11058  8 000761   200015 720100                    LXL0    I,,AUTO
         8 000762   001125 440000 1                  SXL0    MDNAMKEY

      499    11059    3                 CALL READ_KEYED(MDNAMKEY);

  11059  8 000763   000044 236000 9                  LDQ     36
         8 000764   200623 756100                    STQ     X+1,,AUTO
         8 000765   003043 701000 8                  TSX1    READ_KEYED
         8 000766   000000 011000                    NOP     0

      500    11060    3                 TEMP = M$INPUT$->F$DCB.ARS/4;

  11060  8 000767   200010 470500                    LDP0    M$INPUT$,,AUTO
         8 000770   000000 236100                    LDQ     0,,PR0
         8 000771   000004 506007                    DIV     4,DL
         8 000772   200014 756100                    STQ     TEMP,,AUTO

      501    11061    3                 IOBUF.PTR$ = PINCRW(IOBUF.PTR$,TEMP);

  11061  8 000773   000022 736000                    QLS     18
         8 000774   000113 036000 1                  ADLQ    IOBUF+1
         8 000775   000113 756000 1                  STQ     IOBUF+1

      502    11062    3                 IOBUF.BOUND = IOBUF.BOUND - TEMP*4;

  11062  8 000776   000112 236000 1                  LDQ     IOBUF
         8 000777   000020 772000                    QRL     16
         8 001000   200644 756100                    STQ     @DCB#+2,,AUTO
         8 001001   200014 336100                    LCQ     TEMP,,AUTO
         8 001002   000002 736000                    QLS     2
         8 001003   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 001004   000020 736000                    QLS     16
         8 001005   000112 676000 1                  ERQ     IOBUF
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:90   
         8 001006   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 001007   000112 656000 1                  ERSQ    IOBUF

      503    11063    3                 MROREC.NINFO.DNAM.OFFSET(I+1) = MROREC.NINFO.DNAM.OFFSET(I)+TEMP;

  11063  8 001010   200015 236100                    LDQ     I,,AUTO
         8 001011   000013 402007                    MPY     11,DL
         8 001012   000000 620006                    EAX0    0,QL
         8 001013   001145 236006 1                  LDQ     MROREC+12,QL
         8 001014   000022 772000                    QRL     18
         8 001015   200014 036100                    ADLQ    TEMP,,AUTO
         8 001016   000000 621006                    EAX1    0,QL
         8 001017   001160 741010 1                  STX1    MROREC+23,X0

      504    11064    3                 END;

  11064  8 001020   200015 054100                    AOS     I,,AUTO
         8 001021   200015 236100                    LDQ     I,,AUTO
         8 001022   200573 116100                    CMPQ    NODES,,AUTO
         8 001023   000761 604000 8                  TMI     s:11058

      505    11065    2              TOFFSET = MROREC.NINFO.DNAM.OFFSET(NODES);

  11065  8 001024   200573 236100                    LDQ     NODES,,AUTO
         8 001025   000013 402007                    MPY     11,DL
         8 001026   001145 236006 1                  LDQ     MROREC+12,QL
         8 001027   000022 772000                    QRL     18
         8 001030   200601 756100                    STQ     TOFFSET,,AUTO

      506    11066    2              CALL WRITE_HEADER(-1,MDNAMTC,TOFFSET,ASCII,0);

  11066  8 001031   000046 237000 9                  LDAQ    38
         8 001032   200626 757100                    STAQ    Z$+1,,AUTO
         8 001033   200601 630500                    EPPR0   TOFFSET,,AUTO
         8 001034   200625 450500                    STP0    @TYPE+1,,AUTO
         8 001035   000050 236000 9                  LDQ     40
         8 001036   200624 756100                    STQ     @KEY+1,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:91   
         8 001037   000051 236000 9                  LDQ     41
         8 001040   200623 756100                    STQ     X+1,,AUTO
         8 001041   002642 701000 8                  TSX1    WRITE_HEADER
         8 001042   000000 011000                    NOP     0

      507    11067    2              IOBUF = SVIOBUF;

  11067  8 001043   000000 100400                    MLR     fill='000'O
         8 001044   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 001045   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

      508    11068    2              CALL WRITE_PAGE_SIZE_CHUNKS(ASCII,IOBUF);

  11068  8 001046   000052 236000 9                  LDQ     42
         8 001047   200624 756100                    STQ     @KEY+1,,AUTO
         8 001050   000015 236000 9                  LDQ     13
         8 001051   200623 756100                    STQ     X+1,,AUTO
         8 001052   002562 701000 8                  TSX1    WRITE_PAGE_SIZE_CHUNKS
         8 001053   000000 011000                    NOP     0

      509    11069    2              MDNAMBUF = SVIOBUF;

  11069  8 001054   000100 100400                    MLR     fill='000'O
         8 001055   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 001056   200602 000010                    ADSC9   MDNAMBUF,,AUTO           cn=0,n=8

      510    11070        /**/
      511    11071        /* MONITOR ENTDEFS AND SYMDEFS */
      512    11072        /**/
      513    11073    2              SVIOBUF = '0'B;

  11073  8 001057   001127 450000 1                  STZ     X1
         8 001060   001130 450000 1                  STZ     X1+1

      514    11074    2              CALL IDD$GETSEG(SVIOBUF,1024) ALTRET(NO_MEM);

  11074  8 001061   000001 630400 9                  EPPR0   1
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:92   
         8 001062   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 001063   000000 701000 xent               TSX1    IDD$GETSEG
         8 001064   002075 702000 8                  TSX2    NO_MEM

      515    11075    2              IOBUF = SVIOBUF;

  11075  8 001065   000000 100400                    MLR     fill='000'O
         8 001066   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 001067   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

      516    11076    2              TOFFSET = 0;

  11076  8 001070   200601 450100                    STZ     TOFFSET,,AUTO

      517    11077    3              DO I = 0 TO NODES - 1;

  11077  8 001071   200015 450100                    STZ     I,,AUTO
         8 001072   001163 710000 8                  TRA     s:11091+1

      518    11078    3                 MEDEFKEY.NODE = I;

  11078  8 001073   200015 720100                    LXL0    I,,AUTO
         8 001074   001121 440000 1                  SXL0    MEDEFKEY

      519    11079    3                 CALL READ_KEYED(MEDEFKEY);

  11079  8 001075   000053 236000 9                  LDQ     43
         8 001076   200623 756100                    STQ     X+1,,AUTO
         8 001077   003043 701000 8                  TSX1    READ_KEYED
         8 001100   000000 011000                    NOP     0

      520    11080    3                 TEMP = M$INPUT$->F$DCB.ARS/4;

  11080  8 001101   200010 470500                    LDP0    M$INPUT$,,AUTO
         8 001102   000000 236100                    LDQ     0,,PR0
         8 001103   000004 506007                    DIV     4,DL
         8 001104   200014 756100                    STQ     TEMP,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:93   

      521    11081    3                 TOFFSET = TOFFSET + TEMP;

  11081  8 001105   200601 036100                    ADLQ    TOFFSET,,AUTO
         8 001106   200601 756100                    STQ     TOFFSET,,AUTO

      522    11082    3                 MROREC.NINFO.EDEF.OFFSET(I+1) = TOFFSET;

  11082  8 001107   200015 236100                    LDQ     I,,AUTO
         8 001110   000013 402007                    MPY     11,DL
         8 001111   200601 720100                    LXL0    TOFFSET,,AUTO
         8 001112   001156 740006 1                  STX0    MROREC+21,QL

      523    11083    3                 TEMP$ = IOBUF.PTR$;

  11083  8 001113   000113 236000 1                  LDQ     IOBUF+1
         8 001114   200576 756100                    STQ     TEMP$,,AUTO

      524    11084    3                 IOBUF.PTR$ = PINCRW(IOBUF.PTR$,TEMP);

  11084  8 001115   200014 236100                    LDQ     TEMP,,AUTO
         8 001116   000022 736000                    QLS     18
         8 001117   000113 036000 1                  ADLQ    IOBUF+1
         8 001120   000113 756000 1                  STQ     IOBUF+1

      525    11085    3                 IOBUF.BOUND = IOBUF.BOUND - TEMP*4;

  11085  8 001121   000112 236000 1                  LDQ     IOBUF
         8 001122   000020 772000                    QRL     16
         8 001123   200644 756100                    STQ     @DCB#+2,,AUTO
         8 001124   200014 336100                    LCQ     TEMP,,AUTO
         8 001125   000002 736000                    QLS     2
         8 001126   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 001127   000020 736000                    QLS     16
         8 001130   000112 676000 1                  ERQ     IOBUF
         8 001131   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 001132   000112 656000 1                  ERSQ    IOBUF
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:94   

      526    11086    4                 DO J = 0 TO (TEMP/SIZEW(B$RU_DEF) - 1);

  11086  8 001133   200574 450100                    STZ     J,,AUTO
         8 001134   001156 710000 8                  TRA     s:11090+1

      527    11087    4                   TEMP$->B$RU_DEF.NPOINTER=TEMP$->B$RU_DEF.NPOINTER+MROREC.NINFO.DNAM
             11087                             .OFFSET(I);

  11087  8 001135   200015 236100                    LDQ     I,,AUTO
         8 001136   000013 402007                    MPY     11,DL
         8 001137   001145 236006 1                  LDQ     MROREC+12,QL
         8 001140   000022 772000                    QRL     18
         8 001141   200644 756100                    STQ     @DCB#+2,,AUTO
         8 001142   200576 470500                    LDP0    TEMP$,,AUTO
         8 001143   000001 236100                    LDQ     1,,PR0
         8 001144   000022 732000                    QRS     18
         8 001145   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 001146   000000 620006                    EAX0    0,QL
         8 001147   000001 740100                    STX0    1,,PR0

      528    11088    4                    TEMP$->B$RU_DEF.AD.SECTNUM=0;

  11088  8 001150   000054 236000 9                  LDQ     44
         8 001151   000000 356100                    ANSQ    0,,PR0

      529    11089    4                    TEMP$ = PINCRW(TEMP$,SIZEW(B$RU_DEF));

  11089  8 001152   200576 236100                    LDQ     TEMP$,,AUTO
         8 001153   000002 036003                    ADLQ    2,DU
         8 001154   200576 756100                    STQ     TEMP$,,AUTO

      530    11090    4                    END;

  11090  8 001155   200574 054100                    AOS     J,,AUTO
         8 001156   200014 236100                    LDQ     TEMP,,AUTO
         8 001157   000002 506007                    DIV     2,DL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:95   
         8 001160   200574 116100                    CMPQ    J,,AUTO
         8 001161   001135 605400 8                  TPNZ    s:11087

      531    11091    3                 END;

  11091  8 001162   200015 054100                    AOS     I,,AUTO
         8 001163   200015 236100                    LDQ     I,,AUTO
         8 001164   200573 116100                    CMPQ    NODES,,AUTO
         8 001165   001073 604000 8                  TMI     s:11078

      532    11092    2              CALL WRITE_HEADER(0,MEDEFTC,TOFFSET,BINARY,0);

  11092  8 001166   000014 237000 9                  LDAQ    12
         8 001167   200626 757100                    STAQ    Z$+1,,AUTO
         8 001170   200601 630500                    EPPR0   TOFFSET,,AUTO
         8 001171   200625 450500                    STP0    @TYPE+1,,AUTO
         8 001172   000055 236000 9                  LDQ     45
         8 001173   200624 756100                    STQ     @KEY+1,,AUTO
         8 001174   000015 236000 9                  LDQ     13
         8 001175   200623 756100                    STQ     X+1,,AUTO
         8 001176   002642 701000 8                  TSX1    WRITE_HEADER
         8 001177   000000 011000                    NOP     0

      533    11093    2              IOBUF = SVIOBUF;

  11093  8 001200   000000 100400                    MLR     fill='000'O
         8 001201   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 001202   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

      534    11094    2              CALL WRITE_PAGE_SIZE_CHUNKS(BINARY,IOBUF);

  11094  8 001203   000052 236000 9                  LDQ     42
         8 001204   200624 756100                    STQ     @KEY+1,,AUTO
         8 001205   000014 236000 9                  LDQ     12
         8 001206   200623 756100                    STQ     X+1,,AUTO
         8 001207   002562 701000 8                  TSX1    WRITE_PAGE_SIZE_CHUNKS
         8 001210   000000 011000                    NOP     0
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:96   

      535    11095    2              TOFFSET = 0;

  11095  8 001211   200601 450100                    STZ     TOFFSET,,AUTO

      536    11096    3              DO I = 0 TO NODES - 1;

  11096  8 001212   200015 450100                    STZ     I,,AUTO
         8 001213   001304 710000 8                  TRA     s:11110+1

      537    11097    3                 MSDEFKEY.NODE = I;

  11097  8 001214   200015 720100                    LXL0    I,,AUTO
         8 001215   001123 440000 1                  SXL0    MSDEFKEY

      538    11098    3                 CALL READ_KEYED(MSDEFKEY);

  11098  8 001216   000056 236000 9                  LDQ     46
         8 001217   200623 756100                    STQ     X+1,,AUTO
         8 001220   003043 701000 8                  TSX1    READ_KEYED
         8 001221   000000 011000                    NOP     0

      539    11099    3                 TEMP = M$INPUT$->F$DCB.ARS/4;

  11099  8 001222   200010 470500                    LDP0    M$INPUT$,,AUTO
         8 001223   000000 236100                    LDQ     0,,PR0
         8 001224   000004 506007                    DIV     4,DL
         8 001225   200014 756100                    STQ     TEMP,,AUTO

      540    11100    3                 TOFFSET = TOFFSET + TEMP;

  11100  8 001226   200601 036100                    ADLQ    TOFFSET,,AUTO
         8 001227   200601 756100                    STQ     TOFFSET,,AUTO

      541    11101    3                 MROREC.NINFO.SDEF.OFFSET(I+1) = TOFFSET;

  11101  8 001230   200015 236100                    LDQ     I,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:97   
         8 001231   000013 402007                    MPY     11,DL
         8 001232   200601 720100                    LXL0    TOFFSET,,AUTO
         8 001233   001157 740006 1                  STX0    MROREC+22,QL

      542    11102    3                 TEMP$ = IOBUF.PTR$;

  11102  8 001234   000113 236000 1                  LDQ     IOBUF+1
         8 001235   200576 756100                    STQ     TEMP$,,AUTO

      543    11103    3                 IOBUF.PTR$ = PINCRW(IOBUF.PTR$,TEMP);

  11103  8 001236   200014 236100                    LDQ     TEMP,,AUTO
         8 001237   000022 736000                    QLS     18
         8 001240   000113 036000 1                  ADLQ    IOBUF+1
         8 001241   000113 756000 1                  STQ     IOBUF+1

      544    11104    3                 IOBUF.BOUND = IOBUF.BOUND - TEMP*4;

  11104  8 001242   000112 236000 1                  LDQ     IOBUF
         8 001243   000020 772000                    QRL     16
         8 001244   200644 756100                    STQ     @DCB#+2,,AUTO
         8 001245   200014 336100                    LCQ     TEMP,,AUTO
         8 001246   000002 736000                    QLS     2
         8 001247   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 001250   000020 736000                    QLS     16
         8 001251   000112 676000 1                  ERQ     IOBUF
         8 001252   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 001253   000112 656000 1                  ERSQ    IOBUF

      545    11105    4                 DO J = 0 TO (TEMP/SIZEW(B$RU_DEF) - 1);

  11105  8 001254   200574 450100                    STZ     J,,AUTO
         8 001255   001277 710000 8                  TRA     s:11109+1

      546    11106    4                   TEMP$->B$RU_DEF.NPOINTER=TEMP$->B$RU_DEF.NPOINTER+MROREC.NINFO.DNAM
             11106                             .OFFSET(I);

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:98   
  11106  8 001256   200015 236100                    LDQ     I,,AUTO
         8 001257   000013 402007                    MPY     11,DL
         8 001260   001145 236006 1                  LDQ     MROREC+12,QL
         8 001261   000022 772000                    QRL     18
         8 001262   200644 756100                    STQ     @DCB#+2,,AUTO
         8 001263   200576 470500                    LDP0    TEMP$,,AUTO
         8 001264   000001 236100                    LDQ     1,,PR0
         8 001265   000022 732000                    QRS     18
         8 001266   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 001267   000000 620006                    EAX0    0,QL
         8 001270   000001 740100                    STX0    1,,PR0

      547    11107    4                    TEMP$->B$RU_DEF.AD.SECTNUM=0;

  11107  8 001271   000054 236000 9                  LDQ     44
         8 001272   000000 356100                    ANSQ    0,,PR0

      548    11108    4                    TEMP$ = PINCRW(TEMP$,SIZEW(B$RU_DEF));

  11108  8 001273   200576 236100                    LDQ     TEMP$,,AUTO
         8 001274   000002 036003                    ADLQ    2,DU
         8 001275   200576 756100                    STQ     TEMP$,,AUTO

      549    11109    4                    END;

  11109  8 001276   200574 054100                    AOS     J,,AUTO
         8 001277   200014 236100                    LDQ     TEMP,,AUTO
         8 001300   000002 506007                    DIV     2,DL
         8 001301   200574 116100                    CMPQ    J,,AUTO
         8 001302   001256 605400 8                  TPNZ    s:11106

      550    11110    3                 END;

  11110  8 001303   200015 054100                    AOS     I,,AUTO
         8 001304   200015 236100                    LDQ     I,,AUTO
         8 001305   200573 116100                    CMPQ    NODES,,AUTO
         8 001306   001214 604000 8                  TMI     s:11097
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:99   

      551    11111    2              CALL WRITE_HEADER(0,MSDEFTC,TOFFSET,BINARY,0);

  11111  8 001307   000014 237000 9                  LDAQ    12
         8 001310   200626 757100                    STAQ    Z$+1,,AUTO
         8 001311   200601 630500                    EPPR0   TOFFSET,,AUTO
         8 001312   200625 450500                    STP0    @TYPE+1,,AUTO
         8 001313   000057 236000 9                  LDQ     47
         8 001314   200624 756100                    STQ     @KEY+1,,AUTO
         8 001315   000015 236000 9                  LDQ     13
         8 001316   200623 756100                    STQ     X+1,,AUTO
         8 001317   002642 701000 8                  TSX1    WRITE_HEADER
         8 001320   000000 011000                    NOP     0

      552    11112    2              IOBUF = SVIOBUF;

  11112  8 001321   000000 100400                    MLR     fill='000'O
         8 001322   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 001323   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

      553    11113    2              IOBUF.BOUND = TOFFSET*4 - 1;

  11113  8 001324   200601 236100                    LDQ     TOFFSET,,AUTO
         8 001325   000002 736000                    QLS     2
         8 001326   000001 136007                    SBLQ    1,DL
         8 001327   000020 736000                    QLS     16
         8 001330   000112 676000 1                  ERQ     IOBUF
         8 001331   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 001332   000112 656000 1                  ERSQ    IOBUF

      554    11114    2              CALL WRITE_PAGE_SIZE_CHUNKS(BINARY,IOBUF);

  11114  8 001333   000052 236000 9                  LDQ     42
         8 001334   200624 756100                    STQ     @KEY+1,,AUTO
         8 001335   000014 236000 9                  LDQ     12
         8 001336   200623 756100                    STQ     X+1,,AUTO
         8 001337   002562 701000 8                  TSX1    WRITE_PAGE_SIZE_CHUNKS
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:100  
         8 001340   000000 011000                    NOP     0

      555    11115        /**/
      556    11116        /* MONITOR SCHEMA */
      557    11117        /**/
      558    11118    2              IF SCHEMA_FLAG THEN CALL WRITE_MONITOR_SCHEMA;

  11118  8 001341   000000 234000 xsym               SZN     SCHEMA_FLAG
         8 001342   001345 605000 8                  TPL     s:11123

  11118  8 001343   003376 701000 8                  TSX1    WRITE_MONITOR_SCHEMA
         8 001344   000000 011000                    NOP     0

      559    11119    2              END;

      560    11120        /**/
      561    11121        /* WRITE OUT NODE INFORMATION */
      562    11122        /**/
      563    11123    1           IOBUF = VECTOR(MROREC);

  11123  8 001345   000060 237000 9                  LDAQ    48
         8 001346   000112 757000 1                  STAQ    IOBUF

      564    11124    1           TEMP = (IOBUF.BOUND+1)/4;

  11124  8 001347   000112 236000 1                  LDQ     IOBUF
         8 001350   000020 772000                    QRL     16
         8 001351   000001 036007                    ADLQ    1,DL
         8 001352   000002 772000                    QRL     2
         8 001353   200014 756100                    STQ     TEMP,,AUTO

      565    11125    1           CALL WRITE_HEADER(0,MROSEGTC,TEMP,BINARY,0);

  11125  8 001354   000014 237000 9                  LDAQ    12
         8 001355   200626 757100                    STAQ    Z$+1,,AUTO
         8 001356   200014 630500                    EPPR0   TEMP,,AUTO
         8 001357   200625 450500                    STP0    @TYPE+1,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:101  
         8 001360   000063 236000 9                  LDQ     51
         8 001361   200624 756100                    STQ     @KEY+1,,AUTO
         8 001362   000015 236000 9                  LDQ     13
         8 001363   200623 756100                    STQ     X+1,,AUTO
         8 001364   002642 701000 8                  TSX1    WRITE_HEADER
         8 001365   000000 011000                    NOP     0

      566    11126    1           CALL WRITE_PAGE_SIZE_CHUNKS(BINARY,IOBUF);

  11126  8 001366   000052 236000 9                  LDQ     42
         8 001367   200624 756100                    STQ     @KEY+1,,AUTO
         8 001370   000014 236000 9                  LDQ     12
         8 001371   200623 756100                    STQ     X+1,,AUTO
         8 001372   002562 701000 8                  TSX1    WRITE_PAGE_SIZE_CHUNKS
         8 001373   000000 011000                    NOP     0

      567    11127    1           CALL IDD$GETSEG(SVIOBUF,0);

  11127  8 001374   000037 630400 9                  EPPR0   31
         8 001375   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 001376   000000 701000 xent               TSX1    IDD$GETSEG
         8 001377   000000 011000                    NOP     0

      568    11128    1           SVIOBUF = MDNAMBUF;

  11128  8 001400   200602 237100                    LDAQ    MDNAMBUF,,AUTO
         8 001401   001127 755000 1                  STA     X1
         8 001402   001130 756000 1                  STQ     X1+1

      569    11129    1           CALL IDD$GETSEG(SVIOBUF,0);

  11129  8 001403   000037 630400 9                  EPPR0   31
         8 001404   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 001405   000000 701000 xent               TSX1    IDD$GETSEG
         8 001406   000000 011000                    NOP     0

      570    11130    1           SVIOBUF = '0'B;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:102  

  11130  8 001407   001127 450000 1                  STZ     X1
         8 001410   001130 450000 1                  STZ     X1+1

      571    11131    1           CALL IDD$GETSEG(SVIOBUF,1024) ALTRET(NO_MEM);

  11131  8 001411   000001 630400 9                  EPPR0   1
         8 001412   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 001413   000000 701000 xent               TSX1    IDD$GETSEG
         8 001414   002075 702000 8                  TSX2    NO_MEM

      572    11132    1           IOBUF = SVIOBUF;

  11132  8 001415   000000 100400                    MLR     fill='000'O
         8 001416   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 001417   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

      573    11133        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:103  
      574    11134        /**/
      575    11135        /* GHOST1 READ ONLY SEGMENT */
      576    11136        /**/
      577    11137    1           PROG_RECORD_KEY.NODE_NUMBER = 0;

  11137  8 001420   000000 220003                    LDX0    0,DU
         8 001421   001645 440000 1                  SXL0    PROG_RECORD_KEY

      578    11138    2           IF NOT GHOST1.FLAGS.SKIP THEN DO;

  11138  8 001422   000030 236000 xsym               LDQ     GHOST1+24
         8 001423   040000 316003                    CANQ    16384,DU
         8 001424   001607 601000 8                  TNZ     s:11157

      579    11139    2              CALL IDO$OPENFILE(G1HJIT,DCBNUM(M$INPUT),ERRCODE) ALTRET(NO_G1RO);

  11139  8 001425   000000 236007 xsym               LDQ     M$INPUT,DL
         8 001426   200644 756100                    STQ     @DCB#+2,,AUTO
         8 001427   200565 630500                    EPPR0   ERRCODE,,AUTO
         8 001430   200647 450500                    STP0    @DCB#+5,,AUTO
         8 001431   200644 631500                    EPPR1   @DCB#+2,,AUTO
         8 001432   200646 451500                    STP1    @DCB#+4,,AUTO
         8 001433   000064 236000 9                  LDQ     52
         8 001434   200645 756100                    STQ     @DCB#+3,,AUTO
         8 001435   200645 630500                    EPPR0   @DCB#+3,,AUTO
         8 001436   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 001437   000000 701000 xent               TSX1    IDO$OPENFILE
         8 001440   002045 702000 8                  TSX2    NO_G1RO

      580    11140    2              CALL READ_KEYED(G1HJITKEY) ALTRET(NO_G1RO);

  11140  8 001441   000065 236000 9                  LDQ     53
         8 001442   200623 756100                    STQ     X+1,,AUTO
         8 001443   003043 701000 8                  TSX1    READ_KEYED
         8 001444   002045 702000 8                  TSX2    NO_G1RO

      581    11141    2              CALL IDO$OPENFILE(GHOST1,DCBNUM(M$INPUT),ERRCODE) ALTRET(NO_GHOST1);
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:104  

  11141  8 001445   000000 236007 xsym               LDQ     M$INPUT,DL
         8 001446   200644 756100                    STQ     @DCB#+2,,AUTO
         8 001447   200565 630500                    EPPR0   ERRCODE,,AUTO
         8 001450   200647 450500                    STP0    @DCB#+5,,AUTO
         8 001451   200644 631500                    EPPR1   @DCB#+2,,AUTO
         8 001452   200646 451500                    STP1    @DCB#+4,,AUTO
         8 001453   000066 236000 9                  LDQ     54
         8 001454   200645 756100                    STQ     @DCB#+3,,AUTO
         8 001455   200645 630500                    EPPR0   @DCB#+3,,AUTO
         8 001456   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 001457   000000 701000 xent               TSX1    IDO$OPENFILE
         8 001460   002055 702000 8                  TSX2    NO_GHOST1

      582    11142    2              CALL RDHEAD;

  11142  8 001461   002131 701000 8                  TSX1    RDHEAD
         8 001462   000000 011000                    NOP     0

      583    11143    2              CALL BUILD_G1RO;

  11143  8 001463   004446 701000 8                  TSX1    BUILD_G1RO
         8 001464   000000 011000                    NOP     0

      584    11144    2              CALL WRITE_HEADER(0,G1ROTC,(OUTBUF.BOUND+1)/4,BINARY,0);

  11144  8 001465   200566 236100                    LDQ     OUTBUF,,AUTO
         8 001466   000020 772000                    QRL     16
         8 001467   000001 036007                    ADLQ    1,DL
         8 001470   000002 772000                    QRL     2
         8 001471   200665 756100                    STQ     @DCB#+19,,AUTO
         8 001472   000014 237000 9                  LDAQ    12
         8 001473   200626 757100                    STAQ    Z$+1,,AUTO
         8 001474   200665 630500                    EPPR0   @DCB#+19,,AUTO
         8 001475   200625 450500                    STP0    @TYPE+1,,AUTO
         8 001476   000067 236000 9                  LDQ     55
         8 001477   200624 756100                    STQ     @KEY+1,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:105  
         8 001500   000015 236000 9                  LDQ     13
         8 001501   200623 756100                    STQ     X+1,,AUTO
         8 001502   002642 701000 8                  TSX1    WRITE_HEADER
         8 001503   000000 011000                    NOP     0

      585    11145    2              READONLY#='1'B;

  11145  8 001504   400000 236003                    LDQ     -131072,DU
         8 001505   200020 756100                    STQ     READONLY#,,AUTO

      586    11146    2              CALL WRITE_PAGE_SIZE_CHUNKS(BINARY,OUTBUF);

  11146  8 001506   200566 630500                    EPPR0   OUTBUF,,AUTO
         8 001507   200624 450500                    STP0    @KEY+1,,AUTO
         8 001510   000014 236000 9                  LDQ     12
         8 001511   200623 756100                    STQ     X+1,,AUTO
         8 001512   002562 701000 8                  TSX1    WRITE_PAGE_SIZE_CHUNKS
         8 001513   000000 011000                    NOP     0

      587    11147    2              READONLY#='0'B;

  11147  8 001514   200020 450100                    STZ     READONLY#,,AUTO

      588    11148        /**/
      589    11149        /* GHOST1 DATA */
      590    11150    2              CALL WRITE_HEADER(0,G1DATATC,HEADREC.VDPGS*1024,BINARY,0);

  11150  8 001515   000044 236000 1                  LDQ     HEADREC+2
         8 001516   000014 772000                    QRL     12
         8 001517   000023 376000 9                  ANQ     19
         8 001520   200666 756100                    STQ     @DCB#+20,,AUTO
         8 001521   000014 237000 9                  LDAQ    12
         8 001522   200626 757100                    STAQ    Z$+1,,AUTO
         8 001523   200666 630500                    EPPR0   @DCB#+20,,AUTO
         8 001524   200625 450500                    STP0    @TYPE+1,,AUTO
         8 001525   000070 236000 9                  LDQ     56
         8 001526   200624 756100                    STQ     @KEY+1,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:106  
         8 001527   000015 236000 9                  LDQ     13
         8 001530   200623 756100                    STQ     X+1,,AUTO
         8 001531   002642 701000 8                  TSX1    WRITE_HEADER
         8 001532   000000 011000                    NOP     0

      591    11151    2              CALL READ_WRITE(0,HEADREC.VDPGS*1024);

  11151  8 001533   000044 236000 1                  LDQ     HEADREC+2
         8 001534   000014 772000                    QRL     12
         8 001535   000023 376000 9                  ANQ     19
         8 001536   200667 756100                    STQ     @DCB#+21,,AUTO
         8 001537   200667 630500                    EPPR0   @DCB#+21,,AUTO
         8 001540   200606 450500                    STP0    DNAMBUF+1,,AUTO
         8 001541   000015 236000 9                  LDQ     13
         8 001542   200605 756100                    STQ     MDNAMBUF+3,,AUTO
         8 001543   002152 701000 8                  TSX1    READ_WRITE
         8 001544   000000 011000                    NOP     0

      592    11152        /**/
      593    11153        /* GHOST1 PROCEDURE */
      594    11154    2              CALL WRITE_HEADER(0,G1PROCTC,HEADREC.VPPGS*1024,BINARY,HEADREC.START);

  11154  8 001545   000043 236000 1                  LDQ     HEADREC+1
         8 001546   000014 772000                    QRL     12
         8 001547   000023 376000 9                  ANQ     19
         8 001550   200670 756100                    STQ     @DCB#+22,,AUTO
         8 001551   000026 237000 9                  LDAQ    22
         8 001552   200626 757100                    STAQ    Z$+1,,AUTO
         8 001553   200670 630500                    EPPR0   @DCB#+22,,AUTO
         8 001554   200625 450500                    STP0    @TYPE+1,,AUTO
         8 001555   000071 236000 9                  LDQ     57
         8 001556   200624 756100                    STQ     @KEY+1,,AUTO
         8 001557   000015 236000 9                  LDQ     13
         8 001560   200623 756100                    STQ     X+1,,AUTO
         8 001561   002642 701000 8                  TSX1    WRITE_HEADER
         8 001562   000000 011000                    NOP     0

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:107  
      595    11155    2              CALL READ_WRITE(HEADREC.VDPGS*1024,(HEADREC.VDPGS+HEADREC.VPPGS)*1024);

  11155  8 001563   000043 236000 1                  LDQ     HEADREC+1
         8 001564   000026 772000                    QRL     22
         8 001565   200644 756100                    STQ     @DCB#+2,,AUTO
         8 001566   000044 236000 1                  LDQ     HEADREC+2
         8 001567   000026 772000                    QRL     22
         8 001570   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 001571   200645 756100                    STQ     @DCB#+3,,AUTO
         8 001572   000044 236000 1                  LDQ     HEADREC+2
         8 001573   000014 772000                    QRL     12
         8 001574   000023 376000 9                  ANQ     19
         8 001575   200671 756100                    STQ     @DCB#+23,,AUTO
         8 001576   200645 235100                    LDA     @DCB#+3,,AUTO
         8 001577   000012 735000                    ALS     10
         8 001600   200672 755100                    STA     @DCB#+24,,AUTO
         8 001601   200672 630500                    EPPR0   @DCB#+24,,AUTO
         8 001602   200606 450500                    STP0    DNAMBUF+1,,AUTO
         8 001603   200671 631500                    EPPR1   @DCB#+23,,AUTO
         8 001604   200605 451500                    STP1    MDNAMBUF+3,,AUTO
         8 001605   002152 701000 8                  TSX1    READ_WRITE
         8 001606   000000 011000                    NOP     0

      596    11156    2              END;

      597    11157    1           CALL WRITE_HEADER(-1,SITEINFOTC,SIZEW(ID_SITEINFO),BINARY,0);

  11157  8 001607   000014 237000 9                  LDAQ    12
         8 001610   200626 757100                    STAQ    Z$+1,,AUTO
         8 001611   000074 237000 9                  LDAQ    60
         8 001612   200624 757100                    STAQ    @KEY+1,,AUTO
         8 001613   000051 236000 9                  LDQ     41
         8 001614   200623 756100                    STQ     X+1,,AUTO
         8 001615   002642 701000 8                  TSX1    WRITE_HEADER
         8 001616   000000 011000                    NOP     0

      598    11158    1           READONLY#='1'B;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:108  

  11158  8 001617   400000 236003                    LDQ     -131072,DU
         8 001620   200020 756100                    STQ     READONLY#,,AUTO

      599    11159    1           CALL WRITE_PAGE_SIZE_CHUNKS(BINARY,VECTOR(ID_SITEINFO));

  11159  8 001621   000100 236000 9                  LDQ     64
         8 001622   200624 756100                    STQ     @KEY+1,,AUTO
         8 001623   000014 236000 9                  LDQ     12
         8 001624   200623 756100                    STQ     X+1,,AUTO
         8 001625   002562 701000 8                  TSX1    WRITE_PAGE_SIZE_CHUNKS
         8 001626   000000 011000                    NOP     0

      600    11160    1           READONLY#='0'B;

  11160  8 001627   200020 450100                    STZ     READONLY#,,AUTO

      601    11161        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:109  
      602    11162        /* PATCH FILE */
      603    11163        /**/
      604    11164    1           CALL WRITE_HEADER(0,PATCHTC,20,ASCII,0);

  11164  8 001630   000046 237000 9                  LDAQ    38
         8 001631   200626 757100                    STAQ    Z$+1,,AUTO
         8 001632   000104 237000 9                  LDAQ    68
         8 001633   200624 757100                    STAQ    @KEY+1,,AUTO
         8 001634   000015 236000 9                  LDQ     13
         8 001635   200623 756100                    STQ     X+1,,AUTO
         8 001636   002642 701000 8                  TSX1    WRITE_HEADER
         8 001637   000000 011000                    NOP     0

      605    11165    1           CALL WRITE_BOOT_STUFF;

  11165  8 001640   004203 701000 8                  TSX1    WRITE_BOOT_STUFF
         8 001641   000000 011000                    NOP     0

      606    11166    1           I=0;

  11166  8 001642   200015 450100                    STZ     I,,AUTO

      607    11167    1           TRUNCATED=0;

  11167  8 001643   200016 450100                    STZ     TRUNCATED,,AUTO

      608    11168    1           PTCH$=ID_PTCHHEAD$;

  11168  8 001644   000000 236000 xsym               LDQ     ID_PTCHHEAD$
         8 001645   200003 756100                    STQ     PTCH$,,AUTO

      609    11169    2           DO WHILE(PTCH$~=ADDR(NIL));

  11169  8 001646   001726 710000 8                  TRA     s:11179

      610    11170    2              CALL IDO$OPENFILE(PTCH.FNAME,DCBNUM(M$INPUT),TEMP,VECTOR(NIL)) ALTRET(
             11170                       PTCH_OPN_ERR);
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:110  

  11170  8 001647   000000 236007 xsym               LDQ     M$INPUT,DL
         8 001650   200644 756100                    STQ     @DCB#+2,,AUTO
         8 001651   000103 236000 9                  LDQ     67
         8 001652   200651 756100                    STQ     @DCB#+7,,AUTO
         8 001653   200014 630500                    EPPR0   TEMP,,AUTO
         8 001654   200650 450500                    STP0    @DCB#+6,,AUTO
         8 001655   200644 631500                    EPPR1   @DCB#+2,,AUTO
         8 001656   200647 451500                    STP1    @DCB#+5,,AUTO
         8 001657   200003 236100                    LDQ     PTCH$,,AUTO
         8 001660   000001 036003                    ADLQ    1,DU
         8 001661   200646 756100                    STQ     @DCB#+4,,AUTO
         8 001662   200646 630500                    EPPR0   @DCB#+4,,AUTO
         8 001663   000022 631400 xsym               EPPR1   B_VECTNIL+18
         8 001664   000000 701000 xent               TSX1    IDO$OPENFILE
         8 001665   001705 702000 8                  TSX2    PTCH_OPN_ERR

      611    11171    2              CALL X$WRITE(F_FDS,VECTOR(PTCHFMT1),

  11171  8 001666   000112 235000 9                  LDA     74
         8 001667   200010 236100                    LDQ     M$INPUT$,,AUTO
         8 001670   000113 036000 9                  ADLQ    75
         8 001671   200644 757100                    STAQ    @DCB#+2,,AUTO
         8 001672   200644 630500                    EPPR0   @DCB#+2,,AUTO
         8 001673   200650 450500                    STP0    @DCB#+6,,AUTO
         8 001674   000114 237000 9                  LDAQ    76
         8 001675   200646 757100                    STAQ    @DCB#+4,,AUTO
         8 001676   200646 630500                    EPPR0   @DCB#+4,,AUTO
         8 001677   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 001700   000000 701000 xent               TSX1    X$WRITE
         8 001701   000000 011000                    NOP     0

      612    11172    2                VECTOR(M$INPUT$->F$DCB.NAME.C));
      613    11173    2              CALL WRITE_PATCH;

  11173  8 001702   003253 701000 8                  TSX1    WRITE_PATCH
         8 001703   000000 011000                    NOP     0
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:111  

      614    11174    3              DO NEVER;

  11174  8 001704   001723 710000 8                  TRA     s:11178

      615    11175    3   PTCH_OPN_ERR: CALL XUR$ERRMSG(B$TCB$->B$TCB.ALT$->B$ALT.ERR,DCBNUM(M$INPUT));

  11175  8 001705   000000 470400 xsym  PTCH_OPN_ERR LDP0    B$TCB$
         8 001706   000000 471500                    LDP1    0,,PR0
         8 001707   000000 236007 xsym               LDQ     M$INPUT,DL
         8 001710   200644 756100                    STQ     @DCB#+2,,AUTO
         8 001711   200644 633500                    EPPR3   @DCB#+2,,AUTO
         8 001712   200647 453500                    STP3    @DCB#+5,,AUTO
         8 001713   100102 634500                    EPPR4   66,,PR1
         8 001714   200646 454500                    STP4    @DCB#+4,,AUTO
         8 001715   200646 630500                    EPPR0   @DCB#+4,,AUTO
         8 001716   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 001717   000000 701000 xent               TSX1    XUR$ERRMSG
         8 001720   000000 011000                    NOP     0

      616    11176    3                 FPT_EXIT.V.STEPCC# = 4;

  11176  8 001721   004000 236003                    LDQ     2048,DU
         8 001722   000004 552040 7                  STBQ    FPT_EXIT+4,'40'O

      617    11177    3                 END;

      618    11178    2              PTCH$=PTCH.FL$;

  11178  8 001723   200003 470500                    LDP0    PTCH$,,AUTO
         8 001724   000000 236100                    LDQ     0,,PR0
         8 001725   200003 756100                    STQ     PTCH$,,AUTO

      619    11179    2              END;

  11179  8 001726   000001 116000 xsym               CMPQ    B_VECTNIL+1
         8 001727   001647 601000 8                  TNZ     s:11170
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:112  

      620    11180    1           CALL X$WRITE(F_FDS,VECTOR(PATCHCARDS),VECTOR(I));

  11180  8 001730   777640 235007                    LDA     -96,DL
         8 001731   200644 452500                    STP2    @DCB#+2,,AUTO
         8 001732   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 001733   000015 036003                    ADLQ    13,DU
         8 001734   200646 757100                    STAQ    @DCB#+4,,AUTO
         8 001735   200646 630500                    EPPR0   @DCB#+4,,AUTO
         8 001736   200652 450500                    STP0    @DCB#+8,,AUTO
         8 001737   000120 237000 9                  LDAQ    80
         8 001740   200650 757100                    STAQ    @DCB#+6,,AUTO
         8 001741   200650 630500                    EPPR0   @DCB#+6,,AUTO
         8 001742   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 001743   000000 701000 xent               TSX1    X$WRITE
         8 001744   000000 011000                    NOP     0

      621    11181    1           IF TRUNCATED>0 THEN CALL X$WRITE(F_FDS,VECTOR(TRUNCFMT),VECTOR(TRUNCATED));

  11181  8 001745   200016 235100                    LDA     TRUNCATED,,AUTO
         8 001746   001764 604400 8                  TMOZ    s:11182

  11181  8 001747   777640 235007                    LDA     -96,DL
         8 001750   200644 452500                    STP2    @DCB#+2,,AUTO
         8 001751   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 001752   000016 036003                    ADLQ    14,DU
         8 001753   200646 757100                    STAQ    @DCB#+4,,AUTO
         8 001754   200646 630500                    EPPR0   @DCB#+4,,AUTO
         8 001755   200652 450500                    STP0    @DCB#+8,,AUTO
         8 001756   000124 237000 9                  LDAQ    84
         8 001757   200650 757100                    STAQ    @DCB#+6,,AUTO
         8 001760   200650 630500                    EPPR0   @DCB#+6,,AUTO
         8 001761   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 001762   000000 701000 xent               TSX1    X$WRITE
         8 001763   000000 011000                    NOP     0

      622    11182    1           IOBUF.PTR$->CARDIMAGE='!FIN';
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:113  

  11182  8 001764   000113 470400 1                  LDP0    IOBUF+1
         8 001765   040100 100400                    MLR     fill='040'O
         8 001766   000244 000004 2                  ADSC9   AFMT1+8                  cn=0,n=4
         8 001767   000000 000120                    ADSC9   0,,PR0                   cn=0,n=80

      623    11183    1           CALL WRITE_PO(ASCII,VECTOR(IOBUF.PTR$->CARDIMAGE));

  11183  8 001770   000126 235000 9                  LDA     86
         8 001771   000113 236000 1                  LDQ     IOBUF+1
         8 001772   200674 757100                    STAQ    @DCB#+26,,AUTO
         8 001773   200674 630500                    EPPR0   @DCB#+26,,AUTO
         8 001774   200636 450500                    STP0    @MODE+1,,AUTO
         8 001775   000015 236000 9                  LDQ     13
         8 001776   200635 756100                    STQ     HEADER+5,,AUTO
         8 001777   002424 701000 8                  TSX1    WRITE_PO
         8 002000   000000 011000                    NOP     0

      624    11184    1           CALL M$CLOSE(FPT_CLOSEPO);

  11184  8 002001   000306 630400 1                  EPPR0   FPT_CLOSEPO
         8 002002   050001 713400                    CLIMB   close
         8 002003   406000 401760                    pmme    nvectors=13

      625    11185    1           RETURN;

  11185  8 002004   000000 702200 xent               TSX2  ! X66_ARET

      626    11186        /**/
      627    11187    1   OPN_PO_ERROR:
      628    11188    1           IF B$TCB$->B$TCB.ALT$->B$ALT.ERR.ERR# = %E$MNTBRK THEN CALL M$RETRY;

  11188  8 002005   000000 470400 xsym  OPN_PO_ERROR LDP0    B$TCB$
         8 002006   000000 471500                    LDP1    0,,PR0
         8 002007   100102 236100                    LDQ     66,,PR1
         8 002010   377770 376007                    ANQ     131064,DL
         8 002011   012200 116007                    CMPQ    5248,DL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:114  
         8 002012   002015 601000 8                  TNZ     s:11189

  11188  8 002013   010010 713400                    CLIMB   4104
         8 002014   000000 401760                    pmme    nvectors=0

      629    11189    1           CALL ABORT_DEF(OPN_PO_CODE,DCBNUM(M$PO));

  11189  8 002015   000000 236007 xsym               LDQ     M$PO,DL
         8 002016   200676 756100                    STQ     @DCB#+28,,AUTO
         8 002017   200676 630500                    EPPR0   @DCB#+28,,AUTO
         8 002020   200642 450500                    STP0    @CODE1+1,,AUTO
         8 002021   000127 236000 9                  LDQ     87
         8 002022   200641 756100                    STQ     RECSIZE+2,,AUTO
         8 002023   002104 701000 8                  TSX1    ABORT_DEF
         8 002024   000000 011000                    NOP     0

      630    11190    1   NO_MHJIT:
      631    11191    1           CALL ABORT_DEF(NO_MHJIT_CODE,DCBNUM(M$INPUT));

  11191  8 002025   000000 236007 xsym  NO_MHJIT     LDQ     M$INPUT,DL
         8 002026   200677 756100                    STQ     @DCB#+29,,AUTO
         8 002027   200677 630500                    EPPR0   @DCB#+29,,AUTO
         8 002030   200642 450500                    STP0    @CODE1+1,,AUTO
         8 002031   000130 236000 9                  LDQ     88
         8 002032   200641 756100                    STQ     RECSIZE+2,,AUTO
         8 002033   002104 701000 8                  TSX1    ABORT_DEF
         8 002034   000000 011000                    NOP     0

      632    11192    1   NO_MONSTER:
      633    11193    1           CALL ABORT_DEF(NO_MONSTER_CODE,DCBNUM(M$INPUT));

  11193  8 002035   000000 236007 xsym  NO_MONSTER   LDQ     M$INPUT,DL
         8 002036   200700 756100                    STQ     @DCB#+30,,AUTO
         8 002037   200700 630500                    EPPR0   @DCB#+30,,AUTO
         8 002040   200642 450500                    STP0    @CODE1+1,,AUTO
         8 002041   000131 236000 9                  LDQ     89
         8 002042   200641 756100                    STQ     RECSIZE+2,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:115  
         8 002043   002104 701000 8                  TSX1    ABORT_DEF
         8 002044   000000 011000                    NOP     0

      634    11194    1   NO_G1RO:
      635    11195    1           CALL ABORT_DEF(NO_G1RO_CODE,DCBNUM(M$INPUT));

  11195  8 002045   000000 236007 xsym  NO_G1RO      LDQ     M$INPUT,DL
         8 002046   200701 756100                    STQ     @DCB#+31,,AUTO
         8 002047   200701 630500                    EPPR0   @DCB#+31,,AUTO
         8 002050   200642 450500                    STP0    @CODE1+1,,AUTO
         8 002051   000132 236000 9                  LDQ     90
         8 002052   200641 756100                    STQ     RECSIZE+2,,AUTO
         8 002053   002104 701000 8                  TSX1    ABORT_DEF
         8 002054   000000 011000                    NOP     0

      636    11196    1   NO_GHOST1:
      637    11197    1           CALL ABORT_DEF(NO_GHOST1_CODE,DCBNUM(M$INPUT));

  11197  8 002055   000000 236007 xsym  NO_GHOST1    LDQ     M$INPUT,DL
         8 002056   200702 756100                    STQ     @DCB#+32,,AUTO
         8 002057   200702 630500                    EPPR0   @DCB#+32,,AUTO
         8 002060   200642 450500                    STP0    @CODE1+1,,AUTO
         8 002061   000133 236000 9                  LDQ     91
         8 002062   200641 756100                    STQ     RECSIZE+2,,AUTO
         8 002063   002104 701000 8                  TSX1    ABORT_DEF
         8 002064   000000 011000                    NOP     0

      638    11198    1   OPN_ERR:
      639    11199    1           CALL ABORT_DEF(OPEN_ERR_CODE,DCBNUM(M$INPUT));

  11199  8 002065   000000 236007 xsym  OPN_ERR      LDQ     M$INPUT,DL
         8 002066   200703 756100                    STQ     @DCB#+33,,AUTO
         8 002067   200703 630500                    EPPR0   @DCB#+33,,AUTO
         8 002070   200642 450500                    STP0    @CODE1+1,,AUTO
         8 002071   200004 631500                    EPPR1   OPEN_ERR_CODE,,AUTO
         8 002072   200641 451500                    STP1    RECSIZE+2,,AUTO
         8 002073   002104 701000 8                  TSX1    ABORT_DEF
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:116  
         8 002074   000000 011000                    NOP     0

      640    11200    1   NO_MEM:
      641    11201    1           CALL ABORT_DEF(NO_BUFFER_CODE);

  11201  8 002075   000001 236000 xsym  NO_MEM       LDQ     B_VECTNIL+1
         8 002076   200642 756100                    STQ     @CODE1+1,,AUTO
         8 002077   000134 236000 9                  LDQ     92
         8 002100   200641 756100                    STQ     RECSIZE+2,,AUTO
         8 002101   002104 701000 8                  TSX1    ABORT_DEF
         8 002102   000000 011000                    NOP     0
         8 002103   005265 710000 8                  TRA     s:12030+2

      642    11202        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:117  
      643    11203        /**/
      644    11204        /* INTERNAL PROCEDURES */
      645    11205        /**/
      646    11206    1   ABORT_DEF: PROC(CODE1,DCB#);

  11206  8 002104   200640 741300       ABORT_DEF    STX1  ! RECSIZE+1,,AUTO

      647    11207        /**/
      648    11208    2   DCL CODE1 BIT(36) UNAL;
      649    11209    2   DCL DCB# SBIN;
      650    11210        /**/
      651    11211    2           ERRCODE=B$TCB$->B$TCB.ALT$->B$ALT.ERR;

  11211  8 002105   000000 470400 xsym               LDP0    B$TCB$
         8 002106   000000 471500                    LDP1    0,,PR0
         8 002107   100102 236100                    LDQ     66,,PR1
         8 002110   200565 756100                    STQ     ERRCODE,,AUTO

      652    11212    2           CALL XUR$ERRMSG(CODE1,DCB#);

  11212  8 002111   200641 630500                    EPPR0   @CODE1,,AUTO
         8 002112   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 002113   000000 701000 xent               TSX1    XUR$ERRMSG
         8 002114   000000 011000                    NOP     0

      653    11213    2           CALL XUR$ERRMSG(ERRCODE,DCB#);

  11213  8 002115   200642 236100                    LDQ     @DCB#,,AUTO
         8 002116   200645 756100                    STQ     @DCB#+3,,AUTO
         8 002117   200565 630500                    EPPR0   ERRCODE,,AUTO
         8 002120   200644 450500                    STP0    @DCB#+2,,AUTO
         8 002121   200644 630500                    EPPR0   @DCB#+2,,AUTO
         8 002122   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 002123   000000 701000 xent               TSX1    XUR$ERRMSG
         8 002124   000000 011000                    NOP     0

      654    11214    2           CALL M$XXX;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:118  

  11214  8 002125   000003 713400                    CLIMB   3
         8 002126   000000 401760                    pmme    nvectors=0

      655    11215    2   END ABORT_DEF;

  11215  8 002127   200640 221300                    LDX1  ! RECSIZE+1,,AUTO
         8 002130   000001 702211                    TSX2  ! 1,X1

      656    11216        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:119  
      657    11217    1   RDHEAD: PROC;

  11217  8 002131   200622 741300       RDHEAD       STX1  ! @BOUND+1,,AUTO

      658    11218        /**/
      659    11219    2   DCL 1 HEAD_KEY STATIC,
      660    11220    2         2 CNT UBIN BYTE UNAL INIT(4),
      661    11221    2         2 TXT CHAR(4) INIT('HEAD');
      662    11222        %FPT_READ (FPTN=FPT_READ_HEAD,BUF=HEADREC,KEY=HEAD_KEY,
      663    11223                   KEYS=YES,WAIT=YES,DCB=M$INPUT);
      664    11262        %ERRCODE (NAME=NO_HEAD_CODE,CODE#=%E$NO_HEAD);
      665    11269        /**/
      666    11270    2           CALL M$READ(FPT_READ_HEAD) ALTRET(NO_HEAD);

  11270  8 002132   002514 630400 1                  EPPR0   FPT_READ_HEAD
         8 002133   440000 713400                    CLIMB   alt,read
         8 002134   401400 401760                    pmme    nvectors=4
         8 002135   002140 702000 8                  TSX2    NO_HEAD

      667    11271    2           RETURN;

  11271  8 002136   200622 221300                    LDX1  ! @BOUND+1,,AUTO
         8 002137   000001 702211                    TSX2  ! 1,X1

      668    11272    2   NO_HEAD:
      669    11273    2           CALL ABORT_DEF(NO_HEAD_CODE,DCBNUM(M$INPUT));

  11273  8 002140   000000 236007 xsym  NO_HEAD      LDQ     M$INPUT,DL
         8 002141   200704 756100                    STQ     @DCB#+34,,AUTO
         8 002142   200704 630500                    EPPR0   @DCB#+34,,AUTO
         8 002143   200642 450500                    STP0    @DCB#,,AUTO
         8 002144   000135 236000 9                  LDQ     93
         8 002145   200641 756100                    STQ     @CODE1,,AUTO
         8 002146   002104 701000 8                  TSX1    ABORT_DEF
         8 002147   000000 011000                    NOP     0

      670    11274    2   END RDHEAD;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:120  

  11274  8 002150   200622 221300                    LDX1  ! @BOUND+1,,AUTO
         8 002151   000001 702211                    TSX2  ! 1,X1

      671    11275        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:121  
      672    11276    1   READ_WRITE: PROC(FIRST,LAST);

  11276  8 002152   200604 741300       READ_WRITE   STX1  ! MDNAMBUF+2,,AUTO

      673    11277    2   DCL FIRST SBIN;
      674    11278    2   DCL LAST SBIN;
      675    11279    2   DCL FADR SBIN;
      676    11280    2   DCL PAGE# SBIN;
      677    11281    2   DCL LITTLEBASE CHAR(32) BASED;
      678    11282    2   DCL BIGBASE CHAR(4064) BASED;
      679    11283        %FPT_PRECORD (DCB=M$INPUT,KEY=PROG_RECORD_KEY,KEYS=YES);
      680    11304        /**/
      681    11305    2           PROG_RECORD_KEY.PAGE#=FIRST-MOD(FIRST,1024);

  11305  8 002153   200605 470500                    LDP0    @FIRST,,AUTO
         8 002154   000000 236100                    LDQ     0,,PR0
         8 002155   002000 506007                    DIV     1024,DL
         8 002156   200644 755100                    STA     @DCB#+2,,AUTO
         8 002157   000000 236100                    LDQ     0,,PR0
         8 002160   200644 136100                    SBLQ    @DCB#+2,,AUTO
         8 002161   000000 620006                    EAX0    0,QL
         8 002162   001646 740000 1                  STX0    PROG_RECORD_KEY+1

      682    11306    2           PAGE# = PROG_RECORD_KEY.PAGE#;

  11306  8 002163   001646 235000 1                  LDA     PROG_RECORD_KEY+1
         8 002164   000022 771000                    ARL     18
         8 002165   200610 755100                    STA     PAGE#,,AUTO

      683    11307    3           DO WHILE(PAGE#<LAST);

  11307  8 002166   200606 471500                    LDP1    @LAST,,AUTO
         8 002167   200610 236100                    LDQ     PAGE#,,AUTO
         8 002170   100000 116100                    CMPQ    0,,PR1
         8 002171   002333 605000 8                  TPL     s:11333

      684    11308    3              CALL READ_KEYED(PROG_RECORD_KEY) ALTRET(CREATE_A_REC);
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:122  

  11308  8 002172   000136 236000 9                  LDQ     94
         8 002173   200623 756100                    STQ     X+1,,AUTO
         8 002174   003043 701000 8                  TSX1    READ_KEYED
         8 002175   002177 702000 8                  TSX2    CREATE_A_REC

      685    11309    4              DO NEVER;

  11309  8 002176   002236 710000 8                  TRA     s:11320

  11309  8 002177                       CREATE_A_REC null
      686    11310    4   CREATE_A_REC: ;
      687    11311    4                 CALL READ_SEQUENTIAL;

  11311  8 002177   002335 701000 8                  TSX1    READ_SEQUENTIAL
         8 002200   000000 011000                    NOP     0

      688    11312    5                 IF PRKEY.TYPE~=10 OR PRKEY.PAGE#>PROG_RECORD_KEY.PAGE#+1023 OR PRKEY.
             11312                          NODE~=PROG_RECORD_KEY.NODE_NUMBER THEN DO;

  11312  8 002201   001111 236000 1                  LDQ     LAST_KEY_READ
         8 002202   000777 376003                    ANQ     511,DU
         8 002203   000012 116003                    CMPQ    10,DU
         8 002204   002215 601000 8                  TNZ     s:11313
         8 002205   001646 220000 1                  LDX0    PROG_RECORD_KEY+1
         8 002206   001777 621010                    EAX1    1023,X0
         8 002207   001112 101000 1                  CMPX1   LAST_KEY_READ+1
         8 002210   002215 602000 8                  TNC     s:11313
         8 002211   001111 236000 1                  LDQ     LAST_KEY_READ
         8 002212   001645 676000 1                  ERQ     PROG_RECORD_KEY
         8 002213   777777 376007                    ANQ     -1,DL
         8 002214   002236 600000 8                  TZE     s:11320

      689    11313    5                    OUTBUF=IOBUF;

  11313  8 002215   000112 237000 1                  LDAQ    IOBUF
         8 002216   200566 757100                    STAQ    OUTBUF,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:123  

      690    11314    5                    OUTBUF.BOUND=4095;

  11314  8 002217   200566 236100                    LDQ     OUTBUF,,AUTO
         8 002220   177777 376007                    ANQ     65535,DL
         8 002221   000137 276000 9                  ORQ     95
         8 002222   200566 756100                    STQ     OUTBUF,,AUTO

      691    11315    5                    OUTBUF.PTR$->LITTLEBASE='FASHIONS BY JT ANDERSON, SWENG';

  11315  8 002223   200567 470500                    LDP0    OUTBUF+1,,AUTO
         8 002224   040100 100400                    MLR     fill='040'O
         8 002225   000245 000036 2                  ADSC9   AFMT1+9                  cn=0,n=30
         8 002226   000000 000040                    ADSC9   0,,PR0                   cn=0,n=32

      692    11316    5                    PINCRW(OUTBUF.PTR$,8)->BIGBASE=OUTBUF.PTR$->BIGBASE;

  11316  8 002227   200567 470500                    LDP0    OUTBUF+1,,AUTO
         8 002230   040100 100500                    MLR     fill='040'O
         8 002231   000000 007740                    ADSC9   0,,PR0                   cn=0,n=4064
         8 002232   000010 007740                    ADSC9   8,,PR0                   cn=0,n=4064

      693    11317    5                    PRKEY=PROG_RECORD_KEY;

  11317  8 002233   000000 100400                    MLR     fill='000'O
         8 002234   001645 000006 1                  ADSC9   PROG_RECORD_KEY          cn=0,n=6
         8 002235   001111 000040 1                  ADSC9   LAST_KEY_READ            cn=0,n=32

      694    11318    5                    END;

      695    11319    4                 END;

      696    11320    3              FADR=PRKEY.PAGE#;

  11320  8 002236   001112 235000 1                  LDA     LAST_KEY_READ+1
         8 002237   000022 771000                    ARL     18
         8 002240   200607 755100                    STA     FADR,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:124  

      697    11321    4              IF PRKEY.PAGE#<FIRST THEN DO;

  11321  8 002241   200605 470500                    LDP0    @FIRST,,AUTO
         8 002242   001112 236000 1                  LDQ     LAST_KEY_READ+1
         8 002243   000022 772000                    QRL     18
         8 002244   000000 116100                    CMPQ    0,,PR0
         8 002245   002274 605000 8                  TPL     s:11326

      698    11322    4                 OUTBUF.PTR$=PINCRW(OUTBUF.PTR$,FIRST-PRKEY.PAGE#);

  11322  8 002246   200644 756100                    STQ     @DCB#+2,,AUTO
         8 002247   000000 236100                    LDQ     0,,PR0
         8 002250   200644 136100                    SBLQ    @DCB#+2,,AUTO
         8 002251   000022 736000                    QLS     18
         8 002252   200567 036100                    ADLQ    OUTBUF+1,,AUTO
         8 002253   200567 756100                    STQ     OUTBUF+1,,AUTO

      699    11323    4                 OUTBUF.BOUND=OUTBUF.BOUND-(FIRST-PRKEY.PAGE#)*4;

  11323  8 002254   200644 755100                    STA     @DCB#+2,,AUTO
         8 002255   000000 236100                    LDQ     0,,PR0
         8 002256   200644 136100                    SBLQ    @DCB#+2,,AUTO
         8 002257   200645 756100                    STQ     @DCB#+3,,AUTO
         8 002260   200566 236100                    LDQ     OUTBUF,,AUTO
         8 002261   000020 772000                    QRL     16
         8 002262   200646 756100                    STQ     @DCB#+4,,AUTO
         8 002263   200645 336100                    LCQ     @DCB#+3,,AUTO
         8 002264   000002 736000                    QLS     2
         8 002265   200646 036100                    ADLQ    @DCB#+4,,AUTO
         8 002266   000020 736000                    QLS     16
         8 002267   200566 676100                    ERQ     OUTBUF,,AUTO
         8 002270   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 002271   200566 656100                    ERSQ    OUTBUF,,AUTO

      700    11324    4                 FADR=FIRST;

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:125  
  11324  8 002272   000000 235100                    LDA     0,,PR0
         8 002273   200607 755100                    STA     FADR,,AUTO

      701    11325    4                 END;

      702    11326    4              IF FADR+(OUTBUF.BOUND+1)/4 > LAST THEN DO;

  11326  8 002274   200566 236100                    LDQ     OUTBUF,,AUTO
         8 002275   000020 772000                    QRL     16
         8 002276   000001 036007                    ADLQ    1,DL
         8 002277   000002 772000                    QRL     2
         8 002300   200607 036100                    ADLQ    FADR,,AUTO
         8 002301   200606 471500                    LDP1    @LAST,,AUTO
         8 002302   100000 116100                    CMPQ    0,,PR1
         8 002303   002314 604400 8                  TMOZ    s:11329

      703    11327    4                 OUTBUF.BOUND=(LAST-FADR)*4-1;

  11327  8 002304   100000 236100                    LDQ     0,,PR1
         8 002305   200607 136100                    SBLQ    FADR,,AUTO
         8 002306   000002 736000                    QLS     2
         8 002307   000001 136007                    SBLQ    1,DL
         8 002310   000020 736000                    QLS     16
         8 002311   200566 676100                    ERQ     OUTBUF,,AUTO
         8 002312   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 002313   200566 656100                    ERSQ    OUTBUF,,AUTO

      704    11328    4                 END;

      705    11329    3              CALL WRITE_PO(BINARY);

  11329  8 002314   000001 236000 xsym               LDQ     B_VECTNIL+1
         8 002315   200636 756100                    STQ     @MODE+1,,AUTO
         8 002316   000014 236000 9                  LDQ     12
         8 002317   200635 756100                    STQ     HEADER+5,,AUTO
         8 002320   002424 701000 8                  TSX1    WRITE_PO
         8 002321   000000 011000                    NOP     0
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:126  

      706    11330    3              PROG_RECORD_KEY.PAGE#=PROG_RECORD_KEY.PAGE#+1024;

  11330  8 002322   001646 220000 1                  LDX0    PROG_RECORD_KEY+1
         8 002323   002000 621010                    EAX1    1024,X0
         8 002324   001646 741000 1                  STX1    PROG_RECORD_KEY+1

      707    11331    3              PAGE# = PAGE# + 1024;

  11331  8 002325   002000 236007                    LDQ     1024,DL
         8 002326   200610 056100                    ASQ     PAGE#,,AUTO

      708    11332    3              END;

  11332  8 002327   200606 470500                    LDP0    @LAST,,AUTO
         8 002330   200610 236100                    LDQ     PAGE#,,AUTO
         8 002331   000000 116100                    CMPQ    0,,PR0
         8 002332   002172 604000 8                  TMI     s:11308

      709    11333    2           RETURN;

  11333  8 002333   200604 221300                    LDX1  ! MDNAMBUF+2,,AUTO
         8 002334   000001 702211                    TSX2  ! 1,X1

      710    11334    2   END READ_WRITE;
      711    11335        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:127  
      712    11336    1   READ_SEQUENTIAL: PROC ALTRET;

  11336  8 002335   200622 741300       READ_SEQUEN* STX1  ! @BOUND+1,,AUTO

      713    11337        %FPT_READ (DCB=M$INPUT,KEY=LAST_KEY_READ,KEYR=YES,WAIT=YES);
      714    11376        /**/
      715    11377    2           FPT_READ.BUF_=IOBUF;

  11377  8 002336   000112 237000 1                  LDAQ    IOBUF
         8 002337   002550 757000 1                  STAQ    FPT_READ+4

      716    11378    2           CALL M$READ(FPT_READ) ALTRET(BAD_READ);

  11378  8 002340   002544 630400 1                  EPPR0   FPT_READ
         8 002341   440000 713400                    CLIMB   alt,read
         8 002342   401400 401760                    pmme    nvectors=4
         8 002343   002361 702000 8                  TSX2    BAD_READ

      717    11379    2           OUTBUF=IOBUF;

  11379  8 002344   000112 237000 1                  LDAQ    IOBUF
         8 002345   200566 757100                    STAQ    OUTBUF,,AUTO

      718    11380    2           OUTBUF.BOUND=M$INPUT$->F$DCB.ARS-1;

  11380  8 002346   200010 470500                    LDP0    M$INPUT$,,AUTO
         8 002347   000000 236100                    LDQ     0,,PR0
         8 002350   000001 136007                    SBLQ    1,DL
         8 002351   000020 736000                    QLS     16
         8 002352   200566 676100                    ERQ     OUTBUF,,AUTO
         8 002353   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 002354   200566 656100                    ERSQ    OUTBUF,,AUTO

      719    11381    2           CALL ZAP_TRAILING_BYTES;

  11381  8 002355   003347 701000 8                  TSX1    ZAP_TRAILING_BYTES
         8 002356   000000 011000                    NOP     0
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:128  

      720    11382    2           RETURN;

  11382  8 002357   200622 221300                    LDX1  ! @BOUND+1,,AUTO
         8 002360   000001 702211                    TSX2  ! 1,X1

      721    11383    2   BAD_READ:
      722    11384    3           IF B$TCB$->B$TCB.ALT$->B$ALT.ERR.CODE=%E$LD THEN DO;

  11384  8 002361   000000 470400 xsym  BAD_READ     LDP0    B$TCB$
         8 002362   000000 471500                    LDP1    0,,PR0
         8 002363   100102 236100                    LDQ     66,,PR1
         8 002364   377770 376007                    ANQ     131064,DL
         8 002365   000070 116007                    CMPQ    56,DL
         8 002366   002377 601000 8                  TNZ     s:11389

      723    11385    3              CALL GET_MORE_SPACE;

  11385  8 002367   000001 236000 xsym               LDQ     B_VECTNIL+1
         8 002370   200625 756100                    STQ     @TYPE+1,,AUTO
         8 002371   003146 701000 8                  TSX1    GET_MORE_SPACE
         8 002372   000000 011000                    NOP     0

      724    11386    3              FPT_READ.BUF_=IOBUF;

  11386  8 002373   000112 237000 1                  LDAQ    IOBUF
         8 002374   002550 757000 1                  STAQ    FPT_READ+4

      725    11387    3              CALL M$RETRY;

  11387  8 002375   010010 713400                    CLIMB   4104
         8 002376   000000 401760                    pmme    nvectors=0

      726    11388    3              END;

      727    11389    3           IF B$TCB$->B$TCB.ALT$->B$ALT.ERR.CODE=%E$EOF THEN DO;

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:129  
  11389  8 002377   000000 470400 xsym               LDP0    B$TCB$
         8 002400   000000 471500                    LDP1    0,,PR0
         8 002401   100102 236100                    LDQ     66,,PR1
         8 002402   377770 376007                    ANQ     131064,DL
         8 002403   000060 116007                    CMPQ    48,DL
         8 002404   002412 601000 8                  TNZ     s:11393

      728    11390    3              LAST_KEY_READ='0'B;

  11390  8 002405   000000 100400                    MLR     fill='000'O
         8 002406   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         8 002407   001111 000040 1                  ADSC9   LAST_KEY_READ            cn=0,n=32

      729    11391    3              ALTRETURN;

  11391  8 002410   200622 221300                    LDX1  ! @BOUND+1,,AUTO
         8 002411   000000 702211                    TSX2  ! 0,X1

      730    11392    3              END;
      731    11393    2           CALL ABORT_DEF(BAD_READ_CODE,DCBNUM(M$INPUT));

  11393  8 002412   000000 236007 xsym               LDQ     M$INPUT,DL
         8 002413   200705 756100                    STQ     @DCB#+35,,AUTO
         8 002414   200705 631500                    EPPR1   @DCB#+35,,AUTO
         8 002415   200642 451500                    STP1    @DCB#,,AUTO
         8 002416   000140 236000 9                  LDQ     96
         8 002417   200641 756100                    STQ     @CODE1,,AUTO
         8 002420   002104 701000 8                  TSX1    ABORT_DEF
         8 002421   000000 011000                    NOP     0

      732    11394    2   END READ_SEQUENTIAL;

  11394  8 002422   200622 221300                    LDX1  ! @BOUND+1,,AUTO
         8 002423   000001 702211                    TSX2  ! 1,X1

      733    11395        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:130  
      734    11396    1   WRITE_PO: PROC(MODE,BUFVEC);

  11396  8 002424   200634 741300       WRITE_PO     STX1  ! HEADER+4,,AUTO

      735    11397    2   DCL MODE SBIN;
      736    11398    2   DCL BUFVEC BIT(72) UNAL;
      737    11399        %FPT_WRITE (DCB=M$PO);
      738    11430        %FPT_READ (DCB=M$PO);
      739    11469    2   DCL RECSIZE SBIN;
      740    11470    2   DCL TAPEREC CHAR(RECSIZE) BASED(FPT_READ.BUF_.BUF$);
      741    11471    2   DCL FILEREC CHAR(RECSIZE) BASED(FPT_WRITE.BUF_.BUF$);
      742    11472        %ERRCODE (NAME=BAD_PO_WRITE_CODE,CODE#=%E$BAD_PO_WRITE);
      743    11479        /**/
      744    11480    2           IF POAS=0 THEN;

  11480  8 002425   000041 235000 1                  LDA     POAS
         8 002426   002431 600000 8                  TZE     s:11482

      745    11481    2           ELSE FPT_WRITE.V.DCB#=POAS;

  11481  8 002427   000000 620005                    EAX0    0,AL
         8 002430   002572 740000 1                  STX0    FPT_WRITE+8

      746    11482    2           IF ADDR(BUFVEC)=ADDR(NIL) THEN FPT_WRITE.BUF_=OUTBUF;

  11482  8 002431   200636 236100                    LDQ     @BUFVEC,,AUTO
         8 002432   000001 116000 xsym               CMPQ    B_VECTNIL+1
         8 002433   002437 601000 8                  TNZ     s:11483

  11482  8 002434   200566 237100                    LDAQ    OUTBUF,,AUTO
         8 002435   002566 757000 1                  STAQ    FPT_WRITE+4
         8 002436   002443 710000 8                  TRA     s:11484

      747    11483    2           ELSE FPT_WRITE.BUF_=BUFVEC;

  11483  8 002437   200636 470500                    LDP0    @BUFVEC,,AUTO
         8 002440   003000 060500                    CSL     bolr='003'O
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:131  
         8 002441   000000 000110                    BDSC    0,,PR0                   by=0,bit=0,n=72
         8 002442   002566 000110 1                  BDSC    FPT_WRITE+4              by=0,bit=0,n=72

      748    11484    2           FPT_WRITE.V.DVBYTE.BIN#=BINBIT(MODE,1);

  11484  8 002443   200635 470500                    LDP0    @MODE,,AUTO
         8 002444   000000 236100                    LDQ     0,,PR0
         8 002445   000043 736000                    QLS     35
         8 002446   000003 772000                    QRL     3
         8 002447   002575 676000 1                  ERQ     FPT_WRITE+11
         8 002450   040000 376003                    ANQ     16384,DU
         8 002451   002575 656000 1                  ERSQ    FPT_WRITE+11

      749    11485    3           IF ID_VERIFLG THEN DO;

  11485  8 002452   000000 234000 xsym               SZN     ID_VERIFLG
         8 002453   002507 605000 8                  TPL     s:11493

      750    11486    3              FPT_READ.BUF_=ID_VERISEG;

  11486  8 002454   000000 100400                    MLR     fill='000'O
         8 002455   000000 000010 xsym               ADSC9   ID_VERISEG               cn=0,n=8
         8 002456   002602 000010 1                  ADSC9   FPT_READ+4               cn=0,n=8

      751    11487    3              FPT_READ.V.DVBYTE.BIN#=BINBIT(MODE,1);

  11487  8 002457   000000 236100                    LDQ     0,,PR0
         8 002460   000043 736000                    QLS     35
         8 002461   000003 772000                    QRL     3
         8 002462   002611 676000 1                  ERQ     FPT_READ+11
         8 002463   040000 376003                    ANQ     16384,DU
         8 002464   002611 656000 1                  ERSQ    FPT_READ+11

      752    11488    3              RECSIZE=FPT_WRITE.BUF_.BOUND+1;

  11488  8 002465   002566 236000 1                  LDQ     FPT_WRITE+4
         8 002466   000020 772000                    QRL     16
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:132  
         8 002467   000001 036007                    ADLQ    1,DL
         8 002470   200637 756100                    STQ     RECSIZE,,AUTO

      753    11489    3              CALL M$READ(FPT_READ) ALTRET(VERIFY_ERR);

  11489  8 002471   002576 630400 1                  EPPR0   FPT_READ
         8 002472   440000 713400                    CLIMB   alt,read
         8 002473   401400 401760                    pmme    nvectors=4
         8 002474   002537 702000 8                  TSX2    VERIFY_ERR

      754    11490    3              IF NOT READONLY# AND TAPEREC~=FILEREC THEN GOTO VERIFY_ERR;

  11490  8 002475   200020 234100                    SZN     READONLY#,,AUTO
         8 002476   002506 604000 8                  TMI     s:11491
         8 002477   002603 470400 1                  LDP0    FPT_READ+5
         8 002500   200637 720100                    LXL0    RECSIZE,,AUTO
         8 002501   002567 471400 1                  LDP1    FPT_WRITE+5
         8 002502   040140 106540                    CMPC    fill='040'O
         8 002503   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         8 002504   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0
         8 002505   002537 601000 8                  TNZ     VERIFY_ERR

      755    11491    3              END;

  11491  8 002506   002513 710000 8                  TRA     s:11495

      756    11492    3           ELSE DO;

      757    11493    3              CALL M$WRITE(FPT_WRITE) ALTRET(BAD_WRITE);

  11493  8 002507   002562 630400 1                  EPPR0   FPT_WRITE
         8 002510   440001 713400                    CLIMB   alt,write
         8 002511   401400 401760                    pmme    nvectors=4
         8 002512   002516 702000 8                  TSX2    BAD_WRITE

      758    11494    3              END;

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:133  
      759    11495    2           RECCNT=RECCNT+1;

  11495  8 002513   200572 054100                    AOS     RECCNT,,AUTO

      760    11496    2           RETURN;

  11496  8 002514   200634 221300                    LDX1  ! HEADER+4,,AUTO
         8 002515   000001 702211                    TSX2  ! 1,X1

      761    11497    2   BAD_WRITE:
      762    11498    2           IF POAS=0

  11498  8 002516   000041 235000 1     BAD_WRITE    LDA     POAS
         8 002517   002531 601000 8                  TNZ     s:11500

      763    11499    2           THEN CALL ABORT_DEF(BAD_PO_WRITE_CODE,DCBNUM(M$PO));

  11499  8 002520   000000 236007 xsym               LDQ     M$PO,DL
         8 002521   200706 756100                    STQ     @DCB#+36,,AUTO
         8 002522   200706 630500                    EPPR0   @DCB#+36,,AUTO
         8 002523   200642 450500                    STP0    @DCB#,,AUTO
         8 002524   000141 236000 9                  LDQ     97
         8 002525   200641 756100                    STQ     @CODE1,,AUTO
         8 002526   002104 701000 8                  TSX1    ABORT_DEF
         8 002527   000000 011000                    NOP     0
         8 002530   002537 710000 8                  TRA     VERIFY_ERR

      764    11500    2           ELSE CALL ABORT_DEF(BAD_AS_WRITE_CODE,POAS);

  11500  8 002531   000142 236000 9                  LDQ     98
         8 002532   200642 756100                    STQ     @DCB#,,AUTO
         8 002533   000143 236000 9                  LDQ     99
         8 002534   200641 756100                    STQ     @CODE1,,AUTO
         8 002535   002104 701000 8                  TSX1    ABORT_DEF
         8 002536   000000 011000                    NOP     0

  11498  8 002537                       VERIFY_ERR   null
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:134  
      765    11501    2   VERIFY_ERR: ;
      766    11502    2           IF POAS=0

  11502  8 002537   000041 235000 1                  LDA     POAS
         8 002540   002552 601000 8                  TNZ     s:11504

      767    11503    2           THEN CALL ABORT_DEF(VERIFY_CODE,DCBNUM(M$PO));

  11503  8 002541   000000 236007 xsym               LDQ     M$PO,DL
         8 002542   200707 756100                    STQ     @DCB#+37,,AUTO
         8 002543   200707 630500                    EPPR0   @DCB#+37,,AUTO
         8 002544   200642 450500                    STP0    @DCB#,,AUTO
         8 002545   000144 236000 9                  LDQ     100
         8 002546   200641 756100                    STQ     @CODE1,,AUTO
         8 002547   002104 701000 8                  TSX1    ABORT_DEF
         8 002550   000000 011000                    NOP     0
         8 002551   002560 710000 8                  TRA     s:11511

      768    11504    2           ELSE CALL ABORT_DEF(AS_VERIFY_CODE,POAS);

  11504  8 002552   000142 236000 9                  LDQ     98
         8 002553   200642 756100                    STQ     @DCB#,,AUTO
         8 002554   000145 236000 9                  LDQ     101
         8 002555   200641 756100                    STQ     @CODE1,,AUTO
         8 002556   002104 701000 8                  TSX1    ABORT_DEF
         8 002557   000000 011000                    NOP     0

      769    11505        /*E*    ERROR:   IDU-E$VERIFY
      770    11506                MESSAGE: Verification error on unlabeled portion of PO tape.
      771    11507                                                                           */
      772    11508        /*E*    ERROR:   IDU-E$AS_VERIFY
      773    11509                MESSAGE: Verification error on Alternate Schema tape.
      774    11510                                                                          */
      775    11511    2   END WRITE_PO;

  11511  8 002560   200634 221300                    LDX1  ! HEADER+4,,AUTO
         8 002561   000001 702211                    TSX2  ! 1,X1
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:135  

      776    11512        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:136  
      777    11513    1   WRITE_PAGE_SIZE_CHUNKS: PROC(MODE,INVEC);

  11513  8 002562   200622 741300       WRITE_PAGE_* STX1  ! @BOUND+1,,AUTO

      778    11514    2   DCL MODE SBIN;
      779    11515    2   DCL 1 INVEC,
      780    11516    2         2 BOUND UBIN(20) UNAL,
      781    11517    2         2 * BIT(16),
      782    11518    2         2 PTR$ PTR;
      783    11519    2   DCL 1 OUTVEC,
      784    11520    2         2 BOUND UBIN(20) UNAL,
      785    11521    2         2 * BIT(16),
      786    11522    2         2 PTR$ PTR;
      787    11523    2   DCL SIZE SBIN;
      788    11524        /**/
      789    11525    2           OUTVEC=INVEC;

  11525  8 002563   200624 470500                    LDP0    @INVEC,,AUTO
         8 002564   000100 100500                    MLR     fill='000'O
         8 002565   000000 000010                    ADSC9   0,,PR0                   cn=0,n=8
         8 002566   200625 000010                    ADSC9   OUTVEC,,AUTO             cn=0,n=8

      790    11526    2           SIZE=INVEC.BOUND+1;

  11526  8 002567   000000 236100                    LDQ     0,,PR0
         8 002570   000020 772000                    QRL     16
         8 002571   000001 036007                    ADLQ    1,DL
         8 002572   200627 756100                    STQ     SIZE,,AUTO

      791    11527    3           DO WHILE (SIZE>4096);

  11527  8 002573   010000 116007                    CMPQ    4096,DL
         8 002574   002617 604400 8                  TMOZ    s:11533

      792    11528    3              OUTVEC.BOUND=4095;

  11528  8 002575   200625 236100                    LDQ     OUTVEC,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:137  
         8 002576   177777 376007                    ANQ     65535,DL
         8 002577   000137 276000 9                  ORQ     95
         8 002600   200625 756100                    STQ     OUTVEC,,AUTO

      793    11529    3              CALL WRITE_PO(MODE,OUTVEC);

  11529  8 002601   200625 630500                    EPPR0   OUTVEC,,AUTO
         8 002602   200636 450500                    STP0    @BUFVEC,,AUTO
         8 002603   200623 236100                    LDQ     @MODE,,AUTO
         8 002604   200635 756100                    STQ     @MODE,,AUTO
         8 002605   002424 701000 8                  TSX1    WRITE_PO
         8 002606   000000 011000                    NOP     0

      794    11530    3              OUTVEC.PTR$=PINCRC(OUTVEC.PTR$,4096);

  11530  8 002607   200626 236100                    LDQ     Z$+1,,AUTO
         8 002610   002000 036003                    ADLQ    1024,DU
         8 002611   200626 756100                    STQ     Z$+1,,AUTO

      795    11531    3              SIZE=SIZE-4096;

  11531  8 002612   010000 336007                    LCQ     4096,DL
         8 002613   200627 056100                    ASQ     SIZE,,AUTO

      796    11532    3              END;

  11532  8 002614   200627 235100                    LDA     SIZE,,AUTO
         8 002615   010000 115007                    CMPA    4096,DL
         8 002616   002575 605400 8                  TPNZ    s:11528

      797    11533    3           DO WHILE (SIZE>0);

  11533  8 002617   200627 235100                    LDA     SIZE,,AUTO
         8 002620   002640 604400 8                  TMOZ    s:11538

      798    11534    3              OUTVEC.BOUND=SIZE-1;

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:138  
  11534  8 002621   200627 236100                    LDQ     SIZE,,AUTO
         8 002622   000001 136007                    SBLQ    1,DL
         8 002623   000020 736000                    QLS     16
         8 002624   200625 676100                    ERQ     OUTVEC,,AUTO
         8 002625   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 002626   200625 656100                    ERSQ    OUTVEC,,AUTO

      799    11535    3              CALL WRITE_PO(MODE,OUTVEC);

  11535  8 002627   200625 630500                    EPPR0   OUTVEC,,AUTO
         8 002630   200636 450500                    STP0    @BUFVEC,,AUTO
         8 002631   200623 236100                    LDQ     @MODE,,AUTO
         8 002632   200635 756100                    STQ     @MODE,,AUTO
         8 002633   002424 701000 8                  TSX1    WRITE_PO
         8 002634   000000 011000                    NOP     0

      800    11536    3              SIZE=SIZE-4096;

  11536  8 002635   010000 336007                    LCQ     4096,DL
         8 002636   200627 056100                    ASQ     SIZE,,AUTO

      801    11537    3              END;

  11537  8 002637   002621 605400 8                  TPNZ    s:11534

      802    11538    2           RETURN;

  11538  8 002640   200622 221300                    LDX1  ! @BOUND+1,,AUTO
         8 002641   000001 702211                    TSX2  ! 1,X1

      803    11539    2   END WRITE_PAGE_SIZE_CHUNKS;
      804    11540        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:139  
      805    11541    1   WRITE_HEADER: PROC(BIAS,TYPE,SIZE,MODE,START);

  11541  8 002642   200622 741300       WRITE_HEADER STX1  ! @BOUND+1,,AUTO

      806    11542    2   DCL BIAS SBIN;
      807    11543    2   DCL TYPE SBIN;
      808    11544    2   DCL SIZE SBIN;
      809    11545    2   DCL MODE SBIN;
      810    11546    2   DCL START UBIN(20) UNAL;
      811    11547        /**/
      812    11548    2   DCL 1 HEADER,
      813    11549    2         2 BASE SBIN WORD,
      814    11550    2         2 TYPE SBIN WORD,
      815    11551    2         2 LSIZE SBIN WORD,
      816    11552    2         2 MODE BIT(1),
      817    11553    2         2 START SBIN(35) UNAL;
      818    11554        /**/
      819    11555    3           IF TYPE = %MPROCTC AND I > 0 THEN DO;

  11555  8 002643   200624 470500                    LDP0    @TYPE,,AUTO
         8 002644   000000 235100                    LDA     0,,PR0
         8 002645   000004 115007                    CMPA    4,DL
         8 002646   002723 601000 8                  TNZ     s:11565
         8 002647   200015 236100                    LDQ     I,,AUTO
         8 002650   002723 604400 8                  TMOZ    s:11565

      820    11556    3              IF BIAS = 0 THEN MONNODESTUFF.CBIAS(I-1) = 'Page';

  11556  8 002651   200623 471500                    LDP1    @BIAS,,AUTO
         8 002652   100000 235100                    LDA     0,,PR1
         8 002653   002661 601000 8                  TNZ     s:11557

  11556  8 002654   000016 402007                    MPY     14,DL
         8 002655   000000 620006                    EAX0    0,QL
         8 002656   000255 236000 2                  LDQ     AFMT1+17
         8 002657   000571 756010 1                  STQ     BOOTSTUFF+109,X0
         8 002660   002702 710000 8                  TRA     s:11560
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:140  

      821    11557    3              ELSE IF BIAS = -2 THEN MONNODESTUFF.CBIAS(I-1) = '8 Wd';

  11557  8 002661   000025 115000 9                  CMPA    21
         8 002662   002670 601000 8                  TNZ     s:11558

  11557  8 002663   000016 402007                    MPY     14,DL
         8 002664   000000 620006                    EAX0    0,QL
         8 002665   000256 236000 2                  LDQ     AFMT1+18
         8 002666   000571 756010 1                  STQ     BOOTSTUFF+109,X0
         8 002667   002702 710000 8                  TRA     s:11560

      822    11558    3                 ELSE IF BIAS = - 1 THEN MONNODESTUFF.CBIAS(I-1) = 'Even';

  11558  8 002670   000027 115000 xsym               CMPA    B_VECTNIL+23
         8 002671   002677 601000 8                  TNZ     s:11559

  11558  8 002672   000016 402007                    MPY     14,DL
         8 002673   000000 620006                    EAX0    0,QL
         8 002674   000257 236000 2                  LDQ     AFMT1+19
         8 002675   000571 756010 1                  STQ     BOOTSTUFF+109,X0
         8 002676   002702 710000 8                  TRA     s:11560

      823    11559    3                    ELSE MONNODESTUFF.BIAS(I-1) = BIAS;

  11559  8 002677   000016 402007                    MPY     14,DL
         8 002700   100000 235100                    LDA     0,,PR1
         8 002701   000571 755006 1                  STA     BOOTSTUFF+109,QL

      824    11560    3              MONNODESTUFF.SIZE(I-1)=SIZE;

  11560  8 002702   200015 236100                    LDQ     I,,AUTO
         8 002703   000016 402007                    MPY     14,DL
         8 002704   200625 473500                    LDP3    @SIZE,,AUTO
         8 002705   300000 235100                    LDA     0,,PR3
         8 002706   000572 755006 1                  STA     BOOTSTUFF+110,QL

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:141  
      825    11561    3              MONNODESTUFF.PADDR(I-1)=MROREC.PADDR;

  11561  8 002707   001132 235000 1                  LDA     MROREC+1
         8 002710   000573 755006 1                  STA     BOOTSTUFF+111,QL

      826    11562    3              MONNODESTUFF.NODE_NAME(I-1)=MROREC.NINFO.NODE_NAME.TXT(I);

  11562  8 002711   200015 236100                    LDQ     I,,AUTO
         8 002712   000054 402007                    MPY     44,DL
         8 002713   200644 756100                    STQ     @DCB#+2,,AUTO
         8 002714   200015 236100                    LDQ     I,,AUTO
         8 002715   000070 402007                    MPY     56,DL
         8 002716   200644 235100                    LDA     @DCB#+2,,AUTO
         8 002717   040006 100405                    MLR     fill='040'O
         8 002720   001133 200037 1                  ADSC9   MROREC+2,A               cn=1,n=31
         8 002721   000574 000040 1                  ADSC9   BOOTSTUFF+112,Q          cn=0,n=32

      827    11563    3              END;

  11563  8 002722   003005 710000 8                  TRA     s:11572

      828    11564    3           ELSE DO;

      829    11565    3              IF BIAS = 0 THEN BOOTSTUFF.CBIAS(TYPE+1) = 'Page';

  11565  8 002723   200623 471500                    LDP1    @BIAS,,AUTO
         8 002724   100000 235100                    LDA     0,,PR1
         8 002725   002735 601000 8                  TNZ     s:11566

  11565  8 002726   000000 236100                    LDQ     0,,PR0
         8 002727   000003 402007                    MPY     3,DL
         8 002730   000001 736000                    QLS     1
         8 002731   000000 620006                    EAX0    0,QL
         8 002732   000255 236000 2                  LDQ     AFMT1+17
         8 002733   000425 756010 1                  STQ     BOOTSTUFF+9,X0
         8 002734   002764 710000 8                  TRA     s:11569

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:142  
      830    11566    3              ELSE IF BIAS = -2 THEN BOOTSTUFF.CBIAS(TYPE+1) = '8 Wd';

  11566  8 002735   000025 115000 9                  CMPA    21
         8 002736   002746 601000 8                  TNZ     s:11567

  11566  8 002737   000000 236100                    LDQ     0,,PR0
         8 002740   000003 402007                    MPY     3,DL
         8 002741   000001 736000                    QLS     1
         8 002742   000000 620006                    EAX0    0,QL
         8 002743   000256 236000 2                  LDQ     AFMT1+18
         8 002744   000425 756010 1                  STQ     BOOTSTUFF+9,X0
         8 002745   002764 710000 8                  TRA     s:11569

      831    11567    3                 ELSE IF BIAS = -1 THEN BOOTSTUFF.CBIAS(TYPE+1) = 'Even';

  11567  8 002746   000027 115000 xsym               CMPA    B_VECTNIL+23
         8 002747   002757 601000 8                  TNZ     s:11568

  11567  8 002750   000000 236100                    LDQ     0,,PR0
         8 002751   000003 402007                    MPY     3,DL
         8 002752   000001 736000                    QLS     1
         8 002753   000000 620006                    EAX0    0,QL
         8 002754   000257 236000 2                  LDQ     AFMT1+19
         8 002755   000425 756010 1                  STQ     BOOTSTUFF+9,X0
         8 002756   002764 710000 8                  TRA     s:11569

      832    11568    3                    ELSE BOOTSTUFF.BIAS(TYPE+1) = BIAS;

  11568  8 002757   000000 236100                    LDQ     0,,PR0
         8 002760   000003 402007                    MPY     3,DL
         8 002761   000001 736000                    QLS     1
         8 002762   100000 235100                    LDA     0,,PR1
         8 002763   000425 755006 1                  STA     BOOTSTUFF+9,QL

      833    11569    3              BOOTSTUFF.SIZE(TYPE+1)=SIZE;

  11569  8 002764   000000 236100                    LDQ     0,,PR0
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:143  
         8 002765   000003 402007                    MPY     3,DL
         8 002766   000001 736000                    QLS     1
         8 002767   200625 473500                    LDP3    @SIZE,,AUTO
         8 002770   300000 235100                    LDA     0,,PR3
         8 002771   000426 755006 1                  STA     BOOTSTUFF+10,QL

      834    11570    3              BOOTSTUFF.START(TYPE+1)=START;

  11570  8 002772   000000 236100                    LDQ     0,,PR0
         8 002773   000003 402007                    MPY     3,DL
         8 002774   000001 736000                    QLS     1
         8 002775   000044 402007                    MPY     36,DL
         8 002776   000000 116003                    CMPQ    0,DU
         8 002777   003001 605000 8                  TPL     s:11570+7
         8 003000   000044 036003                    ADLQ    36,DU
         8 003001   200627 474500                    LDP4    @START,,AUTO
         8 003002   003006 061500                    CSR     bolr='003'O
         8 003003   400000 000024                    BDSC    0,,PR4                   by=0,bit=0,n=20
         8 003004   000427 000044 1                  BDSC    BOOTSTUFF+11,Q           by=0,bit=0,n=36

      835    11571    3              END;

      836    11572    2           HEADER.BASE=BIAS;

  11572  8 003005   100000 235100                    LDA     0,,PR1
         8 003006   200630 755100                    STA     HEADER,,AUTO

      837    11573    2           HEADER.TYPE=TYPE;

  11573  8 003007   000000 235100                    LDA     0,,PR0
         8 003010   200631 755100                    STA     HEADER+1,,AUTO

      838    11574    2           HEADER.LSIZE=SIZE;

  11574  8 003011   300000 235100                    LDA     0,,PR3
         8 003012   200632 755100                    STA     HEADER+2,,AUTO

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:144  
      839    11575    2           HEADER.START=START;

  11575  8 003013   200627 474500                    LDP4    @START,,AUTO
         8 003014   003100 061500                    CSR     bolr='003'O
         8 003015   400000 000024                    BDSC    0,,PR4                   by=0,bit=0,n=20
         8 003016   200633 010043                    BDSC    HEADER+3,,AUTO           by=0,bit=1,n=35

      840    11576    2           HEADER.MODE=~BINBIT(MODE,1);

  11576  8 003017   200626 475500                    LDP5    @MODE,,AUTO
         8 003020   500000 236100                    LDQ     0,,PR5
         8 003021   000043 736000                    QLS     35
         8 003022   400000 676003                    ERQ     -131072,DU
         8 003023   200633 676100                    ERQ     HEADER+3,,AUTO
         8 003024   400000 376003                    ANQ     -131072,DU
         8 003025   200633 656100                    ERSQ    HEADER+3,,AUTO

      841    11577    2           CALL WRITE_PO(BINARY,VECTOR(HEADER));

  11577  8 003026   000146 235000 9                  LDA     102
         8 003027   200644 452500                    STP2    @DCB#+2,,AUTO
         8 003030   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 003031   000630 036003                    ADLQ    408,DU
         8 003032   200710 757100                    STAQ    @DCB#+38,,AUTO
         8 003033   200710 636500                    EPPR6   @DCB#+38,,AUTO
         8 003034   200636 456500                    STP6    @BUFVEC,,AUTO
         8 003035   000014 236000 9                  LDQ     12
         8 003036   200635 756100                    STQ     @MODE,,AUTO
         8 003037   002424 701000 8                  TSX1    WRITE_PO
         8 003040   000000 011000                    NOP     0

      842    11578    2           RETURN;

  11578  8 003041   200622 221300                    LDX1  ! @BOUND+1,,AUTO
         8 003042   000001 702211                    TSX2  ! 1,X1

      843    11579    2   END WRITE_HEADER;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:145  
      844    11580        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:146  
      845    11581    1   READ_KEYED: PROC(KEY) ALTRET;

  11581  8 003043   200622 741300       READ_KEYED   STX1  ! @BOUND+1,,AUTO

      846    11582    2   DCL 1 KEY,
      847    11583    2         2 CNT UBIN BYTE UNAL,
      848    11584    2         2 TXT CHAR(31);
      849    11585        %FPT_READ (DCB=M$INPUT,KEY=LAST_KEY_READ,KEYS=YES,KEYR=YES,WAIT=YES);
      850    11624        /**/
      851    11625    2           LAST_KEY_READ=KEY;

  11625  8 003044   200623 470500                    LDP0    @KEY,,AUTO
         8 003045   000000 100500                    MLR     fill='000'O
         8 003046   000000 000040                    ADSC9   0,,PR0                   cn=0,n=32
         8 003047   001111 000040 1                  ADSC9   LAST_KEY_READ            cn=0,n=32

      852    11626    2           IF IOBUF.BOUND = BITBIN('3777777'O) THEN

  11626  8 003050   000260 236000 2                  LDQ     AFMT1+20
         8 003051   000017 772000                    QRL     15
         8 003052   200644 756100                    STQ     @DCB#+2,,AUTO
         8 003053   000112 236000 1                  LDQ     IOBUF
         8 003054   000020 772000                    QRL     16
         8 003055   200644 116100                    CMPQ    @DCB#+2,,AUTO
         8 003056   003063 601000 8                  TNZ     s:11628

      853    11627    2              CALL GET_MORE_SPACE(0);

  11627  8 003057   000015 236000 9                  LDQ     13
         8 003060   200625 756100                    STQ     @SIZE,,AUTO
         8 003061   003146 701000 8                  TSX1    GET_MORE_SPACE
         8 003062   000000 011000                    NOP     0

      854    11628    2           FPT_READ.BUF_=IOBUF;

  11628  8 003063   000112 237000 1                  LDAQ    IOBUF
         8 003064   002620 757000 1                  STAQ    FPT_READ+4
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:147  

      855    11629    2           CALL M$READ(FPT_READ) ALTRET(BAD_READ);

  11629  8 003065   002614 630400 1                  EPPR0   FPT_READ
         8 003066   440000 713400                    CLIMB   alt,read
         8 003067   401400 401760                    pmme    nvectors=4
         8 003070   003106 702000 8                  TSX2    BAD_READ

      856    11630    2           OUTBUF=IOBUF;

  11630  8 003071   000112 237000 1                  LDAQ    IOBUF
         8 003072   200566 757100                    STAQ    OUTBUF,,AUTO

      857    11631    2           OUTBUF.BOUND=M$INPUT$->F$DCB.ARS-1;

  11631  8 003073   200010 470500                    LDP0    M$INPUT$,,AUTO
         8 003074   000000 236100                    LDQ     0,,PR0
         8 003075   000001 136007                    SBLQ    1,DL
         8 003076   000020 736000                    QLS     16
         8 003077   200566 676100                    ERQ     OUTBUF,,AUTO
         8 003100   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 003101   200566 656100                    ERSQ    OUTBUF,,AUTO

      858    11632    2           CALL ZAP_TRAILING_BYTES;

  11632  8 003102   003347 701000 8                  TSX1    ZAP_TRAILING_BYTES
         8 003103   000000 011000                    NOP     0

      859    11633    2           RETURN;

  11633  8 003104   200622 221300                    LDX1  ! @BOUND+1,,AUTO
         8 003105   000001 702211                    TSX2  ! 1,X1

      860    11634    2   BAD_READ:
      861    11635    2           ERRCODE=B$TCB$->B$TCB.ALT$->B$ALT.ERR;

  11635  8 003106   000000 470400 xsym  BAD_READ     LDP0    B$TCB$
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:148  
         8 003107   000000 471500                    LDP1    0,,PR0
         8 003110   100102 236100                    LDQ     66,,PR1
         8 003111   200565 756100                    STQ     ERRCODE,,AUTO

      862    11636    3           IF ERRCODE.CODE=%E$NOKEY THEN DO;

  11636  8 003112   200565 236100                    LDQ     ERRCODE,,AUTO
         8 003113   377770 376007                    ANQ     131064,DL
         8 003114   001020 116007                    CMPQ    528,DL
         8 003115   003122 601000 8                  TNZ     s:11640

      863    11637    3              OUTBUF=VECTOR(ERASE);

  11637  8 003116   000150 237000 9                  LDAQ    104
         8 003117   200566 757100                    STAQ    OUTBUF,,AUTO

      864    11638    3              ALTRETURN;

  11638  8 003120   200622 221300                    LDX1  ! @BOUND+1,,AUTO
         8 003121   000000 702211                    TSX2  ! 0,X1

      865    11639    3              END;
      866    11640    3           IF ERRCODE.CODE=%E$LD THEN DO;

  11640  8 003122   000070 116007                    CMPQ    56,DL
         8 003123   003134 601000 8                  TNZ     s:11645

      867    11641    3              CALL GET_MORE_SPACE;

  11641  8 003124   000001 236000 xsym               LDQ     B_VECTNIL+1
         8 003125   200625 756100                    STQ     @SIZE,,AUTO
         8 003126   003146 701000 8                  TSX1    GET_MORE_SPACE
         8 003127   000000 011000                    NOP     0

      868    11642    3              FPT_READ.BUF_=IOBUF;

  11642  8 003130   000112 237000 1                  LDAQ    IOBUF
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:149  
         8 003131   002620 757000 1                  STAQ    FPT_READ+4

      869    11643    3              CALL M$RETRY;

  11643  8 003132   010010 713400                    CLIMB   4104
         8 003133   000000 401760                    pmme    nvectors=0

      870    11644    3              END;

      871    11645    2           CALL ABORT_DEF(BAD_READ_CODE,DCBNUM(M$INPUT));

  11645  8 003134   000000 236007 xsym               LDQ     M$INPUT,DL
         8 003135   200712 756100                    STQ     @DCB#+40,,AUTO
         8 003136   200712 630500                    EPPR0   @DCB#+40,,AUTO
         8 003137   200642 450500                    STP0    @DCB#,,AUTO
         8 003140   000140 236000 9                  LDQ     96
         8 003141   200641 756100                    STQ     @CODE1,,AUTO
         8 003142   002104 701000 8                  TSX1    ABORT_DEF
         8 003143   000000 011000                    NOP     0

      872    11646    2   END READ_KEYED;

  11646  8 003144   200622 221300                    LDX1  ! @BOUND+1,,AUTO
         8 003145   000001 702211                    TSX2  ! 1,X1

      873    11647        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:150  
      874    11648    1   GET_MORE_SPACE: PROC (GMS_JUNK);

  11648  8 003146   200624 741300       GET_MORE_SP* STX1  ! @TYPE,,AUTO

      875    11649        /**/
      876    11650    2   DCL GMS_JUNK BIT(1) ALIGNED;
      877    11651        /**/
      878    11652    2   DCL SZ SBIN;
      879    11653        /**/
      880    11654    2           IF ADDR(GMS_JUNK) = ADDR(NIL) THEN CALL M$SENV;

  11654  8 003147   200625 236100                    LDQ     @GMS_JUNK,,AUTO
         8 003150   000001 116000 xsym               CMPQ    B_VECTNIL+1
         8 003151   003154 601000 8                  TNZ     s:11655

  11654  8 003152   010011 713400                    CLIMB   4105
         8 003153   000000 401760                    pmme    nvectors=0

      881    11655    2           SZ=SVIOBUF.BOUND/4+1025;

  11655  8 003154   001127 236000 1                  LDQ     X1
         8 003155   000020 772000                    QRL     16
         8 003156   000002 772000                    QRL     2
         8 003157   002001 036007                    ADLQ    1025,DL
         8 003160   200626 756100                    STQ     SZ,,AUTO

      882    11656    2           CALL IDD$GETSEG(SVIOBUF,SZ) ALTRET(ABRT);

  11656  8 003161   200626 630500                    EPPR0   SZ,,AUTO
         8 003162   200645 450500                    STP0    @DCB#+3,,AUTO
         8 003163   000001 236000 9                  LDQ     1
         8 003164   200644 756100                    STQ     @DCB#+2,,AUTO
         8 003165   200644 630500                    EPPR0   @DCB#+2,,AUTO
         8 003166   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 003167   000000 701000 xent               TSX1    IDD$GETSEG
         8 003170   003241 702000 8                  TSX2    ABRT

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:151  
      883    11657    2           IF ID_VERIFLG THEN

  11657  8 003171   000000 234000 xsym               SZN     ID_VERIFLG
         8 003172   003203 605000 8                  TPL     s:11659

      884    11658    2              CALL IDD$GETSEG(ID_VERISEG,SZ) ALTRET(ABRT);

  11658  8 003173   200626 630500                    EPPR0   SZ,,AUTO
         8 003174   200645 450500                    STP0    @DCB#+3,,AUTO
         8 003175   000003 236000 9                  LDQ     3
         8 003176   200644 756100                    STQ     @DCB#+2,,AUTO
         8 003177   200644 630500                    EPPR0   @DCB#+2,,AUTO
         8 003200   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 003201   000000 701000 xent               TSX1    IDD$GETSEG
         8 003202   003241 702000 8                  TSX2    ABRT

      885    11659    2           IOBUF.BOUND=SVIOBUF.BOUND+POFFC(SVIOBUF.PTR$,IOBUF.PTR$);

  11659  8 003203   000113 236000 1                  LDQ     IOBUF+1
         8 003204   000020 772000                    QRL     16
         8 003205   200644 756100                    STQ     @DCB#+2,,AUTO
         8 003206   001130 236000 1                  LDQ     X1+1
         8 003207   000020 772000                    QRL     16
         8 003210   200644 136100                    SBLQ    @DCB#+2,,AUTO
         8 003211   200645 756100                    STQ     @DCB#+3,,AUTO
         8 003212   001127 236000 1                  LDQ     X1
         8 003213   000020 772000                    QRL     16
         8 003214   200646 756100                    STQ     @DCB#+4,,AUTO
         8 003215   200645 236100                    LDQ     @DCB#+3,,AUTO
         8 003216   200646 036100                    ADLQ    @DCB#+4,,AUTO
         8 003217   000020 736000                    QLS     16
         8 003220   000112 676000 1                  ERQ     IOBUF
         8 003221   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 003222   000112 656000 1                  ERSQ    IOBUF

      886    11660    2          IF ADDR(GMS_JUNK) = ADDR(NIL) THEN CALL M$PRECORD(FPT_PRECORDM1) ALTRET(ABRT
             11660                    );
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:152  

  11660  8 003223   200625 236100                    LDQ     @GMS_JUNK,,AUTO
         8 003224   000001 116000 xsym               CMPQ    B_VECTNIL+1
         8 003225   003232 601000 8                  TNZ     s:11661

  11660  8 003226   000402 630400 1                  EPPR0   FPT_PRECORDM1
         8 003227   440003 713400                    CLIMB   alt,+16387
         8 003230   401000 401760                    pmme    nvectors=3
         8 003231   003241 702000 8                  TSX2    ABRT

      887    11661    2           IF ADDR(GMS_JUNK) = ADDR(NIL) THEN CALL M$RENV;

  11661  8 003232   200625 236100                    LDQ     @GMS_JUNK,,AUTO
         8 003233   000001 116000 xsym               CMPQ    B_VECTNIL+1
         8 003234   003237 601000 8                  TNZ     s:11662

  11661  8 003235   010016 713400                    CLIMB   4110
         8 003236   000000 401760                    pmme    nvectors=0

      888    11662    2           RETURN;

  11662  8 003237   200624 221300                    LDX1  ! @TYPE,,AUTO
         8 003240   000001 702211                    TSX2  ! 1,X1

      889    11663    2   ABRT:
      890    11664    2           CALL ABORT_DEF(NO_BUFFER_CODE,DCBNUM(M$INPUT));

  11664  8 003241   000000 236007 xsym  ABRT         LDQ     M$INPUT,DL
         8 003242   200713 756100                    STQ     @DCB#+41,,AUTO
         8 003243   200713 630500                    EPPR0   @DCB#+41,,AUTO
         8 003244   200642 450500                    STP0    @DCB#,,AUTO
         8 003245   000134 236000 9                  LDQ     92
         8 003246   200641 756100                    STQ     @CODE1,,AUTO
         8 003247   002104 701000 8                  TSX1    ABORT_DEF
         8 003250   000000 011000                    NOP     0

      891    11665    2   END GET_MORE_SPACE;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:153  

  11665  8 003251   200624 221300                    LDX1  ! @TYPE,,AUTO
         8 003252   000001 702211                    TSX2  ! 1,X1

      892    11666        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:154  
      893    11667    1   WRITE_PATCH: PROC;

  11667  8 003253   200604 741300       WRITE_PATCH  STX1  ! MDNAMBUF+2,,AUTO

      894    11668    3           DO WHILE('1'B);

      895    11669    3              IOBUF.PTR$->CARDIMAGE=' ';

  11669  8 003254   000113 470400 1                  LDP0    IOBUF+1
         8 003255   040100 100400                    MLR     fill='040'O
         8 003256   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         8 003257   000000 000120                    ADSC9   0,,PR0                   cn=0,n=80

      896    11670    3              CALL READ_SEQUENTIAL ALTRET(PATCH_DONE);

  11670  8 003260   002335 701000 8                  TSX1    READ_SEQUENTIAL
         8 003261   003333 702000 8                  TSX2    PATCH_DONE

      897    11671    3              CALL WRITE_PO(ASCII,VECTOR(IOBUF.PTR$->CARDIMAGE));

  11671  8 003262   000126 235000 9                  LDA     86
         8 003263   000113 236000 1                  LDQ     IOBUF+1
         8 003264   200714 757100                    STAQ    @DCB#+42,,AUTO
         8 003265   200714 630500                    EPPR0   @DCB#+42,,AUTO
         8 003266   200636 450500                    STP0    @BUFVEC,,AUTO
         8 003267   000015 236000 9                  LDQ     13
         8 003270   200635 756100                    STQ     @MODE,,AUTO
         8 003271   002424 701000 8                  TSX1    WRITE_PO
         8 003272   000000 011000                    NOP     0

      898    11672    4              IF OUTBUF.BOUND>79 THEN DO;

  11672  8 003273   200566 236100                    LDQ     OUTBUF,,AUTO
         8 003274   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 003275   000024 116003                    CMPQ    20,DU
         8 003276   003317 602000 8                  TNC     s:11682

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:155  
      899    11673    4                 TRUNCATED=TRUNCATED+1;

  11673  8 003277   200016 054100                    AOS     TRUNCATED,,AUTO

      900    11674    4                 CALL X$WRITE(F_FDS,VECTOR(PTRUNCFMT),OUTBUF);

  11674  8 003300   200566 630500                    EPPR0   OUTBUF,,AUTO
         8 003301   200646 450500                    STP0    @DCB#+4,,AUTO
         8 003302   000154 237000 9                  LDAQ    108
         8 003303   200644 757100                    STAQ    @DCB#+2,,AUTO
         8 003304   200644 630500                    EPPR0   @DCB#+2,,AUTO
         8 003305   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 003306   000000 701000 xent               TSX1    X$WRITE
         8 003307   000000 011000                    NOP     0

      901    11675    4                 FPT_EXIT.V.STEPCC# = 4;

  11675  8 003310   004000 236003                    LDQ     2048,DU
         8 003311   000004 552040 7                  STBQ    FPT_EXIT+4,'40'O

      902    11676    4                 CALL XUR$ERRMSG(TRUNC_CODE);

  11676  8 003312   000147 630400 9                  EPPR0   103
         8 003313   000017 631400 xsym               EPPR1   B_VECTNIL+15
         8 003314   000000 701000 xent               TSX1    XUR$ERRMSG
         8 003315   000000 011000                    NOP     0

      903    11677        /*E*    ERROR:   IDU-E$ID_PTRUNC
      904    11678                MESSAGE: Above patch card truncated to 80 characters.
      905    11679                                                                           */
      906    11680    4                 END;

  11680  8 003316   003331 710000 8                  TRA     s:11685

      907    11681    4              ELSE DO;

      908    11682    4                 IF ID_LISTFLG THEN
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:156  

  11682  8 003317   000000 234000 xsym               SZN     ID_LISTFLG
         8 003320   003331 605000 8                  TPL     s:11685

      909    11683    4                    CALL X$WRITE(F_FDS,VECTOR(PTCHFMT),OUTBUF);

  11683  8 003321   200566 630500                    EPPR0   OUTBUF,,AUTO
         8 003322   200646 450500                    STP0    @DCB#+4,,AUTO
         8 003323   000160 237000 9                  LDAQ    112
         8 003324   200644 757100                    STAQ    @DCB#+2,,AUTO
         8 003325   200644 630500                    EPPR0   @DCB#+2,,AUTO
         8 003326   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 003327   000000 701000 xent               TSX1    X$WRITE
         8 003330   000000 011000                    NOP     0

      910    11684    4                 END;

      911    11685    3              I=I+1;

  11685  8 003331   200015 054100                    AOS     I,,AUTO

      912    11686    3              END;

  11686  8 003332   003254 710000 8                  TRA     s:11669

      913    11687    2   PATCH_DONE:
      914    11688    2           RETURN;

  11688  8 003333   200604 221300       PATCH_DONE   LDX1  ! MDNAMBUF+2,,AUTO
         8 003334   000001 702211                    TSX2  ! 1,X1

      915    11689    2   END WRITE_PATCH;
      916    11690        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:157  
      917    11691    1   WRITE_LO: PROC(BUFVEC);

  11691  8 003335   200604 741300       WRITE_LO     STX1  ! MDNAMBUF+2,,AUTO

      918    11692    2   DCL BUFVEC BIT(72) UNAL;
      919    11693        %FPT_WRITE (DCB=M$LO,VFC=NO);
      920    11724        /**/
      921    11725    2           FPT_WRITE.BUF_=BUFVEC;

  11725  8 003336   200605 470500                    LDP0    @BUFVEC,,AUTO
         8 003337   003000 060500                    CSL     bolr='003'O
         8 003340   000000 000110                    BDSC    0,,PR0                   by=0,bit=0,n=72
         8 003341   002636 000110 1                  BDSC    FPT_WRITE+4              by=0,bit=0,n=72

      922    11726    2           CALL M$WRITE(FPT_WRITE);

  11726  8 003342   002632 630400 1                  EPPR0   FPT_WRITE
         8 003343   040001 713400                    CLIMB   write
         8 003344   401400 401760                    pmme    nvectors=4

      923    11727    2           RETURN;

  11727  8 003345   200604 221300                    LDX1  ! MDNAMBUF+2,,AUTO
         8 003346   000001 702211                    TSX2  ! 1,X1

      924    11728    2   END WRITE_LO;
      925    11729        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:158  
      926    11730    1   ZAP_TRAILING_BYTES: PROC;

  11730  8 003347   200624 741300       ZAP_TRAILIN* STX1  ! @TYPE,,AUTO

      927    11731        /**/
      928    11732    2   DCL Z$ PTR;
      929    11733    2   DCL 1 Z REDEF Z$,
      930    11734    2         2 W UBIN(18) UNAL,
      931    11735    2         2 B UBIN(2) UNAL,
      932    11736    2         2 BT UBIN(4) UNAL,
      933    11737    2         2 SEGID BIT(12);
      934    11738    2   DCL CBASE CHAR(CSIZ) BASED;
      935    11739    2   DCL CSIZ SBIN;
      936    11740    2   DCL BLANKS CHAR(4) CONSTANT INIT('    ');
      937    11741        /**/
      938    11742    2           Z$=PINCRC(OUTBUF.PTR$,OUTBUF.BOUND+1);

  11742  8 003350   200566 236100                    LDQ     OUTBUF,,AUTO
         8 003351   000020 772000                    QRL     16
         8 003352   000020 736000                    QLS     16
         8 003353   200000 036007                    ADLQ    65536,DL
         8 003354   200567 036100                    ADLQ    OUTBUF+1,,AUTO
         8 003355   200625 756100                    STQ     Z$,,AUTO

      939    11743    2           CSIZ=MOD(4-Z.B,4);

  11743  8 003356   200625 236100                    LDQ     Z$,,AUTO
         8 003357   000020 772000                    QRL     16
         8 003360   000003 376007                    ANQ     3,DL
         8 003361   000027 676000 xsym               ERQ     B_VECTNIL+23
         8 003362   000005 036007                    ADLQ    5,DL
         8 003363   000004 506007                    DIV     4,DL
         8 003364   200626 755100                    STA     CSIZ,,AUTO

      940    11744    2           IF CSIZ>0 THEN Z$->CBASE=BLANKS;

  11744  8 003365   000000 115003                    CMPA    0,DU
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:159  
         8 003366   003374 604400 8                  TMOZ    s:11745

  11744  8 003367   200625 470500                    LDP0    Z$,,AUTO
         8 003370   000000 620005                    EAX0    0,AL
         8 003371   040140 100400                    MLR     fill='040'O
         8 003372   000073 000004 2                  ADSC9   BLANKS                   cn=0,n=4
         8 003373   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0

      941    11745    2           RETURN;

  11745  8 003374   200624 221300                    LDX1  ! @TYPE,,AUTO
         8 003375   000001 702211                    TSX2  ! 1,X1

      942    11746    2   END ZAP_TRAILING_BYTES;
      943    11747        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:160  
      944    11748    1   WRITE_MONITOR_SCHEMA: PROC;

  11748  8 003376   200604 741300       WRITE_MONIT* STX1  ! MDNAMBUF+2,,AUTO

      945    11749        /**/
      946    11750    2   DCL 1 DNAMBUF,
      947    11751    2         2 BOUND UBIN(20) UNAL,
      948    11752    2         2 FLAGS BIT(16),
      949    11753    2         2 PTR$ PTR;
      950    11754    2   DCL 1 DNAMEREC(0:0) BASED(DNAMBUF.PTR$),
      951    11755    2         2 CNT UBIN HALF UNAL,
      952    11756    2         2 FCG CHAR(2);
      953    11757    2   DCL 1 FCGHDR STATIC,
      954    11758    2         2 FCG CHAR(2),
      955    11759    2         2 * UBIN HALF UNAL INIT(0),
      956    11760    2         2 NPR UBIN WORD,
      957    11761    2         2 NOU UBIN WORD INIT(1);
      958    11762    2   DCL 1 DBHDR,
      959    11763    2         2 NPTR SBIN WORD UNAL,
      960    11764    2         2 RECS (0:4),
      961    11765    2           3 * SBIN WORD UNAL,
      962    11766    2           3 SIZE SBIN WORD UNAL;
      963    11767    2   DCL 1 FIRST_DEBUG_KEY CONSTANT ALIGNED,
      964    11768    2         2 * UBIN BYTE UNAL INIT(7),
      965    11769    2         2 * BIT(9) INIT('777'O),
      966    11770    2         2 * UBIN HALF UNAL INIT(0),
      967    11771    2         2 * UBIN HALF UNAL INIT(0),
      968    11772    2         2 * UBIN BYTE UNAL INIT(0),
      969    11773    2         2 * UBIN BYTE UNAL INIT(0);
      970    11774        %ERRCODE (NAME=SCHEMA_ERR_CODE,CODE#=%E$SCHEMA_ERR);
      971    11781        /**/
      972    11782    2           CALL WRITE_HEADER(0,MSCHEMTC,0,BINARY,0);

  11782  8 003377   000014 237000 9                  LDAQ    12
         8 003400   200626 757100                    STAQ    CSIZ,,AUTO
         8 003401   000162 237000 9                  LDAQ    114
         8 003402   200624 757100                    STAQ    @TYPE,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:161  
         8 003403   000015 236000 9                  LDQ     13
         8 003404   200623 756100                    STQ     @KEY,,AUTO
         8 003405   002642 701000 8                  TSX1    WRITE_HEADER
         8 003406   000000 011000                    NOP     0

      973    11783    2           CALL READ_KEYED(FIRST_DEBUG_KEY);

  11783  8 003407   000164 236000 9                  LDQ     116
         8 003410   200623 756100                    STQ     @KEY,,AUTO
         8 003411   003043 701000 8                  TSX1    READ_KEYED
         8 003412   000000 011000                    NOP     0

      974    11784    2           DNAMBUF = MDNAMBUF;

  11784  8 003413   200602 237100                    LDAQ    MDNAMBUF,,AUTO
         8 003414   200605 755100                    STA     DNAMBUF,,AUTO
         8 003415   200606 756100                    STQ     @LAST,,AUTO

      975    11785    2           DBKEY.CNT=7;

  11785  8 003416   007000 236003                    LDQ     3584,DU
         8 003417   001111 552040 1                  STBQ    LAST_KEY_READ,'40'O

      976    11786    3           DO WHILE (DBKEY.SEVENS='777'O AND DBKEY.CNT=7 AND RUMKEY.TYPE~=20
             11786                    /* TYPE=RUM */ );

  11786  8 003420   004137 710000 8                  TRA     s:11852

      977    11787    3              CALL READ_SEQUENTIAL;

  11787  8 003421   002335 701000 8                  TSX1    READ_SEQUENTIAL
         8 003422   000000 011000                    NOP     0

      978    11788    3              DBHDR='0'B;

  11788  8 003423   000100 100400                    MLR     fill='000'O
         8 003424   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:162  
         8 003425   200607 000054                    ADSC9   DBHDR,,AUTO              cn=0,n=44

      979    11789    3              DBHDR.NPTR=DBKEY.NPTR + MROREC.NINFO.DNAM.OFFSET(DBKEY.NODE);

  11789  8 003426   001111 236000 1                  LDQ     LAST_KEY_READ
         8 003427   777777 376007                    ANQ     -1,DL
         8 003430   000013 402007                    MPY     11,DL
         8 003431   001145 236006 1                  LDQ     MROREC+12,QL
         8 003432   000022 772000                    QRL     18
         8 003433   200644 756100                    STQ     @DCB#+2,,AUTO
         8 003434   001112 236000 1                  LDQ     LAST_KEY_READ+1
         8 003435   000022 772000                    QRL     18
         8 003436   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 003437   200607 756100                    STQ     DBHDR,,AUTO

      980    11790    3              FCGHDR.FCG=DNAMEREC.FCG(DBHDR.NPTR);

  11790  8 003440   200607 235100                    LDA     DBHDR,,AUTO
         8 003441   000002 735000                    ALS     2
         8 003442   200606 470500                    LDP0    @LAST,,AUTO
         8 003443   040000 100505                    MLR     fill='040'O
         8 003444   000000 400002                    ADSC9   0,A,PR0                  cn=2,n=2
         8 003445   002646 000002 1                  ADSC9   FCGHDR                   cn=0,n=2

      981    11791    3              FCGHDR.NPR=1;

  11791  8 003446   000001 235007                    LDA     1,DL
         8 003447   002647 755000 1                  STA     FCGHDR+1

      982    11792    3              DBHDR.RECS.SIZE(DBKEY.TYPE-11)=M$INPUT$->F$DCB.ARS/4;

  11792  8 003450   001112 236000 1                  LDQ     LAST_KEY_READ+1
         8 003451   000011 772000                    QRL     9
         8 003452   000777 376007                    ANQ     511,DL
         8 003453   000001 736000                    QLS     1
         8 003454   200010 471500                    LDP1    M$INPUT$,,AUTO
         8 003455   000000 620006                    EAX0    0,QL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:163  
         8 003456   100000 236100                    LDQ     0,,PR1
         8 003457   000004 506007                    DIV     4,DL
         8 003460   200563 756110                    STQ     SCHEMASTUFF+353,X0,AUTO

      983    11793    3              IOBUF.PTR$=PINCRC(IOBUF.PTR$,M$INPUT$->F$DCB.ARS);

  11793  8 003461   100000 236100                    LDQ     0,,PR1
         8 003462   000020 736000                    QLS     16
         8 003463   000113 036000 1                  ADLQ    IOBUF+1
         8 003464   000113 756000 1                  STQ     IOBUF+1

      984    11794    3              IOBUF.BOUND=IOBUF.BOUND-M$INPUT$->F$DCB.ARS;

  11794  8 003465   000112 236000 1                  LDQ     IOBUF
         8 003466   000020 772000                    QRL     16
         8 003467   100000 136100                    SBLQ    0,,PR1
         8 003470   000020 736000                    QLS     16
         8 003471   000112 676000 1                  ERQ     IOBUF
         8 003472   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 003473   000112 656000 1                  ERSQ    IOBUF

      985    11795    3              CALL READ_SEQUENTIAL ALTRET(END_DB);

  11795  8 003474   002335 701000 8                  TSX1    READ_SEQUENTIAL
         8 003475   003616 702000 8                  TSX2    END_DB

      986    11796    4             DO WHILE (DBKEY.CNT=7 AND DBKEY.NPTR+MROREC.NINFO.DNAM.OFFSET(DBKEY.NODE)
             11796                       =DBHDR.NPTR);

  11796  8 003476   003576 710000 8                  TRA     s:11806

      987    11797    4                DBHDR.RECS.SIZE(DBKEY.TYPE-11)=DBHDR.RECS.SIZE(DBKEY.TYPE-11)+M$INPUT$
             11797                          ->F$DCB.ARS/4;

  11797  8 003477   001112 236000 1                  LDQ     LAST_KEY_READ+1
         8 003500   000011 772000                    QRL     9
         8 003501   000777 376007                    ANQ     511,DL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:164  
         8 003502   000001 736000                    QLS     1
         8 003503   200010 470500                    LDP0    M$INPUT$,,AUTO
         8 003504   000000 620006                    EAX0    0,QL
         8 003505   000000 236100                    LDQ     0,,PR0
         8 003506   000004 506007                    DIV     4,DL
         8 003507   200644 756100                    STQ     @DCB#+2,,AUTO
         8 003510   001112 236000 1                  LDQ     LAST_KEY_READ+1
         8 003511   000011 772000                    QRL     9
         8 003512   000777 376007                    ANQ     511,DL
         8 003513   000001 736000                    QLS     1
         8 003514   000000 621006                    EAX1    0,QL
         8 003515   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 003516   200563 036111                    ADLQ    SCHEMASTUFF+353,X1,AUTO
         8 003517   200563 756110                    STQ     SCHEMASTUFF+353,X0,AUTO

      988    11798    4                 IOBUF.PTR$=PINCRC(IOBUF.PTR$,M$INPUT$->F$DCB.ARS);

  11798  8 003520   000000 236100                    LDQ     0,,PR0
         8 003521   000020 736000                    QLS     16
         8 003522   000113 036000 1                  ADLQ    IOBUF+1
         8 003523   000113 756000 1                  STQ     IOBUF+1

      989    11799    4                 IOBUF.BOUND=IOBUF.BOUND-M$INPUT$->F$DCB.ARS;

  11799  8 003524   000112 236000 1                  LDQ     IOBUF
         8 003525   000020 772000                    QRL     16
         8 003526   000000 136100                    SBLQ    0,,PR0
         8 003527   000020 736000                    QLS     16
         8 003530   000112 676000 1                  ERQ     IOBUF
         8 003531   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 003532   000112 656000 1                  ERSQ    IOBUF

      990    11800    5                 IF IOBUF.BOUND=%BITBIN(%CONCAT('777777'O,'11'B)) THEN DO;

  11800  8 003533   000112 236000 1                  LDQ     IOBUF
         8 003534   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 003535   000034 116000 xsym               CMPQ    B_VECTNIL+28
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:165  
         8 003536   003574 601000 8                  TNZ     s:11805

      991    11801    5                    I=SVIOBUF.BOUND/4+1025;

  11801  8 003537   001127 236000 1                  LDQ     X1
         8 003540   000020 772000                    QRL     16
         8 003541   000002 772000                    QRL     2
         8 003542   002001 036007                    ADLQ    1025,DL
         8 003543   200015 756100                    STQ     I,,AUTO

      992    11802    5                    CALL IDD$GETSEG(SVIOBUF,I) ALTRET(IOERR);

  11802  8 003544   200015 631500                    EPPR1   I,,AUTO
         8 003545   200645 451500                    STP1    @DCB#+3,,AUTO
         8 003546   000001 236000 9                  LDQ     1
         8 003547   200644 756100                    STQ     @DCB#+2,,AUTO
         8 003550   200644 630500                    EPPR0   @DCB#+2,,AUTO
         8 003551   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 003552   000000 701000 xent               TSX1    IDD$GETSEG
         8 003553   004173 702000 8                  TSX2    IOERR

      993    11803    5                    IOBUF.BOUND=SVIOBUF.BOUND+POFFC(SVIOBUF.PTR$,IOBUF.PTR$);

  11803  8 003554   000113 236000 1                  LDQ     IOBUF+1
         8 003555   000020 772000                    QRL     16
         8 003556   200644 756100                    STQ     @DCB#+2,,AUTO
         8 003557   001130 236000 1                  LDQ     X1+1
         8 003560   000020 772000                    QRL     16
         8 003561   200644 136100                    SBLQ    @DCB#+2,,AUTO
         8 003562   200645 756100                    STQ     @DCB#+3,,AUTO
         8 003563   001127 236000 1                  LDQ     X1
         8 003564   000020 772000                    QRL     16
         8 003565   200646 756100                    STQ     @DCB#+4,,AUTO
         8 003566   200645 236100                    LDQ     @DCB#+3,,AUTO
         8 003567   200646 036100                    ADLQ    @DCB#+4,,AUTO
         8 003570   000020 736000                    QLS     16
         8 003571   000112 676000 1                  ERQ     IOBUF
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:166  
         8 003572   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 003573   000112 656000 1                  ERSQ    IOBUF

      994    11804    5                    END;

      995    11805    4                 CALL READ_SEQUENTIAL ALTRET(END_DB);

  11805  8 003574   002335 701000 8                  TSX1    READ_SEQUENTIAL
         8 003575   003616 702000 8                  TSX2    END_DB

      996    11806    4                 END;

  11806  8 003576   001111 236000 1                  LDQ     LAST_KEY_READ
         8 003577   777000 376003                    ANQ     -512,DU
         8 003600   007000 116003                    CMPQ    3584,DU
         8 003601   003616 601000 8                  TNZ     END_DB
         8 003602   001111 236000 1                  LDQ     LAST_KEY_READ
         8 003603   777777 376007                    ANQ     -1,DL
         8 003604   000013 402007                    MPY     11,DL
         8 003605   001145 236006 1                  LDQ     MROREC+12,QL
         8 003606   000022 772000                    QRL     18
         8 003607   200644 756100                    STQ     @DCB#+2,,AUTO
         8 003610   001112 236000 1                  LDQ     LAST_KEY_READ+1
         8 003611   000022 772000                    QRL     18
         8 003612   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 003613   003616 604000 8                  TMI     END_DB
         8 003614   200607 116100                    CMPQ    DBHDR,,AUTO
         8 003615   003477 600000 8                  TZE     s:11797

      997    11807    3   END_DB:    IF DBKEY.SEVENS='777'O THEN CALL M$PRECORD(FPT_PRECORDM1);

  11807  8 003616   001111 236000 1     END_DB       LDQ     LAST_KEY_READ
         8 003617   000777 376003                    ANQ     511,DU
         8 003620   000777 116003                    CMPQ    511,DU
         8 003621   003625 601000 8                  TNZ     s:11808

  11807  8 003622   000402 630400 1                  EPPR0   FPT_PRECORDM1
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:167  
         8 003623   040003 713400                    CLIMB   16387
         8 003624   401000 401760                    pmme    nvectors=3

      998    11808    4              IF SCHEMA_TBL.N>0 THEN DO;

  11808  8 003625   000000 235000 xsym               LDA     SCHEMA_TBL
         8 003626   003654 604400 8                  TMOZ    SCHEMA_IN_LIST

      999    11809    5                 DO I=0 TO SCHEMA_TBL.N-1;

  11809  8 003627   200015 450100                    STZ     I,,AUTO
         8 003630   003650 710000 8                  TRA     s:11814+1

     1000    11810    5                    IF FCGHDR.FCG=SCHEMA_TBL.FCG(I) THEN GOTO SCHEMA_IN_LIST;

  11810  8 003631   200015 235100                    LDA     I,,AUTO
         8 003632   000001 735000                    ALS     1
         8 003633   040005 106400                    CMPC    fill='040'O
         8 003634   002646 000002 1                  ADSC9   FCGHDR                   cn=0,n=2
         8 003635   000001 000002 xsym               ADSC9   SCHEMA_TBL+1,A           cn=0,n=2
         8 003636   003654 600000 8                  TZE     SCHEMA_IN_LIST

     1001    11811    5                    IF SUBSTR(SCHEMA_TBL.FCG(I),1,1)=' ' AND

  11811  8 003637   040000 106405                    CMPC    fill='040'O
         8 003640   000001 200001 xsym               ADSC9   SCHEMA_TBL+1,A           cn=1,n=1
         8 003641   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         8 003642   003647 601000 8                  TNZ     s:11814
         8 003643   040000 106405                    CMPC    fill='040'O
         8 003644   000001 000001 xsym               ADSC9   SCHEMA_TBL+1,A           cn=0,n=1
         8 003645   002646 000001 1                  ADSC9   FCGHDR                   cn=0,n=1
         8 003646   003654 600000 8                  TZE     SCHEMA_IN_LIST

     1002    11812    5                      SUBSTR(SCHEMA_TBL.FCG(I),0,1)=SUBSTR(FCGHDR.FCG,0,1)
     1003    11813    5                    THEN GOTO SCHEMA_IN_LIST;
     1004    11814    5                    END;

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:168  
  11814  8 003647   200015 054100                    AOS     I,,AUTO
         8 003650   200015 236100                    LDQ     I,,AUTO
         8 003651   000000 116000 xsym               CMPQ    SCHEMA_TBL
         8 003652   003631 604000 8                  TMI     s:11810

     1005    11815    4                 GOTO SKIP_THIS_FCG;

  11815  8 003653   004134 710000 8                  TRA     SKIP_THIS_FCG

  11812  8 003654                       SCHEMA_IN_L* null
     1006    11816    4   SCHEMA_IN_LIST: ;
     1007    11817    4                 END;

     1008    11818    3              IOBUF=SVIOBUF;

  11818  8 003654   000000 100400                    MLR     fill='000'O
         8 003655   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 003656   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

     1009    11819    4              DO I=0 TO 4;

  11819  8 003657   200015 450100                    STZ     I,,AUTO

     1010    11820    4                 FCGHDR.NPR=FCGHDR.NPR+(DBHDR.RECS.SIZE(I)+1023)/1024;

  11820  8 003660   200015 235100                    LDA     I,,AUTO
         8 003661   000001 735000                    ALS     1
         8 003662   200611 236105                    LDQ     M_STAR$+1,AL,AUTO
         8 003663   001777 036007                    ADLQ    1023,DL
         8 003664   002000 506007                    DIV     1024,DL
         8 003665   002647 036000 1                  ADLQ    FCGHDR+1
         8 003666   002647 756000 1                  STQ     FCGHDR+1

     1011    11821    4                 END;

  11821  8 003667   200015 054100                    AOS     I,,AUTO
         8 003670   200015 235100                    LDA     I,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:169  
         8 003671   000004 115007                    CMPA    4,DL
         8 003672   003660 604400 8                  TMOZ    s:11820

     1012    11822    4              DO SCH_IDX=1 TO SCH_FCGS;

  11822  8 003673   000001 235007                    LDA     1,DL
         8 003674   200564 755100                    STA     SCH_IDX,,AUTO
         8 003675   003705 710000 8                  TRA     s:11824+1

     1013    11823    4                 IF FCGHDR.FCG=SCHEMASTUFF.FCG(SCH_IDX) THEN GOTO FCGFND;

  11823  8 003676   200564 236100                    LDQ     SCH_IDX,,AUTO
         8 003677   000016 402007                    MPY     14,DL
         8 003700   040106 106400                    CMPC    fill='040'O
         8 003701   002646 000002 1                  ADSC9   FCGHDR                   cn=0,n=2
         8 003702   200022 000002                    ADSC9   SCHEMASTUFF,Q,AUTO       cn=0,n=2
         8 003703   003723 600000 8                  TZE     FCGFND

     1014    11824    4                 END;

  11824  8 003704   200564 054100                    AOS     SCH_IDX,,AUTO
         8 003705   200564 236100                    LDQ     SCH_IDX,,AUTO
         8 003706   001110 116000 1                  CMPQ    SCH_FCGS
         8 003707   003676 604400 8                  TMOZ    s:11823

     1015    11825    3              SCH_FCGS=SCH_FCGS+1;

  11825  8 003710   001110 054000 1                  AOS     SCH_FCGS

     1016    11826    3              SCH_IDX=SCH_FCGS;

  11826  8 003711   001110 235000 1                  LDA     SCH_FCGS
         8 003712   200564 755100                    STA     SCH_IDX,,AUTO

     1017    11827    3              SCHEMASTUFF(SCH_IDX)='0'B;

  11827  8 003713   200564 236100                    LDQ     SCH_IDX,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:170  
         8 003714   000016 402007                    MPY     14,DL
         8 003715   000106 100400                    MLR     fill='000'O
         8 003716   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         8 003717   200022 000016                    ADSC9   SCHEMASTUFF,Q,AUTO       cn=0,n=14

     1018    11828    3              SCHEMASTUFF.FCG(SCH_IDX)=FCGHDR.FCG;

  11828  8 003720   040106 100400                    MLR     fill='040'O
         8 003721   002646 000002 1                  ADSC9   FCGHDR                   cn=0,n=2
         8 003722   200022 000002                    ADSC9   SCHEMASTUFF,Q,AUTO       cn=0,n=2

     1019    11829    3   FCGFND:    SCHEMASTUFF.RECS(SCH_IDX)=SCHEMASTUFF.RECS(SCH_IDX)+FCGHDR.NPR;

  11829  8 003723   000100 100506       FCGFND       MLR     fill='000'O
         8 003724   200022 400004                    ADSC9   SCHEMASTUFF,Q,AUTO       cn=2,n=4
         8 003725   200644 000004                    ADSC9   @DCB#+2,,AUTO            cn=0,n=4
         8 003726   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 003727   002647 036000 1                  ADLQ    FCGHDR+1
         8 003730   200645 756100                    STQ     @DCB#+3,,AUTO
         8 003731   200564 236100                    LDQ     SCH_IDX,,AUTO
         8 003732   000016 402007                    MPY     14,DL
         8 003733   000106 100500                    MLR     fill='000'O
         8 003734   200645 000004                    ADSC9   @DCB#+3,,AUTO            cn=0,n=4
         8 003735   200022 400004                    ADSC9   SCHEMASTUFF,Q,AUTO       cn=2,n=4

     1020    11830    3              SCHEMASTUFF.OUS(SCH_IDX)=SCHEMASTUFF.OUS(SCH_IDX)+FCGHDR.NOU;

  11830  8 003736   000100 100506                    MLR     fill='000'O
         8 003737   200023 400004                    ADSC9   SCHEMASTUFF+1,Q,AUTO     cn=2,n=4
         8 003740   200644 000004                    ADSC9   @DCB#+2,,AUTO            cn=0,n=4
         8 003741   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 003742   002650 036000 1                  ADLQ    FCGHDR+2
         8 003743   200645 756100                    STQ     @DCB#+3,,AUTO
         8 003744   200564 236100                    LDQ     SCH_IDX,,AUTO
         8 003745   000016 402007                    MPY     14,DL
         8 003746   000106 100500                    MLR     fill='000'O
         8 003747   200645 000004                    ADSC9   @DCB#+3,,AUTO            cn=0,n=4
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:171  
         8 003750   200023 400004                    ADSC9   SCHEMASTUFF+1,Q,AUTO     cn=2,n=4

     1021    11831    3              CALL WRITE_PO(BINARY,VECTOR(FCGHDR));

  11831  8 003751   000170 236000 9                  LDQ     120
         8 003752   200636 756100                    STQ     @BUFVEC,,AUTO
         8 003753   000014 236000 9                  LDQ     12
         8 003754   200635 756100                    STQ     @MODE,,AUTO
         8 003755   002424 701000 8                  TSX1    WRITE_PO
         8 003756   000000 011000                    NOP     0

     1022    11832    3              CALL WRITE_PO(BINARY,VECTOR(DBHDR));

  11832  8 003757   000171 235000 9                  LDA     121
         8 003760   200644 452500                    STP2    @DCB#+2,,AUTO
         8 003761   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 003762   000607 036003                    ADLQ    391,DU
         8 003763   200716 757100                    STAQ    @DCB#+44,,AUTO
         8 003764   200716 630500                    EPPR0   @DCB#+44,,AUTO
         8 003765   200636 450500                    STP0    @BUFVEC,,AUTO
         8 003766   000014 236000 9                  LDQ     12
         8 003767   200635 756100                    STQ     @MODE,,AUTO
         8 003770   002424 701000 8                  TSX1    WRITE_PO
         8 003771   000000 011000                    NOP     0

     1023    11833    4              DO I=0 TO 4;

  11833  8 003772   200015 450100                    STZ     I,,AUTO

     1024    11834    4                SCHEMASTUFF.SIZE(SCH_IDX)=SCHEMASTUFF.SIZE(SCH_IDX)+DBHDR.RECS.SIZE(I)
             11834                          ;

  11834  8 003773   200015 235100                    LDA     I,,AUTO
         8 003774   000001 735000                    ALS     1
         8 003775   000000 620005                    EAX0    0,AL
         8 003776   200564 236100                    LDQ     SCH_IDX,,AUTO
         8 003777   000016 402007                    MPY     14,DL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:172  
         8 004000   000100 100506                    MLR     fill='000'O
         8 004001   200024 400004                    ADSC9   SCHEMASTUFF+2,Q,AUTO     cn=2,n=4
         8 004002   200644 000004                    ADSC9   @DCB#+2,,AUTO            cn=0,n=4
         8 004003   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 004004   200611 036110                    ADLQ    M_STAR$+1,X0,AUTO
         8 004005   200645 756100                    STQ     @DCB#+3,,AUTO
         8 004006   200564 236100                    LDQ     SCH_IDX,,AUTO
         8 004007   000016 402007                    MPY     14,DL
         8 004010   000106 100500                    MLR     fill='000'O
         8 004011   200645 000004                    ADSC9   @DCB#+3,,AUTO            cn=0,n=4
         8 004012   200024 400004                    ADSC9   SCHEMASTUFF+2,Q,AUTO     cn=2,n=4

     1025    11835    5                 DO WHILE (DBHDR.RECS.SIZE(I)>1024);

  11835  8 004013   200015 235100                    LDA     I,,AUTO
         8 004014   000001 735000                    ALS     1
         8 004015   200611 235105                    LDA     M_STAR$+1,AL,AUTO
         8 004016   002000 115007                    CMPA    1024,DL
         8 004017   004060 604400 8                  TMOZ    s:11842

     1026    11836    5                    IOBUF.BOUND=4095;

  11836  8 004020   000112 236000 1                  LDQ     IOBUF
         8 004021   177777 376007                    ANQ     65535,DL
         8 004022   000137 276000 9                  ORQ     95
         8 004023   000112 756000 1                  STQ     IOBUF

     1027    11837    5                    IF I=4 THEN CALL WRITE_PO(ASCII,IOBUF);

  11837  8 004024   200015 235100                    LDA     I,,AUTO
         8 004025   000004 115007                    CMPA    4,DL
         8 004026   004036 601000 8                  TNZ     s:11838

  11837  8 004027   000052 236000 9                  LDQ     42
         8 004030   200636 756100                    STQ     @BUFVEC,,AUTO
         8 004031   000015 236000 9                  LDQ     13
         8 004032   200635 756100                    STQ     @MODE,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:173  
         8 004033   002424 701000 8                  TSX1    WRITE_PO
         8 004034   000000 011000                    NOP     0
         8 004035   004044 710000 8                  TRA     s:11839

     1028    11838    5                    ELSE CALL WRITE_PO(BINARY,IOBUF);

  11838  8 004036   000052 236000 9                  LDQ     42
         8 004037   200636 756100                    STQ     @BUFVEC,,AUTO
         8 004040   000014 236000 9                  LDQ     12
         8 004041   200635 756100                    STQ     @MODE,,AUTO
         8 004042   002424 701000 8                  TSX1    WRITE_PO
         8 004043   000000 011000                    NOP     0

     1029    11839    5                    IOBUF.PTR$=PINCRW(IOBUF.PTR$,1024);

  11839  8 004044   000113 236000 1                  LDQ     IOBUF+1
         8 004045   002000 036003                    ADLQ    1024,DU
         8 004046   000113 756000 1                  STQ     IOBUF+1

     1030    11840    5                    DBHDR.RECS.SIZE(I)=DBHDR.RECS.SIZE(I)-1024;

  11840  8 004047   200015 235100                    LDA     I,,AUTO
         8 004050   000001 735000                    ALS     1
         8 004051   002000 336007                    LCQ     1024,DL
         8 004052   200611 056105                    ASQ     M_STAR$+1,AL,AUTO

     1031    11841    5                    END;

  11841  8 004053   200015 235100                    LDA     I,,AUTO
         8 004054   000001 735000                    ALS     1
         8 004055   200611 235105                    LDA     M_STAR$+1,AL,AUTO
         8 004056   002000 115007                    CMPA    1024,DL
         8 004057   004020 605400 8                  TPNZ    s:11836

     1032    11842    5                 DO WHILE (DBHDR.RECS.SIZE(I)>0);

  11842  8 004060   200015 235100                    LDA     I,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:174  
         8 004061   000001 735000                    ALS     1
         8 004062   200611 235105                    LDA     M_STAR$+1,AL,AUTO
         8 004063   004130 604400 8                  TMOZ    s:11849

     1033    11843    5                    IOBUF.BOUND=DBHDR.RECS.SIZE(I)*4-1;

  11843  8 004064   200015 235100                    LDA     I,,AUTO
         8 004065   000001 735000                    ALS     1
         8 004066   200611 236105                    LDQ     M_STAR$+1,AL,AUTO
         8 004067   000002 736000                    QLS     2
         8 004070   000001 136007                    SBLQ    1,DL
         8 004071   000020 736000                    QLS     16
         8 004072   000112 676000 1                  ERQ     IOBUF
         8 004073   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 004074   000112 656000 1                  ERSQ    IOBUF

     1034    11844    5                    IF I=4 THEN CALL WRITE_PO(ASCII,IOBUF);

  11844  8 004075   200015 236100                    LDQ     I,,AUTO
         8 004076   000004 116007                    CMPQ    4,DL
         8 004077   004107 601000 8                  TNZ     s:11845

  11844  8 004100   000052 236000 9                  LDQ     42
         8 004101   200636 756100                    STQ     @BUFVEC,,AUTO
         8 004102   000015 236000 9                  LDQ     13
         8 004103   200635 756100                    STQ     @MODE,,AUTO
         8 004104   002424 701000 8                  TSX1    WRITE_PO
         8 004105   000000 011000                    NOP     0
         8 004106   004115 710000 8                  TRA     s:11846

     1035    11845    5                    ELSE CALL WRITE_PO(BINARY,IOBUF);

  11845  8 004107   000052 236000 9                  LDQ     42
         8 004110   200636 756100                    STQ     @BUFVEC,,AUTO
         8 004111   000014 236000 9                  LDQ     12
         8 004112   200635 756100                    STQ     @MODE,,AUTO
         8 004113   002424 701000 8                  TSX1    WRITE_PO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:175  
         8 004114   000000 011000                    NOP     0

     1036    11846    5                    IOBUF.PTR$=PINCRW(IOBUF.PTR$,DBHDR.RECS.SIZE(I));

  11846  8 004115   200015 235100                    LDA     I,,AUTO
         8 004116   000001 735000                    ALS     1
         8 004117   200611 236105                    LDQ     M_STAR$+1,AL,AUTO
         8 004120   000022 736000                    QLS     18
         8 004121   000113 036000 1                  ADLQ    IOBUF+1
         8 004122   000113 756000 1                  STQ     IOBUF+1

     1037    11847    5                    DBHDR.RECS.SIZE(I)=0;

  11847  8 004123   200611 450105                    STZ     M_STAR$+1,AL,AUTO

     1038    11848    5                    END;

  11848  8 004124   200015 235100                    LDA     I,,AUTO
         8 004125   000001 735000                    ALS     1
         8 004126   200611 235105                    LDA     M_STAR$+1,AL,AUTO
         8 004127   004064 605400 8                  TPNZ    s:11843

     1039    11849    4                 END;

  11849  8 004130   200015 054100                    AOS     I,,AUTO
         8 004131   200015 235100                    LDA     I,,AUTO
         8 004132   000004 115007                    CMPA    4,DL
         8 004133   003773 604400 8                  TMOZ    s:11834

  11845  8 004134                       SKIP_THIS_F* null
     1040    11850    3   SKIP_THIS_FCG: ;
     1041    11851    3              IOBUF=SVIOBUF;

  11851  8 004134   000000 100400                    MLR     fill='000'O
         8 004135   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 004136   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:176  
     1042    11852    3              END;

  11852  8 004137   001111 236000 1                  LDQ     LAST_KEY_READ
         8 004140   000777 376003                    ANQ     511,DU
         8 004141   000777 116003                    CMPQ    511,DU
         8 004142   004153 601000 8                  TNZ     s:11853
         8 004143   001111 236000 1                  LDQ     LAST_KEY_READ
         8 004144   777000 376003                    ANQ     -512,DU
         8 004145   007000 116003                    CMPQ    3584,DU
         8 004146   004153 601000 8                  TNZ     s:11853
         8 004147   001111 236000 1                  LDQ     LAST_KEY_READ
         8 004150   777000 376007                    ANQ     -512,DL
         8 004151   024000 116007                    CMPQ    10240,DL
         8 004152   003421 601000 8                  TNZ     s:11787

     1043    11853    2           CALL WRITE_PO(BINARY,VECTOR(FOUR_ZEROS));

  11853  8 004153   000174 236000 9                  LDQ     124
         8 004154   200636 756100                    STQ     @BUFVEC,,AUTO
         8 004155   000014 236000 9                  LDQ     12
         8 004156   200635 756100                    STQ     @MODE,,AUTO
         8 004157   002424 701000 8                  TSX1    WRITE_PO
         8 004160   000000 011000                    NOP     0

     1044    11854    2           CALL IDD$GETSEG(DNAMBUF,0);

  11854  8 004161   000015 236000 9                  LDQ     13
         8 004162   200645 756100                    STQ     @DCB#+3,,AUTO
         8 004163   200605 630500                    EPPR0   DNAMBUF,,AUTO
         8 004164   200644 450500                    STP0    @DCB#+2,,AUTO
         8 004165   200644 630500                    EPPR0   @DCB#+2,,AUTO
         8 004166   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 004167   000000 701000 xent               TSX1    IDD$GETSEG
         8 004170   000000 011000                    NOP     0

     1045    11855    2           RETURN;

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:177  
  11855  8 004171   200604 221300                    LDX1  ! MDNAMBUF+2,,AUTO
         8 004172   000001 702211                    TSX2  ! 1,X1

     1046    11856    2   IOERR:
     1047    11857    2           CALL ABORT_DEF(SCHEMA_ERR_CODE);

  11857  8 004173   000001 236000 xsym  IOERR        LDQ     B_VECTNIL+1
         8 004174   200642 756100                    STQ     @DCB#,,AUTO
         8 004175   000175 236000 9                  LDQ     125
         8 004176   200641 756100                    STQ     @CODE1,,AUTO
         8 004177   002104 701000 8                  TSX1    ABORT_DEF
         8 004200   000000 011000                    NOP     0

     1048    11858    2   END WRITE_MONITOR_SCHEMA;

  11858  8 004201   200604 221300                    LDX1  ! MDNAMBUF+2,,AUTO
         8 004202   000001 702211                    TSX2  ! 1,X1

     1049    11859        /**/
     1050    11860        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:178  
     1051    11861    1   WRITE_BOOT_STUFF: PROC;

  11861  8 004203   200604 741300       WRITE_BOOT_* STX1  ! MDNAMBUF+2,,AUTO

     1052    11862        /* PROCEDURE TO WRITE CONTENTS OF PO TAPE TO M$LO */
     1053    11863    2   DCL WRHDR CHAR(0) CONSTANT INIT(
     1054    11864    2         '%!%5-CONTENTS OF PO TAPE%2/%X%A%/');
     1055    11865    2   DCL HDR1 CHAR(0) CONSTANT INIT(
     1056    11866    2         '   ITEM         BIAS    SIZE  S.ADDR');
     1057    11867    2   DCL FMT1 CHAR(0) CONSTANT INIT(
     1058    11868    2         '%12A%2X%6+O%2X%6+O%2X%6+O');
     1059    11869    2   DCL FMT1A CHAR(0) CONSTANT INIT(
     1060    11870    2         '%12A%4X%4A%2X%6+O%2X%6+O');
     1061    11871    2   DCL HDR3 CHAR(0) CONSTANT INIT(
     1062    11872    2         '%/   ITEM         BIAS    SIZE   PADDR   NODE NAME');
     1063    11873    2   DCL FMT3 CHAR(0) CONSTANT INIT(
     1064    11874    2         '%12A%2X%6+O%2X%6+O%2X%6+O%3X%A');
     1065    11875    2   DCL FMT3A CHAR(0) CONSTANT INIT(
     1066    11876    2         '%12A%4X%4A%2X%6+O%2X%6+O%3X%A');
     1067    11877    2   DCL HDR2 CHAR(0) CONSTANT INIT(
     1068    11878    2         '%/    DEBUG SCHEMA%/FCG  #REC  #OU    SIZE');
     1069    11879    2   DCL FMT2 CHAR(0) CONSTANT INIT(
     1070    11880    2         '%X%2A%2X%4D%2X%3D%2X%6O');
     1071    11881        /**/
     1072    11882    2           CALL X$WRITE(F_FDS,VECTOR(WRHDR),VECTOR(TAPEID));

  11882  8 004204   000200 630400 9                  EPPR0   128
         8 004205   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 004206   000000 701000 xent               TSX1    X$WRITE
         8 004207   000000 011000                    NOP     0

     1073    11883    2           CALL X$WRITE(F_FDS,VECTOR(HDR1));

  11883  8 004210   000206 630400 9                  EPPR0   134
         8 004211   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 004212   000000 701000 xent               TSX1    X$WRITE
         8 004213   000000 011000                    NOP     0
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:179  

     1074    11884    3           DO I=0 TO NUMTC;

  11884  8 004214   200015 450100                    STZ     I,,AUTO

     1075    11885    4              IF BOOTSTUFF.SIZE(I)>0 THEN DO;

  11885  8 004215   200015 236100                    LDQ     I,,AUTO
         8 004216   000006 402007                    MPY     6,DL
         8 004217   000420 235006 1                  LDA     BOOTSTUFF+4,QL
         8 004220   004304 600000 8                  TZE     s:11893

     1076    11886    5                 DO SELECT(BOOTSTUFF.CBIAS(I));

  11886  8 004221   000417 236006 1                  LDQ     BOOTSTUFF+3,QL
         8 004222   000257 116000 2                  CMPQ    AFMT1+19
         8 004223   004237 602000 8                  TNC     s:11886+14
         8 004224   200015 236100                    LDQ     I,,AUTO
         8 004225   000006 402007                    MPY     6,DL
         8 004226   000417 236006 1                  LDQ     BOOTSTUFF+3,QL
         8 004227   000257 116000 2                  CMPQ    AFMT1+19
         8 004230   004245 600000 8                  TZE     s:11888
         8 004231   200015 236100                    LDQ     I,,AUTO
         8 004232   000006 402007                    MPY     6,DL
         8 004233   000417 236006 1                  LDQ     BOOTSTUFF+3,QL
         8 004234   000255 116000 2                  CMPQ    AFMT1+17
         8 004235   004265 601000 8                  TNZ     s:11890
         8 004236   004245 710000 8                  TRA     s:11888
         8 004237   200015 236100                    LDQ     I,,AUTO
         8 004240   000006 402007                    MPY     6,DL
         8 004241   000417 236006 1                  LDQ     BOOTSTUFF+3,QL
         8 004242   000256 116000 2                  CMPQ    AFMT1+18
         8 004243   004265 601000 8                  TNZ     s:11890
         8 004244   004245 710000 8                  TRA     s:11888

     1077    11887    5                    SELECT('Page','8 Wd','Even');

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:180  
     1078    11888    5                    CALL X$WRITE(F_FDS,VECTOR(FMT1A),VECTOR(BOOTSTUFF(I)));

  11888  8 004245   000210 235000 9                  LDA     136
         8 004246   200015 236100                    LDQ     I,,AUTO
         8 004247   200644 755100                    STA     @DCB#+2,,AUTO
         8 004250   000006 402003                    MPY     6,DU
         8 004251   000212 036000 9                  ADLQ    138
         8 004252   200644 235100                    LDA     @DCB#+2,,AUTO
         8 004253   200646 757100                    STAQ    @DCB#+4,,AUTO
         8 004254   200646 630500                    EPPR0   @DCB#+4,,AUTO
         8 004255   200652 450500                    STP0    @DCB#+8,,AUTO
         8 004256   000214 237000 9                  LDAQ    140
         8 004257   200650 757100                    STAQ    @DCB#+6,,AUTO
         8 004260   200650 630500                    EPPR0   @DCB#+6,,AUTO
         8 004261   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 004262   000000 701000 xent               TSX1    X$WRITE
         8 004263   000000 011000                    NOP     0
         8 004264   004304 710000 8                  TRA     s:11893

     1079    11889    5                    SELECT(ELSE);

     1080    11890    5                 CALL X$WRITE(F_FDS,VECTOR(FMT1),VECTOR(BOOTSTUFF(I)));

  11890  8 004265   000210 235000 9                  LDA     136
         8 004266   200015 236100                    LDQ     I,,AUTO
         8 004267   200644 755100                    STA     @DCB#+2,,AUTO
         8 004270   000006 402003                    MPY     6,DU
         8 004271   000212 036000 9                  ADLQ    138
         8 004272   200644 235100                    LDA     @DCB#+2,,AUTO
         8 004273   200646 757100                    STAQ    @DCB#+4,,AUTO
         8 004274   200646 630500                    EPPR0   @DCB#+4,,AUTO
         8 004275   200652 450500                    STP0    @DCB#+8,,AUTO
         8 004276   000220 237000 9                  LDAQ    144
         8 004277   200650 757100                    STAQ    @DCB#+6,,AUTO
         8 004300   200650 630500                    EPPR0   @DCB#+6,,AUTO
         8 004301   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 004302   000000 701000 xent               TSX1    X$WRITE
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:181  
         8 004303   000000 011000                    NOP     0

     1081    11891    5                    END;

     1082    11892    4                 END;

     1083    11893    3              END;

  11893  8 004304   200015 054100                    AOS     I,,AUTO
         8 004305   200015 235100                    LDA     I,,AUTO
         8 004306   000023 115007                    CMPA    19,DL
         8 004307   004215 604400 8                  TMOZ    s:11885

     1084    11894    2           CALL X$WRITE(F_FDS,VECTOR(HDR3));

  11894  8 004310   000224 630400 9                  EPPR0   148
         8 004311   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 004312   000000 701000 xent               TSX1    X$WRITE
         8 004313   000000 011000                    NOP     0

     1085    11895    3           DO I=0 TO 13;

  11895  8 004314   200015 450100                    STZ     I,,AUTO

     1086    11896    4              IF MONNODESTUFF.SIZE(I)>0 THEN DO;

  11896  8 004315   200015 236100                    LDQ     I,,AUTO
         8 004316   000016 402007                    MPY     14,DL
         8 004317   000610 235006 1                  LDA     MONNODESTUFF+4,QL
         8 004320   004404 600000 8                  TZE     s:11904

     1087    11897    5                 DO SELECT(MONNODESTUFF.CBIAS(I));

  11897  8 004321   000607 236006 1                  LDQ     MONNODESTUFF+3,QL
         8 004322   000257 116000 2                  CMPQ    AFMT1+19
         8 004323   004337 602000 8                  TNC     s:11897+14
         8 004324   200015 236100                    LDQ     I,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:182  
         8 004325   000016 402007                    MPY     14,DL
         8 004326   000607 236006 1                  LDQ     MONNODESTUFF+3,QL
         8 004327   000257 116000 2                  CMPQ    AFMT1+19
         8 004330   004345 600000 8                  TZE     s:11899
         8 004331   200015 236100                    LDQ     I,,AUTO
         8 004332   000016 402007                    MPY     14,DL
         8 004333   000607 236006 1                  LDQ     MONNODESTUFF+3,QL
         8 004334   000255 116000 2                  CMPQ    AFMT1+17
         8 004335   004365 601000 8                  TNZ     s:11901
         8 004336   004345 710000 8                  TRA     s:11899
         8 004337   200015 236100                    LDQ     I,,AUTO
         8 004340   000016 402007                    MPY     14,DL
         8 004341   000607 236006 1                  LDQ     MONNODESTUFF+3,QL
         8 004342   000256 116000 2                  CMPQ    AFMT1+18
         8 004343   004365 601000 8                  TNZ     s:11901
         8 004344   004345 710000 8                  TRA     s:11899

     1088    11898    5                    SELECT('Page','8 Wd','Even');

     1089    11899    5                    CALL X$WRITE(F_FDS,VECTOR(FMT3A),VECTOR(MONNODESTUFF(I)));

  11899  8 004345   000230 235000 9                  LDA     152
         8 004346   200015 236100                    LDQ     I,,AUTO
         8 004347   200644 755100                    STA     @DCB#+2,,AUTO
         8 004350   000016 402003                    MPY     14,DU
         8 004351   000231 036000 9                  ADLQ    153
         8 004352   200644 235100                    LDA     @DCB#+2,,AUTO
         8 004353   200646 757100                    STAQ    @DCB#+4,,AUTO
         8 004354   200646 630500                    EPPR0   @DCB#+4,,AUTO
         8 004355   200652 450500                    STP0    @DCB#+8,,AUTO
         8 004356   000232 237000 9                  LDAQ    154
         8 004357   200650 757100                    STAQ    @DCB#+6,,AUTO
         8 004360   200650 630500                    EPPR0   @DCB#+6,,AUTO
         8 004361   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 004362   000000 701000 xent               TSX1    X$WRITE
         8 004363   000000 011000                    NOP     0
         8 004364   004404 710000 8                  TRA     s:11904
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:183  

     1090    11900    5                    SELECT(ELSE);

     1091    11901    5                 CALL X$WRITE(F_FDS,VECTOR(FMT3),VECTOR(MONNODESTUFF(I)));

  11901  8 004365   000230 235000 9                  LDA     152
         8 004366   200015 236100                    LDQ     I,,AUTO
         8 004367   200644 755100                    STA     @DCB#+2,,AUTO
         8 004370   000016 402003                    MPY     14,DU
         8 004371   000231 036000 9                  ADLQ    153
         8 004372   200644 235100                    LDA     @DCB#+2,,AUTO
         8 004373   200646 757100                    STAQ    @DCB#+4,,AUTO
         8 004374   200646 630500                    EPPR0   @DCB#+4,,AUTO
         8 004375   200652 450500                    STP0    @DCB#+8,,AUTO
         8 004376   000236 237000 9                  LDAQ    158
         8 004377   200650 757100                    STAQ    @DCB#+6,,AUTO
         8 004400   200650 630500                    EPPR0   @DCB#+6,,AUTO
         8 004401   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 004402   000000 701000 xent               TSX1    X$WRITE
         8 004403   000000 011000                    NOP     0

     1092    11902    5                    END;

     1093    11903    4                 END;

     1094    11904    3              END;

  11904  8 004404   200015 054100                    AOS     I,,AUTO
         8 004405   200015 235100                    LDA     I,,AUTO
         8 004406   000015 115007                    CMPA    13,DL
         8 004407   004315 604400 8                  TMOZ    s:11896

     1095    11905    2           CALL X$WRITE(F_FDS,VECTOR(HDR2));

  11905  8 004410   000242 630400 9                  EPPR0   162
         8 004411   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 004412   000000 701000 xent               TSX1    X$WRITE
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:184  
         8 004413   000000 011000                    NOP     0

     1096    11906    3           DO I=1 TO SCH_FCGS;

  11906  8 004414   000001 235007                    LDA     1,DL
         8 004415   200015 755100                    STA     I,,AUTO
         8 004416   004441 710000 8                  TRA     s:11908+1

     1097    11907    3              CALL X$WRITE(F_FDS,VECTOR(FMT2),VECTOR(SCHEMASTUFF(I)));

  11907  8 004417   000246 235000 9                  LDA     166
         8 004420   200644 452500                    STP2    @DCB#+2,,AUTO
         8 004421   200015 236100                    LDQ     I,,AUTO
         8 004422   200645 755100                    STA     @DCB#+3,,AUTO
         8 004423   000247 402000 9                  MPY     167
         8 004424   000022 036003                    ADLQ    18,DU
         8 004425   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 004426   200645 235100                    LDA     @DCB#+3,,AUTO
         8 004427   200646 757100                    STAQ    @DCB#+4,,AUTO
         8 004430   200646 630500                    EPPR0   @DCB#+4,,AUTO
         8 004431   200652 450500                    STP0    @DCB#+8,,AUTO
         8 004432   000250 237000 9                  LDAQ    168
         8 004433   200650 757100                    STAQ    @DCB#+6,,AUTO
         8 004434   200650 630500                    EPPR0   @DCB#+6,,AUTO
         8 004435   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 004436   000000 701000 xent               TSX1    X$WRITE
         8 004437   000000 011000                    NOP     0

     1098    11908    3              END;

  11908  8 004440   200015 054100                    AOS     I,,AUTO
         8 004441   200015 236100                    LDQ     I,,AUTO
         8 004442   001110 116000 1                  CMPQ    SCH_FCGS
         8 004443   004417 604400 8                  TMOZ    s:11907

     1099    11909    2   END WRITE_BOOT_STUFF;

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:185  
  11909  8 004444   200604 221300                    LDX1  ! MDNAMBUF+2,,AUTO
         8 004445   000001 702211                    TSX2  ! 1,X1

     1100    11910        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:186  
     1101    11911    1   BUILD_G1RO: PROC;

  11911  8 004446   200604 741300       BUILD_G1RO   STX1  ! MDNAMBUF+2,,AUTO

     1102    11912        /**/
     1103    11913    2   DCL NEXT$ PTR;
     1104    11914    2   DCL 1 NEXT REDEF NEXT$,
     1105    11915    2         2 CHR UBIN(20) UNAL,
     1106    11916    2         2 BT UBIN(4) UNAL,
     1107    11917    2         2 SEGID BIT(12);
     1108    11918    2   DCL LAST$ PTR;
     1109    11919    2   DCL 1 LAST REDEF LAST$,
     1110    11920    2         2 WA UBIN(18) UNAL,
     1111    11921    2         2 * UBIN(18) UNAL;
     1112    11922    2   DCL ROS$ PTR;
     1113    11923    2   DCL M_STAR$ PTR;
     1114    11924    2   DCL M_LM$ PTR;
     1115    11925    2   DCL M_UC$ PTR;
     1116    11926    2   DCL M_DO$ PTR;
     1117    11927    2   DCL 1 PBASE(0:0) BASED UNAL,
     1118    11928    2         2 WA UBIN(18) UNAL,
     1119    11929    2         2 * UBIN(18) UNAL;
     1120    11930    2   DCL PBASE$(0:0) PTR BASED;
     1121    11931    2   DCL 1 DESC(0:0) BASED ALIGNED,
     1122    11932    2         2 BOUND UBIN(20) UNAL,
     1123    11933    2         2 TYPE0,
     1124    11934    2           3 FLAGS BIT(9),
     1125    11935    2           3 WSR UBIN(3) UNAL,
     1126    11936    2         2 TYPE2 REDEF TYPE0,
     1127    11937    2           3 FLAGS BIT(3),
     1128    11938    2           3 WSQ UBIN(9) UNAL,
     1129    11939    2         2 TYPE UBIN(4) UNAL,
     1130    11940    2         2 BASE UBIN;
     1131    11941    2   DCL 1 ROSEG_KEY ALIGNED CONSTANT,
     1132    11942    2         2 * UBIN BYTE UNAL INIT(5),
     1133    11943    2         2 * UBIN BYTE UNAL INIT(30),
     1134    11944    2         2 * UBIN WORD UNAL INIT(0);
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:187  
     1135    11945    2   DCL STUFF CHAR(SIZE) BASED;
     1136    11946    2   DCL SIZE SBIN;
     1137    11947    2   DCL DCB$ PTR;
     1138    11948        /**/
     1139    11949    2           NEXT$=PINCRW(SVIOBUF.PTR$,1024); /* FIRST PAGE IS G1HJIT              */

  11949  8 004447   001130 236000 1                  LDQ     X1+1
         8 004450   002000 036003                    ADLQ    1024,DU
         8 004451   200605 756100                    STQ     NEXT$,,AUTO

     1140    11950    2           CALL MOVE(G1ROSEG,SIZEC(G1ROSEG),8);

  11950  8 004452   000254 237000 9                  LDAQ    172
         8 004453   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004454   000253 236000 9                  LDQ     171
         8 004455   200617 756100                    STQ     DCB$+2,,AUTO
         8 004456   005132 701000 8                  TSX1    MOVE
         8 004457   000000 011000                    NOP     0

     1141    11951    2           ROS$=LAST$;

  11951  8 004460   200606 236100                    LDQ     LAST$,,AUTO
         8 004461   200607 756100                    STQ     ROS$,,AUTO

     1142    11952    2           CALL MOVE(M_STAR,SIZEC(DUMMY_DCB),8);

  11952  8 004462   000260 237000 9                  LDAQ    176
         8 004463   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004464   000257 236000 9                  LDQ     175
         8 004465   200617 756100                    STQ     DCB$+2,,AUTO
         8 004466   005132 701000 8                  TSX1    MOVE
         8 004467   000000 011000                    NOP     0

     1143    11953    2           M_STAR$=LAST$;

  11953  8 004470   200606 236100                    LDQ     LAST$,,AUTO
         8 004471   200610 756100                    STQ     M_STAR$,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:188  

     1144    11954    2           CALL MOVE(STAR,SIZEC(STAR),8);

  11954  8 004472   000262 237000 9                  LDAQ    178
         8 004473   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004474   000264 236000 9                  LDQ     180
         8 004475   200617 756100                    STQ     DCB$+2,,AUTO
         8 004476   005132 701000 8                  TSX1    MOVE
         8 004477   000000 011000                    NOP     0

     1145    11955    2           CALL MOVE(M_LM,SIZEC(DUMMY_DCB),8);

  11955  8 004500   000260 237000 9                  LDAQ    176
         8 004501   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004502   000265 236000 9                  LDQ     181
         8 004503   200617 756100                    STQ     DCB$+2,,AUTO
         8 004504   005132 701000 8                  TSX1    MOVE
         8 004505   000000 011000                    NOP     0

     1146    11956    2           M_LM$=LAST$;

  11956  8 004506   200606 236100                    LDQ     LAST$,,AUTO
         8 004507   200611 756100                    STQ     M_LM$,,AUTO

     1147    11957    2           CALL MOVE(LM,SIZEC(LM),8);

  11957  8 004510   000266 237000 9                  LDAQ    182
         8 004511   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004512   000270 236000 9                  LDQ     184
         8 004513   200617 756100                    STQ     DCB$+2,,AUTO
         8 004514   005132 701000 8                  TSX1    MOVE
         8 004515   000000 011000                    NOP     0

     1148    11958    2           CALL MOVE(M_UC,SIZEC(DUMMY_DCB),8);

  11958  8 004516   000260 237000 9                  LDAQ    176
         8 004517   200620 757100                    STAQ    @STUFF+1,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:189  
         8 004520   000271 236000 9                  LDQ     185
         8 004521   200617 756100                    STQ     DCB$+2,,AUTO
         8 004522   005132 701000 8                  TSX1    MOVE
         8 004523   000000 011000                    NOP     0

     1149    11959    2           M_UC$=LAST$;

  11959  8 004524   200606 236100                    LDQ     LAST$,,AUTO
         8 004525   200612 756100                    STQ     M_UC$,,AUTO

     1150    11960    2           CALL MOVE(UC,SIZEC(UC),8);

  11960  8 004526   000266 237000 9                  LDAQ    182
         8 004527   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004530   000272 236000 9                  LDQ     186
         8 004531   200617 756100                    STQ     DCB$+2,,AUTO
         8 004532   005132 701000 8                  TSX1    MOVE
         8 004533   000000 011000                    NOP     0

     1151    11961    2           CALL MOVE(M_DO,SIZEC(DUMMY_DCB),8);

  11961  8 004534   000260 237000 9                  LDAQ    176
         8 004535   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004536   000273 236000 9                  LDQ     187
         8 004537   200617 756100                    STQ     DCB$+2,,AUTO
         8 004540   005132 701000 8                  TSX1    MOVE
         8 004541   000000 011000                    NOP     0

     1152    11962    2           M_DO$=LAST$;

  11962  8 004542   200606 236100                    LDQ     LAST$,,AUTO
         8 004543   200613 756100                    STQ     M_DO$,,AUTO

     1153    11963    2           CALL MOVE(DOH,SIZEC(DOH),8);

  11963  8 004544   000266 237000 9                  LDAQ    182
         8 004545   200620 757100                    STAQ    @STUFF+1,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:190  
         8 004546   000274 236000 9                  LDQ     188
         8 004547   200617 756100                    STQ     DCB$+2,,AUTO
         8 004550   005132 701000 8                  TSX1    MOVE
         8 004551   000000 011000                    NOP     0

     1154    11964    2           CALL MOVE(UCTABS,SIZEC(UCTABS),8);

  11964  8 004552   000276 237000 9                  LDAQ    190
         8 004553   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004554   000300 236000 9                  LDQ     192
         8 004555   200617 756100                    STQ     DCB$+2,,AUTO
         8 004556   005132 701000 8                  TSX1    MOVE
         8 004557   000000 011000                    NOP     0

     1155    11965    3           DO I=1 TO -%M$MAXNEG#;          /* MAKE SPACE FOR HIDDEN DCB PTRS     */

  11965  8 004560   000001 235007                    LDA     1,DL
         8 004561   200015 755100                    STA     I,,AUTO

     1156    11966    3              CALL MOVE(ADDR(NIL),4,4);

  11966  8 004562   000001 236000 xsym               LDQ     B_VECTNIL+1
         8 004563   200720 756100                    STQ     @DCB#+46,,AUTO
         8 004564   000302 237000 9                  LDAQ    194
         8 004565   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004566   200720 630500                    EPPR0   @DCB#+46,,AUTO
         8 004567   200617 450500                    STP0    DCB$+2,,AUTO
         8 004570   005132 701000 8                  TSX1    MOVE
         8 004571   000000 011000                    NOP     0

     1157    11967    3              END;

  11967  8 004572   200015 054100                    AOS     I,,AUTO
         8 004573   200015 235100                    LDA     I,,AUTO
         8 004574   000040 115007                    CMPA    32,DL
         8 004575   004562 604400 8                  TMOZ    s:11966

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:191  
     1158    11968    2           ROS$->B$ROSEG.DCBPTR$=NEXT$;    /* SETUP POINTER TO DCB TABLE         */

  11968  8 004576   200605 236100                    LDQ     NEXT$,,AUTO
         8 004577   200607 470500                    LDP0    ROS$,,AUTO
         8 004600   000000 756100                    STQ     0,,PR0

     1159    11969    2           CALL MOVE(ADDR(NIL),4,4);       /* DCB0 POINTER                       */

  11969  8 004601   000001 236000 xsym               LDQ     B_VECTNIL+1
         8 004602   200721 756100                    STQ     @DCB#+47,,AUTO
         8 004603   000302 237000 9                  LDAQ    194
         8 004604   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004605   200721 631500                    EPPR1   @DCB#+47,,AUTO
         8 004606   200617 451500                    STP1    DCB$+2,,AUTO
         8 004607   005132 701000 8                  TSX1    MOVE
         8 004610   000000 011000                    NOP     0

     1160    11970    2           CALL MOVE(M_STAR$,4,4);

  11970  8 004611   000302 237000 9                  LDAQ    194
         8 004612   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004613   200610 630500                    EPPR0   M_STAR$,,AUTO
         8 004614   200617 450500                    STP0    DCB$+2,,AUTO
         8 004615   005132 701000 8                  TSX1    MOVE
         8 004616   000000 011000                    NOP     0

     1161    11971    2           CALL MOVE(M_LM$,4,4);

  11971  8 004617   000302 237000 9                  LDAQ    194
         8 004620   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004621   200611 630500                    EPPR0   M_LM$,,AUTO
         8 004622   200617 450500                    STP0    DCB$+2,,AUTO
         8 004623   005132 701000 8                  TSX1    MOVE
         8 004624   000000 011000                    NOP     0

     1162    11972    2           CALL MOVE(M_UC$,4,4);

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:192  
  11972  8 004625   000302 237000 9                  LDAQ    194
         8 004626   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004627   200612 630500                    EPPR0   M_UC$,,AUTO
         8 004630   200617 450500                    STP0    DCB$+2,,AUTO
         8 004631   005132 701000 8                  TSX1    MOVE
         8 004632   000000 011000                    NOP     0

     1163    11973    2           CALL MOVE(M_DO$,4,4);

  11973  8 004633   000302 237000 9                  LDAQ    194
         8 004634   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004635   200613 630500                    EPPR0   M_DO$,,AUTO
         8 004636   200617 450500                    STP0    DCB$+2,,AUTO
         8 004637   005132 701000 8                  TSX1    MOVE
         8 004640   000000 011000                    NOP     0

     1164    11974    3           DO I=1 TO 5;

  11974  8 004641   000001 235007                    LDA     1,DL
         8 004642   200015 755100                    STA     I,,AUTO

     1165    11975    3              CALL MOVE(ADDR(NIL),4,4);    /* 5 RESERVED DCB SLOTS               */

  11975  8 004643   000001 236000 xsym               LDQ     B_VECTNIL+1
         8 004644   200722 756100                    STQ     @DCB#+48,,AUTO
         8 004645   000302 237000 9                  LDAQ    194
         8 004646   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 004647   200722 630500                    EPPR0   @DCB#+48,,AUTO
         8 004650   200617 450500                    STP0    DCB$+2,,AUTO
         8 004651   005132 701000 8                  TSX1    MOVE
         8 004652   000000 011000                    NOP     0

     1166    11976    3              END;

  11976  8 004653   200015 054100                    AOS     I,,AUTO
         8 004654   200015 235100                    LDA     I,,AUTO
         8 004655   000005 115007                    CMPA    5,DL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:193  
         8 004656   004643 604400 8                  TMOZ    s:11975

     1167    11977    2           CALL MOVE(,HEADREC.ROSIZE*4,4); /* RESERVE SPACE FOR ROSEG

  11977  8 004657   000052 236000 1                  LDQ     HEADREC+8
         8 004660   000002 736000                    QLS     2
         8 004661   000304 376000 9                  ANQ     196
         8 004662   200723 756100                    STQ     @DCB#+49,,AUTO
         8 004663   000042 236000 9                  LDQ     34
         8 004664   200621 756100                    STQ     @SIZE+1,,AUTO
         8 004665   200723 630500                    EPPR0   @DCB#+49,,AUTO
         8 004666   200620 450500                    STP0    @STUFF+1,,AUTO
         8 004667   000001 236000 xsym               LDQ     B_VECTNIL+1
         8 004670   200617 756100                    STQ     DCB$+2,,AUTO
         8 004671   005132 701000 8                  TSX1    MOVE
         8 004672   000000 011000                    NOP     0

     1168    11978                                                   FROM RUN UNIT */
     1169    11979    2           IOBUF.PTR$=LAST$;

  11979  8 004673   200606 236100                    LDQ     LAST$,,AUTO
         8 004674   000113 756000 1                  STQ     IOBUF+1

     1170    11980    2           IOBUF.BOUND=SVIOBUF.BOUND+POFFC(SVIOBUF.PTR$,LAST$)-1;

  11980  8 004675   200606 236100                    LDQ     LAST$,,AUTO
         8 004676   000020 772000                    QRL     16
         8 004677   200644 756100                    STQ     @DCB#+2,,AUTO
         8 004700   001130 236000 1                  LDQ     X1+1
         8 004701   000020 772000                    QRL     16
         8 004702   200644 136100                    SBLQ    @DCB#+2,,AUTO
         8 004703   200645 756100                    STQ     @DCB#+3,,AUTO
         8 004704   001127 236000 1                  LDQ     X1
         8 004705   000020 772000                    QRL     16
         8 004706   200646 756100                    STQ     @DCB#+4,,AUTO
         8 004707   200645 236100                    LDQ     @DCB#+3,,AUTO
         8 004710   200646 036100                    ADLQ    @DCB#+4,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:194  
         8 004711   000001 136007                    SBLQ    1,DL
         8 004712   000020 736000                    QLS     16
         8 004713   000112 676000 1                  ERQ     IOBUF
         8 004714   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 004715   000112 656000 1                  ERSQ    IOBUF

     1171    11981    2           CALL READ_KEYED(ROSEG_KEY) ALTRET(NO_ROSEG);

  11981  8 004716   000305 236000 9                  LDQ     197
         8 004717   200623 756100                    STQ     @KEY,,AUTO
         8 004720   003043 701000 8                  TSX1    READ_KEYED
         8 004721   005123 702000 8                  TSX2    NO_ROSEG

     1172    11982    2           DCB$=SVIOBUF.PTR$;

  11982  8 004722   001130 236000 1                  LDQ     X1+1
         8 004723   200615 756100                    STQ     DCB$,,AUTO

     1173    11983    2           SIZE=SIZEC(DUMMY_DCB);

  11983  8 004724   000600 235007                    LDA     384,DL
         8 004725   200614 755100                    STA     SIZE,,AUTO

     1174    11984    3           DO I=0 TO HEADREC.UDCBNUM-1;

  11984  8 004726   200015 450100                    STZ     I,,AUTO
         8 004727   004775 710000 8                  TRA     s:11988+1

     1175    11985    3              LAST$->PBASE.WA(I)=LAST$->PBASE.WA(I)+LAST.WA;

  11985  8 004730   200606 235100                    LDA     LAST$,,AUTO
         8 004731   000022 771000                    ARL     18
         8 004732   200644 755100                    STA     @DCB#+2,,AUTO
         8 004733   200015 236100                    LDQ     I,,AUTO
         8 004734   000044 402007                    MPY     36,DL
         8 004735   000000 116003                    CMPQ    0,DU
         8 004736   004740 605000 8                  TPL     s:11985+8
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:195  
         8 004737   000044 036003                    ADLQ    36,DU
         8 004740   200606 470500                    LDP0    LAST$,,AUTO
         8 004741   003100 061506                    CSR     bolr='003'O
         8 004742   000000 000022                    BDSC    0,Q,PR0                  by=0,bit=0,n=18
         8 004743   200645 000044                    BDSC    @DCB#+3,,AUTO            by=0,bit=0,n=36
         8 004744   200645 236100                    LDQ     @DCB#+3,,AUTO
         8 004745   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 004746   200646 756100                    STQ     @DCB#+4,,AUTO
         8 004747   200015 236100                    LDQ     I,,AUTO
         8 004750   000044 402007                    MPY     36,DL
         8 004751   000000 116003                    CMPQ    0,DU
         8 004752   004754 605000 8                  TPL     s:11985+20
         8 004753   000044 036003                    ADLQ    36,DU
         8 004754   003106 061500                    CSR     bolr='003'O
         8 004755   200646 000044                    BDSC    @DCB#+4,,AUTO            by=0,bit=0,n=36
         8 004756   000000 000022                    BDSC    0,Q,PR0                  by=0,bit=0,n=18

     1176    11986    3              ADDR(DCB$)->PBASE.WA(0)=LAST$->PBASE.WA(I);

  11986  8 004757   200015 236100                    LDQ     I,,AUTO
         8 004760   000044 402007                    MPY     36,DL
         8 004761   000000 116003                    CMPQ    0,DU
         8 004762   004764 605000 8                  TPL     s:11986+5
         8 004763   000044 036003                    ADLQ    36,DU
         8 004764   003100 060506                    CSL     bolr='003'O
         8 004765   000000 000022                    BDSC    0,Q,PR0                  by=0,bit=0,n=18
         8 004766   200615 000022                    BDSC    DCB$,,AUTO               by=0,bit=0,n=18

     1177    11987    3              DCB$->STUFF=ADDR(M_DUMMY)->STUFF;

  11987  8 004767   200614 720100                    LXL0    SIZE,,AUTO
         8 004770   200615 471500                    LDP1    DCB$,,AUTO
         8 004771   040140 100440                    MLR     fill='040'O
         8 004772   000000 000010 xsym               ADSC9   M_DUMMY                  cn=0,n=*X0
         8 004773   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

     1178    11988    3              END;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:196  

  11988  8 004774   200015 054100                    AOS     I,,AUTO
         8 004775   000046 236000 1                  LDQ     HEADREC+4
         8 004776   000022 772000                    QRL     18
         8 004777   200015 116100                    CMPQ    I,,AUTO
         8 005000   004730 605400 8                  TPNZ    s:11985

     1179    11989    2           TEMP=HEADREC.UDCBNUM+HEADREC.DCBRES-1;

  11989  8 005001   000046 236000 1                  LDQ     HEADREC+4
         8 005002   777777 376007                    ANQ     -1,DL
         8 005003   200644 756100                    STQ     @DCB#+2,,AUTO
         8 005004   000046 236000 1                  LDQ     HEADREC+4
         8 005005   000022 772000                    QRL     18
         8 005006   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 005007   000001 136007                    SBLQ    1,DL
         8 005010   200014 756100                    STQ     TEMP,,AUTO

     1180    11990    3           DO I=HEADREC.UDCBNUM TO TEMP;

  11990  8 005011   000046 235000 1                  LDA     HEADREC+4
         8 005012   000022 771000                    ARL     18
         8 005013   200015 755100                    STA     I,,AUTO
         8 005014   005022 710000 8                  TRA     s:11992+1

     1181    11991    3              LAST$->PBASE$(I)=ADDR(NIL);  /* IN CASE LINKER MESSES UP           */

  11991  8 005015   000001 236000 xsym               LDQ     B_VECTNIL+1
         8 005016   200606 470500                    LDP0    LAST$,,AUTO
         8 005017   200015 720100                    LXL0    I,,AUTO
         8 005020   000000 756110                    STQ     0,X0,PR0

     1182    11992    3              END;

  11992  8 005021   200015 054100                    AOS     I,,AUTO
         8 005022   200015 236100                    LDQ     I,,AUTO
         8 005023   200014 116100                    CMPQ    TEMP,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:197  
         8 005024   005015 604400 8                  TMOZ    s:11991

     1183    11993    2           ROS$->B$ROSEG.NUMDCBS=HEADREC.UDCBNUM+HEADREC.DCBRES+9;

  11993  8 005025   000046 236000 1                  LDQ     HEADREC+4
         8 005026   777777 376007                    ANQ     -1,DL
         8 005027   200644 756100                    STQ     @DCB#+2,,AUTO
         8 005030   000046 236000 1                  LDQ     HEADREC+4
         8 005031   000022 772000                    QRL     18
         8 005032   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 005033   000011 620006                    EAX0    9,QL
         8 005034   200607 470500                    LDP0    ROS$,,AUTO
         8 005035   000002 740100                    STX0    2,,PR0

     1184    11994    2           CALL MOVE(G1TCB,SIZEC(G1TCB),8);

  11994  8 005036   000310 237000 9                  LDAQ    200
         8 005037   200620 757100                    STAQ    @STUFF+1,,AUTO
         8 005040   000307 236000 9                  LDQ     199
         8 005041   200617 756100                    STQ     DCB$+2,,AUTO
         8 005042   005132 701000 8                  TSX1    MOVE
         8 005043   000000 011000                    NOP     0

     1185    11995    2           ROS$->B$ROSEG.TREE$=LAST$;      /* POINTER TO TCB FOR AARDVARK        */

  11995  8 005044   200606 236100                    LDQ     LAST$,,AUTO
         8 005045   200607 470500                    LDP0    ROS$,,AUTO
         8 005046   000001 756100                    STQ     1,,PR0

     1186    11996    2           SVIOBUF.PTR$->DESC.BASE(15)=ROS_BASE%+(LAST.WA-1024)*4;

  11996  8 005047   200606 235100                    LDA     LAST$,,AUTO
         8 005050   777777 375003                    ANA     -1,DU
         8 005051   000020 771000                    ARL     16
         8 005052   560000 035007                    ADLA    -73728,DL
         8 005053   001130 471400 1                  LDP1    X1+1
         8 005054   100037 755100                    STA     31,,PR1
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:198  

     1187    11997    2           SVIOBUF.PTR$->DESC.BOUND(15)=4095-MOD(SVIOBUF.PTR$->DESC.BASE(15),4096);

  11997  8 005055   001130 471400 1                  LDP1    X1+1
         8 005056   100037 236100                    LDQ     31,,PR1
         8 005057   007777 376007                    ANQ     4095,DL
         8 005060   000027 676000 xsym               ERQ     B_VECTNIL+23
         8 005061   010000 036007                    ADLQ    4096,DL
         8 005062   000020 736000                    QLS     16
         8 005063   100036 676100                    ERQ     30,,PR1
         8 005064   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 005065   100036 656100                    ERSQ    30,,PR1

     1188    11998    2           SVIOBUF.PTR$->DESC.TYPE0.FLAGS(15)='563'O;

  11998  8 005066   001130 471400 1                  LDP1    X1+1
         8 005067   100036 236100                    LDQ     30,,PR1
         8 005070   000312 376000 9                  ANQ     202
         8 005071   134600 276007                    ORQ     47488,DL
         8 005072   100036 756100                    STQ     30,,PR1

     1189    11999    2           SVIOBUF.PTR$->DESC.TYPE0.FLAGS(1)='763'O;

  11999  8 005073   001130 471400 1                  LDP1    X1+1
         8 005074   100002 236100                    LDQ     2,,PR1
         8 005075   000312 376000 9                  ANQ     202
         8 005076   174600 276007                    ORQ     63872,DL
         8 005077   100002 756100                    STQ     2,,PR1

     1190    12000    2           OUTBUF=SVIOBUF;

  12000  8 005100   000100 100400                    MLR     fill='000'O
         8 005101   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 005102   200566 000010                    ADSC9   OUTBUF,,AUTO             cn=0,n=8

     1191    12001    2           OUTBUF.BOUND=POFFC(NEXT$,SVIOBUF.PTR$)-1;

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:199  
  12001  8 005103   001130 236000 1                  LDQ     X1+1
         8 005104   000020 772000                    QRL     16
         8 005105   200644 756100                    STQ     @DCB#+2,,AUTO
         8 005106   200605 236100                    LDQ     NEXT$,,AUTO
         8 005107   000020 772000                    QRL     16
         8 005110   200644 136100                    SBLQ    @DCB#+2,,AUTO
         8 005111   000001 136007                    SBLQ    1,DL
         8 005112   000020 736000                    QLS     16
         8 005113   200566 676100                    ERQ     OUTBUF,,AUTO
         8 005114   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 005115   200566 656100                    ERSQ    OUTBUF,,AUTO

     1192    12002    2           IOBUF=SVIOBUF; /* LEAVE THINGS AS THEY WERE */;

  12002  8 005116   000000 100400                    MLR     fill='000'O
         8 005117   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 005120   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

     1193    12003    2           RETURN;

  12003  8 005121   200604 221300                    LDX1  ! MDNAMBUF+2,,AUTO
         8 005122   000001 702211                    TSX2  ! 1,X1

  12002  8 005123                       NO_ROSEG     null
     1194    12004    2   NO_ROSEG: ;
     1195    12005    2           CALL ABORT_DEF(NO_ROS_CODE,DCBNUM(NIL));

  12005  8 005123   000015 236000 9                  LDQ     13
         8 005124   200642 756100                    STQ     @DCB#,,AUTO
         8 005125   000313 236000 9                  LDQ     203
         8 005126   200641 756100                    STQ     @CODE1,,AUTO
         8 005127   002104 701000 8                  TSX1    ABORT_DEF
         8 005130   000000 011000                    NOP     0
         8 005131   005263 710000 8                  TRA     s:12030

     1196    12006        /*E*       ERROR:      IDU-E$NO_ROS
     1197    12007                   MESSAGE: GHOST1 run unit has no ROSEG record(s).
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:200  
     1198    12008        */
     1199    12009    2   MOVE:   PROC(STUFF,SIZE,BOUND);

  12009  8 005132   200616 741300       MOVE         STX1  ! DCB$+1,,AUTO

     1200    12010    3   DCL STUFF CHAR(SIZE);
     1201    12011    3   DCL SIZE SBIN;
     1202    12012    3   DCL BOUND SBIN;
     1203    12013    3   DCL MBASE CHAR(SIZE) BASED(LAST$);
     1204    12014    3   DCL X SBIN;
     1205    12015        /**/
     1206    12016    3           IF MOD(NEXT.CHR,BOUND)~=0 THEN

  12016  8 005133   200621 470500                    LDP0    @BOUND,,AUTO
         8 005134   200605 236100                    LDQ     NEXT$,,AUTO
         8 005135   000020 772000                    QRL     16
         8 005136   000000 506100                    DIV     0,,PR0
         8 005137   000044 733000                    LRS     36
         8 005140   000000 116003                    CMPQ    0,DU
         8 005141   005160 600000 8                  TZE     s:12018

     1207    12017    3              NEXT.CHR=NEXT.CHR+BOUND-MOD(NEXT.CHR,BOUND);

  12017  8 005142   200605 236100                    LDQ     NEXT$,,AUTO
         8 005143   000020 772000                    QRL     16
         8 005144   000000 036100                    ADLQ    0,,PR0
         8 005145   200644 756100                    STQ     @DCB#+2,,AUTO
         8 005146   200605 236100                    LDQ     NEXT$,,AUTO
         8 005147   000020 772000                    QRL     16
         8 005150   000000 506100                    DIV     0,,PR0
         8 005151   200645 755100                    STA     @DCB#+3,,AUTO
         8 005152   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 005153   200645 136100                    SBLQ    @DCB#+3,,AUTO
         8 005154   000020 736000                    QLS     16
         8 005155   200605 676100                    ERQ     NEXT$,,AUTO
         8 005156   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 005157   200605 656100                    ERSQ    NEXT$,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:201  

     1208    12018    3           LAST$=NEXT$;

  12018  8 005160   200605 236100                    LDQ     NEXT$,,AUTO
         8 005161   200606 756100                    STQ     LAST$,,AUTO

     1209    12019    3           NEXT$=PINCRC(NEXT$,SIZE);

  12019  8 005162   200620 471500                    LDP1    @SIZE,,AUTO
         8 005163   100000 236100                    LDQ     0,,PR1
         8 005164   000020 736000                    QLS     16
         8 005165   200605 036100                    ADLQ    NEXT$,,AUTO
         8 005166   200605 756100                    STQ     NEXT$,,AUTO

     1210    12020    3           IF MOD(NEXT.CHR,BOUND)~=0 THEN

  12020  8 005167   200605 236100                    LDQ     NEXT$,,AUTO
         8 005170   000020 772000                    QRL     16
         8 005171   000000 506100                    DIV     0,,PR0
         8 005172   000044 733000                    LRS     36
         8 005173   000000 116003                    CMPQ    0,DU
         8 005174   005213 600000 8                  TZE     s:12022

     1211    12021    3              NEXT.CHR=NEXT.CHR+BOUND-MOD(NEXT.CHR,BOUND);

  12021  8 005175   200605 236100                    LDQ     NEXT$,,AUTO
         8 005176   000020 772000                    QRL     16
         8 005177   000000 036100                    ADLQ    0,,PR0
         8 005200   200644 756100                    STQ     @DCB#+2,,AUTO
         8 005201   200605 236100                    LDQ     NEXT$,,AUTO
         8 005202   000020 772000                    QRL     16
         8 005203   000000 506100                    DIV     0,,PR0
         8 005204   200645 755100                    STA     @DCB#+3,,AUTO
         8 005205   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 005206   200645 136100                    SBLQ    @DCB#+3,,AUTO
         8 005207   000020 736000                    QLS     16
         8 005210   200605 676100                    ERQ     NEXT$,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:202  
         8 005211   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 005212   200605 656100                    ERSQ    NEXT$,,AUTO

     1212    12022    3           X=1+POFFW(NEXT$,SVIOBUF.PTR$)/1024;

  12022  8 005213   001130 235000 1                  LDA     X1+1
         8 005214   000022 771000                    ARL     18
         8 005215   200644 755100                    STA     @DCB#+2,,AUTO
         8 005216   200605 236100                    LDQ     NEXT$,,AUTO
         8 005217   000022 772000                    QRL     18
         8 005220   200644 136100                    SBLQ    @DCB#+2,,AUTO
         8 005221   002000 506007                    DIV     1024,DL
         8 005222   000001 036007                    ADLQ    1,DL
         8 005223   200622 756100                    STQ     X,,AUTO

     1213    12023    3           CALL IDD$GETSEG(SVIOBUF,X*1024) ALTRET(NO_MEM);

  12023  8 005224   200622 235100                    LDA     X,,AUTO
         8 005225   000012 735000                    ALS     10
         8 005226   200644 755100                    STA     @DCB#+2,,AUTO
         8 005227   200644 633500                    EPPR3   @DCB#+2,,AUTO
         8 005230   200647 453500                    STP3    @DCB#+5,,AUTO
         8 005231   000001 236000 9                  LDQ     1
         8 005232   200646 756100                    STQ     @DCB#+4,,AUTO
         8 005233   200646 630500                    EPPR0   @DCB#+4,,AUTO
         8 005234   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 005235   000000 701000 xent               TSX1    IDD$GETSEG
         8 005236   005253 702000 8                  TSX2    NO_MEM

     1214    12024    3           IF ADDR(STUFF)~=ADDR(NIL) THEN

  12024  8 005237   200617 236100                    LDQ     @STUFF,,AUTO
         8 005240   000001 116000 xsym               CMPQ    B_VECTNIL+1
         8 005241   005251 600000 8                  TZE     s:12026

     1215    12025    3              MBASE=STUFF;

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:203  
  12025  8 005242   200620 470500                    LDP0    @SIZE,,AUTO
         8 005243   000000 720100                    LXL0    0,,PR0
         8 005244   200617 471500                    LDP1    @STUFF,,AUTO
         8 005245   200606 473500                    LDP3    LAST$,,AUTO
         8 005246   040140 100540                    MLR     fill='040'O
         8 005247   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0
         8 005250   300000 000010                    ADSC9   0,,PR3                   cn=0,n=*X0

     1216    12026    3           RETURN;

  12026  8 005251   200616 221300                    LDX1  ! DCB$+1,,AUTO
         8 005252   000001 702211                    TSX2  ! 1,X1

  12024  8 005253                       NO_MEM       null
     1217    12027    3   NO_MEM: ;
     1218    12028    3           CALL ABORT_DEF(NO_BUFFER_CODE,DCBNUM(NIL));

  12028  8 005253   000015 236000 9                  LDQ     13
         8 005254   200642 756100                    STQ     @DCB#,,AUTO
         8 005255   000134 236000 9                  LDQ     92
         8 005256   200641 756100                    STQ     @CODE1,,AUTO
         8 005257   002104 701000 8                  TSX1    ABORT_DEF
         8 005260   000000 011000                    NOP     0

     1219    12029    3   END MOVE;

  12029  8 005261   200616 221300                    LDX1  ! DCB$+1,,AUTO
         8 005262   000001 702211                    TSX2  ! 1,X1

     1220    12030    2   END BUILD_G1RO;

  12030  8 005263   200604 221300                    LDX1  ! MDNAMBUF+2,,AUTO
         8 005264   000001 702211                    TSX2  ! 1,X1
         8 005265   005270 710000 8                  TRA     s:12033

     1221    12031        %EJECT;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:204  
     1222    12032    1   IDU$ALTSCH: ENTRY;

  12032  8 005266   000000 700200 xent  IDU$ALTSCH   TSX0  ! X66_AUTO_0
         8 005267   000730 000000                    ZERO    472,0

     1223    12033    1           CALL WRITE_AS_SCHEMA;

  12033  8 005270   005273 701000 8                  TSX1    WRITE_AS_SCHEMA
         8 005271   000000 011000                    NOP     0

     1224    12034    1           RETURN;

  12034  8 005272   000000 702200 xent               TSX2  ! X66_ARET

     1225    12035    1   WRITE_AS_SCHEMA: PROC;

  12035  8 005273   200604 741300       WRITE_AS_SC* STX1  ! MDNAMBUF+2,,AUTO

     1226    12036    2   DCL 1 DNAMBUF,
     1227    12037    2         2 BOUND UBIN(20) UNAL,
     1228    12038    2         2 FLAGS BIT(16),
     1229    12039    2         2 PTR$ PTR;
     1230    12040    2   DCL 1 DNAMEREC(0:0) BASED(DNAMBUF.PTR$),
     1231    12041    2         2 CNT UBIN HALF UNAL,
     1232    12042    2         2 FCG CHAR(2);
     1233    12043    2   DCL 1 FCGHDR STATIC,
     1234    12044    2         2 FCG CHAR(2),
     1235    12045    2         2 * UBIN HALF UNAL INIT(0),
     1236    12046    2         2 NPR UBIN WORD,
     1237    12047    2         2 NOU UBIN WORD INIT(1);
     1238    12048    2   DCL 1 DBHDR,
     1239    12049    2         2 NPTR SBIN WORD UNAL,
     1240    12050    2         2 RECS (0:4),
     1241    12051    2           3 * SBIN WORD UNAL,
     1242    12052    2           3 SIZE SBIN WORD UNAL;
     1243    12053    2   DCL 1 FIRST_DEBUG_KEY CONSTANT ALIGNED,
     1244    12054    2         2 * UBIN BYTE UNAL INIT(7),
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:205  
     1245    12055    2         2 * BIT(9) INIT('777'O),
     1246    12056    2         2 * UBIN HALF UNAL INIT(0),
     1247    12057    2         2 * UBIN HALF UNAL INIT(0),
     1248    12058    2         2 * UBIN BYTE UNAL INIT(0),
     1249    12059    2         2 * UBIN BYTE UNAL INIT(0);
     1250    12060        %ERRCODE (NAME=ASCHEMA_ERR_CODE,CODE#=%E$ASCHEMA_ERR);
     1251    12067    2   DCL AHDR1 CHAR(0) CONSTANT INIT(
     1252    12068    2         '%/    ALTER SCHEMA%/FCG  #REC  #OU    SIZE');
     1253    12069    2   DCL AFMT1 CHAR(0) CONSTANT INIT(
     1254    12070    2         '%X%2A%2X%4D%2X%3D%2X%6O');
     1255    12071        /**/
     1256    12072    2           SVIOBUF='0'B;

  12072  8 005274   001127 450000 1                  STZ     X1
         8 005275   001130 450000 1                  STZ     X1+1

     1257    12073    2           CALL   IDD$GETSEG(SVIOBUF,1024);/* ALTRET(NO_MEM);                    */

  12073  8 005276   000001 630400 9                  EPPR0   1
         8 005277   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 005300   000000 701000 xent               TSX1    IDD$GETSEG
         8 005301   000000 011000                    NOP     0

     1258    12074    2           IOBUF=SVIOBUF;

  12074  8 005302   000000 100400                    MLR     fill='000'O
         8 005303   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 005304   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

     1259    12075    2           POAS=DCBNUM(M$AS);

  12075  8 005305   000000 236007 xsym               LDQ     M$AS,DL
         8 005306   000041 756000 1                  STQ     POAS

     1260    12076    2           M$AS$=DCBADDR(DCBNUM(M$AS));

  12076  8 005307   000000 236007 xsym               LDQ     M$AS,DL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:206  
         8 005310   000005 470400 9                  LDP0    5
         8 005311   000000 471500                    LDP1    0,,PR0
         8 005312   100000 236106                    LDQ     0,QL,PR1
         8 005313   200006 756100                    STQ     M$AS$,,AUTO

     1261    12077    2           M$INPUT$=DCBADDR(DCBNUM(M$INPUT));

  12077  8 005314   000000 236007 xsym               LDQ     M$INPUT,DL
         8 005315   100000 236106                    LDQ     0,QL,PR1
         8 005316   200010 756100                    STQ     M$INPUT$,,AUTO

     1262    12078    2           FPT_OPENAS.V.DENSITY#=ID_DENSITY;

  12078  8 005317   000000 236000 xsym               LDQ     ID_DENSITY
         8 005320   000274 552004 1                  STBQ    FPT_OPENAS+54,'04'O

     1263    12079    2           IF ID_VERIFLG THEN

  12079  8 005321   000000 234000 xsym               SZN     ID_VERIFLG
         8 005322   005326 605000 8                  TPL     s:12082

     1264    12080    2              FPT_OPENAS.V.FUN#=%IN#;

  12080  8 005323   002000 236007                    LDQ     1024,DL
         8 005324   000253 552010 1                  STBQ    FPT_OPENAS+37,'10'O
         8 005325   005330 710000 8                  TRA     s:12083

     1265    12081    2           ELSE
     1266    12082    2              FPT_OPENAS.V.FUN#=%CREATE#;

  12082  8 005326   003000 236007                    LDQ     1536,DL
         8 005327   000253 552010 1                  STBQ    FPT_OPENAS+37,'10'O

     1267    12083    2           RES=M$AS$->F$DCB.RES;

  12083  8 005330   200006 473500                    LDP3    M$AS$,,AUTO
         8 005331   300026 220100                    LDX0    22,,PR3
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:207  
         8 005332   200017 740100                    STX0    RES,,AUTO

     1268    12084    3           IF RES='FT' OR RES='MT' THEN DO;

  12084  8 005333   000243 100000 2                  CMPX0   AFMT1+7
         8 005334   005337 600000 8                  TZE     s:12085
         8 005335   000242 100000 2                  CMPX0   AFMT1+6
         8 005336   005352 601000 8                  TNZ     s:12089

     1269    12085    3              CALL M$OPEN(FPT_OPENAS) ALTRET(OPN_AS_ERROR);

  12085  8 005337   000206 630400 1                  EPPR0   FPT_OPENAS
         8 005340   450000 713400                    CLIMB   alt,open
         8 005341   410400 401760                    pmme    nvectors=18
         8 005342   006327 702000 8                  TSX2    OPN_AS_ERROR

     1270    12086    3              FPT_REW.V.PSN#=ID_ASLIST.C(0);

  12086  8 005343   040000 100400                    MLR     fill='040'O
         8 005344   000001 000006 xsym               ADSC9   ID_ASLIST+1              cn=0,n=6
         8 005345   000303 400006 1                  ADSC9   FPT_REW+3                cn=2,n=6

     1271    12087    3              CALL M$REW(FPT_REW) ALTRET(OPN_AS_ERROR);

  12087  8 005346   000300 630400 1                  EPPR0   FPT_REW
         8 005347   440006 713400                    CLIMB   alt,+16390
         8 005350   400000 401760                    pmme    nvectors=1
         8 005351   006327 702000 8                  TSX2    OPN_AS_ERROR

     1272    12088    3              END;

     1273    12089    2           FPT_OPENAS.V.OPER.MNTONLY#='0'B;

  12089  8 005352   000006 236000 9                  LDQ     6
         8 005353   000252 356000 1                  ANSQ    FPT_OPENAS+36

     1274    12090    2           FPT_OPENAS.V.INITZ='11'B;       /* SCRUB AND REASSIGN                 */
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:208  

  12090  8 005354   600000 236007                    LDQ     -65536,DL
         8 005355   000252 256000 1                  ORSQ    FPT_OPENAS+36

     1275    12091    2           CALL M$OPEN (FPT_OPENAS) ALTRET(OPN_AS_ERROR);

  12091  8 005356   000206 630400 1                  EPPR0   FPT_OPENAS
         8 005357   450000 713400                    CLIMB   alt,open
         8 005360   410400 401760                    pmme    nvectors=18
         8 005361   006327 702000 8                  TSX2    OPN_AS_ERROR

     1276    12092    2           CALL IDO$OPENFILE(ASCHEMA,DCBNUM(M$INPUT),ERRCODE) ALTRET(NO_ASCHEMA);

  12092  8 005362   000000 236007 xsym               LDQ     M$INPUT,DL
         8 005363   200644 756100                    STQ     @DCB#+2,,AUTO
         8 005364   200565 630500                    EPPR0   ERRCODE,,AUTO
         8 005365   200647 450500                    STP0    @DCB#+5,,AUTO
         8 005366   200644 631500                    EPPR1   @DCB#+2,,AUTO
         8 005367   200646 451500                    STP1    @DCB#+4,,AUTO
         8 005370   000314 236000 9                  LDQ     204
         8 005371   200645 756100                    STQ     @DCB#+3,,AUTO
         8 005372   200645 630500                    EPPR0   @DCB#+3,,AUTO
         8 005373   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 005374   000000 701000 xent               TSX1    IDO$OPENFILE
         8 005375   006337 702000 8                  TSX2    NO_ASCHEMA

     1277    12093    2           CALL RDHEAD;

  12093  8 005376   002131 701000 8                  TSX1    RDHEAD
         8 005377   000000 011000                    NOP     0

     1278    12094    2           SCH_FCGS=0;

  12094  8 005400   001110 450000 1                  STZ     SCH_FCGS

     1279    12095    2           TEMP=HEADREC.EPRECSIZE;

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:209  
  12095  8 005401   000051 235000 1                  LDA     HEADREC+7
         8 005402   000022 771000                    ARL     18
         8 005403   200014 755100                    STA     TEMP,,AUTO

     1280    12096    2           ASCH20=ASCHEMA_TYP;

  12096  8 005404   000000 236000 xsym               LDQ     ASCHEMA_TYP
         8 005405   000020 736000                    QLS     16
         8 005406   200007 756100                    STQ     ASCH20,,AUTO

     1281    12097    2           CALL WRITE_HEADER(0,AEDEFTC,TEMP,BINARY,ASCH20);

  12097  8 005407   200007 630500                    EPPR0   ASCH20,,AUTO
         8 005410   200627 450500                    STP0    @START,,AUTO
         8 005411   000014 236000 9                  LDQ     12
         8 005412   200626 756100                    STQ     CSIZ,,AUTO
         8 005413   200014 631500                    EPPR1   TEMP,,AUTO
         8 005414   200625 451500                    STP1    Z$,,AUTO
         8 005415   000316 236000 9                  LDQ     206
         8 005416   200624 756100                    STQ     @TYPE,,AUTO
         8 005417   000015 236000 9                  LDQ     13
         8 005420   200623 756100                    STQ     @KEY,,AUTO
         8 005421   002642 701000 8                  TSX1    WRITE_HEADER
         8 005422   000000 011000                    NOP     0

     1282    12098    2           CALL READ_KEYED(MEDEFKEY);

  12098  8 005423   000053 236000 9                  LDQ     43
         8 005424   200623 756100                    STQ     @KEY,,AUTO
         8 005425   003043 701000 8                  TSX1    READ_KEYED
         8 005426   000000 011000                    NOP     0

     1283    12099    2           CALL WRITE_PAGE_SIZE_CHUNKS(BINARY,OUTBUF);

  12099  8 005427   200566 630500                    EPPR0   OUTBUF,,AUTO
         8 005430   200624 450500                    STP0    @TYPE,,AUTO
         8 005431   000014 236000 9                  LDQ     12
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:210  
         8 005432   200623 756100                    STQ     @KEY,,AUTO
         8 005433   002562 701000 8                  TSX1    WRITE_PAGE_SIZE_CHUNKS
         8 005434   000000 011000                    NOP     0

     1284    12100    2           TEMP=HEADREC.EDRECSIZE;

  12100  8 005435   000051 236000 1                  LDQ     HEADREC+7
         8 005436   777777 376007                    ANQ     -1,DL
         8 005437   200014 756100                    STQ     TEMP,,AUTO

     1285    12101    2           CALL WRITE_HEADER(-1,ASDEFTC,TEMP,BINARY,0);

  12101  8 005440   000014 237000 9                  LDAQ    12
         8 005441   200626 757100                    STAQ    CSIZ,,AUTO
         8 005442   200014 630500                    EPPR0   TEMP,,AUTO
         8 005443   200625 450500                    STP0    Z$,,AUTO
         8 005444   000320 236000 9                  LDQ     208
         8 005445   200624 756100                    STQ     @TYPE,,AUTO
         8 005446   000051 236000 9                  LDQ     41
         8 005447   200623 756100                    STQ     @KEY,,AUTO
         8 005450   002642 701000 8                  TSX1    WRITE_HEADER
         8 005451   000000 011000                    NOP     0

     1286    12102    2           CALL READ_KEYED(MSDEFKEY);

  12102  8 005452   000056 236000 9                  LDQ     46
         8 005453   200623 756100                    STQ     @KEY,,AUTO
         8 005454   003043 701000 8                  TSX1    READ_KEYED
         8 005455   000000 011000                    NOP     0

     1287    12103    2           CALL WRITE_PAGE_SIZE_CHUNKS(BINARY,OUTBUF);

  12103  8 005456   200566 630500                    EPPR0   OUTBUF,,AUTO
         8 005457   200624 450500                    STP0    @TYPE,,AUTO
         8 005460   000014 236000 9                  LDQ     12
         8 005461   200623 756100                    STQ     @KEY,,AUTO
         8 005462   002562 701000 8                  TSX1    WRITE_PAGE_SIZE_CHUNKS
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:211  
         8 005463   000000 011000                    NOP     0

     1288    12104    2           TEMP=HEADREC.NRECSIZE;

  12104  8 005464   000050 236000 1                  LDQ     HEADREC+6
         8 005465   777777 376007                    ANQ     -1,DL
         8 005466   200014 756100                    STQ     TEMP,,AUTO

     1289    12105    2           CALL WRITE_HEADER(-1,ADNAMTC,TEMP,ASCII,0);

  12105  8 005467   000046 237000 9                  LDAQ    38
         8 005470   200626 757100                    STAQ    CSIZ,,AUTO
         8 005471   200014 630500                    EPPR0   TEMP,,AUTO
         8 005472   200625 450500                    STP0    Z$,,AUTO
         8 005473   000322 236000 9                  LDQ     210
         8 005474   200624 756100                    STQ     @TYPE,,AUTO
         8 005475   000051 236000 9                  LDQ     41
         8 005476   200623 756100                    STQ     @KEY,,AUTO
         8 005477   002642 701000 8                  TSX1    WRITE_HEADER
         8 005500   000000 011000                    NOP     0

     1290    12106    2           CALL READ_KEYED(MDNAMKEY);

  12106  8 005501   000044 236000 9                  LDQ     36
         8 005502   200623 756100                    STQ     @KEY,,AUTO
         8 005503   003043 701000 8                  TSX1    READ_KEYED
         8 005504   000000 011000                    NOP     0

     1291    12107    2           CALL WRITE_PAGE_SIZE_CHUNKS(ASCII,OUTBUF);

  12107  8 005505   200566 630500                    EPPR0   OUTBUF,,AUTO
         8 005506   200624 450500                    STP0    @TYPE,,AUTO
         8 005507   000015 236000 9                  LDQ     13
         8 005510   200623 756100                    STQ     @KEY,,AUTO
         8 005511   002562 701000 8                  TSX1    WRITE_PAGE_SIZE_CHUNKS
         8 005512   000000 011000                    NOP     0

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:212  
     1292    12108    2           DNAMBUF=OUTBUF;

  12108  8 005513   200566 237100                    LDAQ    OUTBUF,,AUTO
         8 005514   200605 755100                    STA     DNAMBUF,,AUTO
         8 005515   200606 756100                    STQ     LAST$,,AUTO

     1293    12109    2           CALL IDD$GETSEG(SVIOBUF,(DNAMBUF.BOUND+1)/4);

  12109  8 005516   200605 236100                    LDQ     DNAMBUF,,AUTO
         8 005517   000020 772000                    QRL     16
         8 005520   000001 036007                    ADLQ    1,DL
         8 005521   000002 772000                    QRL     2
         8 005522   200644 756100                    STQ     @DCB#+2,,AUTO
         8 005523   200644 630500                    EPPR0   @DCB#+2,,AUTO
         8 005524   200647 450500                    STP0    @DCB#+5,,AUTO
         8 005525   000001 236000 9                  LDQ     1
         8 005526   200646 756100                    STQ     @DCB#+4,,AUTO
         8 005527   200646 630500                    EPPR0   @DCB#+4,,AUTO
         8 005530   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 005531   000000 701000 xent               TSX1    IDD$GETSEG
         8 005532   000000 011000                    NOP     0

     1294    12110    2           SVIOBUF='0'B;

  12110  8 005533   001127 450000 1                  STZ     X1
         8 005534   001130 450000 1                  STZ     X1+1

     1295    12111    2           CALL IDD$GETSEG(SVIOBUF,1024);

  12111  8 005535   000001 630400 9                  EPPR0   1
         8 005536   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 005537   000000 701000 xent               TSX1    IDD$GETSEG
         8 005540   000000 011000                    NOP     0

     1296    12112    2           IOBUF=SVIOBUF;

  12112  8 005541   000000 100400                    MLR     fill='000'O
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:213  
         8 005542   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 005543   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

     1297    12113    2           CALL WRITE_HEADER(0,ASCHEMTC,0,BINARY,0);

  12113  8 005544   000014 237000 9                  LDAQ    12
         8 005545   200626 757100                    STAQ    CSIZ,,AUTO
         8 005546   000324 237000 9                  LDAQ    212
         8 005547   200624 757100                    STAQ    @TYPE,,AUTO
         8 005550   000015 236000 9                  LDQ     13
         8 005551   200623 756100                    STQ     @KEY,,AUTO
         8 005552   002642 701000 8                  TSX1    WRITE_HEADER
         8 005553   000000 011000                    NOP     0

     1298    12114    2           CALL READ_KEYED(FIRST_DEBUG_KEY);

  12114  8 005554   000326 236000 9                  LDQ     214
         8 005555   200623 756100                    STQ     @KEY,,AUTO
         8 005556   003043 701000 8                  TSX1    READ_KEYED
         8 005557   000000 011000                    NOP     0

     1299    12115    2           DBKEY.CNT=7;

  12115  8 005560   007000 236003                    LDQ     3584,DU
         8 005561   001111 552040 1                  STBQ    LAST_KEY_READ,'40'O

     1300    12116    3           DO WHILE (DBKEY.SEVENS='777'O AND DBKEY.CNT=7 AND RUMKEY.TYPE~=20
             12116                    /* TYPE=RUM */ );

  12116  8 005562   006231 710000 8                  TRA     s:12171

     1301    12117    3              CALL READ_SEQUENTIAL;

  12117  8 005563   002335 701000 8                  TSX1    READ_SEQUENTIAL
         8 005564   000000 011000                    NOP     0

     1302    12118    3              DBHDR='0'B;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:214  

  12118  8 005565   000100 100400                    MLR     fill='000'O
         8 005566   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         8 005567   200607 000054                    ADSC9   DBHDR,,AUTO              cn=0,n=44

     1303    12119    3              DBHDR.NPTR=DBKEY.NPTR;

  12119  8 005570   001112 235000 1                  LDA     LAST_KEY_READ+1
         8 005571   000022 771000                    ARL     18
         8 005572   200607 755100                    STA     DBHDR,,AUTO

     1304    12120    3              FCGHDR.FCG=DNAMEREC.FCG(DBHDR.NPTR);

  12120  8 005573   000002 735000                    ALS     2
         8 005574   200606 470500                    LDP0    LAST$,,AUTO
         8 005575   040000 100505                    MLR     fill='040'O
         8 005576   000000 400002                    ADSC9   0,A,PR0                  cn=2,n=2
         8 005577   002651 000002 1                  ADSC9   FCGHDR                   cn=0,n=2

     1305    12121    3              FCGHDR.NPR=1;

  12121  8 005600   000001 236007                    LDQ     1,DL
         8 005601   002652 756000 1                  STQ     FCGHDR+1

     1306    12122    3              DBHDR.RECS.SIZE(DBKEY.TYPE-11)=M$INPUT$->F$DCB.ARS/4;

  12122  8 005602   001112 236000 1                  LDQ     LAST_KEY_READ+1
         8 005603   000011 772000                    QRL     9
         8 005604   000777 376007                    ANQ     511,DL
         8 005605   000001 736000                    QLS     1
         8 005606   200010 471500                    LDP1    M$INPUT$,,AUTO
         8 005607   000000 620006                    EAX0    0,QL
         8 005610   100000 236100                    LDQ     0,,PR1
         8 005611   000004 506007                    DIV     4,DL
         8 005612   200563 756110                    STQ     SCHEMASTUFF+353,X0,AUTO

     1307    12123    3              IOBUF.PTR$=PINCRC(IOBUF.PTR$,M$INPUT$->F$DCB.ARS);
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:215  

  12123  8 005613   100000 236100                    LDQ     0,,PR1
         8 005614   000020 736000                    QLS     16
         8 005615   000113 036000 1                  ADLQ    IOBUF+1
         8 005616   000113 756000 1                  STQ     IOBUF+1

     1308    12124    3              IOBUF.BOUND=IOBUF.BOUND-M$INPUT$->F$DCB.ARS;

  12124  8 005617   000112 236000 1                  LDQ     IOBUF
         8 005620   000020 772000                    QRL     16
         8 005621   100000 136100                    SBLQ    0,,PR1
         8 005622   000020 736000                    QLS     16
         8 005623   000112 676000 1                  ERQ     IOBUF
         8 005624   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 005625   000112 656000 1                  ERSQ    IOBUF

     1309    12125    3              CALL READ_SEQUENTIAL ALTRET(END_DB);

  12125  8 005626   002335 701000 8                  TSX1    READ_SEQUENTIAL
         8 005627   005737 702000 8                  TSX2    END_DB

     1310    12126    4              DO WHILE (DBKEY.NPTR=DBHDR.NPTR);

  12126  8 005630   001112 236000 1                  LDQ     LAST_KEY_READ+1
         8 005631   000022 772000                    QRL     18
         8 005632   200607 116100                    CMPQ    DBHDR,,AUTO
         8 005633   005737 601000 8                  TNZ     END_DB

     1311    12127    4                DBHDR.RECS.SIZE(DBKEY.TYPE-11)=DBHDR.RECS.SIZE(DBKEY.TYPE-11)+M$INPUT$
             12127                          ->F$DCB.ARS/4;

  12127  8 005634   001112 236000 1                  LDQ     LAST_KEY_READ+1
         8 005635   000011 772000                    QRL     9
         8 005636   000777 376007                    ANQ     511,DL
         8 005637   000001 736000                    QLS     1
         8 005640   200010 470500                    LDP0    M$INPUT$,,AUTO
         8 005641   000000 620006                    EAX0    0,QL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:216  
         8 005642   000000 236100                    LDQ     0,,PR0
         8 005643   000004 506007                    DIV     4,DL
         8 005644   200644 756100                    STQ     @DCB#+2,,AUTO
         8 005645   001112 236000 1                  LDQ     LAST_KEY_READ+1
         8 005646   000011 772000                    QRL     9
         8 005647   000777 376007                    ANQ     511,DL
         8 005650   000001 736000                    QLS     1
         8 005651   000000 621006                    EAX1    0,QL
         8 005652   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 005653   200563 036111                    ADLQ    SCHEMASTUFF+353,X1,AUTO
         8 005654   200563 756110                    STQ     SCHEMASTUFF+353,X0,AUTO

     1312    12128    4                 IOBUF.PTR$=PINCRC(IOBUF.PTR$,M$INPUT$->F$DCB.ARS);

  12128  8 005655   000000 236100                    LDQ     0,,PR0
         8 005656   000020 736000                    QLS     16
         8 005657   000113 036000 1                  ADLQ    IOBUF+1
         8 005660   000113 756000 1                  STQ     IOBUF+1

     1313    12129    4                 IOBUF.BOUND=IOBUF.BOUND-M$INPUT$->F$DCB.ARS;

  12129  8 005661   000112 236000 1                  LDQ     IOBUF
         8 005662   000020 772000                    QRL     16
         8 005663   000000 136100                    SBLQ    0,,PR0
         8 005664   000020 736000                    QLS     16
         8 005665   000112 676000 1                  ERQ     IOBUF
         8 005666   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 005667   000112 656000 1                  ERSQ    IOBUF

     1314    12130    5                 IF IOBUF.BOUND=%BITBIN(%CONCAT('777777'O,'11'B)) THEN DO;

  12130  8 005670   000112 236000 1                  LDQ     IOBUF
         8 005671   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 005672   000034 116000 xsym               CMPQ    B_VECTNIL+28
         8 005673   005731 601000 8                  TNZ     s:12135

     1315    12131    5                    I=SVIOBUF.BOUND/4+1025;
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:217  

  12131  8 005674   001127 236000 1                  LDQ     X1
         8 005675   000020 772000                    QRL     16
         8 005676   000002 772000                    QRL     2
         8 005677   002001 036007                    ADLQ    1025,DL
         8 005700   200015 756100                    STQ     I,,AUTO

     1316    12132    5                    CALL IDD$GETSEG(SVIOBUF,I) ALTRET(IOERR);

  12132  8 005701   200015 631500                    EPPR1   I,,AUTO
         8 005702   200645 451500                    STP1    @DCB#+3,,AUTO
         8 005703   000001 236000 9                  LDQ     1
         8 005704   200644 756100                    STQ     @DCB#+2,,AUTO
         8 005705   200644 630500                    EPPR0   @DCB#+2,,AUTO
         8 005706   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 005707   000000 701000 xent               TSX1    IDD$GETSEG
         8 005710   006321 702000 8                  TSX2    IOERR

     1317    12133    5                    IOBUF.BOUND=SVIOBUF.BOUND+POFFC(SVIOBUF.PTR$,IOBUF.PTR$);

  12133  8 005711   000113 236000 1                  LDQ     IOBUF+1
         8 005712   000020 772000                    QRL     16
         8 005713   200644 756100                    STQ     @DCB#+2,,AUTO
         8 005714   001130 236000 1                  LDQ     X1+1
         8 005715   000020 772000                    QRL     16
         8 005716   200644 136100                    SBLQ    @DCB#+2,,AUTO
         8 005717   200645 756100                    STQ     @DCB#+3,,AUTO
         8 005720   001127 236000 1                  LDQ     X1
         8 005721   000020 772000                    QRL     16
         8 005722   200646 756100                    STQ     @DCB#+4,,AUTO
         8 005723   200645 236100                    LDQ     @DCB#+3,,AUTO
         8 005724   200646 036100                    ADLQ    @DCB#+4,,AUTO
         8 005725   000020 736000                    QLS     16
         8 005726   000112 676000 1                  ERQ     IOBUF
         8 005727   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 005730   000112 656000 1                  ERSQ    IOBUF

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:218  
     1318    12134    5                    END;

     1319    12135    4                 CALL READ_SEQUENTIAL ALTRET(END_DB);

  12135  8 005731   002335 701000 8                  TSX1    READ_SEQUENTIAL
         8 005732   005737 702000 8                  TSX2    END_DB

     1320    12136    4                 END;

  12136  8 005733   001112 236000 1                  LDQ     LAST_KEY_READ+1
         8 005734   000022 772000                    QRL     18
         8 005735   200607 116100                    CMPQ    DBHDR,,AUTO
         8 005736   005634 600000 8                  TZE     s:12127

     1321    12137    3   END_DB:    IF DBKEY.SEVENS='777'O THEN CALL M$PRECORD(FPT_PRECORDM1);

  12137  8 005737   001111 236000 1     END_DB       LDQ     LAST_KEY_READ
         8 005740   000777 376003                    ANQ     511,DU
         8 005741   000777 116003                    CMPQ    511,DU
         8 005742   005746 601000 8                  TNZ     s:12138

  12137  8 005743   000402 630400 1                  EPPR0   FPT_PRECORDM1
         8 005744   040003 713400                    CLIMB   16387
         8 005745   401000 401760                    pmme    nvectors=3

     1322    12138    3              IOBUF=SVIOBUF;

  12138  8 005746   000000 100400                    MLR     fill='000'O
         8 005747   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 005750   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

     1323    12139    4              DO I=0 TO 4;

  12139  8 005751   200015 450100                    STZ     I,,AUTO

     1324    12140    4                 FCGHDR.NPR=FCGHDR.NPR+(DBHDR.RECS.SIZE(I)+1023)/1024;

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:219  
  12140  8 005752   200015 235100                    LDA     I,,AUTO
         8 005753   000001 735000                    ALS     1
         8 005754   200611 236105                    LDQ     M_LM$,AL,AUTO
         8 005755   001777 036007                    ADLQ    1023,DL
         8 005756   002000 506007                    DIV     1024,DL
         8 005757   002652 036000 1                  ADLQ    FCGHDR+1
         8 005760   002652 756000 1                  STQ     FCGHDR+1

     1325    12141    4                 END;

  12141  8 005761   200015 054100                    AOS     I,,AUTO
         8 005762   200015 235100                    LDA     I,,AUTO
         8 005763   000004 115007                    CMPA    4,DL
         8 005764   005752 604400 8                  TMOZ    s:12140

     1326    12142    4              DO SCH_IDX=1 TO SCH_FCGS;

  12142  8 005765   000001 235007                    LDA     1,DL
         8 005766   200564 755100                    STA     SCH_IDX,,AUTO
         8 005767   005777 710000 8                  TRA     s:12144+1

     1327    12143    4                 IF FCGHDR.FCG=SCHEMASTUFF.FCG(SCH_IDX) THEN GOTO FCGFND;

  12143  8 005770   200564 236100                    LDQ     SCH_IDX,,AUTO
         8 005771   000016 402007                    MPY     14,DL
         8 005772   040106 106400                    CMPC    fill='040'O
         8 005773   002651 000002 1                  ADSC9   FCGHDR                   cn=0,n=2
         8 005774   200022 000002                    ADSC9   SCHEMASTUFF,Q,AUTO       cn=0,n=2
         8 005775   006015 600000 8                  TZE     FCGFND

     1328    12144    4                 END;

  12144  8 005776   200564 054100                    AOS     SCH_IDX,,AUTO
         8 005777   200564 236100                    LDQ     SCH_IDX,,AUTO
         8 006000   001110 116000 1                  CMPQ    SCH_FCGS
         8 006001   005770 604400 8                  TMOZ    s:12143

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:220  
     1329    12145    3              SCH_FCGS=SCH_FCGS+1;

  12145  8 006002   001110 054000 1                  AOS     SCH_FCGS

     1330    12146    3              SCH_IDX=SCH_FCGS;

  12146  8 006003   001110 235000 1                  LDA     SCH_FCGS
         8 006004   200564 755100                    STA     SCH_IDX,,AUTO

     1331    12147    3              SCHEMASTUFF(SCH_IDX)='0'B;

  12147  8 006005   200564 236100                    LDQ     SCH_IDX,,AUTO
         8 006006   000016 402007                    MPY     14,DL
         8 006007   000106 100400                    MLR     fill='000'O
         8 006010   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         8 006011   200022 000016                    ADSC9   SCHEMASTUFF,Q,AUTO       cn=0,n=14

     1332    12148    3              SCHEMASTUFF.FCG(SCH_IDX)=FCGHDR.FCG;

  12148  8 006012   040106 100400                    MLR     fill='040'O
         8 006013   002651 000002 1                  ADSC9   FCGHDR                   cn=0,n=2
         8 006014   200022 000002                    ADSC9   SCHEMASTUFF,Q,AUTO       cn=0,n=2

     1333    12149    3   FCGFND:    SCHEMASTUFF.RECS(SCH_IDX)=SCHEMASTUFF.RECS(SCH_IDX)+FCGHDR.NPR;

  12149  8 006015   000100 100506       FCGFND       MLR     fill='000'O
         8 006016   200022 400004                    ADSC9   SCHEMASTUFF,Q,AUTO       cn=2,n=4
         8 006017   200644 000004                    ADSC9   @DCB#+2,,AUTO            cn=0,n=4
         8 006020   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 006021   002652 036000 1                  ADLQ    FCGHDR+1
         8 006022   200645 756100                    STQ     @DCB#+3,,AUTO
         8 006023   200564 236100                    LDQ     SCH_IDX,,AUTO
         8 006024   000016 402007                    MPY     14,DL
         8 006025   000106 100500                    MLR     fill='000'O
         8 006026   200645 000004                    ADSC9   @DCB#+3,,AUTO            cn=0,n=4
         8 006027   200022 400004                    ADSC9   SCHEMASTUFF,Q,AUTO       cn=2,n=4

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:221  
     1334    12150    3              SCHEMASTUFF.OUS(SCH_IDX)=SCHEMASTUFF.OUS(SCH_IDX)+FCGHDR.NOU;

  12150  8 006030   000100 100506                    MLR     fill='000'O
         8 006031   200023 400004                    ADSC9   SCHEMASTUFF+1,Q,AUTO     cn=2,n=4
         8 006032   200644 000004                    ADSC9   @DCB#+2,,AUTO            cn=0,n=4
         8 006033   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 006034   002653 036000 1                  ADLQ    FCGHDR+2
         8 006035   200645 756100                    STQ     @DCB#+3,,AUTO
         8 006036   200564 236100                    LDQ     SCH_IDX,,AUTO
         8 006037   000016 402007                    MPY     14,DL
         8 006040   000106 100500                    MLR     fill='000'O
         8 006041   200645 000004                    ADSC9   @DCB#+3,,AUTO            cn=0,n=4
         8 006042   200023 400004                    ADSC9   SCHEMASTUFF+1,Q,AUTO     cn=2,n=4

     1335    12151    3              CALL WRITE_PO(BINARY,VECTOR(FCGHDR));

  12151  8 006043   000332 236000 9                  LDQ     218
         8 006044   200636 756100                    STQ     @BUFVEC,,AUTO
         8 006045   000014 236000 9                  LDQ     12
         8 006046   200635 756100                    STQ     @MODE,,AUTO
         8 006047   002424 701000 8                  TSX1    WRITE_PO
         8 006050   000000 011000                    NOP     0

     1336    12152    3              CALL WRITE_PO(BINARY,VECTOR(DBHDR));

  12152  8 006051   000171 235000 9                  LDA     121
         8 006052   200644 452500                    STP2    @DCB#+2,,AUTO
         8 006053   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 006054   000607 036003                    ADLQ    391,DU
         8 006055   200724 757100                    STAQ    @DCB#+50,,AUTO
         8 006056   200724 630500                    EPPR0   @DCB#+50,,AUTO
         8 006057   200636 450500                    STP0    @BUFVEC,,AUTO
         8 006060   000014 236000 9                  LDQ     12
         8 006061   200635 756100                    STQ     @MODE,,AUTO
         8 006062   002424 701000 8                  TSX1    WRITE_PO
         8 006063   000000 011000                    NOP     0

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:222  
     1337    12153    4              DO I=0 TO 4;

  12153  8 006064   200015 450100                    STZ     I,,AUTO

     1338    12154    4                SCHEMASTUFF.SIZE(SCH_IDX)=SCHEMASTUFF.SIZE(SCH_IDX)+DBHDR.RECS.SIZE(I)
             12154                          ;

  12154  8 006065   200015 235100                    LDA     I,,AUTO
         8 006066   000001 735000                    ALS     1
         8 006067   000000 620005                    EAX0    0,AL
         8 006070   200564 236100                    LDQ     SCH_IDX,,AUTO
         8 006071   000016 402007                    MPY     14,DL
         8 006072   000100 100506                    MLR     fill='000'O
         8 006073   200024 400004                    ADSC9   SCHEMASTUFF+2,Q,AUTO     cn=2,n=4
         8 006074   200644 000004                    ADSC9   @DCB#+2,,AUTO            cn=0,n=4
         8 006075   200644 236100                    LDQ     @DCB#+2,,AUTO
         8 006076   200611 036110                    ADLQ    M_LM$,X0,AUTO
         8 006077   200645 756100                    STQ     @DCB#+3,,AUTO
         8 006100   200564 236100                    LDQ     SCH_IDX,,AUTO
         8 006101   000016 402007                    MPY     14,DL
         8 006102   000106 100500                    MLR     fill='000'O
         8 006103   200645 000004                    ADSC9   @DCB#+3,,AUTO            cn=0,n=4
         8 006104   200024 400004                    ADSC9   SCHEMASTUFF+2,Q,AUTO     cn=2,n=4

     1339    12155    5                 DO WHILE (DBHDR.RECS.SIZE(I)>1024);

  12155  8 006105   200015 235100                    LDA     I,,AUTO
         8 006106   000001 735000                    ALS     1
         8 006107   200611 235105                    LDA     M_LM$,AL,AUTO
         8 006110   002000 115007                    CMPA    1024,DL
         8 006111   006152 604400 8                  TMOZ    s:12162

     1340    12156    5                    IOBUF.BOUND=4095;

  12156  8 006112   000112 236000 1                  LDQ     IOBUF
         8 006113   177777 376007                    ANQ     65535,DL
         8 006114   000137 276000 9                  ORQ     95
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:223  
         8 006115   000112 756000 1                  STQ     IOBUF

     1341    12157    5                    IF I=4 THEN CALL WRITE_PO(ASCII,IOBUF);

  12157  8 006116   200015 235100                    LDA     I,,AUTO
         8 006117   000004 115007                    CMPA    4,DL
         8 006120   006130 601000 8                  TNZ     s:12158

  12157  8 006121   000052 236000 9                  LDQ     42
         8 006122   200636 756100                    STQ     @BUFVEC,,AUTO
         8 006123   000015 236000 9                  LDQ     13
         8 006124   200635 756100                    STQ     @MODE,,AUTO
         8 006125   002424 701000 8                  TSX1    WRITE_PO
         8 006126   000000 011000                    NOP     0
         8 006127   006136 710000 8                  TRA     s:12159

     1342    12158    5                    ELSE CALL WRITE_PO(BINARY,IOBUF);

  12158  8 006130   000052 236000 9                  LDQ     42
         8 006131   200636 756100                    STQ     @BUFVEC,,AUTO
         8 006132   000014 236000 9                  LDQ     12
         8 006133   200635 756100                    STQ     @MODE,,AUTO
         8 006134   002424 701000 8                  TSX1    WRITE_PO
         8 006135   000000 011000                    NOP     0

     1343    12159    5                    IOBUF.PTR$=PINCRW(IOBUF.PTR$,1024);

  12159  8 006136   000113 236000 1                  LDQ     IOBUF+1
         8 006137   002000 036003                    ADLQ    1024,DU
         8 006140   000113 756000 1                  STQ     IOBUF+1

     1344    12160    5                    DBHDR.RECS.SIZE(I)=DBHDR.RECS.SIZE(I)-1024;

  12160  8 006141   200015 235100                    LDA     I,,AUTO
         8 006142   000001 735000                    ALS     1
         8 006143   002000 336007                    LCQ     1024,DL
         8 006144   200611 056105                    ASQ     M_LM$,AL,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:224  

     1345    12161    5                    END;

  12161  8 006145   200015 235100                    LDA     I,,AUTO
         8 006146   000001 735000                    ALS     1
         8 006147   200611 235105                    LDA     M_LM$,AL,AUTO
         8 006150   002000 115007                    CMPA    1024,DL
         8 006151   006112 605400 8                  TPNZ    s:12156

     1346    12162    5                 DO WHILE (DBHDR.RECS.SIZE(I)>0);

  12162  8 006152   200015 235100                    LDA     I,,AUTO
         8 006153   000001 735000                    ALS     1
         8 006154   200611 235105                    LDA     M_LM$,AL,AUTO
         8 006155   006222 604400 8                  TMOZ    s:12169

     1347    12163    5                    IOBUF.BOUND=DBHDR.RECS.SIZE(I)*4-1;

  12163  8 006156   200015 235100                    LDA     I,,AUTO
         8 006157   000001 735000                    ALS     1
         8 006160   200611 236105                    LDQ     M_LM$,AL,AUTO
         8 006161   000002 736000                    QLS     2
         8 006162   000001 136007                    SBLQ    1,DL
         8 006163   000020 736000                    QLS     16
         8 006164   000112 676000 1                  ERQ     IOBUF
         8 006165   000034 376000 xsym               ANQ     B_VECTNIL+28
         8 006166   000112 656000 1                  ERSQ    IOBUF

     1348    12164    5                    IF I=4 THEN CALL WRITE_PO(ASCII,IOBUF);

  12164  8 006167   200015 236100                    LDQ     I,,AUTO
         8 006170   000004 116007                    CMPQ    4,DL
         8 006171   006201 601000 8                  TNZ     s:12165

  12164  8 006172   000052 236000 9                  LDQ     42
         8 006173   200636 756100                    STQ     @BUFVEC,,AUTO
         8 006174   000015 236000 9                  LDQ     13
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:225  
         8 006175   200635 756100                    STQ     @MODE,,AUTO
         8 006176   002424 701000 8                  TSX1    WRITE_PO
         8 006177   000000 011000                    NOP     0
         8 006200   006207 710000 8                  TRA     s:12166

     1349    12165    5                    ELSE CALL WRITE_PO(BINARY,IOBUF);

  12165  8 006201   000052 236000 9                  LDQ     42
         8 006202   200636 756100                    STQ     @BUFVEC,,AUTO
         8 006203   000014 236000 9                  LDQ     12
         8 006204   200635 756100                    STQ     @MODE,,AUTO
         8 006205   002424 701000 8                  TSX1    WRITE_PO
         8 006206   000000 011000                    NOP     0

     1350    12166    5                    IOBUF.PTR$=PINCRW(IOBUF.PTR$,DBHDR.RECS.SIZE(I));

  12166  8 006207   200015 235100                    LDA     I,,AUTO
         8 006210   000001 735000                    ALS     1
         8 006211   200611 236105                    LDQ     M_LM$,AL,AUTO
         8 006212   000022 736000                    QLS     18
         8 006213   000113 036000 1                  ADLQ    IOBUF+1
         8 006214   000113 756000 1                  STQ     IOBUF+1

     1351    12167    5                    DBHDR.RECS.SIZE(I)=0;

  12167  8 006215   200611 450105                    STZ     M_LM$,AL,AUTO

     1352    12168    5                    END;

  12168  8 006216   200015 235100                    LDA     I,,AUTO
         8 006217   000001 735000                    ALS     1
         8 006220   200611 235105                    LDA     M_LM$,AL,AUTO
         8 006221   006156 605400 8                  TPNZ    s:12163

     1353    12169    4                 END;

  12169  8 006222   200015 054100                    AOS     I,,AUTO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:226  
         8 006223   200015 235100                    LDA     I,,AUTO
         8 006224   000004 115007                    CMPA    4,DL
         8 006225   006065 604400 8                  TMOZ    s:12154

     1354    12170    3              IOBUF=SVIOBUF;

  12170  8 006226   000000 100400                    MLR     fill='000'O
         8 006227   001127 000010 1                  ADSC9   X1                       cn=0,n=8
         8 006230   000112 000010 1                  ADSC9   IOBUF                    cn=0,n=8

     1355    12171    3              END;

  12171  8 006231   001111 236000 1                  LDQ     LAST_KEY_READ
         8 006232   000777 376003                    ANQ     511,DU
         8 006233   000777 116003                    CMPQ    511,DU
         8 006234   006245 601000 8                  TNZ     s:12172
         8 006235   001111 236000 1                  LDQ     LAST_KEY_READ
         8 006236   777000 376003                    ANQ     -512,DU
         8 006237   007000 116003                    CMPQ    3584,DU
         8 006240   006245 601000 8                  TNZ     s:12172
         8 006241   001111 236000 1                  LDQ     LAST_KEY_READ
         8 006242   777000 376007                    ANQ     -512,DL
         8 006243   024000 116007                    CMPQ    10240,DL
         8 006244   005563 601000 8                  TNZ     s:12117

     1356    12172    2           CALL WRITE_PO(BINARY,VECTOR(FOUR_ZEROS));

  12172  8 006245   000174 236000 9                  LDQ     124
         8 006246   200636 756100                    STQ     @BUFVEC,,AUTO
         8 006247   000014 236000 9                  LDQ     12
         8 006250   200635 756100                    STQ     @MODE,,AUTO
         8 006251   002424 701000 8                  TSX1    WRITE_PO
         8 006252   000000 011000                    NOP     0

     1357    12173    2           CALL X$WRITE(F_FDS,VECTOR(AHDR1));

  12173  8 006253   000336 630400 9                  EPPR0   222
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:227  
         8 006254   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 006255   000000 701000 xent               TSX1    X$WRITE
         8 006256   000000 011000                    NOP     0

     1358    12174    3           DO I=1 TO SCH_FCGS;

  12174  8 006257   000001 235007                    LDA     1,DL
         8 006260   200015 755100                    STA     I,,AUTO
         8 006261   006304 710000 8                  TRA     s:12176+1

     1359    12175    3              CALL X$WRITE(F_FDS,VECTOR(AFMT1),VECTOR(SCHEMASTUFF(I)));

  12175  8 006262   000246 235000 9                  LDA     166
         8 006263   200644 452500                    STP2    @DCB#+2,,AUTO
         8 006264   200015 236100                    LDQ     I,,AUTO
         8 006265   200645 755100                    STA     @DCB#+3,,AUTO
         8 006266   000247 402000 9                  MPY     167
         8 006267   000022 036003                    ADLQ    18,DU
         8 006270   200644 036100                    ADLQ    @DCB#+2,,AUTO
         8 006271   200645 235100                    LDA     @DCB#+3,,AUTO
         8 006272   200646 757100                    STAQ    @DCB#+4,,AUTO
         8 006273   200646 630500                    EPPR0   @DCB#+4,,AUTO
         8 006274   200652 450500                    STP0    @DCB#+8,,AUTO
         8 006275   000342 237000 9                  LDAQ    226
         8 006276   200650 757100                    STAQ    @DCB#+6,,AUTO
         8 006277   200650 630500                    EPPR0   @DCB#+6,,AUTO
         8 006300   000021 631400 xsym               EPPR1   B_VECTNIL+17
         8 006301   000000 701000 xent               TSX1    X$WRITE
         8 006302   000000 011000                    NOP     0

     1360    12176    3              END;

  12176  8 006303   200015 054100                    AOS     I,,AUTO
         8 006304   200015 236100                    LDQ     I,,AUTO
         8 006305   001110 116000 1                  CMPQ    SCH_FCGS
         8 006306   006262 604400 8                  TMOZ    s:12175

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:228  
     1361    12177    2           CALL IDD$GETSEG(DNAMBUF,0);

  12177  8 006307   000015 236000 9                  LDQ     13
         8 006310   200645 756100                    STQ     @DCB#+3,,AUTO
         8 006311   200605 630500                    EPPR0   DNAMBUF,,AUTO
         8 006312   200644 450500                    STP0    @DCB#+2,,AUTO
         8 006313   200644 630500                    EPPR0   @DCB#+2,,AUTO
         8 006314   000020 631400 xsym               EPPR1   B_VECTNIL+16
         8 006315   000000 701000 xent               TSX1    IDD$GETSEG
         8 006316   000000 011000                    NOP     0

     1362    12178    2           RETURN;

  12178  8 006317   200604 221300                    LDX1  ! MDNAMBUF+2,,AUTO
         8 006320   000001 702211                    TSX2  ! 1,X1

     1363    12179    2   IOERR:
     1364    12180    2           CALL ABORT_DEF(ASCHEMA_ERR_CODE);

  12180  8 006321   000001 236000 xsym  IOERR        LDQ     B_VECTNIL+1
         8 006322   200642 756100                    STQ     @DCB#,,AUTO
         8 006323   000344 236000 9                  LDQ     228
         8 006324   200641 756100                    STQ     @CODE1,,AUTO
         8 006325   002104 701000 8                  TSX1    ABORT_DEF
         8 006326   000000 011000                    NOP     0

     1365    12181    2   OPN_AS_ERROR:
     1366    12182    2           CALL ABORT_DEF(OPN_AS_CODE,DCBNUM(M$AS));

  12182  8 006327   000000 236007 xsym  OPN_AS_ERROR LDQ     M$AS,DL
         8 006330   200726 756100                    STQ     @DCB#+52,,AUTO
         8 006331   200726 630500                    EPPR0   @DCB#+52,,AUTO
         8 006332   200642 450500                    STP0    @DCB#,,AUTO
         8 006333   000345 236000 9                  LDQ     229
         8 006334   200641 756100                    STQ     @CODE1,,AUTO
         8 006335   002104 701000 8                  TSX1    ABORT_DEF
         8 006336   000000 011000                    NOP     0
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:229  

     1367    12183    2   NO_ASCHEMA:
     1368    12184    2           CALL ABORT_DEF(NO_ASCHEMA_CODE,DCBNUM(M$INPUT));

  12184  8 006337   000000 236007 xsym  NO_ASCHEMA   LDQ     M$INPUT,DL
         8 006340   200727 756100                    STQ     @DCB#+53,,AUTO
         8 006341   200727 630500                    EPPR0   @DCB#+53,,AUTO
         8 006342   200642 450500                    STP0    @DCB#,,AUTO
         8 006343   000346 236000 9                  LDQ     230
         8 006344   200641 756100                    STQ     @CODE1,,AUTO
         8 006345   002104 701000 8                  TSX1    ABORT_DEF
         8 006346   000000 011000                    NOP     0

     1369    12185    2   END WRITE_AS_SCHEMA;

  12185  8 006347   200604 221300                    LDX1  ! MDNAMBUF+2,,AUTO
         8 006350   000001 702211                    TSX2  ! 1,X1
     1370    12186    1   END IDU$BOOT;

PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:230  
--  Include file information  --

   XUF_ENTRY.:E05TOU  cannot be made into a system file and is referenced.
   F$DCB.:E05TOU  cannot be made into a system file and is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   B_MLSMAC_C.:E05TOU  is referenced.
   B_ULSMAC_C.:E05TOU  is referenced.
   B_LSDATA_C.:E05TOU  cannot be made into a system file and is referenced.
   M_INFO_C.:E05TOU  is referenced.
   F_DCB_D.:E05TOU  is referenced.
   B_ERRORS_C.:E05TOU  is referenced.
   ID_PERR_C.:E05TOU  is referenced.
   B$ROSEG.:E05TOU  cannot be made into a system file and is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
   ID_DATA_C.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure IDU$BOOT.
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:231  

 **** Variables and constants ****

  ****  Section 001  Data  IDU$BOOT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   414-0-0/c STRC(216)   r     1 BOOTSTUFF(0:19)
  1111-0-0/w STRC(288)   r     1 DBKEY                   2477-0-0/w STRC(45)    r     1 DOH
  1647-0-0/w STRC(3456)  r     1 DUMMY_DCB               2646-0-0/w STRC(108)   r     1 FCGHDR
  2651-0-0/w STRC(108)   r     1 FCGHDR                   344-0-0/d STRC(1080)  r     1 FPT_CLOSEAS
   306-0-0/d STRC(1080)  r     1 FPT_CLOSEPO              206-0-0/d STRC(2088)  r     1 FPT_OPENAS
   114-0-0/d STRC(2088)  r     1 FPT_OPENPO              2532-0-0/d STRC(360)   r     1 FPT_PRECORD
   402-0-0/d STRC(360)   r     1 FPT_PRECORDM1           2544-0-0/d STRC(504)   r     1 FPT_READ
  2576-0-0/d STRC(504)   r     1 FPT_READ                2614-0-0/d STRC(504)   r     1 FPT_READ
  2514-0-0/d STRC(504)   r     1 FPT_READ_HEAD            300-0-0/d STRC(216)   r     1 FPT_REW
  2562-0-0/d STRC(432)   r     1 FPT_WRITE               2632-0-0/d STRC(432)   r     1 FPT_WRITE
  2010-0-0/d STRC(3024)  r     1 G1ROSEG                 2134-0-0/d STRC(7992)  r     1 G1TCB
    42-0-0/w STRC(1440)  r     1 HEADREC                 2511-0-0/c STRC(45)    r     1 HEAD_KEY
   112-0-0/w STRC(72)    r     1 IOBUF                   1111-0-0/w STRC(288)   r     1 LAST_KEY_READ
  2473-0-0/w STRC(45)    r     1 LM                      1125-0-0/b STRC(54)    r     1 MDNAMKEY
  1121-0-0/b STRC(54)    r     1 MEDEFKEY
   604-0-0/c STRC(504)   r     1 MONNODESTUFF(0:13)
  1131-0-0/w STRC(11952) r     1 MROREC                  1123-0-0/b STRC(54)    r     1 MSDEFKEY
    41-0-0/w SBIN        r     1 POAS                    1111-0-0/w STRC(288)   r     1 PRKEY
  1645-0-0/b STRC(54)    r     1 PROG_RECORD_KEY         1111-0-0/w STRC(288)   r     1 RUMKEY
  1110-0-0/w SBIN        r     1 SCH_FCGS                2472-0-0/w STRC        r     1 STAR
  1127-0-0/w STRC(72)    r     1 SVIOBUF                 2475-0-0/w STRC(45)    r     1 UC
  2501-0-0/w STRC(288)   r     1 UCTABS                  1127-0-0/w BIT (72)    r     1 X1

  ****  Section 002 RoData IDU$BOOT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   234-0-0/c CHAR(23)    r     1 AFMT1                    221-0-0/c CHAR(42)    r     1 AHDR1
   220-0-0/w STRC        r     1 ASCHEMA_ERR_CODE          20-0-0/w STRC        r     1 AS_VERIFY_CODE
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:232  
    17-0-0/w STRC        r     1 BAD_AS_WRITE_CODE         72-0-0/w STRC        r     1 BAD_PO_WRITE_CODE
    11-0-0/w STRC        r     1 BAD_READ_CODE             22-0-0/w STRC(54)    r     1 BIRTHKEY
    73-0-0/c CHAR(4)     r     1 BLANKS                    74-0-0/w STRC(72)    r     1 FIRST_DEBUG_KEY
   216-0-0/w STRC(72)    r     1 FIRST_DEBUG_KEY          121-0-0/c CHAR(25)    r     1 FMT1
   130-0-0/c CHAR(24)    r     1 FMT1A                    206-0-0/c CHAR(23)    r     1 FMT2
   153-0-0/c CHAR(30)    r     1 FMT3                     163-0-0/c CHAR(29)    r     1 FMT3A
    63-0-0/w SBIN        r     1 FOUR_ZEROS(0:3)
    67-0-0/b STRC(54)    r     1 G1HJITKEY                110-0-0/c CHAR        r     1 HDR1
   173-0-0/c CHAR(42)    r     1 HDR2                     136-0-0/c CHAR(50)    r     1 HDR3
    61-0-0/b STRC(54)    r     1 MROSEGKEY                 21-0-0/w STRC        r     1 NO_ASCHEMA_CODE
     0-0-0/w STRC        r     1 NO_BOOT_CODE              10-0-0/w STRC        r     1 NO_BUFFER_CODE
     1-0-0/w STRC        r     1 NO_FIRMWARE_CODE           5-0-0/w STRC        r     1 NO_G1RO_CODE
     6-0-0/w STRC        r     1 NO_GHOST1_CODE            71-0-0/w STRC        r     1 NO_HEAD_CODE
     3-0-0/w STRC        r     1 NO_MHJIT_CODE              4-0-0/w STRC        r     1 NO_MONSTER_CODE
    13-0-0/w STRC        r     1 NO_ROS_CODE                2-0-0/w STRC        r     1 NO_XDELTA_CODE
    16-0-0/w STRC        r     1 OPN_AS_CODE                7-0-0/w STRC        r     1 OPN_PO_CODE
    54-0-0/c CHAR(17)    r     1 PATCHCARDS                32-0-0/c CHAR(6)     r     1 PTCHFMT
    24-0-0/c CHAR(22)    r     1 PTCHFMT1                  34-0-0/c CHAR(6)     r     1 PTRUNCFMT
   214-0-0/w STRC(54)    r     1 ROSEG_KEY                 76-0-0/w STRC        r     1 SCHEMA_ERR_CODE
    36-0-0/c CHAR(53)    r     1 TRUNCFMT                  15-0-0/w STRC        r     1 TRUNC_CODE
    14-0-0/w STRC        r     1 VERIFY_CODE               77-0-0/c CHAR(33)    r     1 WRHDR

  ****  Section 007 LblCom FPT_EXIT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(216)   r     1 FPT_EXIT

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   623-0-0/w PTR         r     1 @BIAS                    621-0-0/w PTR         r     1 @BOUND
   636-0-0/w PTR         r     1 @BUFVEC                  605-0-0/w PTR         r     1 @BUFVEC
   641-0-0/w PTR         r     1 @CODE1                   642-0-0/w PTR         r     1 @DCB#
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:233  
   605-0-0/w PTR         r     1 @FIRST                   625-0-0/w PTR         r     1 @GMS_JUNK
   624-0-0/w PTR         r     1 @INVEC                   623-0-0/w PTR         r     1 @KEY
   606-0-0/w PTR         r     1 @LAST                    635-0-0/w PTR         r     1 @MODE
   623-0-0/w PTR         r     1 @MODE                    626-0-0/w PTR         r     1 @MODE
   625-0-0/w PTR         r     1 @SIZE                    620-0-0/w PTR         r     1 @SIZE
   627-0-0/w PTR         r     1 @START                   617-0-0/w PTR         r     1 @STUFF
   624-0-0/w PTR         r     1 @TYPE                      7-0-0/b UBIN(20)    r     1 ASCH20
   575-0-0/w PTR         r     1 B$TREE$                   *0-0-0/w SBIN        r     1 BIAS
    11-0-0/w STRC(108)   r     1 BIRTHREC                  *0-0-0/w SBIN        r     1 BOUND
    *0-0-0/b BIT (72)    r     1 BUFVEC                    *0-0-0/b BIT (72)    r     1 BUFVEC
    *0-0-0/b BIT         r     1 CODE1                    626-0-0/w SBIN        r     1 CSIZ
   607-0-0/b STRC(396)   r     1 DBHDR                    607-0-0/b STRC(396)   r     1 DBHDR
    *0-0-0/w SBIN        r     1 DCB#                     615-0-0/w PTR         r     1 DCB$
   605-0-0/w STRC(72)    r     1 DNAMBUF                  605-0-0/w STRC(72)    r     1 DNAMBUF
   565-0-0/b STRC        r     1 ERRCODE                  607-0-0/w SBIN        r     1 FADR
    *0-0-0/w SBIN        r     1 FIRST                     *0-0-0/w BIT         r     1 GMS_JUNK
   630-0-0/w STRC(144)   r     1 HEADER                    15-0-0/w SBIN        r     1 I
    *0-0-0/w STRC(72)    r     1 INVEC                    574-0-0/w SBIN        r     1 J
    *0-0-0/c STRC(288)   r     1 KEY                       *0-0-0/w SBIN        r     1 LAST
   606-0-0/w STRC        r     1 LAST                     606-0-0/w PTR         r     1 LAST$
     6-0-0/w PTR         r     1 M$AS$                     10-0-0/w PTR         r     1 M$INPUT$
     5-0-0/w PTR         r     1 M$PO$                    602-0-0/w STRC(72)    r     1 MDNAMBUF
    *0-0-0/w SBIN        r     1 MODE                      *0-0-0/w SBIN        r     1 MODE
    *0-0-0/w SBIN        r     1 MODE                     577-0-0/w STRC(72)    r     1 MROBUF
   613-0-0/w PTR         r     1 M_DO$                    611-0-0/w PTR         r     1 M_LM$
   610-0-0/w PTR         r     1 M_STAR$                  612-0-0/w PTR         r     1 M_UC$
   605-0-0/w STRC        r     1 NEXT                     605-0-0/w PTR         r     1 NEXT$
   573-0-0/w SBIN        r     1 NODES                      4-0-0/w BIT         r     1 OPEN_ERR_CODE
   566-0-0/w STRC(72)    r     1 OUTBUF                   625-0-0/w STRC(72)    r     1 OUTVEC
   610-0-0/w SBIN        r     1 PAGE#                      3-0-0/w PTR         r     1 PTCH$
    20-0-0/w BIT         r     1 READONLY#                572-0-0/w SBIN        r     1 RECCNT
   637-0-0/w SBIN        r     1 RECSIZE                   17-0-0/c CHAR(2)     r     1 RES
   607-0-0/w PTR         r     1 ROS$
    22-0-0/c STRC(126)   r     1 SCHEMASTUFF(0:100)
   564-0-0/w SBIN        r     1 SCH_IDX                  627-0-0/w SBIN        r     1 SIZE
    *0-0-0/w SBIN        r     1 SIZE                     614-0-0/w SBIN        r     1 SIZE
    *0-0-0/w SBIN        r     1 SIZE                     570-0-0/w SBIN        r     1 START
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:234  
    *0-0-0/b UBIN(20)    r     1 START                     *0-0-0/c ACHR        r     1 STUFF
   626-0-0/w SBIN        r     1 SZ                        14-0-0/w SBIN        r     1 TEMP
   576-0-0/w PTR         r     1 TEMP$                    601-0-0/w SBIN        r     1 TOFFSET
    16-0-0/w SBIN        r     1 TRUNCATED                 *0-0-0/w SBIN        r     1 TYPE
   622-0-0/w SBIN        r     1 X                        625-0-0/w STRC        r     1 Z
   625-0-0/w PTR         r     1 Z$

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(1188)  r     1 ASCHEMA                    0-0-0/w UBIN        r     1 ASCHEMA_TYP
     0-0-0/w PTR         r     1 B$TCB$                     0-0-0/w STRC(1188)  r     1 BOOTSTRAP
     0-0-0/w STRC(1188)  r     1 FIRMWARE                   0-0-0/w STRC(1080)  r     1 F_FDS
     0-0-0/w STRC(1188)  r     1 G1HJIT                     0-0-0/w STRC(1188)  r     1 GHOST1
     0-0-0/w STRC(144)   r     1 ID_ASLIST                  0-0-0/w SBIN        r     1 ID_DENSITY
     0-0-0/w BIT         r     1 ID_LISTFLG                 0-0-0/w PTR         r     1 ID_PTCHHEAD$
     0-0-0/d STRC(2232)  r     1 ID_SITEINFO                0-0-0/w STRC(522)   r     1 ID_SNLIST
     0-0-0/w BIT         r     1 ID_VERIFLG                 0-0-0/w STRC(72)    r     1 ID_VERISEG
     0-0-0/w STRC(1188)  r     1 MHJIT                      0-0-0/w STRC(1188)  r     1 MONSTER
     0-0-0/w SBIN        r     1 M_DO                       0-0-0/w SBIN        r     1 M_DUMMY
     0-0-0/w SBIN        r     1 M_LM                       0-0-0/w SBIN        r     1 M_STAR
     0-0-0/w SBIN        r     1 M_UC                       0-0-0/w BIT         r     1 SCHEMA_FLAG
     0-0-0/w STRC(1836)  r     1 SCHEMA_TBL                 0-0-0/c CHAR(28)    r     1 TAPEID
     0-0-0/w STRC(1188)  r     1 XDLT                       0-0-0/w STRC(1188)  r     1 XDLTLS

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(2448)  r     1 B$ALT                      0-0-0/d STRC(3024)  r     1 B$ROSEG
     0-0-0/w STRC(72)    r     1 B$RU_DEF                   0-0-0/w STRC(144)   r     1 B$TCB
     0-0-0/w STRC(108)   r     1 B$TREE_HEADER              0-0-0/w STRC(216)   r     1 B$TREE_NODE
     0-0-0/w STRC        r     1 BASEDWORD                  0-0-0/c CHAR(4064)  r     1 BIGBASE
     0-0-0/c CHAR(80)    r     1 CARDIMAGE                  0-0-0/c ACHR        r     1 CBASE
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:235  
     0-0-0/w STRC(72)    r     1 DESC(0:0)
     0-0-0/c STRC        r     1 DNAMEREC(0:0)
     0-0-0/c STRC        r     1 DNAMEREC(0:0)
     0-0-0/d ASTR(3528)  r     1 F$DCB                      0-0-0/c ACHR        r     1 FILEREC
     0-0-0/c CHAR(32)    r     1 LITTLEBASE                 0-0-0N  NULL        r     1 M$AS
     0-0-0N  NULL        r     1 M$INPUT                    0-0-0N  NULL        r     1 M$LO
     0-0-0N  NULL        r     1 M$PO                       0-0-0/c ACHR        r     1 MBASE
     0-0-0/b STRC        r     1 PBASE(0:0)                 0-0-0/w PTR         r     1 PBASE$(0:0)
     0-0-0/w STRC(1224)  r     1 PTCH                       0-0-0/c ACHR        r     1 STUFF
     0-0-0/c ACHR        r     1 TAPEREC                    0-0-0/w STRC(288)   r     1 TEXTC


   Procedure IDU$BOOT requires 3305 words for executable code.
   Procedure IDU$BOOT requires 472 words of local(AUTO) storage.

    No errors detected in file IDU$BOOT.:E05TSI    .
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:236  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:237  
          MINI XREF LISTING

ABORT_DEF
     11206**PROC    11189--CALL    11191--CALL    11193--CALL    11195--CALL    11197--CALL    11199--CALL
     11201--CALL    11273--CALL    11393--CALL    11499--CALL    11500--CALL    11503--CALL    11504--CALL
     11645--CALL    11664--CALL    11857--CALL    12005--CALL    12028--CALL    12180--CALL    12182--CALL
     12184--CALL
ABRT IN PROCEDURE GET_MORE_SPACE
     11664**LABEL   11656--CALLALT 11658--CALLALT 11660--CALLALT
AFMT1 IN PROCEDURE WRITE_AS_SCHEMA
     12069**DCL     12175--CALL
AHDR1 IN PROCEDURE WRITE_AS_SCHEMA
     12067**DCL     12173--CALL
ASCH20
      9888**DCL     12096<<ASSIGN  12097<>CALL
ASCHEMA
      9557**DCL     12092<>CALL
ASCHEMA_ERR_CODE IN PROCEDURE WRITE_AS_SCHEMA
     12061**DCL     12180<>CALL
ASCHEMA_TYP
      9886**DCL     12096>>ASSIGN
AS_VERIFY_CODE
      9817**DCL     11504<>CALL
B$ALT.CODE
      8795**DCL      8795--REDEF    8796--REDEF    8796--REDEF
B$ALT.ERR
      8796**DCL     11175<>CALL    11211>>ASSIGN  11635>>ASSIGN
B$ALT.ERR.CODE
      8797**DCL     11384>>IF      11389>>IF
B$ALT.ERR.ERR#
      8797**DCL      8797--REDEF   11188>>IF
B$ALT.EVID
      8796**DCL      8796--REDEF    8796--REDEF
B$ROSEG.DCBPTR$
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:238  
      4134**DCL     11968<<ASSIGN
B$ROSEG.NUMDCBS
      4136**DCL     11993<<ASSIGN
B$ROSEG.TREE$
      4135**DCL     11995<<ASSIGN
B$RU_DEF
     10115**DCL     11086--DOINDEX 11089--ASSIGN  11105--DOINDEX 11108--ASSIGN
B$RU_DEF.AD.ISADDR
     10138**DCL     10140--REDEF
B$RU_DEF.AD.SECTNUM
     10135**DCL     11088<<ASSIGN  11107<<ASSIGN
B$RU_DEF.LFLAGS
     10151**DCL     10164--REDEF
B$RU_DEF.NPOINTER
     10142**DCL     11087<<ASSIGN  11087>>ASSIGN  11106<<ASSIGN  11106>>ASSIGN
B$RU_DEF.VALUE
     10116**DCL     10118--REDEF
B$TCB.ALT$
      8791**DCL     11175>>CALL    11188>>IF      11211>>ASSIGN  11384>>IF      11389>>IF      11635>>ASSIGN
B$TCB$
      8789**DCL     11175>>CALL    11188>>IF      11211>>ASSIGN  11384>>IF      11389>>IF      11635>>ASSIGN
B$TREE$
     10705**DCL     11030<<ASSIGN  11031>>ASSIGN  11033<<ASSIGN  11033>>ASSIGN  11038>>ASSIGN  11038>>ASSIGN
     11041>>ASSIGN  11042>>ASSIGN  11043>>ASSIGN  11048<<ASSIGN  11048>>ASSIGN
B$TREE_HEADER
     10172**DCL     11033--ASSIGN  11038--ASSIGN
B$TREE_HEADER.NODES
     10174**DCL     11031>>ASSIGN
B$TREE_NODE
     10188**DCL     11038--ASSIGN  11048--ASSIGN
B$TREE_NODE.PADDR
     10218**DCL     11041>>ASSIGN  11042>>ASSIGN
B$TREE_NODE.PSIZE
     10220**DCL     11043>>ASSIGN
BAD_AS_WRITE_CODE
      9810**DCL     11500<>CALL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:239  
BAD_PO_WRITE_CODE IN PROCEDURE WRITE_PO
     11473**DCL     11499<>CALL
BAD_READ IN PROCEDURE READ_KEYED
     11635**LABEL   11629--CALLALT
BAD_READ IN PROCEDURE READ_SEQUENTIAL
     11384**LABEL   11378--CALLALT
BAD_READ_CODE
      9768**DCL     11393<>CALL    11645<>CALL
BAD_WRITE IN PROCEDURE WRITE_PO
     11498**LABEL   11493--CALLALT
BASEDWORD.UH
     10738**DCL     11038>>ASSIGN
BIAS IN PROCEDURE WRITE_HEADER
     11542**DCL     11541--PROC    11556>>IF      11557>>IF      11558>>IF      11559>>ASSIGN  11565>>IF
     11566>>IF      11567>>IF      11568>>ASSIGN  11572>>ASSIGN
BIGBASE IN PROCEDURE READ_WRITE
     11282**DCL     11316<<ASSIGN  11316>>ASSIGN
BIRTHKEY
     10229**DCL     11015<>CALL
BIRTHREC
     10106**DCL     11014--ASSIGN
BIRTHREC.CREATE_UTS
     10107**DCL     11016>>ASSIGN
BLANKS IN PROCEDURE ZAP_TRAILING_BYTES
     11740**DCL     11744>>ASSIGN
BOOTSTRAP
      9089**DCL     10947<>CALL
BOOTSTRAP.FLAGS.SKIP
      9118**DCL     10945>>IF
BOOTSTUFF
     10618**DCL     11888--CALL    11890--CALL
BOOTSTUFF.BIAS
     10624**DCL     10625--REDEF   10949<<ASSIGN  11568<<ASSIGN
BOOTSTUFF.CBIAS
     10625**DCL     11565<<ASSIGN  11566<<ASSIGN  11567<<ASSIGN  11886>>DOSELCT
BOOTSTUFF.SIZE
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:240  
     10626**DCL     10950<<ASSIGN  11569<<ASSIGN  11885>>IF
BOOTSTUFF.START
     10627**DCL     10951<<ASSIGN  11570<<ASSIGN
BOUND IN PROCEDURE MOVE
     12012**DCL     12009--PROC    12016>>IF      12017>>ASSIGN  12017>>ASSIGN  12020>>IF      12021>>ASSIGN
     12021>>ASSIGN
BUFVEC IN PROCEDURE WRITE_LO
     11692**DCL     11691--PROC    11725>>ASSIGN
BUFVEC IN PROCEDURE WRITE_PO
     11398**DCL     11396--PROC    11482--IF      11483>>ASSIGN
BUILD_G1RO
     11911**PROC    11143--CALL
CARDIMAGE
     10691**DCL     11182<<ASSIGN  11183--CALL    11669<<ASSIGN  11671--CALL
CBASE IN PROCEDURE ZAP_TRAILING_BYTES
     11738**DCL     11744<<ASSIGN
CODE1 IN PROCEDURE ABORT_DEF
     11208**DCL     11206--PROC    11212<>CALL
CREATE_A_REC IN PROCEDURE READ_WRITE
     11309**LABEL   11308--CALLALT
CSIZ IN PROCEDURE ZAP_TRAILING_BYTES
     11739**DCL     11738--IMP-SIZ 11743<<ASSIGN  11744>>IF      11744>>ASSIGN
DBHDR IN PROCEDURE WRITE_AS_SCHEMA
     12048**DCL     12118<<ASSIGN  12152--CALL
DBHDR.NPTR IN PROCEDURE WRITE_AS_SCHEMA
     12049**DCL     12119<<ASSIGN  12120>>ASSIGN  12126>>DOWHILE
DBHDR.RECS.SIZE IN PROCEDURE WRITE_AS_SCHEMA
     12052**DCL     12122<<ASSIGN  12127<<ASSIGN  12127>>ASSIGN  12140>>ASSIGN  12154>>ASSIGN  12155>>DOWHILE
     12160<<ASSIGN  12160>>ASSIGN  12162>>DOWHILE 12163>>ASSIGN  12166>>ASSIGN  12167<<ASSIGN
DBHDR IN PROCEDURE WRITE_MONITOR_SCHEMA
     11762**DCL     11788<<ASSIGN  11832--CALL
DBHDR.NPTR IN PROCEDURE WRITE_MONITOR_SCHEMA
     11763**DCL     11789<<ASSIGN  11790>>ASSIGN  11796>>DOWHILE
DBHDR.RECS.SIZE IN PROCEDURE WRITE_MONITOR_SCHEMA
     11766**DCL     11792<<ASSIGN  11797<<ASSIGN  11797>>ASSIGN  11820>>ASSIGN  11834>>ASSIGN  11835>>DOWHILE
     11840<<ASSIGN  11840>>ASSIGN  11842>>DOWHILE 11843>>ASSIGN  11846>>ASSIGN  11847<<ASSIGN
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:241  
DBKEY.CNT
     10654**DCL     11785<<ASSIGN  11786>>DOWHILE 11796>>DOWHILE 12115<<ASSIGN  12116>>DOWHILE
DBKEY.NODE
     10656**DCL     11789>>ASSIGN  11796>>DOWHILE
DBKEY.NPTR
     10657**DCL     11789>>ASSIGN  11796>>DOWHILE 12119>>ASSIGN  12126>>DOWHILE
DBKEY.SEVENS
     10655**DCL     11786>>DOWHILE 11807>>IF      12116>>DOWHILE 12137>>IF
DBKEY.TYPE
     10658**DCL     11792>>ASSIGN  11797>>ASSIGN  11797>>ASSIGN  12122>>ASSIGN  12127>>ASSIGN  12127>>ASSIGN
DCB# IN PROCEDURE ABORT_DEF
     11209**DCL     11206--PROC    11212<>CALL    11213<>CALL
DCB$ IN PROCEDURE BUILD_G1RO
     11947**DCL     11982<<ASSIGN  11986--ASSIGN  11987>>ASSIGN
DESC.BASE IN PROCEDURE BUILD_G1RO
     11940**DCL     11996<<ASSIGN  11997>>ASSIGN
DESC.BOUND IN PROCEDURE BUILD_G1RO
     11932**DCL     11997<<ASSIGN
DESC.TYPE0 IN PROCEDURE BUILD_G1RO
     11933**DCL     11936--REDEF
DESC.TYPE0.FLAGS IN PROCEDURE BUILD_G1RO
     11934**DCL     11998<<ASSIGN  11999<<ASSIGN
DNAMBUF IN PROCEDURE WRITE_AS_SCHEMA
     12036**DCL     12108<<ASSIGN  12177<>CALL
DNAMBUF.BOUND IN PROCEDURE WRITE_AS_SCHEMA
     12037**DCL     12109>>CALL
DNAMBUF.PTR$ IN PROCEDURE WRITE_AS_SCHEMA
     12039**DCL     12040--IMP-PTR 12120>>ASSIGN
DNAMBUF IN PROCEDURE WRITE_MONITOR_SCHEMA
     11750**DCL     11784<<ASSIGN  11854<>CALL
DNAMBUF.PTR$ IN PROCEDURE WRITE_MONITOR_SCHEMA
     11753**DCL     11754--IMP-PTR 11790>>ASSIGN
DNAMEREC.FCG IN PROCEDURE WRITE_AS_SCHEMA
     12042**DCL     12120>>ASSIGN
DNAMEREC.FCG IN PROCEDURE WRITE_MONITOR_SCHEMA
     11756**DCL     11790>>ASSIGN
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:242  
DOH
     10886**DCL     11963<>CALL    11963--CALL
DUMMY_DCB
     10746**DCL     11952--CALL    11955--CALL    11958--CALL    11961--CALL    11983--ASSIGN
DUMMY_DCB.ACTPOS
     10787**DCL     10787--REDEF
DUMMY_DCB.ARS#
     10746**DCL     10746--REDEF
DUMMY_DCB.ATTR#
     10776**DCL     10776--REDEF   10778--REDEF
DUMMY_DCB.BORROW
     10798**DCL     10798--REDEF   10798--REDEF   10798--REDEF
DUMMY_DCB.EOMCHAR#
     10753**DCL     10754--REDEF
DUMMY_DCB.FLDID
     10790**DCL     10791--REDEF
DUMMY_DCB.FORM$
     10782**DCL     10782--REDEF
DUMMY_DCB.FSECT
     10805**DCL     10805--REDEF
DUMMY_DCB.FSN#
     10772**DCL     10772--REDEF   10772--REDEF   10773--REDEF
DUMMY_DCB.HEADER$
     10781**DCL     10782--REDEF
DUMMY_DCB.IXTNSIZE#
     10778**DCL     10779--REDEF
DUMMY_DCB.LASTSTA$
     10762**DCL     10762--REDEF
DUMMY_DCB.LVL
     10799**DCL     10799--REDEF
DUMMY_DCB.NAME#.C
     10762**DCL     10763--REDEF
DUMMY_DCB.NOEOF
     10794**DCL     10794--REDEF
DUMMY_DCB.NRECS#
     10779**DCL     10779--REDEF
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:243  
DUMMY_DCB.NRECX
     10806**DCL     10806--REDEF
DUMMY_DCB.OHDR
     10795**DCL     10795--REDEF
DUMMY_DCB.ORG#
     10770**DCL     10771--REDEF
DUMMY_DCB.PRECNO
     10803**DCL     10803--REDEF
DUMMY_DCB.RCSZ
     10811**DCL     10811--REDEF
DUMMY_DCB.RES#
     10764**DCL     10764--REDEF
DUMMY_DCB.SETX
     10783**DCL     10783--REDEF
DUMMY_DCB.TAB$
     10782**DCL     10782--REDEF
DUMMY_DCB.TDA
     10802**DCL     10803--REDEF
DUMMY_DCB.WSN#
     10764**DCL     10765--REDEF
END_DB IN PROCEDURE WRITE_AS_SCHEMA
     12137**LABEL   12125--CALLALT 12135--CALLALT
END_DB IN PROCEDURE WRITE_MONITOR_SCHEMA
     11807**LABEL   11795--CALLALT 11805--CALLALT
ERRCODE
     10675**DCL     10947<>CALL    10962<>CALL    10988<>CALL    10996<>CALL    11006<>CALL    11013<>CALL
     11139<>CALL    11141<>CALL    11211<<ASSIGN  11213<>CALL    11635<<ASSIGN  12092<>CALL
ERRCODE.CODE
     10679**DCL     11636>>IF      11640>>IF
F$DCB.ACTPOS
      9858**DCL      9858--REDEF
F$DCB.ARS
      9833**DCL      9833--REDEF   11060>>ASSIGN  11080>>ASSIGN  11099>>ASSIGN  11380>>ASSIGN  11631>>ASSIGN
     11792>>ASSIGN  11793>>ASSIGN  11794>>ASSIGN  11797>>ASSIGN  11798>>ASSIGN  11799>>ASSIGN  12122>>ASSIGN
     12123>>ASSIGN  12124>>ASSIGN  12127>>ASSIGN  12128>>ASSIGN  12129>>ASSIGN
F$DCB.ATTR
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:244  
      9851**DCL      9852--REDEF
F$DCB.BORROW
      9866**DCL      9866--REDEF    9866--REDEF    9866--REDEF
F$DCB.DCBNAME.L
      9880**DCL      9880--IMP-SIZ
F$DCB.EOMCHAR
      9837**DCL      9837--REDEF
F$DCB.FLDID
      9861**DCL      9861--REDEF
F$DCB.FORM$
      9855**DCL      9855--REDEF
F$DCB.FSECT
      9871**DCL      9871--REDEF
F$DCB.FSN
      9848**DCL      9848--REDEF    9848--REDEF    9849--REDEF
F$DCB.HEADER$
      9854**DCL      9854--REDEF
F$DCB.IXTNSIZE
      9852**DCL      9852--REDEF
F$DCB.LASTSTA$
      9842**DCL      9842--REDEF
F$DCB.LVL
      9867**DCL      9867--REDEF
F$DCB.NAME.C
      9842**DCL      9842--REDEF   11171--CALL
F$DCB.NOEOF
      9863**DCL      9863--REDEF
F$DCB.NRECS
      9853**DCL      9853--REDEF
F$DCB.NRECX
      9872**DCL      9872--REDEF
F$DCB.OHDR
      9864**DCL      9864--REDEF
F$DCB.ORG
      9847**DCL      9847--REDEF
F$DCB.PRECNO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:245  
      9870**DCL      9870--REDEF
F$DCB.RCSZ
      9875**DCL      9875--REDEF
F$DCB.RES
      9843**DCL      9843--REDEF   10933>>ASSIGN  12083>>ASSIGN
F$DCB.SETX
      9855**DCL      9855--REDEF
F$DCB.TAB$
      9854**DCL      9855--REDEF
F$DCB.TDA
      9869**DCL      9869--REDEF
F$DCB.WSN
      9844**DCL      9844--REDEF
FADR IN PROCEDURE READ_WRITE
     11279**DCL     11320<<ASSIGN  11324<<ASSIGN  11326>>IF      11327>>ASSIGN
FCGFND IN PROCEDURE WRITE_AS_SCHEMA
     12149**LABEL   12143--GOTO
FCGFND IN PROCEDURE WRITE_MONITOR_SCHEMA
     11829**LABEL   11823--GOTO
FCGHDR IN PROCEDURE WRITE_AS_SCHEMA
     12043**DCL     12151--CALL
FCGHDR.FCG IN PROCEDURE WRITE_AS_SCHEMA
     12044**DCL     12120<<ASSIGN  12143>>IF      12148>>ASSIGN
FCGHDR.NOU IN PROCEDURE WRITE_AS_SCHEMA
     12047**DCL     12150>>ASSIGN
FCGHDR.NPR IN PROCEDURE WRITE_AS_SCHEMA
     12046**DCL     12121<<ASSIGN  12140<<ASSIGN  12140>>ASSIGN  12149>>ASSIGN
FCGHDR IN PROCEDURE WRITE_MONITOR_SCHEMA
     11757**DCL     11831--CALL
FCGHDR.FCG IN PROCEDURE WRITE_MONITOR_SCHEMA
     11758**DCL     11790<<ASSIGN  11810>>IF      11811>>IF      11823>>IF      11828>>ASSIGN
FCGHDR.NOU IN PROCEDURE WRITE_MONITOR_SCHEMA
     11761**DCL     11830>>ASSIGN
FCGHDR.NPR IN PROCEDURE WRITE_MONITOR_SCHEMA
     11760**DCL     11791<<ASSIGN  11820<<ASSIGN  11820>>ASSIGN  11829>>ASSIGN
FILEREC IN PROCEDURE WRITE_PO
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:246  
     11471**DCL     11490>>IF
FIRMWARE
      9141**DCL     10962<>CALL
FIRMWARE.FLAGS.SKIP
      9170**DCL     10960>>IF
FIRST IN PROCEDURE READ_WRITE
     11277**DCL     11276--PROC    11305>>ASSIGN  11305>>ASSIGN  11321>>IF      11322>>ASSIGN  11323>>ASSIGN
     11324>>ASSIGN
FIRST_DEBUG_KEY IN PROCEDURE WRITE_AS_SCHEMA
     12053**DCL     12114<>CALL
FIRST_DEBUG_KEY IN PROCEDURE WRITE_MONITOR_SCHEMA
     11767**DCL     11783<>CALL
FMT1 IN PROCEDURE WRITE_BOOT_STUFF
     11867**DCL     11890--CALL
FMT1A IN PROCEDURE WRITE_BOOT_STUFF
     11869**DCL     11888--CALL
FMT2 IN PROCEDURE WRITE_BOOT_STUFF
     11879**DCL     11907--CALL
FMT3 IN PROCEDURE WRITE_BOOT_STUFF
     11873**DCL     11901--CALL
FMT3A IN PROCEDURE WRITE_BOOT_STUFF
     11875**DCL     11899--CALL
FOUR_ZEROS
     10686**DCL     11853--CALL    12172--CALL
FPT_CLOSEAS.SN_
     10577**DCL     10577--REDEF
FPT_CLOSEAS.UTL_
     10578**DCL     10578--REDEF
FPT_CLOSEAS.V
     10582**DCL     10577--DCLINIT
FPT_CLOSEAS.V.EXPIRE#
     10592**DCL     10592--REDEF
FPT_CLOSEAS.V.TYPE#
     10590**DCL     10590--REDEF
FPT_CLOSEAS.V.XTNSIZE#
     10587**DCL     10587--REDEF   10589--REDEF
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:247  
FPT_CLOSEPO
     10535**DCL     11184<>CALL
FPT_CLOSEPO.SN_
     10535**DCL     10535--REDEF
FPT_CLOSEPO.UTL_
     10536**DCL     10536--REDEF
FPT_CLOSEPO.V
     10540**DCL     10535--DCLINIT
FPT_CLOSEPO.V.EXPIRE#
     10550**DCL     10550--REDEF
FPT_CLOSEPO.V.TYPE#
     10548**DCL     10548--REDEF
FPT_CLOSEPO.V.XTNSIZE#
     10545**DCL     10545--REDEF   10547--REDEF
FPT_EXIT.V
     10508**DCL     10508--DCLINIT
FPT_EXIT.V.STEPCC#
     10509**DCL     10509--REDEF   11176<<ASSIGN  11675<<ASSIGN
FPT_OPENAS
     10438**DCL     12085<>CALL    12091<>CALL
FPT_OPENAS.ACSVEH_
     10440**DCL     10441--REDEF
FPT_OPENAS.ALTKEYS_
     10446**DCL     10447--REDEF   10447--REDEF
FPT_OPENAS.HDR_
     10445**DCL     10446--REDEF
FPT_OPENAS.TAB_
     10444**DCL     10445--REDEF
FPT_OPENAS.UHL_
     10438**DCL     10439--REDEF   10439--REDEF
FPT_OPENAS.V
     10447**DCL     10438--DCLINIT
FPT_OPENAS.V.DENSITY#
     10479**DCL     12078<<ASSIGN
FPT_OPENAS.V.FSN#
     10478**DCL     10478--REDEF   10478--REDEF
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:248  
FPT_OPENAS.V.FUN#
     10457**DCL     12080<<ASSIGN  12082<<ASSIGN
FPT_OPENAS.V.INITZ
     10448**DCL     12090<<ASSIGN
FPT_OPENAS.V.OPER.MNTONLY#
     10451**DCL     12089<<ASSIGN
FPT_OPENAS.WSN_
     10444**DCL     10444--REDEF
FPT_OPENPO
     10321**DCL     10935<>CALL    10941<>CALL
FPT_OPENPO.ACSVEH_
     10323**DCL     10324--REDEF
FPT_OPENPO.ALTKEYS_
     10329**DCL     10330--REDEF   10330--REDEF
FPT_OPENPO.HDR_
     10328**DCL     10329--REDEF
FPT_OPENPO.TAB_
     10327**DCL     10328--REDEF
FPT_OPENPO.UHL_
     10321**DCL     10322--REDEF   10322--REDEF
FPT_OPENPO.V
     10330**DCL     10321--DCLINIT
FPT_OPENPO.V.DENSITY#
     10362**DCL     10928<<ASSIGN
FPT_OPENPO.V.FSN#
     10361**DCL     10361--REDEF   10361--REDEF
FPT_OPENPO.V.FUN#
     10340**DCL     10930<<ASSIGN  10932<<ASSIGN
FPT_OPENPO.V.INITZ
     10331**DCL     10940<<ASSIGN
FPT_OPENPO.V.OPER.MNTONLY#
     10334**DCL     10939<<ASSIGN
FPT_OPENPO.WSN_
     10327**DCL     10327--REDEF
FPT_PRECORD.V IN PROCEDURE READ_WRITE
     11296**DCL     11294--DCLINIT
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:249  
FPT_PRECORDM1
     10607**DCL     11660<>CALL    11807<>CALL    12137<>CALL
FPT_PRECORDM1.V
     10609**DCL     10607--DCLINIT
FPT_READ IN PROCEDURE READ_KEYED
     11602**DCL     11629<>CALL
FPT_READ.BUF_ IN PROCEDURE READ_KEYED
     11604**DCL     11628<<ASSIGN  11642<<ASSIGN
FPT_READ.STATION_ IN PROCEDURE READ_KEYED
     11605**DCL     11606--REDEF
FPT_READ.V IN PROCEDURE READ_KEYED
     11606**DCL     11602--DCLINIT
FPT_READ.V.DVBYTE.REREAD# IN PROCEDURE READ_KEYED
     11617**DCL     11617--REDEF
FPT_READ.V.INDX# IN PROCEDURE READ_KEYED
     11615**DCL     11615--REDEF
FPT_READ IN PROCEDURE READ_SEQUENTIAL
     11354**DCL     11378<>CALL
FPT_READ.BUF_ IN PROCEDURE READ_SEQUENTIAL
     11356**DCL     11377<<ASSIGN  11386<<ASSIGN
FPT_READ.STATION_ IN PROCEDURE READ_SEQUENTIAL
     11357**DCL     11358--REDEF
FPT_READ.V IN PROCEDURE READ_SEQUENTIAL
     11358**DCL     11354--DCLINIT
FPT_READ.V.DVBYTE.REREAD# IN PROCEDURE READ_SEQUENTIAL
     11369**DCL     11369--REDEF
FPT_READ.V.INDX# IN PROCEDURE READ_SEQUENTIAL
     11367**DCL     11367--REDEF
FPT_READ IN PROCEDURE WRITE_PO
     11447**DCL     11489<>CALL
FPT_READ.BUF_ IN PROCEDURE WRITE_PO
     11449**DCL     11486<<ASSIGN
FPT_READ.BUF_.BUF$ IN PROCEDURE WRITE_PO
     11450**DCL     11470--IMP-PTR 11490>>IF
FPT_READ.STATION_ IN PROCEDURE WRITE_PO
     11450**DCL     11451--REDEF
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:250  
FPT_READ.V IN PROCEDURE WRITE_PO
     11451**DCL     11447--DCLINIT
FPT_READ.V.DVBYTE.BIN# IN PROCEDURE WRITE_PO
     11462**DCL     11487<<ASSIGN
FPT_READ.V.DVBYTE.REREAD# IN PROCEDURE WRITE_PO
     11462**DCL     11462--REDEF
FPT_READ.V.INDX# IN PROCEDURE WRITE_PO
     11460**DCL     11460--REDEF
FPT_READ_HEAD IN PROCEDURE RDHEAD
     11240**DCL     11270<>CALL
FPT_READ_HEAD.STATION_ IN PROCEDURE RDHEAD
     11243**DCL     11244--REDEF
FPT_READ_HEAD.V IN PROCEDURE RDHEAD
     11244**DCL     11240--DCLINIT
FPT_READ_HEAD.V.DVBYTE.REREAD# IN PROCEDURE RDHEAD
     11255**DCL     11255--REDEF
FPT_READ_HEAD.V.INDX# IN PROCEDURE RDHEAD
     11253**DCL     11253--REDEF
FPT_REW
     10493**DCL     10937<>CALL    12087<>CALL
FPT_REW.V
     10493**DCL     10493--DCLINIT
FPT_REW.V.PSN#
     10495**DCL     10936<<ASSIGN  12086<<ASSIGN
FPT_WRITE IN PROCEDURE WRITE_LO
     11710**DCL     11726<>CALL
FPT_WRITE.BUF_ IN PROCEDURE WRITE_LO
     11710**DCL     11725<<ASSIGN
FPT_WRITE.STATION_ IN PROCEDURE WRITE_LO
     11712**DCL     11712--REDEF
FPT_WRITE.V IN PROCEDURE WRITE_LO
     11713**DCL     11710--DCLINIT
FPT_WRITE.V.DVBYTE.VFC# IN PROCEDURE WRITE_LO
     11719**DCL     11719--REDEF
FPT_WRITE IN PROCEDURE WRITE_PO
     11416**DCL     11493<>CALL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:251  
FPT_WRITE.BUF_ IN PROCEDURE WRITE_PO
     11416**DCL     11482<<ASSIGN  11483<<ASSIGN
FPT_WRITE.BUF_.BOUND IN PROCEDURE WRITE_PO
     11416**DCL     11488>>ASSIGN
FPT_WRITE.BUF_.BUF$ IN PROCEDURE WRITE_PO
     11418**DCL     11471--IMP-PTR 11490>>IF
FPT_WRITE.STATION_ IN PROCEDURE WRITE_PO
     11418**DCL     11418--REDEF
FPT_WRITE.V IN PROCEDURE WRITE_PO
     11419**DCL     11416--DCLINIT
FPT_WRITE.V.DCB# IN PROCEDURE WRITE_PO
     11419**DCL     11481<<ASSIGN
FPT_WRITE.V.DVBYTE.BIN# IN PROCEDURE WRITE_PO
     11425**DCL     11484<<ASSIGN
FPT_WRITE.V.DVBYTE.VFC# IN PROCEDURE WRITE_PO
     11425**DCL     11425--REDEF
F_FDS
      8977**DCL     11171<>CALL    11180<>CALL    11181<>CALL    11674<>CALL    11683<>CALL    11882<>CALL
     11883<>CALL    11888<>CALL    11890<>CALL    11894<>CALL    11899<>CALL    11901<>CALL    11905<>CALL
     11907<>CALL    12173<>CALL    12175<>CALL
G1HJIT
      9349**DCL     11139<>CALL
G1HJITKEY
     10740**DCL     11140<>CALL
G1ROSEG
     10819**DCL     11950<>CALL    11950--CALL
G1TCB
     10843**DCL     10821--DCLINIT 11994<>CALL    11994--CALL
GET_MORE_SPACE
     11648**PROC    11385--CALL    11627--CALL    11641--CALL
GHOST1
      9297**DCL     11141<>CALL
GHOST1.FLAGS.SKIP
      9326**DCL     11138>>IF
GMS_JUNK IN PROCEDURE GET_MORE_SPACE
     11650**DCL     11648--PROC    11654--IF      11660--IF      11661--IF
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:252  
GOT_FIRMWARE
     10979**LABEL   10964--CALLALT
HDR1 IN PROCEDURE WRITE_BOOT_STUFF
     11865**DCL     11883--CALL
HDR2 IN PROCEDURE WRITE_BOOT_STUFF
     11877**DCL     11905--CALL
HDR3 IN PROCEDURE WRITE_BOOT_STUFF
     11871**DCL     11894--CALL
HEADER IN PROCEDURE WRITE_HEADER
     11548**DCL     11577--CALL
HEADER.BASE IN PROCEDURE WRITE_HEADER
     11549**DCL     11572<<ASSIGN
HEADER.LSIZE IN PROCEDURE WRITE_HEADER
     11551**DCL     11574<<ASSIGN
HEADER.MODE IN PROCEDURE WRITE_HEADER
     11552**DCL     11576<<ASSIGN
HEADER.START IN PROCEDURE WRITE_HEADER
     11553**DCL     11575<<ASSIGN
HEADER.TYPE IN PROCEDURE WRITE_HEADER
     11550**DCL     11573<<ASSIGN
HEADREC
      9906**DCL     11242--DCLINIT 11243--DCLINIT
HEADREC.BIAS
     10070**DCL     10952>>ASSIGN
HEADREC.DCBRES
      9957**DCL     11989>>ASSIGN  11993>>ASSIGN
HEADREC.EDRECSIZE
      9978**DCL     12100>>ASSIGN
HEADREC.EPRECSIZE
      9975**DCL     12095>>ASSIGN
HEADREC.NRECSIZE
      9972**DCL     12104>>ASSIGN
HEADREC.RDATA
      9925**DCL     10950>>ASSIGN  10991>>ASSIGN
HEADREC.ROSIZE
      9984**DCL     11977>>CALL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:253  
HEADREC.RPROC
      9915**DCL     10950>>ASSIGN
HEADREC.START
      9951**DCL     10951>>ASSIGN  10998<>CALL    11044<>CALL    11154<>CALL
HEADREC.TREEDISP
      9960**DCL     11030>>ASSIGN
HEADREC.UDCBNUM
      9954**DCL     11984>>DOINDEX 11989>>ASSIGN  11990>>DOINDEX 11993>>ASSIGN
HEADREC.VDPGS
      9917**DCL     10954>>CALL    10990>>CALL    10998>>CALL    10999>>CALL    11008>>CALL    11009>>CALL
     11019>>CALL    11020>>CALL    11150>>CALL    11151>>CALL    11155>>CALL    11155>>CALL
HEADREC.VPPGS
      9909**DCL     10954>>CALL    10998>>CALL    10999>>CALL    11154>>CALL    11155>>CALL
HEAD_KEY IN PROCEDURE RDHEAD
     11219**DCL     11240--DCLINIT 11241--DCLINIT
I
     10237**DCL     10952<<ASSIGN  10953<>CALL    10953>>CALL    10991<<ASSIGN  10992<>CALL    11037<<DOINDEX
     11038>>ASSIGN  11039>>ASSIGN  11040>>ASSIGN  11046>>ASSIGN  11057<<DOINDEX 11058>>ASSIGN  11063>>ASSIGN
     11063>>ASSIGN  11077<<DOINDEX 11078>>ASSIGN  11082>>ASSIGN  11087>>ASSIGN  11096<<DOINDEX 11097>>ASSIGN
     11101>>ASSIGN  11106>>ASSIGN  11166<<ASSIGN  11180--CALL    11555>>IF      11556>>ASSIGN  11557>>ASSIGN
     11558>>ASSIGN  11559>>ASSIGN  11560>>ASSIGN  11561>>ASSIGN  11562>>ASSIGN  11562>>ASSIGN  11685<<ASSIGN
     11685>>ASSIGN  11801<<ASSIGN  11802<>CALL    11809<<DOINDEX 11810>>IF      11811>>IF      11811>>IF
     11819<<DOINDEX 11820>>ASSIGN  11833<<DOINDEX 11834>>ASSIGN  11835>>DOWHILE 11837>>IF      11840>>ASSIGN
     11840>>ASSIGN  11842>>DOWHILE 11843>>ASSIGN  11844>>IF      11846>>ASSIGN  11847>>ASSIGN  11884<<DOINDEX
     11885>>IF      11886>>DOSELCT 11888>>CALL    11890>>CALL    11895<<DOINDEX 11896>>IF      11897>>DOSELCT
     11899>>CALL    11901>>CALL    11906<<DOINDEX 11907>>CALL    11965<<DOINDEX 11974<<DOINDEX 11984<<DOINDEX
     11985>>ASSIGN  11985>>ASSIGN  11986>>ASSIGN  11990<<DOINDEX 11991>>ASSIGN  12131<<ASSIGN  12132<>CALL
     12139<<DOINDEX 12140>>ASSIGN  12153<<DOINDEX 12154>>ASSIGN  12155>>DOWHILE 12157>>IF      12160>>ASSIGN
     12160>>ASSIGN  12162>>DOWHILE 12163>>ASSIGN  12164>>IF      12166>>ASSIGN  12167>>ASSIGN  12174<<DOINDEX
     12175>>CALL
IDD$GETSEG
      9893**DCL-ENT 10918--CALL    10921--CALL    11024--CALL    11026--CALL    11035--CALL    11053--CALL
     11055--CALL    11074--CALL    11127--CALL    11129--CALL    11131--CALL    11656--CALL    11658--CALL
     11802--CALL    11854--CALL    12023--CALL    12073--CALL    12109--CALL    12111--CALL    12132--CALL
     12177--CALL
IDO$OPENFILE
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:254  
      9894**DCL-ENT 10947--CALL    10962--CALL    10988--CALL    10996--CALL    11006--CALL    11013--CALL
     11139--CALL    11141--CALL    11170--CALL    12092--CALL
ID_ASLIST
     10244**DCL     10438--DCLINIT
ID_ASLIST.C
     10246**DCL     12086>>ASSIGN
ID_DENSITY
     10247**DCL     10928>>ASSIGN  12078>>ASSIGN
ID_LISTFLG
     10912**DCL     11682>>IF
ID_PTCHHEAD$
      9597**DCL     11168>>ASSIGN
ID_SITEINFO
      9662**DCL     11157--CALL    11159--CALL
ID_SITEINFO.MON_UTS#
      9665**DCL     11016<<ASSIGN
ID_SNLIST
     10241**DCL     10321--DCLINIT
ID_SNLIST.C
     10243**DCL     10936>>ASSIGN
ID_VERIFLG
     10907**DCL     10919>>IF      10929>>IF      11485>>IF      11657>>IF      12079>>IF
ID_VERISEG
     10908**DCL     10920<<ASSIGN  10921<>CALL    11486>>ASSIGN  11658<>CALL
ID_VERISEG.BOUND
     10909**DCL     10920>>IF
INVEC IN PROCEDURE WRITE_PAGE_SIZE_CHUNKS
     11515**DCL     11513--PROC    11525>>ASSIGN
INVEC.BOUND IN PROCEDURE WRITE_PAGE_SIZE_CHUNKS
     11516**DCL     11526>>ASSIGN
IOBUF
     10232**DCL     10923<<ASSIGN  11014<<ASSIGN  11017<<ASSIGN  11027<<ASSIGN  11036<<ASSIGN  11056<<ASSIGN
     11067<<ASSIGN  11068<>CALL    11075<<ASSIGN  11093<<ASSIGN  11094<>CALL    11112<<ASSIGN  11114<>CALL
     11123<<ASSIGN  11126<>CALL    11132<<ASSIGN  11313>>ASSIGN  11377>>ASSIGN  11379>>ASSIGN  11386>>ASSIGN
     11628>>ASSIGN  11630>>ASSIGN  11642>>ASSIGN  11818<<ASSIGN  11837<>CALL    11838<>CALL    11844<>CALL
     11845<>CALL    11851<<ASSIGN  12002<<ASSIGN  12074<<ASSIGN  12112<<ASSIGN  12138<<ASSIGN  12157<>CALL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:255  
     12158<>CALL    12164<>CALL    12165<>CALL    12170<<ASSIGN
IOBUF.BOUND
     10233**DCL     11062<<ASSIGN  11062>>ASSIGN  11085<<ASSIGN  11085>>ASSIGN  11104<<ASSIGN  11104>>ASSIGN
     11113<<ASSIGN  11124>>ASSIGN  11626>>IF      11659<<ASSIGN  11794<<ASSIGN  11794>>ASSIGN  11799<<ASSIGN
     11799>>ASSIGN  11800>>IF      11803<<ASSIGN  11836<<ASSIGN  11843<<ASSIGN  11980<<ASSIGN  12124<<ASSIGN
     12124>>ASSIGN  12129<<ASSIGN  12129>>ASSIGN  12130>>IF      12133<<ASSIGN  12156<<ASSIGN  12163<<ASSIGN
IOBUF.PTR$
     10235**DCL     11061<<ASSIGN  11061>>ASSIGN  11083>>ASSIGN  11084<<ASSIGN  11084>>ASSIGN  11102>>ASSIGN
     11103<<ASSIGN  11103>>ASSIGN  11182>>ASSIGN  11183>>CALL    11659>>ASSIGN  11669>>ASSIGN  11671>>CALL
     11793<<ASSIGN  11793>>ASSIGN  11798<<ASSIGN  11798>>ASSIGN  11803>>ASSIGN  11839<<ASSIGN  11839>>ASSIGN
     11846<<ASSIGN  11846>>ASSIGN  11979<<ASSIGN  12123<<ASSIGN  12123>>ASSIGN  12128<<ASSIGN  12128>>ASSIGN
     12133>>ASSIGN  12159<<ASSIGN  12159>>ASSIGN  12166<<ASSIGN  12166>>ASSIGN
IOERR IN PROCEDURE WRITE_AS_SCHEMA
     12180**LABEL   12132--CALLALT
IOERR IN PROCEDURE WRITE_MONITOR_SCHEMA
     11857**LABEL   11802--CALLALT
J
     10701**DCL     11086<<DOINDEX 11105<<DOINDEX
KEY IN PROCEDURE READ_KEYED
     11582**DCL     11581--PROC    11625>>ASSIGN
LAST.WA IN PROCEDURE BUILD_G1RO
     11920**DCL     11985>>ASSIGN  11996>>ASSIGN
LAST IN PROCEDURE READ_WRITE
     11278**DCL     11276--PROC    11307>>DOWHILE 11326>>IF      11327>>ASSIGN
LAST$ IN PROCEDURE BUILD_G1RO
     11918**DCL     11919--REDEF   11951>>ASSIGN  11953>>ASSIGN  11956>>ASSIGN  11959>>ASSIGN  11962>>ASSIGN
     11979>>ASSIGN  11980>>ASSIGN  11985>>ASSIGN  11985>>ASSIGN  11986>>ASSIGN  11991>>ASSIGN  11995>>ASSIGN
     12013--IMP-PTR 12018<<ASSIGN  12025>>ASSIGN
LAST_KEY_READ
     10650**DCL     10653--REDEF   10661--REDEF   10669--REDEF   11354--DCLINIT 11355--DCLINIT 11390<<ASSIGN
     11602--DCLINIT 11603--DCLINIT 11625<<ASSIGN
LITTLEBASE IN PROCEDURE READ_WRITE
     11281**DCL     11315<<ASSIGN
LM
     10876**DCL     11957<>CALL    11957--CALL
M$AS
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:256  
      9883**DCL     12075>>ASSIGN  12076--ASSIGN  12182<>CALL
M$AS$
      9884**DCL     12076<<ASSIGN  12083>>ASSIGN
M$CLOSE
        20**DCL-ENT 11184--CALL
M$INPUT
      9889**DCL     10927--ASSIGN  10947<>CALL    10962<>CALL    10988<>CALL    10996<>CALL    11006<>CALL
     11013<>CALL    11139<>CALL    11141<>CALL    11170<>CALL    11175<>CALL    11191<>CALL    11193<>CALL
     11195<>CALL    11197<>CALL    11199<>CALL    11273<>CALL    11393<>CALL    11645<>CALL    11664<>CALL
     12077--ASSIGN  12092<>CALL    12184<>CALL
M$INPUT$
      9890**DCL     10927<<ASSIGN  11060>>ASSIGN  11080>>ASSIGN  11099>>ASSIGN  11171>>CALL    11380>>ASSIGN
     11631>>ASSIGN  11792>>ASSIGN  11793>>ASSIGN  11794>>ASSIGN  11797>>ASSIGN  11798>>ASSIGN  11799>>ASSIGN
     12077<<ASSIGN  12122>>ASSIGN  12123>>ASSIGN  12124>>ASSIGN  12127>>ASSIGN  12128>>ASSIGN  12129>>ASSIGN
M$OPEN
        20**DCL-ENT 10935--CALL    10941--CALL    12085--CALL    12091--CALL
M$PO
      9881**DCL     10926--ASSIGN  11189<>CALL    11499<>CALL    11503<>CALL
M$PO$
      9882**DCL     10926<<ASSIGN  10933>>ASSIGN
M$PRECORD
        24**DCL-ENT 11660--CALL    11807--CALL    12137--CALL
M$READ
        21**DCL-ENT 11270--CALL    11378--CALL    11489--CALL    11629--CALL
M$RENV
        76**DCL-ENT 11661--CALL
M$RETRY
        77**DCL-ENT 11188--CALL    11387--CALL    11643--CALL
M$REW
        23**DCL-ENT 10937--CALL    12087--CALL
M$SENV
        76**DCL-ENT 11654--CALL
M$WRITE
        21**DCL-ENT 11493--CALL    11726--CALL
M$XXX
        32**DCL-ENT 11214--CALL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:257  
MBASE IN PROCEDURE MOVE
     12013**DCL     12025<<ASSIGN
MDNAMBUF
     10733**DCL     11069<<ASSIGN  11128>>ASSIGN  11784>>ASSIGN
MDNAMKEY
     10684**DCL     11059<>CALL    12106<>CALL
MDNAMKEY.NODE
     10684**DCL     11058<<ASSIGN
MEDEFKEY
     10682**DCL     11079<>CALL    12098<>CALL
MEDEFKEY.NODE
     10682**DCL     11078<<ASSIGN
MHJIT
      9245**DCL     11006<>CALL
MODE IN PROCEDURE WRITE_HEADER
     11545**DCL     11541--PROC    11576>>ASSIGN
MODE IN PROCEDURE WRITE_PAGE_SIZE_CHUNKS
     11514**DCL     11513--PROC    11529<>CALL    11535<>CALL
MODE IN PROCEDURE WRITE_PO
     11397**DCL     11396--PROC    11484>>ASSIGN  11487>>ASSIGN
MONNODESTUFF
     10628**DCL     11899--CALL    11901--CALL
MONNODESTUFF.BIAS
     10633**DCL     10634--REDEF   11559<<ASSIGN
MONNODESTUFF.CBIAS
     10634**DCL     11556<<ASSIGN  11557<<ASSIGN  11558<<ASSIGN  11897>>DOSELCT
MONNODESTUFF.NODE_NAME
     10637**DCL     11562<<ASSIGN
MONNODESTUFF.PADDR
     10636**DCL     11561<<ASSIGN
MONNODESTUFF.SIZE
     10635**DCL     11560<<ASSIGN  11896>>IF
MONSTER
      9193**DCL     11013<>CALL
MONSTER.FLAGS.SKIP
      9222**DCL     11005>>IF
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:258  
MOVE IN PROCEDURE BUILD_G1RO
     12009**PROC    11950--CALL    11952--CALL    11954--CALL    11955--CALL    11957--CALL    11958--CALL
     11960--CALL    11961--CALL    11963--CALL    11964--CALL    11966--CALL    11969--CALL    11970--CALL
     11971--CALL    11972--CALL    11973--CALL    11975--CALL    11977--CALL    11994--CALL
MROBUF
     10707**DCL     11029<<ASSIGN
MROBUF.PTR$
     10710**DCL     11030>>ASSIGN
MROREC
     10711**DCL     11123--ASSIGN
MROREC.NINFO.DNAM.OFFSET
     10725**DCL     11063<<ASSIGN  11063>>ASSIGN  11065>>ASSIGN  11087>>ASSIGN  11106>>ASSIGN  11789>>ASSIGN
     11796>>DOWHILE
MROREC.NINFO.EDEF.OFFSET
     10719**DCL     11082<<ASSIGN
MROREC.NINFO.NODE_NAME.LEN
     10716**DCL     11039<<ASSIGN
MROREC.NINFO.NODE_NAME.TXT
     10717**DCL     11040<<ASSIGN  11562>>ASSIGN
MROREC.NINFO.SDEF.OFFSET
     10722**DCL     11101<<ASSIGN
MROREC.NODES
     10712**DCL     11032<<ASSIGN
MROREC.PADDR
     10713**DCL     11041<<ASSIGN  11042>>ASSIGN  11045>>ASSIGN  11047<>CALL    11561>>ASSIGN
MROSEGKEY
     10685**DCL     11028<>CALL
MSDEFKEY
     10683**DCL     11098<>CALL    12102<>CALL
MSDEFKEY.NODE
     10683**DCL     11097<<ASSIGN
M_DO
     10863**DCL     11961<>CALL
M_DO$ IN PROCEDURE BUILD_G1RO
     11926**DCL     11962<<ASSIGN  11973<>CALL
M_DUMMY
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:259  
     10864**DCL     11987--ASSIGN
M_LM
     10861**DCL     11955<>CALL
M_LM$ IN PROCEDURE BUILD_G1RO
     11924**DCL     11956<<ASSIGN  11971<>CALL
M_STAR
     10860**DCL     11952<>CALL
M_STAR$ IN PROCEDURE BUILD_G1RO
     11923**DCL     11953<<ASSIGN  11970<>CALL
M_UC
     10862**DCL     11958<>CALL
M_UC$ IN PROCEDURE BUILD_G1RO
     11925**DCL     11959<<ASSIGN  11972<>CALL
NEXT.CHR IN PROCEDURE BUILD_G1RO
     11915**DCL     12016>>IF      12017<<ASSIGN  12017>>ASSIGN  12017>>ASSIGN  12020>>IF      12021<<ASSIGN
     12021>>ASSIGN  12021>>ASSIGN
NEXT$ IN PROCEDURE BUILD_G1RO
     11913**DCL     11914--REDEF   11949<<ASSIGN  11968>>ASSIGN  12001>>ASSIGN  12018>>ASSIGN  12019<<ASSIGN
     12019>>ASSIGN  12022>>ASSIGN
NODES
     10700**DCL     11031<<ASSIGN  11032>>ASSIGN  11037>>DOINDEX 11057>>DOINDEX 11065>>ASSIGN  11077>>DOINDEX
     11096>>DOINDEX
NO_ASCHEMA IN PROCEDURE WRITE_AS_SCHEMA
     12184**LABEL   12092--CALLALT
NO_ASCHEMA_CODE
      9824**DCL     12184<>CALL
NO_BOOT_CODE
      9705**DCL     10946>>ASSIGN
NO_BUFFER_CODE
      9761**DCL     11201<>CALL    11664<>CALL    12028<>CALL
NO_FIRMWARE_CODE
      9712**DCL     10961>>ASSIGN
NO_G1RO
     11195**LABEL   11139--CALLALT 11140--CALLALT
NO_G1RO_CODE
      9740**DCL     11195<>CALL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:260  
NO_GHOST1
     11197**LABEL   11141--CALLALT
NO_GHOST1_CODE
      9747**DCL     11197<>CALL
NO_HEAD IN PROCEDURE RDHEAD
     11273**LABEL   11270--CALLALT
NO_HEAD_CODE IN PROCEDURE RDHEAD
     11263**DCL     11273<>CALL
NO_MEM
     11201**LABEL   10918--CALLALT 10921--CALLALT 11026--CALLALT 11035--CALLALT 11055--CALLALT 11074--CALLALT
     11131--CALLALT
NO_MEM IN PROCEDURE MOVE
     12024**LABEL   12023--CALLALT
NO_MHJIT
     11191**LABEL   11006--CALLALT
NO_MHJIT_CODE
      9726**DCL     11191<>CALL
NO_MONSTER
     11193**LABEL   11013--CALLALT
NO_MONSTER_CODE
      9733**DCL     11193<>CALL
NO_ROSEG IN PROCEDURE BUILD_G1RO
     12002**LABEL   11981--CALLALT
NO_ROS_CODE
      9782**DCL     12005<>CALL
NO_XDELTA_CODE
      9719**DCL     10987>>ASSIGN
OPEN_ERR_CODE
      9830**DCL     10946<<ASSIGN  10961<<ASSIGN  10987<<ASSIGN  11199<>CALL
OPN_AS_CODE
      9803**DCL     12182<>CALL
OPN_AS_ERROR IN PROCEDURE WRITE_AS_SCHEMA
     12182**LABEL   12085--CALLALT 12087--CALLALT 12091--CALLALT
OPN_ERR
     11199**LABEL   10947--CALLALT 10962--CALLALT 10988--CALLALT 10996--CALLALT
OPN_PO_CODE
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:261  
      9754**DCL     11189<>CALL
OPN_PO_ERROR
     11188**LABEL   10935--CALLALT 10937--CALLALT 10941--CALLALT
OUTBUF
     10687**DCL     11146<>CALL    11313<<ASSIGN  11379<<ASSIGN  11482>>ASSIGN  11630<<ASSIGN  11637<<ASSIGN
     11674<>CALL    11683<>CALL    12000<<ASSIGN  12099<>CALL    12103<>CALL    12107<>CALL    12108>>ASSIGN
OUTBUF.BOUND
     10688**DCL     10965>>ASSIGN  10966<<ASSIGN  10968<<ASSIGN  11144>>CALL    11314<<ASSIGN  11323<<ASSIGN
     11323>>ASSIGN  11326>>IF      11327<<ASSIGN  11380<<ASSIGN  11631<<ASSIGN  11672>>IF      11742>>ASSIGN
     12001<<ASSIGN
OUTBUF.PTR$
     10690**DCL     10970<<ASSIGN  10970>>ASSIGN  11315>>ASSIGN  11316>>ASSIGN  11316>>ASSIGN  11322<<ASSIGN
     11322>>ASSIGN  11742>>ASSIGN
OUTVEC IN PROCEDURE WRITE_PAGE_SIZE_CHUNKS
     11519**DCL     11525<<ASSIGN  11529<>CALL    11535<>CALL
OUTVEC.BOUND IN PROCEDURE WRITE_PAGE_SIZE_CHUNKS
     11520**DCL     11528<<ASSIGN  11534<<ASSIGN
OUTVEC.PTR$ IN PROCEDURE WRITE_PAGE_SIZE_CHUNKS
     11522**DCL     11530<<ASSIGN  11530>>ASSIGN
PAGE# IN PROCEDURE READ_WRITE
     11280**DCL     11306<<ASSIGN  11307>>DOWHILE 11331<<ASSIGN  11331>>ASSIGN
PATCHCARDS
     10649**DCL     11180--CALL
PATCH_DONE IN PROCEDURE WRITE_PATCH
     11688**LABEL   11670--CALLALT
PBASE.WA IN PROCEDURE BUILD_G1RO
     11928**DCL     11985<<ASSIGN  11985>>ASSIGN  11986<<ASSIGN  11986>>ASSIGN
PBASE$ IN PROCEDURE BUILD_G1RO
     11930**DCL     11991<<ASSIGN
POAS
      9885**DCL     11480>>IF      11481>>ASSIGN  11498>>IF      11500<>CALL    11502>>IF      11504<>CALL
     12075<<ASSIGN
PRKEY
     10669**DCL     11317<<ASSIGN
PRKEY.NODE
     10672**DCL     11312>>IF
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:262  
PRKEY.PAGE#
     10673**DCL     11312>>IF      11320>>ASSIGN  11321>>IF      11322>>ASSIGN  11323>>ASSIGN
PRKEY.TYPE
     10671**DCL     11312>>IF
PROG_RECORD_KEY
     10727**DCL     11294--DCLINIT 11295--DCLINIT 11308<>CALL    11317>>ASSIGN
PROG_RECORD_KEY.NODE_NUMBER
     10730**DCL     11046<<ASSIGN  11137<<ASSIGN  11312>>IF
PROG_RECORD_KEY.PAGE#
     10731**DCL     11305<<ASSIGN  11306>>ASSIGN  11312>>IF      11330<<ASSIGN  11330>>ASSIGN
PTCH.FL$
      9613**DCL     11178>>ASSIGN
PTCH.FNAME
      9615**DCL     11170<>CALL
PTCH$
      9596**DCL      9611--IMP-PTR 11168<<ASSIGN  11169>>DOWHILE 11170>>CALL    11178<<ASSIGN  11178>>ASSIGN
PTCHFMT
     10646**DCL     11683--CALL
PTCHFMT1
     10645**DCL     11171--CALL
PTCH_OPN_ERR
     11175**LABEL   11170--CALLALT
PTRUNCFMT
     10647**DCL     11674--CALL
RDHEAD
     11217**PROC    10948--CALL    10989--CALL    10997--CALL    11007--CALL    11018--CALL    11142--CALL
     12093--CALL
READONLY#
     10240**DCL     10925<<ASSIGN  10979<<ASSIGN  10981<<ASSIGN  11145<<ASSIGN  11147<<ASSIGN  11158<<ASSIGN
     11160<<ASSIGN  11490>>IF
READ_KEYED
     11581**PROC    11015--CALL    11028--CALL    11059--CALL    11079--CALL    11098--CALL    11140--CALL
     11308--CALL    11783--CALL    11981--CALL    12098--CALL    12102--CALL    12106--CALL    12114--CALL
READ_SEQUENTIAL
     11336**PROC    10964--CALL    11311--CALL    11670--CALL    11787--CALL    11795--CALL    11805--CALL
     12117--CALL    12125--CALL    12135--CALL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:263  
READ_WRITE
     11276**PROC    10953--CALL    10954--CALL    10992--CALL    10999--CALL    11009--CALL    11020--CALL
     11047--CALL    11151--CALL    11155--CALL
RECCNT
     10699**DCL     10924<<ASSIGN  11495<<ASSIGN  11495>>ASSIGN
RECSIZE IN PROCEDURE WRITE_PO
     11469**DCL     11470--IMP-SIZ 11471--IMP-SIZ 11488<<ASSIGN  11490>>IF      11490>>IF
RES
     10239**DCL     10933<<ASSIGN  10934>>IF      10934>>IF      12083<<ASSIGN  12084>>IF      12084>>IF
ROS$ IN PROCEDURE BUILD_G1RO
     11922**DCL     11951<<ASSIGN  11968>>ASSIGN  11993>>ASSIGN  11995>>ASSIGN
ROSEG_KEY IN PROCEDURE BUILD_G1RO
     11941**DCL     11981<>CALL
RUMKEY.TYPE
     10664**DCL     11786>>DOWHILE 12116>>DOWHILE
SCHEMASTUFF
     10638**DCL     11827<<ASSIGN  11907--CALL    12147<<ASSIGN  12175--CALL
SCHEMASTUFF.FCG
     10639**DCL     11823>>IF      11828<<ASSIGN  12143>>IF      12148<<ASSIGN
SCHEMASTUFF.OUS
     10641**DCL     11830<<ASSIGN  11830>>ASSIGN  12150<<ASSIGN  12150>>ASSIGN
SCHEMASTUFF.RECS
     10640**DCL     11829<<ASSIGN  11829>>ASSIGN  12149<<ASSIGN  12149>>ASSIGN
SCHEMASTUFF.SIZE
     10642**DCL     11834<<ASSIGN  11834>>ASSIGN  12154<<ASSIGN  12154>>ASSIGN
SCHEMA_ERR_CODE IN PROCEDURE WRITE_MONITOR_SCHEMA
     11775**DCL     11857<>CALL
SCHEMA_FLAG
     10681**DCL     11118>>IF
SCHEMA_IN_LIST IN PROCEDURE WRITE_MONITOR_SCHEMA
     11812**LABEL   11810--GOTO    11813--GOTO
SCHEMA_TBL.FCG
     10906**DCL     11810>>IF      11811>>IF      11811>>IF
SCHEMA_TBL.N
     10905**DCL     11808>>IF      11809>>DOINDEX
SCH_FCGS
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:264  
     10643**DCL     11822>>DOINDEX 11825<<ASSIGN  11825>>ASSIGN  11826>>ASSIGN  11906>>DOINDEX 12094<<ASSIGN
     12142>>DOINDEX 12145<<ASSIGN  12145>>ASSIGN  12146>>ASSIGN  12174>>DOINDEX
SCH_IDX
     10644**DCL     11822<<DOINDEX 11823>>IF      11826<<ASSIGN  11827>>ASSIGN  11828>>ASSIGN  11829>>ASSIGN
     11829>>ASSIGN  11830>>ASSIGN  11830>>ASSIGN  11834>>ASSIGN  11834>>ASSIGN  12142<<DOINDEX 12143>>IF
     12146<<ASSIGN  12147>>ASSIGN  12148>>ASSIGN  12149>>ASSIGN  12149>>ASSIGN  12150>>ASSIGN  12150>>ASSIGN
     12154>>ASSIGN  12154>>ASSIGN
SIZE IN PROCEDURE BUILD_G1RO
     11946**DCL     11945--IMP-SIZ 11983<<ASSIGN  11987>>ASSIGN  11987>>ASSIGN
SIZE IN PROCEDURE MOVE
     12011**DCL     12009--PROC    12010--IMP-SIZ 12013--IMP-SIZ 12019>>ASSIGN  12025>>ASSIGN  12025>>ASSIGN
SIZE IN PROCEDURE WRITE_HEADER
     11544**DCL     11541--PROC    11560>>ASSIGN  11569>>ASSIGN  11574>>ASSIGN
SIZE IN PROCEDURE WRITE_PAGE_SIZE_CHUNKS
     11523**DCL     11526<<ASSIGN  11527>>DOWHILE 11531<<ASSIGN  11531>>ASSIGN  11533>>DOWHILE 11534>>ASSIGN
     11536<<ASSIGN  11536>>ASSIGN
SKIP_THIS_FCG IN PROCEDURE WRITE_MONITOR_SCHEMA
     11845**LABEL   11815--GOTO
STAR
     10871**DCL     11954<>CALL    11954--CALL
START
     10697**DCL     10965<<ASSIGN  10967>>DOWHILE 10968>>IF      10968>>ASSIGN  10971<<ASSIGN  10971>>ASSIGN
START IN PROCEDURE WRITE_HEADER
     11546**DCL     11541--PROC    11570>>ASSIGN  11575>>ASSIGN
STUFF IN PROCEDURE BUILD_G1RO
     11945**DCL     11987<<ASSIGN  11987>>ASSIGN
STUFF IN PROCEDURE MOVE
     12010**DCL     12009--PROC    12024--IF      12025>>ASSIGN
SVIOBUF
     10693**DCL     10917<<ASSIGN  10918<>CALL    10923>>ASSIGN  11017>>ASSIGN  11024<>CALL    11025<<ASSIGN
     11026<>CALL    11027>>ASSIGN  11029>>ASSIGN  11034<<ASSIGN  11035<>CALL    11036>>ASSIGN  11053<>CALL
     11054<<ASSIGN  11055<>CALL    11056>>ASSIGN  11067>>ASSIGN  11069>>ASSIGN  11073<<ASSIGN  11074<>CALL
     11075>>ASSIGN  11093>>ASSIGN  11112>>ASSIGN  11127<>CALL    11128<<ASSIGN  11129<>CALL    11130<<ASSIGN
     11131<>CALL    11132>>ASSIGN  11656<>CALL    11802<>CALL    11818>>ASSIGN  11851>>ASSIGN  12000>>ASSIGN
     12002>>ASSIGN  12023<>CALL    12072<<ASSIGN  12073<>CALL    12074>>ASSIGN  12109<>CALL    12110<<ASSIGN
     12111<>CALL    12112>>ASSIGN  12132<>CALL    12138>>ASSIGN  12170>>ASSIGN
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:265  
SVIOBUF.BOUND
     10694**DCL     11655>>ASSIGN  11659>>ASSIGN  11801>>ASSIGN  11803>>ASSIGN  11980>>ASSIGN  12131>>ASSIGN
     12133>>ASSIGN
SVIOBUF.PTR$
     10696**DCL     11659>>ASSIGN  11803>>ASSIGN  11949>>ASSIGN  11980>>ASSIGN  11982>>ASSIGN  11996>>ASSIGN
     11997>>ASSIGN  11997>>ASSIGN  11998>>ASSIGN  11999>>ASSIGN  12001>>ASSIGN  12022>>ASSIGN  12133>>ASSIGN
SZ IN PROCEDURE GET_MORE_SPACE
     11652**DCL     11655<<ASSIGN  11656<>CALL    11658<>CALL
TAPEID
      9650**DCL     10980--CALL    11882--CALL
TAPEREC IN PROCEDURE WRITE_PO
     11470**DCL     11490>>IF
TEMP
     10236**DCL     11042<<ASSIGN  11043<<ASSIGN  11043>>ASSIGN  11044<>CALL    11045<<ASSIGN  11045>>ASSIGN
     11047<>CALL    11060<<ASSIGN  11061>>ASSIGN  11062>>ASSIGN  11063>>ASSIGN  11080<<ASSIGN  11081>>ASSIGN
     11084>>ASSIGN  11085>>ASSIGN  11086>>DOINDEX 11099<<ASSIGN  11100>>ASSIGN  11103>>ASSIGN  11104>>ASSIGN
     11105>>DOINDEX 11124<<ASSIGN  11125<>CALL    11170<>CALL    11989<<ASSIGN  11990>>DOINDEX 12095<<ASSIGN
     12097<>CALL    12100<<ASSIGN  12101<>CALL    12104<<ASSIGN  12105<>CALL
TEMP$
     10706**DCL     11038<<ASSIGN  11039>>ASSIGN  11040>>ASSIGN  11040>>ASSIGN  11083<<ASSIGN  11087>>ASSIGN
     11087>>ASSIGN  11088>>ASSIGN  11089<<ASSIGN  11089>>ASSIGN  11102<<ASSIGN  11106>>ASSIGN  11106>>ASSIGN
     11107>>ASSIGN  11108<<ASSIGN  11108>>ASSIGN
TEXTC.LEN
     10703**DCL     11039>>ASSIGN  11040>>ASSIGN
TEXTC.TXT
     10704**DCL     11040>>ASSIGN
TOFFSET
     10732**DCL     11065<<ASSIGN  11066<>CALL    11076<<ASSIGN  11081<<ASSIGN  11081>>ASSIGN  11082>>ASSIGN
     11092<>CALL    11095<<ASSIGN  11100<<ASSIGN  11100>>ASSIGN  11101>>ASSIGN  11111<>CALL    11113>>ASSIGN
TRUNCATED
     10238**DCL     11167<<ASSIGN  11181>>IF      11181--CALL    11673<<ASSIGN  11673>>ASSIGN
TRUNCFMT
     10648**DCL     11181--CALL
TRUNC_CODE
      9796**DCL     11676<>CALL
TYPE IN PROCEDURE WRITE_HEADER
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:266  
     11543**DCL     11541--PROC    11555>>IF      11565>>ASSIGN  11566>>ASSIGN  11567>>ASSIGN  11568>>ASSIGN
     11569>>ASSIGN  11570>>ASSIGN  11573>>ASSIGN
UC
     10881**DCL     11960<>CALL    11960--CALL
UCTABS
     10901**DCL     11964<>CALL    11964--CALL
VERIFY_CODE
      9789**DCL     11503<>CALL
VERIFY_ERR IN PROCEDURE WRITE_PO
     11498**LABEL   11489--CALLALT 11490--GOTO
WRHDR IN PROCEDURE WRITE_BOOT_STUFF
     11863**DCL     11882--CALL
WRITE_AS_SCHEMA
     12035**PROC    12033--CALL
WRITE_BOOT_STUFF
     11861**PROC    11165--CALL
WRITE_HEADER
     11541**PROC    10990--CALL    10998--CALL    11008--CALL    11019--CALL    11044--CALL    11066--CALL
     11092--CALL    11111--CALL    11125--CALL    11144--CALL    11150--CALL    11154--CALL    11157--CALL
     11164--CALL    11782--CALL    12097--CALL    12101--CALL    12105--CALL    12113--CALL
WRITE_MONITOR_SCHEMA
     11748**PROC    11118--CALL
WRITE_PAGE_SIZE_CHUNKS
     11513**PROC    11068--CALL    11094--CALL    11114--CALL    11126--CALL    11146--CALL    11159--CALL
     12099--CALL    12103--CALL    12107--CALL
WRITE_PATCH
     11667**PROC    11173--CALL
WRITE_PO
     11396**PROC    10969--CALL    10980--CALL    11183--CALL    11329--CALL    11529--CALL    11535--CALL
     11577--CALL    11671--CALL    11831--CALL    11832--CALL    11837--CALL    11838--CALL    11844--CALL
     11845--CALL    11853--CALL    12151--CALL    12152--CALL    12157--CALL    12158--CALL    12164--CALL
     12165--CALL    12172--CALL
X IN PROCEDURE MOVE
     12014**DCL     12022<<ASSIGN  12023>>CALL
X$WRITE
      9902**DCL-ENT 11171--CALL    11180--CALL    11181--CALL    11674--CALL    11683--CALL    11882--CALL
PL6.E3A0      #001=IDU$BOOT File=IDU$BOOT.:E05TSI                                TUE 07/29/97 22:31 Page:267  
     11883--CALL    11888--CALL    11890--CALL    11894--CALL    11899--CALL    11901--CALL    11905--CALL
     11907--CALL    12173--CALL    12175--CALL
X1
     10692**DCL     10693--REDEF
XDLT
      9401**DCL     10996<>CALL
XDLT.FLAGS.SKIP
      9430**DCL     10986>>IF
XDLTLS
      9453**DCL     10988<>CALL
XUR$ERRMSG
      9895**DCL-ENT 11175--CALL    11212--CALL    11213--CALL    11676--CALL
Z.B IN PROCEDURE ZAP_TRAILING_BYTES
     11735**DCL     11743>>ASSIGN
Z$ IN PROCEDURE ZAP_TRAILING_BYTES
     11732**DCL     11733--REDEF   11742<<ASSIGN  11744>>ASSIGN
ZAP_TRAILING_BYTES
     11730**PROC    11381--CALL    11632--CALL

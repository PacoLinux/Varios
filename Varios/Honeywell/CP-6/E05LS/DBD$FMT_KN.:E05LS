VERSION E05

PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:1    
        1        1        /*M* DBD$FMT_KN  Formats FEP tables belonging to FCG KN       */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=3,IND=5,ENU=0,ECU=0   */
        8        8
        9        9        /*F*      NAME: DBD$FMT_KN
       10       10                  PURPOSE: Contains the following FEP structure formatting routines:
       11       11                                DBD$IOP
       12       12                                DBD$SSN
       13       13                                DBD$LDCT
       14       14
       15       15        */
       16       16
       17       17
       18       18
       19       19
       20       20
       21       21
       22       22        /*F*    NAME: DBD$IOP
       23       23                PURPOSE: To process the IOP command for FEPs.
       24       24
       25       25        */
       26       26        DBD$IOP: PROC(TOP);
       27       27
       28       28        /*X* PLM=3,IND=5,ECU=0,ENU=0,MOC   */
       29       29
       30       30        %INCLUDE CP_6;
       31     5589        %INCLUDE GH_SCHD_M;
       32     5733        %INCLUDE G$BOBCAT_M;
       33     5753        %INCLUDE KN_DATA_M;
       34     7539        %INCLUDE DA_FORMAT_C;
       35     7781        %INCLUDE XU_MACRO_C;
       36    10887        %INCLUDE GM_VIRTUAL_E;
       37    11097        %INCLUDE DA_ANLZ_R;
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:2    
       38    11110        %INCLUDE DB_PERR_C;
       39    11128
       40    11129        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
       41    11174        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
       42    11219
       43    11220    1   DCL DAA$VALUE ENTRY(3) ALTRET;
       44    11221    1   DCL DAF$WRITE EPTR SYMREF;
       45    11222    1   DCL DAF$INIT ENTRY(1) ALTRET;
       46    11223    1   DCL DBB$HEXDUMP ENTRY(4);
       47    11224    1   DCL DBM$GETMEM ENTRY(10) ALTRET;
       48    11225    1   DCL DBM$GETBOBCAT ENTRY(1) ALTRET;
       49    11226    1   DCL DBM$PACK1 ENTRY(2);
       50    11227    1   DCL DBM$PACK2 ENTRY(2);
       51    11228    1   DCL DBM$PACK4 ENTRY(2);
       52    11229    1   DCL DBD$KNINFO ENTRY(2) ALTRET;
       53    11230
       54    11231
       55    11232        %REPORT (NAME=IOPRPT1,TRUNC=YES,TABDFLT=5,HEADER=YES,TITLE='FEP IOP - IO Packets');
       56    11298        %HEADER (LAST=NO,TEXT=
       57    11299        'IOP$   LNK/U# FLG EVENT A/K/F MSGID     MSGTYPE  ERROR     DCB: PTR  SEG DESC ');
       58    11341        %HEADER (TEXT=
       59    11342        '------ ------ --- ----- ----- --------- -------- --------- --------- ---------');
       60    11384    1   DCL 1 IOP_FMT1 CHAR(0) CONSTANT INIT(
       61    11385    1   '.%5ZH .%@5.32ZH .%@2.8ZH %@5.16D %@5.16D .%@8.32ZH %A .%@8.32ZH .%@8.32ZH .%@4.16ZH
             11385         %@4.16ZH');
       62    11386
       63    11387
       64    11388    1   DCL IOPRPT2 CHAR(0) CONSTANT INIT(
       65    11389    1   'IOP$       BUF: VECTOR      SEG DESC      KEY: VECTOR     SEG DESC   ');
       66    11390    1   DCL IOPRPT3 CHAR(0) CONSTANT INIT(
       67    11391    1   '------     --------------------------     ---------------------------');
       68    11392    1   DCL IOP_FMT2 CHAR(0) CONSTANT INIT(
       69    11393    1   '.%5ZH     .%@4.16ZH .%@8.32ZH .%@4.16ZH %@4.16ZH     .%@4.16ZH .%@8.32ZH .%@4.16ZH
             11393        %@4.16ZH');
       70    11394
       71    11395        %KNA_IOPFLAG_TEXT (NAME=IOPF_TEXT, STCLASS=STATIC);
       72    11411
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:3    
       73    11412    1   DCL BAD_IOP_ADDR CHAR(0) CONSTANT INIT(
       74    11413    1      'Invalid IOP address');
       75    11414
       76    11415        /* AUTO Storage */
       77    11416        %G$BOBCAT (FPTN=G$BOBCAT,STCLASS=AUTO);
       78    11429        %KN$IOP (NAME=KN$IOP,STCLASS=AUTO,ALGN=CALIGNED);
       79    11494
       80    11495    1   DCL PASS UBIN;                          /*which line to print*/
       81    11496    1   DCL I SBIN;
       82    11497    1   DCL X UBIN;
       83    11498    1   DCL RADIX UBIN;
       84    11499
       85    11500    1   DCL IOP_DATA$ UBIN;
       86    11501    1   DCL THIS_IOP$ UBIN;
       87    11502    1   DCL IOP_SIZE UBIN;
       88    11503    1   DCL ERR BIT(36);
       89    11504    1   DCL T$ PTR;
       90    11505    1   DCL LNK$ UBIN;
       91    11506    1   DCL ACTION UBIN;              /* 0 = display all     1 = display if in use    */
       92    11507    1   DCL ENTRY_TYPE UBIN;               /* 0 = display IOPs     1 = check IOP chain*/
       93    11508    1   DCL HEADER0 UBIN;
       94    11509    1   DCL HEADER1 UBIN;
       95    11510    1   DCL ERR_PRNT CHAR(4);
       96    11511
       97    11512    1   DCL 1 IOPFLG,
       98    11513    1         2 F BIT(9) UNAL,
       99    11514    1         2 * BIT(27) UNAL;
      100    11515
      101    11516    1   DCL DBD_BOBCAT$ UBIN CONSTANT SYMDEF INIT(%GM_BOBCAT_BASE);
      102    11517
      103    11518    1   DCL DBD_FEPCTX_START$ UBIN SYMREF;
      104    11519    1   DCL DBD_FEPCTX_END$ UBIN SYMREF;
      105    11520    1   DCL DBD_FEPCTX_MAX# UBIN SYMREF;
      106    11521
      107    11522        %FPT_ERRMSG (L6_CODE=YES, OUTDCB1=M$DO);
      108    11549    1   DCL ERRBUF CHAR(200);
      109    11550    1   DCL B$1WORD UBIN BASED;
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:4    
      110    11551    1   DCL M$DO DCB;
      111    11552
      112    11553        %EJECT;
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:5    
      113    11554    1      ENTRY_TYPE=0/*display IOPs*/;
      114    11555    1      GOTO IOP_START;
      115    11556
      116    11557    1   DBD$IOP_CHECK: ENTRY(TOP);
      117    11558    1      ENTRY_TYPE=1/*check IOP chain*/;
      118    11559
      119    11560    1   IOP_START: ;
      120    11561    1      HEADER0 = 0;
      121    11562    1      HEADER1 = 0;
      122    11563    1      IOP_SIZE = (SIZEC(KN$IOP)+1)/2;
      123    11564    1      CALL DBM$GETBOBCAT(G$BOBCAT)
      124    11565    2      WHENALTRETURN DO; RETURN; END;
      125    11566
      126    11567    1      CALL DBM$PACK4(G$BOBCAT.IOPDATA$,IOP_DATA$);
      127    11568
      128    11569    1      CALL DBD$KNINFO(IOP_DATA$,0);
      129    11570
      130    11571    1      IF (ENTRY_TYPE=1/*if check*/)
      131    11572    2      THEN DO;
      132    11573    2           CALL DBD$KNINFO(IOP_DATA$,1);
      133    11574    2           RETURN;
      134    11575    2           END/*do if check*/;
      135    11576
      136    11577        %EJECT;
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:6    
      137    11578    1   DISPLAY_ALL: ;
      138    11579    2      DO PASS=0 TO 1;
      139    11580
      140    11581    2           IF TOP.NSUBLKS=0
      141    11582    3           THEN DO;
      142    11583    3                ACTION=1/*display all in use*/;
      143    11584    3   DISPLAY_LOOP: ;
      144    11585    4                DO I=0 TO DBD_FEPCTX_MAX# -1;
      145    11586    4                     THIS_IOP$ = DBD_FEPCTX_START$ + (IOP_SIZE *I);
      146    11587    4                     CALL DISP_IOP;
      147    11588    4                     END;
      148    11589    3                END;
      149    11590
      150    11591    3           ELSE DO;
      151    11592    4                DO X=0 TO TOP.NSUBLKS-1;
      152    11593    4                     CALL DAA$VALUE(TOP.SUBLK$(X)->OUT,THIS_IOP$)
      153    11594    5                     WHENRETURN DO;
      154    11595    5                          IF THIS_IOP$ = 0
      155    11596    6                          THEN DO;
      156    11597    6                               ACTION=0/*display all*/;
      157    11598    6                               GOTO DISPLAY_LOOP;
      158    11599    6                               END;
      159    11600
      160    11601    5                          CALL DISP_IOP
      161    11602    6                          WHENRETURN DO;
      162    11603    6                               IF PASS ~= 0   AND   TOP.NSUBLKS=1
      163    11604    7                               THEN DO;
      164    11605    7                                    IOPFLG.F = KN$IOP.FLAGS;
      165    11606    7                                    IOPF_TEXT.SREST = 'set: ';
      166    11607    7                                    CALL DAF$WRITE(VECTOR(IOPF_TEXT),VECTOR(IOPFLG.F));
      167    11608    7                                    IOPFLG.F = ~(IOPFLG.F);
      168    11609    7                                    IOPF_TEXT.SREST = 'off: ';
      169    11610    7                                    CALL DAF$WRITE(VECTOR(IOPF_TEXT),VECTOR(IOPFLG.F));
      170    11611
      171    11612    7                                    ERR = KN$IOP.ERR;
      172    11613    7                                    IF (ERR ~= '0'B)
      173    11614    8                                    THEN DO;
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:7    
      174    11615    8                                         FPT_ERRMSG.BUF_ = VECTOR(ERRBUF);
      175    11616    8                                         T$ = ADDR(ERR);
      176    11617    8                                         FPT_ERRMSG.CODE_ = VECTOR(T$->B$1WORD);
      177    11618    8                                         CALL M$ERRMSG(FPT_ERRMSG)
      178    11619    9                                         WHENALTRETURN DO; END;
      179    11620    8                                         END/*do if err*/;
      180    11621    7                                    END/*do if pass~0*/;
      181    11622    6                               END/*return from disp_iop*/;
      182    11623    5                          END/*return from daa$value*/;
      183    11624
      184    11625    4                     END/*do X=0 to nsublks-1*/;
      185    11626    3                END/*else do*/;
      186    11627    2           END/*do pass=0 to 1*/;
      187    11628
      188    11629
      189    11630    1      RETURN;
      190    11631
      191    11632        %EJECT;
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:8    
      192    11633    1   DISP_IOP: PROC ALTRET;
      193    11634    2      IF (THIS_IOP$ < DBD_FEPCTX_START$) OR (THIS_IOP$ > DBD_FEPCTX_END$)
      194    11635    3      THEN DO;
      195    11636    3           IF PASS=0 THEN CALL DAF$WRITE(VECTOR(BAD_IOP_ADDR));
      196    11637    3           ALTRETURN;
      197    11638    3           END;
      198    11639
      199    11640    2      CALL DBM$GETMEM(THIS_IOP$,KN$IOP,0,SIZEC(KN$IOP),,SIZEC(KN$IOP))
      200    11641    3      WHENALTRETURN DO; RETURN; END;
      201    11642
      202    11643    2      IF (ACTION=1/*display only in use*/)
      203    11644    3      THEN DO;
      204    11645    3           CALL DBM$PACK4(KN$IOP.LNK$,LNK$);
      205    11646    3           IF LNK$ > DBD_BOBCAT$ THEN RETURN;
      206    11647    3           IF LNK$ = 0 THEN RETURN;
      207    11648    3           END;
      208    11649
      209    11650    2      IF PASS = 0
      210    11651    3      THEN DO;
      211    11652    3           IF HEADER0 = 0
      212    11653    4           THEN DO;
      213    11654    4                CALL DAF$INIT(IOPRPT1);
      214    11655    4                HEADER0 = 1;
      215    11656    4                END;
      216    11657
      217    11658    3           CALL DAF$WRITE(VECTOR(IOP_FMT1),
      218    11659    3             VECTOR(THIS_IOP$),
      219    11660    3             VECTOR(KN$IOP.LNK$),
      220    11661    3             VECTOR(KN$IOP.FLAGS),
      221    11662    3             VECTOR(KN$IOP.EVENT),
      222    11663    3             VECTOR(KN$IOP.ARS),
      223    11664    3             VECTOR(KN$IOP.MSGID),
      224    11665    3             VECTOR(KN$IOP.MSGTYPE),
      225    11666    3             VECTOR(KN$IOP.ERR),
      226    11667    3             VECTOR(KN$IOP.DCB$),
      227    11668    3             VECTOR(KN$IOP.DCBSEGDES.W1),
      228    11669    3             VECTOR(KN$IOP.DCBSEGDES.W2));
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:9    
      229    11670    3           END/*pass 0*/;
      230    11671
      231    11672
      232    11673    3      ELSE DO;
      233    11674    3           IF HEADER1 = 0
      234    11675    4           THEN DO;
      235    11676    4                CALL DAF$WRITE(VECTOR(BLANK_LINE));
      236    11677    4                CALL DAF$WRITE(VECTOR(BLANK_LINE));
      237    11678    4                CALL DAF$WRITE(VECTOR(IOPRPT2));
      238    11679    4                CALL DAF$WRITE(VECTOR(IOPRPT3));
      239    11680    4                HEADER1 = 1;
      240    11681    4                END;
      241    11682
      242    11683    3           CALL DAF$WRITE(VECTOR(IOP_FMT2),
      243    11684    3             VECTOR(THIS_IOP$),
      244    11685    3             VECTOR(KN$IOP.BUF.BND),
      245    11686    3             VECTOR(KN$IOP.BUF.BASE$),
      246    11687    3             VECTOR(KN$IOP.BUFSEGDES.W1),
      247    11688    3             VECTOR(KN$IOP.BUFSEGDES.W2),
      248    11689    3             VECTOR(KN$IOP.KEY.BND),
      249    11690    3             VECTOR(KN$IOP.KEY.BASE$),
      250    11691    3             VECTOR(KN$IOP.KEYSEGDES.W1),
      251    11692    3             VECTOR(KN$IOP.KEYSEGDES.W2));
      252    11693    3           END;
      253    11694
      254    11695
      255    11696    2   END DISP_IOP;
      256    11697
      257    11698    1   END DBD$IOP;
      258    11699        %EOD;

PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:10   
--  Include file information  --

   DB_PERR_C.:E05TOU  is referenced.
   DA_ANLZ_R.:E05TOU  cannot be made into a system file and is referenced.
   GM_VIRTUAL_E.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   KN_DATA_M.:E05TOU  is referenced.
   G$BOBCAT_M.:E05TOU  is referenced.
   GH_SCHD_M.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure DBD$IOP.

   Procedure DBD$IOP requires 449 words for executable code.
   Procedure DBD$IOP requires 218 words of local(AUTO) storage.

PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:11   

 Object Unit name= DBD$IOP                                    File name= DBD$FMT_KN.:E05TOU
 UTS= JUL 29 '97 13:05:43.92 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none   112    160  DBD$IOP
    2  RoData even  UTS     92    134  DBD$IOP
    3   DCB   even  none     0      0  M$DO
    4   Proc  even  none   449    701  DBD$IOP
    5  RoData even  none    44     54  DBD$IOP

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     4      0   yes            yes      Std        1  DBD$IOP
     4      4                  yes      Std        1  DBD$IOP_CHECK

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    2    127  DBD_BOBCAT$
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:12   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       1 DBM$GETBOBCAT
         yes           Std       2 DBM$PACK4
 yes     yes           Std       2 DBD$KNINFO
 yes     yes           Std       3 DAA$VALUE
 yes     yes           Std      10 DBM$GETMEM
 yes     yes           Std       1 DAF$INIT
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                             r    BLANK_LINE                            DAF$WRITE
     DBD_FEPCTX_START$                     DBD_FEPCTX_END$                       DBD_FEPCTX_MAX#
     M$DO                                  B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:13   


        1        1        /*M* DBD$FMT_KN  Formats FEP tables belonging to FCG KN       */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=3,IND=5,ENU=0,ECU=0   */
        8        8
        9        9        /*F*      NAME: DBD$FMT_KN
       10       10                  PURPOSE: Contains the following FEP structure formatting routines:
       11       11                                DBD$IOP
       12       12                                DBD$SSN
       13       13                                DBD$LDCT
       14       14
       15       15        */
       16       16
       17       17
       18       18
       19       19
       20       20
       21       21
       22       22        /*F*    NAME: DBD$IOP
       23       23                PURPOSE: To process the IOP command for FEPs.
       24       24
       25       25        */
       26       26        DBD$IOP: PROC(TOP);

     26  4 000000   000000 700200 xent  DBD$IOP      TSX0  ! X66_AUTO_1
         4 000001   000332 000001                    ZERO    218,1

       27       27
       28       28        /*X* PLM=3,IND=5,ECU=0,ENU=0,MOC   */
       29       29
       30       30        %INCLUDE CP_6;
       31     5589        %INCLUDE GH_SCHD_M;
       32     5733        %INCLUDE G$BOBCAT_M;
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:14   
       33     5753        %INCLUDE KN_DATA_M;
       34     7539        %INCLUDE DA_FORMAT_C;
       35     7781        %INCLUDE XU_MACRO_C;
       36    10887        %INCLUDE GM_VIRTUAL_E;
       37    11097        %INCLUDE DA_ANLZ_R;
       38    11110        %INCLUDE DB_PERR_C;
       39    11128
       40    11129        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
       41    11174        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
       42    11219
       43    11220    1   DCL DAA$VALUE ENTRY(3) ALTRET;
       44    11221    1   DCL DAF$WRITE EPTR SYMREF;
       45    11222    1   DCL DAF$INIT ENTRY(1) ALTRET;
       46    11223    1   DCL DBB$HEXDUMP ENTRY(4);
       47    11224    1   DCL DBM$GETMEM ENTRY(10) ALTRET;
       48    11225    1   DCL DBM$GETBOBCAT ENTRY(1) ALTRET;
       49    11226    1   DCL DBM$PACK1 ENTRY(2);
       50    11227    1   DCL DBM$PACK2 ENTRY(2);
       51    11228    1   DCL DBM$PACK4 ENTRY(2);
       52    11229    1   DCL DBD$KNINFO ENTRY(2) ALTRET;
       53    11230
       54    11231
       55    11232        %REPORT (NAME=IOPRPT1,TRUNC=YES,TABDFLT=5,HEADER=YES,TITLE='FEP IOP - IO Packets');
       56    11298        %HEADER (LAST=NO,TEXT=
       57    11299        'IOP$   LNK/U# FLG EVENT A/K/F MSGID     MSGTYPE  ERROR     DCB: PTR  SEG DESC ');
       58    11341        %HEADER (TEXT=
       59    11342        '------ ------ --- ----- ----- --------- -------- --------- --------- ---------');
       60    11384    1   DCL 1 IOP_FMT1 CHAR(0) CONSTANT INIT(
       61    11385    1  '.%5ZH .%@5.32ZH .%@2.8ZH %@5.16D %@5.16D .%@8.32ZH %A .%@8.32ZH .%@8.32ZH .%@4.16ZH
             11385         %@4.16ZH');
       62    11386
       63    11387
       64    11388    1   DCL IOPRPT2 CHAR(0) CONSTANT INIT(
       65    11389    1   'IOP$       BUF: VECTOR      SEG DESC      KEY: VECTOR     SEG DESC   ');
       66    11390    1   DCL IOPRPT3 CHAR(0) CONSTANT INIT(
       67    11391    1   '------     --------------------------     ---------------------------');
       68    11392    1   DCL IOP_FMT2 CHAR(0) CONSTANT INIT(
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:15   
       69    11393    1   '.%5ZH     .%@4.16ZH .%@8.32ZH .%@4.16ZH %@4.16ZH     .%@4.16ZH .%@8.32ZH .%@4.16ZH
             11393        %@4.16ZH');
       70    11394
       71    11395        %KNA_IOPFLAG_TEXT (NAME=IOPF_TEXT, STCLASS=STATIC);
       72    11411
       73    11412    1   DCL BAD_IOP_ADDR CHAR(0) CONSTANT INIT(
       74    11413    1      'Invalid IOP address');
       75    11414
       76    11415        /* AUTO Storage */
       77    11416        %G$BOBCAT (FPTN=G$BOBCAT,STCLASS=AUTO);
       78    11429        %KN$IOP (NAME=KN$IOP,STCLASS=AUTO,ALGN=CALIGNED);
       79    11494
       80    11495    1   DCL PASS UBIN;                          /*which line to print*/
       81    11496    1   DCL I SBIN;
       82    11497    1   DCL X UBIN;
       83    11498    1   DCL RADIX UBIN;
       84    11499
       85    11500    1   DCL IOP_DATA$ UBIN;
       86    11501    1   DCL THIS_IOP$ UBIN;
       87    11502    1   DCL IOP_SIZE UBIN;
       88    11503    1   DCL ERR BIT(36);
       89    11504    1   DCL T$ PTR;
       90    11505    1   DCL LNK$ UBIN;
       91    11506    1   DCL ACTION UBIN;              /* 0 = display all     1 = display if in use    */
       92    11507    1   DCL ENTRY_TYPE UBIN;               /* 0 = display IOPs     1 = check IOP chain*/
       93    11508    1   DCL HEADER0 UBIN;
       94    11509    1   DCL HEADER1 UBIN;
       95    11510    1   DCL ERR_PRNT CHAR(4);
       96    11511
       97    11512    1   DCL 1 IOPFLG,
       98    11513    1         2 F BIT(9) UNAL,
       99    11514    1         2 * BIT(27) UNAL;
      100    11515
      101    11516    1   DCL DBD_BOBCAT$ UBIN CONSTANT SYMDEF INIT(%GM_BOBCAT_BASE);
      102    11517
      103    11518    1   DCL DBD_FEPCTX_START$ UBIN SYMREF;
      104    11519    1   DCL DBD_FEPCTX_END$ UBIN SYMREF;
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:16   
      105    11520    1   DCL DBD_FEPCTX_MAX# UBIN SYMREF;
      106    11521
      107    11522        %FPT_ERRMSG (L6_CODE=YES, OUTDCB1=M$DO);
      108    11549    1   DCL ERRBUF CHAR(200);
      109    11550    1   DCL B$1WORD UBIN BASED;
      110    11551    1   DCL M$DO DCB;
      111    11552
      112    11553        %EJECT;
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:17   
      113    11554    1      ENTRY_TYPE=0/*display IOPs*/;

  11554  4 000002   200122 450100                    STZ     ENTRY_TYPE,,AUTO

      114    11555    1      GOTO IOP_START;

  11555  4 000003   000010 710000 4                  TRA     IOP_START

      115    11556
      116    11557    1   DBD$IOP_CHECK: ENTRY(TOP);

  11557  4 000004   000000 700200 xent  DBD$IOP_CHE* TSX0  ! X66_AUTO_1
         4 000005   000332 000001                    ZERO    218,1

      117    11558    1      ENTRY_TYPE=1/*check IOP chain*/;

  11558  4 000006   000001 235007                    LDA     1,DL
         4 000007   200122 755100                    STA     ENTRY_TYPE,,AUTO

  11558  4 000010                       IOP_START    null
      118    11559
      119    11560    1   IOP_START: ;
      120    11561    1      HEADER0 = 0;

  11561  4 000010   200123 450100                    STZ     HEADER0,,AUTO

      121    11562    1      HEADER1 = 0;

  11562  4 000011   200124 450100                    STZ     HEADER1,,AUTO

      122    11563    1      IOP_SIZE = (SIZEC(KN$IOP)+1)/2;

  11563  4 000012   000033 235007                    LDA     27,DL
         4 000013   200115 755100                    STA     IOP_SIZE,,AUTO

      123    11564    1      CALL DBM$GETBOBCAT(G$BOBCAT)

PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:18   
  11564  4 000014   200004 630500                    EPPR0   G$BOBCAT,,AUTO
         4 000015   200214 450500                    STP0    ERRBUF+53,,AUTO
         4 000016   200214 630500                    EPPR0   ERRBUF+53,,AUTO
         4 000017   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000020   000000 701000 xent               TSX1    DBM$GETBOBCAT
         4 000021   000023 702000 4                  TSX2    s:11565
         4 000022   000024 710000 4                  TRA     s:11567

      124    11565    2      WHENALTRETURN DO; RETURN; END;

  11565  4 000023   000000 702200 xent               TSX2  ! X66_ARET

      125    11566
      126    11567    1      CALL DBM$PACK4(G$BOBCAT.IOPDATA$,IOP_DATA$);

  11567  4 000024   200113 630500                    EPPR0   IOP_DATA$,,AUTO
         4 000025   200215 450500                    STP0    ERRBUF+54,,AUTO
         4 000026   200046 631500                    EPPR1   G$BOBCAT+34,,AUTO
         4 000027   200214 451500                    STP1    ERRBUF+53,,AUTO
         4 000030   200214 630500                    EPPR0   ERRBUF+53,,AUTO
         4 000031   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000032   000000 701000 xent               TSX1    DBM$PACK4
         4 000033   000000 011000                    NOP     0

      127    11568
      128    11569    1      CALL DBD$KNINFO(IOP_DATA$,0);

  11569  4 000034   000000 236000 5                  LDQ     0
         4 000035   200215 756100                    STQ     ERRBUF+54,,AUTO
         4 000036   200113 630500                    EPPR0   IOP_DATA$,,AUTO
         4 000037   200214 450500                    STP0    ERRBUF+53,,AUTO
         4 000040   200214 630500                    EPPR0   ERRBUF+53,,AUTO
         4 000041   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000042   000000 701000 xent               TSX1    DBD$KNINFO
         4 000043   000000 011000                    NOP     0

      129    11570
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:19   
      130    11571    1      IF (ENTRY_TYPE=1/*if check*/)

  11571  4 000044   200122 235100                    LDA     ENTRY_TYPE,,AUTO
         4 000045   000001 115007                    CMPA    1,DL
         4 000046   000060 601000 4                  TNZ     DISPLAY_ALL

      131    11572    2      THEN DO;

      132    11573    2           CALL DBD$KNINFO(IOP_DATA$,1);

  11573  4 000047   000001 236000 5                  LDQ     1
         4 000050   200215 756100                    STQ     ERRBUF+54,,AUTO
         4 000051   200113 630500                    EPPR0   IOP_DATA$,,AUTO
         4 000052   200214 450500                    STP0    ERRBUF+53,,AUTO
         4 000053   200214 630500                    EPPR0   ERRBUF+53,,AUTO
         4 000054   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000055   000000 701000 xent               TSX1    DBD$KNINFO
         4 000056   000000 011000                    NOP     0

      133    11574    2           RETURN;

  11574  4 000057   000000 702200 xent               TSX2  ! X66_ARET

  11571  4 000060                       DISPLAY_ALL  null
      134    11575    2           END/*do if check*/;
      135    11576
      136    11577        %EJECT;
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:20   
      137    11578    1   DISPLAY_ALL: ;
      138    11579    2      DO PASS=0 TO 1;

  11579  4 000060   200107 450100                    STZ     PASS,,AUTO

      139    11580
      140    11581    2           IF TOP.NSUBLKS=0

  11581  4 000061   200003 470500                    LDP0    @TOP,,AUTO
         4 000062   000001 220100                    LDX0    1,,PR0
         4 000063   000104 601000 4                  TNZ     s:11592

      141    11582    3           THEN DO;

      142    11583    3                ACTION=1/*display all in use*/;

  11583  4 000064   000001 235007                    LDA     1,DL
         4 000065   200121 755100                    STA     ACTION,,AUTO

  11583  4 000066                       DISPLAY_LOOP null
      143    11584    3   DISPLAY_LOOP: ;
      144    11585    4                DO I=0 TO DBD_FEPCTX_MAX# -1;

  11585  4 000066   200110 450100                    STZ     I,,AUTO
         4 000067   000077 710000 4                  TRA     s:11588+1

      145    11586    4                     THIS_IOP$ = DBD_FEPCTX_START$ + (IOP_SIZE *I);

  11586  4 000070   200115 236100                    LDQ     IOP_SIZE,,AUTO
         4 000071   200110 402100                    MPY     I,,AUTO
         4 000072   000000 036000 xsym               ADLQ    DBD_FEPCTX_START$
         4 000073   200114 756100                    STQ     THIS_IOP$,,AUTO

      146    11587    4                     CALL DISP_IOP;

  11587  4 000074   000246 701000 4                  TSX1    DISP_IOP
         4 000075   000000 011000                    NOP     0
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:21   

      147    11588    4                     END;

  11588  4 000076   200110 054100                    AOS     I,,AUTO
         4 000077   200110 236100                    LDQ     I,,AUTO
         4 000100   000070 604000 4                  TMI     s:11586
         4 000101   000000 116000 xsym               CMPQ    DBD_FEPCTX_MAX#
         4 000102   000070 602000 4                  TNC     s:11586

      148    11589    3                END;

  11589  4 000103   000240 710000 4                  TRA     s:11627

      149    11590
      150    11591    3           ELSE DO;

      151    11592    4                DO X=0 TO TOP.NSUBLKS-1;

  11592  4 000104   200111 450100                    STZ     X,,AUTO
         4 000105   000232 710000 4                  TRA     s:11625+3

      152    11593    4                     CALL DAA$VALUE(TOP.SUBLK$(X)->OUT,THIS_IOP$)

  11593  4 000106   200003 470500                    LDP0    @TOP,,AUTO
         4 000107   200111 720100                    LXL0    X,,AUTO
         4 000110   000003 471510                    LDP1    3,X0,PR0
         4 000111   200114 633500                    EPPR3   THIS_IOP$,,AUTO
         4 000112   200215 453500                    STP3    ERRBUF+54,,AUTO
         4 000113   200214 451500                    STP1    ERRBUF+53,,AUTO
         4 000114   200214 630500                    EPPR0   ERRBUF+53,,AUTO
         4 000115   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000116   000000 701000 xent               TSX1    DAA$VALUE
         4 000117   000227 702000 4                  TSX2    s:11625

      153    11594    5                     WHENRETURN DO;

      154    11595    5                          IF THIS_IOP$ = 0
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:22   

  11595  4 000120   200114 235100                    LDA     THIS_IOP$,,AUTO
         4 000121   000124 601000 4                  TNZ     s:11601

      155    11596    6                          THEN DO;

      156    11597    6                               ACTION=0/*display all*/;

  11597  4 000122   200121 450100                    STZ     ACTION,,AUTO

      157    11598    6                               GOTO DISPLAY_LOOP;

  11598  4 000123   000066 710000 4                  TRA     DISPLAY_LOOP

      158    11599    6                               END;
      159    11600
      160    11601    5                          CALL DISP_IOP

  11601  4 000124   000246 701000 4                  TSX1    DISP_IOP
         4 000125   000227 702000 4                  TSX2    s:11625

      161    11602    6                          WHENRETURN DO;

      162    11603    6                               IF PASS ~= 0   AND   TOP.NSUBLKS=1

  11603  4 000126   200107 235100                    LDA     PASS,,AUTO
         4 000127   000227 600000 4                  TZE     s:11625
         4 000130   200003 470500                    LDP0    @TOP,,AUTO
         4 000131   000001 220100                    LDX0    1,,PR0
         4 000132   000001 100003                    CMPX0   1,DU
         4 000133   000227 601000 4                  TNZ     s:11625

      163    11604    7                               THEN DO;

      164    11605    7                                    IOPFLG.F = KN$IOP.FLAGS;

  11605  4 000134   200072 236100                    LDQ     KN$IOP+1,,AUTO
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:23   
         4 000135   000022 736000                    QLS     18
         4 000136   200126 552140                    STBQ    IOPFLG,'40'O,AUTO

      165    11606    7                                    IOPF_TEXT.SREST = 'set: ';

  11606  4 000137   040000 100400                    MLR     fill='040'O
         4 000140   000130 000005 2                  ADSC9   DBD_BOBCAT$+1            cn=0,n=5
         4 000141   000077 600011 1                  ADSC9   IOPF_TEXT+1              cn=3,n=9

      166    11607    7                                   CALL DAF$WRITE(VECTOR(IOPF_TEXT),VECTOR(IOPFLG.F));

  11607  4 000142   177640 235007                    LDA     65440,DL
         4 000143   200214 452500                    STP2    ERRBUF+53,,AUTO
         4 000144   200214 236100                    LDQ     ERRBUF+53,,AUTO
         4 000145   000126 036003                    ADLQ    86,DU
         4 000146   200216 757100                    STAQ    ERRBUF+55,,AUTO
         4 000147   200216 631500                    EPPR1   ERRBUF+55,,AUTO
         4 000150   200221 451500                    STP1    ERRBUF+58,,AUTO
         4 000151   000004 236000 5                  LDQ     4
         4 000152   200220 756100                    STQ     ERRBUF+57,,AUTO
         4 000153   200220 630500                    EPPR0   ERRBUF+57,,AUTO
         4 000154   000000 220000 xsym               LDX0    DAF$WRITE
         4 000155   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000156   000000 701010                    TSX1    0,X0
         4 000157   000000 011000                    NOP     0

      167    11608    7                                    IOPFLG.F = ~(IOPFLG.F);

  11608  4 000160   200126 236100                    LDQ     IOPFLG,,AUTO
         4 000161   777000 376003                    ANQ     -512,DU
         4 000162   777000 676003                    ERQ     -512,DU
         4 000163   200126 552140                    STBQ    IOPFLG,'40'O,AUTO

      168    11609    7                                    IOPF_TEXT.SREST = 'off: ';

  11609  4 000164   040000 100400                    MLR     fill='040'O
         4 000165   000132 000005 2                  ADSC9   DBD_BOBCAT$+3            cn=0,n=5
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:24   
         4 000166   000077 600011 1                  ADSC9   IOPF_TEXT+1              cn=3,n=9

      169    11610    7                                   CALL DAF$WRITE(VECTOR(IOPF_TEXT),VECTOR(IOPFLG.F));

  11610  4 000167   177640 235007                    LDA     65440,DL
         4 000170   200214 452500                    STP2    ERRBUF+53,,AUTO
         4 000171   200214 236100                    LDQ     ERRBUF+53,,AUTO
         4 000172   000126 036003                    ADLQ    86,DU
         4 000173   200216 757100                    STAQ    ERRBUF+55,,AUTO
         4 000174   200216 630500                    EPPR0   ERRBUF+55,,AUTO
         4 000175   200221 450500                    STP0    ERRBUF+58,,AUTO
         4 000176   000004 236000 5                  LDQ     4
         4 000177   200220 756100                    STQ     ERRBUF+57,,AUTO
         4 000200   200220 630500                    EPPR0   ERRBUF+57,,AUTO
         4 000201   000000 220000 xsym               LDX0    DAF$WRITE
         4 000202   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000203   000000 701010                    TSX1    0,X0
         4 000204   000000 011000                    NOP     0

      170    11611
      171    11612    7                                    ERR = KN$IOP.ERR;

  11612  4 000205   200071 236100                    LDQ     KN$IOP,,AUTO
         4 000206   200116 756100                    STQ     ERR,,AUTO

      172    11613    7                                    IF (ERR ~= '0'B)

  11613  4 000207   000227 600000 4                  TZE     s:11625

      173    11614    8                                    THEN DO;

      174    11615    8                                         FPT_ERRMSG.BUF_ = VECTOR(ERRBUF);

  11615  4 000210   000005 235000 5                  LDA     5
         4 000211   200214 452500                    STP2    ERRBUF+53,,AUTO
         4 000212   200214 236100                    LDQ     ERRBUF+53,,AUTO
         4 000213   000127 036003                    ADLQ    87,DU
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:25   
         4 000214   000132 757000 1                  STAQ    FPT_ERRMSG+4

      175    11616    8                                         T$ = ADDR(ERR);

  11616  4 000215   200116 630500                    EPPR0   ERR,,AUTO
         4 000216   200117 450500                    STP0    T$,,AUTO

      176    11617    8                                         FPT_ERRMSG.CODE_ = VECTOR(T$->B$1WORD);

  11617  4 000217   777640 235007                    LDA     -96,DL
         4 000220   200117 236100                    LDQ     T$,,AUTO
         4 000221   000130 757000 1                  STAQ    FPT_ERRMSG+2

      177    11618    8                                         CALL M$ERRMSG(FPT_ERRMSG)

  11618  4 000222   000126 630400 1                  EPPR0   FPT_ERRMSG
         4 000223   420000 713400                    CLIMB   alt,+8192
         4 000224   405000 401760                    pmme    nvectors=11
         4 000225   000227 702000 4                  TSX2    s:11625
         4 000226   000227 710000 4                  TRA     s:11625

      178    11619    9                                         WHENALTRETURN DO; END;

      179    11620    8                                         END/*do if err*/;

      180    11621    7                                    END/*do if pass~0*/;

      181    11622    6                               END/*return from disp_iop*/;

      182    11623    5                          END/*return from daa$value*/;

      183    11624
      184    11625    4                     END/*do X=0 to nsublks-1*/;

  11625  4 000227   200111 235100                    LDA     X,,AUTO
         4 000230   000001 035007                    ADLA    1,DL
         4 000231   200111 755100                    STA     X,,AUTO
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:26   
         4 000232   200003 470500                    LDP0    @TOP,,AUTO
         4 000233   000001 236100                    LDQ     1,,PR0
         4 000234   000022 772000                    QRL     18
         4 000235   200111 116100                    CMPQ    X,,AUTO
         4 000236   000240 600000 4                  TZE     s:11627
         4 000237   000106 603000 4                  TRC     s:11593

      185    11626    3                END/*else do*/;

      186    11627    2           END/*do pass=0 to 1*/;

  11627  4 000240   200107 235100                    LDA     PASS,,AUTO
         4 000241   000001 035007                    ADLA    1,DL
         4 000242   200107 755100                    STA     PASS,,AUTO
         4 000243   000002 115007                    CMPA    2,DL
         4 000244   000061 602000 4                  TNC     s:11581

      187    11628
      188    11629
      189    11630    1      RETURN;

  11630  4 000245   000000 702200 xent               TSX2  ! X66_ARET

      190    11631
      191    11632        %EJECT;
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:27   
      192    11633    1   DISP_IOP: PROC ALTRET;

  11633  4 000246   200212 741300       DISP_IOP     STX1  ! ERRBUF+51,,AUTO

      193    11634    2      IF (THIS_IOP$ < DBD_FEPCTX_START$) OR (THIS_IOP$ > DBD_FEPCTX_END$)

  11634  4 000247   200114 236100                    LDQ     THIS_IOP$,,AUTO
         4 000250   000000 116000 xsym               CMPQ    DBD_FEPCTX_START$
         4 000251   000255 602000 4                  TNC     s:11636
         4 000252   000000 116000 xsym               CMPQ    DBD_FEPCTX_END$
         4 000253   000266 602000 4                  TNC     s:11640
         4 000254   000266 600000 4                  TZE     s:11640

      194    11635    3      THEN DO;

      195    11636    3           IF PASS=0 THEN CALL DAF$WRITE(VECTOR(BAD_IOP_ADDR));

  11636  4 000255   200107 235100                    LDA     PASS,,AUTO
         4 000256   000264 601000 4                  TNZ     s:11637

  11636  4 000257   000010 630400 5                  EPPR0   8
         4 000260   000000 220000 xsym               LDX0    DAF$WRITE
         4 000261   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000262   000000 701010                    TSX1    0,X0
         4 000263   000000 011000                    NOP     0

      196    11637    3           ALTRETURN;

  11637  4 000264   200212 221300                    LDX1  ! ERRBUF+51,,AUTO
         4 000265   000000 702211                    TSX2  ! 0,X1

      197    11638    3           END;
      198    11639
      199    11640    2      CALL DBM$GETMEM(THIS_IOP$,KN$IOP,0,SIZEC(KN$IOP),,SIZEC(KN$IOP))

  11640  4 000266   000012 236000 5                  LDQ     10
         4 000267   000001 235000 xsym               LDA     B_VECTNIL+1
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:28   
         4 000270   200220 757100                    STAQ    ERRBUF+57,,AUTO
         4 000271   000014 237000 5                  LDAQ    12
         4 000272   200216 757100                    STAQ    ERRBUF+55,,AUTO
         4 000273   200071 630500                    EPPR0   KN$IOP,,AUTO
         4 000274   200215 450500                    STP0    ERRBUF+54,,AUTO
         4 000275   200114 631500                    EPPR1   THIS_IOP$,,AUTO
         4 000276   200214 451500                    STP1    ERRBUF+53,,AUTO
         4 000277   200214 630500                    EPPR0   ERRBUF+53,,AUTO
         4 000300   000024 631400 xsym               EPPR1   B_VECTNIL+20
         4 000301   000000 701000 xent               TSX1    DBM$GETMEM
         4 000302   000304 702000 4                  TSX2    s:11641
         4 000303   000306 710000 4                  TRA     s:11643

      200    11641    3      WHENALTRETURN DO; RETURN; END;

  11641  4 000304   200212 221300                    LDX1  ! ERRBUF+51,,AUTO
         4 000305   000001 702211                    TSX2  ! 1,X1

      201    11642
      202    11643    2      IF (ACTION=1/*display only in use*/)

  11643  4 000306   200121 235100                    LDA     ACTION,,AUTO
         4 000307   000001 115007                    CMPA    1,DL
         4 000310   000332 601000 4                  TNZ     s:11650

      203    11644    3      THEN DO;

      204    11645    3           CALL DBM$PACK4(KN$IOP.LNK$,LNK$);

  11645  4 000311   200120 630500                    EPPR0   LNK$,,AUTO
         4 000312   200215 450500                    STP0    ERRBUF+54,,AUTO
         4 000313   200100 631500                    EPPR1   KN$IOP+7,,AUTO
         4 000314   200214 451500                    STP1    ERRBUF+53,,AUTO
         4 000315   200214 630500                    EPPR0   ERRBUF+53,,AUTO
         4 000316   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000317   000000 701000 xent               TSX1    DBM$PACK4
         4 000320   000000 011000                    NOP     0
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:29   

      205    11646    3           IF LNK$ > DBD_BOBCAT$ THEN RETURN;

  11646  4 000321   000127 236000 2                  LDQ     DBD_BOBCAT$
         4 000322   200120 116100                    CMPQ    LNK$,,AUTO
         4 000323   000326 603000 4                  TRC     s:11647

  11646  4 000324   200212 221300                    LDX1  ! ERRBUF+51,,AUTO
         4 000325   000001 702211                    TSX2  ! 1,X1

      206    11647    3           IF LNK$ = 0 THEN RETURN;

  11647  4 000326   200120 235100                    LDA     LNK$,,AUTO
         4 000327   000332 601000 4                  TNZ     s:11650

  11647  4 000330   200212 221300                    LDX1  ! ERRBUF+51,,AUTO
         4 000331   000001 702211                    TSX2  ! 1,X1

      207    11648    3           END;
      208    11649
      209    11650    2      IF PASS = 0

  11650  4 000332   200107 235100                    LDA     PASS,,AUTO
         4 000333   000517 601000 4                  TNZ     s:11674

      210    11651    3      THEN DO;

      211    11652    3           IF HEADER0 = 0

  11652  4 000334   200123 236100                    LDQ     HEADER0,,AUTO
         4 000335   000344 601000 4                  TNZ     s:11665

      212    11653    4           THEN DO;

      213    11654    4                CALL DAF$INIT(IOPRPT1);

  11654  4 000336   000016 630400 5                  EPPR0   14
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:30   
         4 000337   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000340   000000 701000 xent               TSX1    DAF$INIT
         4 000341   000000 011000                    NOP     0

      214    11655    4                HEADER0 = 1;

  11655  4 000342   000001 235007                    LDA     1,DL
         4 000343   200123 755100                    STA     HEADER0,,AUTO

      215    11656    4                END;

      216    11657
      217    11658    3           CALL DAF$WRITE(VECTOR(IOP_FMT1),
      218    11659    3             VECTOR(THIS_IOP$),
      219    11660    3             VECTOR(KN$IOP.LNK$),
      220    11661    3             VECTOR(KN$IOP.FLAGS),
      221    11662    3             VECTOR(KN$IOP.EVENT),
      222    11663    3             VECTOR(KN$IOP.ARS),
      223    11664    3             VECTOR(KN$IOP.MSGID),
      224    11665    3             VECTOR(KN$IOP.MSGTYPE),

  11665  4 000344   777640 235007                    LDA     -96,DL
         4 000345   200214 452500                    STP2    ERRBUF+53,,AUTO
         4 000346   200214 236100                    LDQ     ERRBUF+53,,AUTO
         4 000347   000114 036003                    ADLQ    76,DU
         4 000350   200216 757100                    STAQ    ERRBUF+55,,AUTO
         4 000351   777640 235007                    LDA     -96,DL
         4 000352   200220 452500                    STP2    ERRBUF+57,,AUTO
         4 000353   200220 236100                    LDQ     ERRBUF+57,,AUTO
         4 000354   000100 036003                    ADLQ    64,DU
         4 000355   200222 757100                    STAQ    ERRBUF+59,,AUTO
         4 000356   377640 235007                    LDA     130976,DL
         4 000357   200224 452500                    STP2    ERRBUF+61,,AUTO
         4 000360   200224 236100                    LDQ     ERRBUF+61,,AUTO
         4 000361   000022 036000 5                  ADLQ    18
         4 000362   200226 757100                    STAQ    ERRBUF+63,,AUTO
         4 000363   377640 235007                    LDA     130976,DL
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:31   
         4 000364   200230 452500                    STP2    ERRBUF+65,,AUTO
         4 000365   200230 236100                    LDQ     ERRBUF+65,,AUTO
         4 000366   000106 036003                    ADLQ    70,DU
         4 000367   200232 757100                    STAQ    ERRBUF+67,,AUTO
         4 000370   377640 235007                    LDA     130976,DL
         4 000371   200234 452500                    STP2    ERRBUF+69,,AUTO
         4 000372   200234 236100                    LDQ     ERRBUF+69,,AUTO
         4 000373   000072 036003                    ADLQ    58,DU
         4 000374   200236 757100                    STAQ    ERRBUF+71,,AUTO
         4 000375   777640 235007                    LDA     -96,DL
         4 000376   200240 452500                    STP2    ERRBUF+73,,AUTO
         4 000377   200240 236100                    LDQ     ERRBUF+73,,AUTO
         4 000400   000077 036003                    ADLQ    63,DU
         4 000401   200242 757100                    STAQ    ERRBUF+75,,AUTO
         4 000402   000023 235000 5                  LDA     19
         4 000403   200244 452500                    STP2    ERRBUF+77,,AUTO
         4 000404   200244 236100                    LDQ     ERRBUF+77,,AUTO
         4 000405   000104 036003                    ADLQ    68,DU
         4 000406   200246 757100                    STAQ    ERRBUF+79,,AUTO
         4 000407   777640 235007                    LDA     -96,DL
         4 000410   200250 452500                    STP2    ERRBUF+81,,AUTO
         4 000411   200250 236100                    LDQ     ERRBUF+81,,AUTO
         4 000412   000071 036003                    ADLQ    57,DU
         4 000413   200252 757100                    STAQ    ERRBUF+83,,AUTO
         4 000414   777640 235007                    LDA     -96,DL
         4 000415   200254 452500                    STP2    ERRBUF+85,,AUTO
         4 000416   200254 236100                    LDQ     ERRBUF+85,,AUTO
         4 000417   000076 036003                    ADLQ    62,DU
         4 000420   200256 757100                    STAQ    ERRBUF+87,,AUTO
         4 000421   377640 235007                    LDA     130976,DL
         4 000422   200260 452500                    STP2    ERRBUF+89,,AUTO
         4 000423   200260 236100                    LDQ     ERRBUF+89,,AUTO
         4 000424   000103 036003                    ADLQ    67,DU
         4 000425   200262 757100                    STAQ    ERRBUF+91,,AUTO
         4 000426   377640 235007                    LDA     130976,DL
         4 000427   200264 452500                    STP2    ERRBUF+93,,AUTO
         4 000430   200264 236100                    LDQ     ERRBUF+93,,AUTO
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:32   
         4 000431   000024 036000 5                  ADLQ    20
         4 000432   200270 757100                    STAQ    ERRBUF+97,,AUTO
         4 000433   200216 237100                    LDAQ    ERRBUF+55,,AUTO
         4 000434   200266 757100                    STAQ    ERRBUF+95,,AUTO
         4 000435   200222 237100                    LDAQ    ERRBUF+59,,AUTO
         4 000436   200272 757100                    STAQ    ERRBUF+99,,AUTO
         4 000437   200226 237100                    LDAQ    ERRBUF+63,,AUTO
         4 000440   200274 757100                    STAQ    ERRBUF+101,,AUTO
         4 000441   200232 237100                    LDAQ    ERRBUF+67,,AUTO
         4 000442   200276 757100                    STAQ    ERRBUF+103,,AUTO
         4 000443   200236 237100                    LDAQ    ERRBUF+71,,AUTO
         4 000444   200300 757100                    STAQ    ERRBUF+105,,AUTO
         4 000445   200242 237100                    LDAQ    ERRBUF+75,,AUTO
         4 000446   200302 757100                    STAQ    ERRBUF+107,,AUTO
         4 000447   200246 237100                    LDAQ    ERRBUF+79,,AUTO
         4 000450   200304 757100                    STAQ    ERRBUF+109,,AUTO
         4 000451   200252 237100                    LDAQ    ERRBUF+83,,AUTO
         4 000452   200306 757100                    STAQ    ERRBUF+111,,AUTO
         4 000453   200256 237100                    LDAQ    ERRBUF+87,,AUTO
         4 000454   200310 757100                    STAQ    ERRBUF+113,,AUTO
         4 000455   200262 237100                    LDAQ    ERRBUF+91,,AUTO
         4 000456   200312 757100                    STAQ    ERRBUF+115,,AUTO
         4 000457   200270 237100                    LDAQ    ERRBUF+97,,AUTO
         4 000460   200314 757100                    STAQ    ERRBUF+117,,AUTO
         4 000461   200314 630500                    EPPR0   ERRBUF+117,,AUTO
         4 000462   200331 450500                    STP0    ERRBUF+130,,AUTO
         4 000463   200312 631500                    EPPR1   ERRBUF+115,,AUTO
         4 000464   200330 451500                    STP1    ERRBUF+129,,AUTO
         4 000465   200310 633500                    EPPR3   ERRBUF+113,,AUTO
         4 000466   200327 453500                    STP3    ERRBUF+128,,AUTO
         4 000467   200306 634500                    EPPR4   ERRBUF+111,,AUTO
         4 000470   200326 454500                    STP4    ERRBUF+127,,AUTO
         4 000471   200304 635500                    EPPR5   ERRBUF+109,,AUTO
         4 000472   200325 455500                    STP5    ERRBUF+126,,AUTO
         4 000473   200302 636500                    EPPR6   ERRBUF+107,,AUTO
         4 000474   200324 456500                    STP6    ERRBUF+125,,AUTO
         4 000475   200300 637500                    EPPR7   ERRBUF+105,,AUTO
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:33   
         4 000476   200323 457500                    STP7    ERRBUF+124,,AUTO
         4 000477   200276 630500                    EPPR0   ERRBUF+103,,AUTO
         4 000500   200322 450500                    STP0    ERRBUF+123,,AUTO
         4 000501   200274 630500                    EPPR0   ERRBUF+101,,AUTO
         4 000502   200321 450500                    STP0    ERRBUF+122,,AUTO
         4 000503   200272 630500                    EPPR0   ERRBUF+99,,AUTO
         4 000504   200320 450500                    STP0    ERRBUF+121,,AUTO
         4 000505   200266 630500                    EPPR0   ERRBUF+95,,AUTO
         4 000506   200317 450500                    STP0    ERRBUF+120,,AUTO
         4 000507   000026 236000 5                  LDQ     22
         4 000510   200316 756100                    STQ     ERRBUF+119,,AUTO
         4 000511   200316 630500                    EPPR0   ERRBUF+119,,AUTO
         4 000512   000000 220000 xsym               LDX0    DAF$WRITE
         4 000513   000025 631400 5                  EPPR1   21
         4 000514   000000 701010                    TSX1    0,X0
         4 000515   000000 011000                    NOP     0

      225    11666    3             VECTOR(KN$IOP.ERR),
      226    11667    3             VECTOR(KN$IOP.DCB$),
      227    11668    3             VECTOR(KN$IOP.DCBSEGDES.W1),
      228    11669    3             VECTOR(KN$IOP.DCBSEGDES.W2));
      229    11670    3           END/*pass 0*/;

  11670  4 000516   000677 710000 4                  TRA     s:11696

      230    11671
      231    11672
      232    11673    3      ELSE DO;

      233    11674    3           IF HEADER1 = 0

  11674  4 000517   200124 236100                    LDQ     HEADER1,,AUTO
         4 000520   000547 601000 4                  TNZ     s:11689

      234    11675    4           THEN DO;

      235    11676    4                CALL DAF$WRITE(VECTOR(BLANK_LINE));
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:34   

  11676  4 000521   000032 630400 5                  EPPR0   26
         4 000522   000000 220000 xsym               LDX0    DAF$WRITE
         4 000523   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000524   000000 701010                    TSX1    0,X0
         4 000525   000000 011000                    NOP     0

      236    11677    4                CALL DAF$WRITE(VECTOR(BLANK_LINE));

  11677  4 000526   000032 630400 5                  EPPR0   26
         4 000527   000000 220000 xsym               LDX0    DAF$WRITE
         4 000530   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000531   000000 701010                    TSX1    0,X0
         4 000532   000000 011000                    NOP     0

      237    11678    4                CALL DAF$WRITE(VECTOR(IOPRPT2));

  11678  4 000533   000036 630400 5                  EPPR0   30
         4 000534   000000 220000 xsym               LDX0    DAF$WRITE
         4 000535   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000536   000000 701010                    TSX1    0,X0
         4 000537   000000 011000                    NOP     0

      238    11679    4                CALL DAF$WRITE(VECTOR(IOPRPT3));

  11679  4 000540   000042 630400 5                  EPPR0   34
         4 000541   000000 220000 xsym               LDX0    DAF$WRITE
         4 000542   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000543   000000 701010                    TSX1    0,X0
         4 000544   000000 011000                    NOP     0

      239    11680    4                HEADER1 = 1;

  11680  4 000545   000001 235007                    LDA     1,DL
         4 000546   200124 755100                    STA     HEADER1,,AUTO

      240    11681    4                END;
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:35   

      241    11682
      242    11683    3           CALL DAF$WRITE(VECTOR(IOP_FMT2),
      243    11684    3             VECTOR(THIS_IOP$),
      244    11685    3             VECTOR(KN$IOP.BUF.BND),
      245    11686    3             VECTOR(KN$IOP.BUF.BASE$),
      246    11687    3             VECTOR(KN$IOP.BUFSEGDES.W1),
      247    11688    3             VECTOR(KN$IOP.BUFSEGDES.W2),
      248    11689    3             VECTOR(KN$IOP.KEY.BND),

  11689  4 000547   777640 235007                    LDA     -96,DL
         4 000550   200214 452500                    STP2    ERRBUF+53,,AUTO
         4 000551   200214 236100                    LDQ     ERRBUF+53,,AUTO
         4 000552   000114 036003                    ADLQ    76,DU
         4 000553   200216 757100                    STAQ    ERRBUF+55,,AUTO
         4 000554   377640 235007                    LDA     130976,DL
         4 000555   200220 452500                    STP2    ERRBUF+57,,AUTO
         4 000556   200220 236100                    LDQ     ERRBUF+57,,AUTO
         4 000557   000073 036003                    ADLQ    59,DU
         4 000560   200222 757100                    STAQ    ERRBUF+59,,AUTO
         4 000561   777640 235007                    LDA     -96,DL
         4 000562   200224 452500                    STP2    ERRBUF+61,,AUTO
         4 000563   200224 236100                    LDQ     ERRBUF+61,,AUTO
         4 000564   000046 036000 5                  ADLQ    38
         4 000565   200226 757100                    STAQ    ERRBUF+63,,AUTO
         4 000566   377640 235007                    LDA     130976,DL
         4 000567   200230 452500                    STP2    ERRBUF+65,,AUTO
         4 000570   200230 236100                    LDQ     ERRBUF+65,,AUTO
         4 000571   000101 036003                    ADLQ    65,DU
         4 000572   200232 757100                    STAQ    ERRBUF+67,,AUTO
         4 000573   377640 235007                    LDA     130976,DL
         4 000574   200234 452500                    STP2    ERRBUF+69,,AUTO
         4 000575   200234 236100                    LDQ     ERRBUF+69,,AUTO
         4 000576   000047 036000 5                  ADLQ    39
         4 000577   200236 757100                    STAQ    ERRBUF+71,,AUTO
         4 000600   377640 235007                    LDA     130976,DL
         4 000601   200240 452500                    STP2    ERRBUF+73,,AUTO
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:36   
         4 000602   200240 236100                    LDQ     ERRBUF+73,,AUTO
         4 000603   000050 036000 5                  ADLQ    40
         4 000604   200242 757100                    STAQ    ERRBUF+75,,AUTO
         4 000605   777640 235007                    LDA     -96,DL
         4 000606   200244 452500                    STP2    ERRBUF+77,,AUTO
         4 000607   200244 236100                    LDQ     ERRBUF+77,,AUTO
         4 000610   000075 036003                    ADLQ    61,DU
         4 000611   200246 757100                    STAQ    ERRBUF+79,,AUTO
         4 000612   377640 235007                    LDA     130976,DL
         4 000613   200250 452500                    STP2    ERRBUF+81,,AUTO
         4 000614   200250 236100                    LDQ     ERRBUF+81,,AUTO
         4 000615   000102 036003                    ADLQ    66,DU
         4 000616   200252 757100                    STAQ    ERRBUF+83,,AUTO
         4 000617   377640 235007                    LDA     130976,DL
         4 000620   200254 452500                    STP2    ERRBUF+85,,AUTO
         4 000621   200254 236100                    LDQ     ERRBUF+85,,AUTO
         4 000622   000051 036000 5                  ADLQ    41
         4 000623   200260 757100                    STAQ    ERRBUF+89,,AUTO
         4 000624   200216 237100                    LDAQ    ERRBUF+55,,AUTO
         4 000625   200256 757100                    STAQ    ERRBUF+87,,AUTO
         4 000626   200222 237100                    LDAQ    ERRBUF+59,,AUTO
         4 000627   200262 757100                    STAQ    ERRBUF+91,,AUTO
         4 000630   200226 237100                    LDAQ    ERRBUF+63,,AUTO
         4 000631   200264 757100                    STAQ    ERRBUF+93,,AUTO
         4 000632   200232 237100                    LDAQ    ERRBUF+67,,AUTO
         4 000633   200266 757100                    STAQ    ERRBUF+95,,AUTO
         4 000634   200236 237100                    LDAQ    ERRBUF+71,,AUTO
         4 000635   200270 757100                    STAQ    ERRBUF+97,,AUTO
         4 000636   200242 237100                    LDAQ    ERRBUF+75,,AUTO
         4 000637   200272 757100                    STAQ    ERRBUF+99,,AUTO
         4 000640   200246 237100                    LDAQ    ERRBUF+79,,AUTO
         4 000641   200274 757100                    STAQ    ERRBUF+101,,AUTO
         4 000642   200252 237100                    LDAQ    ERRBUF+83,,AUTO
         4 000643   200276 757100                    STAQ    ERRBUF+103,,AUTO
         4 000644   200260 237100                    LDAQ    ERRBUF+89,,AUTO
         4 000645   200300 757100                    STAQ    ERRBUF+105,,AUTO
         4 000646   200300 630500                    EPPR0   ERRBUF+105,,AUTO
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:37   
         4 000647   200313 450500                    STP0    ERRBUF+116,,AUTO
         4 000650   200276 631500                    EPPR1   ERRBUF+103,,AUTO
         4 000651   200312 451500                    STP1    ERRBUF+115,,AUTO
         4 000652   200274 633500                    EPPR3   ERRBUF+101,,AUTO
         4 000653   200311 453500                    STP3    ERRBUF+114,,AUTO
         4 000654   200272 634500                    EPPR4   ERRBUF+99,,AUTO
         4 000655   200310 454500                    STP4    ERRBUF+113,,AUTO
         4 000656   200270 635500                    EPPR5   ERRBUF+97,,AUTO
         4 000657   200307 455500                    STP5    ERRBUF+112,,AUTO
         4 000660   200266 636500                    EPPR6   ERRBUF+95,,AUTO
         4 000661   200306 456500                    STP6    ERRBUF+111,,AUTO
         4 000662   200264 637500                    EPPR7   ERRBUF+93,,AUTO
         4 000663   200305 457500                    STP7    ERRBUF+110,,AUTO
         4 000664   200262 630500                    EPPR0   ERRBUF+91,,AUTO
         4 000665   200304 450500                    STP0    ERRBUF+109,,AUTO
         4 000666   200256 630500                    EPPR0   ERRBUF+87,,AUTO
         4 000667   200303 450500                    STP0    ERRBUF+108,,AUTO
         4 000670   000053 236000 5                  LDQ     43
         4 000671   200302 756100                    STQ     ERRBUF+107,,AUTO
         4 000672   200302 630500                    EPPR0   ERRBUF+107,,AUTO
         4 000673   000000 220000 xsym               LDX0    DAF$WRITE
         4 000674   000052 631400 5                  EPPR1   42
         4 000675   000000 701010                    TSX1    0,X0
         4 000676   000000 011000                    NOP     0

      249    11690    3             VECTOR(KN$IOP.KEY.BASE$),
      250    11691    3             VECTOR(KN$IOP.KEYSEGDES.W1),
      251    11692    3             VECTOR(KN$IOP.KEYSEGDES.W2));
      252    11693    3           END;

      253    11694
      254    11695
      255    11696    2   END DISP_IOP;

  11696  4 000677   200212 221300                    LDX1  ! ERRBUF+51,,AUTO
         4 000700   000001 702211                    TSX2  ! 1,X1
      256    11697
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:38   
      257    11698    1   END DBD$IOP;
      258    11699        %EOD;

PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:39   
--  Include file information  --

   DB_PERR_C.:E05TOU  is referenced.
   DA_ANLZ_R.:E05TOU  cannot be made into a system file and is referenced.
   GM_VIRTUAL_E.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   KN_DATA_M.:E05TOU  is referenced.
   G$BOBCAT_M.:E05TOU  is referenced.
   GH_SCHD_M.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure DBD$IOP.
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:40   

 **** Variables and constants ****

  ****  Section 001  Data  DBD$IOP

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   126-0-0/d STRC(936)   r     1 FPT_ERRMSG                76-0-0/c STRC(846)   r     1 IOPF_TEXT
     0-0-0/w STRC(288)   r     1 IOPRPT1                   16-0-0/w STRC(144)   r     1 IOPRPT1HD00
    46-0-0/w STRC(144)   r     1 IOPRPT1HD01               10-0-0/c STRC(189)   r     1 IOPRPT1TX00
    22-0-0/c STRC(711)   r     1 IOPRPT1TX01               52-0-0/c STRC(711)   r     1 IOPRPT1TX02

  ****  Section 002 RoData DBD$IOP

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   122-0-0/c CHAR(19)    r     1 BAD_IOP_ADDR             127-0-0/w UBIN        r     1 DBD_BOBCAT$
    27-0-0/c CHAR(69)    r     1 IOPRPT2                   51-0-0/c CHAR(69)    r     1 IOPRPT3
     0-0-0/c CHAR(92)    r     1 IOP_FMT1                  73-0-0/c CHAR(91)    r     1 IOP_FMT2

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @TOP                     121-0-0/w UBIN        r     1 ACTION
   122-0-0/w UBIN        r     1 ENTRY_TYPE               116-0-0/b BIT         r     1 ERR
   127-0-0/c CHAR(200)   r     1 ERRBUF                     4-0-0/w STRC(1908)  r     1 G$BOBCAT
   123-0-0/w UBIN        r     1 HEADER0                  124-0-0/w UBIN        r     1 HEADER1
   110-0-0/w SBIN        r     1 I                        126-0-0/b STRC        r     1 IOPFLG
   113-0-0/w UBIN        r     1 IOP_DATA$                115-0-0/w UBIN        r     1 IOP_SIZE
    71-0-0/c STRC(486)   r     1 KN$IOP                   120-0-0/w UBIN        r     1 LNK$
   107-0-0/w UBIN        r     1 PASS                     117-0-0/w PTR         r     1 T$
   114-0-0/w UBIN        r     1 THIS_IOP$                 *0-0-0/w STRC(144)   r     1 TOP
   111-0-0/w UBIN        r     1 X

PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:41   
  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(4)     r     1 BLANK_LINE                 0-0-0/w EPTR        r     1 DAF$WRITE
     0-0-0/w UBIN        r     1 DBD_FEPCTX_END$            0-0-0/w UBIN        r     1 DBD_FEPCTX_MAX#
     0-0-0/w UBIN        r     1 DBD_FEPCTX_START$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w UBIN        r     1 B$1WORD                    0-0-0N  NULL        r     1 M$DO
     0-0-0/w STRC(144)   r     1 OUT


   Procedure DBD$IOP requires 449 words for executable code.
   Procedure DBD$IOP requires 218 words of local(AUTO) storage.
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:42   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:43   
          MINI XREF LISTING

ACTION
     11506**DCL     11583<<ASSIGN  11597<<ASSIGN  11643>>IF
B$1WORD
     11550**DCL     11617--ASSIGN
BAD_IOP_ADDR
     11412**DCL     11636--CALL
BLANK_LINE
     11108**DCL     11676--CALL    11677--CALL
DAA$VALUE
     11220**DCL-ENT 11593--CALL
DAF$INIT
     11222**DCL-ENT 11654--CALL
DAF$WRITE
     11221**DCL     11607>>CALL    11610>>CALL    11636>>CALL    11665>>CALL    11676>>CALL    11677>>CALL
     11678>>CALL    11679>>CALL    11689>>CALL
DBD$KNINFO
     11229**DCL-ENT 11569--CALL    11573--CALL
DBD_BOBCAT$
     11516**DCL     11646>>IF
DBD_FEPCTX_END$
     11519**DCL     11634>>IF
DBD_FEPCTX_MAX#
     11520**DCL     11585>>DOINDEX
DBD_FEPCTX_START$
     11518**DCL     11586>>ASSIGN  11634>>IF
DBM$GETBOBCAT
     11225**DCL-ENT 11564--CALL
DBM$GETMEM
     11224**DCL-ENT 11640--CALL
DBM$PACK4
     11228**DCL-ENT 11567--CALL    11645--CALL
DISPLAY_LOOP
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:44   
     11583**LABEL   11598--GOTO
DISP_IOP
     11633**PROC    11587--CALL    11601--CALL
ENTRY_TYPE
     11507**DCL     11554<<ASSIGN  11558<<ASSIGN  11571>>IF
ERR
     11503**DCL     11612<<ASSIGN  11613>>IF      11616--ASSIGN
ERRBUF
     11549**DCL     11615--ASSIGN
FPT_ERRMSG
     11533**DCL     11618<>CALL
FPT_ERRMSG.BUF_
     11533**DCL     11615<<ASSIGN
FPT_ERRMSG.CODE_
     11533**DCL     11617<<ASSIGN
FPT_ERRMSG.V
     11537**DCL     11533--DCLINIT
G$BOBCAT
     11417**DCL     11564<>CALL
G$BOBCAT.IOPDATA$
     11425**DCL     11567<>CALL
HEADER0
     11508**DCL     11561<<ASSIGN  11652>>IF      11655<<ASSIGN
HEADER1
     11509**DCL     11562<<ASSIGN  11674>>IF      11680<<ASSIGN
I
     11496**DCL     11585<<DOINDEX 11586>>ASSIGN
IOPFLG.F
     11513**DCL     11605<<ASSIGN  11607--CALL    11608<<ASSIGN  11608>>ASSIGN  11610--CALL
IOPF_TEXT
     11400**DCL     11607--CALL    11610--CALL
IOPF_TEXT.SREST
     11402**DCL     11606<<ASSIGN  11609<<ASSIGN
IOPRPT1
     11249**DCL     11654<>CALL
IOPRPT1HD00
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:45   
     11316**DCL     11284--DCLINIT
IOPRPT1HD01
     11359**DCL     11331--DCLINIT
IOPRPT1TX00
     11292**DCL     11279--DCLINIT
IOPRPT1TX01
     11334**DCL     11324--DCLINIT
IOPRPT1TX02
     11377**DCL     11367--DCLINIT
IOPRPT2
     11388**DCL     11678--CALL
IOPRPT3
     11390**DCL     11679--CALL
IOP_DATA$
     11500**DCL     11567<>CALL    11569<>CALL    11573<>CALL
IOP_FMT1
     11384**DCL     11665--CALL
IOP_FMT2
     11392**DCL     11689--CALL
IOP_SIZE
     11502**DCL     11563<<ASSIGN  11586>>ASSIGN
IOP_START
     11558**LABEL   11555--GOTO
KN$IOP
     11430**DCL     11563--ASSIGN  11640<>CALL    11640--CALL    11640--CALL
KN$IOP.ARS
     11441**DCL     11442--REDEF   11443--REDEF   11665--CALL
KN$IOP.BUF.BASE$
     11460**DCL     11689--CALL
KN$IOP.BUF.BND
     11459**DCL     11689--CALL
KN$IOP.BUFSEGDES.W1
     11482**DCL     11689--CALL
KN$IOP.BUFSEGDES.W2
     11483**DCL     11689--CALL
KN$IOP.DCB$
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:46   
     11469**DCL     11665--CALL
KN$IOP.DCBSEGDES.W1
     11488**DCL     11665--CALL
KN$IOP.DCBSEGDES.W2
     11489**DCL     11665--CALL
KN$IOP.ERR
     11434**DCL     11612>>ASSIGN  11665--CALL
KN$IOP.EVENT
     11492**DCL     11665--CALL
KN$IOP.FLAGS
     11444**DCL     11605>>ASSIGN  11665--CALL
KN$IOP.KEY.BASE$
     11467**DCL     11689--CALL
KN$IOP.KEY.BND
     11466**DCL     11689--CALL
KN$IOP.KEYSEGDES.W1
     11485**DCL     11689--CALL
KN$IOP.KEYSEGDES.W2
     11486**DCL     11689--CALL
KN$IOP.LNK$
     11471**DCL     11472--REDEF   11645<>CALL    11665--CALL
KN$IOP.MSGID
     11470**DCL     11665--CALL
KN$IOP.MSGTYPE
     11491**DCL     11665--CALL
LNK$
     11505**DCL     11645<>CALL    11646>>IF      11647>>IF
M$ERRMSG
      5580**DCL-ENT 11618--CALL
OUT
     11180**DCL     11593<>CALL
PASS
     11495**DCL     11579<<DOINDEX 11603>>IF      11636>>IF      11650>>IF
T$
     11504**DCL     11616<<ASSIGN  11617>>ASSIGN
THIS_IOP$
PL6.E3A0      #001=DBD$IOP File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:05 Page:47   
     11501**DCL     11586<<ASSIGN  11593<>CALL    11595>>IF      11634>>IF      11634>>IF      11640<>CALL
     11665--CALL    11689--CALL
TOP
     11135**DCL        26--PROC    11557--ENTRY
TOP.NSUBLKS
     11147**DCL     11581>>IF      11592>>DOINDEX 11603>>IF
TOP.SUBLK$
     11168**DCL     11593>>CALL
X
     11497**DCL     11592<<DOINDEX 11593>>CALL

PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:48   
      259        1        /*T***********************************************************/
      260        2        /*T*                                                         */
      261        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      262        4        /*T*                                                         */
      263        5        /*T***********************************************************/
      264        6        /*F*    NAME: DBD$SSN
      265        7                PURPOSE: To process the SSN command for FEPs.
      266        8
      267        9        */
      268       10        DBD$SSN: PROC(TOP);
      269       11
      270       12        /*X* PLM=3,IND=5,ECU=0,ENU=0   */
      271       13
      272       14        %INCLUDE CP_6;
      273     5573        %INCLUDE GH_SCHD_M;
      274     5717        %INCLUDE G$BOBCAT_M;
      275     5737        %INCLUDE KNA_MACRO_M;
      276     5813        %INCLUDE DA_FORMAT_C;
      277     6055        %INCLUDE XU_MACRO_C;
      278     9161        %INCLUDE DA_ANLZ_R;
      279     9174
      280     9175        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
      281     9220        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
      282     9265
      283     9266    1   DCL DAA$VALUE ENTRY(3) ALTRET;
      284     9267    1   DCL DAF$WRITE EPTR SYMREF;
      285     9268    1   DCL DAF$INIT ENTRY(1) ALTRET;
      286     9269    1   DCL DBB$HEXDUMP ENTRY(4);
      287     9270    1   DCL DBM$GETMEM ENTRY(10) ALTRET;
      288     9271    1   DCL DBM$GETBOBCAT ENTRY(1) ALTRET;
      289     9272    1   DCL DBM$PACK1 ENTRY(2);
      290     9273    1   DCL DBM$PACK2 ENTRY(2);
      291     9274    1   DCL DBM$PACK4 ENTRY(2);
      292     9275    1   DCL DBD$KNINFO ENTRY(2) ALTRET;
      293     9276
      294     9277
      295     9278        %REPORT (NAME=SSNRPT1,TRUNC=YES,TABDFLT=5,HEADER=YES,TITLE=
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:49   
              9278            'FEP SSN - Session Context');
      296     9344        %HEADER (LAST=NO,TEXT=
      297     9345        'SSN$   U#  STATE    RLCID      LDCT$  IOPQ$  IOPRD$ REGRSN FLAGS ERROR     #DCBs');
      298     9387        %HEADER (TEXT=
      299     9388        '------ --- ------ -----------  ------ ------ ------ ------ ----- --------- -----');
      300     9430    1   DCL 1 SSN_FMT1 CHAR(0) CONSTANT INIT(
      301     9431    1   '.%5ZH .%@2.16ZH %A %@2.8ZD-%@3.8ZD-%@4.16ZD  .%@5.32ZH .%@5.32ZH .%@5.32ZH %A .%@4.
              9431        16ZH .%@8.32ZH %@5.16D');
      302     9432
      303     9433
      304     9434    1   DCL SSNRPT2 CHAR(0) CONSTANT INIT(
      305     9435    1   'SSN$   MARKER    EVENT  TRT: #BBYT #BRCR RCBYS STFLO BLK#  REC# ');
      306     9436    1   DCL SSNRPT3 CHAR(0) CONSTANT INIT(
      307     9437    1   '------ --------- -----       ----- ----- ----- ----- ----- -----');
      308     9438    1   DCL SSN_FMT2 CHAR(0) CONSTANT INIT(
      309     9439    1   '.%5ZH .%@8.32ZH .%@4.16ZH       %@5.16D %@5.16D %@5.16D %@5.16D %@5.16D %@5.16D');
      310     9440
      311     9441        %G_EVENT_TXT;
      312     9459        %KNA_SSNST_TXT;
      313     9474        %KNA_SSNFLAG_TEXT (NAME=SSNF_TEXT, STCLASS=STATIC);
      314     9484
      315     9485        /* AUTO Storage */
      316     9486        %G$BOBCAT (FPTN=G$BOBCAT,STCLASS=AUTO);
      317     9499        %KNA$SSN (FPTN=KNA$SSN,STCLASS=AUTO);
      318     9537
      319     9538    1   DCL PASS UBIN;                          /*which line to print*/
      320     9539    1   DCL I SBIN;
      321     9540    1   DCL X UBIN;
      322     9541    1   DCL RADIX UBIN;
      323     9542
      324     9543    1   DCL STATE_INDX UBIN;
      325     9544    1   DCL EVENT_INDX UBIN;
      326     9545
      327     9546    1   DCL ACTION UBIN/* 0 = display all     1 = display only if in use*/;
      328     9547    1   DCL ENTRY_TYPE UBIN/* 0 = display     1 = check chain and counts*/;
      329     9548
      330     9549    1   DCL HEADER0 UBIN;
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:50   
      331     9550    1   DCL HEADER1 UBIN;
      332     9551    1   DCL SSN_DATA$ UBIN;
      333     9552    1   DCL THIS_SSN$ UBIN;
      334     9553    1   DCL SSN_SIZE UBIN;
      335     9554    1   DCL ERR BIT(36);
      336     9555    1   DCL T$ PTR;
      337     9556
      338     9557    1   DCL 1 SSNFLG,
      339     9558    1         2 F BIT(18) UNAL,
      340     9559    1         2 * BIT(18) UNAL;
      341     9560
      342     9561    1   DCL DBD_FEPCTX_START$ UBIN SYMREF;
      343     9562    1   DCL DBD_FEPCTX_END$ UBIN SYMREF;
      344     9563    1   DCL DBD_FEPCTX_MAX# UBIN SYMREF;
      345     9564
      346     9565        %FPT_ERRMSG (L6_CODE=YES, OUTDCB1=M$DO);
      347     9592    1   DCL ERRBUF CHAR(200);
      348     9593    1   DCL B$1WORD UBIN BASED;
      349     9594    1   DCL M$DO DCB;
      350     9595
      351     9596    1   DCL BAD_SSN_ADDR CHAR(0) CONSTANT INIT(
      352     9597    1      'Invalid SSN address');
      353     9598
      354     9599        %EJECT;
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:51   
      355     9600
      356     9601    1      ENTRY_TYPE=0/*display*/;
      357     9602    1      GOTO SSN_START;
      358     9603
      359     9604    1   DBD$SSN_CHECK: ENTRY(TOP);
      360     9605    1      ENTRY_TYPE=1/*check*/;
      361     9606
      362     9607    1   SSN_START: ;
      363     9608    1      HEADER0 = 0;
      364     9609    1      HEADER1 = 0;
      365     9610    1      SSN_SIZE = (SIZEC(KNA$SSN)+1)/2;
      366     9611    1      CALL DBM$GETBOBCAT(G$BOBCAT)
      367     9612    2      WHENALTRETURN DO; RETURN; END;
      368     9613
      369     9614    1      CALL DBM$PACK4(G$BOBCAT.SSNDATA$,SSN_DATA$);
      370     9615    1      CALL DBD$KNINFO(SSN_DATA$,0);        /*get start$, end$, max#              */
      371     9616
      372     9617    1      IF (ENTRY_TYPE=1/*if check*/)
      373     9618    2      THEN DO;
      374     9619    2           CALL DBM$PACK4(G$BOBCAT.SSNDATA$,SSN_DATA$);
      375     9620    2           IF SSN_DATA$ ~= 0
      376     9621    3           THEN DO;
      377     9622    3                CALL DBD$KNINFO(SSN_DATA$,1);
      378     9623    3                END;
      379     9624    2           RETURN;
      380     9625    2           END/*do if check*/;
      381     9626
      382     9627        %EJECT;
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:52   
      383     9628    2      DO PASS=0 TO 1;
      384     9629
      385     9630    2           IF TOP.NSUBLKS=0
      386     9631    3           THEN DO;
      387     9632    3                ACTION=1/*display if in use*/;
      388     9633
      389     9634    3   DISPLAY_LOOP: ;
      390     9635    4                DO I=0 TO DBD_FEPCTX_MAX# -1;
      391     9636    4                     THIS_SSN$ = DBD_FEPCTX_START$ + (SSN_SIZE *I);
      392     9637    4                     CALL DISP_SSN;
      393     9638    4                     END;
      394     9639    3                END;
      395     9640
      396     9641    3           ELSE DO;
      397     9642    4                DO X=0 TO TOP.NSUBLKS-1;
      398     9643    4                     CALL DAA$VALUE(TOP.SUBLK$(X)->OUT,THIS_SSN$)
      399     9644    5                     WHENRETURN DO;
      400     9645    5                          IF THIS_SSN$ = 0
      401     9646    6                          THEN DO;
      402     9647    6                               ACTION=0/*display all*/;
      403     9648    6                               GOTO DISPLAY_LOOP;
      404     9649    6                               END;
      405     9650
      406     9651    5                          CALL DISP_SSN
      407     9652    6                          WHENRETURN DO;
      408     9653    6                               IF PASS ~= 0   AND   TOP.NSUBLKS=1
      409     9654    7                               THEN DO;
      410     9655    7                                    SSNFLG.F = KNA$SSN.FLAGS;
      411     9656    7                                    SSNF_TEXT.SREST = 'set: ';
      412     9657    7                                    CALL DAF$WRITE(VECTOR(SSNF_TEXT),VECTOR(SSNFLG.F));
      413     9658    7                                    SSNFLG.F = ~(SSNFLG.F);
      414     9659    7                                    SSNF_TEXT.SREST = 'off: ';
      415     9660    7                                    CALL DAF$WRITE(VECTOR(SSNF_TEXT),VECTOR(SSNFLG.F));
      416     9661    7                                    ERR = KNA$SSN.ERROR;
      417     9662
      418     9663    7                                    IF (ERR ~= '0'B)
      419     9664    8                                    THEN DO;
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:53   
      420     9665    8                                         FPT_ERRMSG.BUF_ = VECTOR(ERRBUF);
      421     9666    8                                         T$ = ADDR(ERR);
      422     9667    8                                         FPT_ERRMSG.CODE_ = VECTOR(T$->B$1WORD);
      423     9668    8                                         CALL M$ERRMSG(FPT_ERRMSG)
      424     9669    9                                         WHENALTRETURN DO; END;
      425     9670    8                                         END/*do if err*/;
      426     9671    7                                    END/*do if not pass0*/;
      427     9672    6                               END/*return from disp_iop*/;
      428     9673    5                          END/*whenreturn do*/;
      429     9674
      430     9675    4                     END/*do X=0 to nsublks-1*/;
      431     9676    3                END/*else do*/;
      432     9677    2           END/*do pass=0 to 1*/;
      433     9678
      434     9679
      435     9680    1      RETURN;
      436     9681
      437     9682        %EJECT;
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:54   
      438     9683    1   DISP_SSN: PROC ALTRET;
      439     9684    2      IF (THIS_SSN$ < DBD_FEPCTX_START$) OR (THIS_SSN$ > DBD_FEPCTX_END$)
      440     9685    3      THEN DO;
      441     9686    3           IF PASS=0 THEN CALL DAF$WRITE(VECTOR(BAD_SSN_ADDR));
      442     9687    3           ALTRETURN;
      443     9688    3           END;
      444     9689
      445     9690    2      CALL DBM$GETMEM(THIS_SSN$,KNA$SSN,0,SIZEC(KNA$SSN),,SIZEC(KNA$SSN))
      446     9691    3      WHENALTRETURN DO; RETURN; END;
      447     9692
      448     9693    2      CALL DBM$PACK2(KNA$SSN.STATE,STATE_INDX);
      449     9694    2      IF STATE_INDX > 31 THEN STATE_INDX = 30;
      450     9695
      451     9696    2      IF (ACTION=1/*display only if in use*/)
      452     9697    3      THEN DO;
      453     9698    3           IF STATE_INDX = 0
      454     9699    3           THEN RETURN;
      455     9700    3           END;
      456     9701
      457     9702    2      IF PASS = 0
      458     9703    3      THEN DO;
      459     9704    3           IF HEADER0 = 0
      460     9705    4           THEN DO;
      461     9706    4                CALL DAF$INIT(SSNRPT1);
      462     9707    4                HEADER0 = 1;
      463     9708    4                END;
      464     9709    3           CALL DBM$PACK2(KNA$SSN.REGRSN,EVENT_INDX);
      465     9710    3           IF EVENT_INDX > 38 THEN EVENT_INDX = 39;
      466     9711
      467     9712    3           CALL DAF$WRITE(VECTOR(SSN_FMT1),
      468     9713    3             VECTOR(THIS_SSN$),
      469     9714    3             VECTOR(KNA$SSN.USER#),
      470     9715    3             VECTOR(KNA_SSNST_TXT(STATE_INDX)),
      471     9716    3             VECTOR(KNA$SSN.RLCID.NODE),
      472     9717    3             VECTOR(KNA$SSN.RLCID.GENERATION),
      473     9718    3             VECTOR(KNA$SSN.RLCID.LDCTX),
      474     9719    3             VECTOR(KNA$SSN.LDCT$),
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:55   
      475     9720    3             VECTOR(KNA$SSN.IOPQ$),
      476     9721    3             VECTOR(KNA$SSN.IOPRD$),
      477     9722    3             VECTOR(G_EVENT_TXT(EVENT_INDX)),
      478     9723    3             VECTOR(KNA$SSN.FLAGS),
      479     9724    3             VECTOR(KNA$SSN.ERROR),
      480     9725    3             VECTOR(KNA$SSN.NUMDCBS));
      481     9726    3           END/*pass 0*/;
      482     9727
      483     9728
      484     9729    3      ELSE DO;
      485     9730    3           IF HEADER1 = 0
      486     9731    4           THEN DO;
      487     9732    4                CALL DAF$WRITE(VECTOR(BLANK_LINE));
      488     9733    4                CALL DAF$WRITE(VECTOR(BLANK_LINE));
      489     9734    4                CALL DAF$WRITE(VECTOR(SSNRPT2));
      490     9735    4                CALL DAF$WRITE(VECTOR(SSNRPT3));
      491     9736    4                HEADER1 = 1;
      492     9737    4                END;
      493     9738
      494     9739    3           CALL DAF$WRITE(VECTOR(SSN_FMT2),
      495     9740    3             VECTOR(THIS_SSN$),
      496     9741    3             VECTOR(KNA$SSN.MARKER),
      497     9742    3             VECTOR(KNA$SSN.EVENT),
      498     9743    3             VECTOR(KNA$SSN.THRTLVL.MAXNMBBYT),
      499     9744    3             VECTOR(KNA$SSN.THRTLVL.MAXNMBRCR),
      500     9745    3             VECTOR(KNA$SSN.THRTLVL.MAXRCRBYTSIZ),
      501     9746    3             VECTOR(KNA$SSN.THRTLVL.STR),
      502     9747    3             VECTOR(KNA$SSN.BLKREC.BLK#),
      503     9748    3             VECTOR(KNA$SSN.BLKREC.REC#));
      504     9749    3           END;
      505     9750
      506     9751
      507     9752    2   END DISP_SSN;
      508     9753
      509     9754    1   END DBD$SSN;
      510     9755        %EOD;

PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:56   
--  Include file information  --

   DA_ANLZ_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   KNA_MACRO_M.:E05TOU  is referenced.
   G$BOBCAT_M.:E05TOU  is referenced.
   GH_SCHD_M.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure DBD$SSN.

   Procedure DBD$SSN requires 500 words for executable code.
   Procedure DBD$SSN requires 230 words of local(AUTO) storage.

PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:57   

 Object Unit name= DBD$SSN                                    File name= DBD$FMT_KN.:E05TOU
 UTS= JUL 29 '97 13:06:02.96 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none   130    202  DBD$SSN
    2  RoData even  UTS    160    240  DBD$SSN
    3   DCB   even  none     0      0  M$DO
    4   Proc  even  none   500    764  DBD$SSN
    5  RoData even  none    50     62  DBD$SSN

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     4      0   yes            yes      Std        1  DBD$SSN
     4      4                  yes      Std        1  DBD$SSN_CHECK
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:58   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       1 DBM$GETBOBCAT
         yes           Std       2 DBM$PACK4
 yes     yes           Std       2 DBD$KNINFO
 yes     yes           Std       3 DAA$VALUE
 yes     yes           Std      10 DBM$GETMEM
         yes           Std       2 DBM$PACK2
 yes     yes           Std       1 DAF$INIT
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                             r    BLANK_LINE                            DAF$WRITE
     DBD_FEPCTX_START$                     DBD_FEPCTX_END$                       DBD_FEPCTX_MAX#
     M$DO                                  B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:59   


      259        1        /*T***********************************************************/
      260        2        /*T*                                                         */
      261        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      262        4        /*T*                                                         */
      263        5        /*T***********************************************************/
      264        6        /*F*    NAME: DBD$SSN
      265        7                PURPOSE: To process the SSN command for FEPs.
      266        8
      267        9        */
      268       10        DBD$SSN: PROC(TOP);

     10  4 000000   000000 700200 xent  DBD$SSN      TSX0  ! X66_AUTO_1
         4 000001   000346 000001                    ZERO    230,1

      269       11
      270       12        /*X* PLM=3,IND=5,ECU=0,ENU=0   */
      271       13
      272       14        %INCLUDE CP_6;
      273     5573        %INCLUDE GH_SCHD_M;
      274     5717        %INCLUDE G$BOBCAT_M;
      275     5737        %INCLUDE KNA_MACRO_M;
      276     5813        %INCLUDE DA_FORMAT_C;
      277     6055        %INCLUDE XU_MACRO_C;
      278     9161        %INCLUDE DA_ANLZ_R;
      279     9174
      280     9175        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
      281     9220        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
      282     9265
      283     9266    1   DCL DAA$VALUE ENTRY(3) ALTRET;
      284     9267    1   DCL DAF$WRITE EPTR SYMREF;
      285     9268    1   DCL DAF$INIT ENTRY(1) ALTRET;
      286     9269    1   DCL DBB$HEXDUMP ENTRY(4);
      287     9270    1   DCL DBM$GETMEM ENTRY(10) ALTRET;
      288     9271    1   DCL DBM$GETBOBCAT ENTRY(1) ALTRET;
      289     9272    1   DCL DBM$PACK1 ENTRY(2);
      290     9273    1   DCL DBM$PACK2 ENTRY(2);
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:60   
      291     9274    1   DCL DBM$PACK4 ENTRY(2);
      292     9275    1   DCL DBD$KNINFO ENTRY(2) ALTRET;
      293     9276
      294     9277
      295     9278        %REPORT (NAME=SSNRPT1,TRUNC=YES,TABDFLT=5,HEADER=YES,TITLE=
              9278            'FEP SSN - Session Context');
      296     9344        %HEADER (LAST=NO,TEXT=
      297     9345        'SSN$   U#  STATE    RLCID      LDCT$  IOPQ$  IOPRD$ REGRSN FLAGS ERROR    #DCBs');
      298     9387        %HEADER (TEXT=
      299     9388        '------ --- ------ ----------- ------ ------ ------ ------ ----- --------- -----');
      300     9430    1   DCL 1 SSN_FMT1 CHAR(0) CONSTANT INIT(
      301     9431    1   '.%5ZH .%@2.16ZH %A %@2.8ZD-%@3.8ZD-%@4.16ZD .%@5.32ZH .%@5.32ZH .%@5.32ZH %A .%@4.
              9431        16ZH .%@8.32ZH %@5.16D');
      302     9432
      303     9433
      304     9434    1   DCL SSNRPT2 CHAR(0) CONSTANT INIT(
      305     9435    1   'SSN$   MARKER    EVENT  TRT: #BBYT #BRCR RCBYS STFLO BLK#  REC# ');
      306     9436    1   DCL SSNRPT3 CHAR(0) CONSTANT INIT(
      307     9437    1   '------ --------- -----       ----- ----- ----- ----- ----- -----');
      308     9438    1   DCL SSN_FMT2 CHAR(0) CONSTANT INIT(
      309     9439    1   '.%5ZH .%@8.32ZH .%@4.16ZH       %@5.16D %@5.16D %@5.16D %@5.16D %@5.16D %@5.16D');
      310     9440
      311     9441        %G_EVENT_TXT;
      312     9459        %KNA_SSNST_TXT;
      313     9474        %KNA_SSNFLAG_TEXT (NAME=SSNF_TEXT, STCLASS=STATIC);
      314     9484
      315     9485        /* AUTO Storage */
      316     9486        %G$BOBCAT (FPTN=G$BOBCAT,STCLASS=AUTO);
      317     9499        %KNA$SSN (FPTN=KNA$SSN,STCLASS=AUTO);
      318     9537
      319     9538    1   DCL PASS UBIN;                          /*which line to print*/
      320     9539    1   DCL I SBIN;
      321     9540    1   DCL X UBIN;
      322     9541    1   DCL RADIX UBIN;
      323     9542
      324     9543    1   DCL STATE_INDX UBIN;
      325     9544    1   DCL EVENT_INDX UBIN;
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:61   
      326     9545
      327     9546    1   DCL ACTION UBIN/* 0 = display all     1 = display only if in use*/;
      328     9547    1   DCL ENTRY_TYPE UBIN/* 0 = display     1 = check chain and counts*/;
      329     9548
      330     9549    1   DCL HEADER0 UBIN;
      331     9550    1   DCL HEADER1 UBIN;
      332     9551    1   DCL SSN_DATA$ UBIN;
      333     9552    1   DCL THIS_SSN$ UBIN;
      334     9553    1   DCL SSN_SIZE UBIN;
      335     9554    1   DCL ERR BIT(36);
      336     9555    1   DCL T$ PTR;
      337     9556
      338     9557    1   DCL 1 SSNFLG,
      339     9558    1         2 F BIT(18) UNAL,
      340     9559    1         2 * BIT(18) UNAL;
      341     9560
      342     9561    1   DCL DBD_FEPCTX_START$ UBIN SYMREF;
      343     9562    1   DCL DBD_FEPCTX_END$ UBIN SYMREF;
      344     9563    1   DCL DBD_FEPCTX_MAX# UBIN SYMREF;
      345     9564
      346     9565        %FPT_ERRMSG (L6_CODE=YES, OUTDCB1=M$DO);
      347     9592    1   DCL ERRBUF CHAR(200);
      348     9593    1   DCL B$1WORD UBIN BASED;
      349     9594    1   DCL M$DO DCB;
      350     9595
      351     9596    1   DCL BAD_SSN_ADDR CHAR(0) CONSTANT INIT(
      352     9597    1      'Invalid SSN address');
      353     9598
      354     9599        %EJECT;
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:62   
      355     9600
      356     9601    1      ENTRY_TYPE=0/*display*/;

   9601  4 000002   200115 450100                    STZ     ENTRY_TYPE,,AUTO

      357     9602    1      GOTO SSN_START;

   9602  4 000003   000010 710000 4                  TRA     SSN_START

      358     9603
      359     9604    1   DBD$SSN_CHECK: ENTRY(TOP);

   9604  4 000004   000000 700200 xent  DBD$SSN_CHE* TSX0  ! X66_AUTO_1
         4 000005   000346 000001                    ZERO    230,1

      360     9605    1      ENTRY_TYPE=1/*check*/;

   9605  4 000006   000001 235007                    LDA     1,DL
         4 000007   200115 755100                    STA     ENTRY_TYPE,,AUTO

   9605  4 000010                       SSN_START    null
      361     9606
      362     9607    1   SSN_START: ;
      363     9608    1      HEADER0 = 0;

   9608  4 000010   200116 450100                    STZ     HEADER0,,AUTO

      364     9609    1      HEADER1 = 0;

   9609  4 000011   200117 450100                    STZ     HEADER1,,AUTO

      365     9610    1      SSN_SIZE = (SIZEC(KNA$SSN)+1)/2;

   9610  4 000012   000031 235007                    LDA     25,DL
         4 000013   200122 755100                    STA     SSN_SIZE,,AUTO

      366     9611    1      CALL DBM$GETBOBCAT(G$BOBCAT)
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:63   

   9611  4 000014   200004 630500                    EPPR0   G$BOBCAT,,AUTO
         4 000015   200212 450500                    STP0    ERRBUF+52,,AUTO
         4 000016   200212 630500                    EPPR0   ERRBUF+52,,AUTO
         4 000017   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000020   000000 701000 xent               TSX1    DBM$GETBOBCAT
         4 000021   000023 702000 4                  TSX2    s:9612
         4 000022   000024 710000 4                  TRA     s:9614

      367     9612    2      WHENALTRETURN DO; RETURN; END;

   9612  4 000023   000000 702200 xent               TSX2  ! X66_ARET

      368     9613
      369     9614    1      CALL DBM$PACK4(G$BOBCAT.SSNDATA$,SSN_DATA$);

   9614  4 000024   200120 630500                    EPPR0   SSN_DATA$,,AUTO
         4 000025   200213 450500                    STP0    ERRBUF+53,,AUTO
         4 000026   200050 631500                    EPPR1   G$BOBCAT+36,,AUTO
         4 000027   200212 451500                    STP1    ERRBUF+52,,AUTO
         4 000030   200212 630500                    EPPR0   ERRBUF+52,,AUTO
         4 000031   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000032   000000 701000 xent               TSX1    DBM$PACK4
         4 000033   000000 011000                    NOP     0

      370     9615    1      CALL DBD$KNINFO(SSN_DATA$,0);        /*get start$, end$, max#              */

   9615  4 000034   000000 236000 5                  LDQ     0
         4 000035   200213 756100                    STQ     ERRBUF+53,,AUTO
         4 000036   200120 630500                    EPPR0   SSN_DATA$,,AUTO
         4 000037   200212 450500                    STP0    ERRBUF+52,,AUTO
         4 000040   200212 630500                    EPPR0   ERRBUF+52,,AUTO
         4 000041   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000042   000000 701000 xent               TSX1    DBD$KNINFO
         4 000043   000000 011000                    NOP     0

      371     9616
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:64   
      372     9617    1      IF (ENTRY_TYPE=1/*if check*/)

   9617  4 000044   200115 235100                    LDA     ENTRY_TYPE,,AUTO
         4 000045   000001 115007                    CMPA    1,DL
         4 000046   000072 601000 4                  TNZ     s:9628

      373     9618    2      THEN DO;

      374     9619    2           CALL DBM$PACK4(G$BOBCAT.SSNDATA$,SSN_DATA$);

   9619  4 000047   200120 630500                    EPPR0   SSN_DATA$,,AUTO
         4 000050   200213 450500                    STP0    ERRBUF+53,,AUTO
         4 000051   200050 631500                    EPPR1   G$BOBCAT+36,,AUTO
         4 000052   200212 451500                    STP1    ERRBUF+52,,AUTO
         4 000053   200212 630500                    EPPR0   ERRBUF+52,,AUTO
         4 000054   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000055   000000 701000 xent               TSX1    DBM$PACK4
         4 000056   000000 011000                    NOP     0

      375     9620    2           IF SSN_DATA$ ~= 0

   9620  4 000057   200120 235100                    LDA     SSN_DATA$,,AUTO
         4 000060   000071 600000 4                  TZE     s:9624

      376     9621    3           THEN DO;

      377     9622    3                CALL DBD$KNINFO(SSN_DATA$,1);

   9622  4 000061   000001 236000 5                  LDQ     1
         4 000062   200213 756100                    STQ     ERRBUF+53,,AUTO
         4 000063   200120 630500                    EPPR0   SSN_DATA$,,AUTO
         4 000064   200212 450500                    STP0    ERRBUF+52,,AUTO
         4 000065   200212 630500                    EPPR0   ERRBUF+52,,AUTO
         4 000066   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000067   000000 701000 xent               TSX1    DBD$KNINFO
         4 000070   000000 011000                    NOP     0

PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:65   
      378     9623    3                END;

      379     9624    2           RETURN;

   9624  4 000071   000000 702200 xent               TSX2  ! X66_ARET

      380     9625    2           END/*do if check*/;
      381     9626
      382     9627        %EJECT;
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:66   
      383     9628    2      DO PASS=0 TO 1;

   9628  4 000072   200106 450100                    STZ     PASS,,AUTO

      384     9629
      385     9630    2           IF TOP.NSUBLKS=0

   9630  4 000073   200003 470500                    LDP0    @TOP,,AUTO
         4 000074   000001 220100                    LDX0    1,,PR0
         4 000075   000116 601000 4                  TNZ     s:9642

      386     9631    3           THEN DO;

      387     9632    3                ACTION=1/*display if in use*/;

   9632  4 000076   000001 235007                    LDA     1,DL
         4 000077   200114 755100                    STA     ACTION,,AUTO

   9632  4 000100                       DISPLAY_LOOP null
      388     9633
      389     9634    3   DISPLAY_LOOP: ;
      390     9635    4                DO I=0 TO DBD_FEPCTX_MAX# -1;

   9635  4 000100   200107 450100                    STZ     I,,AUTO
         4 000101   000111 710000 4                  TRA     s:9638+1

      391     9636    4                     THIS_SSN$ = DBD_FEPCTX_START$ + (SSN_SIZE *I);

   9636  4 000102   200122 236100                    LDQ     SSN_SIZE,,AUTO
         4 000103   200107 402100                    MPY     I,,AUTO
         4 000104   000000 036000 xsym               ADLQ    DBD_FEPCTX_START$
         4 000105   200121 756100                    STQ     THIS_SSN$,,AUTO

      392     9637    4                     CALL DISP_SSN;

   9637  4 000106   000264 701000 4                  TSX1    DISP_SSN
         4 000107   000000 011000                    NOP     0
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:67   

      393     9638    4                     END;

   9638  4 000110   200107 054100                    AOS     I,,AUTO
         4 000111   200107 236100                    LDQ     I,,AUTO
         4 000112   000102 604000 4                  TMI     s:9636
         4 000113   000000 116000 xsym               CMPQ    DBD_FEPCTX_MAX#
         4 000114   000102 602000 4                  TNC     s:9636

      394     9639    3                END;

   9639  4 000115   000256 710000 4                  TRA     s:9677

      395     9640
      396     9641    3           ELSE DO;

      397     9642    4                DO X=0 TO TOP.NSUBLKS-1;

   9642  4 000116   200110 450100                    STZ     X,,AUTO
         4 000117   000250 710000 4                  TRA     s:9675+3

      398     9643    4                     CALL DAA$VALUE(TOP.SUBLK$(X)->OUT,THIS_SSN$)

   9643  4 000120   200003 470500                    LDP0    @TOP,,AUTO
         4 000121   200110 720100                    LXL0    X,,AUTO
         4 000122   000003 471510                    LDP1    3,X0,PR0
         4 000123   200121 633500                    EPPR3   THIS_SSN$,,AUTO
         4 000124   200213 453500                    STP3    ERRBUF+53,,AUTO
         4 000125   200212 451500                    STP1    ERRBUF+52,,AUTO
         4 000126   200212 630500                    EPPR0   ERRBUF+52,,AUTO
         4 000127   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000130   000000 701000 xent               TSX1    DAA$VALUE
         4 000131   000245 702000 4                  TSX2    s:9675

      399     9644    5                     WHENRETURN DO;

      400     9645    5                          IF THIS_SSN$ = 0
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:68   

   9645  4 000132   200121 235100                    LDA     THIS_SSN$,,AUTO
         4 000133   000136 601000 4                  TNZ     s:9651

      401     9646    6                          THEN DO;

      402     9647    6                               ACTION=0/*display all*/;

   9647  4 000134   200114 450100                    STZ     ACTION,,AUTO

      403     9648    6                               GOTO DISPLAY_LOOP;

   9648  4 000135   000100 710000 4                  TRA     DISPLAY_LOOP

      404     9649    6                               END;
      405     9650
      406     9651    5                          CALL DISP_SSN

   9651  4 000136   000264 701000 4                  TSX1    DISP_SSN
         4 000137   000245 702000 4                  TSX2    s:9675

      407     9652    6                          WHENRETURN DO;

      408     9653    6                               IF PASS ~= 0   AND   TOP.NSUBLKS=1

   9653  4 000140   200106 235100                    LDA     PASS,,AUTO
         4 000141   000245 600000 4                  TZE     s:9675
         4 000142   200003 470500                    LDP0    @TOP,,AUTO
         4 000143   000001 220100                    LDX0    1,,PR0
         4 000144   000001 100003                    CMPX0   1,DU
         4 000145   000245 601000 4                  TNZ     s:9675

      409     9654    7                               THEN DO;

      410     9655    7                                    SSNFLG.F = KNA$SSN.FLAGS;

   9655  4 000146   200071 221100                    LDX1    KNA$SSN,,AUTO
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:69   
         4 000147   200125 741100                    STX1    SSNFLG,,AUTO

      411     9656    7                                    SSNF_TEXT.SREST = 'set: ';

   9656  4 000150   040000 100400                    MLR     fill='040'O
         4 000151   000234 000005 2                  ADSC9   BAD_SSN_ADDR+5           cn=0,n=5
         4 000152   000102 600011 1                  ADSC9   SSNF_TEXT+1              cn=3,n=9

      412     9657    7                                   CALL DAF$WRITE(VECTOR(SSNF_TEXT),VECTOR(SSNFLG.F));

   9657  4 000153   377640 235007                    LDA     130976,DL
         4 000154   200212 452500                    STP2    ERRBUF+52,,AUTO
         4 000155   200212 236100                    LDQ     ERRBUF+52,,AUTO
         4 000156   000125 036003                    ADLQ    85,DU
         4 000157   200214 757100                    STAQ    ERRBUF+54,,AUTO
         4 000160   200214 631500                    EPPR1   ERRBUF+54,,AUTO
         4 000161   200217 451500                    STP1    ERRBUF+57,,AUTO
         4 000162   000004 236000 5                  LDQ     4
         4 000163   200216 756100                    STQ     ERRBUF+56,,AUTO
         4 000164   200216 630500                    EPPR0   ERRBUF+56,,AUTO
         4 000165   000000 220000 xsym               LDX0    DAF$WRITE
         4 000166   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000167   000000 701010                    TSX1    0,X0
         4 000170   000000 011000                    NOP     0

      413     9658    7                                    SSNFLG.F = ~(SSNFLG.F);

   9658  4 000171   200125 236100                    LDQ     SSNFLG,,AUTO
         4 000172   777777 376003                    ANQ     -1,DU
         4 000173   777777 676003                    ERQ     -1,DU
         4 000174   000022 772000                    QRL     18
         4 000175   000000 620006                    EAX0    0,QL
         4 000176   200125 740100                    STX0    SSNFLG,,AUTO

      414     9659    7                                    SSNF_TEXT.SREST = 'off: ';

   9659  4 000177   040000 100400                    MLR     fill='040'O
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:70   
         4 000200   000236 000005 2                  ADSC9   BAD_SSN_ADDR+7           cn=0,n=5
         4 000201   000102 600011 1                  ADSC9   SSNF_TEXT+1              cn=3,n=9

      415     9660    7                                   CALL DAF$WRITE(VECTOR(SSNF_TEXT),VECTOR(SSNFLG.F));

   9660  4 000202   377640 235007                    LDA     130976,DL
         4 000203   200212 452500                    STP2    ERRBUF+52,,AUTO
         4 000204   200212 236100                    LDQ     ERRBUF+52,,AUTO
         4 000205   000125 036003                    ADLQ    85,DU
         4 000206   200214 757100                    STAQ    ERRBUF+54,,AUTO
         4 000207   200214 630500                    EPPR0   ERRBUF+54,,AUTO
         4 000210   200217 450500                    STP0    ERRBUF+57,,AUTO
         4 000211   000004 236000 5                  LDQ     4
         4 000212   200216 756100                    STQ     ERRBUF+56,,AUTO
         4 000213   200216 630500                    EPPR0   ERRBUF+56,,AUTO
         4 000214   000000 221000 xsym               LDX1    DAF$WRITE
         4 000215   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000216   000000 701011                    TSX1    0,X1
         4 000217   000000 011000                    NOP     0

      416     9661    7                                    ERR = KNA$SSN.ERROR;

   9661  4 000220   200071 235100                    LDA     KNA$SSN,,AUTO
         4 000221   200072 236100                    LDQ     KNA$SSN+1,,AUTO
         4 000222   000022 773000                    LRL     18
         4 000223   000027 376000 xsym               ANQ     B_VECTNIL+23
         4 000224   200123 756100                    STQ     ERR,,AUTO

      417     9662
      418     9663    7                                    IF (ERR ~= '0'B)

   9663  4 000225   000245 600000 4                  TZE     s:9675

      419     9664    8                                    THEN DO;

      420     9665    8                                         FPT_ERRMSG.BUF_ = VECTOR(ERRBUF);

PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:71   
   9665  4 000226   000005 235000 5                  LDA     5
         4 000227   200212 452500                    STP2    ERRBUF+52,,AUTO
         4 000230   200212 236100                    LDQ     ERRBUF+52,,AUTO
         4 000231   000126 036003                    ADLQ    86,DU
         4 000232   000154 757000 1                  STAQ    FPT_ERRMSG+4

      421     9666    8                                         T$ = ADDR(ERR);

   9666  4 000233   200123 630500                    EPPR0   ERR,,AUTO
         4 000234   200124 450500                    STP0    T$,,AUTO

      422     9667    8                                         FPT_ERRMSG.CODE_ = VECTOR(T$->B$1WORD);

   9667  4 000235   777640 235007                    LDA     -96,DL
         4 000236   200124 236100                    LDQ     T$,,AUTO
         4 000237   000152 757000 1                  STAQ    FPT_ERRMSG+2

      423     9668    8                                         CALL M$ERRMSG(FPT_ERRMSG)

   9668  4 000240   000150 630400 1                  EPPR0   FPT_ERRMSG
         4 000241   420000 713400                    CLIMB   alt,+8192
         4 000242   405000 401760                    pmme    nvectors=11
         4 000243   000245 702000 4                  TSX2    s:9675
         4 000244   000245 710000 4                  TRA     s:9675

      424     9669    9                                         WHENALTRETURN DO; END;

      425     9670    8                                         END/*do if err*/;

      426     9671    7                                    END/*do if not pass0*/;

      427     9672    6                               END/*return from disp_iop*/;

      428     9673    5                          END/*whenreturn do*/;

      429     9674
      430     9675    4                     END/*do X=0 to nsublks-1*/;
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:72   

   9675  4 000245   200110 235100                    LDA     X,,AUTO
         4 000246   000001 035007                    ADLA    1,DL
         4 000247   200110 755100                    STA     X,,AUTO
         4 000250   200003 470500                    LDP0    @TOP,,AUTO
         4 000251   000001 236100                    LDQ     1,,PR0
         4 000252   000022 772000                    QRL     18
         4 000253   200110 116100                    CMPQ    X,,AUTO
         4 000254   000256 600000 4                  TZE     s:9677
         4 000255   000120 603000 4                  TRC     s:9643

      431     9676    3                END/*else do*/;

      432     9677    2           END/*do pass=0 to 1*/;

   9677  4 000256   200106 235100                    LDA     PASS,,AUTO
         4 000257   000001 035007                    ADLA    1,DL
         4 000260   200106 755100                    STA     PASS,,AUTO
         4 000261   000002 115007                    CMPA    2,DL
         4 000262   000073 602000 4                  TNC     s:9630

      433     9678
      434     9679
      435     9680    1      RETURN;

   9680  4 000263   000000 702200 xent               TSX2  ! X66_ARET

      436     9681
      437     9682        %EJECT;
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:73   
      438     9683    1   DISP_SSN: PROC ALTRET;

   9683  4 000264   200210 741300       DISP_SSN     STX1  ! ERRBUF+50,,AUTO

      439     9684    2      IF (THIS_SSN$ < DBD_FEPCTX_START$) OR (THIS_SSN$ > DBD_FEPCTX_END$)

   9684  4 000265   200121 236100                    LDQ     THIS_SSN$,,AUTO
         4 000266   000000 116000 xsym               CMPQ    DBD_FEPCTX_START$
         4 000267   000273 602000 4                  TNC     s:9686
         4 000270   000000 116000 xsym               CMPQ    DBD_FEPCTX_END$
         4 000271   000304 602000 4                  TNC     s:9690
         4 000272   000304 600000 4                  TZE     s:9690

      440     9685    3      THEN DO;

      441     9686    3           IF PASS=0 THEN CALL DAF$WRITE(VECTOR(BAD_SSN_ADDR));

   9686  4 000273   200106 235100                    LDA     PASS,,AUTO
         4 000274   000302 601000 4                  TNZ     s:9687

   9686  4 000275   000010 630400 5                  EPPR0   8
         4 000276   000000 220000 xsym               LDX0    DAF$WRITE
         4 000277   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000300   000000 701010                    TSX1    0,X0
         4 000301   000000 011000                    NOP     0

      442     9687    3           ALTRETURN;

   9687  4 000302   200210 221300                    LDX1  ! ERRBUF+50,,AUTO
         4 000303   000000 702211                    TSX2  ! 0,X1

      443     9688    3           END;
      444     9689
      445     9690    2      CALL DBM$GETMEM(THIS_SSN$,KNA$SSN,0,SIZEC(KNA$SSN),,SIZEC(KNA$SSN))

   9690  4 000304   000012 236000 5                  LDQ     10
         4 000305   000001 235000 xsym               LDA     B_VECTNIL+1
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:74   
         4 000306   200216 757100                    STAQ    ERRBUF+56,,AUTO
         4 000307   000014 237000 5                  LDAQ    12
         4 000310   200214 757100                    STAQ    ERRBUF+54,,AUTO
         4 000311   200071 630500                    EPPR0   KNA$SSN,,AUTO
         4 000312   200213 450500                    STP0    ERRBUF+53,,AUTO
         4 000313   200121 631500                    EPPR1   THIS_SSN$,,AUTO
         4 000314   200212 451500                    STP1    ERRBUF+52,,AUTO
         4 000315   200212 630500                    EPPR0   ERRBUF+52,,AUTO
         4 000316   000024 631400 xsym               EPPR1   B_VECTNIL+20
         4 000317   000000 701000 xent               TSX1    DBM$GETMEM
         4 000320   000322 702000 4                  TSX2    s:9691
         4 000321   000324 710000 4                  TRA     s:9693

      446     9691    3      WHENALTRETURN DO; RETURN; END;

   9691  4 000322   200210 221300                    LDX1  ! ERRBUF+50,,AUTO
         4 000323   000001 702211                    TSX2  ! 1,X1

      447     9692
      448     9693    2      CALL DBM$PACK2(KNA$SSN.STATE,STATE_INDX);

   9693  4 000324   200112 630500                    EPPR0   STATE_INDX,,AUTO
         4 000325   200213 450500                    STP0    ERRBUF+53,,AUTO
         4 000326   200214 452500                    STP2    ERRBUF+54,,AUTO
         4 000327   200214 236100                    LDQ     ERRBUF+54,,AUTO
         4 000330   000016 036000 5                  ADLQ    14
         4 000331   200212 756100                    STQ     ERRBUF+52,,AUTO
         4 000332   200212 630500                    EPPR0   ERRBUF+52,,AUTO
         4 000333   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000334   000000 701000 xent               TSX1    DBM$PACK2
         4 000335   000000 011000                    NOP     0

      449     9694    2      IF STATE_INDX > 31 THEN STATE_INDX = 30;

   9694  4 000336   200112 235100                    LDA     STATE_INDX,,AUTO
         4 000337   000040 115007                    CMPA    32,DL
         4 000340   000343 602000 4                  TNC     s:9696
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:75   

   9694  4 000341   000036 236007                    LDQ     30,DL
         4 000342   200112 756100                    STQ     STATE_INDX,,AUTO

      450     9695
      451     9696    2      IF (ACTION=1/*display only if in use*/)

   9696  4 000343   200114 235100                    LDA     ACTION,,AUTO
         4 000344   000001 115007                    CMPA    1,DL
         4 000345   000352 601000 4                  TNZ     s:9702

      452     9697    3      THEN DO;

      453     9698    3           IF STATE_INDX = 0

   9698  4 000346   200112 236100                    LDQ     STATE_INDX,,AUTO
         4 000347   000352 601000 4                  TNZ     s:9702

      454     9699    3           THEN RETURN;

   9699  4 000350   200210 221300                    LDX1  ! ERRBUF+50,,AUTO
         4 000351   000001 702211                    TSX2  ! 1,X1

      455     9700    3           END;
      456     9701
      457     9702    2      IF PASS = 0

   9702  4 000352   200106 236100                    LDQ     PASS,,AUTO
         4 000353   000602 601000 4                  TNZ     s:9730

      458     9703    3      THEN DO;

      459     9704    3           IF HEADER0 = 0

   9704  4 000354   200116 235100                    LDA     HEADER0,,AUTO
         4 000355   000364 601000 4                  TNZ     s:9709

PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:76   
      460     9705    4           THEN DO;

      461     9706    4                CALL DAF$INIT(SSNRPT1);

   9706  4 000356   000017 630400 5                  EPPR0   15
         4 000357   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000360   000000 701000 xent               TSX1    DAF$INIT
         4 000361   000000 011000                    NOP     0

      462     9707    4                HEADER0 = 1;

   9707  4 000362   000001 235007                    LDA     1,DL
         4 000363   200116 755100                    STA     HEADER0,,AUTO

      463     9708    4                END;

      464     9709    3           CALL DBM$PACK2(KNA$SSN.REGRSN,EVENT_INDX);

   9709  4 000364   200113 630500                    EPPR0   EVENT_INDX,,AUTO
         4 000365   200213 450500                    STP0    ERRBUF+53,,AUTO
         4 000366   200102 631500                    EPPR1   KNA$SSN+9,,AUTO
         4 000367   200212 451500                    STP1    ERRBUF+52,,AUTO
         4 000370   200212 630500                    EPPR0   ERRBUF+52,,AUTO
         4 000371   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000372   000000 701000 xent               TSX1    DBM$PACK2
         4 000373   000000 011000                    NOP     0

      465     9710    3           IF EVENT_INDX > 38 THEN EVENT_INDX = 39;

   9710  4 000374   200113 235100                    LDA     EVENT_INDX,,AUTO
         4 000375   000047 115007                    CMPA    39,DL
         4 000376   000401 602000 4                  TNC     s:9725

   9710  4 000377   000047 236007                    LDQ     39,DL
         4 000400   200113 756100                    STQ     EVENT_INDX,,AUTO

      466     9711
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:77   
      467     9712    3           CALL DAF$WRITE(VECTOR(SSN_FMT1),
      468     9713    3             VECTOR(THIS_SSN$),
      469     9714    3             VECTOR(KNA$SSN.USER#),
      470     9715    3             VECTOR(KNA_SSNST_TXT(STATE_INDX)),
      471     9716    3             VECTOR(KNA$SSN.RLCID.NODE),
      472     9717    3             VECTOR(KNA$SSN.RLCID.GENERATION),
      473     9718    3             VECTOR(KNA$SSN.RLCID.LDCTX),
      474     9719    3             VECTOR(KNA$SSN.LDCT$),
      475     9720    3             VECTOR(KNA$SSN.IOPQ$),
      476     9721    3             VECTOR(KNA$SSN.IOPRD$),
      477     9722    3             VECTOR(G_EVENT_TXT(EVENT_INDX)),
      478     9723    3             VECTOR(KNA$SSN.FLAGS),
      479     9724    3             VECTOR(KNA$SSN.ERROR),
      480     9725    3             VECTOR(KNA$SSN.NUMDCBS));

   9725  4 000401   777640 235007                    LDA     -96,DL
         4 000402   200212 452500                    STP2    ERRBUF+52,,AUTO
         4 000403   200212 236100                    LDQ     ERRBUF+52,,AUTO
         4 000404   000121 036003                    ADLQ    81,DU
         4 000405   200214 757100                    STAQ    ERRBUF+54,,AUTO
         4 000406   377640 235007                    LDA     130976,DL
         4 000407   200216 452500                    STP2    ERRBUF+56,,AUTO
         4 000410   200216 236100                    LDQ     ERRBUF+56,,AUTO
         4 000411   000022 036000 5                  ADLQ    18
         4 000412   200220 757100                    STAQ    ERRBUF+58,,AUTO
         4 000413   000023 235000 5                  LDA     19
         4 000414   200112 236100                    LDQ     STATE_INDX,,AUTO
         4 000415   200222 755100                    STA     ERRBUF+60,,AUTO
         4 000416   000025 402000 5                  MPY     21
         4 000417   000024 036000 5                  ADLQ    20
         4 000420   200222 235100                    LDA     ERRBUF+60,,AUTO
         4 000421   200224 757100                    STAQ    ERRBUF+62,,AUTO
         4 000422   177640 235007                    LDA     65440,DL
         4 000423   200226 452500                    STP2    ERRBUF+64,,AUTO
         4 000424   200226 236100                    LDQ     ERRBUF+64,,AUTO
         4 000425   000026 036000 5                  ADLQ    22
         4 000426   200230 757100                    STAQ    ERRBUF+66,,AUTO
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:78   
         4 000427   177640 235007                    LDA     65440,DL
         4 000430   200232 452500                    STP2    ERRBUF+68,,AUTO
         4 000431   200232 236100                    LDQ     ERRBUF+68,,AUTO
         4 000432   000027 036000 5                  ADLQ    23
         4 000433   200234 757100                    STAQ    ERRBUF+70,,AUTO
         4 000434   377640 235007                    LDA     130976,DL
         4 000435   200236 452500                    STP2    ERRBUF+72,,AUTO
         4 000436   200236 236100                    LDQ     ERRBUF+72,,AUTO
         4 000437   000101 036003                    ADLQ    65,DU
         4 000440   200240 757100                    STAQ    ERRBUF+74,,AUTO
         4 000441   777640 235007                    LDA     -96,DL
         4 000442   200242 452500                    STP2    ERRBUF+76,,AUTO
         4 000443   200242 236100                    LDQ     ERRBUF+76,,AUTO
         4 000444   000073 036003                    ADLQ    59,DU
         4 000445   200244 757100                    STAQ    ERRBUF+78,,AUTO
         4 000446   777640 235007                    LDA     -96,DL
         4 000447   200246 452500                    STP2    ERRBUF+80,,AUTO
         4 000450   200246 236100                    LDQ     ERRBUF+80,,AUTO
         4 000451   000030 036000 5                  ADLQ    24
         4 000452   200250 757100                    STAQ    ERRBUF+82,,AUTO
         4 000453   777640 235007                    LDA     -96,DL
         4 000454   200252 452500                    STP2    ERRBUF+84,,AUTO
         4 000455   200252 236100                    LDQ     ERRBUF+84,,AUTO
         4 000456   000031 036000 5                  ADLQ    25
         4 000457   200254 757100                    STAQ    ERRBUF+86,,AUTO
         4 000460   000023 235000 5                  LDA     19
         4 000461   200113 236100                    LDQ     EVENT_INDX,,AUTO
         4 000462   200256 755100                    STA     ERRBUF+88,,AUTO
         4 000463   000025 402000 5                  MPY     21
         4 000464   000032 036000 5                  ADLQ    26
         4 000465   200256 235100                    LDA     ERRBUF+88,,AUTO
         4 000466   200260 757100                    STAQ    ERRBUF+90,,AUTO
         4 000467   377640 235007                    LDA     130976,DL
         4 000470   200262 452500                    STP2    ERRBUF+92,,AUTO
         4 000471   200262 236100                    LDQ     ERRBUF+92,,AUTO
         4 000472   000071 036003                    ADLQ    57,DU
         4 000473   200264 757100                    STAQ    ERRBUF+94,,AUTO
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:79   
         4 000474   777640 235007                    LDA     -96,DL
         4 000475   200266 452500                    STP2    ERRBUF+96,,AUTO
         4 000476   200266 236100                    LDQ     ERRBUF+96,,AUTO
         4 000477   000033 036000 5                  ADLQ    27
         4 000500   200270 757100                    STAQ    ERRBUF+98,,AUTO
         4 000501   377640 235007                    LDA     130976,DL
         4 000502   200272 452500                    STP2    ERRBUF+100,,AUTO
         4 000503   200272 236100                    LDQ     ERRBUF+100,,AUTO
         4 000504   000074 036003                    ADLQ    60,DU
         4 000505   200276 757100                    STAQ    ERRBUF+104,,AUTO
         4 000506   200214 237100                    LDAQ    ERRBUF+54,,AUTO
         4 000507   200274 757100                    STAQ    ERRBUF+102,,AUTO
         4 000510   200220 237100                    LDAQ    ERRBUF+58,,AUTO
         4 000511   200300 757100                    STAQ    ERRBUF+106,,AUTO
         4 000512   200224 237100                    LDAQ    ERRBUF+62,,AUTO
         4 000513   200302 757100                    STAQ    ERRBUF+108,,AUTO
         4 000514   200230 237100                    LDAQ    ERRBUF+66,,AUTO
         4 000515   200304 757100                    STAQ    ERRBUF+110,,AUTO
         4 000516   200234 237100                    LDAQ    ERRBUF+70,,AUTO
         4 000517   200306 757100                    STAQ    ERRBUF+112,,AUTO
         4 000520   200240 237100                    LDAQ    ERRBUF+74,,AUTO
         4 000521   200310 757100                    STAQ    ERRBUF+114,,AUTO
         4 000522   200244 237100                    LDAQ    ERRBUF+78,,AUTO
         4 000523   200312 757100                    STAQ    ERRBUF+116,,AUTO
         4 000524   200250 237100                    LDAQ    ERRBUF+82,,AUTO
         4 000525   200314 757100                    STAQ    ERRBUF+118,,AUTO
         4 000526   200254 237100                    LDAQ    ERRBUF+86,,AUTO
         4 000527   200316 757100                    STAQ    ERRBUF+120,,AUTO
         4 000530   200260 237100                    LDAQ    ERRBUF+90,,AUTO
         4 000531   200320 757100                    STAQ    ERRBUF+122,,AUTO
         4 000532   200264 237100                    LDAQ    ERRBUF+94,,AUTO
         4 000533   200322 757100                    STAQ    ERRBUF+124,,AUTO
         4 000534   200270 237100                    LDAQ    ERRBUF+98,,AUTO
         4 000535   200324 757100                    STAQ    ERRBUF+126,,AUTO
         4 000536   200276 237100                    LDAQ    ERRBUF+104,,AUTO
         4 000537   200326 757100                    STAQ    ERRBUF+128,,AUTO
         4 000540   200326 630500                    EPPR0   ERRBUF+128,,AUTO
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:80   
         4 000541   200345 450500                    STP0    ERRBUF+143,,AUTO
         4 000542   200324 631500                    EPPR1   ERRBUF+126,,AUTO
         4 000543   200344 451500                    STP1    ERRBUF+142,,AUTO
         4 000544   200322 633500                    EPPR3   ERRBUF+124,,AUTO
         4 000545   200343 453500                    STP3    ERRBUF+141,,AUTO
         4 000546   200320 634500                    EPPR4   ERRBUF+122,,AUTO
         4 000547   200342 454500                    STP4    ERRBUF+140,,AUTO
         4 000550   200316 635500                    EPPR5   ERRBUF+120,,AUTO
         4 000551   200341 455500                    STP5    ERRBUF+139,,AUTO
         4 000552   200314 636500                    EPPR6   ERRBUF+118,,AUTO
         4 000553   200340 456500                    STP6    ERRBUF+138,,AUTO
         4 000554   200312 637500                    EPPR7   ERRBUF+116,,AUTO
         4 000555   200337 457500                    STP7    ERRBUF+137,,AUTO
         4 000556   200310 630500                    EPPR0   ERRBUF+114,,AUTO
         4 000557   200336 450500                    STP0    ERRBUF+136,,AUTO
         4 000560   200306 630500                    EPPR0   ERRBUF+112,,AUTO
         4 000561   200335 450500                    STP0    ERRBUF+135,,AUTO
         4 000562   200304 630500                    EPPR0   ERRBUF+110,,AUTO
         4 000563   200334 450500                    STP0    ERRBUF+134,,AUTO
         4 000564   200302 630500                    EPPR0   ERRBUF+108,,AUTO
         4 000565   200333 450500                    STP0    ERRBUF+133,,AUTO
         4 000566   200300 630500                    EPPR0   ERRBUF+106,,AUTO
         4 000567   200332 450500                    STP0    ERRBUF+132,,AUTO
         4 000570   200274 630500                    EPPR0   ERRBUF+102,,AUTO
         4 000571   200331 450500                    STP0    ERRBUF+131,,AUTO
         4 000572   000035 236000 5                  LDQ     29
         4 000573   200330 756100                    STQ     ERRBUF+130,,AUTO
         4 000574   200330 630500                    EPPR0   ERRBUF+130,,AUTO
         4 000575   000000 220000 xsym               LDX0    DAF$WRITE
         4 000576   000034 631400 5                  EPPR1   28
         4 000577   000000 701010                    TSX1    0,X0
         4 000600   000000 011000                    NOP     0

      481     9726    3           END/*pass 0*/;

   9726  4 000601   000762 710000 4                  TRA     s:9752

PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:81   
      482     9727
      483     9728
      484     9729    3      ELSE DO;

      485     9730    3           IF HEADER1 = 0

   9730  4 000602   200117 235100                    LDA     HEADER1,,AUTO
         4 000603   000632 601000 4                  TNZ     s:9745

      486     9731    4           THEN DO;

      487     9732    4                CALL DAF$WRITE(VECTOR(BLANK_LINE));

   9732  4 000604   000040 630400 5                  EPPR0   32
         4 000605   000000 220000 xsym               LDX0    DAF$WRITE
         4 000606   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000607   000000 701010                    TSX1    0,X0
         4 000610   000000 011000                    NOP     0

      488     9733    4                CALL DAF$WRITE(VECTOR(BLANK_LINE));

   9733  4 000611   000040 630400 5                  EPPR0   32
         4 000612   000000 220000 xsym               LDX0    DAF$WRITE
         4 000613   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000614   000000 701010                    TSX1    0,X0
         4 000615   000000 011000                    NOP     0

      489     9734    4                CALL DAF$WRITE(VECTOR(SSNRPT2));

   9734  4 000616   000044 630400 5                  EPPR0   36
         4 000617   000000 220000 xsym               LDX0    DAF$WRITE
         4 000620   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000621   000000 701010                    TSX1    0,X0
         4 000622   000000 011000                    NOP     0

      490     9735    4                CALL DAF$WRITE(VECTOR(SSNRPT3));

PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:82   
   9735  4 000623   000050 630400 5                  EPPR0   40
         4 000624   000000 220000 xsym               LDX0    DAF$WRITE
         4 000625   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000626   000000 701010                    TSX1    0,X0
         4 000627   000000 011000                    NOP     0

      491     9736    4                HEADER1 = 1;

   9736  4 000630   000001 235007                    LDA     1,DL
         4 000631   200117 755100                    STA     HEADER1,,AUTO

      492     9737    4                END;

      493     9738
      494     9739    3           CALL DAF$WRITE(VECTOR(SSN_FMT2),
      495     9740    3             VECTOR(THIS_SSN$),
      496     9741    3             VECTOR(KNA$SSN.MARKER),
      497     9742    3             VECTOR(KNA$SSN.EVENT),
      498     9743    3             VECTOR(KNA$SSN.THRTLVL.MAXNMBBYT),
      499     9744    3             VECTOR(KNA$SSN.THRTLVL.MAXNMBRCR),
      500     9745    3             VECTOR(KNA$SSN.THRTLVL.MAXRCRBYTSIZ),

   9745  4 000632   777640 235007                    LDA     -96,DL
         4 000633   200212 452500                    STP2    ERRBUF+52,,AUTO
         4 000634   200212 236100                    LDQ     ERRBUF+52,,AUTO
         4 000635   000121 036003                    ADLQ    81,DU
         4 000636   200214 757100                    STAQ    ERRBUF+54,,AUTO
         4 000637   777640 235007                    LDA     -96,DL
         4 000640   200216 452500                    STP2    ERRBUF+56,,AUTO
         4 000641   200216 236100                    LDQ     ERRBUF+56,,AUTO
         4 000642   000054 036000 5                  ADLQ    44
         4 000643   200220 757100                    STAQ    ERRBUF+58,,AUTO
         4 000644   377640 235007                    LDA     130976,DL
         4 000645   200222 452500                    STP2    ERRBUF+60,,AUTO
         4 000646   200222 236100                    LDQ     ERRBUF+60,,AUTO
         4 000647   000104 036003                    ADLQ    68,DU
         4 000650   200224 757100                    STAQ    ERRBUF+62,,AUTO
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:83   
         4 000651   377640 235007                    LDA     130976,DL
         4 000652   200226 452500                    STP2    ERRBUF+64,,AUTO
         4 000653   200226 236100                    LDQ     ERRBUF+64,,AUTO
         4 000654   000055 036000 5                  ADLQ    45
         4 000655   200230 757100                    STAQ    ERRBUF+66,,AUTO
         4 000656   377640 235007                    LDA     130976,DL
         4 000657   200232 452500                    STP2    ERRBUF+68,,AUTO
         4 000660   200232 236100                    LDQ     ERRBUF+68,,AUTO
         4 000661   000075 036003                    ADLQ    61,DU
         4 000662   200234 757100                    STAQ    ERRBUF+70,,AUTO
         4 000663   377640 235007                    LDA     130976,DL
         4 000664   200236 452500                    STP2    ERRBUF+72,,AUTO
         4 000665   200236 236100                    LDQ     ERRBUF+72,,AUTO
         4 000666   000056 036000 5                  ADLQ    46
         4 000667   200240 757100                    STAQ    ERRBUF+74,,AUTO
         4 000670   377640 235007                    LDA     130976,DL
         4 000671   200242 452500                    STP2    ERRBUF+76,,AUTO
         4 000672   200242 236100                    LDQ     ERRBUF+76,,AUTO
         4 000673   000076 036003                    ADLQ    62,DU
         4 000674   200244 757100                    STAQ    ERRBUF+78,,AUTO
         4 000675   377640 235007                    LDA     130976,DL
         4 000676   200246 452500                    STP2    ERRBUF+80,,AUTO
         4 000677   200246 236100                    LDQ     ERRBUF+80,,AUTO
         4 000700   000103 036003                    ADLQ    67,DU
         4 000701   200250 757100                    STAQ    ERRBUF+82,,AUTO
         4 000702   377640 235007                    LDA     130976,DL
         4 000703   200252 452500                    STP2    ERRBUF+84,,AUTO
         4 000704   200252 236100                    LDQ     ERRBUF+84,,AUTO
         4 000705   000057 036000 5                  ADLQ    47
         4 000706   200256 757100                    STAQ    ERRBUF+88,,AUTO
         4 000707   200214 237100                    LDAQ    ERRBUF+54,,AUTO
         4 000710   200254 757100                    STAQ    ERRBUF+86,,AUTO
         4 000711   200220 237100                    LDAQ    ERRBUF+58,,AUTO
         4 000712   200260 757100                    STAQ    ERRBUF+90,,AUTO
         4 000713   200224 237100                    LDAQ    ERRBUF+62,,AUTO
         4 000714   200262 757100                    STAQ    ERRBUF+92,,AUTO
         4 000715   200230 237100                    LDAQ    ERRBUF+66,,AUTO
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:84   
         4 000716   200264 757100                    STAQ    ERRBUF+94,,AUTO
         4 000717   200234 237100                    LDAQ    ERRBUF+70,,AUTO
         4 000720   200266 757100                    STAQ    ERRBUF+96,,AUTO
         4 000721   200240 237100                    LDAQ    ERRBUF+74,,AUTO
         4 000722   200270 757100                    STAQ    ERRBUF+98,,AUTO
         4 000723   200244 237100                    LDAQ    ERRBUF+78,,AUTO
         4 000724   200272 757100                    STAQ    ERRBUF+100,,AUTO
         4 000725   200250 237100                    LDAQ    ERRBUF+82,,AUTO
         4 000726   200274 757100                    STAQ    ERRBUF+102,,AUTO
         4 000727   200256 237100                    LDAQ    ERRBUF+88,,AUTO
         4 000730   200276 757100                    STAQ    ERRBUF+104,,AUTO
         4 000731   200276 630500                    EPPR0   ERRBUF+104,,AUTO
         4 000732   200311 450500                    STP0    ERRBUF+115,,AUTO
         4 000733   200274 631500                    EPPR1   ERRBUF+102,,AUTO
         4 000734   200310 451500                    STP1    ERRBUF+114,,AUTO
         4 000735   200272 633500                    EPPR3   ERRBUF+100,,AUTO
         4 000736   200307 453500                    STP3    ERRBUF+113,,AUTO
         4 000737   200270 634500                    EPPR4   ERRBUF+98,,AUTO
         4 000740   200306 454500                    STP4    ERRBUF+112,,AUTO
         4 000741   200266 635500                    EPPR5   ERRBUF+96,,AUTO
         4 000742   200305 455500                    STP5    ERRBUF+111,,AUTO
         4 000743   200264 636500                    EPPR6   ERRBUF+94,,AUTO
         4 000744   200304 456500                    STP6    ERRBUF+110,,AUTO
         4 000745   200262 637500                    EPPR7   ERRBUF+92,,AUTO
         4 000746   200303 457500                    STP7    ERRBUF+109,,AUTO
         4 000747   200260 630500                    EPPR0   ERRBUF+90,,AUTO
         4 000750   200302 450500                    STP0    ERRBUF+108,,AUTO
         4 000751   200254 630500                    EPPR0   ERRBUF+86,,AUTO
         4 000752   200301 450500                    STP0    ERRBUF+107,,AUTO
         4 000753   000061 236000 5                  LDQ     49
         4 000754   200300 756100                    STQ     ERRBUF+106,,AUTO
         4 000755   200300 630500                    EPPR0   ERRBUF+106,,AUTO
         4 000756   000000 220000 xsym               LDX0    DAF$WRITE
         4 000757   000060 631400 5                  EPPR1   48
         4 000760   000000 701010                    TSX1    0,X0
         4 000761   000000 011000                    NOP     0

PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:85   
      501     9746    3             VECTOR(KNA$SSN.THRTLVL.STR),
      502     9747    3             VECTOR(KNA$SSN.BLKREC.BLK#),
      503     9748    3             VECTOR(KNA$SSN.BLKREC.REC#));
      504     9749    3           END;

      505     9750
      506     9751
      507     9752    2   END DISP_SSN;

   9752  4 000762   200210 221300                    LDX1  ! ERRBUF+50,,AUTO
         4 000763   000001 702211                    TSX2  ! 1,X1
      508     9753
      509     9754    1   END DBD$SSN;
      510     9755        %EOD;

PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:86   
--  Include file information  --

   DA_ANLZ_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   KNA_MACRO_M.:E05TOU  is referenced.
   G$BOBCAT_M.:E05TOU  is referenced.
   GH_SCHD_M.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure DBD$SSN.
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:87   

 **** Variables and constants ****

  ****  Section 001  Data  DBD$SSN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   150-0-0/d STRC(936)   r     1 FPT_ERRMSG               101-0-0/c STRC(1404)  r     1 SSNF_TEXT
     0-0-0/w STRC(288)   r     1 SSNRPT1                   17-0-0/w STRC(144)   r     1 SSNRPT1HD00
    50-0-0/w STRC(144)   r     1 SSNRPT1HD01               10-0-0/c STRC(234)   r     1 SSNRPT1TX00
    23-0-0/c STRC(729)   r     1 SSNRPT1TX01               54-0-0/c STRC(729)   r     1 SSNRPT1TX02

  ****  Section 002 RoData DBD$SSN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   227-0-0/c CHAR(19)    r     1 BAD_SSN_ADDR
   117-0-0/c CHAR(6)     r     1 G_EVENT_TXT(0:39)
   213-0-0/c CHAR(6)     r     1 KNA_SSNST_TXT(0:7)
    33-0-0/c CHAR(64)    r     1 SSNRPT2                   53-0-0/c CHAR(64)    r     1 SSNRPT3
     0-0-0/c CHAR(105)   r     1 SSN_FMT1                  73-0-0/c CHAR(79)    r     1 SSN_FMT2

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @TOP                     114-0-0/w UBIN        r     1 ACTION
   115-0-0/w UBIN        r     1 ENTRY_TYPE               123-0-0/b BIT         r     1 ERR
   126-0-0/c CHAR(200)   r     1 ERRBUF                   113-0-0/w UBIN        r     1 EVENT_INDX
     4-0-0/w STRC(1908)  r     1 G$BOBCAT                 116-0-0/w UBIN        r     1 HEADER0
   117-0-0/w UBIN        r     1 HEADER1                  107-0-0/w SBIN        r     1 I
    71-0-0/c STRC(450)   r     1 KNA$SSN                  106-0-0/w UBIN        r     1 PASS
   125-0-0/b STRC        r     1 SSNFLG                   120-0-0/w UBIN        r     1 SSN_DATA$
   122-0-0/w UBIN        r     1 SSN_SIZE                 112-0-0/w UBIN        r     1 STATE_INDX
   124-0-0/w PTR         r     1 T$                       121-0-0/w UBIN        r     1 THIS_SSN$
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:88   
    *0-0-0/w STRC(144)   r     1 TOP                      110-0-0/w UBIN        r     1 X

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(4)     r     1 BLANK_LINE                 0-0-0/w EPTR        r     1 DAF$WRITE
     0-0-0/w UBIN        r     1 DBD_FEPCTX_END$            0-0-0/w UBIN        r     1 DBD_FEPCTX_MAX#
     0-0-0/w UBIN        r     1 DBD_FEPCTX_START$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w UBIN        r     1 B$1WORD                    0-0-0N  NULL        r     1 M$DO
     0-0-0/w STRC(144)   r     1 OUT


   Procedure DBD$SSN requires 500 words for executable code.
   Procedure DBD$SSN requires 230 words of local(AUTO) storage.
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:89   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:90   
          MINI XREF LISTING

ACTION
      9546**DCL      9632<<ASSIGN   9647<<ASSIGN   9696>>IF
B$1WORD
      9593**DCL      9667--ASSIGN
BAD_SSN_ADDR
      9596**DCL      9686--CALL
BLANK_LINE
      9172**DCL      9732--CALL     9733--CALL
DAA$VALUE
      9266**DCL-ENT  9643--CALL
DAF$INIT
      9268**DCL-ENT  9706--CALL
DAF$WRITE
      9267**DCL      9657>>CALL     9660>>CALL     9686>>CALL     9725>>CALL     9732>>CALL     9733>>CALL
      9734>>CALL     9735>>CALL     9745>>CALL
DBD$KNINFO
      9275**DCL-ENT  9615--CALL     9622--CALL
DBD_FEPCTX_END$
      9562**DCL      9684>>IF
DBD_FEPCTX_MAX#
      9563**DCL      9635>>DOINDEX
DBD_FEPCTX_START$
      9561**DCL      9636>>ASSIGN   9684>>IF
DBM$GETBOBCAT
      9271**DCL-ENT  9611--CALL
DBM$GETMEM
      9270**DCL-ENT  9690--CALL
DBM$PACK2
      9273**DCL-ENT  9693--CALL     9709--CALL
DBM$PACK4
      9274**DCL-ENT  9614--CALL     9619--CALL
DISPLAY_LOOP
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:91   
      9632**LABEL    9648--GOTO
DISP_SSN
      9683**PROC     9637--CALL     9651--CALL
ENTRY_TYPE
      9547**DCL      9601<<ASSIGN   9605<<ASSIGN   9617>>IF
ERR
      9554**DCL      9661<<ASSIGN   9663>>IF       9666--ASSIGN
ERRBUF
      9592**DCL      9665--ASSIGN
EVENT_INDX
      9544**DCL      9709<>CALL     9710>>IF       9710<<ASSIGN   9725>>CALL
FPT_ERRMSG
      9576**DCL      9668<>CALL
FPT_ERRMSG.BUF_
      9576**DCL      9665<<ASSIGN
FPT_ERRMSG.CODE_
      9576**DCL      9667<<ASSIGN
FPT_ERRMSG.V
      9580**DCL      9576--DCLINIT
G$BOBCAT
      9487**DCL      9611<>CALL
G$BOBCAT.SSNDATA$
      9495**DCL      9614<>CALL     9619<>CALL
G_EVENT_TXT
      9454**DCL      9725--CALL
HEADER0
      9549**DCL      9608<<ASSIGN   9704>>IF       9707<<ASSIGN
HEADER1
      9550**DCL      9609<<ASSIGN   9730>>IF       9736<<ASSIGN
I
      9539**DCL      9635<<DOINDEX  9636>>ASSIGN
KNA$SSN
      9512**DCL      9610--ASSIGN   9690<>CALL     9690--CALL     9690--CALL
KNA$SSN.BLKREC.BLK#
      9534**DCL      9745--CALL
KNA$SSN.BLKREC.REC#
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:92   
      9534**DCL      9745--CALL
KNA$SSN.ERROR
      9524**DCL      9661>>ASSIGN   9725--CALL
KNA$SSN.EVENT
      9535**DCL      9745--CALL
KNA$SSN.FLAGS
      9512**DCL      9655>>ASSIGN   9725--CALL
KNA$SSN.IOPQ$
      9531**DCL      9725--CALL
KNA$SSN.IOPRD$
      9531**DCL      9725--CALL
KNA$SSN.LDCT$
      9526**DCL      9725--CALL
KNA$SSN.MARKER
      9535**DCL      9745--CALL
KNA$SSN.NUMDCBS
      9526**DCL      9725--CALL
KNA$SSN.REGRSN
      9534**DCL      9709<>CALL
KNA$SSN.RLCID.GENERATION
      9533**DCL      9725--CALL
KNA$SSN.RLCID.LDCTX
      9533**DCL      9725--CALL
KNA$SSN.RLCID.NODE
      9533**DCL      9725--CALL
KNA$SSN.RLCID.NODE#
      9533**DCL      9533--REDEF
KNA$SSN.STATE
      9534**DCL      9693<>CALL
KNA$SSN.THRTLVL.MAXNMBBYT
      9526**DCL      9745--CALL
KNA$SSN.THRTLVL.MAXNMBRCR
      9526**DCL      9745--CALL
KNA$SSN.THRTLVL.MAXRCRBYTSIZ
      9527**DCL      9745--CALL
KNA$SSN.THRTLVL.STR
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:93   
      9527**DCL      9745--CALL
KNA$SSN.USER#
      9534**DCL      9725--CALL
KNA_SSNST_TXT
      9472**DCL      9725--CALL
M$ERRMSG
      5564**DCL-ENT  9668--CALL
OUT
      9226**DCL      9643<>CALL
PASS
      9538**DCL      9628<<DOINDEX  9653>>IF       9686>>IF       9702>>IF
SSNFLG.F
      9558**DCL      9655<<ASSIGN   9657--CALL     9658<<ASSIGN   9658>>ASSIGN   9660--CALL
SSNF_TEXT
      9479**DCL      9657--CALL     9660--CALL
SSNF_TEXT.SREST
      9479**DCL      9656<<ASSIGN   9659<<ASSIGN
SSNRPT1
      9295**DCL      9706<>CALL
SSNRPT1HD00
      9362**DCL      9330--DCLINIT
SSNRPT1HD01
      9405**DCL      9377--DCLINIT
SSNRPT1TX00
      9338**DCL      9325--DCLINIT
SSNRPT1TX01
      9380**DCL      9370--DCLINIT
SSNRPT1TX02
      9423**DCL      9413--DCLINIT
SSNRPT2
      9434**DCL      9734--CALL
SSNRPT3
      9436**DCL      9735--CALL
SSN_DATA$
      9551**DCL      9614<>CALL     9615<>CALL     9619<>CALL     9620>>IF       9622<>CALL
SSN_FMT1
PL6.E3A0      #002=DBD$SSN File=DBD$FMT_KN.:E05TSI                               TUE 07/29/97 13:06 Page:94   
      9430**DCL      9725--CALL
SSN_FMT2
      9438**DCL      9745--CALL
SSN_SIZE
      9553**DCL      9610<<ASSIGN   9636>>ASSIGN
SSN_START
      9605**LABEL    9602--GOTO
STATE_INDX
      9543**DCL      9693<>CALL     9694>>IF       9694<<ASSIGN   9698>>IF       9725>>CALL
T$
      9555**DCL      9666<<ASSIGN   9667>>ASSIGN
THIS_SSN$
      9552**DCL      9636<<ASSIGN   9643<>CALL     9645>>IF       9684>>IF       9684>>IF       9690<>CALL
      9725--CALL     9745--CALL
TOP
      9181**DCL        10--PROC     9604--ENTRY
TOP.NSUBLKS
      9193**DCL      9630>>IF       9642>>DOINDEX  9653>>IF
TOP.SUBLK$
      9214**DCL      9643>>CALL
X
      9540**DCL      9642<<DOINDEX  9643>>CALL

PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:95   
      511        1        /*T***********************************************************/
      512        2        /*T*                                                         */
      513        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      514        4        /*T*                                                         */
      515        5        /*T***********************************************************/
      516        6
      517        7
      518        8        /*X* PLM=3,IND=5,ECU=0,ENU=0,MOC   */
      519        9
      520       10        /*F*     NAME: DBD$LDCT
      521       11                 PURPOSE: To format FEP LDCTs.
      522       12        */
      523       13
      524       14        DBD$LDCT: PROC(TOP);
      525       15
      526       16        %INCLUDE DB_PERR_C;
      527       34        %INCLUDE KI_CP6;
      528     1130        %INCLUDE G$BOBCAT_M;
      529     1150        %INCLUDE DA_FORMAT_C;
      530     1392        %INCLUDE DA_ANLZ_R;
      531     1405        %INCLUDE XU_MACRO_C;
      532     4511        %INCLUDE KN_DATA_M;
      533     6297        %INCLUDE NK$LDCT;
      534     6399
      535     6400        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
      536     6445        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
      537     6490
      538     6491    1   DCL DAA$VALUE ENTRY(3) ALTRET;
      539     6492    1   DCL DAF$WRITE EPTR SYMREF;
      540     6493    1   DCL DAF$INIT ENTRY(1) ALTRET;
      541     6494    1   DCL DAF$NEWPAGE ENTRY;
      542     6495    1   DCL DBM$GETBOBCAT ENTRY(1) ALTRET;
      543     6496    1   DCL DBM$GETMEM ENTRY(10) ALTRET;
      544     6497    1   DCL DBM$PACK1 ENTRY(2);
      545     6498    1   DCL DBM$PACK2 ENTRY(2);
      546     6499    1   DCL DBM$PACK4 ENTRY(2);
      547     6500    1   DCL DBD$KNINFO ENTRY(2) ALTRET;
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:96   
      548     6501
      549     6502        %REPORT (NAME=LDCT_RPT1,TRUNC=YES,TABDFLT=5,HEADER=YES,TITLE=
              6502            'FEP LDCT - Logical Device Control Tables');
      550     6568
      551     6569        %HEADER (LAST=NO,TEXT=
      552     6570        ' #   LDCT$ USR GEN     RLCID      STATE    CNTYP QUEUED REL UID/SSN$ UENTRY$');
      553     6612        %HEADER (TEXT=
      554     6613        '--- ------ --- ---  ------------  -------- ----- ------ --- -------- -------');
      555     6655
      556     6656    1   DCL 1 LDCT_FMT1 CHAR(0) CONSTANT INIT(
      557     6657    1   '%3D .%5ZH .%@2.16ZH %@3.8D  %@3.8ZD-%@3.8ZD-%@4.16ZD   %A %A   %A    %A   .%@5.32ZH
              6657          .%@5.32ZH');
      558     6658
      559     6659
      560     6660    1   DCL 1 LDCT_FMT1B CHAR(0) CONSTANT INIT(
      561     6661    1   '%3D .%5ZH .%@2.16ZH %@3.8D  %@3.8ZD-%@3.8ZD-%A   %A %A   %A    %A   .%@5.32ZH  .%@5
              6661        .32ZH');
      562     6662
      563     6663        %REPORT (NAME=LDCT_RPT2, TRUNC=YES, HEADER=YES);
      564     6729
      565     6730        %HEADER(LAST=NO, TEXT=
      566     6731        ' #   LDCT$  LNK$  T/L ID  CQPTR FLAGS       RESCODE  LDCTX');
      567     6773
      568     6774        %HEADER (TEXT=
      569     6775        '--- ------ ------ ------- ----- ---------- --------- -----');
      570     6817
      571     6818    1   DCL 1 LDCT_FMT2 CHAR(0) CONSTANT INIT(
      572     6819    1   '%3D .%5ZH .%@5.32ZH    %@4.16D .%@4.16ZH .%@4.16ZH %@4.16ZH %9A %@3.16D');
      573     6820
      574     6821
      575     6822
      576     6823        %G$BOBCAT (FPTN=G$BOBCAT,STCLASS=AUTO);
      577     6836        %KN$LDCT  (NAME=KN$LDCT,STCLASS=AUTO);
      578     7081
      579     7082    1   DCL 1 FLAGS,
      580     7083    1         2 W1 BIT(18) CALIGNED,
      581     7084    1         2 W2 BIT(18) CALIGNED;
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:97   
      582     7085    1   DCL STATE UBIN;
      583     7086    1   DCL CTYPE UBIN;
      584     7087    1   DCL RFLAGS UBIN;
      585     7088    1   DCL QUEUED CHAR(1);
      586     7089    1   DCL REL CHAR(1);
      587     7090    1   DCL RESCOD CHAR(9);
      588     7091    1   DCL A_CTYPE CHAR(4);
      589     7092    1   DCL LDCT_DATA$ UBIN;
      590     7093    1   DCL NDCT UBIN;
      591     7094    1   DCL LDCT$$ UBIN;                        /*addr(bobcat.ldct(0))*/
      592     7095    1   DCL DCT$$ UBIN;                         /*addr(bobcat.dct$(0))*/
      593     7096    1   DCL DCT$ UBIN;                          /*addr(this ldct)*/
      594     7097    1   DCL DCTX UBIN;                          /*index for this ldct*/
      595     7098    1   DCL SIZEW_LDCT UBIN;
      596     7099    1   DCL TX UBIN;
      597     7100
      598     7101    1   DCL PASS UBIN;
      599     7102    1   DCL ENTRY_TYPE UBIN;
      600     7103    1   DCL ACTION UBIN;
      601     7104    1   DCL HEADER0 UBIN;
      602     7105    1   DCL HEADER1 UBIN;
      603     7106
      604     7107        %KN_CNTYPE_TXT;
      605     7122        %KN_ST_TXT;
      606     7139        %NK_RESCOD_TXT;
      607     7155    1   DCL DBD_BOBCAT$ UBIN SYMREF;
      608     7156    1   DCL DBD_FEPCTX_END$ UBIN SYMREF;
      609     7157    1   DCL DBD_FEPCTX_START$ UBIN SYMREF;
      610     7158
      611     7159        %EJECT;
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:98   
      612     7160    1      ENTRY_TYPE=0/*display*/;
      613     7161    1      GOTO START_LDCT;
      614     7162
      615     7163    1   DBD$LDCT_CHECK: ENTRY(TOP);
      616     7164    1      ENTRY_TYPE=1/*check*/;
      617     7165
      618     7166    1   START_LDCT: ;
      619     7167    1      HEADER0 = 0;
      620     7168    1      HEADER1 = 0;
      621     7169
      622     7170    1      CALL DBM$GETBOBCAT(G$BOBCAT)
      623     7171    2      WHENALTRETURN DO; RETURN; END;
      624     7172
      625     7173    1      CALL DBM$PACK2(G$BOBCAT.LDCT#,NDCT);
      626     7174    1      CALL DBM$PACK4(G$BOBCAT.DCT$$,DCT$$);
      627     7175    1      CALL DBM$PACK4(G$BOBCAT.LDCTDATA$,LDCT_DATA$);
      628     7176    1      LDCT$$ = DCT$$ + 2*(NDCT+1);
      629     7177    1      SIZEW_LDCT = (SIZEC(KN$LDCT)+1) / 2;
      630     7178
      631     7179    1      IF (ENTRY_TYPE=1/*if check*/)
      632     7180    2      THEN DO;
      633     7181    2           CALL DBD$KNINFO(LDCT_DATA$,1);
      634     7182    2           RETURN;
      635     7183    2           END/*do if check*/;
      636     7184
      637     7185        %EJECT;
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:99   
      638     7186    1      CALL DBD$KNINFO(LDCT_DATA$,0);
      639     7187
      640     7188    2      DO PASS=0 TO 1;
      641     7189    2           IF TOP.NSUBLKS=0
      642     7190    3           THEN DO;
      643     7191    3                ACTION=1/*display if in use*/;
      644     7192
      645     7193    3   DISPLAY_LOOP: ;
      646     7194    4                DO DCTX=1 TO NDCT;
      647     7195    4                     CALL DISP_LDCT;
      648     7196    4                     END;
      649     7197    3                END;
      650     7198
      651     7199
      652     7200    3           ELSE DO;
      653     7201    4                DO TX=0 TO TOP.NSUBLKS-1;
      654     7202    4                     CALL DAA$VALUE(TOP.SUBLK$(TX)->OUT,DCTX)
      655     7203    5                     WHENRETURN DO;
      656     7204    5                          IF DCTX = 0
      657     7205    6                          THEN DO;
      658     7206    6                               ACTION=0/*display all*/;
      659     7207    6                               GOTO DISPLAY_LOOP;
      660     7208    6                               END;
      661     7209
      662     7210    5                          CALL DISP_LDCT;
      663     7211    5                          END/*whenreturn do*/;
      664     7212    4                     END/*do TX=0 to TOP*/;
      665     7213    3                END/*else do*/;
      666     7214    2           END/*do pass=0 to 1*/;
      667     7215
      668     7216    1      CALL DAF$WRITE(VECTOR(BLANK_LINE));
      669     7217    1      RETURN;
      670     7218
      671     7219        %EJECT;
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:100  
      672     7220    1   DISP_LDCT: PROC;
      673     7221
      674     7222    2      IF DCTX < DBD_BOBCAT$
      675     7223    3      THEN DO;
      676     7224    3           IF (DCTX > NDCT) THEN GOTO REPORT_BAD_LDCT;
      677     7225    3           CALL DBM$GETMEM(DCT$$+DCTX*2,DCT$,,4,,4)
      678     7226    4           WHENALTRETURN DO;
      679     7227    4                RETURN;
      680     7228    4                END;
      681     7229    3           CALL DBM$PACK4(DCT$,DCT$);
      682     7230
      683     7231    3           IF (DCT$=0) AND (ACTION=0)
      684     7232    4           THEN DO;
      685     7233    4                DCT$ = (LDCT$$ + (SIZEW_LDCT * (DCTX-1)) );
      686     7234    4                END;
      687     7235    3           END;
      688     7236
      689     7237    3      ELSE DO;
      690     7238    3           IF DCTX>DBD_FEPCTX_END$ OR DCTX<DBD_FEPCTX_START$
      691     7239    3           THEN GOTO REPORT_BAD_LDCT;
      692     7240    3           DCT$ = DCTX;
      693     7241    3           DCTX = 0;
      694     7242    3           END;
      695     7243
      696     7244    2      IF (ACTION=1/*display only if in use*/)
      697     7245    3      THEN DO;
      698     7246    3           IF DCT$=0 OR DCTX>=NDCT
      699     7247    4           THEN DO;
      700     7248    4                IF TOP.NSUBLKS>0
      701     7249    5                THEN DO;
      702     7250    5   REPORT_BAD_LDCT:  ;
      703     7251    5                     DA_ANLZERR=DBD_ERR|%BINBIT(E$DB_NO_LDCT,33);
      704     7252    5                     END;
      705     7253    4                RETURN;
      706     7254    4                END;
      707     7255    3           END/*do if not display all*/;
      708     7256        /*E*          ERROR:  DBD-E$DB_NO_LDCT
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:101  
      709     7257                      MESSAGE: Bad LDCT index or address.
      710     7258        */
      711     7259
      712     7260
      713     7261    2      CALL DBM$GETMEM(DCT$,KN$LDCT,,SIZEC(KN$LDCT),,SIZEC(KN$LDCT))
      714     7262    3      WHENALTRETURN DO;
      715     7263    3           RETURN;
      716     7264    3           END;
      717     7265
      718     7266    2      IF (DCTX=0/*if given an address*/)
      719     7267    3      THEN DO;
      720     7268    3           CALL DBM$PACK2(KN$LDCT.LDCTX,DCTX);
      721     7269    3           END;
      722     7270
      723     7271    2      CALL DBM$PACK1(KN$LDCT.CONN_TYPE,CTYPE);
      724     7272    2      CALL DBM$PACK1(KN$LDCT.STATE,STATE);
      725     7273    2      IF KN$LDCT.RESCOD <= %NK_RESCOD_HI#
      726     7274    2      THEN RESCOD = NK_RESCOD_TXT(KN$LDCT.RESCOD);
      727     7275    2      ELSE CALL BINCHAR(RESCOD,KN$LDCT.RESCOD);
      728     7276
      729     7277    2      IF STATE > 9 THEN STATE = 10;
      730     7278
      731     7279    2      IF (ACTION=1/*display only if in use*/)
      732     7280    3      THEN DO;
      733     7281    3           IF (CTYPE = 0) AND (KN$LDCT.FLAGS = '0'B)
      734     7282    3           THEN RETURN;
      735     7283    3           END;
      736     7284
      737     7285    2      IF PASS = 0
      738     7286    3      THEN DO;
      739     7287    3           IF HEADER0 = 0
      740     7288    4           THEN DO;
      741     7289    4                CALL DAF$INIT(LDCT_RPT1);
      742     7290    4                HEADER0 = 1;
      743     7291    4                END;
      744     7292
      745     7293    3           IF KN$LDCT.FLAGS.QUEUED = '1'B
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:102  
      746     7294    3           THEN QUEUED = 'Y';
      747     7295    3           ELSE QUEUED = 'N';
      748     7296
      749     7297    3           IF KN$LDCT.FLAGS.REL = '1'B
      750     7298    3           THEN REL = 'Y';
      751     7299    3           ELSE REL = 'N';
      752     7300
      753     7301    3           IF (CTYPE = %KN_CNTYPE_LINK) OR (CTYPE = %KN_CNTYPE_D00)
      754     7302    4           THEN DO;
      755     7303    4                CALL DBM$PACK2(KN$LDCT.RLCID.FLAGS,RFLAGS);
      756     7304    4                A_CTYPE = '????';
      757     7305
      758     7306    4                IF RFLAGS = 0
      759     7307    4                THEN A_CTYPE = 'zero';
      760     7308    4                ELSE IF RFLAGS = 32768
      761     7309    4                     THEN A_CTYPE = 'host';
      762     7310    4                     ELSE IF RFLAGS = 16384
      763     7311    4                          THEN A_CTYPE = 'vcir';
      764     7312
      765     7313    4                CALL DAF$WRITE(VECTOR(LDCT_FMT1B),
      766     7314    4                  VECTOR(DCTX),
      767     7315    4                  VECTOR(DCT$),
      768     7316    4                  VECTOR(KN$LDCT.USER#),
      769     7317    4                  VECTOR(KN$LDCT.GENERATION),
      770     7318    4                  VECTOR(KN$LDCT.RLCID.NODE),
      771     7319    4                  VECTOR(KN$LDCT.RLCID.GENERATION),
      772     7320    4                  VECTOR(A_CTYPE),
      773     7321    4                  VECTOR(KN_ST_TXT(STATE)),
      774     7322    4                  VECTOR(KN_CONTYPE_TXT(CTYPE)),
      775     7323    4                  VECTOR(QUEUED),
      776     7324    4                  VECTOR(REL),
      777     7325    4                  VECTOR(KN$LDCT.UID),
      778     7326    4                  VECTOR(KN$LDCT.USER_ENTRY$) );
      779     7327    4                END;
      780     7328
      781     7329    4           ELSE DO;
      782     7330    4                CALL DAF$WRITE(VECTOR(LDCT_FMT1),
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:103  
      783     7331    4                  VECTOR(DCTX),
      784     7332    4                  VECTOR(DCT$),
      785     7333    4                  VECTOR(KN$LDCT.USER#),
      786     7334    4                  VECTOR(KN$LDCT.GENERATION),
      787     7335    4                  VECTOR(KN$LDCT.RLCID.NODE),
      788     7336    4                  VECTOR(KN$LDCT.RLCID.GENERATION),
      789     7337    4                  VECTOR(KN$LDCT.RLCID.LDCTX),
      790     7338    4                  VECTOR(KN_ST_TXT(STATE)),
      791     7339    4                  VECTOR(KN_CONTYPE_TXT(CTYPE)),
      792     7340    4                  VECTOR(QUEUED),
      793     7341    4                  VECTOR(REL),
      794     7342    4                  VECTOR(KN$LDCT.UID),
      795     7343    4                  VECTOR(KN$LDCT.USER_ENTRY$) );
      796     7344    4                END;
      797     7345    3           END/*pass 0*/;
      798     7346
      799     7347
      800     7348    3      ELSE DO;
      801     7349    3           IF HEADER1 = 0
      802     7350    4           THEN DO;
      803     7351    4                CALL DAF$WRITE(VECTOR(BLANK_LINE));
      804     7352    4                CALL DAF$WRITE(VECTOR(LDCT_RPT2TX00.C));
      805     7353    4                CALL DAF$WRITE(VECTOR(LDCT_RPT2TX01.C));
      806     7354    4                HEADER1 = 1;
      807     7355    4                END;
      808     7356
      809     7357    3           FLAGS = KN$LDCT.FLAGS;
      810     7358    3           CALL DAF$WRITE(VECTOR(LDCT_FMT2),
      811     7359    3             VECTOR(DCTX),
      812     7360    3             VECTOR(DCT$),
      813     7361    3             VECTOR(KN$LDCT.LNK$),
      814     7362    3             VECTOR(KN$LDCT.TRANSPORT_ID),
      815     7363    3             VECTOR(KN$LDCT.CQPTR),
      816     7364    3             VECTOR(FLAGS.W1),
      817     7365    3             VECTOR(FLAGS.W2),
      818     7366    3             VECTOR(RESCOD),
      819     7367    3             VECTOR(KN$LDCT.LDCTX));
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:104  
      820     7368    3           END/*pass 1*/;
      821     7369    2      RETURN;
      822     7370
      823     7371    2   END DISP_LDCT;
      824     7372
      825     7373    1   END DBD$LDCT;
      826     7374        %EOD;

PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:105  
--  Include file information  --

   NK$LDCT.:E05TOU  is referenced.
   KN_DATA_M.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   DA_ANLZ_R.:E05TOU  cannot be made into a system file and is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   G$BOBCAT_M.:E05TOU  is referenced.
   KI_CP6.:E05TOU  is referenced.
   DB_PERR_C.:E05TOU  is referenced.
      No diagnostics issued in procedure DBD$LDCT.

   Procedure DBD$LDCT requires 694 words for executable code.
   Procedure DBD$LDCT requires 180 words of local(AUTO) storage.

PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:106  

 Object Unit name= DBD$LDCT                                   File name= DBD$FMT_KN.:E05TOU
 UTS= JUL 29 '97 13:06:20.96 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none   113    161  DBD$LDCT
    1  RoData even  UTS    133    205  DBD$LDCT
    2   Proc  even  none   694   1266  DBD$LDCT
    3  RoData even  none    44     54  DBD$LDCT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes            yes      Std        1  DBD$LDCT
     2      4                  yes      Std        1  DBD$LDCT_CHECK

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       1 DBM$GETBOBCAT
         yes           Std       2 DBM$PACK2
         yes           Std       2 DBM$PACK4
 yes     yes           Std       2 DBD$KNINFO
 yes     yes           Std       3 DAA$VALUE
 yes     yes           Std      10 DBM$GETMEM
         yes           Std       2 DBM$PACK1
 yes     yes           Std       1 DAF$INIT
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:107  

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     DA_ANLZERR                            DBD_ERR                          r    BLANK_LINE
     DAF$WRITE                             DBD_BOBCAT$                           DBD_FEPCTX_END$
     DBD_FEPCTX_START$                     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:108  


      511        1        /*T***********************************************************/
      512        2        /*T*                                                         */
      513        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      514        4        /*T*                                                         */
      515        5        /*T***********************************************************/
      516        6
      517        7
      518        8        /*X* PLM=3,IND=5,ECU=0,ENU=0,MOC   */
      519        9
      520       10        /*F*     NAME: DBD$LDCT
      521       11                 PURPOSE: To format FEP LDCTs.
      522       12        */
      523       13
      524       14        DBD$LDCT: PROC(TOP);

     14  2 000000   000000 700200 xent  DBD$LDCT     TSX0  ! X66_AUTO_1
         2 000001   000264 000001                    ZERO    180,1

      525       15
      526       16        %INCLUDE DB_PERR_C;
      527       34        %INCLUDE KI_CP6;
      528     1130        %INCLUDE G$BOBCAT_M;
      529     1150        %INCLUDE DA_FORMAT_C;
      530     1392        %INCLUDE DA_ANLZ_R;
      531     1405        %INCLUDE XU_MACRO_C;
      532     4511        %INCLUDE KN_DATA_M;
      533     6297        %INCLUDE NK$LDCT;
      534     6399
      535     6400        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
      536     6445        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
      537     6490
      538     6491    1   DCL DAA$VALUE ENTRY(3) ALTRET;
      539     6492    1   DCL DAF$WRITE EPTR SYMREF;
      540     6493    1   DCL DAF$INIT ENTRY(1) ALTRET;
      541     6494    1   DCL DAF$NEWPAGE ENTRY;
      542     6495    1   DCL DBM$GETBOBCAT ENTRY(1) ALTRET;
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:109  
      543     6496    1   DCL DBM$GETMEM ENTRY(10) ALTRET;
      544     6497    1   DCL DBM$PACK1 ENTRY(2);
      545     6498    1   DCL DBM$PACK2 ENTRY(2);
      546     6499    1   DCL DBM$PACK4 ENTRY(2);
      547     6500    1   DCL DBD$KNINFO ENTRY(2) ALTRET;
      548     6501
      549     6502        %REPORT (NAME=LDCT_RPT1,TRUNC=YES,TABDFLT=5,HEADER=YES,TITLE=
              6502            'FEP LDCT - Logical Device Control Tables');
      550     6568
      551     6569        %HEADER (LAST=NO,TEXT=
      552     6570        ' #   LDCT$ USR GEN     RLCID      STATE    CNTYP QUEUED REL UID/SSN$ UENTRY$');
      553     6612        %HEADER (TEXT=
      554     6613        '--- ------ --- ---  ------------  -------- ----- ------ --- -------- -------');
      555     6655
      556     6656    1   DCL 1 LDCT_FMT1 CHAR(0) CONSTANT INIT(
      557     6657    1   '%3D .%5ZH .%@2.16ZH %@3.8D  %@3.8ZD-%@3.8ZD-%@4.16ZD   %A %A   %A    %A  .%@5.32ZH
              6657          .%@5.32ZH');
      558     6658
      559     6659
      560     6660    1   DCL 1 LDCT_FMT1B CHAR(0) CONSTANT INIT(
      561     6661    1   '%3D .%5ZH .%@2.16ZH %@3.8D  %@3.8ZD-%@3.8ZD-%A   %A %A   %A    %A   .%@5.32ZH .%@5
              6661        .32ZH');
      562     6662
      563     6663        %REPORT (NAME=LDCT_RPT2, TRUNC=YES, HEADER=YES);
      564     6729
      565     6730        %HEADER(LAST=NO, TEXT=
      566     6731        ' #   LDCT$  LNK$  T/L ID  CQPTR FLAGS       RESCODE  LDCTX');
      567     6773
      568     6774        %HEADER (TEXT=
      569     6775        '--- ------ ------ ------- ----- ---------- --------- -----');
      570     6817
      571     6818    1   DCL 1 LDCT_FMT2 CHAR(0) CONSTANT INIT(
      572     6819    1   '%3D .%5ZH .%@5.32ZH    %@4.16D .%@4.16ZH .%@4.16ZH %@4.16ZH %9A %@3.16D');
      573     6820
      574     6821
      575     6822
      576     6823        %G$BOBCAT (FPTN=G$BOBCAT,STCLASS=AUTO);
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:110  
      577     6836        %KN$LDCT  (NAME=KN$LDCT,STCLASS=AUTO);
      578     7081
      579     7082    1   DCL 1 FLAGS,
      580     7083    1         2 W1 BIT(18) CALIGNED,
      581     7084    1         2 W2 BIT(18) CALIGNED;
      582     7085    1   DCL STATE UBIN;
      583     7086    1   DCL CTYPE UBIN;
      584     7087    1   DCL RFLAGS UBIN;
      585     7088    1   DCL QUEUED CHAR(1);
      586     7089    1   DCL REL CHAR(1);
      587     7090    1   DCL RESCOD CHAR(9);
      588     7091    1   DCL A_CTYPE CHAR(4);
      589     7092    1   DCL LDCT_DATA$ UBIN;
      590     7093    1   DCL NDCT UBIN;
      591     7094    1   DCL LDCT$$ UBIN;                        /*addr(bobcat.ldct(0))*/
      592     7095    1   DCL DCT$$ UBIN;                         /*addr(bobcat.dct$(0))*/
      593     7096    1   DCL DCT$ UBIN;                          /*addr(this ldct)*/
      594     7097    1   DCL DCTX UBIN;                          /*index for this ldct*/
      595     7098    1   DCL SIZEW_LDCT UBIN;
      596     7099    1   DCL TX UBIN;
      597     7100
      598     7101    1   DCL PASS UBIN;
      599     7102    1   DCL ENTRY_TYPE UBIN;
      600     7103    1   DCL ACTION UBIN;
      601     7104    1   DCL HEADER0 UBIN;
      602     7105    1   DCL HEADER1 UBIN;
      603     7106
      604     7107        %KN_CNTYPE_TXT;
      605     7122        %KN_ST_TXT;
      606     7139        %NK_RESCOD_TXT;
      607     7155    1   DCL DBD_BOBCAT$ UBIN SYMREF;
      608     7156    1   DCL DBD_FEPCTX_END$ UBIN SYMREF;
      609     7157    1   DCL DBD_FEPCTX_START$ UBIN SYMREF;
      610     7158
      611     7159        %EJECT;
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:111  
      612     7160    1      ENTRY_TYPE=0/*display*/;

   7160  2 000002   200124 450100                    STZ     ENTRY_TYPE,,AUTO

      613     7161    1      GOTO START_LDCT;

   7161  2 000003   000010 710000 2                  TRA     START_LDCT

      614     7162
      615     7163    1   DBD$LDCT_CHECK: ENTRY(TOP);

   7163  2 000004   000000 700200 xent  DBD$LDCT_CH* TSX0  ! X66_AUTO_1
         2 000005   000264 000001                    ZERO    180,1

      616     7164    1      ENTRY_TYPE=1/*check*/;

   7164  2 000006   000001 235007                    LDA     1,DL
         2 000007   200124 755100                    STA     ENTRY_TYPE,,AUTO

   7164  2 000010                       START_LDCT   null
      617     7165
      618     7166    1   START_LDCT: ;
      619     7167    1      HEADER0 = 0;

   7167  2 000010   200126 450100                    STZ     HEADER0,,AUTO

      620     7168    1      HEADER1 = 0;

   7168  2 000011   200127 450100                    STZ     HEADER1,,AUTO

      621     7169
      622     7170    1      CALL DBM$GETBOBCAT(G$BOBCAT)

   7170  2 000012   200004 630500                    EPPR0   G$BOBCAT,,AUTO
         2 000013   200132 450500                    STP0    HEADER1+3,,AUTO
         2 000014   200132 630500                    EPPR0   HEADER1+3,,AUTO
         2 000015   000017 631400 xsym               EPPR1   B_VECTNIL+15
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:112  
         2 000016   000000 701000 xent               TSX1    DBM$GETBOBCAT
         2 000017   000021 702000 2                  TSX2    s:7171
         2 000020   000022 710000 2                  TRA     s:7173

      623     7171    2      WHENALTRETURN DO; RETURN; END;

   7171  2 000021   000000 702200 xent               TSX2  ! X66_ARET

      624     7172
      625     7173    1      CALL DBM$PACK2(G$BOBCAT.LDCT#,NDCT);

   7173  2 000022   200114 630500                    EPPR0   NDCT,,AUTO
         2 000023   200133 450500                    STP0    HEADER1+4,,AUTO
         2 000024   200014 631500                    EPPR1   G$BOBCAT+8,,AUTO
         2 000025   200132 451500                    STP1    HEADER1+3,,AUTO
         2 000026   200132 630500                    EPPR0   HEADER1+3,,AUTO
         2 000027   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000030   000000 701000 xent               TSX1    DBM$PACK2
         2 000031   000000 011000                    NOP     0

      626     7174    1      CALL DBM$PACK4(G$BOBCAT.DCT$$,DCT$$);

   7174  2 000032   200116 630500                    EPPR0   DCT$$,,AUTO
         2 000033   200133 450500                    STP0    HEADER1+4,,AUTO
         2 000034   200026 631500                    EPPR1   G$BOBCAT+18,,AUTO
         2 000035   200132 451500                    STP1    HEADER1+3,,AUTO
         2 000036   200132 630500                    EPPR0   HEADER1+3,,AUTO
         2 000037   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000040   000000 701000 xent               TSX1    DBM$PACK4
         2 000041   000000 011000                    NOP     0

      627     7175    1      CALL DBM$PACK4(G$BOBCAT.LDCTDATA$,LDCT_DATA$);

   7175  2 000042   200113 630500                    EPPR0   LDCT_DATA$,,AUTO
         2 000043   200133 450500                    STP0    HEADER1+4,,AUTO
         2 000044   200047 631500                    EPPR1   G$BOBCAT+35,,AUTO
         2 000045   200132 451500                    STP1    HEADER1+3,,AUTO
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:113  
         2 000046   200132 630500                    EPPR0   HEADER1+3,,AUTO
         2 000047   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000050   000000 701000 xent               TSX1    DBM$PACK4
         2 000051   000000 011000                    NOP     0

      628     7176    1      LDCT$$ = DCT$$ + 2*(NDCT+1);

   7176  2 000052   200114 236100                    LDQ     NDCT,,AUTO
         2 000053   000001 736000                    QLS     1
         2 000054   200116 036100                    ADLQ    DCT$$,,AUTO
         2 000055   000002 036007                    ADLQ    2,DL
         2 000056   200115 756100                    STQ     LDCT$$,,AUTO

      629     7177    1      SIZEW_LDCT = (SIZEC(KN$LDCT)+1) / 2;

   7177  2 000057   000020 235007                    LDA     16,DL
         2 000060   200121 755100                    STA     SIZEW_LDCT,,AUTO

      630     7178
      631     7179    1      IF (ENTRY_TYPE=1/*if check*/)

   7179  2 000061   200124 235100                    LDA     ENTRY_TYPE,,AUTO
         2 000062   000001 115007                    CMPA    1,DL
         2 000063   000075 601000 2                  TNZ     s:7186

      632     7180    2      THEN DO;

      633     7181    2           CALL DBD$KNINFO(LDCT_DATA$,1);

   7181  2 000064   000000 236000 3                  LDQ     0
         2 000065   200133 756100                    STQ     HEADER1+4,,AUTO
         2 000066   200113 630500                    EPPR0   LDCT_DATA$,,AUTO
         2 000067   200132 450500                    STP0    HEADER1+3,,AUTO
         2 000070   200132 630500                    EPPR0   HEADER1+3,,AUTO
         2 000071   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000072   000000 701000 xent               TSX1    DBD$KNINFO
         2 000073   000000 011000                    NOP     0
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:114  

      634     7182    2           RETURN;

   7182  2 000074   000000 702200 xent               TSX2  ! X66_ARET

      635     7183    2           END/*do if check*/;
      636     7184
      637     7185        %EJECT;
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:115  
      638     7186    1      CALL DBD$KNINFO(LDCT_DATA$,0);

   7186  2 000075   000001 236000 3                  LDQ     1
         2 000076   200133 756100                    STQ     HEADER1+4,,AUTO
         2 000077   200113 630500                    EPPR0   LDCT_DATA$,,AUTO
         2 000100   200132 450500                    STP0    HEADER1+3,,AUTO
         2 000101   200132 630500                    EPPR0   HEADER1+3,,AUTO
         2 000102   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000103   000000 701000 xent               TSX1    DBD$KNINFO
         2 000104   000000 011000                    NOP     0

      639     7187
      640     7188    2      DO PASS=0 TO 1;

   7188  2 000105   200123 450100                    STZ     PASS,,AUTO

      641     7189    2           IF TOP.NSUBLKS=0

   7189  2 000106   200003 470500                    LDP0    @TOP,,AUTO
         2 000107   000001 220100                    LDX0    1,,PR0
         2 000110   000127 601000 2                  TNZ     s:7201

      642     7190    3           THEN DO;

      643     7191    3                ACTION=1/*display if in use*/;

   7191  2 000111   000001 235007                    LDA     1,DL
         2 000112   200125 755100                    STA     ACTION,,AUTO

   7191  2 000113                       DISPLAY_LOOP null
      644     7192
      645     7193    3   DISPLAY_LOOP: ;
      646     7194    4                DO DCTX=1 TO NDCT;

   7194  2 000113   000001 235007                    LDA     1,DL
         2 000114   200120 755100                    STA     DCTX,,AUTO
         2 000115   000123 710000 2                  TRA     s:7196+3
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:116  

      647     7195    4                     CALL DISP_LDCT;

   7195  2 000116   000175 701000 2                  TSX1    DISP_LDCT
         2 000117   000000 011000                    NOP     0

      648     7196    4                     END;

   7196  2 000120   200120 235100                    LDA     DCTX,,AUTO
         2 000121   000001 035007                    ADLA    1,DL
         2 000122   200120 755100                    STA     DCTX,,AUTO
         2 000123   200114 236100                    LDQ     NDCT,,AUTO
         2 000124   200120 116100                    CMPQ    DCTX,,AUTO
         2 000125   000116 603000 2                  TRC     s:7195

      649     7197    3                END;

   7197  2 000126   000162 710000 2                  TRA     s:7214

      650     7198
      651     7199
      652     7200    3           ELSE DO;

      653     7201    4                DO TX=0 TO TOP.NSUBLKS-1;

   7201  2 000127   200122 450100                    STZ     TX,,AUTO
         2 000130   000154 710000 2                  TRA     s:7212+3

      654     7202    4                     CALL DAA$VALUE(TOP.SUBLK$(TX)->OUT,DCTX)

   7202  2 000131   200003 470500                    LDP0    @TOP,,AUTO
         2 000132   200122 720100                    LXL0    TX,,AUTO
         2 000133   000003 471510                    LDP1    3,X0,PR0
         2 000134   200120 633500                    EPPR3   DCTX,,AUTO
         2 000135   200133 453500                    STP3    HEADER1+4,,AUTO
         2 000136   200132 451500                    STP1    HEADER1+3,,AUTO
         2 000137   200132 630500                    EPPR0   HEADER1+3,,AUTO
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:117  
         2 000140   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000141   000000 701000 xent               TSX1    DAA$VALUE
         2 000142   000151 702000 2                  TSX2    s:7212

      655     7203    5                     WHENRETURN DO;

      656     7204    5                          IF DCTX = 0

   7204  2 000143   200120 235100                    LDA     DCTX,,AUTO
         2 000144   000147 601000 2                  TNZ     s:7210

      657     7205    6                          THEN DO;

      658     7206    6                               ACTION=0/*display all*/;

   7206  2 000145   200125 450100                    STZ     ACTION,,AUTO

      659     7207    6                               GOTO DISPLAY_LOOP;

   7207  2 000146   000113 710000 2                  TRA     DISPLAY_LOOP

      660     7208    6                               END;
      661     7209
      662     7210    5                          CALL DISP_LDCT;

   7210  2 000147   000175 701000 2                  TSX1    DISP_LDCT
         2 000150   000000 011000                    NOP     0

      663     7211    5                          END/*whenreturn do*/;

      664     7212    4                     END/*do TX=0 to TOP*/;

   7212  2 000151   200122 235100                    LDA     TX,,AUTO
         2 000152   000001 035007                    ADLA    1,DL
         2 000153   200122 755100                    STA     TX,,AUTO
         2 000154   200003 470500                    LDP0    @TOP,,AUTO
         2 000155   000001 236100                    LDQ     1,,PR0
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:118  
         2 000156   000022 772000                    QRL     18
         2 000157   200122 116100                    CMPQ    TX,,AUTO
         2 000160   000162 600000 2                  TZE     s:7214
         2 000161   000131 603000 2                  TRC     s:7202

      665     7213    3                END/*else do*/;

      666     7214    2           END/*do pass=0 to 1*/;

   7214  2 000162   200123 235100                    LDA     PASS,,AUTO
         2 000163   000001 035007                    ADLA    1,DL
         2 000164   200123 755100                    STA     PASS,,AUTO
         2 000165   000002 115007                    CMPA    2,DL
         2 000166   000106 602000 2                  TNC     s:7189

      667     7215
      668     7216    1      CALL DAF$WRITE(VECTOR(BLANK_LINE));

   7216  2 000167   000004 630400 3                  EPPR0   4
         2 000170   000000 220000 xsym               LDX0    DAF$WRITE
         2 000171   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000172   000000 701010                    TSX1    0,X0
         2 000173   000000 011000                    NOP     0

      669     7217    1      RETURN;

   7217  2 000174   000000 702200 xent               TSX2  ! X66_ARET

      670     7218
      671     7219        %EJECT;
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:119  
      672     7220    1   DISP_LDCT: PROC;

   7220  2 000175   200130 741300       DISP_LDCT    STX1  ! HEADER1+1,,AUTO

      673     7221
      674     7222    2      IF DCTX < DBD_BOBCAT$

   7222  2 000176   200120 236100                    LDQ     DCTX,,AUTO
         2 000177   000000 116000 xsym               CMPQ    DBD_BOBCAT$
         2 000200   000252 603000 2                  TRC     s:7238

      675     7223    3      THEN DO;

      676     7224    3           IF (DCTX > NDCT) THEN GOTO REPORT_BAD_LDCT;

   7224  2 000201   200114 116100                    CMPQ    NDCT,,AUTO
         2 000202   000204 600000 2                  TZE     s:7225
         2 000203   000274 603000 2                  TRC     REPORT_BAD_LDCT

      677     7225    3           CALL DBM$GETMEM(DCT$$+DCTX*2,DCT$,,4,,4)

   7225  2 000204   000001 736000                    QLS     1
         2 000205   200116 036100                    ADLQ    DCT$$,,AUTO
         2 000206   200132 756100                    STQ     HEADER1+3,,AUTO
         2 000207   000005 236000 3                  LDQ     5
         2 000210   000001 235000 xsym               LDA     B_VECTNIL+1
         2 000211   200140 757100                    STAQ    HEADER1+9,,AUTO
         2 000212   000005 236000 3                  LDQ     5
         2 000213   000001 235000 xsym               LDA     B_VECTNIL+1
         2 000214   200136 757100                    STAQ    HEADER1+7,,AUTO
         2 000215   200117 630500                    EPPR0   DCT$,,AUTO
         2 000216   200135 450500                    STP0    HEADER1+6,,AUTO
         2 000217   200132 631500                    EPPR1   HEADER1+3,,AUTO
         2 000220   200134 451500                    STP1    HEADER1+5,,AUTO
         2 000221   200134 630500                    EPPR0   HEADER1+5,,AUTO
         2 000222   000024 631400 xsym               EPPR1   B_VECTNIL+20
         2 000223   000000 701000 xent               TSX1    DBM$GETMEM
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:120  
         2 000224   000226 702000 2                  TSX2    s:7227
         2 000225   000230 710000 2                  TRA     s:7229

      678     7226    4           WHENALTRETURN DO;

      679     7227    4                RETURN;

   7227  2 000226   200130 221300                    LDX1  ! HEADER1+1,,AUTO
         2 000227   000001 702211                    TSX2  ! 1,X1

      680     7228    4                END;
      681     7229    3           CALL DBM$PACK4(DCT$,DCT$);

   7229  2 000230   200117 630500                    EPPR0   DCT$,,AUTO
         2 000231   200133 450500                    STP0    HEADER1+4,,AUTO
         2 000232   200117 631500                    EPPR1   DCT$,,AUTO
         2 000233   200132 451500                    STP1    HEADER1+3,,AUTO
         2 000234   200132 630500                    EPPR0   HEADER1+3,,AUTO
         2 000235   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000236   000000 701000 xent               TSX1    DBM$PACK4
         2 000237   000000 011000                    NOP     0

      682     7230
      683     7231    3           IF (DCT$=0) AND (ACTION=0)

   7231  2 000240   200117 235100                    LDA     DCT$,,AUTO
         2 000241   000261 601000 2                  TNZ     s:7244
         2 000242   200125 236100                    LDQ     ACTION,,AUTO
         2 000243   000261 601000 2                  TNZ     s:7244

      684     7232    4           THEN DO;

      685     7233    4                DCT$ = (LDCT$$ + (SIZEW_LDCT * (DCTX-1)) );

   7233  2 000244   200120 236100                    LDQ     DCTX,,AUTO
         2 000245   000001 136007                    SBLQ    1,DL
         2 000246   200121 402100                    MPY     SIZEW_LDCT,,AUTO
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:121  
         2 000247   200115 036100                    ADLQ    LDCT$$,,AUTO
         2 000250   200117 756100                    STQ     DCT$,,AUTO

      686     7234    4                END;

      687     7235    3           END;

   7235  2 000251   000261 710000 2                  TRA     s:7244

      688     7236
      689     7237    3      ELSE DO;

      690     7238    3           IF DCTX>DBD_FEPCTX_END$ OR DCTX<DBD_FEPCTX_START$

   7238  2 000252   000000 116000 xsym               CMPQ    DBD_FEPCTX_END$
         2 000253   000255 600000 2                  TZE     s:7238+3
         2 000254   000274 603000 2                  TRC     REPORT_BAD_LDCT
         2 000255   000000 116000 xsym               CMPQ    DBD_FEPCTX_START$
         2 000256   000274 602000 2                  TNC     REPORT_BAD_LDCT

      691     7239    3           THEN GOTO REPORT_BAD_LDCT;
      692     7240    3           DCT$ = DCTX;

   7240  2 000257   200117 756100                    STQ     DCT$,,AUTO

      693     7241    3           DCTX = 0;

   7241  2 000260   200120 450100                    STZ     DCTX,,AUTO

      694     7242    3           END;

      695     7243
      696     7244    2      IF (ACTION=1/*display only if in use*/)

   7244  2 000261   200125 235100                    LDA     ACTION,,AUTO
         2 000262   000001 115007                    CMPA    1,DL
         2 000263   000301 601000 2                  TNZ     s:7261
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:122  

      697     7245    3      THEN DO;

      698     7246    3           IF DCT$=0 OR DCTX>=NDCT

   7246  2 000264   200117 236100                    LDQ     DCT$,,AUTO
         2 000265   000271 600000 2                  TZE     s:7248
         2 000266   200120 236100                    LDQ     DCTX,,AUTO
         2 000267   200114 116100                    CMPQ    NDCT,,AUTO
         2 000270   000301 602000 2                  TNC     s:7261

      699     7247    4           THEN DO;

      700     7248    4                IF TOP.NSUBLKS>0

   7248  2 000271   200003 470500                    LDP0    @TOP,,AUTO
         2 000272   000001 220100                    LDX0    1,,PR0
         2 000273   000277 600000 2                  TZE     s:7253

      701     7249    5                THEN DO;

   7247  2 000274                       REPORT_BAD_* null
      702     7250    5   REPORT_BAD_LDCT:  ;
      703     7251    5                     DA_ANLZERR=DBD_ERR|%BINBIT(E$DB_NO_LDCT,33);

   7251  2 000274   000200 236000 1                  LDQ     NK_RESCOD_TXT+34
         2 000275   000000 276000 xsym               ORQ     DBD_ERR
         2 000276   000000 756000 xsym               STQ     DA_ANLZERR

      704     7252    5                     END;

      705     7253    4                RETURN;

   7253  2 000277   200130 221300                    LDX1  ! HEADER1+1,,AUTO
         2 000300   000001 702211                    TSX2  ! 1,X1

      706     7254    4                END;
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:123  
      707     7255    3           END/*do if not display all*/;
      708     7256        /*E*          ERROR:  DBD-E$DB_NO_LDCT
      709     7257                      MESSAGE: Bad LDCT index or address.
      710     7258        */
      711     7259
      712     7260
      713     7261    2      CALL DBM$GETMEM(DCT$,KN$LDCT,,SIZEC(KN$LDCT),,SIZEC(KN$LDCT))

   7261  2 000301   000007 236000 3                  LDQ     7
         2 000302   000001 235000 xsym               LDA     B_VECTNIL+1
         2 000303   200136 757100                    STAQ    HEADER1+7,,AUTO
         2 000304   000007 236000 3                  LDQ     7
         2 000305   000001 235000 xsym               LDA     B_VECTNIL+1
         2 000306   200134 757100                    STAQ    HEADER1+5,,AUTO
         2 000307   200071 630500                    EPPR0   KN$LDCT,,AUTO
         2 000310   200133 450500                    STP0    HEADER1+4,,AUTO
         2 000311   200117 631500                    EPPR1   DCT$,,AUTO
         2 000312   200132 451500                    STP1    HEADER1+3,,AUTO
         2 000313   200132 630500                    EPPR0   HEADER1+3,,AUTO
         2 000314   000024 631400 xsym               EPPR1   B_VECTNIL+20
         2 000315   000000 701000 xent               TSX1    DBM$GETMEM
         2 000316   000320 702000 2                  TSX2    s:7263
         2 000317   000322 710000 2                  TRA     s:7266

      714     7262    3      WHENALTRETURN DO;

      715     7263    3           RETURN;

   7263  2 000320   200130 221300                    LDX1  ! HEADER1+1,,AUTO
         2 000321   000001 702211                    TSX2  ! 1,X1

      716     7264    3           END;
      717     7265
      718     7266    2      IF (DCTX=0/*if given an address*/)

   7266  2 000322   200120 235100                    LDA     DCTX,,AUTO
         2 000323   000336 601000 2                  TNZ     s:7271
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:124  

      719     7267    3      THEN DO;

      720     7268    3           CALL DBM$PACK2(KN$LDCT.LDCTX,DCTX);

   7268  2 000324   200120 630500                    EPPR0   DCTX,,AUTO
         2 000325   200133 450500                    STP0    HEADER1+4,,AUTO
         2 000326   200134 452500                    STP2    HEADER1+5,,AUTO
         2 000327   200134 236100                    LDQ     HEADER1+5,,AUTO
         2 000330   000010 036000 3                  ADLQ    8
         2 000331   200132 756100                    STQ     HEADER1+3,,AUTO
         2 000332   200132 630500                    EPPR0   HEADER1+3,,AUTO
         2 000333   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000334   000000 701000 xent               TSX1    DBM$PACK2
         2 000335   000000 011000                    NOP     0

      721     7269    3           END;

      722     7270
      723     7271    2      CALL DBM$PACK1(KN$LDCT.CONN_TYPE,CTYPE);

   7271  2 000336   200103 630500                    EPPR0   CTYPE,,AUTO
         2 000337   200133 450500                    STP0    HEADER1+4,,AUTO
         2 000340   200071 631500                    EPPR1   KN$LDCT,,AUTO
         2 000341   200132 451500                    STP1    HEADER1+3,,AUTO
         2 000342   200132 630500                    EPPR0   HEADER1+3,,AUTO
         2 000343   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000344   000000 701000 xent               TSX1    DBM$PACK1
         2 000345   000000 011000                    NOP     0

      724     7272    2      CALL DBM$PACK1(KN$LDCT.STATE,STATE);

   7272  2 000346   200102 630500                    EPPR0   STATE,,AUTO
         2 000347   200133 450500                    STP0    HEADER1+4,,AUTO
         2 000350   200134 452500                    STP2    HEADER1+5,,AUTO
         2 000351   200134 236100                    LDQ     HEADER1+5,,AUTO
         2 000352   000011 036000 3                  ADLQ    9
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:125  
         2 000353   200132 756100                    STQ     HEADER1+3,,AUTO
         2 000354   200132 630500                    EPPR0   HEADER1+3,,AUTO
         2 000355   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000356   000000 701000 xent               TSX1    DBM$PACK1
         2 000357   000000 011000                    NOP     0

      725     7273    2      IF KN$LDCT.RESCOD <= %NK_RESCOD_HI#

   7273  2 000360   200073 236100                    LDQ     KN$LDCT+2,,AUTO
         2 000361   000360 376003                    ANQ     240,DU
         2 000362   000360 116003                    CMPQ    240,DU
         2 000363   000374 603000 2                  TRC     s:7275

      726     7274    2      THEN RESCOD = NK_RESCOD_TXT(KN$LDCT.RESCOD);

   7274  2 000364   200073 236100                    LDQ     KN$LDCT+2,,AUTO
         2 000365   000026 772000                    QRL     22
         2 000366   000017 376007                    ANQ     15,DL
         2 000367   000011 402007                    MPY     9,DL
         2 000370   040100 100406                    MLR     fill='040'O
         2 000371   000136 000011 1                  ADSC9   NK_RESCOD_TXT,Q          cn=0,n=9
         2 000372   200107 000011                    ADSC9   RESCOD,,AUTO             cn=0,n=9
         2 000373   000404 710000 2                  TRA     s:7277

      727     7275    2      ELSE CALL BINCHAR(RESCOD,KN$LDCT.RESCOD);

   7275  2 000374   200073 236100                    LDQ     KN$LDCT+2,,AUTO
         2 000375   000026 772000                    QRL     22
         2 000376   000017 376007                    ANQ     15,DL
         2 000377   000000 235003                    LDA     0,DU
         2 000400   200132 757100                    STAQ    HEADER1+3,,AUTO
         2 000401   000100 301500                    BTD
         2 000402   200132 000010                    NDSC9   HEADER1+3,,AUTO          cn=0,s=lsgnf,sf=0,n=8
         2 000403   200107 030011                    NDSC9   RESCOD,,AUTO             cn=0,s=nosgn,sf=0,n=9

      728     7276
      729     7277    2      IF STATE > 9 THEN STATE = 10;
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:126  

   7277  2 000404   200102 235100                    LDA     STATE,,AUTO
         2 000405   000012 115007                    CMPA    10,DL
         2 000406   000411 602000 2                  TNC     s:7279

   7277  2 000407   000012 236007                    LDQ     10,DL
         2 000410   200102 756100                    STQ     STATE,,AUTO

      730     7278
      731     7279    2      IF (ACTION=1/*display only if in use*/)

   7279  2 000411   200125 235100                    LDA     ACTION,,AUTO
         2 000412   000001 115007                    CMPA    1,DL
         2 000413   000422 601000 2                  TNZ     s:7285

      732     7280    3      THEN DO;

      733     7281    3           IF (CTYPE = 0) AND (KN$LDCT.FLAGS = '0'B)

   7281  2 000414   200103 236100                    LDQ     CTYPE,,AUTO
         2 000415   000422 601000 2                  TNZ     s:7285
         2 000416   200076 235100                    LDA     KN$LDCT+5,,AUTO
         2 000417   000422 601000 2                  TNZ     s:7285

      734     7282    3           THEN RETURN;

   7282  2 000420   200130 221300                    LDX1  ! HEADER1+1,,AUTO
         2 000421   000001 702211                    TSX2  ! 1,X1

      735     7283    3           END;
      736     7284
      737     7285    2      IF PASS = 0

   7285  2 000422   200123 235100                    LDA     PASS,,AUTO
         2 000423   001107 601000 2                  TNZ     s:7349

      738     7286    3      THEN DO;
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:127  

      739     7287    3           IF HEADER0 = 0

   7287  2 000424   200126 236100                    LDQ     HEADER0,,AUTO
         2 000425   000434 601000 2                  TNZ     s:7293

      740     7288    4           THEN DO;

      741     7289    4                CALL DAF$INIT(LDCT_RPT1);

   7289  2 000426   000012 630400 3                  EPPR0   10
         2 000427   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000430   000000 701000 xent               TSX1    DAF$INIT
         2 000431   000000 011000                    NOP     0

      742     7290    4                HEADER0 = 1;

   7290  2 000432   000001 235007                    LDA     1,DL
         2 000433   200126 755100                    STA     HEADER0,,AUTO

      743     7291    4                END;

      744     7292
      745     7293    3           IF KN$LDCT.FLAGS.QUEUED = '1'B

   7293  2 000434   200076 236100                    LDQ     KN$LDCT+5,,AUTO
         2 000435   200000 316003                    CANQ    65536,DU
         2 000436   000442 600000 2                  TZE     s:7295

      746     7294    3           THEN QUEUED = 'Y';

   7294  2 000437   131000 236003                    LDQ     45568,DU
         2 000440   200105 756100                    STQ     QUEUED,,AUTO
         2 000441   000444 710000 2                  TRA     s:7297

      747     7295    3           ELSE QUEUED = 'N';

PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:128  
   7295  2 000442   116000 236003                    LDQ     39936,DU
         2 000443   200105 756100                    STQ     QUEUED,,AUTO

      748     7296
      749     7297    3           IF KN$LDCT.FLAGS.REL = '1'B

   7297  2 000444   200076 236100                    LDQ     KN$LDCT+5,,AUTO
         2 000445   100000 316003                    CANQ    32768,DU
         2 000446   000452 600000 2                  TZE     s:7299

      750     7298    3           THEN REL = 'Y';

   7298  2 000447   131000 236003                    LDQ     45568,DU
         2 000450   200106 756100                    STQ     REL,,AUTO
         2 000451   000454 710000 2                  TRA     s:7301

      751     7299    3           ELSE REL = 'N';

   7299  2 000452   116000 236003                    LDQ     39936,DU
         2 000453   200106 756100                    STQ     REL,,AUTO

      752     7300
      753     7301    3           IF (CTYPE = %KN_CNTYPE_LINK) OR (CTYPE = %KN_CNTYPE_D00)

   7301  2 000454   200103 235100                    LDA     CTYPE,,AUTO
         2 000455   000006 115007                    CMPA    6,DL
         2 000456   000461 600000 2                  TZE     s:7303
         2 000457   000003 115007                    CMPA    3,DL
         2 000460   000710 601000 2                  TNZ     s:7337

      754     7302    4           THEN DO;

      755     7303    4                CALL DBM$PACK2(KN$LDCT.RLCID.FLAGS,RFLAGS);

   7303  2 000461   200104 630500                    EPPR0   RFLAGS,,AUTO
         2 000462   200133 450500                    STP0    HEADER1+4,,AUTO
         2 000463   200072 631500                    EPPR1   KN$LDCT+1,,AUTO
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:129  
         2 000464   200132 451500                    STP1    HEADER1+3,,AUTO
         2 000465   200132 630500                    EPPR0   HEADER1+3,,AUTO
         2 000466   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000467   000000 701000 xent               TSX1    DBM$PACK2
         2 000470   000000 011000                    NOP     0

      756     7304    4                A_CTYPE = '????';

   7304  2 000471   000201 236000 1                  LDQ     NK_RESCOD_TXT+35
         2 000472   200112 756100                    STQ     A_CTYPE,,AUTO

      757     7305
      758     7306    4                IF RFLAGS = 0

   7306  2 000473   200104 235100                    LDA     RFLAGS,,AUTO
         2 000474   000500 601000 2                  TNZ     s:7308

      759     7307    4                THEN A_CTYPE = 'zero';

   7307  2 000475   000202 236000 1                  LDQ     NK_RESCOD_TXT+36
         2 000476   200112 756100                    STQ     A_CTYPE,,AUTO
         2 000477   000511 710000 2                  TRA     s:7320

      760     7308    4                ELSE IF RFLAGS = 32768

   7308  2 000500   100000 115007                    CMPA    32768,DL
         2 000501   000505 601000 2                  TNZ     s:7310

      761     7309    4                     THEN A_CTYPE = 'host';

   7309  2 000502   000203 236000 1                  LDQ     NK_RESCOD_TXT+37
         2 000503   200112 756100                    STQ     A_CTYPE,,AUTO
         2 000504   000511 710000 2                  TRA     s:7320

      762     7310    4                     ELSE IF RFLAGS = 16384

   7310  2 000505   040000 115007                    CMPA    16384,DL
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:130  
         2 000506   000511 601000 2                  TNZ     s:7320

      763     7311    4                          THEN A_CTYPE = 'vcir';

   7311  2 000507   000204 236000 1                  LDQ     NK_RESCOD_TXT+38
         2 000510   200112 756100                    STQ     A_CTYPE,,AUTO

      764     7312
      765     7313    4                CALL DAF$WRITE(VECTOR(LDCT_FMT1B),
      766     7314    4                  VECTOR(DCTX),
      767     7315    4                  VECTOR(DCT$),
      768     7316    4                  VECTOR(KN$LDCT.USER#),
      769     7317    4                  VECTOR(KN$LDCT.GENERATION),
      770     7318    4                  VECTOR(KN$LDCT.RLCID.NODE),
      771     7319    4                  VECTOR(KN$LDCT.RLCID.GENERATION),
      772     7320    4                  VECTOR(A_CTYPE),

   7320  2 000511   777640 235007                    LDA     -96,DL
         2 000512   200132 452500                    STP2    HEADER1+3,,AUTO
         2 000513   200132 236100                    LDQ     HEADER1+3,,AUTO
         2 000514   000120 036003                    ADLQ    80,DU
         2 000515   200134 757100                    STAQ    HEADER1+5,,AUTO
         2 000516   777640 235007                    LDA     -96,DL
         2 000517   200136 452500                    STP2    HEADER1+7,,AUTO
         2 000520   200136 236100                    LDQ     HEADER1+7,,AUTO
         2 000521   000117 036003                    ADLQ    79,DU
         2 000522   200140 757100                    STAQ    HEADER1+9,,AUTO
         2 000523   377640 235007                    LDA     130976,DL
         2 000524   200142 452500                    STP2    HEADER1+11,,AUTO
         2 000525   200142 236100                    LDQ     HEADER1+11,,AUTO
         2 000526   000100 036003                    ADLQ    64,DU
         2 000527   200144 757100                    STAQ    HEADER1+13,,AUTO
         2 000530   177640 235007                    LDA     65440,DL
         2 000531   200146 452500                    STP2    HEADER1+15,,AUTO
         2 000532   200146 236100                    LDQ     HEADER1+15,,AUTO
         2 000533   000073 036003                    ADLQ    59,DU
         2 000534   200150 757100                    STAQ    HEADER1+17,,AUTO
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:131  
         2 000535   177640 235007                    LDA     65440,DL
         2 000536   200152 452500                    STP2    HEADER1+19,,AUTO
         2 000537   200152 236100                    LDQ     HEADER1+19,,AUTO
         2 000540   000016 036000 3                  ADLQ    14
         2 000541   200154 757100                    STAQ    HEADER1+21,,AUTO
         2 000542   177640 235007                    LDA     65440,DL
         2 000543   200156 452500                    STP2    HEADER1+23,,AUTO
         2 000544   200156 236100                    LDQ     HEADER1+23,,AUTO
         2 000545   000017 036000 3                  ADLQ    15
         2 000546   200160 757100                    STAQ    HEADER1+25,,AUTO
         2 000547   777640 235007                    LDA     -96,DL
         2 000550   200162 452500                    STP2    HEADER1+27,,AUTO
         2 000551   200162 236100                    LDQ     HEADER1+27,,AUTO
         2 000552   000112 036003                    ADLQ    74,DU
         2 000553   200164 757100                    STAQ    HEADER1+29,,AUTO
         2 000554   000020 235000 3                  LDA     16
         2 000555   200102 236100                    LDQ     STATE,,AUTO
         2 000556   000023 736000                    QLS     19
         2 000557   000021 036000 3                  ADLQ    17
         2 000560   200166 757100                    STAQ    HEADER1+31,,AUTO
         2 000561   000022 235000 3                  LDA     18
         2 000562   200103 236100                    LDQ     CTYPE,,AUTO
         2 000563   200170 755100                    STA     HEADER1+33,,AUTO
         2 000564   000024 402000 3                  MPY     20
         2 000565   000023 036000 3                  ADLQ    19
         2 000566   200170 235100                    LDA     HEADER1+33,,AUTO
         2 000567   200172 757100                    STAQ    HEADER1+35,,AUTO
         2 000570   177640 235007                    LDA     65440,DL
         2 000571   200174 452500                    STP2    HEADER1+37,,AUTO
         2 000572   200174 236100                    LDQ     HEADER1+37,,AUTO
         2 000573   000105 036003                    ADLQ    69,DU
         2 000574   200176 757100                    STAQ    HEADER1+39,,AUTO
         2 000575   177640 235007                    LDA     65440,DL
         2 000576   200200 452500                    STP2    HEADER1+41,,AUTO
         2 000577   200200 236100                    LDQ     HEADER1+41,,AUTO
         2 000600   000106 036003                    ADLQ    70,DU
         2 000601   200202 757100                    STAQ    HEADER1+43,,AUTO
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:132  
         2 000602   777640 235007                    LDA     -96,DL
         2 000603   200204 452500                    STP2    HEADER1+45,,AUTO
         2 000604   200204 236100                    LDQ     HEADER1+45,,AUTO
         2 000605   000025 036000 3                  ADLQ    21
         2 000606   200206 757100                    STAQ    HEADER1+47,,AUTO
         2 000607   777640 235007                    LDA     -96,DL
         2 000610   200210 452500                    STP2    HEADER1+49,,AUTO
         2 000611   200210 236100                    LDQ     HEADER1+49,,AUTO
         2 000612   000077 036003                    ADLQ    63,DU
         2 000613   200214 757100                    STAQ    HEADER1+53,,AUTO
         2 000614   200134 237100                    LDAQ    HEADER1+5,,AUTO
         2 000615   200212 757100                    STAQ    HEADER1+51,,AUTO
         2 000616   200140 237100                    LDAQ    HEADER1+9,,AUTO
         2 000617   200216 757100                    STAQ    HEADER1+55,,AUTO
         2 000620   200144 237100                    LDAQ    HEADER1+13,,AUTO
         2 000621   200220 757100                    STAQ    HEADER1+57,,AUTO
         2 000622   200150 237100                    LDAQ    HEADER1+17,,AUTO
         2 000623   200222 757100                    STAQ    HEADER1+59,,AUTO
         2 000624   200154 237100                    LDAQ    HEADER1+21,,AUTO
         2 000625   200224 757100                    STAQ    HEADER1+61,,AUTO
         2 000626   200160 237100                    LDAQ    HEADER1+25,,AUTO
         2 000627   200226 757100                    STAQ    HEADER1+63,,AUTO
         2 000630   200164 237100                    LDAQ    HEADER1+29,,AUTO
         2 000631   200230 757100                    STAQ    HEADER1+65,,AUTO
         2 000632   200166 237100                    LDAQ    HEADER1+31,,AUTO
         2 000633   200232 757100                    STAQ    HEADER1+67,,AUTO
         2 000634   200172 237100                    LDAQ    HEADER1+35,,AUTO
         2 000635   200234 757100                    STAQ    HEADER1+69,,AUTO
         2 000636   200176 237100                    LDAQ    HEADER1+39,,AUTO
         2 000637   200236 757100                    STAQ    HEADER1+71,,AUTO
         2 000640   200202 237100                    LDAQ    HEADER1+43,,AUTO
         2 000641   200240 757100                    STAQ    HEADER1+73,,AUTO
         2 000642   200206 237100                    LDAQ    HEADER1+47,,AUTO
         2 000643   200242 757100                    STAQ    HEADER1+75,,AUTO
         2 000644   200214 237100                    LDAQ    HEADER1+53,,AUTO
         2 000645   200244 757100                    STAQ    HEADER1+77,,AUTO
         2 000646   200244 630500                    EPPR0   HEADER1+77,,AUTO
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:133  
         2 000647   200263 450500                    STP0    HEADER1+92,,AUTO
         2 000650   200242 631500                    EPPR1   HEADER1+75,,AUTO
         2 000651   200262 451500                    STP1    HEADER1+91,,AUTO
         2 000652   200240 633500                    EPPR3   HEADER1+73,,AUTO
         2 000653   200261 453500                    STP3    HEADER1+90,,AUTO
         2 000654   200236 634500                    EPPR4   HEADER1+71,,AUTO
         2 000655   200260 454500                    STP4    HEADER1+89,,AUTO
         2 000656   200234 635500                    EPPR5   HEADER1+69,,AUTO
         2 000657   200257 455500                    STP5    HEADER1+88,,AUTO
         2 000660   200232 636500                    EPPR6   HEADER1+67,,AUTO
         2 000661   200256 456500                    STP6    HEADER1+87,,AUTO
         2 000662   200230 637500                    EPPR7   HEADER1+65,,AUTO
         2 000663   200255 457500                    STP7    HEADER1+86,,AUTO
         2 000664   200226 630500                    EPPR0   HEADER1+63,,AUTO
         2 000665   200254 450500                    STP0    HEADER1+85,,AUTO
         2 000666   200224 630500                    EPPR0   HEADER1+61,,AUTO
         2 000667   200253 450500                    STP0    HEADER1+84,,AUTO
         2 000670   200222 630500                    EPPR0   HEADER1+59,,AUTO
         2 000671   200252 450500                    STP0    HEADER1+83,,AUTO
         2 000672   200220 630500                    EPPR0   HEADER1+57,,AUTO
         2 000673   200251 450500                    STP0    HEADER1+82,,AUTO
         2 000674   200216 630500                    EPPR0   HEADER1+55,,AUTO
         2 000675   200250 450500                    STP0    HEADER1+81,,AUTO
         2 000676   200212 630500                    EPPR0   HEADER1+51,,AUTO
         2 000677   200247 450500                    STP0    HEADER1+80,,AUTO
         2 000700   000027 236000 3                  LDQ     23
         2 000701   200246 756100                    STQ     HEADER1+79,,AUTO
         2 000702   200246 630500                    EPPR0   HEADER1+79,,AUTO
         2 000703   000000 220000 xsym               LDX0    DAF$WRITE
         2 000704   000026 631400 3                  EPPR1   22
         2 000705   000000 701010                    TSX1    0,X0
         2 000706   000000 011000                    NOP     0

      773     7321    4                  VECTOR(KN_ST_TXT(STATE)),
      774     7322    4                  VECTOR(KN_CONTYPE_TXT(CTYPE)),
      775     7323    4                  VECTOR(QUEUED),
      776     7324    4                  VECTOR(REL),
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:134  
      777     7325    4                  VECTOR(KN$LDCT.UID),
      778     7326    4                  VECTOR(KN$LDCT.USER_ENTRY$) );
      779     7327    4                END;

   7327  2 000707   001264 710000 2                  TRA     s:7369

      780     7328
      781     7329    4           ELSE DO;

      782     7330    4                CALL DAF$WRITE(VECTOR(LDCT_FMT1),
      783     7331    4                  VECTOR(DCTX),
      784     7332    4                  VECTOR(DCT$),
      785     7333    4                  VECTOR(KN$LDCT.USER#),
      786     7334    4                  VECTOR(KN$LDCT.GENERATION),
      787     7335    4                  VECTOR(KN$LDCT.RLCID.NODE),
      788     7336    4                  VECTOR(KN$LDCT.RLCID.GENERATION),
      789     7337    4                  VECTOR(KN$LDCT.RLCID.LDCTX),

   7337  2 000710   777640 235007                    LDA     -96,DL
         2 000711   200132 452500                    STP2    HEADER1+3,,AUTO
         2 000712   200132 236100                    LDQ     HEADER1+3,,AUTO
         2 000713   000120 036003                    ADLQ    80,DU
         2 000714   200134 757100                    STAQ    HEADER1+5,,AUTO
         2 000715   777640 235007                    LDA     -96,DL
         2 000716   200136 452500                    STP2    HEADER1+7,,AUTO
         2 000717   200136 236100                    LDQ     HEADER1+7,,AUTO
         2 000720   000117 036003                    ADLQ    79,DU
         2 000721   200140 757100                    STAQ    HEADER1+9,,AUTO
         2 000722   377640 235007                    LDA     130976,DL
         2 000723   200142 452500                    STP2    HEADER1+11,,AUTO
         2 000724   200142 236100                    LDQ     HEADER1+11,,AUTO
         2 000725   000100 036003                    ADLQ    64,DU
         2 000726   200144 757100                    STAQ    HEADER1+13,,AUTO
         2 000727   177640 235007                    LDA     65440,DL
         2 000730   200146 452500                    STP2    HEADER1+15,,AUTO
         2 000731   200146 236100                    LDQ     HEADER1+15,,AUTO
         2 000732   000073 036003                    ADLQ    59,DU
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:135  
         2 000733   200150 757100                    STAQ    HEADER1+17,,AUTO
         2 000734   177640 235007                    LDA     65440,DL
         2 000735   200152 452500                    STP2    HEADER1+19,,AUTO
         2 000736   200152 236100                    LDQ     HEADER1+19,,AUTO
         2 000737   000016 036000 3                  ADLQ    14
         2 000740   200154 757100                    STAQ    HEADER1+21,,AUTO
         2 000741   177640 235007                    LDA     65440,DL
         2 000742   200156 452500                    STP2    HEADER1+23,,AUTO
         2 000743   200156 236100                    LDQ     HEADER1+23,,AUTO
         2 000744   000017 036000 3                  ADLQ    15
         2 000745   200160 757100                    STAQ    HEADER1+25,,AUTO
         2 000746   377640 235007                    LDA     130976,DL
         2 000747   200162 452500                    STP2    HEADER1+27,,AUTO
         2 000750   200162 236100                    LDQ     HEADER1+27,,AUTO
         2 000751   000072 036003                    ADLQ    58,DU
         2 000752   200164 757100                    STAQ    HEADER1+29,,AUTO
         2 000753   000020 235000 3                  LDA     16
         2 000754   200102 236100                    LDQ     STATE,,AUTO
         2 000755   000023 736000                    QLS     19
         2 000756   000021 036000 3                  ADLQ    17
         2 000757   200166 757100                    STAQ    HEADER1+31,,AUTO
         2 000760   000022 235000 3                  LDA     18
         2 000761   200103 236100                    LDQ     CTYPE,,AUTO
         2 000762   200170 755100                    STA     HEADER1+33,,AUTO
         2 000763   000024 402000 3                  MPY     20
         2 000764   000023 036000 3                  ADLQ    19
         2 000765   200170 235100                    LDA     HEADER1+33,,AUTO
         2 000766   200172 757100                    STAQ    HEADER1+35,,AUTO
         2 000767   177640 235007                    LDA     65440,DL
         2 000770   200174 452500                    STP2    HEADER1+37,,AUTO
         2 000771   200174 236100                    LDQ     HEADER1+37,,AUTO
         2 000772   000105 036003                    ADLQ    69,DU
         2 000773   200176 757100                    STAQ    HEADER1+39,,AUTO
         2 000774   177640 235007                    LDA     65440,DL
         2 000775   200200 452500                    STP2    HEADER1+41,,AUTO
         2 000776   200200 236100                    LDQ     HEADER1+41,,AUTO
         2 000777   000106 036003                    ADLQ    70,DU
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:136  
         2 001000   200202 757100                    STAQ    HEADER1+43,,AUTO
         2 001001   777640 235007                    LDA     -96,DL
         2 001002   200204 452500                    STP2    HEADER1+45,,AUTO
         2 001003   200204 236100                    LDQ     HEADER1+45,,AUTO
         2 001004   000025 036000 3                  ADLQ    21
         2 001005   200206 757100                    STAQ    HEADER1+47,,AUTO
         2 001006   777640 235007                    LDA     -96,DL
         2 001007   200210 452500                    STP2    HEADER1+49,,AUTO
         2 001010   200210 236100                    LDQ     HEADER1+49,,AUTO
         2 001011   000077 036003                    ADLQ    63,DU
         2 001012   200214 757100                    STAQ    HEADER1+53,,AUTO
         2 001013   200134 237100                    LDAQ    HEADER1+5,,AUTO
         2 001014   200212 757100                    STAQ    HEADER1+51,,AUTO
         2 001015   200140 237100                    LDAQ    HEADER1+9,,AUTO
         2 001016   200216 757100                    STAQ    HEADER1+55,,AUTO
         2 001017   200144 237100                    LDAQ    HEADER1+13,,AUTO
         2 001020   200220 757100                    STAQ    HEADER1+57,,AUTO
         2 001021   200150 237100                    LDAQ    HEADER1+17,,AUTO
         2 001022   200222 757100                    STAQ    HEADER1+59,,AUTO
         2 001023   200154 237100                    LDAQ    HEADER1+21,,AUTO
         2 001024   200224 757100                    STAQ    HEADER1+61,,AUTO
         2 001025   200160 237100                    LDAQ    HEADER1+25,,AUTO
         2 001026   200226 757100                    STAQ    HEADER1+63,,AUTO
         2 001027   200164 237100                    LDAQ    HEADER1+29,,AUTO
         2 001030   200230 757100                    STAQ    HEADER1+65,,AUTO
         2 001031   200166 237100                    LDAQ    HEADER1+31,,AUTO
         2 001032   200232 757100                    STAQ    HEADER1+67,,AUTO
         2 001033   200172 237100                    LDAQ    HEADER1+35,,AUTO
         2 001034   200234 757100                    STAQ    HEADER1+69,,AUTO
         2 001035   200176 237100                    LDAQ    HEADER1+39,,AUTO
         2 001036   200236 757100                    STAQ    HEADER1+71,,AUTO
         2 001037   200202 237100                    LDAQ    HEADER1+43,,AUTO
         2 001040   200240 757100                    STAQ    HEADER1+73,,AUTO
         2 001041   200206 237100                    LDAQ    HEADER1+47,,AUTO
         2 001042   200242 757100                    STAQ    HEADER1+75,,AUTO
         2 001043   200214 237100                    LDAQ    HEADER1+53,,AUTO
         2 001044   200244 757100                    STAQ    HEADER1+77,,AUTO
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:137  
         2 001045   200244 630500                    EPPR0   HEADER1+77,,AUTO
         2 001046   200263 450500                    STP0    HEADER1+92,,AUTO
         2 001047   200242 631500                    EPPR1   HEADER1+75,,AUTO
         2 001050   200262 451500                    STP1    HEADER1+91,,AUTO
         2 001051   200240 633500                    EPPR3   HEADER1+73,,AUTO
         2 001052   200261 453500                    STP3    HEADER1+90,,AUTO
         2 001053   200236 634500                    EPPR4   HEADER1+71,,AUTO
         2 001054   200260 454500                    STP4    HEADER1+89,,AUTO
         2 001055   200234 635500                    EPPR5   HEADER1+69,,AUTO
         2 001056   200257 455500                    STP5    HEADER1+88,,AUTO
         2 001057   200232 636500                    EPPR6   HEADER1+67,,AUTO
         2 001060   200256 456500                    STP6    HEADER1+87,,AUTO
         2 001061   200230 637500                    EPPR7   HEADER1+65,,AUTO
         2 001062   200255 457500                    STP7    HEADER1+86,,AUTO
         2 001063   200226 630500                    EPPR0   HEADER1+63,,AUTO
         2 001064   200254 450500                    STP0    HEADER1+85,,AUTO
         2 001065   200224 630500                    EPPR0   HEADER1+61,,AUTO
         2 001066   200253 450500                    STP0    HEADER1+84,,AUTO
         2 001067   200222 630500                    EPPR0   HEADER1+59,,AUTO
         2 001070   200252 450500                    STP0    HEADER1+83,,AUTO
         2 001071   200220 630500                    EPPR0   HEADER1+57,,AUTO
         2 001072   200251 450500                    STP0    HEADER1+82,,AUTO
         2 001073   200216 630500                    EPPR0   HEADER1+55,,AUTO
         2 001074   200250 450500                    STP0    HEADER1+81,,AUTO
         2 001075   200212 630500                    EPPR0   HEADER1+51,,AUTO
         2 001076   200247 450500                    STP0    HEADER1+80,,AUTO
         2 001077   000032 236000 3                  LDQ     26
         2 001100   200246 756100                    STQ     HEADER1+79,,AUTO
         2 001101   200246 630500                    EPPR0   HEADER1+79,,AUTO
         2 001102   000000 220000 xsym               LDX0    DAF$WRITE
         2 001103   000026 631400 3                  EPPR1   22
         2 001104   000000 701010                    TSX1    0,X0
         2 001105   000000 011000                    NOP     0

      790     7338    4                  VECTOR(KN_ST_TXT(STATE)),
      791     7339    4                  VECTOR(KN_CONTYPE_TXT(CTYPE)),
      792     7340    4                  VECTOR(QUEUED),
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:138  
      793     7341    4                  VECTOR(REL),
      794     7342    4                  VECTOR(KN$LDCT.UID),
      795     7343    4                  VECTOR(KN$LDCT.USER_ENTRY$) );
      796     7344    4                END;

      797     7345    3           END/*pass 0*/;

   7345  2 001106   001264 710000 2                  TRA     s:7369

      798     7346
      799     7347
      800     7348    3      ELSE DO;

      801     7349    3           IF HEADER1 = 0

   7349  2 001107   200127 236100                    LDQ     HEADER1,,AUTO
         2 001110   001132 601000 2                  TNZ     s:7357

      802     7350    4           THEN DO;

      803     7351    4                CALL DAF$WRITE(VECTOR(BLANK_LINE));

   7351  2 001111   000004 630400 3                  EPPR0   4
         2 001112   000000 220000 xsym               LDX0    DAF$WRITE
         2 001113   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001114   000000 701010                    TSX1    0,X0
         2 001115   000000 011000                    NOP     0

      804     7352    4                CALL DAF$WRITE(VECTOR(LDCT_RPT2TX00.C));

   7352  2 001116   000036 630400 3                  EPPR0   30
         2 001117   000000 220000 xsym               LDX0    DAF$WRITE
         2 001120   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001121   000000 701010                    TSX1    0,X0
         2 001122   000000 011000                    NOP     0

      805     7353    4                CALL DAF$WRITE(VECTOR(LDCT_RPT2TX01.C));
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:139  

   7353  2 001123   000042 630400 3                  EPPR0   34
         2 001124   000000 220000 xsym               LDX0    DAF$WRITE
         2 001125   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001126   000000 701010                    TSX1    0,X0
         2 001127   000000 011000                    NOP     0

      806     7354    4                HEADER1 = 1;

   7354  2 001130   000001 235007                    LDA     1,DL
         2 001131   200127 755100                    STA     HEADER1,,AUTO

      807     7355    4                END;

      808     7356
      809     7357    3           FLAGS = KN$LDCT.FLAGS;

   7357  2 001132   200076 236100                    LDQ     KN$LDCT+5,,AUTO
         2 001133   200101 756100                    STQ     FLAGS,,AUTO

      810     7358    3           CALL DAF$WRITE(VECTOR(LDCT_FMT2),
      811     7359    3             VECTOR(DCTX),
      812     7360    3             VECTOR(DCT$),
      813     7361    3             VECTOR(KN$LDCT.LNK$),
      814     7362    3             VECTOR(KN$LDCT.TRANSPORT_ID),
      815     7363    3             VECTOR(KN$LDCT.CQPTR),
      816     7364    3             VECTOR(FLAGS.W1),
      817     7365    3             VECTOR(FLAGS.W2),

   7365  2 001134   777640 235007                    LDA     -96,DL
         2 001135   200132 452500                    STP2    HEADER1+3,,AUTO
         2 001136   200132 236100                    LDQ     HEADER1+3,,AUTO
         2 001137   000120 036003                    ADLQ    80,DU
         2 001140   200134 757100                    STAQ    HEADER1+5,,AUTO
         2 001141   777640 235007                    LDA     -96,DL
         2 001142   200136 452500                    STP2    HEADER1+7,,AUTO
         2 001143   200136 236100                    LDQ     HEADER1+7,,AUTO
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:140  
         2 001144   000117 036003                    ADLQ    79,DU
         2 001145   200140 757100                    STAQ    HEADER1+9,,AUTO
         2 001146   777640 235007                    LDA     -96,DL
         2 001147   200142 452500                    STP2    HEADER1+11,,AUTO
         2 001150   200142 236100                    LDQ     HEADER1+11,,AUTO
         2 001151   000075 036003                    ADLQ    61,DU
         2 001152   200144 757100                    STAQ    HEADER1+13,,AUTO
         2 001153   377640 235007                    LDA     130976,DL
         2 001154   200146 452500                    STP2    HEADER1+15,,AUTO
         2 001155   200146 236100                    LDQ     HEADER1+15,,AUTO
         2 001156   000046 036000 3                  ADLQ    38
         2 001157   200150 757100                    STAQ    HEADER1+17,,AUTO
         2 001160   377640 235007                    LDA     130976,DL
         2 001161   200152 452500                    STP2    HEADER1+19,,AUTO
         2 001162   200152 236100                    LDQ     HEADER1+19,,AUTO
         2 001163   000047 036000 3                  ADLQ    39
         2 001164   200154 757100                    STAQ    HEADER1+21,,AUTO
         2 001165   377640 235007                    LDA     130976,DL
         2 001166   200156 452500                    STP2    HEADER1+23,,AUTO
         2 001167   200156 236100                    LDQ     HEADER1+23,,AUTO
         2 001170   000101 036003                    ADLQ    65,DU
         2 001171   200160 757100                    STAQ    HEADER1+25,,AUTO
         2 001172   377640 235007                    LDA     130976,DL
         2 001173   200162 452500                    STP2    HEADER1+27,,AUTO
         2 001174   200162 236100                    LDQ     HEADER1+27,,AUTO
         2 001175   000050 036000 3                  ADLQ    40
         2 001176   200164 757100                    STAQ    HEADER1+29,,AUTO
         2 001177   000051 235000 3                  LDA     41
         2 001200   200166 452500                    STP2    HEADER1+31,,AUTO
         2 001201   200166 236100                    LDQ     HEADER1+31,,AUTO
         2 001202   000107 036003                    ADLQ    71,DU
         2 001203   200170 757100                    STAQ    HEADER1+33,,AUTO
         2 001204   377640 235007                    LDA     130976,DL
         2 001205   200172 452500                    STP2    HEADER1+35,,AUTO
         2 001206   200172 236100                    LDQ     HEADER1+35,,AUTO
         2 001207   000010 036000 3                  ADLQ    8
         2 001210   200176 757100                    STAQ    HEADER1+39,,AUTO
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:141  
         2 001211   200134 237100                    LDAQ    HEADER1+5,,AUTO
         2 001212   200174 757100                    STAQ    HEADER1+37,,AUTO
         2 001213   200140 237100                    LDAQ    HEADER1+9,,AUTO
         2 001214   200200 757100                    STAQ    HEADER1+41,,AUTO
         2 001215   200144 237100                    LDAQ    HEADER1+13,,AUTO
         2 001216   200202 757100                    STAQ    HEADER1+43,,AUTO
         2 001217   200150 237100                    LDAQ    HEADER1+17,,AUTO
         2 001220   200204 757100                    STAQ    HEADER1+45,,AUTO
         2 001221   200154 237100                    LDAQ    HEADER1+21,,AUTO
         2 001222   200206 757100                    STAQ    HEADER1+47,,AUTO
         2 001223   200160 237100                    LDAQ    HEADER1+25,,AUTO
         2 001224   200210 757100                    STAQ    HEADER1+49,,AUTO
         2 001225   200164 237100                    LDAQ    HEADER1+29,,AUTO
         2 001226   200212 757100                    STAQ    HEADER1+51,,AUTO
         2 001227   200170 237100                    LDAQ    HEADER1+33,,AUTO
         2 001230   200214 757100                    STAQ    HEADER1+53,,AUTO
         2 001231   200176 237100                    LDAQ    HEADER1+39,,AUTO
         2 001232   200216 757100                    STAQ    HEADER1+55,,AUTO
         2 001233   200216 630500                    EPPR0   HEADER1+55,,AUTO
         2 001234   200231 450500                    STP0    HEADER1+66,,AUTO
         2 001235   200214 631500                    EPPR1   HEADER1+53,,AUTO
         2 001236   200230 451500                    STP1    HEADER1+65,,AUTO
         2 001237   200212 633500                    EPPR3   HEADER1+51,,AUTO
         2 001240   200227 453500                    STP3    HEADER1+64,,AUTO
         2 001241   200210 634500                    EPPR4   HEADER1+49,,AUTO
         2 001242   200226 454500                    STP4    HEADER1+63,,AUTO
         2 001243   200206 635500                    EPPR5   HEADER1+47,,AUTO
         2 001244   200225 455500                    STP5    HEADER1+62,,AUTO
         2 001245   200204 636500                    EPPR6   HEADER1+45,,AUTO
         2 001246   200224 456500                    STP6    HEADER1+61,,AUTO
         2 001247   200202 637500                    EPPR7   HEADER1+43,,AUTO
         2 001250   200223 457500                    STP7    HEADER1+60,,AUTO
         2 001251   200200 630500                    EPPR0   HEADER1+41,,AUTO
         2 001252   200222 450500                    STP0    HEADER1+59,,AUTO
         2 001253   200174 630500                    EPPR0   HEADER1+37,,AUTO
         2 001254   200221 450500                    STP0    HEADER1+58,,AUTO
         2 001255   000053 236000 3                  LDQ     43
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:142  
         2 001256   200220 756100                    STQ     HEADER1+57,,AUTO
         2 001257   200220 630500                    EPPR0   HEADER1+57,,AUTO
         2 001260   000000 220000 xsym               LDX0    DAF$WRITE
         2 001261   000052 631400 3                  EPPR1   42
         2 001262   000000 701010                    TSX1    0,X0
         2 001263   000000 011000                    NOP     0

      818     7366    3             VECTOR(RESCOD),
      819     7367    3             VECTOR(KN$LDCT.LDCTX));
      820     7368    3           END/*pass 1*/;

      821     7369    2      RETURN;

   7369  2 001264   200130 221300                    LDX1  ! HEADER1+1,,AUTO
         2 001265   000001 702211                    TSX2  ! 1,X1
      822     7370
      823     7371    2   END DISP_LDCT;
      824     7372
      825     7373    1   END DBD$LDCT;
      826     7374        %EOD;

PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:143  
--  Include file information  --

   NK$LDCT.:E05TOU  is referenced.
   KN_DATA_M.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   DA_ANLZ_R.:E05TOU  cannot be made into a system file and is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   G$BOBCAT_M.:E05TOU  is referenced.
   KI_CP6.:E05TOU  is referenced.
   DB_PERR_C.:E05TOU  is referenced.
      No diagnostics issued in procedure DBD$LDCT.
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:144  

 **** Variables and constants ****

  ****  Section 000  Data  DBD$LDCT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(288)   r     1 LDCT_RPT1                 23-0-0/w STRC(144)   r     1 LDCT_RPT1HD00
    53-0-0/w STRC(144)   r     1 LDCT_RPT1HD01             10-0-0/c STRC(369)   r     1 LDCT_RPT1TX00
    27-0-0/c STRC(693)   r     1 LDCT_RPT1TX01             57-0-0/c STRC(693)   r     1 LDCT_RPT1TX02
   113-0-0/w STRC(144)   r     1 LDCT_RPT2HD00            136-0-0/w STRC(144)   r     1 LDCT_RPT2HD01
   117-0-0/c STRC(531)   r     1 LDCT_RPT2TX00            142-0-0/c STRC(531)   r     1 LDCT_RPT2TX01

  ****  Section 001 RoData DBD$LDCT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   100-0-0/c CHAR(5)     r     1 KN_CONTYPE_TXT(0:7)
   112-0-0/c CHAR(8)     r     1 KN_ST_TXT(0:9)
     0-0-0/c CHAR(94)    r     1 LDCT_FMT1                 30-0-0/c CHAR(88)    r     1 LDCT_FMT1B
    56-0-0/c CHAR(71)    r     1 LDCT_FMT2
   136-0-0/c CHAR(9)     r     1 NK_RESCOD_TXT(0:14)

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @TOP                     125-0-0/w UBIN        r     1 ACTION
   112-0-0/c CHAR(4)     r     1 A_CTYPE                  103-0-0/w UBIN        r     1 CTYPE
   117-0-0/w UBIN        r     1 DCT$                     116-0-0/w UBIN        r     1 DCT$$
   120-0-0/w UBIN        r     1 DCTX                     124-0-0/w UBIN        r     1 ENTRY_TYPE
   101-0-0/c STRC        r     1 FLAGS                      4-0-0/w STRC(1908)  r     1 G$BOBCAT
   126-0-0/w UBIN        r     1 HEADER0                  127-0-0/w UBIN        r     1 HEADER1
    71-0-0/w STRC(288)   r     1 KN$LDCT                  115-0-0/w UBIN        r     1 LDCT$$
   113-0-0/w UBIN        r     1 LDCT_DATA$               114-0-0/w UBIN        r     1 NDCT
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:145  
   123-0-0/w UBIN        r     1 PASS                     105-0-0/c CHAR        r     1 QUEUED
   106-0-0/c CHAR        r     1 REL                      107-0-0/c CHAR(9)     r     1 RESCOD
   104-0-0/w UBIN        r     1 RFLAGS                   121-0-0/w UBIN        r     1 SIZEW_LDCT
   102-0-0/w UBIN        r     1 STATE                     *0-0-0/w STRC(144)   r     1 TOP
   122-0-0/w UBIN        r     1 TX

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(4)     r     1 BLANK_LINE                 0-0-0/w EPTR        r     1 DAF$WRITE
     0-0-0/w STRC        r     1 DA_ANLZERR                 0-0-0/w UBIN        r     1 DBD_BOBCAT$
     0-0-0/w STRC        r     1 DBD_ERR                    0-0-0/w UBIN        r     1 DBD_FEPCTX_END$
     0-0-0/w UBIN        r     1 DBD_FEPCTX_START$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(144)   r     1 OUT


   Procedure DBD$LDCT requires 694 words for executable code.
   Procedure DBD$LDCT requires 180 words of local(AUTO) storage.
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:146  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:147  
          MINI XREF LISTING

ACTION
      7103**DCL      7191<<ASSIGN   7206<<ASSIGN   7231>>IF       7244>>IF       7279>>IF
A_CTYPE
      7091**DCL      7304<<ASSIGN   7307<<ASSIGN   7309<<ASSIGN   7311<<ASSIGN   7320--CALL
BLANK_LINE
      1403**DCL      7216--CALL     7351--CALL
CTYPE
      7086**DCL      7271<>CALL     7281>>IF       7301>>IF       7301>>IF       7320>>CALL     7337>>CALL
DAA$VALUE
      6491**DCL-ENT  7202--CALL
DAF$INIT
      6493**DCL-ENT  7289--CALL
DAF$WRITE
      6492**DCL      7216>>CALL     7320>>CALL     7337>>CALL     7351>>CALL     7352>>CALL     7353>>CALL
      7365>>CALL
DA_ANLZERR
      1400**DCL      7251<<ASSIGN
DBD$KNINFO
      6500**DCL-ENT  7181--CALL     7186--CALL
DBD_BOBCAT$
      7155**DCL      7222>>IF
DBD_ERR
      1401**DCL      7251>>ASSIGN
DBD_FEPCTX_END$
      7156**DCL      7238>>IF
DBD_FEPCTX_START$
      7157**DCL      7238>>IF
DBM$GETBOBCAT
      6495**DCL-ENT  7170--CALL
DBM$GETMEM
      6496**DCL-ENT  7225--CALL     7261--CALL
DBM$PACK1
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:148  
      6497**DCL-ENT  7271--CALL     7272--CALL
DBM$PACK2
      6498**DCL-ENT  7173--CALL     7268--CALL     7303--CALL
DBM$PACK4
      6499**DCL-ENT  7174--CALL     7175--CALL     7229--CALL
DCT$
      7096**DCL      7225<>CALL     7229<>CALL     7229<>CALL     7231>>IF       7233<<ASSIGN   7240<<ASSIGN
      7246>>IF       7261<>CALL     7320--CALL     7337--CALL     7365--CALL
DCT$$
      7095**DCL      7174<>CALL     7176>>ASSIGN   7225>>CALL
DCTX
      7097**DCL      7194<<DOINDEX  7202<>CALL     7204>>IF       7222>>IF       7224>>IF       7225>>CALL
      7233>>ASSIGN   7238>>IF       7238>>IF       7240>>ASSIGN   7241<<ASSIGN   7246>>IF       7266>>IF
      7268<>CALL     7320--CALL     7337--CALL     7365--CALL
DISPLAY_LOOP
      7191**LABEL    7207--GOTO
DISP_LDCT
      7220**PROC     7195--CALL     7210--CALL
ENTRY_TYPE
      7102**DCL      7160<<ASSIGN   7164<<ASSIGN   7179>>IF
FLAGS
      7082**DCL      7357<<ASSIGN
FLAGS.W1
      7083**DCL      7365--CALL
FLAGS.W2
      7084**DCL      7365--CALL
G$BOBCAT
      6824**DCL      7170<>CALL
G$BOBCAT.DCT$$
      6829**DCL      7174<>CALL
G$BOBCAT.LDCT#
      6826**DCL      7173<>CALL
G$BOBCAT.LDCTDATA$
      6832**DCL      7175<>CALL
HEADER0
      7104**DCL      7167<<ASSIGN   7287>>IF       7290<<ASSIGN
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:149  
HEADER1
      7105**DCL      7168<<ASSIGN   7349>>IF       7354<<ASSIGN
KN$LDCT
      6851**DCL      7177--ASSIGN   7261<>CALL     7261--CALL     7261--CALL
KN$LDCT.CONN_TYPE
      6852**DCL      7271<>CALL
KN$LDCT.CQPTR
      7074**DCL      7365--CALL
KN$LDCT.FLAGS
      7024**DCL      7281>>IF       7357>>ASSIGN
KN$LDCT.FLAGS.QUEUED
      7028**DCL      7293>>IF
KN$LDCT.FLAGS.REL
      7036**DCL      7297>>IF
KN$LDCT.GENERATION
      6961**DCL      7320--CALL     7337--CALL
KN$LDCT.LDCTX
      6993**DCL      7268<>CALL     7365--CALL
KN$LDCT.LNK$
      6997**DCL      7365--CALL
KN$LDCT.RESCOD
      6970**DCL      7273>>IF       7274>>ASSIGN   7275>>CALLBLT
KN$LDCT.RLCID.FLAGS
      6927**DCL      7303<>CALL
KN$LDCT.RLCID.GENERATION
      6906**DCL      7320--CALL     7337--CALL
KN$LDCT.RLCID.LDCTX
      6912**DCL      6919--REDEF    6927--REDEF    7337--CALL
KN$LDCT.RLCID.NODE
      6890**DCL      7320--CALL     7337--CALL
KN$LDCT.STATE
      6866**DCL      7272<>CALL
KN$LDCT.TRANSPORT_ID
      6946**DCL      6954--REDEF    7365--CALL
KN$LDCT.UID
      6976**DCL      6977--REDEF    6986--REDEF    7320--CALL     7337--CALL
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:150  
KN$LDCT.USER#
      7069**DCL      7320--CALL     7337--CALL
KN$LDCT.USER_ENTRY$
      7057**DCL      7320--CALL     7337--CALL
KN_CONTYPE_TXT
      7116**DCL      7320--CALL     7337--CALL
KN_ST_TXT
      7131**DCL      7320--CALL     7337--CALL
LDCT$$
      7094**DCL      7176<<ASSIGN   7233>>ASSIGN
LDCT_DATA$
      7092**DCL      7175<>CALL     7181<>CALL     7186<>CALL
LDCT_FMT1
      6656**DCL      7337--CALL
LDCT_FMT1B
      6660**DCL      7320--CALL
LDCT_FMT2
      6818**DCL      7365--CALL
LDCT_RPT1
      6519**DCL      7289<>CALL
LDCT_RPT1HD00
      6587**DCL      6554--DCLINIT
LDCT_RPT1HD01
      6630**DCL      6602--DCLINIT
LDCT_RPT1TX00
      6562**DCL      6549--DCLINIT
LDCT_RPT1TX01
      6605**DCL      6595--DCLINIT
LDCT_RPT1TX02
      6648**DCL      6638--DCLINIT
LDCT_RPT2HD00
      6748**DCL      6715--DCLINIT
LDCT_RPT2HD01
      6792**DCL      6763--DCLINIT
LDCT_RPT2TX00
      6766**DCL      6756--DCLINIT
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:151  
LDCT_RPT2TX00.C
      6768**DCL      7352--CALL
LDCT_RPT2TX01
      6810**DCL      6800--DCLINIT
LDCT_RPT2TX01.C
      6812**DCL      7353--CALL
NDCT
      7093**DCL      7173<>CALL     7176>>ASSIGN   7194>>DOINDEX  7224>>IF       7246>>IF
NK_RESCOD_TXT
      7152**DCL      7274>>ASSIGN
OUT
      6451**DCL      7202<>CALL
PASS
      7101**DCL      7188<<DOINDEX  7285>>IF
QUEUED
      7088**DCL      7294<<ASSIGN   7295<<ASSIGN   7320--CALL     7337--CALL
REL
      7089**DCL      7298<<ASSIGN   7299<<ASSIGN   7320--CALL     7337--CALL
REPORT_BAD_LDCT IN PROCEDURE DISP_LDCT
      7247**LABEL    7224--GOTO     7239--GOTO
RESCOD
      7090**DCL      7274<<ASSIGN   7275<<CALLBLT  7365--CALL
RFLAGS
      7087**DCL      7303<>CALL     7306>>IF       7308>>IF       7310>>IF
SIZEW_LDCT
      7098**DCL      7177<<ASSIGN   7233>>ASSIGN
START_LDCT
      7164**LABEL    7161--GOTO
STATE
      7085**DCL      7272<>CALL     7277>>IF       7277<<ASSIGN   7320>>CALL     7337>>CALL
TOP
      6406**DCL        14--PROC     7163--ENTRY
TOP.NSUBLKS
      6418**DCL      7189>>IF       7201>>DOINDEX  7248>>IF
TOP.SUBLK$
      6439**DCL      7202>>CALL
PL6.E3A0      #003=DBD$LDCT File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:152  
TX
      7099**DCL      7201<<DOINDEX  7202>>CALL

PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:153  
      827        1        /*T***********************************************************/
      828        2        /*T*                                                         */
      829        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      830        4        /*T*                                                         */
      831        5        /*T***********************************************************/
      832        6
      833        7        /*X* PLM=3,IND=5,ECU=0,ENU=0   */
      834        8
      835        9        /*F*    NAME: DBD$KNINFO
      836       10                PURPOSE: To format the static data for IOP, SSN and LDCT.
      837       11        */
      838       12
      839       13        DBD$KNINFO: PROC(INFO$,CHECK) ALTRET;
      840       14        %INCLUDE CP_6;
      841     5573        %INCLUDE DA_FORMAT_C;
      842     5815        %INCLUDE XU_MACRO_C;
      843     8921        %INCLUDE KN_DATA_M;
      844    10707
      845    10708    1   DCL INFO$ UBIN;                         /* ADDR( KN$DATA_TBL) in L6 memory    */
      846    10709    1   DCL CHECK UBIN;                         /* 0 = read data table  1 = print info*/
      847    10710
      848    10711    1   DCL OFFSET UBIN;
      849    10712    1   DCL UNUSED UBIN;
      850    10713    1   DCL USED UBIN;
      851    10714    1   DCL CHECK_CTX UBIN;
      852    10715    1   DCL HEAD$ UBIN;
      853    10716    1   DCL STOP$ UBIN;
      854    10717    1   DCL END$ UBIN;
      855    10718    1   DCL LNK_ADDR$ UBIN;
      856    10719    1   DCL LNK$ UBIN;
      857    10720
      858    10721    1   DCL ERR_PRNT CHAR(4);
      859    10722
      860    10723        %KN_DATA_TBL (FPTN=KN$DATA,TYPE=STRUCTURE,STCLASS=AUTO);
      861    10787
      862    10788    1   DCL KN_RPT1 CHAR(0) CONSTANT INIT(
      863    10789    1   '%A START$: .%@5.32ZH  END$: .%@5.32ZH  HEAD$: .%@5.32ZH Defined: %@5.16D');
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:154  
      864    10790
      865    10791    1   DCL KN_RPT2 CHAR(0) CONSTANT INIT(
      866    10792    1   'Peak: %@5.16D  Use count: %@5.16D  On free chain: %5D %A');
      867    10793
      868    10794    1   DCL KN_RPT3 CHAR(0) CONSTANT INIT(
      869    10795    1   'Validation routine is turned on');
      870    10796
      871    10797    1   DCL DAA$VALUE ENTRY(3) ALTRET;
      872    10798    1   DCL DAF$WRITE EPTR SYMREF;
      873    10799    1   DCL DBM$GETMEM ENTRY(10) ALTRET;
      874    10800    1   DCL DBM$PACK2 ENTRY(2);
      875    10801    1   DCL DBM$PACK4 ENTRY(2);
      876    10802
      877    10803    1   DCL BLANK_LINE CHAR(4) SYMREF;
      878    10804
      879    10805    1   DCL DBD_FEPCTX_START$ UBIN STATIC SYMDEF INIT(0);
      880    10806    1   DCL DBD_FEPCTX_END$ UBIN STATIC SYMDEF INIT(0);
      881    10807    1   DCL DBD_FEPCTX_MAX# UBIN STATIC SYMDEF INIT(0);
      882    10808
      883    10809        %EJECT;
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:155  
      884    10810    1      CALL DBM$GETMEM(INFO$,KN$DATA,0,SIZEC(KN$DATA),,SIZEC(KN$DATA))
      885    10811    2      WHENALTRETURN DO; ALTRETURN; END;
      886    10812
      887    10813    1      CALL DBM$PACK4(KN$DATA.START$,DBD_FEPCTX_START$);
      888    10814    1      CALL DBM$PACK4(KN$DATA.END$,DBD_FEPCTX_END$);
      889    10815    1      CALL DBM$PACK4(KN$DATA.HEAD$,HEAD$);
      890    10816    1      CALL DBM$PACK2(KN$DATA.MAX#,DBD_FEPCTX_MAX#);
      891    10817    1      CALL DBM$PACK2(KN$DATA.USE#,USED);
      892    10818    1      CALL DBM$PACK2(KN$DATA.CHECK,CHECK_CTX);
      893    10819    1      CALL DBM$PACK2(KN$DATA.LNK#,OFFSET);
      894    10820
      895    10821    1      IF CHECK = 0 THEN RETURN;
      896    10822
      897    10823    1      UNUSED = 0;
      898    10824    2      DO WHILE HEAD$ ~= 0;
      899    10825    2           LNK_ADDR$ = HEAD$ + OFFSET;
      900    10826    2           CALL DBM$GETMEM(LNK_ADDR$,LNK$,0,4,,4)
      901    10827    3           WHENALTRETURN DO; GOTO CHECK_COUNTS/*N*/; END;
      902    10828
      903    10829    2           UNUSED = UNUSED +1;
      904    10830
      905    10831    2           CALL DBM$PACK4(LNK$,LNK$);
      906    10832    2           IF HEAD$ = LNK$
      907    10833    3           THEN DO;
      908    10834    3                GOTO CHECK_COUNTS/*N*/;
      909    10835    3                END;
      910    10836
      911    10837    2           IF HEAD$ = DBD_FEPCTX_END$
      912    10838    2           THEN GOTO CHECK_COUNTS;
      913    10839
      914    10840    2           HEAD$ = LNK$;
      915    10841    2           END/*do while*/;
      916    10842
      917    10843    1   CHECK_COUNTS: ;
      918    10844    1      IF UNUSED + USED ~= DBD_FEPCTX_MAX#
      919    10845    1      THEN ERR_PRNT = '!ERR';
      920    10846    1      ELSE ERR_PRNT = '    ';
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:156  
      921    10847
      922    10848    1      CALL DAF$WRITE(VECTOR(KN_RPT1), VECTOR(KN$DATA.NAME),
      923    10849    1        VECTOR(KN$DATA.START$), VECTOR(KN$DATA.END$), VECTOR(KN$DATA.HEAD$),
      924    10850    1        VECTOR(KN$DATA.MAX#));
      925    10851
      926    10852    1      CALL DAF$WRITE(VECTOR(KN_RPT2), VECTOR(KN$DATA.PEAK#),
      927    10853    1        VECTOR(KN$DATA.USE#), VECTOR(UNUSED),  VECTOR(ERR_PRNT));
      928    10854
      929    10855    1      IF CHECK_CTX ~= 0
      930    10856    2      THEN DO;
      931    10857    2           CALL DAF$WRITE(VECTOR(KN_RPT3));
      932    10858    2           END;
      933    10859
      934    10860    1      CALL DAF$WRITE(VECTOR(BLANK_LINE));
      935    10861    1      RETURN;
      936    10862    1   END DBD$KNINFO;
      937    10863        %EOD;

PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:157  
--  Include file information  --

   KN_DATA_M.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure DBD$KNINFO.

   Procedure DBD$KNINFO requires 239 words for executable code.
   Procedure DBD$KNINFO requires 58 words of local(AUTO) storage.

PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:158  

 Object Unit name= DBD$KNINFO                                 File name= DBD$FMT_KN.:E05TOU
 UTS= JUL 29 '97 13:06:36.72 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1  RoData even  UTS     42     52  DBD$KNINFO
    2   Data  even  none     3      3  DBD$KNINFO
    3   Proc  even  none   239    357  DBD$KNINFO
    4  RoData even  none    27     33  DBD$KNINFO

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes    yes     yes      Std        2  DBD$KNINFO

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    2      0  DBD_FEPCTX_START$                  2      1  DBD_FEPCTX_END$
    2      2  DBD_FEPCTX_MAX#
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:159  

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std      10 DBM$GETMEM
         yes           Std       2 DBM$PACK2
         yes           Std       2 DBM$PACK4
                       nStd      0 X66_AUTO_2
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AALT
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  DAF$WRITE                             BLANK_LINE
     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:160  


      827        1        /*T***********************************************************/
      828        2        /*T*                                                         */
      829        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      830        4        /*T*                                                         */
      831        5        /*T***********************************************************/
      832        6
      833        7        /*X* PLM=3,IND=5,ECU=0,ENU=0   */
      834        8
      835        9        /*F*    NAME: DBD$KNINFO
      836       10                PURPOSE: To format the static data for IOP, SSN and LDCT.
      837       11        */
      838       12
      839       13        DBD$KNINFO: PROC(INFO$,CHECK) ALTRET;

     13  3 000000   000000 700200 xent  DBD$KNINFO   TSX0  ! X66_AUTO_2
         3 000001   000072 000002                    ZERO    58,2

      840       14        %INCLUDE CP_6;
      841     5573        %INCLUDE DA_FORMAT_C;
      842     5815        %INCLUDE XU_MACRO_C;
      843     8921        %INCLUDE KN_DATA_M;
      844    10707
      845    10708    1   DCL INFO$ UBIN;                         /* ADDR( KN$DATA_TBL) in L6 memory    */
      846    10709    1   DCL CHECK UBIN;                         /* 0 = read data table  1 = print info*/
      847    10710
      848    10711    1   DCL OFFSET UBIN;
      849    10712    1   DCL UNUSED UBIN;
      850    10713    1   DCL USED UBIN;
      851    10714    1   DCL CHECK_CTX UBIN;
      852    10715    1   DCL HEAD$ UBIN;
      853    10716    1   DCL STOP$ UBIN;
      854    10717    1   DCL END$ UBIN;
      855    10718    1   DCL LNK_ADDR$ UBIN;
      856    10719    1   DCL LNK$ UBIN;
      857    10720
      858    10721    1   DCL ERR_PRNT CHAR(4);
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:161  
      859    10722
      860    10723        %KN_DATA_TBL (FPTN=KN$DATA,TYPE=STRUCTURE,STCLASS=AUTO);
      861    10787
      862    10788    1   DCL KN_RPT1 CHAR(0) CONSTANT INIT(
      863    10789    1   '%A START$: .%@5.32ZH  END$: .%@5.32ZH  HEAD$: .%@5.32ZH Defined: %@5.16D');
      864    10790
      865    10791    1   DCL KN_RPT2 CHAR(0) CONSTANT INIT(
      866    10792    1   'Peak: %@5.16D  Use count: %@5.16D  On free chain: %5D %A');
      867    10793
      868    10794    1   DCL KN_RPT3 CHAR(0) CONSTANT INIT(
      869    10795    1   'Validation routine is turned on');
      870    10796
      871    10797    1   DCL DAA$VALUE ENTRY(3) ALTRET;
      872    10798    1   DCL DAF$WRITE EPTR SYMREF;
      873    10799    1   DCL DBM$GETMEM ENTRY(10) ALTRET;
      874    10800    1   DCL DBM$PACK2 ENTRY(2);
      875    10801    1   DCL DBM$PACK4 ENTRY(2);
      876    10802
      877    10803    1   DCL BLANK_LINE CHAR(4) SYMREF;
      878    10804
      879    10805    1   DCL DBD_FEPCTX_START$ UBIN STATIC SYMDEF INIT(0);
      880    10806    1   DCL DBD_FEPCTX_END$ UBIN STATIC SYMDEF INIT(0);
      881    10807    1   DCL DBD_FEPCTX_MAX# UBIN STATIC SYMDEF INIT(0);
      882    10808
      883    10809        %EJECT;
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:162  
      884    10810    1      CALL DBM$GETMEM(INFO$,KN$DATA,0,SIZEC(KN$DATA),,SIZEC(KN$DATA))

  10810  3 000002   000001 236000 4                  LDQ     1
         3 000003   000001 235000 xsym               LDA     B_VECTNIL+1
         3 000004   200032 757100                    STAQ    KN$DATA+11,,AUTO
         3 000005   000002 237000 4                  LDAQ    2
         3 000006   200030 757100                    STAQ    KN$DATA+9,,AUTO
         3 000007   200017 630500                    EPPR0   KN$DATA,,AUTO
         3 000010   200027 450500                    STP0    KN$DATA+8,,AUTO
         3 000011   200003 236100                    LDQ     @INFO$,,AUTO
         3 000012   200026 756100                    STQ     KN$DATA+7,,AUTO
         3 000013   200026 630500                    EPPR0   KN$DATA+7,,AUTO
         3 000014   000024 631400 xsym               EPPR1   B_VECTNIL+20
         3 000015   000000 701000 xent               TSX1    DBM$GETMEM
         3 000016   000020 702000 3                  TSX2    s:10811
         3 000017   000021 710000 3                  TRA     s:10813

      885    10811    2      WHENALTRETURN DO; ALTRETURN; END;

  10811  3 000020   000000 702200 xent               TSX2  ! X66_AALT

      886    10812
      887    10813    1      CALL DBM$PACK4(KN$DATA.START$,DBD_FEPCTX_START$);

  10813  3 000021   000004 236000 4                  LDQ     4
         3 000022   200027 756100                    STQ     KN$DATA+8,,AUTO
         3 000023   200017 630500                    EPPR0   KN$DATA,,AUTO
         3 000024   200026 450500                    STP0    KN$DATA+7,,AUTO
         3 000025   200026 630500                    EPPR0   KN$DATA+7,,AUTO
         3 000026   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000027   000000 701000 xent               TSX1    DBM$PACK4
         3 000030   000000 011000                    NOP     0

      888    10814    1      CALL DBM$PACK4(KN$DATA.END$,DBD_FEPCTX_END$);

  10814  3 000031   000005 236000 4                  LDQ     5
         3 000032   200027 756100                    STQ     KN$DATA+8,,AUTO
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:163  
         3 000033   200020 630500                    EPPR0   KN$DATA+1,,AUTO
         3 000034   200026 450500                    STP0    KN$DATA+7,,AUTO
         3 000035   200026 630500                    EPPR0   KN$DATA+7,,AUTO
         3 000036   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000037   000000 701000 xent               TSX1    DBM$PACK4
         3 000040   000000 011000                    NOP     0

      889    10815    1      CALL DBM$PACK4(KN$DATA.HEAD$,HEAD$);

  10815  3 000041   200011 630500                    EPPR0   HEAD$,,AUTO
         3 000042   200027 450500                    STP0    KN$DATA+8,,AUTO
         3 000043   200021 631500                    EPPR1   KN$DATA+2,,AUTO
         3 000044   200026 451500                    STP1    KN$DATA+7,,AUTO
         3 000045   200026 630500                    EPPR0   KN$DATA+7,,AUTO
         3 000046   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000047   000000 701000 xent               TSX1    DBM$PACK4
         3 000050   000000 011000                    NOP     0

      890    10816    1      CALL DBM$PACK2(KN$DATA.MAX#,DBD_FEPCTX_MAX#);

  10816  3 000051   000006 236000 4                  LDQ     6
         3 000052   200027 756100                    STQ     KN$DATA+8,,AUTO
         3 000053   200022 630500                    EPPR0   KN$DATA+3,,AUTO
         3 000054   200026 450500                    STP0    KN$DATA+7,,AUTO
         3 000055   200026 630500                    EPPR0   KN$DATA+7,,AUTO
         3 000056   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000057   000000 701000 xent               TSX1    DBM$PACK2
         3 000060   000000 011000                    NOP     0

      891    10817    1      CALL DBM$PACK2(KN$DATA.USE#,USED);

  10817  3 000061   200007 630500                    EPPR0   USED,,AUTO
         3 000062   200027 450500                    STP0    KN$DATA+8,,AUTO
         3 000063   200030 452500                    STP2    KN$DATA+9,,AUTO
         3 000064   200030 236100                    LDQ     KN$DATA+9,,AUTO
         3 000065   000007 036000 4                  ADLQ    7
         3 000066   200026 756100                    STQ     KN$DATA+7,,AUTO
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:164  
         3 000067   200026 630500                    EPPR0   KN$DATA+7,,AUTO
         3 000070   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000071   000000 701000 xent               TSX1    DBM$PACK2
         3 000072   000000 011000                    NOP     0

      892    10818    1      CALL DBM$PACK2(KN$DATA.CHECK,CHECK_CTX);

  10818  3 000073   200010 630500                    EPPR0   CHECK_CTX,,AUTO
         3 000074   200027 450500                    STP0    KN$DATA+8,,AUTO
         3 000075   200030 452500                    STP2    KN$DATA+9,,AUTO
         3 000076   200030 236100                    LDQ     KN$DATA+9,,AUTO
         3 000077   000010 036000 4                  ADLQ    8
         3 000100   200026 756100                    STQ     KN$DATA+7,,AUTO
         3 000101   200026 630500                    EPPR0   KN$DATA+7,,AUTO
         3 000102   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000103   000000 701000 xent               TSX1    DBM$PACK2
         3 000104   000000 011000                    NOP     0

      893    10819    1      CALL DBM$PACK2(KN$DATA.LNK#,OFFSET);

  10819  3 000105   200005 630500                    EPPR0   OFFSET,,AUTO
         3 000106   200027 450500                    STP0    KN$DATA+8,,AUTO
         3 000107   200024 631500                    EPPR1   KN$DATA+5,,AUTO
         3 000110   200026 451500                    STP1    KN$DATA+7,,AUTO
         3 000111   200026 630500                    EPPR0   KN$DATA+7,,AUTO
         3 000112   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000113   000000 701000 xent               TSX1    DBM$PACK2
         3 000114   000000 011000                    NOP     0

      894    10820
      895    10821    1      IF CHECK = 0 THEN RETURN;

  10821  3 000115   200004 470500                    LDP0    @CHECK,,AUTO
         3 000116   000000 235100                    LDA     0,,PR0
         3 000117   000121 601000 3                  TNZ     s:10823

  10821  3 000120   000000 702200 xent               TSX2  ! X66_ARET
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:165  

      896    10822
      897    10823    1      UNUSED = 0;

  10823  3 000121   200006 450100                    STZ     UNUSED,,AUTO

      898    10824    2      DO WHILE HEAD$ ~= 0;

  10824  3 000122   200011 235100                    LDA     HEAD$,,AUTO
         3 000123   000172 600000 3                  TZE     CHECK_COUNTS

      899    10825    2           LNK_ADDR$ = HEAD$ + OFFSET;

  10825  3 000124   200011 236100                    LDQ     HEAD$,,AUTO
         3 000125   200005 036100                    ADLQ    OFFSET,,AUTO
         3 000126   200014 756100                    STQ     LNK_ADDR$,,AUTO

      900    10826    2           CALL DBM$GETMEM(LNK_ADDR$,LNK$,0,4,,4)

  10826  3 000127   000011 236000 4                  LDQ     9
         3 000130   000001 235000 xsym               LDA     B_VECTNIL+1
         3 000131   200032 757100                    STAQ    KN$DATA+11,,AUTO
         3 000132   000012 237000 4                  LDAQ    10
         3 000133   200030 757100                    STAQ    KN$DATA+9,,AUTO
         3 000134   200015 630500                    EPPR0   LNK$,,AUTO
         3 000135   200027 450500                    STP0    KN$DATA+8,,AUTO
         3 000136   200014 631500                    EPPR1   LNK_ADDR$,,AUTO
         3 000137   200026 451500                    STP1    KN$DATA+7,,AUTO
         3 000140   200026 630500                    EPPR0   KN$DATA+7,,AUTO
         3 000141   000024 631400 xsym               EPPR1   B_VECTNIL+20
         3 000142   000000 701000 xent               TSX1    DBM$GETMEM
         3 000143   000145 702000 3                  TSX2    s:10827
         3 000144   000146 710000 3                  TRA     s:10829

      901    10827    3           WHENALTRETURN DO; GOTO CHECK_COUNTS/*N*/; END;

  10827  3 000145   000172 710000 3                  TRA     CHECK_COUNTS
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:166  

      902    10828
      903    10829    2           UNUSED = UNUSED +1;

  10829  3 000146   200006 235100                    LDA     UNUSED,,AUTO
         3 000147   000001 035007                    ADLA    1,DL
         3 000150   200006 755100                    STA     UNUSED,,AUTO

      904    10830
      905    10831    2           CALL DBM$PACK4(LNK$,LNK$);

  10831  3 000151   200015 630500                    EPPR0   LNK$,,AUTO
         3 000152   200027 450500                    STP0    KN$DATA+8,,AUTO
         3 000153   200015 631500                    EPPR1   LNK$,,AUTO
         3 000154   200026 451500                    STP1    KN$DATA+7,,AUTO
         3 000155   200026 630500                    EPPR0   KN$DATA+7,,AUTO
         3 000156   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000157   000000 701000 xent               TSX1    DBM$PACK4
         3 000160   000000 011000                    NOP     0

      906    10832    2           IF HEAD$ = LNK$

  10832  3 000161   200011 236100                    LDQ     HEAD$,,AUTO
         3 000162   200015 116100                    CMPQ    LNK$,,AUTO
         3 000163   000165 601000 3                  TNZ     s:10837

      907    10833    3           THEN DO;

      908    10834    3                GOTO CHECK_COUNTS/*N*/;

  10834  3 000164   000172 710000 3                  TRA     CHECK_COUNTS

      909    10835    3                END;
      910    10836
      911    10837    2           IF HEAD$ = DBD_FEPCTX_END$

  10837  3 000165   000001 116000 2                  CMPQ    DBD_FEPCTX_END$
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:167  
         3 000166   000172 600000 3                  TZE     CHECK_COUNTS

      912    10838    2           THEN GOTO CHECK_COUNTS;
      913    10839
      914    10840    2           HEAD$ = LNK$;

  10840  3 000167   200015 235100                    LDA     LNK$,,AUTO
         3 000170   200011 755100                    STA     HEAD$,,AUTO

      915    10841    2           END/*do while*/;

  10841  3 000171   000124 601000 3                  TNZ     s:10825

  10834  3 000172                       CHECK_COUNTS null
      916    10842
      917    10843    1   CHECK_COUNTS: ;
      918    10844    1      IF UNUSED + USED ~= DBD_FEPCTX_MAX#

  10844  3 000172   200006 236100                    LDQ     UNUSED,,AUTO
         3 000173   200007 036100                    ADLQ    USED,,AUTO
         3 000174   000002 116000 2                  CMPQ    DBD_FEPCTX_MAX#
         3 000175   000201 600000 3                  TZE     s:10846

      919    10845    1      THEN ERR_PRNT = '!ERR';

  10845  3 000176   000050 236000 1                  LDQ     KN_RPT3+8
         3 000177   200016 756100                    STQ     ERR_PRNT,,AUTO
         3 000200   000203 710000 3                  TRA     s:10848

      920    10846    1      ELSE ERR_PRNT = '    ';

  10846  3 000201   000051 236000 1                  LDQ     KN_RPT3+9
         3 000202   200016 756100                    STQ     ERR_PRNT,,AUTO

      921    10847
      922    10848    1      CALL DAF$WRITE(VECTOR(KN_RPT1), VECTOR(KN$DATA.NAME),

PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:168  
  10848  3 000203   777640 235007                    LDA     -96,DL
         3 000204   200026 452500                    STP2    KN$DATA+7,,AUTO
         3 000205   200026 236100                    LDQ     KN$DATA+7,,AUTO
         3 000206   000016 036000 4                  ADLQ    14
         3 000207   200030 757100                    STAQ    KN$DATA+9,,AUTO
         3 000210   777640 235007                    LDA     -96,DL
         3 000211   200032 452500                    STP2    KN$DATA+11,,AUTO
         3 000212   200032 236100                    LDQ     KN$DATA+11,,AUTO
         3 000213   000017 036003                    ADLQ    15,DU
         3 000214   200034 757100                    STAQ    KN$DATA+13,,AUTO
         3 000215   777640 235007                    LDA     -96,DL
         3 000216   200036 452500                    STP2    KN$DATA+15,,AUTO
         3 000217   200036 236100                    LDQ     KN$DATA+15,,AUTO
         3 000220   000020 036003                    ADLQ    16,DU
         3 000221   200040 757100                    STAQ    KN$DATA+17,,AUTO
         3 000222   777640 235007                    LDA     -96,DL
         3 000223   200042 452500                    STP2    KN$DATA+19,,AUTO
         3 000224   200042 236100                    LDQ     KN$DATA+19,,AUTO
         3 000225   000021 036003                    ADLQ    17,DU
         3 000226   200044 757100                    STAQ    KN$DATA+21,,AUTO
         3 000227   377640 235007                    LDA     130976,DL
         3 000230   200046 452500                    STP2    KN$DATA+23,,AUTO
         3 000231   200046 236100                    LDQ     KN$DATA+23,,AUTO
         3 000232   000022 036003                    ADLQ    18,DU
         3 000233   200052 757100                    STAQ    KN$DATA+27,,AUTO
         3 000234   200030 237100                    LDAQ    KN$DATA+9,,AUTO
         3 000235   200050 757100                    STAQ    KN$DATA+25,,AUTO
         3 000236   200034 237100                    LDAQ    KN$DATA+13,,AUTO
         3 000237   200054 757100                    STAQ    KN$DATA+29,,AUTO
         3 000240   200040 237100                    LDAQ    KN$DATA+17,,AUTO
         3 000241   200056 757100                    STAQ    KN$DATA+31,,AUTO
         3 000242   200044 237100                    LDAQ    KN$DATA+21,,AUTO
         3 000243   200060 757100                    STAQ    KN$DATA+33,,AUTO
         3 000244   200052 237100                    LDAQ    KN$DATA+27,,AUTO
         3 000245   200062 757100                    STAQ    KN$DATA+35,,AUTO
         3 000246   200062 630500                    EPPR0   KN$DATA+35,,AUTO
         3 000247   200071 450500                    STP0    KN$DATA+42,,AUTO
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:169  
         3 000250   200060 631500                    EPPR1   KN$DATA+33,,AUTO
         3 000251   200070 451500                    STP1    KN$DATA+41,,AUTO
         3 000252   200056 633500                    EPPR3   KN$DATA+31,,AUTO
         3 000253   200067 453500                    STP3    KN$DATA+40,,AUTO
         3 000254   200054 634500                    EPPR4   KN$DATA+29,,AUTO
         3 000255   200066 454500                    STP4    KN$DATA+39,,AUTO
         3 000256   200050 635500                    EPPR5   KN$DATA+25,,AUTO
         3 000257   200065 455500                    STP5    KN$DATA+38,,AUTO
         3 000260   000017 236000 4                  LDQ     15
         3 000261   200064 756100                    STQ     KN$DATA+37,,AUTO
         3 000262   200064 630500                    EPPR0   KN$DATA+37,,AUTO
         3 000263   000000 220000 xsym               LDX0    DAF$WRITE
         3 000264   000024 631400 xsym               EPPR1   B_VECTNIL+20
         3 000265   000000 701010                    TSX1    0,X0
         3 000266   000000 011000                    NOP     0

      923    10849    1        VECTOR(KN$DATA.START$), VECTOR(KN$DATA.END$), VECTOR(KN$DATA.HEAD$),
      924    10850    1        VECTOR(KN$DATA.MAX#));
      925    10851
      926    10852    1      CALL DAF$WRITE(VECTOR(KN_RPT2), VECTOR(KN$DATA.PEAK#),

  10852  3 000267   377640 235007                    LDA     130976,DL
         3 000270   200026 452500                    STP2    KN$DATA+7,,AUTO
         3 000271   200026 236100                    LDQ     KN$DATA+7,,AUTO
         3 000272   000023 036003                    ADLQ    19,DU
         3 000273   200030 757100                    STAQ    KN$DATA+9,,AUTO
         3 000274   377640 235007                    LDA     130976,DL
         3 000275   200032 452500                    STP2    KN$DATA+11,,AUTO
         3 000276   200032 236100                    LDQ     KN$DATA+11,,AUTO
         3 000277   000007 036000 4                  ADLQ    7
         3 000300   200034 757100                    STAQ    KN$DATA+13,,AUTO
         3 000301   777640 235007                    LDA     -96,DL
         3 000302   200036 452500                    STP2    KN$DATA+15,,AUTO
         3 000303   200036 236100                    LDQ     KN$DATA+15,,AUTO
         3 000304   000006 036003                    ADLQ    6,DU
         3 000305   200040 757100                    STAQ    KN$DATA+17,,AUTO
         3 000306   777640 235007                    LDA     -96,DL
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:170  
         3 000307   200042 452500                    STP2    KN$DATA+19,,AUTO
         3 000310   200042 236100                    LDQ     KN$DATA+19,,AUTO
         3 000311   000016 036003                    ADLQ    14,DU
         3 000312   200046 757100                    STAQ    KN$DATA+23,,AUTO
         3 000313   200030 237100                    LDAQ    KN$DATA+9,,AUTO
         3 000314   200044 757100                    STAQ    KN$DATA+21,,AUTO
         3 000315   200034 237100                    LDAQ    KN$DATA+13,,AUTO
         3 000316   200050 757100                    STAQ    KN$DATA+25,,AUTO
         3 000317   200040 237100                    LDAQ    KN$DATA+17,,AUTO
         3 000320   200052 757100                    STAQ    KN$DATA+27,,AUTO
         3 000321   200046 237100                    LDAQ    KN$DATA+23,,AUTO
         3 000322   200054 757100                    STAQ    KN$DATA+29,,AUTO
         3 000323   200054 630500                    EPPR0   KN$DATA+29,,AUTO
         3 000324   200062 450500                    STP0    KN$DATA+35,,AUTO
         3 000325   200052 631500                    EPPR1   KN$DATA+27,,AUTO
         3 000326   200061 451500                    STP1    KN$DATA+34,,AUTO
         3 000327   200050 633500                    EPPR3   KN$DATA+25,,AUTO
         3 000330   200060 453500                    STP3    KN$DATA+33,,AUTO
         3 000331   200044 634500                    EPPR4   KN$DATA+21,,AUTO
         3 000332   200057 454500                    STP4    KN$DATA+32,,AUTO
         3 000333   000022 236000 4                  LDQ     18
         3 000334   200056 756100                    STQ     KN$DATA+31,,AUTO
         3 000335   200056 630500                    EPPR0   KN$DATA+31,,AUTO
         3 000336   000000 220000 xsym               LDX0    DAF$WRITE
         3 000337   000023 631400 xsym               EPPR1   B_VECTNIL+19
         3 000340   000000 701010                    TSX1    0,X0
         3 000341   000000 011000                    NOP     0

      927    10853    1        VECTOR(KN$DATA.USE#), VECTOR(UNUSED),  VECTOR(ERR_PRNT));
      928    10854
      929    10855    1      IF CHECK_CTX ~= 0

  10855  3 000342   200010 235100                    LDA     CHECK_CTX,,AUTO
         3 000343   000351 600000 3                  TZE     s:10860

      930    10856    2      THEN DO;

PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:171  
      931    10857    2           CALL DAF$WRITE(VECTOR(KN_RPT3));

  10857  3 000344   000026 630400 4                  EPPR0   22
         3 000345   000000 220000 xsym               LDX0    DAF$WRITE
         3 000346   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000347   000000 701010                    TSX1    0,X0
         3 000350   000000 011000                    NOP     0

      932    10858    2           END;

      933    10859
      934    10860    1      CALL DAF$WRITE(VECTOR(BLANK_LINE));

  10860  3 000351   000032 630400 4                  EPPR0   26
         3 000352   000000 220000 xsym               LDX0    DAF$WRITE
         3 000353   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000354   000000 701010                    TSX1    0,X0
         3 000355   000000 011000                    NOP     0

      935    10861    1      RETURN;

  10861  3 000356   000000 702200 xent               TSX2  ! X66_ARET
      936    10862    1   END DBD$KNINFO;
      937    10863        %EOD;

PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:172  
--  Include file information  --

   KN_DATA_M.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure DBD$KNINFO.
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:173  

 **** Variables and constants ****

  ****  Section 001 RoData DBD$KNINFO

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(72)    r     1 KN_RPT1                   22-0-0/c CHAR(56)    r     1 KN_RPT2
    40-0-0/c CHAR(31)    r     1 KN_RPT3

  ****  Section 002  Data  DBD$KNINFO

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     1-0-0/w UBIN        r     1 DBD_FEPCTX_END$            2-0-0/w UBIN        r     1 DBD_FEPCTX_MAX#
     0-0-0/w UBIN        r     1 DBD_FEPCTX_START$

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w PTR         r     1 @CHECK                     3-0-0/w PTR         r     1 @INFO$
    *0-0-0/w UBIN        r     1 CHECK                     10-0-0/w UBIN        r     1 CHECK_CTX
    16-0-0/c CHAR(4)     r     1 ERR_PRNT                  11-0-0/w UBIN        r     1 HEAD$
    *0-0-0/w UBIN        r     1 INFO$                     17-0-0/w STRC(234)   r     1 KN$DATA
    15-0-0/w UBIN        r     1 LNK$                      14-0-0/w UBIN        r     1 LNK_ADDR$
     5-0-0/w UBIN        r     1 OFFSET                     6-0-0/w UBIN        r     1 UNUSED
     7-0-0/w UBIN        r     1 USED

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(4)     r     1 BLANK_LINE                 0-0-0/w EPTR        r     1 DAF$WRITE
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:174  


   Procedure DBD$KNINFO requires 239 words for executable code.
   Procedure DBD$KNINFO requires 58 words of local(AUTO) storage.
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:175  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:176  
          MINI XREF LISTING

BLANK_LINE
     10803**DCL     10860--CALL
CHECK
     10709**DCL        13--PROC    10821>>IF
CHECK_COUNTS
     10834**LABEL   10827--GOTO    10834--GOTO    10838--GOTO
CHECK_CTX
     10714**DCL     10818<>CALL    10855>>IF
DAF$WRITE
     10798**DCL     10848>>CALL    10852>>CALL    10857>>CALL    10860>>CALL
DBD_FEPCTX_END$
     10806**DCL     10814<>CALL    10837>>IF
DBD_FEPCTX_MAX#
     10807**DCL     10816<>CALL    10844>>IF
DBD_FEPCTX_START$
     10805**DCL     10813<>CALL
DBM$GETMEM
     10799**DCL-ENT 10810--CALL    10826--CALL
DBM$PACK2
     10800**DCL-ENT 10816--CALL    10817--CALL    10818--CALL    10819--CALL
DBM$PACK4
     10801**DCL-ENT 10813--CALL    10814--CALL    10815--CALL    10831--CALL
ERR_PRNT
     10721**DCL     10845<<ASSIGN  10846<<ASSIGN  10852--CALL
HEAD$
     10715**DCL     10815<>CALL    10824>>DOWHILE 10825>>ASSIGN  10832>>IF      10837>>IF      10840<<ASSIGN
INFO$
     10708**DCL        13--PROC    10810<>CALL
KN$DATA
     10729**DCL     10810<>CALL    10810--CALL    10810--CALL
KN$DATA.CHECK
     10770**DCL     10818<>CALL
PL6.E3A0      #004=DBD$KNINFO File=DBD$FMT_KN.:E05TSI                            TUE 07/29/97 13:06 Page:177  
KN$DATA.END$
     10745**DCL     10814<>CALL    10848--CALL
KN$DATA.HEAD$
     10750**DCL     10815<>CALL    10848--CALL
KN$DATA.LNK#
     10776**DCL     10819<>CALL
KN$DATA.MAX#
     10756**DCL     10816<>CALL    10848--CALL
KN$DATA.NAME
     10782**DCL     10848--CALL
KN$DATA.PEAK#
     10765**DCL     10852--CALL
KN$DATA.START$
     10740**DCL     10813<>CALL    10848--CALL
KN$DATA.USE#
     10761**DCL     10817<>CALL    10852--CALL
KN_RPT1
     10788**DCL     10848--CALL
KN_RPT2
     10791**DCL     10852--CALL
KN_RPT3
     10794**DCL     10857--CALL
LNK$
     10719**DCL     10826<>CALL    10831<>CALL    10831<>CALL    10832>>IF      10840>>ASSIGN
LNK_ADDR$
     10718**DCL     10825<<ASSIGN  10826<>CALL
OFFSET
     10711**DCL     10819<>CALL    10825>>ASSIGN
UNUSED
     10712**DCL     10823<<ASSIGN  10829<<ASSIGN  10829>>ASSIGN  10844>>IF      10852--CALL
USED
     10713**DCL     10817<>CALL    10844>>IF

PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:178  
      938        1        /*T***********************************************************/
      939        2        /*T*                                                         */
      940        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      941        4        /*T*                                                         */
      942        5        /*T***********************************************************/
      943        6        /*F*    NAME: DBD$TCTX
      944        7                PURPOSE: To process the TCTX command for FEPs.
      945        8
      946        9        */
      947       10        DBD$TCTX: PROC(TOP);
      948       11
      949       12        /*X* PLM=3,IND=5,ECU=0,ENU=0,MOC   */
      950       13
      951       14        %INCLUDE CP_6;
      952     5573        %INCLUDE GH_SCHD_M;
      953     5717        %INCLUDE G$BOBCAT_M;
      954     5737        %INCLUDE KN_DATA_M;
      955     7523        %INCLUDE K_ADDRESS_M;
      956     8026        %INCLUDE DA_FORMAT_C;
      957     8268        %INCLUDE XU_MACRO_C;
      958    11374        %INCLUDE DA_ANLZ_R;
      959    11387        %INCLUDE DB_PERR_C;
      960    11405
      961    11406        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
      962    11451        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
      963    11496
      964    11497    1   DCL DAA$VALUE ENTRY(3) ALTRET;
      965    11498    1   DCL DAF$WRITE EPTR SYMREF;
      966    11499    1   DCL DAF$INIT ENTRY(1) ALTRET;
      967    11500    1   DCL DBB$HEXDUMP ENTRY(4);
      968    11501    1   DCL DBM$GETMEM ENTRY(10) ALTRET;
      969    11502    1   DCL DBM$GETBOBCAT ENTRY(1) ALTRET;
      970    11503    1   DCL DBM$PACK1 ENTRY(2);
      971    11504    1   DCL DBM$PACK2 ENTRY(2);
      972    11505    1   DCL DBM$PACK4 ENTRY(2);
      973    11506    1   DCL DBD$KNINFO ENTRY(2) ALTRET;
      974    11507
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:179  
      975    11508
      976    11509        %REPORT (NAME=TCTXRPT1,TRUNC=YES,TABDFLT=5,HEADER=YES,TITLE='FEP Transport Context')
             11509            ;
      977    11575        %HEADER (LAST=NO,TEXT=
      978    11576        'TCTX$  TCTX# STATE     NODES  DST_REF SENDN RECVN QOS  CLASS FLAGS BufBy RSN ERR');
      979    11618        %HEADER (TEXT=
      980    11619        '------ ----- -------- ------- ------- ----- ----- ---- ----- ----- ----- --- ---');
      981    11661    1   DCL 1 TCTX_FMT1 CHAR(0) CONSTANT INIT(
      982    11662    1   '.%5ZH %@5.16D %A %@7.8D %@7.16D %@5.32D %@5.32D %@4.8D %@5.8D .%4ZH %5D %@3.8D %@3.
             11662        8D');
      983    11663
      984    11664    1   DCL 1 TCTX_FMT1X CHAR(0) CONSTANT INIT(
      985    11665    1   '.%5ZH %@5.16D %A %@3.8D-%@3.8D %@3.16D-%@3.16D %@5.32D %@5.32D %@4.8D %@5.8D .%4ZH
             11665        %5D %@3.8D %@3.8D');
      986    11666
      987    11667    1   DCL 1 TCTX_FMT1Y CHAR(0) CONSTANT INIT(
      988    11668    1   '.%5ZH %@5.16D %A %@3.8D-%A %@3.16D-%@3.16D %@5.32D %@5.32D %@4.8D %@5.8D .%4ZH %5D
             11668        %@3.8D %@3.8D');
      989    11669
      990    11670        %K_TCTX_ST_TXT (FPTN=K_TCTX_STATE, STCLASS=STATIC);
      991    11687
      992    11688    1   DCL BAD_TCTX_ADDR CHAR(0) CONSTANT INIT(
      993    11689    1      'Invalid TCTX address');
      994    11690
      995    11691    1   DCL BLANK3 CHAR(3) STATIC INIT('   ');
      996    11692        /* AUTO Storage */
      997    11693        %G$BOBCAT (FPTN=G$BOBCAT,STCLASS=AUTO);
      998    11706        %K$TCTX (NAME=K$TCTX,STCLASS=AUTO,ALGN=CALIGNED);
      999    12613
     1000    12614    1   DCL I SBIN;
     1001    12615    1   DCL X UBIN;
     1002    12616    1   DCL RADIX UBIN;
     1003    12617
     1004    12618    1   DCL TCTX_DATA$ UBIN;
     1005    12619    1   DCL THIS_TCTX$ UBIN;
     1006    12620    1   DCL TCTX_$$ UBIN;
     1007    12621    1   DCL TCTX_SIZE UBIN;
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:180  
     1008    12622    1   DCL STATE UBIN;
     1009    12623    1   DCL FLAGS UBIN;
     1010    12624    1   DCL BUF_BYT UBIN;
     1011    12625    1   DCL TEMP UBIN;
     1012    12626    1   DCL ACTION UBIN;              /* 0 = display all     1 = display if in use    */
     1013    12627    1   DCL ENTRY_TYPE UBIN;          /* 0 = display TCTXs     1 = check TCTX chain*/
     1014    12628    1   DCL HEADER0 UBIN;
     1015    12629    1   DCL HEADER1 UBIN;
     1016    12630
     1017    12631    1   DCL 1 TCTXFLG,
     1018    12632    1         2 F BIT(9) UNAL,
     1019    12633    1         2 * BIT(27) UNAL;
     1020    12634
     1021    12635    1   DCL DBD_BOBCAT$ UBIN SYMREF;
     1022    12636
     1023    12637    1   DCL DBD_FEPCTX_START$ UBIN SYMREF;
     1024    12638    1   DCL DBD_FEPCTX_END$ UBIN SYMREF;
     1025    12639    1   DCL DBD_FEPCTX_MAX# UBIN SYMREF;
     1026    12640
     1027    12641    1   DCL B$1WORD UBIN BASED;
     1028    12642    1   DCL M$DO DCB;
     1029    12643
     1030    12644        %EJECT;
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:181  
     1031    12645    1      ENTRY_TYPE=0/*display TCTXs*/;
     1032    12646    1      GOTO TCTX_START;
     1033    12647
     1034    12648    1   DBD$TCTX_CHECK: ENTRY(TOP);
     1035    12649    1      ENTRY_TYPE=1/*check TCTX chain*/;
     1036    12650
     1037    12651    1   TCTX_START: ;
     1038    12652    1      HEADER0 = 0;
     1039    12653    1      TCTX_SIZE = (SIZEC(K$TCTX)+1)/2;
     1040    12654    1      CALL DBM$GETBOBCAT(G$BOBCAT)
     1041    12655    2      WHENALTRETURN DO; RETURN; END;
     1042    12656
     1043    12657    1      CALL DBM$PACK4(G$BOBCAT.TCTXDATA$,TCTX_DATA$);
     1044    12658    1      CALL DBM$PACK4(G$BOBCAT.TCTX$$,TCTX_$$);
     1045    12659
     1046    12660    1      CALL DBD$KNINFO(TCTX_DATA$,0);
     1047    12661
     1048    12662    1      IF (ENTRY_TYPE=1/*if check*/)
     1049    12663    2      THEN DO;
     1050    12664    2           CALL DBD$KNINFO(TCTX_DATA$,1);
     1051    12665    2           RETURN;
     1052    12666    2           END/*do if check*/;
     1053    12667
     1054    12668        %EJECT;
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:182  
     1055    12669    1   DISPLAY_ALL: ;
     1056    12670    1      IF TOP.NSUBLKS=0
     1057    12671    2      THEN DO;
     1058    12672    2           ACTION=1/*display all in use*/;
     1059    12673    3           DO I=0 TO DBD_FEPCTX_MAX#;
     1060    12674    3                THIS_TCTX$ = TCTX_$$ + (2*I);
     1061    12675    3                CALL DBM$GETMEM(THIS_TCTX$,THIS_TCTX$,0,4,,4);
     1062    12676    3                CALL DBM$PACK4(THIS_TCTX$,THIS_TCTX$);
     1063    12677    3                IF THIS_TCTX$ ~= 0
     1064    12678    3                THEN CALL DISP_TCTX;
     1065    12679    3                END;
     1066    12680    2           END;
     1067    12681
     1068    12682    2      ELSE DO;
     1069    12683    3           DO X=0 TO TOP.NSUBLKS-1;
     1070    12684    3                CALL DAA$VALUE(TOP.SUBLK$(X)->OUT,THIS_TCTX$)
     1071    12685    4                WHENRETURN DO;
     1072    12686    4                     IF THIS_TCTX$ = 0
     1073    12687    5                     THEN DO;
     1074    12688    5                          ACTION=0/*display all*/;
     1075    12689    6                          DO I=0 TO DBD_FEPCTX_MAX# -1;
     1076    12690    6                               THIS_TCTX$ = DBD_FEPCTX_START$ + (TCTX_SIZE *I);
     1077    12691    6                               CALL DISP_TCTX;
     1078    12692    6                               END;
     1079    12693    5                          RETURN;
     1080    12694    5                          END;
     1081    12695
     1082    12696    4                     CALL DISP_TCTX
     1083    12697    5                     WHENRETURN DO;
     1084    12698    5                          END/*return from disp_iop*/;
     1085    12699    4                     END/*return from daa$value*/;
     1086    12700
     1087    12701    3                END/*do X=0 to nsublks-1*/;
     1088    12702    2           END/*else do*/;
     1089    12703
     1090    12704
     1091    12705    1      RETURN;
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:183  
     1092    12706
     1093    12707        %EJECT;
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:184  
     1094    12708    1   DISP_TCTX: PROC ALTRET;
     1095    12709    2      IF THIS_TCTX$ < DBD_BOBCAT$
     1096    12710    3      THEN DO;
     1097    12711    3           IF (THIS_TCTX$ > DBD_FEPCTX_MAX#) THEN GOTO REPORT_BAD_TCTX;
     1098    12712    3           THIS_TCTX$ = DBD_FEPCTX_START$ + (TCTX_SIZE *(THIS_TCTX$-1));
     1099    12713    3           END;
     1100    12714
     1101    12715    2      IF (THIS_TCTX$ < DBD_FEPCTX_START$) OR (THIS_TCTX$ > DBD_FEPCTX_END$)
     1102    12716    3      THEN DO;
     1103    12717    3   REPORT_BAD_TCTX: ;
     1104    12718    3           CALL DAF$WRITE(VECTOR(BAD_TCTX_ADDR));
     1105    12719    3           ALTRETURN;
     1106    12720    3           END;
     1107    12721
     1108    12722    2      CALL DBM$GETMEM(THIS_TCTX$,K$TCTX,0,SIZEC(K$TCTX),,SIZEC(K$TCTX))
     1109    12723    3      WHENALTRETURN DO; RETURN; END;
     1110    12724
     1111    12725    2      CALL DBM$PACK1(K$TCTX.STATE,STATE);
     1112    12726    2      CALL DBM$PACK2(K$TCTX.FLAGS,FLAGS);
     1113    12727    2      CALL DBM$PACK2(K$TCTX.SEND_BUFF.BYTES_CUR,BUF_BYT);
     1114    12728    2      CALL DBM$PACK2(K$TCTX.RECV_BUFF.BYTES_CUR,TEMP);
     1115    12729    2      BUF_BYT = BUF_BYT + TEMP;
     1116    12730
     1117    12731    2      IF (ACTION=1/*display only in use*/)
     1118    12732    3      THEN DO;
     1119    12733    3           IF STATE=%K_TSTATE_NULL OR STATE=%K_TSTATE_CLOSED THEN RETURN;
     1120    12734    3           END;
     1121    12735
     1122    12736    2      IF HEADER0 = 0
     1123    12737    3      THEN DO;
     1124    12738    3           CALL DAF$INIT(TCTXRPT1);
     1125    12739    3           HEADER0 = 1;
     1126    12740    3           END;
     1127    12741
     1128    12742    2      IF K$TCTX.FLAGS.PRIMARY
     1129    12743    3      THEN DO;
     1130    12744    3           CALL DAF$WRITE(VECTOR(TCTX_FMT1),
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:185  
     1131    12745    3             VECTOR(THIS_TCTX$),
     1132    12746    3             VECTOR(K$TCTX.SRC_REF),
     1133    12747    3             VECTOR(K_TCTX_STATE(STATE)),
     1134    12748    3             VECTOR(K$TCTX.NODE),
     1135    12749    3             VECTOR(K$TCTX.DST_REF),
     1136    12750    3             VECTOR(K$TCTX.SEND_NEXT),
     1137    12751    3             VECTOR(K$TCTX.RECV_NEXT),
     1138    12752    3             VECTOR(K$TCTX.QOS),
     1139    12753    3             VECTOR(K$TCTX.CLASS),
     1140    12754    3             VECTOR(FLAGS),
     1141    12755    3             VECTOR(BUF_BYT),
     1142    12756    3             VECTOR(K$TCTX.REASON),
     1143    12757    3             VECTOR(K$TCTX.ERR)  );
     1144    12758    3           END/*do if primary*/;
     1145    12759    3      ELSE DO;
     1146    12760    3           IF K$TCTX.OPTION.OSI
     1147    12761    4           THEN DO;
     1148    12762    4                CALL DAF$WRITE(VECTOR(TCTX_FMT1Y),
     1149    12763    4                  VECTOR(THIS_TCTX$),
     1150    12764    4                  VECTOR(K$TCTX.SRC_REF),
     1151    12765    4                  VECTOR(K_TCTX_STATE(STATE)),
     1152    12766    4                  VECTOR(K$TCTX.HOST_NODE),
     1153    12767    4                  VECTOR(BLANK3),
     1154    12768    4                  VECTOR(K$TCTX.HOST_REF),
     1155    12769    4                  VECTOR(K$TCTX.DST_REF),
     1156    12770    4                  VECTOR(K$TCTX.SEND_NEXT),
     1157    12771    4                  VECTOR(K$TCTX.RECV_NEXT),
     1158    12772    4                  VECTOR(K$TCTX.QOS),
     1159    12773    4                  VECTOR(K$TCTX.CLASS),
     1160    12774    4                  VECTOR(FLAGS),
     1161    12775    4                  VECTOR(BUF_BYT),
     1162    12776    4                  VECTOR(K$TCTX.REASON),
     1163    12777    4                  VECTOR(K$TCTX.ERR) );
     1164    12778    4                END/*do if osi intermediate*/;
     1165    12779    4           ELSE DO;
     1166    12780    4                CALL DAF$WRITE(VECTOR(TCTX_FMT1X),
     1167    12781    4                  VECTOR(THIS_TCTX$),
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:186  
     1168    12782    4                  VECTOR(K$TCTX.SRC_REF),
     1169    12783    4                  VECTOR(K_TCTX_STATE(STATE)),
     1170    12784    4                  VECTOR(K$TCTX.HOST_NODE),
     1171    12785    4                  VECTOR(K$TCTX.NODE),
     1172    12786    4                  VECTOR(K$TCTX.HOST_REF),
     1173    12787    4                  VECTOR(K$TCTX.DST_REF),
     1174    12788    4                  VECTOR(K$TCTX.SEND_NEXT),
     1175    12789    4                  VECTOR(K$TCTX.RECV_NEXT),
     1176    12790    4                  VECTOR(K$TCTX.QOS),
     1177    12791    4                  VECTOR(K$TCTX.CLASS),
     1178    12792    4                  VECTOR(FLAGS),
     1179    12793    4                  VECTOR(BUF_BYT),
     1180    12794    4                  VECTOR(K$TCTX.REASON),
     1181    12795    4                  VECTOR(K$TCTX.ERR) );
     1182    12796    4                END/*do if cp6 intermediate*/;
     1183    12797    3           END/* do if intermediate*/;
     1184    12798
     1185    12799    2   END DISP_TCTX;
     1186    12800
     1187    12801    1   END DBD$TCTX;

PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:187  
--  Include file information  --

   DB_PERR_C.:E05TOU  is referenced.
   DA_ANLZ_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   K_ADDRESS_M.:E05TOU  is referenced.
   KN_DATA_M.:E05TOU  is referenced.
   G$BOBCAT_M.:E05TOU  is referenced.
   GH_SCHD_M.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure DBD$TCTX.

   Procedure DBD$TCTX requires 641 words for executable code.
   Procedure DBD$TCTX requires 268 words of local(AUTO) storage.

    No errors detected in file DBD$FMT_KN.:E05TSI    .

PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:188  

 Object Unit name= DBD$TCTX                                   File name= DBD$FMT_KN.:E05TOU
 UTS= JUL 29 '97 13:06:50.76 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none    89    131  DBD$TCTX
    2  RoData even  UTS     76    114  DBD$TCTX
    3   DCB   even  none     0      0  M$DO
    4   Proc  even  none   641   1201  DBD$TCTX
    5  RoData even  none    39     47  DBD$TCTX

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     4      0   yes            yes      Std        1  DBD$TCTX
     4      4                  yes      Std        1  DBD$TCTX_CHECK
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:189  

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       1 DBM$GETBOBCAT
         yes           Std       2 DBM$PACK4
 yes     yes           Std      10 DBM$GETMEM
 yes     yes           Std       2 DBD$KNINFO
 yes     yes           Std       3 DAA$VALUE
         yes           Std       2 DBM$PACK1
         yes           Std       2 DBM$PACK2
 yes     yes           Std       1 DAF$INIT
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  DAF$WRITE                             DBD_BOBCAT$
     DBD_FEPCTX_START$                     DBD_FEPCTX_END$                       DBD_FEPCTX_MAX#
     M$DO                                  B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:190  


      938        1        /*T***********************************************************/
      939        2        /*T*                                                         */
      940        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      941        4        /*T*                                                         */
      942        5        /*T***********************************************************/
      943        6        /*F*    NAME: DBD$TCTX
      944        7                PURPOSE: To process the TCTX command for FEPs.
      945        8
      946        9        */
      947       10        DBD$TCTX: PROC(TOP);

     10  4 000000   000000 700200 xent  DBD$TCTX     TSX0  ! X66_AUTO_1
         4 000001   000414 000001                    ZERO    268,1

      948       11
      949       12        /*X* PLM=3,IND=5,ECU=0,ENU=0,MOC   */
      950       13
      951       14        %INCLUDE CP_6;
      952     5573        %INCLUDE GH_SCHD_M;
      953     5717        %INCLUDE G$BOBCAT_M;
      954     5737        %INCLUDE KN_DATA_M;
      955     7523        %INCLUDE K_ADDRESS_M;
      956     8026        %INCLUDE DA_FORMAT_C;
      957     8268        %INCLUDE XU_MACRO_C;
      958    11374        %INCLUDE DA_ANLZ_R;
      959    11387        %INCLUDE DB_PERR_C;
      960    11405
      961    11406        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
      962    11451        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
      963    11496
      964    11497    1   DCL DAA$VALUE ENTRY(3) ALTRET;
      965    11498    1   DCL DAF$WRITE EPTR SYMREF;
      966    11499    1   DCL DAF$INIT ENTRY(1) ALTRET;
      967    11500    1   DCL DBB$HEXDUMP ENTRY(4);
      968    11501    1   DCL DBM$GETMEM ENTRY(10) ALTRET;
      969    11502    1   DCL DBM$GETBOBCAT ENTRY(1) ALTRET;
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:191  
      970    11503    1   DCL DBM$PACK1 ENTRY(2);
      971    11504    1   DCL DBM$PACK2 ENTRY(2);
      972    11505    1   DCL DBM$PACK4 ENTRY(2);
      973    11506    1   DCL DBD$KNINFO ENTRY(2) ALTRET;
      974    11507
      975    11508
      976    11509       %REPORT (NAME=TCTXRPT1,TRUNC=YES,TABDFLT=5,HEADER=YES,TITLE='FEP Transport Context')
             11509            ;
      977    11575        %HEADER (LAST=NO,TEXT=
      978    11576        'TCTX$  TCTX# STATE     NODES  DST_REF SENDN RECVN QOS CLASS FLAGS BufBy RSN ERR');
      979    11618        %HEADER (TEXT=
      980    11619       '------ ----- -------- ------- ------- ----- ----- ---- ----- ----- ----- --- ---');
      981    11661    1   DCL 1 TCTX_FMT1 CHAR(0) CONSTANT INIT(
      982    11662    1  '.%5ZH %@5.16D %A %@7.8D %@7.16D %@5.32D %@5.32D %@4.8D %@5.8D .%4ZH %5D %@3.8D %@3.
             11662        8D');
      983    11663
      984    11664    1   DCL 1 TCTX_FMT1X CHAR(0) CONSTANT INIT(
      985    11665    1   '.%5ZH %@5.16D %A %@3.8D-%@3.8D %@3.16D-%@3.16D %@5.32D %@5.32D %@4.8D %@5.8D .%4ZH
             11665        %5D %@3.8D %@3.8D');
      986    11666
      987    11667    1   DCL 1 TCTX_FMT1Y CHAR(0) CONSTANT INIT(
      988    11668    1   '.%5ZH %@5.16D %A %@3.8D-%A %@3.16D-%@3.16D %@5.32D %@5.32D %@4.8D %@5.8D .%4ZH %5D
             11668        %@3.8D %@3.8D');
      989    11669
      990    11670        %K_TCTX_ST_TXT (FPTN=K_TCTX_STATE, STCLASS=STATIC);
      991    11687
      992    11688    1   DCL BAD_TCTX_ADDR CHAR(0) CONSTANT INIT(
      993    11689    1      'Invalid TCTX address');
      994    11690
      995    11691    1   DCL BLANK3 CHAR(3) STATIC INIT('   ');
      996    11692        /* AUTO Storage */
      997    11693        %G$BOBCAT (FPTN=G$BOBCAT,STCLASS=AUTO);
      998    11706        %K$TCTX (NAME=K$TCTX,STCLASS=AUTO,ALGN=CALIGNED);
      999    12613
     1000    12614    1   DCL I SBIN;
     1001    12615    1   DCL X UBIN;
     1002    12616    1   DCL RADIX UBIN;
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:192  
     1003    12617
     1004    12618    1   DCL TCTX_DATA$ UBIN;
     1005    12619    1   DCL THIS_TCTX$ UBIN;
     1006    12620    1   DCL TCTX_$$ UBIN;
     1007    12621    1   DCL TCTX_SIZE UBIN;
     1008    12622    1   DCL STATE UBIN;
     1009    12623    1   DCL FLAGS UBIN;
     1010    12624    1   DCL BUF_BYT UBIN;
     1011    12625    1   DCL TEMP UBIN;
     1012    12626    1   DCL ACTION UBIN;              /* 0 = display all     1 = display if in use    */
     1013    12627    1   DCL ENTRY_TYPE UBIN;          /* 0 = display TCTXs     1 = check TCTX chain*/
     1014    12628    1   DCL HEADER0 UBIN;
     1015    12629    1   DCL HEADER1 UBIN;
     1016    12630
     1017    12631    1   DCL 1 TCTXFLG,
     1018    12632    1         2 F BIT(9) UNAL,
     1019    12633    1         2 * BIT(27) UNAL;
     1020    12634
     1021    12635    1   DCL DBD_BOBCAT$ UBIN SYMREF;
     1022    12636
     1023    12637    1   DCL DBD_FEPCTX_START$ UBIN SYMREF;
     1024    12638    1   DCL DBD_FEPCTX_END$ UBIN SYMREF;
     1025    12639    1   DCL DBD_FEPCTX_MAX# UBIN SYMREF;
     1026    12640
     1027    12641    1   DCL B$1WORD UBIN BASED;
     1028    12642    1   DCL M$DO DCB;
     1029    12643
     1030    12644        %EJECT;
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:193  
     1031    12645    1      ENTRY_TYPE=0/*display TCTXs*/;

  12645  4 000002   200235 450100                    STZ     ENTRY_TYPE,,AUTO

     1032    12646    1      GOTO TCTX_START;

  12646  4 000003   000010 710000 4                  TRA     TCTX_START

     1033    12647
     1034    12648    1   DBD$TCTX_CHECK: ENTRY(TOP);

  12648  4 000004   000000 700200 xent  DBD$TCTX_CH* TSX0  ! X66_AUTO_1
         4 000005   000414 000001                    ZERO    268,1

     1035    12649    1      ENTRY_TYPE=1/*check TCTX chain*/;

  12649  4 000006   000001 235007                    LDA     1,DL
         4 000007   200235 755100                    STA     ENTRY_TYPE,,AUTO

  12649  4 000010                       TCTX_START   null
     1036    12650
     1037    12651    1   TCTX_START: ;
     1038    12652    1      HEADER0 = 0;

  12652  4 000010   200236 450100                    STZ     HEADER0,,AUTO

     1039    12653    1      TCTX_SIZE = (SIZEC(K$TCTX)+1)/2;

  12653  4 000011   000260 235007                    LDA     176,DL
         4 000012   200227 755100                    STA     TCTX_SIZE,,AUTO

     1040    12654    1      CALL DBM$GETBOBCAT(G$BOBCAT)

  12654  4 000013   200004 630500                    EPPR0   G$BOBCAT,,AUTO
         4 000014   200244 450500                    STP0    HEADER0+6,,AUTO
         4 000015   200244 630500                    EPPR0   HEADER0+6,,AUTO
         4 000016   000017 631400 xsym               EPPR1   B_VECTNIL+15
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:194  
         4 000017   000000 701000 xent               TSX1    DBM$GETBOBCAT
         4 000020   000022 702000 4                  TSX2    s:12655
         4 000021   000023 710000 4                  TRA     s:12657

     1041    12655    2      WHENALTRETURN DO; RETURN; END;

  12655  4 000022   000000 702200 xent               TSX2  ! X66_ARET

     1042    12656
     1043    12657    1      CALL DBM$PACK4(G$BOBCAT.TCTXDATA$,TCTX_DATA$);

  12657  4 000023   200224 630500                    EPPR0   TCTX_DATA$,,AUTO
         4 000024   200245 450500                    STP0    HEADER0+7,,AUTO
         4 000025   200043 631500                    EPPR1   G$BOBCAT+31,,AUTO
         4 000026   200244 451500                    STP1    HEADER0+6,,AUTO
         4 000027   200244 630500                    EPPR0   HEADER0+6,,AUTO
         4 000030   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000031   000000 701000 xent               TSX1    DBM$PACK4
         4 000032   000000 011000                    NOP     0

     1044    12658    1      CALL DBM$PACK4(G$BOBCAT.TCTX$$,TCTX_$$);

  12658  4 000033   200226 630500                    EPPR0   TCTX_$$,,AUTO
         4 000034   200245 450500                    STP0    HEADER0+7,,AUTO
         4 000035   200033 631500                    EPPR1   G$BOBCAT+23,,AUTO
         4 000036   200244 451500                    STP1    HEADER0+6,,AUTO
         4 000037   200244 630500                    EPPR0   HEADER0+6,,AUTO
         4 000040   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000041   000000 701000 xent               TSX1    DBM$PACK4
         4 000042   000000 011000                    NOP     0

     1045    12659
     1046    12660    1      CALL DBD$KNINFO(TCTX_DATA$,0);

  12660  4 000043   000000 236000 5                  LDQ     0
         4 000044   200245 756100                    STQ     HEADER0+7,,AUTO
         4 000045   200224 630500                    EPPR0   TCTX_DATA$,,AUTO
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:195  
         4 000046   200244 450500                    STP0    HEADER0+6,,AUTO
         4 000047   200244 630500                    EPPR0   HEADER0+6,,AUTO
         4 000050   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000051   000000 701000 xent               TSX1    DBD$KNINFO
         4 000052   000000 011000                    NOP     0

     1047    12661
     1048    12662    1      IF (ENTRY_TYPE=1/*if check*/)

  12662  4 000053   200235 235100                    LDA     ENTRY_TYPE,,AUTO
         4 000054   000001 115007                    CMPA    1,DL
         4 000055   000067 601000 4                  TNZ     DISPLAY_ALL

     1049    12663    2      THEN DO;

     1050    12664    2           CALL DBD$KNINFO(TCTX_DATA$,1);

  12664  4 000056   000001 236000 5                  LDQ     1
         4 000057   200245 756100                    STQ     HEADER0+7,,AUTO
         4 000060   200224 630500                    EPPR0   TCTX_DATA$,,AUTO
         4 000061   200244 450500                    STP0    HEADER0+6,,AUTO
         4 000062   200244 630500                    EPPR0   HEADER0+6,,AUTO
         4 000063   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000064   000000 701000 xent               TSX1    DBD$KNINFO
         4 000065   000000 011000                    NOP     0

     1051    12665    2           RETURN;

  12665  4 000066   000000 702200 xent               TSX2  ! X66_ARET

  12662  4 000067                       DISPLAY_ALL  null
     1052    12666    2           END/*do if check*/;
     1053    12667
     1054    12668        %EJECT;
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:196  
     1055    12669    1   DISPLAY_ALL: ;
     1056    12670    1      IF TOP.NSUBLKS=0

  12670  4 000067   200003 470500                    LDP0    @TOP,,AUTO
         4 000070   000001 220100                    LDX0    1,,PR0
         4 000071   000141 601000 4                  TNZ     s:12683

     1057    12671    2      THEN DO;

     1058    12672    2           ACTION=1/*display all in use*/;

  12672  4 000072   000001 236007                    LDQ     1,DL
         4 000073   200234 756100                    STQ     ACTION,,AUTO

     1059    12673    3           DO I=0 TO DBD_FEPCTX_MAX#;

  12673  4 000074   200221 450100                    STZ     I,,AUTO
         4 000075   000134 710000 4                  TRA     s:12679+1

     1060    12674    3                THIS_TCTX$ = TCTX_$$ + (2*I);

  12674  4 000076   200221 236100                    LDQ     I,,AUTO
         4 000077   000001 736000                    QLS     1
         4 000100   200226 036100                    ADLQ    TCTX_$$,,AUTO
         4 000101   200225 756100                    STQ     THIS_TCTX$,,AUTO

     1061    12675    3                CALL DBM$GETMEM(THIS_TCTX$,THIS_TCTX$,0,4,,4);

  12675  4 000102   000002 236000 5                  LDQ     2
         4 000103   000001 235000 xsym               LDA     B_VECTNIL+1
         4 000104   200250 757100                    STAQ    HEADER0+10,,AUTO
         4 000105   000004 237000 5                  LDAQ    4
         4 000106   200246 757100                    STAQ    HEADER0+8,,AUTO
         4 000107   200225 630500                    EPPR0   THIS_TCTX$,,AUTO
         4 000110   200245 450500                    STP0    HEADER0+7,,AUTO
         4 000111   200225 631500                    EPPR1   THIS_TCTX$,,AUTO
         4 000112   200244 451500                    STP1    HEADER0+6,,AUTO
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:197  
         4 000113   200244 630500                    EPPR0   HEADER0+6,,AUTO
         4 000114   000024 631400 xsym               EPPR1   B_VECTNIL+20
         4 000115   000000 701000 xent               TSX1    DBM$GETMEM
         4 000116   000000 011000                    NOP     0

     1062    12676    3                CALL DBM$PACK4(THIS_TCTX$,THIS_TCTX$);

  12676  4 000117   200225 630500                    EPPR0   THIS_TCTX$,,AUTO
         4 000120   200245 450500                    STP0    HEADER0+7,,AUTO
         4 000121   200225 631500                    EPPR1   THIS_TCTX$,,AUTO
         4 000122   200244 451500                    STP1    HEADER0+6,,AUTO
         4 000123   200244 630500                    EPPR0   HEADER0+6,,AUTO
         4 000124   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000125   000000 701000 xent               TSX1    DBM$PACK4
         4 000126   000000 011000                    NOP     0

     1063    12677    3                IF THIS_TCTX$ ~= 0

  12677  4 000127   200225 235100                    LDA     THIS_TCTX$,,AUTO
         4 000130   000133 600000 4                  TZE     s:12679

     1064    12678    3                THEN CALL DISP_TCTX;

  12678  4 000131   000212 701000 4                  TSX1    DISP_TCTX
         4 000132   000000 011000                    NOP     0

     1065    12679    3                END;

  12679  4 000133   200221 054100                    AOS     I,,AUTO
         4 000134   000000 236000 xsym               LDQ     DBD_FEPCTX_MAX#
         4 000135   000076 604000 4                  TMI     s:12674
         4 000136   200221 116100                    CMPQ    I,,AUTO
         4 000137   000076 605000 4                  TPL     s:12674

     1066    12680    2           END;

  12680  4 000140   000211 710000 4                  TRA     s:12705
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:198  

     1067    12681
     1068    12682    2      ELSE DO;

     1069    12683    3           DO X=0 TO TOP.NSUBLKS-1;

  12683  4 000141   200222 450100                    STZ     X,,AUTO
         4 000142   000203 710000 4                  TRA     s:12701+3

     1070    12684    3                CALL DAA$VALUE(TOP.SUBLK$(X)->OUT,THIS_TCTX$)

  12684  4 000143   200003 470500                    LDP0    @TOP,,AUTO
         4 000144   200222 720100                    LXL0    X,,AUTO
         4 000145   000003 471510                    LDP1    3,X0,PR0
         4 000146   200225 633500                    EPPR3   THIS_TCTX$,,AUTO
         4 000147   200245 453500                    STP3    HEADER0+7,,AUTO
         4 000150   200244 451500                    STP1    HEADER0+6,,AUTO
         4 000151   200244 630500                    EPPR0   HEADER0+6,,AUTO
         4 000152   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000153   000000 701000 xent               TSX1    DAA$VALUE
         4 000154   000200 702000 4                  TSX2    s:12701

     1071    12685    4                WHENRETURN DO;

     1072    12686    4                     IF THIS_TCTX$ = 0

  12686  4 000155   200225 235100                    LDA     THIS_TCTX$,,AUTO
         4 000156   000176 601000 4                  TNZ     s:12696

     1073    12687    5                     THEN DO;

     1074    12688    5                          ACTION=0/*display all*/;

  12688  4 000157   200234 450100                    STZ     ACTION,,AUTO

     1075    12689    6                          DO I=0 TO DBD_FEPCTX_MAX# -1;

PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:199  
  12689  4 000160   200221 450100                    STZ     I,,AUTO
         4 000161   000171 710000 4                  TRA     s:12692+1

     1076    12690    6                               THIS_TCTX$ = DBD_FEPCTX_START$ + (TCTX_SIZE *I);

  12690  4 000162   200227 236100                    LDQ     TCTX_SIZE,,AUTO
         4 000163   200221 402100                    MPY     I,,AUTO
         4 000164   000000 036000 xsym               ADLQ    DBD_FEPCTX_START$
         4 000165   200225 756100                    STQ     THIS_TCTX$,,AUTO

     1077    12691    6                               CALL DISP_TCTX;

  12691  4 000166   000212 701000 4                  TSX1    DISP_TCTX
         4 000167   000000 011000                    NOP     0

     1078    12692    6                               END;

  12692  4 000170   200221 054100                    AOS     I,,AUTO
         4 000171   200221 236100                    LDQ     I,,AUTO
         4 000172   000162 604000 4                  TMI     s:12690
         4 000173   000000 116000 xsym               CMPQ    DBD_FEPCTX_MAX#
         4 000174   000162 602000 4                  TNC     s:12690

     1079    12693    5                          RETURN;

  12693  4 000175   000000 702200 xent               TSX2  ! X66_ARET

     1080    12694    5                          END;
     1081    12695
     1082    12696    4                     CALL DISP_TCTX

  12696  4 000176   000212 701000 4                  TSX1    DISP_TCTX
         4 000177   000200 702000 4                  TSX2    s:12701

     1083    12697    5                     WHENRETURN DO;

     1084    12698    5                          END/*return from disp_iop*/;
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:200  

     1085    12699    4                     END/*return from daa$value*/;

     1086    12700
     1087    12701    3                END/*do X=0 to nsublks-1*/;

  12701  4 000200   200222 235100                    LDA     X,,AUTO
         4 000201   000001 035007                    ADLA    1,DL
         4 000202   200222 755100                    STA     X,,AUTO
         4 000203   200003 470500                    LDP0    @TOP,,AUTO
         4 000204   000001 236100                    LDQ     1,,PR0
         4 000205   000022 772000                    QRL     18
         4 000206   200222 116100                    CMPQ    X,,AUTO
         4 000207   000211 600000 4                  TZE     s:12705
         4 000210   000143 603000 4                  TRC     s:12684

     1088    12702    2           END/*else do*/;

     1089    12703
     1090    12704
     1091    12705    1      RETURN;

  12705  4 000211   000000 702200 xent               TSX2  ! X66_ARET

     1092    12706
     1093    12707        %EJECT;
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:201  
     1094    12708    1   DISP_TCTX: PROC ALTRET;

  12708  4 000212   200242 741300       DISP_TCTX    STX1  ! HEADER0+4,,AUTO

     1095    12709    2      IF THIS_TCTX$ < DBD_BOBCAT$

  12709  4 000213   200225 236100                    LDQ     THIS_TCTX$,,AUTO
         4 000214   000000 116000 xsym               CMPQ    DBD_BOBCAT$
         4 000215   000225 603000 4                  TRC     s:12715

     1096    12710    3      THEN DO;

     1097    12711    3           IF (THIS_TCTX$ > DBD_FEPCTX_MAX#) THEN GOTO REPORT_BAD_TCTX;

  12711  4 000216   000000 116000 xsym               CMPQ    DBD_FEPCTX_MAX#
         4 000217   000221 600000 4                  TZE     s:12712
         4 000220   000232 603000 4                  TRC     REPORT_BAD_TCTX

     1098    12712    3           THIS_TCTX$ = DBD_FEPCTX_START$ + (TCTX_SIZE *(THIS_TCTX$-1));

  12712  4 000221   000001 136007                    SBLQ    1,DL
         4 000222   200227 402100                    MPY     TCTX_SIZE,,AUTO
         4 000223   000000 036000 xsym               ADLQ    DBD_FEPCTX_START$
         4 000224   200225 756100                    STQ     THIS_TCTX$,,AUTO

     1099    12713    3           END;

     1100    12714
     1101    12715    2      IF (THIS_TCTX$ < DBD_FEPCTX_START$) OR (THIS_TCTX$ > DBD_FEPCTX_END$)

  12715  4 000225   000000 116000 xsym               CMPQ    DBD_FEPCTX_START$
         4 000226   000232 602000 4                  TNC     REPORT_BAD_TCTX
         4 000227   000000 116000 xsym               CMPQ    DBD_FEPCTX_END$
         4 000230   000241 602000 4                  TNC     s:12722
         4 000231   000241 600000 4                  TZE     s:12722

     1102    12716    3      THEN DO;
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:202  

  12712  4 000232                       REPORT_BAD_* null
     1103    12717    3   REPORT_BAD_TCTX: ;
     1104    12718    3           CALL DAF$WRITE(VECTOR(BAD_TCTX_ADDR));

  12718  4 000232   000010 630400 5                  EPPR0   8
         4 000233   000000 220000 xsym               LDX0    DAF$WRITE
         4 000234   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000235   000000 701010                    TSX1    0,X0
         4 000236   000000 011000                    NOP     0

     1105    12719    3           ALTRETURN;

  12719  4 000237   200242 221300                    LDX1  ! HEADER0+4,,AUTO
         4 000240   000000 702211                    TSX2  ! 0,X1

     1106    12720    3           END;
     1107    12721
     1108    12722    2      CALL DBM$GETMEM(THIS_TCTX$,K$TCTX,0,SIZEC(K$TCTX),,SIZEC(K$TCTX))

  12722  4 000241   000012 236000 5                  LDQ     10
         4 000242   000001 235000 xsym               LDA     B_VECTNIL+1
         4 000243   200250 757100                    STAQ    HEADER0+10,,AUTO
         4 000244   000014 237000 5                  LDAQ    12
         4 000245   200246 757100                    STAQ    HEADER0+8,,AUTO
         4 000246   200071 630500                    EPPR0   K$TCTX,,AUTO
         4 000247   200245 450500                    STP0    HEADER0+7,,AUTO
         4 000250   200225 631500                    EPPR1   THIS_TCTX$,,AUTO
         4 000251   200244 451500                    STP1    HEADER0+6,,AUTO
         4 000252   200244 630500                    EPPR0   HEADER0+6,,AUTO
         4 000253   000024 631400 xsym               EPPR1   B_VECTNIL+20
         4 000254   000000 701000 xent               TSX1    DBM$GETMEM
         4 000255   000257 702000 4                  TSX2    s:12723
         4 000256   000261 710000 4                  TRA     s:12725

     1109    12723    3      WHENALTRETURN DO; RETURN; END;

PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:203  
  12723  4 000257   200242 221300                    LDX1  ! HEADER0+4,,AUTO
         4 000260   000001 702211                    TSX2  ! 1,X1

     1110    12724
     1111    12725    2      CALL DBM$PACK1(K$TCTX.STATE,STATE);

  12725  4 000261   200230 630500                    EPPR0   STATE,,AUTO
         4 000262   200245 450500                    STP0    HEADER0+7,,AUTO
         4 000263   200071 631500                    EPPR1   K$TCTX,,AUTO
         4 000264   200244 451500                    STP1    HEADER0+6,,AUTO
         4 000265   200244 630500                    EPPR0   HEADER0+6,,AUTO
         4 000266   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000267   000000 701000 xent               TSX1    DBM$PACK1
         4 000270   000000 011000                    NOP     0

     1112    12726    2      CALL DBM$PACK2(K$TCTX.FLAGS,FLAGS);

  12726  4 000271   200231 630500                    EPPR0   FLAGS,,AUTO
         4 000272   200245 450500                    STP0    HEADER0+7,,AUTO
         4 000273   200246 452500                    STP2    HEADER0+8,,AUTO
         4 000274   200246 236100                    LDQ     HEADER0+8,,AUTO
         4 000275   000016 036000 5                  ADLQ    14
         4 000276   200244 756100                    STQ     HEADER0+6,,AUTO
         4 000277   200244 630500                    EPPR0   HEADER0+6,,AUTO
         4 000300   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000301   000000 701000 xent               TSX1    DBM$PACK2
         4 000302   000000 011000                    NOP     0

     1113    12727    2      CALL DBM$PACK2(K$TCTX.SEND_BUFF.BYTES_CUR,BUF_BYT);

  12727  4 000303   200232 630500                    EPPR0   BUF_BYT,,AUTO
         4 000304   200245 450500                    STP0    HEADER0+7,,AUTO
         4 000305   200121 631500                    EPPR1   K$TCTX+24,,AUTO
         4 000306   200244 451500                    STP1    HEADER0+6,,AUTO
         4 000307   200244 630500                    EPPR0   HEADER0+6,,AUTO
         4 000310   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000311   000000 701000 xent               TSX1    DBM$PACK2
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:204  
         4 000312   000000 011000                    NOP     0

     1114    12728    2      CALL DBM$PACK2(K$TCTX.RECV_BUFF.BYTES_CUR,TEMP);

  12728  4 000313   200233 630500                    EPPR0   TEMP,,AUTO
         4 000314   200245 450500                    STP0    HEADER0+7,,AUTO
         4 000315   200111 631500                    EPPR1   K$TCTX+16,,AUTO
         4 000316   200244 451500                    STP1    HEADER0+6,,AUTO
         4 000317   200244 630500                    EPPR0   HEADER0+6,,AUTO
         4 000320   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000321   000000 701000 xent               TSX1    DBM$PACK2
         4 000322   000000 011000                    NOP     0

     1115    12729    2      BUF_BYT = BUF_BYT + TEMP;

  12729  4 000323   200232 236100                    LDQ     BUF_BYT,,AUTO
         4 000324   200233 036100                    ADLQ    TEMP,,AUTO
         4 000325   200232 756100                    STQ     BUF_BYT,,AUTO

     1116    12730
     1117    12731    2      IF (ACTION=1/*display only in use*/)

  12731  4 000326   200234 235100                    LDA     ACTION,,AUTO
         4 000327   000001 115007                    CMPA    1,DL
         4 000330   000337 601000 4                  TNZ     s:12736

     1118    12732    3      THEN DO;

     1119    12733    3           IF STATE=%K_TSTATE_NULL OR STATE=%K_TSTATE_CLOSED THEN RETURN;

  12733  4 000331   200230 235100                    LDA     STATE,,AUTO
         4 000332   000335 600000 4                  TZE     s:12733+4
         4 000333   000002 115007                    CMPA    2,DL
         4 000334   000337 601000 4                  TNZ     s:12736

  12733  4 000335   200242 221300                    LDX1  ! HEADER0+4,,AUTO
         4 000336   000001 702211                    TSX2  ! 1,X1
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:205  

     1120    12734    3           END;
     1121    12735
     1122    12736    2      IF HEADER0 = 0

  12736  4 000337   200236 235100                    LDA     HEADER0,,AUTO
         4 000340   000347 601000 4                  TNZ     s:12742

     1123    12737    3      THEN DO;

     1124    12738    3           CALL DAF$INIT(TCTXRPT1);

  12738  4 000341   000017 630400 5                  EPPR0   15
         4 000342   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000343   000000 701000 xent               TSX1    DAF$INIT
         4 000344   000000 011000                    NOP     0

     1125    12739    3           HEADER0 = 1;

  12739  4 000345   000001 235007                    LDA     1,DL
         4 000346   200236 755100                    STA     HEADER0,,AUTO

     1126    12740    3           END;

     1127    12741
     1128    12742    2      IF K$TCTX.FLAGS.PRIMARY

  12742  4 000347   200077 236100                    LDQ     K$TCTX+6,,AUTO
         4 000350   000001 316007                    CANQ    1,DL
         4 000351   000547 600000 4                  TZE     s:12760

     1129    12743    3      THEN DO;

     1130    12744    3           CALL DAF$WRITE(VECTOR(TCTX_FMT1),
     1131    12745    3             VECTOR(THIS_TCTX$),
     1132    12746    3             VECTOR(K$TCTX.SRC_REF),
     1133    12747    3             VECTOR(K_TCTX_STATE(STATE)),
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:206  
     1134    12748    3             VECTOR(K$TCTX.NODE),
     1135    12749    3             VECTOR(K$TCTX.DST_REF),
     1136    12750    3             VECTOR(K$TCTX.SEND_NEXT),
     1137    12751    3             VECTOR(K$TCTX.RECV_NEXT),

  12751  4 000352   777640 235007                    LDA     -96,DL
         4 000353   200244 452500                    STP2    HEADER0+6,,AUTO
         4 000354   200244 236100                    LDQ     HEADER0+6,,AUTO
         4 000355   000225 036003                    ADLQ    149,DU
         4 000356   200246 757100                    STAQ    HEADER0+8,,AUTO
         4 000357   377640 235007                    LDA     130976,DL
         4 000360   200250 452500                    STP2    HEADER0+10,,AUTO
         4 000361   200250 236100                    LDQ     HEADER0+10,,AUTO
         4 000362   000072 036003                    ADLQ    58,DU
         4 000363   200252 757100                    STAQ    HEADER0+12,,AUTO
         4 000364   000022 235000 5                  LDA     18
         4 000365   200230 236100                    LDQ     STATE,,AUTO
         4 000366   000023 736000                    QLS     19
         4 000367   000023 036000 5                  ADLQ    19
         4 000370   200254 757100                    STAQ    HEADER0+14,,AUTO
         4 000371   177640 235007                    LDA     65440,DL
         4 000372   200256 452500                    STP2    HEADER0+16,,AUTO
         4 000373   200256 236100                    LDQ     HEADER0+16,,AUTO
         4 000374   000024 036000 5                  ADLQ    20
         4 000375   200260 757100                    STAQ    HEADER0+18,,AUTO
         4 000376   377640 235007                    LDA     130976,DL
         4 000377   200262 452500                    STP2    HEADER0+20,,AUTO
         4 000400   200262 236100                    LDQ     HEADER0+20,,AUTO
         4 000401   000025 036000 5                  ADLQ    21
         4 000402   200264 757100                    STAQ    HEADER0+22,,AUTO
         4 000403   777640 235007                    LDA     -96,DL
         4 000404   200266 452500                    STP2    HEADER0+24,,AUTO
         4 000405   200266 236100                    LDQ     HEADER0+24,,AUTO
         4 000406   000124 036003                    ADLQ    84,DU
         4 000407   200270 757100                    STAQ    HEADER0+26,,AUTO
         4 000410   777640 235007                    LDA     -96,DL
         4 000411   200272 452500                    STP2    HEADER0+28,,AUTO
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:207  
         4 000412   200272 236100                    LDQ     HEADER0+28,,AUTO
         4 000413   000114 036003                    ADLQ    76,DU
         4 000414   200274 757100                    STAQ    HEADER0+30,,AUTO
         4 000415   177640 235007                    LDA     65440,DL
         4 000416   200276 452500                    STP2    HEADER0+32,,AUTO
         4 000417   200276 236100                    LDQ     HEADER0+32,,AUTO
         4 000420   000026 036000 5                  ADLQ    22
         4 000421   200300 757100                    STAQ    HEADER0+34,,AUTO
         4 000422   177640 235007                    LDA     65440,DL
         4 000423   200302 452500                    STP2    HEADER0+36,,AUTO
         4 000424   200302 236100                    LDQ     HEADER0+36,,AUTO
         4 000425   000027 036000 5                  ADLQ    23
         4 000426   200304 757100                    STAQ    HEADER0+38,,AUTO
         4 000427   777640 235007                    LDA     -96,DL
         4 000430   200306 452500                    STP2    HEADER0+40,,AUTO
         4 000431   200306 236100                    LDQ     HEADER0+40,,AUTO
         4 000432   000231 036003                    ADLQ    153,DU
         4 000433   200310 757100                    STAQ    HEADER0+42,,AUTO
         4 000434   777640 235007                    LDA     -96,DL
         4 000435   200312 452500                    STP2    HEADER0+44,,AUTO
         4 000436   200312 236100                    LDQ     HEADER0+44,,AUTO
         4 000437   000232 036003                    ADLQ    154,DU
         4 000440   200314 757100                    STAQ    HEADER0+46,,AUTO
         4 000441   177640 235007                    LDA     65440,DL
         4 000442   200316 452500                    STP2    HEADER0+48,,AUTO
         4 000443   200316 236100                    LDQ     HEADER0+48,,AUTO
         4 000444   000100 036003                    ADLQ    64,DU
         4 000445   200320 757100                    STAQ    HEADER0+50,,AUTO
         4 000446   177640 235007                    LDA     65440,DL
         4 000447   200322 452500                    STP2    HEADER0+52,,AUTO
         4 000450   200322 236100                    LDQ     HEADER0+52,,AUTO
         4 000451   000030 036000 5                  ADLQ    24
         4 000452   200326 757100                    STAQ    HEADER0+56,,AUTO
         4 000453   200246 237100                    LDAQ    HEADER0+8,,AUTO
         4 000454   200324 757100                    STAQ    HEADER0+54,,AUTO
         4 000455   200252 237100                    LDAQ    HEADER0+12,,AUTO
         4 000456   200330 757100                    STAQ    HEADER0+58,,AUTO
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:208  
         4 000457   200254 237100                    LDAQ    HEADER0+14,,AUTO
         4 000460   200332 757100                    STAQ    HEADER0+60,,AUTO
         4 000461   200260 237100                    LDAQ    HEADER0+18,,AUTO
         4 000462   200334 757100                    STAQ    HEADER0+62,,AUTO
         4 000463   200264 237100                    LDAQ    HEADER0+22,,AUTO
         4 000464   200336 757100                    STAQ    HEADER0+64,,AUTO
         4 000465   200270 237100                    LDAQ    HEADER0+26,,AUTO
         4 000466   200340 757100                    STAQ    HEADER0+66,,AUTO
         4 000467   200274 237100                    LDAQ    HEADER0+30,,AUTO
         4 000470   200342 757100                    STAQ    HEADER0+68,,AUTO
         4 000471   200300 237100                    LDAQ    HEADER0+34,,AUTO
         4 000472   200344 757100                    STAQ    HEADER0+70,,AUTO
         4 000473   200304 237100                    LDAQ    HEADER0+38,,AUTO
         4 000474   200346 757100                    STAQ    HEADER0+72,,AUTO
         4 000475   200310 237100                    LDAQ    HEADER0+42,,AUTO
         4 000476   200350 757100                    STAQ    HEADER0+74,,AUTO
         4 000477   200314 237100                    LDAQ    HEADER0+46,,AUTO
         4 000500   200352 757100                    STAQ    HEADER0+76,,AUTO
         4 000501   200320 237100                    LDAQ    HEADER0+50,,AUTO
         4 000502   200354 757100                    STAQ    HEADER0+78,,AUTO
         4 000503   200326 237100                    LDAQ    HEADER0+56,,AUTO
         4 000504   200356 757100                    STAQ    HEADER0+80,,AUTO
         4 000505   200356 630500                    EPPR0   HEADER0+80,,AUTO
         4 000506   200375 450500                    STP0    HEADER0+95,,AUTO
         4 000507   200354 631500                    EPPR1   HEADER0+78,,AUTO
         4 000510   200374 451500                    STP1    HEADER0+94,,AUTO
         4 000511   200352 633500                    EPPR3   HEADER0+76,,AUTO
         4 000512   200373 453500                    STP3    HEADER0+93,,AUTO
         4 000513   200350 634500                    EPPR4   HEADER0+74,,AUTO
         4 000514   200372 454500                    STP4    HEADER0+92,,AUTO
         4 000515   200346 635500                    EPPR5   HEADER0+72,,AUTO
         4 000516   200371 455500                    STP5    HEADER0+91,,AUTO
         4 000517   200344 636500                    EPPR6   HEADER0+70,,AUTO
         4 000520   200370 456500                    STP6    HEADER0+90,,AUTO
         4 000521   200342 637500                    EPPR7   HEADER0+68,,AUTO
         4 000522   200367 457500                    STP7    HEADER0+89,,AUTO
         4 000523   200340 630500                    EPPR0   HEADER0+66,,AUTO
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:209  
         4 000524   200366 450500                    STP0    HEADER0+88,,AUTO
         4 000525   200336 630500                    EPPR0   HEADER0+64,,AUTO
         4 000526   200365 450500                    STP0    HEADER0+87,,AUTO
         4 000527   200334 630500                    EPPR0   HEADER0+62,,AUTO
         4 000530   200364 450500                    STP0    HEADER0+86,,AUTO
         4 000531   200332 630500                    EPPR0   HEADER0+60,,AUTO
         4 000532   200363 450500                    STP0    HEADER0+85,,AUTO
         4 000533   200330 630500                    EPPR0   HEADER0+58,,AUTO
         4 000534   200362 450500                    STP0    HEADER0+84,,AUTO
         4 000535   200324 630500                    EPPR0   HEADER0+54,,AUTO
         4 000536   200361 450500                    STP0    HEADER0+83,,AUTO
         4 000537   000032 236000 5                  LDQ     26
         4 000540   200360 756100                    STQ     HEADER0+82,,AUTO
         4 000541   200360 630500                    EPPR0   HEADER0+82,,AUTO
         4 000542   000000 220000 xsym               LDX0    DAF$WRITE
         4 000543   000031 631400 5                  EPPR1   25
         4 000544   000000 701010                    TSX1    0,X0
         4 000545   000000 011000                    NOP     0

     1138    12752    3             VECTOR(K$TCTX.QOS),
     1139    12753    3             VECTOR(K$TCTX.CLASS),
     1140    12754    3             VECTOR(FLAGS),
     1141    12755    3             VECTOR(BUF_BYT),
     1142    12756    3             VECTOR(K$TCTX.REASON),
     1143    12757    3             VECTOR(K$TCTX.ERR)  );
     1144    12758    3           END/*do if primary*/;

  12758  4 000546   001177 710000 4                  TRA     s:12799

     1145    12759    3      ELSE DO;

     1146    12760    3           IF K$TCTX.OPTION.OSI

  12760  4 000547   000020 316003                    CANQ    16,DU
         4 000550   000761 600000 4                  TZE     s:12795

     1147    12761    4           THEN DO;
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:210  

     1148    12762    4                CALL DAF$WRITE(VECTOR(TCTX_FMT1Y),
     1149    12763    4                  VECTOR(THIS_TCTX$),
     1150    12764    4                  VECTOR(K$TCTX.SRC_REF),
     1151    12765    4                  VECTOR(K_TCTX_STATE(STATE)),
     1152    12766    4                  VECTOR(K$TCTX.HOST_NODE),
     1153    12767    4                  VECTOR(BLANK3),
     1154    12768    4                  VECTOR(K$TCTX.HOST_REF),
     1155    12769    4                  VECTOR(K$TCTX.DST_REF),
     1156    12770    4                  VECTOR(K$TCTX.SEND_NEXT),
     1157    12771    4                  VECTOR(K$TCTX.RECV_NEXT),
     1158    12772    4                  VECTOR(K$TCTX.QOS),
     1159    12773    4                  VECTOR(K$TCTX.CLASS),
     1160    12774    4                  VECTOR(FLAGS),
     1161    12775    4                  VECTOR(BUF_BYT),
     1162    12776    4                  VECTOR(K$TCTX.REASON),
     1163    12777    4                  VECTOR(K$TCTX.ERR) );

  12777  4 000551   777640 235007                    LDA     -96,DL
         4 000552   200244 452500                    STP2    HEADER0+6,,AUTO
         4 000553   200244 236100                    LDQ     HEADER0+6,,AUTO
         4 000554   000225 036003                    ADLQ    149,DU
         4 000555   200246 757100                    STAQ    HEADER0+8,,AUTO
         4 000556   377640 235007                    LDA     130976,DL
         4 000557   200250 452500                    STP2    HEADER0+10,,AUTO
         4 000560   200250 236100                    LDQ     HEADER0+10,,AUTO
         4 000561   000072 036003                    ADLQ    58,DU
         4 000562   200252 757100                    STAQ    HEADER0+12,,AUTO
         4 000563   000022 235000 5                  LDA     18
         4 000564   200230 236100                    LDQ     STATE,,AUTO
         4 000565   000023 736000                    QLS     19
         4 000566   000023 036000 5                  ADLQ    19
         4 000567   200254 757100                    STAQ    HEADER0+14,,AUTO
         4 000570   177640 235007                    LDA     65440,DL
         4 000571   200256 452500                    STP2    HEADER0+16,,AUTO
         4 000572   200256 236100                    LDQ     HEADER0+16,,AUTO
         4 000573   000073 036003                    ADLQ    59,DU
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:211  
         4 000574   200260 757100                    STAQ    HEADER0+18,,AUTO
         4 000575   377640 235007                    LDA     130976,DL
         4 000576   200262 452500                    STP2    HEADER0+20,,AUTO
         4 000577   200262 236100                    LDQ     HEADER0+20,,AUTO
         4 000600   000040 036000 5                  ADLQ    32
         4 000601   200264 757100                    STAQ    HEADER0+22,,AUTO
         4 000602   377640 235007                    LDA     130976,DL
         4 000603   200266 452500                    STP2    HEADER0+24,,AUTO
         4 000604   200266 236100                    LDQ     HEADER0+24,,AUTO
         4 000605   000025 036000 5                  ADLQ    21
         4 000606   200270 757100                    STAQ    HEADER0+26,,AUTO
         4 000607   777640 235007                    LDA     -96,DL
         4 000610   200272 452500                    STP2    HEADER0+28,,AUTO
         4 000611   200272 236100                    LDQ     HEADER0+28,,AUTO
         4 000612   000124 036003                    ADLQ    84,DU
         4 000613   200274 757100                    STAQ    HEADER0+30,,AUTO
         4 000614   777640 235007                    LDA     -96,DL
         4 000615   200276 452500                    STP2    HEADER0+32,,AUTO
         4 000616   200276 236100                    LDQ     HEADER0+32,,AUTO
         4 000617   000114 036003                    ADLQ    76,DU
         4 000620   200300 757100                    STAQ    HEADER0+34,,AUTO
         4 000621   177640 235007                    LDA     65440,DL
         4 000622   200302 452500                    STP2    HEADER0+36,,AUTO
         4 000623   200302 236100                    LDQ     HEADER0+36,,AUTO
         4 000624   000026 036000 5                  ADLQ    22
         4 000625   200304 757100                    STAQ    HEADER0+38,,AUTO
         4 000626   177640 235007                    LDA     65440,DL
         4 000627   200306 452500                    STP2    HEADER0+40,,AUTO
         4 000630   200306 236100                    LDQ     HEADER0+40,,AUTO
         4 000631   000027 036000 5                  ADLQ    23
         4 000632   200310 757100                    STAQ    HEADER0+42,,AUTO
         4 000633   777640 235007                    LDA     -96,DL
         4 000634   200312 452500                    STP2    HEADER0+44,,AUTO
         4 000635   200312 236100                    LDQ     HEADER0+44,,AUTO
         4 000636   000231 036003                    ADLQ    153,DU
         4 000637   200314 757100                    STAQ    HEADER0+46,,AUTO
         4 000640   777640 235007                    LDA     -96,DL
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:212  
         4 000641   200316 452500                    STP2    HEADER0+48,,AUTO
         4 000642   200316 236100                    LDQ     HEADER0+48,,AUTO
         4 000643   000232 036003                    ADLQ    154,DU
         4 000644   200320 757100                    STAQ    HEADER0+50,,AUTO
         4 000645   177640 235007                    LDA     65440,DL
         4 000646   200322 452500                    STP2    HEADER0+52,,AUTO
         4 000647   200322 236100                    LDQ     HEADER0+52,,AUTO
         4 000650   000100 036003                    ADLQ    64,DU
         4 000651   200324 757100                    STAQ    HEADER0+54,,AUTO
         4 000652   177640 235007                    LDA     65440,DL
         4 000653   200326 452500                    STP2    HEADER0+56,,AUTO
         4 000654   200326 236100                    LDQ     HEADER0+56,,AUTO
         4 000655   000030 036000 5                  ADLQ    24
         4 000656   200332 757100                    STAQ    HEADER0+60,,AUTO
         4 000657   200246 237100                    LDAQ    HEADER0+8,,AUTO
         4 000660   200330 757100                    STAQ    HEADER0+58,,AUTO
         4 000661   200252 237100                    LDAQ    HEADER0+12,,AUTO
         4 000662   200334 757100                    STAQ    HEADER0+62,,AUTO
         4 000663   200254 237100                    LDAQ    HEADER0+14,,AUTO
         4 000664   200336 757100                    STAQ    HEADER0+64,,AUTO
         4 000665   200260 237100                    LDAQ    HEADER0+18,,AUTO
         4 000666   200340 757100                    STAQ    HEADER0+66,,AUTO
         4 000667   200264 237100                    LDAQ    HEADER0+22,,AUTO
         4 000670   200342 757100                    STAQ    HEADER0+68,,AUTO
         4 000671   200270 237100                    LDAQ    HEADER0+26,,AUTO
         4 000672   200344 757100                    STAQ    HEADER0+70,,AUTO
         4 000673   200274 237100                    LDAQ    HEADER0+30,,AUTO
         4 000674   200346 757100                    STAQ    HEADER0+72,,AUTO
         4 000675   200300 237100                    LDAQ    HEADER0+34,,AUTO
         4 000676   200350 757100                    STAQ    HEADER0+74,,AUTO
         4 000677   200304 237100                    LDAQ    HEADER0+38,,AUTO
         4 000700   200352 757100                    STAQ    HEADER0+76,,AUTO
         4 000701   200310 237100                    LDAQ    HEADER0+42,,AUTO
         4 000702   200354 757100                    STAQ    HEADER0+78,,AUTO
         4 000703   200314 237100                    LDAQ    HEADER0+46,,AUTO
         4 000704   200356 757100                    STAQ    HEADER0+80,,AUTO
         4 000705   200320 237100                    LDAQ    HEADER0+50,,AUTO
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:213  
         4 000706   200360 757100                    STAQ    HEADER0+82,,AUTO
         4 000707   200324 237100                    LDAQ    HEADER0+54,,AUTO
         4 000710   200362 757100                    STAQ    HEADER0+84,,AUTO
         4 000711   200332 237100                    LDAQ    HEADER0+60,,AUTO
         4 000712   200364 757100                    STAQ    HEADER0+86,,AUTO
         4 000713   200364 630500                    EPPR0   HEADER0+86,,AUTO
         4 000714   200405 450500                    STP0    HEADER0+103,,AUTO
         4 000715   200362 631500                    EPPR1   HEADER0+84,,AUTO
         4 000716   200404 451500                    STP1    HEADER0+102,,AUTO
         4 000717   200360 633500                    EPPR3   HEADER0+82,,AUTO
         4 000720   200403 453500                    STP3    HEADER0+101,,AUTO
         4 000721   200356 634500                    EPPR4   HEADER0+80,,AUTO
         4 000722   200402 454500                    STP4    HEADER0+100,,AUTO
         4 000723   200354 635500                    EPPR5   HEADER0+78,,AUTO
         4 000724   200401 455500                    STP5    HEADER0+99,,AUTO
         4 000725   200352 636500                    EPPR6   HEADER0+76,,AUTO
         4 000726   200400 456500                    STP6    HEADER0+98,,AUTO
         4 000727   200350 637500                    EPPR7   HEADER0+74,,AUTO
         4 000730   200377 457500                    STP7    HEADER0+97,,AUTO
         4 000731   200346 630500                    EPPR0   HEADER0+72,,AUTO
         4 000732   200376 450500                    STP0    HEADER0+96,,AUTO
         4 000733   200344 630500                    EPPR0   HEADER0+70,,AUTO
         4 000734   200375 450500                    STP0    HEADER0+95,,AUTO
         4 000735   200342 630500                    EPPR0   HEADER0+68,,AUTO
         4 000736   200374 450500                    STP0    HEADER0+94,,AUTO
         4 000737   000042 236000 5                  LDQ     34
         4 000740   200373 756100                    STQ     HEADER0+93,,AUTO
         4 000741   200340 630500                    EPPR0   HEADER0+66,,AUTO
         4 000742   200372 450500                    STP0    HEADER0+92,,AUTO
         4 000743   200336 630500                    EPPR0   HEADER0+64,,AUTO
         4 000744   200371 450500                    STP0    HEADER0+91,,AUTO
         4 000745   200334 630500                    EPPR0   HEADER0+62,,AUTO
         4 000746   200370 450500                    STP0    HEADER0+90,,AUTO
         4 000747   200330 630500                    EPPR0   HEADER0+58,,AUTO
         4 000750   200367 450500                    STP0    HEADER0+89,,AUTO
         4 000751   000043 236000 5                  LDQ     35
         4 000752   200366 756100                    STQ     HEADER0+88,,AUTO
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:214  
         4 000753   200366 630500                    EPPR0   HEADER0+88,,AUTO
         4 000754   000000 220000 xsym               LDX0    DAF$WRITE
         4 000755   000041 631400 5                  EPPR1   33
         4 000756   000000 701010                    TSX1    0,X0
         4 000757   000000 011000                    NOP     0

     1164    12778    4                END/*do if osi intermediate*/;

  12778  4 000760   001177 710000 4                  TRA     s:12799

     1165    12779    4           ELSE DO;

     1166    12780    4                CALL DAF$WRITE(VECTOR(TCTX_FMT1X),
     1167    12781    4                  VECTOR(THIS_TCTX$),
     1168    12782    4                  VECTOR(K$TCTX.SRC_REF),
     1169    12783    4                  VECTOR(K_TCTX_STATE(STATE)),
     1170    12784    4                  VECTOR(K$TCTX.HOST_NODE),
     1171    12785    4                  VECTOR(K$TCTX.NODE),
     1172    12786    4                  VECTOR(K$TCTX.HOST_REF),
     1173    12787    4                  VECTOR(K$TCTX.DST_REF),
     1174    12788    4                  VECTOR(K$TCTX.SEND_NEXT),
     1175    12789    4                  VECTOR(K$TCTX.RECV_NEXT),
     1176    12790    4                  VECTOR(K$TCTX.QOS),
     1177    12791    4                  VECTOR(K$TCTX.CLASS),
     1178    12792    4                  VECTOR(FLAGS),
     1179    12793    4                  VECTOR(BUF_BYT),
     1180    12794    4                  VECTOR(K$TCTX.REASON),
     1181    12795    4                  VECTOR(K$TCTX.ERR) );

  12795  4 000761   777640 235007                    LDA     -96,DL
         4 000762   200244 452500                    STP2    HEADER0+6,,AUTO
         4 000763   200244 236100                    LDQ     HEADER0+6,,AUTO
         4 000764   000225 036003                    ADLQ    149,DU
         4 000765   200246 757100                    STAQ    HEADER0+8,,AUTO
         4 000766   377640 235007                    LDA     130976,DL
         4 000767   200250 452500                    STP2    HEADER0+10,,AUTO
         4 000770   200250 236100                    LDQ     HEADER0+10,,AUTO
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:215  
         4 000771   000072 036003                    ADLQ    58,DU
         4 000772   200252 757100                    STAQ    HEADER0+12,,AUTO
         4 000773   000022 235000 5                  LDA     18
         4 000774   200230 236100                    LDQ     STATE,,AUTO
         4 000775   000023 736000                    QLS     19
         4 000776   000023 036000 5                  ADLQ    19
         4 000777   200254 757100                    STAQ    HEADER0+14,,AUTO
         4 001000   177640 235007                    LDA     65440,DL
         4 001001   200256 452500                    STP2    HEADER0+16,,AUTO
         4 001002   200256 236100                    LDQ     HEADER0+16,,AUTO
         4 001003   000073 036003                    ADLQ    59,DU
         4 001004   200260 757100                    STAQ    HEADER0+18,,AUTO
         4 001005   177640 235007                    LDA     65440,DL
         4 001006   200262 452500                    STP2    HEADER0+20,,AUTO
         4 001007   200262 236100                    LDQ     HEADER0+20,,AUTO
         4 001010   000024 036000 5                  ADLQ    20
         4 001011   200264 757100                    STAQ    HEADER0+22,,AUTO
         4 001012   377640 235007                    LDA     130976,DL
         4 001013   200266 452500                    STP2    HEADER0+24,,AUTO
         4 001014   200266 236100                    LDQ     HEADER0+24,,AUTO
         4 001015   000040 036000 5                  ADLQ    32
         4 001016   200270 757100                    STAQ    HEADER0+26,,AUTO
         4 001017   377640 235007                    LDA     130976,DL
         4 001020   200272 452500                    STP2    HEADER0+28,,AUTO
         4 001021   200272 236100                    LDQ     HEADER0+28,,AUTO
         4 001022   000025 036000 5                  ADLQ    21
         4 001023   200274 757100                    STAQ    HEADER0+30,,AUTO
         4 001024   777640 235007                    LDA     -96,DL
         4 001025   200276 452500                    STP2    HEADER0+32,,AUTO
         4 001026   200276 236100                    LDQ     HEADER0+32,,AUTO
         4 001027   000124 036003                    ADLQ    84,DU
         4 001030   200300 757100                    STAQ    HEADER0+34,,AUTO
         4 001031   777640 235007                    LDA     -96,DL
         4 001032   200302 452500                    STP2    HEADER0+36,,AUTO
         4 001033   200302 236100                    LDQ     HEADER0+36,,AUTO
         4 001034   000114 036003                    ADLQ    76,DU
         4 001035   200304 757100                    STAQ    HEADER0+38,,AUTO
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:216  
         4 001036   177640 235007                    LDA     65440,DL
         4 001037   200306 452500                    STP2    HEADER0+40,,AUTO
         4 001040   200306 236100                    LDQ     HEADER0+40,,AUTO
         4 001041   000026 036000 5                  ADLQ    22
         4 001042   200310 757100                    STAQ    HEADER0+42,,AUTO
         4 001043   177640 235007                    LDA     65440,DL
         4 001044   200312 452500                    STP2    HEADER0+44,,AUTO
         4 001045   200312 236100                    LDQ     HEADER0+44,,AUTO
         4 001046   000027 036000 5                  ADLQ    23
         4 001047   200314 757100                    STAQ    HEADER0+46,,AUTO
         4 001050   777640 235007                    LDA     -96,DL
         4 001051   200316 452500                    STP2    HEADER0+48,,AUTO
         4 001052   200316 236100                    LDQ     HEADER0+48,,AUTO
         4 001053   000231 036003                    ADLQ    153,DU
         4 001054   200320 757100                    STAQ    HEADER0+50,,AUTO
         4 001055   777640 235007                    LDA     -96,DL
         4 001056   200322 452500                    STP2    HEADER0+52,,AUTO
         4 001057   200322 236100                    LDQ     HEADER0+52,,AUTO
         4 001060   000232 036003                    ADLQ    154,DU
         4 001061   200324 757100                    STAQ    HEADER0+54,,AUTO
         4 001062   177640 235007                    LDA     65440,DL
         4 001063   200326 452500                    STP2    HEADER0+56,,AUTO
         4 001064   200326 236100                    LDQ     HEADER0+56,,AUTO
         4 001065   000100 036003                    ADLQ    64,DU
         4 001066   200330 757100                    STAQ    HEADER0+58,,AUTO
         4 001067   177640 235007                    LDA     65440,DL
         4 001070   200332 452500                    STP2    HEADER0+60,,AUTO
         4 001071   200332 236100                    LDQ     HEADER0+60,,AUTO
         4 001072   000030 036000 5                  ADLQ    24
         4 001073   200336 757100                    STAQ    HEADER0+64,,AUTO
         4 001074   200246 237100                    LDAQ    HEADER0+8,,AUTO
         4 001075   200334 757100                    STAQ    HEADER0+62,,AUTO
         4 001076   200252 237100                    LDAQ    HEADER0+12,,AUTO
         4 001077   200340 757100                    STAQ    HEADER0+66,,AUTO
         4 001100   200254 237100                    LDAQ    HEADER0+14,,AUTO
         4 001101   200342 757100                    STAQ    HEADER0+68,,AUTO
         4 001102   200260 237100                    LDAQ    HEADER0+18,,AUTO
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:217  
         4 001103   200344 757100                    STAQ    HEADER0+70,,AUTO
         4 001104   200264 237100                    LDAQ    HEADER0+22,,AUTO
         4 001105   200346 757100                    STAQ    HEADER0+72,,AUTO
         4 001106   200270 237100                    LDAQ    HEADER0+26,,AUTO
         4 001107   200350 757100                    STAQ    HEADER0+74,,AUTO
         4 001110   200274 237100                    LDAQ    HEADER0+30,,AUTO
         4 001111   200352 757100                    STAQ    HEADER0+76,,AUTO
         4 001112   200300 237100                    LDAQ    HEADER0+34,,AUTO
         4 001113   200354 757100                    STAQ    HEADER0+78,,AUTO
         4 001114   200304 237100                    LDAQ    HEADER0+38,,AUTO
         4 001115   200356 757100                    STAQ    HEADER0+80,,AUTO
         4 001116   200310 237100                    LDAQ    HEADER0+42,,AUTO
         4 001117   200360 757100                    STAQ    HEADER0+82,,AUTO
         4 001120   200314 237100                    LDAQ    HEADER0+46,,AUTO
         4 001121   200362 757100                    STAQ    HEADER0+84,,AUTO
         4 001122   200320 237100                    LDAQ    HEADER0+50,,AUTO
         4 001123   200364 757100                    STAQ    HEADER0+86,,AUTO
         4 001124   200324 237100                    LDAQ    HEADER0+54,,AUTO
         4 001125   200366 757100                    STAQ    HEADER0+88,,AUTO
         4 001126   200330 237100                    LDAQ    HEADER0+58,,AUTO
         4 001127   200370 757100                    STAQ    HEADER0+90,,AUTO
         4 001130   200336 237100                    LDAQ    HEADER0+64,,AUTO
         4 001131   200372 757100                    STAQ    HEADER0+92,,AUTO
         4 001132   200372 630500                    EPPR0   HEADER0+92,,AUTO
         4 001133   200413 450500                    STP0    HEADER0+109,,AUTO
         4 001134   200370 631500                    EPPR1   HEADER0+90,,AUTO
         4 001135   200412 451500                    STP1    HEADER0+108,,AUTO
         4 001136   200366 633500                    EPPR3   HEADER0+88,,AUTO
         4 001137   200411 453500                    STP3    HEADER0+107,,AUTO
         4 001140   200364 634500                    EPPR4   HEADER0+86,,AUTO
         4 001141   200410 454500                    STP4    HEADER0+106,,AUTO
         4 001142   200362 635500                    EPPR5   HEADER0+84,,AUTO
         4 001143   200407 455500                    STP5    HEADER0+105,,AUTO
         4 001144   200360 636500                    EPPR6   HEADER0+82,,AUTO
         4 001145   200406 456500                    STP6    HEADER0+104,,AUTO
         4 001146   200356 637500                    EPPR7   HEADER0+80,,AUTO
         4 001147   200405 457500                    STP7    HEADER0+103,,AUTO
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:218  
         4 001150   200354 630500                    EPPR0   HEADER0+78,,AUTO
         4 001151   200404 450500                    STP0    HEADER0+102,,AUTO
         4 001152   200352 630500                    EPPR0   HEADER0+76,,AUTO
         4 001153   200403 450500                    STP0    HEADER0+101,,AUTO
         4 001154   200350 630500                    EPPR0   HEADER0+74,,AUTO
         4 001155   200402 450500                    STP0    HEADER0+100,,AUTO
         4 001156   200346 630500                    EPPR0   HEADER0+72,,AUTO
         4 001157   200401 450500                    STP0    HEADER0+99,,AUTO
         4 001160   200344 630500                    EPPR0   HEADER0+70,,AUTO
         4 001161   200400 450500                    STP0    HEADER0+98,,AUTO
         4 001162   200342 630500                    EPPR0   HEADER0+68,,AUTO
         4 001163   200377 450500                    STP0    HEADER0+97,,AUTO
         4 001164   200340 630500                    EPPR0   HEADER0+66,,AUTO
         4 001165   200376 450500                    STP0    HEADER0+96,,AUTO
         4 001166   200334 630500                    EPPR0   HEADER0+62,,AUTO
         4 001167   200375 450500                    STP0    HEADER0+95,,AUTO
         4 001170   000046 236000 5                  LDQ     38
         4 001171   200374 756100                    STQ     HEADER0+94,,AUTO
         4 001172   200374 630500                    EPPR0   HEADER0+94,,AUTO
         4 001173   000000 220000 xsym               LDX0    DAF$WRITE
         4 001174   000041 631400 5                  EPPR1   33
         4 001175   000000 701010                    TSX1    0,X0
         4 001176   000000 011000                    NOP     0

     1182    12796    4                END/*do if cp6 intermediate*/;

     1183    12797    3           END/* do if intermediate*/;

     1184    12798
     1185    12799    2   END DISP_TCTX;

  12799  4 001177   200242 221300                    LDX1  ! HEADER0+4,,AUTO
         4 001200   000001 702211                    TSX2  ! 1,X1
     1186    12800
     1187    12801    1   END DBD$TCTX;

PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:219  
--  Include file information  --

   DB_PERR_C.:E05TOU  is referenced.
   DA_ANLZ_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   DA_FORMAT_C.:E05TOU  is referenced.
   K_ADDRESS_M.:E05TOU  is referenced.
   KN_DATA_M.:E05TOU  is referenced.
   G$BOBCAT_M.:E05TOU  is referenced.
   GH_SCHD_M.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure DBD$TCTX.
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:220  

 **** Variables and constants ****

  ****  Section 001  Data  DBD$TCTX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   130-0-0/c CHAR(3)     r     1 BLANK3
   100-0-0/c CHAR(8)     r     1 K_TCTX_STATE(0:11)
     0-0-0/w STRC(288)   r     1 TCTXRPT1                  16-0-0/w STRC(144)   r     1 TCTXRPT1HD00
    47-0-0/w STRC(144)   r     1 TCTXRPT1HD01              10-0-0/c STRC(198)   r     1 TCTXRPT1TX00
    22-0-0/c STRC(729)   r     1 TCTXRPT1TX01              53-0-0/c STRC(729)   r     1 TCTXRPT1TX02

  ****  Section 002 RoData DBD$TCTX

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   107-0-0/c CHAR(20)    r     1 BAD_TCTX_ADDR              0-0-0/c CHAR(85)    r     1 TCTX_FMT1
    26-0-0/c CHAR(100)   r     1 TCTX_FMT1X                57-0-0/c CHAR(96)    r     1 TCTX_FMT1Y

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @TOP                     234-0-0/w UBIN        r     1 ACTION
   232-0-0/w UBIN        r     1 BUF_BYT                  235-0-0/w UBIN        r     1 ENTRY_TYPE
   231-0-0/w UBIN        r     1 FLAGS                      4-0-0/w STRC(1908)  r     1 G$BOBCAT
   236-0-0/w UBIN        r     1 HEADER0                  221-0-0/w SBIN        r     1 I
    71-0-0/c STRC(3168)  r     1 K$TCTX                   230-0-0/w UBIN        r     1 STATE
   226-0-0/w UBIN        r     1 TCTX_$$                  224-0-0/w UBIN        r     1 TCTX_DATA$
   227-0-0/w UBIN        r     1 TCTX_SIZE                233-0-0/w UBIN        r     1 TEMP
   225-0-0/w UBIN        r     1 THIS_TCTX$                *0-0-0/w STRC(144)   r     1 TOP
   222-0-0/w UBIN        r     1 X

  ****  SYMREF variables  ****
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:221  

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w EPTR        r     1 DAF$WRITE                  0-0-0/w UBIN        r     1 DBD_BOBCAT$
     0-0-0/w UBIN        r     1 DBD_FEPCTX_END$            0-0-0/w UBIN        r     1 DBD_FEPCTX_MAX#
     0-0-0/w UBIN        r     1 DBD_FEPCTX_START$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(144)   r     1 OUT


   Procedure DBD$TCTX requires 641 words for executable code.
   Procedure DBD$TCTX requires 268 words of local(AUTO) storage.

    No errors detected in file DBD$FMT_KN.:E05TSI    .
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:222  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:223  
          MINI XREF LISTING

ACTION
     12626**DCL     12672<<ASSIGN  12688<<ASSIGN  12731>>IF
BAD_TCTX_ADDR
     11688**DCL     12718--CALL
BLANK3
     11691**DCL     12777--CALL
BUF_BYT
     12624**DCL     12727<>CALL    12729<<ASSIGN  12729>>ASSIGN  12751--CALL    12777--CALL    12795--CALL
DAA$VALUE
     11497**DCL-ENT 12684--CALL
DAF$INIT
     11499**DCL-ENT 12738--CALL
DAF$WRITE
     11498**DCL     12718>>CALL    12751>>CALL    12777>>CALL    12795>>CALL
DBD$KNINFO
     11506**DCL-ENT 12660--CALL    12664--CALL
DBD_BOBCAT$
     12635**DCL     12709>>IF
DBD_FEPCTX_END$
     12638**DCL     12715>>IF
DBD_FEPCTX_MAX#
     12639**DCL     12673>>DOINDEX 12689>>DOINDEX 12711>>IF
DBD_FEPCTX_START$
     12637**DCL     12690>>ASSIGN  12712>>ASSIGN  12715>>IF
DBM$GETBOBCAT
     11502**DCL-ENT 12654--CALL
DBM$GETMEM
     11501**DCL-ENT 12675--CALL    12722--CALL
DBM$PACK1
     11503**DCL-ENT 12725--CALL
DBM$PACK2
     11504**DCL-ENT 12726--CALL    12727--CALL    12728--CALL
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:224  
DBM$PACK4
     11505**DCL-ENT 12657--CALL    12658--CALL    12676--CALL
DISP_TCTX
     12708**PROC    12678--CALL    12691--CALL    12696--CALL
ENTRY_TYPE
     12627**DCL     12645<<ASSIGN  12649<<ASSIGN  12662>>IF
FLAGS
     12623**DCL     12726<>CALL    12751--CALL    12777--CALL    12795--CALL
G$BOBCAT
     11694**DCL     12654<>CALL
G$BOBCAT.TCTX$$
     11699**DCL     12658<>CALL
G$BOBCAT.TCTXDATA$
     11701**DCL     12657<>CALL
HEADER0
     12628**DCL     12652<<ASSIGN  12736>>IF      12739<<ASSIGN
I
     12614**DCL     12673<<DOINDEX 12674>>ASSIGN  12689<<DOINDEX 12690>>ASSIGN
K$TCTX
     11711**DCL     12653--ASSIGN  12722<>CALL    12722--CALL    12722--CALL
K$TCTX.CLASS
     11777**DCL     12751--CALL    12777--CALL    12795--CALL
K$TCTX.DST_NSAP.ADDRESS_N
     12596**DCL     12597--REDEF
K$TCTX.DST_REF
     11737**DCL     12751--CALL    12777--CALL    12795--CALL
K$TCTX.ERR
     11968**DCL     12751--CALL    12777--CALL    12795--CALL
K$TCTX.FLAGS
     11887**DCL     12726<>CALL
K$TCTX.FLAGS.PRIMARY
     11956**DCL     12742>>IF
K$TCTX.HOST_NODE
     11760**DCL     12777--CALL    12795--CALL
K$TCTX.HOST_REF
     11753**DCL     12777--CALL    12795--CALL
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:225  
K$TCTX.NODE
     11718**DCL     11731--REDEF   12751--CALL    12795--CALL
K$TCTX.OPTION.OSI
     11839**DCL     12760>>IF
K$TCTX.QOS
     11766**DCL     12751--CALL    12777--CALL    12795--CALL
K$TCTX.REASON
     11962**DCL     12751--CALL    12777--CALL    12795--CALL
K$TCTX.RECV_BUFF.BYTES_CUR
     12077**DCL     12728<>CALL
K$TCTX.RECV_NEXT
     12098**DCL     12751--CALL    12777--CALL    12795--CALL
K$TCTX.SEND_BUFF.BYTES_CUR
     12137**DCL     12727<>CALL
K$TCTX.SEND_NEXT
     12155**DCL     12751--CALL    12777--CALL    12795--CALL
K$TCTX.SRC_NSAP.ADDRESS_N
     12532**DCL     12533--REDEF
K$TCTX.SRC_REF
     11745**DCL     12751--CALL    12777--CALL    12795--CALL
K$TCTX.STATE
     11712**DCL     12725<>CALL
K$TCTX.TMR_INACTIVITY.ARG
     12352**DCL     12353--REDEF
K$TCTX.TMR_REFERENCE.ARG
     12382**DCL     12383--REDEF
K$TCTX.TMR_RETRAN.ARG
     12293**DCL     12294--REDEF
K$TCTX.TMR_WINDOW.ARG
     12322**DCL     12323--REDEF
K_TCTX_STATE
     11679**DCL     12751--CALL    12777--CALL    12795--CALL
OUT
     11457**DCL     12684<>CALL
REPORT_BAD_TCTX IN PROCEDURE DISP_TCTX
     12712**LABEL   12711--GOTO
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:226  
STATE
     12622**DCL     12725<>CALL    12733>>IF      12733>>IF      12751>>CALL    12777>>CALL    12795>>CALL
TCTXRPT1
     11526**DCL     12738<>CALL
TCTXRPT1HD00
     11593**DCL     11561--DCLINIT
TCTXRPT1HD01
     11636**DCL     11608--DCLINIT
TCTXRPT1TX00
     11569**DCL     11556--DCLINIT
TCTXRPT1TX01
     11611**DCL     11601--DCLINIT
TCTXRPT1TX02
     11654**DCL     11644--DCLINIT
TCTX_$$
     12620**DCL     12658<>CALL    12674>>ASSIGN
TCTX_DATA$
     12618**DCL     12657<>CALL    12660<>CALL    12664<>CALL
TCTX_FMT1
     11661**DCL     12751--CALL
TCTX_FMT1X
     11664**DCL     12795--CALL
TCTX_FMT1Y
     11667**DCL     12777--CALL
TCTX_SIZE
     12621**DCL     12653<<ASSIGN  12690>>ASSIGN  12712>>ASSIGN
TCTX_START
     12649**LABEL   12646--GOTO
TEMP
     12625**DCL     12728<>CALL    12729>>ASSIGN
THIS_TCTX$
     12619**DCL     12674<<ASSIGN  12675<>CALL    12675<>CALL    12676<>CALL    12676<>CALL    12677>>IF
     12684<>CALL    12686>>IF      12690<<ASSIGN  12709>>IF      12711>>IF      12712<<ASSIGN  12712>>ASSIGN
     12715>>IF      12715>>IF      12722<>CALL    12751--CALL    12777--CALL    12795--CALL
TOP
     11412**DCL        10--PROC    12648--ENTRY
PL6.E3A0      #005=DBD$TCTX File=DBD$FMT_KN.:E05TSI                              TUE 07/29/97 13:06 Page:227  
TOP.NSUBLKS
     11424**DCL     12670>>IF      12683>>DOINDEX
TOP.SUBLK$
     11445**DCL     12684>>CALL
X
     12615**DCL     12683<<DOINDEX 12684>>CALL

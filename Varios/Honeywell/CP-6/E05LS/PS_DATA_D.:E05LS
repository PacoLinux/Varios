VERSION E05

PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:1    
        1        1        /*M*  PS_DATA_D   Data definitions for STATS static stuff                     */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X*     PLM=3,SQB=Y,AND=Y,ENI=0,SDI=3,MCL=10,CSI=0,ECI=0,IND=0,IAD=3,MOC=Y   */
        8        8        PS_DATA_D: PROC;
        9        9        /* ! ! */                          /* Don't emit following %INCLUDE to _R     */
       10       10        %INCLUDE CP_6_SUBS;
       11      550        %INCLUDE CP_6;
       12      631        %M$DCB (DCBN=M$LO,
       13      632         ASN=DEVICE,
       14      633         RES='LO  ',
       15      634         FUN=CREATE,
       16      635         EXIST=OLDFILE,
       17      636         CTG=YES ) ;
       18      710        /* ! R !
       19      711        DCL M$LO DCB;
       20      712        */
       21      713    1   DCL M$DO DCB;
       22      714    1   DCL M$SI DCB;
       23      715    1   DCL F$LOG DCB;
       24      716    1   DCL M$ME DCB;
       25      717    1   DCL M$HLPCG DCB;
       26      718
       27      719        /* STATS global types */
       28      720        %INCLUDE PS_SUBS_C;
       29      914        %INCLUDE PM_BUCKET_C;
       30      999
       31     1000        /* Formated output service types */
       32     1001        %INCLUDE XU_FORMAT_C;
       33     1163
       34     1164        /* FEP entity ID's */
       35     1165        %INCLUDE K_ID_E;
       36     1215        %K#ENTID_E;
       37     1234        %INCLUDE P_FEP_M;
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:2    
       38     1672
       39     1673        /* Function codes from SLUG, including the one for "request stats." */
       40     1674        %INCLUDE KL_AFCN_C;
       41     1775
       42     1776        /* Structure for "Stats Request" messages.  */
       43     1777        %INCLUDE KL_MACRO_C;
       44     5129
       45     5130        /* Pointers to and sizes of our dynamic data segments. */
       46     5131
       47     5132    1   DCL PS_PMDAT$ PTR STATIC SYMDEF;
       48     5133    1   DCL PS_OLD_PMDAT$ PTR STATIC SYMDEF;
       49     5134    1   DCL PS_LOGFILE$ PTR STATIC SYMDEF;
       50     5135    1   DCL PS_OLD_LOGFILE$ PTR STATIC SYMDEF;
       51     5136    1   DCL PS_MOUSE$ PTR STATIC SYMDEF;
       52     5137    1   DCL PS_OLD_MOUSE$ PTR STATIC SYMDEF;
       53     5138    1   DCL PS_FEP$ PTR STATIC SYMDEF INIT(ADDR(NIL));
       54     5139    1   DCL PS_OLD_FEP$ PTR STATIC SYMDEF INIT(ADDR(NIL));
       55     5140
       56     5141    1   DCL PS_PMDAT_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       57     5142    1   DCL PS_OLD_PMDAT_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       58     5143    1   DCL PS_NEEDED_PMDAT_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       59     5144    1   DCL PS_LOGFILE_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       60     5145    1   DCL PS_OLD_LOGFILE_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       61     5146    1   DCL PS_NEEDED_LOGFILE_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       62     5147    1   DCL PS_MOUSE_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       63     5148    1   DCL PS_OLD_MOUSE_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       64     5149    1   DCL PS_NEEDED_MOUSE_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       65     5150    1   DCL PS_FEP_SIZE UBIN STATIC SYMDEF INIT(0);
       66     5151    1   DCL PS_OLD_FEP_SIZE UBIN STATIC SYMDEF INIT(0);
       67     5152    1   DCL PS_NEEDED_FEP_SIZE UBIN STATIC SYMDEF INIT(0);
       68     5153
       69     5154        /* Flags controling what to display and/or log */
       70     5155
       71     5156    1   DCL 1 PS_DISPLAY_FLAGS STATIC SYMDEF ALIGNED,
       72     5157    1          2 CPU LOGICAL INIT (%NO#),
       73     5158    1          2 RESOURCES LOGICAL INIT (%NO#),
       74     5159    1          2 DEVICES LOGICAL INIT (%NO#),
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:3    
       75     5160    1          2 CHANNELS LOGICAL INIT (%NO#),
       76     5161    1          2 SCPU LOGICAL INIT (%NO#),
       77     5162    1          2 PROCS LOGICAL INIT (%NO#),
       78     5163    1          2 SUMMARY LOGICAL INIT (%NO#),
       79     5164    1          2 HISTOGRAMS LOGICAL INIT (%NO#),
       80     5165    1          2 FAULT LOGICAL INIT (%NO#),
       81     5166    1          2 FEP LOGICAL INIT (%NO#),
       82     5167    1          2 MOUSE LOGICAL INIT (%NO#);
       83     5168
       84     5169    1   DCL 1 PS_LOG_FLAGS STATIC SYMDEF ALIGNED,
       85     5170    1          2 CPU LOGICAL INIT (%NO#),
       86     5171    1          2 RESOURCES LOGICAL INIT (%NO#),
       87     5172    1          2 DEVICES LOGICAL INIT (%NO#),
       88     5173    1          2 CHANNELS LOGICAL INIT (%NO#),
       89     5174    1          2 SCPU LOGICAL INIT (%NO#),
       90     5175    1          2 PROCS LOGICAL INIT (%NO#),
       91     5176    1          2 SUMMARY LOGICAL INIT (%NO#),
       92     5177    1          2 HISTOGRAMS LOGICAL INIT (%NO#),
       93     5178    1          2 FAULT LOGICAL INIT (%NO#),
       94     5179    1          2 FEP LOGICAL INIT (%NO#),
       95     5180    1          2 MOUSE LOGICAL INIT (%NO#);
       96     5181
       97     5182    1   DCL 1 PS_DEFAULT_DISPLAY_FLAGS STATIC SYMDEF ALIGNED,
       98     5183    1          2 CPU LOGICAL INIT (%YES#),
       99     5184    1          2 RESOURCES LOGICAL INIT (%NO#),
      100     5185    1          2 DEVICES LOGICAL INIT (%NO#),
      101     5186    1          2 CHANNELS LOGICAL INIT (%NO#),
      102     5187    1          2 SCPU LOGICAL INIT (%NO#),
      103     5188    1          2 PROCS LOGICAL INIT (%NO#),
      104     5189    1          2 SUMMARY LOGICAL INIT (%NO#),
      105     5190    1          2 HISTOGRAMS LOGICAL INIT (%NO#),
      106     5191    1          2 FAULT LOGICAL INIT (%NO#),
      107     5192    1          2 FEP LOGICAL INIT (%NO#),
      108     5193    1          2 MOUSE LOGICAL INIT (%NO#);
      109     5194
      110     5195    1   DCL 1 PS_DEFAULT_LOG_FLAGS STATIC SYMDEF ALIGNED,
      111     5196    1          2 CPU LOGICAL INIT (%NO#),
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:4    
      112     5197    1          2 RESOURCES LOGICAL INIT (%NO#),
      113     5198    1          2 DEVICES LOGICAL INIT (%NO#),
      114     5199    1          2 CHANNELS LOGICAL INIT (%NO#),
      115     5200    1          2 SCPU LOGICAL INIT (%NO#),
      116     5201    1          2 PROCS LOGICAL INIT (%NO#),
      117     5202    1          2 SUMMARY LOGICAL INIT (%NO#),
      118     5203    1          2 HISTOGRAMS LOGICAL INIT (%NO#),
      119     5204    1          2 FAULT LOGICAL INIT (%NO#),
      120     5205    1          2 FEP LOGICAL INIT (%NO#),
      121     5206    1          2 MOUSE LOGICAL INIT (%NO#);
      122     5207
      123     5208    1   DCL 1 PS_WORKING_FLAGS STATIC SYMDEF ALIGNED,
      124     5209    1          2 CPU LOGICAL INIT (%NO#),
      125     5210    1          2 RESOURCES LOGICAL INIT (%NO#),
      126     5211    1          2 DEVICES LOGICAL INIT (%NO#),
      127     5212    1          2 CHANNELS LOGICAL INIT (%NO#),
      128     5213    1          2 SCPU LOGICAL INIT (%NO#),
      129     5214    1          2 PROCS LOGICAL INIT (%NO#),
      130     5215    1          2 SUMMARY LOGICAL INIT (%NO#),
      131     5216    1          2 HISTOGRAMS LOGICAL INIT (%NO#),
      132     5217    1          2 FAULT LOGICAL INIT (%NO#),
      133     5218    1          2 FEP LOGICAL INIT (%NO#),
      134     5219    1          2 MOUSE LOGICAL INIT (%NO#);
      135     5220
      136     5221    1   DCL 1 PS_BASED_FLAGS BASED ALIGNED,
      137     5222    1          2 CPU LOGICAL,
      138     5223    1          2 RESOURCES LOGICAL,
      139     5224    1          2 DEVICES LOGICAL,
      140     5225    1          2 CHANNELS LOGICAL,
      141     5226    1          2 SCPU LOGICAL,
      142     5227    1          2 PROCS LOGICAL,
      143     5228    1          2 SUMMARY LOGICAL,
      144     5229    1          2 HISTOGRAMS LOGICAL,
      145     5230    1          2 FAULT LOGICAL,
      146     5231    1          2 FEP LOGICAL,
      147     5232    1          2 MOUSE LOGICAL;
      148     5233
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:5    
      149     5234                                      /* PS_FEP_..._FLAGS is indexed by node/fep number.
      150     5235                                         PS_FEP_..._FLAGS(0) set when all feps are set
      151     5236                                         thus it indicates what "most" of the flags
      152     5237                                         are for status display.                      */
      153     5238
      154     5239    1   DCL 1 PS_FEP_DISP_FLAGS(0:%PS_MAXFE#) STATIC SYMDEF ALIGNED,
      155     5240        %PS_FEPMASK(NAME=DISP,LVL=2,STCLASS="STATIC SYMDEF",LAST=",");
      156     5306        %PS_FEPMASK(NAME=SLCT,LVL=2,STCLASS="STATIC SYMDEF",LAST=",");
      157     5372    1          2 HANDLER CHAR(8) CALIGNED INIT(' '*0) ;
      158     5373
      159     5374    1   DCL 1 PS_FEP_LOG_FLAGS(0:%PS_MAXFE#) STATIC SYMDEF ALIGNED,
      160     5375        %PS_FEPMASK(NAME=DISP,LVL=2,STCLASS="STATIC SYMDEF",LAST=",");
      161     5441        %PS_FEPMASK(NAME=SLCT,LVL=2,STCLASS="STATIC SYMDEF",LAST=",");
      162     5507    1          2 HANDLER CHAR(8) CALIGNED INIT(' '*0) ;
      163     5508
      164     5509    1   DCL 1 PS_FEP_BASED_FLAGS(0:%PS_MAXFE#) BASED ALIGNED,
      165     5510        %PS_FEPMASK(NAME=DISP,LVL=2,LAST=",");
      166     5576        %PS_FEPMASK(NAME=SLCT,LVL=2,LAST=",");
      167     5642    1          2 HANDLER CHAR(8) CALIGNED ;
      168     5643
      169     5644    1   DCL PS_FEP_DEBUG BIT(1) ALIGNED STATIC SYMDEF INIT('0'B);
      170     5645
      171     5646    1   DCL 1 PS_PMDAT_FLAGS STATIC SYMDEF,
      172     5647    1          2 DISPLAY LOGICAL,
      173     5648    1          2 LOG LOGICAL;
      174     5649
      175     5650    1   DCL 1 PS_HISTOGRAM_FLAGS STATIC SYMDEF,
      176     5651    1          2 RESPONSE,
      177     5652    1             3 SNAP LOGICAL INIT (%YES#),
      178     5653    1             3 ALL LOGICAL INIT (%YES#),
      179     5654    1          2 USER_SIZE,
      180     5655    1             3 SNAP LOGICAL INIT (%YES#),
      181     5656    1             3 ALL LOGICAL INIT (%YES#),
      182     5657    1          2 PMME_TIMES,
      183     5658    1             3 SNAP LOGICAL INIT (%YES#),
      184     5659    1             3 ALL LOGICAL INIT (%YES#),
      185     5660    1          2 INTERACTION_TIME,
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:6    
      186     5661    1             3 SNAP LOGICAL INIT (%YES#),
      187     5662    1             3 ALL LOGICAL INIT (%YES#);
      188     5663
      189     5664    1   DCL PS_MOUSEING LOGICAL STATIC SYMDEF INIT (%NO#);
      190     5665
      191     5666    1   DCL 1 BLOCK BASED,
      192     5667    1          2 IDENT SBIN,
      193     5668    1          2 ENTRIES SBIN HALF UNAL,
      194     5669    1          2 WORDS SBIN HALF UNAL,
      195     5670    1          2 DATA (0:0) SBIN;
      196     5671
      197     5672    1   DCL 1 PS_LOGFILE_KEY STATIC SYMDEF,
      198     5673    1          2 COUNT UBIN BYTE UNAL INIT (5),
      199     5674    1          2 UTS UBIN WORD UNAL,
      200     5675    1          2 TAG CHAR (1),
      201     5676    1          2 * CHAR (22);
      202     5677    1   DCL PS_TAG CHAR(1) STATIC SYMDEF;
      203     5678
      204     5679    1   DCL PS_BAILOUT REMEMBER STATIC SYMDEF DALIGNED;
      205     5680
      206     5681    1   DCL 1 PS_ERR STATIC SYMDEF ALIGNED,
      207     5682    1          2 FCG BIT(6) UNAL INIT ('0'B),
      208     5683    1          2 MID BIT(12) UNAL INIT ('0'B),
      209     5684    1          2 MON LOGICAL INIT (%NO#),
      210     5685    1          2 CODE UBIN(14) UNAL INIT (0),
      211     5686    1          2 SEV UBIN(3) UNAL INIT (0);
      212     5687    1   DCL 1 PS_STEPCC UBIN STATIC SYMDEF INIT(0) ;
      213     5688    1   DCL PS_INPUTTING LOGICAL STATIC SYMDEF;
      214     5689    1   DCL PS_BUFFER CHAR (140) STATIC SYMDEF;
      215     5690    1   DCL PS_COMMAND CHAR (255) STATIC SYMDEF;
      216     5691    1   DCL PS_SCRATCH (0:99) BIT (36) ALIGNED STATIC SYMDEF;
      217     5692    1   DCL PS_INTERVAL UBIN STATIC SYMDEF;
      218     5693    1   DCL PS_DEFAULT_INTERVAL UBIN STATIC SYMDEF INIT (5);
      219     5694    1   DCL PS_PREVIOUS_TIME UBIN STATIC SYMDEF;
      220     5695    1   DCL PS_ELAPSED_TIME SBIN STATIC SYMDEF;
      221     5696    1   DCL PS_UPTIME SBIN STATIC SYMDEF;
      222     5697    1   DCL PS_STARTUP UBIN STATIC SYMDEF;
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:7    
      223     5698    1   DCL PS_PUNT_COUNT UBIN STATIC SYMDEF;
      224     5699    1   DCL 1 PS_TODAYS_DATE CHAR(10) STATIC SYMDEF ;
      225     5700        %F_FDS (NAME=PS_FDS,
      226     5701         STCLASS=EXTROOT,
      227     5702         DCB=M$LO,
      228     5703         BUF=PS_BUFFER);
      229     5816        %DEF_RPN (NAME=PS_SELECT_RPN, SIZE=30, STCLASS="EXTROOT");
      230     5827        %DEF_RPN (NAME=PS_STATS_RPN, SIZE=15, STCLASS="EXTROOT");
      231     5838        /* ! ! */                          /* Don't emit DEF_SYMBOL calls to _R file  */
      232     5839
      233     5840    1   DCL 1 V_TABLE CONSTANT SYMDEF,
      234     5841        %DEF_SYMBOL (TITLE='ETMF', VAR=PS_COLLECT.ETMF,
      235     5842         SCALE=LINEAR, LOW=1, HIGH=15);
      236     5854        %DEF_SYMBOL (TITLE='90% resp', VAR=PS_COLLECT.RT90,
      237     5855         SCALE=LOG, LOW=1, HIGH=2000);
      238     5867        %DEF_SYMBOL (TITLE='I/O load', VAR=PS_COLLECT.IOLOAD,
      239     5868         SCALE=LINEAR, LOW=0, HIGH=100);
      240     5880        %DEF_SYMBOL (TITLE='Users', VAR=PS_COLLECT.USERS.TOTAL,
      241     5881         SCALE=LINEAR, LOW=0, HIGH=100);
      242     5893        %DEF_SYMBOL (TITLE='Batch', VAR=PS_COLLECT.USERS.BATCH,
      243     5894         SCALE=LINEAR, LOW=0, HIGH=14);
      244     5906        %DEF_SYMBOL (TITLE='Online', VAR=PS_COLLECT.USERS.INT,
      245     5907         SCALE=LINEAR, LOW=0, HIGH=60);
      246     5919        %DEF_SYMBOL (TITLE='Ghost', VAR=PS_COLLECT.USERS.GHOST,
      247     5920         SCALE=LINEAR, LOW=0, HIGH=14);
      248     5932        %DEF_SYMBOL (TITLE='TP', VAR=PS_COLLECT.USERS.TP,
      249     5933         SCALE=LINEAR, LOW=0, HIGH=50);
      250     5945        %DEF_SYMBOL (TITLE='% exec', VAR=PS_COLLECT.USRXEQ, MODE=PERCENT,
      251     5946         SCALE=LINEAR, LOW=0, HIGH=100);
      252     5958        %DEF_SYMBOL (TITLE='% serv', VAR=PS_COLLECT.USRSRV, MODE=PERCENT,
      253     5959         SCALE=LINEAR, LOW=0, HIGH=100);
      254     5971        %DEF_SYMBOL (TITLE='% mon', VAR=PS_COLLECT.MONXEQ, MODE=PERCENT,
      255     5972         SCALE=LINEAR, LOW=0, HIGH=100);
      256     5984        %DEF_SYMBOL (TITLE='% idle', VAR=PS_COLLECT.IDLE, MODE=PERCENT,
      257     5985         SCALE=LINEAR, LOW=0, HIGH=100);
      258     5997        %DEF_SYMBOL (TITLE='% I/O', VAR=PS_COLLECT.IDLWIO, MODE=PERCENT,
      259     5998         SCALE=LINEAR, LOW=0, HIGH=100);
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:8    
      260     6010        %DEF_SYMBOL (TITLE='% Res', VAR=PS_COLLECT.IDLWRES, MODE=PERCENT,
      261     6011         SCALE=LINEAR, LOW=0, HIGH=100);
      262     6023        %DEF_SYMBOL (TITLE='% IO&res', VAR=PS_COLLECT.IDLWRESIO, MODE=PERCENT,
      263     6024         SCALE=LINEAR, LOW=0, HIGH=100);
      264     6036        %DEF_SYMBOL (TITLE='Scheds', VAR=PS_COLLECT.SCHEDS, MODE=RATE,
      265     6037         SCALE=LINEAR, LOW=0, HIGH=2500);
      266     6049        %DEF_SYMBOL (TITLE='Ints', INDEX=P_NINTS#, MODE=RATE,
      267     6050         SCALE=LINEAR, LOW=0, HIGH=200);
      268     6062        %DEF_SYMBOL (TITLE='Events', VAR=PS_COLLECT.EVENTS, MODE=RATE,
      269     6063         SCALE=LINEAR, LOW=0, HIGH=2500);
      270     6075        %DEF_SYMBOL (TITLE='PMMEs', VAR=PS_COLLECT.CALCNT, MODE=RATE,
      271     6076         SCALE=LINEAR, LOW=0, HIGH=20000);
      272     6088        %DEF_SYMBOL (TITLE='CPUs', INDEX=P_NSCPU#, MODE=ABS,
      273     6089         SCALE=LINEAR, LOW=1, HIGH=4);
      274     6101        %DEF_SYMBOL (TITLE='I/Os', VAR=PS_COLLECT.IOS, MODE=RATE,
      275     6102         SCALE=LINEAR, LOW=0, HIGH=3000);
      276     6114        %DEF_SYMBOL (TITLE='Disk IOs', VAR=PS_COLLECT.SPECIFIC_IOS.DISK, MODE=RATE,
      277     6115         SCALE=LINEAR, LOW=0, HIGH=3000);
      278     6127        %DEF_SYMBOL (TITLE='Tape IOs', VAR=PS_COLLECT.SPECIFIC_IOS.TAPE, MODE=RATE,
      279     6128         SCALE=LINEAR, LOW=0, HIGH=1500);
      280     6140        %DEF_SYMBOL (TITLE='Misc IOs', VAR=PS_COLLECT.SPECIFIC_IOS.OTHER, MODE=RATE,
      281     6141         SCALE=LINEAR, LOW=0, HIGH=1000);
      282     6153        %DEF_SYMBOL (TITLE='Free Pgs', VAR=PS_COLLECT.AVAIL_MEM,
      283     6154         SCALE=LINEAR, LOW=0, HIGH=4000);
      284     6166        %DEF_SYMBOL (TITLE='IOC Trnc', INDEX=MM_IOTRNC#,
      285     6167         MODE=RATE, SCALE=LINEAR, LOW=0, HIGH=100);
      286     6179        %DEF_SYMBOL (TITLE='Pro Trnc', INDEX=MM_SPTRNC#,
      287     6180         MODE=RATE, SCALE=LINEAR, LOW=0, HIGH=100,
      288     6181         LAST=YES);
      289     6193        /* ! R !
      290     6194
      291     6195        DCL 1 V_TABLE (0:0) SYMREF ALIGNED,
      292     6196              2 VAR$ PTR,
      293     6197              2 SCALE UBIN (2) UNAL,
      294     6198              2 LOW UBIN (17) UNAL,
      295     6199              2 HIGH UBIN (17) UNAL,
      296     6200              2 INDX UBIN BYTE UNAL,
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:9    
      297     6201              2 OFFSET UBIN BYTE UNAL,
      298     6202              2 MODE UBIN BYTE UNAL,
      299     6203              2 TITLE,
      300     6204                3 LEN UBIN BYTE UNAL,
      301     6205                3 TEXT CHAR(8);
      302     6206        */
      303     6207        %BUCKET (NAME=PS_STATS_BUCKET,
      304     6208         STCLASS="EXTROOT",
      305     6209         #_OF_BUCKETS=15);
      306     6216
      307     6217    1   DCL 1 PS_FILE_PARAMS STATIC SYMDEF,
      308     6218    1          2 NAME@,
      309     6219    1             3 COUNT UBIN BYTE UNAL,
      310     6220    1             3 TEXT CHAR(31),
      311     6221    1          2 ACCT@ CHAR (8),
      312     6222    1          2 PASS@ CHAR (8),
      313     6223    1          2 SN@ DALIGNED,
      314     6224    1             3 COUNT UBIN WORD,
      315     6225    1             3 TEXT CHAR (6) UNAL,
      316     6226    1          2 ASN@ UBIN BYTE UNAL,
      317     6227    1          2 RES@ CHAR (4);
      318     6228
      319     6229    1   DCL 1 PS_FID_PARAMS STATIC SYMDEF,
      320     6230    1          2 NAME@,
      321     6231    1             3 COUNT UBIN BYTE UNAL,
      322     6232    1             3 TEXT CHAR(31),
      323     6233    1          2 ACCT@ CHAR (8),
      324     6234    1          2 PASS@ CHAR (8),
      325     6235    1          2 SN@ DALIGNED,
      326     6236    1             3 COUNT UBIN WORD,
      327     6237    1             3 TEXT CHAR (6) UNAL,
      328     6238    1          2 ASN@ UBIN BYTE UNAL,
      329     6239    1          2 RES@ CHAR (4);
      330     6240
      331     6241    1   DCL 1 PS_DEFAULT_FILE_PARAMS CONSTANT SYMDEF,
      332     6242    1          2 NAME@,
      333     6243    1             3 COUNT UBIN BYTE UNAL INIT (LENGTHC(':SNAPS')),
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:10   
      334     6244    1             3 TEXT CHAR(31) INIT (':SNAPS'),
      335     6245    1          2 ACCT@ CHAR (8) INIT ('       '),
      336     6246    1          2 PASS@ CHAR (8) INIT ('       '),
      337     6247    1          2 SN@ DALIGNED,
      338     6248    1             3 COUNT UBIN WORD INIT (1),
      339     6249    1             3 TEXT CHAR (6) UNAL INIT ('      '),
      340     6250    1          2 ASN@ UBIN BYTE UNAL INIT (%FILE#),
      341     6251    1          2 RES@ CHAR (4) INIT (BINASC(0));
      342     6252
      343     6253    1   DCL 1 PS_GHOST_FLAGS STATIC SYMDEF,
      344     6254    1          2 OPENED LOGICAL INIT (%NO#),
      345     6255    1          2 CLOSED LOGICAL INIT (%NO#);
      346     6256        /*
      347     6257              Caveat - if the M$GETPM table ever grows to more than 100
      348     6258              entries, remember to expand the upper subscript limit of the
      349     6259              following two pointer arrays, lest all hell break loose.
      350     6260        */
      351     6261    1   DCL PS_PTRS$ (0:99) PTR STATIC SYMDEF;
      352     6262    1   DCL PS_OLD_PTRS$ (0:99) PTR STATIC SYMDEF;
      353     6263
      354     6264    1   DCL 1 PS_COLLECT STATIC SYMDEF,
      355     6265    1          2 USRXEQ UBIN WORD,
      356     6266    1          2 USRSRV UBIN WORD,
      357     6267    1          2 USRSRV_SBIN REDEF USRSRV SBIN WORD,
      358     6268    1          2 MONXEQ UBIN WORD,
      359     6269    1          2 IDLWIO UBIN WORD,
      360     6270    1          2 IDLWRES UBIN WORD,
      361     6271    1          2 IDLWRESIO UBIN WORD,
      362     6272    1          2 IDLE UBIN WORD,
      363     6273    1          2 TOTAL UBIN WORD,
      364     6274    1          2 USERS,
      365     6275    1             3 TOTAL UBIN WORD,
      366     6276    1             3 BATCH UBIN WORD,
      367     6277    1             3 GHOST UBIN WORD,
      368     6278    1             3 INT UBIN WORD,
      369     6279    1             3 TP UBIN WORD,
      370     6280    1          2 IOLOAD UBIN WORD,
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:11   
      371     6281    1          2 ETMF UBIN WORD,
      372     6282    1          2 RT90 UBIN WORD,
      373     6283    1          2 USEC_PER_PMME UBIN,
      374     6284    1          2 CALCNT UBIN WORD,
      375     6285    1          2 CALCNT_SBIN REDEF CALCNT SBIN WORD,
      376     6286    1          2 UTS UBIN WORD,
      377     6287    1          2 IOS UBIN WORD,
      378     6288    1          2 SCHEDS UBIN WORD,
      379     6289    1          2 EVENTS UBIN WORD,
      380     6290    1          2 SPECIFIC_IOS,
      381     6291    1             3 DISK UBIN,
      382     6292    1             3 TAPE UBIN,
      383     6293    1             3 OTHER UBIN,
      384     6294    1          2 AVAIL_MEM UBIN;
      385     6295
      386     6296    1   DCL 1 PS_OLD_COLLECT STATIC SYMDEF,
      387     6297    1          2 USRXEQ UBIN WORD,
      388     6298    1          2 USRSRV UBIN WORD,
      389     6299    1          2 USRSRV_SBIN REDEF USRSRV SBIN WORD,
      390     6300    1          2 MONXEQ UBIN WORD,
      391     6301    1          2 IDLWIO UBIN WORD,
      392     6302    1          2 IDLWRES UBIN WORD,
      393     6303    1          2 IDLWRESIO UBIN WORD,
      394     6304    1          2 IDLE UBIN WORD,
      395     6305    1          2 TOTAL UBIN WORD,
      396     6306    1          2 USERS,
      397     6307    1             3 TOTAL UBIN WORD,
      398     6308    1             3 BATCH UBIN WORD,
      399     6309    1             3 GHOST UBIN WORD,
      400     6310    1             3 INT UBIN WORD,
      401     6311    1             3 TP UBIN WORD,
      402     6312    1          2 IOLOAD UBIN WORD,
      403     6313    1          2 ETMF UBIN WORD,
      404     6314    1          2 RT90 UBIN WORD,
      405     6315    1          2 USEC_PER_PMME UBIN,
      406     6316    1          2 CALCNT UBIN WORD,
      407     6317    1          2 CALCNT_SBIN REDEF CALCNT SBIN WORD,
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:12   
      408     6318    1          2 UTS UBIN WORD,
      409     6319    1          2 IOS UBIN WORD,
      410     6320    1          2 SCHEDS UBIN WORD,
      411     6321    1          2 EVENTS UBIN WORD,
      412     6322    1          2 SPECIFIC_IOS,
      413     6323    1             3 DISK UBIN,
      414     6324    1             3 TAPE UBIN,
      415     6325    1             3 OTHER UBIN,
      416     6326    1          2 AVAIL_MEM UBIN;
      417     6327        /*
      418     6328              Caveat - while PS_COLLECT.UTS is the time at which the PMDAT
      419     6329              snapshot was taken (it's taken from the PMDAT buffer by a
      420     6330              lookup of the P_NOW# symbol), PS_OLD_COLLECT.UTS is *not*
      421     6331              guaranteed to be the time-stamp at the beginning of the interval.
      422     6332              Strange things are done to this value to ensure that during
      423     6333              GRAPH and REPLAY/SUMMARIZE functions the date is printed out
      424     6334              whenever it changes - don't *ever* depend on its value.
      425     6335        */
      426     6336    1   DCL PS_STATS$ PTR STATIC SYMDEF;
      427     6337    1   DCL PS_GRAPH$ (0:9) PTR STATIC SYMDEF;
      428     6338    1   DCL PS_STATS_SIZE UBIN STATIC SYMDEF;
      429     6339    1   DCL PS_STATS_HITS SBIN STATIC SYMDEF;
      430     6340    1   DCL PS_STATS_EXPRESSIONS UBIN STATIC SYMDEF;
      431     6341    1   DCL PS_GRAPHS UBIN STATIC SYMDEF;
      432     6342    1   DCL PS_PLOT_VALUES (0:0) UBIN BASED;
      433     6343    1   DCL PS_GRAPH_PEAK (0:9) SBIN STATIC SYMDEF;
      434     6344    1   DCL PS_GRAPH_POINTS (0:0) UBIN BYTE CALIGNED BASED;
      435     6345
      436     6346    1   DCL 1 PS_STATS (0:0) BASED (PS_STATS$),
      437     6347    1          2 SIGMA_X UBIN,
      438     6348    1          2 SIGMA_X_SQUARED UBIN,
      439     6349    1          2 MIN SBIN,
      440     6350    1          2 MAX SBIN,
      441     6351    1          2 MEAN SBIN,
      442     6352    1          2 STD_DEV UBIN,
      443     6353    1          2 SCALE UBIN,
      444     6354    1          2 LOW UBIN,
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:13   
      445     6355    1          2 HIGH UBIN,
      446     6356    1          2 PLOT$ PTR,
      447     6357    1          2 BUCKET$ PTR,
      448     6358    1          2 RPN$ PTR;
      449     6359
      450     6360    1   DCL SBIN_ SBIN BASED;
      451     6361    1   DCL 1 TEXTC BASED,
      452     6362    1          2 LEN UBIN BYTE UNAL,
      453     6363    1          2 TEXT CHAR (TEXTC.LEN) UNAL;
      454     6364
      455     6365    1   DCL PS_SUMMARY_LIST (0:19) UBIN WORD STATIC SYMDEF INIT (0*0);
      456     6366    1   DCL PS_SUMMARY_ITEMS UBIN WORD STATIC SYMDEF INIT (0);
      457     6367    1   DCL PS_SUMMARY_HEADER CHAR (140) STATIC SYMDEF INIT (' ');
      458     6368    1   DCL PS_SUMMARY_FORMAT CHAR (140) STATIC SYMDEF INIT (' ');
      459     6369    1   DCL PS_DIGITS CHAR(10) CONSTANT SYMDEF INIT ('0123456789');
      460     6370    1   DCL PS_SUMMARY_ONLY LOGICAL STATIC SYMDEF;
      461     6371    1   DCL PS_MODE UBIN WORD STATIC SYMDEF;
      462     6372    1   DCL PS_CMD_START UBIN WORD STATIC SYMDEF;
      463     6373    1   DCL PS_TIME_NOW UBIN WORD STATIC SYMDEF;
      464     6374    1   DCL PS_START_UTS UBIN WORD STATIC SYMDEF INIT (0);
      465     6375    1   DCL PS_END_UTS UBIN WORD STATIC SYMDEF INIT (BITBIN('777777777777'O));
      466     6376    1   DCL PS_CMD_ARS UBIN WORD STATIC SYMDEF; /* command ARS                        */
      467     6377    1   DCL HISTORY_FLAG LOGICAL AUTO;
      468     6378
      469     6379        /* Misc junk for feps */
      470     6380
      471     6381    1   DCL PS_FEPNO UBIN STATIC SYMDEF;
      472     6382    1   DCL PS_FEPING LOGICAL STATIC SYMDEF;
      473     6383    1   DCL PS_NEED_READ_HLPCG LOGICAL STATIC SYMDEF;
      474     6384    1   DCL PS_USED_FEP_SIZE UBIN WORD STATIC SYMDEF;
      475     6385    1   DCL PS_PMDAT_FOUND LOGICAL STATIC SYMDEF INIT(%NO#);
      476     6386        %KL_REQSTATS(NAME=PS_HLPCGBUF,
      477     6387         STCLASS="STATIC SYMDEF",
      478     6388         LAST=",");
      479     6681    1      2 FEPDATA (0:399) UBIN WORD INIT(0*0);
      480     6682    1   DCL PS_NUM_NODES UBIN WORD STATIC SYMDEF ALIGNED INIT(1);
      481     6683    1   DCL PS_FEP_STATUS(0:%PS_MAXFE#) STATIC SYMDEF UBIN BYTE CALIGNED INIT(%FEP_NONE#*0);
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:14   
      482     6684    1   END PS_DATA_D;

PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:15   
--  Include file information  --

   KL_MACRO_C.:E05TOU  is referenced.
   KL_AFCN_C.:E05TOU  is referenced.
   P_FEP_M.:E05TOU  is referenced.
   K_ID_E.:E05TOU  is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   PM_BUCKET_C.:E05TOU  is referenced.
   PS_SUBS_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure PS_DATA_D.

   No code generated for procedure PS_DATA_D .
   Procedure PS_DATA_D requires 4 words of local(AUTO) storage.

    No errors detected in file PS_DATA_D.:E05TSI    .

PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:16   

 Object Unit name= PS_DATA_D                                  File name= PS_DATA_D.:E05TOU
 UTS= JUL 30 '97 04:37:41.96 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none    98    142  M$LO
    2   DCB   even  none     0      0  M$DO
    3   DCB   even  none     0      0  M$SI
    4   DCB   even  none     0      0  F$LOG
    5   DCB   even  none     0      0  M$ME
    6   DCB   even  none     0      0  M$HLPCG
    7   Data  even  none  1905   3561  PS_DATA_D
    8  RtLbCm even  none    30     36  PS_FDS
    9  RtLbCm even  none    32     40  PS_SELECT_RPN
   10  RtLbCm even  none    17     21  PS_STATS_RPN
   11  RoData even  UTS    157    235  PS_DATA_D
   12  RtLbCm even  none    34     42  PS_STATS_BUCKET
   13   Proc  even  none     0      0  PS_DATA_D

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    13      0   yes            yes     ~proc       0  PS_DATA_D
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:17   

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    7      0  PS_PMDAT$                          7      1  PS_OLD_PMDAT$
    7      2  PS_LOGFILE$                        7      3  PS_OLD_LOGFILE$
    7      4  PS_MOUSE$                          7      5  PS_OLD_MOUSE$
    7      6  PS_FEP$                            7      7  PS_OLD_FEP$
    7     10  PS_PMDAT_SIZE                      7     11  PS_OLD_PMDAT_SIZE
    7     12  PS_NEEDED_PMDAT_SIZE               7     13  PS_LOGFILE_SIZE
    7     14  PS_OLD_LOGFILE_SIZE                7     15  PS_NEEDED_LOGFILE_SIZE
    7     16  PS_MOUSE_SIZE                      7     17  PS_OLD_MOUSE_SIZE
    7     20  PS_NEEDED_MOUSE_SIZE               7     21  PS_FEP_SIZE
    7     22  PS_OLD_FEP_SIZE                    7     23  PS_NEEDED_FEP_SIZE
    7     24  PS_DISPLAY_FLAGS                   7     25  PS_LOG_FLAGS
    7     26  PS_DEFAULT_DISPLAY_FLAGS           7     27  PS_DEFAULT_LOG_FLAGS
    7     30  PS_WORKING_FLAGS                   7     31  PS_FEP_DISP_FLAGS
    7    651  PS_FEP_LOG_FLAGS                   7   1471  PS_FEP_DEBUG
    7   1472  PS_PMDAT_FLAGS                     7   1473  PS_HISTOGRAM_FLAGS
    7   1474  PS_MOUSEING                        7   1475  PS_LOGFILE_KEY
    7   1504  PS_TAG                             7   1506  PS_BAILOUT
    7   1510  PS_ERR                             7   1511  PS_STEPCC
    7   1512  PS_INPUTTING                       7   1513  PS_BUFFER
    7   1556  PS_COMMAND                         7   1656  PS_SCRATCH
    7   2022  PS_INTERVAL                        7   2023  PS_DEFAULT_INTERVAL
    7   2024  PS_PREVIOUS_TIME                   7   2025  PS_ELAPSED_TIME
    7   2026  PS_UPTIME                          7   2027  PS_STARTUP
    7   2030  PS_PUNT_COUNT                      7   2031  PS_TODAYS_DATE
   11      0  V_TABLE                            7   2034  PS_FILE_PARAMS
    7   2056  PS_FID_PARAMS                     11    210  PS_DEFAULT_FILE_PARAMS
    7   2100  PS_GHOST_FLAGS                     7   2101  PS_PTRS$
    7   2245  PS_OLD_PTRS$                       7   2411  PS_COLLECT
    7   2443  PS_OLD_COLLECT                     7   2475  PS_STATS$
    7   2476  PS_GRAPH$                          7   2510  PS_STATS_SIZE
    7   2511  PS_STATS_HITS                      7   2512  PS_STATS_EXPRESSIONS
    7   2513  PS_GRAPHS                          7   2514  PS_GRAPH_PEAK
    7   2526  PS_SUMMARY_LIST                    7   2552  PS_SUMMARY_ITEMS
    7   2553  PS_SUMMARY_HEADER                  7   2616  PS_SUMMARY_FORMAT
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:18   
   11    232  PS_DIGITS                          7   2661  PS_SUMMARY_ONLY
    7   2662  PS_MODE                            7   2663  PS_CMD_START
    7   2664  PS_TIME_NOW                        7   2665  PS_START_UTS
    7   2666  PS_END_UTS                         7   2667  PS_CMD_ARS
    7   2670  PS_FEPNO                           7   2671  PS_FEPING
    7   2672  PS_NEED_READ_HLPCG                 7   2673  PS_USED_FEP_SIZE
    7   2674  PS_PMDAT_FOUND                     7   2675  PS_HLPCGBUF
    7   3527  PS_NUM_NODES                       7   3530  PS_FEP_STATUS

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  M$LO                                  M$DO
     M$SI                                  F$LOG                                 M$ME
     M$HLPCG

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:19   

        1        1        /*M*  PS_DATA_D   Data definitions for STATS static stuff                     */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X*     PLM=3,SQB=Y,AND=Y,ENI=0,SDI=3,MCL=10,CSI=0,ECI=0,IND=0,IAD=3,MOC=Y   */
        8        8        PS_DATA_D: PROC;
        9        9        /* ! ! */                          /* Don't emit following %INCLUDE to _R     */
       10       10        %INCLUDE CP_6_SUBS;
       11      550        %INCLUDE CP_6;
       12      631        %M$DCB (DCBN=M$LO,
       13      632         ASN=DEVICE,
       14      633         RES='LO  ',
       15      634         FUN=CREATE,
       16      635         EXIST=OLDFILE,
       17      636         CTG=YES ) ;
       18      710        /* ! R !
       19      711        DCL M$LO DCB;
       20      712        */
       21      713    1   DCL M$DO DCB;
       22      714    1   DCL M$SI DCB;
       23      715    1   DCL F$LOG DCB;
       24      716    1   DCL M$ME DCB;
       25      717    1   DCL M$HLPCG DCB;
       26      718
       27      719        /* STATS global types */
       28      720        %INCLUDE PS_SUBS_C;
       29      914        %INCLUDE PM_BUCKET_C;
       30      999
       31     1000        /* Formated output service types */
       32     1001        %INCLUDE XU_FORMAT_C;
       33     1163
       34     1164        /* FEP entity ID's */
       35     1165        %INCLUDE K_ID_E;
       36     1215        %K#ENTID_E;
       37     1234        %INCLUDE P_FEP_M;
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:20   
       38     1672
       39     1673        /* Function codes from SLUG, including the one for "request stats." */
       40     1674        %INCLUDE KL_AFCN_C;
       41     1775
       42     1776        /* Structure for "Stats Request" messages.  */
       43     1777        %INCLUDE KL_MACRO_C;
       44     5129
       45     5130        /* Pointers to and sizes of our dynamic data segments. */
       46     5131
       47     5132    1   DCL PS_PMDAT$ PTR STATIC SYMDEF;
       48     5133    1   DCL PS_OLD_PMDAT$ PTR STATIC SYMDEF;
       49     5134    1   DCL PS_LOGFILE$ PTR STATIC SYMDEF;
       50     5135    1   DCL PS_OLD_LOGFILE$ PTR STATIC SYMDEF;
       51     5136    1   DCL PS_MOUSE$ PTR STATIC SYMDEF;
       52     5137    1   DCL PS_OLD_MOUSE$ PTR STATIC SYMDEF;
       53     5138    1   DCL PS_FEP$ PTR STATIC SYMDEF INIT(ADDR(NIL));
       54     5139    1   DCL PS_OLD_FEP$ PTR STATIC SYMDEF INIT(ADDR(NIL));
       55     5140
       56     5141    1   DCL PS_PMDAT_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       57     5142    1   DCL PS_OLD_PMDAT_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       58     5143    1   DCL PS_NEEDED_PMDAT_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       59     5144    1   DCL PS_LOGFILE_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       60     5145    1   DCL PS_OLD_LOGFILE_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       61     5146    1   DCL PS_NEEDED_LOGFILE_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       62     5147    1   DCL PS_MOUSE_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       63     5148    1   DCL PS_OLD_MOUSE_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       64     5149    1   DCL PS_NEEDED_MOUSE_SIZE SBIN WORD STATIC SYMDEF INIT (0);
       65     5150    1   DCL PS_FEP_SIZE UBIN STATIC SYMDEF INIT(0);
       66     5151    1   DCL PS_OLD_FEP_SIZE UBIN STATIC SYMDEF INIT(0);
       67     5152    1   DCL PS_NEEDED_FEP_SIZE UBIN STATIC SYMDEF INIT(0);
       68     5153
       69     5154        /* Flags controling what to display and/or log */
       70     5155
       71     5156    1   DCL 1 PS_DISPLAY_FLAGS STATIC SYMDEF ALIGNED,
       72     5157    1          2 CPU LOGICAL INIT (%NO#),
       73     5158    1          2 RESOURCES LOGICAL INIT (%NO#),
       74     5159    1          2 DEVICES LOGICAL INIT (%NO#),
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:21   
       75     5160    1          2 CHANNELS LOGICAL INIT (%NO#),
       76     5161    1          2 SCPU LOGICAL INIT (%NO#),
       77     5162    1          2 PROCS LOGICAL INIT (%NO#),
       78     5163    1          2 SUMMARY LOGICAL INIT (%NO#),
       79     5164    1          2 HISTOGRAMS LOGICAL INIT (%NO#),
       80     5165    1          2 FAULT LOGICAL INIT (%NO#),
       81     5166    1          2 FEP LOGICAL INIT (%NO#),
       82     5167    1          2 MOUSE LOGICAL INIT (%NO#);
       83     5168
       84     5169    1   DCL 1 PS_LOG_FLAGS STATIC SYMDEF ALIGNED,
       85     5170    1          2 CPU LOGICAL INIT (%NO#),
       86     5171    1          2 RESOURCES LOGICAL INIT (%NO#),
       87     5172    1          2 DEVICES LOGICAL INIT (%NO#),
       88     5173    1          2 CHANNELS LOGICAL INIT (%NO#),
       89     5174    1          2 SCPU LOGICAL INIT (%NO#),
       90     5175    1          2 PROCS LOGICAL INIT (%NO#),
       91     5176    1          2 SUMMARY LOGICAL INIT (%NO#),
       92     5177    1          2 HISTOGRAMS LOGICAL INIT (%NO#),
       93     5178    1          2 FAULT LOGICAL INIT (%NO#),
       94     5179    1          2 FEP LOGICAL INIT (%NO#),
       95     5180    1          2 MOUSE LOGICAL INIT (%NO#);
       96     5181
       97     5182    1   DCL 1 PS_DEFAULT_DISPLAY_FLAGS STATIC SYMDEF ALIGNED,
       98     5183    1          2 CPU LOGICAL INIT (%YES#),
       99     5184    1          2 RESOURCES LOGICAL INIT (%NO#),
      100     5185    1          2 DEVICES LOGICAL INIT (%NO#),
      101     5186    1          2 CHANNELS LOGICAL INIT (%NO#),
      102     5187    1          2 SCPU LOGICAL INIT (%NO#),
      103     5188    1          2 PROCS LOGICAL INIT (%NO#),
      104     5189    1          2 SUMMARY LOGICAL INIT (%NO#),
      105     5190    1          2 HISTOGRAMS LOGICAL INIT (%NO#),
      106     5191    1          2 FAULT LOGICAL INIT (%NO#),
      107     5192    1          2 FEP LOGICAL INIT (%NO#),
      108     5193    1          2 MOUSE LOGICAL INIT (%NO#);
      109     5194
      110     5195    1   DCL 1 PS_DEFAULT_LOG_FLAGS STATIC SYMDEF ALIGNED,
      111     5196    1          2 CPU LOGICAL INIT (%NO#),
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:22   
      112     5197    1          2 RESOURCES LOGICAL INIT (%NO#),
      113     5198    1          2 DEVICES LOGICAL INIT (%NO#),
      114     5199    1          2 CHANNELS LOGICAL INIT (%NO#),
      115     5200    1          2 SCPU LOGICAL INIT (%NO#),
      116     5201    1          2 PROCS LOGICAL INIT (%NO#),
      117     5202    1          2 SUMMARY LOGICAL INIT (%NO#),
      118     5203    1          2 HISTOGRAMS LOGICAL INIT (%NO#),
      119     5204    1          2 FAULT LOGICAL INIT (%NO#),
      120     5205    1          2 FEP LOGICAL INIT (%NO#),
      121     5206    1          2 MOUSE LOGICAL INIT (%NO#);
      122     5207
      123     5208    1   DCL 1 PS_WORKING_FLAGS STATIC SYMDEF ALIGNED,
      124     5209    1          2 CPU LOGICAL INIT (%NO#),
      125     5210    1          2 RESOURCES LOGICAL INIT (%NO#),
      126     5211    1          2 DEVICES LOGICAL INIT (%NO#),
      127     5212    1          2 CHANNELS LOGICAL INIT (%NO#),
      128     5213    1          2 SCPU LOGICAL INIT (%NO#),
      129     5214    1          2 PROCS LOGICAL INIT (%NO#),
      130     5215    1          2 SUMMARY LOGICAL INIT (%NO#),
      131     5216    1          2 HISTOGRAMS LOGICAL INIT (%NO#),
      132     5217    1          2 FAULT LOGICAL INIT (%NO#),
      133     5218    1          2 FEP LOGICAL INIT (%NO#),
      134     5219    1          2 MOUSE LOGICAL INIT (%NO#);
      135     5220
      136     5221    1   DCL 1 PS_BASED_FLAGS BASED ALIGNED,
      137     5222    1          2 CPU LOGICAL,
      138     5223    1          2 RESOURCES LOGICAL,
      139     5224    1          2 DEVICES LOGICAL,
      140     5225    1          2 CHANNELS LOGICAL,
      141     5226    1          2 SCPU LOGICAL,
      142     5227    1          2 PROCS LOGICAL,
      143     5228    1          2 SUMMARY LOGICAL,
      144     5229    1          2 HISTOGRAMS LOGICAL,
      145     5230    1          2 FAULT LOGICAL,
      146     5231    1          2 FEP LOGICAL,
      147     5232    1          2 MOUSE LOGICAL;
      148     5233
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:23   
      149     5234                                      /* PS_FEP_..._FLAGS is indexed by node/fep number.
      150     5235                                         PS_FEP_..._FLAGS(0) set when all feps are set
      151     5236                                         thus it indicates what "most" of the flags
      152     5237                                         are for status display.                      */
      153     5238
      154     5239    1   DCL 1 PS_FEP_DISP_FLAGS(0:%PS_MAXFE#) STATIC SYMDEF ALIGNED,
      155     5240        %PS_FEPMASK(NAME=DISP,LVL=2,STCLASS="STATIC SYMDEF",LAST=",");
      156     5306        %PS_FEPMASK(NAME=SLCT,LVL=2,STCLASS="STATIC SYMDEF",LAST=",");
      157     5372    1          2 HANDLER CHAR(8) CALIGNED INIT(' '*0) ;
      158     5373
      159     5374    1   DCL 1 PS_FEP_LOG_FLAGS(0:%PS_MAXFE#) STATIC SYMDEF ALIGNED,
      160     5375        %PS_FEPMASK(NAME=DISP,LVL=2,STCLASS="STATIC SYMDEF",LAST=",");
      161     5441        %PS_FEPMASK(NAME=SLCT,LVL=2,STCLASS="STATIC SYMDEF",LAST=",");
      162     5507    1          2 HANDLER CHAR(8) CALIGNED INIT(' '*0) ;
      163     5508
      164     5509    1   DCL 1 PS_FEP_BASED_FLAGS(0:%PS_MAXFE#) BASED ALIGNED,
      165     5510        %PS_FEPMASK(NAME=DISP,LVL=2,LAST=",");
      166     5576        %PS_FEPMASK(NAME=SLCT,LVL=2,LAST=",");
      167     5642    1          2 HANDLER CHAR(8) CALIGNED ;
      168     5643
      169     5644    1   DCL PS_FEP_DEBUG BIT(1) ALIGNED STATIC SYMDEF INIT('0'B);
      170     5645
      171     5646    1   DCL 1 PS_PMDAT_FLAGS STATIC SYMDEF,
      172     5647    1          2 DISPLAY LOGICAL,
      173     5648    1          2 LOG LOGICAL;
      174     5649
      175     5650    1   DCL 1 PS_HISTOGRAM_FLAGS STATIC SYMDEF,
      176     5651    1          2 RESPONSE,
      177     5652    1             3 SNAP LOGICAL INIT (%YES#),
      178     5653    1             3 ALL LOGICAL INIT (%YES#),
      179     5654    1          2 USER_SIZE,
      180     5655    1             3 SNAP LOGICAL INIT (%YES#),
      181     5656    1             3 ALL LOGICAL INIT (%YES#),
      182     5657    1          2 PMME_TIMES,
      183     5658    1             3 SNAP LOGICAL INIT (%YES#),
      184     5659    1             3 ALL LOGICAL INIT (%YES#),
      185     5660    1          2 INTERACTION_TIME,
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:24   
      186     5661    1             3 SNAP LOGICAL INIT (%YES#),
      187     5662    1             3 ALL LOGICAL INIT (%YES#);
      188     5663
      189     5664    1   DCL PS_MOUSEING LOGICAL STATIC SYMDEF INIT (%NO#);
      190     5665
      191     5666    1   DCL 1 BLOCK BASED,
      192     5667    1          2 IDENT SBIN,
      193     5668    1          2 ENTRIES SBIN HALF UNAL,
      194     5669    1          2 WORDS SBIN HALF UNAL,
      195     5670    1          2 DATA (0:0) SBIN;
      196     5671
      197     5672    1   DCL 1 PS_LOGFILE_KEY STATIC SYMDEF,
      198     5673    1          2 COUNT UBIN BYTE UNAL INIT (5),
      199     5674    1          2 UTS UBIN WORD UNAL,
      200     5675    1          2 TAG CHAR (1),
      201     5676    1          2 * CHAR (22);
      202     5677    1   DCL PS_TAG CHAR(1) STATIC SYMDEF;
      203     5678
      204     5679    1   DCL PS_BAILOUT REMEMBER STATIC SYMDEF DALIGNED;
      205     5680
      206     5681    1   DCL 1 PS_ERR STATIC SYMDEF ALIGNED,
      207     5682    1          2 FCG BIT(6) UNAL INIT ('0'B),
      208     5683    1          2 MID BIT(12) UNAL INIT ('0'B),
      209     5684    1          2 MON LOGICAL INIT (%NO#),
      210     5685    1          2 CODE UBIN(14) UNAL INIT (0),
      211     5686    1          2 SEV UBIN(3) UNAL INIT (0);
      212     5687    1   DCL 1 PS_STEPCC UBIN STATIC SYMDEF INIT(0) ;
      213     5688    1   DCL PS_INPUTTING LOGICAL STATIC SYMDEF;
      214     5689    1   DCL PS_BUFFER CHAR (140) STATIC SYMDEF;
      215     5690    1   DCL PS_COMMAND CHAR (255) STATIC SYMDEF;
      216     5691    1   DCL PS_SCRATCH (0:99) BIT (36) ALIGNED STATIC SYMDEF;
      217     5692    1   DCL PS_INTERVAL UBIN STATIC SYMDEF;
      218     5693    1   DCL PS_DEFAULT_INTERVAL UBIN STATIC SYMDEF INIT (5);
      219     5694    1   DCL PS_PREVIOUS_TIME UBIN STATIC SYMDEF;
      220     5695    1   DCL PS_ELAPSED_TIME SBIN STATIC SYMDEF;
      221     5696    1   DCL PS_UPTIME SBIN STATIC SYMDEF;
      222     5697    1   DCL PS_STARTUP UBIN STATIC SYMDEF;
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:25   
      223     5698    1   DCL PS_PUNT_COUNT UBIN STATIC SYMDEF;
      224     5699    1   DCL 1 PS_TODAYS_DATE CHAR(10) STATIC SYMDEF ;
      225     5700        %F_FDS (NAME=PS_FDS,
      226     5701         STCLASS=EXTROOT,
      227     5702         DCB=M$LO,
      228     5703         BUF=PS_BUFFER);
      229     5816        %DEF_RPN (NAME=PS_SELECT_RPN, SIZE=30, STCLASS="EXTROOT");
      230     5827        %DEF_RPN (NAME=PS_STATS_RPN, SIZE=15, STCLASS="EXTROOT");
      231     5838        /* ! ! */                          /* Don't emit DEF_SYMBOL calls to _R file  */
      232     5839
      233     5840    1   DCL 1 V_TABLE CONSTANT SYMDEF,
      234     5841        %DEF_SYMBOL (TITLE='ETMF', VAR=PS_COLLECT.ETMF,
      235     5842         SCALE=LINEAR, LOW=1, HIGH=15);
      236     5854        %DEF_SYMBOL (TITLE='90% resp', VAR=PS_COLLECT.RT90,
      237     5855         SCALE=LOG, LOW=1, HIGH=2000);
      238     5867        %DEF_SYMBOL (TITLE='I/O load', VAR=PS_COLLECT.IOLOAD,
      239     5868         SCALE=LINEAR, LOW=0, HIGH=100);
      240     5880        %DEF_SYMBOL (TITLE='Users', VAR=PS_COLLECT.USERS.TOTAL,
      241     5881         SCALE=LINEAR, LOW=0, HIGH=100);
      242     5893        %DEF_SYMBOL (TITLE='Batch', VAR=PS_COLLECT.USERS.BATCH,
      243     5894         SCALE=LINEAR, LOW=0, HIGH=14);
      244     5906        %DEF_SYMBOL (TITLE='Online', VAR=PS_COLLECT.USERS.INT,
      245     5907         SCALE=LINEAR, LOW=0, HIGH=60);
      246     5919        %DEF_SYMBOL (TITLE='Ghost', VAR=PS_COLLECT.USERS.GHOST,
      247     5920         SCALE=LINEAR, LOW=0, HIGH=14);
      248     5932        %DEF_SYMBOL (TITLE='TP', VAR=PS_COLLECT.USERS.TP,
      249     5933         SCALE=LINEAR, LOW=0, HIGH=50);
      250     5945        %DEF_SYMBOL (TITLE='% exec', VAR=PS_COLLECT.USRXEQ, MODE=PERCENT,
      251     5946         SCALE=LINEAR, LOW=0, HIGH=100);
      252     5958        %DEF_SYMBOL (TITLE='% serv', VAR=PS_COLLECT.USRSRV, MODE=PERCENT,
      253     5959         SCALE=LINEAR, LOW=0, HIGH=100);
      254     5971        %DEF_SYMBOL (TITLE='% mon', VAR=PS_COLLECT.MONXEQ, MODE=PERCENT,
      255     5972         SCALE=LINEAR, LOW=0, HIGH=100);
      256     5984        %DEF_SYMBOL (TITLE='% idle', VAR=PS_COLLECT.IDLE, MODE=PERCENT,
      257     5985         SCALE=LINEAR, LOW=0, HIGH=100);
      258     5997        %DEF_SYMBOL (TITLE='% I/O', VAR=PS_COLLECT.IDLWIO, MODE=PERCENT,
      259     5998         SCALE=LINEAR, LOW=0, HIGH=100);
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:26   
      260     6010        %DEF_SYMBOL (TITLE='% Res', VAR=PS_COLLECT.IDLWRES, MODE=PERCENT,
      261     6011         SCALE=LINEAR, LOW=0, HIGH=100);
      262     6023        %DEF_SYMBOL (TITLE='% IO&res', VAR=PS_COLLECT.IDLWRESIO, MODE=PERCENT,
      263     6024         SCALE=LINEAR, LOW=0, HIGH=100);
      264     6036        %DEF_SYMBOL (TITLE='Scheds', VAR=PS_COLLECT.SCHEDS, MODE=RATE,
      265     6037         SCALE=LINEAR, LOW=0, HIGH=2500);
      266     6049        %DEF_SYMBOL (TITLE='Ints', INDEX=P_NINTS#, MODE=RATE,
      267     6050         SCALE=LINEAR, LOW=0, HIGH=200);
      268     6062        %DEF_SYMBOL (TITLE='Events', VAR=PS_COLLECT.EVENTS, MODE=RATE,
      269     6063         SCALE=LINEAR, LOW=0, HIGH=2500);
      270     6075        %DEF_SYMBOL (TITLE='PMMEs', VAR=PS_COLLECT.CALCNT, MODE=RATE,
      271     6076         SCALE=LINEAR, LOW=0, HIGH=20000);
      272     6088        %DEF_SYMBOL (TITLE='CPUs', INDEX=P_NSCPU#, MODE=ABS,
      273     6089         SCALE=LINEAR, LOW=1, HIGH=4);
      274     6101        %DEF_SYMBOL (TITLE='I/Os', VAR=PS_COLLECT.IOS, MODE=RATE,
      275     6102         SCALE=LINEAR, LOW=0, HIGH=3000);
      276     6114        %DEF_SYMBOL (TITLE='Disk IOs', VAR=PS_COLLECT.SPECIFIC_IOS.DISK, MODE=RATE,
      277     6115         SCALE=LINEAR, LOW=0, HIGH=3000);
      278     6127        %DEF_SYMBOL (TITLE='Tape IOs', VAR=PS_COLLECT.SPECIFIC_IOS.TAPE, MODE=RATE,
      279     6128         SCALE=LINEAR, LOW=0, HIGH=1500);
      280     6140        %DEF_SYMBOL (TITLE='Misc IOs', VAR=PS_COLLECT.SPECIFIC_IOS.OTHER, MODE=RATE,
      281     6141         SCALE=LINEAR, LOW=0, HIGH=1000);
      282     6153        %DEF_SYMBOL (TITLE='Free Pgs', VAR=PS_COLLECT.AVAIL_MEM,
      283     6154         SCALE=LINEAR, LOW=0, HIGH=4000);
      284     6166        %DEF_SYMBOL (TITLE='IOC Trnc', INDEX=MM_IOTRNC#,
      285     6167         MODE=RATE, SCALE=LINEAR, LOW=0, HIGH=100);
      286     6179        %DEF_SYMBOL (TITLE='Pro Trnc', INDEX=MM_SPTRNC#,
      287     6180         MODE=RATE, SCALE=LINEAR, LOW=0, HIGH=100,
      288     6181         LAST=YES);
      289     6193        /* ! R !
      290     6194
      291     6195        DCL 1 V_TABLE (0:0) SYMREF ALIGNED,
      292     6196              2 VAR$ PTR,
      293     6197              2 SCALE UBIN (2) UNAL,
      294     6198              2 LOW UBIN (17) UNAL,
      295     6199              2 HIGH UBIN (17) UNAL,
      296     6200              2 INDX UBIN BYTE UNAL,
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:27   
      297     6201              2 OFFSET UBIN BYTE UNAL,
      298     6202              2 MODE UBIN BYTE UNAL,
      299     6203              2 TITLE,
      300     6204                3 LEN UBIN BYTE UNAL,
      301     6205                3 TEXT CHAR(8);
      302     6206        */
      303     6207        %BUCKET (NAME=PS_STATS_BUCKET,
      304     6208         STCLASS="EXTROOT",
      305     6209         #_OF_BUCKETS=15);
      306     6216
      307     6217    1   DCL 1 PS_FILE_PARAMS STATIC SYMDEF,
      308     6218    1          2 NAME@,
      309     6219    1             3 COUNT UBIN BYTE UNAL,
      310     6220    1             3 TEXT CHAR(31),
      311     6221    1          2 ACCT@ CHAR (8),
      312     6222    1          2 PASS@ CHAR (8),
      313     6223    1          2 SN@ DALIGNED,
      314     6224    1             3 COUNT UBIN WORD,
      315     6225    1             3 TEXT CHAR (6) UNAL,
      316     6226    1          2 ASN@ UBIN BYTE UNAL,
      317     6227    1          2 RES@ CHAR (4);
      318     6228
      319     6229    1   DCL 1 PS_FID_PARAMS STATIC SYMDEF,
      320     6230    1          2 NAME@,
      321     6231    1             3 COUNT UBIN BYTE UNAL,
      322     6232    1             3 TEXT CHAR(31),
      323     6233    1          2 ACCT@ CHAR (8),
      324     6234    1          2 PASS@ CHAR (8),
      325     6235    1          2 SN@ DALIGNED,
      326     6236    1             3 COUNT UBIN WORD,
      327     6237    1             3 TEXT CHAR (6) UNAL,
      328     6238    1          2 ASN@ UBIN BYTE UNAL,
      329     6239    1          2 RES@ CHAR (4);
      330     6240
      331     6241    1   DCL 1 PS_DEFAULT_FILE_PARAMS CONSTANT SYMDEF,
      332     6242    1          2 NAME@,
      333     6243    1             3 COUNT UBIN BYTE UNAL INIT (LENGTHC(':SNAPS')),
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:28   
      334     6244    1             3 TEXT CHAR(31) INIT (':SNAPS'),
      335     6245    1          2 ACCT@ CHAR (8) INIT ('       '),
      336     6246    1          2 PASS@ CHAR (8) INIT ('       '),
      337     6247    1          2 SN@ DALIGNED,
      338     6248    1             3 COUNT UBIN WORD INIT (1),
      339     6249    1             3 TEXT CHAR (6) UNAL INIT ('      '),
      340     6250    1          2 ASN@ UBIN BYTE UNAL INIT (%FILE#),
      341     6251    1          2 RES@ CHAR (4) INIT (BINASC(0));
      342     6252
      343     6253    1   DCL 1 PS_GHOST_FLAGS STATIC SYMDEF,
      344     6254    1          2 OPENED LOGICAL INIT (%NO#),
      345     6255    1          2 CLOSED LOGICAL INIT (%NO#);
      346     6256        /*
      347     6257              Caveat - if the M$GETPM table ever grows to more than 100
      348     6258              entries, remember to expand the upper subscript limit of the
      349     6259              following two pointer arrays, lest all hell break loose.
      350     6260        */
      351     6261    1   DCL PS_PTRS$ (0:99) PTR STATIC SYMDEF;
      352     6262    1   DCL PS_OLD_PTRS$ (0:99) PTR STATIC SYMDEF;
      353     6263
      354     6264    1   DCL 1 PS_COLLECT STATIC SYMDEF,
      355     6265    1          2 USRXEQ UBIN WORD,
      356     6266    1          2 USRSRV UBIN WORD,
      357     6267    1          2 USRSRV_SBIN REDEF USRSRV SBIN WORD,
      358     6268    1          2 MONXEQ UBIN WORD,
      359     6269    1          2 IDLWIO UBIN WORD,
      360     6270    1          2 IDLWRES UBIN WORD,
      361     6271    1          2 IDLWRESIO UBIN WORD,
      362     6272    1          2 IDLE UBIN WORD,
      363     6273    1          2 TOTAL UBIN WORD,
      364     6274    1          2 USERS,
      365     6275    1             3 TOTAL UBIN WORD,
      366     6276    1             3 BATCH UBIN WORD,
      367     6277    1             3 GHOST UBIN WORD,
      368     6278    1             3 INT UBIN WORD,
      369     6279    1             3 TP UBIN WORD,
      370     6280    1          2 IOLOAD UBIN WORD,
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:29   
      371     6281    1          2 ETMF UBIN WORD,
      372     6282    1          2 RT90 UBIN WORD,
      373     6283    1          2 USEC_PER_PMME UBIN,
      374     6284    1          2 CALCNT UBIN WORD,
      375     6285    1          2 CALCNT_SBIN REDEF CALCNT SBIN WORD,
      376     6286    1          2 UTS UBIN WORD,
      377     6287    1          2 IOS UBIN WORD,
      378     6288    1          2 SCHEDS UBIN WORD,
      379     6289    1          2 EVENTS UBIN WORD,
      380     6290    1          2 SPECIFIC_IOS,
      381     6291    1             3 DISK UBIN,
      382     6292    1             3 TAPE UBIN,
      383     6293    1             3 OTHER UBIN,
      384     6294    1          2 AVAIL_MEM UBIN;
      385     6295
      386     6296    1   DCL 1 PS_OLD_COLLECT STATIC SYMDEF,
      387     6297    1          2 USRXEQ UBIN WORD,
      388     6298    1          2 USRSRV UBIN WORD,
      389     6299    1          2 USRSRV_SBIN REDEF USRSRV SBIN WORD,
      390     6300    1          2 MONXEQ UBIN WORD,
      391     6301    1          2 IDLWIO UBIN WORD,
      392     6302    1          2 IDLWRES UBIN WORD,
      393     6303    1          2 IDLWRESIO UBIN WORD,
      394     6304    1          2 IDLE UBIN WORD,
      395     6305    1          2 TOTAL UBIN WORD,
      396     6306    1          2 USERS,
      397     6307    1             3 TOTAL UBIN WORD,
      398     6308    1             3 BATCH UBIN WORD,
      399     6309    1             3 GHOST UBIN WORD,
      400     6310    1             3 INT UBIN WORD,
      401     6311    1             3 TP UBIN WORD,
      402     6312    1          2 IOLOAD UBIN WORD,
      403     6313    1          2 ETMF UBIN WORD,
      404     6314    1          2 RT90 UBIN WORD,
      405     6315    1          2 USEC_PER_PMME UBIN,
      406     6316    1          2 CALCNT UBIN WORD,
      407     6317    1          2 CALCNT_SBIN REDEF CALCNT SBIN WORD,
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:30   
      408     6318    1          2 UTS UBIN WORD,
      409     6319    1          2 IOS UBIN WORD,
      410     6320    1          2 SCHEDS UBIN WORD,
      411     6321    1          2 EVENTS UBIN WORD,
      412     6322    1          2 SPECIFIC_IOS,
      413     6323    1             3 DISK UBIN,
      414     6324    1             3 TAPE UBIN,
      415     6325    1             3 OTHER UBIN,
      416     6326    1          2 AVAIL_MEM UBIN;
      417     6327        /*
      418     6328              Caveat - while PS_COLLECT.UTS is the time at which the PMDAT
      419     6329              snapshot was taken (it's taken from the PMDAT buffer by a
      420     6330              lookup of the P_NOW# symbol), PS_OLD_COLLECT.UTS is *not*
      421     6331              guaranteed to be the time-stamp at the beginning of the interval.
      422     6332              Strange things are done to this value to ensure that during
      423     6333              GRAPH and REPLAY/SUMMARIZE functions the date is printed out
      424     6334              whenever it changes - don't *ever* depend on its value.
      425     6335        */
      426     6336    1   DCL PS_STATS$ PTR STATIC SYMDEF;
      427     6337    1   DCL PS_GRAPH$ (0:9) PTR STATIC SYMDEF;
      428     6338    1   DCL PS_STATS_SIZE UBIN STATIC SYMDEF;
      429     6339    1   DCL PS_STATS_HITS SBIN STATIC SYMDEF;
      430     6340    1   DCL PS_STATS_EXPRESSIONS UBIN STATIC SYMDEF;
      431     6341    1   DCL PS_GRAPHS UBIN STATIC SYMDEF;
      432     6342    1   DCL PS_PLOT_VALUES (0:0) UBIN BASED;
      433     6343    1   DCL PS_GRAPH_PEAK (0:9) SBIN STATIC SYMDEF;
      434     6344    1   DCL PS_GRAPH_POINTS (0:0) UBIN BYTE CALIGNED BASED;
      435     6345
      436     6346    1   DCL 1 PS_STATS (0:0) BASED (PS_STATS$),
      437     6347    1          2 SIGMA_X UBIN,
      438     6348    1          2 SIGMA_X_SQUARED UBIN,
      439     6349    1          2 MIN SBIN,
      440     6350    1          2 MAX SBIN,
      441     6351    1          2 MEAN SBIN,
      442     6352    1          2 STD_DEV UBIN,
      443     6353    1          2 SCALE UBIN,
      444     6354    1          2 LOW UBIN,
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:31   
      445     6355    1          2 HIGH UBIN,
      446     6356    1          2 PLOT$ PTR,
      447     6357    1          2 BUCKET$ PTR,
      448     6358    1          2 RPN$ PTR;
      449     6359
      450     6360    1   DCL SBIN_ SBIN BASED;
      451     6361    1   DCL 1 TEXTC BASED,
      452     6362    1          2 LEN UBIN BYTE UNAL,
      453     6363    1          2 TEXT CHAR (TEXTC.LEN) UNAL;
      454     6364
      455     6365    1   DCL PS_SUMMARY_LIST (0:19) UBIN WORD STATIC SYMDEF INIT (0*0);
      456     6366    1   DCL PS_SUMMARY_ITEMS UBIN WORD STATIC SYMDEF INIT (0);
      457     6367    1   DCL PS_SUMMARY_HEADER CHAR (140) STATIC SYMDEF INIT (' ');
      458     6368    1   DCL PS_SUMMARY_FORMAT CHAR (140) STATIC SYMDEF INIT (' ');
      459     6369    1   DCL PS_DIGITS CHAR(10) CONSTANT SYMDEF INIT ('0123456789');
      460     6370    1   DCL PS_SUMMARY_ONLY LOGICAL STATIC SYMDEF;
      461     6371    1   DCL PS_MODE UBIN WORD STATIC SYMDEF;
      462     6372    1   DCL PS_CMD_START UBIN WORD STATIC SYMDEF;
      463     6373    1   DCL PS_TIME_NOW UBIN WORD STATIC SYMDEF;
      464     6374    1   DCL PS_START_UTS UBIN WORD STATIC SYMDEF INIT (0);
      465     6375    1   DCL PS_END_UTS UBIN WORD STATIC SYMDEF INIT (BITBIN('777777777777'O));
      466     6376    1   DCL PS_CMD_ARS UBIN WORD STATIC SYMDEF; /* command ARS                        */
      467     6377    1   DCL HISTORY_FLAG LOGICAL AUTO;
      468     6378
      469     6379        /* Misc junk for feps */
      470     6380
      471     6381    1   DCL PS_FEPNO UBIN STATIC SYMDEF;
      472     6382    1   DCL PS_FEPING LOGICAL STATIC SYMDEF;
      473     6383    1   DCL PS_NEED_READ_HLPCG LOGICAL STATIC SYMDEF;
      474     6384    1   DCL PS_USED_FEP_SIZE UBIN WORD STATIC SYMDEF;
      475     6385    1   DCL PS_PMDAT_FOUND LOGICAL STATIC SYMDEF INIT(%NO#);
      476     6386        %KL_REQSTATS(NAME=PS_HLPCGBUF,
      477     6387         STCLASS="STATIC SYMDEF",
      478     6388         LAST=",");
      479     6681    1      2 FEPDATA (0:399) UBIN WORD INIT(0*0);
      480     6682    1   DCL PS_NUM_NODES UBIN WORD STATIC SYMDEF ALIGNED INIT(1);
      481     6683    1  DCL PS_FEP_STATUS(0:%PS_MAXFE#) STATIC SYMDEF UBIN BYTE CALIGNED INIT(%FEP_NONE#*0);
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:32   
      482     6684    1   END PS_DATA_D;

PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:33   
--  Include file information  --

   KL_MACRO_C.:E05TOU  is referenced.
   KL_AFCN_C.:E05TOU  is referenced.
   P_FEP_M.:E05TOU  is referenced.
   K_ID_E.:E05TOU  is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   PM_BUCKET_C.:E05TOU  is referenced.
   PS_SUBS_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure PS_DATA_D.
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:34   

 **** Variables and constants ****

  ****  Section 007  Data  PS_DATA_D

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

  1513-0-0/c CHAR(140)   r     1 PS_BUFFER               2411-0-0/w STRC(936)   r     1 PS_COLLECT
  2475-0-0/w PTR         r     1 PS_STATS$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d ASTR(3528)  r     1 M$LO                       0-0-0/c ASTR(9)     r     1 TEXTC


   No code generated for procedure PS_DATA_D .
   Procedure PS_DATA_D requires 4 words of local(AUTO) storage.

    No errors detected in file PS_DATA_D.:E05TSI    .
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:35   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:36   
          MINI XREF LISTING

M$LO.ACTPOS
       678**DCL       678--REDEF
M$LO.ARS#
       637**DCL       637--REDEF
M$LO.ATTR#
       667**DCL       667--REDEF     669--REDEF
M$LO.BORROW
       689**DCL       689--REDEF     689--REDEF     689--REDEF
M$LO.DCBNAME.L
       708**DCL       708--IMP-SIZ
M$LO.EOMCHAR#
       644**DCL       645--REDEF
M$LO.FLDID
       681**DCL       682--REDEF
M$LO.FORM$
       673**DCL       673--REDEF
M$LO.FSECT
       696**DCL       696--REDEF
M$LO.FSN#
       663**DCL       663--REDEF     663--REDEF     664--REDEF
M$LO.HEADER$
       672**DCL       673--REDEF
M$LO.IXTNSIZE#
       669**DCL       670--REDEF
M$LO.LASTSTA$
       653**DCL       653--REDEF
M$LO.LVL
       690**DCL       690--REDEF
M$LO.NAME#.C
       653**DCL       654--REDEF
M$LO.NOEOF
       685**DCL       685--REDEF
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:37   
M$LO.NRECS#
       670**DCL       670--REDEF
M$LO.NRECX
       697**DCL       697--REDEF
M$LO.OHDR
       686**DCL       686--REDEF
M$LO.ORG#
       661**DCL       662--REDEF
M$LO.PRECNO
       694**DCL       694--REDEF
M$LO.RCSZ
       702**DCL       702--REDEF
M$LO.RES#
       655**DCL       655--REDEF
M$LO.SETX
       674**DCL       674--REDEF
M$LO.TAB$
       673**DCL       673--REDEF
M$LO.TDA
       693**DCL       694--REDEF
M$LO.WSN#
       655**DCL       656--REDEF
PS_BUFFER
      5689**DCL      5735--DCLINIT  5737--DCLINIT
PS_COLLECT.AVAIL_MEM
      6294**DCL      6156--DCLINIT
PS_COLLECT.CALCNT
      6284**DCL      6078--DCLINIT  6285--REDEF
PS_COLLECT.ETMF
      6281**DCL      5844--DCLINIT
PS_COLLECT.EVENTS
      6289**DCL      6065--DCLINIT
PS_COLLECT.IDLE
      6272**DCL      5987--DCLINIT
PS_COLLECT.IDLWIO
      6269**DCL      6000--DCLINIT
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:38   
PS_COLLECT.IDLWRES
      6270**DCL      6013--DCLINIT
PS_COLLECT.IDLWRESIO
      6271**DCL      6026--DCLINIT
PS_COLLECT.IOLOAD
      6280**DCL      5870--DCLINIT
PS_COLLECT.IOS
      6287**DCL      6104--DCLINIT
PS_COLLECT.MONXEQ
      6268**DCL      5974--DCLINIT
PS_COLLECT.RT90
      6282**DCL      5857--DCLINIT
PS_COLLECT.SCHEDS
      6288**DCL      6039--DCLINIT
PS_COLLECT.SPECIFIC_IOS.DISK
      6291**DCL      6117--DCLINIT
PS_COLLECT.SPECIFIC_IOS.OTHER
      6293**DCL      6143--DCLINIT
PS_COLLECT.SPECIFIC_IOS.TAPE
      6292**DCL      6130--DCLINIT
PS_COLLECT.USERS.BATCH
      6276**DCL      5896--DCLINIT
PS_COLLECT.USERS.GHOST
      6277**DCL      5922--DCLINIT
PS_COLLECT.USERS.INT
      6278**DCL      5909--DCLINIT
PS_COLLECT.USERS.TOTAL
      6275**DCL      5883--DCLINIT
PS_COLLECT.USERS.TP
      6279**DCL      5935--DCLINIT
PS_COLLECT.USRSRV
      6266**DCL      5961--DCLINIT  6267--REDEF
PS_COLLECT.USRXEQ
      6265**DCL      5948--DCLINIT
PS_HLPCGBUF.DSPMSK
      6629**DCL      6635--REDEF
PL6.E3A0      #001=PS_DATA_D File=PS_DATA_D.:E05TSI                              WED 07/30/97 04:37 Page:39   
PS_HLPCGBUF.SLCMSK
      6670**DCL      6677--REDEF
PS_OLD_COLLECT.CALCNT
      6316**DCL      6317--REDEF
PS_OLD_COLLECT.USRSRV
      6298**DCL      6299--REDEF
PS_STATS$
      6336**DCL      6346--IMP-PTR
TEXTC.LEN
      6362**DCL      6363--IMP-SIZ

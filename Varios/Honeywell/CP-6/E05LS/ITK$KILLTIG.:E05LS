VERSION E05

PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:1    
        1        1        /*M*     Release TIGR and start slave */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /**/
        8        8        /*X*/
        9        9        ITK$KILLTIGR: PROC(TABLE_PTR$,FLAG,SYSCON_V,RESULT,ERR)  ALTRET;
       10       10        /**/
       11       11        /*  INCLUDE FILES  */
       12       12        /**/
       13       13        %INCLUDE IT_SUBS_C;
       14      280        %INCLUDE MM_DATA_R;
       15      800        %INCLUDE HF_DATA_R;
       16      843        %INCLUDE B$MAP;
       17      942        /**/
       18      943        /*  ENTRY REFS  */
       19      944        /**/
       20      945    1   DCL NIM$WRENBL ENTRY(2);
       21      946    1   DCL NIM$WRDSBL ENTRY(2);
       22      947    1   DCL MMB$FPP ENTRY(1) ALTRET;
       23      948    1   DCL MME$WFVP ENTRY(4) ALTRET;
       24      949    1   DCL ITG$GIVEUP ENTRY;
       25      950    1   DCL ITW$WRAPUP ENTRY(2);         /*used to get to B$ANDERSON overlay */
       26      951    1   DCL TDP$SYSCON ENTRY(3)  ALTRET; /*used to get to B$SHAMMEL overlay */
       27      952    1   DCL TMA$UP ENTRY ALTRET;
       28      953    1   DCL IVV$VOLINIT ENTRY;
       29      954        /**/
       30      955        /*  AUTO  */
       31      956        /**/
       32      957    1   DCL I SBIN WORD;
       33      958    1   DCL MM_ERR SBIN WORD;
       34      959    1   DCL PTR$ PTR ;
       35      960    1   DCL FLAG BIT(1) ALIGNED;         /* ADDED FOR SPLITTING OF B$ROGERS */
       36      961    1   DCL TABLE_PTR$ PTR;                    /* USED FOR SPLITTING OF B$ROGERS  */
       37      962        /**/
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:2    
       38      963    1   DCL ERR SBIN;                    /* ADDED FOR B$SHAMMEL OVERLAY CALL */
       39      964        %INCLUDE TD$CP6V_C;
       40     1000        %FPT$SYSCON_V (FPTN=SYSCON_V,BASED="");
       41     1004        %VLR$SYSCON_V (FPTN=RESULT,BASED="");
       42     1009        /**/
       43     1010        /**/
       44     1011        /* CONSTANT */
       45     1012        /**/
       46     1013    1   DCL IT_VOLINITOLAY UBIN CONSTANT SYMDEF INIT(6);
       47     1014    1   DCL IT_WRAPUP_OLAY UBIN CONSTANT SYMDEF INIT(7);
       48     1015        /**/
       49     1016        /*  BASED  */
       50     1017        /**/
       51     1018    1   DCL 1 PATCHAREA BASED ALIGNED,
       52     1019    1         2 NEXTLOC UBIN(18) UNAL,
       53     1020    1         2 * BIT(18) UNAL,
       54     1021    1         2 SPACELEFT UBIN WORD UNAL;
       55     1022
       56     1023    1   DCL 1 SEGTBL BASED(B$SEGTBL$) ALIGNED,
       57     1024    1         2 * UBIN HALF HALIGNED,
       58     1025    1         2 MTPX UBIN HALF HALIGNED,     /* PAGE NUMBER OF FIRST OVERLAY PAGE */
       59     1026    1         2 OVRLY(0:0),
       60     1027    1           3 SEGX UBIN HALF HALIGNED,   /* INDEX INTO SEGTBL */
       61     1028    1           3 LEN UBIN HALF HALIGNED,    /* SIZE OF OVERLAY */
       62     1029    1         2 PTW(0:0) REDEF OVRLY,
       63     1030    1           3 RPN UBIN HALF HALIGNED,
       64     1031    1           3 * BIT(18) HALIGNED;
       65     1032        /**/
       66     1033        /*  SYMREFS  */
       67     1034        /**/
       68     1035    1   DCL B_PATCHI UBIN WORD SYMREF;
       69     1036    1   DCL B_PATCHIH UBIN WORD SYMREF;
       70     1037    1   DCL IT_PATCHSP UBIN WORD SYMREF;
       71     1038    1   DCL B$MPT$ PTR SYMREF;
       72     1039    1   DCL B$SEGTBL$ PTR SYMREF;
       73     1040    1   DCL B$IPHYMAP$ PTR SYMREF;
       74     1041        /**/
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:3    
       75     1042        %EJECT;
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:4    
       76     1043        /**/
       77     1044    1           PTR$ = ADDR(B_PATCHIH);         /* THROW AWAY UNUSED PAGES            */
       78     1045    1           I = ((PTR$ -> PATCHAREA.NEXTLOC-1)/1024) +1; /* PAGE TO RELEASE       */
       79     1046        /**/
       80     1047    1           CALL NIM$WRENBL (B_PATCHIH,B_PATCHI );
       81     1048    1           PTR$ -> PATCHAREA.SPACELEFT = (I*1024)-1 - PTR$ -> PATCHAREA.NEXTLOC;
       82     1049    2           IF (PTR$ -> PATCHAREA.SPACELEFT < IT_PATCHSP) THEN DO;
       83     1050    2              I = I+1;                     /* ADD A PAGE                         */
       84     1051    2              PTR$ -> PATCHAREA.SPACELEFT = PTR$ -> PATCHAREA.SPACELEFT + 1024;
       85     1052    2              END;
       86     1053    1           CALL NIM$WRDSBL(B_PATCHIH,B_PATCHI);
       87     1054        /**/
       88     1055    1           I = I + %ISEGLO;                /* ADD INT. SEG. BASE                 */
       89     1056        /**/
       90     1057    2           DO WHILE (B$MPT$ -> B$MAP.RPN(I) ~= %FPMC AND I<=%ISEGHI);
              1057                    /* RELEASE TO END OF MONITOR */
       91     1058    2              CALL MME$WFVP(%MON_WSQ,I,0,MM_ERR);
       92     1059    2              I = I+1;
       93     1060    2              END;
       94     1061    1           CALL FRITOLAY(IT_VOLINITOLAY);
       95     1062    1           CALL FRITOLAY(IT_WRAPUP_OLAY);
       96     1063        /**/
       97     1064    1           CALL ITG$GIVEUP;                /* THATS ALL FOLKS                    */
       98     1065    1           RETURN;
       99     1066
      100     1067
      101     1068    1   FRITOLAY: PROC(OLAYNUM);               /* FREE AN OVERLAY */
      102     1069
      103     1070    2   DCL OLAYNUM SBIN;
      104     1071    2   DCL LO SBIN;
      105     1072    2   DCL HI SBIN;
      106     1073    2   DCL I SBIN;
      107     1074    2   DCL PG SBIN;
      108     1075
      109     1076    2           LO = (SEGTBL.OVRLY.SEGX(OLAYNUM - 1) / 4) - 1;
      110     1077    2           HI = LO + (SEGTBL.OVRLY.LEN(OLAYNUM - 1) / 4) - 1;
      111     1078    3           DO I=LO TO HI;
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:5    
      112     1079    3              PG = SEGTBL.PTW.RPN(I);
      113     1080    4              IF PG ~= MM_FPMC.RPN THEN DO;
      114     1081    4                 IF HW_WSQ0PT THEN PG=B$IPHYMAP$->MM$IPHY_MAP(PG);
      115     1082    4                 CALL MMB$FPP(PG);
      116     1083    4                 END;
      117     1084    3              END;
      118     1085    2           RETURN;
      119     1086
      120     1087    2   END FRITOLAY;
      121     1088
      122     1089        /****/
      123     1090    1   ITK$WRAPUP: ENTRY(TABLE_PTR$,FLAG,SYSCON_V,RESULT,ERR)  ALTRET;
      124     1091
      125     1092                /* THIS ROUTINE GETS US FROM THE TIGR (B$ROGERS) OVERLAY TO THE
      126     1093                    WRAPUP/TIGR2 (B$ANDERSON) OVERLAYS  AND BACK.           */
      127     1094
      128     1095    1           CALL ITW$WRAPUP(TABLE_PTR$,FLAG);
      129     1096    1           RETURN;
      130     1097        /****/
      131     1098    1   ITK$TDP$SYSCON: ENTRY(TABLE_PTR$,FLAG,SYSCON_V,RESULT,ERR) ALTRET;
      132     1099
      133     1100                /* THIS ROUTINE GETS US FROM THE WRAPUP (B$ANDERSON) OVERLAY TO THE
      134     1101                    SYSCON/T&D (B$SHAMMEL) OVERLAY  AND BACK.           */
      135     1102
      136     1103    1           CALL TDP$SYSCON(SYSCON_V,RESULT,ERR)
      137     1104    2             WHENALTRETURN DO;
      138     1105    2               ALTRETURN;
      139     1106    2               END;
      140     1107    1           RETURN;
      141     1108        /****/
      142     1109    1   ITK$TMA$UP: ENTRY ALTRET;
      143     1110
      144     1111                /* THIS ROUTINE GETS FROM B$ANDERSON TO B$SHAMMEL AND BACK */
      145     1112
      146     1113    1           CALL TMA$UP;
      147     1114    1           RETURN;
      148     1115
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:6    
      149     1116
      150     1117    1   ITK$VOLINIT: ENTRY  ALTRET;
      151     1118
      152     1119                /* THIS ROUTINE GETS US FROM THE TIGR TO THE VOLINIT OVERLAYS AND BACK. */
      153     1120
      154     1121    1           CALL IVV$VOLINIT;
      155     1122    1           RETURN;
      156     1123    1   END;
      157     1124        %EOD;

PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:7    
--  Include file information  --

   TD$CP6V_C.:E05TOU  is referenced.
   B$MAP.:E05TOU  cannot be made into a system file and is referenced.
   HF_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   MM_MACRO_M.:E05TOU  is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   MM$SYSGEN.:E05TOU  is referenced.
   M_INFO_C.:E05TOU  is referenced.
   MM_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   IT_SUBS_C.:E05TOU  is referenced.
      No diagnostics issued in procedure ITK$KILLTIGR.

   Procedure ITK$KILLTIGR requires 146 words for executable code.
   Procedure ITK$KILLTIGR requires 22 words of local(AUTO) storage.

PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:8    

 Object Unit name= ITK$KILLTIGR                               File name= ITK$KILLTIG.:E05TOU
 UTS= JUL 29 '97 23:05:10.36 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS      2      2  ITK$KILLTIGR
    1   Proc  even  none   146    222  ITK$KILLTIGR
    2  RoData even  none     7      7  ITK$KILLTIGR

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes    yes     yes      Std        5  ITK$KILLTIGR
     1    166          yes     yes      Std        5  ITK$WRAPUP
     1    175          yes     yes      Std        5  ITK$TDP$SYSCON
     1    206          yes     yes      Std        0  ITK$TMA$UP
     1    214          yes     yes      Std        0  ITK$VOLINIT

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    0      0  IT_VOLINITOLAY                     0      1  IT_WRAPUP_OLAY
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:9    

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       2 NIM$WRENBL
 yes     yes           Std       4 MME$WFVP
         yes           Std       2 NIM$WRDSBL
         yes           Std       0 ITG$GIVEUP
 yes     yes           Std       0 TMA$UP
         yes           Std       2 ITW$WRAPUP
         yes           Std       0 IVV$VOLINIT
 yes     yes           Std       3 TDP$SYSCON
 yes     yes           Std       1 MMB$FPP
                       nStd      0 X66_AUTO_5
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    MM_BYP$                               MM_FPMC                               HW_WSQ0PT
     B_PATCHI                              B_PATCHIH                             IT_PATCHSP
     B$MPT$                                B$SEGTBL$                             B$IPHYMAP$
     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:10   


        1        1        /*M*     Release TIGR and start slave */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /**/
        8        8        /*X*/
        9        9        ITK$KILLTIGR: PROC(TABLE_PTR$,FLAG,SYSCON_V,RESULT,ERR)  ALTRET;

      9  1 000000   000000 700200 xent  ITK$KILLTIGR TSX0  ! X66_AUTO_5
         1 000001   000026 000005                    ZERO    22,5

       10       10        /**/
       11       11        /*  INCLUDE FILES  */
       12       12        /**/
       13       13        %INCLUDE IT_SUBS_C;
       14      280        %INCLUDE MM_DATA_R;
       15      800        %INCLUDE HF_DATA_R;
       16      843        %INCLUDE B$MAP;
       17      942        /**/
       18      943        /*  ENTRY REFS  */
       19      944        /**/
       20      945    1   DCL NIM$WRENBL ENTRY(2);
       21      946    1   DCL NIM$WRDSBL ENTRY(2);
       22      947    1   DCL MMB$FPP ENTRY(1) ALTRET;
       23      948    1   DCL MME$WFVP ENTRY(4) ALTRET;
       24      949    1   DCL ITG$GIVEUP ENTRY;
       25      950    1   DCL ITW$WRAPUP ENTRY(2);         /*used to get to B$ANDERSON overlay */
       26      951    1   DCL TDP$SYSCON ENTRY(3)  ALTRET; /*used to get to B$SHAMMEL overlay */
       27      952    1   DCL TMA$UP ENTRY ALTRET;
       28      953    1   DCL IVV$VOLINIT ENTRY;
       29      954        /**/
       30      955        /*  AUTO  */
       31      956        /**/
       32      957    1   DCL I SBIN WORD;
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:11   
       33      958    1   DCL MM_ERR SBIN WORD;
       34      959    1   DCL PTR$ PTR ;
       35      960    1   DCL FLAG BIT(1) ALIGNED;         /* ADDED FOR SPLITTING OF B$ROGERS */
       36      961    1   DCL TABLE_PTR$ PTR;                    /* USED FOR SPLITTING OF B$ROGERS  */
       37      962        /**/
       38      963    1   DCL ERR SBIN;                    /* ADDED FOR B$SHAMMEL OVERLAY CALL */
       39      964        %INCLUDE TD$CP6V_C;
       40     1000        %FPT$SYSCON_V (FPTN=SYSCON_V,BASED="");
       41     1004        %VLR$SYSCON_V (FPTN=RESULT,BASED="");
       42     1009        /**/
       43     1010        /**/
       44     1011        /* CONSTANT */
       45     1012        /**/
       46     1013    1   DCL IT_VOLINITOLAY UBIN CONSTANT SYMDEF INIT(6);
       47     1014    1   DCL IT_WRAPUP_OLAY UBIN CONSTANT SYMDEF INIT(7);
       48     1015        /**/
       49     1016        /*  BASED  */
       50     1017        /**/
       51     1018    1   DCL 1 PATCHAREA BASED ALIGNED,
       52     1019    1         2 NEXTLOC UBIN(18) UNAL,
       53     1020    1         2 * BIT(18) UNAL,
       54     1021    1         2 SPACELEFT UBIN WORD UNAL;
       55     1022
       56     1023    1   DCL 1 SEGTBL BASED(B$SEGTBL$) ALIGNED,
       57     1024    1         2 * UBIN HALF HALIGNED,
       58     1025    1         2 MTPX UBIN HALF HALIGNED,     /* PAGE NUMBER OF FIRST OVERLAY PAGE */
       59     1026    1         2 OVRLY(0:0),
       60     1027    1           3 SEGX UBIN HALF HALIGNED,   /* INDEX INTO SEGTBL */
       61     1028    1           3 LEN UBIN HALF HALIGNED,    /* SIZE OF OVERLAY */
       62     1029    1         2 PTW(0:0) REDEF OVRLY,
       63     1030    1           3 RPN UBIN HALF HALIGNED,
       64     1031    1           3 * BIT(18) HALIGNED;
       65     1032        /**/
       66     1033        /*  SYMREFS  */
       67     1034        /**/
       68     1035    1   DCL B_PATCHI UBIN WORD SYMREF;
       69     1036    1   DCL B_PATCHIH UBIN WORD SYMREF;
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:12   
       70     1037    1   DCL IT_PATCHSP UBIN WORD SYMREF;
       71     1038    1   DCL B$MPT$ PTR SYMREF;
       72     1039    1   DCL B$SEGTBL$ PTR SYMREF;
       73     1040    1   DCL B$IPHYMAP$ PTR SYMREF;
       74     1041        /**/
       75     1042        %EJECT;
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:13   
       76     1043        /**/
       77     1044    1           PTR$ = ADDR(B_PATCHIH);         /* THROW AWAY UNUSED PAGES            */

   1044  1 000002   000000 236000 2                  LDQ     0
         1 000003   200012 756100                    STQ     PTR$,,AUTO

       78     1045    1           I = ((PTR$ -> PATCHAREA.NEXTLOC-1)/1024) +1; /* PAGE TO RELEASE       */

   1045  1 000004   200012 470500                    LDP0    PTR$,,AUTO
         1 000005   000000 236100                    LDQ     0,,PR0
         1 000006   000022 772000                    QRL     18
         1 000007   000001 136007                    SBLQ    1,DL
         1 000010   002000 506007                    DIV     1024,DL
         1 000011   000001 036007                    ADLQ    1,DL
         1 000012   200010 756100                    STQ     I,,AUTO

       79     1046        /**/
       80     1047    1           CALL NIM$WRENBL (B_PATCHIH,B_PATCHI );

   1047  1 000013   000001 630400 2                  EPPR0   1
         1 000014   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000015   000000 701000 xent               TSX1    NIM$WRENBL
         1 000016   000000 011000                    NOP     0

       81     1048    1           PTR$ -> PATCHAREA.SPACELEFT = (I*1024)-1 - PTR$ -> PATCHAREA.NEXTLOC;

   1048  1 000017   200012 470500                    LDP0    PTR$,,AUTO
         1 000020   000000 236100                    LDQ     0,,PR0
         1 000021   000022 772000                    QRL     18
         1 000022   200022 756100                    STQ     PG+1,,AUTO
         1 000023   200010 336100                    LCQ     I,,AUTO
         1 000024   000012 736000                    QLS     10
         1 000025   200022 036100                    ADLQ    PG+1,,AUTO
         1 000026   000027 676000 xsym               ERQ     B_VECTNIL+23
         1 000027   000001 756100                    STQ     1,,PR0

       82     1049    2           IF (PTR$ -> PATCHAREA.SPACELEFT < IT_PATCHSP) THEN DO;
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:14   

   1049  1 000030   000000 116000 xsym               CMPQ    IT_PATCHSP
         1 000031   000036 603000 1                  TRC     s:1053

       83     1050    2              I = I+1;                     /* ADD A PAGE                         */

   1050  1 000032   200010 054100                    AOS     I,,AUTO

       84     1051    2              PTR$ -> PATCHAREA.SPACELEFT = PTR$ -> PATCHAREA.SPACELEFT + 1024;

   1051  1 000033   000001 235100                    LDA     1,,PR0
         1 000034   002000 035007                    ADLA    1024,DL
         1 000035   000001 755100                    STA     1,,PR0

       85     1052    2              END;

       86     1053    1           CALL NIM$WRDSBL(B_PATCHIH,B_PATCHI);

   1053  1 000036   000001 630400 2                  EPPR0   1
         1 000037   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000040   000000 701000 xent               TSX1    NIM$WRDSBL
         1 000041   000000 011000                    NOP     0

       87     1054        /**/
       88     1055    1           I = I + %ISEGLO;                /* ADD INT. SEG. BASE                 */

   1055  1 000042   000100 236007                    LDQ     64,DL
         1 000043   200010 056100                    ASQ     I,,AUTO

       89     1056        /**/
       90     1057    2           DO WHILE (B$MPT$ -> B$MAP.RPN(I) ~= %FPMC AND I<=%ISEGHI);
              1057                    /* RELEASE TO END OF MONITOR */

   1057  1 000044   000062 710000 1                  TRA     s:1060

       91     1058    2              CALL MME$WFVP(%MON_WSQ,I,0,MM_ERR);

PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:15   
   1058  1 000045   200011 630500                    EPPR0   MM_ERR,,AUTO
         1 000046   200025 450500                    STP0    PG+4,,AUTO
         1 000047   000003 236000 2                  LDQ     3
         1 000050   200024 756100                    STQ     PG+3,,AUTO
         1 000051   200010 631500                    EPPR1   I,,AUTO
         1 000052   200023 451500                    STP1    PG+2,,AUTO
         1 000053   000004 236000 2                  LDQ     4
         1 000054   200022 756100                    STQ     PG+1,,AUTO
         1 000055   200022 630500                    EPPR0   PG+1,,AUTO
         1 000056   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000057   000000 701000 xent               TSX1    MME$WFVP
         1 000060   000000 011000                    NOP     0

       92     1059    2              I = I+1;

   1059  1 000061   200010 054100                    AOS     I,,AUTO

       93     1060    2              END;

   1060  1 000062   000000 470400 xsym               LDP0    B$MPT$
         1 000063   200010 720100                    LXL0    I,,AUTO
         1 000064   000000 221110                    LDX1    0,X0,PR0
         1 000065   777777 101003                    CMPX1   -1,DU
         1 000066   000072 600000 1                  TZE     s:1061
         1 000067   200010 235100                    LDA     I,,AUTO
         1 000070   000477 115007                    CMPA    319,DL
         1 000071   000045 604400 1                  TMOZ    s:1058

       94     1061    1           CALL FRITOLAY(IT_VOLINITOLAY);

   1061  1 000072   000005 236000 2                  LDQ     5
         1 000073   200015 756100                    STQ     PTR$+3,,AUTO
         1 000074   000106 701000 1                  TSX1    FRITOLAY
         1 000075   000000 011000                    NOP     0

       95     1062    1           CALL FRITOLAY(IT_WRAPUP_OLAY);

PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:16   
   1062  1 000076   000006 236000 2                  LDQ     6
         1 000077   200015 756100                    STQ     PTR$+3,,AUTO
         1 000100   000106 701000 1                  TSX1    FRITOLAY
         1 000101   000000 011000                    NOP     0

       96     1063        /**/
       97     1064    1           CALL ITG$GIVEUP;                /* THATS ALL FOLKS                    */

   1064  1 000102   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000103   000000 701000 xent               TSX1    ITG$GIVEUP
         1 000104   000000 011000                    NOP     0

       98     1065    1           RETURN;

   1065  1 000105   000000 702200 xent               TSX2  ! X66_ARET

       99     1066
      100     1067
      101     1068    1   FRITOLAY: PROC(OLAYNUM);               /* FREE AN OVERLAY */

   1068  1 000106   200014 741300       FRITOLAY     STX1  ! PTR$+2,,AUTO

      102     1069
      103     1070    2   DCL OLAYNUM SBIN;
      104     1071    2   DCL LO SBIN;
      105     1072    2   DCL HI SBIN;
      106     1073    2   DCL I SBIN;
      107     1074    2   DCL PG SBIN;
      108     1075
      109     1076    2           LO = (SEGTBL.OVRLY.SEGX(OLAYNUM - 1) / 4) - 1;

   1076  1 000107   200015 470500                    LDP0    @OLAYNUM,,AUTO
         1 000110   000000 720100                    LXL0    0,,PR0
         1 000111   000000 471400 xsym               LDP1    B$SEGTBL$
         1 000112   100000 236110                    LDQ     0,X0,PR1
         1 000113   000022 772000                    QRL     18
         1 000114   000002 772000                    QRL     2
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:17   
         1 000115   000001 136007                    SBLQ    1,DL
         1 000116   200016 756100                    STQ     LO,,AUTO

      110     1077    2           HI = LO + (SEGTBL.OVRLY.LEN(OLAYNUM - 1) / 4) - 1;

   1077  1 000117   000000 235100                    LDA     0,,PR0
         1 000120   100000 236105                    LDQ     0,AL,PR1
         1 000121   777777 376007                    ANQ     -1,DL
         1 000122   000002 772000                    QRL     2
         1 000123   200016 036100                    ADLQ    LO,,AUTO
         1 000124   000001 136007                    SBLQ    1,DL
         1 000125   200017 756100                    STQ     HI,,AUTO

      111     1078    3           DO I=LO TO HI;

   1078  1 000126   200016 235100                    LDA     LO,,AUTO
         1 000127   200020 755100                    STA     I,,AUTO
         1 000130   000161 710000 1                  TRA     s:1084+1

      112     1079    3              PG = SEGTBL.PTW.RPN(I);

   1079  1 000131   000000 470400 xsym               LDP0    B$SEGTBL$
         1 000132   200020 720100                    LXL0    I,,AUTO
         1 000133   000001 236110                    LDQ     1,X0,PR0
         1 000134   000022 772000                    QRL     18
         1 000135   200021 756100                    STQ     PG,,AUTO

      113     1080    4              IF PG ~= MM_FPMC.RPN THEN DO;

   1080  1 000136   000000 236000 xsym               LDQ     MM_FPMC
         1 000137   000022 772000                    QRL     18
         1 000140   200021 116100                    CMPQ    PG,,AUTO
         1 000141   000160 600000 1                  TZE     s:1084

      114     1081    4                 IF HW_WSQ0PT THEN PG=B$IPHYMAP$->MM$IPHY_MAP(PG);

   1081  1 000142   000000 234000 xsym               SZN     HW_WSQ0PT
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:18   
         1 000143   000152 605000 1                  TPL     s:1082

   1081  1 000144   200021 235100                    LDA     PG,,AUTO
         1 000145   000001 735000                    ALS     1
         1 000146   000000 471400 xsym               LDP1    B$IPHYMAP$
         1 000147   000100 101505                    MRL     fill='000'O
         1 000150   100000 000002                    ADSC9   0,A,PR1                  cn=0,n=2
         1 000151   200021 000004                    ADSC9   PG,,AUTO                 cn=0,n=4

      115     1082    4                 CALL MMB$FPP(PG);

   1082  1 000152   200021 631500                    EPPR1   PG,,AUTO
         1 000153   200022 451500                    STP1    PG+1,,AUTO
         1 000154   200022 630500                    EPPR0   PG+1,,AUTO
         1 000155   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000156   000000 701000 xent               TSX1    MMB$FPP
         1 000157   000000 011000                    NOP     0

      116     1083    4                 END;

      117     1084    3              END;

   1084  1 000160   200020 054100                    AOS     I,,AUTO
         1 000161   200020 236100                    LDQ     I,,AUTO
         1 000162   200017 116100                    CMPQ    HI,,AUTO
         1 000163   000131 604400 1                  TMOZ    s:1079

      118     1085    2           RETURN;

   1085  1 000164   200014 221300                    LDX1  ! PTR$+2,,AUTO
         1 000165   000001 702211                    TSX2  ! 1,X1

      119     1086
      120     1087    2   END FRITOLAY;
      121     1088
      122     1089        /****/
      123     1090    1   ITK$WRAPUP: ENTRY(TABLE_PTR$,FLAG,SYSCON_V,RESULT,ERR)  ALTRET;
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:19   

   1090  1 000166   000000 700200 xent  ITK$WRAPUP   TSX0  ! X66_AUTO_5
         1 000167   000026 000005                    ZERO    22,5

      124     1091
      125     1092                /* THIS ROUTINE GETS US FROM THE TIGR (B$ROGERS) OVERLAY TO THE
      126     1093                    WRAPUP/TIGR2 (B$ANDERSON) OVERLAYS  AND BACK.           */
      127     1094
      128     1095    1           CALL ITW$WRAPUP(TABLE_PTR$,FLAG);

   1095  1 000170   200003 630500                    EPPR0   @TABLE_PTR$,,AUTO
         1 000171   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000172   000000 701000 xent               TSX1    ITW$WRAPUP
         1 000173   000000 011000                    NOP     0

      129     1096    1           RETURN;

   1096  1 000174   000000 702200 xent               TSX2  ! X66_ARET

      130     1097        /****/
      131     1098    1   ITK$TDP$SYSCON: ENTRY(TABLE_PTR$,FLAG,SYSCON_V,RESULT,ERR) ALTRET;

   1098  1 000175   000000 700200 xent  ITK$TDP$SYS* TSX0  ! X66_AUTO_5
         1 000176   000026 000005                    ZERO    22,5

      132     1099
      133     1100                /* THIS ROUTINE GETS US FROM THE WRAPUP (B$ANDERSON) OVERLAY TO THE
      134     1101                    SYSCON/T&D (B$SHAMMEL) OVERLAY  AND BACK.           */
      135     1102
      136     1103    1           CALL TDP$SYSCON(SYSCON_V,RESULT,ERR)

   1103  1 000177   200005 630500                    EPPR0   @SYSCON_V,,AUTO
         1 000200   000021 631400 xsym               EPPR1   B_VECTNIL+17
         1 000201   000000 701000 xent               TSX1    TDP$SYSCON
         1 000202   000204 702000 1                  TSX2    s:1105
         1 000203   000205 710000 1                  TRA     s:1107

PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:20   
      137     1104    2             WHENALTRETURN DO;

      138     1105    2               ALTRETURN;

   1105  1 000204   000000 702200 xent               TSX2  ! X66_AALT

      139     1106    2               END;
      140     1107    1           RETURN;

   1107  1 000205   000000 702200 xent               TSX2  ! X66_ARET

      141     1108        /****/
      142     1109    1   ITK$TMA$UP: ENTRY ALTRET;

   1109  1 000206   000000 700200 xent  ITK$TMA$UP   TSX0  ! X66_AUTO_5
         1 000207   000026 000005                    ZERO    22,5

      143     1110
      144     1111                /* THIS ROUTINE GETS FROM B$ANDERSON TO B$SHAMMEL AND BACK */
      145     1112
      146     1113    1           CALL TMA$UP;

   1113  1 000210   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000211   000000 701000 xent               TSX1    TMA$UP
         1 000212   000000 011000                    NOP     0

      147     1114    1           RETURN;

   1114  1 000213   000000 702200 xent               TSX2  ! X66_ARET

      148     1115
      149     1116
      150     1117    1   ITK$VOLINIT: ENTRY  ALTRET;

   1117  1 000214   000000 700200 xent  ITK$VOLINIT  TSX0  ! X66_AUTO_5
         1 000215   000026 000005                    ZERO    22,5

PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:21   
      151     1118
      152     1119                /* THIS ROUTINE GETS US FROM THE TIGR TO THE VOLINIT OVERLAYS AND BACK. */
      153     1120
      154     1121    1           CALL IVV$VOLINIT;

   1121  1 000216   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000217   000000 701000 xent               TSX1    IVV$VOLINIT
         1 000220   000000 011000                    NOP     0

      155     1122    1           RETURN;

   1122  1 000221   000000 702200 xent               TSX2  ! X66_ARET

IT_VOLINITOLAY
 Sect OctLoc
   0     000   000000 000006                                                    ....

IT_WRAPUP_OLAY
 Sect OctLoc
   0     001   000000 000007                                                    ....

(unnamed)
 Sect OctLoc
   2     000   000000 006000   000000 006000   000000 006000   000002 006000    ................
   2     004   000003 006000   000000 006000   000001 006000                    ............
      156     1123    1   END;
      157     1124        %EOD;

PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:22   
--  Include file information  --

   TD$CP6V_C.:E05TOU  is referenced.
   B$MAP.:E05TOU  cannot be made into a system file and is referenced.
   HF_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   MM_MACRO_M.:E05TOU  is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   MM$SYSGEN.:E05TOU  is referenced.
   M_INFO_C.:E05TOU  is referenced.
   MM_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   IT_SUBS_C.:E05TOU  is referenced.
      No diagnostics issued in procedure ITK$KILLTIGR.
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:23   

 **** Variables and constants ****

  ****  Section 000 RoData ITK$KILLTIGR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w UBIN        r     1 IT_VOLINITOLAY             1-0-0/w UBIN        r     1 IT_WRAPUP_OLAY

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     7-0-0/w PTR         r     1 @ERR                       4-0-0/w PTR         r     1 @FLAG
    15-0-0/w PTR         r     1 @OLAYNUM                   6-0-0/w PTR         r     1 @RESULT
     5-0-0/w PTR         r     1 @SYSCON_V                  3-0-0/w PTR         r     1 @TABLE_PTR$
    *0-0-0/w SBIN        r     1 ERR                       *0-0-0/w BIT         r     1 FLAG
    17-0-0/w SBIN        r     1 HI                        10-0-0/w SBIN        r     1 I
    20-0-0/w SBIN        r     1 I                         16-0-0/w SBIN        r     1 LO
    11-0-0/w SBIN        r     1 MM_ERR                    *0-0-0/w SBIN        r     1 OLAYNUM
    21-0-0/w SBIN        r     1 PG                        12-0-0/w PTR         r     1 PTR$
    *0-0-0/d STRC(72)    r     1 RESULT                    *0-0-0/d STRC(118)   r     1 SYSCON_V
    *0-0-0/w PTR         r     1 TABLE_PTR$

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$IPHYMAP$                 0-0-0/w PTR         r     1 B$MPT$
     0-0-0/w PTR         r     1 B$SEGTBL$                  0-0-0/w UBIN        r     1 B_PATCHI
     0-0-0/w UBIN        r     1 B_PATCHIH                  0-0-0/w BIT         r     1 HW_WSQ0PT
     0-0-0/w UBIN        r     1 IT_PATCHSP                 0-0-0/w PTR         r     1 MM_BYP$
     0-0-0/b STRC        r     1 MM_FPMC

  ****  BASED and DCB variables  ****
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:24   

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC        r     1 B$MAP(0:1023)
     0-0-0/h UBIN(18)    r     1 MM$IPHY_MAP(0:0)
     0-0-0/w STRC(72)    r     1 PATCHAREA                  0-0-0/w STRC(72)    r     1 SEGTBL


   Procedure ITK$KILLTIGR requires 146 words for executable code.
   Procedure ITK$KILLTIGR requires 22 words of local(AUTO) storage.
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:25   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:26   
          MINI XREF LISTING

B$IPHYMAP$
      1040**DCL      1081>>ASSIGN
B$MAP.RPN
       885**DCL      1057>>DOWHILE
B$MAP.SCTRL
       886**DCL       887--REDEF
B$MPT$
      1038**DCL      1057>>DOWHILE
B$SEGTBL$
      1039**DCL      1023--IMP-PTR  1076>>ASSIGN   1077>>ASSIGN   1079>>ASSIGN
B_PATCHI
      1035**DCL      1047<>CALL     1053<>CALL
B_PATCHIH
      1036**DCL      1044--ASSIGN   1047<>CALL     1053<>CALL
ERR
       963**DCL         9--PROC     1090--ENTRY    1098--ENTRY    1103<>CALL
FLAG
       960**DCL         9--PROC     1090--ENTRY    1095<>CALL     1098--ENTRY
FRITOLAY
      1068**PROC     1061--CALL     1062--CALL
HI IN PROCEDURE FRITOLAY
      1072**DCL      1077<<ASSIGN   1078>>DOINDEX
HW_WSQ0PT
       838**DCL      1081>>IF
I
       957**DCL      1045<<ASSIGN   1048>>ASSIGN   1050<<ASSIGN   1050>>ASSIGN   1055<<ASSIGN   1055>>ASSIGN
      1057>>DOWHILE  1057>>DOWHILE  1058<>CALL     1059<<ASSIGN   1059>>ASSIGN
I IN PROCEDURE FRITOLAY
      1073**DCL      1078<<DOINDEX  1079>>ASSIGN
ITG$GIVEUP
       949**DCL-ENT  1064--CALL
ITW$WRAPUP
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:27   
       950**DCL-ENT  1095--CALL
IT_PATCHSP
      1037**DCL      1049>>IF
IT_VOLINITOLAY
      1013**DCL      1061<>CALL
IT_WRAPUP_OLAY
      1014**DCL      1062<>CALL
IVV$VOLINIT
       953**DCL-ENT  1121--CALL
LO IN PROCEDURE FRITOLAY
      1071**DCL      1076<<ASSIGN   1077>>ASSIGN   1078>>DOINDEX
MM$DESC.BOUND
       751**DCL       752--REDEF
MM$DESC.FLGS
       752**DCL       752--REDEF
MM$IPHY_MAP
       940**DCL      1081>>ASSIGN
MM$PPUT.USER#
       740**DCL       740--REDEF
MMB$FPP
       947**DCL-ENT  1082--CALL
MME$WFVP
       948**DCL-ENT  1058--CALL
MM_BYP$
       671**DCL       671--IMP-PTR
MM_ERR
       958**DCL      1058<>CALL
MM_FPMC.RPN
       677**DCL      1080>>IF
NIM$WRDSBL
       946**DCL-ENT  1053--CALL
NIM$WRENBL
       945**DCL-ENT  1047--CALL
OLAYNUM IN PROCEDURE FRITOLAY
      1070**DCL      1068--PROC     1076>>ASSIGN   1077>>ASSIGN
PATCHAREA.NEXTLOC
PL6.E3A0      #001=ITK$KILLTIGR File=ITK$KILLTIG.:E05TSI                         TUE 07/29/97 23:05 Page:28   
      1019**DCL      1045>>ASSIGN   1048>>ASSIGN
PATCHAREA.SPACELEFT
      1021**DCL      1048<<ASSIGN   1049>>IF       1051<<ASSIGN   1051>>ASSIGN
PG IN PROCEDURE FRITOLAY
      1074**DCL      1079<<ASSIGN   1080>>IF       1081<<ASSIGN   1081>>ASSIGN   1082<>CALL
PTR$
       959**DCL      1044<<ASSIGN   1045>>ASSIGN   1048>>ASSIGN   1048>>ASSIGN   1049>>IF       1051>>ASSIGN
      1051>>ASSIGN
RESULT
      1005**DCL         9--PROC     1090--ENTRY    1098--ENTRY    1103<>CALL
SEGTBL.OVRLY
      1026**DCL      1029--REDEF
SEGTBL.OVRLY.LEN
      1028**DCL      1077>>ASSIGN
SEGTBL.OVRLY.SEGX
      1027**DCL      1076>>ASSIGN
SEGTBL.PTW.RPN
      1030**DCL      1079>>ASSIGN
SYSCON_V
      1001**DCL         9--PROC     1090--ENTRY    1098--ENTRY    1103<>CALL
SYSCON_V.IOM
      1001**DCL      1001--REDEF    1001--REDEF
TABLE_PTR$
       961**DCL         9--PROC     1090--ENTRY    1095<>CALL     1098--ENTRY
TDP$SYSCON
       951**DCL-ENT  1103--CALL
TMA$UP
       952**DCL-ENT  1113--CALL

PL6.E3A0      #002=ITK$TMB$BUF_ALLOC File=ITK$KILLTIG.:E05TSI                    TUE 07/29/97 23:05 Page:29   
      158        1        /*T***********************************************************/
      159        2        /*T*                                                         */
      160        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      161        4        /*T*                                                         */
      162        5        /*T***********************************************************/
      163        6        ITK$TMB$BUF_ALLOC:  PROC(BUF$,BUFX,DQH$) ALTRET;
      164        7        /**/
      165        8        /* PARAMETERS */
      166        9    1   DCL BUF$ PTR;
      167       10    1   DCL BUFX SBIN;
      168       11    1   DCL DQH$ PTR;
      169       12        /**/
      170       13    1   DCL TMB$BUF_ALLOC ENTRY(3) ALTRET;
      171       14    1   DCL TMB$BUF_DEALLOC ENTRY(2) ALTRET;
      172       15        /**/
      173       16    1         CALL TMB$BUF_ALLOC(BUF$,BUFX,DQH$)
      174       17    2           WHENALTRETURN DO;
      175       18    2             ALTRETURN;
      176       19    2             END;
      177       20    1           RETURN;
      178       21        /**/
      179       22    1   ITK$TMB$BUF_DEALLOC: ENTRY(BUF$,BUFX) ALTRET;
      180       23        /**/
      181       24    1         CALL TMB$BUF_DEALLOC(BUF$,BUFX)
      182       25    2           WHENALTRETURN DO;
      183       26    2             ALTRETURN;
      184       27    2             END;
      185       28    1           RETURN;
      186       29        /**/
      187       30    1   END ITK$TMB$BUF_ALLOC;
      188       31        %EOD;

PL6.E3A0      #002=ITK$TMB$BUF_ALLOC File=ITK$KILLTIG.:E05TSI                    TUE 07/29/97 23:05 Page:30   
      No diagnostics issued in procedure ITK$TMB$BUF_ALLOC.

   Procedure ITK$TMB$BUF_ALLOC requires 18 words for executable code.
   Procedure ITK$TMB$BUF_ALLOC requires 6 words of local(AUTO) storage.

PL6.E3A0      #002=ITK$TMB$BUF_ALLOC File=ITK$KILLTIG.:E05TSI                    TUE 07/29/97 23:05 Page:31   

 Object Unit name= ITK$TMB$BUF_ALLOC                          File name= ITK$KILLTIG.:E05TOU
 UTS= JUL 29 '97 23:05:49.68 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none    18     22  ITK$TMB$BUF_ALLOC

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes    yes     yes      Std        3  ITK$TMB$BUF_ALLOC
     0     11          yes     yes      Std        2  ITK$TMB$BUF_DEALLOC

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       3 TMB$BUF_ALLOC
 yes     yes           Std       2 TMB$BUF_DEALLOC
                       nStd      0 X66_AUTO_3
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AALT
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     B_VECTNIL
PL6.E3A0      #002=ITK$TMB$BUF_ALLOC File=ITK$KILLTIG.:E05TSI                    TUE 07/29/97 23:05 Page:32   


      158        1        /*T***********************************************************/
      159        2        /*T*                                                         */
      160        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      161        4        /*T*                                                         */
      162        5        /*T***********************************************************/
      163        6        ITK$TMB$BUF_ALLOC:  PROC(BUF$,BUFX,DQH$) ALTRET;

      6  0 000000   000000 700200 xent  ITK$TMB$BUF* TSX0  ! X66_AUTO_3
         0 000001   000006 000003                    ZERO    6,3

      164        7        /**/
      165        8        /* PARAMETERS */
      166        9    1   DCL BUF$ PTR;
      167       10    1   DCL BUFX SBIN;
      168       11    1   DCL DQH$ PTR;
      169       12        /**/
      170       13    1   DCL TMB$BUF_ALLOC ENTRY(3) ALTRET;
      171       14    1   DCL TMB$BUF_DEALLOC ENTRY(2) ALTRET;
      172       15        /**/
      173       16    1         CALL TMB$BUF_ALLOC(BUF$,BUFX,DQH$)

     16  0 000002   200003 630500                    EPPR0   @BUF$,,AUTO
         0 000003   000021 631400 xsym               EPPR1   B_VECTNIL+17
         0 000004   000000 701000 xent               TSX1    TMB$BUF_ALLOC
         0 000005   000007 702000 0                  TSX2    s:18
         0 000006   000010 710000 0                  TRA     s:20

      174       17    2           WHENALTRETURN DO;

      175       18    2             ALTRETURN;

     18  0 000007   000000 702200 xent               TSX2  ! X66_AALT

      176       19    2             END;
      177       20    1           RETURN;

PL6.E3A0      #002=ITK$TMB$BUF_ALLOC File=ITK$KILLTIG.:E05TSI                    TUE 07/29/97 23:05 Page:33   
     20  0 000010   000000 702200 xent               TSX2  ! X66_ARET

      178       21        /**/
      179       22    1   ITK$TMB$BUF_DEALLOC: ENTRY(BUF$,BUFX) ALTRET;

     22  0 000011   000000 700200 xent  ITK$TMB$BUF* TSX0  ! X66_AUTO_3
         0 000012   000006 000003                    ZERO    6,3

      180       23        /**/
      181       24    1         CALL TMB$BUF_DEALLOC(BUF$,BUFX)

     24  0 000013   200003 630500                    EPPR0   @BUF$,,AUTO
         0 000014   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000015   000000 701000 xent               TSX1    TMB$BUF_DEALLOC
         0 000016   000020 702000 0                  TSX2    s:26
         0 000017   000021 710000 0                  TRA     s:28

      182       25    2           WHENALTRETURN DO;

      183       26    2             ALTRETURN;

     26  0 000020   000000 702200 xent               TSX2  ! X66_AALT

      184       27    2             END;
      185       28    1           RETURN;

     28  0 000021   000000 702200 xent               TSX2  ! X66_ARET
      186       29        /**/
      187       30    1   END ITK$TMB$BUF_ALLOC;
      188       31        %EOD;

PL6.E3A0      #002=ITK$TMB$BUF_ALLOC File=ITK$KILLTIG.:E05TSI                    TUE 07/29/97 23:05 Page:34   
      No diagnostics issued in procedure ITK$TMB$BUF_ALLOC.
PL6.E3A0      #002=ITK$TMB$BUF_ALLOC File=ITK$KILLTIG.:E05TSI                    TUE 07/29/97 23:05 Page:35   

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @BUF$                      4-0-0/w PTR         r     1 @BUFX
     5-0-0/w PTR         r     1 @DQH$                     *0-0-0/w PTR         r     1 BUF$
    *0-0-0/w SBIN        r     1 BUFX                      *0-0-0/w PTR         r     1 DQH$


   Procedure ITK$TMB$BUF_ALLOC requires 18 words for executable code.
   Procedure ITK$TMB$BUF_ALLOC requires 6 words of local(AUTO) storage.
PL6.E3A0      #002=ITK$TMB$BUF_ALLOC File=ITK$KILLTIG.:E05TSI                    TUE 07/29/97 23:05 Page:36   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=ITK$TMB$BUF_ALLOC File=ITK$KILLTIG.:E05TSI                    TUE 07/29/97 23:05 Page:37   
          MINI XREF LISTING

BUF$
         9**DCL         6--PROC       16<>CALL       22--ENTRY      24<>CALL
BUFX
        10**DCL         6--PROC       16<>CALL       22--ENTRY      24<>CALL
DQH$
        11**DCL         6--PROC       16<>CALL
TMB$BUF_ALLOC
        13**DCL-ENT    16--CALL
TMB$BUF_DEALLOC
        14**DCL-ENT    24--CALL

PL6.E3A0      #003=ITK$TMB$MCA File=ITK$KILLTIG.:E05TSI                          TUE 07/29/97 23:05 Page:38   
      189        1        /*T***********************************************************/
      190        2        /*T*                                                         */
      191        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      192        4        /*T*                                                         */
      193        5        /*T***********************************************************/
      194        6        /**/
      195        7        ITK$TMB$MCA:PROC (DQH, CMD, BUFX) ALTRET;
      196        8        /**/
      197        9        /* PARAMETERS */
      198       10        %INCLUDE NI$TABLES;
      199      226        %NI$DQH (NAME=DQH,STCLASS="");
      200      249    1   DCL CMD UBIN;
      201      250    1   DCL BUFX SBIN;
      202      251    1   DCL ITK_CMD UBIN ;
      203      252        /**/
      204      253    1   DCL TMB$MCA ENTRY(4) ALTRET;
      205      254        /**/
      206      255    1         ITK_CMD = CMD;
      207      256    1         CALL TMB$MCA(DQH,ITK_CMD,BUFX)
      208      257    2           WHENALTRETURN DO;
      209      258    2             ALTRETURN;
      210      259    2             END;
      211      260    1           RETURN;
      212      261    1   END ITK$TMB$MCA;

PL6.E3A0      #003=ITK$TMB$MCA File=ITK$KILLTIG.:E05TSI                          TUE 07/29/97 23:05 Page:39   
--  Include file information  --

   NI$TABLES.:E05TOU  is referenced.
      No diagnostics issued in procedure ITK$TMB$MCA.

   Procedure ITK$TMB$MCA requires 18 words for executable code.
   Procedure ITK$TMB$MCA requires 12 words of local(AUTO) storage.

    No errors detected in file ITK$KILLTIG.:E05TSI    .

PL6.E3A0      #003=ITK$TMB$MCA File=ITK$KILLTIG.:E05TSI                          TUE 07/29/97 23:05 Page:40   

 Object Unit name= ITK$TMB$MCA                                File name= ITK$KILLTIG.:E05TOU
 UTS= JUL 29 '97 23:05:55.96 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none    18     22  ITK$TMB$MCA

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes    yes     yes      Std        3  ITK$TMB$MCA

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       4 TMB$MCA
                       nStd      0 X66_AUTO_3
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AALT
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     B_VECTNIL
PL6.E3A0      #003=ITK$TMB$MCA File=ITK$KILLTIG.:E05TSI                          TUE 07/29/97 23:05 Page:41   


      189        1        /*T***********************************************************/
      190        2        /*T*                                                         */
      191        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      192        4        /*T*                                                         */
      193        5        /*T***********************************************************/
      194        6        /**/
      195        7        ITK$TMB$MCA:PROC (DQH, CMD, BUFX) ALTRET;

      7  0 000000   000000 700200 xent  ITK$TMB$MCA  TSX0  ! X66_AUTO_3
         0 000001   000014 000003                    ZERO    12,3

      196        8        /**/
      197        9        /* PARAMETERS */
      198       10        %INCLUDE NI$TABLES;
      199      226        %NI$DQH (NAME=DQH,STCLASS="");
      200      249    1   DCL CMD UBIN;
      201      250    1   DCL BUFX SBIN;
      202      251    1   DCL ITK_CMD UBIN ;
      203      252        /**/
      204      253    1   DCL TMB$MCA ENTRY(4) ALTRET;
      205      254        /**/
      206      255    1         ITK_CMD = CMD;

    255  0 000002   200004 470500                    LDP0    @CMD,,AUTO
         0 000003   000000 235100                    LDA     0,,PR0
         0 000004   200006 755100                    STA     ITK_CMD,,AUTO

      207      256    1         CALL TMB$MCA(DQH,ITK_CMD,BUFX)

    256  0 000005   200005 236100                    LDQ     @BUFX,,AUTO
         0 000006   200012 756100                    STQ     ITK_CMD+4,,AUTO
         0 000007   200006 631500                    EPPR1   ITK_CMD,,AUTO
         0 000010   200011 451500                    STP1    ITK_CMD+3,,AUTO
         0 000011   200003 236100                    LDQ     @DQH,,AUTO
         0 000012   200010 756100                    STQ     ITK_CMD+2,,AUTO
         0 000013   200010 630500                    EPPR0   ITK_CMD+2,,AUTO
PL6.E3A0      #003=ITK$TMB$MCA File=ITK$KILLTIG.:E05TSI                          TUE 07/29/97 23:05 Page:42   
         0 000014   000021 631400 xsym               EPPR1   B_VECTNIL+17
         0 000015   000000 701000 xent               TSX1    TMB$MCA
         0 000016   000020 702000 0                  TSX2    s:258
         0 000017   000021 710000 0                  TRA     s:260

      208      257    2           WHENALTRETURN DO;

      209      258    2             ALTRETURN;

    258  0 000020   000000 702200 xent               TSX2  ! X66_AALT

      210      259    2             END;
      211      260    1           RETURN;

    260  0 000021   000000 702200 xent               TSX2  ! X66_ARET
      212      261    1   END ITK$TMB$MCA;

PL6.E3A0      #003=ITK$TMB$MCA File=ITK$KILLTIG.:E05TSI                          TUE 07/29/97 23:05 Page:43   
--  Include file information  --

   NI$TABLES.:E05TOU  is referenced.
      No diagnostics issued in procedure ITK$TMB$MCA.
PL6.E3A0      #003=ITK$TMB$MCA File=ITK$KILLTIG.:E05TSI                          TUE 07/29/97 23:05 Page:44   

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     5-0-0/w PTR         r     1 @BUFX                      4-0-0/w PTR         r     1 @CMD
     3-0-0/w PTR         r     1 @DQH                      *0-0-0/w SBIN        r     1 BUFX
    *0-0-0/w UBIN        r     1 CMD                       *0-0-0/w STRC(648)   r     1 DQH
     6-0-0/w UBIN        r     1 ITK_CMD


   Procedure ITK$TMB$MCA requires 18 words for executable code.
   Procedure ITK$TMB$MCA requires 12 words of local(AUTO) storage.

    No errors detected in file ITK$KILLTIG.:E05TSI    .
PL6.E3A0      #003=ITK$TMB$MCA File=ITK$KILLTIG.:E05TSI                          TUE 07/29/97 23:05 Page:45   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #003=ITK$TMB$MCA File=ITK$KILLTIG.:E05TSI                          TUE 07/29/97 23:05 Page:46   
          MINI XREF LISTING

BUFX
       250**DCL         7--PROC      256<>CALL
CMD
       249**DCL         7--PROC      255>>ASSIGN
DQH
       235**DCL         7--PROC      256<>CALL
DQH.IOCHANX
       237**DCL       238--REDEF
DQH.MBX$
       246**DCL       247--REDEF
ITK_CMD
       251**DCL       255<<ASSIGN    256<>CALL
TMB$MCA
       253**DCL-ENT   256--CALL

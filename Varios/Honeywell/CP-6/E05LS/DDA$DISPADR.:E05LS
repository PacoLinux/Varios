VERSION E05

PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:1    
        1        1        /*M*  DDA$DISPADR - Routine for formatting address output */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MCL=4,DCI=5,CRT=5 */
        8        8        %SET LISTSUB='1'B;
        9        9        /*F*  NAME: DDA$DISPADR
       10       10              PURPOSE: To format an evaluated address for output.
       11       11              DESCRIPTION: Formats the input address into one of three
       12       12                  formats : ENTDEF / SYMDEF + offset if NOT_IS = '0'b & D_SYMBOLS = '1'B
       13       13                            octal address for Host users if NOT_IS = '0'b & D_SYMBOLS = '1'B
       14       14                            hex address for L6 users if NOT_IS = '0'B & D_SYMBOLS = '1'B
       15       15                            SEGID -> offset if NOT_IS = '1'b.
       16       16                                                     */
       17       17        DDA$DISPADR: PROC(ADDRESS, SEG, DESC#, NOT_IS, FMT, PNO_UDEFS, LEN) ALTRET;
       18       18          /* Parms */
       19       19    1   DCL ADDRESS SBIN;
       20       20    1   DCL 1 L6ADR REDEF ADDRESS,
       21       21    1         2 * BIT(4) UNAL,
       22       22    1         2 L16 UBIN(16) UNAL,
       23       23    1         2 R16 UBIN(16) UNAL;
       24       24    1   DCL SEG UBIN;
       25       25    1   DCL DESC# UBIN;
       26       26    1   DCL NOT_IS BIT(1) ALIGNED;
       27       27    1   DCL FMT UBIN;
       28       28    1   DCL PNO_UDEFS BIT(1) ALIGNED; /* Set if DCR$POSIT not to search user defs */
       29       29    1   DCL LEN UBIN;
       30       30          /* Locals */
       31       31    1   DCL NO_UDEFS BIT(1) ALIGNED;
       32       32    1   DCL 1 VALUE DALIGNED,
       33       33    1         2 L UBIN UNAL,
       34       34    1         2 R UBIN UNAL;
       35       35    1   DCL TEXT$ PTR;
       36       36    1   DCL SIZE UBIN;
       37       37    1   DCL MYBUF CHAR(13);
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:2    
       38       38    1   DCL MYBUF$ PTR;
       39       39    1   DCL TEXTR CHAR(SIZE) BASED(TEXT$);
       40       40    1   DCL SEGID(0:3) CHAR(3) CONSTANT INIT(
       41       41    1        '$PS','$$$','$AS','$LS');
       42       42    1   DCL SEGID2(0:13) CHAR(6) CONSTANT INIT(
       43       43    1        '$REAL','$VIRT','$IOBUF','$PSR','$ASR','$LSR','$SSR','$JIT','$HJIT','$TCB',
       44       44    1        '$SAD','$RVB','$USD','$ERR');
       45       45    1   DCL SEGID2SZ(0:13) UBIN CONSTANT INIT(5,5,6,4,4,4,4,4,5,4,4,4,4,4);
       46       46    1   DCL DESC#0(0:13) CHAR(4) CONSTANT INIT(
       47       47    1        '$E','$A','$Q','$X0','$X1','$X2','$X3','$X4','$X5','$X6','$X7',
       48       48    1        '$IND','$IC','$P');
       49       49    1   DCL DESC#0SZ(0:13) UBIN CONSTANT INIT(
       50       50    1        2,2,2,3*8,4,3,2);
       51       51    1   DCL DESC#3(0:3) CHAR(3) CONSTANT INIT(
       52       52    1        '$AU','$AL','$QU','$QL');
       53       53    1   DCL DESC#3SZ(0:3) CONSTANT UBIN INIT(3*4);
       54       54    1   DCL DESC#4(0:0) CONSTANT CHAR(8) INIT('$IOBUFSZ');
       55       55    1   DCL DESC#4SZ(0:0) CONSTANT UBIN INIT(8);
       56       56    1   DCL DESC#0_9(0:21) CHAR(4) CONSTANT INIT(
       57       57    1        '$R1','$R2',
       58       58    1        '$R3','$R4','$R5','$R6','$R7','$M1','$M2','$M3','$M4',
       59       59    1        '$M5','$M6','$M7','$T','$S','$A','$IV','$Z','$ASV',
       60       60    1        '$CI','$IND');
       61       61    1   DCL DESC#0SZ_9(0:21) UBIN CONSTANT INIT(
       62       62    1        3*14,2*3,3,2,4,3,4);
       63       63    1   DCL DESC#1235_9(0:4) CHAR(6) CONSTANT INIT(
       64       64    1        ' ','$ROSEG','$RDBR','$TSA','$AUTO');
       65       65    1   DCL DESC#1235SZ_9(0:4) UBIN CONSTANT INIT(
       66       66    1        1,6,5,4,5);
       67       67          /* Misc */
       68       68    1   DCL CHAR1 CHAR(1) BASED;
       69       69    1   DCL CHAR2 CHAR(2) BASED;
       70       70    1   DCL CHAR3 CHAR(3) BASED;
       71       71    1   DCL CHAR4 CHAR(4) BASED;
       72       72    1   DCL CHAR5 CHAR(5) BASED;
       73       73    1   DCL CHAR6 CHAR(6) BASED;
       74       74    1   DCL CHAR7 CHAR(7) BASED;
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:3    
       75       75        %INCLUDE XUH_MACRO_C;
       76      159        %INCLUDE DD_SD_M;
       77     1495        %S_D;
       78     2813        %INCLUDE DD$DITEM;
       12+    2916             %LIST;
       13+    2917    1        DCL SDD$ PTR;
       14+    2918    1        DCL ZITEM$ PTR;
       15+    2919    1        DCL SDD_L6$ PTR;
       16+    2920    1        DCL ZITEM_L6$ PTR;
       79     3494        %INCLUDE DD_ERR_C;
       80     3891          /* External routines */
       81     3892    1   DCL DDA$DISPFMT ENTRY(6) ALTRET;
       82     3893    1   DCL DDR$BUMPC_D$ ENTRY(1) ALTRET;
       83     3894    1   DCL DDR$BINTXT ENTRY(4);
       84     3895                                                /**/
       85     3896    1        IF ADDR(PNO_UDEFS) = ADDR(NIL)     /**/
       86     3897    1        THEN NO_UDEFS = '0'B;
       87     3898    1        ELSE NO_UDEFS = PNO_UDEFS;
       88     3899    1        MYBUF$ = ADDR(MYBUF);
       89     3900    1        VALUE = '0'B;
       90     3901    1        VALUE.L = ADDRESS;
       91     3902    1        IF NOT_IS
       92     3903    2        THEN DO;
       93     3904    2             TEXT$ = S_D.D$;
       94     3905    2             IF SEG ~= 6 AND
       95     3906    2               SEG ~= 9 AND
       96     3907    2               SEG ~= 10 AND
       97     3908    2               SEG ~= 11 AND
       98     3909    2               SEG ~= 12
       99     3910    3             THEN DO;
      100     3911    4                  DO CASE(SEG); /* Ignore format, print as segment id ->  offset */
      101     3912    4                    CASE(0, 2, 3);         /* $PSn, $ASn, $LSn */
      102     3913    4                       TEXT$ = S_D.D$;
      103     3914    4                       CALL DDR$BUMPC_D$(3) ALTRET(ARET);
      104     3915    4                       TEXT$ -> CHAR3 = SEGID(SEG);
      105     3916    4                       TEXT$ = S_D.D$;
      106     3917    4                       CALL DDR$BINTXT(MYBUF$, DESC#, %UINT_FMT, SIZE);
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:4    
      107     3918    4                       CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);
      108     3919    4                       TEXTR = MYBUF;
      109     3920    4                    CASE(1); /* $REAL,$VIRT,$IOBUF,$PSR,$ASR,$LSR,$SSR,$JIT,$HJIT */
      110     3921    4                       SIZE = SEGID2SZ(DESC#);
      111     3922    4                       TEXT$ = S_D.D$;
      112     3923    4                       CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);
      113     3924    4                       TEXTR = SEGID2(DESC#);
      114     3925    4                    CASE(5);               /* $DCBn */
      115     3926    4                       TEXT$ = S_D.D$;
      116     3927    4                       CALL DDR$BUMPC_D$(4) ALTRET(ARET);
      117     3928    4                       TEXT$ -> CHAR4 = '$DCB';
      118     3929    4                       TEXT$ = S_D.D$;
      119     3930    4                       CALL DDR$BINTXT(MYBUF$, DESC#, %UINT_FMT, SIZE);
      120     3931    4                       CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);
      121     3932    4                       TEXTR = MYBUF;
      122     3933    4                    CASE( 7 );             /* $SA, $PRIV, $HEAD */
      123     3934    4                       TEXT$ = S_D.D$;
      124     3935    5                       DO CASE(DESC#);
      125     3936    5                         CASE( 0 );        /* $SA */
      126     3937    5                            CALL DDR$BUMPC_D$(3) ALTRET(ARET);
      127     3938    5                            TEXT$ -> CHAR3 = '$SA';
      128     3939    5                            GOTO DONE;
      129     3940    5                         CASE( 1 );        /* $PRIV */
      130     3941    5                            CALL DDR$BUMPC_D$(5) ALTRET(ARET);
      131     3942    5                            TEXT$ -> CHAR5 = '$PRIV';
      132     3943    5                            GOTO DONE;
      133     3944    5                         CASE( 2 );        /* $HEAD */
      134     3945    5                            CALL DDR$BUMPC_D$(5) ALTRET(ARET);
      135     3946    5                            TEXT$ -> CHAR5 = '$HEAD';
      136     3947    5                         END;              /* DO CASE(DESC#) */
      137     3948    4                    CASE( 8 );             /* $CGn */
      138     3949    4                       TEXT$ = S_D.D$;
      139     3950    4                       CALL DDR$BUMPC_D$(3) ALTRET(ARET);
      140     3951    4                       TEXT$ -> CHAR3 = '$CG';
      141     3952    4                       TEXT$ = S_D.D$;
      142     3953    4                       CALL DDR$BINTXT(MYBUF$, DESC#, %UINT_FMT, SIZE);
      143     3954    4                       CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:5    
      144     3955    4                       TEXTR = MYBUF;
      145     3956    4                    CASE(13);
      146     3957    4                       CALL DDR$BUMPC_D$(4) ALTRET (ARET);
      147     3958    4                       TEXT$->CHAR4 = '$RES';
      148     3959    4                       GOTO DONE;
      149     3960    4                    END;                   /* DO CASE(SEG) */
      150     3961    3                  TEXT$ = S_D.D$;
      151     3962    3                  CALL DDR$BUMPC_D$(2) ALTRET(ARET);
      152     3963    3                  TEXT$ -> CHAR2 = '->';
      153     3964    3                  TEXT$ = S_D.D$;
      154     3965    3                  IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6 AND (SEG ~= 7 AND SEG ~= 5)
      155     3966    4                  THEN DO;
      156     3967    4                       S_D.ERROR = 308; /* E@SYMNOTFEP */
      157     3968    4                       GOTO ARET;
      158     3969    4                     END;
      159     3970    3                  IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST
      160     3971    3                  THEN CALL DDR$BINTXT(MYBUF$, VALUE.L, %OCT_FMT, SIZE);
      161     3972    3                  ELSE IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6
      162     3973    3                       THEN CALL DDR$BINTXT(MYBUF$, VALUE.L, %X_FMT, SIZE);
      163     3974    4                       ELSE DO;
      164     3975    4                            S_D.ERROR = 502; /* E@DELBUG */
      165     3976    4                            GOTO ARET;
      166     3977    4                          END;
      167     3978    3                  CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);
      168     3979    3                  TEXTR = MYBUF;
      169     3980    3                END;                       /* SEG ~= 6 */
      170     3981    3             ELSE DO;                      /* SEG = 6,9 */
      171     3982    4                  DO CASE(SEG);
      172     3983    4                    CASE(6);               /* Host special symbols */
      173     3984    5                       DO CASE( DESC# );
      174     3985    5                         CASE( 0 );        /* $E, $A, $Q, $Xn, $IND, $IC */
      175     3986    5                            IF VALUE.L = 12 /* $IC */
      176     3987    5                              AND S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6
      177     3988    5                            THEN VALUE.L = 13; /* display $P instead */
      178     3989    5                            SIZE = DESC#0SZ(VALUE.L);
      179     3990    5                            CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);
      180     3991    5                            TEXTR = DESC#0(VALUE.L);
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:6    
      181     3992    5                            IF VALUE.L >= 3
      182     3993    5                              AND VALUE.L <= 10 /* $Xn */
      183     3994    5                              OR VALUE.L >= 12 /* $IC */
      184     3995    5                            THEN S_D.FNDENTDEF = '1'B; /* FORCE REL_FMT */
      185     3996    5                         CASE( 1 );        /* $ARn */
      186     3997    5                            CALL DDR$BUMPC_D$(4) ALTRET(ARET);
      187     3998    5                            TEXT$ -> CHAR3 = '$AR';
      188     3999    5                            CALL BINCHAR(PINCRC(TEXT$, 3) -> CHAR1, VALUE.L);
      189     4000    5                         CASE( 2 );        /* $PRn */
      190     4001    5                            CALL DDR$BUMPC_D$(4) ALTRET(ARET);
      191     4002    5                            TEXT$ -> CHAR3 = '$PR';
      192     4003    5                            CALL BINCHAR(PINCRC(TEXT$, 3) -> CHAR1, VALUE.L);
      193     4004    5                         CASE( 3 );        /* $AU, $AL, $QU, $QL     */
      194     4005    5                            SIZE = DESC#3SZ(VALUE.L);
      195     4006    5                            CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);
      196     4007    5                            TEXTR = DESC#3(VALUE.L);
      197     4008    5                         CASE( 4 );        /* $IOBUFSZ */
      198     4009    5                            SIZE = DESC#4SZ(VALUE.L);
      199     4010    5                            CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);
      200     4011    5                            TEXTR = DESC#4(VALUE.L);
      201     4012    5                         CASE( 5 );        /* $WSRn */
      202     4013    5                            CALL DDR$BUMPC_D$(5) ALTRET(ARET);
      203     4014    5                            TEXT$ -> CHAR4 = '$WSR';
      204     4015    5                            CALL BINCHAR(PINCRC(TEXT$, 4) -> CHAR1, VALUE.L);
      205     4016    5                         CASE( 6 );        /* $WSQn */
      206     4017    5                            CALL DDR$BUMPC_D$(4) ALTRET(ARET);
      207     4018    5                            TEXT$ -> CHAR4 = '$WSQ';
      208     4019    5                            TEXT$ = S_D.D$;
      209     4020    5                            CALL DDR$BINTXT(MYBUF$, VALUE.L, %UINT_FMT, SIZE);
      210     4021    5                            CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);
      211     4022    5                            TEXTR = MYBUF;
      212     4023    5                         CASE( 7 );        /* $FMASK, $FRANGE */
      213     4024    5                            IF ADDRESS = 0
      214     4025    6                            THEN DO;
      215     4026    6                                 CALL DDR$BUMPC_D$(6) ALTRET(ARET);
      216     4027    6                                 TEXT$ -> CHAR6 = '$FMASK';
      217     4028    6                               END;
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:7    
      218     4029    6                            ELSE DO;
      219     4030    6                                 CALL DDR$BUMPC_D$(7) ALTRET(ARET);
      220     4031    6                                 TEXT$ -> CHAR7 = '$FRANGE';
      221     4032    6                               END;
      222     4033    5                         END;              /* DO CASE(DESC#) */
      223     4034    4                    CASE(9);               /* L6 special symbols */
      224     4035    5                       DO CASE( DESC# );
      225     4036    5                         CASE( 0 );        /* $Rn, $Mn, $T, $S, $A,  */
      226     4037                                                /* $IV, $Z, $ASV, $CI, $IND */
      227     4038    5                            SIZE = DESC#0SZ_9(VALUE.L);
      228     4039    5                            CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);
      229     4040    5                            TEXTR = DESC#0_9(VALUE.L);
      230     4041    5                         CASE( 1, 3, 4);   /* $ROSEG, $TSA, $AUTO */
      231     4042    5                            SIZE = DESC#1235SZ_9(DESC#);
      232     4043    5                            CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);
      233     4044    5                            TEXTR = DESC#1235_9(DESC#);
      234     4045    5                            TEXT$ = S_D.D$;
      235     4046    5                            CALL DDR$BUMPC_D$(2) ALTRET(ARET);
      236     4047    5                            TEXT$ -> CHAR2 = '->';
      237     4048    5                            GOTO DO_ADR;
      238     4049    5                         CASE(2);          /* $RDBR */
      239     4050    5                            SIZE = DESC#1235SZ_9(DESC#);
      240     4051    5                            CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);
      241     4052    5                            TEXTR = DESC#1235_9(DESC#);
      242     4053    5                            TEXT$ = S_D.D$;
      243     4054    5                            IF S_D.IS_PTR
      244     4055    6                            THEN DO;
      245     4056    6                                 CALL DDR$BUMPC_D$(2) ALTRET(ARET);
      246     4057    6                                 TEXT$ -> CHAR2 = '->';
      247     4058    6                                 GOTO DO_ADR;
      248     4059    6                               END;
      249     4060    5                         END;              /* DO CASE (DESC#) */
      250     4061    4                    CASE( 10 );            /* $Bn */
      251     4062    4                       CALL DDR$BUMPC_D$(3) ALTRET(ARET);
      252     4063    4                       TEXT$ -> CHAR2 = '$B';
      253     4064    4                       CALL BINCHAR(PINCRC(TEXT$, 2) -> CHAR1, DESC#);
      254     4065    4                       IF S_D.IS_PTR
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:8    
      255     4066    5                       THEN DO;
      256     4067    5                            TEXT$ = S_D.D$;
      257     4068    5                            CALL DDR$BUMPC_D$(2) ALTRET(ARET);
      258     4069    5                            TEXT$ -> CHAR2 = '->';
      259     4070    5                            GOTO DO_ADR;
      260     4071    5                          END;
      261     4072    4                    CASE( 11 );            /* $DSn */
      262     4073    4                       CALL DDR$BUMPC_D$(4) ALTRET(ARET);
      263     4074    4                       TEXT$ -> CHAR3 = '$DS';
      264     4075    4                       CALL BINCHAR(PINCRC(TEXT$, 3) -> CHAR1, DESC#);
      265     4076    4                       TEXT$ = S_D.D$;
      266     4077    4                       CALL DDR$BUMPC_D$(2) ALTRET(ARET);
      267     4078    4                       TEXT$ -> CHAR2 = '->';
      268     4079    4                       GOTO DO_ADR;
      269     4080    4                    CASE( 12 );            /* $ISn */
      270     4081    4                       CALL DDR$BUMPC_D$(4) ALTRET(ARET);
      271     4082    4                       TEXT$ -> CHAR3 = '$IS';
      272     4083    4                       CALL BINCHAR(PINCRC(TEXT$, 3) -> CHAR1, DESC#);
      273     4084    4                       TEXT$ = S_D.D$;
      274     4085    4                       CALL DDR$BUMPC_D$(2) ALTRET(ARET);
      275     4086    4                       TEXT$ -> CHAR2 = '->';
      276     4087    4                       GOTO DO_ADR;
      277     4088    4                    END;
      278     4089    3   DONE:          ;
      279     4090    3                  RETURN;
      280     4091    3                END;                       /* SEG = 6 */
      281     4092    2           END;                            /* NOT_IS */
      282     4093    2        ELSE DO;                           /* Print ADDRESS per requested format */
      283     4094    2   DO_ADR:   ;
      284     4095    2             IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6
      285     4096    3             THEN DO;
      286     4097    3                  VALUE = '0'B;
      287     4098    3                  IF LEN > 16
      288     4099    4                  THEN DO;
      289     4100    4                       VALUE.L = L6ADR.L16;
      290     4101    4                       VALUE.R = L6ADR.R16;
      291     4102    4                     END;
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:9    
      292     4103    3                  ELSE VALUE.L = L6ADR.R16;
      293     4104    3                END;
      294     4105    2             CALL DDA$DISPFMT(FMT, LEN, VALUE, , NO_UDEFS) ALTRET(ARET);
      295     4106    2           END;
      296     4107    1        RETURN;
      297     4108    1   ARET:
      298     4109    1        ALTRETURN;
      299     4110    1   END DDA$DISPADR;

PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:10   
--  Include file information  --

   DD_ERR_C.:E05TOU  is referenced.
   DD_SRTN_C.:E05TOU  is referenced.
   DD_ACODE_C.:E05TOU  is referenced.
   DD_ICODE_C.:E05TOU  is referenced.
   DD$DITEM.:E05TOU  cannot be made into a system file and is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DDA$DISPADR.

   Procedure DDA$DISPADR requires 708 words for executable code.
   Procedure DDA$DISPADR requires 32 words of local(AUTO) storage.

    No errors detected in file DDA$DISPADR.:E05TSI    .

PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:11   

 Object Unit name= DDA$DISPADR                                File name= DDA$DISPADR.:E05TOU
 UTS= JUL 29 '97 13:20:25.96 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS    152    230  DDA$DISPADR
    1   Proc  even  none   708   1304  DDA$DISPADR
    2  RoData even  none     9     11  DDA$DISPADR

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes    yes     yes      Std        7  DDA$DISPADR

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       1 DDR$BUMPC_D$
         yes           Std       4 DDR$BINTXT
 yes     yes           Std       6 DDA$DISPFMT
                       nStd      0 X66_AUTO_N
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:12   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    S_D$                                  B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:13   


        1        1        /*M*  DDA$DISPADR - Routine for formatting address output */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MCL=4,DCI=5,CRT=5 */
        8        8        %SET LISTSUB='1'B;
        9        9        /*F*  NAME: DDA$DISPADR
       10       10              PURPOSE: To format an evaluated address for output.
       11       11              DESCRIPTION: Formats the input address into one of three
       12       12                  formats : ENTDEF / SYMDEF + offset if NOT_IS = '0'b & D_SYMBOLS = '1'B
       13       13                           octal address for Host users if NOT_IS = '0'b & D_SYMBOLS = '1'B
       14       14                            hex address for L6 users if NOT_IS = '0'B & D_SYMBOLS = '1'B
       15       15                            SEGID -> offset if NOT_IS = '1'b.
       16       16                                                     */
       17       17        DDA$DISPADR: PROC(ADDRESS, SEG, DESC#, NOT_IS, FMT, PNO_UDEFS, LEN) ALTRET;

     17  1 000000   000000 700200 xent  DDA$DISPADR  TSX0  ! X66_AUTO_N
         1 000001   000040 000007                    ZERO    32,7

       18       18          /* Parms */
       19       19    1   DCL ADDRESS SBIN;
       20       20    1   DCL 1 L6ADR REDEF ADDRESS,
       21       21    1         2 * BIT(4) UNAL,
       22       22    1         2 L16 UBIN(16) UNAL,
       23       23    1         2 R16 UBIN(16) UNAL;
       24       24    1   DCL SEG UBIN;
       25       25    1   DCL DESC# UBIN;
       26       26    1   DCL NOT_IS BIT(1) ALIGNED;
       27       27    1   DCL FMT UBIN;
       28       28    1   DCL PNO_UDEFS BIT(1) ALIGNED; /* Set if DCR$POSIT not to search user defs */
       29       29    1   DCL LEN UBIN;
       30       30          /* Locals */
       31       31    1   DCL NO_UDEFS BIT(1) ALIGNED;
       32       32    1   DCL 1 VALUE DALIGNED,
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:14   
       33       33    1         2 L UBIN UNAL,
       34       34    1         2 R UBIN UNAL;
       35       35    1   DCL TEXT$ PTR;
       36       36    1   DCL SIZE UBIN;
       37       37    1   DCL MYBUF CHAR(13);
       38       38    1   DCL MYBUF$ PTR;
       39       39    1   DCL TEXTR CHAR(SIZE) BASED(TEXT$);
       40       40    1   DCL SEGID(0:3) CHAR(3) CONSTANT INIT(
       41       41    1        '$PS','$$$','$AS','$LS');
       42       42    1   DCL SEGID2(0:13) CHAR(6) CONSTANT INIT(
       43       43    1        '$REAL','$VIRT','$IOBUF','$PSR','$ASR','$LSR','$SSR','$JIT','$HJIT','$TCB',
       44       44    1        '$SAD','$RVB','$USD','$ERR');
       45       45    1   DCL SEGID2SZ(0:13) UBIN CONSTANT INIT(5,5,6,4,4,4,4,4,5,4,4,4,4,4);
       46       46    1   DCL DESC#0(0:13) CHAR(4) CONSTANT INIT(
       47       47    1        '$E','$A','$Q','$X0','$X1','$X2','$X3','$X4','$X5','$X6','$X7',
       48       48    1        '$IND','$IC','$P');
       49       49    1   DCL DESC#0SZ(0:13) UBIN CONSTANT INIT(
       50       50    1        2,2,2,3*8,4,3,2);
       51       51    1   DCL DESC#3(0:3) CHAR(3) CONSTANT INIT(
       52       52    1        '$AU','$AL','$QU','$QL');
       53       53    1   DCL DESC#3SZ(0:3) CONSTANT UBIN INIT(3*4);
       54       54    1   DCL DESC#4(0:0) CONSTANT CHAR(8) INIT('$IOBUFSZ');
       55       55    1   DCL DESC#4SZ(0:0) CONSTANT UBIN INIT(8);
       56       56    1   DCL DESC#0_9(0:21) CHAR(4) CONSTANT INIT(
       57       57    1        '$R1','$R2',
       58       58    1        '$R3','$R4','$R5','$R6','$R7','$M1','$M2','$M3','$M4',
       59       59    1        '$M5','$M6','$M7','$T','$S','$A','$IV','$Z','$ASV',
       60       60    1        '$CI','$IND');
       61       61    1   DCL DESC#0SZ_9(0:21) UBIN CONSTANT INIT(
       62       62    1        3*14,2*3,3,2,4,3,4);
       63       63    1   DCL DESC#1235_9(0:4) CHAR(6) CONSTANT INIT(
       64       64    1        ' ','$ROSEG','$RDBR','$TSA','$AUTO');
       65       65    1   DCL DESC#1235SZ_9(0:4) UBIN CONSTANT INIT(
       66       66    1        1,6,5,4,5);
       67       67          /* Misc */
       68       68    1   DCL CHAR1 CHAR(1) BASED;
       69       69    1   DCL CHAR2 CHAR(2) BASED;
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:15   
       70       70    1   DCL CHAR3 CHAR(3) BASED;
       71       71    1   DCL CHAR4 CHAR(4) BASED;
       72       72    1   DCL CHAR5 CHAR(5) BASED;
       73       73    1   DCL CHAR6 CHAR(6) BASED;
       74       74    1   DCL CHAR7 CHAR(7) BASED;
       75       75        %INCLUDE XUH_MACRO_C;
       76      159        %INCLUDE DD_SD_M;
       77     1495        %S_D;
       78     2813        %INCLUDE DD$DITEM;
       12+    2916             %LIST;
       13+    2917    1        DCL SDD$ PTR;
       14+    2918    1        DCL ZITEM$ PTR;
       15+    2919    1        DCL SDD_L6$ PTR;
       16+    2920    1        DCL ZITEM_L6$ PTR;
       79     3494        %INCLUDE DD_ERR_C;
       80     3891          /* External routines */
       81     3892    1   DCL DDA$DISPFMT ENTRY(6) ALTRET;
       82     3893    1   DCL DDR$BUMPC_D$ ENTRY(1) ALTRET;
       83     3894    1   DCL DDR$BINTXT ENTRY(4);
       84     3895                                                /**/
       85     3896    1        IF ADDR(PNO_UDEFS) = ADDR(NIL)     /**/

   3896  1 000002   200010 236100                    LDQ     @PNO_UDEFS,,AUTO
         1 000003   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000004   000007 601000 1                  TNZ     s:3898

       86     3897    1        THEN NO_UDEFS = '0'B;

   3897  1 000005   200012 450100                    STZ     NO_UDEFS,,AUTO
         1 000006   000013 710000 1                  TRA     s:3899

       87     3898    1        ELSE NO_UDEFS = PNO_UDEFS;

   3898  1 000007   200010 470500                    LDP0    @PNO_UDEFS,,AUTO
         1 000010   000000 236100                    LDQ     0,,PR0
         1 000011   400000 376003                    ANQ     -131072,DU
         1 000012   200012 756100                    STQ     NO_UDEFS,,AUTO
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:16   

       88     3899    1        MYBUF$ = ADDR(MYBUF);

   3899  1 000013   200020 630500                    EPPR0   MYBUF,,AUTO
         1 000014   200024 450500                    STP0    MYBUF$,,AUTO

       89     3900    1        VALUE = '0'B;

   3900  1 000015   000000 235003                    LDA     0,DU
         1 000016   000000 236003                    LDQ     0,DU
         1 000017   200014 757100                    STAQ    VALUE,,AUTO

       90     3901    1        VALUE.L = ADDRESS;

   3901  1 000020   200003 471500                    LDP1    @ADDRESS,,AUTO
         1 000021   100000 235100                    LDA     0,,PR1
         1 000022   200014 755100                    STA     VALUE,,AUTO

       91     3902    1        IF NOT_IS

   3902  1 000023   200006 473500                    LDP3    @NOT_IS,,AUTO
         1 000024   300000 234100                    SZN     0,,PR3
         1 000025   001235 605000 1                  TPL     DO_ADR

       92     3903    2        THEN DO;

       93     3904    2             TEXT$ = S_D.D$;

   3904  1 000026   000000 474400 xsym               LDP4    S_D$
         1 000027   400044 236100                    LDQ     36,,PR4
         1 000030   200016 756100                    STQ     TEXT$,,AUTO

       94     3905    2             IF SEG ~= 6 AND

   3905  1 000031   200004 475500                    LDP5    @SEG,,AUTO
         1 000032   500000 235100                    LDA     0,,PR5
         1 000033   000006 115007                    CMPA    6,DL
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:17   
         1 000034   000457 600000 1                  TZE     s:3982
         1 000035   000011 115007                    CMPA    9,DL
         1 000036   000457 600000 1                  TZE     s:3982
         1 000037   000012 115007                    CMPA    10,DL
         1 000040   000457 600000 1                  TZE     s:3982
         1 000041   000013 115007                    CMPA    11,DL
         1 000042   000457 600000 1                  TZE     s:3982
         1 000043   000014 115007                    CMPA    12,DL
         1 000044   000457 600000 1                  TZE     s:3982

       95     3906    2               SEG ~= 9 AND
       96     3907    2               SEG ~= 10 AND
       97     3908    2               SEG ~= 11 AND
       98     3909    2               SEG ~= 12
       99     3910    3             THEN DO;

      100     3911    4                  DO CASE(SEG); /* Ignore format, print as segment id ->  offset */

   3911  1 000045   000016 115007                    CMPA    14,DL
         1 000046   000050 602005 1                  TNC     s:3911+3,AL
         1 000047   000347 710000 1                  TRA     s:3961
         1 000050   000066 710000 1                  TRA     s:3913
         1 000051   000135 710000 1                  TRA     s:3921
         1 000052   000066 710000 1                  TRA     s:3913
         1 000053   000066 710000 1                  TRA     s:3913
         1 000054   000347 710000 1                  TRA     s:3961
         1 000055   000162 710000 1                  TRA     s:3926
         1 000056   000347 710000 1                  TRA     s:3961
         1 000057   000226 710000 1                  TRA     s:3934
         1 000060   000272 710000 1                  TRA     s:3949
         1 000061   000347 710000 1                  TRA     s:3961
         1 000062   000347 710000 1                  TRA     s:3961
         1 000063   000347 710000 1                  TRA     s:3961
         1 000064   000347 710000 1                  TRA     s:3961
         1 000065   000336 710000 1                  TRA     s:3957

      101     3912    4                    CASE(0, 2, 3);         /* $PSn, $ASn, $LSn */
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:18   

      102     3913    4                       TEXT$ = S_D.D$;

   3913  1 000066   200016 756100                    STQ     TEXT$,,AUTO

      103     3914    4                       CALL DDR$BUMPC_D$(3) ALTRET(ARET);

   3914  1 000067   000000 630400 2                  EPPR0   0
         1 000070   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000071   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000072   001303 702000 1                  TSX2    ARET

      104     3915    4                       TEXT$ -> CHAR3 = SEGID(SEG);

   3915  1 000073   200004 470500                    LDP0    @SEG,,AUTO
         1 000074   000000 236100                    LDQ     0,,PR0
         1 000075   000003 402007                    MPY     3,DL
         1 000076   200016 471500                    LDP1    TEXT$,,AUTO
         1 000077   040100 100406                    MLR     fill='040'O
         1 000100   000000 000003 0                  ADSC9   SEGID,Q                  cn=0,n=3
         1 000101   100000 000003                    ADSC9   0,,PR1                   cn=0,n=3

      105     3916    4                       TEXT$ = S_D.D$;

   3916  1 000102   000000 473400 xsym               LDP3    S_D$
         1 000103   300044 236100                    LDQ     36,,PR3
         1 000104   200016 756100                    STQ     TEXT$,,AUTO

      106     3917    4                       CALL DDR$BINTXT(MYBUF$, DESC#, %UINT_FMT, SIZE);

   3917  1 000105   200017 631500                    EPPR1   SIZE,,AUTO
         1 000106   200035 451500                    STP1    MYBUF$+9,,AUTO
         1 000107   000001 236000 2                  LDQ     1
         1 000110   200034 756100                    STQ     MYBUF$+8,,AUTO
         1 000111   200005 236100                    LDQ     @DESC#,,AUTO
         1 000112   200033 756100                    STQ     MYBUF$+7,,AUTO
         1 000113   200024 634500                    EPPR4   MYBUF$,,AUTO
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:19   
         1 000114   200032 454500                    STP4    MYBUF$+6,,AUTO
         1 000115   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000116   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000117   000000 701000 xent               TSX1    DDR$BINTXT
         1 000120   000000 011000                    NOP     0

      107     3918    4                       CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);

   3918  1 000121   200017 630500                    EPPR0   SIZE,,AUTO
         1 000122   200032 450500                    STP0    MYBUF$+6,,AUTO
         1 000123   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000124   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000125   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000126   001303 702000 1                  TSX2    ARET

      108     3919    4                       TEXTR = MYBUF;

   3919  1 000127   200016 470500                    LDP0    TEXT$,,AUTO
         1 000130   200017 720100                    LXL0    SIZE,,AUTO
         1 000131   040140 100500                    MLR     fill='040'O
         1 000132   200020 000015                    ADSC9   MYBUF,,AUTO              cn=0,n=13
         1 000133   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         1 000134   000347 710000 1                  TRA     s:3961

      109     3920    4                    CASE(1); /* $REAL,$VIRT,$IOBUF,$PSR,$ASR,$LSR,$SSR,$JIT,$HJIT */

      110     3921    4                       SIZE = SEGID2SZ(DESC#);

   3921  1 000135   200005 476500                    LDP6    @DESC#,,AUTO
         1 000136   600000 720100                    LXL0    0,,PR6
         1 000137   000030 235010 0                  LDA     SEGID2SZ,X0
         1 000140   200017 755100                    STA     SIZE,,AUTO

      111     3922    4                       TEXT$ = S_D.D$;

   3922  1 000141   200016 756100                    STQ     TEXT$,,AUTO

PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:20   
      112     3923    4                       CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);

   3923  1 000142   200017 637500                    EPPR7   SIZE,,AUTO
         1 000143   200032 457500                    STP7    MYBUF$+6,,AUTO
         1 000144   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000145   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000146   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000147   001303 702000 1                  TSX2    ARET

      113     3924    4                       TEXTR = SEGID2(DESC#);

   3924  1 000150   200005 470500                    LDP0    @DESC#,,AUTO
         1 000151   000000 235100                    LDA     0,,PR0
         1 000152   000044 733000                    LRS     36
         1 000153   000006 402007                    MPY     6,DL
         1 000154   200016 471500                    LDP1    TEXT$,,AUTO
         1 000155   200017 720100                    LXL0    SIZE,,AUTO
         1 000156   040140 100406                    MLR     fill='040'O
         1 000157   000003 000006 0                  ADSC9   SEGID2,Q                 cn=0,n=6
         1 000160   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0
         1 000161   000347 710000 1                  TRA     s:3961

      114     3925    4                    CASE(5);               /* $DCBn */

      115     3926    4                       TEXT$ = S_D.D$;

   3926  1 000162   200016 756100                    STQ     TEXT$,,AUTO

      116     3927    4                       CALL DDR$BUMPC_D$(4) ALTRET(ARET);

   3927  1 000163   000002 630400 2                  EPPR0   2
         1 000164   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000165   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000166   001303 702000 1                  TSX2    ARET

      117     3928    4                       TEXT$ -> CHAR4 = '$DCB';

PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:21   
   3928  1 000167   200016 470500                    LDP0    TEXT$,,AUTO
         1 000170   040100 100400                    MLR     fill='040'O
         1 000171   000205 000004 0                  ADSC9   DESC#1235SZ_9+5          cn=0,n=4
         1 000172   000000 000004                    ADSC9   0,,PR0                   cn=0,n=4

      118     3929    4                       TEXT$ = S_D.D$;

   3929  1 000173   000000 471400 xsym               LDP1    S_D$
         1 000174   100044 236100                    LDQ     36,,PR1
         1 000175   200016 756100                    STQ     TEXT$,,AUTO

      119     3930    4                       CALL DDR$BINTXT(MYBUF$, DESC#, %UINT_FMT, SIZE);

   3930  1 000176   200017 630500                    EPPR0   SIZE,,AUTO
         1 000177   200035 450500                    STP0    MYBUF$+9,,AUTO
         1 000200   000001 236000 2                  LDQ     1
         1 000201   200034 756100                    STQ     MYBUF$+8,,AUTO
         1 000202   200005 236100                    LDQ     @DESC#,,AUTO
         1 000203   200033 756100                    STQ     MYBUF$+7,,AUTO
         1 000204   200024 633500                    EPPR3   MYBUF$,,AUTO
         1 000205   200032 453500                    STP3    MYBUF$+6,,AUTO
         1 000206   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000207   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000210   000000 701000 xent               TSX1    DDR$BINTXT
         1 000211   000000 011000                    NOP     0

      120     3931    4                       CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);

   3931  1 000212   200017 630500                    EPPR0   SIZE,,AUTO
         1 000213   200032 450500                    STP0    MYBUF$+6,,AUTO
         1 000214   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000215   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000216   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000217   001303 702000 1                  TSX2    ARET

      121     3932    4                       TEXTR = MYBUF;

PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:22   
   3932  1 000220   200016 470500                    LDP0    TEXT$,,AUTO
         1 000221   200017 720100                    LXL0    SIZE,,AUTO
         1 000222   040140 100500                    MLR     fill='040'O
         1 000223   200020 000015                    ADSC9   MYBUF,,AUTO              cn=0,n=13
         1 000224   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         1 000225   000347 710000 1                  TRA     s:3961

      122     3933    4                    CASE( 7 );             /* $SA, $PRIV, $HEAD */

      123     3934    4                       TEXT$ = S_D.D$;

   3934  1 000226   200016 756100                    STQ     TEXT$,,AUTO

      124     3935    5                       DO CASE(DESC#);

   3935  1 000227   200005 476500                    LDP6    @DESC#,,AUTO
         1 000230   600000 235100                    LDA     0,,PR6
         1 000231   000003 115007                    CMPA    3,DL
         1 000232   000234 602005 1                  TNC     s:3935+5,AL
         1 000233   000347 710000 1                  TRA     s:3961
         1 000234   000237 710000 1                  TRA     s:3937
         1 000235   000250 710000 1                  TRA     s:3941
         1 000236   000261 710000 1                  TRA     s:3945

      125     3936    5                         CASE( 0 );        /* $SA */

      126     3937    5                            CALL DDR$BUMPC_D$(3) ALTRET(ARET);

   3937  1 000237   000000 630400 2                  EPPR0   0
         1 000240   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000241   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000242   001303 702000 1                  TSX2    ARET

      127     3938    5                            TEXT$ -> CHAR3 = '$SA';

   3938  1 000243   200016 470500                    LDP0    TEXT$,,AUTO
         1 000244   040100 100400                    MLR     fill='040'O
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:23   
         1 000245   000206 000003 0                  ADSC9   DESC#1235SZ_9+6          cn=0,n=3
         1 000246   000000 000003                    ADSC9   0,,PR0                   cn=0,n=3

      128     3939    5                            GOTO DONE;

   3939  1 000247   001234 710000 1                  TRA     DONE

      129     3940    5                         CASE( 1 );        /* $PRIV */

      130     3941    5                            CALL DDR$BUMPC_D$(5) ALTRET(ARET);

   3941  1 000250   000003 630400 2                  EPPR0   3
         1 000251   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000252   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000253   001303 702000 1                  TSX2    ARET

      131     3942    5                            TEXT$ -> CHAR5 = '$PRIV';

   3942  1 000254   200016 470500                    LDP0    TEXT$,,AUTO
         1 000255   040100 100400                    MLR     fill='040'O
         1 000256   000207 000005 0                  ADSC9   DESC#1235SZ_9+7          cn=0,n=5
         1 000257   000000 000005                    ADSC9   0,,PR0                   cn=0,n=5

      132     3943    5                            GOTO DONE;

   3943  1 000260   001234 710000 1                  TRA     DONE

      133     3944    5                         CASE( 2 );        /* $HEAD */

      134     3945    5                            CALL DDR$BUMPC_D$(5) ALTRET(ARET);

   3945  1 000261   000003 630400 2                  EPPR0   3
         1 000262   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000263   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000264   001303 702000 1                  TSX2    ARET

      135     3946    5                            TEXT$ -> CHAR5 = '$HEAD';
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:24   

   3946  1 000265   200016 470500                    LDP0    TEXT$,,AUTO
         1 000266   040100 100400                    MLR     fill='040'O
         1 000267   000211 000005 0                  ADSC9   DESC#1235SZ_9+9          cn=0,n=5
         1 000270   000000 000005                    ADSC9   0,,PR0                   cn=0,n=5

      136     3947    5                         END;              /* DO CASE(DESC#) */

   3947  1 000271   000347 710000 1                  TRA     s:3961

      137     3948    4                    CASE( 8 );             /* $CGn */

      138     3949    4                       TEXT$ = S_D.D$;

   3949  1 000272   200016 756100                    STQ     TEXT$,,AUTO

      139     3950    4                       CALL DDR$BUMPC_D$(3) ALTRET(ARET);

   3950  1 000273   000000 630400 2                  EPPR0   0
         1 000274   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000275   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000276   001303 702000 1                  TSX2    ARET

      140     3951    4                       TEXT$ -> CHAR3 = '$CG';

   3951  1 000277   200016 470500                    LDP0    TEXT$,,AUTO
         1 000300   040100 100400                    MLR     fill='040'O
         1 000301   000213 000003 0                  ADSC9   DESC#1235SZ_9+11         cn=0,n=3
         1 000302   000000 000003                    ADSC9   0,,PR0                   cn=0,n=3

      141     3952    4                       TEXT$ = S_D.D$;

   3952  1 000303   000000 471400 xsym               LDP1    S_D$
         1 000304   100044 236100                    LDQ     36,,PR1
         1 000305   200016 756100                    STQ     TEXT$,,AUTO

      142     3953    4                       CALL DDR$BINTXT(MYBUF$, DESC#, %UINT_FMT, SIZE);
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:25   

   3953  1 000306   200017 630500                    EPPR0   SIZE,,AUTO
         1 000307   200035 450500                    STP0    MYBUF$+9,,AUTO
         1 000310   000001 236000 2                  LDQ     1
         1 000311   200034 756100                    STQ     MYBUF$+8,,AUTO
         1 000312   200005 236100                    LDQ     @DESC#,,AUTO
         1 000313   200033 756100                    STQ     MYBUF$+7,,AUTO
         1 000314   200024 633500                    EPPR3   MYBUF$,,AUTO
         1 000315   200032 453500                    STP3    MYBUF$+6,,AUTO
         1 000316   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000317   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000320   000000 701000 xent               TSX1    DDR$BINTXT
         1 000321   000000 011000                    NOP     0

      143     3954    4                       CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);

   3954  1 000322   200017 630500                    EPPR0   SIZE,,AUTO
         1 000323   200032 450500                    STP0    MYBUF$+6,,AUTO
         1 000324   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000325   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000326   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000327   001303 702000 1                  TSX2    ARET

      144     3955    4                       TEXTR = MYBUF;

   3955  1 000330   200016 470500                    LDP0    TEXT$,,AUTO
         1 000331   200017 720100                    LXL0    SIZE,,AUTO
         1 000332   040140 100500                    MLR     fill='040'O
         1 000333   200020 000015                    ADSC9   MYBUF,,AUTO              cn=0,n=13
         1 000334   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         1 000335   000347 710000 1                  TRA     s:3961

      145     3956    4                    CASE(13);

      146     3957    4                       CALL DDR$BUMPC_D$(4) ALTRET (ARET);

   3957  1 000336   000002 630400 2                  EPPR0   2
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:26   
         1 000337   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000340   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000341   001303 702000 1                  TSX2    ARET

      147     3958    4                       TEXT$->CHAR4 = '$RES';

   3958  1 000342   200016 470500                    LDP0    TEXT$,,AUTO
         1 000343   040100 100400                    MLR     fill='040'O
         1 000344   000214 000004 0                  ADSC9   DESC#1235SZ_9+12         cn=0,n=4
         1 000345   000000 000004                    ADSC9   0,,PR0                   cn=0,n=4

      148     3959    4                       GOTO DONE;

   3959  1 000346   001234 710000 1                  TRA     DONE

      149     3960    4                    END;                   /* DO CASE(SEG) */

      150     3961    3                  TEXT$ = S_D.D$;

   3961  1 000347   000000 470400 xsym               LDP0    S_D$
         1 000350   000044 236100                    LDQ     36,,PR0
         1 000351   200016 756100                    STQ     TEXT$,,AUTO

      151     3962    3                  CALL DDR$BUMPC_D$(2) ALTRET(ARET);

   3962  1 000352   000001 630400 2                  EPPR0   1
         1 000353   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000354   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000355   001303 702000 1                  TSX2    ARET

      152     3963    3                  TEXT$ -> CHAR2 = '->';

   3963  1 000356   200016 470500                    LDP0    TEXT$,,AUTO
         1 000357   040100 100400                    MLR     fill='040'O
         1 000360   000215 000002 0                  ADSC9   DESC#1235SZ_9+13         cn=0,n=2
         1 000361   000000 000002                    ADSC9   0,,PR0                   cn=0,n=2

PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:27   
      153     3964    3                  TEXT$ = S_D.D$;

   3964  1 000362   000000 471400 xsym               LDP1    S_D$
         1 000363   100044 236100                    LDQ     36,,PR1
         1 000364   200016 756100                    STQ     TEXT$,,AUTO

      154     3965    3                  IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6 AND (SEG ~= 7 AND SEG ~= 5)

   3965  1 000365   106714 235100                    LDA     3532,,PR1
         1 000366   000002 115007                    CMPA    2,DL
         1 000367   000401 601000 1                  TNZ     s:3970
         1 000370   200004 470500                    LDP0    @SEG,,AUTO
         1 000371   000000 235100                    LDA     0,,PR0
         1 000372   000007 115007                    CMPA    7,DL
         1 000373   000401 600000 1                  TZE     s:3970
         1 000374   000005 115007                    CMPA    5,DL
         1 000375   000401 600000 1                  TZE     s:3970

      155     3966    4                  THEN DO;

      156     3967    4                       S_D.ERROR = 308; /* E@SYMNOTFEP */

   3967  1 000376   000464 235007                    LDA     308,DL
         1 000377   100013 755100                    STA     11,,PR1

      157     3968    4                       GOTO ARET;

   3968  1 000400   001303 710000 1                  TRA     ARET

      158     3969    4                     END;
      159     3970    3                  IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %HOST

   3970  1 000401   106714 235100                    LDA     3532,,PR1
         1 000402   000001 115007                    CMPA    1,DL
         1 000403   000421 601000 1                  TNZ     s:3972

      160     3971    3                  THEN CALL DDR$BINTXT(MYBUF$, VALUE.L, %OCT_FMT, SIZE);
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:28   

   3971  1 000404   200017 630500                    EPPR0   SIZE,,AUTO
         1 000405   200035 450500                    STP0    MYBUF$+9,,AUTO
         1 000406   000004 236000 2                  LDQ     4
         1 000407   200034 756100                    STQ     MYBUF$+8,,AUTO
         1 000410   200014 633500                    EPPR3   VALUE,,AUTO
         1 000411   200033 453500                    STP3    MYBUF$+7,,AUTO
         1 000412   200024 634500                    EPPR4   MYBUF$,,AUTO
         1 000413   200032 454500                    STP4    MYBUF$+6,,AUTO
         1 000414   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000415   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000416   000000 701000 xent               TSX1    DDR$BINTXT
         1 000417   000000 011000                    NOP     0
         1 000420   000443 710000 1                  TRA     s:3978

      161     3972    3                  ELSE IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6

   3972  1 000421   000002 115007                    CMPA    2,DL
         1 000422   000440 601000 1                  TNZ     s:3975

      162     3973    3                       THEN CALL DDR$BINTXT(MYBUF$, VALUE.L, %X_FMT, SIZE);

   3973  1 000423   200017 630500                    EPPR0   SIZE,,AUTO
         1 000424   200035 450500                    STP0    MYBUF$+9,,AUTO
         1 000425   000006 236000 2                  LDQ     6
         1 000426   200034 756100                    STQ     MYBUF$+8,,AUTO
         1 000427   200014 633500                    EPPR3   VALUE,,AUTO
         1 000430   200033 453500                    STP3    MYBUF$+7,,AUTO
         1 000431   200024 634500                    EPPR4   MYBUF$,,AUTO
         1 000432   200032 454500                    STP4    MYBUF$+6,,AUTO
         1 000433   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000434   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000435   000000 701000 xent               TSX1    DDR$BINTXT
         1 000436   000000 011000                    NOP     0
         1 000437   000443 710000 1                  TRA     s:3978

      163     3974    4                       ELSE DO;
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:29   

      164     3975    4                            S_D.ERROR = 502; /* E@DELBUG */

   3975  1 000440   000766 235007                    LDA     502,DL
         1 000441   100013 755100                    STA     11,,PR1

      165     3976    4                            GOTO ARET;

   3976  1 000442   001303 710000 1                  TRA     ARET

      166     3977    4                          END;
      167     3978    3                  CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);

   3978  1 000443   200017 630500                    EPPR0   SIZE,,AUTO
         1 000444   200032 450500                    STP0    MYBUF$+6,,AUTO
         1 000445   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000446   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000447   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000450   001303 702000 1                  TSX2    ARET

      168     3979    3                  TEXTR = MYBUF;

   3979  1 000451   200016 470500                    LDP0    TEXT$,,AUTO
         1 000452   200017 720100                    LXL0    SIZE,,AUTO
         1 000453   040140 100500                    MLR     fill='040'O
         1 000454   200020 000015                    ADSC9   MYBUF,,AUTO              cn=0,n=13
         1 000455   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0

      169     3980    3                END;                       /* SEG ~= 6 */

   3980  1 000456   001302 710000 1                  TRA     s:4107

      170     3981    3             ELSE DO;                      /* SEG = 6,9 */

      171     3982    4                  DO CASE(SEG);

   3982  1 000457   000006 135007                    SBLA    6,DL
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:30   
         1 000460   000007 115007                    CMPA    7,DL
         1 000461   000463 602005 1                  TNC     s:3982+4,AL
         1 000462   001234 710000 1                  TRA     DONE
         1 000463   000472 710000 1                  TRA     s:3984
         1 000464   001234 710000 1                  TRA     DONE
         1 000465   001234 710000 1                  TRA     DONE
         1 000466   000760 710000 1                  TRA     s:4035
         1 000467   001111 710000 1                  TRA     s:4062
         1 000470   001146 710000 1                  TRA     s:4073
         1 000471   001201 710000 1                  TRA     s:4081

      172     3983    4                    CASE(6);               /* Host special symbols */

      173     3984    5                       DO CASE( DESC# );

   3984  1 000472   200005 476500                    LDP6    @DESC#,,AUTO
         1 000473   600000 235100                    LDA     0,,PR6
         1 000474   000010 115007                    CMPA    8,DL
         1 000475   000477 602005 1                  TNC     s:3984+5,AL
         1 000476   001234 710000 1                  TRA     DONE
         1 000477   000507 710000 1                  TRA     s:3986
         1 000500   000552 710000 1                  TRA     s:3997
         1 000501   000571 710000 1                  TRA     s:4001
         1 000502   000610 710000 1                  TRA     s:4005
         1 000503   000631 710000 1                  TRA     s:4009
         1 000504   000652 710000 1                  TRA     s:4013
         1 000505   000671 710000 1                  TRA     s:4017
         1 000506   000734 710000 1                  TRA     s:4024

      174     3985    5                         CASE( 0 );        /* $E, $A, $Q, $Xn, $IND, $IC */

      175     3986    5                            IF VALUE.L = 12 /* $IC */

   3986  1 000507   200014 235100                    LDA     VALUE,,AUTO
         1 000510   000014 115007                    CMPA    12,DL
         1 000511   000517 601000 1                  TNZ     s:3989
         1 000512   406714 235100                    LDA     3532,,PR4
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:31   
         1 000513   000002 115007                    CMPA    2,DL
         1 000514   000517 601000 1                  TNZ     s:3989

      176     3987    5                              AND S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6
      177     3988    5                            THEN VALUE.L = 13; /* display $P instead */

   3988  1 000515   000015 235007                    LDA     13,DL
         1 000516   200014 755100                    STA     VALUE,,AUTO

      178     3989    5                            SIZE = DESC#0SZ(VALUE.L);

   3989  1 000517   200014 720100                    LXL0    VALUE,,AUTO
         1 000520   000064 235010 0                  LDA     DESC#0SZ,X0
         1 000521   200017 755100                    STA     SIZE,,AUTO

      179     3990    5                            CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);

   3990  1 000522   200017 637500                    EPPR7   SIZE,,AUTO
         1 000523   200032 457500                    STP7    MYBUF$+6,,AUTO
         1 000524   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000525   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000526   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000527   001303 702000 1                  TSX2    ARET

      180     3991    5                            TEXTR = DESC#0(VALUE.L);

   3991  1 000530   200014 235100                    LDA     VALUE,,AUTO
         1 000531   000002 735000                    ALS     2
         1 000532   200016 470500                    LDP0    TEXT$,,AUTO
         1 000533   200017 720100                    LXL0    SIZE,,AUTO
         1 000534   040140 100405                    MLR     fill='040'O
         1 000535   000046 000004 0                  ADSC9   DESC#0,A                 cn=0,n=4
         1 000536   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0

      181     3992    5                            IF VALUE.L >= 3

   3992  1 000537   200014 235100                    LDA     VALUE,,AUTO
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:32   
         1 000540   000003 115007                    CMPA    3,DL
         1 000541   000544 602000 1                  TNC     s:3992+5
         1 000542   000013 115007                    CMPA    11,DL
         1 000543   000546 602000 1                  TNC     s:3995
         1 000544   000014 115007                    CMPA    12,DL
         1 000545   001234 602000 1                  TNC     DONE

      182     3993    5                              AND VALUE.L <= 10 /* $Xn */
      183     3994    5                              OR VALUE.L >= 12 /* $IC */
      184     3995    5                            THEN S_D.FNDENTDEF = '1'B; /* FORCE REL_FMT */

   3995  1 000546   400000 236003                    LDQ     -131072,DU
         1 000547   000000 471400 xsym               LDP1    S_D$
         1 000550   100721 756100                    STQ     465,,PR1
         1 000551   001234 710000 1                  TRA     DONE

      185     3996    5                         CASE( 1 );        /* $ARn */

      186     3997    5                            CALL DDR$BUMPC_D$(4) ALTRET(ARET);

   3997  1 000552   000002 630400 2                  EPPR0   2
         1 000553   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000554   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000555   001303 702000 1                  TSX2    ARET

      187     3998    5                            TEXT$ -> CHAR3 = '$AR';

   3998  1 000556   200016 470500                    LDP0    TEXT$,,AUTO
         1 000557   040100 100400                    MLR     fill='040'O
         1 000560   000216 000003 0                  ADSC9   DESC#1235SZ_9+14         cn=0,n=3
         1 000561   000000 000003                    ADSC9   0,,PR0                   cn=0,n=3

      188     3999    5                            CALL BINCHAR(PINCRC(TEXT$, 3) -> CHAR1, VALUE.L);

   3999  1 000562   200014 235100                    LDA     VALUE,,AUTO
         1 000563   000044 773000                    LRL     36
         1 000564   200032 757100                    STAQ    MYBUF$+6,,AUTO
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:33   
         1 000565   000100 301500                    BTD
         1 000566   200032 000010                    NDSC9   MYBUF$+6,,AUTO           cn=0,s=lsgnf,sf=0,n=8
         1 000567   000000 630001                    NDSC9   0,,PR0                   cn=3,s=nosgn,sf=0,n=1
         1 000570   001234 710000 1                  TRA     DONE

      189     4000    5                         CASE( 2 );        /* $PRn */

      190     4001    5                            CALL DDR$BUMPC_D$(4) ALTRET(ARET);

   4001  1 000571   000002 630400 2                  EPPR0   2
         1 000572   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000573   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000574   001303 702000 1                  TSX2    ARET

      191     4002    5                            TEXT$ -> CHAR3 = '$PR';

   4002  1 000575   200016 470500                    LDP0    TEXT$,,AUTO
         1 000576   040100 100400                    MLR     fill='040'O
         1 000577   000207 000003 0                  ADSC9   DESC#1235SZ_9+7          cn=0,n=3
         1 000600   000000 000003                    ADSC9   0,,PR0                   cn=0,n=3

      192     4003    5                            CALL BINCHAR(PINCRC(TEXT$, 3) -> CHAR1, VALUE.L);

   4003  1 000601   200014 235100                    LDA     VALUE,,AUTO
         1 000602   000044 773000                    LRL     36
         1 000603   200032 757100                    STAQ    MYBUF$+6,,AUTO
         1 000604   000100 301500                    BTD
         1 000605   200032 000010                    NDSC9   MYBUF$+6,,AUTO           cn=0,s=lsgnf,sf=0,n=8
         1 000606   000000 630001                    NDSC9   0,,PR0                   cn=3,s=nosgn,sf=0,n=1
         1 000607   001234 710000 1                  TRA     DONE

      193     4004    5                         CASE( 3 );        /* $AU, $AL, $QU, $QL     */

      194     4005    5                            SIZE = DESC#3SZ(VALUE.L);

   4005  1 000610   200014 720100                    LXL0    VALUE,,AUTO
         1 000611   000105 235010 0                  LDA     DESC#3SZ,X0
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:34   
         1 000612   200017 755100                    STA     SIZE,,AUTO

      195     4006    5                            CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);

   4006  1 000613   200017 637500                    EPPR7   SIZE,,AUTO
         1 000614   200032 457500                    STP7    MYBUF$+6,,AUTO
         1 000615   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000616   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000617   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000620   001303 702000 1                  TSX2    ARET

      196     4007    5                            TEXTR = DESC#3(VALUE.L);

   4007  1 000621   200014 236100                    LDQ     VALUE,,AUTO
         1 000622   000003 402007                    MPY     3,DL
         1 000623   200016 470500                    LDP0    TEXT$,,AUTO
         1 000624   200017 720100                    LXL0    SIZE,,AUTO
         1 000625   040140 100406                    MLR     fill='040'O
         1 000626   000102 000003 0                  ADSC9   DESC#3,Q                 cn=0,n=3
         1 000627   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         1 000630   001234 710000 1                  TRA     DONE

      197     4008    5                         CASE( 4 );        /* $IOBUFSZ */

      198     4009    5                            SIZE = DESC#4SZ(VALUE.L);

   4009  1 000631   200014 720100                    LXL0    VALUE,,AUTO
         1 000632   000113 235010 0                  LDA     DESC#4SZ,X0
         1 000633   200017 755100                    STA     SIZE,,AUTO

      199     4010    5                            CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);

   4010  1 000634   200017 637500                    EPPR7   SIZE,,AUTO
         1 000635   200032 457500                    STP7    MYBUF$+6,,AUTO
         1 000636   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000637   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000640   000000 701000 xent               TSX1    DDR$BUMPC_D$
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:35   
         1 000641   001303 702000 1                  TSX2    ARET

      200     4011    5                            TEXTR = DESC#4(VALUE.L);

   4011  1 000642   200014 235100                    LDA     VALUE,,AUTO
         1 000643   000003 735000                    ALS     3
         1 000644   200016 470500                    LDP0    TEXT$,,AUTO
         1 000645   200017 720100                    LXL0    SIZE,,AUTO
         1 000646   040140 100405                    MLR     fill='040'O
         1 000647   000111 000010 0                  ADSC9   DESC#4,A                 cn=0,n=8
         1 000650   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         1 000651   001234 710000 1                  TRA     DONE

      201     4012    5                         CASE( 5 );        /* $WSRn */

      202     4013    5                            CALL DDR$BUMPC_D$(5) ALTRET(ARET);

   4013  1 000652   000003 630400 2                  EPPR0   3
         1 000653   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000654   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000655   001303 702000 1                  TSX2    ARET

      203     4014    5                            TEXT$ -> CHAR4 = '$WSR';

   4014  1 000656   200016 470500                    LDP0    TEXT$,,AUTO
         1 000657   040100 100400                    MLR     fill='040'O
         1 000660   000217 000004 0                  ADSC9   DESC#1235SZ_9+15         cn=0,n=4
         1 000661   000000 000004                    ADSC9   0,,PR0                   cn=0,n=4

      204     4015    5                            CALL BINCHAR(PINCRC(TEXT$, 4) -> CHAR1, VALUE.L);

   4015  1 000662   200014 235100                    LDA     VALUE,,AUTO
         1 000663   000044 773000                    LRL     36
         1 000664   200032 757100                    STAQ    MYBUF$+6,,AUTO
         1 000665   000100 301500                    BTD
         1 000666   200032 000010                    NDSC9   MYBUF$+6,,AUTO           cn=0,s=lsgnf,sf=0,n=8
         1 000667   000001 030001                    NDSC9   1,,PR0                   cn=0,s=nosgn,sf=0,n=1
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:36   
         1 000670   001234 710000 1                  TRA     DONE

      205     4016    5                         CASE( 6 );        /* $WSQn */

      206     4017    5                            CALL DDR$BUMPC_D$(4) ALTRET(ARET);

   4017  1 000671   000002 630400 2                  EPPR0   2
         1 000672   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000673   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000674   001303 702000 1                  TSX2    ARET

      207     4018    5                            TEXT$ -> CHAR4 = '$WSQ';

   4018  1 000675   200016 470500                    LDP0    TEXT$,,AUTO
         1 000676   040100 100400                    MLR     fill='040'O
         1 000677   000220 000004 0                  ADSC9   DESC#1235SZ_9+16         cn=0,n=4
         1 000700   000000 000004                    ADSC9   0,,PR0                   cn=0,n=4

      208     4019    5                            TEXT$ = S_D.D$;

   4019  1 000701   000000 471400 xsym               LDP1    S_D$
         1 000702   100044 236100                    LDQ     36,,PR1
         1 000703   200016 756100                    STQ     TEXT$,,AUTO

      209     4020    5                            CALL DDR$BINTXT(MYBUF$, VALUE.L, %UINT_FMT, SIZE);

   4020  1 000704   200017 630500                    EPPR0   SIZE,,AUTO
         1 000705   200035 450500                    STP0    MYBUF$+9,,AUTO
         1 000706   000001 236000 2                  LDQ     1
         1 000707   200034 756100                    STQ     MYBUF$+8,,AUTO
         1 000710   200014 633500                    EPPR3   VALUE,,AUTO
         1 000711   200033 453500                    STP3    MYBUF$+7,,AUTO
         1 000712   200024 634500                    EPPR4   MYBUF$,,AUTO
         1 000713   200032 454500                    STP4    MYBUF$+6,,AUTO
         1 000714   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000715   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000716   000000 701000 xent               TSX1    DDR$BINTXT
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:37   
         1 000717   000000 011000                    NOP     0

      210     4021    5                            CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);

   4021  1 000720   200017 630500                    EPPR0   SIZE,,AUTO
         1 000721   200032 450500                    STP0    MYBUF$+6,,AUTO
         1 000722   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 000723   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000724   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000725   001303 702000 1                  TSX2    ARET

      211     4022    5                            TEXTR = MYBUF;

   4022  1 000726   200016 470500                    LDP0    TEXT$,,AUTO
         1 000727   200017 720100                    LXL0    SIZE,,AUTO
         1 000730   040140 100500                    MLR     fill='040'O
         1 000731   200020 000015                    ADSC9   MYBUF,,AUTO              cn=0,n=13
         1 000732   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         1 000733   001234 710000 1                  TRA     DONE

      212     4023    5                         CASE( 7 );        /* $FMASK, $FRANGE */

      213     4024    5                            IF ADDRESS = 0

   4024  1 000734   100000 235100                    LDA     0,,PR1
         1 000735   000747 601000 1                  TNZ     s:4030

      214     4025    6                            THEN DO;

      215     4026    6                                 CALL DDR$BUMPC_D$(6) ALTRET(ARET);

   4026  1 000736   000007 630400 2                  EPPR0   7
         1 000737   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000740   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000741   001303 702000 1                  TSX2    ARET

      216     4027    6                                 TEXT$ -> CHAR6 = '$FMASK';
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:38   

   4027  1 000742   200016 470500                    LDP0    TEXT$,,AUTO
         1 000743   040100 100400                    MLR     fill='040'O
         1 000744   000221 000006 0                  ADSC9   DESC#1235SZ_9+17         cn=0,n=6
         1 000745   000000 000006                    ADSC9   0,,PR0                   cn=0,n=6

      217     4028    6                               END;

   4028  1 000746   001234 710000 1                  TRA     DONE

      218     4029    6                            ELSE DO;

      219     4030    6                                 CALL DDR$BUMPC_D$(7) ALTRET(ARET);

   4030  1 000747   000010 630400 2                  EPPR0   8
         1 000750   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000751   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 000752   001303 702000 1                  TSX2    ARET

      220     4031    6                                 TEXT$ -> CHAR7 = '$FRANGE';

   4031  1 000753   200016 470500                    LDP0    TEXT$,,AUTO
         1 000754   040100 100400                    MLR     fill='040'O
         1 000755   000223 000007 0                  ADSC9   DESC#1235SZ_9+19         cn=0,n=7
         1 000756   000000 000007                    ADSC9   0,,PR0                   cn=0,n=7

      221     4032    6                               END;

      222     4033    5                         END;              /* DO CASE(DESC#) */

   4033  1 000757   001234 710000 1                  TRA     DONE

      223     4034    4                    CASE(9);               /* L6 special symbols */

      224     4035    5                       DO CASE( DESC# );

   4035  1 000760   200005 476500                    LDP6    @DESC#,,AUTO
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:39   
         1 000761   600000 235100                    LDA     0,,PR6
         1 000762   000005 115007                    CMPA    5,DL
         1 000763   000765 602005 1                  TNC     s:4035+5,AL
         1 000764   001234 710000 1                  TRA     DONE
         1 000765   000772 710000 1                  TRA     s:4038
         1 000766   001013 710000 1                  TRA     s:4042
         1 000767   001051 710000 1                  TRA     s:4050
         1 000770   001013 710000 1                  TRA     s:4042
         1 000771   001013 710000 1                  TRA     s:4042

      225     4036    5                         CASE( 0 );        /* $Rn, $Mn, $T, $S, $A,  */

      226     4037                                                /* $IV, $Z, $ASV, $CI, $IND */
      227     4038    5                            SIZE = DESC#0SZ_9(VALUE.L);

   4038  1 000772   200014 720100                    LXL0    VALUE,,AUTO
         1 000773   000142 235010 0                  LDA     DESC#0SZ_9,X0
         1 000774   200017 755100                    STA     SIZE,,AUTO

      228     4039    5                            CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);

   4039  1 000775   200017 637500                    EPPR7   SIZE,,AUTO
         1 000776   200032 457500                    STP7    MYBUF$+6,,AUTO
         1 000777   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 001000   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001001   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 001002   001303 702000 1                  TSX2    ARET

      229     4040    5                            TEXTR = DESC#0_9(VALUE.L);

   4040  1 001003   200014 235100                    LDA     VALUE,,AUTO
         1 001004   000002 735000                    ALS     2
         1 001005   200016 470500                    LDP0    TEXT$,,AUTO
         1 001006   200017 720100                    LXL0    SIZE,,AUTO
         1 001007   040140 100405                    MLR     fill='040'O
         1 001010   000114 000004 0                  ADSC9   DESC#0_9,A               cn=0,n=4
         1 001011   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:40   
         1 001012   001234 710000 1                  TRA     DONE

      230     4041    5                         CASE( 1, 3, 4);   /* $ROSEG, $TSA, $AUTO */

      231     4042    5                            SIZE = DESC#1235SZ_9(DESC#);

   4042  1 001013   600000 720100                    LXL0    0,,PR6
         1 001014   000200 235010 0                  LDA     DESC#1235SZ_9,X0
         1 001015   200017 755100                    STA     SIZE,,AUTO

      232     4043    5                            CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);

   4043  1 001016   200017 637500                    EPPR7   SIZE,,AUTO
         1 001017   200032 457500                    STP7    MYBUF$+6,,AUTO
         1 001020   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 001021   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001022   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 001023   001303 702000 1                  TSX2    ARET

      233     4044    5                            TEXTR = DESC#1235_9(DESC#);

   4044  1 001024   200005 470500                    LDP0    @DESC#,,AUTO
         1 001025   000000 235100                    LDA     0,,PR0
         1 001026   000044 733000                    LRS     36
         1 001027   000006 402007                    MPY     6,DL
         1 001030   200016 471500                    LDP1    TEXT$,,AUTO
         1 001031   200017 720100                    LXL0    SIZE,,AUTO
         1 001032   040140 100406                    MLR     fill='040'O
         1 001033   000170 000006 0                  ADSC9   DESC#1235_9,Q            cn=0,n=6
         1 001034   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

      234     4045    5                            TEXT$ = S_D.D$;

   4045  1 001035   000000 473400 xsym               LDP3    S_D$
         1 001036   300044 236100                    LDQ     36,,PR3
         1 001037   200016 756100                    STQ     TEXT$,,AUTO

PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:41   
      235     4046    5                            CALL DDR$BUMPC_D$(2) ALTRET(ARET);

   4046  1 001040   000001 630400 2                  EPPR0   1
         1 001041   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001042   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 001043   001303 702000 1                  TSX2    ARET

      236     4047    5                            TEXT$ -> CHAR2 = '->';

   4047  1 001044   200016 470500                    LDP0    TEXT$,,AUTO
         1 001045   040100 100400                    MLR     fill='040'O
         1 001046   000215 000002 0                  ADSC9   DESC#1235SZ_9+13         cn=0,n=2
         1 001047   000000 000002                    ADSC9   0,,PR0                   cn=0,n=2

      237     4048    5                            GOTO DO_ADR;

   4048  1 001050   001235 710000 1                  TRA     DO_ADR

      238     4049    5                         CASE(2);          /* $RDBR */

      239     4050    5                            SIZE = DESC#1235SZ_9(DESC#);

   4050  1 001051   600000 720100                    LXL0    0,,PR6
         1 001052   000200 235010 0                  LDA     DESC#1235SZ_9,X0
         1 001053   200017 755100                    STA     SIZE,,AUTO

      240     4051    5                            CALL DDR$BUMPC_D$(SIZE) ALTRET(ARET);

   4051  1 001054   200017 637500                    EPPR7   SIZE,,AUTO
         1 001055   200032 457500                    STP7    MYBUF$+6,,AUTO
         1 001056   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 001057   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001060   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 001061   001303 702000 1                  TSX2    ARET

      241     4052    5                            TEXTR = DESC#1235_9(DESC#);

PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:42   
   4052  1 001062   200005 470500                    LDP0    @DESC#,,AUTO
         1 001063   000000 235100                    LDA     0,,PR0
         1 001064   000044 733000                    LRS     36
         1 001065   000006 402007                    MPY     6,DL
         1 001066   200016 471500                    LDP1    TEXT$,,AUTO
         1 001067   200017 720100                    LXL0    SIZE,,AUTO
         1 001070   040140 100406                    MLR     fill='040'O
         1 001071   000170 000006 0                  ADSC9   DESC#1235_9,Q            cn=0,n=6
         1 001072   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

      242     4053    5                            TEXT$ = S_D.D$;

   4053  1 001073   000000 473400 xsym               LDP3    S_D$
         1 001074   300044 236100                    LDQ     36,,PR3
         1 001075   200016 756100                    STQ     TEXT$,,AUTO

      243     4054    5                            IF S_D.IS_PTR

   4054  1 001076   305237 234100                    SZN     2719,,PR3
         1 001077   001234 605000 1                  TPL     DONE

      244     4055    6                            THEN DO;

      245     4056    6                                 CALL DDR$BUMPC_D$(2) ALTRET(ARET);

   4056  1 001100   000001 630400 2                  EPPR0   1
         1 001101   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001102   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 001103   001303 702000 1                  TSX2    ARET

      246     4057    6                                 TEXT$ -> CHAR2 = '->';

   4057  1 001104   200016 470500                    LDP0    TEXT$,,AUTO
         1 001105   040100 100400                    MLR     fill='040'O
         1 001106   000215 000002 0                  ADSC9   DESC#1235SZ_9+13         cn=0,n=2
         1 001107   000000 000002                    ADSC9   0,,PR0                   cn=0,n=2

PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:43   
      247     4058    6                                 GOTO DO_ADR;

   4058  1 001110   001235 710000 1                  TRA     DO_ADR

      248     4059    6                               END;
      249     4060    5                         END;              /* DO CASE (DESC#) */

      250     4061    4                    CASE( 10 );            /* $Bn */

      251     4062    4                       CALL DDR$BUMPC_D$(3) ALTRET(ARET);

   4062  1 001111   000000 630400 2                  EPPR0   0
         1 001112   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001113   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 001114   001303 702000 1                  TSX2    ARET

      252     4063    4                       TEXT$ -> CHAR2 = '$B';

   4063  1 001115   200016 470500                    LDP0    TEXT$,,AUTO
         1 001116   040100 100400                    MLR     fill='040'O
         1 001117   000225 000002 0                  ADSC9   DESC#1235SZ_9+21         cn=0,n=2
         1 001120   000000 000002                    ADSC9   0,,PR0                   cn=0,n=2

      253     4064    4                       CALL BINCHAR(PINCRC(TEXT$, 2) -> CHAR1, DESC#);

   4064  1 001121   200005 471500                    LDP1    @DESC#,,AUTO
         1 001122   100000 235100                    LDA     0,,PR1
         1 001123   000044 773000                    LRL     36
         1 001124   200032 757100                    STAQ    MYBUF$+6,,AUTO
         1 001125   000100 301500                    BTD
         1 001126   200032 000010                    NDSC9   MYBUF$+6,,AUTO           cn=0,s=lsgnf,sf=0,n=8
         1 001127   000000 430001                    NDSC9   0,,PR0                   cn=2,s=nosgn,sf=0,n=1

      254     4065    4                       IF S_D.IS_PTR

   4065  1 001130   000000 473400 xsym               LDP3    S_D$
         1 001131   305237 234100                    SZN     2719,,PR3
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:44   
         1 001132   001234 605000 1                  TPL     DONE

      255     4066    5                       THEN DO;

      256     4067    5                            TEXT$ = S_D.D$;

   4067  1 001133   300044 236100                    LDQ     36,,PR3
         1 001134   200016 756100                    STQ     TEXT$,,AUTO

      257     4068    5                            CALL DDR$BUMPC_D$(2) ALTRET(ARET);

   4068  1 001135   000001 630400 2                  EPPR0   1
         1 001136   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001137   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 001140   001303 702000 1                  TSX2    ARET

      258     4069    5                            TEXT$ -> CHAR2 = '->';

   4069  1 001141   200016 470500                    LDP0    TEXT$,,AUTO
         1 001142   040100 100400                    MLR     fill='040'O
         1 001143   000215 000002 0                  ADSC9   DESC#1235SZ_9+13         cn=0,n=2
         1 001144   000000 000002                    ADSC9   0,,PR0                   cn=0,n=2

      259     4070    5                            GOTO DO_ADR;

   4070  1 001145   001235 710000 1                  TRA     DO_ADR

      260     4071    5                          END;
      261     4072    4                    CASE( 11 );            /* $DSn */

      262     4073    4                       CALL DDR$BUMPC_D$(4) ALTRET(ARET);

   4073  1 001146   000002 630400 2                  EPPR0   2
         1 001147   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001150   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 001151   001303 702000 1                  TSX2    ARET

PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:45   
      263     4074    4                       TEXT$ -> CHAR3 = '$DS';

   4074  1 001152   200016 470500                    LDP0    TEXT$,,AUTO
         1 001153   040100 100400                    MLR     fill='040'O
         1 001154   000226 000003 0                  ADSC9   DESC#1235SZ_9+22         cn=0,n=3
         1 001155   000000 000003                    ADSC9   0,,PR0                   cn=0,n=3

      264     4075    4                       CALL BINCHAR(PINCRC(TEXT$, 3) -> CHAR1, DESC#);

   4075  1 001156   200005 471500                    LDP1    @DESC#,,AUTO
         1 001157   100000 235100                    LDA     0,,PR1
         1 001160   000044 773000                    LRL     36
         1 001161   200032 757100                    STAQ    MYBUF$+6,,AUTO
         1 001162   000100 301500                    BTD
         1 001163   200032 000010                    NDSC9   MYBUF$+6,,AUTO           cn=0,s=lsgnf,sf=0,n=8
         1 001164   000000 630001                    NDSC9   0,,PR0                   cn=3,s=nosgn,sf=0,n=1

      265     4076    4                       TEXT$ = S_D.D$;

   4076  1 001165   000000 473400 xsym               LDP3    S_D$
         1 001166   300044 236100                    LDQ     36,,PR3
         1 001167   200016 756100                    STQ     TEXT$,,AUTO

      266     4077    4                       CALL DDR$BUMPC_D$(2) ALTRET(ARET);

   4077  1 001170   000001 630400 2                  EPPR0   1
         1 001171   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001172   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 001173   001303 702000 1                  TSX2    ARET

      267     4078    4                       TEXT$ -> CHAR2 = '->';

   4078  1 001174   200016 470500                    LDP0    TEXT$,,AUTO
         1 001175   040100 100400                    MLR     fill='040'O
         1 001176   000215 000002 0                  ADSC9   DESC#1235SZ_9+13         cn=0,n=2
         1 001177   000000 000002                    ADSC9   0,,PR0                   cn=0,n=2

PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:46   
      268     4079    4                       GOTO DO_ADR;

   4079  1 001200   001235 710000 1                  TRA     DO_ADR

      269     4080    4                    CASE( 12 );            /* $ISn */

      270     4081    4                       CALL DDR$BUMPC_D$(4) ALTRET(ARET);

   4081  1 001201   000002 630400 2                  EPPR0   2
         1 001202   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001203   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 001204   001303 702000 1                  TSX2    ARET

      271     4082    4                       TEXT$ -> CHAR3 = '$IS';

   4082  1 001205   200016 470500                    LDP0    TEXT$,,AUTO
         1 001206   040100 100400                    MLR     fill='040'O
         1 001207   000227 000003 0                  ADSC9   DESC#1235SZ_9+23         cn=0,n=3
         1 001210   000000 000003                    ADSC9   0,,PR0                   cn=0,n=3

      272     4083    4                       CALL BINCHAR(PINCRC(TEXT$, 3) -> CHAR1, DESC#);

   4083  1 001211   200005 471500                    LDP1    @DESC#,,AUTO
         1 001212   100000 235100                    LDA     0,,PR1
         1 001213   000044 773000                    LRL     36
         1 001214   200032 757100                    STAQ    MYBUF$+6,,AUTO
         1 001215   000100 301500                    BTD
         1 001216   200032 000010                    NDSC9   MYBUF$+6,,AUTO           cn=0,s=lsgnf,sf=0,n=8
         1 001217   000000 630001                    NDSC9   0,,PR0                   cn=3,s=nosgn,sf=0,n=1

      273     4084    4                       TEXT$ = S_D.D$;

   4084  1 001220   000000 473400 xsym               LDP3    S_D$
         1 001221   300044 236100                    LDQ     36,,PR3
         1 001222   200016 756100                    STQ     TEXT$,,AUTO

      274     4085    4                       CALL DDR$BUMPC_D$(2) ALTRET(ARET);
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:47   

   4085  1 001223   000001 630400 2                  EPPR0   1
         1 001224   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001225   000000 701000 xent               TSX1    DDR$BUMPC_D$
         1 001226   001303 702000 1                  TSX2    ARET

      275     4086    4                       TEXT$ -> CHAR2 = '->';

   4086  1 001227   200016 470500                    LDP0    TEXT$,,AUTO
         1 001230   040100 100400                    MLR     fill='040'O
         1 001231   000215 000002 0                  ADSC9   DESC#1235SZ_9+13         cn=0,n=2
         1 001232   000000 000002                    ADSC9   0,,PR0                   cn=0,n=2

      276     4087    4                       GOTO DO_ADR;

   4087  1 001233   001235 710000 1                  TRA     DO_ADR

      277     4088    4                    END;

   4083  1 001234                       DONE         null
      278     4089    3   DONE:          ;
      279     4090    3                  RETURN;

   4090  1 001234   000000 702200 xent               TSX2  ! X66_ARET

      280     4091    3                END;                       /* SEG = 6 */
      281     4092    2           END;                            /* NOT_IS */
      282     4093    2        ELSE DO;                           /* Print ADDRESS per requested format */

   4086  1 001235                       DO_ADR       null
      283     4094    2   DO_ADR:   ;
      284     4095    2             IF S_D.ONE_TO_TWO.EXEC_DOMAIN = %L6

   4095  1 001235   000000 470400 xsym               LDP0    S_D$
         1 001236   006714 235100                    LDA     3532,,PR0
         1 001237   000002 115007                    CMPA    2,DL
         1 001240   001265 601000 1                  TNZ     s:4105
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:48   

      285     4096    3             THEN DO;

      286     4097    3                  VALUE = '0'B;

   4097  1 001241   000000 235003                    LDA     0,DU
         1 001242   000000 236003                    LDQ     0,DU
         1 001243   200014 757100                    STAQ    VALUE,,AUTO

      287     4098    3                  IF LEN > 16

   4098  1 001244   200011 471500                    LDP1    @LEN,,AUTO
         1 001245   100000 235100                    LDA     0,,PR1
         1 001246   000021 115007                    CMPA    17,DL
         1 001247   001261 602000 1                  TNC     s:4103

      288     4099    4                  THEN DO;

      289     4100    4                       VALUE.L = L6ADR.L16;

   4100  1 001250   200003 473500                    LDP3    @ADDRESS,,AUTO
         1 001251   300000 236100                    LDQ     0,,PR3
         1 001252   000020 772000                    QRL     16
         1 001253   177777 376007                    ANQ     65535,DL
         1 001254   200014 756100                    STQ     VALUE,,AUTO

      290     4101    4                       VALUE.R = L6ADR.R16;

   4101  1 001255   300000 236100                    LDQ     0,,PR3
         1 001256   177777 376007                    ANQ     65535,DL
         1 001257   200015 756100                    STQ     VALUE+1,,AUTO

      291     4102    4                     END;

   4102  1 001260   001265 710000 1                  TRA     s:4105

      292     4103    3                  ELSE VALUE.L = L6ADR.R16;
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:49   

   4103  1 001261   200003 473500                    LDP3    @ADDRESS,,AUTO
         1 001262   300000 236100                    LDQ     0,,PR3
         1 001263   177777 376007                    ANQ     65535,DL
         1 001264   200014 756100                    STQ     VALUE,,AUTO

      293     4104    3                END;

      294     4105    2             CALL DDA$DISPFMT(FMT, LEN, VALUE, , NO_UDEFS) ALTRET(ARET);

   4105  1 001265   200012 631500                    EPPR1   NO_UDEFS,,AUTO
         1 001266   200036 451500                    STP1    MYBUF$+10,,AUTO
         1 001267   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 001270   200035 756100                    STQ     MYBUF$+9,,AUTO
         1 001271   200014 633500                    EPPR3   VALUE,,AUTO
         1 001272   200034 453500                    STP3    MYBUF$+8,,AUTO
         1 001273   200011 236100                    LDQ     @LEN,,AUTO
         1 001274   200007 235100                    LDA     @FMT,,AUTO
         1 001275   200032 757100                    STAQ    MYBUF$+6,,AUTO
         1 001276   200032 630500                    EPPR0   MYBUF$+6,,AUTO
         1 001277   000023 631400 xsym               EPPR1   B_VECTNIL+19
         1 001300   000000 701000 xent               TSX1    DDA$DISPFMT
         1 001301   001303 702000 1                  TSX2    ARET

      295     4106    2           END;

      296     4107    1        RETURN;

   4107  1 001302   000000 702200 xent               TSX2  ! X66_ARET

      297     4108    1   ARET:
      298     4109    1        ALTRETURN;

   4109  1 001303   000000 702200 xent  ARET         TSX2  ! X66_AALT

SEGID
 Sect OctLoc
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:50   
   0     000   044120 123044   044044 044101   123044 114123                    $PS$$$$AS$LS

SEGID2
 Sect OctLoc
   0     003   044122 105101   114040 044126   111122 124040   044111 117102    $REAL $VIRT $IOB
   0     007   125106 044120   123122 040040   044101 123122   040040 044114    UF$PSR  $ASR  $L
   0     013   123122 040040   044123 123122   040040 044112   111124 040040    SR  $SSR  $JIT
   0     017   044110 112111   124040 044124   103102 040040   044123 101104    $HJIT $TCB  $SAD
   0     023   040040 044122   126102 040040   044125 123104   040040 044105      $RVB  $USD  $E
   0     027   122122 040040                                                    RR

SEGID2SZ
 Sect OctLoc
   0     030   000000 000005   000000 000005   000000 000006   000000 000004    ................
   0     034   000000 000004   000000 000004   000000 000004   000000 000004    ................
   0     040   000000 000005   000000 000004   000000 000004   000000 000004    ................
   0     044   000000 000004   000000 000004                                    ........

DESC#0
 Sect OctLoc
   0     046   044105 040040   044101 040040   044121 040040   044130 060040    $E  $A  $Q  $X0
   0     052   044130 061040   044130 062040   044130 063040   044130 064040    $X1 $X2 $X3 $X4
   0     056   044130 065040   044130 066040   044130 067040   044111 116104    $X5 $X6 $X7 $IND
   0     062   044111 103040   044120 040040                                    $IC $P

DESC#0SZ
 Sect OctLoc
   0     064   000000 000002   000000 000002   000000 000002   000000 000003    ................
   0     070   000000 000003   000000 000003   000000 000003   000000 000003    ................
   0     074   000000 000003   000000 000003   000000 000003   000000 000004    ................
   0     100   000000 000003   000000 000002                                    ........

DESC#3
 Sect OctLoc
   0     102   044101 125044   101114 044121   125044 121114                    $AU$AL$QU$QL

DESC#3SZ
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:51   
 Sect OctLoc
   0     105   000000 000003   000000 000003   000000 000003   000000 000003    ................

DESC#4
 Sect OctLoc
   0     111   044111 117102   125106 123132                                    $IOBUFSZ

DESC#4SZ
 Sect OctLoc
   0     113   000000 000010                                                    ....

DESC#0_9
 Sect OctLoc
   0     114   044122 061040   044122 062040   044122 063040   044122 064040    $R1 $R2 $R3 $R4
   0     120   044122 065040   044122 066040   044122 067040   044115 061040    $R5 $R6 $R7 $M1
   0     124   044115 062040   044115 063040   044115 064040   044115 065040    $M2 $M3 $M4 $M5
   0     130   044115 066040   044115 067040   044124 040040   044123 040040    $M6 $M7 $T  $S
   0     134   044101 040040   044111 126040   044132 040040   044101 123126    $A  $IV $Z  $ASV
   0     140   044103 111040   044111 116104                                    $CI $IND

DESC#0SZ_9
 Sect OctLoc
   0     142   000000 000003   000000 000003   000000 000003   000000 000003    ................
   0     156*  000000 000003   000000 000003   000000 000002   000000 000002    ................
   0     162   000000 000002   000000 000003   000000 000002   000000 000004    ................
   0     166   000000 000003   000000 000004                                    ........

DESC#1235_9
 Sect OctLoc
   0     170   040040 040040   040040 044122   117123 105107   044122 104102          $ROSEG$RDB
   0     174   122040 044124   123101 040040   044101 125124   117040 ******    R $TSA  $AUTO ..

DESC#1235SZ_9
 Sect OctLoc
   0     200   000000 000001   000000 000006   000000 000005   000000 000004    ................
   0     204   000000 000005                                                    ....

PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:52   
(unnamed)
 Sect OctLoc
   0     205   044104 103102   044123 101040   044120 122111   126040 040040    $DCB$SA $PRIV
   0     211   044110 105101   104040 040040   044103 107040   044122 105123    $HEAD   $CG $RES
   0     215   055076 040040   044101 122040   044127 123122   044127 123121    ->  $AR $WSR$WSQ
   0     221   044106 115101   123113 040040   044106 122101   116107 105040    $FMASK  $FRANGE
   0     225   044102 040040   044104 123040   044111 123040                    $B  $DS $IS

(unnamed)
 Sect OctLoc
   2     000   000005 006000   000004 006000   000006 006000   000007 006000    ................
   2     004   000003 006000   000000 000015   000005 006000   000010 006000    ................
   2     010   000011 006000                                                    ....
      299     4110    1   END DDA$DISPADR;

PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:53   
--  Include file information  --

   DD_ERR_C.:E05TOU  is referenced.
   DD_SRTN_C.:E05TOU  is referenced.
   DD_ACODE_C.:E05TOU  is referenced.
   DD_ICODE_C.:E05TOU  is referenced.
   DD$DITEM.:E05TOU  cannot be made into a system file and is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DDA$DISPADR.

   Procedure DDA$DISPADR requires 708 words for executable code.
   Procedure DDA$DISPADR requires 32 words of local(AUTO) storage.

    No errors detected in file DDA$DISPADR.:E05TSI    .
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:54   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:55   
          MINI XREF LISTING

ADDRESS
        19**DCL        17--PROC       20--REDEF    3901>>ASSIGN   4024>>IF
ARET
      4109**LABEL    3914--CALLALT  3918--CALLALT  3923--CALLALT  3927--CALLALT  3931--CALLALT  3937--CALLALT
      3941--CALLALT  3945--CALLALT  3950--CALLALT  3954--CALLALT  3957--CALLALT  3962--CALLALT  3968--GOTO
      3976--GOTO     3978--CALLALT  3990--CALLALT  3997--CALLALT  4001--CALLALT  4006--CALLALT  4010--CALLALT
      4013--CALLALT  4017--CALLALT  4021--CALLALT  4026--CALLALT  4030--CALLALT  4039--CALLALT  4043--CALLALT
      4046--CALLALT  4051--CALLALT  4056--CALLALT  4062--CALLALT  4068--CALLALT  4073--CALLALT  4077--CALLALT
      4081--CALLALT  4085--CALLALT  4105--CALLALT
CHAR1
        68**DCL      3999<<CALLBLT  4003<<CALLBLT  4015<<CALLBLT  4064<<CALLBLT  4075<<CALLBLT  4083<<CALLBLT
CHAR2
        69**DCL      3963<<ASSIGN   4047<<ASSIGN   4057<<ASSIGN   4063<<ASSIGN   4069<<ASSIGN   4078<<ASSIGN
      4086<<ASSIGN
CHAR3
        70**DCL      3915<<ASSIGN   3938<<ASSIGN   3951<<ASSIGN   3998<<ASSIGN   4002<<ASSIGN   4074<<ASSIGN
      4082<<ASSIGN
CHAR4
        71**DCL      3928<<ASSIGN   3958<<ASSIGN   4014<<ASSIGN   4018<<ASSIGN
CHAR5
        72**DCL      3942<<ASSIGN   3946<<ASSIGN
CHAR6
        73**DCL      4027<<ASSIGN
CHAR7
        74**DCL      4031<<ASSIGN
DDA$DISPFMT
      3892**DCL-ENT  4105--CALL
DDR$BINTXT
      3894**DCL-ENT  3917--CALL     3930--CALL     3953--CALL     3971--CALL     3973--CALL     4020--CALL
DDR$BUMPC_D$
      3893**DCL-ENT  3914--CALL     3918--CALL     3923--CALL     3927--CALL     3931--CALL     3937--CALL
      3941--CALL     3945--CALL     3950--CALL     3954--CALL     3957--CALL     3962--CALL     3978--CALL
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:56   
      3990--CALL     3997--CALL     4001--CALL     4006--CALL     4010--CALL     4013--CALL     4017--CALL
      4021--CALL     4026--CALL     4030--CALL     4039--CALL     4043--CALL     4046--CALL     4051--CALL
      4056--CALL     4062--CALL     4068--CALL     4073--CALL     4077--CALL     4081--CALL     4085--CALL
DESC#
        25**DCL        17--PROC     3917<>CALL     3921>>ASSIGN   3924>>ASSIGN   3930<>CALL     3935>>DOCASE
      3953<>CALL     3984>>DOCASE   4035>>DOCASE   4042>>ASSIGN   4044>>ASSIGN   4050>>ASSIGN   4052>>ASSIGN
      4064>>CALLBLT  4075>>CALLBLT  4083>>CALLBLT
DESC#0
        46**DCL      3991>>ASSIGN
DESC#0SZ
        49**DCL      3989>>ASSIGN
DESC#0SZ_9
        61**DCL      4038>>ASSIGN
DESC#0_9
        56**DCL      4040>>ASSIGN
DESC#1235SZ_9
        65**DCL      4042>>ASSIGN   4050>>ASSIGN
DESC#1235_9
        63**DCL      4044>>ASSIGN   4052>>ASSIGN
DESC#3
        51**DCL      4007>>ASSIGN
DESC#3SZ
        53**DCL      4005>>ASSIGN
DESC#4
        54**DCL      4011>>ASSIGN
DESC#4SZ
        55**DCL      4009>>ASSIGN
DONE
      4083**LABEL    3939--GOTO     3943--GOTO     3959--GOTO
DO_ADR
      4086**LABEL    4048--GOTO     4058--GOTO     4070--GOTO     4079--GOTO     4087--GOTO
FMT
        27**DCL        17--PROC     4105<>CALL
L6ADR.L16
        22**DCL      4100>>ASSIGN
L6ADR.R16
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:57   
        23**DCL      4101>>ASSIGN   4103>>ASSIGN
LEN
        29**DCL        17--PROC     4098>>IF       4105<>CALL
MYBUF
        37**DCL      3899--ASSIGN   3919>>ASSIGN   3932>>ASSIGN   3955>>ASSIGN   3979>>ASSIGN   4022>>ASSIGN
MYBUF$
        38**DCL      3899<<ASSIGN   3917<>CALL     3930<>CALL     3953<>CALL     3971<>CALL     3973<>CALL
      4020<>CALL
NOT_IS
        26**DCL        17--PROC     3902>>IF
NO_UDEFS
        31**DCL      3897<<ASSIGN   3898<<ASSIGN   4105<>CALL
PNO_UDEFS
        28**DCL        17--PROC     3896--IF       3898>>ASSIGN
SEG
        24**DCL        17--PROC     3905>>IF       3905>>IF       3905>>IF       3905>>IF       3905>>IF
      3911>>DOCASE   3915>>ASSIGN   3965>>IF       3965>>IF       3982>>DOCASE
SEGID
        40**DCL      3915>>ASSIGN
SEGID2
        42**DCL      3924>>ASSIGN
SEGID2SZ
        45**DCL      3921>>ASSIGN
SIZE
        36**DCL        39--IMP-SIZ  3917<>CALL     3918<>CALL     3919>>ASSIGN   3921<<ASSIGN   3923<>CALL
      3924>>ASSIGN   3930<>CALL     3931<>CALL     3932>>ASSIGN   3953<>CALL     3954<>CALL     3955>>ASSIGN
      3971<>CALL     3973<>CALL     3978<>CALL     3979>>ASSIGN   3989<<ASSIGN   3990<>CALL     3991>>ASSIGN
      4005<<ASSIGN   4006<>CALL     4007>>ASSIGN   4009<<ASSIGN   4010<>CALL     4011>>ASSIGN   4020<>CALL
      4021<>CALL     4022>>ASSIGN   4038<<ASSIGN   4039<>CALL     4040>>ASSIGN   4042<<ASSIGN   4043<>CALL
      4044>>ASSIGN   4050<<ASSIGN   4051<>CALL     4052>>ASSIGN
S_D.CURRENT_CHANNEL
      2447**DCL      2449--REDEF
S_D.D$
      1585**DCL      3904>>ASSIGN   3913>>ASSIGN   3916>>ASSIGN   3922>>ASSIGN   3926>>ASSIGN   3929>>ASSIGN
      3934>>ASSIGN   3949>>ASSIGN   3952>>ASSIGN   3961>>ASSIGN   3964>>ASSIGN   4019>>ASSIGN   4045>>ASSIGN
      4053>>ASSIGN   4067>>ASSIGN   4076>>ASSIGN   4084>>ASSIGN
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:58   
S_D.DEBUGA
      1599**DCL      1601--REDEF
S_D.EIS
      2557**DCL      2586--REDEF
S_D.ERROR
      1528**DCL      3967<<ASSIGN   3975<<ASSIGN
S_D.FNDENTDEF
      1779**DCL      3995<<ASSIGN
S_D.HOST_MESSAGE_BUF_REMOTE
      2490**DCL      2491--REDEF    2505--REDEF
S_D.IS_PTR
      2332**DCL      4054>>IF       4065>>IF
S_D.JDE
      2104**DCL      2105--REDEF
S_D.L$.VALUE
      1657**DCL      1663--REDEF    1671--REDEF    1674--REDEF    1677--REDEF    1680--REDEF
S_D.L$.VALUE.L
      1658**DCL      1659--REDEF    1660--REDEF
S_D.L6_MESSAGE_BUF
      2511**DCL      2513--REDEF
S_D.ONE_TO_TWO.EXEC_DOMAIN
      2522**DCL      3965>>IF       3970>>IF       3972>>IF       3986>>IF       4095>>IF
S_D.OUTPUT
      2477**DCL      2479--REDEF
S_D.REMOTE_MSG.FNCC
      2496**DCL      2497--REDEF
S_D.REMOTE_MSG.STXC
      2492**DCL      2493--REDEF
S_D.REMOTE_MSG.SUBFNCC
      2500**DCL      2501--REDEF
S_D.SV
      1556**DCL      1577--REDEF
S_D$
      2808**DCL      1504--IMP-PTR  3904>>ASSIGN   3913>>ASSIGN   3916>>ASSIGN   3922>>ASSIGN   3926>>ASSIGN
      3929>>ASSIGN   3934>>ASSIGN   3949>>ASSIGN   3952>>ASSIGN   3961>>ASSIGN   3964>>ASSIGN   3965>>IF
      3967>>ASSIGN   3970>>IF       3972>>IF       3975>>ASSIGN   3986>>IF       3995>>ASSIGN   4019>>ASSIGN
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:59   
      4045>>ASSIGN   4053>>ASSIGN   4054>>IF       4065>>IF       4067>>ASSIGN   4076>>ASSIGN   4084>>ASSIGN
      4095>>IF
TEXT$
        35**DCL        39--IMP-PTR  3904<<ASSIGN   3913<<ASSIGN   3915>>ASSIGN   3916<<ASSIGN   3919>>ASSIGN
      3922<<ASSIGN   3924>>ASSIGN   3926<<ASSIGN   3928>>ASSIGN   3929<<ASSIGN   3932>>ASSIGN   3934<<ASSIGN
      3938>>ASSIGN   3942>>ASSIGN   3946>>ASSIGN   3949<<ASSIGN   3951>>ASSIGN   3952<<ASSIGN   3955>>ASSIGN
      3958>>ASSIGN   3961<<ASSIGN   3963>>ASSIGN   3964<<ASSIGN   3979>>ASSIGN   3991>>ASSIGN   3998>>ASSIGN
      3999>>CALLBLT  4002>>ASSIGN   4003>>CALLBLT  4007>>ASSIGN   4011>>ASSIGN   4014>>ASSIGN   4015>>CALLBLT
      4018>>ASSIGN   4019<<ASSIGN   4022>>ASSIGN   4027>>ASSIGN   4031>>ASSIGN   4040>>ASSIGN   4044>>ASSIGN
      4045<<ASSIGN   4047>>ASSIGN   4052>>ASSIGN   4053<<ASSIGN   4057>>ASSIGN   4063>>ASSIGN   4064>>CALLBLT
      4067<<ASSIGN   4069>>ASSIGN   4074>>ASSIGN   4075>>CALLBLT  4076<<ASSIGN   4078>>ASSIGN   4082>>ASSIGN
      4083>>CALLBLT  4084<<ASSIGN   4086>>ASSIGN
TEXTR
        39**DCL      3919<<ASSIGN   3924<<ASSIGN   3932<<ASSIGN   3955<<ASSIGN   3979<<ASSIGN   3991<<ASSIGN
      4007<<ASSIGN   4011<<ASSIGN   4022<<ASSIGN   4040<<ASSIGN   4044<<ASSIGN   4052<<ASSIGN
VALUE
        32**DCL      3900<<ASSIGN   4097<<ASSIGN   4105<>CALL
VALUE.L
        33**DCL      3901<<ASSIGN   3971<>CALL     3973<>CALL     3986>>IF       3988<<ASSIGN   3989>>ASSIGN
      3991>>ASSIGN   3992>>IF       3992>>IF       3992>>IF       3999>>CALLBLT  4003>>CALLBLT  4005>>ASSIGN
      4007>>ASSIGN   4009>>ASSIGN   4011>>ASSIGN   4015>>CALLBLT  4020<>CALL     4038>>ASSIGN   4040>>ASSIGN
      4100<<ASSIGN   4103<<ASSIGN
VALUE.R
        34**DCL      4101<<ASSIGN
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:60   
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DDA$DISPADR File=DDA$DISPADR.:E05TSI                          TUE 07/29/97 13:20 Page:61   
              MINI UREF LISTING

DDA$DISPADR      17**PROC
SDD$    2917**DCL
SDD_L6$    2919**DCL
ZITEM$    2918**DCL
ZITEM_L6$    2920**DCL

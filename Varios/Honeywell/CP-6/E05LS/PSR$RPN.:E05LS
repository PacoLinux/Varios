VERSION E05

PL6.E3A0      #001=PSR$RPN File=PSR$RPN.:E05TSI                                  WED 07/30/97 04:37 Page:1    
        1        1        /*M*  PSR$RPN  Convert X$PARSE output nodes to an RPN operations list         */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* CLM=77,CRM=80,CRT=1,PLM=3,CTI=1,THI=2                                    */
        8        8        PSR$RPN: PROC (RPN$BLOCK, RPN);
        9        9        %INCLUDE CP_6;
       10       90        %INCLUDE PS_DATA_R;
       11     5386        %INCLUDE PS_PERR_C;
       12     5417        %INCLUDE XU_MACRO_C;
       13     8523        %INCLUDE CP_6_SUBS;
       14     9063        %PARSE$OUT (NAME=RPN$BLOCK, STCLASS=" ");
       15     9108        %REF_RPN;
       16     9119    1   DCL PSR$NODE ENTRY (2);
       17     9120    1   DCL PSE$ERRMSG ENTRY (5);
       18     9121
       19     9122    1      RPN.INFO = '0'B;
       20     9123
       21     9124    1      CALL PSR$NODE (RPN$BLOCK, RPN);
       22     9125
       23     9126    1      IF NOT RPN.INFO.SYMBOL_FOUND#
       24     9127    2        THEN DO;
       25     9128
       26     9129    2         RPN.INFO.USED# = 0;
       27     9130    2         CALL PSE$ERRMSG (E$PS_NO_SYMBOL, SERIOUS#);
       28     9131    2         END;
       29     9132
       30     9133    1      RETURN;
       31     9134
       32     9135    1   END PSR$RPN;
       33     9136        %EOD;

PL6.E3A0      #001=PSR$RPN File=PSR$RPN.:E05TSI                                  WED 07/30/97 04:37 Page:2    
--  Include file information  --

   CP_6_SUBS.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   PS_PERR_C.:E05TOU  is referenced.
   KL_MACRO_C.:E05TOU  is referenced.
   KL_AFCN_C.:E05TOU  is referenced.
   P_FEP_M.:E05TOU  is referenced.
   K_ID_E.:E05TOU  is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   PM_BUCKET_C.:E05TOU  is referenced.
   PS_SUBS_C.:E05TOU  is referenced.
   PS_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure PSR$RPN.

   Procedure PSR$RPN requires 20 words for executable code.
   Procedure PSR$RPN requires 6 words of local(AUTO) storage.

PL6.E3A0      #001=PSR$RPN File=PSR$RPN.:E05TSI                                  WED 07/30/97 04:37 Page:3    

 Object Unit name= PSR$RPN                                    File name= PSR$RPN.:E05TOU
 UTS= JUL 30 '97 04:37:23.64 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none     0      0  M$LO
    2   DCB   even  none     0      0  M$DO
    3   DCB   even  none     0      0  M$SI
    4   DCB   even  none     0      0  F$LOG
    5   DCB   even  none     0      0  M$ME
    6   DCB   even  none     0      0  M$HLPCG
    7  RtLbCm even  none    30     36  PS_FDS
    8  RtLbCm even  none    32     40  PS_SELECT_RPN
    9  RtLbCm even  none    17     21  PS_STATS_RPN
   10  RtLbCm even  none    34     42  PS_STATS_BUCKET
   11   Proc  even  none    20     24  PSR$RPN
   12  RoData even  none     3      3  PSR$RPN

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    11      0   yes            yes      Std        2  PSR$RPN
PL6.E3A0      #001=PSR$RPN File=PSR$RPN.:E05TSI                                  WED 07/30/97 04:37 Page:4    

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       2 PSR$NODE
         yes           Std       5 PSE$ERRMSG
                       nStd      0 X66_AUTO_2
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  M$LO                                  M$DO
     M$SI                                  F$LOG                                 M$ME
     M$HLPCG                               PS_BUFFER                             PS_STATS$
     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #001=PSR$RPN File=PSR$RPN.:E05TSI                                  WED 07/30/97 04:37 Page:5    


        1        1        /*M*  PSR$RPN  Convert X$PARSE output nodes to an RPN operations list         */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* CLM=77,CRM=80,CRT=1,PLM=3,CTI=1,THI=2                                    */
        8        8        PSR$RPN: PROC (RPN$BLOCK, RPN);

      8 11 000000   000000 700200 xent  PSR$RPN      TSX0  ! X66_AUTO_2
        11 000001   000006 000002                    ZERO    6,2

        9        9        %INCLUDE CP_6;
       10       90        %INCLUDE PS_DATA_R;
       11     5386        %INCLUDE PS_PERR_C;
       12     5417        %INCLUDE XU_MACRO_C;
       13     8523        %INCLUDE CP_6_SUBS;
       14     9063        %PARSE$OUT (NAME=RPN$BLOCK, STCLASS=" ");
       15     9108        %REF_RPN;
       16     9119    1   DCL PSR$NODE ENTRY (2);
       17     9120    1   DCL PSE$ERRMSG ENTRY (5);
       18     9121
       19     9122    1      RPN.INFO = '0'B;

   9122 11 000002   200004 470500                    LDP0    @RPN,,AUTO
        11 000003   000000 236003                    LDQ     0,DU
        11 000004   000000 552134                    STBQ    0,'34'O,PR0

       20     9123
       21     9124    1      CALL PSR$NODE (RPN$BLOCK, RPN);

   9124 11 000005   200003 630500                    EPPR0   @RPN$BLOCK,,AUTO
        11 000006   000020 631400 xsym               EPPR1   B_VECTNIL+16
        11 000007   000000 701000 xent               TSX1    PSR$NODE
        11 000010   000000 011000                    NOP     0

PL6.E3A0      #001=PSR$RPN File=PSR$RPN.:E05TSI                                  WED 07/30/97 04:37 Page:6    
       22     9125
       23     9126    1      IF NOT RPN.INFO.SYMBOL_FOUND#

   9126 11 000011   200004 470500                    LDP0    @RPN,,AUTO
        11 000012   000000 236100                    LDQ     0,,PR0
        11 000013   400000 316007                    CANQ    -131072,DL
        11 000014   000023 601000 11                 TNZ     s:9133

       24     9127    2        THEN DO;

       25     9128
       26     9129    2         RPN.INFO.USED# = 0;

   9129 11 000015   000000 236003                    LDQ     0,DU
        11 000016   000000 552120                    STBQ    0,'20'O,PR0

       27     9130    2         CALL PSE$ERRMSG (E$PS_NO_SYMBOL, SERIOUS#);

   9130 11 000017   000001 630400 12                 EPPR0   1
        11 000020   000020 631400 xsym               EPPR1   B_VECTNIL+16
        11 000021   000000 701000 xent               TSX1    PSE$ERRMSG
        11 000022   000000 011000                    NOP     0

       28     9131    2         END;

       29     9132
       30     9133    1      RETURN;

   9133 11 000023   000000 702200 xent               TSX2  ! X66_ARET
       31     9134
       32     9135    1   END PSR$RPN;
       33     9136        %EOD;

PL6.E3A0      #001=PSR$RPN File=PSR$RPN.:E05TSI                                  WED 07/30/97 04:37 Page:7    
--  Include file information  --

   CP_6_SUBS.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   PS_PERR_C.:E05TOU  is referenced.
   KL_MACRO_C.:E05TOU  is referenced.
   KL_AFCN_C.:E05TOU  is referenced.
   P_FEP_M.:E05TOU  is referenced.
   K_ID_E.:E05TOU  is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   PM_BUCKET_C.:E05TOU  is referenced.
   PS_SUBS_C.:E05TOU  is referenced.
   PS_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure PSR$RPN.
PL6.E3A0      #001=PSR$RPN File=PSR$RPN.:E05TSI                                  WED 07/30/97 04:37 Page:8    

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w PTR         r     1 @RPN                       3-0-0/w PTR         r     1 @RPN$BLOCK
    *0-0-0/w STRC(72)    r     1 RPN                       *0-0-0/w STRC(144)   r     1 RPN$BLOCK

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(140)   r     1 PS_BUFFER                  0-0-0/w PTR         r     1 PS_STATS$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0N  NULL        r     1 M$LO                       0-0-0/c ASTR(9)     r     1 TEXTC


   Procedure PSR$RPN requires 20 words for executable code.
   Procedure PSR$RPN requires 6 words of local(AUTO) storage.
PL6.E3A0      #001=PSR$RPN File=PSR$RPN.:E05TSI                                  WED 07/30/97 04:37 Page:9    
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=PSR$RPN File=PSR$RPN.:E05TSI                                  WED 07/30/97 04:37 Page:10   
          MINI XREF LISTING

PSE$ERRMSG
      9120**DCL-ENT  9130--CALL
PSR$NODE
      9119**DCL-ENT  9124--CALL
PS_BUFFER
      4921**DCL      4956--DCLINIT  4958--DCLINIT
PS_COLLECT.CALCNT
      5076**DCL      5076--REDEF
PS_COLLECT.USRSRV
      5073**DCL      5074--REDEF
PS_HLPCGBUF.DSPMSK
      5333**DCL      5339--REDEF
PS_HLPCGBUF.SLCMSK
      5374**DCL      5381--REDEF
PS_OLD_COLLECT.CALCNT
      5080**DCL      5081--REDEF
PS_OLD_COLLECT.USRSRV
      5078**DCL      5078--REDEF
PS_STATS$
      5082**DCL      5084--IMP-PTR
RPN
      9109**DCL         8--PROC     9124<>CALL
RPN.INFO
      9111**DCL      9122<<ASSIGN
RPN.INFO.SYMBOL_FOUND#
      9113**DCL      9126>>IF
RPN.INFO.USED#
      9112**DCL      9129<<ASSIGN
RPN$BLOCK
      9069**DCL         8--PROC     9124<>CALL
TEXTC.LEN
      5086**DCL      5086--IMP-SIZ

PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:11   
       34        1        /*T***********************************************************/
       35        2        /*T*                                                         */
       36        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
       37        4        /*T*                                                         */
       38        5        /*T***********************************************************/
       39        6        PSR$NODE: PROC (RPN$BLOCK, RPN);
       40        7        %INCLUDE CP_6;
       41       88        %INCLUDE PS_DATA_R;
       42     5384        %INCLUDE PS_PERR_C;
       43     5415        %INCLUDE XU_MACRO_C;
       44     8521        %INCLUDE CP_6_SUBS;
       45     9061        %PARSE$OUT (NAME=RPN$BLOCK, STCLASS=" ");
       46     9106        %PARSE$OUT (NAME=OUT$BLK, STCLASS=BASED);
       47     9151        %PARSE$SYM (NAME=OUT$SYM, STCLASS=BASED);
       48     9189        %REF_RPN;
       49     9200    1   DCL I UBIN;
       50     9201    1   DCL PSE$ERRMSG ENTRY (5);
       51     9202
       52     9203
       53     9204    1   ENTER: PROC (OPCODE, ARG);
       54     9205
       55     9206    2   DCL OPCODE UBIN;
       56     9207    2   DCL ARG UBIN;
       57     9208    2   DCL I UBIN;
       58     9209
       59     9210    2      IF RPN.INFO.USED# >= RPN.SIZE#
       60     9211    3        THEN DO;
       61     9212
       62     9213    3         RPN.INFO = '0'B;
       63     9214    3         CALL PSE$ERRMSG (E$PS_TOO_CMPLX, SERIOUS#);
       64     9215    3         END;
       65     9216
       66     9217    2      IF OPCODE = PUSH_SYMBOL#
       67     9218    2       AND NOT RPN.INFO.SYMBOL_FOUND#
       68     9219    3        THEN DO;
       69     9220
       70     9221    3         RPN.INFO.SYMBOL_FOUND# = %YES#;
PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:12   
       71     9222    3         RPN.INFO.SYMBOL_ID# = ARG;
       72     9223    3         END;
       73     9224
       74     9225    2      I = RPN.INFO.USED#;
       75     9226
       76     9227    2      RPN.ITEM.OPCODE#(I) = OPCODE;
       77     9228    2      RPN.ITEM.ARG#(I) = ARG;
       78     9229
       79     9230    2      RPN.INFO.USED# = I + 1;
       80     9231
       81     9232    2      RETURN;
       82     9233
       83     9234    2   END ENTER;
       84     9235        %EJECT;
PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:13   
       85     9236    2      DO CASE (RPN$BLOCK.CODE);
       86     9237
       87     9238    2       CASE (0 /* triplet (term operator term) */);
       88     9239
       89     9240    2         CALL PSR$NODE (RPN$BLOCK.SUBLK$(0) -> OUT$BLK, RPN);
       90     9241    2         CALL PSR$NODE (RPN$BLOCK.SUBLK$(2) -> OUT$BLK, RPN);
       91     9242
       92     9243    2         I = RPN$BLOCK.SUBLK$(1) -> OUT$BLK.CODE;
       93     9244
       94     9245    2         CALL ENTER (BINARY_OPERATOR#, I);
       95     9246
       96     9247    2       CASE (1 /* decimal term */);
       97     9248
       98     9249    2         CALL CHARBIN (I, ADDR(RPN$BLOCK) -> OUT$SYM.TEXT);
       99     9250
      100     9251    2         CALL ENTER (PUSH_DECIMAL#, I);
      101     9252
      102     9253    2       CASE (2 /* recognizable symbolic item */);
      103     9254
      104     9255    2         I = RPN$BLOCK.SUBLK$(0) -> OUT$BLK.CODE;
      105     9256
      106     9257    2         CALL ENTER (PUSH_SYMBOL#, I);
      107     9258
      108     9259    2       CASE (3 /* parenthesized phrase */);
      109     9260
      110     9261    2         CALL PSR$NODE (RPN$BLOCK.SUBLK$(0) -> OUT$BLK, RPN);
      111     9262
      112     9263    2       CASE (4 /* couplet (operator term) */);
      113     9264
      114     9265    2         CALL PSR$NODE (RPN$BLOCK.SUBLK$(1) -> OUT$BLK, RPN);
      115     9266
      116     9267    2         I = RPN$BLOCK.SUBLK$(0) -> OUT$BLK.CODE;
      117     9268    2         CALL ENTER (UNARY_OPERATOR#, I);
      118     9269
      119     9270    2       END;
      120     9271
      121     9272    1      RETURN;
PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:14   
      122     9273
      123     9274    1   END PSR$NODE;
      124     9275        %EOD;

PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:15   
--  Include file information  --

   CP_6_SUBS.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   PS_PERR_C.:E05TOU  is referenced.
   KL_MACRO_C.:E05TOU  is referenced.
   KL_AFCN_C.:E05TOU  is referenced.
   P_FEP_M.:E05TOU  is referenced.
   K_ID_E.:E05TOU  is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   PM_BUCKET_C.:E05TOU  is referenced.
   PS_SUBS_C.:E05TOU  is referenced.
   PS_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure PSR$NODE.

   Procedure PSR$NODE requires 150 words for executable code.
   Procedure PSR$NODE requires 14 words of local(AUTO) storage.

PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:16   

 Object Unit name= PSR$NODE                                   File name= PSR$RPN.:E05TOU
 UTS= JUL 30 '97 04:37:57.16 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none     0      0  M$LO
    2   DCB   even  none     0      0  M$DO
    3   DCB   even  none     0      0  M$SI
    4   DCB   even  none     0      0  F$LOG
    5   DCB   even  none     0      0  M$ME
    6   DCB   even  none     0      0  M$HLPCG
    7  RtLbCm even  none    30     36  PS_FDS
    8  RtLbCm even  none    32     40  PS_SELECT_RPN
    9  RtLbCm even  none    17     21  PS_STATS_RPN
   10  RtLbCm even  none    34     42  PS_STATS_BUCKET
   11   Proc  even  none   150    226  PSR$NODE
   12  RoData even  none     6      6  PSR$NODE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    11      0   yes            yes      Std        2  PSR$NODE
PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:17   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       5 PSE$ERRMSG
                       nStd      0 X66_AUTO_2
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  M$LO                                  M$DO
     M$SI                                  F$LOG                                 M$ME
     M$HLPCG                               PS_BUFFER                             PS_STATS$
     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:18   


       34        1        /*T***********************************************************/
       35        2        /*T*                                                         */
       36        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
       37        4        /*T*                                                         */
       38        5        /*T***********************************************************/
       39        6        PSR$NODE: PROC (RPN$BLOCK, RPN);

      6 11 000000   000000 700200 xent  PSR$NODE     TSX0  ! X66_AUTO_2
        11 000001   000016 000002                    ZERO    14,2
        11 000002   000070 710000 11                 TRA     s:9236

       40        7        %INCLUDE CP_6;
       41       88        %INCLUDE PS_DATA_R;
       42     5384        %INCLUDE PS_PERR_C;
       43     5415        %INCLUDE XU_MACRO_C;
       44     8521        %INCLUDE CP_6_SUBS;
       45     9061        %PARSE$OUT (NAME=RPN$BLOCK, STCLASS=" ");
       46     9106        %PARSE$OUT (NAME=OUT$BLK, STCLASS=BASED);
       47     9151        %PARSE$SYM (NAME=OUT$SYM, STCLASS=BASED);
       48     9189        %REF_RPN;
       49     9200    1   DCL I UBIN;
       50     9201    1   DCL PSE$ERRMSG ENTRY (5);
       51     9202
       52     9203
       53     9204    1   ENTER: PROC (OPCODE, ARG);

   9204 11 000003   200010 741300       ENTER        STX1  ! I+2,,AUTO

       54     9205
       55     9206    2   DCL OPCODE UBIN;
       56     9207    2   DCL ARG UBIN;
       57     9208    2   DCL I UBIN;
       58     9209
       59     9210    2      IF RPN.INFO.USED# >= RPN.SIZE#

   9210 11 000004   200004 470500                    LDP0    @RPN,,AUTO
PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:19   
        11 000005   000000 236100                    LDQ     0,,PR0
        11 000006   000033 772000                    QRL     27
        11 000007   200014 756100                    STQ     I+1,,AUTO
        11 000010   000000 236100                    LDQ     0,,PR0
        11 000011   000022 772000                    QRL     18
        11 000012   000777 376007                    ANQ     511,DL
        11 000013   200014 116100                    CMPQ    I+1,,AUTO
        11 000014   000023 604000 11                 TMI     s:9217

       60     9211    3        THEN DO;

       61     9212
       62     9213    3         RPN.INFO = '0'B;

   9213 11 000015   000000 236003                    LDQ     0,DU
        11 000016   000000 552134                    STBQ    0,'34'O,PR0

       63     9214    3         CALL PSE$ERRMSG (E$PS_TOO_CMPLX, SERIOUS#);

   9214 11 000017   000001 630400 12                 EPPR0   1
        11 000020   000020 631400 xsym               EPPR1   B_VECTNIL+16
        11 000021   000000 701000 xent               TSX1    PSE$ERRMSG
        11 000022   000000 011000                    NOP     0

       64     9215    3         END;

       65     9216
       66     9217    2      IF OPCODE = PUSH_SYMBOL#

   9217 11 000023   200011 470500                    LDP0    @OPCODE,,AUTO
        11 000024   000000 235100                    LDA     0,,PR0
        11 000025   000041 601000 11                 TNZ     s:9225
        11 000026   200004 471500                    LDP1    @RPN,,AUTO
        11 000027   100000 236100                    LDQ     0,,PR1
        11 000030   400000 316007                    CANQ    -131072,DL
        11 000031   000041 601000 11                 TNZ     s:9225

PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:20   
       67     9218    2       AND NOT RPN.INFO.SYMBOL_FOUND#
       68     9219    3        THEN DO;

       69     9220
       70     9221    3         RPN.INFO.SYMBOL_FOUND# = %YES#;

   9221 11 000032   400000 236007                    LDQ     -131072,DL
        11 000033   100000 256100                    ORSQ    0,,PR1

       71     9222    3         RPN.INFO.SYMBOL_ID# = ARG;

   9222 11 000034   200012 473500                    LDP3    @ARG,,AUTO
        11 000035   300000 236100                    LDQ     0,,PR3
        11 000036   100000 676100                    ERQ     0,,PR1
        11 000037   377777 376007                    ANQ     131071,DL
        11 000040   100000 656100                    ERSQ    0,,PR1

       72     9223    3         END;

       73     9224
       74     9225    2      I = RPN.INFO.USED#;

   9225 11 000041   200004 471500                    LDP1    @RPN,,AUTO
        11 000042   100000 236100                    LDQ     0,,PR1
        11 000043   000022 772000                    QRL     18
        11 000044   000777 376007                    ANQ     511,DL
        11 000045   200013 756100                    STQ     I,,AUTO

       75     9226
       76     9227    2      RPN.ITEM.OPCODE#(I) = OPCODE;

   9227 11 000046   000000 620006                    EAX0    0,QL
        11 000047   000000 236100                    LDQ     0,,PR0
        11 000050   000033 736000                    QLS     27
        11 000051   100001 676110                    ERQ     1,X0,PR1
        11 000052   777000 376003                    ANQ     -512,DU
        11 000053   100001 656110                    ERSQ    1,X0,PR1
PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:21   

       77     9228    2      RPN.ITEM.ARG#(I) = ARG;

   9228 11 000054   200012 473500                    LDP3    @ARG,,AUTO
        11 000055   200013 720100                    LXL0    I,,AUTO
        11 000056   300000 236100                    LDQ     0,,PR3
        11 000057   100001 676110                    ERQ     1,X0,PR1
        11 000060   000032 376000 xsym               ANQ     B_VECTNIL+26
        11 000061   100001 656110                    ERSQ    1,X0,PR1

       78     9229
       79     9230    2      RPN.INFO.USED# = I + 1;

   9230 11 000062   200013 236100                    LDQ     I,,AUTO
        11 000063   000001 036007                    ADLQ    1,DL
        11 000064   000022 736000                    QLS     18
        11 000065   100000 552120                    STBQ    0,'20'O,PR1

       80     9231
       81     9232    2      RETURN;

   9232 11 000066   200010 221300                    LDX1  ! I+2,,AUTO
        11 000067   000001 702211                    TSX2  ! 1,X1

       82     9233
       83     9234    2   END ENTER;
       84     9235        %EJECT;
PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:22   
       85     9236    2      DO CASE (RPN$BLOCK.CODE);

   9236 11 000070   200003 470500                    LDP0    @RPN$BLOCK,,AUTO
        11 000071   000000 720100                    LXL0    0,,PR0
        11 000072   000005 100003                    CMPX0   5,DU
        11 000073   000075 602010 11                 TNC     s:9236+5,X0
        11 000074   000225 710000 11                 TRA     s:9272
        11 000075   000102 710000 11                 TRA     s:9240
        11 000076   000137 710000 11                 TRA     s:9249
        11 000077   000156 710000 11                 TRA     s:9255
        11 000100   000171 710000 11                 TRA     s:9261
        11 000101   000202 710000 11                 TRA     s:9265

       86     9237
       87     9238    2       CASE (0 /* triplet (term operator term) */);

       88     9239
       89     9240    2         CALL PSR$NODE (RPN$BLOCK.SUBLK$(0) -> OUT$BLK, RPN);

   9240 11 000102   000003 471500                    LDP1    3,,PR0
        11 000103   200004 236100                    LDQ     @RPN,,AUTO
        11 000104   200015 756100                    STQ     I+2,,AUTO
        11 000105   200014 451500                    STP1    I+1,,AUTO
        11 000106   200014 630500                    EPPR0   I+1,,AUTO
        11 000107   000020 631400 xsym               EPPR1   B_VECTNIL+16
        11 000110   000000 701000 11                 TSX1    s:6
        11 000111   000000 011000                    NOP     0

       90     9241    2         CALL PSR$NODE (RPN$BLOCK.SUBLK$(2) -> OUT$BLK, RPN);

   9241 11 000112   200003 470500                    LDP0    @RPN$BLOCK,,AUTO
        11 000113   000005 471500                    LDP1    5,,PR0
        11 000114   200004 236100                    LDQ     @RPN,,AUTO
        11 000115   200015 756100                    STQ     I+2,,AUTO
        11 000116   200014 451500                    STP1    I+1,,AUTO
        11 000117   200014 630500                    EPPR0   I+1,,AUTO
        11 000120   000020 631400 xsym               EPPR1   B_VECTNIL+16
PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:23   
        11 000121   000000 701000 11                 TSX1    s:6
        11 000122   000000 011000                    NOP     0

       91     9242
       92     9243    2         I = RPN$BLOCK.SUBLK$(1) -> OUT$BLK.CODE;

   9243 11 000123   200003 470500                    LDP0    @RPN$BLOCK,,AUTO
        11 000124   000004 471500                    LDP1    4,,PR0
        11 000125   100000 236100                    LDQ     0,,PR1
        11 000126   777777 376007                    ANQ     -1,DL
        11 000127   200006 756100                    STQ     I,,AUTO

       93     9244
       94     9245    2         CALL ENTER (BINARY_OPERATOR#, I);

   9245 11 000130   200006 631500                    EPPR1   I,,AUTO
        11 000131   200012 451500                    STP1    @OPCODE+1,,AUTO
        11 000132   000002 236000 12                 LDQ     2
        11 000133   200011 756100                    STQ     I+3,,AUTO
        11 000134   000003 701000 11                 TSX1    ENTER
        11 000135   000000 011000                    NOP     0
        11 000136   000225 710000 11                 TRA     s:9272

       95     9246
       96     9247    2       CASE (1 /* decimal term */);

       97     9248
       98     9249    2         CALL CHARBIN (I, ADDR(RPN$BLOCK) -> OUT$SYM.TEXT);

   9249 11 000137   000004 236100                    LDQ     4,,PR0
        11 000140   000033 772000                    QRL     27
        11 000141   000000 621006                    EAX1    0,QL
        11 000142   000100 305540                    DTB
        11 000143   000004 230011                    NDSC9   4,,PR0                   cn=1,s=nosgn,sf=0,n=*X1
        11 000144   200014 000010                    NDSC9   I+1,,AUTO                cn=0,s=lsgnf,sf=0,n=8
        11 000145   200015 235100                    LDA     I+2,,AUTO
        11 000146   200006 755100                    STA     I,,AUTO
PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:24   

       99     9250
      100     9251    2         CALL ENTER (PUSH_DECIMAL#, I);

   9251 11 000147   200006 631500                    EPPR1   I,,AUTO
        11 000150   200012 451500                    STP1    @OPCODE+1,,AUTO
        11 000151   000003 236000 12                 LDQ     3
        11 000152   200011 756100                    STQ     I+3,,AUTO
        11 000153   000003 701000 11                 TSX1    ENTER
        11 000154   000000 011000                    NOP     0
        11 000155   000225 710000 11                 TRA     s:9272

      101     9252
      102     9253    2       CASE (2 /* recognizable symbolic item */);

      103     9254
      104     9255    2         I = RPN$BLOCK.SUBLK$(0) -> OUT$BLK.CODE;

   9255 11 000156   000003 471500                    LDP1    3,,PR0
        11 000157   100000 236100                    LDQ     0,,PR1
        11 000160   777777 376007                    ANQ     -1,DL
        11 000161   200006 756100                    STQ     I,,AUTO

      105     9256
      106     9257    2         CALL ENTER (PUSH_SYMBOL#, I);

   9257 11 000162   200006 631500                    EPPR1   I,,AUTO
        11 000163   200012 451500                    STP1    @OPCODE+1,,AUTO
        11 000164   000004 236000 12                 LDQ     4
        11 000165   200011 756100                    STQ     I+3,,AUTO
        11 000166   000003 701000 11                 TSX1    ENTER
        11 000167   000000 011000                    NOP     0
        11 000170   000225 710000 11                 TRA     s:9272

      107     9258
      108     9259    2       CASE (3 /* parenthesized phrase */);

PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:25   
      109     9260
      110     9261    2         CALL PSR$NODE (RPN$BLOCK.SUBLK$(0) -> OUT$BLK, RPN);

   9261 11 000171   000003 471500                    LDP1    3,,PR0
        11 000172   200004 236100                    LDQ     @RPN,,AUTO
        11 000173   200015 756100                    STQ     I+2,,AUTO
        11 000174   200014 451500                    STP1    I+1,,AUTO
        11 000175   200014 630500                    EPPR0   I+1,,AUTO
        11 000176   000020 631400 xsym               EPPR1   B_VECTNIL+16
        11 000177   000000 701000 11                 TSX1    s:6
        11 000200   000000 011000                    NOP     0
        11 000201   000225 710000 11                 TRA     s:9272

      111     9262
      112     9263    2       CASE (4 /* couplet (operator term) */);

      113     9264
      114     9265    2         CALL PSR$NODE (RPN$BLOCK.SUBLK$(1) -> OUT$BLK, RPN);

   9265 11 000202   000004 471500                    LDP1    4,,PR0
        11 000203   200004 236100                    LDQ     @RPN,,AUTO
        11 000204   200015 756100                    STQ     I+2,,AUTO
        11 000205   200014 451500                    STP1    I+1,,AUTO
        11 000206   200014 630500                    EPPR0   I+1,,AUTO
        11 000207   000020 631400 xsym               EPPR1   B_VECTNIL+16
        11 000210   000000 701000 11                 TSX1    s:6
        11 000211   000000 011000                    NOP     0

      115     9266
      116     9267    2         I = RPN$BLOCK.SUBLK$(0) -> OUT$BLK.CODE;

   9267 11 000212   200003 470500                    LDP0    @RPN$BLOCK,,AUTO
        11 000213   000003 471500                    LDP1    3,,PR0
        11 000214   100000 236100                    LDQ     0,,PR1
        11 000215   777777 376007                    ANQ     -1,DL
        11 000216   200006 756100                    STQ     I,,AUTO

PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:26   
      117     9268    2         CALL ENTER (UNARY_OPERATOR#, I);

   9268 11 000217   200006 631500                    EPPR1   I,,AUTO
        11 000220   200012 451500                    STP1    @OPCODE+1,,AUTO
        11 000221   000005 236000 12                 LDQ     5
        11 000222   200011 756100                    STQ     I+3,,AUTO
        11 000223   000003 701000 11                 TSX1    ENTER
        11 000224   000000 011000                    NOP     0

      118     9269
      119     9270    2       END;

      120     9271
      121     9272    1      RETURN;

   9272 11 000225   000000 702200 xent               TSX2  ! X66_ARET
      122     9273
      123     9274    1   END PSR$NODE;
      124     9275        %EOD;

PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:27   
--  Include file information  --

   CP_6_SUBS.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   PS_PERR_C.:E05TOU  is referenced.
   KL_MACRO_C.:E05TOU  is referenced.
   KL_AFCN_C.:E05TOU  is referenced.
   P_FEP_M.:E05TOU  is referenced.
   K_ID_E.:E05TOU  is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   PM_BUCKET_C.:E05TOU  is referenced.
   PS_SUBS_C.:E05TOU  is referenced.
   PS_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure PSR$NODE.
PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:28   

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    12-0-0/w PTR         r     1 @ARG                      11-0-0/w PTR         r     1 @OPCODE
     4-0-0/w PTR         r     1 @RPN                       3-0-0/w PTR         r     1 @RPN$BLOCK
    *0-0-0/w UBIN        r     1 ARG                        6-0-0/w UBIN        r     1 I
    13-0-0/w UBIN        r     1 I                         *0-0-0/w UBIN        r     1 OPCODE
    *0-0-0/w STRC(72)    r     1 RPN                       *0-0-0/w STRC(144)   r     1 RPN$BLOCK

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(140)   r     1 PS_BUFFER                  0-0-0/w PTR         r     1 PS_STATS$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0N  NULL        r     1 M$LO                       0-0-0/w STRC(144)   r     1 OUT$BLK
     0-0-0/w ASTR(153)   r     1 OUT$SYM                    0-0-0/c ASTR(9)     r     1 TEXTC


   Procedure PSR$NODE requires 150 words for executable code.
   Procedure PSR$NODE requires 14 words of local(AUTO) storage.
PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:29   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:30   
          MINI XREF LISTING

ARG IN PROCEDURE ENTER
      9207**DCL      9204--PROC     9222>>ASSIGN   9228>>ASSIGN
ENTER
      9204**PROC     9245--CALL     9251--CALL     9257--CALL     9268--CALL
I
      9200**DCL      9243<<ASSIGN   9245<>CALL     9249<<CALLBLT  9251<>CALL     9255<<ASSIGN   9257<>CALL
      9267<<ASSIGN   9268<>CALL
I IN PROCEDURE ENTER
      9208**DCL      9225<<ASSIGN   9227>>ASSIGN   9228>>ASSIGN   9230>>ASSIGN
OPCODE IN PROCEDURE ENTER
      9206**DCL      9204--PROC     9217>>IF       9227>>ASSIGN
OUT$BLK
      9112**DCL      9240<>CALL     9241<>CALL     9261<>CALL     9265<>CALL
OUT$BLK.CODE
      9120**DCL      9243>>ASSIGN   9255>>ASSIGN   9267>>ASSIGN
OUT$SYM.COUNT
      9181**DCL      9184--IMP-SIZ  9249>>CALLBLT
OUT$SYM.TEXT
      9184**DCL      9249>>CALLBLT
PSE$ERRMSG
      9201**DCL-ENT  9214--CALL
PSR$NODE
         6**PROC     9240--CALL     9241--CALL     9261--CALL     9265--CALL
PS_BUFFER
      4919**DCL      4954--DCLINIT  4956--DCLINIT
PS_COLLECT.CALCNT
      5074**DCL      5074--REDEF
PS_COLLECT.USRSRV
      5071**DCL      5072--REDEF
PS_HLPCGBUF.DSPMSK
      5331**DCL      5337--REDEF
PS_HLPCGBUF.SLCMSK
PL6.E3A0      #002=PSR$NODE File=PSR$RPN.:E05TSI                                 WED 07/30/97 04:37 Page:31   
      5372**DCL      5379--REDEF
PS_OLD_COLLECT.CALCNT
      5078**DCL      5079--REDEF
PS_OLD_COLLECT.USRSRV
      5076**DCL      5076--REDEF
PS_STATS$
      5080**DCL      5082--IMP-PTR
RPN
      9190**DCL         6--PROC     9240<>CALL     9241<>CALL     9261<>CALL     9265<>CALL
RPN.INFO
      9192**DCL      9213<<ASSIGN
RPN.INFO.SYMBOL_FOUND#
      9194**DCL      9217>>IF       9221<<ASSIGN
RPN.INFO.SYMBOL_ID#
      9195**DCL      9222<<ASSIGN
RPN.INFO.USED#
      9193**DCL      9210>>IF       9225>>ASSIGN   9230<<ASSIGN
RPN.ITEM.ARG#
      9198**DCL      9228<<ASSIGN
RPN.ITEM.OPCODE#
      9197**DCL      9227<<ASSIGN
RPN.SIZE#
      9191**DCL      9210>>IF
RPN$BLOCK
      9067**DCL         6--PROC     9249--CALLBLT  9249--CALLBLT
RPN$BLOCK.CODE
      9075**DCL      9236>>DOCASE
RPN$BLOCK.SUBLK$
      9100**DCL      9240>>CALL     9241>>CALL     9243>>ASSIGN   9255>>ASSIGN   9261>>CALL     9265>>CALL
      9267>>ASSIGN
TEXTC.LEN
      5084**DCL      5084--IMP-SIZ

PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:32   
      125        1        /*T***********************************************************/
      126        2        /*T*                                                         */
      127        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      128        4        /*T*                                                         */
      129        5        /*T***********************************************************/
      130        6        PSR$UN_RPN: PROC (RPN, STRING, L, MAXL);
      131        7        %INCLUDE CP_6;
      132       88        %INCLUDE PS_DATA_R;
      133     5384        %INCLUDE CP_6_SUBS;
      134     5924        %REF_RPN (STCLASS=" ");
      135     5935    1   DCL STRING CHAR (MAXLEN);
      136     5936    1   DCL L UBIN;
      137     5937    1   DCL MAXL UBIN;
      138     5938
      139     5939    1   DCL MAXLEN UBIN;
      140     5940    1   DCL ARG SBIN;
      141     5941    1   DCL I SBIN;
      142     5942    1   DCL J SBIN;
      143     5943    1   DCL DEPTH SBIN;
      144     5944    1   DCL ITEM SBIN;
      145     5945    1   DCL NEXT SBIN;
      146     5946    1   DCL WORK CHAR (140);
      147     5947    1   DCL SCR CHAR (140);
      148     5948    1   DCL DEC CHAR (8);
      149     5949    1   DCL DID_OP LOGICAL;
      150     5950    1   DCL 1 STK (0:19),
      151     5951    1         2 START UBIN,
      152     5952    1         2 LEN UBIN;
      153     5953        %EJECT;
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:33   
      154     5954        %MACRO SNURF (TITLE="' '", DELIMIT=",");
      155     5955              2 *,
      156     5956                3 * UBIN BYTE UNAL INIT (LENGTHC(TITLE)),
      157     5957                3 * CHAR (3) INIT (TITLE) DELIMIT
      158     5958        %MEND;
      159     5959    1   DCL 1 OPS CONSTANT,
      160     5960        %SNURF (TITLE="'+'");
      161     5965        %SNURF (TITLE="'-'");
      162     5970        %SNURF (TITLE="'*'");
      163     5975        %SNURF (TITLE="'/'");
      164     5980        %SNURF (TITLE="'and'");
      165     5985        %SNURF (TITLE="'or'");
      166     5990        %SNURF (TITLE="'not'");
      167     5995        %SNURF (TITLE="'<'");
      168     6000        %SNURF (TITLE="'='");
      169     6005        %SNURF (TITLE="'>'");
      170     6010        %SNURF (TITLE="'<='");
      171     6015        %SNURF (TITLE="'~='");
      172     6020        %SNURF (TITLE="'>='", DELIMIT=";");
      173     6025    1   DCL 1 OPCODE_NAMES (0:12) REDEF OPS,
      174     6026    1         2 LEN UBIN BYTE UNAL,
      175     6027    1         2 TEXT CHAR (3);
      176     6028        %EJECT;
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:34   
      177     6029    1   PAREN_IF_NEEDED: PROC;
      178     6030
      179     6031    2      IF DID_OP
      180     6032    3        THEN DO;
      181     6033
      182     6034    3         CALL CONCAT (SCR, '(', SUBSTR(WORK, STK.START(DEPTH), STK.LEN(DEPTH)),
      183     6035    3          ')');
      184     6036
      185     6037    3         CALL INSERT (WORK, STK.START(DEPTH), , SCR);
      186     6038
      187     6039    3         STK.LEN(DEPTH) = STK.LEN(DEPTH) + 2;
      188     6040
      189     6041    3         NEXT = NEXT + 2;
      190     6042
      191     6043    3         END;
      192     6044
      193     6045    2      RETURN;
      194     6046
      195     6047    2   END PAREN_IF_NEEDED;
      196     6048        %EJECT;
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:35   
      197     6049    1      IF ADDR(MAXL) = ADDR(NIL)
      198     6050    1        THEN
      199     6051    1         MAXLEN = 40;
      200     6052    1        ELSE
      201     6053    1         MAXLEN = MAXL;
      202     6054    1      DEPTH = -1;
      203     6055    1      DID_OP = %NO#;
      204     6056
      205     6057    2      DO ITEM = 0 TO RPN.INFO.USED# - 1;
      206     6058
      207     6059    2         ARG = RPN.ITEM.ARG#(ITEM);
      208     6060
      209     6061    2         IF DEPTH < 0
      210     6062    2           THEN
      211     6063    2            NEXT = 0;
      212     6064    2           ELSE
      213     6065    2            NEXT = STK.START(DEPTH) + STK.LEN(DEPTH);
      214     6066
      215     6067    3         DO CASE (RPN.ITEM.OPCODE#(ITEM));
      216     6068
      217     6069    3          CASE (PUSH_DECIMAL#);
      218     6070
      219     6071    3            CALL PAREN_IF_NEEDED;
      220     6072    3            CALL BINCHAR (DEC, ARG);
      221     6073
      222     6074    3            L = 8;
      223     6075
      224     6076    4            DO WHILE (L > 1 AND SUBSTR(DEC, 8-L, 1) = '0');
      225     6077
      226     6078    4               L = L-1;
      227     6079    4               END;
      228     6080
      229     6081    3            DEPTH = DEPTH + 1;
      230     6082
      231     6083    3            STK.START(DEPTH) = NEXT;
      232     6084    3            STK.LEN(DEPTH) = L;
      233     6085
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:36   
      234     6086    3            CALL INSERT (WORK, NEXT, , SUBSTR(DEC, 8-L));
      235     6087
      236     6088    3            DID_OP = %NO#;
      237     6089        %EJECT;
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:37   
      238     6090    3          CASE (PUSH_SYMBOL#);
      239     6091
      240     6092    3            CALL PAREN_IF_NEEDED;
      241     6093
      242     6094    3            DEPTH = DEPTH + 1;
      243     6095
      244     6096    3            L = V_TABLE.TITLE.LEN(ARG);
      245     6097
      246     6098    3            STK.START(DEPTH) = NEXT;
      247     6099    3            STK.LEN(DEPTH) = L;
      248     6100
      249     6101    3            CALL INSERT (WORK, NEXT, , SUBSTR(V_TABLE.TITLE.TEXT(ARG), 0, L));
      250     6102
      251     6103    3            DID_OP = %NO#;
      252     6104        %EJECT;
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:38   
      253     6105    3          CASE (UNARY_OPERATOR#);
      254     6106
      255     6107    3            CALL PAREN_IF_NEEDED;
      256     6108
      257     6109    3            L = OPCODE_NAMES.LEN(ARG);
      258     6110
      259     6111    3            CALL CONCAT (SCR, SUBSTR(OPCODE_NAMES.TEXT(ARG), 0, L), ' ',
      260     6112    3             SUBSTR(WORK, STK.START(DEPTH)));
      261     6113
      262     6114    3            CALL INSERT (WORK, STK.START(DEPTH), , WORK);
      263     6115
      264     6116    3            STK.LEN(DEPTH) = STK.LEN(DEPTH) + L + 1;
      265     6117
      266     6118    3            DID_OP = %YES#;
      267     6119        %EJECT;
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:39   
      268     6120    3          CASE (BINARY_OPERATOR#);
      269     6121
      270     6122    3            L = OPCODE_NAMES.LEN (ARG);
      271     6123
      272     6124    3            CALL CONCAT (SCR, SUBSTR(WORK, STK.START(DEPTH-1), STK.LEN(DEPTH-1)),
      273     6125    3             ' ', SUBSTR(OPCODE_NAMES.TEXT(ARG), 0, L), ' ',
      274     6126    3             SUBSTR(WORK, STK.START(DEPTH), STK.LEN(DEPTH)));
      275     6127
      276     6128    3            DEPTH = DEPTH - 1;
      277     6129
      278     6130    3            CALL INSERT (WORK, STK.START(DEPTH), , SCR);
      279     6131
      280     6132    3            STK.LEN(DEPTH) = STK.LEN(DEPTH) + STK.LEN(DEPTH+1) +
      281     6133    3             L + 2;
      282     6134
      283     6135    3            DID_OP = %YES#;
      284     6136        %EJECT;
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:40   
      285     6137    3          END /* do case */;
      286     6138
      287     6139    2         END /* do item */;
      288     6140
      289     6141    1      L = STK.LEN(0);
      290     6142
      291     6143    1      IF L > MAXLEN
      292     6144    1        THEN
      293     6145    1         L = MAXLEN;
      294     6146
      295     6147    1      STRING = WORK;
      296     6148
      297     6149    1      RETURN;
      298     6150
      299     6151    1   END PSR$UN_RPN;
      300     6152        %EOD;

PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:41   
--  Include file information  --

   CP_6_SUBS.:E05TOU  is referenced.
   KL_MACRO_C.:E05TOU  is referenced.
   KL_AFCN_C.:E05TOU  is referenced.
   P_FEP_M.:E05TOU  is referenced.
   K_ID_E.:E05TOU  is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   PM_BUCKET_C.:E05TOU  is referenced.
   PS_SUBS_C.:E05TOU  is referenced.
   PS_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure PSR$UN_RPN.

   Procedure PSR$UN_RPN requires 337 words for executable code.
   Procedure PSR$UN_RPN requires 138 words of local(AUTO) storage.

PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:42   

 Object Unit name= PSR$UN_RPN                                 File name= PSR$RPN.:E05TOU
 UTS= JUL 30 '97 04:38:34.04 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none     0      0  M$LO
    2   DCB   even  none     0      0  M$DO
    3   DCB   even  none     0      0  M$SI
    4   DCB   even  none     0      0  F$LOG
    5   DCB   even  none     0      0  M$ME
    6   DCB   even  none     0      0  M$HLPCG
    7  RtLbCm even  none    30     36  PS_FDS
    8  RtLbCm even  none    32     40  PS_SELECT_RPN
    9  RtLbCm even  none    17     21  PS_STATS_RPN
   10  RtLbCm even  none    34     42  PS_STATS_BUCKET
   11  RoData even  UTS     13     15  PSR$UN_RPN
   12   Proc  even  none   337    521  PSR$UN_RPN
   13  RoData even  none     2      2  PSR$UN_RPN

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    12      0   yes            yes      Std        4  PSR$UN_RPN
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:43   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X66_AUTO_4
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  M$LO                                  M$DO
     M$SI                                  F$LOG                                 M$ME
     M$HLPCG                               PS_BUFFER                             V_TABLE
     PS_STATS$                             B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:44   


      125        1        /*T***********************************************************/
      126        2        /*T*                                                         */
      127        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      128        4        /*T*                                                         */
      129        5        /*T***********************************************************/
      130        6        PSR$UN_RPN: PROC (RPN, STRING, L, MAXL);

      6 12 000000   000000 700200 xent  PSR$UN_RPN   TSX0  ! X66_AUTO_4
        12 000001   000212 000004                    ZERO    138,4
        12 000002   000061 710000 12                 TRA     s:6049

      131        7        %INCLUDE CP_6;
      132       88        %INCLUDE PS_DATA_R;
      133     5384        %INCLUDE CP_6_SUBS;
      134     5924        %REF_RPN (STCLASS=" ");
      135     5935    1   DCL STRING CHAR (MAXLEN);
      136     5936    1   DCL L UBIN;
      137     5937    1   DCL MAXL UBIN;
      138     5938
      139     5939    1   DCL MAXLEN UBIN;
      140     5940    1   DCL ARG SBIN;
      141     5941    1   DCL I SBIN;
      142     5942    1   DCL J SBIN;
      143     5943    1   DCL DEPTH SBIN;
      144     5944    1   DCL ITEM SBIN;
      145     5945    1   DCL NEXT SBIN;
      146     5946    1   DCL WORK CHAR (140);
      147     5947    1   DCL SCR CHAR (140);
      148     5948    1   DCL DEC CHAR (8);
      149     5949    1   DCL DID_OP LOGICAL;
      150     5950    1   DCL 1 STK (0:19),
      151     5951    1         2 START UBIN,
      152     5952    1         2 LEN UBIN;
      153     5953        %EJECT;
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:45   
      154     5954        %MACRO SNURF (TITLE="' '", DELIMIT=",");
      155     5955              2 *,
      156     5956                3 * UBIN BYTE UNAL INIT (LENGTHC(TITLE)),
      157     5957                3 * CHAR (3) INIT (TITLE) DELIMIT
      158     5958        %MEND;
      159     5959    1   DCL 1 OPS CONSTANT,
      160     5960        %SNURF (TITLE="'+'");
      161     5965        %SNURF (TITLE="'-'");
      162     5970        %SNURF (TITLE="'*'");
      163     5975        %SNURF (TITLE="'/'");
      164     5980        %SNURF (TITLE="'and'");
      165     5985        %SNURF (TITLE="'or'");
      166     5990        %SNURF (TITLE="'not'");
      167     5995        %SNURF (TITLE="'<'");
      168     6000        %SNURF (TITLE="'='");
      169     6005        %SNURF (TITLE="'>'");
      170     6010        %SNURF (TITLE="'<='");
      171     6015        %SNURF (TITLE="'~='");
      172     6020        %SNURF (TITLE="'>='", DELIMIT=";");
      173     6025    1   DCL 1 OPCODE_NAMES (0:12) REDEF OPS,
      174     6026    1         2 LEN UBIN BYTE UNAL,
      175     6027    1         2 TEXT CHAR (3);
      176     6028        %EJECT;
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:46   
      177     6029    1   PAREN_IF_NEEDED: PROC;

   6029 12 000003   200200 741300       PAREN_IF_NE* STX1  ! STK+40,,AUTO

      178     6030
      179     6031    2      IF DID_OP

   6031 12 000004   200127 234100                    SZN     DID_OP,,AUTO
        12 000005   000060 605000 12                 TPL     s:6045

      180     6032    3        THEN DO;

      181     6033
      182     6034    3         CALL CONCAT (SCR, '(', SUBSTR(WORK, STK.START(DEPTH), STK.LEN(DEPTH)),

   6034 12 000006   200014 235100                    LDA     DEPTH,,AUTO
        12 000007   000001 735000                    ALS     1
        12 000010   200130 235105                    LDA     STK,AL,AUTO
        12 000011   200014 236100                    LDQ     DEPTH,,AUTO
        12 000012   000001 736000                    QLS     1
        12 000013   200131 720106                    LXL0    STK+1,QL,AUTO
        12 000014   050000 236003                    LDQ     20480,DU
        12 000015   200062 756100                    STQ     SCR,,AUTO
        12 000016   040100 100545                    MLR     fill='040'O
        12 000017   200017 000010                    ADSC9   WORK,A,AUTO              cn=0,n=*X0
        12 000020   200062 200213                    ADSC9   SCR,,AUTO                cn=1,n=139
        12 000021   000000 636010                    EAQ     0,X0
        12 000022   000022 772000                    QRL     18
        12 000023   000213 116007                    CMPQ    139,DL
        12 000024   000035 603000 12                 TRC     s:6037
        12 000025   200202 740100                    STX0    STK+42,,AUTO
        12 000026   777564 620010                    EAX0    -140,X0
        12 000027   777777 660003                    ERX0    -1,DU
        12 000030   200202 235100                    LDA     STK+42,,AUTO
        12 000031   000022 771000                    ARL     18
        12 000032   040145 100400                    MLR     fill='040'O
        12 000033   000000 000001 13                 ADSC9   0                        cn=0,n=1
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:47   
        12 000034   200062 200010                    ADSC9   SCR,A,AUTO               cn=1,n=*X0

      183     6035    3          ')');
      184     6036
      185     6037    3         CALL INSERT (WORK, STK.START(DEPTH), , SCR);

   6037 12 000035   200014 235100                    LDA     DEPTH,,AUTO
        12 000036   000001 735000                    ALS     1
        12 000037   200130 235105                    LDA     STK,AL,AUTO
        12 000040   200014 236100                    LDQ     DEPTH,,AUTO
        12 000041   000001 736000                    QLS     1
        12 000042   200202 755100                    STA     STK+42,,AUTO
        12 000043   200130 235106                    LDA     STK,QL,AUTO
        12 000044   000027 675000 xsym               ERA     B_VECTNIL+23
        12 000045   000215 035007                    ADLA    141,DL
        12 000046   000000 620005                    EAX0    0,AL
        12 000047   200202 235100                    LDA     STK+42,,AUTO
        12 000050   040145 100500                    MLR     fill='040'O
        12 000051   200062 000214                    ADSC9   SCR,,AUTO                cn=0,n=140
        12 000052   200017 000010                    ADSC9   WORK,A,AUTO              cn=0,n=*X0

      186     6038
      187     6039    3         STK.LEN(DEPTH) = STK.LEN(DEPTH) + 2;

   6039 12 000053   200131 235106                    LDA     STK+1,QL,AUTO
        12 000054   000002 035007                    ADLA    2,DL
        12 000055   200131 755106                    STA     STK+1,QL,AUTO

      188     6040
      189     6041    3         NEXT = NEXT + 2;

   6041 12 000056   000002 236007                    LDQ     2,DL
        12 000057   200016 056100                    ASQ     NEXT,,AUTO

      190     6042
      191     6043    3         END;

PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:48   
      192     6044
      193     6045    2      RETURN;

   6045 12 000060   000001 702211                    TSX2  ! 1,X1

      194     6046
      195     6047    2   END PAREN_IF_NEEDED;
      196     6048        %EJECT;
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:49   
      197     6049    1      IF ADDR(MAXL) = ADDR(NIL)

   6049 12 000061   200006 236100                    LDQ     @MAXL,,AUTO
        12 000062   000001 116000 xsym               CMPQ    B_VECTNIL+1
        12 000063   000067 601000 12                 TNZ     s:6053

      198     6050    1        THEN
      199     6051    1         MAXLEN = 40;

   6051 12 000064   000050 235007                    LDA     40,DL
        12 000065   200010 755100                    STA     MAXLEN,,AUTO
        12 000066   000072 710000 12                 TRA     s:6054

      200     6052    1        ELSE
      201     6053    1         MAXLEN = MAXL;

   6053 12 000067   200006 470500                    LDP0    @MAXL,,AUTO
        12 000070   000000 235100                    LDA     0,,PR0
        12 000071   200010 755100                    STA     MAXLEN,,AUTO

      202     6054    1      DEPTH = -1;

   6054 12 000072   000001 335007                    LCA     1,DL
        12 000073   200014 755100                    STA     DEPTH,,AUTO

      203     6055    1      DID_OP = %NO#;

   6055 12 000074   200127 450100                    STZ     DID_OP,,AUTO

      204     6056
      205     6057    2      DO ITEM = 0 TO RPN.INFO.USED# - 1;

   6057 12 000075   200015 450100                    STZ     ITEM,,AUTO
        12 000076   000476 710000 12                 TRA     s:6139+1

      206     6058
      207     6059    2         ARG = RPN.ITEM.ARG#(ITEM);
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:50   

   6059 12 000077   200003 470500                    LDP0    @RPN,,AUTO
        12 000100   200015 720100                    LXL0    ITEM,,AUTO
        12 000101   000001 236110                    LDQ     1,X0,PR0
        12 000102   000032 376000 xsym               ANQ     B_VECTNIL+26
        12 000103   200011 756100                    STQ     ARG,,AUTO

      208     6060
      209     6061    2         IF DEPTH < 0

   6061 12 000104   200014 235100                    LDA     DEPTH,,AUTO
        12 000105   000110 605000 12                 TPL     s:6065

      210     6062    2           THEN
      211     6063    2            NEXT = 0;

   6063 12 000106   200016 450100                    STZ     NEXT,,AUTO
        12 000107   000114 710000 12                 TRA     s:6067

      212     6064    2           ELSE
      213     6065    2            NEXT = STK.START(DEPTH) + STK.LEN(DEPTH);

   6065 12 000110   000001 735000                    ALS     1
        12 000111   200130 236105                    LDQ     STK,AL,AUTO
        12 000112   200131 036105                    ADLQ    STK+1,AL,AUTO
        12 000113   200016 756100                    STQ     NEXT,,AUTO

      214     6066
      215     6067    3         DO CASE (RPN.ITEM.OPCODE#(ITEM));

   6067 12 000114   000001 236110                    LDQ     1,X0,PR0
        12 000115   000033 772000                    QRL     27
        12 000116   000004 116007                    CMPQ    4,DL
        12 000117   000121 602006 12                 TNC     s:6067+5,QL
        12 000120   000475 710000 12                 TRA     s:6139
        12 000121   000174 710000 12                 TRA     s:6092
        12 000122   000125 710000 12                 TRA     s:6071
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:51   
        12 000123   000230 710000 12                 TRA     s:6107
        12 000124   000331 710000 12                 TRA     s:6122

      216     6068
      217     6069    3          CASE (PUSH_DECIMAL#);

      218     6070
      219     6071    3            CALL PAREN_IF_NEEDED;

   6071 12 000125   000003 701000 12                 TSX1    PAREN_IF_NEEDED
        12 000126   000000 011000                    NOP     0

      220     6072    3            CALL BINCHAR (DEC, ARG);

   6072 12 000127   000100 301500                    BTD
        12 000130   200011 000004                    NDSC9   ARG,,AUTO                cn=0,s=lsgnf,sf=0,n=4
        12 000131   200125 030010                    NDSC9   DEC,,AUTO                cn=0,s=nosgn,sf=0,n=8

      221     6073
      222     6074    3            L = 8;

   6074 12 000132   000010 235007                    LDA     8,DL
        12 000133   200005 470500                    LDP0    @L,,AUTO
        12 000134   000000 755100                    STA     0,,PR0

      223     6075
      224     6076    4            DO WHILE (L > 1 AND SUBSTR(DEC, 8-L, 1) = '0');

   6076 12 000135   000142 710000 12                 TRA     s:6079

      225     6077
      226     6078    4               L = L-1;

   6078 12 000136   200005 470500                    LDP0    @L,,AUTO
        12 000137   000000 235100                    LDA     0,,PR0
        12 000140   000001 135007                    SBLA    1,DL
        12 000141   000000 755100                    STA     0,,PR0
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:52   

      227     6079    4               END;

   6079 12 000142   000002 115007                    CMPA    2,DL
        12 000143   000152 602000 12                 TNC     s:6081
        12 000144   000027 675000 xsym               ERA     B_VECTNIL+23
        12 000145   000001 035007                    ADLA    1,DL
        12 000146   040000 106505                    CMPC    fill='040'O
        12 000147   200127 000001                    ADSC9   DID_OP,A,AUTO            cn=0,n=1
        12 000150   000001 000001 13                 ADSC9   1                        cn=0,n=1
        12 000151   000136 600000 12                 TZE     s:6078

      228     6080
      229     6081    3            DEPTH = DEPTH + 1;

   6081 12 000152   200014 054100                    AOS     DEPTH,,AUTO

      230     6082
      231     6083    3            STK.START(DEPTH) = NEXT;

   6083 12 000153   200014 235100                    LDA     DEPTH,,AUTO
        12 000154   000001 735000                    ALS     1
        12 000155   200016 236100                    LDQ     NEXT,,AUTO
        12 000156   200130 756105                    STQ     STK,AL,AUTO

      232     6084    3            STK.LEN(DEPTH) = L;

   6084 12 000157   000000 620005                    EAX0    0,AL
        12 000160   000000 235100                    LDA     0,,PR0
        12 000161   200131 755110                    STA     STK+1,X0,AUTO

      233     6085
      234     6086    3            CALL INSERT (WORK, NEXT, , SUBSTR(DEC, 8-L));

   6086 12 000162   000000 720100                    LXL0    0,,PR0
        12 000163   000027 675000 xsym               ERA     B_VECTNIL+23
        12 000164   000001 035007                    ADLA    1,DL
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:53   
        12 000165   777563 621006                    EAX1    -141,QL
        12 000166   777777 661003                    ERX1    -1,DU
        12 000167   040146 100545                    MLR     fill='040'O
        12 000170   200127 000010                    ADSC9   DID_OP,A,AUTO            cn=0,n=*X0
        12 000171   200017 000011                    ADSC9   WORK,Q,AUTO              cn=0,n=*X1

      235     6087
      236     6088    3            DID_OP = %NO#;

   6088 12 000172   200127 450100                    STZ     DID_OP,,AUTO
        12 000173   000475 710000 12                 TRA     s:6139

      237     6089        %EJECT;
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:54   
      238     6090    3          CASE (PUSH_SYMBOL#);

      239     6091
      240     6092    3            CALL PAREN_IF_NEEDED;

   6092 12 000174   000003 701000 12                 TSX1    PAREN_IF_NEEDED
        12 000175   000000 011000                    NOP     0

      241     6093
      242     6094    3            DEPTH = DEPTH + 1;

   6094 12 000176   200014 054100                    AOS     DEPTH,,AUTO

      243     6095
      244     6096    3            L = V_TABLE.TITLE.LEN(ARG);

   6096 12 000177   200011 236100                    LDQ     ARG,,AUTO
        12 000200   000005 402007                    MPY     5,DL
        12 000201   200005 470500                    LDP0    @L,,AUTO
        12 000202   000002 236006 xsym               LDQ     V_TABLE+2,QL
        12 000203   000777 376007                    ANQ     511,DL
        12 000204   000000 756100                    STQ     0,,PR0

      245     6097
      246     6098    3            STK.START(DEPTH) = NEXT;

   6098 12 000205   200014 235100                    LDA     DEPTH,,AUTO
        12 000206   000001 735000                    ALS     1
        12 000207   200016 236100                    LDQ     NEXT,,AUTO
        12 000210   200130 756105                    STQ     STK,AL,AUTO

      247     6099    3            STK.LEN(DEPTH) = L;

   6099 12 000211   000000 620005                    EAX0    0,AL
        12 000212   000000 235100                    LDA     0,,PR0
        12 000213   200131 755110                    STA     STK+1,X0,AUTO

PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:55   
      248     6100
      249     6101    3            CALL INSERT (WORK, NEXT, , SUBSTR(V_TABLE.TITLE.TEXT(ARG), 0, L));

   6101 12 000214   000000 720100                    LXL0    0,,PR0
        12 000215   200011 236100                    LDQ     ARG,,AUTO
        12 000216   000024 402007                    MPY     20,DL
        12 000217   200016 721100                    LXL1    NEXT,,AUTO
        12 000220   777563 621011                    EAX1    -141,X1
        12 000221   777777 661003                    ERX1    -1,DU
        12 000222   200016 235100                    LDA     NEXT,,AUTO
        12 000223   040145 100446                    MLR     fill='040'O
        12 000224   000003 000010 xsym               ADSC9   V_TABLE+3,Q              cn=0,n=*X0
        12 000225   200017 000011                    ADSC9   WORK,A,AUTO              cn=0,n=*X1

      250     6102
      251     6103    3            DID_OP = %NO#;

   6103 12 000226   200127 450100                    STZ     DID_OP,,AUTO
        12 000227   000475 710000 12                 TRA     s:6139

      252     6104        %EJECT;
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:56   
      253     6105    3          CASE (UNARY_OPERATOR#);

      254     6106
      255     6107    3            CALL PAREN_IF_NEEDED;

   6107 12 000230   000003 701000 12                 TSX1    PAREN_IF_NEEDED
        12 000231   000000 011000                    NOP     0

      256     6108
      257     6109    3            L = OPCODE_NAMES.LEN(ARG);

   6109 12 000232   200011 720100                    LXL0    ARG,,AUTO
        12 000233   200005 470500                    LDP0    @L,,AUTO
        12 000234   000000 236010 11                 LDQ     OPS,X0
        12 000235   000033 772000                    QRL     27
        12 000236   000000 756100                    STQ     0,,PR0

      258     6110
      259     6111    3            CALL CONCAT (SCR, SUBSTR(OPCODE_NAMES.TEXT(ARG), 0, L), ' ',

   6111 12 000237   000000 721100                    LXL1    0,,PR0
        12 000240   200014 235100                    LDA     DEPTH,,AUTO
        12 000241   000001 735000                    ALS     1
        12 000242   200130 235105                    LDA     STK,AL,AUTO
        12 000243   200014 236100                    LDQ     DEPTH,,AUTO
        12 000244   000001 736000                    QLS     1
        12 000245   200202 755100                    STA     STK+42,,AUTO
        12 000246   200130 235106                    LDA     STK,QL,AUTO
        12 000247   000027 675000 xsym               ERA     B_VECTNIL+23
        12 000250   000215 035007                    ADLA    141,DL
        12 000251   200011 236100                    LDQ     ARG,,AUTO
        12 000252   000002 736000                    QLS     2
        12 000253   040100 100446                    MLR     fill='040'O
        12 000254   000000 200011 11                 ADSC9   OPS,Q                    cn=1,n=*X1
        12 000255   200062 000214                    ADSC9   SCR,,AUTO                cn=0,n=140
        12 000256   000000 636011                    EAQ     0,X1
        12 000257   000022 772000                    QRL     18
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:57   
        12 000260   000214 116007                    CMPQ    140,DL
        12 000261   000303 603000 12                 TRC     s:6114
        12 000262   200203 741100                    STX1    STK+43,,AUTO
        12 000263   777563 621011                    EAX1    -141,X1
        12 000264   777777 661003                    ERX1    -1,DU
        12 000265   200203 236100                    LDQ     STK+43,,AUTO
        12 000266   000022 772000                    QRL     18
        12 000267   040146 100400                    MLR     fill='040'O
        12 000270   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
        12 000271   200062 000011                    ADSC9   SCR,Q,AUTO               cn=0,n=*X1
        12 000272   000213 116007                    CMPQ    139,DL
        12 000273   000303 603000 12                 TRC     s:6114
        12 000274   777564 621006                    EAX1    -140,QL
        12 000275   777777 661003                    ERX1    -1,DU
        12 000276   000000 622005                    EAX2    0,AL
        12 000277   200202 235100                    LDA     STK+42,,AUTO
        12 000300   040146 100545                    MLR     fill='040'O
        12 000301   200017 000012                    ADSC9   WORK,A,AUTO              cn=0,n=*X2
        12 000302   200062 200011                    ADSC9   SCR,Q,AUTO               cn=1,n=*X1

      260     6112    3             SUBSTR(WORK, STK.START(DEPTH)));
      261     6113
      262     6114    3            CALL INSERT (WORK, STK.START(DEPTH), , WORK);

   6114 12 000303   200014 235100                    LDA     DEPTH,,AUTO
        12 000304   000001 735000                    ALS     1
        12 000305   200130 235105                    LDA     STK,AL,AUTO
        12 000306   200014 236100                    LDQ     DEPTH,,AUTO
        12 000307   000001 736000                    QLS     1
        12 000310   200202 755100                    STA     STK+42,,AUTO
        12 000311   200130 235106                    LDA     STK,QL,AUTO
        12 000312   000027 675000 xsym               ERA     B_VECTNIL+23
        12 000313   000215 035007                    ADLA    141,DL
        12 000314   000000 621005                    EAX1    0,AL
        12 000315   200202 235100                    LDA     STK+42,,AUTO
        12 000316   040145 100500                    MLR     fill='040'O
        12 000317   200017 000214                    ADSC9   WORK,,AUTO               cn=0,n=140
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:58   
        12 000320   200017 000011                    ADSC9   WORK,A,AUTO              cn=0,n=*X1

      263     6115
      264     6116    3            STK.LEN(DEPTH) = STK.LEN(DEPTH) + L + 1;

   6116 12 000321   000000 621006                    EAX1    0,QL
        12 000322   200131 236106                    LDQ     STK+1,QL,AUTO
        12 000323   000000 036100                    ADLQ    0,,PR0
        12 000324   000001 036007                    ADLQ    1,DL
        12 000325   200131 756111                    STQ     STK+1,X1,AUTO

      265     6117
      266     6118    3            DID_OP = %YES#;

   6118 12 000326   400000 236003                    LDQ     -131072,DU
        12 000327   200127 756100                    STQ     DID_OP,,AUTO
        12 000330   000475 710000 12                 TRA     s:6139

      267     6119        %EJECT;
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:59   
      268     6120    3          CASE (BINARY_OPERATOR#);

      269     6121
      270     6122    3            L = OPCODE_NAMES.LEN (ARG);

   6122 12 000331   200011 721100                    LXL1    ARG,,AUTO
        12 000332   200005 471500                    LDP1    @L,,AUTO
        12 000333   000000 236011 11                 LDQ     OPS,X1
        12 000334   000033 772000                    QRL     27
        12 000335   100000 756100                    STQ     0,,PR1

      271     6123
      272     6124    3            CALL CONCAT (SCR, SUBSTR(WORK, STK.START(DEPTH-1), STK.LEN(DEPTH-1)),

   6124 12 000336   200014 235100                    LDA     DEPTH,,AUTO
        12 000337   000001 735000                    ALS     1
        12 000340   200126 235105                    LDA     DEC+1,AL,AUTO
        12 000341   200014 236100                    LDQ     DEPTH,,AUTO
        12 000342   000001 736000                    QLS     1
        12 000343   200127 722106                    LXL2    DID_OP,QL,AUTO
        12 000344   100000 723100                    LXL3    0,,PR1
        12 000345   200202 755100                    STA     STK+42,,AUTO
        12 000346   200130 235106                    LDA     STK,QL,AUTO
        12 000347   200131 724106                    LXL4    STK+1,QL,AUTO
        12 000350   200202 236100                    LDQ     STK+42,,AUTO
        12 000351   040100 100546                    MLR     fill='040'O
        12 000352   200017 000012                    ADSC9   WORK,Q,AUTO              cn=0,n=*X2
        12 000353   200062 000214                    ADSC9   SCR,,AUTO                cn=0,n=140
        12 000354   000000 636012                    EAQ     0,X2
        12 000355   000022 772000                    QRL     18
        12 000356   000214 116007                    CMPQ    140,DL
        12 000357   000444 603000 12                 TRC     s:6128
        12 000360   200203 742100                    STX2    STK+43,,AUTO
        12 000361   777563 622012                    EAX2    -141,X2
        12 000362   777777 662003                    ERX2    -1,DU
        12 000363   200203 236100                    LDQ     STK+43,,AUTO
        12 000364   000022 772000                    QRL     18
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:60   
        12 000365   040146 100400                    MLR     fill='040'O
        12 000366   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
        12 000367   200062 000012                    ADSC9   SCR,Q,AUTO               cn=0,n=*X2
        12 000370   000213 116007                    CMPQ    139,DL
        12 000371   000444 603000 12                 TRC     s:6128
        12 000372   200011 236100                    LDQ     ARG,,AUTO
        12 000373   000002 736000                    QLS     2
        12 000374   000213 222003                    LDX2    139,DU
        12 000375   200203 122100                    SBLX2   STK+43,,AUTO
        12 000376   200204 755100                    STA     STK+44,,AUTO
        12 000377   200203 235100                    LDA     STK+43,,AUTO
        12 000400   000022 771000                    ARL     18
        12 000401   040145 100446                    MLR     fill='040'O
        12 000402   000000 200013 11                 ADSC9   OPS,Q                    cn=1,n=*X3
        12 000403   200062 200012                    ADSC9   SCR,A,AUTO               cn=1,n=*X2
        12 000404   000000 635013                    EAA     0,X3
        12 000405   000022 771000                    ARL     18
        12 000406   200205 755100                    STA     STK+45,,AUTO
        12 000407   200203 236100                    LDQ     STK+43,,AUTO
        12 000410   000022 772000                    QRL     18
        12 000411   200205 036100                    ADLQ    STK+45,,AUTO
        12 000412   000213 116007                    CMPQ    139,DL
        12 000413   000444 603000 12                 TRC     s:6128
        12 000414   000000 635013                    EAA     0,X3
        12 000415   000022 771000                    ARL     18
        12 000416   200206 755100                    STA     STK+46,,AUTO
        12 000417   200207 756100                    STQ     STK+47,,AUTO
        12 000420   200203 236100                    LDQ     STK+43,,AUTO
        12 000421   000022 772000                    QRL     18
        12 000422   200206 036100                    ADLQ    STK+46,,AUTO
        12 000423   200207 723100                    LXL3    STK+47,,AUTO
        12 000424   777564 623013                    EAX3    -140,X3
        12 000425   777777 663003                    ERX3    -1,DU
        12 000426   040146 100400                    MLR     fill='040'O
        12 000427   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
        12 000430   200062 200013                    ADSC9   SCR,Q,AUTO               cn=1,n=*X3
        12 000431   200210 756100                    STQ     STK+48,,AUTO
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:61   
        12 000432   200207 236100                    LDQ     STK+47,,AUTO
        12 000433   000212 116007                    CMPQ    138,DL
        12 000434   000444 603000 12                 TRC     s:6128
        12 000435   777565 625006                    EAX5    -139,QL
        12 000436   777777 665003                    ERX5    -1,DU
        12 000437   200204 235100                    LDA     STK+44,,AUTO
        12 000440   200210 236100                    LDQ     STK+48,,AUTO
        12 000441   040146 100545                    MLR     fill='040'O
        12 000442   200017 000014                    ADSC9   WORK,A,AUTO              cn=0,n=*X4
        12 000443   200062 400015                    ADSC9   SCR,Q,AUTO               cn=2,n=*X5

      273     6125    3             ' ', SUBSTR(OPCODE_NAMES.TEXT(ARG), 0, L), ' ',
      274     6126    3             SUBSTR(WORK, STK.START(DEPTH), STK.LEN(DEPTH)));
      275     6127
      276     6128    3            DEPTH = DEPTH - 1;

   6128 12 000444   000001 336007                    LCQ     1,DL
        12 000445   200014 056100                    ASQ     DEPTH,,AUTO

      277     6129
      278     6130    3            CALL INSERT (WORK, STK.START(DEPTH), , SCR);

   6130 12 000446   200014 235100                    LDA     DEPTH,,AUTO
        12 000447   000001 735000                    ALS     1
        12 000450   200130 235105                    LDA     STK,AL,AUTO
        12 000451   200014 236100                    LDQ     DEPTH,,AUTO
        12 000452   000001 736000                    QLS     1
        12 000453   200202 755100                    STA     STK+42,,AUTO
        12 000454   200130 235106                    LDA     STK,QL,AUTO
        12 000455   000027 675000 xsym               ERA     B_VECTNIL+23
        12 000456   000215 035007                    ADLA    141,DL
        12 000457   000000 622005                    EAX2    0,AL
        12 000460   200202 235100                    LDA     STK+42,,AUTO
        12 000461   040145 100500                    MLR     fill='040'O
        12 000462   200062 000214                    ADSC9   SCR,,AUTO                cn=0,n=140
        12 000463   200017 000012                    ADSC9   WORK,A,AUTO              cn=0,n=*X2

PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:62   
      279     6131
      280     6132    3            STK.LEN(DEPTH) = STK.LEN(DEPTH) + STK.LEN(DEPTH+1) +

   6132 12 000464   000000 622006                    EAX2    0,QL
        12 000465   000000 623006                    EAX3    0,QL
        12 000466   200131 236112                    LDQ     STK+1,X2,AUTO
        12 000467   200133 036112                    ADLQ    STK+3,X2,AUTO
        12 000470   100000 036100                    ADLQ    0,,PR1
        12 000471   000002 036007                    ADLQ    2,DL
        12 000472   200131 756113                    STQ     STK+1,X3,AUTO

      281     6133    3             L + 2;
      282     6134
      283     6135    3            DID_OP = %YES#;

   6135 12 000473   400000 236003                    LDQ     -131072,DU
        12 000474   200127 756100                    STQ     DID_OP,,AUTO

      284     6136        %EJECT;
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:63   
      285     6137    3          END /* do case */;

      286     6138
      287     6139    2         END /* do item */;

   6139 12 000475   200015 054100                    AOS     ITEM,,AUTO
        12 000476   200003 470500                    LDP0    @RPN,,AUTO
        12 000477   000000 236100                    LDQ     0,,PR0
        12 000500   000022 772000                    QRL     18
        12 000501   000777 376007                    ANQ     511,DL
        12 000502   200015 116100                    CMPQ    ITEM,,AUTO
        12 000503   000077 605400 12                 TPNZ    s:6059

      288     6140
      289     6141    1      L = STK.LEN(0);

   6141 12 000504   200005 471500                    LDP1    @L,,AUTO
        12 000505   200131 235100                    LDA     STK+1,,AUTO
        12 000506   100000 755100                    STA     0,,PR1

      290     6142
      291     6143    1      IF L > MAXLEN

   6143 12 000507   200010 236100                    LDQ     MAXLEN,,AUTO
        12 000510   100000 116100                    CMPQ    0,,PR1
        12 000511   000513 603000 12                 TRC     s:6147

      292     6144    1        THEN
      293     6145    1         L = MAXLEN;

   6145 12 000512   100000 756100                    STQ     0,,PR1

      294     6146
      295     6147    1      STRING = WORK;

   6147 12 000513   200004 473500                    LDP3    @STRING,,AUTO
        12 000514   000000 620006                    EAX0    0,QL
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:64   
        12 000515   040140 100500                    MLR     fill='040'O
        12 000516   200017 000214                    ADSC9   WORK,,AUTO               cn=0,n=140
        12 000517   300000 000010                    ADSC9   0,,PR3                   cn=0,n=*X0

      296     6148
      297     6149    1      RETURN;

   6149 12 000520   000000 702200 xent               TSX2  ! X66_ARET
      298     6150
      299     6151    1   END PSR$UN_RPN;
      300     6152        %EOD;

PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:65   
--  Include file information  --

   CP_6_SUBS.:E05TOU  is referenced.
   KL_MACRO_C.:E05TOU  is referenced.
   KL_AFCN_C.:E05TOU  is referenced.
   P_FEP_M.:E05TOU  is referenced.
   K_ID_E.:E05TOU  is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   PM_BUCKET_C.:E05TOU  is referenced.
   PS_SUBS_C.:E05TOU  is referenced.
   PS_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure PSR$UN_RPN.
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:66   

 **** Variables and constants ****

  ****  Section 011 RoData PSR$UN_RPN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c STRC        r     1 OPCODE_NAMES(0:12)
     0-0-0/c STRC(468)   r     1 OPS

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     5-0-0/w PTR         r     1 @L                         6-0-0/w PTR         r     1 @MAXL
     3-0-0/w PTR         r     1 @RPN                       4-0-0/w PTR         r     1 @STRING
    11-0-0/w SBIN        r     1 ARG                      125-0-0/c CHAR(8)     r     1 DEC
    14-0-0/w SBIN        r     1 DEPTH                    127-0-0/b BIT         r     1 DID_OP
    15-0-0/w SBIN        r     1 ITEM                      *0-0-0/w UBIN        r     1 L
    *0-0-0/w UBIN        r     1 MAXL                      10-0-0/w UBIN        r     1 MAXLEN
    16-0-0/w SBIN        r     1 NEXT                      *0-0-0/w STRC(72)    r     1 RPN
    62-0-0/c CHAR(140)   r     1 SCR                      130-0-0/w STRC(72)    r     1 STK(0:19)
    *0-0-0/c ACHR        r     1 STRING                    17-0-0/c CHAR(140)   r     1 WORK

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(140)   r     1 PS_BUFFER                  0-0-0/w PTR         r     1 PS_STATS$
     0-0-0/w STRC(180)   r     1 V_TABLE(0:0)

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:67   

     0-0-0N  NULL        r     1 M$LO                       0-0-0/c ASTR(9)     r     1 TEXTC


   Procedure PSR$UN_RPN requires 337 words for executable code.
   Procedure PSR$UN_RPN requires 138 words of local(AUTO) storage.
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:68   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:69   
          MINI XREF LISTING

ARG
      5940**DCL      6059<<ASSIGN   6072>>CALLBLT  6096>>ASSIGN   6101>>CALLBLT  6109>>ASSIGN   6111>>CALLBLT
      6122>>ASSIGN   6124>>CALLBLT
DEC
      5948**DCL      6072<<CALLBLT  6076>>DOWHILE  6086>>CALLBLT
DEPTH
      5943**DCL      6034>>CALLBLT  6034>>CALLBLT  6037>>CALLBLT  6039>>ASSIGN   6039>>ASSIGN   6054<<ASSIGN
      6061>>IF       6065>>ASSIGN   6065>>ASSIGN   6081<<ASSIGN   6081>>ASSIGN   6083>>ASSIGN   6084>>ASSIGN
      6094<<ASSIGN   6094>>ASSIGN   6098>>ASSIGN   6099>>ASSIGN   6111>>CALLBLT  6114>>CALLBLT  6116>>ASSIGN
      6116>>ASSIGN   6124>>CALLBLT  6124>>CALLBLT  6124>>CALLBLT  6124>>CALLBLT  6128<<ASSIGN   6128>>ASSIGN
      6130>>CALLBLT  6132>>ASSIGN   6132>>ASSIGN   6132>>ASSIGN
DID_OP
      5949**DCL      6031>>IF       6055<<ASSIGN   6088<<ASSIGN   6103<<ASSIGN   6118<<ASSIGN   6135<<ASSIGN
ITEM
      5944**DCL      6057<<DOINDEX  6059>>ASSIGN   6067>>DOCASE
L
      5936**DCL         6--PROC     6074<<ASSIGN   6076>>DOWHILE  6076>>DOWHILE  6078<<ASSIGN   6078>>ASSIGN
      6084>>ASSIGN   6086>>CALLBLT  6096<<ASSIGN   6099>>ASSIGN   6101>>CALLBLT  6109<<ASSIGN   6111>>CALLBLT
      6116>>ASSIGN   6122<<ASSIGN   6124>>CALLBLT  6132>>ASSIGN   6141<<ASSIGN   6143>>IF       6145<<ASSIGN
MAXL
      5937**DCL         6--PROC     6049--IF       6053>>ASSIGN
MAXLEN
      5939**DCL      5935--IMP-SIZ  6051<<ASSIGN   6053<<ASSIGN   6143>>IF       6145>>ASSIGN   6147>>ASSIGN
NEXT
      5945**DCL      6041<<ASSIGN   6041>>ASSIGN   6063<<ASSIGN   6065<<ASSIGN   6083>>ASSIGN   6086>>CALLBLT
      6098>>ASSIGN   6101>>CALLBLT
OPCODE_NAMES.LEN
      6026**DCL      6109>>ASSIGN   6122>>ASSIGN
OPCODE_NAMES.TEXT
      6027**DCL      6111>>CALLBLT  6124>>CALLBLT
OPS
      5959**DCL      6025--REDEF
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:70   
PAREN_IF_NEEDED
      6029**PROC     6071--CALL     6092--CALL     6107--CALL
PS_BUFFER
      4919**DCL      4954--DCLINIT  4956--DCLINIT
PS_COLLECT.CALCNT
      5074**DCL      5074--REDEF
PS_COLLECT.USRSRV
      5071**DCL      5072--REDEF
PS_HLPCGBUF.DSPMSK
      5331**DCL      5337--REDEF
PS_HLPCGBUF.SLCMSK
      5372**DCL      5379--REDEF
PS_OLD_COLLECT.CALCNT
      5078**DCL      5079--REDEF
PS_OLD_COLLECT.USRSRV
      5076**DCL      5076--REDEF
PS_STATS$
      5080**DCL      5082--IMP-PTR
RPN
      5925**DCL         6--PROC
RPN.INFO.USED#
      5928**DCL      6057>>DOINDEX
RPN.ITEM.ARG#
      5933**DCL      6059>>ASSIGN
RPN.ITEM.OPCODE#
      5932**DCL      6067>>DOCASE
SCR
      5947**DCL      6034<<CALLBLT  6037>>CALLBLT  6111<<CALLBLT  6124<<CALLBLT  6130>>CALLBLT
STK.LEN
      5952**DCL      6034>>CALLBLT  6039<<ASSIGN   6039>>ASSIGN   6065>>ASSIGN   6084<<ASSIGN   6099<<ASSIGN
      6116<<ASSIGN   6116>>ASSIGN   6124>>CALLBLT  6124>>CALLBLT  6132<<ASSIGN   6132>>ASSIGN   6132>>ASSIGN
      6141>>ASSIGN
STK.START
      5951**DCL      6034>>CALLBLT  6037>>CALLBLT  6065>>ASSIGN   6083<<ASSIGN   6098<<ASSIGN   6111>>CALLBLT
      6114>>CALLBLT  6124>>CALLBLT  6124>>CALLBLT  6130>>CALLBLT
STRING
PL6.E3A0      #003=PSR$UN_RPN File=PSR$RPN.:E05TSI                               WED 07/30/97 04:38 Page:71   
      5935**DCL         6--PROC     6147<<ASSIGN
TEXTC.LEN
      5084**DCL      5084--IMP-SIZ
V_TABLE.TITLE.LEN
      5058**DCL      6096>>ASSIGN
V_TABLE.TITLE.TEXT
      5058**DCL      6101>>CALLBLT
WORK
      5946**DCL      6034>>CALLBLT  6037<<CALLBLT  6086<<CALLBLT  6101<<CALLBLT  6111>>CALLBLT  6114<<CALLBLT
      6114>>CALLBLT  6124>>CALLBLT  6124>>CALLBLT  6130<<CALLBLT  6147>>ASSIGN

PL6.E3A0      #004=PSR$IDENT File=PSR$RPN.:E05TSI                                WED 07/30/97 04:39 Page:72   
      301        1        /*T***********************************************************/
      302        2        /*T*                                                         */
      303        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      304        4        /*T*                                                         */
      305        5        /*T***********************************************************/
      306        6        PSR$IDENT: PROC (NODE, STRING, STRING_, SCALE_,
      307        7            LOW_, HIGH_);
      308        8        %INCLUDE CP_6;
      309       89        %INCLUDE PS_DATA_R;
      310     5385           %REF_RPN (NAME=BASED_RPN, STCLASS=BASED);
      311     5396    1   DCL NODE UBIN;
      312     5397    1   DCL STRING CHAR (40);
      313     5398    1   DCL STRING_ BIT(72) DALIGNED;
      314     5399    1   DCL SCALE_ BIT(72) DALIGNED;
      315     5400    1   DCL LOW_ BIT(72) DALIGNED;
      316     5401    1   DCL HIGH_ BIT(72) DALIGNED;
      317     5402    1   DCL LINEAR_SCALE CHAR (0) CONSTANT INIT ('linear');
      318     5403    1   DCL LOG_SCALE CHAR (0) CONSTANT INIT ('log');
      319     5404    1   DCL SCALES_ (0:1) BIT (72) DALIGNED CONSTANT
      320     5405    1      INIT (VECTOR(LINEAR_SCALE), VECTOR(LOG_SCALE));
      321     5406    1   DCL LEN UBIN;
      322     5407    1   DCL PSR$UN_RPN ENTRY (4);
      323     5408
      324     5409    1      CALL PSR$UN_RPN (PS_STATS.RPN$(NODE) -> BASED_RPN, STRING, LEN);
      325     5410
      326     5411    1      STRING_ = VECTOR(SUBSTR(STRING, 0, LEN));
      327     5412
      328     5413    1      SCALE_ = SCALES_(PS_STATS.SCALE(NODE));
      329     5414
      330     5415    1      LOW_ = VECTOR(PS_STATS.LOW(NODE));
      331     5416    1      HIGH_ = VECTOR(PS_STATS.HIGH(NODE));
      332     5417
      333     5418    1      RETURN;
      334     5419
      335     5420    1   END PSR$IDENT;

PL6.E3A0      #004=PSR$IDENT File=PSR$RPN.:E05TSI                                WED 07/30/97 04:39 Page:73   
--  Include file information  --

   KL_MACRO_C.:E05TOU  is referenced.
   KL_AFCN_C.:E05TOU  is referenced.
   P_FEP_M.:E05TOU  is referenced.
   K_ID_E.:E05TOU  is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   PM_BUCKET_C.:E05TOU  is referenced.
   PS_SUBS_C.:E05TOU  is referenced.
   PS_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure PSR$IDENT.

   Procedure PSR$IDENT requires 49 words for executable code.
   Procedure PSR$IDENT requires 16 words of local(AUTO) storage.

    No errors detected in file PSR$RPN.:E05TSI    .

PL6.E3A0      #004=PSR$IDENT File=PSR$RPN.:E05TSI                                WED 07/30/97 04:39 Page:74   

 Object Unit name= PSR$IDENT                                  File name= PSR$RPN.:E05TOU
 UTS= JUL 30 '97 04:39:08.16 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none     0      0  M$LO
    2   DCB   even  none     0      0  M$DO
    3   DCB   even  none     0      0  M$SI
    4   DCB   even  none     0      0  F$LOG
    5   DCB   even  none     0      0  M$ME
    6   DCB   even  none     0      0  M$HLPCG
    7  RtLbCm even  none    30     36  PS_FDS
    8  RtLbCm even  none    32     40  PS_SELECT_RPN
    9  RtLbCm even  none    17     21  PS_STATS_RPN
   10  RtLbCm even  none    34     42  PS_STATS_BUCKET
   11  RoData even  UTS      8     10  PSR$IDENT
   12   Proc  even  none    49     61  PSR$IDENT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    12      0   yes            yes      Std        6  PSR$IDENT
PL6.E3A0      #004=PSR$IDENT File=PSR$RPN.:E05TSI                                WED 07/30/97 04:39 Page:75   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       4 PSR$UN_RPN
                       nStd      0 X66_AUTO_N
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  M$LO                                  M$DO
     M$SI                                  F$LOG                                 M$ME
     M$HLPCG                               PS_BUFFER                             PS_STATS$
     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #004=PSR$IDENT File=PSR$RPN.:E05TSI                                WED 07/30/97 04:39 Page:76   


      301        1        /*T***********************************************************/
      302        2        /*T*                                                         */
      303        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      304        4        /*T*                                                         */
      305        5        /*T***********************************************************/
      306        6        PSR$IDENT: PROC (NODE, STRING, STRING_, SCALE_,

      6 12 000000   000000 700200 xent  PSR$IDENT    TSX0  ! X66_AUTO_N
        12 000001   000020 000006                    ZERO    16,6

      307        7            LOW_, HIGH_);
      308        8        %INCLUDE CP_6;
      309       89        %INCLUDE PS_DATA_R;
      310     5385           %REF_RPN (NAME=BASED_RPN, STCLASS=BASED);
      311     5396    1   DCL NODE UBIN;
      312     5397    1   DCL STRING CHAR (40);
      313     5398    1   DCL STRING_ BIT(72) DALIGNED;
      314     5399    1   DCL SCALE_ BIT(72) DALIGNED;
      315     5400    1   DCL LOW_ BIT(72) DALIGNED;
      316     5401    1   DCL HIGH_ BIT(72) DALIGNED;
      317     5402    1   DCL LINEAR_SCALE CHAR (0) CONSTANT INIT ('linear');
      318     5403    1   DCL LOG_SCALE CHAR (0) CONSTANT INIT ('log');
      319     5404    1   DCL SCALES_ (0:1) BIT (72) DALIGNED CONSTANT
      320     5405    1      INIT (VECTOR(LINEAR_SCALE), VECTOR(LOG_SCALE));
      321     5406    1   DCL LEN UBIN;
      322     5407    1   DCL PSR$UN_RPN ENTRY (4);
      323     5408
      324     5409    1      CALL PSR$UN_RPN (PS_STATS.RPN$(NODE) -> BASED_RPN, STRING, LEN);

   5409 12 000002   200003 470500                    LDP0    @NODE,,AUTO
        12 000003   000000 236100                    LDQ     0,,PR0
        12 000004   000014 402007                    MPY     12,DL
        12 000005   000000 471400 xsym               LDP1    PS_STATS$
        12 000006   100013 473506                    LDP3    11,QL,PR1
        12 000007   200012 634500                    EPPR4   LEN,,AUTO
        12 000010   200016 454500                    STP4    LEN+4,,AUTO
PL6.E3A0      #004=PSR$IDENT File=PSR$RPN.:E05TSI                                WED 07/30/97 04:39 Page:77   
        12 000011   200004 236100                    LDQ     @STRING,,AUTO
        12 000012   200015 756100                    STQ     LEN+3,,AUTO
        12 000013   200014 453500                    STP3    LEN+2,,AUTO
        12 000014   200014 630500                    EPPR0   LEN+2,,AUTO
        12 000015   000021 631400 xsym               EPPR1   B_VECTNIL+17
        12 000016   000000 701000 xent               TSX1    PSR$UN_RPN
        12 000017   000000 011000                    NOP     0

      325     5410
      326     5411    1      STRING_ = VECTOR(SUBSTR(STRING, 0, LEN));

   5411 12 000020   200012 235100                    LDA     LEN,,AUTO
        12 000021   000020 735000                    ALS     16
        12 000022   000140 135007                    SBLA    96,DL
        12 000023   200004 236100                    LDQ     @STRING,,AUTO
        12 000024   200005 470500                    LDP0    @STRING_,,AUTO
        12 000025   000000 757100                    STAQ    0,,PR0

      327     5412
      328     5413    1      SCALE_ = SCALES_(PS_STATS.SCALE(NODE));

   5413 12 000026   200003 471500                    LDP1    @NODE,,AUTO
        12 000027   100000 236100                    LDQ     0,,PR1
        12 000030   000014 402007                    MPY     12,DL
        12 000031   000000 473400 xsym               LDP3    PS_STATS$
        12 000032   300006 720106                    LXL0    6,QL,PR3
        12 000033   000000 635010                    EAA     0,X0
        12 000034   000021 771000                    ARL     17
        12 000035   000004 237005 11                 LDAQ    SCALES_,AL
        12 000036   200006 474500                    LDP4    @SCALE_,,AUTO
        12 000037   400000 757100                    STAQ    0,,PR4

      329     5414
      330     5415    1      LOW_ = VECTOR(PS_STATS.LOW(NODE));

   5415 12 000040   100000 236100                    LDQ     0,,PR1
        12 000041   000014 402007                    MPY     12,DL
PL6.E3A0      #004=PSR$IDENT File=PSR$RPN.:E05TSI                                WED 07/30/97 04:39 Page:78   
        12 000042   777640 235007                    LDA     -96,DL
        12 000043   000022 736000                    QLS     18
        12 000044   000007 036003                    ADLQ    7,DU
        12 000045   000000 036000 xsym               ADLQ    PS_STATS$
        12 000046   200007 473500                    LDP3    @LOW_,,AUTO
        12 000047   300000 757100                    STAQ    0,,PR3

      331     5416    1      HIGH_ = VECTOR(PS_STATS.HIGH(NODE));

   5416 12 000050   100000 236100                    LDQ     0,,PR1
        12 000051   000014 402007                    MPY     12,DL
        12 000052   777640 235007                    LDA     -96,DL
        12 000053   000022 736000                    QLS     18
        12 000054   000010 036003                    ADLQ    8,DU
        12 000055   000000 036000 xsym               ADLQ    PS_STATS$
        12 000056   200010 475500                    LDP5    @HIGH_,,AUTO
        12 000057   500000 757100                    STAQ    0,,PR5

      332     5417
      333     5418    1      RETURN;

   5418 12 000060   000000 702200 xent               TSX2  ! X66_ARET
      334     5419
      335     5420    1   END PSR$IDENT;

PL6.E3A0      #004=PSR$IDENT File=PSR$RPN.:E05TSI                                WED 07/30/97 04:39 Page:79   
--  Include file information  --

   KL_MACRO_C.:E05TOU  is referenced.
   KL_AFCN_C.:E05TOU  is referenced.
   P_FEP_M.:E05TOU  is referenced.
   K_ID_E.:E05TOU  is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   PM_BUCKET_C.:E05TOU  is referenced.
   PS_SUBS_C.:E05TOU  is referenced.
   PS_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure PSR$IDENT.
PL6.E3A0      #004=PSR$IDENT File=PSR$RPN.:E05TSI                                WED 07/30/97 04:39 Page:80   

 **** Variables and constants ****

  ****  Section 011 RoData PSR$IDENT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(6)     r     1 LINEAR_SCALE               2-0-0/c CHAR(3)     r     1 LOG_SCALE
     4-0-0/d BIT (72)    r     1 SCALES_(0:1)

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    10-0-0/w PTR         r     1 @HIGH_                     7-0-0/w PTR         r     1 @LOW_
     3-0-0/w PTR         r     1 @NODE                      6-0-0/w PTR         r     1 @SCALE_
     4-0-0/w PTR         r     1 @STRING                    5-0-0/w PTR         r     1 @STRING_
    *0-0-0/d BIT (72)    r     1 HIGH_                     12-0-0/w UBIN        r     1 LEN
    *0-0-0/d BIT (72)    r     1 LOW_                      *0-0-0/w UBIN        r     1 NODE
    *0-0-0/d BIT (72)    r     1 SCALE_                    *0-0-0/c CHAR(40)    r     1 STRING
    *0-0-0/d BIT (72)    r     1 STRING_

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(140)   r     1 PS_BUFFER                  0-0-0/w PTR         r     1 PS_STATS$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(72)    r     1 BASED_RPN                  0-0-0N  NULL        r     1 M$LO
     0-0-0/w STRC(432)   r     1 PS_STATS(0:0)
PL6.E3A0      #004=PSR$IDENT File=PSR$RPN.:E05TSI                                WED 07/30/97 04:39 Page:81   
     0-0-0/c ASTR(9)     r     1 TEXTC


   Procedure PSR$IDENT requires 49 words for executable code.
   Procedure PSR$IDENT requires 16 words of local(AUTO) storage.

    No errors detected in file PSR$RPN.:E05TSI    .
PL6.E3A0      #004=PSR$IDENT File=PSR$RPN.:E05TSI                                WED 07/30/97 04:39 Page:82   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #004=PSR$IDENT File=PSR$RPN.:E05TSI                                WED 07/30/97 04:39 Page:83   
          MINI XREF LISTING

BASED_RPN
      5386**DCL      5409<>CALL
HIGH_
      5401**DCL         6--PROC     5416<<ASSIGN
LEN
      5406**DCL      5409<>CALL     5411>>ASSIGN
LINEAR_SCALE
      5402**DCL      5405--DCLINIT
LOG_SCALE
      5403**DCL      5405--DCLINIT
LOW_
      5400**DCL         6--PROC     5415<<ASSIGN
NODE
      5396**DCL         6--PROC     5409>>CALL     5413>>ASSIGN   5415>>ASSIGN   5416>>ASSIGN
PSR$UN_RPN
      5407**DCL-ENT  5409--CALL
PS_BUFFER
      4920**DCL      4955--DCLINIT  4957--DCLINIT
PS_COLLECT.CALCNT
      5075**DCL      5075--REDEF
PS_COLLECT.USRSRV
      5072**DCL      5073--REDEF
PS_HLPCGBUF.DSPMSK
      5332**DCL      5338--REDEF
PS_HLPCGBUF.SLCMSK
      5373**DCL      5380--REDEF
PS_OLD_COLLECT.CALCNT
      5079**DCL      5080--REDEF
PS_OLD_COLLECT.USRSRV
      5077**DCL      5077--REDEF
PS_STATS.HIGH
      5084**DCL      5416--ASSIGN
PL6.E3A0      #004=PSR$IDENT File=PSR$RPN.:E05TSI                                WED 07/30/97 04:39 Page:84   
PS_STATS.LOW
      5084**DCL      5415--ASSIGN
PS_STATS.RPN$
      5085**DCL      5409>>CALL
PS_STATS.SCALE
      5084**DCL      5413>>ASSIGN
PS_STATS$
      5081**DCL      5083--IMP-PTR  5409>>CALL     5413>>ASSIGN   5415>>ASSIGN   5416>>ASSIGN
SCALES_
      5404**DCL      5413>>ASSIGN
SCALE_
      5399**DCL         6--PROC     5413<<ASSIGN
STRING
      5397**DCL         6--PROC     5409<>CALL     5411--ASSIGN
STRING_
      5398**DCL         6--PROC     5411<<ASSIGN
TEXTC.LEN
      5085**DCL      5085--IMP-SIZ

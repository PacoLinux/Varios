VERSION E05

PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:1    
        1        1        /*M*    FSF$FORM - Convert form name to a set of attributes */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* CLM=8,ICP,MOC,DMR */
        8        8        /**/
        9        9        /**/
       10       10        FSF$FORM: PROC ALTRET;
       11       11    1   DCL FSA$GSP ENTRY(2)ALTRET;
       12       12    1   DCL FSM$HDRSET ENTRY(1);
       13       13    1   DCL FSW$URFORM ENTRY(2)ALTRET;
       14       14    1   DCL FMD$GBUF ENTRY(1);
       15       15    1   DCL FMD$RBUF ENTRY(1);
       16       16        /* EXTERNAL DATA */
       17       17    1   DCL B$JIT$ PTR SYMREF;
       18       18        /* INCLUDE FILES */
       19       19        %INCLUDE F$JIT_C;
       20      449        %MACRO F$DCBI(BASED=BASED);
       21      450        %INCLUDE F$DCB;
       22      499        %MEND;
       23      500        %INCLUDE FM$MACROS;
       24      875        %INCLUDE CP_6_SUBS;
       25     1415        /* LOCAL AUTOMATIC STORAGE */
       26     1416    1   DCL JDCB$ PTR;
       27     1417    1   DCL FORM$ PTR;
       28     1418    1   DCL BUF$ PTR;
       29     1419        /* BASED STRUCTURES */
       30     1420    1   DCL CHAR12 CHAR(12) BASED UNAL;
       31     1421        %F$DCBI (BASED="BASED(JDCB$)");
       32     1471        %FM$CFU;
       33     1477        %CODE16 (BASED="BASED(FORM$)");
       34     1485        /**/
       35     1486    1           JDCB$=B$JIT.DCB$;
       36     1487    1           CALL SUBR ALTRET (RBALTR);
       37     1488    1           F$DCB.ATTR=CODE16.ATTR;
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:2    
       38     1489    1           GOTO CONT;
       39     1490    1   FSF$TAPEFORM: ENTRY ALTRET;
       40     1491    1           JDCB$=B$JIT.DCB$;
       41     1492    2           IF F$DCB.FORM$=ADDR(NIL) THEN DO;
       42     1493    2              CALL FSA$GSP(SIZEW(CODE16),F$DCB.FORM$)ALTRET(ALTR);
       43     1494    2              F$DCB.FORM$->CODE16='0'B;
       44     1495    2              END;
       45     1496    1           CALL SUBR ALTRET (RBALTR);
       46     1497    1   CONT:   ;
       47     1498    1           F$DCB.CODE16$=F$DCB.FORM$;
       48     1499    1           F$DCB.DDEV=CODE16.DDEV;
       49     1500    1           IF F$DCB.DVFC=BINASC(0) THEN
       50     1501    1              F$DCB.DVFC=CODE16.DVFC;
       51     1502    1           F$DCB.WIDTH=CODE16.WIDTH;
       52     1503    1           F$DCB.IWL=CODE16.IWL;
       53     1504    1           IF F$DCB.LINES=0 OR F$DCB.LINES>CODE16.LINES THEN
       54     1505    1              F$DCB.LINES=CODE16.LINES;
       55     1506        /**/
       56     1507    1           IF F$DCB.CFU$=ADDR(NIL) THEN GOTO ZAP;
       57     1508    2           IF F$DCB.CFU$->FM$CFU.NRECS=0 THEN DO;
       58     1509    2   ZAP:       CODE16.RECNO=0;
       59     1510    2              CODE16.PAGENO=0;
       60     1511    2              CODE16.PAGEBASE=0;
       61     1512    2              CODE16.STEPPAGENO=0;
       62     1513    2              CODE16.STEPRECNO=0;
       63     1514    2              CODE16.LINENO=CODE16.LINES;
       64     1515    2              END;
       65     1516        /**/
       66     1517    1           RETURN;
       67     1518    1   RBALTR: CALL FMD$RBUF(BUF$);
       68     1519    1   ALTR:   ALTRETURN;
       69     1520    1   SUBR:   PROC ALTRET;
       70     1521    2           FORM$=F$DCB.FORM$;
       71     1522    3           IF NOT CODE16.GOOD THEN DO;
       72     1523    3              CALL FMD$GBUF(BUF$);
       73     1524    3              CALL FSW$URFORM(,BUF$)ALTRET(ALTR);
       74     1525    3              CALL FMD$RBUF(BUF$);
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:3    
       75     1526    3              F$DCB.IWL.TABIWL=(F$DCB.TAB$=ADDR(NIL));
       76     1527    3              F$DCB.IWL.SEQIWL=~F$DCB.SEQ;
       77     1528    3              CODE16.IWL=F$DCB.IWL;
       78     1529    3              END;
       79     1530    2           IF F$DCB.HEADER$~=ADDR(NIL) THEN
       80     1531    2              CALL FSM$HDRSET(F$DCB);
       81     1532    2           RETURN;
       82     1533    2   ALTR:   ALTRETURN;
       83     1534    2   END SUBR;
       84     1535    1   END FSF$FORM;
       85     1536        %EOD;

PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:4    
--  Include file information  --

   CP_6_SUBS.:E05TOU  is referenced.
   FM$MACROS.:E05TOU  is referenced.
   F$DCB.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  is referenced.
   F$JIT_C.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure FSF$FORM.

   Procedure FSF$FORM requires 150 words for executable code.
   Procedure FSF$FORM requires 10 words of local(AUTO) storage.

PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:5    

 Object Unit name= FSF$FORM                                   File name= FSF$FORM.:E05TOU
 UTS= JUL 29 '97 17:32:08.80 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none   150    226  FSF$FORM
    1  RoData even  none     2      2  FSF$FORM

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes    yes     yes      Std        0  FSF$FORM
     0     14          yes     yes      Std        0  FSF$TAPEFORM

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 FSA$GSP
         yes           Std       1 FMD$RBUF
         yes           Std       1 FMD$GBUF
         yes           Std       1 FSM$HDRSET
 yes     yes           Std       2 FSW$URFORM
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:6    

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     B$JIT$                                B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:7    


        1        1        /*M*    FSF$FORM - Convert form name to a set of attributes */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* CLM=8,ICP,MOC,DMR */
        8        8        /**/
        9        9        /**/
       10       10        FSF$FORM: PROC ALTRET;

     10  0 000000   000000 700200 xent  FSF$FORM     TSX0  ! X66_AUTO_0
         0 000001   000012 000000                    ZERO    10,0

       11       11    1   DCL FSA$GSP ENTRY(2)ALTRET;
       12       12    1   DCL FSM$HDRSET ENTRY(1);
       13       13    1   DCL FSW$URFORM ENTRY(2)ALTRET;
       14       14    1   DCL FMD$GBUF ENTRY(1);
       15       15    1   DCL FMD$RBUF ENTRY(1);
       16       16        /* EXTERNAL DATA */
       17       17    1   DCL B$JIT$ PTR SYMREF;
       18       18        /* INCLUDE FILES */
       19       19        %INCLUDE F$JIT_C;
       20      449        %MACRO F$DCBI(BASED=BASED);
       21      450        %INCLUDE F$DCB;
       22      499        %MEND;
       23      500        %INCLUDE FM$MACROS;
       24      875        %INCLUDE CP_6_SUBS;
       25     1415        /* LOCAL AUTOMATIC STORAGE */
       26     1416    1   DCL JDCB$ PTR;
       27     1417    1   DCL FORM$ PTR;
       28     1418    1   DCL BUF$ PTR;
       29     1419        /* BASED STRUCTURES */
       30     1420    1   DCL CHAR12 CHAR(12) BASED UNAL;
       31     1421        %F$DCBI (BASED="BASED(JDCB$)");
       32     1471        %FM$CFU;
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:8    
       33     1477        %CODE16 (BASED="BASED(FORM$)");
       34     1485        /**/
       35     1486    1           JDCB$=B$JIT.DCB$;

   1486  0 000002   000000 470400 xsym               LDP0    B$JIT$
         0 000003   000232 236100                    LDQ     154,,PR0
         0 000004   200003 756100                    STQ     JDCB$,,AUTO

       36     1487    1           CALL SUBR ALTRET (RBALTR);

   1487  0 000005   000125 701000 0                  TSX1    SUBR
         0 000006   000116 702000 0                  TSX2    RBALTR

       37     1488    1           F$DCB.ATTR=CODE16.ATTR;

   1488  0 000007   200004 470500                    LDP0    FORM$,,AUTO
         0 000010   000003 720100                    LXL0    3,,PR0
         0 000011   200003 471500                    LDP1    JDCB$,,AUTO
         0 000012   100040 440100                    SXL0    32,,PR1

       38     1489    1           GOTO CONT;

   1489  0 000013   000044 710000 0                  TRA     CONT

       39     1490    1   FSF$TAPEFORM: ENTRY ALTRET;

   1490  0 000014   000000 700200 xent  FSF$TAPEFORM TSX0  ! X66_AUTO_0
         0 000015   000012 000000                    ZERO    10,0

       40     1491    1           JDCB$=B$JIT.DCB$;

   1491  0 000016   000000 470400 xsym               LDP0    B$JIT$
         0 000017   000232 236100                    LDQ     154,,PR0
         0 000020   200003 756100                    STQ     JDCB$,,AUTO

       41     1492    2           IF F$DCB.FORM$=ADDR(NIL) THEN DO;

PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:9    
   1492  0 000021   200003 471500                    LDP1    JDCB$,,AUTO
         0 000022   100050 236100                    LDQ     40,,PR1
         0 000023   000001 116000 xsym               CMPQ    B_VECTNIL+1
         0 000024   000042 601000 0                  TNZ     s:1496

       42     1493    2              CALL FSA$GSP(SIZEW(CODE16),F$DCB.FORM$)ALTRET(ALTR);

   1493  0 000025   200003 236100                    LDQ     JDCB$,,AUTO
         0 000026   000050 036003                    ADLQ    40,DU
         0 000027   000001 235000 1                  LDA     1
         0 000030   200010 757100                    STAQ    BUF$+3,,AUTO
         0 000031   200010 630500                    EPPR0   BUF$+3,,AUTO
         0 000032   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000033   000000 701000 xent               TSX1    FSA$GSP
         0 000034   000124 702000 0                  TSX2    ALTR

       43     1494    2              F$DCB.FORM$->CODE16='0'B;

   1494  0 000035   200003 470500                    LDP0    JDCB$,,AUTO
         0 000036   000050 471500                    LDP1    40,,PR0
         0 000037   000100 100400                    MLR     fill='000'O
         0 000040   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         0 000041   100000 000234                    ADSC9   0,,PR1                   cn=0,n=156

       44     1495    2              END;

       45     1496    1           CALL SUBR ALTRET (RBALTR);

   1496  0 000042   000125 701000 0                  TSX1    SUBR
         0 000043   000116 702000 0                  TSX2    RBALTR

   1492  0 000044                       CONT         null
       46     1497    1   CONT:   ;
       47     1498    1           F$DCB.CODE16$=F$DCB.FORM$;

   1498  0 000044   200003 470500                    LDP0    JDCB$,,AUTO
         0 000045   000050 236100                    LDQ     40,,PR0
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:10   
         0 000046   000053 756100                    STQ     43,,PR0

       48     1499    1           F$DCB.DDEV=CODE16.DDEV;

   1499  0 000047   200004 471500                    LDP1    FORM$,,AUTO
         0 000050   100003 236100                    LDQ     3,,PR1
         0 000051   000022 772000                    QRL     18
         0 000052   000004 552110                    STBQ    4,'10'O,PR0

       49     1500    1           IF F$DCB.DVFC=BINASC(0) THEN

   1500  0 000053   000044 236100                    LDQ     36,,PR0
         0 000054   777000 376007                    ANQ     -512,DL
         0 000055   000000 116003                    CMPQ    0,DU
         0 000056   000062 601000 0                  TNZ     s:1502

       50     1501    1              F$DCB.DVFC=CODE16.DVFC;

   1501  0 000057   100026 236100                    LDQ     22,,PR1
         0 000060   000022 772000                    QRL     18
         0 000061   000044 552110                    STBQ    36,'10'O,PR0

       51     1502    1           F$DCB.WIDTH=CODE16.WIDTH;

   1502  0 000062   100026 236100                    LDQ     22,,PR1
         0 000063   000022 772000                    QRL     18
         0 000064   000004 552104                    STBQ    4,'04'O,PR0

       52     1503    1           F$DCB.IWL=CODE16.IWL;

   1503  0 000065   100026 236100                    LDQ     22,,PR1
         0 000066   000001 736000                    QLS     1
         0 000067   000103 752104                    STCQ    67,'04'O,PR0

       53     1504    1           IF F$DCB.LINES=0 OR F$DCB.LINES>CODE16.LINES THEN

   1504  0 000070   000044 220100                    LDX0    36,,PR0
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:11   
         0 000071   000075 600000 0                  TZE     s:1505
         0 000072   100006 721100                    LXL1    6,,PR1
         0 000073   000044 101100                    CMPX1   36,,PR0
         0 000074   000077 603000 0                  TRC     s:1507

       54     1505    1              F$DCB.LINES=CODE16.LINES;

   1505  0 000075   100006 721100                    LXL1    6,,PR1
         0 000076   000044 741100                    STX1    36,,PR0

       55     1506        /**/
       56     1507    1           IF F$DCB.CFU$=ADDR(NIL) THEN GOTO ZAP;

   1507  0 000077   000066 236100                    LDQ     54,,PR0
         0 000100   000001 116000 xsym               CMPQ    B_VECTNIL+1
         0 000101   000105 600000 0                  TZE     ZAP

       57     1508    2           IF F$DCB.CFU$->FM$CFU.NRECS=0 THEN DO;

   1508  0 000102   000066 473500                    LDP3    54,,PR0
         0 000103   300001 235100                    LDA     1,,PR3
         0 000104   000115 601000 0                  TNZ     s:1517

       58     1509    2   ZAP:       CODE16.RECNO=0;

   1509  0 000105   100004 450100       ZAP          STZ     4,,PR1

       59     1510    2              CODE16.PAGENO=0;

   1510  0 000106   000000 220003                    LDX0    0,DU
         0 000107   100005 740100                    STX0    5,,PR1

       60     1511    2              CODE16.PAGEBASE=0;

   1511  0 000110   100006 740100                    STX0    6,,PR1

       61     1512    2              CODE16.STEPPAGENO=0;
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:12   

   1512  0 000111   100024 740100                    STX0    20,,PR1

       62     1513    2              CODE16.STEPRECNO=0;

   1513  0 000112   100025 450100                    STZ     21,,PR1

       63     1514    2              CODE16.LINENO=CODE16.LINES;

   1514  0 000113   100006 721100                    LXL1    6,,PR1
         0 000114   100005 441100                    SXL1    5,,PR1

       64     1515    2              END;

       65     1516        /**/
       66     1517    1           RETURN;

   1517  0 000115   000000 702200 xent               TSX2  ! X66_ARET

       67     1518    1   RBALTR: CALL FMD$RBUF(BUF$);

   1518  0 000116   200005 630500       RBALTR       EPPR0   BUF$,,AUTO
         0 000117   200010 450500                    STP0    BUF$+3,,AUTO
         0 000120   200010 630500                    EPPR0   BUF$+3,,AUTO
         0 000121   000017 631400 xsym               EPPR1   B_VECTNIL+15
         0 000122   000000 701000 xent               TSX1    FMD$RBUF
         0 000123   000000 011000                    NOP     0

       68     1519    1   ALTR:   ALTRETURN;

   1519  0 000124   000000 702200 xent  ALTR         TSX2  ! X66_AALT

       69     1520    1   SUBR:   PROC ALTRET;

   1520  0 000125   200006 741300       SUBR         STX1  ! BUF$+1,,AUTO

       70     1521    2           FORM$=F$DCB.FORM$;
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:13   

   1521  0 000126   200003 470500                    LDP0    JDCB$,,AUTO
         0 000127   000050 236100                    LDQ     40,,PR0
         0 000130   200004 756100                    STQ     FORM$,,AUTO

       71     1522    3           IF NOT CODE16.GOOD THEN DO;

   1522  0 000131   200004 471500                    LDP1    FORM$,,AUTO
         0 000132   100026 236100                    LDQ     22,,PR1
         0 000133   400000 316007                    CANQ    -131072,DL
         0 000134   000213 601000 0                  TNZ     s:1530

       72     1523    3              CALL FMD$GBUF(BUF$);

   1523  0 000135   200005 633500                    EPPR3   BUF$,,AUTO
         0 000136   200010 453500                    STP3    BUF$+3,,AUTO
         0 000137   200010 630500                    EPPR0   BUF$+3,,AUTO
         0 000140   000017 631400 xsym               EPPR1   B_VECTNIL+15
         0 000141   000000 701000 xent               TSX1    FMD$GBUF
         0 000142   000000 011000                    NOP     0

       73     1524    3              CALL FSW$URFORM(,BUF$)ALTRET(ALTR);

   1524  0 000143   200005 630500                    EPPR0   BUF$,,AUTO
         0 000144   200011 450500                    STP0    BUF$+4,,AUTO
         0 000145   000001 236000 xsym               LDQ     B_VECTNIL+1
         0 000146   200010 756100                    STQ     BUF$+3,,AUTO
         0 000147   200010 630500                    EPPR0   BUF$+3,,AUTO
         0 000150   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000151   000000 701000 xent               TSX1    FSW$URFORM
         0 000152   000224 702000 0                  TSX2    ALTR

       74     1525    3              CALL FMD$RBUF(BUF$);

   1525  0 000153   200005 630500                    EPPR0   BUF$,,AUTO
         0 000154   200010 450500                    STP0    BUF$+3,,AUTO
         0 000155   200010 630500                    EPPR0   BUF$+3,,AUTO
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:14   
         0 000156   000017 631400 xsym               EPPR1   B_VECTNIL+15
         0 000157   000000 701000 xent               TSX1    FMD$RBUF
         0 000160   000000 011000                    NOP     0

       75     1526    3              F$DCB.IWL.TABIWL=(F$DCB.TAB$=ADDR(NIL));

   1526  0 000161   400000 220003                    LDX0    -131072,DU
         0 000162   200003 470500                    LDP0    JDCB$,,AUTO
         0 000163   000047 236100                    LDQ     39,,PR0
         0 000164   000001 116000 xsym               CMPQ    B_VECTNIL+1
         0 000165   000167 600000 0                  TZE     s:1526+6
         0 000166   000000 220003                    LDX0    0,DU
         0 000167   000000 636010                    EAQ     0,X0
         0 000170   000022 772000                    QRL     18
         0 000171   000103 676100                    ERQ     67,,PR0
         0 000172   400000 376007                    ANQ     -131072,DL
         0 000173   000103 656100                    ERSQ    67,,PR0

       76     1527    3              F$DCB.IWL.SEQIWL=~F$DCB.SEQ;

   1527  0 000174   000044 236100                    LDQ     36,,PR0
         0 000175   000033 736000                    QLS     27
         0 000176   400000 376003                    ANQ     -131072,DU
         0 000177   400000 676003                    ERQ     -131072,DU
         0 000200   000023 772000                    QRL     19
         0 000201   000103 676100                    ERQ     67,,PR0
         0 000202   200000 376007                    ANQ     65536,DL
         0 000203   000103 656100                    ERSQ    67,,PR0

       77     1528    3              CODE16.IWL=F$DCB.IWL;

   1528  0 000204   200004 471500                    LDP1    FORM$,,AUTO
         0 000205   000103 236100                    LDQ     67,,PR0
         0 000206   770000 376007                    ANQ     -4096,DL
         0 000207   000001 772000                    QRL     1
         0 000210   100026 676100                    ERQ     22,,PR1
         0 000211   377000 376007                    ANQ     130560,DL
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:15   
         0 000212   100026 656100                    ERSQ    22,,PR1

       78     1529    3              END;

       79     1530    2           IF F$DCB.HEADER$~=ADDR(NIL) THEN

   1530  0 000213   000046 236100                    LDQ     38,,PR0
         0 000214   000001 116000 xsym               CMPQ    B_VECTNIL+1
         0 000215   000222 600000 0                  TZE     s:1532

       80     1531    2              CALL FSM$HDRSET(F$DCB);

   1531  0 000216   200003 630500                    EPPR0   JDCB$,,AUTO
         0 000217   000017 631400 xsym               EPPR1   B_VECTNIL+15
         0 000220   000000 701000 xent               TSX1    FSM$HDRSET
         0 000221   000000 011000                    NOP     0

       81     1532    2           RETURN;

   1532  0 000222   200006 221300                    LDX1  ! BUF$+1,,AUTO
         0 000223   000001 702211                    TSX2  ! 1,X1

       82     1533    2   ALTR:   ALTRETURN;

   1533  0 000224   200006 221300       ALTR         LDX1  ! BUF$+1,,AUTO
         0 000225   000000 702211                    TSX2  ! 0,X1

(unnamed)
 Sect OctLoc
   1     000   000000 000047   000000 006000                                    ...'....
       83     1534    2   END SUBR;
       84     1535    1   END FSF$FORM;
       85     1536        %EOD;

PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:16   
--  Include file information  --

   CP_6_SUBS.:E05TOU  is referenced.
   FM$MACROS.:E05TOU  is referenced.
   F$DCB.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  is referenced.
   F$JIT_C.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure FSF$FORM.
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:17   

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     5-0-0/w PTR         r     1 BUF$                       4-0-0/w PTR         r     1 FORM$
     3-0-0/w PTR         r     1 JDCB$

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$JIT$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(8856)  r     1 B$JIT                      0-0-0/w STRC(1404)  r     1 CODE16
     0-0-0/d ASTR(3528)  r     1 F$DCB                      0-0-0/w STRC(288)   r     1 FM$CFU


   Procedure FSF$FORM requires 150 words for executable code.
   Procedure FSF$FORM requires 10 words of local(AUTO) storage.
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:18   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:19   
          MINI XREF LISTING

ALTR
      1519**LABEL    1493--CALLALT
ALTR IN PROCEDURE SUBR
      1533**LABEL    1524--CALLALT
B$JIT.DCB$
       436**DCL      1486>>ASSIGN   1491>>ASSIGN
B$JIT.ERR.MID
       347**DCL       347--REDEF
B$JIT$
        17**DCL       341--IMP-PTR  1486>>ASSIGN   1491>>ASSIGN
BUF$
      1418**DCL      1518<>CALL     1523<>CALL     1524<>CALL     1525<>CALL
CODE16
      1478**DCL      1493--CALL     1494<<ASSIGN
CODE16.ATTR
      1478**DCL      1488>>ASSIGN
CODE16.DDEV
      1478**DCL      1499>>ASSIGN
CODE16.DVFC
      1482**DCL      1501>>ASSIGN
CODE16.GOOD
      1482**DCL      1522>>IF
CODE16.IWL
      1482**DCL      1503>>ASSIGN   1528<<ASSIGN
CODE16.LINENO
      1479**DCL      1514<<ASSIGN
CODE16.LINES
      1479**DCL      1504>>IF       1505>>ASSIGN   1514>>ASSIGN
CODE16.PAGEBASE
      1479**DCL      1511<<ASSIGN
CODE16.PAGENO
      1478**DCL      1510<<ASSIGN
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:20   
CODE16.RECNO
      1478**DCL      1509<<ASSIGN
CODE16.STEPPAGENO
      1482**DCL      1512<<ASSIGN
CODE16.STEPRECNO
      1482**DCL      1513<<ASSIGN
CODE16.WIDTH
      1482**DCL      1502>>ASSIGN
CONT
      1492**LABEL    1489--GOTO
F$DCB
      1422**DCL      1531<>CALL
F$DCB.ACTPOS
      1447**DCL      1447--REDEF
F$DCB.ARS
      1422**DCL      1422--REDEF
F$DCB.ATTR
      1440**DCL      1441--REDEF    1488<<ASSIGN
F$DCB.BORROW
      1455**DCL      1455--REDEF    1455--REDEF    1455--REDEF
F$DCB.CFU$
      1456**DCL      1507>>IF       1508>>IF
F$DCB.CODE16$
      1446**DCL      1498<<ASSIGN
F$DCB.DCBNAME.L
      1469**DCL      1469--IMP-SIZ  1531>>CALL
F$DCB.DDEV
      1428**DCL      1499<<ASSIGN
F$DCB.DVFC
      1443**DCL      1500>>IF       1501<<ASSIGN
F$DCB.EOMCHAR
      1426**DCL      1426--REDEF
F$DCB.FLDID
      1450**DCL      1450--REDEF
F$DCB.FORM$
      1444**DCL      1444--REDEF    1492>>IF       1493<>CALL     1494>>ASSIGN   1498>>ASSIGN   1521>>ASSIGN
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:21   
F$DCB.FSECT
      1460**DCL      1460--REDEF
F$DCB.FSN
      1437**DCL      1437--REDEF    1437--REDEF    1438--REDEF
F$DCB.HEADER$
      1443**DCL      1443--REDEF    1530>>IF
F$DCB.IWL
      1463**DCL      1503<<ASSIGN   1528>>ASSIGN
F$DCB.IWL.SEQIWL
      1463**DCL      1527<<ASSIGN
F$DCB.IWL.TABIWL
      1463**DCL      1526<<ASSIGN
F$DCB.IXTNSIZE
      1441**DCL      1441--REDEF
F$DCB.LASTSTA$
      1431**DCL      1431--REDEF
F$DCB.LINES
      1443**DCL      1504>>IF       1504>>IF       1505<<ASSIGN
F$DCB.LVL
      1456**DCL      1456--REDEF
F$DCB.NAME.C
      1431**DCL      1431--REDEF
F$DCB.NOEOF
      1452**DCL      1452--REDEF
F$DCB.NRECS
      1442**DCL      1442--REDEF
F$DCB.NRECX
      1461**DCL      1461--REDEF
F$DCB.OHDR
      1453**DCL      1453--REDEF
F$DCB.ORG
      1436**DCL      1436--REDEF
F$DCB.PRECNO
      1459**DCL      1459--REDEF
F$DCB.RCSZ
      1464**DCL      1464--REDEF
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:22   
F$DCB.RES
      1432**DCL      1432--REDEF
F$DCB.SEQ
      1443**DCL      1527>>ASSIGN
F$DCB.SETX
      1444**DCL      1444--REDEF
F$DCB.TAB$
      1443**DCL      1444--REDEF    1526>>ASSIGN
F$DCB.TDA
      1458**DCL      1458--REDEF
F$DCB.WIDTH
      1429**DCL      1502<<ASSIGN
F$DCB.WSN
      1433**DCL      1433--REDEF
FM$CFU.ACCTX
      1473**DCL      1473--REDEF
FM$CFU.NRECS
      1473**DCL      1508>>IF
FMD$GBUF
        14**DCL-ENT  1523--CALL
FMD$RBUF
        15**DCL-ENT  1518--CALL     1525--CALL
FORM$
      1417**DCL      1478--IMP-PTR  1488>>ASSIGN   1499>>ASSIGN   1501>>ASSIGN   1502>>ASSIGN   1503>>ASSIGN
      1504>>IF       1505>>ASSIGN   1509>>ASSIGN   1510>>ASSIGN   1511>>ASSIGN   1512>>ASSIGN   1513>>ASSIGN
      1514>>ASSIGN   1514>>ASSIGN   1521<<ASSIGN   1522>>IF       1528>>ASSIGN
FSA$GSP
        11**DCL-ENT  1493--CALL
FSM$HDRSET
        12**DCL-ENT  1531--CALL
FSW$URFORM
        13**DCL-ENT  1524--CALL
JDCB$
      1416**DCL      1422--IMP-PTR  1486<<ASSIGN   1488>>ASSIGN   1491<<ASSIGN   1492>>IF       1493>>CALL
      1494>>ASSIGN   1498>>ASSIGN   1498>>ASSIGN   1499>>ASSIGN   1500>>IF       1501>>ASSIGN   1502>>ASSIGN
      1503>>ASSIGN   1504>>IF       1504>>IF       1505>>ASSIGN   1507>>IF       1508>>IF       1521>>ASSIGN
PL6.E3A0      #001=FSF$FORM File=FSF$FORM.:E05TSI                                TUE 07/29/97 17:32 Page:23   
      1526>>ASSIGN   1526>>ASSIGN   1527>>ASSIGN   1527>>ASSIGN   1528>>ASSIGN   1530>>IF       1531>>CALL
      1531>>CALL
RBALTR
      1518**LABEL    1487--CALLALT  1496--CALLALT
SUBR
      1520**PROC     1487--CALL     1496--CALL
ZAP
      1509**LABEL    1507--GOTO

PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:24   
       86        1        /*T***********************************************************/
       87        2        /*T*                                                         */
       88        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
       89        4        /*T*                                                         */
       90        5        /*T***********************************************************/
       91        6        /*F*    NAME: FSF$SYMBFILE
       92        7                PURPOSE: OPEN A SYMBIONT FILE AND WRITE THE BANNER INTO IT.
       93        8        */
       94        9        /*D*    NAME: FSF$SYMBFILE
       95       10                CALL: CALL  FSF$SYMBFILE(BUF$,PN$,JIT$)ALTRET;
       96       11                INPUT: BUF$ POINTS TO A FORMS RECORD; WE USE BANNER INFO.
       97       12                      PN$ IS AN OPEN FPT.
       98       13                      JIT$ POINTS TO A JIT TO GIVE TO THE BANNER CREATOR.
       99       14                      B$JIT.DCB$ IS THE SYMBIONT FILE DCB.
      100       15                OUTPUT: DCB IS OPEN.
      101       16        */
      102       17        FSF$SYMBFILE: PROC(BU$,PN$,J$)ALTRET;
      103       18    1   DCL BU$ PTR;
      104       19    1   DCL J$ PTR;
      105       20    1   DCL BUF$ PTR;
      106       21    1   DCL JIT$ PTR;
      107       22        %INCLUDE F$CP6P_C;
      108       33        %FPT$OPEN_P(FPTN=PN$,STCLASS=,PFMT=PTR);
      109       39        /***   DATA REFERENCES   ***/
      110       40    1   DCL B$JIT$ PTR SYMREF;
      111       41    1   DCL B$ROSEG$ PTR SYMREF;
      112       42    1   DCL S_STREAMFILEID CHAR(3)ALIGNED SYMREF;
      113       43    1   DCL B_SITEINFO UBIN SYMREF;
      114       44        /***   ENTRY REFERENCES   ***/
      115       45    1   DCL UMT$IDT ENTRY(2)ALTRET;
      116       46    1   DCL FSK$BANNER ENTRY(4)ALTRET;
      117       47    1   DCL FSK$GBANNER ENTRY(4)ALTRET;
      118       48    1   DCL FMD$GBUF ENTRY (1); /* Steal a file management page buffer  */
      119       49    1   DCL FMD$RBUF ENTRY (1); /* Return a stolen file management page */
      120       50    1   DCL HFF$TRAPALT ENTRY ALTRET; /* Take control of trap conditions. */
      121       51    1   DCL FMH$SYMB ENTRY(3)ALTRET;
      122       52    1   DCL FMH$TRUNC ENTRY ALTRET;
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:25   
      123       53    1   DCL FMN$OPNF ENTRY(1);
      124       54    1   DCL FMN$GETFIT ENTRY(2) ALTRET;
      125       55    1   DCL FMO$LOCCODP ENTRY(2) ALTRET;
      126       56        /*** INCLUDES   ***/
      127       57        %INCLUDE B$JIT;
      128      660        %INCLUDE FS$FIT;
      129      703        %INCLUDE FM$FIT;
      130      924        %FS_OSFN(FPTN=OSFN,STCLASS=BASED);
      131      938        %MACRO F$DCBI(BASED=BASED);
      132      939        %CODE16;
      133      940        %CODE04;
      134      941        %INCLUDE F$DCB;
      135      990        %MEND;
      136      991        %F$DCBI(BASED="BASED(JDCB$)");
      137     1057        %INCLUDE FS_SUPER_C;
      138     1820        %INCLUDE XG_SUBS_C;
      139     2314        %FS$FORMREC (NAME=FS$FORMREC,
      140     2315                     STCLASS="BASED(BUF$)");
      141     2386        %FS$WRSP (NAME=FS$WRSP,
      142     2387                  STCLASS="BASED(WORK$)");
      143     2405        %FS$BAN_INIT (NAME=FS$FINST,
      144     2406                      STCLASS=BASED);
      145     2463        %FS$GFORMREC (NAME=GFORM,
      146     2464                      STCLASS="BASED(BUF$)");
      147     2523        %FS$GWRSP (NAME=GWRSP,
      148     2524                   STCLASS="BASED(WORK$)");
      149     2548        %FS$GRAPHIC_BANNER (NAME=GBAN,
      150     2549                            STCLASS=BASED);
      151     2606        %FS$WORKAUTO;
      152     2625        %MACRO B$ROSEG(BASED=BASED);
      153     2626        %INCLUDE B$ROSEG;
      154     2689        %MEND;
      155     2690        %B$ROSEG(BASED="BASED(B$ROSEG$)");
      156     2750        %INCLUDE F_FPTCODE_C;
      157     2786        %INCLUDE CP_6_SUBS;
      158     3326        %INCLUDE F_CP6;
      159     4351        %FPT_WRITE(FPTN=WRBAN,STCLASS=CONSTANT,VFC=YES);
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:26   
      160     4382        %FPT_WRITE(FPTN=WRINFO,STCLASS=CONSTANT,VFC=YES,TRANS=YES,BP=YES);
      161     4413        %VLP_TAB(FPTN=TABZERO,
      162     4414                 MARGIN=1,
      163     4415                 STCLASS=CONSTANT);
      164     4429        %INCLUDE NK_VFC_C;
      165     4503        %INCLUDE F_ERRORS_C;
      166     4743        %SUB FCG#="'0623'O"; /* These 2 subs are necessary for the */
      167     4744        %SUB MID#="'06'O"; /* ERRCODE macro to work.  */
      168     4745        %INCLUDE F_MACROS_C;
      169     4756        %ERRCODE (NAME=ERR$MAX0, COD#=%E$MAX0_NEVER_OUT);
      170     4760    1   DCL CHARS CHAR(512) BASED;
      171     4761    1   DCL CHAR1 CHAR(1)BASED;
      172     4762        /***   AUTOMATIC STORAGE   ***/
      173     4763    1   DCL JDCB$ PTR;
      174     4764    1   DCL I UBIN;
      175     4765    1   DCL J SBIN;
      176     4766    1   DCL WORK$ PTR;
      177     4767    1   DCL BUFF$ PTR;
      178     4768    1   DCL BWORK$ PTR;
      179     4769    1   DCL PAGE$ PTR;
      180     4770    1   DCL WSN CHAR(8);
      181     4771        %EJECT;
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:27   
      182     4772    1           JDCB$=B$JIT.DCB$;
      183     4773    1           JIT$=J$;
      184     4774    1           BUF$=BU$;
      185     4775    1           IF (F$DCB.DDEV & %DDEV_CP#)
      186     4776    2           THEN DO; /* The output goes to CP check PO max */
      187     4777    2              IF B$JIT.NOPOEVER
      188     4778    3              THEN DO;
      189     4779    3                 B$JIT.ERR = ERR$MAX0;
      190     4780        /*E*  ERROR: FSF-E$MAX0_NEVER_OUT-2
      191     4781              MESSAGE: You are not authorized for output through %UF.
      192     4782              MESSAGE1: You tried to M$WRITE to either;
      193     4783                       Card Punch with MAXCPO=0,        or
      194     4784                       Diagnostic output with MAXDO=0,  or
      195     4785                       any other output DCB with MAXLO=0,
      196     4786                       and since the maximum is 0, no symbiont output is allowed.
      197     4787        */
      198     4788    3                 ALTRETURN;
      199     4789    3                 END;
      200     4790    2              END;
      201     4791    1           ELSE IF (JDCB$ = DCBADDR (%M$DO#))
      202     4792    2              THEN DO; /* This checks for DO max of 0 */
      203     4793    2                 IF B$JIT.NODOEVER
      204     4794    3                 THEN DO;
      205     4795    3                    B$JIT.ERR = ERR$MAX0;
      206     4796    3                    ALTRETURN;
      207     4797    3                    END;
      208     4798    2                 END;
      209     4799    2              ELSE DO; /* Assume other than CP or DO is LO */
      210     4800    2                 IF B$JIT.NOLOEVER
      211     4801    3                 THEN DO;
      212     4802    3                    B$JIT.ERR = ERR$MAX0;
      213     4803    3                    ALTRETURN;
      214     4804    3                    END;
      215     4805    2                 END;
      216     4806    1           F$DCB.IASN=%FILE#;
      217     4807    1           F$DCB.EXIST=%ERROR#;
      218     4808    1           F$DCB.ORG=%SYMB#;
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:28   
      219     4809    1   OOPSNOWTHERE:;
      220     4810    1           F$DCB.PGINGRAN = 0; /* INIT NUMBER OF PAGES IN GRANULE */
      221     4811    1           F$DCB.IXTNSIZE=10;
      222     4812    1           F$DCB.XTNSIZE=10;
      223     4813    1           F$DCB.WSR=1;
      224     4814    1           F$DCB.NAME.C=' ';
      225     4815    1           F$DCB.NAME.L=LENGTHC(OSFN)-1;
      226     4816    1           I=JIT$->B$JIT.SYSID;
      227     4817    1           CALL BINCHAR(ADDR(F$DCB.NAME)->OSFN.SYSID,I);
      228     4818    1           ADDR(F$DCB.NAME)->OSFN.BOOTID=S_STREAMFILEID;
      229     4819    2           IF JIT$=B$JIT$ OR I<10 THEN DO;
      230     4820    2              I=B$ROSEG.STREAMFILENO;
      231     4821    2              B$ROSEG.STREAMFILENO=B$ROSEG.STREAMFILENO+1;
      232     4822    2              END;
      233     4823    1           ELSE I=1;
      234     4824    1           CALL BINCHAR(ADDR(F$DCB.NAME)->OSFN.NUM,I);
      235     4825    1           CALL BINCHAR(ADDR(F$DCB.NAME)->OSFN.CNUM,0);
      236     4826    1           J=B$JIT.PRDPRM;
      237     4827    1           IF J<=F$DCB.IXTNSIZE THEN
      238     4828    1              B$JIT.PRDPRM=F$DCB.IXTNSIZE+1;
      239     4829    1           WSN=F$DCB.WSN;
      240     4830    1           F$DCB.WSN=' ';
      241     4831    1           CALL FMN$OPNF(PN$);
      242     4832    1           F$DCB.WSN=WSN;
      243     4833    1           B$JIT.PRDPRM=J;
      244     4834    1           F$DCB.OWNER='0'B;
      245     4835    1           IF B$JIT.ERR.CODE~=0 THEN
      246     4836    1              IF B$JIT.ERR.CODE=%E$CREATERR THEN
      247     4837    1                 GOTO OOPSNOWTHERE;
      248     4838    1              ELSE
      249     4839    1                 ALTRETURN;
      250     4840    2           IF JIT$~=B$JIT$ THEN DO; /* Fix the file's owner, too. */
      251     4841    2              CALL FMN$GETFIT(PAGE$,I) ALTRET(NOCODE04);
      252     4842    2              PAGE$=PINCRW(PAGE$,5);
      253     4843    2              CALL FMO$LOCCODP(PAGE$,4) ALTRET(NOCODE04);
      254     4844    2              PAGE$->CODE04.CREATOR.NAME=JIT$->B$JIT.UNAME;
      255     4845    2              PAGE$->CODE04.CREATOR.ACCT=JIT$->B$JIT.ACCN;
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:29   
      256     4846    2              F$DCB.BFR.BUFUP(I)='1'B;
      257     4847    2   NOCODE04:  END;
      258     4848    1           F$DCB.WAIT=1;
      259     4849        /*      THE ENTIRE BUF$ PAGE IS NOW AVAILABLE FOR USE; THE
      260     4850                stuff at the end was a PROCATTR (FS$DEST) that was needed
      261     4851                only for the open.  This means the meaningful part of a form
      262     4852                definition (banner or alignment) must fit in 4095 - SIZEC
      263     4853                (FS$DEST) bytes to work.  The following call to FMD is to get
      264     4854                another buffer page for all the housework so we DONT run the
      265     4855                risk of clobbering the form def in it's page. */
      266     4856
      267     4857    1           CALL FMD$GBUF (PAGE$);
      268     4858    1           BUFF$ = PINCRW (PAGE$, 1024-SIZEW(CHARS));
      269     4859    1           WORK$=PINCRW(BUFF$,-SIZEW(FS$WRSP)); /* Workspace */
      270     4860                /* BTEXT_REC_SIZE IS CHARS, WE'VE TO CONVERT TO WORDS*/
      271     4861    1           BWORK$=PINCRW(WORK$,-(SIZEW(FS$WORKAUTO)+(%BTEXT_REC_SIZE/4)));
      272     4862    1           CALL HFF$TRAPALT ALTRET (OOPS);
      273     4863
      274     4864    1           IF NOT FS$FORMREC.GRAPHIC
      275     4865    2           THEN DO;
      276     4866    2              F$DCB.UB$=ADDR(FS$FORMREC.SOFTFORM);
      277     4867    2              F$DCB.UBYTES=SIZEC(FS$FORMREC.SOFTFORM);
      278     4868    2              J=FS$FORMREC.SOFTFORM.VLPPLATEN.LIMBO;
      279     4869    2              FS$FORMREC.SOFTFORM.VLPPLATEN.LENGTH=
      280     4870    2                FS$FORMREC.SOFTFORM.VLPPLATEN.LENGTH+J;
      281     4871    2              FS$FORMREC.SOFTFORM.VLPPLATEN.LIMBO=0;
      282     4872    2              CALL FMH$SYMB(MFC_WRITE,WRINFO.V,%VFC_VFU);
      283     4873    2              FS$FORMREC.SOFTFORM.VLPPLATEN.LENGTH=
      284     4874    2                FS$FORMREC.SOFTFORM.VLPPLATEN.LENGTH-J;
      285     4875    2              FS$FORMREC.SOFTFORM.VLPPLATEN.LIMBO=J;
      286     4876    2              F$DCB.UB$=ADDR(TABZERO);
      287     4877    2              F$DCB.UBYTES=SIZEC(TABZERO);
      288     4878    2              CALL FMH$SYMB(MFC_WRITE,WRINFO.V,%VFC_OTB);
      289     4879
      290     4880    2              FS$WRSP='0'B;
      291     4881    2              FS$WRSP.SUBFILE$=JDCB$;
      292     4882    2              FS$WRSP.JIT$=JIT$;
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:30   
      293     4883    2              FS$WRSP.SITEINFO=ADDR(B_SITEINFO);
      294     4884    2              FS$WRSP.WIDTH=F$DCB.WIDTH;
      295     4885    2              FS$WRSP.DATE_TIME=ENTADDR(UMT$IDT);
      296     4886    2              F$DCB.FORM$-> CODE16.NBANNER_RECS = 0;
      297     4887    2              IF FS$FORMREC.BANRDISP~=0 THEN
      298     4888    3              DO WHILE(FS$WRSP.START~=-1);
      299     4889    3                 CALL FSK$BANNER(PINCRW(BUF$,FS$FORMREC.BANRDISP)->CHARS,
      300     4890    3                   FS$WRSP,BUFF$->CHARS,BWORK$->FS$WORKAUTO) ALTRET(OOPS);
      301     4891    3                 IF (BUFF$->CHAR1 = 'p') THEN
              4891                          /* INCREMENT THE NUMBER OF PAGES IN THIS GRANULE */
      302     4892    3                    F$DCB.PGINGRAN = F$DCB.PGINGRAN + 1;
      303     4893    4                 IF FS$WRSP.START~=-1 THEN DO;
      304     4894    4                    F$DCB.UB$=PINCRC(BUFF$,1);
      305     4895    4                    F$DCB.UBYTES=FS$WRSP.MAXBYTES-1;
      306     4896                /* MFC_WRITE is to avoid translation.
      307     4897                   Eventually, this should do like MEDIUM in
      308     4898                   FORMAT checking all the attrs.
      309     4899                */
      310     4900    4                    CALL FMH$SYMB(MFC_WRITE,WRBAN.V,BUFF$->CHAR1);
      311     4901    4                    END;
      312     4902    3                 END;
      313     4903    2              END;
      314     4904    2           ELSE DO; /* GRAPHIC FORM - CREATE A GRAPHIC BANNER */
      315     4905    2              F$DCB.FORM$->CODE16.DDEV = %DDEV_GR#;
      316     4906    2              F$DCB.DDEV = %DDEV_GR#; /* JUST TO BE SURE */
      317     4907    2              GWRSP='0'B;
      318     4908    2              GWRSP.SUBFILE$=JDCB$;
      319     4909    2              GWRSP.JIT$=JIT$;
      320     4910    2              GWRSP.SITEINFO=ADDR(B_SITEINFO);
      321     4911    2              GWRSP.DATE_TIME=ENTADDR(UMT$IDT);
      322     4912    2              GWRSP.ENTDISP = FS$FORMREC.BANRDISP;
      323     4913    2              GWRSP.START = 0;
      324     4914    2              F$DCB.FORM$-> CODE16.NBANNER_RECS = 0;
      325     4915    3              DO WHILE(GWRSP.START~=-1);
      326     4916    3                 CALL FSK$GBANNER (BUF$->GFORM,
      327     4917    3                   GWRSP,BUFF$->CHARS,BWORK$->FS$WORKAUTO) ALTRET(OOPS);
      328     4918    3                 IF (BUFF$->CHAR1 = 'p') THEN
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:31   
              4918                          /* INCREMENT THE NUMBER OF PAGES IN THIS GRANULE */
      329     4919    3                    F$DCB.PGINGRAN = F$DCB.PGINGRAN + 1;
      330     4920    3                 IF (GWRSP.START ~= -1)
      331     4921    4                 THEN DO;
      332     4922    4                    F$DCB.UB$=PINCRC(BUFF$,1);
      333     4923    4                    F$DCB.UBYTES=GWRSP.MAXBYTES;
      334     4924    4                    CALL FMH$SYMB(MFC_WRITE,WRBAN.V,BUFF$->CHAR1);
      335     4925    4                    END;
      336     4926    3                 END;
      337     4927    2              END;
      338     4928    1           B$JIT.ERR='0'B;
      339     4929    1   OOPS:   ;
      340     4930    1           F$DCB.FORM$-> CODE16.NBANNER_RECS = F$DCB.NRECS;
      341     4931    1           CALL FMH$TRUNC;
      342     4932    1           B$JIT.DCB$ = JDCB$;
      343     4933    1           CALL FMD$RBUF (PAGE$);
      344     4934    1           RETURN;
      345     4935    1   END FSF$SYMBFILE;

PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:32   
--  Include file information  --

   F_MACROS_C.:E05TOU  is referenced.
   F_ERRORS_C.:E05TOU  is referenced.
   NK_VFC_C.:E05TOU  is referenced.
   F_CP6.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   F_FPTCODE_C.:E05TOU  is referenced.
   B$ROSEG.:E05TOU  is referenced.
   XG_SUBS_C.:E05TOU  is referenced.
   FS_SUPER_C.:E05TOU  is referenced.
   F$DCB.:E05TOU  is referenced.
   FM$FIT.:E05TOU  is referenced.
   FS$FIT.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  is referenced.
   B$JIT.:E05TOU  cannot be made into a system file and is referenced.
   F$CP6P_C.:E05TOU  is referenced.
      No diagnostics issued in procedure FSF$SYMBFILE.

   Procedure FSF$SYMBFILE requires 391 words for executable code.
   Procedure FSF$SYMBFILE requires 22 words of local(AUTO) storage.

    No errors detected in file FSF$FORM.:E05TSI    .

PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:33   

 Object Unit name= FSF$SYMBFILE                               File name= FSF$FORM.:E05TOU
 UTS= JUL 29 '97 17:32:17.96 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS     33     41  FSF$SYMBFILE
    1   Proc  even  none   391    607  FSF$SYMBFILE
    2  RoData even  none    18     22  FSF$SYMBFILE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes    yes     yes      Std        3  FSF$SYMBFILE
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:34   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       1 FMN$OPNF
 yes     yes           Std       2 FMO$LOCCODP
         yes           Std       1 FMD$GBUF
 yes     yes           Std       0 HFF$TRAPALT
 yes     yes           Std       2 UMT$IDT
 yes     yes           Std       4 FSK$GBANNER
 yes     yes           Std       0 FMH$TRUNC
 yes     yes           Std       3 FMH$SYMB
 yes     yes           Std       4 FSK$BANNER
         yes           Std       1 FMD$RBUF
 yes     yes           Std       2 FMN$GETFIT
                       nStd      0 X66_AUTO_3
                       nStd      0 X66_AALT
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     B$JIT$                                B$ROSEG$                              S_STREAMFILEID
     B_SITEINFO                            B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID                               ROSID
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:35   


       86        1        /*T***********************************************************/
       87        2        /*T*                                                         */
       88        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
       89        4        /*T*                                                         */
       90        5        /*T***********************************************************/
       91        6        /*F*    NAME: FSF$SYMBFILE
       92        7                PURPOSE: OPEN A SYMBIONT FILE AND WRITE THE BANNER INTO IT.
       93        8        */
       94        9        /*D*    NAME: FSF$SYMBFILE
       95       10                CALL: CALL  FSF$SYMBFILE(BUF$,PN$,JIT$)ALTRET;
       96       11                INPUT: BUF$ POINTS TO A FORMS RECORD; WE USE BANNER INFO.
       97       12                      PN$ IS AN OPEN FPT.
       98       13                      JIT$ POINTS TO A JIT TO GIVE TO THE BANNER CREATOR.
       99       14                      B$JIT.DCB$ IS THE SYMBIONT FILE DCB.
      100       15                OUTPUT: DCB IS OPEN.
      101       16        */
      102       17        FSF$SYMBFILE: PROC(BU$,PN$,J$)ALTRET;

     17  1 000000   000000 700200 xent  FSF$SYMBFILE TSX0  ! X66_AUTO_3
         1 000001   000026 000003                    ZERO    22,3

      103       18    1   DCL BU$ PTR;
      104       19    1   DCL J$ PTR;
      105       20    1   DCL BUF$ PTR;
      106       21    1   DCL JIT$ PTR;
      107       22        %INCLUDE F$CP6P_C;
      108       33        %FPT$OPEN_P(FPTN=PN$,STCLASS=,PFMT=PTR);
      109       39        /***   DATA REFERENCES   ***/
      110       40    1   DCL B$JIT$ PTR SYMREF;
      111       41    1   DCL B$ROSEG$ PTR SYMREF;
      112       42    1   DCL S_STREAMFILEID CHAR(3)ALIGNED SYMREF;
      113       43    1   DCL B_SITEINFO UBIN SYMREF;
      114       44        /***   ENTRY REFERENCES   ***/
      115       45    1   DCL UMT$IDT ENTRY(2)ALTRET;
      116       46    1   DCL FSK$BANNER ENTRY(4)ALTRET;
      117       47    1   DCL FSK$GBANNER ENTRY(4)ALTRET;
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:36   
      118       48    1   DCL FMD$GBUF ENTRY (1); /* Steal a file management page buffer  */
      119       49    1   DCL FMD$RBUF ENTRY (1); /* Return a stolen file management page */
      120       50    1   DCL HFF$TRAPALT ENTRY ALTRET; /* Take control of trap conditions. */
      121       51    1   DCL FMH$SYMB ENTRY(3)ALTRET;
      122       52    1   DCL FMH$TRUNC ENTRY ALTRET;
      123       53    1   DCL FMN$OPNF ENTRY(1);
      124       54    1   DCL FMN$GETFIT ENTRY(2) ALTRET;
      125       55    1   DCL FMO$LOCCODP ENTRY(2) ALTRET;
      126       56        /*** INCLUDES   ***/
      127       57        %INCLUDE B$JIT;
      128      660        %INCLUDE FS$FIT;
      129      703        %INCLUDE FM$FIT;
      130      924        %FS_OSFN(FPTN=OSFN,STCLASS=BASED);
      131      938        %MACRO F$DCBI(BASED=BASED);
      132      939        %CODE16;
      133      940        %CODE04;
      134      941        %INCLUDE F$DCB;
      135      990        %MEND;
      136      991        %F$DCBI(BASED="BASED(JDCB$)");
      137     1057        %INCLUDE FS_SUPER_C;
      138     1820        %INCLUDE XG_SUBS_C;
      139     2314        %FS$FORMREC (NAME=FS$FORMREC,
      140     2315                     STCLASS="BASED(BUF$)");
      141     2386        %FS$WRSP (NAME=FS$WRSP,
      142     2387                  STCLASS="BASED(WORK$)");
      143     2405        %FS$BAN_INIT (NAME=FS$FINST,
      144     2406                      STCLASS=BASED);
      145     2463        %FS$GFORMREC (NAME=GFORM,
      146     2464                      STCLASS="BASED(BUF$)");
      147     2523        %FS$GWRSP (NAME=GWRSP,
      148     2524                   STCLASS="BASED(WORK$)");
      149     2548        %FS$GRAPHIC_BANNER (NAME=GBAN,
      150     2549                            STCLASS=BASED);
      151     2606        %FS$WORKAUTO;
      152     2625        %MACRO B$ROSEG(BASED=BASED);
      153     2626        %INCLUDE B$ROSEG;
      154     2689        %MEND;
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:37   
      155     2690        %B$ROSEG(BASED="BASED(B$ROSEG$)");
      156     2750        %INCLUDE F_FPTCODE_C;
      157     2786        %INCLUDE CP_6_SUBS;
      158     3326        %INCLUDE F_CP6;
      159     4351        %FPT_WRITE(FPTN=WRBAN,STCLASS=CONSTANT,VFC=YES);
      160     4382        %FPT_WRITE(FPTN=WRINFO,STCLASS=CONSTANT,VFC=YES,TRANS=YES,BP=YES);
      161     4413        %VLP_TAB(FPTN=TABZERO,
      162     4414                 MARGIN=1,
      163     4415                 STCLASS=CONSTANT);
      164     4429        %INCLUDE NK_VFC_C;
      165     4503        %INCLUDE F_ERRORS_C;
      166     4743        %SUB FCG#="'0623'O"; /* These 2 subs are necessary for the */
      167     4744        %SUB MID#="'06'O"; /* ERRCODE macro to work.  */
      168     4745        %INCLUDE F_MACROS_C;
      169     4756        %ERRCODE (NAME=ERR$MAX0, COD#=%E$MAX0_NEVER_OUT);
      170     4760    1   DCL CHARS CHAR(512) BASED;
      171     4761    1   DCL CHAR1 CHAR(1)BASED;
      172     4762        /***   AUTOMATIC STORAGE   ***/
      173     4763    1   DCL JDCB$ PTR;
      174     4764    1   DCL I UBIN;
      175     4765    1   DCL J SBIN;
      176     4766    1   DCL WORK$ PTR;
      177     4767    1   DCL BUFF$ PTR;
      178     4768    1   DCL BWORK$ PTR;
      179     4769    1   DCL PAGE$ PTR;
      180     4770    1   DCL WSN CHAR(8);
      181     4771        %EJECT;
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:38   
      182     4772    1           JDCB$=B$JIT.DCB$;

   4772  1 000002   000000 470400 xsym               LDP0    B$JIT$
         1 000003   000232 236100                    LDQ     154,,PR0
         1 000004   200010 756100                    STQ     JDCB$,,AUTO

      183     4773    1           JIT$=J$;

   4773  1 000005   200005 471500                    LDP1    @J$,,AUTO
         1 000006   100000 236100                    LDQ     0,,PR1
         1 000007   200007 756100                    STQ     JIT$,,AUTO

      184     4774    1           BUF$=BU$;

   4774  1 000010   200003 473500                    LDP3    @BU$,,AUTO
         1 000011   300000 236100                    LDQ     0,,PR3
         1 000012   200006 756100                    STQ     BUF$,,AUTO

      185     4775    1           IF (F$DCB.DDEV & %DDEV_CP#)

   4775  1 000013   200010 474500                    LDP4    JDCB$,,AUTO
         1 000014   400004 236100                    LDQ     4,,PR4
         1 000015   000022 736000                    QLS     18
         1 000016   777000 376003                    ANQ     -512,DU
         1 000017   200000 376003                    ANQ     65536,DU
         1 000020   000027 600000 1                  TZE     s:4791

      186     4776    2           THEN DO; /* The output goes to CP check PO max */

      187     4777    2              IF B$JIT.NOPOEVER

   4777  1 000021   000325 236100                    LDQ     213,,PR0
         1 000022   000020 316003                    CANQ    16,DU
         1 000023   000050 600000 1                  TZE     s:4806

      188     4778    3              THEN DO;

PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:39   
      189     4779    3                 B$JIT.ERR = ERR$MAX0;

   4779  1 000024   000040 236000 0                  LDQ     ERR$MAX0
         1 000025   000012 756100                    STQ     10,,PR0

      190     4780        /*E*  ERROR: FSF-E$MAX0_NEVER_OUT-2
      191     4781              MESSAGE: You are not authorized for output through %UF.
      192     4782              MESSAGE1: You tried to M$WRITE to either;
      193     4783                       Card Punch with MAXCPO=0,        or
      194     4784                       Diagnostic output with MAXDO=0,  or
      195     4785                       any other output DCB with MAXLO=0,
      196     4786                       and since the maximum is 0, no symbiont output is allowed.
      197     4787        */
      198     4788    3                 ALTRETURN;

   4788  1 000026   000000 702200 xent               TSX2  ! X66_AALT

      199     4789    3                 END;
      200     4790    2              END;
      201     4791    1           ELSE IF (JDCB$ = DCBADDR (%M$DO#))

   4791  1 000027   000000 475400 2                  LDP5    0
         1 000030   500000 476500                    LDP6    0,,PR5
         1 000031   200010 236100                    LDQ     JDCB$,,AUTO
         1 000032   600004 116100                    CMPQ    4,,PR6
         1 000033   000042 601000 1                  TNZ     s:4800

      202     4792    2              THEN DO; /* This checks for DO max of 0 */

      203     4793    2                 IF B$JIT.NODOEVER

   4793  1 000034   000325 236100                    LDQ     213,,PR0
         1 000035   000040 316003                    CANQ    32,DU
         1 000036   000050 600000 1                  TZE     s:4806

      204     4794    3                 THEN DO;

PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:40   
      205     4795    3                    B$JIT.ERR = ERR$MAX0;

   4795  1 000037   000040 236000 0                  LDQ     ERR$MAX0
         1 000040   000012 756100                    STQ     10,,PR0

      206     4796    3                    ALTRETURN;

   4796  1 000041   000000 702200 xent               TSX2  ! X66_AALT

      207     4797    3                    END;
      208     4798    2                 END;
      209     4799    2              ELSE DO; /* Assume other than CP or DO is LO */

      210     4800    2                 IF B$JIT.NOLOEVER

   4800  1 000042   000325 236100                    LDQ     213,,PR0
         1 000043   000100 316003                    CANQ    64,DU
         1 000044   000050 600000 1                  TZE     s:4806

      211     4801    3                 THEN DO;

      212     4802    3                    B$JIT.ERR = ERR$MAX0;

   4802  1 000045   000040 236000 0                  LDQ     ERR$MAX0
         1 000046   000012 756100                    STQ     10,,PR0

      213     4803    3                    ALTRETURN;

   4803  1 000047   000000 702200 xent               TSX2  ! X66_AALT

      214     4804    3                    END;
      215     4805    2                 END;
      216     4806    1           F$DCB.IASN=%FILE#;

   4806  1 000050   000001 236007                    LDQ     1,DL
         1 000051   400103 552104                    STBQ    67,'04'O,PR4

PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:41   
      217     4807    1           F$DCB.EXIST=%ERROR#;

   4807  1 000052   400031 236100                    LDQ     25,,PR4
         1 000053   000001 376000 2                  ANQ     1
         1 000054   001000 276007                    ORQ     512,DL
         1 000055   400031 756100                    STQ     25,,PR4

      218     4808    1           F$DCB.ORG=%SYMB#;

   4808  1 000056   011000 236003                    LDQ     4608,DU
         1 000057   400032 552140                    STBQ    26,'40'O,PR4

   4808  1 000060                       OOPSNOWTHERE null
      219     4809    1   OOPSNOWTHERE:;
      220     4810    1           F$DCB.PGINGRAN = 0; /* INIT NUMBER OF PAGES IN GRANULE */

   4810  1 000060   200010 470500                    LDP0    JDCB$,,AUTO
         1 000061   000000 236003                    LDQ     0,DU
         1 000062   000102 552104                    STBQ    66,'04'O,PR0

      221     4811    1           F$DCB.IXTNSIZE=10;

   4811  1 000063   000012 235007                    LDA     10,DL
         1 000064   000041 755100                    STA     33,,PR0

      222     4812    1           F$DCB.XTNSIZE=10;

   4812  1 000065   000012 220003                    LDX0    10,DU
         1 000066   000037 740100                    STX0    31,,PR0

      223     4813    1           F$DCB.WSR=1;

   4813  1 000067   000001 236003                    LDQ     1,DU
         1 000070   000040 552120                    STBQ    32,'20'O,PR0

      224     4814    1           F$DCB.NAME.C=' ';

PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:42   
   4814  1 000071   040100 100400                    MLR     fill='040'O
         1 000072   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 000073   000010 200037                    ADSC9   8,,PR0                   cn=1,n=31

      225     4815    1           F$DCB.NAME.L=LENGTHC(OSFN)-1;

   4815  1 000074   022000 236003                    LDQ     9216,DU
         1 000075   000010 552140                    STBQ    8,'40'O,PR0

      226     4816    1           I=JIT$->B$JIT.SYSID;

   4816  1 000076   200007 471500                    LDP1    JIT$,,AUTO
         1 000077   100000 236100                    LDQ     0,,PR1
         1 000100   777777 376007                    ANQ     -1,DL
         1 000101   200011 756100                    STQ     I,,AUTO

      227     4817    1           CALL BINCHAR(ADDR(F$DCB.NAME)->OSFN.SYSID,I);

   4817  1 000102   000000 235003                    LDA     0,DU
         1 000103   200022 757100                    STAQ    WSN+3,,AUTO
         1 000104   000100 301500                    BTD
         1 000105   200022 000010                    NDSC9   WSN+3,,AUTO              cn=0,s=lsgnf,sf=0,n=8
         1 000106   000011 030006                    NDSC9   9,,PR0                   cn=0,s=nosgn,sf=0,n=6

      228     4818    1           ADDR(F$DCB.NAME)->OSFN.BOOTID=S_STREAMFILEID;

   4818  1 000107   000000 236000 xsym               LDQ     S_STREAMFILEID
         1 000110   000011 772000                    QRL     9
         1 000111   000010 552134                    STBQ    8,'34'O,PR0

      229     4819    2           IF JIT$=B$JIT$ OR I<10 THEN DO;

   4819  1 000112   200007 236100                    LDQ     JIT$,,AUTO
         1 000113   000000 116000 xsym               CMPQ    B$JIT$
         1 000114   000120 600000 1                  TZE     s:4820
         1 000115   200011 235100                    LDA     I,,AUTO
         1 000116   000012 115007                    CMPA    10,DL
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:43   
         1 000117   000130 603000 1                  TRC     s:4823

      230     4820    2              I=B$ROSEG.STREAMFILENO;

   4820  1 000120   000000 473400 xsym               LDP3    B$ROSEG$
         1 000121   300115 236100                    LDQ     77,,PR3
         1 000122   777777 376007                    ANQ     -1,DL
         1 000123   200011 756100                    STQ     I,,AUTO

      231     4821    2              B$ROSEG.STREAMFILENO=B$ROSEG.STREAMFILENO+1;

   4821  1 000124   300115 721100                    LXL1    77,,PR3
         1 000125   000001 622011                    EAX2    1,X1
         1 000126   300115 442100                    SXL2    77,,PR3

      232     4822    2              END;

   4822  1 000127   000132 710000 1                  TRA     s:4824

      233     4823    1           ELSE I=1;

   4823  1 000130   000001 235007                    LDA     1,DL
         1 000131   200011 755100                    STA     I,,AUTO

      234     4824    1           CALL BINCHAR(ADDR(F$DCB.NAME)->OSFN.NUM,I);

   4824  1 000132   200011 235100                    LDA     I,,AUTO
         1 000133   000044 773000                    LRL     36
         1 000134   200022 757100                    STAQ    WSN+3,,AUTO
         1 000135   000100 301500                    BTD
         1 000136   200022 000010                    NDSC9   WSN+3,,AUTO              cn=0,s=lsgnf,sf=0,n=8
         1 000137   000012 430006                    NDSC9   10,,PR0                  cn=2,s=nosgn,sf=0,n=6

      235     4825    1           CALL BINCHAR(ADDR(F$DCB.NAME)->OSFN.CNUM,0);

   4825  1 000140   000000 235003                    LDA     0,DU
         1 000141   000044 773000                    LRL     36
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:44   
         1 000142   200022 757100                    STAQ    WSN+3,,AUTO
         1 000143   000100 301500                    BTD
         1 000144   200022 000010                    NDSC9   WSN+3,,AUTO              cn=0,s=lsgnf,sf=0,n=8
         1 000145   000014 030003                    NDSC9   12,,PR0                  cn=0,s=nosgn,sf=0,n=3

      236     4826    1           J=B$JIT.PRDPRM;

   4826  1 000146   000000 473400 xsym               LDP3    B$JIT$
         1 000147   300242 235100                    LDA     162,,PR3
         1 000150   200012 755100                    STA     J,,AUTO

      237     4827    1           IF J<=F$DCB.IXTNSIZE THEN

   4827  1 000151   200012 236100                    LDQ     J,,AUTO
         1 000152   000041 116100                    CMPQ    33,,PR0
         1 000153   000157 605400 1                  TPNZ    s:4829

      238     4828    1              B$JIT.PRDPRM=F$DCB.IXTNSIZE+1;

   4828  1 000154   000041 235100                    LDA     33,,PR0
         1 000155   000001 035007                    ADLA    1,DL
         1 000156   300242 755100                    STA     162,,PR3

      239     4829    1           WSN=F$DCB.WSN;

   4829  1 000157   040100 100500                    MLR     fill='040'O
         1 000160   000027 000010                    ADSC9   23,,PR0                  cn=0,n=8
         1 000161   200017 000010                    ADSC9   WSN,,AUTO                cn=0,n=8

      240     4830    1           F$DCB.WSN=' ';

   4830  1 000162   000035 235000 xsym               LDA     B_VECTNIL+29
         1 000163   000035 236000 xsym               LDQ     B_VECTNIL+29
         1 000164   000027 755100                    STA     23,,PR0
         1 000165   000030 756100                    STQ     24,,PR0

      241     4831    1           CALL FMN$OPNF(PN$);
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:45   

   4831  1 000166   200004 630500                    EPPR0   @PN$,,AUTO
         1 000167   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000170   000000 701000 xent               TSX1    FMN$OPNF
         1 000171   000000 011000                    NOP     0

      242     4832    1           F$DCB.WSN=WSN;

   4832  1 000172   200010 470500                    LDP0    JDCB$,,AUTO
         1 000173   040100 100500                    MLR     fill='040'O
         1 000174   200017 000010                    ADSC9   WSN,,AUTO                cn=0,n=8
         1 000175   000027 000010                    ADSC9   23,,PR0                  cn=0,n=8

      243     4833    1           B$JIT.PRDPRM=J;

   4833  1 000176   000000 471400 xsym               LDP1    B$JIT$
         1 000177   200012 235100                    LDA     J,,AUTO
         1 000200   100242 755100                    STA     162,,PR1

      244     4834    1           F$DCB.OWNER='0'B;

   4834  1 000201   000002 236000 2                  LDQ     2
         1 000202   000064 356100                    ANSQ    52,,PR0

      245     4835    1           IF B$JIT.ERR.CODE~=0 THEN

   4835  1 000203   100012 236100                    LDQ     10,,PR1
         1 000204   377770 316007                    CANQ    131064,DL
         1 000205   000213 600000 1                  TZE     s:4840

      246     4836    1              IF B$JIT.ERR.CODE=%E$CREATERR THEN

   4836  1 000206   100012 236100                    LDQ     10,,PR1
         1 000207   377770 376007                    ANQ     131064,DL
         1 000210   001560 116007                    CMPQ    880,DL
         1 000211   000060 600000 1                  TZE     OOPSNOWTHERE

PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:46   
      247     4837    1                 GOTO OOPSNOWTHERE;
      248     4838    1              ELSE
      249     4839    1                 ALTRETURN;

   4839  1 000212   000000 702200 xent               TSX2  ! X66_AALT

      250     4840    2           IF JIT$~=B$JIT$ THEN DO; /* Fix the file's owner, too. */

   4840  1 000213   200007 236100                    LDQ     JIT$,,AUTO
         1 000214   000000 116000 xsym               CMPQ    B$JIT$
         1 000215   000256 600000 1                  TZE     NOCODE04

      251     4841    2              CALL FMN$GETFIT(PAGE$,I) ALTRET(NOCODE04);

   4841  1 000216   200011 633500                    EPPR3   I,,AUTO
         1 000217   200023 453500                    STP3    WSN+4,,AUTO
         1 000220   200016 634500                    EPPR4   PAGE$,,AUTO
         1 000221   200022 454500                    STP4    WSN+3,,AUTO
         1 000222   200022 630500                    EPPR0   WSN+3,,AUTO
         1 000223   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000224   000000 701000 xent               TSX1    FMN$GETFIT
         1 000225   000256 702000 1                  TSX2    NOCODE04

      252     4842    2              PAGE$=PINCRW(PAGE$,5);

   4842  1 000226   200016 236100                    LDQ     PAGE$,,AUTO
         1 000227   000005 036003                    ADLQ    5,DU
         1 000230   200016 756100                    STQ     PAGE$,,AUTO

      253     4843    2              CALL FMO$LOCCODP(PAGE$,4) ALTRET(NOCODE04);

   4843  1 000231   000003 236000 2                  LDQ     3
         1 000232   200023 756100                    STQ     WSN+4,,AUTO
         1 000233   200016 630500                    EPPR0   PAGE$,,AUTO
         1 000234   200022 450500                    STP0    WSN+3,,AUTO
         1 000235   200022 630500                    EPPR0   WSN+3,,AUTO
         1 000236   000020 631400 xsym               EPPR1   B_VECTNIL+16
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:47   
         1 000237   000000 701000 xent               TSX1    FMO$LOCCODP
         1 000240   000256 702000 1                  TSX2    NOCODE04

      254     4844    2              PAGE$->CODE04.CREATOR.NAME=JIT$->B$JIT.UNAME;

   4844  1 000241   200007 470500                    LDP0    JIT$,,AUTO
         1 000242   200016 471500                    LDP1    PAGE$,,AUTO
         1 000243   040100 100500                    MLR     fill='040'O
         1 000244   000003 000014                    ADSC9   3,,PR0                   cn=0,n=12
         1 000245   100005 000014                    ADSC9   5,,PR1                   cn=0,n=12

      255     4845    2              PAGE$->CODE04.CREATOR.ACCT=JIT$->B$JIT.ACCN;

   4845  1 000246   200016 471500                    LDP1    PAGE$,,AUTO
         1 000247   040100 100500                    MLR     fill='040'O
         1 000250   000001 000010                    ADSC9   1,,PR0                   cn=0,n=8
         1 000251   100003 000010                    ADSC9   3,,PR1                   cn=0,n=8

      256     4846    2              F$DCB.BFR.BUFUP(I)='1'B;

   4846  1 000252   200010 471500                    LDP1    JDCB$,,AUTO
         1 000253   200011 720100                    LXL0    I,,AUTO
         1 000254   400000 236003                    LDQ     -131072,DU
         1 000255   100115 256110                    ORSQ    77,X0,PR1

      257     4847    2   NOCODE04:  END;

   4847  1 000256                       NOCODE04     null
      258     4848    1           F$DCB.WAIT=1;

   4848  1 000256   200010 470500                    LDP0    JDCB$,,AUTO
         1 000257   000020 236007                    LDQ     16,DL
         1 000260   000064 256100                    ORSQ    52,,PR0

      259     4849        /*      THE ENTIRE BUF$ PAGE IS NOW AVAILABLE FOR USE; THE
      260     4850                stuff at the end was a PROCATTR (FS$DEST) that was needed
      261     4851                only for the open.  This means the meaningful part of a form
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:48   
      262     4852                definition (banner or alignment) must fit in 4095 - SIZEC
      263     4853                (FS$DEST) bytes to work.  The following call to FMD is to get
      264     4854                another buffer page for all the housework so we DONT run the
      265     4855                risk of clobbering the form def in it's page. */
      266     4856
      267     4857    1           CALL FMD$GBUF (PAGE$);

   4857  1 000261   200016 631500                    EPPR1   PAGE$,,AUTO
         1 000262   200022 451500                    STP1    WSN+3,,AUTO
         1 000263   200022 630500                    EPPR0   WSN+3,,AUTO
         1 000264   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000265   000000 701000 xent               TSX1    FMD$GBUF
         1 000266   000000 011000                    NOP     0

      268     4858    1           BUFF$ = PINCRW (PAGE$, 1024-SIZEW(CHARS));

   4858  1 000267   200016 236100                    LDQ     PAGE$,,AUTO
         1 000270   001600 036003                    ADLQ    896,DU
         1 000271   200014 756100                    STQ     BUFF$,,AUTO

      269     4859    1           WORK$=PINCRW(BUFF$,-SIZEW(FS$WRSP)); /* Workspace */

   4859  1 000272   777754 036003                    ADLQ    -20,DU
         1 000273   200013 756100                    STQ     WORK$,,AUTO

      270     4860                /* BTEXT_REC_SIZE IS CHARS, WE'VE TO CONVERT TO WORDS*/
      271     4861    1           BWORK$=PINCRW(WORK$,-(SIZEW(FS$WORKAUTO)+(%BTEXT_REC_SIZE/4)));

   4861  1 000274   777361 036003                    ADLQ    -271,DU
         1 000275   200015 756100                    STQ     BWORK$,,AUTO

      272     4862    1           CALL HFF$TRAPALT ALTRET (OOPS);

   4862  1 000276   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000277   000000 701000 xent               TSX1    HFF$TRAPALT
         1 000300   000566 702000 1                  TSX2    OOPS

PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:49   
      273     4863
      274     4864    1           IF NOT FS$FORMREC.GRAPHIC

   4864  1 000301   200006 470500                    LDP0    BUF$,,AUTO
         1 000302   000004 430100                    FSZN    4,,PR0
         1 000303   000462 604000 1                  TMI     s:4905

      275     4865    2           THEN DO;

      276     4866    2              F$DCB.UB$=ADDR(FS$FORMREC.SOFTFORM);

   4866  1 000304   200006 236100                    LDQ     BUF$,,AUTO
         1 000305   000004 036000 2                  ADLQ    4
         1 000306   200010 471500                    LDP1    JDCB$,,AUTO
         1 000307   100075 756100                    STQ     61,,PR1

      277     4867    2              F$DCB.UBYTES=SIZEC(FS$FORMREC.SOFTFORM);

   4867  1 000310   000124 235007                    LDA     84,DL
         1 000311   100076 755100                    STA     62,,PR1

      278     4868    2              J=FS$FORMREC.SOFTFORM.VLPPLATEN.LIMBO;

   4868  1 000312   000006 236100                    LDQ     6,,PR0
         1 000313   000011 772000                    QRL     9
         1 000314   000777 376007                    ANQ     511,DL
         1 000315   200012 756100                    STQ     J,,AUTO

      279     4869    2              FS$FORMREC.SOFTFORM.VLPPLATEN.LENGTH=

   4869  1 000316   000006 236100                    LDQ     6,,PR0
         1 000317   000022 772000                    QRL     18
         1 000320   000777 376007                    ANQ     511,DL
         1 000321   200012 036100                    ADLQ    J,,AUTO
         1 000322   000022 736000                    QLS     18
         1 000323   000006 552120                    STBQ    6,'20'O,PR0

PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:50   
      280     4870    2                FS$FORMREC.SOFTFORM.VLPPLATEN.LENGTH+J;
      281     4871    2              FS$FORMREC.SOFTFORM.VLPPLATEN.LIMBO=0;

   4871  1 000324   000000 236003                    LDQ     0,DU
         1 000325   000006 552110                    STBQ    6,'10'O,PR0

      282     4872    2              CALL FMH$SYMB(MFC_WRITE,WRINFO.V,%VFC_VFU);

   4872  1 000326   000006 630400 2                  EPPR0   6
         1 000327   000021 631400 xsym               EPPR1   B_VECTNIL+17
         1 000330   000000 701000 xent               TSX1    FMH$SYMB
         1 000331   000000 011000                    NOP     0

      283     4873    2              FS$FORMREC.SOFTFORM.VLPPLATEN.LENGTH=

   4873  1 000332   200006 470500                    LDP0    BUF$,,AUTO
         1 000333   000006 236100                    LDQ     6,,PR0
         1 000334   000022 772000                    QRL     18
         1 000335   000777 376007                    ANQ     511,DL
         1 000336   200012 136100                    SBLQ    J,,AUTO
         1 000337   000022 736000                    QLS     18
         1 000340   000006 552120                    STBQ    6,'20'O,PR0

      284     4874    2                FS$FORMREC.SOFTFORM.VLPPLATEN.LENGTH-J;
      285     4875    2              FS$FORMREC.SOFTFORM.VLPPLATEN.LIMBO=J;

   4875  1 000341   200012 236100                    LDQ     J,,AUTO
         1 000342   000011 736000                    QLS     9
         1 000343   000006 552110                    STBQ    6,'10'O,PR0

      286     4876    2              F$DCB.UB$=ADDR(TABZERO);

   4876  1 000344   000011 236000 2                  LDQ     9
         1 000345   200010 471500                    LDP1    JDCB$,,AUTO
         1 000346   100075 756100                    STQ     61,,PR1

      287     4877    2              F$DCB.UBYTES=SIZEC(TABZERO);
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:51   

   4877  1 000347   000040 235007                    LDA     32,DL
         1 000350   100076 755100                    STA     62,,PR1

      288     4878    2              CALL FMH$SYMB(MFC_WRITE,WRINFO.V,%VFC_OTB);

   4878  1 000351   000013 630400 2                  EPPR0   11
         1 000352   000021 631400 xsym               EPPR1   B_VECTNIL+17
         1 000353   000000 701000 xent               TSX1    FMH$SYMB
         1 000354   000000 011000                    NOP     0

      289     4879
      290     4880    2              FS$WRSP='0'B;

   4880  1 000355   200013 470500                    LDP0    WORK$,,AUTO
         1 000356   000100 100400                    MLR     fill='000'O
         1 000357   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 000360   000000 000120                    ADSC9   0,,PR0                   cn=0,n=80

      291     4881    2              FS$WRSP.SUBFILE$=JDCB$;

   4881  1 000361   200010 236100                    LDQ     JDCB$,,AUTO
         1 000362   000017 756100                    STQ     15,,PR0

      292     4882    2              FS$WRSP.JIT$=JIT$;

   4882  1 000363   200007 236100                    LDQ     JIT$,,AUTO
         1 000364   000020 756100                    STQ     16,,PR0

      293     4883    2              FS$WRSP.SITEINFO=ADDR(B_SITEINFO);

   4883  1 000365   000016 236000 2                  LDQ     14
         1 000366   000021 756100                    STQ     17,,PR0

      294     4884    2              FS$WRSP.WIDTH=F$DCB.WIDTH;

   4884  1 000367   200010 471500                    LDP1    JDCB$,,AUTO
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:52   
         1 000370   100004 236100                    LDQ     4,,PR1
         1 000371   000777 376007                    ANQ     511,DL
         1 000372   000022 756100                    STQ     18,,PR0

      295     4885    2              FS$WRSP.DATE_TIME=ENTADDR(UMT$IDT);

   4885  1 000373   000000 636000 xent               EAQ     UMT$IDT
         1 000374   000023 756100                    STQ     19,,PR0

      296     4886    2              F$DCB.FORM$-> CODE16.NBANNER_RECS = 0;

   4886  1 000375   100050 473500                    LDP3    40,,PR1
         1 000376   000000 220003                    LDX0    0,DU
         1 000377   300011 740100                    STX0    9,,PR3

      297     4887    2              IF FS$FORMREC.BANRDISP~=0 THEN

   4887  1 000400   200006 473500                    LDP3    BUF$,,AUTO
         1 000401   300003 221100                    LDX1    3,,PR3
         1 000402   000564 600000 1                  TZE     s:4928

      298     4888    3              DO WHILE(FS$WRSP.START~=-1);

   4888  1 000403   000455 710000 1                  TRA     s:4902

      299     4889    3                 CALL FSK$BANNER(PINCRW(BUF$,FS$FORMREC.BANRDISP)->CHARS,

   4889  1 000404   200006 470500                    LDP0    BUF$,,AUTO
         1 000405   000003 220100                    LDX0    3,,PR0
         1 000406   200014 237100                    LDAQ    BUFF$,,AUTO
         1 000407   200024 757100                    STAQ    WSN+5,,AUTO
         1 000410   200013 236100                    LDQ     WORK$,,AUTO
         1 000411   200023 756100                    STQ     WSN+4,,AUTO
         1 000412   000000 636010                    EAQ     0,X0
         1 000413   200006 036100                    ADLQ    BUF$,,AUTO
         1 000414   200022 756100                    STQ     WSN+3,,AUTO
         1 000415   200022 630500                    EPPR0   WSN+3,,AUTO
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:53   
         1 000416   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000417   000000 701000 xent               TSX1    FSK$BANNER
         1 000420   000566 702000 1                  TSX2    OOPS

      300     4890    3                   FS$WRSP,BUFF$->CHARS,BWORK$->FS$WORKAUTO) ALTRET(OOPS);
      301     4891    3                 IF (BUFF$->CHAR1 = 'p') THEN
              4891                          /* INCREMENT THE NUMBER OF PAGES IN THIS GRANULE */

   4891  1 000421   200014 470500                    LDP0    BUFF$,,AUTO
         1 000422   040000 106500                    CMPC    fill='040'O
         1 000423   000000 000001                    ADSC9   0,,PR0                   cn=0,n=1
         1 000424   000017 000001 2                  ADSC9   15                       cn=0,n=1
         1 000425   000432 601000 1                  TNZ     s:4893

      302     4892    3                    F$DCB.PGINGRAN = F$DCB.PGINGRAN + 1;

   4892  1 000426   200010 471500                    LDP1    JDCB$,,AUTO
         1 000427   100102 236100                    LDQ     66,,PR1
         1 000430   000001 036007                    ADLQ    1,DL
         1 000431   100102 552104                    STBQ    66,'04'O,PR1

      303     4893    4                 IF FS$WRSP.START~=-1 THEN DO;

   4893  1 000432   200013 471500                    LDP1    WORK$,,AUTO
         1 000433   100000 235100                    LDA     0,,PR1
         1 000434   000027 115000 xsym               CMPA    B_VECTNIL+23
         1 000435   000455 600000 1                  TZE     s:4902

      304     4894    4                    F$DCB.UB$=PINCRC(BUFF$,1);

   4894  1 000436   200014 236100                    LDQ     BUFF$,,AUTO
         1 000437   200000 036007                    ADLQ    65536,DL
         1 000440   200010 473500                    LDP3    JDCB$,,AUTO
         1 000441   300075 756100                    STQ     61,,PR3

      305     4895    4                    F$DCB.UBYTES=FS$WRSP.MAXBYTES-1;

PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:54   
   4895  1 000442   100011 235100                    LDA     9,,PR1
         1 000443   000001 135007                    SBLA    1,DL
         1 000444   300076 755100                    STA     62,,PR3

      306     4896                /* MFC_WRITE is to avoid translation.
      307     4897                   Eventually, this should do like MEDIUM in
      308     4898                   FORMAT checking all the attrs.
      309     4899                */
      310     4900    4                    CALL FMH$SYMB(MFC_WRITE,WRBAN.V,BUFF$->CHAR1);

   4900  1 000445   200014 236100                    LDQ     BUFF$,,AUTO
         1 000446   200024 756100                    STQ     WSN+5,,AUTO
         1 000447   000020 237000 2                  LDAQ    16
         1 000450   200022 757100                    STAQ    WSN+3,,AUTO
         1 000451   200022 630500                    EPPR0   WSN+3,,AUTO
         1 000452   000021 631400 xsym               EPPR1   B_VECTNIL+17
         1 000453   000000 701000 xent               TSX1    FMH$SYMB
         1 000454   000000 011000                    NOP     0

      311     4901    4                    END;

      312     4902    3                 END;

   4902  1 000455   200013 470500                    LDP0    WORK$,,AUTO
         1 000456   000000 235100                    LDA     0,,PR0
         1 000457   000027 115000 xsym               CMPA    B_VECTNIL+23
         1 000460   000404 601000 1                  TNZ     s:4889

      313     4903    2              END;

   4903  1 000461   000564 710000 1                  TRA     s:4928

      314     4904    2           ELSE DO; /* GRAPHIC FORM - CREATE A GRAPHIC BANNER */

      315     4905    2              F$DCB.FORM$->CODE16.DDEV = %DDEV_GR#;

   4905  1 000462   200010 471500                    LDP1    JDCB$,,AUTO
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:55   
         1 000463   100050 473500                    LDP3    40,,PR1
         1 000464   010000 236003                    LDQ     4096,DU
         1 000465   300003 552140                    STBQ    3,'40'O,PR3

      316     4906    2              F$DCB.DDEV = %DDEV_GR#; /* JUST TO BE SURE */

   4906  1 000466   010000 236007                    LDQ     4096,DL
         1 000467   100004 552110                    STBQ    4,'10'O,PR1

      317     4907    2              GWRSP='0'B;

   4907  1 000470   200013 473500                    LDP3    WORK$,,AUTO
         1 000471   000100 100400                    MLR     fill='000'O
         1 000472   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 000473   300000 000124                    ADSC9   0,,PR3                   cn=0,n=84

      318     4908    2              GWRSP.SUBFILE$=JDCB$;

   4908  1 000474   200010 236100                    LDQ     JDCB$,,AUTO
         1 000475   300020 756100                    STQ     16,,PR3

      319     4909    2              GWRSP.JIT$=JIT$;

   4909  1 000476   200007 236100                    LDQ     JIT$,,AUTO
         1 000477   300021 756100                    STQ     17,,PR3

      320     4910    2              GWRSP.SITEINFO=ADDR(B_SITEINFO);

   4910  1 000500   000016 236000 2                  LDQ     14
         1 000501   300023 756100                    STQ     19,,PR3

      321     4911    2              GWRSP.DATE_TIME=ENTADDR(UMT$IDT);

   4911  1 000502   000000 636000 xent               EAQ     UMT$IDT
         1 000503   300024 756100                    STQ     20,,PR3

      322     4912    2              GWRSP.ENTDISP = FS$FORMREC.BANRDISP;
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:56   

   4912  1 000504   000003 236100                    LDQ     3,,PR0
         1 000505   000022 772000                    QRL     18
         1 000506   300022 756100                    STQ     18,,PR3

      323     4913    2              GWRSP.START = 0;

   4913  1 000507   300000 450100                    STZ     0,,PR3

      324     4914    2              F$DCB.FORM$-> CODE16.NBANNER_RECS = 0;

   4914  1 000510   100050 474500                    LDP4    40,,PR1
         1 000511   000000 220003                    LDX0    0,DU
         1 000512   400011 740100                    STX0    9,,PR4

      325     4915    3              DO WHILE(GWRSP.START~=-1);

   4915  1 000513   000560 710000 1                  TRA     s:4926

      326     4916    3                 CALL FSK$GBANNER (BUF$->GFORM,

   4916  1 000514   200014 237100                    LDAQ    BUFF$,,AUTO
         1 000515   200024 757100                    STAQ    WSN+5,,AUTO
         1 000516   200013 236100                    LDQ     WORK$,,AUTO
         1 000517   200006 235100                    LDA     BUF$,,AUTO
         1 000520   200022 757100                    STAQ    WSN+3,,AUTO
         1 000521   200022 630500                    EPPR0   WSN+3,,AUTO
         1 000522   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000523   000000 701000 xent               TSX1    FSK$GBANNER
         1 000524   000566 702000 1                  TSX2    OOPS

      327     4917    3                   GWRSP,BUFF$->CHARS,BWORK$->FS$WORKAUTO) ALTRET(OOPS);
      328     4918    3                 IF (BUFF$->CHAR1 = 'p') THEN
              4918                          /* INCREMENT THE NUMBER OF PAGES IN THIS GRANULE */

   4918  1 000525   200014 470500                    LDP0    BUFF$,,AUTO
         1 000526   040000 106500                    CMPC    fill='040'O
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:57   
         1 000527   000000 000001                    ADSC9   0,,PR0                   cn=0,n=1
         1 000530   000017 000001 2                  ADSC9   15                       cn=0,n=1
         1 000531   000536 601000 1                  TNZ     s:4920

      329     4919    3                    F$DCB.PGINGRAN = F$DCB.PGINGRAN + 1;

   4919  1 000532   200010 471500                    LDP1    JDCB$,,AUTO
         1 000533   100102 236100                    LDQ     66,,PR1
         1 000534   000001 036007                    ADLQ    1,DL
         1 000535   100102 552104                    STBQ    66,'04'O,PR1

      330     4920    3                 IF (GWRSP.START ~= -1)

   4920  1 000536   200013 471500                    LDP1    WORK$,,AUTO
         1 000537   100000 235100                    LDA     0,,PR1
         1 000540   000027 115000 xsym               CMPA    B_VECTNIL+23
         1 000541   000560 600000 1                  TZE     s:4926

      331     4921    4                 THEN DO;

      332     4922    4                    F$DCB.UB$=PINCRC(BUFF$,1);

   4922  1 000542   200014 236100                    LDQ     BUFF$,,AUTO
         1 000543   200000 036007                    ADLQ    65536,DL
         1 000544   200010 473500                    LDP3    JDCB$,,AUTO
         1 000545   300075 756100                    STQ     61,,PR3

      333     4923    4                    F$DCB.UBYTES=GWRSP.MAXBYTES;

   4923  1 000546   100005 235100                    LDA     5,,PR1
         1 000547   300076 755100                    STA     62,,PR3

      334     4924    4                    CALL FMH$SYMB(MFC_WRITE,WRBAN.V,BUFF$->CHAR1);

   4924  1 000550   200014 236100                    LDQ     BUFF$,,AUTO
         1 000551   200024 756100                    STQ     WSN+5,,AUTO
         1 000552   000020 237000 2                  LDAQ    16
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:58   
         1 000553   200022 757100                    STAQ    WSN+3,,AUTO
         1 000554   200022 630500                    EPPR0   WSN+3,,AUTO
         1 000555   000021 631400 xsym               EPPR1   B_VECTNIL+17
         1 000556   000000 701000 xent               TSX1    FMH$SYMB
         1 000557   000000 011000                    NOP     0

      335     4925    4                    END;

      336     4926    3                 END;

   4926  1 000560   200013 470500                    LDP0    WORK$,,AUTO
         1 000561   000000 235100                    LDA     0,,PR0
         1 000562   000027 115000 xsym               CMPA    B_VECTNIL+23
         1 000563   000514 601000 1                  TNZ     s:4916

      337     4927    2              END;

      338     4928    1           B$JIT.ERR='0'B;

   4928  1 000564   000000 471400 xsym               LDP1    B$JIT$
         1 000565   100012 450100                    STZ     10,,PR1

   4928  1 000566                       OOPS         null
      339     4929    1   OOPS:   ;
      340     4930    1           F$DCB.FORM$-> CODE16.NBANNER_RECS = F$DCB.NRECS;

   4930  1 000566   200010 470500                    LDP0    JDCB$,,AUTO
         1 000567   000050 471500                    LDP1    40,,PR0
         1 000570   000042 720100                    LXL0    34,,PR0
         1 000571   100011 740100                    STX0    9,,PR1

      341     4931    1           CALL FMH$TRUNC;

   4931  1 000572   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000573   000000 701000 xent               TSX1    FMH$TRUNC
         1 000574   000000 011000                    NOP     0

PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:59   
      342     4932    1           B$JIT.DCB$ = JDCB$;

   4932  1 000575   200010 236100                    LDQ     JDCB$,,AUTO
         1 000576   000000 470400 xsym               LDP0    B$JIT$
         1 000577   000232 756100                    STQ     154,,PR0

      343     4933    1           CALL FMD$RBUF (PAGE$);

   4933  1 000600   200016 631500                    EPPR1   PAGE$,,AUTO
         1 000601   200022 451500                    STP1    WSN+3,,AUTO
         1 000602   200022 630500                    EPPR0   WSN+3,,AUTO
         1 000603   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000604   000000 701000 xent               TSX1    FMD$RBUF
         1 000605   000000 011000                    NOP     0

      344     4934    1           RETURN;

   4934  1 000606   000000 702200 xent               TSX2  ! X66_ARET

WRBAN
 Sect OctLoc
   0     000   000003 777640   000010 006000   000000 177640   000000 006014    ................
   0     004   000000 177640   000000 006014   000000 177640   000000 006014    ................
   0     010   000000 400400   000000 000000   000000 000000   100000 000000    ............@...

WRINFO
 Sect OctLoc
   0     014   000003 777640   000024 006000   000000 177640   000000 006014    ................
   0     020   000000 177640   000000 006014   000000 177640   000000 006014    ................
   0     024   000000 400400   000000 000000   000000 000000   320000 000000    ................

TABZERO
 Sect OctLoc
   0     030   001000 000000   000000 000000   000000 000000   000000 000000    ................
   0     034   000000 000000   000000 000000   000000 000000   000000 000000    ................

ERR$MAX0
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:60   
 Sect OctLoc
   0     040   062306 014212                                                    2...

(unnamed)
 Sect OctLoc
   2     000   000000 006003   777777 774777   777777 737777   000006 006000    ................
   2     004   000005 400000   033040 040040   000003 006000   000024 006000    .....   ........
   2     010   000005 006000   000030 006000   021040 040040   000003 006000    .........   ....
   2     014   000024 006000   000012 006000   000000 006000   160040 040040    ............p
   2     020   000003 006000   000010 006000                                    ........
      345     4935    1   END FSF$SYMBFILE;

PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:61   
--  Include file information  --

   F_MACROS_C.:E05TOU  is referenced.
   F_ERRORS_C.:E05TOU  is referenced.
   NK_VFC_C.:E05TOU  is referenced.
   F_CP6.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   F_FPTCODE_C.:E05TOU  is referenced.
   B$ROSEG.:E05TOU  is referenced.
   XG_SUBS_C.:E05TOU  is referenced.
   FS_SUPER_C.:E05TOU  is referenced.
   F$DCB.:E05TOU  is referenced.
   FM$FIT.:E05TOU  is referenced.
   FS$FIT.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  is referenced.
   B$JIT.:E05TOU  cannot be made into a system file and is referenced.
   F$CP6P_C.:E05TOU  is referenced.
      No diagnostics issued in procedure FSF$SYMBFILE.
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:62   

 **** Variables and constants ****

  ****  Section 000 RoData FSF$SYMBFILE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    40-0-0/b STRC        r     1 ERR$MAX0                  30-0-0/w STRC(288)   r     1 TABZERO
     0-0-0/d STRC(432)   r     1 WRBAN                     14-0-0/d STRC(432)   r     1 WRINFO

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @BU$                       5-0-0/w PTR         r     1 @J$
     4-0-0/w PTR         r     1 @PN$                      *0-0-0/w PTR         r     1 BU$
     6-0-0/w PTR         r     1 BUF$                      14-0-0/w PTR         r     1 BUFF$
    15-0-0/w PTR         r     1 BWORK$                    11-0-0/w UBIN        r     1 I
    12-0-0/w SBIN        r     1 J                         *0-0-0/w PTR         r     1 J$
    10-0-0/w PTR         r     1 JDCB$                      7-0-0/w PTR         r     1 JIT$
    16-0-0/w PTR         r     1 PAGE$                     *0-0-0/w STRC(684)   r     1 PN$
    13-0-0/w PTR         r     1 WORK$                     17-0-0/c CHAR(8)     r     1 WSN

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$JIT$                     0-0-0/w PTR         r     1 B$ROSEG$
     0-0-0/w UBIN        r     1 B_SITEINFO                 0-0-0/w CHAR(3)     r     1 S_STREAMFILEID

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:63   
     0-0-0/d STRC(8856)  r     1 B$JIT                      0-0-0/d STRC(3024)  r     1 B$ROSEG
     0-0-0/c CHAR        r     1 CHAR1                      0-0-0/c CHAR(512)   r     1 CHARS
     0-0-0/w STRC(396)   r     1 CODE04                     0-0-0/w STRC(1404)  r     1 CODE16
     0-0-0/d ASTR(3528)  r     1 F$DCB                      0-0-0/w STRC(3186)  r     1 FS$FORMREC
     0-0-0/w STRC(2313)  r     1 FS$WORKAUTO                0-0-0/w STRC(720)   r     1 FS$WRSP
     0-0-0/w STRC(756)   r     1 GFORM                      0-0-0/w STRC(756)   r     1 GWRSP
     0-0-0/w STRC(171)   r     1 OSFN


   Procedure FSF$SYMBFILE requires 391 words for executable code.
   Procedure FSF$SYMBFILE requires 22 words of local(AUTO) storage.

    No errors detected in file FSF$FORM.:E05TSI    .
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:64   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:65   
          MINI XREF LISTING

B$JIT.ACCN
       384**DCL      4845>>ASSIGN
B$JIT.CPFLAGS1.SLEAZE
       478**DCL       478--REDEF
B$JIT.DCB$
       552**DCL      4772>>ASSIGN   4932<<ASSIGN
B$JIT.ERR
       384**DCL      4779<<ASSIGN   4795<<ASSIGN   4802<<ASSIGN   4928<<ASSIGN
B$JIT.ERR.CODE
       385**DCL      4835>>IF       4836>>IF
B$JIT.ERR.MID
       385**DCL       385--REDEF
B$JIT.JRESPEAK
       546**DCL       547--REDEF
B$JIT.NODOEVER
       651**DCL      4793>>IF
B$JIT.NOLOEVER
       651**DCL      4800>>IF
B$JIT.NOPOEVER
       651**DCL      4777>>IF
B$JIT.ORIGINATOR_PORT.FROM_CR
       655**DCL       655--REDEF     656--REDEF
B$JIT.PNR
       559**DCL       559--REDEF
B$JIT.PRDPRM
       553**DCL      4826>>ASSIGN   4828<<ASSIGN   4833<<ASSIGN
B$JIT.SYSID
       384**DCL      4816>>ASSIGN
B$JIT.TSLINE
       653**DCL       654--REDEF
B$JIT.UNAME
       384**DCL      4844>>ASSIGN
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:66   
B$JIT$
        40**DCL       379--IMP-PTR  4772>>ASSIGN   4777>>IF       4779>>ASSIGN   4793>>IF       4795>>ASSIGN
      4800>>IF       4802>>ASSIGN   4819>>IF       4826>>ASSIGN   4828>>ASSIGN   4833>>ASSIGN   4835>>IF
      4836>>IF       4840>>IF       4928>>ASSIGN   4932>>ASSIGN
B$ROSEG.STREAMFILENO
      2730**DCL      4820>>ASSIGN   4821<<ASSIGN   4821>>ASSIGN
B$ROSEG$
        41**DCL      2699--IMP-PTR  2735--IMP-PTR  2737--IMP-PTR  4820>>ASSIGN   4821>>ASSIGN   4821>>ASSIGN
BU$
        18**DCL        17--PROC     4774>>ASSIGN
BUF$
        20**DCL      2326--IMP-PTR  2473--IMP-PTR  4774<<ASSIGN   4864>>IF       4866>>ASSIGN   4868>>ASSIGN
      4869>>ASSIGN   4869>>ASSIGN   4871>>ASSIGN   4873>>ASSIGN   4873>>ASSIGN   4875>>ASSIGN   4887>>IF
      4889>>CALL     4889>>CALL     4912>>ASSIGN   4916>>CALL
BUFF$
      4767**DCL      4858<<ASSIGN   4859>>ASSIGN   4889>>CALL     4891>>IF       4894>>ASSIGN   4900>>CALL
      4916>>CALL     4918>>IF       4922>>ASSIGN   4924>>CALL
BWORK$
      4768**DCL      4861<<ASSIGN   4889>>CALL     4916>>CALL
B_SITEINFO
        43**DCL      4883--ASSIGN   4910--ASSIGN
CHAR1
      4761**DCL      4891>>IF       4900<>CALL     4918>>IF       4924<>CALL
CHARS
      4760**DCL      4858--ASSIGN   4889<>CALL     4889<>CALL     4916<>CALL
CODE04.CREATOR.ACCT
      1005**DCL      4845<<ASSIGN
CODE04.CREATOR.NAME
      1005**DCL      4844<<ASSIGN
CODE16.DDEV
       993**DCL      4905<<ASSIGN
CODE16.NBANNER_RECS
       996**DCL      4886<<ASSIGN   4914<<ASSIGN   4930<<ASSIGN
ERR$MAX0
      4757**DCL      4779>>ASSIGN   4795>>ASSIGN   4802>>ASSIGN
F$DCB.ACTPOS
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:67   
      1033**DCL      1033--REDEF
F$DCB.ARS
      1008**DCL      1008--REDEF
F$DCB.ATTR
      1026**DCL      1027--REDEF
F$DCB.BFR.BUFUP
      1052**DCL      4846<<ASSIGN
F$DCB.BORROW
      1041**DCL      1041--REDEF    1041--REDEF    1041--REDEF
F$DCB.DCBNAME.L
      1055**DCL      1055--IMP-SIZ
F$DCB.DDEV
      1014**DCL      4775>>IF       4906<<ASSIGN
F$DCB.EOMCHAR
      1012**DCL      1012--REDEF
F$DCB.EXIST
      1021**DCL      4807<<ASSIGN
F$DCB.FLDID
      1036**DCL      1036--REDEF
F$DCB.FORM$
      1030**DCL      1030--REDEF    4886>>ASSIGN   4905>>ASSIGN   4914>>ASSIGN   4930>>ASSIGN
F$DCB.FSECT
      1046**DCL      1046--REDEF
F$DCB.FSN
      1023**DCL      1023--REDEF    1023--REDEF    1024--REDEF
F$DCB.HEADER$
      1029**DCL      1029--REDEF
F$DCB.IASN
      1049**DCL      4806<<ASSIGN
F$DCB.IXTNSIZE
      1027**DCL      1027--REDEF    4811<<ASSIGN   4827>>IF       4828>>ASSIGN
F$DCB.LASTSTA$
      1017**DCL      1017--REDEF
F$DCB.LVL
      1042**DCL      1042--REDEF
F$DCB.NAME
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:68   
      1017**DCL      4817--CALLBLT  4818--ASSIGN   4824--CALLBLT  4825--CALLBLT
F$DCB.NAME.C
      1017**DCL      1017--REDEF    4814<<ASSIGN
F$DCB.NAME.L
      1017**DCL      4815<<ASSIGN
F$DCB.NOEOF
      1038**DCL      1038--REDEF
F$DCB.NRECS
      1028**DCL      1028--REDEF    4930>>ASSIGN
F$DCB.NRECX
      1047**DCL      1047--REDEF
F$DCB.OHDR
      1039**DCL      1039--REDEF
F$DCB.ORG
      1022**DCL      1022--REDEF    4808<<ASSIGN
F$DCB.OWNER
      1039**DCL      4834<<ASSIGN
F$DCB.PGINGRAN
      1048**DCL      4810<<ASSIGN   4892<<ASSIGN   4892>>ASSIGN   4919<<ASSIGN   4919>>ASSIGN
F$DCB.PRECNO
      1045**DCL      1045--REDEF
F$DCB.RCSZ
      1050**DCL      1050--REDEF
F$DCB.RES
      1018**DCL      1018--REDEF
F$DCB.SETX
      1030**DCL      1030--REDEF
F$DCB.TAB$
      1029**DCL      1030--REDEF
F$DCB.TDA
      1044**DCL      1044--REDEF
F$DCB.UB$
      1046**DCL      4866<<ASSIGN   4876<<ASSIGN   4894<<ASSIGN   4922<<ASSIGN
F$DCB.UBYTES
      1046**DCL      4867<<ASSIGN   4877<<ASSIGN   4895<<ASSIGN   4923<<ASSIGN
F$DCB.WAIT
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:69   
      1040**DCL      4848<<ASSIGN
F$DCB.WIDTH
      1015**DCL      4884>>ASSIGN
F$DCB.WSN
      1019**DCL      1019--REDEF    4829>>ASSIGN   4830<<ASSIGN   4832<<ASSIGN
F$DCB.WSR
      1025**DCL      4813<<ASSIGN
F$DCB.XTNSIZE
      1025**DCL      4812<<ASSIGN
FMD$GBUF
        48**DCL-ENT  4857--CALL
FMD$RBUF
        49**DCL-ENT  4933--CALL
FMH$SYMB
        51**DCL-ENT  4872--CALL     4878--CALL     4900--CALL     4924--CALL
FMH$TRUNC
        52**DCL-ENT  4931--CALL
FMN$GETFIT
        54**DCL-ENT  4841--CALL
FMN$OPNF
        53**DCL-ENT  4831--CALL
FMO$LOCCODP
        55**DCL-ENT  4843--CALL
FS$FINST.CHARGE
      2411**DCL      2412--REDEF
FS$FINST.ENTRIES.COUNT
      2432**DCL      2433--REDEF
FS$FINST.ENTRIES.DISP
      2428**DCL      2429--REDEF
FS$FORMREC.BANRDISP
      2331**DCL      4887>>IF       4889>>CALL     4912>>ASSIGN
FS$FORMREC.CHAINS
      2374**DCL      2384--REDEF
FS$FORMREC.GRAPHIC
      2335**DCL      4864>>IF
FS$FORMREC.SOFTFORM
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:70   
      2350**DCL      4866--ASSIGN   4867--ASSIGN
FS$FORMREC.SOFTFORM.VLPPLATEN.LENGTH
      2359**DCL      4869<<ASSIGN   4869>>ASSIGN   4873<<ASSIGN   4873>>ASSIGN
FS$FORMREC.SOFTFORM.VLPPLATEN.LIMBO
      2360**DCL      4868>>ASSIGN   4871<<ASSIGN   4875<<ASSIGN
FS$WORKAUTO
      2620**DCL      4861--ASSIGN   4889<>CALL     4916<>CALL
FS$WRSP
      2388**DCL      4859--ASSIGN   4880<<ASSIGN   4889<>CALL
FS$WRSP.DATE_TIME
      2403**DCL      4885<<ASSIGN
FS$WRSP.JIT$
      2400**DCL      4882<<ASSIGN
FS$WRSP.MAXBYTES
      2397**DCL      4895>>ASSIGN
FS$WRSP.SITEINFO
      2401**DCL      4883<<ASSIGN
FS$WRSP.START
      2389**DCL      4888>>DOWHILE  4893>>IF
FS$WRSP.SUBFILE$
      2399**DCL      4881<<ASSIGN
FS$WRSP.WIDTH
      2402**DCL      4884<<ASSIGN
FSK$BANNER
        46**DCL-ENT  4889--CALL
FSK$GBANNER
        47**DCL-ENT  4916--CALL
GBAN.CHARGE
      2559**DCL      2560--REDEF
GBAN.ENTRIES.CHARSIZE
      2576**DCL      2582--REDEF
GBAN.ENTRIES.CHARSPACE
      2585**DCL      2590--REDEF
GBAN.ENTRIES.CHARUP
      2567**DCL      2574--REDEF
GBAN.ENTRIES.COUNT
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:71   
      2599**DCL      2600--REDEF
GFORM
      2473**DCL      4916<>CALL
GFORM.SET_DEV_LIM
      2504**DCL      2521--REDEF
GWRSP
      2525**DCL      4907<<ASSIGN   4916<>CALL
GWRSP.DATE_TIME
      2546**DCL      4911<<ASSIGN
GWRSP.ENTDISP
      2544**DCL      4912<<ASSIGN
GWRSP.ENTDISP$
      2543**DCL      2544--REDEF
GWRSP.JIT$
      2542**DCL      4909<<ASSIGN
GWRSP.MAXBYTES
      2531**DCL      4923>>ASSIGN
GWRSP.SITEINFO
      2545**DCL      4910<<ASSIGN
GWRSP.START
      2526**DCL      4913<<ASSIGN   4915>>DOWHILE  4920>>IF
GWRSP.SUBFILE$
      2541**DCL      4908<<ASSIGN
HFF$TRAPALT
        50**DCL-ENT  4862--CALL
I
      4764**DCL      4816<<ASSIGN   4817>>CALLBLT  4819>>IF       4820<<ASSIGN   4823<<ASSIGN   4824>>CALLBLT
      4841<>CALL     4846>>ASSIGN
J
      4765**DCL      4826<<ASSIGN   4827>>IF       4833>>ASSIGN   4868<<ASSIGN   4869>>ASSIGN   4873>>ASSIGN
      4875>>ASSIGN
J$
        19**DCL        17--PROC     4773>>ASSIGN
JDCB$
      4763**DCL      1008--IMP-PTR  4772<<ASSIGN   4775>>IF       4791>>IF       4806>>ASSIGN   4807>>ASSIGN
      4808>>ASSIGN   4810>>ASSIGN   4811>>ASSIGN   4812>>ASSIGN   4813>>ASSIGN   4814>>ASSIGN   4815>>ASSIGN
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:72   
      4817>>CALLBLT  4818>>ASSIGN   4824>>CALLBLT  4825>>CALLBLT  4827>>IF       4828>>ASSIGN   4829>>ASSIGN
      4830>>ASSIGN   4832>>ASSIGN   4834>>ASSIGN   4846>>ASSIGN   4848>>ASSIGN   4866>>ASSIGN   4867>>ASSIGN
      4876>>ASSIGN   4877>>ASSIGN   4881>>ASSIGN   4884>>ASSIGN   4886>>ASSIGN   4892>>ASSIGN   4892>>ASSIGN
      4894>>ASSIGN   4895>>ASSIGN   4905>>ASSIGN   4906>>ASSIGN   4908>>ASSIGN   4914>>ASSIGN   4919>>ASSIGN
      4919>>ASSIGN   4922>>ASSIGN   4923>>ASSIGN   4930>>ASSIGN   4930>>ASSIGN   4932>>ASSIGN
JIT$
        21**DCL      4773<<ASSIGN   4816>>ASSIGN   4819>>IF       4840>>IF       4844>>ASSIGN   4845>>ASSIGN
      4882>>ASSIGN   4909>>ASSIGN
NOCODE04
      4847**LABEL    4841--CALLALT  4843--CALLALT
OOPS
      4928**LABEL    4862--CALLALT  4889--CALLALT  4916--CALLALT
OOPSNOWTHERE
      4808**LABEL    4837--GOTO
OSFN
       935**DCL      4815--ASSIGN
OSFN.BOOTID
       935**DCL      4818<<ASSIGN
OSFN.CNUM
       936**DCL      4825<<CALLBLT
OSFN.NUM
       936**DCL      4824<<CALLBLT
OSFN.SYSID
       935**DCL      4817<<CALLBLT
PAGE$
      4769**DCL      4841<>CALL     4842<<ASSIGN   4842>>ASSIGN   4843<>CALL     4844>>ASSIGN   4845>>ASSIGN
      4857<>CALL     4858>>ASSIGN   4933<>CALL
PN$
        34**DCL        17--PROC     4831<>CALL
PN$.ACSVEH_
        35**DCL        35--REDEF
PN$.ALTKEYS_
        37**DCL        37--REDEF      37--REDEF
PN$.HDR_
        36**DCL        36--REDEF
PN$.TAB_
PL6.E3A0      #002=FSF$SYMBFILE File=FSF$FORM.:E05TSI                            TUE 07/29/97 17:32 Page:73   
        36**DCL        36--REDEF
PN$.UHL_
        34**DCL        34--REDEF      34--REDEF
PN$.WSN_
        36**DCL        36--REDEF
S_STREAMFILEID
        42**DCL      4818>>ASSIGN
TABZERO
      4426**DCL      4876--ASSIGN   4877--ASSIGN
UMT$IDT
        45**DCL-ENT  4885--ASSIGN   4911--ASSIGN
WORK$
      4766**DCL      2388--IMP-PTR  2525--IMP-PTR  4859<<ASSIGN   4861>>ASSIGN   4880>>ASSIGN   4881>>ASSIGN
      4882>>ASSIGN   4883>>ASSIGN   4884>>ASSIGN   4885>>ASSIGN   4888>>DOWHILE  4889>>CALL     4893>>IF
      4895>>ASSIGN   4907>>ASSIGN   4908>>ASSIGN   4909>>ASSIGN   4910>>ASSIGN   4911>>ASSIGN   4912>>ASSIGN
      4913>>ASSIGN   4915>>DOWHILE  4916>>CALL     4920>>IF       4923>>ASSIGN
WRBAN.STATION_
      4370**DCL      4370--REDEF
WRBAN.V
      4371**DCL      4368--DCLINIT  4900<>CALL     4924<>CALL
WRBAN.V.DVBYTE.VFC#
      4377**DCL      4377--REDEF
WRINFO.STATION_
      4401**DCL      4401--REDEF
WRINFO.V
      4402**DCL      4399--DCLINIT  4872<>CALL     4878<>CALL
WRINFO.V.DVBYTE.VFC#
      4408**DCL      4408--REDEF
WSN
      4770**DCL      4829<<ASSIGN   4832>>ASSIGN

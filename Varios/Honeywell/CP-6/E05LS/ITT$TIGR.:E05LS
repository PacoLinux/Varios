VERSION E05

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:1    
        1        1        /*M*     Main control routine for TIGR */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /**/
        8        8        /*X*/
        9        9        /*P*     NAME:     ITT$TIGR
       10       10                 PURPOSE:  ITT$TIGR is the main control routine for TIGR. It
       11       11                           aquires working memory, reads commands, calls the
       12       12                           proper routines to process the commands, releases the
       13       13                           unused table space and exits.           */
       14       14        ITT$TIGR: PROC;
       15       15        /**/
       16       16        /**/
       17       17        /* ENTRY DCLS */
       18       18        /**/
       19       19    1   DCL ITC$AUTOCONFIG ENTRY(1) ALTRET;
       20       20    1   DCL ITC$CHECK_IOM ENTRY(1) ALTRET;
       21       21    1   DCL ITC$CHECK_DT ENTRY(1) ALTRET;
       22       22    1   DCL ITC$CHECK_UNIT ENTRY(1) ALTRET;
       23       23    1   DCL ITC$CHECK_FEP ENTRY(1) ALTRET;
       24       24    1   DCL ITC$CHECK_CON ENTRY(1) ALTRET;
       25       25    1   DCL ITC$CHECK_MON ENTRY(1) ALTRET;
       26       26    1   DCL ITC$CHECK_CPU ENTRY(1) ALTRET;
       27       27    1   DCL ITC$CHECK_AP ENTRY(1) ALTRET;
       28       28    1   DCL ITO$CHECK_OD ENTRY(2) ALTRET;
       29       29    1   DCL ITI$IOM ENTRY(1) ALTRET;
       30       30    1   DCL ITD$DISKTAPE ENTRY(1) ALTRET;
       31       31    1   DCL ITU$UNIT ENTRY(1) ALTRET;
       32       32    1   DCL ITF$FEP ENTRY(1) ALTRET;
       33       33    1   DCL ITA$AP ENTRY(1) ALTRET;
       34       34    1   DCL ITS$SYSCON ENTRY(1) ALTRET;
       35       35    1   DCL ITM$MON ENTRY(1) ALTRET;
       36       36    1   DCL ITM$MAINT ENTRY(2) ALTRET;
       37       37    1   DCL ITK$WRAPUP ENTRY(5) ALTRET;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:2    
       38       38    1   DCL ITR$READ ENTRY(2) ALTRET;
       39       39    1   DCL ITR$WRITE ENTRY(2) ALTRET;
       40       40    1   DCL ITE$ERROR ENTRY(2);
       41       41    1   DCL ITP$PROC ENTRY;
       42       42    1   DCL ITK$KILLTIGR ENTRY(5) ALTRET;
       43       43    1   DCL ITH$ALLOCATE ENTRY(2) ALTRET;
       44       44    1   DCL ITG$FIXCLOCK ENTRY;
       45       45    1   DCL HFB$ENAPORT ENTRY(1);
       46       46    1   DCL HFC$RCON ENTRY(1);
       47       47        /**/
       48       48    1   DCL X$PARSE ENTRY(1) ALTRET;
       49       49        /**/
       50       50    1   DCL MMH$GDS ENTRY(5) ALTRET;
       51       51    1   DCL MME$WGVP ENTRY(4) ALTRET;
       52       52    1   DCL MME$WFVP ENTRY(4) ALTRET;
       53       53    1   DCL MMC$MAPXLAT ENTRY(1);
       54       54        /**/
       55       55    1   DCL NIF$FAULT ENTRY(2);
       56       56    1   DCL NIF$SAC ENTRY (2);
       57       57    1   DCL NIF$SPEC ENTRY(2);
       58       58        /**/
       59       59        /*  INCLUDE FILES  */
       60       60        /**/
       61       61        %INCLUDE MM_DATA_R;
       62      581        %INCLUDE B$MAP;
       63      680        %INCLUDE IT_ERROR_C;
       64      763        %INCLUDE IT_SUBS_C;
       65     1030        %INCLUDE IT$CONFIG;
       66     1099        %INCLUDE NI_DATA_R ;
       67     1536        %INCLUDE IT_IDATA_R;          /* has to be after NI_DATA_R here  */
       68     1653    1   DCL IT_TIGRCUB BIT(1) ALIGNED SYMREF;
       69     1654        %INCLUDE XU_MACRO_C;
       70     4760        %INCLUDE NI_DATA_C;
       71     4873        %INCLUDE I_SUBS_C;
       72     4897        %INCLUDE SS_SCHED_R;
       73     4940        /**/
       74     4941        %INCLUDE UM_CP6;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:3    
       75     5793        %VLR_MONINFO (FPTN=B_MONINFO,STCLASS=SYMREF);
       76     5811        /**/
       77     5812        /*  SUBs      */
       78     5813        /**/
       79     5814        %SUB YES='1'B;
       80     5815        %SUB NO='0'B;
       81     5816        %SUB RBPGS = 2;                         /* READ BUFFER PAGES                  */
       82     5817        %SUB PWPGS = 5;                         /* PARSE WORK PAGES                   */
       83     5818        /**/
       84     5819        /*  CONSTANT DATA  */
       85     5820        /**/
       86     5821        %P_PCB (NAME=P_PCB,R=ITN$TIGR_CMD,STCLASS=CONSTANT);
       87     6020        /**/
       88     6021        /*  BASED  */
       89     6022        /**/
       90     6023        %INCLUDE IT$CMDWD;
       91     6031        %INCLUDE IT$IOM;
       92     6042    1   DCL IT$TEXT CHAR(80) BASED ALIGNED;
       93     6043        %PARSE$OUT (NAME=OUT$BLK,STCLASS=BASED);
       94     6088        %NI$MBX;
       95     6107        %NI$CHT;
       96     6110        %NI$IOM;
       97     6115        %NI$DQH;
       98     6138        %NI$DVT;
       99     6145        %NI$CONNECT ;
      100     6157        /**/
      101     6158        /*  SYMREFS */
      102     6159        /**/
      103     6160        %INCLUDE HF_DATA_R;
      104     6203    1   DCL B$DS2$ PTR SYMREF;
      105     6204    1   DCL B$DS3$ PTR SYMREF;
      106     6205    1   DCL B$DS4$ PTR SYMREF;
      107     6206    1   DCL B$DS5$ PTR SYMREF;
      108     6207    1   DCL B$DS6$ PTR SYMREF;
      109     6208    1   DCL B$TIGR$ PTR SYMREF;
      110     6209    1   DCL B$REAL$ PTR SYMREF;
      111     6210    1   DCL B$MPT$ PTR SYMREF;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:4    
      112     6211    1   DCL B$UPT$ PTR SYMREF;
      113     6212    1   DCL B$IMX$ PTR SYMREF;
      114     6213    1   DCL B$DVTTBL$ PTR SYMREF;
      115     6214    1   DCL KI_MXFE UBIN(36) SYMREF;
      116     6215    1   DCL P_MAXPROCS UBIN WORD SYMREF;
      117     6216    1   DCL P_NPROCS UBIN WORD SYMREF;
      118     6217    1   DCL ITN$TIGR_CMD UBIN(36) SYMREF;
      119     6218    1   DCL B_SCDCTX UBIN WORD SYMREF;
      120     6219    1   DCL IT_FEI$$ PTR SYMREF;
      121     6220    1   DCL IT_INDEV UBIN WORD SYMREF;
      122     6221    1   DCL IT_OUTDEV UBIN WORD SYMREF;
      123     6222    1   DCL IT_ECHODEV UBIN WORD SYMREF;
      124     6223    1   DCL IT_MINIQ_ME UBIN WORD SYMREF;
      125     6224    1   DCL IT_MINIQ_CR UBIN WORD SYMREF;
      126     6225    1   DCL IT_MINIQ_TA UBIN WORD SYMREF;
      127     6226    1   DCL IT_MINIQ_PA UBIN WORD SYMREF;
      128     6227    1   DCL IT_BOOTFLAG UBIN WORD SYMREF;
      129     6228    1   DCL IT_UFLG UBIN SYMREF;
      130     6229    1   DCL IT_MMDSMAX(0:7) UBIN BYTE UNAL SYMREF;
      131     6230        %NI$PARTITION (NAME=IT_PARTITION,STCLASS=SYMREF);
      132     6238        %IT$CONFIG (NAME=IT_CONFIG,STCLASS=SYMREF);
      133     6299        /**/
      134     6300        /*  AUTOMATIC */
      135     6301        /**/
      136     6302    1   DCL FEI$(0:255) PTR;
      137     6303    1   DCL I SBIN(36);
      138     6304    1   DCL J SBIN(36);
      139     6305    1   DCL NCHAR SBIN(36);
      140     6306    1   DCL CALL_VOLINIT BIT(1);
      141     6307    1   DCL CHAN_BUILT BIT(1);
      142     6308    1   DCL TABLE_PTR$ PTR;
      143     6309    1   DCL PTR$ PTR;
      144     6310    1   DCL 1 REPTR$ REDEF PTR$,
      145     6311    1         2 OFFSET UBIN(18) UNAL,
      146     6312    1         2 * BIT(6) UNAL,
      147     6313    1         2 SEGID UBIN(12) UNAL;
      148     6314    1   DCL GDS_ERR SBIN;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:5    
      149     6315    1   DCL 1 READ_BUF_VECT DALIGNED,
      150     6316    1         2 BOUND UBIN(20) UNAL,
      151     6317    1         2 FLAGSV UBIN(11) UNAL,
      152     6318    1         2 * BIT(5) UNAL,
      153     6319    1         2 PTR$ PTR UNAL;
      154     6320    1   DCL MON$ PTR;
      155     6321    1   DCL MONNCHAR SBIN(36);
      156     6322    1   DCL 1 PARSEERR_TEXT,                    /* SUB INTO ERROR MESSAGE             */
      157     6323    1         2 COUNT UBIN(9) UNAL,
      158     6324    1         2 RECORD CHAR(7) UNAL,
      159     6325    1         2 REC# CHAR(2) UNAL,
      160     6326    1         2 CHARACTER CHAR(11) UNAL,
      161     6327    1         2 CHAR# CHAR(2) UNAL;
      162     6328    1   DCL AARDCONFOUND BIT(1) ALIGNED SYMREF;
      163     6329    1   DCL GORCHBUF CHAR(80) ALIGNED SYMREF;
      164     6330        %P$PCB   (NAME=PCB,STCLASS=AUTO);
      165     6531    1   DCL DQH$ PTR;
      166     6532
      167     6533    1   DCL B$SEGTBL$ PTR SYMREF READONLY;
      168     6534    1   DCL 1 SEGTBL ALIGNED BASED (B$SEGTBL$),
      169     6535    1         2 * UBIN,
      170     6536    1         2 NODES (0:0) ALIGNED,
      171     6537    1           3 WOFF UBIN(16) HALIGNED,
      172     6538    1           3 WSIZ UBIN(16) HALIGNED;
      173     6539    1   DCL SEGP$ PTR;
      174     6540    1   DCL 1 SEGPT (0:0) ALIGNED BASED (SEGP$),
      175     6541    1         2 RPN UBIN(18) UNAL,
      176     6542    1         2 * BIT (18);
      177     6543
      178     6544        /**/
      179     6545        %EJECT;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:6    
      180     6546        /*D*     NAME:     ITT$TIGR
      181     6547                 PURPOSE:  To handle the flow of control for TIGR
      182     6548        *
      183     6549                 INPUT:    none
      184     6550        *
      185     6551                 OUTPUT:   System initialization complete
      186     6552        *
      187     6553                 DESCRIPTION:  ITT$TIGR first initializes some data locations,
      188     6554                           then gets four data segments for TIGR's working
      189     6555                           data:
      190     6556                                DS3 - N$DCT$$ - temporary starage
      191     6557                                DS4 - read buffer
      192     6558                                DS5 - parse work area and command table
      193     6559                                DS6 - shared processor temp storage
      194     6560                               then the virtual area in which the tables to be
      195     6561                           built at boot time is aquired. The maximum size for
      196     6562                           this space is aquried and any unused pages are released
      197     6563                           when all the required tables have been built.
      198     6564                                Commands are read through AARDVARK's MINIQ I/O
      199     6565                           system and passed to X$PARSE to be parsed, then
      200     6566                           a routine that does syntax checking and builds the
      201     6567                           command table for each command is called. This is followed
      202     6568                           by a call to the processing routine for the command.
      203     6569                                The MON command is always saved until the last
      204     6570                           command to be processed because some of the default
      205     6571                           values for MON command options depend on the number of
      206     6572                           devices specified by the configuration commands.
      207     6573                                When all commands have been processed to unused
      208     6574                           pages in the TIGR table area are released and ITK$KILLTIGR
      209     6575                           is called to release TIGR's procedure pages and exit
      210     6576                           to the scheduler              */
      211     6577        /**/
      212     6578    1           CALL_VOLINIT = NO;
      213     6579    1           CHAN_BUILT = NO;
      214     6580        /**/
      215     6581    1           IF (IT_BOOTFLAG = I_VOLONLY) THEN CALL_VOLINIT=YES;
      216     6582        /**/
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:7    
      217     6583    1           B$MPT$ -> B$MAP(%MASTERPTPG) = B$MPT$ -> B$MAP(%PGTBLLO);
      218     6584    1           B$MPT$ -> B$MAP(%MASTERHJITPG) = B$MPT$ -> B$MAP(%HJITPG);
      219     6585        /**/
      220     6586        /*    Set hardware flags based on HW_TYPE from AARDVARK */
      221     6587        /**/
      222     6588        /*    NOTE:  These hardware flags were INITed in HF_DATA_D in
      223     6589                     hopes to save TIGR a few calories!
      224     6590        */
      225     6591    2         DO CASE (HW_TYPE);
      226     6592    2            CASE (%L66); /* and all other "old" cpu types */
      227     6593                  /*HW_PTB_UNITS = 64;                                     */
      228     6594                  /*HW_IOPTP_UNITS = 64;                                   */
      229     6595                  /*HW_WSQ0PT = '0'B;                                      */
      230     6596                  /*HW_LOAD_FW = '1'B;                                     */
      231     6597                  /*HW_TIME_LEGAL = '1'B;                                  */
      232     6598                  /*HW_SECT_PT = '0'B;                                     */
      233     6599                  /*HW_FRAG_PT = '1'B;                                     */
      234     6600                  /*HW_IOP = '0'B;                                         */
      235     6601    2               HW_EXT_STATUS = '0'B;
      236     6602    2               HW_SMART_CACHE = '0'B;
      237     6603    2               HW_ES = '0'B;
      238     6604                  /*HW_EI = '0'B;                                          */
      239     6605    2               HW_PROG_SCU = '1'B;
      240     6606                  /*HW_EDAC = '1'B;                                        */
      241     6607                  /*HW_FLTIC_OK = '0'B;                                    */
      242     6608                  /*HW_NORM_CLOCK = '1'B;                                  */
      243     6609                  /*HW_CHANS = 64;                                         */
      244     6610                  /*HW_IMX = '0'B;                                         */
      245     6611    2            CASE (%DPS90);
      246     6612                  /*HW_PTB_UNITS = 64;                                     */
      247     6613                  /*HW_IOPTP_UNITS = 64;                                   */
      248     6614    2               HW_WSQ0PT = '1'B;
      249     6615    2               HW_LOAD_FW = '0'B;
      250     6616    2               HW_TIME_LEGAL = '0'B;
      251     6617                  /*HW_SECT_PT = '0'B;                                     */
      252     6618                  /*HW_FRAG_PT = '1'B;                                     */
      253     6619    2               HW_IOP = '1'B;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:8    
      254     6620                  /*HW_EXT_STATUS = '1'B;                                  */
      255     6621                  /*HW_SMART_CACHE = '1'B;                                 */
      256     6622                  /*HW_ES = '1'B;                                          */
      257     6623                  /*HW_EI = '0'B;                                          */
      258     6624                  /*HW_PROG_SCU = '0'B;                                    */
      259     6625    2               HW_EDAC = '0'B;
      260     6626    2               HW_FLTIC_OK = '1'B;
      261     6627    2               HW_NORM_CLOCK = '0'B;
      262     6628    2               H_S1000_FLG = '1'B;
      263     6629                  /*HW_CHANS = 64;                                         */
      264     6630                  /*HW_IMX = '0'B;                                         */
      265     6631    2               H_ENMASK = '777777777760'O;
      266     6632    2               H_DSMASK = '000000000000'O;
      267     6633    2            CASE (%DPS90XA);
      268     6634    2               HW_PTB_UNITS = 1024;
      269     6635                  /*HW_IOPTP_UNITS = 64;                                   */
      270     6636    2               HW_WSQ0PT = '1'B;
      271     6637    2               HW_LOAD_FW = '0'B;
      272     6638    2               HW_TIME_LEGAL = '0'B;
      273     6639    2               HW_SECT_PT = '1'B;
      274     6640                  /*HW_FRAG_PT = '1'B;                                     */
      275     6641    2               HW_IOP = '1'B;
      276     6642                  /*HW_EXT_STATUS = '1'B;                                  */
      277     6643                  /*HW_SMART_CACHE = '1'B;                                 */
      278     6644                  /*HW_ES = '1'B;                                          */
      279     6645                  /*HW_EI = '0'B;                                          */
      280     6646                  /*HW_PROG_SCU = '0'B;                                    */
      281     6647    2               HW_EDAC = '0'B;
      282     6648    2               HW_FLTIC_OK = '1'B;
      283     6649    2               HW_NORM_CLOCK = '0'B;
      284     6650    2               H_S1000_FLG = '1'B;
      285     6651                  /*HW_CHANS = 64;                                         */
      286     6652                  /*HW_IMX = '0'B;                                         */
      287     6653    2               H_ENMASK = '777777777760'O;
      288     6654    2               H_DSMASK = '000000000000'O;
      289     6655    2            CASE (%DPS8000);
      290     6656    2               HW_PTB_UNITS = 1024;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:9    
      291     6657    2               HW_IOPTP_UNITS = 1;
      292     6658                  /*HW_WSQ0PT = '0'B;                                      */
      293     6659                  /*HW_LOAD_FW = '1'B;                                     */
      294     6660                  /*HW_TIME_LEGAL = '1'B;                                  */
      295     6661    2               HW_SECT_PT = '1'B;
      296     6662    2               HW_FRAG_PT = '0'B;
      297     6663                  /*HW_IOP = '0'B;                                         */
      298     6664                  /*HW_EXT_STATUS = '1'B;                                  */
      299     6665                  /*HW_SMART_CACHE = '1'B;                                 */
      300     6666                  /*HW_ES = '1'B;                                          */
      301     6667    2               HW_EI = '1'B;
      302     6668                  /*HW_PROG_SCU = '0'B;                                    */
      303     6669                  /*HW_EDAC = '1'B;                  ????                  */
      304     6670                  /*HW_FLTIC_OK = '0'B;                                    */
      305     6671                  /*HW_NORM_CLOCK = '1'B;                                  */
      306     6672    2               H_RPM_FLG = '1'B;
      307     6673    2               HW_CHANS = 128;
      308     6674    2               HW_IMX = '1'B;
      309     6675    2               H_ENMASK='303400000000'O;
      310     6676    2               H_DSMASK='001400000000'O;
      311     6677    2            END;
      312     6678        /**/
      313     6679    1         CALL ITG$FIXCLOCK; /* Verify normal clocks are ok */
      314     6680    1         IF H_RPM_FLG THEN
      315     6681    1            CALL HFC$RCON;
      316     6682    1           CALL HFB$ENAPORT(S_PORTNR(0));
      317     6683    1           SEGP$ = PINCRW (B$SEGTBL$ , SEGTBL.NODES.WOFF(3));
      318     6684    1           I = 0;
      319     6685    2           DO WHILE (SEGPT.RPN(I)~=%FPMC);
      320     6686    2              I = I + 1;
      321     6687    2              END;
      322     6688    1           I = I / 2;
      323     6689    2           DO J = 0 TO I - 1;
      324     6690    2              B$MPT$ -> B$MAP (%XLATNORMAL + J) = SEGP$ -> B$MAP (J) & '777777777767'O;
      325     6691    2              B$MPT$ -> B$MAP (%XLATALTERNATE + J) = SEGP$ -> B$MAP (J + I) &
              6691                       '777777777767'O;
      326     6692    2              END;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:10   
      327     6693    1           CALL MMC$MAPXLAT (B$UPT$);
      328     6694    2           IF ~IT_TIGRCUB THEN DO;
      329     6695    2              SEGP$ = PINCRW (B$SEGTBL$ , SEGTBL.NODES.WOFF(8));
      330     6696    2              I = 0;
      331     6697    3              DO WHILE (SEGPT.RPN(I)~=%FPMC);
      332     6698    3                 B$MPT$ -> B$MAP (%DVTTBL + I) = SEGP$ -> B$MAP (I) & '777777777767'O;
      333     6699    3                 I = I + 1;
      334     6700    3                 END;
      335     6701    2              SEGP$ = B$DVTTBL$;
      336     6702    2              I = 0;
      337     6703    3              DO WHILE (SEGP$->NI$DVT.MODEL(0) ~= 'MCA');
      338     6704    3                 NI$DVT$(I) = SEGP$;
      339     6705    3                 SEGP$ = PINCRW(SEGP$,SIZEW(NI$DVT));
      340     6706    3                 I = I + 1;
      341     6707    3                 END;
      342     6708    2              NI$DVT$(I) = SEGP$;
      343     6709    2              NI_NDVTS = I + 1;
      344     6710    2              END;
      345     6711        /**/
      346     6712    1           B_MONINFO.NOUSERS# = IT_UFLG > 0;
      347     6713    2           IF (IT_BOOTFLAG >= I_DISKBOOT) THEN DO; /* DB OR RECOVERY             */
      348     6714    2              TABLE_PTR$ = B$TIGR$;
      349     6715    2              CALL ITK$WRAPUP(TABLE_PTR$,CALL_VOLINIT);
      350     6716    2              CALL ITK$KILLTIGR;
      351     6717    2              END;
      352     6718        /**/
      353     6719        /*      KI_MXFE = 0;               inited  START WITH NO FEPS                 */
      354     6720    2           DO I = 0 TO 255;
      355     6721    2              FEI$(I) = ADDR(NIL);
      356     6722    2              END;
      357     6723    1           IT_FEI$$ = ADDR(FEI$(0));
      358     6724    1           N_DCTXMAX = 0;             /*      START WITH NO DEVICES              */
      359     6725    1           IT_PARTITION='0'B;         /*      NO PARTITIONED DEVICES OR CHANNELS */
      360     6726    1           N_NDPS = 0;
      361     6727        /*      P_MAXPROCS = 0;                                                       */
      362     6728        /*      P_NPROCS = 0;                                                         */
      363     6729        /*      B_SCDCTX = 0;                                                         */
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:11   
      364     6730        /**/
      365     6731    1           MON$ = ADDR(NIL);
      366     6732        /**/
      367     6733    1           IT_MMDSMAX = MM_DSMAX;          /* SAVE IT                            */
      368     6734    1           MM_DSMAX(1) = PWPGS;            /* DS2                                */
      369     6735    1           MM_DSMAX(2) = 1;                /* ROOM FOR TIGR WORK IN DS3          */
      370     6736    1           MM_DSMAX(3) = RBPGS;            /* DS4*/
      371     6737    1           MM_DSMAX(4) = 1;                /* DS5                                */
      372     6738    1           MM_DSMAX(5) = 1;                /* DS6                                */
      373     6739        /**/
      374     6740    1           N$DCT$$ = B$DS3$;               /* BUILD N$DCT$ IN DS3                */
      375     6741    1           PTR$ = B$DS3$;
      376     6742    1           CALL MMH$GDS (%MON_WSQ,REPTR$.SEGID,1024,GDS_ERR) ALTRET (DS_ERR);
      377     6743        /**/
      378     6744    2           DO I = 0 TO 1023;
      379     6745    2              N$DCT$$ -> N$DCT$(I) = ADDR(NIL);
      380     6746    2              END;
      381     6747        /**/
      382     6748    1           PTR$ = B$DS4$;                  /* READ BUFFER IN DS4                 */
      383     6749    1           CALL MMH$GDS (%MON_WSQ,REPTR$.SEGID,1024*RBPGS,GDS_ERR) ALTRET (DS_ERR);
      384     6750    1           READ_BUF_VECT = NO;
      385     6751    1           READ_BUF_VECT.FLAGSV = 2045;
      386     6752    1           READ_BUF_VECT.BOUND = 8192 - 1;
      387     6753    1           READ_BUF_VECT.PTR$ = B$DS4$;
      388     6754        /**/
      389     6755    1           PTR$ = B$DS2$;                  /* PARSE WORK AREA IN DS2             */
      390     6756    1           CALL MMH$GDS (%MON_WSQ,REPTR$.SEGID,1024*PWPGS,GDS_ERR) ALTRET (DS_ERR);
      391     6757    1           PCB = P_PCB;
      392     6758    1           PCB.TEXT$ = READ_BUF_VECT.PTR$;
      393     6759    1           PCB.WORK$ = B$DS2$;
      394     6760    1           PCB.WKSZ = 1024*PWPGS;
      395     6761        /**/
      396     6762    1           PTR$ = B$DS5$;                  /* COMMAND TABLE AREA IN DS5          */
      397     6763    1           CALL MMH$GDS (%MON_WSQ,REPTR$.SEGID,1024,GDS_ERR) ALTRET (DS_ERR);
      398     6764        /**/
      399     6765    1           PTR$ = B$DS6$;                  /* TEMP SPROC STORAGE IN DS6          */
      400     6766    1           CALL MMH$GDS (%MON_WSQ,REPTR$.SEGID,1024,GDS_ERR) ALTRET (DS_ERR);
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:12   
      401     6767        /**/
      402     6768    1           TABLE_PTR$ = B$TIGR$;
      403     6769        /**/
      404     6770    1           I = %TIGRLO;                    /* AQUIRE TABLE SPACE                 */
      405     6771    2           DO WHILE (I <= %TIGRHI);
      406     6772    2              CALL MME$WGVP(%MON_WSQ,I,BITBIN('64'O),GDS_ERR) ALTRET (TABLE_ERR);
      407     6773    2              I = I+1;
      408     6774    2              END;
      409     6775        /**/
      410     6776    1           NI$CONNECT$ = TABLE_PTR$ ;
      411     6777    1           CALL ITH$ALLOCATE ( TABLE_PTR$, SIZEW(NI$CONNECT) )  ALTRET ( TABLE_ERR10 )
              6777                    ;
      412     6778    1           NI$CONNECT$ -> NI$CONNECT.GATE    = YES ;
      413     6779    1           NI$CONNECT$ -> NI$CONNECT.ADDRESS = 0 ;
      414     6780    1           NI$CONNECT$ -> NI$CONNECT.CCW     = 0 ;
      415     6781        /**/
      416     6782    1           NI$RP$ = TABLE_PTR$;
      417     6783    1           CALL ITH$ALLOCATE(TABLE_PTR$,SIZEW(NI$RP)) ALTRET(TABLE_ERR10);
      418     6784    1           NI$RP$ -> NI$RP = NO;
      419     6785    1           NI$RP$ -> NI$RP.RP$ = ADDR(NIL);
      420     6786    1           NI$RP$ -> NI$RP.RC$ = ADDR(NIL);
      421     6787    1           NI$RP$ -> NI$RP.RQ$ = ADDR(NIL);
      422     6788    1           NI$RP$ -> NI$RP.GATE = YES;
      423     6789        /**/
      424     6790    1           NI$FQ$ = TABLE_PTR$;
      425     6791    1           CALL ITH$ALLOCATE(TABLE_PTR$,SIZEW(NI$FQ)) ALTRET(TABLE_ERR10);
      426     6792    1           NI$FQ$ -> NI$FQ = NO;
      427     6793    1           NI$FQ$ -> NI$FQ.HD$ = ADDR(NIL);
      428     6794    1           NI$FQ$ -> NI$FQ.GATE = YES;
      429     6795        /**/
      430     6796    1           N$FQ$ = TABLE_PTR$;
      431     6797    1           CALL ITH$ALLOCATE(TABLE_PTR$,SIZEW(N$FQ)) ALTRET(TABLE_ERR10);
      432     6798    1           N$FQ$ -> N$FQ = NO;
      433     6799    1           N$FQ$ -> N$FQ.HD$ = ADDR(NIL);
      434     6800    1           N$FQ$ -> N$FQ.GATE = YES;
      435     6801        /**/
      436     6802    2           IF HW_IMX THEN DO;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:13   
      437     6803    2              NI$IBUF$ = TABLE_PTR$;
      438     6804    2              CALL ITH$ALLOCATE(TABLE_PTR$,SIZEW(NI$IBUF)) ALTRET(TABLE_ERR10);
      439     6805    2              NI$IBUF$ -> NI$IBUF = NO;
      440     6806    2              NI$IBUF$ -> NI$IBUF.GATE = YES;
      441     6807    3              DO I = 0 TO 3;
      442     6808    3                 NI$IBUF$->NI$IBUF.ENT.BUF$(I) = PINCRW(B$IMX$,(%IMXMBXHI-%IMXLO+1+I)*
              6808                          1024);
      443     6809    3                 END;
      444     6810    2              END;
      445     6811    1   READ_CMD:
      446     6812    1           CALL ITR$READ (READ_BUF_VECT,NCHAR)    ALTRET (READ_ERR);
      447     6813        /**/
      448     6814    1           PCB.NCHARS = NCHAR;             /* COMMAND SIZE                       */
      449     6815        /**/
      450     6816    1           CALL X$PARSE (PCB) ALTRET (PARSE_ERR);
      451     6817        /**/
      452     6818    2           DO CASE (PCB.OUT$ -> OUT$BLK.CODE);
      453     6819        /**/
      454     6820    2            CASE(%ITS_NULL);
      455     6821    2            CASE(%ITS_AUTOCONFIG);
      456     6822    3              IF NI$IOM$(0)~=ADDR(NIL) THEN DO;
      457     6823    3                 CALL ITE$ERROR(%E$AUTOCONFIGERR);
      458     6824    3                 GOTO READ_CMD;
      459     6825    3                 END;
      460     6826    2              CALL DEFAULT_IOM;
      461     6827    2              CALL BUILD_CHAN ALTRET(TABLE_ERR10);
      462     6828    2              CALL ITC$AUTOCONFIG(TABLE_PTR$) ALTRET(CMD_ERR);
      463     6829        /**/
      464     6830    2            CASE(%ITS_IOM);
      465     6831    3              IF (CHAN_BUILT) THEN DO;
      466     6832    3                 CALL ITE$ERROR(%E$BADIOM);
      467     6833    3                 GOTO READ_CMD;
      468     6834    3                 END;
      469     6835    2              CALL ITC$CHECK_IOM(PCB) ALTRET (CMD_ERR);
      470     6836    2              CALL ITI$IOM(TABLE_PTR$);
      471     6837        /**/
      472     6838    2            CASE (%ITS_DISK,%ITS_TAPE);
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:14   
      473     6839    3              IF ( NI$IOM$(0) = ADDR(NIL) ) THEN DO;
      474     6840    3                 CALL DEFAULT_IOM;         /* BUILD ONE IOM ON PORT ZERO         */
      475     6841    3                 END;
      476     6842        /**/
      477     6843    2              IF (~CHAN_BUILT) THEN
      478     6844    2                 CALL BUILD_CHAN  ALTRET(TABLE_ERR10);
      479     6845    2              CALL ITC$CHECK_DT(PCB) ALTRET (CMD_ERR);
      480     6846    2              CALL ITD$DISKTAPE(TABLE_PTR$);
      481     6847        /**/
      482     6848    2            CASE (%ITS_UNIT);
      483     6849    3              IF ( NI$IOM$(0) = ADDR(NIL) ) THEN DO;
      484     6850    3                 CALL DEFAULT_IOM;         /* BUILD ONE IOM ON PORT ZERO         */
      485     6851    3                 END;
      486     6852        /**/
      487     6853    2              IF (~CHAN_BUILT) THEN
      488     6854    2                 CALL BUILD_CHAN  ALTRET(TABLE_ERR10);
      489     6855    2              CALL ITC$CHECK_UNIT(PCB) ALTRET (CMD_ERR);
      490     6856    2              CALL ITU$UNIT(TABLE_PTR$);
      491     6857    2            CASE (%ITS_AP);
      492     6858    3              IF ( NI$IOM$(0) = ADDR(NIL) ) THEN DO;
      493     6859    3                 CALL DEFAULT_IOM;         /* BUILD ONE IOM ON PORT ZERO         */
      494     6860    3                 END;
      495     6861        /**/
      496     6862    2              IF (~CHAN_BUILT) THEN
      497     6863    2                 CALL BUILD_CHAN ALTRET(TABLE_ERR10);
      498     6864    2              CALL ITC$CHECK_AP(PCB) ALTRET (CMD_ERR);
      499     6865    2              CALL ITA$AP(TABLE_PTR$);
      500     6866    2            CASE (%ITS_FEP);
      501     6867    3              IF ( NI$IOM$(0) = ADDR(NIL) ) THEN DO;
      502     6868    3                 CALL DEFAULT_IOM;         /* BUILD ONE IOM ON PORT ZERO         */
      503     6869    3                 END;
      504     6870        /**/
      505     6871    2              IF (~CHAN_BUILT) THEN
      506     6872    2                 CALL BUILD_CHAN  ALTRET(TABLE_ERR10);
      507     6873    2              CALL ITC$CHECK_FEP(PCB) ALTRET (CMD_ERR0);
      508     6874    2              CALL ITF$FEP(TABLE_PTR$);
      509     6875        /**/
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:15   
      510     6876    2            CASE (%ITS_OPC);
      511     6877    2              IF (NI$IOM$(0) = ADDR(NIL)) THEN
      512     6878    2                 CALL DEFAULT_IOM;        /* Build IOM on Port 0 */
      513     6879    2              IF (~CHAN_BUILT) THEN
      514     6880    2                 CALL BUILD_CHAN ALTRET (TABLE_ERR10);
      515     6881    2              CALL ITO$CHECK_OD (PCB, TABLE_PTR$) ALTRET (CMD_ERR0);
      516     6882        /**/
      517     6883    2            CASE (%ITS_CONSOLE);
      518     6884    3              IF ( NI$IOM$(0) = ADDR(NIL) ) THEN DO;
      519     6885    3                 CALL DEFAULT_IOM;         /* BUILD ONE IOM ON PORT ZERO         */
      520     6886    3                 END;
      521     6887        /**/
      522     6888    2              IF (~CHAN_BUILT) THEN
      523     6889    2                 CALL BUILD_CHAN  ALTRET(TABLE_ERR10);
      524     6890    2              CALL ITC$CHECK_CON(PCB) ALTRET (CMD_ERR);
      525     6891    2              CALL ITS$SYSCON(TABLE_PTR$);
      526     6892        /**/
      527     6893    2            CASE (%ITS_MON);
      528     6894    2              MON$ = PCB.TEXT$;
      529     6895    2              MONNCHAR = PCB.NCHARS;
      530     6896    2              READ_BUF_VECT.PTR$ = PINCRW(READ_BUF_VECT.PTR$,(MONNCHAR+3)/4);
      531     6897    2              READ_BUF_VECT.BOUND = READ_BUF_VECT.BOUND -(((MONNCHAR+3)/4)*4);
      532     6898    2              PCB.TEXT$ = READ_BUF_VECT.PTR$;
      533     6899    2            CASE (%ITS_END);
      534     6900    2               IF (NOT AARDCONFOUND) THEN CALL ITE$ERROR (%E$NOAARDCON);
      535     6901    2              IF (NI$IOM$(0) = ADDR(NIL)) THEN CALL DEFAULT_IOM;
      536     6902    2              IF (~CHAN_BUILT) THEN
      537     6903    2                 CALL BUILD_CHAN  ALTRET(TABLE_ERR10);
      538     6904    3              IF (MON$ = ADDR(NIL)) THEN DO; /* DEFAULT                          */
      539     6905    3                 MON$ = B$DS4$;
      540     6906    3                 MON$ -> IT$TEXT = 'MON ';
      541     6907    3                 MONNCHAR = 3;
      542     6908    3                 END;
      543     6909    2              PCB.TEXT$ = MON$;
      544     6910    2              PCB.NCHARS = MONNCHAR;
      545     6911    2              CALL X$PARSE (PCB) ALTRET (PARSE_ERR);
      546     6912    2              CALL ITC$CHECK_MON(PCB) ALTRET (CMD_ERR);
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:16   
      547     6913    2              CALL ITM$MON(TABLE_PTR$);
      548     6914    2              IT_OUTDEV = IT_MINIQ_ME;
      549     6915    2              IT_ECHODEV = IT_OUTDEV;      /* OUTPUT ON CONSOLE ONLY             */
      550     6916    2              CALL ITK$WRAPUP(TABLE_PTR$,CALL_VOLINIT);
      551     6917        /**/
      552     6918    2              PTR$ = TABLE_PTR$;           /* RELEASE UNUSED SPACE               */
      553     6919    2              I = %TIGRHI - %TIGRLO - (REPTR$.OFFSET/1024); /* PAGES TO RELEASE  */
      554     6920    3              IF (I > 0) THEN DO J = 0 TO I-1;
      555     6921    3                 CALL MME$WFVP(%MON_WSQ,%TIGRHI-J,0,GDS_ERR) ALTRET(TABLE_ERR);
      556     6922    3                 END;
      557     6923        /**/
      558     6924    2              CALL ITK$KILLTIGR;           /* GOOD BYE                           */
      559     6925    2            CASE (%ITS_READ);
      560     6926    3              DO CASE (PCB.OUT$ -> OUT$BLK.SUBLK$(0) -> OUT$BLK.CODE);
      561     6927    3               CASE (%ITS_ME);
      562     6928    3                 IT_INDEV = IT_MINIQ_ME;
      563     6929    3               CASE (%ITS_CR);
      564     6930    3                 IT_INDEV = IT_MINIQ_CR;
      565     6931    3               CASE (%ITS_TA);
      566     6932    3                 IT_INDEV = IT_MINIQ_TA;
      567     6933    3               CASE (%ITS_PA);
      568     6934    3                 IT_INDEV = IT_MINIQ_PA;
      569     6935    3               END;
      570     6936    2            CASE (%ITS_CPU);
      571     6937    2              CALL ITC$CHECK_CPU(PCB) ALTRET(CMD_ERR);
      572     6938    2              CALL ITP$PROC;
      573     6939    2            CASE (%ITS_VOLINIT);
      574     6940    2              CALL_VOLINIT = YES;
      575     6941    2            END;
      576     6942        /**/
      577     6943    1           GOTO READ_CMD;
      578     6944        /**/
      579     6945    1   READ_ERR:;
      580     6946    1           CALL ITE$ERROR(%E$CMDREADERR);
      581     6947    1           IT_INDEV = IT_MINIQ_ME;         /* READ CONSOLE                       */
      582     6948    1           GOTO READ_CMD;
      583     6949        /**/
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:17   
      584     6950    1   CMD_ERR0:;
      585     6951    1           IF B$DS5$->IT$CMDWD=%ITS_ENDCMD THEN GOTO READ_CMD;
      586     6952    1   CMD_ERR:;
      587     6953    1           CALL ITE$ERROR(%E$TRYAGAIN);
      588     6954    1           IT_INDEV = IT_MINIQ_ME;
      589     6955    1           GOTO READ_CMD;
      590     6956        /**/
      591     6957    1   PARSE_ERR:;
      592     6958    1           CALL ITE$ERROR (%E$PARSEERR1);
      593     6959        /**/
      594     6960    1           PARSEERR_TEXT.COUNT = SIZEC(PARSEERR_TEXT) - 1;
      595     6961    1           PARSEERR_TEXT.RECORD = 'record ';
      596     6962    1           PARSEERR_TEXT.CHARACTER = ' character ';
      597     6963    1           CALL BINCHAR (PARSEERR_TEXT.REC#,((PCB.HI_CHAR/80)+1));
      598     6964    1           CALL BINCHAR (PARSEERR_TEXT.CHAR#,MOD(PCB.HI_CHAR,80));
      599     6965        /**/
      600     6966    1           CALL ITE$ERROR (%E$PARSEERR2,ADDR(PARSEERR_TEXT));
      601     6967    1           I=PCB.HI_CHAR-MOD(PCB.HI_CHAR,80);
      602     6968    1           GORCHBUF=PINCRC(PCB.TEXT$,I)->IT$TEXT;
      603     6969    1           CALL ITR$WRITE(VECTOR(GORCHBUF),SIZEC(GORCHBUF)-1);
      604     6970    1           GORCHBUF=' ';
      605     6971    1           CALL INSERT(GORCHBUF,MOD(PCB.HI_CHAR,80),1,'^');
      606     6972    1           CALL ITR$WRITE(VECTOR(GORCHBUF),SIZEC(GORCHBUF)-1);
      607     6973        /**/
      608     6974    1           GOTO CMD_ERR;
      609     6975        /**/
      610     6976    1   DS_ERR: ;
      611     6977    1           CALL ITE$ERROR (%E$DSERR);
      612     6978    1           GOTO READ_CMD;
      613     6979        /**/
      614     6980    1   TABLE_ERR:
      615     6981    1           CALL ITE$ERROR(%E$SGVPERR);
      616     6982    1   TABLE_ERR10:
      617     6983    1           GOTO READ_CMD;
      618     6984        /**/
      619     6985        %EJECT;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:18   
      620     6986        /**/
      621     6987    1   DEFAULT_IOM: PROC;
      622     6988        /**/
      623     6989    2           PTR$ = B$DS5$;                  /* DO CHECK IOM FUNCTION              */
      624     6990    2           PTR$ -> IT$CMDWD = %ITS_IOM;
      625     6991    2           PTR$ = PINCRW(PTR$,SIZEW(IT$CMDWD));
      626     6992        /**/
      627     6993    2           PTR$ -> IT$IOM = NO;
      628     6994    2           PTR$ -> IT$IOM.PORT# = IT_CONFIG.IOM.PORT;
      629     6995    2           CALL ITI$IOM(TABLE_PTR$);
      630     6996    2           RETURN;
      631     6997    2   END;
      632     6998        %EJECT;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:19   
      633     6999        /**/
      634     7000    1   BUILD_CHAN: PROC  ALTRET;
      635     7001        /**/
      636     7002    2           CHAN_BUILT = YES;
      637     7003        /**/
      638     7004    2           NI$CHT$ = TABLE_PTR$;      /* BUILD CHANNEL TABLES - ALL IOMS DONE    */
      639     7005    2           CALL ITH$ALLOCATE(TABLE_PTR$,SIZEW(NI$CHT(0)) * NI_IOMS * %N_MAXCHANS)
      640     7006    2             ALTRET(BUILD_CHAN_ERR);
      641     7007        /**/
      642     7008    3           DO J = 0 TO (NI_IOMS * %N_MAXCHANS) - 1;
      643     7009    3              NI$CHT$ -> NI$CHT(J) = NO;
      644     7010    3              NI$CHT$ -> NI$CHT.DQH$(J) = ADDR(NIL);
      645     7011    3              END;
      646     7012        /**/
      647     7013    3           IF NOT HW_IMX THEN DO I = 0 TO NI_IOMS-1; /* SET UP FAULT,SPINT CHANS */
      648     7014    3              NI$CHT$ -> NI$CHT.DQH$((I*%N_MAXCHANS)+1) = NI$IOM$(I);
      649     7015    3              NI$CHT$ -> NI$CHT.POSTER((I*%N_MAXCHANS)+1) = ENTADDR(NIF$FAULT);
      650     7016    4              IF NOT HW_IOP THEN DO;
      651     7017    4                 DQH$ = TABLE_PTR$;
      652     7018    4                 CALL ITH$ALLOCATE(TABLE_PTR$,SIZEW(NI$DQH)) ALTRET(BUILD_CHAN_ERR);
      653     7019    4                 DQH$ -> NI$DQH = NI$DQH_C;     /*  set to constant inited struct*/
      654     7020        /*            DQH$ -> NI$DQH.FL$ = ADDR(NIL);         */
      655     7021        /*            DQH$ -> NI$DQH.IO$ = ADDR(NIL);         */
      656     7022        /*            DQH$ -> NI$DQH.SQH$ = ADDR(NIL);        */
      657     7023        /*            DQH$ -> NI$DQH.MPC$ = ADDR(NIL);        */
      658     7024    4                 DQH$ -> NI$DQH.MBX$ = PINCRW (NI$IOM$(I) -> NI$IOM.MBX$,
      659     7025    4                   SIZEW(NI$MBX(0)) * 4);
      660     7026    4                 DQH$ -> NI$DQH.IOSTATUS$ = ADDR(NIL);
      661     7027    4                 DQH$ -> NI$DQH.IOCHAN.IOM = I;
      662     7028    4                 DQH$ -> NI$DQH.IOCHAN.CHANNEL = 4;
      663     7029    4                 NI$CHT$ -> NI$CHT.DQH$((I*%N_MAXCHANS)+4) = DQH$;
              7029                          /* WRAPAROUND CHANNEL */
      664     7030    4                 NI$CHT$ -> NI$CHT.POSTER((I*%N_MAXCHANS)+4) = ENTADDR(NIL);
      665     7031    4                 END;
      666     7032    3              NI$CHT$ -> NI$CHT.DQH$((I*%N_MAXCHANS)+6) = NI$IOM$(I);
      667     7033    3              NI$CHT$ -> NI$CHT.POSTER ((I*%N_MAXCHANS)+6) = ENTADDR(NIF$SPEC);
      668     7034    3              NI$CHT$ -> NI$CHT.DQH$((I*%N_MAXCHANS)+7) = NI$IOM$(I);
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:20   
              7034                       /* SCRATCHPAD ACCESS CHANNEL */
      669     7035    3              NI$CHT$ -> NI$CHT.POSTER((I*%N_MAXCHANS)+7) = ENTADDR(NIF$SAC);
      670     7036    3              END;
      671     7037        /**/
      672     7038    3           IF NOT HW_IMX THEN DO; /* IOS packets set up in ITW for the RPM */
      673     7039    3              J = ((BITBIN(%MBX_BASE) +
      674     7040    3                ((NI_IOMS-1) * BITBIN(%MBX_OFFSET)) +
      675     7041    3                (%N_MAXCHANS * SIZEW(NI$MBX(0))) +
      676     7042    3                %FLTBUF_SIZE +
      677     7043    3                %SPECBUF_SIZE + 63)/64)*64;    /* IOSTAT BLOCK BASE                  */
      678     7044    3              J = ((J + 7)/8)*8;               /* IOSTAT BLOCKS START ON MOD 8 BOUND */
      679     7045    3              NI$FQ$ -> NI$FQ.HD$ = PINCRW(B$REAL$,J);
      680     7046    3              END;
      681     7047        /**/
      682     7048    2           IF HW_IOP OR HW_IMX THEN   /* MSOS OR MCA */
      683     7049    3              DO I=0 TO NI_IOMS-1;
      684     7050    3                 CALL ITM$MAINT(TABLE_PTR$,I) ALTRET(BUILD_CHAN_ERR);
      685     7051    3                 END;
      686     7052    2           RETURN;
      687     7053    2   BUILD_CHAN_ERR:
      688     7054    2           ALTRETURN;
      689     7055    2   END;
      690     7056    1   END;

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:21   
--  Include file information  --

   HF_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   IT$IOM.:E05TOU  cannot be made into a system file and is referenced.
   IT$CMDWD.:E05TOU  cannot be made into a system file and is referenced.
   UM_CP6.:E05TOU  is referenced.
   SS_CNTRLD_R.:E05TOU  cannot be made into a system file and is referenced.
   SS_CNTRL_R.:E05TOU  cannot be made into a system file and is referenced.
   SS_SCHED_R.:E05TOU  cannot be made into a system file and is referenced.
   I_SUBS_C.:E05TOU  is referenced.
   NI_DATA_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   IT_IDATA_R.:E05TOU  cannot be made into a system file and is referenced.
   NI$TABLES.:E05TOU  is referenced.
   N$REQ.:E05TOU  is referenced.
   NI_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   IT$CONFIG.:E05TOU  is referenced.
   IT_SUBS_C.:E05TOU  is referenced.
   IT_ERROR_C.:E05TOU  is referenced.
   B$MAP.:E05TOU  cannot be made into a system file and is referenced.
   MM_MACRO_M.:E05TOU  is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   MM$SYSGEN.:E05TOU  is referenced.
   M_INFO_C.:E05TOU  is referenced.
   MM_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure ITT$TIGR.

   Procedure ITT$TIGR requires 1132 words for executable code.
   Procedure ITT$TIGR requires 302 words of local(AUTO) storage.

    No errors detected in file ITT$TIGR.:E05TSI    .

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:22   

 Object Unit name= ITT$TIGR                                   File name= ITT$TIGR.:E05TOU
 UTS= JUL 29 '97 23:08:45.08 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS     25     31  ITT$TIGR
    1   Proc  even  none  1132   2154  ITT$TIGR
    2  RoData even  none    45     55  ITT$TIGR

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes      Std        0  ITT$TIGR
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:23   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       0 ITG$FIXCLOCK
 yes     yes           Std       1 ITC$CHECK_DT
 yes     yes           Std       4 MME$WFVP
         yes           Std       1 HFC$RCON
         yes           Std       1 MMC$MAPXLAT
 yes     yes           Std       2 ITH$ALLOCATE
         yes           Std       2 ITE$ERROR
 yes     yes           Std       1 ITD$DISKTAPE
 yes     yes           Std       2 ITO$CHECK_OD
 yes     yes           Std       1 ITC$CHECK_CPU
 yes     yes           Std       1 ITC$AUTOCONFIG
 yes     yes           Std       1 ITC$CHECK_IOM
 yes     yes           Std       1 ITU$UNIT
 yes     yes           Std       1 ITC$CHECK_UNIT
 yes     yes           Std       1 ITC$CHECK_CON
         yes           Std       0 ITP$PROC
         yes           Std       1 HFB$ENAPORT
 yes     yes           Std       5 ITK$WRAPUP
 yes     yes           Std       1 ITI$IOM
 yes     yes           Std       1 ITA$AP
 yes     yes           Std       5 ITK$KILLTIGR
 yes     yes           Std       5 MMH$GDS
 yes     yes           Std       4 MME$WGVP
 yes     yes           Std       2 ITR$READ
 yes     yes           Std       1 ITC$CHECK_FEP
 yes     yes           Std       1 ITF$FEP
 yes     yes           Std       1 ITS$SYSCON
 yes     yes           Std       1 ITC$CHECK_MON
 yes     yes           Std       1 ITM$MON
 yes     yes           Std       2 ITR$WRITE
 yes     yes           Std       1 X$PARSE
 yes     yes           Std       1 ITC$CHECK_AP
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:24   
 yes     yes           Std       2 ITM$MAINT
         yes           Std       2 NIF$FAULT
         yes           Std       2 NIF$SPEC
         yes           Std       2 NIF$SAC
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AUTO_0

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    MM_BYP$                               MM_DSMAX                              N$DCT$$
     N$FQ$                                 NI$CHT$                               NI$CONNECT$
     NI$DVT$                               NI$FQ$                                NI$IBUF$
     NI$IOM$                               NI$RP$                                N_DCTXMAX
     N_NDPS                                NI_IOMS                               NI_NDVTS
     NI$DQH_C                              IT_TIGRCUB                            S_PORTNR
     B_MONINFO                             H_ENMASK                              H_DSMASK
     H_S1000_FLG                           H_RPM_FLG                             HW_TYPE
     HW_PTB_UNITS                          HW_IOPTP_UNITS                        HW_WSQ0PT
     HW_LOAD_FW                            HW_TIME_LEGAL                         HW_SECT_PT
     HW_FRAG_PT                            HW_IOP                                HW_EXT_STATUS
     HW_SMART_CACHE                        HW_ES                                 HW_EI
     HW_PROG_SCU                           HW_EDAC                               HW_FLTIC_OK
     HW_NORM_CLOCK                         HW_CHANS                              HW_IMX
     B$DS2$                                B$DS3$                                B$DS4$
     B$DS5$                                B$DS6$                                B$TIGR$
     B$REAL$                               B$MPT$                                B$UPT$
     B$IMX$                                B$DVTTBL$                             ITN$TIGR_CMD
     IT_FEI$$                              IT_INDEV                              IT_OUTDEV
     IT_ECHODEV                            IT_MINIQ_ME                           IT_MINIQ_CR
     IT_MINIQ_TA                           IT_MINIQ_PA                           IT_BOOTFLAG
     IT_UFLG                               IT_MMDSMAX                            IT_PARTITION
     IT_CONFIG                             AARDCONFOUND                          GORCHBUF
r    B$SEGTBL$                             B_VECTNIL
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:25   

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:26   


        1        1        /*M*     Main control routine for TIGR */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /**/
        8        8        /*X*/
        9        9        /*P*     NAME:     ITT$TIGR
       10       10                 PURPOSE:  ITT$TIGR is the main control routine for TIGR. It
       11       11                           aquires working memory, reads commands, calls the
       12       12                           proper routines to process the commands, releases the
       13       13                           unused table space and exits.           */
       14       14        ITT$TIGR: PROC;

     14  1 000000   000000 700200 xent  ITT$TIGR     TSX0  ! X66_AUTO_0
         1 000001   000456 000000                    ZERO    302,0

       15       15        /**/
       16       16        /**/
       17       17        /* ENTRY DCLS */
       18       18        /**/
       19       19    1   DCL ITC$AUTOCONFIG ENTRY(1) ALTRET;
       20       20    1   DCL ITC$CHECK_IOM ENTRY(1) ALTRET;
       21       21    1   DCL ITC$CHECK_DT ENTRY(1) ALTRET;
       22       22    1   DCL ITC$CHECK_UNIT ENTRY(1) ALTRET;
       23       23    1   DCL ITC$CHECK_FEP ENTRY(1) ALTRET;
       24       24    1   DCL ITC$CHECK_CON ENTRY(1) ALTRET;
       25       25    1   DCL ITC$CHECK_MON ENTRY(1) ALTRET;
       26       26    1   DCL ITC$CHECK_CPU ENTRY(1) ALTRET;
       27       27    1   DCL ITC$CHECK_AP ENTRY(1) ALTRET;
       28       28    1   DCL ITO$CHECK_OD ENTRY(2) ALTRET;
       29       29    1   DCL ITI$IOM ENTRY(1) ALTRET;
       30       30    1   DCL ITD$DISKTAPE ENTRY(1) ALTRET;
       31       31    1   DCL ITU$UNIT ENTRY(1) ALTRET;
       32       32    1   DCL ITF$FEP ENTRY(1) ALTRET;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:27   
       33       33    1   DCL ITA$AP ENTRY(1) ALTRET;
       34       34    1   DCL ITS$SYSCON ENTRY(1) ALTRET;
       35       35    1   DCL ITM$MON ENTRY(1) ALTRET;
       36       36    1   DCL ITM$MAINT ENTRY(2) ALTRET;
       37       37    1   DCL ITK$WRAPUP ENTRY(5) ALTRET;
       38       38    1   DCL ITR$READ ENTRY(2) ALTRET;
       39       39    1   DCL ITR$WRITE ENTRY(2) ALTRET;
       40       40    1   DCL ITE$ERROR ENTRY(2);
       41       41    1   DCL ITP$PROC ENTRY;
       42       42    1   DCL ITK$KILLTIGR ENTRY(5) ALTRET;
       43       43    1   DCL ITH$ALLOCATE ENTRY(2) ALTRET;
       44       44    1   DCL ITG$FIXCLOCK ENTRY;
       45       45    1   DCL HFB$ENAPORT ENTRY(1);
       46       46    1   DCL HFC$RCON ENTRY(1);
       47       47        /**/
       48       48    1   DCL X$PARSE ENTRY(1) ALTRET;
       49       49        /**/
       50       50    1   DCL MMH$GDS ENTRY(5) ALTRET;
       51       51    1   DCL MME$WGVP ENTRY(4) ALTRET;
       52       52    1   DCL MME$WFVP ENTRY(4) ALTRET;
       53       53    1   DCL MMC$MAPXLAT ENTRY(1);
       54       54        /**/
       55       55    1   DCL NIF$FAULT ENTRY(2);
       56       56    1   DCL NIF$SAC ENTRY (2);
       57       57    1   DCL NIF$SPEC ENTRY(2);
       58       58        /**/
       59       59        /*  INCLUDE FILES  */
       60       60        /**/
       61       61        %INCLUDE MM_DATA_R;
       62      581        %INCLUDE B$MAP;
       63      680        %INCLUDE IT_ERROR_C;
       64      763        %INCLUDE IT_SUBS_C;
       65     1030        %INCLUDE IT$CONFIG;
       66     1099        %INCLUDE NI_DATA_R ;
       67     1536        %INCLUDE IT_IDATA_R;          /* has to be after NI_DATA_R here  */
       68     1653    1   DCL IT_TIGRCUB BIT(1) ALIGNED SYMREF;
       69     1654        %INCLUDE XU_MACRO_C;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:28   
       70     4760        %INCLUDE NI_DATA_C;
       71     4873        %INCLUDE I_SUBS_C;
       72     4897        %INCLUDE SS_SCHED_R;
       73     4940        /**/
       74     4941        %INCLUDE UM_CP6;
       75     5793        %VLR_MONINFO (FPTN=B_MONINFO,STCLASS=SYMREF);
       76     5811        /**/
       77     5812        /*  SUBs      */
       78     5813        /**/
       79     5814        %SUB YES='1'B;
       80     5815        %SUB NO='0'B;
       81     5816        %SUB RBPGS = 2;                         /* READ BUFFER PAGES                  */
       82     5817        %SUB PWPGS = 5;                         /* PARSE WORK PAGES                   */
       83     5818        /**/
       84     5819        /*  CONSTANT DATA  */
       85     5820        /**/
       86     5821        %P_PCB (NAME=P_PCB,R=ITN$TIGR_CMD,STCLASS=CONSTANT);
       87     6020        /**/
       88     6021        /*  BASED  */
       89     6022        /**/
       90     6023        %INCLUDE IT$CMDWD;
       91     6031        %INCLUDE IT$IOM;
       92     6042    1   DCL IT$TEXT CHAR(80) BASED ALIGNED;
       93     6043        %PARSE$OUT (NAME=OUT$BLK,STCLASS=BASED);
       94     6088        %NI$MBX;
       95     6107        %NI$CHT;
       96     6110        %NI$IOM;
       97     6115        %NI$DQH;
       98     6138        %NI$DVT;
       99     6145        %NI$CONNECT ;
      100     6157        /**/
      101     6158        /*  SYMREFS */
      102     6159        /**/
      103     6160        %INCLUDE HF_DATA_R;
      104     6203    1   DCL B$DS2$ PTR SYMREF;
      105     6204    1   DCL B$DS3$ PTR SYMREF;
      106     6205    1   DCL B$DS4$ PTR SYMREF;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:29   
      107     6206    1   DCL B$DS5$ PTR SYMREF;
      108     6207    1   DCL B$DS6$ PTR SYMREF;
      109     6208    1   DCL B$TIGR$ PTR SYMREF;
      110     6209    1   DCL B$REAL$ PTR SYMREF;
      111     6210    1   DCL B$MPT$ PTR SYMREF;
      112     6211    1   DCL B$UPT$ PTR SYMREF;
      113     6212    1   DCL B$IMX$ PTR SYMREF;
      114     6213    1   DCL B$DVTTBL$ PTR SYMREF;
      115     6214    1   DCL KI_MXFE UBIN(36) SYMREF;
      116     6215    1   DCL P_MAXPROCS UBIN WORD SYMREF;
      117     6216    1   DCL P_NPROCS UBIN WORD SYMREF;
      118     6217    1   DCL ITN$TIGR_CMD UBIN(36) SYMREF;
      119     6218    1   DCL B_SCDCTX UBIN WORD SYMREF;
      120     6219    1   DCL IT_FEI$$ PTR SYMREF;
      121     6220    1   DCL IT_INDEV UBIN WORD SYMREF;
      122     6221    1   DCL IT_OUTDEV UBIN WORD SYMREF;
      123     6222    1   DCL IT_ECHODEV UBIN WORD SYMREF;
      124     6223    1   DCL IT_MINIQ_ME UBIN WORD SYMREF;
      125     6224    1   DCL IT_MINIQ_CR UBIN WORD SYMREF;
      126     6225    1   DCL IT_MINIQ_TA UBIN WORD SYMREF;
      127     6226    1   DCL IT_MINIQ_PA UBIN WORD SYMREF;
      128     6227    1   DCL IT_BOOTFLAG UBIN WORD SYMREF;
      129     6228    1   DCL IT_UFLG UBIN SYMREF;
      130     6229    1   DCL IT_MMDSMAX(0:7) UBIN BYTE UNAL SYMREF;
      131     6230        %NI$PARTITION (NAME=IT_PARTITION,STCLASS=SYMREF);
      132     6238        %IT$CONFIG (NAME=IT_CONFIG,STCLASS=SYMREF);
      133     6299        /**/
      134     6300        /*  AUTOMATIC */
      135     6301        /**/
      136     6302    1   DCL FEI$(0:255) PTR;
      137     6303    1   DCL I SBIN(36);
      138     6304    1   DCL J SBIN(36);
      139     6305    1   DCL NCHAR SBIN(36);
      140     6306    1   DCL CALL_VOLINIT BIT(1);
      141     6307    1   DCL CHAN_BUILT BIT(1);
      142     6308    1   DCL TABLE_PTR$ PTR;
      143     6309    1   DCL PTR$ PTR;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:30   
      144     6310    1   DCL 1 REPTR$ REDEF PTR$,
      145     6311    1         2 OFFSET UBIN(18) UNAL,
      146     6312    1         2 * BIT(6) UNAL,
      147     6313    1         2 SEGID UBIN(12) UNAL;
      148     6314    1   DCL GDS_ERR SBIN;
      149     6315    1   DCL 1 READ_BUF_VECT DALIGNED,
      150     6316    1         2 BOUND UBIN(20) UNAL,
      151     6317    1         2 FLAGSV UBIN(11) UNAL,
      152     6318    1         2 * BIT(5) UNAL,
      153     6319    1         2 PTR$ PTR UNAL;
      154     6320    1   DCL MON$ PTR;
      155     6321    1   DCL MONNCHAR SBIN(36);
      156     6322    1   DCL 1 PARSEERR_TEXT,                    /* SUB INTO ERROR MESSAGE             */
      157     6323    1         2 COUNT UBIN(9) UNAL,
      158     6324    1         2 RECORD CHAR(7) UNAL,
      159     6325    1         2 REC# CHAR(2) UNAL,
      160     6326    1         2 CHARACTER CHAR(11) UNAL,
      161     6327    1         2 CHAR# CHAR(2) UNAL;
      162     6328    1   DCL AARDCONFOUND BIT(1) ALIGNED SYMREF;
      163     6329    1   DCL GORCHBUF CHAR(80) ALIGNED SYMREF;
      164     6330        %P$PCB   (NAME=PCB,STCLASS=AUTO);
      165     6531    1   DCL DQH$ PTR;
      166     6532
      167     6533    1   DCL B$SEGTBL$ PTR SYMREF READONLY;
      168     6534    1   DCL 1 SEGTBL ALIGNED BASED (B$SEGTBL$),
      169     6535    1         2 * UBIN,
      170     6536    1         2 NODES (0:0) ALIGNED,
      171     6537    1           3 WOFF UBIN(16) HALIGNED,
      172     6538    1           3 WSIZ UBIN(16) HALIGNED;
      173     6539    1   DCL SEGP$ PTR;
      174     6540    1   DCL 1 SEGPT (0:0) ALIGNED BASED (SEGP$),
      175     6541    1         2 RPN UBIN(18) UNAL,
      176     6542    1         2 * BIT (18);
      177     6543
      178     6544        /**/
      179     6545        %EJECT;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:31   
      180     6546        /*D*     NAME:     ITT$TIGR
      181     6547                 PURPOSE:  To handle the flow of control for TIGR
      182     6548        *
      183     6549                 INPUT:    none
      184     6550        *
      185     6551                 OUTPUT:   System initialization complete
      186     6552        *
      187     6553                 DESCRIPTION:  ITT$TIGR first initializes some data locations,
      188     6554                           then gets four data segments for TIGR's working
      189     6555                           data:
      190     6556                                DS3 - N$DCT$$ - temporary starage
      191     6557                                DS4 - read buffer
      192     6558                                DS5 - parse work area and command table
      193     6559                                DS6 - shared processor temp storage
      194     6560                               then the virtual area in which the tables to be
      195     6561                           built at boot time is aquired. The maximum size for
      196     6562                           this space is aquried and any unused pages are released
      197     6563                           when all the required tables have been built.
      198     6564                                Commands are read through AARDVARK's MINIQ I/O
      199     6565                           system and passed to X$PARSE to be parsed, then
      200     6566                           a routine that does syntax checking and builds the
      201     6567                           command table for each command is called. This is followed
      202     6568                           by a call to the processing routine for the command.
      203     6569                                The MON command is always saved until the last
      204     6570                           command to be processed because some of the default
      205     6571                           values for MON command options depend on the number of
      206     6572                           devices specified by the configuration commands.
      207     6573                                When all commands have been processed to unused
      208     6574                           pages in the TIGR table area are released and ITK$KILLTIGR
      209     6575                           is called to release TIGR's procedure pages and exit
      210     6576                           to the scheduler              */
      211     6577        /**/
      212     6578    1           CALL_VOLINIT = NO;

   6578  1 000002   200406 450100                    STZ     CALL_VOLINIT,,AUTO

      213     6579    1           CHAN_BUILT = NO;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:32   

   6579  1 000003   200407 450100                    STZ     CHAN_BUILT,,AUTO

      214     6580        /**/
      215     6581    1           IF (IT_BOOTFLAG = I_VOLONLY) THEN CALL_VOLINIT=YES;

   6581  1 000004   000000 235000 xsym               LDA     IT_BOOTFLAG
         1 000005   000001 115007                    CMPA    1,DL
         1 000006   000011 601000 1                  TNZ     s:6583

   6581  1 000007   400000 236003                    LDQ     -131072,DU
         1 000010   200406 756100                    STQ     CALL_VOLINIT,,AUTO

      216     6582        /**/
      217     6583    1           B$MPT$ -> B$MAP(%MASTERPTPG) = B$MPT$ -> B$MAP(%PGTBLLO);

   6583  1 000011   000000 470400 xsym               LDP0    B$MPT$
         1 000012   000000 236100                    LDQ     0,,PR0
         1 000013   000550 756100                    STQ     360,,PR0

      218     6584    1           B$MPT$ -> B$MAP(%MASTERHJITPG) = B$MPT$ -> B$MAP(%HJITPG);

   6584  1 000014   000015 236100                    LDQ     13,,PR0
         1 000015   000560 756100                    STQ     368,,PR0

      219     6585        /**/
      220     6586        /*    Set hardware flags based on HW_TYPE from AARDVARK */
      221     6587        /**/
      222     6588        /*    NOTE:  These hardware flags were INITed in HF_DATA_D in
      223     6589                     hopes to save TIGR a few calories!
      224     6590        */
      225     6591    2         DO CASE (HW_TYPE);

   6591  1 000016   000000 235000 xsym               LDA     HW_TYPE
         1 000017   000007 115007                    CMPA    7,DL
         1 000020   000022 602005 1                  TNC     s:6591+4,AL
         1 000021   000124 710000 1                  TRA     s:6679
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:33   
         1 000022   000031 710000 1                  TRA     s:6601
         1 000023   000124 710000 1                  TRA     s:6679
         1 000024   000124 710000 1                  TRA     s:6679
         1 000025   000124 710000 1                  TRA     s:6679
         1 000026   000037 710000 1                  TRA     s:6614
         1 000027   000057 710000 1                  TRA     s:6634
         1 000030   000102 710000 1                  TRA     s:6656

      226     6592    2            CASE (%L66); /* and all other "old" cpu types */

      227     6593                  /*HW_PTB_UNITS = 64;                                     */
      228     6594                  /*HW_IOPTP_UNITS = 64;                                   */
      229     6595                  /*HW_WSQ0PT = '0'B;                                      */
      230     6596                  /*HW_LOAD_FW = '1'B;                                     */
      231     6597                  /*HW_TIME_LEGAL = '1'B;                                  */
      232     6598                  /*HW_SECT_PT = '0'B;                                     */
      233     6599                  /*HW_FRAG_PT = '1'B;                                     */
      234     6600                  /*HW_IOP = '0'B;                                         */
      235     6601    2               HW_EXT_STATUS = '0'B;

   6601  1 000031   000000 450000 xsym               STZ     HW_EXT_STATUS

      236     6602    2               HW_SMART_CACHE = '0'B;

   6602  1 000032   000000 450000 xsym               STZ     HW_SMART_CACHE

      237     6603    2               HW_ES = '0'B;

   6603  1 000033   000000 450000 xsym               STZ     HW_ES

      238     6604                  /*HW_EI = '0'B;                                          */
      239     6605    2               HW_PROG_SCU = '1'B;

   6605  1 000034   400000 236003                    LDQ     -131072,DU
         1 000035   000000 756000 xsym               STQ     HW_PROG_SCU
         1 000036   000124 710000 1                  TRA     s:6679

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:34   
      240     6606                  /*HW_EDAC = '1'B;                                        */
      241     6607                  /*HW_FLTIC_OK = '0'B;                                    */
      242     6608                  /*HW_NORM_CLOCK = '1'B;                                  */
      243     6609                  /*HW_CHANS = 64;                                         */
      244     6610                  /*HW_IMX = '0'B;                                         */
      245     6611    2            CASE (%DPS90);

      246     6612                  /*HW_PTB_UNITS = 64;                                     */
      247     6613                  /*HW_IOPTP_UNITS = 64;                                   */
      248     6614    2               HW_WSQ0PT = '1'B;

   6614  1 000037   400000 236003                    LDQ     -131072,DU
         1 000040   000000 756000 xsym               STQ     HW_WSQ0PT

      249     6615    2               HW_LOAD_FW = '0'B;

   6615  1 000041   000000 450000 xsym               STZ     HW_LOAD_FW

      250     6616    2               HW_TIME_LEGAL = '0'B;

   6616  1 000042   000000 450000 xsym               STZ     HW_TIME_LEGAL

      251     6617                  /*HW_SECT_PT = '0'B;                                     */
      252     6618                  /*HW_FRAG_PT = '1'B;                                     */
      253     6619    2               HW_IOP = '1'B;

   6619  1 000043   000000 756000 xsym               STQ     HW_IOP

      254     6620                  /*HW_EXT_STATUS = '1'B;                                  */
      255     6621                  /*HW_SMART_CACHE = '1'B;                                 */
      256     6622                  /*HW_ES = '1'B;                                          */
      257     6623                  /*HW_EI = '0'B;                                          */
      258     6624                  /*HW_PROG_SCU = '0'B;                                    */
      259     6625    2               HW_EDAC = '0'B;

   6625  1 000044   000000 450000 xsym               STZ     HW_EDAC

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:35   
      260     6626    2               HW_FLTIC_OK = '1'B;

   6626  1 000045   000000 756000 xsym               STQ     HW_FLTIC_OK

      261     6627    2               HW_NORM_CLOCK = '0'B;

   6627  1 000046   000000 450000 xsym               STZ     HW_NORM_CLOCK

      262     6628    2               H_S1000_FLG = '1'B;

   6628  1 000047   000000 756000 xsym               STQ     H_S1000_FLG

      263     6629                  /*HW_CHANS = 64;                                         */
      264     6630                  /*HW_IMX = '0'B;                                         */
      265     6631    2               H_ENMASK = '777777777760'O;

   6631  1 000050   000016 235000 0                  LDA     P_PCB+14
         1 000051   000000 236003                    LDQ     0,DU
         1 000052   000000 757000 xsym               STAQ    H_ENMASK

      266     6632    2               H_DSMASK = '000000000000'O;

   6632  1 000053   000002 235000 xsym               LDA     B_VECTNIL+2
         1 000054   000000 236003                    LDQ     0,DU
         1 000055   000000 757000 xsym               STAQ    H_DSMASK
         1 000056   000124 710000 1                  TRA     s:6679

      267     6633    2            CASE (%DPS90XA);

      268     6634    2               HW_PTB_UNITS = 1024;

   6634  1 000057   002000 235007                    LDA     1024,DL
         1 000060   000000 755000 xsym               STA     HW_PTB_UNITS

      269     6635                  /*HW_IOPTP_UNITS = 64;                                   */
      270     6636    2               HW_WSQ0PT = '1'B;

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:36   
   6636  1 000061   400000 236003                    LDQ     -131072,DU
         1 000062   000000 756000 xsym               STQ     HW_WSQ0PT

      271     6637    2               HW_LOAD_FW = '0'B;

   6637  1 000063   000000 450000 xsym               STZ     HW_LOAD_FW

      272     6638    2               HW_TIME_LEGAL = '0'B;

   6638  1 000064   000000 450000 xsym               STZ     HW_TIME_LEGAL

      273     6639    2               HW_SECT_PT = '1'B;

   6639  1 000065   000000 756000 xsym               STQ     HW_SECT_PT

      274     6640                  /*HW_FRAG_PT = '1'B;                                     */
      275     6641    2               HW_IOP = '1'B;

   6641  1 000066   000000 756000 xsym               STQ     HW_IOP

      276     6642                  /*HW_EXT_STATUS = '1'B;                                  */
      277     6643                  /*HW_SMART_CACHE = '1'B;                                 */
      278     6644                  /*HW_ES = '1'B;                                          */
      279     6645                  /*HW_EI = '0'B;                                          */
      280     6646                  /*HW_PROG_SCU = '0'B;                                    */
      281     6647    2               HW_EDAC = '0'B;

   6647  1 000067   000000 450000 xsym               STZ     HW_EDAC

      282     6648    2               HW_FLTIC_OK = '1'B;

   6648  1 000070   000000 756000 xsym               STQ     HW_FLTIC_OK

      283     6649    2               HW_NORM_CLOCK = '0'B;

   6649  1 000071   000000 450000 xsym               STZ     HW_NORM_CLOCK

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:37   
      284     6650    2               H_S1000_FLG = '1'B;

   6650  1 000072   000000 756000 xsym               STQ     H_S1000_FLG

      285     6651                  /*HW_CHANS = 64;                                         */
      286     6652                  /*HW_IMX = '0'B;                                         */
      287     6653    2               H_ENMASK = '777777777760'O;

   6653  1 000073   000016 235000 0                  LDA     P_PCB+14
         1 000074   000000 236003                    LDQ     0,DU
         1 000075   000000 757000 xsym               STAQ    H_ENMASK

      288     6654    2               H_DSMASK = '000000000000'O;

   6654  1 000076   000002 235000 xsym               LDA     B_VECTNIL+2
         1 000077   000000 236003                    LDQ     0,DU
         1 000100   000000 757000 xsym               STAQ    H_DSMASK
         1 000101   000124 710000 1                  TRA     s:6679

      289     6655    2            CASE (%DPS8000);

      290     6656    2               HW_PTB_UNITS = 1024;

   6656  1 000102   002000 235007                    LDA     1024,DL
         1 000103   000000 755000 xsym               STA     HW_PTB_UNITS

      291     6657    2               HW_IOPTP_UNITS = 1;

   6657  1 000104   000001 235007                    LDA     1,DL
         1 000105   000000 755000 xsym               STA     HW_IOPTP_UNITS

      292     6658                  /*HW_WSQ0PT = '0'B;                                      */
      293     6659                  /*HW_LOAD_FW = '1'B;                                     */
      294     6660                  /*HW_TIME_LEGAL = '1'B;                                  */
      295     6661    2               HW_SECT_PT = '1'B;

   6661  1 000106   400000 236003                    LDQ     -131072,DU
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:38   
         1 000107   000000 756000 xsym               STQ     HW_SECT_PT

      296     6662    2               HW_FRAG_PT = '0'B;

   6662  1 000110   000000 450000 xsym               STZ     HW_FRAG_PT

      297     6663                  /*HW_IOP = '0'B;                                         */
      298     6664                  /*HW_EXT_STATUS = '1'B;                                  */
      299     6665                  /*HW_SMART_CACHE = '1'B;                                 */
      300     6666                  /*HW_ES = '1'B;                                          */
      301     6667    2               HW_EI = '1'B;

   6667  1 000111   000000 756000 xsym               STQ     HW_EI

      302     6668                  /*HW_PROG_SCU = '0'B;                                    */
      303     6669                  /*HW_EDAC = '1'B;                  ????                  */
      304     6670                  /*HW_FLTIC_OK = '0'B;                                    */
      305     6671                  /*HW_NORM_CLOCK = '1'B;                                  */
      306     6672    2               H_RPM_FLG = '1'B;

   6672  1 000112   000000 756000 xsym               STQ     H_RPM_FLG

      307     6673    2               HW_CHANS = 128;

   6673  1 000113   000200 235007                    LDA     128,DL
         1 000114   000000 755000 xsym               STA     HW_CHANS

      308     6674    2               HW_IMX = '1'B;

   6674  1 000115   000000 756000 xsym               STQ     HW_IMX

      309     6675    2               H_ENMASK='303400000000'O;

   6675  1 000116   000017 235000 0                  LDA     P_PCB+15
         1 000117   000000 236003                    LDQ     0,DU
         1 000120   000000 757000 xsym               STAQ    H_ENMASK

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:39   
      310     6676    2               H_DSMASK='001400000000'O;

   6676  1 000121   000020 235000 0                  LDA     P_PCB+16
         1 000122   000000 236003                    LDQ     0,DU
         1 000123   000000 757000 xsym               STAQ    H_DSMASK

      311     6677    2            END;

      312     6678        /**/
      313     6679    1         CALL ITG$FIXCLOCK; /* Verify normal clocks are ok */

   6679  1 000124   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000125   000000 701000 xent               TSX1    ITG$FIXCLOCK
         1 000126   000000 011000                    NOP     0

      314     6680    1         IF H_RPM_FLG THEN

   6680  1 000127   000000 234000 xsym               SZN     H_RPM_FLG
         1 000130   000134 605000 1                  TPL     s:6682

      315     6681    1            CALL HFC$RCON;

   6681  1 000131   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000132   000000 701000 xent               TSX1    HFC$RCON
         1 000133   000000 011000                    NOP     0

      316     6682    1           CALL HFB$ENAPORT(S_PORTNR(0));

   6682  1 000134   000000 630400 2                  EPPR0   0
         1 000135   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000136   000000 701000 xent               TSX1    HFB$ENAPORT
         1 000137   000000 011000                    NOP     0

      317     6683    1           SEGP$ = PINCRW (B$SEGTBL$ , SEGTBL.NODES.WOFF(3));

   6683  1 000140   000000 470400 xsym               LDP0    B$SEGTBL$
         1 000141   000004 236100                    LDQ     4,,PR0
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:40   
         1 000142   000024 772000                    QRL     20
         1 000143   000022 736000                    QLS     18
         1 000144   000000 036000 xsym               ADLQ    B$SEGTBL$
         1 000145   200445 756100                    STQ     SEGP$,,AUTO

      318     6684    1           I = 0;

   6684  1 000146   200403 450100                    STZ     I,,AUTO

      319     6685    2           DO WHILE (SEGPT.RPN(I)~=%FPMC);

   6685  1 000147   200445 471500                    LDP1    SEGP$,,AUTO
         1 000150   200403 720100                    LXL0    I,,AUTO
         1 000151   100000 221110                    LDX1    0,X0,PR1
         1 000152   777777 101003                    CMPX1   -1,DU
         1 000153   000162 600000 1                  TZE     s:6688

      320     6686    2              I = I + 1;

   6686  1 000154   200403 054100                    AOS     I,,AUTO

      321     6687    2              END;

   6687  1 000155   200445 470500                    LDP0    SEGP$,,AUTO
         1 000156   200403 720100                    LXL0    I,,AUTO
         1 000157   000000 221110                    LDX1    0,X0,PR0
         1 000160   777777 101003                    CMPX1   -1,DU
         1 000161   000154 601000 1                  TNZ     s:6686

      322     6688    1           I = I / 2;

   6688  1 000162   200403 236100                    LDQ     I,,AUTO
         1 000163   000002 506007                    DIV     2,DL
         1 000164   200403 756100                    STQ     I,,AUTO

      323     6689    2           DO J = 0 TO I - 1;

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:41   
   6689  1 000165   200404 450100                    STZ     J,,AUTO
         1 000166   000204 710000 1                  TRA     s:6692+1

      324     6690    2             B$MPT$ -> B$MAP (%XLATNORMAL + J) = SEGP$ -> B$MAP (J) & '777777777767'O;

   6690  1 000167   200445 470500                    LDP0    SEGP$,,AUTO
         1 000170   200404 720100                    LXL0    J,,AUTO
         1 000171   000000 236110                    LDQ     0,X0,PR0
         1 000172   000021 376000 0                  ANQ     P_PCB+17
         1 000173   000000 471400 xsym               LDP1    B$MPT$
         1 000174   100020 756110                    STQ     16,X0,PR1

      325     6691    2              B$MPT$ -> B$MAP (%XLATALTERNATE + J) = SEGP$ -> B$MAP (J + I) &
              6691                       '777777777767'O;

   6691  1 000175   200404 236100                    LDQ     J,,AUTO
         1 000176   200403 036100                    ADLQ    I,,AUTO
         1 000177   000000 236106                    LDQ     0,QL,PR0
         1 000200   000021 376000 0                  ANQ     P_PCB+17
         1 000201   000000 471400 xsym               LDP1    B$MPT$
         1 000202   100026 756110                    STQ     22,X0,PR1

      326     6692    2              END;

   6692  1 000203   200404 054100                    AOS     J,,AUTO
         1 000204   200404 236100                    LDQ     J,,AUTO
         1 000205   200403 116100                    CMPQ    I,,AUTO
         1 000206   000167 604000 1                  TMI     s:6690

      327     6693    1           CALL MMC$MAPXLAT (B$UPT$);

   6693  1 000207   000001 630400 2                  EPPR0   1
         1 000210   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000211   000000 701000 xent               TSX1    MMC$MAPXLAT
         1 000212   000000 011000                    NOP     0

      328     6694    2           IF ~IT_TIGRCUB THEN DO;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:42   

   6694  1 000213   000000 236000 xsym               LDQ     IT_TIGRCUB
         1 000214   400000 376003                    ANQ     -131072,DU
         1 000215   400000 676003                    ERQ     -131072,DU
         1 000216   000276 600000 1                  TZE     s:6712

      329     6695    2              SEGP$ = PINCRW (B$SEGTBL$ , SEGTBL.NODES.WOFF(8));

   6695  1 000217   000000 470400 xsym               LDP0    B$SEGTBL$
         1 000220   000011 236100                    LDQ     9,,PR0
         1 000221   000024 772000                    QRL     20
         1 000222   000022 736000                    QLS     18
         1 000223   000000 036000 xsym               ADLQ    B$SEGTBL$
         1 000224   200445 756100                    STQ     SEGP$,,AUTO

      330     6696    2              I = 0;

   6696  1 000225   200403 450100                    STZ     I,,AUTO

      331     6697    3              DO WHILE (SEGPT.RPN(I)~=%FPMC);

   6697  1 000226   200445 471500                    LDP1    SEGP$,,AUTO
         1 000227   200403 720100                    LXL0    I,,AUTO
         1 000230   100000 221110                    LDX1    0,X0,PR1
         1 000231   777777 101003                    CMPX1   -1,DU
         1 000232   000246 600000 1                  TZE     s:6701

      332     6698    3                 B$MPT$ -> B$MAP (%DVTTBL + I) = SEGP$ -> B$MAP (I) & '777777777767'O;

   6698  1 000233   200445 470500                    LDP0    SEGP$,,AUTO
         1 000234   200403 720100                    LXL0    I,,AUTO
         1 000235   000000 236110                    LDQ     0,X0,PR0
         1 000236   000021 376000 0                  ANQ     P_PCB+17
         1 000237   000000 471400 xsym               LDP1    B$MPT$
         1 000240   100034 756110                    STQ     28,X0,PR1

      333     6699    3                 I = I + 1;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:43   

   6699  1 000241   200403 054100                    AOS     I,,AUTO

      334     6700    3                 END;

   6700  1 000242   200403 720100                    LXL0    I,,AUTO
         1 000243   000000 221110                    LDX1    0,X0,PR0
         1 000244   777777 101003                    CMPX1   -1,DU
         1 000245   000233 601000 1                  TNZ     s:6698

      335     6701    2              SEGP$ = B$DVTTBL$;

   6701  1 000246   000000 236000 xsym               LDQ     B$DVTTBL$
         1 000247   200445 756100                    STQ     SEGP$,,AUTO

      336     6702    2              I = 0;

   6702  1 000250   200403 450100                    STZ     I,,AUTO

      337     6703    3              DO WHILE (SEGP$->NI$DVT.MODEL(0) ~= 'MCA');

   6703  1 000251   200445 470500                    LDP0    SEGP$,,AUTO
         1 000252   040000 106500                    CMPC    fill='040'O
         1 000253   000003 000010                    ADSC9   3,,PR0                   cn=0,n=8
         1 000254   000022 000003 0                  ADSC9   P_PCB+18                 cn=0,n=3
         1 000255   000271 600000 1                  TZE     s:6708

      338     6704    3                 NI$DVT$(I) = SEGP$;

   6704  1 000256   200445 236100                    LDQ     SEGP$,,AUTO
         1 000257   200403 720100                    LXL0    I,,AUTO
         1 000260   000000 756010 xsym               STQ     NI$DVT$,X0

      339     6705    3                 SEGP$ = PINCRW(SEGP$,SIZEW(NI$DVT));

   6705  1 000261   000117 036003                    ADLQ    79,DU
         1 000262   200445 756100                    STQ     SEGP$,,AUTO
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:44   

      340     6706    3                 I = I + 1;

   6706  1 000263   200403 054100                    AOS     I,,AUTO

      341     6707    3                 END;

   6707  1 000264   200445 470500                    LDP0    SEGP$,,AUTO
         1 000265   040000 106500                    CMPC    fill='040'O
         1 000266   000003 000010                    ADSC9   3,,PR0                   cn=0,n=8
         1 000267   000022 000003 0                  ADSC9   P_PCB+18                 cn=0,n=3
         1 000270   000256 601000 1                  TNZ     s:6704

      342     6708    2              NI$DVT$(I) = SEGP$;

   6708  1 000271   200403 720100                    LXL0    I,,AUTO
         1 000272   000000 756010 xsym               STQ     NI$DVT$,X0

      343     6709    2              NI_NDVTS = I + 1;

   6709  1 000273   200403 235100                    LDA     I,,AUTO
         1 000274   000001 035007                    ADLA    1,DL
         1 000275   000000 755000 xsym               STA     NI_NDVTS

      344     6710    2              END;

      345     6711        /**/
      346     6712    1           B_MONINFO.NOUSERS# = IT_UFLG > 0;

   6712  1 000276   400000 220003                    LDX0    -131072,DU
         1 000277   000000 235000 xsym               LDA     IT_UFLG
         1 000300   000302 601000 1                  TNZ     s:6712+4
         1 000301   000000 220003                    LDX0    0,DU
         1 000302   000000 636010                    EAQ     0,X0
         1 000303   000010 676000 xsym               ERQ     B_MONINFO+8
         1 000304   400000 376003                    ANQ     -131072,DU
         1 000305   000010 656000 xsym               ERSQ    B_MONINFO+8
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:45   

      347     6713    2           IF (IT_BOOTFLAG >= I_DISKBOOT) THEN DO; /* DB OR RECOVERY             */

   6713  1 000306   000000 236000 xsym               LDQ     IT_BOOTFLAG
         1 000307   000007 116007                    CMPQ    7,DL
         1 000310   000326 602000 1                  TNC     s:6720

      348     6714    2              TABLE_PTR$ = B$TIGR$;

   6714  1 000311   000000 236000 xsym               LDQ     B$TIGR$
         1 000312   200410 756100                    STQ     TABLE_PTR$,,AUTO

      349     6715    2              CALL ITK$WRAPUP(TABLE_PTR$,CALL_VOLINIT);

   6715  1 000313   200406 630500                    EPPR0   CALL_VOLINIT,,AUTO
         1 000314   200451 450500                    STP0    SEGP$+4,,AUTO
         1 000315   200410 631500                    EPPR1   TABLE_PTR$,,AUTO
         1 000316   200450 451500                    STP1    SEGP$+3,,AUTO
         1 000317   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 000320   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000321   000000 701000 xent               TSX1    ITK$WRAPUP
         1 000322   000000 011000                    NOP     0

      350     6716    2              CALL ITK$KILLTIGR;

   6716  1 000323   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000324   000000 701000 xent               TSX1    ITK$KILLTIGR
         1 000325   000000 011000                    NOP     0

      351     6717    2              END;

      352     6718        /**/
      353     6719        /*      KI_MXFE = 0;               inited  START WITH NO FEPS                 */
      354     6720    2           DO I = 0 TO 255;

   6720  1 000326   200403 450100                    STZ     I,,AUTO

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:46   
      355     6721    2              FEI$(I) = ADDR(NIL);

   6721  1 000327   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 000330   200403 720100                    LXL0    I,,AUTO
         1 000331   200003 756110                    STQ     FEI$,X0,AUTO

      356     6722    2              END;

   6722  1 000332   200403 054100                    AOS     I,,AUTO
         1 000333   200403 235100                    LDA     I,,AUTO
         1 000334   000377 115007                    CMPA    255,DL
         1 000335   000327 604400 1                  TMOZ    s:6721

      357     6723    1           IT_FEI$$ = ADDR(FEI$(0));

   6723  1 000336   200003 630500                    EPPR0   FEI$,,AUTO
         1 000337   000000 450400 xsym               STP0    IT_FEI$$

      358     6724    1           N_DCTXMAX = 0;             /*      START WITH NO DEVICES              */

   6724  1 000340   000000 450000 xsym               STZ     N_DCTXMAX

      359     6725    1           IT_PARTITION='0'B;         /*      NO PARTITIONED DEVICES OR CHANNELS */

   6725  1 000341   000000 100400                    MLR     fill='000'O
         1 000342   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 000343   000000 000310 xsym               ADSC9   IT_PARTITION             cn=0,n=200

      360     6726    1           N_NDPS = 0;

   6726  1 000344   000000 450000 xsym               STZ     N_NDPS

      361     6727        /*      P_MAXPROCS = 0;                                                       */
      362     6728        /*      P_NPROCS = 0;                                                         */
      363     6729        /*      B_SCDCTX = 0;                                                         */
      364     6730        /**/
      365     6731    1           MON$ = ADDR(NIL);
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:47   

   6731  1 000345   200416 756100                    STQ     MON$,,AUTO

      366     6732        /**/
      367     6733    1           IT_MMDSMAX = MM_DSMAX;          /* SAVE IT                            */

   6733  1 000346   000000 100400                    MLR     fill='000'O
         1 000347   000000 000010 xsym               ADSC9   MM_DSMAX                 cn=0,n=8
         1 000350   000000 000010 xsym               ADSC9   IT_MMDSMAX               cn=0,n=8

      368     6734    1           MM_DSMAX(1) = PWPGS;            /* DS2                                */

   6734  1 000351   000005 236003                    LDQ     5,DU
         1 000352   000000 552020 xsym               STBQ    MM_DSMAX,'20'O

      369     6735    1           MM_DSMAX(2) = 1;                /* ROOM FOR TIGR WORK IN DS3          */

   6735  1 000353   001000 236007                    LDQ     512,DL
         1 000354   000000 552010 xsym               STBQ    MM_DSMAX,'10'O

      370     6736    1           MM_DSMAX(3) = RBPGS;            /* DS4*/

   6736  1 000355   000002 236007                    LDQ     2,DL
         1 000356   000000 552004 xsym               STBQ    MM_DSMAX,'04'O

      371     6737    1           MM_DSMAX(4) = 1;                /* DS5                                */

   6737  1 000357   001000 236003                    LDQ     512,DU
         1 000360   000001 552040 xsym               STBQ    MM_DSMAX+1,'40'O

      372     6738    1           MM_DSMAX(5) = 1;                /* DS6                                */

   6738  1 000361   000001 236003                    LDQ     1,DU
         1 000362   000001 552020 xsym               STBQ    MM_DSMAX+1,'20'O

      373     6739        /**/
      374     6740    1           N$DCT$$ = B$DS3$;               /* BUILD N$DCT$ IN DS3                */
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:48   

   6740  1 000363   000000 236000 xsym               LDQ     B$DS3$
         1 000364   000000 756000 xsym               STQ     N$DCT$$

      375     6741    1           PTR$ = B$DS3$;

   6741  1 000365   200411 756100                    STQ     PTR$,,AUTO

      376     6742    1           CALL MMH$GDS (%MON_WSQ,REPTR$.SEGID,1024,GDS_ERR) ALTRET (DS_ERR);

   6742  1 000366   200412 631500                    EPPR1   GDS_ERR,,AUTO
         1 000367   200453 451500                    STP1    SEGP$+6,,AUTO
         1 000370   000003 236000 2                  LDQ     3
         1 000371   200452 756100                    STQ     SEGP$+5,,AUTO
         1 000372   200454 452500                    STP2    SEGP$+7,,AUTO
         1 000373   200454 236100                    LDQ     SEGP$+7,,AUTO
         1 000374   000004 036000 2                  ADLQ    4
         1 000375   000005 235000 2                  LDA     5
         1 000376   200450 757100                    STAQ    SEGP$+3,,AUTO
         1 000377   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 000400   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000401   000000 701000 xent               TSX1    MMH$GDS
         1 000402   001663 702000 1                  TSX2    DS_ERR

      377     6743        /**/
      378     6744    2           DO I = 0 TO 1023;

   6744  1 000403   200403 450100                    STZ     I,,AUTO

      379     6745    2              N$DCT$$ -> N$DCT$(I) = ADDR(NIL);

   6745  1 000404   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 000405   000000 470400 xsym               LDP0    N$DCT$$
         1 000406   200403 720100                    LXL0    I,,AUTO
         1 000407   000000 756110                    STQ     0,X0,PR0

      380     6746    2              END;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:49   

   6746  1 000410   200403 054100                    AOS     I,,AUTO
         1 000411   200403 235100                    LDA     I,,AUTO
         1 000412   001777 115007                    CMPA    1023,DL
         1 000413   000404 604400 1                  TMOZ    s:6745

      381     6747        /**/
      382     6748    1           PTR$ = B$DS4$;                  /* READ BUFFER IN DS4                 */

   6748  1 000414   000000 236000 xsym               LDQ     B$DS4$
         1 000415   200411 756100                    STQ     PTR$,,AUTO

      383     6749    1           CALL MMH$GDS (%MON_WSQ,REPTR$.SEGID,1024*RBPGS,GDS_ERR) ALTRET (DS_ERR);

   6749  1 000416   200412 630500                    EPPR0   GDS_ERR,,AUTO
         1 000417   200453 450500                    STP0    SEGP$+6,,AUTO
         1 000420   000007 236000 2                  LDQ     7
         1 000421   200452 756100                    STQ     SEGP$+5,,AUTO
         1 000422   200454 452500                    STP2    SEGP$+7,,AUTO
         1 000423   200454 236100                    LDQ     SEGP$+7,,AUTO
         1 000424   000004 036000 2                  ADLQ    4
         1 000425   000005 235000 2                  LDA     5
         1 000426   200450 757100                    STAQ    SEGP$+3,,AUTO
         1 000427   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 000430   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000431   000000 701000 xent               TSX1    MMH$GDS
         1 000432   001663 702000 1                  TSX2    DS_ERR

      384     6750    1           READ_BUF_VECT = NO;

   6750  1 000433   000000 235003                    LDA     0,DU
         1 000434   000000 236003                    LDQ     0,DU
         1 000435   200414 757100                    STAQ    READ_BUF_VECT,,AUTO

      385     6751    1           READ_BUF_VECT.FLAGSV = 2045;

   6751  1 000436   200414 236100                    LDQ     READ_BUF_VECT,,AUTO
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:50   
         1 000437   000010 376000 2                  ANQ     8
         1 000440   177640 276007                    ORQ     65440,DL
         1 000441   200414 756100                    STQ     READ_BUF_VECT,,AUTO

      386     6752    1           READ_BUF_VECT.BOUND = 8192 - 1;

   6752  1 000442   200414 236100                    LDQ     READ_BUF_VECT,,AUTO
         1 000443   177777 376007                    ANQ     65535,DL
         1 000444   000011 276000 2                  ORQ     9
         1 000445   200414 756100                    STQ     READ_BUF_VECT,,AUTO

      387     6753    1           READ_BUF_VECT.PTR$ = B$DS4$;

   6753  1 000446   000000 236000 xsym               LDQ     B$DS4$
         1 000447   200415 756100                    STQ     READ_BUF_VECT+1,,AUTO

      388     6754        /**/
      389     6755    1           PTR$ = B$DS2$;                  /* PARSE WORK AREA IN DS2             */

   6755  1 000450   000000 236000 xsym               LDQ     B$DS2$
         1 000451   200411 756100                    STQ     PTR$,,AUTO

      390     6756    1           CALL MMH$GDS (%MON_WSQ,REPTR$.SEGID,1024*PWPGS,GDS_ERR) ALTRET (DS_ERR);

   6756  1 000452   200412 630500                    EPPR0   GDS_ERR,,AUTO
         1 000453   200453 450500                    STP0    SEGP$+6,,AUTO
         1 000454   000013 236000 2                  LDQ     11
         1 000455   200452 756100                    STQ     SEGP$+5,,AUTO
         1 000456   200454 452500                    STP2    SEGP$+7,,AUTO
         1 000457   200454 236100                    LDQ     SEGP$+7,,AUTO
         1 000460   000004 036000 2                  ADLQ    4
         1 000461   000005 235000 2                  LDA     5
         1 000462   200450 757100                    STAQ    SEGP$+3,,AUTO
         1 000463   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 000464   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000465   000000 701000 xent               TSX1    MMH$GDS
         1 000466   001663 702000 1                  TSX2    DS_ERR
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:51   

      391     6757    1           PCB = P_PCB;

   6757  1 000467   000100 100400                    MLR     fill='000'O
         1 000470   000000 000070 0                  ADSC9   P_PCB                    cn=0,n=56
         1 000471   200426 000070                    ADSC9   PCB,,AUTO                cn=0,n=56

      392     6758    1           PCB.TEXT$ = READ_BUF_VECT.PTR$;

   6758  1 000472   200415 236100                    LDQ     READ_BUF_VECT+1,,AUTO
         1 000473   200426 756100                    STQ     PCB,,AUTO

      393     6759    1           PCB.WORK$ = B$DS2$;

   6759  1 000474   000000 236000 xsym               LDQ     B$DS2$
         1 000475   200430 756100                    STQ     PCB+2,,AUTO

      394     6760    1           PCB.WKSZ = 1024*PWPGS;

   6760  1 000476   012000 220003                    LDX0    5120,DU
         1 000477   200433 740100                    STX0    PCB+5,,AUTO

      395     6761        /**/
      396     6762    1           PTR$ = B$DS5$;                  /* COMMAND TABLE AREA IN DS5          */

   6762  1 000500   000000 236000 xsym               LDQ     B$DS5$
         1 000501   200411 756100                    STQ     PTR$,,AUTO

      397     6763    1           CALL MMH$GDS (%MON_WSQ,REPTR$.SEGID,1024,GDS_ERR) ALTRET (DS_ERR);

   6763  1 000502   200412 630500                    EPPR0   GDS_ERR,,AUTO
         1 000503   200453 450500                    STP0    SEGP$+6,,AUTO
         1 000504   000003 236000 2                  LDQ     3
         1 000505   200452 756100                    STQ     SEGP$+5,,AUTO
         1 000506   200454 452500                    STP2    SEGP$+7,,AUTO
         1 000507   200454 236100                    LDQ     SEGP$+7,,AUTO
         1 000510   000004 036000 2                  ADLQ    4
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:52   
         1 000511   000005 235000 2                  LDA     5
         1 000512   200450 757100                    STAQ    SEGP$+3,,AUTO
         1 000513   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 000514   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000515   000000 701000 xent               TSX1    MMH$GDS
         1 000516   001663 702000 1                  TSX2    DS_ERR

      398     6764        /**/
      399     6765    1           PTR$ = B$DS6$;                  /* TEMP SPROC STORAGE IN DS6          */

   6765  1 000517   000000 236000 xsym               LDQ     B$DS6$
         1 000520   200411 756100                    STQ     PTR$,,AUTO

      400     6766    1           CALL MMH$GDS (%MON_WSQ,REPTR$.SEGID,1024,GDS_ERR) ALTRET (DS_ERR);

   6766  1 000521   200412 630500                    EPPR0   GDS_ERR,,AUTO
         1 000522   200453 450500                    STP0    SEGP$+6,,AUTO
         1 000523   000003 236000 2                  LDQ     3
         1 000524   200452 756100                    STQ     SEGP$+5,,AUTO
         1 000525   200454 452500                    STP2    SEGP$+7,,AUTO
         1 000526   200454 236100                    LDQ     SEGP$+7,,AUTO
         1 000527   000004 036000 2                  ADLQ    4
         1 000530   000005 235000 2                  LDA     5
         1 000531   200450 757100                    STAQ    SEGP$+3,,AUTO
         1 000532   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 000533   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000534   000000 701000 xent               TSX1    MMH$GDS
         1 000535   001663 702000 1                  TSX2    DS_ERR

      401     6767        /**/
      402     6768    1           TABLE_PTR$ = B$TIGR$;

   6768  1 000536   000000 236000 xsym               LDQ     B$TIGR$
         1 000537   200410 756100                    STQ     TABLE_PTR$,,AUTO

      403     6769        /**/
      404     6770    1           I = %TIGRLO;                    /* AQUIRE TABLE SPACE                 */
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:53   

   6770  1 000540   000610 235007                    LDA     392,DL
         1 000541   200403 755100                    STA     I,,AUTO

      405     6771    2           DO WHILE (I <= %TIGRHI);

   6771  1 000542   001007 115007                    CMPA    519,DL
         1 000543   000564 605400 1                  TPNZ    s:6776

      406     6772    2              CALL MME$WGVP(%MON_WSQ,I,BITBIN('64'O),GDS_ERR) ALTRET (TABLE_ERR);

   6772  1 000544   200412 630500                    EPPR0   GDS_ERR,,AUTO
         1 000545   200453 450500                    STP0    SEGP$+6,,AUTO
         1 000546   000015 236000 2                  LDQ     13
         1 000547   200452 756100                    STQ     SEGP$+5,,AUTO
         1 000550   200403 631500                    EPPR1   I,,AUTO
         1 000551   200451 451500                    STP1    SEGP$+4,,AUTO
         1 000552   000005 236000 2                  LDQ     5
         1 000553   200450 756100                    STQ     SEGP$+3,,AUTO
         1 000554   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 000555   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000556   000000 701000 xent               TSX1    MME$WGVP
         1 000557   001670 702000 1                  TSX2    TABLE_ERR

      407     6773    2              I = I+1;

   6773  1 000560   200403 054100                    AOS     I,,AUTO

      408     6774    2              END;

   6774  1 000561   200403 235100                    LDA     I,,AUTO
         1 000562   001007 115007                    CMPA    519,DL
         1 000563   000544 604400 1                  TMOZ    s:6772

      409     6775        /**/
      410     6776    1           NI$CONNECT$ = TABLE_PTR$ ;

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:54   
   6776  1 000564   200410 236100                    LDQ     TABLE_PTR$,,AUTO
         1 000565   000000 756000 xsym               STQ     NI$CONNECT$

      411     6777    1           CALL ITH$ALLOCATE ( TABLE_PTR$, SIZEW(NI$CONNECT) )  ALTRET ( TABLE_ERR10 )
              6777                    ;

   6777  1 000566   000016 236000 2                  LDQ     14
         1 000567   200451 756100                    STQ     SEGP$+4,,AUTO
         1 000570   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 000571   200450 450500                    STP0    SEGP$+3,,AUTO
         1 000572   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 000573   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000574   000000 701000 xent               TSX1    ITH$ALLOCATE
         1 000575   001674 702000 1                  TSX2    TABLE_ERR10

      412     6778    1           NI$CONNECT$ -> NI$CONNECT.GATE    = YES ;

   6778  1 000576   000000 470400 xsym               LDP0    NI$CONNECT$
         1 000577   400000 235003                    LDA     -131072,DU
         1 000600   000000 236003                    LDQ     0,DU
         1 000601   000000 755100                    STA     0,,PR0
         1 000602   000001 756100                    STQ     1,,PR0

      413     6779    1           NI$CONNECT$ -> NI$CONNECT.ADDRESS = 0 ;

   6779  1 000603   000000 470400 xsym               LDP0    NI$CONNECT$
         1 000604   000002 450100                    STZ     2,,PR0

      414     6780    1           NI$CONNECT$ -> NI$CONNECT.CCW     = 0 ;

   6780  1 000605   000003 450100                    STZ     3,,PR0

      415     6781        /**/
      416     6782    1           NI$RP$ = TABLE_PTR$;

   6782  1 000606   200410 236100                    LDQ     TABLE_PTR$,,AUTO
         1 000607   000000 756000 xsym               STQ     NI$RP$
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:55   

      417     6783    1           CALL ITH$ALLOCATE(TABLE_PTR$,SIZEW(NI$RP)) ALTRET(TABLE_ERR10);

   6783  1 000610   000017 236000 2                  LDQ     15
         1 000611   200451 756100                    STQ     SEGP$+4,,AUTO
         1 000612   200410 631500                    EPPR1   TABLE_PTR$,,AUTO
         1 000613   200450 451500                    STP1    SEGP$+3,,AUTO
         1 000614   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 000615   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000616   000000 701000 xent               TSX1    ITH$ALLOCATE
         1 000617   001674 702000 1                  TSX2    TABLE_ERR10

      418     6784    1           NI$RP$ -> NI$RP = NO;

   6784  1 000620   000000 470400 xsym               LDP0    NI$RP$
         1 000621   000100 100400                    MLR     fill='000'O
         1 000622   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 000623   000000 000024                    ADSC9   0,,PR0                   cn=0,n=20

      419     6785    1           NI$RP$ -> NI$RP.RP$ = ADDR(NIL);

   6785  1 000624   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 000625   000000 470400 xsym               LDP0    NI$RP$
         1 000626   000002 756100                    STQ     2,,PR0

      420     6786    1           NI$RP$ -> NI$RP.RC$ = ADDR(NIL);

   6786  1 000627   000003 756100                    STQ     3,,PR0

      421     6787    1           NI$RP$ -> NI$RP.RQ$ = ADDR(NIL);

   6787  1 000630   000004 756100                    STQ     4,,PR0

      422     6788    1           NI$RP$ -> NI$RP.GATE = YES;

   6788  1 000631   400000 235003                    LDA     -131072,DU
         1 000632   000000 236003                    LDQ     0,DU
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:56   
         1 000633   000000 755100                    STA     0,,PR0
         1 000634   000001 756100                    STQ     1,,PR0

      423     6789        /**/
      424     6790    1           NI$FQ$ = TABLE_PTR$;

   6790  1 000635   200410 236100                    LDQ     TABLE_PTR$,,AUTO
         1 000636   000000 756000 xsym               STQ     NI$FQ$

      425     6791    1           CALL ITH$ALLOCATE(TABLE_PTR$,SIZEW(NI$FQ)) ALTRET(TABLE_ERR10);

   6791  1 000637   000016 236000 2                  LDQ     14
         1 000640   200451 756100                    STQ     SEGP$+4,,AUTO
         1 000641   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 000642   200450 450500                    STP0    SEGP$+3,,AUTO
         1 000643   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 000644   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000645   000000 701000 xent               TSX1    ITH$ALLOCATE
         1 000646   001674 702000 1                  TSX2    TABLE_ERR10

      426     6792    1           NI$FQ$ -> NI$FQ = NO;

   6792  1 000647   000000 470400 xsym               LDP0    NI$FQ$
         1 000650   000100 100400                    MLR     fill='000'O
         1 000651   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 000652   000000 000020                    ADSC9   0,,PR0                   cn=0,n=16

      427     6793    1           NI$FQ$ -> NI$FQ.HD$ = ADDR(NIL);

   6793  1 000653   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 000654   000000 470400 xsym               LDP0    NI$FQ$
         1 000655   000002 756100                    STQ     2,,PR0

      428     6794    1           NI$FQ$ -> NI$FQ.GATE = YES;

   6794  1 000656   400000 235003                    LDA     -131072,DU
         1 000657   000000 236003                    LDQ     0,DU
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:57   
         1 000660   000000 755100                    STA     0,,PR0
         1 000661   000001 756100                    STQ     1,,PR0

      429     6795        /**/
      430     6796    1           N$FQ$ = TABLE_PTR$;

   6796  1 000662   200410 236100                    LDQ     TABLE_PTR$,,AUTO
         1 000663   000000 756000 xsym               STQ     N$FQ$

      431     6797    1           CALL ITH$ALLOCATE(TABLE_PTR$,SIZEW(N$FQ)) ALTRET(TABLE_ERR10);

   6797  1 000664   000017 236000 2                  LDQ     15
         1 000665   200451 756100                    STQ     SEGP$+4,,AUTO
         1 000666   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 000667   200450 450500                    STP0    SEGP$+3,,AUTO
         1 000670   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 000671   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000672   000000 701000 xent               TSX1    ITH$ALLOCATE
         1 000673   001674 702000 1                  TSX2    TABLE_ERR10

      432     6798    1           N$FQ$ -> N$FQ = NO;

   6798  1 000674   000000 470400 xsym               LDP0    N$FQ$
         1 000675   000100 100400                    MLR     fill='000'O
         1 000676   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 000677   000000 000024                    ADSC9   0,,PR0                   cn=0,n=20

      433     6799    1           N$FQ$ -> N$FQ.HD$ = ADDR(NIL);

   6799  1 000700   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 000701   000000 470400 xsym               LDP0    N$FQ$
         1 000702   000002 756100                    STQ     2,,PR0

      434     6800    1           N$FQ$ -> N$FQ.GATE = YES;

   6800  1 000703   400000 235003                    LDA     -131072,DU
         1 000704   000000 236003                    LDQ     0,DU
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:58   
         1 000705   000000 755100                    STA     0,,PR0
         1 000706   000001 756100                    STQ     1,,PR0

      435     6801        /**/
      436     6802    2           IF HW_IMX THEN DO;

   6802  1 000707   000000 234000 xsym               SZN     HW_IMX
         1 000710   000751 605000 1                  TPL     READ_CMD

      437     6803    2              NI$IBUF$ = TABLE_PTR$;

   6803  1 000711   200410 236100                    LDQ     TABLE_PTR$,,AUTO
         1 000712   000000 756000 xsym               STQ     NI$IBUF$

      438     6804    2              CALL ITH$ALLOCATE(TABLE_PTR$,SIZEW(NI$IBUF)) ALTRET(TABLE_ERR10);

   6804  1 000713   000020 236000 2                  LDQ     16
         1 000714   200451 756100                    STQ     SEGP$+4,,AUTO
         1 000715   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 000716   200450 450500                    STP0    SEGP$+3,,AUTO
         1 000717   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 000720   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 000721   000000 701000 xent               TSX1    ITH$ALLOCATE
         1 000722   001674 702000 1                  TSX2    TABLE_ERR10

      439     6805    2              NI$IBUF$ -> NI$IBUF = NO;

   6805  1 000723   000000 470400 xsym               LDP0    NI$IBUF$
         1 000724   000100 100400                    MLR     fill='000'O
         1 000725   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         1 000726   000000 000050                    ADSC9   0,,PR0                   cn=0,n=40

      440     6806    2              NI$IBUF$ -> NI$IBUF.GATE = YES;

   6806  1 000727   000000 470400 xsym               LDP0    NI$IBUF$
         1 000730   400000 235003                    LDA     -131072,DU
         1 000731   000000 236003                    LDQ     0,DU
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:59   
         1 000732   000000 755100                    STA     0,,PR0
         1 000733   000001 756100                    STQ     1,,PR0

      441     6807    3              DO I = 0 TO 3;

   6807  1 000734   200403 450100                    STZ     I,,AUTO

      442     6808    3                 NI$IBUF$->NI$IBUF.ENT.BUF$(I) = PINCRW(B$IMX$,(%IMXMBXHI-%IMXLO+1+I)*
              6808                          1024);

   6808  1 000735   200403 235100                    LDA     I,,AUTO
         1 000736   000001 735000                    ALS     1
         1 000737   200403 236100                    LDQ     I,,AUTO
         1 000740   000034 736000                    QLS     28
         1 000741   030000 036003                    ADLQ    12288,DU
         1 000742   000000 036000 xsym               ADLQ    B$IMX$
         1 000743   000000 470400 xsym               LDP0    NI$IBUF$
         1 000744   000002 756105                    STQ     2,AL,PR0

      443     6809    3                 END;

   6809  1 000745   200403 054100                    AOS     I,,AUTO
         1 000746   200403 235100                    LDA     I,,AUTO
         1 000747   000003 115007                    CMPA    3,DL
         1 000750   000735 604400 1                  TMOZ    s:6808

      444     6810    2              END;

      445     6811    1   READ_CMD:
      446     6812    1           CALL ITR$READ (READ_BUF_VECT,NCHAR)    ALTRET (READ_ERR);

   6812  1 000751   200405 630500       READ_CMD     EPPR0   NCHAR,,AUTO
         1 000752   200451 450500                    STP0    SEGP$+4,,AUTO
         1 000753   200414 631500                    EPPR1   READ_BUF_VECT,,AUTO
         1 000754   200450 451500                    STP1    SEGP$+3,,AUTO
         1 000755   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 000756   000020 631400 xsym               EPPR1   B_VECTNIL+16
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:60   
         1 000757   000000 701000 xent               TSX1    ITR$READ
         1 000760   001534 702000 1                  TSX2    READ_ERR

      447     6813        /**/
      448     6814    1           PCB.NCHARS = NCHAR;             /* COMMAND SIZE                       */

   6814  1 000761   200405 235100                    LDA     NCHAR,,AUTO
         1 000762   200437 755100                    STA     PCB+9,,AUTO

      449     6815        /**/
      450     6816    1           CALL X$PARSE (PCB) ALTRET (PARSE_ERR);

   6816  1 000763   200426 630500                    EPPR0   PCB,,AUTO
         1 000764   200450 450500                    STP0    SEGP$+3,,AUTO
         1 000765   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 000766   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000767   000000 701000 xent               TSX1    X$PARSE
         1 000770   001556 702000 1                  TSX2    PARSE_ERR

      451     6817        /**/
      452     6818    2           DO CASE (PCB.OUT$ -> OUT$BLK.CODE);

   6818  1 000771   200431 470500                    LDP0    PCB+3,,AUTO
         1 000772   000000 720100                    LXL0    0,,PR0
         1 000773   000017 100003                    CMPX0   15,DU
         1 000774   000776 602010 1                  TNC     s:6818+5,X0
         1 000775   001533 710000 1                  TRA     s:6943
         1 000776   001533 710000 1                  TRA     s:6943
         1 000777   001040 710000 1                  TRA     s:6831
         1 001000   001064 710000 1                  TRA     s:6839
         1 001001   001064 710000 1                  TRA     s:6839
         1 001002   001114 710000 1                  TRA     s:6849
         1 001003   001250 710000 1                  TRA     s:6884
         1 001004   001174 710000 1                  TRA     s:6867
         1 001005   001300 710000 1                  TRA     s:6894
         1 001006   001333 710000 1                  TRA     s:6900
         1 001007   001471 710000 1                  TRA     s:6926
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:61   
         1 001010   001517 710000 1                  TRA     s:6937
         1 001011   001531 710000 1                  TRA     s:6940
         1 001012   001015 710000 1                  TRA     s:6822
         1 001013   001144 710000 1                  TRA     s:6858
         1 001014   001224 710000 1                  TRA     s:6877

      453     6819        /**/
      454     6820    2            CASE(%ITS_NULL);

      455     6821    2            CASE(%ITS_AUTOCONFIG);

      456     6822    3              IF NI$IOM$(0)~=ADDR(NIL) THEN DO;

   6822  1 001015   000000 236000 xsym               LDQ     NI$IOM$
         1 001016   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 001017   001025 600000 1                  TZE     s:6826

      457     6823    3                 CALL ITE$ERROR(%E$AUTOCONFIGERR);

   6823  1 001020   000022 630400 2                  EPPR0   18
         1 001021   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001022   000000 701000 xent               TSX1    ITE$ERROR
         1 001023   000000 011000                    NOP     0

      458     6824    3                 GOTO READ_CMD;

   6824  1 001024   000751 710000 1                  TRA     READ_CMD

      459     6825    3                 END;
      460     6826    2              CALL DEFAULT_IOM;

   6826  1 001025   001675 701000 1                  TSX1    DEFAULT_IOM
         1 001026   000000 011000                    NOP     0

      461     6827    2              CALL BUILD_CHAN ALTRET(TABLE_ERR10);

   6827  1 001027   001724 701000 1                  TSX1    BUILD_CHAN
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:62   
         1 001030   001674 702000 1                  TSX2    TABLE_ERR10

      462     6828    2              CALL ITC$AUTOCONFIG(TABLE_PTR$) ALTRET(CMD_ERR);

   6828  1 001031   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 001032   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001033   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001034   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001035   000000 701000 xent               TSX1    ITC$AUTOCONFIG
         1 001036   001547 702000 1                  TSX2    CMD_ERR
         1 001037   001533 710000 1                  TRA     s:6943

      463     6829        /**/
      464     6830    2            CASE(%ITS_IOM);

      465     6831    3              IF (CHAN_BUILT) THEN DO;

   6831  1 001040   200407 234100                    SZN     CHAN_BUILT,,AUTO
         1 001041   001047 605000 1                  TPL     s:6835

      466     6832    3                 CALL ITE$ERROR(%E$BADIOM);

   6832  1 001042   000024 630400 2                  EPPR0   20
         1 001043   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001044   000000 701000 xent               TSX1    ITE$ERROR
         1 001045   000000 011000                    NOP     0

      467     6833    3                 GOTO READ_CMD;

   6833  1 001046   000751 710000 1                  TRA     READ_CMD

      468     6834    3                 END;
      469     6835    2              CALL ITC$CHECK_IOM(PCB) ALTRET (CMD_ERR);

   6835  1 001047   200426 631500                    EPPR1   PCB,,AUTO
         1 001050   200450 451500                    STP1    SEGP$+3,,AUTO
         1 001051   200450 630500                    EPPR0   SEGP$+3,,AUTO
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:63   
         1 001052   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001053   000000 701000 xent               TSX1    ITC$CHECK_IOM
         1 001054   001547 702000 1                  TSX2    CMD_ERR

      470     6836    2              CALL ITI$IOM(TABLE_PTR$);

   6836  1 001055   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 001056   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001057   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001060   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001061   000000 701000 xent               TSX1    ITI$IOM
         1 001062   000000 011000                    NOP     0
         1 001063   001533 710000 1                  TRA     s:6943

      471     6837        /**/
      472     6838    2            CASE (%ITS_DISK,%ITS_TAPE);

      473     6839    3              IF ( NI$IOM$(0) = ADDR(NIL) ) THEN DO;

   6839  1 001064   000000 236000 xsym               LDQ     NI$IOM$
         1 001065   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 001066   001071 601000 1                  TNZ     s:6843

      474     6840    3                 CALL DEFAULT_IOM;         /* BUILD ONE IOM ON PORT ZERO         */

   6840  1 001067   001675 701000 1                  TSX1    DEFAULT_IOM
         1 001070   000000 011000                    NOP     0

      475     6841    3                 END;

      476     6842        /**/
      477     6843    2              IF (~CHAN_BUILT) THEN

   6843  1 001071   200407 236100                    LDQ     CHAN_BUILT,,AUTO
         1 001072   400000 376003                    ANQ     -131072,DU
         1 001073   400000 676003                    ERQ     -131072,DU
         1 001074   001077 600000 1                  TZE     s:6845
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:64   

      478     6844    2                 CALL BUILD_CHAN  ALTRET(TABLE_ERR10);

   6844  1 001075   001724 701000 1                  TSX1    BUILD_CHAN
         1 001076   001674 702000 1                  TSX2    TABLE_ERR10

      479     6845    2              CALL ITC$CHECK_DT(PCB) ALTRET (CMD_ERR);

   6845  1 001077   200426 630500                    EPPR0   PCB,,AUTO
         1 001100   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001101   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001102   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001103   000000 701000 xent               TSX1    ITC$CHECK_DT
         1 001104   001547 702000 1                  TSX2    CMD_ERR

      480     6846    2              CALL ITD$DISKTAPE(TABLE_PTR$);

   6846  1 001105   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 001106   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001107   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001110   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001111   000000 701000 xent               TSX1    ITD$DISKTAPE
         1 001112   000000 011000                    NOP     0
         1 001113   001533 710000 1                  TRA     s:6943

      481     6847        /**/
      482     6848    2            CASE (%ITS_UNIT);

      483     6849    3              IF ( NI$IOM$(0) = ADDR(NIL) ) THEN DO;

   6849  1 001114   000000 236000 xsym               LDQ     NI$IOM$
         1 001115   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 001116   001121 601000 1                  TNZ     s:6853

      484     6850    3                 CALL DEFAULT_IOM;         /* BUILD ONE IOM ON PORT ZERO         */

   6850  1 001117   001675 701000 1                  TSX1    DEFAULT_IOM
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:65   
         1 001120   000000 011000                    NOP     0

      485     6851    3                 END;

      486     6852        /**/
      487     6853    2              IF (~CHAN_BUILT) THEN

   6853  1 001121   200407 236100                    LDQ     CHAN_BUILT,,AUTO
         1 001122   400000 376003                    ANQ     -131072,DU
         1 001123   400000 676003                    ERQ     -131072,DU
         1 001124   001127 600000 1                  TZE     s:6855

      488     6854    2                 CALL BUILD_CHAN  ALTRET(TABLE_ERR10);

   6854  1 001125   001724 701000 1                  TSX1    BUILD_CHAN
         1 001126   001674 702000 1                  TSX2    TABLE_ERR10

      489     6855    2              CALL ITC$CHECK_UNIT(PCB) ALTRET (CMD_ERR);

   6855  1 001127   200426 630500                    EPPR0   PCB,,AUTO
         1 001130   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001131   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001132   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001133   000000 701000 xent               TSX1    ITC$CHECK_UNIT
         1 001134   001547 702000 1                  TSX2    CMD_ERR

      490     6856    2              CALL ITU$UNIT(TABLE_PTR$);

   6856  1 001135   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 001136   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001137   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001140   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001141   000000 701000 xent               TSX1    ITU$UNIT
         1 001142   000000 011000                    NOP     0
         1 001143   001533 710000 1                  TRA     s:6943

      491     6857    2            CASE (%ITS_AP);
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:66   

      492     6858    3              IF ( NI$IOM$(0) = ADDR(NIL) ) THEN DO;

   6858  1 001144   000000 236000 xsym               LDQ     NI$IOM$
         1 001145   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 001146   001151 601000 1                  TNZ     s:6862

      493     6859    3                 CALL DEFAULT_IOM;         /* BUILD ONE IOM ON PORT ZERO         */

   6859  1 001147   001675 701000 1                  TSX1    DEFAULT_IOM
         1 001150   000000 011000                    NOP     0

      494     6860    3                 END;

      495     6861        /**/
      496     6862    2              IF (~CHAN_BUILT) THEN

   6862  1 001151   200407 236100                    LDQ     CHAN_BUILT,,AUTO
         1 001152   400000 376003                    ANQ     -131072,DU
         1 001153   400000 676003                    ERQ     -131072,DU
         1 001154   001157 600000 1                  TZE     s:6864

      497     6863    2                 CALL BUILD_CHAN ALTRET(TABLE_ERR10);

   6863  1 001155   001724 701000 1                  TSX1    BUILD_CHAN
         1 001156   001674 702000 1                  TSX2    TABLE_ERR10

      498     6864    2              CALL ITC$CHECK_AP(PCB) ALTRET (CMD_ERR);

   6864  1 001157   200426 630500                    EPPR0   PCB,,AUTO
         1 001160   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001161   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001162   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001163   000000 701000 xent               TSX1    ITC$CHECK_AP
         1 001164   001547 702000 1                  TSX2    CMD_ERR

      499     6865    2              CALL ITA$AP(TABLE_PTR$);
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:67   

   6865  1 001165   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 001166   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001167   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001170   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001171   000000 701000 xent               TSX1    ITA$AP
         1 001172   000000 011000                    NOP     0
         1 001173   001533 710000 1                  TRA     s:6943

      500     6866    2            CASE (%ITS_FEP);

      501     6867    3              IF ( NI$IOM$(0) = ADDR(NIL) ) THEN DO;

   6867  1 001174   000000 236000 xsym               LDQ     NI$IOM$
         1 001175   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 001176   001201 601000 1                  TNZ     s:6871

      502     6868    3                 CALL DEFAULT_IOM;         /* BUILD ONE IOM ON PORT ZERO         */

   6868  1 001177   001675 701000 1                  TSX1    DEFAULT_IOM
         1 001200   000000 011000                    NOP     0

      503     6869    3                 END;

      504     6870        /**/
      505     6871    2              IF (~CHAN_BUILT) THEN

   6871  1 001201   200407 236100                    LDQ     CHAN_BUILT,,AUTO
         1 001202   400000 376003                    ANQ     -131072,DU
         1 001203   400000 676003                    ERQ     -131072,DU
         1 001204   001207 600000 1                  TZE     s:6873

      506     6872    2                 CALL BUILD_CHAN  ALTRET(TABLE_ERR10);

   6872  1 001205   001724 701000 1                  TSX1    BUILD_CHAN
         1 001206   001674 702000 1                  TSX2    TABLE_ERR10

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:68   
      507     6873    2              CALL ITC$CHECK_FEP(PCB) ALTRET (CMD_ERR0);

   6873  1 001207   200426 630500                    EPPR0   PCB,,AUTO
         1 001210   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001211   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001212   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001213   000000 701000 xent               TSX1    ITC$CHECK_FEP
         1 001214   001543 702000 1                  TSX2    CMD_ERR0

      508     6874    2              CALL ITF$FEP(TABLE_PTR$);

   6874  1 001215   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 001216   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001217   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001220   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001221   000000 701000 xent               TSX1    ITF$FEP
         1 001222   000000 011000                    NOP     0
         1 001223   001533 710000 1                  TRA     s:6943

      509     6875        /**/
      510     6876    2            CASE (%ITS_OPC);

      511     6877    2              IF (NI$IOM$(0) = ADDR(NIL)) THEN

   6877  1 001224   000000 236000 xsym               LDQ     NI$IOM$
         1 001225   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 001226   001231 601000 1                  TNZ     s:6879

      512     6878    2                 CALL DEFAULT_IOM;        /* Build IOM on Port 0 */

   6878  1 001227   001675 701000 1                  TSX1    DEFAULT_IOM
         1 001230   000000 011000                    NOP     0

      513     6879    2              IF (~CHAN_BUILT) THEN

   6879  1 001231   200407 236100                    LDQ     CHAN_BUILT,,AUTO
         1 001232   400000 376003                    ANQ     -131072,DU
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:69   
         1 001233   400000 676003                    ERQ     -131072,DU
         1 001234   001237 600000 1                  TZE     s:6881

      514     6880    2                 CALL BUILD_CHAN ALTRET (TABLE_ERR10);

   6880  1 001235   001724 701000 1                  TSX1    BUILD_CHAN
         1 001236   001674 702000 1                  TSX2    TABLE_ERR10

      515     6881    2              CALL ITO$CHECK_OD (PCB, TABLE_PTR$) ALTRET (CMD_ERR0);

   6881  1 001237   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 001240   200451 450500                    STP0    SEGP$+4,,AUTO
         1 001241   200426 631500                    EPPR1   PCB,,AUTO
         1 001242   200450 451500                    STP1    SEGP$+3,,AUTO
         1 001243   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001244   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 001245   000000 701000 xent               TSX1    ITO$CHECK_OD
         1 001246   001543 702000 1                  TSX2    CMD_ERR0
         1 001247   001533 710000 1                  TRA     s:6943

      516     6882        /**/
      517     6883    2            CASE (%ITS_CONSOLE);

      518     6884    3              IF ( NI$IOM$(0) = ADDR(NIL) ) THEN DO;

   6884  1 001250   000000 236000 xsym               LDQ     NI$IOM$
         1 001251   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 001252   001255 601000 1                  TNZ     s:6888

      519     6885    3                 CALL DEFAULT_IOM;         /* BUILD ONE IOM ON PORT ZERO         */

   6885  1 001253   001675 701000 1                  TSX1    DEFAULT_IOM
         1 001254   000000 011000                    NOP     0

      520     6886    3                 END;

      521     6887        /**/
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:70   
      522     6888    2              IF (~CHAN_BUILT) THEN

   6888  1 001255   200407 236100                    LDQ     CHAN_BUILT,,AUTO
         1 001256   400000 376003                    ANQ     -131072,DU
         1 001257   400000 676003                    ERQ     -131072,DU
         1 001260   001263 600000 1                  TZE     s:6890

      523     6889    2                 CALL BUILD_CHAN  ALTRET(TABLE_ERR10);

   6889  1 001261   001724 701000 1                  TSX1    BUILD_CHAN
         1 001262   001674 702000 1                  TSX2    TABLE_ERR10

      524     6890    2              CALL ITC$CHECK_CON(PCB) ALTRET (CMD_ERR);

   6890  1 001263   200426 630500                    EPPR0   PCB,,AUTO
         1 001264   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001265   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001266   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001267   000000 701000 xent               TSX1    ITC$CHECK_CON
         1 001270   001547 702000 1                  TSX2    CMD_ERR

      525     6891    2              CALL ITS$SYSCON(TABLE_PTR$);

   6891  1 001271   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 001272   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001273   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001274   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001275   000000 701000 xent               TSX1    ITS$SYSCON
         1 001276   000000 011000                    NOP     0
         1 001277   001533 710000 1                  TRA     s:6943

      526     6892        /**/
      527     6893    2            CASE (%ITS_MON);

      528     6894    2              MON$ = PCB.TEXT$;

   6894  1 001300   200426 236100                    LDQ     PCB,,AUTO
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:71   
         1 001301   200416 756100                    STQ     MON$,,AUTO

      529     6895    2              MONNCHAR = PCB.NCHARS;

   6895  1 001302   200437 235100                    LDA     PCB+9,,AUTO
         1 001303   200417 755100                    STA     MONNCHAR,,AUTO

      530     6896    2              READ_BUF_VECT.PTR$ = PINCRW(READ_BUF_VECT.PTR$,(MONNCHAR+3)/4);

   6896  1 001304   200417 236100                    LDQ     MONNCHAR,,AUTO
         1 001305   000003 036007                    ADLQ    3,DL
         1 001306   000004 506007                    DIV     4,DL
         1 001307   000022 736000                    QLS     18
         1 001310   200415 036100                    ADLQ    READ_BUF_VECT+1,,AUTO
         1 001311   200415 756100                    STQ     READ_BUF_VECT+1,,AUTO

      531     6897    2              READ_BUF_VECT.BOUND = READ_BUF_VECT.BOUND -(((MONNCHAR+3)/4)*4);

   6897  1 001312   200417 236100                    LDQ     MONNCHAR,,AUTO
         1 001313   000003 036007                    ADLQ    3,DL
         1 001314   000004 506007                    DIV     4,DL
         1 001315   200450 756100                    STQ     SEGP$+3,,AUTO
         1 001316   200414 236100                    LDQ     READ_BUF_VECT,,AUTO
         1 001317   000020 772000                    QRL     16
         1 001320   200451 756100                    STQ     SEGP$+4,,AUTO
         1 001321   200450 336100                    LCQ     SEGP$+3,,AUTO
         1 001322   000002 736000                    QLS     2
         1 001323   200451 036100                    ADLQ    SEGP$+4,,AUTO
         1 001324   000020 736000                    QLS     16
         1 001325   200414 676100                    ERQ     READ_BUF_VECT,,AUTO
         1 001326   000034 376000 xsym               ANQ     B_VECTNIL+28
         1 001327   200414 656100                    ERSQ    READ_BUF_VECT,,AUTO

      532     6898    2              PCB.TEXT$ = READ_BUF_VECT.PTR$;

   6898  1 001330   200415 236100                    LDQ     READ_BUF_VECT+1,,AUTO
         1 001331   200426 756100                    STQ     PCB,,AUTO
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:72   
         1 001332   001533 710000 1                  TRA     s:6943

      533     6899    2            CASE (%ITS_END);

      534     6900    2               IF (NOT AARDCONFOUND) THEN CALL ITE$ERROR (%E$NOAARDCON);

   6900  1 001333   000000 234000 xsym               SZN     AARDCONFOUND
         1 001334   001341 604000 1                  TMI     s:6901

   6900  1 001335   000026 630400 2                  EPPR0   22
         1 001336   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001337   000000 701000 xent               TSX1    ITE$ERROR
         1 001340   000000 011000                    NOP     0

      535     6901    2              IF (NI$IOM$(0) = ADDR(NIL)) THEN CALL DEFAULT_IOM;

   6901  1 001341   000000 236000 xsym               LDQ     NI$IOM$
         1 001342   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 001343   001346 601000 1                  TNZ     s:6902

   6901  1 001344   001675 701000 1                  TSX1    DEFAULT_IOM
         1 001345   000000 011000                    NOP     0

      536     6902    2              IF (~CHAN_BUILT) THEN

   6902  1 001346   200407 236100                    LDQ     CHAN_BUILT,,AUTO
         1 001347   400000 376003                    ANQ     -131072,DU
         1 001350   400000 676003                    ERQ     -131072,DU
         1 001351   001354 600000 1                  TZE     s:6904

      537     6903    2                 CALL BUILD_CHAN  ALTRET(TABLE_ERR10);

   6903  1 001352   001724 701000 1                  TSX1    BUILD_CHAN
         1 001353   001674 702000 1                  TSX2    TABLE_ERR10

      538     6904    3              IF (MON$ = ADDR(NIL)) THEN DO; /* DEFAULT                          */

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:73   
   6904  1 001354   200416 236100                    LDQ     MON$,,AUTO
         1 001355   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 001356   001367 601000 1                  TNZ     s:6909

      539     6905    3                 MON$ = B$DS4$;

   6905  1 001357   000000 236000 xsym               LDQ     B$DS4$
         1 001360   200416 756100                    STQ     MON$,,AUTO

      540     6906    3                 MON$ -> IT$TEXT = 'MON ';

   6906  1 001361   200416 470500                    LDP0    MON$,,AUTO
         1 001362   040100 100400                    MLR     fill='040'O
         1 001363   000023 000004 0                  ADSC9   P_PCB+19                 cn=0,n=4
         1 001364   000000 000120                    ADSC9   0,,PR0                   cn=0,n=80

      541     6907    3                 MONNCHAR = 3;

   6907  1 001365   000003 235007                    LDA     3,DL
         1 001366   200417 755100                    STA     MONNCHAR,,AUTO

      542     6908    3                 END;

      543     6909    2              PCB.TEXT$ = MON$;

   6909  1 001367   200426 756100                    STQ     PCB,,AUTO

      544     6910    2              PCB.NCHARS = MONNCHAR;

   6910  1 001370   200417 235100                    LDA     MONNCHAR,,AUTO
         1 001371   200437 755100                    STA     PCB+9,,AUTO

      545     6911    2              CALL X$PARSE (PCB) ALTRET (PARSE_ERR);

   6911  1 001372   200426 630500                    EPPR0   PCB,,AUTO
         1 001373   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001374   200450 630500                    EPPR0   SEGP$+3,,AUTO
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:74   
         1 001375   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001376   000000 701000 xent               TSX1    X$PARSE
         1 001377   001556 702000 1                  TSX2    PARSE_ERR

      546     6912    2              CALL ITC$CHECK_MON(PCB) ALTRET (CMD_ERR);

   6912  1 001400   200426 630500                    EPPR0   PCB,,AUTO
         1 001401   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001402   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001403   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001404   000000 701000 xent               TSX1    ITC$CHECK_MON
         1 001405   001547 702000 1                  TSX2    CMD_ERR

      547     6913    2              CALL ITM$MON(TABLE_PTR$);

   6913  1 001406   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 001407   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001410   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001411   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001412   000000 701000 xent               TSX1    ITM$MON
         1 001413   000000 011000                    NOP     0

      548     6914    2              IT_OUTDEV = IT_MINIQ_ME;

   6914  1 001414   000000 235000 xsym               LDA     IT_MINIQ_ME
         1 001415   000000 755000 xsym               STA     IT_OUTDEV

      549     6915    2              IT_ECHODEV = IT_OUTDEV;      /* OUTPUT ON CONSOLE ONLY             */

   6915  1 001416   000000 755000 xsym               STA     IT_ECHODEV

      550     6916    2              CALL ITK$WRAPUP(TABLE_PTR$,CALL_VOLINIT);

   6916  1 001417   200406 630500                    EPPR0   CALL_VOLINIT,,AUTO
         1 001420   200451 450500                    STP0    SEGP$+4,,AUTO
         1 001421   200410 631500                    EPPR1   TABLE_PTR$,,AUTO
         1 001422   200450 451500                    STP1    SEGP$+3,,AUTO
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:75   
         1 001423   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001424   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 001425   000000 701000 xent               TSX1    ITK$WRAPUP
         1 001426   000000 011000                    NOP     0

      551     6917        /**/
      552     6918    2              PTR$ = TABLE_PTR$;           /* RELEASE UNUSED SPACE               */

   6918  1 001427   200410 236100                    LDQ     TABLE_PTR$,,AUTO
         1 001430   200411 756100                    STQ     PTR$,,AUTO

      553     6919    2              I = %TIGRHI - %TIGRLO - (REPTR$.OFFSET/1024); /* PAGES TO RELEASE  */

   6919  1 001431   200411 236100                    LDQ     PTR$,,AUTO
         1 001432   000022 772000                    QRL     18
         1 001433   000012 772000                    QRL     10
         1 001434   000027 676000 xsym               ERQ     B_VECTNIL+23
         1 001435   000200 036007                    ADLQ    128,DL
         1 001436   200403 756100                    STQ     I,,AUTO

      554     6920    3              IF (I > 0) THEN DO J = 0 TO I-1;

   6920  1 001437   001465 604400 1                  TMOZ    s:6924

   6920  1 001440   200404 450100                    STZ     J,,AUTO
         1 001441   001462 710000 1                  TRA     s:6922+1

      555     6921    3                 CALL MME$WFVP(%MON_WSQ,%TIGRHI-J,0,GDS_ERR) ALTRET(TABLE_ERR);

   6921  1 001442   001007 235007                    LDA     519,DL
         1 001443   200404 135100                    SBLA    J,,AUTO
         1 001444   200450 755100                    STA     SEGP$+3,,AUTO
         1 001445   200412 630500                    EPPR0   GDS_ERR,,AUTO
         1 001446   200455 450500                    STP0    SEGP$+8,,AUTO
         1 001447   000027 236000 2                  LDQ     23
         1 001450   200454 756100                    STQ     SEGP$+7,,AUTO
         1 001451   200450 631500                    EPPR1   SEGP$+3,,AUTO
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:76   
         1 001452   200453 451500                    STP1    SEGP$+6,,AUTO
         1 001453   000005 236000 2                  LDQ     5
         1 001454   200452 756100                    STQ     SEGP$+5,,AUTO
         1 001455   200452 630500                    EPPR0   SEGP$+5,,AUTO
         1 001456   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 001457   000000 701000 xent               TSX1    MME$WFVP
         1 001460   001670 702000 1                  TSX2    TABLE_ERR

      556     6922    3                 END;

   6922  1 001461   200404 054100                    AOS     J,,AUTO
         1 001462   200404 236100                    LDQ     J,,AUTO
         1 001463   200403 116100                    CMPQ    I,,AUTO
         1 001464   001442 604000 1                  TMI     s:6921

      557     6923        /**/
      558     6924    2              CALL ITK$KILLTIGR;           /* GOOD BYE                           */

   6924  1 001465   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 001466   000000 701000 xent               TSX1    ITK$KILLTIGR
         1 001467   000000 011000                    NOP     0
         1 001470   001533 710000 1                  TRA     s:6943

      559     6925    2            CASE (%ITS_READ);

      560     6926    3              DO CASE (PCB.OUT$ -> OUT$BLK.SUBLK$(0) -> OUT$BLK.CODE);

   6926  1 001471   000003 471500                    LDP1    3,,PR0
         1 001472   100000 721100                    LXL1    0,,PR1
         1 001473   000005 101003                    CMPX1   5,DU
         1 001474   001476 602011 1                  TNC     s:6926+5,X1
         1 001475   001533 710000 1                  TRA     s:6943
         1 001476   001516 710000 1                  TRA     s:6935
         1 001477   001506 710000 1                  TRA     s:6930
         1 001500   001503 710000 1                  TRA     s:6928
         1 001501   001511 710000 1                  TRA     s:6932
         1 001502   001514 710000 1                  TRA     s:6934
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:77   

      561     6927    3               CASE (%ITS_ME);

      562     6928    3                 IT_INDEV = IT_MINIQ_ME;

   6928  1 001503   000000 235000 xsym               LDA     IT_MINIQ_ME
         1 001504   000000 755000 xsym               STA     IT_INDEV
         1 001505   001533 710000 1                  TRA     s:6943

      563     6929    3               CASE (%ITS_CR);

      564     6930    3                 IT_INDEV = IT_MINIQ_CR;

   6930  1 001506   000000 235000 xsym               LDA     IT_MINIQ_CR
         1 001507   000000 755000 xsym               STA     IT_INDEV
         1 001510   001533 710000 1                  TRA     s:6943

      565     6931    3               CASE (%ITS_TA);

      566     6932    3                 IT_INDEV = IT_MINIQ_TA;

   6932  1 001511   000000 235000 xsym               LDA     IT_MINIQ_TA
         1 001512   000000 755000 xsym               STA     IT_INDEV
         1 001513   001533 710000 1                  TRA     s:6943

      567     6933    3               CASE (%ITS_PA);

      568     6934    3                 IT_INDEV = IT_MINIQ_PA;

   6934  1 001514   000000 235000 xsym               LDA     IT_MINIQ_PA
         1 001515   000000 755000 xsym               STA     IT_INDEV

      569     6935    3               END;

   6935  1 001516   001533 710000 1                  TRA     s:6943

      570     6936    2            CASE (%ITS_CPU);
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:78   

      571     6937    2              CALL ITC$CHECK_CPU(PCB) ALTRET(CMD_ERR);

   6937  1 001517   200426 631500                    EPPR1   PCB,,AUTO
         1 001520   200450 451500                    STP1    SEGP$+3,,AUTO
         1 001521   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001522   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001523   000000 701000 xent               TSX1    ITC$CHECK_CPU
         1 001524   001547 702000 1                  TSX2    CMD_ERR

      572     6938    2              CALL ITP$PROC;

   6938  1 001525   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 001526   000000 701000 xent               TSX1    ITP$PROC
         1 001527   000000 011000                    NOP     0
         1 001530   001533 710000 1                  TRA     s:6943

      573     6939    2            CASE (%ITS_VOLINIT);

      574     6940    2              CALL_VOLINIT = YES;

   6940  1 001531   400000 236003                    LDQ     -131072,DU
         1 001532   200406 756100                    STQ     CALL_VOLINIT,,AUTO

      575     6941    2            END;

      576     6942        /**/
      577     6943    1           GOTO READ_CMD;

   6943  1 001533   000751 710000 1                  TRA     READ_CMD

   6943  1 001534                       READ_ERR     null
      578     6944        /**/
      579     6945    1   READ_ERR:;
      580     6946    1           CALL ITE$ERROR(%E$CMDREADERR);

   6946  1 001534   000031 630400 2                  EPPR0   25
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:79   
         1 001535   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001536   000000 701000 xent               TSX1    ITE$ERROR
         1 001537   000000 011000                    NOP     0

      581     6947    1           IT_INDEV = IT_MINIQ_ME;         /* READ CONSOLE                       */

   6947  1 001540   000000 235000 xsym               LDA     IT_MINIQ_ME
         1 001541   000000 755000 xsym               STA     IT_INDEV

      582     6948    1           GOTO READ_CMD;

   6948  1 001542   000751 710000 1                  TRA     READ_CMD

   6947  1 001543                       CMD_ERR0     null
      583     6949        /**/
      584     6950    1   CMD_ERR0:;
      585     6951    1           IF B$DS5$->IT$CMDWD=%ITS_ENDCMD THEN GOTO READ_CMD;

   6951  1 001543   000000 470400 xsym               LDP0    B$DS5$
         1 001544   000000 235100                    LDA     0,,PR0
         1 001545   000145 115007                    CMPA    101,DL
         1 001546   000751 600000 1                  TZE     READ_CMD

   6951  1 001547                       CMD_ERR      null
      586     6952    1   CMD_ERR:;
      587     6953    1           CALL ITE$ERROR(%E$TRYAGAIN);

   6953  1 001547   000033 630400 2                  EPPR0   27
         1 001550   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001551   000000 701000 xent               TSX1    ITE$ERROR
         1 001552   000000 011000                    NOP     0

      588     6954    1           IT_INDEV = IT_MINIQ_ME;

   6954  1 001553   000000 235000 xsym               LDA     IT_MINIQ_ME
         1 001554   000000 755000 xsym               STA     IT_INDEV

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:80   
      589     6955    1           GOTO READ_CMD;

   6955  1 001555   000751 710000 1                  TRA     READ_CMD

   6954  1 001556                       PARSE_ERR    null
      590     6956        /**/
      591     6957    1   PARSE_ERR:;
      592     6958    1           CALL ITE$ERROR (%E$PARSEERR1);

   6958  1 001556   000035 630400 2                  EPPR0   29
         1 001557   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001560   000000 701000 xent               TSX1    ITE$ERROR
         1 001561   000000 011000                    NOP     0

      593     6959        /**/
      594     6960    1           PARSEERR_TEXT.COUNT = SIZEC(PARSEERR_TEXT) - 1;

   6960  1 001562   026000 236003                    LDQ     11264,DU
         1 001563   200420 552140                    STBQ    PARSEERR_TEXT,'40'O,AUTO

      595     6961    1           PARSEERR_TEXT.RECORD = 'record ';

   6961  1 001564   040100 100400                    MLR     fill='040'O
         1 001565   000024 000007 0                  ADSC9   P_PCB+20                 cn=0,n=7
         1 001566   200420 200007                    ADSC9   PARSEERR_TEXT,,AUTO      cn=1,n=7

      596     6962    1           PARSEERR_TEXT.CHARACTER = ' character ';

   6962  1 001567   040100 100400                    MLR     fill='040'O
         1 001570   000026 000013 0                  ADSC9   P_PCB+22                 cn=0,n=11
         1 001571   200422 400013                    ADSC9   PARSEERR_TEXT+2,,AUTO    cn=2,n=11

      597     6963    1           CALL BINCHAR (PARSEERR_TEXT.REC#,((PCB.HI_CHAR/80)+1));

   6963  1 001572   200440 236100                    LDQ     PCB+10,,AUTO
         1 001573   000001 772000                    QRL     1
         1 001574   000050 506007                    DIV     40,DL
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:81   
         1 001575   000001 036007                    ADLQ    1,DL
         1 001576   000000 235003                    LDA     0,DU
         1 001577   200450 757100                    STAQ    SEGP$+3,,AUTO
         1 001600   000100 301500                    BTD
         1 001601   200450 000010                    NDSC9   SEGP$+3,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         1 001602   200422 030002                    NDSC9   PARSEERR_TEXT+2,,AUTO    cn=0,s=nosgn,sf=0,n=2

      598     6964    1           CALL BINCHAR (PARSEERR_TEXT.CHAR#,MOD(PCB.HI_CHAR,80));

   6964  1 001603   200440 236100                    LDQ     PCB+10,,AUTO
         1 001604   000044 737000                    LLS     36
         1 001605   000043 773000                    LRL     35
         1 001606   000120 507007                    DVF     80,DL
         1 001607   000000 235003                    LDA     0,DU
         1 001610   200450 757100                    STAQ    SEGP$+3,,AUTO
         1 001611   000100 301500                    BTD
         1 001612   200450 000010                    NDSC9   SEGP$+3,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         1 001613   200425 230002                    NDSC9   PARSEERR_TEXT+5,,AUTO    cn=1,s=nosgn,sf=0,n=2

      599     6965        /**/
      600     6966    1           CALL ITE$ERROR (%E$PARSEERR2,ADDR(PARSEERR_TEXT));

   6966  1 001614   200420 630500                    EPPR0   PARSEERR_TEXT,,AUTO
         1 001615   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001616   200450 631500                    EPPR1   SEGP$+3,,AUTO
         1 001617   200453 451500                    STP1    SEGP$+6,,AUTO
         1 001620   000037 236000 2                  LDQ     31
         1 001621   200452 756100                    STQ     SEGP$+5,,AUTO
         1 001622   200452 630500                    EPPR0   SEGP$+5,,AUTO
         1 001623   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 001624   000000 701000 xent               TSX1    ITE$ERROR
         1 001625   000000 011000                    NOP     0

      601     6967    1           I=PCB.HI_CHAR-MOD(PCB.HI_CHAR,80);

   6967  1 001626   200440 235100                    LDA     PCB+10,,AUTO
         1 001627   000043 773000                    LRL     35
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:82   
         1 001630   000120 507007                    DVF     80,DL
         1 001631   200450 756100                    STQ     SEGP$+3,,AUTO
         1 001632   200440 236100                    LDQ     PCB+10,,AUTO
         1 001633   200450 136100                    SBLQ    SEGP$+3,,AUTO
         1 001634   200403 756100                    STQ     I,,AUTO

      602     6968    1           GORCHBUF=PINCRC(PCB.TEXT$,I)->IT$TEXT;

   6968  1 001635   200426 470500                    LDP0    PCB,,AUTO
         1 001636   040000 100506                    MLR     fill='040'O
         1 001637   000000 000120                    ADSC9   0,Q,PR0                  cn=0,n=80
         1 001640   000000 000120 xsym               ADSC9   GORCHBUF                 cn=0,n=80

      603     6969    1           CALL ITR$WRITE(VECTOR(GORCHBUF),SIZEC(GORCHBUF)-1);

   6969  1 001641   000043 630400 2                  EPPR0   35
         1 001642   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 001643   000000 701000 xent               TSX1    ITR$WRITE
         1 001644   000000 011000                    NOP     0

      604     6970    1           GORCHBUF=' ';

   6970  1 001645   040000 100400                    MLR     fill='040'O
         1 001646   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 001647   000000 000120 xsym               ADSC9   GORCHBUF                 cn=0,n=80

      605     6971    1           CALL INSERT(GORCHBUF,MOD(PCB.HI_CHAR,80),1,'^');

   6971  1 001650   200440 235100                    LDA     PCB+10,,AUTO
         1 001651   000043 773000                    LRL     35
         1 001652   000120 507007                    DVF     80,DL
         1 001653   040006 100400                    MLR     fill='040'O
         1 001654   000045 000001 2                  ADSC9   37                       cn=0,n=1
         1 001655   000000 000001 xsym               ADSC9   GORCHBUF,Q               cn=0,n=1

      606     6972    1           CALL ITR$WRITE(VECTOR(GORCHBUF),SIZEC(GORCHBUF)-1);

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:83   
   6972  1 001656   000043 630400 2                  EPPR0   35
         1 001657   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 001660   000000 701000 xent               TSX1    ITR$WRITE
         1 001661   000000 011000                    NOP     0

      607     6973        /**/
      608     6974    1           GOTO CMD_ERR;

   6974  1 001662   001547 710000 1                  TRA     CMD_ERR

   6971  1 001663                       DS_ERR       null
      609     6975        /**/
      610     6976    1   DS_ERR: ;
      611     6977    1           CALL ITE$ERROR (%E$DSERR);

   6977  1 001663   000047 630400 2                  EPPR0   39
         1 001664   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001665   000000 701000 xent               TSX1    ITE$ERROR
         1 001666   000000 011000                    NOP     0

      612     6978    1           GOTO READ_CMD;

   6978  1 001667   000751 710000 1                  TRA     READ_CMD

      613     6979        /**/
      614     6980    1   TABLE_ERR:
      615     6981    1           CALL ITE$ERROR(%E$SGVPERR);

   6981  1 001670   000051 630400 2     TABLE_ERR    EPPR0   41
         1 001671   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001672   000000 701000 xent               TSX1    ITE$ERROR
         1 001673   000000 011000                    NOP     0

      616     6982    1   TABLE_ERR10:
      617     6983    1           GOTO READ_CMD;

   6983  1 001674   000751 710000 1     TABLE_ERR10  TRA     READ_CMD
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:84   

      618     6984        /**/
      619     6985        %EJECT;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:85   
      620     6986        /**/
      621     6987    1   DEFAULT_IOM: PROC;

   6987  1 001675   200446 741300       DEFAULT_IOM  STX1  ! SEGP$+1,,AUTO

      622     6988        /**/
      623     6989    2           PTR$ = B$DS5$;                  /* DO CHECK IOM FUNCTION              */

   6989  1 001676   000000 236000 xsym               LDQ     B$DS5$
         1 001677   200411 756100                    STQ     PTR$,,AUTO

      624     6990    2           PTR$ -> IT$CMDWD = %ITS_IOM;

   6990  1 001700   000001 235007                    LDA     1,DL
         1 001701   200411 470500                    LDP0    PTR$,,AUTO
         1 001702   000000 755100                    STA     0,,PR0

      625     6991    2           PTR$ = PINCRW(PTR$,SIZEW(IT$CMDWD));

   6991  1 001703   200411 236100                    LDQ     PTR$,,AUTO
         1 001704   000001 036003                    ADLQ    1,DU
         1 001705   200411 756100                    STQ     PTR$,,AUTO

      626     6992        /**/
      627     6993    2           PTR$ -> IT$IOM = NO;

   6993  1 001706   200411 470500                    LDP0    PTR$,,AUTO
         1 001707   000000 450100                    STZ     0,,PR0
         1 001710   000001 450100                    STZ     1,,PR0

      628     6994    2           PTR$ -> IT$IOM.PORT# = IT_CONFIG.IOM.PORT;

   6994  1 001711   200411 470500                    LDP0    PTR$,,AUTO
         1 001712   000000 236000 xsym               LDQ     IT_CONFIG
         1 001713   000000 756100                    STQ     0,,PR0

      629     6995    2           CALL ITI$IOM(TABLE_PTR$);
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:86   

   6995  1 001714   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 001715   200450 450500                    STP0    SEGP$+3,,AUTO
         1 001716   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001717   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 001720   000000 701000 xent               TSX1    ITI$IOM
         1 001721   000000 011000                    NOP     0

      630     6996    2           RETURN;

   6996  1 001722   200446 221300                    LDX1  ! SEGP$+1,,AUTO
         1 001723   000001 702211                    TSX2  ! 1,X1

      631     6997    2   END;
      632     6998        %EJECT;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:87   
      633     6999        /**/
      634     7000    1   BUILD_CHAN: PROC  ALTRET;

   7000  1 001724   200446 741300       BUILD_CHAN   STX1  ! SEGP$+1,,AUTO

      635     7001        /**/
      636     7002    2           CHAN_BUILT = YES;

   7002  1 001725   400000 236003                    LDQ     -131072,DU
         1 001726   200407 756100                    STQ     CHAN_BUILT,,AUTO

      637     7003        /**/
      638     7004    2           NI$CHT$ = TABLE_PTR$;      /* BUILD CHANNEL TABLES - ALL IOMS DONE    */

   7004  1 001727   200410 236100                    LDQ     TABLE_PTR$,,AUTO
         1 001730   000000 756000 xsym               STQ     NI$CHT$

      639     7005    2           CALL ITH$ALLOCATE(TABLE_PTR$,SIZEW(NI$CHT(0)) * NI_IOMS * %N_MAXCHANS)

   7005  1 001731   000000 235000 xsym               LDA     NI_IOMS
         1 001732   000010 735000                    ALS     8
         1 001733   200450 755100                    STA     SEGP$+3,,AUTO
         1 001734   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 001735   200453 450500                    STP0    SEGP$+6,,AUTO
         1 001736   200410 631500                    EPPR1   TABLE_PTR$,,AUTO
         1 001737   200452 451500                    STP1    SEGP$+5,,AUTO
         1 001740   200452 630500                    EPPR0   SEGP$+5,,AUTO
         1 001741   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 001742   000000 701000 xent               TSX1    ITH$ALLOCATE
         1 001743   002152 702000 1                  TSX2    BUILD_CHAN_ERR

      640     7006    2             ALTRET(BUILD_CHAN_ERR);
      641     7007        /**/
      642     7008    3           DO J = 0 TO (NI_IOMS * %N_MAXCHANS) - 1;

   7008  1 001744   200404 450100                    STZ     J,,AUTO
         1 001745   001757 710000 1                  TRA     s:7011+1
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:88   

      643     7009    3              NI$CHT$ -> NI$CHT(J) = NO;

   7009  1 001746   200404 235100                    LDA     J,,AUTO
         1 001747   000001 735000                    ALS     1
         1 001750   000000 470400 xsym               LDP0    NI$CHT$
         1 001751   000000 450105                    STZ     0,AL,PR0
         1 001752   000001 450105                    STZ     1,AL,PR0

      644     7010    3              NI$CHT$ -> NI$CHT.DQH$(J) = ADDR(NIL);

   7010  1 001753   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 001754   000000 470400 xsym               LDP0    NI$CHT$
         1 001755   000000 756105                    STQ     0,AL,PR0

      645     7011    3              END;

   7011  1 001756   200404 054100                    AOS     J,,AUTO
         1 001757   000000 236000 xsym               LDQ     NI_IOMS
         1 001760   000007 736000                    QLS     7
         1 001761   200404 116100                    CMPQ    J,,AUTO
         1 001762   001746 605400 1                  TPNZ    s:7009

      646     7012        /**/
      647     7013    3           IF NOT HW_IMX THEN DO I = 0 TO NI_IOMS-1; /* SET UP FAULT,SPINT CHANS */

   7013  1 001763   000000 234000 xsym               SZN     HW_IMX
         1 001764   002106 604000 1                  TMI     s:7038

   7013  1 001765   200403 450100                    STZ     I,,AUTO
         1 001766   002103 710000 1                  TRA     s:7036+1

      648     7014    3              NI$CHT$ -> NI$CHT.DQH$((I*%N_MAXCHANS)+1) = NI$IOM$(I);

   7014  1 001767   200403 235100                    LDA     I,,AUTO
         1 001770   000010 735000                    ALS     8
         1 001771   200403 720100                    LXL0    I,,AUTO
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:89   
         1 001772   000000 236010 xsym               LDQ     NI$IOM$,X0
         1 001773   000000 470400 xsym               LDP0    NI$CHT$
         1 001774   000002 756105                    STQ     2,AL,PR0

      649     7015    3              NI$CHT$ -> NI$CHT.POSTER((I*%N_MAXCHANS)+1) = ENTADDR(NIF$FAULT);

   7015  1 001775   200403 235100                    LDA     I,,AUTO
         1 001776   000010 735000                    ALS     8
         1 001777   000000 636000 xent               EAQ     NIF$FAULT
         1 002000   000000 470400 xsym               LDP0    NI$CHT$
         1 002001   000003 756105                    STQ     3,AL,PR0

      650     7016    4              IF NOT HW_IOP THEN DO;

   7016  1 002002   000000 234000 xsym               SZN     HW_IOP
         1 002003   002054 604000 1                  TMI     s:7032

      651     7017    4                 DQH$ = TABLE_PTR$;

   7017  1 002004   200410 236100                    LDQ     TABLE_PTR$,,AUTO
         1 002005   200444 756100                    STQ     DQH$,,AUTO

      652     7018    4                 CALL ITH$ALLOCATE(TABLE_PTR$,SIZEW(NI$DQH)) ALTRET(BUILD_CHAN_ERR);

   7018  1 002006   000053 236000 2                  LDQ     43
         1 002007   200451 756100                    STQ     SEGP$+4,,AUTO
         1 002010   200410 630500                    EPPR0   TABLE_PTR$,,AUTO
         1 002011   200450 450500                    STP0    SEGP$+3,,AUTO
         1 002012   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 002013   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 002014   000000 701000 xent               TSX1    ITH$ALLOCATE
         1 002015   002152 702000 1                  TSX2    BUILD_CHAN_ERR

      653     7019    4                 DQH$ -> NI$DQH = NI$DQH_C;     /*  set to constant inited struct*/

   7019  1 002016   200444 470500                    LDP0    DQH$,,AUTO
         1 002017   000100 100400                    MLR     fill='000'O
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:90   
         1 002020   000000 000110 xsym               ADSC9   NI$DQH_C                 cn=0,n=72
         1 002021   000000 000110                    ADSC9   0,,PR0                   cn=0,n=72

      654     7020        /*            DQH$ -> NI$DQH.FL$ = ADDR(NIL);         */
      655     7021        /*            DQH$ -> NI$DQH.IO$ = ADDR(NIL);         */
      656     7022        /*            DQH$ -> NI$DQH.SQH$ = ADDR(NIL);        */
      657     7023        /*            DQH$ -> NI$DQH.MPC$ = ADDR(NIL);        */
      658     7024    4                 DQH$ -> NI$DQH.MBX$ = PINCRW (NI$IOM$(I) -> NI$IOM.MBX$,

   7024  1 002022   200403 720100                    LXL0    I,,AUTO
         1 002023   000000 471410 xsym               LDP1    NI$IOM$,X0
         1 002024   100002 236100                    LDQ     2,,PR1
         1 002025   000020 036003                    ADLQ    16,DU
         1 002026   000021 756100                    STQ     17,,PR0

      659     7025    4                   SIZEW(NI$MBX(0)) * 4);
      660     7026    4                 DQH$ -> NI$DQH.IOSTATUS$ = ADDR(NIL);

   7026  1 002027   000001 236000 xsym               LDQ     B_VECTNIL+1
         1 002030   000016 756100                    STQ     14,,PR0

      661     7027    4                 DQH$ -> NI$DQH.IOCHAN.IOM = I;

   7027  1 002031   200403 236100                    LDQ     I,,AUTO
         1 002032   000031 736000                    QLS     25
         1 002033   000001 676100                    ERQ     1,,PR0
         1 002034   000600 376003                    ANQ     384,DU
         1 002035   000001 656100                    ERSQ    1,,PR0

      662     7028    4                 DQH$ -> NI$DQH.IOCHAN.CHANNEL = 4;

   7028  1 002036   000001 236100                    LDQ     1,,PR0
         1 002037   000054 376000 2                  ANQ     44
         1 002040   000004 276003                    ORQ     4,DU
         1 002041   000001 756100                    STQ     1,,PR0

      663     7029    4                 NI$CHT$ -> NI$CHT.DQH$((I*%N_MAXCHANS)+4) = DQH$;
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:91   
              7029                          /* WRAPAROUND CHANNEL */

   7029  1 002042   200403 235100                    LDA     I,,AUTO
         1 002043   000010 735000                    ALS     8
         1 002044   200444 236100                    LDQ     DQH$,,AUTO
         1 002045   000000 471400 xsym               LDP1    NI$CHT$
         1 002046   100010 756105                    STQ     8,AL,PR1

      664     7030    4                 NI$CHT$ -> NI$CHT.POSTER((I*%N_MAXCHANS)+4) = ENTADDR(NIL);

   7030  1 002047   200403 235100                    LDA     I,,AUTO
         1 002050   000010 735000                    ALS     8
         1 002051   000002 236000 xsym               LDQ     B_VECTNIL+2
         1 002052   000000 471400 xsym               LDP1    NI$CHT$
         1 002053   100011 756105                    STQ     9,AL,PR1

      665     7031    4                 END;

      666     7032    3              NI$CHT$ -> NI$CHT.DQH$((I*%N_MAXCHANS)+6) = NI$IOM$(I);

   7032  1 002054   200403 235100                    LDA     I,,AUTO
         1 002055   000010 735000                    ALS     8
         1 002056   200403 720100                    LXL0    I,,AUTO
         1 002057   000000 236010 xsym               LDQ     NI$IOM$,X0
         1 002060   000000 470400 xsym               LDP0    NI$CHT$
         1 002061   000014 756105                    STQ     12,AL,PR0

      667     7033    3              NI$CHT$ -> NI$CHT.POSTER ((I*%N_MAXCHANS)+6) = ENTADDR(NIF$SPEC);

   7033  1 002062   200403 235100                    LDA     I,,AUTO
         1 002063   000010 735000                    ALS     8
         1 002064   000000 636000 xent               EAQ     NIF$SPEC
         1 002065   000000 470400 xsym               LDP0    NI$CHT$
         1 002066   000015 756105                    STQ     13,AL,PR0

      668     7034    3              NI$CHT$ -> NI$CHT.DQH$((I*%N_MAXCHANS)+7) = NI$IOM$(I);
              7034                       /* SCRATCHPAD ACCESS CHANNEL */
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:92   

   7034  1 002067   200403 235100                    LDA     I,,AUTO
         1 002070   000010 735000                    ALS     8
         1 002071   200403 720100                    LXL0    I,,AUTO
         1 002072   000000 236010 xsym               LDQ     NI$IOM$,X0
         1 002073   000000 470400 xsym               LDP0    NI$CHT$
         1 002074   000016 756105                    STQ     14,AL,PR0

      669     7035    3              NI$CHT$ -> NI$CHT.POSTER((I*%N_MAXCHANS)+7) = ENTADDR(NIF$SAC);

   7035  1 002075   200403 235100                    LDA     I,,AUTO
         1 002076   000010 735000                    ALS     8
         1 002077   000000 636000 xent               EAQ     NIF$SAC
         1 002100   000000 470400 xsym               LDP0    NI$CHT$
         1 002101   000017 756105                    STQ     15,AL,PR0

      670     7036    3              END;

   7036  1 002102   200403 054100                    AOS     I,,AUTO
         1 002103   200403 236100                    LDQ     I,,AUTO
         1 002104   000000 116000 xsym               CMPQ    NI_IOMS
         1 002105   001767 604000 1                  TMI     s:7014

      671     7037        /**/
      672     7038    3           IF NOT HW_IMX THEN DO; /* IOS packets set up in ITW for the RPM */

   7038  1 002106   000000 234000 xsym               SZN     HW_IMX
         1 002107   002126 604000 1                  TMI     s:7048

      673     7039    3              J = ((BITBIN(%MBX_BASE) +

   7039  1 002110   000000 236000 xsym               LDQ     NI_IOMS
         1 002111   001400 402007                    MPY     768,DL
         1 002112   002523 036007                    ADLQ    1363,DL
         1 002113   000100 506007                    DIV     64,DL
         1 002114   000006 736000                    QLS     6
         1 002115   200404 756100                    STQ     J,,AUTO
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:93   

      674     7040    3                ((NI_IOMS-1) * BITBIN(%MBX_OFFSET)) +
      675     7041    3                (%N_MAXCHANS * SIZEW(NI$MBX(0))) +
      676     7042    3                %FLTBUF_SIZE +
      677     7043    3                %SPECBUF_SIZE + 63)/64)*64;    /* IOSTAT BLOCK BASE                 */
      678     7044    3              J = ((J + 7)/8)*8;              /* IOSTAT BLOCKS START ON MOD 8 BOUND */

   7044  1 002116   000007 036007                    ADLQ    7,DL
         1 002117   000010 506007                    DIV     8,DL
         1 002120   000003 736000                    QLS     3
         1 002121   200404 756100                    STQ     J,,AUTO

      679     7045    3              NI$FQ$ -> NI$FQ.HD$ = PINCRW(B$REAL$,J);

   7045  1 002122   000022 736000                    QLS     18
         1 002123   000000 036000 xsym               ADLQ    B$REAL$
         1 002124   000000 470400 xsym               LDP0    NI$FQ$
         1 002125   000002 756100                    STQ     2,,PR0

      680     7046    3              END;

      681     7047        /**/
      682     7048    2           IF HW_IOP OR HW_IMX THEN   /* MSOS OR MCA */

   7048  1 002126   000000 234000 xsym               SZN     HW_IOP
         1 002127   002132 604000 1                  TMI     s:7049
         1 002130   000000 234000 xsym               SZN     HW_IMX
         1 002131   002150 605000 1                  TPL     s:7052

      683     7049    3              DO I=0 TO NI_IOMS-1;

   7049  1 002132   200403 450100                    STZ     I,,AUTO
         1 002133   002145 710000 1                  TRA     s:7051+1

      684     7050    3                 CALL ITM$MAINT(TABLE_PTR$,I) ALTRET(BUILD_CHAN_ERR);

   7050  1 002134   200403 630500                    EPPR0   I,,AUTO
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:94   
         1 002135   200451 450500                    STP0    SEGP$+4,,AUTO
         1 002136   200410 631500                    EPPR1   TABLE_PTR$,,AUTO
         1 002137   200450 451500                    STP1    SEGP$+3,,AUTO
         1 002140   200450 630500                    EPPR0   SEGP$+3,,AUTO
         1 002141   000020 631400 xsym               EPPR1   B_VECTNIL+16
         1 002142   000000 701000 xent               TSX1    ITM$MAINT
         1 002143   002152 702000 1                  TSX2    BUILD_CHAN_ERR

      685     7051    3                 END;

   7051  1 002144   200403 054100                    AOS     I,,AUTO
         1 002145   200403 236100                    LDQ     I,,AUTO
         1 002146   000000 116000 xsym               CMPQ    NI_IOMS
         1 002147   002134 604000 1                  TMI     s:7050

      686     7052    2           RETURN;

   7052  1 002150   200446 221300                    LDX1  ! SEGP$+1,,AUTO
         1 002151   000001 702211                    TSX2  ! 1,X1

      687     7053    2   BUILD_CHAN_ERR:
      688     7054    2           ALTRETURN;

   7054  1 002152   200446 221300       BUILD_CHAN_* LDX1  ! SEGP$+1,,AUTO
         1 002153   000000 702211                    TSX2  ! 0,X1

P_PCB
 Sect OctLoc
   0     000   000000 006014   000000 006000   000000 006014   000000 006014    ................
   0     004   000000 000000   000000 600000   000000 000000   040042 040042    ............ " "
   0     010   000000 040000   000000 000000   000000 000000   000000 006014    .. .............
   0     014   000000 006014   000000 000000                                    ........

(unnamed)
 Sect OctLoc
   0     016   777777 777760   303400 000000   001400 000000   777777 777767    ................
   0     022   115103 101040   115117 116040   162145 143157   162144 040040    MCA MON record
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:95   
   0     026   040143 150141   162141 143164   145162 040040                     character

(unnamed)
 Sect OctLoc
   2     000   000000 006000   000000 006000   000000 002000   000002 006000    ................
   2     004   000411 460000   000003 006000   000000 004000   000006 006000    ................
   2     010   777777 600037   003777 600000   000000 012000   000012 006000    ................
   2     014   000000 000064   000014 006000   000006 006000   000007 006000    ...4............
   2     020   000014 006000   000000 000234   000021 006000   000000 000155    ...............m
   2     024   000023 006000   000000 000243   000025 006000   000002 006000    ................
   2     030   000000 000156   000030 006000   000000 000157   000032 006000    ...n.......o....
   2     034   000000 000174   000034 006000   000000 000175   000036 006000    ...|.......}....
   2     040   000023 777640   000000 006000   000000 000117   000040 006000    ...........O. ..
   2     044   000042 006000   136040 040040   000000 000161   000046 006000    ."..^   ...q.&..
   2     050   000000 000165   000050 006000   000000 000022   000052 006000    ...u.(.......*..
   2     054   777600 777777                                                    ....
      689     7055    2   END;
      690     7056    1   END;

PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:96   
--  Include file information  --

   HF_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   IT$IOM.:E05TOU  cannot be made into a system file and is referenced.
   IT$CMDWD.:E05TOU  cannot be made into a system file and is referenced.
   UM_CP6.:E05TOU  is referenced.
   SS_CNTRLD_R.:E05TOU  cannot be made into a system file and is referenced.
   SS_CNTRL_R.:E05TOU  cannot be made into a system file and is referenced.
   SS_SCHED_R.:E05TOU  cannot be made into a system file and is referenced.
   I_SUBS_C.:E05TOU  is referenced.
   NI_DATA_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   IT_IDATA_R.:E05TOU  cannot be made into a system file and is referenced.
   NI$TABLES.:E05TOU  is referenced.
   N$REQ.:E05TOU  is referenced.
   NI_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   IT$CONFIG.:E05TOU  is referenced.
   IT_SUBS_C.:E05TOU  is referenced.
   IT_ERROR_C.:E05TOU  is referenced.
   B$MAP.:E05TOU  cannot be made into a system file and is referenced.
   MM_MACRO_M.:E05TOU  is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   MM$SYSGEN.:E05TOU  is referenced.
   M_INFO_C.:E05TOU  is referenced.
   MM_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure ITT$TIGR.
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:97   

 **** Variables and constants ****

  ****  Section 000 RoData ITT$TIGR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(504)   r     1 P_PCB

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   406-0-0/b BIT         r     1 CALL_VOLINIT             407-0-0/b BIT         r     1 CHAN_BUILT
   444-0-0/w PTR         r     1 DQH$                       3-0-0/w PTR         r     1 FEI$(0:255)
   412-0-0/w SBIN        r     1 GDS_ERR                  403-0-0/w SBIN        r     1 I
   404-0-0/w SBIN        r     1 J                        416-0-0/w PTR         r     1 MON$
   417-0-0/w SBIN        r     1 MONNCHAR                 405-0-0/w SBIN        r     1 NCHAR
   420-0-0/c STRC(207)   r     1 PARSEERR_TEXT            426-0-0/w STRC(504)   r     1 PCB
   411-0-0/w PTR         r     1 PTR$                     414-0-0/d STRC(72)    r     1 READ_BUF_VECT
   411-0-0/w STRC        r     1 REPTR$                   445-0-0/w PTR         r     1 SEGP$
   410-0-0/w PTR         r     1 TABLE_PTR$

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w BIT         r     1 AARDCONFOUND               0-0-0/w PTR         r     1 B$DS2$
     0-0-0/w PTR         r     1 B$DS3$                     0-0-0/w PTR         r     1 B$DS4$
     0-0-0/w PTR         r     1 B$DS5$                     0-0-0/w PTR         r     1 B$DS6$
     0-0-0/w PTR         r     1 B$DVTTBL$                  0-0-0/w PTR         r     1 B$IMX$
     0-0-0/w PTR         r     1 B$MPT$                     0-0-0/w PTR         r     1 B$REAL$
     0-0-0/w PTR         r     1 B$SEGTBL$                  0-0-0/w PTR         r     1 B$TIGR$
     0-0-0/w PTR         r     1 B$UPT$                     0-0-0/d STRC(540)   r     1 B_MONINFO
     0-0-0/w CHAR(80)    r     1 GORCHBUF                   0-0-0/w UBIN        r     1 HW_CHANS
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:98   
     0-0-0/w BIT         r     1 HW_EDAC                    0-0-0/w BIT         r     1 HW_EI
     0-0-0/w BIT         r     1 HW_ES                      0-0-0/w BIT         r     1 HW_EXT_STATUS
     0-0-0/w BIT         r     1 HW_FLTIC_OK                0-0-0/w BIT         r     1 HW_FRAG_PT
     0-0-0/w BIT         r     1 HW_IMX                     0-0-0/w BIT         r     1 HW_IOP
     0-0-0/w SBIN        r     1 HW_IOPTP_UNITS             0-0-0/w BIT         r     1 HW_LOAD_FW
     0-0-0/w BIT         r     1 HW_NORM_CLOCK              0-0-0/w BIT         r     1 HW_PROG_SCU
     0-0-0/w SBIN        r     1 HW_PTB_UNITS               0-0-0/w BIT         r     1 HW_SECT_PT
     0-0-0/w BIT         r     1 HW_SMART_CACHE             0-0-0/w BIT         r     1 HW_TIME_LEGAL
     0-0-0/w UBIN        r     1 HW_TYPE                    0-0-0/w BIT         r     1 HW_WSQ0PT
     0-0-0/d BIT (72)    r     1 H_DSMASK                   0-0-0/d BIT (72)    r     1 H_ENMASK
     0-0-0/w BIT         r     1 H_RPM_FLG                  0-0-0/w BIT         r     1 H_S1000_FLG
     0-0-0/w UBIN        r     1 ITN$TIGR_CMD               0-0-0/w UBIN        r     1 IT_BOOTFLAG
     0-0-0/d STRC(936)   r     1 IT_CONFIG                  0-0-0/w UBIN        r     1 IT_ECHODEV
     0-0-0/w PTR         r     1 IT_FEI$$                   0-0-0/w UBIN        r     1 IT_INDEV
     0-0-0/w UBIN        r     1 IT_MINIQ_CR                0-0-0/w UBIN        r     1 IT_MINIQ_ME
     0-0-0/w UBIN        r     1 IT_MINIQ_PA                0-0-0/w UBIN        r     1 IT_MINIQ_TA
     0-0-0/b UBIN(9)     r     1 IT_MMDSMAX(0:7)
     0-0-0/w UBIN        r     1 IT_OUTDEV                  0-0-0/w STRC(1800)  r     1 IT_PARTITION
     0-0-0/w BIT         r     1 IT_TIGRCUB                 0-0-0/w UBIN        r     1 IT_UFLG
     0-0-0/w PTR         r     1 MM_BYP$
     0-0-0/b UBIN(9)     r     1 MM_DSMAX(0:7)
     0-0-0/w PTR         r     1 N$DCT$$                    0-0-0/w PTR         r     1 N$FQ$
     0-0-0/w PTR         r     1 NI$CHT$                    0-0-0/w PTR         r     1 NI$CONNECT$
     0-0-0/w STRC(648)   r     1 NI$DQH_C                   0-0-0/w PTR         r     1 NI$DVT$(0:49)
     0-0-0/w PTR         r     1 NI$FQ$                     0-0-0/w PTR         r     1 NI$IBUF$
     0-0-0/w PTR         r     1 NI$IOM$(0:3)
     0-0-0/w PTR         r     1 NI$RP$                     0-0-0/w SBIN        r     1 NI_IOMS
     0-0-0/w UBIN        r     1 NI_NDVTS                   0-0-0/w SBIN        r     1 N_DCTXMAX
     0-0-0/w SBIN        r     1 N_NDPS
     0-0-0/w UBIN        r     1 S_PORTNR(0:7)

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC        r     1 B$MAP(0:1023)              0-0-0/w UBIN        r     1 IT$CMDWD
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:99   
     0-0-0/w STRC(72)    r     1 IT$IOM                     0-0-0/w CHAR(80)    r     1 IT$TEXT
     0-0-0/w PTR         r     1 N$DCT$(0:0)                0-0-0/w STRC(180)   r     1 N$FQ
     0-0-0/w STRC(72)    r     1 NI$CHT(0:127)              0-0-0/w STRC(144)   r     1 NI$CONNECT
     0-0-0/w STRC(648)   r     1 NI$DQH                     0-0-0/w STRC(2844)  r     1 NI$DVT
     0-0-0/w STRC(144)   r     1 NI$FQ                      0-0-0/w STRC(360)   r     1 NI$IBUF
     0-0-0/w STRC(252)   r     1 NI$IOM                     0-0-0/d STRC(144)   r     1 NI$MBX(0:63)
     0-0-0/w STRC(180)   r     1 NI$RP                      0-0-0/w STRC(144)   r     1 OUT$BLK
     0-0-0/w STRC        r     1 SEGPT(0:0)                 0-0-0/w STRC(72)    r     1 SEGTBL


   Procedure ITT$TIGR requires 1132 words for executable code.
   Procedure ITT$TIGR requires 302 words of local(AUTO) storage.

    No errors detected in file ITT$TIGR.:E05TSI    .
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:100  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:101  
          MINI XREF LISTING

AARDCONFOUND
      6328**DCL      6900>>IF
B$DS2$
      6203**DCL      6755>>ASSIGN   6759>>ASSIGN
B$DS3$
      6204**DCL      6740>>ASSIGN   6741>>ASSIGN
B$DS4$
      6205**DCL      6748>>ASSIGN   6753>>ASSIGN   6905>>ASSIGN
B$DS5$
      6206**DCL      6762>>ASSIGN   6951>>IF       6989>>ASSIGN
B$DS6$
      6207**DCL      6765>>ASSIGN
B$DVTTBL$
      6213**DCL      6701>>ASSIGN
B$IMX$
      6212**DCL      6808>>ASSIGN
B$MAP
       622**DCL      6583<<ASSIGN   6583>>ASSIGN   6584<<ASSIGN   6584>>ASSIGN   6690<<ASSIGN   6690>>ASSIGN
      6691<<ASSIGN   6691>>ASSIGN   6698<<ASSIGN   6698>>ASSIGN
B$MAP.SCTRL
       624**DCL       625--REDEF
B$MPT$
      6210**DCL      6583>>ASSIGN   6583>>ASSIGN   6584>>ASSIGN   6584>>ASSIGN   6690>>ASSIGN   6691>>ASSIGN
      6698>>ASSIGN
B$REAL$
      6209**DCL      7045>>ASSIGN
B$SEGTBL$
      6533**DCL      6534--IMP-PTR  6683>>ASSIGN   6683>>ASSIGN   6695>>ASSIGN   6695>>ASSIGN
B$TIGR$
      6208**DCL      6714>>ASSIGN   6768>>ASSIGN
B$UPT$
      6211**DCL      6693<>CALL
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:102  
BUILD_CHAN
      7000**PROC     6827--CALL     6844--CALL     6854--CALL     6863--CALL     6872--CALL     6880--CALL
      6889--CALL     6903--CALL
BUILD_CHAN_ERR IN PROCEDURE BUILD_CHAN
      7054**LABEL    7005--CALLALT  7018--CALLALT  7050--CALLALT
B_MONINFO.NOUSERS#
      5806**DCL      6712<<ASSIGN
CALL_VOLINIT
      6306**DCL      6578<<ASSIGN   6581<<ASSIGN   6715<>CALL     6916<>CALL     6940<<ASSIGN
CHAN_BUILT
      6307**DCL      6579<<ASSIGN   6831>>IF       6843>>IF       6853>>IF       6862>>IF       6871>>IF
      6879>>IF       6888>>IF       6902>>IF       7002<<ASSIGN
CMD_ERR
      6951**LABEL    6828--CALLALT  6835--CALLALT  6845--CALLALT  6855--CALLALT  6864--CALLALT  6890--CALLALT
      6912--CALLALT  6937--CALLALT  6974--GOTO
CMD_ERR0
      6947**LABEL    6873--CALLALT  6881--CALLALT
DEFAULT_IOM
      6987**PROC     6826--CALL     6840--CALL     6850--CALL     6859--CALL     6868--CALL     6878--CALL
      6885--CALL     6901--CALL
DQH$
      6531**DCL      7017<<ASSIGN   7019>>ASSIGN   7024>>ASSIGN   7026>>ASSIGN   7027>>ASSIGN   7028>>ASSIGN
      7029>>ASSIGN
DS_ERR
      6971**LABEL    6742--CALLALT  6749--CALLALT  6756--CALLALT  6763--CALLALT  6766--CALLALT
FEI$
      6302**DCL      6721<<ASSIGN   6723--ASSIGN
GDS_ERR
      6314**DCL      6742<>CALL     6749<>CALL     6756<>CALL     6763<>CALL     6766<>CALL     6772<>CALL
      6921<>CALL
GORCHBUF
      6329**DCL      6968<<ASSIGN   6969--CALL     6969--CALL     6970<<ASSIGN   6971<<CALLBLT  6972--CALL
      6972--CALL
HFB$ENAPORT
        45**DCL-ENT  6682--CALL
HFC$RCON
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:103  
        46**DCL-ENT  6681--CALL
HW_CHANS
      6201**DCL      6673<<ASSIGN
HW_EDAC
      6201**DCL      6625<<ASSIGN   6647<<ASSIGN
HW_EI
      6200**DCL      6667<<ASSIGN
HW_ES
      6200**DCL      6603<<ASSIGN
HW_EXT_STATUS
      6199**DCL      6601<<ASSIGN
HW_FLTIC_OK
      6201**DCL      6626<<ASSIGN   6648<<ASSIGN
HW_FRAG_PT
      6199**DCL      6662<<ASSIGN
HW_IMX
      6202**DCL      6674<<ASSIGN   6802>>IF       7013>>IF       7038>>IF       7048>>IF
HW_IOP
      6199**DCL      6619<<ASSIGN   6641<<ASSIGN   7016>>IF       7048>>IF
HW_IOPTP_UNITS
      6197**DCL      6657<<ASSIGN
HW_LOAD_FW
      6198**DCL      6615<<ASSIGN   6637<<ASSIGN
HW_NORM_CLOCK
      6201**DCL      6627<<ASSIGN   6649<<ASSIGN
HW_PROG_SCU
      6200**DCL      6605<<ASSIGN
HW_PTB_UNITS
      6197**DCL      6634<<ASSIGN   6656<<ASSIGN
HW_SECT_PT
      6198**DCL      6639<<ASSIGN   6661<<ASSIGN
HW_SMART_CACHE
      6200**DCL      6602<<ASSIGN
HW_TIME_LEGAL
      6198**DCL      6616<<ASSIGN   6638<<ASSIGN
HW_TYPE
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:104  
      6197**DCL      6591>>DOCASE
HW_WSQ0PT
      6198**DCL      6614<<ASSIGN   6636<<ASSIGN
H_DSMASK
      6170**DCL      6632<<ASSIGN   6654<<ASSIGN   6676<<ASSIGN
H_ENMASK
      6170**DCL      6631<<ASSIGN   6653<<ASSIGN   6675<<ASSIGN
H_RPM_FLG
      6172**DCL      6672<<ASSIGN   6680>>IF
H_S1000_FLG
      6172**DCL      6628<<ASSIGN   6650<<ASSIGN
I
      6303**DCL      6684<<ASSIGN   6685>>DOWHILE  6686<<ASSIGN   6686>>ASSIGN   6688<<ASSIGN   6688>>ASSIGN
      6689>>DOINDEX  6691>>ASSIGN   6696<<ASSIGN   6697>>DOWHILE  6698>>ASSIGN   6698>>ASSIGN   6699<<ASSIGN
      6699>>ASSIGN   6702<<ASSIGN   6704>>ASSIGN   6706<<ASSIGN   6706>>ASSIGN   6708>>ASSIGN   6709>>ASSIGN
      6720<<DOINDEX  6721>>ASSIGN   6744<<DOINDEX  6745>>ASSIGN   6770<<ASSIGN   6771>>DOWHILE  6772<>CALL
      6773<<ASSIGN   6773>>ASSIGN   6807<<DOINDEX  6808>>ASSIGN   6808>>ASSIGN   6919<<ASSIGN   6920>>IF
      6920>>DOINDEX  6967<<ASSIGN   6968>>ASSIGN   7013<<DOINDEX  7014>>ASSIGN   7014>>ASSIGN   7015>>ASSIGN
      7024>>ASSIGN   7027>>ASSIGN   7029>>ASSIGN   7030>>ASSIGN   7032>>ASSIGN   7032>>ASSIGN   7033>>ASSIGN
      7034>>ASSIGN   7034>>ASSIGN   7035>>ASSIGN   7049<<DOINDEX  7050<>CALL
IT$CMDWD
      6030**DCL      6951>>IF       6990<<ASSIGN   6991--ASSIGN
IT$IOM
      6039**DCL      6993<<ASSIGN
IT$IOM.PORT#
      6040**DCL      6994<<ASSIGN
IT$TEXT
      6042**DCL      6906<<ASSIGN   6968>>ASSIGN
ITA$AP
        33**DCL-ENT  6865--CALL
ITC$AUTOCONFIG
        19**DCL-ENT  6828--CALL
ITC$CHECK_AP
        27**DCL-ENT  6864--CALL
ITC$CHECK_CON
        24**DCL-ENT  6890--CALL
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:105  
ITC$CHECK_CPU
        26**DCL-ENT  6937--CALL
ITC$CHECK_DT
        21**DCL-ENT  6845--CALL
ITC$CHECK_FEP
        23**DCL-ENT  6873--CALL
ITC$CHECK_IOM
        20**DCL-ENT  6835--CALL
ITC$CHECK_MON
        25**DCL-ENT  6912--CALL
ITC$CHECK_UNIT
        22**DCL-ENT  6855--CALL
ITD$DISKTAPE
        30**DCL-ENT  6846--CALL
ITE$ERROR
        40**DCL-ENT  6823--CALL     6832--CALL     6900--CALL     6946--CALL     6953--CALL     6958--CALL
      6966--CALL     6977--CALL     6981--CALL
ITF$FEP
        32**DCL-ENT  6874--CALL
ITG$FIXCLOCK
        44**DCL-ENT  6679--CALL
ITH$ALLOCATE
        43**DCL-ENT  6777--CALL     6783--CALL     6791--CALL     6797--CALL     6804--CALL     7005--CALL
      7018--CALL
ITI$IOM
        29**DCL-ENT  6836--CALL     6995--CALL
ITK$KILLTIGR
        42**DCL-ENT  6716--CALL     6924--CALL
ITK$WRAPUP
        37**DCL-ENT  6715--CALL     6916--CALL
ITM$MAINT
        36**DCL-ENT  7050--CALL
ITM$MON
        35**DCL-ENT  6913--CALL
ITN$TIGR_CMD
      6217**DCL      5844--DCLINIT
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:106  
ITO$CHECK_OD
        28**DCL-ENT  6881--CALL
ITP$PROC
        41**DCL-ENT  6938--CALL
ITR$READ
        38**DCL-ENT  6812--CALL
ITR$WRITE
        39**DCL-ENT  6969--CALL     6972--CALL
ITS$SYSCON
        34**DCL-ENT  6891--CALL
ITU$UNIT
        31**DCL-ENT  6856--CALL
IT_BOOTFLAG
      6227**DCL      6581>>IF       6713>>IF
IT_CONFIG.IOM.PORT
      6263**DCL      6994>>ASSIGN
IT_ECHODEV
      6222**DCL      6915<<ASSIGN
IT_FEI$$
      6219**DCL      6723<<ASSIGN
IT_INDEV
      6220**DCL      6928<<ASSIGN   6930<<ASSIGN   6932<<ASSIGN   6934<<ASSIGN   6947<<ASSIGN   6954<<ASSIGN
IT_MINIQ_CR
      6224**DCL      6930>>ASSIGN
IT_MINIQ_ME
      6223**DCL      6914>>ASSIGN   6928>>ASSIGN   6947>>ASSIGN   6954>>ASSIGN
IT_MINIQ_PA
      6226**DCL      6934>>ASSIGN
IT_MINIQ_TA
      6225**DCL      6932>>ASSIGN
IT_MMDSMAX
      6229**DCL      6733<<ASSIGN
IT_OUTDEV
      6221**DCL      6914<<ASSIGN   6915>>ASSIGN
IT_PARTITION
      6232**DCL      6725<<ASSIGN
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:107  
IT_TIGRCUB
      1653**DCL      6694>>IF
IT_UFLG
      6228**DCL      6712>>ASSIGN
J
      6304**DCL      6689<<DOINDEX  6690>>ASSIGN   6690>>ASSIGN   6691>>ASSIGN   6691>>ASSIGN   6920<<DOINDEX
      6921>>CALL     7008<<DOINDEX  7009>>ASSIGN   7010>>ASSIGN   7039<<ASSIGN   7044<<ASSIGN   7044>>ASSIGN
      7045>>ASSIGN
MM$DESC.BOUND
       532**DCL       533--REDEF
MM$DESC.FLGS
       533**DCL       533--REDEF
MM$PPUT.USER#
       521**DCL       521--REDEF
MMC$MAPXLAT
        53**DCL-ENT  6693--CALL
MME$WFVP
        52**DCL-ENT  6921--CALL
MME$WGVP
        51**DCL-ENT  6772--CALL
MMH$GDS
        50**DCL-ENT  6742--CALL     6749--CALL     6756--CALL     6763--CALL     6766--CALL
MM_BYP$
       452**DCL       452--IMP-PTR
MM_DSMAX
       455**DCL      6733>>ASSIGN   6734<<ASSIGN   6735<<ASSIGN   6736<<ASSIGN   6737<<ASSIGN   6738<<ASSIGN
MON$
      6320**DCL      6731<<ASSIGN   6894<<ASSIGN   6904>>IF       6905<<ASSIGN   6906>>ASSIGN   6909>>ASSIGN
MONNCHAR
      6321**DCL      6895<<ASSIGN   6896>>ASSIGN   6897>>ASSIGN   6907<<ASSIGN   6910>>ASSIGN
N$DCT$
      1531**DCL      6745<<ASSIGN
N$DCT$$
      1397**DCL      1531--IMP-PTR  6740<<ASSIGN   6745>>ASSIGN
N$FQ
      1532**DCL      6797--CALL     6798<<ASSIGN
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:108  
N$FQ.GATE
      1532**DCL      6800<<ASSIGN
N$FQ.HD$
      1532**DCL      6799<<ASSIGN
N$FQ$
      1397**DCL      1532--IMP-PTR  6796<<ASSIGN   6798>>ASSIGN   6799>>ASSIGN   6800>>ASSIGN
N$REQ_INIT.BUFADDR
      1416**DCL      1417--REDEF    1417--REDEF
N$REQ_INIT.DLA.DRELADDR
      1408**DCL      1408--REDEF
N$REQ_INIT.DVE.EOMCHAR
      1445**DCL      1446--REDEF
N$REQ_INIT.EAINFO
      1439**DCL      1439--REDEF
N$REQ_INIT.EAINFOX
      1439**DCL      1440--REDEF
N$REQ_INIT.EVNTINFO
      1440**DCL      1440--REDEF
N$REQ_INIT.STATUS
      1421**DCL      1427--REDEF
NCHAR
      6305**DCL      6812<>CALL     6814>>ASSIGN
NI$CHT
      6108**DCL      7005--CALL     7009<<ASSIGN
NI$CHT.DQH$
      6108**DCL      7010<<ASSIGN   7014<<ASSIGN   7029<<ASSIGN   7032<<ASSIGN   7034<<ASSIGN
NI$CHT.POSTER
      6108**DCL      7015<<ASSIGN   7030<<ASSIGN   7033<<ASSIGN   7035<<ASSIGN
NI$CHT$
      1456**DCL      6108--IMP-PTR  7004<<ASSIGN   7009>>ASSIGN   7010>>ASSIGN   7014>>ASSIGN   7015>>ASSIGN
      7029>>ASSIGN   7030>>ASSIGN   7032>>ASSIGN   7033>>ASSIGN   7034>>ASSIGN   7035>>ASSIGN
NI$CONNECT
      6154**DCL      6777--CALL
NI$CONNECT.ADDRESS
      6154**DCL      6779<<ASSIGN
NI$CONNECT.CCW
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:109  
      6154**DCL      6780<<ASSIGN
NI$CONNECT.GATE
      6154**DCL      6778<<ASSIGN
NI$CONNECT$
      1456**DCL      6154--IMP-PTR  6776<<ASSIGN   6778>>ASSIGN   6779>>ASSIGN   6780>>ASSIGN
NI$DCT_C.DP
      1583**DCL      1590--REDEF    1593--REDEF    1594--REDEF    1596--REDEF    1596--REDEF    1597--REDEF
      1598--REDEF    1598--REDEF
NI$DCT_C.MPC.IOCHANX
      1591**DCL      1591--REDEF
NI$DQH
      6124**DCL      7018--CALL     7019<<ASSIGN
NI$DQH.IOCHAN.CHANNEL
      6127**DCL      7028<<ASSIGN
NI$DQH.IOCHAN.IOM
      6127**DCL      7027<<ASSIGN
NI$DQH.IOCHANX
      6126**DCL      6127--REDEF
NI$DQH.IOSTATUS$
      6131**DCL      7026<<ASSIGN
NI$DQH.MBX$
      6135**DCL      6136--REDEF    7024<<ASSIGN
NI$DQH_C
      1611**DCL      7019>>ASSIGN
NI$DQH_C.IOCHANX
      1613**DCL      1614--REDEF
NI$DQH_C.MBX$
      1622**DCL      1623--REDEF
NI$DVT
      6139**DCL      6705--ASSIGN
NI$DVT.MODEL
      6139**DCL      6703>>DOWHILE
NI$DVT.MPC
      6141**DCL      6142--REDEF
NI$DVT$
      1456**DCL      6704<<ASSIGN   6708<<ASSIGN
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:110  
NI$FQ
      1533**DCL      6791--CALL     6792<<ASSIGN
NI$FQ.GATE
      1533**DCL      6794<<ASSIGN
NI$FQ.HD$
      1533**DCL      6793<<ASSIGN   7045<<ASSIGN
NI$FQ$
      1457**DCL      1533--IMP-PTR  6790<<ASSIGN   6792>>ASSIGN   6793>>ASSIGN   6794>>ASSIGN   7045>>ASSIGN
NI$IBUF
      1533**DCL      6804--CALL     6805<<ASSIGN
NI$IBUF.ENT.BUF$
      1534**DCL      6808<<ASSIGN
NI$IBUF.GATE
      1534**DCL      6806<<ASSIGN
NI$IBUF$
      1457**DCL      1533--IMP-PTR  6803<<ASSIGN   6805>>ASSIGN   6806>>ASSIGN   6808>>ASSIGN
NI$IMXMBX_INIT.PAGED_BASE
      1467**DCL      1468--REDEF    1468--REDEF
NI$IMXMBX_INIT.SIZE
      1469**DCL      1469--REDEF
NI$IOM.MBX$
      6111**DCL      7024>>ASSIGN
NI$IOM$
      1479**DCL      6822>>IF       6839>>IF       6849>>IF       6858>>IF       6867>>IF       6877>>IF
      6884>>IF       6901>>IF       7014>>ASSIGN   7024>>ASSIGN   7032>>ASSIGN   7034>>ASSIGN
NI$IOSTAT_C.AESDCW
      1649**DCL      1649--REDEF
NI$MBX
      6099**DCL      7024--ASSIGN   7039--ASSIGN
NI$MBX.DCW.CONTROL.AE
      6104**DCL      6104--REDEF
NI$MBX.LPW.CONTROL.AE
      6100**DCL      6100--REDEF
NI$REQ_INIT.DCW
      1491**DCL      1494--REDEF
NI$REQ_INIT.DCW.TALLY
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:111  
      1492**DCL      1492--REDEF
NI$REQ_INIT.IDCW.EXTA
      1494**DCL      1494--REDEF
NI$REQ_INIT.PCW
      1496**DCL      1500--REDEF
NI$REQ_INIT.SEEK
      1501**DCL      1502--REDEF    1503--REDEF
NI$RP
      1535**DCL      6783--CALL     6784<<ASSIGN
NI$RP.GATE
      1535**DCL      6788<<ASSIGN
NI$RP.RC$
      1535**DCL      6786<<ASSIGN
NI$RP.RP$
      1535**DCL      6785<<ASSIGN
NI$RP.RQ$
      1535**DCL      6787<<ASSIGN
NI$RP$
      1505**DCL      1535--IMP-PTR  6782<<ASSIGN   6784>>ASSIGN   6785>>ASSIGN   6786>>ASSIGN   6787>>ASSIGN
      6788>>ASSIGN
NI$SQH_C.DOOR
      1634**DCL      1634--REDEF
NIF$FAULT
        55**DCL-ENT  7015--ASSIGN
NIF$SAC
        56**DCL-ENT  7035--ASSIGN
NIF$SPEC
        57**DCL-ENT  7033--ASSIGN
NI_IOMS
      1509**DCL      7005>>CALL     7008>>DOINDEX  7013>>DOINDEX  7039>>ASSIGN   7049>>DOINDEX
NI_MBX_INIT.DCW.CONTROL.AE
      1527**DCL      1527--REDEF
NI_MBX_INIT.LPW.CONTROL.AE
      1523**DCL      1523--REDEF
NI_NDVTS
      1530**DCL      6709<<ASSIGN
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:112  
N_DCTXMAX
      1505**DCL      6724<<ASSIGN
N_NDPS
      1505**DCL      6726<<ASSIGN
OUT$BLK.CODE
      6057**DCL      6818>>DOCASE   6926>>DOCASE
OUT$BLK.SUBLK$
      6082**DCL      6926>>DOCASE
PARSEERR_TEXT
      6322**DCL      6960--ASSIGN   6966--CALL
PARSEERR_TEXT.CHAR#
      6327**DCL      6964<<CALLBLT
PARSEERR_TEXT.CHARACTER
      6326**DCL      6962<<ASSIGN
PARSEERR_TEXT.COUNT
      6323**DCL      6960<<ASSIGN
PARSEERR_TEXT.REC#
      6325**DCL      6963<<CALLBLT
PARSEERR_TEXT.RECORD
      6324**DCL      6961<<ASSIGN
PARSE_ERR
      6954**LABEL    6816--CALLALT  6911--CALLALT
PCB
      6349**DCL      6757<<ASSIGN   6816<>CALL     6835<>CALL     6845<>CALL     6855<>CALL     6864<>CALL
      6873<>CALL     6881<>CALL     6890<>CALL     6911<>CALL     6912<>CALL     6937<>CALL
PCB.HI_CHAR
      6500**DCL      6963>>CALLBLT  6964>>CALLBLT  6967>>ASSIGN   6967>>ASSIGN   6971>>CALLBLT
PCB.NCHARS
      6496**DCL      6814<<ASSIGN   6895>>ASSIGN   6910<<ASSIGN
PCB.OUT$
      6362**DCL      6818>>DOCASE   6926>>DOCASE
PCB.TEXT$
      6350**DCL      6758<<ASSIGN   6894>>ASSIGN   6898<<ASSIGN   6909<<ASSIGN   6968>>ASSIGN
PCB.WKSZ
      6379**DCL      6760<<ASSIGN
PCB.WORK$
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:113  
      6358**DCL      6759<<ASSIGN
PTR$
      6309**DCL      6310--REDEF    6741<<ASSIGN   6748<<ASSIGN   6755<<ASSIGN   6762<<ASSIGN   6765<<ASSIGN
      6918<<ASSIGN   6989<<ASSIGN   6990>>ASSIGN   6991<<ASSIGN   6991>>ASSIGN   6993>>ASSIGN   6994>>ASSIGN
P_PCB
      5839**DCL      6757>>ASSIGN
READ_BUF_VECT
      6315**DCL      6750<<ASSIGN   6812<>CALL
READ_BUF_VECT.BOUND
      6316**DCL      6752<<ASSIGN   6897<<ASSIGN   6897>>ASSIGN
READ_BUF_VECT.FLAGSV
      6317**DCL      6751<<ASSIGN
READ_BUF_VECT.PTR$
      6319**DCL      6753<<ASSIGN   6758>>ASSIGN   6896<<ASSIGN   6896>>ASSIGN   6898>>ASSIGN
READ_CMD
      6812**LABEL    6824--GOTO     6833--GOTO     6943--GOTO     6948--GOTO     6951--GOTO     6955--GOTO
      6978--GOTO     6983--GOTO
READ_ERR
      6943**LABEL    6812--CALLALT
REPTR$.OFFSET
      6311**DCL      6919>>ASSIGN
REPTR$.SEGID
      6313**DCL      6742<>CALL     6749<>CALL     6756<>CALL     6763<>CALL     6766<>CALL
SEGP$
      6539**DCL      6540--IMP-PTR  6683<<ASSIGN   6685>>DOWHILE  6690>>ASSIGN   6691>>ASSIGN   6695<<ASSIGN
      6697>>DOWHILE  6698>>ASSIGN   6701<<ASSIGN   6703>>DOWHILE  6704>>ASSIGN   6705<<ASSIGN   6705>>ASSIGN
      6708>>ASSIGN
SEGPT.RPN
      6541**DCL      6685>>DOWHILE  6697>>DOWHILE
SEGTBL.NODES.WOFF
      6537**DCL      6683>>ASSIGN   6695>>ASSIGN
S_PORTNR
      4926**DCL      6682<>CALL
TABLE_ERR
      6981**LABEL    6772--CALLALT  6921--CALLALT
TABLE_ERR10
PL6.E3A0      #001=ITT$TIGR File=ITT$TIGR.:E05TSI                                TUE 07/29/97 23:08 Page:114  
      6983**LABEL    6777--CALLALT  6783--CALLALT  6791--CALLALT  6797--CALLALT  6804--CALLALT  6827--CALLALT
      6844--CALLALT  6854--CALLALT  6863--CALLALT  6872--CALLALT  6880--CALLALT  6889--CALLALT  6903--CALLALT
TABLE_PTR$
      6308**DCL      6714<<ASSIGN   6715<>CALL     6768<<ASSIGN   6776>>ASSIGN   6777<>CALL     6782>>ASSIGN
      6783<>CALL     6790>>ASSIGN   6791<>CALL     6796>>ASSIGN   6797<>CALL     6803>>ASSIGN   6804<>CALL
      6828<>CALL     6836<>CALL     6846<>CALL     6856<>CALL     6865<>CALL     6874<>CALL     6881<>CALL
      6891<>CALL     6913<>CALL     6916<>CALL     6918>>ASSIGN   6995<>CALL     7004>>ASSIGN   7005<>CALL
      7017>>ASSIGN   7018<>CALL     7050<>CALL
X$PARSE
        48**DCL-ENT  6816--CALL     6911--CALL

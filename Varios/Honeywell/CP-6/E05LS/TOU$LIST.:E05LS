VERSION E05

PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:1    
        1        1        /*M* TOU$LIST     DEckfile Editor Routine LIST Function */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7
        8        8        /*X* PLM=3,DCI=6,SQB=N,PRB=N,DTI=5,ENI=0,AND=Y,ECI=0,CSU=3,DIN=3,
        9        9             CTI=8,CRM=109,CRT=1,NLB=N,NTB=Y,MCL=110 */
       10       10
       11       11        /*P*  NAME:        TOU$LIST
       12       12              AUTHOR:      Scott S. Sheppard
       13       13              PURPOSE:     DEckfile Editor Routine LIST Function
       14       14              DESCRIPTION: This program is called when the LIST  function
       15       15                           is invoked by the CP-6 deckfile editor driver.
       16       16                           This program produces a  printout  listing the
       17       17                           contents of the deckfile.  This printout is of
       18       18                           the same  format as the one  which is produced
       19       19                           when the BUILD function is invoked.
       20       20              REFERENCE:   CP-6 Release C0M0
       21       21              LAST UPDATE: 10/27/83
       22       22        */
       23       23        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:2    
       24       24        /*F*  NAME:        TOU$LIST
       25       25              DESCRIPTION: Procedure Nesting Hierarchy
       26       26
       27       27              TOU$LIST: procedure
       28       28              TOU$L_SHOW_DCB: entry
       29       29                 L_INIT_DUP: procedure
       30       30                 L_COMMAND_SETUP: procedure
       31       31                 L_SHOW_DCB: procedure
       32       32                 L_LIST_DECKFILE: procedure ALTRET
       33       33                 L_LIST_MATCHES: procedure ALTRET
       34       34                 L_PRINT_LISTED_CATALOG: procedure
       35       35                 L_PRINT_MASTER_CATALOG: procedure
       36       36                 L_PRINT_LOG: procedure
       37       37
       38       38        */
       39       39        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:3    
       40       40        TOU$LIST: PROC ;
       41       41
       42       42        /* Include Files */
       43       43
       44       44           %INCLUDE TOU_DEER_M ;
       45     1455           %INCLUDE TOU_RQSTS_E ;
       46     1530           %INCLUDE TO_PERR_C ;
       47     2115           %INCLUDE XU_MACRO_C ;
       48     5221
       49     5222        /* Macros */
       50     5223
       51     5224           %DUP (STCLASS = SYMREF) ;
       52     5367           %BCD_B (STCLASS = "BASED (DUP.BCD_V.PTR$)") ;
       53     5379           %BCD_KEY (STCLASS = SYMREF) ;
       54     5393           %CATALOG_DATA (STCLASS = SYMREF) ;
       55     5407           %CATALOG_ENTRY_KEY (STCLASS = SYMREF) ;
       56     5421           %CATALOG_KEY (STCLASS = SYMREF) ;
       57     5435           %CATALOG_SEARCH_KEY (STCLASS = SYMREF) ;
       58     5447           %DKEND (STCLASS = SYMREF) ;
       59     5471           %ID (STCLASS = SYMREF) ;
       60     5488           %MASTER_DATA (STCLASS = SYMREF) ;
       61     5502           %LOG_B (STCLASS = "BASED (DUP.LOG_V.PTR$)") ;
       62     5528           %MASTER_ENTRY_KEY (STCLASS = SYMREF) ;
       63     5542           %MASTER_KEY (STCLASS = CONSTANT) ;
       64     5555           %OBJECT (STCLASS = SYMREF) ;
       65     5618           %OBJECT_KEY (STCLASS = SYMREF) ;
       66     5631           %SUBCATALOG_KEY (STCLASS = SYMREF) ;
       67     5645           %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:4    
       68     5646        /* Variables */
       69     5647
       70     5648    1      DCL BCD#                       UBIN WORD SYMREF ALIGNED ;
       71     5649    1      DCL COMPARE_LGTH               UBIN HALF HALIGNED ;
       72     5650    1      DCL LIST_ALL                   BIT (1) CALIGNED ;
       73     5651
       74     5652        /* External Entry Points */
       75     5653
       76     5654    1      DCL TOU$DU_SET_DF_FID                ENTRY ALTRET ;
       77     5655    1      DCL TOU$DU_OPEN_DF                   ENTRY ALTRET ;
       78     5656    1      DCL TOU$DU_CLOSE_DF                  ENTRY ALTRET ;
       79     5657
       80     5658    1      DCL TOU$DU_SET_LO_FID                ENTRY ALTRET ;
       81     5659    1      DCL TOU$DU_USER_WRITE                ENTRY ALTRET ;
       82     5660    1      DCL TOU$DU_PRINTER_WRITE             ENTRY ALTRET ;
       83     5661    1      DCL TOU$DU_GET_SITE                  ENTRY ALTRET ;
       84     5662
       85     5663    1      DCL TOU$DFU_DF_RD_MASTER_CONTROL     ENTRY ALTRET ;
       86     5664    1      DCL TOU$DFU_DF_RD_MASTER_ENTRY       ENTRY ALTRET ;
       87     5665    1      DCL TOU$DFU_DF_RD_CATALOG_CONTROL    ENTRY ALTRET ;
       88     5666    1      DCL TOU$DFU_DF_RD_SUBCATALOG         ENTRY ALTRET ;
       89     5667    1      DCL TOU$DFU_DF_RD_CATALOG_ENTRY      ENTRY ALTRET ;
       90     5668    1      DCL TOU$DFU_DF_RD_OBJECT             ENTRY ALTRET ;
       91     5669    1      DCL TOU$DFU_DF_RD_BCD_CARDS          ENTRY ALTRET ;
       92     5670    1      DCL TOU$DFU_DF_RD_LOG                ENTRY ALTRET ;
       93     5671    1      DCL TOU$DFU_DF_RD_REVISION           ENTRY ALTRET ;
       94     5672
       95     5673    1      DCL TOU$B_PRINT_DECK_LINE            ENTRY ALTRET ;
       96     5674           %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:5    
       97     5675        /* ********************
       98     5676           ********************
       99     5677           **  Main Program  **
      100     5678           ********************
      101     5679           ******************** */
      102     5680
      103     5681    1      CALL L_INIT_DUP ;
      104     5682    1      CALL L_COMMAND_SETUP ALTRET (ERROR_RETURN) ;
      105     5683    1      CALL L_SHOW_DCB ;
      106     5684    1      CALL TOU$DU_GET_SITE ALTRET (ERROR_RETURN) ;
      107     5685
      108     5686    1      CALL TOU$DU_OPEN_DF ALTRET (ERROR_RETURN) ;
      109     5687    1      IF LIST_ALL
      110     5688    1      THEN CALL L_LIST_DECKFILE ALTRET (ERROR_RETURN) ;
      111     5689    1      ELSE CALL L_LIST_MATCHES ALTRET (ERROR_RETURN) ;
      112     5690    1      CALL TOU$DU_CLOSE_DF ALTRET (ERROR_RETURN) ;
      113     5691
      114     5692        /* NORMAL_RETURN: */
      115     5693    1      DUP.MSG_CODE = %T$L_SUCCESS;
      116     5694    1      CALL TOU$DU_USER_WRITE ;
      117     5695    1      RETURN ;
      118     5696
      119     5697    1   ERROR_RETURN:
      120     5698    1      CALL TOU$DU_CLOSE_DF ;
      121     5699    1      DUP.MSG_CODE = %T$L_FAILURE;
      122     5700    1      CALL TOU$DU_USER_WRITE ;
      123     5701    1      RETURN ;
      124     5702
      125     5703        /* ********************
      126     5704           ********************
      127     5705           **  End Of  Main  **
      128     5706           ********************
      129     5707           ******************** */
      130     5708        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:6    
      131     5709        /*D*  NAME:        TOU$L_SHOW_DCB
      132     5710              ENTRY:
      133     5711              AUTHOR:      Scott S. Sheppard
      134     5712              INTERFACE:   L_SHOW_DCB
      135     5713              DESCRIPTION: This entry point calls procedure  L_SHOW_DCB  so that
      136     5714                           other modules that only access the deckfile (No IFAD)
      137     5715                           can show the fid of the deckfile being accessed.
      138     5716        */
      139     5717
      140     5718    1   TOU$L_SHOW_DCB: ENTRY ;
      141     5719
      142     5720    1      CALL L_SHOW_DCB ;
      143     5721    1      RETURN ;
      144     5722
      145     5723        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:7    
      146     5724        /*I*  NAME:        L_INIT_DUP
      147     5725              AUTHOR:      Scott S. Sheppard
      148     5726              PURPOSE:     Initilization
      149     5727              INTERFACE:   None called.
      150     5728              INPUT:       No system data accessed.
      151     5729              OUTPUT:      DUP - Deckfile Utility Parameter
      152     5730                           LIST_ALL - assume entire listing desired
      153     5731              DESCRIPTION: This procedure initializes parameters to
      154     5732                           appropriate starting values.
      155     5733        */
      156     5734
      157     5735    1   L_INIT_DUP: PROC ;
      158     5736
      159     5737        /* Code */
      160     5738
      161     5739    2      DUP.HDR_CODE = %H$LIST ;
      162     5740    2      DUP.LINE_VFC = %SKIP_WRITE ;
      163     5741    2      DUP.FORCE_NEW_PAGE = %TRUE ;
      164     5742    2      DUP.DF.ENTERED = %FALSE ;
      165     5743    2      DUP.DF.OPEN_TYPE = %READ_FILE ;
      166     5744    2      DUP.DF.REPORT_ERROR = %TRUE ;
      167     5745    2      DUP.DF.CLOSE_TYPE = %SAVE_FILE ;
      168     5746    2      LIST_ALL = %TRUE ;
      169     5747    2      RETURN ;
      170     5748
      171     5749    2   END L_INIT_DUP ;
      172     5750        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:8    
      173     5751        /*I*  NAME:        L_COMMAND_SETUP
      174     5752              AUTHOR:      Scott S. Sheppard
      175     5753              PURPOSE:     Sets up LIST Command
      176     5754              INTERFACE:   TOU$DU_SET_DF_FID
      177     5755              INPUT:       DUP.CMD$ - pointer to the parse control block
      178     5756              OUTPUT:      DUP.DF.HOLD_AREA
      179     5757                           DUP.DF.HOLD_AREA_LGTH
      180     5758                           DUP.DF.ENTERED
      181     5759                           LIST_ALL
      182     5760                           CATALOG_SEARCH_KEY
      183     5761                           COMPARE_LGTH
      184     5762              DESCRIPTION: This procedure sets up the LIST  command from the
      185     5763                           information entered by the user.    DUP.CMD$ is a
      186     5764                           pointer to a   parse control block  that contains
      187     5765                           the tokens entered by the user.
      188     5766                           COMMAND FORMS:
      189     5767              Case 1: L
      190     5768              Case 2: L <catalog search string>
      191     5769              Case 3: L FROM <deckfile fid>
      192     5770              Case 4: L <catalog search string> FROM <deckfile fid>
      193     5771        */
      194     5772        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:9    
      195     5773    1   L_COMMAND_SETUP: PROC ALTRET ;
      196     5774
      197     5775    2      DCL OUTBLK#                    UBIN WORD ALIGNED ;
      198     5776    2      DCL OUTBLK$                    PTR ALIGNED ;
      199     5777           %PARSE$OUT (STCLASS = BASED) ;
      200     5822           %PARSE$SYM (STCLASS = BASED) ;
      201     5860
      202     5861        /* Code */
      203     5862
      204     5863    3      DO OUTBLK# = 0 TO DUP.CMD$ -> OUT$BLK.NSUBLKS - 1 ;
      205     5864    3         OUTBLK$ = DUP.CMD$ -> OUT$BLK.SUBLK$(OUTBLK#) ;
      206     5865    4         DO CASE (OUTBLK$ -> OUT$BLK.CODE) ;
      207     5866    4            CASE (%CATSRCH_STRING) ;
      208     5867    4               LIST_ALL = %FALSE ;
      209     5868    4               CATALOG_SEARCH_KEY.DATA = OUTBLK$ -> OUT$SYM.TEXT ;
      210     5869    4               COMPARE_LGTH = OUTBLK$ -> OUT$SYM.COUNT ;
      211     5870    4            CASE (%DECKFILE_FID) ;
      212     5871    4               DUP.DF.ENTERED = %TRUE ;
      213     5872    4               DUP.HOLD_AREA = OUTBLK$ -> OUT$SYM.TEXT ;
      214     5873    4               DUP.HOLD_AREA_LGTH = OUTBLK$ -> OUT$SYM.COUNT ;
      215     5874    4               CALL TOU$DU_SET_DF_FID ALTRET (ERROR) ;
      216     5875    4            CASE (%ON) ;
      217     5876    4               DUP.TEMP.OPEN_TYPE = %ON ;
      218     5877    4            CASE (%OVER) ;
      219     5878    4               DUP.TEMP.OPEN_TYPE = %OVER ;
      220     5879    4            CASE (%INTO) ;
      221     5880    4               DUP.TEMP.OPEN_TYPE = %INTO ;
      222     5881    4            CASE (%DEST_FID) ;
      223     5882    4               DUP.HOLD_AREA = OUTBLK$ -> OUT$SYM.TEXT ;
      224     5883    4               DUP.HOLD_AREA_LGTH = OUTBLK$ -> OUT$SYM.COUNT ;
      225     5884    4               CALL TOU$DU_SET_LO_FID ALTRET (ERROR) ;
      226     5885    4         END /* CASE */ ;
      227     5886    3      END /* DO */ ;
      228     5887
      229     5888    2      IF DUP.DF.ENTERED
      230     5889    2      THEN /* FID set from DEER command */ ;
      231     5890    2      ELSE CALL TOU$DU_SET_DF_FID ALTRET (ERROR) ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:10   
      232     5891    2      RETURN ;
      233     5892
      234     5893    2   ERROR:
      235     5894    2      ALTRETURN ;
      236     5895
      237     5896    2   END L_COMMAND_SETUP ;
      238     5897        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:11   
      239     5898        /*I*  NAME:        L_SHOW_DCB
      240     5899              AUTHOR:      Scott S. Sheppard
      241     5900              PURPOSE:     Displays Deckfile DCB
      242     5901              INTERFACE:   TOU$DU_USER_WRITE
      243     5902              INPUT:       T$SHOW_DF    - display deckfile message constant
      244     5903              OUTPUT:      DUP.MSG_CODE - message number
      245     5904              DESCRIPTION: This procedure displays the file identifier
      246     5905                           of the deckfile being accessed.
      247     5906        */
      248     5907
      249     5908    1   L_SHOW_DCB: PROC ;
      250     5909
      251     5910        /* Code */
      252     5911
      253     5912    2      DUP.MSG_CODE = %T$SHOW_DF ;
      254     5913    2      CALL TOU$DU_USER_WRITE ;
      255     5914    2      RETURN ;
      256     5915
      257     5916    2   END L_SHOW_DCB ;
      258     5917        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:12   
      259     5918        /*I*  NAME:        L_LIST_DECKFILE
      260     5919              AUTHORS:     Carl J. Eichert
      261     5920                           Scott S. Sheppard
      262     5921              PURPOSE:     L_LIST_DECKFILE
      263     5922              INTERFACE:   TOU$DFU_DF_RD_MASTER_CONTROL
      264     5923                           TOU$DFU_DF_RD_MASTER_ENTRY
      265     5924                           TOU$DFU_DF_RD_CATALOG_CONTROL
      266     5925                           TOU$DFU_DF_RD_SUBCATALOG
      267     5926                           TOU$DFU_DF_RD_CATALOG_ENTRY
      268     5927                           TOU$DFU_DF_RD_OBJECT
      269     5928                           TOU$DFU_DF_RD_BCD_CARDS
      270     5929                           L_SETUP_WRITE
      271     5930                           TOU$B_PRINT_DECK_LINE
      272     5931                           L_PRINT_LISTED_CATALOG
      273     5932                           L_PRINT_MASTER_CATALOG
      274     5933                           L_PRINT_LOG
      275     5934                           TOU$DU_USER_WRITE
      276     5935              INPUT:       CP-6 Deckfile Contents
      277     5936              OUTPUT:      DEER Edit Listing print lines
      278     5937              DESCRIPTION: This procedure lists the deckfile attributes.
      279     5938                           It is the driver for the listing of the file.
      280     5939                           This procedure loops, printing the deck lines
      281     5940                           in the inner loop, and the completed catalogs
      282     5941                           in the outer loop.   This procedure lists all
      283     5942                           catalogs in the deckfile.
      284     5943        */
      285     5944        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:13   
      286     5945    1   L_LIST_DECKFILE: PROC ALTRET ;
      287     5946
      288     5947        /* Code */
      289     5948
      290     5949    2      CALL TOU$DFU_DF_RD_MASTER_CONTROL ALTRET (ERROR) ;
      291     5950    2      CALL TOU$DFU_DF_RD_REVISION ALTRET (ERROR) ;
      292     5951    2      MASTER_ENTRY_KEY.DECK# = MASTER_DATA.DECK# ;
      293     5952    3      DO MASTER_ENTRY_KEY.ENTRY# = 1 TO MASTER_DATA.ENTRY_COUNT ;
      294     5953    3         DUP.FORCE_NEW_PAGE = %TRUE ;
      295     5954    3         CALL TOU$DFU_DF_RD_MASTER_ENTRY ALTRET (ERROR) ;
      296     5955    3         CALL TOU$DFU_DF_RD_CATALOG_CONTROL ALTRET (ERROR) ;
      297     5956    3         SUBCATALOG_KEY.DECK# = CATALOG_DATA.DECK# ;
      298     5957    3         CALL TOU$DFU_DF_RD_SUBCATALOG ALTRET (ERROR) ;
      299     5958    3         CATALOG_ENTRY_KEY.DECK# = CATALOG_DATA.DECK# ;
      300     5959    4         DO CATALOG_ENTRY_KEY.ENTRY# = 1 TO CATALOG_DATA.ENTRY_COUNT ;
      301     5960    4            CALL TOU$DFU_DF_RD_CATALOG_ENTRY ALTRET (ERROR) ;
      302     5961    4            CALL TOU$DFU_DF_RD_OBJECT ALTRET (ERROR) ;
      303     5962    4            BCD_KEY.DECK# = OBJECT.DECK# ;
      304     5963    4            BCD# = OBJECT.TOTAL_COUNT - OBJECT.BINARY_COUNT - 1 ;
      305     5964    4            CALL TOU$DFU_DF_RD_BCD_CARDS ALTRET (ERROR) ;
      306     5965    4            CALL L_SETUP_WRITE ;
      307     5966    4            CALL TOU$B_PRINT_DECK_LINE ALTRET (ERROR) ;
      308     5967    4         END /* DO */ ;
      309     5968    3         CALL L_PRINT_LISTED_CATALOG ;
      310     5969    3      END /* DO */ ;
      311     5970    2      CALL L_PRINT_MASTER_CATALOG ;
      312     5971    2      CALL L_PRINT_LOG ;
      313     5972    2      RETURN ;
      314     5973
      315     5974    2   ERROR:
      316     5975    2      ALTRETURN ;
      317     5976
      318     5977    2   END L_LIST_DECKFILE ;
      319     5978        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:14   
      320     5979        /*I*  NAME:        L_LIST_MATCHES
      321     5980              AUTHOR:      Scott S. Sheppard
      322     5981              PURPOSE:     L_LIST_MATCHES
      323     5982              INTERFACE:   TOU$DFU_DF_RD_MASTER_CONTROL
      324     5983                           TOU$DFU_DF_RD_MASTER_ENTRY
      325     5984                           TOU$DFU_DF_RD_CATALOG_CONTROL
      326     5985                           TOU$DFU_DF_RD_SUBCATALOG
      327     5986                           TOU$DFU_DF_RD_CATALOG_ENTRY
      328     5987                           TOU$DFU_DF_RD_OBJECT
      329     5988                           TOU$DFU_DF_RD_BCD_CARDS
      330     5989                           L_SETUP_WRITE
      331     5990                           TOU$B_PRINT_DECK_LINE
      332     5991                           L_PRINT_LISTED_CATALOG
      333     5992                           L_PRINT_MASTER_CATALOG
      334     5993                           TOU$DU_USER_WRITE
      335     5994                           INDEX Function
      336     5995              INPUT:       CP-6 Deckfile Contents
      337     5996              OUTPUT:      DEER Edit Listing print lines
      338     5997              DESCRIPTION: This procedure lists the deckfile attributes.
      339     5998                           It is the driver for the listing of the file.
      340     5999                           This procedure loops, printing the deck lines
      341     6000                           in the inner loop, and the completed catalogs
      342     6001                           in the outer loop.   This procedure lists all
      343     6002                           catalogs whose record keys contain the search
      344     6003                           string.
      345     6004        */
      346     6005
      347     6006    1   L_LIST_MATCHES: PROC ALTRET ;
      348     6007
      349     6008    2      DCL POSITION                   UBIN WORD ALIGNED ;
      350     6009    2      DCL FOUND_AT_LEAST_1           BIT (1) CALIGNED ;
      351     6010           %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:15   
      352     6011        /* Code */
      353     6012
      354     6013           /* Loop through all catalogs checking for a match. */
      355     6014    2      CALL TOU$DFU_DF_RD_REVISION ALTRET (ERROR) ;
      356     6015    2      FOUND_AT_LEAST_1 = %FALSE ;
      357     6016    2      CALL TOU$DFU_DF_RD_MASTER_CONTROL ALTRET (ERROR) ;
      358     6017    2      MASTER_ENTRY_KEY.DECK# = MASTER_DATA.DECK# ;
      359     6018    3      DO MASTER_ENTRY_KEY.ENTRY# = 1 TO MASTER_DATA.ENTRY_COUNT ;
      360     6019    3         DUP.FORCE_NEW_PAGE = %TRUE ;
      361     6020    3         CALL TOU$DFU_DF_RD_MASTER_ENTRY ALTRET (ERROR) ;
      362     6021    3         CALL INDEX (POSITION,
      363     6022    3                 SUBSTR (CATALOG_SEARCH_KEY.DATA, 0, COMPARE_LGTH),
      364     6023    3                 CATALOG_KEY.DATA, 0) WHENRETURN
      365     6024    4              DO ;
      366     6025    4                 FOUND_AT_LEAST_1 = %TRUE ;
      367     6026    4                 CALL TOU$DFU_DF_RD_CATALOG_CONTROL ALTRET (ERROR) ;
      368     6027    4                 SUBCATALOG_KEY.DECK# = CATALOG_DATA.DECK# ;
      369     6028    4                 CALL TOU$DFU_DF_RD_SUBCATALOG ALTRET (ERROR) ;
      370     6029    4                 CATALOG_ENTRY_KEY.DECK# = CATALOG_DATA.DECK# ;
      371     6030    5                 DO CATALOG_ENTRY_KEY.ENTRY# = 1 TO CATALOG_DATA.ENTRY_COUNT ;
      372     6031    5                    CALL TOU$DFU_DF_RD_CATALOG_ENTRY ALTRET (ERROR) ;
      373     6032    5                    CALL TOU$DFU_DF_RD_OBJECT ALTRET (ERROR) ;
      374     6033    5                    BCD_KEY.DECK# = OBJECT.DECK# ;
      375     6034    5                    BCD# = OBJECT.TOTAL_COUNT - OBJECT.BINARY_COUNT - 1 ;
      376     6035    5                    CALL TOU$DFU_DF_RD_BCD_CARDS ALTRET (ERROR) ;
      377     6036    5                    CALL L_SETUP_WRITE ;
      378     6037    5                    CALL TOU$B_PRINT_DECK_LINE ALTRET (ERROR) ;
      379     6038    5                 END /* DO */ ;
      380     6039    4                 CALL L_PRINT_LISTED_CATALOG ;
      381     6040    4              END /* WHENRETURN */ ;
      382     6041    3      END /* DO */ ;
      383     6042           %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:16   
      384     6043        /* any matches? */
      385     6044    2      IF FOUND_AT_LEAST_1
      386     6045    2      THEN RETURN ;
      387     6046    3      ELSE DO ;
      388     6047    3              DUP.MSG_CODE = %E$LLM_NO_MATCHES ;
      389     6048    3              CATALOG_KEY.DATA = CATALOG_SEARCH_KEY.DATA ;
      390     6049    3              CALL TOU$DU_USER_WRITE ;
      391     6050    3   ERROR:
      392     6051    3              ALTRETURN ;
      393     6052    3           END /* ELSE */ ;
      394     6053
      395     6054    2   END L_LIST_MATCHES ;
      396     6055        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:17   
      397     6056        /*I*  NAME:        L_SETUP_WRITE
      398     6057              AUTHOR:      Scott S. Sheppard
      399     6058              PURPOSE:     Assign Replacement Variables
      400     6059              INTERFACE:   None Called.
      401     6060              INPUT:       OBJECT.BCD.LIBRARY - used to determine GECALL or not
      402     6061                           OBJECT.BCD.CLASS   - used to determine ITR or MDR
      403     6062                           BCD_B(BCD#-1)      - $DKEND card saved
      404     6063                           H$LIST_ITR      T$B_ITR
      405     6064                           H$LIST_MDR      T$B_MDR
      406     6065                           H$LIST_PROG     T$B_GECALL
      407     6066              OUTPUT:      DUP.HDR_CODE  - set to correct heading
      408     6067                           DUP.MSG_CODE  - used to write messages
      409     6068                           ID.ID         - set for IDENT CODE field
      410     6069                           ID.REVISION  - set for REV field
      411     6070                           DKEND         - $DKEND Card Structure
      412     6071              DESCRIPTION: This procedure assigns variables needed values so
      413     6072                           that TOU$REPLACE  will insert proper  values  for
      414     6073                           the dummy ~strings.
      415     6074        */
      416     6075        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:18   
      417     6076    1   L_SETUP_WRITE: PROC ;
      418     6077
      419     6078        /* Code */
      420     6079
      421     6080    3      DO SELECT (OBJECT.BCD.LIBRARY) ;
      422     6081    3         SELECT ('HMPCJ1') ;
      423     6082    3         IF OBJECT.BCD.CLASS = 'I' | OBJECT.BCD.CLASS = 'F'
      424     6083    4         THEN DO ;
      425     6084    4                 IF OBJECT.BCD.CLASS = 'F'
      426     6085    4                 THEN ID.ID = SUBSTR (OBJECT_KEY.DATA, 7, 6) ;
      427     6086    4                 ELSE ID.ID = SUBSTR (OBJECT_KEY.DATA, 4, 6) ;
      428     6087    4                 DUP.HDR_CODE = %H$LIST_ITR ;
      429     6088    4                 DUP.MSG_CODE = %T$B_ITR ;
      430     6089    4              END /* THEN */ ;
      431     6090    4         ELSE DO ;
      432     6091    4                 ID.ID = SUBSTR (OBJECT_KEY.DATA, 4, 6) ;
      433     6092    4                 DUP.HDR_CODE = %H$LIST_MDR ;
      434     6093    4                 DUP.MSG_CODE = %T$B_MDR ;
      435     6094    4              END /* ELSE */ ;
      436     6095    3         SELECT ('HTND') ;
      437     6096    3         DUP.HDR_CODE = %H$LIST_PROG ;
      438     6097    3         DUP.MSG_CODE = %T$B_GECALL ;
      439     6098    3         SELECT ('HNIOA0') ;
      440     6099    3         ID.ID = 'DIPPER' ;
      441     6100    3         DUP.HDR_CODE = %H$LIST_NIO ;
      442     6101    3         DUP.MSG_CODE = %T$B_ITR ;
      443     6102    3      END /* SELECT */ ;
      444     6103    2      DKEND_ = BCD_B(BCD#-1) ;
      445     6104    2      ID.REVISION = DKEND.BCD.REVISION ;
      446     6105    2      RETURN ;
      447     6106
      448     6107    2   END L_SETUP_WRITE ;
      449     6108        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:19   
      450     6109        /*I*  NAME:        L_PRINT_LISTED_CATALOG
      451     6110              AUTHOR:      Scott S. Sheppard
      452     6111              PURPOSE:     PRINT_LISTED_CATALOG
      453     6112              INTERFACE:   TOU$DU_USER_WRITE
      454     6113                           TOU$DU_PRINTER_WRITE
      455     6114              INPUT:       T$B_CATALOG
      456     6115                           T$L_INFORM
      457     6116              OUTPUT:      DUP.MSG_CODE - integer message number
      458     6117              DESCRIPTION: This procedure adds the completed catalog message
      459     6118                           to the edit listing  by calling  TOU$DU_PRINTER_WRITE
      460     6119                           with the proper message numbers. The catalog info
      461     6120                           message is also displayed to the user.
      462     6121        */
      463     6122
      464     6123    1   L_PRINT_LISTED_CATALOG: PROC ;
      465     6124
      466     6125        /* Code */
      467     6126
      468     6127    2      DUP.MSG_CODE = %T$B_CATALOG ;
      469     6128    2      CALL TOU$DU_PRINTER_WRITE ;
      470     6129    2      DUP.MSG_CODE = %T$L_INFORM ;
      471     6130    2      IF DUP.BATCH_MODE
      472     6131    2      THEN ;
      473     6132    2      ELSE CALL TOU$DU_USER_WRITE ;
      474     6133    2      CALL TOU$DU_PRINTER_WRITE ;
      475     6134    2      RETURN ;
      476     6135
      477     6136    2   END L_PRINT_LISTED_CATALOG ;
      478     6137        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:20   
      479     6138        /*I*  NAME:        L_PRINT_MASTER_CATALOG
      480     6139              AUTHOR:      Scott S. Sheppard
      481     6140              PURPOSE:     Shows completed MASTER CATALOG entry
      482     6141              INTERFACE:   TOU$DU_USER_WRITE
      483     6142                           TOU$DU_PRINTER_WRITE
      484     6143              INPUT:       H$LIST_MC        - Header code for master catalog
      485     6144                           T$B_MASTER       - Master Catalog message code
      486     6145                           T$L_MC_INFORM    - Master catalog inform message code
      487     6146                           LINES_PER_PAGE   - Constant for max lines
      488     6147                           MASTER_KEY
      489     6148                           MASTER_ENTRY
      490     6149                           MASTER_DATA
      491     6150              OUTPUT:      CATALOG DATA - assigned so values can be displayed
      492     6151                           CATALOG_KEY  - assigned for display purposes
      493     6152                           DUP.HDR_CODE - assigned master catalog header
      494     6153                           DUP.MSG_CODE - assigned necessary message codes
      495     6154              DESCRIPTION: This procedure shows completed MASTER CATALOG
      496     6155                           at the end of the edit listing.
      497     6156        */
      498     6157        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:21   
      499     6158    1   L_PRINT_MASTER_CATALOG: PROC ;
      500     6159
      501     6160        /* Code */
      502     6161
      503     6162    2      DUP.HDR_CODE = %H$LIST_MC ;
      504     6163    2      DUP.FORCE_NEW_PAGE = %TRUE ;
      505     6164
      506     6165    2      CATALOG_KEY.DATA = MASTER_KEY.DATA ;
      507     6166    2      CATALOG_DATA     = MASTER_DATA ;
      508     6167
      509     6168    2      DUP.MSG_CODE = %T$B_MASTER ;
      510     6169    2      CALL TOU$DU_PRINTER_WRITE ;
      511     6170
      512     6171    2      DUP.MSG_CODE = %T$L_MC_INFORM ;
      513     6172    2      IF DUP.BATCH_MODE
      514     6173    2      THEN ;
      515     6174    2      ELSE CALL TOU$DU_USER_WRITE ;
      516     6175    2      CALL TOU$DU_PRINTER_WRITE ;
      517     6176    2      RETURN ;
      518     6177
      519     6178    2   END L_PRINT_MASTER_CATALOG ;
      520     6179        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:22   
      521     6180        /*I*  NAME:        L_PRINT_LOG
      522     6181              AUTHOR:      Scott S. Sheppard
      523     6182              PURPOSE:     Prints deckfile history log
      524     6183              INTERFACE:   TOU$DFU_DF_RD_LOG
      525     6184                           TOU$DU_PRINTER_WRITE
      526     6185                           TOU$DU_USER_WRITE
      527     6186              INPUT:       No system data accessed.
      528     6187              OUTPUT:      DUP.HDR_CODE
      529     6188                           DUP.FORCE_NEW_PAGE
      530     6189                           LOG#
      531     6190                           DUP.MSG_CODE
      532     6191              DESCRIPTION: This procedure appends a listing of the deckfile
      533     6192                           history log to the end of a full DEER listing.
      534     6193        */
      535     6194
      536     6195    1   L_PRINT_LOG: PROC ;
      537     6196
      538     6197    2      DCL LOG#   UBIN WORD SYMREF ALIGNED ;
      539     6198
      540     6199        /* Code */
      541     6200
      542     6201    2      DUP.HDR_CODE = %H$LIST_LOG ;
      543     6202    2      DUP.FORCE_NEW_PAGE = %TRUE ;
      544     6203    2      CALL TOU$DFU_DF_RD_LOG ALTRET (ERROR) ;
      545     6204    3      DO LOG# = 0 TO LOG_B.COUNT - 1 ;
      546     6205    3         DUP.MSG_CODE = LOG_B.ACCESSES.TYPE(LOG#) ;
      547     6206    3         CALL TOU$DU_PRINTER_WRITE ;
      548     6207    3      END /* DO */ ;
      549     6208    2      DUP.MSG_CODE = %T$L_LOG_INFORM ;
      550     6209    2      CALL TOU$DU_USER_WRITE ;
      551     6210    2   ERROR:
      552     6211    2      RETURN ;
      553     6212
      554     6213    2   END L_PRINT_LOG ;
      555     6214    1   END TOU$LIST ;

PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:23   
--  Include file information  --

   XU_MACRO_C.:E05TOU  is referenced.
   TO_PERR_C.:E05TOU  is referenced.
   TOU_RQSTS_E.:E05TOU  is referenced.
   TOU_DEER_M.:E05TOU  is referenced.
      No diagnostics issued in procedure TOU$LIST.

   Procedure TOU$LIST requires 547 words for executable code.
   Procedure TOU$LIST requires 14 words of local(AUTO) storage.

    No errors detected in file TOU$LIST.:E05TSI    .

PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:24   

 Object Unit name= TOU$LIST                                   File name= TOU$LIST.:E05TOU
 UTS= JUL 30 '97 06:46:23.40 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS     11     13  TOU$LIST
    1   Proc  even  none   547   1043  TOU$LIST

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes      Std        0  TOU$LIST
     1     47                  yes      Std        0  TOU$L_SHOW_DCB
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:25   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       0 TOU$DU_CLOSE_DF
 yes     yes           Std       0 TOU$DU_GET_SITE
 yes     yes           Std       0 TOU$DU_OPEN_DF
 yes     yes           Std       0 TOU$DU_USER_WRITE
 yes     yes           Std       0 TOU$DU_SET_DF_FID
 yes     yes           Std       0 TOU$DU_SET_LO_FID
 yes     yes           Std       0 TOU$DFU_DF_RD_MASTER_CONTROL
 yes     yes           Std       0 TOU$DFU_DF_RD_REVISION
 yes     yes           Std       0 TOU$DFU_DF_RD_BCD_CARDS
 yes     yes           Std       0 TOU$B_PRINT_DECK_LINE
 yes     yes           Std       0 TOU$DFU_DF_RD_SUBCATALOG
 yes     yes           Std       0 TOU$DFU_DF_RD_CATALOG_ENTRY
 yes     yes           Std       0 TOU$DFU_DF_RD_OBJECT
 yes     yes           Std       0 TOU$DFU_DF_RD_MASTER_ENTRY
 yes     yes           Std       0 TOU$DFU_DF_RD_CATALOG_CONTROL
 yes     yes           Std       0 TOU$DU_PRINTER_WRITE
 yes     yes           Std       0 TOU$DFU_DF_RD_LOG
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_INDEX
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:26   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     DUP                                   BCD_KEY                               CATALOG_DATA
     CATALOG_ENTRY_KEY                     CATALOG_KEY                           CATALOG_SEARCH_KEY
     DKEND                                 ID                                    MASTER_DATA
     MASTER_ENTRY_KEY                      OBJECT                                OBJECT_KEY
     SUBCATALOG_KEY                        BCD#                                  LOG#
     B_VECTNIL
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:27   


        1        1        /*M* TOU$LIST     DEckfile Editor Routine LIST Function */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7
        8        8        /*X* PLM=3,DCI=6,SQB=N,PRB=N,DTI=5,ENI=0,AND=Y,ECI=0,CSU=3,DIN=3,
        9        9             CTI=8,CRM=109,CRT=1,NLB=N,NTB=Y,MCL=110 */
       10       10
       11       11        /*P*  NAME:        TOU$LIST
       12       12              AUTHOR:      Scott S. Sheppard
       13       13              PURPOSE:     DEckfile Editor Routine LIST Function
       14       14              DESCRIPTION: This program is called when the LIST  function
       15       15                           is invoked by the CP-6 deckfile editor driver.
       16       16                           This program produces a  printout  listing the
       17       17                           contents of the deckfile.  This printout is of
       18       18                           the same  format as the one  which is produced
       19       19                           when the BUILD function is invoked.
       20       20              REFERENCE:   CP-6 Release C0M0
       21       21              LAST UPDATE: 10/27/83
       22       22        */
       23       23        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:28   
       24       24        /*F*  NAME:        TOU$LIST
       25       25              DESCRIPTION: Procedure Nesting Hierarchy
       26       26
       27       27              TOU$LIST: procedure
       28       28              TOU$L_SHOW_DCB: entry
       29       29                 L_INIT_DUP: procedure
       30       30                 L_COMMAND_SETUP: procedure
       31       31                 L_SHOW_DCB: procedure
       32       32                 L_LIST_DECKFILE: procedure ALTRET
       33       33                 L_LIST_MATCHES: procedure ALTRET
       34       34                 L_PRINT_LISTED_CATALOG: procedure
       35       35                 L_PRINT_MASTER_CATALOG: procedure
       36       36                 L_PRINT_LOG: procedure
       37       37
       38       38        */
       39       39        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:29   
       40       40        TOU$LIST: PROC ;

     40  1 000000   000000 700200 xent  TOU$LIST     TSX0  ! X66_AUTO_0
         1 000001   000016 000000                    ZERO    14,0

       41       41
       42       42        /* Include Files */
       43       43
       44       44           %INCLUDE TOU_DEER_M ;
       45     1455           %INCLUDE TOU_RQSTS_E ;
       46     1530           %INCLUDE TO_PERR_C ;
       47     2115           %INCLUDE XU_MACRO_C ;
       48     5221
       49     5222        /* Macros */
       50     5223
       51     5224           %DUP (STCLASS = SYMREF) ;
       52     5367           %BCD_B (STCLASS = "BASED (DUP.BCD_V.PTR$)") ;
       53     5379           %BCD_KEY (STCLASS = SYMREF) ;
       54     5393           %CATALOG_DATA (STCLASS = SYMREF) ;
       55     5407           %CATALOG_ENTRY_KEY (STCLASS = SYMREF) ;
       56     5421           %CATALOG_KEY (STCLASS = SYMREF) ;
       57     5435           %CATALOG_SEARCH_KEY (STCLASS = SYMREF) ;
       58     5447           %DKEND (STCLASS = SYMREF) ;
       59     5471           %ID (STCLASS = SYMREF) ;
       60     5488           %MASTER_DATA (STCLASS = SYMREF) ;
       61     5502           %LOG_B (STCLASS = "BASED (DUP.LOG_V.PTR$)") ;
       62     5528           %MASTER_ENTRY_KEY (STCLASS = SYMREF) ;
       63     5542           %MASTER_KEY (STCLASS = CONSTANT) ;
       64     5555           %OBJECT (STCLASS = SYMREF) ;
       65     5618           %OBJECT_KEY (STCLASS = SYMREF) ;
       66     5631           %SUBCATALOG_KEY (STCLASS = SYMREF) ;
       67     5645           %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:30   
       68     5646        /* Variables */
       69     5647
       70     5648    1      DCL BCD#                       UBIN WORD SYMREF ALIGNED ;
       71     5649    1      DCL COMPARE_LGTH               UBIN HALF HALIGNED ;
       72     5650    1      DCL LIST_ALL                   BIT (1) CALIGNED ;
       73     5651
       74     5652        /* External Entry Points */
       75     5653
       76     5654    1      DCL TOU$DU_SET_DF_FID                ENTRY ALTRET ;
       77     5655    1      DCL TOU$DU_OPEN_DF                   ENTRY ALTRET ;
       78     5656    1      DCL TOU$DU_CLOSE_DF                  ENTRY ALTRET ;
       79     5657
       80     5658    1      DCL TOU$DU_SET_LO_FID                ENTRY ALTRET ;
       81     5659    1      DCL TOU$DU_USER_WRITE                ENTRY ALTRET ;
       82     5660    1      DCL TOU$DU_PRINTER_WRITE             ENTRY ALTRET ;
       83     5661    1      DCL TOU$DU_GET_SITE                  ENTRY ALTRET ;
       84     5662
       85     5663    1      DCL TOU$DFU_DF_RD_MASTER_CONTROL     ENTRY ALTRET ;
       86     5664    1      DCL TOU$DFU_DF_RD_MASTER_ENTRY       ENTRY ALTRET ;
       87     5665    1      DCL TOU$DFU_DF_RD_CATALOG_CONTROL    ENTRY ALTRET ;
       88     5666    1      DCL TOU$DFU_DF_RD_SUBCATALOG         ENTRY ALTRET ;
       89     5667    1      DCL TOU$DFU_DF_RD_CATALOG_ENTRY      ENTRY ALTRET ;
       90     5668    1      DCL TOU$DFU_DF_RD_OBJECT             ENTRY ALTRET ;
       91     5669    1      DCL TOU$DFU_DF_RD_BCD_CARDS          ENTRY ALTRET ;
       92     5670    1      DCL TOU$DFU_DF_RD_LOG                ENTRY ALTRET ;
       93     5671    1      DCL TOU$DFU_DF_RD_REVISION           ENTRY ALTRET ;
       94     5672
       95     5673    1      DCL TOU$B_PRINT_DECK_LINE            ENTRY ALTRET ;
       96     5674           %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:31   
       97     5675        /* ********************
       98     5676           ********************
       99     5677           **  Main Program  **
      100     5678           ********************
      101     5679           ******************** */
      102     5680
      103     5681    1      CALL L_INIT_DUP ;

   5681  1 000002   000054 701000 1                  TSX1    L_INIT_DUP
         1 000003   000000 011000                    NOP     0

      104     5682    1      CALL L_COMMAND_SETUP ALTRET (ERROR_RETURN) ;

   5682  1 000004   000075 701000 1                  TSX1    L_COMMAND_SETUP
         1 000005   000036 702000 1                  TSX2    ERROR_RETURN

      105     5683    1      CALL L_SHOW_DCB ;

   5683  1 000006   000222 701000 1                  TSX1    L_SHOW_DCB
         1 000007   000000 011000                    NOP     0

      106     5684    1      CALL TOU$DU_GET_SITE ALTRET (ERROR_RETURN) ;

   5684  1 000010   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000011   000000 701000 xent               TSX1    TOU$DU_GET_SITE
         1 000012   000036 702000 1                  TSX2    ERROR_RETURN

      107     5685
      108     5686    1      CALL TOU$DU_OPEN_DF ALTRET (ERROR_RETURN) ;

   5686  1 000013   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000014   000000 701000 xent               TSX1    TOU$DU_OPEN_DF
         1 000015   000036 702000 1                  TSX2    ERROR_RETURN

      109     5687    1      IF LIST_ALL

   5687  1 000016   200004 234100                    SZN     LIST_ALL,,AUTO
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:32   
         1 000017   000023 605000 1                  TPL     s:5689

      110     5688    1      THEN CALL L_LIST_DECKFILE ALTRET (ERROR_RETURN) ;

   5688  1 000020   000232 701000 1                  TSX1    L_LIST_DECKFILE
         1 000021   000036 702000 1                  TSX2    ERROR_RETURN
         1 000022   000025 710000 1                  TRA     s:5690

      111     5689    1      ELSE CALL L_LIST_MATCHES ALTRET (ERROR_RETURN) ;

   5689  1 000023   000404 701000 1                  TSX1    L_LIST_MATCHES
         1 000024   000036 702000 1                  TSX2    ERROR_RETURN

      112     5690    1      CALL TOU$DU_CLOSE_DF ALTRET (ERROR_RETURN) ;

   5690  1 000025   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000026   000000 701000 xent               TSX1    TOU$DU_CLOSE_DF
         1 000027   000036 702000 1                  TSX2    ERROR_RETURN

      113     5691
      114     5692        /* NORMAL_RETURN: */
      115     5693    1      DUP.MSG_CODE = %T$L_SUCCESS;

   5693  1 000030   000050 235007                    LDA     40,DL
         1 000031   000020 755000 xsym               STA     DUP+16

      116     5694    1      CALL TOU$DU_USER_WRITE ;

   5694  1 000032   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000033   000000 701000 xent               TSX1    TOU$DU_USER_WRITE
         1 000034   000000 011000                    NOP     0

      117     5695    1      RETURN ;

   5695  1 000035   000000 702200 xent               TSX2  ! X66_ARET

      118     5696
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:33   
      119     5697    1   ERROR_RETURN:
      120     5698    1      CALL TOU$DU_CLOSE_DF ;

   5698  1 000036   000002 631400 xsym  ERROR_RETURN EPPR1   B_VECTNIL+2
         1 000037   000000 701000 xent               TSX1    TOU$DU_CLOSE_DF
         1 000040   000000 011000                    NOP     0

      121     5699    1      DUP.MSG_CODE = %T$L_FAILURE;

   5699  1 000041   000051 235007                    LDA     41,DL
         1 000042   000020 755000 xsym               STA     DUP+16

      122     5700    1      CALL TOU$DU_USER_WRITE ;

   5700  1 000043   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000044   000000 701000 xent               TSX1    TOU$DU_USER_WRITE
         1 000045   000000 011000                    NOP     0

      123     5701    1      RETURN ;

   5701  1 000046   000000 702200 xent               TSX2  ! X66_ARET

      124     5702
      125     5703        /* ********************
      126     5704           ********************
      127     5705           **  End Of  Main  **
      128     5706           ********************
      129     5707           ******************** */
      130     5708        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:34   
      131     5709        /*D*  NAME:        TOU$L_SHOW_DCB
      132     5710              ENTRY:
      133     5711              AUTHOR:      Scott S. Sheppard
      134     5712              INTERFACE:   L_SHOW_DCB
      135     5713              DESCRIPTION: This entry point calls procedure  L_SHOW_DCB  so that
      136     5714                           other modules that only access the deckfile (No IFAD)
      137     5715                           can show the fid of the deckfile being accessed.
      138     5716        */
      139     5717
      140     5718    1   TOU$L_SHOW_DCB: ENTRY ;

   5718  1 000047   000000 700200 xent  TOU$L_SHOW_* TSX0  ! X66_AUTO_0
         1 000050   000016 000000                    ZERO    14,0

      141     5719
      142     5720    1      CALL L_SHOW_DCB ;

   5720  1 000051   000222 701000 1                  TSX1    L_SHOW_DCB
         1 000052   000000 011000                    NOP     0

      143     5721    1      RETURN ;

   5721  1 000053   000000 702200 xent               TSX2  ! X66_ARET

      144     5722
      145     5723        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:35   
      146     5724        /*I*  NAME:        L_INIT_DUP
      147     5725              AUTHOR:      Scott S. Sheppard
      148     5726              PURPOSE:     Initilization
      149     5727              INTERFACE:   None called.
      150     5728              INPUT:       No system data accessed.
      151     5729              OUTPUT:      DUP - Deckfile Utility Parameter
      152     5730                           LIST_ALL - assume entire listing desired
      153     5731              DESCRIPTION: This procedure initializes parameters to
      154     5732                           appropriate starting values.
      155     5733        */
      156     5734
      157     5735    1   L_INIT_DUP: PROC ;

   5735  1 000054   200006 741300       L_INIT_DUP   STX1  ! LIST_ALL+2,,AUTO

      158     5736
      159     5737        /* Code */
      160     5738
      161     5739    2      DUP.HDR_CODE = %H$LIST ;

   5739  1 000055   001320 235007                    LDA     720,DL
         1 000056   000021 755000 xsym               STA     DUP+17

      162     5740    2      DUP.LINE_VFC = %SKIP_WRITE ;

   5740  1 000057   142000 236003                    LDQ     50176,DU
         1 000060   000026 756000 xsym               STQ     DUP+22

      163     5741    2      DUP.FORCE_NEW_PAGE = %TRUE ;

   5741  1 000061   400000 236003                    LDQ     -131072,DU
         1 000062   000056 756000 xsym               STQ     DUP+46

      164     5742    2      DUP.DF.ENTERED = %FALSE ;

   5742  1 000063   000031 236000 xsym               LDQ     B_VECTNIL+25
         1 000064   000104 356000 xsym               ANSQ    DUP+68
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:36   

      165     5743    2      DUP.DF.OPEN_TYPE = %READ_FILE ;

   5743  1 000065   000002 235007                    LDA     2,DL
         1 000066   000105 755000 xsym               STA     DUP+69

      166     5744    2      DUP.DF.REPORT_ERROR = %TRUE ;

   5744  1 000067   400000 236007                    LDQ     -131072,DL
         1 000070   000104 256000 xsym               ORSQ    DUP+68

      167     5745    2      DUP.DF.CLOSE_TYPE = %SAVE_FILE ;

   5745  1 000071   000106 450000 xsym               STZ     DUP+70

      168     5746    2      LIST_ALL = %TRUE ;

   5746  1 000072   400000 236003                    LDQ     -131072,DU
         1 000073   200004 756100                    STQ     LIST_ALL,,AUTO

      169     5747    2      RETURN ;

   5747  1 000074   000001 702211                    TSX2  ! 1,X1

      170     5748
      171     5749    2   END L_INIT_DUP ;
      172     5750        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:37   
      173     5751        /*I*  NAME:        L_COMMAND_SETUP
      174     5752              AUTHOR:      Scott S. Sheppard
      175     5753              PURPOSE:     Sets up LIST Command
      176     5754              INTERFACE:   TOU$DU_SET_DF_FID
      177     5755              INPUT:       DUP.CMD$ - pointer to the parse control block
      178     5756              OUTPUT:      DUP.DF.HOLD_AREA
      179     5757                           DUP.DF.HOLD_AREA_LGTH
      180     5758                           DUP.DF.ENTERED
      181     5759                           LIST_ALL
      182     5760                           CATALOG_SEARCH_KEY
      183     5761                           COMPARE_LGTH
      184     5762              DESCRIPTION: This procedure sets up the LIST  command from the
      185     5763                           information entered by the user.    DUP.CMD$ is a
      186     5764                           pointer to a   parse control block  that contains
      187     5765                           the tokens entered by the user.
      188     5766                           COMMAND FORMS:
      189     5767              Case 1: L
      190     5768              Case 2: L <catalog search string>
      191     5769              Case 3: L FROM <deckfile fid>
      192     5770              Case 4: L <catalog search string> FROM <deckfile fid>
      193     5771        */
      194     5772        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:38   
      195     5773    1   L_COMMAND_SETUP: PROC ALTRET ;

   5773  1 000075   200006 741300       L_COMMAND_S* STX1  ! LIST_ALL+2,,AUTO

      196     5774
      197     5775    2      DCL OUTBLK#                    UBIN WORD ALIGNED ;
      198     5776    2      DCL OUTBLK$                    PTR ALIGNED ;
      199     5777           %PARSE$OUT (STCLASS = BASED) ;
      200     5822           %PARSE$SYM (STCLASS = BASED) ;
      201     5860
      202     5861        /* Code */
      203     5862
      204     5863    3      DO OUTBLK# = 0 TO DUP.CMD$ -> OUT$BLK.NSUBLKS - 1 ;

   5863  1 000076   200007 450100                    STZ     OUTBLK#,,AUTO
         1 000077   000203 710000 1                  TRA     s:5886+3

      205     5864    3         OUTBLK$ = DUP.CMD$ -> OUT$BLK.SUBLK$(OUTBLK#) ;

   5864  1 000100   000017 470400 xsym               LDP0    DUP+15
         1 000101   200007 720100                    LXL0    OUTBLK#,,AUTO
         1 000102   000003 236110                    LDQ     3,X0,PR0
         1 000103   200010 756100                    STQ     OUTBLK$,,AUTO

      206     5865    4         DO CASE (OUTBLK$ -> OUT$BLK.CODE) ;

   5865  1 000104   200010 471500                    LDP1    OUTBLK$,,AUTO
         1 000105   100000 721100                    LXL1    0,,PR1
         1 000106   000007 101003                    CMPX1   7,DU
         1 000107   000111 602011 1                  TNC     s:5865+5,X1
         1 000110   000200 710000 1                  TRA     s:5886
         1 000111   000200 710000 1                  TRA     s:5886
         1 000112   000161 710000 1                  TRA     s:5880
         1 000113   000153 710000 1                  TRA     s:5876
         1 000114   000156 710000 1                  TRA     s:5878
         1 000115   000134 710000 1                  TRA     s:5871
         1 000116   000120 710000 1                  TRA     s:5867
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:39   
         1 000117   000164 710000 1                  TRA     s:5882

      207     5866    4            CASE (%CATSRCH_STRING) ;

      208     5867    4               LIST_ALL = %FALSE ;

   5867  1 000120   200004 450100                    STZ     LIST_ALL,,AUTO

      209     5868    4               CATALOG_SEARCH_KEY.DATA = OUTBLK$ -> OUT$SYM.TEXT ;

   5868  1 000121   100004 236100                    LDQ     4,,PR1
         1 000122   000033 772000                    QRL     27
         1 000123   000000 622006                    EAX2    0,QL
         1 000124   040000 100540                    MLR     fill='040'O
         1 000125   100004 200012                    ADSC9   4,,PR1                   cn=1,n=*X2
         1 000126   000000 000025 xsym               ADSC9   CATALOG_SEARCH_KEY       cn=0,n=21

      210     5869    4               COMPARE_LGTH = OUTBLK$ -> OUT$SYM.COUNT ;

   5869  1 000127   100004 236100                    LDQ     4,,PR1
         1 000130   000033 772000                    QRL     27
         1 000131   000000 621006                    EAX1    0,QL
         1 000132   200003 741100                    STX1    COMPARE_LGTH,,AUTO
         1 000133   000200 710000 1                  TRA     s:5886

      211     5870    4            CASE (%DECKFILE_FID) ;

      212     5871    4               DUP.DF.ENTERED = %TRUE ;

   5871  1 000134   400000 236003                    LDQ     -131072,DU
         1 000135   000104 256000 xsym               ORSQ    DUP+68

      213     5872    4               DUP.HOLD_AREA = OUTBLK$ -> OUT$SYM.TEXT ;

   5872  1 000136   100004 236100                    LDQ     4,,PR1
         1 000137   000033 772000                    QRL     27
         1 000140   000000 621006                    EAX1    0,QL
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:40   
         1 000141   040000 100540                    MLR     fill='040'O
         1 000142   100004 200011                    ADSC9   4,,PR1                   cn=1,n=*X1
         1 000143   000142 000050 xsym               ADSC9   DUP+98                   cn=0,n=40

      214     5873    4               DUP.HOLD_AREA_LGTH = OUTBLK$ -> OUT$SYM.COUNT ;

   5873  1 000144   100004 236100                    LDQ     4,,PR1
         1 000145   000033 772000                    QRL     27
         1 000146   000154 756000 xsym               STQ     DUP+108

      215     5874    4               CALL TOU$DU_SET_DF_FID ALTRET (ERROR) ;

   5874  1 000147   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000150   000000 701000 xent               TSX1    TOU$DU_SET_DF_FID
         1 000151   000220 702000 1                  TSX2    ERROR
         1 000152   000200 710000 1                  TRA     s:5886

      216     5875    4            CASE (%ON) ;

      217     5876    4               DUP.TEMP.OPEN_TYPE = %ON ;

   5876  1 000153   000002 235007                    LDA     2,DL
         1 000154   000140 755000 xsym               STA     DUP+96
         1 000155   000200 710000 1                  TRA     s:5886

      218     5877    4            CASE (%OVER) ;

      219     5878    4               DUP.TEMP.OPEN_TYPE = %OVER ;

   5878  1 000156   000003 235007                    LDA     3,DL
         1 000157   000140 755000 xsym               STA     DUP+96
         1 000160   000200 710000 1                  TRA     s:5886

      220     5879    4            CASE (%INTO) ;

      221     5880    4               DUP.TEMP.OPEN_TYPE = %INTO ;

PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:41   
   5880  1 000161   000001 235007                    LDA     1,DL
         1 000162   000140 755000 xsym               STA     DUP+96
         1 000163   000200 710000 1                  TRA     s:5886

      222     5881    4            CASE (%DEST_FID) ;

      223     5882    4               DUP.HOLD_AREA = OUTBLK$ -> OUT$SYM.TEXT ;

   5882  1 000164   100004 236100                    LDQ     4,,PR1
         1 000165   000033 772000                    QRL     27
         1 000166   000000 622006                    EAX2    0,QL
         1 000167   040000 100540                    MLR     fill='040'O
         1 000170   100004 200012                    ADSC9   4,,PR1                   cn=1,n=*X2
         1 000171   000142 000050 xsym               ADSC9   DUP+98                   cn=0,n=40

      224     5883    4               DUP.HOLD_AREA_LGTH = OUTBLK$ -> OUT$SYM.COUNT ;

   5883  1 000172   100004 236100                    LDQ     4,,PR1
         1 000173   000033 772000                    QRL     27
         1 000174   000154 756000 xsym               STQ     DUP+108

      225     5884    4               CALL TOU$DU_SET_LO_FID ALTRET (ERROR) ;

   5884  1 000175   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000176   000000 701000 xent               TSX1    TOU$DU_SET_LO_FID
         1 000177   000220 702000 1                  TSX2    ERROR

      226     5885    4         END /* CASE */ ;

      227     5886    3      END /* DO */ ;

   5886  1 000200   200007 235100                    LDA     OUTBLK#,,AUTO
         1 000201   000001 035007                    ADLA    1,DL
         1 000202   200007 755100                    STA     OUTBLK#,,AUTO
         1 000203   000017 470400 xsym               LDP0    DUP+15
         1 000204   000001 236100                    LDQ     1,,PR0
         1 000205   000022 772000                    QRL     18
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:42   
         1 000206   200007 116100                    CMPQ    OUTBLK#,,AUTO
         1 000207   000211 600000 1                  TZE     s:5888
         1 000210   000100 603000 1                  TRC     s:5864

      228     5887
      229     5888    2      IF DUP.DF.ENTERED

   5888  1 000211   000104 234000 xsym               SZN     DUP+68
         1 000212   000216 604000 1                  TMI     s:5891

      230     5889    2      THEN /* FID set from DEER command */ ;
      231     5890    2      ELSE CALL TOU$DU_SET_DF_FID ALTRET (ERROR) ;

   5890  1 000213   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000214   000000 701000 xent               TSX1    TOU$DU_SET_DF_FID
         1 000215   000220 702000 1                  TSX2    ERROR

      232     5891    2      RETURN ;

   5891  1 000216   200006 221300                    LDX1  ! LIST_ALL+2,,AUTO
         1 000217   000001 702211                    TSX2  ! 1,X1

      233     5892
      234     5893    2   ERROR:
      235     5894    2      ALTRETURN ;

   5894  1 000220   200006 221300       ERROR        LDX1  ! LIST_ALL+2,,AUTO
         1 000221   000000 702211                    TSX2  ! 0,X1

      236     5895
      237     5896    2   END L_COMMAND_SETUP ;
      238     5897        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:43   
      239     5898        /*I*  NAME:        L_SHOW_DCB
      240     5899              AUTHOR:      Scott S. Sheppard
      241     5900              PURPOSE:     Displays Deckfile DCB
      242     5901              INTERFACE:   TOU$DU_USER_WRITE
      243     5902              INPUT:       T$SHOW_DF    - display deckfile message constant
      244     5903              OUTPUT:      DUP.MSG_CODE - message number
      245     5904              DESCRIPTION: This procedure displays the file identifier
      246     5905                           of the deckfile being accessed.
      247     5906        */
      248     5907
      249     5908    1   L_SHOW_DCB: PROC ;

   5908  1 000222   200006 741300       L_SHOW_DCB   STX1  ! LIST_ALL+2,,AUTO

      250     5909
      251     5910        /* Code */
      252     5911
      253     5912    2      DUP.MSG_CODE = %T$SHOW_DF ;

   5912  1 000223   000002 235007                    LDA     2,DL
         1 000224   000020 755000 xsym               STA     DUP+16

      254     5913    2      CALL TOU$DU_USER_WRITE ;

   5913  1 000225   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000226   000000 701000 xent               TSX1    TOU$DU_USER_WRITE
         1 000227   000000 011000                    NOP     0

      255     5914    2      RETURN ;

   5914  1 000230   200006 221300                    LDX1  ! LIST_ALL+2,,AUTO
         1 000231   000001 702211                    TSX2  ! 1,X1

      256     5915
      257     5916    2   END L_SHOW_DCB ;
      258     5917        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:44   
      259     5918        /*I*  NAME:        L_LIST_DECKFILE
      260     5919              AUTHORS:     Carl J. Eichert
      261     5920                           Scott S. Sheppard
      262     5921              PURPOSE:     L_LIST_DECKFILE
      263     5922              INTERFACE:   TOU$DFU_DF_RD_MASTER_CONTROL
      264     5923                           TOU$DFU_DF_RD_MASTER_ENTRY
      265     5924                           TOU$DFU_DF_RD_CATALOG_CONTROL
      266     5925                           TOU$DFU_DF_RD_SUBCATALOG
      267     5926                           TOU$DFU_DF_RD_CATALOG_ENTRY
      268     5927                           TOU$DFU_DF_RD_OBJECT
      269     5928                           TOU$DFU_DF_RD_BCD_CARDS
      270     5929                           L_SETUP_WRITE
      271     5930                           TOU$B_PRINT_DECK_LINE
      272     5931                           L_PRINT_LISTED_CATALOG
      273     5932                           L_PRINT_MASTER_CATALOG
      274     5933                           L_PRINT_LOG
      275     5934                           TOU$DU_USER_WRITE
      276     5935              INPUT:       CP-6 Deckfile Contents
      277     5936              OUTPUT:      DEER Edit Listing print lines
      278     5937              DESCRIPTION: This procedure lists the deckfile attributes.
      279     5938                           It is the driver for the listing of the file.
      280     5939                           This procedure loops, printing the deck lines
      281     5940                           in the inner loop, and the completed catalogs
      282     5941                           in the outer loop.   This procedure lists all
      283     5942                           catalogs in the deckfile.
      284     5943        */
      285     5944        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:45   
      286     5945    1   L_LIST_DECKFILE: PROC ALTRET ;

   5945  1 000232   200006 741300       L_LIST_DECK* STX1  ! LIST_ALL+2,,AUTO

      287     5946
      288     5947        /* Code */
      289     5948
      290     5949    2      CALL TOU$DFU_DF_RD_MASTER_CONTROL ALTRET (ERROR) ;

   5949  1 000233   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000234   000000 701000 xent               TSX1    TOU$DFU_DF_RD_MASTER_CONTROL
         1 000235   000402 702000 1                  TSX2    ERROR

      291     5950    2      CALL TOU$DFU_DF_RD_REVISION ALTRET (ERROR) ;

   5950  1 000236   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000237   000000 701000 xent               TSX1    TOU$DFU_DF_RD_REVISION
         1 000240   000402 702000 1                  TSX2    ERROR

      292     5951    2      MASTER_ENTRY_KEY.DECK# = MASTER_DATA.DECK# ;

   5951  1 000241   000000 236000 xsym               LDQ     MASTER_DATA
         1 000242   000011 772000                    QRL     9
         1 000243   000000 552030 xsym               STBQ    MASTER_ENTRY_KEY,'30'O

      293     5952    3      DO MASTER_ENTRY_KEY.ENTRY# = 1 TO MASTER_DATA.ENTRY_COUNT ;

   5952  1 000244   000000 101400                    MRL     fill='000'O
         1 000245   000003 000004 xsym               ADSC9   B_VECTNIL+3              cn=0,n=4
         1 000246   000000 600002 xsym               ADSC9   MASTER_ENTRY_KEY         cn=3,n=2
         1 000247   000363 710000 1                  TRA     s:5969+9

      294     5953    3         DUP.FORCE_NEW_PAGE = %TRUE ;

   5953  1 000250   400000 236003                    LDQ     -131072,DU
         1 000251   000056 756000 xsym               STQ     DUP+46

PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:46   
      295     5954    3         CALL TOU$DFU_DF_RD_MASTER_ENTRY ALTRET (ERROR) ;

   5954  1 000252   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000253   000000 701000 xent               TSX1    TOU$DFU_DF_RD_MASTER_ENTRY
         1 000254   000402 702000 1                  TSX2    ERROR

      296     5955    3         CALL TOU$DFU_DF_RD_CATALOG_CONTROL ALTRET (ERROR) ;

   5955  1 000255   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000256   000000 701000 xent               TSX1    TOU$DFU_DF_RD_CATALOG_CONTROL
         1 000257   000402 702000 1                  TSX2    ERROR

      297     5956    3         SUBCATALOG_KEY.DECK# = CATALOG_DATA.DECK# ;

   5956  1 000260   000000 236000 xsym               LDQ     CATALOG_DATA
         1 000261   000011 772000                    QRL     9
         1 000262   000000 552030 xsym               STBQ    SUBCATALOG_KEY,'30'O

      298     5957    3         CALL TOU$DFU_DF_RD_SUBCATALOG ALTRET (ERROR) ;

   5957  1 000263   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000264   000000 701000 xent               TSX1    TOU$DFU_DF_RD_SUBCATALOG
         1 000265   000402 702000 1                  TSX2    ERROR

      299     5958    3         CATALOG_ENTRY_KEY.DECK# = CATALOG_DATA.DECK# ;

   5958  1 000266   000000 236000 xsym               LDQ     CATALOG_DATA
         1 000267   000011 772000                    QRL     9
         1 000270   000000 552030 xsym               STBQ    CATALOG_ENTRY_KEY,'30'O

      300     5959    4         DO CATALOG_ENTRY_KEY.ENTRY# = 1 TO CATALOG_DATA.ENTRY_COUNT ;

   5959  1 000271   000000 101400                    MRL     fill='000'O
         1 000272   000003 000004 xsym               ADSC9   B_VECTNIL+3              cn=0,n=4
         1 000273   000000 600002 xsym               ADSC9   CATALOG_ENTRY_KEY        cn=3,n=2
         1 000274   000337 710000 1                  TRA     s:5967+9

PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:47   
      301     5960    4            CALL TOU$DFU_DF_RD_CATALOG_ENTRY ALTRET (ERROR) ;

   5960  1 000275   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000276   000000 701000 xent               TSX1    TOU$DFU_DF_RD_CATALOG_ENTRY
         1 000277   000402 702000 1                  TSX2    ERROR

      302     5961    4            CALL TOU$DFU_DF_RD_OBJECT ALTRET (ERROR) ;

   5961  1 000300   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000301   000000 701000 xent               TSX1    TOU$DFU_DF_RD_OBJECT
         1 000302   000402 702000 1                  TSX2    ERROR

      303     5962    4            BCD_KEY.DECK# = OBJECT.DECK# ;

   5962  1 000303   000024 236000 xsym               LDQ     OBJECT+20
         1 000304   000011 772000                    QRL     9
         1 000305   000000 552030 xsym               STBQ    BCD_KEY,'30'O

      304     5963    4            BCD# = OBJECT.TOTAL_COUNT - OBJECT.BINARY_COUNT - 1 ;

   5963  1 000306   000024 236000 xsym               LDQ     OBJECT+20
         1 000307   777777 376007                    ANQ     -1,DL
         1 000310   200014 756100                    STQ     FOUND_AT_LEAST_1+4,,AUTO
         1 000311   000025 236000 xsym               LDQ     OBJECT+21
         1 000312   000022 772000                    QRL     18
         1 000313   200014 136100                    SBLQ    FOUND_AT_LEAST_1+4,,AUTO
         1 000314   000001 136007                    SBLQ    1,DL
         1 000315   000000 756000 xsym               STQ     BCD#

      305     5964    4            CALL TOU$DFU_DF_RD_BCD_CARDS ALTRET (ERROR) ;

   5964  1 000316   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000317   000000 701000 xent               TSX1    TOU$DFU_DF_RD_BCD_CARDS
         1 000320   000402 702000 1                  TSX2    ERROR

      306     5965    4            CALL L_SETUP_WRITE ;

PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:48   
   5965  1 000321   000601 701000 1                  TSX1    L_SETUP_WRITE
         1 000322   000000 011000                    NOP     0

      307     5966    4            CALL TOU$B_PRINT_DECK_LINE ALTRET (ERROR) ;

   5966  1 000323   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000324   000000 701000 xent               TSX1    TOU$B_PRINT_DECK_LINE
         1 000325   000402 702000 1                  TSX2    ERROR

      308     5967    4         END /* DO */ ;

   5967  1 000326   000000 235000 xsym               LDA     CATALOG_ENTRY_KEY
         1 000327   000001 236000 xsym               LDQ     CATALOG_ENTRY_KEY+1
         1 000330   000033 773000                    LRL     27
         1 000331   777777 376007                    ANQ     -1,DL
         1 000332   000001 036007                    ADLQ    1,DL
         1 000333   200014 756100                    STQ     FOUND_AT_LEAST_1+4,,AUTO
         1 000334   000000 101500                    MRL     fill='000'O
         1 000335   200014 000004                    ADSC9   FOUND_AT_LEAST_1+4,,AUTO cn=0,n=4
         1 000336   000000 600002 xsym               ADSC9   CATALOG_ENTRY_KEY        cn=3,n=2
         1 000337   000000 235000 xsym               LDA     CATALOG_ENTRY_KEY
         1 000340   000001 236000 xsym               LDQ     CATALOG_ENTRY_KEY+1
         1 000341   000033 773000                    LRL     27
         1 000342   777777 376007                    ANQ     -1,DL
         1 000343   200015 756100                    STQ     FOUND_AT_LEAST_1+5,,AUTO
         1 000344   000000 236000 xsym               LDQ     CATALOG_DATA
         1 000345   777777 376007                    ANQ     -1,DL
         1 000346   200015 116100                    CMPQ    FOUND_AT_LEAST_1+5,,AUTO
         1 000347   000275 605000 1                  TPL     s:5960

      309     5968    3         CALL L_PRINT_LISTED_CATALOG ;

   5968  1 000350   000720 701000 1                  TSX1    L_PRINT_LISTED_CATALOG
         1 000351   000000 011000                    NOP     0

      310     5969    3      END /* DO */ ;

PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:49   
   5969  1 000352   000000 235000 xsym               LDA     MASTER_ENTRY_KEY
         1 000353   000001 236000 xsym               LDQ     MASTER_ENTRY_KEY+1
         1 000354   000033 773000                    LRL     27
         1 000355   777777 376007                    ANQ     -1,DL
         1 000356   000001 036007                    ADLQ    1,DL
         1 000357   200014 756100                    STQ     FOUND_AT_LEAST_1+4,,AUTO
         1 000360   000000 101500                    MRL     fill='000'O
         1 000361   200014 000004                    ADSC9   FOUND_AT_LEAST_1+4,,AUTO cn=0,n=4
         1 000362   000000 600002 xsym               ADSC9   MASTER_ENTRY_KEY         cn=3,n=2
         1 000363   000000 235000 xsym               LDA     MASTER_ENTRY_KEY
         1 000364   000001 236000 xsym               LDQ     MASTER_ENTRY_KEY+1
         1 000365   000033 773000                    LRL     27
         1 000366   777777 376007                    ANQ     -1,DL
         1 000367   200015 756100                    STQ     FOUND_AT_LEAST_1+5,,AUTO
         1 000370   000000 236000 xsym               LDQ     MASTER_DATA
         1 000371   777777 376007                    ANQ     -1,DL
         1 000372   200015 116100                    CMPQ    FOUND_AT_LEAST_1+5,,AUTO
         1 000373   000250 605000 1                  TPL     s:5953

      311     5970    2      CALL L_PRINT_MASTER_CATALOG ;

   5970  1 000374   000742 701000 1                  TSX1    L_PRINT_MASTER_CATALOG
         1 000375   000000 011000                    NOP     0

      312     5971    2      CALL L_PRINT_LOG ;

   5971  1 000376   000776 701000 1                  TSX1    L_PRINT_LOG
         1 000377   000000 011000                    NOP     0

      313     5972    2      RETURN ;

   5972  1 000400   200006 221300                    LDX1  ! LIST_ALL+2,,AUTO
         1 000401   000001 702211                    TSX2  ! 1,X1

      314     5973
      315     5974    2   ERROR:
      316     5975    2      ALTRETURN ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:50   

   5975  1 000402   200006 221300       ERROR        LDX1  ! LIST_ALL+2,,AUTO
         1 000403   000000 702211                    TSX2  ! 0,X1

      317     5976
      318     5977    2   END L_LIST_DECKFILE ;
      319     5978        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:51   
      320     5979        /*I*  NAME:        L_LIST_MATCHES
      321     5980              AUTHOR:      Scott S. Sheppard
      322     5981              PURPOSE:     L_LIST_MATCHES
      323     5982              INTERFACE:   TOU$DFU_DF_RD_MASTER_CONTROL
      324     5983                           TOU$DFU_DF_RD_MASTER_ENTRY
      325     5984                           TOU$DFU_DF_RD_CATALOG_CONTROL
      326     5985                           TOU$DFU_DF_RD_SUBCATALOG
      327     5986                           TOU$DFU_DF_RD_CATALOG_ENTRY
      328     5987                           TOU$DFU_DF_RD_OBJECT
      329     5988                           TOU$DFU_DF_RD_BCD_CARDS
      330     5989                           L_SETUP_WRITE
      331     5990                           TOU$B_PRINT_DECK_LINE
      332     5991                           L_PRINT_LISTED_CATALOG
      333     5992                           L_PRINT_MASTER_CATALOG
      334     5993                           TOU$DU_USER_WRITE
      335     5994                           INDEX Function
      336     5995              INPUT:       CP-6 Deckfile Contents
      337     5996              OUTPUT:      DEER Edit Listing print lines
      338     5997              DESCRIPTION: This procedure lists the deckfile attributes.
      339     5998                           It is the driver for the listing of the file.
      340     5999                           This procedure loops, printing the deck lines
      341     6000                           in the inner loop, and the completed catalogs
      342     6001                           in the outer loop.   This procedure lists all
      343     6002                           catalogs whose record keys contain the search
      344     6003                           string.
      345     6004        */
      346     6005
      347     6006    1   L_LIST_MATCHES: PROC ALTRET ;

   6006  1 000404   200006 741300       L_LIST_MATC* STX1  ! LIST_ALL+2,,AUTO

      348     6007
      349     6008    2      DCL POSITION                   UBIN WORD ALIGNED ;
      350     6009    2      DCL FOUND_AT_LEAST_1           BIT (1) CALIGNED ;
      351     6010           %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:52   
      352     6011        /* Code */
      353     6012
      354     6013           /* Loop through all catalogs checking for a match. */
      355     6014    2      CALL TOU$DFU_DF_RD_REVISION ALTRET (ERROR) ;

   6014  1 000405   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000406   000000 701000 xent               TSX1    TOU$DFU_DF_RD_REVISION
         1 000407   000577 702000 1                  TSX2    ERROR

      356     6015    2      FOUND_AT_LEAST_1 = %FALSE ;

   6015  1 000410   200010 450100                    STZ     FOUND_AT_LEAST_1,,AUTO

      357     6016    2      CALL TOU$DFU_DF_RD_MASTER_CONTROL ALTRET (ERROR) ;

   6016  1 000411   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000412   000000 701000 xent               TSX1    TOU$DFU_DF_RD_MASTER_CONTROL
         1 000413   000577 702000 1                  TSX2    ERROR

      358     6017    2      MASTER_ENTRY_KEY.DECK# = MASTER_DATA.DECK# ;

   6017  1 000414   000000 236000 xsym               LDQ     MASTER_DATA
         1 000415   000011 772000                    QRL     9
         1 000416   000000 552030 xsym               STBQ    MASTER_ENTRY_KEY,'30'O

      359     6018    3      DO MASTER_ENTRY_KEY.ENTRY# = 1 TO MASTER_DATA.ENTRY_COUNT ;

   6018  1 000417   000000 101400                    MRL     fill='000'O
         1 000420   000003 000004 xsym               ADSC9   B_VECTNIL+3              cn=0,n=4
         1 000421   000000 600002 xsym               ADSC9   MASTER_ENTRY_KEY         cn=3,n=2
         1 000422   000552 710000 1                  TRA     s:6041+9

      360     6019    3         DUP.FORCE_NEW_PAGE = %TRUE ;

   6019  1 000423   400000 236003                    LDQ     -131072,DU
         1 000424   000056 756000 xsym               STQ     DUP+46

PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:53   
      361     6020    3         CALL TOU$DFU_DF_RD_MASTER_ENTRY ALTRET (ERROR) ;

   6020  1 000425   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000426   000000 701000 xent               TSX1    TOU$DFU_DF_RD_MASTER_ENTRY
         1 000427   000577 702000 1                  TSX2    ERROR

      362     6021    3         CALL INDEX (POSITION,

   6021  1 000430   200007 631500                    EPPR1   POSITION,,AUTO
         1 000431   000000 633400 xsym               EPPR3   CATALOG_SEARCH_KEY
         1 000432   200003 223100                    LDX3    COMPARE_LGTH,,AUTO
         1 000433   000000 630400 xsym               EPPR0   CATALOG_KEY
         1 000434   000001 220003                    LDX0    1,DU
         1 000435   000000 500510                    A9BD    0,X0,PR0
         1 000436   000025 220003                    LDX0    21,DU
         1 000437   000000 236003                    LDQ     0,DU
         1 000440   000000 701000 xent               TSX1    X66_INDEX
         1 000441   000541 710000 1                  TRA     s:6041

      363     6022    3                 SUBSTR (CATALOG_SEARCH_KEY.DATA, 0, COMPARE_LGTH),
      364     6023    3                 CATALOG_KEY.DATA, 0) WHENRETURN
      365     6024    4              DO ;

      366     6025    4                 FOUND_AT_LEAST_1 = %TRUE ;

   6025  1 000442   400000 236003                    LDQ     -131072,DU
         1 000443   200010 756100                    STQ     FOUND_AT_LEAST_1,,AUTO

      367     6026    4                 CALL TOU$DFU_DF_RD_CATALOG_CONTROL ALTRET (ERROR) ;

   6026  1 000444   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000445   000000 701000 xent               TSX1    TOU$DFU_DF_RD_CATALOG_CONTROL
         1 000446   000577 702000 1                  TSX2    ERROR

      368     6027    4                 SUBCATALOG_KEY.DECK# = CATALOG_DATA.DECK# ;

   6027  1 000447   000000 236000 xsym               LDQ     CATALOG_DATA
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:54   
         1 000450   000011 772000                    QRL     9
         1 000451   000000 552030 xsym               STBQ    SUBCATALOG_KEY,'30'O

      369     6028    4                 CALL TOU$DFU_DF_RD_SUBCATALOG ALTRET (ERROR) ;

   6028  1 000452   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000453   000000 701000 xent               TSX1    TOU$DFU_DF_RD_SUBCATALOG
         1 000454   000577 702000 1                  TSX2    ERROR

      370     6029    4                 CATALOG_ENTRY_KEY.DECK# = CATALOG_DATA.DECK# ;

   6029  1 000455   000000 236000 xsym               LDQ     CATALOG_DATA
         1 000456   000011 772000                    QRL     9
         1 000457   000000 552030 xsym               STBQ    CATALOG_ENTRY_KEY,'30'O

      371     6030    5                 DO CATALOG_ENTRY_KEY.ENTRY# = 1 TO CATALOG_DATA.ENTRY_COUNT ;

   6030  1 000460   000000 101400                    MRL     fill='000'O
         1 000461   000003 000004 xsym               ADSC9   B_VECTNIL+3              cn=0,n=4
         1 000462   000000 600002 xsym               ADSC9   CATALOG_ENTRY_KEY        cn=3,n=2
         1 000463   000526 710000 1                  TRA     s:6038+9

      372     6031    5                    CALL TOU$DFU_DF_RD_CATALOG_ENTRY ALTRET (ERROR) ;

   6031  1 000464   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000465   000000 701000 xent               TSX1    TOU$DFU_DF_RD_CATALOG_ENTRY
         1 000466   000577 702000 1                  TSX2    ERROR

      373     6032    5                    CALL TOU$DFU_DF_RD_OBJECT ALTRET (ERROR) ;

   6032  1 000467   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000470   000000 701000 xent               TSX1    TOU$DFU_DF_RD_OBJECT
         1 000471   000577 702000 1                  TSX2    ERROR

      374     6033    5                    BCD_KEY.DECK# = OBJECT.DECK# ;

   6033  1 000472   000024 236000 xsym               LDQ     OBJECT+20
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:55   
         1 000473   000011 772000                    QRL     9
         1 000474   000000 552030 xsym               STBQ    BCD_KEY,'30'O

      375     6034    5                    BCD# = OBJECT.TOTAL_COUNT - OBJECT.BINARY_COUNT - 1 ;

   6034  1 000475   000024 236000 xsym               LDQ     OBJECT+20
         1 000476   777777 376007                    ANQ     -1,DL
         1 000477   200014 756100                    STQ     FOUND_AT_LEAST_1+4,,AUTO
         1 000500   000025 236000 xsym               LDQ     OBJECT+21
         1 000501   000022 772000                    QRL     18
         1 000502   200014 136100                    SBLQ    FOUND_AT_LEAST_1+4,,AUTO
         1 000503   000001 136007                    SBLQ    1,DL
         1 000504   000000 756000 xsym               STQ     BCD#

      376     6035    5                    CALL TOU$DFU_DF_RD_BCD_CARDS ALTRET (ERROR) ;

   6035  1 000505   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000506   000000 701000 xent               TSX1    TOU$DFU_DF_RD_BCD_CARDS
         1 000507   000577 702000 1                  TSX2    ERROR

      377     6036    5                    CALL L_SETUP_WRITE ;

   6036  1 000510   000601 701000 1                  TSX1    L_SETUP_WRITE
         1 000511   000000 011000                    NOP     0

      378     6037    5                    CALL TOU$B_PRINT_DECK_LINE ALTRET (ERROR) ;

   6037  1 000512   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000513   000000 701000 xent               TSX1    TOU$B_PRINT_DECK_LINE
         1 000514   000577 702000 1                  TSX2    ERROR

      379     6038    5                 END /* DO */ ;

   6038  1 000515   000000 235000 xsym               LDA     CATALOG_ENTRY_KEY
         1 000516   000001 236000 xsym               LDQ     CATALOG_ENTRY_KEY+1
         1 000517   000033 773000                    LRL     27
         1 000520   777777 376007                    ANQ     -1,DL
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:56   
         1 000521   000001 036007                    ADLQ    1,DL
         1 000522   200014 756100                    STQ     FOUND_AT_LEAST_1+4,,AUTO
         1 000523   000000 101500                    MRL     fill='000'O
         1 000524   200014 000004                    ADSC9   FOUND_AT_LEAST_1+4,,AUTO cn=0,n=4
         1 000525   000000 600002 xsym               ADSC9   CATALOG_ENTRY_KEY        cn=3,n=2
         1 000526   000000 235000 xsym               LDA     CATALOG_ENTRY_KEY
         1 000527   000001 236000 xsym               LDQ     CATALOG_ENTRY_KEY+1
         1 000530   000033 773000                    LRL     27
         1 000531   777777 376007                    ANQ     -1,DL
         1 000532   200015 756100                    STQ     FOUND_AT_LEAST_1+5,,AUTO
         1 000533   000000 236000 xsym               LDQ     CATALOG_DATA
         1 000534   777777 376007                    ANQ     -1,DL
         1 000535   200015 116100                    CMPQ    FOUND_AT_LEAST_1+5,,AUTO
         1 000536   000464 605000 1                  TPL     s:6031

      380     6039    4                 CALL L_PRINT_LISTED_CATALOG ;

   6039  1 000537   000720 701000 1                  TSX1    L_PRINT_LISTED_CATALOG
         1 000540   000000 011000                    NOP     0

      381     6040    4              END /* WHENRETURN */ ;

      382     6041    3      END /* DO */ ;

   6041  1 000541   000000 235000 xsym               LDA     MASTER_ENTRY_KEY
         1 000542   000001 236000 xsym               LDQ     MASTER_ENTRY_KEY+1
         1 000543   000033 773000                    LRL     27
         1 000544   777777 376007                    ANQ     -1,DL
         1 000545   000001 036007                    ADLQ    1,DL
         1 000546   200014 756100                    STQ     FOUND_AT_LEAST_1+4,,AUTO
         1 000547   000000 101500                    MRL     fill='000'O
         1 000550   200014 000004                    ADSC9   FOUND_AT_LEAST_1+4,,AUTO cn=0,n=4
         1 000551   000000 600002 xsym               ADSC9   MASTER_ENTRY_KEY         cn=3,n=2
         1 000552   000000 235000 xsym               LDA     MASTER_ENTRY_KEY
         1 000553   000001 236000 xsym               LDQ     MASTER_ENTRY_KEY+1
         1 000554   000033 773000                    LRL     27
         1 000555   777777 376007                    ANQ     -1,DL
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:57   
         1 000556   200015 756100                    STQ     FOUND_AT_LEAST_1+5,,AUTO
         1 000557   000000 236000 xsym               LDQ     MASTER_DATA
         1 000560   777777 376007                    ANQ     -1,DL
         1 000561   200015 116100                    CMPQ    FOUND_AT_LEAST_1+5,,AUTO
         1 000562   000423 605000 1                  TPL     s:6019

      383     6042           %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:58   
      384     6043        /* any matches? */
      385     6044    2      IF FOUND_AT_LEAST_1

   6044  1 000563   200010 234100                    SZN     FOUND_AT_LEAST_1,,AUTO
         1 000564   000567 605000 1                  TPL     s:6047

      386     6045    2      THEN RETURN ;

   6045  1 000565   200006 221300                    LDX1  ! LIST_ALL+2,,AUTO
         1 000566   000001 702211                    TSX2  ! 1,X1

      387     6046    3      ELSE DO ;

      388     6047    3              DUP.MSG_CODE = %E$LLM_NO_MATCHES ;

   6047  1 000567   000620 235007                    LDA     400,DL
         1 000570   000020 755000 xsym               STA     DUP+16

      389     6048    3              CATALOG_KEY.DATA = CATALOG_SEARCH_KEY.DATA ;

   6048  1 000571   040000 100400                    MLR     fill='040'O
         1 000572   000000 000025 xsym               ADSC9   CATALOG_SEARCH_KEY       cn=0,n=21
         1 000573   000000 200025 xsym               ADSC9   CATALOG_KEY              cn=1,n=21

      390     6049    3              CALL TOU$DU_USER_WRITE ;

   6049  1 000574   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000575   000000 701000 xent               TSX1    TOU$DU_USER_WRITE
         1 000576   000000 011000                    NOP     0

      391     6050    3   ERROR:
      392     6051    3              ALTRETURN ;

   6051  1 000577   200006 221300       ERROR        LDX1  ! LIST_ALL+2,,AUTO
         1 000600   000000 702211                    TSX2  ! 0,X1

      393     6052    3           END /* ELSE */ ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:59   
      394     6053
      395     6054    2   END L_LIST_MATCHES ;
      396     6055        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:60   
      397     6056        /*I*  NAME:        L_SETUP_WRITE
      398     6057              AUTHOR:      Scott S. Sheppard
      399     6058              PURPOSE:     Assign Replacement Variables
      400     6059              INTERFACE:   None Called.
      401     6060              INPUT:       OBJECT.BCD.LIBRARY - used to determine GECALL or not
      402     6061                           OBJECT.BCD.CLASS   - used to determine ITR or MDR
      403     6062                           BCD_B(BCD#-1)      - $DKEND card saved
      404     6063                           H$LIST_ITR      T$B_ITR
      405     6064                           H$LIST_MDR      T$B_MDR
      406     6065                           H$LIST_PROG     T$B_GECALL
      407     6066              OUTPUT:      DUP.HDR_CODE  - set to correct heading
      408     6067                           DUP.MSG_CODE  - used to write messages
      409     6068                           ID.ID         - set for IDENT CODE field
      410     6069                           ID.REVISION  - set for REV field
      411     6070                           DKEND         - $DKEND Card Structure
      412     6071              DESCRIPTION: This procedure assigns variables needed values so
      413     6072                           that TOU$REPLACE  will insert proper  values  for
      414     6073                           the dummy ~strings.
      415     6074        */
      416     6075        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:61   
      417     6076    1   L_SETUP_WRITE: PROC ;

   6076  1 000601   200012 741300       L_SETUP_WRI* STX1  ! FOUND_AT_LEAST_1+2,,AUTO

      418     6077
      419     6078        /* Code */
      420     6079
      421     6080    3      DO SELECT (OBJECT.BCD.LIBRARY) ;

   6080  1 000602   040000 106400                    CMPC    fill='040'O
         1 000603   000003 600006 xsym               ADSC9   OBJECT+3                 cn=3,n=6
         1 000604   000004 000006 0                  ADSC9   MASTER_KEY+4             cn=0,n=6
         1 000605   000614 602000 1                  TNC     s:6080+10
         1 000606   000677 600000 1                  TZE     s:6099
         1 000607   040000 106400                    CMPC    fill='040'O
         1 000610   000003 600006 xsym               ADSC9   OBJECT+3                 cn=3,n=6
         1 000611   000006 000004 0                  ADSC9   MASTER_KEY+6             cn=0,n=4
         1 000612   000706 601000 1                  TNZ     s:6103
         1 000613   000672 710000 1                  TRA     s:6096
         1 000614   040000 106400                    CMPC    fill='040'O
         1 000615   000003 600006 xsym               ADSC9   OBJECT+3                 cn=3,n=6
         1 000616   000007 000006 0                  ADSC9   MASTER_KEY+7             cn=0,n=6
         1 000617   000706 601000 1                  TNZ     s:6103
         1 000620   000621 710000 1                  TRA     s:6082

      422     6081    3         SELECT ('HMPCJ1') ;

      423     6082    3         IF OBJECT.BCD.CLASS = 'I' | OBJECT.BCD.CLASS = 'F'

   6082  1 000621   400000 220003                    LDX0    -131072,DU
         1 000622   000005 236000 xsym               LDQ     OBJECT+5
         1 000623   777000 376007                    ANQ     -512,DL
         1 000624   111000 116007                    CMPQ    37376,DL
         1 000625   000627 600000 1                  TZE     s:6082+6
         1 000626   000000 220003                    LDX0    0,DU
         1 000627   400000 222003                    LDX2    -131072,DU
         1 000630   000005 236000 xsym               LDQ     OBJECT+5
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:62   
         1 000631   777000 376007                    ANQ     -512,DL
         1 000632   106000 116007                    CMPQ    35840,DL
         1 000633   000635 600000 1                  TZE     s:6082+12
         1 000634   000000 222003                    LDX2    0,DU
         1 000635   000000 636012                    EAQ     0,X2
         1 000636   200014 756100                    STQ     FOUND_AT_LEAST_1+4,,AUTO
         1 000637   000000 636010                    EAQ     0,X0
         1 000640   200014 276100                    ORQ     FOUND_AT_LEAST_1+4,,AUTO
         1 000641   000662 600000 1                  TZE     s:6091

      424     6083    4         THEN DO ;

      425     6084    4                 IF OBJECT.BCD.CLASS = 'F'

   6084  1 000642   000005 236000 xsym               LDQ     OBJECT+5
         1 000643   777000 376007                    ANQ     -512,DL
         1 000644   106000 116007                    CMPQ    35840,DL
         1 000645   000652 601000 1                  TNZ     s:6086

      426     6085    4                 THEN ID.ID = SUBSTR (OBJECT_KEY.DATA, 7, 6) ;

   6085  1 000646   040000 100400                    MLR     fill='040'O
         1 000647   000002 000006 xsym               ADSC9   OBJECT_KEY+2             cn=0,n=6
         1 000650   000000 000006 xsym               ADSC9   ID                       cn=0,n=6
         1 000651   000655 710000 1                  TRA     s:6087

      427     6086    4                 ELSE ID.ID = SUBSTR (OBJECT_KEY.DATA, 4, 6) ;

   6086  1 000652   040000 100400                    MLR     fill='040'O
         1 000653   000001 200006 xsym               ADSC9   OBJECT_KEY+1             cn=1,n=6
         1 000654   000000 000006 xsym               ADSC9   ID                       cn=0,n=6

      428     6087    4                 DUP.HDR_CODE = %H$LIST_ITR ;

   6087  1 000655   001321 235007                    LDA     721,DL
         1 000656   000021 755000 xsym               STA     DUP+17

PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:63   
      429     6088    4                 DUP.MSG_CODE = %T$B_ITR ;

   6088  1 000657   000031 236007                    LDQ     25,DL
         1 000660   000020 756000 xsym               STQ     DUP+16

      430     6089    4              END /* THEN */ ;

   6089  1 000661   000706 710000 1                  TRA     s:6103

      431     6090    4         ELSE DO ;

      432     6091    4                 ID.ID = SUBSTR (OBJECT_KEY.DATA, 4, 6) ;

   6091  1 000662   040000 100400                    MLR     fill='040'O
         1 000663   000001 200006 xsym               ADSC9   OBJECT_KEY+1             cn=1,n=6
         1 000664   000000 000006 xsym               ADSC9   ID                       cn=0,n=6

      433     6092    4                 DUP.HDR_CODE = %H$LIST_MDR ;

   6092  1 000665   001322 235007                    LDA     722,DL
         1 000666   000021 755000 xsym               STA     DUP+17

      434     6093    4                 DUP.MSG_CODE = %T$B_MDR ;

   6093  1 000667   000032 236007                    LDQ     26,DL
         1 000670   000020 756000 xsym               STQ     DUP+16

      435     6094    4              END /* ELSE */ ;

   6094  1 000671   000706 710000 1                  TRA     s:6103

      436     6095    3         SELECT ('HTND') ;

      437     6096    3         DUP.HDR_CODE = %H$LIST_PROG ;

   6096  1 000672   001323 235007                    LDA     723,DL
         1 000673   000021 755000 xsym               STA     DUP+17
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:64   

      438     6097    3         DUP.MSG_CODE = %T$B_GECALL ;

   6097  1 000674   000030 236007                    LDQ     24,DL
         1 000675   000020 756000 xsym               STQ     DUP+16
         1 000676   000706 710000 1                  TRA     s:6103

      439     6098    3         SELECT ('HNIOA0') ;

      440     6099    3         ID.ID = 'DIPPER' ;

   6099  1 000677   040000 100400                    MLR     fill='040'O
         1 000700   000011 000006 0                  ADSC9   MASTER_KEY+9             cn=0,n=6
         1 000701   000000 000006 xsym               ADSC9   ID                       cn=0,n=6

      441     6100    3         DUP.HDR_CODE = %H$LIST_NIO ;

   6100  1 000702   001326 235007                    LDA     726,DL
         1 000703   000021 755000 xsym               STA     DUP+17

      442     6101    3         DUP.MSG_CODE = %T$B_ITR ;

   6101  1 000704   000031 236007                    LDQ     25,DL
         1 000705   000020 756000 xsym               STQ     DUP+16

      443     6102    3      END /* SELECT */ ;

      444     6103    2      DKEND_ = BCD_B(BCD#-1) ;

   6103  1 000706   000000 236000 xsym               LDQ     BCD#
         1 000707   000124 402007                    MPY     84,DL
         1 000710   000103 470400 xsym               LDP0    DUP+67
         1 000711   040000 100506                    MLR     fill='040'O
         1 000712   077753 000124                    ADSC9   -21,Q,PR0                cn=0,n=84
         1 000713   000000 000124 xsym               ADSC9   DKEND                    cn=0,n=84

      445     6104    2      ID.REVISION = DKEND.BCD.REVISION ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:65   

   6104  1 000714   040000 100400                    MLR     fill='040'O
         1 000715   000020 400006 xsym               ADSC9   DKEND+16                 cn=2,n=6
         1 000716   000001 400006 xsym               ADSC9   ID+1                     cn=2,n=6

      446     6105    2      RETURN ;

   6105  1 000717   000001 702211                    TSX2  ! 1,X1

      447     6106
      448     6107    2   END L_SETUP_WRITE ;
      449     6108        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:66   
      450     6109        /*I*  NAME:        L_PRINT_LISTED_CATALOG
      451     6110              AUTHOR:      Scott S. Sheppard
      452     6111              PURPOSE:     PRINT_LISTED_CATALOG
      453     6112              INTERFACE:   TOU$DU_USER_WRITE
      454     6113                           TOU$DU_PRINTER_WRITE
      455     6114              INPUT:       T$B_CATALOG
      456     6115                           T$L_INFORM
      457     6116              OUTPUT:      DUP.MSG_CODE - integer message number
      458     6117              DESCRIPTION: This procedure adds the completed catalog message
      459     6118                           to the edit listing  by calling  TOU$DU_PRINTER_WRITE
      460     6119                           with the proper message numbers. The catalog info
      461     6120                           message is also displayed to the user.
      462     6121        */
      463     6122
      464     6123    1   L_PRINT_LISTED_CATALOG: PROC ;

   6123  1 000720   200012 741300       L_PRINT_LIS* STX1  ! FOUND_AT_LEAST_1+2,,AUTO

      465     6124
      466     6125        /* Code */
      467     6126
      468     6127    2      DUP.MSG_CODE = %T$B_CATALOG ;

   6127  1 000721   000027 235007                    LDA     23,DL
         1 000722   000020 755000 xsym               STA     DUP+16

      469     6128    2      CALL TOU$DU_PRINTER_WRITE ;

   6128  1 000723   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000724   000000 701000 xent               TSX1    TOU$DU_PRINTER_WRITE
         1 000725   000000 011000                    NOP     0

      470     6129    2      DUP.MSG_CODE = %T$L_INFORM ;

   6129  1 000726   000052 235007                    LDA     42,DL
         1 000727   000020 755000 xsym               STA     DUP+16

PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:67   
      471     6130    2      IF DUP.BATCH_MODE

   6130  1 000730   000000 234000 xsym               SZN     DUP
         1 000731   000735 604000 1                  TMI     s:6133

      472     6131    2      THEN ;
      473     6132    2      ELSE CALL TOU$DU_USER_WRITE ;

   6132  1 000732   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000733   000000 701000 xent               TSX1    TOU$DU_USER_WRITE
         1 000734   000000 011000                    NOP     0

      474     6133    2      CALL TOU$DU_PRINTER_WRITE ;

   6133  1 000735   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000736   000000 701000 xent               TSX1    TOU$DU_PRINTER_WRITE
         1 000737   000000 011000                    NOP     0

      475     6134    2      RETURN ;

   6134  1 000740   200012 221300                    LDX1  ! FOUND_AT_LEAST_1+2,,AUTO
         1 000741   000001 702211                    TSX2  ! 1,X1

      476     6135
      477     6136    2   END L_PRINT_LISTED_CATALOG ;
      478     6137        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:68   
      479     6138        /*I*  NAME:        L_PRINT_MASTER_CATALOG
      480     6139              AUTHOR:      Scott S. Sheppard
      481     6140              PURPOSE:     Shows completed MASTER CATALOG entry
      482     6141              INTERFACE:   TOU$DU_USER_WRITE
      483     6142                           TOU$DU_PRINTER_WRITE
      484     6143              INPUT:       H$LIST_MC        - Header code for master catalog
      485     6144                           T$B_MASTER       - Master Catalog message code
      486     6145                           T$L_MC_INFORM    - Master catalog inform message code
      487     6146                           LINES_PER_PAGE   - Constant for max lines
      488     6147                           MASTER_KEY
      489     6148                           MASTER_ENTRY
      490     6149                           MASTER_DATA
      491     6150              OUTPUT:      CATALOG DATA - assigned so values can be displayed
      492     6151                           CATALOG_KEY  - assigned for display purposes
      493     6152                           DUP.HDR_CODE - assigned master catalog header
      494     6153                           DUP.MSG_CODE - assigned necessary message codes
      495     6154              DESCRIPTION: This procedure shows completed MASTER CATALOG
      496     6155                           at the end of the edit listing.
      497     6156        */
      498     6157        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:69   
      499     6158    1   L_PRINT_MASTER_CATALOG: PROC ;

   6158  1 000742   200010 741300       L_PRINT_MAS* STX1  ! FOUND_AT_LEAST_1,,AUTO

      500     6159
      501     6160        /* Code */
      502     6161
      503     6162    2      DUP.HDR_CODE = %H$LIST_MC ;

   6162  1 000743   001324 235007                    LDA     724,DL
         1 000744   000021 755000 xsym               STA     DUP+17

      504     6163    2      DUP.FORCE_NEW_PAGE = %TRUE ;

   6163  1 000745   400000 236003                    LDQ     -131072,DU
         1 000746   000056 756000 xsym               STQ     DUP+46

      505     6164
      506     6165    2      CATALOG_KEY.DATA = MASTER_KEY.DATA ;

   6165  1 000747   040000 100400                    MLR     fill='040'O
         1 000750   000000 200016 0                  ADSC9   MASTER_KEY               cn=1,n=14
         1 000751   000000 200025 xsym               ADSC9   CATALOG_KEY              cn=1,n=21

      507     6166    2      CATALOG_DATA     = MASTER_DATA ;

   6166  1 000752   000000 100400                    MLR     fill='000'O
         1 000753   000000 000010 xsym               ADSC9   MASTER_DATA              cn=0,n=8
         1 000754   000000 000010 xsym               ADSC9   CATALOG_DATA             cn=0,n=8

      508     6167
      509     6168    2      DUP.MSG_CODE = %T$B_MASTER ;

   6168  1 000755   000026 235007                    LDA     22,DL
         1 000756   000020 755000 xsym               STA     DUP+16

      510     6169    2      CALL TOU$DU_PRINTER_WRITE ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:70   

   6169  1 000757   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000760   000000 701000 xent               TSX1    TOU$DU_PRINTER_WRITE
         1 000761   000000 011000                    NOP     0

      511     6170
      512     6171    2      DUP.MSG_CODE = %T$L_MC_INFORM ;

   6171  1 000762   000053 235007                    LDA     43,DL
         1 000763   000020 755000 xsym               STA     DUP+16

      513     6172    2      IF DUP.BATCH_MODE

   6172  1 000764   000000 234000 xsym               SZN     DUP
         1 000765   000771 604000 1                  TMI     s:6175

      514     6173    2      THEN ;
      515     6174    2      ELSE CALL TOU$DU_USER_WRITE ;

   6174  1 000766   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000767   000000 701000 xent               TSX1    TOU$DU_USER_WRITE
         1 000770   000000 011000                    NOP     0

      516     6175    2      CALL TOU$DU_PRINTER_WRITE ;

   6175  1 000771   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000772   000000 701000 xent               TSX1    TOU$DU_PRINTER_WRITE
         1 000773   000000 011000                    NOP     0

      517     6176    2      RETURN ;

   6176  1 000774   200010 221300                    LDX1  ! FOUND_AT_LEAST_1,,AUTO
         1 000775   000001 702211                    TSX2  ! 1,X1

      518     6177
      519     6178    2   END L_PRINT_MASTER_CATALOG ;
      520     6179        %EJECT ;
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:71   
      521     6180        /*I*  NAME:        L_PRINT_LOG
      522     6181              AUTHOR:      Scott S. Sheppard
      523     6182              PURPOSE:     Prints deckfile history log
      524     6183              INTERFACE:   TOU$DFU_DF_RD_LOG
      525     6184                           TOU$DU_PRINTER_WRITE
      526     6185                           TOU$DU_USER_WRITE
      527     6186              INPUT:       No system data accessed.
      528     6187              OUTPUT:      DUP.HDR_CODE
      529     6188                           DUP.FORCE_NEW_PAGE
      530     6189                           LOG#
      531     6190                           DUP.MSG_CODE
      532     6191              DESCRIPTION: This procedure appends a listing of the deckfile
      533     6192                           history log to the end of a full DEER listing.
      534     6193        */
      535     6194
      536     6195    1   L_PRINT_LOG: PROC ;

   6195  1 000776   200010 741300       L_PRINT_LOG  STX1  ! FOUND_AT_LEAST_1,,AUTO

      537     6196
      538     6197    2      DCL LOG#   UBIN WORD SYMREF ALIGNED ;
      539     6198
      540     6199        /* Code */
      541     6200
      542     6201    2      DUP.HDR_CODE = %H$LIST_LOG ;

   6201  1 000777   001325 235007                    LDA     725,DL
         1 001000   000021 755000 xsym               STA     DUP+17

      543     6202    2      DUP.FORCE_NEW_PAGE = %TRUE ;

   6202  1 001001   400000 236003                    LDQ     -131072,DU
         1 001002   000056 756000 xsym               STQ     DUP+46

      544     6203    2      CALL TOU$DFU_DF_RD_LOG ALTRET (ERROR) ;

   6203  1 001003   000002 631400 xsym               EPPR1   B_VECTNIL+2
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:72   
         1 001004   000000 701000 xent               TSX1    TOU$DFU_DF_RD_LOG
         1 001005   001041 702000 1                  TSX2    ERROR

      545     6204    3      DO LOG# = 0 TO LOG_B.COUNT - 1 ;

   6204  1 001006   000000 450000 xsym               STZ     LOG#
         1 001007   001024 710000 1                  TRA     s:6207+3

      546     6205    3         DUP.MSG_CODE = LOG_B.ACCESSES.TYPE(LOG#) ;

   6205  1 001010   000000 236000 xsym               LDQ     LOG#
         1 001011   000150 402007                    MPY     104,DL
         1 001012   000137 470400 xsym               LDP0    DUP+95
         1 001013   000000 101506                    MRL     fill='000'O
         1 001014   000000 200001                    ADSC9   0,Q,PR0                  cn=1,n=1
         1 001015   000020 000004 xsym               ADSC9   DUP+16                   cn=0,n=4

      547     6206    3         CALL TOU$DU_PRINTER_WRITE ;

   6206  1 001016   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 001017   000000 701000 xent               TSX1    TOU$DU_PRINTER_WRITE
         1 001020   000000 011000                    NOP     0

      548     6207    3      END /* DO */ ;

   6207  1 001021   000000 235000 xsym               LDA     LOG#
         1 001022   000001 035007                    ADLA    1,DL
         1 001023   000000 755000 xsym               STA     LOG#
         1 001024   000137 470400 xsym               LDP0    DUP+95
         1 001025   000100 101500                    MRL     fill='000'O
         1 001026   000000 000001                    ADSC9   0,,PR0                   cn=0,n=1
         1 001027   200014 000004                    ADSC9   FOUND_AT_LEAST_1+4,,AUTO cn=0,n=4
         1 001030   200014 236100                    LDQ     FOUND_AT_LEAST_1+4,,AUTO
         1 001031   000000 116000 xsym               CMPQ    LOG#
         1 001032   001034 600000 1                  TZE     s:6208
         1 001033   001010 603000 1                  TRC     s:6205

PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:73   
      549     6208    2      DUP.MSG_CODE = %T$L_LOG_INFORM ;

   6208  1 001034   000054 235007                    LDA     44,DL
         1 001035   000020 755000 xsym               STA     DUP+16

      550     6209    2      CALL TOU$DU_USER_WRITE ;

   6209  1 001036   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 001037   000000 701000 xent               TSX1    TOU$DU_USER_WRITE
         1 001040   000000 011000                    NOP     0

      551     6210    2   ERROR:
      552     6211    2      RETURN ;

   6211  1 001041   200010 221300       ERROR        LDX1  ! FOUND_AT_LEAST_1,,AUTO
         1 001042   000001 702211                    TSX2  ! 1,X1

MASTER_KEY
 Sect OctLoc
   0     000   016115 101123   124105 122137   103101 124101   114117 107***    .MASTER_CATALOG.

(unnamed)
 Sect OctLoc
   0     004   110116 111117   101060 040040   110124 116104   110115 120103    HNIOA0  HTNDHMPC
   0     010   112061 040040   104111 120120   105122 040040                    J1  DIPPER
      553     6212
      554     6213    2   END L_PRINT_LOG ;
      555     6214    1   END TOU$LIST ;

PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:74   
--  Include file information  --

   XU_MACRO_C.:E05TOU  is referenced.
   TO_PERR_C.:E05TOU  is referenced.
   TOU_RQSTS_E.:E05TOU  is referenced.
   TOU_DEER_M.:E05TOU  is referenced.
      No diagnostics issued in procedure TOU$LIST.
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:75   

 **** Procedure blocks ****

LB#    Line#s    #stmts #vars Sect# OctLoc  P A C   NP Lvl/name
  0    40-  6214    181    66     1      0  y   y    0   1 TOU$LIST
                                  1     47      y    0     TOU$L_SHOW_DCB
  1  5735-  5749     10     0     1     54  y   y    0     2 L_INIT_DUP
  2  5773-  5896     29     9     1     75  y y y    0     2 L_COMMAND_SETUP
  3  5908-  5916      4     0     1    222  y   y    0     2 L_SHOW_DCB
  4  5945-  5977     26     0     1    232  y y y    0     2 L_LIST_DECKFILE
  5  6006-  6054     34     2     1    404  y y y    0     2 L_LIST_MATCHES
  6  6076-  6107     27     0     1    601  y   y    0     2 L_SETUP_WRITE
  7  6123-  6136      8     0     1    720  y   y    0     2 L_PRINT_LISTED_CATALOG
  8  6158-  6178     12     0     1    742  y   y    0     2 L_PRINT_MASTER_CATALOG
  9  6195-  6213     11     1     1    776  y   y    0     2 L_PRINT_LOG
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:76   

    **** Executable statements  ****

  Exec cost Stmt Sec OctLoc Type   LB Label              Exec cost Stmt Sec OctLoc Type   LB Label

              40   1      0 Proc    0                              5681   1      2 Call    0
            5682   1      4 Call    0                              5683   1      6 Call    0
            5684   1     10 Call    0                              5686   1     13 Call    0
            5687   1     16 If      0                              5688   1     20 Call    0
            5689   1     23 Call    0                              5690   1     25 Call    0
            5693   1     30 Assign  0                              5694   1     32 Call    0
            5695   1     35 Return  0                              5698   1     36 Call    0 ERROR_RETURN
            5699   1     41 Assign  0                              5700   1     43 Call    0
            5701   1     46 Return  0                              5718   1     47 Entry   0
            5720   1     51 Call    0                              5721   1     53 Return  0
            5735   1     54 Proc    1                              5739   1     55 Assign  1
            5740   1     57 Assign  1                              5741   1     61 Assign  1
            5742   1     63 Assign  1                              5743   1     65 Assign  1
            5744   1     67 Assign  1                              5745   1     71 Assign  1
            5746   1     72 Assign  1                              5747   1     74 Return  1
            5773   1     75 Proc    2                              5863   1     76 DoIndx  2
         $  5864   1    100 Assign  2                        $$$$  5865   1    104 DoCase  2
            5866   1    120 Case    2                              5867   1    120 Assign  2
         $  5868   1    121 Assign  2                              5869   1    127 Assign  2
            5870   1    134 Case    2                              5871   1    134 Assign  2
         $  5872   1    136 Assign  2                              5873   1    144 Assign  2
            5874   1    147 Call    2                              5875   1    153 Case    2
            5876   1    153 Assign  2                              5877   1    156 Case    2
            5878   1    156 Assign  2                              5879   1    161 Case    2
            5880   1    161 Assign  2                              5881   1    164 Case    2
         $  5882   1    164 Assign  2                              5883   1    172 Assign  2
            5884   1    175 Call    2                              5885   1    200 EndCse  2
        $$  5886   1    200 EndInd  2                              5888   1    211 If      2
            5890   1    213 Call    2                              5891   1    216 Return  2
            5894   1    220 Altret  2 ERROR                        5908   1    222 Proc    3
            5912   1    223 Assign  3                              5913   1    225 Call    3
            5914   1    230 Return  3                              5945   1    232 Proc    4
            5949   1    233 Call    4                              5950   1    236 Call    4
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:77   
            5951   1    241 Assign  4                           $  5952   1    244 DoIndx  4
            5953   1    250 Assign  4                              5954   1    252 Call    4
            5955   1    255 Call    4                              5956   1    260 Assign  4
            5957   1    263 Call    4                              5958   1    266 Assign  4
         $  5959   1    271 DoIndx  4                              5960   1    275 Call    4
            5961   1    300 Call    4                              5962   1    303 Assign  4
         $  5963   1    306 Assign  4                              5964   1    316 Call    4
            5965   1    321 Call    4                              5966   1    323 Call    4
    $$$$$$  5967   1    326 EndInd  4                              5968   1    350 Call    4
    $$$$$$  5969   1    352 EndInd  4                              5970   1    374 Call    4
            5971   1    376 Call    4                              5972   1    400 Return  4
            5975   1    402 Altret  4 ERROR                        6006   1    404 Proc    5
            6014   1    405 Call    5                              6015   1    410 Assign  5
            6016   1    411 Call    5                              6017   1    414 Assign  5
         $  6018   1    417 DoIndx  5                              6019   1    423 Assign  5
            6020   1    425 Call    5                          $$  6021   1    430 IntCal  5
            6024   1    442 Do      5                              6025   1    442 Assign  5
            6026   1    444 Call    5                              6027   1    447 Assign  5
            6028   1    452 Call    5                              6029   1    455 Assign  5
         $  6030   1    460 DoIndx  5                              6031   1    464 Call    5
            6032   1    467 Call    5                              6033   1    472 Assign  5
         $  6034   1    475 Assign  5                              6035   1    505 Call    5
            6036   1    510 Call    5                              6037   1    512 Call    5
    $$$$$$  6038   1    515 EndInd  5                              6039   1    537 Call    5
            6040   1    541 EndDo   5                      $$$$$$  6041   1    541 EndInd  5
            6044   1    563 If      5                              6045   1    565 Return  5
            6046   1    567 Do      5                              6047   1    567 Assign  5
            6048   1    571 Assign  5                              6049   1    574 Call    5
            6051   1    577 Altret  5 ERROR                        6076   1    601 Proc    6
     $$$$$  6080   1    602 Do Sel  6                              6081   1    621 Select  6
      $$$$  6082   1    621 If      6                              6083   1    642 Do      6
            6084   1    642 If      6                              6085   1    646 Assign  6
            6086   1    652 Assign  6                              6087   1    655 Assign  6
            6088   1    657 Assign  6                              6089   1    661 EndDo   6
            6090   1    662 Do      6                              6091   1    662 Assign  6
            6092   1    665 Assign  6                              6093   1    667 Assign  6
            6094   1    671 EndDo   6                              6095   1    672 Select  6
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:78   
            6096   1    672 Assign  6                              6097   1    674 Assign  6
            6098   1    677 Select  6                              6099   1    677 Assign  6
            6100   1    702 Assign  6                              6101   1    704 Assign  6
            6102   1    706 EndSel  6                         $$$  6103   1    706 Assign  6
            6104   1    714 Assign  6                              6105   1    717 Return  6
            6123   1    720 Proc    7                              6127   1    721 Assign  7
            6128   1    723 Call    7                              6129   1    726 Assign  7
            6130   1    730 If      7                              6132   1    732 Call    7
            6133   1    735 Call    7                              6134   1    740 Return  7
            6158   1    742 Proc    8                              6162   1    743 Assign  8
            6163   1    745 Assign  8                              6165   1    747 Assign  8
            6166   1    752 Assign  8                              6168   1    755 Assign  8
            6169   1    757 Call    8                              6171   1    762 Assign  8
            6172   1    764 If      8                              6174   1    766 Call    8
            6175   1    771 Call    8                              6176   1    774 Return  8
            6195   1    776 Proc    9                              6201   1    777 Assign  9
            6202   1   1001 Assign  9                              6203   1   1003 Call    9
            6204   1   1006 DoIndx  9                        $$$$  6205   1   1010 Assign  9
            6206   1   1016 Call    9                        $$$$  6207   1   1021 EndInd  9
            6208   1   1034 Assign  9                              6209   1   1036 Call    9
            6211   1   1041 Return  9 ERROR

  **** Statement type totals  ****

    65 Assign    50 Call       7 If         6 Case      12 Return     3 Altret
     1 IntCal     1 Do Sel     1 EndSel     3 Select     6 DoIndx     1 DoCase
     4 Do         6 EndInd     1 EndCse     3 EndDo     10 Proc       1 Entry
     5 Labels

 # major stmts=  150 Code/major= 3.64 # stmts=  181 Code/stmt= 3.02  Point total=100.2
 Cost/major stmt=  3.0 Cost/stmt=  2.5 Total cost=    455.0

   0-4  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
   4-6  $$$$$$
   6-8  $
  8-10
 10-12  $$
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:79   
 12-14
 14-16  $$
 16-18
 18-20
 20-22
 22-??
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:80   

 **** Variables and constants ****

  ****  Section 000 RoData TOU$LIST

  ****  Structures  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c STRC(135)   r     1 MASTER_KEY
     0-1-0/c CHAR(14)    r         2 DATA


  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/h UBIN(18)    r     1 COMPARE_LGTH              10-0-0/c BIT         r     1 FOUND_AT_LEAST_1
     4-0-0/c BIT         r     1 LIST_ALL                   7-0-0/w UBIN        r     1 OUTBLK#
    10-0-0/w PTR         r     1 OUTBLK$                    7-0-0/w UBIN        r     1 POSITION

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w UBIN        r     1 BCD#                       0-0-0/w CHAR(84)    r     1 DKEND_
     0-0-0/w UBIN        r     1 LOG#

  ****  Structures  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c STRC(45)    r     1 BCD_KEY
     0-1-0/b UBIN(18)    r         2 DECK#

     0-0-0/w STRC(72)    r     1 CATALOG_DATA
     0-0-0/b UBIN(18)    r         2 DECK#
     0-2-0/b UBIN(18)    r         2 ENTRY_COUNT
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:81   

     0-0-0/c STRC(45)    r     1 CATALOG_ENTRY_KEY
     0-1-0/b UBIN(18)    r         2 DECK#
     0-3-0/b UBIN(18)    r         2 ENTRY#

     0-0-0/w STRC(216)   r     1 CATALOG_KEY
     0-1-0/c CHAR(21)    r         2 DATA

     0-0-0/c STRC(189)   r     1 CATALOG_SEARCH_KEY
     0-0-0/c CHAR(21)    r         2 DATA

     0-0-0/w STRC(756)   r     1 DKEND
     0-0-0/c STRC(720)   r         2 BCD
    20-2-0/c CHAR(6)     r          3 REVISION

     0-0-0/d STRC(5220)  r     1 DUP
     0-0-0/c BIT         r         2 BATCH_MODE
    17-0-0/w PTR         r         2 CMD$
    20-0-0/w UBIN        r         2 MSG_CODE
    21-0-0/w UBIN        r         2 HDR_CODE
    26-0-0/c CHAR        r         2 LINE_VFC
    56-0-0/c BIT         r         2 FORCE_NEW_PAGE
   102-0-0/d STRC(72)    r         2 BCD_V
   103-0-0/b PTR         r          3 PTR$
   104-0-0/w STRC(504)   r         2 DF
   104-0-0/c BIT         r          3 ENTERED
   104-2-0/c BIT         r          3 REPORT_ERROR
   105-0-0/w UBIN        r          3 OPEN_TYPE
   106-0-0/w UBIN        r          3 CLOSE_TYPE
   136-0-0/d STRC(72)    r         2 LOG_V
   137-0-0/b PTR         r          3 PTR$
   140-0-0/w STRC(72)    r         2 TEMP
   140-0-0/w UBIN        r          3 OPEN_TYPE
   142-0-0/c CHAR(40)    r         2 HOLD_AREA
   154-0-0/w UBIN        r         2 HOLD_AREA_LGTH

     0-0-0/c STRC(162)   r     1 ID
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:82   
     0-0-0/c CHAR(6)     r         2 ID
     1-2-0/c CHAR(6)     r         2 REVISION

     0-0-0/w STRC(72)    r     1 MASTER_DATA
     0-0-0/b UBIN(18)    r         2 DECK#
     0-2-0/b UBIN(18)    r         2 ENTRY_COUNT

     0-0-0/c STRC(45)    r     1 MASTER_ENTRY_KEY
     0-1-0/b UBIN(18)    r         2 DECK#
     0-3-0/b UBIN(18)    r         2 ENTRY#

     0-0-0/w STRC(864)   r     1 OBJECT
     0-0-0/w STRC(720)   r         2 BCD
     3-3-0/c CHAR(6)     r          3 LIBRARY
     5-2-0/c CHAR        r          3 CLASS
    24-0-0/b UBIN(18)    r         2 DECK#
    24-2-0/b UBIN(18)    r         2 BINARY_COUNT
    25-0-0/b UBIN(18)    r         2 TOTAL_COUNT

     0-0-0/w STRC(216)   r     1 OBJECT_KEY
     0-1-0/c CHAR(23)    r         2 DATA

     0-0-0/c STRC(45)    r     1 SUBCATALOG_KEY
     0-1-0/b UBIN(18)    r         2 DECK#


  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(84)    r     1 BCD_B(0:199)

  ****  Structures  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c STRC(18665) r     1 LOG_B
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:83   
     0-0-0/c UBIN(9)     r         2 COUNT
     0-1-0/c STRC(936)   r         2 ACCESSES(0:299)
     0-1-0/c UBIN(9)     r          3 TYPE

     0-0-0/w STRC(144)   r     1 OUT$BLK
     0-2-0/h UBIN(18)    r         2 CODE
     1-0-0/h UBIN(18)    r         2 NSUBLKS
     3-0-0/b PTR         r         2 SUBLK$(0:0)

     0-0-0/w ASTR(153)   r     1 OUT$SYM
     4-0-0/c UBIN(9)     r         2 COUNT
     4-1-0/c ACHR        r         2 TEXT



   Procedure TOU$LIST requires 547 words for executable code.
   Procedure TOU$LIST requires 14 words of local(AUTO) storage.

    No errors detected in file TOU$LIST.:E05TSI    .
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:84   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:85   
          MINI XREF LISTING

BCD#
      5648**DCL      5963<<ASSIGN   6034<<ASSIGN   6103>>ASSIGN
BCD_B
      5376**DCL      6103>>ASSIGN
BCD_KEY.DECK#
      5390**DCL      5962<<ASSIGN   6033<<ASSIGN
CATALOG_DATA
      5402**DCL      6166<<ASSIGN
CATALOG_DATA.DECK#
      5403**DCL      5956>>ASSIGN   5958>>ASSIGN   6027>>ASSIGN   6029>>ASSIGN
CATALOG_DATA.ENTRY_COUNT
      5404**DCL      5959>>DOINDEX  6030>>DOINDEX
CATALOG_ENTRY_KEY.DECK#
      5418**DCL      5958<<ASSIGN   6029<<ASSIGN
CATALOG_ENTRY_KEY.ENTRY#
      5419**DCL      5959<<DOINDEX  6030<<DOINDEX
CATALOG_KEY.DATA
      5432**DCL      6021>>CALLBLT  6048<<ASSIGN   6165<<ASSIGN
CATALOG_SEARCH_KEY.DATA
      5445**DCL      5868<<ASSIGN   6021>>CALLBLT  6048>>ASSIGN
COMPARE_LGTH
      5649**DCL      5869<<ASSIGN   6021>>CALLBLT
DKEND
      5456**DCL      5469--REDEF
DKEND.BCD
      5457**DCL      5467--REDEF
DKEND.BCD.REVISION
      5464**DCL      6104>>ASSIGN
DKEND_
      5469**DCL      6103<<ASSIGN
DUP.BATCH_MODE
      5235**DCL      6130>>IF       6172>>IF
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:86   
DUP.BCD_V.PTR$
      5307**DCL      5376--IMP-PTR  6103>>ASSIGN
DUP.CMD$
      5251**DCL      5863>>DOINDEX  5864>>ASSIGN
DUP.DF.CLOSE_TYPE
      5319**DCL      5745<<ASSIGN
DUP.DF.ENTERED
      5311**DCL      5742<<ASSIGN   5871<<ASSIGN   5888>>IF
DUP.DF.OPEN_TYPE
      5317**DCL      5743<<ASSIGN
DUP.DF.REPORT_ERROR
      5315**DCL      5744<<ASSIGN
DUP.FORCE_NEW_PAGE
      5275**DCL      5741<<ASSIGN   5953<<ASSIGN   6019<<ASSIGN   6163<<ASSIGN   6202<<ASSIGN
DUP.HDR_CODE
      5256**DCL      5739<<ASSIGN   6087<<ASSIGN   6092<<ASSIGN   6096<<ASSIGN   6100<<ASSIGN   6162<<ASSIGN
      6201<<ASSIGN
DUP.HOLD_AREA
      5346**DCL      5872<<ASSIGN   5882<<ASSIGN
DUP.HOLD_AREA_LGTH
      5348**DCL      5873<<ASSIGN   5883<<ASSIGN
DUP.LINE_VFC
      5265**DCL      5740<<ASSIGN
DUP.LOG_V
      5333**DCL      5338--REDEF
DUP.LOG_V.PTR$
      5336**DCL      5511--IMP-PTR  6204>>DOINDEX  6205>>ASSIGN
DUP.MSG_CODE
      5254**DCL      5693<<ASSIGN   5699<<ASSIGN   5912<<ASSIGN   6047<<ASSIGN   6088<<ASSIGN   6093<<ASSIGN
      6097<<ASSIGN   6101<<ASSIGN   6127<<ASSIGN   6129<<ASSIGN   6168<<ASSIGN   6171<<ASSIGN   6205<<ASSIGN
      6208<<ASSIGN
DUP.TEMP.OPEN_TYPE
      5341**DCL      5876<<ASSIGN   5878<<ASSIGN   5880<<ASSIGN
ERROR IN PROCEDURE L_COMMAND_SETUP
      5894**LABEL    5874--CALLALT  5884--CALLALT  5890--CALLALT
ERROR IN PROCEDURE L_LIST_DECKFILE
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:87   
      5975**LABEL    5949--CALLALT  5950--CALLALT  5954--CALLALT  5955--CALLALT  5957--CALLALT  5960--CALLALT
      5961--CALLALT  5964--CALLALT  5966--CALLALT
ERROR IN PROCEDURE L_LIST_MATCHES
      6051**LABEL    6014--CALLALT  6016--CALLALT  6020--CALLALT  6026--CALLALT  6028--CALLALT  6031--CALLALT
      6032--CALLALT  6035--CALLALT  6037--CALLALT
ERROR IN PROCEDURE L_PRINT_LOG
      6211**LABEL    6203--CALLALT
ERROR_RETURN
      5698**LABEL    5682--CALLALT  5684--CALLALT  5686--CALLALT  5688--CALLALT  5689--CALLALT  5690--CALLALT
FOUND_AT_LEAST_1 IN PROCEDURE L_LIST_MATCHES
      6009**DCL      6015<<ASSIGN   6025<<ASSIGN   6044>>IF
ID.ID
      5481**DCL      6085<<ASSIGN   6086<<ASSIGN   6091<<ASSIGN   6099<<ASSIGN
ID.REVISION
      5482**DCL      5483--REDEF    6104<<ASSIGN
LIST_ALL
      5650**DCL      5687>>IF       5746<<ASSIGN   5867<<ASSIGN
LOG# IN PROCEDURE L_PRINT_LOG
      6197**DCL      6204<<DOINDEX  6205>>ASSIGN
LOG_B.ACCESSES.TYPE
      5515**DCL      6205>>ASSIGN
LOG_B.COUNT
      5512**DCL      6204>>DOINDEX
L_COMMAND_SETUP
      5773**PROC     5682--CALL
L_INIT_DUP
      5735**PROC     5681--CALL
L_LIST_DECKFILE
      5945**PROC     5688--CALL
L_LIST_MATCHES
      6006**PROC     5689--CALL
L_PRINT_LISTED_CATALOG
      6123**PROC     5968--CALL     6039--CALL
L_PRINT_LOG
      6195**PROC     5971--CALL
L_PRINT_MASTER_CATALOG
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:88   
      6158**PROC     5970--CALL
L_SETUP_WRITE
      6076**PROC     5965--CALL     6036--CALL
L_SHOW_DCB
      5908**PROC     5683--CALL     5720--CALL
MASTER_DATA
      5497**DCL      6166>>ASSIGN
MASTER_DATA.DECK#
      5498**DCL      5951>>ASSIGN   6017>>ASSIGN
MASTER_DATA.ENTRY_COUNT
      5499**DCL      5952>>DOINDEX  6018>>DOINDEX
MASTER_ENTRY_KEY.DECK#
      5539**DCL      5951<<ASSIGN   6017<<ASSIGN
MASTER_ENTRY_KEY.ENTRY#
      5540**DCL      5952<<DOINDEX  6018<<DOINDEX
MASTER_KEY.DATA
      5553**DCL      6165>>ASSIGN
OBJECT.BCD
      5565**DCL      5587--REDEF    5610--REDEF
OBJECT.BCD.CLASS
      5570**DCL      6082>>IF       6082>>IF       6084>>IF
OBJECT.BCD.LIBRARY
      5568**DCL      6080>>DOSELCT
OBJECT.BINARY_COUNT
      5612**DCL      5963>>ASSIGN   6034>>ASSIGN
OBJECT.DECK#
      5611**DCL      5962>>ASSIGN   6033>>ASSIGN
OBJECT.NIO_BCD.X_OF_N
      5598**DCL      5603--REDEF
OBJECT.TOTAL_COUNT
      5613**DCL      5963>>ASSIGN   6034>>ASSIGN
OBJECT_KEY.DATA
      5629**DCL      6085>>ASSIGN   6086>>ASSIGN   6091>>ASSIGN
OUT$BLK.CODE IN PROCEDURE L_COMMAND_SETUP
      5791**DCL      5865>>DOCASE
OUT$BLK.NSUBLKS IN PROCEDURE L_COMMAND_SETUP
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:89   
      5795**DCL      5863>>DOINDEX
OUT$BLK.SUBLK$ IN PROCEDURE L_COMMAND_SETUP
      5816**DCL      5864>>ASSIGN
OUT$SYM.COUNT IN PROCEDURE L_COMMAND_SETUP
      5852**DCL      5855--IMP-SIZ  5868>>ASSIGN   5869>>ASSIGN   5872>>ASSIGN   5873>>ASSIGN   5882>>ASSIGN
      5883>>ASSIGN
OUT$SYM.TEXT IN PROCEDURE L_COMMAND_SETUP
      5855**DCL      5868>>ASSIGN   5872>>ASSIGN   5882>>ASSIGN
OUTBLK# IN PROCEDURE L_COMMAND_SETUP
      5775**DCL      5863<<DOINDEX  5864>>ASSIGN
OUTBLK$ IN PROCEDURE L_COMMAND_SETUP
      5776**DCL      5864<<ASSIGN   5865>>DOCASE   5868>>ASSIGN   5868>>ASSIGN   5869>>ASSIGN   5872>>ASSIGN
      5872>>ASSIGN   5873>>ASSIGN   5882>>ASSIGN   5882>>ASSIGN   5883>>ASSIGN
POSITION IN PROCEDURE L_LIST_MATCHES
      6008**DCL      6021<<CALLBLT
SUBCATALOG_KEY.DECK#
      5642**DCL      5956<<ASSIGN   6027<<ASSIGN
TOU$B_PRINT_DECK_LINE
      5673**DCL-ENT  5966--CALL     6037--CALL
TOU$DFU_DF_RD_BCD_CARDS
      5669**DCL-ENT  5964--CALL     6035--CALL
TOU$DFU_DF_RD_CATALOG_CONTROL
      5665**DCL-ENT  5955--CALL     6026--CALL
TOU$DFU_DF_RD_CATALOG_ENTRY
      5667**DCL-ENT  5960--CALL     6031--CALL
TOU$DFU_DF_RD_LOG
      5670**DCL-ENT  6203--CALL
TOU$DFU_DF_RD_MASTER_CONTROL
      5663**DCL-ENT  5949--CALL     6016--CALL
TOU$DFU_DF_RD_MASTER_ENTRY
      5664**DCL-ENT  5954--CALL     6020--CALL
TOU$DFU_DF_RD_OBJECT
      5668**DCL-ENT  5961--CALL     6032--CALL
TOU$DFU_DF_RD_REVISION
      5671**DCL-ENT  5950--CALL     6014--CALL
TOU$DFU_DF_RD_SUBCATALOG
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:90   
      5666**DCL-ENT  5957--CALL     6028--CALL
TOU$DU_CLOSE_DF
      5656**DCL-ENT  5690--CALL     5698--CALL
TOU$DU_GET_SITE
      5661**DCL-ENT  5684--CALL
TOU$DU_OPEN_DF
      5655**DCL-ENT  5686--CALL
TOU$DU_PRINTER_WRITE
      5660**DCL-ENT  6128--CALL     6133--CALL     6169--CALL     6175--CALL     6206--CALL
TOU$DU_SET_DF_FID
      5654**DCL-ENT  5874--CALL     5890--CALL
TOU$DU_SET_LO_FID
      5658**DCL-ENT  5884--CALL
TOU$DU_USER_WRITE
      5659**DCL-ENT  5694--CALL     5700--CALL     5913--CALL     6049--CALL     6132--CALL     6174--CALL
      6209--CALL
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:91   
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:92   
              FULL UREF LISTING

BCD_KEY
      5388**DCL
BCD_KEY.CARD#
      5391**DCL
BCD_KEY.SIZE
      5389**DCL
CATALOG_DATA.RFU
      5405**DCL
CATALOG_ENTRY_KEY
      5416**DCL
CATALOG_ENTRY_KEY.SIZE
      5417**DCL
CATALOG_KEY
      5430**DCL
CATALOG_KEY.DECK#
      5433**DCL
CATALOG_KEY.SIZE
      5431**DCL
CATALOG_SEARCH_KEY
      5444**DCL
DKEND.BCD.CONTROL
      5458**DCL
DKEND.BCD.DATE
      5463**DCL
DKEND.BCD.LBL
      5465**DCL
DKEND.BCD.MOD_DATE
      5462**DCL
DKEND.BCD.SEQ
      5466**DCL
DKEND.BCD.TTL_DATE
      5461**DCL
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:93   
DKEND.BCD.TYPE
      5459**DCL
DKEND.BCD_
      5467**DCL
DKEND.CHECKSUM
      5468**DCL
DUP
      5233**DCL
DUP.BCD_V
      5304**DCL
DUP.BINARY_V
      5299**DCL
DUP.BINARY_V.PTR$
      5302**DCL
DUP.BOTTOM_LINE#
      5271**DCL
DUP.BREAK_DISABLED
      5353**DCL
DUP.BREAK_RETURN
      5355**DCL
DUP.BREAK_TERMINATE
      5351**DCL
DUP.CPU_TYPE
      5364**DCL
DUP.CURRENT_LINE#
      5269**DCL
DUP.CURRENT_PAGE#
      5267**DCL
DUP.DF
      5310**DCL
DUP.DF.FID
      5321**DCL
DUP.DF.FID_LGTH
      5323**DCL
DUP.DF.NO_EXIST
      5313**DCL
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:94   
DUP.DS_V
      5244**DCL
DUP.ERROR_IMAGE
      5273**DCL
DUP.FAULT_ERROR
      5239**DCL
DUP.IFAD
      5278**DCL
DUP.IFAD.CONFIG_TAB
      5287**DCL
DUP.IFAD.DEVICE_INPUT
      5283**DCL
DUP.IFAD.DRIVE_NUMBER
      5293**DCL
DUP.IFAD.ENTERED
      5281**DCL
DUP.IFAD.FID
      5295**DCL
DUP.IFAD.FID_LGTH
      5297**DCL
DUP.IFAD.IMU_NUMBER
      5291**DCL
DUP.IFAD.IMU_TAB
      5285**DCL
DUP.IFAD.ME_ALLOWED
      5279**DCL
DUP.IFAD.NUM_VOLUMES
      5289**DCL
DUP.LOG
      5326**DCL
DUP.LOG.CATALOG
      5329**DCL
DUP.LOG.DECK
      5331**DCL
DUP.LOG.TYPE
      5327**DCL
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:95   
DUP.LOG_V_
      5338**DCL
DUP.MSG_V
      5260**DCL
DUP.MSG_V.PTR$
      5263**DCL
DUP.NUM_LINES
      5258**DCL
DUP.NUM_WORDS
      5242**DCL
DUP.PROCESS_COMPLETE
      5237**DCL
DUP.RESPONSE
      5247**DCL
DUP.RESPONSE_LGTH
      5249**DCL
DUP.SITE_ID
      5362**DCL
DUP.SITE_NAME
      5357**DCL
DUP.SITE_NAME.LGTH
      5358**DCL
DUP.SITE_NAME.TEXT
      5360**DCL
DUP.TEMP
      5340**DCL
DUP.TEMP.CLOSE_TYPE
      5343**DCL
ID
      5480**DCL
ID.REV
      5483**DCL
ID.REV.LEVEL
      5485**DCL
ID.USAGE
      5486**DCL
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:96   
LOG_B
      5511**DCL
LOG_B.ACCESSES
      5514**DCL
LOG_B.ACCESSES.CATALOG
      5521**DCL
LOG_B.ACCESSES.DATE
      5517**DCL
LOG_B.ACCESSES.DECK
      5523**DCL
LOG_B.ACCESSES.IFAD
      5525**DCL
LOG_B.ACCESSES.TIME
      5519**DCL
MASTER_DATA.RFU
      5500**DCL
MASTER_ENTRY_KEY
      5537**DCL
MASTER_ENTRY_KEY.SIZE
      5538**DCL
MASTER_KEY
      5551**DCL
MASTER_KEY.SIZE
      5552**DCL
OBJECT
      5564**DCL
OBJECT.BCD.ASSEMBLER
      5582**DCL
OBJECT.BCD.CONTROL
      5566**DCL
OBJECT.BCD.DATE
      5584**DCL
OBJECT.BCD.DONT_APPLY
      5571**DCL
OBJECT.BCD.DONT_APPLY.CP6
      5573**DCL
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:97   
OBJECT.BCD.DONT_APPLY.DPS8000
      5576**DCL
OBJECT.BCD.DONT_APPLY.DPS90
      5575**DCL
OBJECT.BCD.FILENAME
      5580**DCL
OBJECT.BCD.GECALL
      5583**DCL
OBJECT.BCD.LBL
      5585**DCL
OBJECT.BCD.LOAD_TYPE
      5569**DCL
OBJECT.BCD.MODEL
      5579**DCL
OBJECT.BCD.SEQ
      5586**DCL
OBJECT.BCD.TYPE
      5567**DCL
OBJECT.BCD_
      5610**DCL
OBJECT.CHECKSUM
      5616**DCL
OBJECT.DECK_CHECKSUM
      5615**DCL
OBJECT.LOAD_SIZE
      5614**DCL
OBJECT.NIO_BCD
      5587**DCL
OBJECT.NIO_BCD.ASSEMBLER
      5604**DCL
OBJECT.NIO_BCD.CLASS
      5592**DCL
OBJECT.NIO_BCD.CONTROL
      5588**DCL
OBJECT.NIO_BCD.DATA
      5594**DCL
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:98   
OBJECT.NIO_BCD.EQUIP_TYPE
      5596**DCL
OBJECT.NIO_BCD.FILE_NAME
      5597**DCL
OBJECT.NIO_BCD.LBL
      5608**DCL
OBJECT.NIO_BCD.LIBRARY
      5590**DCL
OBJECT.NIO_BCD.LOAD_TYPE
      5591**DCL
OBJECT.NIO_BCD.PRD_NUM_TAB
      5605**DCL
OBJECT.NIO_BCD.PRG_NUM_TAB
      5606**DCL
OBJECT.NIO_BCD.SEQ
      5609**DCL
OBJECT.NIO_BCD.TYPE
      5589**DCL
OBJECT.NIO_BCD.X_OF_N.N
      5602**DCL
OBJECT.NIO_BCD.X_OF_N.X
      5600**DCL
OBJECT.NIO_BCD.X_OF_N_
      5603**DCL
OBJECT_KEY
      5627**DCL
OBJECT_KEY.SIZE
      5628**DCL
OUT$BLK IN PROCEDURE L_COMMAND_SETUP
      5783**DCL
OUT$BLK.CPOS IN PROCEDURE L_COMMAND_SETUP
      5809**DCL
OUT$BLK.NDTYPE IN PROCEDURE L_COMMAND_SETUP
      5786**DCL
OUT$BLK.SCRITCH IN PROCEDURE L_COMMAND_SETUP
      5799**DCL
PL6.E3A0      #001=TOU$LIST File=TOU$LIST.:E05TSI                                WED 07/30/97 06:46 Page:99   
OUT$BLK.TEMP IN PROCEDURE L_COMMAND_SETUP
      5784**DCL
OUT$SYM IN PROCEDURE L_COMMAND_SETUP
      5829**DCL
OUT$SYM.CODE IN PROCEDURE L_COMMAND_SETUP
      5835**DCL
OUT$SYM.CPOS IN PROCEDURE L_COMMAND_SETUP
      5844**DCL
OUT$SYM.NDTYPE IN PROCEDURE L_COMMAND_SETUP
      5832**DCL
OUT$SYM.NSUBLKS IN PROCEDURE L_COMMAND_SETUP
      5838**DCL
OUT$SYM.SCRITCH IN PROCEDURE L_COMMAND_SETUP
      5841**DCL
OUT$SYM.TEMP IN PROCEDURE L_COMMAND_SETUP
      5830**DCL
OUT$SYM.TEXTC$ IN PROCEDURE L_COMMAND_SETUP
      5847**DCL
SUBCATALOG_KEY
      5640**DCL
SUBCATALOG_KEY.ENTRY#
      5643**DCL
SUBCATALOG_KEY.SIZE
      5641**DCL
TOU$LIST
        40**PROC
TOU$L_SHOW_DCB
      5718**ENTRY

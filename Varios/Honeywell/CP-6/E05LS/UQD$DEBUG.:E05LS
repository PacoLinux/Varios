VERSION E05

PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:1    
        1        1        /*M* UQD$DEBUG allows running ENQ/DEQ online for debugging. */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        UD:PROC MAIN;
        8        8        /*F* NAME: UQD$DEBUG
        9        9             DESCRIPTION: When linked with UQB$EDPR, UQC$MM, DAD$ENQ, UQ_DATA_D,
       10       10             UQ_SCRCH_D, F_SCREECH_D, DAF$FORMAT, and DA_FORMAT_D< in that order,
       11       11             creates a rununit that executes and times the UQB routines, displaying
       12       12             the tables via DAD$ENQ after each operation.
       13       13
       14       14             Commands consist of 1-character keywords followed by numbers, terminated
       15       15             by blanks or end-of-record, as follows:
       16       16
       17       17               D  dequeue operation if 1 (e.g. D1)
       18       18               Q  enqueue operation if 1 (e.g. D0Q1)
       19       19               M  monitor (wsr=1) operation if >0:  1=shared, 2=exclusive
       20       20               U  sets user number for M0 operations
       21       21               S  share for M0:  1=all, 2=ltd, 3=none
       22       22               L  lim-com for M0:  1=yes
       23       23               R  sets RNAME length for M0, in words+1
       24       24               V  sets Rname valuefor M0
       25       25               #  sets how many times to do it
       26       26               I  sets how to increment V for repetition
       27       27
       28       28        */
       29       29        %INCLUDE CP_6;
       30      110        %INCLUDE UQ$NODES;
       31      241    1   DCL CFU$ STATIC PTR INIT(ADDR(NIL));
       32      242    1   DCL CFU REDEF CFU$ UBIN;
       33      243    1   DCL 1 CFUH REDEF CFU$,
       34      244    1    2 * BIT(10),
       35      245    1    2 H UBIN(5)UNAL,
       36      246    1    2 * BIT(21);
       37      247    1   DCL MES$ PTR STATIC INIT(ADDR(NIL));
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:2    
       38      248    1   DCL B$PS0$ PTR SYMDEF CONSTANT INIT(ADDR(VAREA));
       39      249    1   DCL B$PS1$ PTR SYMDEF STATIC INIT(ADDR(RNAM));
       40      250    1   DCL B$PS2$ PTR SYMDEF CONSTANT INIT(ADDR(MES$));
       41      251    1   DCL 1 VAREA STATIC,
       42      252    1    2 WAIT UBIN(19)INIT(5)UNAL,
       43      253    1    2 SML UBIN(17)UNAL,
       44      254    1    2 WT SBIN INIT(0);
       45      255    1   DCL UQB$UENQ ENTRY(1)ALTRET;
       46      256    1   DCL UQB$MENQS ENTRY(1)ALTRET;
       47      257    1   DCL UQB$MENQX ENTRY(1)ALTRET;
       48      258    1   DCL UQB$MDEQ ENTRY(1)ALTRET;
       49      259    1   DCL UQB$DELQID ENTRY(1)ALTRET;
       50      260    1   DCL UQB$DELQIDX ENTRY(1)ALTRET;
       51      261    1   DCL UQB$UDEQ ENTRY(1)ALTRET;
       52      262    1   DCL UQB$DELUSER ENTRY ALTRET;
       53      263    1   DCL DAD$ENQ ENTRY(1);
       54      264    1   DCL ENQ$(0:14)EPTR CONSTANT INIT(ENTADDR(NIL),ENTADDR(UQB$UENQ),
       55      265    1    ENTADDR(UQB$MENQS),ENTADDR(UQB$MENQX),ENTADDR(NIL)*0);
       56      266    1   DCL DEQ$(0:14)EPTR CONSTANT INIT(ENTADDR(NIL),ENTADDR(UQB$UDEQ),ENTADDR(UQB$MDEQ),
       57      267    1    ENTADDR(UQB$DELQID),ENTADDR(UQB$DELQIDX),ENTADDR(UQB$DELUSER),ENTADDR(NIL)*0);
       58      268    1   DCL ENQ$$ EPTR STATIC INIT(ENTADDR(UQB$UENQ));
       59      269    1   DCL DEQ$$ EPTR STATIC INIT(ENTADDR(UQB$UDEQ));
       60      270    1   DCL UQC$INIT ENTRY ALTRET;
       61      271    1   DCL I UBIN STATIC;
       62      272    1   DCL IS REDEF I SBIN;
       63      273        %F$DCB;
       64      330        %FPT_XEQTIME(BUF=XTIME,STCLASS=CONSTANT);
       65      343        %FPT_WAIT(FPTN=WAIT1,UNITS=1,STCLASS=CONSTANT);
       66      357    1   DCL 1 XTIME STATIC DALIGNED,
       67      358    1    2 TIME(0:3)UBIN;
       68      359    1   DCL CH CHAR(120)STATIC SYMDEF;
       69      360    1   DCL 1 CA REDEF CH,
       70      361    1    2 * CHAR(4),
       71      362    1    2 OK(0:28)CHAR(4);
       72      363    1   DCL 1 OUT REDEF CH,
       73      364    1    2 U CHAR(2),
       74      365    1    2 * CHAR(1),2 S CHAR(1),
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:3    
       75      366    1    2 REQ CHAR(3),
       76      367    1    2 UPG CHAR(4),
       77      368    1    2 RL CHAR(3),
       78      369    1    2 * CHAR(1),2 RNAM CHAR(5),2 * CHAR(100);
       79      370    1   DCL TY(0:5)CHAR(4)INIT(' A',' AL',' L',' LL',' N',' NN')CONSTANT;
       80      371    1   DCL STATES CONSTANT CHAR(0)INIT('QQAAAA');
       81      372    1   DCL J SBIN STATIC;
       82      373    1   DCL SM UBIN INIT(1) STATIC;
       83      374    1   DCL LCM UBIN STATIC INIT(0);
       84      375    1   DCL 1 B$JIT STATIC,
       85      376    1    2 *(0:9)UBIN INIT(0*0),
       86      377    1    2 ERR UBIN,
       87      378    1    2 *(0:244) UBIN INIT(0*0);
       88      379    1   DCL B$JIT$ PTR CONSTANT SYMDEF INIT(ADDR(B$JIT));
       89      380    1   DCL B$USRT$ PTR CONSTANT SYMDEF INIT(ADDR(B$JIT));
       90      381    1   DCL P_RESOURCE$ PTR CONSTANT SYMDEF INIT(ADDR(B$JIT));
       91      382    1   DCL B$ROSEG$ BIT(36) CONSTANT SYMDEF INIT('000000006003'O);
       92      383    1   DCL S_CUN UBIN STATIC SYMDEF INIT(0);
       93      384    1   DCL S$CU$ PTR STATIC SYMDEF;
       94      385    1   DCL ENQ UBIN STATIC INIT(0);
       95      386    1   DCL DEQ UBIN STATIC INIT(0);
       96      387    1   DCL MON UBIN STATIC INIT(0);
       97      388    1   DCL INCH CHAR(24)CONSTANT INIT('0123456789DQMUSLRVI#');
       98      389    1   DCL PTRS(0:13)PTR CONSTANT INIT(ADDR(DEQ),ADDR(ENQ),ADDR(MON),ADDR(S_CUN),
       99      390    1   ADDR(SM),ADDR(LCM),ADDR(RL),ADDR(RV),ADDR(RI),ADDR(COUNT));
      100      391    1   DCL NUM$ PTR;
      101      392    1   DCL NUM BASED(NUM$)UBIN;
      102      393    1   DCL COUNT UBIN STATIC INIT(100);
      103      394    1   DCL OVH0 UBIN STATIC INIT(0);
      104      395    1   DCL OVH UBIN STATIC INIT(0);
      105      396    1   DCL NOQDAT BIT(72)STATIC SYMDEF;
      106      397    1   DCL RNAM(0:63)UBIN INIT(0*0)STATIC;
      107      398    1   DCL RL UBIN STATIC INIT(0);
      108      399    1   DCL RB BASED UBIN(9)UNAL;
      109      400    1   DCL RV UBIN STATIC INIT(0);
      110      401    1   DCL RI UBIN STATIC INIT(0);
      111      402    1   DCL P$ PTR;
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:4    
      112      403    1   DCL R$ PTR;
      113      404    1   DCL Q$ PTR;
      114      405    1   DCL U_NULL$ PTR SYMREF;
      115      406    1   DCL U_BASE PTR SYMREF;
      116      407    1   DCL U_BASE$ REDEF U_BASE PTR;
      117      408    1   DCL M$SI DCB;
      118      409    1   DCL M$LO DCB;
      119      410        %FPT_READ(FPTN=READ,DCB=M$SI,BUF=CH);
      120      449        %FPT_WRITE(FPTN=WRITE,DCB=M$LO,BUF=CH);
      121      480        %FPT_ERRMSG(FPTN=ERRMSG,CODE=B$JIT.ERR,OUTDCB1=M$LO,BUF=CH);
      122      507        %FPT_INT(UENTRY=UDBRK);
      123      521    1   DCL UDBRK ENTRY ASYNC;
      124      522    1   DCL BREAK UBIN STATIC SYMDEF INIT(0);
      125      523        %FPT_TRAP(ERRORS=UDIPR,IPR=TRAP);
      126      546    1   DCL UDIPR ENTRY ASYNC;
      127      547    1   DCL UQ_MAXENQ UBIN SYMDEF CONSTANT INIT(99999);
      128      548    1   CALL M$TRAP(FPT_TRAP);
      129      549    1   CALL M$INT(FPT_INT);
      130      550    1      CALL UQC$INIT;
      131      551    1      ADDR(RNAM)->RB=7;
      132      552    1      WRITE.BUF_.BOUND=27;
      133      553    1      CFU=7;
      134      554    2      DO I=0 TO 5;
      135      555    2         VAREA.SML=I*8192+16384;
      136      556    2         CH=TY(I);
      137      557    2         CALL WAIT;
      138      558    2         S_CUN=1;
      139      559    3         DO J=0 TO 5;
      140      560    3            VAREA.SML=J*8192+16384;
      141      561    3            CALL WAIT ALTRET(A1);
      142      562    3            CA.OK(J)=TY(J);
      143      563    3            CALL REL;
      144      564    3   A1:      END;
      145      565    2         CALL M$WRITE(WRITE);
      146      566    2         S_CUN=0;
      147      567    2         CALL REL;
      148      568    2         END;
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:5    
      149      569    1      VAREA.WT=-1;
      150      570    1      CALL M$WAIT(WAIT1);
      151      571    1      REMEMBER NOQ IN NOQDAT;
      152      572    1   A2:;
      153      573    1      ADDR(RNAM)->RB=RL*4+3;
      154      574    1      ENQ$$=ENQ$(MON*ENQ+ENQ);
      155      575    1      DEQ$$=DEQ$(MON*DEQ+DEQ);
      156      576    1      VAREA.SML=SM*16384+LCM*8192;
      157      577    1      IF RL~=0 THEN B$PS1$=ADDR(RNAM);
      158      578    2      ELSE DO;
      159      579    2         B$PS1$=ADDR(NIL);
      160      580    2         IF MON=0 THEN ENQ=0;
      161      581    2         END;
      162      582    1      IF COUNT~=0 THEN COUNT=COUNT-1;
      163      583    1      VAREA.SML=SM*16384+LCM*8192;
      164      584    1      IF MON=0 THEN CFU=7;
      165      585    1      ELSE CFU$=DCBADDR(2)->F$DCB.CFU$;
      166      586    1      CALL M$XEQTIME(FPT_XEQTIME);
      167      587    2      DO I=0 TO COUNT;
      168      588    2      RV=MOD(RV,65536);
      169      589    2      RNAM(RL)=RV;
      170      590    2      RV=RV+RI;
      171      591    2      CALL WAIT ALTRET(NOQ);
      172      592    2      IF BREAK~=0 THEN GOTO NOQ;
      173      593    2      CALL REL;
      174      594    2      END;
      175      595    1   NOQ:;
      176      596    1      J=XTIME.TIME(1)+I*OVH+OVH0;
      177      597    1      CALL M$XEQTIME(FPT_XEQTIME);
      178      598    1      J=XTIME.TIME(1)-J;
      179      599    1      IF I~=0 THEN I=I-1;
      180      600    1      J=(J+I/2)/(IS+1);
      181      601    1      COUNT=COUNT+1;
      182      602    1      CALL BINCHAR(SUBSTR(CH,0,7),J);
      183      603    1      CALL INSERT(CH,0,4,SUBSTR(CH,1,3),'.');
      184      604    1      WRITE.BUF_.BOUND=6;
      185      605    1      CALL M$WRITE(WRITE);
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:6    
      186      606    2      IF MON+ENQ+DEQ=0 THEN DO;
      187      607    2         IF COUNT>=100 THEN OVH=OVH+J;
      188      608    3         ELSE IF COUNT=1 THEN DO;
      189      609    3            OVH0=OVH0+J;
      190      610    3            MON=1;
      191      611    3            ENQ=1;
      192      612    3            DEQ=1;
      193      613    3            END;
      194      614    2         COUNT=0;
      195      615    2         CALL M$WAIT(WAIT1);
      196      616    2         GOTO A2;
      197      617    2         END;
      198      618    2      IF B$JIT.ERR~=0 THEN DO;
      199      619    2      B$JIT.ERR=B$JIT.ERR/8*8+131072;
      200      620    2      CALL M$ERRMSG(ERRMSG);
      201      621    2      END;
      202      622    1      BREAK=0;
      203      623    1      CALL DAD$ENQ(B$JIT);
      204      624    1   A3:  CH=' ';
      205      625    1      CALL M$READ(READ)ALTRET(DON);
      206      626    1         IF NOT DCBADDR(DCBNUM(M$SI))->F$DCB.DDEV.IC#
      207      627    2           OR NOT DCBADDR(DCBNUM(M$LO))->F$DCB.DDEV.IC# THEN DO;
      208      628    2            WRITE.BUF_.BOUND=MAXIMUM(DCBADDR(DCBNUM(M$SI))->F$DCB.ARS#,1)-1;
      209      629    2            CALL M$WRITE(WRITE);
      210      630    2            END;
      211      631    1      BREAK=0;
      212      632    1      IF CH=' ' THEN GOTO A2;
      213      633    1      RNAM='0'B;
      214      634    1      RI=0;
      215      635    1      I=0;
      216      636    1      NUM$=ADDR(COUNT);
      217      637    1      COUNT=0;
      218      638    2      DO WHILE(SUBSTR(CH,I,1)~=' ');
      219      639    2         CALL INDEX1(J,SUBSTR(CH,I,1),INCH)ALTRET(NOV);
      220      640    2         IF J<10 THEN NUM=NUM*10+J;
      221      641    3         ELSE IF '1'B THEN DO;
      222      642    3            NUM$=PTRS(J-10);
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:7    
      223      643    3            NUM=0;
      224      644    3         END;
      225      645    2      ELSE NOV: NUM$=ADDR(J);
      226      646    2         I=I+1;
      227      647    2         END;
      228      648    1      IF I=0 THEN GOTO A3;
      229      649    1      GOTO A2;
      230      650    1   DON: RETURN;
      231      651    1   WAIT: PROC ALTRET;
      232      652    2      B$JIT.ERR=0;
      233      653    2      S$CU$=PINCRW(B$USRT$,S_CUN*16);
      234      654    2      IF ENQ$$~=ENTADDR(NIL) THEN CALL ENQ$$(CFU$)ALTRET(RETALT);
      235      655    2      RETURN;
      236      656    2   RETALT: ALTRETURN;
      237      657    2   REL: ENTRY ALTRET;
      238      658    2      S$CU$=PINCRW(B$USRT$,S_CUN*16);
      239      659    2      IF DEQ$$~=ENTADDR(NIL) THEN CALL DEQ$$(CFU$)ALTRET(RETALT);
      240      660    2      RETURN;
      241      661    2      END;
      242      662    1   END;
      243      663        %EOD;

PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:8    
--  Include file information  --

   UQ$NODES.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure UD.

   Procedure UD requires 346 words for executable code.
   Procedure UD requires 12 words of local(AUTO) storage.

PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:9    

 Object Unit name= UD                                         File name= UQD$DEBUG.:E05TOU
 UTS= JUL 30 '97 07:03:22.80 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none   446    676  UD
    2  RoData even  UTS     73    111  UD
    3   DCB   even  none     0      0  M$SI
    4   DCB   even  none     0      0  M$LO
    5   Proc  even  none   346    532  UD
    6  RoData even  none     8     10  UD

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     5      0   yes            yes      Main       0  UD
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:10   

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    2      0  B$PS0$                             1      2  B$PS1$
    2      1  B$PS2$                             1     14  CH
    2     60  B$JIT$                             2     61  B$USRT$
    2     62  P_RESOURCE$                        2     63  B$ROSEG$
    1    455  S_CUN                              1    456  S$CU$
    1    465  NOQDAT                             1    662  BREAK
    2    110  UQ_MAXENQ

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       1 UQB$UENQ
 yes     yes           Std       1 UQB$MENQS
 yes     yes           Std       1 UQB$DELQID
 yes     yes           Std       0 UQC$INIT
 yes     yes           Std       1 UQB$MENQX
 yes     yes           Std       1 UQB$UDEQ
         yes           Std       1 DAD$ENQ
 yes     yes           Std       1 UQB$MDEQ
         yes          Async      0 UDBRK
         yes          Async      0 UDIPR
 yes     yes           Std       1 UQB$DELQIDX
 yes     yes           Std       0 UQB$DELUSER
                       nStd      0 X66_MAUTO
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_MARET
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:11   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  U_BASE                                M$SI
     M$LO                                  B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID                                 ROSID
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:12   


        1        1        /*M* UQD$DEBUG allows running ENQ/DEQ online for debugging. */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        UD:PROC MAIN;

      7  5 000000   000000 700200 xent  UD           TSX0  ! X66_MAUTO
         5 000001   000014 000000                    ZERO    12,0

        8        8        /*F* NAME: UQD$DEBUG
        9        9             DESCRIPTION: When linked with UQB$EDPR, UQC$MM, DAD$ENQ, UQ_DATA_D,
       10       10             UQ_SCRCH_D, F_SCREECH_D, DAF$FORMAT, and DA_FORMAT_D< in that order,
       11       11             creates a rununit that executes and times the UQB routines, displaying
       12       12             the tables via DAD$ENQ after each operation.
       13       13
       14       14             Commands consist of 1-character keywords followed by numbers, terminated
       15       15             by blanks or end-of-record, as follows:
       16       16
       17       17               D  dequeue operation if 1 (e.g. D1)
       18       18               Q  enqueue operation if 1 (e.g. D0Q1)
       19       19               M  monitor (wsr=1) operation if >0:  1=shared, 2=exclusive
       20       20               U  sets user number for M0 operations
       21       21               S  share for M0:  1=all, 2=ltd, 3=none
       22       22               L  lim-com for M0:  1=yes
       23       23               R  sets RNAME length for M0, in words+1
       24       24               V  sets Rname valuefor M0
       25       25               #  sets how many times to do it
       26       26               I  sets how to increment V for repetition
       27       27
       28       28        */
       29       29        %INCLUDE CP_6;
       30      110        %INCLUDE UQ$NODES;
       31      241    1   DCL CFU$ STATIC PTR INIT(ADDR(NIL));
       32      242    1   DCL CFU REDEF CFU$ UBIN;
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:13   
       33      243    1   DCL 1 CFUH REDEF CFU$,
       34      244    1    2 * BIT(10),
       35      245    1    2 H UBIN(5)UNAL,
       36      246    1    2 * BIT(21);
       37      247    1   DCL MES$ PTR STATIC INIT(ADDR(NIL));
       38      248    1   DCL B$PS0$ PTR SYMDEF CONSTANT INIT(ADDR(VAREA));
       39      249    1   DCL B$PS1$ PTR SYMDEF STATIC INIT(ADDR(RNAM));
       40      250    1   DCL B$PS2$ PTR SYMDEF CONSTANT INIT(ADDR(MES$));
       41      251    1   DCL 1 VAREA STATIC,
       42      252    1    2 WAIT UBIN(19)INIT(5)UNAL,
       43      253    1    2 SML UBIN(17)UNAL,
       44      254    1    2 WT SBIN INIT(0);
       45      255    1   DCL UQB$UENQ ENTRY(1)ALTRET;
       46      256    1   DCL UQB$MENQS ENTRY(1)ALTRET;
       47      257    1   DCL UQB$MENQX ENTRY(1)ALTRET;
       48      258    1   DCL UQB$MDEQ ENTRY(1)ALTRET;
       49      259    1   DCL UQB$DELQID ENTRY(1)ALTRET;
       50      260    1   DCL UQB$DELQIDX ENTRY(1)ALTRET;
       51      261    1   DCL UQB$UDEQ ENTRY(1)ALTRET;
       52      262    1   DCL UQB$DELUSER ENTRY ALTRET;
       53      263    1   DCL DAD$ENQ ENTRY(1);
       54      264    1   DCL ENQ$(0:14)EPTR CONSTANT INIT(ENTADDR(NIL),ENTADDR(UQB$UENQ),
       55      265    1    ENTADDR(UQB$MENQS),ENTADDR(UQB$MENQX),ENTADDR(NIL)*0);
       56      266    1   DCL DEQ$(0:14)EPTR CONSTANT INIT(ENTADDR(NIL),ENTADDR(UQB$UDEQ),ENTADDR(UQB$MDEQ),
       57      267    1    ENTADDR(UQB$DELQID),ENTADDR(UQB$DELQIDX),ENTADDR(UQB$DELUSER),ENTADDR(NIL)*0);
       58      268    1   DCL ENQ$$ EPTR STATIC INIT(ENTADDR(UQB$UENQ));
       59      269    1   DCL DEQ$$ EPTR STATIC INIT(ENTADDR(UQB$UDEQ));
       60      270    1   DCL UQC$INIT ENTRY ALTRET;
       61      271    1   DCL I UBIN STATIC;
       62      272    1   DCL IS REDEF I SBIN;
       63      273        %F$DCB;
       64      330        %FPT_XEQTIME(BUF=XTIME,STCLASS=CONSTANT);
       65      343        %FPT_WAIT(FPTN=WAIT1,UNITS=1,STCLASS=CONSTANT);
       66      357    1   DCL 1 XTIME STATIC DALIGNED,
       67      358    1    2 TIME(0:3)UBIN;
       68      359    1   DCL CH CHAR(120)STATIC SYMDEF;
       69      360    1   DCL 1 CA REDEF CH,
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:14   
       70      361    1    2 * CHAR(4),
       71      362    1    2 OK(0:28)CHAR(4);
       72      363    1   DCL 1 OUT REDEF CH,
       73      364    1    2 U CHAR(2),
       74      365    1    2 * CHAR(1),2 S CHAR(1),
       75      366    1    2 REQ CHAR(3),
       76      367    1    2 UPG CHAR(4),
       77      368    1    2 RL CHAR(3),
       78      369    1    2 * CHAR(1),2 RNAM CHAR(5),2 * CHAR(100);
       79      370    1   DCL TY(0:5)CHAR(4)INIT(' A',' AL',' L',' LL',' N',' NN')CONSTANT;
       80      371    1   DCL STATES CONSTANT CHAR(0)INIT('QQAAAA');
       81      372    1   DCL J SBIN STATIC;
       82      373    1   DCL SM UBIN INIT(1) STATIC;
       83      374    1   DCL LCM UBIN STATIC INIT(0);
       84      375    1   DCL 1 B$JIT STATIC,
       85      376    1    2 *(0:9)UBIN INIT(0*0),
       86      377    1    2 ERR UBIN,
       87      378    1    2 *(0:244) UBIN INIT(0*0);
       88      379    1   DCL B$JIT$ PTR CONSTANT SYMDEF INIT(ADDR(B$JIT));
       89      380    1   DCL B$USRT$ PTR CONSTANT SYMDEF INIT(ADDR(B$JIT));
       90      381    1   DCL P_RESOURCE$ PTR CONSTANT SYMDEF INIT(ADDR(B$JIT));
       91      382    1   DCL B$ROSEG$ BIT(36) CONSTANT SYMDEF INIT('000000006003'O);
       92      383    1   DCL S_CUN UBIN STATIC SYMDEF INIT(0);
       93      384    1   DCL S$CU$ PTR STATIC SYMDEF;
       94      385    1   DCL ENQ UBIN STATIC INIT(0);
       95      386    1   DCL DEQ UBIN STATIC INIT(0);
       96      387    1   DCL MON UBIN STATIC INIT(0);
       97      388    1   DCL INCH CHAR(24)CONSTANT INIT('0123456789DQMUSLRVI#');
       98      389    1   DCL PTRS(0:13)PTR CONSTANT INIT(ADDR(DEQ),ADDR(ENQ),ADDR(MON),ADDR(S_CUN),
       99      390    1   ADDR(SM),ADDR(LCM),ADDR(RL),ADDR(RV),ADDR(RI),ADDR(COUNT));
      100      391    1   DCL NUM$ PTR;
      101      392    1   DCL NUM BASED(NUM$)UBIN;
      102      393    1   DCL COUNT UBIN STATIC INIT(100);
      103      394    1   DCL OVH0 UBIN STATIC INIT(0);
      104      395    1   DCL OVH UBIN STATIC INIT(0);
      105      396    1   DCL NOQDAT BIT(72)STATIC SYMDEF;
      106      397    1   DCL RNAM(0:63)UBIN INIT(0*0)STATIC;
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:15   
      107      398    1   DCL RL UBIN STATIC INIT(0);
      108      399    1   DCL RB BASED UBIN(9)UNAL;
      109      400    1   DCL RV UBIN STATIC INIT(0);
      110      401    1   DCL RI UBIN STATIC INIT(0);
      111      402    1   DCL P$ PTR;
      112      403    1   DCL R$ PTR;
      113      404    1   DCL Q$ PTR;
      114      405    1   DCL U_NULL$ PTR SYMREF;
      115      406    1   DCL U_BASE PTR SYMREF;
      116      407    1   DCL U_BASE$ REDEF U_BASE PTR;
      117      408    1   DCL M$SI DCB;
      118      409    1   DCL M$LO DCB;
      119      410        %FPT_READ(FPTN=READ,DCB=M$SI,BUF=CH);
      120      449        %FPT_WRITE(FPTN=WRITE,DCB=M$LO,BUF=CH);
      121      480        %FPT_ERRMSG(FPTN=ERRMSG,CODE=B$JIT.ERR,OUTDCB1=M$LO,BUF=CH);
      122      507        %FPT_INT(UENTRY=UDBRK);
      123      521    1   DCL UDBRK ENTRY ASYNC;
      124      522    1   DCL BREAK UBIN STATIC SYMDEF INIT(0);
      125      523        %FPT_TRAP(ERRORS=UDIPR,IPR=TRAP);
      126      546    1   DCL UDIPR ENTRY ASYNC;
      127      547    1   DCL UQ_MAXENQ UBIN SYMDEF CONSTANT INIT(99999);
      128      548    1   CALL M$TRAP(FPT_TRAP);

    548  5 000002   000664 630400 1                  EPPR0   FPT_TRAP
         5 000003   010004 713400                    CLIMB   4100
         5 000004   400400 401760                    pmme    nvectors=2

      129      549    1   CALL M$INT(FPT_INT);

    549  5 000005   000656 630400 1                  EPPR0   FPT_INT
         5 000006   010002 713400                    CLIMB   4098
         5 000007   400000 401760                    pmme    nvectors=1

      130      550    1      CALL UQC$INIT;

    550  5 000010   000002 631400 xsym               EPPR1   B_VECTNIL+2
         5 000011   000000 701000 xent               TSX1    UQC$INIT
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:16   
         5 000012   000000 011000                    NOP     0

      131      551    1      ADDR(RNAM)->RB=7;

    551  5 000013   007000 236003                    LDQ     3584,DU
         5 000014   000467 552040 1                  STBQ    RNAM,'40'O

      132      552    1      WRITE.BUF_.BOUND=27;

    552  5 000015   000614 236000 1                  LDQ     WRITE+4
         5 000016   177777 376007                    ANQ     65535,DL
         5 000017   000000 276000 6                  ORQ     0
         5 000020   000614 756000 1                  STQ     WRITE+4

      133      553    1      CFU=7;

    553  5 000021   000007 235007                    LDA     7,DL
         5 000022   000000 755000 1                  STA     CFU$

      134      554    2      DO I=0 TO 5;

    554  5 000023   000007 450000 1                  STZ     I

      135      555    2         VAREA.SML=I*8192+16384;

    555  5 000024   000007 236000 1                  LDQ     I
         5 000025   000015 736000                    QLS     13
         5 000026   040000 036007                    ADLQ    16384,DL
         5 000027   000003 676000 1                  ERQ     VAREA
         5 000030   377777 376007                    ANQ     131071,DL
         5 000031   000003 656000 1                  ERSQ    VAREA

      136      556    2         CH=TY(I);

    556  5 000032   000007 235000 1                  LDA     I
         5 000033   000002 735000                    ALS     2
         5 000034   040000 100405                    MLR     fill='040'O
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:17   
         5 000035   000050 000004 2                  ADSC9   TY,A                     cn=0,n=4
         5 000036   000014 000170 1                  ADSC9   CH                       cn=0,n=120

      137      557    2         CALL WAIT;

    557  5 000037   000471 701000 5                  TSX1    WAIT
         5 000040   000000 011000                    NOP     0

      138      558    2         S_CUN=1;

    558  5 000041   000001 235007                    LDA     1,DL
         5 000042   000455 755000 1                  STA     S_CUN

      139      559    3         DO J=0 TO 5;

    559  5 000043   000052 450000 1                  STZ     J

      140      560    3            VAREA.SML=J*8192+16384;

    560  5 000044   000052 236000 1                  LDQ     J
         5 000045   000015 736000                    QLS     13
         5 000046   040000 036007                    ADLQ    16384,DL
         5 000047   000003 676000 1                  ERQ     VAREA
         5 000050   377777 376007                    ANQ     131071,DL
         5 000051   000003 656000 1                  ERSQ    VAREA

      141      561    3            CALL WAIT ALTRET(A1);

    561  5 000052   000471 701000 5                  TSX1    WAIT
         5 000053   000061 702000 5                  TSX2    A1

      142      562    3            CA.OK(J)=TY(J);

    562  5 000054   000052 720000 1                  LXL0    J
         5 000055   000050 236010 2                  LDQ     TY,X0
         5 000056   000015 756010 1                  STQ     CH+1,X0

PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:18   
      143      563    3            CALL REL;

    563  5 000057   000513 701000 5                  TSX1    REL
         5 000060   000000 011000                    NOP     0

      144      564    3   A1:      END;

    564  5 000061   000052 054000 1     A1           AOS     J
         5 000062   000052 235000 1                  LDA     J
         5 000063   000005 115007                    CMPA    5,DL
         5 000064   000044 604400 5                  TMOZ    s:560

      145      565    2         CALL M$WRITE(WRITE);

    565  5 000065   000610 630400 1                  EPPR0   WRITE
         5 000066   040001 713400                    CLIMB   write
         5 000067   401400 401760                    pmme    nvectors=4

      146      566    2         S_CUN=0;

    566  5 000070   000455 450000 1                  STZ     S_CUN

      147      567    2         CALL REL;

    567  5 000071   000513 701000 5                  TSX1    REL
         5 000072   000000 011000                    NOP     0

      148      568    2         END;

    568  5 000073   000007 235000 1                  LDA     I
         5 000074   000001 035007                    ADLA    1,DL
         5 000075   000007 755000 1                  STA     I
         5 000076   000006 115007                    CMPA    6,DL
         5 000077   000024 602000 5                  TNC     s:555

      149      569    1      VAREA.WT=-1;

PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:19   
    569  5 000100   000001 336007                    LCQ     1,DL
         5 000101   000004 756000 1                  STQ     VAREA+1

      150      570    1      CALL M$WAIT(WAIT1);

    570  5 000102   000042 630400 2                  EPPR0   WAIT1
         5 000103   020006 713400                    CLIMB   8198
         5 000104   400400 401760                    pmme    nvectors=2

      151      571    1      REMEMBER NOQ IN NOQDAT;

    571  5 000105   000226 635000 5                  EAA     NOQ
         5 000106   000465 452400 1                  STP2    NOQDAT
         5 000107   000466 755000 1                  STA     NOQDAT+1

    569  5 000110                       A2           null
      152      572    1   A2:;
      153      573    1      ADDR(RNAM)->RB=RL*4+3;

    573  5 000110   000567 236000 1                  LDQ     RL
         5 000111   000002 736000                    QLS     2
         5 000112   000003 036007                    ADLQ    3,DL
         5 000113   000033 736000                    QLS     27
         5 000114   000467 552040 1                  STBQ    RNAM,'40'O

      154      574    1      ENQ$$=ENQ$(MON*ENQ+ENQ);

    574  5 000115   000461 236000 1                  LDQ     MON
         5 000116   000457 402000 1                  MPY     ENQ
         5 000117   000457 036000 1                  ADLQ    ENQ
         5 000120   000002 236006 2                  LDQ     ENQ$,QL
         5 000121   000005 756000 1                  STQ     ENQ$$

      155      575    1      DEQ$$=DEQ$(MON*DEQ+DEQ);

    575  5 000122   000461 236000 1                  LDQ     MON
         5 000123   000460 402000 1                  MPY     DEQ
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:20   
         5 000124   000460 036000 1                  ADLQ    DEQ
         5 000125   000021 236006 2                  LDQ     DEQ$,QL
         5 000126   000006 756000 1                  STQ     DEQ$$

      156      576    1      VAREA.SML=SM*16384+LCM*8192;

    576  5 000127   000053 236000 1                  LDQ     SM
         5 000130   000001 736000                    QLS     1
         5 000131   000054 036000 1                  ADLQ    LCM
         5 000132   000015 736000                    QLS     13
         5 000133   000003 676000 1                  ERQ     VAREA
         5 000134   377777 376007                    ANQ     131071,DL
         5 000135   000003 656000 1                  ERSQ    VAREA

      157      577    1      IF RL~=0 THEN B$PS1$=ADDR(RNAM);

    577  5 000136   000567 235000 1                  LDA     RL
         5 000137   000143 600000 5                  TZE     s:579

    577  5 000140   000001 236000 6                  LDQ     1
         5 000141   000002 756000 1                  STQ     B$PS1$
         5 000142   000150 710000 5                  TRA     s:582

      158      578    2      ELSE DO;

      159      579    2         B$PS1$=ADDR(NIL);

    579  5 000143   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 000144   000002 756000 1                  STQ     B$PS1$

      160      580    2         IF MON=0 THEN ENQ=0;

    580  5 000145   000461 235000 1                  LDA     MON
         5 000146   000150 601000 5                  TNZ     s:582

    580  5 000147   000457 450000 1                  STZ     ENQ

PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:21   
      161      581    2         END;

      162      582    1      IF COUNT~=0 THEN COUNT=COUNT-1;

    582  5 000150   000462 235000 1                  LDA     COUNT
         5 000151   000154 600000 5                  TZE     s:583

    582  5 000152   000001 135007                    SBLA    1,DL
         5 000153   000462 755000 1                  STA     COUNT

      163      583    1      VAREA.SML=SM*16384+LCM*8192;

    583  5 000154   000053 236000 1                  LDQ     SM
         5 000155   000001 736000                    QLS     1
         5 000156   000054 036000 1                  ADLQ    LCM
         5 000157   000015 736000                    QLS     13
         5 000160   000003 676000 1                  ERQ     VAREA
         5 000161   377777 376007                    ANQ     131071,DL
         5 000162   000003 656000 1                  ERSQ    VAREA

      164      584    1      IF MON=0 THEN CFU=7;

    584  5 000163   000461 236000 1                  LDQ     MON
         5 000164   000170 601000 5                  TNZ     s:585

    584  5 000165   000007 235007                    LDA     7,DL
         5 000166   000000 755000 1                  STA     CFU$
         5 000167   000175 710000 5                  TRA     s:586

      165      585    1      ELSE CFU$=DCBADDR(2)->F$DCB.CFU$;

    585  5 000170   000002 470400 6                  LDP0    2
         5 000171   000000 471500                    LDP1    0,,PR0
         5 000172   100002 473500                    LDP3    2,,PR1
         5 000173   300066 236100                    LDQ     54,,PR3
         5 000174   000000 756000 1                  STQ     CFU$

PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:22   
      166      586    1      CALL M$XEQTIME(FPT_XEQTIME);

    586  5 000175   000040 630400 2                  EPPR0   FPT_XEQTIME
         5 000176   020011 713400                    CLIMB   8201
         5 000177   400000 401760                    pmme    nvectors=1

      167      587    2      DO I=0 TO COUNT;

    587  5 000200   000007 450000 1                  STZ     I
         5 000201   000223 710000 5                  TRA     s:594+3

      168      588    2      RV=MOD(RV,65536);

    588  5 000202   000570 236000 1                  LDQ     RV
         5 000203   177777 376007                    ANQ     65535,DL
         5 000204   000570 756000 1                  STQ     RV

      169      589    2      RNAM(RL)=RV;

    589  5 000205   000567 720000 1                  LXL0    RL
         5 000206   000467 756010 1                  STQ     RNAM,X0

      170      590    2      RV=RV+RI;

    590  5 000207   000570 236000 1                  LDQ     RV
         5 000210   000571 036000 1                  ADLQ    RI
         5 000211   000570 756000 1                  STQ     RV

      171      591    2      CALL WAIT ALTRET(NOQ);

    591  5 000212   000471 701000 5                  TSX1    WAIT
         5 000213   000226 702000 5                  TSX2    NOQ

      172      592    2      IF BREAK~=0 THEN GOTO NOQ;

    592  5 000214   000662 235000 1                  LDA     BREAK
         5 000215   000226 601000 5                  TNZ     NOQ
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:23   

      173      593    2      CALL REL;

    593  5 000216   000513 701000 5                  TSX1    REL
         5 000217   000000 011000                    NOP     0

      174      594    2      END;

    594  5 000220   000007 235000 1                  LDA     I
         5 000221   000001 035007                    ADLA    1,DL
         5 000222   000007 755000 1                  STA     I
         5 000223   000462 236000 1                  LDQ     COUNT
         5 000224   000007 116000 1                  CMPQ    I
         5 000225   000202 603000 5                  TRC     s:588

    588  5 000226                       NOQ          null
      175      595    1   NOQ:;
      176      596    1      J=XTIME.TIME(1)+I*OVH+OVH0;

    596  5 000226   000007 236000 1                  LDQ     I
         5 000227   000464 402000 1                  MPY     OVH
         5 000230   000011 036000 1                  ADLQ    XTIME+1
         5 000231   000463 036000 1                  ADLQ    OVH0
         5 000232   000052 756000 1                  STQ     J

      177      597    1      CALL M$XEQTIME(FPT_XEQTIME);

    597  5 000233   000040 630400 2                  EPPR0   FPT_XEQTIME
         5 000234   020011 713400                    CLIMB   8201
         5 000235   400000 401760                    pmme    nvectors=1

      178      598    1      J=XTIME.TIME(1)-J;

    598  5 000236   000011 236000 1                  LDQ     XTIME+1
         5 000237   000052 136000 1                  SBLQ    J
         5 000240   000052 756000 1                  STQ     J

PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:24   
      179      599    1      IF I~=0 THEN I=I-1;

    599  5 000241   000007 235000 1                  LDA     I
         5 000242   000245 600000 5                  TZE     s:600

    599  5 000243   000001 135007                    SBLA    1,DL
         5 000244   000007 755000 1                  STA     I

      180      600    1      J=(J+I/2)/(IS+1);

    600  5 000245   000007 236000 1                  LDQ     I
         5 000246   000001 772000                    QRL     1
         5 000247   000052 036000 1                  ADLQ    J
         5 000250   000007 235000 1                  LDA     I
         5 000251   000001 035007                    ADLA    1,DL
         5 000252   200012 755100                    STA     NUM$+7,,AUTO
         5 000253   200012 506100                    DIV     NUM$+7,,AUTO
         5 000254   000052 756000 1                  STQ     J

      181      601    1      COUNT=COUNT+1;

    601  5 000255   000462 235000 1                  LDA     COUNT
         5 000256   000001 035007                    ADLA    1,DL
         5 000257   000462 755000 1                  STA     COUNT

      182      602    1      CALL BINCHAR(SUBSTR(CH,0,7),J);

    602  5 000260   000000 301400                    BTD
         5 000261   000052 000004 1                  NDSC9   J                        cn=0,s=lsgnf,sf=0,n=4
         5 000262   000014 030007 1                  NDSC9   CH                       cn=0,s=nosgn,sf=0,n=7

      183      603    1      CALL INSERT(CH,0,4,SUBSTR(CH,1,3),'.');

    603  5 000263   000014 236000 1                  LDQ     CH
         5 000264   000011 736000                    QLS     9
         5 000265   000014 552070 1                  STBQ    CH,'70'O
         5 000266   000056 236007                    LDQ     46,DL
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:25   
         5 000267   000014 552004 1                  STBQ    CH,'04'O

      184      604    1      WRITE.BUF_.BOUND=6;

    604  5 000270   000614 236000 1                  LDQ     WRITE+4
         5 000271   177777 376007                    ANQ     65535,DL
         5 000272   000003 276000 6                  ORQ     3
         5 000273   000614 756000 1                  STQ     WRITE+4

      185      605    1      CALL M$WRITE(WRITE);

    605  5 000274   000610 630400 1                  EPPR0   WRITE
         5 000275   040001 713400                    CLIMB   write
         5 000276   401400 401760                    pmme    nvectors=4

      186      606    2      IF MON+ENQ+DEQ=0 THEN DO;

    606  5 000277   000461 236000 1                  LDQ     MON
         5 000300   000457 036000 1                  ADLQ    ENQ
         5 000301   000460 036000 1                  ADLQ    DEQ
         5 000302   000330 601000 5                  TNZ     s:618

      187      607    2         IF COUNT>=100 THEN OVH=OVH+J;

    607  5 000303   000462 235000 1                  LDA     COUNT
         5 000304   000144 115007                    CMPA    100,DL
         5 000305   000312 602000 5                  TNC     s:608

    607  5 000306   000464 236000 1                  LDQ     OVH
         5 000307   000052 036000 1                  ADLQ    J
         5 000310   000464 756000 1                  STQ     OVH
         5 000311   000323 710000 5                  TRA     s:614

      188      608    3         ELSE IF COUNT=1 THEN DO;

    608  5 000312   000001 115007                    CMPA    1,DL
         5 000313   000323 601000 5                  TNZ     s:614
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:26   

      189      609    3            OVH0=OVH0+J;

    609  5 000314   000463 236000 1                  LDQ     OVH0
         5 000315   000052 036000 1                  ADLQ    J
         5 000316   000463 756000 1                  STQ     OVH0

      190      610    3            MON=1;

    610  5 000317   000001 235007                    LDA     1,DL
         5 000320   000461 755000 1                  STA     MON

      191      611    3            ENQ=1;

    611  5 000321   000457 755000 1                  STA     ENQ

      192      612    3            DEQ=1;

    612  5 000322   000460 755000 1                  STA     DEQ

      193      613    3            END;

      194      614    2         COUNT=0;

    614  5 000323   000462 450000 1                  STZ     COUNT

      195      615    2         CALL M$WAIT(WAIT1);

    615  5 000324   000042 630400 2                  EPPR0   WAIT1
         5 000325   020006 713400                    CLIMB   8198
         5 000326   400400 401760                    pmme    nvectors=2

      196      616    2         GOTO A2;

    616  5 000327   000110 710000 5                  TRA     A2

      197      617    2         END;
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:27   
      198      618    2      IF B$JIT.ERR~=0 THEN DO;

    618  5 000330   000067 235000 1                  LDA     B$JIT+10
         5 000331   000342 600000 5                  TZE     s:622

      199      619    2      B$JIT.ERR=B$JIT.ERR/8*8+131072;

    619  5 000332   000067 236000 1                  LDQ     B$JIT+10
         5 000333   000003 772000                    QRL     3
         5 000334   000003 736000                    QLS     3
         5 000335   400000 036007                    ADLQ    -131072,DL
         5 000336   000067 756000 1                  STQ     B$JIT+10

      200      620    2      CALL M$ERRMSG(ERRMSG);

    620  5 000337   000624 630400 1                  EPPR0   ERRMSG
         5 000340   020000 713400                    CLIMB   8192
         5 000341   405000 401760                    pmme    nvectors=11

      201      621    2      END;

      202      622    1      BREAK=0;

    622  5 000342   000662 450000 1                  STZ     BREAK

      203      623    1      CALL DAD$ENQ(B$JIT);

    623  5 000343   000004 630400 6                  EPPR0   4
         5 000344   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000345   000000 701000 xent               TSX1    DAD$ENQ
         5 000346   000000 011000                    NOP     0

      204      624    1   A3:  CH=' ';

    624  5 000347   040000 100400       A3           MLR     fill='040'O
         5 000350   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         5 000351   000014 000170 1                  ADSC9   CH                       cn=0,n=120
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:28   

      205      625    1      CALL M$READ(READ)ALTRET(DON);

    625  5 000352   000572 630400 1                  EPPR0   READ
         5 000353   440000 713400                    CLIMB   alt,read
         5 000354   401400 401760                    pmme    nvectors=4
         5 000355   000470 702000 5                  TSX2    DON

      206      626    1         IF NOT DCBADDR(DCBNUM(M$SI))->F$DCB.DDEV.IC#

    626  5 000356   000000 236007 xsym               LDQ     M$SI,DL
         5 000357   000002 470400 6                  LDP0    2
         5 000360   000000 471500                    LDP1    0,,PR0
         5 000361   100000 473506                    LDP3    0,QL,PR1
         5 000362   300004 236100                    LDQ     4,,PR3
         5 000363   100000 316007                    CANQ    32768,DL
         5 000364   000372 600000 5                  TZE     s:628
         5 000365   000000 236007 xsym               LDQ     M$LO,DL
         5 000366   100000 473506                    LDP3    0,QL,PR1
         5 000367   300004 236100                    LDQ     4,,PR3
         5 000370   100000 316007                    CANQ    32768,DL
         5 000371   000411 601000 5                  TNZ     s:631

      207      627    2           OR NOT DCBADDR(DCBNUM(M$LO))->F$DCB.DDEV.IC# THEN DO;

      208      628    2            WRITE.BUF_.BOUND=MAXIMUM(DCBADDR(DCBNUM(M$SI))->F$DCB.ARS#,1)-1;

    628  5 000372   000000 236007 xsym               LDQ     M$SI,DL
         5 000373   100000 473506                    LDP3    0,QL,PR1
         5 000374   000001 236007                    LDQ     1,DL
         5 000375   000401 604000 5                  TMI     s:628+7
         5 000376   300000 116100                    CMPQ    0,,PR3
         5 000377   000401 605000 5                  TPL     s:628+7
         5 000400   300000 236100                    LDQ     0,,PR3
         5 000401   000001 136007                    SBLQ    1,DL
         5 000402   000020 736000                    QLS     16
         5 000403   000614 676000 1                  ERQ     WRITE+4
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:29   
         5 000404   000034 376000 xsym               ANQ     B_VECTNIL+28
         5 000405   000614 656000 1                  ERSQ    WRITE+4

      209      629    2            CALL M$WRITE(WRITE);

    629  5 000406   000610 630400 1                  EPPR0   WRITE
         5 000407   040001 713400                    CLIMB   write
         5 000410   401400 401760                    pmme    nvectors=4

      210      630    2            END;

      211      631    1      BREAK=0;

    631  5 000411   000662 450000 1                  STZ     BREAK

      212      632    1      IF CH=' ' THEN GOTO A2;

    632  5 000412   040000 106400                    CMPC    fill='040'O
         5 000413   000014 000170 1                  ADSC9   CH                       cn=0,n=120
         5 000414   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         5 000415   000110 600000 5                  TZE     A2

      213      633    1      RNAM='0'B;

    633  5 000416   000000 100400                    MLR     fill='000'O
         5 000417   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         5 000420   000467 000400 1                  ADSC9   RNAM                     cn=0,n=256

      214      634    1      RI=0;

    634  5 000421   000571 450000 1                  STZ     RI

      215      635    1      I=0;

    635  5 000422   000007 450000 1                  STZ     I

      216      636    1      NUM$=ADDR(COUNT);
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:30   

    636  5 000423   000005 236000 6                  LDQ     5
         5 000424   200003 756100                    STQ     NUM$,,AUTO

      217      637    1      COUNT=0;

    637  5 000425   000462 450000 1                  STZ     COUNT

      218      638    2      DO WHILE(SUBSTR(CH,I,1)~=' ');

    638  5 000426   000460 710000 5                  TRA     s:647

      219      639    2         CALL INDEX1(J,SUBSTR(CH,I,1),INCH)ALTRET(NOV);

    639  5 000427   000007 235000 1                  LDA     I
         5 000430   000005 124400                    SCM     mask='000'O
         5 000431   000064 000030 2                  ADSC9   INCH                     cn=0,n=24
         5 000432   000014 000001 1                  ADSC9   CH,A                     cn=0,n=1
         5 000433   000052 000000 1                  ARG     J
         5 000434   000453 606400 5                  TTN     NOV

      220      640    2         IF J<10 THEN NUM=NUM*10+J;

    640  5 000435   000052 236000 1                  LDQ     J
         5 000436   000012 116007                    CMPQ    10,DL
         5 000437   000446 605000 5                  TPL     s:642

    640  5 000440   200003 470500                    LDP0    NUM$,,AUTO
         5 000441   000000 236100                    LDQ     0,,PR0
         5 000442   000012 402007                    MPY     10,DL
         5 000443   000052 036000 1                  ADLQ    J
         5 000444   000000 756100                    STQ     0,,PR0
         5 000445   000455 710000 5                  TRA     s:646

      221      641    3         ELSE IF '1'B THEN DO;

      222      642    3            NUM$=PTRS(J-10);
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:31   

    642  5 000446   000060 236006 2                  LDQ     TY+8,QL
         5 000447   200003 756100                    STQ     NUM$,,AUTO

      223      643    3            NUM=0;

    643  5 000450   200003 470500                    LDP0    NUM$,,AUTO
         5 000451   000000 450100                    STZ     0,,PR0

      224      644    3         END;

    644  5 000452   000455 710000 5                  TRA     s:646

      225      645    2      ELSE NOV: NUM$=ADDR(J);

    645  5 000453   000006 236000 6     NOV          LDQ     6
         5 000454   200003 756100                    STQ     NUM$,,AUTO

      226      646    2         I=I+1;

    646  5 000455   000007 235000 1                  LDA     I
         5 000456   000001 035007                    ADLA    1,DL
         5 000457   000007 755000 1                  STA     I

      227      647    2         END;

    647  5 000460   000007 235000 1                  LDA     I
         5 000461   040000 106405                    CMPC    fill='040'O
         5 000462   000014 000001 1                  ADSC9   CH,A                     cn=0,n=1
         5 000463   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         5 000464   000427 601000 5                  TNZ     s:639

      228      648    1      IF I=0 THEN GOTO A3;

    648  5 000465   000000 115003                    CMPA    0,DU
         5 000466   000347 600000 5                  TZE     A3

PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:32   
      229      649    1      GOTO A2;

    649  5 000467   000110 710000 5                  TRA     A2

      230      650    1   DON: RETURN;

    650  5 000470   000000 702200 xent  DON          TSX2  ! X66_MARET

      231      651    1   WAIT: PROC ALTRET;

    651  5 000471   200010 741300       WAIT         STX1  ! NUM$+5,,AUTO

      232      652    2      B$JIT.ERR=0;

    652  5 000472   000067 450000 1                  STZ     B$JIT+10

      233      653    2      S$CU$=PINCRW(B$USRT$,S_CUN*16);

    653  5 000473   000455 236000 1                  LDQ     S_CUN
         5 000474   000026 736000                    QLS     22
         5 000475   000061 036000 2                  ADLQ    B$USRT$
         5 000476   000456 756000 1                  STQ     S$CU$

      234      654    2      IF ENQ$$~=ENTADDR(NIL) THEN CALL ENQ$$(CFU$)ALTRET(RETALT);

    654  5 000477   000005 236000 1                  LDQ     ENQ$$
         5 000500   000002 116000 xsym               CMPQ    B_VECTNIL+2
         5 000501   000507 600000 5                  TZE     s:655

    654  5 000502   000007 630400 6                  EPPR0   7
         5 000503   000005 220000 1                  LDX0    ENQ$$
         5 000504   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000505   000000 701010                    TSX1    0,X0
         5 000506   000511 702000 5                  TSX2    RETALT

      235      655    2      RETURN;

PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:33   
    655  5 000507   200010 221300                    LDX1  ! NUM$+5,,AUTO
         5 000510   000001 702211                    TSX2  ! 1,X1

      236      656    2   RETALT: ALTRETURN;

    656  5 000511   200010 221300       RETALT       LDX1  ! NUM$+5,,AUTO
         5 000512   000000 702211                    TSX2  ! 0,X1

      237      657    2   REL: ENTRY ALTRET;

    657  5 000513   200010 741300       REL          STX1  ! NUM$+5,,AUTO

      238      658    2      S$CU$=PINCRW(B$USRT$,S_CUN*16);

    658  5 000514   000455 236000 1                  LDQ     S_CUN
         5 000515   000026 736000                    QLS     22
         5 000516   000061 036000 2                  ADLQ    B$USRT$
         5 000517   000456 756000 1                  STQ     S$CU$

      239      659    2      IF DEQ$$~=ENTADDR(NIL) THEN CALL DEQ$$(CFU$)ALTRET(RETALT);

    659  5 000520   000006 236000 1                  LDQ     DEQ$$
         5 000521   000002 116000 xsym               CMPQ    B_VECTNIL+2
         5 000522   000530 600000 5                  TZE     s:660

    659  5 000523   000007 630400 6                  EPPR0   7
         5 000524   000006 220000 1                  LDX0    DEQ$$
         5 000525   000017 631400 xsym               EPPR1   B_VECTNIL+15
         5 000526   000000 701010                    TSX1    0,X0
         5 000527   000511 702000 5                  TSX2    RETALT

      240      660    2      RETURN;

    660  5 000530   200010 221300                    LDX1  ! NUM$+5,,AUTO
         5 000531   000001 702211                    TSX2  ! 1,X1
      241      661    2      END;
      242      662    1   END;
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:34   
      243      663        %EOD;

PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:35   
--  Include file information  --

   UQ$NODES.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure UD.
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:36   

 **** Variables and constants ****

  ****  Section 001  Data  UD

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    55-0-0/w STRC(9216)  r     1 B$JIT                      2-0-0/w PTR         r     1 B$PS1$
   662-0-0/w UBIN        r     1 BREAK                     14-0-0/c STRC(1080)  r     1 CA
     0-0-0/w UBIN        r     1 CFU                        0-0-0/w PTR         r     1 CFU$
    14-0-0/c CHAR(120)   r     1 CH                       462-0-0/w UBIN        r     1 COUNT
   460-0-0/w UBIN        r     1 DEQ                        6-0-0/w EPTR        r     1 DEQ$$
   457-0-0/w UBIN        r     1 ENQ                        5-0-0/w EPTR        r     1 ENQ$$
   624-0-0/d STRC(936)   r     1 ERRMSG                   656-0-0/d STRC(144)   r     1 FPT_INT
   664-0-0/d STRC(360)   r     1 FPT_TRAP                   7-0-0/w UBIN        r     1 I
     7-0-0/w SBIN        r     1 IS                        52-0-0/w SBIN        r     1 J
    54-0-0/w UBIN        r     1 LCM                        1-0-0/w PTR         r     1 MES$
   461-0-0/w UBIN        r     1 MON                      465-0-0/b BIT (72)    r     1 NOQDAT
   464-0-0/w UBIN        r     1 OVH                      463-0-0/w UBIN        r     1 OVH0
   572-0-0/d STRC(504)   r     1 READ                     571-0-0/w UBIN        r     1 RI
   567-0-0/w UBIN        r     1 RL                       467-0-0/w UBIN        r     1 RNAM(0:63)
   570-0-0/w UBIN        r     1 RV                       456-0-0/w PTR         r     1 S$CU$
    53-0-0/w UBIN        r     1 SM                       455-0-0/w UBIN        r     1 S_CUN
     3-0-0/w STRC(72)    r     1 VAREA                    610-0-0/d STRC(432)   r     1 WRITE
    10-0-0/d STRC(144)   r     1 XTIME

  ****  Section 002 RoData UD

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    61-0-0/w PTR         r     1 B$USRT$                   21-0-0/w EPTR        r     1 DEQ$(0:14)
     2-0-0/w EPTR        r     1 ENQ$(0:14)                40-0-0/d STRC(72)    r     1 FPT_XEQTIME
    64-0-0/c CHAR(24)    r     1 INCH                      72-0-0/w PTR         r     1 PTRS(0:13)
    50-0-0/c CHAR(4)     r     1 TY(0:5)                   42-0-0/d STRC(216)   r     1 WAIT1

  ****  Auto variables  ****
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:37   

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 NUM$

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 U_BASE                     0-0-0/w PTR         r     1 U_BASE$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d ASTR(3528)  r     1 F$DCB                      0-0-0N  NULL        r     1 M$LO
     0-0-0N  NULL        r     1 M$SI                       0-0-0/w UBIN        r     1 NUM
     0-0-0/b UBIN(9)     r     1 RB


   Procedure UD requires 346 words for executable code.
   Procedure UD requires 12 words of local(AUTO) storage.
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:38   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:39   
          MINI XREF LISTING

A1
       564**LABEL     561--CALLALT
A2
       569**LABEL     616--GOTO      632--GOTO      649--GOTO
A3
       624**LABEL     648--GOTO
B$JIT
       375**DCL       379--DCLINIT   380--DCLINIT   381--DCLINIT   623<>CALL
B$JIT.ERR
       377**DCL       491--DCLINIT   618>>IF        619<<ASSIGN    619>>ASSIGN    652<<ASSIGN
B$PS1$
       249**DCL       577<<ASSIGN    579<<ASSIGN
B$USRT$
       380**DCL       653>>ASSIGN    658>>ASSIGN
BREAK
       522**DCL       592>>IF        622<<ASSIGN    631<<ASSIGN
CA.OK
       362**DCL       562<<ASSIGN
CFU
       242**DCL       553<<ASSIGN    584<<ASSIGN
CFU$
       241**DCL       242--REDEF     243--REDEF     585<<ASSIGN    654<>CALL      659<>CALL
CH
       359**DCL       360--REDEF     363--REDEF     429--DCLINIT   430--DCLINIT   467--DCLINIT   468--DCLINIT
       492--DCLINIT   556<<ASSIGN    602<<CALLBLT   603<<CALLBLT   603>>CALLBLT   624<<ASSIGN    632>>IF
       638>>DOWHILE   639>>CALLBLT
COUNT
       393**DCL       390--DCLINIT   582>>IF        582<<ASSIGN    582>>ASSIGN    587>>DOINDEX   601<<ASSIGN
       601>>ASSIGN    607>>IF        608>>IF        614<<ASSIGN    636--ASSIGN    637<<ASSIGN
DAD$ENQ
       263**DCL-ENT   623--CALL
DEQ
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:40   
       386**DCL       389--DCLINIT   575>>ASSIGN    575>>ASSIGN    606>>IF        612<<ASSIGN
DEQ$
       266**DCL       575>>ASSIGN
DEQ$$
       269**DCL       575<<ASSIGN    659>>IF        659>>CALL
DON
       650**LABEL     625--CALLALT
ENQ
       385**DCL       389--DCLINIT   574>>ASSIGN    574>>ASSIGN    580<<ASSIGN    606>>IF        611<<ASSIGN
ENQ$
       264**DCL       574>>ASSIGN
ENQ$$
       268**DCL       574<<ASSIGN    654>>IF        654>>CALL
ERRMSG
       491**DCL       620<>CALL
ERRMSG.V
       495**DCL       491--DCLINIT
F$DCB.ACTPOS
       306**DCL       306--REDEF
F$DCB.ARS#
       280**DCL       280--REDEF     628>>ASSIGN
F$DCB.ATTR
       299**DCL       300--REDEF
F$DCB.BORROW
       314**DCL       314--REDEF     314--REDEF     314--REDEF
F$DCB.CFU$
       315**DCL       585>>ASSIGN
F$DCB.DCBNAME.L
       328**DCL       328--IMP-SIZ
F$DCB.DDEV.IC#
       286**DCL       626>>IF        626>>IF
F$DCB.EOMCHAR#
       284**DCL       284--REDEF
F$DCB.FLDID
       309**DCL       309--REDEF
F$DCB.FORM$
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:41   
       303**DCL       303--REDEF
F$DCB.FSECT
       319**DCL       319--REDEF
F$DCB.FSN#
       296**DCL       296--REDEF     296--REDEF     297--REDEF
F$DCB.HEADER$
       302**DCL       302--REDEF
F$DCB.IXTNSIZE#
       300**DCL       300--REDEF
F$DCB.LASTSTA$
       289**DCL       289--REDEF
F$DCB.LVL
       315**DCL       315--REDEF
F$DCB.NAME#.C
       290**DCL       290--REDEF
F$DCB.NOEOF
       312**DCL       312--REDEF
F$DCB.NRECS#
       301**DCL       301--REDEF
F$DCB.NRECX
       320**DCL       320--REDEF
F$DCB.OHDR
       312**DCL       312--REDEF
F$DCB.ORG#
       295**DCL       295--REDEF
F$DCB.PRECNO
       318**DCL       318--REDEF
F$DCB.RCSZ
       324**DCL       324--REDEF
F$DCB.RES#
       291**DCL       291--REDEF
F$DCB.SETX
       303**DCL       303--REDEF
F$DCB.TAB$
       303**DCL       303--REDEF
F$DCB.TDA
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:42   
       317**DCL       318--REDEF
F$DCB.WSN#
       291**DCL       291--REDEF
FPT_INT
       518**DCL       549<>CALL
FPT_INT.V
       518**DCL       518--DCLINIT
FPT_TRAP
       534**DCL       548<>CALL
FPT_TRAP.V
       534**DCL       534--DCLINIT
FPT_XEQTIME
       341**DCL       586<>CALL      597<>CALL
I
       271**DCL       272--REDEF     554<<DOINDEX   555>>ASSIGN    556>>ASSIGN    587<<DOINDEX   596>>ASSIGN
       599>>IF        599<<ASSIGN    599>>ASSIGN    600>>ASSIGN    635<<ASSIGN    638>>DOWHILE   639>>CALLBLT
       646<<ASSIGN    646>>ASSIGN    648>>IF
INCH
       388**DCL       639>>CALLBLT
IS
       272**DCL       600>>ASSIGN
J
       372**DCL       559<<DOINDEX   560>>ASSIGN    562>>ASSIGN    562>>ASSIGN    596<<ASSIGN    598<<ASSIGN
       598>>ASSIGN    600<<ASSIGN    600>>ASSIGN    602>>CALLBLT   607>>ASSIGN    609>>ASSIGN    639<<CALLBLT
       640>>IF        640>>ASSIGN    642>>ASSIGN    645--ASSIGN
LCM
       374**DCL       390--DCLINIT   576>>ASSIGN    583>>ASSIGN
M$ERRMSG
       101**DCL-ENT   620--CALL
M$INT
        93**DCL-ENT   549--CALL
M$LO
       409**DCL       626--IF
M$READ
        39**DCL-ENT   625--CALL
M$SI
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:43   
       408**DCL       626--IF        628--ASSIGN
M$TRAP
        92**DCL-ENT   548--CALL
M$WAIT
        96**DCL-ENT   570--CALL      615--CALL
M$WRITE
        39**DCL-ENT   565--CALL      605--CALL      629--CALL
M$XEQTIME
       106**DCL-ENT   586--CALL      597--CALL
MES$
       247**DCL       250--DCLINIT
MON
       387**DCL       389--DCLINIT   574>>ASSIGN    575>>ASSIGN    580>>IF        584>>IF        606>>IF
       610<<ASSIGN
NOQ
       588**LABEL     571--REMEMBR   591--CALLALT   592--GOTO
NOQDAT
       396**DCL       571<<REMEMBR
NOV
       645**LABEL     639--CALLALT
NUM
       392**DCL       640<<ASSIGN    640>>ASSIGN    643<<ASSIGN
NUM$
       391**DCL       392--IMP-PTR   636<<ASSIGN    640>>ASSIGN    640>>ASSIGN    642<<ASSIGN    643>>ASSIGN
       645<<ASSIGN
OVH
       395**DCL       596>>ASSIGN    607<<ASSIGN    607>>ASSIGN
OVH0
       394**DCL       596>>ASSIGN    609<<ASSIGN    609>>ASSIGN
PTRS
       389**DCL       642>>ASSIGN
QENTRY.DOM_USER
       212**DCL       215--REDEF
QENTRY.REQUEST
       199**DCL       202--REDEF
QENTRY.UPGRADE
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:44   
       203**DCL       206--REDEF
RB
       399**DCL       551<<ASSIGN    573<<ASSIGN
READ
       427**DCL       625<>CALL
READ.STATION_
       430**DCL       431--REDEF
READ.V
       431**DCL       427--DCLINIT
READ.V.DVBYTE.REREAD#
       442**DCL       442--REDEF
READ.V.INDX#
       440**DCL       440--REDEF
REL IN PROCEDURE WAIT
       657**ENTRY     563--CALL      567--CALL      593--CALL
RETALT IN PROCEDURE WAIT
       656**LABEL     654--CALLALT   659--CALLALT
RI
       401**DCL       390--DCLINIT   590>>ASSIGN    634<<ASSIGN
RL
       398**DCL       390--DCLINIT   573>>ASSIGN    577>>IF        589>>ASSIGN
RNAM
       397**DCL       249--DCLINIT   551--ASSIGN    573--ASSIGN    577--ASSIGN    589<<ASSIGN    633<<ASSIGN
RV
       400**DCL       390--DCLINIT   588<<ASSIGN    588>>ASSIGN    589>>ASSIGN    590<<ASSIGN    590>>ASSIGN
S$CU$
       384**DCL       653<<ASSIGN    658<<ASSIGN
SM
       373**DCL       390--DCLINIT   576>>ASSIGN    583>>ASSIGN
S_CUN
       383**DCL       389--DCLINIT   558<<ASSIGN    566<<ASSIGN    653>>ASSIGN    658>>ASSIGN
TY
       370**DCL       556>>ASSIGN    562>>ASSIGN
UDBRK
       521**DCL-ENT   518--DCLINIT
UDIPR
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:45   
       546**DCL-ENT   536--DCLINIT
UQB$DELQID
       259**DCL-ENT   267--DCLINIT
UQB$DELQIDX
       260**DCL-ENT   267--DCLINIT
UQB$DELUSER
       262**DCL-ENT   267--DCLINIT
UQB$MDEQ
       258**DCL-ENT   266--DCLINIT
UQB$MENQS
       256**DCL-ENT   265--DCLINIT
UQB$MENQX
       257**DCL-ENT   265--DCLINIT
UQB$UDEQ
       261**DCL-ENT   266--DCLINIT   269--DCLINIT
UQB$UENQ
       255**DCL-ENT   264--DCLINIT   268--DCLINIT
UQC$INIT
       270**DCL-ENT   550--CALL
UQ_.NEXT_PAGE@
       227**DCL       228--REDEF
U_BASE
       406**DCL       407--REDEF
U_BASE$
       407**DCL       224--IMP-PTR
VAREA
       251**DCL       248--DCLINIT
VAREA.SML
       253**DCL       555<<ASSIGN    560<<ASSIGN    576<<ASSIGN    583<<ASSIGN
VAREA.WT
       254**DCL       569<<ASSIGN
WAIT
       651**PROC      557--CALL      561--CALL      591--CALL
WAIT1
       354**DCL       570<>CALL      615<>CALL
WAIT1.V
PL6.E3A0      #001=UD File=UQD$DEBUG.:E05TSI                                     WED 07/30/97 07:03 Page:46   
       355**DCL       354--DCLINIT
WRITE
       466**DCL       565<>CALL      605<>CALL      629<>CALL
WRITE.BUF_.BOUND
       466**DCL       552<<ASSIGN    604<<ASSIGN    628<<ASSIGN
WRITE.STATION_
       468**DCL       468--REDEF
WRITE.V
       469**DCL       466--DCLINIT
WRITE.V.DVBYTE.VFC#
       475**DCL       475--REDEF
XTIME
       357**DCL       341--DCLINIT
XTIME.TIME
       358**DCL       596>>ASSIGN    598>>ASSIGN

PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:47   
      244        1        /*T***********************************************************/
      245        2        /*T*                                                         */
      246        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      247        4        /*T*                                                         */
      248        5        /*T***********************************************************/
      249        6        SSR$RUE: PROC(EV,USR,WT,WW)ALTRET;
      250        7    1   DCL EV UBIN;
      251        8    1   DCL USR UBIN(9)UNAL;
      252        9    1   DCL WT UBIN;
      253       10    1   DCL WW UBIN;
      254       11    1   DCL NOQDAT BIT(72)SYMREF;
      255       12        %INCLUDE CP_6;
      256       93        %FPT_SAD(STCLASS=CONSTANT,MONSID='6004'O,USERSID='6021'O);
      257      108    1   DCL B36 BIT(36) BASED ALIGNED;
      258      109        %FPT_GDS(SEGSIZE=1024,RESULTS=DS3);
      259      125        %FPT_WRITE(FPTN=WRITE,DCB=M$LO,BUF=CH);
      260      156    1   DCL CH CHAR(12)SYMREF;
      261      157    1   DCL M$LO DCB;
      262      158    1   DCL B$PS1$ PTR SYMREF;
      263      159    1   DCL DS3 BIT(72)STATIC INIT('0'B);
      264      160    1   DCL U_NULL$ BIT(36)STATIC SYMDEF INIT('000000006006'O);
      265      161    1      CALL BINCHAR(SUBSTR(CH,0,2),USR);
      266      162    1      CALL INSERT(CH,2,10,' Awake');
      267      163    1      CALL M$WRITE(WRITE);RETURN;
      268      164    1   SSR$REG: ENTRY(EV,USR,WT)ALTRET;
      269      165    1      CH='Waiting';
      270      166    1      CALL M$WRITE(WRITE);
      271      167    1      UNWIND TO NOQDAT;
      272      168    1   HFC$LOCK: ENTRY(EV);
      273      169    1   HFC$UNLOCK:ENTRY(EV);
      274      170    1      RETURN;
      275      171    1   MMH$GDS: ENTRY(EV,USR,WT,WW)ALTRET;
      276      172    1      CALL M$GDS(FPT_GDS);
      277      173    1      RETURN;
      278      174    1   HFF$NILERASE:ENTRY(EV)ALTRET;
      279      175    1      IF EV=1 AND B$PS1$=ADDR(NIL) THEN ALTRETURN;
      280      176    1      RETURN;
PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:48   
      281      177    1   DAM$MAP: ENTRY(EV,USR);
      282      178    1      IF EV=BITBIN(U_NULL$) THEN ADDR(USR)->B36=U_NULL$;
      283      179    2      ELSE DO;
      284      180    2         CALL M$SAD(FPT_SAD);
      285      181    2         ADDR(USR)->B36=BINBIT(BITBIN('6021'O),36);
      286      182    2         END;
      287      183    1      RETURN;
      288      184    1      END;
      289      185        %EOD;

PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:49   
--  Include file information  --

   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure SSR$RUE.

   Procedure SSR$RUE requires 73 words for executable code.
   Procedure SSR$RUE requires 12 words of local(AUTO) storage.

PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:50   

 Object Unit name= SSR$RUE                                    File name= UQD$DEBUG.:E05TOU
 UTS= JUL 30 '97 07:03:45.00 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1  RoData even  UTS      8     10  SSR$RUE
    2   Data  even  none    21     25  SSR$RUE
    3   DCB   even  none     0      0  M$LO
    4   Proc  even  none    73    111  SSR$RUE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     4      0   yes    yes     yes      Std        4  SSR$RUE
     4     23          yes     yes      Std        3  SSR$REG
     4     41          yes     yes      Std        1  HFC$LOCK
     4     44          yes     yes      Std        1  HFC$UNLOCK
     4     47          yes     yes      Std        4  MMH$GDS
     4     55          yes     yes      Std        1  HFF$NILERASE
     4     70          yes     yes      Std        2  DAM$MAP

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    2     24  U_NULL$
PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:51   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X66_AUTO_4
                       nStd      0 X66_ARET
                       nStd      0 X66_AUNWIND
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AALT

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NOQDAT                                M$UC                                  CH
     M$LO                                  B$PS1$                                B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:52   


      244        1        /*T***********************************************************/
      245        2        /*T*                                                         */
      246        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      247        4        /*T*                                                         */
      248        5        /*T***********************************************************/
      249        6        SSR$RUE: PROC(EV,USR,WT,WW)ALTRET;

      6  4 000000   000000 700200 xent  SSR$RUE      TSX0  ! X66_AUTO_4
         4 000001   000014 000004                    ZERO    12,4

      250        7    1   DCL EV UBIN;
      251        8    1   DCL USR UBIN(9)UNAL;
      252        9    1   DCL WT UBIN;
      253       10    1   DCL WW UBIN;
      254       11    1   DCL NOQDAT BIT(72)SYMREF;
      255       12        %INCLUDE CP_6;
      256       93        %FPT_SAD(STCLASS=CONSTANT,MONSID='6004'O,USERSID='6021'O);
      257      108    1   DCL B36 BIT(36) BASED ALIGNED;
      258      109        %FPT_GDS(SEGSIZE=1024,RESULTS=DS3);
      259      125        %FPT_WRITE(FPTN=WRITE,DCB=M$LO,BUF=CH);
      260      156    1   DCL CH CHAR(12)SYMREF;
      261      157    1   DCL M$LO DCB;
      262      158    1   DCL B$PS1$ PTR SYMREF;
      263      159    1   DCL DS3 BIT(72)STATIC INIT('0'B);
      264      160    1   DCL U_NULL$ BIT(36)STATIC SYMDEF INIT('000000006006'O);
      265      161    1      CALL BINCHAR(SUBSTR(CH,0,2),USR);

    161  4 000002   200004 470500                    LDP0    @USR,,AUTO
         4 000003   003100 061500                    CSR     bolr='003'O
         4 000004   000000 000011                    BDSC    0,,PR0                   by=0,bit=0,n=9
         4 000005   200010 000044                    BDSC    @WW+2,,AUTO              by=0,bit=0,n=36
         4 000006   200010 236100                    LDQ     @WW+2,,AUTO
         4 000007   000000 235003                    LDA     0,DU
         4 000010   200012 757100                    STAQ    @WW+4,,AUTO
         4 000011   000000 301500                    BTD
         4 000012   200012 000010                    NDSC9   @WW+4,,AUTO              cn=0,s=lsgnf,sf=0,n=8
PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:53   
         4 000013   000000 030002 xsym               NDSC9   CH                       cn=0,s=nosgn,sf=0,n=2

      266      162    1      CALL INSERT(CH,2,10,' Awake');

    162  4 000014   040000 100400                    MLR     fill='040'O
         4 000015   000004 000006 1                  ADSC9   FPT_SAD+4                cn=0,n=6
         4 000016   000000 400012 xsym               ADSC9   CH                       cn=2,n=10

      267      163    1      CALL M$WRITE(WRITE);RETURN;

    163  4 000017   000006 630400 2                  EPPR0   WRITE
         4 000020   040001 713400                    CLIMB   write
         4 000021   401400 401760                    pmme    nvectors=4

    163  4 000022   000000 702200 xent               TSX2  ! X66_ARET

      268      164    1   SSR$REG: ENTRY(EV,USR,WT)ALTRET;

    164  4 000023   000000 700200 xent  SSR$REG      TSX0  ! X66_AUTO_4
         4 000024   000014 000004                    ZERO    12,4

      269      165    1      CH='Waiting';

    165  4 000025   040000 100400                    MLR     fill='040'O
         4 000026   000006 000007 1                  ADSC9   FPT_SAD+6                cn=0,n=7
         4 000027   000000 000014 xsym               ADSC9   CH                       cn=0,n=12

      270      166    1      CALL M$WRITE(WRITE);

    166  4 000030   000006 630400 2                  EPPR0   WRITE
         4 000031   040001 713400                    CLIMB   write
         4 000032   401400 401760                    pmme    nvectors=4

      271      167    1      UNWIND TO NOQDAT;

    167  4 000033   000100 100600                    MLR   ! fill='000'O
         4 000034   000000 000010 xsym               ADSC9   NOQDAT                   cn=0,n=8
PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:54   
         4 000035   200010 000010                    ADSC9   @WW+2,,AUTO              cn=0,n=8
         4 000036   200010 237300                    LDAQ  ! @WW+2,,AUTO
         4 000037   000000 700200 xent               TSX0  ! X66_AUNWIND
         4 000040   000000 000200                    ZERO    0,128

      272      168    1   HFC$LOCK: ENTRY(EV);

    168  4 000041   000000 700200 xent  HFC$LOCK     TSX0  ! X66_AUTO_4
         4 000042   000014 000004                    ZERO    12,4
         4 000043   000046 710000 4                  TRA     s:170

      273      169    1   HFC$UNLOCK:ENTRY(EV);

    169  4 000044   000000 700200 xent  HFC$UNLOCK   TSX0  ! X66_AUTO_4
         4 000045   000014 000004                    ZERO    12,4

      274      170    1      RETURN;

    170  4 000046   000000 702200 xent               TSX2  ! X66_ARET

      275      171    1   MMH$GDS: ENTRY(EV,USR,WT,WW)ALTRET;

    171  4 000047   000000 700200 xent  MMH$GDS      TSX0  ! X66_AUTO_4
         4 000050   000014 000004                    ZERO    12,4

      276      172    1      CALL M$GDS(FPT_GDS);

    172  4 000051   000000 630400 2                  EPPR0   FPT_GDS
         4 000052   030001 713400                    CLIMB   gds
         4 000053   400400 401760                    pmme    nvectors=2

      277      173    1      RETURN;

    173  4 000054   000000 702200 xent               TSX2  ! X66_ARET

      278      174    1   HFF$NILERASE:ENTRY(EV)ALTRET;

PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:55   
    174  4 000055   000000 700200 xent  HFF$NILERASE TSX0  ! X66_AUTO_4
         4 000056   000014 000004                    ZERO    12,4

      279      175    1      IF EV=1 AND B$PS1$=ADDR(NIL) THEN ALTRETURN;

    175  4 000057   200003 470500                    LDP0    @EV,,AUTO
         4 000060   000000 235100                    LDA     0,,PR0
         4 000061   000001 115007                    CMPA    1,DL
         4 000062   000067 601000 4                  TNZ     s:176
         4 000063   000000 236000 xsym               LDQ     B$PS1$
         4 000064   000001 116000 xsym               CMPQ    B_VECTNIL+1
         4 000065   000067 601000 4                  TNZ     s:176

    175  4 000066   000000 702200 xent               TSX2  ! X66_AALT

      280      176    1      RETURN;

    176  4 000067   000000 702200 xent               TSX2  ! X66_ARET

      281      177    1   DAM$MAP: ENTRY(EV,USR);

    177  4 000070   000000 700200 xent  DAM$MAP      TSX0  ! X66_AUTO_4
         4 000071   000014 000004                    ZERO    12,4

      282      178    1      IF EV=BITBIN(U_NULL$) THEN ADDR(USR)->B36=U_NULL$;

    178  4 000072   200003 470500                    LDP0    @EV,,AUTO
         4 000073   000000 236100                    LDQ     0,,PR0
         4 000074   000024 116000 2                  CMPQ    U_NULL$
         4 000075   000102 601000 4                  TNZ     s:180

    178  4 000076   000024 236000 2                  LDQ     U_NULL$
         4 000077   200004 471500                    LDP1    @USR,,AUTO
         4 000100   100000 756100                    STQ     0,,PR1
         4 000101   000110 710000 4                  TRA     s:183

      283      179    2      ELSE DO;
PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:56   

      284      180    2         CALL M$SAD(FPT_SAD);

    180  4 000102   000000 630400 1                  EPPR0   FPT_SAD
         4 000103   030015 713400                    CLIMB   12301
         4 000104   400000 401760                    pmme    nvectors=1

      285      181    2         ADDR(USR)->B36=BINBIT(BITBIN('6021'O),36);

    181  4 000105   006021 236007                    LDQ     3089,DL
         4 000106   200004 470500                    LDP0    @USR,,AUTO
         4 000107   000000 756100                    STQ     0,,PR0

      286      182    2         END;

      287      183    1      RETURN;

    183  4 000110   000000 702200 xent               TSX2  ! X66_ARET
      288      184    1      END;
      289      185        %EOD;

PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:57   
--  Include file information  --

   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure SSR$RUE.
PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:58   

 **** Variables and constants ****

  ****  Section 001 RoData SSR$RUE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(144)   r     1 FPT_SAD

  ****  Section 002  Data  SSR$RUE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    22-0-0/b BIT (72)    r     1 DS3                        0-0-0/d STRC(216)   r     1 FPT_GDS
    24-0-0/b BIT         r     1 U_NULL$                    6-0-0/d STRC(432)   r     1 WRITE

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @EV                        4-0-0/w PTR         r     1 @USR
     5-0-0/w PTR         r     1 @WT                        6-0-0/w PTR         r     1 @WW
    *0-0-0/w UBIN        r     1 EV                        *0-0-0/b UBIN(9)     r     1 USR
    *0-0-0/w UBIN        r     1 WT                        *0-0-0/w UBIN        r     1 WW

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$PS1$                     0-0-0/c CHAR(12)    r     1 CH
     0-0-0/b BIT (72)    r     1 NOQDAT

  ****  BASED and DCB variables  ****

PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:59   
  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w BIT         r     1 B36                        0-0-0N  NULL        r     1 M$LO


   Procedure SSR$RUE requires 73 words for executable code.
   Procedure SSR$RUE requires 12 words of local(AUTO) storage.
PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:60   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:61   
          MINI XREF LISTING

B$PS1$
       158**DCL       175>>IF
B36
       108**DCL       178<<ASSIGN    181<<ASSIGN
CH
       156**DCL       143--DCLINIT   144--DCLINIT   161<<CALLBLT   162<<CALLBLT   165<<ASSIGN
DS3
       159**DCL       120--DCLINIT
EV
         7**DCL         6--PROC      164--ENTRY     168--ENTRY     169--ENTRY     171--ENTRY     174--ENTRY
       175>>IF        177--ENTRY     178>>IF
FPT_GDS
       120**DCL       172<>CALL
FPT_GDS.V
       120**DCL       120--DCLINIT
FPT_SAD
       104**DCL       180<>CALL
FPT_SAD.V
       104**DCL       104--DCLINIT
M$GDS
        56**DCL-ENT   172--CALL
M$SAD
        60**DCL-ENT   180--CALL
M$WRITE
        22**DCL-ENT   163--CALL      166--CALL
NOQDAT
        11**DCL       167>>UNWIND
USR
         8**DCL         6--PROC      161>>CALLBLT   164--ENTRY     171--ENTRY     177--ENTRY     178--ASSIGN
       181--ASSIGN
U_NULL$
       160**DCL       178>>IF        178>>ASSIGN
PL6.E3A0      #002=SSR$RUE File=UQD$DEBUG.:E05TSI                                WED 07/30/97 07:03 Page:62   
WRITE
       142**DCL       163<>CALL      166<>CALL
WRITE.STATION_
       144**DCL       144--REDEF
WRITE.V
       145**DCL       142--DCLINIT
WRITE.V.DVBYTE.VFC#
       151**DCL       151--REDEF
WT
         9**DCL         6--PROC      164--ENTRY     171--ENTRY
WW
        10**DCL         6--PROC      171--ENTRY

PL6.E3A0      #003=UDBRK File=UQD$DEBUG.:E05TSI                                  WED 07/30/97 07:03 Page:63   
      290        1        /*T***********************************************************/
      291        2        /*T*                                                         */
      292        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      293        4        /*T*                                                         */
      294        5        /*T***********************************************************/
      295        6        UDBRK: PROC ASYNC;
      296        7    1   DCL BREAK UBIN SYMREF;
      297        8    1   DCL CH CHAR(120) SYMREF;
      298        9    1   DCL M$LO DCB;
      299       10        %INCLUDE CP_6;
      300       91        %FPT_TRTN;
      301      108        %FPT_ERRMSG(CODE=BREAK,OUTDCB1=M$LO,BUF=CH,FILENAME=SCRCH);
      302      135        %VLP_NAME(FPTN=SCRCH,NAME=':SCRMSG',STCLASS=CONSTANT);
      303      162    1   DCL B36 UBIN BASED ALIGNED;
      304      163    1   DCL HW0 UBIN HALF BASED ALIGNED;
      305      164    1   DCL B$IS$ BIT(36) CONSTANT SYMDEF INIT('000000006000'O);
      306      165    1   DCL LS0 REDEF B$IS$ PTR;
      307      166        %B$TCB;
      308      169        %B$EXCFR;
      309      187    1   DCL B$TCB$ PTR SYMREF;
      310      188        %SUB B$EXCFR ="B$TCB$->B$TCB.STK$->B$EXCFR";
      311      189    1   DCL X66_TRTN ENTRY(1);
      312      190    1      BREAK=1;
      313      191    1      RETURN;
      314      192    1   UDIPR: ENTRY ASYNC;
      315      193    1      BREAK=PINCRW(LS0,PINCRW(LS0,B$EXCFR.IC)->HW0)->B36;
      316      194    1      CALL M$ERRMSG(FPT_ERRMSG);
      317      195    1      FPT_TRTN.V.IC#=B$EXCFR.IC+2;
      318      196    1      CALL X66_TRTN(FPT_TRTN);
      319      197    1      END UDBRK;

PL6.E3A0      #003=UDBRK File=UQD$DEBUG.:E05TSI                                  WED 07/30/97 07:03 Page:64   
--  Include file information  --

   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure UDBRK.

   Procedure UDBRK requires 27 words for executable code.
   Procedure UDBRK requires 4 words of local(AUTO) storage.

    No errors detected in file UQD$DEBUG.:E05TSI    .

PL6.E3A0      #003=UDBRK File=UQD$DEBUG.:E05TSI                                  WED 07/30/97 07:03 Page:65   

 Object Unit name= UDBRK                                      File name= UQD$DEBUG.:E05TOU
 UTS= JUL 30 '97 07:03:50.68 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$LO
    1   DCB   even  none     0      0  M$UC
    2   Data  even  none    34     42  UDBRK
    3  RoData even  UTS      3      3  UDBRK
    4   Proc  even  none    27     33  UDBRK
    5  RoData even  none     1      1  UDBRK

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     4      0   yes            yes     Async       0  UDBRK
     4      5                  yes     Async       0  UDIPR

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    3      2  B$IS$

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       1 X66_TRTN
                       nStd      0 X66_AAUTO
                       nStd      0 X66_AARET
                       Std       0 B_CONSPOOL_D
PL6.E3A0      #003=UDBRK File=UQD$DEBUG.:E05TSI                                  WED 07/30/97 07:03 Page:66   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     BREAK                                 CH                                    M$LO
     M$UC                                  B$TCB$                                B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #003=UDBRK File=UQD$DEBUG.:E05TSI                                  WED 07/30/97 07:03 Page:67   


      290        1        /*T***********************************************************/
      291        2        /*T*                                                         */
      292        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      293        4        /*T*                                                         */
      294        5        /*T***********************************************************/
      295        6        UDBRK: PROC ASYNC;

      6  4 000000   000000 700200 xent  UDBRK        TSX0  ! X66_AAUTO
         4 000001   000004 000000                    ZERO    4,0

      296        7    1   DCL BREAK UBIN SYMREF;
      297        8    1   DCL CH CHAR(120) SYMREF;
      298        9    1   DCL M$LO DCB;
      299       10        %INCLUDE CP_6;
      300       91        %FPT_TRTN;
      301      108        %FPT_ERRMSG(CODE=BREAK,OUTDCB1=M$LO,BUF=CH,FILENAME=SCRCH);
      302      135        %VLP_NAME(FPTN=SCRCH,NAME=':SCRMSG',STCLASS=CONSTANT);
      303      162    1   DCL B36 UBIN BASED ALIGNED;
      304      163    1   DCL HW0 UBIN HALF BASED ALIGNED;
      305      164    1   DCL B$IS$ BIT(36) CONSTANT SYMDEF INIT('000000006000'O);
      306      165    1   DCL LS0 REDEF B$IS$ PTR;
      307      166        %B$TCB;
      308      169        %B$EXCFR;
      309      187    1   DCL B$TCB$ PTR SYMREF;
      310      188        %SUB B$EXCFR ="B$TCB$->B$TCB.STK$->B$EXCFR";
      311      189    1   DCL X66_TRTN ENTRY(1);
      312      190    1      BREAK=1;

    190  4 000002   000001 235007                    LDA     1,DL
         4 000003   000000 755000 xsym               STA     BREAK

      313      191    1      RETURN;

    191  4 000004   000000 702200 xent               TSX2  ! X66_AARET

      314      192    1   UDIPR: ENTRY ASYNC;
PL6.E3A0      #003=UDBRK File=UQD$DEBUG.:E05TSI                                  WED 07/30/97 07:03 Page:68   

    192  4 000005   000000 700200 xent  UDIPR        TSX0  ! X66_AAUTO
         4 000006   000004 000000                    ZERO    4,0

      315      193    1      BREAK=PINCRW(LS0,PINCRW(LS0,B$EXCFR.IC)->HW0)->B36;

    193  4 000007   000000 470400 xsym               LDP0    B$TCB$
         4 000010   000001 471500                    LDP1    1,,PR0
         4 000011   100004 220100                    LDX0    4,,PR1
         4 000012   000002 473400 3                  LDP3    B$IS$
         4 000013   300000 221110                    LDX1    0,X0,PR3
         4 000014   300000 235111                    LDA     0,X1,PR3
         4 000015   000000 755000 xsym               STA     BREAK

      316      194    1      CALL M$ERRMSG(FPT_ERRMSG);

    194  4 000016   000010 630400 2                  EPPR0   FPT_ERRMSG
         4 000017   020000 713400                    CLIMB   8192
         4 000020   405000 401760                    pmme    nvectors=11

      317      195    1      FPT_TRTN.V.IC#=B$EXCFR.IC+2;

    195  4 000021   000000 470400 xsym               LDP0    B$TCB$
         4 000022   000001 471500                    LDP1    1,,PR0
         4 000023   100004 220100                    LDX0    4,,PR1
         4 000024   000002 621010                    EAX1    2,X0
         4 000025   000006 741000 2                  STX1    FPT_TRTN+6

      318      196    1      CALL X66_TRTN(FPT_TRTN);

    196  4 000026   000000 630400 5                  EPPR0   0
         4 000027   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000030   000000 701000 xent               TSX1    X66_TRTN
         4 000031   000000 011000                    NOP     0

      319      197    1      END UDBRK;

PL6.E3A0      #003=UDBRK File=UQD$DEBUG.:E05TSI                                  WED 07/30/97 07:03 Page:69   
    197  4 000032   000000 702200 xent               TSX2  ! X66_AARET

PL6.E3A0      #003=UDBRK File=UQD$DEBUG.:E05TSI                                  WED 07/30/97 07:03 Page:70   
--  Include file information  --

   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure UDBRK.
PL6.E3A0      #003=UDBRK File=UQD$DEBUG.:E05TSI                                  WED 07/30/97 07:03 Page:71   

 **** Variables and constants ****

  ****  Section 002  Data  UDBRK

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    10-0-0/d STRC(936)   r     1 FPT_ERRMSG                 0-0-0/d STRC(288)   r     1 FPT_TRTN

  ****  Section 003 RoData UDBRK

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     2-0-0/b BIT         r     1 B$IS$                      2-0-0/w PTR         r     1 LS0
     0-0-0/c STRC(72)    r     1 SCRCH

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$TCB$                     0-0-0/w UBIN        r     1 BREAK
     0-0-0/c CHAR(120)   r     1 CH

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(2448)  r     1 B$EXCFR                    0-0-0/w STRC(144)   r     1 B$TCB
     0-0-0/w UBIN        r     1 B36                        0-0-0/w UBIN(18)    r     1 HW0
     0-0-0N  NULL        r     1 M$LO


   Procedure UDBRK requires 27 words for executable code.
PL6.E3A0      #003=UDBRK File=UQD$DEBUG.:E05TSI                                  WED 07/30/97 07:03 Page:72   
   Procedure UDBRK requires 4 words of local(AUTO) storage.

    No errors detected in file UQD$DEBUG.:E05TSI    .
PL6.E3A0      #003=UDBRK File=UQD$DEBUG.:E05TSI                                  WED 07/30/97 07:03 Page:73   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #003=UDBRK File=UQD$DEBUG.:E05TSI                                  WED 07/30/97 07:03 Page:74   
          MINI XREF LISTING

B$EXCFR.ASL
       170**DCL       170--REDEF
B$EXCFR.ERR.ERR#
       184**DCL       184--REDEF
B$EXCFR.EVID
       183**DCL       183--REDEF     184--REDEF
B$EXCFR.IC
       171**DCL       193>>ASSIGN    195>>ASSIGN
B$EXCFR.IR
       171**DCL       171--REDEF
B$EXCFR.PREVSZ
       170**DCL       170--REDEF
B$EXCFR.SUBC
       182**DCL       182--REDEF     183--REDEF     183--REDEF
B$IS$
       164**DCL       165--REDEF
B$TCB.STK$
       167**DCL       193>>ASSIGN    195>>ASSIGN
B$TCB$
       187**DCL       193>>ASSIGN    195>>ASSIGN
B36
       162**DCL       193>>ASSIGN
BREAK
         7**DCL       119--DCLINIT   190<<ASSIGN    193<<ASSIGN
CH
         8**DCL       120--DCLINIT
FPT_ERRMSG
       119**DCL       194<>CALL
FPT_ERRMSG.V
       123**DCL       119--DCLINIT
FPT_TRTN
       102**DCL       196<>CALL
PL6.E3A0      #003=UDBRK File=UQD$DEBUG.:E05TSI                                  WED 07/30/97 07:03 Page:75   
FPT_TRTN.V
       103**DCL       103--DCLINIT
FPT_TRTN.V.IC#
       103**DCL       195<<ASSIGN
FPT_TRTN.V.IR#
       103**DCL       104--REDEF
HW0
       163**DCL       193>>ASSIGN
LS0
       165**DCL       193>>ASSIGN    193>>ASSIGN
M$ERRMSG
        82**DCL-ENT   194--CALL
SCRCH
       160**DCL       120--DCLINIT
X66_TRTN
       189**DCL-ENT   196--CALL

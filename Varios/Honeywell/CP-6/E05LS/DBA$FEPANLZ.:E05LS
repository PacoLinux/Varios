VERSION E05

PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:1    
        1        1        /*M* DBA$FEPANLZ - SUBROUTINES FOR FEP PORTION OF ANLZ */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /**/
        8        8        DBA$EXPRESSION: PROC(TOP,VALUE,UNO) ALTRET;
        9        9        /**/
       10       10        %INCLUDE XU_MACRO_C;
       11     3116        %INCLUDE DA_CMD_C;
       12     3465        %INCLUDE B$OBJECT_C;
       13     6895        /**/
       14     6896        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
       15     6941    1   DCL VALUE SBIN;
       16     6942    1   DCL UNO SBIN;
       17     6943        /**/
       18     6944    1   DCL V1 SBIN;
       19     6945    1   DCL V2 SBIN;
       20     6946    1   DCL I SBIN;
       21     6947    1   DCL X SBIN;
       22     6948    1   DCL USERNO SBIN;
       23     6949        /**/
       24     6950    1   DCL DAA$VALUE ENTRY(3) ALTRET;
       25     6951    1   DCL DAS$SDSRCH ENTRY(2) ALTRET;
       26     6952    1   DCL DAS$EDSRCH ENTRY(2) ALTRET;
       27     6953    1   DCL DBM$GETMEM ENTRY(10) ALTRET;
       28     6954    1   DCL DBM$PACK4 ENTRY(2);
       29     6955        /**/
       30     6956        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
       31     7001        %PARSE$SYM (NAME=SYM,STCLASS=BASED);
       32     7039        /**/
       33     7040    1   DCL DA_SYMERR BIT(36) SYMREF;
       34     7041        /**/
       35     7042        %EJECT;
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:2    
       36     7043        /**/
       37     7044    1           IF ADDR(UNO)=ADDR(NIL) THEN
       38     7045    1              USERNO=0;
       39     7046    1           ELSE
       40     7047    1              USERNO=UNO;
       41     7048    1           I=1;
       42     7049    2           CALL VALUE(V1,0) WHENALTRETURN DO; ALTRETURN; END;
       43     7050    2           DO WHILE(I<TOP.NSUBLKS);
       44     7051    3              CALL VALUE(V2,I+1) WHENALTRETURN DO; ALTRETURN; END;
       45     7052    3              DO CASE(TOP.SUBLK$(I)->OUT.CODE);
       46     7053    3               CASE(%DA_OP_PLUS);
       47     7054    3                 V1=V1+V2;
       48     7055    3               CASE(%DA_OP_MINUS);
       49     7056    3                 V1=V1-V2;
       50     7057    3               CASE(%DA_OP_POINT);
       51     7058    4                 CALL DBM$GETMEM(V1,X,USERNO,4,,4) WHENALTRETURN DO;
       52     7059    4                    ALTRETURN;
       53     7060    4                    END;
       54     7061    3                 CALL DBM$PACK4(X,V1);
       55     7062    3                 V1=V1+V2;
       56     7063    3               CASE(%DA_OP_MULT);
       57     7064    3                 V1=V1*V2;
       58     7065    3               CASE(%DA_OP_DIV);
       59     7066    3                 V1=V1/V2;
       60     7067    3               END;
       61     7068    2              I=I+2;
       62     7069    2              END;
       63     7070    1           VALUE=V1;
       64     7071    1           RETURN;
       65     7072        /**/
       66     7073    1   VALUE: PROC(V,NODX) ALTRET;
       67     7074        /**/
       68     7075    2   DCL V SBIN;
       69     7076    2   DCL NODX SBIN;
       70     7077    2   DCL DEF$ PTR;
       71     7078        %B$SDEF (NAME=SDEF,STCLASS="BASED(DEF$)");
       72     7132        %B$EDEF (NAME=EDEF,STCLASS="BASED(DEF$)");
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:3    
       73     7202        /**/
       74     7203    3           DO CASE(TOP.SUBLK$(NODX)->OUT.CODE);
       75     7204    3            CASE(%DA_EXP_SEGMENT);
       76     7205    3              V=TOP.SUBLK$(NODX)->OUT.SUBLK$(0)->OUT.CODE*256;
       77     7206    3              IF TOP.SUBLK$(NODX+1)->OUT.CODE=%DA_OP_POINT THEN
       78     7207    3                 TOP.SUBLK$(NODX+1)->OUT.CODE=%DA_OP_PLUS;
       79     7208    3            CASE(%DA_EXP_NUMBER);
       80     7209    4              CALL DAA$VALUE(TOP.SUBLK$(NODX)->OUT.SUBLK$(0)->OUT,V) WHENALTRETURN DO;
       81     7210    4                 ALTRETURN;
       82     7211    4                 END;
       83     7212    3            CASE(%DA_EXP_SYMBOL);
       84     7213    4              CALL DAS$SDSRCH(TOP.SUBLK$(NODX)->SYM.COUNT,DEF$) WHENRETURN DO;
       85     7214    4                 V=SDEF.VALUE;
       86     7215    4                 END;
       87     7216    4              WHENALTRETURN DO;
       88     7217    4                 DA_SYMERR='0'B;
       89     7218    5                 CALL DAS$EDSRCH(TOP.SUBLK$(NODX)->SYM.COUNT,DEF$) WHENRETURN DO;
       90     7219    5                    V=EDEF.ISADDR;
       91     7220    5                    END;
       92     7221    5                 WHENALTRETURN DO;
       93     7222    5                    ALTRETURN;
       94     7223    5                    END;
       95     7224    4              END;
       96     7225    3            END;
       97     7226    2           RETURN;
       98     7227    2   END VALUE;
       99     7228        /**/
      100     7229    1   END DBA$EXPRESSION;
      101     7230        %EOD;

PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:4    
--  Include file information  --

   B$OBJECT_C.:E05TOU  is referenced.
   DA_CMD_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
      No diagnostics issued in procedure DBA$EXPRESSION.

   Procedure DBA$EXPRESSION requires 187 words for executable code.
   Procedure DBA$EXPRESSION requires 24 words of local(AUTO) storage.

PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:5    

 Object Unit name= DBA$EXPRESSION                             File name= DBA$FEPANLZ.:E05TOU
 UTS= JUL 29 '97 12:56:58.72 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none   187    273  DBA$EXPRESSION
    1  RoData even  none     3      3  DBA$EXPRESSION

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes    yes     yes      Std        3  DBA$EXPRESSION

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std      10 DBM$GETMEM
         yes           Std       2 DBM$PACK4
 yes     yes           Std       3 DAA$VALUE
 yes     yes           Std       2 DAS$SDSRCH
 yes     yes           Std       2 DAS$EDSRCH
                       nStd      0 X66_AUTO_3
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AALT
                       nStd      0 X66_ARET
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:6    

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     DA_SYMERR                             B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:7    


        1        1        /*M* DBA$FEPANLZ - SUBROUTINES FOR FEP PORTION OF ANLZ */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /**/
        8        8        DBA$EXPRESSION: PROC(TOP,VALUE,UNO) ALTRET;

      8  0 000000   000000 700200 xent  DBA$EXPRESS* TSX0  ! X66_AUTO_3
         0 000001   000030 000003                    ZERO    24,3

        9        9        /**/
       10       10        %INCLUDE XU_MACRO_C;
       11     3116        %INCLUDE DA_CMD_C;
       12     3465        %INCLUDE B$OBJECT_C;
       13     6895        /**/
       14     6896        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
       15     6941    1   DCL VALUE SBIN;
       16     6942    1   DCL UNO SBIN;
       17     6943        /**/
       18     6944    1   DCL V1 SBIN;
       19     6945    1   DCL V2 SBIN;
       20     6946    1   DCL I SBIN;
       21     6947    1   DCL X SBIN;
       22     6948    1   DCL USERNO SBIN;
       23     6949        /**/
       24     6950    1   DCL DAA$VALUE ENTRY(3) ALTRET;
       25     6951    1   DCL DAS$SDSRCH ENTRY(2) ALTRET;
       26     6952    1   DCL DAS$EDSRCH ENTRY(2) ALTRET;
       27     6953    1   DCL DBM$GETMEM ENTRY(10) ALTRET;
       28     6954    1   DCL DBM$PACK4 ENTRY(2);
       29     6955        /**/
       30     6956        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
       31     7001        %PARSE$SYM (NAME=SYM,STCLASS=BASED);
       32     7039        /**/
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:8    
       33     7040    1   DCL DA_SYMERR BIT(36) SYMREF;
       34     7041        /**/
       35     7042        %EJECT;
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:9    
       36     7043        /**/
       37     7044    1           IF ADDR(UNO)=ADDR(NIL) THEN

   7044  0 000002   200005 236100                    LDQ     @UNO,,AUTO
         0 000003   000001 116000 xsym               CMPQ    B_VECTNIL+1
         0 000004   000007 601000 0                  TNZ     s:7047

       38     7045    1              USERNO=0;

   7045  0 000005   200012 450100                    STZ     USERNO,,AUTO
         0 000006   000012 710000 0                  TRA     s:7048

       39     7046    1           ELSE
       40     7047    1              USERNO=UNO;

   7047  0 000007   200005 470500                    LDP0    @UNO,,AUTO
         0 000010   000000 235100                    LDA     0,,PR0
         0 000011   200012 755100                    STA     USERNO,,AUTO

       41     7048    1           I=1;

   7048  0 000012   000001 235007                    LDA     1,DL
         0 000013   200010 755100                    STA     I,,AUTO

       42     7049    2           CALL VALUE(V1,0) WHENALTRETURN DO; ALTRETURN; END;

   7049  0 000014   000000 236000 1                  LDQ     0
         0 000015   200016 756100                    STQ     @V+1,,AUTO
         0 000016   200006 630500                    EPPR0   V1,,AUTO
         0 000017   200015 450500                    STP0    USERNO+3,,AUTO
         0 000020   000150 701000 0                  TSX1    VALUE
         0 000021   000023 702000 0                  TSX2    s:7049+7
         0 000022   000024 710000 0                  TRA     s:7050

   7049  0 000023   000000 702200 xent               TSX2  ! X66_AALT

       43     7050    2           DO WHILE(I<TOP.NSUBLKS);
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:10   

   7050  0 000024   200003 470500                    LDP0    @TOP,,AUTO
         0 000025   000001 236100                    LDQ     1,,PR0
         0 000026   000022 772000                    QRL     18
         0 000027   200010 116100                    CMPQ    I,,AUTO
         0 000030   000144 604400 0                  TMOZ    s:7070

       44     7051    3              CALL VALUE(V2,I+1) WHENALTRETURN DO; ALTRETURN; END;

   7051  0 000031   200010 235100                    LDA     I,,AUTO
         0 000032   000001 035007                    ADLA    1,DL
         0 000033   200026 755100                    STA     DEF$+7,,AUTO
         0 000034   200026 630500                    EPPR0   DEF$+7,,AUTO
         0 000035   200016 450500                    STP0    @V+1,,AUTO
         0 000036   200007 631500                    EPPR1   V2,,AUTO
         0 000037   200015 451500                    STP1    USERNO+3,,AUTO
         0 000040   000150 701000 0                  TSX1    VALUE
         0 000041   000043 702000 0                  TSX2    s:7051+10
         0 000042   000044 710000 0                  TRA     s:7052

   7051  0 000043   000000 702200 xent               TSX2  ! X66_AALT

       45     7052    3              DO CASE(TOP.SUBLK$(I)->OUT.CODE);

   7052  0 000044   200003 470500                    LDP0    @TOP,,AUTO
         0 000045   200010 720100                    LXL0    I,,AUTO
         0 000046   000003 471510                    LDP1    3,X0,PR0
         0 000047   100000 721100                    LXL1    0,,PR1
         0 000050   000006 101003                    CMPX1   6,DU
         0 000051   000053 602011 0                  TNC     s:7052+7,X1
         0 000052   000135 710000 0                  TRA     s:7068
         0 000053   000135 710000 0                  TRA     s:7068
         0 000054   000061 710000 0                  TRA     s:7054
         0 000055   000065 710000 0                  TRA     s:7056
         0 000056   000071 710000 0                  TRA     s:7058
         0 000057   000126 710000 0                  TRA     s:7064
         0 000060   000132 710000 0                  TRA     s:7066
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:11   

       46     7053    3               CASE(%DA_OP_PLUS);

       47     7054    3                 V1=V1+V2;

   7054  0 000061   200006 236100                    LDQ     V1,,AUTO
         0 000062   200007 036100                    ADLQ    V2,,AUTO
         0 000063   200006 756100                    STQ     V1,,AUTO
         0 000064   000135 710000 0                  TRA     s:7068

       48     7055    3               CASE(%DA_OP_MINUS);

       49     7056    3                 V1=V1-V2;

   7056  0 000065   200006 236100                    LDQ     V1,,AUTO
         0 000066   200007 136100                    SBLQ    V2,,AUTO
         0 000067   200006 756100                    STQ     V1,,AUTO
         0 000070   000135 710000 0                  TRA     s:7068

       50     7057    3               CASE(%DA_OP_POINT);

       51     7058    4                 CALL DBM$GETMEM(V1,X,USERNO,4,,4) WHENALTRETURN DO;

   7058  0 000071   000001 236000 1                  LDQ     1
         0 000072   000001 235000 xsym               LDA     B_VECTNIL+1
         0 000073   200024 757100                    STAQ    DEF$+5,,AUTO
         0 000074   000001 236000 1                  LDQ     1
         0 000075   200023 756100                    STQ     DEF$+4,,AUTO
         0 000076   200012 631500                    EPPR1   USERNO,,AUTO
         0 000077   200022 451500                    STP1    DEF$+3,,AUTO
         0 000100   200011 633500                    EPPR3   X,,AUTO
         0 000101   200021 453500                    STP3    DEF$+2,,AUTO
         0 000102   200006 634500                    EPPR4   V1,,AUTO
         0 000103   200020 454500                    STP4    DEF$+1,,AUTO
         0 000104   200020 630500                    EPPR0   DEF$+1,,AUTO
         0 000105   000024 631400 xsym               EPPR1   B_VECTNIL+20
         0 000106   000000 701000 xent               TSX1    DBM$GETMEM
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:12   
         0 000107   000111 702000 0                  TSX2    s:7059
         0 000110   000112 710000 0                  TRA     s:7061

       52     7059    4                    ALTRETURN;

   7059  0 000111   000000 702200 xent               TSX2  ! X66_AALT

       53     7060    4                    END;
       54     7061    3                 CALL DBM$PACK4(X,V1);

   7061  0 000112   200006 630500                    EPPR0   V1,,AUTO
         0 000113   200021 450500                    STP0    DEF$+2,,AUTO
         0 000114   200011 631500                    EPPR1   X,,AUTO
         0 000115   200020 451500                    STP1    DEF$+1,,AUTO
         0 000116   200020 630500                    EPPR0   DEF$+1,,AUTO
         0 000117   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000120   000000 701000 xent               TSX1    DBM$PACK4
         0 000121   000000 011000                    NOP     0

       55     7062    3                 V1=V1+V2;

   7062  0 000122   200006 236100                    LDQ     V1,,AUTO
         0 000123   200007 036100                    ADLQ    V2,,AUTO
         0 000124   200006 756100                    STQ     V1,,AUTO
         0 000125   000135 710000 0                  TRA     s:7068

       56     7063    3               CASE(%DA_OP_MULT);

       57     7064    3                 V1=V1*V2;

   7064  0 000126   200006 236100                    LDQ     V1,,AUTO
         0 000127   200007 402100                    MPY     V2,,AUTO
         0 000130   200006 756100                    STQ     V1,,AUTO
         0 000131   000135 710000 0                  TRA     s:7068

       58     7065    3               CASE(%DA_OP_DIV);

PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:13   
       59     7066    3                 V1=V1/V2;

   7066  0 000132   200006 236100                    LDQ     V1,,AUTO
         0 000133   200007 506100                    DIV     V2,,AUTO
         0 000134   200006 756100                    STQ     V1,,AUTO

       60     7067    3               END;

       61     7068    2              I=I+2;

   7068  0 000135   000002 236007                    LDQ     2,DL
         0 000136   200010 056100                    ASQ     I,,AUTO

       62     7069    2              END;

   7069  0 000137   200003 470500                    LDP0    @TOP,,AUTO
         0 000140   000001 236100                    LDQ     1,,PR0
         0 000141   000022 772000                    QRL     18
         0 000142   200010 116100                    CMPQ    I,,AUTO
         0 000143   000031 605400 0                  TPNZ    s:7051

       63     7070    1           VALUE=V1;

   7070  0 000144   200004 471500                    LDP1    @VALUE,,AUTO
         0 000145   200006 235100                    LDA     V1,,AUTO
         0 000146   100000 755100                    STA     0,,PR1

       64     7071    1           RETURN;

   7071  0 000147   000000 702200 xent               TSX2  ! X66_ARET

       65     7072        /**/
       66     7073    1   VALUE: PROC(V,NODX) ALTRET;

   7073  0 000150   200014 741300       VALUE        STX1  ! USERNO+2,,AUTO

       67     7074        /**/
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:14   
       68     7075    2   DCL V SBIN;
       69     7076    2   DCL NODX SBIN;
       70     7077    2   DCL DEF$ PTR;
       71     7078        %B$SDEF (NAME=SDEF,STCLASS="BASED(DEF$)");
       72     7132        %B$EDEF (NAME=EDEF,STCLASS="BASED(DEF$)");
       73     7202        /**/
       74     7203    3           DO CASE(TOP.SUBLK$(NODX)->OUT.CODE);

   7203  0 000151   200016 470500                    LDP0    @NODX,,AUTO
         0 000152   000000 235100                    LDA     0,,PR0
         0 000153   200003 471500                    LDP1    @TOP,,AUTO
         0 000154   100003 473505                    LDP3    3,AL,PR1
         0 000155   300000 720100                    LXL0    0,,PR3
         0 000156   000004 100003                    CMPX0   4,DU
         0 000157   000161 602010 0                  TNC     s:7203+8,X0
         0 000160   000271 710000 0                  TRA     s:7226
         0 000161   000271 710000 0                  TRA     s:7226
         0 000162   000207 710000 0                  TRA     s:7209
         0 000163   000225 710000 0                  TRA     s:7213
         0 000164   000165 710000 0                  TRA     s:7205

       75     7204    3            CASE(%DA_EXP_SEGMENT);

       76     7205    3              V=TOP.SUBLK$(NODX)->OUT.SUBLK$(0)->OUT.CODE*256;

   7205  0 000165   000000 235100                    LDA     0,,PR0
         0 000166   100003 473505                    LDP3    3,AL,PR1
         0 000167   300003 474500                    LDP4    3,,PR3
         0 000170   400000 236100                    LDQ     0,,PR4
         0 000171   000010 736000                    QLS     8
         0 000172   000002 376000 1                  ANQ     2
         0 000173   200015 473500                    LDP3    @V,,AUTO
         0 000174   300000 756100                    STQ     0,,PR3

       77     7206    3              IF TOP.SUBLK$(NODX+1)->OUT.CODE=%DA_OP_POINT THEN

   7206  0 000175   000000 235100                    LDA     0,,PR0
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:15   
         0 000176   100004 474505                    LDP4    4,AL,PR1
         0 000177   400000 720100                    LXL0    0,,PR4
         0 000200   000003 100003                    CMPX0   3,DU
         0 000201   000271 601000 0                  TNZ     s:7226

       78     7207    3                 TOP.SUBLK$(NODX+1)->OUT.CODE=%DA_OP_PLUS;

   7207  0 000202   000000 235100                    LDA     0,,PR0
         0 000203   100004 474505                    LDP4    4,AL,PR1
         0 000204   000001 220003                    LDX0    1,DU
         0 000205   400000 440100                    SXL0    0,,PR4
         0 000206   000271 710000 0                  TRA     s:7226

       79     7208    3            CASE(%DA_EXP_NUMBER);

       80     7209    4              CALL DAA$VALUE(TOP.SUBLK$(NODX)->OUT.SUBLK$(0)->OUT,V) WHENALTRETURN DO;

   7209  0 000207   000000 235100                    LDA     0,,PR0
         0 000210   100003 473505                    LDP3    3,AL,PR1
         0 000211   300003 474500                    LDP4    3,,PR3
         0 000212   200015 236100                    LDQ     @V,,AUTO
         0 000213   200021 756100                    STQ     DEF$+2,,AUTO
         0 000214   200020 454500                    STP4    DEF$+1,,AUTO
         0 000215   200020 630500                    EPPR0   DEF$+1,,AUTO
         0 000216   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000217   000000 701000 xent               TSX1    DAA$VALUE
         0 000220   000222 702000 0                  TSX2    s:7210
         0 000221   000224 710000 0                  TRA     s:7210+2

       81     7210    4                 ALTRETURN;

   7210  0 000222   200014 221300                    LDX1  ! USERNO+2,,AUTO
         0 000223   000000 702211                    TSX2  ! 0,X1
         0 000224   000271 710000 0                  TRA     s:7226

       82     7211    4                 END;
       83     7212    3            CASE(%DA_EXP_SYMBOL);
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:16   

       84     7213    4              CALL DAS$SDSRCH(TOP.SUBLK$(NODX)->SYM.COUNT,DEF$) WHENRETURN DO;

   7213  0 000225   000000 235100                    LDA     0,,PR0
         0 000226   100003 473505                    LDP3    3,AL,PR1
         0 000227   200017 634500                    EPPR4   DEF$,,AUTO
         0 000230   200021 454500                    STP4    DEF$+2,,AUTO
         0 000231   300004 635500                    EPPR5   4,,PR3
         0 000232   200020 455500                    STP5    DEF$+1,,AUTO
         0 000233   200020 630500                    EPPR0   DEF$+1,,AUTO
         0 000234   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000235   000000 701000 xent               TSX1    DAS$SDSRCH
         0 000236   000244 702000 0                  TSX2    s:7217

       85     7214    4                 V=SDEF.VALUE;

   7214  0 000237   200017 470500                    LDP0    DEF$,,AUTO
         0 000240   200015 471500                    LDP1    @V,,AUTO
         0 000241   000000 235100                    LDA     0,,PR0
         0 000242   100000 755100                    STA     0,,PR1

       86     7215    4                 END;

   7215  0 000243   000271 710000 0                  TRA     s:7226

       87     7216    4              WHENALTRETURN DO;

       88     7217    4                 DA_SYMERR='0'B;

   7217  0 000244   000000 450000 xsym               STZ     DA_SYMERR

       89     7218    5                 CALL DAS$EDSRCH(TOP.SUBLK$(NODX)->SYM.COUNT,DEF$) WHENRETURN DO;

   7218  0 000245   200016 470500                    LDP0    @NODX,,AUTO
         0 000246   000000 235100                    LDA     0,,PR0
         0 000247   200003 471500                    LDP1    @TOP,,AUTO
         0 000250   100003 473505                    LDP3    3,AL,PR1
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:17   
         0 000251   200017 634500                    EPPR4   DEF$,,AUTO
         0 000252   200021 454500                    STP4    DEF$+2,,AUTO
         0 000253   300004 635500                    EPPR5   4,,PR3
         0 000254   200020 455500                    STP5    DEF$+1,,AUTO
         0 000255   200020 630500                    EPPR0   DEF$+1,,AUTO
         0 000256   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000257   000000 701000 xent               TSX1    DAS$EDSRCH
         0 000260   000267 702000 0                  TSX2    s:7222

       90     7219    5                    V=EDEF.ISADDR;

   7219  0 000261   200017 470500                    LDP0    DEF$,,AUTO
         0 000262   000000 236100                    LDQ     0,,PR0
         0 000263   000032 376000 xsym               ANQ     B_VECTNIL+26
         0 000264   200015 471500                    LDP1    @V,,AUTO
         0 000265   100000 756100                    STQ     0,,PR1

       91     7220    5                    END;

   7220  0 000266   000271 710000 0                  TRA     s:7226

       92     7221    5                 WHENALTRETURN DO;

       93     7222    5                    ALTRETURN;

   7222  0 000267   200014 221300                    LDX1  ! USERNO+2,,AUTO
         0 000270   000000 702211                    TSX2  ! 0,X1

       94     7223    5                    END;
       95     7224    4              END;

       96     7225    3            END;

       97     7226    2           RETURN;

   7226  0 000271   200014 221300                    LDX1  ! USERNO+2,,AUTO
         0 000272   000001 702211                    TSX2  ! 1,X1
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:18   
       98     7227    2   END VALUE;
       99     7228        /**/
      100     7229    1   END DBA$EXPRESSION;
      101     7230        %EOD;

PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:19   
--  Include file information  --

   B$OBJECT_C.:E05TOU  is referenced.
   DA_CMD_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
      No diagnostics issued in procedure DBA$EXPRESSION.
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:20   

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    16-0-0/w PTR         r     1 @NODX                      3-0-0/w PTR         r     1 @TOP
     5-0-0/w PTR         r     1 @UNO                      15-0-0/w PTR         r     1 @V
     4-0-0/w PTR         r     1 @VALUE                    17-0-0/w PTR         r     1 DEF$
    10-0-0/w SBIN        r     1 I                         *0-0-0/w SBIN        r     1 NODX
    *0-0-0/w STRC(144)   r     1 TOP                       *0-0-0/w SBIN        r     1 UNO
    12-0-0/w SBIN        r     1 USERNO                    *0-0-0/w SBIN        r     1 V
     6-0-0/w SBIN        r     1 V1                         7-0-0/w SBIN        r     1 V2
    *0-0-0/w SBIN        r     1 VALUE                     11-0-0/w SBIN        r     1 X

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT         r     1 DA_SYMERR

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(72)    r     1 EDEF                       0-0-0/w STRC(144)   r     1 OUT
     0-0-0/w STRC(72)    r     1 SDEF                       0-0-0/w ASTR(153)   r     1 SYM


   Procedure DBA$EXPRESSION requires 187 words for executable code.
   Procedure DBA$EXPRESSION requires 24 words of local(AUTO) storage.
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:21   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:22   
          MINI XREF LISTING

DAA$VALUE
      6950**DCL-ENT  7209--CALL
DAS$EDSRCH
      6952**DCL-ENT  7218--CALL
DAS$SDSRCH
      6951**DCL-ENT  7213--CALL
DA_SYMERR
      7040**DCL      7217<<ASSIGN
DBM$GETMEM
      6953**DCL-ENT  7058--CALL
DBM$PACK4
      6954**DCL-ENT  7061--CALL
DEF$ IN PROCEDURE VALUE
      7077**DCL      7079--IMP-PTR  7133--IMP-PTR  7213<>CALL     7214>>ASSIGN   7218<>CALL     7219>>ASSIGN
EDEF.ISADDR IN PROCEDURE VALUE
      7156**DCL      7219>>ASSIGN
EDEF.OU IN PROCEDURE VALUE
      7150**DCL      7156--REDEF
I
      6946**DCL      7048<<ASSIGN   7050>>DOWHILE  7051>>CALL     7052>>DOCASE   7068<<ASSIGN   7068>>ASSIGN
NODX IN PROCEDURE VALUE
      7076**DCL      7073--PROC     7203>>DOCASE   7205>>ASSIGN   7206>>IF       7207>>ASSIGN   7209>>CALL
      7213>>CALL     7218>>CALL
OUT
      6962**DCL      7209<>CALL
OUT.CODE
      6970**DCL      7052>>DOCASE   7203>>DOCASE   7205>>ASSIGN   7206>>IF       7207<<ASSIGN
OUT.SUBLK$
      6995**DCL      7205>>ASSIGN   7209>>CALL
SDEF.AD.OU IN PROCEDURE VALUE
      7099**DCL      7105--REDEF
SDEF.VALUE IN PROCEDURE VALUE
PL6.E3A0      #001=DBA$EXPRESSION File=DBA$FEPANLZ.:E05TSI                       TUE 07/29/97 12:56 Page:23   
      7080**DCL      7083--REDEF    7214>>ASSIGN
SYM.COUNT
      7031**DCL      7034--IMP-SIZ  7213<>CALL     7218<>CALL
TOP
      6902**DCL         8--PROC
TOP.NSUBLKS
      6914**DCL      7050>>DOWHILE
TOP.SUBLK$
      6935**DCL      7052>>DOCASE   7203>>DOCASE   7205>>ASSIGN   7206>>IF       7207>>ASSIGN   7209>>CALL
      7213>>CALL     7218>>CALL
UNO
      6942**DCL         8--PROC     7044--IF       7047>>ASSIGN
USERNO
      6948**DCL      7045<<ASSIGN   7047<<ASSIGN   7058<>CALL
V IN PROCEDURE VALUE
      7075**DCL      7073--PROC     7205<<ASSIGN   7209<>CALL     7214<<ASSIGN   7219<<ASSIGN
V1
      6944**DCL      7049<>CALL     7054<<ASSIGN   7054>>ASSIGN   7056<<ASSIGN   7056>>ASSIGN   7058<>CALL
      7061<>CALL     7062<<ASSIGN   7062>>ASSIGN   7064<<ASSIGN   7064>>ASSIGN   7066<<ASSIGN   7066>>ASSIGN
      7070>>ASSIGN
V2
      6945**DCL      7051<>CALL     7054>>ASSIGN   7056>>ASSIGN   7062>>ASSIGN   7064>>ASSIGN   7066>>ASSIGN
VALUE
      7073**PROC        8--PROC     7049--CALL     7051--CALL     7070<<ASSIGN
X
      6947**DCL      7058<>CALL     7061<>CALL

PL6.E3A0      #002=DBA$WRITEIC File=DBA$FEPANLZ.:E05TSI                          TUE 07/29/97 12:57 Page:24   
      102        1        /*T***********************************************************/
      103        2        /*T*                                                         */
      104        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      105        4        /*T*                                                         */
      106        5        /*T***********************************************************/
      107        6        DBA$WRITEIC: PROC(TEXTV,IC);
      108        7        /**/
      109        8    1   DCL TEXTV VECTOR;
      110        9    1   DCL IC UBIN;
      111       10        /**/
      112       11    1   DCL DAF$WRITE EPTR SYMREF;
      113       12    1   DCL DAS$IC2PED ENTRY(2) ALTRET;
      114       13        /**/
      115       14        %INCLUDE B$OBJECT_C;
      116     3444        %INCLUDE DA_SYMBOLS_R;
      117     3457        %B$EDEF (NAME=B$EDEF,STCLASS="BASED(EDEF$)");
      118     3527    1   DCL EDEF$ PTR;
      119     3528        /**/
      120     3529    1   DCL TH$ PTR;
      121     3530    1   DCL 1 TEXTH CALIGNED BASED(TH$),
      122     3531    1         2 L UBIN HALF CALIGNED,
      123     3532    1         2 C CHAR(TEXTH.L);
      124     3533    1   DCL ICOFFSET UBIN;
      125     3534        /**/
      126     3535
      127     3536    2           CALL DAS$IC2PED(IC,EDEF$) WHENRETURN DO;
      128     3537    2              TH$=PINCRW(DA_DNAME$,B$EDEF.NPOINTER);
      129     3538    2              ICOFFSET=IC-B$EDEF.ISADDR;
      130     3539    2              CALL DAF$WRITE(TEXTV,
      131     3540    2                             VECTOR(TEXTH.C),
      132     3541    2                             VECTOR(ICOFFSET));
      133     3542    2              END;
      134     3543    1           RETURN;
      135     3544
      136     3545    1   END DBA$WRITEIC;
      137     3546        %EOD;

PL6.E3A0      #002=DBA$WRITEIC File=DBA$FEPANLZ.:E05TSI                          TUE 07/29/97 12:57 Page:25   
--  Include file information  --

   DA_SYMBOLS_R.:E05TOU  cannot be made into a system file and is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
      No diagnostics issued in procedure DBA$WRITEIC.

   Procedure DBA$WRITEIC requires 54 words for executable code.
   Procedure DBA$WRITEIC requires 24 words of local(AUTO) storage.

PL6.E3A0      #002=DBA$WRITEIC File=DBA$FEPANLZ.:E05TSI                          TUE 07/29/97 12:57 Page:26   

 Object Unit name= DBA$WRITEIC                                File name= DBA$FEPANLZ.:E05TOU
 UTS= JUL 29 '97 12:57:07.44 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none    54     66  DBA$WRITEIC

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes            yes      Std        2  DBA$WRITEIC

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 DAS$IC2PED
                       nStd      0 X66_AUTO_2
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     DAF$WRITE                             DA_DNAME$                             B_VECTNIL
PL6.E3A0      #002=DBA$WRITEIC File=DBA$FEPANLZ.:E05TSI                          TUE 07/29/97 12:57 Page:27   


      102        1        /*T***********************************************************/
      103        2        /*T*                                                         */
      104        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      105        4        /*T*                                                         */
      106        5        /*T***********************************************************/
      107        6        DBA$WRITEIC: PROC(TEXTV,IC);

      6  0 000000   000000 700200 xent  DBA$WRITEIC  TSX0  ! X66_AUTO_2
         0 000001   000030 000002                    ZERO    24,2

      108        7        /**/
      109        8    1   DCL TEXTV VECTOR;
      110        9    1   DCL IC UBIN;
      111       10        /**/
      112       11    1   DCL DAF$WRITE EPTR SYMREF;
      113       12    1   DCL DAS$IC2PED ENTRY(2) ALTRET;
      114       13        /**/
      115       14        %INCLUDE B$OBJECT_C;
      116     3444        %INCLUDE DA_SYMBOLS_R;
      117     3457        %B$EDEF (NAME=B$EDEF,STCLASS="BASED(EDEF$)");
      118     3527    1   DCL EDEF$ PTR;
      119     3528        /**/
      120     3529    1   DCL TH$ PTR;
      121     3530    1   DCL 1 TEXTH CALIGNED BASED(TH$),
      122     3531    1         2 L UBIN HALF CALIGNED,
      123     3532    1         2 C CHAR(TEXTH.L);
      124     3533    1   DCL ICOFFSET UBIN;
      125     3534        /**/
      126     3535
      127     3536    2           CALL DAS$IC2PED(IC,EDEF$) WHENRETURN DO;

   3536  0 000002   200005 630500                    EPPR0   EDEF$,,AUTO
         0 000003   200011 450500                    STP0    ICOFFSET+2,,AUTO
         0 000004   200004 236100                    LDQ     @IC,,AUTO
         0 000005   200010 756100                    STQ     ICOFFSET+1,,AUTO
         0 000006   200010 630500                    EPPR0   ICOFFSET+1,,AUTO
PL6.E3A0      #002=DBA$WRITEIC File=DBA$FEPANLZ.:E05TSI                          TUE 07/29/97 12:57 Page:28   
         0 000007   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000010   000000 701000 xent               TSX1    DAS$IC2PED
         0 000011   000065 702000 0                  TSX2    s:3543

      128     3537    2              TH$=PINCRW(DA_DNAME$,B$EDEF.NPOINTER);

   3537  0 000012   200005 470500                    LDP0    EDEF$,,AUTO
         0 000013   000001 220100                    LDX0    1,,PR0
         0 000014   000000 636010                    EAQ     0,X0
         0 000015   000000 036000 xsym               ADLQ    DA_DNAME$
         0 000016   200006 756100                    STQ     TH$,,AUTO

      129     3538    2              ICOFFSET=IC-B$EDEF.ISADDR;

   3538  0 000017   000000 236100                    LDQ     0,,PR0
         0 000020   000032 376000 xsym               ANQ     B_VECTNIL+26
         0 000021   200010 756100                    STQ     ICOFFSET+1,,AUTO
         0 000022   200004 471500                    LDP1    @IC,,AUTO
         0 000023   100000 236100                    LDQ     0,,PR1
         0 000024   200010 136100                    SBLQ    ICOFFSET+1,,AUTO
         0 000025   200007 756100                    STQ     ICOFFSET,,AUTO

      130     3539    2              CALL DAF$WRITE(TEXTV,

   3539  0 000026   200006 473500                    LDP3    TH$,,AUTO
         0 000027   000100 100500                    MLR     fill='000'O
         0 000030   300000 000002                    ADSC9   0,,PR3                   cn=0,n=2
         0 000031   200010 000004                    ADSC9   ICOFFSET+1,,AUTO         cn=0,n=4
         0 000032   200010 220100                    LDX0    ICOFFSET+1,,AUTO
         0 000033   000000 635010                    EAA     0,X0
         0 000034   000002 771000                    ARL     2
         0 000035   000140 135007                    SBLA    96,DL
         0 000036   200006 236100                    LDQ     TH$,,AUTO
         0 000037   400000 036007                    ADLQ    -131072,DL
         0 000040   200012 757100                    STAQ    ICOFFSET+3,,AUTO
         0 000041   777640 235007                    LDA     -96,DL
         0 000042   200014 452500                    STP2    ICOFFSET+5,,AUTO
PL6.E3A0      #002=DBA$WRITEIC File=DBA$FEPANLZ.:E05TSI                          TUE 07/29/97 12:57 Page:29   
         0 000043   200014 236100                    LDQ     ICOFFSET+5,,AUTO
         0 000044   000007 036003                    ADLQ    7,DU
         0 000045   200020 757100                    STAQ    ICOFFSET+9,,AUTO
         0 000046   200012 237100                    LDAQ    ICOFFSET+3,,AUTO
         0 000047   200016 757100                    STAQ    ICOFFSET+7,,AUTO
         0 000050   200020 237100                    LDAQ    ICOFFSET+9,,AUTO
         0 000051   200022 757100                    STAQ    ICOFFSET+11,,AUTO
         0 000052   200022 634500                    EPPR4   ICOFFSET+11,,AUTO
         0 000053   200026 454500                    STP4    ICOFFSET+15,,AUTO
         0 000054   200016 635500                    EPPR5   ICOFFSET+7,,AUTO
         0 000055   200025 455500                    STP5    ICOFFSET+14,,AUTO
         0 000056   200003 236100                    LDQ     @TEXTV,,AUTO
         0 000057   200024 756100                    STQ     ICOFFSET+13,,AUTO
         0 000060   200024 630500                    EPPR0   ICOFFSET+13,,AUTO
         0 000061   000000 221000 xsym               LDX1    DAF$WRITE
         0 000062   000021 631400 xsym               EPPR1   B_VECTNIL+17
         0 000063   000000 701011                    TSX1    0,X1
         0 000064   000000 011000                    NOP     0

      131     3540    2                             VECTOR(TEXTH.C),
      132     3541    2                             VECTOR(ICOFFSET));
      133     3542    2              END;

      134     3543    1           RETURN;

   3543  0 000065   000000 702200 xent               TSX2  ! X66_ARET
      135     3544
      136     3545    1   END DBA$WRITEIC;
      137     3546        %EOD;

PL6.E3A0      #002=DBA$WRITEIC File=DBA$FEPANLZ.:E05TSI                          TUE 07/29/97 12:57 Page:30   
--  Include file information  --

   DA_SYMBOLS_R.:E05TOU  cannot be made into a system file and is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
      No diagnostics issued in procedure DBA$WRITEIC.
PL6.E3A0      #002=DBA$WRITEIC File=DBA$FEPANLZ.:E05TSI                          TUE 07/29/97 12:57 Page:31   

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w PTR         r     1 @IC                        3-0-0/w PTR         r     1 @TEXTV
     5-0-0/w PTR         r     1 EDEF$                     *0-0-0/w UBIN        r     1 IC
     7-0-0/w UBIN        r     1 ICOFFSET                  *0-0-0/d VECT        r     1 TEXTV
     6-0-0/w PTR         r     1 TH$

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w EPTR        r     1 DAF$WRITE                  0-0-0/w PTR         r     1 DA_DNAME$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(72)    r     1 B$EDEF                     0-0-0/c ASTR(18)    r     1 TEXTH


   Procedure DBA$WRITEIC requires 54 words for executable code.
   Procedure DBA$WRITEIC requires 24 words of local(AUTO) storage.
PL6.E3A0      #002=DBA$WRITEIC File=DBA$FEPANLZ.:E05TSI                          TUE 07/29/97 12:57 Page:32   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=DBA$WRITEIC File=DBA$FEPANLZ.:E05TSI                          TUE 07/29/97 12:57 Page:33   
          MINI XREF LISTING

B$EDEF.ISADDR
      3481**DCL      3538>>ASSIGN
B$EDEF.NPOINTER
      3483**DCL      3537>>ASSIGN
B$EDEF.OU
      3475**DCL      3481--REDEF
DAF$WRITE
        11**DCL      3539>>CALL
DAS$IC2PED
        12**DCL-ENT  3536--CALL
DA_DNAME$
      3453**DCL      3537>>ASSIGN
DA_SYMSEG.P
      3452**DCL      3453--REDEF
EDEF$
      3527**DCL      3458--IMP-PTR  3536<>CALL     3537>>ASSIGN   3538>>ASSIGN
IC
         9**DCL         6--PROC     3536<>CALL     3538>>ASSIGN
ICOFFSET
      3533**DCL      3538<<ASSIGN   3539--CALL
TEXTH.C
      3532**DCL      3539--CALL
TEXTH.L
      3531**DCL      3532--IMP-SIZ  3539>>CALL
TEXTV
         8**DCL         6--PROC     3539<>CALL
TH$
      3529**DCL      3530--IMP-PTR  3537<<ASSIGN   3539>>CALL     3539>>CALL

PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:34   
      138        1        /*T***********************************************************/
      139        2        /*T*                                                         */
      140        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      141        4        /*T*                                                         */
      142        5        /*T***********************************************************/
      143        6        DBA$EVAL: PROC(TOP);
      144        7
      145        8        %INCLUDE CP_6;
      146     5567        %INCLUDE XU_MACRO_C;
      147     8673        %INCLUDE DA_FORMAT_R;
      148     8685
      149     8686        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
      150     8731
      151     8732        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
      152     8777
      153     8778        %FPT_ERRMSG (INCLCODE=YES,SUBMESS=YES,SUBFILE=YES);
      154     8805
      155     8806    1   DCL DAA$EXP ENTRY(4) ALTRET;
      156     8807    1   DCL DAA$VALUE ENTRY(3) ALTRET;
      157     8808    1   DCL DBA$EXPRESSION ENTRY(3) ALTRET;
      158     8809    1   DCL DBA$WRITEIC ENTRY(2);
      159     8810    1   DCL DBM$UNPACK ENTRY(3);
      160     8811    1   DCL DAF$WRITE EPTR SYMREF;
      161     8812    1   DCL DAF$UPDLNCNT ENTRY;
      162     8813    1   DCL XUR$ERRCNVRT ENTRY(2);
      163     8814
      164     8815    1   DCL DA_DFLT_RADIX UBIN SYMREF;
      165     8816
      166     8817    1   DCL FMT1 CHAR(0) CONSTANT INIT('%\Dec: %+D  Oct: %O  Hex: %H  ');
      167     8818    1   DCL FMT2O CHAR(0) CONSTANT INIT('%\Entdef: %A+.%O');
      168     8819    1   DCL FMT2H CHAR(0) CONSTANT INIT('%\Entdef: %A+.%H');
      169     8820    1   DCL FMT3 CHAR(0) CONSTANT INIT('%\%/');
      170     8821    1   DCL VALUE SBIN;
      171     8822    1   DCL ECODE UBIN;
      172     8823    1   DCL RADIX UBIN;
      173     8824    1   DCL ERRBUF CHAR(121);
      174     8825
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:35   
      175     8826    2           IF DA_DFLT_RADIX=16 THEN DO;         /*FEP*/
      176     8827    2              CALL DBA$EXPRESSION(TOP.SUBLK$(0)->OUT,VALUE) ALTRET(ALT);
      177     8828    2              END;
      178     8829    2           ELSE DO;                                /*HOST*/
      179     8830    2              CALL DAA$EXP(TOP.SUBLK$(0)->OUT,VALUE) ALTRET(ALT);
      180     8831    2              END;
      181     8832    1           CALL DAF$WRITE(VECTOR(FMT1),VECTOR(VALUE),VECTOR(VALUE),VECTOR(VALUE));
      182     8833    1           IF DA_DFLT_RADIX=16 THEN
      183     8834    1              CALL DBA$WRITEIC(VECTOR(FMT2H),VALUE);
      184     8835    1           ELSE
      185     8836    1              CALL DBA$WRITEIC(VECTOR(FMT2O),VALUE);
      186     8837    1           CALL DAF$WRITE(VECTOR(FMT3));
      187     8838    1   ALT:
      188     8839    1           RETURN;
      189     8840
      190     8841        %EJECT;
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:36   
      191     8842    1   DBA$ERROR: ENTRY(TOP);
      192     8843
      193     8844    2           CALL DAA$VALUE(TOP.SUBLK$(0)->OUT,ECODE,RADIX) WHENRETURN DO;
      194     8845    3              IF RADIX=16 THEN DO;
      195     8846    3                 CALL DBM$UNPACK(ECODE*16,VALUE,4);
      196     8847    3                 CALL XUR$ERRCNVRT(VALUE,ECODE);
      197     8848    3                 END;
      198     8849    2              FPT_ERRMSG.CODE_=VECTOR(ECODE);
      199     8850    2              FPT_ERRMSG.V.OUTDCB1#=DAF_DCB#;
      200     8851    2              FPT_ERRMSG.BUF_=VECTOR(ERRBUF);
      201     8852    2              CALL M$ERRMSG(FPT_ERRMSG);
      202     8853    2              CALL DAF$UPDLNCNT;
      203     8854    2              END;
      204     8855    1           RETURN;
      205     8856
      206     8857    1   END DBA$EVAL;
      207     8858        %EOD;

PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:37   
--  Include file information  --

   DA_FORMAT_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure DBA$EVAL.

   Procedure DBA$EVAL requires 140 words for executable code.
   Procedure DBA$EVAL requires 60 words of local(AUTO) storage.

PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:38   

 Object Unit name= DBA$EVAL                                   File name= DBA$FEPANLZ.:E05TOU
 UTS= JUL 29 '97 12:57:11.56 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none    26     32  DBA$EVAL
    2  RoData even  UTS     17     21  DBA$EVAL
    3   Proc  even  none   140    214  DBA$EVAL
    4  RoData even  none    17     21  DBA$EVAL

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes            yes      Std        1  DBA$EVAL
     3    124                  yes      Std        1  DBA$ERROR

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       3 DBA$EXPRESSION
 yes     yes           Std       4 DAA$EXP
         yes           Std       3 DBM$UNPACK
         yes           Std       0 DAF$UPDLNCNT
 yes     yes           Std       3 DAA$VALUE
         yes           Std       2 XUR$ERRCNVRT
         yes           Std       2 DBA$WRITEIC
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:39   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  DAF_DCB#                              DAF$WRITE
     DA_DFLT_RADIX                         B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:40   


      138        1        /*T***********************************************************/
      139        2        /*T*                                                         */
      140        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      141        4        /*T*                                                         */
      142        5        /*T***********************************************************/
      143        6        DBA$EVAL: PROC(TOP);

      6  3 000000   000000 700200 xent  DBA$EVAL     TSX0  ! X66_AUTO_1
         3 000001   000074 000001                    ZERO    60,1

      144        7
      145        8        %INCLUDE CP_6;
      146     5567        %INCLUDE XU_MACRO_C;
      147     8673        %INCLUDE DA_FORMAT_R;
      148     8685
      149     8686        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
      150     8731
      151     8732        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
      152     8777
      153     8778        %FPT_ERRMSG (INCLCODE=YES,SUBMESS=YES,SUBFILE=YES);
      154     8805
      155     8806    1   DCL DAA$EXP ENTRY(4) ALTRET;
      156     8807    1   DCL DAA$VALUE ENTRY(3) ALTRET;
      157     8808    1   DCL DBA$EXPRESSION ENTRY(3) ALTRET;
      158     8809    1   DCL DBA$WRITEIC ENTRY(2);
      159     8810    1   DCL DBM$UNPACK ENTRY(3);
      160     8811    1   DCL DAF$WRITE EPTR SYMREF;
      161     8812    1   DCL DAF$UPDLNCNT ENTRY;
      162     8813    1   DCL XUR$ERRCNVRT ENTRY(2);
      163     8814
      164     8815    1   DCL DA_DFLT_RADIX UBIN SYMREF;
      165     8816
      166     8817    1   DCL FMT1 CHAR(0) CONSTANT INIT('%\Dec: %+D  Oct: %O  Hex: %H  ');
      167     8818    1   DCL FMT2O CHAR(0) CONSTANT INIT('%\Entdef: %A+.%O');
      168     8819    1   DCL FMT2H CHAR(0) CONSTANT INIT('%\Entdef: %A+.%H');
      169     8820    1   DCL FMT3 CHAR(0) CONSTANT INIT('%\%/');
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:41   
      170     8821    1   DCL VALUE SBIN;
      171     8822    1   DCL ECODE UBIN;
      172     8823    1   DCL RADIX UBIN;
      173     8824    1   DCL ERRBUF CHAR(121);
      174     8825
      175     8826    2           IF DA_DFLT_RADIX=16 THEN DO;         /*FEP*/

   8826  3 000002   000000 235000 xsym               LDA     DA_DFLT_RADIX
         3 000003   000020 115007                    CMPA    16,DL
         3 000004   000017 601000 3                  TNZ     s:8830

      176     8827    2              CALL DBA$EXPRESSION(TOP.SUBLK$(0)->OUT,VALUE) ALTRET(ALT);

   8827  3 000005   200003 470500                    LDP0    @TOP,,AUTO
         3 000006   000003 471500                    LDP1    3,,PR0
         3 000007   200004 633500                    EPPR3   VALUE,,AUTO
         3 000010   200047 453500                    STP3    ERRBUF+32,,AUTO
         3 000011   200046 451500                    STP1    ERRBUF+31,,AUTO
         3 000012   200046 630500                    EPPR0   ERRBUF+31,,AUTO
         3 000013   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000014   000000 701000 xent               TSX1    DBA$EXPRESSION
         3 000015   000123 702000 3                  TSX2    ALT

      177     8828    2              END;

   8828  3 000016   000030 710000 3                  TRA     s:8832

      178     8829    2           ELSE DO;                                /*HOST*/

      179     8830    2              CALL DAA$EXP(TOP.SUBLK$(0)->OUT,VALUE) ALTRET(ALT);

   8830  3 000017   200003 470500                    LDP0    @TOP,,AUTO
         3 000020   000003 471500                    LDP1    3,,PR0
         3 000021   200004 633500                    EPPR3   VALUE,,AUTO
         3 000022   200047 453500                    STP3    ERRBUF+32,,AUTO
         3 000023   200046 451500                    STP1    ERRBUF+31,,AUTO
         3 000024   200046 630500                    EPPR0   ERRBUF+31,,AUTO
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:42   
         3 000025   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000026   000000 701000 xent               TSX1    DAA$EXP
         3 000027   000123 702000 3                  TSX2    ALT

      180     8831    2              END;

      181     8832    1           CALL DAF$WRITE(VECTOR(FMT1),VECTOR(VALUE),VECTOR(VALUE),VECTOR(VALUE));

   8832  3 000030   777640 235007                    LDA     -96,DL
         3 000031   200046 452500                    STP2    ERRBUF+31,,AUTO
         3 000032   200046 236100                    LDQ     ERRBUF+31,,AUTO
         3 000033   000004 036003                    ADLQ    4,DU
         3 000034   200050 757100                    STAQ    ERRBUF+33,,AUTO
         3 000035   777640 235007                    LDA     -96,DL
         3 000036   200052 452500                    STP2    ERRBUF+35,,AUTO
         3 000037   200052 236100                    LDQ     ERRBUF+35,,AUTO
         3 000040   000004 036003                    ADLQ    4,DU
         3 000041   200054 757100                    STAQ    ERRBUF+37,,AUTO
         3 000042   777640 235007                    LDA     -96,DL
         3 000043   200056 452500                    STP2    ERRBUF+39,,AUTO
         3 000044   200056 236100                    LDQ     ERRBUF+39,,AUTO
         3 000045   000004 036003                    ADLQ    4,DU
         3 000046   200062 757100                    STAQ    ERRBUF+43,,AUTO
         3 000047   200050 237100                    LDAQ    ERRBUF+33,,AUTO
         3 000050   200060 757100                    STAQ    ERRBUF+41,,AUTO
         3 000051   200054 237100                    LDAQ    ERRBUF+37,,AUTO
         3 000052   200064 757100                    STAQ    ERRBUF+45,,AUTO
         3 000053   200062 237100                    LDAQ    ERRBUF+43,,AUTO
         3 000054   200066 757100                    STAQ    ERRBUF+47,,AUTO
         3 000055   200066 630500                    EPPR0   ERRBUF+47,,AUTO
         3 000056   200073 450500                    STP0    ERRBUF+52,,AUTO
         3 000057   200064 631500                    EPPR1   ERRBUF+45,,AUTO
         3 000060   200072 451500                    STP1    ERRBUF+51,,AUTO
         3 000061   200060 633500                    EPPR3   ERRBUF+41,,AUTO
         3 000062   200071 453500                    STP3    ERRBUF+50,,AUTO
         3 000063   000002 236000 4                  LDQ     2
         3 000064   200070 756100                    STQ     ERRBUF+49,,AUTO
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:43   
         3 000065   200070 630500                    EPPR0   ERRBUF+49,,AUTO
         3 000066   000000 220000 xsym               LDX0    DAF$WRITE
         3 000067   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 000070   000000 701010                    TSX1    0,X0
         3 000071   000000 011000                    NOP     0

      182     8833    1           IF DA_DFLT_RADIX=16 THEN

   8833  3 000072   000000 235000 xsym               LDA     DA_DFLT_RADIX
         3 000073   000020 115007                    CMPA    16,DL
         3 000074   000106 601000 3                  TNZ     s:8836

      183     8834    1              CALL DBA$WRITEIC(VECTOR(FMT2H),VALUE);

   8834  3 000075   200004 630500                    EPPR0   VALUE,,AUTO
         3 000076   200047 450500                    STP0    ERRBUF+32,,AUTO
         3 000077   000006 236000 4                  LDQ     6
         3 000100   200046 756100                    STQ     ERRBUF+31,,AUTO
         3 000101   200046 630500                    EPPR0   ERRBUF+31,,AUTO
         3 000102   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000103   000000 701000 xent               TSX1    DBA$WRITEIC
         3 000104   000000 011000                    NOP     0
         3 000105   000116 710000 3                  TRA     s:8837

      184     8835    1           ELSE
      185     8836    1              CALL DBA$WRITEIC(VECTOR(FMT2O),VALUE);

   8836  3 000106   200004 630500                    EPPR0   VALUE,,AUTO
         3 000107   200047 450500                    STP0    ERRBUF+32,,AUTO
         3 000110   000012 236000 4                  LDQ     10
         3 000111   200046 756100                    STQ     ERRBUF+31,,AUTO
         3 000112   200046 630500                    EPPR0   ERRBUF+31,,AUTO
         3 000113   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000114   000000 701000 xent               TSX1    DBA$WRITEIC
         3 000115   000000 011000                    NOP     0

      186     8837    1           CALL DAF$WRITE(VECTOR(FMT3));
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:44   

   8837  3 000116   000016 630400 4                  EPPR0   14
         3 000117   000000 220000 xsym               LDX0    DAF$WRITE
         3 000120   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000121   000000 701010                    TSX1    0,X0
         3 000122   000000 011000                    NOP     0

      187     8838    1   ALT:
      188     8839    1           RETURN;

   8839  3 000123   000000 702200 xent  ALT          TSX2  ! X66_ARET

      189     8840
      190     8841        %EJECT;
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:45   
      191     8842    1   DBA$ERROR: ENTRY(TOP);

   8842  3 000124   000000 700200 xent  DBA$ERROR    TSX0  ! X66_AUTO_1
         3 000125   000074 000001                    ZERO    60,1

      192     8843
      193     8844    2           CALL DAA$VALUE(TOP.SUBLK$(0)->OUT,ECODE,RADIX) WHENRETURN DO;

   8844  3 000126   200003 470500                    LDP0    @TOP,,AUTO
         3 000127   000003 471500                    LDP1    3,,PR0
         3 000130   200006 633500                    EPPR3   RADIX,,AUTO
         3 000131   200050 453500                    STP3    ERRBUF+33,,AUTO
         3 000132   200005 634500                    EPPR4   ECODE,,AUTO
         3 000133   200047 454500                    STP4    ERRBUF+32,,AUTO
         3 000134   200046 451500                    STP1    ERRBUF+31,,AUTO
         3 000135   200046 630500                    EPPR0   ERRBUF+31,,AUTO
         3 000136   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000137   000000 701000 xent               TSX1    DAA$VALUE
         3 000140   000213 702000 3                  TSX2    s:8855

      194     8845    3              IF RADIX=16 THEN DO;

   8845  3 000141   200006 235100                    LDA     RADIX,,AUTO
         3 000142   000020 115007                    CMPA    16,DL
         3 000143   000171 601000 3                  TNZ     s:8849

      195     8846    3                 CALL DBM$UNPACK(ECODE*16,VALUE,4);

   8846  3 000144   200005 236100                    LDQ     ECODE,,AUTO
         3 000145   000004 736000                    QLS     4
         3 000146   200046 756100                    STQ     ERRBUF+31,,AUTO
         3 000147   000017 236000 4                  LDQ     15
         3 000150   200051 756100                    STQ     ERRBUF+34,,AUTO
         3 000151   200004 630500                    EPPR0   VALUE,,AUTO
         3 000152   200050 450500                    STP0    ERRBUF+33,,AUTO
         3 000153   200046 631500                    EPPR1   ERRBUF+31,,AUTO
         3 000154   200047 451500                    STP1    ERRBUF+32,,AUTO
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:46   
         3 000155   200047 630500                    EPPR0   ERRBUF+32,,AUTO
         3 000156   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000157   000000 701000 xent               TSX1    DBM$UNPACK
         3 000160   000000 011000                    NOP     0

      196     8847    3                 CALL XUR$ERRCNVRT(VALUE,ECODE);

   8847  3 000161   200005 630500                    EPPR0   ECODE,,AUTO
         3 000162   200047 450500                    STP0    ERRBUF+32,,AUTO
         3 000163   200004 631500                    EPPR1   VALUE,,AUTO
         3 000164   200046 451500                    STP1    ERRBUF+31,,AUTO
         3 000165   200046 630500                    EPPR0   ERRBUF+31,,AUTO
         3 000166   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000167   000000 701000 xent               TSX1    XUR$ERRCNVRT
         3 000170   000000 011000                    NOP     0

      197     8848    3                 END;

      198     8849    2              FPT_ERRMSG.CODE_=VECTOR(ECODE);

   8849  3 000171   777640 235007                    LDA     -96,DL
         3 000172   200046 452500                    STP2    ERRBUF+31,,AUTO
         3 000173   200046 236100                    LDQ     ERRBUF+31,,AUTO
         3 000174   000005 036003                    ADLQ    5,DU
         3 000175   000002 757000 1                  STAQ    FPT_ERRMSG+2

      199     8850    2              FPT_ERRMSG.V.OUTDCB1#=DAF_DCB#;

   8850  3 000176   000000 720000 xsym               LXL0    DAF_DCB#
         3 000177   000026 440000 1                  SXL0    FPT_ERRMSG+22

      200     8851    2              FPT_ERRMSG.BUF_=VECTOR(ERRBUF);

   8851  3 000200   000020 235000 4                  LDA     16
         3 000201   200046 452500                    STP2    ERRBUF+31,,AUTO
         3 000202   200046 236100                    LDQ     ERRBUF+31,,AUTO
         3 000203   000007 036003                    ADLQ    7,DU
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:47   
         3 000204   000004 757000 1                  STAQ    FPT_ERRMSG+4

      201     8852    2              CALL M$ERRMSG(FPT_ERRMSG);

   8852  3 000205   000000 630400 1                  EPPR0   FPT_ERRMSG
         3 000206   020000 713400                    CLIMB   8192
         3 000207   405000 401760                    pmme    nvectors=11

      202     8853    2              CALL DAF$UPDLNCNT;

   8853  3 000210   000002 631400 xsym               EPPR1   B_VECTNIL+2
         3 000211   000000 701000 xent               TSX1    DAF$UPDLNCNT
         3 000212   000000 011000                    NOP     0

      203     8854    2              END;

      204     8855    1           RETURN;

   8855  3 000213   000000 702200 xent               TSX2  ! X66_ARET
      205     8856
      206     8857    1   END DBA$EVAL;
      207     8858        %EOD;

PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:48   
--  Include file information  --

   DA_FORMAT_R.:E05TOU  cannot be made into a system file and is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure DBA$EVAL.
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:49   

 **** Variables and constants ****

  ****  Section 001  Data  DBA$EVAL

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(936)   r     1 FPT_ERRMSG

  ****  Section 002 RoData DBA$EVAL

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(30)    r     1 FMT1                      14-0-0/c CHAR(16)    r     1 FMT2H
    10-0-0/c CHAR(16)    r     1 FMT2O                     20-0-0/c CHAR(4)     r     1 FMT3

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @TOP                       5-0-0/w UBIN        r     1 ECODE
     7-0-0/c CHAR(121)   r     1 ERRBUF                     6-0-0/w UBIN        r     1 RADIX
    *0-0-0/w STRC(144)   r     1 TOP                        4-0-0/w SBIN        r     1 VALUE

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w EPTR        r     1 DAF$WRITE                  0-0-0/w UBIN        r     1 DAF_DCB#
     0-0-0/w UBIN        r     1 DA_DFLT_RADIX

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:50   
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(144)   r     1 OUT


   Procedure DBA$EVAL requires 140 words for executable code.
   Procedure DBA$EVAL requires 60 words of local(AUTO) storage.
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:51   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:52   
          MINI XREF LISTING

ALT
      8839**LABEL    8827--CALLALT  8830--CALLALT
DAA$EXP
      8806**DCL-ENT  8830--CALL
DAA$VALUE
      8807**DCL-ENT  8844--CALL
DAF$UPDLNCNT
      8812**DCL-ENT  8853--CALL
DAF$WRITE
      8811**DCL      8832>>CALL     8837>>CALL
DAF_DCB#
      8681**DCL      8850>>ASSIGN
DA_DFLT_RADIX
      8815**DCL      8826>>IF       8833>>IF
DA_FMTSEG.P
      8682**DCL      8682--REDEF
DBA$EXPRESSION
      8808**DCL-ENT  8827--CALL
DBA$WRITEIC
      8809**DCL-ENT  8834--CALL     8836--CALL
DBM$UNPACK
      8810**DCL-ENT  8846--CALL
ECODE
      8822**DCL      8844<>CALL     8846>>CALL     8847<>CALL     8849--ASSIGN
ERRBUF
      8824**DCL      8851--ASSIGN
FMT1
      8817**DCL      8832--CALL
FMT2H
      8819**DCL      8834--CALL
FMT2O
      8818**DCL      8836--CALL
PL6.E3A0      #003=DBA$EVAL File=DBA$FEPANLZ.:E05TSI                             TUE 07/29/97 12:57 Page:53   
FMT3
      8820**DCL      8837--CALL
FPT_ERRMSG
      8789**DCL      8852<>CALL
FPT_ERRMSG.BUF_
      8789**DCL      8851<<ASSIGN
FPT_ERRMSG.CODE_
      8789**DCL      8849<<ASSIGN
FPT_ERRMSG.V
      8793**DCL      8789--DCLINIT
FPT_ERRMSG.V.OUTDCB1#
      8794**DCL      8850<<ASSIGN
M$ERRMSG
      5558**DCL-ENT  8852--CALL
OUT
      8738**DCL      8827<>CALL     8830<>CALL     8844<>CALL
RADIX
      8823**DCL      8844<>CALL     8845>>IF
TOP
      8692**DCL         6--PROC     8842--ENTRY
TOP.SUBLK$
      8725**DCL      8827>>CALL     8830>>CALL     8844>>CALL
VALUE
      8821**DCL      8827<>CALL     8830<>CALL     8832--CALL     8832--CALL     8832--CALL     8834<>CALL
      8836<>CALL     8846<>CALL     8847<>CALL
XUR$ERRCNVRT
      8813**DCL-ENT  8847--CALL

PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:54   
      208        1        /*T***********************************************************/
      209        2        /*T*                                                         */
      210        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      211        4        /*T*                                                         */
      212        5        /*T***********************************************************/
      213        6        DBA$RUE: PROC(TOP);
      214        7
      215        8        %INCLUDE CP_6;
      216     5567        %INCLUDE DA_ANLZ_R;
      217     5580        %INCLUDE DA_MAP_R;
      218     5610        %INCLUDE DB_MACRO_M;
      219     5641        %INCLUDE XUR_ENTRY;
      220     5673        %INCLUDE XU_MACRO_C;
      221     8779
      222     8780        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
      223     8825        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
      224     8870        %DB$MAP_EQUS;
      225     8880
      226     8881    1   DCL DBM$UNPACK ENTRY(3);
      227     8882    1   DCL DAA$VALUE ENTRY(3) ALTRET;
      228     8883
      229     8884    1   DCL M$FPRG DCB;
      230     8885    1   DCL B$TCB$ PTR SYMREF;
      231     8886
      232     8887    1   DCL I SBIN;
      233     8888    1   DCL RADIX UBIN;
      234     8889    1   DCL SBIN8 SBIN(8);
      235     8890    1   DCL SBIN32 SBIN(32);
      236     8891    1   DCL SBIN24 SBIN(24);
      237     8892
      238     8893        %DB$MAP_REQUEST (FPTN=REQUEST,STCLASS=AUTO,ALGN=CALIGNED);
      239     8897        %DB$MAP_REPLY (FPTN=REPLY,DATASIZE=256,STCLASS=AUTO);
      240     8951
      241     8952        %FPT_WRITE (FPTN=FPT_WRTRQST,DCB=M$FPRG,BP=YES);
      242     8983        %FPT_READ (FPTN=FPT_RDRPLY,DCB=M$FPRG);
      243     9022
      244     9023        %B$TCB;
PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:55   
      245     9026        %B$ALT;
      246     9034        %SUB B$ALT=B$TCB$->B$TCB.ALT$->B$ALT;
      247     9035
      248     9036        %EJECT;
PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:56   
      249     9037
      250     9038    1           REQUEST = '0'B;
      251     9039    2           CALL DAA$VALUE(TOP.SUBLK$(1)->OUT,I,RADIX) WHENALTRETURN DO;
      252     9040    2              RETURN;
      253     9041    2              END;
      254     9042    1           IF RADIX = 16 THEN
      255     9043    1              SBIN32 = -I;
      256     9044    1           ELSE
      257     9045    1              SBIN32 = I;
      258     9046    1           CALL DBM$UNPACK(SBIN32,REQUEST.SYSID,4);
      259     9047    1           SBIN24 = TOP.SUBLK$(0)->OUT.CODE;
      260     9048    1           CALL DBM$UNPACK(SBIN24,REQUEST.L6ADR,3);
      261     9049    1           SBIN8 = %DB#DOMAIN_RUE;
      262     9050    1           CALL DBM$UNPACK(SBIN8,REQUEST.DOMAYN,1);
      263     9051    1           FPT_WRTRQST.BUF_ = VECTOR(REQUEST);
      264     9052    2           CALL M$WRITE(FPT_WRTRQST) WHENALTRETURN DO;
      265     9053    2              DA_ANLZERR = B$ALT.ERR;
      266     9054    2              RETURN;
      267     9055    2              END;
      268     9056    1           FPT_RDRPLY.BUF_ = VECTOR(REPLY);
      269     9057    2           CALL M$READ(FPT_RDRPLY) WHENALTRETURN DO;
      270     9058    2              DA_ANLZERR = B$ALT.ERR;
      271     9059    2              RETURN;
      272     9060    2              END;
      273     9061    2           IF REPLY.ERROR THEN DO;
      274     9062    2              CALL XUR$ERRCNVRT(REPLY.ERROR,DA_ANLZERR);
      275     9063    2              END;
      276     9064    1           RETURN;
      277     9065
      278     9066    1   END DBA$RUE;
      279     9067        %EOD;

PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:57   
--  Include file information  --

   XU_MACRO_C.:E05TOU  is referenced.
   XUR_ENTRY.:E05TOU  cannot be made into a system file and is referenced.
   DB_MACRO_M.:E05TOU  is referenced.
   DA_MAP_R.:E05TOU  cannot be made into a system file and is referenced.
   DA_ANLZ_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure DBA$RUE.

   Procedure DBA$RUE requires 109 words for executable code.
   Procedure DBA$RUE requires 84 words of local(AUTO) storage.

PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:58   

 Object Unit name= DBA$RUE                                    File name= DBA$FEPANLZ.:E05TOU
 UTS= JUL 29 '97 12:57:23.44 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none     0      0  M$FPRG
    2   Data  even  none    26     32  DBA$RUE
    3   Proc  even  none   109    155  DBA$RUE
    4  RoData even  none     7      7  DBA$RUE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes            yes      Std        1  DBA$RUE

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       3 DAA$VALUE
         yes           Std       3 DBM$UNPACK
         yes           Std       2 XUR$ERRCNVRT
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:59   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  DA_ANLZERR                            M$FPRG
     B$TCB$                                B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:60   


      208        1        /*T***********************************************************/
      209        2        /*T*                                                         */
      210        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      211        4        /*T*                                                         */
      212        5        /*T***********************************************************/
      213        6        DBA$RUE: PROC(TOP);

      6  3 000000   000000 700200 xent  DBA$RUE      TSX0  ! X66_AUTO_1
         3 000001   000124 000001                    ZERO    84,1

      214        7
      215        8        %INCLUDE CP_6;
      216     5567        %INCLUDE DA_ANLZ_R;
      217     5580        %INCLUDE DA_MAP_R;
      218     5610        %INCLUDE DB_MACRO_M;
      219     5641        %INCLUDE XUR_ENTRY;
      220     5673        %INCLUDE XU_MACRO_C;
      221     8779
      222     8780        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
      223     8825        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
      224     8870        %DB$MAP_EQUS;
      225     8880
      226     8881    1   DCL DBM$UNPACK ENTRY(3);
      227     8882    1   DCL DAA$VALUE ENTRY(3) ALTRET;
      228     8883
      229     8884    1   DCL M$FPRG DCB;
      230     8885    1   DCL B$TCB$ PTR SYMREF;
      231     8886
      232     8887    1   DCL I SBIN;
      233     8888    1   DCL RADIX UBIN;
      234     8889    1   DCL SBIN8 SBIN(8);
      235     8890    1   DCL SBIN32 SBIN(32);
      236     8891    1   DCL SBIN24 SBIN(24);
      237     8892
      238     8893        %DB$MAP_REQUEST (FPTN=REQUEST,STCLASS=AUTO,ALGN=CALIGNED);
      239     8897        %DB$MAP_REPLY (FPTN=REPLY,DATASIZE=256,STCLASS=AUTO);
PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:61   
      240     8951
      241     8952        %FPT_WRITE (FPTN=FPT_WRTRQST,DCB=M$FPRG,BP=YES);
      242     8983        %FPT_READ (FPTN=FPT_RDRPLY,DCB=M$FPRG);
      243     9022
      244     9023        %B$TCB;
      245     9026        %B$ALT;
      246     9034        %SUB B$ALT=B$TCB$->B$TCB.ALT$->B$ALT;
      247     9035
      248     9036        %EJECT;
PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:62   
      249     9037
      250     9038    1           REQUEST = '0'B;

   9038  3 000002   000100 100400                    MLR     fill='000'O
         3 000003   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         3 000004   200011 000016                    ADSC9   REQUEST,,AUTO            cn=0,n=14

      251     9039    2           CALL DAA$VALUE(TOP.SUBLK$(1)->OUT,I,RADIX) WHENALTRETURN DO;

   9039  3 000005   200003 470500                    LDP0    @TOP,,AUTO
         3 000006   000004 471500                    LDP1    4,,PR0
         3 000007   200005 633500                    EPPR3   RADIX,,AUTO
         3 000010   200122 453500                    STP3    REPLY+69,,AUTO
         3 000011   200004 634500                    EPPR4   I,,AUTO
         3 000012   200121 454500                    STP4    REPLY+68,,AUTO
         3 000013   200120 451500                    STP1    REPLY+67,,AUTO
         3 000014   200120 630500                    EPPR0   REPLY+67,,AUTO
         3 000015   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000016   000000 701000 xent               TSX1    DAA$VALUE
         3 000017   000021 702000 3                  TSX2    s:9040
         3 000020   000022 710000 3                  TRA     s:9042

      252     9040    2              RETURN;

   9040  3 000021   000000 702200 xent               TSX2  ! X66_ARET

      253     9041    2              END;
      254     9042    1           IF RADIX = 16 THEN

   9042  3 000022   200005 235100                    LDA     RADIX,,AUTO
         3 000023   000020 115007                    CMPA    16,DL
         3 000024   000031 601000 3                  TNZ     s:9045

      255     9043    1              SBIN32 = -I;

   9043  3 000025   200004 336100                    LCQ     I,,AUTO
         3 000026   000004 736000                    QLS     4
PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:63   
         3 000027   200007 756100                    STQ     SBIN32,,AUTO
         3 000030   000034 710000 3                  TRA     s:9046

      256     9044    1           ELSE
      257     9045    1              SBIN32 = I;

   9045  3 000031   200004 236100                    LDQ     I,,AUTO
         3 000032   000004 736000                    QLS     4
         3 000033   200007 756100                    STQ     SBIN32,,AUTO

      258     9046    1           CALL DBM$UNPACK(SBIN32,REQUEST.SYSID,4);

   9046  3 000034   000000 236000 4                  LDQ     0
         3 000035   200122 756100                    STQ     REPLY+69,,AUTO
         3 000036   200012 630500                    EPPR0   REQUEST+1,,AUTO
         3 000037   200121 450500                    STP0    REPLY+68,,AUTO
         3 000040   200007 631500                    EPPR1   SBIN32,,AUTO
         3 000041   200120 451500                    STP1    REPLY+67,,AUTO
         3 000042   200120 630500                    EPPR0   REPLY+67,,AUTO
         3 000043   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000044   000000 701000 xent               TSX1    DBM$UNPACK
         3 000045   000000 011000                    NOP     0

      259     9047    1           SBIN24 = TOP.SUBLK$(0)->OUT.CODE;

   9047  3 000046   200003 470500                    LDP0    @TOP,,AUTO
         3 000047   000003 471500                    LDP1    3,,PR0
         3 000050   100000 236100                    LDQ     0,,PR1
         3 000051   777777 376007                    ANQ     -1,DL
         3 000052   000014 736000                    QLS     12
         3 000053   200010 756100                    STQ     SBIN24,,AUTO

      260     9048    1           CALL DBM$UNPACK(SBIN24,REQUEST.L6ADR,3);

   9048  3 000054   000001 236000 4                  LDQ     1
         3 000055   200122 756100                    STQ     REPLY+69,,AUTO
         3 000056   200011 631500                    EPPR1   REQUEST,,AUTO
PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:64   
         3 000057   200121 451500                    STP1    REPLY+68,,AUTO
         3 000060   200010 633500                    EPPR3   SBIN24,,AUTO
         3 000061   200120 453500                    STP3    REPLY+67,,AUTO
         3 000062   200120 630500                    EPPR0   REPLY+67,,AUTO
         3 000063   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000064   000000 701000 xent               TSX1    DBM$UNPACK
         3 000065   000000 011000                    NOP     0

      261     9049    1           SBIN8 = %DB#DOMAIN_RUE;

   9049  3 000066   016000 236003                    LDQ     7168,DU
         3 000067   200006 756100                    STQ     SBIN8,,AUTO

      262     9050    1           CALL DBM$UNPACK(SBIN8,REQUEST.DOMAYN,1);

   9050  3 000070   000002 236000 4                  LDQ     2
         3 000071   200122 756100                    STQ     REPLY+69,,AUTO
         3 000072   200123 452500                    STP2    REPLY+70,,AUTO
         3 000073   200123 236100                    LDQ     REPLY+70,,AUTO
         3 000074   000003 036000 4                  ADLQ    3
         3 000075   200121 756100                    STQ     REPLY+68,,AUTO
         3 000076   200006 630500                    EPPR0   SBIN8,,AUTO
         3 000077   200120 450500                    STP0    REPLY+67,,AUTO
         3 000100   200120 630500                    EPPR0   REPLY+67,,AUTO
         3 000101   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000102   000000 701000 xent               TSX1    DBM$UNPACK
         3 000103   000000 011000                    NOP     0

      263     9051    1           FPT_WRTRQST.BUF_ = VECTOR(REQUEST);

   9051  3 000104   000004 235000 4                  LDA     4
         3 000105   200120 452500                    STP2    REPLY+67,,AUTO
         3 000106   200120 236100                    LDQ     REPLY+67,,AUTO
         3 000107   000011 036003                    ADLQ    9,DU
         3 000110   000004 757000 2                  STAQ    FPT_WRTRQST+4

      264     9052    2           CALL M$WRITE(FPT_WRTRQST) WHENALTRETURN DO;
PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:65   

   9052  3 000111   000000 630400 2                  EPPR0   FPT_WRTRQST
         3 000112   440001 713400                    CLIMB   alt,write
         3 000113   401400 401760                    pmme    nvectors=4
         3 000114   000116 702000 3                  TSX2    s:9053
         3 000115   000123 710000 3                  TRA     s:9056

      265     9053    2              DA_ANLZERR = B$ALT.ERR;

   9053  3 000116   000000 470400 xsym               LDP0    B$TCB$
         3 000117   000000 471500                    LDP1    0,,PR0
         3 000120   100102 236100                    LDQ     66,,PR1
         3 000121   000000 756000 xsym               STQ     DA_ANLZERR

      266     9054    2              RETURN;

   9054  3 000122   000000 702200 xent               TSX2  ! X66_ARET

      267     9055    2              END;
      268     9056    1           FPT_RDRPLY.BUF_ = VECTOR(REPLY);

   9056  3 000123   000005 235000 4                  LDA     5
         3 000124   200120 452500                    STP2    REPLY+67,,AUTO
         3 000125   200120 236100                    LDQ     REPLY+67,,AUTO
         3 000126   000015 036003                    ADLQ    13,DU
         3 000127   000020 757000 2                  STAQ    FPT_RDRPLY+4

      269     9057    2           CALL M$READ(FPT_RDRPLY) WHENALTRETURN DO;

   9057  3 000130   000014 630400 2                  EPPR0   FPT_RDRPLY
         3 000131   440000 713400                    CLIMB   alt,read
         3 000132   401400 401760                    pmme    nvectors=4
         3 000133   000135 702000 3                  TSX2    s:9058
         3 000134   000142 710000 3                  TRA     s:9061

      270     9058    2              DA_ANLZERR = B$ALT.ERR;

PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:66   
   9058  3 000135   000000 470400 xsym               LDP0    B$TCB$
         3 000136   000000 471500                    LDP1    0,,PR0
         3 000137   100102 236100                    LDQ     66,,PR1
         3 000140   000000 756000 xsym               STQ     DA_ANLZERR

      271     9059    2              RETURN;

   9059  3 000141   000000 702200 xent               TSX2  ! X66_ARET

      272     9060    2              END;
      273     9061    2           IF REPLY.ERROR THEN DO;

   9061  3 000142   200016 235100                    LDA     REPLY+1,,AUTO
         3 000143   000154 600000 3                  TZE     s:9064

      274     9062    2              CALL XUR$ERRCNVRT(REPLY.ERROR,DA_ANLZERR);

   9062  3 000144   000006 236000 4                  LDQ     6
         3 000145   200121 756100                    STQ     REPLY+68,,AUTO
         3 000146   200016 630500                    EPPR0   REPLY+1,,AUTO
         3 000147   200120 450500                    STP0    REPLY+67,,AUTO
         3 000150   200120 630500                    EPPR0   REPLY+67,,AUTO
         3 000151   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000152   000000 701000 xent               TSX1    XUR$ERRCNVRT
         3 000153   000000 011000                    NOP     0

      275     9063    2              END;

      276     9064    1           RETURN;

   9064  3 000154   000000 702200 xent               TSX2  ! X66_ARET
      277     9065
      278     9066    1   END DBA$RUE;
      279     9067        %EOD;

PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:67   
--  Include file information  --

   XU_MACRO_C.:E05TOU  is referenced.
   XUR_ENTRY.:E05TOU  cannot be made into a system file and is referenced.
   DB_MACRO_M.:E05TOU  is referenced.
   DA_MAP_R.:E05TOU  cannot be made into a system file and is referenced.
   DA_ANLZ_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure DBA$RUE.
PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:68   

 **** Variables and constants ****

  ****  Section 002  Data  DBA$RUE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    14-0-0/d STRC(504)   r     1 FPT_RDRPLY                 0-0-0/d STRC(432)   r     1 FPT_WRTRQST

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @TOP                       4-0-0/w SBIN        r     1 I
     5-0-0/w UBIN        r     1 RADIX                     15-0-0/w STRC(2394)  r     1 REPLY
    11-0-0/c STRC(126)   r     1 REQUEST                   10-0-0/w SBIN(24)    r     1 SBIN24
     7-0-0/w SBIN(32)    r     1 SBIN32                     6-0-0/w SBIN(8)     r     1 SBIN8
    *0-0-0/w STRC(144)   r     1 TOP

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$TCB$                     0-0-0/w STRC        r     1 DA_ANLZERR

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(2448)  r     1 B$ALT                      0-0-0/w STRC(144)   r     1 B$TCB
     0-0-0N  NULL        r     1 M$FPRG                     0-0-0/w STRC(144)   r     1 OUT

PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:69   

   Procedure DBA$RUE requires 109 words for executable code.
   Procedure DBA$RUE requires 84 words of local(AUTO) storage.
PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:70   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:71   
          MINI XREF LISTING

B$ALT.CODE
      9028**DCL      9028--REDEF    9029--REDEF    9029--REDEF
B$ALT.ERR
      9029**DCL      9053>>ASSIGN   9058>>ASSIGN
B$ALT.ERR.ERR#
      9030**DCL      9030--REDEF
B$ALT.EVID
      9029**DCL      9029--REDEF    9029--REDEF
B$TCB.ALT$
      9024**DCL      9053>>ASSIGN   9058>>ASSIGN
B$TCB$
      8885**DCL      9053>>ASSIGN   9058>>ASSIGN
DAA$VALUE
      8882**DCL-ENT  9039--CALL
DA_ANLZERR
      5575**DCL      9053<<ASSIGN   9058<<ASSIGN   9062<>CALL
DA_MAPSEG.P
      5605**DCL      5606--REDEF
DA_SDASN.DESC.TYPE0
      5590**DCL      5590--REDEF
DA_TIGRSEG.P
      5606**DCL      5607--REDEF
DBM$UNPACK
      8881**DCL-ENT  9046--CALL     9048--CALL     9050--CALL
FPT_RDRPLY
      9000**DCL      9057<>CALL
FPT_RDRPLY.BUF_
      9002**DCL      9056<<ASSIGN
FPT_RDRPLY.STATION_
      9003**DCL      9004--REDEF
FPT_RDRPLY.V
      9004**DCL      9000--DCLINIT
PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:72   
FPT_RDRPLY.V.DVBYTE.REREAD#
      9015**DCL      9015--REDEF
FPT_RDRPLY.V.INDX#
      9013**DCL      9013--REDEF
FPT_WRTRQST
      8969**DCL      9052<>CALL
FPT_WRTRQST.BUF_
      8969**DCL      9051<<ASSIGN
FPT_WRTRQST.STATION_
      8971**DCL      8971--REDEF
FPT_WRTRQST.V
      8972**DCL      8969--DCLINIT
FPT_WRTRQST.V.DVBYTE.VFC#
      8978**DCL      8978--REDEF
I
      8887**DCL      9039<>CALL     9043>>ASSIGN   9045>>ASSIGN
M$READ
      5496**DCL-ENT  9057--CALL
M$WRITE
      5496**DCL-ENT  9052--CALL
OUT
      8831**DCL      9039<>CALL
OUT.CODE
      8839**DCL      9047>>ASSIGN
RADIX
      8888**DCL      9039<>CALL     9042>>IF
REPLY
      8903**DCL      9056--ASSIGN
REPLY.ERROR
      8918**DCL      9061>>IF       9062<>CALL
REQUEST
      8894**DCL      9038<<ASSIGN   9051--ASSIGN
REQUEST.DOMAYN
      8894**DCL      9050<>CALL
REQUEST.L6ADR
      8894**DCL      9048<>CALL
PL6.E3A0      #004=DBA$RUE File=DBA$FEPANLZ.:E05TSI                              TUE 07/29/97 12:57 Page:73   
REQUEST.SYSID
      8894**DCL      9046<>CALL
SBIN24
      8891**DCL      9047<<ASSIGN   9048<>CALL
SBIN32
      8890**DCL      9043<<ASSIGN   9045<<ASSIGN   9046<>CALL
SBIN8
      8889**DCL      9049<<ASSIGN   9050<>CALL
TOP
      8786**DCL         6--PROC
TOP.SUBLK$
      8819**DCL      9039>>CALL     9047>>ASSIGN
XUR$ERRCNVRT
      5671**DCL-ENT  9062--CALL

PL6.E3A0      #005=DBA$SELECTION File=DBA$FEPANLZ.:E05TSI                        TUE 07/29/97 12:57 Page:74   
      280        1        /*T***********************************************************/
      281        2        /*T*                                                         */
      282        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      283        4        /*T*                                                         */
      284        5        /*T***********************************************************/
      285        6        DBA$SELECTION: PROC(TOP,USERID,DOMAYN) ALTRET;
      286        7
      287        8        %INCLUDE XU_MACRO_C;
      288     3114        %INCLUDE DB_MACRO_M;
      289     3145        %INCLUDE DA_CMD_C;
      290     3494        %DB$MAP_EQUS;
      291     3504
      292     3505        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
      293     3550    1   DCL USERID SBIN;
      294     3551    1   DCL DOMAYN SBIN;
      295     3552
      296     3553    1   DCL DAA$VALUE ENTRY(3) ALTRET;
      297     3554
      298     3555    1   DCL D SBIN;
      299     3556    1   DCL R SBIN;
      300     3557    1   DCL U SBIN;
      301     3558    1   DCL OUT$ PTR;
      302     3559
      303     3560        %PARSE$OUT (NAME=OUT,STCLASS="BASED(OUT$)");
      304     3605
      305     3606    1   DCL DB_CURRENT_USER SBIN SYMREF;
      306     3607
      307     3608        %EJECT;
PL6.E3A0      #005=DBA$SELECTION File=DBA$FEPANLZ.:E05TSI                        TUE 07/29/97 12:57 Page:75   
      308     3609    1           OUT$=ADDR(TOP);
      309     3610    2           DO WHILE(OUT.NSUBLKS=1 AND OUT.CODE ~= %DB_SELECTION);
      310     3611    2              OUT$=OUT.SUBLK$(0);
      311     3612    2              END;
      312     3613
      313     3614    1           U=0;
      314     3615    1           D=%DB#DOMAIN_MONUSR;
      315     3616    2           DO CASE(OUT.SUBLK$(0)->OUT.CODE);
      316     3617    2            CASE(%DB_SELECT_MON);
      317     3618    2              D=%DB#DOMAIN_MON;
      318     3619    2            CASE(%DB_SELECT_REAL);
      319     3620    2              D=%DB#DOMAIN_REAL;
      320     3621    2            CASE(%DB_SELECT_CUN);
      321     3622    2              D=%DB#DOMAIN_USR;
      322     3623    2              U=-DB_CURRENT_USER;
      323     3624    2            CASE(%DB_SELECT_USERID);
      324     3625    2              CALL DAA$VALUE(OUT.SUBLK$(0)->OUT.SUBLK$(0)->OUT,U,R);
      325     3626    2              IF R=16 THEN U = -U;
      326     3627    2            END;
      327     3628    1           USERID = U;
      328     3629    1           IF ADDR(DOMAYN)~=ADDR(NIL) THEN DOMAYN=D;
      329     3630    1           RETURN;
      330     3631
      331     3632    1   END DBA$SELECTION;

PL6.E3A0      #005=DBA$SELECTION File=DBA$FEPANLZ.:E05TSI                        TUE 07/29/97 12:57 Page:76   
--  Include file information  --

   DA_CMD_C.:E05TOU  is referenced.
   DB_MACRO_M.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
      No diagnostics issued in procedure DBA$SELECTION.

   Procedure DBA$SELECTION requires 63 words for executable code.
   Procedure DBA$SELECTION requires 14 words of local(AUTO) storage.

    No errors detected in file DBA$FEPANLZ.:E05TSI    .

PL6.E3A0      #005=DBA$SELECTION File=DBA$FEPANLZ.:E05TSI                        TUE 07/29/97 12:57 Page:77   

 Object Unit name= DBA$SELECTION                              File name= DBA$FEPANLZ.:E05TOU
 UTS= JUL 29 '97 12:57:36.40 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none    63     77  DBA$SELECTION

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes    yes     yes      Std        3  DBA$SELECTION

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       3 DAA$VALUE
                       nStd      0 X66_AUTO_3
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     DB_CURRENT_USER                       B_VECTNIL
PL6.E3A0      #005=DBA$SELECTION File=DBA$FEPANLZ.:E05TSI                        TUE 07/29/97 12:57 Page:78   


      280        1        /*T***********************************************************/
      281        2        /*T*                                                         */
      282        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      283        4        /*T*                                                         */
      284        5        /*T***********************************************************/
      285        6        DBA$SELECTION: PROC(TOP,USERID,DOMAYN) ALTRET;

      6  0 000000   000000 700200 xent  DBA$SELECTI* TSX0  ! X66_AUTO_3
         0 000001   000016 000003                    ZERO    14,3

      286        7
      287        8        %INCLUDE XU_MACRO_C;
      288     3114        %INCLUDE DB_MACRO_M;
      289     3145        %INCLUDE DA_CMD_C;
      290     3494        %DB$MAP_EQUS;
      291     3504
      292     3505        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
      293     3550    1   DCL USERID SBIN;
      294     3551    1   DCL DOMAYN SBIN;
      295     3552
      296     3553    1   DCL DAA$VALUE ENTRY(3) ALTRET;
      297     3554
      298     3555    1   DCL D SBIN;
      299     3556    1   DCL R SBIN;
      300     3557    1   DCL U SBIN;
      301     3558    1   DCL OUT$ PTR;
      302     3559
      303     3560        %PARSE$OUT (NAME=OUT,STCLASS="BASED(OUT$)");
      304     3605
      305     3606    1   DCL DB_CURRENT_USER SBIN SYMREF;
      306     3607
      307     3608        %EJECT;
PL6.E3A0      #005=DBA$SELECTION File=DBA$FEPANLZ.:E05TSI                        TUE 07/29/97 12:57 Page:79   
      308     3609    1           OUT$=ADDR(TOP);

   3609  0 000002   200003 236100                    LDQ     @TOP,,AUTO
         0 000003   200011 756100                    STQ     OUT$,,AUTO

      309     3610    2           DO WHILE(OUT.NSUBLKS=1 AND OUT.CODE ~= %DB_SELECTION);

   3610  0 000004   000010 710000 0                  TRA     s:3612

      310     3611    2              OUT$=OUT.SUBLK$(0);

   3611  0 000005   200011 470500                    LDP0    OUT$,,AUTO
         0 000006   000003 236100                    LDQ     3,,PR0
         0 000007   200011 756100                    STQ     OUT$,,AUTO

      311     3612    2              END;

   3612  0 000010   200011 470500                    LDP0    OUT$,,AUTO
         0 000011   000001 220100                    LDX0    1,,PR0
         0 000012   000001 100003                    CMPX0   1,DU
         0 000013   000017 601000 0                  TNZ     s:3614
         0 000014   000000 721100                    LXL1    0,,PR0
         0 000015   000771 101003                    CMPX1   505,DU
         0 000016   000005 601000 0                  TNZ     s:3611

      312     3613
      313     3614    1           U=0;

   3614  0 000017   200010 450100                    STZ     U,,AUTO

      314     3615    1           D=%DB#DOMAIN_MONUSR;

   3615  0 000020   200006 450100                    STZ     D,,AUTO

      315     3616    2           DO CASE(OUT.SUBLK$(0)->OUT.CODE);

   3616  0 000021   000003 471500                    LDP1    3,,PR0
PL6.E3A0      #005=DBA$SELECTION File=DBA$FEPANLZ.:E05TSI                        TUE 07/29/97 12:57 Page:80   
         0 000022   100000 720100                    LXL0    0,,PR1
         0 000023   000005 100003                    CMPX0   5,DU
         0 000024   000026 602010 0                  TNC     s:3616+5,X0
         0 000025   000065 710000 0                  TRA     s:3628
         0 000026   000065 710000 0                  TRA     s:3628
         0 000027   000033 710000 0                  TRA     s:3618
         0 000030   000036 710000 0                  TRA     s:3620
         0 000031   000041 710000 0                  TRA     s:3622
         0 000032   000046 710000 0                  TRA     s:3625

      316     3617    2            CASE(%DB_SELECT_MON);

      317     3618    2              D=%DB#DOMAIN_MON;

   3618  0 000033   000001 235007                    LDA     1,DL
         0 000034   200006 755100                    STA     D,,AUTO
         0 000035   000065 710000 0                  TRA     s:3628

      318     3619    2            CASE(%DB_SELECT_REAL);

      319     3620    2              D=%DB#DOMAIN_REAL;

   3620  0 000036   000004 235007                    LDA     4,DL
         0 000037   200006 755100                    STA     D,,AUTO
         0 000040   000065 710000 0                  TRA     s:3628

      320     3621    2            CASE(%DB_SELECT_CUN);

      321     3622    2              D=%DB#DOMAIN_USR;

   3622  0 000041   000003 235007                    LDA     3,DL
         0 000042   200006 755100                    STA     D,,AUTO

      322     3623    2              U=-DB_CURRENT_USER;

   3623  0 000043   000000 335000 xsym               LCA     DB_CURRENT_USER
         0 000044   200010 755100                    STA     U,,AUTO
PL6.E3A0      #005=DBA$SELECTION File=DBA$FEPANLZ.:E05TSI                        TUE 07/29/97 12:57 Page:81   
         0 000045   000065 710000 0                  TRA     s:3628

      323     3624    2            CASE(%DB_SELECT_USERID);

      324     3625    2              CALL DAA$VALUE(OUT.SUBLK$(0)->OUT.SUBLK$(0)->OUT,U,R);

   3625  0 000046   100003 473500                    LDP3    3,,PR1
         0 000047   200007 634500                    EPPR4   R,,AUTO
         0 000050   200014 454500                    STP4    OUT$+3,,AUTO
         0 000051   200010 631500                    EPPR1   U,,AUTO
         0 000052   200013 451500                    STP1    OUT$+2,,AUTO
         0 000053   200012 453500                    STP3    OUT$+1,,AUTO
         0 000054   200012 630500                    EPPR0   OUT$+1,,AUTO
         0 000055   000021 631400 xsym               EPPR1   B_VECTNIL+17
         0 000056   000000 701000 xent               TSX1    DAA$VALUE
         0 000057   000000 011000                    NOP     0

      325     3626    2              IF R=16 THEN U = -U;

   3626  0 000060   200007 235100                    LDA     R,,AUTO
         0 000061   000020 115007                    CMPA    16,DL
         0 000062   000065 601000 0                  TNZ     s:3628

   3626  0 000063   200010 336100                    LCQ     U,,AUTO
         0 000064   200010 756100                    STQ     U,,AUTO

      326     3627    2            END;

      327     3628    1           USERID = U;

   3628  0 000065   200004 470500                    LDP0    @USERID,,AUTO
         0 000066   200010 235100                    LDA     U,,AUTO
         0 000067   000000 755100                    STA     0,,PR0

      328     3629    1           IF ADDR(DOMAYN)~=ADDR(NIL) THEN DOMAYN=D;

   3629  0 000070   200005 236100                    LDQ     @DOMAYN,,AUTO
PL6.E3A0      #005=DBA$SELECTION File=DBA$FEPANLZ.:E05TSI                        TUE 07/29/97 12:57 Page:82   
         0 000071   000001 116000 xsym               CMPQ    B_VECTNIL+1
         0 000072   000076 600000 0                  TZE     s:3630

   3629  0 000073   200005 471500                    LDP1    @DOMAYN,,AUTO
         0 000074   200006 235100                    LDA     D,,AUTO
         0 000075   100000 755100                    STA     0,,PR1

      329     3630    1           RETURN;

   3630  0 000076   000000 702200 xent               TSX2  ! X66_ARET
      330     3631
      331     3632    1   END DBA$SELECTION;

PL6.E3A0      #005=DBA$SELECTION File=DBA$FEPANLZ.:E05TSI                        TUE 07/29/97 12:57 Page:83   
--  Include file information  --

   DA_CMD_C.:E05TOU  is referenced.
   DB_MACRO_M.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
      No diagnostics issued in procedure DBA$SELECTION.
PL6.E3A0      #005=DBA$SELECTION File=DBA$FEPANLZ.:E05TSI                        TUE 07/29/97 12:57 Page:84   

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     5-0-0/w PTR         r     1 @DOMAYN                    3-0-0/w PTR         r     1 @TOP
     4-0-0/w PTR         r     1 @USERID                    6-0-0/w SBIN        r     1 D
    *0-0-0/w SBIN        r     1 DOMAYN                    11-0-0/w PTR         r     1 OUT$
     7-0-0/w SBIN        r     1 R                         *0-0-0/w STRC(144)   r     1 TOP
    10-0-0/w SBIN        r     1 U                         *0-0-0/w SBIN        r     1 USERID

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 DB_CURRENT_USER

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(144)   r     1 OUT


   Procedure DBA$SELECTION requires 63 words for executable code.
   Procedure DBA$SELECTION requires 14 words of local(AUTO) storage.

    No errors detected in file DBA$FEPANLZ.:E05TSI    .
PL6.E3A0      #005=DBA$SELECTION File=DBA$FEPANLZ.:E05TSI                        TUE 07/29/97 12:57 Page:85   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #005=DBA$SELECTION File=DBA$FEPANLZ.:E05TSI                        TUE 07/29/97 12:57 Page:86   
          MINI XREF LISTING

D
      3555**DCL      3615<<ASSIGN   3618<<ASSIGN   3620<<ASSIGN   3622<<ASSIGN   3629>>ASSIGN
DAA$VALUE
      3553**DCL-ENT  3625--CALL
DB_CURRENT_USER
      3606**DCL      3623>>ASSIGN
DOMAYN
      3551**DCL         6--PROC     3629--IF       3629<<ASSIGN
OUT
      3566**DCL      3625<>CALL
OUT.CODE
      3574**DCL      3610>>DOWHILE  3616>>DOCASE
OUT.NSUBLKS
      3578**DCL      3610>>DOWHILE
OUT.SUBLK$
      3599**DCL      3611>>ASSIGN   3616>>DOCASE   3625>>CALL     3625>>CALL
OUT$
      3558**DCL      3566--IMP-PTR  3609<<ASSIGN   3610>>DOWHILE  3610>>DOWHILE  3611<<ASSIGN   3611>>ASSIGN
      3616>>DOCASE   3625>>CALL
R
      3556**DCL      3625<>CALL     3626>>IF
TOP
      3511**DCL         6--PROC     3609--ASSIGN
U
      3557**DCL      3614<<ASSIGN   3623<<ASSIGN   3625<>CALL     3626<<ASSIGN   3626>>ASSIGN   3628>>ASSIGN
USERID
      3550**DCL         6--PROC     3628<<ASSIGN

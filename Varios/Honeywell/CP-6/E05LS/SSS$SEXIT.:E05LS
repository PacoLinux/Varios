VERSION E05

 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  1    BMAP - B00     
                                         1  *M* SSS$SEXIT -  EXIT FROM INT,FAULT, AND PMME PLUS MISC SUBROUTINES
                                         2  *T***********************************************************
                                         3  *T*                                                         *
                                         4  *T* Copyright (c) Bull HN Information Systems Inc., 1997    *
                                         5  *T*                                                         *
                                         6  *T***********************************************************
                                         7  *
                                         8         ENTREF  X66_AUTO_3
                                         9         ENTREF  X66_AUTO_1
                                        10         ENTREF  X66_AUTO_0
                                        11         ENTREF  X66_AALT
                                        12         ENTREF  X66_ARET
                                        13         ENTREF  X66_MSTATIC
                                        14         SYMDEF  SS_UTS_COOKIE
                                        15         SYMDEF  SS_UTS_COOKIE_25
                                        16         SYMDEF  SS_MS_COOKIE
                                        17         SYMREF  B$MONTSTACK$
                                        18         SYMREF  B$UPT$
                                        19         SYMREF  B$IPHYMAP$
                                        20         SYMREF  HW_WSQ0PT
                                        21         SYMREF  HW_TIME_LEGAL
                                        22         SYMREF    H_RLF_GATE
                                        23         SYMREF    H_ENMASK
                                        24         SYMREF    H_DPS8000_CI_TABLE
                                        25         SYMREF    H_S1000_FLG
                                        26         SYMREF   H_FAIL_PARK
                                        27         SYMREF   H_NURSE_PARK
                                        28         SYMREF  NI$DS
                                        29         SYMREF   B_MUAIS
                                        30         SYMREF   S_MING
                                        31         SYMREF   B$USRT$
                                        32         SYMREF  H_RPM_FLG
                                        33         SYMREF  B_MPT
                                        34         SYMREF  H_MAKE_IN_PROGRESS
                                        35         SYMREF  H_MIXED_MP
                                        36         SYMREF  H_MIXED_SSS
                                        37         SYMREF  H_MIXED_SSX
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  2    BMAP - B00     
                                        38         SYMREF  H_MIXED_RMIR
                                        39         SYMREF  H_RELIEF
                                        40         SYMREF  IT_SCPUWSPTD
                                        41         SYMREF  S_XX
                                        42         SYMREF  S_RLF_SSR
                                        43         SYMREF  H_NURSE
                                        44         SYMREF  H_FAIL_NUM
                                        45         SYMREF  B$WSQ0PT$
                                        46         SYMREF  KQ_BASEDELAY
                                        47         SYMREF  S$CU$
                                        48         SYMREF  S_ITIME
                                        49         SYMREF  S_INCTIME
                                        50         SYMREF  S_TIMR
                                        51         SYMREF  S_BTIME
                                        52         SYMREF  S_BOOTERA
                                        53         SYMREF  S_BOOTQUARTER
                                        54         SYMREF  S_C10USR
                                        55         SYMREF  S_C10PR
                                        56         SYMREF  S_UPTIME
                                        57         SYMREF  S_CUN
                                        58         SYMREF  S_PRVTIME
                                        59         SYMREF  S_MONSSR
                                        60         SYMREF  S_STARTSSR
                                        61         SYMREF  S_PNO
                                        62         SYMREF  S_THIS_PTYPE
                                        63         SYMREF  S_SSPTYPE
                                        64         SYMREF  S_NSCPU
                                        65         SYMREF  S_PCU
                                        66         SYMREF  S_X1
                                        67         SYMREF  S_HQ
                                        68         SYMREF  S_EVF
                                        69         SYMREF  S_SCHDGATE
                                        70         SYMREF  S_PORTNR
                                        71         SYMREF  S_MPSTATE
                                        72         SYMREF  S_ACCTIME
                                        73         SYMREF  S_STOP
                                        74  *
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  3    BMAP - B00     
                                        75         SEGREF  REGENTSID
                                        76         SEGREF  MTSTACKSID
                                        77         SEGREF  ISSID
                                        78         SEGREF  CDTFSID
                                        79         SEGREF  SSRSID
                                        80         SEGREF  LSRSID
                                        81         SEGREF  ISRSID
                                        82         SEGREF  TSTACKSID
                                        83         SEGREF  LSSID
                                        84         SEGREF  SDS0SID
                                        85         SEGREF  SDS1SID
                                        86         SEGREF  SCUSID
                                        87         SEGREF  ISBSID
                                        88  *
                                        89         ENTREF  SSQ$QEND
                                        90         ENTREF  HFB$ERRORLOG
                                        91         ENTREF  HFC$UNLOCK
                                        92         ENTREF  HFC$CPUTYPE
                                        93         ENTREF  HFC$BMAP_CLOCK
                                        94         ENTREF  MMB$FPP
                                        95         ENTREF  SSC$MON
                                        96         ENTREF  SSC$SERV
                                        97         ENTREF  SSC$SLAVE
                                        98         ENTREF  SSC$SERV
                                        99         ENTREF  SSX$XSCHD
                                       100         ENTREF  SSC$HWMON
                                       101         ENTREF  SSR$MASTER
                                       102         ENTREF  UDN$MGSAVE
                                       103         ENTREF  UDN$MGRES
                                       104         ENTREF  UDN$BLDASR
                                       105         ENTREF  KCC$BASE
                                       106  *
                                       107         ENTDEF  SSS$SEXIT
                                       108         ENTDEF  SSS$PARK
                                       109         ENTDEF  SSS$RG
                                       110         ENTDEF  S_REGR
                                       111         ENTDEF  SSS$TIME
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  4    BMAP - B00     
                                       112         ENTDEF  SSS$SENT
                                       113         ENTDEF  SSS$LTRD
                                       114         ENTDEF  SSS$DELTRD
                                       115         ENTDEF  SSS$LDT
                                       116         ENTDEF  SSS$IDLE
                                       117         ENTDEF  SSS$CACHEBP
                                       118         ENTDEF  SSS$CACHE
                                       119         ENTDEF  SSS$SYSTIME
                                       120         ENTDEF  SSS$XSYSTIME
                                       121         ENTDEF  SSS$RET
                                       122         ENTDEF  SSS$ALTRET
                                       123         ENTDEF  SSS$DU
                                       124         ENTDEF  SSS$WUTIME
                                       125         ENTDEF  SSS$CURTIME
                                       126         ENTDEF  SSS$EOMTIME
                                       127         ENTDEF  SSS$SETBTIME
                                       128         ENTDEF  SSS$UPDITIME
                                       129         ENTDEF  SSS$UPDUTS
                                       130         ENTDEF  SSS$CCAC
                                       131         ENTDEF  SSS$CIOC
                                       132         ENTDEF  SSS$STOP
                                       133         ENTDEF  SSS$BLOCK
                                       134         ENTDEF  SSS$BLOCKM
                                       135         ENTDEF  SSS$XEQTIME
                                       136         ENTDEF  SSS$SLVIC
                                       137         ENTDEF  SSS$MIXED
                                       138         ENTDEF  SSS$CHKSS
                                       139         ENTDEF  SSS$UTS_L6
                                       140         ENTDEF  SSS$L6_UTS
                                       141         ENTDEF  SSS$WARP
                                       142         ENTDEF  SSS$FEPERA
                                       143  *
             6120 00 2 00 02 03        144  DIAG   OPD     O12/6120,6/,O2/2,6/,O6/2,O4/3
                                       145  *
                                       146         LODM    B_BMACROS_C
                                       147         DETAIL  OFF
             000000000000              148         MAGIC
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  5    BMAP - B00     
             000000000000              149         MONLS
                                       150         DETAIL  ON
                                       151  *
                                       152  *      SAFE STORE FRAME OFFSETS
                                       153  *
             000000000001              154  AUTOLOC   EQU   1
             000000000004              155  ICIR   EQU     4               WORD CONTAINING IC & IR
             000000000006              156  CPUTYP EQU     6               IF MULTIWORD INTERRUPT BIT SET,
                                       157  *                                BIT 18 IS SET
                                       158  *                                BIT 19-23 - CPU TYPE
             000000000012              159  ASR    EQU     10              DW CONTAING ASR
             000000000014              160  LSR    EQU     12              DW CONTAING LSR
             000000000016              161  PSR    EQU     14              DW CONTAING PSR
                                       162  *
                                       163  *      Page Table offsets
                                       164  *
             000000000000              165  PGTBLLO EQU    0
             000000000013              166  JITPG  EQU     11
             000000000015              167  HJITPG EQU     13
             000000000002              168  S_RUN  EQU     2
             000000000003              169  S_REL  EQU     3
                                       170  *
                                       171  *
                                       172  *      ENTER HERE FROM FAULTS AND INTERRUPTS IN THE USER
                                       173  *
 0 000000                              174         USE     SSS$SEXIT,1
          (0)000000000000              175  SSS$SEXIT EQU  *
                                       176         INHIB   ON
   000000  X 000000 4766 07            177         LDP6    SSRSID,DL
   000001  X 000000 4766 07            178         LDP6    CDTFSID,DL      TYPE 0 DESCR TO USER SS
   000002                              179  1A1    NULL                    ENTRY FROM SCHEDULER
   000002    6 00014 2353 00           180         LDA     LSR,,6
   000003    000160 3152 07            181         CANA    =O160,DL            IF LSR.WSR = 0 THEN
   000004 (0)000032 6002 00            182         TZE     1A0                 RETURN TO USER SERVICE
   000005  X 000000 2342 00            183         SZN     KQ_BASEDELAY    DELAYED COMGROUP STUFF?
   000006 (0)000036 6012 00            184         TNZ     1D0             YES -> DO IT
                                       185  *
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  6    BMAP - B00     
   000007                              186  SSS$CHKSS      NULL
                                       187  *
                                       188  *      ENTRY FROM UDB$AUTO TO CHECK IF THIS USER CAN RUN
                                       189  *      ON THIS CPU.  TYPE 0 DESC TO USER SS IN PR6.
                                       190  *
   000007  X 000000 2342 00            191         SZN     H_MIXED_MP      SCHEDULE BY CPU TYPE?
   000010 (0)000024 6002 00            192         TZE     1A4             NO -> THIS USER OK ON THIS CPU
   000011    6 00006 7233 00           193         LXL3    CPUTYP,,6       SPECIFIC CPU TYPE REQUIRED?
   000012 (0)000024 6052 00            194         TPL     1A4             NO -> THIS USER OK ON THIS CPU
   000013    6 00006 2353 00           195         LDA     CPUTYP,,6
   000014    000014 7712 00            196         ARL     12
   000015    000037 3752 07            197         ANA     =O37,DL         REQUIRED CPU TYPE
   000016  X 000000 1152 00            198         CMPA    S_THIS_PTYPE    ARE WE ON RIGHT CPU TYPE?
   000017 (0)000024 6002 00            199         TZE     1A4             YES -> THIS USER OK ON THIS CPU
   000020  X 000000 0542 05            200         AOS     H_MIXED_SSS,AL  INCREMENT SSS PARK USER COUNTER
   000021  X 000000 7012 00            201         TSX1    SSC$MON         SET MONITOR RUNNING
   000022    000000 0112 00            202         NOP
   000023 (0)000053 7102 00            203         TRA     SSS$PARK        WRONG CPU TYPE -> PARK USER
                                       204  *
   000024                              205  1A4    NULL
   000024  X 000000 7012 00            206         TSX1    SSQ$QEND        CHECK FOR QUANTUM END
   000025 (0)000053 7102 00            207         TRA     SSS$PARK        PARK USER
   000026  X 000000 7012 00            208         TSX1    SSC$SLAVE
   000027    000000 0112 00            209         NOP
   000030    000000 7134 00            210         EXIT
   000031    0 000 000 01 0000
   000032  X 000000 7012 00            211  1A0    TSX1    SSC$SERV
   000033    000000 0112 00            212         NOP
   000034    000000 7134 00            213         EXIT
   000035    0 000 000 01 0000
   000036                              214  1D0    NULL
   000036 (0)000741 6316 00            215         EPPR1   EMPTY
   000037  X 000000 7012 00            216         TSX1    KCC$BASE
   000040    000000 0112 00            217         NOP
                                       218  * ADD CODE TO RESTORE PR6 AFTER CALL TO KCC$BASE
   000041  X 000000 4766 07            219         LDP6    SSRSID,DL
   000042  X 000000 4766 07            220         LDP6    CDTFSID,DL
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  7    BMAP - B00     
   000043 (0)000007 7102 00            221         TRA     SSS$CHKSS
                                       222  *
                                       223  *      Entry point from event DU. Get into montstack, unlock,
                                       224  *      and call MMB$FPP to release JIT, HJIT, and page table.
   000044                              225  SSS$DU NULL
   000044    000002 2352 07            226         LDA     2,DL
   000045 (0)000054 7102 00            227         TRA     SSS$PARK+1
                                       228  *
                                       229  *      ENTRY POINT FROM REG CLIMB
                                       230  *      SWITCH TO MONITOR ENVIRONMENT AND CALL EXECUTION SCHEDULER
                                       231  *
          (0)000000000046              232  S_REGR EQU     *                   REG CLIMB ENTRY POINT
   000046    000001 2352 07            233         LDA     1,DL            SET REG FLAG FOR SCHED UNLOCK
   000047  X 000000 4716 07            234         LDP1    SSRSID,DL
   000050  X 000000 4716 07            235         LDP1    CDTFSID,DL      TYPE 0 DESCR TO USER SS
   000051    1 00006 5513 10           236         STBA    CPUTYP,10,1     ZERO BYTE 2 OF CPUTYP WORD IN SS
   000052 (0)000054 7102 00            237         TRA     SSS$PARK+1
                                       238  *
                                       239  *        ENTRY FROM QUANTUM END TEST
                                       240  *
   000053                              241  SSS$PARK NULL
   000053    000000 2352 07            242         LDA     0,DL            RESET UNLOCK FLAG
   000054  X 000000 4716 07            243         LDP1    SDS0SID,DL
   000055    1 00002 7537 00           244         STSS    2,,1
   000056  X 000000 7736 00            245  1A3    LDSS    S_MONSSR        USE MON SS STACK WHILE SCHEDULING
   000057 (0)001307 4726 00            246         LDP2    MONTSTKPTR
   000060  X 000000 4706 07            247         LDP0    LSSID,DL
   000061    0 00126 7707 00           248         LDAS    2*LS.ASR,,0     USE MONITOR ARG STACK
   000062    000001 1152 07            249         CMPA    1,DL
   000063 (0)000113 6042 00            250         TMI     SSS$SENT
   000064 (0)000110 6002 00            251         TZE     1A5
   000065 (0)000762 6306 00            252         EPPR0   SCHDGT
   000066  X 000000 7012 00            253         TSX1    HFC$UNLOCK
   000067    000000 0112 00            254         NOP
                                       255  *
                                       256  *      This is the continuation of SSS$DU.
                                       257  *
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  8    BMAP - B00     
   000070    000013 6202 00            258         EAX0    JITPG         JIT PP first
   000071 (0)000361 7012 00            259         TSX1    SSS$FPP
   000072    000000 0112 00            260         NOP
   000073    000014 6202 00            261         EAX0    JITPG+1       second TSTACK, if there
   000074 (0)000361 7012 00            262         TSX1    SSS$FPP
   000075    000000 0112 00            263         NOP
   000076    000015 6202 00            264         EAX0    HJITPG        next HJIT PP
   000077 (0)000361 7012 00            265         TSX1    SSS$FPP
   000100    000000 0112 00            266         NOP
   000101    000001 6202 00            267         EAX0    PGTBLLO+1     next second PT PP, if there
   000102 (0)000361 7012 00            268         TSX1    SSS$FPP
   000103    000000 0112 00            269         NOP
   000104    000000 6202 00            270         EAX0    PGTBLLO       finally, PT itself
   000105 (0)000361 7012 00            271         TSX1    SSS$FPP
   000106    000000 0112 00            272         NOP
   000107 (0)000113 7102 00            273         TRA     SSS$SENT
                                       274  *
   000110 (0)000762 6306 00            275  1A5    EPPR0   SCHDGT
   000111  X 000000 7012 00            276         TSX1    HFC$UNLOCK
   000112    000000 0112 00            277         NOP
          (0)000000000113              278  SSS$SENT EQU   *               INITIAL SCHEDULER ENTRY POINT
   000113    000000 0112 00            279         NOP                     TURN OFF HW MONITOR (PATCH PULS2)
          (0)000000000114              280  SSS$WARP EQU   *
                                       281  *****************************************************************
                                       282  *      ENTRY POINT FOR RELIEF FROM SSX$SCHED
                                       283  *      THIS ENTRY POINT IS REQUIRED TO GET THE NURSE RUN DOWN SO
                                       284  *      THAT WE CAN MAKE THE NURSE THE NEW MASTER.  WITHOUT THE CALL
                                       285  *      TO SSS$WARP IN SSX$XSCHD THE NURSE NEVER GETS RUN DOWN.  THE
                                       286  *      REG USER CODE ALSO FALLS THROUGH THIS CODE.
                                       287  *      RELIEF FOR THE SLAVE PROCESSOR:  IF THE FAILED ENVIRONMENT IS
                                       288  *      PARKED, CLIMB INTO THE RELIEF ENVIRONMENT.  IF THE RELIEF
                                       289  *      ENVIRONMENT IS PARKED, CLIMB INTO THE FAILED ENVIRONMENT.
                                       290  *      WHEN BOTH ENVIRONMENTS ARE PARKED, RELIEF IS COMPLETE.
                                       291  *      RELIEF FOR MASTER PROCESSOR:  IF FAILED ENVIRONMENT IS PARKED,
                                       292  *      CLIMB INTO RELIEF ENVIRONMENT.  IF RELIEF ENVIRONMENT IS PARKED
                                       293  *      CLIMB INTO RELIEF ENVIRONMENT.  WHEN BOTH ENVIRONMENT ARE
                                       294  *      PARKED, CLIMB INTO THE RELIEF ENVIRONMENT. MAKE THE RELIEF
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  9    BMAP - B00     
                                       295  *      PROCESSOR THE NEW MASTER.
                                       296  *      AFTER RELIEF HAS BEEN COMPLETED RUN THROUGH ALL THE USERS
                                       297  *      AND FOR ANY USER MODELED ON TO THE FAILED PROCESSOR, MODEL
                                       298  *      THEM ON TO THE RELIEF PROCESSOR.
                                       299  *******************************************************************
   000114  X 000000 2342 00            300         SZN     H_RELIEF        ARE WE WARPING/RELIEFING
   000115 (0)000332 6002 00            301         TZE     JUST_DOIT      NOPE KEEP GOING
   000116  X 000000 2342 00            302         SZN     H_FAIL_NUM      WAS THE FAULTING CPU THE MASTER
   000117 (0)000204 6012 00            303         TNZ     SLAVE_SHUTDOWN   NOPE IS WAS A SLAVE
                                       304  *      MASTER SHUTDOWN PROCESSING
                                       305  *      THINGS GET VERY STICKY WHEN THE MASTER SHUTS DOWN
   000120  X 000000 2362 00            306         LDQ     S_PNO            WHO'S RUNNING
   000121  X 000000 1162 00            307         CMPQ    H_NURSE          IS IT THE NURSE
   000122 (0)000171 6002 00            308         TZE     NURSE_FOR_MASTER
                                       309  *      RUNNING FAILED ENVIRONMENT
                                       310  *      IF THE NURSE USER IS PARKED, RELIEF IS COMPLETE.  WE NEED TO
                                       311  *      SWITCH FAILED MASTER WITH NURSE. (FAILED ENVIRONMENT CONTINUES
                                       312  *      TO RUN ON THE NURSE PROCESSOR).
   000123 (0)000126 7134 00            313         ENTER   =O6000,,SNM
   000124    0 000 000 60 6000
   000125 (0)000332 7102 00            314         TRA     JUST_DOIT
   000126  X 000000 7536 00            315  SNM    STSS    S_RLF_SSR
   000127    400000 2362 03            316         LDQ     =O400000,DU
   000130  X 000000 7562 00            317         STQ     H_FAIL_PARK
   000131  X 000000 2342 00            318         SZN     H_NURSE_PARK
   000132 (0)000156 6002 00            319         TZE     GET_NURSE
   000133                              320  SWITCH_MASTER NULL
   000133  X 000000 2362 00            321         LDQ     H_NURSE
   000134  X 000000 2352 00            322         LDA     S_PORTNR
   000135  X 000000 7262 06            323         LXL6    S_PORTNR,QL
   000136  X 000000 4462 00            324         SXL6    S_PORTNR
   000137  X 000000 7552 06            325         STA     S_PORTNR,QL
   000140  X 000000 2362 00            326         LDQ     H_NURSE
   000141    000003 2352 07            327         LDA     S_REL,DL
   000142  X 000000 7262 06            328         LXL6    S_MPSTATE,QL
   000143  X 000000 4462 00            329         SXL6    S_MPSTATE
   000144  X 000000 7552 06            330         STA     S_MPSTATE,QL
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  10   BMAP - B00     
   000145  X 000000 2342 00            331         SZN     H_S1000_FLG
   000146    000003 6002 04            332         TZE     3,IC
   000147    000000 6122 05            333         DIAG    0,05
   000150 (0)000246 7102 00            334         TRA     RELIEF_COMP
   000151  X 000000 2352 00            335         LDA     H_DPS8000_CI_TABLE
   000152  X 000000 7262 06            336         LXL6    H_DPS8000_CI_TABLE,QL
   000153  X 000000 4462 00            337         SXL6    H_DPS8000_CI_TABLE
   000154  X 000000 7552 06            338         STA     H_DPS8000_CI_TABLE,QL
   000155 (0)000246 7102 00            339         TRA     RELIEF_COMP
   000156                              340  GET_NURSE NULL
   000156  X 000000 2362 00            341         LDQ     H_FAIL_NUM
   000157  X 000000 4502 06            342         STZ     S_MPSTATE,QL
   000160    000002 2352 07            343         LDA     S_RUN,DL
   000161  X 000000 2362 00            344         LDQ     H_NURSE
   000162  X 000000 7552 06            345         STA     S_MPSTATE,QL
   000163 (0)000316 7012 00            346         TSX1    GET_PDBR
   000164    000000 0112 00            347         NOP     0
   000165  X 000000 1716 00            348         LPDBR   S_XX
   000166  X 000000 7736 00            349         LDSS    S_RLF_SSR
   000167    000000 7134 00            350         EXIT
   000170    0 000 000 01 0000
   000171                              351  NURSE_FOR_MASTER NULL
   000171 (0)000174 7134 00            352         ENTER   =O6000,,SFM
   000172    0 000 000 60 6000
   000173 (0)000332 7102 00            353         TRA     JUST_DOIT
   000174  X 000000 7536 00            354  SFM    STSS    S_RLF_SSR
   000175    400000 2362 03            355         LDQ     =O400000,DU
   000176  X 000000 7562 00            356         STQ     H_NURSE_PARK
   000177  X 000000 2362 00            357         LDQ     H_FAIL_NUM
   000200 (0)000316 7012 00            358         TSX1    GET_PDBR
   000201    000000 0112 00            359         NOP     0
   000202  X 000000 1716 00            360         LPDBR   S_XX
   000203 (0)000133 7102 00            361         TRA SWITCH_MASTER
                                       362  *      SLAVE SHUTDOWN PROCESSING
                                       363  *      WHEN THE SLAVE SHUTS DOWN THE FAILED CPU ENVIRONMENT IS
                                       364  *      MOVE TO THE NURSE TO COMPLETE THE PROCESSING.  ONCE THE
                                       365  *      ONCE THE FAILED PROCESS IS PARKED, THE NURSE ENVIRONMENT
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  11   BMAP - B00     
                                       366  *      IS RESTORED AND PROCESSING CONTINUES AS NORMAL.  IF WE
                                       367  *      ENTERED THE SCHEDULER ON THE FAILED ENVIRNMENT, RELOAD
                                       368  *      THE NURSE PDBR AND EXIT.  IF ENTERED ON THE NURSE ENVIRONMENT
                                       369  *      RELOAD THE FAILED PDBR AND EXIT ONLY IF THE FAIL PROCESS IS
                                       370  *      NOT PARKED.  OTHERWISE JUST EXIT.
   000204                              371  SLAVE_SHUTDOWN  NULL           SLAVE SHUT DOWN CODE
   000204  X 000000 2362 00            372         LDQ     S_PNO           WHAT ENVIRONMENT IS RUNNING
   000205  X 000000 1162 00            373         CMPQ    H_NURSE         IS IT THE NURSE
   000206 (0)000225 6002 00            374         TZE     SET_REL_ENV     SURE IS
                                       375  *      RUNNING FAILED ENVIRONMENT
                                       376  *      ALWAYS CLIMB TO NURSE ENVIRONMENT.  RELIEF IS COMPLETE
   000207 (0)000212 7134 00            377         ENTER   =O6000,,SNE     GET THE NURSE
   000210    0 000 000 60 6000
   000211 (0)000332 7102 00            378         TRA     JUST_DOIT
   000212  X 000000 7536 00            379  SNE    STSS    S_RLF_SSR       SAVE THE SAVE STORE FRAME
   000213    400000 2362 03            380         LDQ     =O400000,DU
   000214  X 000000 7562 00            381         STQ     H_FAIL_PARK
   000215  X 000000 2362 00            382         LDQ     H_NURSE
   000216 (0)000316 7012 00            383         TSX1    GET_PDBR
   000217    000000 0112 00            384         NOP     0
   000220    000002 2352 07            385         LDA     S_RUN,DL
   000221  X 000000 7552 06            386         STA     S_MPSTATE,QL
   000222    000000 0112 00            387         NOP     0
   000223  X 000000 1716 00            388         LPDBR   S_XX
   000224 (0)000246 7102 00            389         TRA     RELIEF_COMP
   000225                              390  SET_REL_ENV NULL
                                       391  *      RUNNING NURSE ENVIRONMENT
                                       392  *      NURSE USERS IS PARKED, IF FAILED USER IS PARKED, GO SCHEDULE
                                       393  *      A NEW USER.  IF FAILED USER IS NOT PARKED, CLIMB TO FAILED
                                       394  *      USER ENVIROMENT.
   000225 (0)000230 7134 00            395         ENTER   =O6000,,SFE     GET THE NURSE
   000226    0 000 000 60 6000
   000227 (0)000332 7102 00            396         TRA     JUST_DOIT
   000230  X 000000 7536 00            397  SFE    STSS    S_RLF_SSR       SAVE THE SAVE STORE FRAME
   000231    400000 2362 03            398         LDQ     =O400000,DU
   000232  X 000000 7562 00            399         STQ     H_NURSE_PARK
   000233  X 000000 2342 00            400         SZN     H_FAIL_PARK
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  12   BMAP - B00     
   000234 (0)000246 6012 00            401         TNZ     RELIEF_COMP
   000235  X 000000 2362 00            402         LDQ     H_FAIL_NUM      GET THE FAILED CPU
   000236 (0)000316 7012 00            403         TSX1    GET_PDBR         GET THE PDBR
   000237    000000 0112 00            404         NOP     0
   000240  X 000000 2362 00            405         LDQ     H_NURSE
   000241  X 000000 4502 06            406         STZ     S_MPSTATE,QL
   000242  X 000000 1716 00            407         LPDBR   S_XX
   000243  X 000000 7736 00            408         LDSS    S_RLF_SSR
   000244    000000 7134 00            409         EXIT
   000245    0 000 000 01 0000
                                       410  *      RELIEF IS COMPLETE - RESET VARIABLES TO THE PRE-RELIEF VALUES
                                       411  *      EXIT THROUGH S_RLF_SSR
   000246                              412  RELIEF_COMP NULL                   RELIEF IS ALL DONE
   000246  X 000000 4502 00            413         STZ     H_FAIL_PARK
   000247  X 000000 4502 00            414         STZ     H_NURSE_PARK
   000250    400000 2362 03            415         LDQ     =O400000,DU
   000251  X 000000 7562 00            416         STQ     H_RLF_GATE
   000252  X 000000 4502 00            417         STZ     H_RELIEF
   000253  X 000000 2342 00            418         SZN     H_FAIL_NUM
   000254    000007 6012 04            419         TNZ     7,IC
   000255    000001 3352 07            420         LCA     1,DL
   000256  X 000000 0552 00            421         ASA     NI$DS
   000257    000004 6012 04            422         TNZ     4,IC
   000260  X 000000 4716 07            423         LDP1    SCUSID,DL
   000261  X 000000 2372 00            424         LDAQ    H_ENMASK
   000262    1 00000 5533 00           425         SMCM    0,,1
   000263 (0)000272 7012 00            426         TSX1     SSS$RELCPU
   000264    000000 0112 00            427         NOP     0
   000265  X 000000 4502 00            428         STZ     H_NURSE
   000266  X 000000 4502 00            429         STZ     H_FAIL_NUM
   000267  X 000000 7736 00            430         LDSS    S_RLF_SSR
   000270    000000 7134 00            431         EXIT
   000271    0 000 000 01 0000
   000272                              432  SSS$RELCPU NULL
   000272  X 000000 2352 00            433         LDA     S_MING
   000273    000001 0352 07            434         ADLA    1,DL
   000274  X 000000 2362 00            435         LDQ     S_MING
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  13   BMAP - B00     
   000275    000001 0362 07            436         ADLQ    1,DL
   000276  X 000000 4706 00            437         LDP0    B$USRT$
   000277    000004 7352 00            438         ALS     4
   000300                              439  CHECK_USER NULL
   000300    0 00011 7223 05           440         LXL2    9,AL,0
   000301    770000 3622 03            441         ANX2    =O770000,DU
   000302    300000 1022 03            442         CMPX2   =O300000,DU
   000303 (0)000311 6002 00            443         TZE     NEXT_USER
   000304    0 00010 7223 05           444         LXL2    8,AL,0
   000305    000777 1022 07            445         CMPX2   =O000777,DL
   000306 (0)000311 6002 00            446         TZE     NEXT_USER
   000307    777000 3622 07            447         ANX2   =O777000,DL
   000310    0 00010 4423 05           448         SXL2   8,AL,0
   000311                              449  NEXT_USER NULL
   000311    000020 0352 07            450         ADLA     16,DL
   000312    000001 0362 07            451         ADLQ    1,DL
   000313  X 000000 1162 00            452         CMPQ    B_MUAIS
   000314 (0)000300 6046 00            453         TMOZ    CHECK_USER
   000315                              454  ALL_DONE NULL
   000315    000001 7102 11            455         TRA     1,1
   000316                              456  GET_PDBR NULL
   000316  X 000000 2352 06            457         LDA     IT_SCPUWSPTD,QL  GET THE PDBR
   000317  X 000000 2342 00            458         SZN     H_RPM_FLG       IS IS AN 8000
   000320    000003 6052 04            459         TPL     3,IC            NOPE
   000321    000022 7352 00            460         ALS     18
   000322    000004 7102 04            461         TRA     4,IC
   000323  X 000000 4776 00            462         LDP7    B$WSQ0PT$
   000324    7 00000 2353 05           463         LDA     0,AL,7
   000325    000002 7352 00            464         ALS     2
   000326  X 000000 7552 00            465         STA     S_XX
   000327    000002 2352 07            466         LDA     S_RUN,DL
   000330  X 000000 7552 06            467         STA     S_MPSTATE,QL
   000331    000001 7102 11            468         TRA     1,1
   000332                              469  JUST_DOIT NULL
   000332  X 000000 7012 00            470         TSX1    SSX$XSCHD       SCHEDULE NEXT USER
   000333    000000 0112 00            471         NOP                         CALL THE EXEC SCHED
   000334  X 000000 4726 07            472         LDP2    TSTACKSID,DL        GET NEW USERS AUTO POINTER
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  14   BMAP - B00     
   000335    2 00000 7223 00           473         LXL2    0,,2
   000336    2 00001 5276 12           474         SWDX    1,2,2
   000337  X 000000 4716 07            475         LDP1    SDS0SID,DL
   000340    1 00002 7737 00           476         LDSS    2,,1                LOAD SSR FROM SAVED DSCR
   000341  X 000000 4766 07            477         LDP6    SSRSID,DL       LOAD ASR AND PSR FROM THE NEW
   000342  X 000000 4766 07            478         LDP6    CDTFSID,DL          USERS SAFE STORE.
   000343    6 00012 7707 00           479         LDAS    ASR,,6
   000344    6 00016 7717 00           480         LDPS    PSR,,6
   000345  X 000000 2352 00            481         LDA     S_C10USR            CHECK FOR HW MONITOR FOR THIS
   000346 (0)000354 6002 00            482         TZE     1B1                 USER OR ONE OF HIS PROCESSORS
   000347  X 000000 1152 00            483         CMPA    S_CUN
   000350 (0)000002 6012 00            484         TNZ     1A1             NOT HIM.
   000351  X 000000 2352 00            485         LDA     S_C10PR             LOOKING FOR PROC ALSO?
   000352 (0)000357 6002 00            486         TZE     1B3                 NO.. TURN IT ON.
   000353 (0)000356 7102 00            487         TRA     1B2                 YES   SEE IF ITS ACTIVE.
   000354  X 000000 2352 00            488  1B1    LDA     S_C10PR             LOOKING FOR PROCESSOR?
   000355 (0)000002 6002 00            489         TZE     1A1             NO.
   000356  X 000000 7012 00            490  1B2    TSX1    SSC$HWMON
   000357    000000 0112 00            491  1B3    NOP                         START UP MONITOR (PATCH PULS1)
   000360 (0)000000 7102 00            492         TRA     SSS$SEXIT           GO TO USER
                                       493  *
                                       494  *      Free a page.  We may not have the page, or we may have to
                                       495  *      convert a physical page number (fresh from a page table) to
                                       496  *      a real page number for MMB$FPP.   This is DPS-90 specific.
                                       497  *
   000361                              498  SSS$FPP NULL
   000361  X 000000 4706 00            499         LDP0    B$UPT$
   000362    0 00000 2223 10           500         LDX2    0,0,0
   000363    777777 1022 03            501         CMPX2  -1,DU         Check if present
   000364    000001 6002 11            502         TZE     1,1
   000365  X 000000 2342 00            503         SZN     HW_WSQ0PT
   000366 (0)000377 6052 00            504         TPL     NOCNVRT
   000367  X 000000 4706 00            505         LDP0    B$IPHYMAP$
   000370    000000 6352 12            506         EAA     0,X2
   000371    000023 7732 00            507         LRL     19
   000372    0 00000 2353 05           508         LDA     0,AL,0
   000373    000000 0362 07            509         ADLQ    0,DL
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  15   BMAP - B00     
   000374 (0)000376 6042 00            510         TMI     *+2
   000375    000022 7712 00            511         ARL     18
   000376    000000 6222 05            512         EAX2    0,AL
   000377                              513  NOCNVRT NULL
   000377    2 00003 4423 00           514         SXL2    3,,2
   000400 (0)000763 6316 00            515         EPPR1   1UBIN
   000401 (0)001310 6306 00            516         EPPR0   PPPTR
   000402  X 000000 7102 00            517         TRA     MMB$FPP
                                       518  *
                                       519  *
                                       520  *         CLIMB TO SAVE ENVIRONMENT FOR SSR$REG
                                       521  *
   000403                              522  SSS$RG NULL
   000403  X 000000 7002 00            523         TSX0    X66_AUTO_0
   000404    000020 000000             524         ZERO    MAGIC.ND*2+4,0
   000405    2 00003 6307 00           525         EPPR0   3,,2
   000406    2 00004 6317 00           526         EPPR1   4,,2
   000407    0 00000 4517 00           527         STP1    0,,0
   000410  X 000000 7012 00            528         TSX1    UDN$MGSAVE
   000411    000000 0112 00            529         NOP     0
   000412    000000 7134 00            530         ENTER   REGENTSID,0,0,0    END UP @ S_REGR
   000413    0 000 000 60 X 0000
   000414    2 00003 6307 00           531         EPPR0   3,,2
   000415  X 000000 7012 00            532         TSX1    UDN$MGRES
   000416    000000 0112 00            533         NOP     0
   000417  X 000000 7102 00            534         TRA     X66_ARET
                                       535  *
                                       536  *          RETURN/ALTRETURN WITHOUT REG GIVEUP
                                       537  *
   000420  X 000000 7102 00            538  TRA_AALT TRA   X66_AALT
          (0)000000000421              539  SSS$ALTRET EQU *
   000421 (0)000417 2202 03            540         LDX0    TRA_AALT-1,DU       MAKE SSR$REG ALTRETURN
   000422 (0)000424 7102 00            541         TRA     SSS$RET+1
                                       542  *
          (0)000000000423              543  SSS$RET EQU    *
   000423 (0)000431 2202 03            544         LDX0    TRA_ARET-1,DU       SWITCH RETURN IN RUE FRAME
   000424    2 00000 7403 00           545         STX0    0,,2
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  16   BMAP - B00     
   000425 (0)000762 6306 00            546         EPPR0   SCHDGT
   000426  X 000000 7012 00            547         TSX1    HFC$UNLOCK
   000427    000000 0112 00            548         NOP
   000430  X 000000 7012 00            549         TSX1    SSC$SERV
   000431    000000 0112 00            550         NOP
          (0)000000000432              551  TRA_ARET EQU   *
   000432  X 000000 7102 00            552         TRA     X66_ARET
                                       553  *
                                       554  *      COMPUTE PREVIOUS SYSTEM TIME INTERVAL AND
                                       555  *      SET BEGIN TIME OF NEW INTERVAL
                                       556  *
          (0)000000000433              557  SSS$TIME  EQU  *
   000433  X 000000 4706 07            558         LDP0    SCUSID,DL
   000434  X 000000 7042 00            559         TSX4    HFC$BMAP_CLOCK
   000435  X 000000 1772 00            560         SBAQ    S_ITIME
   000436  X 000000 7562 00            561         STQ     S_INCTIME       STORE TIME SINCE PREV
   000437  X 000000 0772 00            562         ADAQ    S_ITIME
   000440  X 000000 7572 00            563         STAQ    S_ITIME         PUT AWAY NEW TIME
   000441    000001 7102 11            564         TRA     1,1
                                       565         INHIB   OFF
                                       566  *
                                       567  *      COMPUTE EXECUTION AND SERVICE TIME (BIT(72)) FOR M$XEQTIME
                                       568  *      PASSED TxEXT,EXTUS,XTIME
                                       569  *
          (0)000000000442              570  SSS$XEQTIME EQU  *
   000442  X 000000 7000 00            571         TSX0    X66_AUTO_3
   000443    000010 000003             572         ZERO    8,3
   000444    2 00003 4735 00           573         LDP3    3,,2
   000445    2 00004 4745 00           574         LDP4    4,,2
   000446    2 00005 4755 00           575         LDP5    5,,2
                                       576  *              EXTUS+XTIME->TEMP
   000447    4 00000 2351 00           577         LDA     0,,4
   000450    5 00000 0751 00           578         ADA     0,,5
   000451    2 00007 7551 00           579         STA     7,,2
   000452    2 00006 4501 00           580         STZ     6,,2
   000453    3 00000 2361 00           581         LDQ     0,,3            TxEXT*10000+TEMP=TOTAL EXEC
   000454    023420 4020 07            582         MPY     10000,DL
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  17   BMAP - B00     
   000455    2 00006 0771 00           583         ADAQ    6,,2
   000456    000000 4774 07            584         LDP7    0,DL                $PS0
   000457    7 00000 7571 00           585         STAQ    0,,7                EXECUTION TIME
                                       586  *              SVTUS+STIME->TEMP
   000460    4 00001 2351 00           587         LDA     1,,4
   000461    5 77777 0751 00           588         ADA     -1,,5
   000462    2 00007 7551 00           589         STA     7,,2
   000463    3 00001 2361 00           590         LDQ     1,,3            TxSVT*10000+TEMP=TOTAL SERVICE TIME
   000464    023420 4020 07            591         MPY     10000,DL
   000465    2 00006 0771 00           592         ADAQ    6,,2
   000466    7 00002 7571 00           593         STAQ    2,,7                SERVICE TIME
   000467  X 000000 7100 00            594         TRA     X66_ARET
                                       595  *      Return system time stamp
                                       596  *
                                       597  *      T he time stamp is either centiseconds or 1/25 of a second
                                       598  *      since birth depending on the current date and time.
                                       599  *
                                       600  *      If the current date/time is pre 1/1/93, the time stamp is
                                       601  *      in centiseconds.   If the current date/time is post 1/1/93
                                       602  *      the time stamp is in 1/25 of a second.
                                       603
                                       604  *      A check of the time (registers aq) is made prior to computing
                                       605  *      the time.
                                       606  *      If the time (register aq) is greater then the cookie date
                                       607  *      microseconds, the time is converted into 1/25 of a second.
                                       608  *      Otherwise, the time is converted into centiseconds.
                                       609  *
                                       610  *      Note the reason for shifting the result by 2 after the DVF
                                       611  *      instruction is a function of the DVF instruction.
                                       612  *
                                       613         INHIB   ON
                                       614  *
          (0)000000000470              615  SSS$CURTIME EQU   *
          (0)000000000470              616  SSS$SYSTIME EQU *
   000470    0 00000 4717 00           617         LDP1    0,,0            1 ARGUMENT
   000471  X 000000 4706 07            618         LDP0    SCUSID,DL
   000472  X 000000 7042 00            619         TSX4    HFC$BMAP_CLOCK
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  18   BMAP - B00     
   000473 (0)000744 1172 00            620  SYST1  CMPAQ   SS_MS_COOKIE    PASSED COOKIE DATE (IN MICROSECONDS)
   000474 (0)000506 6022 00            621         TNC     PRE_COOKIE      NO - RETURN CENTISECONDS
   000475 (0)000744 1772 00            622         SBAQ    SS_MS_COOKIE    DECREMENT TIME BY COOKIE DATE (MS)
   000476    116100 5072 07            623         DVF     40000,DL        YES- RETURN 1/25 SECONDS
   000477    000001 7352 00            624         ALS     1               MULTIPLY TO GET CORRECT UNITS
   000500    047040 1162 07            625         CMPQ    20000,DL        NEED TO SET LAST BIT
   000501 (0)000503 6042 00            626         TMI     *+2             NOPE
   000502    000001 0352 07            627         ADLA    1,DL            YES
   000503 (0)000750 0352 00            628         ADLA    SS_UTS_COOKIE   ADD IN THE COOKIE UTS
   000504    1 00000 7553 00           629         STA     0,,1            RETURN 1/25 SECONDS UTS
   000505    000001 7102 11            630         TRA     1,1
   000506                              631  PRE_COOKIE NULL
   000506    023420 5072 07            632         DVF     10000,DL        CONVERT TO CENTISECONDS
   000507    000001 7352 00            633         ALS     1               MULTIPLY TO GET CORRECT UNITS
   000510    011610 1162 07            634         CMPQ    5000,DL         SET LAST BIT CORRECTLY
   000511 (0)000513 6042 00            635         TMI     *+2
   000512    000001 0352 07            636         ADLA    1,DL            YES NEED TO INCREMENT
   000513    1 00000 7553 00           637         STA     0,,1            RETURN UTS
   000514    000001 7102 11            638         TRA     1,1
                                       639  *      Return system time stamp and remainder
                                       640  *
                                       641  *      The Time stamp is either centiseconds or 1/25 of a second
                                       642  *      since birth depending on the current date and time.
                                       643  *
                                       644  *      If the current date/time is pre 1/1/93, the time stamp is
                                       645  *      in centiseconds. If the current date/time is post 1/1/93
                                       646  *      the time stamp is in 1/25 of a second.
                                       647
                                       648  *      A check of the time (registers aq) is made prior to computing
                                       649  *      the time.
                                       650  *      If the time (register aq) is greater then the cookie date
                                       651  *      microseconds, the time is converted into 1/25 of a second.
                                       652  *      Otherwise, the time is converted into centiseconds.
                                       653  *
                                       654  *      Note the reason for shifting the result by 2 after the DVF
                                       655  *      instruction is a function of the DVF instruction.
                                       656  *
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  19   BMAP - B00     
                                       657  *      Returns second arg as remainder.  The resolution of the
                                       658  *      remainder is dependent on the current date and time.  If
                                       659  *      If the current date and time is pre 1/1/93, the remainder is
                                       660  *      0 - 9999 microseconds.  If the current date and time is post
                                       661  *      1/1/93, the remainder is 0 - 39999 micro seconds.
                                       662  *
   000515                              663  SSS$XSYSTIME NULL
   000515    0 00000 4717 00           664         LDP1    0,,0            1st arg.
   000516    0 00001 4737 00           665         LDP3    1,,0            2nd arg.
   000517  X 000000 4706 07            666         LDP0    SCUSID,DL       Read SCU
   000520  X 000000 7042 00            667         TSX4    HFC$BMAP_CLOCK  timer register.
   000521 (0)000744 1172 00            668         CMPAQ   SS_MS_COOKIE    IS IT PRE 1/1/93
   000522 (0)000536 6022 00            669         TNC     XPRE_COOKIE    NO RETURN CENTISECONDS
   000523 (0)000744 1772 00            670         SBAQ    SS_MS_COOKIE    SUBTRACT THE COOKIE OFFSET (MS)
   000524    116100 5072 07            671         DVF     40000,DL        Divide by 40000.
   000525    000001 7372 00            672         LLS     1               Adjust
   000526    116100 1162 07            673         CMPQ    40000,DL        for DVF ignoring
   000527 (0)000532 6042 00            674         TMI     *+3             low bit of dividend,
   000530    000001 0352 07            675         ADLA    1,DL            and return
   000531    116100 1362 07            676         SBLQ    40000,DL        the correct
   000532 (0)000750 0352 00            677         ADLA    SS_UTS_COOKIE   ADD IN THE UTS COOKIE OFFSET
   000533    1 00000 7553 00           678         STA     0,,1            quotient
   000534    3 00000 7563 00           679         STQ     0,,3            and remainder.
   000535    000001 7102 11            680         TRA     1,1
   000536                              681  XPRE_COOKIE NULL
   000536    023420 5072 07            682         DVF     10000,DL        Divide by 10000 TO CONVERT CENTISECOND
   000537    000001 7372 00            683         LLS     1               Adjust FOR DVF INSTRUCTION
   000540    023420 1162 07            684         CMPQ    10000,DL        for DVF ignoring
   000541 (0)000544 6042 00            685         TMI     *+3             low bit of dividend,
   000542    000001 0352 07            686         ADLA    1,DL            and return
   000543    023420 1362 07            687         SBLQ    10000,DL        the correct
   000544    1 00000 7553 00           688         STA     0,,1            quotient
   000545    3 00000 7563 00           689         STQ     0,,3            and remainder.
   000546    000001 7102 11            690         TRA     1,1
                                       691  *       Convert host uts to a 36 bit FEP UTS
                                       692  *
                                       693  *
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  20   BMAP - B00     
          (0)000000000547              694  SSS$FEPERA EQU *
   000547    0 00000 4717 00           695          LDP1   0,,0        Load pointer to first argument
   000550    0 00001 4737 00           696          LDP3   1,,0        Load pointer to second argument
   000551    1 00000 2353 00           697          LDA    0,,1        Load the argument
   000552 (0)000750 1152 00            698          CMPA   SS_UTS_COOKIE are we passed the magic date
   000553 (0)000565 6022 00            699          TNC    PRE_COOKIE_FEP
   000554 (0)000750 1352 00            700          SBLA   SS_UTS_COOKIE  SUBTRACT MAGIC DATE
   000555 (0)000751 0352 00            701          ADLA   SS_UTS_COOKIE_25 add in  magic uts in 1/25
   000556                              702  DOCONV NULL
   000556    000003 4012 07            703          MPF    3,DL
   000557    000012 5072 07            704          DVF    10,DL
   000560    000005 1162 07            705          CMPQ   5,DL
   000561 (0)000563 6042 00            706          TMI    *+2
   000562    000001 0352 07            707          ADLA   1,DL
   000563    3 00000 7553 00           708          STA    0,,3
   000564    000001 7102 11            709          TRA    1,1
   000565                              710  PRE_COOKIE_FEP NULL
   000565    000002 7712 00            711          ARL    2                  shift for conversion
   000566 (0)000556 7102 00            712          TRA    DOCONV
                                       713  *
                                       714  *      Convert HOST UTS to L6
                                       715  *
          (0)000000000567              716  SSS$UTS_L6 EQU   *
   000567    0 00000 4717 00           717         LDP1    0,,0
   000570    0 00001 4737 00           718         LDP3    1,,0
   000571    1 00000 2353 00           719         LDA     0,,1
   000572 (0)000750 1152 00            720         CMPA    SS_UTS_COOKIE
   000573 (0)000632 6022 00            721         TNC     PRE_COOK_VALUE
   000574 (0)000750 1352 00            722         SBLA    SS_UTS_COOKIE
   000575 (0)000751 0352 00            723         ADLA    SS_UTS_COOKIE_25
   000576                              724  START_CONV NULL
   000576    000003 4012 07            725         MPF     3,DL
   000577    000012 5072 07            726         DVF     10,DL           CONVERT UNITS. 25 PER SEC * 3/10 = 7.5 PER SEC
   000600    000005 1162 07            727         CMPQ    5,DL            ROUND UP?
   000601 (0)000603 6042 00            728         TMI     *+2              NO
   000602    000001 0352 07            729         ADLA    1,DL             YES
   000603    3 00000 7553 00           730         STA     0,,3            THIS IS RAW 36 BIT FEP UTS VALUE IN 7.5 PER SEC
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  21   BMAP - B00     
   000604  X 000000 7242 00            731         LXL4    S_BOOTERA       NOW ADJUST FOR ERAS
   000605 (0)000614 6002 00            732         TZE     TEST_UPPER      FIRST ERA IS SIMPLE, JUST CHECK FOR TOO BIG
   000606 (0)000752 1352 14            733         SBLA    SS_FEPTAB,X4    SUBTRACT ERA_START
   000607 (0)000620 6022 00            734         TNC     CHECK_LOWER     DATE IN PREVIOUS ERA
   000610 (0)000756 1152 00            735         CMPA    SS_HALF_ERA
   000611 (0)000616 6022 00            736         TNC     STORE_IT        DATE IN FIRST HALF OF ERA IS ALWAYS VALID
   000612  X 000000 2342 00            737         SZN     S_BOOTQUARTER   SECOND HALF OF RANGE IS VALID ONLY WHEN Q>0
   000613 (0)000625 6002 00            738         TZE     ERR1
   000614                              739  TEST_UPPER NULL
   000614 (0)000757 1152 00            740         CMPA    SS_MAXFUTS_PLUS1 OK, NORMAL CASE, JUST CHECK THE BOUNDS
   000615 (0)000625 6032 00            741         TRC     ERR1            ABOVE UPPER BOUND
   000616                              742  STORE_IT NULL
   000616    3 00000 7553 00           743         STA     0,,3            EVERYTHINGS FINE, STORE RESULT
   000617    000001 7102 11            744         TRA     1,1             NORMAL RETURN
   000620                              745  CHECK_LOWER NULL
   000620 (0)000760 1152 00            746         CMPA    SS_ERA_MINUS_1Q IS IT IN LAST QUARTER OF PREV ERA
   000621 (0)000630 6022 00            747         TNC     ERR0             NO
   000622 (0)000753 0352 00            748         ADLA    SS_ERA_SIZE     CHANGE BASE INTO PREVIOUS ERA
   000623  X 000000 2342 00            749         SZN     S_BOOTQUARTER
   000624 (0)000616 6002 00            750         TZE     STORE_IT        THIS IS ONLY ALLOWED IN BOOT_Q=0
   000625                              751  ERR1   NULL
   000625    777777 2352 07            752         LDA     -1,DL           DATE AFTER CURRENT ERA
   000626    3 00000 7553 00           753         STA     0,,3
   000627    000000 7102 11            754         TRA     0,1             * ALTRETURN
   000630                              755  ERR0   NULL
   000630    3 00000 4503 00           756         STZ     0,,3            DATE BEFORE CURRENT ERA
   000631    000000 7102 11            757         TRA     0,1             * ALTRETURN
   000632                              758  PRE_COOK_VALUE NULL
   000632    000002 7712 00            759         ARL    2               SHIFT TIME TO 1/25 OF SECOND
   000633 (0)000576 7102 00            760         TRA     START_CONV
                                       761  *
                                       762  *      Convert L6 UTS to HOST UTS
                                       763  *
                                       764  *       This routine converts a fep uts into host uts.  The fep uts
                                       765  *       is a 32-bit value that falls in one of 3 quarters.
          (0)000000000634              766  SSS$L6_UTS EQU   *
   000634    0 00000 4717 00           767         LDP1    0,,0
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  22   BMAP - B00     
   000635    0 00001 4737 00           768         LDP3    1,,0
   000636    1 00000 2353 00           769         LDA     0,,1
   000637 (0)000736 3752 00            770         ANA     MAXFUTS
   000640    3 00000 7553 00           771         STA     0,,3
   000641  X 000000 7242 00            772         LXL4    S_BOOTERA       ADJUST FOR ERA STARTS
   000642 (0)000653 6002 00            773         TZE     DO_CONV         FIRST ERA IS FINE
   000643 (0)000756 1152 00            774         CMPA    SS_HALF_ERA
   000644 (0)000650 6022 00            775         TNC     ADD_ERASTART    DATES IN FIRST HALF ARE SIMPLE
   000645  X 000000 2342 00            776         SZN     S_BOOTQUARTER
   000646 (0)000650 6012 00            777         TNZ     ADD_ERASTART
   000647    000001 1242 03            778         SBLX4   1,DU            BOOT_Q=0, DATE IN LAST HALF, USE PREV ERA
   000650                              779  ADD_ERASTART NULL
   000650 (0)000752 0352 14            780         ADLA    SS_FEPTAB,X4    ADD ERA START, NOW GOT 36 BIT FEP UTS VALUE
   000651 (0)000761 1152 00            781         CMPA    SS_MAXFUTS_UTS_PLUS1
   000652    000000 6032 11            782         TRC     0,1             ALTRETURN - TOO BIG TO BE CONVERTED TO UTS
   000653                              783  DO_CONV NULL
   000653    000012 4012 07            784         MPF     10,DL           CONVERT UNITS to 25 PER SEC
   000654    000003 5072 07            785         DVF     3,DL
   000655    000002 1162 07            786         CMPQ    2,DL            ROUND
   000656 (0)000660 6042 00            787         TMI     *+2              NO
   000657    000001 0352 07            788         ADLA    1,DL             YES
   000660 (0)000751 1152 00            789         CMPA    SS_UTS_COOKIE_25
   000661 (0)000666 6022 00            790         TNC     PRE_COOK_CONV
   000662 (0)000751 1352 00            791         SBLA    SS_UTS_COOKIE_25
   000663 (0)000750 0352 00            792         ADLA    SS_UTS_COOKIE
   000664    3 00000 7553 00           793         STA     0,,3
   000665    000001 7102 11            794         TRA     1,1
   000666                              795  PRE_COOK_CONV NULL
   000666    000002 7352 00            796         ALS     2
   000667    3 00000 7553 00           797         STA     0,,3
   000670    000001 7102 11            798         TRA     1,1
                                       799  *
                                       800  *              RETURNS LOW ORDER 36 BITS OF CURRENT CLOCK
                                       801  *
   000671                              802  SSS$EOMTIME NULL
   000671    0 00000 4717 00           803         LDP1    0,,0            1 ARGUMENT
   000672  X 000000 4706 07            804         LDP0    SCUSID,DL
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  23   BMAP - B00     
   000673  X 000000 7042 00            805         TSX4    HFC$BMAP_CLOCK
   000674    1 00000 7563 00           806         STQ     0,,1
   000675    000001 7102 11            807         TRA     1,1
                                       808  *
                                       809  *      Returns current time plus input increment as
                                       810  *      a uts.
                                       811  *      The increment must be in centiseconds. The increment is
                                       812  *      converted to microseconds and add to the current date and
                                       813  *      time. The value returned is dependent on the result of the
                                       814  *      of this addition.  If the result is pre 1/1/93, return as
                                       815  *      centiseconds.  If the result is post 1/1/93, return as 1/25
                                       816  *      second.  The increment is added to the time before any uts
                                       817  *      calculations are made in order to correctly handle time
                                       818  *      increment spanning the cookie date.
                                       819  *
          (0)000000000676              820  SSS$WUTIME EQU *
   000676  X 000000 7002 00            821         TSX0     X66_AUTO_1      GET SOME AUTO FOR TEMPORARY STORAGE
   000677    000006 000001             822         ZERO     6,1
   000700  X 000000 4706 07            823         LDP0    SCUSID,DL
   000701  X 000000 7042 00            824         TSX4    HFC$BMAP_CLOCK
   000702    2 00004 7573 00           825         STAQ    4,,2              SAVE THE TIME IN AUTO
   000703    2 00003 4717 00           826         LDP1    3,,2              GET THE POINTER TO THE ARGUMENT
   000704    1 00000 2363 00           827         LDQ     0,,1              GET THE ARGUMENT
   000705    023420 4022 07            828         MPY     10000,DL          TURN ARGUMENT INTO MICROSECONDS
   000706    2 00004 0373 00           829         ADLAQ   4,,2              ADD IN THE CLOCK
   000707 (0)000744 1172 00            830         CMPAQ   SS_MS_COOKIE      IS IT POST COOKIE DATE
   000710 (0)000724 6022 00            831         TNC     WUPRE_COOKIE      NOPE, RETURN CENTISECONDS
   000711 (0)000742 1172 00            832         CMPAQ   XUTS              IS IT PAST THE MAX MS VALUE
   000712 (0)000733 6032 00            833         TRC     WUXUTS            YES IT IS, RETURN -1
   000713 (0)000744 1372 00            834         SBLAQ   SS_MS_COOKIE      SUB SS_MS_COOKIE
   000714    116100 5072 07            835         DVF     40000,DL          CONVERT TO 1/25 SECONDS
   000715    000001 7352 00            836         ALS     1                 CONVERT TO CORRECT UNITS
   000716    047040 1162 07            837         CMPQ    20000,DL          GET THE LAST BIT CORRECT
   000717 (0)000721 6042 00            838         TMI     *+2               IT IS OK
   000720    000001 0352 07            839         ADLA    1,DL              SET LAST BIT
   000721 (0)000750 0352 00            840         ADLA    SS_UTS_COOKIE     ADD IN THE COOKIE DATE
   000722    1 00000 7553 00           841         STA     0,,1
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  24   BMAP - B00     
   000723  X 000000 7102 00            842         TRA     X66_ARET
   000724                              843  WUPRE_COOKIE NULL
   000724    023420 5072 07            844         DVF     10000,DL          CONVERT TO CENTISECONDS
   000725    000001 7352 00            845         ALS     1                 CONVERT TO CORRECT UNITS
   000726    011610 1162 07            846         CMPQ    5000,DL           GET THE LAST BIT CORRECT
   000727 (0)000731 6042 00            847         TMI     *+2               IT IS OK
   000730    000001 0352 07            848         ADLA    1,DL              SET THE BIT
   000731    1 00000 7553 00           849         STA     0,,1
   000732  X 000000 7102 00            850         TRA     X66_ARET
   000733                              851  WUXUTS NULL
   000733    000001 3352 07            852         LCA     1,DL              RETURN -1
   000734  X 000000 7102 00            853         TRA     X66_ARET
                                       854  *
                                       855         INHIB   OFF
                                       856  *
   000735    000244627000              857  MSDAY  VFD     36/24*60*60*1000/2
   000736    037777777777              858  MAXFUTS OCT    037777777777
   000737    000000 0110 00            859          EVEN
   000740
   000740    000001000000              860  WSR0   OCT     000001000000
   000741    000000000000              861  EMPTY  OCT     0
                                       862         EVEN
   000742    000000045606              863  XUTS   OCT        45606,777232101700    TIME WHEN UTS = -1
   000743    777232101700
                                       864         EVEN
   000744    000000015350              865  SS_MS_COOKIE OCT  15350,525441720000  COOKIE DATE IN MICROSECONDS
   000745    525441720000
                                       866         EVEN
   000746    000000000000              867  SEC_30 OCT        0,162341600
   000747    000162341600
   000750    540546215000              868  SS_UTS_COOKIE OCT 540546215000
   000751    130131443200              869  SS_UTS_COOKIE_25 OCT 130131443200
   000752    000000000000              870  SS_FEPTAB   OCT 0
   000753    030000000000              871  SS_ERA_SIZE OCT 030000000000         " ALSO FEPTAB ELEMENT 1
   000754    060000000000              872              OCT 060000000000
   000755    110000000000              873              OCT 110000000000
   000756                              874  "
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  25   BMAP - B00     
   000756    020000000000              875  SS_HALF_ERA          OCT 020000000000
   000757    040000000000              876  SS_MAXFUTS_PLUS1     OCT 040000000000
   000760    770000000001              877  SS_ERA_MINUS_1Q      OCT 770000000001
   000761    112174140215              878  SS_MAXFUTS_UTS_PLUS1 OCT 112174140215
   000762  X 000000 X 000000           879  SCHDGT ZERO    S_SCHDGATE,ISSID
   000763    000001 000000             880  1UBIN  ZERO    1,0
                                       881  *
                                       882  *      Set elapsed time clock
                                       883  *      Saves the difference from previous time in S_UPTIME
                                       884  *
                                       885  *       The argument passed to this routine is a UTS.  If the the
                                       886  *       argument is pre 1/1/93, it is converted as if it is a
                                       887  *       centisecond value.  If it is post 1/1/93, it is converted
                                       888  *       as 1/25 second.  The conversion to centisecond is straight
                                       889  *       forward, shift right 1 and multiply by 20000.  The 1/25 sec
                                       890  *       is a bit more complex.  The cookie date is subtracted from the
                                       891  *       argument.  The number of microc seconds since the cookie date
                                       892  *       is calculated by shifting right 1 place and multiplying by 80000
                                       893  *       The cookie microseconds is add to this value.
                                       894  *
                                       895  *
   000764                              896  SSS$SETBTIME NULL
   000764  X 000000 7000 00            897         TSX0    X66_AUTO_1
   000765    000006 000001             898         ZERO    6,1
   000766  X 000000 2340 00            899         SZN     HW_TIME_LEGAL
   000767  X 000000 6050 00            900         TPL     X66_ARET
   000770  X 000000 4704 07            901         LDP0    SCUSID,DL
   000771  X 000000 7040 00            902         TSX4    HFC$BMAP_CLOCK
   000772    177777 3750 07            903         ANA     =O177777,DL
   000773    2 00004 7571 00           904         STAQ    4,,2            CURRENT TIME
   000774    2 00003 4715 00           905         LDP1    3,,2
   000775    1 00000 2361 00           906         LDQ     0,,1            NEW TIME (UTS)
   000776 (0)000750 1160 00            907         CMPQ    SS_UTS_COOKIE   POST COOKIE DATE
   000777 (0)001010 6020 00            908         TNC     SET_PRE_COOKIE   NOPE IT ISNT
   001000 (0)000750 1760 00            909         SBQ     SS_UTS_COOKIE   REMOVE COOKIE UTS
   001001    000001 7720 00            910         QRL     1
   001002    234200 4020 07            911         MPY     80000,DL        USECS
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  26   BMAP - B00     
   001003 (0)000744 0370 00            912         ADLAQ   SS_MS_COOKIE    ADD IN THE MS OF THE COOKIE
   001004    0 00040 0571 00           913         SSCR    32,,0           SET YOUR CLOCK
   001005    2 00004 1771 00           914         SBAQ    4,,2
   001006  X 000000 7570 00            915         STAQ    S_UPTIME        SAVE THE TIME DIFFERENCE
   001007  X 000000 7100 00            916         TRA     X66_ARET
   001010                              917  SET_PRE_COOKIE NULL
   001010    000001 7720 00            918         QRL     1
   001011    047040 4020 07            919         MPY     20000,DL
   001012    0 00040 0571 00           920         SSCR    32,,0           SET YOUR CLOCK
   001013    2 00004 1771 00           921         SBAQ    4,,2
   001014  X 000000 7570 00            922         STAQ    S_UPTIME        SAVE THE TIME DIFFERENCE
   001015  X 000000 7100 00            923         TRA     X66_ARET
                                       924  *
                                       925  *      UPDATE BEGINNIG OF CURRENT INTERVAL
                                       926  *      This routine adds 30 seconds to the current time and
                                       927  *      converts it to a uts value.  The 30 seconds is added
                                       928  *      to the current time before converting to a uts in order
                                       929  *      to correctly convert the time pre and post 1/1/93.
                                       930  *
          (0)000000001016              931  SSS$UPDITIME EQU *
   001016  X 000000 2370 00            932         LDAQ    S_ITIME
   001017  X 000000 0370 00            933         ADLAQ   S_UPTIME
                                       934  *     This instruction used to be STA S_ITIME.  i believe it
                                       935  *     should be STAQ S_ITIME.
                                       936  *
   001020  X 000000 7570 00            937         STAQ    S_ITIME
   001021  X 000000 4704 07            938         LDP0    SCUSID,DL       SET NEXT PM ACCOUNTING TIME
   001022  X 000000 7040 00            939         TSX4    HFC$BMAP_CLOCK  TO CURRENT TIME PLUS
   001023 (0)000746 0370 00            940         ADLAQ   SEC_30          ADD IN 30 SECONDS
   001024 (0)000744 1170 00            941         CMPAQ   SS_MS_COOKIE  IS IT POST 1/1/93
   001025 (0)001034 6020 00            942         TNC    UPI_PRE_COOKIE  NOT IT ISN'T
   001026 (0)000744 1770 00            943         SBAQ    SS_MS_COOKIE     SUBTRACT OUT THE COOKIE DATE
   001027    116100 5070 07            944         DVF     40000,DL        CONVERT TO 1/25  SECONDS
   001030    000001 7350 00            945         ALS     1
   001031 (0)000750 0350 00            946         ADLA    SS_UTS_COOKIE   ADD IN THE COOKIE DAT 
   001032  X 000000 7550 00            947         STA     S_ACCTIME
   001033    000001 7100 11            948         TRA     1,1
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  27   BMAP - B00     
   001034                              949  UPI_PRE_COOKIE NULL
   001034    023420 5070 07            950          DVF    10000,DL        CONVERT TO CENTISECONDS
   001035    000001 7350 00            951         ALS     1
   001036  X 000000 7550 00            952         STA     S_ACCTIME
   001037    000001 7100 11            953         TRA     1,1
                                       954  *
                                       955  *      UPDATE GIVEN UTS
                                       956  *
                                       957  *      This routine updates a UTS.  It is used when the date and
                                       958  *      time has been changed on the running system.  Given a UTS
                                       959  *      it adjust the uts by S_UPTIME. It is necessary when changing
                                       960  *      the system time to adjust all the wake up timers.
                                       961  *      The AGRUMENT is a uts and nust be convert as centi-seconds or
                                       962  *      1/25 seconds depending on it value.  The argument is compared
                                       963  *      with the cookie date.  If the argument is greater than then
                                       964  *      cookie date, convert the argument as 1/25 seconds.  Otherwise
                                       965  *      convert the agrument as centi-seconds.
                                       966  *      After the value is converted, make sure it is within the valid
                                       967  *      microsecond range.  If not, return the max UTS value.
          (0)000000001040              968  SSS$UPDUTS EQU *
   001040    0 00000 4715 00           969         LDP1    0,,0            1 ARGUMENT
   001041    1 00000 2361 00           970         LDQ     0,,1            UTS
   001042 (0)000750 1160 00            971         CMPQ    SS_UTS_COOKIE   IS IT POST 1/1/93
   001043 (0)001055 6020 00            972         TNC     UPD_PRE_COOKIE  NO IT ISNT
   001044 (0)000750 1760 00            973         SBQ     SS_UTS_COOKIE
   001045    000001 7720 00            974         QRL     1
   001046    234200 4020 07            975         MPY     80000,DL        USECS FROM 1/25 SECONDS
   001047 (0)000744 0370 00            976         ADLAQ   SS_MS_COOKIE    ADD IN COOKIE MS
   001050  X 000000 0370 00            977         ADLAQ   S_UPTIME
   001051 (0)000742 1170 00            978         CMPAQ   XUTS            MAKE SURE ITS NOT TO LARGE
   001052 (0)000473 6044 00            979         TMOZ    SYST1           FOR LAST UTS.
   001053 (0)000742 2370 00            980         LDAQ    XUTS
   001054 (0)000473 7100 00            981         TRA     SYST1           CONVERT BACK TO UTS
   001055                              982  UPD_PRE_COOKIE NULL
   001055    000001 7720 00            983         QRL     1
   001056    047040 4020 07            984         MPY     20000,DL        USECS FROM CENTISECON
   001057  X 000000 0370 00            985         ADLAQ   S_UPTIME
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  28   BMAP - B00     
   001060 (0)000742 1170 00            986         CMPAQ   XUTS            MAKE SURE ITS NOT TO LARGE
   001061 (0)000473 6044 00            987         TMOZ    SYST1           FOR LAST UTS.
   001062 (0)000742 2370 00            988         LDAQ    XUTS
   001063 (0)000473 7100 00            989         TRA     SYST1           CONVERT BACK TO UTS
                                       990  *
                                       991  *
                                       992  *              DO LTRAD TO DELTA
                                       993  *
                                       994  *
          (0)000000001064              995  SSS$LTRD EQU   *
   001064  X 000000 7000 00            996         TSX0    X66_AUTO_1
   001065    000006 000001             997         ZERO    6,1
   001066  X 000000 7010 00            998  LTRD   TSX1    UDN$BLDASR
   001067    000000 0110 00            999         NOP     0
   001070    2 00003 4715 00          1000         LDP1    3,,2
   001071    1 00000 6775 00          1001         LDD7    0,,1
   001072    777773 2210 03           1002         LDX1    -5,DU
   001073  X 000000 4724 07           1003         LDP2    TSTACKSID,DL
   001074    2 00000 4411 00          1004         SXL1    0,,2
   001075  X 000000 4724 07           1005         LDP2    MTSTACKSID,DL
   001076    2 00000 4411 00          1006         SXL1    0,,2
   001077  X 000000 4764 07           1007         LDP6    SSRSID,DL
   001100  X 000000 4764 07           1008         LDP6    CDTFSID,DL
   001101    6 00001 4411 00          1009         SXL1    AUTOLOC,,6
   001102    000000 7134 00           1010         GOTO    1023,,,S        CLIMB THRU DR7, SLAVE MODE.
   001103    0 000 000 03 1777
                                      1011  *
                                      1012  *        BUILD SS DSCR FOR DELTA AND GO TO IT
                                      1013  *
          (0)000000001104             1014  SSS$DELTRD EQU *
   001104  X 000000 7000 00           1015         TSX0    X66_AUTO_3
   001105    000006 000003            1016         ZERO    6,3
   001106    2 00004 4745 00          1017         LDP4    4,,2
   001107    4 00000 4755 00          1018         LDP5    0,,4                GET SS DSCR
   001110    2 00005 4735 00          1019         LDP3    5,,2
   001111    3 00000 0555 00          1020         STD5    0,,3                PUT IT IN DELTA'S LSEG
   001112    000001 2350 07           1021         LDA     1,DL
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  29   BMAP - B00     
   001113    3 00000 2551 00          1022         ORSA    0,,3                CONVERT IT TO TYPE 1
   001114 (0)001066 7100 00           1023         TRA     LTRD
                                      1024  *
                                      1025  *
                                      1026  *              LOAD TIMER REGISTER WITH USER QUANTUM TIME
                                      1027  *
          (0)000000001115             1028  SSS$LDT EQU    *
   001115    0 00000 4715 00          1029         LDP1    0,,0            1 ARGUMENT
   001116    1 00000 2361 00          1030         LDQ     0,,1            USEC QTM TIME, CONVERT TO MSEC/512
   001117    000023 7370 00           1031         LLS     19
   001120    000777 3750 07           1032         ANA     511,DL          SHIFTED LEFT 9 PLACES
   001121    001750 5070 07           1033         DVF     1000,DL
   001122    1 00000 7551 00          1034         STA     0,,1            CLOBBERS ARG FOR TEMP STORAGE
   001123    1 00000 6371 00          1035         LDT     0,,1
   001124    000001 7100 11           1036         TRA     1,1
                                      1037  *
                                      1038  *      CLEAR CACHE AND PAGE TABLE ASSOC MEMORY
                                      1039  *
          (0)000000001125             1040  SSS$CCAC EQU   *
   001125    000002 5324 00           1041         CAMP    2
   001126    000000 0114 00           1042         CCAC
   001127    000001 7100 11           1043         TRA     1,1
                                      1044  *
                                      1045  *      ISSUE CIOC TO PROCESSOR TO TRIGGER CONNECT FAULT
                                      1046  *
          (0)000000001130             1047  SSS$CIOC EQU   *
   001130    0 00000 4715 00          1048         LDP1    0,,0            1 ARGUMENT
   001131    1 00000 7231 00          1049         LXL3    0,,1                LOGICAL PROCESSOR NUMBER
   001132  X 000000 4734 07           1050         LDP3    ISBSID,DL       BYPASS CACHE
   001133    3 X 00000 2341 13        1051         SZN     S_MPSTATE,3,3   DON'T CONNECT TO STOPPED CPU
   001134    000001 6000 11           1052         TZE     1,1
   001135    000003 2360 07           1053         LDQ     3,DL
   001136    3 X 00000 1161 13        1054         CMPQ    S_MPSTATE,3,3       IS IT RELEASE
   001137    000001 6000 11           1055         TZE    1,1
   001140  X 000000 2340 00           1056         SZN     H_RPM_FLG               IS THIS AN RPM
   001141 (0)001145 6000 00           1057         TZE     NOT_RPM
   001142  X 000000 2350 13           1058         LDA     H_DPS8000_CI_TABLE,3    FOR RPM
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  30   BMAP - B00     
   001143    000000 0150 00           1059         CIOC                            CONNECT FOR RPM
   001144    000001 7100 11           1060         TRA     1,1
   001145                             1061  NOT_RPM NULL
   001145  X 000000 0150 13           1062         CIOC    S_PORTNR,3
   001146    000001 7100 11           1063         TRA     1,1
                                      1064  *
                                      1065  *      STOP SLAVE PROCESSOR.
                                      1066  *
                                      1067  *      REQUIRES START KEYIN TO GET IT GOING AGAIN.
                                      1068  *
          (0)000000001147             1069  SSS$STOP EQU   *
                                      1070         INHIB   ON
   001147  X 000000 7212 00           1071         LXL1    S_PNO
   001150  X 000000 4502 11           1072         STZ     S_MPSTATE,1     SET STATE TO STOPPED
                                      1073         INHIB   OFF
                                      1074  *
   001151    000000 2350 07           1075         LDA     0,DL
   001152    000001 0350 07           1076         ADLA    1,DL
   001153    000062 1150 07           1077         CMPA    50,DL           OPEN WINDOW AFTER SETTING STOP
   001154 (0)001152 6040 00           1078         TMI     *-2             IN CASE IF OUTSTANDING CNNCT FLT
                                      1079  *
                                      1080         INHIB   ON              ONLY START CPU CNCT CAN COME NOW.
   001155  X 000000 7736 00           1081         LDSS    S_STARTSSR      INITIALIZE FIRST FRAME OF
   001156  X 000000 4706 07           1082         LDP0    SSRSID,DL           SAFE STORE FOR STARTUP.
   001157  X 000000 4776 07           1083         LDP7    SSRSID,DL
   001160  X 000000 4706 07           1084         LDP0    CDTFSID,DL          SS AS DATA
   001161 (0)001254 6212 00           1085         EAX1    STP1
   001162    0 00004 7413 00          1086         STX1    4,,0                IC
   001163    0 00004 7543 00          1087         STI     4,,0                INDICATOR REG
   001164    0 00016 7517 00          1088         STPS    14,,0               PSR
   001165    0 00012 7507 00          1089         STAS    10,,0               ASR
   001166  X 000000 4716 07           1090         LDP1    LSRSID,DL
   001167    7 00014 0517 00          1091         STD1    12,,7               LSR
   001170  X 000000 4716 07           1092         LDP1    ISRSID,DL
   001171    7 00010 0517 00          1093         STD1    8,,7                ISR
   001172    000010 2212 03           1094         LDX1    8,DU
   001173    000016 2232 03           1095         LDX3    14,DU
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  31   BMAP - B00     
   001174    0 00017 4517 11          1096         STP1    15,1,0              ARS AND SEG IDS
   001175    7 00030 0517 13          1097         STD1    24,3,7
   001176    000002 1232 03           1098         SBLX3   2,DU
   001177    000001 1212 03           1099         SBLX1   1,DU
   001200 (0)001174 6012 00           1100         TNZ     *-4
   001201    000020 2352 07           1101         LDA     16,DL               BUILD ISR DSCR WITH WSR1
   001202    0 00046 2553 00          1102         ORSA    38,,0               INSTEAD OF WSR0
   001203    7 00046 6767 00          1103         LDD6    38,,7
   001204    6 00001 7103 04          1104         TRA     1,IC,6              AND SWITCH TO IT.
   001205    0 00050 7533 00          1105         SREG    40,,0               ORDINARY REGISTERS
   001206  X 000000 4706 07           1106         LDP0    MTSTACKSID,DL
   001207    777773 2212 03           1107         LDX1    -5,DU
   001210    0 00001 4413 00          1108         SXL1    AUTOLOC,,0      CLEAR MONITOR TSTACK
   001211 (0)000740 7726 00           1109         LDWS    WSR0                SET WSR0-3 0,1,0,0
   001212    000000 1726 07           1110        LDO      0,DL
   001213  X 000000 2342 00           1111         SZN     H_RPM_FLG
   001214 (0)001220 6002 00           1112         TZE     NON_RPM
   001215    001400 2352 03           1113         LDA     =O1400,DU           SET CONNECT ON
   001216    000000 2362 07           1114         LDQ     0,DL
   001217    000000 5532 00           1115         SMCM    0
   001220                             1116  NON_RPM NULL
   001220  X 000000 2142 00           1117         SZNC    H_RELIEF        ARE WE RELIEFING
   001221 (0)001253 6052 00           1118         TPL     STPDIS
   001222  X 000000 2352 00           1119         LDA     S_PNO
   001223  X 000000 1152 00           1120         CMPA    H_FAIL_NUM
   001224 (0)001253 6012 00           1121         TNZ     STPDIS
   001225  X 000000 2352 00           1122         LDA     H_NURSE
   001226  X 000000 2352 05           1123         LDA     IT_SCPUWSPTD,AL
   001227  X 000000 2342 00           1124         SZN     H_RPM_FLG
   001230    000003 6052 04           1125         TPL     3,IC
   001231    000022 7352 00           1126         ALS     18
   001232    000004 7102 04           1127         TRA     4,IC
   001233  X 000000 4776 00           1128         LDP7    B$WSQ0PT$
   001234    7 00000 2353 05          1129         LDA     0,AL,7
   001235    000002 7352 00           1130         ALS     2
   001236  X 000000 7552 00           1131         STA     S_XX
   001237  X 000000 1716 00           1132         LPDBR   S_XX
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  32   BMAP - B00     
   001240  X 000000 7736 00           1133         LDSS    S_RLF_SSR
   001241  X 000000 2342 00           1134         SZN     H_FAIL_NUM          CHECK AND SEE IF THE MASTER FAILED.
   001242 (0)001251 6012 00           1135         TNZ     GOBACK              NOPE, JUST EXIT
   001243  X 000000 7272 00           1136         LXL7    H_NURSE             SWAP PORTNR SO NURSE IS NEW MASTER
   001244  X 000000 2352 00           1137         LDA     S_PORTNR
   001245  X 000000 2362 17           1138         LDQ     S_PORTNR,X7
   001246  X 000000 7552 17           1139         STA     S_PORTNR,X7
   001247  X 000000 7562 00           1140         STQ     S_PORTNR
   001250    000000 6122 04           1141         DIAG    0,04                MAKE THE NURSE -> THE MASTER
   001251    000000 7134 00           1142  GOBACK EXIT
   001252    0 000 000 01 0000
                                      1143  *
   001253    000077 6162 00           1144  STPDIS DIS     63                  WAIT HERE FOR START....
                                      1145  *
                                      1146  *      COME HERE AFTER AARDVARK HANDLES START CONNECT FAULT
                                      1147  *
   001254                             1148  STP1   NULL
   001254  X 000000 7012 00           1149         TSX1    HFC$CPUTYPE     READ PROC ID AND SET S_PTYPE
   001255    000000 0112 00           1150         NOP     0                FOR SLAVE CPU
   001256  X 000000 7212 00           1151         LXL1    S_PNO           PROCESSOR NUMBER
   001257  X 000000 4706 07           1152         LDP0    SCUSID,DL
   001260  X 000000 7042 00           1153         TSX4    HFC$BMAP_CLOCK
   001261  X 000000 7572 00           1154         STAQ    S_ITIME         NOTE BEGIN MONITOR EXECUTION TIME
   001262    000001 2352 07           1155         LDA     1,DL                SET PROCESSOR STATE TO WAITING
   001263  X 000000 7552 11           1156         STA     S_MPSTATE,1
   001264  X 000000 4502 11           1157         STZ     S_STOP,1            RESET STOP FLAG
   001265    000076 6162 00           1158         DIS     62                  THEN WAIT FOR THE PROCEED CONNECT
   001266    000002 2352 07           1159         LDA     2,DL
   001267  X 000000 7552 11           1160         STA     S_MPSTATE,1         SET PROCESSOR STATE TO RUNNING
   001270    000000 2352 07           1161         LDA     0,DL
   001271 (0)000056 7102 00           1162         TRA     1A3             BACK TO START SCHEDULING
   001272                             1163  SSS$SLVIC NULL
   001272  X 000000 4726 07           1164         LDP2    MTSTACKSID,DL   INITIALIZE MONITOR TSTACK
   001273  X 000000 4716 07           1165         LDP1    LSSID,DL        MON LS (DATA)
   001274    1 00102 2353 00          1166         LDA     2*LS.MTSTACK,,1   TSTACK SIZE
   001275    000022 7712 00           1167         ARL     18
   001276    2 00025 7553 00          1168         STA     21,,2           SIZE OF AUTO
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  33   BMAP - B00     
   001277 (0)001304 6306 00           1169         EPPR0   MPTRS
   001300  X 000000 7012 00           1170         TSX1    X66_MSTATIC
   001301    000000 0112 00           1171         NOP
   001302    2 00024 4727 00          1172         LDP2    20,,2           POINT TO FIRST FRAME
   001303 (0)001254 7102 00           1173         TRA     STP1            START SLAVE
                                      1174         INHIB   OFF                 AGAIN
                                      1175  *
   001304                             1176  MPTRS  NULL
   001304  X 000000 0 00 X 0000       1177         PTR     ISSID,B$MONTSTACK$  MON TSTACK
   001305    000025 0 00 X 0000       1178         PTR     MTSTACKSID,21     SIZE OF MON AUTO
   001306    000024 0 00 X 0000       1179         PTR     MTSTACKSID,20     INIT PTR
   001307    000004 0 00 X 0000       1180  MONTSTKPTR PTR     MTSTACKSID,4  INIT PTR
   001310    000007 0 00 X 0000       1181  PPPTR  PTR     MTSTACKSID,7      INIT PTR
                                      1182  *
                                      1183  *              BYPASS CACHE
                                      1184  *
                                      1185         INHIB   ON
                                      1186  *
   001311    000000 0112 00           1187         EVEN
   001312
          (0)000000001312             1188  SSS$CACHEBP EQU  *
   001312  X 000000 4706 07           1189         LDP0    ISBSID,DL
   001313    0 00001 7103 11          1190         TRA     1,1,0
                                      1191  *
                                      1192  *              USE CACHE
                                      1193  *
          (0)000000001314             1194  SSS$CACHE EQU  *
   001314  X 000000 4706 07           1195         LDP0    ISSID,DL
   001315    0 00001 7103 11          1196         TRA     1,1,0
                                      1197  *
                                      1198  *              BLOCK SLAVE USER FOR MASTER PROCESSOR
                                      1199  *
                                      1200         EVEN
   001316                             1201  SSS$BLOCKM NULL
   001316  X 000000 2352 00           1202         LDA     S_TIMR
   001317    000002 1152 07           1203         CMPA    2,DL
   001320    000001 6002 11           1204         TZE     1,1             RETURN IF MON RUNNING
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  34   BMAP - B00     
   001321  X 000000 2342 00           1205         SZN     S_CUN           DON'T BLOCK IF NO USER
   001322    000001 6002 11           1206         TZE     1,1
          (0)000000001323             1207  SSS$BLOCK EQU  *
   001323  X 000000 4706 00           1208         LDP0    S$CU$
   001324    000004 2352 03           1209         LDA     4,DU
   001325    0 00000 2553 00          1210         ORSA    0,,0            SET MASTER ONLY FLAG FOR CU
   001326  X 000000 2342 00           1211         SZN     S_PNO
   001327    000001 6002 11           1212         TZE     1,1                 NOP IF ALREADY ON MASTER
   001330  X 000000 7102 00           1213         TRA     SSR$MASTER          BLOCK IF NOT.
                                      1214         INHIB   OFF
                                      1215  *
                                      1216  *
                                      1217  *
                                      1218  *              IDLE PROCEDURE
                                      1219  *
   001331    000001 7100 11           1220         TRA     1,1             IN CASE OF EXECUTE FAULTS
   001332    000001 7100 11           1221         TRA     1,1             FOLLOWED BY GO FROM XDELTA
          (0)000000001333             1222  SSS$IDLE EQU   *
   001333    000000 6160 10           1223         DIS     0,0
   001334    000001 7100 11           1224         TRA     1,1
   001335    000001 7100 11           1225         TRA     1,1
                                      1226  *
                                      1227  *      TEST FOR REQUIRED CPU TYPE IN MIXED MP SYSTEM.
                                      1228  *      CALLED FROM SSX$XSCHD IF H_MIXED_MP FLAG SET
                                      1229  *
   001336                             1230  SSS$MIXED NULL
   001336  X 000000 4714 07           1231         LDP1    SDS1SID,DL
   001337    1 00002 6735 00          1232         LDD3    2,,1
   001340  X 000000 7240 00           1233         LXL4    S_PNO
   001341  X 000000 4734 07           1234         LDP3    CDTFSID,DL      TYPE 0 DESCR TO USER SS
   001342    3 00006 7231 00          1235         LXL3    CPUTYP,,3       SPECIFIC CPU TYPE REQUIRED?
   001343 (0)001354 6040 00           1236         TMI     1E5             YES -> CHECK FOR RIGHT TYPE
                                      1237  *
                                      1238  *      NO SPECIFIC CPU TYPE REQUIRED.  CHECK FOR PARTITIONED CPU
                                      1239  *
   001344    000003 2360 07           1240         LDQ     3,DL             IS IT  RELEASE
   001345  X 000000 1160 14           1241         CMPQ    S_MPSTATE,4
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  35   BMAP - B00     
   001346    000001 6010 11           1242         TNZ     1,1             NO -> RUN THIS USER
   001347                             1243  1E4    NULL                    YES -> DID USER REQUEST THIS CPU?
   001347  X 000000 4744 00           1244         LDP4    S$CU$
   001350    4 00010 2361 00          1245         LDQ     8,,4            B$U.CPU
   001351    000777 3160 07           1246         CANQ    =O777,DL        REQUESTING SPECIFIC CPU?
   001352 (0)001413 6000 00           1247         TZE     1E9             NO -> DONT RUN USER ON THIS CPU
   001353    000001 7100 11           1248         TRA     1,1             YES -> THIS MUST BE THE RIGHT CPU
                                      1249  *
                                      1250  *      SPECIFIC CPU TYPE REQUIRED.  ARE WE ON RIGHT CPU TYPE?
                                      1251  *
   001354                             1252  1E5    NULL
   001354    3 00006 2351 00          1253         LDA     CPUTYP,,3
   001355    000014 7710 00           1254         ARL     12
   001356    000037 3750 07           1255         ANA     =O37,DL         REQUIRED CPU TYPE
   001357  X 000000 1150 00           1256         CMPA    S_THIS_PTYPE    ARE WE ON RIGHT CPU TYPE?
   001360 (0)001376 6010 00           1257         TNZ     1E8             NO
   001361    000003 2360 07           1258         LDQ     3,DL             IS IT RELEASED
   001362  X 000000 1160 14           1259         CMPQ    S_MPSTATE,4
   001363    000001 6010 11           1260         TNZ     1,1             NO -> RUN THIS USER
                                      1261  *
                                      1262  *      WE ARE RUNNING ON PARTITIONED CPU OF THE TYPE THAT USER
                                      1263  *      REQUIRES.  IF THERE IS NO OTHER RUNNING CPU OF THE SAME
                                      1264  *      TYPE AS THIS CPU, THEN WE MUST RUN THIS USER ON THIS CPU.
                                      1265  *      OTHERWISE, WE CAN RUN USER ON THIS CPU OR NOT DEPENDING
                                      1266  *      ON WHETHER USER REQUESTED PARTITIONED CPU.
                                      1267  *
   001364  X 000000 2360 00           1268         LDQ     S_NSCPU
   001365                             1269  1E6    NULL
   001365  X 000000 2340 06           1270         SZN     S_MPSTATE,QL    CPU RUNNING?
   001366 (0)001373 6000 00           1271         TZE     1E7             NO -> KEEP LOOKING
   001367  X 000000 1160 00           1272         CMPQ    S_PNO           IS IT THIS CPU?
   001370 (0)001373 6000 00           1273         TZE     1E7             YES -> KEEP LOOKING
   001371  X 000000 1150 06           1274         CMPA    S_SSPTYPE,QL    IS IT THE RIGHT SS TYPE?
   001372 (0)001347 6000 00           1275         TZE     1E4             YES -> CHECK PARTITONED CPU REQ
   001373                             1276  1E7    NULL
   001373    000001 1360 07           1277         SBLQ    1,DL            GO TO NEXT CPU
   001374 (0)001365 6050 00           1278         TPL     1E6
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  36   BMAP - B00     
   001375    000001 7100 11           1279         TRA     1,1             WE MUST RUN USER ON THIS CPU
                                      1280  *
                                      1281  *      CANT RUN USER ON THIS CPU - CHECK TO SEE IF MASTER
                                      1282  *      CPU OR SPECIFIC CPU REQUIRED.  IF SO, WE MUST RUN
                                      1283  *      THIS USER ON THIS CPU.  OTHERWISE, CHECK TO SEE IF
                                      1284  *      CPU OF THE REQUIRED TYPE IS RUNNING.
                                      1285  *
   001376                             1286  1E8    NULL
   001376  X 000000 4744 00           1287         LDP4    S$CU$
   001377    4 00000 2361 00          1288         LDQ     0,,4
   001400    000004 3160 03           1289         CANQ    =4,DU           B$U.FLG.MSTR
   001401 (0)001423 6010 00           1290         TNZ     1E3             MASTER CPU REQUIRED
   001402    4 00010 2361 00          1291         LDQ     8,,4
   001403    000777 3160 07           1292         CANQ    =O777,DL        B$U.CPU
   001404 (0)001423 6010 00           1293         TNZ     1E3             SPECIFIC CPU REQUIRED
   001405  X 000000 7230 00           1294         LXL3    S_NSCPU         NUMBER OF SLAVE CPUS
   001406                             1295  1E0    NULL
   001406  X 000000 2340 13           1296         SZN     S_MPSTATE,3     IS CPU RUNNING?
   001407 (0)001417 6000 00           1297         TZE     1E1             NO -> GO TO NEXT CPU
   001410  X 000000 1150 13           1298         CMPA    S_SSPTYPE,3     YES -> IS CPU RIGHT SS TYPE?
   001411 (0)001417 6010 00           1299         TNZ     1E1             NO -> GO TO NEXT CPU
                                      1300  *
                                      1301  *      THERE IS A CPU OF THE RIGHT TYPE RUNNING - GO BACK TO
                                      1302  *      SSX$XSCHD TO LOOK FOR ANOTHER USER TO RUN
                                      1303  *
   001412                             1304  1E2    NULL
   001412  X 000000 0540 05           1305         AOS     H_MIXED_SSX,AL  INCREMENT SCHD FAILS COUNTER
   001413                             1306  1E9    NULL
   001413  X 000000 7240 00           1307         LXL4    S_PNO
   001414  X 000000 4500 14           1308         STZ     S_PCU,4         RESET CUN FOR THIS PROCESSOR
   001415    000002 5324 00           1309         CAMP    2               CLEAR PTWAM
   001416    000000 7100 11           1310         TRA     0,1             ALTRET BACK TO SSX$XSCHD
                                      1311  *
   001417                             1312  1E1    NULL
   001417    000001 1630 03           1313         SBX3    1,DU            NEXT CPU
   001420 (0)001406 6050 00           1314         TPL     1E0
                                      1315  *
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  37   BMAP - B00     
                                      1316  *      THERE IS NO RUNNING CPU OF THE TYPE REQUIRED.
                                      1317  *      CREATE AN ERROR LOG ENTRY, RESET MULTIWORD INTERRUPT
                                      1318  *      BIT IN USER SAFE STORE, AND RUN USER ON THIS CPU
                                      1319  *
   001421  X 000000 2340 00           1320         SZN     H_MAKE_IN_PROGRESS  ARE WE DOING MAKE CPU KEYIN?
   001422 (0)001412 6040 00           1321         TMI     1E2             YES -> DONT RESET MIR
                                      1322  *
   001423                             1323  1E3    NULL
   001423  X 000000 0540 05           1324         AOS     H_MIXED_RMIR,AL INCREMENT RESET MIR COUNTER
   001424    3 00006 5511 10          1325         STBA    CPUTYP,10,3     RESET SPECIFIC CPU REQUEST
   001425  X 000000 4744 07           1326         LDP4    LSSID,DL        MONITOR LSR (TYPE 0)
   001426    4 00352 0535 00          1327         STD3    LS.MAGSS*2,,4   SAVE SSR IN MAGIC FRAME FOR HFB
   001427  X 000000 7410 00           1328         STX1    S_X1            SAVE RETURN ADDRESS
   001430 (0)000741 6314 00           1329         EPPR1   EMPTY
   001431  X 000000 7010 00           1330         TSX1    HFB$ERRORLOG    LOG PROCERROR ERROR
   001432    000000 0110 00           1331         NOP
   001433  X 000000 4734 00           1332         LDP3    B_MPT+MPT.SS    TYPE 0 DESC TO USER SS
   001434    000041 3360 07           1333         LCQ     =O41,DL
   001435    3 00004 3561 00          1334         ANSQ    ICIR,,3         RESET MIR
   001436  X 000000 2210 00           1335         LDX1    S_X1            RESTORE RETURN ADDRESS
   001437    000001 7100 11           1336         TRA     1,1             RUN THIS USER
                                      1337  *
                                      1338  *
                                      1339  *
                                      1340  *
                                      1341           SYMDEF    S_EVX_BYP$
                                      1342           SYMREF    S_EVX
   001440  X 000000 0 00 X 0000       1343  S_EVX_BYP$ PTR     ISBSID,S_EVX
                                      1344           SYMDEF    S_HQ_BYP$,S_TQ_BYP$,S_RQH_BYP$,S_RQT_BYP$
                                      1345           SYMREF    S_HQ,S_TQ,S_RQH,S_RQT
   001441  X 000000 0 00 X 0000       1346  S_HQ_BYP$ PTR      ISBSID,S_HQ
   001442  X 000000 0 00 X 0000       1347  S_TQ_BYP$ PTR      ISBSID,S_TQ
   001443  X 000000 0 00 X 0000       1348  S_RQH_BYP$ PTR     ISBSID,S_RQH
   001444  X 000000 0 00 X 0000       1349  S_RQT_BYP$ PTR     ISBSID,S_RQT
                                      1350           SYMDEF    S_CUP_BYP$,S_HIR_BYP$,S_DL$_BYP$
                                      1351           SYMREF    S_CUP,S_HIR,S_DL$
   001445  X 000000 0 00 X 0000       1352  S_CUP_BYP$ PTR     ISBSID,S_CUP
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI                                                                  38   BMAP - B00     
   001446  X 000000 0 00 X 0000       1353  S_HIR_BYP$ PTR     ISBSID,S_HIR
   001447  X 000000 0 00 X 0000       1354  S_DL$_BYP$ PTR     ISBSID,S_DL$
                                      1355         END

  CONTROL SECTION TABLE

   0 CODE   EVEN  001450 SSS$SEXIT
   1 RODATA EVEN  000000 LITERALS

 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI       SYMBOL TABLE                                               39   BMAP - B00     
 00101000 000000000756 "             *874
 01101000 000000000032 1A0            182      *211
 01101000 000000000002 1A1           *179       484       489
 01101000 000000000056 1A3           *245      1162
 01101000 000000000024 1A4            192       194       199      *205
 01101000 000000000110 1A5            251      *275
 01101000 000000000354 1B1            482      *488
 01101000 000000000356 1B2            487      *490
 01101000 000000000357 1B3            486      *491
 01101000 000000000036 1D0            184      *214
 01101000 000000001406 1E0          *1295      1314
 01101000 000000001417 1E1           1297      1299     *1312
 01101000 000000001412 1E2          *1304      1321
 01101000 000000001423 1E3           1290      1293     *1323
 01101000 000000001347 1E4          *1243      1275
 01101000 000000001354 1E5           1236     *1252
 01101000 000000001365 1E6          *1269      1278
 01101000 000000001373 1E7           1271      1273     *1276
 01101000 000000001376 1E8           1257     *1286
 01101000 000000001413 1E9           1247     *1306
 01101000 000000000763 1UBIN          515      *880
 01101000 000000000650 ADD_ERASTART   775       777      *779
 00101000 000000000315 ALL_DONE      *454
 41000000 000000000012 ASR           *159       479
 41000000 000000000001 AUTOLOC       *154      1009      1108
 03301002 000000000000 B$IPHYMAP$     *19       505
 03301000 000000000000 B$MONTSTACK$   *17      1177
 03301001 000000000000 B$UPT$         *18       499
 03301014 000000000000 B$USRT$        *31       437
 03301028 000000000000 B$WSQ0PT$      *45       462      1128
 03301016 000000000000 B_MPT          *33      1332
 03301012 000000000000 B_MUAIS        *29       452
 03601003 000000000000 CDTFSID        *78       178       220       235       478      1008      1084
                                     1234
 01101000 000000000620 CHECK_LOWER    734      *745
 01101000 000000000300 CHECK_USER    *439       453
 41000000 000000000006 CPUTYP        *156       193       195       236      1235      1253      1325
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI       SYMBOL TABLE                                               40   BMAP - B00     
 01101000 000000000556 DOCONV        *702       712
 01101000 000000000653 DO_CONV        773      *783
 01101000 000000000741 EMPTY          215      *861      1329
 01101000 000000000630 ERR0           747      *755
 01101000 000000000625 ERR1           738       741      *751
 01101000 000000000156 GET_NURSE      319      *340
 01101000 000000000316 GET_PDBR       346       358       383       403      *456
 01101000 000000001251 GOBACK        1135     *1142
 03201007 000000000000 HFB$ERRORLOG   *90      1330
 03201010 000000000000 HFC$BMAP_CLOCK           *93       559       619       667       805       824
                                      902       939      1153
 03201009 000000000000 HFC$CPUTYPE    *92      1149
 03201008 000000000000 HFC$UNLOCK     *91       253       276       547
 41000000 000000000015 HJITPG        *167       264
 03301004 000000000000 HW_TIME_LEGAL  *21       899
 03301003 000000000000 HW_WSQ0PT      *20       503
 03301007 000000000000 H_DPS8000_CI_TABLE       *24       335       336       337       338      1058
 03301006 000000000000 H_ENMASK       *23       424
 03301027 000000000000 H_FAIL_NUM     *44       302       341       357       402       418       429
                                     1120      1134
 03301009 000000000000 H_FAIL_PARK    *26       317       381       400       413
 03301017 000000000000 H_MAKE_IN_PROGRESS       *34      1320
 03301018 000000000000 H_MIXED_MP     *35       191
 03301021 000000000000 H_MIXED_RMIR   *38      1324
 03301019 000000000000 H_MIXED_SSS    *36       200
 03301020 000000000000 H_MIXED_SSX    *37      1305
 03301026 000000000000 H_NURSE        *43       307       321       326       344       373       382
                                      405       428      1122      1136
 03301010 000000000000 H_NURSE_PARK   *27       318       356       399       414
 03301022 000000000000 H_RELIEF       *39       300       417      1117
 03301005 000000000000 H_RLF_GATE     *22       416
 03301015 000000000000 H_RPM_FLG      *32       458      1056      1111      1124
 03301008 000000000000 H_S1000_FLG    *25       331
 41000000 000000000004 ICIR          *155      1334
 03601012 000000000000 ISBSID         *87      1050      1189      1343      1346      1347      1348
                                     1349      1352      1353      1354
 03601006 000000000000 ISRSID         *81      1092
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI       SYMBOL TABLE                                               41   BMAP - B00     
 03601002 000000000000 ISSID          *77       879      1177      1195
 03301023 000000000000 IT_SCPUWSPTD   *40       457      1123
 41000000 000000000013 JITPG         *166       258       261
 01101000 000000000332 JUST_DOIT      301       314       353       378       396      *469
 03201021 000000000000 KCC$BASE      *105       216
 03301029 000000000000 KQ_BASEDELAY   *46       183
 41000000 000000000155 LS.AARDV      *149
 41000000 000000000156 LS.AARDV2     *149
 41000000 000000000033 LS.ASLLS      *149
 41000000 000000000053 LS.ASR        *149       248
 41000000 000000000002 LS.BUF        *149
 41000000 000000000161 LS.BUFCACH    *149
 40000000 000000000004 LS.CFU        *149
 41000000 000000000164 LS.CGCTXT     *149
 41000000 000000000163 LS.CGPT       *149
 41000000 000000000075 LS.CPGT1      *149
 41000000 000000000034 LS.CPLS       *149
 41000000 000000000055 LS.CWSQ1      *149
 41000000 000000000032 LS.DBLS       *149
 41000000 000000000004 LS.DS1        *149
 41000000 000000000005 LS.DS2        *149
 41000000 000000000006 LS.DS3        *149
 41000000 000000000007 LS.DS4        *149
 41000000 000000000010 LS.DS5        *149
 41000000 000000000011 LS.DS6        *149
 41000000 000000000012 LS.DS7        *149
 41000000 000000000013 LS.DS8        *149
 40000000 000000000202 LS.DVT        *149
 41000000 000000000016 LS.ECCB       *149
 41000000 000000000157 LS.FIRM       *149
 40000000 000000000155 LS.FLT        *149
 41000000 000000000045 LS.HJITU      *149
 41000000 000000000162 LS.IMX        *149
 41000000 000000000122 LS.IOEND      *149
 41000000 000000000176 LS.IPHY_MAP   *149
 41000000 000000000000 LS.IS         *149
 41000000 000000000050 LS.ISB        *149
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI       SYMBOL TABLE                                               42   BMAP - B00     
 41000000 000000000115 LS.JITPG      *149
 41000000 000000000001 LS.JITU       *149
 40000000 000000000013 LS.LDCT       *149
 41000000 000000000134 LS.LDCTNC     *149
 41000000 000000000121 LS.LOWMEM     *149
 41000000 000000000167 LS.MAGAS      *149
 41000000 000000000172 LS.MAGECCB    *149
 41000000 000000000166 LS.MAGLS      *149
 41000000 000000000170 LS.MAGPS      *149
 41000000 000000000165 LS.MAGSS      *149      1327
 41000000 000000000171 LS.MAGTCB     *149
 41000000 000000000043 LS.MHJIT      *149
 41000000 000000000177 LS.MINIQ_ENT  *149
 41000000 000000000054 LS.MISC       *149
 41000000 000000000130 LS.MISC2      *149
 41000000 000000000042 LS.MJIT       *149
 41000000 000000000035 LS.MLS        *149
 41000000 000000000132 LS.MLS1       *149
 41000000 000000000173 LS.MLSREAD    *149
 40000000 000000000156 LS.MONRL      *149
 41000000 000000000044 LS.MONSSS     *149
 41000000 000000000120 LS.MOUSE      *149
 41000000 000000000037 LS.MPT        *149
 41000000 000000000145 LS.MSTRHJ     *149
 41000000 000000000135 LS.MSTRPT     *149
 41000000 000000000041 LS.MTSTACK    *149      1166
 41000000 000000000014 LS.NULL       *149
 41000000 000000000027 LS.PMME       *149
 41000000 000000000116 LS.PPUT       *149
 41000000 000000000131 LS.RCVENT     *149
 41000000 000000000127 LS.RCVRTN     *149
 41000000 000000000021 LS.REAL       *149
 41000000 000000000030 LS.REG        *149
 41000000 000000000124 LS.RONC       *149
 41000000 000000000003 LS.ROSEG      *149
 41000000 000000000125 LS.ROSEG8     *149
 41000000 000000000046 LS.SBUF1      *149
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI       SYMBOL TABLE                                               43   BMAP - B00     
 41000000 000000000047 LS.SBUF2      *149
 41000000 000000000025 LS.SCR        *149
 41000000 000000000051 LS.SCU        *149
 41000000 000000000174 LS.SEGTBL     *149
 41000000 000000000146 LS.SLV1HJ     *149
 41000000 000000000136 LS.SLV1PT     *149
 41000000 000000000147 LS.SLV2HJ     *149
 41000000 000000000137 LS.SLV2PT     *149
 41000000 000000000150 LS.SLV3HJ     *149
 41000000 000000000140 LS.SLV3PT     *149
 41000000 000000000151 LS.SLV4HJ     *149
 41000000 000000000141 LS.SLV4PT     *149
 41000000 000000000152 LS.SLV5HJ     *149
 41000000 000000000142 LS.SLV5PT     *149
 41000000 000000000153 LS.SLV6HJ     *149
 41000000 000000000143 LS.SLV6PT     *149
 41000000 000000000154 LS.SLV7HJ     *149
 41000000 000000000144 LS.SLV7PT     *149
 41000000 000000000017 LS.TCB        *149
 41000000 000000000123 LS.TIGR       *149
 41000000 000000000020 LS.TSTACK     *149
 41000000 000000000031 LS.ULS        *149
 41000000 000000000036 LS.UPT        *149
 41000000 000000000023 LS.USDS0      *149
 41000000 000000000024 LS.USDS1      *149
 41000000 000000000040 LS.USRIS      *149
 41000000 000000000022 LS.USSS       *149
 41000000 000000000117 LS.VPT        *149
 41000000 000000000052 LS.WINDOW     *149
 41000000 000000000133 LS.WS3MLS     *149
 41000000 000000000160 LS.WS3MLSNW   *149
 41000000 000000000175 LS.WSQ0PT     *149
 41000000 000000000026 LS.XD         *149
 41000000 000000000126 LS.XDRTN      *149
 41000000 000000000201 LS.XLALT      *149
 41000000 000000000015 LS.XLAT       *149
 41000000 000000000200 LS.XLNORM     *149
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI       SYMBOL TABLE                                               44   BMAP - B00     
 41000000 000000000014 LSR           *160       180
 03601005 000000000000 LSRSID         *80      1090
 03601008 000000000000 LSSID          *83       247      1165      1326
 01101000 000000001066 LTRD          *998      1023
 41000000 000000000006 MAGIC.ND      *148       524
 01101000 000000000736 MAXFUTS        770      *858
 03201011 000000000000 MMB$FPP        *94       517
 01101000 000000001307 MONTSTKPTR     246     *1180
 41000000 000000000002 MPT.AS        *148
 41000000 000000000010 MPT.ASDESC    *148
 41000000 000000000005 MPT.ECCB      *148
 40000000 000000000013 MPT.ECCBDESC  *148
 41000000 000000000001 MPT.LS        *148
 41000000 000000000007 MPT.LSDESC    *148
 41000000 000000000003 MPT.PS        *148
 41000000 000000000011 MPT.PSDESC    *148
 41000000 000000000000 MPT.SS        *148      1332
 41000000 000000000006 MPT.SSDESC    *148
 41000000 000000000004 MPT.TCB       *148
 41000000 000000000012 MPT.TCBDESC   *148
 01101000 000000001304 MPTRS         1169     *1176
 00101000 000000000735 MSDAY         *857
 03601001 000000000000 MTSTACKSID     *76      1005      1106      1164      1178      1179      1180
                                     1181
 01101000 000000000311 NEXT_USER      443       446      *449
 03301011 000000000000 NI$DS          *28       421
 01101000 000000000377 NOCNVRT        504      *513
 01101000 000000001220 NON_RPM       1112     *1116
 01101000 000000001145 NOT_RPM       1057     *1061
 01101000 000000000171 NURSE_FOR_MASTER         308      *351
 41000000 000000000000 PGTBLLO       *165       267       270
 01101000 000000001310 PPPTR          516     *1181
 01101000 000000000506 PRE_COOKIE     621      *631
 01101000 000000000565 PRE_COOKIE_FEP           699      *710
 01101000 000000000666 PRE_COOK_CONV  790      *795
 01101000 000000000632 PRE_COOK_VALUE           721      *758
 41000000 000000000016 PSR           *161       480
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI       SYMBOL TABLE                                               45   BMAP - B00     
 03601000 000000000000 REGENTSID      *75       530
 01101000 000000000246 RELIEF_COMP    334       339       389       401      *412
 03301030 000000000000 S$CU$          *47      1208      1244      1287
 01101000 000000000762 SCHDGT         252       275       546      *879
 03601011 000000000000 SCUSID         *86       423       558       618       666       804       823
                                      901       938      1152
 03601009 000000000000 SDS0SID        *84       243       475
 03601010 000000000000 SDS1SID        *85      1231
 01101000 000000000746 SEC_30        *867       940
 01101000 000000001010 SET_PRE_COOKIE           908      *917
 01101000 000000000225 SET_REL_ENV    374      *390
 01101000 000000000230 SFE            395      *397
 01101000 000000000174 SFM            352      *354
 01101000 000000000204 SLAVE_SHUTDOWN           303      *371
 01101000 000000000212 SNE            377      *379
 01101000 000000000126 SNM            313      *315
 03201016 000000000000 SSC$HWMON     *100       490
 03201012 000000000000 SSC$MON        *95       201
 03201013 000000000000 SSC$SERV       *96       *98       211       549
 03201014 000000000000 SSC$SLAVE      *97       208
 03201006 000000000000 SSQ$QEND       *89       206
 03201017 000000000000 SSR$MASTER    *101      1213
 03601004 000000000000 SSRSID         *79       177       219       234       477      1007      1082
                                     1083
 52101000 000000000421 SSS$ALTRET     122      *539
 52101000 000000001323 SSS$BLOCK      133     *1207
 12101000 000000001316 SSS$BLOCKM     134     *1201
 52101000 000000001314 SSS$CACHE      118     *1194
 52101000 000000001312 SSS$CACHEBP    117     *1188
 52101000 000000001125 SSS$CCAC       130     *1040
 13101000 000000000007 SSS$CHKSS      138      *186       221
 52101000 000000001130 SSS$CIOC       131     *1047
 52101000 000000000470 SSS$CURTIME    125      *615
 52101000 000000001104 SSS$DELTRD     114     *1014
 12101000 000000000044 SSS$DU         123      *225
 12101000 000000000671 SSS$EOMTIME    126      *802
 52101000 000000000547 SSS$FEPERA     142      *694
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI       SYMBOL TABLE                                               46   BMAP - B00     
 01101000 000000000361 SSS$FPP        259       262       265       268       271      *498
 52101000 000000001333 SSS$IDLE       116     *1222
 52101000 000000000634 SSS$L6_UTS     140      *766
 52101000 000000001115 SSS$LDT        115     *1028
 52101000 000000001064 SSS$LTRD       113      *995
 12101000 000000001336 SSS$MIXED      137     *1230
 13101000 000000000053 SSS$PARK       108       203       207       227       237      *241
 01101000 000000000272 SSS$RELCPU     426      *432
 53101000 000000000423 SSS$RET        121       541      *543
 12101000 000000000403 SSS$RG         109      *522
 53101000 000000000113 SSS$SENT       112       250       273      *278
 12101000 000000000764 SSS$SETBTIME   127      *896
 53101000 000000000000 SSS$SEXIT      107      *175       492
 12101000 000000001272 SSS$SLVIC      136     *1163
 52101000 000000001147 SSS$STOP       132     *1069
 52101000 000000000470 SSS$SYSTIME    119      *616
 52101000 000000000433 SSS$TIME       111      *557
 52101000 000000001016 SSS$UPDITIME   128      *931
 52101000 000000001040 SSS$UPDUTS     129      *968
 52101000 000000000567 SSS$UTS_L6     139      *716
 52101000 000000000114 SSS$WARP       141      *280
 52101000 000000000676 SSS$WUTIME     124      *820
 52101000 000000000442 SSS$XEQTIME    135      *570
 12101000 000000000515 SSS$XSYSTIME   120      *663
 03201015 000000000000 SSX$XSCHD      *99       470
 01101000 000000000760 SS_ERA_MINUS_1Q          746      *877
 01101000 000000000753 SS_ERA_SIZE    748      *871
 01101000 000000000752 SS_FEPTAB      733       780      *870
 01101000 000000000756 SS_HALF_ERA    735       774      *875
 01101000 000000000757 SS_MAXFUTS_PLUS1         740      *876
 01101000 000000000761 SS_MAXFUTS_UTS_PLUS1     781      *878
 07101000 000000000744 SS_MS_COOKIE    16       620       622       668       670       830       834
                                     *865       912       941       943       976
 07101000 000000000750 SS_UTS_COOKIE   14       628       677       698       700       720       722
                                      792       840      *868       907       909       946       971
                                      973
 07101000 000000000751 SS_UTS_COOKIE_25          15       701       723       789       791      *869
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI       SYMBOL TABLE                                               47   BMAP - B00     
 01101000 000000000576 START_CONV    *724       760
 01101000 000000000616 STORE_IT       736      *742       750
 01101000 000000001254 STP1          1085     *1148      1173
 01101000 000000001253 STPDIS        1118      1121     *1144
 01101000 000000000133 SWITCH_MASTER *320       361
 01101000 000000000473 SYST1         *620       979       981       987       989
 03301055 000000000000 S_ACCTIME      *72       947       952
 03301035 000000000000 S_BOOTERA      *52       731       772
 03301036 000000000000 S_BOOTQUARTER  *53       737       749       776
 02301034 000000000000 S_BTIME        *51
 03301038 000000000000 S_C10PR        *55       485       488
 03301037 000000000000 S_C10USR       *54       481
 03301040 000000000000 S_CUN          *57       483      1205
 03301061 000000000000 S_CUP        *1351      1352
 06101000 000000001445 S_CUP_BYP$    1350     *1352
 03301063 000000000000 S_DL$        *1351      1354
 06101000 000000001447 S_DL$_BYP$    1350     *1354
 02301051 000000000000 S_EVF          *68
 03301057 000000000000 S_EVX        *1342      1343
 06101000 000000001440 S_EVX_BYP$    1341     *1343
 03301062 000000000000 S_HIR        *1351      1353
 06101000 000000001446 S_HIR_BYP$    1350     *1353
 03301050 000000000000 S_HQ           *67     *1345      1346
 06101000 000000001441 S_HQ_BYP$     1344     *1346
 03301032 000000000000 S_INCTIME      *49       561
 03301031 000000000000 S_ITIME        *48       560       562       563       932       937      1154
 03301013 000000000000 S_MING         *30       433       435
 03301042 000000000000 S_MONSSR       *59       245
 03301054 000000000000 S_MPSTATE      *71       328       329       330       342       345       386
                                      406       467      1051      1054      1072      1156      1160
                                     1241      1259      1270      1296
 03301047 000000000000 S_NSCPU        *64      1268      1294
 03301048 000000000000 S_PCU          *65      1308
 03301044 000000000000 S_PNO          *61       306       372      1071      1119      1151      1211
                                     1233      1272      1307
 03301053 000000000000 S_PORTNR       *70       322       323       324       325      1062      1137
                                     1138      1139      1140
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI       SYMBOL TABLE                                               48   BMAP - B00     
 02301041 000000000000 S_PRVTIME      *58
 52101000 000000000046 S_REGR         110      *232
 41000000 000000000003 S_REL         *169       327
 03301025 000000000000 S_RLF_SSR      *42       315       349       354       379       397       408
                                      430      1133
 03301059 000000000000 S_RQH        *1345      1348
 06101000 000000001443 S_RQH_BYP$    1344     *1348
 03301060 000000000000 S_RQT        *1345      1349
 06101000 000000001444 S_RQT_BYP$    1344     *1349
 41000000 000000000002 S_RUN         *168       343       385       466
 03301052 000000000000 S_SCHDGATE     *69       879
 03301046 000000000000 S_SSPTYPE      *63      1274      1298
 03301043 000000000000 S_STARTSSR     *60      1081
 03301056 000000000000 S_STOP         *73      1157
 03301045 000000000000 S_THIS_PTYPE   *62       198      1256
 03301033 000000000000 S_TIMR         *50      1202
 03301058 000000000000 S_TQ         *1345      1347
 06101000 000000001442 S_TQ_BYP$     1344     *1347
 03301039 000000000000 S_UPTIME       *56       915       922       933       977       985
 03301049 000000000000 S_X1           *66      1328      1335
 03301024 000000000000 S_XX           *41       348       360       388       407       465      1131
                                     1132
 01101000 000000000614 TEST_UPPER     732      *739
 01101000 000000000420 TRA_AALT      *538       540
 41101000 000000000432 TRA_ARET       544      *551
 03601007 000000000000 TSTACKSID      *82       472      1003
 03201020 000000000000 UDN$BLDASR    *104       998
 03201019 000000000000 UDN$MGRES     *103       532
 03201018 000000000000 UDN$MGSAVE    *102       528
 01101000 000000001055 UPD_PRE_COOKIE           972      *982
 01101000 000000001034 UPI_PRE_COOKIE           942      *949
 01101000 000000000740 WSR0          *860      1109
 01101000 000000000724 WUPRE_COOKIE   831      *843
 01101000 000000000733 WUXUTS         833      *851
 03201003 000000000000 X66_AALT       *11       538
 03201004 000000000000 X66_ARET       *12       534       552       594       842       850       853
                                      900       916       923
 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI       SYMBOL TABLE                                               49   BMAP - B00     
 03201002 000000000000 X66_AUTO_0     *10       523
 03201001 000000000000 X66_AUTO_1      *9       821       897       996
 03201000 000000000000 X66_AUTO_3      *8       571      1015
 03201005 000000000000 X66_MSTATIC    *13      1170
 01101000 000000000536 XPRE_COOKIE    669      *681
 01101000 000000000742 XUTS           832      *863       978       980       986       988

     358 SYMBOLS

 05:59 07/30/97  FILE=SSS$SEXIT.:E05TSI       MACRO TABLE                                                50   BMAP - B00     
 MAGIC          148
 MONLS          149

      16 MACROS

    SYMBOL SPACE USED  4520 WORDS
     MACRO SPACE USED  3324 WORDS
   INPUT RECORDS READ  3165
 STATEMENTS PROCESSED  1431
         ELAPSED TIME  0:11.88
             CPU TIME    10.84 SEC.
        ASSEMBLY RATE  7921 STATEMENTS/CPU MIN.

      NO ERRORS


VERSION E05

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:1    
        1        1        /*M* THI$INIT - INTERNAL COMPONENT TABLE BUILDER FOR ELAN */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        THI$INIT: PROC;
        8        8        /**/
        9        9        /* INCLUDE FILES */
       10       10        %INCLUDE CP_6;
       11       91        %INCLUDE B_ERRORS_C;
       12     1218        %INCLUDE TD$STRUCT;
       13     1319        %INCLUDE TH$HIST;
       14     1414        %INCLUDE TH_SUBS_C;
       15     1796        %INCLUDE TH_DATA_R;
       16     1874        /**/
       17     1875        /* ENTRY DEFS */
       18     1876    1   DCL THM$ERRMSG ENTRY(1);
       19     1877    1   DCL THG$GETREC ENTRY(4) ALTRET;
       20     1878    1   DCL THG$CLOSE ENTRY ALTRET;
       21     1879        /**/
       22     1880        /* DCBS */
       23     1881    1   DCL M$DEVHIST DCB;
       24     1882        /**/
       25     1883        /* VARIABLES */
       26     1884    1   DCL B$TCB$ PTR SYMREF;
       27     1885    1   DCL MODEL$ PTR;
       28     1886    1   DCL I UBIN;
       29     1887    1   DCL J UBIN;
       30     1888    1   DCL MPCX UBIN WORD;
       31     1889    1   DCL FOUND BIT(1);
       32     1890    1   DCL TH$HEAD$ PTR;
       33     1891    1   DCL MPCREC$ PTR;
       34     1892    1   DCL DEVREC$ PTR;
       35     1893    1   DCL IOM# CHAR(1) UNAL;
       36     1894    1   DCL IOM_NAME CHAR(4);
       37     1895    1   DCL MC# CHAR(1) UNAL;
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:2    
       38     1896    1   DCL MC_NAME CHAR(8);
       39     1897    1   DCL MODEL# CHAR(8);
       40     1898    1   DCL FEP# CHAR(3) UNAL;
       41     1899    1   DCL FEP#1(0:2) REDEF FEP# CHAR(1);
       42     1900    1   DCL FEP_NAME CHAR(6);
       43     1901    1   DCL ZERO CHAR(8) CONSTANT INIT('0       '); /* USED FOR GETREC CALLS          */
       44     1902        /**/
       45     1903        /* TABLE DEFINITIONS */
       46     1904        %MACRO TBL (NAME=JUNK,
       47     1905                   NUM=JUNK,
       48     1906                   COUNT=JUNK,
       49     1907                  STCLASS="STATIC SYMDEF ALIGNED");
       50     1908        DCL 1 NAME STCLASS,
       51     1909              2 NUM UBIN BYTE UNAL,
       52     1910               2 DEVNM(0:COUNT) CHAR(8) UNAL;
       53     1911        %MEND;
       54     1912        %TBL (NAME=MC_TBL,NUM=NUMIOMS,COUNT=%MC_MAX);
       55     1917        %TBL (NAME=IOM_TBL,NUM=NUMIOMS,COUNT=%IOM_MAX);
       56     1922        %TBL (NAME=UC_TBL,NUM=NUMUCS,COUNT=%UCS_MAX);
       57     1927        %TBL (NAME=TC_TBL,NUM=NUMTCS,COUNT=%TCS_MAX);
       58     1932        %TBL (NAME=DC_TBL,NUM=NUMDCS,COUNT=%DCS_MAX);
       59     1937        %TBL (NAME=AC_TBL,NUM=NUMACS,COUNT=%ACS_MAX);
       60     1942        %TBL (NAME=OPC_TBL,NUM=NUMOPCS,COUNT=%OPC_MAX);
       61     1947        %TBL (NAME=FEP_TBL,NUM=NUMFEPS,COUNT=%FEP_MAX);
       62     1952        %TBL (NAME=AP_TBL,NUM=NUMAPS,COUNT=%APS_MAX);
       63     1957        %TBL (NAME=OD_TBL,NUM=NUMODS,COUNT=%ODS_MAX);
       64     1962        %TBL (NAME=LP_TBL,NUM=NUMLPS,COUNT=%LPS_MAX);
       65     1967        %TBL (NAME=CR_TBL,NUM=NUMCRS,COUNT=%CRS_MAX);
       66     1972        %TBL (NAME=CP_TBL,NUM=NUMCPS,COUNT=%CPS_MAX);
       67     1977        %TBL (NAME=DP_TBL,NUM=NUMDPS,COUNT=%DPS_MAX);
       68     1982        %TBL (NAME=MT_TBL,NUM=NUMMTS,COUNT=%MTS_MAX);
       69     1987        %TBL (NAME=XX_TBL,NUM=NUMXXS,COUNT=%XXS_MAX);
       70     1992        %TBL (NAME=SC_TBL,NUM=NUMSCS,COUNT=%SCS_MAX);
       71     1997        %TBL (NAME=MPC_TBL,NUM=NUMMPCS,COUNT=%MPC_MAX);
       72     2002        /**/
       73     2003    1   DCL 1 CLASS_TABLE(0:%NCLASSM1) CONSTANT SYMDEF ALIGNED,
       74     2004    1         2 TXT CHAR(8) INIT('IOM     ',
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:3    
       75     2005    1                            'MC      ',
       76     2006    1                            'UC      ',
       77     2007    1                            'TC      ',
       78     2008    1                            'DC      ',
       79     2009    1                            'AC      ',
       80     2010    1                            'OPTC    ',
       81     2011    1                            'FEP     ',
       82     2012    1                            'LP      ',
       83     2013    1                            'CR      ',
       84     2014    1                            'CP      ',
       85     2015    1                            'DP      ',
       86     2016    1                            'MT      ',
       87     2017    1                            'XX      ',
       88     2018    1                            'AP      ',
       89     2019    1                            'OD      ',
       90     2020    1                            'SC      ',
       91     2021    1                            'MPC     '),
       92     2022    1         2 PTR$ PTR INIT(ADDR(IOM_TBL),
       93     2023    1                         ADDR(MC_TBL),
       94     2024    1                         ADDR(UC_TBL),
       95     2025    1                         ADDR(TC_TBL),
       96     2026    1                         ADDR(DC_TBL),
       97     2027    1                         ADDR(AC_TBL),
       98     2028    1                         ADDR(OPC_TBL),
       99     2029    1                         ADDR(FEP_TBL),
      100     2030    1                         ADDR(LP_TBL),
      101     2031    1                         ADDR(CR_TBL),
      102     2032    1                         ADDR(CP_TBL),
      103     2033    1                         ADDR(DP_TBL),
      104     2034    1                         ADDR(MT_TBL),
      105     2035    1                         ADDR(XX_TBL),
      106     2036    1                         ADDR(AP_TBL),
      107     2037    1                         ADDR(OD_TBL),
      108     2038    1                         ADDR(SC_TBL),
      109     2039    1                         ADDR(MPC_TBL));
      110     2040        %MACRO MODEL (NAME=JUNK,STCLASS="STATIC SYMDEF ALIGNED");
      111     2041        DCL 1 NAME STCLASS,
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:4    
      112     2042              2 MOD# CHAR(8) UNAL,
      113     2043              2 NUMDEVS UBIN BYTE UNAL INIT(0),
      114     2044              2 DEVNM(0:200) CHAR(8) UNAL;
      115     2045        %MEND;
      116     2046        %MODEL (NAME=MDL_TBL0);
      117     2052        %MODEL (NAME=MDL_TBL1);
      118     2058        %MODEL (NAME=MDL_TBL2);
      119     2064        %MODEL (NAME=MDL_TBL3);
      120     2070        %MODEL (NAME=MDL_TBL4);
      121     2076        %MODEL (NAME=MDL_TBL5);
      122     2082        %MODEL (NAME=MDL_TBL6);
      123     2088        %MODEL (NAME=MDL_TBL7);
      124     2094        %MODEL (NAME=MDL_TBL8);
      125     2100        %MODEL (NAME=MDL_TBL9);
      126     2106        %MODEL (NAME=MDL_TBL10);
      127     2112        %MODEL (NAME=MDL_TBL11);
      128     2118        %MODEL (NAME=MDL_TBL12);
      129     2124        %MODEL (NAME=MDL_TBL13);
      130     2130        %MODEL (NAME=MDL_TBL14);
      131     2136        %MODEL (NAME=MDL_TBL15);
      132     2142        %MODEL (NAME=MDL_TBL16);
      133     2148        %MODEL (NAME=MDL_TBL17);
      134     2154        %MODEL (NAME=MDL_TBL18);
      135     2160        %MODEL (NAME=MDL_TBL19);
      136     2166        %MODEL (NAME=MDL_TBL20);
      137     2172        %MODEL (NAME=MDL_TBL21);
      138     2178        %MODEL (NAME=MDL_TBL22);
      139     2184        %MODEL (NAME=MDL_TBL23);
      140     2190        %MODEL (NAME=MDL_TBL24);
      141     2196        %MODEL (NAME=MDL_TBL25);
      142     2202        %MODEL (NAME=MDL_TBL26);
      143     2208        %MODEL (NAME=MDL_TBL27);
      144     2214        %MODEL (NAME=MDL_TBL28);
      145     2220        %MODEL (NAME=MDL_TBL29);
      146     2226        %MODEL (NAME=MDL_TBL30);
      147     2232
      148     2233        %EQU NUM_MODELS = 30;
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:5    
      149     2234    1   DCL MODEL_PTR$(0:%NUM_MODELS) PTR CONSTANT SYMDEF INIT(ADDR(MDL_TBL0),
      150     2235    1                                        ADDR(MDL_TBL1),
      151     2236    1                                        ADDR(MDL_TBL2),
      152     2237    1                                        ADDR(MDL_TBL3),
      153     2238    1                                        ADDR(MDL_TBL4),
      154     2239    1                                        ADDR(MDL_TBL5),
      155     2240    1                                        ADDR(MDL_TBL6),
      156     2241    1                                        ADDR(MDL_TBL7),
      157     2242    1                                        ADDR(MDL_TBL8),
      158     2243    1                                        ADDR(MDL_TBL9),
      159     2244    1                                        ADDR(MDL_TBL10),
      160     2245    1                                        ADDR(MDL_TBL11),
      161     2246    1                                        ADDR(MDL_TBL12),
      162     2247    1                                        ADDR(MDL_TBL13),
      163     2248    1                                        ADDR(MDL_TBL14),
      164     2249    1                                        ADDR(MDL_TBL15),
      165     2250    1                                        ADDR(MDL_TBL16),
      166     2251    1                                        ADDR(MDL_TBL17),
      167     2252    1                                        ADDR(MDL_TBL18),
      168     2253    1                                        ADDR(MDL_TBL19),
      169     2254    1                                        ADDR(MDL_TBL20),
      170     2255    1                                        ADDR(MDL_TBL21),
      171     2256    1                                        ADDR(MDL_TBL22),
      172     2257    1                                        ADDR(MDL_TBL23),
      173     2258    1                                        ADDR(MDL_TBL24),
      174     2259    1                                        ADDR(MDL_TBL25),
      175     2260    1                                        ADDR(MDL_TBL26),
      176     2261    1                                        ADDR(MDL_TBL27),
      177     2262    1                                        ADDR(MDL_TBL28),
      178     2263    1                                        ADDR(MDL_TBL29),
      179     2264    1                                        ADDR(MDL_TBL30));
      180     2265    1   DCL 1 MDL_TBL BASED(MODEL$),
      181     2266    1         2 MOD# CHAR(8) UNAL,
      182     2267    1         2 NUMDEVS UBIN BYTE UNAL,
      183     2268    1         2 DEVNM(0:200) CHAR(8) UNAL;
      184     2269        /**/
      185     2270        %TD$HEAD (NAME=TH_HEAD,STCLASS=AUTO,NUMDEV#=511);
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:6    
      186     2306        %TD$HEAD (NAME=TH$HEAD,NUMDEV#=511);
      187     2342        %TH$DEV (NAME=TH$DEV);
      188     2363        %TH$DEV (NAME=DEVREC,STCLASS=AUTO);
      189     2384        %TH$MPC (NAME=TH$MPC,NUMDEV#=32);
      190     2405        %TH$MPC (NAME=MPCREC,STCLASS=AUTO);
      191     2426        %B$TCB;
      192     2429        %B$ALT;
      193     2437        %EJECT;
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:7    
      194     2438    1        TH_NUM_DEVS = 0;
      195     2439    1        CALL THG$GETREC(%DEVHIST,ZERO) ALTRET(NO_HEAD); /* GET HEAD RECORD       */
      196     2440    1        TH_HEAD = TH_RECORD.PTR$->TH$HEAD;
      197     2441    2        DO NEVER;
      198     2442    2   NO_HEAD:
      199     2443    2           TH_HEAD = '0'B;
      200     2444    2           IF B$TCB$->B$TCB.ALT$->B$ALT.ERR.CODE ~= %E$NOFILE
      201     2445    2              THEN CALL THM$ERRMSG;
      202     2446    2        END;                               /* DO NEVER                           */
      203     2447    1        IOM_TBL.NUMIOMS = TH_HEAD.NUMIOMS;
      204     2448    1        UC_TBL.NUMUCS = TH_HEAD.NUMUNITMPCS;
      205     2449    1        TC_TBL.NUMTCS = TH_HEAD.NUMTAPEMPCS;
      206     2450    1        DC_TBL.NUMDCS = TH_HEAD.NUMDISKMPCS;
      207     2451    1        AC_TBL.NUMACS = TH_HEAD.NUMAPMPCS;
      208     2452    1        OPC_TBL.NUMOPCS = TH_HEAD.NUMOPCS;
      209     2453    1        MPC_TBL.NUMMPCS = TH_HEAD.NUMDISKMPCS + TH_HEAD.NUMTAPEMPCS +
      210     2454    1                          TH_HEAD.NUMUNITMPCS +
      211     2455    1                          TH_HEAD.NUMAPMPCS + TH_HEAD.NUMOPCS;
      212     2456    1        FEP_TBL.NUMFEPS = TH_HEAD.NUMFEPS;
      213     2457    1        LP_TBL.NUMLPS = TH_HEAD.NUMLPS;
      214     2458    1        CR_TBL.NUMCRS = TH_HEAD.NUMCRS;
      215     2459    1        CP_TBL.NUMCPS = TH_HEAD.NUMCPS;
      216     2460    1        DP_TBL.NUMDPS = TH_HEAD.NUMDPS;
      217     2461    1        MT_TBL.NUMMTS = TH_HEAD.NUMMTS;
      218     2462    1        XX_TBL.NUMXXS = TH_HEAD.NUMXXS;
      219     2463    1        AP_TBL.NUMAPS = TH_HEAD.NUMAPS;
      220     2464    1        OD_TBL.NUMODS = TH_HEAD.NUMODS;
      221     2465    1        SC_TBL.NUMSCS = TH_HEAD.NUMCONSOLES;
      222     2466    1        MC_TBL.NUMIOMS = 4;
      223     2467
      224     2468                                                /* SET IOM TABLE                      */
      225     2469    2        DO I = 0 TO MC_TBL.NUMIOMS - 1;
      226     2470    2           CALL BINCHAR(MC#,I);
      227     2471    2           CALL CONCAT(MC_NAME,'MC0',MC#,'0000');
      228     2472    2           MC_TBL.DEVNM(I) = MC_NAME;
      229     2473    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = MC_NAME;
      230     2474    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:8    
      231     2475    2        END;
      232     2476
      233     2477    2        DO I = 0 TO IOM_TBL.NUMIOMS - 1;
      234     2478    2           CALL BINCHAR(IOM#,I);
      235     2479    2           CALL CONCAT(IOM_NAME,'IOM',IOM#);
      236     2480    2           IOM_TBL.DEVNM(I) = IOM_NAME;
      237     2481    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = IOM_NAME;
      238     2482    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      239     2483    2        END;                               /* DO I                               */
      240     2484
      241     2485                                                /* SET UC_TBL                         */
      242     2486    1        J = 0;
      243     2487    1        MPCX = 0;
      244     2488    2        DO I = TH_HEAD.UNITMPC_INDX TO TH_HEAD.UNITMPC_INDX + TH_HEAD.NUMUNITMPCS - 1;
      245     2489    2           UC_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);
      246     2490    2           J = J + 1;
      247     2491    2           MPC_TBL.DEVNM(MPCX) = TH_HEAD.DEVNAME(I);
      248     2492    2           MPCX = MPCX + 1;
      249     2493    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);
      250     2494    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      251     2495    2        END;                               /* DO I                               */
      252     2496
      253     2497                                                /* SET TC_TBL                         */
      254     2498    1        J = 0;
      255     2499    2        DO I = TH_HEAD.TAPEMPC_INDX TO TH_HEAD.TAPEMPC_INDX + TH_HEAD.NUMTAPEMPCS - 1;
      256     2500    2           TC_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);
      257     2501    2           J = J + 1;
      258     2502    2           MPC_TBL.DEVNM(MPCX) = TH_HEAD.DEVNAME(I);
      259     2503    2           MPCX = MPCX + 1;
      260     2504    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);
      261     2505    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      262     2506    2        END;                               /* DO I                               */
      263     2507
      264     2508                                                /* SET DC_TBL                         */
      265     2509    1        J = 0;
      266     2510    2        DO I = TH_HEAD.DISKMPC_INDX TO TH_HEAD.DISKMPC_INDX + TH_HEAD.NUMDISKMPCS - 1;
      267     2511    2           DC_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:9    
      268     2512    2           J = J + 1;
      269     2513    2           MPC_TBL.DEVNM(MPCX) = TH_HEAD.DEVNAME(I);
      270     2514    2           MPCX = MPCX + 1;
      271     2515    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);
      272     2516    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      273     2517    2        END;                               /* DO I                               */
      274     2518
      275     2519                                                /* SET AC_TBL                         */
      276     2520    1        J = 0;
      277     2521    2        DO I = TH_HEAD.APMPC_INDX TO TH_HEAD.APMPC_INDX + TH_HEAD.NUMAPMPCS - 1;
      278     2522    2           AC_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);
      279     2523    2           J = J + 1;
      280     2524    2           MPC_TBL.DEVNM(MPCX) = TH_HEAD.DEVNAME(I);
      281     2525    2           MPCX = MPCX + 1;
      282     2526    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);
      283     2527    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      284     2528    2        END;                               /* DO I                               */
      285     2529
      286     2530                                                /* SET OPC_TBL                         */
      287     2531    1        J = 0;
      288     2532    2        DO I = TH_HEAD.OPC_INDX TO TH_HEAD.OPC_INDX + TH_HEAD.NUMOPCS - 1;
      289     2533    2           OPC_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);
      290     2534    2           J = J + 1;
      291     2535    2           MPC_TBL.DEVNM(MPCX) = TH_HEAD.DEVNAME(I);
      292     2536    2           MPCX = MPCX + 1;
      293     2537    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);
      294     2538    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      295     2539    2        END;                               /* DO I                               */
      296     2540
      297     2541                                                /* SET FEP_TBL                        */
      298     2542    1        J = 0;
      299     2543    2   DO I = 1 TO %FEP_MAX;
      300     2544    2           FEP# = ' ';
      301     2545    2           CALL BINCHAR(FEP#,I);
      302     2546    2   IF (FEP#1(0) = '0' AND FEP#1(1) = '0')
      303     2547    2     THEN CALL CONCAT(FEP_NAME,'FEP',FEP#1(2));
      304     2548    2     ELSE IF (FEP#1(0) = '0')
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:10   
      305     2549    2     THEN CALL CONCAT(FEP_NAME,'FEP',FEP#1(1),FEP#1(2));
      306     2550    2     ELSE CALL CONCAT(FEP_NAME,'FEP',FEP#);
      307     2551    2           FEP_TBL.DEVNM(J) = FEP_NAME;
      308     2552    2           J = J + 1;
      309     2553    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = FEP_NAME;
      310     2554    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      311     2555    2        END;                               /* DO I                               */
      312     2556
      313     2557                                                /* SET LP_TBL                         */
      314     2558    1        J = 0;
      315     2559    2        DO I = TH_HEAD.LP_INDX TO TH_HEAD.LP_INDX + TH_HEAD.NUMLPS - 1;
      316     2560    2           LP_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);
      317     2561    2           J = J + 1;
      318     2562    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);
      319     2563    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      320     2564    2        END;                               /* DO I                               */
      321     2565
      322     2566                                                /* SET CR_TBL                         */
      323     2567    1        J = 0;
      324     2568    2        DO I = TH_HEAD.CR_INDX TO TH_HEAD.CR_INDX + TH_HEAD.NUMCRS - 1;
      325     2569    2           CR_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);
      326     2570    2           J = J + 1;
      327     2571    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);
      328     2572    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      329     2573    2        END;                               /* DO I                               */
      330     2574
      331     2575                                                /* SET CP_TBL                         */
      332     2576    1        J = 0;
      333     2577    2        DO I = TH_HEAD.CP_INDX TO TH_HEAD.CP_INDX + TH_HEAD.NUMCPS - 1;
      334     2578    2           CP_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);
      335     2579    2           J = J + 1;
      336     2580    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);
      337     2581    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      338     2582    2        END;                               /* DO I                               */
      339     2583
      340     2584                                                /* SET DP_TBL                         */
      341     2585    1        J = 0;
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:11   
      342     2586    2        DO I = TH_HEAD.DP_INDX TO TH_HEAD.DP_INDX + TH_HEAD.NUMDPS - 1;
      343     2587    2           DP_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);
      344     2588    2           J = J + 1;
      345     2589    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);
      346     2590    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      347     2591    2        END;                               /* DO I                               */
      348     2592
      349     2593                                                /* SET MT_TBL                         */
      350     2594    1        J = 0;
      351     2595    2        DO I = TH_HEAD.MT_INDX TO TH_HEAD.MT_INDX + TH_HEAD.NUMMTS - 1;
      352     2596    2           MT_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);
      353     2597    2           J = J + 1;
      354     2598    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);
      355     2599    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      356     2600    2        END;                               /* DO I                               */
      357     2601
      358     2602                                                /* SET XX_TBL , (old 7T table)        */
      359     2603    1        J = 0;
      360     2604    2        DO I = TH_HEAD.XX_INDX TO TH_HEAD.XX_INDX + TH_HEAD.NUMXXS - 1;
      361     2605    2           XX_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);
      362     2606    2           J = J + 1;
      363     2607    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);
      364     2608    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      365     2609    2        END;                               /* DO I                               */
      366     2610
      367     2611                                                /* SET AP_TBL                         */
      368     2612    1        J = 0;
      369     2613    2        DO I = TH_HEAD.AP_INDX TO TH_HEAD.AP_INDX + TH_HEAD.NUMAPS - 1;
      370     2614    2           AP_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);
      371     2615    2           J = J + 1;
      372     2616    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);
      373     2617    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      374     2618    2        END;                               /* DO I                               */
      375     2619
      376     2620                                                /* SET OD_TBL                         */
      377     2621    1        J = 0;
      378     2622    2        DO I = TH_HEAD.OD_INDX TO TH_HEAD.OD_INDX + TH_HEAD.NUMODS - 1;
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:12   
      379     2623    2           OD_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);
      380     2624    2           J = J + 1;
      381     2625    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);
      382     2626    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      383     2627    2        END;                               /* DO I                               */
      384     2628             /* SET SC_TBL */
      385     2629    1        J = 0;
      386     2630    2        DO I = TH_HEAD.CONSOLE_INDX TO TH_HEAD.CONSOLE_INDX + TH_HEAD.NUMCONSOLES - 1;
      387     2631    2           SC_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);
      388     2632    2           J = J + 1;
      389     2633    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);
      390     2634    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;
      391     2635    2           END;  /* DO I */
      392     2636                                                /* SET MODEL TABLES                   */
      393     2637    1        TH_NUM_MODS = 0;
      394     2638    2        DO I = 0 TO TH_NUM_DEVS - 1;
      395     2639    2           FOUND = %FALSE;
      396     2640    2           CALL THG$GETREC(%DEVHIST,TH_SYS_DEVS.DEVN(I),-1,1) ALTRET(ENDLOOP);
      397     2641    2           IF (SUBSTR(TH_SYS_DEVS.DEVN(I),0,2) = 'UC') OR
      398     2642    2              (SUBSTR(TH_SYS_DEVS.DEVN(I),0,2) = 'TC') OR
      399     2643    2              (SUBSTR(TH_SYS_DEVS.DEVN(I),0,2) = 'AC') OR
      400     2644    2              (SUBSTR(TH_SYS_DEVS.DEVN(I),0,2) = 'OP') OR
      401     2645    2              (SUBSTR(TH_SYS_DEVS.DEVN(I),0,2) = 'DC')
      402     2646    2              THEN                         /* MPC RECORD                         */
      403     2647    3              DO;
      404     2648    3                 MPCREC = TH_RECORD.PTR$->TH$MPC;
      405     2649    3                 MODEL# = MPCREC.MODEL;
      406     2650    3              END;
      407     2651    2              ELSE
      408     2652    2           IF SUBSTR(TH_SYS_DEVS.DEVN(I),0,2) = 'SC'
      409     2653    2              THEN MODEL# = 'CONSOLE ';
      410     2654    2              ELSE
      411     2655    2           IF SUBSTR(TH_SYS_DEVS.DEVN(I),0,3) = 'FEP' OR
      412     2656    2              SUBSTR(TH_SYS_DEVS.DEVN(I),0,3) = 'IOM' OR
      413     2657    2              SUBSTR(TH_SYS_DEVS.DEVN(I),0,2) = 'MC'
      414     2658    2              THEN GOTO ENDLOOP;        /* FEP OR IOM RECORD - IGNORE IT             */
      415     2659    2              ELSE                         /* DEVICE RECORD                      */
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:13   
      416     2660    3              DO;
      417     2661    3                 DEVREC = TH_RECORD.PTR$->TH$DEV;
      418     2662    3                 MODEL# = DEVREC.MODEL;
      419     2663    3                 TH_SYS_DEVS.MODEL(I) = DEVREC.MODEL;
      420     2664    3              END;                         /* IF                                 */
      421     2665    3           DO J = 0 TO TH_NUM_MODS - 1;
      422     2666    3              MODEL$ = MODEL_PTR$(J);
      423     2667    3              IF MDL_TBL.MOD# = MODEL#
      424     2668    3                 THEN                      /* ADD DEVICE TO THIS MOD# LIST       */
      425     2669    4                 DO;
      426     2670    4                    MDL_TBL.DEVNM(MDL_TBL.NUMDEVS) = TH_SYS_DEVS.DEVN(I);
      427     2671    4                    MDL_TBL.NUMDEVS = MDL_TBL.NUMDEVS + 1;
      428     2672    4                    FOUND = %TRUE;
      429     2673    4                 END;                      /* IF                                 */
      430     2674    3           END;                            /* DO J = O TO TH_NUM_MODS            */
      431     2675    2           IF NOT FOUND
      432     2676    2              THEN                         /* ENTER NEW MOD# INTO LIST           */
      433     2677    3              DO;
      434     2678    3                 TH_NUM_MODS = TH_NUM_MODS + 1;
      435     2679    3                 MODEL$ = MODEL_PTR$(TH_NUM_MODS-1);
      436     2680    3                 MDL_TBL.NUMDEVS = 1;
      437     2681    3                 MDL_TBL.MOD# = MODEL#;
      438     2682    3                 MDL_TBL.DEVNM(0) = TH_SYS_DEVS.DEVN(I);
      439     2683    3              END;                         /* IF NOT FOUND                       */
      440     2684    2   ENDLOOP:
      441     2685    2        END;                               /* DO I = 0 TO TH_NUM_DEVS - 1          */
      442     2686    1        CALL THG$CLOSE;
      443     2687
      444     2688    1   END THI$INIT;

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:14   
--  Include file information  --

   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   TH$HIST.:E05TOU  is referenced.
   TD$STRUCT.:E05TOU  is referenced.
   B_ERRORS_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THI$INIT.

   Procedure THI$INIT requires 947 words for executable code.
   Procedure THI$INIT requires 1110 words of local(AUTO) storage.

    No errors detected in file THI$INIT.:E05TSI    .

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:15   

 Object Unit name= THI$INIT                                   File name= THI$INIT.:E05TOU
 UTS= JUL 30 '97 06:15:39.68 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none     0      0  M$DEVHIST
    2  RoData even  UTS     99    143  THI$INIT
    3   Data  even  none 14761  34651  THI$INIT
    4   Proc  even  none   947   1663  THI$INIT
    5  RoData even  none     7      7  THI$INIT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     4      0   yes            yes      Std        0  THI$INIT
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:16   

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    3      0  MC_TBL                             3     13  IOM_TBL
    3     26  UC_TBL                             3     41  TC_TBL
    3     64  DC_TBL                             3    127  AC_TBL
    3    172  OPC_TBL                            3    235  FEP_TBL
    3   1240  AP_TBL                             3   1303  OD_TBL
    3   1506  LP_TBL                             3   1611  CR_TBL
    3   1714  CP_TBL                             3   1737  DP_TBL
    3   2742  MT_TBL                             3   3345  XX_TBL
    3   3350  SC_TBL                             3   4173  MPC_TBL
    2      2  CLASS_TABLE                        3   4236  MDL_TBL0
    3   5063  MDL_TBL1                           3   5710  MDL_TBL2
    3   6535  MDL_TBL3                           3   7362  MDL_TBL4
    3  10207  MDL_TBL5                           3  11034  MDL_TBL6
    3  11661  MDL_TBL7                           3  12506  MDL_TBL8
    3  13333  MDL_TBL9                           3  14160  MDL_TBL10
    3  15005  MDL_TBL11                          3  15632  MDL_TBL12
    3  16457  MDL_TBL13                          3  17304  MDL_TBL14
    3  20131  MDL_TBL15                          3  20756  MDL_TBL16
    3  21603  MDL_TBL17                          3  22430  MDL_TBL18
    3  23255  MDL_TBL19                          3  24102  MDL_TBL20
    3  24727  MDL_TBL21                          3  25554  MDL_TBL22
    3  26401  MDL_TBL23                          3  27226  MDL_TBL24
    3  30053  MDL_TBL25                          3  30700  MDL_TBL26
    3  31525  MDL_TBL27                          3  32352  MDL_TBL28
    3  33177  MDL_TBL29                          3  34024  MDL_TBL30
    2     70  MODEL_PTR$
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:17   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       4 THG$GETREC
         yes           Std       1 THM$ERRMSG
 yes     yes           Std       0 THG$CLOSE
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  TH_SYS_DEVS                           TH_NUM_MODS
     TH_NUM_DEVS                           TH_RECORD                             TH_XSA_BUF_VECTOR
     M$DEVHIST                             B$TCB$                                B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:18   


        1        1        /*M* THI$INIT - INTERNAL COMPONENT TABLE BUILDER FOR ELAN */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        THI$INIT: PROC;

      7  4 000000   000000 700200 xent  THI$INIT     TSX0  ! X66_AUTO_0
         4 000001   002126 000000                    ZERO    1110,0

        8        8        /**/
        9        9        /* INCLUDE FILES */
       10       10        %INCLUDE CP_6;
       11       91        %INCLUDE B_ERRORS_C;
       12     1218        %INCLUDE TD$STRUCT;
       13     1319        %INCLUDE TH$HIST;
       14     1414        %INCLUDE TH_SUBS_C;
       15     1796        %INCLUDE TH_DATA_R;
       16     1874        /**/
       17     1875        /* ENTRY DEFS */
       18     1876    1   DCL THM$ERRMSG ENTRY(1);
       19     1877    1   DCL THG$GETREC ENTRY(4) ALTRET;
       20     1878    1   DCL THG$CLOSE ENTRY ALTRET;
       21     1879        /**/
       22     1880        /* DCBS */
       23     1881    1   DCL M$DEVHIST DCB;
       24     1882        /**/
       25     1883        /* VARIABLES */
       26     1884    1   DCL B$TCB$ PTR SYMREF;
       27     1885    1   DCL MODEL$ PTR;
       28     1886    1   DCL I UBIN;
       29     1887    1   DCL J UBIN;
       30     1888    1   DCL MPCX UBIN WORD;
       31     1889    1   DCL FOUND BIT(1);
       32     1890    1   DCL TH$HEAD$ PTR;
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:19   
       33     1891    1   DCL MPCREC$ PTR;
       34     1892    1   DCL DEVREC$ PTR;
       35     1893    1   DCL IOM# CHAR(1) UNAL;
       36     1894    1   DCL IOM_NAME CHAR(4);
       37     1895    1   DCL MC# CHAR(1) UNAL;
       38     1896    1   DCL MC_NAME CHAR(8);
       39     1897    1   DCL MODEL# CHAR(8);
       40     1898    1   DCL FEP# CHAR(3) UNAL;
       41     1899    1   DCL FEP#1(0:2) REDEF FEP# CHAR(1);
       42     1900    1   DCL FEP_NAME CHAR(6);
       43     1901    1   DCL ZERO CHAR(8) CONSTANT INIT('0       '); /* USED FOR GETREC CALLS          */
       44     1902        /**/
       45     1903        /* TABLE DEFINITIONS */
       46     1904        %MACRO TBL (NAME=JUNK,
       47     1905                   NUM=JUNK,
       48     1906                   COUNT=JUNK,
       49     1907                  STCLASS="STATIC SYMDEF ALIGNED");
       50     1908        DCL 1 NAME STCLASS,
       51     1909              2 NUM UBIN BYTE UNAL,
       52     1910               2 DEVNM(0:COUNT) CHAR(8) UNAL;
       53     1911        %MEND;
       54     1912        %TBL (NAME=MC_TBL,NUM=NUMIOMS,COUNT=%MC_MAX);
       55     1917        %TBL (NAME=IOM_TBL,NUM=NUMIOMS,COUNT=%IOM_MAX);
       56     1922        %TBL (NAME=UC_TBL,NUM=NUMUCS,COUNT=%UCS_MAX);
       57     1927        %TBL (NAME=TC_TBL,NUM=NUMTCS,COUNT=%TCS_MAX);
       58     1932        %TBL (NAME=DC_TBL,NUM=NUMDCS,COUNT=%DCS_MAX);
       59     1937        %TBL (NAME=AC_TBL,NUM=NUMACS,COUNT=%ACS_MAX);
       60     1942        %TBL (NAME=OPC_TBL,NUM=NUMOPCS,COUNT=%OPC_MAX);
       61     1947        %TBL (NAME=FEP_TBL,NUM=NUMFEPS,COUNT=%FEP_MAX);
       62     1952        %TBL (NAME=AP_TBL,NUM=NUMAPS,COUNT=%APS_MAX);
       63     1957        %TBL (NAME=OD_TBL,NUM=NUMODS,COUNT=%ODS_MAX);
       64     1962        %TBL (NAME=LP_TBL,NUM=NUMLPS,COUNT=%LPS_MAX);
       65     1967        %TBL (NAME=CR_TBL,NUM=NUMCRS,COUNT=%CRS_MAX);
       66     1972        %TBL (NAME=CP_TBL,NUM=NUMCPS,COUNT=%CPS_MAX);
       67     1977        %TBL (NAME=DP_TBL,NUM=NUMDPS,COUNT=%DPS_MAX);
       68     1982        %TBL (NAME=MT_TBL,NUM=NUMMTS,COUNT=%MTS_MAX);
       69     1987        %TBL (NAME=XX_TBL,NUM=NUMXXS,COUNT=%XXS_MAX);
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:20   
       70     1992        %TBL (NAME=SC_TBL,NUM=NUMSCS,COUNT=%SCS_MAX);
       71     1997        %TBL (NAME=MPC_TBL,NUM=NUMMPCS,COUNT=%MPC_MAX);
       72     2002        /**/
       73     2003    1   DCL 1 CLASS_TABLE(0:%NCLASSM1) CONSTANT SYMDEF ALIGNED,
       74     2004    1         2 TXT CHAR(8) INIT('IOM     ',
       75     2005    1                            'MC      ',
       76     2006    1                            'UC      ',
       77     2007    1                            'TC      ',
       78     2008    1                            'DC      ',
       79     2009    1                            'AC      ',
       80     2010    1                            'OPTC    ',
       81     2011    1                            'FEP     ',
       82     2012    1                            'LP      ',
       83     2013    1                            'CR      ',
       84     2014    1                            'CP      ',
       85     2015    1                            'DP      ',
       86     2016    1                            'MT      ',
       87     2017    1                            'XX      ',
       88     2018    1                            'AP      ',
       89     2019    1                            'OD      ',
       90     2020    1                            'SC      ',
       91     2021    1                            'MPC     '),
       92     2022    1         2 PTR$ PTR INIT(ADDR(IOM_TBL),
       93     2023    1                         ADDR(MC_TBL),
       94     2024    1                         ADDR(UC_TBL),
       95     2025    1                         ADDR(TC_TBL),
       96     2026    1                         ADDR(DC_TBL),
       97     2027    1                         ADDR(AC_TBL),
       98     2028    1                         ADDR(OPC_TBL),
       99     2029    1                         ADDR(FEP_TBL),
      100     2030    1                         ADDR(LP_TBL),
      101     2031    1                         ADDR(CR_TBL),
      102     2032    1                         ADDR(CP_TBL),
      103     2033    1                         ADDR(DP_TBL),
      104     2034    1                         ADDR(MT_TBL),
      105     2035    1                         ADDR(XX_TBL),
      106     2036    1                         ADDR(AP_TBL),
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:21   
      107     2037    1                         ADDR(OD_TBL),
      108     2038    1                         ADDR(SC_TBL),
      109     2039    1                         ADDR(MPC_TBL));
      110     2040        %MACRO MODEL (NAME=JUNK,STCLASS="STATIC SYMDEF ALIGNED");
      111     2041        DCL 1 NAME STCLASS,
      112     2042              2 MOD# CHAR(8) UNAL,
      113     2043              2 NUMDEVS UBIN BYTE UNAL INIT(0),
      114     2044              2 DEVNM(0:200) CHAR(8) UNAL;
      115     2045        %MEND;
      116     2046        %MODEL (NAME=MDL_TBL0);
      117     2052        %MODEL (NAME=MDL_TBL1);
      118     2058        %MODEL (NAME=MDL_TBL2);
      119     2064        %MODEL (NAME=MDL_TBL3);
      120     2070        %MODEL (NAME=MDL_TBL4);
      121     2076        %MODEL (NAME=MDL_TBL5);
      122     2082        %MODEL (NAME=MDL_TBL6);
      123     2088        %MODEL (NAME=MDL_TBL7);
      124     2094        %MODEL (NAME=MDL_TBL8);
      125     2100        %MODEL (NAME=MDL_TBL9);
      126     2106        %MODEL (NAME=MDL_TBL10);
      127     2112        %MODEL (NAME=MDL_TBL11);
      128     2118        %MODEL (NAME=MDL_TBL12);
      129     2124        %MODEL (NAME=MDL_TBL13);
      130     2130        %MODEL (NAME=MDL_TBL14);
      131     2136        %MODEL (NAME=MDL_TBL15);
      132     2142        %MODEL (NAME=MDL_TBL16);
      133     2148        %MODEL (NAME=MDL_TBL17);
      134     2154        %MODEL (NAME=MDL_TBL18);
      135     2160        %MODEL (NAME=MDL_TBL19);
      136     2166        %MODEL (NAME=MDL_TBL20);
      137     2172        %MODEL (NAME=MDL_TBL21);
      138     2178        %MODEL (NAME=MDL_TBL22);
      139     2184        %MODEL (NAME=MDL_TBL23);
      140     2190        %MODEL (NAME=MDL_TBL24);
      141     2196        %MODEL (NAME=MDL_TBL25);
      142     2202        %MODEL (NAME=MDL_TBL26);
      143     2208        %MODEL (NAME=MDL_TBL27);
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:22   
      144     2214        %MODEL (NAME=MDL_TBL28);
      145     2220        %MODEL (NAME=MDL_TBL29);
      146     2226        %MODEL (NAME=MDL_TBL30);
      147     2232
      148     2233        %EQU NUM_MODELS = 30;
      149     2234    1   DCL MODEL_PTR$(0:%NUM_MODELS) PTR CONSTANT SYMDEF INIT(ADDR(MDL_TBL0),
      150     2235    1                                        ADDR(MDL_TBL1),
      151     2236    1                                        ADDR(MDL_TBL2),
      152     2237    1                                        ADDR(MDL_TBL3),
      153     2238    1                                        ADDR(MDL_TBL4),
      154     2239    1                                        ADDR(MDL_TBL5),
      155     2240    1                                        ADDR(MDL_TBL6),
      156     2241    1                                        ADDR(MDL_TBL7),
      157     2242    1                                        ADDR(MDL_TBL8),
      158     2243    1                                        ADDR(MDL_TBL9),
      159     2244    1                                        ADDR(MDL_TBL10),
      160     2245    1                                        ADDR(MDL_TBL11),
      161     2246    1                                        ADDR(MDL_TBL12),
      162     2247    1                                        ADDR(MDL_TBL13),
      163     2248    1                                        ADDR(MDL_TBL14),
      164     2249    1                                        ADDR(MDL_TBL15),
      165     2250    1                                        ADDR(MDL_TBL16),
      166     2251    1                                        ADDR(MDL_TBL17),
      167     2252    1                                        ADDR(MDL_TBL18),
      168     2253    1                                        ADDR(MDL_TBL19),
      169     2254    1                                        ADDR(MDL_TBL20),
      170     2255    1                                        ADDR(MDL_TBL21),
      171     2256    1                                        ADDR(MDL_TBL22),
      172     2257    1                                        ADDR(MDL_TBL23),
      173     2258    1                                        ADDR(MDL_TBL24),
      174     2259    1                                        ADDR(MDL_TBL25),
      175     2260    1                                        ADDR(MDL_TBL26),
      176     2261    1                                        ADDR(MDL_TBL27),
      177     2262    1                                        ADDR(MDL_TBL28),
      178     2263    1                                        ADDR(MDL_TBL29),
      179     2264    1                                        ADDR(MDL_TBL30));
      180     2265    1   DCL 1 MDL_TBL BASED(MODEL$),
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:23   
      181     2266    1         2 MOD# CHAR(8) UNAL,
      182     2267    1         2 NUMDEVS UBIN BYTE UNAL,
      183     2268    1         2 DEVNM(0:200) CHAR(8) UNAL;
      184     2269        /**/
      185     2270        %TD$HEAD (NAME=TH_HEAD,STCLASS=AUTO,NUMDEV#=511);
      186     2306        %TD$HEAD (NAME=TH$HEAD,NUMDEV#=511);
      187     2342        %TH$DEV (NAME=TH$DEV);
      188     2363        %TH$DEV (NAME=DEVREC,STCLASS=AUTO);
      189     2384        %TH$MPC (NAME=TH$MPC,NUMDEV#=32);
      190     2405        %TH$MPC (NAME=MPCREC,STCLASS=AUTO);
      191     2426        %B$TCB;
      192     2429        %B$ALT;
      193     2437        %EJECT;
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:24   
      194     2438    1        TH_NUM_DEVS = 0;

   2438  4 000002   000000 450000 xsym               STZ     TH_NUM_DEVS

      195     2439    1        CALL THG$GETREC(%DEVHIST,ZERO) ALTRET(NO_HEAD); /* GET HEAD RECORD       */

   2439  4 000003   000000 630400 5                  EPPR0   0
         4 000004   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000005   000000 701000 xent               TSX1    THG$GETREC
         4 000006   000015 702000 4                  TSX2    NO_HEAD

      196     2440    1        TH_HEAD = TH_RECORD.PTR$->TH$HEAD;

   2440  4 000007   000001 470400 xsym               LDP0    TH_RECORD+1
         4 000010   010100 220003                    LDX0    4160,DU
         4 000011   000140 100540                    MLR     fill='000'O
         4 000012   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         4 000013   200025 000010                    ADSC9   TH_HEAD,,AUTO            cn=0,n=*X0

      197     2441    2        DO NEVER;

   2441  4 000014   000032 710000 4                  TRA     s:2447

      198     2442    2   NO_HEAD:
      199     2443    2           TH_HEAD = '0'B;

   2443  4 000015   010100 220003       NO_HEAD      LDX0    4160,DU
         4 000016   000140 100400                    MLR     fill='000'O
         4 000017   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         4 000020   200025 000010                    ADSC9   TH_HEAD,,AUTO            cn=0,n=*X0

      200     2444    2           IF B$TCB$->B$TCB.ALT$->B$ALT.ERR.CODE ~= %E$NOFILE

   2444  4 000021   000000 470400 xsym               LDP0    B$TCB$
         4 000022   000000 471500                    LDP1    0,,PR0
         4 000023   100102 236100                    LDQ     66,,PR1
         4 000024   377770 376007                    ANQ     131064,DL
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:25   
         4 000025   001610 116007                    CMPQ    904,DL
         4 000026   000032 600000 4                  TZE     s:2447

      201     2445    2              THEN CALL THM$ERRMSG;

   2445  4 000027   000002 631400 xsym               EPPR1   B_VECTNIL+2
         4 000030   000000 701000 xent               TSX1    THM$ERRMSG
         4 000031   000000 011000                    NOP     0

      202     2446    2        END;                               /* DO NEVER                           */

      203     2447    1        IOM_TBL.NUMIOMS = TH_HEAD.NUMIOMS;

   2447  4 000032   200025 236100                    LDQ     TH_HEAD,,AUTO
         4 000033   000033 736000                    QLS     27
         4 000034   000013 552040 3                  STBQ    IOM_TBL,'40'O

      204     2448    1        UC_TBL.NUMUCS = TH_HEAD.NUMUNITMPCS;

   2448  4 000035   200026 236100                    LDQ     TH_HEAD+1,,AUTO
         4 000036   000033 736000                    QLS     27
         4 000037   000026 552040 3                  STBQ    UC_TBL,'40'O

      205     2449    1        TC_TBL.NUMTCS = TH_HEAD.NUMTAPEMPCS;

   2449  4 000040   200027 236100                    LDQ     TH_HEAD+2,,AUTO
         4 000041   000033 736000                    QLS     27
         4 000042   000041 552040 3                  STBQ    TC_TBL,'40'O

      206     2450    1        DC_TBL.NUMDCS = TH_HEAD.NUMDISKMPCS;

   2450  4 000043   200030 236100                    LDQ     TH_HEAD+3,,AUTO
         4 000044   000033 736000                    QLS     27
         4 000045   000064 552040 3                  STBQ    DC_TBL,'40'O

      207     2451    1        AC_TBL.NUMACS = TH_HEAD.NUMAPMPCS;

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:26   
   2451  4 000046   200031 236100                    LDQ     TH_HEAD+4,,AUTO
         4 000047   000033 736000                    QLS     27
         4 000050   000127 552040 3                  STBQ    AC_TBL,'40'O

      208     2452    1        OPC_TBL.NUMOPCS = TH_HEAD.NUMOPCS;

   2452  4 000051   200032 236100                    LDQ     TH_HEAD+5,,AUTO
         4 000052   000033 736000                    QLS     27
         4 000053   000172 552040 3                  STBQ    OPC_TBL,'40'O

      209     2453    1        MPC_TBL.NUMMPCS = TH_HEAD.NUMDISKMPCS + TH_HEAD.NUMTAPEMPCS +

   2453  4 000054   200027 236100                    LDQ     TH_HEAD+2,,AUTO
         4 000055   777777 376007                    ANQ     -1,DL
         4 000056   202116 756100                    STQ     MPCREC+18,,AUTO
         4 000057   200030 236100                    LDQ     TH_HEAD+3,,AUTO
         4 000060   777777 376007                    ANQ     -1,DL
         4 000061   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 000062   202117 756100                    STQ     MPCREC+19,,AUTO
         4 000063   200026 236100                    LDQ     TH_HEAD+1,,AUTO
         4 000064   777777 376007                    ANQ     -1,DL
         4 000065   202120 756100                    STQ     MPCREC+20,,AUTO
         4 000066   202117 236100                    LDQ     MPCREC+19,,AUTO
         4 000067   202120 036100                    ADLQ    MPCREC+20,,AUTO
         4 000070   202121 756100                    STQ     MPCREC+21,,AUTO
         4 000071   200031 236100                    LDQ     TH_HEAD+4,,AUTO
         4 000072   777777 376007                    ANQ     -1,DL
         4 000073   202122 756100                    STQ     MPCREC+22,,AUTO
         4 000074   202121 236100                    LDQ     MPCREC+21,,AUTO
         4 000075   202122 036100                    ADLQ    MPCREC+22,,AUTO
         4 000076   202123 756100                    STQ     MPCREC+23,,AUTO
         4 000077   200032 236100                    LDQ     TH_HEAD+5,,AUTO
         4 000100   777777 376007                    ANQ     -1,DL
         4 000101   202124 756100                    STQ     MPCREC+24,,AUTO
         4 000102   202123 236100                    LDQ     MPCREC+23,,AUTO
         4 000103   202124 036100                    ADLQ    MPCREC+24,,AUTO
         4 000104   000033 736000                    QLS     27
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:27   
         4 000105   004173 552040 3                  STBQ    MPC_TBL,'40'O

      210     2454    1                          TH_HEAD.NUMUNITMPCS +
      211     2455    1                          TH_HEAD.NUMAPMPCS + TH_HEAD.NUMOPCS;
      212     2456    1        FEP_TBL.NUMFEPS = TH_HEAD.NUMFEPS;

   2456  4 000106   200033 236100                    LDQ     TH_HEAD+6,,AUTO
         4 000107   000033 736000                    QLS     27
         4 000110   000235 552040 3                  STBQ    FEP_TBL,'40'O

      213     2457    1        LP_TBL.NUMLPS = TH_HEAD.NUMLPS;

   2457  4 000111   200035 236100                    LDQ     TH_HEAD+8,,AUTO
         4 000112   000033 736000                    QLS     27
         4 000113   001506 552040 3                  STBQ    LP_TBL,'40'O

      214     2458    1        CR_TBL.NUMCRS = TH_HEAD.NUMCRS;

   2458  4 000114   200036 236100                    LDQ     TH_HEAD+9,,AUTO
         4 000115   000033 736000                    QLS     27
         4 000116   001611 552040 3                  STBQ    CR_TBL,'40'O

      215     2459    1        CP_TBL.NUMCPS = TH_HEAD.NUMCPS;

   2459  4 000117   200037 236100                    LDQ     TH_HEAD+10,,AUTO
         4 000120   000033 736000                    QLS     27
         4 000121   001714 552040 3                  STBQ    CP_TBL,'40'O

      216     2460    1        DP_TBL.NUMDPS = TH_HEAD.NUMDPS;

   2460  4 000122   200040 236100                    LDQ     TH_HEAD+11,,AUTO
         4 000123   000033 736000                    QLS     27
         4 000124   001737 552040 3                  STBQ    DP_TBL,'40'O

      217     2461    1        MT_TBL.NUMMTS = TH_HEAD.NUMMTS;

   2461  4 000125   200041 236100                    LDQ     TH_HEAD+12,,AUTO
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:28   
         4 000126   000033 736000                    QLS     27
         4 000127   002742 552040 3                  STBQ    MT_TBL,'40'O

      218     2462    1        XX_TBL.NUMXXS = TH_HEAD.NUMXXS;

   2462  4 000130   200042 236100                    LDQ     TH_HEAD+13,,AUTO
         4 000131   000033 736000                    QLS     27
         4 000132   003345 552040 3                  STBQ    XX_TBL,'40'O

      219     2463    1        AP_TBL.NUMAPS = TH_HEAD.NUMAPS;

   2463  4 000133   200043 236100                    LDQ     TH_HEAD+14,,AUTO
         4 000134   000033 736000                    QLS     27
         4 000135   001240 552040 3                  STBQ    AP_TBL,'40'O

      220     2464    1        OD_TBL.NUMODS = TH_HEAD.NUMODS;

   2464  4 000136   200044 236100                    LDQ     TH_HEAD+15,,AUTO
         4 000137   000033 736000                    QLS     27
         4 000140   001303 552040 3                  STBQ    OD_TBL,'40'O

      221     2465    1        SC_TBL.NUMSCS = TH_HEAD.NUMCONSOLES;

   2465  4 000141   200034 236100                    LDQ     TH_HEAD+7,,AUTO
         4 000142   000033 736000                    QLS     27
         4 000143   003350 552040 3                  STBQ    SC_TBL,'40'O

      222     2466    1        MC_TBL.NUMIOMS = 4;

   2466  4 000144   004000 236003                    LDQ     2048,DU
         4 000145   000000 552040 3                  STBQ    MC_TBL,'40'O

      223     2467
      224     2468                                                /* SET IOM TABLE                      */
      225     2469    2        DO I = 0 TO MC_TBL.NUMIOMS - 1;

   2469  4 000146   200004 450100                    STZ     I,,AUTO
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:29   
         4 000147   000212 710000 4                  TRA     s:2475+3

      226     2470    2           CALL BINCHAR(MC#,I);

   2470  4 000150   200004 235100                    LDA     I,,AUTO
         4 000151   000044 773000                    LRL     36
         4 000152   202116 757100                    STAQ    MPCREC+18,,AUTO
         4 000153   000100 301500                    BTD
         4 000154   202116 000010                    NDSC9   MPCREC+18,,AUTO          cn=0,s=lsgnf,sf=0,n=8
         4 000155   200015 030001                    NDSC9   MC#,,AUTO                cn=0,s=nosgn,sf=0,n=1

      227     2471    2           CALL CONCAT(MC_NAME,'MC0',MC#,'0000');

   2471  4 000156   000127 236000 2                  LDQ     MODEL_PTR$+31
         4 000157   000002 376000 5                  ANQ     2
         4 000160   000040 276007                    ORQ     32,DL
         4 000161   200016 756100                    STQ     MC_NAME,,AUTO
         4 000162   200015 236100                    LDQ     MC#,,AUTO
         4 000163   000033 772000                    QRL     27
         4 000164   200016 552104                    STBQ    MC_NAME,'04'O,AUTO
         4 000165   000130 236000 2                  LDQ     MODEL_PTR$+32
         4 000166   200017 756100                    STQ     MC_NAME+1,,AUTO

      228     2472    2           MC_TBL.DEVNM(I) = MC_NAME;

   2472  4 000167   200004 235100                    LDA     I,,AUTO
         4 000170   000001 735000                    ALS     1
         4 000171   000002 735000                    ALS     2
         4 000172   040005 100500                    MLR     fill='040'O
         4 000173   200016 000010                    ADSC9   MC_NAME,,AUTO            cn=0,n=8
         4 000174   000000 200010 3                  ADSC9   MC_TBL,A                 cn=1,n=8

      229     2473    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = MC_NAME;

   2473  4 000175   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000176   000002 735000                    ALS     2
         4 000177   000000 620005                    EAX0    0,AL
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:30   
         4 000200   000000 621005                    EAX1    0,AL
         4 000201   200016 237100                    LDAQ    MC_NAME,,AUTO
         4 000202   000000 755010 xsym               STA     TH_SYS_DEVS,X0
         4 000203   000001 756011 xsym               STQ     TH_SYS_DEVS+1,X1

      230     2474    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2474  4 000204   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000205   000001 035007                    ADLA    1,DL
         4 000206   000000 755000 xsym               STA     TH_NUM_DEVS

      231     2475    2        END;

   2475  4 000207   200004 236100                    LDQ     I,,AUTO
         4 000210   000001 036007                    ADLQ    1,DL
         4 000211   200004 756100                    STQ     I,,AUTO
         4 000212   000000 236000 3                  LDQ     MC_TBL
         4 000213   000033 772000                    QRL     27
         4 000214   200004 116100                    CMPQ    I,,AUTO
         4 000215   000217 600000 4                  TZE     s:2477
         4 000216   000150 603000 4                  TRC     s:2470

      232     2476
      233     2477    2        DO I = 0 TO IOM_TBL.NUMIOMS - 1;

   2477  4 000217   200004 450100                    STZ     I,,AUTO
         4 000220   000260 710000 4                  TRA     s:2483+3

      234     2478    2           CALL BINCHAR(IOM#,I);

   2478  4 000221   200004 235100                    LDA     I,,AUTO
         4 000222   000044 773000                    LRL     36
         4 000223   202116 757100                    STAQ    MPCREC+18,,AUTO
         4 000224   000100 301500                    BTD
         4 000225   202116 000010                    NDSC9   MPCREC+18,,AUTO          cn=0,s=lsgnf,sf=0,n=8
         4 000226   200013 030001                    NDSC9   IOM#,,AUTO               cn=0,s=nosgn,sf=0,n=1

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:31   
      235     2479    2           CALL CONCAT(IOM_NAME,'IOM',IOM#);

   2479  4 000227   000131 236000 2                  LDQ     MODEL_PTR$+33
         4 000230   000002 376000 5                  ANQ     2
         4 000231   000040 276007                    ORQ     32,DL
         4 000232   200014 756100                    STQ     IOM_NAME,,AUTO
         4 000233   200013 236100                    LDQ     IOM#,,AUTO
         4 000234   000033 772000                    QRL     27
         4 000235   200014 552104                    STBQ    IOM_NAME,'04'O,AUTO

      236     2480    2           IOM_TBL.DEVNM(I) = IOM_NAME;

   2480  4 000236   200004 235100                    LDA     I,,AUTO
         4 000237   000001 735000                    ALS     1
         4 000240   000002 735000                    ALS     2
         4 000241   040005 100500                    MLR     fill='040'O
         4 000242   200014 000004                    ADSC9   IOM_NAME,,AUTO           cn=0,n=4
         4 000243   000013 200010 3                  ADSC9   IOM_TBL,A                cn=1,n=8

      237     2481    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = IOM_NAME;

   2481  4 000244   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000245   000002 735000                    ALS     2
         4 000246   000002 735000                    ALS     2
         4 000247   040005 100500                    MLR     fill='040'O
         4 000250   200014 000004                    ADSC9   IOM_NAME,,AUTO           cn=0,n=4
         4 000251   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      238     2482    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2482  4 000252   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000253   000001 035007                    ADLA    1,DL
         4 000254   000000 755000 xsym               STA     TH_NUM_DEVS

      239     2483    2        END;                               /* DO I                               */

   2483  4 000255   200004 236100                    LDQ     I,,AUTO
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:32   
         4 000256   000001 036007                    ADLQ    1,DL
         4 000257   200004 756100                    STQ     I,,AUTO
         4 000260   000013 236000 3                  LDQ     IOM_TBL
         4 000261   000033 772000                    QRL     27
         4 000262   200004 116100                    CMPQ    I,,AUTO
         4 000263   000265 600000 4                  TZE     s:2486
         4 000264   000221 603000 4                  TRC     s:2478

      240     2484
      241     2485                                                /* SET UC_TBL                         */
      242     2486    1        J = 0;

   2486  4 000265   200005 450100                    STZ     J,,AUTO

      243     2487    1        MPCX = 0;

   2487  4 000266   200006 450100                    STZ     MPCX,,AUTO

      244     2488    2        DO I = TH_HEAD.UNITMPC_INDX TO TH_HEAD.UNITMPC_INDX + TH_HEAD.NUMUNITMPCS - 1;

   2488  4 000267   200026 235100                    LDA     TH_HEAD+1,,AUTO
         4 000270   000022 771000                    ARL     18
         4 000271   200004 755100                    STA     I,,AUTO
         4 000272   000333 710000 4                  TRA     s:2495+3

      245     2489    2           UC_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);

   2489  4 000273   200005 235100                    LDA     J,,AUTO
         4 000274   000001 735000                    ALS     1
         4 000275   200004 236100                    LDQ     I,,AUTO
         4 000276   000003 736000                    QLS     3
         4 000277   000002 735000                    ALS     2
         4 000300   040005 100506                    MLR     fill='040'O
         4 000301   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000302   000026 200010 3                  ADSC9   UC_TBL,A                 cn=1,n=8

      246     2490    2           J = J + 1;
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:33   

   2490  4 000303   200005 235100                    LDA     J,,AUTO
         4 000304   000001 035007                    ADLA    1,DL
         4 000305   200005 755100                    STA     J,,AUTO

      247     2491    2           MPC_TBL.DEVNM(MPCX) = TH_HEAD.DEVNAME(I);

   2491  4 000306   200006 235100                    LDA     MPCX,,AUTO
         4 000307   000001 735000                    ALS     1
         4 000310   000002 735000                    ALS     2
         4 000311   040005 100506                    MLR     fill='040'O
         4 000312   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000313   004173 200010 3                  ADSC9   MPC_TBL,A                cn=1,n=8

      248     2492    2           MPCX = MPCX + 1;

   2492  4 000314   200006 235100                    LDA     MPCX,,AUTO
         4 000315   000001 035007                    ADLA    1,DL
         4 000316   200006 755100                    STA     MPCX,,AUTO

      249     2493    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);

   2493  4 000317   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000320   000002 735000                    ALS     2
         4 000321   000002 735000                    ALS     2
         4 000322   040005 100506                    MLR     fill='040'O
         4 000323   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000324   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      250     2494    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2494  4 000325   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000326   000001 035007                    ADLA    1,DL
         4 000327   000000 755000 xsym               STA     TH_NUM_DEVS

      251     2495    2        END;                               /* DO I                               */

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:34   
   2495  4 000330   200004 235100                    LDA     I,,AUTO
         4 000331   000001 035007                    ADLA    1,DL
         4 000332   200004 755100                    STA     I,,AUTO
         4 000333   200026 236100                    LDQ     TH_HEAD+1,,AUTO
         4 000334   777777 376007                    ANQ     -1,DL
         4 000335   202116 756100                    STQ     MPCREC+18,,AUTO
         4 000336   200026 236100                    LDQ     TH_HEAD+1,,AUTO
         4 000337   000022 772000                    QRL     18
         4 000340   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 000341   200004 116100                    CMPQ    I,,AUTO
         4 000342   000344 600000 4                  TZE     s:2498
         4 000343   000273 603000 4                  TRC     s:2489

      252     2496
      253     2497                                                /* SET TC_TBL                         */
      254     2498    1        J = 0;

   2498  4 000344   200005 450100                    STZ     J,,AUTO

      255     2499    2        DO I = TH_HEAD.TAPEMPC_INDX TO TH_HEAD.TAPEMPC_INDX + TH_HEAD.NUMTAPEMPCS - 1;

   2499  4 000345   200027 236100                    LDQ     TH_HEAD+2,,AUTO
         4 000346   000022 772000                    QRL     18
         4 000347   200004 756100                    STQ     I,,AUTO
         4 000350   000411 710000 4                  TRA     s:2506+3

      256     2500    2           TC_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);

   2500  4 000351   200005 235100                    LDA     J,,AUTO
         4 000352   000001 735000                    ALS     1
         4 000353   200004 236100                    LDQ     I,,AUTO
         4 000354   000003 736000                    QLS     3
         4 000355   000002 735000                    ALS     2
         4 000356   040005 100506                    MLR     fill='040'O
         4 000357   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000360   000041 200010 3                  ADSC9   TC_TBL,A                 cn=1,n=8

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:35   
      257     2501    2           J = J + 1;

   2501  4 000361   200005 235100                    LDA     J,,AUTO
         4 000362   000001 035007                    ADLA    1,DL
         4 000363   200005 755100                    STA     J,,AUTO

      258     2502    2           MPC_TBL.DEVNM(MPCX) = TH_HEAD.DEVNAME(I);

   2502  4 000364   200006 235100                    LDA     MPCX,,AUTO
         4 000365   000001 735000                    ALS     1
         4 000366   000002 735000                    ALS     2
         4 000367   040005 100506                    MLR     fill='040'O
         4 000370   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000371   004173 200010 3                  ADSC9   MPC_TBL,A                cn=1,n=8

      259     2503    2           MPCX = MPCX + 1;

   2503  4 000372   200006 235100                    LDA     MPCX,,AUTO
         4 000373   000001 035007                    ADLA    1,DL
         4 000374   200006 755100                    STA     MPCX,,AUTO

      260     2504    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);

   2504  4 000375   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000376   000002 735000                    ALS     2
         4 000377   000002 735000                    ALS     2
         4 000400   040005 100506                    MLR     fill='040'O
         4 000401   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000402   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      261     2505    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2505  4 000403   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000404   000001 035007                    ADLA    1,DL
         4 000405   000000 755000 xsym               STA     TH_NUM_DEVS

      262     2506    2        END;                               /* DO I                               */
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:36   

   2506  4 000406   200004 235100                    LDA     I,,AUTO
         4 000407   000001 035007                    ADLA    1,DL
         4 000410   200004 755100                    STA     I,,AUTO
         4 000411   200027 236100                    LDQ     TH_HEAD+2,,AUTO
         4 000412   777777 376007                    ANQ     -1,DL
         4 000413   202116 756100                    STQ     MPCREC+18,,AUTO
         4 000414   200027 236100                    LDQ     TH_HEAD+2,,AUTO
         4 000415   000022 772000                    QRL     18
         4 000416   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 000417   200004 116100                    CMPQ    I,,AUTO
         4 000420   000422 600000 4                  TZE     s:2509
         4 000421   000351 603000 4                  TRC     s:2500

      263     2507
      264     2508                                                /* SET DC_TBL                         */
      265     2509    1        J = 0;

   2509  4 000422   200005 450100                    STZ     J,,AUTO

      266     2510    2        DO I = TH_HEAD.DISKMPC_INDX TO TH_HEAD.DISKMPC_INDX + TH_HEAD.NUMDISKMPCS - 1;

   2510  4 000423   200030 235100                    LDA     TH_HEAD+3,,AUTO
         4 000424   000022 771000                    ARL     18
         4 000425   200004 755100                    STA     I,,AUTO
         4 000426   000467 710000 4                  TRA     s:2517+3

      267     2511    2           DC_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);

   2511  4 000427   200005 235100                    LDA     J,,AUTO
         4 000430   000001 735000                    ALS     1
         4 000431   200004 236100                    LDQ     I,,AUTO
         4 000432   000003 736000                    QLS     3
         4 000433   000002 735000                    ALS     2
         4 000434   040005 100506                    MLR     fill='040'O
         4 000435   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000436   000064 200010 3                  ADSC9   DC_TBL,A                 cn=1,n=8
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:37   

      268     2512    2           J = J + 1;

   2512  4 000437   200005 235100                    LDA     J,,AUTO
         4 000440   000001 035007                    ADLA    1,DL
         4 000441   200005 755100                    STA     J,,AUTO

      269     2513    2           MPC_TBL.DEVNM(MPCX) = TH_HEAD.DEVNAME(I);

   2513  4 000442   200006 235100                    LDA     MPCX,,AUTO
         4 000443   000001 735000                    ALS     1
         4 000444   000002 735000                    ALS     2
         4 000445   040005 100506                    MLR     fill='040'O
         4 000446   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000447   004173 200010 3                  ADSC9   MPC_TBL,A                cn=1,n=8

      270     2514    2           MPCX = MPCX + 1;

   2514  4 000450   200006 235100                    LDA     MPCX,,AUTO
         4 000451   000001 035007                    ADLA    1,DL
         4 000452   200006 755100                    STA     MPCX,,AUTO

      271     2515    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);

   2515  4 000453   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000454   000002 735000                    ALS     2
         4 000455   000002 735000                    ALS     2
         4 000456   040005 100506                    MLR     fill='040'O
         4 000457   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000460   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      272     2516    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2516  4 000461   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000462   000001 035007                    ADLA    1,DL
         4 000463   000000 755000 xsym               STA     TH_NUM_DEVS

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:38   
      273     2517    2        END;                               /* DO I                               */

   2517  4 000464   200004 235100                    LDA     I,,AUTO
         4 000465   000001 035007                    ADLA    1,DL
         4 000466   200004 755100                    STA     I,,AUTO
         4 000467   200030 236100                    LDQ     TH_HEAD+3,,AUTO
         4 000470   777777 376007                    ANQ     -1,DL
         4 000471   202116 756100                    STQ     MPCREC+18,,AUTO
         4 000472   200030 236100                    LDQ     TH_HEAD+3,,AUTO
         4 000473   000022 772000                    QRL     18
         4 000474   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 000475   200004 116100                    CMPQ    I,,AUTO
         4 000476   000500 600000 4                  TZE     s:2520
         4 000477   000427 603000 4                  TRC     s:2511

      274     2518
      275     2519                                                /* SET AC_TBL                         */
      276     2520    1        J = 0;

   2520  4 000500   200005 450100                    STZ     J,,AUTO

      277     2521    2        DO I = TH_HEAD.APMPC_INDX TO TH_HEAD.APMPC_INDX + TH_HEAD.NUMAPMPCS - 1;

   2521  4 000501   200031 236100                    LDQ     TH_HEAD+4,,AUTO
         4 000502   000022 772000                    QRL     18
         4 000503   200004 756100                    STQ     I,,AUTO
         4 000504   000545 710000 4                  TRA     s:2528+3

      278     2522    2           AC_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);

   2522  4 000505   200005 235100                    LDA     J,,AUTO
         4 000506   000001 735000                    ALS     1
         4 000507   200004 236100                    LDQ     I,,AUTO
         4 000510   000003 736000                    QLS     3
         4 000511   000002 735000                    ALS     2
         4 000512   040005 100506                    MLR     fill='040'O
         4 000513   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:39   
         4 000514   000127 200010 3                  ADSC9   AC_TBL,A                 cn=1,n=8

      279     2523    2           J = J + 1;

   2523  4 000515   200005 235100                    LDA     J,,AUTO
         4 000516   000001 035007                    ADLA    1,DL
         4 000517   200005 755100                    STA     J,,AUTO

      280     2524    2           MPC_TBL.DEVNM(MPCX) = TH_HEAD.DEVNAME(I);

   2524  4 000520   200006 235100                    LDA     MPCX,,AUTO
         4 000521   000001 735000                    ALS     1
         4 000522   000002 735000                    ALS     2
         4 000523   040005 100506                    MLR     fill='040'O
         4 000524   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000525   004173 200010 3                  ADSC9   MPC_TBL,A                cn=1,n=8

      281     2525    2           MPCX = MPCX + 1;

   2525  4 000526   200006 235100                    LDA     MPCX,,AUTO
         4 000527   000001 035007                    ADLA    1,DL
         4 000530   200006 755100                    STA     MPCX,,AUTO

      282     2526    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);

   2526  4 000531   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000532   000002 735000                    ALS     2
         4 000533   000002 735000                    ALS     2
         4 000534   040005 100506                    MLR     fill='040'O
         4 000535   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000536   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      283     2527    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2527  4 000537   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000540   000001 035007                    ADLA    1,DL
         4 000541   000000 755000 xsym               STA     TH_NUM_DEVS
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:40   

      284     2528    2        END;                               /* DO I                               */

   2528  4 000542   200004 235100                    LDA     I,,AUTO
         4 000543   000001 035007                    ADLA    1,DL
         4 000544   200004 755100                    STA     I,,AUTO
         4 000545   200031 236100                    LDQ     TH_HEAD+4,,AUTO
         4 000546   777777 376007                    ANQ     -1,DL
         4 000547   202116 756100                    STQ     MPCREC+18,,AUTO
         4 000550   200031 236100                    LDQ     TH_HEAD+4,,AUTO
         4 000551   000022 772000                    QRL     18
         4 000552   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 000553   200004 116100                    CMPQ    I,,AUTO
         4 000554   000556 600000 4                  TZE     s:2531
         4 000555   000505 603000 4                  TRC     s:2522

      285     2529
      286     2530                                                /* SET OPC_TBL                         */
      287     2531    1        J = 0;

   2531  4 000556   200005 450100                    STZ     J,,AUTO

      288     2532    2        DO I = TH_HEAD.OPC_INDX TO TH_HEAD.OPC_INDX + TH_HEAD.NUMOPCS - 1;

   2532  4 000557   200032 235100                    LDA     TH_HEAD+5,,AUTO
         4 000560   000022 771000                    ARL     18
         4 000561   200004 755100                    STA     I,,AUTO
         4 000562   000623 710000 4                  TRA     s:2539+3

      289     2533    2           OPC_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);

   2533  4 000563   200005 235100                    LDA     J,,AUTO
         4 000564   000001 735000                    ALS     1
         4 000565   200004 236100                    LDQ     I,,AUTO
         4 000566   000003 736000                    QLS     3
         4 000567   000002 735000                    ALS     2
         4 000570   040005 100506                    MLR     fill='040'O
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:41   
         4 000571   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000572   000172 200010 3                  ADSC9   OPC_TBL,A                cn=1,n=8

      290     2534    2           J = J + 1;

   2534  4 000573   200005 235100                    LDA     J,,AUTO
         4 000574   000001 035007                    ADLA    1,DL
         4 000575   200005 755100                    STA     J,,AUTO

      291     2535    2           MPC_TBL.DEVNM(MPCX) = TH_HEAD.DEVNAME(I);

   2535  4 000576   200006 235100                    LDA     MPCX,,AUTO
         4 000577   000001 735000                    ALS     1
         4 000600   000002 735000                    ALS     2
         4 000601   040005 100506                    MLR     fill='040'O
         4 000602   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000603   004173 200010 3                  ADSC9   MPC_TBL,A                cn=1,n=8

      292     2536    2           MPCX = MPCX + 1;

   2536  4 000604   200006 235100                    LDA     MPCX,,AUTO
         4 000605   000001 035007                    ADLA    1,DL
         4 000606   200006 755100                    STA     MPCX,,AUTO

      293     2537    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);

   2537  4 000607   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000610   000002 735000                    ALS     2
         4 000611   000002 735000                    ALS     2
         4 000612   040005 100506                    MLR     fill='040'O
         4 000613   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000614   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      294     2538    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2538  4 000615   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000616   000001 035007                    ADLA    1,DL
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:42   
         4 000617   000000 755000 xsym               STA     TH_NUM_DEVS

      295     2539    2        END;                               /* DO I                               */

   2539  4 000620   200004 235100                    LDA     I,,AUTO
         4 000621   000001 035007                    ADLA    1,DL
         4 000622   200004 755100                    STA     I,,AUTO
         4 000623   200032 236100                    LDQ     TH_HEAD+5,,AUTO
         4 000624   777777 376007                    ANQ     -1,DL
         4 000625   202116 756100                    STQ     MPCREC+18,,AUTO
         4 000626   200032 236100                    LDQ     TH_HEAD+5,,AUTO
         4 000627   000022 772000                    QRL     18
         4 000630   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 000631   200004 116100                    CMPQ    I,,AUTO
         4 000632   000634 600000 4                  TZE     s:2542
         4 000633   000563 603000 4                  TRC     s:2533

      296     2540
      297     2541                                                /* SET FEP_TBL                        */
      298     2542    1        J = 0;

   2542  4 000634   200005 450100                    STZ     J,,AUTO

      299     2543    2   DO I = 1 TO %FEP_MAX;

   2543  4 000635   000001 236007                    LDQ     1,DL
         4 000636   200004 756100                    STQ     I,,AUTO

      300     2544    2           FEP# = ' ';

   2544  4 000637   000003 236000 5                  LDQ     3
         4 000640   200022 552170                    STBQ    FEP#,'70'O,AUTO

      301     2545    2           CALL BINCHAR(FEP#,I);

   2545  4 000641   200004 235100                    LDA     I,,AUTO
         4 000642   000044 773000                    LRL     36
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:43   
         4 000643   202116 757100                    STAQ    MPCREC+18,,AUTO
         4 000644   000100 301500                    BTD
         4 000645   202116 000010                    NDSC9   MPCREC+18,,AUTO          cn=0,s=lsgnf,sf=0,n=8
         4 000646   200022 030003                    NDSC9   FEP#,,AUTO               cn=0,s=nosgn,sf=0,n=3

      302     2546    2   IF (FEP#1(0) = '0' AND FEP#1(1) = '0')

   2546  4 000647   200022 236100                    LDQ     FEP#,,AUTO
         4 000650   777000 376003                    ANQ     -512,DU
         4 000651   060000 116003                    CMPQ    24576,DU
         4 000652   000667 601000 4                  TNZ     s:2548
         4 000653   200022 236100                    LDQ     FEP#,,AUTO
         4 000654   000777 376003                    ANQ     511,DU
         4 000655   000060 116003                    CMPQ    48,DU
         4 000656   000667 601000 4                  TNZ     s:2548

      303     2547    2     THEN CALL CONCAT(FEP_NAME,'FEP',FEP#1(2));

   2547  4 000657   000132 236000 2                  LDQ     MODEL_PTR$+34
         4 000660   000002 376000 5                  ANQ     2
         4 000661   000040 276007                    ORQ     32,DL
         4 000662   200023 756100                    STQ     FEP_NAME,,AUTO
         4 000663   040100 100500                    MLR     fill='040'O
         4 000664   200022 400001                    ADSC9   FEP#,,AUTO               cn=2,n=1
         4 000665   200023 600003                    ADSC9   FEP_NAME,,AUTO           cn=3,n=3
         4 000666   000717 710000 4                  TRA     s:2551

      304     2548    2     ELSE IF (FEP#1(0) = '0')

   2548  4 000667   200022 236100                    LDQ     FEP#,,AUTO
         4 000670   777000 376003                    ANQ     -512,DU
         4 000671   060000 116003                    CMPQ    24576,DU
         4 000672   000710 601000 4                  TNZ     s:2550

      305     2549    2     THEN CALL CONCAT(FEP_NAME,'FEP',FEP#1(1),FEP#1(2));

   2549  4 000673   000132 236000 2                  LDQ     MODEL_PTR$+34
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:44   
         4 000674   000002 376000 5                  ANQ     2
         4 000675   000040 276007                    ORQ     32,DL
         4 000676   200023 756100                    STQ     FEP_NAME,,AUTO
         4 000677   200022 236100                    LDQ     FEP#,,AUTO
         4 000700   000022 772000                    QRL     18
         4 000701   200023 552104                    STBQ    FEP_NAME,'04'O,AUTO
         4 000702   040100 100500                    MLR     fill='040'O
         4 000703   200022 400001                    ADSC9   FEP#,,AUTO               cn=2,n=1
         4 000704   202116 000004                    ADSC9   MPCREC+18,,AUTO          cn=0,n=4
         4 000705   202116 220100                    LDX0    MPCREC+18,,AUTO
         4 000706   200024 740100                    STX0    FEP_NAME+1,,AUTO
         4 000707   000717 710000 4                  TRA     s:2551

      306     2550    2     ELSE CALL CONCAT(FEP_NAME,'FEP',FEP#);

   2550  4 000710   000132 236000 2                  LDQ     MODEL_PTR$+34
         4 000711   000002 376000 5                  ANQ     2
         4 000712   000040 276007                    ORQ     32,DL
         4 000713   200023 756100                    STQ     FEP_NAME,,AUTO
         4 000714   040100 100500                    MLR     fill='040'O
         4 000715   200022 000003                    ADSC9   FEP#,,AUTO               cn=0,n=3
         4 000716   200023 600003                    ADSC9   FEP_NAME,,AUTO           cn=3,n=3

      307     2551    2           FEP_TBL.DEVNM(J) = FEP_NAME;

   2551  4 000717   200005 235100                    LDA     J,,AUTO
         4 000720   000001 735000                    ALS     1
         4 000721   000002 735000                    ALS     2
         4 000722   040005 100500                    MLR     fill='040'O
         4 000723   200023 000006                    ADSC9   FEP_NAME,,AUTO           cn=0,n=6
         4 000724   000235 200010 3                  ADSC9   FEP_TBL,A                cn=1,n=8

      308     2552    2           J = J + 1;

   2552  4 000725   200005 235100                    LDA     J,,AUTO
         4 000726   000001 035007                    ADLA    1,DL
         4 000727   200005 755100                    STA     J,,AUTO
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:45   

      309     2553    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = FEP_NAME;

   2553  4 000730   000000 236000 xsym               LDQ     TH_NUM_DEVS
         4 000731   000002 736000                    QLS     2
         4 000732   000002 736000                    QLS     2
         4 000733   040006 100500                    MLR     fill='040'O
         4 000734   200023 000006                    ADSC9   FEP_NAME,,AUTO           cn=0,n=6
         4 000735   000000 000010 xsym               ADSC9   TH_SYS_DEVS,Q            cn=0,n=8

      310     2554    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2554  4 000736   000000 236000 xsym               LDQ     TH_NUM_DEVS
         4 000737   000001 036007                    ADLQ    1,DL
         4 000740   000000 756000 xsym               STQ     TH_NUM_DEVS

      311     2555    2        END;                               /* DO I                               */

   2555  4 000741   200004 235100                    LDA     I,,AUTO
         4 000742   000001 035007                    ADLA    1,DL
         4 000743   200004 755100                    STA     I,,AUTO
         4 000744   000401 115007                    CMPA    257,DL
         4 000745   000637 602000 4                  TNC     s:2544

      312     2556
      313     2557                                                /* SET LP_TBL                         */
      314     2558    1        J = 0;

   2558  4 000746   200005 450100                    STZ     J,,AUTO

      315     2559    2        DO I = TH_HEAD.LP_INDX TO TH_HEAD.LP_INDX + TH_HEAD.NUMLPS - 1;

   2559  4 000747   200035 235100                    LDA     TH_HEAD+8,,AUTO
         4 000750   000022 771000                    ARL     18
         4 000751   200004 755100                    STA     I,,AUTO
         4 000752   001002 710000 4                  TRA     s:2564+3

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:46   
      316     2560    2           LP_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);

   2560  4 000753   200005 235100                    LDA     J,,AUTO
         4 000754   000001 735000                    ALS     1
         4 000755   200004 236100                    LDQ     I,,AUTO
         4 000756   000003 736000                    QLS     3
         4 000757   000002 735000                    ALS     2
         4 000760   040005 100506                    MLR     fill='040'O
         4 000761   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000762   001506 200010 3                  ADSC9   LP_TBL,A                 cn=1,n=8

      317     2561    2           J = J + 1;

   2561  4 000763   200005 235100                    LDA     J,,AUTO
         4 000764   000001 035007                    ADLA    1,DL
         4 000765   200005 755100                    STA     J,,AUTO

      318     2562    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);

   2562  4 000766   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000767   000002 735000                    ALS     2
         4 000770   000002 735000                    ALS     2
         4 000771   040005 100506                    MLR     fill='040'O
         4 000772   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 000773   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      319     2563    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2563  4 000774   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 000775   000001 035007                    ADLA    1,DL
         4 000776   000000 755000 xsym               STA     TH_NUM_DEVS

      320     2564    2        END;                               /* DO I                               */

   2564  4 000777   200004 235100                    LDA     I,,AUTO
         4 001000   000001 035007                    ADLA    1,DL
         4 001001   200004 755100                    STA     I,,AUTO
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:47   
         4 001002   200035 236100                    LDQ     TH_HEAD+8,,AUTO
         4 001003   777777 376007                    ANQ     -1,DL
         4 001004   202116 756100                    STQ     MPCREC+18,,AUTO
         4 001005   200035 236100                    LDQ     TH_HEAD+8,,AUTO
         4 001006   000022 772000                    QRL     18
         4 001007   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 001010   200004 116100                    CMPQ    I,,AUTO
         4 001011   001013 600000 4                  TZE     s:2567
         4 001012   000753 603000 4                  TRC     s:2560

      321     2565
      322     2566                                                /* SET CR_TBL                         */
      323     2567    1        J = 0;

   2567  4 001013   200005 450100                    STZ     J,,AUTO

      324     2568    2        DO I = TH_HEAD.CR_INDX TO TH_HEAD.CR_INDX + TH_HEAD.NUMCRS - 1;

   2568  4 001014   200036 236100                    LDQ     TH_HEAD+9,,AUTO
         4 001015   000022 772000                    QRL     18
         4 001016   200004 756100                    STQ     I,,AUTO
         4 001017   001047 710000 4                  TRA     s:2573+3

      325     2569    2           CR_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);

   2569  4 001020   200005 235100                    LDA     J,,AUTO
         4 001021   000001 735000                    ALS     1
         4 001022   200004 236100                    LDQ     I,,AUTO
         4 001023   000003 736000                    QLS     3
         4 001024   000002 735000                    ALS     2
         4 001025   040005 100506                    MLR     fill='040'O
         4 001026   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001027   001611 200010 3                  ADSC9   CR_TBL,A                 cn=1,n=8

      326     2570    2           J = J + 1;

   2570  4 001030   200005 235100                    LDA     J,,AUTO
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:48   
         4 001031   000001 035007                    ADLA    1,DL
         4 001032   200005 755100                    STA     J,,AUTO

      327     2571    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);

   2571  4 001033   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001034   000002 735000                    ALS     2
         4 001035   000002 735000                    ALS     2
         4 001036   040005 100506                    MLR     fill='040'O
         4 001037   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001040   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      328     2572    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2572  4 001041   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001042   000001 035007                    ADLA    1,DL
         4 001043   000000 755000 xsym               STA     TH_NUM_DEVS

      329     2573    2        END;                               /* DO I                               */

   2573  4 001044   200004 235100                    LDA     I,,AUTO
         4 001045   000001 035007                    ADLA    1,DL
         4 001046   200004 755100                    STA     I,,AUTO
         4 001047   200036 236100                    LDQ     TH_HEAD+9,,AUTO
         4 001050   777777 376007                    ANQ     -1,DL
         4 001051   202116 756100                    STQ     MPCREC+18,,AUTO
         4 001052   200036 236100                    LDQ     TH_HEAD+9,,AUTO
         4 001053   000022 772000                    QRL     18
         4 001054   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 001055   200004 116100                    CMPQ    I,,AUTO
         4 001056   001060 600000 4                  TZE     s:2576
         4 001057   001020 603000 4                  TRC     s:2569

      330     2574
      331     2575                                                /* SET CP_TBL                         */
      332     2576    1        J = 0;

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:49   
   2576  4 001060   200005 450100                    STZ     J,,AUTO

      333     2577    2        DO I = TH_HEAD.CP_INDX TO TH_HEAD.CP_INDX + TH_HEAD.NUMCPS - 1;

   2577  4 001061   200037 235100                    LDA     TH_HEAD+10,,AUTO
         4 001062   000022 771000                    ARL     18
         4 001063   200004 755100                    STA     I,,AUTO
         4 001064   001114 710000 4                  TRA     s:2582+3

      334     2578    2           CP_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);

   2578  4 001065   200005 235100                    LDA     J,,AUTO
         4 001066   000001 735000                    ALS     1
         4 001067   200004 236100                    LDQ     I,,AUTO
         4 001070   000003 736000                    QLS     3
         4 001071   000002 735000                    ALS     2
         4 001072   040005 100506                    MLR     fill='040'O
         4 001073   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001074   001714 200010 3                  ADSC9   CP_TBL,A                 cn=1,n=8

      335     2579    2           J = J + 1;

   2579  4 001075   200005 235100                    LDA     J,,AUTO
         4 001076   000001 035007                    ADLA    1,DL
         4 001077   200005 755100                    STA     J,,AUTO

      336     2580    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);

   2580  4 001100   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001101   000002 735000                    ALS     2
         4 001102   000002 735000                    ALS     2
         4 001103   040005 100506                    MLR     fill='040'O
         4 001104   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001105   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      337     2581    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:50   
   2581  4 001106   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001107   000001 035007                    ADLA    1,DL
         4 001110   000000 755000 xsym               STA     TH_NUM_DEVS

      338     2582    2        END;                               /* DO I                               */

   2582  4 001111   200004 235100                    LDA     I,,AUTO
         4 001112   000001 035007                    ADLA    1,DL
         4 001113   200004 755100                    STA     I,,AUTO
         4 001114   200037 236100                    LDQ     TH_HEAD+10,,AUTO
         4 001115   777777 376007                    ANQ     -1,DL
         4 001116   202116 756100                    STQ     MPCREC+18,,AUTO
         4 001117   200037 236100                    LDQ     TH_HEAD+10,,AUTO
         4 001120   000022 772000                    QRL     18
         4 001121   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 001122   200004 116100                    CMPQ    I,,AUTO
         4 001123   001125 600000 4                  TZE     s:2585
         4 001124   001065 603000 4                  TRC     s:2578

      339     2583
      340     2584                                                /* SET DP_TBL                         */
      341     2585    1        J = 0;

   2585  4 001125   200005 450100                    STZ     J,,AUTO

      342     2586    2        DO I = TH_HEAD.DP_INDX TO TH_HEAD.DP_INDX + TH_HEAD.NUMDPS - 1;

   2586  4 001126   200040 236100                    LDQ     TH_HEAD+11,,AUTO
         4 001127   000022 772000                    QRL     18
         4 001130   200004 756100                    STQ     I,,AUTO
         4 001131   001161 710000 4                  TRA     s:2591+3

      343     2587    2           DP_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);

   2587  4 001132   200005 235100                    LDA     J,,AUTO
         4 001133   000001 735000                    ALS     1
         4 001134   200004 236100                    LDQ     I,,AUTO
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:51   
         4 001135   000003 736000                    QLS     3
         4 001136   000002 735000                    ALS     2
         4 001137   040005 100506                    MLR     fill='040'O
         4 001140   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001141   001737 200010 3                  ADSC9   DP_TBL,A                 cn=1,n=8

      344     2588    2           J = J + 1;

   2588  4 001142   200005 235100                    LDA     J,,AUTO
         4 001143   000001 035007                    ADLA    1,DL
         4 001144   200005 755100                    STA     J,,AUTO

      345     2589    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);

   2589  4 001145   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001146   000002 735000                    ALS     2
         4 001147   000002 735000                    ALS     2
         4 001150   040005 100506                    MLR     fill='040'O
         4 001151   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001152   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      346     2590    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2590  4 001153   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001154   000001 035007                    ADLA    1,DL
         4 001155   000000 755000 xsym               STA     TH_NUM_DEVS

      347     2591    2        END;                               /* DO I                               */

   2591  4 001156   200004 235100                    LDA     I,,AUTO
         4 001157   000001 035007                    ADLA    1,DL
         4 001160   200004 755100                    STA     I,,AUTO
         4 001161   200040 236100                    LDQ     TH_HEAD+11,,AUTO
         4 001162   777777 376007                    ANQ     -1,DL
         4 001163   202116 756100                    STQ     MPCREC+18,,AUTO
         4 001164   200040 236100                    LDQ     TH_HEAD+11,,AUTO
         4 001165   000022 772000                    QRL     18
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:52   
         4 001166   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 001167   200004 116100                    CMPQ    I,,AUTO
         4 001170   001172 600000 4                  TZE     s:2594
         4 001171   001132 603000 4                  TRC     s:2587

      348     2592
      349     2593                                                /* SET MT_TBL                         */
      350     2594    1        J = 0;

   2594  4 001172   200005 450100                    STZ     J,,AUTO

      351     2595    2        DO I = TH_HEAD.MT_INDX TO TH_HEAD.MT_INDX + TH_HEAD.NUMMTS - 1;

   2595  4 001173   200041 235100                    LDA     TH_HEAD+12,,AUTO
         4 001174   000022 771000                    ARL     18
         4 001175   200004 755100                    STA     I,,AUTO
         4 001176   001226 710000 4                  TRA     s:2600+3

      352     2596    2           MT_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);

   2596  4 001177   200005 235100                    LDA     J,,AUTO
         4 001200   000001 735000                    ALS     1
         4 001201   200004 236100                    LDQ     I,,AUTO
         4 001202   000003 736000                    QLS     3
         4 001203   000002 735000                    ALS     2
         4 001204   040005 100506                    MLR     fill='040'O
         4 001205   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001206   002742 200010 3                  ADSC9   MT_TBL,A                 cn=1,n=8

      353     2597    2           J = J + 1;

   2597  4 001207   200005 235100                    LDA     J,,AUTO
         4 001210   000001 035007                    ADLA    1,DL
         4 001211   200005 755100                    STA     J,,AUTO

      354     2598    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:53   
   2598  4 001212   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001213   000002 735000                    ALS     2
         4 001214   000002 735000                    ALS     2
         4 001215   040005 100506                    MLR     fill='040'O
         4 001216   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001217   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      355     2599    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2599  4 001220   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001221   000001 035007                    ADLA    1,DL
         4 001222   000000 755000 xsym               STA     TH_NUM_DEVS

      356     2600    2        END;                               /* DO I                               */

   2600  4 001223   200004 235100                    LDA     I,,AUTO
         4 001224   000001 035007                    ADLA    1,DL
         4 001225   200004 755100                    STA     I,,AUTO
         4 001226   200041 236100                    LDQ     TH_HEAD+12,,AUTO
         4 001227   777777 376007                    ANQ     -1,DL
         4 001230   202116 756100                    STQ     MPCREC+18,,AUTO
         4 001231   200041 236100                    LDQ     TH_HEAD+12,,AUTO
         4 001232   000022 772000                    QRL     18
         4 001233   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 001234   200004 116100                    CMPQ    I,,AUTO
         4 001235   001237 600000 4                  TZE     s:2603
         4 001236   001177 603000 4                  TRC     s:2596

      357     2601
      358     2602                                                /* SET XX_TBL , (old 7T table)        */
      359     2603    1        J = 0;

   2603  4 001237   200005 450100                    STZ     J,,AUTO

      360     2604    2        DO I = TH_HEAD.XX_INDX TO TH_HEAD.XX_INDX + TH_HEAD.NUMXXS - 1;

   2604  4 001240   200042 236100                    LDQ     TH_HEAD+13,,AUTO
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:54   
         4 001241   000022 772000                    QRL     18
         4 001242   200004 756100                    STQ     I,,AUTO
         4 001243   001273 710000 4                  TRA     s:2609+3

      361     2605    2           XX_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);

   2605  4 001244   200005 235100                    LDA     J,,AUTO
         4 001245   000001 735000                    ALS     1
         4 001246   200004 236100                    LDQ     I,,AUTO
         4 001247   000003 736000                    QLS     3
         4 001250   000002 735000                    ALS     2
         4 001251   040005 100506                    MLR     fill='040'O
         4 001252   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001253   003345 200010 3                  ADSC9   XX_TBL,A                 cn=1,n=8

      362     2606    2           J = J + 1;

   2606  4 001254   200005 235100                    LDA     J,,AUTO
         4 001255   000001 035007                    ADLA    1,DL
         4 001256   200005 755100                    STA     J,,AUTO

      363     2607    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);

   2607  4 001257   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001260   000002 735000                    ALS     2
         4 001261   000002 735000                    ALS     2
         4 001262   040005 100506                    MLR     fill='040'O
         4 001263   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001264   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      364     2608    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2608  4 001265   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001266   000001 035007                    ADLA    1,DL
         4 001267   000000 755000 xsym               STA     TH_NUM_DEVS

      365     2609    2        END;                               /* DO I                               */
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:55   

   2609  4 001270   200004 235100                    LDA     I,,AUTO
         4 001271   000001 035007                    ADLA    1,DL
         4 001272   200004 755100                    STA     I,,AUTO
         4 001273   200042 236100                    LDQ     TH_HEAD+13,,AUTO
         4 001274   777777 376007                    ANQ     -1,DL
         4 001275   202116 756100                    STQ     MPCREC+18,,AUTO
         4 001276   200042 236100                    LDQ     TH_HEAD+13,,AUTO
         4 001277   000022 772000                    QRL     18
         4 001300   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 001301   200004 116100                    CMPQ    I,,AUTO
         4 001302   001304 600000 4                  TZE     s:2612
         4 001303   001244 603000 4                  TRC     s:2605

      366     2610
      367     2611                                                /* SET AP_TBL                         */
      368     2612    1        J = 0;

   2612  4 001304   200005 450100                    STZ     J,,AUTO

      369     2613    2        DO I = TH_HEAD.AP_INDX TO TH_HEAD.AP_INDX + TH_HEAD.NUMAPS - 1;

   2613  4 001305   200043 235100                    LDA     TH_HEAD+14,,AUTO
         4 001306   000022 771000                    ARL     18
         4 001307   200004 755100                    STA     I,,AUTO
         4 001310   001340 710000 4                  TRA     s:2618+3

      370     2614    2           AP_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);

   2614  4 001311   200005 235100                    LDA     J,,AUTO
         4 001312   000001 735000                    ALS     1
         4 001313   200004 236100                    LDQ     I,,AUTO
         4 001314   000003 736000                    QLS     3
         4 001315   000002 735000                    ALS     2
         4 001316   040005 100506                    MLR     fill='040'O
         4 001317   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001320   001240 200010 3                  ADSC9   AP_TBL,A                 cn=1,n=8
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:56   

      371     2615    2           J = J + 1;

   2615  4 001321   200005 235100                    LDA     J,,AUTO
         4 001322   000001 035007                    ADLA    1,DL
         4 001323   200005 755100                    STA     J,,AUTO

      372     2616    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);

   2616  4 001324   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001325   000002 735000                    ALS     2
         4 001326   000002 735000                    ALS     2
         4 001327   040005 100506                    MLR     fill='040'O
         4 001330   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001331   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      373     2617    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2617  4 001332   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001333   000001 035007                    ADLA    1,DL
         4 001334   000000 755000 xsym               STA     TH_NUM_DEVS

      374     2618    2        END;                               /* DO I                               */

   2618  4 001335   200004 235100                    LDA     I,,AUTO
         4 001336   000001 035007                    ADLA    1,DL
         4 001337   200004 755100                    STA     I,,AUTO
         4 001340   200043 236100                    LDQ     TH_HEAD+14,,AUTO
         4 001341   777777 376007                    ANQ     -1,DL
         4 001342   202116 756100                    STQ     MPCREC+18,,AUTO
         4 001343   200043 236100                    LDQ     TH_HEAD+14,,AUTO
         4 001344   000022 772000                    QRL     18
         4 001345   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 001346   200004 116100                    CMPQ    I,,AUTO
         4 001347   001351 600000 4                  TZE     s:2621
         4 001350   001311 603000 4                  TRC     s:2614

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:57   
      375     2619
      376     2620                                                /* SET OD_TBL                         */
      377     2621    1        J = 0;

   2621  4 001351   200005 450100                    STZ     J,,AUTO

      378     2622    2        DO I = TH_HEAD.OD_INDX TO TH_HEAD.OD_INDX + TH_HEAD.NUMODS - 1;

   2622  4 001352   200044 236100                    LDQ     TH_HEAD+15,,AUTO
         4 001353   000022 772000                    QRL     18
         4 001354   200004 756100                    STQ     I,,AUTO
         4 001355   001405 710000 4                  TRA     s:2627+3

      379     2623    2           OD_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);

   2623  4 001356   200005 235100                    LDA     J,,AUTO
         4 001357   000001 735000                    ALS     1
         4 001360   200004 236100                    LDQ     I,,AUTO
         4 001361   000003 736000                    QLS     3
         4 001362   000002 735000                    ALS     2
         4 001363   040005 100506                    MLR     fill='040'O
         4 001364   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001365   001303 200010 3                  ADSC9   OD_TBL,A                 cn=1,n=8

      380     2624    2           J = J + 1;

   2624  4 001366   200005 235100                    LDA     J,,AUTO
         4 001367   000001 035007                    ADLA    1,DL
         4 001370   200005 755100                    STA     J,,AUTO

      381     2625    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);

   2625  4 001371   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001372   000002 735000                    ALS     2
         4 001373   000002 735000                    ALS     2
         4 001374   040005 100506                    MLR     fill='040'O
         4 001375   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:58   
         4 001376   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      382     2626    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2626  4 001377   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001400   000001 035007                    ADLA    1,DL
         4 001401   000000 755000 xsym               STA     TH_NUM_DEVS

      383     2627    2        END;                               /* DO I                               */

   2627  4 001402   200004 235100                    LDA     I,,AUTO
         4 001403   000001 035007                    ADLA    1,DL
         4 001404   200004 755100                    STA     I,,AUTO
         4 001405   200044 236100                    LDQ     TH_HEAD+15,,AUTO
         4 001406   777777 376007                    ANQ     -1,DL
         4 001407   202116 756100                    STQ     MPCREC+18,,AUTO
         4 001410   200044 236100                    LDQ     TH_HEAD+15,,AUTO
         4 001411   000022 772000                    QRL     18
         4 001412   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 001413   200004 116100                    CMPQ    I,,AUTO
         4 001414   001416 600000 4                  TZE     s:2629
         4 001415   001356 603000 4                  TRC     s:2623

      384     2628             /* SET SC_TBL */
      385     2629    1        J = 0;

   2629  4 001416   200005 450100                    STZ     J,,AUTO

      386     2630    2        DO I = TH_HEAD.CONSOLE_INDX TO TH_HEAD.CONSOLE_INDX + TH_HEAD.NUMCONSOLES - 1;

   2630  4 001417   200034 235100                    LDA     TH_HEAD+7,,AUTO
         4 001420   000022 771000                    ARL     18
         4 001421   200004 755100                    STA     I,,AUTO
         4 001422   001452 710000 4                  TRA     s:2635+3

      387     2631    2           SC_TBL.DEVNM(J) = TH_HEAD.DEVNAME(I);

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:59   
   2631  4 001423   200005 235100                    LDA     J,,AUTO
         4 001424   000001 735000                    ALS     1
         4 001425   200004 236100                    LDQ     I,,AUTO
         4 001426   000003 736000                    QLS     3
         4 001427   000002 735000                    ALS     2
         4 001430   040005 100506                    MLR     fill='040'O
         4 001431   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001432   003350 200010 3                  ADSC9   SC_TBL,A                 cn=1,n=8

      388     2632    2           J = J + 1;

   2632  4 001433   200005 235100                    LDA     J,,AUTO
         4 001434   000001 035007                    ADLA    1,DL
         4 001435   200005 755100                    STA     J,,AUTO

      389     2633    2           TH_SYS_DEVS.DEVN(TH_NUM_DEVS) = TH_HEAD.DEVNAME(I);

   2633  4 001436   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001437   000002 735000                    ALS     2
         4 001440   000002 735000                    ALS     2
         4 001441   040005 100506                    MLR     fill='040'O
         4 001442   200045 000010                    ADSC9   TH_HEAD+16,Q,AUTO        cn=0,n=8
         4 001443   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8

      390     2634    2           TH_NUM_DEVS = TH_NUM_DEVS + 1;

   2634  4 001444   000000 235000 xsym               LDA     TH_NUM_DEVS
         4 001445   000001 035007                    ADLA    1,DL
         4 001446   000000 755000 xsym               STA     TH_NUM_DEVS

      391     2635    2           END;  /* DO I */

   2635  4 001447   200004 235100                    LDA     I,,AUTO
         4 001450   000001 035007                    ADLA    1,DL
         4 001451   200004 755100                    STA     I,,AUTO
         4 001452   200034 236100                    LDQ     TH_HEAD+7,,AUTO
         4 001453   777777 376007                    ANQ     -1,DL
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:60   
         4 001454   202116 756100                    STQ     MPCREC+18,,AUTO
         4 001455   200034 236100                    LDQ     TH_HEAD+7,,AUTO
         4 001456   000022 772000                    QRL     18
         4 001457   202116 036100                    ADLQ    MPCREC+18,,AUTO
         4 001460   200004 116100                    CMPQ    I,,AUTO
         4 001461   001463 600000 4                  TZE     s:2637
         4 001462   001423 603000 4                  TRC     s:2631

      392     2636                                                /* SET MODEL TABLES                   */
      393     2637    1        TH_NUM_MODS = 0;

   2637  4 001463   000000 450000 xsym               STZ     TH_NUM_MODS

      394     2638    2        DO I = 0 TO TH_NUM_DEVS - 1;

   2638  4 001464   200004 450100                    STZ     I,,AUTO
         4 001465   001654 710000 4                  TRA     ENDLOOP+3

      395     2639    2           FOUND = %FALSE;

   2639  4 001466   200007 450100                    STZ     FOUND,,AUTO

      396     2640    2           CALL THG$GETREC(%DEVHIST,TH_SYS_DEVS.DEVN(I),-1,1) ALTRET(ENDLOOP);

   2640  4 001467   000004 237000 5                  LDAQ    4
         4 001470   202120 757100                    STAQ    MPCREC+20,,AUTO
         4 001471   200004 236100                    LDQ     I,,AUTO
         4 001472   000024 736000                    QLS     20
         4 001473   000006 036000 5                  ADLQ    6
         4 001474   000000 235000 5                  LDA     0
         4 001475   202116 757100                    STAQ    MPCREC+18,,AUTO
         4 001476   202116 630500                    EPPR0   MPCREC+18,,AUTO
         4 001477   000022 631400 xsym               EPPR1   B_VECTNIL+18
         4 001500   000000 701000 xent               TSX1    THG$GETREC
         4 001501   001651 702000 4                  TSX2    ENDLOOP

      397     2641    2           IF (SUBSTR(TH_SYS_DEVS.DEVN(I),0,2) = 'UC') OR
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:61   

   2641  4 001502   200004 235100                    LDA     I,,AUTO
         4 001503   000002 735000                    ALS     2
         4 001504   000000 220005 xsym               LDX0    TH_SYS_DEVS,AL
         4 001505   000133 100000 2                  CMPX0   MODEL_PTR$+35
         4 001506   001517 600000 4                  TZE     s:2648
         4 001507   000134 100000 2                  CMPX0   MODEL_PTR$+36
         4 001510   001517 600000 4                  TZE     s:2648
         4 001511   000135 100000 2                  CMPX0   MODEL_PTR$+37
         4 001512   001517 600000 4                  TZE     s:2648
         4 001513   000136 100000 2                  CMPX0   MODEL_PTR$+38
         4 001514   001517 600000 4                  TZE     s:2648
         4 001515   000137 100000 2                  CMPX0   MODEL_PTR$+39
         4 001516   001526 601000 4                  TNZ     s:2652

      398     2642    2              (SUBSTR(TH_SYS_DEVS.DEVN(I),0,2) = 'TC') OR
      399     2643    2              (SUBSTR(TH_SYS_DEVS.DEVN(I),0,2) = 'AC') OR
      400     2644    2              (SUBSTR(TH_SYS_DEVS.DEVN(I),0,2) = 'OP') OR
      401     2645    2              (SUBSTR(TH_SYS_DEVS.DEVN(I),0,2) = 'DC')
      402     2646    2              THEN                         /* MPC RECORD                         */
      403     2647    3              DO;

      404     2648    3                 MPCREC = TH_RECORD.PTR$->TH$MPC;

   2648  4 001517   000001 470400 xsym               LDP0    TH_RECORD+1
         4 001520   000100 100500                    MLR     fill='000'O
         4 001521   000000 000110                    ADSC9   0,,PR0                   cn=0,n=72
         4 001522   202074 000110                    ADSC9   MPCREC,,AUTO             cn=0,n=72

      405     2649    3                 MODEL# = MPCREC.MODEL;

   2649  4 001523   202076 237100                    LDAQ    MPCREC+2,,AUTO
         4 001524   200020 757100                    STAQ    MODEL#,,AUTO

      406     2650    3              END;

   2650  4 001525   001561 710000 4                  TRA     s:2665
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:62   

      407     2651    2              ELSE
      408     2652    2           IF SUBSTR(TH_SYS_DEVS.DEVN(I),0,2) = 'SC'

   2652  4 001526   000140 100000 2                  CMPX0   MODEL_PTR$+40
         4 001527   001534 601000 4                  TNZ     s:2655

      409     2653    2              THEN MODEL# = 'CONSOLE ';

   2653  4 001530   040100 100400                    MLR     fill='040'O
         4 001531   000141 000010 2                  ADSC9   MODEL_PTR$+41            cn=0,n=8
         4 001532   200020 000010                    ADSC9   MODEL#,,AUTO             cn=0,n=8
         4 001533   001561 710000 4                  TRA     s:2665

      410     2654    2              ELSE
      411     2655    2           IF SUBSTR(TH_SYS_DEVS.DEVN(I),0,3) = 'FEP' OR

   2655  4 001534   000000 236005 xsym               LDQ     TH_SYS_DEVS,AL
         4 001535   000132 676000 2                  ERQ     MODEL_PTR$+34
         4 001536   000002 376000 5                  ANQ     2
         4 001537   001651 600000 4                  TZE     ENDLOOP
         4 001540   000000 236005 xsym               LDQ     TH_SYS_DEVS,AL
         4 001541   000131 676000 2                  ERQ     MODEL_PTR$+33
         4 001542   000002 376000 5                  ANQ     2
         4 001543   001651 600000 4                  TZE     ENDLOOP
         4 001544   000127 100000 2                  CMPX0   MODEL_PTR$+31
         4 001545   001651 600000 4                  TZE     ENDLOOP

      412     2656    2              SUBSTR(TH_SYS_DEVS.DEVN(I),0,3) = 'IOM' OR
      413     2657    2              SUBSTR(TH_SYS_DEVS.DEVN(I),0,2) = 'MC'
      414     2658    2              THEN GOTO ENDLOOP;        /* FEP OR IOM RECORD - IGNORE IT            */
      415     2659    2              ELSE                         /* DEVICE RECORD                      */
      416     2660    3              DO;

      417     2661    3                 DEVREC = TH_RECORD.PTR$->TH$DEV;

   2661  4 001546   000001 470400 xsym               LDP0    TH_RECORD+1
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:63   
         4 001547   000100 100500                    MLR     fill='000'O
         4 001550   000000 000134                    ADSC9   0,,PR0                   cn=0,n=92
         4 001551   202045 000134                    ADSC9   DEVREC,,AUTO             cn=0,n=92

      418     2662    3                 MODEL# = DEVREC.MODEL;

   2662  4 001552   040100 100500                    MLR     fill='040'O
         4 001553   202045 000010                    ADSC9   DEVREC,,AUTO             cn=0,n=8
         4 001554   200020 000010                    ADSC9   MODEL#,,AUTO             cn=0,n=8

      419     2663    3                 TH_SYS_DEVS.MODEL(I) = DEVREC.MODEL;

   2663  4 001555   000002 735000                    ALS     2
         4 001556   040005 100500                    MLR     fill='040'O
         4 001557   202045 000010                    ADSC9   DEVREC,,AUTO             cn=0,n=8
         4 001560   000002 000010 xsym               ADSC9   TH_SYS_DEVS+2,A          cn=0,n=8

      420     2664    3              END;                         /* IF                                 */

      421     2665    3           DO J = 0 TO TH_NUM_MODS - 1;

   2665  4 001561   200005 450100                    STZ     J,,AUTO
         4 001562   001623 710000 4                  TRA     s:2674+3

      422     2666    3              MODEL$ = MODEL_PTR$(J);

   2666  4 001563   200005 720100                    LXL0    J,,AUTO
         4 001564   000070 236010 2                  LDQ     MODEL_PTR$,X0
         4 001565   200003 756100                    STQ     MODEL$,,AUTO

      423     2667    3              IF MDL_TBL.MOD# = MODEL#

   2667  4 001566   200003 470500                    LDP0    MODEL$,,AUTO
         4 001567   040100 106500                    CMPC    fill='040'O
         4 001570   000000 000010                    ADSC9   0,,PR0                   cn=0,n=8
         4 001571   200020 000010                    ADSC9   MODEL#,,AUTO             cn=0,n=8
         4 001572   001620 601000 4                  TNZ     s:2674
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:64   

      424     2668    3                 THEN                      /* ADD DEVICE TO THIS MOD# LIST       */
      425     2669    4                 DO;

      426     2670    4                    MDL_TBL.DEVNM(MDL_TBL.NUMDEVS) = TH_SYS_DEVS.DEVN(I);

   2670  4 001573   000100 101500                    MRL     fill='000'O
         4 001574   000002 000001                    ADSC9   2,,PR0                   cn=0,n=1
         4 001575   202116 000004                    ADSC9   MPCREC+18,,AUTO          cn=0,n=4
         4 001576   202116 236100                    LDQ     MPCREC+18,,AUTO
         4 001577   000003 736000                    QLS     3
         4 001600   200004 235100                    LDA     I,,AUTO
         4 001601   000004 735000                    ALS     4
         4 001602   040106 100405                    MLR     fill='040'O
         4 001603   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8
         4 001604   000002 200010                    ADSC9   2,Q,PR0                  cn=1,n=8

      427     2671    4                    MDL_TBL.NUMDEVS = MDL_TBL.NUMDEVS + 1;

   2671  4 001605   000100 101500                    MRL     fill='000'O
         4 001606   000002 000001                    ADSC9   2,,PR0                   cn=0,n=1
         4 001607   202117 000004                    ADSC9   MPCREC+19,,AUTO          cn=0,n=4
         4 001610   202117 236100                    LDQ     MPCREC+19,,AUTO
         4 001611   000001 036007                    ADLQ    1,DL
         4 001612   202116 756100                    STQ     MPCREC+18,,AUTO
         4 001613   000100 101500                    MRL     fill='000'O
         4 001614   202116 000004                    ADSC9   MPCREC+18,,AUTO          cn=0,n=4
         4 001615   000002 000001                    ADSC9   2,,PR0                   cn=0,n=1

      428     2672    4                    FOUND = %TRUE;

   2672  4 001616   400000 236003                    LDQ     -131072,DU
         4 001617   200007 756100                    STQ     FOUND,,AUTO

      429     2673    4                 END;                      /* IF                                 */

      430     2674    3           END;                            /* DO J = O TO TH_NUM_MODS            */
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:65   

   2674  4 001620   200005 235100                    LDA     J,,AUTO
         4 001621   000001 035007                    ADLA    1,DL
         4 001622   200005 755100                    STA     J,,AUTO
         4 001623   200005 236100                    LDQ     J,,AUTO
         4 001624   000000 116000 xsym               CMPQ    TH_NUM_MODS
         4 001625   001563 602000 4                  TNC     s:2666

      431     2675    2           IF NOT FOUND

   2675  4 001626   200007 234100                    SZN     FOUND,,AUTO
         4 001627   001651 604000 4                  TMI     ENDLOOP

      432     2676    2              THEN                         /* ENTER NEW MOD# INTO LIST           */
      433     2677    3              DO;

      434     2678    3                 TH_NUM_MODS = TH_NUM_MODS + 1;

   2678  4 001630   000000 235000 xsym               LDA     TH_NUM_MODS
         4 001631   000001 035007                    ADLA    1,DL
         4 001632   000000 755000 xsym               STA     TH_NUM_MODS

      435     2679    3                 MODEL$ = MODEL_PTR$(TH_NUM_MODS-1);

   2679  4 001633   000067 236005 2                  LDQ     ZERO+55,AL
         4 001634   200003 756100                    STQ     MODEL$,,AUTO

      436     2680    3                 MDL_TBL.NUMDEVS = 1;

   2680  4 001635   200003 470500                    LDP0    MODEL$,,AUTO
         4 001636   000100 101400                    MRL     fill='000'O
         4 001637   000003 000004 xsym               ADSC9   B_VECTNIL+3              cn=0,n=4
         4 001640   000002 000001                    ADSC9   2,,PR0                   cn=0,n=1

      437     2681    3                 MDL_TBL.MOD# = MODEL#;

   2681  4 001641   040100 100500                    MLR     fill='040'O
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:66   
         4 001642   200020 000010                    ADSC9   MODEL#,,AUTO             cn=0,n=8
         4 001643   000000 000010                    ADSC9   0,,PR0                   cn=0,n=8

      438     2682    3                 MDL_TBL.DEVNM(0) = TH_SYS_DEVS.DEVN(I);

   2682  4 001644   200004 235100                    LDA     I,,AUTO
         4 001645   000004 735000                    ALS     4
         4 001646   040100 100405                    MLR     fill='040'O
         4 001647   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8
         4 001650   000002 200010                    ADSC9   2,,PR0                   cn=1,n=8

      439     2683    3              END;                         /* IF NOT FOUND                       */

      440     2684    2   ENDLOOP:
      441     2685    2        END;                               /* DO I = 0 TO TH_NUM_DEVS - 1          */

   2685  4 001651   200004 235100       ENDLOOP      LDA     I,,AUTO
         4 001652   000001 035007                    ADLA    1,DL
         4 001653   200004 755100                    STA     I,,AUTO
         4 001654   200004 236100                    LDQ     I,,AUTO
         4 001655   000000 116000 xsym               CMPQ    TH_NUM_DEVS
         4 001656   001466 602000 4                  TNC     s:2639

      442     2686    1        CALL THG$CLOSE;

   2686  4 001657   000002 631400 xsym               EPPR1   B_VECTNIL+2
         4 001660   000000 701000 xent               TSX1    THG$CLOSE
         4 001661   000000 011000                    NOP     0

      443     2687
      444     2688    1   END THI$INIT;

   2688  4 001662   000000 702200 xent               TSX2  ! X66_ARET

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:67   
--  Include file information  --

   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   TH$HIST.:E05TOU  is referenced.
   TD$STRUCT.:E05TOU  is referenced.
   B_ERRORS_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THI$INIT.
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:68   

 **** Variables and constants ****

  ****  Section 002 RoData THI$INIT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    70-0-0/w PTR         r     1 MODEL_PTR$(0:30)
     0-0-0/c CHAR(8)     r     1 ZERO

  ****  Section 003  Data  THI$INIT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   127-0-0/w STRC(1233)  r     1 AC_TBL                  1240-0-0/w STRC(1233)  r     1 AP_TBL
  1714-0-0/w STRC(657)   r     1 CP_TBL                  1611-0-0/w STRC(2385)  r     1 CR_TBL
    64-0-0/w STRC(1233)  r     1 DC_TBL                  1737-0-0/w STRC(18513) r     1 DP_TBL
   235-0-0/w STRC(18513) r     1 FEP_TBL                   13-0-0/w STRC(369)   r     1 IOM_TBL
  1506-0-0/w STRC(2385)  r     1 LP_TBL                     0-0-0/w STRC(369)   r     1 MC_TBL
  4236-0-0/w STRC(14553) r     1 MDL_TBL0                5063-0-0/w STRC(14553) r     1 MDL_TBL1
 14160-0-0/w STRC(14553) r     1 MDL_TBL10              15005-0-0/w STRC(14553) r     1 MDL_TBL11
 15632-0-0/w STRC(14553) r     1 MDL_TBL12              16457-0-0/w STRC(14553) r     1 MDL_TBL13
 17304-0-0/w STRC(14553) r     1 MDL_TBL14              20131-0-0/w STRC(14553) r     1 MDL_TBL15
 20756-0-0/w STRC(14553) r     1 MDL_TBL16              21603-0-0/w STRC(14553) r     1 MDL_TBL17
 22430-0-0/w STRC(14553) r     1 MDL_TBL18              23255-0-0/w STRC(14553) r     1 MDL_TBL19
  5710-0-0/w STRC(14553) r     1 MDL_TBL2               24102-0-0/w STRC(14553) r     1 MDL_TBL20
 24727-0-0/w STRC(14553) r     1 MDL_TBL21              25554-0-0/w STRC(14553) r     1 MDL_TBL22
 26401-0-0/w STRC(14553) r     1 MDL_TBL23              27226-0-0/w STRC(14553) r     1 MDL_TBL24
 30053-0-0/w STRC(14553) r     1 MDL_TBL25              30700-0-0/w STRC(14553) r     1 MDL_TBL26
 31525-0-0/w STRC(14553) r     1 MDL_TBL27              32352-0-0/w STRC(14553) r     1 MDL_TBL28
 33177-0-0/w STRC(14553) r     1 MDL_TBL29               6535-0-0/w STRC(14553) r     1 MDL_TBL3
 34024-0-0/w STRC(14553) r     1 MDL_TBL30               7362-0-0/w STRC(14553) r     1 MDL_TBL4
 10207-0-0/w STRC(14553) r     1 MDL_TBL5               11034-0-0/w STRC(14553) r     1 MDL_TBL6
 11661-0-0/w STRC(14553) r     1 MDL_TBL7               12506-0-0/w STRC(14553) r     1 MDL_TBL8
 13333-0-0/w STRC(14553) r     1 MDL_TBL9                4173-0-0/w STRC(1233)  r     1 MPC_TBL
  2742-0-0/w STRC(9297)  r     1 MT_TBL                  1303-0-0/w STRC(4689)  r     1 OD_TBL
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:69   
   172-0-0/w STRC(1233)  r     1 OPC_TBL                 3350-0-0/w STRC(14481) r     1 SC_TBL
    41-0-0/w STRC(657)   r     1 TC_TBL                    26-0-0/w STRC(369)   r     1 UC_TBL
  3345-0-0/w STRC(81)    r     1 XX_TBL

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

  2045-0-0/w STRC(828)   r     1 DEVREC                    22-0-0/c CHAR(3)     r     1 FEP#
    22-0-0/c CHAR        r     1 FEP#1(0:2)                23-0-0/c CHAR(6)     r     1 FEP_NAME
     7-0-0/b BIT         r     1 FOUND                      4-0-0/w UBIN        r     1 I
    13-0-0/c CHAR        r     1 IOM#                      14-0-0/c CHAR(4)     r     1 IOM_NAME
     5-0-0/w UBIN        r     1 J                         15-0-0/c CHAR        r     1 MC#
    16-0-0/c CHAR(8)     r     1 MC_NAME                   20-0-0/c CHAR(8)     r     1 MODEL#
     3-0-0/w PTR         r     1 MODEL$                  2074-0-0/w STRC(648)   r     1 MPCREC
     6-0-0/w UBIN        r     1 MPCX                      25-0-0/w STRC(37440) r     1 TH_HEAD

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$TCB$                     0-0-0/w UBIN        r     1 TH_NUM_DEVS
     0-0-0/w UBIN        r     1 TH_NUM_MODS                0-0-0/d STRC(72)    r     1 TH_RECORD
     0-0-0/w STRC(144)   r     1 TH_SYS_DEVS(0:511)

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(2448)  r     1 B$ALT                      0-0-0/w STRC(144)   r     1 B$TCB
     0-0-0/c STRC(14553) r     1 MDL_TBL                    0-0-0/w STRC(828)   r     1 TH$DEV
     0-0-0/w STRC(37440) r     1 TH$HEAD                    0-0-0/w STRC(2952)  r     1 TH$MPC

PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:70   

   Procedure THI$INIT requires 947 words for executable code.
   Procedure THI$INIT requires 1110 words of local(AUTO) storage.

    No errors detected in file THI$INIT.:E05TSI    .
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:71   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:72   
          MINI XREF LISTING

AC_TBL
      1938**DCL      2027--DCLINIT
AC_TBL.DEVNM
      1940**DCL      2522<<ASSIGN
AC_TBL.NUMACS
      1939**DCL      2451<<ASSIGN
AP_TBL
      1953**DCL      2036--DCLINIT
AP_TBL.DEVNM
      1955**DCL      2614<<ASSIGN
AP_TBL.NUMAPS
      1954**DCL      2463<<ASSIGN
B$ALT.CODE
      2431**DCL      2431--REDEF    2432--REDEF    2432--REDEF
B$ALT.ERR.CODE
      2433**DCL      2444>>IF
B$ALT.ERR.ERR#
      2433**DCL      2433--REDEF
B$ALT.EVID
      2432**DCL      2432--REDEF    2432--REDEF
B$TCB.ALT$
      2427**DCL      2444>>IF
B$TCB$
      1884**DCL      2444>>IF
CP_TBL
      1973**DCL      2032--DCLINIT
CP_TBL.DEVNM
      1975**DCL      2578<<ASSIGN
CP_TBL.NUMCPS
      1974**DCL      2459<<ASSIGN
CR_TBL
      1968**DCL      2031--DCLINIT
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:73   
CR_TBL.DEVNM
      1970**DCL      2569<<ASSIGN
CR_TBL.NUMCRS
      1969**DCL      2458<<ASSIGN
DC_TBL
      1933**DCL      2026--DCLINIT
DC_TBL.DEVNM
      1935**DCL      2511<<ASSIGN
DC_TBL.NUMDCS
      1934**DCL      2450<<ASSIGN
DEVREC
      2364**DCL      2661<<ASSIGN
DEVREC.MODEL
      2365**DCL      2662>>ASSIGN   2663>>ASSIGN
DP_TBL
      1978**DCL      2033--DCLINIT
DP_TBL.DEVNM
      1980**DCL      2587<<ASSIGN
DP_TBL.NUMDPS
      1979**DCL      2460<<ASSIGN
ENDLOOP
      2685**LABEL    2640--CALLALT  2658--GOTO
FEP#
      1898**DCL      1899--REDEF    2544<<ASSIGN   2545<<CALLBLT  2550>>CALLBLT
FEP#1
      1899**DCL      2546>>IF       2546>>IF       2547>>CALLBLT  2548>>IF       2549>>CALLBLT  2549>>CALLBLT
FEP_NAME
      1900**DCL      2547<<CALLBLT  2549<<CALLBLT  2550<<CALLBLT  2551>>ASSIGN   2553>>ASSIGN
FEP_TBL
      1948**DCL      2029--DCLINIT
FEP_TBL.DEVNM
      1950**DCL      2551<<ASSIGN
FEP_TBL.NUMFEPS
      1949**DCL      2456<<ASSIGN
FOUND
      1889**DCL      2639<<ASSIGN   2672<<ASSIGN   2675>>IF
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:74   
I
      1886**DCL      2469<<DOINDEX  2470>>CALLBLT  2472>>ASSIGN   2477<<DOINDEX  2478>>CALLBLT  2480>>ASSIGN
      2488<<DOINDEX  2489>>ASSIGN   2491>>ASSIGN   2493>>ASSIGN   2499<<DOINDEX  2500>>ASSIGN   2502>>ASSIGN
      2504>>ASSIGN   2510<<DOINDEX  2511>>ASSIGN   2513>>ASSIGN   2515>>ASSIGN   2521<<DOINDEX  2522>>ASSIGN
      2524>>ASSIGN   2526>>ASSIGN   2532<<DOINDEX  2533>>ASSIGN   2535>>ASSIGN   2537>>ASSIGN   2543<<DOINDEX
      2545>>CALLBLT  2559<<DOINDEX  2560>>ASSIGN   2562>>ASSIGN   2568<<DOINDEX  2569>>ASSIGN   2571>>ASSIGN
      2577<<DOINDEX  2578>>ASSIGN   2580>>ASSIGN   2586<<DOINDEX  2587>>ASSIGN   2589>>ASSIGN   2595<<DOINDEX
      2596>>ASSIGN   2598>>ASSIGN   2604<<DOINDEX  2605>>ASSIGN   2607>>ASSIGN   2613<<DOINDEX  2614>>ASSIGN
      2616>>ASSIGN   2622<<DOINDEX  2623>>ASSIGN   2625>>ASSIGN   2630<<DOINDEX  2631>>ASSIGN   2633>>ASSIGN
      2638<<DOINDEX  2640>>CALL     2641>>IF       2641>>IF       2641>>IF       2641>>IF       2641>>IF
      2652>>IF       2655>>IF       2655>>IF       2655>>IF       2663>>ASSIGN   2670>>ASSIGN   2682>>ASSIGN
IOM#
      1893**DCL      2478<<CALLBLT  2479>>CALLBLT
IOM_NAME
      1894**DCL      2479<<CALLBLT  2480>>ASSIGN   2481>>ASSIGN
IOM_TBL
      1918**DCL      2022--DCLINIT
IOM_TBL.DEVNM
      1920**DCL      2480<<ASSIGN
IOM_TBL.NUMIOMS
      1919**DCL      2447<<ASSIGN   2477>>DOINDEX
J
      1887**DCL      2486<<ASSIGN   2489>>ASSIGN   2490<<ASSIGN   2490>>ASSIGN   2498<<ASSIGN   2500>>ASSIGN
      2501<<ASSIGN   2501>>ASSIGN   2509<<ASSIGN   2511>>ASSIGN   2512<<ASSIGN   2512>>ASSIGN   2520<<ASSIGN
      2522>>ASSIGN   2523<<ASSIGN   2523>>ASSIGN   2531<<ASSIGN   2533>>ASSIGN   2534<<ASSIGN   2534>>ASSIGN
      2542<<ASSIGN   2551>>ASSIGN   2552<<ASSIGN   2552>>ASSIGN   2558<<ASSIGN   2560>>ASSIGN   2561<<ASSIGN
      2561>>ASSIGN   2567<<ASSIGN   2569>>ASSIGN   2570<<ASSIGN   2570>>ASSIGN   2576<<ASSIGN   2578>>ASSIGN
      2579<<ASSIGN   2579>>ASSIGN   2585<<ASSIGN   2587>>ASSIGN   2588<<ASSIGN   2588>>ASSIGN   2594<<ASSIGN
      2596>>ASSIGN   2597<<ASSIGN   2597>>ASSIGN   2603<<ASSIGN   2605>>ASSIGN   2606<<ASSIGN   2606>>ASSIGN
      2612<<ASSIGN   2614>>ASSIGN   2615<<ASSIGN   2615>>ASSIGN   2621<<ASSIGN   2623>>ASSIGN   2624<<ASSIGN
      2624>>ASSIGN   2629<<ASSIGN   2631>>ASSIGN   2632<<ASSIGN   2632>>ASSIGN   2665<<DOINDEX  2666>>ASSIGN
LP_TBL
      1963**DCL      2030--DCLINIT
LP_TBL.DEVNM
      1965**DCL      2560<<ASSIGN
LP_TBL.NUMLPS
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:75   
      1964**DCL      2457<<ASSIGN
MC#
      1895**DCL      2470<<CALLBLT  2471>>CALLBLT
MC_NAME
      1896**DCL      2471<<CALLBLT  2472>>ASSIGN   2473>>ASSIGN
MC_TBL
      1913**DCL      2023--DCLINIT
MC_TBL.DEVNM
      1915**DCL      2472<<ASSIGN
MC_TBL.NUMIOMS
      1914**DCL      2466<<ASSIGN   2469>>DOINDEX
MDL_TBL.DEVNM
      2268**DCL      2670<<ASSIGN   2682<<ASSIGN
MDL_TBL.MOD#
      2266**DCL      2667>>IF       2681<<ASSIGN
MDL_TBL.NUMDEVS
      2267**DCL      2670>>ASSIGN   2671<<ASSIGN   2671>>ASSIGN   2680<<ASSIGN
MDL_TBL0
      2047**DCL      2234--DCLINIT
MDL_TBL1
      2053**DCL      2235--DCLINIT
MDL_TBL10
      2107**DCL      2244--DCLINIT
MDL_TBL11
      2113**DCL      2245--DCLINIT
MDL_TBL12
      2119**DCL      2246--DCLINIT
MDL_TBL13
      2125**DCL      2247--DCLINIT
MDL_TBL14
      2131**DCL      2248--DCLINIT
MDL_TBL15
      2137**DCL      2249--DCLINIT
MDL_TBL16
      2143**DCL      2250--DCLINIT
MDL_TBL17
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:76   
      2149**DCL      2251--DCLINIT
MDL_TBL18
      2155**DCL      2252--DCLINIT
MDL_TBL19
      2161**DCL      2253--DCLINIT
MDL_TBL2
      2059**DCL      2236--DCLINIT
MDL_TBL20
      2167**DCL      2254--DCLINIT
MDL_TBL21
      2173**DCL      2255--DCLINIT
MDL_TBL22
      2179**DCL      2256--DCLINIT
MDL_TBL23
      2185**DCL      2257--DCLINIT
MDL_TBL24
      2191**DCL      2258--DCLINIT
MDL_TBL25
      2197**DCL      2259--DCLINIT
MDL_TBL26
      2203**DCL      2260--DCLINIT
MDL_TBL27
      2209**DCL      2261--DCLINIT
MDL_TBL28
      2215**DCL      2262--DCLINIT
MDL_TBL29
      2221**DCL      2263--DCLINIT
MDL_TBL3
      2065**DCL      2237--DCLINIT
MDL_TBL30
      2227**DCL      2264--DCLINIT
MDL_TBL4
      2071**DCL      2238--DCLINIT
MDL_TBL5
      2077**DCL      2239--DCLINIT
MDL_TBL6
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:77   
      2083**DCL      2240--DCLINIT
MDL_TBL7
      2089**DCL      2241--DCLINIT
MDL_TBL8
      2095**DCL      2242--DCLINIT
MDL_TBL9
      2101**DCL      2243--DCLINIT
MODEL#
      1897**DCL      2649<<ASSIGN   2653<<ASSIGN   2662<<ASSIGN   2667>>IF       2681>>ASSIGN
MODEL$
      1885**DCL      2265--IMP-PTR  2666<<ASSIGN   2667>>IF       2670>>ASSIGN   2670>>ASSIGN   2671>>ASSIGN
      2671>>ASSIGN   2679<<ASSIGN   2680>>ASSIGN   2681>>ASSIGN   2682>>ASSIGN
MODEL_PTR$
      2234**DCL      2666>>ASSIGN   2679>>ASSIGN
MPCREC
      2406**DCL      2648<<ASSIGN
MPCREC.MODEL
      2409**DCL      2649>>ASSIGN
MPCX
      1888**DCL      2487<<ASSIGN   2491>>ASSIGN   2492<<ASSIGN   2492>>ASSIGN   2502>>ASSIGN   2503<<ASSIGN
      2503>>ASSIGN   2513>>ASSIGN   2514<<ASSIGN   2514>>ASSIGN   2524>>ASSIGN   2525<<ASSIGN   2525>>ASSIGN
      2535>>ASSIGN   2536<<ASSIGN   2536>>ASSIGN
MPC_TBL
      1998**DCL      2039--DCLINIT
MPC_TBL.DEVNM
      2000**DCL      2491<<ASSIGN   2502<<ASSIGN   2513<<ASSIGN   2524<<ASSIGN   2535<<ASSIGN
MPC_TBL.NUMMPCS
      1999**DCL      2453<<ASSIGN
MT_TBL
      1983**DCL      2034--DCLINIT
MT_TBL.DEVNM
      1985**DCL      2596<<ASSIGN
MT_TBL.NUMMTS
      1984**DCL      2461<<ASSIGN
NO_HEAD
      2443**LABEL    2439--CALLALT
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:78   
OD_TBL
      1958**DCL      2037--DCLINIT
OD_TBL.DEVNM
      1960**DCL      2623<<ASSIGN
OD_TBL.NUMODS
      1959**DCL      2464<<ASSIGN
OPC_TBL
      1943**DCL      2028--DCLINIT
OPC_TBL.DEVNM
      1945**DCL      2533<<ASSIGN
OPC_TBL.NUMOPCS
      1944**DCL      2452<<ASSIGN
SC_TBL
      1993**DCL      2038--DCLINIT
SC_TBL.DEVNM
      1995**DCL      2631<<ASSIGN
SC_TBL.NUMSCS
      1994**DCL      2465<<ASSIGN
TC_TBL
      1928**DCL      2025--DCLINIT
TC_TBL.DEVNM
      1930**DCL      2500<<ASSIGN
TC_TBL.NUMTCS
      1929**DCL      2449<<ASSIGN
TH$DEV
      2343**DCL      2661>>ASSIGN
TH$HEAD
      2307**DCL      2440>>ASSIGN
TH$MPC
      2385**DCL      2648>>ASSIGN
THG$CLOSE
      1878**DCL-ENT  2686--CALL
THG$GETREC
      1877**DCL-ENT  2439--CALL     2640--CALL
THM$ERRMSG
      1876**DCL-ENT  2445--CALL
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:79   
TH_CONSTRAINTS.E_BY_B
      1807**DCL      1807--REDEF
TH_CONSTRAINTS.M_BY_B
      1806**DCL      1806--REDEF
TH_CONSTRAINTS.TYPES
      1804**DCL      1804--REDEF
TH_DEFAULT.E_BY_B
      1815**DCL      1815--REDEF
TH_DEFAULT.M_BY_B
      1814**DCL      1814--REDEF
TH_DEFAULT.TYPES
      1812**DCL      1812--REDEF
TH_HEAD
      2271**DCL      2440<<ASSIGN   2443<<ASSIGN
TH_HEAD.APMPC_INDX
      2280**DCL      2521>>DOINDEX  2521>>DOINDEX
TH_HEAD.AP_INDX
      2300**DCL      2613>>DOINDEX  2613>>DOINDEX
TH_HEAD.CONSOLE_INDX
      2286**DCL      2630>>DOINDEX  2630>>DOINDEX
TH_HEAD.CP_INDX
      2292**DCL      2577>>DOINDEX  2577>>DOINDEX
TH_HEAD.CR_INDX
      2290**DCL      2568>>DOINDEX  2568>>DOINDEX
TH_HEAD.DEVNAME
      2304**DCL      2489>>ASSIGN   2491>>ASSIGN   2493>>ASSIGN   2500>>ASSIGN   2502>>ASSIGN   2504>>ASSIGN
      2511>>ASSIGN   2513>>ASSIGN   2515>>ASSIGN   2522>>ASSIGN   2524>>ASSIGN   2526>>ASSIGN   2533>>ASSIGN
      2535>>ASSIGN   2537>>ASSIGN   2560>>ASSIGN   2562>>ASSIGN   2569>>ASSIGN   2571>>ASSIGN   2578>>ASSIGN
      2580>>ASSIGN   2587>>ASSIGN   2589>>ASSIGN   2596>>ASSIGN   2598>>ASSIGN   2605>>ASSIGN   2607>>ASSIGN
      2614>>ASSIGN   2616>>ASSIGN   2623>>ASSIGN   2625>>ASSIGN   2631>>ASSIGN   2633>>ASSIGN
TH_HEAD.DISKMPC_INDX
      2278**DCL      2510>>DOINDEX  2510>>DOINDEX
TH_HEAD.DP_INDX
      2294**DCL      2586>>DOINDEX  2586>>DOINDEX
TH_HEAD.LP_INDX
      2288**DCL      2559>>DOINDEX  2559>>DOINDEX
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:80   
TH_HEAD.MT_INDX
      2296**DCL      2595>>DOINDEX  2595>>DOINDEX
TH_HEAD.NUMAPMPCS
      2281**DCL      2451>>ASSIGN   2453>>ASSIGN   2521>>DOINDEX
TH_HEAD.NUMAPS
      2301**DCL      2463>>ASSIGN   2613>>DOINDEX
TH_HEAD.NUMCONSOLES
      2287**DCL      2465>>ASSIGN   2630>>DOINDEX
TH_HEAD.NUMCPS
      2293**DCL      2459>>ASSIGN   2577>>DOINDEX
TH_HEAD.NUMCRS
      2291**DCL      2458>>ASSIGN   2568>>DOINDEX
TH_HEAD.NUMDISKMPCS
      2279**DCL      2450>>ASSIGN   2453>>ASSIGN   2510>>DOINDEX
TH_HEAD.NUMDPS
      2295**DCL      2460>>ASSIGN   2586>>DOINDEX
TH_HEAD.NUMFEPS
      2285**DCL      2456>>ASSIGN
TH_HEAD.NUMIOMS
      2273**DCL      2447>>ASSIGN
TH_HEAD.NUMLPS
      2289**DCL      2457>>ASSIGN   2559>>DOINDEX
TH_HEAD.NUMMTS
      2297**DCL      2461>>ASSIGN   2595>>DOINDEX
TH_HEAD.NUMODS
      2303**DCL      2464>>ASSIGN   2622>>DOINDEX
TH_HEAD.NUMOPCS
      2283**DCL      2452>>ASSIGN   2453>>ASSIGN   2532>>DOINDEX
TH_HEAD.NUMTAPEMPCS
      2277**DCL      2449>>ASSIGN   2453>>ASSIGN   2499>>DOINDEX
TH_HEAD.NUMUNITMPCS
      2275**DCL      2448>>ASSIGN   2453>>ASSIGN   2488>>DOINDEX
TH_HEAD.NUMXXS
      2299**DCL      2462>>ASSIGN   2604>>DOINDEX
TH_HEAD.OD_INDX
      2302**DCL      2622>>DOINDEX  2622>>DOINDEX
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:81   
TH_HEAD.OPC_INDX
      2282**DCL      2532>>DOINDEX  2532>>DOINDEX
TH_HEAD.TAPEMPC_INDX
      2276**DCL      2499>>DOINDEX  2499>>DOINDEX
TH_HEAD.UNITMPC_INDX
      2274**DCL      2488>>DOINDEX  2488>>DOINDEX
TH_HEAD.XX_INDX
      2298**DCL      2604>>DOINDEX  2604>>DOINDEX
TH_NUM_DEVS
      1831**DCL      2438<<ASSIGN   2473>>ASSIGN   2474<<ASSIGN   2474>>ASSIGN   2481>>ASSIGN   2482<<ASSIGN
      2482>>ASSIGN   2493>>ASSIGN   2494<<ASSIGN   2494>>ASSIGN   2504>>ASSIGN   2505<<ASSIGN   2505>>ASSIGN
      2515>>ASSIGN   2516<<ASSIGN   2516>>ASSIGN   2526>>ASSIGN   2527<<ASSIGN   2527>>ASSIGN   2537>>ASSIGN
      2538<<ASSIGN   2538>>ASSIGN   2553>>ASSIGN   2554<<ASSIGN   2554>>ASSIGN   2562>>ASSIGN   2563<<ASSIGN
      2563>>ASSIGN   2571>>ASSIGN   2572<<ASSIGN   2572>>ASSIGN   2580>>ASSIGN   2581<<ASSIGN   2581>>ASSIGN
      2589>>ASSIGN   2590<<ASSIGN   2590>>ASSIGN   2598>>ASSIGN   2599<<ASSIGN   2599>>ASSIGN   2607>>ASSIGN
      2608<<ASSIGN   2608>>ASSIGN   2616>>ASSIGN   2617<<ASSIGN   2617>>ASSIGN   2625>>ASSIGN   2626<<ASSIGN
      2626>>ASSIGN   2633>>ASSIGN   2634<<ASSIGN   2634>>ASSIGN   2638>>DOINDEX
TH_NUM_MODS
      1830**DCL      2637<<ASSIGN   2665>>DOINDEX  2678<<ASSIGN   2678>>ASSIGN   2679>>ASSIGN
TH_RECORD.PTR$
      1832**DCL      2440>>ASSIGN   2648>>ASSIGN   2661>>ASSIGN
TH_SAVE.E_BY_B
      1823**DCL      1823--REDEF
TH_SAVE.M_BY_B
      1821**DCL      1821--REDEF
TH_SAVE.TYPES
      1819**DCL      1820--REDEF
TH_SYS_DEVS.DEVN
      1830**DCL      2473<<ASSIGN   2481<<ASSIGN   2493<<ASSIGN   2504<<ASSIGN   2515<<ASSIGN   2526<<ASSIGN
      2537<<ASSIGN   2553<<ASSIGN   2562<<ASSIGN   2571<<ASSIGN   2580<<ASSIGN   2589<<ASSIGN   2598<<ASSIGN
      2607<<ASSIGN   2616<<ASSIGN   2625<<ASSIGN   2633<<ASSIGN   2640<>CALL     2641>>IF       2641>>IF
      2641>>IF       2641>>IF       2641>>IF       2652>>IF       2655>>IF       2655>>IF       2655>>IF
      2670>>ASSIGN   2682>>ASSIGN
TH_SYS_DEVS.MODEL
      1830**DCL      2663<<ASSIGN
TH_XSA_BUF_VECTOR
PL6.E3A0      #001=THI$INIT File=THI$INIT.:E05TSI                                WED 07/30/97 06:15 Page:82   
      1839**DCL      1839--REDEF
UC_TBL
      1923**DCL      2024--DCLINIT
UC_TBL.DEVNM
      1925**DCL      2489<<ASSIGN
UC_TBL.NUMUCS
      1924**DCL      2448<<ASSIGN
XX_TBL
      1988**DCL      2035--DCLINIT
XX_TBL.DEVNM
      1990**DCL      2605<<ASSIGN
XX_TBL.NUMXXS
      1989**DCL      2462<<ASSIGN
ZERO
      1901**DCL      2439<>CALL
